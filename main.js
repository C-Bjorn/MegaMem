"use strict";var go=Object.defineProperty;var ho=(n,e,t)=>e in n?go(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var on=(n,e,t)=>(ho(n,typeof e!="symbol"?e+"":e,t),t);const C=require("obsidian"),Me=require("path"),Vt=require("fs"),fo=require("events"),at=require("child_process"),Bt=require("perf_hooks"),mo=require("util");function yo(n){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(n){for(const t in n)if(t!=="default"){const i=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,i.get?i:{enumerable:!0,get:()=>n[t]})}}return e.default=n,Object.freeze(e)}const Nt=yo(Me);class en{constructor(e,t=!1){this.consolidatedLogPath="",this.consolePrefix="MegaMem:",this.plugin=e,this.debugMode=t,this.initializeConsolidatedLog()}initializeConsolidatedLog(){try{const t=this.plugin.app.vault.adapter.basePath,i=Me.join(t,".obsidian","plugins","megamem-mcp"),s=Me.join(i,"logs");Vt.existsSync(s)||Vt.mkdirSync(s,{recursive:!0}),this.consolidatedLogPath=Me.join(s,"consolidated.log"),this.writeToConsolidatedLog(`
`+"=".repeat(80)),this.writeToConsolidatedLog(`NEW SESSION: ${new Date().toISOString()}`),this.writeToConsolidatedLog("=".repeat(80))}catch(e){console.error(`${this.consolePrefix} Failed to initialize consolidated log:`,e)}}writeToFile(e){try{const t=new Date().toISOString();this.writeToConsolidatedLog(`[${t}] ${e}`)}catch(t){console.error(`${this.consolePrefix} Failed to write to log file:`,t)}}writeToConsolidatedLog(e){try{this.consolidatedLogPath&&Vt.appendFileSync(this.consolidatedLogPath,e+`
`)}catch{}}formatMessage(e,t,i){let s=`[${e}] ${t}`;return i!==void 0&&(i instanceof Error?s+=`
  Error: ${i.message}
  Stack: ${i.stack}`:typeof i=="object"?s+=`
  Data: ${JSON.stringify(i,null,2)}`:s+=`
`).filter(s=>s.trim());for(const s of i){if(e==="stderr"&&this.shouldFilterErrorLine(s))continue;const r=s.length>1e3?s.substring(0,1e3)+"[TRUNCATED]":s;this.writeToFile(`[PYTHON-${e.toUpperCase()}] ${r}`)}}shouldFilterErrorLine(e){return e.includes("LLM generation failed parsing as JSON")?(this.writeToFile("[PYTHON-STDERR] [ERROR] LLM JSON parsing failed - object dump filtered for log readability"),!1):!!(e.includes("Input messages:")||e.includes('"parts":')||e.includes('"video_metadata":')||e.includes('"thought":')||e.includes('"inline_data":')||e.includes('"file_data":')||e.includes('"function_call":')||e.includes('"function_response":')||e.trim().startsWith("{")&&e.includes('"')||e.trim().startsWith("[")&&e.includes('"'))}logSystemInfo(){try{this.getGraphitiVersion().then(e=>{var t;this.debug("System Information:",{platform:process.platform,nodeVersion:process.version,obsidianVersion:((t=this.plugin.app.vault.config)==null?void 0:t.version)||"unknown",pluginVersion:this.plugin.manifest.version,pluginId:this.plugin.manifest.id,GraphitiVersion:e})}).catch(e=>{var t;this.debug("System Information:",{platform:process.platform,nodeVersion:process.version,obsidianVersion:((t=this.plugin.app.vault.config)==null?void 0:t.version)||"unknown",pluginVersion:this.plugin.manifest.version,pluginId:this.plugin.manifest.id,GraphitiVersion:"detection failed"}),this.error("Failed to detect graphiti version",e)})}catch(e){this.error("Failed to log system info",e)}}async getGraphitiVersion(){return new Promise((e,t)=>{var i,s;try{const{spawn:r}=require("child_process"),a=r("python",["-c",`
import sys
version = None

try:
    import importlib.metadata
    version = importlib.metadata.version('graphiti-core')
except:
    pass

if not version:
    try:
        import pkg_resources
        version = pkg_resources.get_distribution('graphiti-core').version
    except:
        pass

if not version:
    try:
        import graphiti_core
        version = getattr(graphiti_core, '__version__', None)
        if not version:
            version = '0.18.0'
    except:
        pass

if not version:
    version = 'unknown'

# Print only the final version result
print(version)
`],{stdio:["pipe","pipe","pipe"]});let l="",c="";(i=a.stdout)==null||i.on("data",p=>{l+=p.toString()}),(s=a.stderr)==null||s.on("data",p=>{c+=p.toString()}),a.on("close",p=>{p===0&&l.trim()?e(l.trim()):t(new Error(`Python process failed (code ${p}): ${c||"No output"}`))}),a.on("error",p=>{t(new Error(`Failed to start Python process: ${p.message}`))})}catch(r){t(new Error(`Exception in getGraphitiVersion: ${r instanceof Error?r.message:String(r)}`))}})}}function bo(n,e){let t;return(...i)=>{t&&clearTimeout(t),t=setTimeout(()=>n(...i),e)}}const ms=n=>{var e;try{if(n&&n.plugins&&n.plugins.plugins){const t=n.plugins.plugins["megamem-mcp"];if(t){const i=((e=t.settings)==null?void 0:e.enableDebugLogging)||!1;return new en(t,i)}}}catch(t){console.error("Failed to initialize GraphitiLogger in PluginDetectionHelper:",t)}return{info:()=>{},debug:()=>{},warn:()=>{},error:()=>{}}};function ys(n){return`.obsidian/plugins/${n}/data.json`}async function bs(n,e,t){try{if(!await n.exists(e))return t.debug(`[PluginDetection] file not found: ${e}`),null;const s=await n.read(e);try{return JSON.parse(s)}catch(r){return t.warn(`[PluginDetection] Failed to parse JSON at ${e}: ${String(r)}`),null}}catch(i){return t.error(`[PluginDetection] Error reading ${e}: ${String(i)}`),null}}async function vo(n){const e=ms(n),t=n.vault&&n.vault.adapter,i="templater-obsidian",s=ys(i),r={detected:!1,enabled:!1,useTemplateFolders:!1,templatesFolder:null,folderTemplates:{},raw:null};if(!t)return e.warn("[PluginDetection] app.vault.adapter not available when reading Templater config"),r;const o=await bs(t,s,e);if(!o)return r;const a=o,l=a.folder_templates||a.settings&&a.settings.folder_templates||a.folderTemplates||a.folder_templates_array||null,c=f=>f?(f.split("/").pop()||f).replace(/\.md$/i,"").trim().toLowerCase():"",p={};if(l&&typeof l=="object"&&!Array.isArray(l))for(const[f,v]of Object.entries(l)){const w=c(f);w&&(p[w]=typeof v=="string"?v:String(v||""))}if(Array.isArray(l))for(const f of l)try{const v=(f==null?void 0:f.folder)||(f==null?void 0:f.folderPath)||"",w=(f==null?void 0:f.template)||(f==null?void 0:f.templatePath)||"",S=c(w);S&&(p[S]=v)}catch{}const g=a.templates_folder||a.settings&&a.settings.templates_folder||null,h=!!Object.keys(p||{}).length||!!(a.settings&&a.settings.use_templates_folder);let m=!1;try{const f=n.plugins&&n.plugins.plugins;f&&f[i]&&(m=!!f[i].enabled)}catch(f){e.debug(`[PluginDetection] could not determine templater enabled state: ${String(f)}`)}const d={detected:!0,enabled:m,useTemplateFolders:h,templatesFolder:g||null,folderTemplates:p||{},raw:o};return e.debug("[PluginDetection] readTemplaterConfig result",{...d,raw:void 0}),d}async function wo(n){const e=ms(n),t=n.vault&&n.vault.adapter,i="periodic-notes",s=ys(i),r={detected:!1,enabled:!1,raw:null};if(!t)return e.warn("[PluginDetection] app.vault.adapter not available when reading Periodic Notes config"),r;const o=await bs(t,s,e);if(!o)return r;const a=o;function l(d){return d?{enabled:!!d.enabled,folder:d.folder||null,format:d.format||null}:{enabled:!1,folder:null,format:null}}const c=l(a.daily),p=l(a.weekly),g=l(a.monthly);let h=!!(c.enabled||p.enabled||g.enabled);try{const d=n.plugins&&n.plugins.plugins;d&&d[i]&&(h=h||!!d[i].enabled)}catch(d){e.debug(`[PluginDetection] could not determine periodic-notes enabled state: ${String(d)}`)}const m={detected:!0,enabled:h,daily:c,weekly:p,monthly:g,raw:o};return e.debug("[PluginDetection] readPeriodicNotesConfig result",{detected:!0,enabled:h,daily:c,weekly:p,monthly:g}),m}const So=vo,_o=wo;class xo{constructor(e,t,i,s){this.client=null,this.reconnectAttempts=0,this.baseReconnectDelay=1e3,this.maxReconnectDelay=3e4,this.isRetrying=!1,this.lastConnectionStatus=null,this.plugin=e,this.settings=t,this.syncRegistryService=i,this.vaultRegistryService=s,this.logger=new en(e,t.enableDebugLogging)}sleep(e){return new Promise(t=>setTimeout(t,e))}calculateBackoffDelay(e){const t=this.reconnectAttempts;let i=this.baseReconnectDelay;(e==null?void 0:e.code)==="ECONNREFUSED"?i=this.baseReconnectDelay*2:((e==null?void 0:e.code)==="ECONNRESET"||(e==null?void 0:e.code)==="EPIPE")&&(i=this.baseReconnectDelay*.5);const s=i*Math.pow(1.5,Math.min(t,10)),r=Math.random()*.3+.85,o=Math.min(s*r,this.maxReconnectDelay);return Math.floor(o)}async connectWithRetry(){for(this.isRetrying=!0;this.settings.wsEnabled&&!this.client;)try{await this.connectOnce(),this.reconnectAttempts=0,this.isRetrying=!1;return}catch(e){if(this.reconnectAttempts++,(this.reconnectAttempts===1||this.reconnectAttempts%20===0)&&this.logger.error(`[WEBSOCKET] Connection failed (attempt ${this.reconnectAttempts}):`,e),!this.settings.wsEnabled){this.isRetrying=!1;return}const t=this.calculateBackoffDelay(e);await this.sleep(t)}this.isRetrying=!1}async connectOnce(){return new Promise((e,t)=>{try{const i=`ws://localhost:${this.settings.wsPort}?token=${this.settings.wsAuthToken}`;this.client=new WebSocket(i);const s=setTimeout(()=>{this.client&&(this.client.close(),this.client=null),t(new Error("Connection timeout"))},1e4);this.client.onopen=async()=>{if(clearTimeout(s),this.logger.debug("[WEBSOCKET] Connection established successfully"),this.lastConnectionStatus=!0,await new Promise(r=>setTimeout(r,100)),this.vaultRegistryService){this.logger.debug("[WEBSOCKET] Triggering vault auto-registration...");const r=await this.vaultRegistryService.autoRegisterCurrentVault(!1,this);r?this.logger.debug(`[WEBSOCKET] Vault auto-registration successful: ${r.name} (${r.id})`):this.logger.error("[WEBSOCKET] Vault auto-registration failed")}else this.logger.warn("[WEBSOCKET] No vault registry service available");e()},this.client.onmessage=r=>{this.handleMessage(r.data)},this.client.onclose=r=>{if(clearTimeout(s),this.client=null,this.vaultRegistryService&&this.lastConnectionStatus!==!1){const o=this.vaultRegistryService.getActiveVaultId();o&&(this.vaultRegistryService.updateVaultConnection(o,!1),this.lastConnectionStatus=!1)}r.code!==1e3&&this.settings.wsEnabled&&!this.isRetrying&&this.connectWithRetry()},this.client.onerror=r=>{clearTimeout(s),this.client&&(this.client.close(),this.client=null),t(r)}}catch(i){t(i)}})}async start(){if(!this.settings.wsEnabled){this.logger.debug("[WEBSOCKET] Service disabled in settings");return}this.logger.debug("[WEBSOCKET] Service enabled in settings - connecting..."),this.connect()}connect(){this.isRetrying||this.connectWithRetry()}async stop(){this.logger.debug("[WEBSOCKET] Stopping WebSocket service"),this.isRetrying=!1,this.reconnectTimer&&(window.clearTimeout(this.reconnectTimer),this.reconnectTimer=void 0),this.client&&(this.logger.debug("[WEBSOCKET] Closing WebSocket connection"),this.client.close(1e3,"Client shutdown"),this.client=null),this.reconnectAttempts=0}sendMessage(e){if(!this.client){this.logger.error("[WEBSOCKET] ERROR: No WebSocket client instance");return}if(this.client.readyState===WebSocket.OPEN)try{const t=JSON.stringify(e);this.logger.debug(`[WEBSOCKET] Sending message type: ${e.type}`),this.client.send(t)}catch(t){this.logger.error("[WEBSOCKET] ERROR sending message:",t)}else this.logger.warn(`[WEBSOCKET] Cannot send message - WebSocket not connected. ReadyState: ${this.client.readyState}`)}sendVaultRegistration(e){if(!this.client||this.client.readyState!==WebSocket.OPEN)return this.logger.warn("[WEBSOCKET] Cannot send vault registration - WebSocket not connected"),!1;const t={type:"register",payload:{vaultName:e.name,vaultPath:e.path,vaultId:e.id,pluginVersion:this.plugin.manifest.version,authToken:this.settings.wsAuthToken}};return this.logger.debug(`[WEBSOCKET] Sending vault registration to server: ${e.name} (${e.id})`),this.sendMessage(t),!0}isConnected(){return this.client!==null&&this.client.readyState===WebSocket.OPEN}async handleMessage(e){try{const t=JSON.parse(e);switch(this.logger.debug("Received WebSocket message:",t.type),t.type){case"connected":this.handleConnected(t);break;case"registered":this.handleRegistered(t);break;case"file:read":await this.handleFileRead(t);break;case"file:write":await this.handleFileWrite(t);break;case"file:create":await this.handleFileCreate(t);break;case"file:delete":await this.handleFileDelete(t);break;case"file:rename":await this.handleFileRename(t);break;case"file:search":this.handleFileSearch(t);break;case"vault:list":this.handleVaultList(t);break;case"vault:info":this.handleVaultInfo(t);break;case"ping":this.handlePing(t);break;case"folder:explore":await this.handleFolderExplore(t);break;case"folder:create":await this.handleFolderCreate(t);break;case"folder:rename":await this.handleFolderRename(t);break;case"folder:delete":await this.handleFolderDelete(t);break;case"templater:check":await this.handleTemplaterCheck(t);break;case"file:create_with_template":await this.handleCreateWithTemplate(t);break;case"file:frontmatter_edit":await this.handleFrontmatterEdit(t);break;case"file:append":await this.handleAppendEdit(t);break;case"file:range_edit":await this.handleRangeEdit(t);break;case"file:editor_edit":await this.handleEditorEdit(t);break;case"error":this.handleError(t);break;default:this.handleUnknownMessage(t)}}catch(t){this.logger.error("Error handling WebSocket message:",t),this.sendErrorResponse("error","Invalid message format")}}async handleFileRead(e){this.logger.debug("Handling file:read request",{path:e.payload.path});try{const t=e.payload;if(!(t!=null&&t.path)){this.sendErrorResponse("file:read:response","Missing file path parameter",e.id);return}const i=this.plugin.app.vault.getAbstractFileByPath(t.path);if(!i||!(i instanceof C.TFile)){this.sendErrorResponse("file:read:response","File not found",e.id);return}const s=await this.plugin.app.vault.read(i),r={id:e.id,type:"file:read:response",success:!0,timestamp:new Date().toISOString(),payload:{content:s,path:t.path,metadata:{size:s.length,lastModified:new Date().toISOString()}}};this.sendMessage(r)}catch{this.sendErrorResponse("file:read:response","Failed to read file",e.id)}}async handleFileWrite(e){this.logger.debug("Handling file:write request",{path:e.payload.path});try{const t=e.payload;if(!(t!=null&&t.path)||t.content===void 0){this.sendErrorResponse("file:write:response","Missing file path or content parameter",e.id);return}const i=this.plugin.app.vault.getAbstractFileByPath(t.path);if(!i||!(i instanceof C.TFile)){this.sendErrorResponse("file:write:response","File not found",e.id);return}await this.plugin.app.vault.modify(i,t.content);const s={id:e.id,type:"file:write:response",success:!0,timestamp:new Date().toISOString(),payload:{path:t.path,message:"File successfully written"}};this.sendMessage(s)}catch{this.sendErrorResponse("file:write:response","Failed to write file",e.id)}}async handleFileCreate(e){this.logger.debug("Handling file:create request",{path:e.payload.path});try{const t=e.payload;if(!(t!=null&&t.path)||t.content===void 0){this.sendErrorResponse("file:create:response","Missing file path or content parameter",e.id);return}await this.plugin.app.vault.create(t.path,t.content);const i={id:e.id,type:"file:create:response",success:!0,timestamp:new Date().toISOString(),payload:{path:t.path,created:!0,message:"File successfully created"}};this.sendMessage(i)}catch{this.sendErrorResponse("file:create:response","Failed to create file",e.id)}}async handleFileDelete(e){this.logger.debug("Handling file:delete request",{path:e.payload.path});try{const t=e.payload;if(!(t!=null&&t.path)){this.sendErrorResponse("file:delete:response","Missing file path parameter",e.id);return}const i=this.plugin.app.vault.getAbstractFileByPath(t.path);if(!i){this.sendErrorResponse("file:delete:response","File not found",e.id);return}await this.plugin.app.vault.delete(i,!1);const s={id:e.id,type:"file:delete:response",success:!0,timestamp:new Date().toISOString(),payload:{path:t.path,message:"File successfully deleted"}};this.sendMessage(s)}catch{this.sendErrorResponse("file:delete:response","Failed to delete file",e.id)}}async handleFileRename(e){this.logger.debug("Handling file:rename request",{oldPath:e.payload.path,newPath:e.payload.newPath});try{const t=e.payload;if(!(t!=null&&t.path)||!(t!=null&&t.newPath)){this.sendErrorResponse("file:rename:response","Missing file path or newPath parameter",e.id);return}const i=this.plugin.app.vault.getAbstractFileByPath(t.path);if(!i){this.sendErrorResponse("file:rename:response","File not found",e.id);return}await this.plugin.app.fileManager.renameFile(i,t.newPath);const s={id:e.id,type:"file:rename:response",success:!0,timestamp:new Date().toISOString(),payload:{oldPath:t.path,newPath:t.newPath,message:"File successfully renamed"}};this.sendMessage(s)}catch{this.sendErrorResponse("file:rename:response","Failed to rename file",e.id)}}async handleFileSearch(e){var t;this.logger.debug("[WEBSOCKET] Handling file:search request",{query:(t=e.payload)==null?void 0:t.query});try{const i=e.payload||{},s=(i.query||"").toString();if(!s){this.sendErrorResponse("file:search:response","Missing search query parameter",e.id);return}const r=(i.search_mode||i.searchMode||"both").toString().toLowerCase(),o=Number(i.max_results??i.maxResults??100),a=i.include_context!==void 0?!!i.include_context:i.includeContext!==void 0?!!i.includeContext:!0,l=Number(i.contextRadius??50),p=new Set(["filename","content","both"]).has(r)?r:"both";this.logger.debug("[WEBSOCKET] Search parameters",{query:s,mode:p,maxResults:o,includeContext:a});const g=[],h=this.plugin.app.vault.getMarkdownFiles();if(p==="filename"||p==="both"){const d=s.toLowerCase(),f=h.filter(v=>v.path.toLowerCase().includes(d)||v.basename.toLowerCase().includes(d));for(const v of f)if(g.push({path:v.path,name:v.name,basename:v.basename,extension:v.extension,matchType:"filename",score:100}),g.length>=o&&p==="filename")break}if((p==="content"||p==="both")&&Math.max(0,o-g.length)>0){let f=null;try{f=window.prepareSimpleSearch?window.prepareSimpleSearch(s):null}catch{f=null}const v=new Set(g.map(w=>w.path));for(const w of h)if(!v.has(w.path))try{const S=typeof this.plugin.app.vault.cachedRead=="function"?await this.plugin.app.vault.cachedRead(w):await this.plugin.app.vault.read(w);let x=!1,E=0,D;if(f)try{const M=f(S);M&&M.score>0&&(x=!0,E=Number(M.score)||1,M.matches&&(D=Array.isArray(M.matches)?M.matches:void 0))}catch(M){this.logger.warn("[WEBSOCKET] prepareSimpleSearch failed, falling back",{file:w.path,error:M})}if(x||S&&S.toLowerCase().includes(s.toLowerCase())&&(x=!0,E=10),x){const M={path:w.path,name:w.name,basename:w.basename,extension:w.extension,matchType:"content",score:E};if(a)try{const N=this.extractContextFromMatches(S,D||this._findAllMatches(S,s),s,l);N&&N.length&&(M.matches=N)}catch(N){this.logger.warn("[WEBSOCKET] Context extraction failed",{file:w.path,error:N})}if(g.push(M),v.add(w.path),g.length>=o)break}}catch(S){this.logger.warn("[WEBSOCKET] Failed to search content of file",{path:w.path,error:S})}}g.sort((d,f)=>{const v=Number(d.score||0),w=Number(f.score||0);return w!==v?w-v:d.matchType==="filename"&&f.matchType!=="filename"?-1:f.matchType==="filename"&&d.matchType!=="filename"?1:d.path.localeCompare(f.path)});const m={id:e.id,type:"file:search:response",success:!0,timestamp:new Date().toISOString(),payload:{results:g.slice(0,o),totalResults:g.length,query:s,searchMode:p}};this.sendMessage(m)}catch(i){this.logger.error("[WEBSOCKET] file:search handler error",{error:i}),this.sendErrorResponse("file:search:response","Failed to search files",e.id)}}_findAllMatches(e,t){const i=[];if(!e||!t)return i;const s=e.toLowerCase(),r=t.toLowerCase();let o=0;for(;;){const a=s.indexOf(r,o);if(a===-1)break;i.push([a,a+r.length]),o=a+r.length}return i}extractContextFromMatches(e,t,i,s=50){const r=(e||"").split(`
`),o=[],a=new Set;for(const[l,c]of t){let p=0,g=0;for(let x=0;x<r.length;x++){const E=r[x].length+1;if(p+E>l){g=x;break}p+=E}if(a.has(g))continue;a.add(g);const h=r[g]||"",m=p,d=Math.max(0,l-m),f=Math.min(h.length,c-m),v=Math.max(0,d-s),w=Math.min(h.length,f+s);let S=h.substring(v,w);if(v>0&&(S="..."+S),w<h.length&&(S=S+"..."),o.push({line:g+1,text:S.trim(),highlight:h.substring(d,f)}),o.length>=5)break}return o}handleVaultList(e){var t;this.logger.debug("Handling vault:list request");try{const i=((t=this.vaultRegistryService)==null?void 0:t.getAllVaults())||[],s={id:e.id,type:"vault:list:response",success:!0,timestamp:new Date().toISOString(),payload:{vaults:i,totalVaults:i.length}};this.sendMessage(s)}catch{this.sendErrorResponse("vault:list:response","Failed to list vaults",e.id)}}handleVaultInfo(e){var t,i;this.logger.debug("Handling vault:info request",{vaultId:e.payload.vaultId});try{const r={id:((t=e.payload)==null?void 0:t.vaultId)||((i=this.vaultRegistryService)==null?void 0:i.getActiveVaultId())||this.plugin.app.vault.getName(),name:this.plugin.app.vault.getName(),path:this.plugin.app.vault.adapter.basePath||"",files:this.plugin.app.vault.getMarkdownFiles().length},o={id:e.id,type:"vault:info:response",success:!0,timestamp:new Date().toISOString(),payload:r};this.sendMessage(o)}catch{this.sendErrorResponse("vault:info:response","Failed to get vault info",e.id)}}handlePing(e){this.logger.debug("Handling ping request");const t={id:e.id,type:"pong",success:!0,timestamp:new Date().toISOString(),payload:{vaultName:this.plugin.app.vault.getName(),version:this.plugin.manifest.version,timestamp:new Date().toISOString()}};this.sendMessage(t)}handleError(e){var r,o;if(!e||!e.payload){this.logger.error("Received malformed error message from server",e);return}this.logger.error("Received error message from server",{error:e.payload.error});const t=e.error||((r=e.payload)==null?void 0:r.error)||"Unknown error from server",i=e.errorCode||((o=e.payload)==null?void 0:o.errorCode)||"UNKNOWN_ERROR",s=e.id||"no-id";this.logger.error(`WebSocket server error (ID: ${s}, Code: ${i}): ${t}`,e)}handleUnknownMessage(e){this.logger.warn("Received unknown message type:",e.type)}async handleFolderExplore(e){try{this.logger.debug("Handling folder:explore request",{payload:e.payload});const t=e.payload||{},i=this.plugin;if(i&&typeof i.exploreVaultFoldersHandler=="function"){const a=await i.exploreVaultFoldersHandler({query:t.query,path:t.path,depth:typeof t.depth=="number"?t.depth:-1,format:t.format||"smart"}),l={id:e.id,type:"folder:explore:response",success:!0,timestamp:new Date().toISOString(),payload:a};this.sendMessage(l);return}const s=this.plugin.app.vault.getRoot();if(!s){this.sendErrorResponse("folder:explore:response","Vault root not available",e.id);return}const r=(s.children||[]).filter(a=>a&&a.constructor&&a.constructor.name==="TFolder").map(a=>({path:a.path,name:a.name})),o={id:e.id,type:"folder:explore:response",success:!0,timestamp:new Date().toISOString(),payload:{results:r,totalFolders:r.length,searchQuery:t.query||null,format:t.format||"flat"}};this.sendMessage(o)}catch(t){this.logger.error("[WEBSOCKET] folder:explore handler error",{error:t}),this.sendErrorResponse("folder:explore:response","Failed to explore folders",e.id)}}async handleFolderCreate(e){this.logger.debug("[WEBSOCKET] Handling folder:create request",{payload:e.payload});try{const t=e.payload||{},i=t.folderPath||t.path;if(!i||typeof i!="string"){this.sendErrorResponse("folder:create:response","Missing or invalid folder path parameter",e.id);return}const s=C.normalizePath(i.trim());if(this.plugin.app.vault.getAbstractFileByPath(s)){this.sendErrorResponse("folder:create:response","Folder already exists",e.id);return}await this.plugin.app.vault.createFolder(s);const o={id:e.id,type:"folder:create:response",success:!0,timestamp:new Date().toISOString(),payload:{path:s,created:!0,message:"Folder successfully created"}};this.sendMessage(o)}catch(t){this.logger.error("[WEBSOCKET] folder:create handler error",{error:t}),this.sendErrorResponse("folder:create:response","Failed to create folder",e.id)}}async handleFolderRename(e){this.logger.debug("[WEBSOCKET] Handling folder:rename request",{payload:e.payload});try{const t=e.payload||{},i=t.oldPath||t.sourcePath,s=t.newPath||t.targetPath;if(!i||typeof i!="string"){this.sendErrorResponse("folder:rename:response","Missing or invalid oldPath parameter",e.id);return}if(!s||typeof s!="string"){this.sendErrorResponse("folder:rename:response","Missing or invalid newPath parameter",e.id);return}const r=C.normalizePath(i.trim()),o=C.normalizePath(s.trim()),a=this.plugin.app.vault.getAbstractFileByPath(r);if(!a||!(a instanceof C.TFolder)){this.sendErrorResponse("folder:rename:response","Source folder not found",e.id);return}if(this.plugin.app.vault.getAbstractFileByPath(o)){this.sendErrorResponse("folder:rename:response","Target path already exists",e.id);return}await this.plugin.app.fileManager.renameFile(a,o);const c={id:e.id,type:"folder:rename:response",success:!0,timestamp:new Date().toISOString(),payload:{oldPath:r,newPath:o,renamed:!0,message:"Folder successfully renamed/moved"}};this.sendMessage(c)}catch(t){this.logger.error("[WEBSOCKET] folder:rename handler error",{error:t}),this.sendErrorResponse("folder:rename:response","Failed to rename folder",e.id)}}async handleFolderDelete(e){this.logger.debug("[WEBSOCKET] Handling folder:delete request",{payload:e.payload});try{const t=e.payload||{},i=t.folderPath||t.path,s=t.force||!1;if(!i||typeof i!="string"){this.sendErrorResponse("folder:delete:response","Missing or invalid folder path parameter",e.id);return}const r=C.normalizePath(i.trim()),o=this.plugin.app.vault.getAbstractFileByPath(r);if(!o||!(o instanceof C.TFolder)){this.sendErrorResponse("folder:delete:response","Folder not found",e.id);return}if(!s&&o.children&&o.children.length>0){this.sendErrorResponse("folder:delete:response","Folder is not empty. Use force=true to delete non-empty folders",e.id);return}await this.plugin.app.vault.delete(o,s);const a={id:e.id,type:"folder:delete:response",success:!0,timestamp:new Date().toISOString(),payload:{path:r,deleted:!0,message:"Folder successfully deleted"}};this.sendMessage(a)}catch(t){this.logger.error("[WEBSOCKET] folder:delete handler error",{error:t}),this.sendErrorResponse("folder:delete:response","Failed to delete folder",e.id)}}async handleTemplaterCheck(e){var t,i,s,r,o,a,l,c;try{const p=(i=(t=this.plugin.app.plugins)==null?void 0:t.plugins)==null?void 0:i["templater-obsidian"];if(!p)return this.sendMessage({id:e.id,type:"templater:check:response",success:!0,payload:{isInstalled:!1,templates:[],templateMappings:{}}});const g=((s=p.settings)==null?void 0:s.templates_folder)||"";if(!g)return this.sendMessage({id:e.id,type:"templater:check:response",success:!0,payload:{isInstalled:!0,templateFolder:"",templates:[],templateMappings:{}}});const h=C.normalizePath(g),d=this.plugin.app.vault.getMarkdownFiles().filter(T=>T.path.startsWith(h)).map(T=>({path:T.path,name:T.name,basename:T.basename})),f={},v=await So(this.plugin.app),w=await _o(this.plugin.app),S=window.moment,x=S?S():new Date,E=(T,L,A)=>{if(!T)return"";if(!L)return T;const B=A||(S?S():null);try{const U=T.replace(/\/+$/g,""),j=(L||"").split("/").map(X=>X.trim()).filter(Boolean),W=[];if(j.length>1){const X=j.slice(0,j.length-1);for(const K of X){let $=D(K,B);$&&W.push($)}}else{const X=j[0]||L;if(/YYYY/.test(X)){const K=D("YYYY",B);if(K&&W.push(K),/MM/.test(X)){const $=D("MM",B);$&&W.push($)}}}return W.length>0?`${U}/${W.join("/")}`:U}catch(U){return this.logger.warn("Error calculating periodic path",{error:U,baseFolder:T,format:L}),T}},D=(T,L)=>{if(!T)return"";let A=T;if(L&&typeof L.format=="function")try{A=L.format(T)}catch{A=M(T)}else A=M(T);return A=A.replace(/\[.*?\]/g,"").trim(),A=A.replace(/[<>:"|?*]/g,"").trim(),A},M=T=>{const L=new Date,A=L.getFullYear().toString(),B=String(L.getMonth()+1).padStart(2,"0");return T.replace(/YYYY/g,A).replace(/yyyy/g,A).replace(/MM/g,B).replace(/gggg/g,A)},N=((o=(r=this.settings.mcpTools)==null?void 0:r.defaults)==null?void 0:o.inboxFolder)||g||"",P=T=>T?((T||"").toString().split("/").pop()||T).replace(/\.md$/i,"").trim().toLowerCase():"";for(const T of d){const L=T.basename,A=P(L);v.detected&&v.folderTemplates&&v.folderTemplates[A]?f[L]=v.folderTemplates[A]:f[L]=N}if(w.detected&&w.enabled){if((a=w.daily)!=null&&a.enabled&&w.daily.folder){const T=E(w.daily.folder,w.daily.format||"YYYY-MM-DD");f["TPL Daily Note"]=T}if((l=w.weekly)!=null&&l.enabled&&w.weekly.folder){const T=E(w.weekly.folder,w.weekly.format||"YYYY-[W]ww");f["TPL Weekly Note"]=T}if((c=w.monthly)!=null&&c.enabled&&w.monthly.folder){const T=E(w.monthly.folder,w.monthly.format||"YYYY-MM");f["TPL Monthly Note"]=T}}const I={id:e.id,type:"templater:check:response",success:!0,timestamp:new Date().toISOString(),payload:{isInstalled:!0,templateFolder:h,templates:d,templateMappings:f}};this.sendMessage(I)}catch(p){this.logger.error("[WEBSOCKET] templater:check handler error",{error:p}),this.sendErrorResponse("templater:check:response","Failed to check templater",e.id)}}async handleCreateWithTemplate(e){var t,i,s;try{const r=e.payload||{},o=(r.searchTerm||"").toString().trim(),a=(r.fileName||"").toString().trim(),l=(r.targetFolder||"").toString(),c=(r.userContent||"").toString();if(!a){this.sendErrorResponse("file:create_with_template:response","Missing fileName",e.id);return}const p=(i=(t=this.plugin.app.plugins)==null?void 0:t.plugins)==null?void 0:i["templater-obsidian"];if(!p||!((s=p.settings)!=null&&s.templates_folder)){this.sendErrorResponse("file:create_with_template:response","Templater not configured",e.id);return}const g=this.plugin.app.vault.getMarkdownFiles().filter(d=>d.path.startsWith(p.settings.templates_folder));if(g.length===0){this.sendErrorResponse("file:create_with_template:response","No templates found",e.id);return}const h=o.toLowerCase();let m=g.find(d=>d.basename.toLowerCase()===h);if(!m){const d=g.map(f=>f.basename).sort();this.sendMessage({id:e.id,type:"file:create_with_template:response",success:!1,timestamp:new Date().toISOString(),requiresSelection:!0,availableTemplates:d,error:`No exact match for '${o}'. Please specify exact template name from availableTemplates.`,payload:{availableTemplates:d,searchTerm:o}});return}try{const d=p.templater;if(d&&d.create_new_note_from_template){const f=l||"",v=a.replace(/\.md$/,""),w=await d.create_new_note_from_template(m,f,v);if(w){const S=await this.plugin.app.vault.read(w);if(S.trim()===m.path)throw await this.plugin.app.vault.delete(w),new Error("Templater API returned path instead of content");c&&await this.plugin.app.vault.modify(w,S+`

`+c),this.sendMessage({id:e.id,type:"file:create_with_template:response",success:!0,timestamp:new Date().toISOString(),payload:{path:w.path,templateUsed:m.basename,message:"Created file using Templater API"}});return}}throw new Error("Templater API not available")}catch(d){this.logger.warn("[WEBSOCKET] Templater API failed, using fallback",{error:d});const f=await this.plugin.app.vault.read(m),v=a.endsWith(".md")?a:`${a}.md`,w=l?`${l.replace(/\/$/,"")}/${v}`:v;let S=f;c&&(S=S+`

`+c);const x=await this.plugin.app.vault.create(w,S);this.sendMessage({id:e.id,type:"file:create_with_template:response",success:!0,timestamp:new Date().toISOString(),payload:{path:x.path,templateUsed:m.basename,message:"Created file by copying template (Templater syntax not processed)",warning:"Templater commands were not processed"}})}}catch(r){this.logger.error("[WEBSOCKET] file:create_with_template handler error",{error:r}),this.sendErrorResponse("file:create_with_template:response","Failed to create file with template",e.id)}}async handleFrontmatterEdit(e){var t;this.logger.debug("Handling file:frontmatter_edit request",{path:(t=e.payload)==null?void 0:t.path});try{const i=e.payload;if(!(i!=null&&i.path)){this.sendErrorResponse("file:frontmatter_edit:response","Missing file path parameter",e.id);return}const s=this.plugin.app.vault.getAbstractFileByPath(i.path);if(!s||!(s instanceof C.TFile)){this.sendErrorResponse("file:frontmatter_edit:response","File not found",e.id);return}const r=await this.plugin.app.vault.read(s),o=i.frontmatterChanges||{};if(this.logger.debug("[FRONTMATTER] Processing updates:",o),!o||Object.keys(o).length===0){this.sendErrorResponse("file:frontmatter_edit:response","No frontmatter changes provided",e.id);return}let a=r;const l=r.split(`
`);let c=-1,p=-1;for(let f=0;f<l.length;f++)if(l[f].trim()==="---")if(c===-1)c=f;else{p=f;break}let g=[],h=[];c===0&&p>0?(g=l.slice(c+1,p),h=l.slice(p+1)):(g=[],h=l);for(const[f,v]of Object.entries(o)){const w=g.findIndex(E=>{const D=E.indexOf(":");return D>0&&E.substring(0,D).trim()===f});let S;Array.isArray(v)?S=JSON.stringify(v):typeof v=="string"?S=`"${v}"`:S=String(v);const x=`${f}: ${S}`;w>=0?g[w]=x:g.push(x)}a=["---",...g,"---",...h].join(`
`),this.logger.debug(`[FRONTMATTER] Updated content length: ${a.length} (was ${r.length})`),await this.plugin.app.vault.modify(s,a);const d={id:e.id,type:"file:frontmatter_edit:response",success:!0,timestamp:new Date().toISOString(),payload:{path:i.path,message:"Frontmatter updated successfully"}};this.sendMessage(d)}catch{this.sendErrorResponse("file:frontmatter_edit:response","Failed to edit frontmatter",e.id)}}async handleAppendEdit(e){var t;this.logger.debug("Handling file:append request",{path:(t=e.payload)==null?void 0:t.path});try{const i=e.payload;if(!(i!=null&&i.path)||i.appendContent===void 0){this.sendErrorResponse("file:append:response","Missing file path or content parameter",e.id);return}const s=this.plugin.app.vault.getAbstractFileByPath(i.path);if(!s||!(s instanceof C.TFile)){this.sendErrorResponse("file:append:response","File not found",e.id);return}const o=await this.plugin.app.vault.read(s)+`
`+i.appendContent;await this.plugin.app.vault.modify(s,o);const a={id:e.id,type:"file:append:response",success:!0,timestamp:new Date().toISOString(),payload:{path:i.path,message:"Content appended successfully"}};this.sendMessage(a)}catch{this.sendErrorResponse("file:append:response","Failed to append content",e.id)}}async handleRangeEdit(e){var t;this.logger.debug("Handling file:range_edit request",{path:(t=e.payload)==null?void 0:t.path});try{const i=e.payload;if(!(i!=null&&i.path)||i.replacementContent===void 0){this.sendErrorResponse("file:range_edit:response","Missing file path or content parameter",e.id);return}const s=this.plugin.app.vault.getAbstractFileByPath(i.path);if(!s||!(s instanceof C.TFile)){this.sendErrorResponse("file:range_edit:response","File not found",e.id);return}const o=(await this.plugin.app.vault.read(s)).split(`
`),a=Math.max(0,(i.rangeStartLine||1)-1),l=Math.min(o.length,i.rangeEndLine||a+1),c=i.replacementContent.split(`
`);o.splice(a,l-a,...c);const p=o.join(`
`);await this.plugin.app.vault.modify(s,p);const g={id:e.id,type:"file:range_edit:response",success:!0,timestamp:new Date().toISOString(),payload:{path:i.path,message:"Range edited successfully"}};this.sendMessage(g)}catch{this.sendErrorResponse("file:range_edit:response","Failed to edit range",e.id)}}async handleEditorEdit(e){var t,i;this.logger.debug("Handling file:editor_edit request",{path:(t=e.payload)==null?void 0:t.path});try{const s=e.payload;if(!(s!=null&&s.path)){this.sendErrorResponse("file:editor_edit:response","Missing file path parameter",e.id);return}const r=this.plugin.app.vault.getAbstractFileByPath(s.path);if(!r||!(r instanceof C.TFile)){this.sendErrorResponse("file:editor_edit:response","File not found",e.id);return}const o=this.plugin.app.workspace.getActiveViewOfType(C.MarkdownView);let a=!1;if(o&&((i=o.file)==null?void 0:i.path)===s.path){const c=o.editor,p=s.editorMethod||"replace";switch(this.logger.debug(`[EDITOR] Processing editor operation: ${p} with payload:`,s),p){case"replace":s.content!==void 0&&(c.setValue(s.content),a=!0);break;case"append":if(s.content!==void 0){const g=c.lastLine();c.replaceRange(`
`+s.content,{line:g,ch:c.getLine(g).length}),a=!0}break;case"prepend":s.content!==void 0&&(c.replaceRange(s.content+`
`,{line:0,ch:0}),a=!0);break;case"insert":if(s.content!==void 0&&s.line!==void 0){const g=Math.max(0,s.line-1);c.replaceRange(s.content+`
`,{line:g,ch:0}),a=!0}break;case"replace_line":if(s.content!==void 0&&s.line!==void 0){const g=Math.max(0,s.line-1);g<c.lineCount()?(c.setLine(g,s.content),a=!0,this.logger.debug(`[EDITOR] Replaced line ${s.line} with new content`)):this.logger.warn(`[EDITOR] Line ${s.line} does not exist (file has ${c.lineCount()} lines)`)}break;case"replace_selection":s.content!==void 0&&(c.getSelection()?(c.replaceSelection(s.content),a=!0,this.logger.debug("[EDITOR] Replaced selected text with new content")):this.logger.warn("[EDITOR] No text currently selected for replacement"));break;case"insert_at":if(s.content!==void 0&&s.line!==void 0&&s.char!==void 0){const g={line:s.line-1,ch:s.char};c.replaceRange(s.content,g),a=!0,this.logger.debug(`[EDITOR] Inserted content at position ${s.line}:${s.char}`)}break;case"replace_range":if(s.content!==void 0&&s.fromLine!==void 0&&s.fromChar!==void 0&&s.toLine!==void 0&&s.toChar!==void 0){const g={line:s.fromLine-1,ch:s.fromChar},h={line:s.toLine-1,ch:s.toChar};c.replaceRange(s.content,g,h),a=!0,this.logger.debug(`[EDITOR] Replaced range from ${s.fromLine}:${s.fromChar} to ${s.toLine}:${s.toChar}`)}break;case"insert_after_heading":if(s.content!==void 0&&s.heading!==void 0){const g=s.heading,h=c.lineCount();let m=-1;for(let d=0;d<h;d++){const f=c.getLine(d);if(f.startsWith("#")&&f.includes(g)){m=d+1;break}if(f.toLowerCase().includes(g.toLowerCase())){m=d+1;break}}if(m>=0&&m<=h)c.replaceRange(`
`+s.content+`
`,{line:m,ch:0}),a=!0,this.logger.debug(`[EDITOR] Inserted content after heading "${g}" at line ${m}`);else{this.logger.warn(`[EDITOR] Heading "${g}" not found in document`);const d=c.lastLine();c.replaceRange(`

`+s.content,{line:d,ch:c.getLine(d).length}),a=!0,this.logger.debug("[EDITOR] Heading not found, appended content to end instead")}}break}}if(!a){const c=await this.plugin.app.vault.read(r);let p=c;const g=s.editorMethod||"replace";switch(this.logger.debug(`[EDITOR] Fallback to vault API for operation: ${g} with payload:`,s),g){case"replace":s.content!==void 0&&(p=s.content);break;case"append":s.content!==void 0&&(p=c+`
`+s.content);break;case"prepend":s.content!==void 0&&(p=s.content+`
`+c);break;case"insert":if(s.content!==void 0&&s.line!==void 0){const h=c.split(`
`),m=Math.max(0,s.line-1);h.splice(m,0,s.content),p=h.join(`
`)}break;case"insert_after_heading":if(s.content!==void 0&&s.heading!==void 0){const h=c.split(`
`),m=s.heading;let d=-1;for(let f=0;f<h.length;f++){const v=h[f];if(v.startsWith("#")&&v.includes(m)){d=f+1;break}if(v.toLowerCase().includes(m.toLowerCase())){d=f+1;break}}d>=0?(h.splice(d,0,"",s.content),p=h.join(`
`),this.logger.debug(`[EDITOR] Inserted content after heading "${m}" at line ${d}`)):(p=c+`

`+s.content,this.logger.debug(`[EDITOR] Heading "${m}" not found, appended to end instead`))}case"insert_at":if(s.content!==void 0&&s.line!==void 0&&s.char!==void 0){const h=c.split(`
`),m=Math.max(0,s.line-1);if(m<h.length){const d=h[m],f=d.substring(0,s.char),v=d.substring(s.char);h[m]=f+s.content+v,p=h.join(`
`),this.logger.debug(`[EDITOR] Vault API: Inserted content at position ${s.line}:${s.char}`)}else this.logger.warn(`[EDITOR] Line ${s.line} does not exist (file has ${h.length} lines)`)}break;case"replace_range":if(s.content!==void 0&&s.fromLine!==void 0&&s.fromChar!==void 0&&s.toLine!==void 0&&s.toChar!==void 0){const h=c.split(`
`),m=Math.max(0,s.fromLine-1),d=Math.max(0,s.toLine-1);if(m===d){const f=h[m]||"",v=f.substring(0,s.fromChar),w=f.substring(s.toChar);h[m]=v+s.content+w}else{const f=h[m]||"",v=h[d]||"",w=f.substring(0,s.fromChar),S=v.substring(s.toChar),x=s.content.split(`
`);x[0]=w+x[0],x[x.length-1]=x[x.length-1]+S,h.splice(m,d-m+1,...x)}p=h.join(`
`),this.logger.debug(`[EDITOR] Vault API: Replaced range from ${s.fromLine}:${s.fromChar} to ${s.toLine}:${s.toChar}`)}break;case"replace_line":if(s.content!==void 0&&s.line!==void 0){const h=c.split(`
`),m=Math.max(0,s.line-1);m<h.length?(h[m]=s.content,p=h.join(`
`),this.logger.debug(`[EDITOR] Vault API: Replaced line ${s.line} with new content`)):this.logger.warn(`[EDITOR] Line ${s.line} does not exist (file has ${h.length} lines)`)}break;case"replace_selection":s.content!==void 0&&(p=s.content,this.logger.debug("[EDITOR] Vault API: Replace selection fallback - replaced entire content (no active editor)"));break}await this.plugin.app.vault.modify(r,p)}const l={id:e.id,type:"file:editor_edit:response",success:!0,timestamp:new Date().toISOString(),payload:{path:s.path,operation:s.editorMethod||"replace",message:"Editor edit completed successfully"}};this.sendMessage(l)}catch{this.sendErrorResponse("file:editor_edit:response","Failed to perform editor edit",e.id)}}handleConnected(e){}handleRegistered(e){if(this.logger.info("[WEBSOCKET] Successfully registered with server"),this.vaultRegistryService){const t=this.vaultRegistryService.getActiveVaultId();t&&this.vaultRegistryService.updateVaultConnection(t,!0)}}sendErrorResponse(e,t,i){const s={id:i,type:e,success:!1,timestamp:new Date().toISOString(),error:t,errorCode:"OPERATION_FAILED"};this.sendMessage(s)}getStatus(){return this.settings.wsEnabled?this.client&&this.client.readyState===WebSocket.OPEN?`Connected to port ${this.settings.wsPort}`:this.reconnectTimer?`Reconnecting... (attempt ${this.reconnectAttempts})`:"Disconnected":"Disabled"}async restart(){this.logger.debug("[WEBSOCKET] Restarting WebSocket service..."),await this.stop(),this.settings.wsEnabled?(this.logger.debug("[WEBSOCKET] Settings enabled - starting WebSocket service"),await this.start()):this.logger.debug("[WEBSOCKET] Settings disabled - WebSocket service will remain stopped")}updateSettings(e){this.settings=e,this.logger.setDebug(e.enableDebugLogging),this.logger.debug("[WEBSOCKET] Updating service settings")}}class Eo extends C.Events{constructor(e,t,i){super(),this.syncRecords=[],this.isLoaded=!1,this.saveTimeout=null,this.SAVE_DEBOUNCE_MS=300,this.app=e,this.plugin=t,this.logger=i,this.registryPath=C.normalizePath(Me.join(t.manifest.dir||".obsidian/plugins/megamem-mcp","sync.json"))}async load(){if(!await this.app.vault.adapter.exists(this.registryPath)){this.logger.debug("[DEBUG] sync.json does not exist, creating new one"),this.logger.info("[SYNC-REGISTRY] No existing sync registry found, creating new one"),this.syncRecords=[],await this.save(),this.isLoaded=!0;return}try{const t=await this.app.vault.adapter.read(this.registryPath),s=JSON.parse(t);this.syncRecords=s.sync_records||[],this.logger.info(`[SYNC-REGISTRY] Loaded sync registry with ${this.syncRecords.length} records.`),this.isLoaded=!0}catch(t){this.logger.error("[DEBUG] Error loading sync.json:",t),this.logger.error("[SYNC-REGISTRY] CRITICAL ERROR: Registry file is corrupt and cannot be parsed. Loading empty registry in memory without overwriting file.",t),this.syncRecords=[],this.isLoaded=!0}}async save(){return this.saveTimeout&&clearTimeout(this.saveTimeout),new Promise((e,t)=>{this.saveTimeout=setTimeout(async()=>{try{await this.performSave(),e()}catch(i){t(i)}finally{this.saveTimeout=null}},this.SAVE_DEBOUNCE_MS)})}async saveImmediate(){this.saveTimeout&&(clearTimeout(this.saveTimeout),this.saveTimeout=null),await this.performSave()}async performSave(){try{const e={version:"1.0",sync_records:this.syncRecords},t=JSON.stringify(e,null,2);await this.app.vault.adapter.write(this.registryPath,t),this.trigger("changed")}catch(e){const t=e instanceof Error?e.message:String(e);throw this.logger.error("[SYNC-REGISTRY] Failed to save sync registry:",{error:t,path:this.registryPath,timestamp:new Date().toISOString()}),new Error(`Failed to save sync registry: ${t}`)}}getSyncRecord(e,t,i){if(!e||typeof e!="string"){this.logger.warn("[SYNC-REGISTRY] getSyncRecord called without mm_uid",{vaultId:t,context:i});return}return this.syncRecords.find(r=>r.mm_uid===e&&r.vault_id===t)}getSyncRecordByPath(e,t){if(!(!e||typeof e!="string"))return this.syncRecords.find(i=>i.vault_id===t&&i.note_path===e)}async addOrUpdateSyncRecord(e){const{mmUid:t,notePath:i,vaultId:s,syncEntry:r}=e;if(!t||typeof t!="string")throw this.logger.error("[SYNC-REGISTRY] addOrUpdateSyncRecord missing mm_uid",{notePath:i,vaultId:s}),new Error("mm_uid is required to add or update a sync record");if(!this.isValidUUID(t))throw this.logger.error("[SYNC-REGISTRY] addOrUpdateSyncRecord received invalid mm_uid format",{mmUid:t,notePath:i,vaultId:s}),new Error("Invalid mm_uid format - must be a valid UUID");let o=this.getSyncRecord(t,s);if(o){const a=o.syncs.findIndex(l=>l.database_id===r.database_id);a>=0?(o.syncs[a]=r,this.logger.info("[SYNC-REGISTRY] Updated sync entry",{mm_uid:t,vault_id:s,database:r.database_id})):(o.syncs.push(r),this.logger.info("[SYNC-REGISTRY] Added new sync entry",{mm_uid:t,vault_id:s,database:r.database_id})),o.note_modified=new Date().toISOString(),i&&typeof i=="string"&&(o.note_path=i)}else{const a={mm_uid:t,note_path:i||"",vault_id:s,note_modified:new Date().toISOString(),syncs:[r]};this.syncRecords.push(a),this.logger.info("[SYNC-REGISTRY] Created new sync record",{mm_uid:t,vault_id:s})}await this.save()}findNoteByEpisodeUuid(e){for(const t of this.syncRecords)for(const i of t.syncs)if(i.episode_uuid===e)return{record:t,entry:i}}async generateGroupId(e,t){var r;const i=this.plugin.settings;let s=e.replace(/\\/g,"/");try{const o=((r=this.app.vault.adapter)==null?void 0:r.basePath)??"";o&&Me.isAbsolute(e)&&(s=Me.relative(o,e).replace(/\\/g,"/"))}catch{s=e.replace(/\\/g,"/")}if(i.enablePropertyNamespacing){const o=this.app.metadataCache.getCache(s),a=o==null?void 0:o.frontmatter,l=a==null?void 0:a.g_group_id;if(typeof l=="string"&&l.trim().length>0)return l.trim();if(typeof l=="number")return String(l)}if(i.enableFolderNamespacing){const o=this.getCustomGroupId(s,i.folderNamespaceMappings||[]);if(o)return o}return i.namespaceStrategy==="custom"&&i.defaultNamespace||t}getCustomGroupId(e,t){if(!t||t.length===0)return null;const i=[...t].sort((a,l)=>l.folderPath.length-a.folderPath.length),r=e.replace(/\\/g,"/").split("/").filter(a=>a.length>0),o=r.length>1?r.slice(0,-1).join("/"):"";for(const a of i){const l=a.folderPath.replace(/\\/g,"/");if(l&&(o===l||o.startsWith(l+"/")))return a.groupId}return null}getVaultSyncRecords(e){return this.syncRecords.filter(t=>t.vault_id===e)}getDatabaseSyncRecords(e){return this.syncRecords.filter(t=>t.syncs.some(i=>i.database_id===e))}getGroupIdSyncRecords(e){return this.syncRecords.filter(t=>t.syncs.some(i=>i.group_id===e))}async removeSyncRecord(e,t){if(!e||typeof e!="string")return!1;const i=this.syncRecords.length;return this.syncRecords=this.syncRecords.filter(s=>!(s.mm_uid===e&&s.vault_id===t)),this.syncRecords.length<i?(await this.save(),this.logger.info("[SYNC-REGISTRY] Removed sync record",{mm_uid:e,vault_id:t}),!0):!1}async removeSyncEntry(e,t,i){const s=this.getSyncRecord(e,t);if(!s)return!1;const r=s.syncs.length;return s.syncs=s.syncs.filter(o=>o.database_id!==i),s.syncs.length<r?(s.syncs.length===0?await this.removeSyncRecord(e,t):await this.save(),this.logger.info("[SYNC-REGISTRY] Removed sync entry",{mm_uid:e,vault_id:t,database:i}),!0):!1}getSyncStats(e){const t=e?this.getVaultSyncRecords(e):this.syncRecords,i={};let s=0,r;for(const o of t)for(const a of o.syncs)i[a.database_id]=(i[a.database_id]||0)+1,s++,(!r||a.last_sync>r)&&(r=a.last_sync);return{totalRecords:t.length,totalSyncs:s,databaseCounts:i,lastSync:r}}validateSyncRecord(e){if(!e||typeof e!="object")return!1;if(!e.mm_uid||typeof e.mm_uid!="string"){if(!e.note_path||typeof e.note_path!="string")return!1}else if(!this.isValidUUID(e.mm_uid))return!1;if(!e.vault_id||typeof e.vault_id!="string"||!Array.isArray(e.syncs))return!1;for(const t of e.syncs)if(!this.validateSyncEntry(t))return!1;return!(e.note_modified&&!this.isValidISODate(e.note_modified))}validateSyncEntry(e){return!(!e||typeof e!="object"||!e.database_id||typeof e.database_id!="string"||!e.group_id||typeof e.group_id!="string"||!e.episode_uuid||typeof e.episode_uuid!="string"||e.episode_uuid!==null&&!this.isValidUUID(e.episode_uuid)||!e.last_sync||typeof e.last_sync!="string"||!this.isValidISODate(e.last_sync)||e.sync_hash&&typeof e.sync_hash!="string")}isValidUUID(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}isValidISODate(e){try{return new Date(e).toISOString()===e}catch{return!1}}removeDuplicateRecords(e){const t=new Set,i=[];for(const s of e){const r=s.mm_uid?`${s.vault_id}:mm:${s.mm_uid}`:`${s.vault_id}:path:${s.note_path}`;t.has(r)?this.logger.warn("[SYNC-REGISTRY] Removing duplicate record",{vault_id:s.vault_id,mm_uid:s.mm_uid,note_path:s.note_path}):(t.add(r),i.push(s))}return i}isRegistryLoaded(){return this.isLoaded}getVaultIds(){const e=new Set(this.syncRecords.map(t=>t.vault_id));return Array.from(e)}getDatabaseIds(){const e=new Set;for(const t of this.syncRecords)for(const i of t.syncs)e.add(i.database_id);return Array.from(e)}getGroupIds(){const e=new Set;for(const t of this.syncRecords)for(const i of t.syncs)e.add(i.group_id);return Array.from(e)}getAllSyncRecords(){return[...this.syncRecords]}async reload(){await this.load(),this.trigger("changed")}}class Co extends fo.EventEmitter{constructor(e,t,i){super(),this.isLoaded=!1,this.activeVaultId=null,this.app=e,this.plugin=t,this.logger=i,this.registry=new Map,this.registryPath=C.normalizePath(Me.join(t.manifest.dir||".obsidian/plugins/megamem-mcp","vaults.json"))}async load(){if(!await this.app.vault.adapter.exists(this.registryPath)){this.logger.debug("[VAULT-REGISTRY] No existing vault registry found, creating new one"),this.registry=new Map,await this.save(),this.isLoaded=!0;return}try{const t=await this.app.vault.adapter.read(this.registryPath),i=JSON.parse(t);this.registry.clear();for(const[s,r]of Object.entries(i))this.registry.set(s,r);this.logger.info(`[VAULT-REGISTRY] Loaded vault registry with ${this.registry.size} vaults.`),this.isLoaded=!0}catch(t){this.logger.error("[VAULT-REGISTRY] CRITICAL ERROR: Registry file is corrupt and cannot be parsed. Loading empty registry in memory without overwriting file.",t),this.registry=new Map,this.isLoaded=!0}}async save(){try{const e=Object.fromEntries(this.registry),t=JSON.stringify(e,null,2);await this.app.vault.adapter.write(this.registryPath,t),this.emit("registry-update")}catch(e){const t=e instanceof Error?e.message:String(e);throw this.logger.error("[VAULT-REGISTRY] Failed to save vault registry:",{error:t,path:this.registryPath,timestamp:new Date().toISOString()}),new Error(`Failed to save vault registry: ${t}`)}}async addVault(e){const t={...e,id:e.name};return this.registry.set(e.name,t),await this.save(),this.logger.info(`[VAULT-REGISTRY] Added vault: ${e.name}.`),t}getVault(e){return this.registry.get(e)}getAllVaults(){return Array.from(this.registry.values())}async removeVault(e){if(this.registry.has(e)){const t=this.registry.get(e);return this.registry.delete(e),await this.save(),this.logger.info(`[VAULT-REGISTRY] Removed vault: ${t==null?void 0:t.name}.`),!0}return!1}async updateVaultStatus(e,t){const i=this.registry.get(e);return i?(i.status={...i.status,...t},await this.save(),!0):!1}queryVaults(e){let t=Array.from(this.registry.values());return e.vault_id&&(t=t.filter(i=>i.id===e.vault_id)),e.status!==void 0&&(t=t.filter(i=>i.status.connected===e.status)),t}getVaultStats(){const e=this.getAllVaults();return{total_connected:e.filter(t=>t.status.connected).length,total_syncing:e.filter(t=>t.status.syncing).length,total_errors:e.filter(t=>t.status.error_message).length,last_sync:e.reduce((t,i)=>i.status.last_sync>t?i.status.last_sync:t,"")}}isRegistryLoaded(){return this.isLoaded}getActiveVaultId(){return this.isLoaded||this.loadRegistrySynchronously(),this.activeVaultId||this.ensureActiveVault(),this.activeVaultId}loadRegistrySynchronously(){try{const e=require("fs");if(e.existsSync(this.registryPath)){const t=e.readFileSync(this.registryPath,"utf8"),i=JSON.parse(t);if(this.registry.clear(),typeof i=="object"&&!Array.isArray(i))for(const[s,r]of Object.entries(i))this.registry.set(s,r);this.isLoaded=!0,this.logger.debug(`[VAULT-REGISTRY] Loaded registry synchronously with ${this.registry.size} vaults`)}}catch(e){this.logger.warn("[VAULT-REGISTRY] Failed to load registry synchronously",e)}}setActiveVaultId(e){if(e&&!this.registry.has(e))return this.logger.warn(`[VAULT-REGISTRY] Cannot set active vault - vault not found: ${e}`),!1;const t=this.activeVaultId;return this.activeVaultId=e,t!==e&&this.emit("active-vault-change",e),!0}getActiveVault(){return this.activeVaultId&&this.getVault(this.activeVaultId)||null}ensureActiveVault(){if(!this.activeVaultId){const e=this.app.vault.getName(),t=this.app.vault.adapter.basePath||"";let i=null;for(const[s,r]of this.registry.entries())if(r.name===e||this.pathsMatch(r.path,t)){i=s;break}this.activeVaultId=i||e,this.logger.info(`[VAULT-REGISTRY] Auto-set active vault to: ${this.activeVaultId}${i?" (found in registry)":" (fallback to name)"}`)}}pathsMatch(e,t){const i=s=>s.replace(/\\\\/g,"/").toLowerCase().replace(/\/$/,"");return i(e)===i(t)}async autoRegisterCurrentVault(e=!1,t){var l,c;const i=this.app.vault.getName(),s=this.app.vault.adapter.basePath||"",r=this.registry.get(i);if(r&&r.path===s){this.setActiveVaultId(i);const p=this.createVaultDatabaseConfig();return JSON.stringify(r.configuration.database)!==JSON.stringify(p)?(this.logger.info(`[VAULT-REGISTRY] Updating database configuration for existing vault: ${i}`),r.configuration.database=p,await this.save(),this.logger.debug("[VAULT-REGISTRY] Database configuration updated for existing vault.",{vaultName:i,newConfig:p})):this.logger.debug("[VAULT-REGISTRY] Existing vault database configuration is already up-to-date.",{vaultName:i}),t&&t.isConnected()&&(t.sendVaultRegistration({name:r.name,path:r.path,id:r.name})?await this.updateVaultConnection(i,!0,(c=(l=r.connection)==null?void 0:l.auth)==null?void 0:c.token):this.logger.warn("[VAULT-REGISTRY] Failed to send existing vault registration to MCP server.")),r}const o=new Date().toISOString(),a={name:i,description:`Auto-registered vault: ${i}`,path:s,type:"obsidian",connection:{host:"localhost",port:this.plugin.settings.wsPort,auth:{token:""}},configuration:{database:this.createVaultDatabaseConfig(),sync:{enabled:!0,interval:300,last_sync:o}},status:{connected:!1,syncing:!1,last_sync:o}};try{const p=await this.addVault(a);return this.setActiveVaultId(i),this.logger.info(`[VAULT-REGISTRY] Created local vault registry entry for: ${i}.`),t&&t.isConnected()&&(t.sendVaultRegistration({name:p.name,path:p.path,id:i})?await this.updateVaultConnection(i,!0,a.connection.auth.token):this.logger.warn("[VAULT-REGISTRY] Failed to send vault registration to MCP server.")),p}catch(p){return this.logger.error(`[VAULT-REGISTRY] Failed to auto-register current vault: ${i}`,p),null}}onActiveVaultChange(e){this.on("active-vault-change",e)}onRegistryUpdate(e){this.on("registry-update",e)}async updateVaultConnection(e,t,i){const s=this.registry.get(e);return s?(s.status.connected=t,s.status.last_sync=new Date().toISOString(),i&&(s.connection.auth.token=i),t||(s.status.syncing=!1,s.status.error_message=void 0),await this.save(),this.logger.info(`[VAULT-REGISTRY] Updated vault connection status for ${s.name}: Connected: ${t}.`),!0):!1}async updateVaultEmbeddingModel(e,t,i,s){const r=this.registry.get(e);if(!r)return this.logger.warn(`[VAULT-REGISTRY] Cannot update embedding model - vault not found: ${e}`),!1;r.configuration.embedding||(r.configuration.embedding={}),r.configuration.embedding.model=t,i!==void 0&&(r.configuration.embedding.dimensions=i),s!==void 0&&(r.configuration.embedding.provider=s),await this.save();const o=s?` (${s})`:"",a=i?` (${i}d)`:"";return this.logger.info(`[VAULT-REGISTRY] Updated embedding model for vault ${e}: ${t}${o}${a}`),!0}getVaultEmbeddingModel(e){const t=this.registry.get(e);return t?t.configuration.embedding||{}:null}hasEmbeddingModelChanged(e,t,i,s){const r=this.getVaultEmbeddingModel(e);return!r||!r.model?!1:r.model!==t||s!==void 0&&r.provider!==void 0&&r.provider!==s||i!==void 0&&r.dimensions!==void 0&&r.dimensions!==i}validateEmbeddingModelConfig(e){const t=this.getVaultEmbeddingModel(e);return!t||!t.model?{isValid:!1}:{isValid:!0,config:t}}getEmbeddingModelMismatchDetails(e,t,i,s){const r=this.getVaultEmbeddingModel(e);return{hasChanged:this.hasEmbeddingModelChanged(e,t,i,s),storedProvider:r==null?void 0:r.provider,storedModel:r==null?void 0:r.model,storedDimensions:r==null?void 0:r.dimensions,currentProvider:s,currentModel:t,currentDimensions:i}}createVaultDatabaseConfig(){var i,s;const e=this.plugin.settings,t=e.databaseType||"neo4j";if(t==="neo4j"&&((i=e.databaseConfigs)!=null&&i.neo4j)){const r=e.databaseConfigs.neo4j;if(r.uri){const l=r.uri.match(/bolt:\/\/([^:]+):(\d+)/);if(l){const c=parseInt(l[2]);return{type:"neo4j",host:l[1]||"localhost",port:c||7687,database:r.database||"neo4j",username:r.username,password:r.password}}}const o="localhost",a=7687;return this.logger.warn("[VAULT-REGISTRY] URI match failed or URI not provided for Neo4j. Using defaults/fallback values."),{type:"neo4j",host:o,port:a,database:r.database||"neo4j",username:r.username,password:r.password}}else if(t==="falkordb"&&((s=e.databaseConfigs)!=null&&s.falkordb)){const r=e.databaseConfigs.falkordb;return this.logger.debug("[VAULT-REGISTRY] FalkorDB config found in settings.databaseConfigs:",{host:r.host,port:r.port,database:r.database}),{type:"neo4j",host:r.host||"localhost",port:r.port||6379,database:r.database||"falkor",username:r.username,password:r.password}}return this.logger.warn(`[VAULT-REGISTRY] No database configuration found for type: ${t}. Using final defaults.`),{type:"neo4j",host:"localhost",port:7687,database:"neo4j"}}}const ko=["id","uuid","name","type","subtype","summary","description","created_at","updated_at","fact_uuid","fact_name","fact_type","fact_subtype","fact_summary","fact_description","fact_created_at","fact_updated_at","edge_uuid","edge_name","edge_type","edge_subtype","edge_summary","edge_description","edge_created_at","edge_updated_at","source_uuid","target_uuid","source_name","target_name","source_type","target_type","valid_at","invalid_at","metadata"],zt={Person:"Individual human being with personal and professional attributes, relationships, and activities within the knowledge domain.",Organization:"Business entity, company, institution, or group with structured operations and relationships within the professional ecosystem.",Technology:"Software, programming language, framework, tool, or technical system used in development and business operations.",Product:"Software product, service, platform, or offering created by organizations for users and customers.",Project:"Organized effort with defined goals, timeline, and deliverables undertaken by individuals or organizations.",WebPage:"Individual web page or URL with specific content, purpose, and relationships within the broader web ecosystem.",Website:"Complete web domain or site containing multiple pages and serving as a unified web presence.",Note:"Personal knowledge note, documentation, or idea captured for reference and knowledge management purposes.",Article:"Published content piece such as blog post, tutorial, or informational article with specific topic focus.",Music:"Musical work, song, album, or audio content with artistic and cultural significance, including metadata about creation and performance.",Film:"Movie, video content, or visual media production with narrative or documentary purpose, including cast, crew, and production details.",Event:"Organized gathering, conference, meeting, or occasion with specific time, location, and participants for knowledge sharing or collaboration.",Place:"Physical location, venue, or geographic entity with address and spatial context relevant to activities and relationships.",Quote:"Memorable statement, saying, or excerpt attributed to a specific source with context and meaning for reference and inspiration.",Expression:"Idiom, concept, principle, or linguistic construct that conveys meaning within cultural or professional contexts.",Personal:"Private individual content including goals, identity information, preferences, and personal development material for self-organization.",Journal:"Time-based personal entry or log recording thoughts, experiences, and reflections for tracking personal growth and memories.",Book:"Published literary work, reference material, or educational text with structured content for knowledge sharing and learning.",ProjectDoc:"Technical documentation, specifications, or project-related materials that support project development and collaboration."},jt={duration:'Length of the art work in minutes and seconds, typically formatted as "MM:SS" (e.g., "3:42", "1:15:30")',record_label:"Music label or company responsible for producing, distributing, or promoting the musical work",artist:"Musical performer, band, or creator responsible for the artistic creation and performance of the musical work",album:"Collection or record release that contains this musical work as part of a larger artistic statement",track_number:"Position of this song within an album or collection for organization and reference",composer:"Person who created the musical composition, melody, and structure of the work",lyricist:"Person who wrote the words, lyrics, or text content of the musical work",director:"Primary director or filmmaker credited as the main creative leader of the film or video content",cast:"List of actors and performers who appeared in the film or video content",studio:"Production studio or company responsible for creating and distributing the film",date_start:"Starting date of the event or scheduled activity in YYYY-MM-DD format",date_end:"Ending date of the event or scheduled activity in YYYY-MM-DD format",location:'Physical venue, address, or virtual platform where the event takes place (e.g., "Madison Square Garden", "Zoom", "123 Main St")',organizer:"Person, organization, or entity responsible for planning and hosting the event",event_type:`Classification of the event's purpose and format (e.g., "conference", "meeting", "celebration", "workshop", "webinar")`,coordinates:'Geographic coordinates in latitude, longitude format for precise location identification (e.g., "37.7749, -122.4194")',city:"Municipality, city, or urban area that contains or represents the place for regional identification",postal_code:"ZIP code, postal code, or area code for mail delivery and regional classification",place_type:`Classification of the place's purpose and characteristics (e.g., "venue", "office", "landmark", "residential", "commercial")`,region:"Geographic region, state, or province where the place is located for broader geographic context",title:"Primary name, headline, or official title that identifies and represents the entity",c_name:"Complete legal name, official title, or canonical name as formally recognized",aliases:"Alternative names, nicknames, abbreviations, or other identifiers by which this entity is also known",url:"Complete web address or URL where this entity can be accessed or referenced online",same_as:"URIs or URLs that identify this same entity on other platforms, databases, or knowledge systems for linking",tags:"Keywords, labels, or categorical markers used for organizing, filtering, and discovering related content",author:"Person or organization who created, wrote, or is primarily responsible for this content",organization:"Company, institution, or group associated with or responsible for this entity",about:"Subject matter, topic, or theme that this content covers or discusses in detail",category:"Primary classification, type, or domain that categorizes this entity's purpose and characteristics",status:'Current state, phase, or condition of the entity in its lifecycle (e.g., "active", "completed", "planning")',date_published:"Date when this article or content was officially published or released in YYYY-MM-DD format",identity_type:`Classification of the person's identity status (e.g., "natural_person", "public_figure", "pseudonym", "character")`,given_name:"First name or given name as commonly used for personal identification and introductions",family_name:"Last name, surname, or family name used for formal identification and heritage",date_of_birth:"Date when the person was born, formatted as YYYY-MM-DD for biographical reference",date_of_death:"Date when the person passed away, formatted as YYYY-MM-DD if applicable for biographical completion",address:"Physical address, location, or primary residence where the person is based",email:"Primary email address for professional or personal communication and contact",works_for:"Organization, company, or institution where the person is currently employed",job_title:"Professional role, position, or title that describes the person's current responsibilities",needs:"Resources, skills, connections, or support that the person requires to achieve their goals",offers:"Skills, services, knowledge, or value that the person can provide to others or contribute to projects",links:"URLs or web addresses associated with the person's online presence or professional profiles",relationship_type:"Nature of the relationship or connection this person has to other entities or people",date_founded:"Date when the organization was officially established, incorporated, or founded in YYYY-MM-DD format",org_type:'Legal structure or classification of the organization (e.g., "LLC", "Corporation", "Non-profit", "Partnership")',project_type:`Classification of the project's nature, scope, and methodology (e.g., "software", "research", "startup", "community")`,collaborators:"People, teams, or organizations working together on this project or contributing to its development",public_repo:"URL or reference to the public code repository where the project's source code is hosted and accessible",offering_type:'Business model and delivery method of the product (e.g., "SaaS", "API", "physical_product", "service", "platform")',article_type:'Genre or format classification of the article (e.g., "blog_post", "tutorial", "analysis", "news", "review")',note_type:`Classification of the note's purpose and content type (e.g., "idea", "meeting_notes", "reference", "analysis")`,subtitle:"Secondary title or explanatory subtitle that provides additional context about the book's content",categories:"Subject categories, genres, or classification tags that describe the book's content and target audience",authors:"List of people who wrote, edited, or contributed to the creation of the book",published_on:"Date when the book was officially published or released in YYYY-MM-DD format",link:"URL or web address where the book can be accessed, purchased, or referenced online",project:"Name or identifier of the project that this documentation relates to or supports",team:"Group of people or organizational unit responsible for creating and maintaining this documentation",genre:"Category, style, or classification that describes the artistic approach, subject matter, or target audience",country:"Nation or country of origin where the entity was created, produced, or primarily operates"};class vs{constructor(e,t){this.app=e,this.plugin=t}get logger(){try{return this.plugin&&this.plugin.logger?this.plugin.logger:void 0}catch{return}}isProtectedAttribute(e){return ko.includes(e.toLowerCase())}convertToSnakeCase(e){return e.replace(/([A-Z])/g,"_$1").toLowerCase().replace(/^_/,"")}validateEntityTypeName(e){const t=[];let i=e;/^[A-Z][a-zA-Z0-9]*$/.test(e)||(t.push("Entity type should be PascalCase (e.g., Person, TechCompany)"),i=e.charAt(0).toUpperCase()+e.slice(1).replace(/[^a-zA-Z0-9]/g,""));const s=t.length===0?"excellent":"needs_improvement";return{isValid:t.length===0,issues:t,suggestedName:i,complianceLevel:s}}analyzeProperty(e,t){const i=this.convertToSnakeCase(e),s=this.isProtectedAttribute(e),r=[];s&&r.push("Uses protected attribute name reserved by Graphiti"),e!==i&&!s&&r.push("Should use snake_case naming convention");const o=s?"protected":r.length>0?"warning":"valid";return{originalName:e,suggestedName:s?`${i}_custom`:i,isProtected:s,namingIssues:r,complianceStatus:o}}applyPropertyMapping(e,t){return this.plugin&&this.plugin.getPropertyMapping(e,t)||t}async savePropertyMapping(e,t,i){this.plugin&&await this.plugin.savePropertyMapping(e,t,i)}async removePropertyMapping(e,t){this.plugin&&await this.plugin.removePropertyMapping(e,t)}async savePropertySelection(e,t,i){this.plugin&&await this.plugin.savePropertySelection(e,t,i)}getPropertySelection(e,t){if(this.plugin)return this.plugin.getPropertySelection(e,t)}getDefaultEntityDescription(e){return zt[e]||null}hasDefaultEntityDescription(e){return e in zt}getAvailableDefaultEntityTypes(){return Object.keys(zt)}getDefaultPropertyDescription(e){return jt[e]||null}hasDefaultPropertyDescription(e){return e in jt}get defaultPropertyDescriptions(){return jt}getAvailableDefaultProperties(){return Object.keys(jt)}getAvailableDefaultEdgeTypes(){return{WorksFor:"Person employed by Organization",Uses:"Person/Organization uses Technology/Product",Creates:"Person/Organization creates Technology/Product/Project",Knows:"Person knows Person (personal or professional relationship)",MemberOf:"Person/Organization is member of Organization",PartnersWith:"Person/Organization partners with Person/Organization",DependsOn:"Technology/Product depends on Technology",IntegratedWith:"Product/Technology has built-in integration with Product/Technology",About:"WebPage/Note/Article about Entity",IsPartOf:"WebPage part of Website/Domain",Tags:"Entity is tagged with another Entity",PerformedBy:"Musical work performed by Artist/Person",InfluencedBy:"Entity influenced or inspired by another Entity",CollaboratesWith:"Person/Organization actively collaborates with Person/Organization",OrganizedBy:"Event organized and managed by Person/Organization",AttendedBy:"Event attended or participated in by Person",PartOfSeries:"Entity that belongs to or continues a series/sequence",LeadBy:"Project/Organization/Initiative led or directed by Person",SponsoredBy:"Entity sponsored, funded, or supported by Organization",CompetesWith:"Organization/Product in competition or rivalry with Organization/Product"}}getDefaultEdgeTypeProperties(){return{WorksFor:{job_title:{description:"Current professional role, position, or title that describes responsibilities and level within an organization",fieldType:"str",required:!1},employment_type:{description:"Employment classification such as full-time, part-time, contractor, consultant, advisor, or intern",fieldType:"str",required:!1},start_date:{description:"Date when the employment relationship began in YYYY-MM-DD format",fieldType:"datetime",required:!1}},Uses:{sentiment:{description:"User's attitude or feeling toward the technology (positive, negative, neutral, love, hate)",fieldType:"str",required:!1},proficiency:{description:"User's skill level or expertise with the technology (beginner, intermediate, advanced, expert)",fieldType:"str",required:!1},usage_context:{description:"Context or environment where the technology is used (development, production, personal, testing)",fieldType:"str",required:!1},status:{description:"Current usage status (active, inactive, trial, paid_account, evaluating)",fieldType:"str",required:!1},start_date:{description:"Date when usage began in YYYY-MM-DD format",fieldType:"datetime",required:!1}},Creates:{role:{description:"Creator's role in the creation process (founder, lead_developer, contributor, designer, architect)",fieldType:"str",required:!1},contribution_type:{description:"Type of contribution made (code, design, strategy, funding, documentation, testing)",fieldType:"str",required:!1}},Knows:{relationship_type:{description:"Nature of the relationship (colleague, mentor, friend, collaborator, acquaintance)",fieldType:"str",required:!1},context:{description:"Context or setting where they know each other (work, school, industry, personal)",fieldType:"str",required:!1}},MemberOf:{role:{description:"Member's role or position within the organization (employee, volunteer, board_member, customer, partner)",fieldType:"str",required:!1},start_date:{description:"Date when membership began in YYYY-MM-DD format",fieldType:"datetime",required:!1},status:{description:"Current membership status (active, inactive, suspended, trial, paid)",fieldType:"str",required:!1}},PartnersWith:{partnership_type:{description:"Type of partnership (strategic, supplier, investment, consulting, advisory, joint_venture)",fieldType:"str",required:!1},start_date:{description:"Date when partnership began in YYYY-MM-DD format",fieldType:"datetime",required:!1},status:{description:"Current partnership status (active, inactive, completed, negotiating)",fieldType:"str",required:!1}},DependsOn:{dependency_type:{description:"Type of dependency (runtime, build_time, development, infrastructure, optional)",fieldType:"str",required:!1},version:{description:"Required version or version range for the dependency",fieldType:"str",required:!1}},IntegratedWith:{integration_type:{description:"Type of integration (native, plugin, API, webhook, SDK, embedded)",fieldType:"str",required:!1},bidirectional:{description:"Whether the integration works in both directions between the technologies",fieldType:"bool",required:!1}},About:{coverage_type:{description:"Depth of coverage (comprehensive, mention, analysis, tutorial, review)",fieldType:"str",required:!1},authority:{description:"Source authority level (official, community, expert_analysis, user_generated)",fieldType:"str",required:!1}},IsPartOf:{relationship_type:{description:"Type of relationship (page, article, documentation, section, subdomain)",fieldType:"str",required:!1}},Tags:{},PerformedBy:{performance_type:{description:"Type of performance relationship (original_artist, cover_version, live_performance, collaboration, featured_artist)",fieldType:"str",required:!1},role:{description:"Specific role in the performance (lead_vocals, instrumentalist, producer, featured, backing_vocals)",fieldType:"str",required:!1},performance_date:{description:"Date when this performance or recording took place in YYYY-MM-DD format",fieldType:"datetime",required:!1}},InfluencedBy:{influence_type:{description:"Nature of the influence relationship (artistic, intellectual, methodological, philosophical, technical)",fieldType:"str",required:!1},description:{description:"Specific ways this entity was influenced, including concepts, techniques, or approaches adopted",fieldType:"str",required:!1},strength:{description:"Degree of influence impact (minor, moderate, major, foundational, transformative)",fieldType:"str",required:!1}},CollaboratesWith:{collaboration_type:{description:"Nature of the collaborative relationship (project_partner, co_author, joint_venture, research_partner, creative_partner)",fieldType:"str",required:!1},collaboration_status:{description:"Current state of the collaboration (active, completed, planned, on_hold, recurring)",fieldType:"str",required:!1},start_date:{description:"Date when the collaboration began in YYYY-MM-DD format",fieldType:"datetime",required:!1}},OrganizedBy:{organizational_role:{description:"Specific role in organizing the event (lead_organizer, co_organizer, event_manager, logistics_coordinator, program_director)",fieldType:"str",required:!1},responsibilities:{description:"Specific duties and areas of responsibility in event organization (logistics, programming, marketing, sponsorships)",fieldType:"str",required:!1}},AttendedBy:{attendance_type:{description:"Nature of attendance or participation (presenter, attendee, keynote_speaker, panelist, sponsor, volunteer)",fieldType:"str",required:!1},participation_level:{description:"Degree of involvement in the event (active_participant, passive_attendee, featured_speaker, organizer)",fieldType:"str",required:!1}},PartOfSeries:{sequence_position:{description:"Position or order within the series (episode_1, part_2, volume_3, season_1_episode_5)",fieldType:"str",required:!1},series_relationship:{description:"Type of relationship to the series (sequel, prequel, spin_off, continuation, part_of_collection)",fieldType:"str",required:!1}},LeadBy:{leadership_role:{description:"Specific leadership position and authority (ceo, project_manager, team_lead, creative_director, principal_investigator)",fieldType:"str",required:!1},leadership_start_date:{description:"Date when leadership role began in YYYY-MM-DD format",fieldType:"datetime",required:!1},leadership_scope:{description:"Areas of responsibility and decision-making authority (strategic, operational, creative, technical, administrative)",fieldType:"str",required:!1}},SponsoredBy:{sponsorship_type:{description:"Nature of sponsorship relationship (financial, in_kind, promotional, strategic, title_sponsor, presenting_sponsor)",fieldType:"str",required:!1},sponsorship_level:{description:"Degree or tier of sponsorship support (platinum, gold, silver, bronze, major, minor)",fieldType:"str",required:!1},support_details:{description:"Specific ways sponsor provides support (funding, resources, expertise, marketing, venue)",fieldType:"str",required:!1}},CompetesWith:{competition_type:{description:"Nature of competitive relationship (direct_competitor, market_rival, alternative_solution, industry_peer)",fieldType:"str",required:!1},market_context:{description:"Market or domain where competition occurs (same_market, adjacent_market, substitute_product, feature_competition)",fieldType:"str",required:!1},competitive_advantage:{description:"Key differentiating factors in the competitive relationship (price, features, market_share, brand_recognition)",fieldType:"str",required:!1}}}}getUnusedDefaultEdgeTypes(e){const t=this.getAvailableDefaultEdgeTypes(),i={};return Object.entries(t).forEach(([s,r])=>{e[s]||(i[s]=r)}),i}getSuggestedDefaultMappings(e,t){const i=[],s=new Set(t.map(o=>`${o.sourceEntity}->${o.targetEntity}`));return e.includes("Person")&&(e.includes("Organization")&&!s.has("Person->Organization")&&i.push({sourceEntity:"Person",targetEntity:"Organization",allowedEdges:["WorksFor","MemberOf","PartnersWith"],description:"People working for or being members of organizations"}),e.includes("Technology")&&!s.has("Person->Technology")&&i.push({sourceEntity:"Person",targetEntity:"Technology",allowedEdges:["Creates","Uses"],description:"People creating or using technologies"}),e.includes("Product")&&!s.has("Person->Product")&&i.push({sourceEntity:"Person",targetEntity:"Product",allowedEdges:["Creates","Uses"],description:"People creating or using products"}),e.includes("Project")&&!s.has("Person->Project")&&i.push({sourceEntity:"Person",targetEntity:"Project",allowedEdges:["Creates","MemberOf"],description:"People creating or being part of projects"}),s.has("Person->Person")||i.push({sourceEntity:"Person",targetEntity:"Person",allowedEdges:["Knows"],description:"Professional and personal relationships between people"})),e.includes("Organization")&&(e.includes("Technology")&&!s.has("Organization->Technology")&&i.push({sourceEntity:"Organization",targetEntity:"Technology",allowedEdges:["Creates","Uses","DependsOn"],description:"Organizations creating, using, or depending on technologies"}),e.includes("Product")&&!s.has("Organization->Product")&&i.push({sourceEntity:"Organization",targetEntity:"Product",allowedEdges:["Creates","Uses","DependsOn"],description:"Organizations creating, using, or depending on products"}),s.has("Organization->Organization")||i.push({sourceEntity:"Organization",targetEntity:"Organization",allowedEdges:["PartnersWith","MemberOf"],description:"Partnerships and memberships between organizations"})),e.includes("Technology")&&(s.has("Technology->Technology")||i.push({sourceEntity:"Technology",targetEntity:"Technology",allowedEdges:["DependsOn","IntegratedWith"],description:"Dependencies and integrations between technologies"}),e.includes("Product")&&!s.has("Technology->Product")&&i.push({sourceEntity:"Technology",targetEntity:"Product",allowedEdges:["IntegratedWith"],description:"Technologies integrated with products"})),["WebPage","Note","Article"].filter(o=>e.includes(o)).forEach(o=>{s.has(`${o}->Entity`)||i.push({sourceEntity:o,targetEntity:"Entity",allowedEdges:["About"],description:`${o} content about other entities`})}),e.includes("Person")&&e.includes("Music")&&!s.has("Person->Music")&&i.push({sourceEntity:"Person",targetEntity:"Music",allowedEdges:["PerformedBy","InfluencedBy","Creates"],description:"People performing, creating, or influenced by musical works"}),e.includes("Person")&&e.includes("Film")&&!s.has("Person->Film")&&i.push({sourceEntity:"Person",targetEntity:"Film",allowedEdges:["PerformedBy","InfluencedBy","Creates"],description:"People acting in, creating, or influenced by films"}),e.includes("Person")&&e.includes("Event")&&!s.has("Person->Event")&&i.push({sourceEntity:"Person",targetEntity:"Event",allowedEdges:["OrganizedBy","AttendedBy","LeadBy"],description:"People organizing, attending, or leading events"}),e.includes("Person")&&e.includes("Place")&&!s.has("Person->Place")&&i.push({sourceEntity:"Person",targetEntity:"Place",allowedEdges:["Tags","About"],description:"People associated with or documenting places"}),e.includes("Music")&&!s.has("Music->Music")&&i.push({sourceEntity:"Music",targetEntity:"Music",allowedEdges:["InfluencedBy","PartOfSeries"],description:"Musical works influenced by or part of series with other music"}),e.includes("Film")&&!s.has("Film->Film")&&i.push({sourceEntity:"Film",targetEntity:"Film",allowedEdges:["InfluencedBy","PartOfSeries","CompetesWith"],description:"Films influenced by, part of series, or competing with other films"}),e.includes("Organization")&&e.includes("Event")&&!s.has("Organization->Event")&&i.push({sourceEntity:"Organization",targetEntity:"Event",allowedEdges:["OrganizedBy","SponsoredBy"],description:"Organizations organizing or sponsoring events"}),e.includes("Organization")&&e.includes("Music")&&!s.has("Organization->Music")&&i.push({sourceEntity:"Organization",targetEntity:"Music",allowedEdges:["SponsoredBy","Creates"],description:"Organizations sponsoring or creating musical works (labels, studios)"}),e.includes("Organization")&&e.includes("Film")&&!s.has("Organization->Film")&&i.push({sourceEntity:"Organization",targetEntity:"Film",allowedEdges:["SponsoredBy","Creates"],description:"Organizations sponsoring or creating films (studios, distributors)"}),e.includes("Quote")&&e.includes("Person")&&!s.has("Quote->Person")&&i.push({sourceEntity:"Quote",targetEntity:"Person",allowedEdges:["About","Tags"],description:"Quotes attributed to or about specific people"}),e.includes("Expression")&&!s.has("Expression->Expression")&&i.push({sourceEntity:"Expression",targetEntity:"Expression",allowedEdges:["InfluencedBy","Tags"],description:"Expressions influenced by or related to other expressions"}),e.includes("Personal")&&e.includes("Person")&&!s.has("Personal->Person")&&i.push({sourceEntity:"Personal",targetEntity:"Person",allowedEdges:["About","Tags"],description:"Personal content about or relating to specific people"}),e.includes("Journal")&&e.includes("Person")&&!s.has("Journal->Person")&&i.push({sourceEntity:"Journal",targetEntity:"Person",allowedEdges:["About","Tags"],description:"Journal entries about or mentioning specific people"}),e.includes("Project")&&e.includes("Event")&&!s.has("Project->Event")&&i.push({sourceEntity:"Project",targetEntity:"Event",allowedEdges:["OrganizedBy","PartOfSeries"],description:"Projects organizing events or as part of event series"}),e.includes("Technology")&&e.includes("Music")&&!s.has("Technology->Music")&&i.push({sourceEntity:"Technology",targetEntity:"Music",allowedEdges:["Creates","Uses"],description:"Technologies used to create or distribute music"}),e.includes("Technology")&&e.includes("Film")&&!s.has("Technology->Film")&&i.push({sourceEntity:"Technology",targetEntity:"Film",allowedEdges:["Creates","Uses"],description:"Technologies used in film production or distribution"}),i.length===0&&!s.has("Entity->Entity")&&i.push({sourceEntity:"Entity",targetEntity:"Entity",allowedEdges:["Tags"],description:"Generic tagging relationships between any entities"}),i}async discoverAllSchemas(){const e=new Map,t=this.app.vault.getMarkdownFiles();for(const i of t){const s=this.app.metadataCache.getFileCache(i),r=s==null?void 0:s.frontmatter;if(!(r!=null&&r.type))continue;const o=r.type;e.has(o)||e.set(o,{properties:new Map,files:[]});const a=e.get(o);a.files.push(i.path),Object.entries(r).forEach(([l,c])=>{l!=="type"&&(a.properties.has(l)||a.properties.set(l,[]),a.properties.get(l).push(c))})}return Array.from(e.entries()).map(([i,s])=>({typeName:i,fileCount:s.files.length,files:s.files,properties:Array.from(s.properties.entries()).map(([r,o])=>{const a=this.analyzeProperty(r,o),l=this.applyPropertyMapping(i,r),c=l!==r,p=c?l:r,g=c?[]:a.namingIssues,h=c?"valid":a.complianceStatus,m=this.getPropertySelection(i,r),d=!a.isProtected,f=m!==void 0?m:d;return{name:p,inferredType:this.inferType(o),isOptional:o.some(v=>v==null),description:this.generateDescription(r,i),examples:Array.from(new Set(o)).slice(0,3),enabled:f,isProtected:a.isProtected,namingIssues:g,suggestedName:a.suggestedName,complianceStatus:h}})}))}inferType(e){const t=e.filter(s=>s!=null);if(t.length===0)return"string";const i=t[0];return Array.isArray(i)?"array":typeof i=="boolean"?"boolean":typeof i=="number"?"number":this.isDateLike(i)?"date":typeof i=="object"?"object":"string"}isDateLike(e){return typeof e!="string"?!1:/^\d{4}-\d{2}-\d{2}/.test(e)||!isNaN(Date.parse(e))}generateDescription(e,t){const i={c_name:"Complete legal name or official title as recognized by authorities or in formal documentation",given_name:"Given name or first name as commonly used in introductions and personal identification",family_name:"Family name, surname, or last name used for formal identification and family lineage",aliases:"Alternative names, nicknames, professional names, or pseudonyms by which the entity is also known",url:"Complete web address or URL where the resource can be accessed on the internet",same_as:"URIs or URLs that identify the same entity on other platforms, databases, or knowledge systems for entity linking",permalink:"Permanent link or stable identifier that remains constant over time",created:"Timestamp when the note or entity record was first created in the Obsidian vault for tracking and organizational purposes",created_date:"Date when the content was originally created or when the ideas were first captured in YYYY-MM-DD format",published_date:"Date when the content was officially published or made publicly available in YYYY-MM-DD format",birth_date:"Date when the person was born in YYYY-MM-DD format for biographical and age calculation purposes",founding_date:"Date when the organization was officially established, incorporated, or founded in YYYY-MM-DD format",title:"Primary title, headline, or name that identifies and represents the entity",description:"Detailed explanation or summary that describes the purpose, content, or characteristics of the entity",abstract:"Brief summary or overview that captures the essential points and main ideas",summary:"Concise overview that highlights the key information and important details",type:"Entity type classification (WebPage, Person, Organization, Product, Technology, Project, Article, Film, Music, Book, Event, Note, etc.)",category:"Primary classification or market segment that describes the entity's purpose and target domain",tags:"Topic keywords, classification labels, or categorical tags used for organizing and filtering content within the knowledge base",status:"Current state or phase in the entity's lifecycle (active, completed, planning, etc.)",author:'Person or organization who created, wrote, or is credited as the primary creator of the content (e.g., "Jane Smith", "MIT Research Lab")',job_title:'Current professional role, position, or title that describes responsibilities and level within an organization (e.g., "CEO", "Senior Developer", "Research Scientist")',works_for:'Organization where person is employed (e.g., "Apple Inc.", "Google", "Stanford University")',org_type:'Legal or Lawful structure and registration type of the organization (e.g., "LLC", "Inc", "Partnership", "501c3", "Government Agency")',email:"Primary email address used for professional or personal communication and contact purposes",address:"Physical address, city, state, or geographic location where the entity is primarily based or located",needs:"Specific resources, skills, connections, or support that the entity requires to achieve goals or be successful",offers:"Skills, services, knowledge, resources, or value that the entity can provide to others or contribute to projects",project_type:"Classification of the project's primary purpose and methodology (research, development, initiative, startup, etc.)",article_type:"Genre or format classification of the published content (essay, blog_post, analysis, tutorial, whitepaper, etc.)",note_type:"Classification of the note's purpose and content structure (idea, analysis, reflection, meeting_notes, etc.)",offering_type:"Primary business model and delivery method of the offering (product, service, platform, SaaS, API, etc.)",identity_type:"Classification of person's legal and social identity status (natural_person, national_identity, pseudonym)",thumbnail:"Thumbnail or preview image URL that provides a visual representation of the content",primary_image:"Primary image URL that serves as the main visual element for the entity"};if(i[e])return i[e];if(e.includes("date")||e.includes("time"))return`Date or timestamp for ${t} entities (e.g., "2024-01-15", "2023-12-31T10:30:00Z")`;if(e.includes("url")||e.includes("link"))return`Web address or URL associated with ${t} entities (e.g., "https://example.com", "https://docs.company.com")`;if(e.includes("name")||e.includes("title"))return`Name or title that identifies ${t} entities (e.g., "John Smith", "Project Alpha", "Company Inc.")`;if(e.includes("type")||e.includes("category"))return`Classification that categorizes ${t} entities (e.g., "software", "hardware", "service")`;const s=e.replace(/_/g," ");return`${s.charAt(0).toUpperCase()+s.slice(1)} associated with ${t} entities`}async generatePydanticModels(e){const t=`"""
Pydantic models for Obsidian-Graphiti knowledge graph entities.

This module contains automatically generated Pydantic models based on schema discovery
from Obsidian vault notes. These models are designed to work with the Graphiti
knowledge graph framework for entity extraction and relationship mapping.

Generated models inherit from BaseEntity which provides core properties required
by Graphiti for knowledge graph processing including type classification, tags,
and creation timestamps.

Usage:
    from graphiti_models import Person, Organization, Project

    # Create entity instances
    person = Person(
        c_name="John Doe",
        job_title="Software Engineer",
        email="john@example.com"
    )

    # All entities have core BaseEntity properties
    person.type = "Person"
    person.tags = ["professional", "contact"]
    person.created = datetime.now()

Note: This file is automatically generated. Manual edits will be overwritten
during the next schema discovery process.
"""`,i=["from typing import Optional, List, Dict, Any","from pydantic import BaseModel, Field","from datetime import datetime",""],s=`class BaseEntity(BaseModel):
    """
    Base class for all Graphiti knowledge graph entities.

    Provides core properties required by Graphiti for entity processing,
    relationship mapping, and knowledge graph construction.
    """
    tags: Optional[List[str]] = Field(None, description="Topic keywords, classification labels, or categorical tags used for organizing and filtering content within the knowledge base")
`,r=[];for(let c=0;c<e.length;c+=50){e.slice(c,c+50).forEach(g=>r.push(this.generateSingleModel(g)));try{await new Promise(g=>setTimeout(g,0))}catch{}}const a=this.generateEdgeTypes(),l=this.generateEdgeTypeMap(e);return[t,"",...i,s,...r,a,l].join(`
`)}generateSingleModel(e){const t=e.typeName.replace(/\s+/g,"").replace(/[^a-zA-Z0-9]/g,""),i=e.properties.filter(c=>c.enabled!==!1&&!c.isProtected).map(c=>{const p=this.getPythonType(c),g=c.suggestedName||c.name,h=this.generateDescription(c.name,e.typeName);return`    ${g}: Optional[${p}] = Field(None, description="${h}")`}),s=e.properties.filter(c=>c.isProtected).map(c=>`    # SKIPPED: '${c.name}' - protected attribute (use '${c.suggestedName}' instead)`),r=[...i,...s],o=r.length>0?r.join(`
`):"    pass",l=zt[t]||`Custom ${t} entity.
    
    Use this entity type for ${t} content that doesn't match
    the standard entity types in your knowledge domain.`;return`class ${t}(BaseEntity):
    """
    ${l}
    """
${o}

`}generateEdgeTypes(){return`
# Edge Types - Relationship Models
class WorksFor(BaseModel):
    """Person employed by Organization"""
    job_title: Optional[str] = Field(None, description="Current professional role, position, or title that describes responsibilities and level within an organization")
    employment_type: Optional[str] = Field(None, description="Employment classification such as full-time, part-time, contractor, consultant, advisor, or intern")
    start_date: Optional[datetime] = Field(None, description="Date when the employment relationship began in YYYY-MM-DD format")

class Uses(BaseModel):
    """Person/Organization uses Technology/Product"""
    sentiment: Optional[str] = Field(None, description="User's attitude or feeling toward the technology (positive, negative, neutral, love, hate)")
    proficiency: Optional[str] = Field(None, description="User's skill level or expertise with the technology (beginner, intermediate, advanced, expert)")
    usage_context: Optional[str] = Field(None, description="Context or environment where the technology is used (development, production, personal, testing)")
    status: Optional[str] = Field(None, description="Current usage status (active, inactive, trial, paid_account, evaluating)")
    start_date: Optional[datetime] = Field(None, description="Date when usage began in YYYY-MM-DD format")

class Creates(BaseModel):
    """Person/Organization creates Technology/Product/Project"""
    role: Optional[str] = Field(None, description="Creator's role in the creation process (founder, lead_developer, contributor, designer, architect)")
    contribution_type: Optional[str] = Field(None, description="Type of contribution made (code, design, strategy, funding, documentation, testing)")

class Knows(BaseModel):
    """Person knows Person (personal or professional relationship)"""
    relationship_type: Optional[str] = Field(None, description="Nature of the relationship (colleague, mentor, friend, collaborator, acquaintance)")
    context: Optional[str] = Field(None, description="Context or setting where they know each other (work, school, industry, personal)")

class MemberOf(BaseModel):
    """Person/Organization is member of Organization"""
    role: Optional[str] = Field(None, description="Member's role or position within the organization (employee, volunteer, board_member, customer, partner)")
    start_date: Optional[datetime] = Field(None, description="Date when membership began in YYYY-MM-DD format")
    status: Optional[str] = Field(None, description="Current membership status (active, inactive, suspended, trial, paid)")

class PartnersWith(BaseModel):
    """Person/Organization partners with Person/Organization"""
    partnership_type: Optional[str] = Field(None, description="Type of partnership (strategic, supplier, investment, consulting, advisory, joint_venture)")
    start_date: Optional[datetime] = Field(None, description="Date when partnership began in YYYY-MM-DD format")
    status: Optional[str] = Field(None, description="Current partnership status (active, inactive, completed, negotiating)")

class DependsOn(BaseModel):
    """Technology/Product depends on Technology"""
    dependency_type: Optional[str] = Field(None, description="Type of dependency (runtime, build_time, development, infrastructure, optional)")
    version: Optional[str] = Field(None, description="Required version or version range for the dependency")

class IntegratedWith(BaseModel):
    """Product/Technology has built-in integration with Product/Technology"""
    integration_type: Optional[str] = Field(None, description="Type of integration (native, plugin, API, webhook, SDK, embedded)")
    bidirectional: Optional[bool] = Field(None, description="Whether the integration works in both directions between the technologies")

class About(BaseModel):
    """WebPage/Note/Article about Entity"""
    coverage_type: Optional[str] = Field(None, description="Depth of coverage (comprehensive, mention, analysis, tutorial, review)")
    authority: Optional[str] = Field(None, description="Source authority level (official, community, expert_analysis, user_generated)")

class IsPartOf(BaseModel):
    """WebPage part of Website/Domain"""
    relationship_type: Optional[str] = Field(None, description="Type of relationship (page, article, documentation, section, subdomain)")

class Tags(BaseModel):
    """Entity is tagged with another Entity"""
    pass

# New edge types
class PerformedBy(BaseModel):
    """Musical work performed by Artist/Person"""
    performance_type: Optional[str] = Field(None, description="Type of performance relationship (original_artist, cover_version, live_performance, collaboration, featured_artist)")
    role: Optional[str] = Field(None, description="Specific role in the performance (lead_vocals, instrumentalist, producer, featured, backing_vocals)")
    performance_date: Optional[datetime] = Field(None, description="Date when this performance or recording took place in YYYY-MM-DD format")

class InfluencedBy(BaseModel):
    """Entity influenced or inspired by another Entity"""
    influence_type: Optional[str] = Field(None, description="Nature of the influence relationship (artistic, intellectual, methodological, philosophical, technical)")
    description: Optional[str] = Field(None, description="Specific ways this entity was influenced, including concepts, techniques, or approaches adopted")
    strength: Optional[str] = Field(None, description="Degree of influence impact (minor, moderate, major, foundational, transformative)")

class CollaboratesWith(BaseModel):
    """Person/Organization actively collaborates with Person/Organization"""
    collaboration_type: Optional[str] = Field(None, description="Nature of the collaborative relationship (project_partner, co_author, joint_venture, research_partner, creative_partner)")
    collaboration_status: Optional[str] = Field(None, description="Current state of the collaboration (active, completed, planned, on_hold, recurring)")
    start_date: Optional[datetime] = Field(None, description="Date when the collaboration began in YYYY-MM-DD format")

class OrganizedBy(BaseModel):
    """Event organized and managed by Person/Organization"""
    organizational_role: Optional[str] = Field(None, description="Specific role in organizing the event (lead_organizer, co_organizer, event_manager, logistics_coordinator, program_director)")
    responsibilities: Optional[str] = Field(None, description="Specific duties and areas of responsibility in event organization (logistics, programming, marketing, sponsorships)")

class AttendedBy(BaseModel):
    """Event attended or participated in by Person"""
    attendance_type: Optional[str] = Field(None, description="Nature of attendance or participation (presenter, attendee, keynote_speaker, panelist, sponsor, volunteer)")
    participation_level: Optional[str] = Field(None, description="Degree of involvement in the event (active_participant, passive_attendee, featured_speaker, organizer)")

class PartOfSeries(BaseModel):
    """Entity that belongs to or continues a series/sequence"""
    sequence_position: Optional[str] = Field(None, description="Position or order within the series (episode_1, part_2, volume_3, season_1_episode_5)")
    series_relationship: Optional[str] = Field(None, description="Type of relationship to the series (sequel, prequel, spin_off, continuation, part_of_collection)")

class LeadBy(BaseModel):
    """Project/Organization/Initiative led or directed by Person"""
    leadership_role: Optional[str] = Field(None, description="Specific leadership position and authority (ceo, project_manager, team_lead, creative_director, principal_investigator)")
    leadership_start_date: Optional[datetime] = Field(None, description="Date when leadership role began in YYYY-MM-DD format")
    leadership_scope: Optional[str] = Field(None, description="Areas of responsibility and decision-making authority (strategic, operational, creative, technical, administrative)")

class SponsoredBy(BaseModel):
    """Entity sponsored, funded, or supported by Organization"""
    sponsorship_type: Optional[str] = Field(None, description="Nature of sponsorship relationship (financial, in_kind, promotional, strategic, title_sponsor, presenting_sponsor)")
    sponsorship_level: Optional[str] = Field(None, description="Degree or tier of sponsorship support (platinum, gold, silver, bronze, major, minor)")
    support_details: Optional[str] = Field(None, description="Specific ways sponsor provides support (funding, resources, expertise, marketing, venue)")

class CompetesWith(BaseModel):
    """Organization/Product in competition or rivalry with Organization/Product"""
    competition_type: Optional[str] = Field(None, description="Nature of competitive relationship (direct_competitor, market_rival, alternative_solution, industry_peer)")
    market_context: Optional[str] = Field(None, description="Market or domain where competition occurs (same_market, adjacent_market, substitute_product, feature_competition)")
    competitive_advantage: Optional[str] = Field(None, description="Key differentiating factors in the competitive relationship (price, features, market_share, brand_recognition)")

`}generateEdgeTypeMap(e){const t=e.map(r=>r.typeName.replace(/\s+/g,"").replace(/[^a-zA-Z0-9]/g,"")),i=[];return t.forEach(r=>{r==="Person"&&(i.push('    ("Person", "Organization"): ["WorksFor", "MemberOf", "PartnersWith"],'),i.push('    ("Person", "Technology"): ["Creates", "Uses"],'),i.push('    ("Person", "Product"): ["Creates", "Uses"],'),i.push('    ("Person", "Project"): ["Creates", "MemberOf"],'),i.push('    ("Person", "Person"): ["Knows", "CollaboratesWith"],'),i.push('    ("Person", "Music"): ["PerformedBy"],')),r==="Music"&&(i.push('    ("Music", "Person"): ["PerformedBy", "CreatedBy", "InfluencedBy"],'),i.push('    ("Music", "Music"): ["InfluencedBy", "PartOfSeries"],')),r==="Film"&&i.push('    ("Film", "Person"): ["CreatedBy", "PerformedBy", "InfluencedBy"],'),r==="Organization"&&(i.push('    ("Organization", "Organization"): ["PartnersWith", "MemberOf"],'),i.push('    ("Organization", "Technology"): ["Creates", "Uses", "DependsOn"],'),i.push('    ("Organization", "Product"): ["Creates", "Uses", "DependsOn"],'),i.push('    ("Organization", "Project"): ["Creates", "PartnersWith"],'),i.push('    ("Organization", "Person"): ["PartnersWith"],')),r==="Technology"&&(i.push('    ("Technology", "Technology"): ["DependsOn", "IntegratedWith"],'),i.push('    ("Technology", "Product"): ["IntegratedWith"],'),i.push('    ("Technology", "Project"): ["IntegratedWith"],')),r==="Product"&&(i.push('    ("Product", "Technology"): ["IntegratedWith", "Uses", "DependsOn"],'),i.push('    ("Product", "Product"): ["IntegratedWith"],'),i.push('    ("Product", "Organization"): ["MemberOf"],'),i.push('    ("Product", "Project"): ["IntegratedWith"],')),r==="Project"&&(i.push('    ("Project", "Technology"): ["Uses", "Creates", "DependsOn"],'),i.push('    ("Project", "Product"): ["Creates", "Uses"],'),i.push('    ("Project", "Organization"): ["PartnersWith"],'),i.push('    ("Project", "Project"): ["PartnersWith", "DependsOn"],')),["WebPage","Note","Article"].includes(r)&&i.push(`    ("${r}", "Entity"): ["About"],`)}),i.push('    ("Entity", "Entity"): ["Tags", "Knows"],'),`
# Edge Type Map - Defines allowed relationships between entity types
edge_type_map = {
${Array.from(new Set(i)).join(`
`)}

`+n.mark.snippet),i+" "+t):i}function Ot(n,e){Error.call(this),this.name="YAMLException",this.reason=n,this.mark=e,this.message=Ss(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Ot.prototype=Object.create(Error.prototype);Ot.prototype.constructor=Ot;Ot.prototype.toString=function(e){return this.name+": "+Ss(this,e)};var He=Ot;function an(n,e,t,i,s){var r="",o="",a=Math.floor(s/2)-1;return i-e>a&&(r=" ... ",e=i-a+r.length),t-i>a&&(o=" ...",t=i+a-o.length),{str:r+n.slice(e,t).replace(/\t/g,"")+o,pos:i-e+r.length}}function ln(n,e){return Ve.repeat(" ",e-n.length)+n}function Uo(n,e){if(e=Object.create(e||null),!n.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var t=/\r?\n|\r|\0/g,i=[0],s=[],r,o=-1;r=t.exec(n.buffer);)s.push(r.index),i.push(r.index+r[0].length),n.position<=r.index&&o<0&&(o=i.length-2);o<0&&(o=i.length-1);var a="",l,c,p=Math.min(n.line+e.linesAfter,s.length).toString().length,g=e.maxLength-(e.indent+p+3);for(l=1;l<=e.linesBefore&&!(o-l<0);l++)c=an(n.buffer,i[o-l],s[o-l],n.position-(i[o]-i[o-l]),g),a=Ve.repeat(" ",e.indent)+ln((n.line-l+1).toString(),p)+" | "+c.str+`
`+a;for(c=an(n.buffer,i[o],s[o],n.position,g),a+=Ve.repeat(" ",e.indent)+ln((n.line+1).toString(),p)+" | "+c.str+`
`,a+=Ve.repeat("-",e.indent+p+3+c.pos)+`^
`,l=1;l<=e.linesAfter&&!(o+l>=s.length);l++)c=an(n.buffer,i[o+l],s[o+l],n.position-(i[o]-i[o+l]),g),a+=Ve.repeat(" ",e.indent)+ln((n.line+l+1).toString(),p)+" | "+c.str+`
`;return a.replace(/\n$/,"")}var Bo=Uo,zo=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],jo=["scalar","sequence","mapping"];function Vo(n){var e={};return n!==null&&Object.keys(n).forEach(function(t){n[t].forEach(function(i){e[String(i)]=t})}),e}function Yo(n,e){if(e=e||{},Object.keys(e).forEach(function(t){if(zo.indexOf(t)===-1)throw new He('Unknown option "'+t+'" is met in definition of "'+n+'" YAML type.')}),this.options=e,this.tag=n,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(t){return t},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=Vo(e.styleAliases||null),jo.indexOf(this.kind)===-1)throw new He('Unknown kind "'+this.kind+'" is specified for "'+n+'" YAML type.')}var qe=Yo;function zn(n,e){var t=[];return n[e].forEach(function(i){var s=t.length;t.forEach(function(r,o){r.tag===i.tag&&r.kind===i.kind&&r.multi===i.multi&&(s=o)}),t[s]=i}),t}function Go(){var n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,t;function i(s){s.multi?(n.multi[s.kind].push(s),n.multi.fallback.push(s)):n[s.kind][s.tag]=n.fallback[s.tag]=s}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(i);return n}function fn(n){return this.extend(n)}fn.prototype.extend=function(e){var t=[],i=[];if(e instanceof qe)i.push(e);else if(Array.isArray(e))i=i.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(i=i.concat(e.explicit));else throw new He("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.forEach(function(r){if(!(r instanceof qe))throw new He("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(r.loadKind&&r.loadKind!=="scalar")throw new He("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(r.multi)throw new He("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(r){if(!(r instanceof qe))throw new He("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var s=Object.create(fn.prototype);return s.implicit=(this.implicit||[]).concat(t),s.explicit=(this.explicit||[]).concat(i),s.compiledImplicit=zn(s,"implicit"),s.compiledExplicit=zn(s,"explicit"),s.compiledTypeMap=Go(s.compiledImplicit,s.compiledExplicit),s};var qo=fn,Wo=new qe("tag:yaml.org,2002:str",{kind:"scalar",construct:function(n){return n!==null?n:""}}),Ko=new qe("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(n){return n!==null?n:[]}}),Ho=new qe("tag:yaml.org,2002:map",{kind:"mapping",construct:function(n){return n!==null?n:{}}}),Jo=new qo({explicit:[Wo,Ko,Ho]});function Qo(n){if(n===null)return!0;var e=n.length;return e===1&&n==="~"||e===4&&(n==="null"||n==="Null"||n==="NULL")}function Zo(){return null}function Xo(n){return n===null}var ea=new qe("tag:yaml.org,2002:null",{kind:"scalar",resolve:Qo,construct:Zo,predicate:Xo,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function ta(n){if(n===null)return!1;var e=n.length;return e===4&&(n==="true"||n==="True"||n==="TRUE")||e===5&&(n==="false"||n==="False"||n==="FALSE")}function na(n){return n==="true"||n==="True"||n==="TRUE"}function ia(n){return Object.prototype.toString.call(n)==="[object Boolean]"}var sa=new qe("tag:yaml.org,2002:bool",{kind:"scalar",resolve:ta,construct:na,predicate:ia,represent:{lowercase:function(n){return n?"true":"false"},uppercase:function(n){return n?"TRUE":"FALSE"},camelcase:function(n){return n?"True":"False"}},defaultStyle:"lowercase"});function ra(n){return 48<=n&&n<=57||65<=n&&n<=70||97<=n&&n<=102}function oa(n){return 48<=n&&n<=55}function aa(n){return 48<=n&&n<=57}function la(n){if(n===null)return!1;var e=n.length,t=0,i=!1,s;if(!e)return!1;if(s=n[t],(s==="-"||s==="+")&&(s=n[++t]),s==="0"){if(t+1===e)return!0;if(s=n[++t],s==="b"){for(t++;t<e;t++)if(s=n[t],s!=="_"){if(s!=="0"&&s!=="1")return!1;i=!0}return i&&s!=="_"}if(s==="x"){for(t++;t<e;t++)if(s=n[t],s!=="_"){if(!ra(n.charCodeAt(t)))return!1;i=!0}return i&&s!=="_"}if(s==="o"){for(t++;t<e;t++)if(s=n[t],s!=="_"){if(!oa(n.charCodeAt(t)))return!1;i=!0}return i&&s!=="_"}}if(s==="_")return!1;for(;t<e;t++)if(s=n[t],s!=="_"){if(!aa(n.charCodeAt(t)))return!1;i=!0}return!(!i||s==="_")}function ca(n){var e=n,t=1,i;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),i=e[0],(i==="-"||i==="+")&&(i==="-"&&(t=-1),e=e.slice(1),i=e[0]),e==="0")return 0;if(i==="0"){if(e[1]==="b")return t*parseInt(e.slice(2),2);if(e[1]==="x")return t*parseInt(e.slice(2),16);if(e[1]==="o")return t*parseInt(e.slice(2),8)}return t*parseInt(e,10)}function da(n){return Object.prototype.toString.call(n)==="[object Number]"&&n%1===0&&!Ve.isNegativeZero(n)}var ua=new qe("tag:yaml.org,2002:int",{kind:"scalar",resolve:la,construct:ca,predicate:da,represent:{binary:function(n){return n>=0?"0b"+n.toString(2):"-0b"+n.toString(2).slice(1)},octal:function(n){return n>=0?"0o"+n.toString(8):"-0o"+n.toString(8).slice(1)},decimal:function(n){return n.toString(10)},hexadecimal:function(n){return n>=0?"0x"+n.toString(16).toUpperCase():"-0x"+n.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),pa=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function ga(n){return!(n===null||!pa.test(n)||n[n.length-1]==="_")}function ha(n){var e,t;return e=n.replace(/_/g,"").toLowerCase(),t=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?t===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:t*parseFloat(e,10)}var fa=/^[-+]?[0-9]+e/;function ma(n,e){var t;if(isNaN(n))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===n)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===n)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ve.isNegativeZero(n))return"-0.0";return t=n.toString(10),fa.test(t)?t.replace("e",".e"):t}function ya(n){return Object.prototype.toString.call(n)==="[object Number]"&&(n%1!==0||Ve.isNegativeZero(n))}var ba=new qe("tag:yaml.org,2002:float",{kind:"scalar",resolve:ga,construct:ha,predicate:ya,represent:ma,defaultStyle:"lowercase"}),va=Jo.extend({implicit:[ea,sa,ua,ba]}),wa=va,_s=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),xs=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Sa(n){return n===null?!1:_s.exec(n)!==null||xs.exec(n)!==null}function _a(n){var e,t,i,s,r,o,a,l=0,c=null,p,g,h;if(e=_s.exec(n),e===null&&(e=xs.exec(n)),e===null)throw new Error("Date resolve error");if(t=+e[1],i=+e[2]-1,s=+e[3],!e[4])return new Date(Date.UTC(t,i,s));if(r=+e[4],o=+e[5],a=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(p=+e[10],g=+(e[11]||0),c=(p*60+g)*6e4,e[9]==="-"&&(c=-c)),h=new Date(Date.UTC(t,i,s,r,o,a,l)),c&&h.setTime(h.getTime()-c),h}function xa(n){return n.toISOString()}var Ea=new qe("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Sa,construct:_a,instanceOf:Date,represent:xa});function Ca(n){return n==="<<"||n===null}var ka=new qe("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Ca}),En=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Da(n){if(n===null)return!1;var e,t,i=0,s=n.length,r=En;for(t=0;t<s;t++)if(e=r.indexOf(n.charAt(t)),!(e>64)){if(e<0)return!1;i+=6}return i%8===0}function Pa(n){var e,t,i=n.replace(/[\r\n=]/g,""),s=i.length,r=En,o=0,a=[];for(e=0;e<s;e++)e%4===0&&e&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|r.indexOf(i.charAt(e));return t=s%4*6,t===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):t===18?(a.push(o>>10&255),a.push(o>>2&255)):t===12&&a.push(o>>4&255),new Uint8Array(a)}function Ta(n){var e="",t=0,i,s,r=n.length,o=En;for(i=0;i<r;i++)i%3===0&&i&&(e+=o[t>>18&63],e+=o[t>>12&63],e+=o[t>>6&63],e+=o[t&63]),t=(t<<8)+n[i];return s=r%3,s===0?(e+=o[t>>18&63],e+=o[t>>12&63],e+=o[t>>6&63],e+=o[t&63]):s===2?(e+=o[t>>10&63],e+=o[t>>4&63],e+=o[t<<2&63],e+=o[64]):s===1&&(e+=o[t>>2&63],e+=o[t<<4&63],e+=o[64],e+=o[64]),e}function Ma(n){return Object.prototype.toString.call(n)==="[object Uint8Array]"}var Na=new qe("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Da,construct:Pa,predicate:Ma,represent:Ta}),Aa=Object.prototype.hasOwnProperty,Oa=Object.prototype.toString;function Ia(n){if(n===null)return!0;var e=[],t,i,s,r,o,a=n;for(t=0,i=a.length;t<i;t+=1){if(s=a[t],o=!1,Oa.call(s)!=="[object Object]")return!1;for(r in s)if(Aa.call(s,r))if(!o)o=!0;else return!1;if(!o)return!1;if(e.indexOf(r)===-1)e.push(r);else return!1}return!0}function Ra(n){return n!==null?n:[]}var La=new qe("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Ia,construct:Ra}),Fa=Object.prototype.toString;function $a(n){if(n===null)return!0;var e,t,i,s,r,o=n;for(r=new Array(o.length),e=0,t=o.length;e<t;e+=1){if(i=o[e],Fa.call(i)!=="[object Object]"||(s=Object.keys(i),s.length!==1))return!1;r[e]=[s[0],i[s[0]]]}return!0}function Ua(n){if(n===null)return[];var e,t,i,s,r,o=n;for(r=new Array(o.length),e=0,t=o.length;e<t;e+=1)i=o[e],s=Object.keys(i),r[e]=[s[0],i[s[0]]];return r}var Ba=new qe("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:$a,construct:Ua}),za=Object.prototype.hasOwnProperty;function ja(n){if(n===null)return!0;var e,t=n;for(e in t)if(za.call(t,e)&&t[e]!==null)return!1;return!0}function Va(n){return n!==null?n:{}}var Ya=new qe("tag:yaml.org,2002:set",{kind:"mapping",resolve:ja,construct:Va}),Cn=wa.extend({implicit:[Ea,ka],explicit:[Na,La,Ba,Ya]}),dt=Object.prototype.hasOwnProperty,Kt=1,Es=2,Cs=3,Ht=4,cn=1,Ga=2,jn=3,qa=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Wa=/[\x85\u2028\u2029]/,Ka=/[,\[\]\{\}]/,ks=/^(?:!|!!|![a-z\-]+!)$/i,Ds=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Vn(n){return Object.prototype.toString.call(n)}function tt(n){return n===10||n===13}function ht(n){return n===9||n===32}function Je(n){return n===9||n===32||n===10||n===13}function xt(n){return n===44||n===91||n===93||n===123||n===125}function Ha(n){var e;return 48<=n&&n<=57?n-48:(e=n|32,97<=e&&e<=102?e-97+10:-1)}function Ja(n){return n===120?2:n===117?4:n===85?8:0}function Qa(n){return 48<=n&&n<=57?n-48:-1}function Yn(n){return n===48?"\0":n===97?"\x07":n===98?"\b":n===116||n===9?"	":n===110?`
`:n===118?"\v":n===102?"\f":n===114?"\r":n===101?"\x1B":n===32?" ":n===34?'"':n===47?"/":n===92?"\\":n===78?"":n===95?"":n===76?"\u2028":n===80?"\u2029":""}function Za(n){return n<=65535?String.fromCharCode(n):String.fromCharCode((n-65536>>10)+55296,(n-65536&1023)+56320)}var Ps=new Array(256),Ts=new Array(256);for(var bt=0;bt<256;bt++)Ps[bt]=Yn(bt)?1:0,Ts[bt]=Yn(bt);function Xa(n,e){this.input=n,this.filename=e.filename||null,this.schema=e.schema||Cn,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=n.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Ms(n,e){var t={name:n.filename,buffer:n.input.slice(0,-1),position:n.position,line:n.line,column:n.position-n.lineStart};return t.snippet=Bo(t),new He(e,t)}function se(n,e){throw Ms(n,e)}function Jt(n,e){n.onWarning&&n.onWarning.call(null,Ms(n,e))}var Gn={YAML:function(e,t,i){var s,r,o;e.version!==null&&se(e,"duplication of %YAML directive"),i.length!==1&&se(e,"YAML directive accepts exactly one argument"),s=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),s===null&&se(e,"ill-formed argument of the YAML directive"),r=parseInt(s[1],10),o=parseInt(s[2],10),r!==1&&se(e,"unacceptable YAML version of the document"),e.version=i[0],e.checkLineBreaks=o<2,o!==1&&o!==2&&Jt(e,"unsupported YAML version of the document")},TAG:function(e,t,i){var s,r;i.length!==2&&se(e,"TAG directive accepts exactly two arguments"),s=i[0],r=i[1],ks.test(s)||se(e,"ill-formed tag handle (first argument) of the TAG directive"),dt.call(e.tagMap,s)&&se(e,'there is a previously declared suffix for "'+s+'" tag handle'),Ds.test(r)||se(e,"ill-formed tag prefix (second argument) of the TAG directive");try{r=decodeURIComponent(r)}catch{se(e,"tag prefix is malformed: "+r)}e.tagMap[s]=r}};function ct(n,e,t,i){var s,r,o,a;if(e<t){if(a=n.input.slice(e,t),i)for(s=0,r=a.length;s<r;s+=1)o=a.charCodeAt(s),o===9||32<=o&&o<=1114111||se(n,"expected valid JSON character");else qa.test(a)&&se(n,"the stream contains non-printable characters");n.result+=a}}function qn(n,e,t,i){var s,r,o,a;for(Ve.isObject(t)||se(n,"cannot merge mappings; the provided source object is unacceptable"),s=Object.keys(t),o=0,a=s.length;o<a;o+=1)r=s[o],dt.call(e,r)||(e[r]=t[r],i[r]=!0)}function Et(n,e,t,i,s,r,o,a,l){var c,p;if(Array.isArray(s))for(s=Array.prototype.slice.call(s),c=0,p=s.length;c<p;c+=1)Array.isArray(s[c])&&se(n,"nested arrays are not supported inside keys"),typeof s=="object"&&Vn(s[c])==="[object Object]"&&(s[c]="[object Object]");if(typeof s=="object"&&Vn(s)==="[object Object]"&&(s="[object Object]"),s=String(s),e===null&&(e={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(r))for(c=0,p=r.length;c<p;c+=1)qn(n,e,r[c],t);else qn(n,e,r,t);else!n.json&&!dt.call(t,s)&&dt.call(e,s)&&(n.line=o||n.line,n.lineStart=a||n.lineStart,n.position=l||n.position,se(n,"duplicated mapping key")),s==="__proto__"?Object.defineProperty(e,s,{configurable:!0,enumerable:!0,writable:!0,value:r}):e[s]=r,delete t[s];return e}function kn(n){var e;e=n.input.charCodeAt(n.position),e===10?n.position++:e===13?(n.position++,n.input.charCodeAt(n.position)===10&&n.position++):se(n,"a line break is expected"),n.line+=1,n.lineStart=n.position,n.firstTabInLine=-1}function ze(n,e,t){for(var i=0,s=n.input.charCodeAt(n.position);s!==0;){for(;ht(s);)s===9&&n.firstTabInLine===-1&&(n.firstTabInLine=n.position),s=n.input.charCodeAt(++n.position);if(e&&s===35)do s=n.input.charCodeAt(++n.position);while(s!==10&&s!==13&&s!==0);if(tt(s))for(kn(n),s=n.input.charCodeAt(n.position),i++,n.lineIndent=0;s===32;)n.lineIndent++,s=n.input.charCodeAt(++n.position);else break}return t!==-1&&i!==0&&n.lineIndent<t&&Jt(n,"deficient indentation"),i}function tn(n){var e=n.position,t;return t=n.input.charCodeAt(e),!!((t===45||t===46)&&t===n.input.charCodeAt(e+1)&&t===n.input.charCodeAt(e+2)&&(e+=3,t=n.input.charCodeAt(e),t===0||Je(t)))}function Dn(n,e){e===1?n.result+=" ":e>1&&(n.result+=Ve.repeat(`
`,e-1))}function el(n,e,t){var i,s,r,o,a,l,c,p,g=n.kind,h=n.result,m;if(m=n.input.charCodeAt(n.position),Je(m)||xt(m)||m===35||m===38||m===42||m===33||m===124||m===62||m===39||m===34||m===37||m===64||m===96||(m===63||m===45)&&(s=n.input.charCodeAt(n.position+1),Je(s)||t&&xt(s)))return!1;for(n.kind="scalar",n.result="",r=o=n.position,a=!1;m!==0;){if(m===58){if(s=n.input.charCodeAt(n.position+1),Je(s)||t&&xt(s))break}else if(m===35){if(i=n.input.charCodeAt(n.position-1),Je(i))break}else{if(n.position===n.lineStart&&tn(n)||t&&xt(m))break;if(tt(m))if(l=n.line,c=n.lineStart,p=n.lineIndent,ze(n,!1,-1),n.lineIndent>=e){a=!0,m=n.input.charCodeAt(n.position);continue}else{n.position=o,n.line=l,n.lineStart=c,n.lineIndent=p;break}}a&&(ct(n,r,o,!1),Dn(n,n.line-l),r=o=n.position,a=!1),ht(m)||(o=n.position+1),m=n.input.charCodeAt(++n.position)}return ct(n,r,o,!1),n.result?!0:(n.kind=g,n.result=h,!1)}function tl(n,e){var t,i,s;if(t=n.input.charCodeAt(n.position),t!==39)return!1;for(n.kind="scalar",n.result="",n.position++,i=s=n.position;(t=n.input.charCodeAt(n.position))!==0;)if(t===39)if(ct(n,i,n.position,!0),t=n.input.charCodeAt(++n.position),t===39)i=n.position,n.position++,s=n.position;else return!0;else tt(t)?(ct(n,i,s,!0),Dn(n,ze(n,!1,e)),i=s=n.position):n.position===n.lineStart&&tn(n)?se(n,"unexpected end of the document within a single quoted scalar"):(n.position++,s=n.position);se(n,"unexpected end of the stream within a single quoted scalar")}function nl(n,e){var t,i,s,r,o,a;if(a=n.input.charCodeAt(n.position),a!==34)return!1;for(n.kind="scalar",n.result="",n.position++,t=i=n.position;(a=n.input.charCodeAt(n.position))!==0;){if(a===34)return ct(n,t,n.position,!0),n.position++,!0;if(a===92){if(ct(n,t,n.position,!0),a=n.input.charCodeAt(++n.position),tt(a))ze(n,!1,e);else if(a<256&&Ps[a])n.result+=Ts[a],n.position++;else if((o=Ja(a))>0){for(s=o,r=0;s>0;s--)a=n.input.charCodeAt(++n.position),(o=Ha(a))>=0?r=(r<<4)+o:se(n,"expected hexadecimal character");n.result+=Za(r),n.position++}else se(n,"unknown escape sequence");t=i=n.position}else tt(a)?(ct(n,t,i,!0),Dn(n,ze(n,!1,e)),t=i=n.position):n.position===n.lineStart&&tn(n)?se(n,"unexpected end of the document within a double quoted scalar"):(n.position++,i=n.position)}se(n,"unexpected end of the stream within a double quoted scalar")}function il(n,e){var t=!0,i,s,r,o=n.tag,a,l=n.anchor,c,p,g,h,m,d=Object.create(null),f,v,w,S;if(S=n.input.charCodeAt(n.position),S===91)p=93,m=!1,a=[];else if(S===123)p=125,m=!0,a={};else return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=a),S=n.input.charCodeAt(++n.position);S!==0;){if(ze(n,!0,e),S=n.input.charCodeAt(n.position),S===p)return n.position++,n.tag=o,n.anchor=l,n.kind=m?"mapping":"sequence",n.result=a,!0;t?S===44&&se(n,"expected the node content, but found ','"):se(n,"missed comma between flow collection entries"),v=f=w=null,g=h=!1,S===63&&(c=n.input.charCodeAt(n.position+1),Je(c)&&(g=h=!0,n.position++,ze(n,!0,e))),i=n.line,s=n.lineStart,r=n.position,Dt(n,e,Kt,!1,!0),v=n.tag,f=n.result,ze(n,!0,e),S=n.input.charCodeAt(n.position),(h||n.line===i)&&S===58&&(g=!0,S=n.input.charCodeAt(++n.position),ze(n,!0,e),Dt(n,e,Kt,!1,!0),w=n.result),m?Et(n,a,d,v,f,w,i,s,r):g?a.push(Et(n,null,d,v,f,w,i,s,r)):a.push(f),ze(n,!0,e),S=n.input.charCodeAt(n.position),S===44?(t=!0,S=n.input.charCodeAt(++n.position)):t=!1}se(n,"unexpected end of the stream within a flow collection")}function sl(n,e){var t,i,s=cn,r=!1,o=!1,a=e,l=0,c=!1,p,g;if(g=n.input.charCodeAt(n.position),g===124)i=!1;else if(g===62)i=!0;else return!1;for(n.kind="scalar",n.result="";g!==0;)if(g=n.input.charCodeAt(++n.position),g===43||g===45)cn===s?s=g===43?jn:Ga:se(n,"repeat of a chomping mode identifier");else if((p=Qa(g))>=0)p===0?se(n,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?se(n,"repeat of an indentation width identifier"):(a=e+p-1,o=!0);else break;if(ht(g)){do g=n.input.charCodeAt(++n.position);while(ht(g));if(g===35)do g=n.input.charCodeAt(++n.position);while(!tt(g)&&g!==0)}for(;g!==0;){for(kn(n),n.lineIndent=0,g=n.input.charCodeAt(n.position);(!o||n.lineIndent<a)&&g===32;)n.lineIndent++,g=n.input.charCodeAt(++n.position);if(!o&&n.lineIndent>a&&(a=n.lineIndent),tt(g)){l++;continue}if(n.lineIndent<a){s===jn?n.result+=Ve.repeat(`
`,r?1+l:l):s===cn&&r&&(n.result+=`
`);break}for(i?ht(g)?(c=!0,n.result+=Ve.repeat(`
`,r?1+l:l)):c?(c=!1,n.result+=Ve.repeat(`
`,l+1)):l===0?r&&(n.result+=" "):n.result+=Ve.repeat(`
`,l):n.result+=Ve.repeat(`
`,r?1+l:l),r=!0,o=!0,l=0,t=n.position;!tt(g)&&g!==0;)g=n.input.charCodeAt(++n.position);ct(n,t,n.position,!1)}return!0}function Wn(n,e){var t,i=n.tag,s=n.anchor,r=[],o,a=!1,l;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=r),l=n.input.charCodeAt(n.position);l!==0&&(n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,se(n,"tab characters must not be used in indentation")),!(l!==45||(o=n.input.charCodeAt(n.position+1),!Je(o))));){if(a=!0,n.position++,ze(n,!0,-1)&&n.lineIndent<=e){r.push(null),l=n.input.charCodeAt(n.position);continue}if(t=n.line,Dt(n,e,Cs,!1,!0),r.push(n.result),ze(n,!0,-1),l=n.input.charCodeAt(n.position),(n.line===t||n.lineIndent>e)&&l!==0)se(n,"bad indentation of a sequence entry");else if(n.lineIndent<e)break}return a?(n.tag=i,n.anchor=s,n.kind="sequence",n.result=r,!0):!1}function rl(n,e,t){var i,s,r,o,a,l,c=n.tag,p=n.anchor,g={},h=Object.create(null),m=null,d=null,f=null,v=!1,w=!1,S;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=g),S=n.input.charCodeAt(n.position);S!==0;){if(!v&&n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,se(n,"tab characters must not be used in indentation")),i=n.input.charCodeAt(n.position+1),r=n.line,(S===63||S===58)&&Je(i))S===63?(v&&(Et(n,g,h,m,d,null,o,a,l),m=d=f=null),w=!0,v=!0,s=!0):v?(v=!1,s=!0):se(n,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),n.position+=1,S=i;else{if(o=n.line,a=n.lineStart,l=n.position,!Dt(n,t,Es,!1,!0))break;if(n.line===r){for(S=n.input.charCodeAt(n.position);ht(S);)S=n.input.charCodeAt(++n.position);if(S===58)S=n.input.charCodeAt(++n.position),Je(S)||se(n,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(Et(n,g,h,m,d,null,o,a,l),m=d=f=null),w=!0,v=!1,s=!1,m=n.tag,d=n.result;else if(w)se(n,"can not read an implicit mapping pair; a colon is missed");else return n.tag=c,n.anchor=p,!0}else if(w)se(n,"can not read a block mapping entry; a multiline key may not be an implicit key");else return n.tag=c,n.anchor=p,!0}if((n.line===r||n.lineIndent>e)&&(v&&(o=n.line,a=n.lineStart,l=n.position),Dt(n,e,Ht,!0,s)&&(v?d=n.result:f=n.result),v||(Et(n,g,h,m,d,f,o,a,l),m=d=f=null),ze(n,!0,-1),S=n.input.charCodeAt(n.position)),(n.line===r||n.lineIndent>e)&&S!==0)se(n,"bad indentation of a mapping entry");else if(n.lineIndent<e)break}return v&&Et(n,g,h,m,d,null,o,a,l),w&&(n.tag=c,n.anchor=p,n.kind="mapping",n.result=g),w}function ol(n){var e,t=!1,i=!1,s,r,o;if(o=n.input.charCodeAt(n.position),o!==33)return!1;if(n.tag!==null&&se(n,"duplication of a tag property"),o=n.input.charCodeAt(++n.position),o===60?(t=!0,o=n.input.charCodeAt(++n.position)):o===33?(i=!0,s="!!",o=n.input.charCodeAt(++n.position)):s="!",e=n.position,t){do o=n.input.charCodeAt(++n.position);while(o!==0&&o!==62);n.position<n.length?(r=n.input.slice(e,n.position),o=n.input.charCodeAt(++n.position)):se(n,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Je(o);)o===33&&(i?se(n,"tag suffix cannot contain exclamation marks"):(s=n.input.slice(e-1,n.position+1),ks.test(s)||se(n,"named tag handle cannot contain such characters"),i=!0,e=n.position+1)),o=n.input.charCodeAt(++n.position);r=n.input.slice(e,n.position),Ka.test(r)&&se(n,"tag suffix cannot contain flow indicator characters")}r&&!Ds.test(r)&&se(n,"tag name cannot contain such characters: "+r);try{r=decodeURIComponent(r)}catch{se(n,"tag name is malformed: "+r)}return t?n.tag=r:dt.call(n.tagMap,s)?n.tag=n.tagMap[s]+r:s==="!"?n.tag="!"+r:s==="!!"?n.tag="tag:yaml.org,2002:"+r:se(n,'undeclared tag handle "'+s+'"'),!0}function al(n){var e,t;if(t=n.input.charCodeAt(n.position),t!==38)return!1;for(n.anchor!==null&&se(n,"duplication of an anchor property"),t=n.input.charCodeAt(++n.position),e=n.position;t!==0&&!Je(t)&&!xt(t);)t=n.input.charCodeAt(++n.position);return n.position===e&&se(n,"name of an anchor node must contain at least one character"),n.anchor=n.input.slice(e,n.position),!0}function ll(n){var e,t,i;if(i=n.input.charCodeAt(n.position),i!==42)return!1;for(i=n.input.charCodeAt(++n.position),e=n.position;i!==0&&!Je(i)&&!xt(i);)i=n.input.charCodeAt(++n.position);return n.position===e&&se(n,"name of an alias node must contain at least one character"),t=n.input.slice(e,n.position),dt.call(n.anchorMap,t)||se(n,'unidentified alias "'+t+'"'),n.result=n.anchorMap[t],ze(n,!0,-1),!0}function Dt(n,e,t,i,s){var r,o,a,l=1,c=!1,p=!1,g,h,m,d,f,v;if(n.listener!==null&&n.listener("open",n),n.tag=null,n.anchor=null,n.kind=null,n.result=null,r=o=a=Ht===t||Cs===t,i&&ze(n,!0,-1)&&(c=!0,n.lineIndent>e?l=1:n.lineIndent===e?l=0:n.lineIndent<e&&(l=-1)),l===1)for(;ol(n)||al(n);)ze(n,!0,-1)?(c=!0,a=r,n.lineIndent>e?l=1:n.lineIndent===e?l=0:n.lineIndent<e&&(l=-1)):a=!1;if(a&&(a=c||s),(l===1||Ht===t)&&(Kt===t||Es===t?f=e:f=e+1,v=n.position-n.lineStart,l===1?a&&(Wn(n,v)||rl(n,v,f))||il(n,f)?p=!0:(o&&sl(n,f)||tl(n,f)||nl(n,f)?p=!0:ll(n)?(p=!0,(n.tag!==null||n.anchor!==null)&&se(n,"alias node should not have any properties")):el(n,f,Kt===t)&&(p=!0,n.tag===null&&(n.tag="?")),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):l===0&&(p=a&&Wn(n,v))),n.tag===null)n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);else if(n.tag==="?"){for(n.result!==null&&n.kind!=="scalar"&&se(n,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+n.kind+'"'),g=0,h=n.implicitTypes.length;g<h;g+=1)if(d=n.implicitTypes[g],d.resolve(n.result)){n.result=d.construct(n.result),n.tag=d.tag,n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);break}}else if(n.tag!=="!"){if(dt.call(n.typeMap[n.kind||"fallback"],n.tag))d=n.typeMap[n.kind||"fallback"][n.tag];else for(d=null,m=n.typeMap.multi[n.kind||"fallback"],g=0,h=m.length;g<h;g+=1)if(n.tag.slice(0,m[g].tag.length)===m[g].tag){d=m[g];break}d||se(n,"unknown tag !<"+n.tag+">"),n.result!==null&&d.kind!==n.kind&&se(n,"unacceptable node kind for !<"+n.tag+'> tag; it should be "'+d.kind+'", not "'+n.kind+'"'),d.resolve(n.result,n.tag)?(n.result=d.construct(n.result,n.tag),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):se(n,"cannot resolve a node with !<"+n.tag+"> explicit tag")}return n.listener!==null&&n.listener("close",n),n.tag!==null||n.anchor!==null||p}function cl(n){var e=n.position,t,i,s,r=!1,o;for(n.version=null,n.checkLineBreaks=n.legacy,n.tagMap=Object.create(null),n.anchorMap=Object.create(null);(o=n.input.charCodeAt(n.position))!==0&&(ze(n,!0,-1),o=n.input.charCodeAt(n.position),!(n.lineIndent>0||o!==37));){for(r=!0,o=n.input.charCodeAt(++n.position),t=n.position;o!==0&&!Je(o);)o=n.input.charCodeAt(++n.position);for(i=n.input.slice(t,n.position),s=[],i.length<1&&se(n,"directive name must not be less than one character in length");o!==0;){for(;ht(o);)o=n.input.charCodeAt(++n.position);if(o===35){do o=n.input.charCodeAt(++n.position);while(o!==0&&!tt(o));break}if(tt(o))break;for(t=n.position;o!==0&&!Je(o);)o=n.input.charCodeAt(++n.position);s.push(n.input.slice(t,n.position))}o!==0&&kn(n),dt.call(Gn,i)?Gn[i](n,i,s):Jt(n,'unknown document directive "'+i+'"')}if(ze(n,!0,-1),n.lineIndent===0&&n.input.charCodeAt(n.position)===45&&n.input.charCodeAt(n.position+1)===45&&n.input.charCodeAt(n.position+2)===45?(n.position+=3,ze(n,!0,-1)):r&&se(n,"directives end mark is expected"),Dt(n,n.lineIndent-1,Ht,!1,!0),ze(n,!0,-1),n.checkLineBreaks&&Wa.test(n.input.slice(e,n.position))&&Jt(n,"non-ASCII line breaks are interpreted as content"),n.documents.push(n.result),n.position===n.lineStart&&tn(n)){n.input.charCodeAt(n.position)===46&&(n.position+=3,ze(n,!0,-1));return}if(n.position<n.length-1)se(n,"end of the stream or a document separator is expected");else return}function Ns(n,e){n=String(n),e=e||{},n.length!==0&&(n.charCodeAt(n.length-1)!==10&&n.charCodeAt(n.length-1)!==13&&(n+=`
`),n.charCodeAt(0)===65279&&(n=n.slice(1)));var t=new Xa(n,e),i=n.indexOf("\0");for(i!==-1&&(t.position=i,se(t,"null byte is not allowed in input")),t.input+="\0";t.input.charCodeAt(t.position)===32;)t.lineIndent+=1,t.position+=1;for(;t.position<t.length-1;)cl(t);return t.documents}function dl(n,e,t){e!==null&&typeof e=="object"&&typeof t>"u"&&(t=e,e=null);var i=Ns(n,t);if(typeof e!="function")return i;for(var s=0,r=i.length;s<r;s+=1)e(i[s])}function ul(n,e){var t=Ns(n,e);if(t.length!==0){if(t.length===1)return t[0];throw new He("expected a single document in the stream, but found more")}}var pl=dl,gl=ul,hl={loadAll:pl,load:gl},As=Object.prototype.toString,Os=Object.prototype.hasOwnProperty,Pn=65279,fl=9,It=10,ml=13,yl=32,bl=33,vl=34,mn=35,wl=37,Sl=38,_l=39,xl=42,Is=44,El=45,Qt=58,Cl=61,kl=62,Dl=63,Pl=64,Rs=91,Ls=93,Tl=96,Fs=123,Ml=124,$s=125,We={};We[0]="\\0";We[7]="\\a";We[8]="\\b";We[9]="\\t";We[10]="\\n";We[11]="\\v";We[12]="\\f";We[13]="\\r";We[27]="\\e";We[34]='\\"';We[92]="\\\\";We[133]="\\N";We[160]="\\_";We[8232]="\\L";We[8233]="\\P";var Nl=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Al=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Ol(n,e){var t,i,s,r,o,a,l;if(e===null)return{};for(t={},i=Object.keys(e),s=0,r=i.length;s<r;s+=1)o=i[s],a=String(e[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=n.compiledTypeMap.fallback[o],l&&Os.call(l.styleAliases,a)&&(a=l.styleAliases[a]),t[o]=a;return t}function Il(n){var e,t,i;if(e=n.toString(16).toUpperCase(),n<=255)t="x",i=2;else if(n<=65535)t="u",i=4;else if(n<=4294967295)t="U",i=8;else throw new He("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+t+Ve.repeat("0",i-e.length)+e}var Rl=1,Rt=2;function Ll(n){this.schema=n.schema||Cn,this.indent=Math.max(1,n.indent||2),this.noArrayIndent=n.noArrayIndent||!1,this.skipInvalid=n.skipInvalid||!1,this.flowLevel=Ve.isNothing(n.flowLevel)?-1:n.flowLevel,this.styleMap=Ol(this.schema,n.styles||null),this.sortKeys=n.sortKeys||!1,this.lineWidth=n.lineWidth||80,this.noRefs=n.noRefs||!1,this.noCompatMode=n.noCompatMode||!1,this.condenseFlow=n.condenseFlow||!1,this.quotingType=n.quotingType==='"'?Rt:Rl,this.forceQuotes=n.forceQuotes||!1,this.replacer=typeof n.replacer=="function"?n.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Kn(n,e){for(var t=Ve.repeat(" ",e),i=0,s=-1,r="",o,a=n.length;i<a;)s=n.indexOf(`
`,i),s===-1?(o=n.slice(i),i=a):(o=n.slice(i,s+1),i=s+1),o.length&&o!==`
`&&(r+=t),r+=o;return r}function yn(n,e){return`
`+Ve.repeat(" ",n.indent*e)}function Fl(n,e){var t,i,s;for(t=0,i=n.implicitTypes.length;t<i;t+=1)if(s=n.implicitTypes[t],s.resolve(e))return!0;return!1}function Zt(n){return n===yl||n===fl}function Lt(n){return 32<=n&&n<=126||161<=n&&n<=55295&&n!==8232&&n!==8233||57344<=n&&n<=65533&&n!==Pn||65536<=n&&n<=1114111}function Hn(n){return Lt(n)&&n!==Pn&&n!==ml&&n!==It}function Jn(n,e,t){var i=Hn(n),s=i&&!Zt(n);return(t?i:i&&n!==Is&&n!==Rs&&n!==Ls&&n!==Fs&&n!==$s)&&n!==mn&&!(e===Qt&&!s)||Hn(e)&&!Zt(e)&&n===mn||e===Qt&&s}function $l(n){return Lt(n)&&n!==Pn&&!Zt(n)&&n!==El&&n!==Dl&&n!==Qt&&n!==Is&&n!==Rs&&n!==Ls&&n!==Fs&&n!==$s&&n!==mn&&n!==Sl&&n!==xl&&n!==bl&&n!==Ml&&n!==Cl&&n!==kl&&n!==_l&&n!==vl&&n!==wl&&n!==Pl&&n!==Tl}function Ul(n){return!Zt(n)&&n!==Qt}function Mt(n,e){var t=n.charCodeAt(e),i;return t>=55296&&t<=56319&&e+1<n.length&&(i=n.charCodeAt(e+1),i>=56320&&i<=57343)?(t-55296)*1024+i-56320+65536:t}function Us(n){var e=/^\n* /;return e.test(n)}var Bs=1,bn=2,zs=3,js=4,St=5;function Bl(n,e,t,i,s,r,o,a){var l,c=0,p=null,g=!1,h=!1,m=i!==-1,d=-1,f=$l(Mt(n,0))&&Ul(Mt(n,n.length-1));if(e||o)for(l=0;l<n.length;c>=65536?l+=2:l++){if(c=Mt(n,l),!Lt(c))return St;f=f&&Jn(c,p,a),p=c}else{for(l=0;l<n.length;c>=65536?l+=2:l++){if(c=Mt(n,l),c===It)g=!0,m&&(h=h||l-d-1>i&&n[d+1]!==" ",d=l);else if(!Lt(c))return St;f=f&&Jn(c,p,a),p=c}h=h||m&&l-d-1>i&&n[d+1]!==" "}return!g&&!h?f&&!o&&!s(n)?Bs:r===Rt?St:bn:t>9&&Us(n)?St:o?r===Rt?St:bn:h?js:zs}function zl(n,e,t,i,s){n.dump=function(){if(e.length===0)return n.quotingType===Rt?'""':"''";if(!n.noCompatMode&&(Nl.indexOf(e)!==-1||Al.test(e)))return n.quotingType===Rt?'"'+e+'"':"'"+e+"'";var r=n.indent*Math.max(1,t),o=n.lineWidth===-1?-1:Math.max(Math.min(n.lineWidth,40),n.lineWidth-r),a=i||n.flowLevel>-1&&t>=n.flowLevel;function l(c){return Fl(n,c)}switch(Bl(e,a,n.indent,o,l,n.quotingType,n.forceQuotes&&!i,s)){case Bs:return e;case bn:return"'"+e.replace(/'/g,"''")+"'";case zs:return"|"+Qn(e,n.indent)+Zn(Kn(e,r));case js:return">"+Qn(e,n.indent)+Zn(Kn(jl(e,o),r));case St:return'"'+Vl(e)+'"';default:throw new He("impossible error: invalid scalar style")}}()}function Qn(n,e){var t=Us(n)?String(e):"",i=n[n.length-1]===`
`,s=i&&(n[n.length-2]===`
`||n===`
`),r=s?"+":i?"":"-";return t+r+`
`}function Zn(n){return n[n.length-1]===`
`?n.slice(0,-1):n}function jl(n,e){for(var t=/(\n+)([^\n]*)/g,i=function(){var c=n.indexOf(`
`);return c=c!==-1?c:n.length,t.lastIndex=c,Xn(n.slice(0,c),e)}(),s=n[0]===`
`||n[0]===" ",r,o;o=t.exec(n);){var a=o[1],l=o[2];r=l[0]===" ",i+=a+(!s&&!r&&l!==""?`
`:"")+Xn(l,e),s=r}return i}function Xn(n,e){if(n===""||n[0]===" ")return n;for(var t=/ [^ ]/g,i,s=0,r,o=0,a=0,l="";i=t.exec(n);)a=i.index,a-s>e&&(r=o>s?o:a,l+=`
`+n.slice(s,r),s=r+1),o=a;return l+=`
`,n.length-s>e&&o>s?l+=n.slice(s,o)+`
`+n.slice(o+1):l+=n.slice(s),l.slice(1)}function Vl(n){for(var e="",t=0,i,s=0;s<n.length;t>=65536?s+=2:s++)t=Mt(n,s),i=We[t],!i&&Lt(t)?(e+=n[s],t>=65536&&(e+=n[s+1])):e+=i||Il(t);return e}function Yl(n,e,t){var i="",s=n.tag,r,o,a;for(r=0,o=t.length;r<o;r+=1)a=t[r],n.replacer&&(a=n.replacer.call(t,String(r),a)),(st(n,e,a,!1,!1)||typeof a>"u"&&st(n,e,null,!1,!1))&&(i!==""&&(i+=","+(n.condenseFlow?"":" ")),i+=n.dump);n.tag=s,n.dump="["+i+"]"}function ei(n,e,t,i){var s="",r=n.tag,o,a,l;for(o=0,a=t.length;o<a;o+=1)l=t[o],n.replacer&&(l=n.replacer.call(t,String(o),l)),(st(n,e+1,l,!0,!0,!1,!0)||typeof l>"u"&&st(n,e+1,null,!0,!0,!1,!0))&&((!i||s!=="")&&(s+=yn(n,e)),n.dump&&It===n.dump.charCodeAt(0)?s+="-":s+="- ",s+=n.dump);n.tag=r,n.dump=s||"[]"}function Gl(n,e,t){var i="",s=n.tag,r=Object.keys(t),o,a,l,c,p;for(o=0,a=r.length;o<a;o+=1)p="",i!==""&&(p+=", "),n.condenseFlow&&(p+='"'),l=r[o],c=t[l],n.replacer&&(c=n.replacer.call(t,l,c)),st(n,e,l,!1,!1)&&(n.dump.length>1024&&(p+="? "),p+=n.dump+(n.condenseFlow?'"':"")+":"+(n.condenseFlow?"":" "),st(n,e,c,!1,!1)&&(p+=n.dump,i+=p));n.tag=s,n.dump="{"+i+"}"}function ql(n,e,t,i){var s="",r=n.tag,o=Object.keys(t),a,l,c,p,g,h;if(n.sortKeys===!0)o.sort();else if(typeof n.sortKeys=="function")o.sort(n.sortKeys);else if(n.sortKeys)throw new He("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)h="",(!i||s!=="")&&(h+=yn(n,e)),c=o[a],p=t[c],n.replacer&&(p=n.replacer.call(t,c,p)),st(n,e+1,c,!0,!0,!0)&&(g=n.tag!==null&&n.tag!=="?"||n.dump&&n.dump.length>1024,g&&(n.dump&&It===n.dump.charCodeAt(0)?h+="?":h+="? "),h+=n.dump,g&&(h+=yn(n,e)),st(n,e+1,p,!0,g)&&(n.dump&&It===n.dump.charCodeAt(0)?h+=":":h+=": ",h+=n.dump,s+=h));n.tag=r,n.dump=s||"{}"}function ti(n,e,t){var i,s,r,o,a,l;for(s=t?n.explicitTypes:n.implicitTypes,r=0,o=s.length;r<o;r+=1)if(a=s[r],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof e=="object"&&e instanceof a.instanceOf)&&(!a.predicate||a.predicate(e))){if(t?a.multi&&a.representName?n.tag=a.representName(e):n.tag=a.tag:n.tag="?",a.represent){if(l=n.styleMap[a.tag]||a.defaultStyle,As.call(a.represent)==="[object Function]")i=a.represent(e,l);else if(Os.call(a.represent,l))i=a.represent[l](e,l);else throw new He("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');n.dump=i}return!0}return!1}function st(n,e,t,i,s,r,o){n.tag=null,n.dump=t,ti(n,t,!1)||ti(n,t,!0);var a=As.call(n.dump),l=i,c;i&&(i=n.flowLevel<0||n.flowLevel>e);var p=a==="[object Object]"||a==="[object Array]",g,h;if(p&&(g=n.duplicates.indexOf(t),h=g!==-1),(n.tag!==null&&n.tag!=="?"||h||n.indent!==2&&e>0)&&(s=!1),h&&n.usedDuplicates[g])n.dump="*ref_"+g;else{if(p&&h&&!n.usedDuplicates[g]&&(n.usedDuplicates[g]=!0),a==="[object Object]")i&&Object.keys(n.dump).length!==0?(ql(n,e,n.dump,s),h&&(n.dump="&ref_"+g+n.dump)):(Gl(n,e,n.dump),h&&(n.dump="&ref_"+g+" "+n.dump));else if(a==="[object Array]")i&&n.dump.length!==0?(n.noArrayIndent&&!o&&e>0?ei(n,e-1,n.dump,s):ei(n,e,n.dump,s),h&&(n.dump="&ref_"+g+n.dump)):(Yl(n,e,n.dump),h&&(n.dump="&ref_"+g+" "+n.dump));else if(a==="[object String]")n.tag!=="?"&&zl(n,n.dump,e,r,l);else{if(a==="[object Undefined]")return!1;if(n.skipInvalid)return!1;throw new He("unacceptable kind of an object to dump "+a)}n.tag!==null&&n.tag!=="?"&&(c=encodeURI(n.tag[0]==="!"?n.tag.slice(1):n.tag).replace(/!/g,"%21"),n.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",n.dump=c+" "+n.dump)}return!0}function Wl(n,e){var t=[],i=[],s,r;for(vn(n,t,i),s=0,r=i.length;s<r;s+=1)e.duplicates.push(t[i[s]]);e.usedDuplicates=new Array(r)}function vn(n,e,t){var i,s,r;if(n!==null&&typeof n=="object")if(s=e.indexOf(n),s!==-1)t.indexOf(s)===-1&&t.push(s);else if(e.push(n),Array.isArray(n))for(s=0,r=n.length;s<r;s+=1)vn(n[s],e,t);else for(i=Object.keys(n),s=0,r=i.length;s<r;s+=1)vn(n[i[s]],e,t)}function Kl(n,e){e=e||{};var t=new Ll(e);t.noRefs||Wl(n,t);var i=n;return t.replacer&&(i=t.replacer.call({"":i},"",i)),st(t,0,i,!0,!0)?t.dump+`
---`,3);if(e!==-1){const t=n.slice(3,e+1),i=n.slice(e+4);return{frontmatter:t,body:i}}}return{frontmatter:null,body:n}}function Ys(n){if(!n)return null;try{const e=Zl(n);return typeof e=="object"&&e!==null?e:{}}catch(e){throw lt.error("[FrontmatterUtils] YAML parse failed:",String(e)),new Error("Malformed frontmatter: "+String(e))}}function ec(n){return Xl(n,{schema:Ql,noRefs:!0,sortKeys:!1})}async function Yt(n,e){try{try{const o=n.metadataCache.getFileCache(e);if(o&&o.frontmatter&&typeof o.frontmatter=="object"){const a=o.frontmatter[wn];if(typeof a=="string")return a;if(a!=null)return String(a)}}catch(o){lt.debug("[FrontmatterUtils] metadataCache read failed, falling back to file read.",String(o))}const t=await n.vault.read(e),{frontmatter:i}=Vs(t);if(!i)return null;const s=Ys(i);if(!s)return null;const r=s[wn];return typeof r=="string"?r:r!=null?String(r):null}catch(t){return lt.error("[FrontmatterUtils] Failed to read mm_uid for file:",e.path,String(t)),null}}async function tc(n,e,t){try{const i=await n.vault.read(e),{frontmatter:s,body:r}=Vs(i);let o={};if(s)try{o=Ys(s)||{}}catch(c){throw lt.error("[FrontmatterUtils] Malformed frontmatter when writing mm_uid for",e.path,String(c)),c}o[wn]=t;const l=`---
${ec(o).trimEnd()}
---
${r}`;if(n.vault&&typeof n.vault.modify=="function"){await n.vault.modify(e,l),lt.info("[FrontmatterUtils] Wrote mm_uid to",e.path);return}if(n.vault&&n.vault.adapter&&typeof n.vault.adapter.write=="function"){await n.vault.adapter.write(e.path,l),lt.info("[FrontmatterUtils] Wrote mm_uid to (adapter) ",e.path);return}await Vt.promises.writeFile(e.path,l,{encoding:"utf8"}),lt.info("[FrontmatterUtils] Wrote mm_uid to (fs) ",e.path)}catch(i){throw lt.error("[FrontmatterUtils] Failed to write mm_uid for file:",e.path,String(i)),i}}var it=(n=>(n.NOT_SYNCED="not-synced",n.SYNCED="synced",n.PRIVATE="private",n.SYNCING="syncing",n.ERROR="error",n))(it||{});class nc{constructor(e,t,i,s,r){this.activeSyncs=new Map,this.syncQueue=[],this.isProcessingQueue=!1,this.app=e,this.settings=t,this.graphitiService=i,this.syncRegistryService=s,this.logger=r,this.logger.info("SyncStatusManager initialized")}async enqueue(e,t="obsidian_mm_individual"){return new Promise((i,s)=>{const r={file:e,source_description:t,resolve:i,reject:s};this.syncQueue.push(r),this.syncQueue.length===1?this.logger.info(`Starting sync for ${e.name}`):this.logger.info(`Sync queued for ${e.name} (position ${this.syncQueue.length} in queue)`),this.processQueue()})}async processQueue(){if(!(this.isProcessingQueue||this.syncQueue.length===0)){for(this.isProcessingQueue=!0;this.syncQueue.length>0;){const e=this.syncQueue.shift();try{const t=await this.syncNote(e.file,e.source_description);e.resolve(t)}catch(t){e.reject(t)}}this.isProcessingQueue=!1}}updateSettings(e){this.settings=e,this.logger.setDebug(e.enableDebugLogging),this.logger.debug("SyncStatusManager settings updated")}async getNoteSyncStatus(e){var t;try{if(this.activeSyncs.has(e.path))return{status:it.SYNCING,reason:"Sync operation in progress"};if(this.isNotePrivate(e))return{status:it.PRIVATE,reason:"Note is marked private or in excluded folder"};const i=await Yt(this.app,e);if(!i)return{status:it.NOT_SYNCED,reason:"Note has no mm_uid - has not been synced to Graphiti"};const s=this.app.vault.getName(),r=this.getCurrentDatabaseType(),o=this.syncRegistryService.getSyncRecord(i,s);if(o){const a=o.syncs.find(c=>c.database_id===r);if(a){if(a.error_message)return{status:it.ERROR,reason:`Last sync failed: ${a.error_message}`,lastSynced:a.last_sync,episodeId:a.episode_uuid,syncType:a.source_description};const c=(t=a.source_description)!=null&&t.includes("individual")?"individual sync":"sync";return{status:it.SYNCED,reason:`Note has been synced to Graphiti (${c})`,lastSynced:a.last_sync,episodeId:a.episode_uuid,syncType:a.source_description}}const l=o.syncs.map(c=>c.database_id).join(", ");return{status:it.NOT_SYNCED,reason:`Note was synced to other databases (${l}) but not current database (${r})`}}return{status:it.NOT_SYNCED,reason:`Note has mm_uid (${i}) but no sync record found - may need re-sync`}}catch(i){return this.logger.error("Error determining sync status",{file:e.path,error:i}),{status:it.ERROR,reason:`Error determining status: ${i instanceof Error?i.message:String(i)}`}}}getStatus(e){var t;try{if(this.activeSyncs.has(e.path))return"SYNCING";if(this.isNotePrivate(e))return"PRIVATE";const i=this.app.metadataCache.getFileCache(e),s=(t=i==null?void 0:i.frontmatter)==null?void 0:t.mm_uid;if(!s||typeof s!="string")return"NOT_SYNCED";const r=this.app.vault.getName(),o=this.getCurrentDatabaseType(),a=this.syncRegistryService.getSyncRecord(s,r);if(a){const l=a.syncs.find(c=>c.database_id===o);return l?l.error_message?"ERROR":"SYNCED":"NOT_SYNCED"}return"NOT_SYNCED"}catch(i){return this.logger.error("Error getting sync status",{file:e.path,error:i}),"ERROR"}}extractMmUidFromSyncResult(e){var t,i,s,r;try{if(e.episode_uuid&&typeof e.episode_uuid=="string")return this.logger.debug(`Extracted mm_uid from top-level episode_uuid: ${e.episode_uuid}`),e.episode_uuid;if(e.notes&&Array.isArray(e.notes))for(const o of e.notes){if(o.episode_uuid&&typeof o.episode_uuid=="string")return this.logger.debug("Extracted mm_uid from notes array episode_uuid",{mmUid:o.episode_uuid}),o.episode_uuid;if((i=(t=o.graphiti_response)==null?void 0:t.episode)!=null&&i.uuid&&typeof o.graphiti_response.episode.uuid=="string")return this.logger.debug("Extracted mm_uid from graphiti_response.episode.uuid",{mmUid:o.graphiti_response.episode.uuid}),o.graphiti_response.episode.uuid}if(e.pythonStdout&&typeof e.pythonStdout=="string"){const o=e.pythonStdout.split(`
`);for(const a of o)if(a.trim())try{const l=JSON.parse(a);if(l.episode_uuid&&typeof l.episode_uuid=="string")return this.logger.debug("Extracted mm_uid from Python stdout top-level",{mmUid:l.episode_uuid}),l.episode_uuid;if(l.notes&&Array.isArray(l.notes))for(const c of l.notes){if(c.episode_uuid&&typeof c.episode_uuid=="string")return this.logger.debug(`Extracted mm_uid from Python stdout notes array: ${c.episode_uuid}`),c.episode_uuid;if((r=(s=c.graphiti_response)==null?void 0:s.episode)!=null&&r.uuid&&typeof c.graphiti_response.episode.uuid=="string")return this.logger.debug(`Extracted mm_uid from Python stdout graphiti_response: ${c.graphiti_response.episode.uuid}`),c.graphiti_response.episode.uuid}}catch{continue}}return this.logger.warn("Could not extract mm_uid from sync result",{result:e}),null}catch(o){return this.logger.error("Error extracting mm_uid from sync result",{error:o,result:e}),null}}isNotePrivate(e){var t;try{if(this.settings.excludedFolders.some(r=>e.path.startsWith(r.endsWith("/")?r:r+"/")))return this.logger.debug("Note is in excluded folder",{file:e.path,excludedFolders:this.settings.excludedFolders}),!0;if(this.settings.includedFolders.length>0&&!this.settings.includedFolders.some(o=>e.path.startsWith(o.endsWith("/")?o:o+"/")))return this.logger.debug("Note is not in included folders",{file:e.path,includedFolders:this.settings.includedFolders}),!0;const s=this.app.metadataCache.getFileCache(e);return((t=s==null?void 0:s.frontmatter)==null?void 0:t.private)===!0?(this.logger.debug("Note marked as private in frontmatter",{file:e.path}),!0):!1}catch(i){return this.logger.error("Error checking if note is private",{file:e.path,error:i}),!1}}getCurrentDatabaseType(){return this.settings.databaseType||"neo4j"}async syncNote(e,t="obsidian_mm_individual"){this.logger.debug("[SYNC-DIAGNOSIS] SyncStatusManager.syncNote() called - this path INCLUDES registry recording");const i=e.path;try{if(this.activeSyncs.has(i))throw new Error("Note is already being synced");if(this.isNotePrivate(e))throw new Error("Cannot sync private note");this.logger.info(`Starting sync for file: ${i}`),this.activeSyncs.set(i,!0);const r=this.app.vault.adapter.basePath,o=this.normalizeNotePath(i,r);this.logger.debug("[SYNC-DIAGNOSIS] Initiating individual note sync",{file:o,vaultPath:r});const a=await this.graphitiService.testManualSync(o,t);if(a.status==="success"){const l=this.extractMmUidFromSyncResult(a);l||this.logger.warn("Sync completed but no mm_uid extracted from result",{file:i,result:a}),await this.updateNoteProperties(e,a,t,l||void 0),this.settings.showNotifications&&new C.Notice(`[SUCCESS] ${e.name} synced successfully`)}else{const l=await Yt(this.app,e),c=this.app.vault.getName(),p=this.getCurrentDatabaseType(),g=a.message||"Sync failed";try{l?await this.syncRegistryService.addOrUpdateSyncRecord({mmUid:l,notePath:e.path,vaultId:c,syncEntry:{database_id:p,group_id:await this.syncRegistryService.generateGroupId(e.path,c),episode_uuid:l,last_sync:new Date().toISOString(),source_description:t,error_message:g}}):await this.syncRegistryService.addOrUpdateSyncRecord({mmUid:`error-${Date.now()}`,notePath:e.path,vaultId:c,syncEntry:{database_id:p,group_id:await this.syncRegistryService.generateGroupId(e.path,c),episode_uuid:`error-${Date.now()}`,last_sync:new Date().toISOString(),source_description:t,error_message:g}})}catch(h){this.logger.error("Failed to record sync error in registry",{error:h,file:i,mmUid:l||"none"})}this.settings.showNotifications&&new C.Notice(`[ERROR] Failed to sync ${e.name}: ${g}`),this.logger.error(`Note sync failed for ${i}: ${a.message||"Unknown error"}`,{mmUid:l||"none"})}return a}catch(s){const r=s instanceof Error?s.message:String(s);return this.settings.showNotifications&&new C.Notice(`[ERROR] Sync error for ${e.name}: ${r}`),this.logger.error("Note sync error",{file:i,error:s}),{status:"error",processed:0,skipped:0,total:1,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:r}}finally{this.activeSyncs.has(i)&&(this.activeSyncs.delete(i),this.logger.debug("[RACE-FIX] Cleaned up activeSyncs in finally block (error case)",{file:i}))}}async updateNoteProperties(e,t,i="obsidian_manual",s){const r=e.path;try{const o=await Yt(this.app,e),a=s||this.extractMmUidFromSyncResult(t);if(!a){this.logger.warn("No mm_uid found in sync result for note properties update",{file:e.path,result:t});return}this.activeSyncs.delete(r);const l=this.app.vault.getName(),c=this.getCurrentDatabaseType(),p=new Date().toISOString();o?(this.logger.debug(`Note already has mm_uid in frontmatter: ${o}, preserving original`),await this.syncRegistryService.addOrUpdateSyncRecord({mmUid:o,notePath:e.path,vaultId:l,syncEntry:{database_id:c,group_id:await this.syncRegistryService.generateGroupId(e.path,l),episode_uuid:a,last_sync:p,source_description:i}}),this.logger.info(`Updated existing sync record for ${e.path} with preserved mm_uid: ${o}`)):(await tc(this.app,e,a),this.logger.debug(`Written mm_uid to frontmatter: ${e.path} -> ${a}`),await this.syncRegistryService.addOrUpdateSyncRecord({mmUid:a,notePath:e.path,vaultId:l,syncEntry:{database_id:c,group_id:await this.syncRegistryService.generateGroupId(e.path,l),episode_uuid:a,last_sync:p,source_description:i}}),this.logger.info(`Created new sync record and frontmatter for ${e.path} with mm_uid: ${a}`))}catch(o){throw this.logger.error(`Failed to update note properties for ${e.path}`,{error:o,mmUid:s||this.extractMmUidFromSyncResult(t)||"none"}),o}}generateEpisodeId(e){if(e.episode_uuid)return this.logger.debug("Generated Episode ID: Top-level episode_uuid found.",{episodeId:e.episode_uuid}),e.episode_uuid;if(e.notes&&Array.isArray(e.notes))for(const r of e.notes){if(r.episode_uuid)return this.logger.debug("Extracted episode UUID from result.notes",{episodeId:r.episode_uuid}),r.episode_uuid;if(r.graphiti_response&&r.graphiti_response.episode&&r.graphiti_response.episode.uuid)return this.logger.debug("Extracted episode UUID from graphiti_response.episode.uuid",{episodeId:r.graphiti_response.episode.uuid}),r.graphiti_response.episode.uuid}if(e.pythonStdout)try{const r=e.pythonStdout.split(`
`);for(const o of r)if(o.trim())try{const a=JSON.parse(o);if(a.notes&&Array.isArray(a.notes))for(const l of a.notes){if(l.episode_uuid)return this.logger.debug("Generated Episode ID: Extracted from Python stdout notes array.",{episodeId:l.episode_uuid}),l.episode_uuid;if(l.graphiti_response&&l.graphiti_response.episode&&l.graphiti_response.episode.uuid)return this.logger.debug("Generated Episode ID: Extracted from Python stdout graphiti_response.episode.uuid in notes array.",{episodeId:l.graphiti_response.episode.uuid}),l.graphiti_response.episode.uuid}if(a.episode_uuid||a.episodeId){const l=a.episode_uuid||a.episodeId;return this.logger.debug("Generated Episode ID: Extracted from Python stdout top-level.",{episodeId:l}),l}}catch{this.logger.debug("generateEpisodeId: Could not parse Python stdout line as JSON (skipping)",{line:o});continue}}catch(r){this.logger.debug("generateEpisodeId: Could not parse episode UUID from Python stdout (overall error).",{error:r})}const t=Date.now(),i=Math.random().toString(36).substring(2,8),s=`episode-${t}-${i}`;return this.logger.warn("Generated Episode ID: Fallback ID generated (UUID not found in result).",{fallbackId:s,originalResult:e}),s}updateFrontmatter(e,t){const i=e.split(`
`);if(i[0]==="---"){let r=-1;for(let o=1;o<i.length;o++)if(i[o]==="---"){r=o;break}if(r!==-1){const o=i.slice(r+1).join(`
`);return`---
${this.serializeFrontmatter(t)}---
${o}`}}return`---
${this.serializeFrontmatter(t)}---
${bodyContent}`}serializeFrontmatter(e){let t="";for(const[i,s]of Object.entries(e))typeof s=="string"?t+=`${i}: "${s}"
`:t+=`${i}: ${s}
`;return t}getActiveSync(e){return this.activeSyncs.has(e)}getActiveSyncs(){return Array.from(this.activeSyncs.keys())}normalizeNotePath(e,t=null){let i=Nt.normalize(e);process.platform==="win32"&&i.startsWith("/")&&(i=i.substring(1)),i=i.replace(/\\/g,"/");const s=this.app.vault.getName();if(i.startsWith(s+"/")&&(i=i.substring(s.length+1)),t){let r=Nt.resolve(t,i);r=r.replace(/\\/g,"/");const o=r.split("/"),a=[],l=new Set;for(const c of o)c!==""&&(l.has(c)?a[a.length-1]!==c&&a.push(c):(a.push(c),l.add(c)));return r=a.join("/"),process.platform!=="win32"&&!r.startsWith("/")?r=`/${r}`:process.platform==="win32"&&/^[a-zA-Z]:\//.test(r),Nt.normalize(r).replace(/\\/g,"/")}return i}destroy(){this.activeSyncs.clear(),this.logger.info("SyncStatusManager destroyed")}}class ic{constructor(e,t,i){this.settings=e,this.app=t,this.logger=i}async resolveFolderForNote(e,t,i){try{if(i){const o=await this.validateAndCreateFolder(i,this.app.vault);return{success:o,folderPath:i,message:o?"Target folder validated":"Failed to validate target folder",created:!1}}const s=this.settings.mcpTools.defaults.inboxFolder||"",r=await this.validateAndCreateFolder(s,this.app.vault);return{success:r,folderPath:s,message:r?"Default folder resolved":"Failed to resolve default folder",created:!1}}catch(s){return this.logger.error("Error resolving folder for note",s),{success:!1,folderPath:"",message:`Error: ${s instanceof Error?s.message:String(s)}`}}}async validateAndCreateFolder(e,t){try{if(!e||e.trim()==="")return this.logger.debug("validateAndCreateFolder: empty folderPath, using vault root"),!0;const i=e.replace(/\\/g,"/").replace(/^\/+|\/+$/g,""),s=t==null?void 0:t.adapter;let r=!1;if(s&&typeof s.exists=="function")try{r=await s.exists(i)}catch(c){this.logger.warn("validateAndCreateFolder: adapter.exists threw, falling back to vault.getAbstractFileByPath",c),r=!1}if(!r)try{r=!!t.getAbstractFileByPath(i)}catch{r=!1}if(r)return this.logger.debug("validateAndCreateFolder: folder exists",{folderPath:i}),!0;const o=i.split("/").filter(Boolean);let a="",l=!1;for(const c of o){a=a?`${a}/${c}`:c;try{let p=!1;s&&typeof s.exists=="function"&&(p=await s.exists(a)),p||(typeof t.createFolder=="function"?(await t.createFolder(a),l=!0,this.logger.info("validateAndCreateFolder: created folder",{path:a})):s&&typeof s.mkdir=="function"?(await s.mkdir(a),l=!0,this.logger.info("validateAndCreateFolder: created folder via adapter.mkdir",{path:a})):this.logger.warn("validateAndCreateFolder: no method to create folder found",{path:a}))}catch(p){return this.logger.error("validateAndCreateFolder: failed to create folder segment",{path:a,error:p}),!1}}return this.logger.debug("validateAndCreateFolder: validation complete",{folderPath:i,created:l}),!0}catch(i){return this.logger.error("validateAndCreateFolder: unexpected error",i),!1}}generatePeriodicNotePath(e,t){const i=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${i}-${s}-${r}.md`}}class Gs{constructor(e,t,i,s,r){this.pythonProcess=null,this.mcpServerProcess=null,this.activeProcesses=new Set,this.isCancelled=!1,this.pathCache=new Map,this.cacheHits=0,this.cacheMisses=0,this.lastCacheLogTime=0,this.plugin=e,this.settings=t,this.schemaService=new vs(e.app),this.logger=new en(e,t.enableDebugLogging),this.noteSelectionService=new Do(e.app,e,this.logger),this.syncRegistryService=i,this.syncStatusManager=s,this.vaultRegistryService=r,this.logger.info("GraphitiService initialized"),this.logger.logSystemInfo()}invalidatePathCache(e){e?(this.pathCache.delete(e),this.logger.debug(`[PATHS] Invalidated cache for vault: ${e}`)):(this.pathCache.clear(),this.logger.debug("[PATHS] Cleared entire path cache"))}updateSettings(e){this.settings=e,this.logger.setDebug(e.enableDebugLogging),this.logger.debug("Settings updated in GraphitiService",{debugMode:e.enableDebugLogging})}getCurrentEmbeddingDimensions(){return this.settings.embedderProvider==="ollama"?String(this.settings.ollamaEmbeddingDim||768):"1536"}async initialize(){this.vaultRegistryService.onActiveVaultChange(t=>{t?this.invalidatePathCache(t):this.invalidatePathCache(),this.getVaultAwarePaths(t)}),this.vaultRegistryService.onRegistryUpdate(()=>{this.invalidatePathCache()});const e=this.vaultRegistryService.getActiveVaultId();e?this.getVaultAwarePaths(e):this.getVaultAwarePaths(null),this.initializeMCPToolsServices()}initializeMCPToolsServices(){this.mcpFolderResolver=new ic(this.settings,this.plugin.app,this.logger),this.logger.debug("MCP tools services initialized")}async resolveMCPNoteFolder(e,t,i){return this.mcpFolderResolver||this.initializeMCPToolsServices(),await this.mcpFolderResolver.resolveFolderForNote(e,t,i)}async syncNotesWithSettings(e,t,i="obsidian_mm_individual"){try{let s;if(e?s=e:this.settings.syncOptions==="new_only"?s=(await this.noteSelectionService.getNotesForAutoSync()).map(l=>l.path):s=(await this.noteSelectionService.getFilteredSyncableNotes()).map(l=>l.path),s.length===0)return{status:"error",processed:0,skipped:0,total:0,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:"No notes available for sync after applying settings filters"};const r={notesPaths:s,batchSize:this.settings.batchSize||10,debug:this.settings.enableDebugLogging,source_description:i,crossEncoderClient:this.settings.crossEncoderClient,crossEncoderModel:this.settings.crossEncoderModel,use_custom_ontology:this.settings.useCustomOntology};this.logger.info("Starting settings-based sync",{totalNotes:s.length,batchSize:r.batchSize,includedFolders:this.settings.includedFolders,excludedFolders:this.settings.excludedFolders});const o=await this.syncNotes(r,t,i);return this.logger.debug(`SYNC_COMPLETE: syncNotesWithSettings() finished - status: ${o.status}, processed: ${o.processed}, skipped: ${o.skipped}, total: ${o.total}, batches: ${o.batchCount}`),o}catch(s){return this.logger.error("Settings-based sync failed",s),{status:"error",processed:0,skipped:0,total:0,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:s instanceof Error?s.message:String(s)}}}async autoSync(e){if(!this.settings.autoSync&&e!=="manual")return{status:"error",processed:0,skipped:0,total:0,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:"Auto-sync is disabled in settings"};let t;e==="manual"?t="obsidian_mm_individual":this.settings.syncOptions==="new_only"?t="obsidian_auto_new":t="obsidian_auto_updated",this.logger.debug("Enhanced auto-sync triggered",{triggerType:e,source_description:t,autoSyncEnabled:this.settings.autoSync,syncOptions:this.settings.syncOptions,syncInterval:this.settings.syncInterval});const i=await this.noteSelectionService.getNotesForAutoSync(this.settings.syncOptions);if(i.length===0)return this.logger.debug("No notes found for auto-sync based on current sync options",{syncOptions:this.settings.syncOptions,triggerType:e,source_description:t}),{status:"success",processed:0,skipped:0,total:0,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:"No notes to sync based on current sync options"};const s=i.map(r=>r.path);return this.logger.debug("Auto-sync processing notes",{triggerType:e,source_description:t,totalNotes:s.length,syncOptions:this.settings.syncOptions,notesSample:s.slice(0,3)}),await this.noteSelectionService.selectNotes(s),this.logger.debug("Auto-sync selected notes into queue for sequential processing",{selectedCount:s.length}),await this.syncSelectedNotes(r=>{this.logger.debug("Enhanced auto-sync progress",{triggerType:e,source_description:t,syncOptions:this.settings.syncOptions,progress:r})},t)}async testConnection(){try{const e=await this.executePythonCommand(["-c",'import sys; import graphiti_core; print(f"Python {sys.version_info.major}.{sys.version_info.minor}, Graphiti installed")']);return e.success&&e.output?{success:!0,message:` Connection successful: ${e.output.trim()}`}:{success:!1,message:` Connection failed: ${e.error||"Unknown error"}`}}catch(e){return{success:!1,message:` Connection test failed: ${e instanceof Error?e.message:String(e)}`}}}async installDependencies(e){return new Promise(t=>{var i,s;try{this.logger.info("Starting dependency installation process");const{pluginDir:r,bridgeDir:o}=this.getVaultAwarePaths(),a=Me.join(o,"install.py");if(this.logger.debug("Installation paths:",{pluginDir:r,bridgePath:o,installPath:a}),!require("fs").existsSync(a)){const w=`Install script not found at: ${a}`;this.logger.error(w),t({success:!1,message:` ${w}`});return}e==null||e("Starting Python dependency installation..."),this.logger.info("Executing Python install script");const c="python",p=[a,"--llm-provider",this.settings.llmProvider,"--embedder-provider",this.settings.embedderProvider];this.logger.debug("Command:",{command:c,args:p});const{spawn:g}=require("child_process"),h=g(c,p,{stdio:["pipe","pipe","pipe"],cwd:o});let m="",d="",f=Date.now();(i=h.stdout)==null||i.on("data",w=>{const S=w.toString();m+=S,this.logger.logPythonOutput("stdout",S);const x=S.split(`
`);for(const E of x)if(E.trim()){const D=Date.now();D-f>100&&(E.includes("Installing")?e==null||e(`Installing: ${E.trim()}`):E.includes("Downloading")?e==null||e(`Downloading: ${E.trim()}`):E.includes("Collecting")?e==null||e(`Collecting: ${E.trim()}`):E.includes("Building")?e==null||e(`Building: ${E.trim()}`):E.includes("Successfully")?e==null||e(` ${E.trim()}`):E.includes("Requirement already satisfied")?e==null||e(` ${E.trim()}`):E.trim().length>0&&(e==null||e(` ${E.trim()}`)),f=D)}}),(s=h.stderr)==null||s.on("data",w=>{const S=w.toString();d+=S,this.logger.logPythonOutput("stderr",S),S.includes("%")||S.includes("Downloading")||S.includes("Installing")?e==null||e(` ${S.trim()}`):(S.includes("ERROR")||S.includes("error"))&&(this.logger.error("Python error output:",S),e==null||e(` Error: ${S.trim()}`))}),h.on("close",w=>{if(this.logger.debug("Process closed",{exitCode:w}),w===0)e==null||e(" Installation completed successfully!"),this.logger.info("Installation completed successfully"),t({success:!0,message:" Dependencies installed successfully"});else{const S=`Installation failed with code ${w}`;this.logger.error(S,{exitCode:w,stderr:d,stdout:m}),t({success:!1,message:` ${S}: ${d||m||"Unknown error"}`})}}),h.on("error",w=>{this.logger.error("Failed to start Python process",w);let S=w.message;w.message.includes("ENOENT")&&(S="Python not found. Please ensure Python 3.10+ is installed and in your PATH."),t({success:!1,message:` Failed to start installation: ${S}`})});const v=setTimeout(()=>{h.killed||(this.logger.error("Installation timeout - killing process"),h.kill(),t({success:!1,message:" Installation timed out after 10 minutes"}))},6e5);h.on("exit",()=>{clearTimeout(v)})}catch(r){this.logger.error("Installation exception",r),t({success:!1,message:` Installation error: ${r instanceof Error?r.message:String(r)}`})}})}async syncNotes(e,t,i){try{this.logger.debug("SYNC_START: syncNotes() called",{notesCount:e.notesPaths.length,batchSize:e.batchSize,debugMode:e.debug,notesSample:e.notesPaths.slice(0,3),fullNotesPathsCount:e.notesPaths.length});try{const l=this.settings.embeddingModel,c=this.getCurrentEmbeddingDimensions();if(await this.vaultRegistryService.hasEmbeddingModelChanged(l,c)){const g=await this.vaultRegistryService.getEmbeddingModelMismatchDetails(l,c);this.logger.warn("[SYNC] Embedding model change detected before sync",{currentModel:l,currentDimensions:c,storedModel:g==null?void 0:g.storedModel,storedDimensions:g==null?void 0:g.storedDimensions})}}catch(l){this.logger.debug("[SYNC] Embedding model validation error (continuing)",l)}const s=this.validateSyncConfig(e);if(!s.isValid)throw new Error(`Configuration error: ${s.errors.join(", ")}`);const{vaultPath:r}=this.getVaultAwarePaths();this.settings.useCustomOntology?t==null||t({current:5,total:100,message:"Preparing dynamic custom ontology sync...",percentage:5}):t==null||t({current:5,total:100,message:"Using generic episode sync (custom ontology disabled)...",percentage:5});const o=await this.prepareSyncConfig(e,r,i),a=await this.executePythonSync(o,t);return this.logger.debug(`SYNC_COMPLETE: syncNotes() finished - status: ${a.status}, processed: ${a.processed}, skipped: ${a.skipped}, total: ${a.total}, batches: ${a.batchCount}`),a}catch(s){return{status:"error",processed:0,skipped:0,total:e.notesPaths.length,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:s instanceof Error?s.message:String(s)}}}getNoteSelectionService(){return this.noteSelectionService}async syncNotesSequentially(e,t="obsidian_mm_individual"){this.logger.debug("Starting sequential sync"),this.isCancelled=!1;const i=this.noteSelectionService.getSelectedNotePaths();if(!i||i.length===0)return this.logger.warn("No notes found in selection"),{status:"error",processed:0,skipped:0,total:0,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:"No notes selected for sync"};this.logger.debug(`Processing ${i.length} notes sequentially`);let s=0,r=0;const o=[],a=[],{vaultPath:l}=this.getVaultAwarePaths();for(let h=0;h<i.length;h++){if(this.isCancelled)return this.logger.info("[CANCEL] Sequential sync cancelled by user"),{status:"error",processed:s,skipped:r+(i.length-h),total:i.length,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:"Sync cancelled by user"};const m=i[h];e==null||e({current:h,total:i.length,message:`Processing note ${h+1}/${i.length}: ${m}`,percentage:h/i.length*100});try{this.logger.debug(`Processing note ${h+1}/${i.length}: ${m}`);const f=require("path").join(l,m),v=this.plugin.app.vault.getAbstractFileByPath(m);if(!v||!(v instanceof C.TFile)){this.logger.error(`Could not find TFile for path: ${m}`),r++;continue}const w=await this.syncStatusManager.syncNote(v,t);o.push(w),w.status==="success"?(s++,this.logger.info(`Successfully synced note: ${m}`),this.noteSelectionService.deselectNotes([m])):(r++,this.logger.warn(`Failed to sync note: ${m}. Status: ${w.status}, Message: ${w.message}`),w.message&&a.push(`Note '${m}': ${w.message}`))}catch(d){r++;const f=d instanceof Error?d.message:String(d);a.push(`Note '${m}': ${f}`),this.logger.error(`Error syncing note ${m}`,d)}e==null||e({current:h+1,total:i.length,message:`Completed ${m}`,percentage:(h+1)/i.length*100})}const c=s>0?"success":"error",p={status:c,processed:s,skipped:r,total:i.length,batchCount:i.length,nodeTypesLoaded:0,edgeTypesLoaded:0,notes:o,errors:a,hasErrors:a.length>0,message:`Sequential sync completed. Processed: ${s}, Skipped: ${r}.`},g=o.slice(0,5).map(h=>{const m=(h==null?void 0:h.note_path)??(h==null?void 0:h.path)??"",d=(h==null?void 0:h.status)??"unknown",f=(h==null?void 0:h.episode_uuid)??(h==null?void 0:h.episode_id)??"";return{note:m,status:d,episode_uuid:f}});return this.logger.debug("Sequential auto-sync completed",{finalStatus:c,processed:s,skipped:r,total:i.length,notesSample:g}),p}async syncSelectedNotes(e,t="obsidian_mm_quicksync"){this.logger.debug("SYNC_START: syncSelectedNotes() called",{selectedPaths:this.noteSelectionService.getSelectedNotePaths()});const i=this.noteSelectionService.getSelectedNotePaths(),s=await this.noteSelectionService.validateSelection();if(!s.isValid)return{status:"error",processed:0,skipped:i.length,total:i.length,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:`Selection validation failed: ${s.errors.join(", ")}`};const r=await this.syncNotesSequentially(e,t);return this.logger.debug(`SYNC_COMPLETE: syncSelectedNotes() finished - status: ${r.status}, processed: ${r.processed}, skipped: ${r.skipped}, total: ${r.total}`),r}async quickSync(e,t){try{return await this.noteSelectionService.selectAllMatching(e)===0?{status:"error",processed:0,skipped:0,total:0,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:"No notes matched the filter criteria"}:this.syncSelectedNotes(t)}catch(i){return{status:"error",processed:0,skipped:0,total:0,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:i instanceof Error?i.message:String(i)}}}async getSyncStatistics(){const[e,t,i,s]=await Promise.all([this.noteSelectionService.getSelectionSummary(),this.noteSelectionService.validateSelection(),this.noteSelectionService.getAvailableTypes(),this.noteSelectionService.getAvailableTags()]);return{summary:e,validation:t,availableTypes:i,availableTags:s}}cancelSync(){this.logger.info("[CANCEL] Cancelling sync operation - killing all Python processes"),this.isCancelled=!0,this.activeProcesses.forEach(e=>{e.killed||(this.logger.debug("[CANCEL] Killing tracked Python process",{pid:e.pid}),e.kill("SIGTERM"))}),this.activeProcesses.clear(),this.pythonProcess&&(this.logger.debug("[CANCEL] Killing main Python process",{pid:this.pythonProcess.pid}),this.pythonProcess.kill("SIGTERM"),this.pythonProcess=null)}getPluginDirectory(){return this.getVaultAwarePaths().pluginDir}findDuplicatePathSegments(e){const t=Math.floor(e.length/2);if(t>0){let i=!0;for(let s=0;s<t;s++)if(e[s]!==e[s+t]){i=!1;break}if(i)return t}for(let i=1;i<e.length;i++)for(let s=i+1;s<e.length;s++)if(e[i]===e[s]){let r=1;for(;i+r<s&&s+r<e.length&&e[i+r]===e[s+r];)r++;if(r>=2&&s+r>=e.length)return s}return-1}getVaultPathFallback(){const e=this.getVaultAwarePaths(null);return this.logger.debug("Vault Path Fallback Resolution",{vaultPath:e.vaultPath,pluginDir:e.pluginDir,resolvedAt:e.resolvedAt}),e.vaultPath}getVaultAwarePaths(e){const t=Bt.performance.now(),i=e||this.vaultRegistryService.getActiveVaultId()||"default";if(this.pathCache.has(i)){const o=this.pathCache.get(i);return this.cacheHits++,(Bt.performance.now()-t).toFixed(2),this.logCacheMetrics(i),o}this.cacheMisses++;const s=this.resolvePathsForVault(i);this.pathCache.set(i,s);const r=(Bt.performance.now()-t).toFixed(2);return this.logger.debug(`[CACHE_MISS] Vault: ${i}, Time: ${r}ms. Paths resolved.`),this.logCacheMetrics(i),s}resolvePathsForVault(e){const t=require("fs"),i=require("path");if(!e)throw this.logger.error("[PATHS] Invalid vault ID provided for path resolution"),new Error("Cannot resolve paths: Invalid vault ID");const s=this.vaultRegistryService.getVault(e);let r;s!=null&&s.path?(r=s.path,this.logger.debug("[PATHS] Vault path resolved from registry/fallback for vault ID: "+e+".")):(r=this.plugin.app.vault.adapter.basePath,this.logger.warn("[PATHS] Using internal adapter.basePath as fallback for vault path. Vault not found in registry.",{vaultId:e,path:r}));let o=i.normalize(r);const a=o.split(i.sep),l=this.findDuplicatePathSegments(a);l!==-1&&(o=a.slice(0,l).join(i.sep),this.logger.warn(" Fixed duplicated vault path during resolution",{original:r,normalized:o,fixed:o,duplicateStartIndex:l}));let c=null,p=null;const g=this.plugin.manifest.id||"megamem-mcp",h=Me.join(o,".obsidian","plugins",g),m=Me.join(h,"graphiti_bridge");if(t.existsSync(m)&&(c=h,p=m),!c){const f=i.resolve(o,".."),v=Me.join(f,"graphiti_bridge");t.existsSync(v)&&(c=f,p=v)}if(!c){const f=Me.join(o,"graphiti_bridge");t.existsSync(f)&&(c=o,p=f)}if(!c){const f=this.plugin.manifest.dir||"";if(f){const v=f,w=Me.join(v,"graphiti_bridge");t.existsSync(w)&&(c=v,p=w)}}if(!c||!p){const f=` Critical path resolution failure for vault ID "${e}". Could not locate required plugin or bridge directories.`;throw this.logger.error(f,{vaultPath:o,pluginManifestDir:this.plugin.manifest.dir,pluginId:g,activeVaultDetails:s}),new Error(f)}return t.existsSync(o)||this.logger.warn("[PATHS] Vault path does not exist resolved during final check",{vaultPath:o}),t.existsSync(c)||this.logger.warn("[PATHS] Plugin directory does not exist resolved during final check",{pluginDir:c}),t.existsSync(p)||this.logger.warn("[PATHS] Bridge directory does not exist resolved during final check",{bridgeDir:p}),{pluginDir:c,vaultPath:o,bridgeDir:p,resolvedAt:new Date().toISOString()}}sanitizeConfigForLogging(e){const t={...e};return t.llm_api_key&&(t.llm_api_key="***"),t.embedder_api_key&&(t.embedder_api_key="***"),t.api_keys&&(t.api_keys=Object.keys(t.api_keys).reduce((i,s)=>(i[s]=t.api_keys[s]?"***":null,i),{})),t.database_password&&(t.database_password="***"),t}getApiKeyForProvider(e){switch(e){case"openai":return this.settings.apiKeys.openai;case"anthropic":return this.settings.apiKeys.anthropic;case"google":return this.settings.apiKeys.google;case"azure":return this.settings.apiKeys.azure;case"groq":return this.settings.apiKeys.groq;case"voyage":return this.settings.apiKeys.voyage;case"venice":return this.settings.apiKeys.venice;case"openrouter":return this.settings.apiKeys.openrouter;case"ollama":return"not-required";default:return}}getDatabaseConfig(){return this.settings.databaseType==="neo4j"?this.settings.databaseConfigs.neo4j:this.settings.databaseType==="falkordb"?this.settings.databaseConfigs.falkordb:null}prepareDatabaseConfig(){const e=this.getDatabaseConfig();if(!e)throw new Error(`No database configuration found for type: ${this.settings.databaseType}`);if(this.settings.databaseType==="neo4j")return{database_url:e.uri,database_username:e.username,database_password:e.password,database_name:e.database};if(this.settings.databaseType==="falkordb")return{database_url:`redis://${e.host}:${e.port}`,database_username:e.username||null,database_password:e.password||null,database_name:e.database};throw new Error(`Unsupported database type: ${this.settings.databaseType}`)}validateSyncConfig(e){const t=[];(!e.notesPaths||e.notesPaths.length===0)&&t.push("No notes selected for sync"),e.batchSize<=0&&t.push("Batch size must be greater than 0"),this.settings.llmProvider||t.push("LLM provider not configured"),this.getApiKeyForProvider(this.settings.llmProvider)||t.push(`API key not configured for LLM provider: ${this.settings.llmProvider}`),this.settings.embedderProvider||t.push("Embedder provider not configured");const s=this.getDatabaseConfig();return s?this.settings.databaseType==="neo4j"?s.uri||t.push("Neo4j URI not configured"):this.settings.databaseType==="falkordb"&&(s.host||t.push("FalkorDB host not configured"),s.port||t.push("FalkorDB port not configured")):t.push(`Database configuration not found for type: ${this.settings.databaseType}`),{isValid:t.length===0,errors:t}}async prepareSyncConfig(e,t,i){const s=t||this.getVaultPathFallback(),r=this.plugin.settings,o=[];for(const l of e.notesPaths)try{const c=this.plugin.app.vault.getName();let p=this.syncStatusManager.normalizeNotePath(l,s);Nt.isAbsolute(p)&&s?p=Nt.relative(s,p).replace(/\\/g,"/"):p=p.replace(/\\/g,"/");const g=this.plugin.app.vault.getAbstractFileByPath(p);if(g&&g instanceof C.TFile){const h=await Yt(this.plugin.app,g);if(h){o.push(h),this.logger.debug("Retrieved previous episode UUID from frontmatter",{notePath:l,vaultRelativePath:p,mmUid:h});continue}}this.logger.debug("No previous episode UUID found - new note will get fresh episode",{notePath:l,vaultRelativePath:p})}catch(c){this.logger.debug("Error retrieving episode UUID for note",{notePath:l,error:c})}const a={llm_provider:r.llmProvider,llm_api_key:this.getApiKeyForProvider(r.llmProvider),llm_model:r.llmModel,llm_small_model:r.llmSmallModel,azure_endpoint:r.azureEndpoint,azure_api_version:r.azureApiVersion,ollama_base_url:r.ollamaBaseUrl,openrouter_preset_slug:r.openrouterPresetSlug,openrouter_use_preset_with_custom_model:r.openrouterUsePresetWithCustomModel,embedder_provider:r.embedderProvider,embedder_api_key:this.getApiKeyForProvider(r.embedderProvider),embedding_model:r.embeddingModel,api_keys:r.apiKeys,database_type:r.databaseType,...this.prepareDatabaseConfig(),use_custom_ontology:r.useCustomOntology,default_namespace:r.defaultNamespace,enable_folder_namespacing:r.enableFolderNamespacing,enable_property_namespacing:r.enablePropertyNamespacing,namespace_strategy:r.namespaceStrategy,folder_namespace_mappings:r.folderNamespaceMappings,notes:e.notesPaths,batch_size:e.batchSize,debug:r.enableDebugLogging,vault_path:s,source_description:i||e.source_description||"obsidian_mm_individual",cross_encoder_client:e.crossEncoderClient||r.crossEncoderClient||"none",cross_encoder_model:r.crossEncoderClient==="bge"||r.crossEncoderClient==="none"?void 0:e.crossEncoderModel||r.crossEncoderModel,previous_episode_uuids:o};return this.logger.info(`Sync configuration prepared: Total notes: ${e.notesPaths.length}, Previous episodes: ${o.length}, First time sync: ${e.notesPaths.length-o.length}`),a}async executePythonSync(e,t){if(this.settings.experimentalDaemonMode&&this.plugin.pythonDaemonBridge)return this.logger.info("Using daemon mode for sync"),await this.executeDaemonSync(e,t);this.logger.info("Using traditional sync mode");const{bridgeDir:i}=this.getVaultAwarePaths(),s=Me.join(i,"sync.py");let r=[];Array.isArray(e.notes)&&e.notes.length>0?r=e.notes:Array.isArray(e.notesPaths)&&e.notesPaths.length>0?r=e.notesPaths:typeof e.notes=="string"&&(r=[e.notes]);const o=d=>new Promise(f=>{var v,w,S,x;try{const{pluginDir:E}=this.getVaultAwarePaths();this.pythonProcess=at.spawn("python",[s,"--vault-path",d.vault_path,"--plugin-data-path",E],{cwd:i,stdio:["pipe","pipe","pipe"]}),this.activeProcesses.add(this.pythonProcess),(v=this.pythonProcess.stdin)==null||v.write(JSON.stringify(d)),(w=this.pythonProcess.stdin)==null||w.end();let D="",M="";(S=this.pythonProcess.stdout)==null||S.on("data",N=>{const P=N.toString();D+=P,this.settings.enableDebugLogging&&this.logger.logPythonOutput("stdout",P)}),(x=this.pythonProcess.stderr)==null||x.on("data",N=>{const P=N.toString();M+=P,this.logger.logPythonOutput("stderr",P)}),this.pythonProcess.on("close",N=>{if(this.activeProcesses.delete(this.pythonProcess),this.pythonProcess=null,N===0)try{const P=JSON.parse(D.trim());if(P._diagnostics&&Array.isArray(P._diagnostics))for(const I of P._diagnostics)this.logger.info(`[PYTHON-DIAGNOSTICS] ${I}`);f({success:!0,result:P,stdout:D,stderr:M,exitCode:N})}catch(P){f({success:!1,stdout:D,stderr:M||String(P),exitCode:N})}else f({success:!1,stdout:D,stderr:M,exitCode:N})}),this.pythonProcess.on("error",N=>{this.pythonProcess&&this.activeProcesses.delete(this.pythonProcess),this.pythonProcess=null,f({success:!1,stdout:void 0,stderr:N.message,exitCode:-1})})}catch(E){this.pythonProcess=null,f({success:!1,stdout:void 0,stderr:E instanceof Error?E.message:String(E),exitCode:-1})}});if(r.length<=1){const d=r.length===1?r[0]:Array.isArray(e.notes)&&e.notes.length>0?e.notes[0]:void 0;let f;if(d)try{f=await this.syncRegistryService.generateGroupId(d,this.plugin.app.vault.getName())}catch{}const v={...e,...f?{group_id:f}:{},notes:r.length===1?r:e.notes},w=await o(v);if(w.success&&w.result){if(w.result.status==="rate_limited"){const S=w.result.retry_after||60,x=w.result.reset_time,E=w.result.provider_message||"API rate limit exceeded";let D="Rate limit exceeded - sync paused";if(x){const M=new Date(x);D+=` until ${M.toLocaleString()}`}else D+=` for ${Math.round(S/60)} minutes`;return this.logger.warn("Rate limit detected in single sync - pausing",{retryAfter:S,resetTime:x,providerMessage:E,pauseMessage:D}),{status:"error",processed:0,skipped:1,total:1,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:D}}return w.result}else{const S=`Python sync failed${w.exitCode!==void 0?` with exit code ${w.exitCode}`:""}: ${w.stderr||w.stdout||"Unknown error"}`,x=w.stderr?w.stderr.split(`
`)[0]:"Unknown error";return this.logger.error("Python sync process failed",{exitCode:w.exitCode,stderr:x,stderrLength:w.stderr?w.stderr.length:0}),{status:"error",processed:0,skipped:r.length||1,total:r.length||1,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:S}}}let a=0,l=0,c=0,p=0;const g=[],h=[];for(let d=0;d<r.length;d++){if(this.isCancelled)return this.logger.info("[CANCEL] Sequential sync cancelled by user"),{status:"error",processed:a,skipped:l+(r.length-d),total:r.length,batchCount:r.length,nodeTypesLoaded:c,edgeTypesLoaded:p,errors:[...g,"Sync cancelled by user"],hasErrors:!0,notes:h};const f=r[d];t==null||t({current:d,total:r.length,message:`Processing note ${d+1}/${r.length}: ${f}`,percentage:d/r.length*100});let v;try{v=await this.syncRegistryService.generateGroupId(f,this.plugin.app.vault.getName())}catch{}const w={...e,...v?{group_id:v}:{},notes:[f],batch_size:1,notesPaths:[f]},S=await o(w);if(S.success&&S.result){const x=S.result;if(x.status==="rate_limited"){l++;const E=x.retry_after||60,D=x.reset_time,M=x.provider_message||"API rate limit exceeded";let N="Rate limit exceeded - sync paused";if(D){const I=new Date(D);N+=` until ${I.toLocaleString()}`}else N+=` for ${Math.round(E/60)} minutes`;g.push(`Note ${f}: ${N}`),this.logger.warn("Rate limit detected - sync pausing",{note:f,retryAfter:E,resetTime:D,providerMessage:M,pauseMessage:N}),t==null||t({current:d,total:r.length,message:N,percentage:d/r.length*100}),h.push(x);const P=E>300?3e4:Math.min(E*1e3,1e4);await new Promise(I=>setTimeout(I,P)),t==null||t({current:d,total:r.length,message:"Resuming sync after rate limit pause...",percentage:d/r.length*100})}else x.status==="success"?a++:(l++,g.push(`Note ${f}: ${x.message||"failed"}`));typeof x.nodeTypesLoaded=="number"&&(c+=x.nodeTypesLoaded),typeof x.edgeTypesLoaded=="number"&&(p+=x.edgeTypesLoaded),h.push(x)}else{l++;const x=`Python sync failed for note ${f} (exitCode=${S.exitCode}): ${S.stderr||S.stdout||""}`;g.push(x);const E=S.stderr?S.stderr.split(`
`)[0]:"Unknown error";this.logger.error("Python sync failed for note",{note:f,exitCode:S.exitCode,stderr:E,stderrLength:S.stderr?S.stderr.length:0})}t==null||t({current:d+1,total:r.length,message:`Completed ${f}`,percentage:(d+1)/r.length*100}),await new Promise(x=>setTimeout(x,500))}return{status:a>0?"success":"error",processed:a,skipped:l,total:r.length,batchCount:r.length,nodeTypesLoaded:c,edgeTypesLoaded:p,errors:g,hasErrors:g.length>0,notes:h}}async executeDaemonSync(e,t){const i=this.plugin.pythonDaemonBridge;if(!i)return this.logger.error("Daemon bridge not available, falling back to traditional sync"),await this.executeTraditionalSync(e,t);let s=[];Array.isArray(e.notes)&&e.notes.length>0?s=e.notes:Array.isArray(e.notesPaths)&&e.notesPaths.length>0?s=e.notesPaths:typeof e.notes=="string"&&(s=[e.notes]);try{if(s.length<=1){const r=await i.executeDaemonSync(e);return this.parseDaemonSyncResult(r)}else{let r=0,o=0,a=0,l=0;const c=[],p=[];for(let h=0;h<s.length;h++){if(this.isCancelled)return{status:"error",processed:r,skipped:o+(s.length-h),total:s.length,batchCount:s.length,nodeTypesLoaded:a,edgeTypesLoaded:l,errors:[...c,"Sync cancelled by user"],hasErrors:!0,notes:p};const m=s[h];t==null||t({current:h,total:s.length,message:`Processing note ${h+1}/${s.length}: ${m}`,percentage:h/s.length*100});const d={...e,notes:[m],batch_size:1,notesPaths:[m]};try{const f=await i.executeDaemonSync(d),v=this.parseDaemonSyncResult(f);v.status==="success"?r++:(o++,c.push(`Note ${m}: ${v.message||"failed"}`)),typeof v.nodeTypesLoaded=="number"&&(a+=v.nodeTypesLoaded),typeof v.edgeTypesLoaded=="number"&&(l+=v.edgeTypesLoaded),p.push(v)}catch(f){o++;const v=`Daemon sync failed for note ${m}: ${f instanceof Error?f.message:String(f)}`;c.push(v),this.logger.error("Daemon sync failed for note",{note:m,error:f})}t==null||t({current:h+1,total:s.length,message:`Completed ${m}`,percentage:(h+1)/s.length*100}),await new Promise(f=>setTimeout(f,500))}return{status:r>0?"success":"error",processed:r,skipped:o,total:s.length,batchCount:s.length,nodeTypesLoaded:a,edgeTypesLoaded:l,errors:c,hasErrors:c.length>0,notes:p}}}catch(r){return this.logger.error("Daemon sync failed, falling back to traditional sync",r),await this.executeTraditionalSync(e,t)}}parseDaemonSyncResult(e){if(typeof e=="string")try{e=JSON.parse(e)}catch{return{status:"error",processed:0,skipped:1,total:1,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:"Failed to parse daemon result"}}return{status:e.status||"error",processed:e.status==="success"?1:0,skipped:e.status==="success"?0:1,total:1,batchCount:1,nodeTypesLoaded:e.nodeTypesLoaded||0,edgeTypesLoaded:e.edgeTypesLoaded||0,message:e.message,notes:[e]}}async executeTraditionalSync(e,t){const{bridgeDir:i}=this.getVaultAwarePaths(),s=Me.join(i,"sync.py");let r=[];Array.isArray(e.notes)&&e.notes.length>0?r=e.notes:Array.isArray(e.notesPaths)&&e.notesPaths.length>0?r=e.notesPaths:typeof e.notes=="string"&&(r=[e.notes]);const o=d=>new Promise(f=>{var v,w,S,x;try{const{pluginDir:E}=this.getVaultAwarePaths();this.pythonProcess=at.spawn("python",[s,"--vault-path",d.vault_path,"--plugin-data-path",E],{cwd:i,stdio:["pipe","pipe","pipe"]}),this.activeProcesses.add(this.pythonProcess),(v=this.pythonProcess.stdin)==null||v.write(JSON.stringify(d)),(w=this.pythonProcess.stdin)==null||w.end();let D="",M="";(S=this.pythonProcess.stdout)==null||S.on("data",N=>{const P=N.toString();D+=P,this.settings.enableDebugLogging&&this.logger.logPythonOutput("stdout",P)}),(x=this.pythonProcess.stderr)==null||x.on("data",N=>{const P=N.toString();M+=P,this.logger.logPythonOutput("stderr",P)}),this.pythonProcess.on("close",N=>{if(this.activeProcesses.delete(this.pythonProcess),this.pythonProcess=null,N===0)try{const P=JSON.parse(D.trim());if(P._diagnostics&&Array.isArray(P._diagnostics))for(const I of P._diagnostics)this.logger.info(`[PYTHON-DIAGNOSTICS] ${I}`);f({success:!0,result:P,stdout:D,stderr:M,exitCode:N})}catch(P){f({success:!1,stdout:D,stderr:M||String(P),exitCode:N})}else f({success:!1,stdout:D,stderr:M,exitCode:N})}),this.pythonProcess.on("error",N=>{this.pythonProcess&&this.activeProcesses.delete(this.pythonProcess),this.pythonProcess=null,f({success:!1,stdout:void 0,stderr:N.message,exitCode:-1})})}catch(E){this.pythonProcess=null,f({success:!1,stdout:void 0,stderr:E instanceof Error?E.message:String(E),exitCode:-1})}});if(r.length<=1){const d=r.length===1?r[0]:Array.isArray(e.notes)&&e.notes.length>0?e.notes[0]:void 0;let f;if(d)try{f=await this.syncRegistryService.generateGroupId(d,this.plugin.app.vault.getName())}catch{}const v={...e,...f?{group_id:f}:{},notes:r.length===1?r:e.notes},w=await o(v);if(w.success&&w.result){if(w.result.status==="rate_limited"){const S=w.result.retry_after||60,x=w.result.reset_time,E=w.result.provider_message||"API rate limit exceeded";let D="Rate limit exceeded - sync paused";if(x){const M=new Date(x);D+=` until ${M.toLocaleString()}`}else D+=` for ${Math.round(S/60)} minutes`;return this.logger.warn("Rate limit detected in single sync - pausing",{retryAfter:S,resetTime:x,providerMessage:E,pauseMessage:D}),{status:"error",processed:0,skipped:1,total:1,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:D}}return w.result}else{const S=`Python sync failed${w.exitCode!==void 0?` with exit code ${w.exitCode}`:""}: ${w.stderr||w.stdout||"Unknown error"}`,x=w.stderr?w.stderr.split(`
`)[0]:"Unknown error";return this.logger.error("Python sync process failed",{exitCode:w.exitCode,stderr:x,stderrLength:w.stderr?w.stderr.length:0}),{status:"error",processed:0,skipped:r.length||1,total:r.length||1,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:S}}}let a=0,l=0,c=0,p=0;const g=[],h=[];for(let d=0;d<r.length;d++){if(this.isCancelled)return this.logger.info("[CANCEL] Sequential sync cancelled by user"),{status:"error",processed:a,skipped:l+(r.length-d),total:r.length,batchCount:r.length,nodeTypesLoaded:c,edgeTypesLoaded:p,errors:[...g,"Sync cancelled by user"],hasErrors:!0,notes:h};const f=r[d];t==null||t({current:d,total:r.length,message:`Processing note ${d+1}/${r.length}: ${f}`,percentage:d/r.length*100});let v;try{v=await this.syncRegistryService.generateGroupId(f,this.plugin.app.vault.getName())}catch{}const w={...e,...v?{group_id:v}:{},notes:[f],batch_size:1,notesPaths:[f]},S=await o(w);if(S.success&&S.result){const x=S.result;if(x.status==="rate_limited"){l++;const E=x.retry_after||60,D=x.reset_time,M=x.provider_message||"API rate limit exceeded";let N="Rate limit exceeded - sync paused";if(D){const I=new Date(D);N+=` until ${I.toLocaleString()}`}else N+=` for ${Math.round(E/60)} minutes`;g.push(`Note ${f}: ${N}`),this.logger.warn("Rate limit detected - sync pausing",{note:f,retryAfter:E,resetTime:D,providerMessage:M,pauseMessage:N}),t==null||t({current:d,total:r.length,message:N,percentage:d/r.length*100}),h.push(x);const P=E>300?3e4:Math.min(E*1e3,1e4);await new Promise(I=>setTimeout(I,P)),t==null||t({current:d,total:r.length,message:"Resuming sync after rate limit pause...",percentage:d/r.length*100})}else x.status==="success"?a++:(l++,g.push(`Note ${f}: ${x.message||"failed"}`));typeof x.nodeTypesLoaded=="number"&&(c+=x.nodeTypesLoaded),typeof x.edgeTypesLoaded=="number"&&(p+=x.edgeTypesLoaded),h.push(x)}else{l++;const x=`Python sync failed for note ${f} (exitCode=${S.exitCode}): ${S.stderr||S.stdout||""}`;g.push(x);const E=S.stderr?S.stderr.split(`
`)[0]:"Unknown error";this.logger.error("Python sync failed for note",{note:f,exitCode:S.exitCode,stderr:E,stderrLength:S.stderr?S.stderr.length:0})}t==null||t({current:d+1,total:r.length,message:`Completed ${f}`,percentage:(d+1)/r.length*100}),await new Promise(x=>setTimeout(x,500))}return{status:a>0?"success":"error",processed:a,skipped:l,total:r.length,batchCount:r.length,nodeTypesLoaded:c,edgeTypesLoaded:p,errors:g,hasErrors:g.length>0,notes:h}}async executePythonCommand(e){return new Promise(t=>{var o,a;const i=at.spawn("python",e,{stdio:["pipe","pipe","pipe"]});let s="",r="";(o=i.stdout)==null||o.on("data",l=>{s+=l.toString()}),(a=i.stderr)==null||a.on("data",l=>{r+=l.toString()}),i.on("close",l=>{t({success:l===0,output:s.trim(),error:r.trim()})}),i.on("error",l=>{t({success:!1,error:l.message})})})}async executePythonConnectionTest(e,t){return new Promise(i=>{var s,r;try{const{bridgeDir:o}=this.getVaultAwarePaths(),a=Me.join(o,"test_connections.py");if(!require("fs").existsSync(a)){i({success:!1,message:`Test script not found at: ${a}`});return}this.logger.info("Executing connection test",{testType:e});const c=at.spawn("python",[a,"--test-type",e,"--config",JSON.stringify(t)],{cwd:o,stdio:["pipe","pipe","pipe"]});let p="",g="";(s=c.stdout)==null||s.on("data",h=>{const m=h.toString();p+=m,this.logger.logPythonOutput("stdout",m)}),(r=c.stderr)==null||r.on("data",h=>{const m=h.toString();g+=m,this.logger.logPythonOutput("stderr",m)}),c.on("close",h=>{if(this.logger.debug("Connection test process completed",{exitCode:h}),h===0)try{const m=JSON.parse(p.trim()),d={success:m.success,message:m.message,latency:m.latency};m.cross_encoder&&(d.cross_encoder=m.cross_encoder),i(d)}catch(m){this.logger.error("Failed to parse connection test result",m),i({success:!1,message:`Failed to parse test result: ${p||g}`})}else this.logger.error("Connection test failed",{exitCode:h,stderr:g,stdout:p}),i({success:!1,message:`Connection test failed (exit code ${h}): ${g||p||"Unknown error"}`})}),c.on("error",h=>{this.logger.error("Failed to start connection test process",h);let m=h.message;h.message.includes("ENOENT")&&(m="Python not found. Please ensure Python 3.10+ is installed and in your PATH."),i({success:!1,message:`Failed to start connection test: ${m}`})})}catch(o){this.logger.error("Connection test exception",o),i({success:!1,message:`Connection test error: ${o instanceof Error?o.message:String(o)}`})}})}async testDatabaseConnection(){var e;try{const t={database_type:this.settings.databaseType,...this.prepareDatabaseConfig()},i=this.getDatabaseConfig();return this.logger.debug("Testing database connection",{databaseType:this.settings.databaseType,databaseConfig:i,hasPassword:!!(i!=null&&i.password),passwordLength:((e=i==null?void 0:i.password)==null?void 0:e.length)||0}),await this.executePythonConnectionTest("database",t)}catch(t){return this.logger.error("Database connection test error",t),{success:!1,message:`Database test error: ${t instanceof Error?t.message:String(t)}`}}}async testLLMConnection(){try{const e={llm_provider:this.settings.llmProvider,api_keys:this.settings.apiKeys,llm_model:this.settings.llmModel,azure_endpoint:this.settings.azureEndpoint,azure_api_version:this.settings.azureApiVersion,ollama_base_url:this.settings.ollamaBaseUrl,database_type:this.settings.databaseType,...this.prepareDatabaseConfig()};return this.logger.debug("Testing LLM connection",{llmProvider:this.settings.llmProvider,hasApiKeys:Object.keys(this.settings.apiKeys).length>0,sanitizedConfig:this.sanitizeConfigForLogging(e)}),await this.executePythonConnectionTest("llm",e)}catch(e){return this.logger.error("LLM connection test error",e),{success:!1,message:`LLM test error: ${e instanceof Error?e.message:String(e)}`}}}async testEmbeddingConnection(){try{const e={embedder_provider:this.settings.embedderProvider,api_keys:this.settings.apiKeys,embedding_model:this.settings.embeddingModel,database_type:this.settings.databaseType,...this.prepareDatabaseConfig()};return this.logger.debug("Testing embedding connection",{embedderProvider:this.settings.embedderProvider,embeddingModel:this.settings.embeddingModel,hasApiKeys:Object.keys(this.settings.apiKeys).length>0,sanitizedConfig:this.sanitizeConfigForLogging(e)}),await this.executePythonConnectionTest("embedding",e)}catch(e){return this.logger.error("Embedding connection test error",e),{success:!1,message:`Embedding test error: ${e instanceof Error?e.message:String(e)}`}}}async testEmbeddingWithDimensions(){try{const e={embedder_provider:this.settings.embedderProvider,api_keys:this.settings.apiKeys,embedding_model:this.settings.embeddingModel,database_type:this.settings.databaseType,...this.prepareDatabaseConfig()};return this.logger.debug("Testing embedding connection with dimensions",{embedderProvider:this.settings.embedderProvider,embeddingModel:this.settings.embeddingModel,hasApiKeys:Object.keys(this.settings.apiKeys).length>0,sanitizedConfig:this.sanitizeConfigForLogging(e)}),await this.executePythonConnectionTest("embedding-test",e)}catch(e){return this.logger.error("Enhanced embedding connection test error",e),{success:!1,message:`Enhanced embedding test error: ${e instanceof Error?e.message:String(e)}`}}}async testProviderCombination(){try{const e={llm_provider:this.settings.llmProvider,llm_model:this.settings.llmModel,azure_endpoint:this.settings.azureEndpoint,azure_api_version:this.settings.azureApiVersion,ollama_base_url:this.settings.ollamaBaseUrl,embedder_provider:this.settings.embedderProvider,embedding_model:this.settings.embeddingModel,api_keys:this.settings.apiKeys,database_type:this.settings.databaseType,...this.prepareDatabaseConfig()};return this.logger.debug("Testing provider combination",{llmProvider:this.settings.llmProvider,embedderProvider:this.settings.embedderProvider,llmModel:this.settings.llmModel,embeddingModel:this.settings.embeddingModel,hasApiKeys:Object.keys(this.settings.apiKeys).length>0,sanitizedConfig:this.sanitizeConfigForLogging(e)}),await this.executePythonConnectionTest("combination",e)}catch(e){return this.logger.error("Provider combination test error",e),{success:!1,message:`Provider combination test error: ${e instanceof Error?e.message:String(e)}`}}}async testFullPipeline(){try{const e={llm_provider:this.settings.llmProvider,api_keys:this.settings.apiKeys,llm_model:this.settings.llmModel,azure_endpoint:this.settings.azureEndpoint,azure_api_version:this.settings.azureApiVersion,ollama_base_url:this.settings.ollamaBaseUrl,embedder_provider:this.settings.embedderProvider,embedding_model:this.settings.embeddingModel,cross_encoder_client:this.settings.crossEncoderClient||"none",cross_encoder_model:this.settings.crossEncoderClient==="bge"||this.settings.crossEncoderClient==="none"?void 0:this.settings.crossEncoderModel,database_type:this.settings.databaseType,...this.prepareDatabaseConfig()};return this.logger.debug("Testing full LLM + embedding pipeline",{llmProvider:this.settings.llmProvider,embedderProvider:this.settings.embedderProvider,llmModel:this.settings.llmModel,embeddingModel:this.settings.embeddingModel,hasApiKeys:Object.keys(this.settings.apiKeys).length>0,sanitizedConfig:this.sanitizeConfigForLogging(e)}),await this.executePythonConnectionTest("combination-pipeline",e)}catch(e){return this.logger.error("Full pipeline test error",e),{success:!1,message:`Pipeline test error: ${e instanceof Error?e.message:String(e)}`}}}async validateAPIKeys(){try{const e=[],t=[],i=this.getApiKeyForProvider(this.settings.llmProvider);if(this.settings.llmProvider==="ollama"?e.push(`${this.settings.llmProvider}: Local provider (no API key required)`):i?i.length<10?t.push(`API key for ${this.settings.llmProvider} appears too short (${i.length} chars)`):e.push(`${this.settings.llmProvider}: API key present (${i.length} chars)`):t.push(`Missing API key for LLM provider: ${this.settings.llmProvider}`),this.settings.embedderProvider!==this.settings.llmProvider){const s=this.getApiKeyForProvider(this.settings.embedderProvider);this.settings.embedderProvider==="ollama"?e.push(`${this.settings.embedderProvider}: Local provider (no API key required)`):s?s.length<10?t.push(`API key for ${this.settings.embedderProvider} appears too short (${s.length} chars)`):e.push(`${this.settings.embedderProvider}: API key present (${s.length} chars)`):t.push(`Missing API key for embedder provider: ${this.settings.embedderProvider}`)}return t.length>0?(this.logger.error("API key validation failed",{errors:t,validationResults:e}),{success:!1,message:`Validation failed: ${t.join(", ")}`}):(this.logger.info("API key validation successful",{validationResults:e}),{success:!0,message:`All API keys valid: ${e.join(", ")}`})}catch(e){return this.logger.error("API key validation error",e),{success:!1,message:`Validation error: ${e instanceof Error?e.message:String(e)}`}}}async initializeDatabaseSchema(){try{const e={database_type:this.settings.databaseType,...this.prepareDatabaseConfig(),llm_provider:this.settings.llmProvider,api_keys:this.settings.apiKeys,llm_model:this.settings.llmModel,azure_endpoint:this.settings.azureEndpoint,azure_api_version:this.settings.azureApiVersion,ollama_base_url:this.settings.ollamaBaseUrl},t=this.getDatabaseConfig();return this.logger.info("Initializing database schema",{databaseType:this.settings.databaseType,databaseConfig:t,llmProvider:this.settings.llmProvider}),await this.executePythonSchemaInitialization(e)}catch(e){return this.logger.error("Database schema initialization error",e),{success:!1,message:`Schema initialization error: ${e instanceof Error?e.message:String(e)}`}}}async executePythonSchemaInitialization(e){return new Promise(t=>{var i,s;try{const{bridgeDir:r}=this.getVaultAwarePaths(),o=Me.join(r,"test_connections.py");if(!require("fs").existsSync(o)){t({success:!1,message:`Test script not found at: ${o}`});return}this.logger.info("Executing schema initialization");const l=at.spawn("python",[o,"--test-type","schema-init","--config",JSON.stringify(e)],{cwd:r,stdio:["pipe","pipe","pipe"]});let c="",p="";(i=l.stdout)==null||i.on("data",g=>{const h=g.toString();c+=h,this.logger.logPythonOutput("stdout",h)}),(s=l.stderr)==null||s.on("data",g=>{const h=g.toString();p+=h,this.logger.logPythonOutput("stderr",h)}),l.on("close",g=>{if(this.logger.debug("Schema initialization process completed",{exitCode:g}),g===0)try{const h=JSON.parse(c.trim());t({success:h.success,message:h.message})}catch(h){this.logger.error("Failed to parse schema initialization result",h),t({success:!1,message:`Failed to parse initialization result: ${c||p}`})}else this.logger.error("Schema initialization failed",{exitCode:g,stderr:p,stdout:c}),t({success:!1,message:`Schema initialization failed (exit code ${g}): ${p||c||"Unknown error"}`})}),l.on("error",g=>{this.logger.error("Failed to start schema initialization process",g);let h=g.message;g.message.includes("ENOENT")&&(h="Python not found. Please ensure Python 3.10+ is installed and in your PATH."),t({success:!1,message:`Failed to start schema initialization: ${h}`})})}catch(r){this.logger.error("Schema initialization exception",r),t({success:!1,message:`Schema initialization error: ${r instanceof Error?r.message:String(r)}`})}})}async testManualSync(e,t="obsidian_mm_individual"){var s;const i=Date.now();try{this.logger.info(`Starting manual sync test for file: ${e}, Source: ${t}`);try{const S=this.settings.embeddingModel,x=this.getCurrentEmbeddingDimensions(),E=await this.vaultRegistryService.hasEmbeddingModelChanged(S,x);if(E){const D=await this.vaultRegistryService.getEmbeddingModelMismatchDetails(S,x);this.logger.warn("[TEST_SYNC] Embedding model change detected before test sync",{hasChanged:E,storedModel:D==null?void 0:D.storedModel,storedDimensions:D==null?void 0:D.storedDimensions,currentModel:S,currentDimensions:x,noteFile:e});const M=`Embedding model changed from ${(D==null?void 0:D.storedModel)||"unknown"} to ${S}. This may affect vector similarity in your knowledge graph.`;new C.Notice(M,8e3)}}catch(S){this.logger.debug("[TEST_SYNC] Failed to validate embedding model (test sync continues)",{error:S,noteFile:e})}if(!require("fs").existsSync(e))throw new Error(`Note file not found: ${e}`);const o={notesPaths:[e],batchSize:1,debug:this.settings.enableDebugLogging,source_description:t,crossEncoderClient:this.settings.crossEncoderClient,crossEncoderModel:this.settings.crossEncoderModel,use_custom_ontology:this.settings.useCustomOntology},a=await this.syncNotes(o,S=>{this.logger.debug("Manual sync progress",S),new C.Notice(`Manual sync: ${S.message} (${S.percentage.toFixed(1)}%)`)},t),l=a.processing_duration_seconds??(a.notes&&Array.isArray(a.notes)&&((s=a.notes[0])==null?void 0:s.processing_duration_seconds))??Math.round((Date.now()-i)/1e3),c=1,p=0,g=1,h=1,m=a!=null&&a.notes&&Array.isArray(a.notes)?a.notes[0]:null,d=a.note_name||(m==null?void 0:m.note_name)||"unknown",f=await this.syncRegistryService.generateGroupId(e,this.plugin.app.vault.getName()),v=a.episode_uuid||(m==null?void 0:m.episode_uuid)||"unknown",w=a.status||(m==null?void 0:m.status)||"unknown";return this.logger.info(`ManualSyncResult: note_name:${d}, status: ${w}, processed: ${c}, skipped: ${p}, total: ${g}, batches: ${h}, processed_in: ${l}s, group_id: ${f}, uuid: ${v}, source_description: ${t}`),a}catch(r){return this.logger.error("[ERROR] Manual sync test failed",r),{status:"error",processed:0,skipped:0,total:1,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:r instanceof Error?r.message:String(r)}}}getPlugin(){return typeof window.app<"u"?window.app.plugins.plugins["megamem-mcp"]:null}async addEntityDefinition(e,t){const i=this.getPlugin();if(!(i!=null&&i.settings))throw new Error("Plugin settings not available");i.settings.entityDescriptions||(i.settings.entityDescriptions={}),i.settings.entityDescriptions[e]={className:e.replace(/\s+/g,"").replace(/[^a-zA-Z0-9]/g,""),description:t,isUserDefined:!0,source:"user",lastModified:new Date().toISOString()},await i.saveSettings(),this.logger.info("Added entity definition",{entityName:e})}async removeEntityDefinition(e){var i;const t=this.getPlugin();(i=t==null?void 0:t.settings)!=null&&i.entityDescriptions&&(delete t.settings.entityDescriptions[e],await t.saveSettings(),this.logger.info("Removed entity definition",{entityName:e}))}async updateEntityDescription(e,t){var s,r;const i=this.getPlugin();if(!((r=(s=i==null?void 0:i.settings)==null?void 0:s.entityDescriptions)!=null&&r[e]))throw new Error(`Entity ${e} not found`);i.settings.entityDescriptions[e]={...i.settings.entityDescriptions[e],description:t,lastModified:new Date().toISOString()},await i.saveSettings(),this.logger.info("Updated entity description",{entityName:e})}async addPropertyDefinition(e,t,i){const s=this.getPlugin();if(!(s!=null&&s.settings))throw new Error("Plugin settings not available");s.settings.propertyDescriptions||(s.settings.propertyDescriptions={}),s.settings.propertyDescriptions[e]||(s.settings.propertyDescriptions[e]={}),s.settings.propertyDescriptions[e][t]={description:i,fieldType:"str",isUserDefined:!0,source:"user",lastModified:new Date().toISOString()},await s.saveSettings(),this.logger.info("Added property definition",{entityName:e,propertyName:t})}async removePropertyDefinition(e,t){var s,r;const i=this.getPlugin();(r=(s=i==null?void 0:i.settings)==null?void 0:s.propertyDescriptions)!=null&&r[e]&&(delete i.settings.propertyDescriptions[e][t],Object.keys(i.settings.propertyDescriptions[e]).length===0&&delete i.settings.propertyDescriptions[e],await i.saveSettings(),this.logger.info("Removed property definition",{entityName:e,propertyName:t}))}async updatePropertyDescription(e,t,i){var r,o,a;const s=this.getPlugin();if(!((a=(o=(r=s==null?void 0:s.settings)==null?void 0:r.propertyDescriptions)==null?void 0:o[e])!=null&&a[t]))throw new Error(`Property ${e}.${t} not found`);s.settings.propertyDescriptions[e][t]={...s.settings.propertyDescriptions[e][t],description:i,lastModified:new Date().toISOString()},await s.saveSettings(),this.logger.info("Updated property description",{entityName:e,propertyName:t})}async loadAllDefaultEntityDescriptions(){const e=this.getPlugin();if(!(e!=null&&e.settings))throw new Error("Plugin settings not available");e.settings.entityDescriptions||(e.settings.entityDescriptions={});const t=this.schemaService.getAvailableDefaultEntityTypes();let i=0,s=0;for(const r of t){const o=this.schemaService.getDefaultEntityDescription(r);if(o)if(e.settings.entityDescriptions[r]){const a=e.settings.entityDescriptions[r];a.source!=="user"&&(e.settings.entityDescriptions[r]={...a,description:o,source:"discovery",lastModified:new Date().toISOString()},s++)}else e.settings.entityDescriptions[r]={className:r.replace(/\s+/g,"").replace(/[^a-zA-Z0-9]/g,""),description:o,isUserDefined:!1,source:"discovery",lastModified:new Date().toISOString()},i++}await e.saveSettings(),this.logger.info("Loaded all default entity descriptions",{addedCount:i,updatedCount:s})}async loadAllDefaultPropertyDescriptions(){const e=this.getPlugin();if(!(e!=null&&e.settings))throw new Error("Plugin settings not available");e.settings.propertyDescriptions||(e.settings.propertyDescriptions={});let t=0,i=0;const s=await this.schemaService.discoverAllSchemas();for(const r of s){const o=r.typeName;e.settings.propertyDescriptions[o]||(e.settings.propertyDescriptions[o]={});for(const a of r.properties){const l=a.name,c=this.schemaService.getDefaultPropertyDescription(l);if(c)if(e.settings.propertyDescriptions[o][l]){const p=e.settings.propertyDescriptions[o][l];p.source!=="user"&&(e.settings.propertyDescriptions[o][l]={...p,description:c,source:"discovery",lastModified:new Date().toISOString()},i++)}else e.settings.propertyDescriptions[o][l]={description:c,fieldType:a.inferredType==="string"?"str":a.inferredType==="number"?"float":a.inferredType==="boolean"?"bool":a.inferredType==="date"?"datetime":a.inferredType==="array"?"List[str]":"str",isUserDefined:!1,source:"discovery",lastModified:new Date().toISOString()},t++}}await e.saveSettings(),this.logger.info("Loaded all default property descriptions",{addedCount:t,updatedCount:i})}async saveData(){const e=this.getPlugin();if(!(e!=null&&e.settings))throw new Error("Plugin settings not available");await e.saveSettings(),this.logger.info("Saved data to data.json")}logCacheMetrics(e){const t=Bt.performance.now();if(t-this.lastCacheLogTime>5e3||(this.cacheHits+this.cacheMisses)%10===0){const r=this.cacheHits+this.cacheMisses,o=r>0?(this.cacheHits/r*100).toFixed(2):"0.00",a=this.pathCache.size,c=(a*200/1024).toFixed(2);this.logger.debug(`[CACHE_HEALTH] Vault: ${e}, Hits: ${this.cacheHits}, Misses: ${this.cacheMisses}, Hit Ratio: ${o}%, Cache Size: ${a} entries, Est. Memory: ${c} KB`),this.cacheHits=0,this.cacheMisses=0,this.lastCacheLogTime=t}}async startMcpServer(){try{if(this.mcpServerProcess&&!this.mcpServerProcess.killed)return{success:!1,message:"MCP server is already running",pid:this.mcpServerProcess.pid};const{pluginDir:e}=this.getVaultAwarePaths(),t=Me.join(e,"mcp-server","megamem_mcp_server.py");return require("fs").existsSync(t)?(this.logger.info("Starting MCP server process",{mcpServerPath:t}),this.mcpServerProcess=at.spawn("python",[t],{stdio:["pipe","pipe","pipe"],cwd:Me.join(e,"mcp-server")}),new Promise(s=>{var o,a;const r=setTimeout(()=>{this.mcpServerProcess&&(this.mcpServerProcess.kill(),this.mcpServerProcess=null),s({success:!1,message:"MCP server startup timeout"})},1e4);this.mcpServerProcess.on("spawn",()=>{clearTimeout(r),this.logger.info("MCP server started successfully",{pid:this.mcpServerProcess.pid}),s({success:!0,message:"MCP server started successfully",pid:this.mcpServerProcess.pid})}),this.mcpServerProcess.on("error",l=>{clearTimeout(r),this.mcpServerProcess=null,this.logger.error("Failed to start MCP server",l),s({success:!1,message:`Failed to start MCP server: ${l.message}`})}),this.mcpServerProcess.on("exit",(l,c)=>{this.mcpServerProcess=null,this.logger.warn("MCP server process exited",{code:l,signal:c})}),(o=this.mcpServerProcess.stdout)==null||o.on("data",l=>{this.logger.debug("MCP server stdout",{output:l.toString().trim()})}),(a=this.mcpServerProcess.stderr)==null||a.on("data",l=>{this.logger.warn("MCP server stderr",{output:l.toString().trim()})})})):{success:!1,message:`MCP server not found at: ${t}`}}catch(e){return this.logger.error("Error starting MCP server",e),{success:!1,message:`Error starting MCP server: ${e instanceof Error?e.message:String(e)}`}}}async stopMcpServer(){try{if(!this.mcpServerProcess||this.mcpServerProcess.killed)return{success:!0,message:"MCP server is not running"};const e=this.mcpServerProcess.pid;return this.logger.info("Stopping MCP server process",{pid:e}),new Promise(t=>{var s;const i=setTimeout(()=>{this.mcpServerProcess&&!this.mcpServerProcess.killed&&(this.logger.warn("Force killing MCP server process"),this.mcpServerProcess.kill("SIGKILL"))},5e3);this.mcpServerProcess.on("exit",()=>{clearTimeout(i),this.mcpServerProcess=null,this.logger.info("MCP server stopped successfully"),t({success:!0,message:"MCP server stopped successfully"})}),(s=this.mcpServerProcess)==null||s.kill("SIGTERM")})}catch(e){return this.logger.error("Error stopping MCP server",e),{success:!1,message:`Error stopping MCP server: ${e instanceof Error?e.message:String(e)}`}}}isMcpServerRunning(){return this.mcpServerProcess!==null&&!this.mcpServerProcess.killed}getMcpServerStatus(){return this.mcpServerProcess?this.mcpServerProcess.killed?{running:!1,status:"stopped",message:"MCP server process was killed"}:{running:!0,pid:this.mcpServerProcess.pid,status:"running",message:`MCP server is running (PID: ${this.mcpServerProcess.pid})`}:{running:!1,status:"stopped",message:"MCP server is not running"}}generateClaudeDesktopConfig(){try{const{pluginDir:e}=this.getVaultAwarePaths(),t=Me.join(e,"mcp-server","megamem_mcp_server.py"),i=Me.join(e,"data.json");if(!require("fs").existsSync(t))return{success:!1,message:`MCP server not found at: ${t}`};const r={megamem:{command:"python",args:[t.replace(/\\/g,"/")],env:{OBSIDIAN_CONFIG_PATH:i.replace(/\\/g,"/")}}},o=require("os"),a=require("path"),l=a.join(o.homedir(),"AppData","Roaming","Claude"),c=a.join(l,"claude_desktop_config.json");return{success:!0,config:r,message:"Claude Desktop configuration generated successfully",configPath:c}}catch(e){return this.logger.error("Error generating Claude Desktop config",e),{success:!1,message:`Error generating config: ${e instanceof Error?e.message:String(e)}`}}}}class sc{constructor(e,t,i,s){this.daemonProcess=null,this.commandQueue=[],this.isProcessing=!1,this.isShuttingDown=!1,this.startupPromise=null,this.plugin=e,this.settings=t,this.logger=i,this.vaultRegistry=s}async preloadDaemon(){return this.startDaemon()}async startDaemon(){if(!(this.daemonProcess&&!this.daemonProcess.killed))return this.startupPromise?this.startupPromise:(this.startupPromise=this._startDaemonInternal(),this.startupPromise)}async _startDaemonInternal(){return new Promise((e,t)=>{var i,s;try{const r=this.getBridgePath(),o=Me.join(r,"sync_daemon.py"),a=require("fs");this.logger.debug("[DAEMON] Resolved paths",{bridgePath:r,daemonScript:o,exists:a.existsSync(o)}),this.logger.info("[DAEMON] Starting Python daemon process");const l={...process.env};this.settings.logPerformance&&(l.GRAPHITI_LOG_PERFORMANCE="true"),this.daemonProcess=at.spawn("python",[o],{stdio:["pipe","pipe","pipe"],cwd:r,env:l});let c=!1;const p=setTimeout(()=>{c||(this.logger.error("[DAEMON] Startup timeout"),t(new Error("Daemon startup timeout")))},12e4);this.logger.debug("[DAEMON] Waiting up to 120s for daemon readiness"),(i=this.daemonProcess.stdout)==null||i.on("data",g=>{const h=g.toString().trim();this.logger.logPythonOutput("stdout",h),h.includes('"status": "ready"')&&!c&&(c=!0,clearTimeout(p),this.logger.info("[DAEMON] Process ready - BGE model loaded"),this.startupPromise=null,e())}),(s=this.daemonProcess.stderr)==null||s.on("data",g=>{const h=g.toString().trim();this.logger.logPythonOutput("stderr",h)}),this.daemonProcess.on("error",g=>{this.logger.error("[DAEMON] Process error:",g),this.startupPromise=null,c||(clearTimeout(p),t(g))}),this.daemonProcess.on("exit",(g,h)=>{this.logger.info(`[DAEMON] Process exited with code ${g}, signal ${h}`),this.daemonProcess=null,this.startupPromise=null,c||(clearTimeout(p),t(new Error(`Daemon process exited with code ${g}`)))})}catch(r){this.logger.error("[DAEMON] Failed to start process:",r),this.startupPromise=null,t(r)}})}async executeDaemonSync(e){try{await this.startDaemon();const i={command:"sync",config:{...e,logPerformance:this.settings.logPerformance}};return await this.executeCommand(i)}catch(t){throw this.logger.error("[DAEMON] Sync execution failed:",t),t}}async executeCommand(e){if(this.isShuttingDown)throw new Error("Daemon is shutting down");return new Promise((t,i)=>{const s=setTimeout(()=>{i(new Error("Command timeout - daemon may be unresponsive"))},6e5),r={command:e,resolve:o=>{clearTimeout(s),t(o)},reject:o=>{clearTimeout(s),i(o)},timeout:s};this.commandQueue.push(r),this.processQueue()})}async processQueue(){if(!(this.isProcessing||this.commandQueue.length===0)){for(this.isProcessing=!0;this.commandQueue.length>0&&!this.isShuttingDown;){const e=this.commandQueue.shift();try{const t=await this.sendCommandToDaemon(e.command);e.resolve(t)}catch(t){e.reject(t)}}this.isProcessing=!1}}async sendCommandToDaemon(e){const t=this.daemonProcess;if(!t||t.killed)throw new Error("Daemon process not available");return new Promise((i,s)=>{var c,p;let r="",o=!1;const a=g=>{var h;r+=g.toString();try{const m=r.split(`
`);for(const d of m)if(d.trim()&&!o){const f=JSON.parse(d.trim());o=!0,(h=t.stdout)==null||h.removeListener("data",a),i(f);return}}catch{}};(c=t.stdout)==null||c.on("data",a);const l=JSON.stringify(e)+`
`;(p=t.stdin)==null||p.write(l),setTimeout(()=>{var g;o||((g=t.stdout)==null||g.removeListener("data",a),s(new Error("Command response timeout")))},6e5)})}async shutdown(){var t;if(this.isShuttingDown)return;this.isShuttingDown=!0,this.logger.info("[DAEMON] Shutting down daemon process"),this.commandQueue.forEach(i=>{clearTimeout(i.timeout),i.reject(new Error("Daemon shutting down"))}),this.commandQueue=[];const e=this.daemonProcess;if(e&&!e.killed)try{const i={command:"shutdown"};(t=e.stdin)==null||t.write(JSON.stringify(i)+`
`),await new Promise(s=>setTimeout(s,2e3)),e&&!e.killed&&e.kill("SIGTERM")}catch(i){this.logger.error("[DAEMON] Error during shutdown:",i),e&&!e.killed&&e.kill("SIGKILL")}this.daemonProcess=null,this.isShuttingDown=!1,this.startupPromise=null}getBridgePath(){var o,a,l,c,p;const e=require("fs");let t=this.vaultRegistry.getActiveVault();if(t||(this.vaultRegistry.ensureActiveVault(),t=this.vaultRegistry.getActiveVault()),t!=null&&t.path){const g=Me.join(t.path,".obsidian","plugins","megamem-mcp","graphiti_bridge");if(e.existsSync(Me.join(g,"sync_daemon.py")))return this.logger.debug("[DAEMON] Using vault-aware bridge path",{path:g}),g}const i=((a=(o=this.plugin)==null?void 0:o.manifest)==null?void 0:a.dir)||"",s=((p=(c=(l=this.plugin.app)==null?void 0:l.vault)==null?void 0:c.adapter)==null?void 0:p.basePath)||"",r=s?Me.join(s,i,"graphiti_bridge"):Me.join(i,"graphiti_bridge");return this.logger.debug("[DAEMON] Using fallback bridge path",{path:r,vaultPath:(t==null?void 0:t.path)||"none",manifestDir:i,currentVaultPath:s}),r}isRunning(){return!!(this.daemonProcess&&!this.daemonProcess.killed)}getStatus(){return{running:this.isRunning(),queueLength:this.commandQueue.length,processing:this.isProcessing}}}function fe(){}function qs(n){return n()}function ni(){return Object.create(null)}function $e(n){n.forEach(qs)}function Tn(n){return typeof n=="function"}function Mn(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function rc(n){return Object.keys(n).length===0}function u(n,e){n.appendChild(e)}function Q(n,e,t){n.insertBefore(e,t||null)}function J(n){n.parentNode&&n.parentNode.removeChild(n)}function Ye(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function b(n){return document.createElement(n)}function Xt(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function V(n){return document.createTextNode(n)}function k(){return V(" ")}function oc(){return V("")}function ee(n,e,t,i){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t,i)}function ut(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function y(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function ac(n){return Array.from(n.childNodes)}function ne(n,e){e=""+e,n.data!==e&&(n.data=e)}function Ie(n,e){n.value=e??""}function ii(n,e,t,i){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,i?"important":"")}function et(n,e,t){for(let i=0;i<n.options.length;i+=1){const s=n.options[i];if(s.__value===e){s.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function Tt(n){const e=n.querySelector(":checked");return e&&e.__value}let Ft;function At(n){Ft=n}function Ws(){if(!Ft)throw new Error("Function called outside component initialization");return Ft}function Nn(n){Ws().$$.on_mount.push(n)}function Ks(n){Ws().$$.on_destroy.push(n)}const _t=[],Sn=[];let kt=[];const si=[],lc=Promise.resolve();let _n=!1;function cc(){_n||(_n=!0,lc.then(Hs))}function pt(n){kt.push(n)}const dn=new Set;let vt=0;function Hs(){if(vt!==0)return;const n=Ft;do{try{for(;vt<_t.length;){const e=_t[vt];vt++,At(e),dc(e.$$)}}catch(e){throw _t.length=0,vt=0,e}for(At(null),_t.length=0,vt=0;Sn.length;)Sn.pop()();for(let e=0;e<kt.length;e+=1){const t=kt[e];dn.has(t)||(dn.add(t),t())}kt.length=0}while(_t.length);for(;si.length;)si.pop()();_n=!1,dn.clear(),At(n)}function dc(n){if(n.fragment!==null){n.update(),$e(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(pt)}}function uc(n){const e=[],t=[];kt.forEach(i=>n.indexOf(i)===-1?e.push(i):t.push(i)),t.forEach(i=>i()),kt=e}const Gt=new Set;let gt;function Ee(){gt={r:0,c:[],p:gt}}function Ce(){gt.r||$e(gt.c),gt=gt.p}function z(n,e){n&&n.i&&(Gt.delete(n),n.i(e))}function G(n,e,t,i){if(n&&n.o){if(Gt.has(n))return;Gt.add(n),gt.c.push(()=>{Gt.delete(n),i&&(t&&n.d(1),i())}),n.o(e)}else i&&i()}function ke(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function le(n){n&&n.c()}function re(n,e,t){const{fragment:i,after_update:s}=n.$$;i&&i.m(e,t),pt(()=>{const r=n.$$.on_mount.map(qs).filter(Tn);n.$$.on_destroy?n.$$.on_destroy.push(...r):$e(r),n.$$.on_mount=[]}),s.forEach(pt)}function oe(n,e){const t=n.$$;t.fragment!==null&&(uc(t.after_update),$e(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function pc(n,e){n.$$.dirty[0]===-1&&(_t.push(n),cc(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function An(n,e,t,i,s,r,o=null,a=[-1]){const l=Ft;At(n);const c=n.$$={fragment:null,ctx:[],props:r,update:fe,not_equal:s,bound:ni(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:ni(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};o&&o(c.root);let p=!1;if(c.ctx=t?t(n,e.props||{},(g,h,...m)=>{const d=m.length?m[0]:h;return c.ctx&&s(c.ctx[g],c.ctx[g]=d)&&(!c.skip_bound&&c.bound[g]&&c.bound[g](d),p&&pc(n,g)),h}):[],c.update(),p=!0,$e(c.before_update),c.fragment=i?i(c.ctx):!1,e.target){if(e.hydrate){const g=ac(e.target);c.fragment&&c.fragment.l(g),g.forEach(J)}else c.fragment&&c.fragment.c();e.intro&&z(n.$$.fragment),re(n,e.target,e.anchor),Hs()}At(l)}class On{constructor(){on(this,"$$");on(this,"$$set")}$destroy(){oe(this,1),this.$destroy=fe}$on(e,t){if(!Tn(t))return fe;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}$set(e){this.$$set&&!rc(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const gc="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(gc);function hc(n){let e,t;return{c(){e=b("span"),y(e,"class",t="obsidian-icon inline-flex items-center justify-center "+n[3][n[0]]+" "+n[1]),y(e,"aria-hidden","true")},m(i,s){Q(i,e,s),n[5](e)},p(i,[s]){s&3&&t!==(t="obsidian-icon inline-flex items-center justify-center "+i[3][i[0]]+" "+i[1])&&y(e,"class",t)},i:fe,o:fe,d(i){i&&J(e),n[5](null)}}}function fc(n,e,t){let{icon:i}=e,{size:s="medium"}=e,{extraClasses:r=""}=e,o,a=null;const l={small:"w-3 h-3",medium:"w-4 h-4",large:"w-5 h-5",inherit:""};function c(){o&&i&&(C.setIcon(o,i),s==="inherit"?(t(2,o.style.width="1em",o),t(2,o.style.height="1em",o)):(t(2,o.style.width="",o),t(2,o.style.height="",o)))}Nn(()=>{c(),a=new MutationObserver(g=>{g.forEach(h=>{h.type==="attributes"&&(h.attributeName==="class"||h.attributeName==="style")&&c()})}),o&&(a.observe(o,{attributes:!0}),o.parentElement&&a.observe(o.parentElement,{attributes:!0}))}),Ks(()=>{a==null||a.disconnect()});function p(g){Sn[g?"unshift":"push"](()=>{o=g,t(2,o)})}return n.$$set=g=>{"icon"in g&&t(4,i=g.icon),"size"in g&&t(0,s=g.size),"extraClasses"in g&&t(1,r=g.extraClasses)},c(),[s,r,o,l,i,p]}class ce extends On{constructor(e){super(),An(this,e,fc,hc,Mn,{icon:4,size:0,extraClasses:1})}}function ri(n,e,t){const i=n.slice();return i[158]=e[t],i}function oi(n,e,t){const i=n.slice();return i[161]=e[t],i}function ai(n,e,t){const i=n.slice();return i[161]=e[t],i}function li(n,e,t){const i=n.slice();return i[166]=e[t],i}function ci(n,e,t){const i=n.slice();return i[158]=e[t],i}function di(n,e,t){const i=n.slice();return i[171]=e[t],i[173]=t,i}function ui(n,e,t){const i=n.slice();return i[158]=e[t],i}function pi(n,e,t){const i=n.slice();return i[158]=e[t],i}function gi(n,e,t){const i=n.slice();return i[161]=e[t],i}function hi(n,e,t){const i=n.slice();return i[161]=e[t],i}function fi(n,e,t){const i=n.slice();return i[182]=e[t][0],i[183]=e[t][1],i}function mi(n,e,t){const i=n.slice();return i[182]=e[t],i}function yi(n,e,t){const i=n.slice();return i[188]=e[t][0],i[189]=e[t][1],i}function bi(n,e,t){var o,a;const i=n.slice();i[192]=e[t],i[196]=t;const s=((o=i[192].properties)==null?void 0:o.filter(function(...c){return n[104](i[192],...c)}))||[];i[193]=s;const r=((a=i[192].properties)==null?void 0:a.length)||0;return i[194]=r,i}function vi(n,e,t){var p,g,h,m,d,f,v,w,S,x,E,D;const i=n.slice();i[197]=e[t],i[205]=t;const s=(h=(p=i[3])==null?void 0:p.globallyIgnoredFields)==null?void 0:h.includes((g=i[197])==null?void 0:g.name);i[198]=s;const r=i[62](i[192].typeName,(m=i[197])==null?void 0:m.name);i[199]=r;const o=((v=(f=(d=i[3])==null?void 0:d.propertySelections)==null?void 0:f[i[192].typeName])==null?void 0:v[i[199]])??!1;i[200]=o;const a=i[64](i[192].typeName,(w=i[197])==null?void 0:w.name);i[201]=a;const l=i[63](i[192].typeName,(S=i[197])==null?void 0:S.name);i[202]=l;const c=!!((D=(E=i[24][i[192].typeName])==null?void 0:E[((x=i[197])==null?void 0:x.name)||""])!=null&&D.description);return i[203]=c,i}function wi(n,e,t){const i=n.slice();i[192]=e[t],i[207]=e,i[173]=t;const s=ad(i[192]);return i[206]=s,i}function un(n){const e=n.slice(),t=e[69]();return e[208]=t,e}function pn(n){const e=n.slice(),t=e[0].reduce((i,s)=>{var r;return i+(((r=s.properties)==null?void 0:r.length)||0)},0);return e[209]=t,e}function Si(n){let e,t,i=n[0].length+"",s,r;return{c(){e=b("span"),t=V("("),s=V(i),r=V(")"),y(e,"class","text-xs opacity-80 font-normal")},m(o,a){Q(o,e,a),u(e,t),u(e,s),u(e,r)},p(o,a){a[0]&1&&i!==(i=o[0].length+"")&&ne(s,i)},d(o){o&&J(e)}}}function _i(n){let e,t,i=n[209]+"",s,r;return{c(){e=b("span"),t=V("("),s=V(i),r=V(")"),y(e,"class","text-xs opacity-80 font-normal")},m(o,a){Q(o,e,a),u(e,t),u(e,s),u(e,r)},p(o,a){a[0]&1&&i!==(i=o[209]+"")&&ne(s,i)},d(o){o&&J(e)}}}function xi(n){let e,t,i,s,r,o,a,l,c,p,g,h,m,d,f,v,w,S,x,E,D,M,N,P,I,T,L,A,B,U,j,W,X,K,$,R,q,O=n[0].length>0&&Ei(un(n)),Y=n[0].length>0&&Ci(n);return{c(){e=b("div"),t=b("div"),i=b("h3"),i.textContent="LLM Automatic Ontologies",s=k(),r=b("p"),r.textContent="Use AI to automatically generate entity descriptions, property definitions, and relationships from your vault content.",o=k(),a=b("div"),l=b("button"),l.textContent="Generate Entity Descriptions",c=k(),p=b("button"),p.textContent="Suggest Property Descriptions",g=k(),h=b("button"),h.textContent="Generate Complete Ontology",m=k(),d=b("button"),d.textContent="Load All Default Entity Descriptions",f=k(),v=b("span"),v.textContent="LLM integration coming soon",w=k(),O&&O.c(),S=k(),x=b("div"),E=b("h3"),E.textContent="Base Entity Type",D=k(),M=b("div"),N=b("div"),P=b("h4"),P.textContent="BaseEntity",I=k(),T=b("div"),L=b("button"),L.textContent="View Properties",A=k(),B=b("span"),B.textContent="SYSTEM",U=k(),j=b("div"),j.innerHTML='<p class="text-[var(--text-default)] text-sm leading-relaxed">Base entity class that provides core properties inherited by all other entity types. Contains fundamental metadata for knowledge graph processing.</p>',W=k(),X=b("div"),X.innerHTML='<span class="flex items-center gap-1">Inherited by all entities</span> <span class="flex items-center gap-1">3 core properties</span> <span class="flex items-center gap-1">Always enabled</span>',K=k(),Y&&Y.c(),y(i,"class","text-xl font-semibold mb-2 flex items-center gap-2"),y(r,"class","mb-4 opacity-90 leading-relaxed text-[var(--text-on-accent)]"),y(l,"class","px-4 py-2 bg-[rgba(255,255,255,0.06)] border border-[rgba(255,255,255,0.08)] rounded-md text-sm transition-all duration-200 backdrop-blur-sm hover:bg-[rgba(255,255,255,0.09)] disabled:opacity-50 disabled:cursor-not-allowed text-[var(--text-on-accent)]"),l.disabled=!0,y(p,"class","px-4 py-2 bg-[rgba(255,255,255,0.06)] border border-[rgba(255,255,255,0.08)] rounded-md text-sm transition-all duration-200 backdrop-blur-sm hover:bg-[rgba(255,255,255,0.09)] disabled:opacity-50 disabled:cursor-not-allowed text-[var(--text-on-accent)]"),p.disabled=!0,y(h,"class","px-4 py-2 bg-[rgba(255,255,255,0.06)] border border-[rgba(255,255,255,0.08)] rounded-md text-sm transition-all duration-200 backdrop-blur-sm hover:bg-[rgba(255,255,255,0.09)] disabled:opacity-50 disabled:cursor-not-allowed text-[var(--text-on-accent)]"),h.disabled=!0,y(d,"class","px-4 py-2 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.06)] rounded-md text-sm transition-all duration-200 backdrop-blur-sm hover:bg-[rgba(255,255,255,0.06)] hover:border-[rgba(255,255,255,0.08)] text-[var(--text-on-accent)]"),y(d,"title","Load all default entity descriptions into data.json"),y(v,"class","text-xs opacity-70 italic text-[var(--text-on-accent)]"),y(a,"class","flex gap-3 flex-wrap items-center"),y(t,"class","bg-gradient-to-br from-[var(--interactive-accent)] to-[var(--background-secondary)] text-[var(--text-on-accent)] p-6 rounded-xl mb-6 shadow-md"),y(E,"class","text-lg font-semibold mb-4 text-[var(--text-default)]"),y(P,"class","text-lg font-semibold text-[var(--text-default)]"),y(L,"class","px-3 py-1 bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded text-sm hover:bg-[var(--background-modifier-border)] transition-colors duration-150 text-[var(--text-default)]"),y(L,"title","View Properties"),y(B,"class","text-xs px-2 py-1 bg-[var(--background-modifier-border)] text-[var(--text-muted)] rounded font-bold uppercase tracking-wide ml-2"),y(T,"class","flex gap-1 items-center"),y(N,"class","flex justify-between items-center mb-3"),y(j,"class","mb-3"),y(X,"class","flex gap-4 text-sm text-[var(--text-default)]"),y(M,"class","bg-[var(--background-primary-alt)] border-2 border-[var(--background-modifier-border)] rounded-lg p-4 max-w-lg"),y(x,"class","mb-8"),y(e,"class","animate-fadeIn"),y(e,"id","entities-panel")},m(te,Se){Q(te,e,Se),u(e,t),u(t,i),u(t,s),u(t,r),u(t,o),u(t,a),u(a,l),u(a,c),u(a,p),u(a,g),u(a,h),u(a,m),u(a,d),u(a,f),u(a,v),u(e,w),O&&O.m(e,null),u(e,S),u(e,x),u(x,E),u(x,D),u(x,M),u(M,N),u(N,P),u(N,I),u(N,T),u(T,L),u(T,A),u(T,B),u(M,U),u(M,j),u(M,W),u(M,X),u(e,K),Y&&Y.m(e,null),$=!0,R||(q=[ee(d,"click",n[72]),ee(L,"click",n[87])],R=!0)},p(te,Se){te[0].length>0?O?O.p(un(te),Se):(O=Ei(un(te)),O.c(),O.m(e,S)):O&&(O.d(1),O=null),te[0].length>0?Y?(Y.p(te,Se),Se[0]&1&&z(Y,1)):(Y=Ci(te),Y.c(),z(Y,1),Y.m(e,null)):Y&&(Ee(),G(Y,1,1,()=>{Y=null}),Ce())},i(te){$||(z(Y),$=!0)},o(te){G(Y),$=!1},d(te){te&&J(e),O&&O.d(),Y&&Y.d(),R=!1,$e(q)}}}function Ei(n){let e,t,i,s,r,o,a,l,c,p,g,h,m,d,f,v,w,S,x,E,D,M,N,P,I,T=n[208].warnings>0&&mc(n);return{c(){e=b("div"),t=b("h3"),t.textContent="Graphiti Compliance Dashboard",i=k(),s=b("div"),r=b("div"),o=b("span"),o.textContent=`${n[208].score}%`,a=k(),l=b("span"),l.textContent="Compliance Score",c=k(),p=b("div"),g=b("div"),h=b("span"),h.textContent=`${n[208].valid}`,m=k(),d=b("span"),d.textContent="Valid",f=k(),v=b("div"),w=b("span"),w.textContent=`${n[208].warnings}`,S=k(),x=b("span"),x.textContent="Warnings",E=k(),D=b("div"),M=b("span"),M.textContent=`${n[208].protectedCount}`,N=k(),P=b("span"),P.textContent="Protected",I=k(),T&&T.c(),y(t,"class","text-lg font-semibold mb-4 text-[var(--text-default)] flex items-center gap-2"),y(o,"class","text-2xl font-bold text-[var(--text-default)]"),y(l,"class","text-xs text-[var(--text-muted)] uppercase tracking-wide"),y(r,"class","flex flex-col items-center p-4 rounded-lg min-w-24 "+(n[208].score>=80?"bg-[var(--background-modifier-success)] border border-[var(--background-modifier-border)]":n[208].score>=60?"bg-[var(--background-modifier-border)] border border-[var(--background-modifier-border)]":"bg-[var(--background-modifier-error)] border border-[var(--background-modifier-border)]")),y(h,"class","text-xl font-bold text-[var(--text-success)]"),y(d,"class","text-xs text-[var(--text-muted)] uppercase tracking-wide"),y(g,"class","flex flex-col items-center p-2"),y(w,"class","text-xl font-bold text-[var(--text-error)]"),y(x,"class","text-xs text-[var(--text-muted)] uppercase tracking-wide"),y(v,"class","flex flex-col items-center p-2"),y(M,"class","text-xl font-bold text-[var(--text-error)]"),y(P,"class","text-xs text-[var(--text-muted)] uppercase tracking-wide"),y(D,"class","flex flex-col items-center p-2"),y(p,"class","flex gap-6"),y(s,"class","flex items-center gap-8 mb-4"),y(e,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded-lg p-6 mb-6")},m(L,A){Q(L,e,A),u(e,t),u(e,i),u(e,s),u(s,r),u(r,o),u(r,a),u(r,l),u(s,c),u(s,p),u(p,g),u(g,h),u(g,m),u(g,d),u(p,f),u(p,v),u(v,w),u(v,S),u(v,x),u(p,E),u(p,D),u(D,M),u(D,N),u(D,P),u(e,I),T&&T.m(e,null)},p(L,A){L[208].warnings>0&&T.p(L,A)},d(L){L&&J(e),T&&T.d()}}}function mc(n){let e,t,i,s;return{c(){e=b("div"),t=b("button"),t.textContent=`Apply All Naming Suggestions (${n[208].warnings})`,y(t,"class","px-4 py-2 bg-[var(--background-modifier-success)] text-[var(--text-on-accent)] rounded hover:opacity-90 font-medium"),y(e,"class","pt-4 border-t border-[var(--background-modifier-border)]")},m(r,o){Q(r,e,o),u(e,t),i||(s=ee(t,"click",n[70]),i=!0)},p:fe,d(r){r&&J(e),i=!1,s()}}}function Ci(n){let e,t,i,s=n[0].length+"",r,o,a,l,c,p=ke(n[0]),g=[];for(let m=0;m<p.length;m+=1)g[m]=Di(wi(n,p,m));const h=m=>G(g[m],1,1,()=>{g[m]=null});return{c(){e=b("div"),t=b("h3"),i=V("Custom Entity Types ("),r=V(s),o=V(")"),a=k(),l=b("div");for(let m=0;m<g.length;m+=1)g[m].c();y(t,"class","text-lg font-semibold mb-4"),y(l,"class","grid grid-cols-1 lg:grid-cols-2 gap-4 max-w-full")},m(m,d){Q(m,e,d),u(e,t),u(t,i),u(t,r),u(t,o),u(e,a),u(e,l);for(let f=0;f<g.length;f+=1)g[f]&&g[f].m(l,null);c=!0},p(m,d){if((!c||d[0]&1)&&s!==(s=m[0].length+"")&&ne(r,s),d[0]&33554817|d[1]&254|d[2]&512){p=ke(m[0]);let f;for(f=0;f<p.length;f+=1){const v=wi(m,p,f);g[f]?(g[f].p(v,d),z(g[f],1)):(g[f]=Di(v),g[f].c(),z(g[f],1),g[f].m(l,null))}for(Ee(),f=p.length;f<g.length;f+=1)h(f);Ce()}},i(m){if(!c){for(let d=0;d<p.length;d+=1)z(g[d]);c=!0}},o(m){g=g.filter(Boolean);for(let d=0;d<g.length;d+=1)G(g[d]);c=!1},d(m){m&&J(e),Ye(g,m)}}}function yc(n){let e,t=n[36](n[192].typeName)+"",i;return{c(){e=b("p"),i=V(t),y(e,"class","text-[var(--text-default)] text-sm leading-relaxed")},m(s,r){Q(s,e,r),u(e,i)},p(s,r){r[0]&1&&t!==(t=s[36](s[192].typeName)+"")&&ne(i,t)},i:fe,o:fe,d(s){s&&J(e)}}}function bc(n){let e,t,i,s,r=n[37](n[192].typeName),o,a,l,c,p,g,h,m;function d(){n[91].call(i,n[192])}let f=r&&ki(n);function v(){return n[93](n[192])}return{c(){e=b("div"),t=b("div"),i=b("textarea"),s=k(),f&&f.c(),o=k(),a=b("div"),l=b("button"),l.textContent="Save",c=k(),p=b("button"),p.textContent="Cancel",y(i,"placeholder","Enter entity description..."),y(i,"class","flex-1 p-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm leading-relaxed resize-vertical min-h-15"),y(i,"rows","3"),y(t,"class","flex gap-2"),y(l,"class","px-3 py-1 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded text-sm font-medium hover:opacity-90 transition-colors duration-200"),y(p,"class","px-3 py-1 bg-[var(--background-modifier-border)] text-[var(--text-default)] rounded text-sm hover:opacity-90 transition-colors duration-200"),y(a,"class","flex gap-2 justify-end"),y(e,"class","flex flex-col gap-2")},m(w,S){Q(w,e,S),u(e,t),u(t,i),Ie(i,n[8][n[192].typeName]),u(t,s),f&&f.m(t,null),u(e,o),u(e,a),u(a,l),u(a,c),u(a,p),g=!0,h||(m=[ee(i,"input",d),ee(l,"click",v),ee(p,"click",n[35])],h=!0)},p(w,S){n=w,S[0]&257&&Ie(i,n[8][n[192].typeName]),S[0]&1&&(r=n[37](n[192].typeName)),r?f?(f.p(n,S),S[0]&1&&z(f,1)):(f=ki(n),f.c(),z(f,1),f.m(t,null)):f&&(Ee(),G(f,1,1,()=>{f=null}),Ce())},i(w){g||(z(f),g=!0)},o(w){G(f),g=!1},d(w){w&&J(e),f&&f.d(),h=!1,$e(m)}}}function ki(n){let e,t,i,s,r,o,a,l;t=new ce({props:{icon:"download",size:"medium"}});function c(){return n[92](n[192])}return{c(){e=b("button"),le(t.$$.fragment),i=k(),s=b("span"),s.textContent="Load Default",y(e,"class","px-2 py-2 bg-[var(--background-modifier-success)] text-[var(--text-success)] border border-[var(--background-modifier-success)] rounded hover:opacity-90 transition-colors duration-200 text-sm whitespace-nowrap flex items-center gap-1"),y(e,"title",r="Load default description for "+n[192].typeName)},m(p,g){Q(p,e,g),re(t,e,null),u(e,i),u(e,s),o=!0,a||(l=ee(e,"click",ut(c)),a=!0)},p(p,g){n=p,(!o||g[0]&1&&r!==(r="Load default description for "+n[192].typeName))&&y(e,"title",r)},i(p){o||(z(t.$$.fragment,p),o=!0)},o(p){G(t.$$.fragment,p),o=!1},d(p){p&&J(e),oe(t),a=!1,l()}}}function Di(n){let e,t,i,s=n[192].typeName+"",r,o,a,l,c,p,g,h,m=n[25][n[192].typeName]?"Enabled":"Disabled",d,f,v,w,S,x,E,D,M,N,P,I,T,L,A,B,U,j=n[192].fileCount+"",W,X,K,$,R=n[192].properties.length+"",q,O,Y,te=n[206].score+"",Se,be,me,De,Re,ve,_e,de;function pe(){return n[88](n[192])}function we(){return n[89](n[192])}x=new ce({props:{icon:"pencil",size:"medium"}});function Le(){return n[90](n[192])}M=new ce({props:{icon:"sparkles",size:"medium"}});const ge=[bc,yc],Be=[];function je(Ue,xe){return Ue[7]===Ue[192].typeName?0:1}return I=je(n),T=Be[I]=ge[I](n),{c(){e=b("div"),t=b("div"),i=b("button"),r=V(s),o=k(),a=b("div"),l=b("label"),c=b("input"),g=k(),h=b("span"),d=V(m),w=k(),S=b("button"),le(x.$$.fragment),E=k(),D=b("button"),le(M.$$.fragment),N=k(),P=b("div"),T.c(),L=k(),A=b("div"),B=b("span"),U=V("Files: "),W=V(j),X=k(),K=b("span"),$=V("Props: "),q=V(R),O=k(),Y=b("span"),Se=V(te),be=V("% compliant"),De=k(),y(i,"class","text-lg font-semibold text-[var(--text-default)] hover:opacity-90 transition-colors duration-200 text-left"),y(c,"type","checkbox"),c.checked=p=!!n[25][n[192].typeName],y(c,"class","w-4 h-4 text-[var(--text-success)] bg-[var(--background-secondary)] border-[var(--background-modifier-border)] rounded focus:ring-[var(--text-success)] focus:ring-2"),y(h,"class",f="text-xs text-[var(--text-muted)] "+(n[25][n[192].typeName]?"text-[var(--text-success)]":"text-[var(--text-muted)]")),y(l,"class","flex items-center gap-1 cursor-pointer"),y(l,"title",v=n[25][n[192].typeName]?"Enabled in data.json - uncheck to disable":"Disabled - check to enable in data.json"),y(S,"class","p-1 rounded opacity-60 hover:opacity-100 hover:bg-[var(--background-modifier-border)] transition-all duration-200"),y(S,"title","Edit Description"),y(D,"class","p-1 rounded opacity-50 cursor-not-allowed"),y(D,"title","LLM Suggest"),D.disabled=!0,y(a,"class","flex gap-1 items-center"),y(t,"class","flex justify-between items-center mb-3"),y(P,"class","mb-3"),y(B,"class","flex items-center gap-1"),y(K,"class","flex items-center gap-1"),y(Y,"class",me="flex items-center gap-1 "+(n[206].score>=80?"text-[var(--text-success)]":n[206].score>=60?"text-[var(--text-warning)]":"text-[var(--text-error)]")),y(A,"class","flex gap-4 text-sm text-[var(--text-muted)]"),y(e,"class",Re="bg-[var(--background-secondary-alt)] border border-[var(--background-modifier-border)] rounded-lg p-4 cursor-pointer transition-all duration-200 hover:border-[var(--interactive-accent)] hover:shadow-md "+(as===n[192].typeName?"border-[var(--interactive-accent)] shadow-md ring-2 ring-[var(--background-modifier-border)]":""))},m(Ue,xe){Q(Ue,e,xe),u(e,t),u(t,i),u(i,r),u(t,o),u(t,a),u(a,l),u(l,c),u(l,g),u(l,h),u(h,d),u(a,w),u(a,S),re(x,S,null),u(a,E),u(a,D),re(M,D,null),u(e,N),u(e,P),Be[I].m(P,null),u(e,L),u(e,A),u(A,B),u(B,U),u(B,W),u(A,X),u(A,K),u(K,$),u(K,q),u(A,O),u(A,Y),u(Y,Se),u(Y,be),u(e,De),ve=!0,_e||(de=[ee(i,"click",pe),ee(c,"change",ut(we)),ee(S,"click",ut(Le))],_e=!0)},p(Ue,xe){n=Ue,(!ve||xe[0]&1)&&s!==(s=n[192].typeName+"")&&ne(r,s),(!ve||xe[0]&33554433&&p!==(p=!!n[25][n[192].typeName]))&&(c.checked=p),(!ve||xe[0]&33554433)&&m!==(m=n[25][n[192].typeName]?"Enabled":"Disabled")&&ne(d,m),(!ve||xe[0]&33554433&&f!==(f="text-xs text-[var(--text-muted)] "+(n[25][n[192].typeName]?"text-[var(--text-success)]":"text-[var(--text-muted)]")))&&y(h,"class",f),(!ve||xe[0]&33554433&&v!==(v=n[25][n[192].typeName]?"Enabled in data.json - uncheck to disable":"Disabled - check to enable in data.json"))&&y(l,"title",v);let Qe=I;I=je(n),I===Qe?Be[I].p(n,xe):(Ee(),G(Be[Qe],1,1,()=>{Be[Qe]=null}),Ce(),T=Be[I],T?T.p(n,xe):(T=Be[I]=ge[I](n),T.c()),z(T,1),T.m(P,null)),(!ve||xe[0]&1)&&j!==(j=n[192].fileCount+"")&&ne(W,j),(!ve||xe[0]&1)&&R!==(R=n[192].properties.length+"")&&ne(q,R),(!ve||xe[0]&1)&&te!==(te=n[206].score+"")&&ne(Se,te),(!ve||xe[0]&1&&me!==(me="flex items-center gap-1 "+(n[206].score>=80?"text-[var(--text-success)]":n[206].score>=60?"text-[var(--text-warning)]":"text-[var(--text-error)]")))&&y(Y,"class",me),(!ve||xe[0]&1&&Re!==(Re="bg-[var(--background-secondary-alt)] border border-[var(--background-modifier-border)] rounded-lg p-4 cursor-pointer transition-all duration-200 hover:border-[var(--interactive-accent)] hover:shadow-md "+(as===n[192].typeName?"border-[var(--interactive-accent)] shadow-md ring-2 ring-[var(--background-modifier-border)]":"")))&&y(e,"class",Re)},i(Ue){ve||(z(x.$$.fragment,Ue),z(M.$$.fragment,Ue),z(T),ve=!0)},o(Ue){G(x.$$.fragment,Ue),G(M.$$.fragment,Ue),G(T),ve=!1},d(Ue){Ue&&J(e),oe(x),oe(M),Be[I].d(),_e=!1,$e(de)}}}function Pi(n){let e,t,i,s,r,o,a,l,c,p,g,h,m,d,f,v,w,S,x,E,D,M,N,P,I,T,L,A,B,U;s=new ce({props:{icon:"sparkles"}});const j=[wc,vc],W=[];function X(K,$){return K[0].length>0?0:1}return T=X(n),L=W[T]=j[T](n),{c(){e=b("div"),t=b("div"),i=b("h3"),le(s.$$.fragment),r=k(),o=b("span"),o.textContent="LLM Automatic Property Descriptions",a=k(),l=b("p"),l.textContent="Use AI to automatically generate property descriptions and configure property settings for all entities.",c=k(),p=b("div"),g=b("button"),g.textContent="Generate All Property Descriptions (disabled)",h=k(),m=b("button"),m.textContent="Suggest Property Types (disabled)",d=k(),f=b("button"),f.textContent="Load Default Descriptions",v=k(),w=b("button"),w.textContent="Enable Default Properties",S=k(),x=b("span"),x.textContent="LLM integration coming soon",E=k(),D=b("div"),M=b("h3"),M.textContent="All Entity Properties",N=k(),P=b("p"),P.textContent="Configure property mappings, descriptions, and field types for all entity types.",I=k(),L.c(),y(i,"class","text-xl font-semibold mb-2 flex items-center gap-2"),y(l,"class","mb-4 opacity-90 leading-relaxed"),y(g,"class","px-4 py-2 bg-[rgba(255,255,255,0.06)] border border-[rgba(255,255,255,0.08)] rounded-md text-sm transition-all duration-200 backdrop-blur-sm hover:bg-[rgba(255,255,255,0.09)] disabled:opacity-50 disabled:cursor-not-allowed"),g.disabled=!0,y(m,"class","px-4 py-2 bg-[rgba(255,255,255,0.06)] border border-[rgba(255,255,255,0.08)] rounded-md text-sm transition-all duration-200 backdrop-blur-sm hover:bg-[rgba(255,255,255,0.09)] disabled:opacity-50 disabled:cursor-not-allowed"),m.disabled=!0,y(f,"class","px-4 py-2 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.06)] rounded-md text-sm transition-all duration-200 backdrop-blur-sm hover:bg-[rgba(255,255,255,0.06)] hover:border-[rgba(255,255,255,0.08)]"),y(f,"title","Load all default property descriptions into data.json"),y(w,"class","px-4 py-2 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.06)] rounded-md text-sm transition-all duration-200 backdrop-blur-sm hover:bg-[rgba(255,255,255,0.06)] hover:border-[rgba(255,255,255,0.08)]"),y(w,"title","Enable all properties for which we have default descriptions"),y(x,"class","text-xs opacity-70 italic"),y(p,"class","flex gap-3 flex-wrap items-center"),y(t,"class","bg-gradient-to-br from-[var(--interactive-accent)] to-[var(--background-secondary)] text-[var(--text-on-accent)] p-6 rounded-xl mb-6 shadow-md"),y(M,"class","text-lg font-semibold mb-2 text-[var(--text-default)]"),y(P,"class","text-[var(--text-muted)] mb-6"),y(e,"class","animate-fadeIn"),y(e,"id","properties-panel")},m(K,$){Q(K,e,$),u(e,t),u(t,i),re(s,i,null),u(i,r),u(i,o),u(t,a),u(t,l),u(t,c),u(t,p),u(p,g),u(p,h),u(p,m),u(p,d),u(p,f),u(p,v),u(p,w),u(p,S),u(p,x),u(e,E),u(e,D),u(D,M),u(D,N),u(D,P),u(D,I),W[T].m(D,null),A=!0,B||(U=[ee(f,"click",n[73]),ee(w,"click",n[74])],B=!0)},p(K,$){let R=T;T=X(K),T===R?W[T].p(K,$):(Ee(),G(W[R],1,1,()=>{W[R]=null}),Ce(),L=W[T],L?L.p(K,$):(L=W[T]=j[T](K),L.c()),z(L,1),L.m(D,null))},i(K){A||(z(s.$$.fragment,K),z(L),A=!0)},o(K){G(s.$$.fragment,K),G(L),A=!1},d(K){K&&J(e),oe(s),W[T].d(),B=!1,$e(U)}}}function vc(n){let e;return{c(){e=b("div"),e.innerHTML="<p>No entity types found. Run schema discovery first.</p>",y(e,"class","text-center py-8 text-[var(--text-muted)]")},m(t,i){Q(t,e,i)},p:fe,i:fe,o:fe,d(t){t&&J(e)}}}function wc(n){let e,t,i,s,r,o,a,l,c,p,g,h,m,d,f,v=n[6].has("BaseEntity"),w,S,x,E;const D=[_c,Sc],M=[];function N(A,B){return B[0]&64&&(g=null),g==null&&(g=!!A[6].has("BaseEntity")),g?0:1}h=N(n,[-1,-1,-1,-1,-1,-1,-1]),m=M[h]=D[h](n);let P=v&&Ti(),I=ke(n[0]),T=[];for(let A=0;A<I.length;A+=1)T[A]=Bi(bi(n,I,A));const L=A=>G(T[A],1,1,()=>{T[A]=null});return{c(){e=b("div"),t=b("div"),i=b("div"),s=b("button"),r=b("h4"),r.innerHTML='BaseEntity <span class="text-xs bg-[var(--background-modifier-border)] text-[var(--text-muted)] px-2 py-1 rounded ml-2">SYSTEM</span>',o=k(),a=b("div"),l=b("span"),l.textContent="3 of 3 enabled",c=k(),p=b("span"),m.c(),f=k(),P&&P.c(),w=k();for(let A=0;A<T.length;A+=1)T[A].c();y(r,"class","font-semibold text-[var(--text-default)]"),y(l,"class","text-xs text-[var(--text-muted)] bg-[var(--background-modifier-border)] px-2 py-1 rounded-full"),y(p,"class","text-lg text-[var(--text-muted)] font-bold ml-4"),y(a,"class","flex items-center gap-4"),y(s,"class","flex-1 flex justify-between items-center text-left cursor-pointer transition-colors duration-200 hover:opacity-90"),y(i,"class",d="flex justify-between items-center w-full p-4 bg-[var(--background-secondary)] border-none "+(n[6].has("BaseEntity")?"border-b border-[var(--background-modifier-border)]":"")),y(t,"class","bg-[var(--background-primary-alt)] border-2 border-[var(--background-modifier-border)] rounded-lg overflow-hidden"),y(t,"id","accordion-BaseEntity"),y(e,"class","flex flex-col gap-4")},m(A,B){Q(A,e,B),u(e,t),u(t,i),u(i,s),u(s,r),u(s,o),u(s,a),u(a,l),u(a,c),u(a,p),M[h].m(p,null),u(t,f),P&&P.m(t,null),u(e,w);for(let U=0;U<T.length;U+=1)T[U]&&T[U].m(e,null);S=!0,x||(E=ee(s,"click",n[94]),x=!0)},p(A,B){let U=h;if(h=N(A,B),h!==U&&(Ee(),G(M[U],1,1,()=>{M[U]=null}),Ce(),m=M[h],m||(m=M[h]=D[h](A),m.c()),z(m,1),m.m(p,null)),(!S||B[0]&64&&d!==(d="flex justify-between items-center w-full p-4 bg-[var(--background-secondary)] border-none "+(A[6].has("BaseEntity")?"border-b border-[var(--background-modifier-border)]":"")))&&y(i,"class",d),B[0]&64&&(v=A[6].has("BaseEntity")),v?P?B[0]&64&&z(P,1):(P=Ti(),P.c(),z(P,1),P.m(t,null)):P&&(Ee(),G(P,1,1,()=>{P=null}),Ce()),B[0]&50331721|B[1]&769|B[2]&57983){I=ke(A[0]);let j;for(j=0;j<I.length;j+=1){const W=bi(A,I,j);T[j]?(T[j].p(W,B),z(T[j],1)):(T[j]=Bi(W),T[j].c(),z(T[j],1),T[j].m(e,null))}for(Ee(),j=I.length;j<T.length;j+=1)L(j);Ce()}},i(A){if(!S){z(m),z(P);for(let B=0;B<I.length;B+=1)z(T[B]);S=!0}},o(A){G(m),G(P),T=T.filter(Boolean);for(let B=0;B<T.length;B+=1)G(T[B]);S=!1},d(A){A&&J(e),M[h].d(),P&&P.d(),Ye(T,A),x=!1,E()}}}function Sc(n){let e,t;return e=new ce({props:{icon:"chevron-right",size:"medium"}}),{c(){le(e.$$.fragment)},m(i,s){re(e,i,s),t=!0},i(i){t||(z(e.$$.fragment,i),t=!0)},o(i){G(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function _c(n){let e,t;return e=new ce({props:{icon:"chevron-down",size:"medium"}}),{c(){le(e.$$.fragment)},m(i,s){re(e,i,s),t=!0},i(i){t||(z(e.$$.fragment,i),t=!0)},o(i){G(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function Ti(n){let e,t,i,s,r,o,a,l,c,p,g,h,m,d,f,v,w,S,x,E,D,M,N,P,I,T,L,A,B,U,j,W,X,K,$,R,q;return p=new ce({props:{icon:"lock",size:"medium"}}),x=new ce({props:{icon:"lock",size:"medium"}}),A=new ce({props:{icon:"lock",size:"medium"}}),j=new ce({props:{icon:"info",size:"medium"}}),{c(){e=b("div"),t=b("div"),i=b("div"),s=b("div"),s.innerHTML=`<input type="checkbox" checked="${!0}" disabled="${!0}" class="rounded border-[var(--background-modifier-border)] text-[var(--interactive-accent)] focus:ring-[var(--interactive-accent)] disabled:opacity-50 disabled:cursor-not-allowed" title="Base Entity properties are always enabled"/> <span class="font-medium text-[var(--text-default)]">type</span> <span class="text-[var(--text-muted)] text-sm">(string)</span> <span class="text-xs px-2 py-1 bg-[var(--background-modifier-border)] text-[var(--text-muted)] rounded font-bold uppercase tracking-wide ml-auto">SYSTEM</span>`,r=k(),o=b("div"),a=b("input"),l=k(),c=b("button"),le(p.$$.fragment),g=k(),h=b("div"),m=b("div"),m.innerHTML=`<input type="checkbox" checked="${!0}" disabled="${!0}" class="rounded border-[var(--background-modifier-border)] text-[var(--interactive-accent)] focus:ring-[var(--interactive-accent)] disabled:opacity-50 disabled:cursor-not-allowed" title="Base Entity properties are always enabled"/> <span class="font-medium text-[var(--text-default)]">tags</span> <span class="text-[var(--text-muted)] text-sm">(List[str])</span> <span class="text-xs px-2 py-1 bg-[var(--background-modifier-border)] text-[var(--text-muted)] rounded font-bold uppercase tracking-wide ml-auto">SYSTEM</span>`,d=k(),f=b("div"),v=b("input"),w=k(),S=b("button"),le(x.$$.fragment),E=k(),D=b("div"),M=b("div"),M.innerHTML=`<input type="checkbox" checked="${!0}" disabled="${!0}" class="rounded border-[var(--background-modifier-border)] text-[var(--interactive-accent)] focus:ring-[var(--interactive-accent)] disabled:opacity-50 disabled:cursor-not-allowed" title="Base Entity properties are always enabled"/> <span class="font-medium text-[var(--text-default)]">created</span> <span class="text-[var(--text-muted)] text-sm">(datetime)</span> <span class="text-xs px-2 py-1 bg-[var(--background-modifier-border)] text-[var(--text-muted)] rounded font-bold uppercase tracking-wide ml-auto">SYSTEM</span>`,N=k(),P=b("div"),I=b("input"),T=k(),L=b("button"),le(A.$$.fragment),B=k(),U=b("div"),le(j.$$.fragment),W=k(),X=b("strong"),X.textContent="Base Entity Properties:",K=V(` These core properties are inherited by all custom entity types and are always enabled.\r
                      `),$=b("br"),R=b("span"),R.textContent="All generated Pydantic models automatically include these foundational fields.",y(s,"class","flex items-center gap-2 flex-wrap"),y(a,"type","text"),a.value="Entity type identifier for classification and model selection",a.disabled=!0,y(a,"class","flex-1 px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm min-w-48 disabled:opacity-50 bg-[var(--background-modifier-border)]"),y(c,"class","px-2 py-2 bg-[var(--background-modifier-border)] border border-[var(--background-modifier-border)] rounded text-sm opacity-50 cursor-not-allowed"),y(c,"title","System properties cannot be edited"),c.disabled=!0,y(o,"class","flex items-center gap-2"),y(i,"class","flex flex-col gap-2 p-3 bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded-md"),y(m,"class","flex items-center gap-2 flex-wrap"),y(v,"type","text"),v.value="Tags and labels for categorization and organization",v.disabled=!0,y(v,"class","flex-1 px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm min-w-48 disabled:opacity-50 bg-[var(--background-modifier-border)]"),y(S,"class","px-2 py-2 bg-[var(--background-modifier-border)] border border-[var(--background-modifier-border)] rounded text-sm opacity-50 cursor-not-allowed"),y(S,"title","System properties cannot be edited"),S.disabled=!0,y(f,"class","flex items-center gap-2"),y(h,"class","flex flex-col gap-2 p-3 bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded-md"),y(M,"class","flex items-center gap-2 flex-wrap"),y(I,"type","text"),I.value="Timestamp when the entity was first created or discovered",I.disabled=!0,y(I,"class","flex-1 px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm min-w-48 disabled:opacity-50 bg-[var(--background-modifier-border)]"),y(L,"class","px-2 py-2 bg-[var(--background-modifier-border)] border border-[var(--background-modifier-border)] rounded text-sm opacity-50 cursor-not-allowed"),y(L,"title","System properties cannot be edited"),L.disabled=!0,y(P,"class","flex items-center gap-2"),y(D,"class","flex flex-col gap-2 p-3 bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded-md"),y(t,"class","flex flex-col gap-3"),y(R,"class","text-xs text-[var(--text-muted)]"),y(U,"class","mt-4 p-3 bg-[var(--background-modifier-border)] border border-[var(--background-modifier-border)] rounded text-sm leading-relaxed text-[var(--text-default)] flex items-center gap-2"),y(e,"class","p-4 bg-[var(--background-secondary-alt)]")},m(O,Y){Q(O,e,Y),u(e,t),u(t,i),u(i,s),u(i,r),u(i,o),u(o,a),u(o,l),u(o,c),re(p,c,null),u(t,g),u(t,h),u(h,m),u(h,d),u(h,f),u(f,v),u(f,w),u(f,S),re(x,S,null),u(t,E),u(t,D),u(D,M),u(D,N),u(D,P),u(P,I),u(P,T),u(P,L),re(A,L,null),u(e,B),u(e,U),re(j,U,null),u(U,W),u(U,X),u(U,K),u(U,$),u(U,R),q=!0},i(O){q||(z(p.$$.fragment,O),z(x.$$.fragment,O),z(A.$$.fragment,O),z(j.$$.fragment,O),q=!0)},o(O){G(p.$$.fragment,O),G(x.$$.fragment,O),G(A.$$.fragment,O),G(j.$$.fragment,O),q=!1},d(O){O&&J(e),oe(p),oe(x),oe(A),oe(j)}}}function xc(n){let e,t;return e=new ce({props:{icon:"chevron-right",size:"medium"}}),{c(){le(e.$$.fragment)},m(i,s){re(e,i,s),t=!0},i(i){t||(z(e.$$.fragment,i),t=!0)},o(i){G(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function Ec(n){let e,t;return e=new ce({props:{icon:"chevron-down",size:"medium"}}),{c(){le(e.$$.fragment)},m(i,s){re(e,i,s),t=!0},i(i){t||(z(e.$$.fragment,i),t=!0)},o(i){G(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function Mi(n){let e,t,i,s,r,o;function a(){return n[97](n[192])}function l(){return n[98](n[192])}return{c(){e=b("div"),t=b("button"),t.textContent="Select All",i=k(),s=b("button"),s.textContent="Deselect All",y(t,"class","px-2 py-1 text-xs bg-[var(--background-modifier-success)] text-[var(--text-success)] border border-green-300 rounded hover:bg-green-200 transition-colors duration-200"),y(t,"title","Enable all non-protected, non-ignored properties"),y(s,"class","px-2 py-1 text-xs bg-[var(--background-modifier-error)] text-[var(--text-error)] border border-[var(--background-modifier-error)] rounded hover:bg-[var(--background-modifier-error)] transition-colors duration-200"),y(s,"title","Disable all properties"),y(e,"class","flex gap-2 ml-4")},m(c,p){Q(c,e,p),u(e,t),u(e,i),u(e,s),r||(o=[ee(t,"click",ut(a)),ee(s,"click",ut(l))],r=!0)},p(c,p){n=c},d(c){c&&J(e),r=!1,$e(o)}}}function Ni(n){let e,t,i,s,r;const o=[kc,Cc],a=[];function l(p,g){return p[192].properties&&p[192].properties.length>0?0:1}t=l(n),i=a[t]=o[t](n);let c=n[192].properties&&n[192].properties.length>0&&Ui(n);return{c(){e=b("div"),i.c(),s=k(),c&&c.c(),y(e,"class","p-4")},m(p,g){Q(p,e,g),a[t].m(e,null),u(e,s),c&&c.m(e,null),r=!0},p(p,g){let h=t;t=l(p),t===h?a[t].p(p,g):(Ee(),G(a[h],1,1,()=>{a[h]=null}),Ce(),i=a[t],i?i.p(p,g):(i=a[t]=o[t](p),i.c()),z(i,1),i.m(e,s)),p[192].properties&&p[192].properties.length>0?c?(c.p(p,g),g[0]&1&&z(c,1)):(c=Ui(p),c.c(),z(c,1),c.m(e,null)):c&&(Ee(),G(c,1,1,()=>{c=null}),Ce())},i(p){r||(z(i),z(c),r=!0)},o(p){G(i),G(c),r=!1},d(p){p&&J(e),a[t].d(),c&&c.d()}}}function Cc(n){let e;return{c(){e=b("p"),e.textContent="No properties found for this entity type.",y(e,"class","text-[var(--text-muted)] italic text-center py-4")},m(t,i){Q(t,e,i)},p:fe,i:fe,o:fe,d(t){t&&J(e)}}}function kc(n){let e,t,i=ke(n[192].properties),s=[];for(let o=0;o<i.length;o+=1)s[o]=$i(vi(n,i,o));const r=o=>G(s[o],1,1,()=>{s[o]=null});return{c(){e=b("div");for(let o=0;o<s.length;o+=1)s[o].c();y(e,"class","flex flex-col gap-3")},m(o,a){Q(o,e,a);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(e,null);t=!0},p(o,a){if(a[0]&16777225|a[1]&768|a[2]&8319){i=ke(o[192].properties);let l;for(l=0;l<i.length;l+=1){const c=vi(o,i,l);s[l]?(s[l].p(c,a),z(s[l],1)):(s[l]=$i(c),s[l].c(),z(s[l],1),s[l].m(e,null))}for(Ee(),l=i.length;l<s.length;l+=1)r(l);Ce()}},i(o){if(!t){for(let a=0;a<i.length;a+=1)z(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)G(s[a]);t=!1},d(o){o&&J(e),Ye(s,o)}}}function Ai(n){let e,t,i=n[202]+"",s,r;return{c(){e=b("span"),t=V("MAPPED FROM: "),s=V(i),y(e,"class","text-xs px-2 py-1 bg-[var(--background-modifier-border)] text-[var(--text-muted)] rounded font-medium"),y(e,"title",r="This property is the result of a mapping from: "+n[202])},m(o,a){Q(o,e,a),u(e,t),u(e,s)},p(o,a){a[0]&1&&i!==(i=o[202]+"")&&ne(s,i),a[0]&1&&r!==(r="This property is the result of a mapping from: "+o[202])&&y(e,"title",r)},d(o){o&&J(e)}}}function Oi(n){let e,t,i,s,r,o=n[203]?"Property Defined":"Property Not Defined",a,l,c,p,g;function h(){return n[100](n[192],n[197])}return{c(){e=b("label"),t=b("input"),s=k(),r=b("span"),a=V(o),y(t,"type","checkbox"),t.checked=i=n[203],y(t,"class","w-4 h-4 text-[var(--text-success)] bg-[var(--background-secondary)] border-[var(--background-modifier-border)] rounded focus:ring-[var(--text-success)] focus:ring-2"),y(r,"class",l="text-xs "+(n[203]?"text-[var(--text-success)]":"text-[var(--text-muted)]")),y(e,"class","flex items-center gap-1 cursor-pointer"),y(e,"title",c=n[203]?"Property defined in data.json - uncheck to remove definition":"Property not defined - check to add definition to data.json")},m(m,d){Q(m,e,d),u(e,t),u(e,s),u(e,r),u(r,a),p||(g=ee(t,"change",ut(h)),p=!0)},p(m,d){n=m,d[0]&16777217&&i!==(i=n[203])&&(t.checked=i),d[0]&16777217&&o!==(o=n[203]?"Property Defined":"Property Not Defined")&&ne(a,o),d[0]&16777217&&l!==(l="text-xs "+(n[203]?"text-[var(--text-success)]":"text-[var(--text-muted)]"))&&y(r,"class",l),d[0]&16777217&&c!==(c=n[203]?"Property defined in data.json - uncheck to remove definition":"Property not defined - check to add definition to data.json")&&y(e,"title",c)},d(m){m&&J(e),p=!1,g()}}}function Dc(n){let e;return{c(){e=b("span"),e.textContent="DISABLED",y(e,"class","text-xs px-2 py-1 bg-[var(--background-modifier-border)] text-[var(--text-muted)] rounded font-bold uppercase tracking-wide ml-auto")},m(t,i){Q(t,e,i)},d(t){t&&J(e)}}}function Pc(n){let e;return{c(){e=b("span"),e.textContent="ENABLED",y(e,"class","text-xs px-2 py-1 bg-[var(--background-modifier-success)] text-[var(--text-on-accent)] rounded font-bold uppercase tracking-wide ml-auto")},m(t,i){Q(t,e,i)},d(t){t&&J(e)}}}function Tc(n){let e;return{c(){e=b("span"),e.textContent="NAMING",y(e,"class","text-xs px-2 py-1 bg-[var(--background-modifier-warning)] text-[var(--text-on-accent)] rounded font-bold uppercase tracking-wide ml-auto")},m(t,i){Q(t,e,i)},d(t){t&&J(e)}}}function Mc(n){let e;return{c(){e=b("span"),e.textContent="IGNORED",y(e,"class","text-xs px-2 py-1 bg-[var(--background-modifier-border)] text-[var(--text-muted)] rounded font-bold uppercase tracking-wide ml-auto")},m(t,i){Q(t,e,i)},d(t){t&&J(e)}}}function Nc(n){let e;return{c(){e=b("span"),e.textContent="PROTECTED",y(e,"class","text-xs px-2 py-1 bg-[var(--background-modifier-error)] text-[var(--text-on-accent)] rounded font-bold uppercase tracking-wide ml-auto")},m(t,i){Q(t,e,i)},d(t){t&&J(e)}}}function Ii(n){let e,t,i,s,r,o;t=new ce({props:{icon:"download",size:"medium"}});function a(){return n[102](n[192],n[197])}return{c(){var l;e=b("button"),le(t.$$.fragment),y(e,"class","px-2 py-2 bg-[var(--background-modifier-success)] text-[var(--text-on-accent)] border border-[var(--background-modifier-border)] rounded hover:opacity-90 transition-colors duration-200 text-sm whitespace-nowrap"),y(e,"title",i="Load default description for "+((l=n[197])==null?void 0:l.name))},m(l,c){Q(l,e,c),re(t,e,null),s=!0,r||(o=ee(e,"click",a),r=!0)},p(l,c){var p;n=l,(!s||c[0]&1&&i!==(i="Load default description for "+((p=n[197])==null?void 0:p.name)))&&y(e,"title",i)},i(l){s||(z(t.$$.fragment,l),s=!0)},o(l){G(t.$$.fragment,l),s=!1},d(l){l&&J(e),oe(t),r=!1,o()}}}function Ac(n){let e,t,i,s,r,o;return t=new ce({props:{icon:"info",size:"medium"}}),{c(){e=b("div"),le(t.$$.fragment),i=k(),s=b("strong"),s.textContent="Property Disabled:",r=V(" This property is currently disabled and will not be included in the generated Pydantic model."),y(e,"class","mt-2 p-3 bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded text-sm leading-relaxed text-[var(--text-default)] flex items-center gap-2")},m(a,l){Q(a,e,l),re(t,e,null),u(e,i),u(e,s),u(e,r),o=!0},p:fe,i(a){o||(z(t.$$.fragment,a),o=!0)},o(a){G(t.$$.fragment,a),o=!1},d(a){a&&J(e),oe(t)}}}function Oc(n){var x;let e,t,i,s,r,o=n[197].namingIssues.join(", ")+"",a,l,c,p,g,h,m=(((x=n[197])==null?void 0:x.suggestedName)||"Suggestion")+"",d,f,v,w;i=new ce({props:{icon:"lightbulb"}});function S(){return n[103](n[196],n[205])}return{c(){e=b("div"),t=b("strong"),le(i.$$.fragment),s=V(" Naming Suggestion:"),r=k(),a=V(o),l=k(),c=b("br"),p=k(),g=b("button"),h=V("Apply: "),d=V(m),y(g,"class","mt-2 px-3 py-1 bg-[var(--background-modifier-warning)] text-[var(--text-on-accent)] rounded text-xs font-medium hover:opacity-90 transition-colors duration-200"),y(e,"class","mt-2 p-3 bg-orange-100 border border-orange-200 rounded text-sm leading-relaxed text-gray-900")},m(E,D){Q(E,e,D),u(e,t),re(i,t,null),u(t,s),u(e,r),u(e,a),u(e,l),u(e,c),u(e,p),u(e,g),u(g,h),u(g,d),f=!0,v||(w=ee(g,"click",S),v=!0)},p(E,D){var M;n=E,(!f||D[0]&1)&&o!==(o=n[197].namingIssues.join(", ")+"")&&ne(a,o),(!f||D[0]&1)&&m!==(m=(((M=n[197])==null?void 0:M.suggestedName)||"Suggestion")+"")&&ne(d,m)},i(E){f||(z(i.$$.fragment,E),f=!0)},o(E){G(i.$$.fragment,E),f=!1},d(E){E&&J(e),oe(i),v=!1,w()}}}function Ic(n){var c,p;let e,t,i,s,r,o,a=(((p=(c=n[3])==null?void 0:c.globallyIgnoredFields)==null?void 0:p.join(", "))||"none")+"",l;return{c(){e=b("div"),t=b("strong"),t.textContent=" Globally Ignored Field:",i=V(` This property is in the globally ignored fields list and will be automatically excluded from Pydantic model generation.\r
                                  `),s=b("br"),r=b("span"),o=V("Globally ignored fields: "),l=V(a),y(r,"class","text-xs text-[var(--text-muted)]"),y(e,"class","mt-2 p-3 bg-[var(--background-modifier-border)] border border-[var(--background-modifier-border)] rounded text-sm leading-relaxed text-[var(--text-default)]")},m(g,h){Q(g,e,h),u(e,t),u(e,i),u(e,s),u(e,r),u(r,o),u(r,l)},p(g,h){var m,d;h[0]&8&&a!==(a=(((d=(m=g[3])==null?void 0:m.globallyIgnoredFields)==null?void 0:d.join(", "))||"none")+"")&&ne(l,a)},i:fe,o:fe,d(g){g&&J(e)}}}function Rc(n){var l;let e,t,i,s,r,o;t=new ce({props:{icon:"alert-triangle",size:"medium"}});let a=((l=n[197])==null?void 0:l.suggestedName)&&n[197].suggestedName!==n[197].name&&Ri(n);return{c(){e=b("div"),le(t.$$.fragment),i=k(),s=b("strong"),s.textContent="Protected Attribute:",r=V(` This is a reserved Graphiti attribute and cannot be used.\r
                                  `),a&&a.c(),y(e,"class","mt-2 p-3 bg-[var(--background-modifier-error)] border border-[var(--background-modifier-border)] rounded text-sm leading-relaxed text-[var(--text-on-accent)] flex items-center gap-2")},m(c,p){Q(c,e,p),re(t,e,null),u(e,i),u(e,s),u(e,r),a&&a.m(e,null),o=!0},p(c,p){var g;(g=c[197])!=null&&g.suggestedName&&c[197].suggestedName!==c[197].name?a?a.p(c,p):(a=Ri(c),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(c){o||(z(t.$$.fragment,c),o=!0)},o(c){G(t.$$.fragment,c),o=!1},d(c){c&&J(e),oe(t),a&&a.d()}}}function Ri(n){let e,t,i,s=n[197].suggestedName+"",r;return{c(){e=b("br"),t=V("Consider using: "),i=b("code"),r=V(s),y(i,"class","bg-black/10 px-1 py-0.5 rounded font-mono text-xs")},m(o,a){Q(o,e,a),Q(o,t,a),Q(o,i,a),u(i,r)},p(o,a){a[0]&1&&s!==(s=o[197].suggestedName+"")&&ne(r,s)},d(o){o&&(J(e),J(t),J(i))}}}function Li(n){let e,t,i,s=n[197].examples.slice(0,3).join(", ")+"",r,o,a=n[197].examples.length>3&&Fi();return{c(){e=b("div"),t=b("strong"),t.textContent="Examples:",i=k(),r=V(s),o=k(),a&&a.c(),y(e,"class","text-xs text-[var(--text-muted)] italic mt-1")},m(l,c){Q(l,e,c),u(e,t),u(e,i),u(e,r),u(e,o),a&&a.m(e,null)},p(l,c){c[0]&1&&s!==(s=l[197].examples.slice(0,3).join(", ")+"")&&ne(r,s),l[197].examples.length>3?a||(a=Fi(),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(l){l&&J(e),a&&a.d()}}}function Fi(n){let e;return{c(){e=V("...")},m(t,i){Q(t,e,i)},d(t){t&&J(e)}}}function $i(n){var Be,je,Ue,xe,Qe,rt;let e,t,i,s,r,o,a,l,c=(((Be=n[197])==null?void 0:Be.name)||"Unknown")+"",p,g,h,m,d,f=(((je=n[197])==null?void 0:je.inferredType)||"string")+"",v,w,S,x,E,D,M,N,P,I,T,L,A=n[39](((Ue=n[197])==null?void 0:Ue.name)||"")&&!((xe=n[197])!=null&&xe.isProtected)&&!n[198],B,U,j,W,X,K,$,R,q,O,Y,te;function Se(...he){return n[99](n[196],n[205],...he)}let be=n[201]&&Ai(n),me=!((Qe=n[197])!=null&&Qe.isProtected)&&!n[198]&&Oi(n);function De(he,ye){var Pe,Te;return(Pe=he[197])!=null&&Pe.isProtected?Nc:he[198]?Mc:((Te=he[197])==null?void 0:Te.complianceStatus)==="warning"?Tc:he[200]?Pc:Dc}let Re=De(n),ve=Re(n);function _e(...he){return n[101](n[196],n[205],...he)}let de=A&&Ii(n);j=new ce({props:{icon:"sparkles",size:"medium"}});const pe=[Rc,Ic,Oc,Ac],we=[];function Le(he,ye){var Pe,Te;return(Pe=he[197])!=null&&Pe.isProtected?0:he[198]?1:(Te=he[197])!=null&&Te.namingIssues&&he[197].namingIssues.length>0?2:he[200]?-1:3}~(X=Le(n))&&(K=we[X]=pe[X](n));let ge=((rt=n[197])==null?void 0:rt.examples)&&n[197].examples.length>0&&Li(n);return{c(){var he,ye,Pe,Te,Fe,Ne,Ze;e=b("div"),t=b("div"),i=b("input"),a=k(),l=b("span"),p=V(c),h=k(),m=b("span"),d=V("("),v=V(f),w=V(")"),S=k(),be&&be.c(),x=k(),me&&me.c(),E=k(),ve.c(),D=k(),M=b("div"),N=b("input"),L=k(),de&&de.c(),B=k(),U=b("button"),le(j.$$.fragment),W=k(),K&&K.c(),$=k(),ge&&ge.c(),R=k(),y(i,"type","checkbox"),i.checked=s=n[200]&&!n[198],i.disabled=r=((he=n[197])==null?void 0:he.isProtected)||n[198],y(i,"class","rounded border-[var(--background-modifier-border)] text-[var(--interactive-accent)] focus:ring-[var(--interactive-accent)] disabled:opacity-50 disabled:cursor-not-allowed"),y(i,"title",o=n[198]?"This property is globally ignored and cannot be enabled":(ye=n[197])!=null&&ye.isProtected?"Protected properties cannot be enabled":"Enable/disable this property for Pydantic model generation"),y(l,"class",g="font-medium text-[var(--text-default)] "+(n[198]?"text-[var(--text-muted)] line-through":"")),y(m,"class","text-[var(--text-muted)] text-sm"),y(t,"class","flex items-center gap-2 flex-wrap"),y(N,"type","text"),N.value=P=n[67](n[192].typeName,((Pe=n[197])==null?void 0:Pe.name)||"",((Te=n[197])==null?void 0:Te.description)||""),y(N,"placeholder","Property description"),y(N,"class",I="flex-1 px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm min-w-48 disabled:opacity-50 "+(n[198]?"bg-[var(--background-modifier-border)]":"")),N.disabled=T=((Fe=n[197])==null?void 0:Fe.isProtected)||n[198],y(U,"class","px-2 py-2 bg-[var(--background-modifier-border)] border border-[var(--background-modifier-border)] rounded text-sm opacity-50 cursor-not-allowed"),y(U,"title","LLM Suggest Description"),U.disabled=!0,y(M,"class","flex items-center gap-2"),y(e,"class",q="flex flex-col gap-2 p-3 bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded-md "+((Ne=n[197])!=null&&Ne.isProtected?"border-l-4 border-l-[var(--text-error)] bg-[var(--background-modifier-error)]":((Ze=n[197])==null?void 0:Ze.complianceStatus)==="warning"?"border-l-4 border-l-[var(--text-warning)] bg-[var(--background-modifier-warning)]":n[198]?"border-l-4 border-l-[var(--text-muted)] bg-[var(--background-modifier-border)]":""))},m(he,ye){Q(he,e,ye),u(e,t),u(t,i),u(t,a),u(t,l),u(l,p),u(t,h),u(t,m),u(m,d),u(m,v),u(m,w),u(t,S),be&&be.m(t,null),u(t,x),me&&me.m(t,null),u(t,E),ve.m(t,null),u(e,D),u(e,M),u(M,N),u(M,L),de&&de.m(M,null),u(M,B),u(M,U),re(j,U,null),u(e,W),~X&&we[X].m(e,null),u(e,$),ge&&ge.m(e,null),u(e,R),O=!0,Y||(te=[ee(i,"change",Se),ee(N,"input",_e)],Y=!0)},p(he,ye){var Te,Fe,Ne,Ze,nt,Ge,ae,Oe,Pt,ft,mt,Xe,$t;n=he,(!O||ye[0]&9&&s!==(s=n[200]&&!n[198]))&&(i.checked=s),(!O||ye[0]&9&&r!==(r=((Te=n[197])==null?void 0:Te.isProtected)||n[198]))&&(i.disabled=r),(!O||ye[0]&9&&o!==(o=n[198]?"This property is globally ignored and cannot be enabled":(Fe=n[197])!=null&&Fe.isProtected?"Protected properties cannot be enabled":"Enable/disable this property for Pydantic model generation"))&&y(i,"title",o),(!O||ye[0]&1)&&c!==(c=(((Ne=n[197])==null?void 0:Ne.name)||"Unknown")+"")&&ne(p,c),(!O||ye[0]&9&&g!==(g="font-medium text-[var(--text-default)] "+(n[198]?"text-[var(--text-muted)] line-through":"")))&&y(l,"class",g),(!O||ye[0]&1)&&f!==(f=(((Ze=n[197])==null?void 0:Ze.inferredType)||"string")+"")&&ne(v,f),n[201]?be?be.p(n,ye):(be=Ai(n),be.c(),be.m(t,x)):be&&(be.d(1),be=null),!((nt=n[197])!=null&&nt.isProtected)&&!n[198]?me?me.p(n,ye):(me=Oi(n),me.c(),me.m(t,E)):me&&(me.d(1),me=null),Re!==(Re=De(n))&&(ve.d(1),ve=Re(n),ve&&(ve.c(),ve.m(t,null))),(!O||ye[0]&1&&P!==(P=n[67](n[192].typeName,((Ge=n[197])==null?void 0:Ge.name)||"",((ae=n[197])==null?void 0:ae.description)||""))&&N.value!==P)&&(N.value=P),(!O||ye[0]&9&&I!==(I="flex-1 px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm min-w-48 disabled:opacity-50 "+(n[198]?"bg-[var(--background-modifier-border)]":"")))&&y(N,"class",I),(!O||ye[0]&9&&T!==(T=((Oe=n[197])==null?void 0:Oe.isProtected)||n[198]))&&(N.disabled=T),ye[0]&9&&(A=n[39](((Pt=n[197])==null?void 0:Pt.name)||"")&&!((ft=n[197])!=null&&ft.isProtected)&&!n[198]),A?de?(de.p(n,ye),ye[0]&9&&z(de,1)):(de=Ii(n),de.c(),z(de,1),de.m(M,B)):de&&(Ee(),G(de,1,1,()=>{de=null}),Ce());let Pe=X;X=Le(n),X===Pe?~X&&we[X].p(n,ye):(K&&(Ee(),G(we[Pe],1,1,()=>{we[Pe]=null}),Ce()),~X?(K=we[X],K?K.p(n,ye):(K=we[X]=pe[X](n),K.c()),z(K,1),K.m(e,$)):K=null),(mt=n[197])!=null&&mt.examples&&n[197].examples.length>0?ge?ge.p(n,ye):(ge=Li(n),ge.c(),ge.m(e,R)):ge&&(ge.d(1),ge=null),(!O||ye[0]&9&&q!==(q="flex flex-col gap-2 p-3 bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded-md "+((Xe=n[197])!=null&&Xe.isProtected?"border-l-4 border-l-[var(--text-error)] bg-[var(--background-modifier-error)]":(($t=n[197])==null?void 0:$t.complianceStatus)==="warning"?"border-l-4 border-l-[var(--text-warning)] bg-[var(--background-modifier-warning)]":n[198]?"border-l-4 border-l-[var(--text-muted)] bg-[var(--background-modifier-border)]":"")))&&y(e,"class",q)},i(he){O||(z(de),z(j.$$.fragment,he),z(K),O=!0)},o(he){G(de),G(j.$$.fragment,he),G(K),O=!1},d(he){he&&J(e),be&&be.d(),me&&me.d(),ve.d(),de&&de.d(),oe(j),~X&&we[X].d(),ge&&ge.d(),Y=!1,$e(te)}}}function Ui(n){let e,t,i,s;const r=[$c,Fc,Lc],o=[];function a(l,c){return l[193].length===0?0:l[193].length<l[194]?1:2}return e=a(n),t=o[e]=r[e](n),{c(){t.c(),i=oc()},m(l,c){o[e].m(l,c),Q(l,i,c),s=!0},p(l,c){let p=e;e=a(l),e===p?o[e].p(l,c):(Ee(),G(o[p],1,1,()=>{o[p]=null}),Ce(),t=o[e],t?t.p(l,c):(t=o[e]=r[e](l),t.c()),z(t,1),t.m(i.parentNode,i))},i(l){s||(z(t),s=!0)},o(l){G(t),s=!1},d(l){l&&J(i),o[e].d(l)}}}function Lc(n){let e,t,i,s,r,o=n[193].length+"",a,l,c=n[193].length===1?"y":"ies",p,g,h,m,d;return t=new ce({props:{icon:"check-circle",size:"medium"}}),{c(){e=b("div"),le(t.$$.fragment),i=k(),s=b("strong"),s.textContent="All Properties Enabled:",r=k(),a=V(o),l=V(" propert"),p=V(c),g=V(` ready for Pydantic model generation.\r
                            `),h=b("br"),m=b("span"),m.textContent="This entity type is fully configured and ready to use.",y(m,"class","text-xs text-[var(--text-muted)]"),y(e,"class","mt-4 p-3 bg-[var(--background-modifier-success)] border border-[var(--background-modifier-border)] rounded text-sm leading-relaxed text-[var(--text-on-accent)] flex items-center gap-2")},m(f,v){Q(f,e,v),re(t,e,null),u(e,i),u(e,s),u(e,r),u(e,a),u(e,l),u(e,p),u(e,g),u(e,h),u(e,m),d=!0},p(f,v){(!d||v[0]&9)&&o!==(o=f[193].length+"")&&ne(a,o),(!d||v[0]&9)&&c!==(c=f[193].length===1?"y":"ies")&&ne(p,c)},i(f){d||(z(t.$$.fragment,f),d=!0)},o(f){G(t.$$.fragment,f),d=!1},d(f){f&&J(e),oe(t)}}}function Fc(n){let e,t,i,s=n[193].length+"",r,o,a=n[194]+"",l,c,p,g,h=n[194]-n[193].length+"",m,d;return{c(){e=b("div"),t=b("strong"),t.textContent="[INFO] Partial Selection:",i=k(),r=V(s),o=V(" of "),l=V(a),c=V(` properties enabled for Pydantic model generation.\r
                            `),p=b("br"),g=b("span"),m=V(h),d=V(" properties will be excluded from the generated model."),y(g,"class","text-xs text-[var(--text-muted)]"),y(e,"class","mt-4 p-3 bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded text-sm leading-relaxed text-[var(--text-default)]")},m(f,v){Q(f,e,v),u(e,t),u(e,i),u(e,r),u(e,o),u(e,l),u(e,c),u(e,p),u(e,g),u(g,m),u(g,d)},p(f,v){v[0]&9&&s!==(s=f[193].length+"")&&ne(r,s),v[0]&1&&a!==(a=f[194]+"")&&ne(l,a),v[0]&9&&h!==(h=f[194]-f[193].length+"")&&ne(m,h)},i:fe,o:fe,d(f){f&&J(e)}}}function $c(n){let e,t,i,s,r,o,a,l;return t=new ce({props:{icon:"alert-triangle",size:"medium"}}),{c(){e=b("div"),le(t.$$.fragment),i=k(),s=b("strong"),s.textContent="No Properties Selected:",r=V(` This entity type has no enabled properties and will be excluded from Pydantic model generation.\r
                            `),o=b("br"),a=b("span"),a.textContent="Enable at least one property using the checkboxes above, or this entity type won't appear in generated models.",y(a,"class","text-xs text-[var(--text-muted)]"),y(e,"class","mt-4 p-3 bg-[var(--background-modifier-warning)] border border-[var(--background-modifier-border)] rounded text-sm leading-relaxed text-[var(--text-default)] flex items-center gap-2")},m(c,p){Q(c,e,p),re(t,e,null),u(e,i),u(e,s),u(e,r),u(e,o),u(e,a),l=!0},p:fe,i(c){l||(z(t.$$.fragment,c),l=!0)},o(c){G(t.$$.fragment,c),l=!1},d(c){c&&J(e),oe(t)}}}function Bi(n){let e,t,i,s,r,o=n[192].typeName+"",a,l,c,p,g,h,m,d=n[25][n[192].typeName]?"Entity Enabled":"Entity Disabled",f,v,w,S,x,E,D=n[193].length+"",M,N,P=n[194]+"",I,T,L,A,B,U,j,W,X=n[6].has(n[192].typeName),K,$,R=n[6].has(n[192].typeName),q,O,Y,te,Se;function be(){return n[95](n[192])}const me=[Ec,xc],De=[];function Re(pe,we){return we[0]&65&&(B=null),B==null&&(B=!!pe[6].has(pe[192].typeName)),B?0:1}U=Re(n,[-1,-1,-1,-1,-1,-1,-1]),j=De[U]=me[U](n);function ve(){return n[96](n[192])}let _e=X&&Mi(n),de=R&&Ni(n);return{c(){e=b("div"),t=b("div"),i=b("button"),s=b("div"),r=b("h4"),a=V(o),l=k(),c=b("label"),p=b("input"),h=k(),m=b("span"),f=V(d),S=k(),x=b("div"),E=b("span"),M=V(D),N=V(" of "),I=V(P),T=V(" enabled"),L=k(),A=b("span"),j.c(),W=k(),_e&&_e.c(),$=k(),de&&de.c(),q=k(),y(r,"class","font-semibold text-[var(--text-default)]"),y(p,"type","checkbox"),p.checked=g=!!n[25][n[192].typeName],y(p,"class","w-4 h-4 text-[var(--text-success)] bg-[var(--background-secondary)] border-[var(--background-modifier-border)] rounded focus:ring-[var(--text-success)] focus:ring-2"),y(m,"class",v="text-xs "+(n[25][n[192].typeName]?"text-[var(--text-success)]":"text-[var(--text-muted)]")),y(c,"class","flex items-center gap-1 cursor-pointer"),y(c,"title",w=n[25][n[192].typeName]?"Entity enabled in data.json - uncheck to disable":"Entity disabled - check to enable in data.json"),y(s,"class","flex items-center gap-3"),y(E,"class","text-xs text-[var(--text-muted)] bg-[var(--background-secondary)] px-2 py-1 rounded-full"),y(A,"class","text-lg text-[var(--text-muted)] font-bold ml-4"),y(x,"class","flex items-center gap-4"),y(i,"class","flex-1 flex justify-between items-center text-left cursor-pointer transition-colors duration-200 hover:opacity-90"),y(t,"class",K="flex justify-between items-center w-full p-4 bg-[var(--background-secondary)] border-none "+(n[6].has(n[192].typeName)?"border-b border-[var(--background-modifier-border)]":"")),y(e,"class","bg-[var(--background-secondary-alt)] border border-[var(--background-modifier-border)] rounded-lg overflow-hidden"),y(e,"id",O="accordion-"+n[192].typeName)},m(pe,we){Q(pe,e,we),u(e,t),u(t,i),u(i,s),u(s,r),u(r,a),u(s,l),u(s,c),u(c,p),u(c,h),u(c,m),u(m,f),u(i,S),u(i,x),u(x,E),u(E,M),u(E,N),u(E,I),u(E,T),u(x,L),u(x,A),De[U].m(A,null),u(t,W),_e&&_e.m(t,null),u(e,$),de&&de.m(e,null),u(e,q),Y=!0,te||(Se=[ee(p,"change",ut(be)),ee(i,"click",ve)],te=!0)},p(pe,we){n=pe,(!Y||we[0]&1)&&o!==(o=n[192].typeName+"")&&ne(a,o),(!Y||we[0]&33554433&&g!==(g=!!n[25][n[192].typeName]))&&(p.checked=g),(!Y||we[0]&33554433)&&d!==(d=n[25][n[192].typeName]?"Entity Enabled":"Entity Disabled")&&ne(f,d),(!Y||we[0]&33554433&&v!==(v="text-xs "+(n[25][n[192].typeName]?"text-[var(--text-success)]":"text-[var(--text-muted)]")))&&y(m,"class",v),(!Y||we[0]&33554433&&w!==(w=n[25][n[192].typeName]?"Entity enabled in data.json - uncheck to disable":"Entity disabled - check to enable in data.json"))&&y(c,"title",w),(!Y||we[0]&9)&&D!==(D=n[193].length+"")&&ne(M,D),(!Y||we[0]&1)&&P!==(P=n[194]+"")&&ne(I,P);let Le=U;U=Re(n,we),U!==Le&&(Ee(),G(De[Le],1,1,()=>{De[Le]=null}),Ce(),j=De[U],j||(j=De[U]=me[U](n),j.c()),z(j,1),j.m(A,null)),we[0]&65&&(X=n[6].has(n[192].typeName)),X?_e?_e.p(n,we):(_e=Mi(n),_e.c(),_e.m(t,null)):_e&&(_e.d(1),_e=null),(!Y||we[0]&65&&K!==(K="flex justify-between items-center w-full p-4 bg-[var(--background-secondary)] border-none "+(n[6].has(n[192].typeName)?"border-b border-[var(--background-modifier-border)]":"")))&&y(t,"class",K),we[0]&65&&(R=n[6].has(n[192].typeName)),R?de?(de.p(n,we),we[0]&65&&z(de,1)):(de=Ni(n),de.c(),z(de,1),de.m(e,q)):de&&(Ee(),G(de,1,1,()=>{de=null}),Ce()),(!Y||we[0]&1&&O!==(O="accordion-"+n[192].typeName))&&y(e,"id",O)},i(pe){Y||(z(j),z(de),Y=!0)},o(pe){G(j),G(de),Y=!1},d(pe){pe&&J(e),De[U].d(),_e&&_e.d(),de&&de.d(),te=!1,$e(Se)}}}function zi(n){let e,t,i,s,r,o,a,l,c,p,g,h=Object.keys(n[27]).length>0,m,d,f,v,w;s=new ce({props:{icon:"link-2"}});const S=[Bc,Uc],x=[];function E(I,T){return I[29]&&I[29].length>0?0:1}c=E(n),p=x[c]=S[c](n);let D=h&&Wi(n);const M=[qc,Gc],N=[];function P(I,T){return I[9]?0:1}return f=P(n),v=N[f]=M[f](n),{c(){e=b("div"),t=b("div"),i=b("h3"),le(s.$$.fragment),r=V(" Edge Types Management"),o=k(),a=b("p"),a.textContent="Define relationship types between entities with custom properties for Pydantic model generation.",l=k(),p.c(),g=k(),D&&D.c(),m=k(),d=b("div"),v.c(),y(i,"class","text-lg font-semibold mb-2 text-[var(--text-default)] flex items-center gap-2"),y(a,"class","text-[var(--text-muted)] mb-6"),y(d,"class","mt-6"),y(e,"class","animate-fadeIn")},m(I,T){Q(I,e,T),u(e,t),u(t,i),re(s,i,null),u(i,r),u(t,o),u(t,a),u(t,l),x[c].m(t,null),u(t,g),D&&D.m(t,null),u(t,m),u(t,d),N[f].m(d,null),w=!0},p(I,T){let L=c;c=E(I),c===L?x[c].p(I,T):(Ee(),G(x[L],1,1,()=>{x[L]=null}),Ce(),p=x[c],p?p.p(I,T):(p=x[c]=S[c](I),p.c()),z(p,1),p.m(t,g)),T[0]&134217728&&(h=Object.keys(I[27]).length>0),h?D?(D.p(I,T),T[0]&134217728&&z(D,1)):(D=Wi(I),D.c(),z(D,1),D.m(t,m)):D&&(Ee(),G(D,1,1,()=>{D=null}),Ce());let A=f;f=P(I),f===A?N[f].p(I,T):(Ee(),G(N[A],1,1,()=>{N[A]=null}),Ce(),v=N[f],v?v.p(I,T):(v=N[f]=M[f](I),v.c()),z(v,1),v.m(d,null))},i(I){w||(z(s.$$.fragment,I),z(p),z(D),z(v),w=!0)},o(I){G(s.$$.fragment,I),G(p),G(D),G(v),w=!1},d(I){I&&J(e),oe(s),x[c].d(),D&&D.d(),N[f].d()}}}function Uc(n){let e,t,i,s,r,o,a,l,c,p,g,h,m,d,f,v,w,S,x,E,D,M,N,P,I,T,L,A,B,U,j,W,X,K,$,R,q,O;return i=new ce({props:{icon:"link-2"}}),x=new ce({props:{icon:"sparkles"}}),P=new ce({props:{icon:"users"}}),B=new ce({props:{icon:"bar-chart-2"}}),K=new ce({props:{icon:"package"}}),{c(){e=b("div"),t=b("div"),le(i.$$.fragment),s=k(),r=b("h4"),r.textContent="No Edge Types Defined",o=k(),a=b("p"),a.textContent='Create relationship types like "WorksFor", "Uses", or "Creates" with custom properties.',l=k(),c=b("div"),p=b("h5"),p.textContent="Quick Add Common Types:",g=k(),h=b("div"),m=b("button"),m.innerHTML='<span class="text-base text-[var(--text-default)]">WorksFor</span>',d=k(),f=b("button"),f.innerHTML='<span class="text-base text-[var(--text-default)]">Uses</span>',v=k(),w=b("button"),S=b("span"),le(x.$$.fragment),E=V(" Creates"),D=k(),M=b("button"),N=b("span"),le(P.$$.fragment),I=V(" MemberOf"),T=k(),L=b("button"),A=b("span"),le(B.$$.fragment),U=V(" Manages"),j=k(),W=b("button"),X=b("span"),le(K.$$.fragment),$=V(" Contains"),y(t,"class","text-6xl mb-5 opacity-50"),y(r,"class","text-lg font-semibold mb-3 text-[var(--text-default)]"),y(a,"class","mb-10 max-w-lg mx-auto leading-relaxed text-[var(--text-muted)]"),y(p,"class","text-sm font-semibold mb-5 text-[var(--text-default)]"),y(m,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] text-[var(--text-default)] px-4 py-3 rounded-lg cursor-pointer transition-all duration-200 hover:opacity-90 hover:border-[var(--interactive-accent)] hover:shadow-md flex items-center gap-2 text-sm font-medium"),y(f,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] text-[var(--text-default)] px-4 py-3 rounded-lg cursor-pointer transition-all duration-200 hover:opacity-90 hover:border-[var(--interactive-accent)] hover:shadow-md flex items-center gap-2 text-sm font-medium"),y(S,"class","text-base text-[var(--text-default)]"),y(w,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] text-[var(--text-default)] px-4 py-3 rounded-lg cursor-pointer transition-all duration-200 hover:opacity-90 hover:border-[var(--interactive-accent)] hover:shadow-md flex items-center gap-2 text-sm font-medium"),y(N,"class","text-base text-[var(--text-default)]"),y(M,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] text-[var(--text-default)] px-4 py-3 rounded-lg cursor-pointer transition-all duration-200 hover:opacity-90 hover:border-[var(--interactive-accent)] hover:shadow-md flex items-center gap-2 text-sm font-medium"),y(A,"class","text-base text-[var(--text-default)]"),y(L,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] text-[var(--text-default)] px-4 py-3 rounded-lg cursor-pointer transition-all duration-200 hover:opacity-90 hover:border-[var(--interactive-accent)] hover:shadow-md flex items-center gap-2 text-sm font-medium"),y(X,"class","text-base text-[var(--text-default)]"),y(W,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] text-[var(--text-default)] px-4 py-3 rounded-lg cursor-pointer transition-all duration-200 hover:opacity-90 hover:border-[var(--interactive-accent)] hover:shadow-md flex items-center gap-2 text-sm font-medium"),y(h,"class","grid grid-cols-2 md:grid-cols-3 gap-3 max-w-2xl mx-auto"),y(c,"class","mt-10 pt-8 border-t border-[var(--background-modifier-border)]"),y(e,"class","text-center py-16 text-[var(--text-muted)]")},m(Y,te){Q(Y,e,te),u(e,t),re(i,t,null),u(e,s),u(e,r),u(e,o),u(e,a),u(e,l),u(e,c),u(c,p),u(c,g),u(c,h),u(h,m),u(h,d),u(h,f),u(h,v),u(h,w),u(w,S),re(x,S,null),u(w,E),u(h,D),u(h,M),u(M,N),re(P,N,null),u(M,I),u(h,T),u(h,L),u(L,A),re(B,A,null),u(L,U),u(h,j),u(h,W),u(W,X),re(K,X,null),u(W,$),R=!0,q||(O=[ee(m,"click",n[116]),ee(f,"click",n[117]),ee(w,"click",n[118]),ee(M,"click",n[119]),ee(L,"click",n[120]),ee(W,"click",n[121])],q=!0)},p:fe,i(Y){R||(z(i.$$.fragment,Y),z(x.$$.fragment,Y),z(P.$$.fragment,Y),z(B.$$.fragment,Y),z(K.$$.fragment,Y),R=!0)},o(Y){G(i.$$.fragment,Y),G(x.$$.fragment,Y),G(P.$$.fragment,Y),G(B.$$.fragment,Y),G(K.$$.fragment,Y),R=!1},d(Y){Y&&J(e),oe(i),oe(x),oe(P),oe(B),oe(K),q=!1,$e(O)}}}function Bc(n){let e,t,i=ke(n[29]),s=[];for(let o=0;o<i.length;o+=1)s[o]=qi(mi(n,i,o));const r=o=>G(s[o],1,1,()=>{s[o]=null});return{c(){e=b("div");for(let o=0;o<s.length;o+=1)s[o].c();y(e,"class","flex flex-col gap-4")},m(o,a){Q(o,e,a);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(e,null);t=!0},p(o,a){if(a[0]&536932418|a[1]&503809){i=ke(o[29]);let l;for(l=0;l<i.length;l+=1){const c=mi(o,i,l);s[l]?(s[l].p(c,a),z(s[l],1)):(s[l]=qi(c),s[l].c(),z(s[l],1),s[l].m(e,null))}for(Ee(),l=i.length;l<s.length;l+=1)r(l);Ce()}},i(o){if(!t){for(let a=0;a<i.length;a+=1)z(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)G(s[a]);t=!1},d(o){o&&J(e),Ye(s,o)}}}function zc(n){let e,t;return e=new ce({props:{icon:"chevron-right",size:"medium"}}),{c(){le(e.$$.fragment)},m(i,s){re(e,i,s),t=!0},i(i){t||(z(e.$$.fragment,i),t=!0)},o(i){G(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function jc(n){let e,t;return e=new ce({props:{icon:"chevron-down",size:"medium"}}),{c(){le(e.$$.fragment)},m(i,s){re(e,i,s),t=!0},i(i){t||(z(e.$$.fragment,i),t=!0)},o(i){G(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function ji(n){let e,t,i,s,r,o,a,l,c,p,g,h,m,d,f,v,w,S,x,E,D,M;function N(...B){return n[107](n[182],...B)}m=new ce({props:{icon:"chevron-right",size:"medium"}});function P(){return n[108](n[182])}const I=[Yc,Vc],T=[];function L(B,U){var j;return U[0]&536870914&&(v=null),v==null&&(v=Object.keys(((j=B[1][B[182]])==null?void 0:j.properties)||{}).length>0),v?0:1}w=L(n,[-1,-1,-1,-1,-1,-1,-1]),S=T[w]=I[w](n);let A=n[12]===n[182]&&Gi(n);return{c(){e=b("div"),t=b("div"),i=b("strong"),i.textContent="Description:",s=k(),r=b("textarea"),a=k(),l=b("div"),c=b("div"),p=b("strong"),p.textContent="Properties:",g=k(),h=b("button"),le(m.$$.fragment),d=V(" Add Property"),f=k(),S.c(),x=k(),A&&A.c(),y(i,"class","text-sm text-[var(--text-default)] block mb-2"),r.value=o=n[44](n[182]),y(r,"class","w-full px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm leading-relaxed resize-vertical"),y(r,"placeholder","Describe this relationship type..."),y(r,"rows","2"),y(t,"class","mb-4"),y(p,"class","text-sm text-[var(--text-default)]"),y(h,"class","px-2 py-1 bg-[var(--background-modifier-border)] border border-[var(--background-modifier-border)] rounded text-xs hover:opacity-90 transition-colors duration-200"),y(c,"class","flex justify-between items-center mb-3"),y(e,"class","p-4")},m(B,U){Q(B,e,U),u(e,t),u(t,i),u(t,s),u(t,r),u(e,a),u(e,l),u(l,c),u(c,p),u(c,g),u(c,h),re(m,h,null),u(h,d),u(l,f),T[w].m(l,null),u(l,x),A&&A.m(l,null),E=!0,D||(M=[ee(r,"input",N),ee(h,"click",P)],D=!0)},p(B,U){n=B,(!E||U[0]&536870912&&o!==(o=n[44](n[182])))&&(r.value=o);let j=w;w=L(n,U),w===j?T[w].p(n,U):(Ee(),G(T[j],1,1,()=>{T[j]=null}),Ce(),S=T[w],S?S.p(n,U):(S=T[w]=I[w](n),S.c()),z(S,1),S.m(l,x)),n[12]===n[182]?A?A.p(n,U):(A=Gi(n),A.c(),A.m(l,null)):A&&(A.d(1),A=null)},i(B){E||(z(m.$$.fragment,B),z(S),E=!0)},o(B){G(m.$$.fragment,B),G(S),E=!1},d(B){B&&J(e),oe(m),T[w].d(),A&&A.d(),D=!1,$e(M)}}}function Vc(n){let e;return{c(){e=b("p"),e.textContent="No properties defined",y(e,"class","text-[var(--text-muted)] italic text-center py-2 text-sm")},m(t,i){Q(t,e,i)},p:fe,i:fe,o:fe,d(t){t&&J(e)}}}function Yc(n){let e,t,i=ke(Object.entries(n[1][n[182]].properties)),s=[];for(let o=0;o<i.length;o+=1)s[o]=Yi(yi(n,i,o));const r=o=>G(s[o],1,1,()=>{s[o]=null});return{c(){e=b("div");for(let o=0;o<s.length;o+=1)s[o].c();y(e,"class","flex flex-col gap-2")},m(o,a){Q(o,e,a);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(e,null);t=!0},p(o,a){if(a[0]&536870914|a[1]&196608){i=ke(Object.entries(o[1][o[182]].properties));let l;for(l=0;l<i.length;l+=1){const c=yi(o,i,l);s[l]?(s[l].p(c,a),z(s[l],1)):(s[l]=Yi(c),s[l].c(),z(s[l],1),s[l].m(e,null))}for(Ee(),l=i.length;l<s.length;l+=1)r(l);Ce()}},i(o){if(!t){for(let a=0;a<i.length;a+=1)z(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)G(s[a]);t=!1},d(o){o&&J(e),Ye(s,o)}}}function Vi(n){let e;return{c(){e=b("span"),e.textContent="REQUIRED",y(e,"class","text-xs px-2 py-1 bg-[var(--background-modifier-warning)] text-[var(--text-on-accent)] rounded font-bold uppercase tracking-wide ml-auto")},m(t,i){Q(t,e,i)},d(t){t&&J(e)}}}function Yi(n){let e,t,i,s=n[188]+"",r,o,a,l,c=wt(n[189]).fieldType+"",p,g,h,m=wt(n[189]).required,d,f,v,w,S,x,E,D,M,N,P,I,T,L,A=m&&Vi();function B(...j){return n[109](n[182],n[188],...j)}E=new ce({props:{icon:"trash-2",size:"medium"}});function U(){return n[110](n[182],n[188])}return N=new ce({props:{icon:"sparkles"}}),{c(){e=b("div"),t=b("div"),i=b("span"),r=V(s),o=k(),a=b("span"),l=V("("),p=V(c),g=V(")"),h=k(),A&&A.c(),d=k(),f=b("div"),v=b("input"),S=k(),x=b("button"),le(E.$$.fragment),D=k(),M=b("button"),le(N.$$.fragment),P=k(),y(i,"class","font-medium text-[var(--text-default)]"),y(a,"class","text-[var(--text-muted)] text-sm"),y(t,"class","flex items-center gap-2 flex-wrap"),y(v,"type","text"),v.value=w=wt(n[189]).description,y(v,"placeholder","Property description"),y(v,"class","flex-1 px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm min-w-48"),y(x,"class","px-2 py-2 bg-[var(--background-modifier-error)] text-[var(--text-on-accent)] border border-[var(--background-modifier-border)] rounded hover:opacity-90 transition-colors duration-200"),y(M,"class","px-2 py-2 bg-[var(--background-modifier-border)] border border-[var(--background-modifier-border)] rounded text-sm opacity-50 cursor-not-allowed"),y(M,"title","LLM Suggest Description"),M.disabled=!0,y(f,"class","flex items-center gap-2"),y(e,"class","flex flex-col gap-2 p-3 bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded")},m(j,W){Q(j,e,W),u(e,t),u(t,i),u(i,r),u(t,o),u(t,a),u(a,l),u(a,p),u(a,g),u(t,h),A&&A.m(t,null),u(e,d),u(e,f),u(f,v),u(f,S),u(f,x),re(E,x,null),u(f,D),u(f,M),re(N,M,null),u(e,P),I=!0,T||(L=[ee(v,"input",B),ee(x,"click",U)],T=!0)},p(j,W){n=j,(!I||W[0]&536870914)&&s!==(s=n[188]+"")&&ne(r,s),(!I||W[0]&536870914)&&c!==(c=wt(n[189]).fieldType+"")&&ne(p,c),W[0]&536870914&&(m=wt(n[189]).required),m?A||(A=Vi(),A.c(),A.m(t,null)):A&&(A.d(1),A=null),(!I||W[0]&536870914&&w!==(w=wt(n[189]).description)&&v.value!==w)&&(v.value=w)},i(j){I||(z(E.$$.fragment,j),z(N.$$.fragment,j),I=!0)},o(j){G(E.$$.fragment,j),G(N.$$.fragment,j),I=!1},d(j){j&&J(e),A&&A.d(),oe(E),oe(N),T=!1,$e(L)}}}function Gi(n){let e,t,i,s,r,o,a,l,c,p,g,h,m,d,f,v,w,S,x,E,D;function M(){return n[114](n[182])}return{c(){e=b("div"),t=b("div"),i=b("input"),s=k(),r=b("select"),o=b("option"),o.textContent="String",a=b("option"),a.textContent="Integer",l=b("option"),l.textContent="DateTime",c=b("option"),c.textContent="Boolean",p=b("option"),p.textContent="Float",g=b("option"),g.textContent="List",h=k(),m=b("div"),d=b("input"),f=k(),v=b("div"),w=b("button"),w.textContent="Add Property",S=k(),x=b("button"),x.textContent="Cancel",y(i,"type","text"),y(i,"placeholder","Property name (e.g., jobTitle, sentiment)"),y(i,"class","flex-1 px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm"),o.__value="str",Ie(o,o.__value),a.__value="int",Ie(a,a.__value),l.__value="datetime",Ie(l,l.__value),c.__value="bool",Ie(c,c.__value),p.__value="float",Ie(p,p.__value),g.__value="List[str]",Ie(g,g.__value),y(r,"class","px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm bg-[var(--background-secondary)] appearance-none cursor-pointer hover:opacity-90 transition-colors duration-200 min-w-32"),n[14]===void 0&&pt(()=>n[112].call(r)),y(t,"class","flex gap-2 mb-3"),y(d,"type","text"),y(d,"placeholder","Property description"),y(d,"class","w-full px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm"),y(m,"class","mb-3"),y(w,"class","px-3 py-2 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded text-sm hover:opacity-90 transition-colors duration-200"),y(x,"class","px-3 py-2 bg-[var(--background-modifier-border)] text-[var(--text-default)] rounded text-sm hover:opacity-90 transition-colors duration-200"),y(v,"class","flex gap-2"),y(e,"class","mt-4 p-4 bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded")},m(N,P){Q(N,e,P),u(e,t),u(t,i),Ie(i,n[13]),u(t,s),u(t,r),u(r,o),u(r,a),u(r,l),u(r,c),u(r,p),u(r,g),et(r,n[14],!0),u(e,h),u(e,m),u(m,d),Ie(d,n[15]),u(e,f),u(e,v),u(v,w),u(v,S),u(v,x),E||(D=[ee(i,"input",n[111]),ee(r,"change",n[112]),ee(d,"input",n[113]),ee(w,"click",M),ee(x,"click",n[115])],E=!0)},p(N,P){n=N,P[0]&8192&&i.value!==n[13]&&Ie(i,n[13]),P[0]&16384&&et(r,n[14]),P[0]&32768&&d.value!==n[15]&&Ie(d,n[15])},d(N){N&&J(e),E=!1,$e(D)}}}function qi(n){var R;let e,t,i,s,r=n[182]+"",o,a,l,c,p=Object.keys(((R=n[1][n[182]])==null?void 0:R.properties)||{}).length+"",g,h,m,d,f,v,w,S,x,E,D,M,N,P=n[6].has(`edge-${n[182]}`),I,T,L,A,B;const U=[jc,zc],j=[];function W(q,O){return O[0]&536870976&&(f=null),f==null&&(f=!!q[6].has(`edge-${q[182]}`)),f?0:1}v=W(n,[-1,-1,-1,-1,-1,-1,-1]),w=j[v]=U[v](n);function X(){return n[105](n[182])}E=new ce({props:{icon:"trash-2",size:"medium"}});function K(){return n[106](n[182])}let $=P&&ji(n);return{c(){e=b("div"),t=b("div"),i=b("button"),s=b("h4"),o=V(r),a=k(),l=b("div"),c=b("span"),g=V(p),h=V(" properties"),m=k(),d=b("span"),w.c(),S=k(),x=b("button"),le(E.$$.fragment),N=k(),$&&$.c(),I=k(),y(s,"class","font-semibold text-[var(--text-default)]"),y(c,"class","text-xs text-[var(--text-muted)] bg-[var(--background-modifier-border)] px-2 py-1 rounded-full"),y(d,"class","text-lg text-[var(--text-muted)] font-bold ml-4"),y(l,"class","flex items-center gap-4"),y(i,"class","flex-1 flex justify-between items-center text-left cursor-pointer transition-colors duration-200 hover:opacity-90"),y(x,"class","ml-2 px-2 py-1 bg-[var(--background-modifier-error)] text-[var(--text-on-accent)] border border-[var(--background-modifier-border)] rounded hover:opacity-90 transition-colors duration-200 text-xs"),y(x,"title",D="Delete "+n[182]+" edge type"),y(t,"class",M="flex justify-between items-center w-full p-4 bg-[var(--background-secondary)] border-none "+(n[6].has(`edge-${n[182]}`)?"border-b border-[var(--background-modifier-border)]":"")),y(e,"class","bg-[var(--background-secondary-alt)] border border-[var(--background-modifier-border)] rounded-lg overflow-hidden"),y(e,"id",T="accordion-edge-"+n[182])},m(q,O){Q(q,e,O),u(e,t),u(t,i),u(i,s),u(s,o),u(i,a),u(i,l),u(l,c),u(c,g),u(c,h),u(l,m),u(l,d),j[v].m(d,null),u(t,S),u(t,x),re(E,x,null),u(e,N),$&&$.m(e,null),u(e,I),L=!0,A||(B=[ee(i,"click",X),ee(x,"click",ut(K))],A=!0)},p(q,O){var te;n=q,(!L||O[0]&536870912)&&r!==(r=n[182]+"")&&ne(o,r),(!L||O[0]&536870914)&&p!==(p=Object.keys(((te=n[1][n[182]])==null?void 0:te.properties)||{}).length+"")&&ne(g,p);let Y=v;v=W(n,O),v!==Y&&(Ee(),G(j[Y],1,1,()=>{j[Y]=null}),Ce(),w=j[v],w||(w=j[v]=U[v](n),w.c()),z(w,1),w.m(d,null)),(!L||O[0]&536870912&&D!==(D="Delete "+n[182]+" edge type"))&&y(x,"title",D),(!L||O[0]&536870976&&M!==(M="flex justify-between items-center w-full p-4 bg-[var(--background-secondary)] border-none "+(n[6].has(`edge-${n[182]}`)?"border-b border-[var(--background-modifier-border)]":"")))&&y(t,"class",M),O[0]&536870976&&(P=n[6].has(`edge-${n[182]}`)),P?$?($.p(n,O),O[0]&536870976&&z($,1)):($=ji(n),$.c(),z($,1),$.m(e,I)):$&&(Ee(),G($,1,1,()=>{$=null}),Ce()),(!L||O[0]&536870912&&T!==(T="accordion-edge-"+n[182]))&&y(e,"id",T)},i(q){L||(z(w),z(E.$$.fragment,q),z($),L=!0)},o(q){G(w),G(E.$$.fragment,q),G($),L=!1},d(q){q&&J(e),j[v].d(),oe(E),$&&$.d(),A=!1,$e(B)}}}function Wi(n){let e,t,i,s,r,o,a,l,c,p,g,h,m,d;s=new ce({props:{icon:"clipboard-list"}});let f=ke(Object.entries(n[27])),v=[];for(let S=0;S<f.length;S+=1)v[S]=Ki(fi(n,f,S));const w=S=>G(v[S],1,1,()=>{v[S]=null});return{c(){e=b("div"),t=b("div"),i=b("h4"),le(s.$$.fragment),r=V(" Available Default Edge Types"),o=k(),a=b("button"),a.textContent="Add All",l=k(),c=b("p"),c.textContent="Common edge types you can add with one click. These include standard properties and descriptions.",p=k(),g=b("div");for(let S=0;S<v.length;S+=1)v[S].c();y(i,"class","text-lg font-semibold text-[var(--text-default)] flex items-center gap-2"),y(a,"class","px-3 py-2 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded hover:opacity-90 transition-colors duration-200 text-sm font-medium"),y(a,"title","Add all unused default edge types at once"),y(t,"class","flex justify-between items-center mb-4"),y(c,"class","text-[var(--text-muted)] mb-4"),y(g,"class","grid grid-cols-1 md:grid-cols-2 gap-3"),y(e,"class","mt-8 pt-8 border-t border-[var(--background-modifier-border)]")},m(S,x){Q(S,e,x),u(e,t),u(t,i),re(s,i,null),u(i,r),u(t,o),u(t,a),u(e,l),u(e,c),u(e,p),u(e,g);for(let E=0;E<v.length;E+=1)v[E]&&v[E].m(g,null);h=!0,m||(d=ee(a,"click",n[55]),m=!0)},p(S,x){if(x[0]&134217728|x[1]&16384){f=ke(Object.entries(S[27]));let E;for(E=0;E<f.length;E+=1){const D=fi(S,f,E);v[E]?(v[E].p(D,x),z(v[E],1)):(v[E]=Ki(D),v[E].c(),z(v[E],1),v[E].m(g,null))}for(Ee(),E=f.length;E<v.length;E+=1)w(E);Ce()}},i(S){if(!h){z(s.$$.fragment,S);for(let x=0;x<f.length;x+=1)z(v[x]);h=!0}},o(S){G(s.$$.fragment,S),v=v.filter(Boolean);for(let x=0;x<v.length;x+=1)G(v[x]);h=!1},d(S){S&&J(e),oe(s),Ye(v,S),m=!1,d()}}}function Ki(n){let e,t,i,s=n[182]+"",r,o,a,l,c,p,g,h,m=n[183]+"",d,f,v,w,S;l=new ce({props:{icon:"chevron-right",size:"medium"}});function x(){return n[122](n[182])}return{c(){e=b("div"),t=b("div"),i=b("h5"),r=V(s),o=k(),a=b("button"),le(l.$$.fragment),c=V(" Add"),g=k(),h=b("p"),d=V(m),f=k(),y(i,"class","font-semibold text-[var(--text-default)]"),y(a,"class","px-2 py-1 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded text-xs hover:opacity-90 transition-colors duration-200"),y(a,"title",p="Add "+n[182]+" edge type"),y(t,"class","flex justify-between items-start mb-2"),y(h,"class","text-[var(--text-muted)] text-sm leading-relaxed"),y(e,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] p-4 rounded-lg")},m(E,D){Q(E,e,D),u(e,t),u(t,i),u(i,r),u(t,o),u(t,a),re(l,a,null),u(a,c),u(e,g),u(e,h),u(h,d),u(e,f),v=!0,w||(S=ee(a,"click",x),w=!0)},p(E,D){n=E,(!v||D[0]&134217728)&&s!==(s=n[182]+"")&&ne(r,s),(!v||D[0]&134217728&&p!==(p="Add "+n[182]+" edge type"))&&y(a,"title",p),(!v||D[0]&134217728)&&m!==(m=n[183]+"")&&ne(d,m)},i(E){v||(z(l.$$.fragment,E),v=!0)},o(E){G(l.$$.fragment,E),v=!1},d(E){E&&J(e),oe(l),w=!1,S()}}}function Gc(n){let e,t,i,s,r,o;return t=new ce({props:{icon:"chevron-right",size:"medium"}}),{c(){e=b("button"),le(t.$$.fragment),i=V(" Add Edge Type"),y(e,"class","px-4 py-2 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded hover:opacity-90 transition-colors duration-200")},m(a,l){Q(a,e,l),re(t,e,null),u(e,i),s=!0,r||(o=ee(e,"click",n[125]),r=!0)},p:fe,i(a){s||(z(t.$$.fragment,a),s=!0)},o(a){G(t.$$.fragment,a),s=!1},d(a){a&&J(e),oe(t),r=!1,o()}}}function qc(n){let e,t,i,s,r,o,a,l,c,p,g,h,m,d,f;return{c(){e=b("div"),t=b("h4"),t.textContent="Add New Edge Type",i=k(),s=b("div"),r=b("input"),o=k(),a=b("div"),l=b("textarea"),c=k(),p=b("div"),g=b("button"),g.textContent="Save Edge Type",h=k(),m=b("button"),m.textContent="Cancel",y(t,"class","text-lg font-semibold mb-4 text-[var(--text-default)]"),y(r,"type","text"),y(r,"placeholder","Edge type name (e.g., WorksFor, Uses, Creates)"),y(r,"class","w-full px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm"),y(s,"class","mb-4"),y(l,"placeholder","Description of this relationship type"),y(l,"class","w-full px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm leading-relaxed resize-vertical"),y(l,"rows","2"),y(a,"class","mb-4"),y(g,"class","px-4 py-2 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded hover:opacity-90 transition-colors duration-200"),y(m,"class","px-4 py-2 bg-[var(--background-modifier-border)] text-[var(--text-default)] rounded hover:opacity-90 transition-colors duration-200"),y(p,"class","flex gap-2"),y(e,"class","bg-[var(--background-secondary-alt)] border border-[var(--background-modifier-border)] rounded-lg p-6")},m(v,w){Q(v,e,w),u(e,t),u(e,i),u(e,s),u(s,r),Ie(r,n[10]),u(e,o),u(e,a),u(a,l),Ie(l,n[11]),u(e,c),u(e,p),u(p,g),u(p,h),u(p,m),d||(f=[ee(r,"input",n[123]),ee(l,"input",n[124]),ee(g,"click",n[41]),ee(m,"click",n[42])],d=!0)},p(v,w){w[0]&1024&&r.value!==v[10]&&Ie(r,v[10]),w[0]&2048&&Ie(l,v[11])},i:fe,o:fe,d(v){v&&J(e),d=!1,$e(f)}}}function Hi(n){let e,t,i,s,r,o,a,l,c,p,g,h,m,d,f,v;s=new ce({props:{icon:"map"}});const w=[Kc,Wc],S=[];function x(P,I){return P[2]&&P[2].length>0?0:1}c=x(n),p=S[c]=w[c](n);let E=n[26].length>0&&ts(n);const D=[ed,Xc],M=[];function N(P,I){return P[16]?0:1}return d=N(n),f=M[d]=D[d](n),{c(){e=b("div"),t=b("div"),i=b("h3"),le(s.$$.fragment),r=V(" Edge Type Mappings"),o=k(),a=b("p"),a.textContent="Define which edge types can connect which entity types. Controls relationship validation in your knowledge graph.",l=k(),p.c(),g=k(),E&&E.c(),h=k(),m=b("div"),f.c(),y(i,"class","text-lg font-semibold mb-2 flex items-center gap-2"),y(a,"class","mb-6"),y(m,"class","mt-6"),y(e,"class","animate-fadeIn")},m(P,I){Q(P,e,I),u(e,t),u(t,i),re(s,i,null),u(i,r),u(t,o),u(t,a),u(t,l),S[c].m(t,null),u(t,g),E&&E.m(t,null),u(t,h),u(t,m),M[d].m(m,null),v=!0},p(P,I){let T=c;c=x(P),c===T?S[c].p(P,I):(Ee(),G(S[T],1,1,()=>{S[T]=null}),Ce(),p=S[c],p?p.p(P,I):(p=S[c]=w[c](P),p.c()),z(p,1),p.m(t,g)),P[26].length>0?E?(E.p(P,I),I[0]&67108864&&z(E,1)):(E=ts(P),E.c(),z(E,1),E.m(t,h)):E&&(Ee(),G(E,1,1,()=>{E=null}),Ce());let L=d;d=N(P),d===L?M[d].p(P,I):(Ee(),G(M[L],1,1,()=>{M[L]=null}),Ce(),f=M[d],f?f.p(P,I):(f=M[d]=D[d](P),f.c()),z(f,1),f.m(m,null))},i(P){v||(z(s.$$.fragment,P),z(p),z(E),z(f),v=!0)},o(P){G(s.$$.fragment,P),G(p),G(E),G(f),v=!1},d(P){P&&J(e),oe(s),S[c].d(),E&&E.d(),M[d].d()}}}function Wc(n){let e,t,i,s,r,o,a,l,c,p,g,h,m,d,f,v,w,S,x,E,D,M,N,P,I,T,L,A,B,U,j,W,X,K,$,R,q,O,Y,te,Se,be,me,De,Re,ve,_e,de;return i=new ce({props:{icon:"map"}}),f=new ce({props:{icon:"user"}}),w=new ce({props:{icon:"monitor"}}),P=new ce({props:{icon:"user"}}),T=new ce({props:{icon:"folder"}}),X=new ce({props:{icon:"link-2"}}),te=new ce({props:{icon:"folder"}}),be=new ce({props:{icon:"monitor"}}),{c(){e=b("div"),t=b("div"),le(i.$$.fragment),s=k(),r=b("h4"),r.textContent="No Edge Mappings Defined",o=k(),a=b("p"),a.textContent="Create mappings to define which relationships can exist between entity types.",l=k(),c=b("div"),p=b("h5"),p.textContent="Quick Add Common Mappings:",g=k(),h=b("div"),m=b("button"),d=b("div"),le(f.$$.fragment),v=V(" Person  "),le(w.$$.fragment),S=V(" Technology"),x=k(),E=b("div"),E.textContent="Uses, RelatesTo",D=k(),M=b("button"),N=b("div"),le(P.$$.fragment),I=V(" Person  "),le(T.$$.fragment),L=V(" Project"),A=k(),B=b("div"),B.textContent="WorksOn, Manages, RelatesTo",U=k(),j=b("button"),W=b("div"),le(X.$$.fragment),K=V(" Entity  Entity"),$=k(),R=b("div"),R.textContent="RelatesTo (Generic)",q=k(),O=b("button"),Y=b("div"),le(te.$$.fragment),Se=V(" Project  "),le(be.$$.fragment),me=V(" Technology"),De=k(),Re=b("div"),Re.textContent="Uses, DependsOn, RelatesTo",y(t,"class","text-6xl mb-5 opacity-50"),y(r,"class","text-lg font-semibold mb-3 text-[var(--text-default)]"),y(a,"class","mb-10 max-w-lg mx-auto leading-relaxed text-[var(--text-muted)]"),y(p,"class","text-sm font-semibold mb-5 text-[var(--text-default)]"),y(d,"class","font-semibold mb-1 text-[var(--text-default)]"),y(E,"class","text-xs text-[var(--text-muted)]"),y(m,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] text-[var(--text-default)] p-4 rounded-lg cursor-pointer transition-all duration-200 hover:opacity-90 hover:border-[var(--interactive-accent)] hover:shadow-md text-sm font-medium"),y(N,"class","font-semibold mb-1 text-[var(--text-default)]"),y(B,"class","text-xs text-[var(--text-muted)]"),y(M,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] text-[var(--text-default)] p-4 rounded-lg cursor-pointer transition-all duration-200 hover:opacity-90 hover:border-[var(--interactive-accent)] hover:shadow-md text-sm font-medium"),y(W,"class","font-semibold mb-1 text-[var(--text-default)]"),y(R,"class","text-xs text-[var(--text-muted)]"),y(j,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] text-[var(--text-default)] p-4 rounded-lg cursor-pointer transition-all duration-200 hover:opacity-90 hover:border-[var(--interactive-accent)] hover:shadow-md text-sm font-medium"),y(Y,"class","font-semibold mb-1 text-[var(--text-default)]"),y(Re,"class","text-xs text-[var(--text-muted)]"),y(O,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] text-[var(--text-default)] p-4 rounded-lg cursor-pointer transition-all duration-200 hover:opacity-90 hover:border-[var(--interactive-accent)] hover:shadow-md text-sm font-medium"),y(h,"class","grid grid-cols-1 md:grid-cols-2 gap-3 max-w-2xl mx-auto"),y(c,"class","mt-10 pt-8 border-t border-[var(--background-modifier-border)]"),y(e,"class","text-center py-16 text-[var(--text-muted)]")},m(pe,we){Q(pe,e,we),u(e,t),re(i,t,null),u(e,s),u(e,r),u(e,o),u(e,a),u(e,l),u(e,c),u(c,p),u(c,g),u(c,h),u(h,m),u(m,d),re(f,d,null),u(d,v),re(w,d,null),u(d,S),u(m,x),u(m,E),u(h,D),u(h,M),u(M,N),re(P,N,null),u(N,I),re(T,N,null),u(N,L),u(M,A),u(M,B),u(h,U),u(h,j),u(j,W),re(X,W,null),u(W,K),u(j,$),u(j,R),u(h,q),u(h,O),u(O,Y),re(te,Y,null),u(Y,Se),re(be,Y,null),u(Y,me),u(O,De),u(O,Re),ve=!0,_e||(de=[ee(m,"click",n[131]),ee(M,"click",n[132]),ee(j,"click",n[133]),ee(O,"click",n[134])],_e=!0)},p:fe,i(pe){ve||(z(i.$$.fragment,pe),z(f.$$.fragment,pe),z(w.$$.fragment,pe),z(P.$$.fragment,pe),z(T.$$.fragment,pe),z(X.$$.fragment,pe),z(te.$$.fragment,pe),z(be.$$.fragment,pe),ve=!0)},o(pe){G(i.$$.fragment,pe),G(f.$$.fragment,pe),G(w.$$.fragment,pe),G(P.$$.fragment,pe),G(T.$$.fragment,pe),G(X.$$.fragment,pe),G(te.$$.fragment,pe),G(be.$$.fragment,pe),ve=!1},d(pe){pe&&J(e),oe(i),oe(f),oe(w),oe(P),oe(T),oe(X),oe(te),oe(be),_e=!1,$e(de)}}}function Kc(n){let e,t,i=ke(n[2]),s=[];for(let o=0;o<i.length;o+=1)s[o]=es(di(n,i,o));const r=o=>G(s[o],1,1,()=>{s[o]=null});return{c(){e=b("div");for(let o=0;o<s.length;o+=1)s[o].c();y(e,"class","flex flex-col gap-4")},m(o,a){Q(o,e,a);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(e,null);t=!0},p(o,a){if(a[0]&821035012|a[1]&1008730112){i=ke(o[2]);let l;for(l=0;l<i.length;l+=1){const c=di(o,i,l);s[l]?(s[l].p(c,a),z(s[l],1)):(s[l]=es(c),s[l].c(),z(s[l],1),s[l].m(e,null))}for(Ee(),l=i.length;l<s.length;l+=1)r(l);Ce()}},i(o){if(!t){for(let a=0;a<i.length;a+=1)z(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)G(s[a]);t=!1},d(o){o&&J(e),Ye(s,o)}}}function Hc(n){let e,t,i,s,r,o=n[171].sourceEntity+"",a,l,c,p,g,h=n[171].targetEntity+"",m,d,f,v,w,S,x=n[171].isUserDefined?"User":"Auto",E,D,M,N,P,I,T,L,A,B,U=ke(n[171].allowedEdges),j=[];for(let K=0;K<U.length;K+=1)j[K]=Ji(ui(n,U,K));N=new ce({props:{icon:"pencil",size:"medium"}});function W(){return n[129](n[173])}T=new ce({props:{icon:"trash-2",size:"medium"}});function X(){return n[130](n[173])}return{c(){e=b("div"),t=b("div"),i=b("div"),s=b("div"),r=b("span"),a=V(o),l=k(),c=b("span"),c.textContent="",p=k(),g=b("span"),m=V(h),d=k(),f=b("div");for(let K=0;K<j.length;K+=1)j[K].c();v=k(),w=b("div"),S=b("span"),E=V(x),D=k(),M=b("button"),le(N.$$.fragment),P=k(),I=b("button"),le(T.$$.fragment),y(r,"class","font-semibold text-[var(--text-default)]"),y(c,"class","text-[var(--text-muted)]"),y(g,"class","font-semibold text-[var(--text-default)]"),y(s,"class","flex items-center gap-2"),y(f,"class","flex gap-1 flex-wrap"),y(i,"class","flex items-center gap-4"),y(S,"class","text-xs text-[var(--text-muted)] bg-[var(--background-modifier-border)] px-2 py-1 rounded-full"),y(M,"class","p-1 text-[var(--text-muted)] hover:opacity-90 hover:bg-[var(--background-modifier-border)] rounded transition-all duration-200"),y(M,"title","Edit Mapping"),y(I,"class","px-2 py-1 bg-[var(--background-modifier-error)] text-[var(--text-on-accent)] border border-[var(--background-modifier-border)] rounded hover:opacity-90 transition-colors duration-200 text-xs"),y(w,"class","flex items-center gap-2"),y(t,"class","flex justify-between items-center"),y(e,"class","p-4 bg-[var(--background-secondary-alt)] border-none")},m(K,$){Q(K,e,$),u(e,t),u(t,i),u(i,s),u(s,r),u(r,a),u(s,l),u(s,c),u(s,p),u(s,g),u(g,m),u(i,d),u(i,f);for(let R=0;R<j.length;R+=1)j[R]&&j[R].m(f,null);u(t,v),u(t,w),u(w,S),u(S,E),u(w,D),u(w,M),re(N,M,null),u(w,P),u(w,I),re(T,I,null),L=!0,A||(B=[ee(M,"click",W),ee(I,"click",X)],A=!0)},p(K,$){if(n=K,(!L||$[0]&4)&&o!==(o=n[171].sourceEntity+"")&&ne(a,o),(!L||$[0]&4)&&h!==(h=n[171].targetEntity+"")&&ne(m,h),$[0]&4){U=ke(n[171].allowedEdges);let R;for(R=0;R<U.length;R+=1){const q=ui(n,U,R);j[R]?j[R].p(q,$):(j[R]=Ji(q),j[R].c(),j[R].m(f,null))}for(;R<j.length;R+=1)j[R].d(1);j.length=U.length}(!L||$[0]&4)&&x!==(x=n[171].isUserDefined?"User":"Auto")&&ne(E,x)},i(K){L||(z(N.$$.fragment,K),z(T.$$.fragment,K),L=!0)},o(K){G(N.$$.fragment,K),G(T.$$.fragment,K),L=!1},d(K){K&&J(e),Ye(j,K),oe(N),oe(T),A=!1,$e(B)}}}function Jc(n){let e,t,i,s,r,o,a,l,c,p,g,h,m,d,f,v,w,S,x,E,D,M,N,P,I,T,L,A,B=ke(n[28]),U=[];for(let R=0;R<B.length;R+=1)U[R]=Qi(hi(n,B,R));let j=ke(n[28]),W=[];for(let R=0;R<j.length;R+=1)W[R]=Zi(gi(n,j,R));function X(R,q){return R[29].length>0?Zc:Qc}let K=X(n),$=K(n);return{c(){e=b("div"),t=b("h4"),t.textContent="Edit Edge Mapping",i=k(),s=b("div"),r=b("div"),o=b("label"),o.textContent="Source Entity Type",a=k(),l=b("select"),c=b("option"),c.textContent="Select source entity...";for(let R=0;R<U.length;R+=1)U[R].c();p=k(),g=b("div"),h=b("label"),h.textContent="Target Entity Type",m=k(),d=b("select"),f=b("option"),f.textContent="Select target entity...";for(let R=0;R<W.length;R+=1)W[R].c();v=k(),w=b("div"),S=b("span"),S.textContent="Allowed Edge Types",x=k(),$.c(),E=k(),D=b("div"),M=b("button"),N=V("Save Changes"),I=k(),T=b("button"),T.textContent="Cancel",y(t,"class","text-lg font-semibold mb-4 text-[var(--text-default)]"),y(o,"for","edit-source-entity"),y(o,"class","block text-sm font-medium text-[var(--text-default)] mb-2"),c.__value="",Ie(c,c.__value),y(l,"id","edit-source-entity"),y(l,"class","w-full px-3 py-1 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm leading-normal bg-[var(--background-secondary)] min-w-48"),n[21]===void 0&&pt(()=>n[126].call(l)),y(h,"for","edit-target-entity"),y(h,"class","block text-sm font-medium text-[var(--text-default)] mb-2"),f.__value="",Ie(f,f.__value),y(d,"id","edit-target-entity"),y(d,"class","w-full px-3 py-1 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm leading-normal bg-[var(--background-secondary)] min-w-48"),n[22]===void 0&&pt(()=>n[127].call(d)),y(s,"class","space-y-4 mb-4"),y(S,"class","block text-sm font-medium text-[var(--text-default)] mb-2"),y(w,"class","mb-4"),y(M,"class","px-4 py-2 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded hover:opacity-90 transition-colors duration-200"),M.disabled=P=!n[21]||!n[22]||n[23].length===0,y(T,"class","px-4 py-2 bg-[var(--background-modifier-border)] text-[var(--text-default)] rounded hover:opacity-90 transition-colors duration-200"),y(D,"class","flex gap-2"),y(e,"class","p-4 bg-[var(--background-secondary-alt)] border-none")},m(R,q){Q(R,e,q),u(e,t),u(e,i),u(e,s),u(s,r),u(r,o),u(r,a),u(r,l),u(l,c);for(let O=0;O<U.length;O+=1)U[O]&&U[O].m(l,null);et(l,n[21],!0),u(s,p),u(s,g),u(g,h),u(g,m),u(g,d),u(d,f);for(let O=0;O<W.length;O+=1)W[O]&&W[O].m(d,null);et(d,n[22],!0),u(e,v),u(e,w),u(w,S),u(w,x),$.m(w,null),u(e,E),u(e,D),u(D,M),u(M,N),u(D,I),u(D,T),L||(A=[ee(l,"change",n[126]),ee(d,"change",n[127]),ee(M,"click",n[58]),ee(T,"click",n[59])],L=!0)},p(R,q){if(q[0]&268435456){B=ke(R[28]);let O;for(O=0;O<B.length;O+=1){const Y=hi(R,B,O);U[O]?U[O].p(Y,q):(U[O]=Qi(Y),U[O].c(),U[O].m(l,null))}for(;O<U.length;O+=1)U[O].d(1);U.length=B.length}if(q[0]&270532608&&et(l,R[21]),q[0]&268435456){j=ke(R[28]);let O;for(O=0;O<j.length;O+=1){const Y=gi(R,j,O);W[O]?W[O].p(Y,q):(W[O]=Zi(Y),W[O].c(),W[O].m(d,null))}for(;O<W.length;O+=1)W[O].d(1);W.length=j.length}q[0]&272629760&&et(d,R[22]),K===(K=X(R))&&$?$.p(R,q):($.d(1),$=K(R),$&&($.c(),$.m(w,null))),q[0]&283115520&&P!==(P=!R[21]||!R[22]||R[23].length===0)&&(M.disabled=P)},i:fe,o:fe,d(R){R&&J(e),Ye(U,R),Ye(W,R),$.d(),L=!1,$e(A)}}}function Ji(n){let e,t=n[158]+"",i;return{c(){e=b("span"),i=V(t),y(e,"class","text-xs px-2 py-1 bg-[var(--background-modifier-border)] text-[var(--text-muted)] rounded-full font-medium")},m(s,r){Q(s,e,r),u(e,i)},p(s,r){r[0]&4&&t!==(t=s[158]+"")&&ne(i,t)},d(s){s&&J(e)}}}function Qi(n){let e,t=n[161]+"",i,s;return{c(){e=b("option"),i=V(t),e.__value=s=n[161],Ie(e,e.__value)},m(r,o){Q(r,e,o),u(e,i)},p(r,o){o[0]&268435456&&t!==(t=r[161]+"")&&ne(i,t),o[0]&268435456&&s!==(s=r[161])&&(e.__value=s,Ie(e,e.__value))},d(r){r&&J(e)}}}function Zi(n){let e,t=n[161]+"",i,s;return{c(){e=b("option"),i=V(t),e.__value=s=n[161],Ie(e,e.__value)},m(r,o){Q(r,e,o),u(e,i)},p(r,o){o[0]&268435456&&t!==(t=r[161]+"")&&ne(i,t),o[0]&268435456&&s!==(s=r[161])&&(e.__value=s,Ie(e,e.__value))},d(r){r&&J(e)}}}function Qc(n){let e;return{c(){e=b("p"),e.textContent="No edge types defined. Create edge types first.",y(e,"class","text-sm text-[var(--text-muted)] italic")},m(t,i){Q(t,e,i)},p:fe,d(t){t&&J(e)}}}function Zc(n){let e,t=ke(n[29]),i=[];for(let s=0;s<t.length;s+=1)i[s]=Xi(pi(n,t,s));return{c(){e=b("div");for(let s=0;s<i.length;s+=1)i[s].c();y(e,"class","grid grid-cols-2 md:grid-cols-3 gap-2")},m(s,r){Q(s,e,r);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(e,null)},p(s,r){if(r[0]&545259520|r[1]&536870912){t=ke(s[29]);let o;for(o=0;o<t.length;o+=1){const a=pi(s,t,o);i[o]?i[o].p(a,r):(i[o]=Xi(a),i[o].c(),i[o].m(e,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=t.length}},d(s){s&&J(e),Ye(i,s)}}}function Xi(n){let e,t,i,s,r,o=n[158]+"",a,l,c,p;function g(){return n[128](n[158])}return{c(){e=b("label"),t=b("input"),s=k(),r=b("span"),a=V(o),l=k(),y(t,"type","checkbox"),t.checked=i=n[23].includes(n[158]),y(t,"class","rounded border-[var(--background-modifier-border)] text-[var(--interactive-accent)] focus:ring-[var(--interactive-accent)]"),y(r,"class","text-sm text-[var(--text-default)]"),y(e,"class","flex items-center gap-2 p-2 border border-[var(--background-modifier-border)] rounded hover:opacity-90 cursor-pointer transition-colors duration-200")},m(h,m){Q(h,e,m),u(e,t),u(e,s),u(e,r),u(r,a),u(e,l),c||(p=ee(t,"change",g),c=!0)},p(h,m){n=h,m[0]&545259520&&i!==(i=n[23].includes(n[158]))&&(t.checked=i),m[0]&536870912&&o!==(o=n[158]+"")&&ne(a,o)},d(h){h&&J(e),c=!1,p()}}}function es(n){let e,t,i,s,r;const o=[Jc,Hc],a=[];function l(c,p){return c[20]===c[173]?0:1}return t=l(n),i=a[t]=o[t](n),{c(){e=b("div"),i.c(),s=k(),y(e,"class","bg-[var(--background-secondary-alt)] border border-[var(--background-modifier-border)] rounded-lg overflow-hidden"),y(e,"id","mapping-"+n[173])},m(c,p){Q(c,e,p),a[t].m(e,null),u(e,s),r=!0},p(c,p){let g=t;t=l(c),t===g?a[t].p(c,p):(Ee(),G(a[g],1,1,()=>{a[g]=null}),Ce(),i=a[t],i?i.p(c,p):(i=a[t]=o[t](c),i.c()),z(i,1),i.m(e,s))},i(c){r||(z(i),r=!0)},o(c){G(i),r=!1},d(c){c&&J(e),a[t].d()}}}function ts(n){let e,t,i,s,r,o,a,l,c,p,g,h,m,d;s=new ce({props:{icon:"lightbulb"}});let f=ke(n[26]),v=[];for(let w=0;w<f.length;w+=1)v[w]=is(li(n,f,w));return{c(){e=b("div"),t=b("div"),i=b("h4"),le(s.$$.fragment),r=V(" Suggested Edge Mappings"),o=k(),a=b("button"),a.textContent="Add All",l=k(),c=b("p"),c.textContent="Recommended mappings based on your discovered entity types. Add these to enable common relationships.",p=k(),g=b("div");for(let w=0;w<v.length;w+=1)v[w].c();y(i,"class","text-lg font-semibold text-[var(--text-default)] flex items-center gap-2"),y(a,"class","px-3 py-2 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded hover:opacity-90 transition-colors duration-200 text-sm font-medium"),y(a,"title","Add all suggested edge mappings at once"),y(t,"class","flex justify-between items-center mb-4"),y(c,"class","text-[var(--text-muted)] mb-4"),y(g,"class","grid grid-cols-1 gap-3"),y(e,"class","mt-8 pt-8 border-t border-[var(--background-modifier-border)]")},m(w,S){Q(w,e,S),u(e,t),u(t,i),re(s,i,null),u(i,r),u(t,o),u(t,a),u(e,l),u(e,c),u(e,p),u(e,g);for(let x=0;x<v.length;x+=1)v[x]&&v[x].m(g,null);h=!0,m||(d=ee(a,"click",n[56]),m=!0)},p(w,S){if(S[0]&67108864|S[1]&8388608){f=ke(w[26]);let x;for(x=0;x<f.length;x+=1){const E=li(w,f,x);v[x]?v[x].p(E,S):(v[x]=is(E),v[x].c(),v[x].m(g,null))}for(;x<v.length;x+=1)v[x].d(1);v.length=f.length}},i(w){h||(z(s.$$.fragment,w),h=!0)},o(w){G(s.$$.fragment,w),h=!1},d(w){w&&J(e),oe(s),Ye(v,w),m=!1,d()}}}function ns(n){let e,t=n[158]+"",i;return{c(){e=b("span"),i=V(t),y(e,"class","text-xs px-2 py-1 bg-[var(--background-modifier-success)] text-[var(--text-on-accent)] rounded-full font-medium")},m(s,r){Q(s,e,r),u(e,i)},p(s,r){r[0]&67108864&&t!==(t=s[158]+"")&&ne(i,t)},d(s){s&&J(e)}}}function is(n){let e,t,i,s,r=n[166].sourceEntity+"",o,a,l,c,p,g=n[166].targetEntity+"",h,m,d,f,v,w,S,x=n[166].description+"",E,D,M,N,P=ke(n[166].allowedEdges),I=[];for(let L=0;L<P.length;L+=1)I[L]=ns(ci(n,P,L));function T(){return n[135](n[166])}return{c(){e=b("div"),t=b("div"),i=b("div"),s=b("span"),o=V(r),a=k(),l=b("span"),l.textContent="",c=k(),p=b("span"),h=V(g),m=k(),d=b("div");for(let L=0;L<I.length;L+=1)I[L].c();f=k(),v=b("button"),v.textContent="Add",w=k(),S=b("p"),E=V(x),D=k(),y(s,"class","font-semibold text-[var(--text-default)]"),y(l,"class","text-[var(--text-muted)]"),y(p,"class","font-semibold text-[var(--text-default)]"),y(d,"class","flex gap-1 ml-2"),y(i,"class","flex items-center gap-2"),y(v,"class","px-2 py-1 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded text-xs hover:opacity-90 transition-colors duration-200"),y(v,"title","Add this mapping"),y(t,"class","flex justify-between items-start mb-2"),y(S,"class","text-[var(--text-muted)] text-sm leading-relaxed"),y(e,"class","bg-[var(--background-secondary-alt)] border border-[var(--background-modifier-border)] p-4 rounded-lg")},m(L,A){Q(L,e,A),u(e,t),u(t,i),u(i,s),u(s,o),u(i,a),u(i,l),u(i,c),u(i,p),u(p,h),u(i,m),u(i,d);for(let B=0;B<I.length;B+=1)I[B]&&I[B].m(d,null);u(t,f),u(t,v),u(e,w),u(e,S),u(S,E),u(e,D),M||(N=ee(v,"click",T),M=!0)},p(L,A){if(n=L,A[0]&67108864&&r!==(r=n[166].sourceEntity+"")&&ne(o,r),A[0]&67108864&&g!==(g=n[166].targetEntity+"")&&ne(h,g),A[0]&67108864){P=ke(n[166].allowedEdges);let B;for(B=0;B<P.length;B+=1){const U=ci(n,P,B);I[B]?I[B].p(U,A):(I[B]=ns(U),I[B].c(),I[B].m(d,null))}for(;B<I.length;B+=1)I[B].d(1);I.length=P.length}A[0]&67108864&&x!==(x=n[166].description+"")&&ne(E,x)},d(L){L&&J(e),Ye(I,L),M=!1,N()}}}function Xc(n){let e,t,i,s,r,o;return t=new ce({props:{icon:"chevron-right",size:"medium"}}),{c(){e=b("button"),le(t.$$.fragment),i=V(" Add Edge Mapping"),y(e,"class","px-4 py-2 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded hover:opacity-90 transition-colors duration-200")},m(a,l){Q(a,e,l),re(t,e,null),u(e,i),s=!0,r||(o=ee(e,"click",n[139]),r=!0)},p:fe,i(a){s||(z(t.$$.fragment,a),s=!0)},o(a){G(t.$$.fragment,a),s=!1},d(a){a&&J(e),oe(t),r=!1,o()}}}function ed(n){let e,t,i,s,r,o,a,l,c,p,g,h,m,d,f,v,w,S,x,E,D,M,N,P,I,T,L,A,B=ke(n[28]),U=[];for(let R=0;R<B.length;R+=1)U[R]=ss(ai(n,B,R));let j=ke(n[28]),W=[];for(let R=0;R<j.length;R+=1)W[R]=rs(oi(n,j,R));function X(R,q){return R[29].length>0?nd:td}let K=X(n),$=K(n);return{c(){e=b("div"),t=b("h4"),t.textContent="Add New Edge Mapping",i=k(),s=b("div"),r=b("div"),o=b("label"),o.textContent="Source Entity Type",a=k(),l=b("select"),c=b("option"),c.textContent="Select source entity...";for(let R=0;R<U.length;R+=1)U[R].c();p=k(),g=b("div"),h=b("label"),h.textContent="Target Entity Type",m=k(),d=b("select"),f=b("option"),f.textContent="Select target entity...";for(let R=0;R<W.length;R+=1)W[R].c();v=k(),w=b("div"),S=b("span"),S.textContent="Allowed Edge Types",x=k(),$.c(),E=k(),D=b("div"),M=b("button"),N=V("Save Mapping"),I=k(),T=b("button"),T.textContent="Cancel",y(t,"class","text-lg font-semibold mb-4 text-[var(--text-default)]"),y(o,"for","new-source-entity"),y(o,"class","block text-sm font-medium text-[var(--text-default)] mb-2"),c.__value="",Ie(c,c.__value),y(l,"id","new-source-entity"),y(l,"class","w-full px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm bg-[var(--background-secondary)] min-w-48"),n[17]===void 0&&pt(()=>n[136].call(l)),y(h,"for","new-target-entity"),y(h,"class","block text-sm font-medium text-[var(--text-default)] mb-2"),f.__value="",Ie(f,f.__value),y(d,"id","new-target-entity"),y(d,"class","w-full px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm bg-[var(--background-secondary)] min-w-48"),n[18]===void 0&&pt(()=>n[137].call(d)),y(s,"class","space-y-4 mb-4"),y(S,"class","block text-sm font-medium text-[var(--text-default)] mb-2"),y(w,"class","mb-4"),y(M,"class","px-4 py-2 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded hover:opacity-90 transition-colors duration-200"),M.disabled=P=!n[17]||!n[18]||n[19].length===0,y(T,"class","px-4 py-2 bg-[var(--background-modifier-border)] text-[var(--text-default)] rounded hover:opacity-90 transition-colors duration-200"),y(D,"class","flex gap-2"),y(e,"class","bg-[var(--background-secondary-alt)] border border-[var(--background-modifier-border)] rounded-lg p-6")},m(R,q){Q(R,e,q),u(e,t),u(e,i),u(e,s),u(s,r),u(r,o),u(r,a),u(r,l),u(l,c);for(let O=0;O<U.length;O+=1)U[O]&&U[O].m(l,null);et(l,n[17],!0),u(s,p),u(s,g),u(g,h),u(g,m),u(g,d),u(d,f);for(let O=0;O<W.length;O+=1)W[O]&&W[O].m(d,null);et(d,n[18],!0),u(e,v),u(e,w),u(w,S),u(w,x),$.m(w,null),u(e,E),u(e,D),u(D,M),u(M,N),u(D,I),u(D,T),L||(A=[ee(l,"change",n[136]),ee(d,"change",n[137]),ee(M,"click",n[50]),ee(T,"click",n[51])],L=!0)},p(R,q){if(q[0]&268435456){B=ke(R[28]);let O;for(O=0;O<B.length;O+=1){const Y=ai(R,B,O);U[O]?U[O].p(Y,q):(U[O]=ss(Y),U[O].c(),U[O].m(l,null))}for(;O<U.length;O+=1)U[O].d(1);U.length=B.length}if(q[0]&268566528&&et(l,R[17]),q[0]&268435456){j=ke(R[28]);let O;for(O=0;O<j.length;O+=1){const Y=oi(R,j,O);W[O]?W[O].p(Y,q):(W[O]=rs(Y),W[O].c(),W[O].m(d,null))}for(;O<W.length;O+=1)W[O].d(1);W.length=j.length}q[0]&268697600&&et(d,R[18]),K===(K=X(R))&&$?$.p(R,q):($.d(1),$=K(R),$&&($.c(),$.m(w,null))),q[0]&269352960&&P!==(P=!R[17]||!R[18]||R[19].length===0)&&(M.disabled=P)},i:fe,o:fe,d(R){R&&J(e),Ye(U,R),Ye(W,R),$.d(),L=!1,$e(A)}}}function ss(n){let e,t=n[161]+"",i,s;return{c(){e=b("option"),i=V(t),e.__value=s=n[161],Ie(e,e.__value)},m(r,o){Q(r,e,o),u(e,i)},p(r,o){o[0]&268435456&&t!==(t=r[161]+"")&&ne(i,t),o[0]&268435456&&s!==(s=r[161])&&(e.__value=s,Ie(e,e.__value))},d(r){r&&J(e)}}}function rs(n){let e,t=n[161]+"",i,s;return{c(){e=b("option"),i=V(t),e.__value=s=n[161],Ie(e,e.__value)},m(r,o){Q(r,e,o),u(e,i)},p(r,o){o[0]&268435456&&t!==(t=r[161]+"")&&ne(i,t),o[0]&268435456&&s!==(s=r[161])&&(e.__value=s,Ie(e,e.__value))},d(r){r&&J(e)}}}function td(n){let e;return{c(){e=b("p"),e.textContent="No edge types defined. Create edge types first.",y(e,"class","text-sm text-[var(--text-muted)] italic")},m(t,i){Q(t,e,i)},p:fe,d(t){t&&J(e)}}}function nd(n){let e,t=ke(n[29]),i=[];for(let s=0;s<t.length;s+=1)i[s]=os(ri(n,t,s));return{c(){e=b("div");for(let s=0;s<i.length;s+=1)i[s].c();y(e,"class","grid grid-cols-2 md:grid-cols-3 gap-2")},m(s,r){Q(s,e,r);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(e,null)},p(s,r){if(r[0]&537395200|r[1]&4194304){t=ke(s[29]);let o;for(o=0;o<t.length;o+=1){const a=ri(s,t,o);i[o]?i[o].p(a,r):(i[o]=os(a),i[o].c(),i[o].m(e,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=t.length}},d(s){s&&J(e),Ye(i,s)}}}function os(n){let e,t,i,s,r,o=n[158]+"",a,l,c,p;function g(){return n[138](n[158])}return{c(){e=b("label"),t=b("input"),s=k(),r=b("span"),a=V(o),l=k(),y(t,"type","checkbox"),t.checked=i=n[19].includes(n[158]),y(t,"class","rounded border-[var(--background-modifier-border)] text-[var(--interactive-accent)] focus:ring-[var(--interactive-accent)]"),y(r,"class","text-sm text-[var(--text-default)]"),y(e,"class","flex items-center gap-2 p-2 border border-[var(--background-modifier-border)] rounded hover:opacity-90 cursor-pointer transition-colors duration-200")},m(h,m){Q(h,e,m),u(e,t),u(e,s),u(e,r),u(r,a),u(e,l),c||(p=ee(t,"change",g),c=!0)},p(h,m){n=h,m[0]&537395200&&i!==(i=n[19].includes(n[158]))&&(t.checked=i),m[0]&536870912&&o!==(o=n[158]+"")&&ne(a,o)},d(h){h&&J(e),c=!1,p()}}}function id(n){let e,t,i,s,r=n[0].length+"",o,a,l,c=n[0].reduce(ls,0)+"",p,g;return{c(){e=b("div"),t=b("p"),i=V("Found "),s=b("strong"),o=V(r),a=V(" types across "),l=b("strong"),p=V(c),g=V(" files"),y(s,"class","text-[var(--text-default)]"),y(l,"class","text-[var(--text-default)]"),y(t,"class","text-[var(--text-default)] text-center"),y(e,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded-lg p-4 mb-4")},m(h,m){Q(h,e,m),u(e,t),u(t,i),u(t,s),u(s,o),u(t,a),u(t,l),u(l,p),u(t,g)},p(h,m){m[0]&1&&r!==(r=h[0].length+"")&&ne(o,r),m[0]&1&&c!==(c=h[0].reduce(ls,0)+"")&&ne(p,c)},d(h){h&&J(e)}}}function sd(n){let e;return{c(){e=b("div"),e.innerHTML='<p class="mb-2">No typed notes found in your vault.</p> <p>Add a <code class="bg-[var(--background-modifier-border)] px-2 py-1 rounded font-mono text-sm">type</code> property to your frontmatter to get started.</p>',y(e,"class","text-center py-8 text-[var(--text-muted)]")},m(t,i){Q(t,e,i)},p:fe,d(t){t&&J(e)}}}function rd(n){let e;return{c(){e=b("div"),e.innerHTML=`<div class="w-4 h-4 border-2 border-[var(--background-modifier-border)] border-t-[var(--interactive-accent)] rounded-full animate-spin"></div>
                <div class="p-6 text-center">
                    <h2 class="text-xl font-semibold text-red-600 mb-4">Enhanced Sync UI Error</h2>
                    <p class="text-gray-700 mb-4">Failed to load enhanced sync UI: ${i instanceof Error?i.message:String(i)}</p>
                    <button class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600" onclick="this.closest('.modal').dispatchEvent(new Event('close'))">
                        Close
                    </button>
                </div>
            `}}onClose(){var t;const{contentEl:e}=this;this.svelteComponent&&(this.svelteComponent.$destroy(),this.svelteComponent=null),(t=e.parentElement)==null||t.removeClass("enhanced-sync-modal"),e.parentElement&&(e.parentElement.style.padding="",e.parentElement.style.backgroundColor=""),e.empty()}}function Cd(n,e,t,i,s,r,o){try{new Ed(n,e,t,i,s,r,o).open()}catch(a){throw console.error("Failed to open enhanced sync UI:",a),a}}function kd(n){const e={llmDefaults:{openai:{"gpt-5":{desc:"Latest flagship, most capable",recommended:!0},"gpt-4o":{desc:"Previous gen, multimodal",recommended:!1},"gpt-4o-mini":{desc:"Efficient, good performance",recommended:!1}},ollama:{"deepseek-r1:8b":{desc:"Best reasoning with transparent thought chains",recommended:!0},"qwen2.5:7b":{desc:"Excellent entity extraction, 128K context",recommended:!0},"qwq:32b":{desc:"Qwen's dedicated reasoning model",recommended:!1},"llama3.2:11b":{desc:"Latest Llama, strong performance",recommended:!1},"gemma2:9b":{desc:"Google's efficient architecture",recommended:!1},"mistral:7b":{desc:"Fast, reliable baseline",recommended:!1},"phi3:14b":{desc:"Microsoft's capable model",recommended:!1},"llama3.2:3b":{desc:"Lightweight for limited hardware",recommended:!1},"qwen2.5:3b":{desc:"User added",recommended:!1}},google:{"gemini-2.5-pro":{desc:"Latest flagship, maximum capability",recommended:!0},"gemini-2.5-flash":{desc:"Fast, efficient Gemini 2.5",recommended:!1},"gemini-2.0-flash-exp":{desc:"Previous gen experimental",recommended:!1}},anthropic:{"claude-opus-4-1-20250805":{desc:"Most capable, advanced reasoning",recommended:!0},"claude-sonnet-4-20250514":{desc:"Balanced performance and speed",recommended:!1},"claude-3-7-sonnet-latest":{desc:"Previous gen, still capable",recommended:!1},"claude-3-5-haiku-latest":{desc:"Fast, economical",recommended:!1}},venice:{"dolphin-2.9.2-qwen2-72b":{desc:"High-performance dolphin fine-tune of Qwen2",recommended:!0},"mistral-31-24b":{desc:"Powerful Mistral architecture",recommended:!1},"llama-3.2-3b":{desc:"Lightweight Llama model",recommended:!1}},openrouter:{"openai/gpt-5-mini":{desc:"Cost-effective with full structured output support",recommended:!0},"meta-llama/llama-3.1-70b-instruct":{desc:"Open source alternative with verified schema support",recommended:!1},"google/gemini-2.5-flash":{desc:"Google's offering with verified structured outputs",recommended:!1},"qwen/qwen3-235b-a22b":{desc:"Qwen model with verified schema handling",recommended:!1},"deepseek/deepseek-chat-v3.1":{desc:"Recent Deepseek model with structured output",recommended:!1}}},llmSmallDefaults:{openai:{"gpt-5-nano":{desc:"Latest nano model for reranking",recommended:!0},"gpt-4o-mini":{desc:"Previous gen efficient model",recommended:!1},"gpt-5-turbo":{desc:"Fast, cost-effective GPT-5",recommended:!1}},ollama:{"qwen2.5:3b":{desc:"Excellent for structured tasks",recommended:!0},"llama3.2:3b":{desc:"Fast, reliable classifications",recommended:!0},"deepseek-r1:1.5b":{desc:"Ultra-fast, minimal resource use",recommended:!1},"mistral:7b-instruct":{desc:"Larger but very reliable",recommended:!1}},google:{"gemini-2.5-flash-lite":{desc:"Optimized for classification tasks",recommended:!0},"gemini-2.5-flash":{desc:"Fast classification, larger",recommended:!1},"gemini-1.5-flash-8b":{desc:"Previous gen, still efficient",recommended:!1}},anthropic:{"claude-4-haiku":{desc:"Fast, efficient for reranking",recommended:!0},"claude-3-5-haiku-20241022":{desc:"Previous gen, economical",recommended:!1}},venice:{"llama-3.2-3b":{desc:"Fast, efficient for classification tasks",recommended:!0},"mistral-31-24b":{desc:"Larger but very capable",recommended:!1}},openrouter:{"openai/gpt-5-mini":{desc:"Cost-effective with verified structured output support",recommended:!0},"google/gemini-2.5-flash":{desc:"Fast classification with verified structured outputs",recommended:!1},"meta-llama/llama-3.1-70b-instruct":{desc:"Open source alternative with verified schema support",recommended:!1}}},embeddingDefaults:{openai:{"text-embedding-3-small":{desc:"Efficient, good quality",dimensions:1536,recommended:!0},"text-embedding-3-large":{desc:"Highest quality, larger vectors",dimensions:3072,recommended:!1},"text-embedding-ada-002":{desc:"Legacy model, still supported",dimensions:1536,recommended:!1}},ollama:{"nomic-embed-text:latest":{desc:"Best for markdown & mixed content",dimensions:768,recommended:!0},"mxbai-embed-large":{desc:"Highest quality embeddings",dimensions:1024,recommended:!1},"snowflake-arctic-embed":{desc:"Strong retrieval performance",dimensions:1024,recommended:!1},"all-minilm":{desc:"Smallest, fastest, limited quality",dimensions:384,recommended:!1},"e5-mistral-7b":{desc:"LLM-based embeddings, highest quality",dimensions:4096,recommended:!1}},google:{"text-embedding-005":{desc:"Latest Gemini 2.5 era embeddings",dimensions:768,recommended:!0},"text-embedding-004":{desc:"Previous gen, proven performance",dimensions:768,recommended:!1},"text-multilingual-embedding-002":{desc:"Best for multiple languages",dimensions:768,recommended:!1}},voyage:{"voyage-3":{desc:"Latest generation, best quality",dimensions:1024,recommended:!0},"voyage-3-lite":{desc:"Efficient, good performance",dimensions:512,recommended:!1},"voyage-large-2-instruct":{desc:"Instruction-optimized",dimensions:1024,recommended:!1},"voyage-code-2":{desc:"Optimized for code search",dimensions:1536,recommended:!1},"voyage-finance-2":{desc:"Financial domain specialist",dimensions:1024,recommended:!1},"voyage-law-2":{desc:"Legal domain specialist",dimensions:1024,recommended:!1},"voyage-multilingual-2":{desc:"Cross-lingual retrieval",dimensions:1024,recommended:!1}}},llmCrossEncoderDefaults:{openai:{"gpt-5-nano":{desc:"Latest nano model for reranking",recommended:!0},"gpt-4.1-nano":{desc:"Previous gen efficient model",recommended:!1},"gpt-3.5-turbo":{desc:"Legacy, very fast",recommended:!1}},gemini:{"gemini-2.5-flash-lite-preview-06-17":{desc:"Optimized for classification tasks",recommended:!0},"gemini-1.5-flash-8b":{desc:"Previous gen, still efficient",recommended:!1}}}};if(n!=null&&n.openrouterPresetSlug){const t=`@preset/${n.openrouterPresetSlug}`;e.llmDefaults.openrouter[t]={desc:"Models controlled by OpenRouter Preset",recommended:!0},e.llmSmallDefaults.openrouter[t]={desc:"Models controlled by OpenRouter Preset",recommended:!0}}return e}class Dd{constructor(e,t){this.suggestEl=null,this.app=e,this.inputEl=t,this.selectedItem=-1,this.suggestions=[],this.inputEl.addEventListener("input",this.onInputChanged.bind(this)),this.inputEl.addEventListener("focus",this.onInputChanged.bind(this)),this.inputEl.addEventListener("blur",this.close.bind(this)),this.inputEl.addEventListener("keydown",this.onInputKeydown.bind(this))}onInputChanged(){const e=this.inputEl.value,t=this.getSuggestions(e);if(!t||t.length===0){this.close();return}this.suggestions=t,this.selectedItem=-1,this.open(t)}onInputKeydown(e){const t=e;!this.suggestEl||this.suggestions.length===0||(t.key==="ArrowDown"?(this.selectedItem=Math.min(this.selectedItem+1,this.suggestions.length-1),this.setSelectedItem(this.selectedItem),e.preventDefault()):t.key==="ArrowUp"?(this.selectedItem=Math.max(this.selectedItem-1,-1),this.setSelectedItem(this.selectedItem),e.preventDefault()):t.key==="Enter"?this.selectedItem>=0&&(this.selectSuggestion(this.suggestions[this.selectedItem]),e.preventDefault()):t.key==="Escape"&&(this.close(),e.preventDefault()))}open(e){if(this.close(),e.length===0)return;this.suggestEl=document.createElement("div"),this.suggestEl.classList.add("suggestion-container"),this.suggestEl.style.cssText=`
            position: absolute;
            z-index: 1000;
            background: var(--background-primary);
            border: 1px solid var(--background-modifier-border);
            border-radius: 8px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
            max-height: 200px;
            overflow-y: auto;
            min-width: 200px;
        `;const t=this.inputEl.getBoundingClientRect();this.suggestEl.style.top=`${t.bottom+4}px`,this.suggestEl.style.left=`${t.left}px`,this.suggestEl.style.width=`${t.width}px`,e.forEach((i,s)=>{var o;const r=document.createElement("div");r.classList.add("suggestion-item"),r.style.cssText=`
                padding: 8px 12px;
                cursor: pointer;
                border-bottom: 1px solid var(--background-modifier-border-hover);
            `,this.renderSuggestion(i,r),r.addEventListener("mousedown",a=>{a.preventDefault(),this.selectSuggestion(i)}),r.addEventListener("click",a=>{a.preventDefault(),this.selectSuggestion(i)}),r.addEventListener("mouseenter",()=>{this.setSelectedItem(s)}),(o=this.suggestEl)==null||o.appendChild(r)}),document.body.appendChild(this.suggestEl)}setSelectedItem(e){var i;const t=(i=this.suggestEl)==null?void 0:i.querySelectorAll(".suggestion-item");t&&(t.forEach((s,r)=>{r===e?(s.classList.add("is-selected"),s.style.background="var(--background-modifier-hover)"):(s.classList.remove("is-selected"),s.style.background="")}),this.selectedItem=e)}close(){this.suggestEl&&(this.suggestEl.remove(),this.suggestEl=null),this.selectedItem=-1}}class Wt extends Dd{constructor(e,t){super(e,t)}getSuggestions(e){const t=this.app.vault.getAllLoadedFiles(),i=[],s=e.toLowerCase();return t.forEach(r=>{r instanceof C.TFolder&&r.path.toLowerCase().contains(s)&&i.push(r)}),i.slice(0,1e3)}renderSuggestion(e,t){t.setText(e.path)}selectSuggestion(e){this.inputEl.value=e.path;const t=new Event("input",{bubbles:!0}),i=new Event("change",{bubbles:!0});this.inputEl.dispatchEvent(t),this.inputEl.dispatchEvent(i),this.close()}}const ot=mo.promisify(at.exec);class Ct{static getInstance(){return Ct.instance||(Ct.instance=new Ct),Ct.instance}async getMCPServerProcesses(){const e=process.platform;try{return e==="win32"?await this.getWindowsProcesses():e==="darwin"?await this.getMacProcesses():await this.getLinuxProcesses()}catch(t){return console.error("[PROCESS-DETECTION] Failed to get MCP server processes:",t),[]}}async getWindowsProcesses(){var e;try{const t=`wmic process where "name='python.exe' and commandline like '%megamem_mcp_server.py%'" get ProcessId,ParentProcessId,CreationDate,CommandLine /format:list`,{stdout:i}=await ot(t,{shell:"cmd.exe",windowsHide:!0,encoding:"utf8"}),s=[],r=i.split(/(\r\r\n){2,}/).filter(o=>o.trim()&&!o.match(/^(\r\r\n)+$/));for(const o of r){const a={};if(o.split(/\r\r\n/).forEach(l=>{const c=l.indexOf("=");if(c>0){const p=l.substring(0,c).trim(),g=l.substring(c+1).trim();p&&g&&(a[p]=g)}}),a.ProcessId&&a.ParentProcessId&&((e=a.CommandLine)!=null&&e.includes("megamem_mcp_server.py"))){const l=await this.getWindowsParentProcessName(a.ParentProcessId),c=this.formatWindowsDate(a.CreationDate);s.push({pid:a.ProcessId,parentName:l,createdAt:c,commandLine:a.CommandLine})}}return s}catch(t){return console.error("[PROCESS-DETECTION] Windows process detection failed:",t),[]}}async getWindowsParentProcessName(e){try{const t=`wmic process where "ProcessId=${e}" get Name /value`,{stdout:i}=await ot(t,{shell:"cmd.exe",windowsHide:!0,encoding:"utf8"}),s=i.split(/\r?\n/);for(const r of s){const o=r.indexOf("=");if(o>0){const a=r.substring(0,o).trim(),l=r.substring(o+1).trim();if(a==="Name"&&l)return l.replace(".exe","")}}return"Unknown"}catch{return"Unknown"}}formatWindowsDate(e){if(!e||e.length<14)return"Unknown";try{const t=e.substring(0,4),i=e.substring(4,6),s=e.substring(6,8),r=e.substring(8,10),o=e.substring(10,12),a=e.substring(12,14);return new Date(`${t}-${i}-${s}T${r}:${o}:${a}`).toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}catch{return e}}async getMacProcesses(){try{const e="ps aux | grep megamem_mcp_server.py | grep -v grep",{stdout:t}=await ot(e),i=t.split(`
`).filter(r=>r.trim()),s=[];for(const r of i){const o=r.trim().split(/\s+/);if(o.length>=11){const a=o[1],l=await this.getMacParentInfo(a);s.push({pid:a,parentName:l.name,createdAt:l.startTime,commandLine:o.slice(10).join(" ")})}}return s}catch(e){return console.error("[PROCESS-DETECTION] Mac process detection failed:",e),[]}}async getMacParentInfo(e){try{const{stdout:t}=await ot(`ps -p ${e} -o ppid=,lstart=`),s=t.trim().split(/\s+/);if(s.length>=6){const r=s[0],o=s.slice(1).join(" "),{stdout:a}=await ot(`ps -p ${r} -o comm=`);return{name:a.trim().replace(/^.*\//,"")||"Unknown",startTime:new Date(o).toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}}return{name:"Unknown",startTime:"Unknown"}}catch{return{name:"Unknown",startTime:"Unknown"}}}async getLinuxProcesses(){try{const e="ps aux | grep megamem_mcp_server.py | grep -v grep",{stdout:t}=await ot(e),i=t.split(`
`).filter(r=>r.trim()),s=[];for(const r of i){const o=r.trim().split(/\s+/);if(o.length>=11){const a=o[1],l=await this.getLinuxParentInfo(a);s.push({pid:a,parentName:l.name,createdAt:l.startTime,commandLine:o.slice(10).join(" ")})}}return s}catch(e){return console.error("[PROCESS-DETECTION] Linux process detection failed:",e),[]}}async getLinuxParentInfo(e){try{const{stdout:t}=await ot(`ps -p ${e} -o ppid=,lstart=`),s=t.trim().split(/\s+/);if(s.length>=6){const r=s[0],o=s.slice(1).join(" "),{stdout:a}=await ot(`ps -p ${r} -o comm=`);return{name:a.trim()||"Unknown",startTime:new Date(o).toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}}return{name:"Unknown",startTime:"Unknown"}}catch{return{name:"Unknown",startTime:"Unknown"}}}}const Pd=process.platform==="win32"||navigator.userAgent.includes("Windows");class Td{constructor(e="http://localhost:11434",t){this.downloadCallbacks=new Map,this.modelCache={models:[],timestamp:0,ttl:3e4},this.pendingModelRequest=null,this.baseUrl=e.replace(/\/$/,""),this.logger=t}async isServerRunning(){try{return(await C.requestUrl({url:`${this.baseUrl}/api/version`,method:"GET",headers:{"Content-Type":"application/json"}})).status===200}catch(e){if(this.logger.debug("[OLLAMA] Server not running, attempting recovery",{error:e}),await this.attemptServiceRecovery()){await new Promise(i=>setTimeout(i,2e3));try{if((await C.requestUrl({url:`${this.baseUrl}/api/version`,method:"GET",headers:{"Content-Type":"application/json"}})).status===200)return this.logger.info("[OLLAMA] Service recovery successful"),!0}catch(i){this.logger.debug("[OLLAMA] Retry after service recovery failed",{retryError:i})}}return!1}}async getAvailableModels(e=!1){const t=Date.now();if(!e&&this.modelCache.models.length>0&&t-this.modelCache.timestamp<this.modelCache.ttl)return this.modelCache.models;if(this.pendingModelRequest&&!e)return this.pendingModelRequest;this.pendingModelRequest=this._fetchModelsFromServer();try{return await this.pendingModelRequest}finally{this.pendingModelRequest=null}}async _fetchModelsFromServer(){const e=Date.now();try{const t=await C.requestUrl({url:`${this.baseUrl}/api/tags`,method:"GET",headers:{"Content-Type":"application/json"}});if(t.status!==200)throw new Error(`Failed to fetch models: ${t.status}`);const r=(t.json.models||[]).map(o=>o.name);return this.logger.debug("[OLLAMA] Fetched fresh model list from server",{rawCount:r.length,normalizedCount:r.length,serverUrl:this.baseUrl}),this.modelCache={models:r,timestamp:e,ttl:this.modelCache.ttl},r}catch{if(await this.attemptServiceRecovery()){await new Promise(s=>setTimeout(s,2e3));try{const s=await C.requestUrl({url:`${this.baseUrl}/api/tags`,method:"GET",headers:{"Content-Type":"application/json"}});if(s.status===200){const a=(s.json.models||[]).map(l=>l.name);return this.modelCache={models:a,timestamp:e,ttl:this.modelCache.ttl},a}}catch{}}return[]}}async getEmbeddingModelsWithStatus(e,t=!1){const i=await this.getAvailableModels(t),r=(Array.isArray(e)&&e.length>0?e:[...i]).map(a=>{const l=i.includes(a);return{name:a,available:l}}),o=r.find(a=>a.name==="nomic-embed-text"||a.name.startsWith("nomic-embed-text:"));return o&&this.logger.info(`[OLLAMA] nomic-embed-text availability: ${o.available}`),r}async downloadModel(e,t){var i;try{t&&this.downloadCallbacks.set(e,t);const s=await fetch(`${this.baseUrl}/api/pull`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e})});if(!s.ok)throw new Error(`Download request failed: ${s.status}`);const r=(i=s.body)==null?void 0:i.getReader();if(!r)throw new Error("No response body reader available");let o=!1,a=!1;for(;!o;){const{done:l,value:c}=await r.read();if(l){o=!0;break}const g=new TextDecoder().decode(c).split(`
`).filter(h=>h.trim());for(const h of g)try{const m=JSON.parse(h);if(t&&t(m),m.error)throw this.logger.error("[OLLAMA] Download error detected",{error:m.error,modelName:e}),a=!0,new Error(`Download failed: ${m.error}`);m.status==="success"&&(o=!0)}catch(m){if(m instanceof Error&&m.message.includes("Download failed:"))throw m;this.logger.debug("[OLLAMA] Non-JSON progress line",{line:h})}}return this.downloadCallbacks.delete(e),a?(this.logger.error(`[OLLAMA] Model ${e} download failed due to detected errors`),!1):(this.logger.info(`[OLLAMA] Model ${e} downloaded successfully`),!0)}catch(s){return this.logger.error("[OLLAMA] Failed to download model",{modelName:e,error:s}),this.downloadCallbacks.delete(e),t&&t({status:`error: ${s instanceof Error?s.message:"Unknown error"}`}),!1}}clearModelCache(){this.modelCache={models:[],timestamp:0,ttl:this.modelCache.ttl}}async isModelAvailable(e){return(await this.getAvailableModels()).includes(e)}async _pollForModelAvailability(e,t=3e4,i=2e3){const s=Date.now(),r=e;for(;Date.now()-s<t;){if(await this.isModelAvailable(r))return this.logger.info(`[OLLAMA] Model ${r} is now available.`),!0;await new Promise(a=>setTimeout(a,i))}return this.logger.warn(`[OLLAMA] Model ${r} did not become available within timeout.`),!1}async isModelInstalled(e){return await this.isModelAvailable(e)}async downloadModelWithProgress(e,t){const i=await this.downloadModel(e,t);return i&&(this.clearModelCache(),await this._pollForModelAvailability(e,3e4,2e3)?t({status:"Model is now available for use"}):this.logger.warn(`[OLLAMA] Model ${e} downloaded but not showing as available`)),i}async checkServerStatus(){if(!await this.isServerRunning())return{running:!1};try{return{running:!0,modelCount:(await this.getAvailableModels()).length}}catch{return{running:!0}}}async startService(){return await this.isServerRunning()?{success:!0,message:"Ollama service is already running"}:await this.attemptServiceRecovery()?(await new Promise(s=>setTimeout(s,3e3)),await this.isServerRunning()?{success:!0,message:"Ollama service started successfully"}:{success:!1,message:"Service recovery attempted but Ollama is not responding"}):{success:!1,message:"Service recovery not available on this platform"}}async attemptServiceRecovery(){if(!Pd)return this.logger.debug("[OLLAMA] Service recovery not applicable on non-Windows platform"),!1;try{this.logger.info("[OLLAMA] Attempting Windows service recovery using PowerShell Start-Service");const{exec:e}=require("child_process");return new Promise(t=>{e('powershell.exe "Start-Service -Name ollama -ErrorAction SilentlyContinue"',{timeout:1e4},(s,r,o)=>{s?(this.logger.debug("[OLLAMA] PowerShell service start failed",{error:s.message,stderr:o}),e('powershell.exe "Start-Service -Name OllamaService -ErrorAction SilentlyContinue"',{timeout:1e4},l=>{l?this.logger.debug("[OLLAMA] Alternative service name also failed",{altError:l.message}):this.logger.info("[OLLAMA] Alternative service recovery command executed"),t(!0)})):(this.logger.info("[OLLAMA] Service recovery command executed successfully",{stdout:r.trim()}),t(!0))})})}catch(e){return this.logger.error("[OLLAMA] Service recovery attempt failed",{error:e}),!1}}}class Md{constructor(e,t){this.ollamaService=null,this.app=e,this.plugin=t}getOllamaService(){if(!this.ollamaService){let e=this.plugin.settings.ollamaBaseUrl||"http://localhost:11434";e=e.replace(/\/v1\/?$/,""),this.ollamaService=new Td(e,this.plugin.logger)}return this.ollamaService}getOllamaLLMModelsFromSettings(){var e,t,i;try{const s=((e=this.plugin.settings.llmDefaults)==null?void 0:e.ollama)||{},r=Object.entries(s).map(([o,a])=>({name:o,description:a&&a.desc||"",recommended:!!(a&&a.recommended)}));return r.sort((o,a)=>Number(a.recommended)-Number(o.recommended)||o.name.localeCompare(a.name)),(t=this.plugin.logger)==null||t.debug("[OLLAMA-SETTINGS] Loaded Ollama LLM models from plugin.settings",{count:r.length}),r}catch(s){return(i=this.plugin.logger)==null||i.warn("[OLLAMA-SETTINGS] Failed to load Ollama LLM defaults from settings",{error:s}),[]}}getOllamaLLMSmallModelsFromSettings(){var e,t,i;try{const s=((e=this.plugin.settings.llmSmallDefaults)==null?void 0:e.ollama)||{},r=Object.entries(s).map(([o,a])=>({name:o,description:a&&a.desc||"",recommended:!!(a&&a.recommended)}));return r.sort((o,a)=>Number(a.recommended)-Number(o.recommended)||o.name.localeCompare(a.name)),(t=this.plugin.logger)==null||t.debug("[OLLAMA-SETTINGS] Loaded Ollama LLM Small models from plugin.settings",{count:r.length}),r}catch(s){return(i=this.plugin.logger)==null||i.warn("[OLLAMA-SETTINGS] Failed to load Ollama LLM Small defaults from settings",{error:s}),[]}}getOllamaEmbeddingModelsFromSettings(){var e,t,i;try{const s=((e=this.plugin.settings.embeddingDefaults)==null?void 0:e.ollama)||{},r=Object.entries(s).map(([o,a])=>({name:o,description:a&&a.desc||"",dimensions:a&&a.dimensions||void 0,recommended:!!(a&&a.recommended)}));return r.sort((o,a)=>Number(a.recommended)-Number(o.recommended)||o.name.localeCompare(a.name)),(t=this.plugin.logger)==null||t.debug("[OLLAMA-SETTINGS] Loaded Ollama embedding models from plugin.settings",{count:r.length}),r}catch(s){return(i=this.plugin.logger)==null||i.warn("[OLLAMA-SETTINGS] Failed to load Ollama embedding defaults from settings",{error:s}),[]}}getOllamaEmbeddingModelNamesFromSettings(){var e;try{return Object.keys(((e=this.plugin.settings.embeddingDefaults)==null?void 0:e.ollama)||{})}catch{return[]}}async addCustomOllamaLLMToDefaults(e){var t,i;try{this.plugin.settings.llmDefaults||(this.plugin.settings.llmDefaults={}),this.plugin.settings.llmDefaults.ollama||(this.plugin.settings.llmDefaults.ollama={}),this.plugin.settings.llmDefaults.ollama[e]||(this.plugin.settings.llmDefaults.ollama[e]={desc:"User added",recommended:!1},await this.plugin.saveSettings(),(t=this.plugin.logger)==null||t.info("[OLLAMA-SETTINGS] Added custom Ollama LLM to defaults",{modelName:e}))}catch(s){(i=this.plugin.logger)==null||i.error("[OLLAMA-SETTINGS] Failed to add custom Ollama LLM to defaults",{modelName:e,error:s})}}async addCustomOllamaEmbeddingToDefaults(e){var t,i;try{this.plugin.settings.embeddingDefaults||(this.plugin.settings.embeddingDefaults={}),this.plugin.settings.embeddingDefaults.ollama||(this.plugin.settings.embeddingDefaults.ollama={}),this.plugin.settings.embeddingDefaults.ollama[e]||(this.plugin.settings.embeddingDefaults.ollama[e]={desc:"User added",dimensions:this.plugin.settings.ollamaEmbeddingDim||768,recommended:!1},await this.plugin.saveSettings(),(t=this.plugin.logger)==null||t.info("[OLLAMA-SETTINGS] Added custom Ollama embedding to defaults",{modelName:e}))}catch(s){(i=this.plugin.logger)==null||i.error("[OLLAMA-SETTINGS] Failed to add custom Ollama embedding to defaults",{modelName:e,error:s})}}async isOllamaModelInstalled(e){var t;try{return await this.getOllamaService().isModelInstalled(e)}catch(i){return(t=this.plugin.logger)==null||t.error("[OLLAMA-SETTINGS] Failed to check Ollama model installation",{modelName:e,error:i}),!1}}async downloadOllamaModelWithProgress(e,t){var l;const i=this.getOllamaService();t.empty();const s=t.createDiv();s.createEl("div",{text:`[DOWNLOADING] ${e}...`});const r=s.createEl("div");r.style.cssText=`
			width: 100%;
			height: 6px;
			background-color: var(--background-modifier-border);
			border-radius: 3px;
			margin: 4px 0;
			overflow: hidden;
		`;const o=r.createEl("div");o.style.cssText=`
			height: 100%;
			background-color: var(--color-accent);
			transition: width 0.3s ease;
			width: 0%;
		`;const a=s.createEl("div");a.style.cssText=`
			font-size: 0.8em;
			color: var(--text-muted);
			margin-top: 2px;
		`;try{const c=await i.downloadModelWithProgress(e,p=>{const g=Math.round((p.completed||0)/(p.total||1)*100)||0;o.style.width=`${g}%`,a.textContent=`${g}% - ${p.status||"Downloading..."}`});t.empty(),c?(t.createDiv().createEl("div",{text:`[SUCCESS] ${e} installed successfully!`,attr:{style:"color: var(--color-green);"}}),setTimeout(()=>t.empty(),3e3)):t.createEl("div",{text:"[ERROR] Download failed",attr:{style:"color: var(--color-red);"}})}catch(c){(l=this.plugin.logger)==null||l.error("[OLLAMA-SETTINGS] Ollama model download failed",{error:c}),t.empty();const p=c instanceof Error?c.message:"Unknown error";t.createEl("div",{text:`[ERROR] Download failed: ${p}`,attr:{style:"color: var(--color-red);"}})}}async populateOllamaModelsWithStatus(e){var i;const t=this.getOllamaService();try{if(!await t.isServerRunning()){e.addOption("","[Ollama server not running]");return}const r=this.getOllamaEmbeddingModelNamesFromSettings();(await t.getEmbeddingModelsWithStatus(r)).forEach(a=>{const l=a.name;e.addOption(a.name,l)})}catch(s){(i=this.plugin.logger)==null||i.error("[OLLAMA-SETTINGS] Failed to load Ollama models with status",{error:s}),e.addOption("","[Error loading models]")}}async handleOllamaModelSelection(e,t){var i;if(e)try{await this.getOllamaService().isModelAvailable(e)?t.empty():confirm(`Model "${e}" is not installed.

Would you like to download it now?`)&&await this.downloadOllamaModelWithProgress(e,t)}catch(s){(i=this.plugin.logger)==null||i.error("[OLLAMA-SETTINGS] Error handling Ollama model selection",{error:s}),t.empty(),t.createEl("div",{text:"[ERROR] Failed to check model availability",attr:{style:"color: var(--color-red);"}})}}async updateModelStatusIconForDropdown(e,t,i){var s;if(i)try{e.innerHTML="";const r=await this.isOllamaModelInstalled(i),o=e.createDiv();o.style.cssText="display:inline-flex; align-items:center; gap:6px; font-size:0.9em; padding:4px 6px; border-radius:4px;";const a=o.createSpan();C.setIcon(a,r?"check-circle":"download"),a.style.color=r?"var(--color-green)":"var(--color-orange)",a.style.cursor=r?"default":"pointer";const l=o.createSpan();if(l.textContent=r?"Available":"Not installed",l.style.color=r?"var(--color-green)":"var(--color-orange)",!r){const c=async p=>{var g;p.stopPropagation(),p.preventDefault();try{if(!confirm('[CONFIRM] Model "'+i+'" is not installed.\\n\\nWould you like to download it now?'))return;await this.downloadOllamaModelWithProgress(i,e),setTimeout(async()=>{await this.updateModelStatusIconForDropdown(e,t,i)},800),await this.isOllamaModelInstalled(i)&&(t==="embedding"?await this.addCustomOllamaEmbeddingToDefaults(i):await this.addCustomOllamaLLMToDefaults(i))}catch(h){(g=this.plugin.logger)==null||g.error("[OLLAMA-SETTINGS] download handler failed",{modelName:i,err:h}),new C.Notice("[ERROR] Failed to download model")}};a.addEventListener("click",c),l.addEventListener("click",c)}}catch(r){(s=this.plugin.logger)==null||s.error(`[OLLAMA-SETTINGS] Failed to update status icon for ${i}`,{error:r})}}async refreshOllamaStatus(e,t){var i,s,r;try{(i=this.plugin.logger)==null||i.debug("[OLLAMA-SETTINGS] Checking Ollama installation status"),e.innerHTML="",e.style.backgroundColor="";const a=await this.getOllamaService().checkServerStatus();if(a.running){const l=a.modelCount||0;e.style.backgroundColor="var(--color-green-bg)",e.style.color="var(--color-green)",e.innerHTML=`
					<div style="display: flex; align-items: center; gap: 6px;">
						<span>[INSTALLED]</span>
						<span>Ollama is running with ${l} model(s)</span>
					</div>
					<div style="font-size: 0.8em; margin-top: 4px; opacity: 0.8;">
						Server available at ${this.plugin.settings.ollamaBaseUrl||"http://localhost:11434"}
					</div>
				`,t.textContent="Upgrade Ollama",t.style.backgroundColor="var(--interactive-accent)",(s=this.plugin.logger)==null||s.debug("[OLLAMA-SETTINGS] Installation detected successfully",{modelCount:l})}else{e.style.backgroundColor="var(--color-orange-bg)",e.style.color="var(--color-orange)",e.innerHTML=`
					<div style="display: flex; align-items: center; gap: 6px;">
						<span>[NOT RUNNING]</span>
						<span>Ollama is not running or not installed</span>
					</div>
					<div style="font-size: 0.8em; margin-top: 4px; opacity: 0.8;">
						Try starting the service or install Ollama if not present
					</div>
				`;const l=e.createDiv();l.style.cssText="margin-top: 8px; display: flex; gap: 8px; align-items: center;";const c=l.createEl("button",{text:"Start Service",cls:"mod-cta"});c.style.fontSize="0.8em",c.style.padding="4px 8px",c.onclick=async()=>{await this.startOllamaService(e,t)},t.textContent="Install/Reinstall Ollama",t.style.backgroundColor="var(--color-orange)"}}catch(o){(r=this.plugin.logger)==null||r.debug("[OLLAMA-SETTINGS] Status check failed",{error:o}),e.style.backgroundColor="var(--color-red-bg)",e.style.color="var(--color-red)",e.innerHTML=`
				<div style="display: flex; align-items: center; gap: 6px;">
					<span>[ERROR]</span>
					<span>Unable to check Ollama status</span>
				</div>
				<div style="font-size: 0.8em; margin-top: 4px; opacity: 0.8;">
					Check installation or network connection
				</div>
			`,t.textContent="Install Ollama",t.style.backgroundColor="var(--interactive-accent)"}}async startOllamaService(e,t){var i,s;try{(i=this.plugin.logger)==null||i.debug("[OLLAMA-SETTINGS] Attempting to start Ollama service");const r=e.createDiv();r.style.cssText=`
				margin-top: 8px;
				padding: 6px;
				background: var(--color-blue-bg);
				color: var(--color-blue);
				border-radius: 4px;
				font-size: 0.8em;
			`,r.textContent="[STARTING] Attempting to start Ollama service...";const a=await this.getOllamaService().startService();if(r.remove(),a.success)await new Promise(l=>setTimeout(l,2e3)),await this.refreshOllamaStatus(e,t),new C.Notice("[SUCCESS] Ollama service started successfully");else{const l=e.createDiv();l.style.cssText=`
					margin-top: 8px;
					padding: 6px;
					background: var(--color-red-bg);
					color: var(--color-red);
					border-radius: 4px;
					font-size: 0.8em;
				`,l.innerHTML=`
					<div>[FAILED] Could not start Ollama service</div>
					<div style="margin-top: 4px; opacity: 0.8;">${a.message||"Try restarting your computer or reinstalling Ollama"}</div>
				`,new C.Notice(`[ERROR] Failed to start Ollama service - ${a.message||"try restarting your computer"}`)}}catch(r){(s=this.plugin.logger)==null||s.error("[OLLAMA-SETTINGS] Service recovery failed",{error:r}),new C.Notice("[ERROR] Failed to start Ollama service - operation failed")}}async handleOllamaInstallation(){var e,t;try{(e=this.plugin.logger)==null||e.debug("[OLLAMA-SETTINGS] Opening Ollama installation page");const{shell:i}=require("electron");await i.openExternal("https://ollama.com/download"),new C.Notice("[INFO] Ollama website opened - Download and install, then restart this app",8e3),this.showOllamaInstallationModal()}catch(i){(t=this.plugin.logger)==null||t.error("[OLLAMA-SETTINGS] Failed to open installation page",{error:i}),new C.Notice("[ERROR] Could not open Ollama website - please visit https://ollama.com/download manually")}}showOllamaInstallationModal(){const e=document.createElement("div");e.style.cssText=`
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: rgba(0, 0, 0, 0.8);
			display: flex;
			align-items: center;
			justify-content: center;
			z-index: 1000;
		`;const t=document.createElement("div");t.style.cssText=`
			background: var(--background-primary);
			border: 1px solid var(--background-modifier-border);
			border-radius: 8px;
			padding: 24px;
			max-width: 500px;
			width: 90%;
			max-height: 80%;
			overflow: auto;
		`,t.innerHTML=`
			<h3 style="margin: 0 0 16px 0; color: var(--text-accent);">Ollama Installation Instructions</h3>

			<div style="margin-bottom: 16px;">
				<h4 style="margin: 0 0 8px 0;">Step 1: Download Ollama</h4>
				<p style="margin: 0 0 8px 0; font-size: 0.9em; color: var(--text-muted);">
					The Ollama website should now be open in your browser. Download the installer for your operating system.
				</p>
			</div>

			<div style="margin-bottom: 16px;">
				<h4 style="margin: 0 0 8px 0;">Step 2: Install and Restart</h4>
				<p style="margin: 0 0 8px 0; font-size: 0.9em; color: var(--text-muted);">
					Run the installer and follow the prompts. After installation, restart Obsidian completely.
				</p>
			</div>

			<div style="margin-bottom: 16px;">
				<h4 style="margin: 0 0 8px 0;">Step 3: Verify Installation</h4>
				<p style="margin: 0 0 8px 0; font-size: 0.9em; color: var(--text-muted);">
					Return to this settings page and click "Refresh Status" to verify Ollama is running.
				</p>
			</div>

			<div style="background: var(--background-secondary); padding: 12px; border-radius: 6px; margin-bottom: 16px;">
				<p style="margin: 0; font-size: 0.85em; color: var(--text-muted);">
					<strong>Note:</strong> Ollama runs completely on your local machine. No data is sent to external servers, ensuring full privacy for your AI interactions.
				</p>
			</div>

			<div style="display: flex; gap: 12px; justify-content: flex-end;">
				<button id="ollama-modal-close" style="padding: 8px 16px; border: 1px solid var(--background-modifier-border); background: var(--background-primary); border-radius: 4px; cursor: pointer;">
					Close
				</button>
			</div>
		`,e.appendChild(t);const i=t.querySelector("#ollama-modal-close");i.onclick=()=>document.body.removeChild(e),e.onclick=s=>{s.target===e&&document.body.removeChild(e)},document.body.appendChild(e)}async addCustomLLMModelEntry(e){const t=new C.Setting(e).setName("Custom LLM Model").setDesc("Download any Ollama LLM model by name (e.g., llama3.2:3b, codellama:13b)");let i,s,r;const o=t.settingEl.createDiv();o.style.cssText=`
			margin-top: 8px;
			padding: 8px;
			border-radius: 4px;
			font-size: 0.9em;
			min-height: 20px;
		`,t.addText(a=>{i=a.inputEl,a.setPlaceholder("Enter model name (e.g., llama3.2:3b)").onChange(l=>{const c=!!l.trim();r&&typeof r.setDisabled=="function"?r.setDisabled(!c):s&&(s.disabled=!c)})}),t.addButton(a=>{r=a,s=a.buttonEl,a.setButtonText(" Download").setTooltip("Download this model from Ollama registry").setDisabled(!0).onClick(async()=>{var c,p,g;const l=((i==null?void 0:i.value)||"").trim();if(!l){new C.Notice("[ERROR] Please enter a model name");return}try{(c=this.plugin.logger)==null||c.info("[OLLAMA-SETTINGS] Custom LLM download requested",{modelName:l}),r==null||r.setDisabled(!0),o.empty(),o.createEl("div",{text:`[START] Downloading ${l}...`});const h=this.getOllamaService();if(await h.isModelAvailable(l)){new C.Notice(`[INFO] Model ${l} is already installed`),o.empty(),o.createEl("div",{text:`[INFO] ${l} already available`});return}await this.downloadOllamaModelWithProgress(l,o);try{await h.isModelAvailable(l)&&(await this.addCustomOllamaLLMToDefaults(l),await this.refreshLLMDropdowns(),new C.Notice(`[SUCCESS] ${l} downloaded and added to LLM models.`))}catch(d){(p=this.plugin.logger)==null||p.warn("[OLLAMA-SETTINGS] Post-download availability check failed",{error:d,modelName:l})}i.value="",r==null||r.setDisabled(!0)}catch(h){(g=this.plugin.logger)==null||g.error("[OLLAMA-SETTINGS] Download failed",{error:h,modelName:l});const m=h instanceof Error?h.message:"Unknown error";new C.Notice(`[ERROR] Failed to download ${l}: ${m}`)}finally{const h=!!((i==null?void 0:i.value)||"").trim();r==null||r.setDisabled(!h)}})})}async addCustomEmbeddingModelEntry(e){const t=new C.Setting(e).setName("Custom Embedding Model").setDesc("Download any Ollama embedding model by name (e.g., nomic-embed-text, mxbai-embed-large)");let i,s,r;const o=t.settingEl.createDiv();o.style.cssText=`
			margin-top: 8px;
			padding: 8px;
			border-radius: 4px;
			font-size: 0.9em;
			min-height: 20px;
		`,t.addText(a=>{i=a.inputEl,a.setPlaceholder("Enter embedding model name").onChange(l=>{const c=!!l.trim();r&&typeof r.setDisabled=="function"?r.setDisabled(!c):s&&(s.disabled=!c)})}),t.addButton(a=>{r=a,s=a.buttonEl,a.setButtonText(" Download").setTooltip("Download this embedding model from Ollama registry").setDisabled(!0).onClick(async()=>{var c,p,g;const l=((i==null?void 0:i.value)||"").trim();if(!l){new C.Notice("[ERROR] Please enter a model name");return}try{(c=this.plugin.logger)==null||c.info("[OLLAMA-SETTINGS] Custom embedding download requested",{modelName:l}),r==null||r.setDisabled(!0),o.empty(),o.createEl("div",{text:`[START] Downloading ${l}...`});const h=this.getOllamaService();if(await h.isModelAvailable(l)){new C.Notice(`[INFO] Model ${l} is already installed`),o.empty(),o.createEl("div",{text:`[INFO] ${l} already available`});return}await this.downloadOllamaModelWithProgress(l,o);try{await h.isModelAvailable(l)&&(await this.addCustomOllamaEmbeddingToDefaults(l),await this.refreshEmbeddingDropdowns(),new C.Notice(`[SUCCESS] ${l} downloaded and added to embedding models.`))}catch(d){(p=this.plugin.logger)==null||p.warn("[OLLAMA-SETTINGS] Post-download availability check failed",{error:d,modelName:l})}i.value="",r==null||r.setDisabled(!0)}catch(h){(g=this.plugin.logger)==null||g.error("[OLLAMA-SETTINGS] Download failed",{error:h,modelName:l});const m=h instanceof Error?h.message:"Unknown error";new C.Notice(`[ERROR] Failed to download ${l}: ${m}`)}finally{const h=!!((i==null?void 0:i.value)||"").trim();r==null||r.setDisabled(!h)}})})}async refreshEmbeddingDropdowns(){var e,t;try{await this.getOllamaService().getAvailableModels(!0);const s=document.querySelectorAll("select");for(const r of s){const o=r.closest(".setting-item");if(o){const a=o.querySelector(".setting-item-name");a&&((e=a.textContent)!=null&&e.toLowerCase().includes("embedding"))&&await this.populateOllamaModelsWithStatus(r)}}}catch(i){(t=this.plugin.logger)==null||t.debug("[OLLAMA-SETTINGS] Error refreshing embedding dropdowns",{error:i})}}async refreshLLMDropdowns(){var e,t,i,s;try{await this.getOllamaService().getAvailableModels(!0);const o=document.querySelectorAll("select");for(const a of o){const l=a.closest(".setting-item");if(l){const c=l.querySelector(".setting-item-name");if(c&&((e=c.textContent)!=null&&e.toLowerCase().includes("llm")||(t=c.textContent)!=null&&t.toLowerCase().includes("model"))&&!((i=c.textContent)!=null&&i.toLowerCase().includes("embedding"))){const p=Array.from(a.options),g=a.value;a.innerHTML="",this.getOllamaLLMModelsFromSettings().forEach(m=>{const d=document.createElement("option");d.value=m.name,d.textContent=m.name,a.appendChild(d)}),Array.from(a.options).some(m=>m.value===g)&&(a.value=g)}}}}catch(r){(s=this.plugin.logger)==null||s.debug("[OLLAMA-SETTINGS] Error refreshing LLM dropdowns",{error:r})}}}class Nd{constructor(e,t){this.app=e,this.plugin=t}createStatusIndicator(e){if(!this.plugin.settings.showDevelopmentIndicators)return"";switch(e){case"implemented":return" ";case"mock":return" ";case"todo":return" ";case"partial":return" ";default:return""}}addMCPToolsAccordion(e){var t;try{e.createEl("p",{text:"Configure MCP (Model Context Protocol) tools integration, default note folders, and third-party plugin connections.",cls:"setting-item-description"}),this.addMCPDefaultsSection(e),this.addMCPIntegrationsSection(e),this.addMCPToolDefinitionsSection(e)}catch(i){(t=this.plugin.logger)==null||t.error("Critical error in MCP Tools accordion",{error:i instanceof Error?i.message:String(i),stack:i instanceof Error?i.stack:void 0}),e.createEl("div",{text:`MCP Tools section failed to load: ${i instanceof Error?i.message:"Unknown error"}`,cls:"setting-item-description"})}}addMCPDefaultsSection(e){var t;try{e.createEl("h4",{text:"Defaults",cls:"setting-item-name"}),new C.Setting(e).setName("Default folder for MCP notes"+this.createStatusIndicator("implemented")).setDesc("Default folder where MCP-generated notes will be created. Start typing to see folder suggestions.").addSearch(i=>{var s,r,o;try{new Wt(this.app,i.inputEl),i.setPlaceholder("e.g., MCP Notes, Knowledge/MCP, or leave empty for vault root").setValue(((r=(s=this.plugin.settings.mcpTools)==null?void 0:s.defaults)==null?void 0:r.inboxFolder)||"").onChange(async a=>{var l;try{this.plugin.settings.mcpTools||(this.plugin.settings.mcpTools={defaults:{inboxFolder:"",enableSmartFolderResolution:!0},integrations:{templater:{detected:!1,enabled:!1,useTemplateFolders:!1},periodicNotes:{detected:!1,enabled:!1,usePeriodicFolders:!1}},tools:[]}),this.plugin.settings.mcpTools.defaults||(this.plugin.settings.mcpTools.defaults={inboxFolder:"",enableSmartFolderResolution:!0}),this.plugin.settings.mcpTools.defaults.inboxFolder=a,await this.plugin.saveSettings()}catch(c){(l=this.plugin.logger)==null||l.error("Error saving MCP default folder setting",{error:c})}})}catch(a){(o=this.plugin.logger)==null||o.error("Error setting up folder search input",{error:a})}})}catch(i){(t=this.plugin.logger)==null||t.error("Error in Defaults section",{error:i instanceof Error?i.message:String(i)}),e.createEl("div",{text:"Error loading Defaults section",cls:"setting-item-description"})}}addMCPIntegrationsSection(e){var t,i,s,r,o,a,l,c,p;try{e.createEl("h4",{text:"3rd Party Integrations",cls:"setting-item-name"});try{const g=!!this.app.plugins.plugins["templater-obsidian"],h=((s=(i=(t=this.plugin.settings.mcpTools)==null?void 0:t.integrations)==null?void 0:i.templater)==null?void 0:s.enabled)||!1,m=new C.Setting(e).setName("Templater Plugin Integration"+this.createStatusIndicator("implemented")).setDesc("Integrate with Templater plugin for enhanced note creation"),d=m.nameEl.createSpan({cls:"mcp-status-icon",text:g?" ":" "});d.style.cssText=`
					color: ${g?"var(--color-green)":"var(--color-red)"};
					font-weight: bold;
					margin-right: 4px;
				`,m.addToggle(f=>{f.setValue(h).setDisabled(!g).onChange(async v=>{var w,S;try{this.plugin.settings.mcpTools||(this.plugin.settings.mcpTools={defaults:{inboxFolder:"",enableSmartFolderResolution:!0},integrations:{templater:{detected:!1,enabled:!1,useTemplateFolders:!1},periodicNotes:{detected:!1,enabled:!1,usePeriodicFolders:!1}},tools:[]}),this.plugin.settings.mcpTools.integrations.templater.enabled=v,await this.plugin.saveSettings(),(w=this.plugin.logger)==null||w.debug("Templater integration toggled",{enabled:v})}catch(x){(S=this.plugin.logger)==null||S.error("Failed to save Templater setting",{error:x})}})}),g||m.descEl.appendText(" (Plugin not detected - install Templater to enable this integration)")}catch(g){(r=this.plugin.logger)==null||r.error("Error setting up Templater integration",{error:g})}try{const g=!!this.app.plugins.plugins["periodic-notes"],h=((l=(a=(o=this.plugin.settings.mcpTools)==null?void 0:o.integrations)==null?void 0:a.periodicNotes)==null?void 0:l.enabled)||!1,m=new C.Setting(e).setName("Periodic Notes Plugin Integration"+this.createStatusIndicator("implemented")).setDesc("Integrate with Periodic Notes plugin for time-based note organization"),d=m.nameEl.createSpan({cls:"mcp-status-icon",text:g?" ":" "});d.style.cssText=`
					color: ${g?"var(--color-green)":"var(--color-red)"};
					font-weight: bold;
					margin-right: 4px;
				`,m.addToggle(f=>{f.setValue(h).setDisabled(!g).onChange(async v=>{var w,S;try{this.plugin.settings.mcpTools||(this.plugin.settings.mcpTools={defaults:{inboxFolder:"",enableSmartFolderResolution:!0},integrations:{templater:{detected:!1,enabled:!1,useTemplateFolders:!1},periodicNotes:{detected:!1,enabled:!1,usePeriodicFolders:!1}},tools:[]}),this.plugin.settings.mcpTools.integrations.periodicNotes.enabled=v,await this.plugin.saveSettings(),(w=this.plugin.logger)==null||w.debug("Periodic Notes integration toggled",{enabled:v})}catch(x){(S=this.plugin.logger)==null||S.error("Failed to save Periodic Notes setting",{error:x})}})}),g||m.descEl.appendText(" (Plugin not detected - install Periodic Notes to enable this integration)")}catch(g){(c=this.plugin.logger)==null||c.error("Error setting up Periodic Notes integration",{error:g})}}catch(g){(p=this.plugin.logger)==null||p.error("Error in 3rd Party Integrations section",{error:g instanceof Error?g.message:String(g)}),e.createEl("div",{text:"Error loading 3rd Party Integrations section",cls:"setting-item-description"})}}addMCPToolDefinitionsSection(e){var t,i;try{(t=this.plugin.logger)==null||t.debug("Adding MCP Tool Definitions section"),e.createEl("h4",{text:"Tool Definitions",cls:"setting-item-name"}),new C.Setting(e).setName("Available MCP Tools"+this.createStatusIndicator("implemented")).setDesc("Currently available MCP tools from megamem_mcp_server.py");const s=e.createDiv("mcp-tools-display");s.style.cssText=`
				margin: 16px 0;
				border: 1px solid var(--background-modifier-border);
				border-radius: 6px;
				max-height: 400px;
				overflow-y: auto;
			`;const r=s.createDiv();r.style.cssText=`
				background: var(--background-modifier-hover);
				padding: 8px 12px;
				font-weight: 600;
				border-bottom: 1px solid var(--background-modifier-border);
			`,r.textContent="Graphiti Memory Tools (9 tools)",[{name:"add_memory",description:"Add a memory/episode to the graph (aliases: mm, megamem, memory)"},{name:"search_memory_nodes",description:"Search for nodes in the memory graph (aliases: mm, megamem, memory)"},{name:"search_memory_facts",description:"Search for facts/relationships in the memory graph (aliases: mm, megamem, memory)"},{name:"get_episodes",description:"Get episodes from the memory graph (aliases: mm, megamem, memory)"},{name:"clear_graph",description:"Clear the entire memory graph (aliases: mm, megamem, memory)"},{name:"get_entity_edge",description:"Get entity edges from the graph (aliases: mm, megamem, memory)"},{name:"delete_entity_edge",description:"Delete entity edges from the graph (aliases: mm, megamem, memory)"},{name:"delete_episode",description:"Delete an episode from the graph (aliases: mm, megamem, memory)"},{name:"list_group_ids",description:"List all available group IDs (namespaces) in the vault (aliases: mm, megamem, memory)"}].forEach(c=>{const p=s.createDiv();p.style.cssText=`
					padding: 8px 12px;
					border-bottom: 1px solid var(--background-modifier-border-hover);
				`;const g=p.createDiv();g.style.cssText=`
					font-weight: 500;
					color: var(--text-accent);
					font-family: var(--font-monospace);
					font-size: 13px;
				`,g.textContent=c.name;const h=p.createDiv();h.style.cssText=`
					font-size: 12px;
					color: var(--text-muted);
					margin-top: 2px;
				`,h.textContent=c.description});const a=s.createDiv();a.style.cssText=`
				background: var(--background-modifier-hover);
				padding: 8px 12px;
				font-weight: 600;
				border-bottom: 1px solid var(--background-modifier-border);
				margin-top: 4px;
			`,a.textContent="Obsidian Vault Tools (7 tools)",[{name:"search_obsidian_notes",description:"Search for notes in Obsidian vault by filename and/or content (aliases: mv, my vault, obsidian)"},{name:"read_obsidian_note",description:"Read a specific note from Obsidian (aliases: mv, my vault, obsidian)"},{name:"update_obsidian_note",description:"Update content of an existing note (aliases: mv, my vault, obsidian)"},{name:"create_obsidian_note",description:"Create a new note in Obsidian (aliases: mv, my vault, obsidian)"},{name:"list_obsidian_vaults",description:"List all available Obsidian vaults (aliases: mv, my vault, obsidian)"},{name:"explore_vault_folders",description:"Explore folder structure in an Obsidian vault (query by natural language or path)"},{name:"create_note_with_template",description:"Create a new note using a templater template (fuzzy-match) in the vault"}].forEach(c=>{const p=s.createDiv();p.style.cssText=`
					padding: 8px 12px;
					border-bottom: 1px solid var(--background-modifier-border-hover);
				`;const g=p.createDiv();g.style.cssText=`
					font-weight: 500;
					color: var(--text-accent);
					font-family: var(--font-monospace);
					font-size: 13px;
				`,g.textContent=c.name;const h=p.createDiv();h.style.cssText=`
					font-size: 12px;
					color: var(--text-muted);
					margin-top: 2px;
				`,h.textContent=c.description})}catch(s){(i=this.plugin.logger)==null||i.error("Error in Tool Definitions section",{error:s instanceof Error?s.message:String(s)}),e.createEl("div",{text:"Error loading Tool Definitions section",cls:"setting-item-description"})}}async autoDetectPlugins(){var e,t,i;try{(e=this.plugin.logger)==null||e.debug("Running auto-detection for all plugins");const s=this.app.vault.adapter,r=s==null?void 0:s.basePath,o=!!this.app.plugins.plugins["templater-obsidian"],a=!!this.app.plugins.plugins["periodic-notes"];this.ensureMCPToolsSettings(),this.plugin.settings.mcpTools.integrations.templater.detected=o,this.plugin.settings.mcpTools.integrations.periodicNotes.detected=a,await this.plugin.saveSettings(),(t=this.plugin.logger)==null||t.debug("Auto-detection completed",{templater:o,periodicNotes:a})}catch(s){(i=this.plugin.logger)==null||i.error("Auto-detection failed",{error:s})}}isPluginDetected(e){var t,i,s,r;try{return((s=(i=(t=this.plugin.settings.mcpTools)==null?void 0:t.integrations)==null?void 0:i[e])==null?void 0:s.detected)||!1}catch(o){return(r=this.plugin.logger)==null||r.error("Error checking plugin detection status",{pluginName:e,error:o}),!1}}ensureMCPToolsSettings(){var e,t;try{this.plugin.settings.mcpTools||(this.plugin.settings.mcpTools={defaults:{inboxFolder:"",enableSmartFolderResolution:!0},integrations:{templater:{detected:!1,enabled:!1,useTemplateFolders:!1},periodicNotes:{detected:!1,enabled:!1,usePeriodicFolders:!1}},tools:[]}),this.plugin.settings.mcpTools.defaults||(this.plugin.settings.mcpTools.defaults={inboxFolder:"",enableSmartFolderResolution:!0}),this.plugin.settings.mcpTools.integrations||(this.plugin.settings.mcpTools.integrations={templater:{detected:!1,enabled:!1,useTemplateFolders:!1},periodicNotes:{detected:!1,enabled:!1,usePeriodicFolders:!1}}),this.plugin.settings.mcpTools.tools||(this.plugin.settings.mcpTools.tools=[]),(e=this.plugin.logger)==null||e.debug("MCP tools settings structure ensured")}catch(i){(t=this.plugin.logger)==null||t.error("Error ensuring MCP tools settings",{error:i})}}}class Ad extends C.PluginSettingTab{constructor(e,t){super(e,t),this.defaultNamespaceInput=null,this.folderToggle=null,this.propertyToggle=null,this.previousConnectionStatus="",this.accordionStates=new Map,this.plugin=t,this.ollamaSettings=new Md(e,t),this.mcpToolSettings=new Nd(e,t)}_initSharedTextDebounce(){var t;if(this._sharedTextDebounce)return;let e;this._sharedTextDebounce=i=>{e&&clearTimeout(e),e=setTimeout(async()=>{var s,r,o;try{const a=JSON.parse(i);switch(a.key){case"includedFolders":this.plugin.settings.includedFolders=a.value.split(`
`).map(l=>l.trim()).filter(l=>l.length>0);break;case"excludedFolders":this.plugin.settings.excludedFolders=a.value.split(`
`).map(l=>l.trim()).filter(l=>l.length>0);break;case"globallyIgnoredFields":this.plugin.settings.globallyIgnoredFields=a.value.split(`
`).map(l=>l.trim()).filter(l=>l.length>0);break;case"defaultNamespace":this.plugin.settings.defaultNamespace=a.value;break;default:(s=this.plugin.logger)==null||s.warn("[SETTINGS] Unknown key received by sharedTextDebounce",{key:a.key,payload:i});break}await this.plugin.saveSettings(),(r=this.plugin.logger)==null||r.debug("[SETTINGS] Shared debounced save executed",{key:a.key})}catch(a){(o=this.plugin.logger)==null||o.error("[SETTINGS] Shared debounced save error",{error:a,payload:i})}},2e3)},(t=this.plugin.logger)==null||t.debug("[SETTINGS] Shared text debouncer initialized")}ensureSharedDebounceInitialized(){this._initSharedTextDebounce()}display(){const{containerEl:e}=this;e.empty(),this.ensureSharedDebounceInitialized(),e.createEl("h1",{text:"MegaMem Plugin Settings"}),e.createEl("p",{text:"Configure your knowledge graph syncronization and mcp server.",cls:"setting-item-description"}),this.addAccordionStyles(e),this.addAccordionSectionSafely(e,"API Keys",t=>this.addAPIKeysAccordion(t),!1),this.addAccordionSectionSafely(e,"LLM Configuration",t=>this.addLLMAccordion(t),!1),this.addAccordionSectionSafely(e,"Database Configuration",t=>this.addDatabaseAccordion(t),!1),this.addAccordionSectionSafely(e,"Python Environment",t=>this.addPythonAccordion(t),!1),this.addAccordionSectionSafely(e,"Sync Configuration",t=>this.addSyncAccordion(t),!1),this.addAccordionSectionSafely(e,"Knowledge Namespacing",t=>this.addKnowledgeNamespacingAccordion(t),!1),this.addAccordionSectionSafely(e,"Servers",t=>this.addServersAccordion(t),!1),this.addAccordionSectionSafely(e,"MCP Tools",t=>this.mcpToolSettings.addMCPToolsAccordion(t),!1),this.addAccordionSectionSafely(e,"Advanced Settings",t=>this.addAdvancedAccordion(t),!1),this.addAccordionSectionSafely(e,"Actions",t=>this.addActionsAccordion(t),!1),this.addAccordionSectionSafely(e,"Development Options",t=>this.addDevelopmentAccordion(t),!1)}addAccordionStyles(e){const t=e.createEl("style");t.textContent=`
			.graphiti-accordion {
				margin-bottom: 10px;
				border: 1px solid var(--background-modifier-border);
				border-radius: 6px;
			}
			.graphiti-accordion-header {
				padding: 12px 16px;
				background: var(--background-modifier-hover);
				cursor: pointer;
				user-select: none;
				display: flex;
				justify-content: space-between;
				align-items: center;
				font-weight: 500;
				border-radius: 6px 6px 0 0;
			}
			.graphiti-accordion-header:hover {
				background: var(--background-modifier-border);
			}
			.graphiti-accordion-content {
				padding: 16px 16px 16px 16px;
				border-top: 1px solid var(--background-modifier-border);
			}
			.graphiti-accordion-arrow {
				font-size: 12px;
				transition: transform 0.2s ease;
			}
		`}addAccordionSection(e,t,i,s=!1){const r=e.createDiv("graphiti-accordion"),o=r.createDiv("graphiti-accordion-header"),a=o.createSpan("graphiti-accordion-title");a.textContent=t;const l=o.createDiv("graphiti-accordion-controls");l.style.display="flex",l.style.alignItems="center",l.style.gap="8px";const c=r.createDiv("graphiti-accordion-content"),p=this.accordionStates.get(t),g=typeof p=="boolean"?p:s;c.style.display=g?"block":"none";const h=l.createSpan("graphiti-accordion-arrow");h.textContent=g?"":"",h.style.cursor="pointer",h.setAttr("role","button"),h.addEventListener("click",m=>{m.stopPropagation(),m.preventDefault();const f=!(c.style.display!=="none");c.style.display=f?"block":"none",h.textContent=f?"":"",this.accordionStates.set(t,f)}),i.call(this,c)}addAccordionSectionSafely(e,t,i,s=!1){var r;try{this.addAccordionSection(e,t,i,s)}catch(o){(r=this.plugin.logger)==null||r.error(`[SETTINGS] Error rendering ${t} accordion`,{error:o});const a=e.createDiv("graphiti-accordion"),l=a.createDiv("graphiti-accordion-header");l.textContent=`${t} (Error)`;const c=a.createDiv("graphiti-accordion-content");c.style.display="none",c.createEl("div",{text:`Error loading ${t} section. Check console for details.`,cls:"setting-item-description"})}}addAPIKeysAccordion(e){const t=["openai","anthropic","google","azure","voyage","venice","openrouter"];for(const a of t){const l=this.getProviderDisplayName(a);new C.Setting(e).setName(`${l} API Key`+this.createStatusIndicator("implemented")).setDesc(`API key for ${l} services`).addText(c=>{c.inputEl.type="password",c.setPlaceholder(`Enter ${l} API key`).setValue(this.plugin.settings.apiKeys[a]||"").onChange(async p=>{this.plugin.settings.apiKeys[a]=p||void 0,await this.plugin.saveSettings()})})}e.createEl("h4",{text:"Local AI Models",cls:"setting-item-name"});const i=new C.Setting(e).setName("Ollama - Fully Private Local Models"+this.createStatusIndicator("implemented")).setDesc("Run AI models locally on your machine without sending data to external services"),s=i.settingEl.createDiv();s.style.cssText="margin-top: 8px; display: flex; gap: 8px; align-items: center;";const r=e.createDiv();r.style.cssText=`
			margin-top: 8px;
			margin-bottom: 16px;
			padding: 8px;
			border-radius: 4px;
			font-size: 0.9em;
			border: 1px solid var(--background-modifier-border);
		`;let o;i.addButton(a=>{o=a.buttonEl,a.setButtonText("Install Ollama").onClick(async()=>{await this.ollamaSettings.handleOllamaInstallation()})}),i.addButton(a=>{a.buttonEl,a.setButtonText("Refresh Status").onClick(async()=>{await this.ollamaSettings.refreshOllamaStatus(r,o)})}),setTimeout(()=>{this.ollamaSettings.refreshOllamaStatus(r,o)},50),new C.Setting(e).setName("Validate All API Keys"+this.createStatusIndicator("implemented")).setDesc("Validate all configured API keys without testing models").addButton(a=>a.setButtonText("Validate API Keys").setCta().onClick(async()=>{await this.validateAPIKeys(a.buttonEl)}))}async addLLMAccordion(e){new C.Setting(e).setName("LLM Defaults").setDesc("Merge recommended defaults into your current settings without overwriting custom entries").addButton(l=>l.setButtonText("Load Defaults").onClick(async()=>{try{const c=kd(),p=this.plugin.settings,g=(h,m)=>{(!p[h]||typeof p[h]!="object")&&(p[h]={});const d=p[h];for(const f of Object.keys(m||{})){if(!d[f]||typeof d[f]!="object"){d[f]={...m[f]};continue}const v=d[f],w=m[f];for(const S of Object.keys(w))S in v||(v[S]=w[S])}};g("llmDefaults",c.llmDefaults),g("llmSmallDefaults",c.llmSmallDefaults),g("embeddingDefaults",c.embeddingDefaults),g("llmCrossEncoderDefaults",c.llmCrossEncoderDefaults),await this.plugin.saveSettings(),this.display()}catch{}})),new C.Setting(e).setName("LLM Provider"+this.createStatusIndicator("implemented")).setDesc("Choose your language model provider").addDropdown(l=>l.addOption("openai","OpenAI").addOption("anthropic","Anthropic").addOption("google","Google AI").addOption("azure","Azure OpenAI").addOption("ollama","Ollama (Local)").addOption("venice","Venice.ai").addOption("openrouter","OpenRouter").setValue(this.plugin.settings.llmProvider).onChange(async c=>{const p=c;this.plugin.settings.llmProvider=p,await this.plugin.saveSettings(),this.updateLLMDefaults(p)}));const t=new C.Setting(e).setName("LLM Model"+this.createStatusIndicator("implemented")).setDesc("Primary language model for processing");let i;t.addDropdown(async l=>{await this.populateLLMModels(l,this.plugin.settings.llmProvider),l.setValue(this.plugin.settings.llmModel).onChange(async c=>{this.plugin.settings.llmModel=c,await this.plugin.saveSettings(),this.plugin.settings.llmProvider==="ollama"&&c&&await this.updateModelStatusIconForDropdown(i,"llm",c)})}),i=t.settingEl.createDiv(),i.style.cssText=`
			display: inline-flex;
			align-items: center;
			margin-left: 8px;
			vertical-align: middle;
		`,this.plugin.settings.llmProvider==="ollama"&&this.plugin.settings.llmModel&&setTimeout(async()=>{this.plugin.settings.llmModel&&setTimeout(async()=>{const l=await this.ollamaSettings.isOllamaModelInstalled(this.plugin.settings.llmModel);i.empty();const c=i.createDiv();c.style.cssText="display: inline-flex; align-items: center; gap: 4px; font-size: 0.9em;";const p=c.createSpan();C.setIcon(p,l?"check-circle":"download"),p.style.color=l?"var(--color-green)":"var(--color-orange)";const g=c.createSpan();g.textContent=l?"Available":"Not installed",g.style.color=l?"var(--color-green)":"var(--color-orange)"},100)},100);const s=new C.Setting(e).setName("LLM Model Small"+this.createStatusIndicator("implemented")).setDesc("Smaller, faster model for re-ranking operations (optional)");let r;s.addDropdown(async l=>{await this.populateLLMModels(l,this.plugin.settings.llmProvider,!0),l.setValue(this.plugin.settings.llmSmallModel||"").onChange(async c=>{this.plugin.settings.llmSmallModel=c||void 0,await this.plugin.saveSettings(),this.plugin.settings.llmProvider==="ollama"&&c&&await this.ollamaSettings.updateModelStatusIconForDropdown(r,"llm_small",c)})}),r=s.settingEl.createDiv(),r.style.cssText=`
			display: inline-flex;
			align-items: center;
			margin-left: 8px;
			vertical-align: middle;
		`,this.plugin.settings.llmProvider==="ollama"&&this.plugin.settings.llmSmallModel&&setTimeout(async()=>{this.plugin.settings.llmSmallModel&&await this.ollamaSettings.updateModelStatusIconForDropdown(r,"llm_small",this.plugin.settings.llmSmallModel)},100),this.plugin.settings.llmProvider==="ollama"&&await this.ollamaSettings.addCustomLLMModelEntry(e),this.plugin.settings.llmProvider==="openrouter"&&(new C.Setting(e).setName("OpenRouter Preset Slug"+this.createStatusIndicator("implemented")).setDesc("OpenRouter preset name to use (leave empty to disable preset usage)").addText(l=>l.setPlaceholder("e.g., ravenel-bridge").setValue(this.plugin.settings.openrouterPresetSlug||"").onChange(async c=>{this.plugin.settings.openrouterPresetSlug=c||void 0,await this.plugin.saveSettings()})).addButton(l=>l.setButtonText("Add Default").setTooltip("Add preset model to dropdowns").onClick(async()=>{var g;const c=this.plugin.settings.openrouterPresetSlug;if(!c){new C.Notice("[ERROR] Please enter a preset slug first");return}const p=l.buttonEl.textContent;l.buttonEl.textContent="Adding...",l.setDisabled(!0);try{const h=`@preset/${c}`,m={desc:"Models controlled by OpenRouter Preset",recommended:!0};this.plugin.settings.llmDefaults||(this.plugin.settings.llmDefaults={}),this.plugin.settings.llmDefaults.openrouter||(this.plugin.settings.llmDefaults.openrouter={}),this.plugin.settings.llmSmallDefaults||(this.plugin.settings.llmSmallDefaults={}),this.plugin.settings.llmSmallDefaults.openrouter||(this.plugin.settings.llmSmallDefaults.openrouter={}),this.plugin.settings.llmDefaults.openrouter[h]=m,this.plugin.settings.llmSmallDefaults.openrouter[h]=m,await this.plugin.saveSettings(),this.display(),new C.Notice(`[SUCCESS] Added ${h} to model dropdowns`)}catch(h){(g=this.plugin.logger)==null||g.error("Failed to add preset default",{error:h,presetSlug:c}),new C.Notice("[ERROR] Failed to add preset default")}finally{l.buttonEl.textContent=p,l.setDisabled(!1)}})),new C.Setting(e).setName("Use Preset with Custom Model"+this.createStatusIndicator("implemented")).setDesc("When enabled, append preset to custom OpenRouter models (e.g., openai/gpt-4o@preset/your-preset)").addToggle(l=>l.setValue(this.plugin.settings.openrouterUsePresetWithCustomModel||!1).onChange(async c=>{this.plugin.settings.openrouterUsePresetWithCustomModel=c,await this.plugin.saveSettings()}))),new C.Setting(e).setName("Test LLM Connection"+this.createStatusIndicator("implemented")).setDesc("Test your language model provider configuration").addButton(l=>l.setButtonText("Test LLM Connection").setCta().onClick(async()=>{await this.testLLMConnection(l.buttonEl)})),new C.Setting(e).setName("Embedding Provider"+this.createStatusIndicator("implemented")).setDesc("Choose your embedding provider").addDropdown(l=>l.addOption("openai","OpenAI").addOption("google","Google AI").addOption("voyage","Voyage AI").addOption("ollama","Ollama (Local)").setValue(this.plugin.settings.embedderProvider).onChange(async c=>{var g,h,m,d;const p=c;if((g=this.plugin.logger)==null||g.debug("[EMBEDDING-PROVIDER] Provider changed",{oldProvider:this.plugin.settings.embedderProvider,newProvider:p,vaultName:this.app.vault.getName(),hasVaultRegistryService:!!this.plugin.vaultRegistryService}),this.plugin.settings.embedderProvider=p,await this.plugin.saveSettings(),this.updateEmbedderDefaults(p),this.plugin.vaultRegistryService&&this.plugin.settings.embeddingModel)try{const f=this.app.vault.getName();(h=this.plugin.logger)==null||h.debug("[EMBEDDING-PROVIDER-CHANGE] Updating vault registry from provider dropdown",{oldProvider:this.plugin.settings.embedderProvider,newProvider:p,model:this.plugin.settings.embeddingModel,dimensions:this.plugin.settings.ollamaEmbeddingDim||768,vaultName:f}),await this.plugin.vaultRegistryService.updateVaultEmbeddingModel(f,this.plugin.settings.embeddingModel,this.plugin.settings.ollamaEmbeddingDim||768,p),(m=this.plugin.logger)==null||m.debug("[EMBEDDING-PROVIDER] Vault registry updated with new provider configuration",{vaultName:f,provider:p,model:this.plugin.settings.embeddingModel,dimensions:this.plugin.settings.ollamaEmbeddingDim||768})}catch(f){(d=this.plugin.logger)==null||d.error("[EMBEDDING-PROVIDER] Failed to update vault registry",{error:f,provider:p})}})),await this.addEnhancedEmbeddingModelSetting(e),this.plugin.settings.embedderProvider==="ollama"&&await this.ollamaSettings.addCustomEmbeddingModelEntry(e),new C.Setting(e).setName("Test Embedding Connection"+this.createStatusIndicator("implemented")).setDesc("Test your embedding provider configuration").addButton(l=>l.setButtonText("Test Embedding").onClick(async()=>{await this.testEmbeddingConnection(l.buttonEl)})),new C.Setting(e).setName("Test Provider Combination"+this.createStatusIndicator("implemented")).setDesc("Test that your LLM and embedding providers work together correctly with full pipeline testing").addButton(l=>l.setButtonText("Test Full Pipeline").onClick(async()=>{await this.testFullPipeline(l.buttonEl)})),this.plugin.settings.loadDaemonOnLaunch&&this.plugin.settings.experimentalDaemonMode&&new C.Setting(e).setName("Reload Sync Daemon"+this.createStatusIndicator("implemented")).setDesc("Restart the sync daemon to apply new provider configuration").addButton(l=>l.setButtonText("Reload Daemon").onClick(async()=>{await this.reloadSyncDaemon(l.buttonEl)})),e.createEl("h4",{text:"Cross-Encoder / Reranker Configuration",cls:"setting-item-name"});let o;new C.Setting(e).setName("Cross-Encoder Provider"+this.createStatusIndicator("implemented")).setDesc("Choose your cross-encoder/reranker provider for improved search ranking").addDropdown(l=>l.addOption("none","None - Disable reranking").addOption("openai","OpenAI Reranker").addOption("bge","BGE Reranker (Local)").addOption("gemini","Gemini Reranker").setValue(this.plugin.settings.crossEncoderClient||"none").onChange(async c=>{const p=c;this.plugin.settings.crossEncoderClient=p,(p==="bge"||p==="none")&&(this.plugin.settings.crossEncoderModel=void 0),await this.plugin.saveSettings(),this.updateCrossEncoderDefaults(p),o&&(o.style.display=p==="none"||p==="bge"?"none":"block")}));const a=new C.Setting(e).setName("Cross-Encoder Model"+this.createStatusIndicator("implemented")).setDesc("Specific model for cross-encoding/reranking operations");o=a.settingEl,o.style.display=this.plugin.settings.crossEncoderClient==="none"?"none":"block",a.addDropdown(async l=>{await this.populateCrossEncoderModels(l,this.plugin.settings.crossEncoderClient||"none"),l.setValue(this.plugin.settings.crossEncoderModel||"").onChange(async c=>{this.plugin.settings.crossEncoderModel=c||void 0,await this.plugin.saveSettings()})}),this.addProviderSpecificSettings(e)}addDatabaseAccordion(e){new C.Setting(e).setName("Database Type"+this.createStatusIndicator("implemented")).setDesc("Choose your graph database backend").addDropdown(t=>t.addOption("neo4j","Neo4j").addOption("falkordb","FalkorDB").setValue(this.plugin.settings.databaseType).onChange(async i=>{const s=i;this.plugin.settings.databaseType=s,await this.plugin.saveSettings(),this.display()})),this.addDatabaseSpecificFields(e),new C.Setting(e).setName("Test Database Connection"+this.createStatusIndicator("implemented")).setDesc("Verify your database connection settings").addButton(t=>t.setButtonText("Test Connection").setCta().onClick(async()=>{await this.testDatabaseConnection(t.buttonEl)})),new C.Setting(e).setName("Initialize Database Schema"+this.createStatusIndicator("implemented")).setDesc("Set up the required Graphiti schema in your database (run this after successful connection test)").addButton(t=>t.setButtonText("Initialize Schema").onClick(async()=>{await this.initializeDatabaseSchema(t.buttonEl)}))}addDatabaseSpecificFields(e){const t=this.plugin.settings.databaseType;t==="neo4j"?(new C.Setting(e).setName("Neo4j URI"+this.createStatusIndicator("implemented")).setDesc("Neo4j connection URI (e.g., bolt://localhost:7687)").addText(i=>i.setPlaceholder("bolt://localhost:7687").setValue(this.plugin.settings.databaseConfigs.neo4j.uri).onChange(async s=>{this.plugin.settings.databaseConfigs.neo4j.uri=s,await this.plugin.saveSettings()})),new C.Setting(e).setName("Neo4j Username"+this.createStatusIndicator("implemented")).setDesc("Neo4j database username").addText(i=>i.setPlaceholder("neo4j").setValue(this.plugin.settings.databaseConfigs.neo4j.username).onChange(async s=>{this.plugin.settings.databaseConfigs.neo4j.username=s,await this.plugin.saveSettings()})),new C.Setting(e).setName("Neo4j Password"+this.createStatusIndicator("implemented")).setDesc("Neo4j database password").addText(i=>{i.inputEl.type="password",i.setPlaceholder("Enter password").setValue(this.plugin.settings.databaseConfigs.neo4j.password).onChange(async s=>{this.plugin.settings.databaseConfigs.neo4j.password=s,await this.plugin.saveSettings()})}),new C.Setting(e).setName("Neo4j Database Name"+this.createStatusIndicator("implemented")).setDesc("Name of the Neo4j database to use").addText(i=>i.setPlaceholder("neo4j").setValue(this.plugin.settings.databaseConfigs.neo4j.database).onChange(async s=>{this.plugin.settings.databaseConfigs.neo4j.database=s,await this.plugin.saveSettings()}))):t==="falkordb"&&(new C.Setting(e).setName("FalkorDB Host"+this.createStatusIndicator("implemented")).setDesc("FalkorDB host address").addText(i=>i.setPlaceholder("localhost").setValue(this.plugin.settings.databaseConfigs.falkordb.host).onChange(async s=>{this.plugin.settings.databaseConfigs.falkordb.host=s,await this.plugin.saveSettings()})),new C.Setting(e).setName("FalkorDB Port"+this.createStatusIndicator("implemented")).setDesc("FalkorDB port number").addText(i=>i.setPlaceholder("6379").setValue(this.plugin.settings.databaseConfigs.falkordb.port.toString()).onChange(async s=>{const r=parseInt(s);!isNaN(r)&&r>0&&r<65536&&(this.plugin.settings.databaseConfigs.falkordb.port=r,await this.plugin.saveSettings())})),new C.Setting(e).setName("FalkorDB Username (Optional)"+this.createStatusIndicator("implemented")).setDesc("FalkorDB username (leave empty if not using authentication)").addText(i=>i.setPlaceholder("Optional").setValue(this.plugin.settings.databaseConfigs.falkordb.username||"").onChange(async s=>{this.plugin.settings.databaseConfigs.falkordb.username=s||void 0,await this.plugin.saveSettings()})),new C.Setting(e).setName("FalkorDB Password (Optional)"+this.createStatusIndicator("implemented")).setDesc("FalkorDB password (leave empty if not using authentication)").addText(i=>{i.inputEl.type="password",i.setPlaceholder("Optional").setValue(this.plugin.settings.databaseConfigs.falkordb.password||"").onChange(async s=>{this.plugin.settings.databaseConfigs.falkordb.password=s||void 0,await this.plugin.saveSettings()})}),new C.Setting(e).setName("FalkorDB Database Name"+this.createStatusIndicator("implemented")).setDesc("Name of the FalkorDB database to use").addText(i=>i.setPlaceholder("default_db").setValue(this.plugin.settings.databaseConfigs.falkordb.database).onChange(async s=>{this.plugin.settings.databaseConfigs.falkordb.database=s,await this.plugin.saveSettings()})))}addPythonAccordion(e){new C.Setting(e).setName("Python Dependencies Status"+this.createStatusIndicator("implemented")).setDesc("Check if Graphiti Python dependencies are installed").addButton(t=>t.setButtonText("Check Dependencies").onClick(async()=>{await this.checkPythonDependencies(t.buttonEl)})),new C.Setting(e).setName("Install Python Dependencies"+this.createStatusIndicator("implemented")).setDesc("Install Graphiti and required Python packages using hybrid pip/uv approach").addButton(t=>t.setButtonText("Install Dependencies").setCta().onClick(async()=>{await this.installPythonDependencies(t.buttonEl)})),new C.Setting(e).setName("Python Path (Optional)"+this.createStatusIndicator("implemented")).setDesc("Specify custom Python executable path (leave empty for auto-detection)").addText(t=>t.setPlaceholder("Auto-detect").setValue(this.plugin.settings.pythonPath||"").onChange(async i=>{this.plugin.settings.pythonPath=i||void 0,await this.plugin.saveSettings()}))}addSyncAccordion(e){let t=null;new C.Setting(e).setName("Automatically sync notes at scheduled intervals"+this.createStatusIndicator("partial")).setDesc("Automatically sync notes when they are saved or at regular intervals"+(this.plugin.settings.showDevelopmentIndicators?" (Enhanced UI complete, sync engine needs update)":"")).addToggle(i=>{i.setValue(this.plugin.settings.autoSync).onChange(async s=>{const r=this;r._settingsDebounceTimer&&clearTimeout(r._settingsDebounceTimer),r._settingsDebounceTimer=setTimeout(async()=>{r.plugin.settings.autoSync=s,await r.plugin.saveSettings(),t&&(t.style.display=s?"block":"none")},1e3)})}),t=e.createDiv(),t.style.display=this.plugin.settings.autoSync?"block":"none",t.style.marginLeft="24px",t.style.marginTop="8px",new C.Setting(t).setName("Sync Options"+this.createStatusIndicator("partial")).setDesc("Choose which notes to include in automatic sync operations").addDropdown(i=>i.addOption("new_only","New notes only - Sync only newly created notes").addOption("new_and_updated","New and updated notes - Sync both new and modified notes").setValue(this.plugin.settings.syncOptions).onChange(async s=>{this.plugin.settings.syncOptions=s,await this.plugin.saveSettings()})),new C.Setting(e).setName("Sync Interval"+this.createStatusIndicator("partial")).setDesc("Automatic sync interval in minutes (0 to disable)"+(this.plugin.settings.showDevelopmentIndicators?" (UI complete, sync engine not implemented)":"")).addSlider(i=>i.setLimits(0,60,1).setValue(this.plugin.settings.syncInterval).setDynamicTooltip().onChange(async s=>{this.plugin.settings.syncInterval=s,await this.plugin.saveSettings()})),e.createEl("h4",{text:"Folder Configuration",cls:"setting-item-name"}),new C.Setting(e).setName("Included Folders"+this.createStatusIndicator("implemented")).setDesc("Folders to include in sync. Leave empty to include all folders."),this.plugin.settings.includedFolders.forEach((i,s)=>{const r=new C.Setting(e).addSearch(o=>{new Wt(this.app,o.inputEl),o.inputEl.onmousedown=a=>a.stopPropagation(),o.setPlaceholder("Select folder or type path...").setValue(i).onChange(async a=>{this.plugin.settings.includedFolders[s]=a,await this.plugin.saveSettings()})}).addExtraButton(o=>{o.setIcon("cross").setTooltip("Delete").onClick(async a=>{a&&a.stopPropagation(),this.plugin.settings.includedFolders.splice(s,1),await this.plugin.saveSettings(),this.display()})});r.infoEl.remove(),r.controlEl.onmousedown=o=>o.stopPropagation()}),new C.Setting(e).addButton(i=>{i.setButtonText("Add Folder").setCta().onClick(async s=>{s&&s.stopPropagation(),this.plugin.settings.includedFolders.push(""),await this.plugin.saveSettings(),this.display()}),i.buttonEl.onmousedown=s=>s.stopPropagation()}),new C.Setting(e).setName("Excluded Folders"+this.createStatusIndicator("implemented")).setDesc("Folders to exclude from sync (e.g., .obsidian, .trash)."),this.plugin.settings.excludedFolders.forEach((i,s)=>{const r=new C.Setting(e).addSearch(o=>{new Wt(this.app,o.inputEl),o.inputEl.onmousedown=a=>a.stopPropagation(),o.setPlaceholder("Select folder or type path...").setValue(i).onChange(async a=>{this.plugin.settings.excludedFolders[s]=a,await this.plugin.saveSettings()})}).addExtraButton(o=>{o.setIcon("cross").setTooltip("Delete").onClick(async a=>{a&&a.stopPropagation(),this.plugin.settings.excludedFolders.splice(s,1),await this.plugin.saveSettings(),this.display()})});r.infoEl.remove(),r.controlEl.onmousedown=o=>o.stopPropagation()}),new C.Setting(e).addButton(i=>{i.setButtonText("Add Folder").setCta().onClick(async s=>{s&&s.stopPropagation(),this.plugin.settings.excludedFolders.push(""),await this.plugin.saveSettings(),this.display()}),i.buttonEl.onmousedown=s=>s.stopPropagation()}),new C.Setting(e).setName("Globally Ignored Fields"+this.createStatusIndicator("implemented")).setDesc("YAML frontmatter fields to ignore globally across all notes."),this.plugin.settings.globallyIgnoredFields.forEach((i,s)=>{const r=new C.Setting(e).addText(o=>{o.inputEl.onmousedown=a=>a.stopPropagation(),o.setPlaceholder("Enter field name (e.g., cssclass, tags)...").setValue(i).onChange(async a=>{this.plugin.settings.globallyIgnoredFields[s]=a,await this.plugin.saveSettings()})}).addExtraButton(o=>{o.setIcon("cross").setTooltip("Delete").onClick(async a=>{a&&a.stopPropagation(),this.plugin.settings.globallyIgnoredFields.splice(s,1),await this.plugin.saveSettings(),this.display()})});r.infoEl.remove(),r.controlEl.onmousedown=o=>o.stopPropagation()}),new C.Setting(e).addButton(i=>{i.setButtonText("Add Field").setCta().onClick(async s=>{s&&s.stopPropagation(),this.plugin.settings.globallyIgnoredFields.push(""),await this.plugin.saveSettings(),this.display()}),i.buttonEl.onmousedown=s=>s.stopPropagation()})}addKnowledgeNamespacingAccordion(e){e.createEl("p",{text:"Configure how knowledge is organized and namespaced in your graph database.",cls:"setting-item-description"}),e.createEl("h4",{text:"Ontology Configuration",cls:"setting-item-name"}),new C.Setting(e).setName("Use Custom Ontology"+this.createStatusIndicator("implemented")).setDesc("Enable custom entity types with pre-existing Pydantic models. When disabled, uses generic text episodes.").addToggle(o=>o.setValue(this.plugin.settings.useCustomOntology).onChange(async a=>{this.plugin.settings.useCustomOntology=a,await this.plugin.saveSettings()})),e.createEl("h4",{text:"Namespacing Strategy",cls:"setting-item-name"}),new C.Setting(e).setName("Namespace Strategy"+this.createStatusIndicator("implemented")).setDesc("Primary strategy for organizing knowledge in the graph").addDropdown(o=>o.addOption("vault","Vault Name - Use vault as namespace").addOption("folder","Folder Path - Use note folder as namespace").addOption("property","Property Value - Use g_group_id property").addOption("custom","Custom Value - Use default namespace setting").setValue(this.plugin.settings.namespaceStrategy).onChange(async a=>{const l=a;this.plugin.settings.namespaceStrategy=l,l==="vault"?(this.plugin.settings.defaultNamespace=this.app.vault.getName(),this.defaultNamespaceInput&&this.defaultNamespaceInput.setValue(this.app.vault.getName())):l==="folder"?(this.plugin.settings.enableFolderNamespacing=!0,this.folderToggle&&this.folderToggle.setValue(!0)):l==="property"&&(this.plugin.settings.enablePropertyNamespacing=!0,this.propertyToggle&&this.propertyToggle.setValue(!0)),await this.plugin.saveSettings()})),new C.Setting(e).setName("Default Namespace"+this.createStatusIndicator("implemented")).setDesc('Default namespace when strategy is "custom" or when other strategies fail').addText(o=>{this.defaultNamespaceInput=o,o.setPlaceholder("my-vault").setValue(this.plugin.settings.defaultNamespace).onChange(a=>{var l;this.ensureSharedDebounceInitialized(),(l=this._sharedTextDebounce)==null||l.call(this,JSON.stringify({key:"defaultNamespace",value:a}))})});let t;new C.Setting(e).setName("Enable Folder Namespacing"+this.createStatusIndicator("implemented")).setDesc("Use top-level folder names as namespaces. Subfolders are not supported.").addToggle(o=>{this.folderToggle=o,o.setValue(this.plugin.settings.enableFolderNamespacing).onChange(async a=>{this.plugin.settings.enableFolderNamespacing=a,await this.plugin.saveSettings(),t&&(t.style.display=a?"block":"none")})}),t=e.createDiv(),t.style.display=this.plugin.settings.enableFolderNamespacing?"block":"none",t.style.marginLeft="24px",t.style.marginTop="8px",new C.Setting(t).setName("Custom Folder Mappings"+this.createStatusIndicator("implemented")).setDesc("Map specific folders to custom group_id namespaces. Leave empty to use automatic folder names."),this.plugin.settings.folderNamespaceMappings.forEach((o,a)=>{const l=new C.Setting(t).addSearch(c=>{new Wt(this.app,c.inputEl),c.inputEl.addEventListener("mousedown",p=>p.stopPropagation()),c.setPlaceholder("Select folder or type path...").setValue(o.folderPath).onChange(async p=>{this.plugin.settings.folderNamespaceMappings[a].folderPath=p,await this.plugin.saveSettings()}),c.inputEl.addEventListener("blur",async()=>{const p=c.getValue();if(!this.plugin.settings.folderNamespaceMappings[a].groupId&&p.trim()){this.plugin.settings.folderNamespaceMappings[a].groupId=p.replace(/\//g,"_");const g=l.controlEl.querySelector('input[placeholder="Enter group_id..."]');g&&(g.value=this.plugin.settings.folderNamespaceMappings[a].groupId),await this.plugin.saveSettings()}})}).addText(c=>{c.inputEl.addEventListener("mousedown",p=>p.stopPropagation()),c.inputEl.addEventListener("input",p=>p.stopPropagation()),c.inputEl.addEventListener("keydown",p=>p.stopPropagation()),c.inputEl.addEventListener("keyup",p=>p.stopPropagation()),c.inputEl.addEventListener("focus",p=>p.stopPropagation()),c.setPlaceholder("Enter group_id...").setValue(o.groupId).onChange(async p=>{this.plugin.settings.folderNamespaceMappings[a].groupId=p,await this.plugin.saveSettings()})}).addExtraButton(c=>{c.setIcon("cross").setTooltip("Delete").onClick(async p=>{p&&(p.stopPropagation(),p.preventDefault()),this.plugin.settings.folderNamespaceMappings.splice(a,1),await this.plugin.saveSettings(),this.display()}),c.extraSettingsEl.addEventListener("mousedown",p=>p.stopPropagation())});l.infoEl.remove(),l.controlEl.addEventListener("mousedown",c=>c.stopPropagation())}),new C.Setting(t).addButton(o=>{o.setButtonText("Add Folder Mapping").setCta().onClick(async a=>{a&&a.stopPropagation(),this.plugin.settings.folderNamespaceMappings.push({folderPath:"",groupId:""}),await this.plugin.saveSettings(),this.display()}),o.buttonEl.onmousedown=a=>a.stopPropagation()}),new C.Setting(e).setName("Enable Property Namespacing"+this.createStatusIndicator("implemented")).setDesc("Use g_group_id frontmatter property as namespace when available").addToggle(o=>{this.propertyToggle=o,o.setValue(this.plugin.settings.enablePropertyNamespacing).onChange(async a=>{this.plugin.settings.enablePropertyNamespacing=a,await this.plugin.saveSettings()})});const i=new C.Setting(e).setName("Discover Namespaces"+this.createStatusIndicator("implemented")).setDesc("Click to scan the vault and generate the list of available namespaces based on the settings above."),s=i.descEl.createDiv();s.style.marginTop="8px",s.style.fontSize="0.9em",s.style.color="var(--text-muted)";const r=()=>{const o=this.plugin.settings.availableNamespaces||[];o.length>0?s.textContent=`Current namespaces: ${o.join(", ")}`:s.textContent='No namespaces discovered yet. Click "Generate" to scan the vault.'};r(),i.addButton(o=>o.setButtonText("Generate").setCta().onClick(async()=>{var l;const a=o.buttonEl.textContent;o.buttonEl.textContent="Generating...",o.setDisabled(!0);try{await this.plugin.updateAvailableNamespaces(),r(),new C.Notice("[SUCCESS] Namespaces updated successfully")}catch(c){const p=c instanceof Error?c.message:"Unknown error";new C.Notice(`[ERROR] Failed to update namespaces: ${p}`),(l=this.plugin.logger)==null||l.error("Failed to update namespaces",{error:c})}finally{o.buttonEl.textContent=a,o.setDisabled(!1)}})),e.createEl("h4",{text:"Multi-Vault Configuration",cls:"setting-item-name"}),new C.Setting(e).setName("Enable Multi-Vault Mode"+this.createStatusIndicator("todo")).setDesc("Enable advanced features for managing multiple Obsidian vaults"+(this.plugin.settings.showDevelopmentIndicators?" (Multi-vault features planned for future release)":"")).addToggle(o=>o.setValue(this.plugin.settings.enableMultiVaultMode).onChange(async a=>{this.plugin.settings.enableMultiVaultMode=a,await this.plugin.saveSettings()})),new C.Setting(e).setName("Current Vault Priority"+this.createStatusIndicator("todo")).setDesc("Priority level for this vault in multi-vault scenarios (higher numbers = higher priority)").addSlider(o=>o.setLimits(1,10,1).setValue(this.plugin.settings.currentVaultPriority).setDynamicTooltip().onChange(async a=>{this.plugin.settings.currentVaultPriority=a,await this.plugin.saveSettings()})),new C.Setting(e).setName("Vault Configurations"+this.createStatusIndicator("todo")).setDesc(`Currently tracking ${this.plugin.settings.vaultConfigurations.length} vault(s). Advanced vault management features coming soon.`).addButton(o=>o.setButtonText("Manage Vaults").setDisabled(!0).onClick(async()=>{new C.Notice("Multi-vault management features are planned for a future release")}))}addServersAccordion(e){e.createEl("p",{text:"Server architecture: The first MCP process automatically starts the shared WebSocket server. Subsequent processes connect as clients. Server ownership transfers automatically when the host process exits.",cls:"setting-item-description"}),e.createEl("h4",{text:"Shared WebSocket Server",cls:"setting-item-name"}),e.createEl("p",{text:"Server lifecycle is managed automatically by MCP processes. Manual control is not needed.",cls:"setting-item-description",attr:{style:"font-size: 0.9em; color: var(--text-muted); margin-bottom: 16px;"}}),new C.Setting(e).setName("WebSocket Port"+this.createStatusIndicator("implemented")).setDesc("Port number for the shared WebSocket server (configured via MCP)").addText(g=>g.setPlaceholder("8765").setValue(this.plugin.settings.wsPort.toString()).setDisabled(!0));const t=new C.Setting(e).setName("Authentication Token"+this.createStatusIndicator("implemented")).setDesc("Authentication token for secure WebSocket connections (managed by MCP)");t.addText(g=>{g.setDisabled(!0).setValue(this.plugin.settings.wsAuthToken)}),t.addButton(g=>g.setButtonText("Copy").onClick(async h=>{h==null||h.stopPropagation(),await navigator.clipboard.writeText(this.plugin.settings.wsAuthToken),new C.Notice("Auth token copied to clipboard")}));const i=e.createDiv();i.style.cssText=`
			margin: 16px 0;
			padding: 12px;
			border: 1px solid var(--background-modifier-border);
			border-radius: 6px;
			background: var(--background-secondary);
		`,i.createEl("h5",{text:"Current Connections",attr:{style:"margin: 0 0 8px 0; font-size: 0.9em; font-weight: 600;"}});const s=i.createDiv();s.style.cssText=`
			font-size: 0.8em;
			color: var(--text-muted);
			line-height: 1.4;
		`;const r=async()=>{const g=this.plugin.settings.wsPort||8765;try{(await fetch(`http://127.0.0.1:${g}/health`,{headers:{Authorization:`Bearer ${this.plugin.settings.wsAuthToken||""}`}})).ok?s.textContent=`Connected to port ${g}`:s.textContent=`Failed to connect to port ${g}`}catch{s.textContent=`Trying to connect to port ${g}`}};r();const o=setInterval(r,5e3);this.connectionUpdateInterval=o,e.createEl("h4",{text:"MCP Server",cls:"setting-item-name"});const a=e.createDiv();a.style.cssText=`
			margin: 16px 0;
			padding: 12px;
			border: 1px solid var(--background-modifier-border);
			border-radius: 6px;
			background: var(--background-secondary);
		`,a.createEl("h5",{text:"Current Instances",attr:{style:"margin: 0 0 8px 0; font-size: 0.9em; font-weight: 600;"}});const l=a.createDiv();l.style.cssText=`
			font-size: 0.8em;
			color: var(--text-muted);
			line-height: 1.4;
		`;const c=async()=>{var g;try{const m=await Ct.getInstance().getMCPServerProcesses();if(m.length>0){const d=m.map(f=>`Process ${f.pid} | ${f.parentName} | ${f.createdAt}`);l.innerHTML=d.join("<br>")}else l.textContent="No active instances detected"}catch(h){l.textContent="Status check failed",(g=this.plugin.logger)==null||g.error("Failed to update instances display",{error:h})}};c();const p=setInterval(c,5e3);this.instanceUpdateInterval=p,new C.Setting(e).setName("Generate MCP Config"+this.createStatusIndicator("implemented")).setDesc("Generate configuration for MCP clients to connect to the MCP server").addButton(g=>g.setButtonText("Generate Config").onClick(async()=>{await this.generateMcpConfig(g.buttonEl)}))}addAdvancedAccordion(e){new C.Setting(e).setName("Debug Logging"+this.createStatusIndicator("implemented")).setDesc("Enable detailed logging for troubleshooting").addToggle(t=>t.setValue(this.plugin.settings.enableDebugLogging).onChange(async i=>{this.plugin.settings.enableDebugLogging=i,this.plugin.logger.setDebug(i),this.plugin.logger.info(`Debug mode ${i?"enabled":"disabled"} from settings`),await this.plugin.saveSettings()})),new C.Setting(e).setName("View Logs"+this.createStatusIndicator("implemented")).setDesc("Open the plugin logs directory").addButton(t=>t.setButtonText("View Logs").onClick(async()=>{await this.viewLogFile()})),new C.Setting(e).setName("Test Manual Sync"+this.createStatusIndicator("implemented")).setDesc("Sync a single note manually to test the connection and process").addButton(t=>t.setButtonText("Select and Sync Note").onClick(async()=>{await this.runManualSyncTest(t.buttonEl)})),new C.Setting(e).setName("Performance Metrics"+this.createStatusIndicator("todo")).setDesc("Track and display performance metrics"+(this.plugin.settings.showDevelopmentIndicators?" (Metrics collection not implemented)":"")).addToggle(t=>t.setValue(this.plugin.settings.enablePerformanceMetrics).onChange(async i=>{this.plugin.settings.enablePerformanceMetrics=i,await this.plugin.saveSettings()})),new C.Setting(e).setName("Max Retry Attempts"+this.createStatusIndicator("implemented")).setDesc("Maximum number of retry attempts for failed operations").addSlider(t=>t.setLimits(1,10,1).setValue(this.plugin.settings.maxRetryAttempts).setDynamicTooltip().onChange(async i=>{this.plugin.settings.maxRetryAttempts=i,await this.plugin.saveSettings()})),new C.Setting(e).setName("Connection Timeout"+this.createStatusIndicator("implemented")).setDesc("Connection timeout in seconds").addSlider(t=>t.setLimits(5,120,5).setValue(this.plugin.settings.connectionTimeout).setDynamicTooltip().onChange(async i=>{this.plugin.settings.connectionTimeout=i,await this.plugin.saveSettings()})),e.createEl("h4",{text:"Schema Discovery Options",cls:"setting-item-name"}),new C.Setting(e).setName("Auto-discover Schemas"+this.createStatusIndicator("todo")).setDesc("Automatically scan vault for schema patterns"+(this.plugin.settings.showDevelopmentIndicators?" (Schema discovery not implemented)":"")).addToggle(t=>t.setValue(this.plugin.settings.autoDiscoverSchemas).onChange(async i=>{this.plugin.settings.autoDiscoverSchemas=i,await this.plugin.saveSettings()})),new C.Setting(e).setName("Validate Naming Conventions"+this.createStatusIndicator("todo")).setDesc("Check property names against Graphiti best practices"+(this.plugin.settings.showDevelopmentIndicators?" (Validation not implemented)":"")).addToggle(t=>t.setValue(this.plugin.settings.validateNamingConventions).onChange(async i=>{this.plugin.settings.validateNamingConventions=i,await this.plugin.saveSettings()})),new C.Setting(e).setName("Suggest Property Descriptions"+this.createStatusIndicator("todo")).setDesc("Auto-generate descriptions for common property names"+(this.plugin.settings.showDevelopmentIndicators?" (AI suggestions not implemented)":"")).addToggle(t=>t.setValue(this.plugin.settings.suggestPropertyDescriptions).onChange(async i=>{this.plugin.settings.suggestPropertyDescriptions=i,await this.plugin.saveSettings()})),new C.Setting(e).setName("Protected Attribute Warnings"+this.createStatusIndicator("todo")).setDesc("Show warnings for Graphiti protected attribute names"+(this.plugin.settings.showDevelopmentIndicators?" (Warning system not implemented)":"")).addToggle(t=>t.setValue(this.plugin.settings.enableProtectedAttributeWarnings).onChange(async i=>{this.plugin.settings.enableProtectedAttributeWarnings=i,await this.plugin.saveSettings()})),e.createEl("h4",{text:"UI Preferences",cls:"setting-item-name"}),new C.Setting(e).setName("Show Sync Status"+this.createStatusIndicator("partial")).setDesc("Display sync status in the status bar"+(this.plugin.settings.showDevelopmentIndicators?" (UI setting complete, status bar integration not implemented)":"")).addToggle(t=>t.setValue(this.plugin.settings.showSyncStatus).onChange(async i=>{this.plugin.settings.showSyncStatus=i,await this.plugin.saveSettings()})),new C.Setting(e).setName("Show Notifications"+this.createStatusIndicator("partial")).setDesc("Display notifications for sync operations"+(this.plugin.settings.showDevelopmentIndicators?" (UI setting complete, sync notifications not implemented)":"")).addToggle(t=>t.setValue(this.plugin.settings.showNotifications).onChange(async i=>{this.plugin.settings.showNotifications=i,await this.plugin.saveSettings()})),new C.Setting(e).setName("Compact Mode"+this.createStatusIndicator("todo")).setDesc("Use compact UI layout to save space"+(this.plugin.settings.showDevelopmentIndicators?" (Compact UI styling not implemented)":"")).addToggle(t=>t.setValue(this.plugin.settings.compactMode).onChange(async i=>{this.plugin.settings.compactMode=i,await this.plugin.saveSettings()}))}addActionsAccordion(e){new C.Setting(e).setName("Export Settings"+this.createStatusIndicator("implemented")).setDesc("Export your current settings to a file").addButton(t=>t.setButtonText("Export Settings").onClick(async()=>{await this.exportSettings()})),new C.Setting(e).setName("Import Settings"+this.createStatusIndicator("partial")).setDesc("Import settings from a file"+(this.plugin.settings.showDevelopmentIndicators?" (Import works, validation incomplete)":"")).addButton(t=>t.setButtonText("Import Settings").onClick(async()=>{await this.importSettings()})),new C.Setting(e).setName("Reset to Defaults"+this.createStatusIndicator("implemented")).setDesc("Reset all settings to their default values").addButton(t=>t.setButtonText("Reset to Defaults").setWarning().onClick(async()=>{await this.resetToDefaults()}))}async generateMcpConfig(e){var i,s;const t=e.textContent;e.textContent="Generating...",e.setAttribute("disabled","true");try{if((i=this.plugin.logger)==null||i.debug("[MCP-CONFIG] Generating MCP configuration"),this.plugin.graphitiService){const r=await this.plugin.graphitiService.generateClaudeDesktopConfig(),o=JSON.stringify(r.config,null,2),a=document.createElement("div");a.style.cssText=`
					position: fixed;
					top: 0;
					left: 0;
					width: 100%;
					height: 100%;
					background: rgba(0, 0, 0, 0.8);
					display: flex;
					align-items: center;
					justify-content: center;
					z-index: 1000;
				`;const l=document.createElement("div");l.style.cssText=`
					background: var(--background-primary);
					border: 1px solid var(--background-modifier-border);
					border-radius: 8px;
					padding: 20px;
					max-width: 600px;
					width: 90%;
					max-height: 80%;
					overflow: auto;
				`;const c=document.createElement("h3");c.textContent="MCP Configuration",c.style.margin="0 0 15px 0";const p=document.createElement("p");p.textContent="Copy this configuration for your MCP client:",p.style.margin="0 0 10px 0";const g=document.createElement("textarea");g.value=o,g.readOnly=!0,g.style.cssText=`
					width: 100%;
					height: 300px;
					font-family: var(--font-monospace);
					font-size: 12px;
					background: var(--background-secondary);
					border: 1px solid var(--background-modifier-border);
					border-radius: 4px;
					padding: 8px;
					resize: vertical;
					box-sizing: border-box;
				`;const h=document.createElement("div");h.style.cssText=`
					margin-top: 15px;
					display: flex;
					gap: 10px;
					justify-content: flex-end;
				`;const m=document.createElement("button");m.textContent="Copy",m.className="mod-cta",m.onclick=async()=>{try{await navigator.clipboard.writeText(o);const f=m.textContent;m.textContent="Copied!",setTimeout(()=>m.textContent=f,2e3),new C.Notice("[SUCCESS] MCP configuration copied to clipboard")}catch{g.select(),document.execCommand("copy"),new C.Notice("[SUCCESS] MCP configuration copied to clipboard")}};const d=document.createElement("button");d.textContent="Close",d.onclick=()=>document.body.removeChild(a),h.append(m,d),l.append(c,p,g,h),a.appendChild(l),a.onclick=f=>{f.target===a&&document.body.removeChild(a)},document.body.appendChild(a),g.focus(),g.select(),new C.Notice("[SUCCESS] MCP configuration generated")}else new C.Notice("[ERROR] GraphitiService not available")}catch(r){(s=this.plugin.logger)==null||s.error("[MCP-CONFIG] Failed to generate MCP config",{error:r});const o=r instanceof Error?r.message:"Unknown error";new C.Notice(`[ERROR] Failed to generate config: ${o}`)}finally{e.textContent=t,e.removeAttribute("disabled")}}addDevelopmentAccordion(e){new C.Setting(e).setName("Show Development Indicators").setDesc("Display visual indicators showing which features are implemented vs. placeholder/TODO").addToggle(t=>t.setValue(this.plugin.settings.showDevelopmentIndicators).onChange(async i=>{this.plugin.settings.showDevelopmentIndicators=i,await this.plugin.saveSettings(),this.display()})),new C.Setting(e).setName("Experimental Daemon Mode"+this.createStatusIndicator("implemented")).setDesc("Use persistent Python daemon to eliminate BGE model loading overhead (reduces sync time by ~60%)").addToggle(t=>t.setValue(this.plugin.settings.experimentalDaemonMode).onChange(async i=>{this.plugin.settings.experimentalDaemonMode=i,await this.plugin.saveSettings()})),new C.Setting(e).setName("Load Daemon on Launch"+this.createStatusIndicator("implemented")).setDesc("Start Python daemon when plugin loads to eliminate first-sync delay (requires Experimental Daemon Mode)").addToggle(t=>t.setValue(this.plugin.settings.loadDaemonOnLaunch).onChange(async i=>{this.plugin.settings.loadDaemonOnLaunch=i,await this.plugin.saveSettings()})),new C.Setting(e).setName("Log Performance"+this.createStatusIndicator("implemented")).setDesc("Enable detailed timing analysis for sync performance debugging").addToggle(t=>t.setValue(this.plugin.settings.logPerformance).onChange(async i=>{this.plugin.settings.logPerformance=i,await this.plugin.saveSettings()}))}createStatusIndicator(e){if(!this.plugin.settings.showDevelopmentIndicators)return"";switch(e){case"implemented":return" ";case"mock":return" ";case"todo":return" ";case"partial":return" ";default:return""}}getProviderDisplayName(e){return{openai:"OpenAI",anthropic:"Anthropic",google:"Google",azure:"Azure OpenAI",voyage:"Voyage AI",venice:"Venice.ai"}[e]||e}addProviderSpecificSettings(e){const t=this.plugin.settings.llmProvider;t==="azure"&&(new C.Setting(e).setName("Azure Endpoint"+this.createStatusIndicator("implemented")).setDesc("Your Azure OpenAI endpoint URL").addText(i=>i.setPlaceholder("https://your-resource.openai.azure.com/").setValue(this.plugin.settings.azureEndpoint||"").onChange(async s=>{this.plugin.settings.azureEndpoint=s,await this.plugin.saveSettings()})),new C.Setting(e).setName("Azure API Version"+this.createStatusIndicator("implemented")).setDesc("Azure OpenAI API version").addText(i=>i.setPlaceholder("2024-02-01").setValue(this.plugin.settings.azureApiVersion||"").onChange(async s=>{this.plugin.settings.azureApiVersion=s,await this.plugin.saveSettings()}))),(t==="ollama"||this.plugin.settings.embedderProvider==="ollama")&&(new C.Setting(e).setName("Ollama Base URL"+this.createStatusIndicator("implemented")).setDesc("Ollama server base URL (used for both LLM and embedding when applicable)").addText(i=>i.setPlaceholder("http://localhost:11434/v1").setValue(this.plugin.settings.ollamaBaseUrl||"http://localhost:11434/v1").onChange(async s=>{this.plugin.settings.ollamaBaseUrl=s||"http://localhost:11434/v1",await this.plugin.saveSettings()})),new C.Setting(e).setName("Ollama Embedding Dimension"+this.createStatusIndicator("implemented")).setDesc("Dimension size for Ollama embeddings (typically 768 for most models)").addText(i=>i.setPlaceholder("768").setValue((this.plugin.settings.ollamaEmbeddingDim||768).toString()).onChange(async s=>{const r=parseInt(s)||768;this.plugin.settings.ollamaEmbeddingDim=r,await this.plugin.saveSettings()})))}async populateLLMModels(e,t,i=!1){var r,o,a,l,c,p,g;e.selectEl.empty(),i&&e.addOption("","None");let s=[];try{const h=this.plugin.settings,m=i?"llmSmallDefaults":"llmDefaults",d=(r=h==null?void 0:h[m])==null?void 0:r[t];if(d&&typeof d=="object"){const f=Object.entries(d);f.sort((v,w)=>{const S=v[1]&&v[1].recommended?1:0;return(w[1]&&w[1].recommended?1:0)-S||v[0].localeCompare(w[0])}),s=f.map(([v])=>v),(o=this.plugin.logger)==null||o.debug(`[SETTINGS] Using ${m} from plugin.settings for ${t}`,{count:s.length})}else if(i&&((a=h==null?void 0:h.llmDefaults)!=null&&a[t])){const f=Object.entries(h.llmDefaults[t]);f.sort((v,w)=>{const S=v[1]&&v[1].recommended?1:0;return(w[1]&&w[1].recommended?1:0)-S||v[0].localeCompare(w[0])}),s=f.map(([v])=>v),(l=this.plugin.logger)==null||l.debug(`[SETTINGS] Fallback to llmDefaults from plugin.settings for ${t}`,{count:s.length})}}catch(h){(c=this.plugin.logger)==null||c.warn("[SETTINGS] Failed reading LLM defaults from plugin.settings",{error:h})}if(s.length===0&&t!=="ollama"&&((p=this.plugin.logger)==null||p.debug(`[SETTINGS] No LLM defaults found in plugin.settings for ${t}; leaving dropdown empty`)),t==="ollama")try{const h=i?this.ollamaSettings.getOllamaLLMSmallModelsFromSettings():this.ollamaSettings.getOllamaLLMModelsFromSettings();for(const m of h){const d=m.description||"",f=d.length>50?d.substring(0,50)+"...":d,v=f?`${m.name} - ${f}`:m.name;e.addOption(m.name,v)}}catch(h){(g=this.plugin.logger)==null||g.error("[SETTINGS] Failed to load Ollama LLM models from settings",{error:h})}else s.forEach(h=>e.addOption(h,h))}async populateEmbeddingModels(e,t){var s,r,o,a,l;e.selectEl.empty();let i=[];try{const c=this.plugin.settings,p=(s=c==null?void 0:c.embeddingDefaults)==null?void 0:s[t];if(p&&typeof p=="object"){const g=Object.entries(p);g.sort((h,m)=>{const d=h[1]&&h[1].recommended?1:0;return(m[1]&&m[1].recommended?1:0)-d||h[0].localeCompare(m[0])}),i=g.map(([h])=>h),(r=this.plugin.logger)==null||r.debug(`[SETTINGS] Using embeddingDefaults from plugin.settings for ${t}`,{count:i.length})}}catch(c){(o=this.plugin.logger)==null||o.warn("[SETTINGS] Failed reading embedding defaults from plugin.settings",{error:c})}if(i.length===0&&t!=="ollama"&&((a=this.plugin.logger)==null||a.debug(`[SETTINGS] No embedding defaults found in plugin.settings for ${t}; leaving dropdown empty`)),t==="ollama")try{const c=this.ollamaSettings.getOllamaEmbeddingModelNamesFromSettings(),p=this.ollamaSettings.getOllamaEmbeddingModelsFromSettings(),g=await this.ollamaSettings.getOllamaService().getEmbeddingModelsWithStatus(c)||[],h=new Map;for(const m of g)h.set(m.name,!!m.available);for(const m of p){const d=h.get(m.name)||!1,f=typeof m.dimensions=="number"?m.dimensions:this.plugin.settings.ollamaEmbeddingDim||768,v=m.description||"",w=v.length>35?v.substring(0,35)+"...":v,S=`${m.name} (${f}d) - ${w}`;e.addOption(m.name,S)}}catch(c){(l=this.plugin.logger)==null||l.error("[SETTINGS] Failed to load Ollama embedding models",{error:c});const p=this.ollamaSettings.getOllamaEmbeddingModelsFromSettings();for(const g of p){const h=typeof g.dimensions=="number"?g.dimensions:this.plugin.settings.ollamaEmbeddingDim||768,m=g.description||"",d=m.length>40?m.substring(0,40)+"...":m,f=`${g.name} (${h}d) - ${d}`;e.addOption(g.name,f)}}else i.forEach(c=>e.addOption(c,c))}async addEnhancedEmbeddingModelSetting(e){if(this.plugin.settings.embedderProvider==="ollama"){const t=new C.Setting(e).setName("Embedding Model"+this.createStatusIndicator("implemented")).setDesc("Model for generating embeddings with availability checking");let i,s;t.addDropdown(async r=>{i=r,await this.ollamaSettings.populateOllamaModelsWithStatus(i),i.setValue(this.plugin.settings.embeddingModel).onChange(async o=>{var a;try{await this.plugin.vaultRegistryService.hasEmbeddingModelChanged(o,String(this.plugin.settings.ollamaEmbeddingDim||768))&&(new C.Notice("You are changing the embedding model for this vault. You must clear the database to avoid conflicts."),this.plugin.logger.warn("[SETTINGS] Embedding model change detected",{newModel:o,newDimensions:this.plugin.settings.ollamaEmbeddingDim||768})),this.plugin.settings.embeddingModel=o,await this.plugin.saveSettings(),(a=this.plugin.logger)==null||a.debug("[OLLAMA-EMBEDDING-MODEL-CHANGE] Updating vault registry from Ollama model dropdown",{model:o,dimensions:this.plugin.settings.ollamaEmbeddingDim||768,provider:"ollama",vaultName:this.app.vault.getName()}),await this.plugin.vaultRegistryService.updateVaultEmbeddingModel(this.app.vault.getName(),o,this.plugin.settings.ollamaEmbeddingDim||768,"ollama"),o&&await this.ollamaSettings.updateModelStatusIconForDropdown(s,"embedding",o)}catch(l){this.plugin.logger.error("[SETTINGS] Error handling Ollama embedding model change",{error:l}),new C.Notice("Error checking embedding model configuration")}})}),s=t.settingEl.createDiv(),s.style.cssText=`
				margin-top: 8px;
				padding: 8px;
				border-radius: 4px;
				font-size: 0.9em;
			`,this.plugin.settings.embeddingModel&&setTimeout(async()=>{await this.ollamaSettings.updateModelStatusIconForDropdown(s,"embedding",this.plugin.settings.embeddingModel)},100)}else new C.Setting(e).setName("Embedding Model"+this.createStatusIndicator("implemented")).setDesc("Model for generating embeddings").addDropdown(t=>{this.populateEmbeddingModels(t,this.plugin.settings.embedderProvider),t.setValue(this.plugin.settings.embeddingModel).onChange(async i=>{var s,r,o,a;if(this.plugin.vaultRegistryService)try{await this.plugin.vaultRegistryService.hasEmbeddingModelChanged(i,String(this.plugin.settings.ollamaEmbeddingDim||768))&&(new C.Notice("You are changing the embedding model for this vault. You must clear the database to avoid conflicts."),(s=this.plugin.logger)==null||s.warn("[EMBEDDING-WARNING] Embedding model changed for vault",{oldModel:this.plugin.settings.embeddingModel,newModel:i,vaultName:this.app.vault.getName()}))}catch(l){(r=this.plugin.logger)==null||r.error("[EMBEDDING-WARNING] Failed to check embedding model changes",{error:l})}if(this.plugin.settings.embeddingModel=i,await this.plugin.saveSettings(),this.plugin.vaultRegistryService)try{const l=this.app.vault.getName();(o=this.plugin.logger)==null||o.debug("[NON-OLLAMA-EMBEDDING-MODEL-CHANGE] Updating vault registry from embedding model dropdown",{model:i,dimensions:this.plugin.settings.ollamaEmbeddingDim||768,provider:this.plugin.settings.embedderProvider,vaultName:l}),await this.plugin.vaultRegistryService.updateVaultEmbeddingModel(l,i,this.plugin.settings.ollamaEmbeddingDim||768,this.plugin.settings.embedderProvider)}catch(l){(a=this.plugin.logger)==null||a.error("[NON-OLLAMA-EMBEDDING-MODEL] Failed to update vault registry",{error:l,model:i})}})})}async populateOllamaModelsWithStatus(e){await this.ollamaSettings.populateOllamaModelsWithStatus(e)}async handleOllamaModelSelection(e,t){await this.ollamaSettings.handleOllamaModelSelection(e,t)}async downloadOllamaModelWithProgress(e,t){await this.ollamaSettings.downloadOllamaModelWithProgress(e,t)}async isOllamaModelInstalled(e){return await this.ollamaSettings.isOllamaModelInstalled(e)}async updateLLMModelStatusIcon(e,t){await this.ollamaSettings.updateModelStatusIconForDropdown(e,"llm_small",t)}async addCustomLLMModelEntry(e){const t=new C.Setting(e).setName("Custom LLM Model"+this.createStatusIndicator("implemented")).setDesc("Download any Ollama LLM model by name (e.g., llama3.2:3b, codellama:13b)");let i,s,r;t.addText(o=>{i=o.inputEl,o.setPlaceholder("Enter model name (e.g., llama3.2:3b)").onChange(a=>{s&&(s.disabled=!a.trim())})}),t.addButton(o=>{s=o.buttonEl,o.setButtonText(" Download").setTooltip("Download this model from Ollama registry").setDisabled(!0).onClick(async()=>{var l,c;const a=i.value.trim();if(!a){new C.Notice("[ERROR] Please enter a model name");return}try{if(await this.ollamaSettings.isOllamaModelInstalled(a)){new C.Notice(`[INFO] Model ${a} is already installed`);return}await this.ollamaSettings.downloadOllamaModelWithProgress(a,r);try{await this.ollamaSettings.isOllamaModelInstalled(a)&&(await this.ollamaSettings.addCustomOllamaLLMToDefaults(a),await this.ollamaSettings.refreshLLMDropdowns(),new C.Notice(`[SUCCESS] ${a} downloaded and added to LLM models.`))}catch(g){(l=this.plugin.logger)==null||l.warn("[CUSTOM-LLM] Post-download availability check failed",{error:g,modelName:a})}i.value="",s.disabled=!0}catch(p){(c=this.plugin.logger)==null||c.error("[CUSTOM-LLM] Download failed",{error:p,modelName:a});const g=p instanceof Error?p.message:"Unknown error";new C.Notice(`[ERROR] Failed to download ${a}: ${g}`)}})}),r=t.settingEl.createDiv(),r.style.cssText=`
			margin-top: 8px;
			padding: 8px;
			border-radius: 4px;
			font-size: 0.9em;
			min-height: 20px;
		`}async addCustomEmbeddingModelEntry(e){const t=new C.Setting(e).setName("Custom Embedding Model"+this.createStatusIndicator("implemented")).setDesc("Download any Ollama embedding model by name (e.g., nomic-embed-text, mxbai-embed-large)");let i,s,r;t.addText(o=>{i=o.inputEl,o.setPlaceholder("Enter embedding model name").onChange(a=>{s&&(s.disabled=!a.trim())})}),t.addButton(o=>{s=o.buttonEl,o.setButtonText(" Download").setTooltip("Download this embedding model from Ollama registry").setDisabled(!0).onClick(async()=>{var l,c;const a=i.value.trim();if(!a){new C.Notice("[ERROR] Please enter a model name");return}try{if(await this.ollamaSettings.isOllamaModelInstalled(a)){new C.Notice(`[INFO] Model ${a} is already installed`);return}await this.downloadOllamaModelWithProgress(a,r);try{await this.ollamaSettings.isOllamaModelInstalled(a)&&await this.ollamaSettings.addCustomOllamaEmbeddingToDefaults(a)}catch(g){(l=this.plugin.logger)==null||l.warn("[CUSTOM-EMBEDDING] Post-download availability check failed",{error:g,modelName:a})}i.value="",s.disabled=!0}catch(p){(c=this.plugin.logger)==null||c.error("[CUSTOM-EMBEDDING] Download failed",{error:p,modelName:a});const g=p instanceof Error?p.message:"Unknown error";new C.Notice(`[ERROR] Failed to download ${a}: ${g}`)}})}),r=t.settingEl.createDiv(),r.style.cssText=`
			margin-top: 8px;
			padding: 8px;
			border-radius: 4px;
			font-size: 0.9em;
			min-height: 20px;
		`}async refreshOllamaDropdownAndStatus(){this.display()}updateLLMDefaults(e){var r,o,a,l,c,p,g,h,m;const t=this.plugin.settings;let i,s;try{const d=(r=t==null?void 0:t.llmDefaults)==null?void 0:r[e];if(d&&typeof d=="object"){const w=Object.entries(d).find(([,S])=>S&&S.recommended);i=w&&w[0]||Object.keys(d)[0],(o=this.plugin.logger)==null||o.debug("[SETTINGS] Selected LLM default from plugin.settings",{provider:e,model:i})}const f=(a=t==null?void 0:t.llmSmallDefaults)==null?void 0:a[e];if(f&&typeof f=="object"){const w=Object.entries(f).find(([,S])=>S&&S.recommended);s=w&&w[0]||Object.keys(f)[0],(l=this.plugin.logger)==null||l.debug("[SETTINGS] Selected LLM Small default from plugin.settings",{provider:e,model:s})}else!s&&((c=t==null?void 0:t.llmDefaults)!=null&&c[e])&&(s=Object.keys(t.llmDefaults[e])[0])}catch(d){(p=this.plugin.logger)==null||p.warn("[SETTINGS] Failed deriving LLM defaults from plugin.settings",{error:d})}if(!i){const d={openai:{model:"gpt-4o",smallModel:"gpt-4o-mini"},anthropic:{model:"claude-sonnet-4-20250514",smallModel:"claude-3-5-haiku-20241022"},google:{model:"gemini-2.0-flash",smallModel:"gemini-2.0-flash-exp"},azure:{model:"gpt-4o",smallModel:"gpt-4o-mini"},ollama:{model:"deepseek-r1:7b",smallModel:"llama3.1:8b"}};i=(g=d[e])==null?void 0:g.model,s=s||((h=d[e])==null?void 0:h.smallModel),(m=this.plugin.logger)==null||m.debug("[SETTINGS] Falling back to internal LLM defaults",{provider:e,model:i,small:s})}i&&(this.plugin.settings.llmModel=i),s&&(this.plugin.settings.llmSmallModel=s),this.plugin.saveSettings(),this.display()}updateCrossEncoderDefaults(e){var t,i,s,r;if(e==="none"||e==="bge"){this.plugin.settings.crossEncoderModel=void 0,this.plugin.saveSettings(),this.display();return}try{const o=this.plugin.settings,a=(t=o==null?void 0:o.llmCrossEncoderDefaults)==null?void 0:t[e];if(a&&typeof a=="object"){const l=Object.entries(a),c=l.find(([,g])=>g&&g.recommended),p=c&&c[0]||((i=l[0])==null?void 0:i[0]);p&&(this.plugin.settings.crossEncoderModel=p,(s=this.plugin.logger)==null||s.debug("[SETTINGS] Selected cross-encoder default from plugin.settings",{provider:e,model:p}))}}catch(o){(r=this.plugin.logger)==null||r.warn("[SETTINGS] Failed deriving cross-encoder defaults from plugin.settings",{error:o})}this.plugin.saveSettings(),this.display()}async populateCrossEncoderModels(e,t){var s,r,o;if(e.selectEl.empty(),t==="none"){e.addOption("","No reranking model needed");return}let i=[];try{const a=this.plugin.settings,l=(s=a==null?void 0:a.llmCrossEncoderDefaults)==null?void 0:s[t];if(l&&typeof l=="object"){const c=Object.entries(l);c.sort((p,g)=>{const h=p[1]&&p[1].recommended?1:0;return(g[1]&&g[1].recommended?1:0)-h||p[0].localeCompare(g[0])}),i=c.map(([p])=>p),(r=this.plugin.logger)==null||r.debug("[SETTINGS] Using llmCrossEncoderDefaults from plugin.settings for "+t,{count:i.length})}}catch(a){(o=this.plugin.logger)==null||o.warn("[SETTINGS] Failed reading cross-encoder defaults from plugin.settings",{error:a})}if(i.length===0){e.addOption("",`No models configured for ${t}`);return}i.forEach(a=>{e.addOption(a,a)})}updateEmbedderDefaults(e){var s,r,o,a;const t=this.plugin.settings;let i;try{const l=(s=t==null?void 0:t.embeddingDefaults)==null?void 0:s[e];if(l&&typeof l=="object"){const p=Object.entries(l).find(([,g])=>g&&g.recommended);i=p&&p[0]||Object.keys(l)[0],(r=this.plugin.logger)==null||r.debug("[SETTINGS] Selected Embedding default from plugin.settings",{provider:e,model:i})}}catch(l){(o=this.plugin.logger)==null||o.warn("[SETTINGS] Failed deriving embedding defaults from plugin.settings",{error:l})}i||(i={openai:"text-embedding-3-small",google:"text-embedding-004",voyage:"voyage-3.5-lite",ollama:"nomic-embed-text"}[e],(a=this.plugin.logger)==null||a.debug("[SETTINGS] Falling back to internal embedding defaults",{provider:e,model:i})),i&&(this.plugin.settings.embeddingModel=i),this.plugin.saveSettings(),this.display()}async testLLMConnection(e){var i,s,r,o;const t=e.textContent;e.textContent="Testing...",e.addClass("is-loading");try{(i=this.plugin.logger)==null||i.debug("Testing LLM connection");const a=await this.plugin.graphitiService.testLLMConnection();if(a.success){(s=this.plugin.logger)==null||s.debug("LLM connection test successful",{message:a.message,latency:a.latency});const l=a.latency?` (${a.latency}ms)`:"";new C.Notice(`[SUCCESS] LLM connection successful${l}`)}else(r=this.plugin.logger)==null||r.error("LLM connection test failed",{message:a.message}),new C.Notice(`[ERROR] LLM connection failed: ${a.message}`)}catch(a){(o=this.plugin.logger)==null||o.error("LLM connection test error",{error:a});const l=a instanceof Error?a.message:"Unknown error";new C.Notice(`[ERROR] LLM connection failed: ${l}`)}finally{e.textContent=t,e.removeClass("is-loading")}}async testEmbeddingConnection(e){var i,s,r,o;const t=e.textContent;e.textContent="Testing...",e.addClass("is-loading");try{(i=this.plugin.logger)==null||i.debug("Testing embedding connection");const a=await this.plugin.graphitiService.testEmbeddingConnection();if(a.success){(s=this.plugin.logger)==null||s.debug("Embedding connection test successful",{message:a.message,latency:a.latency});const l=a.latency?` (${a.latency}ms)`:"";new C.Notice(`[SUCCESS] Embedding connection successful${l}`)}else(r=this.plugin.logger)==null||r.error("Embedding connection test failed",{message:a.message}),new C.Notice(`[ERROR] Embedding connection failed: ${a.message}`)}catch(a){(o=this.plugin.logger)==null||o.error("Embedding connection test error",{error:a});const l=a instanceof Error?a.message:"Unknown error";new C.Notice(`[ERROR] Embedding connection failed: ${l}`)}finally{e.textContent=t,e.removeClass("is-loading")}}async testProviderCombination(e){var i,s,r,o;const t=e.textContent;e.textContent="Testing...",e.addClass("is-loading");try{(i=this.plugin.logger)==null||i.debug("Testing provider combination");const a=await this.plugin.graphitiService.testProviderCombination();if(a.success){(s=this.plugin.logger)==null||s.debug("Provider combination test successful",{message:a.message,latency:a.latency});const l=a.latency?` (${a.latency}ms)`:"";new C.Notice(`[SUCCESS] Provider combination working${l}`)}else(r=this.plugin.logger)==null||r.error("Provider combination test failed",{message:a.message}),new C.Notice(`[ERROR] Provider combination failed: ${a.message}`)}catch(a){(o=this.plugin.logger)==null||o.error("Provider combination test error",{error:a});const l=a instanceof Error?a.message:"Unknown error";new C.Notice(`[ERROR] Provider combination failed: ${l}`)}finally{e.textContent=t,e.removeClass("is-loading")}}async testFullPipeline(e){var i,s,r;const t=e.textContent;e.textContent="Testing...",e.addClass("is-loading");try{const o=await this.plugin.graphitiService.testFullPipeline();if(o.success){(i=this.plugin.logger)==null||i.debug("Full pipeline test successful",{message:o.message,latency:o.latency});const a=o.latency?` (${o.latency}ms)`:"";new C.Notice(`[SUCCESS] Full pipeline test successful${a}`)}else(s=this.plugin.logger)==null||s.error("Full pipeline test failed",{message:o.message}),new C.Notice(`[ERROR] Full pipeline test failed: ${o.message}`)}catch(o){(r=this.plugin.logger)==null||r.error("Full pipeline test error",{error:o});const a=o instanceof Error?o.message:"Unknown error";new C.Notice(`[ERROR] Full pipeline test failed: ${a}`)}finally{e.textContent=t,e.removeClass("is-loading")}}async validateAPIKeys(e){var i,s,r,o;const t=e.textContent;e.textContent="Validating...",e.addClass("is-loading");try{(i=this.plugin.logger)==null||i.debug("Validating API keys");const a=await this.plugin.graphitiService.validateAPIKeys();a.success?((s=this.plugin.logger)==null||s.debug("API key validation successful",{message:a.message}),new C.Notice(`[SUCCESS] API keys valid: ${a.message}`)):((r=this.plugin.logger)==null||r.error("API key validation failed",{message:a.message}),new C.Notice(`[ERROR] API key validation failed: ${a.message}`))}catch(a){(o=this.plugin.logger)==null||o.error("API key validation error",{error:a});const l=a instanceof Error?a.message:"Unknown error";new C.Notice(`[ERROR] API key validation failed: ${l}`)}finally{e.textContent=t,e.removeClass("is-loading")}}updateDatabaseDefaults(e){this.plugin.saveSettings(),this.display()}async testDatabaseConnection(e){var i,s,r,o;const t=e.textContent;e.textContent="Testing...",e.addClass("is-loading");try{(i=this.plugin.logger)==null||i.debug("[DATABASE] Testing database connection...");const a=await this.plugin.graphitiService.testDatabaseConnection();if(a.success){(s=this.plugin.logger)==null||s.debug("[DATABASE] Database connection test successful",{message:a.message,latency:a.latency});const l=a.latency?` (${a.latency}ms)`:"";new C.Notice(`[SUCCESS] Database connection successful${l}`)}else(r=this.plugin.logger)==null||r.error("[DATABASE] Database connection test failed",{message:a.message}),new C.Notice(`[ERROR] Database connection failed: ${a.message}`)}catch(a){(o=this.plugin.logger)==null||o.error("[DATABASE] Database connection test error",{error:a});const l=a instanceof Error?a.message:"Unknown error";new C.Notice(`[ERROR] Database connection failed: ${l}`)}finally{e.textContent=t,e.removeClass("is-loading")}}async initializeDatabaseSchema(e){var i,s,r,o;const t=e.textContent;e.textContent="Initializing...",e.addClass("is-loading");try{(i=this.plugin.logger)==null||i.debug("[DATABASE] Initializing database schema...");const a=await this.plugin.graphitiService.initializeDatabaseSchema();a.success?((s=this.plugin.logger)==null||s.debug("[DATABASE] Database schema initialization successful",{message:a.message}),new C.Notice("[SUCCESS] Database schema initialized successfully")):((r=this.plugin.logger)==null||r.error("[DATABASE] Database schema initialization failed",{message:a.message}),new C.Notice(`[ERROR] Schema initialization failed: ${a.message}`))}catch(a){(o=this.plugin.logger)==null||o.error("[DATABASE] Database schema initialization error",{error:a});const l=a instanceof Error?a.message:"Unknown error";new C.Notice(`[ERROR] Schema initialization failed: ${l}`)}finally{e.textContent=t,e.removeClass("is-loading")}}async testMCPConnection(e){var i,s,r;const t=e.textContent;e.textContent="Testing...",e.addClass("is-loading");try{(i=this.plugin.logger)==null||i.debug("[MCP] Testing MCP server connection..."),await new Promise(a=>setTimeout(a,1e3));const o={success:!0,message:"MCP server responding [MOCK]",latency:23};o.success&&((s=this.plugin.logger)==null||s.debug("[MCP] MCP server connection test successful",{message:o.message,latency:o.latency}),new C.Notice(`[SUCCESS] MCP server connection successful (${o.latency}ms)`))}catch(o){(r=this.plugin.logger)==null||r.error("[MCP] MCP server connection test error",{error:o});const a=o instanceof Error?o.message:"Unknown error";new C.Notice(`[ERROR] MCP server connection failed: ${a}`)}finally{e.textContent=t,e.removeClass("is-loading")}}async exportSettings(){try{const e=JSON.stringify(this.plugin.settings,null,2),t=new Blob([e],{type:"application/json"}),i=URL.createObjectURL(t),s=document.createElement("a");s.href=i,s.download="graphiti-plugin-settings.json",s.click(),URL.revokeObjectURL(i),new C.Notice("[SUCCESS] Settings exported successfully")}catch(e){const t=e instanceof Error?e.message:"Unknown error";new C.Notice(`[ERROR] Failed to export settings: ${t}`)}}async importSettings(){try{const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=async t=>{var o;const i=(o=t.target.files)==null?void 0:o[0];if(!i)return;const s=await i.text(),r=JSON.parse(s);this.plugin.settings={...this.plugin.settings,...r},await this.plugin.saveSettings(),this.display(),new C.Notice("[SUCCESS] Settings imported successfully")},e.click()}catch(e){const t=e instanceof Error?e.message:"Unknown error";new C.Notice(`[ERROR] Failed to import settings: ${t}`)}}async resetToDefaults(){await this.confirmReset()&&(await this.plugin.loadSettings(),this.display(),new C.Notice("[INFO] Settings reset to defaults"))}async confirmReset(){return new Promise(e=>{const t=document.createElement("div");t.className="modal",t.innerHTML=`
				<div class="modal-container">
					<div class="modal-bg"></div>
					<div class="modal-content">
						<div class="modal-header">
							<h3>Reset Settings</h3>
						</div>
						<div class="modal-body">
							<p>Are you sure you want to reset all settings to their default values? This action cannot be undone.</p>
						</div>
						<div class="modal-footer">
							<button class="mod-cta" id="confirm-reset">Reset</button>
							<button id="cancel-reset">Cancel</button>
						</div>
					</div>
				</div>
			`,document.body.appendChild(t);const i=t.querySelector("#confirm-reset"),s=t.querySelector("#cancel-reset");i.onclick=()=>{document.body.removeChild(t),e(!0)},s.onclick=()=>{document.body.removeChild(t),e(!1)},t.onclick=r=>{(r.target===t||r.target===t.querySelector(".modal-bg"))&&(document.body.removeChild(t),e(!1))}})}async checkPythonDependencies(e){var i,s,r,o;const t=e.textContent;e.textContent="Checking...",e.setAttribute("disabled","true");try{(i=this.plugin.logger)==null||i.debug("Checking Python dependencies");const a=await this.plugin.graphitiService.testConnection();a.success?((s=this.plugin.logger)==null||s.debug("Python dependencies check successful",{message:a.message}),new C.Notice("[SUCCESS] Python dependencies are installed and up to date")):((r=this.plugin.logger)==null||r.error("Python dependencies check failed",{message:a.message}),new C.Notice(`[ERROR] Dependencies missing or outdated: ${a.message}`,5e3))}catch(a){(o=this.plugin.logger)==null||o.error("Failed to check Python dependencies",{error:a});const l=a instanceof Error?a.message:"Unknown error";new C.Notice(`[ERROR] Failed to check dependencies: ${l}`,5e3)}finally{e.textContent=t,e.removeAttribute("disabled")}}async viewLogFile(){var e;try{const i=this.plugin.app.vault.adapter.basePath,s=Me.join(i,".obsidian","plugins","megamem-mcp"),r=Me.join(s,"logs"),{shell:o}=require("electron");o.openPath(r),new C.Notice("[INFO] Log files directory opened in file explorer")}catch(t){(e=this.plugin.logger)==null||e.error("[LOGS] Failed to open log directory",{error:t});const i=t instanceof Error?t.message:"Unknown error";new C.Notice(`[ERROR] Failed to open log directory: ${i}`)}}async installPythonDependencies(e){var i,s,r,o;const t=e.textContent;e.textContent="Installing...",e.setAttribute("disabled","true");try{(i=this.plugin.logger)==null||i.debug("Installing Python dependencies");const a=await this.plugin.graphitiService.installDependencies(l=>{var p;(p=this.plugin.logger)==null||p.debug("Installation progress",{message:l});const c=l.length>30?l.substring(0,30)+"...":l;e.textContent=c,new C.Notice(`[INFO] ${l}`,2e3)});a.success?((s=this.plugin.logger)==null||s.debug("Python dependencies installation successful",{message:a.message}),new C.Notice("[SUCCESS] Python dependencies installed successfully",5e3)):((r=this.plugin.logger)==null||r.error("Python dependencies installation failed",{message:a.message}),new C.Notice(`[ERROR] Installation failed: ${a.message}`,8e3))}catch(a){(o=this.plugin.logger)==null||o.error("Failed to install Python dependencies",{error:a});const l=a instanceof Error?a.message:"Unknown error";new C.Notice(`[ERROR] Installation failed: ${l}`,8e3)}finally{e.textContent=t,e.removeAttribute("disabled")}}async runManualSyncTest(e){var i,s,r,o;const t=e.textContent;e.textContent="Selecting Note...",e.setAttribute("disabled","true");try{const a=this.app.vault.getMarkdownFiles();if(a.length===0){new C.Notice("[INFO] No markdown files found in vault");return}const l=await this.selectNoteForSync(a);if(!l){new C.Notice("[INFO] No note selected for sync test");return}e.textContent="Syncing...",(i=this.plugin.logger)==null||i.debug("Starting manual sync test for note",{path:l.path});const c=this.app.vault.adapter.path.resolve(this.app.vault.adapter.basePath,l.path),p=await this.plugin.graphitiService.testManualSync(c);p.status==="success"?((s=this.plugin.logger)==null||s.debug("Manual sync test successful",p),new C.Notice(`[SUCCESS] Manual sync successful! Processed ${p.processed} note(s), ${p.nodeTypesLoaded} node types, ${p.edgeTypesLoaded} edge types`,8e3)):((r=this.plugin.logger)==null||r.error("Manual sync test failed",p),new C.Notice(`[ERROR] Manual sync failed: ${p.message}`,8e3))}catch(a){(o=this.plugin.logger)==null||o.error("Manual sync test error",{error:a});const l=a instanceof Error?a.message:"Unknown error";new C.Notice(`[ERROR] Manual sync test failed: ${l}`,8e3)}finally{e.textContent=t,e.removeAttribute("disabled")}}async selectNoteForSync(e){return new Promise(t=>{const i=document.createElement("div");i.className="modal",i.innerHTML=`
				<div class="modal-container">
					<div class="modal-bg"></div>
					<div class="modal-content">
						<div class="modal-header">
							<h3>Select Note for Manual Sync Test</h3>
						</div>
						<div class="modal-body">
							<p>Choose a note to test the manual sync process:</p>
							<div style="max-height: 300px; overflow-y: auto;">
								${e.map((o,a)=>`<div style="padding: 8px; border: 1px solid var(--background-modifier-border); margin: 4px 0; cursor: pointer; border-radius: 4px;" data-file-index="${a}">
										<strong>${o.basename}</strong><br>
										<small style="color: var(--text-muted);">${o.path}</small>
									</div>`).join("")}
							</div>
						</div>
						<div class="modal-footer">
							<button id="cancel-select">Cancel</button>
						</div>
					</div>
				</div>
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsiLi4vc3JjL3V0aWxzL0xvZ2dlci50cyIsIi4uL3NyYy91dGlscy9kZWJvdW5jZS50cyIsIi4uL3NyYy91dGlscy9QbHVnaW5EZXRlY3Rpb25IZWxwZXIudHMiLCIuLi9zcmMvc2VydmljZXMvV2ViU29ja2V0U2VydmljZS50cyIsIi4uL3NyYy9zZXJ2aWNlcy9TeW5jUmVnaXN0cnlTZXJ2aWNlLnRzIiwiLi4vc3JjL3NlcnZpY2VzL1ZhdWx0UmVnaXN0cnlTZXJ2aWNlLnRzIiwiLi4vc3JjL3NlcnZpY2VzL1NjaGVtYURpc2NvdmVyeVNlcnZpY2UudHMiLCIuLi9zcmMvc2VydmljZXMvTm90ZVNlbGVjdGlvblNlcnZpY2UudHMiLCIuLi9ub2RlX21vZHVsZXMvanMteWFtbC9kaXN0L2pzLXlhbWwubWpzIiwiLi4vc3JjL3V0aWxzL0Zyb250bWF0dGVyVXRpbHMudHMiLCIuLi9zcmMvdHlwZXMvU3luY1N0YXR1cy50cyIsIi4uL3NyYy9zZXJ2aWNlcy9TeW5jU3RhdHVzTWFuYWdlci50cyIsIi4uL3NyYy9zZXJ2aWNlcy9NQ1BGb2xkZXJSZXNvbHZlci50cyIsIi4uL3NyYy9zZXJ2aWNlcy9HcmFwaGl0aVNlcnZpY2UudHMiLCIuLi9zcmMvc2VydmljZXMvUHl0aG9uRGFlbW9uQnJpZGdlLnRzIiwiLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC91dGlscy5qcyIsIi4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvZG9tLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC9saWZlY3ljbGUuanMiLCIuLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL3NjaGVkdWxlci5qcyIsIi4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvdHJhbnNpdGlvbnMuanMiLCIuLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL2VhY2guanMiLCIuLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL0NvbXBvbmVudC5qcyIsIi4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3NoYXJlZC92ZXJzaW9uLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC9kaXNjbG9zZS12ZXJzaW9uL2luZGV4LmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvT2JzaWRpYW5JY29uLnN2ZWx0ZSIsIi4uL3NyYy9jb21wb25lbnRzL1NjaGVtYU1hbmFnZXIuc3ZlbHRlIiwiLi4vc3JjL3ZpZXdzL1NjaGVtYU1hbmFnZXJWaWV3LnRzIiwiLi4vc3JjL2NvbXBvbmVudHMvU3luY01vZGFsLnN2ZWx0ZSIsIi4uL3NyYy91aS9FbmhhbmNlZFN5bmNVSS50cyIsIi4uL3NyYy9zZXR0aW5ncy9MTE1EZWZhdWx0cy50cyIsIi4uL3NyYy91dGlscy9Gb2xkZXJTdWdnZXN0LnRzIiwiLi4vc3JjL3V0aWxzL1Byb2Nlc3NEZXRlY3Rpb24udHMiLCIuLi9zcmMvc2VydmljZXMvT2xsYW1hU2VydmljZS50cyIsIi4uL3NyYy9zZXR0aW5ncy9PbGxhbWFTZXR0aW5ncy50cyIsIi4uL3NyYy9zZXR0aW5ncy9NQ1BUb29sU2V0dGluZ3MudHMiLCIuLi9zcmMvc2V0dGluZ3MvU2V0dGluZ3NUYWIudHMiLCIuLi9zcmMvdHlwZXMvU2V0dGluZ3MudHMiLCIuLi9zcmMvbWFpbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQbHVnaW4sIG5vcm1hbGl6ZVBhdGggfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IGFwcGVuZEZpbGVTeW5jLCBleGlzdHNTeW5jLCBta2RpclN5bmMgfSBmcm9tICdmcyc7XHJcbmltcG9ydCB7IGpvaW4gfSBmcm9tICdwYXRoJztcclxuXHJcbi8qKlxyXG4gKiBMb2dnZXIgY2xhc3MgZm9yIEdyYXBoaXRpIHBsdWdpbiB3aXRoIGZpbGUtYmFzZWQgbG9nZ2luZ1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEdyYXBoaXRpTG9nZ2VyIHtcclxuICAgIHByaXZhdGUgcGx1Z2luOiBQbHVnaW47XHJcbiAgICBwcml2YXRlIGNvbnNvbGlkYXRlZExvZ1BhdGg6IHN0cmluZyA9ICcnO1xyXG4gICAgcHJpdmF0ZSBkZWJ1Z01vZGU6IGJvb2xlYW47XHJcbiAgICBwcml2YXRlIGNvbnNvbGVQcmVmaXggPSAnTWVnYU1lbTonO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBsdWdpbjogUGx1Z2luLCBkZWJ1Z01vZGU6IGJvb2xlYW4gPSBmYWxzZSkge1xyXG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG4gICAgICAgIHRoaXMuZGVidWdNb2RlID0gZGVidWdNb2RlO1xyXG5cclxuICAgICAgICAvLyBPbmx5IHVzZSBjb25zb2xpZGF0ZWQgbG9nIC0gbm8gaW5kaXZpZHVhbCB0aW1lc3RhbXBlZCBmaWxlc1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZUNvbnNvbGlkYXRlZExvZygpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaW5pdGlhbGl6ZUNvbnNvbGlkYXRlZExvZygpOiB2b2lkIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIC0gYWNjZXNzaW5nIGludGVybmFsIEFQSVxyXG4gICAgICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmFkYXB0ZXI7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgY29uc3QgdmF1bHRQYXRoID0gYWRhcHRlci5iYXNlUGF0aDtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBsb2dzIGRpcmVjdG9yeSBpbiB0aGUgcGx1Z2luIGZvbGRlclxyXG4gICAgICAgICAgICBjb25zdCBwbHVnaW5QYXRoID0gam9pbih2YXVsdFBhdGgsICcub2JzaWRpYW4nLCAncGx1Z2lucycsICdtZWdhbWVtLW1jcCcpO1xyXG4gICAgICAgICAgICBjb25zdCBsb2dzRGlyID0gam9pbihwbHVnaW5QYXRoLCAnbG9ncycpO1xyXG5cclxuICAgICAgICAgICAgLy8gRW5zdXJlIGxvZ3MgZGlyZWN0b3J5IGV4aXN0c1xyXG4gICAgICAgICAgICBpZiAoIWV4aXN0c1N5bmMobG9nc0RpcikpIHtcclxuICAgICAgICAgICAgICAgIG1rZGlyU3luYyhsb2dzRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXRlIGNvbnNvbGlkYXRlZCBsb2cgZmlsZVxyXG4gICAgICAgICAgICB0aGlzLmNvbnNvbGlkYXRlZExvZ1BhdGggPSBqb2luKGxvZ3NEaXIsICdjb25zb2xpZGF0ZWQubG9nJyk7XHJcblxyXG4gICAgICAgICAgICAvLyBXcml0ZSBzZXNzaW9uIGhlYWRlciB0byBjb25zb2xpZGF0ZWQgbG9nXHJcbiAgICAgICAgICAgIHRoaXMud3JpdGVUb0NvbnNvbGlkYXRlZExvZygnXFxuJyArICc9Jy5yZXBlYXQoODApKTtcclxuICAgICAgICAgICAgdGhpcy53cml0ZVRvQ29uc29saWRhdGVkTG9nKGBORVcgU0VTU0lPTjogJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9YCk7XHJcbiAgICAgICAgICAgIHRoaXMud3JpdGVUb0NvbnNvbGlkYXRlZExvZygnPScucmVwZWF0KDgwKSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYCR7dGhpcy5jb25zb2xlUHJlZml4fSBGYWlsZWQgdG8gaW5pdGlhbGl6ZSBjb25zb2xpZGF0ZWQgbG9nOmAsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB3cml0ZVRvRmlsZShtZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIC8vIE9ubHkgd3JpdGUgdG8gY29uc29saWRhdGVkIGxvZyAtIG5vIGluZGl2aWR1YWwgdGltZXN0YW1wZWQgZmlsZXNcclxuICAgICAgICAgICAgdGhpcy53cml0ZVRvQ29uc29saWRhdGVkTG9nKGBbJHt0aW1lc3RhbXB9XSAke21lc3NhZ2V9YCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gY29uc29sZSBpZiBmaWxlIHdyaXRpbmcgZmFpbHNcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgJHt0aGlzLmNvbnNvbGVQcmVmaXh9IEZhaWxlZCB0byB3cml0ZSB0byBsb2cgZmlsZTpgLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgd3JpdGVUb0NvbnNvbGlkYXRlZExvZyhtZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb25zb2xpZGF0ZWRMb2dQYXRoKSB7XHJcbiAgICAgICAgICAgICAgICBhcHBlbmRGaWxlU3luYyh0aGlzLmNvbnNvbGlkYXRlZExvZ1BhdGgsIG1lc3NhZ2UgKyAnXFxuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAvLyBGYWlsIHNpbGVudGx5IGZvciBjb25zb2xpZGF0ZWQgbG9nIHRvIGF2b2lkIHJlY3Vyc2lvblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGZvcm1hdE1lc3NhZ2UobGV2ZWw6IHN0cmluZywgbWVzc2FnZTogc3RyaW5nLCBkYXRhPzogYW55KTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgZm9ybWF0dGVkTWVzc2FnZSA9IGBbJHtsZXZlbH1dICR7bWVzc2FnZX1gO1xyXG4gICAgICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgZm9ybWF0dGVkTWVzc2FnZSArPSBgXFxuICBFcnJvcjogJHtkYXRhLm1lc3NhZ2V9XFxuICBTdGFjazogJHtkYXRhLnN0YWNrfWA7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGRhdGEgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWRNZXNzYWdlICs9IGBcXG4gIERhdGE6ICR7SlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMil9YDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZvcm1hdHRlZE1lc3NhZ2UgKz0gYFxcbiAgRGF0YTogJHtkYXRhfWA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZvcm1hdHRlZE1lc3NhZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgaW5mbyhtZXNzYWdlOiBzdHJpbmcsIGRhdGE/OiBhbnkpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBmb3JtYXR0ZWQgPSB0aGlzLmZvcm1hdE1lc3NhZ2UoJ0lORk8nLCBtZXNzYWdlLCBkYXRhKTtcclxuICAgICAgICBpZiAoZGF0YSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke3RoaXMuY29uc29sZVByZWZpeH0gJHttZXNzYWdlfWAsIGRhdGEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke3RoaXMuY29uc29sZVByZWZpeH0gJHttZXNzYWdlfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLndyaXRlVG9GaWxlKGZvcm1hdHRlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVidWcobWVzc2FnZTogc3RyaW5nLCBkYXRhPzogYW55KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmRlYnVnTW9kZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZCA9IHRoaXMuZm9ybWF0TWVzc2FnZSgnREVCVUcnLCBtZXNzYWdlLCBkYXRhKTtcclxuICAgICAgICBpZiAoZGF0YSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYCR7dGhpcy5jb25zb2xlUHJlZml4fSBbREVCVUddICR7bWVzc2FnZX1gLCBkYXRhKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGAke3RoaXMuY29uc29sZVByZWZpeH0gW0RFQlVHXSAke21lc3NhZ2V9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMud3JpdGVUb0ZpbGUoZm9ybWF0dGVkKTtcclxuICAgIH1cclxuXHJcbiAgICB3YXJuKG1lc3NhZ2U6IHN0cmluZywgZGF0YT86IGFueSk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZCA9IHRoaXMuZm9ybWF0TWVzc2FnZSgnV0FSTicsIG1lc3NhZ2UsIGRhdGEpO1xyXG4gICAgICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGAke3RoaXMuY29uc29sZVByZWZpeH0gW1dBUk5dICR7bWVzc2FnZX1gLCBkYXRhKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYCR7dGhpcy5jb25zb2xlUHJlZml4fSBbV0FSTl0gJHttZXNzYWdlfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLndyaXRlVG9GaWxlKGZvcm1hdHRlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZXJyb3IobWVzc2FnZTogc3RyaW5nLCBlcnJvcj86IEVycm9yIHwgYW55KTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgZm9ybWF0dGVkID0gdGhpcy5mb3JtYXRNZXNzYWdlKCdFUlJPUicsIG1lc3NhZ2UsIGVycm9yKTtcclxuICAgICAgICBpZiAoZXJyb3IgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGAke3RoaXMuY29uc29sZVByZWZpeH0gW0VSUk9SXSAke21lc3NhZ2V9YCwgZXJyb3IpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYCR7dGhpcy5jb25zb2xlUHJlZml4fSBbRVJST1JdICR7bWVzc2FnZX1gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy53cml0ZVRvRmlsZShmb3JtYXR0ZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldERlYnVnKGVuYWJsZWQ6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmRlYnVnTW9kZSA9IGVuYWJsZWQ7XHJcbiAgICAgICAgLy8gVGhlIGxvZ2dlcidzIGRlYnVnIG1vZGUgaXMgbm93IHNldC5cclxuICAgICAgICAvLyBJdCBpcyB1cCB0byB0aGUgY2FsbGVyIChlLmcuLCBTZXR0aW5nc1RhYikgdG8gbG9nIHRoZSBzdGF0ZSBjaGFuZ2UgaWYgZGVzaXJlZC5cclxuICAgICAgICAvLyBUaGlzIHByZXZlbnRzIHJlcGV0aXRpdmUgbG9nZ2luZyBkdXJpbmcgcGx1Z2luIGluaXRpYWxpemF0aW9uIG9yIGludGVybmFsIHVwZGF0ZXMuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGdldExvZ0ZpbGVQYXRoKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc29saWRhdGVkTG9nUGF0aDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBIZWxwZXIgbWV0aG9kIHRvIGxvZyBQeXRob24gcHJvY2VzcyBvdXRwdXRcclxuICAgIGxvZ1B5dGhvbk91dHB1dChzb3VyY2U6ICdzdGRvdXQnIHwgJ3N0ZGVycicsIGRhdGE6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGxpbmVzID0gZGF0YS5zcGxpdCgnXFxuJykuZmlsdGVyKGxpbmUgPT4gbGluZS50cmltKCkpO1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcclxuICAgICAgICAgICAgLy8gUFJPRFVDVElPTiBGSVg6IFByZXZlbnQgbWFzc2l2ZSBMTE0gZXJyb3Igb2JqZWN0IGR1bXBzIGluIGxvZ3NcclxuICAgICAgICAgICAgaWYgKHNvdXJjZSA9PT0gJ3N0ZGVycicgJiYgdGhpcy5zaG91bGRGaWx0ZXJFcnJvckxpbmUobGluZSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIG1hc3NpdmUgZXJyb3IgZHVtcHNcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gVHJ1bmNhdGUgZXh0cmVtZWx5IGxvbmcgbGluZXMgdG8gcHJldmVudCBsb2cgYmxvYXRcclxuICAgICAgICAgICAgY29uc3QgdHJ1bmNhdGVkTGluZSA9IGxpbmUubGVuZ3RoID4gMTAwMCA/IGxpbmUuc3Vic3RyaW5nKDAsIDEwMDApICsgJ1tUUlVOQ0FURURdJyA6IGxpbmU7XHJcbiAgICAgICAgICAgIHRoaXMud3JpdGVUb0ZpbGUoYFtQWVRIT04tJHtzb3VyY2UudG9VcHBlckNhc2UoKX1dICR7dHJ1bmNhdGVkTGluZX1gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzaG91bGRGaWx0ZXJFcnJvckxpbmUobGluZTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgLy8gRmlsdGVyIG91dCBtYXNzaXZlIExMTSBlcnJvciBvYmplY3QgZHVtcHNcclxuICAgICAgICBpZiAobGluZS5pbmNsdWRlcygnTExNIGdlbmVyYXRpb24gZmFpbGVkIHBhcnNpbmcgYXMgSlNPTicpKSB7XHJcbiAgICAgICAgICAgIC8vIExvZyBvbmx5IHRoZSBlcnJvciBtZXNzYWdlLCBub3QgdGhlIG1hc3NpdmUgb2JqZWN0IGR1bXAgdGhhdCBmb2xsb3dzXHJcbiAgICAgICAgICAgIHRoaXMud3JpdGVUb0ZpbGUoYFtQWVRIT04tU1RERVJSXSBbRVJST1JdIExMTSBKU09OIHBhcnNpbmcgZmFpbGVkIC0gb2JqZWN0IGR1bXAgZmlsdGVyZWQgZm9yIGxvZyByZWFkYWJpbGl0eWApO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIEFsbG93IHRoaXMgbGluZSBidXQgc3RhcnQgZmlsdGVyaW5nIHRoZSBkdW1wXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBGaWx0ZXIgbGluZXMgdGhhdCBhcmUgcGFydCBvZiBtYXNzaXZlIEpTT04gb2JqZWN0IGR1bXBzXHJcbiAgICAgICAgaWYgKGxpbmUuaW5jbHVkZXMoJ0lucHV0IG1lc3NhZ2VzOicpIHx8XHJcbiAgICAgICAgICAgIGxpbmUuaW5jbHVkZXMoJ1wicGFydHNcIjonKSB8fFxyXG4gICAgICAgICAgICBsaW5lLmluY2x1ZGVzKCdcInZpZGVvX21ldGFkYXRhXCI6JykgfHxcclxuICAgICAgICAgICAgbGluZS5pbmNsdWRlcygnXCJ0aG91Z2h0XCI6JykgfHxcclxuICAgICAgICAgICAgbGluZS5pbmNsdWRlcygnXCJpbmxpbmVfZGF0YVwiOicpIHx8XHJcbiAgICAgICAgICAgIGxpbmUuaW5jbHVkZXMoJ1wiZmlsZV9kYXRhXCI6JykgfHxcclxuICAgICAgICAgICAgbGluZS5pbmNsdWRlcygnXCJmdW5jdGlvbl9jYWxsXCI6JykgfHxcclxuICAgICAgICAgICAgbGluZS5pbmNsdWRlcygnXCJmdW5jdGlvbl9yZXNwb25zZVwiOicpIHx8XHJcbiAgICAgICAgICAgIChsaW5lLnRyaW0oKS5zdGFydHNXaXRoKCd7JykgJiYgbGluZS5pbmNsdWRlcygnXCInKSkgfHxcclxuICAgICAgICAgICAgKGxpbmUudHJpbSgpLnN0YXJ0c1dpdGgoJ1snKSAmJiBsaW5lLmluY2x1ZGVzKCdcIicpKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gRmlsdGVyIG91dCB0aGVzZSBvYmplY3QgZHVtcCBsaW5lc1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBLZWVwIGFsbCBvdGhlciBzdGRlcnIgbGluZXNcclxuICAgIH1cclxuXHJcbiAgICAvLyBIZWxwZXIgbWV0aG9kIHRvIGxvZyBzeXN0ZW0gaW5mb3JtYXRpb25cclxuICAgIGxvZ1N5c3RlbUluZm8oKTogdm9pZCB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gR2V0IGdyYXBoaXRpIHZlcnNpb24gYXN5bmNocm9ub3VzbHlcclxuICAgICAgICAgICAgdGhpcy5nZXRHcmFwaGl0aVZlcnNpb24oKS50aGVuKGdyYXBoaXRpVmVyc2lvbiA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlYnVnKCdTeXN0ZW0gSW5mb3JtYXRpb246Jywge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXRmb3JtOiBwcm9jZXNzLnBsYXRmb3JtLFxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGVWZXJzaW9uOiBwcm9jZXNzLnZlcnNpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgICAgIG9ic2lkaWFuVmVyc2lvbjogdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmNvbmZpZz8udmVyc2lvbiB8fCAndW5rbm93bicsXHJcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luVmVyc2lvbjogdGhpcy5wbHVnaW4ubWFuaWZlc3QudmVyc2lvbixcclxuICAgICAgICAgICAgICAgICAgICBwbHVnaW5JZDogdGhpcy5wbHVnaW4ubWFuaWZlc3QuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgR3JhcGhpdGlWZXJzaW9uOiBncmFwaGl0aVZlcnNpb25cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBMb2cgc3lzdGVtIGluZm8gd2l0aG91dCBncmFwaGl0aSB2ZXJzaW9uIGlmIGRldGVjdGlvbiBmYWlsc1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWJ1ZygnU3lzdGVtIEluZm9ybWF0aW9uOicsIHtcclxuICAgICAgICAgICAgICAgICAgICBwbGF0Zm9ybTogcHJvY2Vzcy5wbGF0Zm9ybSxcclxuICAgICAgICAgICAgICAgICAgICBub2RlVmVyc2lvbjogcHJvY2Vzcy52ZXJzaW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgICAgICBvYnNpZGlhblZlcnNpb246IHRoaXMucGx1Z2luLmFwcC52YXVsdC5jb25maWc/LnZlcnNpb24gfHwgJ3Vua25vd24nLFxyXG4gICAgICAgICAgICAgICAgICAgIHBsdWdpblZlcnNpb246IHRoaXMucGx1Z2luLm1hbmlmZXN0LnZlcnNpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luSWQ6IHRoaXMucGx1Z2luLm1hbmlmZXN0LmlkLFxyXG4gICAgICAgICAgICAgICAgICAgIEdyYXBoaXRpVmVyc2lvbjogJ2RldGVjdGlvbiBmYWlsZWQnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IoJ0ZhaWxlZCB0byBkZXRlY3QgZ3JhcGhpdGkgdmVyc2lvbicsIGVycm9yKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5lcnJvcignRmFpbGVkIHRvIGxvZyBzeXN0ZW0gaW5mbycsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSGVscGVyIG1ldGhvZCB0byBnZXQgYWN0dWFsIGluc3RhbGxlZCBncmFwaGl0aS1jb3JlIHZlcnNpb25cclxuICAgIHByaXZhdGUgYXN5bmMgZ2V0R3JhcGhpdGlWZXJzaW9uKCk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgc3Bhd24gfSA9IHJlcXVpcmUoJ2NoaWxkX3Byb2Nlc3MnKTtcclxuICAgICAgICAgICAgICAgIC8vIFRyeSBtdWx0aXBsZSBtZXRob2RzIHRvIGdldCB0aGUgdmVyc2lvbiAob25seSBwcmludCBmaW5hbCByZXN1bHQpXHJcbiAgICAgICAgICAgICAgICBjb25zdCB2ZXJzaW9uU2NyaXB0ID0gYFxyXG5pbXBvcnQgc3lzXHJcbnZlcnNpb24gPSBOb25lXHJcblxyXG50cnk6XHJcbiAgICBpbXBvcnQgaW1wb3J0bGliLm1ldGFkYXRhXHJcbiAgICB2ZXJzaW9uID0gaW1wb3J0bGliLm1ldGFkYXRhLnZlcnNpb24oJ2dyYXBoaXRpLWNvcmUnKVxyXG5leGNlcHQ6XHJcbiAgICBwYXNzXHJcblxyXG5pZiBub3QgdmVyc2lvbjpcclxuICAgIHRyeTpcclxuICAgICAgICBpbXBvcnQgcGtnX3Jlc291cmNlc1xyXG4gICAgICAgIHZlcnNpb24gPSBwa2dfcmVzb3VyY2VzLmdldF9kaXN0cmlidXRpb24oJ2dyYXBoaXRpLWNvcmUnKS52ZXJzaW9uXHJcbiAgICBleGNlcHQ6XHJcbiAgICAgICAgcGFzc1xyXG5cclxuaWYgbm90IHZlcnNpb246XHJcbiAgICB0cnk6XHJcbiAgICAgICAgaW1wb3J0IGdyYXBoaXRpX2NvcmVcclxuICAgICAgICB2ZXJzaW9uID0gZ2V0YXR0cihncmFwaGl0aV9jb3JlLCAnX192ZXJzaW9uX18nLCBOb25lKVxyXG4gICAgICAgIGlmIG5vdCB2ZXJzaW9uOlxyXG4gICAgICAgICAgICB2ZXJzaW9uID0gJzAuMTguMCdcclxuICAgIGV4Y2VwdDpcclxuICAgICAgICBwYXNzXHJcblxyXG5pZiBub3QgdmVyc2lvbjpcclxuICAgIHZlcnNpb24gPSAndW5rbm93bidcclxuXHJcbiMgUHJpbnQgb25seSB0aGUgZmluYWwgdmVyc2lvbiByZXN1bHRcclxucHJpbnQodmVyc2lvbilcclxuYDtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9jZXNzID0gc3Bhd24oJ3B5dGhvbicsIFsnLWMnLCB2ZXJzaW9uU2NyaXB0XSwge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0ZGlvOiBbJ3BpcGUnLCAncGlwZScsICdwaXBlJ11cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBvdXRwdXQgPSAnJztcclxuICAgICAgICAgICAgICAgIGxldCBlcnJvciA9ICcnO1xyXG5cclxuICAgICAgICAgICAgICAgIHByb2Nlc3Muc3Rkb3V0Py5vbignZGF0YScsIChkYXRhOiBCdWZmZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQgKz0gZGF0YS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5zdGRlcnI/Lm9uKCdkYXRhJywgKGRhdGE6IEJ1ZmZlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yICs9IGRhdGEudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHByb2Nlc3Mub24oJ2Nsb3NlJywgKGNvZGU6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2RlID09PSAwICYmIG91dHB1dC50cmltKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShvdXRwdXQudHJpbSgpKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGBQeXRob24gcHJvY2VzcyBmYWlsZWQgKGNvZGUgJHtjb2RlfSk6ICR7ZXJyb3IgfHwgJ05vIG91dHB1dCd9YCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHByb2Nlc3Mub24oJ2Vycm9yJywgKGVycjogRXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGBGYWlsZWQgdG8gc3RhcnQgUHl0aG9uIHByb2Nlc3M6ICR7ZXJyLm1lc3NhZ2V9YCkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgRXhjZXB0aW9uIGluIGdldEdyYXBoaXRpVmVyc2lvbjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZnVuY3Rpb24gZGVib3VuY2U8VCBleHRlbmRzICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZD4oZm46IFQsIGRlbGF5OiBudW1iZXIpOiAoLi4uYXJnczogUGFyYW1ldGVyczxUPikgPT4gdm9pZCB7XG4gIGxldCB0aW1lcjogYW55O1xuICByZXR1cm4gKC4uLmFyZ3M6IFBhcmFtZXRlcnM8VD4pID0+IHtcbiAgICBpZiAodGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgfVxuICAgIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiBmbiguLi5hcmdzKSwgZGVsYXkpO1xuICB9O1xufSIsIi8vIEB2ZXNzZWwtcHJvdG9jb2w6QmFsZHIgZ292ZXJuczpbcGx1Z2luLWRldGVjdGlvbnxmZWF0dXJlXSBjb250ZXh0OkNvbnNvbGlkYXRlIHBsdWdpbiBkZXRlY3Rpb24gYW5kIGNvbmZpZyByZWFkaW5nIGZvciBUZW1wbGF0ZXIgYW5kIFBlcmlvZGljIE5vdGVzXG4vLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbc3JjL3V0aWxzL0xvZ2dlci50cywgc3JjL3R5cGVzL1NldHRpbmdzLnRzXVxuLy8gQHB1cnBvc2U6IENlbnRyYWxpemUgZGV0ZWN0aW9uIGFuZCBjb25maWctcmVhZGluZyBmb3IgT2JzaWRpYW4gcGx1Z2lucyBzbyBmb2xkZXIgcmVzb2x1dGlvbiBhbmQgb3RoZXIgc2VydmljZXMgY2FuIHJldXNlIGl0LlxuLy8gQHJlc3VsdDogUHJvdmlkZXMgZGV0ZWN0UGx1Z2lucygpLCByZWFkVGVtcGxhdGVyQ29uZmlnKCksIHJlYWRQZXJpb2RpY05vdGVzQ29uZmlnKCkgd2l0aCBzYWZlIGRlZmF1bHRzIGFuZCByb2J1c3QgZXJyb3IgaGFuZGxpbmdcbi8vIEBzaWduZWQ6IEMuQmrDuHJuXG5cbi8qKlxuICogUGx1Z2luRGV0ZWN0aW9uSGVscGVyXG4gKlxuICogVXRpbGl0aWVzIHRvIGRldGVjdCBpbnN0YWxsZWQgT2JzaWRpYW4gcGx1Z2lucyAodGVtcGxhdGVyIGFuZCBwZXJpb2RpYy1ub3RlcylcbiAqIGFuZCByZWFkIHRoZWlyIGNvbmZpZ3VyYXRpb24gZnJvbSB0aGUgcGx1Z2luIGRhdGEuanNvbiBmaWxlcyBpbiB0aGUgdmF1bHQuXG4gKlxuICogRnVuY3Rpb25zOlxuICogIC0gZGV0ZWN0UGx1Z2lucyhhcHAsIHNldHRpbmdzKVxuICogIC0gcmVhZFRlbXBsYXRlckNvbmZpZyhhcHApXG4gKiAgLSByZWFkUGVyaW9kaWNOb3Rlc0NvbmZpZyhhcHApXG4gKlxuICogVGhlIGZ1bmN0aW9ucyB1c2UgYGFwcC52YXVsdC5hZGFwdGVyYCB0byByZWFkIGAub2JzaWRpYW4vcGx1Z2lucy97cGx1Z2luLWlkfS9kYXRhLmpzb25gLlxuICogQWxsIGxvZ2dpbmcgdXNlcyBHcmFwaGl0aUxvZ2dlci5cbiAqXG4gKiBOb3RlOiBUaGlzIGZpbGUgc2hvdWxkIHJlbWFpbiBwdXJlIHV0aWxpdHkgY29kZSBhbmQgbm90IHBlcmZvcm0gc2lkZS1lZmZlY3RzIG90aGVyIHRoYW4gcmVhZGluZyBwbHVnaW4gZmlsZXMuXG4gKi9cblxuaW1wb3J0IHR5cGUgeyBBcHAgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBHcmFwaGl0aUxvZ2dlciB9IGZyb20gJy4vTG9nZ2VyJztcbmltcG9ydCB0eXBlIHtcblx0VGVtcGxhdGVySW50ZWdyYXRpb25Db25maWdcbn0gZnJvbSAnLi4vdHlwZXMvU2V0dGluZ3MnO1xuXG4vLyBAdmVzc2VsLXByb3RvY29sOkJhbGRyIGdvdmVybnM6W3BsdWdpbi1kZXRlY3Rpb258ZmVhdHVyZV0gY29udGV4dDpDb25zb2xpZGF0ZSBwbHVnaW4gZGV0ZWN0aW9uIGFuZCBjb25maWcgcmVhZGluZyBmb3IgVGVtcGxhdGVyIGFuZCBQZXJpb2RpYyBOb3Rlc1xuLy8gQGludGVyLWRlcGVuZGVuY2llczogW3NyYy91dGlscy9Mb2dnZXIudHMsIHNyYy90eXBlcy9TZXR0aW5ncy50c11cbi8vIEBwdXJwb3NlOiBDZW50cmFsaXplIGRldGVjdGlvbiBhbmQgY29uZmlnLXJlYWRpbmcgZm9yIE9ic2lkaWFuIHBsdWdpbnMgc28gZm9sZGVyIHJlc29sdXRpb24gYW5kIG90aGVyIHNlcnZpY2VzIGNhbiByZXVzZSBpdC5cbi8vIEByZXN1bHQ6IFByb3ZpZGVzIGRldGVjdFBsdWdpbnMoKSwgcmVhZFRlbXBsYXRlckNvbmZpZygpLCByZWFkUGVyaW9kaWNOb3Rlc0NvbmZpZygpIHdpdGggc2FmZSBkZWZhdWx0cyBhbmQgcm9idXN0IGVycm9yIGhhbmRsaW5nXG4vLyBAc2lnbmVkOiBDLkJqw7hyblxuXG4vKipcbiAqIFBsdWdpbkRldGVjdGlvbkhlbHBlclxuICpcbiAqIFV0aWxpdGllcyB0byBkZXRlY3QgaW5zdGFsbGVkIE9ic2lkaWFuIHBsdWdpbnMgKHRlbXBsYXRlciBhbmQgcGVyaW9kaWMtbm90ZXMpXG4gKiBhbmQgcmVhZCB0aGVpciBjb25maWd1cmF0aW9uIGZyb20gdGhlIHBsdWdpbiBkYXRhLmpzb24gZmlsZXMgaW4gdGhlIHZhdWx0LlxuICpcbiAqIEZ1bmN0aW9uczpcbiAqICAtIGRldGVjdFBsdWdpbnMoYXBwLCBzZXR0aW5ncylcbiAqICAtIHJlYWRUZW1wbGF0ZXJDb25maWcoYXBwKVxuICogIC0gcmVhZFBlcmlvZGljTm90ZXNDb25maWcoYXBwKVxuICpcbiAqIFRoZSBmdW5jdGlvbnMgdXNlIGBhcHAudmF1bHQuYWRhcHRlcmAgdG8gcmVhZCBgLm9ic2lkaWFuL3BsdWdpbnMve3BsdWdpbi1pZH0vZGF0YS5qc29uYC5cbiAqIEFsbCBsb2dnaW5nIHVzZXMgR3JhcGhpdGlMb2dnZXIuXG4gKlxuICogTm90ZTogVGhpcyBmaWxlIHNob3VsZCByZW1haW4gcHVyZSB1dGlsaXR5IGNvZGUgYW5kIG5vdCBwZXJmb3JtIHNpZGUtZWZmZWN0cyBvdGhlciB0aGFuIHJlYWRpbmcgcGx1Z2luIGZpbGVzLlxuICovXG5cblxuLyoqXG4gKiBSZXR1cm5zIGEgR3JhcGhpdGlMb2dnZXIgaW5zdGFuY2UgaWYgdGhlIHBsdWdpbiBjb250ZXh0IGlzIGF2YWlsYWJsZSxcbiAqIG90aGVyd2lzZSByZXR1cm5zIGEgbm8tb3Agc2hpbSBsb2dnZXIuXG4gKiBUaGlzIGZ1bmN0aW9uIGhhbmRsZXMgdGhlIGR5bmFtaWMgbmF0dXJlIG9mIHBsdWdpbiBhdmFpbGFiaWxpdHkgaW4gdXRpbGl0eSBjb250ZXh0cy5cbiAqIEl0IGlzIGRlZmluZWQgYXMgYSBsb2NhbCBoZWxwZXIgdG8gYXZvaWQgY29uZmxpY3RzIHdpdGggXCJubyBhZGRpbmcgbmV3IGhlbHBlcnNcIiBydWxlLlxuICovXG5jb25zdCBnZXRGdW5jdGlvbmFsTG9nZ2VyID0gKGFwcEluc3RhbmNlPzogQXBwKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKGFwcEluc3RhbmNlICYmIChhcHBJbnN0YW5jZSBhcyBhbnkpLnBsdWdpbnMgJiYgKGFwcEluc3RhbmNlIGFzIGFueSkucGx1Z2lucy5wbHVnaW5zKSB7XG4gICAgICAgICAgICBjb25zdCBwbHVnaW5JbnN0YW5jZSA9IChhcHBJbnN0YW5jZSBhcyBhbnkpLnBsdWdpbnMucGx1Z2luc1snbWVnYW1lbS1tY3AnXTtcbiAgICAgICAgICAgIGlmIChwbHVnaW5JbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIC8vIEFzc3VtaW5nIGRlYnVnIG1vZGUgc2hvdWxkIGJlIGRlcml2ZWQgZnJvbSBwbHVnaW4gc2V0dGluZ3MgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgLy8gRm9yIGEgdXRpbGl0eSBmaWxlLCBhIHNlbnNpYmxlIGRlZmF1bHQgbWlnaHQgYmUgZmFsc2UgaWYgbm90IGV4cGxpY2l0bHkgcGFzc2VkXG4gICAgICAgICAgICAgICAgY29uc3QgZGVidWdNb2RlID0gcGx1Z2luSW5zdGFuY2Uuc2V0dGluZ3M/LmVuYWJsZURlYnVnTG9nZ2luZyB8fCBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEdyYXBoaXRpTG9nZ2VyKHBsdWdpbkluc3RhbmNlLCBkZWJ1Z01vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIEZhbGxiYWNrIHRvIGNvbnNvbGUgb3Igc2lsZW50IGVycm9yIGZvciBsb2dnZXIgaW5pdGlhbGl6YXRpb24gZmFpbHVyZXNcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGluaXRpYWxpemUgR3JhcGhpdGlMb2dnZXIgaW4gUGx1Z2luRGV0ZWN0aW9uSGVscGVyOicsIGVycik7XG4gICAgfVxuICAgIC8vIEZhbGxiYWNrIHRvIG5vLW9wIGxvZ2dlciBpZiBwbHVnaW4gY29udGV4dCBpcyBub3QgYXZhaWxhYmxlXG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5mbzogKCkgPT4ge30sXG4gICAgICAgIGRlYnVnOiAoKSA9PiB7fSxcbiAgICAgICAgd2FybjogKCkgPT4ge30sXG4gICAgICAgIGVycm9yOiAoKSA9PiB7fSxcbiAgICB9O1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBUZW1wbGF0ZXJDb25maWdSYXcge1xuXHQvLyBtYXRjaGVzIHN0cnVjdHVyZSBmb3VuZCBpbiB0ZW1wbGF0ZXItb2JzaWRpYW4vZGF0YS5qc29uIChiZXN0LWVmZm9ydClcblx0Zm9sZGVyX3RlbXBsYXRlcz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47IC8vIHRlbXBsYXRlIG5hbWUgLT4gZm9sZGVyIHBhdGhcblx0dGVtcGxhdGVzX2ZvbGRlcj86IHN0cmluZzsgLy8gZ2xvYmFsIHRlbXBsYXRlcyBmb2xkZXIgcGF0aFxuXHRzZXR0aW5ncz86IHtcblx0XHR1c2VfdGVtcGxhdGVzX2ZvbGRlcj86IGJvb2xlYW47XG5cdFx0dGVtcGxhdGVzX2ZvbGRlcj86IHN0cmluZztcblx0fTtcblx0Ly8gYWxsb3cgb3RoZXIgZmllbGRzXG5cdFtrZXk6IHN0cmluZ106IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUZW1wbGF0ZXJDb25maWcge1xuXHRkZXRlY3RlZDogYm9vbGVhbjtcblx0ZW5hYmxlZDogYm9vbGVhbjtcblx0dXNlVGVtcGxhdGVGb2xkZXJzOiBib29sZWFuO1xuXHR0ZW1wbGF0ZXNGb2xkZXI6IHN0cmluZyB8IG51bGw7XG5cdGZvbGRlclRlbXBsYXRlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPjsgLy8gbm9ybWFsaXplZCBtYXBcblx0cmF3PzogVGVtcGxhdGVyQ29uZmlnUmF3IHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQZXJpb2RpY05vdGVzQ29uZmlnUmF3IHtcblx0Ly8gbWF0Y2hlcyBzdHJ1Y3R1cmUgZm91bmQgaW4gcGVyaW9kaWMtbm90ZXMvZGF0YS5qc29uIChiZXN0LWVmZm9ydClcblx0cGVyaW9kaWM/OiB7XG5cdFx0ZGFpbHk/OiB7XG5cdFx0XHRmb2xkZXI/OiBzdHJpbmc7XG5cdFx0XHRmb3JtYXQ/OiBzdHJpbmc7XG5cdFx0XHRlbmFibGVkPzogYm9vbGVhbjtcblx0XHR9O1xuXHRcdHdlZWtseT86IHtcblx0XHRcdGZvbGRlcj86IHN0cmluZztcblx0XHRcdGZvcm1hdD86IHN0cmluZztcblx0XHRcdGVuYWJsZWQ/OiBib29sZWFuO1xuXHRcdH07XG5cdFx0bW9udGhseT86IHtcblx0XHRcdGZvbGRlcj86IHN0cmluZztcblx0XHRcdGZvcm1hdD86IHN0cmluZztcblx0XHRcdGVuYWJsZWQ/OiBib29sZWFuO1xuXHRcdH07XG5cdH07XG5cdC8vIGFsbG93IG90aGVyIGZpZWxkc1xuXHRba2V5OiBzdHJpbmddOiBhbnk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGVyaW9kaWNOb3Rlc0NvbmZpZyB7XG5cdGRldGVjdGVkOiBib29sZWFuO1xuXHRlbmFibGVkOiBib29sZWFuO1xuXHRkYWlseT86IHsgZW5hYmxlZDogYm9vbGVhbjsgZm9sZGVyPzogc3RyaW5nIHwgbnVsbDsgZm9ybWF0Pzogc3RyaW5nIHwgbnVsbCB9O1xuXHR3ZWVrbHk/OiB7IGVuYWJsZWQ6IGJvb2xlYW47IGZvbGRlcj86IHN0cmluZyB8IG51bGw7IGZvcm1hdD86IHN0cmluZyB8IG51bGwgfTtcblx0bW9udGhseT86IHsgZW5hYmxlZDogYm9vbGVhbjsgZm9sZGVyPzogc3RyaW5nIHwgbnVsbDsgZm9ybWF0Pzogc3RyaW5nIHwgbnVsbCB9O1xuXHRyYXc/OiBQZXJpb2RpY05vdGVzQ29uZmlnUmF3IHwgbnVsbDtcbn1cblxuZnVuY3Rpb24gcGx1Z2luRGF0YVBhdGgocGx1Z2luSWQ6IHN0cmluZyk6IHN0cmluZyB7XG5cdC8vIHBsdWdpbiBkYXRhLmpzb24gcGF0aCByZWxhdGl2ZSB0byB2YXVsdCByb290XG5cdHJldHVybiBgLm9ic2lkaWFuL3BsdWdpbnMvJHtwbHVnaW5JZH0vZGF0YS5qc29uYDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gc2FmZVJlYWRKc29uRmlsZShhZGFwdGVyOiBhbnksIHBhdGg6IHN0cmluZywgbG9nZ2VyOiBSZXR1cm5UeXBlPHR5cGVvZiBnZXRGdW5jdGlvbmFsTG9nZ2VyPik6IFByb21pc2U8YW55IHwgbnVsbD4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGV4aXN0cyA9IGF3YWl0IGFkYXB0ZXIuZXhpc3RzKHBhdGgpO1xuICAgICAgICBpZiAoIWV4aXN0cykge1xuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKGBbUGx1Z2luRGV0ZWN0aW9uXSBmaWxlIG5vdCBmb3VuZDogJHtwYXRofWApO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IGFkYXB0ZXIucmVhZChwYXRoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKGBbUGx1Z2luRGV0ZWN0aW9uXSBGYWlsZWQgdG8gcGFyc2UgSlNPTiBhdCAke3BhdGh9OiAke1N0cmluZyhlcnIpfWApO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgbG9nZ2VyLmVycm9yKGBbUGx1Z2luRGV0ZWN0aW9uXSBFcnJvciByZWFkaW5nICR7cGF0aH06ICR7U3RyaW5nKGVycil9YCk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuLyoqXG4gKiBkZXRlY3RQbHVnaW5zXG4gKiAtIEluc3BlY3QgYXBwLnBsdWdpbnMucGx1Z2lucyBmb3IgcHJlc2VuY2Ugb2YgdGVtcGxhdGVyIGFuZCBwZXJpb2RpYy1ub3Rlc1xuICogLSBSZWFkIHBsdWdpbiBlbmFibGVkIGZsYWcgaWYgcHJlc2VudFxuICogLSBSZXR1cm5zIGEgc21hbGwgb2JqZWN0IGRlc2NyaWJpbmcgZGV0ZWN0aW9uXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZXRlY3RQbHVnaW5zKGFwcDogQXBwLCBzZXR0aW5ncz86IGFueSk6IFByb21pc2U8e1xuXHR0ZW1wbGF0ZXI6IHsgcHJlc2VudDogYm9vbGVhbjsgZW5hYmxlZDogYm9vbGVhbjsgcGx1Z2luSWQ6IHN0cmluZyB9O1xuXHRwZXJpb2RpY05vdGVzOiB7IHByZXNlbnQ6IGJvb2xlYW47IGVuYWJsZWQ6IGJvb2xlYW47IHBsdWdpbklkOiBzdHJpbmcgfTtcbn0+IHtcblx0Y29uc3QgY3VycmVudExvZ2dlciA9IGdldEZ1bmN0aW9uYWxMb2dnZXIoYXBwKTtcblx0Y29uc3QgdGVtcGxhdGVySWQgPSAndGVtcGxhdGVyLW9ic2lkaWFuJztcblx0Y29uc3QgcGVyaW9kaWNJZCA9ICdwZXJpb2RpYy1ub3Rlcyc7XG5cblx0dHJ5IHtcblx0XHRjb25zdCBwbHVnaW5zID0gKGFwcCAmJiAoYXBwIGFzIGFueSkucGx1Z2lucyAmJiAoYXBwIGFzIGFueSkucGx1Z2lucy5wbHVnaW5zKSB8fCB7fTtcblx0XHRjb25zdCB0ZW1wbGF0ZXJQbHVnaW4gPSBwbHVnaW5zW3RlbXBsYXRlcklkXTtcblx0XHRjb25zdCBwZXJpb2RpY1BsdWdpbiA9IHBsdWdpbnNbcGVyaW9kaWNJZF07XG5cblx0XHRjb25zdCB0ZW1wbGF0ZXJQcmVzZW50ID0gISF0ZW1wbGF0ZXJQbHVnaW47XG5cdFx0Y29uc3QgcGVyaW9kaWNQcmVzZW50ID0gISFwZXJpb2RpY1BsdWdpbjtcblxuXHRcdGNvbnN0IHRlbXBsYXRlckVuYWJsZWQgPSB0ZW1wbGF0ZXJQbHVnaW4gPyAhIXRlbXBsYXRlclBsdWdpbi5lbmFibGVkIDogZmFsc2U7XG5cdFx0Y29uc3QgcGVyaW9kaWNFbmFibGVkID0gcGVyaW9kaWNQbHVnaW4gPyAhIXBlcmlvZGljUGx1Z2luLmVuYWJsZWQgOiBmYWxzZTtcblxuXHRcdGN1cnJlbnRMb2dnZXIuaW5mbyhgW1BsdWdpbkRldGVjdGlvbl0gdGVtcGxhdGVyIHByZXNlbnQ9JHt0ZW1wbGF0ZXJQcmVzZW50fSBlbmFibGVkPSR7dGVtcGxhdGVyRW5hYmxlZH1gKTtcblx0XHRjdXJyZW50TG9nZ2VyLmluZm8oYFtQbHVnaW5EZXRlY3Rpb25dIHBlcmlvZGljLW5vdGVzIHByZXNlbnQ9JHtwZXJpb2RpY1ByZXNlbnR9IGVuYWJsZWQ9JHtwZXJpb2RpY0VuYWJsZWR9YCk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0dGVtcGxhdGVyOiB7IHByZXNlbnQ6IHRlbXBsYXRlclByZXNlbnQsIGVuYWJsZWQ6IHRlbXBsYXRlckVuYWJsZWQsIHBsdWdpbklkOiB0ZW1wbGF0ZXJJZCB9LFxuXHRcdFx0cGVyaW9kaWNOb3RlczogeyBwcmVzZW50OiBwZXJpb2RpY1ByZXNlbnQsIGVuYWJsZWQ6IHBlcmlvZGljRW5hYmxlZCwgcGx1Z2luSWQ6IHBlcmlvZGljSWQgfSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHRjdXJyZW50TG9nZ2VyLmVycm9yKGBbUGx1Z2luRGV0ZWN0aW9uXSBkZXRlY3RQbHVnaW5zIGZhaWxlZDogJHtTdHJpbmcoZXJyKX1gKTtcblx0XHQvLyByZXR1cm4gY29uc2VydmF0aXZlIGRlZmF1bHRzXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRlbXBsYXRlcjogeyBwcmVzZW50OiBmYWxzZSwgZW5hYmxlZDogZmFsc2UsIHBsdWdpbklkOiAndGVtcGxhdGVyLW9ic2lkaWFuJyB9LFxuXHRcdFx0cGVyaW9kaWNOb3RlczogeyBwcmVzZW50OiBmYWxzZSwgZW5hYmxlZDogZmFsc2UsIHBsdWdpbklkOiAncGVyaW9kaWMtbm90ZXMnIH0sXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIHJlYWRUZW1wbGF0ZXJDb25maWdcbiAqIC0gUmVhZHMgYC5vYnNpZGlhbi9wbHVnaW5zL3RlbXBsYXRlci1vYnNpZGlhbi9kYXRhLmpzb25gXG4gKiAtIEV4dHJhY3RzIGZvbGRlcl90ZW1wbGF0ZXMgYW5kIHRlbXBsYXRlc19mb2xkZXIgKHdpdGggZmFsbGJhY2tzKVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVhZFRlbXBsYXRlckNvbmZpZyhhcHA6IEFwcCk6IFByb21pc2U8VGVtcGxhdGVyQ29uZmlnPiB7XG5cdGNvbnN0IGN1cnJlbnRMb2dnZXIgPSBnZXRGdW5jdGlvbmFsTG9nZ2VyKGFwcCk7XG5cdGNvbnN0IGFkYXB0ZXIgPSAoYXBwIGFzIGFueSkudmF1bHQgJiYgKGFwcCBhcyBhbnkpLnZhdWx0LmFkYXB0ZXI7XG5cdGNvbnN0IHBsdWdpbklkID0gJ3RlbXBsYXRlci1vYnNpZGlhbic7XG5cdGNvbnN0IHBhdGggPSBwbHVnaW5EYXRhUGF0aChwbHVnaW5JZCk7XG5cblx0Y29uc3QgZGVmYXVsdFJlc3VsdDogVGVtcGxhdGVyQ29uZmlnID0ge1xuXHRcdGRldGVjdGVkOiBmYWxzZSxcblx0XHRlbmFibGVkOiBmYWxzZSxcblx0XHR1c2VUZW1wbGF0ZUZvbGRlcnM6IGZhbHNlLFxuXHRcdHRlbXBsYXRlc0ZvbGRlcjogbnVsbCxcblx0XHRmb2xkZXJUZW1wbGF0ZXM6IHt9LFxuXHRcdHJhdzogbnVsbCxcblx0fTtcblxuXHRpZiAoIWFkYXB0ZXIpIHtcblx0XHRjdXJyZW50TG9nZ2VyLndhcm4oJ1tQbHVnaW5EZXRlY3Rpb25dIGFwcC52YXVsdC5hZGFwdGVyIG5vdCBhdmFpbGFibGUgd2hlbiByZWFkaW5nIFRlbXBsYXRlciBjb25maWcnKTtcblx0XHRyZXR1cm4gZGVmYXVsdFJlc3VsdDtcblx0fVxuXG5cdGNvbnN0IHJhdyA9IChhd2FpdCBzYWZlUmVhZEpzb25GaWxlKGFkYXB0ZXIsIHBhdGgsIGN1cnJlbnRMb2dnZXIpKSBhcyBUZW1wbGF0ZXJDb25maWdSYXcgfCBudWxsO1xuXHRpZiAoIXJhdykge1xuXHRcdHJldHVybiBkZWZhdWx0UmVzdWx0O1xuXHR9XG5cblx0Ly8gbm9ybWFsaXNlXG5cdC8vIFNhZmVseSBhY2Nlc3MgZm9sZGVyX3RlbXBsYXRlcyB3aGljaCBtYXkgZXhpc3Qgb24gdGhlIHRvcC1sZXZlbCByYXcgb2JqZWN0IG9yIHdpdGhpbiByYXcuc2V0dGluZ3MuXG5cdC8vIFRlbXBsYXRlciBzdG9yZXMgZm9sZGVyIHRlbXBsYXRlcyBlaXRoZXIgYXMgYSBtYXAgeyBcIlRQTCBOYW1lXCI6IFwiZm9sZGVyXCIgfSBPUiBhcyBhbiBhcnJheVxuXHQvLyBbeyBmb2xkZXI6IFwiLi4uXCIsIHRlbXBsYXRlOiBcInBhdGgvdG8vVFBMIE5hbWUubWRcIiB9LCAuLi5dLiBIYW5kbGUgYm90aCBzaGFwZXMgYW5kIG5vcm1hbGl6ZSBrZXlzLlxuXHRjb25zdCBhbnlSYXcgPSByYXcgYXMgYW55O1xuXG5cdC8vIEdhdGhlciByYXcgZm9sZGVyIHRlbXBsYXRlcyBjYW5kaWRhdGUgKGNvdWxkIGJlIG9iamVjdCBvciBhcnJheSlcblx0Y29uc3QgcmF3Rm9sZGVyVGVtcGxhdGVzQ2FuZGlkYXRlID0gYW55UmF3LmZvbGRlcl90ZW1wbGF0ZXMgfHwgKGFueVJhdy5zZXR0aW5ncyAmJiBhbnlSYXcuc2V0dGluZ3MuZm9sZGVyX3RlbXBsYXRlcykgfHwgYW55UmF3LmZvbGRlclRlbXBsYXRlcyB8fCBhbnlSYXcuZm9sZGVyX3RlbXBsYXRlc19hcnJheSB8fCBudWxsO1xuXG5cdC8vIEhlbHBlcjogbm9ybWFsaXplIGEgdGVtcGxhdGUgbmFtZSB0byBhIGNhbm9uaWNhbCBrZXkgdXNlZCBieSBsb29rdXBzIChiYXNlbmFtZSwgdHJpbW1lZCwgbG93ZXJjYXNlKVxuXHRjb25zdCBub3JtYWxpemVUZW1wbGF0ZUtleSA9ICh0OiBzdHJpbmcpID0+IHtcblx0XHRpZiAoIXQpIHJldHVybiAnJztcblx0XHQvLyBFeHRyYWN0IGJhc2VuYW1lIGlmIGdpdmVuIGEgcGF0aCwgcmVtb3ZlIGV4dGVuc2lvbiwgdHJpbSBhbmQgbG93ZXItY2FzZSBmb3Igcm9idXN0IG1hdGNoaW5nXG5cdFx0Y29uc3QgcGFydHMgPSB0LnNwbGl0KCcvJykucG9wKCkgfHwgdDtcblx0XHRyZXR1cm4gcGFydHMucmVwbGFjZSgvXFwubWQkL2ksICcnKS50cmltKCkudG9Mb3dlckNhc2UoKTtcblx0fTtcblxuXHRjb25zdCBmb2xkZXJUZW1wbGF0ZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblxuXHQvLyBJZiB0ZW1wbGF0ZXIgc3RvcmVkIGEgbWFwICh0ZW1wbGF0ZU5hbWUgLT4gZm9sZGVyKVxuXHRpZiAocmF3Rm9sZGVyVGVtcGxhdGVzQ2FuZGlkYXRlICYmIHR5cGVvZiByYXdGb2xkZXJUZW1wbGF0ZXNDYW5kaWRhdGUgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHJhd0ZvbGRlclRlbXBsYXRlc0NhbmRpZGF0ZSkpIHtcblx0XHRmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhyYXdGb2xkZXJUZW1wbGF0ZXNDYW5kaWRhdGUgYXMgUmVjb3JkPHN0cmluZywgYW55PikpIHtcblx0XHRcdGNvbnN0IGtleSA9IG5vcm1hbGl6ZVRlbXBsYXRlS2V5KGspO1xuXHRcdFx0aWYgKGtleSkgZm9sZGVyVGVtcGxhdGVzW2tleV0gPSB0eXBlb2YgdiA9PT0gJ3N0cmluZycgPyB2IDogU3RyaW5nKHYgfHwgJycpO1xuXHRcdH1cblx0fVxuXG5cdC8vIElmIHRlbXBsYXRlciBzdG9yZWQgYW4gYXJyYXkgb2YgeyBmb2xkZXIsIHRlbXBsYXRlIH0gb2JqZWN0cyAoY29tbW9uKVxuXHRpZiAoQXJyYXkuaXNBcnJheShyYXdGb2xkZXJUZW1wbGF0ZXNDYW5kaWRhdGUpKSB7XG5cdFx0Zm9yIChjb25zdCBpdGVtIG9mIChyYXdGb2xkZXJUZW1wbGF0ZXNDYW5kaWRhdGUgYXMgYW55W10pKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBmb2xkZXIgPSBpdGVtPy5mb2xkZXIgfHwgaXRlbT8uZm9sZGVyUGF0aCB8fCAnJztcblx0XHRcdFx0Y29uc3QgdGVtcGxhdGVQYXRoID0gaXRlbT8udGVtcGxhdGUgfHwgaXRlbT8udGVtcGxhdGVQYXRoIHx8ICcnO1xuXHRcdFx0XHRjb25zdCBrZXkgPSBub3JtYWxpemVUZW1wbGF0ZUtleSh0ZW1wbGF0ZVBhdGgpO1xuXHRcdFx0XHRpZiAoa2V5KSB7XG5cdFx0XHRcdFx0Zm9sZGVyVGVtcGxhdGVzW2tleV0gPSBmb2xkZXI7XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0Ly8gaWdub3JlIG1hbGZvcm1lZCBlbnRyaWVzXG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Y29uc3QgdGVtcGxhdGVzRm9sZGVyID0gKGFueVJhdy50ZW1wbGF0ZXNfZm9sZGVyIHx8IChhbnlSYXcuc2V0dGluZ3MgJiYgYW55UmF3LnNldHRpbmdzLnRlbXBsYXRlc19mb2xkZXIpKSB8fCBudWxsO1xuXHRjb25zdCB1c2VUZW1wbGF0ZUZvbGRlcnMgPSBCb29sZWFuKE9iamVjdC5rZXlzKGZvbGRlclRlbXBsYXRlcyB8fCB7fSkubGVuZ3RoKSB8fCAhIShhbnlSYXcuc2V0dGluZ3MgJiYgYW55UmF3LnNldHRpbmdzLnVzZV90ZW1wbGF0ZXNfZm9sZGVyKTtcblxuXHQvLyBEZXRlcm1pbmUgZW5hYmxlZDogcGx1Z2luIGluc3RhbGxhdGlvbiBkb2Vzbid0IGd1YXJhbnRlZSBlbmFibGVkIGZsYWcgaGVyZTsgY2hlY2sgYXBwLnBsdWdpbnMgaWYgcG9zc2libGVcblx0bGV0IGVuYWJsZWQgPSBmYWxzZTtcblx0dHJ5IHtcblx0XHRjb25zdCBwbHVnaW5zID0gKGFwcCBhcyBhbnkpLnBsdWdpbnMgJiYgKGFwcCBhcyBhbnkpLnBsdWdpbnMucGx1Z2lucztcblx0XHRpZiAocGx1Z2lucyAmJiBwbHVnaW5zW3BsdWdpbklkXSkge1xuXHRcdFx0ZW5hYmxlZCA9ICEhcGx1Z2luc1twbHVnaW5JZF0uZW5hYmxlZDtcblx0XHR9XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdGN1cnJlbnRMb2dnZXIuZGVidWcoYFtQbHVnaW5EZXRlY3Rpb25dIGNvdWxkIG5vdCBkZXRlcm1pbmUgdGVtcGxhdGVyIGVuYWJsZWQgc3RhdGU6ICR7U3RyaW5nKGVycil9YCk7XG5cdH1cblxuXHRjb25zdCByZXN1bHQ6IFRlbXBsYXRlckNvbmZpZyA9IHtcblx0XHRkZXRlY3RlZDogdHJ1ZSxcblx0XHRlbmFibGVkLFxuXHRcdHVzZVRlbXBsYXRlRm9sZGVycyxcblx0XHR0ZW1wbGF0ZXNGb2xkZXI6IHRlbXBsYXRlc0ZvbGRlciB8fCBudWxsLFxuXHRcdGZvbGRlclRlbXBsYXRlczogZm9sZGVyVGVtcGxhdGVzIHx8IHt9LFxuXHRcdHJhdyxcblx0fTtcblxuXHRjdXJyZW50TG9nZ2VyLmRlYnVnKCdbUGx1Z2luRGV0ZWN0aW9uXSByZWFkVGVtcGxhdGVyQ29uZmlnIHJlc3VsdCcsIHsgLi4ucmVzdWx0LCByYXc6IHVuZGVmaW5lZCB9KTtcblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiByZWFkUGVyaW9kaWNOb3Rlc0NvbmZpZ1xuICogLSBSZWFkcyBgLm9ic2lkaWFuL3BsdWdpbnMvcGVyaW9kaWMtbm90ZXMvZGF0YS5qc29uYFxuICogLSBFeHRyYWN0cyBkYWlseS93ZWVrbHkvbW9udGhseSBmb2xkZXIgYW5kIGZvcm1hdCBzZXR0aW5nc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVhZFBlcmlvZGljTm90ZXNDb25maWcoYXBwOiBBcHApOiBQcm9taXNlPFBlcmlvZGljTm90ZXNDb25maWc+IHtcblx0Y29uc3QgY3VycmVudExvZ2dlciA9IGdldEZ1bmN0aW9uYWxMb2dnZXIoYXBwKTtcblx0Y29uc3QgYWRhcHRlciA9IChhcHAgYXMgYW55KS52YXVsdCAmJiAoYXBwIGFzIGFueSkudmF1bHQuYWRhcHRlcjtcblx0Y29uc3QgcGx1Z2luSWQgPSAncGVyaW9kaWMtbm90ZXMnO1xuXHRjb25zdCBwYXRoID0gcGx1Z2luRGF0YVBhdGgocGx1Z2luSWQpO1xuXG5cdGNvbnN0IGRlZmF1bHRSZXN1bHQ6IFBlcmlvZGljTm90ZXNDb25maWcgPSB7XG5cdFx0ZGV0ZWN0ZWQ6IGZhbHNlLFxuXHRcdGVuYWJsZWQ6IGZhbHNlLFxuXHRcdHJhdzogbnVsbCxcblx0fTtcblxuXHRpZiAoIWFkYXB0ZXIpIHtcblx0XHRjdXJyZW50TG9nZ2VyLndhcm4oJ1tQbHVnaW5EZXRlY3Rpb25dIGFwcC52YXVsdC5hZGFwdGVyIG5vdCBhdmFpbGFibGUgd2hlbiByZWFkaW5nIFBlcmlvZGljIE5vdGVzIGNvbmZpZycpO1xuXHRcdHJldHVybiBkZWZhdWx0UmVzdWx0O1xuXHR9XG5cblx0Y29uc3QgcmF3ID0gKGF3YWl0IHNhZmVSZWFkSnNvbkZpbGUoYWRhcHRlciwgcGF0aCwgY3VycmVudExvZ2dlcikpIGFzIFBlcmlvZGljTm90ZXNDb25maWdSYXcgfCBudWxsO1xuXHRpZiAoIXJhdykge1xuXHRcdHJldHVybiBkZWZhdWx0UmVzdWx0O1xuXHR9XG5cblx0Y29uc3QgcGVyaW9kaWMgPSByYXc7IC8vIGRhaWx5LCB3ZWVrbHksIG1vbnRobHkgYXJlIGRpcmVjdGx5IG9uIHRoZSByb290IG9iamVjdCwgbm90IG5lc3RlZCB1bmRlciAncGVyaW9kaWMnXG5cblx0ZnVuY3Rpb24gcmVhZFNlY3Rpb24oc2VjdGlvbjogYW55KSB7XG5cdFx0aWYgKCFzZWN0aW9uKSByZXR1cm4geyBlbmFibGVkOiBmYWxzZSwgZm9sZGVyOiBudWxsLCBmb3JtYXQ6IG51bGwgfTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZW5hYmxlZDogQm9vbGVhbihzZWN0aW9uLmVuYWJsZWQpLFxuXHRcdFx0Zm9sZGVyOiBzZWN0aW9uLmZvbGRlciB8fCBudWxsLFxuXHRcdFx0Zm9ybWF0OiBzZWN0aW9uLmZvcm1hdCB8fCBudWxsLFxuXHRcdH07XG5cdH1cblxuXHRjb25zdCBkYWlseSA9IHJlYWRTZWN0aW9uKHBlcmlvZGljLmRhaWx5KTtcblx0Y29uc3Qgd2Vla2x5ID0gcmVhZFNlY3Rpb24ocGVyaW9kaWMud2Vla2x5KTtcblx0Y29uc3QgbW9udGhseSA9IHJlYWRTZWN0aW9uKHBlcmlvZGljLm1vbnRobHkpO1xuXG5cdC8vIERldGVybWluZSBlbmFibGVkIG92ZXJhbGwgYnkgY2hlY2tpbmcgcHJlc2VuY2Ugb2YgcGVyaW9kaWMgc2VjdGlvbnMgb3IgYXBwLnBsdWdpbnMgZmxhZ1xuXHRsZXQgZW5hYmxlZCA9ICEhKGRhaWx5LmVuYWJsZWQgfHwgd2Vla2x5LmVuYWJsZWQgfHwgbW9udGhseS5lbmFibGVkKTtcblx0dHJ5IHtcblx0XHRjb25zdCBwbHVnaW5zID0gKGFwcCBhcyBhbnkpLnBsdWdpbnMgJiYgKGFwcCBhcyBhbnkpLnBsdWdpbnMucGx1Z2lucztcblx0XHRpZiAocGx1Z2lucyAmJiBwbHVnaW5zW3BsdWdpbklkXSkge1xuXHRcdFx0ZW5hYmxlZCA9IGVuYWJsZWQgfHwgISFwbHVnaW5zW3BsdWdpbklkXS5lbmFibGVkO1xuXHRcdH1cblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0Y3VycmVudExvZ2dlci5kZWJ1ZyhgW1BsdWdpbkRldGVjdGlvbl0gY291bGQgbm90IGRldGVybWluZSBwZXJpb2RpYy1ub3RlcyBlbmFibGVkIHN0YXRlOiAke1N0cmluZyhlcnIpfWApO1xuXHR9XG5cblx0Y29uc3QgcmVzdWx0OiBQZXJpb2RpY05vdGVzQ29uZmlnID0ge1xuXHRcdGRldGVjdGVkOiB0cnVlLFxuXHRcdGVuYWJsZWQsXG5cdFx0ZGFpbHksXG5cdFx0d2Vla2x5LFxuXHRcdG1vbnRobHksXG5cdFx0cmF3LFxuXHR9O1xuXG5cdGN1cnJlbnRMb2dnZXIuZGVidWcoJ1tQbHVnaW5EZXRlY3Rpb25dIHJlYWRQZXJpb2RpY05vdGVzQ29uZmlnIHJlc3VsdCcsIHsgZGV0ZWN0ZWQ6IHRydWUsIGVuYWJsZWQsIGRhaWx5LCB3ZWVrbHksIG1vbnRobHkgfSk7XG5cdHJldHVybiByZXN1bHQ7XG59XG5cbi8vIEV4cG9ydCBkZWZhdWx0IGFzIHV0aWxpdHkgb2JqZWN0IHRvbyAob3B0aW9uYWwpXG5jb25zdCBQbHVnaW5EZXRlY3Rpb25IZWxwZXIgPSB7XG5cdGRldGVjdFBsdWdpbnMsXG5cdHJlYWRUZW1wbGF0ZXJDb25maWcsXG5cdHJlYWRQZXJpb2RpY05vdGVzQ29uZmlnLFxufTtcblxuLy8gUHJvdmlkZSBhbGlhcyBleHBvcnRzIGV4cGVjdGVkIGJ5IGNhbGxlcnMgZWxzZXdoZXJlIGluIHRoZSBjb2RlYmFzZVxuZXhwb3J0IGNvbnN0IGdldFRlbXBsYXRlckNvbmZpZyA9IHJlYWRUZW1wbGF0ZXJDb25maWc7XG5leHBvcnQgY29uc3QgZ2V0UGVyaW9kaWNOb3Rlc0NvbmZpZyA9IHJlYWRQZXJpb2RpY05vdGVzQ29uZmlnO1xuXG5leHBvcnQgZGVmYXVsdCBQbHVnaW5EZXRlY3Rpb25IZWxwZXI7XG5cbi8vIEB2ZXNzZWwtY2xvc2U6QmFsZHIiLCJpbXBvcnQgdHlwZSB7IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3MgfSBmcm9tICcuLi90eXBlcy9TZXR0aW5ncyc7XG5pbXBvcnQgeyBHcmFwaGl0aUxvZ2dlciB9IGZyb20gJy4uL3V0aWxzL0xvZ2dlcic7XG5pbXBvcnQgdHlwZSB7IFBsdWdpbiB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IFRGaWxlLCBURm9sZGVyLCBub3JtYWxpemVQYXRoLCBNYXJrZG93blZpZXcgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgdHlwZSB7IFN5bmNSZWdpc3RyeVNlcnZpY2UgfSBmcm9tICcuL1N5bmNSZWdpc3RyeVNlcnZpY2UnO1xuaW1wb3J0IHR5cGUgeyBWYXVsdFJlZ2lzdHJ5U2VydmljZSB9IGZyb20gJy4vVmF1bHRSZWdpc3RyeVNlcnZpY2UnO1xuaW1wb3J0IHsgZ2V0VGVtcGxhdGVyQ29uZmlnLCBnZXRQZXJpb2RpY05vdGVzQ29uZmlnIH0gZnJvbSAnLi4vdXRpbHMvUGx1Z2luRGV0ZWN0aW9uSGVscGVyJztcblxuZXhwb3J0IGNsYXNzIFdlYlNvY2tldFNlcnZpY2Uge1xuICAgIHByaXZhdGUgY2xpZW50OiBXZWJTb2NrZXQgfCBudWxsID0gbnVsbDtcbiAgICBwcml2YXRlIHNldHRpbmdzOiBHcmFwaGl0aVBsdWdpblNldHRpbmdzO1xuICAgIHByaXZhdGUgbG9nZ2VyOiBHcmFwaGl0aUxvZ2dlcjtcbiAgICBwcml2YXRlIHBsdWdpbjogUGx1Z2luO1xuICAgIHByaXZhdGUgc3luY1JlZ2lzdHJ5U2VydmljZT86IFN5bmNSZWdpc3RyeVNlcnZpY2U7XG4gICAgcHJpdmF0ZSB2YXVsdFJlZ2lzdHJ5U2VydmljZT86IFZhdWx0UmVnaXN0cnlTZXJ2aWNlO1xuICAgIHByaXZhdGUgcmVjb25uZWN0VGltZXI/OiBudW1iZXI7XG4gICAgcHJpdmF0ZSByZWNvbm5lY3RBdHRlbXB0cyA9IDA7XG4gICAgcHJpdmF0ZSBiYXNlUmVjb25uZWN0RGVsYXkgPSAxMDAwO1xuICAgIHByaXZhdGUgbWF4UmVjb25uZWN0RGVsYXkgPSAzMDAwMDtcbiAgICBwcml2YXRlIGlzUmV0cnlpbmcgPSBmYWxzZTtcbiAgICBwcml2YXRlIGxhc3RDb25uZWN0aW9uU3RhdHVzOiBib29sZWFuIHwgbnVsbCA9IG51bGw7IC8vIFRyYWNrIGNvbm5lY3Rpb24gc3RhdGUgY2hhbmdlc1xuXG4gICAgY29uc3RydWN0b3IocGx1Z2luOiBQbHVnaW4sIHNldHRpbmdzOiBHcmFwaGl0aVBsdWdpblNldHRpbmdzLCBzeW5jUmVnaXN0cnlTZXJ2aWNlPzogU3luY1JlZ2lzdHJ5U2VydmljZSwgdmF1bHRSZWdpc3RyeVNlcnZpY2U/OiBWYXVsdFJlZ2lzdHJ5U2VydmljZSkge1xuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgICAgICB0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UgPSBzeW5jUmVnaXN0cnlTZXJ2aWNlO1xuICAgICAgICB0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlID0gdmF1bHRSZWdpc3RyeVNlcnZpY2U7XG4gICAgICAgIC8vIEB2ZXNzZWwtcHJvdG9jb2w6QmFsZHIgZ292ZXJuczpbZGVidWctZml4fGxvZ2dlcl0gY29udGV4dDpVc2Ugc2V0dGluZ3MgZGVidWcgdmFsdWUgaW5zdGVhZCBvZiBoYXJkY29kZWQgZmFsc2VcbiAgICAgICAgLy8gQGludGVyLWRlcGVuZGVuY2llczogW0dyYXBoaXRpTG9nZ2VyLCBzZXR0aW5ncy1lbmFibGVEZWJ1Z0xvZ2dpbmddXG4gICAgICAgIC8vIEBwdXJwb3NlOiBJbml0aWFsaXplIGxvZ2dlciB3aXRoIGNvcnJlY3QgZGVidWcgc3RhdGUgZnJvbSBzZXR0aW5nc1xuICAgICAgICAvLyBAcmVzdWx0OiBXZWJTb2NrZXQgbG9nZ2VyIHJlc3BlY3RzIGluaXRpYWwgZGVidWcgc2V0dGluZyBmcm9tIHBsdWdpbiBzZXR0aW5nc1xuICAgICAgICAvLyBAc2lnbmVkOiBDLkJqw7hyblxuICAgICAgICB0aGlzLmxvZ2dlciA9IG5ldyBHcmFwaGl0aUxvZ2dlcihwbHVnaW4sIHNldHRpbmdzLmVuYWJsZURlYnVnTG9nZ2luZyk7XG4gICAgfVxuXG4gICAgLy8gQHB1cnBvc2U6IEFzeW5jIHNsZWVwIHV0aWxpdHkgZm9yIGJhY2tvZmYgZGVsYXlzIEBkZXBlbmRzOiBub25lIEByZXN1bHRzOiBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgYWZ0ZXIgc3BlY2lmaWVkIG1zXG4gICAgcHJpdmF0ZSBzbGVlcChtczogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTtcbiAgICB9XG5cbiAgICAvLyBAcHVycG9zZTogU21hcnQgYmFja29mZiBjYWxjdWxhdGlvbiBiYXNlZCBvbiBlcnJvciB0eXBlIEBkZXBlbmRzOiBlcnJvciBvYmplY3QgQHJlc3VsdHM6IGRlbGF5IGluIG1pbGxpc2Vjb25kc1xuICAgIHByaXZhdGUgY2FsY3VsYXRlQmFja29mZkRlbGF5KGVycm9yPzogYW55KTogbnVtYmVyIHtcbiAgICAgICAgY29uc3QgYXR0ZW1wdCA9IHRoaXMucmVjb25uZWN0QXR0ZW1wdHM7XG4gICAgICAgIGxldCBiYXNlRGVsYXkgPSB0aGlzLmJhc2VSZWNvbm5lY3REZWxheTtcblxuICAgICAgICAvLyBTbWFydCBiYWNrb2ZmIGJhc2VkIG9uIGVycm9yIHR5cGVzXG4gICAgICAgIGlmIChlcnJvcj8uY29kZSA9PT0gJ0VDT05OUkVGVVNFRCcpIHtcbiAgICAgICAgICAgIGJhc2VEZWxheSA9IHRoaXMuYmFzZVJlY29ubmVjdERlbGF5ICogMjtcbiAgICAgICAgfSBlbHNlIGlmIChlcnJvcj8uY29kZSA9PT0gJ0VDT05OUkVTRVQnIHx8IGVycm9yPy5jb2RlID09PSAnRVBJUEUnKSB7XG4gICAgICAgICAgICBiYXNlRGVsYXkgPSB0aGlzLmJhc2VSZWNvbm5lY3REZWxheSAqIDAuNTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEV4cG9uZW50aWFsIGJhY2tvZmYgd2l0aCBqaXR0ZXJcbiAgICAgICAgY29uc3QgZXhwb25lbnRpYWxEZWxheSA9IGJhc2VEZWxheSAqIE1hdGgucG93KDEuNSwgTWF0aC5taW4oYXR0ZW1wdCwgMTApKTtcbiAgICAgICAgY29uc3Qgaml0dGVyID0gTWF0aC5yYW5kb20oKSAqIDAuMyArIDAuODU7IC8vIDg1LTExNSUgb2YgY2FsY3VsYXRlZCBkZWxheVxuICAgICAgICBjb25zdCBmaW5hbERlbGF5ID0gTWF0aC5taW4oZXhwb25lbnRpYWxEZWxheSAqIGppdHRlciwgdGhpcy5tYXhSZWNvbm5lY3REZWxheSk7XG5cbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoZmluYWxEZWxheSk7XG4gICAgfVxuXG4gICAgLy8gQHB1cnBvc2U6IEluZmluaXRlIHJldHJ5IGNvbm5lY3Rpb24gd2l0aCBzbWFydCBiYWNrb2ZmIEBkZXBlbmRzOiBub25lIEByZXN1bHRzOiBQcm9taXNlIHRoYXQgbmV2ZXIgcmVqZWN0cywga2VlcHMgcmV0cnlpbmdcbiAgICBwcml2YXRlIGFzeW5jIGNvbm5lY3RXaXRoUmV0cnkoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMuaXNSZXRyeWluZyA9IHRydWU7XG5cbiAgICAgICAgd2hpbGUgKHRoaXMuc2V0dGluZ3Mud3NFbmFibGVkICYmICF0aGlzLmNsaWVudCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNvbm5lY3RPbmNlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3RBdHRlbXB0cyA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1JldHJ5aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY29ubmVjdEF0dGVtcHRzKys7XG5cbiAgICAgICAgICAgICAgICAvLyBPbmx5IGxvZyBjcml0aWNhbCBjb25uZWN0aW9uIGZhaWx1cmVzIHRvIHJlZHVjZSBub2lzZVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlY29ubmVjdEF0dGVtcHRzID09PSAxIHx8IHRoaXMucmVjb25uZWN0QXR0ZW1wdHMgJSAyMCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihgW1dFQlNPQ0tFVF0gQ29ubmVjdGlvbiBmYWlsZWQgKGF0dGVtcHQgJHt0aGlzLnJlY29ubmVjdEF0dGVtcHRzfSk6YCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy53c0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1JldHJ5aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBkZWxheSA9IHRoaXMuY2FsY3VsYXRlQmFja29mZkRlbGF5KGVycm9yKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNsZWVwKGRlbGF5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNSZXRyeWluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgY29ubmVjdE9uY2UoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdzVXJsID0gYHdzOi8vbG9jYWxob3N0OiR7dGhpcy5zZXR0aW5ncy53c1BvcnR9P3Rva2VuPSR7dGhpcy5zZXR0aW5ncy53c0F1dGhUb2tlbn1gO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50ID0gbmV3IFdlYlNvY2tldCh3c1VybCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjb25uZWN0VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jbGllbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsaWVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignQ29ubmVjdGlvbiB0aW1lb3V0JykpO1xuICAgICAgICAgICAgICAgIH0sIDEwMDAwKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50Lm9ub3BlbiA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNvbm5lY3RUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tXRUJTT0NLRVRdIENvbm5lY3Rpb24gZXN0YWJsaXNoZWQgc3VjY2Vzc2Z1bGx5Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGNvbm5lY3Rpb24gc3RhdHVzIHRyYWNraW5nXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdENvbm5lY3Rpb25TdGF0dXMgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEJyaWVmIGRlbGF5IHRvIGVuc3VyZSBjb25uZWN0aW9uIGlzIHJlYWR5XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDApKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBUcmlnZ2VyIHZhdWx0IGF1dG8tcmVnaXN0cmF0aW9uXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW1dFQlNPQ0tFVF0gVHJpZ2dlcmluZyB2YXVsdCBhdXRvLXJlZ2lzdHJhdGlvbi4uLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVnaXN0ZXJlZFZhdWx0ID0gYXdhaXQgdGhpcy52YXVsdFJlZ2lzdHJ5U2VydmljZS5hdXRvUmVnaXN0ZXJDdXJyZW50VmF1bHQoZmFsc2UsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlZ2lzdGVyZWRWYXVsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBbV0VCU09DS0VUXSBWYXVsdCBhdXRvLXJlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsOiAke3JlZ2lzdGVyZWRWYXVsdC5uYW1lfSAoJHtyZWdpc3RlcmVkVmF1bHQuaWR9KWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignW1dFQlNPQ0tFVF0gVmF1bHQgYXV0by1yZWdpc3RyYXRpb24gZmFpbGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdbV0VCU09DS0VUXSBObyB2YXVsdCByZWdpc3RyeSBzZXJ2aWNlIGF2YWlsYWJsZScpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNsaWVudC5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVNZXNzYWdlKGV2ZW50LmRhdGEpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNsaWVudC5vbmNsb3NlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChjb25uZWN0VGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHVwZGF0ZSB2YXVsdCByZWdpc3RyeSBjb25uZWN0aW9uIHN0YXR1cyBpZiBzdGF0dXMgYWN0dWFsbHkgY2hhbmdlZFxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy52YXVsdFJlZ2lzdHJ5U2VydmljZSAmJiB0aGlzLmxhc3RDb25uZWN0aW9uU3RhdHVzICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlVmF1bHRJZCA9IHRoaXMudmF1bHRSZWdpc3RyeVNlcnZpY2UuZ2V0QWN0aXZlVmF1bHRJZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZVZhdWx0SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlLnVwZGF0ZVZhdWx0Q29ubmVjdGlvbihhY3RpdmVWYXVsdElkLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0Q29ubmVjdGlvblN0YXR1cyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgaW5maW5pdGUgcmV0cnkgaWYgbm90IG1hbnVhbGx5IGNsb3NlZCBhbmQgbm90IGFscmVhZHkgcmV0cnlpbmdcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmNvZGUgIT09IDEwMDAgJiYgdGhpcy5zZXR0aW5ncy53c0VuYWJsZWQgJiYgIXRoaXMuaXNSZXRyeWluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0V2l0aFJldHJ5KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jbGllbnQub25lcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoY29ubmVjdFRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jbGllbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsaWVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFzeW5jIHN0YXJ0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3Mud3NFbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW1dFQlNPQ0tFVF0gU2VydmljZSBkaXNhYmxlZCBpbiBzZXR0aW5ncycpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tXRUJTT0NLRVRdIFNlcnZpY2UgZW5hYmxlZCBpbiBzZXR0aW5ncyAtIGNvbm5lY3RpbmcuLi4nKTtcbiAgICAgICAgdGhpcy5jb25uZWN0KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb25uZWN0KCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuaXNSZXRyeWluZykge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0V2l0aFJldHJ5KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBAcHVycG9zZTogRW5oYW5jZWQgc3RvcCBtZXRob2QgZm9yIGdyYWNlZnVsIHNodXRkb3duIEBkZXBlbmRzOiBub25lIEByZXN1bHRzOiBDbGVhbiBzZXJ2aWNlIHNodXRkb3duXG4gICAgYXN5bmMgc3RvcCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tXRUJTT0NLRVRdIFN0b3BwaW5nIFdlYlNvY2tldCBzZXJ2aWNlJyk7XG4gICAgICAgIHRoaXMuaXNSZXRyeWluZyA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdFRpbWVyKSB7XG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMucmVjb25uZWN0VGltZXIpO1xuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3RUaW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNsaWVudCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tXRUJTT0NLRVRdIENsb3NpbmcgV2ViU29ja2V0IGNvbm5lY3Rpb24nKTtcbiAgICAgICAgICAgIHRoaXMuY2xpZW50LmNsb3NlKDEwMDAsICdDbGllbnQgc2h1dGRvd24nKTtcbiAgICAgICAgICAgIHRoaXMuY2xpZW50ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVjb25uZWN0QXR0ZW1wdHMgPSAwO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2VuZE1lc3NhZ2UobWVzc2FnZTogYW55KTogdm9pZCB7XG4gICAgICAgIC8vIEB2ZXNzZWwtcHJvdG9jb2w6QmFsZHIgZ292ZXJuczpbbG9nZ2luZy1vcHRpbWl6YXRpb25dIGNvbnRleHQ6Q29uc29saWRhdGUgV2ViU29ja2V0IG1lc3NhZ2UgbG9nZ2luZ1xuICAgICAgICBpZiAoIXRoaXMuY2xpZW50KSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignW1dFQlNPQ0tFVF0gRVJST1I6IE5vIFdlYlNvY2tldCBjbGllbnQgaW5zdGFuY2UnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNsaWVudC5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlU3RyID0gSlNPTi5zdHJpbmdpZnkobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFtXRUJTT0NLRVRdIFNlbmRpbmcgbWVzc2FnZSB0eXBlOiAke21lc3NhZ2UudHlwZX1gKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNsaWVudC5zZW5kKG1lc3NhZ2VTdHIpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignW1dFQlNPQ0tFVF0gRVJST1Igc2VuZGluZyBtZXNzYWdlOicsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oYFtXRUJTT0NLRVRdIENhbm5vdCBzZW5kIG1lc3NhZ2UgLSBXZWJTb2NrZXQgbm90IGNvbm5lY3RlZC4gUmVhZHlTdGF0ZTogJHt0aGlzLmNsaWVudC5yZWFkeVN0YXRlfWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHVibGljIG1ldGhvZCB0byBzZW5kIHZhdWx0IHJlZ2lzdHJhdGlvbiBtZXNzYWdlIHRvIE1DUCBzZXJ2ZXJcbiAgICAgKiBDYWxsZWQgYnkgVmF1bHRSZWdpc3RyeVNlcnZpY2Ugd2hlbiBhdXRvLXJlZ2lzdGVyaW5nIHZhdWx0XG4gICAgICovXG4gICAgc2VuZFZhdWx0UmVnaXN0cmF0aW9uKHZhdWx0SW5mbzogeyBuYW1lOiBzdHJpbmc7IHBhdGg6IHN0cmluZzsgaWQ6IHN0cmluZyB9KTogYm9vbGVhbiB7XG4gICAgICAgIGlmICghdGhpcy5jbGllbnQgfHwgdGhpcy5jbGllbnQucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ1tXRUJTT0NLRVRdIENhbm5vdCBzZW5kIHZhdWx0IHJlZ2lzdHJhdGlvbiAtIFdlYlNvY2tldCBub3QgY29ubmVjdGVkJyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZWdpc3RyYXRpb25NZXNzYWdlID0ge1xuICAgICAgICAgICAgdHlwZTogJ3JlZ2lzdGVyJyxcbiAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICB2YXVsdE5hbWU6IHZhdWx0SW5mby5uYW1lLFxuICAgICAgICAgICAgICAgIHZhdWx0UGF0aDogdmF1bHRJbmZvLnBhdGgsXG4gICAgICAgICAgICAgICAgdmF1bHRJZDogdmF1bHRJbmZvLmlkLFxuICAgICAgICAgICAgICAgIHBsdWdpblZlcnNpb246IHRoaXMucGx1Z2luLm1hbmlmZXN0LnZlcnNpb24sXG4gICAgICAgICAgICAgICAgYXV0aFRva2VuOiB0aGlzLnNldHRpbmdzLndzQXV0aFRva2VuXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFtXRUJTT0NLRVRdIFNlbmRpbmcgdmF1bHQgcmVnaXN0cmF0aW9uIHRvIHNlcnZlcjogJHt2YXVsdEluZm8ubmFtZX0gKCR7dmF1bHRJbmZvLmlkfSlgKTtcblxuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHJlZ2lzdHJhdGlvbk1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBXZWJTb2NrZXQgaXMgY3VycmVudGx5IGNvbm5lY3RlZCBhbmQgcmVhZHlcbiAgICAgKi9cbiAgICBpc0Nvbm5lY3RlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xpZW50ICE9PSBudWxsICYmIHRoaXMuY2xpZW50LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaGFuZGxlTWVzc2FnZShkYXRhOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1JlY2VpdmVkIFdlYlNvY2tldCBtZXNzYWdlOicsIG1lc3NhZ2UudHlwZSk7XG5cbiAgICAgICAgICAgIC8vIFJvdXRlIG1lc3NhZ2UgdG8gYXBwcm9wcmlhdGUgaGFuZGxlclxuICAgICAgICAgICAgc3dpdGNoIChtZXNzYWdlLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdjb25uZWN0ZWQnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUNvbm5lY3RlZChtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncmVnaXN0ZXJlZCc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlUmVnaXN0ZXJlZChtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZmlsZTpyZWFkJzpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVGaWxlUmVhZChtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZmlsZTp3cml0ZSc6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlRmlsZVdyaXRlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmaWxlOmNyZWF0ZSc6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlRmlsZUNyZWF0ZShtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZmlsZTpkZWxldGUnOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZUZpbGVEZWxldGUobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ZpbGU6cmVuYW1lJzpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVGaWxlUmVuYW1lKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmaWxlOnNlYXJjaCc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRmlsZVNlYXJjaChtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAndmF1bHQ6bGlzdCc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlVmF1bHRMaXN0KG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd2YXVsdDppbmZvJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVWYXVsdEluZm8obWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3BpbmcnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVBpbmcobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ZvbGRlcjpleHBsb3JlJzpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVGb2xkZXJFeHBsb3JlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmb2xkZXI6Y3JlYXRlJzpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVGb2xkZXJDcmVhdGUobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ZvbGRlcjpyZW5hbWUnOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZUZvbGRlclJlbmFtZShtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZm9sZGVyOmRlbGV0ZSc6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlRm9sZGVyRGVsZXRlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd0ZW1wbGF0ZXI6Y2hlY2snOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZVRlbXBsYXRlckNoZWNrKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmaWxlOmNyZWF0ZV93aXRoX3RlbXBsYXRlJzpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVDcmVhdGVXaXRoVGVtcGxhdGUobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ZpbGU6ZnJvbnRtYXR0ZXJfZWRpdCc6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlRnJvbnRtYXR0ZXJFZGl0KG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmaWxlOmFwcGVuZCc6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlQXBwZW5kRWRpdChtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZmlsZTpyYW5nZV9lZGl0JzpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVSYW5nZUVkaXQobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ZpbGU6ZWRpdG9yX2VkaXQnOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZUVkaXRvckVkaXQobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVVbmtub3duTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdFcnJvciBoYW5kbGluZyBXZWJTb2NrZXQgbWVzc2FnZTonLCBlcnJvcik7XG4gICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdlcnJvcicsICdJbnZhbGlkIG1lc3NhZ2UgZm9ybWF0Jyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGhhbmRsZUZpbGVSZWFkKG1lc3NhZ2U6IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnSGFuZGxpbmcgZmlsZTpyZWFkIHJlcXVlc3QnLCB7IHBhdGg6IG1lc3NhZ2UucGF5bG9hZC5wYXRoIH0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IG1lc3NhZ2UucGF5bG9hZDtcbiAgICAgICAgICAgIGlmICghcGF5bG9hZD8ucGF0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZpbGU6cmVhZDpyZXNwb25zZScsICdNaXNzaW5nIGZpbGUgcGF0aCBwYXJhbWV0ZXInLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlYWQgZmlsZSB1c2luZyBPYnNpZGlhbiBWYXVsdCBBUElcbiAgICAgICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHBheWxvYWQucGF0aCk7XG4gICAgICAgICAgICBpZiAoIWZpbGUgfHwgIShmaWxlIGluc3RhbmNlb2YgVEZpbGUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpyZWFkOnJlc3BvbnNlJywgJ0ZpbGUgbm90IGZvdW5kJywgbWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LnJlYWQoZmlsZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdmaWxlOnJlYWQ6cmVzcG9uc2UnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBjb250ZW50LFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYXlsb2FkLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBjb250ZW50Lmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RNb2RpZmllZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShyZXNwb25zZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmaWxlOnJlYWQ6cmVzcG9uc2UnLCAnRmFpbGVkIHRvIHJlYWQgZmlsZScsIG1lc3NhZ2UuaWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVGaWxlV3JpdGUobWVzc2FnZTogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdIYW5kbGluZyBmaWxlOndyaXRlIHJlcXVlc3QnLCB7IHBhdGg6IG1lc3NhZ2UucGF5bG9hZC5wYXRoIH0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IG1lc3NhZ2UucGF5bG9hZDtcbiAgICAgICAgICAgIGlmICghcGF5bG9hZD8ucGF0aCB8fCBwYXlsb2FkLmNvbnRlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZpbGU6d3JpdGU6cmVzcG9uc2UnLCAnTWlzc2luZyBmaWxlIHBhdGggb3IgY29udGVudCBwYXJhbWV0ZXInLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIExvY2F0ZSB0aGUgZmlsZSB1c2luZyBPYnNpZGlhbiBWYXVsdCBBUElcbiAgICAgICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHBheWxvYWQucGF0aCk7XG4gICAgICAgICAgICBpZiAoIWZpbGUgfHwgIShmaWxlIGluc3RhbmNlb2YgVEZpbGUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTp3cml0ZTpyZXNwb25zZScsICdGaWxlIG5vdCBmb3VuZCcsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gV3JpdGUgdG8gZmlsZSB1c2luZyBPYnNpZGlhbiBWYXVsdCBBUElcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5tb2RpZnkoZmlsZSwgcGF5bG9hZC5jb250ZW50KTtcblxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2ZpbGU6d3JpdGU6cmVzcG9uc2UnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYXlsb2FkLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdGaWxlIHN1Y2Nlc3NmdWxseSB3cml0dGVuJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHJlc3BvbnNlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZpbGU6d3JpdGU6cmVzcG9uc2UnLCAnRmFpbGVkIHRvIHdyaXRlIGZpbGUnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaGFuZGxlRmlsZUNyZWF0ZShtZXNzYWdlOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0hhbmRsaW5nIGZpbGU6Y3JlYXRlIHJlcXVlc3QnLCB7IHBhdGg6IG1lc3NhZ2UucGF5bG9hZC5wYXRoIH0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IG1lc3NhZ2UucGF5bG9hZDtcbiAgICAgICAgICAgIGlmICghcGF5bG9hZD8ucGF0aCB8fCBwYXlsb2FkLmNvbnRlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZpbGU6Y3JlYXRlOnJlc3BvbnNlJywgJ01pc3NpbmcgZmlsZSBwYXRoIG9yIGNvbnRlbnQgcGFyYW1ldGVyJywgbWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDcmVhdGUgZmlsZSB1c2luZyBPYnNpZGlhbiBWYXVsdCBBUElcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5jcmVhdGUocGF5bG9hZC5wYXRoLCBwYXlsb2FkLmNvbnRlbnQpO1xuXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiAnZmlsZTpjcmVhdGU6cmVzcG9uc2UnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYXlsb2FkLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdGaWxlIHN1Y2Nlc3NmdWxseSBjcmVhdGVkJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHJlc3BvbnNlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZpbGU6Y3JlYXRlOnJlc3BvbnNlJywgJ0ZhaWxlZCB0byBjcmVhdGUgZmlsZScsIG1lc3NhZ2UuaWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVGaWxlRGVsZXRlKG1lc3NhZ2U6IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnSGFuZGxpbmcgZmlsZTpkZWxldGUgcmVxdWVzdCcsIHsgcGF0aDogbWVzc2FnZS5wYXlsb2FkLnBhdGggfSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gbWVzc2FnZS5wYXlsb2FkO1xuICAgICAgICAgICAgaWYgKCFwYXlsb2FkPy5wYXRoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpkZWxldGU6cmVzcG9uc2UnLCAnTWlzc2luZyBmaWxlIHBhdGggcGFyYW1ldGVyJywgbWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBmaWxlID0gdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChwYXlsb2FkLnBhdGgpO1xuICAgICAgICAgICAgaWYgKCFmaWxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpkZWxldGU6cmVzcG9uc2UnLCAnRmlsZSBub3QgZm91bmQnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5kZWxldGUoZmlsZSwgZmFsc2UpO1xuXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiAnZmlsZTpkZWxldGU6cmVzcG9uc2UnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYXlsb2FkLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdGaWxlIHN1Y2Nlc3NmdWxseSBkZWxldGVkJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHJlc3BvbnNlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZpbGU6ZGVsZXRlOnJlc3BvbnNlJywgJ0ZhaWxlZCB0byBkZWxldGUgZmlsZScsIG1lc3NhZ2UuaWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVGaWxlUmVuYW1lKG1lc3NhZ2U6IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnSGFuZGxpbmcgZmlsZTpyZW5hbWUgcmVxdWVzdCcsIHsgb2xkUGF0aDogbWVzc2FnZS5wYXlsb2FkLnBhdGgsIG5ld1BhdGg6IG1lc3NhZ2UucGF5bG9hZC5uZXdQYXRoIH0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IG1lc3NhZ2UucGF5bG9hZDtcbiAgICAgICAgICAgIGlmICghcGF5bG9hZD8ucGF0aCB8fCAhcGF5bG9hZD8ubmV3UGF0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZpbGU6cmVuYW1lOnJlc3BvbnNlJywgJ01pc3NpbmcgZmlsZSBwYXRoIG9yIG5ld1BhdGggcGFyYW1ldGVyJywgbWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBmaWxlID0gdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChwYXlsb2FkLnBhdGgpO1xuICAgICAgICAgICAgaWYgKCFmaWxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpyZW5hbWU6cmVzcG9uc2UnLCAnRmlsZSBub3QgZm91bmQnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFwcC5maWxlTWFuYWdlci5yZW5hbWVGaWxlKGZpbGUsIHBheWxvYWQubmV3UGF0aCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdmaWxlOnJlbmFtZTpyZXNwb25zZScsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgIG9sZFBhdGg6IHBheWxvYWQucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgbmV3UGF0aDogcGF5bG9hZC5uZXdQYXRoLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRmlsZSBzdWNjZXNzZnVsbHkgcmVuYW1lZCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShyZXNwb25zZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmaWxlOnJlbmFtZTpyZXNwb25zZScsICdGYWlsZWQgdG8gcmVuYW1lIGZpbGUnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaGFuZGxlRmlsZVNlYXJjaChtZXNzYWdlOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gQHZlc3NlbC1wcm90b2NvbDpVbGxyIGdvdmVybnM6W3NlYXJjaC1lbmhhbmNlbWVudHxmZWF0dXJlXSBjb250ZXh0OkV4dGVuZCBmaWxlIHNlYXJjaCB0byBzdXBwb3J0IGZpbGVuYW1lL2NvbnRlbnQvYm90aCB3aXRoIGNvbnRleHQgc25pcHBldHNcbiAgICAgICAgLy8gQGludGVyLWRlcGVuZGVuY2llczogW3ByZXBhcmVTaW1wbGVTZWFyY2gsIHZhdWx0LmNhY2hlZFJlYWQsIEdyYXBoaXRpTG9nZ2VyXVxuICAgICAgICAvLyBAcHVycG9zZTogUHJvdmlkZSBmdWxsLXRleHQgYW5kIGZpbGVuYW1lIHNlYXJjaCB0byBNQ1AgY2xpZW50cyB3aXRoIHNjb3JpbmcgYW5kIGNvbnRleHRcbiAgICAgICAgLy8gQHJlc3VsdDogTUNQIHNlYXJjaCB0b29sIHJldHVybnMgcmFua2VkIHJlc3VsdHMgd2l0aCBvcHRpb25hbCBjb250ZXh0IHNuaXBwZXRzXG4gICAgICAgIC8vIEBzaWduZWQ6IEMuQmrDuHJuXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbV0VCU09DS0VUXSBIYW5kbGluZyBmaWxlOnNlYXJjaCByZXF1ZXN0JywgeyBxdWVyeTogbWVzc2FnZS5wYXlsb2FkPy5xdWVyeSB9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBtZXNzYWdlLnBheWxvYWQgfHwge307XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9IChwYXlsb2FkLnF1ZXJ5IHx8ICcnKS50b1N0cmluZygpO1xuICAgICAgICAgICAgaWYgKCFxdWVyeSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZpbGU6c2VhcmNoOnJlc3BvbnNlJywgJ01pc3Npbmcgc2VhcmNoIHF1ZXJ5IHBhcmFtZXRlcicsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTmV3IHBhcmFtZXRlcnMgd2l0aCBzZW5zaWJsZSBkZWZhdWx0c1xuICAgICAgICAgICAgY29uc3Qgc2VhcmNoTW9kZSA9IChwYXlsb2FkLnNlYXJjaF9tb2RlIHx8IHBheWxvYWQuc2VhcmNoTW9kZSB8fCAnYm90aCcpLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKTsgLy8gZmlsZW5hbWUgfCBjb250ZW50IHwgYm90aFxuICAgICAgICAgICAgY29uc3QgbWF4UmVzdWx0cyA9IE51bWJlcihwYXlsb2FkLm1heF9yZXN1bHRzID8/IHBheWxvYWQubWF4UmVzdWx0cyA/PyAxMDApO1xuICAgICAgICAgICAgY29uc3QgaW5jbHVkZUNvbnRleHQgPSBwYXlsb2FkLmluY2x1ZGVfY29udGV4dCAhPT0gdW5kZWZpbmVkID8gQm9vbGVhbihwYXlsb2FkLmluY2x1ZGVfY29udGV4dCkgOiAocGF5bG9hZC5pbmNsdWRlQ29udGV4dCAhPT0gdW5kZWZpbmVkID8gQm9vbGVhbihwYXlsb2FkLmluY2x1ZGVDb250ZXh0KSA6IHRydWUpO1xuICAgICAgICAgICAgY29uc3QgY29udGV4dFJhZGl1cyA9IE51bWJlcihwYXlsb2FkLmNvbnRleHRSYWRpdXMgPz8gNTApO1xuXG4gICAgICAgICAgICAvLyBWYWxpZGF0ZSBzZWFyY2hNb2RlXG4gICAgICAgICAgICBjb25zdCB2YWxpZE1vZGVzID0gbmV3IFNldChbJ2ZpbGVuYW1lJywgJ2NvbnRlbnQnLCAnYm90aCddKTtcbiAgICAgICAgICAgIGNvbnN0IG1vZGUgPSB2YWxpZE1vZGVzLmhhcyhzZWFyY2hNb2RlKSA/IHNlYXJjaE1vZGUgOiAnYm90aCc7XG5cbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbV0VCU09DS0VUXSBTZWFyY2ggcGFyYW1ldGVycycsIHsgcXVlcnksIG1vZGUsIG1heFJlc3VsdHMsIGluY2x1ZGVDb250ZXh0IH0pO1xuXG4gICAgICAgICAgICBjb25zdCByZXN1bHRzOiBhbnlbXSA9IFtdO1xuICAgICAgICAgICAgY29uc3QgYWxsRmlsZXMgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xuXG4gICAgICAgICAgICAvLyBQaGFzZSAxOiBGaWxlbmFtZSBzZWFyY2hcbiAgICAgICAgICAgIGlmIChtb2RlID09PSAnZmlsZW5hbWUnIHx8IG1vZGUgPT09ICdib3RoJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHFMb3dlciA9IHF1ZXJ5LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZW5hbWVNYXRjaGVzID0gYWxsRmlsZXMuZmlsdGVyKGYgPT5cbiAgICAgICAgICAgICAgICAgICAgZi5wYXRoLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocUxvd2VyKSB8fFxuICAgICAgICAgICAgICAgICAgICBmLmJhc2VuYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocUxvd2VyKVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZW5hbWVNYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBmaWxlLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBmaWxlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlbmFtZTogZmlsZS5iYXNlbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbjogZmlsZS5leHRlbnNpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFR5cGU6ICdmaWxlbmFtZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29yZTogMTAwXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+PSBtYXhSZXN1bHRzICYmIG1vZGUgPT09ICdmaWxlbmFtZScpIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUGhhc2UgMjogQ29udGVudCBzZWFyY2hcbiAgICAgICAgICAgIGlmIChtb2RlID09PSAnY29udGVudCcgfHwgbW9kZSA9PT0gJ2JvdGgnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nID0gTWF0aC5tYXgoMCwgbWF4UmVzdWx0cyAtIHJlc3VsdHMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBpZiAocmVtYWluaW5nID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBVc2UgT2JzaWRpYW4ncyBzaW1wbGUgc2VhcmNoIGhlbHBlciB3aGVuIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICBsZXQgc2VhcmNoRm46ICgodGV4dDogc3RyaW5nKSA9PiBhbnkpIHwgbnVsbCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlIC0gcHJlcGFyZVNpbXBsZVNlYXJjaCBleGlzdHMgaW4gT2JzaWRpYW4gQVBJXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hGbiA9ICh3aW5kb3cgYXMgYW55KS5wcmVwYXJlU2ltcGxlU2VhcmNoID8gKHdpbmRvdyBhcyBhbnkpLnByZXBhcmVTaW1wbGVTZWFyY2gocXVlcnkpIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgcHJlcGFyZVNpbXBsZVNlYXJjaCBub3QgYXZhaWxhYmxlLCBmYWxsIGJhY2sgdG8gYmFzaWMgaW5jbHVkZXMtYmFzZWQgbWF0Y2hpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaEZuID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkZGVkUGF0aHMgPSBuZXcgU2V0KHJlc3VsdHMubWFwKHIgPT4gci5wYXRoKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGFsbEZpbGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWRkZWRQYXRocy5oYXMoZmlsZS5wYXRoKSkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIGNhY2hlZFJlYWQgZm9yIHBlcmZvcm1hbmNlIHdoZXJlIHBvc3NpYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgY2FjaGVkUmVhZCBleGlzdHMgb24gdmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gdHlwZW9mIHRoaXMucGx1Z2luLmFwcC52YXVsdC5jYWNoZWRSZWFkID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYXdhaXQgKHRoaXMucGx1Z2luLmFwcC52YXVsdCBhcyBhbnkpLmNhY2hlZFJlYWQoZmlsZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQucmVhZChmaWxlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXRjaGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNjb3JlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWF0Y2hlczogQXJyYXk8W251bWJlciwgbnVtYmVyXT4gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VhcmNoRm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlYXJjaFJlc3VsdCA9IHNlYXJjaEZuKGNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlYXJjaFJlc3VsdCAmJiBzZWFyY2hSZXN1bHQuc2NvcmUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmUgPSBOdW1iZXIoc2VhcmNoUmVzdWx0LnNjb3JlKSB8fCAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWFyY2hSZXN1bHQubWF0Y2hlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVzID0gQXJyYXkuaXNBcnJheShzZWFyY2hSZXN1bHQubWF0Y2hlcykgPyBzZWFyY2hSZXN1bHQubWF0Y2hlcyA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ1tXRUJTT0NLRVRdIHByZXBhcmVTaW1wbGVTZWFyY2ggZmFpbGVkLCBmYWxsaW5nIGJhY2snLCB7IGZpbGU6IGZpbGUucGF0aCwgZXJyb3I6IGUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1hdGNoZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQgJiYgY29udGVudC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHF1ZXJ5LnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlID0gMTA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtOiBhbnkgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBmaWxlLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBmaWxlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlbmFtZTogZmlsZS5iYXNlbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbjogZmlsZS5leHRlbnNpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFR5cGU6ICdjb250ZW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlOiBzY29yZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmNsdWRlQ29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZXh0TWF0Y2hlcyA9IHRoaXMuZXh0cmFjdENvbnRleHRGcm9tTWF0Y2hlcyhjb250ZW50LCBtYXRjaGVzIHx8IHRoaXMuX2ZpbmRBbGxNYXRjaGVzKGNvbnRlbnQsIHF1ZXJ5KSwgcXVlcnksIGNvbnRleHRSYWRpdXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZXh0TWF0Y2hlcyAmJiBjb250ZXh0TWF0Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5tYXRjaGVzID0gY29udGV4dE1hdGNoZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ1tXRUJTT0NLRVRdIENvbnRleHQgZXh0cmFjdGlvbiBmYWlsZWQnLCB7IGZpbGU6IGZpbGUucGF0aCwgZXJyb3I6IGUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZGVkUGF0aHMuYWRkKGZpbGUucGF0aCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoID49IG1heFJlc3VsdHMpIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignW1dFQlNPQ0tFVF0gRmFpbGVkIHRvIHNlYXJjaCBjb250ZW50IG9mIGZpbGUnLCB7IHBhdGg6IGZpbGUucGF0aCwgZXJyb3IgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNvcnQgcmVzdWx0cyBieSBzY29yZSBkZXNjLCB0aGVuIGZpbGVuYW1lIG1hdGNoIGZpcnN0IGZvciBlcXVhbCBzY29yZXNcbiAgICAgICAgICAgIHJlc3VsdHMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNhID0gTnVtYmVyKGEuc2NvcmUgfHwgMCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2IgPSBOdW1iZXIoYi5zY29yZSB8fCAwKTtcbiAgICAgICAgICAgICAgICBpZiAoc2IgIT09IHNhKSByZXR1cm4gc2IgLSBzYTtcbiAgICAgICAgICAgICAgICBpZiAoYS5tYXRjaFR5cGUgPT09ICdmaWxlbmFtZScgJiYgYi5tYXRjaFR5cGUgIT09ICdmaWxlbmFtZScpIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICBpZiAoYi5tYXRjaFR5cGUgPT09ICdmaWxlbmFtZScgJiYgYS5tYXRjaFR5cGUgIT09ICdmaWxlbmFtZScpIHJldHVybiAxO1xuICAgICAgICAgICAgICAgIHJldHVybiBhLnBhdGgubG9jYWxlQ29tcGFyZShiLnBhdGgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdmaWxlOnNlYXJjaDpyZXNwb25zZScsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHM6IHJlc3VsdHMuc2xpY2UoMCwgbWF4UmVzdWx0cyksXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsUmVzdWx0czogcmVzdWx0cy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeSxcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoTW9kZTogbW9kZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UocmVzcG9uc2UpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1tXRUJTT0NLRVRdIGZpbGU6c2VhcmNoIGhhbmRsZXIgZXJyb3InLCB7IGVycm9yIH0pO1xuICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpzZWFyY2g6cmVzcG9uc2UnLCAnRmFpbGVkIHRvIHNlYXJjaCBmaWxlcycsIG1lc3NhZ2UuaWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGVscGVyOiBmYWxsYmFjayBzaW1wbGUgbWF0Y2ggZmluZGVyIHJldHVybmluZyBhcnJheSBvZiBbc3RhcnQsZW5kXSByYW5nZXNcbiAgICAgKi9cbiAgICBwcml2YXRlIF9maW5kQWxsTWF0Y2hlcyhjb250ZW50OiBzdHJpbmcsIHF1ZXJ5OiBzdHJpbmcpOiBBcnJheTxbbnVtYmVyLCBudW1iZXJdPiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHM6IEFycmF5PFtudW1iZXIsIG51bWJlcl0+ID0gW107XG4gICAgICAgIGlmICghY29udGVudCB8fCAhcXVlcnkpIHJldHVybiByZXN1bHRzO1xuICAgICAgICBjb25zdCBsb3dlciA9IGNvbnRlbnQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY29uc3QgcSA9IHF1ZXJ5LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGxldCBpZHggPSAwO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgY29uc3QgZm91bmQgPSBsb3dlci5pbmRleE9mKHEsIGlkeCk7XG4gICAgICAgICAgICBpZiAoZm91bmQgPT09IC0xKSBicmVhaztcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChbZm91bmQsIGZvdW5kICsgcS5sZW5ndGhdKTtcbiAgICAgICAgICAgIGlkeCA9IGZvdW5kICsgcS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdCBjb250ZXh0IHNuaXBwZXRzIGZyb20gc2VhcmNoIG1hdGNoZXNcbiAgICAgKi9cbiAgICBwcml2YXRlIGV4dHJhY3RDb250ZXh0RnJvbU1hdGNoZXMoXG4gICAgICAgIGNvbnRlbnQ6IHN0cmluZyxcbiAgICAgICAgbWF0Y2hlczogQXJyYXk8W251bWJlciwgbnVtYmVyXT4sXG4gICAgICAgIHF1ZXJ5OiBzdHJpbmcsXG4gICAgICAgIGNvbnRleHRSYWRpdXM6IG51bWJlciA9IDUwXG4gICAgKTogQXJyYXk8eyBsaW5lOiBudW1iZXIsIHRleHQ6IHN0cmluZywgaGlnaGxpZ2h0OiBzdHJpbmcgfT4ge1xuICAgICAgICBjb25zdCBsaW5lcyA9IChjb250ZW50IHx8ICcnKS5zcGxpdCgnXFxuJyk7XG4gICAgICAgIGNvbnN0IGNvbnRleHRSZXN1bHRzOiBBcnJheTx7IGxpbmU6IG51bWJlciwgdGV4dDogc3RyaW5nLCBoaWdobGlnaHQ6IHN0cmluZyB9PiA9IFtdO1xuICAgICAgICBjb25zdCBhZGRlZExpbmVzID0gbmV3IFNldDxudW1iZXI+KCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBbc3RhcnQsIGVuZF0gb2YgbWF0Y2hlcykge1xuICAgICAgICAgICAgLy8gRmluZCBsaW5lIGNvbnRhaW5pbmcgbWF0Y2hcbiAgICAgICAgICAgIGxldCBjaGFyQ291bnQgPSAwO1xuICAgICAgICAgICAgbGV0IGxpbmVOdW0gPSAwO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVMZW5ndGggPSBsaW5lc1tpXS5sZW5ndGggKyAxOyAvLyBpbmNsdWRlIG5ld2xpbmVcbiAgICAgICAgICAgICAgICBpZiAoY2hhckNvdW50ICsgbGluZUxlbmd0aCA+IHN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVOdW0gPSBpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2hhckNvdW50ICs9IGxpbmVMZW5ndGg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhZGRlZExpbmVzLmhhcyhsaW5lTnVtKSkgY29udGludWU7XG4gICAgICAgICAgICBhZGRlZExpbmVzLmFkZChsaW5lTnVtKTtcblxuICAgICAgICAgICAgY29uc3QgbGluZSA9IGxpbmVzW2xpbmVOdW1dIHx8ICcnO1xuICAgICAgICAgICAgY29uc3QgbGluZVN0YXJ0ID0gY2hhckNvdW50O1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hTdGFydEluTGluZSA9IE1hdGgubWF4KDAsIHN0YXJ0IC0gbGluZVN0YXJ0KTtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoRW5kSW5MaW5lID0gTWF0aC5taW4obGluZS5sZW5ndGgsIGVuZCAtIGxpbmVTdGFydCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHRTdGFydCA9IE1hdGgubWF4KDAsIG1hdGNoU3RhcnRJbkxpbmUgLSBjb250ZXh0UmFkaXVzKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHRFbmQgPSBNYXRoLm1pbihsaW5lLmxlbmd0aCwgbWF0Y2hFbmRJbkxpbmUgKyBjb250ZXh0UmFkaXVzKTtcblxuICAgICAgICAgICAgbGV0IGNvbnRleHRUZXh0ID0gbGluZS5zdWJzdHJpbmcoY29udGV4dFN0YXJ0LCBjb250ZXh0RW5kKTtcbiAgICAgICAgICAgIGlmIChjb250ZXh0U3RhcnQgPiAwKSBjb250ZXh0VGV4dCA9ICcuLi4nICsgY29udGV4dFRleHQ7XG4gICAgICAgICAgICBpZiAoY29udGV4dEVuZCA8IGxpbmUubGVuZ3RoKSBjb250ZXh0VGV4dCA9IGNvbnRleHRUZXh0ICsgJy4uLic7XG5cbiAgICAgICAgICAgIGNvbnRleHRSZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICAgIGxpbmU6IGxpbmVOdW0gKyAxLFxuICAgICAgICAgICAgICAgIHRleHQ6IGNvbnRleHRUZXh0LnRyaW0oKSxcbiAgICAgICAgICAgICAgICBoaWdobGlnaHQ6IGxpbmUuc3Vic3RyaW5nKG1hdGNoU3RhcnRJbkxpbmUsIG1hdGNoRW5kSW5MaW5lKVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChjb250ZXh0UmVzdWx0cy5sZW5ndGggPj0gNSkgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29udGV4dFJlc3VsdHM7XG4gICAgfVxuXG4vLyBAdmVzc2VsLWNsb3NlOlVsbHJcblxuICAgIHByaXZhdGUgaGFuZGxlVmF1bHRMaXN0KG1lc3NhZ2U6IGFueSk6IHZvaWQge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnSGFuZGxpbmcgdmF1bHQ6bGlzdCByZXF1ZXN0Jyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB2YXVsdHMgPSB0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlPy5nZXRBbGxWYXVsdHMoKSB8fCBbXTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6ICd2YXVsdDpsaXN0OnJlc3BvbnNlJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdmF1bHRzOiB2YXVsdHMsXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsVmF1bHRzOiB2YXVsdHMubGVuZ3RoXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UocmVzcG9uc2UpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgndmF1bHQ6bGlzdDpyZXNwb25zZScsICdGYWlsZWQgdG8gbGlzdCB2YXVsdHMnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlVmF1bHRJbmZvKG1lc3NhZ2U6IGFueSk6IHZvaWQge1xuICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdIYW5kbGluZyB2YXVsdDppbmZvIHJlcXVlc3QnLCB7IHZhdWx0SWQ6IG1lc3NhZ2UucGF5bG9hZC52YXVsdElkIH0pO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHZhdWx0SWQgPSBtZXNzYWdlLnBheWxvYWQ/LnZhdWx0SWQgfHwgdGhpcy52YXVsdFJlZ2lzdHJ5U2VydmljZT8uZ2V0QWN0aXZlVmF1bHRJZCgpIHx8IHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXROYW1lKCk7XG4gICAgICAgIGNvbnN0IHZhdWx0SW5mbyA9IHtcbiAgICAgICAgICAgIGlkOiB2YXVsdElkLFxuICAgICAgICAgICAgbmFtZTogdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmdldE5hbWUoKSxcbiAgICAgICAgICAgIHBhdGg6ICh0aGlzLnBsdWdpbi5hcHAudmF1bHQuYWRhcHRlciBhcyBhbnkpLmJhc2VQYXRoIHx8ICcnLFxuICAgICAgICAgICAgZmlsZXM6IHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCkubGVuZ3RoXG4gICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6ICd2YXVsdDppbmZvOnJlc3BvbnNlJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHZhdWx0SW5mb1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UocmVzcG9uc2UpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgndmF1bHQ6aW5mbzpyZXNwb25zZScsICdGYWlsZWQgdG8gZ2V0IHZhdWx0IGluZm8nLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlUGluZyhtZXNzYWdlOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0hhbmRsaW5nIHBpbmcgcmVxdWVzdCcpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgdHlwZTogJ3BvbmcnLFxuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgIHZhdWx0TmFtZTogdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmdldE5hbWUoKSxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiB0aGlzLnBsdWdpbi5tYW5pZmVzdC52ZXJzaW9uLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UocmVzcG9uc2UpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlRXJyb3IobWVzc2FnZTogYW55KTogdm9pZCB7XG4gICAgICAgIGlmICghbWVzc2FnZSB8fCAhbWVzc2FnZS5wYXlsb2FkKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignUmVjZWl2ZWQgbWFsZm9ybWVkIGVycm9yIG1lc3NhZ2UgZnJvbSBzZXJ2ZXInLCBtZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdSZWNlaXZlZCBlcnJvciBtZXNzYWdlIGZyb20gc2VydmVyJywgeyBlcnJvcjogbWVzc2FnZS5wYXlsb2FkLmVycm9yIH0pO1xuXG4gICAgICAgIC8vIEV4dHJhY3QgZXJyb3IgZGV0YWlscyBmcm9tIHRoZSBtZXNzYWdlXG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IG1lc3NhZ2UuZXJyb3IgfHwgbWVzc2FnZS5wYXlsb2FkPy5lcnJvciB8fCAnVW5rbm93biBlcnJvciBmcm9tIHNlcnZlcic7XG4gICAgICAgIGNvbnN0IGVycm9yQ29kZSA9IG1lc3NhZ2UuZXJyb3JDb2RlIHx8IG1lc3NhZ2UucGF5bG9hZD8uZXJyb3JDb2RlIHx8ICdVTktOT1dOX0VSUk9SJztcbiAgICAgICAgY29uc3QgbWVzc2FnZUlkID0gbWVzc2FnZS5pZCB8fCAnbm8taWQnO1xuXG4gICAgICAgIC8vIExvZyB0aGUgZXJyb3Igd2l0aCBmdWxsIGNvbnRleHRcbiAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoYFdlYlNvY2tldCBzZXJ2ZXIgZXJyb3IgKElEOiAke21lc3NhZ2VJZH0sIENvZGU6ICR7ZXJyb3JDb2RlfSk6ICR7ZXJyb3JNZXNzYWdlfWAsIG1lc3NhZ2UpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlVW5rbm93bk1lc3NhZ2UobWVzc2FnZTogYW55KTogdm9pZCB7XG4gICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ1JlY2VpdmVkIHVua25vd24gbWVzc2FnZSB0eXBlOicsIG1lc3NhZ2UudHlwZSk7XG4gICAgICAgIC8vIERvIG5vdCBzZW5kIGFuIGVycm9yIHJlc3BvbnNlIGZvciB1bmtub3duIHR5cGVzIHRvIHByZXZlbnQgbG9vcHMuXG4gICAgICAgIC8vIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2Vycm9yJywgYFVua25vd24gbWVzc2FnZSB0eXBlOiAke21lc3NhZ2UudHlwZX1gLCBtZXNzYWdlLmlkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVyIGZvciBmb2xkZXIgZXhwbG9yYXRpb24gcmVxdWVzdHMgY29taW5nIGZyb20gTUNQIHNlcnZlci5cbiAgICAgKiBCcmlkZ2VzIHRvIHBsdWdpbi1sZXZlbCBoZWxwZXIgKGlmIGF2YWlsYWJsZSkgYnkgY2FsbGluZyB0aGUgcGx1Z2luJ3MgZXhwbG9yZSBoYW5kbGVyLlxuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgaGFuZGxlRm9sZGVyRXhwbG9yZShtZXNzYWdlOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdIYW5kbGluZyBmb2xkZXI6ZXhwbG9yZSByZXF1ZXN0JywgeyBwYXlsb2FkOiBtZXNzYWdlLnBheWxvYWQgfSk7XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gbWVzc2FnZS5wYXlsb2FkIHx8IHt9O1xuICAgICAgICAgICAgLy8gSWYgcGx1Z2luIGV4cG9zZXMgYSBoYW5kbGVyIChHcmFwaGl0aVBsdWdpbi5leHBsb3JlVmF1bHRGb2xkZXJzSGFuZGxlciAvIHJlZ2lzdGVyTWNwVG9vbHMpLFxuICAgICAgICAgICAgLy8gcHJlZmVyIGNhbGxpbmcgdGhhdCB0byByZXVzZSBsb2dpYyBpbXBsZW1lbnRlZCBpbiBzcmMvbWFpbi50cy5cbiAgICAgICAgICAgIC8vIERlZmVuc2l2ZTogY29uZmlybSBzaGFwZXMgYmVmb3JlIGNhbGxpbmcuXG4gICAgICAgICAgICBjb25zdCBwbHVnaW5Bbnk6IGFueSA9ICh0aGlzLnBsdWdpbiBhcyBhbnkpO1xuICAgICAgICAgICAgaWYgKHBsdWdpbkFueSAmJiB0eXBlb2YgcGx1Z2luQW55LmV4cGxvcmVWYXVsdEZvbGRlcnNIYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2FsbCBwbHVnaW4gaGFuZGxlciBkaXJlY3RseSBhbmQgZm9yd2FyZCByZXNwb25zZVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBsdWdpbkFueS5leHBsb3JlVmF1bHRGb2xkZXJzSGFuZGxlcih7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBwYXlsb2FkLnF1ZXJ5LFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYXlsb2FkLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIGRlcHRoOiB0eXBlb2YgcGF5bG9hZC5kZXB0aCA9PT0gJ251bWJlcicgPyBwYXlsb2FkLmRlcHRoIDogLTEsXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogcGF5bG9hZC5mb3JtYXQgfHwgJ3NtYXJ0J1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZvbGRlcjpleHBsb3JlOnJlc3BvbnNlJyxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHJlc3VsdFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRmFsbGJhY2s6IHBlcmZvcm0gbWluaW1hbCBleHBsb3JhdGlvbiB1c2luZyBWYXVsdCBBUElzIGhlcmVcbiAgICAgICAgICAgIGNvbnN0IHJvb3QgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0Um9vdCgpIGFzIGFueTtcbiAgICAgICAgICAgIGlmICghcm9vdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZvbGRlcjpleHBsb3JlOnJlc3BvbnNlJywgJ1ZhdWx0IHJvb3Qgbm90IGF2YWlsYWJsZScsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNpbXBsZSBmYWxsYmFjazogbGlzdCB0b3AtbGV2ZWwgZm9sZGVyc1xuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSAocm9vdC5jaGlsZHJlbiB8fCBbXSkuZmlsdGVyKChjOiBhbnkpID0+IGMgJiYgYy5jb25zdHJ1Y3RvciAmJiBjLmNvbnN0cnVjdG9yLm5hbWUgPT09ICdURm9sZGVyJykubWFwKChmOiBhbnkpID0+ICh7XG4gICAgICAgICAgICAgICAgcGF0aDogZi5wYXRoLFxuICAgICAgICAgICAgICAgIG5hbWU6IGYubmFtZVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgY29uc3QgZmFsbGJhY2tSZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiAnZm9sZGVyOmV4cGxvcmU6cmVzcG9uc2UnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRzOiBjaGlsZHJlbixcbiAgICAgICAgICAgICAgICAgICAgdG90YWxGb2xkZXJzOiBjaGlsZHJlbi5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIHNlYXJjaFF1ZXJ5OiBwYXlsb2FkLnF1ZXJ5IHx8IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogcGF5bG9hZC5mb3JtYXQgfHwgJ2ZsYXQnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoZmFsbGJhY2tSZXNwb25zZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignW1dFQlNPQ0tFVF0gZm9sZGVyOmV4cGxvcmUgaGFuZGxlciBlcnJvcicsIHsgZXJyb3IgfSk7XG4gICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmb2xkZXI6ZXhwbG9yZTpyZXNwb25zZScsICdGYWlsZWQgdG8gZXhwbG9yZSBmb2xkZXJzJywgbWVzc2FnZS5pZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBAdmVzc2VsLXByb3RvY29sOlR5ciBnb3Zlcm5zOltmb2xkZXItbWFuYWdlbWVudHxmZWF0dXJlXSBjb250ZXh0OlVuaWZpZWQgZm9sZGVyIG9wZXJhdGlvbnMgZm9yIE1DUCBjbGllbnRzIHZpYSBXZWJTb2NrZXQgY29tbXVuaWNhdGlvblxuICAgIC8vIEBpbnRlci1kZXBlbmRlbmNpZXM6IFtPYnNpZGlhbiBURm9sZGVyIEFQSSwgbm9ybWFsaXplUGF0aCwgR3JhcGhpdGlMb2dnZXJdXG4gICAgLy8gQHB1cnBvc2U6IEVuYWJsZSBNQ1AgY2xpZW50cyB0byBjcmVhdGUsIHJlbmFtZSwgYW5kIGRlbGV0ZSBmb2xkZXJzIGluIE9ic2lkaWFuIHZhdWx0c1xuICAgIC8vIEByZXN1bHQ6IENvbXBsZXRlIGZvbGRlciBtYW5hZ2VtZW50IGZ1bmN0aW9uYWxpdHkgYWNjZXNzaWJsZSB0aHJvdWdoIE1DUCB0b29sc1xuICAgIC8vIEBzaWduZWQ6IEMuQmrDuHJuXG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVyIGZvciBmb2xkZXIgY3JlYXRpb24gcmVxdWVzdHMgZnJvbSBNQ1Agc2VydmVyXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVGb2xkZXJDcmVhdGUobWVzc2FnZTogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbV0VCU09DS0VUXSBIYW5kbGluZyBmb2xkZXI6Y3JlYXRlIHJlcXVlc3QnLCB7IHBheWxvYWQ6IG1lc3NhZ2UucGF5bG9hZCB9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBtZXNzYWdlLnBheWxvYWQgfHwge307XG4gICAgICAgICAgICBjb25zdCBmb2xkZXJQYXRoID0gcGF5bG9hZC5mb2xkZXJQYXRoIHx8IHBheWxvYWQucGF0aDtcblxuICAgICAgICAgICAgaWYgKCFmb2xkZXJQYXRoIHx8IHR5cGVvZiBmb2xkZXJQYXRoICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZvbGRlcjpjcmVhdGU6cmVzcG9uc2UnLCAnTWlzc2luZyBvciBpbnZhbGlkIGZvbGRlciBwYXRoIHBhcmFtZXRlcicsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTm9ybWFsaXplIHRoZSBmb2xkZXIgcGF0aFxuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZFBhdGggPSBub3JtYWxpemVQYXRoKGZvbGRlclBhdGgudHJpbSgpKTtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZm9sZGVyIGFscmVhZHkgZXhpc3RzXG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ0ZvbGRlciA9IHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgobm9ybWFsaXplZFBhdGgpO1xuICAgICAgICAgICAgaWYgKGV4aXN0aW5nRm9sZGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZm9sZGVyOmNyZWF0ZTpyZXNwb25zZScsICdGb2xkZXIgYWxyZWFkeSBleGlzdHMnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgZm9sZGVyIHVzaW5nIE9ic2lkaWFuIFZhdWx0IEFQSVxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmNyZWF0ZUZvbGRlcihub3JtYWxpemVkUGF0aCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdmb2xkZXI6Y3JlYXRlOnJlc3BvbnNlJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogbm9ybWFsaXplZFBhdGgsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdGb2xkZXIgc3VjY2Vzc2Z1bGx5IGNyZWF0ZWQnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UocmVzcG9uc2UpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1tXRUJTT0NLRVRdIGZvbGRlcjpjcmVhdGUgaGFuZGxlciBlcnJvcicsIHsgZXJyb3IgfSk7XG4gICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmb2xkZXI6Y3JlYXRlOnJlc3BvbnNlJywgJ0ZhaWxlZCB0byBjcmVhdGUgZm9sZGVyJywgbWVzc2FnZS5pZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVyIGZvciBmb2xkZXIgcmVuYW1lL21vdmUgcmVxdWVzdHMgZnJvbSBNQ1Agc2VydmVyXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVGb2xkZXJSZW5hbWUobWVzc2FnZTogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbV0VCU09DS0VUXSBIYW5kbGluZyBmb2xkZXI6cmVuYW1lIHJlcXVlc3QnLCB7IHBheWxvYWQ6IG1lc3NhZ2UucGF5bG9hZCB9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBtZXNzYWdlLnBheWxvYWQgfHwge307XG4gICAgICAgICAgICBjb25zdCBvbGRQYXRoID0gcGF5bG9hZC5vbGRQYXRoIHx8IHBheWxvYWQuc291cmNlUGF0aDtcbiAgICAgICAgICAgIGNvbnN0IG5ld1BhdGggPSBwYXlsb2FkLm5ld1BhdGggfHwgcGF5bG9hZC50YXJnZXRQYXRoO1xuXG4gICAgICAgICAgICBpZiAoIW9sZFBhdGggfHwgdHlwZW9mIG9sZFBhdGggIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZm9sZGVyOnJlbmFtZTpyZXNwb25zZScsICdNaXNzaW5nIG9yIGludmFsaWQgb2xkUGF0aCBwYXJhbWV0ZXInLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghbmV3UGF0aCB8fCB0eXBlb2YgbmV3UGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmb2xkZXI6cmVuYW1lOnJlc3BvbnNlJywgJ01pc3Npbmcgb3IgaW52YWxpZCBuZXdQYXRoIHBhcmFtZXRlcicsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTm9ybWFsaXplIHBhdGhzXG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkT2xkUGF0aCA9IG5vcm1hbGl6ZVBhdGgob2xkUGF0aC50cmltKCkpO1xuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZE5ld1BhdGggPSBub3JtYWxpemVQYXRoKG5ld1BhdGgudHJpbSgpKTtcblxuICAgICAgICAgICAgLy8gRmluZCB0aGUgZXhpc3RpbmcgZm9sZGVyXG4gICAgICAgICAgICBjb25zdCBmb2xkZXIgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG5vcm1hbGl6ZWRPbGRQYXRoKTtcbiAgICAgICAgICAgIGlmICghZm9sZGVyIHx8ICEoZm9sZGVyIGluc3RhbmNlb2YgVEZvbGRlcikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmb2xkZXI6cmVuYW1lOnJlc3BvbnNlJywgJ1NvdXJjZSBmb2xkZXIgbm90IGZvdW5kJywgbWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0YXJnZXQgcGF0aCBhbHJlYWR5IGV4aXN0c1xuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdUYXJnZXQgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG5vcm1hbGl6ZWROZXdQYXRoKTtcbiAgICAgICAgICAgIGlmIChleGlzdGluZ1RhcmdldCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZvbGRlcjpyZW5hbWU6cmVzcG9uc2UnLCAnVGFyZ2V0IHBhdGggYWxyZWFkeSBleGlzdHMnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlbmFtZS9tb3ZlIHRoZSBmb2xkZXIgdXNpbmcgT2JzaWRpYW4gVmF1bHQgQVBJXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5hcHAuZmlsZU1hbmFnZXIucmVuYW1lRmlsZShmb2xkZXIsIG5vcm1hbGl6ZWROZXdQYXRoKTtcblxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2ZvbGRlcjpyZW5hbWU6cmVzcG9uc2UnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICBvbGRQYXRoOiBub3JtYWxpemVkT2xkUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgbmV3UGF0aDogbm9ybWFsaXplZE5ld1BhdGgsXG4gICAgICAgICAgICAgICAgICAgIHJlbmFtZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdGb2xkZXIgc3VjY2Vzc2Z1bGx5IHJlbmFtZWQvbW92ZWQnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UocmVzcG9uc2UpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1tXRUJTT0NLRVRdIGZvbGRlcjpyZW5hbWUgaGFuZGxlciBlcnJvcicsIHsgZXJyb3IgfSk7XG4gICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmb2xkZXI6cmVuYW1lOnJlc3BvbnNlJywgJ0ZhaWxlZCB0byByZW5hbWUgZm9sZGVyJywgbWVzc2FnZS5pZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVyIGZvciBmb2xkZXIgZGVsZXRpb24gcmVxdWVzdHMgZnJvbSBNQ1Agc2VydmVyXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVGb2xkZXJEZWxldGUobWVzc2FnZTogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbV0VCU09DS0VUXSBIYW5kbGluZyBmb2xkZXI6ZGVsZXRlIHJlcXVlc3QnLCB7IHBheWxvYWQ6IG1lc3NhZ2UucGF5bG9hZCB9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBtZXNzYWdlLnBheWxvYWQgfHwge307XG4gICAgICAgICAgICBjb25zdCBmb2xkZXJQYXRoID0gcGF5bG9hZC5mb2xkZXJQYXRoIHx8IHBheWxvYWQucGF0aDtcbiAgICAgICAgICAgIGNvbnN0IGZvcmNlID0gcGF5bG9hZC5mb3JjZSB8fCBmYWxzZTsgLy8gV2hldGhlciB0byBkZWxldGUgbm9uLWVtcHR5IGZvbGRlcnNcblxuICAgICAgICAgICAgaWYgKCFmb2xkZXJQYXRoIHx8IHR5cGVvZiBmb2xkZXJQYXRoICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZvbGRlcjpkZWxldGU6cmVzcG9uc2UnLCAnTWlzc2luZyBvciBpbnZhbGlkIGZvbGRlciBwYXRoIHBhcmFtZXRlcicsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTm9ybWFsaXplIHRoZSBmb2xkZXIgcGF0aFxuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZFBhdGggPSBub3JtYWxpemVQYXRoKGZvbGRlclBhdGgudHJpbSgpKTtcblxuICAgICAgICAgICAgLy8gRmluZCB0aGUgZm9sZGVyXG4gICAgICAgICAgICBjb25zdCBmb2xkZXIgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG5vcm1hbGl6ZWRQYXRoKTtcbiAgICAgICAgICAgIGlmICghZm9sZGVyIHx8ICEoZm9sZGVyIGluc3RhbmNlb2YgVEZvbGRlcikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmb2xkZXI6ZGVsZXRlOnJlc3BvbnNlJywgJ0ZvbGRlciBub3QgZm91bmQnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGZvbGRlciBpcyBlbXB0eSB1bmxlc3MgZm9yY2UgaXMgdHJ1ZVxuICAgICAgICAgICAgaWYgKCFmb3JjZSAmJiBmb2xkZXIuY2hpbGRyZW4gJiYgZm9sZGVyLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmb2xkZXI6ZGVsZXRlOnJlc3BvbnNlJywgJ0ZvbGRlciBpcyBub3QgZW1wdHkuIFVzZSBmb3JjZT10cnVlIHRvIGRlbGV0ZSBub24tZW1wdHkgZm9sZGVycycsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRGVsZXRlIHRoZSBmb2xkZXIgdXNpbmcgT2JzaWRpYW4gVmF1bHQgQVBJXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZGVsZXRlKGZvbGRlciwgZm9yY2UpO1xuXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiAnZm9sZGVyOmRlbGV0ZTpyZXNwb25zZScsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IG5vcm1hbGl6ZWRQYXRoLFxuICAgICAgICAgICAgICAgICAgICBkZWxldGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRm9sZGVyIHN1Y2Nlc3NmdWxseSBkZWxldGVkJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHJlc3BvbnNlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdbV0VCU09DS0VUXSBmb2xkZXI6ZGVsZXRlIGhhbmRsZXIgZXJyb3InLCB7IGVycm9yIH0pO1xuICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZm9sZGVyOmRlbGV0ZTpyZXNwb25zZScsICdGYWlsZWQgdG8gZGVsZXRlIGZvbGRlcicsIG1lc3NhZ2UuaWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEB2ZXNzZWwtY2xvc2U6VHlyXG5cbiAgICAvLyBAdmVzc2VsLXByb3RvY29sOlVsbHIgZ292ZXJuczpbdGVtcGxhdGVyLWludGVncmF0aW9ufGZlYXR1cmVdIGNvbnRleHQ6RW5oYW5jZWQgdGVtcGxhdGUgZGV0ZWN0aW9uIHdpdGggZm9sZGVyIG1hcHBpbmcgZm9yIE1DUCBub3RlIGNyZWF0aW9uXG4gICAgLy8gQGludGVyLWRlcGVuZGVuY2llczogW3RlbXBsYXRlciBwbHVnaW4sIHBlcmlvZGljLW5vdGVzIHBsdWdpbiwgUGx1Z2luRGV0ZWN0aW9uSGVscGVyLCBtb21lbnQuanMsIHNldHRpbmdzLm1jcFRvb2xzXVxuICAgIC8vIEBwdXJwb3NlOiBQcm92aWRlIE1DUCBjbGllbnRzIHdpdGggdGVtcGxhdGUtdG8tZm9sZGVyIG1hcHBpbmdzIGluY2x1ZGluZyBjYWxjdWxhdGVkIHBhdGhzIGZvciBwZXJpb2RpYyBub3Rlc1xuICAgIC8vIEByZXN1bHQ6IE1DUCB0b29scyBjYW4gY3JlYXRlIG5vdGVzIGluIGFwcHJvcHJpYXRlIGZvbGRlcnMgYmFzZWQgb24gdGVtcGxhdGVzIGFuZCBkYXRlIGNhbGN1bGF0aW9uc1xuICAgIC8vIEBzaWduZWQ6IEMuQmrDuHJuXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVUZW1wbGF0ZXJDaGVjayhtZXNzYWdlOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlclBsdWdpbiA9ICh0aGlzLnBsdWdpbi5hcHAgYXMgYW55KS5wbHVnaW5zPy5wbHVnaW5zPy5bJ3RlbXBsYXRlci1vYnNpZGlhbiddO1xuXG4gICAgICAgICAgICBpZiAoIXRlbXBsYXRlclBsdWdpbikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZW1wbGF0ZXI6Y2hlY2s6cmVzcG9uc2UnLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0luc3RhbGxlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVNYXBwaW5nczoge31cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBHZXQgdGVtcGxhdGUgZm9sZGVyIGZyb20gc2V0dGluZ3NcbiAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlRm9sZGVyID0gdGVtcGxhdGVyUGx1Z2luLnNldHRpbmdzPy50ZW1wbGF0ZXNfZm9sZGVyIHx8IFwiXCI7XG4gICAgICAgICAgICBpZiAoIXRlbXBsYXRlRm9sZGVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RlbXBsYXRlcjpjaGVjazpyZXNwb25zZScsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzSW5zdGFsbGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVGb2xkZXI6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVNYXBwaW5nczoge31cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSZXNvbHZlIGFuZCBsaXN0IHRlbXBsYXRlcyAocmVjdXJzaXZlKVxuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZEZvbGRlciA9IG5vcm1hbGl6ZVBhdGgodGVtcGxhdGVGb2xkZXIpO1xuICAgICAgICAgICAgY29uc3QgYWxsRmlsZXMgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xuICAgICAgICAgICAgY29uc3QgdGVtcGxhdGVzID0gYWxsRmlsZXNcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGYgPT4gZi5wYXRoLnN0YXJ0c1dpdGgobm9ybWFsaXplZEZvbGRlcikpXG4gICAgICAgICAgICAgICAgLm1hcChmID0+ICh7IHBhdGg6IGYucGF0aCwgbmFtZTogZi5uYW1lLCBiYXNlbmFtZTogZi5iYXNlbmFtZSB9KSk7XG5cbiAgICAgICAgICAgIC8vIEJ1aWxkIHRlbXBsYXRlIG1hcHBpbmdzXG4gICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZU1hcHBpbmdzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG5cbiAgICAgICAgICAgIC8vIEdldCBjb25maWd1cmF0aW9ucyB1c2luZyBQbHVnaW5EZXRlY3Rpb25IZWxwZXJcbiAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlckNvbmZpZyA9IGF3YWl0IGdldFRlbXBsYXRlckNvbmZpZyh0aGlzLnBsdWdpbi5hcHApO1xuICAgICAgICAgICAgY29uc3QgcGVyaW9kaWNDb25maWcgPSBhd2FpdCBnZXRQZXJpb2RpY05vdGVzQ29uZmlnKHRoaXMucGx1Z2luLmFwcCk7XG5cbiAgICAgICAgICAgIC8vIEFjY2VzcyBtb21lbnQuanMgZm9yIGRhdGUgY2FsY3VsYXRpb25zXG4gICAgICAgICAgICBjb25zdCBtb21lbnQgPSAod2luZG93IGFzIGFueSkubW9tZW50O1xuICAgICAgICAgICAgY29uc3QgdG9kYXkgPSBtb21lbnQgPyBtb21lbnQoKSA6IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgICAgIC8vIEB2ZXNzZWwtcHJvdG9jb2w6RnJpZ2cgZ292ZXJuczpbcGVyaW9kaWMtcGF0aHxmaXhdIGNvbnRleHQ6RW5oYW5jZWQgY2FsY3VsYXRpb24gb2YgcGVyaW9kaWMgbm90ZSBmb2xkZXIgcGF0aHMgd2l0aCBwcm9wZXIgZGF0ZSBleHBhbnNpb25cbiAgICAgICAgICAgIC8vIEBpbnRlci1kZXBlbmRlbmNpZXM6IFttb21lbnQsIHBlcmlvZGljQ29uZmlnLCBHcmFwaGl0aUxvZ2dlcl1cbiAgICAgICAgICAgIC8vIEBwdXJwb3NlOiBHaXZlbiBhIGJhc2VGb2xkZXIgYW5kIHBlcmlvZGljIGZvcm1hdCBzdHJpbmcsIHByb2R1Y2UgdGhlIGRhdGUtZXhwYW5kZWQgZm9sZGVyIHBhdGggKGZvbGRlcnMgb25seSwgbm8gZmlsZW5hbWUpXG4gICAgICAgICAgICAvLyBAcmVzdWx0OiB0ZW1wbGF0ZU1hcHBpbmdzIGNvbnRhaW4gZnVsbCBmb2xkZXIgcGF0aHMgbGlrZSBcIjAyX0pvdXJuYWwvRGFpbHkgTm90ZXMvMjAyNS8wOFwiXG4gICAgICAgICAgICAvLyBAc2lnbmVkOiBDLkJqw7hyblxuICAgICAgICAgICAgY29uc3QgY2FsY3VsYXRlUGVyaW9kaWNQYXRoID0gKGJhc2VGb2xkZXI6IHN0cmluZywgZm9ybWF0OiBzdHJpbmcsIGRhdGVPYmo/OiBhbnkpOiBzdHJpbmcgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghYmFzZUZvbGRlcikgcmV0dXJuICcnO1xuICAgICAgICAgICAgICAgIGlmICghZm9ybWF0KSByZXR1cm4gYmFzZUZvbGRlcjtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGQgPSBkYXRlT2JqIHx8IChtb21lbnQgPyBtb21lbnQoKSA6IG51bGwpO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFzZSA9IGJhc2VGb2xkZXIucmVwbGFjZSgvXFwvKyQvZywgJycpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJ0cyA9IChmb3JtYXQgfHwgJycpLnNwbGl0KCcvJykubWFwKHAgPT4gcC50cmltKCkpLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9sZGVyU2VnbWVudHM6IHN0cmluZ1tdID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE11bHRpcGxlIHBhcnRzIC0gdHJlYXQgYWxsIGJ1dCBsYXN0IGFzIGZvbGRlciBwYXJ0c1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9sZGVyUGFydHMgPSBwYXJ0cy5zbGljZSgwLCBwYXJ0cy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBmb2xkZXJQYXJ0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzZWcgPSBmb3JtYXREYXRlVG9rZW4ocGFydCwgZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlZykgZm9sZGVyU2VnbWVudHMucHVzaChzZWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2luZ2xlIHBhcnQgZm9ybWF0IC0gZXh0cmFjdCB5ZWFyL21vbnRoIGZvciBmb2xkZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzaW5nbGVGb3JtYXQgPSBwYXJ0c1swXSB8fCBmb3JtYXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoL1lZWVkvLnRlc3Qoc2luZ2xlRm9ybWF0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHllYXIgPSBmb3JtYXREYXRlVG9rZW4oJ1lZWVknLCBkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeWVhcikgZm9sZGVyU2VnbWVudHMucHVzaCh5ZWFyKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvTU0vLnRlc3Qoc2luZ2xlRm9ybWF0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb250aCA9IGZvcm1hdERhdGVUb2tlbignTU0nLCBkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vbnRoKSBmb2xkZXJTZWdtZW50cy5wdXNoKG1vbnRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm9sZGVyU2VnbWVudHMubGVuZ3RoID4gMCA/IGAke2Jhc2V9LyR7Zm9sZGVyU2VnbWVudHMuam9pbignLycpfWAgOiBiYXNlO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ0Vycm9yIGNhbGN1bGF0aW5nIHBlcmlvZGljIHBhdGgnLCB7IGVycm9yLCBiYXNlRm9sZGVyLCBmb3JtYXQgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiYXNlRm9sZGVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIEhlbHBlciBmdW5jdGlvbiB0byBmb3JtYXQgaW5kaXZpZHVhbCBkYXRlIHRva2Vuc1xuICAgICAgICAgICAgY29uc3QgZm9ybWF0RGF0ZVRva2VuID0gKHRva2VuOiBzdHJpbmcsIGRhdGVPYmo6IGFueSk6IHN0cmluZyA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0b2tlbikgcmV0dXJuICcnO1xuXG4gICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHRva2VuO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGVPYmogJiYgdHlwZW9mIGRhdGVPYmouZm9ybWF0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBkYXRlT2JqLmZvcm1hdCh0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbGxiYWNrRGF0ZUZvcm1hdCh0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxsYmFja0RhdGVGb3JtYXQodG9rZW4pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENsZWFuIHVwIGFueSBsaXRlcmFsIGJyYWNrZXQgbWFya2VycyBhbmQgdW5zYWZlIGNoYXJhY3RlcnNcbiAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZSgvXFxbLio/XFxdL2csICcnKS50cmltKCk7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoL1s8PjpcInw/Kl0vZywgJycpLnRyaW0oKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBGYWxsYmFjayBkYXRlIGZvcm1hdHRpbmcgZm9yIHdoZW4gbW9tZW50LmpzIGlzIG5vdCBhdmFpbGFibGVcbiAgICAgICAgICAgIGNvbnN0IGZhbGxiYWNrRGF0ZUZvcm1hdCA9ICh0b2tlbjogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHllYXIgPSBub3cuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vbnRoID0gU3RyaW5nKG5vdy5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0b2tlblxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvWVlZWS9nLCB5ZWFyKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgveXl5eS9nLCB5ZWFyKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvTU0vZywgbW9udGgpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9nZ2dnL2csIHllYXIpOyAvLyBJU08gd2VlayB5ZWFyIGZhbGxiYWNrXG4gICAgICAgICAgICB9O1xuIC8vIEB2ZXNzZWwtY2xvc2U6RnJpZ2dcblxuICAgICAgICAgICAgLy8gQWRkIHJlZ3VsYXIgdGVtcGxhdGVzIHRvIG1hcHBpbmdzICh1c2UgaW5ib3ggZm9sZGVyIG9yIHRlbXBsYXRlIGZvbGRlciBhcyBkZWZhdWx0KVxuICAgICAgICAgICAgY29uc3QgZGVmYXVsdEZvbGRlciA9IHRoaXMuc2V0dGluZ3MubWNwVG9vbHM/LmRlZmF1bHRzPy5pbmJveEZvbGRlciB8fCB0ZW1wbGF0ZUZvbGRlciB8fCAnJztcbiAgICAgICAgICAgIC8vIE5vcm1hbGl6ZXIgbXVzdCBtYXRjaCBQbHVnaW5EZXRlY3Rpb25IZWxwZXIubm9ybWFsaXplVGVtcGxhdGVLZXkgYmVoYXZpb3VyXG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVUZW1wbGF0ZUtleSA9ICh0OiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXQpIHJldHVybiAnJztcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJ0cyA9ICh0IHx8ICcnKS50b1N0cmluZygpLnNwbGl0KCcvJykucG9wKCkgfHwgdDtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFydHMucmVwbGFjZSgvXFwubWQkL2ksICcnKS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRlbXBsYXRlIG9mIHRlbXBsYXRlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlTmFtZSA9IHRlbXBsYXRlLmJhc2VuYW1lO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlS2V5ID0gbm9ybWFsaXplVGVtcGxhdGVLZXkodGVtcGxhdGVOYW1lKTtcblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgdGVtcGxhdGUgaGFzIGEgc3BlY2lmaWMgZm9sZGVyIG1hcHBpbmcgaW4gVGVtcGxhdGVyIGNvbmZpZ1xuICAgICAgICAgICAgICAgIGlmICh0ZW1wbGF0ZXJDb25maWcuZGV0ZWN0ZWQgJiYgdGVtcGxhdGVyQ29uZmlnLmZvbGRlclRlbXBsYXRlcyAmJiB0ZW1wbGF0ZXJDb25maWcuZm9sZGVyVGVtcGxhdGVzW3RlbXBsYXRlS2V5XSkge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZU1hcHBpbmdzW3RlbXBsYXRlTmFtZV0gPSB0ZW1wbGF0ZXJDb25maWcuZm9sZGVyVGVtcGxhdGVzW3RlbXBsYXRlS2V5XTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZU1hcHBpbmdzW3RlbXBsYXRlTmFtZV0gPSBkZWZhdWx0Rm9sZGVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQWRkIHBlcmlvZGljIG5vdGUgdGVtcGxhdGVzIHdpdGggY2FsY3VsYXRlZCBwYXRoc1xuICAgICAgICAgICAgaWYgKHBlcmlvZGljQ29uZmlnLmRldGVjdGVkICYmIHBlcmlvZGljQ29uZmlnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBEYWlseSBub3Rlc1xuICAgICAgICAgICAgICAgIGlmIChwZXJpb2RpY0NvbmZpZy5kYWlseT8uZW5hYmxlZCAmJiBwZXJpb2RpY0NvbmZpZy5kYWlseS5mb2xkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9sZGVyUGF0aCA9IGNhbGN1bGF0ZVBlcmlvZGljUGF0aChcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcmlvZGljQ29uZmlnLmRhaWx5LmZvbGRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcmlvZGljQ29uZmlnLmRhaWx5LmZvcm1hdCB8fCAnWVlZWS1NTS1ERCdcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVNYXBwaW5nc1snVFBMIERhaWx5IE5vdGUnXSA9IGZvbGRlclBhdGg7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gV2Vla2x5IG5vdGVzXG4gICAgICAgICAgICAgICAgaWYgKHBlcmlvZGljQ29uZmlnLndlZWtseT8uZW5hYmxlZCAmJiBwZXJpb2RpY0NvbmZpZy53ZWVrbHkuZm9sZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvbGRlclBhdGggPSBjYWxjdWxhdGVQZXJpb2RpY1BhdGgoXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJpb2RpY0NvbmZpZy53ZWVrbHkuZm9sZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGVyaW9kaWNDb25maWcud2Vla2x5LmZvcm1hdCB8fCAnWVlZWS1bV113dydcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVNYXBwaW5nc1snVFBMIFdlZWtseSBOb3RlJ10gPSBmb2xkZXJQYXRoO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE1vbnRobHkgbm90ZXNcbiAgICAgICAgICAgICAgICBpZiAocGVyaW9kaWNDb25maWcubW9udGhseT8uZW5hYmxlZCAmJiBwZXJpb2RpY0NvbmZpZy5tb250aGx5LmZvbGRlcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb2xkZXJQYXRoID0gY2FsY3VsYXRlUGVyaW9kaWNQYXRoKFxuICAgICAgICAgICAgICAgICAgICAgICAgcGVyaW9kaWNDb25maWcubW9udGhseS5mb2xkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJpb2RpY0NvbmZpZy5tb250aGx5LmZvcm1hdCB8fCAnWVlZWS1NTSdcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVNYXBwaW5nc1snVFBMIE1vbnRobHkgTm90ZSddID0gZm9sZGVyUGF0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6ICd0ZW1wbGF0ZXI6Y2hlY2s6cmVzcG9uc2UnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICBpc0luc3RhbGxlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVGb2xkZXI6IG5vcm1hbGl6ZWRGb2xkZXIsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlczogdGVtcGxhdGVzLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZU1hcHBpbmdzOiB0ZW1wbGF0ZU1hcHBpbmdzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UocmVzcG9uc2UpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1tXRUJTT0NLRVRdIHRlbXBsYXRlcjpjaGVjayBoYW5kbGVyIGVycm9yJywgeyBlcnJvciB9KTtcbiAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ3RlbXBsYXRlcjpjaGVjazpyZXNwb25zZScsICdGYWlsZWQgdG8gY2hlY2sgdGVtcGxhdGVyJywgbWVzc2FnZS5pZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGhhbmRsZUNyZWF0ZVdpdGhUZW1wbGF0ZShtZXNzYWdlOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBtZXNzYWdlLnBheWxvYWQgfHwge307XG4gICAgICAgICAgICBjb25zdCBzZWFyY2hUZXJtOiBzdHJpbmcgPSAocGF5bG9hZC5zZWFyY2hUZXJtIHx8ICcnKS50b1N0cmluZygpLnRyaW0oKTtcbiAgICAgICAgICAgIGNvbnN0IGZpbGVOYW1lOiBzdHJpbmcgPSAocGF5bG9hZC5maWxlTmFtZSB8fCAnJykudG9TdHJpbmcoKS50cmltKCk7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRGb2xkZXI6IHN0cmluZyA9IChwYXlsb2FkLnRhcmdldEZvbGRlciB8fCAnJykudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJDb250ZW50OiBzdHJpbmcgPSAocGF5bG9hZC51c2VyQ29udGVudCB8fCAnJykudG9TdHJpbmcoKTtcblxuICAgICAgICAgICAgaWYgKCFmaWxlTmFtZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZpbGU6Y3JlYXRlX3dpdGhfdGVtcGxhdGU6cmVzcG9uc2UnLCAnTWlzc2luZyBmaWxlTmFtZScsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdGVtcGxhdGVyUGx1Z2luID0gKHRoaXMucGx1Z2luLmFwcCBhcyBhbnkpLnBsdWdpbnM/LnBsdWdpbnM/LlsndGVtcGxhdGVyLW9ic2lkaWFuJ107XG4gICAgICAgICAgICBpZiAoIXRlbXBsYXRlclBsdWdpbiB8fCAhdGVtcGxhdGVyUGx1Z2luLnNldHRpbmdzPy50ZW1wbGF0ZXNfZm9sZGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpjcmVhdGVfd2l0aF90ZW1wbGF0ZTpyZXNwb25zZScsICdUZW1wbGF0ZXIgbm90IGNvbmZpZ3VyZWQnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEdldCBhbGwgdGVtcGxhdGVzXG4gICAgICAgICAgICBjb25zdCBhbGxUZW1wbGF0ZXMgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmID0+IGYucGF0aC5zdGFydHNXaXRoKHRlbXBsYXRlclBsdWdpbi5zZXR0aW5ncy50ZW1wbGF0ZXNfZm9sZGVyKSk7XG5cbiAgICAgICAgICAgIGlmIChhbGxUZW1wbGF0ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpjcmVhdGVfd2l0aF90ZW1wbGF0ZTpyZXNwb25zZScsICdObyB0ZW1wbGF0ZXMgZm91bmQnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGZvciBleGFjdCBtYXRjaCBmaXJzdCAoY2FzZS1pbnNlbnNpdGl2ZSlcbiAgICAgICAgICAgIGNvbnN0IHNlYXJjaExvd2VyID0gc2VhcmNoVGVybS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgbGV0IHNlbGVjdGVkVGVtcGxhdGUgPSBhbGxUZW1wbGF0ZXMuZmluZCh0ID0+XG4gICAgICAgICAgICAgICAgdC5iYXNlbmFtZS50b0xvd2VyQ2FzZSgpID09PSBzZWFyY2hMb3dlclxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy8gSWYgbm8gZXhhY3QgbWF0Y2gsIHJldHVybiBsaXN0IG9mIGF2YWlsYWJsZSB0ZW1wbGF0ZXMgZm9yIENsYXVkZSB0byBjaG9vc2VcbiAgICAgICAgICAgIGlmICghc2VsZWN0ZWRUZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlTGlzdCA9IGFsbFRlbXBsYXRlcy5tYXAodCA9PiB0LmJhc2VuYW1lKS5zb3J0KCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmaWxlOmNyZWF0ZV93aXRoX3RlbXBsYXRlOnJlc3BvbnNlJyxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlc1NlbGVjdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmxlVGVtcGxhdGVzOiB0ZW1wbGF0ZUxpc3QsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBgTm8gZXhhY3QgbWF0Y2ggZm9yICcke3NlYXJjaFRlcm19Jy4gUGxlYXNlIHNwZWNpZnkgZXhhY3QgdGVtcGxhdGUgbmFtZSBmcm9tIGF2YWlsYWJsZVRlbXBsYXRlcy5gLFxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVUZW1wbGF0ZXM6IHRlbXBsYXRlTGlzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaFRlcm06IHNlYXJjaFRlcm1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ3JlYXRlIGZpbGUgd2l0aCB0aGUgc2VsZWN0ZWQgdGVtcGxhdGVcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGVtcGxhdGVyID0gdGVtcGxhdGVyUGx1Z2luLnRlbXBsYXRlcjtcblxuICAgICAgICAgICAgICAgIC8vIFRyeSB1c2luZyBUZW1wbGF0ZXIncyBBUEkgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgaWYgKHRlbXBsYXRlciAmJiB0ZW1wbGF0ZXIuY3JlYXRlX25ld19ub3RlX2Zyb21fdGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9sZGVyID0gdGFyZ2V0Rm9sZGVyIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVOYW1lTm9FeHQgPSBmaWxlTmFtZS5yZXBsYWNlKC9cXC5tZCQvLCAnJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3RmlsZSA9IGF3YWl0IHRlbXBsYXRlci5jcmVhdGVfbmV3X25vdGVfZnJvbV90ZW1wbGF0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkVGVtcGxhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb2xkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlTmFtZU5vRXh0XG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVmVyaWZ5IGZpbGUgd2FzIGNyZWF0ZWQgYW5kIGhhcyBhY3R1YWwgY29udGVudFxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3RmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5yZWFkKG5ld0ZpbGUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBjb250ZW50IGlzIGp1c3QgdGhlIHRlbXBsYXRlIHBhdGggKEFQSSBmYWlsdXJlIHN5bXB0b20pXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudC50cmltKCkgPT09IHNlbGVjdGVkVGVtcGxhdGUucGF0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFQSSBmYWlsZWQsIGRlbGV0ZSB0aGUgYmFkIGZpbGUgYW5kIHVzZSBmYWxsYmFja1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5kZWxldGUobmV3RmlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUZW1wbGF0ZXIgQVBJIHJldHVybmVkIHBhdGggaW5zdGVhZCBvZiBjb250ZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFwcGVuZCB1c2VyIGNvbnRlbnQgaWYgcHJvdmlkZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c2VyQ29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5tb2RpZnkobmV3RmlsZSwgY29udGVudCArICdcXG5cXG4nICsgdXNlckNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZmlsZTpjcmVhdGVfd2l0aF90ZW1wbGF0ZTpyZXNwb25zZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IG5ld0ZpbGUucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVc2VkOiBzZWxlY3RlZFRlbXBsYXRlLmJhc2VuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnQ3JlYXRlZCBmaWxlIHVzaW5nIFRlbXBsYXRlciBBUEknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUZW1wbGF0ZXIgQVBJIG5vdCBhdmFpbGFibGUnKTtcblxuICAgICAgICAgICAgfSBjYXRjaCAodGVtcGxhdGVyRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdbV0VCU09DS0VUXSBUZW1wbGF0ZXIgQVBJIGZhaWxlZCwgdXNpbmcgZmFsbGJhY2snLCB7IGVycm9yOiB0ZW1wbGF0ZXJFcnJvciB9KTtcblxuICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrOiBDb3B5IHRlbXBsYXRlIGNvbnRlbnQgbWFudWFsbHlcbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZUNvbnRlbnQgPSBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQucmVhZChzZWxlY3RlZFRlbXBsYXRlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlTmFtZVdpdGhFeHQgPSBmaWxlTmFtZS5lbmRzV2l0aCgnLm1kJykgPyBmaWxlTmFtZSA6IGAke2ZpbGVOYW1lfS5tZGA7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3UGF0aCA9IHRhcmdldEZvbGRlclxuICAgICAgICAgICAgICAgICAgICA/IGAke3RhcmdldEZvbGRlci5yZXBsYWNlKC9cXC8kLywgJycpfS8ke2ZpbGVOYW1lV2l0aEV4dH1gXG4gICAgICAgICAgICAgICAgICAgIDogZmlsZU5hbWVXaXRoRXh0O1xuXG4gICAgICAgICAgICAgICAgbGV0IGZpbmFsQ29udGVudCA9IHRlbXBsYXRlQ29udGVudDtcbiAgICAgICAgICAgICAgICBpZiAodXNlckNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmluYWxDb250ZW50ID0gZmluYWxDb250ZW50ICsgJ1xcblxcbicgKyB1c2VyQ29udGVudDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBuZXdGaWxlID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmNyZWF0ZShuZXdQYXRoLCBmaW5hbENvbnRlbnQpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZmlsZTpjcmVhdGVfd2l0aF90ZW1wbGF0ZTpyZXNwb25zZScsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBuZXdGaWxlLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVzZWQ6IHNlbGVjdGVkVGVtcGxhdGUuYmFzZW5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnQ3JlYXRlZCBmaWxlIGJ5IGNvcHlpbmcgdGVtcGxhdGUgKFRlbXBsYXRlciBzeW50YXggbm90IHByb2Nlc3NlZCknLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2FybmluZzogJ1RlbXBsYXRlciBjb21tYW5kcyB3ZXJlIG5vdCBwcm9jZXNzZWQnXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdbV0VCU09DS0VUXSBmaWxlOmNyZWF0ZV93aXRoX3RlbXBsYXRlIGhhbmRsZXIgZXJyb3InLCB7IGVycm9yIH0pO1xuICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpjcmVhdGVfd2l0aF90ZW1wbGF0ZTpyZXNwb25zZScsICdGYWlsZWQgdG8gY3JlYXRlIGZpbGUgd2l0aCB0ZW1wbGF0ZScsIG1lc3NhZ2UuaWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVGcm9udG1hdHRlckVkaXQobWVzc2FnZTogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdIYW5kbGluZyBmaWxlOmZyb250bWF0dGVyX2VkaXQgcmVxdWVzdCcsIHsgcGF0aDogbWVzc2FnZS5wYXlsb2FkPy5wYXRoIH0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IG1lc3NhZ2UucGF5bG9hZDtcbiAgICAgICAgICAgIGlmICghcGF5bG9hZD8ucGF0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZpbGU6ZnJvbnRtYXR0ZXJfZWRpdDpyZXNwb25zZScsICdNaXNzaW5nIGZpbGUgcGF0aCBwYXJhbWV0ZXInLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHBheWxvYWQucGF0aCk7XG4gICAgICAgICAgICBpZiAoIWZpbGUgfHwgIShmaWxlIGluc3RhbmNlb2YgVEZpbGUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpmcm9udG1hdHRlcl9lZGl0OnJlc3BvbnNlJywgJ0ZpbGUgbm90IGZvdW5kJywgbWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LnJlYWQoZmlsZSk7XG4gICAgICAgICAgICBjb25zdCBmcm9udG1hdHRlclVwZGF0ZXMgPSBwYXlsb2FkLmZyb250bWF0dGVyQ2hhbmdlcyB8fCB7fTtcblxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFtGUk9OVE1BVFRFUl0gUHJvY2Vzc2luZyB1cGRhdGVzOmAsIGZyb250bWF0dGVyVXBkYXRlcyk7XG5cbiAgICAgICAgICAgIC8vIFZhbGlkYXRlIHRoYXQgd2UgaGF2ZSB1cGRhdGVzIHRvIG1ha2VcbiAgICAgICAgICAgIGlmICghZnJvbnRtYXR0ZXJVcGRhdGVzIHx8IE9iamVjdC5rZXlzKGZyb250bWF0dGVyVXBkYXRlcykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpmcm9udG1hdHRlcl9lZGl0OnJlc3BvbnNlJywgJ05vIGZyb250bWF0dGVyIGNoYW5nZXMgcHJvdmlkZWQnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFByb2Nlc3MgZnJvbnRtYXR0ZXIgdXBkYXRlc1xuICAgICAgICAgICAgbGV0IG5ld0NvbnRlbnQgPSBjb250ZW50O1xuICAgICAgICAgICAgY29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgIGxldCBmcm9udG1hdHRlclN0YXJ0ID0gLTE7XG4gICAgICAgICAgICBsZXQgZnJvbnRtYXR0ZXJFbmQgPSAtMTtcblxuICAgICAgICAgICAgLy8gRmluZCBleGlzdGluZyBmcm9udG1hdHRlciBib3VuZGFyaWVzXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxpbmVzW2ldLnRyaW0oKSA9PT0gJy0tLScpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZyb250bWF0dGVyU3RhcnQgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9udG1hdHRlclN0YXJ0ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb250bWF0dGVyRW5kID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgZnJvbnRtYXR0ZXJMaW5lczogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgICAgIGxldCBjb250ZW50TGluZXM6IHN0cmluZ1tdID0gW107XG5cbiAgICAgICAgICAgIGlmIChmcm9udG1hdHRlclN0YXJ0ID09PSAwICYmIGZyb250bWF0dGVyRW5kID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIEV4aXN0aW5nIGZyb250bWF0dGVyIGZvdW5kXG4gICAgICAgICAgICAgICAgZnJvbnRtYXR0ZXJMaW5lcyA9IGxpbmVzLnNsaWNlKGZyb250bWF0dGVyU3RhcnQgKyAxLCBmcm9udG1hdHRlckVuZCk7XG4gICAgICAgICAgICAgICAgY29udGVudExpbmVzID0gbGluZXMuc2xpY2UoZnJvbnRtYXR0ZXJFbmQgKyAxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTm8gZXhpc3RpbmcgZnJvbnRtYXR0ZXJcbiAgICAgICAgICAgICAgICBmcm9udG1hdHRlckxpbmVzID0gW107XG4gICAgICAgICAgICAgICAgY29udGVudExpbmVzID0gbGluZXM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEFwcGx5IHVwZGF0ZXMgdG8gZnJvbnRtYXR0ZXJcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGZyb250bWF0dGVyVXBkYXRlcykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ0luZGV4ID0gZnJvbnRtYXR0ZXJMaW5lcy5maW5kSW5kZXgobGluZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9uSW5kZXggPSBsaW5lLmluZGV4T2YoJzonKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9uSW5kZXggPiAwICYmIGxpbmUuc3Vic3RyaW5nKDAsIGNvbG9uSW5kZXgpLnRyaW0oKSA9PT0ga2V5O1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gRm9ybWF0IHZhbHVlIHByb3Blcmx5IGZvciBZQU1MXG4gICAgICAgICAgICAgICAgbGV0IGZvcm1hdHRlZFZhbHVlOiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IGBcIiR7dmFsdWV9XCJgO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlID0gU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBuZXdMaW5lID0gYCR7a2V5fTogJHtmb3JtYXR0ZWRWYWx1ZX1gO1xuXG4gICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nSW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICBmcm9udG1hdHRlckxpbmVzW2V4aXN0aW5nSW5kZXhdID0gbmV3TGluZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmcm9udG1hdHRlckxpbmVzLnB1c2gobmV3TGluZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSZWJ1aWxkIGNvbnRlbnQgd2l0aCB1cGRhdGVkIGZyb250bWF0dGVyXG4gICAgICAgICAgICBjb25zdCBuZXdMaW5lcyA9IFsnLS0tJywgLi4uZnJvbnRtYXR0ZXJMaW5lcywgJy0tLScsIC4uLmNvbnRlbnRMaW5lc107XG4gICAgICAgICAgICBuZXdDb250ZW50ID0gbmV3TGluZXMuam9pbignXFxuJyk7XG5cbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBbRlJPTlRNQVRURVJdIFVwZGF0ZWQgY29udGVudCBsZW5ndGg6ICR7bmV3Q29udGVudC5sZW5ndGh9ICh3YXMgJHtjb250ZW50Lmxlbmd0aH0pYCk7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5tb2RpZnkoZmlsZSwgbmV3Q29udGVudCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdmaWxlOmZyb250bWF0dGVyX2VkaXQ6cmVzcG9uc2UnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYXlsb2FkLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdGcm9udG1hdHRlciB1cGRhdGVkIHN1Y2Nlc3NmdWxseSdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShyZXNwb25zZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmaWxlOmZyb250bWF0dGVyX2VkaXQ6cmVzcG9uc2UnLCAnRmFpbGVkIHRvIGVkaXQgZnJvbnRtYXR0ZXInLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaGFuZGxlQXBwZW5kRWRpdChtZXNzYWdlOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0hhbmRsaW5nIGZpbGU6YXBwZW5kIHJlcXVlc3QnLCB7IHBhdGg6IG1lc3NhZ2UucGF5bG9hZD8ucGF0aCB9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBtZXNzYWdlLnBheWxvYWQ7XG4gICAgICAgICAgICBpZiAoIXBheWxvYWQ/LnBhdGggfHwgcGF5bG9hZC5hcHBlbmRDb250ZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmaWxlOmFwcGVuZDpyZXNwb25zZScsICdNaXNzaW5nIGZpbGUgcGF0aCBvciBjb250ZW50IHBhcmFtZXRlcicsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZmlsZSA9IHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgocGF5bG9hZC5wYXRoKTtcbiAgICAgICAgICAgIGlmICghZmlsZSB8fCAhKGZpbGUgaW5zdGFuY2VvZiBURmlsZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmaWxlOmFwcGVuZDpyZXNwb25zZScsICdGaWxlIG5vdCBmb3VuZCcsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgY3VycmVudENvbnRlbnQgPSBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQucmVhZChmaWxlKTtcbiAgICAgICAgICAgIGNvbnN0IG5ld0NvbnRlbnQgPSBjdXJyZW50Q29udGVudCArICdcXG4nICsgcGF5bG9hZC5hcHBlbmRDb250ZW50O1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0Lm1vZGlmeShmaWxlLCBuZXdDb250ZW50KTtcblxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2ZpbGU6YXBwZW5kOnJlc3BvbnNlJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogcGF5bG9hZC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnQ29udGVudCBhcHBlbmRlZCBzdWNjZXNzZnVsbHknXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UocmVzcG9uc2UpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTphcHBlbmQ6cmVzcG9uc2UnLCAnRmFpbGVkIHRvIGFwcGVuZCBjb250ZW50JywgbWVzc2FnZS5pZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGhhbmRsZVJhbmdlRWRpdChtZXNzYWdlOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0hhbmRsaW5nIGZpbGU6cmFuZ2VfZWRpdCByZXF1ZXN0JywgeyBwYXRoOiBtZXNzYWdlLnBheWxvYWQ/LnBhdGggfSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gbWVzc2FnZS5wYXlsb2FkO1xuICAgICAgICAgICAgaWYgKCFwYXlsb2FkPy5wYXRoIHx8IHBheWxvYWQucmVwbGFjZW1lbnRDb250ZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmaWxlOnJhbmdlX2VkaXQ6cmVzcG9uc2UnLCAnTWlzc2luZyBmaWxlIHBhdGggb3IgY29udGVudCBwYXJhbWV0ZXInLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHBheWxvYWQucGF0aCk7XG4gICAgICAgICAgICBpZiAoIWZpbGUgfHwgIShmaWxlIGluc3RhbmNlb2YgVEZpbGUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpyYW5nZV9lZGl0OnJlc3BvbnNlJywgJ0ZpbGUgbm90IGZvdW5kJywgbWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Q29udGVudCA9IGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xuICAgICAgICAgICAgY29uc3QgbGluZXMgPSBjdXJyZW50Q29udGVudC5zcGxpdCgnXFxuJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0TGluZSA9IE1hdGgubWF4KDAsIChwYXlsb2FkLnJhbmdlU3RhcnRMaW5lIHx8IDEpIC0gMSk7IC8vIENvbnZlcnQgdG8gMC1iYXNlZFxuICAgICAgICAgICAgY29uc3QgZW5kTGluZSA9IE1hdGgubWluKGxpbmVzLmxlbmd0aCwgcGF5bG9hZC5yYW5nZUVuZExpbmUgfHwgc3RhcnRMaW5lICsgMSk7IC8vIENvbnZlcnQgdG8gMC1iYXNlZFxuXG4gICAgICAgICAgICBjb25zdCBuZXdMaW5lcyA9IHBheWxvYWQucmVwbGFjZW1lbnRDb250ZW50LnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgIGxpbmVzLnNwbGljZShzdGFydExpbmUsIGVuZExpbmUgLSBzdGFydExpbmUsIC4uLm5ld0xpbmVzKTtcblxuICAgICAgICAgICAgY29uc3QgbmV3Q29udGVudCA9IGxpbmVzLmpvaW4oJ1xcbicpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0Lm1vZGlmeShmaWxlLCBuZXdDb250ZW50KTtcblxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2ZpbGU6cmFuZ2VfZWRpdDpyZXNwb25zZScsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHBheWxvYWQucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1JhbmdlIGVkaXRlZCBzdWNjZXNzZnVsbHknXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UocmVzcG9uc2UpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpyYW5nZV9lZGl0OnJlc3BvbnNlJywgJ0ZhaWxlZCB0byBlZGl0IHJhbmdlJywgbWVzc2FnZS5pZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGhhbmRsZUVkaXRvckVkaXQobWVzc2FnZTogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdIYW5kbGluZyBmaWxlOmVkaXRvcl9lZGl0IHJlcXVlc3QnLCB7IHBhdGg6IG1lc3NhZ2UucGF5bG9hZD8ucGF0aCB9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBtZXNzYWdlLnBheWxvYWQ7XG4gICAgICAgICAgICBpZiAoIXBheWxvYWQ/LnBhdGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmaWxlOmVkaXRvcl9lZGl0OnJlc3BvbnNlJywgJ01pc3NpbmcgZmlsZSBwYXRoIHBhcmFtZXRlcicsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZmlsZSA9IHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgocGF5bG9hZC5wYXRoKTtcbiAgICAgICAgICAgIGlmICghZmlsZSB8fCAhKGZpbGUgaW5zdGFuY2VvZiBURmlsZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmaWxlOmVkaXRvcl9lZGl0OnJlc3BvbnNlJywgJ0ZpbGUgbm90IGZvdW5kJywgbWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBHZXQgdGhlIGFjdGl2ZSBlZGl0b3IgaWYgdGhpcyBmaWxlIGlzIG9wZW5cbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZVZpZXcgPSB0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcbiAgICAgICAgICAgIGxldCBwcm9jZXNzZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKGFjdGl2ZVZpZXcgJiYgYWN0aXZlVmlldy5maWxlPy5wYXRoID09PSBwYXlsb2FkLnBhdGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlZGl0b3IgPSBhY3RpdmVWaWV3LmVkaXRvcjtcbiAgICAgICAgICAgICAgICBjb25zdCBvcGVyYXRpb24gPSBwYXlsb2FkLmVkaXRvck1ldGhvZCB8fCAncmVwbGFjZSc7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgW0VESVRPUl0gUHJvY2Vzc2luZyBlZGl0b3Igb3BlcmF0aW9uOiAke29wZXJhdGlvbn0gd2l0aCBwYXlsb2FkOmAsIHBheWxvYWQpO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoIChvcGVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmVwbGFjZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5jb250ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3Iuc2V0VmFsdWUocGF5bG9hZC5jb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2FwcGVuZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5jb250ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0TGluZSA9IGVkaXRvci5sYXN0TGluZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5yZXBsYWNlUmFuZ2UoJ1xcbicgKyBwYXlsb2FkLmNvbnRlbnQsIHsgbGluZTogbGFzdExpbmUsIGNoOiBlZGl0b3IuZ2V0TGluZShsYXN0TGluZSkubGVuZ3RoIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncHJlcGVuZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5jb250ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IucmVwbGFjZVJhbmdlKHBheWxvYWQuY29udGVudCArICdcXG4nLCB7IGxpbmU6IDAsIGNoOiAwIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaW5zZXJ0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLmNvbnRlbnQgIT09IHVuZGVmaW5lZCAmJiBwYXlsb2FkLmxpbmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBNYXRoLm1heCgwLCBwYXlsb2FkLmxpbmUgLSAxKTsgLy8gQ29udmVydCB0byAwLWJhc2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnJlcGxhY2VSYW5nZShwYXlsb2FkLmNvbnRlbnQgKyAnXFxuJywgeyBsaW5lLCBjaDogMCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlcGxhY2VfbGluZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5jb250ZW50ICE9PSB1bmRlZmluZWQgJiYgcGF5bG9hZC5saW5lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5lID0gTWF0aC5tYXgoMCwgcGF5bG9hZC5saW5lIC0gMSk7IC8vIENvbnZlcnQgdG8gMC1iYXNlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW5lIDwgZWRpdG9yLmxpbmVDb3VudCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFQSSBleHBlY3RzOiBzZXRMaW5lKG46IG51bWJlciwgdGV4dDogc3RyaW5nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3Iuc2V0TGluZShsaW5lLCBwYXlsb2FkLmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgW0VESVRPUl0gUmVwbGFjZWQgbGluZSAke3BheWxvYWQubGluZX0gd2l0aCBuZXcgY29udGVudGApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oYFtFRElUT1JdIExpbmUgJHtwYXlsb2FkLmxpbmV9IGRvZXMgbm90IGV4aXN0IChmaWxlIGhhcyAke2VkaXRvci5saW5lQ291bnQoKX0gbGluZXMpYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlcGxhY2Vfc2VsZWN0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLmNvbnRlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFQSSBleHBlY3RzOiByZXBsYWNlU2VsZWN0aW9uKHJlcGxhY2VtZW50OiBzdHJpbmcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5yZXBsYWNlU2VsZWN0aW9uKHBheWxvYWQuY29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBbRURJVE9SXSBSZXBsYWNlZCBzZWxlY3RlZCB0ZXh0IHdpdGggbmV3IGNvbnRlbnRgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGBbRURJVE9SXSBObyB0ZXh0IGN1cnJlbnRseSBzZWxlY3RlZCBmb3IgcmVwbGFjZW1lbnRgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaW5zZXJ0X2F0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLmNvbnRlbnQgIT09IHVuZGVmaW5lZCAmJiBwYXlsb2FkLmxpbmUgIT09IHVuZGVmaW5lZCAmJiBwYXlsb2FkLmNoYXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvcyA9IHsgbGluZTogcGF5bG9hZC5saW5lIC0gMSwgY2g6IHBheWxvYWQuY2hhciB9OyAvLyBDb252ZXJ0IHRvIDAtYmFzZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBUEkgZXhwZWN0czogcmVwbGFjZVJhbmdlKHJlcGxhY2VtZW50OiBzdHJpbmcsIGZyb206IEVkaXRvclBvc2l0aW9uLCB0bz86IEVkaXRvclBvc2l0aW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5yZXBsYWNlUmFuZ2UocGF5bG9hZC5jb250ZW50LCBwb3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFtFRElUT1JdIEluc2VydGVkIGNvbnRlbnQgYXQgcG9zaXRpb24gJHtwYXlsb2FkLmxpbmV9OiR7cGF5bG9hZC5jaGFyfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlcGxhY2VfcmFuZ2UnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuY29udGVudCAhPT0gdW5kZWZpbmVkICYmIHBheWxvYWQuZnJvbUxpbmUgIT09IHVuZGVmaW5lZCAmJiBwYXlsb2FkLmZyb21DaGFyICE9PSB1bmRlZmluZWQgJiYgcGF5bG9hZC50b0xpbmUgIT09IHVuZGVmaW5lZCAmJiBwYXlsb2FkLnRvQ2hhciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJvbVBvcyA9IHsgbGluZTogcGF5bG9hZC5mcm9tTGluZSAtIDEsIGNoOiBwYXlsb2FkLmZyb21DaGFyIH07IC8vIENvbnZlcnQgdG8gMC1iYXNlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvUG9zID0geyBsaW5lOiBwYXlsb2FkLnRvTGluZSAtIDEsIGNoOiBwYXlsb2FkLnRvQ2hhciB9OyAvLyBDb252ZXJ0IHRvIDAtYmFzZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBUEkgZXhwZWN0czogcmVwbGFjZVJhbmdlKHJlcGxhY2VtZW50OiBzdHJpbmcsIGZyb206IEVkaXRvclBvc2l0aW9uLCB0bz86IEVkaXRvclBvc2l0aW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5yZXBsYWNlUmFuZ2UocGF5bG9hZC5jb250ZW50LCBmcm9tUG9zLCB0b1Bvcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgW0VESVRPUl0gUmVwbGFjZWQgcmFuZ2UgZnJvbSAke3BheWxvYWQuZnJvbUxpbmV9OiR7cGF5bG9hZC5mcm9tQ2hhcn0gdG8gJHtwYXlsb2FkLnRvTGluZX06JHtwYXlsb2FkLnRvQ2hhcn1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdpbnNlcnRfYWZ0ZXJfaGVhZGluZyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5jb250ZW50ICE9PSB1bmRlZmluZWQgJiYgcGF5bG9hZC5oZWFkaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGaW5kIHRoZSBoZWFkaW5nIGluIHRoZSBkb2N1bWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRpbmdUb0ZpbmQgPSBwYXlsb2FkLmhlYWRpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG90YWxMaW5lcyA9IGVkaXRvci5saW5lQ291bnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5zZXJ0TGluZSA9IC0xO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbExpbmVzOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluZSA9IGVkaXRvci5nZXRMaW5lKGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgbWFya2Rvd24gaGVhZGluZyAoIyBIZWFkaW5nIG9yICMjIEhlYWRpbmcsIGV0Yy4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW5lLnN0YXJ0c1dpdGgoJyMnKSAmJiBsaW5lLmluY2x1ZGVzKGhlYWRpbmdUb0ZpbmQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRMaW5lID0gaSArIDE7IC8vIEluc2VydCBhZnRlciB0aGUgaGVhZGluZyBsaW5lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbHNvIGNoZWNrIGZvciBjb250ZW50IHRoYXQgbWF0Y2hlcyB0aGUgaGVhZGluZyAoY2FzZS1pbnNlbnNpdGl2ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhoZWFkaW5nVG9GaW5kLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRMaW5lID0gaSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnNlcnRMaW5lID49IDAgJiYgaW5zZXJ0TGluZSA8PSB0b3RhbExpbmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5yZXBsYWNlUmFuZ2UoJ1xcbicgKyBwYXlsb2FkLmNvbnRlbnQgKyAnXFxuJywgeyBsaW5lOiBpbnNlcnRMaW5lLCBjaDogMCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFtFRElUT1JdIEluc2VydGVkIGNvbnRlbnQgYWZ0ZXIgaGVhZGluZyBcIiR7aGVhZGluZ1RvRmluZH1cIiBhdCBsaW5lICR7aW5zZXJ0TGluZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGBbRURJVE9SXSBIZWFkaW5nIFwiJHtoZWFkaW5nVG9GaW5kfVwiIG5vdCBmb3VuZCBpbiBkb2N1bWVudGApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGYWxsYmFjazogYXBwZW5kIHRvIGVuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0TGluZSA9IGVkaXRvci5sYXN0TGluZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IucmVwbGFjZVJhbmdlKCdcXG5cXG4nICsgcGF5bG9hZC5jb250ZW50LCB7IGxpbmU6IGxhc3RMaW5lLCBjaDogZWRpdG9yLmdldExpbmUobGFzdExpbmUpLmxlbmd0aCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFtFRElUT1JdIEhlYWRpbmcgbm90IGZvdW5kLCBhcHBlbmRlZCBjb250ZW50IHRvIGVuZCBpbnN0ZWFkYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBGYWxsYmFjayB0byB2YXVsdCBBUEkgaWYgZWRpdG9yIG5vdCBhdmFpbGFibGVcbiAgICAgICAgICAgIGlmICghcHJvY2Vzc2VkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudENvbnRlbnQgPSBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQucmVhZChmaWxlKTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3Q29udGVudCA9IGN1cnJlbnRDb250ZW50O1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gcGF5bG9hZC5lZGl0b3JNZXRob2QgfHwgJ3JlcGxhY2UnO1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBbRURJVE9SXSBGYWxsYmFjayB0byB2YXVsdCBBUEkgZm9yIG9wZXJhdGlvbjogJHtvcGVyYXRpb259IHdpdGggcGF5bG9hZDpgLCBwYXlsb2FkKTtcblxuICAgICAgICAgICAgICAgIHN3aXRjaCAob3BlcmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlcGxhY2UnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuY29udGVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q29udGVudCA9IHBheWxvYWQuY29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdhcHBlbmQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuY29udGVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q29udGVudCA9IGN1cnJlbnRDb250ZW50ICsgJ1xcbicgKyBwYXlsb2FkLmNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncHJlcGVuZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5jb250ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDb250ZW50ID0gcGF5bG9hZC5jb250ZW50ICsgJ1xcbicgKyBjdXJyZW50Q29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdpbnNlcnQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuY29udGVudCAhPT0gdW5kZWZpbmVkICYmIHBheWxvYWQubGluZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluZXMgPSBjdXJyZW50Q29udGVudC5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluZSA9IE1hdGgubWF4KDAsIHBheWxvYWQubGluZSAtIDEpOyAvLyBDb252ZXJ0IHRvIDAtYmFzZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lcy5zcGxpY2UobGluZSwgMCwgcGF5bG9hZC5jb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDb250ZW50ID0gbGluZXMuam9pbignXFxuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaW5zZXJ0X2FmdGVyX2hlYWRpbmcnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuY29udGVudCAhPT0gdW5kZWZpbmVkICYmIHBheWxvYWQuaGVhZGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluZXMgPSBjdXJyZW50Q29udGVudC5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGluZ1RvRmluZCA9IHBheWxvYWQuaGVhZGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5zZXJ0TGluZUluZGV4ID0gLTE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGaW5kIHRoZSBoZWFkaW5nIGxpbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBsaW5lc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUuc3RhcnRzV2l0aCgnIycpICYmIGxpbmUuaW5jbHVkZXMoaGVhZGluZ1RvRmluZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydExpbmVJbmRleCA9IGkgKyAxOyAvLyBJbnNlcnQgYWZ0ZXIgaGVhZGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhoZWFkaW5nVG9GaW5kLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRMaW5lSW5kZXggPSBpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluc2VydExpbmVJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzLnNwbGljZShpbnNlcnRMaW5lSW5kZXgsIDAsICcnLCBwYXlsb2FkLmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDb250ZW50ID0gbGluZXMuam9pbignXFxuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBbRURJVE9SXSBJbnNlcnRlZCBjb250ZW50IGFmdGVyIGhlYWRpbmcgXCIke2hlYWRpbmdUb0ZpbmR9XCIgYXQgbGluZSAke2luc2VydExpbmVJbmRleH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGYWxsYmFjazogYXBwZW5kIHRvIGVuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDb250ZW50ID0gY3VycmVudENvbnRlbnQgKyAnXFxuXFxuJyArIHBheWxvYWQuY29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFtFRElUT1JdIEhlYWRpbmcgXCIke2hlYWRpbmdUb0ZpbmR9XCIgbm90IGZvdW5kLCBhcHBlbmRlZCB0byBlbmQgaW5zdGVhZGApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaW5zZXJ0X2F0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLmNvbnRlbnQgIT09IHVuZGVmaW5lZCAmJiBwYXlsb2FkLmxpbmUgIT09IHVuZGVmaW5lZCAmJiBwYXlsb2FkLmNoYXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gY3VycmVudENvbnRlbnQuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBNYXRoLm1heCgwLCBwYXlsb2FkLmxpbmUgLSAxKTsgLy8gQ29udmVydCB0byAwLWJhc2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUgPCBsaW5lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudExpbmUgPSBsaW5lc1tsaW5lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmVmb3JlID0gY3VycmVudExpbmUuc3Vic3RyaW5nKDAsIHBheWxvYWQuY2hhcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFmdGVyID0gY3VycmVudExpbmUuc3Vic3RyaW5nKHBheWxvYWQuY2hhcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzW2xpbmVdID0gYmVmb3JlICsgcGF5bG9hZC5jb250ZW50ICsgYWZ0ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NvbnRlbnQgPSBsaW5lcy5qb2luKCdcXG4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFtFRElUT1JdIFZhdWx0IEFQSTogSW5zZXJ0ZWQgY29udGVudCBhdCBwb3NpdGlvbiAke3BheWxvYWQubGluZX06JHtwYXlsb2FkLmNoYXJ9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihgW0VESVRPUl0gTGluZSAke3BheWxvYWQubGluZX0gZG9lcyBub3QgZXhpc3QgKGZpbGUgaGFzICR7bGluZXMubGVuZ3RofSBsaW5lcylgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmVwbGFjZV9yYW5nZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5jb250ZW50ICE9PSB1bmRlZmluZWQgJiYgcGF5bG9hZC5mcm9tTGluZSAhPT0gdW5kZWZpbmVkICYmIHBheWxvYWQuZnJvbUNoYXIgIT09IHVuZGVmaW5lZCAmJiBwYXlsb2FkLnRvTGluZSAhPT0gdW5kZWZpbmVkICYmIHBheWxvYWQudG9DaGFyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5lcyA9IGN1cnJlbnRDb250ZW50LnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmcm9tTGluZSA9IE1hdGgubWF4KDAsIHBheWxvYWQuZnJvbUxpbmUgLSAxKTsgLy8gQ29udmVydCB0byAwLWJhc2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9MaW5lID0gTWF0aC5tYXgoMCwgcGF5bG9hZC50b0xpbmUgLSAxKTsgLy8gQ29udmVydCB0byAwLWJhc2VkXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnJvbUxpbmUgPT09IHRvTGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTaW5nbGUgbGluZSByZXBsYWNlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5lID0gbGluZXNbZnJvbUxpbmVdIHx8ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiZWZvcmUgPSBsaW5lLnN1YnN0cmluZygwLCBwYXlsb2FkLmZyb21DaGFyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWZ0ZXIgPSBsaW5lLnN1YnN0cmluZyhwYXlsb2FkLnRvQ2hhcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzW2Zyb21MaW5lXSA9IGJlZm9yZSArIHBheWxvYWQuY29udGVudCArIGFmdGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE11bHRpLWxpbmUgcmVwbGFjZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlyc3RMaW5lID0gbGluZXNbZnJvbUxpbmVdIHx8ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0TGluZSA9IGxpbmVzW3RvTGluZV0gfHwgJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJlZm9yZSA9IGZpcnN0TGluZS5zdWJzdHJpbmcoMCwgcGF5bG9hZC5mcm9tQ2hhcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFmdGVyID0gbGFzdExpbmUuc3Vic3RyaW5nKHBheWxvYWQudG9DaGFyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3TGluZXMgPSBwYXlsb2FkLmNvbnRlbnQuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdMaW5lc1swXSA9IGJlZm9yZSArIG5ld0xpbmVzWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdMaW5lc1tuZXdMaW5lcy5sZW5ndGggLSAxXSA9IG5ld0xpbmVzW25ld0xpbmVzLmxlbmd0aCAtIDFdICsgYWZ0ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzLnNwbGljZShmcm9tTGluZSwgdG9MaW5lIC0gZnJvbUxpbmUgKyAxLCAuLi5uZXdMaW5lcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NvbnRlbnQgPSBsaW5lcy5qb2luKCdcXG4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgW0VESVRPUl0gVmF1bHQgQVBJOiBSZXBsYWNlZCByYW5nZSBmcm9tICR7cGF5bG9hZC5mcm9tTGluZX06JHtwYXlsb2FkLmZyb21DaGFyfSB0byAke3BheWxvYWQudG9MaW5lfToke3BheWxvYWQudG9DaGFyfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlcGxhY2VfbGluZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5jb250ZW50ICE9PSB1bmRlZmluZWQgJiYgcGF5bG9hZC5saW5lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5lcyA9IGN1cnJlbnRDb250ZW50LnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5lID0gTWF0aC5tYXgoMCwgcGF5bG9hZC5saW5lIC0gMSk7IC8vIENvbnZlcnQgdG8gMC1iYXNlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW5lIDwgbGluZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzW2xpbmVdID0gcGF5bG9hZC5jb250ZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDb250ZW50ID0gbGluZXMuam9pbignXFxuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBbRURJVE9SXSBWYXVsdCBBUEk6IFJlcGxhY2VkIGxpbmUgJHtwYXlsb2FkLmxpbmV9IHdpdGggbmV3IGNvbnRlbnRgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGBbRURJVE9SXSBMaW5lICR7cGF5bG9hZC5saW5lfSBkb2VzIG5vdCBleGlzdCAoZmlsZSBoYXMgJHtsaW5lcy5sZW5ndGh9IGxpbmVzKWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdyZXBsYWNlX3NlbGVjdGlvbic6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBWYXVsdCBBUEkgZmFsbGJhY2sgLSBjYW5ub3QgZGV0ZWN0IHNlbGVjdGlvbiwgc28gcmVwbGFjZSBlbnRpcmUgY29udGVudFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuY29udGVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q29udGVudCA9IHBheWxvYWQuY29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgW0VESVRPUl0gVmF1bHQgQVBJOiBSZXBsYWNlIHNlbGVjdGlvbiBmYWxsYmFjayAtIHJlcGxhY2VkIGVudGlyZSBjb250ZW50IChubyBhY3RpdmUgZWRpdG9yKWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQubW9kaWZ5KGZpbGUsIG5ld0NvbnRlbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiAnZmlsZTplZGl0b3JfZWRpdDpyZXNwb25zZScsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHBheWxvYWQucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uOiBwYXlsb2FkLmVkaXRvck1ldGhvZCB8fCAncmVwbGFjZScsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdFZGl0b3IgZWRpdCBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5J1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHJlc3BvbnNlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZpbGU6ZWRpdG9yX2VkaXQ6cmVzcG9uc2UnLCAnRmFpbGVkIHRvIHBlcmZvcm0gZWRpdG9yIGVkaXQnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlQ29ubmVjdGVkKG1lc3NhZ2U6IGFueSk6IHZvaWQge1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlUmVnaXN0ZXJlZChtZXNzYWdlOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnW1dFQlNPQ0tFVF0gU3VjY2Vzc2Z1bGx5IHJlZ2lzdGVyZWQgd2l0aCBzZXJ2ZXInKTtcblxuICAgICAgICAvLyBVcGRhdGUgdmF1bHQgcmVnaXN0cnkgY29ubmVjdGlvbiBzdGF0dXNcbiAgICAgICAgaWYgKHRoaXMudmF1bHRSZWdpc3RyeVNlcnZpY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZVZhdWx0SWQgPSB0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlLmdldEFjdGl2ZVZhdWx0SWQoKTtcbiAgICAgICAgICAgIGlmIChhY3RpdmVWYXVsdElkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YXVsdFJlZ2lzdHJ5U2VydmljZS51cGRhdGVWYXVsdENvbm5lY3Rpb24oYWN0aXZlVmF1bHRJZCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHNlbmRFcnJvclJlc3BvbnNlKHJlc3BvbnNlVHlwZTogc3RyaW5nLCBlcnJvck1lc3NhZ2U6IHN0cmluZywgbWVzc2FnZUlkPzogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgaWQ6IG1lc3NhZ2VJZCxcbiAgICAgICAgICAgIHR5cGU6IHJlc3BvbnNlVHlwZSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICBlcnJvcjogZXJyb3JNZXNzYWdlLFxuICAgICAgICAgICAgZXJyb3JDb2RlOiAnT1BFUkFUSU9OX0ZBSUxFRCdcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShyZXNwb25zZSk7XG4gICAgfVxuXG4gICAgZ2V0U3RhdHVzKCk6IHN0cmluZyB7XG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy53c0VuYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAnRGlzYWJsZWQnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY2xpZW50ICYmIHRoaXMuY2xpZW50LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICAgICAgICByZXR1cm4gYENvbm5lY3RlZCB0byBwb3J0ICR7dGhpcy5zZXR0aW5ncy53c1BvcnR9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdFRpbWVyKSB7XG4gICAgICAgICAgICByZXR1cm4gYFJlY29ubmVjdGluZy4uLiAoYXR0ZW1wdCAke3RoaXMucmVjb25uZWN0QXR0ZW1wdHN9KWA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJ0Rpc2Nvbm5lY3RlZCc7XG4gICAgfVxuXG4gICAgYXN5bmMgcmVzdGFydCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tXRUJTT0NLRVRdIFJlc3RhcnRpbmcgV2ViU29ja2V0IHNlcnZpY2UuLi4nKTtcbiAgICAgICAgYXdhaXQgdGhpcy5zdG9wKCk7XG5cbiAgICAgICAgLy8gT25seSBzdGFydCBpZiBlbmFibGVkIGluIHNldHRpbmdzXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLndzRW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tXRUJTT0NLRVRdIFNldHRpbmdzIGVuYWJsZWQgLSBzdGFydGluZyBXZWJTb2NrZXQgc2VydmljZScpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5zdGFydCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tXRUJTT0NLRVRdIFNldHRpbmdzIGRpc2FibGVkIC0gV2ViU29ja2V0IHNlcnZpY2Ugd2lsbCByZW1haW4gc3RvcHBlZCcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBzZXJ2aWNlIHNldHRpbmdzIHRvIGVuc3VyZSBmcmVzaCBjb25maWd1cmF0aW9uXG4gICAgICovXG4gICAgdXBkYXRlU2V0dGluZ3MobmV3U2V0dGluZ3M6IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3MpOiB2b2lkIHtcbiAgICAgICAgLy8gQHZlc3NlbC1wcm90b2NvbDpCYWxkciBnb3Zlcm5zOltkZWJ1Zy1maXh8c2V0dGluZ3NdIGNvbnRleHQ6UHJvcGVyIGRlYnVnIHNldHRpbmdzIHByb3BhZ2F0aW9uIHRvIGxvZ2dlclxuICAgICAgICAvLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbR3JhcGhpdGlMb2dnZXIsIHNldHRpbmdzLWRlYnVnLXN0YXRlXVxuICAgICAgICAvLyBAcHVycG9zZTogRW5zdXJlIFdlYlNvY2tldFNlcnZpY2UgbG9nZ2VyIHJlc3BlY3RzIGVuYWJsZURlYnVnTG9nZ2luZyBzZXR0aW5nIGNoYW5nZXNcbiAgICAgICAgLy8gQHJlc3VsdDogQ29uc29sZSBkZWJ1ZyBsb2dnaW5nIHdvcmtzIHdoZW4gZW5hYmxlZCBpbiBzZXR0aW5nc1xuICAgICAgICAvLyBAc2lnbmVkOiBDLkJqw7hyblxuICAgICAgICB0aGlzLnNldHRpbmdzID0gbmV3U2V0dGluZ3M7XG4gICAgICAgIHRoaXMubG9nZ2VyLnNldERlYnVnKG5ld1NldHRpbmdzLmVuYWJsZURlYnVnTG9nZ2luZyk7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbV0VCU09DS0VUXSBVcGRhdGluZyBzZXJ2aWNlIHNldHRpbmdzJyk7XG4gICAgfVxufSIsImltcG9ydCB7IEFwcCwgUGx1Z2luLCBub3JtYWxpemVQYXRoLCBFdmVudHMgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBqb2luLCBpc0Fic29sdXRlLCByZWxhdGl2ZSB9IGZyb20gJ3BhdGgnO1xuaW1wb3J0IHR5cGUgeyBTeW5jUmVnaXN0cnksIFN5bmNSZWNvcmQsIFN5bmNFbnRyeSB9IGZyb20gJy4uL3R5cGVzL1N5bmNSZWdpc3RyeSc7XG5pbXBvcnQgdHlwZSB7IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3MgfSBmcm9tICcuLi90eXBlcy9TZXR0aW5ncyc7XG5pbXBvcnQgeyBHcmFwaGl0aUxvZ2dlciB9IGZyb20gJy4uL3V0aWxzL0xvZ2dlcic7XG5pbXBvcnQgeyBTeW5jVmFsaWRhdG9yIH0gZnJvbSAnLi4vdXRpbHMvU3luY1ZhbGlkYXRvcic7XG5cbmludGVyZmFjZSBHcmFwaGl0aVBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG4gICAgc2V0dGluZ3M6IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3M7XG59XG5cbi8qKlxuICogU2VydmljZSBmb3IgbWFuYWdpbmcgdGhlIHN5bmMuanNvbiByZWdpc3RyeSB3aXRoIG1tX3VpZCBhcyB0aGUgcHJpbWFyeSBpZGVudGlmaWVyXG4gKiBUaGlzIHNlcnZpY2UgbWFuYWdlcyBhbiBpbi1tZW1vcnkgY29weSBvZiBzeW5jIHJlY29yZHMgYW5kIHByb3ZpZGVzIG1ldGhvZHMgdG8gcXVlcnkgYW5kIG1hbmlwdWxhdGUgdGhlbVxuICovXG5leHBvcnQgY2xhc3MgU3luY1JlZ2lzdHJ5U2VydmljZSBleHRlbmRzIEV2ZW50cyB7XG4gICAgcHJpdmF0ZSBhcHA6IEFwcDtcbiAgICBwcml2YXRlIHBsdWdpbjogR3JhcGhpdGlQbHVnaW47XG4gICAgcHJpdmF0ZSBsb2dnZXI6IEdyYXBoaXRpTG9nZ2VyO1xuICAgIHByaXZhdGUgc3luY1JlY29yZHM6IFN5bmNSZWNvcmRbXSA9IFtdO1xuICAgIHB1YmxpYyByZWdpc3RyeVBhdGg6IHN0cmluZztcbiAgICBwcml2YXRlIGlzTG9hZGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvLyBAdmVzc2VsLXByb3RvY29sOlVsbHIgZ292ZXJuczpbcGVyZm9ybWFuY2V8ZGVidWddIGNvbnRleHQ6UmVnaXN0cnkgc2F2ZSBiYXRjaGluZyBvcHRpbWl6YXRpb25cbiAgICBwcml2YXRlIHNhdmVUaW1lb3V0OiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgU0FWRV9ERUJPVU5DRV9NUyA9IDMwMDtcblxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IEdyYXBoaXRpUGx1Z2luLCBsb2dnZXI6IEdyYXBoaXRpTG9nZ2VyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuYXBwID0gYXBwO1xuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7XG4gICAgICAgIC8vIFByZWZlciB0aGUgcGx1Z2luIG1hbmlmZXN0IGRpciAocmVhbCBpbnN0YWxsIGxvY2F0aW9uKS4gSWYgbWFuaWZlc3QuZGlyIGlzIG5vdCBhdmFpbGFibGUgZm9yIHNvbWUgcmVhc29uLFxuICAgICAgICAvLyBmYWxsIGJhY2sgdG8gdGhlIGN1cnJlbnQgcGx1Z2luIGlkIGRpcmVjdG9yeS4gVXNlIHRoZSByZW5hbWVkIHBsdWdpbiBpZCAnbWVnYW1lbS1tY3AnIGFzIHRoZSBmYWxsYmFjay5cbiAgICAgICAgdGhpcy5yZWdpc3RyeVBhdGggPSBub3JtYWxpemVQYXRoKGpvaW4ocGx1Z2luLm1hbmlmZXN0LmRpciB8fCAnLm9ic2lkaWFuL3BsdWdpbnMvbWVnYW1lbS1tY3AnLCAnc3luYy5qc29uJykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvYWQgdGhlIHN5bmMgcmVnaXN0cnkgZnJvbSBkaXNrIGFuZCBwb3B1bGF0ZSBpbi1tZW1vcnkgc3luY19yZWNvcmRzIGFycmF5XG4gICAgICogSW5jbHVkZXMgYXV0b21hdGljIG1pZ3JhdGlvbiBmcm9tIG9sZCBmb3JtYXQgaWYgZGV0ZWN0ZWRcbiAgICAgKi9cbiAgICBhc3luYyBsb2FkKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICAvLyBDaGVjayBpZiBmaWxlIGV4aXN0cyBmaXJzdFxuICAgICAgICBjb25zdCBmaWxlRXhpc3RzID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5leGlzdHModGhpcy5yZWdpc3RyeVBhdGgpO1xuXG4gICAgICAgIGlmICghZmlsZUV4aXN0cykge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFtERUJVR10gc3luYy5qc29uIGRvZXMgbm90IGV4aXN0LCBjcmVhdGluZyBuZXcgb25lYCk7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdbU1lOQy1SRUdJU1RSWV0gTm8gZXhpc3Rpbmcgc3luYyByZWdpc3RyeSBmb3VuZCwgY3JlYXRpbmcgbmV3IG9uZScpO1xuICAgICAgICAgICAgdGhpcy5zeW5jUmVjb3JkcyA9IFtdO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlKCk7XG4gICAgICAgICAgICB0aGlzLmlzTG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpbGUgZXhpc3RzLCB0cnkgdG8gcmVhZCBhbmQgcGFyc2UgaXRcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLnJlYWQodGhpcy5yZWdpc3RyeVBhdGgpO1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkRGF0YSA9IEpTT04ucGFyc2UoY29udGVudCk7XG5cbiAgICAgICAgICAgIC8vIEB2ZXNzZWwtcHJvdG9jb2w6SGVpbWRhbGwgZ292ZXJuczpbbGVnYWN5LWNsZWFudXB8ZGVidWddIGNvbnRleHQ6U2ltcGxpZmllZCByZWdpc3RyeSBsb2FkaW5nIHdpdGhvdXQgbWlncmF0aW9uXG4gICAgICAgICAgICAvLyBMb2FkIHJlZ2lzdHJ5IGRhdGEgZGlyZWN0bHkgKG1pZ3JhdGlvbiBjb2RlIHJlbW92ZWQpXG4gICAgICAgICAgICBjb25zdCByZWdpc3RyeTogU3luY1JlZ2lzdHJ5ID0gcGFyc2VkRGF0YTtcbiAgICAgICAgICAgIHRoaXMuc3luY1JlY29yZHMgPSByZWdpc3RyeS5zeW5jX3JlY29yZHMgfHwgW107XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBbU1lOQy1SRUdJU1RSWV0gTG9hZGVkIHN5bmMgcmVnaXN0cnkgd2l0aCAke3RoaXMuc3luY1JlY29yZHMubGVuZ3RofSByZWNvcmRzLmApO1xuXG4gICAgICAgICAgICB0aGlzLmlzTG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGBbREVCVUddIEVycm9yIGxvYWRpbmcgc3luYy5qc29uOmAsIGVycm9yKTtcbiAgICAgICAgICAgIC8vIEZpbGUgZXhpc3RzIGJ1dCBpcyBjb3JydXB0IC0gZG8gTk9UIG92ZXJ3cml0ZSBpdFxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1tTWU5DLVJFR0lTVFJZXSBDUklUSUNBTCBFUlJPUjogUmVnaXN0cnkgZmlsZSBpcyBjb3JydXB0IGFuZCBjYW5ub3QgYmUgcGFyc2VkLiBMb2FkaW5nIGVtcHR5IHJlZ2lzdHJ5IGluIG1lbW9yeSB3aXRob3V0IG92ZXJ3cml0aW5nIGZpbGUuJywgZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5zeW5jUmVjb3JkcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5pc0xvYWRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTYXZlIHRoZSBpbi1tZW1vcnkgc3luY19yZWNvcmRzIGFycmF5IGJhY2sgdG8gc3luYy5qc29uIGZpbGUgKGRlYm91bmNlZClcbiAgICAgKiBNdWx0aXBsZSByYXBpZCBjYWxscyB3aWxsIGJlIGJhdGNoZWQgaW50byBhIHNpbmdsZSBzYXZlIG9wZXJhdGlvblxuICAgICAqL1xuICAgIGFzeW5jIHNhdmUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIEB2ZXNzZWwtcHJvdG9jb2w6TWltaXIgZ292ZXJuczpbZGVidWd8ZGlhZ25vc2lzXSBjb250ZXh0OlJlZ2lzdHJ5IHNhdmUgZXZlbnQgdHJhY2tpbmdcbiAgICAgICAgLy8gQ2FuY2VsIGFueSBleGlzdGluZyB0aW1lb3V0XG4gICAgICAgIGlmICh0aGlzLnNhdmVUaW1lb3V0KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5zYXZlVGltZW91dCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgdXAgZGVib3VuY2VkIHNhdmVcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2F2ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBlcmZvcm1TYXZlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZVRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHRoaXMuU0FWRV9ERUJPVU5DRV9NUyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZvcmNlIGltbWVkaWF0ZSBzYXZlIHdpdGhvdXQgZGVib3VuY2luZyAoZm9yIGNyaXRpY2FsIG9wZXJhdGlvbnMpXG4gICAgICovXG4gICAgYXN5bmMgc2F2ZUltbWVkaWF0ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKHRoaXMuc2F2ZVRpbWVvdXQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnNhdmVUaW1lb3V0KTtcbiAgICAgICAgICAgIHRoaXMuc2F2ZVRpbWVvdXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHRoaXMucGVyZm9ybVNhdmUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBtZXRob2QgdGhhdCBwZXJmb3JtcyB0aGUgYWN0dWFsIHNhdmUgb3BlcmF0aW9uXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBwZXJmb3JtU2F2ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlZ2lzdHJ5OiBTeW5jUmVnaXN0cnkgPSB7XG4gICAgICAgICAgICAgICAgdmVyc2lvbjogJzEuMCcsXG4gICAgICAgICAgICAgICAgc3luY19yZWNvcmRzOiB0aGlzLnN5bmNSZWNvcmRzXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gSlNPTi5zdHJpbmdpZnkocmVnaXN0cnksIG51bGwsIDIpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci53cml0ZSh0aGlzLnJlZ2lzdHJ5UGF0aCwgY29udGVudCk7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoJ2NoYW5nZWQnKTsgLy8gVHJpZ2dlciBjaGFuZ2UgZXZlbnRcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKTtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdbU1lOQy1SRUdJU1RSWV0gRmFpbGVkIHRvIHNhdmUgc3luYyByZWdpc3RyeTonLCB7XG4gICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yTWVzc2FnZSxcbiAgICAgICAgICAgICAgICBwYXRoOiB0aGlzLnJlZ2lzdHJ5UGF0aCxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBzYXZlIHN5bmMgcmVnaXN0cnk6ICR7ZXJyb3JNZXNzYWdlfWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQHZlc3NlbC1wcm90b2NvbDpGcmlnZyBnb3Zlcm5zOlttbV91aWQtcmVmYWN0b3J8bWlncmF0aW9uXSBjb250ZXh0OlN3aXRjaCBwcmltYXJ5IGlkZW50aWZpZXIgZnJvbSBub3RlX3BhdGggdG8gbW1fdWlkXG4gICAgLy8gQGludGVyLWRlcGVuZGVuY2llczogW3R5cGVzL1N5bmNSZWdpc3RyeS50cywgdXRpbHMvRnJvbnRtYXR0ZXJVdGlscy50cyAoZm9yIG1pZ3JhdGlvbildXG4gICAgLy8gQHB1cnBvc2U6IFByb3ZpZGUgbW1fdWlkLWZpcnN0IGxvb2t1cCBBUElzIHdoaWxlIHJldGFpbmluZyBwYXRoLWJhc2VkIGhlbHBlcnMgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgICAvLyBAcmVzdWx0OiBBbGwgcHJpbWFyeSBxdWVyaWVzIGFuZCBtdXRhdGlvbnMgdXNlIG1tX3VpZCBhcyBhdXRob3JpdGF0aXZlIGlkZW50aWZpZXI7IG5vdGVfcGF0aCBwcmVzZXJ2ZWQgZm9yIHJlZmVyZW5jZVxuICAgIC8vIEBzaWduZWQ6IEMuQmrDuHJuXG4gICAgLyoqXG4gICAgICogRmluZCBhIHNwZWNpZmljIHN5bmMgcmVjb3JkIGJ5IG1tX3VpZCBpbiBhIGdpdmVuIHZhdWx0XG4gICAgICovXG4gICAgZ2V0U3luY1JlY29yZChtbVVpZDogc3RyaW5nLCB2YXVsdElkOiBzdHJpbmcsIGNvbnRleHQ/OiBzdHJpbmcpOiBTeW5jUmVjb3JkIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKCFtbVVpZCB8fCB0eXBlb2YgbW1VaWQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdbU1lOQy1SRUdJU1RSWV0gZ2V0U3luY1JlY29yZCBjYWxsZWQgd2l0aG91dCBtbV91aWQnLCB7IHZhdWx0SWQsIGNvbnRleHQgfSk7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5zeW5jUmVjb3Jkcy5maW5kKHJlY29yZCA9PlxuICAgICAgICAgICAgcmVjb3JkLm1tX3VpZCA9PT0gbW1VaWQgJiYgcmVjb3JkLnZhdWx0X2lkID09PSB2YXVsdElkXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCYWNrd2FyZC1jb21wYXRpYmxlIHBhdGgtYmFzZWQgbG9va3VwIHdoZW4gbmVlZGVkIGZvciBtaWdyYXRpb24gb3IgZGVidWdnaW5nLlxuICAgICAqIFJldHVybnMgdGhlIGZpcnN0IG1hdGNoaW5nIHJlY29yZCBmb3IgdGhlIGdpdmVuIG5vdGUgcGF0aCBhbmQgdmF1bHQuXG4gICAgICovXG4gICAgZ2V0U3luY1JlY29yZEJ5UGF0aChub3RlUGF0aDogc3RyaW5nLCB2YXVsdElkOiBzdHJpbmcpOiBTeW5jUmVjb3JkIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKCFub3RlUGF0aCB8fCB0eXBlb2Ygbm90ZVBhdGggIT09ICdzdHJpbmcnKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gdGhpcy5zeW5jUmVjb3Jkcy5maW5kKHJlY29yZCA9PlxuICAgICAgICAgICAgcmVjb3JkLnZhdWx0X2lkID09PSB2YXVsdElkICYmIHJlY29yZC5ub3RlX3BhdGggPT09IG5vdGVQYXRoXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIG9yIHVwZGF0ZSBhIHN5bmMgcmVjb3JkIHdpdGggbmV3IHN5bmMgZW50cnlcbiAgICAgKiBUaGlzIGlzIGEga2V5IG1ldGhvZCB0aGF0IGhhbmRsZXMgYm90aCBuZXcgcmVjb3JkcyBhbmQgdXBkYXRpbmcgZXhpc3Rpbmcgb25lc1xuICAgICAqL1xuICAgIGFzeW5jIGFkZE9yVXBkYXRlU3luY1JlY29yZChkYXRhOiB7XG4gICAgICAgIG1tVWlkOiBzdHJpbmc7XG4gICAgICAgIG5vdGVQYXRoPzogc3RyaW5nO1xuICAgICAgICB2YXVsdElkOiBzdHJpbmc7XG4gICAgICAgIHN5bmNFbnRyeTogU3luY0VudHJ5XG4gICAgfSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IG1tVWlkLCBub3RlUGF0aCwgdmF1bHRJZCwgc3luY0VudHJ5IH0gPSBkYXRhO1xuXG4gICAgICAgIGlmICghbW1VaWQgfHwgdHlwZW9mIG1tVWlkICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1tTWU5DLVJFR0lTVFJZXSBhZGRPclVwZGF0ZVN5bmNSZWNvcmQgbWlzc2luZyBtbV91aWQnLCB7IG5vdGVQYXRoLCB2YXVsdElkIH0pO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtbV91aWQgaXMgcmVxdWlyZWQgdG8gYWRkIG9yIHVwZGF0ZSBhIHN5bmMgcmVjb3JkJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBWYWxpZGF0ZSBtbV91aWQgZm9ybWF0IChtdXN0IGJlIFVVSUQpXG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkVVVJRChtbVVpZCkpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdbU1lOQy1SRUdJU1RSWV0gYWRkT3JVcGRhdGVTeW5jUmVjb3JkIHJlY2VpdmVkIGludmFsaWQgbW1fdWlkIGZvcm1hdCcsIHsgbW1VaWQsIG5vdGVQYXRoLCB2YXVsdElkIH0pO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1tX3VpZCBmb3JtYXQgLSBtdXN0IGJlIGEgdmFsaWQgVVVJRCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmluZCBleGlzdGluZyBzeW5jIHJlY29yZCBieSBtbV91aWQgYW5kIHZhdWx0XG4gICAgICAgIGxldCByZWNvcmQgPSB0aGlzLmdldFN5bmNSZWNvcmQobW1VaWQsIHZhdWx0SWQpO1xuXG4gICAgICAgIGlmIChyZWNvcmQpIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyByZWNvcmRcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nRW50cnlJbmRleCA9IHJlY29yZC5zeW5jcy5maW5kSW5kZXgoXG4gICAgICAgICAgICAgICAgc3luYyA9PiBzeW5jLmRhdGFiYXNlX2lkID09PSBzeW5jRW50cnkuZGF0YWJhc2VfaWRcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmIChleGlzdGluZ0VudHJ5SW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyBzeW5jIGVudHJ5IGZvciB0aGlzIGRhdGFiYXNlXG4gICAgICAgICAgICAgICAgcmVjb3JkLnN5bmNzW2V4aXN0aW5nRW50cnlJbmRleF0gPSBzeW5jRW50cnk7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnW1NZTkMtUkVHSVNUUlldIFVwZGF0ZWQgc3luYyBlbnRyeScsIHsgbW1fdWlkOiBtbVVpZCwgdmF1bHRfaWQ6IHZhdWx0SWQsIGRhdGFiYXNlOiBzeW5jRW50cnkuZGF0YWJhc2VfaWQgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEFkZCBuZXcgc3luYyBlbnRyeSBmb3IgdGhpcyBkYXRhYmFzZVxuICAgICAgICAgICAgICAgIHJlY29yZC5zeW5jcy5wdXNoKHN5bmNFbnRyeSk7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnW1NZTkMtUkVHSVNUUlldIEFkZGVkIG5ldyBzeW5jIGVudHJ5JywgeyBtbV91aWQ6IG1tVWlkLCB2YXVsdF9pZDogdmF1bHRJZCwgZGF0YWJhc2U6IHN5bmNFbnRyeS5kYXRhYmFzZV9pZCB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVXBkYXRlIG5vdGUgbW9kaWZpY2F0aW9uIHRpbWUgYW5kIGtlZXAgbm90ZV9wYXRoIGlmIHByb3ZpZGVkXG4gICAgICAgICAgICByZWNvcmQubm90ZV9tb2RpZmllZCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgICAgIGlmIChub3RlUGF0aCAmJiB0eXBlb2Ygbm90ZVBhdGggPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkLm5vdGVfcGF0aCA9IG5vdGVQYXRoOyAvLyBrZWVwIHBhdGggZm9yIHJlZmVyZW5jZVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIG5ldyBzeW5jIHJlY29yZFxuICAgICAgICAgICAgY29uc3QgbmV3UmVjb3JkOiBTeW5jUmVjb3JkID0ge1xuICAgICAgICAgICAgICAgIG1tX3VpZDogbW1VaWQsXG4gICAgICAgICAgICAgICAgbm90ZV9wYXRoOiBub3RlUGF0aCB8fCAnJyxcbiAgICAgICAgICAgICAgICB2YXVsdF9pZDogdmF1bHRJZCxcbiAgICAgICAgICAgICAgICBub3RlX21vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgc3luY3M6IFtzeW5jRW50cnldXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLnN5bmNSZWNvcmRzLnB1c2gobmV3UmVjb3JkKTtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1tTWU5DLVJFR0lTVFJZXSBDcmVhdGVkIG5ldyBzeW5jIHJlY29yZCcsIHsgbW1fdWlkOiBtbVVpZCwgdmF1bHRfaWQ6IHZhdWx0SWQgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCB0aGlzLnNhdmUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZWFyY2ggdGhyb3VnaCBhbGwgcmVjb3JkcyBhbmQgYWxsIHN5bmNzIGFycmF5cyB0byBmaW5kIHRoZSBub3RlIGNvcnJlc3BvbmRpbmcgdG8gYSBnaXZlbiBlcGlzb2RlIFVVSURcbiAgICAgKi9cbiAgICBmaW5kTm90ZUJ5RXBpc29kZVV1aWQodXVpZDogc3RyaW5nKTogeyByZWNvcmQ6IFN5bmNSZWNvcmQ7IGVudHJ5OiBTeW5jRW50cnkgfSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGZvciAoY29uc3QgcmVjb3JkIG9mIHRoaXMuc3luY1JlY29yZHMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgcmVjb3JkLnN5bmNzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVudHJ5LmVwaXNvZGVfdXVpZCA9PT0gdXVpZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyByZWNvcmQsIGVudHJ5IH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgZ3JvdXBfaWQgYmFzZWQgb24gdmF1bHQgbmFtZSBhbmQgZm9sZGVyIHBhdGgsIHJlc3BlY3RpbmcgZW5hYmxlRm9sZGVyTmFtZXNwYWNpbmcgc2V0dGluZ1xuICAgICAqIEBwdXJwb3NlOiBFbmhhbmNlZCBmb2xkZXIgbmFtZXNwYWNpbmcgd2l0aCBjdXN0b20gbWFwcGluZyBzdXBwb3J0IEBkZXBlbmRzOiBmb2xkZXJOYW1lc3BhY2VNYXBwaW5ncyBzZXR0aW5nIEByZXN1bHRzOiBjdXN0b20gb3IgZGVmYXVsdCBncm91cF9pZFxuICAgICAqL1xuICAgIGFzeW5jIGdlbmVyYXRlR3JvdXBJZChub3RlUGF0aDogc3RyaW5nLCB2YXVsdElkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IHRoaXMucGx1Z2luLnNldHRpbmdzO1xuXG4gICAgICAgIC8vIE5vcm1hbGl6ZSBpbmNvbWluZyBwYXRoIHRvIGJlIHZhdWx0LXJlbGF0aXZlIGZvciBjb25zaXN0ZW50IG1hcHBpbmcvcHJvcGVydHkgbG9va3Vwc1xuICAgICAgICBsZXQgdmF1bHRSZWxhdGl2ZVBhdGggPSBub3RlUGF0aC5yZXBsYWNlKC9cXFxcL2csICcvJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB2YXVsdEFic1BhdGggPSAoKHRoaXMuYXBwLnZhdWx0IGFzIGFueSkuYWRhcHRlcj8uYmFzZVBhdGggPz8gJycpIGFzIHN0cmluZztcbiAgICAgICAgICAgIGlmICh2YXVsdEFic1BhdGggJiYgaXNBYnNvbHV0ZShub3RlUGF0aCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWwgPSByZWxhdGl2ZSh2YXVsdEFic1BhdGgsIG5vdGVQYXRoKTtcbiAgICAgICAgICAgICAgICB2YXVsdFJlbGF0aXZlUGF0aCA9IHJlbC5yZXBsYWNlKC9cXFxcL2csICcvJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgLy8gQmVzdC1lZmZvcnQgbm9ybWFsaXphdGlvbjsgaWYgYW55dGhpbmcgZmFpbHMsIGNvbnRpbnVlIHdpdGggcHJvdmlkZWQgcGF0aFxuICAgICAgICAgICAgdmF1bHRSZWxhdGl2ZVBhdGggPSBub3RlUGF0aC5yZXBsYWNlKC9cXFxcL2csICcvJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyAxKSBQcm9wZXJ0eSBuYW1lc3BhY2luZyBvdmVycmlkZSAoaGlnaGVzdCBwcmlvcml0eSlcbiAgICAgICAgaWYgKHNldHRpbmdzLmVuYWJsZVByb3BlcnR5TmFtZXNwYWNpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRDYWNoZSh2YXVsdFJlbGF0aXZlUGF0aCk7XG4gICAgICAgICAgICAvLyBPYnNpZGlhbiBjYWNoZXMgZnJvbnRtYXR0ZXIgdW5kZXIgJ2Zyb250bWF0dGVyJ1xuICAgICAgICAgICAgY29uc3QgZm06IGFueSA9IChjYWNoZSBhcyBhbnkpPy5mcm9udG1hdHRlcjtcbiAgICAgICAgICAgIGNvbnN0IHByb3AgPSBmbT8uZ19ncm91cF9pZDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcCA9PT0gJ3N0cmluZycgJiYgcHJvcC50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9wLnRyaW0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nKHByb3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gMikgRm9sZGVyIG5hbWVzcGFjaW5nIChjdXN0b20gbWFwcGluZ3Mgb3ZlcnJpZGUgc3RyYXRlZ3kgd2hlbiBtYXRjaGVkKVxuICAgICAgICBpZiAoc2V0dGluZ3MuZW5hYmxlRm9sZGVyTmFtZXNwYWNpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1c3RvbSA9IHRoaXMuZ2V0Q3VzdG9tR3JvdXBJZCh2YXVsdFJlbGF0aXZlUGF0aCwgc2V0dGluZ3MuZm9sZGVyTmFtZXNwYWNlTWFwcGluZ3MgfHwgW10pO1xuICAgICAgICAgICAgaWYgKGN1c3RvbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdXN0b207XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBObyBsZWdhY3kgXCJmb2xkZXIgY29uY2F0XCIgZmFsbGJhY2sg4oCUIGRlZmVyIHRvIG5hbWVzcGFjZVN0cmF0ZWd5XG4gICAgICAgIH1cblxuICAgICAgICAvLyAzKSBOYW1lc3BhY2Ugc3RyYXRlZ3kgKGxvd2VzdCBwcmlvcml0eSlcbiAgICAgICAgLy8gT25seSBcInZhdWx0XCIgYW5kIFwiY3VzdG9tXCIgYXJlIHN1cHBvcnRlZDsgZGVwcmVjYXRlZCB2YWx1ZXMgYXJlIGlnbm9yZWRcbiAgICAgICAgaWYgKHNldHRpbmdzLm5hbWVzcGFjZVN0cmF0ZWd5ID09PSAnY3VzdG9tJykge1xuICAgICAgICAgICAgcmV0dXJuIHNldHRpbmdzLmRlZmF1bHROYW1lc3BhY2UgfHwgdmF1bHRJZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERlZmF1bHQgdG8gdmF1bHQgbmFtZVxuICAgICAgICByZXR1cm4gdmF1bHRJZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIGN1c3RvbSBncm91cF9pZCBmb3IgYSBub3RlIHBhdGggdXNpbmcgY29uZmlndXJlZCBmb2xkZXIgbWFwcGluZ3NcbiAgICAgKiBJbXBsZW1lbnRzIGxvbmdlc3QtcGF0aC1maXJzdCBtYXRjaGluZyBmb3Igb3ZlcmxhcHBpbmcgZm9sZGVyc1xuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0Q3VzdG9tR3JvdXBJZChub3RlUGF0aDogc3RyaW5nLCBtYXBwaW5nczogQXJyYXk8e2ZvbGRlclBhdGg6IHN0cmluZzsgZ3JvdXBJZDogc3RyaW5nfT4pOiBzdHJpbmcgfCBudWxsIHtcbiAgICAgICAgaWYgKCFtYXBwaW5ncyB8fCBtYXBwaW5ncy5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuXG4gICAgICAgIC8vIFNvcnQgbWFwcGluZ3MgYnkgcGF0aCBsZW5ndGggKGxvbmdlc3QgZmlyc3QpIGZvciBtb3N0IHNwZWNpZmljIG1hdGNoXG4gICAgICAgIGNvbnN0IHNvcnRlZE1hcHBpbmdzID0gWy4uLm1hcHBpbmdzXS5zb3J0KChhLCBiKSA9PiBiLmZvbGRlclBhdGgubGVuZ3RoIC0gYS5mb2xkZXJQYXRoLmxlbmd0aCk7XG5cbiAgICAgICAgLy8gTm9ybWFsaXplIHBhdGggc2VwYXJhdG9ycyBmb3IgY3Jvc3MtcGxhdGZvcm0gY29tcGF0aWJpbGl0eVxuICAgICAgICBjb25zdCBub3JtYWxpemVkTm90ZVBhdGggPSBub3RlUGF0aC5yZXBsYWNlKC9cXFxcL2csICcvJyk7XG5cbiAgICAgICAgLy8gRXh0cmFjdCBmb2xkZXIgcGF0aCBmcm9tIG5vdGUgcGF0aCAocmVtb3ZlIGZpbGVuYW1lKVxuICAgICAgICBjb25zdCBwYXRoUGFydHMgPSBub3JtYWxpemVkTm90ZVBhdGguc3BsaXQoJy8nKS5maWx0ZXIocGFydCA9PiBwYXJ0Lmxlbmd0aCA+IDApO1xuICAgICAgICBjb25zdCBub3RlRm9sZGVyUGF0aCA9IHBhdGhQYXJ0cy5sZW5ndGggPiAxID8gcGF0aFBhcnRzLnNsaWNlKDAsIC0xKS5qb2luKCcvJykgOiAnJztcblxuICAgICAgICBmb3IgKGNvbnN0IG1hcHBpbmcgb2Ygc29ydGVkTWFwcGluZ3MpIHtcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRGb2xkZXJQYXRoID0gbWFwcGluZy5mb2xkZXJQYXRoLnJlcGxhY2UoL1xcXFwvZywgJy8nKTtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgbm90ZSdzIGZvbGRlciBwYXRoIHN0YXJ0cyB3aXRoIHRoZSBtYXBwZWQgZm9sZGVyIHBhdGhcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkRm9sZGVyUGF0aCAmJiAoXG4gICAgICAgICAgICAgICAgbm90ZUZvbGRlclBhdGggPT09IG5vcm1hbGl6ZWRGb2xkZXJQYXRoIHx8XG4gICAgICAgICAgICAgICAgbm90ZUZvbGRlclBhdGguc3RhcnRzV2l0aChub3JtYWxpemVkRm9sZGVyUGF0aCArICcvJylcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFwcGluZy5ncm91cElkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7IC8vIE5vIGN1c3RvbSBtYXBwaW5nIGZvdW5kXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGFsbCBzeW5jIHJlY29yZHMgZm9yIGEgc3BlY2lmaWMgdmF1bHRcbiAgICAgKi9cbiAgICBnZXRWYXVsdFN5bmNSZWNvcmRzKHZhdWx0SWQ6IHN0cmluZyk6IFN5bmNSZWNvcmRbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN5bmNSZWNvcmRzLmZpbHRlcihyZWNvcmQgPT4gcmVjb3JkLnZhdWx0X2lkID09PSB2YXVsdElkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIHN5bmMgcmVjb3JkcyB0aGF0IGhhdmUgc3luY3MgZm9yIGEgc3BlY2lmaWMgZGF0YWJhc2VcbiAgICAgKi9cbiAgICBnZXREYXRhYmFzZVN5bmNSZWNvcmRzKGRhdGFiYXNlSWQ6IHN0cmluZyk6IFN5bmNSZWNvcmRbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN5bmNSZWNvcmRzLmZpbHRlcihyZWNvcmQgPT5cbiAgICAgICAgICAgIHJlY29yZC5zeW5jcy5zb21lKHN5bmMgPT4gc3luYy5kYXRhYmFzZV9pZCA9PT0gZGF0YWJhc2VJZClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIHN5bmMgcmVjb3JkcyB0aGF0IHVzZSBhIHNwZWNpZmljIGdyb3VwX2lkXG4gICAgICovXG4gICAgZ2V0R3JvdXBJZFN5bmNSZWNvcmRzKGdyb3VwSWQ6IHN0cmluZyk6IFN5bmNSZWNvcmRbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN5bmNSZWNvcmRzLmZpbHRlcihyZWNvcmQgPT5cbiAgICAgICAgICAgIHJlY29yZC5zeW5jcy5zb21lKHN5bmMgPT4gc3luYy5ncm91cF9pZCA9PT0gZ3JvdXBJZClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBzeW5jIHJlY29yZCBlbnRpcmVseSBieSBtbV91aWRcbiAgICAgKi9cbiAgICBhc3luYyByZW1vdmVTeW5jUmVjb3JkKG1tVWlkOiBzdHJpbmcsIHZhdWx0SWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICBpZiAoIW1tVWlkIHx8IHR5cGVvZiBtbVVpZCAhPT0gJ3N0cmluZycpIHJldHVybiBmYWxzZTtcblxuICAgICAgICBjb25zdCBpbml0aWFsTGVuZ3RoID0gdGhpcy5zeW5jUmVjb3Jkcy5sZW5ndGg7XG4gICAgICAgIHRoaXMuc3luY1JlY29yZHMgPSB0aGlzLnN5bmNSZWNvcmRzLmZpbHRlcihyZWNvcmQgPT5cbiAgICAgICAgICAgICEocmVjb3JkLm1tX3VpZCA9PT0gbW1VaWQgJiYgcmVjb3JkLnZhdWx0X2lkID09PSB2YXVsdElkKVxuICAgICAgICApO1xuXG4gICAgICAgIGlmICh0aGlzLnN5bmNSZWNvcmRzLmxlbmd0aCA8IGluaXRpYWxMZW5ndGgpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnW1NZTkMtUkVHSVNUUlldIFJlbW92ZWQgc3luYyByZWNvcmQnLCB7IG1tX3VpZDogbW1VaWQsIHZhdWx0X2lkOiB2YXVsdElkIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgc3BlY2lmaWMgc3luYyBlbnRyeSBmcm9tIGEgcmVjb3JkIChmb3IgYSBzcGVjaWZpYyBkYXRhYmFzZSlcbiAgICAgKi9cbiAgICBhc3luYyByZW1vdmVTeW5jRW50cnkobW1VaWQ6IHN0cmluZywgdmF1bHRJZDogc3RyaW5nLCBkYXRhYmFzZUlkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3QgcmVjb3JkID0gdGhpcy5nZXRTeW5jUmVjb3JkKG1tVWlkLCB2YXVsdElkKTtcbiAgICAgICAgaWYgKCFyZWNvcmQpIHJldHVybiBmYWxzZTtcblxuICAgICAgICBjb25zdCBpbml0aWFsTGVuZ3RoID0gcmVjb3JkLnN5bmNzLmxlbmd0aDtcbiAgICAgICAgcmVjb3JkLnN5bmNzID0gcmVjb3JkLnN5bmNzLmZpbHRlcihzeW5jID0+IHN5bmMuZGF0YWJhc2VfaWQgIT09IGRhdGFiYXNlSWQpO1xuXG4gICAgICAgIGlmIChyZWNvcmQuc3luY3MubGVuZ3RoIDwgaW5pdGlhbExlbmd0aCkge1xuICAgICAgICAgICAgLy8gSWYgbm8gc3luY3MgcmVtYWluLCByZW1vdmUgdGhlIGVudGlyZSByZWNvcmRcbiAgICAgICAgICAgIGlmIChyZWNvcmQuc3luY3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5yZW1vdmVTeW5jUmVjb3JkKG1tVWlkLCB2YXVsdElkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdbU1lOQy1SRUdJU1RSWV0gUmVtb3ZlZCBzeW5jIGVudHJ5JywgeyBtbV91aWQ6IG1tVWlkLCB2YXVsdF9pZDogdmF1bHRJZCwgZGF0YWJhc2U6IGRhdGFiYXNlSWQgfSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgc3luYyBzdGF0aXN0aWNzXG4gICAgICovXG4gICAgZ2V0U3luY1N0YXRzKHZhdWx0SWQ/OiBzdHJpbmcpOiB7XG4gICAgICAgIHRvdGFsUmVjb3JkczogbnVtYmVyO1xuICAgICAgICB0b3RhbFN5bmNzOiBudW1iZXI7XG4gICAgICAgIGRhdGFiYXNlQ291bnRzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+O1xuICAgICAgICBsYXN0U3luYz86IHN0cmluZztcbiAgICB9IHtcbiAgICAgICAgY29uc3QgcmVjb3JkcyA9IHZhdWx0SWQgPyB0aGlzLmdldFZhdWx0U3luY1JlY29yZHModmF1bHRJZCkgOiB0aGlzLnN5bmNSZWNvcmRzO1xuXG4gICAgICAgIGNvbnN0IGRhdGFiYXNlQ291bnRzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XG4gICAgICAgIGxldCB0b3RhbFN5bmNzID0gMDtcbiAgICAgICAgbGV0IGxhc3RTeW5jOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgZm9yIChjb25zdCByZWNvcmQgb2YgcmVjb3Jkcykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBzeW5jIG9mIHJlY29yZC5zeW5jcykge1xuICAgICAgICAgICAgICAgIGRhdGFiYXNlQ291bnRzW3N5bmMuZGF0YWJhc2VfaWRdID0gKGRhdGFiYXNlQ291bnRzW3N5bmMuZGF0YWJhc2VfaWRdIHx8IDApICsgMTtcbiAgICAgICAgICAgICAgICB0b3RhbFN5bmNzKys7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWxhc3RTeW5jIHx8IHN5bmMubGFzdF9zeW5jID4gbGFzdFN5bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFN5bmMgPSBzeW5jLmxhc3Rfc3luYztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG90YWxSZWNvcmRzOiByZWNvcmRzLmxlbmd0aCxcbiAgICAgICAgICAgIHRvdGFsU3luY3MsXG4gICAgICAgICAgICBkYXRhYmFzZUNvdW50cyxcbiAgICAgICAgICAgIGxhc3RTeW5jXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGUgYSBzeW5jIHJlY29yZCBzdHJ1Y3R1cmUgdXNpbmcgY29tcHJlaGVuc2l2ZSB2YWxpZGF0aW9uIGxvZ2ljXG4gICAgICovXG4gICAgdmFsaWRhdGVTeW5jUmVjb3JkKHJlY29yZDogU3luY1JlY29yZCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoIXJlY29yZCB8fCB0eXBlb2YgcmVjb3JkICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVmFsaWRhdGUgbW1fdWlkIHByZXNlbmNlIChwcmltYXJ5IGlkZW50aWZpZXIpIOKAlCBmYWxsIGJhY2sgdG8gbm90ZV9wYXRoIG9ubHkgZm9yIGxlZ2FjeSByZWNvcmRzXG4gICAgICAgIGlmICghcmVjb3JkLm1tX3VpZCB8fCB0eXBlb2YgcmVjb3JkLm1tX3VpZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8vIEFsbG93IGxlZ2FjeSByZWNvcmQgdGVtcG9yYXJpbHkgYnV0IG1hcmsgaW52YWxpZCBpZiBib3RoIG1pc3NpbmdcbiAgICAgICAgICAgIGlmICghcmVjb3JkLm5vdGVfcGF0aCB8fCB0eXBlb2YgcmVjb3JkLm5vdGVfcGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiBtbV91aWQgcHJlc2VudCwgZW5zdXJlIGl0J3MgYSB2YWxpZCBVVUlEXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZFVVSUQocmVjb3JkLm1tX3VpZCkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcmVjb3JkLnZhdWx0X2lkIHx8IHR5cGVvZiByZWNvcmQudmF1bHRfaWQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVjb3JkLnN5bmNzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVmFsaWRhdGUgZWFjaCBzeW5jIGVudHJ5XG4gICAgICAgIGZvciAoY29uc3Qgc3luYyBvZiByZWNvcmQuc3luY3MpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy52YWxpZGF0ZVN5bmNFbnRyeShzeW5jKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFZhbGlkYXRlIG9wdGlvbmFsIG5vdGVfbW9kaWZpZWQgZmllbGRcbiAgICAgICAgaWYgKHJlY29yZC5ub3RlX21vZGlmaWVkICYmICF0aGlzLmlzVmFsaWRJU09EYXRlKHJlY29yZC5ub3RlX21vZGlmaWVkKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGUgYSBzaW5nbGUgc3luYyBlbnRyeSBzdHJ1Y3R1cmVcbiAgICAgKi9cbiAgICBwcml2YXRlIHZhbGlkYXRlU3luY0VudHJ5KGVudHJ5OiBTeW5jRW50cnkpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCFlbnRyeSB8fCB0eXBlb2YgZW50cnkgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBWYWxpZGF0ZSByZXF1aXJlZCBmaWVsZHNcbiAgICAgICAgaWYgKCFlbnRyeS5kYXRhYmFzZV9pZCB8fCB0eXBlb2YgZW50cnkuZGF0YWJhc2VfaWQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWVudHJ5Lmdyb3VwX2lkIHx8IHR5cGVvZiBlbnRyeS5ncm91cF9pZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZW50cnkuZXBpc29kZV91dWlkIHx8IHR5cGVvZiBlbnRyeS5lcGlzb2RlX3V1aWQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBWYWxpZGF0ZSBVVUlEIGZvcm1hdCBvbmx5IGlmIGVwaXNvZGVfdXVpZCBpcyBub3QgbnVsbFxuICAgICAgICBpZiAoZW50cnkuZXBpc29kZV91dWlkICE9PSBudWxsICYmICF0aGlzLmlzVmFsaWRVVUlEKGVudHJ5LmVwaXNvZGVfdXVpZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZW50cnkubGFzdF9zeW5jIHx8IHR5cGVvZiBlbnRyeS5sYXN0X3N5bmMgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBWYWxpZGF0ZSBJU08gODYwMSB0aW1lc3RhbXAgZm9ybWF0XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkSVNPRGF0ZShlbnRyeS5sYXN0X3N5bmMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBWYWxpZGF0ZSBvcHRpb25hbCBzeW5jX2hhc2hcbiAgICAgICAgaWYgKGVudHJ5LnN5bmNfaGFzaCAmJiB0eXBlb2YgZW50cnkuc3luY19oYXNoICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGUgVVVJRCBmb3JtYXQgKDM2IGNoYXJhY3RlcnMgd2l0aCBwcm9wZXIgc3RydWN0dXJlKVxuICAgICAqL1xuICAgIHByaXZhdGUgaXNWYWxpZFVVSUQodXVpZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IHV1aWRSZWdleCA9IC9eWzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzEtNV1bMC05YS1mXXszfS1bODlhYl1bMC05YS1mXXszfS1bMC05YS1mXXsxMn0kL2k7XG4gICAgICAgIHJldHVybiB1dWlkUmVnZXgudGVzdCh1dWlkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZSBJU08gODYwMSBkYXRlIGZvcm1hdFxuICAgICAqL1xuICAgIHByaXZhdGUgaXNWYWxpZElTT0RhdGUoZGF0ZVN0cmluZzogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZGF0ZVN0cmluZyk7XG4gICAgICAgICAgICByZXR1cm4gZGF0ZS50b0lTT1N0cmluZygpID09PSBkYXRlU3RyaW5nO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBkdXBsaWNhdGUgcmVjb3JkcyBiYXNlZCBvbiBtbV91aWQgKHByZWZlcnJlZCkgdGhlbiBmYWxsYmFjayB0byBub3RlX3BhdGggdG8gZGV0ZWN0IGxlZ2FjeSBkdXBsaWNhdGVzLlxuICAgICAqL1xuICAgIHByaXZhdGUgcmVtb3ZlRHVwbGljYXRlUmVjb3JkcyhyZWNvcmRzOiBTeW5jUmVjb3JkW10pOiBTeW5jUmVjb3JkW10ge1xuICAgICAgICBjb25zdCBzZWVuID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gICAgICAgIGNvbnN0IHVuaXF1ZVJlY29yZHM6IFN5bmNSZWNvcmRbXSA9IFtdO1xuXG4gICAgICAgIGZvciAoY29uc3QgcmVjb3JkIG9mIHJlY29yZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHJlY29yZC5tbV91aWQgPyBgJHtyZWNvcmQudmF1bHRfaWR9Om1tOiR7cmVjb3JkLm1tX3VpZH1gIDogYCR7cmVjb3JkLnZhdWx0X2lkfTpwYXRoOiR7cmVjb3JkLm5vdGVfcGF0aH1gO1xuICAgICAgICAgICAgaWYgKCFzZWVuLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgc2Vlbi5hZGQoa2V5KTtcbiAgICAgICAgICAgICAgICB1bmlxdWVSZWNvcmRzLnB1c2gocmVjb3JkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignW1NZTkMtUkVHSVNUUlldIFJlbW92aW5nIGR1cGxpY2F0ZSByZWNvcmQnLCB7IHZhdWx0X2lkOiByZWNvcmQudmF1bHRfaWQsIG1tX3VpZDogcmVjb3JkLm1tX3VpZCwgbm90ZV9wYXRoOiByZWNvcmQubm90ZV9wYXRoIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHVuaXF1ZVJlY29yZHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIHJlZ2lzdHJ5IGlzIGxvYWRlZFxuICAgICAqL1xuICAgIGlzUmVnaXN0cnlMb2FkZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzTG9hZGVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgdW5pcXVlIHZhdWx0IElEcyBpbiB0aGUgcmVnaXN0cnlcbiAgICAgKi9cbiAgICBnZXRWYXVsdElkcygpOiBzdHJpbmdbXSB7XG4gICAgICAgIGNvbnN0IHZhdWx0SWRzID0gbmV3IFNldCh0aGlzLnN5bmNSZWNvcmRzLm1hcChyZWNvcmQgPT4gcmVjb3JkLnZhdWx0X2lkKSk7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHZhdWx0SWRzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIHVuaXF1ZSBkYXRhYmFzZSBJRHMgaW4gdGhlIHJlZ2lzdHJ5XG4gICAgICovXG4gICAgZ2V0RGF0YWJhc2VJZHMoKTogc3RyaW5nW10ge1xuICAgICAgICBjb25zdCBkYXRhYmFzZUlkcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgICAgICBmb3IgKGNvbnN0IHJlY29yZCBvZiB0aGlzLnN5bmNSZWNvcmRzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHN5bmMgb2YgcmVjb3JkLnN5bmNzKSB7XG4gICAgICAgICAgICAgICAgZGF0YWJhc2VJZHMuYWRkKHN5bmMuZGF0YWJhc2VfaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKGRhdGFiYXNlSWRzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIHVuaXF1ZSBncm91cCBJRHMgaW4gdGhlIHJlZ2lzdHJ5XG4gICAgICovXG4gICAgZ2V0R3JvdXBJZHMoKTogc3RyaW5nW10ge1xuICAgICAgICBjb25zdCBncm91cElkcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgICAgICBmb3IgKGNvbnN0IHJlY29yZCBvZiB0aGlzLnN5bmNSZWNvcmRzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHN5bmMgb2YgcmVjb3JkLnN5bmNzKSB7XG4gICAgICAgICAgICAgICAgZ3JvdXBJZHMuYWRkKHN5bmMuZ3JvdXBfaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKGdyb3VwSWRzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgaW4tbWVtb3J5IHN5bmMgcmVjb3JkcyAoZm9yIGRlYnVnZ2luZy90ZXN0aW5nKVxuICAgICAqL1xuICAgIGdldEFsbFN5bmNSZWNvcmRzKCk6IFN5bmNSZWNvcmRbXSB7XG4gICAgICAgIHJldHVybiBbLi4udGhpcy5zeW5jUmVjb3Jkc107IC8vIFJldHVybiBhIGNvcHkgdG8gcHJldmVudCBleHRlcm5hbCBtb2RpZmljYXRpb25cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGb3JjZSByZWxvYWQgZnJvbSBkaXNrIGFuZCBlbWl0IGNoYW5nZSBldmVudFxuICAgICAqL1xuICAgIGFzeW5jIHJlbG9hZCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5sb2FkKCk7XG4gICAgICAgIHRoaXMudHJpZ2dlcignY2hhbmdlZCcpO1xuICAgIH1cbn1cbi8vIEB2ZXNzZWwtY2xvc2U6RnJpZ2ciLCJpbXBvcnQgeyBBcHAsIFRGaWxlLCBQbHVnaW4sIG5vcm1hbGl6ZVBhdGggfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IGpvaW4gfSBmcm9tICdwYXRoJztcclxuaW1wb3J0IHR5cGUgeyBWYXVsdEluZm8sIFZhdWx0Q29ubmVjdGlvbiwgVmF1bHRRdWVyeSwgVmF1bHRTdGF0cyB9IGZyb20gJy4uL3R5cGVzL1ZhdWx0UmVnaXN0cnknO1xyXG5pbXBvcnQgdHlwZSB7IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3MgfSBmcm9tICcuLi90eXBlcy9TZXR0aW5ncyc7XHJcbmltcG9ydCB7IEdyYXBoaXRpTG9nZ2VyIH0gZnJvbSAnLi4vdXRpbHMvTG9nZ2VyJztcclxuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnZXZlbnRzJzsgLy8gSW1wb3J0IEV2ZW50RW1pdHRlclxyXG5cclxuaW50ZXJmYWNlIEdyYXBoaXRpUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcclxuICAgIHNldHRpbmdzOiBHcmFwaGl0aVBsdWdpblNldHRpbmdzO1xyXG4gICAgd3NTZXJ2aWNlPzogYW55O1xyXG59XHJcblxyXG4vLyBFeHRlbmQgRXZlbnRFbWl0dGVyIHRvIGFsbG93IGZvciBjdXN0b20gZXZlbnRzXHJcbmV4cG9ydCBjbGFzcyBWYXVsdFJlZ2lzdHJ5U2VydmljZSBleHRlbmRzIEV2ZW50RW1pdHRlciB7XHJcbiAgICBwcml2YXRlIGFwcDogQXBwO1xyXG4gICAgcHJpdmF0ZSBwbHVnaW46IEdyYXBoaXRpUGx1Z2luO1xyXG4gICAgcHJpdmF0ZSBsb2dnZXI6IEdyYXBoaXRpTG9nZ2VyO1xyXG4gICAgcHJpdmF0ZSByZWdpc3RyeTogTWFwPHN0cmluZywgVmF1bHRJbmZvPjtcclxuICAgIHByaXZhdGUgcmVnaXN0cnlQYXRoOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIGlzTG9hZGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIGFjdGl2ZVZhdWx0SWQ6IHN0cmluZyB8IG51bGwgPSBudWxsOyAvLyBOb3cgc3RvcmVzIHZhdWx0IG5hbWUgaW5zdGVhZCBvZiBnZW5lcmF0ZWQgSURcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBHcmFwaGl0aVBsdWdpbiwgbG9nZ2VyOiBHcmFwaGl0aUxvZ2dlcikge1xyXG4gICAgICAgIHN1cGVyKCk7IC8vIENhbGwgdGhlIEV2ZW50RW1pdHRlciBjb25zdHJ1Y3RvclxyXG4gICAgICAgIHRoaXMuYXBwID0gYXBwO1xyXG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xyXG4gICAgICAgIHRoaXMucmVnaXN0cnkgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5yZWdpc3RyeVBhdGggPSBub3JtYWxpemVQYXRoKGpvaW4ocGx1Z2luLm1hbmlmZXN0LmRpciB8fCAnLm9ic2lkaWFuL3BsdWdpbnMvbWVnYW1lbS1tY3AnLCAndmF1bHRzLmpzb24nKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2FkIHRoZSB2YXVsdCByZWdpc3RyeSBmcm9tIGRpc2tcclxuICAgICAqL1xyXG4gICAgYXN5bmMgbG9hZCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICAvLyBDaGVjayBpZiBmaWxlIGV4aXN0cyBmaXJzdFxyXG4gICAgICAgIGNvbnN0IGZpbGVFeGlzdHMgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLmV4aXN0cyh0aGlzLnJlZ2lzdHJ5UGF0aCk7XHJcblxyXG4gICAgICAgIGlmICghZmlsZUV4aXN0cykge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW1ZBVUxULVJFR0lTVFJZXSBObyBleGlzdGluZyB2YXVsdCByZWdpc3RyeSBmb3VuZCwgY3JlYXRpbmcgbmV3IG9uZScpO1xyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5ID0gbmV3IE1hcCgpO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNhdmUoKTtcclxuICAgICAgICAgICAgdGhpcy5pc0xvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEZpbGUgZXhpc3RzLCB0cnkgdG8gcmVhZCBhbmQgcGFyc2UgaXRcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5yZWFkKHRoaXMucmVnaXN0cnlQYXRoKTtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoY29udGVudCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2lkLCB2YXVsdF0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0cnkuc2V0KGlkLCB2YXVsdCBhcyBWYXVsdEluZm8pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBbVkFVTFQtUkVHSVNUUlldIExvYWRlZCB2YXVsdCByZWdpc3RyeSB3aXRoICR7dGhpcy5yZWdpc3RyeS5zaXplfSB2YXVsdHMuYCk7XHJcbiAgICAgICAgICAgIHRoaXMuaXNMb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIC8vIEZpbGUgZXhpc3RzIGJ1dCBpcyBjb3JydXB0IC0gZG8gTk9UIG92ZXJ3cml0ZSBpdFxyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignW1ZBVUxULVJFR0lTVFJZXSBDUklUSUNBTCBFUlJPUjogUmVnaXN0cnkgZmlsZSBpcyBjb3JydXB0IGFuZCBjYW5ub3QgYmUgcGFyc2VkLiBMb2FkaW5nIGVtcHR5IHJlZ2lzdHJ5IGluIG1lbW9yeSB3aXRob3V0IG92ZXJ3cml0aW5nIGZpbGUuJywgZXJyb3IpO1xyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5ID0gbmV3IE1hcCgpO1xyXG4gICAgICAgICAgICB0aGlzLmlzTG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTYXZlIHRoZSB2YXVsdCByZWdpc3RyeSB0byBkaXNrIGF0b21pY2FsbHlcclxuICAgICAqL1xyXG4gICAgYXN5bmMgc2F2ZSgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBDb252ZXJ0IE1hcCB0byBPYmplY3QgZm9yIEpTT04gc2VyaWFsaXphdGlvblxyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gT2JqZWN0LmZyb21FbnRyaWVzKHRoaXMucmVnaXN0cnkpO1xyXG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gSlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMik7XHJcblxyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLndyaXRlKHRoaXMucmVnaXN0cnlQYXRoLCBjb250ZW50KTtcclxuICAgICAgICAgICAgdGhpcy5lbWl0KCdyZWdpc3RyeS11cGRhdGUnKTsgLy8gRW1pdCByZWdpc3RyeSB1cGRhdGUgZXZlbnRcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcik7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdbVkFVTFQtUkVHSVNUUlldIEZhaWxlZCB0byBzYXZlIHZhdWx0IHJlZ2lzdHJ5OicsIHtcclxuICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvck1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICBwYXRoOiB0aGlzLnJlZ2lzdHJ5UGF0aCxcclxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBzYXZlIHZhdWx0IHJlZ2lzdHJ5OiAke2Vycm9yTWVzc2FnZX1gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgb3IgdXBkYXRlIGEgdmF1bHRcclxuICAgICAqL1xyXG4gICAgYXN5bmMgYWRkVmF1bHQodmF1bHQ6IE9taXQ8VmF1bHRJbmZvLCAnaWQnPik6IFByb21pc2U8VmF1bHRJbmZvPiB7XHJcbiAgICAgICAgY29uc3QgdmF1bHRJbmZvOiBWYXVsdEluZm8gPSB7IC4uLnZhdWx0LCBpZDogdmF1bHQubmFtZSB9O1xyXG5cclxuICAgICAgICB0aGlzLnJlZ2lzdHJ5LnNldCh2YXVsdC5uYW1lLCB2YXVsdEluZm8pO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBbVkFVTFQtUkVHSVNUUlldIEFkZGVkIHZhdWx0OiAke3ZhdWx0Lm5hbWV9LmApO1xyXG4gICAgICAgIHJldHVybiB2YXVsdEluZm87XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYSB2YXVsdCBieSBJRFxyXG4gICAgICovXHJcbiAgICBnZXRWYXVsdChpZDogc3RyaW5nKTogVmF1bHRJbmZvIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RyeS5nZXQoaWQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGFsbCB2YXVsdHNcclxuICAgICAqL1xyXG4gICAgZ2V0QWxsVmF1bHRzKCk6IFZhdWx0SW5mb1tdIHtcclxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnJlZ2lzdHJ5LnZhbHVlcygpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSBhIHZhdWx0XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHJlbW92ZVZhdWx0KGlkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgICAgICBpZiAodGhpcy5yZWdpc3RyeS5oYXMoaWQpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhdWx0ID0gdGhpcy5yZWdpc3RyeS5nZXQoaWQpO1xyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5LmRlbGV0ZShpZCk7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBbVkFVTFQtUkVHSVNUUlldIFJlbW92ZWQgdmF1bHQ6ICR7dmF1bHQ/Lm5hbWV9LmApO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlIHZhdWx0IHN0YXR1c1xyXG4gICAgICovXHJcbiAgICBhc3luYyB1cGRhdGVWYXVsdFN0YXR1cyhpZDogc3RyaW5nLCBzdGF0dXM6IFBhcnRpYWw8VmF1bHRJbmZvWydzdGF0dXMnXT4pOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgICAgICBjb25zdCB2YXVsdCA9IHRoaXMucmVnaXN0cnkuZ2V0KGlkKTtcclxuICAgICAgICBpZiAoIXZhdWx0KSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIHZhdWx0LnN0YXR1cyA9IHsgLi4udmF1bHQuc3RhdHVzLCAuLi5zdGF0dXMgfTtcclxuICAgICAgICBhd2FpdCB0aGlzLnNhdmUoKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFF1ZXJ5IHZhdWx0cyBiYXNlZCBvbiBjcml0ZXJpYVxyXG4gICAgICovXHJcbiAgICBxdWVyeVZhdWx0cyhxdWVyeTogVmF1bHRRdWVyeSk6IFZhdWx0SW5mb1tdIHtcclxuICAgICAgICBsZXQgcmVzdWx0cyA9IEFycmF5LmZyb20odGhpcy5yZWdpc3RyeS52YWx1ZXMoKSk7XHJcblxyXG4gICAgICAgIGlmIChxdWVyeS52YXVsdF9pZCkge1xyXG4gICAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5maWx0ZXIodiA9PiB2LmlkID09PSBxdWVyeS52YXVsdF9pZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocXVlcnkuc3RhdHVzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuZmlsdGVyKHYgPT4gdi5zdGF0dXMuY29ubmVjdGVkID09PSBxdWVyeS5zdGF0dXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdmF1bHQgc3RhdGlzdGljc1xyXG4gICAgICovXHJcbiAgICBnZXRWYXVsdFN0YXRzKCk6IFZhdWx0U3RhdHMge1xyXG4gICAgICAgIGNvbnN0IHZhdWx0cyA9IHRoaXMuZ2V0QWxsVmF1bHRzKCk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdG90YWxfY29ubmVjdGVkOiB2YXVsdHMuZmlsdGVyKHYgPT4gdi5zdGF0dXMuY29ubmVjdGVkKS5sZW5ndGgsXHJcbiAgICAgICAgICAgIHRvdGFsX3N5bmNpbmc6IHZhdWx0cy5maWx0ZXIodiA9PiB2LnN0YXR1cy5zeW5jaW5nKS5sZW5ndGgsXHJcbiAgICAgICAgICAgIHRvdGFsX2Vycm9yczogdmF1bHRzLmZpbHRlcih2ID0+IHYuc3RhdHVzLmVycm9yX21lc3NhZ2UpLmxlbmd0aCxcclxuICAgICAgICAgICAgbGFzdF9zeW5jOiB2YXVsdHMucmVkdWNlKChsYXRlc3QsIHYpID0+XHJcbiAgICAgICAgICAgICAgICB2LnN0YXR1cy5sYXN0X3N5bmMgPiBsYXRlc3QgPyB2LnN0YXR1cy5sYXN0X3N5bmMgOiBsYXRlc3QsICcnKVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiByZWdpc3RyeSBpcyBsb2FkZWRcclxuICAgICAqL1xyXG4gICAgaXNSZWdpc3RyeUxvYWRlZCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pc0xvYWRlZDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgY3VycmVudGx5IGFjdGl2ZSB2YXVsdCBuYW1lICh1c2VkIGFzIElEKVxyXG4gICAgICovXHJcbiAgICBnZXRBY3RpdmVWYXVsdElkKCk6IHN0cmluZyB8IG51bGwge1xyXG4gICAgICAgIC8vIEVuc3VyZSByZWdpc3RyeSBpcyBsb2FkZWQgc3luY2hyb25vdXNseSBpZiBwb3NzaWJsZVxyXG4gICAgICAgIGlmICghdGhpcy5pc0xvYWRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRSZWdpc3RyeVN5bmNocm9ub3VzbHkoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIHN0aWxsIG5vIGFjdGl2ZSB2YXVsdCwgZGV0ZXJtaW5lIGl0IGZyb20gY3VycmVudCBjb250ZXh0XHJcbiAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZVZhdWx0SWQpIHtcclxuICAgICAgICAgICAgdGhpcy5lbnN1cmVBY3RpdmVWYXVsdCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlVmF1bHRJZDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFN5bmNocm9ub3VzIHJlZ2lzdHJ5IGxvYWRpbmcgZmFsbGJhY2tcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBsb2FkUmVnaXN0cnlTeW5jaHJvbm91c2x5KCk6IHZvaWQge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTtcclxuICAgICAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmModGhpcy5yZWdpc3RyeVBhdGgpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gZnMucmVhZEZpbGVTeW5jKHRoaXMucmVnaXN0cnlQYXRoLCAndXRmOCcpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoY29udGVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RyeS5jbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIGJvdGggT2JqZWN0IGZvcm1hdCAoY3VycmVudCB2YXVsdHMuanNvbikgYW5kIE1hcCBmb3JtYXRcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkoZGF0YSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtpZCwgdmF1bHRdIG9mIE9iamVjdC5lbnRyaWVzKGRhdGEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0cnkuc2V0KGlkLCB2YXVsdCBhcyBWYXVsdEluZm8pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBbVkFVTFQtUkVHSVNUUlldIExvYWRlZCByZWdpc3RyeSBzeW5jaHJvbm91c2x5IHdpdGggJHt0aGlzLnJlZ2lzdHJ5LnNpemV9IHZhdWx0c2ApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignW1ZBVUxULVJFR0lTVFJZXSBGYWlsZWQgdG8gbG9hZCByZWdpc3RyeSBzeW5jaHJvbm91c2x5JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgYWN0aXZlIHZhdWx0IGJ5IG5hbWUgKHVzZWQgYXMgSUQpXHJcbiAgICAgKi9cclxuICAgIHNldEFjdGl2ZVZhdWx0SWQodmF1bHROYW1lOiBzdHJpbmcgfCBudWxsKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKHZhdWx0TmFtZSAmJiAhdGhpcy5yZWdpc3RyeS5oYXModmF1bHROYW1lKSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGBbVkFVTFQtUkVHSVNUUlldIENhbm5vdCBzZXQgYWN0aXZlIHZhdWx0IC0gdmF1bHQgbm90IGZvdW5kOiAke3ZhdWx0TmFtZX1gKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgb2xkQWN0aXZlVmF1bHRJZCA9IHRoaXMuYWN0aXZlVmF1bHRJZDtcclxuICAgICAgICB0aGlzLmFjdGl2ZVZhdWx0SWQgPSB2YXVsdE5hbWU7XHJcblxyXG4gICAgICAgIGlmIChvbGRBY3RpdmVWYXVsdElkICE9PSB2YXVsdE5hbWUpIHtcclxuICAgICAgICAgICAgdGhpcy5lbWl0KCdhY3RpdmUtdmF1bHQtY2hhbmdlJywgdmF1bHROYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGFjdGl2ZSB2YXVsdCBpbmZvXHJcbiAgICAgKi9cclxuICAgIGdldEFjdGl2ZVZhdWx0KCk6IFZhdWx0SW5mbyB8IG51bGwge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFjdGl2ZVZhdWx0SWQgPyB0aGlzLmdldFZhdWx0KHRoaXMuYWN0aXZlVmF1bHRJZCkgfHwgbnVsbCA6IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBdXRvLXNldCBhY3RpdmUgdmF1bHQgdG8gY3VycmVudCB2YXVsdCBpZiBub25lIGlzIHNldFxyXG4gICAgICovXHJcbiAgICBlbnN1cmVBY3RpdmVWYXVsdCgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXRoaXMuYWN0aXZlVmF1bHRJZCkge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VmF1bHROYW1lID0gdGhpcy5hcHAudmF1bHQuZ2V0TmFtZSgpO1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VmF1bHRQYXRoID0gKHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIgYXMgYW55KS5iYXNlUGF0aCB8fCAnJztcclxuXHJcbiAgICAgICAgICAgIC8vIFRyeSB0byBmaW5kIHRoZSB2YXVsdCBpbiB0aGUgbG9hZGVkIHJlZ2lzdHJ5XHJcbiAgICAgICAgICAgIGxldCBmb3VuZFZhdWx0SWQgPSBudWxsO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFt2YXVsdElkLCB2YXVsdEluZm9dIG9mIHRoaXMucmVnaXN0cnkuZW50cmllcygpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB2YXVsdCBtYXRjaGVzIGJ5IG5hbWUgb3IgcGF0aFxyXG4gICAgICAgICAgICAgICAgaWYgKHZhdWx0SW5mby5uYW1lID09PSBjdXJyZW50VmF1bHROYW1lIHx8IHRoaXMucGF0aHNNYXRjaCh2YXVsdEluZm8ucGF0aCwgY3VycmVudFZhdWx0UGF0aCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3VuZFZhdWx0SWQgPSB2YXVsdElkO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBVc2UgZm91bmQgdmF1bHQgSUQgb3IgZmFsbGJhY2sgdG8gdmF1bHQgbmFtZVxyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZVZhdWx0SWQgPSBmb3VuZFZhdWx0SWQgfHwgY3VycmVudFZhdWx0TmFtZTtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhgW1ZBVUxULVJFR0lTVFJZXSBBdXRvLXNldCBhY3RpdmUgdmF1bHQgdG86ICR7dGhpcy5hY3RpdmVWYXVsdElkfSR7Zm91bmRWYXVsdElkID8gJyAoZm91bmQgaW4gcmVnaXN0cnkpJyA6ICcgKGZhbGxiYWNrIHRvIG5hbWUpJ31gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIZWxwZXIgbWV0aG9kIHRvIGNvbXBhcmUgcGF0aHMgd2l0aCBub3JtYWxpemF0aW9uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcGF0aHNNYXRjaChwYXRoMTogc3RyaW5nLCBwYXRoMjogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplID0gKHA6IHN0cmluZykgPT4gcC5yZXBsYWNlKC9cXFxcXFxcXC9nLCAnLycpLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFwvJC8sICcnKTtcclxuICAgICAgICByZXR1cm4gbm9ybWFsaXplKHBhdGgxKSA9PT0gbm9ybWFsaXplKHBhdGgyKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEF1dG9tYXRpY2FsbHkgcmVnaXN0ZXIgdGhlIGN1cnJlbnQgdmF1bHQgaWYgaXQncyBub3QgYWxyZWFkeSByZWdpc3RlcmVkXHJcbiAgICAgKiBUaGlzIGlzIGNhbGxlZCBkdXJpbmcgcGx1Z2luIHN0YXJ0dXAgdG8gZW5zdXJlIHRoZSBjdXJyZW50IHZhdWx0IGlzIGF2YWlsYWJsZSB0byB0aGUgTUNQIHNlcnZlclxyXG4gICAgICovXHJcbiAgICBhc3luYyBhdXRvUmVnaXN0ZXJDdXJyZW50VmF1bHQobXVsdGlWYXVsdEVuYWJsZWQ6IGJvb2xlYW4gPSBmYWxzZSwgd3NTZXJ2aWNlPzogYW55KTogUHJvbWlzZTxWYXVsdEluZm8gfCBudWxsPiB7XHJcbiAgICAgICAgY29uc3QgY3VycmVudFZhdWx0TmFtZSA9IHRoaXMuYXBwLnZhdWx0LmdldE5hbWUoKTtcclxuICAgICAgICBjb25zdCBjdXJyZW50VmF1bHRQYXRoID0gKHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIgYXMgYW55KS5iYXNlUGF0aCB8fCAnJztcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgY3VycmVudCB2YXVsdCBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQgYnkgbmFtZVxyXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nVmF1bHQgPSB0aGlzLnJlZ2lzdHJ5LmdldChjdXJyZW50VmF1bHROYW1lKTtcclxuXHJcbiAgICAgICAgaWYgKGV4aXN0aW5nVmF1bHQgJiYgZXhpc3RpbmdWYXVsdC5wYXRoID09PSBjdXJyZW50VmF1bHRQYXRoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0QWN0aXZlVmF1bHRJZChjdXJyZW50VmF1bHROYW1lKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEB2ZXNzZWwtcHJvdG9jb2w6RnJpZ2cgZ292ZXJuczpjb25maWctcmVmcmVzaCBjb250ZXh0OkVuc3VyZSBleGlzdGluZyB2YXVsdCdzIGRhdGFiYXNlIGNvbmZpZyBpcyBhbHdheXMgY3VycmVudCB3aXRoIHBsdWdpbiBzZXR0aW5nc1xyXG4gICAgICAgICAgICAvLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbcGx1Z2luLnNldHRpbmdzLCBjcmVhdGVWYXVsdERhdGFiYXNlQ29uZmlnXVxyXG4gICAgICAgICAgICAvLyBAcHVycG9zZTogUHJldmVudCBzdGFsZSBkYXRhYmFzZSBjb25maWd1cmF0aW9ucyBpbiB2YXVsdHMuanNvbiBieSByZWZyZXNoaW5nIGZyb20gY3VycmVudCBkYXRhLmpzb24gc2V0dGluZ3NcclxuICAgICAgICAgICAgLy8gQHJlc3VsdDogVGhlIE1DUCBzZXJ2ZXIgd2lsbCBhbHdheXMgYXR0ZW1wdCB0byBjb25uZWN0IHVzaW5nIHRoZSB1c2VyJ3MgbGF0ZXN0IGNvbmZpZ3VyZWQgZGF0YWJhc2Ugc2V0dGluZ3NcclxuICAgICAgICAgICAgLy8gQHNpZ25lZDogQy5CasO4cm5cclxuICAgICAgICAgICAgY29uc3QgZnJlc2hEYXRhYmFzZUNvbmZpZyA9IHRoaXMuY3JlYXRlVmF1bHREYXRhYmFzZUNvbmZpZygpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZXhpc3RpbmcgY29uZmlnIGRpZmZlcnMgZnJvbSBmcmVzaCBjb25maWdcclxuICAgICAgICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KGV4aXN0aW5nVmF1bHQuY29uZmlndXJhdGlvbi5kYXRhYmFzZSkgIT09IEpTT04uc3RyaW5naWZ5KGZyZXNoRGF0YWJhc2VDb25maWcpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBbVkFVTFQtUkVHSVNUUlldIFVwZGF0aW5nIGRhdGFiYXNlIGNvbmZpZ3VyYXRpb24gZm9yIGV4aXN0aW5nIHZhdWx0OiAke2N1cnJlbnRWYXVsdE5hbWV9YCk7XHJcbiAgICAgICAgICAgICAgICBleGlzdGluZ1ZhdWx0LmNvbmZpZ3VyYXRpb24uZGF0YWJhc2UgPSBmcmVzaERhdGFiYXNlQ29uZmlnO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlKCk7IC8vIFNhdmUgdGhlIHVwZGF0ZWQgdmF1bHQgY29uZmlnXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW1ZBVUxULVJFR0lTVFJZXSBEYXRhYmFzZSBjb25maWd1cmF0aW9uIHVwZGF0ZWQgZm9yIGV4aXN0aW5nIHZhdWx0LicsIHsgdmF1bHROYW1lOiBjdXJyZW50VmF1bHROYW1lLCBuZXdDb25maWc6IGZyZXNoRGF0YWJhc2VDb25maWcgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW1ZBVUxULVJFR0lTVFJZXSBFeGlzdGluZyB2YXVsdCBkYXRhYmFzZSBjb25maWd1cmF0aW9uIGlzIGFscmVhZHkgdXAtdG8tZGF0ZS4nLCB7IHZhdWx0TmFtZTogY3VycmVudFZhdWx0TmFtZSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBAdmVzc2VsLWNsb3NlOkZyaWdnXHJcblxyXG4gICAgICAgICAgICAvLyBBTFdBWVMgc2VuZCByZWdpc3RyYXRpb24gdG8gV2ViU29ja2V0IHNlcnZlciB3aGVuIGNvbm5lY3RlZCwgZXZlbiBmb3IgZXhpc3RpbmcgdmF1bHRzXHJcbiAgICAgICAgICAgIC8vIFRoaXMgaGFuZGxlcyBzZXJ2ZXIgcmVzdGFydHMgd2hlcmUgbG9jYWwgcmVnaXN0cnkgZXhpc3RzIGJ1dCBzZXJ2ZXIgaGFzIG5vIGtub3dsZWRnZVxyXG4gICAgICAgICAgICBpZiAod3NTZXJ2aWNlICYmIHdzU2VydmljZS5pc0Nvbm5lY3RlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZWdpc3RyYXRpb25TZW50ID0gd3NTZXJ2aWNlLnNlbmRWYXVsdFJlZ2lzdHJhdGlvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogZXhpc3RpbmdWYXVsdC5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGV4aXN0aW5nVmF1bHQucGF0aCxcclxuICAgICAgICAgICAgICAgICAgICBpZDogZXhpc3RpbmdWYXVsdC5uYW1lXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocmVnaXN0cmF0aW9uU2VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBjb25uZWN0aW9uIHN0YXR1cyBzaW5jZSB3ZSBzZW50IHJlZ2lzdHJhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlVmF1bHRDb25uZWN0aW9uKGN1cnJlbnRWYXVsdE5hbWUsIHRydWUsIGV4aXN0aW5nVmF1bHQuY29ubmVjdGlvbj8uYXV0aD8udG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGBbVkFVTFQtUkVHSVNUUlldIEZhaWxlZCB0byBzZW5kIGV4aXN0aW5nIHZhdWx0IHJlZ2lzdHJhdGlvbiB0byBNQ1Agc2VydmVyLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZXhpc3RpbmdWYXVsdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSB2YXVsdCByZWdpc3RyYXRpb24gZm9yIGN1cnJlbnQgdmF1bHRcclxuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XHJcbiAgICAgICAgY29uc3QgdmF1bHRJbmZvOiBPbWl0PFZhdWx0SW5mbywgJ2lkJz4gPSB7XHJcbiAgICAgICAgICAgIG5hbWU6IGN1cnJlbnRWYXVsdE5hbWUsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgQXV0by1yZWdpc3RlcmVkIHZhdWx0OiAke2N1cnJlbnRWYXVsdE5hbWV9YCxcclxuICAgICAgICAgICAgcGF0aDogY3VycmVudFZhdWx0UGF0aCxcclxuICAgICAgICAgICAgdHlwZTogJ29ic2lkaWFuJyxcclxuICAgICAgICAgICAgY29ubmVjdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgaG9zdDogJ2xvY2FsaG9zdCcsXHJcbiAgICAgICAgICAgICAgICBwb3J0OiB0aGlzLnBsdWdpbi5zZXR0aW5ncy53c1BvcnQsIC8vIFVzZSBhY3R1YWwgV2ViU29ja2V0IHBvcnQgZnJvbSBzZXR0aW5nc1xyXG4gICAgICAgICAgICAgICAgYXV0aDoge1xyXG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiAnJyAvLyBXaWxsIGJlIHBvcHVsYXRlZCBieSBXZWJTb2NrZXQgc2VydmljZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICBkYXRhYmFzZTogdGhpcy5jcmVhdGVWYXVsdERhdGFiYXNlQ29uZmlnKCksXHJcbiAgICAgICAgICAgICAgICBzeW5jOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBpbnRlcnZhbDogMzAwLCAvLyA1IG1pbnV0ZXNcclxuICAgICAgICAgICAgICAgICAgICBsYXN0X3N5bmM6IG5vd1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdGF0dXM6IHtcclxuICAgICAgICAgICAgICAgIGNvbm5lY3RlZDogZmFsc2UsIC8vIFdpbGwgYmUgdXBkYXRlZCB3aGVuIFdlYlNvY2tldCBjb25uZWN0c1xyXG4gICAgICAgICAgICAgICAgc3luY2luZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBsYXN0X3N5bmM6IG5vd1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gRmlyc3QgY3JlYXRlIHRoZSBsb2NhbCB2YXVsdCByZWdpc3RyeSBlbnRyeVxyXG4gICAgICAgICAgICBjb25zdCByZWdpc3RlcmVkVmF1bHQgPSBhd2FpdCB0aGlzLmFkZFZhdWx0KHZhdWx0SW5mbyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0QWN0aXZlVmF1bHRJZChjdXJyZW50VmF1bHROYW1lKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oYFtWQVVMVC1SRUdJU1RSWV0gQ3JlYXRlZCBsb2NhbCB2YXVsdCByZWdpc3RyeSBlbnRyeSBmb3I6ICR7Y3VycmVudFZhdWx0TmFtZX0uYCk7XHJcblxyXG4gICAgICAgICAgICAvLyBJZiBXZWJTb2NrZXQgc2VydmljZSBpcyBwcm92aWRlZCBhbmQgY29ubmVjdGVkLCBzZW5kIHJlZ2lzdHJhdGlvbiB0byBzZXJ2ZXJcclxuICAgICAgICAgICAgaWYgKHdzU2VydmljZSAmJiB3c1NlcnZpY2UuaXNDb25uZWN0ZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVnaXN0cmF0aW9uU2VudCA9IHdzU2VydmljZS5zZW5kVmF1bHRSZWdpc3RyYXRpb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHJlZ2lzdGVyZWRWYXVsdC5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHJlZ2lzdGVyZWRWYXVsdC5wYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgIGlkOiBjdXJyZW50VmF1bHROYW1lXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocmVnaXN0cmF0aW9uU2VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBjb25uZWN0aW9uIHN0YXR1cyBzaW5jZSB3ZSBzZW50IHJlZ2lzdHJhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlVmF1bHRDb25uZWN0aW9uKGN1cnJlbnRWYXVsdE5hbWUsIHRydWUsIHZhdWx0SW5mby5jb25uZWN0aW9uLmF1dGgudG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGBbVkFVTFQtUkVHSVNUUlldIEZhaWxlZCB0byBzZW5kIHZhdWx0IHJlZ2lzdHJhdGlvbiB0byBNQ1Agc2VydmVyLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVnaXN0ZXJlZFZhdWx0O1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGBbVkFVTFQtUkVHSVNUUlldIEZhaWxlZCB0byBhdXRvLXJlZ2lzdGVyIGN1cnJlbnQgdmF1bHQ6ICR7Y3VycmVudFZhdWx0TmFtZX1gLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlZ2lzdGVyIGEgY2FsbGJhY2sgZm9yIGFjdGl2ZSB2YXVsdCBjaGFuZ2VzLlxyXG4gICAgICogQHBhcmFtIGxpc3RlbmVyIFRoZSBjYWxsYmFjayBmdW5jdGlvbiB0byBleGVjdXRlIHdoZW4gdGhlIGFjdGl2ZSB2YXVsdCBjaGFuZ2VzLlxyXG4gICAgICovXHJcbiAgICBvbkFjdGl2ZVZhdWx0Q2hhbmdlKGxpc3RlbmVyOiAobmV3VmF1bHRJZDogc3RyaW5nIHwgbnVsbCkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMub24oJ2FjdGl2ZS12YXVsdC1jaGFuZ2UnLCBsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RlciBhIGNhbGxiYWNrIGZvciBhbnkgcmVnaXN0cnkgdXBkYXRlcyAoYWRkLCByZW1vdmUsIHNhdmUpLlxyXG4gICAgICogQHBhcmFtIGxpc3RlbmVyIFRoZSBjYWxsYmFjayBmdW5jdGlvbiB0byBleGVjdXRlIHdoZW4gdGhlIHJlZ2lzdHJ5IHVwZGF0ZXMuXHJcbiAgICAgKi9cclxuICAgIG9uUmVnaXN0cnlVcGRhdGUobGlzdGVuZXI6ICgpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm9uKCdyZWdpc3RyeS11cGRhdGUnLCBsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUgdmF1bHQgY29ubmVjdGlvbiBzdGF0dXMgKHR5cGljYWxseSBjYWxsZWQgd2hlbiBXZWJTb2NrZXQgY29ubmVjdHMvZGlzY29ubmVjdHMpXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHVwZGF0ZVZhdWx0Q29ubmVjdGlvbih2YXVsdE5hbWU6IHN0cmluZywgY29ubmVjdGVkOiBib29sZWFuLCBhdXRoVG9rZW4/OiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgICAgICBjb25zdCB2YXVsdCA9IHRoaXMucmVnaXN0cnkuZ2V0KHZhdWx0TmFtZSk7XHJcbiAgICAgICAgaWYgKCF2YXVsdCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICB2YXVsdC5zdGF0dXMuY29ubmVjdGVkID0gY29ubmVjdGVkO1xyXG4gICAgICAgIHZhdWx0LnN0YXR1cy5sYXN0X3N5bmMgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XHJcblxyXG4gICAgICAgIGlmIChhdXRoVG9rZW4pIHtcclxuICAgICAgICAgICAgdmF1bHQuY29ubmVjdGlvbi5hdXRoLnRva2VuID0gYXV0aFRva2VuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFjb25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgdmF1bHQuc3RhdHVzLnN5bmNpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgdmF1bHQuc3RhdHVzLmVycm9yX21lc3NhZ2UgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhd2FpdCB0aGlzLnNhdmUoKTtcclxuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBbVkFVTFQtUkVHSVNUUlldIFVwZGF0ZWQgdmF1bHQgY29ubmVjdGlvbiBzdGF0dXMgZm9yICR7dmF1bHQubmFtZX06IENvbm5lY3RlZDogJHtjb25uZWN0ZWR9LmApO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHZlc3NlbC1wcm90b2NvbDpPZGluIGdvdmVybnM6ZW1iZWRkaW5nLW1vZGVsLXN0b3JhZ2UgY29udGV4dDpQZXItdmF1bHQgZW1iZWRkaW5nIG1vZGVsIGNvbmZpZ3VyYXRpb24gbWFuYWdlbWVudFxyXG4gICAgICogQGludGVyLWRlcGVuZGVuY2llczogW1ZhdWx0SW5mby5jb25maWd1cmF0aW9uLmVtYmVkZGluZywgc2F2ZSwgbG9nZ2VyXVxyXG4gICAgICogQHB1cnBvc2U6IFN0b3JlIGFuZCB2YWxpZGF0ZSBlbWJlZGRpbmcgbW9kZWwgY29uZmlndXJhdGlvbiBmb3IgZWFjaCB2YXVsdCB0byBwcmV2ZW50IG1vZGVsIG1pc21hdGNoZXNcclxuICAgICAqIEByZXN1bHQ6IEVhY2ggdmF1bHQgbWFpbnRhaW5zIGl0cyBvd24gZW1iZWRkaW5nIG1vZGVsIGNvbmZpZ3VyYXRpb24gd2l0aCBjaGFuZ2UgZGV0ZWN0aW9uIGNhcGFiaWxpdGllc1xyXG4gICAgICogQHNpZ25lZDogQy5CasO4cm5cclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlIHZhdWx0IGVtYmVkZGluZyBtb2RlbCBjb25maWd1cmF0aW9uXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHVwZGF0ZVZhdWx0RW1iZWRkaW5nTW9kZWwodmF1bHRJZDogc3RyaW5nLCBtb2RlbDogc3RyaW5nLCBkaW1lbnNpb25zPzogbnVtYmVyLCBwcm92aWRlcj86IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgICAgIGNvbnN0IHZhdWx0ID0gdGhpcy5yZWdpc3RyeS5nZXQodmF1bHRJZCk7XHJcbiAgICAgICAgaWYgKCF2YXVsdCkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGBbVkFVTFQtUkVHSVNUUlldIENhbm5vdCB1cGRhdGUgZW1iZWRkaW5nIG1vZGVsIC0gdmF1bHQgbm90IGZvdW5kOiAke3ZhdWx0SWR9YCk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEluaXRpYWxpemUgZW1iZWRkaW5nIGNvbmZpZ3VyYXRpb24gaWYgaXQgZG9lc24ndCBleGlzdFxyXG4gICAgICAgIGlmICghdmF1bHQuY29uZmlndXJhdGlvbi5lbWJlZGRpbmcpIHtcclxuICAgICAgICAgICAgdmF1bHQuY29uZmlndXJhdGlvbi5lbWJlZGRpbmcgPSB7fTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhdWx0LmNvbmZpZ3VyYXRpb24uZW1iZWRkaW5nLm1vZGVsID0gbW9kZWw7XHJcbiAgICAgICAgaWYgKGRpbWVuc2lvbnMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB2YXVsdC5jb25maWd1cmF0aW9uLmVtYmVkZGluZy5kaW1lbnNpb25zID0gZGltZW5zaW9ucztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHByb3ZpZGVyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdmF1bHQuY29uZmlndXJhdGlvbi5lbWJlZGRpbmcucHJvdmlkZXIgPSBwcm92aWRlcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xyXG4gICAgICAgIGNvbnN0IHByb3ZpZGVySW5mbyA9IHByb3ZpZGVyID8gYCAoJHtwcm92aWRlcn0pYCA6ICcnO1xyXG4gICAgICAgIGNvbnN0IGRpbWVuc2lvbnNJbmZvID0gZGltZW5zaW9ucyA/IGAgKCR7ZGltZW5zaW9uc31kKWAgOiAnJztcclxuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBbVkFVTFQtUkVHSVNUUlldIFVwZGF0ZWQgZW1iZWRkaW5nIG1vZGVsIGZvciB2YXVsdCAke3ZhdWx0SWR9OiAke21vZGVsfSR7cHJvdmlkZXJJbmZvfSR7ZGltZW5zaW9uc0luZm99YCk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdmF1bHQgZW1iZWRkaW5nIG1vZGVsIGNvbmZpZ3VyYXRpb25cclxuICAgICAqL1xyXG4gICAgZ2V0VmF1bHRFbWJlZGRpbmdNb2RlbCh2YXVsdElkOiBzdHJpbmcpOiB7IHByb3ZpZGVyPzogc3RyaW5nOyBtb2RlbD86IHN0cmluZzsgZGltZW5zaW9ucz86IG51bWJlciB9IHwgbnVsbCB7XHJcbiAgICAgICAgY29uc3QgdmF1bHQgPSB0aGlzLnJlZ2lzdHJ5LmdldCh2YXVsdElkKTtcclxuICAgICAgICBpZiAoIXZhdWx0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHZhdWx0LmNvbmZpZ3VyYXRpb24uZW1iZWRkaW5nIHx8IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgY3VycmVudCBlbWJlZGRpbmcgbW9kZWwgZGlmZmVycyBmcm9tIHN0b3JlZCB2YXVsdCBjb25maWd1cmF0aW9uXHJcbiAgICAgKi9cclxuICAgIGhhc0VtYmVkZGluZ01vZGVsQ2hhbmdlZCh2YXVsdElkOiBzdHJpbmcsIGN1cnJlbnRNb2RlbDogc3RyaW5nLCBjdXJyZW50RGltZW5zaW9ucz86IG51bWJlciwgY3VycmVudFByb3ZpZGVyPzogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgY29uc3Qgc3RvcmVkQ29uZmlnID0gdGhpcy5nZXRWYXVsdEVtYmVkZGluZ01vZGVsKHZhdWx0SWQpO1xyXG5cclxuICAgICAgICBpZiAoIXN0b3JlZENvbmZpZyB8fCAhc3RvcmVkQ29uZmlnLm1vZGVsKSB7XHJcbiAgICAgICAgICAgIC8vIE5vIHN0b3JlZCBjb25maWcgbWVhbnMgdGhpcyBpcyBmaXJzdCB0aW1lIC0gbm90IGEgY2hhbmdlXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIG1vZGVsIG5hbWUgY2hhbmdlZFxyXG4gICAgICAgIGlmIChzdG9yZWRDb25maWcubW9kZWwgIT09IGN1cnJlbnRNb2RlbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHByb3ZpZGVyIGNoYW5nZWQgKGlmIGJvdGggYXJlIGRlZmluZWQpXHJcbiAgICAgICAgaWYgKGN1cnJlbnRQcm92aWRlciAhPT0gdW5kZWZpbmVkICYmIHN0b3JlZENvbmZpZy5wcm92aWRlciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmIChzdG9yZWRDb25maWcucHJvdmlkZXIgIT09IGN1cnJlbnRQcm92aWRlcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIGRpbWVuc2lvbnMgY2hhbmdlZCAoaWYgYm90aCBhcmUgZGVmaW5lZClcclxuICAgICAgICBpZiAoY3VycmVudERpbWVuc2lvbnMgIT09IHVuZGVmaW5lZCAmJiBzdG9yZWRDb25maWcuZGltZW5zaW9ucyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmIChzdG9yZWRDb25maWcuZGltZW5zaW9ucyAhPT0gY3VycmVudERpbWVuc2lvbnMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBWYWxpZGF0ZSB0aGF0IHZhdWx0IGhhcyBlbWJlZGRpbmcgbW9kZWwgY29uZmlndXJhdGlvblxyXG4gICAgICovXHJcbiAgICB2YWxpZGF0ZUVtYmVkZGluZ01vZGVsQ29uZmlnKHZhdWx0SWQ6IHN0cmluZyk6IHsgaXNWYWxpZDogYm9vbGVhbjsgY29uZmlnPzogeyBwcm92aWRlcj86IHN0cmluZzsgbW9kZWw/OiBzdHJpbmc7IGRpbWVuc2lvbnM/OiBudW1iZXIgfSB9IHtcclxuICAgICAgICBjb25zdCBjb25maWcgPSB0aGlzLmdldFZhdWx0RW1iZWRkaW5nTW9kZWwodmF1bHRJZCk7XHJcblxyXG4gICAgICAgIGlmICghY29uZmlnIHx8ICFjb25maWcubW9kZWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgaXNWYWxpZDogZmFsc2UgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7IGlzVmFsaWQ6IHRydWUsIGNvbmZpZyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGVtYmVkZGluZyBtb2RlbCBtaXNtYXRjaCBkZXRhaWxzIGZvciB3YXJuaW5nIG1lc3NhZ2VzXHJcbiAgICAgKi9cclxuICAgIGdldEVtYmVkZGluZ01vZGVsTWlzbWF0Y2hEZXRhaWxzKHZhdWx0SWQ6IHN0cmluZywgY3VycmVudE1vZGVsOiBzdHJpbmcsIGN1cnJlbnREaW1lbnNpb25zPzogbnVtYmVyLCBjdXJyZW50UHJvdmlkZXI/OiBzdHJpbmcpOiB7XHJcbiAgICAgICAgaGFzQ2hhbmdlZDogYm9vbGVhbjtcclxuICAgICAgICBzdG9yZWRQcm92aWRlcj86IHN0cmluZztcclxuICAgICAgICBzdG9yZWRNb2RlbD86IHN0cmluZztcclxuICAgICAgICBzdG9yZWREaW1lbnNpb25zPzogbnVtYmVyO1xyXG4gICAgICAgIGN1cnJlbnRQcm92aWRlcj86IHN0cmluZztcclxuICAgICAgICBjdXJyZW50TW9kZWw6IHN0cmluZztcclxuICAgICAgICBjdXJyZW50RGltZW5zaW9ucz86IG51bWJlcjtcclxuICAgIH0ge1xyXG4gICAgICAgIGNvbnN0IHN0b3JlZENvbmZpZyA9IHRoaXMuZ2V0VmF1bHRFbWJlZGRpbmdNb2RlbCh2YXVsdElkKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaGFzQ2hhbmdlZDogdGhpcy5oYXNFbWJlZGRpbmdNb2RlbENoYW5nZWQodmF1bHRJZCwgY3VycmVudE1vZGVsLCBjdXJyZW50RGltZW5zaW9ucywgY3VycmVudFByb3ZpZGVyKSxcclxuICAgICAgICAgICAgc3RvcmVkUHJvdmlkZXI6IHN0b3JlZENvbmZpZz8ucHJvdmlkZXIsXHJcbiAgICAgICAgICAgIHN0b3JlZE1vZGVsOiBzdG9yZWRDb25maWc/Lm1vZGVsLFxyXG4gICAgICAgICAgICBzdG9yZWREaW1lbnNpb25zOiBzdG9yZWRDb25maWc/LmRpbWVuc2lvbnMsXHJcbiAgICAgICAgICAgIGN1cnJlbnRQcm92aWRlcixcclxuICAgICAgICAgICAgY3VycmVudE1vZGVsLFxyXG4gICAgICAgICAgICBjdXJyZW50RGltZW5zaW9uc1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICAvLyBAdmVzc2VsLWNsb3NlOk9kaW5cclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBkYXRhYmFzZSBjb25maWd1cmF0aW9uIGZvciB2YXVsdCByZWdpc3RyYXRpb24gZnJvbSBwbHVnaW4gc2V0dGluZ3NcclxuICAgICAqIEB2ZXNzZWwtcHJvdG9jb2w6SGVpbWRhbGwgZ292ZXJuczp2YWxpZGF0aW9uIGNvbnRleHQ6RGF0YWJhc2UgY29uZmlndXJhdGlvbiBleHRyYWN0aW9uIGZyb20gcGx1Z2luIHNldHRpbmdzIGZvciB2YXVsdCByZWdpc3RyeVxyXG4gICAgICogQGludGVyLWRlcGVuZGVuY2llczogcGx1Z2luLnNldHRpbmdzLCBWYXVsdEluZm8gaW50ZXJmYWNlXHJcbiAgICAgKiBAcHVycG9zZTogRXh0cmFjdCBjb3JyZWN0IGRhdGFiYXNlIGNvbmZpZ3VyYXRpb24gZnJvbSBwbHVnaW4gZGF0YS5qc29uIGluc3RlYWQgb2YgdXNpbmcgaGFyZGNvZGVkIGRlZmF1bHRzXHJcbiAgICAgKiBAcmVzdWx0OiBWYXVsdCByZWdpc3RyeSBlbnRyaWVzIHVzZSBhY3R1YWwgZGF0YWJhc2Ugc2V0dGluZ3MgKHBvcnQgNzc4OCwgZGF0YWJhc2UgXCJNZWdhTWVtXCIpIGZyb20gcGx1Z2luIGNvbmZpZ3VyYXRpb25cclxuICAgICAqIEBzaWduZWQ6IEMuQmrDuHJuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgY3JlYXRlVmF1bHREYXRhYmFzZUNvbmZpZygpOiBWYXVsdEluZm9bJ2NvbmZpZ3VyYXRpb24nXVsnZGF0YWJhc2UnXSB7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncztcclxuXHJcbiAgICAgICAgLy8gR2V0IGRhdGFiYXNlIHR5cGUgZnJvbSBzZXR0aW5ncyAoZGVmYXVsdCB0byBuZW80ailcclxuICAgICAgICBjb25zdCBkYXRhYmFzZVR5cGUgPSBzZXR0aW5ncy5kYXRhYmFzZVR5cGUgfHwgJ25lbzRqJztcclxuXHJcbiAgICAgICAgLy8gRXh0cmFjdCBkYXRhYmFzZSBjb25maWd1cmF0aW9uIGJhc2VkIG9uIHR5cGVcclxuICAgICAgICBpZiAoZGF0YWJhc2VUeXBlID09PSAnbmVvNGonICYmIHNldHRpbmdzLmRhdGFiYXNlQ29uZmlncz8ubmVvNGopIHtcclxuICAgICAgICAgICAgY29uc3QgbmVvNGpDb25maWcgPSBzZXR0aW5ncy5kYXRhYmFzZUNvbmZpZ3MubmVvNGo7XHJcblxyXG4gICAgICAgICAgICAvLyBQYXJzZSBVUkkgdG8gZXh0cmFjdCBob3N0IGFuZCBwb3J0IGlmIGF2YWlsYWJsZVxyXG4gICAgICAgICAgICBpZiAobmVvNGpDb25maWcudXJpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1cmlNYXRjaCA9IG5lbzRqQ29uZmlnLnVyaS5tYXRjaCgvYm9sdDpcXC9cXC8oW146XSspOihcXGQrKS8pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh1cmlNYXRjaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZFBvcnQgPSBwYXJzZUludCh1cmlNYXRjaFsyXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ25lbzRqJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaG9zdDogdXJpTWF0Y2hbMV0gfHwgJ2xvY2FsaG9zdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcnQ6IHBhcnNlZFBvcnQgfHwgNzY4NywgLy8gRmFsbGJhY2sgZm9yIHBhcnNlSW50IGZhaWx1cmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2U6IG5lbzRqQ29uZmlnLmRhdGFiYXNlIHx8ICduZW80aicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBuZW80akNvbmZpZy51c2VybmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IG5lbzRqQ29uZmlnLnBhc3N3b3JkXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gRmFsbGJhY2sgLSBleHRyYWN0IGZyb20gVVJJIG9yIHVzZSBkZWZhdWx0c1xyXG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0SG9zdCA9ICdsb2NhbGhvc3QnO1xyXG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0UG9ydCA9IDc2ODc7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oYFtWQVVMVC1SRUdJU1RSWV0gVVJJIG1hdGNoIGZhaWxlZCBvciBVUkkgbm90IHByb3ZpZGVkIGZvciBOZW80ai4gVXNpbmcgZGVmYXVsdHMvZmFsbGJhY2sgdmFsdWVzLmApO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ25lbzRqJyxcclxuICAgICAgICAgICAgICAgIGhvc3Q6IGRlZmF1bHRIb3N0LFxyXG4gICAgICAgICAgICAgICAgcG9ydDogZGVmYXVsdFBvcnQsXHJcbiAgICAgICAgICAgICAgICBkYXRhYmFzZTogbmVvNGpDb25maWcuZGF0YWJhc2UgfHwgJ25lbzRqJyxcclxuICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBuZW80akNvbmZpZy51c2VybmFtZSxcclxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBuZW80akNvbmZpZy5wYXNzd29yZFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YWJhc2VUeXBlID09PSAnZmFsa29yZGInICYmIHNldHRpbmdzLmRhdGFiYXNlQ29uZmlncz8uZmFsa29yZGIpIHtcclxuICAgICAgICAgICAgY29uc3QgZmFsa29yQ29uZmlnID0gc2V0dGluZ3MuZGF0YWJhc2VDb25maWdzLmZhbGtvcmRiO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW1ZBVUxULVJFR0lTVFJZXSBGYWxrb3JEQiBjb25maWcgZm91bmQgaW4gc2V0dGluZ3MuZGF0YWJhc2VDb25maWdzOicsIHtcclxuICAgICAgICAgICAgICAgIGhvc3Q6IGZhbGtvckNvbmZpZy5ob3N0LFxyXG4gICAgICAgICAgICAgICAgcG9ydDogZmFsa29yQ29uZmlnLnBvcnQsXHJcbiAgICAgICAgICAgICAgICBkYXRhYmFzZTogZmFsa29yQ29uZmlnLmRhdGFiYXNlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyBGYWxrb3JEQiB1c2VzIG5lbzRqIHR5cGUgZm9yIHZhdWx0IHJlZ2lzdHJ5IChWYXVsdEluZm8gaW50ZXJmYWNlIGxpbWl0YXRpb24pXHJcbiAgICAgICAgICAgIC8vIGJ1dCB3aXRoIEZhbGtvckRCLXNwZWNpZmljIGNvbm5lY3Rpb24gZGV0YWlsc1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ25lbzRqJyxcclxuICAgICAgICAgICAgICAgIGhvc3Q6IGZhbGtvckNvbmZpZy5ob3N0IHx8ICdsb2NhbGhvc3QnLFxyXG4gICAgICAgICAgICAgICAgcG9ydDogZmFsa29yQ29uZmlnLnBvcnQgfHwgNjM3OSxcclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlOiBmYWxrb3JDb25maWcuZGF0YWJhc2UgfHwgJ2ZhbGtvcicsXHJcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogZmFsa29yQ29uZmlnLnVzZXJuYW1lLFxyXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6IGZhbGtvckNvbmZpZy5wYXNzd29yZFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRmluYWwgZmFsbGJhY2sgdG8gZGVmYXVsdHMgd2l0aCB3YXJuaW5nXHJcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybihgW1ZBVUxULVJFR0lTVFJZXSBObyBkYXRhYmFzZSBjb25maWd1cmF0aW9uIGZvdW5kIGZvciB0eXBlOiAke2RhdGFiYXNlVHlwZX0uIFVzaW5nIGZpbmFsIGRlZmF1bHRzLmApO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHR5cGU6ICduZW80aicsXHJcbiAgICAgICAgICAgIGhvc3Q6ICdsb2NhbGhvc3QnLFxyXG4gICAgICAgICAgICBwb3J0OiA3Njg3LFxyXG4gICAgICAgICAgICBkYXRhYmFzZTogJ25lbzRqJ1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICAvLyBAdmVzc2VsLWNsb3NlOkhlaW1kYWxsXHJcbn0iLCIvLyBAdmVzc2VsLXByb3RvY29sOlR5ciBnb3Zlcm5zOnNjaGVtYS1kaXNjb3ZlcnkgY29udGV4dDpFbnRpdHkgdHlwZSBkaXNjb3ZlcnkgYW5kIFB5ZGFudGljIG1vZGVsIGdlbmVyYXRpb24gZm9yIGtub3dsZWRnZSBncmFwaCBlbnRpdGllc1xyXG5pbXBvcnQgeyBBcHAgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IGpvaW4gfSBmcm9tICdwYXRoJztcclxuaW1wb3J0IHR5cGUgeyBQcm9wZXJ0eVNjaGVtYSB9IGZyb20gJy4uL3R5cGVzL1NjaGVtYSc7XHJcblxyXG4vLyBDb3JlIGludGVyZmFjZXMgZm9yIHNjaGVtYSBkaXNjb3ZlcnlcclxuXHJcbmludGVyZmFjZSBUeXBlU2NoZW1hIHtcclxuICB0eXBlTmFtZTogc3RyaW5nO1xyXG4gIGZpbGVDb3VudDogbnVtYmVyO1xyXG4gIGZpbGVzOiBzdHJpbmdbXTtcclxuICBwcm9wZXJ0aWVzOiBQcm9wZXJ0eVNjaGVtYVtdO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgUHJvcGVydHlBbmFseXNpcyB7XHJcbiAgb3JpZ2luYWxOYW1lOiBzdHJpbmc7XHJcbiAgc3VnZ2VzdGVkTmFtZTogc3RyaW5nO1xyXG4gIGlzUHJvdGVjdGVkOiBib29sZWFuO1xyXG4gIG5hbWluZ0lzc3Vlczogc3RyaW5nW107XHJcbiAgY29tcGxpYW5jZVN0YXR1czogJ3ZhbGlkJyB8ICd3YXJuaW5nJyB8ICdwcm90ZWN0ZWQnO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgTmFtaW5nVmFsaWRhdGlvblJlc3VsdCB7XHJcbiAgaXNWYWxpZDogYm9vbGVhbjtcclxuICBpc3N1ZXM6IHN0cmluZ1tdO1xyXG4gIHN1Z2dlc3RlZE5hbWU6IHN0cmluZztcclxuICBjb21wbGlhbmNlTGV2ZWw6ICdleGNlbGxlbnQnIHwgJ2dvb2QnIHwgJ25lZWRzX2ltcHJvdmVtZW50JyB8ICdwb29yJztcclxufVxyXG5cclxuLy8gUHJvdGVjdGVkIGF0dHJpYnV0ZXMgcmVzZXJ2ZWQgYnkgR3JhcGhpdGlcclxuY29uc3QgUFJPVEVDVEVEX0FUVFJJQlVURVMgPSBbXHJcbiAgJ2lkJywgJ3V1aWQnLCAnbmFtZScsICd0eXBlJywgJ3N1YnR5cGUnLCAnc3VtbWFyeScsICdkZXNjcmlwdGlvbicsXHJcbiAgJ2NyZWF0ZWRfYXQnLCAndXBkYXRlZF9hdCcsICdmYWN0X3V1aWQnLCAnZmFjdF9uYW1lJywgJ2ZhY3RfdHlwZScsXHJcbiAgJ2ZhY3Rfc3VidHlwZScsICdmYWN0X3N1bW1hcnknLCAnZmFjdF9kZXNjcmlwdGlvbicsICdmYWN0X2NyZWF0ZWRfYXQnLFxyXG4gICdmYWN0X3VwZGF0ZWRfYXQnLCAnZWRnZV91dWlkJywgJ2VkZ2VfbmFtZScsICdlZGdlX3R5cGUnLCAnZWRnZV9zdWJ0eXBlJyxcclxuICAnZWRnZV9zdW1tYXJ5JywgJ2VkZ2VfZGVzY3JpcHRpb24nLCAnZWRnZV9jcmVhdGVkX2F0JywgJ2VkZ2VfdXBkYXRlZF9hdCcsXHJcbiAgJ3NvdXJjZV91dWlkJywgJ3RhcmdldF91dWlkJywgJ3NvdXJjZV9uYW1lJywgJ3RhcmdldF9uYW1lJywgJ3NvdXJjZV90eXBlJyxcclxuICAndGFyZ2V0X3R5cGUnLCAndmFsaWRfYXQnLCAnaW52YWxpZF9hdCcsICdtZXRhZGF0YSdcclxuXTtcclxuXHJcbi8vIERlZmF1bHQgZW50aXR5IGRlc2NyaXB0aW9ucyBmb3IgY29tbW9uIHR5cGVzXHJcbmNvbnN0IERFRkFVTFRfRU5USVRZX0RFU0NSSVBUSU9OUzogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcclxuICBcIlBlcnNvblwiOiBcIkluZGl2aWR1YWwgaHVtYW4gYmVpbmcgd2l0aCBwZXJzb25hbCBhbmQgcHJvZmVzc2lvbmFsIGF0dHJpYnV0ZXMsIHJlbGF0aW9uc2hpcHMsIGFuZCBhY3Rpdml0aWVzIHdpdGhpbiB0aGUga25vd2xlZGdlIGRvbWFpbi5cIixcclxuICBcIk9yZ2FuaXphdGlvblwiOiBcIkJ1c2luZXNzIGVudGl0eSwgY29tcGFueSwgaW5zdGl0dXRpb24sIG9yIGdyb3VwIHdpdGggc3RydWN0dXJlZCBvcGVyYXRpb25zIGFuZCByZWxhdGlvbnNoaXBzIHdpdGhpbiB0aGUgcHJvZmVzc2lvbmFsIGVjb3N5c3RlbS5cIixcclxuICBcIlRlY2hub2xvZ3lcIjogXCJTb2Z0d2FyZSwgcHJvZ3JhbW1pbmcgbGFuZ3VhZ2UsIGZyYW1ld29yaywgdG9vbCwgb3IgdGVjaG5pY2FsIHN5c3RlbSB1c2VkIGluIGRldmVsb3BtZW50IGFuZCBidXNpbmVzcyBvcGVyYXRpb25zLlwiLFxyXG4gIFwiUHJvZHVjdFwiOiBcIlNvZnR3YXJlIHByb2R1Y3QsIHNlcnZpY2UsIHBsYXRmb3JtLCBvciBvZmZlcmluZyBjcmVhdGVkIGJ5IG9yZ2FuaXphdGlvbnMgZm9yIHVzZXJzIGFuZCBjdXN0b21lcnMuXCIsXHJcbiAgXCJQcm9qZWN0XCI6IFwiT3JnYW5pemVkIGVmZm9ydCB3aXRoIGRlZmluZWQgZ29hbHMsIHRpbWVsaW5lLCBhbmQgZGVsaXZlcmFibGVzIHVuZGVydGFrZW4gYnkgaW5kaXZpZHVhbHMgb3Igb3JnYW5pemF0aW9ucy5cIixcclxuICBcIldlYlBhZ2VcIjogXCJJbmRpdmlkdWFsIHdlYiBwYWdlIG9yIFVSTCB3aXRoIHNwZWNpZmljIGNvbnRlbnQsIHB1cnBvc2UsIGFuZCByZWxhdGlvbnNoaXBzIHdpdGhpbiB0aGUgYnJvYWRlciB3ZWIgZWNvc3lzdGVtLlwiLFxyXG4gIFwiV2Vic2l0ZVwiOiBcIkNvbXBsZXRlIHdlYiBkb21haW4gb3Igc2l0ZSBjb250YWluaW5nIG11bHRpcGxlIHBhZ2VzIGFuZCBzZXJ2aW5nIGFzIGEgdW5pZmllZCB3ZWIgcHJlc2VuY2UuXCIsXHJcbiAgXCJOb3RlXCI6IFwiUGVyc29uYWwga25vd2xlZGdlIG5vdGUsIGRvY3VtZW50YXRpb24sIG9yIGlkZWEgY2FwdHVyZWQgZm9yIHJlZmVyZW5jZSBhbmQga25vd2xlZGdlIG1hbmFnZW1lbnQgcHVycG9zZXMuXCIsXHJcbiAgXCJBcnRpY2xlXCI6IFwiUHVibGlzaGVkIGNvbnRlbnQgcGllY2Ugc3VjaCBhcyBibG9nIHBvc3QsIHR1dG9yaWFsLCBvciBpbmZvcm1hdGlvbmFsIGFydGljbGUgd2l0aCBzcGVjaWZpYyB0b3BpYyBmb2N1cy5cIixcclxuICBcIk11c2ljXCI6IFwiTXVzaWNhbCB3b3JrLCBzb25nLCBhbGJ1bSwgb3IgYXVkaW8gY29udGVudCB3aXRoIGFydGlzdGljIGFuZCBjdWx0dXJhbCBzaWduaWZpY2FuY2UsIGluY2x1ZGluZyBtZXRhZGF0YSBhYm91dCBjcmVhdGlvbiBhbmQgcGVyZm9ybWFuY2UuXCIsXHJcbiAgXCJGaWxtXCI6IFwiTW92aWUsIHZpZGVvIGNvbnRlbnQsIG9yIHZpc3VhbCBtZWRpYSBwcm9kdWN0aW9uIHdpdGggbmFycmF0aXZlIG9yIGRvY3VtZW50YXJ5IHB1cnBvc2UsIGluY2x1ZGluZyBjYXN0LCBjcmV3LCBhbmQgcHJvZHVjdGlvbiBkZXRhaWxzLlwiLFxyXG4gIFwiRXZlbnRcIjogXCJPcmdhbml6ZWQgZ2F0aGVyaW5nLCBjb25mZXJlbmNlLCBtZWV0aW5nLCBvciBvY2Nhc2lvbiB3aXRoIHNwZWNpZmljIHRpbWUsIGxvY2F0aW9uLCBhbmQgcGFydGljaXBhbnRzIGZvciBrbm93bGVkZ2Ugc2hhcmluZyBvciBjb2xsYWJvcmF0aW9uLlwiLFxyXG4gIFwiUGxhY2VcIjogXCJQaHlzaWNhbCBsb2NhdGlvbiwgdmVudWUsIG9yIGdlb2dyYXBoaWMgZW50aXR5IHdpdGggYWRkcmVzcyBhbmQgc3BhdGlhbCBjb250ZXh0IHJlbGV2YW50IHRvIGFjdGl2aXRpZXMgYW5kIHJlbGF0aW9uc2hpcHMuXCIsXHJcbiAgXCJRdW90ZVwiOiBcIk1lbW9yYWJsZSBzdGF0ZW1lbnQsIHNheWluZywgb3IgZXhjZXJwdCBhdHRyaWJ1dGVkIHRvIGEgc3BlY2lmaWMgc291cmNlIHdpdGggY29udGV4dCBhbmQgbWVhbmluZyBmb3IgcmVmZXJlbmNlIGFuZCBpbnNwaXJhdGlvbi5cIixcclxuICBcIkV4cHJlc3Npb25cIjogXCJJZGlvbSwgY29uY2VwdCwgcHJpbmNpcGxlLCBvciBsaW5ndWlzdGljIGNvbnN0cnVjdCB0aGF0IGNvbnZleXMgbWVhbmluZyB3aXRoaW4gY3VsdHVyYWwgb3IgcHJvZmVzc2lvbmFsIGNvbnRleHRzLlwiLFxyXG4gIFwiUGVyc29uYWxcIjogXCJQcml2YXRlIGluZGl2aWR1YWwgY29udGVudCBpbmNsdWRpbmcgZ29hbHMsIGlkZW50aXR5IGluZm9ybWF0aW9uLCBwcmVmZXJlbmNlcywgYW5kIHBlcnNvbmFsIGRldmVsb3BtZW50IG1hdGVyaWFsIGZvciBzZWxmLW9yZ2FuaXphdGlvbi5cIixcclxuICBcIkpvdXJuYWxcIjogXCJUaW1lLWJhc2VkIHBlcnNvbmFsIGVudHJ5IG9yIGxvZyByZWNvcmRpbmcgdGhvdWdodHMsIGV4cGVyaWVuY2VzLCBhbmQgcmVmbGVjdGlvbnMgZm9yIHRyYWNraW5nIHBlcnNvbmFsIGdyb3d0aCBhbmQgbWVtb3JpZXMuXCIsXHJcbiAgXCJCb29rXCI6IFwiUHVibGlzaGVkIGxpdGVyYXJ5IHdvcmssIHJlZmVyZW5jZSBtYXRlcmlhbCwgb3IgZWR1Y2F0aW9uYWwgdGV4dCB3aXRoIHN0cnVjdHVyZWQgY29udGVudCBmb3Iga25vd2xlZGdlIHNoYXJpbmcgYW5kIGxlYXJuaW5nLlwiLFxyXG4gIFwiUHJvamVjdERvY1wiOiBcIlRlY2huaWNhbCBkb2N1bWVudGF0aW9uLCBzcGVjaWZpY2F0aW9ucywgb3IgcHJvamVjdC1yZWxhdGVkIG1hdGVyaWFscyB0aGF0IHN1cHBvcnQgcHJvamVjdCBkZXZlbG9wbWVudCBhbmQgY29sbGFib3JhdGlvbi5cIlxyXG59O1xyXG5cclxuLy8gRGVmYXVsdCBwcm9wZXJ0eSBkZXNjcmlwdGlvbnMgZm9yIGNvbW1vbiBmaWVsZHNcclxuY29uc3QgREVGQVVMVF9QUk9QRVJUWV9ERVNDUklQVElPTlM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XHJcbiAgLy8gTXVzaWMtc3BlY2lmaWMgcHJvcGVydGllc1xyXG4gIFwiZHVyYXRpb25cIjogXCJMZW5ndGggb2YgdGhlIGFydCB3b3JrIGluIG1pbnV0ZXMgYW5kIHNlY29uZHMsIHR5cGljYWxseSBmb3JtYXR0ZWQgYXMgXFxcIk1NOlNTXFxcIiAoZS5nLiwgXFxcIjM6NDJcXFwiLCBcXFwiMToxNTozMFxcXCIpXCIsXHJcbiAgXCJyZWNvcmRfbGFiZWxcIjogXCJNdXNpYyBsYWJlbCBvciBjb21wYW55IHJlc3BvbnNpYmxlIGZvciBwcm9kdWNpbmcsIGRpc3RyaWJ1dGluZywgb3IgcHJvbW90aW5nIHRoZSBtdXNpY2FsIHdvcmtcIixcclxuICBcImFydGlzdFwiOiBcIk11c2ljYWwgcGVyZm9ybWVyLCBiYW5kLCBvciBjcmVhdG9yIHJlc3BvbnNpYmxlIGZvciB0aGUgYXJ0aXN0aWMgY3JlYXRpb24gYW5kIHBlcmZvcm1hbmNlIG9mIHRoZSBtdXNpY2FsIHdvcmtcIixcclxuICBcImFsYnVtXCI6IFwiQ29sbGVjdGlvbiBvciByZWNvcmQgcmVsZWFzZSB0aGF0IGNvbnRhaW5zIHRoaXMgbXVzaWNhbCB3b3JrIGFzIHBhcnQgb2YgYSBsYXJnZXIgYXJ0aXN0aWMgc3RhdGVtZW50XCIsXHJcbiAgXCJ0cmFja19udW1iZXJcIjogXCJQb3NpdGlvbiBvZiB0aGlzIHNvbmcgd2l0aGluIGFuIGFsYnVtIG9yIGNvbGxlY3Rpb24gZm9yIG9yZ2FuaXphdGlvbiBhbmQgcmVmZXJlbmNlXCIsXHJcbiAgXCJjb21wb3NlclwiOiBcIlBlcnNvbiB3aG8gY3JlYXRlZCB0aGUgbXVzaWNhbCBjb21wb3NpdGlvbiwgbWVsb2R5LCBhbmQgc3RydWN0dXJlIG9mIHRoZSB3b3JrXCIsXHJcbiAgXCJseXJpY2lzdFwiOiBcIlBlcnNvbiB3aG8gd3JvdGUgdGhlIHdvcmRzLCBseXJpY3MsIG9yIHRleHQgY29udGVudCBvZiB0aGUgbXVzaWNhbCB3b3JrXCIsXHJcblxyXG4gIC8vIEZpbG0tc3BlY2lmaWMgcHJvcGVydGllc1xyXG4gIFwiZGlyZWN0b3JcIjogXCJQcmltYXJ5IGRpcmVjdG9yIG9yIGZpbG1tYWtlciBjcmVkaXRlZCBhcyB0aGUgbWFpbiBjcmVhdGl2ZSBsZWFkZXIgb2YgdGhlIGZpbG0gb3IgdmlkZW8gY29udGVudFwiLFxyXG4gIFwiY2FzdFwiOiBcIkxpc3Qgb2YgYWN0b3JzIGFuZCBwZXJmb3JtZXJzIHdobyBhcHBlYXJlZCBpbiB0aGUgZmlsbSBvciB2aWRlbyBjb250ZW50XCIsXHJcbiAgXCJzdHVkaW9cIjogXCJQcm9kdWN0aW9uIHN0dWRpbyBvciBjb21wYW55IHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyBhbmQgZGlzdHJpYnV0aW5nIHRoZSBmaWxtXCIsXHJcblxyXG4gIC8vIEV2ZW50LXNwZWNpZmljIHByb3BlcnRpZXNcclxuICBcImRhdGVfc3RhcnRcIjogXCJTdGFydGluZyBkYXRlIG9mIHRoZSBldmVudCBvciBzY2hlZHVsZWQgYWN0aXZpdHkgaW4gWVlZWS1NTS1ERCBmb3JtYXRcIixcclxuICBcImRhdGVfZW5kXCI6IFwiRW5kaW5nIGRhdGUgb2YgdGhlIGV2ZW50IG9yIHNjaGVkdWxlZCBhY3Rpdml0eSBpbiBZWVlZLU1NLUREIGZvcm1hdFwiLFxyXG4gIFwibG9jYXRpb25cIjogXCJQaHlzaWNhbCB2ZW51ZSwgYWRkcmVzcywgb3IgdmlydHVhbCBwbGF0Zm9ybSB3aGVyZSB0aGUgZXZlbnQgdGFrZXMgcGxhY2UgKGUuZy4sIFxcXCJNYWRpc29uIFNxdWFyZSBHYXJkZW5cXFwiLCBcXFwiWm9vbVxcXCIsIFxcXCIxMjMgTWFpbiBTdFxcXCIpXCIsXHJcbiAgXCJvcmdhbml6ZXJcIjogXCJQZXJzb24sIG9yZ2FuaXphdGlvbiwgb3IgZW50aXR5IHJlc3BvbnNpYmxlIGZvciBwbGFubmluZyBhbmQgaG9zdGluZyB0aGUgZXZlbnRcIixcclxuICBcImV2ZW50X3R5cGVcIjogXCJDbGFzc2lmaWNhdGlvbiBvZiB0aGUgZXZlbnQncyBwdXJwb3NlIGFuZCBmb3JtYXQgKGUuZy4sIFxcXCJjb25mZXJlbmNlXFxcIiwgXFxcIm1lZXRpbmdcXFwiLCBcXFwiY2VsZWJyYXRpb25cXFwiLCBcXFwid29ya3Nob3BcXFwiLCBcXFwid2ViaW5hclxcXCIpXCIsXHJcblxyXG4gIC8vIFBsYWNlLXNwZWNpZmljIHByb3BlcnRpZXNcclxuICBcImNvb3JkaW5hdGVzXCI6IFwiR2VvZ3JhcGhpYyBjb29yZGluYXRlcyBpbiBsYXRpdHVkZSwgbG9uZ2l0dWRlIGZvcm1hdCBmb3IgcHJlY2lzZSBsb2NhdGlvbiBpZGVudGlmaWNhdGlvbiAoZS5nLiwgXFxcIjM3Ljc3NDksIC0xMjIuNDE5NFxcXCIpXCIsXHJcbiAgXCJjaXR5XCI6IFwiTXVuaWNpcGFsaXR5LCBjaXR5LCBvciB1cmJhbiBhcmVhIHRoYXQgY29udGFpbnMgb3IgcmVwcmVzZW50cyB0aGUgcGxhY2UgZm9yIHJlZ2lvbmFsIGlkZW50aWZpY2F0aW9uXCIsXHJcbiAgXCJwb3N0YWxfY29kZVwiOiBcIlpJUCBjb2RlLCBwb3N0YWwgY29kZSwgb3IgYXJlYSBjb2RlIGZvciBtYWlsIGRlbGl2ZXJ5IGFuZCByZWdpb25hbCBjbGFzc2lmaWNhdGlvblwiLFxyXG4gIFwicGxhY2VfdHlwZVwiOiBcIkNsYXNzaWZpY2F0aW9uIG9mIHRoZSBwbGFjZSdzIHB1cnBvc2UgYW5kIGNoYXJhY3RlcmlzdGljcyAoZS5nLiwgXFxcInZlbnVlXFxcIiwgXFxcIm9mZmljZVxcXCIsIFxcXCJsYW5kbWFya1xcXCIsIFxcXCJyZXNpZGVudGlhbFxcXCIsIFxcXCJjb21tZXJjaWFsXFxcIilcIixcclxuICBcInJlZ2lvblwiOiBcIkdlb2dyYXBoaWMgcmVnaW9uLCBzdGF0ZSwgb3IgcHJvdmluY2Ugd2hlcmUgdGhlIHBsYWNlIGlzIGxvY2F0ZWQgZm9yIGJyb2FkZXIgZ2VvZ3JhcGhpYyBjb250ZXh0XCIsXHJcblxyXG4gIC8vIENvbW1vbiBlbnRpdHkgcHJvcGVydGllcyAodXNlZCBhY3Jvc3MgbXVsdGlwbGUgZW50aXR5IHR5cGVzKVxyXG4gIFwidGl0bGVcIjogXCJQcmltYXJ5IG5hbWUsIGhlYWRsaW5lLCBvciBvZmZpY2lhbCB0aXRsZSB0aGF0IGlkZW50aWZpZXMgYW5kIHJlcHJlc2VudHMgdGhlIGVudGl0eVwiLFxyXG4gIFwiY19uYW1lXCI6IFwiQ29tcGxldGUgbGVnYWwgbmFtZSwgb2ZmaWNpYWwgdGl0bGUsIG9yIGNhbm9uaWNhbCBuYW1lIGFzIGZvcm1hbGx5IHJlY29nbml6ZWRcIixcclxuICBcImFsaWFzZXNcIjogXCJBbHRlcm5hdGl2ZSBuYW1lcywgbmlja25hbWVzLCBhYmJyZXZpYXRpb25zLCBvciBvdGhlciBpZGVudGlmaWVycyBieSB3aGljaCB0aGlzIGVudGl0eSBpcyBhbHNvIGtub3duXCIsXHJcbiAgXCJ1cmxcIjogXCJDb21wbGV0ZSB3ZWIgYWRkcmVzcyBvciBVUkwgd2hlcmUgdGhpcyBlbnRpdHkgY2FuIGJlIGFjY2Vzc2VkIG9yIHJlZmVyZW5jZWQgb25saW5lXCIsXHJcbiAgXCJzYW1lX2FzXCI6IFwiVVJJcyBvciBVUkxzIHRoYXQgaWRlbnRpZnkgdGhpcyBzYW1lIGVudGl0eSBvbiBvdGhlciBwbGF0Zm9ybXMsIGRhdGFiYXNlcywgb3Iga25vd2xlZGdlIHN5c3RlbXMgZm9yIGxpbmtpbmdcIixcclxuICBcInRhZ3NcIjogXCJLZXl3b3JkcywgbGFiZWxzLCBvciBjYXRlZ29yaWNhbCBtYXJrZXJzIHVzZWQgZm9yIG9yZ2FuaXppbmcsIGZpbHRlcmluZywgYW5kIGRpc2NvdmVyaW5nIHJlbGF0ZWQgY29udGVudFwiLFxyXG4gIFwiYXV0aG9yXCI6IFwiUGVyc29uIG9yIG9yZ2FuaXphdGlvbiB3aG8gY3JlYXRlZCwgd3JvdGUsIG9yIGlzIHByaW1hcmlseSByZXNwb25zaWJsZSBmb3IgdGhpcyBjb250ZW50XCIsXHJcbiAgXCJvcmdhbml6YXRpb25cIjogXCJDb21wYW55LCBpbnN0aXR1dGlvbiwgb3IgZ3JvdXAgYXNzb2NpYXRlZCB3aXRoIG9yIHJlc3BvbnNpYmxlIGZvciB0aGlzIGVudGl0eVwiLFxyXG4gIFwiYWJvdXRcIjogXCJTdWJqZWN0IG1hdHRlciwgdG9waWMsIG9yIHRoZW1lIHRoYXQgdGhpcyBjb250ZW50IGNvdmVycyBvciBkaXNjdXNzZXMgaW4gZGV0YWlsXCIsXHJcbiAgXCJjYXRlZ29yeVwiOiBcIlByaW1hcnkgY2xhc3NpZmljYXRpb24sIHR5cGUsIG9yIGRvbWFpbiB0aGF0IGNhdGVnb3JpemVzIHRoaXMgZW50aXR5J3MgcHVycG9zZSBhbmQgY2hhcmFjdGVyaXN0aWNzXCIsXHJcbiAgXCJzdGF0dXNcIjogXCJDdXJyZW50IHN0YXRlLCBwaGFzZSwgb3IgY29uZGl0aW9uIG9mIHRoZSBlbnRpdHkgaW4gaXRzIGxpZmVjeWNsZSAoZS5nLiwgXFxcImFjdGl2ZVxcXCIsIFxcXCJjb21wbGV0ZWRcXFwiLCBcXFwicGxhbm5pbmdcXFwiKVwiLFxyXG4gIFwiZGF0ZV9wdWJsaXNoZWRcIjogXCJEYXRlIHdoZW4gdGhpcyBhcnRpY2xlIG9yIGNvbnRlbnQgd2FzIG9mZmljaWFsbHkgcHVibGlzaGVkIG9yIHJlbGVhc2VkIGluIFlZWVktTU0tREQgZm9ybWF0XCIsXHJcblxyXG4gIC8vIFBlcnNvbi1zcGVjaWZpYyBwcm9wZXJ0aWVzXHJcbiAgXCJpZGVudGl0eV90eXBlXCI6IFwiQ2xhc3NpZmljYXRpb24gb2YgdGhlIHBlcnNvbidzIGlkZW50aXR5IHN0YXR1cyAoZS5nLiwgXFxcIm5hdHVyYWxfcGVyc29uXFxcIiwgXFxcInB1YmxpY19maWd1cmVcXFwiLCBcXFwicHNldWRvbnltXFxcIiwgXFxcImNoYXJhY3RlclxcXCIpXCIsXHJcbiAgXCJnaXZlbl9uYW1lXCI6IFwiRmlyc3QgbmFtZSBvciBnaXZlbiBuYW1lIGFzIGNvbW1vbmx5IHVzZWQgZm9yIHBlcnNvbmFsIGlkZW50aWZpY2F0aW9uIGFuZCBpbnRyb2R1Y3Rpb25zXCIsXHJcbiAgXCJmYW1pbHlfbmFtZVwiOiBcIkxhc3QgbmFtZSwgc3VybmFtZSwgb3IgZmFtaWx5IG5hbWUgdXNlZCBmb3IgZm9ybWFsIGlkZW50aWZpY2F0aW9uIGFuZCBoZXJpdGFnZVwiLFxyXG4gIFwiZGF0ZV9vZl9iaXJ0aFwiOiBcIkRhdGUgd2hlbiB0aGUgcGVyc29uIHdhcyBib3JuLCBmb3JtYXR0ZWQgYXMgWVlZWS1NTS1ERCBmb3IgYmlvZ3JhcGhpY2FsIHJlZmVyZW5jZVwiLFxyXG4gIFwiZGF0ZV9vZl9kZWF0aFwiOiBcIkRhdGUgd2hlbiB0aGUgcGVyc29uIHBhc3NlZCBhd2F5LCBmb3JtYXR0ZWQgYXMgWVlZWS1NTS1ERCBpZiBhcHBsaWNhYmxlIGZvciBiaW9ncmFwaGljYWwgY29tcGxldGlvblwiLFxyXG4gIFwiYWRkcmVzc1wiOiBcIlBoeXNpY2FsIGFkZHJlc3MsIGxvY2F0aW9uLCBvciBwcmltYXJ5IHJlc2lkZW5jZSB3aGVyZSB0aGUgcGVyc29uIGlzIGJhc2VkXCIsXHJcbiAgXCJlbWFpbFwiOiBcIlByaW1hcnkgZW1haWwgYWRkcmVzcyBmb3IgcHJvZmVzc2lvbmFsIG9yIHBlcnNvbmFsIGNvbW11bmljYXRpb24gYW5kIGNvbnRhY3RcIixcclxuICBcIndvcmtzX2ZvclwiOiBcIk9yZ2FuaXphdGlvbiwgY29tcGFueSwgb3IgaW5zdGl0dXRpb24gd2hlcmUgdGhlIHBlcnNvbiBpcyBjdXJyZW50bHkgZW1wbG95ZWRcIixcclxuICBcImpvYl90aXRsZVwiOiBcIlByb2Zlc3Npb25hbCByb2xlLCBwb3NpdGlvbiwgb3IgdGl0bGUgdGhhdCBkZXNjcmliZXMgdGhlIHBlcnNvbidzIGN1cnJlbnQgcmVzcG9uc2liaWxpdGllc1wiLFxyXG4gIFwibmVlZHNcIjogXCJSZXNvdXJjZXMsIHNraWxscywgY29ubmVjdGlvbnMsIG9yIHN1cHBvcnQgdGhhdCB0aGUgcGVyc29uIHJlcXVpcmVzIHRvIGFjaGlldmUgdGhlaXIgZ29hbHNcIixcclxuICBcIm9mZmVyc1wiOiBcIlNraWxscywgc2VydmljZXMsIGtub3dsZWRnZSwgb3IgdmFsdWUgdGhhdCB0aGUgcGVyc29uIGNhbiBwcm92aWRlIHRvIG90aGVycyBvciBjb250cmlidXRlIHRvIHByb2plY3RzXCIsXHJcbiAgXCJsaW5rc1wiOiBcIlVSTHMgb3Igd2ViIGFkZHJlc3NlcyBhc3NvY2lhdGVkIHdpdGggdGhlIHBlcnNvbidzIG9ubGluZSBwcmVzZW5jZSBvciBwcm9mZXNzaW9uYWwgcHJvZmlsZXNcIixcclxuICBcInJlbGF0aW9uc2hpcF90eXBlXCI6IFwiTmF0dXJlIG9mIHRoZSByZWxhdGlvbnNoaXAgb3IgY29ubmVjdGlvbiB0aGlzIHBlcnNvbiBoYXMgdG8gb3RoZXIgZW50aXRpZXMgb3IgcGVvcGxlXCIsXHJcblxyXG4gIC8vIE9yZ2FuaXphdGlvbi1zcGVjaWZpYyBwcm9wZXJ0aWVzXHJcbiAgXCJkYXRlX2ZvdW5kZWRcIjogXCJEYXRlIHdoZW4gdGhlIG9yZ2FuaXphdGlvbiB3YXMgb2ZmaWNpYWxseSBlc3RhYmxpc2hlZCwgaW5jb3Jwb3JhdGVkLCBvciBmb3VuZGVkIGluIFlZWVktTU0tREQgZm9ybWF0XCIsXHJcbiAgXCJvcmdfdHlwZVwiOiBcIkxlZ2FsIHN0cnVjdHVyZSBvciBjbGFzc2lmaWNhdGlvbiBvZiB0aGUgb3JnYW5pemF0aW9uIChlLmcuLCBcXFwiTExDXFxcIiwgXFxcIkNvcnBvcmF0aW9uXFxcIiwgXFxcIk5vbi1wcm9maXRcXFwiLCBcXFwiUGFydG5lcnNoaXBcXFwiKVwiLFxyXG5cclxuICAvLyBQcm9qZWN0LXNwZWNpZmljIHByb3BlcnRpZXNcclxuICBcInByb2plY3RfdHlwZVwiOiBcIkNsYXNzaWZpY2F0aW9uIG9mIHRoZSBwcm9qZWN0J3MgbmF0dXJlLCBzY29wZSwgYW5kIG1ldGhvZG9sb2d5IChlLmcuLCBcXFwic29mdHdhcmVcXFwiLCBcXFwicmVzZWFyY2hcXFwiLCBcXFwic3RhcnR1cFxcXCIsIFxcXCJjb21tdW5pdHlcXFwiKVwiLFxyXG4gIFwiY29sbGFib3JhdG9yc1wiOiBcIlBlb3BsZSwgdGVhbXMsIG9yIG9yZ2FuaXphdGlvbnMgd29ya2luZyB0b2dldGhlciBvbiB0aGlzIHByb2plY3Qgb3IgY29udHJpYnV0aW5nIHRvIGl0cyBkZXZlbG9wbWVudFwiLFxyXG4gIFwicHVibGljX3JlcG9cIjogXCJVUkwgb3IgcmVmZXJlbmNlIHRvIHRoZSBwdWJsaWMgY29kZSByZXBvc2l0b3J5IHdoZXJlIHRoZSBwcm9qZWN0J3Mgc291cmNlIGNvZGUgaXMgaG9zdGVkIGFuZCBhY2Nlc3NpYmxlXCIsXHJcblxyXG4gIC8vIFRlY2hub2xvZ3ktc3BlY2lmaWMgcHJvcGVydGllcyAtIG5vIGFkZGl0aW9uYWwgc3BlY2lmaWMgb25lcyBiZXlvbmQgY29tbW9uIHByb3BlcnRpZXNcclxuXHJcbiAgLy8gUHJvZHVjdC1zcGVjaWZpYyBwcm9wZXJ0aWVzXHJcbiAgXCJvZmZlcmluZ190eXBlXCI6IFwiQnVzaW5lc3MgbW9kZWwgYW5kIGRlbGl2ZXJ5IG1ldGhvZCBvZiB0aGUgcHJvZHVjdCAoZS5nLiwgXFxcIlNhYVNcXFwiLCBcXFwiQVBJXFxcIiwgXFxcInBoeXNpY2FsX3Byb2R1Y3RcXFwiLCBcXFwic2VydmljZVxcXCIsIFxcXCJwbGF0Zm9ybVxcXCIpXCIsXHJcblxyXG4gIC8vIEFydGljbGUtc3BlY2lmaWMgcHJvcGVydGllc1xyXG4gIFwiYXJ0aWNsZV90eXBlXCI6IFwiR2VucmUgb3IgZm9ybWF0IGNsYXNzaWZpY2F0aW9uIG9mIHRoZSBhcnRpY2xlIChlLmcuLCBcXFwiYmxvZ19wb3N0XFxcIiwgXFxcInR1dG9yaWFsXFxcIiwgXFxcImFuYWx5c2lzXFxcIiwgXFxcIm5ld3NcXFwiLCBcXFwicmV2aWV3XFxcIilcIixcclxuXHJcbiAgLy8gTm90ZS1zcGVjaWZpYyBwcm9wZXJ0aWVzXHJcbiAgXCJub3RlX3R5cGVcIjogXCJDbGFzc2lmaWNhdGlvbiBvZiB0aGUgbm90ZSdzIHB1cnBvc2UgYW5kIGNvbnRlbnQgdHlwZSAoZS5nLiwgXFxcImlkZWFcXFwiLCBcXFwibWVldGluZ19ub3Rlc1xcXCIsIFxcXCJyZWZlcmVuY2VcXFwiLCBcXFwiYW5hbHlzaXNcXFwiKVwiLFxyXG5cclxuICAvLyBCb29rLXNwZWNpZmljIHByb3BlcnRpZXNcclxuICBcInN1YnRpdGxlXCI6IFwiU2Vjb25kYXJ5IHRpdGxlIG9yIGV4cGxhbmF0b3J5IHN1YnRpdGxlIHRoYXQgcHJvdmlkZXMgYWRkaXRpb25hbCBjb250ZXh0IGFib3V0IHRoZSBib29rJ3MgY29udGVudFwiLFxyXG4gIFwiY2F0ZWdvcmllc1wiOiBcIlN1YmplY3QgY2F0ZWdvcmllcywgZ2VucmVzLCBvciBjbGFzc2lmaWNhdGlvbiB0YWdzIHRoYXQgZGVzY3JpYmUgdGhlIGJvb2sncyBjb250ZW50IGFuZCB0YXJnZXQgYXVkaWVuY2VcIixcclxuICBcImF1dGhvcnNcIjogXCJMaXN0IG9mIHBlb3BsZSB3aG8gd3JvdGUsIGVkaXRlZCwgb3IgY29udHJpYnV0ZWQgdG8gdGhlIGNyZWF0aW9uIG9mIHRoZSBib29rXCIsXHJcbiAgXCJwdWJsaXNoZWRfb25cIjogXCJEYXRlIHdoZW4gdGhlIGJvb2sgd2FzIG9mZmljaWFsbHkgcHVibGlzaGVkIG9yIHJlbGVhc2VkIGluIFlZWVktTU0tREQgZm9ybWF0XCIsXHJcbiAgXCJsaW5rXCI6IFwiVVJMIG9yIHdlYiBhZGRyZXNzIHdoZXJlIHRoZSBib29rIGNhbiBiZSBhY2Nlc3NlZCwgcHVyY2hhc2VkLCBvciByZWZlcmVuY2VkIG9ubGluZVwiLFxyXG5cclxuICAvLyBQcm9qZWN0RG9jLXNwZWNpZmljIHByb3BlcnRpZXNcclxuICBcInByb2plY3RcIjogXCJOYW1lIG9yIGlkZW50aWZpZXIgb2YgdGhlIHByb2plY3QgdGhhdCB0aGlzIGRvY3VtZW50YXRpb24gcmVsYXRlcyB0byBvciBzdXBwb3J0c1wiLFxyXG4gIFwidGVhbVwiOiBcIkdyb3VwIG9mIHBlb3BsZSBvciBvcmdhbml6YXRpb25hbCB1bml0IHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyBhbmQgbWFpbnRhaW5pbmcgdGhpcyBkb2N1bWVudGF0aW9uXCIsXHJcblxyXG4gIC8vIENyb3NzLWVudGl0eSBjb3JyZWN0aW9ucyBmb3IgRmlsbSBwcm9wZXJ0aWVzIHRoYXQgd2VyZSBpbmNvcnJlY3RseSB1c2luZyBNdXNpYyBkZXNjcmlwdGlvbnNcclxuICBcImdlbnJlXCI6IFwiQ2F0ZWdvcnksIHN0eWxlLCBvciBjbGFzc2lmaWNhdGlvbiB0aGF0IGRlc2NyaWJlcyB0aGUgYXJ0aXN0aWMgYXBwcm9hY2gsIHN1YmplY3QgbWF0dGVyLCBvciB0YXJnZXQgYXVkaWVuY2VcIixcclxuICBcImNvdW50cnlcIjogXCJOYXRpb24gb3IgY291bnRyeSBvZiBvcmlnaW4gd2hlcmUgdGhlIGVudGl0eSB3YXMgY3JlYXRlZCwgcHJvZHVjZWQsIG9yIHByaW1hcmlseSBvcGVyYXRlc1wiXHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgU2NoZW1hRGlzY292ZXJ5U2VydmljZSB7XHJcbiAgcHJpdmF0ZSBwbHVnaW46IGFueTsgLy8gUGx1Z2luIGluc3RhbmNlIGZvciBhY2Nlc3Npbmcgc2V0dGluZ3NcclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBhcHA6IEFwcCwgcGx1Z2luPzogYW55KSB7XHJcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuICB9XHJcblxyXG4gIC8vIFNhZmUgbG9nZ2VyIGFjY2Vzc29yOiBwcmVmZXIgcGx1Z2luLmxvZ2dlciB3aGVuIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIHVuZGVmaW5lZC5cclxuICAvLyBVc2UgQVNDSUktb25seSBtZXNzYWdlcyBwZXIgcHJvamVjdCBydWxlcy5cclxuICBwcml2YXRlIGdldCBsb2dnZXIoKTogYW55IHwgdW5kZWZpbmVkIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnBsdWdpbiAmJiB0aGlzLnBsdWdpbi5sb2dnZXIgPyB0aGlzLnBsdWdpbi5sb2dnZXIgOiB1bmRlZmluZWQ7XHJcbiAgICB9IGNhdGNoIChfKSB7XHJcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVjayBpZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdGVjdGVkIGJ5IEdyYXBoaXRpXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBpc1Byb3RlY3RlZEF0dHJpYnV0ZShuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIHJldHVybiBQUk9URUNURURfQVRUUklCVVRFUy5pbmNsdWRlcyhuYW1lLnRvTG93ZXJDYXNlKCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29udmVydCBjYW1lbENhc2Ugb3IgUGFzY2FsQ2FzZSB0byBzbmFrZV9jYXNlXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBjb252ZXJ0VG9TbmFrZUNhc2UobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBuYW1lXHJcbiAgICAgIC5yZXBsYWNlKC8oW0EtWl0pL2csICdfJDEnKVxyXG4gICAgICAudG9Mb3dlckNhc2UoKVxyXG4gICAgICAucmVwbGFjZSgvXl8vLCAnJyk7IC8vIFJlbW92ZSBsZWFkaW5nIHVuZGVyc2NvcmVcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFZhbGlkYXRlIGVudGl0eSB0eXBlIG5hbWUgKHNob3VsZCBiZSBQYXNjYWxDYXNlKVxyXG4gICAqL1xyXG4gIHByaXZhdGUgdmFsaWRhdGVFbnRpdHlUeXBlTmFtZShuYW1lOiBzdHJpbmcpOiBOYW1pbmdWYWxpZGF0aW9uUmVzdWx0IHtcclxuICAgIGNvbnN0IGlzc3Vlczogc3RyaW5nW10gPSBbXTtcclxuICAgIGxldCBzdWdnZXN0ZWROYW1lID0gbmFtZTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiBpdCdzIFBhc2NhbENhc2VcclxuICAgIGlmICghL15bQS1aXVthLXpBLVowLTldKiQvLnRlc3QobmFtZSkpIHtcclxuICAgICAgaXNzdWVzLnB1c2goJ0VudGl0eSB0eXBlIHNob3VsZCBiZSBQYXNjYWxDYXNlIChlLmcuLCBQZXJzb24sIFRlY2hDb21wYW55KScpO1xyXG4gICAgICAvLyBDb252ZXJ0IHRvIFBhc2NhbENhc2VcclxuICAgICAgc3VnZ2VzdGVkTmFtZSA9IG5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnNsaWNlKDEpLnJlcGxhY2UoL1teYS16QS1aMC05XS9nLCAnJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY29tcGxpYW5jZUxldmVsID0gaXNzdWVzLmxlbmd0aCA9PT0gMCA/ICdleGNlbGxlbnQnIDogJ25lZWRzX2ltcHJvdmVtZW50JztcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpc1ZhbGlkOiBpc3N1ZXMubGVuZ3RoID09PSAwLFxyXG4gICAgICBpc3N1ZXMsXHJcbiAgICAgIHN1Z2dlc3RlZE5hbWUsXHJcbiAgICAgIGNvbXBsaWFuY2VMZXZlbFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFuYWx5emUgYSBwcm9wZXJ0eSBmb3IgbmFtaW5nIGFuZCBwcm90ZWN0aW9uIGlzc3Vlc1xyXG4gICAqL1xyXG4gIHByaXZhdGUgYW5hbHl6ZVByb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWVzOiBhbnlbXSk6IFByb3BlcnR5QW5hbHlzaXMge1xyXG4gICAgY29uc3Qgc3VnZ2VzdGVkTmFtZSA9IHRoaXMuY29udmVydFRvU25ha2VDYXNlKG5hbWUpO1xyXG4gICAgY29uc3QgaXNQcm90ZWN0ZWQgPSB0aGlzLmlzUHJvdGVjdGVkQXR0cmlidXRlKG5hbWUpO1xyXG4gICAgY29uc3QgbmFtaW5nSXNzdWVzOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICAgIGlmIChpc1Byb3RlY3RlZCkge1xyXG4gICAgICBuYW1pbmdJc3N1ZXMucHVzaCgnVXNlcyBwcm90ZWN0ZWQgYXR0cmlidXRlIG5hbWUgcmVzZXJ2ZWQgYnkgR3JhcGhpdGknKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobmFtZSAhPT0gc3VnZ2VzdGVkTmFtZSAmJiAhaXNQcm90ZWN0ZWQpIHtcclxuICAgICAgbmFtaW5nSXNzdWVzLnB1c2goJ1Nob3VsZCB1c2Ugc25ha2VfY2FzZSBuYW1pbmcgY29udmVudGlvbicpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNvbXBsaWFuY2VTdGF0dXM6ICd2YWxpZCcgfCAnd2FybmluZycgfCAncHJvdGVjdGVkJyA9XHJcbiAgICAgIGlzUHJvdGVjdGVkID8gJ3Byb3RlY3RlZCcgOlxyXG4gICAgICBuYW1pbmdJc3N1ZXMubGVuZ3RoID4gMCA/ICd3YXJuaW5nJyA6ICd2YWxpZCc7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgb3JpZ2luYWxOYW1lOiBuYW1lLFxyXG4gICAgICBzdWdnZXN0ZWROYW1lOiBpc1Byb3RlY3RlZCA/IGAke3N1Z2dlc3RlZE5hbWV9X2N1c3RvbWAgOiBzdWdnZXN0ZWROYW1lLFxyXG4gICAgICBpc1Byb3RlY3RlZCxcclxuICAgICAgbmFtaW5nSXNzdWVzLFxyXG4gICAgICBjb21wbGlhbmNlU3RhdHVzXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQXBwbHkgc2F2ZWQgcHJvcGVydHkgbWFwcGluZ3MgdG8gYSBwcm9wZXJ0eSBuYW1lXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBhcHBseVByb3BlcnR5TWFwcGluZyhlbnRpdHlUeXBlOiBzdHJpbmcsIG9yaWdpbmFsTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGlmICghdGhpcy5wbHVnaW4pIHJldHVybiBvcmlnaW5hbE5hbWU7XHJcblxyXG4gICAgY29uc3QgbWFwcGluZyA9IHRoaXMucGx1Z2luLmdldFByb3BlcnR5TWFwcGluZyhlbnRpdHlUeXBlLCBvcmlnaW5hbE5hbWUpO1xyXG4gICAgcmV0dXJuIG1hcHBpbmcgfHwgb3JpZ2luYWxOYW1lO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2F2ZSBhIHByb3BlcnR5IG1hcHBpbmcgcGVyc2lzdGVudGx5XHJcbiAgICovXHJcbiAgYXN5bmMgc2F2ZVByb3BlcnR5TWFwcGluZyhlbnRpdHlUeXBlOiBzdHJpbmcsIG9yaWdpbmFsTmFtZTogc3RyaW5nLCBtYXBwZWROYW1lOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGlmICh0aGlzLnBsdWdpbikge1xyXG4gICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlUHJvcGVydHlNYXBwaW5nKGVudGl0eVR5cGUsIG9yaWdpbmFsTmFtZSwgbWFwcGVkTmFtZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZW1vdmUgYSBwcm9wZXJ0eSBtYXBwaW5nXHJcbiAgICovXHJcbiAgYXN5bmMgcmVtb3ZlUHJvcGVydHlNYXBwaW5nKGVudGl0eVR5cGU6IHN0cmluZywgb3JpZ2luYWxOYW1lOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGlmICh0aGlzLnBsdWdpbikge1xyXG4gICAgICBhd2FpdCB0aGlzLnBsdWdpbi5yZW1vdmVQcm9wZXJ0eU1hcHBpbmcoZW50aXR5VHlwZSwgb3JpZ2luYWxOYW1lKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNhdmUgYSBwcm9wZXJ0eSBzZWxlY3Rpb24gKGVuYWJsZWQvZGlzYWJsZWQgc3RhdGUpIHBlcnNpc3RlbnRseVxyXG4gICAqL1xyXG4gIGFzeW5jIHNhdmVQcm9wZXJ0eVNlbGVjdGlvbihlbnRpdHlUeXBlOiBzdHJpbmcsIHByb3BlcnR5TmFtZTogc3RyaW5nLCBlbmFibGVkOiBib29sZWFuKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBpZiAodGhpcy5wbHVnaW4pIHtcclxuICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVByb3BlcnR5U2VsZWN0aW9uKGVudGl0eVR5cGUsIHByb3BlcnR5TmFtZSwgZW5hYmxlZCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgc2F2ZWQgcHJvcGVydHkgc2VsZWN0aW9uIHN0YXRlXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBnZXRQcm9wZXJ0eVNlbGVjdGlvbihlbnRpdHlUeXBlOiBzdHJpbmcsIHByb3BlcnR5TmFtZTogc3RyaW5nKTogYm9vbGVhbiB8IHVuZGVmaW5lZCB7XHJcbiAgICBpZiAoIXRoaXMucGx1Z2luKSByZXR1cm4gdW5kZWZpbmVkO1xyXG5cclxuICAgIHJldHVybiB0aGlzLnBsdWdpbi5nZXRQcm9wZXJ0eVNlbGVjdGlvbihlbnRpdHlUeXBlLCBwcm9wZXJ0eU5hbWUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGRlZmF1bHQgZGVzY3JpcHRpb24gZm9yIGEga25vd24gZW50aXR5IHR5cGVcclxuICAgKi9cclxuICBnZXREZWZhdWx0RW50aXR5RGVzY3JpcHRpb24oZW50aXR5VHlwZTogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XHJcbiAgICByZXR1cm4gREVGQVVMVF9FTlRJVFlfREVTQ1JJUFRJT05TW2VudGl0eVR5cGVdIHx8IG51bGw7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVjayBpZiB3ZSBoYXZlIGEgZGVmYXVsdCBkZXNjcmlwdGlvbiBmb3IgdGhpcyBlbnRpdHkgdHlwZVxyXG4gICAqL1xyXG4gIGhhc0RlZmF1bHRFbnRpdHlEZXNjcmlwdGlvbihlbnRpdHlUeXBlOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIHJldHVybiBlbnRpdHlUeXBlIGluIERFRkFVTFRfRU5USVRZX0RFU0NSSVBUSU9OUztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBhbGwgYXZhaWxhYmxlIGRlZmF1bHQgZW50aXR5IHR5cGVzXHJcbiAgICovXHJcbiAgZ2V0QXZhaWxhYmxlRGVmYXVsdEVudGl0eVR5cGVzKCk6IHN0cmluZ1tdIHtcclxuICAgIHJldHVybiBPYmplY3Qua2V5cyhERUZBVUxUX0VOVElUWV9ERVNDUklQVElPTlMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGRlZmF1bHQgZGVzY3JpcHRpb24gZm9yIGEgcHJvcGVydHlcclxuICAgKi9cclxuICBnZXREZWZhdWx0UHJvcGVydHlEZXNjcmlwdGlvbihwcm9wZXJ0eU5hbWU6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xyXG4gICAgcmV0dXJuIERFRkFVTFRfUFJPUEVSVFlfREVTQ1JJUFRJT05TW3Byb3BlcnR5TmFtZV0gfHwgbnVsbDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIHdlIGhhdmUgYSBkZWZhdWx0IGRlc2NyaXB0aW9uIGZvciB0aGlzIHByb3BlcnR5XHJcbiAgICovXHJcbiAgaGFzRGVmYXVsdFByb3BlcnR5RGVzY3JpcHRpb24ocHJvcGVydHlOYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIHJldHVybiBwcm9wZXJ0eU5hbWUgaW4gREVGQVVMVF9QUk9QRVJUWV9ERVNDUklQVElPTlM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgZGlyZWN0IGFjY2VzcyB0byBkZWZhdWx0IHByb3BlcnR5IGRlc2NyaXB0aW9uc1xyXG4gICAqL1xyXG4gIGdldCBkZWZhdWx0UHJvcGVydHlEZXNjcmlwdGlvbnMoKTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiB7XHJcbiAgICByZXR1cm4gREVGQVVMVF9QUk9QRVJUWV9ERVNDUklQVElPTlM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgYWxsIGF2YWlsYWJsZSBkZWZhdWx0IHByb3BlcnR5IG5hbWVzXHJcbiAgICovXHJcbiAgZ2V0QXZhaWxhYmxlRGVmYXVsdFByb3BlcnRpZXMoKTogc3RyaW5nW10ge1xyXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKERFRkFVTFRfUFJPUEVSVFlfREVTQ1JJUFRJT05TKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBhbGwgYXZhaWxhYmxlIGRlZmF1bHQgZWRnZSB0eXBlcyB3aXRoIGRlc2NyaXB0aW9uc1xyXG4gICAqL1xyXG4gIGdldEF2YWlsYWJsZURlZmF1bHRFZGdlVHlwZXMoKTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAnV29ya3NGb3InOiAnUGVyc29uIGVtcGxveWVkIGJ5IE9yZ2FuaXphdGlvbicsXHJcbiAgICAgICdVc2VzJzogJ1BlcnNvbi9Pcmdhbml6YXRpb24gdXNlcyBUZWNobm9sb2d5L1Byb2R1Y3QnLFxyXG4gICAgICAnQ3JlYXRlcyc6ICdQZXJzb24vT3JnYW5pemF0aW9uIGNyZWF0ZXMgVGVjaG5vbG9neS9Qcm9kdWN0L1Byb2plY3QnLFxyXG4gICAgICAnS25vd3MnOiAnUGVyc29uIGtub3dzIFBlcnNvbiAocGVyc29uYWwgb3IgcHJvZmVzc2lvbmFsIHJlbGF0aW9uc2hpcCknLFxyXG4gICAgICAnTWVtYmVyT2YnOiAnUGVyc29uL09yZ2FuaXphdGlvbiBpcyBtZW1iZXIgb2YgT3JnYW5pemF0aW9uJyxcclxuICAgICAgJ1BhcnRuZXJzV2l0aCc6ICdQZXJzb24vT3JnYW5pemF0aW9uIHBhcnRuZXJzIHdpdGggUGVyc29uL09yZ2FuaXphdGlvbicsXHJcbiAgICAgICdEZXBlbmRzT24nOiAnVGVjaG5vbG9neS9Qcm9kdWN0IGRlcGVuZHMgb24gVGVjaG5vbG9neScsXHJcbiAgICAgICdJbnRlZ3JhdGVkV2l0aCc6ICdQcm9kdWN0L1RlY2hub2xvZ3kgaGFzIGJ1aWx0LWluIGludGVncmF0aW9uIHdpdGggUHJvZHVjdC9UZWNobm9sb2d5JyxcclxuICAgICAgJ0Fib3V0JzogJ1dlYlBhZ2UvTm90ZS9BcnRpY2xlIGFib3V0IEVudGl0eScsXHJcbiAgICAgICdJc1BhcnRPZic6ICdXZWJQYWdlIHBhcnQgb2YgV2Vic2l0ZS9Eb21haW4nLFxyXG4gICAgICAnVGFncyc6ICdFbnRpdHkgaXMgdGFnZ2VkIHdpdGggYW5vdGhlciBFbnRpdHknLFxyXG4gICAgICAvLyBOZXcgZWRnZSB0eXBlcyBmb3IgbWVkaWEsIGV2ZW50cywgYW5kIHJlbGF0aW9uc2hpcHNcclxuICAgICAgJ1BlcmZvcm1lZEJ5JzogJ011c2ljYWwgd29yayBwZXJmb3JtZWQgYnkgQXJ0aXN0L1BlcnNvbicsXHJcbiAgICAgICdJbmZsdWVuY2VkQnknOiAnRW50aXR5IGluZmx1ZW5jZWQgb3IgaW5zcGlyZWQgYnkgYW5vdGhlciBFbnRpdHknLFxyXG4gICAgICAnQ29sbGFib3JhdGVzV2l0aCc6ICdQZXJzb24vT3JnYW5pemF0aW9uIGFjdGl2ZWx5IGNvbGxhYm9yYXRlcyB3aXRoIFBlcnNvbi9Pcmdhbml6YXRpb24nLFxyXG4gICAgICAnT3JnYW5pemVkQnknOiAnRXZlbnQgb3JnYW5pemVkIGFuZCBtYW5hZ2VkIGJ5IFBlcnNvbi9Pcmdhbml6YXRpb24nLFxyXG4gICAgICAnQXR0ZW5kZWRCeSc6ICdFdmVudCBhdHRlbmRlZCBvciBwYXJ0aWNpcGF0ZWQgaW4gYnkgUGVyc29uJyxcclxuICAgICAgJ1BhcnRPZlNlcmllcyc6ICdFbnRpdHkgdGhhdCBiZWxvbmdzIHRvIG9yIGNvbnRpbnVlcyBhIHNlcmllcy9zZXF1ZW5jZScsXHJcbiAgICAgICdMZWFkQnknOiAnUHJvamVjdC9Pcmdhbml6YXRpb24vSW5pdGlhdGl2ZSBsZWQgb3IgZGlyZWN0ZWQgYnkgUGVyc29uJyxcclxuICAgICAgJ1Nwb25zb3JlZEJ5JzogJ0VudGl0eSBzcG9uc29yZWQsIGZ1bmRlZCwgb3Igc3VwcG9ydGVkIGJ5IE9yZ2FuaXphdGlvbicsXHJcbiAgICAgICdDb21wZXRlc1dpdGgnOiAnT3JnYW5pemF0aW9uL1Byb2R1Y3QgaW4gY29tcGV0aXRpb24gb3Igcml2YWxyeSB3aXRoIE9yZ2FuaXphdGlvbi9Qcm9kdWN0J1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBkZWZhdWx0IHByb3BlcnRpZXMgZm9yIGtub3duIGVkZ2UgdHlwZXNcclxuICAgKi9cclxuICBnZXREZWZhdWx0RWRnZVR5cGVQcm9wZXJ0aWVzKCk6IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIHsgZGVzY3JpcHRpb246IHN0cmluZzsgZmllbGRUeXBlOiBzdHJpbmc7IHJlcXVpcmVkOiBib29sZWFuIH0+PiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAnV29ya3NGb3InOiB7XHJcbiAgICAgICAgJ2pvYl90aXRsZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQ3VycmVudCBwcm9mZXNzaW9uYWwgcm9sZSwgcG9zaXRpb24sIG9yIHRpdGxlIHRoYXQgZGVzY3JpYmVzIHJlc3BvbnNpYmlsaXRpZXMgYW5kIGxldmVsIHdpdGhpbiBhbiBvcmdhbml6YXRpb24nLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ2VtcGxveW1lbnRfdHlwZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRW1wbG95bWVudCBjbGFzc2lmaWNhdGlvbiBzdWNoIGFzIGZ1bGwtdGltZSwgcGFydC10aW1lLCBjb250cmFjdG9yLCBjb25zdWx0YW50LCBhZHZpc29yLCBvciBpbnRlcm4nLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ3N0YXJ0X2RhdGUnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0RhdGUgd2hlbiB0aGUgZW1wbG95bWVudCByZWxhdGlvbnNoaXAgYmVnYW4gaW4gWVlZWS1NTS1ERCBmb3JtYXQnLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnZGF0ZXRpbWUnLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICAnVXNlcyc6IHtcclxuICAgICAgICAnc2VudGltZW50Jzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdVc2VyXFwncyBhdHRpdHVkZSBvciBmZWVsaW5nIHRvd2FyZCB0aGUgdGVjaG5vbG9neSAocG9zaXRpdmUsIG5lZ2F0aXZlLCBuZXV0cmFsLCBsb3ZlLCBoYXRlKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAncHJvZmljaWVuY3knOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1VzZXJcXCdzIHNraWxsIGxldmVsIG9yIGV4cGVydGlzZSB3aXRoIHRoZSB0ZWNobm9sb2d5IChiZWdpbm5lciwgaW50ZXJtZWRpYXRlLCBhZHZhbmNlZCwgZXhwZXJ0KScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAndXNhZ2VfY29udGV4dCc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQ29udGV4dCBvciBlbnZpcm9ubWVudCB3aGVyZSB0aGUgdGVjaG5vbG9neSBpcyB1c2VkIChkZXZlbG9wbWVudCwgcHJvZHVjdGlvbiwgcGVyc29uYWwsIHRlc3RpbmcpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgICdzdGF0dXMnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0N1cnJlbnQgdXNhZ2Ugc3RhdHVzIChhY3RpdmUsIGluYWN0aXZlLCB0cmlhbCwgcGFpZF9hY2NvdW50LCBldmFsdWF0aW5nKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnc3RhcnRfZGF0ZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRGF0ZSB3aGVuIHVzYWdlIGJlZ2FuIGluIFlZWVktTU0tREQgZm9ybWF0JyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ2RhdGV0aW1lJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgJ0NyZWF0ZXMnOiB7XHJcbiAgICAgICAgJ3JvbGUnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0NyZWF0b3JcXCdzIHJvbGUgaW4gdGhlIGNyZWF0aW9uIHByb2Nlc3MgKGZvdW5kZXIsIGxlYWRfZGV2ZWxvcGVyLCBjb250cmlidXRvciwgZGVzaWduZXIsIGFyY2hpdGVjdCknLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ2NvbnRyaWJ1dGlvbl90eXBlJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdUeXBlIG9mIGNvbnRyaWJ1dGlvbiBtYWRlIChjb2RlLCBkZXNpZ24sIHN0cmF0ZWd5LCBmdW5kaW5nLCBkb2N1bWVudGF0aW9uLCB0ZXN0aW5nKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICAnS25vd3MnOiB7XHJcbiAgICAgICAgJ3JlbGF0aW9uc2hpcF90eXBlJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdOYXR1cmUgb2YgdGhlIHJlbGF0aW9uc2hpcCAoY29sbGVhZ3VlLCBtZW50b3IsIGZyaWVuZCwgY29sbGFib3JhdG9yLCBhY3F1YWludGFuY2UpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgICdjb250ZXh0Jzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdDb250ZXh0IG9yIHNldHRpbmcgd2hlcmUgdGhleSBrbm93IGVhY2ggb3RoZXIgKHdvcmssIHNjaG9vbCwgaW5kdXN0cnksIHBlcnNvbmFsKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICAnTWVtYmVyT2YnOiB7XHJcbiAgICAgICAgJ3JvbGUnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ01lbWJlclxcJ3Mgcm9sZSBvciBwb3NpdGlvbiB3aXRoaW4gdGhlIG9yZ2FuaXphdGlvbiAoZW1wbG95ZWUsIHZvbHVudGVlciwgYm9hcmRfbWVtYmVyLCBjdXN0b21lciwgcGFydG5lciknLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ3N0YXJ0X2RhdGUnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0RhdGUgd2hlbiBtZW1iZXJzaGlwIGJlZ2FuIGluIFlZWVktTU0tREQgZm9ybWF0JyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ2RhdGV0aW1lJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ3N0YXR1cyc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQ3VycmVudCBtZW1iZXJzaGlwIHN0YXR1cyAoYWN0aXZlLCBpbmFjdGl2ZSwgc3VzcGVuZGVkLCB0cmlhbCwgcGFpZCknLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgJ1BhcnRuZXJzV2l0aCc6IHtcclxuICAgICAgICAncGFydG5lcnNoaXBfdHlwZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVHlwZSBvZiBwYXJ0bmVyc2hpcCAoc3RyYXRlZ2ljLCBzdXBwbGllciwgaW52ZXN0bWVudCwgY29uc3VsdGluZywgYWR2aXNvcnksIGpvaW50X3ZlbnR1cmUpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgICdzdGFydF9kYXRlJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdEYXRlIHdoZW4gcGFydG5lcnNoaXAgYmVnYW4gaW4gWVlZWS1NTS1ERCBmb3JtYXQnLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnZGF0ZXRpbWUnLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnc3RhdHVzJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdDdXJyZW50IHBhcnRuZXJzaGlwIHN0YXR1cyAoYWN0aXZlLCBpbmFjdGl2ZSwgY29tcGxldGVkLCBuZWdvdGlhdGluZyknLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgJ0RlcGVuZHNPbic6IHtcclxuICAgICAgICAnZGVwZW5kZW5jeV90eXBlJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdUeXBlIG9mIGRlcGVuZGVuY3kgKHJ1bnRpbWUsIGJ1aWxkX3RpbWUsIGRldmVsb3BtZW50LCBpbmZyYXN0cnVjdHVyZSwgb3B0aW9uYWwpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgICd2ZXJzaW9uJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdSZXF1aXJlZCB2ZXJzaW9uIG9yIHZlcnNpb24gcmFuZ2UgZm9yIHRoZSBkZXBlbmRlbmN5JyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgICdJbnRlZ3JhdGVkV2l0aCc6IHtcclxuICAgICAgICAnaW50ZWdyYXRpb25fdHlwZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVHlwZSBvZiBpbnRlZ3JhdGlvbiAobmF0aXZlLCBwbHVnaW4sIEFQSSwgd2ViaG9vaywgU0RLLCBlbWJlZGRlZCknLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ2JpZGlyZWN0aW9uYWwnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1doZXRoZXIgdGhlIGludGVncmF0aW9uIHdvcmtzIGluIGJvdGggZGlyZWN0aW9ucyBiZXR3ZWVuIHRoZSB0ZWNobm9sb2dpZXMnLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnYm9vbCcsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgICdBYm91dCc6IHtcclxuICAgICAgICAnY292ZXJhZ2VfdHlwZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRGVwdGggb2YgY292ZXJhZ2UgKGNvbXByZWhlbnNpdmUsIG1lbnRpb24sIGFuYWx5c2lzLCB0dXRvcmlhbCwgcmV2aWV3KScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnYXV0aG9yaXR5Jzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdTb3VyY2UgYXV0aG9yaXR5IGxldmVsIChvZmZpY2lhbCwgY29tbXVuaXR5LCBleHBlcnRfYW5hbHlzaXMsIHVzZXJfZ2VuZXJhdGVkKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICAnSXNQYXJ0T2YnOiB7XHJcbiAgICAgICAgJ3JlbGF0aW9uc2hpcF90eXBlJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdUeXBlIG9mIHJlbGF0aW9uc2hpcCAocGFnZSwgYXJ0aWNsZSwgZG9jdW1lbnRhdGlvbiwgc2VjdGlvbiwgc3ViZG9tYWluKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICAnVGFncyc6IHtcclxuICAgICAgICAvLyBObyBkZWZhdWx0IHByb3BlcnRpZXMgZm9yIFRhZ3MgZWRnZSB0eXBlXHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvLyBOZXcgZWRnZSB0eXBlcyBmb3IgRGF5IDE3XHJcbiAgICAgICdQZXJmb3JtZWRCeSc6IHtcclxuICAgICAgICAncGVyZm9ybWFuY2VfdHlwZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVHlwZSBvZiBwZXJmb3JtYW5jZSByZWxhdGlvbnNoaXAgKG9yaWdpbmFsX2FydGlzdCwgY292ZXJfdmVyc2lvbiwgbGl2ZV9wZXJmb3JtYW5jZSwgY29sbGFib3JhdGlvbiwgZmVhdHVyZWRfYXJ0aXN0KScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAncm9sZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnU3BlY2lmaWMgcm9sZSBpbiB0aGUgcGVyZm9ybWFuY2UgKGxlYWRfdm9jYWxzLCBpbnN0cnVtZW50YWxpc3QsIHByb2R1Y2VyLCBmZWF0dXJlZCwgYmFja2luZ192b2NhbHMpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgICdwZXJmb3JtYW5jZV9kYXRlJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdEYXRlIHdoZW4gdGhpcyBwZXJmb3JtYW5jZSBvciByZWNvcmRpbmcgdG9vayBwbGFjZSBpbiBZWVlZLU1NLUREIGZvcm1hdCcsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdkYXRldGltZScsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgICdJbmZsdWVuY2VkQnknOiB7XHJcbiAgICAgICAgJ2luZmx1ZW5jZV90eXBlJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdOYXR1cmUgb2YgdGhlIGluZmx1ZW5jZSByZWxhdGlvbnNoaXAgKGFydGlzdGljLCBpbnRlbGxlY3R1YWwsIG1ldGhvZG9sb2dpY2FsLCBwaGlsb3NvcGhpY2FsLCB0ZWNobmljYWwpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgICdkZXNjcmlwdGlvbic6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnU3BlY2lmaWMgd2F5cyB0aGlzIGVudGl0eSB3YXMgaW5mbHVlbmNlZCwgaW5jbHVkaW5nIGNvbmNlcHRzLCB0ZWNobmlxdWVzLCBvciBhcHByb2FjaGVzIGFkb3B0ZWQnLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ3N0cmVuZ3RoJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdEZWdyZWUgb2YgaW5mbHVlbmNlIGltcGFjdCAobWlub3IsIG1vZGVyYXRlLCBtYWpvciwgZm91bmRhdGlvbmFsLCB0cmFuc2Zvcm1hdGl2ZSknLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgJ0NvbGxhYm9yYXRlc1dpdGgnOiB7XHJcbiAgICAgICAgJ2NvbGxhYm9yYXRpb25fdHlwZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnTmF0dXJlIG9mIHRoZSBjb2xsYWJvcmF0aXZlIHJlbGF0aW9uc2hpcCAocHJvamVjdF9wYXJ0bmVyLCBjb19hdXRob3IsIGpvaW50X3ZlbnR1cmUsIHJlc2VhcmNoX3BhcnRuZXIsIGNyZWF0aXZlX3BhcnRuZXIpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgICdjb2xsYWJvcmF0aW9uX3N0YXR1cyc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQ3VycmVudCBzdGF0ZSBvZiB0aGUgY29sbGFib3JhdGlvbiAoYWN0aXZlLCBjb21wbGV0ZWQsIHBsYW5uZWQsIG9uX2hvbGQsIHJlY3VycmluZyknLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ3N0YXJ0X2RhdGUnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0RhdGUgd2hlbiB0aGUgY29sbGFib3JhdGlvbiBiZWdhbiBpbiBZWVlZLU1NLUREIGZvcm1hdCcsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdkYXRldGltZScsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgICdPcmdhbml6ZWRCeSc6IHtcclxuICAgICAgICAnb3JnYW5pemF0aW9uYWxfcm9sZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnU3BlY2lmaWMgcm9sZSBpbiBvcmdhbml6aW5nIHRoZSBldmVudCAobGVhZF9vcmdhbml6ZXIsIGNvX29yZ2FuaXplciwgZXZlbnRfbWFuYWdlciwgbG9naXN0aWNzX2Nvb3JkaW5hdG9yLCBwcm9ncmFtX2RpcmVjdG9yKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAncmVzcG9uc2liaWxpdGllcyc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnU3BlY2lmaWMgZHV0aWVzIGFuZCBhcmVhcyBvZiByZXNwb25zaWJpbGl0eSBpbiBldmVudCBvcmdhbml6YXRpb24gKGxvZ2lzdGljcywgcHJvZ3JhbW1pbmcsIG1hcmtldGluZywgc3BvbnNvcnNoaXBzKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICAnQXR0ZW5kZWRCeSc6IHtcclxuICAgICAgICAnYXR0ZW5kYW5jZV90eXBlJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdOYXR1cmUgb2YgYXR0ZW5kYW5jZSBvciBwYXJ0aWNpcGF0aW9uIChwcmVzZW50ZXIsIGF0dGVuZGVlLCBrZXlub3RlX3NwZWFrZXIsIHBhbmVsaXN0LCBzcG9uc29yLCB2b2x1bnRlZXIpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgICdwYXJ0aWNpcGF0aW9uX2xldmVsJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdEZWdyZWUgb2YgaW52b2x2ZW1lbnQgaW4gdGhlIGV2ZW50IChhY3RpdmVfcGFydGljaXBhbnQsIHBhc3NpdmVfYXR0ZW5kZWUsIGZlYXR1cmVkX3NwZWFrZXIsIG9yZ2FuaXplciknLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgJ1BhcnRPZlNlcmllcyc6IHtcclxuICAgICAgICAnc2VxdWVuY2VfcG9zaXRpb24nOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1Bvc2l0aW9uIG9yIG9yZGVyIHdpdGhpbiB0aGUgc2VyaWVzIChlcGlzb2RlXzEsIHBhcnRfMiwgdm9sdW1lXzMsIHNlYXNvbl8xX2VwaXNvZGVfNSknLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ3Nlcmllc19yZWxhdGlvbnNoaXAnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1R5cGUgb2YgcmVsYXRpb25zaGlwIHRvIHRoZSBzZXJpZXMgKHNlcXVlbCwgcHJlcXVlbCwgc3Bpbl9vZmYsIGNvbnRpbnVhdGlvbiwgcGFydF9vZl9jb2xsZWN0aW9uKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICAnTGVhZEJ5Jzoge1xyXG4gICAgICAgICdsZWFkZXJzaGlwX3JvbGUnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1NwZWNpZmljIGxlYWRlcnNoaXAgcG9zaXRpb24gYW5kIGF1dGhvcml0eSAoY2VvLCBwcm9qZWN0X21hbmFnZXIsIHRlYW1fbGVhZCwgY3JlYXRpdmVfZGlyZWN0b3IsIHByaW5jaXBhbF9pbnZlc3RpZ2F0b3IpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgICdsZWFkZXJzaGlwX3N0YXJ0X2RhdGUnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0RhdGUgd2hlbiBsZWFkZXJzaGlwIHJvbGUgYmVnYW4gaW4gWVlZWS1NTS1ERCBmb3JtYXQnLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnZGF0ZXRpbWUnLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnbGVhZGVyc2hpcF9zY29wZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQXJlYXMgb2YgcmVzcG9uc2liaWxpdHkgYW5kIGRlY2lzaW9uLW1ha2luZyBhdXRob3JpdHkgKHN0cmF0ZWdpYywgb3BlcmF0aW9uYWwsIGNyZWF0aXZlLCB0ZWNobmljYWwsIGFkbWluaXN0cmF0aXZlKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICAnU3BvbnNvcmVkQnknOiB7XHJcbiAgICAgICAgJ3Nwb25zb3JzaGlwX3R5cGUnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ05hdHVyZSBvZiBzcG9uc29yc2hpcCByZWxhdGlvbnNoaXAgKGZpbmFuY2lhbCwgaW5fa2luZCwgcHJvbW90aW9uYWwsIHN0cmF0ZWdpYywgdGl0bGVfc3BvbnNvciwgcHJlc2VudGluZ19zcG9uc29yKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnc3BvbnNvcnNoaXBfbGV2ZWwnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0RlZ3JlZSBvciB0aWVyIG9mIHNwb25zb3JzaGlwIHN1cHBvcnQgKHBsYXRpbnVtLCBnb2xkLCBzaWx2ZXIsIGJyb256ZSwgbWFqb3IsIG1pbm9yKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnc3VwcG9ydF9kZXRhaWxzJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdTcGVjaWZpYyB3YXlzIHNwb25zb3IgcHJvdmlkZXMgc3VwcG9ydCAoZnVuZGluZywgcmVzb3VyY2VzLCBleHBlcnRpc2UsIG1hcmtldGluZywgdmVudWUpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgICdDb21wZXRlc1dpdGgnOiB7XHJcbiAgICAgICAgJ2NvbXBldGl0aW9uX3R5cGUnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ05hdHVyZSBvZiBjb21wZXRpdGl2ZSByZWxhdGlvbnNoaXAgKGRpcmVjdF9jb21wZXRpdG9yLCBtYXJrZXRfcml2YWwsIGFsdGVybmF0aXZlX3NvbHV0aW9uLCBpbmR1c3RyeV9wZWVyKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnbWFya2V0X2NvbnRleHQnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ01hcmtldCBvciBkb21haW4gd2hlcmUgY29tcGV0aXRpb24gb2NjdXJzIChzYW1lX21hcmtldCwgYWRqYWNlbnRfbWFya2V0LCBzdWJzdGl0dXRlX3Byb2R1Y3QsIGZlYXR1cmVfY29tcGV0aXRpb24pJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgICdjb21wZXRpdGl2ZV9hZHZhbnRhZ2UnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0tleSBkaWZmZXJlbnRpYXRpbmcgZmFjdG9ycyBpbiB0aGUgY29tcGV0aXRpdmUgcmVsYXRpb25zaGlwIChwcmljZSwgZmVhdHVyZXMsIG1hcmtldF9zaGFyZSwgYnJhbmRfcmVjb2duaXRpb24pJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgdW51c2VkIGRlZmF1bHQgZWRnZSB0eXBlcyAoYXZhaWxhYmxlIGRlZmF1bHRzIG5vdCBjdXJyZW50bHkgZGVmaW5lZClcclxuICAgKi9cclxuICBnZXRVbnVzZWREZWZhdWx0RWRnZVR5cGVzKGN1cnJlbnRFZGdlVHlwZXM6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHtcclxuICAgIGNvbnN0IGF2YWlsYWJsZURlZmF1bHRzID0gdGhpcy5nZXRBdmFpbGFibGVEZWZhdWx0RWRnZVR5cGVzKCk7XHJcbiAgICBjb25zdCB1bnVzZWQ6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcclxuXHJcbiAgICBPYmplY3QuZW50cmllcyhhdmFpbGFibGVEZWZhdWx0cykuZm9yRWFjaCgoW2VkZ2VUeXBlLCBkZXNjcmlwdGlvbl0pID0+IHtcclxuICAgICAgaWYgKCFjdXJyZW50RWRnZVR5cGVzW2VkZ2VUeXBlXSkge1xyXG4gICAgICAgIHVudXNlZFtlZGdlVHlwZV0gPSBkZXNjcmlwdGlvbjtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHVudXNlZDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBzdWdnZXN0ZWQgZGVmYXVsdCBlZGdlIG1hcHBpbmdzIGJhc2VkIG9uIGRpc2NvdmVyZWQgZW50aXR5IHR5cGVzXHJcbiAgICovXHJcbiAgZ2V0U3VnZ2VzdGVkRGVmYXVsdE1hcHBpbmdzKGVudGl0eVR5cGVzOiBzdHJpbmdbXSwgY3VycmVudE1hcHBpbmdzOiBhbnlbXSk6IEFycmF5PHtcclxuICAgIHNvdXJjZUVudGl0eTogc3RyaW5nO1xyXG4gICAgdGFyZ2V0RW50aXR5OiBzdHJpbmc7XHJcbiAgICBhbGxvd2VkRWRnZXM6IHN0cmluZ1tdO1xyXG4gICAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICB9PiB7XHJcbiAgICBjb25zdCBzdWdnZXN0aW9uczogQXJyYXk8e1xyXG4gICAgICBzb3VyY2VFbnRpdHk6IHN0cmluZztcclxuICAgICAgdGFyZ2V0RW50aXR5OiBzdHJpbmc7XHJcbiAgICAgIGFsbG93ZWRFZGdlczogc3RyaW5nW107XHJcbiAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgICB9PiA9IFtdO1xyXG5cclxuICAgIC8vIENyZWF0ZSBhIHNldCBvZiBleGlzdGluZyBtYXBwaW5ncyBmb3IgcXVpY2sgbG9va3VwXHJcbiAgICBjb25zdCBleGlzdGluZ01hcHBpbmdzID0gbmV3IFNldChcclxuICAgICAgY3VycmVudE1hcHBpbmdzLm1hcChtID0+IGAke20uc291cmNlRW50aXR5fS0+JHttLnRhcmdldEVudGl0eX1gKVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBQZXJzb24gcmVsYXRpb25zaGlwc1xyXG4gICAgaWYgKGVudGl0eVR5cGVzLmluY2x1ZGVzKCdQZXJzb24nKSkge1xyXG4gICAgICBpZiAoZW50aXR5VHlwZXMuaW5jbHVkZXMoJ09yZ2FuaXphdGlvbicpICYmICFleGlzdGluZ01hcHBpbmdzLmhhcygnUGVyc29uLT5Pcmdhbml6YXRpb24nKSkge1xyXG4gICAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgICAgc291cmNlRW50aXR5OiAnUGVyc29uJyxcclxuICAgICAgICAgIHRhcmdldEVudGl0eTogJ09yZ2FuaXphdGlvbicsXHJcbiAgICAgICAgICBhbGxvd2VkRWRnZXM6IFsnV29ya3NGb3InLCAnTWVtYmVyT2YnLCAnUGFydG5lcnNXaXRoJ10sXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1Blb3BsZSB3b3JraW5nIGZvciBvciBiZWluZyBtZW1iZXJzIG9mIG9yZ2FuaXphdGlvbnMnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGVudGl0eVR5cGVzLmluY2x1ZGVzKCdUZWNobm9sb2d5JykgJiYgIWV4aXN0aW5nTWFwcGluZ3MuaGFzKCdQZXJzb24tPlRlY2hub2xvZ3knKSkge1xyXG4gICAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgICAgc291cmNlRW50aXR5OiAnUGVyc29uJyxcclxuICAgICAgICAgIHRhcmdldEVudGl0eTogJ1RlY2hub2xvZ3knLFxyXG4gICAgICAgICAgYWxsb3dlZEVkZ2VzOiBbJ0NyZWF0ZXMnLCAnVXNlcyddLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdQZW9wbGUgY3JlYXRpbmcgb3IgdXNpbmcgdGVjaG5vbG9naWVzJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChlbnRpdHlUeXBlcy5pbmNsdWRlcygnUHJvZHVjdCcpICYmICFleGlzdGluZ01hcHBpbmdzLmhhcygnUGVyc29uLT5Qcm9kdWN0JykpIHtcclxuICAgICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICAgIHNvdXJjZUVudGl0eTogJ1BlcnNvbicsXHJcbiAgICAgICAgICB0YXJnZXRFbnRpdHk6ICdQcm9kdWN0JyxcclxuICAgICAgICAgIGFsbG93ZWRFZGdlczogWydDcmVhdGVzJywgJ1VzZXMnXSxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnUGVvcGxlIGNyZWF0aW5nIG9yIHVzaW5nIHByb2R1Y3RzJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChlbnRpdHlUeXBlcy5pbmNsdWRlcygnUHJvamVjdCcpICYmICFleGlzdGluZ01hcHBpbmdzLmhhcygnUGVyc29uLT5Qcm9qZWN0JykpIHtcclxuICAgICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICAgIHNvdXJjZUVudGl0eTogJ1BlcnNvbicsXHJcbiAgICAgICAgICB0YXJnZXRFbnRpdHk6ICdQcm9qZWN0JyxcclxuICAgICAgICAgIGFsbG93ZWRFZGdlczogWydDcmVhdGVzJywgJ01lbWJlck9mJ10sXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1Blb3BsZSBjcmVhdGluZyBvciBiZWluZyBwYXJ0IG9mIHByb2plY3RzJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICghZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ1BlcnNvbi0+UGVyc29uJykpIHtcclxuICAgICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICAgIHNvdXJjZUVudGl0eTogJ1BlcnNvbicsXHJcbiAgICAgICAgICB0YXJnZXRFbnRpdHk6ICdQZXJzb24nLFxyXG4gICAgICAgICAgYWxsb3dlZEVkZ2VzOiBbJ0tub3dzJ10sXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1Byb2Zlc3Npb25hbCBhbmQgcGVyc29uYWwgcmVsYXRpb25zaGlwcyBiZXR3ZWVuIHBlb3BsZSdcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIE9yZ2FuaXphdGlvbiByZWxhdGlvbnNoaXBzXHJcbiAgICBpZiAoZW50aXR5VHlwZXMuaW5jbHVkZXMoJ09yZ2FuaXphdGlvbicpKSB7XHJcbiAgICAgIGlmIChlbnRpdHlUeXBlcy5pbmNsdWRlcygnVGVjaG5vbG9neScpICYmICFleGlzdGluZ01hcHBpbmdzLmhhcygnT3JnYW5pemF0aW9uLT5UZWNobm9sb2d5JykpIHtcclxuICAgICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICAgIHNvdXJjZUVudGl0eTogJ09yZ2FuaXphdGlvbicsXHJcbiAgICAgICAgICB0YXJnZXRFbnRpdHk6ICdUZWNobm9sb2d5JyxcclxuICAgICAgICAgIGFsbG93ZWRFZGdlczogWydDcmVhdGVzJywgJ1VzZXMnLCAnRGVwZW5kc09uJ10sXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ09yZ2FuaXphdGlvbnMgY3JlYXRpbmcsIHVzaW5nLCBvciBkZXBlbmRpbmcgb24gdGVjaG5vbG9naWVzJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChlbnRpdHlUeXBlcy5pbmNsdWRlcygnUHJvZHVjdCcpICYmICFleGlzdGluZ01hcHBpbmdzLmhhcygnT3JnYW5pemF0aW9uLT5Qcm9kdWN0JykpIHtcclxuICAgICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICAgIHNvdXJjZUVudGl0eTogJ09yZ2FuaXphdGlvbicsXHJcbiAgICAgICAgICB0YXJnZXRFbnRpdHk6ICdQcm9kdWN0JyxcclxuICAgICAgICAgIGFsbG93ZWRFZGdlczogWydDcmVhdGVzJywgJ1VzZXMnLCAnRGVwZW5kc09uJ10sXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ09yZ2FuaXphdGlvbnMgY3JlYXRpbmcsIHVzaW5nLCBvciBkZXBlbmRpbmcgb24gcHJvZHVjdHMnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFleGlzdGluZ01hcHBpbmdzLmhhcygnT3JnYW5pemF0aW9uLT5Pcmdhbml6YXRpb24nKSkge1xyXG4gICAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgICAgc291cmNlRW50aXR5OiAnT3JnYW5pemF0aW9uJyxcclxuICAgICAgICAgIHRhcmdldEVudGl0eTogJ09yZ2FuaXphdGlvbicsXHJcbiAgICAgICAgICBhbGxvd2VkRWRnZXM6IFsnUGFydG5lcnNXaXRoJywgJ01lbWJlck9mJ10sXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1BhcnRuZXJzaGlwcyBhbmQgbWVtYmVyc2hpcHMgYmV0d2VlbiBvcmdhbml6YXRpb25zJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVGVjaG5vbG9neSByZWxhdGlvbnNoaXBzXHJcbiAgICBpZiAoZW50aXR5VHlwZXMuaW5jbHVkZXMoJ1RlY2hub2xvZ3knKSkge1xyXG4gICAgICBpZiAoIWV4aXN0aW5nTWFwcGluZ3MuaGFzKCdUZWNobm9sb2d5LT5UZWNobm9sb2d5JykpIHtcclxuICAgICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICAgIHNvdXJjZUVudGl0eTogJ1RlY2hub2xvZ3knLFxyXG4gICAgICAgICAgdGFyZ2V0RW50aXR5OiAnVGVjaG5vbG9neScsXHJcbiAgICAgICAgICBhbGxvd2VkRWRnZXM6IFsnRGVwZW5kc09uJywgJ0ludGVncmF0ZWRXaXRoJ10sXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0RlcGVuZGVuY2llcyBhbmQgaW50ZWdyYXRpb25zIGJldHdlZW4gdGVjaG5vbG9naWVzJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChlbnRpdHlUeXBlcy5pbmNsdWRlcygnUHJvZHVjdCcpICYmICFleGlzdGluZ01hcHBpbmdzLmhhcygnVGVjaG5vbG9neS0+UHJvZHVjdCcpKSB7XHJcbiAgICAgICAgc3VnZ2VzdGlvbnMucHVzaCh7XHJcbiAgICAgICAgICBzb3VyY2VFbnRpdHk6ICdUZWNobm9sb2d5JyxcclxuICAgICAgICAgIHRhcmdldEVudGl0eTogJ1Byb2R1Y3QnLFxyXG4gICAgICAgICAgYWxsb3dlZEVkZ2VzOiBbJ0ludGVncmF0ZWRXaXRoJ10sXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1RlY2hub2xvZ2llcyBpbnRlZ3JhdGVkIHdpdGggcHJvZHVjdHMnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDb250ZW50IHJlbGF0aW9uc2hpcHNcclxuICAgIGNvbnN0IGNvbnRlbnRUeXBlcyA9IFsnV2ViUGFnZScsICdOb3RlJywgJ0FydGljbGUnXS5maWx0ZXIodHlwZSA9PiBlbnRpdHlUeXBlcy5pbmNsdWRlcyh0eXBlKSk7XHJcbiAgICBjb250ZW50VHlwZXMuZm9yRWFjaChjb250ZW50VHlwZSA9PiB7XHJcbiAgICAgIGlmICghZXhpc3RpbmdNYXBwaW5ncy5oYXMoYCR7Y29udGVudFR5cGV9LT5FbnRpdHlgKSkge1xyXG4gICAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgICAgc291cmNlRW50aXR5OiBjb250ZW50VHlwZSxcclxuICAgICAgICAgIHRhcmdldEVudGl0eTogJ0VudGl0eScsXHJcbiAgICAgICAgICBhbGxvd2VkRWRnZXM6IFsnQWJvdXQnXSxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBgJHtjb250ZW50VHlwZX0gY29udGVudCBhYm91dCBvdGhlciBlbnRpdGllc2BcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gTmV3IGVudGl0eSB0eXBlIHJlbGF0aW9uc2hpcHMgZm9yIERheSAxN1xyXG4gICAgaWYgKGVudGl0eVR5cGVzLmluY2x1ZGVzKCdQZXJzb24nKSAmJiBlbnRpdHlUeXBlcy5pbmNsdWRlcygnTXVzaWMnKSAmJiAhZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ1BlcnNvbi0+TXVzaWMnKSkge1xyXG4gICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICBzb3VyY2VFbnRpdHk6ICdQZXJzb24nLFxyXG4gICAgICAgIHRhcmdldEVudGl0eTogJ011c2ljJyxcclxuICAgICAgICBhbGxvd2VkRWRnZXM6IFsnUGVyZm9ybWVkQnknLCAnSW5mbHVlbmNlZEJ5JywgJ0NyZWF0ZXMnXSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1Blb3BsZSBwZXJmb3JtaW5nLCBjcmVhdGluZywgb3IgaW5mbHVlbmNlZCBieSBtdXNpY2FsIHdvcmtzJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZW50aXR5VHlwZXMuaW5jbHVkZXMoJ1BlcnNvbicpICYmIGVudGl0eVR5cGVzLmluY2x1ZGVzKCdGaWxtJykgJiYgIWV4aXN0aW5nTWFwcGluZ3MuaGFzKCdQZXJzb24tPkZpbG0nKSkge1xyXG4gICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICBzb3VyY2VFbnRpdHk6ICdQZXJzb24nLFxyXG4gICAgICAgIHRhcmdldEVudGl0eTogJ0ZpbG0nLFxyXG4gICAgICAgIGFsbG93ZWRFZGdlczogWydQZXJmb3JtZWRCeScsICdJbmZsdWVuY2VkQnknLCAnQ3JlYXRlcyddLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUGVvcGxlIGFjdGluZyBpbiwgY3JlYXRpbmcsIG9yIGluZmx1ZW5jZWQgYnkgZmlsbXMnXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChlbnRpdHlUeXBlcy5pbmNsdWRlcygnUGVyc29uJykgJiYgZW50aXR5VHlwZXMuaW5jbHVkZXMoJ0V2ZW50JykgJiYgIWV4aXN0aW5nTWFwcGluZ3MuaGFzKCdQZXJzb24tPkV2ZW50JykpIHtcclxuICAgICAgc3VnZ2VzdGlvbnMucHVzaCh7XHJcbiAgICAgICAgc291cmNlRW50aXR5OiAnUGVyc29uJyxcclxuICAgICAgICB0YXJnZXRFbnRpdHk6ICdFdmVudCcsXHJcbiAgICAgICAgYWxsb3dlZEVkZ2VzOiBbJ09yZ2FuaXplZEJ5JywgJ0F0dGVuZGVkQnknLCAnTGVhZEJ5J10sXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdQZW9wbGUgb3JnYW5pemluZywgYXR0ZW5kaW5nLCBvciBsZWFkaW5nIGV2ZW50cydcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVudGl0eVR5cGVzLmluY2x1ZGVzKCdQZXJzb24nKSAmJiBlbnRpdHlUeXBlcy5pbmNsdWRlcygnUGxhY2UnKSAmJiAhZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ1BlcnNvbi0+UGxhY2UnKSkge1xyXG4gICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICBzb3VyY2VFbnRpdHk6ICdQZXJzb24nLFxyXG4gICAgICAgIHRhcmdldEVudGl0eTogJ1BsYWNlJyxcclxuICAgICAgICBhbGxvd2VkRWRnZXM6IFsnVGFncycsICdBYm91dCddLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUGVvcGxlIGFzc29jaWF0ZWQgd2l0aCBvciBkb2N1bWVudGluZyBwbGFjZXMnXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChlbnRpdHlUeXBlcy5pbmNsdWRlcygnTXVzaWMnKSAmJiAhZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ011c2ljLT5NdXNpYycpKSB7XHJcbiAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgIHNvdXJjZUVudGl0eTogJ011c2ljJyxcclxuICAgICAgICB0YXJnZXRFbnRpdHk6ICdNdXNpYycsXHJcbiAgICAgICAgYWxsb3dlZEVkZ2VzOiBbJ0luZmx1ZW5jZWRCeScsICdQYXJ0T2ZTZXJpZXMnXSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ011c2ljYWwgd29ya3MgaW5mbHVlbmNlZCBieSBvciBwYXJ0IG9mIHNlcmllcyB3aXRoIG90aGVyIG11c2ljJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZW50aXR5VHlwZXMuaW5jbHVkZXMoJ0ZpbG0nKSAmJiAhZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ0ZpbG0tPkZpbG0nKSkge1xyXG4gICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICBzb3VyY2VFbnRpdHk6ICdGaWxtJyxcclxuICAgICAgICB0YXJnZXRFbnRpdHk6ICdGaWxtJyxcclxuICAgICAgICBhbGxvd2VkRWRnZXM6IFsnSW5mbHVlbmNlZEJ5JywgJ1BhcnRPZlNlcmllcycsICdDb21wZXRlc1dpdGgnXSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ0ZpbG1zIGluZmx1ZW5jZWQgYnksIHBhcnQgb2Ygc2VyaWVzLCBvciBjb21wZXRpbmcgd2l0aCBvdGhlciBmaWxtcydcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVudGl0eVR5cGVzLmluY2x1ZGVzKCdPcmdhbml6YXRpb24nKSAmJiBlbnRpdHlUeXBlcy5pbmNsdWRlcygnRXZlbnQnKSAmJiAhZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ09yZ2FuaXphdGlvbi0+RXZlbnQnKSkge1xyXG4gICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICBzb3VyY2VFbnRpdHk6ICdPcmdhbml6YXRpb24nLFxyXG4gICAgICAgIHRhcmdldEVudGl0eTogJ0V2ZW50JyxcclxuICAgICAgICBhbGxvd2VkRWRnZXM6IFsnT3JnYW5pemVkQnknLCAnU3BvbnNvcmVkQnknXSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ09yZ2FuaXphdGlvbnMgb3JnYW5pemluZyBvciBzcG9uc29yaW5nIGV2ZW50cydcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVudGl0eVR5cGVzLmluY2x1ZGVzKCdPcmdhbml6YXRpb24nKSAmJiBlbnRpdHlUeXBlcy5pbmNsdWRlcygnTXVzaWMnKSAmJiAhZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ09yZ2FuaXphdGlvbi0+TXVzaWMnKSkge1xyXG4gICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICBzb3VyY2VFbnRpdHk6ICdPcmdhbml6YXRpb24nLFxyXG4gICAgICAgIHRhcmdldEVudGl0eTogJ011c2ljJyxcclxuICAgICAgICBhbGxvd2VkRWRnZXM6IFsnU3BvbnNvcmVkQnknLCAnQ3JlYXRlcyddLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnT3JnYW5pemF0aW9ucyBzcG9uc29yaW5nIG9yIGNyZWF0aW5nIG11c2ljYWwgd29ya3MgKGxhYmVscywgc3R1ZGlvcyknXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChlbnRpdHlUeXBlcy5pbmNsdWRlcygnT3JnYW5pemF0aW9uJykgJiYgZW50aXR5VHlwZXMuaW5jbHVkZXMoJ0ZpbG0nKSAmJiAhZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ09yZ2FuaXphdGlvbi0+RmlsbScpKSB7XHJcbiAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgIHNvdXJjZUVudGl0eTogJ09yZ2FuaXphdGlvbicsXHJcbiAgICAgICAgdGFyZ2V0RW50aXR5OiAnRmlsbScsXHJcbiAgICAgICAgYWxsb3dlZEVkZ2VzOiBbJ1Nwb25zb3JlZEJ5JywgJ0NyZWF0ZXMnXSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ09yZ2FuaXphdGlvbnMgc3BvbnNvcmluZyBvciBjcmVhdGluZyBmaWxtcyAoc3R1ZGlvcywgZGlzdHJpYnV0b3JzKSdcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVudGl0eVR5cGVzLmluY2x1ZGVzKCdRdW90ZScpICYmIGVudGl0eVR5cGVzLmluY2x1ZGVzKCdQZXJzb24nKSAmJiAhZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ1F1b3RlLT5QZXJzb24nKSkge1xyXG4gICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICBzb3VyY2VFbnRpdHk6ICdRdW90ZScsXHJcbiAgICAgICAgdGFyZ2V0RW50aXR5OiAnUGVyc29uJyxcclxuICAgICAgICBhbGxvd2VkRWRnZXM6IFsnQWJvdXQnLCAnVGFncyddLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUXVvdGVzIGF0dHJpYnV0ZWQgdG8gb3IgYWJvdXQgc3BlY2lmaWMgcGVvcGxlJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZW50aXR5VHlwZXMuaW5jbHVkZXMoJ0V4cHJlc3Npb24nKSAmJiAhZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ0V4cHJlc3Npb24tPkV4cHJlc3Npb24nKSkge1xyXG4gICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICBzb3VyY2VFbnRpdHk6ICdFeHByZXNzaW9uJyxcclxuICAgICAgICB0YXJnZXRFbnRpdHk6ICdFeHByZXNzaW9uJyxcclxuICAgICAgICBhbGxvd2VkRWRnZXM6IFsnSW5mbHVlbmNlZEJ5JywgJ1RhZ3MnXSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ0V4cHJlc3Npb25zIGluZmx1ZW5jZWQgYnkgb3IgcmVsYXRlZCB0byBvdGhlciBleHByZXNzaW9ucydcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVudGl0eVR5cGVzLmluY2x1ZGVzKCdQZXJzb25hbCcpICYmIGVudGl0eVR5cGVzLmluY2x1ZGVzKCdQZXJzb24nKSAmJiAhZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ1BlcnNvbmFsLT5QZXJzb24nKSkge1xyXG4gICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICBzb3VyY2VFbnRpdHk6ICdQZXJzb25hbCcsXHJcbiAgICAgICAgdGFyZ2V0RW50aXR5OiAnUGVyc29uJyxcclxuICAgICAgICBhbGxvd2VkRWRnZXM6IFsnQWJvdXQnLCAnVGFncyddLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUGVyc29uYWwgY29udGVudCBhYm91dCBvciByZWxhdGluZyB0byBzcGVjaWZpYyBwZW9wbGUnXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChlbnRpdHlUeXBlcy5pbmNsdWRlcygnSm91cm5hbCcpICYmIGVudGl0eVR5cGVzLmluY2x1ZGVzKCdQZXJzb24nKSAmJiAhZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ0pvdXJuYWwtPlBlcnNvbicpKSB7XHJcbiAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgIHNvdXJjZUVudGl0eTogJ0pvdXJuYWwnLFxyXG4gICAgICAgIHRhcmdldEVudGl0eTogJ1BlcnNvbicsXHJcbiAgICAgICAgYWxsb3dlZEVkZ2VzOiBbJ0Fib3V0JywgJ1RhZ3MnXSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ0pvdXJuYWwgZW50cmllcyBhYm91dCBvciBtZW50aW9uaW5nIHNwZWNpZmljIHBlb3BsZSdcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVudGl0eVR5cGVzLmluY2x1ZGVzKCdQcm9qZWN0JykgJiYgZW50aXR5VHlwZXMuaW5jbHVkZXMoJ0V2ZW50JykgJiYgIWV4aXN0aW5nTWFwcGluZ3MuaGFzKCdQcm9qZWN0LT5FdmVudCcpKSB7XHJcbiAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgIHNvdXJjZUVudGl0eTogJ1Byb2plY3QnLFxyXG4gICAgICAgIHRhcmdldEVudGl0eTogJ0V2ZW50JyxcclxuICAgICAgICBhbGxvd2VkRWRnZXM6IFsnT3JnYW5pemVkQnknLCAnUGFydE9mU2VyaWVzJ10sXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdQcm9qZWN0cyBvcmdhbml6aW5nIGV2ZW50cyBvciBhcyBwYXJ0IG9mIGV2ZW50IHNlcmllcydcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVudGl0eVR5cGVzLmluY2x1ZGVzKCdUZWNobm9sb2d5JykgJiYgZW50aXR5VHlwZXMuaW5jbHVkZXMoJ011c2ljJykgJiYgIWV4aXN0aW5nTWFwcGluZ3MuaGFzKCdUZWNobm9sb2d5LT5NdXNpYycpKSB7XHJcbiAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgIHNvdXJjZUVudGl0eTogJ1RlY2hub2xvZ3knLFxyXG4gICAgICAgIHRhcmdldEVudGl0eTogJ011c2ljJyxcclxuICAgICAgICBhbGxvd2VkRWRnZXM6IFsnQ3JlYXRlcycsICdVc2VzJ10sXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdUZWNobm9sb2dpZXMgdXNlZCB0byBjcmVhdGUgb3IgZGlzdHJpYnV0ZSBtdXNpYydcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVudGl0eVR5cGVzLmluY2x1ZGVzKCdUZWNobm9sb2d5JykgJiYgZW50aXR5VHlwZXMuaW5jbHVkZXMoJ0ZpbG0nKSAmJiAhZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ1RlY2hub2xvZ3ktPkZpbG0nKSkge1xyXG4gICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICBzb3VyY2VFbnRpdHk6ICdUZWNobm9sb2d5JyxcclxuICAgICAgICB0YXJnZXRFbnRpdHk6ICdGaWxtJyxcclxuICAgICAgICBhbGxvd2VkRWRnZXM6IFsnQ3JlYXRlcycsICdVc2VzJ10sXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdUZWNobm9sb2dpZXMgdXNlZCBpbiBmaWxtIHByb2R1Y3Rpb24gb3IgZGlzdHJpYnV0aW9uJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZW5lcmljIGZhbGxiYWNrIGlmIG5vIG90aGVyIG1hcHBpbmdzIGV4aXN0XHJcbiAgICBpZiAoc3VnZ2VzdGlvbnMubGVuZ3RoID09PSAwICYmICFleGlzdGluZ01hcHBpbmdzLmhhcygnRW50aXR5LT5FbnRpdHknKSkge1xyXG4gICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICBzb3VyY2VFbnRpdHk6ICdFbnRpdHknLFxyXG4gICAgICAgIHRhcmdldEVudGl0eTogJ0VudGl0eScsXHJcbiAgICAgICAgYWxsb3dlZEVkZ2VzOiBbJ1RhZ3MnXSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ0dlbmVyaWMgdGFnZ2luZyByZWxhdGlvbnNoaXBzIGJldHdlZW4gYW55IGVudGl0aWVzJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc3VnZ2VzdGlvbnM7XHJcbiAgfVxyXG5cclxuICBhc3luYyBkaXNjb3ZlckFsbFNjaGVtYXMoKTogUHJvbWlzZTxUeXBlU2NoZW1hW10+IHtcclxuICAgIGNvbnN0IHR5cGVNYXAgPSBuZXcgTWFwPHN0cmluZywge1xyXG4gICAgICBwcm9wZXJ0aWVzOiBNYXA8c3RyaW5nLCBhbnlbXT4sXHJcbiAgICAgIGZpbGVzOiBzdHJpbmdbXVxyXG4gICAgfT4oKTtcclxuXHJcbiAgICAvLyBHZXQgYWxsIG1hcmtkb3duIGZpbGVzXHJcbiAgICBjb25zdCBmaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZXMpIHtcclxuICAgICAgY29uc3QgbWV0YWRhdGEgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShmaWxlKTtcclxuICAgICAgY29uc3QgZnJvbnRtYXR0ZXIgPSBtZXRhZGF0YT8uZnJvbnRtYXR0ZXI7XHJcblxyXG4gICAgICBpZiAoIWZyb250bWF0dGVyPy50eXBlKSBjb250aW51ZTtcclxuXHJcbiAgICAgIGNvbnN0IHR5cGUgPSBmcm9udG1hdHRlci50eXBlO1xyXG5cclxuICAgICAgaWYgKCF0eXBlTWFwLmhhcyh0eXBlKSkge1xyXG4gICAgICAgIHR5cGVNYXAuc2V0KHR5cGUsIHtcclxuICAgICAgICAgIHByb3BlcnRpZXM6IG5ldyBNYXAoKSxcclxuICAgICAgICAgIGZpbGVzOiBbXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCB0eXBlRGF0YSA9IHR5cGVNYXAuZ2V0KHR5cGUpITtcclxuICAgICAgdHlwZURhdGEuZmlsZXMucHVzaChmaWxlLnBhdGgpO1xyXG5cclxuICAgICAgLy8gQ29sbGVjdCBhbGwgcHJvcGVydGllcyBmb3IgdGhpcyB0eXBlXHJcbiAgICAgIE9iamVjdC5lbnRyaWVzKGZyb250bWF0dGVyKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcclxuICAgICAgICBpZiAoa2V5ID09PSAndHlwZScpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKCF0eXBlRGF0YS5wcm9wZXJ0aWVzLmhhcyhrZXkpKSB7XHJcbiAgICAgICAgICB0eXBlRGF0YS5wcm9wZXJ0aWVzLnNldChrZXksIFtdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdHlwZURhdGEucHJvcGVydGllcy5nZXQoa2V5KSEucHVzaCh2YWx1ZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbnZlcnQgdG8gVHlwZVNjaGVtYSBmb3JtYXRcclxuICAgIHJldHVybiBBcnJheS5mcm9tKHR5cGVNYXAuZW50cmllcygpKS5tYXAoKFt0eXBlTmFtZSwgZGF0YV0pID0+ICh7XHJcbiAgICAgIHR5cGVOYW1lLFxyXG4gICAgICBmaWxlQ291bnQ6IGRhdGEuZmlsZXMubGVuZ3RoLFxyXG4gICAgICBmaWxlczogZGF0YS5maWxlcyxcclxuICAgICAgcHJvcGVydGllczogQXJyYXkuZnJvbShkYXRhLnByb3BlcnRpZXMuZW50cmllcygpKS5tYXAoKFtwcm9wTmFtZSwgdmFsdWVzXSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGFuYWx5c2lzID0gdGhpcy5hbmFseXplUHJvcGVydHkocHJvcE5hbWUsIHZhbHVlcyk7XHJcblxyXG4gICAgICAgIC8vIEFwcGx5IHNhdmVkIHByb3BlcnR5IG1hcHBpbmcgaWYgaXQgZXhpc3RzXHJcbiAgICAgICAgY29uc3QgbWFwcGVkTmFtZSA9IHRoaXMuYXBwbHlQcm9wZXJ0eU1hcHBpbmcodHlwZU5hbWUsIHByb3BOYW1lKTtcclxuICAgICAgICBjb25zdCBoYXNNYXBwaW5nID0gbWFwcGVkTmFtZSAhPT0gcHJvcE5hbWU7XHJcblxyXG4gICAgICAgIC8vIElmIHdlIGhhdmUgYSBzYXZlZCBtYXBwaW5nLCB1cGRhdGUgdGhlIHByb3BlcnR5IG5hbWUgYW5kIGNsZWFyIGlzc3Vlc1xyXG4gICAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IGhhc01hcHBpbmcgPyBtYXBwZWROYW1lIDogcHJvcE5hbWU7XHJcbiAgICAgICAgY29uc3QgZmluYWxOYW1pbmdJc3N1ZXMgPSBoYXNNYXBwaW5nID8gW10gOiBhbmFseXNpcy5uYW1pbmdJc3N1ZXM7XHJcbiAgICAgICAgY29uc3QgZmluYWxDb21wbGlhbmNlU3RhdHVzID0gaGFzTWFwcGluZyA/ICd2YWxpZCcgOiBhbmFseXNpcy5jb21wbGlhbmNlU3RhdHVzO1xyXG5cclxuICAgICAgICAvLyBBcHBseSBzYXZlZCBwcm9wZXJ0eSBzZWxlY3Rpb24gc3RhdGUsIHdpdGggZmFsbGJhY2sgdG8gZGVmYXVsdCBiZWhhdmlvclxyXG4gICAgICAgIGNvbnN0IHNhdmVkU2VsZWN0aW9uID0gdGhpcy5nZXRQcm9wZXJ0eVNlbGVjdGlvbih0eXBlTmFtZSwgcHJvcE5hbWUpO1xyXG4gICAgICAgIGNvbnN0IGRlZmF1bHRFbmFibGVkID0gIWFuYWx5c2lzLmlzUHJvdGVjdGVkOyAvLyBEaXNhYmxlIHByb3RlY3RlZCBhdHRyaWJ1dGVzIGJ5IGRlZmF1bHRcclxuICAgICAgICBjb25zdCBmaW5hbEVuYWJsZWQgPSBzYXZlZFNlbGVjdGlvbiAhPT0gdW5kZWZpbmVkID8gc2F2ZWRTZWxlY3Rpb24gOiBkZWZhdWx0RW5hYmxlZDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIG5hbWU6IGZpbmFsTmFtZSxcclxuICAgICAgICAgIGluZmVycmVkVHlwZTogdGhpcy5pbmZlclR5cGUodmFsdWVzKSxcclxuICAgICAgICAgIGlzT3B0aW9uYWw6IHZhbHVlcy5zb21lKHYgPT4gdiA9PT0gbnVsbCB8fCB2ID09PSB1bmRlZmluZWQpLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuZ2VuZXJhdGVEZXNjcmlwdGlvbihwcm9wTmFtZSwgdHlwZU5hbWUpLFxyXG4gICAgICAgICAgZXhhbXBsZXM6IEFycmF5LmZyb20obmV3IFNldCh2YWx1ZXMpKS5zbGljZSgwLCAzKSxcclxuICAgICAgICAgIGVuYWJsZWQ6IGZpbmFsRW5hYmxlZCxcclxuICAgICAgICAgIC8vIEdyYXBoaXRpIHZhbGlkYXRpb24gZmllbGRzXHJcbiAgICAgICAgICBpc1Byb3RlY3RlZDogYW5hbHlzaXMuaXNQcm90ZWN0ZWQsXHJcbiAgICAgICAgICBuYW1pbmdJc3N1ZXM6IGZpbmFsTmFtaW5nSXNzdWVzLFxyXG4gICAgICAgICAgc3VnZ2VzdGVkTmFtZTogYW5hbHlzaXMuc3VnZ2VzdGVkTmFtZSxcclxuICAgICAgICAgIGNvbXBsaWFuY2VTdGF0dXM6IGZpbmFsQ29tcGxpYW5jZVN0YXR1c1xyXG4gICAgICAgIH07XHJcbiAgICAgIH0pXHJcbiAgICB9KSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGluZmVyVHlwZSh2YWx1ZXM6IGFueVtdKTogUHJvcGVydHlTY2hlbWFbJ2luZmVycmVkVHlwZSddIHtcclxuICAgIGNvbnN0IG5vbk51bGxWYWx1ZXMgPSB2YWx1ZXMuZmlsdGVyKHYgPT4gdiAhPSBudWxsKTtcclxuICAgIGlmIChub25OdWxsVmFsdWVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuICdzdHJpbmcnO1xyXG5cclxuICAgIGNvbnN0IHNhbXBsZSA9IG5vbk51bGxWYWx1ZXNbMF07XHJcblxyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc2FtcGxlKSkgcmV0dXJuICdhcnJheSc7XHJcbiAgICBpZiAodHlwZW9mIHNhbXBsZSA9PT0gJ2Jvb2xlYW4nKSByZXR1cm4gJ2Jvb2xlYW4nO1xyXG4gICAgaWYgKHR5cGVvZiBzYW1wbGUgPT09ICdudW1iZXInKSByZXR1cm4gJ251bWJlcic7XHJcbiAgICBpZiAodGhpcy5pc0RhdGVMaWtlKHNhbXBsZSkpIHJldHVybiAnZGF0ZSc7XHJcbiAgICBpZiAodHlwZW9mIHNhbXBsZSA9PT0gJ29iamVjdCcpIHJldHVybiAnb2JqZWN0JztcclxuXHJcbiAgICByZXR1cm4gJ3N0cmluZyc7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGlzRGF0ZUxpa2UodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xyXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHJldHVybiBmYWxzZTtcclxuICAgIHJldHVybiAvXlxcZHs0fS1cXGR7Mn0tXFxkezJ9Ly50ZXN0KHZhbHVlKSB8fCAhaXNOYU4oRGF0ZS5wYXJzZSh2YWx1ZSkpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZW5lcmF0ZURlc2NyaXB0aW9uKHByb3BOYW1lOiBzdHJpbmcsIHR5cGVOYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgLy8gRW5oYW5jZWQgZGVzY3JpcHRpb24gZ2VuZXJhdGlvbiB3aXRoIHJpY2ggY29udGV4dFxyXG4gICAgY29uc3QgZGVzY3JpcHRpb25zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xyXG4gICAgICAvLyBDb3JlIGlkZW50aXR5IGZpZWxkc1xyXG4gICAgICAnY19uYW1lJzogJ0NvbXBsZXRlIGxlZ2FsIG5hbWUgb3Igb2ZmaWNpYWwgdGl0bGUgYXMgcmVjb2duaXplZCBieSBhdXRob3JpdGllcyBvciBpbiBmb3JtYWwgZG9jdW1lbnRhdGlvbicsXHJcbiAgICAgICdnaXZlbl9uYW1lJzogJ0dpdmVuIG5hbWUgb3IgZmlyc3QgbmFtZSBhcyBjb21tb25seSB1c2VkIGluIGludHJvZHVjdGlvbnMgYW5kIHBlcnNvbmFsIGlkZW50aWZpY2F0aW9uJyxcclxuICAgICAgJ2ZhbWlseV9uYW1lJzogJ0ZhbWlseSBuYW1lLCBzdXJuYW1lLCBvciBsYXN0IG5hbWUgdXNlZCBmb3IgZm9ybWFsIGlkZW50aWZpY2F0aW9uIGFuZCBmYW1pbHkgbGluZWFnZScsXHJcbiAgICAgICdhbGlhc2VzJzogJ0FsdGVybmF0aXZlIG5hbWVzLCBuaWNrbmFtZXMsIHByb2Zlc3Npb25hbCBuYW1lcywgb3IgcHNldWRvbnltcyBieSB3aGljaCB0aGUgZW50aXR5IGlzIGFsc28ga25vd24nLFxyXG5cclxuICAgICAgLy8gV2ViIGFuZCBkaWdpdGFsIGZpZWxkc1xyXG4gICAgICAndXJsJzogJ0NvbXBsZXRlIHdlYiBhZGRyZXNzIG9yIFVSTCB3aGVyZSB0aGUgcmVzb3VyY2UgY2FuIGJlIGFjY2Vzc2VkIG9uIHRoZSBpbnRlcm5ldCcsXHJcbiAgICAgICdzYW1lX2FzJzogJ1VSSXMgb3IgVVJMcyB0aGF0IGlkZW50aWZ5IHRoZSBzYW1lIGVudGl0eSBvbiBvdGhlciBwbGF0Zm9ybXMsIGRhdGFiYXNlcywgb3Iga25vd2xlZGdlIHN5c3RlbXMgZm9yIGVudGl0eSBsaW5raW5nJyxcclxuICAgICAgJ3Blcm1hbGluayc6ICdQZXJtYW5lbnQgbGluayBvciBzdGFibGUgaWRlbnRpZmllciB0aGF0IHJlbWFpbnMgY29uc3RhbnQgb3ZlciB0aW1lJyxcclxuXHJcbiAgICAgIC8vIFRlbXBvcmFsIGZpZWxkc1xyXG4gICAgICAnY3JlYXRlZCc6ICdUaW1lc3RhbXAgd2hlbiB0aGUgbm90ZSBvciBlbnRpdHkgcmVjb3JkIHdhcyBmaXJzdCBjcmVhdGVkIGluIHRoZSBPYnNpZGlhbiB2YXVsdCBmb3IgdHJhY2tpbmcgYW5kIG9yZ2FuaXphdGlvbmFsIHB1cnBvc2VzJyxcclxuICAgICAgJ2NyZWF0ZWRfZGF0ZSc6ICdEYXRlIHdoZW4gdGhlIGNvbnRlbnQgd2FzIG9yaWdpbmFsbHkgY3JlYXRlZCBvciB3aGVuIHRoZSBpZGVhcyB3ZXJlIGZpcnN0IGNhcHR1cmVkIGluIFlZWVktTU0tREQgZm9ybWF0JyxcclxuICAgICAgJ3B1Ymxpc2hlZF9kYXRlJzogJ0RhdGUgd2hlbiB0aGUgY29udGVudCB3YXMgb2ZmaWNpYWxseSBwdWJsaXNoZWQgb3IgbWFkZSBwdWJsaWNseSBhdmFpbGFibGUgaW4gWVlZWS1NTS1ERCBmb3JtYXQnLFxyXG4gICAgICAnYmlydGhfZGF0ZSc6ICdEYXRlIHdoZW4gdGhlIHBlcnNvbiB3YXMgYm9ybiBpbiBZWVlZLU1NLUREIGZvcm1hdCBmb3IgYmlvZ3JhcGhpY2FsIGFuZCBhZ2UgY2FsY3VsYXRpb24gcHVycG9zZXMnLFxyXG4gICAgICAnZm91bmRpbmdfZGF0ZSc6ICdEYXRlIHdoZW4gdGhlIG9yZ2FuaXphdGlvbiB3YXMgb2ZmaWNpYWxseSBlc3RhYmxpc2hlZCwgaW5jb3Jwb3JhdGVkLCBvciBmb3VuZGVkIGluIFlZWVktTU0tREQgZm9ybWF0JyxcclxuXHJcbiAgICAgIC8vIENvbnRlbnQgYW5kIGRlc2NyaXB0aW9uIGZpZWxkc1xyXG4gICAgICAndGl0bGUnOiAnUHJpbWFyeSB0aXRsZSwgaGVhZGxpbmUsIG9yIG5hbWUgdGhhdCBpZGVudGlmaWVzIGFuZCByZXByZXNlbnRzIHRoZSBlbnRpdHknLFxyXG4gICAgICAnZGVzY3JpcHRpb24nOiAnRGV0YWlsZWQgZXhwbGFuYXRpb24gb3Igc3VtbWFyeSB0aGF0IGRlc2NyaWJlcyB0aGUgcHVycG9zZSwgY29udGVudCwgb3IgY2hhcmFjdGVyaXN0aWNzIG9mIHRoZSBlbnRpdHknLFxyXG4gICAgICAnYWJzdHJhY3QnOiAnQnJpZWYgc3VtbWFyeSBvciBvdmVydmlldyB0aGF0IGNhcHR1cmVzIHRoZSBlc3NlbnRpYWwgcG9pbnRzIGFuZCBtYWluIGlkZWFzJyxcclxuICAgICAgJ3N1bW1hcnknOiAnQ29uY2lzZSBvdmVydmlldyB0aGF0IGhpZ2hsaWdodHMgdGhlIGtleSBpbmZvcm1hdGlvbiBhbmQgaW1wb3J0YW50IGRldGFpbHMnLFxyXG5cclxuICAgICAgLy8gQ2xhc3NpZmljYXRpb24gYW5kIGNhdGVnb3JpemF0aW9uXHJcbiAgICAgICd0eXBlJzogJ0VudGl0eSB0eXBlIGNsYXNzaWZpY2F0aW9uIChXZWJQYWdlLCBQZXJzb24sIE9yZ2FuaXphdGlvbiwgUHJvZHVjdCwgVGVjaG5vbG9neSwgUHJvamVjdCwgQXJ0aWNsZSwgRmlsbSwgTXVzaWMsIEJvb2ssIEV2ZW50LCBOb3RlLCBldGMuKScsXHJcbiAgICAgICdjYXRlZ29yeSc6ICdQcmltYXJ5IGNsYXNzaWZpY2F0aW9uIG9yIG1hcmtldCBzZWdtZW50IHRoYXQgZGVzY3JpYmVzIHRoZSBlbnRpdHlcXCdzIHB1cnBvc2UgYW5kIHRhcmdldCBkb21haW4nLFxyXG4gICAgICAndGFncyc6ICdUb3BpYyBrZXl3b3JkcywgY2xhc3NpZmljYXRpb24gbGFiZWxzLCBvciBjYXRlZ29yaWNhbCB0YWdzIHVzZWQgZm9yIG9yZ2FuaXppbmcgYW5kIGZpbHRlcmluZyBjb250ZW50IHdpdGhpbiB0aGUga25vd2xlZGdlIGJhc2UnLFxyXG4gICAgICAnc3RhdHVzJzogJ0N1cnJlbnQgc3RhdGUgb3IgcGhhc2UgaW4gdGhlIGVudGl0eVxcJ3MgbGlmZWN5Y2xlIChhY3RpdmUsIGNvbXBsZXRlZCwgcGxhbm5pbmcsIGV0Yy4pJyxcclxuXHJcbiAgICAgIC8vIFByb2Zlc3Npb25hbCBhbmQgb3JnYW5pemF0aW9uYWxcclxuICAgICAgJ2F1dGhvcic6ICdQZXJzb24gb3Igb3JnYW5pemF0aW9uIHdobyBjcmVhdGVkLCB3cm90ZSwgb3IgaXMgY3JlZGl0ZWQgYXMgdGhlIHByaW1hcnkgY3JlYXRvciBvZiB0aGUgY29udGVudCAoZS5nLiwgXCJKYW5lIFNtaXRoXCIsIFwiTUlUIFJlc2VhcmNoIExhYlwiKScsXHJcbiAgICAgICdqb2JfdGl0bGUnOiAnQ3VycmVudCBwcm9mZXNzaW9uYWwgcm9sZSwgcG9zaXRpb24sIG9yIHRpdGxlIHRoYXQgZGVzY3JpYmVzIHJlc3BvbnNpYmlsaXRpZXMgYW5kIGxldmVsIHdpdGhpbiBhbiBvcmdhbml6YXRpb24gKGUuZy4sIFwiQ0VPXCIsIFwiU2VuaW9yIERldmVsb3BlclwiLCBcIlJlc2VhcmNoIFNjaWVudGlzdFwiKScsXHJcbiAgICAgICd3b3Jrc19mb3InOiAnT3JnYW5pemF0aW9uIHdoZXJlIHBlcnNvbiBpcyBlbXBsb3llZCAoZS5nLiwgXCJBcHBsZSBJbmMuXCIsIFwiR29vZ2xlXCIsIFwiU3RhbmZvcmQgVW5pdmVyc2l0eVwiKScsXHJcbiAgICAgICdvcmdfdHlwZSc6ICdMZWdhbCBvciBMYXdmdWwgc3RydWN0dXJlIGFuZCByZWdpc3RyYXRpb24gdHlwZSBvZiB0aGUgb3JnYW5pemF0aW9uIChlLmcuLCBcIkxMQ1wiLCBcIkluY1wiLCBcIlBhcnRuZXJzaGlwXCIsIFwiNTAxYzNcIiwgXCJHb3Zlcm5tZW50IEFnZW5jeVwiKScsXHJcblxyXG4gICAgICAvLyBDb250YWN0IGFuZCBsb2NhdGlvblxyXG4gICAgICAnZW1haWwnOiAnUHJpbWFyeSBlbWFpbCBhZGRyZXNzIHVzZWQgZm9yIHByb2Zlc3Npb25hbCBvciBwZXJzb25hbCBjb21tdW5pY2F0aW9uIGFuZCBjb250YWN0IHB1cnBvc2VzJyxcclxuICAgICAgJ2FkZHJlc3MnOiAnUGh5c2ljYWwgYWRkcmVzcywgY2l0eSwgc3RhdGUsIG9yIGdlb2dyYXBoaWMgbG9jYXRpb24gd2hlcmUgdGhlIGVudGl0eSBpcyBwcmltYXJpbHkgYmFzZWQgb3IgbG9jYXRlZCcsXHJcblxyXG4gICAgICAvLyBSZWxhdGlvbnNoaXBzIGFuZCBjb25uZWN0aW9uc1xyXG4gICAgICAnbmVlZHMnOiAnU3BlY2lmaWMgcmVzb3VyY2VzLCBza2lsbHMsIGNvbm5lY3Rpb25zLCBvciBzdXBwb3J0IHRoYXQgdGhlIGVudGl0eSByZXF1aXJlcyB0byBhY2hpZXZlIGdvYWxzIG9yIGJlIHN1Y2Nlc3NmdWwnLFxyXG4gICAgICAnb2ZmZXJzJzogJ1NraWxscywgc2VydmljZXMsIGtub3dsZWRnZSwgcmVzb3VyY2VzLCBvciB2YWx1ZSB0aGF0IHRoZSBlbnRpdHkgY2FuIHByb3ZpZGUgdG8gb3RoZXJzIG9yIGNvbnRyaWJ1dGUgdG8gcHJvamVjdHMnLFxyXG5cclxuICAgICAgLy8gVGVjaG5pY2FsIGFuZCBzcGVjaWFsaXplZFxyXG4gICAgICAncHJvamVjdF90eXBlJzogJ0NsYXNzaWZpY2F0aW9uIG9mIHRoZSBwcm9qZWN0XFwncyBwcmltYXJ5IHB1cnBvc2UgYW5kIG1ldGhvZG9sb2d5IChyZXNlYXJjaCwgZGV2ZWxvcG1lbnQsIGluaXRpYXRpdmUsIHN0YXJ0dXAsIGV0Yy4pJyxcclxuICAgICAgJ2FydGljbGVfdHlwZSc6ICdHZW5yZSBvciBmb3JtYXQgY2xhc3NpZmljYXRpb24gb2YgdGhlIHB1Ymxpc2hlZCBjb250ZW50IChlc3NheSwgYmxvZ19wb3N0LCBhbmFseXNpcywgdHV0b3JpYWwsIHdoaXRlcGFwZXIsIGV0Yy4pJyxcclxuICAgICAgJ25vdGVfdHlwZSc6ICdDbGFzc2lmaWNhdGlvbiBvZiB0aGUgbm90ZVxcJ3MgcHVycG9zZSBhbmQgY29udGVudCBzdHJ1Y3R1cmUgKGlkZWEsIGFuYWx5c2lzLCByZWZsZWN0aW9uLCBtZWV0aW5nX25vdGVzLCBldGMuKScsXHJcbiAgICAgICdvZmZlcmluZ190eXBlJzogJ1ByaW1hcnkgYnVzaW5lc3MgbW9kZWwgYW5kIGRlbGl2ZXJ5IG1ldGhvZCBvZiB0aGUgb2ZmZXJpbmcgKHByb2R1Y3QsIHNlcnZpY2UsIHBsYXRmb3JtLCBTYWFTLCBBUEksIGV0Yy4pJyxcclxuICAgICAgJ2lkZW50aXR5X3R5cGUnOiAnQ2xhc3NpZmljYXRpb24gb2YgcGVyc29uXFwncyBsZWdhbCBhbmQgc29jaWFsIGlkZW50aXR5IHN0YXR1cyAobmF0dXJhbF9wZXJzb24sIG5hdGlvbmFsX2lkZW50aXR5LCBwc2V1ZG9ueW0pJyxcclxuXHJcbiAgICAgIC8vIE1lZGlhIGFuZCB2aXN1YWxcclxuICAgICAgJ3RodW1ibmFpbCc6ICdUaHVtYm5haWwgb3IgcHJldmlldyBpbWFnZSBVUkwgdGhhdCBwcm92aWRlcyBhIHZpc3VhbCByZXByZXNlbnRhdGlvbiBvZiB0aGUgY29udGVudCcsXHJcbiAgICAgICdwcmltYXJ5X2ltYWdlJzogJ1ByaW1hcnkgaW1hZ2UgVVJMIHRoYXQgc2VydmVzIGFzIHRoZSBtYWluIHZpc3VhbCBlbGVtZW50IGZvciB0aGUgZW50aXR5J1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBSZXR1cm4gZW5oYW5jZWQgZGVzY3JpcHRpb24gb3IgZ2VuZXJhdGUgY29udGV4dHVhbCBmYWxsYmFja1xyXG4gICAgaWYgKGRlc2NyaXB0aW9uc1twcm9wTmFtZV0pIHtcclxuICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uc1twcm9wTmFtZV07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2VuZXJhdGUgY29udGV4dHVhbCBkZXNjcmlwdGlvbiBiYXNlZCBvbiBwcm9wZXJ0eSBuYW1lIHBhdHRlcm5zXHJcbiAgICBpZiAocHJvcE5hbWUuaW5jbHVkZXMoJ2RhdGUnKSB8fCBwcm9wTmFtZS5pbmNsdWRlcygndGltZScpKSB7XHJcbiAgICAgIHJldHVybiBgRGF0ZSBvciB0aW1lc3RhbXAgZm9yICR7dHlwZU5hbWV9IGVudGl0aWVzIChlLmcuLCBcIjIwMjQtMDEtMTVcIiwgXCIyMDIzLTEyLTMxVDEwOjMwOjAwWlwiKWA7XHJcbiAgICB9XHJcbiAgICBpZiAocHJvcE5hbWUuaW5jbHVkZXMoJ3VybCcpIHx8IHByb3BOYW1lLmluY2x1ZGVzKCdsaW5rJykpIHtcclxuICAgICAgcmV0dXJuIGBXZWIgYWRkcmVzcyBvciBVUkwgYXNzb2NpYXRlZCB3aXRoICR7dHlwZU5hbWV9IGVudGl0aWVzIChlLmcuLCBcImh0dHBzOi8vZXhhbXBsZS5jb21cIiwgXCJodHRwczovL2RvY3MuY29tcGFueS5jb21cIilgO1xyXG4gICAgfVxyXG4gICAgaWYgKHByb3BOYW1lLmluY2x1ZGVzKCduYW1lJykgfHwgcHJvcE5hbWUuaW5jbHVkZXMoJ3RpdGxlJykpIHtcclxuICAgICAgcmV0dXJuIGBOYW1lIG9yIHRpdGxlIHRoYXQgaWRlbnRpZmllcyAke3R5cGVOYW1lfSBlbnRpdGllcyAoZS5nLiwgXCJKb2huIFNtaXRoXCIsIFwiUHJvamVjdCBBbHBoYVwiLCBcIkNvbXBhbnkgSW5jLlwiKWA7XHJcbiAgICB9XHJcbiAgICBpZiAocHJvcE5hbWUuaW5jbHVkZXMoJ3R5cGUnKSB8fCBwcm9wTmFtZS5pbmNsdWRlcygnY2F0ZWdvcnknKSkge1xyXG4gICAgICByZXR1cm4gYENsYXNzaWZpY2F0aW9uIHRoYXQgY2F0ZWdvcml6ZXMgJHt0eXBlTmFtZX0gZW50aXRpZXMgKGUuZy4sIFwic29mdHdhcmVcIiwgXCJoYXJkd2FyZVwiLCBcInNlcnZpY2VcIilgO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdlbmVyYXRlIG1vcmUgc3BlY2lmaWMgZmFsbGJhY2sgYmFzZWQgb24gcHJvcGVydHkgbmFtZSBwYXR0ZXJuc1xyXG4gICAgY29uc3QgY2xlYW5Qcm9wTmFtZSA9IHByb3BOYW1lLnJlcGxhY2UoL18vZywgJyAnKTtcclxuICAgIHJldHVybiBgJHtjbGVhblByb3BOYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgY2xlYW5Qcm9wTmFtZS5zbGljZSgxKX0gYXNzb2NpYXRlZCB3aXRoICR7dHlwZU5hbWV9IGVudGl0aWVzYDtcclxuICB9XHJcblxyXG4gIGFzeW5jIGdlbmVyYXRlUHlkYW50aWNNb2RlbHMoc2NoZW1hczogVHlwZVNjaGVtYVtdKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuXHJcbiAgICAvLyBNb2R1bGUgZG9jdW1lbnRhdGlvblxyXG4gICAgY29uc3QgbW9kdWxlRG9jID0gYFwiXCJcIlxyXG5QeWRhbnRpYyBtb2RlbHMgZm9yIE9ic2lkaWFuLUdyYXBoaXRpIGtub3dsZWRnZSBncmFwaCBlbnRpdGllcy5cclxuXHJcblRoaXMgbW9kdWxlIGNvbnRhaW5zIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIFB5ZGFudGljIG1vZGVscyBiYXNlZCBvbiBzY2hlbWEgZGlzY292ZXJ5XHJcbmZyb20gT2JzaWRpYW4gdmF1bHQgbm90ZXMuIFRoZXNlIG1vZGVscyBhcmUgZGVzaWduZWQgdG8gd29yayB3aXRoIHRoZSBHcmFwaGl0aVxyXG5rbm93bGVkZ2UgZ3JhcGggZnJhbWV3b3JrIGZvciBlbnRpdHkgZXh0cmFjdGlvbiBhbmQgcmVsYXRpb25zaGlwIG1hcHBpbmcuXHJcblxyXG5HZW5lcmF0ZWQgbW9kZWxzIGluaGVyaXQgZnJvbSBCYXNlRW50aXR5IHdoaWNoIHByb3ZpZGVzIGNvcmUgcHJvcGVydGllcyByZXF1aXJlZFxyXG5ieSBHcmFwaGl0aSBmb3Iga25vd2xlZGdlIGdyYXBoIHByb2Nlc3NpbmcgaW5jbHVkaW5nIHR5cGUgY2xhc3NpZmljYXRpb24sIHRhZ3MsXHJcbmFuZCBjcmVhdGlvbiB0aW1lc3RhbXBzLlxyXG5cclxuVXNhZ2U6XHJcbiAgICBmcm9tIGdyYXBoaXRpX21vZGVscyBpbXBvcnQgUGVyc29uLCBPcmdhbml6YXRpb24sIFByb2plY3RcclxuXHJcbiAgICAjIENyZWF0ZSBlbnRpdHkgaW5zdGFuY2VzXHJcbiAgICBwZXJzb24gPSBQZXJzb24oXHJcbiAgICAgICAgY19uYW1lPVwiSm9obiBEb2VcIixcclxuICAgICAgICBqb2JfdGl0bGU9XCJTb2Z0d2FyZSBFbmdpbmVlclwiLFxyXG4gICAgICAgIGVtYWlsPVwiam9obkBleGFtcGxlLmNvbVwiXHJcbiAgICApXHJcblxyXG4gICAgIyBBbGwgZW50aXRpZXMgaGF2ZSBjb3JlIEJhc2VFbnRpdHkgcHJvcGVydGllc1xyXG4gICAgcGVyc29uLnR5cGUgPSBcIlBlcnNvblwiXHJcbiAgICBwZXJzb24udGFncyA9IFtcInByb2Zlc3Npb25hbFwiLCBcImNvbnRhY3RcIl1cclxuICAgIHBlcnNvbi5jcmVhdGVkID0gZGF0ZXRpbWUubm93KClcclxuXHJcbk5vdGU6IFRoaXMgZmlsZSBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZC4gTWFudWFsIGVkaXRzIHdpbGwgYmUgb3ZlcndyaXR0ZW5cclxuZHVyaW5nIHRoZSBuZXh0IHNjaGVtYSBkaXNjb3ZlcnkgcHJvY2Vzcy5cclxuXCJcIlwiYDtcclxuXHJcbiAgICBjb25zdCBpbXBvcnRzID0gW1xyXG4gICAgICAnZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsLCBMaXN0LCBEaWN0LCBBbnknLFxyXG4gICAgICAnZnJvbSBweWRhbnRpYyBpbXBvcnQgQmFzZU1vZGVsLCBGaWVsZCcsXHJcbiAgICAgICdmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZScsXHJcbiAgICAgICcnXHJcbiAgICBdO1xyXG5cclxuICAgIC8vIEJhc2VFbnRpdHkgY2xhc3Mgd2l0aCB1bml2ZXJzYWwgcHJvcGVydGllc1xyXG4gICAgY29uc3QgYmFzZUVudGl0eSA9IGBjbGFzcyBCYXNlRW50aXR5KEJhc2VNb2RlbCk6XHJcbiAgICBcIlwiXCJcclxuICAgIEJhc2UgY2xhc3MgZm9yIGFsbCBHcmFwaGl0aSBrbm93bGVkZ2UgZ3JhcGggZW50aXRpZXMuXHJcblxyXG4gICAgUHJvdmlkZXMgY29yZSBwcm9wZXJ0aWVzIHJlcXVpcmVkIGJ5IEdyYXBoaXRpIGZvciBlbnRpdHkgcHJvY2Vzc2luZyxcclxuICAgIHJlbGF0aW9uc2hpcCBtYXBwaW5nLCBhbmQga25vd2xlZGdlIGdyYXBoIGNvbnN0cnVjdGlvbi5cclxuICAgIFwiXCJcIlxyXG4gICAgdGFnczogT3B0aW9uYWxbTGlzdFtzdHJdXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiVG9waWMga2V5d29yZHMsIGNsYXNzaWZpY2F0aW9uIGxhYmVscywgb3IgY2F0ZWdvcmljYWwgdGFncyB1c2VkIGZvciBvcmdhbml6aW5nIGFuZCBmaWx0ZXJpbmcgY29udGVudCB3aXRoaW4gdGhlIGtub3dsZWRnZSBiYXNlXCIpXHJcbmA7XHJcblxyXG4gICAgLy8gZ2VuZXJhdGUgbW9kZWxzIGluIGNvYXJzZS1ncmFpbmVkIGNodW5rcyBhbmQgeWllbGQgdG8gZXZlbnQgbG9vcCB0byBhdm9pZCBibG9ja2luZyByZW5kZXJlclxyXG4gICAgY29uc3QgbW9kZWxzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgY29uc3QgQ0hVTktfU0laRSA9IDUwO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY2hlbWFzLmxlbmd0aDsgaSArPSBDSFVOS19TSVpFKSB7XHJcbiAgICAgIGNvbnN0IGNodW5rID0gc2NoZW1hcy5zbGljZShpLCBpICsgQ0hVTktfU0laRSk7XHJcbiAgICAgIGNodW5rLmZvckVhY2goc2NoZW1hID0+IG1vZGVscy5wdXNoKHRoaXMuZ2VuZXJhdGVTaW5nbGVNb2RlbChzY2hlbWEpKSk7XHJcblxyXG4gICAgICAvLyB5aWVsZCB0byBldmVudCBsb29wIHRvIGF2b2lkIGJsb2NraW5nIHJlbmRlcmVyXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocikgPT4gc2V0VGltZW91dChyLCAwKSk7XHJcbiAgICAgIH0gY2F0Y2ggKF8pIHtcclxuICAgICAgICAvLyBlbnZpcm9ubWVudCBtYXkgbm90IHN1cHBvcnQgeWllbGRpbmcgLSBpZ25vcmVcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEFkZCBFZGdlIFR5cGVzIChyZWxhdGlvbnNoaXAgbW9kZWxzKVxyXG4gICAgY29uc3QgZWRnZVR5cGVzID0gdGhpcy5nZW5lcmF0ZUVkZ2VUeXBlcygpO1xyXG5cclxuICAgIC8vIEFkZCBFZGdlIFR5cGUgTWFwXHJcbiAgICBjb25zdCBlZGdlVHlwZU1hcCA9IHRoaXMuZ2VuZXJhdGVFZGdlVHlwZU1hcChzY2hlbWFzKTtcclxuXHJcbiAgICByZXR1cm4gW21vZHVsZURvYywgJycsIC4uLmltcG9ydHMsIGJhc2VFbnRpdHksIC4uLm1vZGVscywgZWRnZVR5cGVzLCBlZGdlVHlwZU1hcF0uam9pbignXFxuJyk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdlbmVyYXRlU2luZ2xlTW9kZWwoc2NoZW1hOiBUeXBlU2NoZW1hKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IGNsYXNzTmFtZSA9IHNjaGVtYS50eXBlTmFtZS5yZXBsYWNlKC9cXHMrL2csICcnKS5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZywgJycpO1xyXG5cclxuICAgIC8vIEZpbHRlciBvdXQgcHJvdGVjdGVkIGF0dHJpYnV0ZXMgYW5kIHVzZSBzdWdnZXN0ZWQgbmFtZXNcclxuICAgIGNvbnN0IHZhbGlkUHJvcGVydGllcyA9IHNjaGVtYS5wcm9wZXJ0aWVzXHJcbiAgICAgIC5maWx0ZXIocCA9PiBwLmVuYWJsZWQgIT09IGZhbHNlICYmICFwLmlzUHJvdGVjdGVkKVxyXG4gICAgICAubWFwKHByb3AgPT4ge1xyXG4gICAgICAgIGNvbnN0IHB5dGhvblR5cGUgPSB0aGlzLmdldFB5dGhvblR5cGUocHJvcCk7XHJcbiAgICAgICAgY29uc3QgZmllbGROYW1lID0gcHJvcC5zdWdnZXN0ZWROYW1lIHx8IHByb3AubmFtZTtcclxuXHJcbiAgICAgICAgLy8gVXNlIGVuaGFuY2VkIGRlc2NyaXB0aW9uIGdlbmVyYXRpb25cclxuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IHRoaXMuZ2VuZXJhdGVEZXNjcmlwdGlvbihwcm9wLm5hbWUsIHNjaGVtYS50eXBlTmFtZSk7XHJcblxyXG4gICAgICAgIC8vIEFsbCBmaWVsZHMgYXJlIE9wdGlvbmFsIGJ5IGRlZmF1bHQgKFBoYXNlIDEgcmVxdWlyZW1lbnQpXHJcbiAgICAgICAgcmV0dXJuIGAgICAgJHtmaWVsZE5hbWV9OiBPcHRpb25hbFske3B5dGhvblR5cGV9XSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiJHtkZXNjcmlwdGlvbn1cIilgO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAvLyBBZGQgY29tbWVudHMgZm9yIHByb3RlY3RlZCBhdHRyaWJ1dGVzIHRoYXQgd2VyZSBza2lwcGVkXHJcbiAgICBjb25zdCBwcm90ZWN0ZWRDb21tZW50cyA9IHNjaGVtYS5wcm9wZXJ0aWVzXHJcbiAgICAgIC5maWx0ZXIocCA9PiBwLmlzUHJvdGVjdGVkKVxyXG4gICAgICAubWFwKHByb3AgPT4gYCAgICAjIFNLSVBQRUQ6ICcke3Byb3AubmFtZX0nIC0gcHJvdGVjdGVkIGF0dHJpYnV0ZSAodXNlICcke3Byb3Auc3VnZ2VzdGVkTmFtZX0nIGluc3RlYWQpYCk7XHJcblxyXG4gICAgY29uc3QgYWxsTGluZXMgPSBbLi4udmFsaWRQcm9wZXJ0aWVzLCAuLi5wcm90ZWN0ZWRDb21tZW50c107XHJcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0gYWxsTGluZXMubGVuZ3RoID4gMCA/IGFsbExpbmVzLmpvaW4oJ1xcbicpIDogJyAgICBwYXNzJztcclxuXHJcbiAgICAvLyBVc2UgZGVmYXVsdCBkZXNjcmlwdGlvbiBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSB1c2UgY3VzdG9tIGZhbGxiYWNrXHJcbiAgICBjb25zdCBkZWZhdWx0RGVzY3JpcHRpb24gPSBERUZBVUxUX0VOVElUWV9ERVNDUklQVElPTlNbY2xhc3NOYW1lXTtcclxuICAgIGNvbnN0IGNsYXNzRG9jID0gZGVmYXVsdERlc2NyaXB0aW9uIHx8IGBDdXN0b20gJHtjbGFzc05hbWV9IGVudGl0eS5cXG4gICAgXFxuICAgIFVzZSB0aGlzIGVudGl0eSB0eXBlIGZvciAke2NsYXNzTmFtZX0gY29udGVudCB0aGF0IGRvZXNuJ3QgbWF0Y2hcXG4gICAgdGhlIHN0YW5kYXJkIGVudGl0eSB0eXBlcyBpbiB5b3VyIGtub3dsZWRnZSBkb21haW4uYDtcclxuXHJcbiAgICByZXR1cm4gYGNsYXNzICR7Y2xhc3NOYW1lfShCYXNlRW50aXR5KTpcclxuICAgIFwiXCJcIlxyXG4gICAgJHtjbGFzc0RvY31cclxuICAgIFwiXCJcIlxyXG4ke3Byb3BlcnRpZXN9XHJcblxyXG5gO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZW5lcmF0ZUVkZ2VUeXBlcygpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGBcclxuIyBFZGdlIFR5cGVzIC0gUmVsYXRpb25zaGlwIE1vZGVsc1xyXG5jbGFzcyBXb3Jrc0ZvcihCYXNlTW9kZWwpOlxyXG4gICAgXCJcIlwiUGVyc29uIGVtcGxveWVkIGJ5IE9yZ2FuaXphdGlvblwiXCJcIlxyXG4gICAgam9iX3RpdGxlOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJDdXJyZW50IHByb2Zlc3Npb25hbCByb2xlLCBwb3NpdGlvbiwgb3IgdGl0bGUgdGhhdCBkZXNjcmliZXMgcmVzcG9uc2liaWxpdGllcyBhbmQgbGV2ZWwgd2l0aGluIGFuIG9yZ2FuaXphdGlvblwiKVxyXG4gICAgZW1wbG95bWVudF90eXBlOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJFbXBsb3ltZW50IGNsYXNzaWZpY2F0aW9uIHN1Y2ggYXMgZnVsbC10aW1lLCBwYXJ0LXRpbWUsIGNvbnRyYWN0b3IsIGNvbnN1bHRhbnQsIGFkdmlzb3IsIG9yIGludGVyblwiKVxyXG4gICAgc3RhcnRfZGF0ZTogT3B0aW9uYWxbZGF0ZXRpbWVdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJEYXRlIHdoZW4gdGhlIGVtcGxveW1lbnQgcmVsYXRpb25zaGlwIGJlZ2FuIGluIFlZWVktTU0tREQgZm9ybWF0XCIpXHJcblxyXG5jbGFzcyBVc2VzKEJhc2VNb2RlbCk6XHJcbiAgICBcIlwiXCJQZXJzb24vT3JnYW5pemF0aW9uIHVzZXMgVGVjaG5vbG9neS9Qcm9kdWN0XCJcIlwiXHJcbiAgICBzZW50aW1lbnQ6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIlVzZXIncyBhdHRpdHVkZSBvciBmZWVsaW5nIHRvd2FyZCB0aGUgdGVjaG5vbG9neSAocG9zaXRpdmUsIG5lZ2F0aXZlLCBuZXV0cmFsLCBsb3ZlLCBoYXRlKVwiKVxyXG4gICAgcHJvZmljaWVuY3k6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIlVzZXIncyBza2lsbCBsZXZlbCBvciBleHBlcnRpc2Ugd2l0aCB0aGUgdGVjaG5vbG9neSAoYmVnaW5uZXIsIGludGVybWVkaWF0ZSwgYWR2YW5jZWQsIGV4cGVydClcIilcclxuICAgIHVzYWdlX2NvbnRleHQ6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIkNvbnRleHQgb3IgZW52aXJvbm1lbnQgd2hlcmUgdGhlIHRlY2hub2xvZ3kgaXMgdXNlZCAoZGV2ZWxvcG1lbnQsIHByb2R1Y3Rpb24sIHBlcnNvbmFsLCB0ZXN0aW5nKVwiKVxyXG4gICAgc3RhdHVzOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJDdXJyZW50IHVzYWdlIHN0YXR1cyAoYWN0aXZlLCBpbmFjdGl2ZSwgdHJpYWwsIHBhaWRfYWNjb3VudCwgZXZhbHVhdGluZylcIilcclxuICAgIHN0YXJ0X2RhdGU6IE9wdGlvbmFsW2RhdGV0aW1lXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiRGF0ZSB3aGVuIHVzYWdlIGJlZ2FuIGluIFlZWVktTU0tREQgZm9ybWF0XCIpXHJcblxyXG5jbGFzcyBDcmVhdGVzKEJhc2VNb2RlbCk6XHJcbiAgICBcIlwiXCJQZXJzb24vT3JnYW5pemF0aW9uIGNyZWF0ZXMgVGVjaG5vbG9neS9Qcm9kdWN0L1Byb2plY3RcIlwiXCJcclxuICAgIHJvbGU6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIkNyZWF0b3IncyByb2xlIGluIHRoZSBjcmVhdGlvbiBwcm9jZXNzIChmb3VuZGVyLCBsZWFkX2RldmVsb3BlciwgY29udHJpYnV0b3IsIGRlc2lnbmVyLCBhcmNoaXRlY3QpXCIpXHJcbiAgICBjb250cmlidXRpb25fdHlwZTogT3B0aW9uYWxbc3RyXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiVHlwZSBvZiBjb250cmlidXRpb24gbWFkZSAoY29kZSwgZGVzaWduLCBzdHJhdGVneSwgZnVuZGluZywgZG9jdW1lbnRhdGlvbiwgdGVzdGluZylcIilcclxuXHJcbmNsYXNzIEtub3dzKEJhc2VNb2RlbCk6XHJcbiAgICBcIlwiXCJQZXJzb24ga25vd3MgUGVyc29uIChwZXJzb25hbCBvciBwcm9mZXNzaW9uYWwgcmVsYXRpb25zaGlwKVwiXCJcIlxyXG4gICAgcmVsYXRpb25zaGlwX3R5cGU6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIk5hdHVyZSBvZiB0aGUgcmVsYXRpb25zaGlwIChjb2xsZWFndWUsIG1lbnRvciwgZnJpZW5kLCBjb2xsYWJvcmF0b3IsIGFjcXVhaW50YW5jZSlcIilcclxuICAgIGNvbnRleHQ6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIkNvbnRleHQgb3Igc2V0dGluZyB3aGVyZSB0aGV5IGtub3cgZWFjaCBvdGhlciAod29yaywgc2Nob29sLCBpbmR1c3RyeSwgcGVyc29uYWwpXCIpXHJcblxyXG5jbGFzcyBNZW1iZXJPZihCYXNlTW9kZWwpOlxyXG4gICAgXCJcIlwiUGVyc29uL09yZ2FuaXphdGlvbiBpcyBtZW1iZXIgb2YgT3JnYW5pemF0aW9uXCJcIlwiXHJcbiAgICByb2xlOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJNZW1iZXIncyByb2xlIG9yIHBvc2l0aW9uIHdpdGhpbiB0aGUgb3JnYW5pemF0aW9uIChlbXBsb3llZSwgdm9sdW50ZWVyLCBib2FyZF9tZW1iZXIsIGN1c3RvbWVyLCBwYXJ0bmVyKVwiKVxyXG4gICAgc3RhcnRfZGF0ZTogT3B0aW9uYWxbZGF0ZXRpbWVdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJEYXRlIHdoZW4gbWVtYmVyc2hpcCBiZWdhbiBpbiBZWVlZLU1NLUREIGZvcm1hdFwiKVxyXG4gICAgc3RhdHVzOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJDdXJyZW50IG1lbWJlcnNoaXAgc3RhdHVzIChhY3RpdmUsIGluYWN0aXZlLCBzdXNwZW5kZWQsIHRyaWFsLCBwYWlkKVwiKVxyXG5cclxuY2xhc3MgUGFydG5lcnNXaXRoKEJhc2VNb2RlbCk6XHJcbiAgICBcIlwiXCJQZXJzb24vT3JnYW5pemF0aW9uIHBhcnRuZXJzIHdpdGggUGVyc29uL09yZ2FuaXphdGlvblwiXCJcIlxyXG4gICAgcGFydG5lcnNoaXBfdHlwZTogT3B0aW9uYWxbc3RyXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiVHlwZSBvZiBwYXJ0bmVyc2hpcCAoc3RyYXRlZ2ljLCBzdXBwbGllciwgaW52ZXN0bWVudCwgY29uc3VsdGluZywgYWR2aXNvcnksIGpvaW50X3ZlbnR1cmUpXCIpXHJcbiAgICBzdGFydF9kYXRlOiBPcHRpb25hbFtkYXRldGltZV0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIkRhdGUgd2hlbiBwYXJ0bmVyc2hpcCBiZWdhbiBpbiBZWVlZLU1NLUREIGZvcm1hdFwiKVxyXG4gICAgc3RhdHVzOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJDdXJyZW50IHBhcnRuZXJzaGlwIHN0YXR1cyAoYWN0aXZlLCBpbmFjdGl2ZSwgY29tcGxldGVkLCBuZWdvdGlhdGluZylcIilcclxuXHJcbmNsYXNzIERlcGVuZHNPbihCYXNlTW9kZWwpOlxyXG4gICAgXCJcIlwiVGVjaG5vbG9neS9Qcm9kdWN0IGRlcGVuZHMgb24gVGVjaG5vbG9neVwiXCJcIlxyXG4gICAgZGVwZW5kZW5jeV90eXBlOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJUeXBlIG9mIGRlcGVuZGVuY3kgKHJ1bnRpbWUsIGJ1aWxkX3RpbWUsIGRldmVsb3BtZW50LCBpbmZyYXN0cnVjdHVyZSwgb3B0aW9uYWwpXCIpXHJcbiAgICB2ZXJzaW9uOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJSZXF1aXJlZCB2ZXJzaW9uIG9yIHZlcnNpb24gcmFuZ2UgZm9yIHRoZSBkZXBlbmRlbmN5XCIpXHJcblxyXG5jbGFzcyBJbnRlZ3JhdGVkV2l0aChCYXNlTW9kZWwpOlxyXG4gICAgXCJcIlwiUHJvZHVjdC9UZWNobm9sb2d5IGhhcyBidWlsdC1pbiBpbnRlZ3JhdGlvbiB3aXRoIFByb2R1Y3QvVGVjaG5vbG9neVwiXCJcIlxyXG4gICAgaW50ZWdyYXRpb25fdHlwZTogT3B0aW9uYWxbc3RyXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiVHlwZSBvZiBpbnRlZ3JhdGlvbiAobmF0aXZlLCBwbHVnaW4sIEFQSSwgd2ViaG9vaywgU0RLLCBlbWJlZGRlZClcIilcclxuICAgIGJpZGlyZWN0aW9uYWw6IE9wdGlvbmFsW2Jvb2xdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJXaGV0aGVyIHRoZSBpbnRlZ3JhdGlvbiB3b3JrcyBpbiBib3RoIGRpcmVjdGlvbnMgYmV0d2VlbiB0aGUgdGVjaG5vbG9naWVzXCIpXHJcblxyXG5jbGFzcyBBYm91dChCYXNlTW9kZWwpOlxyXG4gICAgXCJcIlwiV2ViUGFnZS9Ob3RlL0FydGljbGUgYWJvdXQgRW50aXR5XCJcIlwiXHJcbiAgICBjb3ZlcmFnZV90eXBlOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJEZXB0aCBvZiBjb3ZlcmFnZSAoY29tcHJlaGVuc2l2ZSwgbWVudGlvbiwgYW5hbHlzaXMsIHR1dG9yaWFsLCByZXZpZXcpXCIpXHJcbiAgICBhdXRob3JpdHk6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIlNvdXJjZSBhdXRob3JpdHkgbGV2ZWwgKG9mZmljaWFsLCBjb21tdW5pdHksIGV4cGVydF9hbmFseXNpcywgdXNlcl9nZW5lcmF0ZWQpXCIpXHJcblxyXG5jbGFzcyBJc1BhcnRPZihCYXNlTW9kZWwpOlxyXG4gICAgXCJcIlwiV2ViUGFnZSBwYXJ0IG9mIFdlYnNpdGUvRG9tYWluXCJcIlwiXHJcbiAgICByZWxhdGlvbnNoaXBfdHlwZTogT3B0aW9uYWxbc3RyXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiVHlwZSBvZiByZWxhdGlvbnNoaXAgKHBhZ2UsIGFydGljbGUsIGRvY3VtZW50YXRpb24sIHNlY3Rpb24sIHN1YmRvbWFpbilcIilcclxuXHJcbmNsYXNzIFRhZ3MoQmFzZU1vZGVsKTpcclxuICAgIFwiXCJcIkVudGl0eSBpcyB0YWdnZWQgd2l0aCBhbm90aGVyIEVudGl0eVwiXCJcIlxyXG4gICAgcGFzc1xyXG5cclxuIyBOZXcgZWRnZSB0eXBlc1xyXG5jbGFzcyBQZXJmb3JtZWRCeShCYXNlTW9kZWwpOlxyXG4gICAgXCJcIlwiTXVzaWNhbCB3b3JrIHBlcmZvcm1lZCBieSBBcnRpc3QvUGVyc29uXCJcIlwiXHJcbiAgICBwZXJmb3JtYW5jZV90eXBlOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJUeXBlIG9mIHBlcmZvcm1hbmNlIHJlbGF0aW9uc2hpcCAob3JpZ2luYWxfYXJ0aXN0LCBjb3Zlcl92ZXJzaW9uLCBsaXZlX3BlcmZvcm1hbmNlLCBjb2xsYWJvcmF0aW9uLCBmZWF0dXJlZF9hcnRpc3QpXCIpXHJcbiAgICByb2xlOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJTcGVjaWZpYyByb2xlIGluIHRoZSBwZXJmb3JtYW5jZSAobGVhZF92b2NhbHMsIGluc3RydW1lbnRhbGlzdCwgcHJvZHVjZXIsIGZlYXR1cmVkLCBiYWNraW5nX3ZvY2FscylcIilcclxuICAgIHBlcmZvcm1hbmNlX2RhdGU6IE9wdGlvbmFsW2RhdGV0aW1lXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiRGF0ZSB3aGVuIHRoaXMgcGVyZm9ybWFuY2Ugb3IgcmVjb3JkaW5nIHRvb2sgcGxhY2UgaW4gWVlZWS1NTS1ERCBmb3JtYXRcIilcclxuXHJcbmNsYXNzIEluZmx1ZW5jZWRCeShCYXNlTW9kZWwpOlxyXG4gICAgXCJcIlwiRW50aXR5IGluZmx1ZW5jZWQgb3IgaW5zcGlyZWQgYnkgYW5vdGhlciBFbnRpdHlcIlwiXCJcclxuICAgIGluZmx1ZW5jZV90eXBlOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJOYXR1cmUgb2YgdGhlIGluZmx1ZW5jZSByZWxhdGlvbnNoaXAgKGFydGlzdGljLCBpbnRlbGxlY3R1YWwsIG1ldGhvZG9sb2dpY2FsLCBwaGlsb3NvcGhpY2FsLCB0ZWNobmljYWwpXCIpXHJcbiAgICBkZXNjcmlwdGlvbjogT3B0aW9uYWxbc3RyXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiU3BlY2lmaWMgd2F5cyB0aGlzIGVudGl0eSB3YXMgaW5mbHVlbmNlZCwgaW5jbHVkaW5nIGNvbmNlcHRzLCB0ZWNobmlxdWVzLCBvciBhcHByb2FjaGVzIGFkb3B0ZWRcIilcclxuICAgIHN0cmVuZ3RoOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJEZWdyZWUgb2YgaW5mbHVlbmNlIGltcGFjdCAobWlub3IsIG1vZGVyYXRlLCBtYWpvciwgZm91bmRhdGlvbmFsLCB0cmFuc2Zvcm1hdGl2ZSlcIilcclxuXHJcbmNsYXNzIENvbGxhYm9yYXRlc1dpdGgoQmFzZU1vZGVsKTpcclxuICAgIFwiXCJcIlBlcnNvbi9Pcmdhbml6YXRpb24gYWN0aXZlbHkgY29sbGFib3JhdGVzIHdpdGggUGVyc29uL09yZ2FuaXphdGlvblwiXCJcIlxyXG4gICAgY29sbGFib3JhdGlvbl90eXBlOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJOYXR1cmUgb2YgdGhlIGNvbGxhYm9yYXRpdmUgcmVsYXRpb25zaGlwIChwcm9qZWN0X3BhcnRuZXIsIGNvX2F1dGhvciwgam9pbnRfdmVudHVyZSwgcmVzZWFyY2hfcGFydG5lciwgY3JlYXRpdmVfcGFydG5lcilcIilcclxuICAgIGNvbGxhYm9yYXRpb25fc3RhdHVzOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJDdXJyZW50IHN0YXRlIG9mIHRoZSBjb2xsYWJvcmF0aW9uIChhY3RpdmUsIGNvbXBsZXRlZCwgcGxhbm5lZCwgb25faG9sZCwgcmVjdXJyaW5nKVwiKVxyXG4gICAgc3RhcnRfZGF0ZTogT3B0aW9uYWxbZGF0ZXRpbWVdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJEYXRlIHdoZW4gdGhlIGNvbGxhYm9yYXRpb24gYmVnYW4gaW4gWVlZWS1NTS1ERCBmb3JtYXRcIilcclxuXHJcbmNsYXNzIE9yZ2FuaXplZEJ5KEJhc2VNb2RlbCk6XHJcbiAgICBcIlwiXCJFdmVudCBvcmdhbml6ZWQgYW5kIG1hbmFnZWQgYnkgUGVyc29uL09yZ2FuaXphdGlvblwiXCJcIlxyXG4gICAgb3JnYW5pemF0aW9uYWxfcm9sZTogT3B0aW9uYWxbc3RyXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiU3BlY2lmaWMgcm9sZSBpbiBvcmdhbml6aW5nIHRoZSBldmVudCAobGVhZF9vcmdhbml6ZXIsIGNvX29yZ2FuaXplciwgZXZlbnRfbWFuYWdlciwgbG9naXN0aWNzX2Nvb3JkaW5hdG9yLCBwcm9ncmFtX2RpcmVjdG9yKVwiKVxyXG4gICAgcmVzcG9uc2liaWxpdGllczogT3B0aW9uYWxbc3RyXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiU3BlY2lmaWMgZHV0aWVzIGFuZCBhcmVhcyBvZiByZXNwb25zaWJpbGl0eSBpbiBldmVudCBvcmdhbml6YXRpb24gKGxvZ2lzdGljcywgcHJvZ3JhbW1pbmcsIG1hcmtldGluZywgc3BvbnNvcnNoaXBzKVwiKVxyXG5cclxuY2xhc3MgQXR0ZW5kZWRCeShCYXNlTW9kZWwpOlxyXG4gICAgXCJcIlwiRXZlbnQgYXR0ZW5kZWQgb3IgcGFydGljaXBhdGVkIGluIGJ5IFBlcnNvblwiXCJcIlxyXG4gICAgYXR0ZW5kYW5jZV90eXBlOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJOYXR1cmUgb2YgYXR0ZW5kYW5jZSBvciBwYXJ0aWNpcGF0aW9uIChwcmVzZW50ZXIsIGF0dGVuZGVlLCBrZXlub3RlX3NwZWFrZXIsIHBhbmVsaXN0LCBzcG9uc29yLCB2b2x1bnRlZXIpXCIpXHJcbiAgICBwYXJ0aWNpcGF0aW9uX2xldmVsOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJEZWdyZWUgb2YgaW52b2x2ZW1lbnQgaW4gdGhlIGV2ZW50IChhY3RpdmVfcGFydGljaXBhbnQsIHBhc3NpdmVfYXR0ZW5kZWUsIGZlYXR1cmVkX3NwZWFrZXIsIG9yZ2FuaXplcilcIilcclxuXHJcbmNsYXNzIFBhcnRPZlNlcmllcyhCYXNlTW9kZWwpOlxyXG4gICAgXCJcIlwiRW50aXR5IHRoYXQgYmVsb25ncyB0byBvciBjb250aW51ZXMgYSBzZXJpZXMvc2VxdWVuY2VcIlwiXCJcclxuICAgIHNlcXVlbmNlX3Bvc2l0aW9uOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJQb3NpdGlvbiBvciBvcmRlciB3aXRoaW4gdGhlIHNlcmllcyAoZXBpc29kZV8xLCBwYXJ0XzIsIHZvbHVtZV8zLCBzZWFzb25fMV9lcGlzb2RlXzUpXCIpXHJcbiAgICBzZXJpZXNfcmVsYXRpb25zaGlwOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJUeXBlIG9mIHJlbGF0aW9uc2hpcCB0byB0aGUgc2VyaWVzIChzZXF1ZWwsIHByZXF1ZWwsIHNwaW5fb2ZmLCBjb250aW51YXRpb24sIHBhcnRfb2ZfY29sbGVjdGlvbilcIilcclxuXHJcbmNsYXNzIExlYWRCeShCYXNlTW9kZWwpOlxyXG4gICAgXCJcIlwiUHJvamVjdC9Pcmdhbml6YXRpb24vSW5pdGlhdGl2ZSBsZWQgb3IgZGlyZWN0ZWQgYnkgUGVyc29uXCJcIlwiXHJcbiAgICBsZWFkZXJzaGlwX3JvbGU6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIlNwZWNpZmljIGxlYWRlcnNoaXAgcG9zaXRpb24gYW5kIGF1dGhvcml0eSAoY2VvLCBwcm9qZWN0X21hbmFnZXIsIHRlYW1fbGVhZCwgY3JlYXRpdmVfZGlyZWN0b3IsIHByaW5jaXBhbF9pbnZlc3RpZ2F0b3IpXCIpXHJcbiAgICBsZWFkZXJzaGlwX3N0YXJ0X2RhdGU6IE9wdGlvbmFsW2RhdGV0aW1lXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiRGF0ZSB3aGVuIGxlYWRlcnNoaXAgcm9sZSBiZWdhbiBpbiBZWVlZLU1NLUREIGZvcm1hdFwiKVxyXG4gICAgbGVhZGVyc2hpcF9zY29wZTogT3B0aW9uYWxbc3RyXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiQXJlYXMgb2YgcmVzcG9uc2liaWxpdHkgYW5kIGRlY2lzaW9uLW1ha2luZyBhdXRob3JpdHkgKHN0cmF0ZWdpYywgb3BlcmF0aW9uYWwsIGNyZWF0aXZlLCB0ZWNobmljYWwsIGFkbWluaXN0cmF0aXZlKVwiKVxyXG5cclxuY2xhc3MgU3BvbnNvcmVkQnkoQmFzZU1vZGVsKTpcclxuICAgIFwiXCJcIkVudGl0eSBzcG9uc29yZWQsIGZ1bmRlZCwgb3Igc3VwcG9ydGVkIGJ5IE9yZ2FuaXphdGlvblwiXCJcIlxyXG4gICAgc3BvbnNvcnNoaXBfdHlwZTogT3B0aW9uYWxbc3RyXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiTmF0dXJlIG9mIHNwb25zb3JzaGlwIHJlbGF0aW9uc2hpcCAoZmluYW5jaWFsLCBpbl9raW5kLCBwcm9tb3Rpb25hbCwgc3RyYXRlZ2ljLCB0aXRsZV9zcG9uc29yLCBwcmVzZW50aW5nX3Nwb25zb3IpXCIpXHJcbiAgICBzcG9uc29yc2hpcF9sZXZlbDogT3B0aW9uYWxbc3RyXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiRGVncmVlIG9yIHRpZXIgb2Ygc3BvbnNvcnNoaXAgc3VwcG9ydCAocGxhdGludW0sIGdvbGQsIHNpbHZlciwgYnJvbnplLCBtYWpvciwgbWlub3IpXCIpXHJcbiAgICBzdXBwb3J0X2RldGFpbHM6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIlNwZWNpZmljIHdheXMgc3BvbnNvciBwcm92aWRlcyBzdXBwb3J0IChmdW5kaW5nLCByZXNvdXJjZXMsIGV4cGVydGlzZSwgbWFya2V0aW5nLCB2ZW51ZSlcIilcclxuXHJcbmNsYXNzIENvbXBldGVzV2l0aChCYXNlTW9kZWwpOlxyXG4gICAgXCJcIlwiT3JnYW5pemF0aW9uL1Byb2R1Y3QgaW4gY29tcGV0aXRpb24gb3Igcml2YWxyeSB3aXRoIE9yZ2FuaXphdGlvbi9Qcm9kdWN0XCJcIlwiXHJcbiAgICBjb21wZXRpdGlvbl90eXBlOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJOYXR1cmUgb2YgY29tcGV0aXRpdmUgcmVsYXRpb25zaGlwIChkaXJlY3RfY29tcGV0aXRvciwgbWFya2V0X3JpdmFsLCBhbHRlcm5hdGl2ZV9zb2x1dGlvbiwgaW5kdXN0cnlfcGVlcilcIilcclxuICAgIG1hcmtldF9jb250ZXh0OiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJNYXJrZXQgb3IgZG9tYWluIHdoZXJlIGNvbXBldGl0aW9uIG9jY3VycyAoc2FtZV9tYXJrZXQsIGFkamFjZW50X21hcmtldCwgc3Vic3RpdHV0ZV9wcm9kdWN0LCBmZWF0dXJlX2NvbXBldGl0aW9uKVwiKVxyXG4gICAgY29tcGV0aXRpdmVfYWR2YW50YWdlOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJLZXkgZGlmZmVyZW50aWF0aW5nIGZhY3RvcnMgaW4gdGhlIGNvbXBldGl0aXZlIHJlbGF0aW9uc2hpcCAocHJpY2UsIGZlYXR1cmVzLCBtYXJrZXRfc2hhcmUsIGJyYW5kX3JlY29nbml0aW9uKVwiKVxyXG5cclxuYDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2VuZXJhdGVFZGdlVHlwZU1hcChzY2hlbWFzOiBUeXBlU2NoZW1hW10pOiBzdHJpbmcge1xyXG4gICAgLy8gR2V0IGRpc2NvdmVyZWQgZW50aXR5IHR5cGVzXHJcbiAgICBjb25zdCBlbnRpdHlUeXBlcyA9IHNjaGVtYXMubWFwKHMgPT4gcy50eXBlTmFtZS5yZXBsYWNlKC9cXHMrL2csICcnKS5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZywgJycpKTtcclxuXHJcbiAgICAvLyBHZW5lcmF0ZSBlZGdlIHR5cGUgbWFwIGJhc2VkIG9uIGRpc2NvdmVyZWQgZW50aXRpZXMgYW5kIGNvbW1vbiBwYXR0ZXJuc1xyXG4gICAgY29uc3QgZWRnZU1hcEVudHJpZXM6IHN0cmluZ1tdID0gW107XHJcblxyXG4gICAgLy8gQWRkIHJlbGF0aW9uc2hpcHMgZm9yIGVhY2ggZGlzY292ZXJlZCBlbnRpdHkgdHlwZVxyXG4gICAgZW50aXR5VHlwZXMuZm9yRWFjaChlbnRpdHlUeXBlID0+IHtcclxuICAgICAgLy8gUGVyc29uIHJlbGF0aW9uc2hpcHNcclxuICAgICAgaWYgKGVudGl0eVR5cGUgPT09ICdQZXJzb24nKSB7XHJcbiAgICAgICAgZWRnZU1hcEVudHJpZXMucHVzaCgnICAgIChcIlBlcnNvblwiLCBcIk9yZ2FuaXphdGlvblwiKTogW1wiV29ya3NGb3JcIiwgXCJNZW1iZXJPZlwiLCBcIlBhcnRuZXJzV2l0aFwiXSwnKTtcclxuICAgICAgICBlZGdlTWFwRW50cmllcy5wdXNoKCcgICAgKFwiUGVyc29uXCIsIFwiVGVjaG5vbG9neVwiKTogW1wiQ3JlYXRlc1wiLCBcIlVzZXNcIl0sJyk7XHJcbiAgICAgICAgZWRnZU1hcEVudHJpZXMucHVzaCgnICAgIChcIlBlcnNvblwiLCBcIlByb2R1Y3RcIik6IFtcIkNyZWF0ZXNcIiwgXCJVc2VzXCJdLCcpO1xyXG4gICAgICAgIGVkZ2VNYXBFbnRyaWVzLnB1c2goJyAgICAoXCJQZXJzb25cIiwgXCJQcm9qZWN0XCIpOiBbXCJDcmVhdGVzXCIsIFwiTWVtYmVyT2ZcIl0sJyk7XHJcbiAgICAgICAgZWRnZU1hcEVudHJpZXMucHVzaCgnICAgIChcIlBlcnNvblwiLCBcIlBlcnNvblwiKTogW1wiS25vd3NcIiwgXCJDb2xsYWJvcmF0ZXNXaXRoXCJdLCcpO1xyXG4gICAgICAgIGVkZ2VNYXBFbnRyaWVzLnB1c2goJyAgICAoXCJQZXJzb25cIiwgXCJNdXNpY1wiKTogW1wiUGVyZm9ybWVkQnlcIl0sJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIE11c2ljIHJlbGF0aW9uc2hpcHNcclxuICAgICAgaWYgKGVudGl0eVR5cGUgPT09ICdNdXNpYycpIHtcclxuICAgICAgICBlZGdlTWFwRW50cmllcy5wdXNoKCcgICAgKFwiTXVzaWNcIiwgXCJQZXJzb25cIik6IFtcIlBlcmZvcm1lZEJ5XCIsIFwiQ3JlYXRlZEJ5XCIsIFwiSW5mbHVlbmNlZEJ5XCJdLCcpO1xyXG4gICAgICAgIGVkZ2VNYXBFbnRyaWVzLnB1c2goJyAgICAoXCJNdXNpY1wiLCBcIk11c2ljXCIpOiBbXCJJbmZsdWVuY2VkQnlcIiwgXCJQYXJ0T2ZTZXJpZXNcIl0sJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEZpbG0gcmVsYXRpb25zaGlwc1xyXG4gICAgICBpZiAoZW50aXR5VHlwZSA9PT0gJ0ZpbG0nKSB7XHJcbiAgICAgICAgZWRnZU1hcEVudHJpZXMucHVzaCgnICAgIChcIkZpbG1cIiwgXCJQZXJzb25cIik6IFtcIkNyZWF0ZWRCeVwiLCBcIlBlcmZvcm1lZEJ5XCIsIFwiSW5mbHVlbmNlZEJ5XCJdLCcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBPcmdhbml6YXRpb24gcmVsYXRpb25zaGlwc1xyXG4gICAgICBpZiAoZW50aXR5VHlwZSA9PT0gJ09yZ2FuaXphdGlvbicpIHtcclxuICAgICAgICBlZGdlTWFwRW50cmllcy5wdXNoKCcgICAgKFwiT3JnYW5pemF0aW9uXCIsIFwiT3JnYW5pemF0aW9uXCIpOiBbXCJQYXJ0bmVyc1dpdGhcIiwgXCJNZW1iZXJPZlwiXSwnKTtcclxuICAgICAgICBlZGdlTWFwRW50cmllcy5wdXNoKCcgICAgKFwiT3JnYW5pemF0aW9uXCIsIFwiVGVjaG5vbG9neVwiKTogW1wiQ3JlYXRlc1wiLCBcIlVzZXNcIiwgXCJEZXBlbmRzT25cIl0sJyk7XHJcbiAgICAgICAgZWRnZU1hcEVudHJpZXMucHVzaCgnICAgIChcIk9yZ2FuaXphdGlvblwiLCBcIlByb2R1Y3RcIik6IFtcIkNyZWF0ZXNcIiwgXCJVc2VzXCIsIFwiRGVwZW5kc09uXCJdLCcpO1xyXG4gICAgICAgIGVkZ2VNYXBFbnRyaWVzLnB1c2goJyAgICAoXCJPcmdhbml6YXRpb25cIiwgXCJQcm9qZWN0XCIpOiBbXCJDcmVhdGVzXCIsIFwiUGFydG5lcnNXaXRoXCJdLCcpO1xyXG4gICAgICAgIGVkZ2VNYXBFbnRyaWVzLnB1c2goJyAgICAoXCJPcmdhbml6YXRpb25cIiwgXCJQZXJzb25cIik6IFtcIlBhcnRuZXJzV2l0aFwiXSwnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gVGVjaG5vbG9neSByZWxhdGlvbnNoaXBzXHJcbiAgICAgIGlmIChlbnRpdHlUeXBlID09PSAnVGVjaG5vbG9neScpIHtcclxuICAgICAgICBlZGdlTWFwRW50cmllcy5wdXNoKCcgICAgKFwiVGVjaG5vbG9neVwiLCBcIlRlY2hub2xvZ3lcIik6IFtcIkRlcGVuZHNPblwiLCBcIkludGVncmF0ZWRXaXRoXCJdLCcpO1xyXG4gICAgICAgIGVkZ2VNYXBFbnRyaWVzLnB1c2goJyAgICAoXCJUZWNobm9sb2d5XCIsIFwiUHJvZHVjdFwiKTogW1wiSW50ZWdyYXRlZFdpdGhcIl0sJyk7XHJcbiAgICAgICAgZWRnZU1hcEVudHJpZXMucHVzaCgnICAgIChcIlRlY2hub2xvZ3lcIiwgXCJQcm9qZWN0XCIpOiBbXCJJbnRlZ3JhdGVkV2l0aFwiXSwnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUHJvZHVjdCByZWxhdGlvbnNoaXBzXHJcbiAgICAgIGlmIChlbnRpdHlUeXBlID09PSAnUHJvZHVjdCcpIHtcclxuICAgICAgICBlZGdlTWFwRW50cmllcy5wdXNoKCcgICAgKFwiUHJvZHVjdFwiLCBcIlRlY2hub2xvZ3lcIik6IFtcIkludGVncmF0ZWRXaXRoXCIsIFwiVXNlc1wiLCBcIkRlcGVuZHNPblwiXSwnKTtcclxuICAgICAgICBlZGdlTWFwRW50cmllcy5wdXNoKCcgICAgKFwiUHJvZHVjdFwiLCBcIlByb2R1Y3RcIik6IFtcIkludGVncmF0ZWRXaXRoXCJdLCcpO1xyXG4gICAgICAgIGVkZ2VNYXBFbnRyaWVzLnB1c2goJyAgICAoXCJQcm9kdWN0XCIsIFwiT3JnYW5pemF0aW9uXCIpOiBbXCJNZW1iZXJPZlwiXSwnKTtcclxuICAgICAgICBlZGdlTWFwRW50cmllcy5wdXNoKCcgICAgKFwiUHJvZHVjdFwiLCBcIlByb2plY3RcIik6IFtcIkludGVncmF0ZWRXaXRoXCJdLCcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBQcm9qZWN0IHJlbGF0aW9uc2hpcHNcclxuICAgICAgaWYgKGVudGl0eVR5cGUgPT09ICdQcm9qZWN0Jykge1xyXG4gICAgICAgIGVkZ2VNYXBFbnRyaWVzLnB1c2goJyAgICAoXCJQcm9qZWN0XCIsIFwiVGVjaG5vbG9neVwiKTogW1wiVXNlc1wiLCBcIkNyZWF0ZXNcIiwgXCJEZXBlbmRzT25cIl0sJyk7XHJcbiAgICAgICAgZWRnZU1hcEVudHJpZXMucHVzaCgnICAgIChcIlByb2plY3RcIiwgXCJQcm9kdWN0XCIpOiBbXCJDcmVhdGVzXCIsIFwiVXNlc1wiXSwnKTtcclxuICAgICAgICBlZGdlTWFwRW50cmllcy5wdXNoKCcgICAgKFwiUHJvamVjdFwiLCBcIk9yZ2FuaXphdGlvblwiKTogW1wiUGFydG5lcnNXaXRoXCJdLCcpO1xyXG4gICAgICAgIGVkZ2VNYXBFbnRyaWVzLnB1c2goJyAgICAoXCJQcm9qZWN0XCIsIFwiUHJvamVjdFwiKTogW1wiUGFydG5lcnNXaXRoXCIsIFwiRGVwZW5kc09uXCJdLCcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDb250ZW50IHJlbGF0aW9uc2hpcHMgZm9yIGFueSBlbnRpdHlcclxuICAgICAgaWYgKFsnV2ViUGFnZScsICdOb3RlJywgJ0FydGljbGUnXS5pbmNsdWRlcyhlbnRpdHlUeXBlKSkge1xyXG4gICAgICAgIGVkZ2VNYXBFbnRyaWVzLnB1c2goYCAgICAoXCIke2VudGl0eVR5cGV9XCIsIFwiRW50aXR5XCIpOiBbXCJBYm91dFwiXSxgKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQWRkIHVuaXZlcnNhbCByZWxhdGlvbnNoaXBzXHJcbiAgICBlZGdlTWFwRW50cmllcy5wdXNoKCcgICAgKFwiRW50aXR5XCIsIFwiRW50aXR5XCIpOiBbXCJUYWdzXCIsIFwiS25vd3NcIl0sJyk7XHJcblxyXG4gICAgLy8gUmVtb3ZlIGR1cGxpY2F0ZXNcclxuICAgIGNvbnN0IHVuaXF1ZUVudHJpZXMgPSBBcnJheS5mcm9tKG5ldyBTZXQoZWRnZU1hcEVudHJpZXMpKTtcclxuXHJcbiAgICByZXR1cm4gYFxyXG4jIEVkZ2UgVHlwZSBNYXAgLSBEZWZpbmVzIGFsbG93ZWQgcmVsYXRpb25zaGlwcyBiZXR3ZWVuIGVudGl0eSB0eXBlc1xyXG5lZGdlX3R5cGVfbWFwID0ge1xyXG4ke3VuaXF1ZUVudHJpZXMuam9pbignXFxuJyl9XHJcbn1gO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRQeXRob25UeXBlKHByb3A6IFByb3BlcnR5U2NoZW1hKTogc3RyaW5nIHtcclxuICAgIHN3aXRjaCAocHJvcC5pbmZlcnJlZFR5cGUpIHtcclxuICAgICAgY2FzZSAnc3RyaW5nJzogcmV0dXJuICdzdHInO1xyXG4gICAgICBjYXNlICdudW1iZXInOiByZXR1cm4gJ2Zsb2F0JztcclxuICAgICAgY2FzZSAnYm9vbGVhbic6IHJldHVybiAnYm9vbCc7XHJcbiAgICAgIGNhc2UgJ2RhdGUnOiByZXR1cm4gJ2RhdGV0aW1lJztcclxuICAgICAgY2FzZSAnYXJyYXknOiByZXR1cm4gJ0xpc3Rbc3RyXSc7XHJcbiAgICAgIGNhc2UgJ29iamVjdCc6IHJldHVybiAnRGljdFtzdHIsIEFueV0nO1xyXG4gICAgICBkZWZhdWx0OiByZXR1cm4gJ3N0cic7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmF0ZSBhbmQgc2F2ZSBQeWRhbnRpYyBtb2RlbHMgdG8gdGhlIFB5dGhvbiBicmlkZ2UgZGlyZWN0b3J5XHJcbiAgICovXHJcbiAgYXN5bmMgZ2VuZXJhdGVBbmRTYXZlTW9kZWxzKHBsdWdpbkRpcjogc3RyaW5nKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1vZGVsUGF0aDogc3RyaW5nOyBtZXNzYWdlOiBzdHJpbmcgfT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gRGlzY292ZXIgc2NoZW1hcyBmcm9tIHZhdWx0XHJcbiAgICAgIGNvbnN0IHNjaGVtYXMgPSBhd2FpdCB0aGlzLmRpc2NvdmVyQWxsU2NoZW1hcygpO1xyXG5cclxuICAgICAgaWYgKHNjaGVtYXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgbW9kZWxQYXRoOiAnJyxcclxuICAgICAgICAgIG1lc3NhZ2U6ICdObyBzY2hlbWFzIGZvdW5kIGluIHZhdWx0LiBBZGQgZnJvbnRtYXR0ZXIgd2l0aCBcInR5cGVcIiBmaWVsZCB0byB5b3VyIG5vdGVzLidcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBHZW5lcmF0ZSBQeWRhbnRpYyBtb2RlbHNcclxuICAgICAgY29uc3QgcHlkYW50aWNDb2RlID0gYXdhaXQgdGhpcy5nZW5lcmF0ZVB5ZGFudGljTW9kZWxzKHNjaGVtYXMpO1xyXG5cclxuICAgICAgLy8gQ3JlYXRlIG1vZGVscyBkaXJlY3RvcnkgcGF0aFxyXG4gICAgICBjb25zdCBtb2RlbHNEaXIgPSBqb2luKHBsdWdpbkRpciwgJ2dyYXBoaXRpX2JyaWRnZScsICdtb2RlbHMnKTtcclxuICAgICAgY29uc3QgbW9kZWxQYXRoID0gam9pbihtb2RlbHNEaXIsICdncmFwaGl0aV9tb2RlbHMucHknKTtcclxuXHJcbiAgICAgIC8vIEVuc3VyZSBtb2RlbHMgZGlyZWN0b3J5IGV4aXN0c1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIubWtkaXIobW9kZWxzRGlyKTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAvLyBEaXJlY3RvcnkgbWlnaHQgYWxyZWFkeSBleGlzdCwgdGhhdCdzIG9rYXlcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gV3JpdGUgdGhlIG1vZGVscyBmaWxlXHJcbiAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGUobW9kZWxQYXRoLCBweWRhbnRpY0NvZGUpO1xyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIG1vZGVsUGF0aCxcclxuICAgICAgICBtZXNzYWdlOiBgR2VuZXJhdGVkICR7c2NoZW1hcy5sZW5ndGh9IGVudGl0eSBtb2RlbHMgYW5kIHNhdmVkIHRvICR7bW9kZWxQYXRofWBcclxuICAgICAgfTtcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIG1vZGVsUGF0aDogJycsXHJcbiAgICAgICAgbWVzc2FnZTogYEZhaWxlZCB0byBnZW5lcmF0ZSBtb2RlbHM6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWBcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUgcGF0aCB3aGVyZSBtb2RlbHMgYXJlIHNhdmVkIGZvciB0aGUgUHl0aG9uIGJyaWRnZVxyXG4gICAqL1xyXG4gIGdldE1vZGVsc1BhdGgocGx1Z2luRGlyOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGpvaW4ocGx1Z2luRGlyLCAnZ3JhcGhpdGlfYnJpZGdlJywgJ21vZGVscycsICdncmFwaGl0aV9tb2RlbHMucHknKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIG1vZGVscyBmaWxlIGV4aXN0cyBhbmQgaXMgdXAgdG8gZGF0ZVxyXG4gICAqL1xyXG4gIGFzeW5jIGNoZWNrTW9kZWxzU3RhdHVzKHBsdWdpbkRpcjogc3RyaW5nKTogUHJvbWlzZTx7IGV4aXN0czogYm9vbGVhbjsgbW9kZWxzQ291bnQ6IG51bWJlcjsgbGFzdE1vZGlmaWVkPzogbnVtYmVyIH0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IG1vZGVsUGF0aCA9IHRoaXMuZ2V0TW9kZWxzUGF0aChwbHVnaW5EaXIpO1xyXG4gICAgICBjb25zdCBzdGF0ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5zdGF0KG1vZGVsUGF0aCk7XHJcblxyXG4gICAgICBpZiAoc3RhdCkge1xyXG4gICAgICAgIC8vIFRyeSB0byBjb3VudCBlbnRpdHkgbW9kZWxzIGluIHRoZSBmaWxlXHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIucmVhZChtb2RlbFBhdGgpO1xyXG4gICAgICAgIGNvbnN0IG1vZGVsTWF0Y2hlcyA9IGNvbnRlbnQubWF0Y2goL2NsYXNzXFxzK1xcdytcXChCYXNlRW50aXR5XFwpOi9nKTtcclxuICAgICAgICBjb25zdCBtb2RlbHNDb3VudCA9IG1vZGVsTWF0Y2hlcyA/IG1vZGVsTWF0Y2hlcy5sZW5ndGggOiAwO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgZXhpc3RzOiB0cnVlLFxyXG4gICAgICAgICAgbW9kZWxzQ291bnQsXHJcbiAgICAgICAgICBsYXN0TW9kaWZpZWQ6IHN0YXQubXRpbWVcclxuICAgICAgICB9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB7IGV4aXN0czogZmFsc2UsIG1vZGVsc0NvdW50OiAwIH07XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGV4aXN0czogZmFsc2UsIG1vZGVsc0NvdW50OiAwIH07XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyA9PT0gVkVTU0VMIENMT1NFID09PSIsIi8vID09PSBWRVNTRUwgT1BFTiA9PT1cclxuLy8gUHVycG9zZTogTm90ZSBzZWxlY3Rpb24gYW5kIGZpbHRlcmluZyBzZXJ2aWNlIGZvciBHcmFwaGl0aSBzeW5jXHJcbi8vIEludGVncmF0aW9uOiBQcm92aWRlcyBub3RlIGZpbHRlcmluZyBjYXBhYmlsaXRpZXMgZm9yIHNlbGVjdGl2ZSBzeW5jIG9wZXJhdGlvbnNcclxuLy8gTW9kZTogQ29kZSAtIFNlcnZpY2UgZm9yIG1hbmFnaW5nIG5vdGUgc2VsZWN0aW9uIGNyaXRlcmlhIGFuZCBmaWx0ZXJzXHJcblxyXG5pbXBvcnQgeyBBcHAsIFRGaWxlLCBQbHVnaW4gfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB0eXBlIHsgQ2FjaGVkTWV0YWRhdGEgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB0eXBlIHsgR3JhcGhpdGlQbHVnaW5TZXR0aW5ncyB9IGZyb20gJy4uL3R5cGVzL1NldHRpbmdzJztcclxuaW1wb3J0IHR5cGUgeyBHcmFwaGl0aUxvZ2dlciB9IGZyb20gJy4uL3V0aWxzL0xvZ2dlcic7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE5vdGVGaWx0ZXJDcml0ZXJpYSB7XHJcbiAgICAvLyBUeXBlLWJhc2VkIGZpbHRlcmluZ1xyXG4gICAgaW5jbHVkZVR5cGVzPzogc3RyaW5nW107XHJcbiAgICBleGNsdWRlVHlwZXM/OiBzdHJpbmdbXTtcclxuXHJcbiAgICAvLyBUYWctYmFzZWQgZmlsdGVyaW5nXHJcbiAgICBpbmNsdWRlVGFncz86IHN0cmluZ1tdO1xyXG4gICAgZXhjbHVkZVRhZ3M/OiBzdHJpbmdbXTtcclxuXHJcbiAgICAvLyBEYXRlLWJhc2VkIGZpbHRlcmluZ1xyXG4gICAgY3JlYXRlZEFmdGVyPzogRGF0ZTtcclxuICAgIGNyZWF0ZWRCZWZvcmU/OiBEYXRlO1xyXG4gICAgbW9kaWZpZWRBZnRlcj86IERhdGU7XHJcbiAgICBtb2RpZmllZEJlZm9yZT86IERhdGU7XHJcblxyXG4gICAgLy8gUGF0aC1iYXNlZCBmaWx0ZXJpbmdcclxuICAgIGluY2x1ZGVQYXRocz86IHN0cmluZ1tdO1xyXG4gICAgZXhjbHVkZVBhdGhzPzogc3RyaW5nW107XHJcblxyXG4gICAgLy8gQ29udGVudC1iYXNlZCBmaWx0ZXJpbmdcclxuICAgIGhhc1R5cGU/OiBib29sZWFuOyAvLyBPbmx5IG5vdGVzIHdpdGggdHlwZSBmcm9udG1hdHRlclxyXG4gICAgaGFzRnJvbnRtYXR0ZXI/OiBib29sZWFuOyAvLyBPbmx5IG5vdGVzIHdpdGggYW55IGZyb250bWF0dGVyXHJcblxyXG4gICAgLy8gU2l6ZS1iYXNlZCBmaWx0ZXJpbmdcclxuICAgIG1pbkNvbnRlbnRMZW5ndGg/OiBudW1iZXI7XHJcbiAgICBtYXhDb250ZW50TGVuZ3RoPzogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE5vdGVTZWxlY3Rpb25SZXN1bHQge1xyXG4gICAgZmlsZTogVEZpbGU7XHJcbiAgICBwYXRoOiBzdHJpbmc7XHJcbiAgICB0eXBlPzogc3RyaW5nO1xyXG4gICAgdGFnczogc3RyaW5nW107XHJcbiAgICBmcm9udG1hdHRlcjogUmVjb3JkPHN0cmluZywgYW55PjtcclxuICAgIGNvbnRlbnRMZW5ndGg6IG51bWJlcjtcclxuICAgIGNyZWF0ZWQ6IERhdGU7XHJcbiAgICBtb2RpZmllZDogRGF0ZTtcclxuICAgIHNlbGVjdGVkOiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE5vdGVTZWxlY3Rpb25TdW1tYXJ5IHtcclxuICAgIHRvdGFsTm90ZXM6IG51bWJlcjtcclxuICAgIHNlbGVjdGVkTm90ZXM6IG51bWJlcjtcclxuICAgIG5vdGVzQnlUeXBlOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+O1xyXG4gICAgc2VsZWN0ZWRCeVR5cGU6IFJlY29yZDxzdHJpbmcsIG51bWJlcj47XHJcbiAgICBlc3RpbWF0ZWRTeW5jVGltZTogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTm90ZVNlbGVjdGlvblNlcnZpY2Uge1xyXG4gICAgcHJpdmF0ZSBhcHA6IEFwcDtcclxuICAgIHByaXZhdGUgcGx1Z2luPzogUGx1Z2luO1xyXG4gICAgcHJpdmF0ZSBsb2dnZXI/OiBHcmFwaGl0aUxvZ2dlcjtcclxuICAgIHByaXZhdGUgc2VsZWN0ZWROb3RlczogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbj86IFBsdWdpbiwgbG9nZ2VyPzogR3JhcGhpdGlMb2dnZXIpIHtcclxuICAgICAgICB0aGlzLmFwcCA9IGFwcDtcclxuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuICAgICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBjdXJyZW50IHBsdWdpbiBzZXR0aW5nc1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFNldHRpbmdzKCk6IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3MgfCBudWxsIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMucGx1Z2luIGFzIGFueSk/LnNldHRpbmdzIHx8IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBhIGZpbGUgcGF0aCBzaG91bGQgYmUgaW5jbHVkZWQgYmFzZWQgb24gcGx1Z2luIHNldHRpbmdzXHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIGEgZmlsZSBwYXRoIHNob3VsZCBiZSBpbmNsdWRlZCBiYXNlZCBvbiBwbHVnaW4gc2V0dGluZ3NcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNob3VsZEluY2x1ZGVGaWxlKGZpbGVQYXRoOiBzdHJpbmcsIGluY2x1ZGVkRm9sZGVyczogc3RyaW5nW10sIGV4Y2x1ZGVkRm9sZGVyczogc3RyaW5nW10pOiBib29sZWFuIHtcclxuICAgICAgICAvLyBDaGVjayBleGNsdWRlZCBmb2xkZXJzIGZpcnN0IC0gdGhlc2UgdGFrZSBwcmlvcml0eVxyXG4gICAgICAgIGlmIChleGNsdWRlZEZvbGRlcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGV4Y2x1ZGVkRm9sZGVyIG9mIGV4Y2x1ZGVkRm9sZGVycykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpbGVQYXRoLnN0YXJ0c1dpdGgoZXhjbHVkZWRGb2xkZXIgKyAnLycpIHx8IGZpbGVQYXRoID09PSBleGNsdWRlZEZvbGRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgaW5jbHVkZWQgZm9sZGVycyAtIGlmIHNwZWNpZmllZCwgb25seSBpbmNsdWRlIGZpbGVzIGluIHRoZXNlIGZvbGRlcnNcclxuICAgICAgICBpZiAoaW5jbHVkZWRGb2xkZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbGV0IGlzSW5jbHVkZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBpbmNsdWRlZEZvbGRlciBvZiBpbmNsdWRlZEZvbGRlcnMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChmaWxlUGF0aC5zdGFydHNXaXRoKGluY2x1ZGVkRm9sZGVyICsgJy8nKSB8fCBmaWxlUGF0aCA9PT0gaW5jbHVkZWRGb2xkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpc0luY2x1ZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gaXNJbmNsdWRlZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIG5vIGluY2x1ZGVkIGZvbGRlcnMgc3BlY2lmaWVkLCBpbmNsdWRlIGJ5IGRlZmF1bHQgKHVubGVzcyBleGNsdWRlZCBhYm92ZSlcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBhbGwgbm90ZXMgdGhhdCBjYW4gcG90ZW50aWFsbHkgYmUgc3luY2VkICh3aXRoIHR5cGUgZnJvbnRtYXR0ZXIpXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGdldEFsbFN5bmNhYmxlTm90ZXMoKTogUHJvbWlzZTxOb3RlU2VsZWN0aW9uUmVzdWx0W10+IHtcclxuICAgICAgICBjb25zdCBmaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcclxuICAgICAgICBjb25zdCByZXN1bHRzOiBOb3RlU2VsZWN0aW9uUmVzdWx0W10gPSBbXTtcclxuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IHRoaXMuZ2V0U2V0dGluZ3MoKTtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XHJcbiAgICAgICAgICAgIC8vIE9ubHkgaW5jbHVkZSBub3RlcyB3aXRoIHR5cGUgZnJvbnRtYXR0ZXIgZm9yIEdyYXBoaXRpIHN5bmNcclxuICAgICAgICAgICAgY29uc3QgbWV0YWRhdGEgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShmaWxlKTtcclxuICAgICAgICAgICAgY29uc3QgZnJvbnRtYXR0ZXIgPSBtZXRhZGF0YT8uZnJvbnRtYXR0ZXIgfHwge307XHJcbiAgICAgICAgICAgIGlmICghZnJvbnRtYXR0ZXIudHlwZSkgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICAvLyBBcHBseSBmb2xkZXIgZmlsdGVyaW5nIGJhc2VkIG9uIHBsdWdpbiBzZXR0aW5ncy4gVGhpcyBtZXRob2QgaXMgcHVibGljXHJcbiAgICAgICAgICAgIC8vIG5vdyBzbyBpdCBjYW4gYmUgY2FsbGVkIGZyb20gU3luY01vZGFsLnN2ZWx0ZSBwcm9wZXJseS5cclxuICAgICAgICAgICAgaWYgKCF0aGlzLnNob3VsZEluY2x1ZGVGaWxlKGZpbGUucGF0aCwgc2V0dGluZ3M/LmluY2x1ZGVkRm9sZGVycyB8fCBbXSwgc2V0dGluZ3M/LmV4Y2x1ZGVkRm9sZGVycyB8fCBbXSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCB0YWdzID0gdGhpcy5leHRyYWN0VGFncyhtZXRhZGF0YSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xyXG5cclxuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGZpbGUsXHJcbiAgICAgICAgICAgICAgICBwYXRoOiBmaWxlLnBhdGgsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBmcm9udG1hdHRlci50eXBlLFxyXG4gICAgICAgICAgICAgICAgdGFncyxcclxuICAgICAgICAgICAgICAgIGZyb250bWF0dGVyLFxyXG4gICAgICAgICAgICAgICAgY29udGVudExlbmd0aDogY29udGVudC5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBjcmVhdGVkOiBuZXcgRGF0ZShmaWxlLnN0YXQuY3RpbWUpLFxyXG4gICAgICAgICAgICAgICAgbW9kaWZpZWQ6IG5ldyBEYXRlKGZpbGUuc3RhdC5tdGltZSksXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZDogdGhpcy5zZWxlY3RlZE5vdGVzLmhhcyhmaWxlLnBhdGgpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdHMuc29ydCgoYSwgYikgPT4gYS5tb2RpZmllZC5nZXRUaW1lKCkgLSBiLm1vZGlmaWVkLmdldFRpbWUoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYWxsIHN5bmNhYmxlIG5vdGVzIHJlc3BlY3Rpbmcgc2V0dGluZ3MgZmlsdGVycyAoY29udmVuaWVuY2UgbWV0aG9kKVxyXG4gICAgICovXHJcbiAgICBhc3luYyBnZXRGaWx0ZXJlZFN5bmNhYmxlTm90ZXMoKTogUHJvbWlzZTxOb3RlU2VsZWN0aW9uUmVzdWx0W10+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRBbGxTeW5jYWJsZU5vdGVzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQHZlc3NlbC1wcm90b2NvbDpIZWltZGFsbCBnb3Zlcm5zOltzeW5jLWVuaGFuY2VtZW50fGZpeF0gY29udGV4dDpGaXhlZCBhdXRvLXN5bmMgZmlsdGVyaW5nIHRvIHByb3Blcmx5IGRpc3Rpbmd1aXNoIGJldHdlZW4gbmV3IGFuZCB1cGRhdGVkIG5vdGVzXHJcbiAgICAvLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbU2V0dGluZ3MudHMsIFN5bmNSZWdpc3RyeVNlcnZpY2UsIG1haW4udHNdXHJcbiAgICAvLyBAcHVycG9zZTogRmlsdGVyIG5vdGVzIGJhc2VkIG9uIHN5bmNPcHRpb25zIHNldHRpbmcgdG8gY29udHJvbCB3aGljaCBub3RlcyBhcmUgaW5jbHVkZWQgaW4gYXV0by1zeW5jXHJcbiAgICAvLyBAcmVzdWx0OiBVc2VycyBjYW4gbm93IHByb3Blcmx5IGNob29zZSBiZXR3ZWVuIHN5bmNpbmcgb25seSBuZXcgbm90ZXMgb3IgYm90aCBuZXcgYW5kIHVwZGF0ZWQgbm90ZXNcclxuICAgIC8vIEBzaWduZWQ6IEMuQmrDuHJuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBub3RlcyBmaWx0ZXJlZCBieSBzeW5jIG9wdGlvbnMgc2V0dGluZyB3aXRoIGVuaGFuY2VkIG5ldyB2cyB1cGRhdGVkIGxvZ2ljXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGdldE5vdGVzRm9yQXV0b1N5bmMoc3luY09wdGlvbnM/OiAnbmV3X29ubHknIHwgJ25ld19hbmRfdXBkYXRlZCcpOiBQcm9taXNlPE5vdGVTZWxlY3Rpb25SZXN1bHRbXT4ge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gdGhpcy5nZXRTZXR0aW5ncygpO1xyXG4gICAgICAgIGlmICghc2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QWxsU3luY2FibGVOb3RlcygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgYWxsTm90ZXMgPSBhd2FpdCB0aGlzLmdldEFsbFN5bmNhYmxlTm90ZXMoKTtcclxuICAgICAgICBjb25zdCBmaW5hbFN5bmNPcHRpb25zID0gc3luY09wdGlvbnMgfHwgc2V0dGluZ3Muc3luY09wdGlvbnMgfHwgJ25ld19hbmRfdXBkYXRlZCc7XHJcblxyXG4gICAgICAgIC8vIERlYnVnIGxvZ2dpbmcgZm9yIHN5bmMgZmlsdGVyaW5nXHJcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05vdGVTZWxlY3Rpb25dIEF1dG8tc3luYyBmaWx0ZXJpbmc6ICR7ZmluYWxTeW5jT3B0aW9uc30sIHRvdGFsIG5vdGVzOiAke2FsbE5vdGVzLmxlbmd0aH1gKTtcclxuXHJcbiAgICAgICAgLy8gSWYgc2V0IHRvIHN5bmMgbmV3IG9ubHksIGZpbHRlciBvdXQgbm90ZXMgdGhhdCBoYXZlIGJlZW4gc3luY2VkIGJlZm9yZVxyXG4gICAgICAgIGlmIChmaW5hbFN5bmNPcHRpb25zID09PSAnbmV3X29ubHknKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld05vdGVzID0gdGhpcy5maWx0ZXJOZXdOb3Rlc09ubHkoYWxsTm90ZXMpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTm90ZVNlbGVjdGlvbl0gTmV3LW9ubHkgZmlsdGVyaW5nOiAke25ld05vdGVzLmxlbmd0aH0gbmV3IG5vdGVzIGZvdW5kYCk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXdOb3RlcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIHNldCB0byBzeW5jIG5ldyBhbmQgdXBkYXRlZCwgY29tYmluZSBuZXcgbm90ZXMgYW5kIHVwZGF0ZWQgbm90ZXNcclxuICAgICAgICBpZiAoZmluYWxTeW5jT3B0aW9ucyA9PT0gJ25ld19hbmRfdXBkYXRlZCcpIHtcclxuICAgICAgICAgICAgY29uc3QgbmV3Tm90ZXMgPSB0aGlzLmZpbHRlck5ld05vdGVzT25seShhbGxOb3Rlcyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWROb3RlcyA9IGF3YWl0IHRoaXMuZ2V0VXBkYXRlZE5vdGVzKGFsbE5vdGVzKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENvbWJpbmUgYW5kIGRlZHVwbGljYXRlIG5vdGVzIHVzaW5nIFNldCBvbiBmaWxlIHBhdGhzXHJcbiAgICAgICAgICAgIGNvbnN0IGNvbWJpbmVkUGF0aHMgPSBuZXcgU2V0PHN0cmluZz4oKTtcclxuICAgICAgICAgICAgY29uc3QgY29tYmluZWROb3RlczogTm90ZVNlbGVjdGlvblJlc3VsdFtdID0gW107XHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgbmV3IG5vdGVzIGZpcnN0XHJcbiAgICAgICAgICAgIG5ld05vdGVzLmZvckVhY2gobm90ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb21iaW5lZFBhdGhzLmFkZChub3RlLnBhdGgpO1xyXG4gICAgICAgICAgICAgICAgY29tYmluZWROb3Rlcy5wdXNoKG5vdGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCB1cGRhdGVkIG5vdGVzLCBhdm9pZGluZyBkdXBsaWNhdGVzXHJcbiAgICAgICAgICAgIHVwZGF0ZWROb3Rlcy5mb3JFYWNoKG5vdGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFjb21iaW5lZFBhdGhzLmhhcyhub3RlLnBhdGgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tYmluZWRQYXRocy5hZGQobm90ZS5wYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb21iaW5lZE5vdGVzLnB1c2gobm90ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05vdGVTZWxlY3Rpb25dIE5ldytVcGRhdGVkIGZpbHRlcmluZzogJHtuZXdOb3Rlcy5sZW5ndGh9IG5ldywgJHt1cGRhdGVkTm90ZXMubGVuZ3RofSB1cGRhdGVkLCAke2NvbWJpbmVkTm90ZXMubGVuZ3RofSB0b3RhbCBhZnRlciBkZWR1cGApO1xyXG4gICAgICAgICAgICByZXR1cm4gY29tYmluZWROb3Rlcy5zb3J0KChhLCBiKSA9PiBhLm1vZGlmaWVkLmdldFRpbWUoKSAtIGIubW9kaWZpZWQuZ2V0VGltZSgpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBhbGxOb3RlcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEZpbHRlciBub3RlcyB0byBvbmx5IGluY2x1ZGUgdGhvc2UgdGhhdCBoYXZlbid0IGJlZW4gc3luY2VkIGJlZm9yZSBvciBoYXZlIGJlZW4gdXBkYXRlZCBzaW5jZSBsYXN0IHN5bmNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBmaWx0ZXJOZXdOb3Rlc09ubHkobm90ZXM6IE5vdGVTZWxlY3Rpb25SZXN1bHRbXSk6IE5vdGVTZWxlY3Rpb25SZXN1bHRbXSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSBhY2Nlc3MgdG8gc3luYyByZWdpc3RyeSB0aHJvdWdoIHBsdWdpblxyXG4gICAgICAgIGNvbnN0IHN5bmNSZWdpc3RyeSA9ICh0aGlzLnBsdWdpbiBhcyBhbnkpPy5zeW5jUmVnaXN0cnlTZXJ2aWNlO1xyXG4gICAgICAgIGlmICghc3luY1JlZ2lzdHJ5KSB7XHJcbiAgICAgICAgICAgIC8vIElmIG5vIHN5bmMgcmVnaXN0cnkgYXZhaWxhYmxlLCBjb25zaWRlciBhbGwgbm90ZXMgYXMgXCJuZXdcIlxyXG4gICAgICAgICAgICByZXR1cm4gbm90ZXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB2YXVsdElkID0gdGhpcy5hcHAudmF1bHQuZ2V0TmFtZSgpO1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnREYlR5cGUgPSB0aGlzLmdldEN1cnJlbnREYXRhYmFzZVR5cGUoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5vdGVzLmZpbHRlcihub3RlID0+IHtcclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgbm90ZSBoYXMgYmVlbiBzeW5jZWQgYmVmb3JlIGJ5IGxvb2tpbmcgYXQgc3luYyByZWdpc3RyeVxyXG4gICAgICAgICAgICBjb25zdCBzeW5jUmVjb3JkID0gc3luY1JlZ2lzdHJ5LmdldFN5bmNSZWNvcmQobm90ZS5wYXRoLCB2YXVsdElkKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghc3luY1JlY29yZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gTm90ZSBub3QgaW4gc3luYyByZWdpc3RyeSA9IG5ldyBub3RlXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUncyBhIHN5bmMgZW50cnkgZm9yIGN1cnJlbnQgZGF0YWJhc2VcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudERiU3luYyA9IHN5bmNSZWNvcmQuc3luY3MuZmluZCgoc3luYzogYW55KSA9PiBzeW5jLmRhdGFiYXNlX2lkID09PSBjdXJyZW50RGJUeXBlKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghY3VycmVudERiU3luYykge1xyXG4gICAgICAgICAgICAgICAgLy8gTm8gc3luYyBmb3IgY3VycmVudCBkYXRhYmFzZSA9IG5ldyBub3RlIGZvciB0aGlzIGRhdGFiYXNlXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gTm90ZSBoYXMgYmVlbiBzeW5jZWQgYmVmb3JlID0gbm90IG5ld1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgbm90ZXMgdGhhdCBoYXZlIGJlZW4gdXBkYXRlZCBzaW5jZSBsYXN0IHN5bmMgKGZvciBuZXdfYW5kX3VwZGF0ZWQgbW9kZSlcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2V0VXBkYXRlZE5vdGVzKG5vdGVzOiBOb3RlU2VsZWN0aW9uUmVzdWx0W10pOiBQcm9taXNlPE5vdGVTZWxlY3Rpb25SZXN1bHRbXT4ge1xyXG4gICAgICAgIGNvbnN0IHN5bmNSZWdpc3RyeSA9ICh0aGlzLnBsdWdpbiBhcyBhbnkpPy5zeW5jUmVnaXN0cnlTZXJ2aWNlO1xyXG4gICAgICAgIGlmICghc3luY1JlZ2lzdHJ5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHZhdWx0SWQgPSB0aGlzLmFwcC52YXVsdC5nZXROYW1lKCk7XHJcbiAgICAgICAgY29uc3QgY3VycmVudERiVHlwZSA9IHRoaXMuZ2V0Q3VycmVudERhdGFiYXNlVHlwZSgpO1xyXG5cclxuICAgICAgICByZXR1cm4gbm90ZXMuZmlsdGVyKG5vdGUgPT4ge1xyXG4gICAgICAgICAgICAvLyBHZXQgbW1fdWlkIGZyb20gZnJvbnRtYXR0ZXIgLSBjb25zaXN0ZW50IHdpdGggU3luY01vZGFsLnN2ZWx0ZSBhcHByb2FjaFxyXG4gICAgICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKG5vdGUuZmlsZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1tVWlkID0gbWV0YWRhdGE/LmZyb250bWF0dGVyPy5tbV91aWQ7XHJcblxyXG4gICAgICAgICAgICAvLyBJZiBubyBtbV91aWQsIG5vdGUgaGFzIG5ldmVyIGJlZW4gc3luY2VkIChuZXcgbm90ZSwgbm90IHVwZGF0ZWQpXHJcbiAgICAgICAgICAgIGlmICghbW1VaWQgfHwgdHlwZW9mIG1tVWlkICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBVc2UgbW1fdWlkLWJhc2VkIGxvb2t1cCBpbnN0ZWFkIG9mIHBhdGgtYmFzZWQgbG9va3VwXHJcbiAgICAgICAgICAgIGNvbnN0IHN5bmNSZWNvcmQgPSBzeW5jUmVnaXN0cnkuZ2V0U3luY1JlY29yZChtbVVpZCwgdmF1bHRJZCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXN5bmNSZWNvcmQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgY3VycmVudERiU3luYyA9IHN5bmNSZWNvcmQuc3luY3MuZmluZCgoc3luYzogYW55KSA9PiBzeW5jLmRhdGFiYXNlX2lkID09PSBjdXJyZW50RGJUeXBlKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghY3VycmVudERiU3luYykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBDb21wYXJlIGZpbGUgbW9kaWZpY2F0aW9uIHRpbWUgd2l0aCBsYXN0IHN5bmMgdGltZVxyXG4gICAgICAgICAgICAvLyBBZGQgNS1taW51dGUgYnVmZmVyIHRvIGFjY291bnQgZm9yIHN5bmMgcHJvY2VzcyB0b3VjaGluZyBmaWxlcyB3aGVuIHdyaXRpbmcgbW1fdWlkXHJcbiAgICAgICAgICAgIGNvbnN0IGxhc3RTeW5jVGltZSA9IG5ldyBEYXRlKGN1cnJlbnREYlN5bmMubGFzdF9zeW5jKTtcclxuICAgICAgICAgICAgY29uc3QgZmlsZU1vZFRpbWUgPSBub3RlLm1vZGlmaWVkO1xyXG4gICAgICAgICAgICBjb25zdCBTWU5DX1RPTEVSQU5DRV9NUyA9IDUgKiA2MCAqIDEwMDA7IC8vIDUgbWludXRlc1xyXG5cclxuICAgICAgICAgICAgY29uc3QgaXNVcGRhdGVkID0gZmlsZU1vZFRpbWUuZ2V0VGltZSgpID4gKGxhc3RTeW5jVGltZS5nZXRUaW1lKCkgKyBTWU5DX1RPTEVSQU5DRV9NUyk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gaXNVcGRhdGVkO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGN1cnJlbnQgZGF0YWJhc2UgdHlwZSBmcm9tIHNldHRpbmdzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0Q3VycmVudERhdGFiYXNlVHlwZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gdGhpcy5nZXRTZXR0aW5ncygpO1xyXG4gICAgICAgIHJldHVybiBzZXR0aW5ncz8uZGF0YWJhc2VUeXBlIHx8ICduZW80aic7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBhIG5vdGUgc2hvdWxkIGJlIGluY2x1ZGVkIGluIGF1dG8tc3luYyBiYXNlZCBvbiBzeW5jIG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgc2hvdWxkSW5jbHVkZUluQXV0b1N5bmMobm90ZVBhdGg6IHN0cmluZywgc3luY09wdGlvbnM6ICduZXdfb25seScgfCAnbmV3X2FuZF91cGRhdGVkJyA9ICduZXdfYW5kX3VwZGF0ZWQnKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKHN5bmNPcHRpb25zID09PSAnbmV3X2FuZF91cGRhdGVkJykge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gSW5jbHVkZSBhbGwgc3luY2FibGUgbm90ZXNcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzeW5jT3B0aW9ucyA9PT0gJ25ld19vbmx5Jykge1xyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBub3RlIGhhcyBiZWVuIHN5bmNlZCBiZWZvcmVcclxuICAgICAgICAgICAgY29uc3Qgc3luY1JlZ2lzdHJ5ID0gKHRoaXMucGx1Z2luIGFzIGFueSk/LnN5bmNSZWdpc3RyeVNlcnZpY2U7XHJcbiAgICAgICAgICAgIGlmICghc3luY1JlZ2lzdHJ5KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gSWYgbm8gcmVnaXN0cnksIGNvbnNpZGVyIGFzIG5ld1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCB2YXVsdElkID0gdGhpcy5hcHAudmF1bHQuZ2V0TmFtZSgpO1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RGJUeXBlID0gdGhpcy5nZXRDdXJyZW50RGF0YWJhc2VUeXBlKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHN5bmNSZWNvcmQgPSBzeW5jUmVnaXN0cnkuZ2V0U3luY1JlY29yZChub3RlUGF0aCwgdmF1bHRJZCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXN5bmNSZWNvcmQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBOZXcgbm90ZVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RGJTeW5jID0gc3luY1JlY29yZC5zeW5jcy5maW5kKChzeW5jOiBhbnkpID0+IHN5bmMuZGF0YWJhc2VfaWQgPT09IGN1cnJlbnREYlR5cGUpO1xyXG4gICAgICAgICAgICByZXR1cm4gIWN1cnJlbnREYlN5bmM7IC8vIEluY2x1ZGUgaWYgbm90IHN5bmNlZCB0byBjdXJyZW50IGRhdGFiYXNlXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8vIEB2ZXNzZWwtY2xvc2U6SGVpbWRhbGxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBhbGwgbm90ZXMgdGhhdCBhcmUgZXhjbHVkZWQgYnkgZm9sZGVyIHNldHRpbmdzIChyZWdhcmRsZXNzIG9mIHR5cGUgZnJvbnRtYXR0ZXIpLlxyXG4gICAgICogVGhpcyBpcyB1c2VmdWwgZm9yIGRpc3BsYXlpbmcgY291bnQgb2YgXCJwcml2YXRlIGZpbGVzXCIuXHJcbiAgICAgKi9cclxuICAgICBhc3luYyBnZXRQcml2YXRlTm90ZXNCeUZvbGRlcigpOiBQcm9taXNlPE5vdGVTZWxlY3Rpb25SZXN1bHRbXT4ge1xyXG4gICAgICAgIGNvbnN0IGZpbGVzID0gdGhpcy5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xyXG4gICAgICAgIGNvbnN0IHByaXZhdGVOb3RlczogTm90ZVNlbGVjdGlvblJlc3VsdFtdID0gW107XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSB0aGlzLmdldFNldHRpbmdzKCk7XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykge1xyXG4gICAgICAgICAgICAvLyBPbmx5IGNvbnNpZGVyIG1hcmtkb3duIGZpbGVzIChURmlsZSBlbnN1cmVzIHRoaXMpXHJcbiAgICAgICAgICAgIGlmICghKGZpbGUgaW5zdGFuY2VvZiBURmlsZSkpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGZpbGUgaXMgZXhwbGljaXRseSBleGNsdWRlZCBieSBmb2xkZXIgc2V0dGluZ3NcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnNob3VsZEluY2x1ZGVGaWxlKGZpbGUucGF0aCwgc2V0dGluZ3M/LmluY2x1ZGVkRm9sZGVycyB8fCBbXSwgc2V0dGluZ3M/LmV4Y2x1ZGVkRm9sZGVycyB8fCBbXSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmcm9udG1hdHRlciA9IG1ldGFkYXRhPy5mcm9udG1hdHRlciB8fCB7fTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRhZ3MgPSB0aGlzLmV4dHJhY3RUYWdzKG1ldGFkYXRhKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xyXG5cclxuICAgICAgICAgICAgICAgIHByaXZhdGVOb3Rlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBmaWxlLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGZpbGUucGF0aCxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBmcm9udG1hdHRlci50eXBlLCAvLyBNYXkgb3IgbWF5IG5vdCBoYXZlIGEgdHlwZVxyXG4gICAgICAgICAgICAgICAgICAgIHRhZ3MsXHJcbiAgICAgICAgICAgICAgICAgICAgZnJvbnRtYXR0ZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudExlbmd0aDogY29udGVudC5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlZDogbmV3IERhdGUoZmlsZS5zdGF0LmN0aW1lKSxcclxuICAgICAgICAgICAgICAgICAgICBtb2RpZmllZDogbmV3IERhdGUoZmlsZS5zdGF0Lm10aW1lKSxcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZDogZmFsc2UsIC8vIE5vdCBhcHBsaWNhYmxlIGZvciB0aGlzIHZpZXdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwcml2YXRlTm90ZXMuc29ydCgoYSwgYikgPT4gYS5wYXRoLmxvY2FsZUNvbXBhcmUoYi5wYXRoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYWxsIG5vdGVzIHRoYXQgYXJlIGV4Y2x1ZGVkIGJ5IGZvbGRlciBzZXR0aW5ncyAocmVnYXJkbGVzcyBvZiB0eXBlIGZyb250bWF0dGVyKS5cclxuICAgICAqIFRoaXMgaXMgdXNlZnVsIGZvciBkaXNwbGF5aW5nIGNvdW50IG9mIFwicHJpdmF0ZSBmaWxlc1wiLlxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgbm90ZSBmaWx0ZXIgY3JpdGVyaWEgZnJvbSBjdXJyZW50IHBsdWdpbiBzZXR0aW5nc1xyXG4gICAgICovXHJcbiAgICBjcmVhdGVTZXR0aW5nc0Jhc2VkQ3JpdGVyaWEoKTogTm90ZUZpbHRlckNyaXRlcmlhIHtcclxuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IHRoaXMuZ2V0U2V0dGluZ3MoKTtcclxuICAgICAgICBpZiAoIXNldHRpbmdzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7fTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGNyaXRlcmlhOiBOb3RlRmlsdGVyQ3JpdGVyaWEgPSB7fTtcclxuXHJcbiAgICAgICAgLy8gQWRkIGZvbGRlci1iYXNlZCBmaWx0ZXJpbmdcclxuICAgICAgICBpZiAoc2V0dGluZ3MuaW5jbHVkZWRGb2xkZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY3JpdGVyaWEuaW5jbHVkZVBhdGhzID0gc2V0dGluZ3MuaW5jbHVkZWRGb2xkZXJzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNldHRpbmdzLmV4Y2x1ZGVkRm9sZGVycy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNyaXRlcmlhLmV4Y2x1ZGVQYXRocyA9IHNldHRpbmdzLmV4Y2x1ZGVkRm9sZGVycztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBjcml0ZXJpYTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEZpbHRlciBub3RlcyBiYXNlZCBvbiBjcml0ZXJpYVxyXG4gICAgICovXHJcbiAgICBhc3luYyBmaWx0ZXJOb3Rlcyhjcml0ZXJpYTogTm90ZUZpbHRlckNyaXRlcmlhKTogUHJvbWlzZTxOb3RlU2VsZWN0aW9uUmVzdWx0W10+IHtcclxuICAgICAgICBjb25zdCBhbGxOb3RlcyA9IGF3YWl0IHRoaXMuZ2V0QWxsU3luY2FibGVOb3RlcygpO1xyXG5cclxuICAgICAgICByZXR1cm4gYWxsTm90ZXMuZmlsdGVyKG5vdGUgPT4ge1xyXG4gICAgICAgICAgICAvLyBUeXBlIGZpbHRlcmluZ1xyXG4gICAgICAgICAgICBpZiAoY3JpdGVyaWEuaW5jbHVkZVR5cGVzICYmIGNyaXRlcmlhLmluY2x1ZGVUeXBlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIW5vdGUudHlwZSB8fCAhY3JpdGVyaWEuaW5jbHVkZVR5cGVzLmluY2x1ZGVzKG5vdGUudHlwZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChjcml0ZXJpYS5leGNsdWRlVHlwZXMgJiYgY3JpdGVyaWEuZXhjbHVkZVR5cGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChub3RlLnR5cGUgJiYgY3JpdGVyaWEuZXhjbHVkZVR5cGVzLmluY2x1ZGVzKG5vdGUudHlwZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFRhZyBmaWx0ZXJpbmdcclxuICAgICAgICAgICAgaWYgKGNyaXRlcmlhLmluY2x1ZGVUYWdzICYmIGNyaXRlcmlhLmluY2x1ZGVUYWdzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhhc0luY2x1ZGVkVGFnID0gY3JpdGVyaWEuaW5jbHVkZVRhZ3Muc29tZSh0YWcgPT4gbm90ZS50YWdzLmluY2x1ZGVzKHRhZykpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFoYXNJbmNsdWRlZFRhZykgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoY3JpdGVyaWEuZXhjbHVkZVRhZ3MgJiYgY3JpdGVyaWEuZXhjbHVkZVRhZ3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzRXhjbHVkZWRUYWcgPSBjcml0ZXJpYS5leGNsdWRlVGFncy5zb21lKHRhZyA9PiBub3RlLnRhZ3MuaW5jbHVkZXModGFnKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaGFzRXhjbHVkZWRUYWcpIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gRGF0ZSBmaWx0ZXJpbmdcclxuICAgICAgICAgICAgaWYgKGNyaXRlcmlhLmNyZWF0ZWRBZnRlciAmJiBub3RlLmNyZWF0ZWQgPCBjcml0ZXJpYS5jcmVhdGVkQWZ0ZXIpIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKGNyaXRlcmlhLmNyZWF0ZWRCZWZvcmUgJiYgbm90ZS5jcmVhdGVkID4gY3JpdGVyaWEuY3JlYXRlZEJlZm9yZSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAoY3JpdGVyaWEubW9kaWZpZWRBZnRlciAmJiBub3RlLm1vZGlmaWVkIDwgY3JpdGVyaWEubW9kaWZpZWRBZnRlcikgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAoY3JpdGVyaWEubW9kaWZpZWRCZWZvcmUgJiYgbm90ZS5tb2RpZmllZCA+IGNyaXRlcmlhLm1vZGlmaWVkQmVmb3JlKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAvLyBQYXRoIGZpbHRlcmluZ1xyXG4gICAgICAgICAgICBpZiAoY3JpdGVyaWEuaW5jbHVkZVBhdGhzICYmIGNyaXRlcmlhLmluY2x1ZGVQYXRocy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGVzUGF0aCA9IGNyaXRlcmlhLmluY2x1ZGVQYXRocy5zb21lKHBhdGggPT5cclxuICAgICAgICAgICAgICAgICAgICBub3RlLnBhdGgudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhwYXRoLnRvTG93ZXJDYXNlKCkpXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFtYXRjaGVzUGF0aCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoY3JpdGVyaWEuZXhjbHVkZVBhdGhzICYmIGNyaXRlcmlhLmV4Y2x1ZGVQYXRocy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGVzRXhjbHVkZWRQYXRoID0gY3JpdGVyaWEuZXhjbHVkZVBhdGhzLnNvbWUocGF0aCA9PlxyXG4gICAgICAgICAgICAgICAgICAgIG5vdGUucGF0aC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHBhdGgudG9Mb3dlckNhc2UoKSlcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hlc0V4Y2x1ZGVkUGF0aCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBDb250ZW50IGZpbHRlcmluZ1xyXG4gICAgICAgICAgICBpZiAoY3JpdGVyaWEuaGFzVHlwZSAhPT0gdW5kZWZpbmVkICYmIGNyaXRlcmlhLmhhc1R5cGUgJiYgIW5vdGUudHlwZSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAoY3JpdGVyaWEuaGFzRnJvbnRtYXR0ZXIgIT09IHVuZGVmaW5lZCAmJiBjcml0ZXJpYS5oYXNGcm9udG1hdHRlciAmJiBPYmplY3Qua2V5cyhub3RlLmZyb250bWF0dGVyKS5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIC8vIFNpemUgZmlsdGVyaW5nXHJcbiAgICAgICAgICAgIGlmIChjcml0ZXJpYS5taW5Db250ZW50TGVuZ3RoICE9PSB1bmRlZmluZWQgJiYgbm90ZS5jb250ZW50TGVuZ3RoIDwgY3JpdGVyaWEubWluQ29udGVudExlbmd0aCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAoY3JpdGVyaWEubWF4Q29udGVudExlbmd0aCAhPT0gdW5kZWZpbmVkICYmIG5vdGUuY29udGVudExlbmd0aCA+IGNyaXRlcmlhLm1heENvbnRlbnRMZW5ndGgpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGF2YWlsYWJsZSB0eXBlcyBpbiB0aGUgdmF1bHRcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2V0QXZhaWxhYmxlVHlwZXMoKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xyXG4gICAgICAgIGNvbnN0IG5vdGVzID0gYXdhaXQgdGhpcy5nZXRBbGxTeW5jYWJsZU5vdGVzKCk7XHJcbiAgICAgICAgY29uc3QgdHlwZXMgPSBuZXcgU2V0PHN0cmluZz4oKTtcclxuXHJcbiAgICAgICAgbm90ZXMuZm9yRWFjaChub3RlID0+IHtcclxuICAgICAgICAgICAgaWYgKG5vdGUudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgdHlwZXMuYWRkKG5vdGUudHlwZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odHlwZXMpLnNvcnQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBhdmFpbGFibGUgdGFncyBpbiB0aGUgdmF1bHRcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2V0QXZhaWxhYmxlVGFncygpOiBQcm9taXNlPHN0cmluZ1tdPiB7XHJcbiAgICAgICAgY29uc3Qgbm90ZXMgPSBhd2FpdCB0aGlzLmdldEFsbFN5bmNhYmxlTm90ZXMoKTtcclxuICAgICAgICBjb25zdCB0YWdzID0gbmV3IFNldDxzdHJpbmc+KCk7XHJcblxyXG4gICAgICAgIG5vdGVzLmZvckVhY2gobm90ZSA9PiB7XHJcbiAgICAgICAgICAgIG5vdGUudGFncy5mb3JFYWNoKHRhZyA9PiB0YWdzLmFkZCh0YWcpKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGFncykuc29ydCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2VsZWN0IG5vdGVzIGZvciBzeW5jXHJcbiAgICAgKi9cclxuICAgIHNlbGVjdE5vdGVzKG5vdGVQYXRoczogc3RyaW5nW10pOiB2b2lkIHtcclxuICAgICAgICBub3RlUGF0aHMuZm9yRWFjaChwYXRoID0+IHRoaXMuc2VsZWN0ZWROb3Rlcy5hZGQocGF0aCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVzZWxlY3Qgbm90ZXMgZnJvbSBzeW5jXHJcbiAgICAgKi9cclxuICAgIGRlc2VsZWN0Tm90ZXMobm90ZVBhdGhzOiBzdHJpbmdbXSk6IHZvaWQge1xyXG4gICAgICAgIG5vdGVQYXRocy5mb3JFYWNoKHBhdGggPT4gdGhpcy5zZWxlY3RlZE5vdGVzLmRlbGV0ZShwYXRoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUb2dnbGUgbm90ZSBzZWxlY3Rpb25cclxuICAgICAqL1xyXG4gICAgdG9nZ2xlTm90ZVNlbGVjdGlvbihub3RlUGF0aDogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWROb3Rlcy5oYXMobm90ZVBhdGgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWROb3Rlcy5kZWxldGUobm90ZVBhdGgpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE5vdGVzLmFkZChub3RlUGF0aCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNlbGVjdCBhbGwgbm90ZXMgbWF0Y2hpbmcgY3JpdGVyaWFcclxuICAgICAqL1xyXG4gICAgYXN5bmMgc2VsZWN0QWxsTWF0Y2hpbmcoY3JpdGVyaWE6IE5vdGVGaWx0ZXJDcml0ZXJpYSk6IFByb21pc2U8bnVtYmVyPiB7XHJcbiAgICAgICAgY29uc3QgbWF0Y2hpbmdOb3RlcyA9IGF3YWl0IHRoaXMuZmlsdGVyTm90ZXMoY3JpdGVyaWEpO1xyXG4gICAgICAgIGNvbnN0IHBhdGhzID0gbWF0Y2hpbmdOb3Rlcy5tYXAobm90ZSA9PiBub3RlLnBhdGgpO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0Tm90ZXMocGF0aHMpO1xyXG5cclxuICAgICAgICByZXR1cm4gcGF0aHMubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2xlYXIgYWxsIHNlbGVjdGlvbnNcclxuICAgICAqL1xyXG4gICAgY2xlYXJTZWxlY3Rpb24oKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZE5vdGVzLmNsZWFyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgY3VycmVudGx5IHNlbGVjdGVkIG5vdGUgcGF0aHNcclxuICAgICAqL1xyXG4gICAgZ2V0U2VsZWN0ZWROb3RlUGF0aHMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuc2VsZWN0ZWROb3Rlcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgc2VsZWN0aW9uIHN1bW1hcnlcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2V0U2VsZWN0aW9uU3VtbWFyeSgpOiBQcm9taXNlPE5vdGVTZWxlY3Rpb25TdW1tYXJ5PiB7XHJcbiAgICAgICAgY29uc3QgYWxsTm90ZXMgPSBhd2FpdCB0aGlzLmdldEFsbFN5bmNhYmxlTm90ZXMoKTtcclxuICAgICAgICBjb25zdCBzZWxlY3RlZFBhdGhzID0gdGhpcy5nZXRTZWxlY3RlZE5vdGVQYXRocygpO1xyXG5cclxuICAgICAgICBjb25zdCBub3Rlc0J5VHlwZTogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkQnlUeXBlOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XHJcblxyXG4gICAgICAgIGFsbE5vdGVzLmZvckVhY2gobm90ZSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChub3RlLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIG5vdGVzQnlUeXBlW25vdGUudHlwZV0gPSAobm90ZXNCeVR5cGVbbm90ZS50eXBlXSB8fCAwKSArIDE7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkUGF0aHMuaW5jbHVkZXMobm90ZS5wYXRoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQnlUeXBlW25vdGUudHlwZV0gPSAoc2VsZWN0ZWRCeVR5cGVbbm90ZS50eXBlXSB8fCAwKSArIDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gRXN0aW1hdGUgc3luYyB0aW1lIChyb3VnaCBjYWxjdWxhdGlvbjogfjEtMiBzZWNvbmRzIHBlciBub3RlKVxyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkQ291bnQgPSBzZWxlY3RlZFBhdGhzLmxlbmd0aDtcclxuICAgICAgICBjb25zdCBlc3RpbWF0ZWRNaW51dGVzID0gTWF0aC5jZWlsKHNlbGVjdGVkQ291bnQgKiAxLjUgLyA2MCk7XHJcbiAgICAgICAgY29uc3QgZXN0aW1hdGVkU3luY1RpbWUgPSBzZWxlY3RlZENvdW50ID09PSAwID8gJzAgc2Vjb25kcycgOlxyXG4gICAgICAgICAgICBlc3RpbWF0ZWRNaW51dGVzIDwgMSA/IGAke3NlbGVjdGVkQ291bnQgKiAxLjV9IHNlY29uZHNgIDpcclxuICAgICAgICAgICAgZXN0aW1hdGVkTWludXRlcyA9PT0gMSA/ICcxIG1pbnV0ZScgOiBgJHtlc3RpbWF0ZWRNaW51dGVzfSBtaW51dGVzYDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdG90YWxOb3RlczogYWxsTm90ZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICBzZWxlY3RlZE5vdGVzOiBzZWxlY3RlZENvdW50LFxyXG4gICAgICAgICAgICBub3Rlc0J5VHlwZSxcclxuICAgICAgICAgICAgc2VsZWN0ZWRCeVR5cGUsXHJcbiAgICAgICAgICAgIGVzdGltYXRlZFN5bmNUaW1lXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBub3RlcyBieSB0eXBlIGZvciBxdWljayBmaWx0ZXJpbmdcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2V0Tm90ZXNCeVR5cGUoKTogUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCBOb3RlU2VsZWN0aW9uUmVzdWx0W10+PiB7XHJcbiAgICAgICAgY29uc3Qgbm90ZXMgPSBhd2FpdCB0aGlzLmdldEFsbFN5bmNhYmxlTm90ZXMoKTtcclxuICAgICAgICBjb25zdCBieVR5cGU6IFJlY29yZDxzdHJpbmcsIE5vdGVTZWxlY3Rpb25SZXN1bHRbXT4gPSB7fTtcclxuXHJcbiAgICAgICAgbm90ZXMuZm9yRWFjaChub3RlID0+IHtcclxuICAgICAgICAgICAgaWYgKG5vdGUudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFieVR5cGVbbm90ZS50eXBlXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ5VHlwZVtub3RlLnR5cGVdID0gW107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBieVR5cGVbbm90ZS50eXBlXS5wdXNoKG5vdGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBieVR5cGU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgcXVpY2sgc2VsZWN0aW9uIHByZXNldHNcclxuICAgICAqL1xyXG4gICAgYXN5bmMgY3JlYXRlU2VsZWN0aW9uUHJlc2V0cygpOiBQcm9taXNlPFJlY29yZDxzdHJpbmcsIE5vdGVGaWx0ZXJDcml0ZXJpYT4+IHtcclxuICAgICAgICBjb25zdCB0eXBlcyA9IGF3YWl0IHRoaXMuZ2V0QXZhaWxhYmxlVHlwZXMoKTtcclxuICAgICAgICBjb25zdCBwcmVzZXRzOiBSZWNvcmQ8c3RyaW5nLCBOb3RlRmlsdGVyQ3JpdGVyaWE+ID0ge1xyXG4gICAgICAgICAgICAnQWxsIE5vdGVzJzoge30sXHJcbiAgICAgICAgICAgICdSZWNlbnRseSBNb2RpZmllZCc6IHtcclxuICAgICAgICAgICAgICAgIG1vZGlmaWVkQWZ0ZXI6IG5ldyBEYXRlKERhdGUubm93KCkgLSA3ICogMjQgKiA2MCAqIDYwICogMTAwMCkgLy8gTGFzdCA3IGRheXNcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ1JlY2VudCBDb250ZW50Jzoge1xyXG4gICAgICAgICAgICAgICAgY3JlYXRlZEFmdGVyOiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKSAvLyBMYXN0IDMwIGRheXNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIEFkZCB0eXBlLXNwZWNpZmljIHByZXNldHNcclxuICAgICAgICB0eXBlcy5mb3JFYWNoKHR5cGUgPT4ge1xyXG4gICAgICAgICAgICBwcmVzZXRzW2Ake3R5cGV9IE9ubHlgXSA9IHtcclxuICAgICAgICAgICAgICAgIGluY2x1ZGVUeXBlczogW3R5cGVdXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBwcmVzZXRzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVmFsaWRhdGUgc2VsZWN0aW9uIGZvciBzeW5jXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHZhbGlkYXRlU2VsZWN0aW9uKCk6IFByb21pc2U8eyBpc1ZhbGlkOiBib29sZWFuOyB3YXJuaW5nczogc3RyaW5nW107IGVycm9yczogc3RyaW5nW10gfT4ge1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkUGF0aHMgPSB0aGlzLmdldFNlbGVjdGVkTm90ZVBhdGhzKCk7XHJcbiAgICAgICAgY29uc3Qgd2FybmluZ3M6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgY29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICAgICAgICBpZiAoc2VsZWN0ZWRQYXRocy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgZXJyb3JzLnB1c2goJ05vIG5vdGVzIHNlbGVjdGVkIGZvciBzeW5jJyk7XHJcbiAgICAgICAgICAgIHJldHVybiB7IGlzVmFsaWQ6IGZhbHNlLCB3YXJuaW5ncywgZXJyb3JzIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiBzZWxlY3RlZCBmaWxlcyBzdGlsbCBleGlzdFxyXG4gICAgICAgIGNvbnN0IG1pc3NpbmdGaWxlczogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICBmb3IgKGNvbnN0IHBhdGggb2Ygc2VsZWN0ZWRQYXRocykge1xyXG4gICAgICAgICAgICBjb25zdCBmaWxlID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHBhdGgpO1xyXG4gICAgICAgICAgICBpZiAoIWZpbGUgfHwgIShmaWxlIGluc3RhbmNlb2YgVEZpbGUpKSB7XHJcbiAgICAgICAgICAgICAgICBtaXNzaW5nRmlsZXMucHVzaChwYXRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG1pc3NpbmdGaWxlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKGBNaXNzaW5nIGZpbGVzOiAke21pc3NpbmdGaWxlcy5qb2luKCcsICcpfWApO1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgbWlzc2luZyBmaWxlcyBmcm9tIHNlbGVjdGlvblxyXG4gICAgICAgICAgICB0aGlzLmRlc2VsZWN0Tm90ZXMobWlzc2luZ0ZpbGVzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFBlcmZvcm1hbmNlIHdhcm5pbmdzXHJcbiAgICAgICAgaWYgKHNlbGVjdGVkUGF0aHMubGVuZ3RoID4gMTAwKSB7XHJcbiAgICAgICAgICAgIHdhcm5pbmdzLnB1c2goYExhcmdlIHNlbGVjdGlvbiAoJHtzZWxlY3RlZFBhdGhzLmxlbmd0aH0gbm90ZXMpIG1heSB0YWtlIHNpZ25pZmljYW50IHRpbWUgdG8gc3luY2ApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIHZlcnkgbGFyZ2UgZmlsZXNcclxuICAgICAgICBjb25zdCBsYXJnZUZpbGVzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgIGNvbnN0IG5vdGVzID0gYXdhaXQgdGhpcy5nZXRBbGxTeW5jYWJsZU5vdGVzKCk7XHJcbiAgICAgICAgbm90ZXMuZm9yRWFjaChub3RlID0+IHtcclxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkUGF0aHMuaW5jbHVkZXMobm90ZS5wYXRoKSAmJiBub3RlLmNvbnRlbnRMZW5ndGggPiA1MDAwMCkge1xyXG4gICAgICAgICAgICAgICAgbGFyZ2VGaWxlcy5wdXNoKGAke25vdGUucGF0aH0gKCR7TWF0aC5yb3VuZChub3RlLmNvbnRlbnRMZW5ndGggLyAxMDAwKX1LQilgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAobGFyZ2VGaWxlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHdhcm5pbmdzLnB1c2goYExhcmdlIGZpbGVzIGRldGVjdGVkOiAke2xhcmdlRmlsZXMuam9pbignLCAnKX1gKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGlzVmFsaWQ6IGVycm9ycy5sZW5ndGggPT09IDAsXHJcbiAgICAgICAgICAgIHdhcm5pbmdzLFxyXG4gICAgICAgICAgICBlcnJvcnNcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRXh0cmFjdCB0YWdzIGZyb20gbm90ZSBtZXRhZGF0YVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGV4dHJhY3RUYWdzKG1ldGFkYXRhOiBDYWNoZWRNZXRhZGF0YSB8IG51bGwpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgaWYgKCFtZXRhZGF0YSkgcmV0dXJuIFtdO1xyXG5cclxuICAgICAgICBjb25zdCB0YWdzOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICAgICAgICAvLyBGcm9tIGZyb250bWF0dGVyIHRhZ3NcclxuICAgICAgICBpZiAobWV0YWRhdGEuZnJvbnRtYXR0ZXI/LnRhZ3MpIHtcclxuICAgICAgICAgICAgY29uc3QgZnJvbnRtYXR0ZXJUYWdzID0gQXJyYXkuaXNBcnJheShtZXRhZGF0YS5mcm9udG1hdHRlci50YWdzKVxyXG4gICAgICAgICAgICAgICAgPyBtZXRhZGF0YS5mcm9udG1hdHRlci50YWdzXHJcbiAgICAgICAgICAgICAgICA6IFttZXRhZGF0YS5mcm9udG1hdHRlci50YWdzXTtcclxuICAgICAgICAgICAgdGFncy5wdXNoKC4uLmZyb250bWF0dGVyVGFncy5tYXAodGFnID0+IFN0cmluZyh0YWcpKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBGcm9tIGlubGluZSB0YWdzXHJcbiAgICAgICAgaWYgKG1ldGFkYXRhLnRhZ3MpIHtcclxuICAgICAgICAgICAgdGFncy5wdXNoKC4uLm1ldGFkYXRhLnRhZ3MubWFwKHRhZyA9PiB0YWcudGFnLnJlcGxhY2UoJyMnLCAnJykpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBbLi4ubmV3IFNldCh0YWdzKV0uZmlsdGVyKHRhZyA9PiB0YWcudHJpbSgpLmxlbmd0aCA+IDApO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyA9PT0gVkVTU0VMIENMT1NFID09PSIsIlxuLyohIGpzLXlhbWwgNC4xLjAgaHR0cHM6Ly9naXRodWIuY29tL25vZGVjYS9qcy15YW1sIEBsaWNlbnNlIE1JVCAqL1xuZnVuY3Rpb24gaXNOb3RoaW5nKHN1YmplY3QpIHtcbiAgcmV0dXJuICh0eXBlb2Ygc3ViamVjdCA9PT0gJ3VuZGVmaW5lZCcpIHx8IChzdWJqZWN0ID09PSBudWxsKTtcbn1cblxuXG5mdW5jdGlvbiBpc09iamVjdChzdWJqZWN0KSB7XG4gIHJldHVybiAodHlwZW9mIHN1YmplY3QgPT09ICdvYmplY3QnKSAmJiAoc3ViamVjdCAhPT0gbnVsbCk7XG59XG5cblxuZnVuY3Rpb24gdG9BcnJheShzZXF1ZW5jZSkge1xuICBpZiAoQXJyYXkuaXNBcnJheShzZXF1ZW5jZSkpIHJldHVybiBzZXF1ZW5jZTtcbiAgZWxzZSBpZiAoaXNOb3RoaW5nKHNlcXVlbmNlKSkgcmV0dXJuIFtdO1xuXG4gIHJldHVybiBbIHNlcXVlbmNlIF07XG59XG5cblxuZnVuY3Rpb24gZXh0ZW5kKHRhcmdldCwgc291cmNlKSB7XG4gIHZhciBpbmRleCwgbGVuZ3RoLCBrZXksIHNvdXJjZUtleXM7XG5cbiAgaWYgKHNvdXJjZSkge1xuICAgIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuXG4gICAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IHNvdXJjZUtleXMubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgICAga2V5ID0gc291cmNlS2V5c1tpbmRleF07XG4gICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cblxuZnVuY3Rpb24gcmVwZWF0KHN0cmluZywgY291bnQpIHtcbiAgdmFyIHJlc3VsdCA9ICcnLCBjeWNsZTtcblxuICBmb3IgKGN5Y2xlID0gMDsgY3ljbGUgPCBjb3VudDsgY3ljbGUgKz0gMSkge1xuICAgIHJlc3VsdCArPSBzdHJpbmc7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5cbmZ1bmN0aW9uIGlzTmVnYXRpdmVaZXJvKG51bWJlcikge1xuICByZXR1cm4gKG51bWJlciA9PT0gMCkgJiYgKE51bWJlci5ORUdBVElWRV9JTkZJTklUWSA9PT0gMSAvIG51bWJlcik7XG59XG5cblxudmFyIGlzTm90aGluZ18xICAgICAgPSBpc05vdGhpbmc7XG52YXIgaXNPYmplY3RfMSAgICAgICA9IGlzT2JqZWN0O1xudmFyIHRvQXJyYXlfMSAgICAgICAgPSB0b0FycmF5O1xudmFyIHJlcGVhdF8xICAgICAgICAgPSByZXBlYXQ7XG52YXIgaXNOZWdhdGl2ZVplcm9fMSA9IGlzTmVnYXRpdmVaZXJvO1xudmFyIGV4dGVuZF8xICAgICAgICAgPSBleHRlbmQ7XG5cbnZhciBjb21tb24gPSB7XG5cdGlzTm90aGluZzogaXNOb3RoaW5nXzEsXG5cdGlzT2JqZWN0OiBpc09iamVjdF8xLFxuXHR0b0FycmF5OiB0b0FycmF5XzEsXG5cdHJlcGVhdDogcmVwZWF0XzEsXG5cdGlzTmVnYXRpdmVaZXJvOiBpc05lZ2F0aXZlWmVyb18xLFxuXHRleHRlbmQ6IGV4dGVuZF8xXG59O1xuXG4vLyBZQU1MIGVycm9yIGNsYXNzLiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzg0NTg5ODRcblxuXG5mdW5jdGlvbiBmb3JtYXRFcnJvcihleGNlcHRpb24sIGNvbXBhY3QpIHtcbiAgdmFyIHdoZXJlID0gJycsIG1lc3NhZ2UgPSBleGNlcHRpb24ucmVhc29uIHx8ICcodW5rbm93biByZWFzb24pJztcblxuICBpZiAoIWV4Y2VwdGlvbi5tYXJrKSByZXR1cm4gbWVzc2FnZTtcblxuICBpZiAoZXhjZXB0aW9uLm1hcmsubmFtZSkge1xuICAgIHdoZXJlICs9ICdpbiBcIicgKyBleGNlcHRpb24ubWFyay5uYW1lICsgJ1wiICc7XG4gIH1cblxuICB3aGVyZSArPSAnKCcgKyAoZXhjZXB0aW9uLm1hcmsubGluZSArIDEpICsgJzonICsgKGV4Y2VwdGlvbi5tYXJrLmNvbHVtbiArIDEpICsgJyknO1xuXG4gIGlmICghY29tcGFjdCAmJiBleGNlcHRpb24ubWFyay5zbmlwcGV0KSB7XG4gICAgd2hlcmUgKz0gJ1xcblxcbicgKyBleGNlcHRpb24ubWFyay5zbmlwcGV0O1xuICB9XG5cbiAgcmV0dXJuIG1lc3NhZ2UgKyAnICcgKyB3aGVyZTtcbn1cblxuXG5mdW5jdGlvbiBZQU1MRXhjZXB0aW9uJDEocmVhc29uLCBtYXJrKSB7XG4gIC8vIFN1cGVyIGNvbnN0cnVjdG9yXG4gIEVycm9yLmNhbGwodGhpcyk7XG5cbiAgdGhpcy5uYW1lID0gJ1lBTUxFeGNlcHRpb24nO1xuICB0aGlzLnJlYXNvbiA9IHJlYXNvbjtcbiAgdGhpcy5tYXJrID0gbWFyaztcbiAgdGhpcy5tZXNzYWdlID0gZm9ybWF0RXJyb3IodGhpcywgZmFsc2UpO1xuXG4gIC8vIEluY2x1ZGUgc3RhY2sgdHJhY2UgaW4gZXJyb3Igb2JqZWN0XG4gIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgIC8vIENocm9tZSBhbmQgTm9kZUpTXG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gIH0gZWxzZSB7XG4gICAgLy8gRkYsIElFIDEwKyBhbmQgU2FmYXJpIDYrLiBGYWxsYmFjayBmb3Igb3RoZXJzXG4gICAgdGhpcy5zdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2sgfHwgJyc7XG4gIH1cbn1cblxuXG4vLyBJbmhlcml0IGZyb20gRXJyb3JcbllBTUxFeGNlcHRpb24kMS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG5ZQU1MRXhjZXB0aW9uJDEucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gWUFNTEV4Y2VwdGlvbiQxO1xuXG5cbllBTUxFeGNlcHRpb24kMS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyhjb21wYWN0KSB7XG4gIHJldHVybiB0aGlzLm5hbWUgKyAnOiAnICsgZm9ybWF0RXJyb3IodGhpcywgY29tcGFjdCk7XG59O1xuXG5cbnZhciBleGNlcHRpb24gPSBZQU1MRXhjZXB0aW9uJDE7XG5cbi8vIGdldCBzbmlwcGV0IGZvciBhIHNpbmdsZSBsaW5lLCByZXNwZWN0aW5nIG1heExlbmd0aFxuZnVuY3Rpb24gZ2V0TGluZShidWZmZXIsIGxpbmVTdGFydCwgbGluZUVuZCwgcG9zaXRpb24sIG1heExpbmVMZW5ndGgpIHtcbiAgdmFyIGhlYWQgPSAnJztcbiAgdmFyIHRhaWwgPSAnJztcbiAgdmFyIG1heEhhbGZMZW5ndGggPSBNYXRoLmZsb29yKG1heExpbmVMZW5ndGggLyAyKSAtIDE7XG5cbiAgaWYgKHBvc2l0aW9uIC0gbGluZVN0YXJ0ID4gbWF4SGFsZkxlbmd0aCkge1xuICAgIGhlYWQgPSAnIC4uLiAnO1xuICAgIGxpbmVTdGFydCA9IHBvc2l0aW9uIC0gbWF4SGFsZkxlbmd0aCArIGhlYWQubGVuZ3RoO1xuICB9XG5cbiAgaWYgKGxpbmVFbmQgLSBwb3NpdGlvbiA+IG1heEhhbGZMZW5ndGgpIHtcbiAgICB0YWlsID0gJyAuLi4nO1xuICAgIGxpbmVFbmQgPSBwb3NpdGlvbiArIG1heEhhbGZMZW5ndGggLSB0YWlsLmxlbmd0aDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc3RyOiBoZWFkICsgYnVmZmVyLnNsaWNlKGxpbmVTdGFydCwgbGluZUVuZCkucmVwbGFjZSgvXFx0L2csICfihpInKSArIHRhaWwsXG4gICAgcG9zOiBwb3NpdGlvbiAtIGxpbmVTdGFydCArIGhlYWQubGVuZ3RoIC8vIHJlbGF0aXZlIHBvc2l0aW9uXG4gIH07XG59XG5cblxuZnVuY3Rpb24gcGFkU3RhcnQoc3RyaW5nLCBtYXgpIHtcbiAgcmV0dXJuIGNvbW1vbi5yZXBlYXQoJyAnLCBtYXggLSBzdHJpbmcubGVuZ3RoKSArIHN0cmluZztcbn1cblxuXG5mdW5jdGlvbiBtYWtlU25pcHBldChtYXJrLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBPYmplY3QuY3JlYXRlKG9wdGlvbnMgfHwgbnVsbCk7XG5cbiAgaWYgKCFtYXJrLmJ1ZmZlcikgcmV0dXJuIG51bGw7XG5cbiAgaWYgKCFvcHRpb25zLm1heExlbmd0aCkgb3B0aW9ucy5tYXhMZW5ndGggPSA3OTtcbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluZGVudCAgICAgICE9PSAnbnVtYmVyJykgb3B0aW9ucy5pbmRlbnQgICAgICA9IDE7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5saW5lc0JlZm9yZSAhPT0gJ251bWJlcicpIG9wdGlvbnMubGluZXNCZWZvcmUgPSAzO1xuICBpZiAodHlwZW9mIG9wdGlvbnMubGluZXNBZnRlciAgIT09ICdudW1iZXInKSBvcHRpb25zLmxpbmVzQWZ0ZXIgID0gMjtcblxuICB2YXIgcmUgPSAvXFxyP1xcbnxcXHJ8XFwwL2c7XG4gIHZhciBsaW5lU3RhcnRzID0gWyAwIF07XG4gIHZhciBsaW5lRW5kcyA9IFtdO1xuICB2YXIgbWF0Y2g7XG4gIHZhciBmb3VuZExpbmVObyA9IC0xO1xuXG4gIHdoaWxlICgobWF0Y2ggPSByZS5leGVjKG1hcmsuYnVmZmVyKSkpIHtcbiAgICBsaW5lRW5kcy5wdXNoKG1hdGNoLmluZGV4KTtcbiAgICBsaW5lU3RhcnRzLnB1c2gobWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGgpO1xuXG4gICAgaWYgKG1hcmsucG9zaXRpb24gPD0gbWF0Y2guaW5kZXggJiYgZm91bmRMaW5lTm8gPCAwKSB7XG4gICAgICBmb3VuZExpbmVObyA9IGxpbmVTdGFydHMubGVuZ3RoIC0gMjtcbiAgICB9XG4gIH1cblxuICBpZiAoZm91bmRMaW5lTm8gPCAwKSBmb3VuZExpbmVObyA9IGxpbmVTdGFydHMubGVuZ3RoIC0gMTtcblxuICB2YXIgcmVzdWx0ID0gJycsIGksIGxpbmU7XG4gIHZhciBsaW5lTm9MZW5ndGggPSBNYXRoLm1pbihtYXJrLmxpbmUgKyBvcHRpb25zLmxpbmVzQWZ0ZXIsIGxpbmVFbmRzLmxlbmd0aCkudG9TdHJpbmcoKS5sZW5ndGg7XG4gIHZhciBtYXhMaW5lTGVuZ3RoID0gb3B0aW9ucy5tYXhMZW5ndGggLSAob3B0aW9ucy5pbmRlbnQgKyBsaW5lTm9MZW5ndGggKyAzKTtcblxuICBmb3IgKGkgPSAxOyBpIDw9IG9wdGlvbnMubGluZXNCZWZvcmU7IGkrKykge1xuICAgIGlmIChmb3VuZExpbmVObyAtIGkgPCAwKSBicmVhaztcbiAgICBsaW5lID0gZ2V0TGluZShcbiAgICAgIG1hcmsuYnVmZmVyLFxuICAgICAgbGluZVN0YXJ0c1tmb3VuZExpbmVObyAtIGldLFxuICAgICAgbGluZUVuZHNbZm91bmRMaW5lTm8gLSBpXSxcbiAgICAgIG1hcmsucG9zaXRpb24gLSAobGluZVN0YXJ0c1tmb3VuZExpbmVOb10gLSBsaW5lU3RhcnRzW2ZvdW5kTGluZU5vIC0gaV0pLFxuICAgICAgbWF4TGluZUxlbmd0aFxuICAgICk7XG4gICAgcmVzdWx0ID0gY29tbW9uLnJlcGVhdCgnICcsIG9wdGlvbnMuaW5kZW50KSArIHBhZFN0YXJ0KChtYXJrLmxpbmUgLSBpICsgMSkudG9TdHJpbmcoKSwgbGluZU5vTGVuZ3RoKSArXG4gICAgICAnIHwgJyArIGxpbmUuc3RyICsgJ1xcbicgKyByZXN1bHQ7XG4gIH1cblxuICBsaW5lID0gZ2V0TGluZShtYXJrLmJ1ZmZlciwgbGluZVN0YXJ0c1tmb3VuZExpbmVOb10sIGxpbmVFbmRzW2ZvdW5kTGluZU5vXSwgbWFyay5wb3NpdGlvbiwgbWF4TGluZUxlbmd0aCk7XG4gIHJlc3VsdCArPSBjb21tb24ucmVwZWF0KCcgJywgb3B0aW9ucy5pbmRlbnQpICsgcGFkU3RhcnQoKG1hcmsubGluZSArIDEpLnRvU3RyaW5nKCksIGxpbmVOb0xlbmd0aCkgK1xuICAgICcgfCAnICsgbGluZS5zdHIgKyAnXFxuJztcbiAgcmVzdWx0ICs9IGNvbW1vbi5yZXBlYXQoJy0nLCBvcHRpb25zLmluZGVudCArIGxpbmVOb0xlbmd0aCArIDMgKyBsaW5lLnBvcykgKyAnXicgKyAnXFxuJztcblxuICBmb3IgKGkgPSAxOyBpIDw9IG9wdGlvbnMubGluZXNBZnRlcjsgaSsrKSB7XG4gICAgaWYgKGZvdW5kTGluZU5vICsgaSA+PSBsaW5lRW5kcy5sZW5ndGgpIGJyZWFrO1xuICAgIGxpbmUgPSBnZXRMaW5lKFxuICAgICAgbWFyay5idWZmZXIsXG4gICAgICBsaW5lU3RhcnRzW2ZvdW5kTGluZU5vICsgaV0sXG4gICAgICBsaW5lRW5kc1tmb3VuZExpbmVObyArIGldLFxuICAgICAgbWFyay5wb3NpdGlvbiAtIChsaW5lU3RhcnRzW2ZvdW5kTGluZU5vXSAtIGxpbmVTdGFydHNbZm91bmRMaW5lTm8gKyBpXSksXG4gICAgICBtYXhMaW5lTGVuZ3RoXG4gICAgKTtcbiAgICByZXN1bHQgKz0gY29tbW9uLnJlcGVhdCgnICcsIG9wdGlvbnMuaW5kZW50KSArIHBhZFN0YXJ0KChtYXJrLmxpbmUgKyBpICsgMSkudG9TdHJpbmcoKSwgbGluZU5vTGVuZ3RoKSArXG4gICAgICAnIHwgJyArIGxpbmUuc3RyICsgJ1xcbic7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0LnJlcGxhY2UoL1xcbiQvLCAnJyk7XG59XG5cblxudmFyIHNuaXBwZXQgPSBtYWtlU25pcHBldDtcblxudmFyIFRZUEVfQ09OU1RSVUNUT1JfT1BUSU9OUyA9IFtcbiAgJ2tpbmQnLFxuICAnbXVsdGknLFxuICAncmVzb2x2ZScsXG4gICdjb25zdHJ1Y3QnLFxuICAnaW5zdGFuY2VPZicsXG4gICdwcmVkaWNhdGUnLFxuICAncmVwcmVzZW50JyxcbiAgJ3JlcHJlc2VudE5hbWUnLFxuICAnZGVmYXVsdFN0eWxlJyxcbiAgJ3N0eWxlQWxpYXNlcydcbl07XG5cbnZhciBZQU1MX05PREVfS0lORFMgPSBbXG4gICdzY2FsYXInLFxuICAnc2VxdWVuY2UnLFxuICAnbWFwcGluZydcbl07XG5cbmZ1bmN0aW9uIGNvbXBpbGVTdHlsZUFsaWFzZXMobWFwKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcblxuICBpZiAobWFwICE9PSBudWxsKSB7XG4gICAgT2JqZWN0LmtleXMobWFwKS5mb3JFYWNoKGZ1bmN0aW9uIChzdHlsZSkge1xuICAgICAgbWFwW3N0eWxlXS5mb3JFYWNoKGZ1bmN0aW9uIChhbGlhcykge1xuICAgICAgICByZXN1bHRbU3RyaW5nKGFsaWFzKV0gPSBzdHlsZTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gVHlwZSQxKHRhZywgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICBPYmplY3Qua2V5cyhvcHRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgaWYgKFRZUEVfQ09OU1RSVUNUT1JfT1BUSU9OUy5pbmRleE9mKG5hbWUpID09PSAtMSkge1xuICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbignVW5rbm93biBvcHRpb24gXCInICsgbmFtZSArICdcIiBpcyBtZXQgaW4gZGVmaW5pdGlvbiBvZiBcIicgKyB0YWcgKyAnXCIgWUFNTCB0eXBlLicpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gVE9ETzogQWRkIHRhZyBmb3JtYXQgY2hlY2suXG4gIHRoaXMub3B0aW9ucyAgICAgICA9IG9wdGlvbnM7IC8vIGtlZXAgb3JpZ2luYWwgb3B0aW9ucyBpbiBjYXNlIHVzZXIgd2FudHMgdG8gZXh0ZW5kIHRoaXMgdHlwZSBsYXRlclxuICB0aGlzLnRhZyAgICAgICAgICAgPSB0YWc7XG4gIHRoaXMua2luZCAgICAgICAgICA9IG9wdGlvbnNbJ2tpbmQnXSAgICAgICAgICB8fCBudWxsO1xuICB0aGlzLnJlc29sdmUgICAgICAgPSBvcHRpb25zWydyZXNvbHZlJ10gICAgICAgfHwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfTtcbiAgdGhpcy5jb25zdHJ1Y3QgICAgID0gb3B0aW9uc1snY29uc3RydWN0J10gICAgIHx8IGZ1bmN0aW9uIChkYXRhKSB7IHJldHVybiBkYXRhOyB9O1xuICB0aGlzLmluc3RhbmNlT2YgICAgPSBvcHRpb25zWydpbnN0YW5jZU9mJ10gICAgfHwgbnVsbDtcbiAgdGhpcy5wcmVkaWNhdGUgICAgID0gb3B0aW9uc1sncHJlZGljYXRlJ10gICAgIHx8IG51bGw7XG4gIHRoaXMucmVwcmVzZW50ICAgICA9IG9wdGlvbnNbJ3JlcHJlc2VudCddICAgICB8fCBudWxsO1xuICB0aGlzLnJlcHJlc2VudE5hbWUgPSBvcHRpb25zWydyZXByZXNlbnROYW1lJ10gfHwgbnVsbDtcbiAgdGhpcy5kZWZhdWx0U3R5bGUgID0gb3B0aW9uc1snZGVmYXVsdFN0eWxlJ10gIHx8IG51bGw7XG4gIHRoaXMubXVsdGkgICAgICAgICA9IG9wdGlvbnNbJ211bHRpJ10gICAgICAgICB8fCBmYWxzZTtcbiAgdGhpcy5zdHlsZUFsaWFzZXMgID0gY29tcGlsZVN0eWxlQWxpYXNlcyhvcHRpb25zWydzdHlsZUFsaWFzZXMnXSB8fCBudWxsKTtcblxuICBpZiAoWUFNTF9OT0RFX0tJTkRTLmluZGV4T2YodGhpcy5raW5kKSA9PT0gLTEpIHtcbiAgICB0aHJvdyBuZXcgZXhjZXB0aW9uKCdVbmtub3duIGtpbmQgXCInICsgdGhpcy5raW5kICsgJ1wiIGlzIHNwZWNpZmllZCBmb3IgXCInICsgdGFnICsgJ1wiIFlBTUwgdHlwZS4nKTtcbiAgfVxufVxuXG52YXIgdHlwZSA9IFR5cGUkMTtcblxuLyplc2xpbnQtZGlzYWJsZSBtYXgtbGVuKi9cblxuXG5cblxuXG5mdW5jdGlvbiBjb21waWxlTGlzdChzY2hlbWEsIG5hbWUpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gIHNjaGVtYVtuYW1lXS5mb3JFYWNoKGZ1bmN0aW9uIChjdXJyZW50VHlwZSkge1xuICAgIHZhciBuZXdJbmRleCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgICByZXN1bHQuZm9yRWFjaChmdW5jdGlvbiAocHJldmlvdXNUeXBlLCBwcmV2aW91c0luZGV4KSB7XG4gICAgICBpZiAocHJldmlvdXNUeXBlLnRhZyA9PT0gY3VycmVudFR5cGUudGFnICYmXG4gICAgICAgICAgcHJldmlvdXNUeXBlLmtpbmQgPT09IGN1cnJlbnRUeXBlLmtpbmQgJiZcbiAgICAgICAgICBwcmV2aW91c1R5cGUubXVsdGkgPT09IGN1cnJlbnRUeXBlLm11bHRpKSB7XG5cbiAgICAgICAgbmV3SW5kZXggPSBwcmV2aW91c0luZGV4O1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmVzdWx0W25ld0luZGV4XSA9IGN1cnJlbnRUeXBlO1xuICB9KTtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5cbmZ1bmN0aW9uIGNvbXBpbGVNYXAoLyogbGlzdHMuLi4gKi8pIHtcbiAgdmFyIHJlc3VsdCA9IHtcbiAgICAgICAgc2NhbGFyOiB7fSxcbiAgICAgICAgc2VxdWVuY2U6IHt9LFxuICAgICAgICBtYXBwaW5nOiB7fSxcbiAgICAgICAgZmFsbGJhY2s6IHt9LFxuICAgICAgICBtdWx0aToge1xuICAgICAgICAgIHNjYWxhcjogW10sXG4gICAgICAgICAgc2VxdWVuY2U6IFtdLFxuICAgICAgICAgIG1hcHBpbmc6IFtdLFxuICAgICAgICAgIGZhbGxiYWNrOiBbXVxuICAgICAgICB9XG4gICAgICB9LCBpbmRleCwgbGVuZ3RoO1xuXG4gIGZ1bmN0aW9uIGNvbGxlY3RUeXBlKHR5cGUpIHtcbiAgICBpZiAodHlwZS5tdWx0aSkge1xuICAgICAgcmVzdWx0Lm11bHRpW3R5cGUua2luZF0ucHVzaCh0eXBlKTtcbiAgICAgIHJlc3VsdC5tdWx0aVsnZmFsbGJhY2snXS5wdXNoKHR5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRbdHlwZS5raW5kXVt0eXBlLnRhZ10gPSByZXN1bHRbJ2ZhbGxiYWNrJ11bdHlwZS50YWddID0gdHlwZTtcbiAgICB9XG4gIH1cblxuICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICBhcmd1bWVudHNbaW5kZXhdLmZvckVhY2goY29sbGVjdFR5cGUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cblxuZnVuY3Rpb24gU2NoZW1hJDEoZGVmaW5pdGlvbikge1xuICByZXR1cm4gdGhpcy5leHRlbmQoZGVmaW5pdGlvbik7XG59XG5cblxuU2NoZW1hJDEucHJvdG90eXBlLmV4dGVuZCA9IGZ1bmN0aW9uIGV4dGVuZChkZWZpbml0aW9uKSB7XG4gIHZhciBpbXBsaWNpdCA9IFtdO1xuICB2YXIgZXhwbGljaXQgPSBbXTtcblxuICBpZiAoZGVmaW5pdGlvbiBpbnN0YW5jZW9mIHR5cGUpIHtcbiAgICAvLyBTY2hlbWEuZXh0ZW5kKHR5cGUpXG4gICAgZXhwbGljaXQucHVzaChkZWZpbml0aW9uKTtcblxuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZGVmaW5pdGlvbikpIHtcbiAgICAvLyBTY2hlbWEuZXh0ZW5kKFsgdHlwZTEsIHR5cGUyLCAuLi4gXSlcbiAgICBleHBsaWNpdCA9IGV4cGxpY2l0LmNvbmNhdChkZWZpbml0aW9uKTtcblxuICB9IGVsc2UgaWYgKGRlZmluaXRpb24gJiYgKEFycmF5LmlzQXJyYXkoZGVmaW5pdGlvbi5pbXBsaWNpdCkgfHwgQXJyYXkuaXNBcnJheShkZWZpbml0aW9uLmV4cGxpY2l0KSkpIHtcbiAgICAvLyBTY2hlbWEuZXh0ZW5kKHsgZXhwbGljaXQ6IFsgdHlwZTEsIHR5cGUyLCAuLi4gXSwgaW1wbGljaXQ6IFsgdHlwZTEsIHR5cGUyLCAuLi4gXSB9KVxuICAgIGlmIChkZWZpbml0aW9uLmltcGxpY2l0KSBpbXBsaWNpdCA9IGltcGxpY2l0LmNvbmNhdChkZWZpbml0aW9uLmltcGxpY2l0KTtcbiAgICBpZiAoZGVmaW5pdGlvbi5leHBsaWNpdCkgZXhwbGljaXQgPSBleHBsaWNpdC5jb25jYXQoZGVmaW5pdGlvbi5leHBsaWNpdCk7XG5cbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgZXhjZXB0aW9uKCdTY2hlbWEuZXh0ZW5kIGFyZ3VtZW50IHNob3VsZCBiZSBhIFR5cGUsIFsgVHlwZSBdLCAnICtcbiAgICAgICdvciBhIHNjaGVtYSBkZWZpbml0aW9uICh7IGltcGxpY2l0OiBbLi4uXSwgZXhwbGljaXQ6IFsuLi5dIH0pJyk7XG4gIH1cblxuICBpbXBsaWNpdC5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlJDEpIHtcbiAgICBpZiAoISh0eXBlJDEgaW5zdGFuY2VvZiB0eXBlKSkge1xuICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbignU3BlY2lmaWVkIGxpc3Qgb2YgWUFNTCB0eXBlcyAob3IgYSBzaW5nbGUgVHlwZSBvYmplY3QpIGNvbnRhaW5zIGEgbm9uLVR5cGUgb2JqZWN0LicpO1xuICAgIH1cblxuICAgIGlmICh0eXBlJDEubG9hZEtpbmQgJiYgdHlwZSQxLmxvYWRLaW5kICE9PSAnc2NhbGFyJykge1xuICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbignVGhlcmUgaXMgYSBub24tc2NhbGFyIHR5cGUgaW4gdGhlIGltcGxpY2l0IGxpc3Qgb2YgYSBzY2hlbWEuIEltcGxpY2l0IHJlc29sdmluZyBvZiBzdWNoIHR5cGVzIGlzIG5vdCBzdXBwb3J0ZWQuJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGUkMS5tdWx0aSkge1xuICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbignVGhlcmUgaXMgYSBtdWx0aSB0eXBlIGluIHRoZSBpbXBsaWNpdCBsaXN0IG9mIGEgc2NoZW1hLiBNdWx0aSB0YWdzIGNhbiBvbmx5IGJlIGxpc3RlZCBhcyBleHBsaWNpdC4nKTtcbiAgICB9XG4gIH0pO1xuXG4gIGV4cGxpY2l0LmZvckVhY2goZnVuY3Rpb24gKHR5cGUkMSkge1xuICAgIGlmICghKHR5cGUkMSBpbnN0YW5jZW9mIHR5cGUpKSB7XG4gICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uKCdTcGVjaWZpZWQgbGlzdCBvZiBZQU1MIHR5cGVzIChvciBhIHNpbmdsZSBUeXBlIG9iamVjdCkgY29udGFpbnMgYSBub24tVHlwZSBvYmplY3QuJyk7XG4gICAgfVxuICB9KTtcblxuICB2YXIgcmVzdWx0ID0gT2JqZWN0LmNyZWF0ZShTY2hlbWEkMS5wcm90b3R5cGUpO1xuXG4gIHJlc3VsdC5pbXBsaWNpdCA9ICh0aGlzLmltcGxpY2l0IHx8IFtdKS5jb25jYXQoaW1wbGljaXQpO1xuICByZXN1bHQuZXhwbGljaXQgPSAodGhpcy5leHBsaWNpdCB8fCBbXSkuY29uY2F0KGV4cGxpY2l0KTtcblxuICByZXN1bHQuY29tcGlsZWRJbXBsaWNpdCA9IGNvbXBpbGVMaXN0KHJlc3VsdCwgJ2ltcGxpY2l0Jyk7XG4gIHJlc3VsdC5jb21waWxlZEV4cGxpY2l0ID0gY29tcGlsZUxpc3QocmVzdWx0LCAnZXhwbGljaXQnKTtcbiAgcmVzdWx0LmNvbXBpbGVkVHlwZU1hcCAgPSBjb21waWxlTWFwKHJlc3VsdC5jb21waWxlZEltcGxpY2l0LCByZXN1bHQuY29tcGlsZWRFeHBsaWNpdCk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblxudmFyIHNjaGVtYSA9IFNjaGVtYSQxO1xuXG52YXIgc3RyID0gbmV3IHR5cGUoJ3RhZzp5YW1sLm9yZywyMDAyOnN0cicsIHtcbiAga2luZDogJ3NjYWxhcicsXG4gIGNvbnN0cnVjdDogZnVuY3Rpb24gKGRhdGEpIHsgcmV0dXJuIGRhdGEgIT09IG51bGwgPyBkYXRhIDogJyc7IH1cbn0pO1xuXG52YXIgc2VxID0gbmV3IHR5cGUoJ3RhZzp5YW1sLm9yZywyMDAyOnNlcScsIHtcbiAga2luZDogJ3NlcXVlbmNlJyxcbiAgY29uc3RydWN0OiBmdW5jdGlvbiAoZGF0YSkgeyByZXR1cm4gZGF0YSAhPT0gbnVsbCA/IGRhdGEgOiBbXTsgfVxufSk7XG5cbnZhciBtYXAgPSBuZXcgdHlwZSgndGFnOnlhbWwub3JnLDIwMDI6bWFwJywge1xuICBraW5kOiAnbWFwcGluZycsXG4gIGNvbnN0cnVjdDogZnVuY3Rpb24gKGRhdGEpIHsgcmV0dXJuIGRhdGEgIT09IG51bGwgPyBkYXRhIDoge307IH1cbn0pO1xuXG52YXIgZmFpbHNhZmUgPSBuZXcgc2NoZW1hKHtcbiAgZXhwbGljaXQ6IFtcbiAgICBzdHIsXG4gICAgc2VxLFxuICAgIG1hcFxuICBdXG59KTtcblxuZnVuY3Rpb24gcmVzb2x2ZVlhbWxOdWxsKGRhdGEpIHtcbiAgaWYgKGRhdGEgPT09IG51bGwpIHJldHVybiB0cnVlO1xuXG4gIHZhciBtYXggPSBkYXRhLmxlbmd0aDtcblxuICByZXR1cm4gKG1heCA9PT0gMSAmJiBkYXRhID09PSAnficpIHx8XG4gICAgICAgICAobWF4ID09PSA0ICYmIChkYXRhID09PSAnbnVsbCcgfHwgZGF0YSA9PT0gJ051bGwnIHx8IGRhdGEgPT09ICdOVUxMJykpO1xufVxuXG5mdW5jdGlvbiBjb25zdHJ1Y3RZYW1sTnVsbCgpIHtcbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzTnVsbChvYmplY3QpIHtcbiAgcmV0dXJuIG9iamVjdCA9PT0gbnVsbDtcbn1cblxudmFyIF9udWxsID0gbmV3IHR5cGUoJ3RhZzp5YW1sLm9yZywyMDAyOm51bGwnLCB7XG4gIGtpbmQ6ICdzY2FsYXInLFxuICByZXNvbHZlOiByZXNvbHZlWWFtbE51bGwsXG4gIGNvbnN0cnVjdDogY29uc3RydWN0WWFtbE51bGwsXG4gIHByZWRpY2F0ZTogaXNOdWxsLFxuICByZXByZXNlbnQ6IHtcbiAgICBjYW5vbmljYWw6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICd+JzsgICAgfSxcbiAgICBsb3dlcmNhc2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICdudWxsJzsgfSxcbiAgICB1cHBlcmNhc2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICdOVUxMJzsgfSxcbiAgICBjYW1lbGNhc2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICdOdWxsJzsgfSxcbiAgICBlbXB0eTogICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuICcnOyAgICAgfVxuICB9LFxuICBkZWZhdWx0U3R5bGU6ICdsb3dlcmNhc2UnXG59KTtcblxuZnVuY3Rpb24gcmVzb2x2ZVlhbWxCb29sZWFuKGRhdGEpIHtcbiAgaWYgKGRhdGEgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblxuICB2YXIgbWF4ID0gZGF0YS5sZW5ndGg7XG5cbiAgcmV0dXJuIChtYXggPT09IDQgJiYgKGRhdGEgPT09ICd0cnVlJyB8fCBkYXRhID09PSAnVHJ1ZScgfHwgZGF0YSA9PT0gJ1RSVUUnKSkgfHxcbiAgICAgICAgIChtYXggPT09IDUgJiYgKGRhdGEgPT09ICdmYWxzZScgfHwgZGF0YSA9PT0gJ0ZhbHNlJyB8fCBkYXRhID09PSAnRkFMU0UnKSk7XG59XG5cbmZ1bmN0aW9uIGNvbnN0cnVjdFlhbWxCb29sZWFuKGRhdGEpIHtcbiAgcmV0dXJuIGRhdGEgPT09ICd0cnVlJyB8fFxuICAgICAgICAgZGF0YSA9PT0gJ1RydWUnIHx8XG4gICAgICAgICBkYXRhID09PSAnVFJVRSc7XG59XG5cbmZ1bmN0aW9uIGlzQm9vbGVhbihvYmplY3QpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmplY3QpID09PSAnW29iamVjdCBCb29sZWFuXSc7XG59XG5cbnZhciBib29sID0gbmV3IHR5cGUoJ3RhZzp5YW1sLm9yZywyMDAyOmJvb2wnLCB7XG4gIGtpbmQ6ICdzY2FsYXInLFxuICByZXNvbHZlOiByZXNvbHZlWWFtbEJvb2xlYW4sXG4gIGNvbnN0cnVjdDogY29uc3RydWN0WWFtbEJvb2xlYW4sXG4gIHByZWRpY2F0ZTogaXNCb29sZWFuLFxuICByZXByZXNlbnQ6IHtcbiAgICBsb3dlcmNhc2U6IGZ1bmN0aW9uIChvYmplY3QpIHsgcmV0dXJuIG9iamVjdCA/ICd0cnVlJyA6ICdmYWxzZSc7IH0sXG4gICAgdXBwZXJjYXNlOiBmdW5jdGlvbiAob2JqZWN0KSB7IHJldHVybiBvYmplY3QgPyAnVFJVRScgOiAnRkFMU0UnOyB9LFxuICAgIGNhbWVsY2FzZTogZnVuY3Rpb24gKG9iamVjdCkgeyByZXR1cm4gb2JqZWN0ID8gJ1RydWUnIDogJ0ZhbHNlJzsgfVxuICB9LFxuICBkZWZhdWx0U3R5bGU6ICdsb3dlcmNhc2UnXG59KTtcblxuZnVuY3Rpb24gaXNIZXhDb2RlKGMpIHtcbiAgcmV0dXJuICgoMHgzMC8qIDAgKi8gPD0gYykgJiYgKGMgPD0gMHgzOS8qIDkgKi8pKSB8fFxuICAgICAgICAgKCgweDQxLyogQSAqLyA8PSBjKSAmJiAoYyA8PSAweDQ2LyogRiAqLykpIHx8XG4gICAgICAgICAoKDB4NjEvKiBhICovIDw9IGMpICYmIChjIDw9IDB4NjYvKiBmICovKSk7XG59XG5cbmZ1bmN0aW9uIGlzT2N0Q29kZShjKSB7XG4gIHJldHVybiAoKDB4MzAvKiAwICovIDw9IGMpICYmIChjIDw9IDB4MzcvKiA3ICovKSk7XG59XG5cbmZ1bmN0aW9uIGlzRGVjQ29kZShjKSB7XG4gIHJldHVybiAoKDB4MzAvKiAwICovIDw9IGMpICYmIChjIDw9IDB4MzkvKiA5ICovKSk7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVZYW1sSW50ZWdlcihkYXRhKSB7XG4gIGlmIChkYXRhID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIG1heCA9IGRhdGEubGVuZ3RoLFxuICAgICAgaW5kZXggPSAwLFxuICAgICAgaGFzRGlnaXRzID0gZmFsc2UsXG4gICAgICBjaDtcblxuICBpZiAoIW1heCkgcmV0dXJuIGZhbHNlO1xuXG4gIGNoID0gZGF0YVtpbmRleF07XG5cbiAgLy8gc2lnblxuICBpZiAoY2ggPT09ICctJyB8fCBjaCA9PT0gJysnKSB7XG4gICAgY2ggPSBkYXRhWysraW5kZXhdO1xuICB9XG5cbiAgaWYgKGNoID09PSAnMCcpIHtcbiAgICAvLyAwXG4gICAgaWYgKGluZGV4ICsgMSA9PT0gbWF4KSByZXR1cm4gdHJ1ZTtcbiAgICBjaCA9IGRhdGFbKytpbmRleF07XG5cbiAgICAvLyBiYXNlIDIsIGJhc2UgOCwgYmFzZSAxNlxuXG4gICAgaWYgKGNoID09PSAnYicpIHtcbiAgICAgIC8vIGJhc2UgMlxuICAgICAgaW5kZXgrKztcblxuICAgICAgZm9yICg7IGluZGV4IDwgbWF4OyBpbmRleCsrKSB7XG4gICAgICAgIGNoID0gZGF0YVtpbmRleF07XG4gICAgICAgIGlmIChjaCA9PT0gJ18nKSBjb250aW51ZTtcbiAgICAgICAgaWYgKGNoICE9PSAnMCcgJiYgY2ggIT09ICcxJykgcmV0dXJuIGZhbHNlO1xuICAgICAgICBoYXNEaWdpdHMgPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhhc0RpZ2l0cyAmJiBjaCAhPT0gJ18nO1xuICAgIH1cblxuXG4gICAgaWYgKGNoID09PSAneCcpIHtcbiAgICAgIC8vIGJhc2UgMTZcbiAgICAgIGluZGV4Kys7XG5cbiAgICAgIGZvciAoOyBpbmRleCA8IG1heDsgaW5kZXgrKykge1xuICAgICAgICBjaCA9IGRhdGFbaW5kZXhdO1xuICAgICAgICBpZiAoY2ggPT09ICdfJykgY29udGludWU7XG4gICAgICAgIGlmICghaXNIZXhDb2RlKGRhdGEuY2hhckNvZGVBdChpbmRleCkpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGhhc0RpZ2l0cyA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzRGlnaXRzICYmIGNoICE9PSAnXyc7XG4gICAgfVxuXG5cbiAgICBpZiAoY2ggPT09ICdvJykge1xuICAgICAgLy8gYmFzZSA4XG4gICAgICBpbmRleCsrO1xuXG4gICAgICBmb3IgKDsgaW5kZXggPCBtYXg7IGluZGV4KyspIHtcbiAgICAgICAgY2ggPSBkYXRhW2luZGV4XTtcbiAgICAgICAgaWYgKGNoID09PSAnXycpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIWlzT2N0Q29kZShkYXRhLmNoYXJDb2RlQXQoaW5kZXgpKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBoYXNEaWdpdHMgPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhhc0RpZ2l0cyAmJiBjaCAhPT0gJ18nO1xuICAgIH1cbiAgfVxuXG4gIC8vIGJhc2UgMTAgKGV4Y2VwdCAwKVxuXG4gIC8vIHZhbHVlIHNob3VsZCBub3Qgc3RhcnQgd2l0aCBgX2A7XG4gIGlmIChjaCA9PT0gJ18nKSByZXR1cm4gZmFsc2U7XG5cbiAgZm9yICg7IGluZGV4IDwgbWF4OyBpbmRleCsrKSB7XG4gICAgY2ggPSBkYXRhW2luZGV4XTtcbiAgICBpZiAoY2ggPT09ICdfJykgY29udGludWU7XG4gICAgaWYgKCFpc0RlY0NvZGUoZGF0YS5jaGFyQ29kZUF0KGluZGV4KSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaGFzRGlnaXRzID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIFNob3VsZCBoYXZlIGRpZ2l0cyBhbmQgc2hvdWxkIG5vdCBlbmQgd2l0aCBgX2BcbiAgaWYgKCFoYXNEaWdpdHMgfHwgY2ggPT09ICdfJykgcmV0dXJuIGZhbHNlO1xuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBjb25zdHJ1Y3RZYW1sSW50ZWdlcihkYXRhKSB7XG4gIHZhciB2YWx1ZSA9IGRhdGEsIHNpZ24gPSAxLCBjaDtcblxuICBpZiAodmFsdWUuaW5kZXhPZignXycpICE9PSAtMSkge1xuICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXy9nLCAnJyk7XG4gIH1cblxuICBjaCA9IHZhbHVlWzBdO1xuXG4gIGlmIChjaCA9PT0gJy0nIHx8IGNoID09PSAnKycpIHtcbiAgICBpZiAoY2ggPT09ICctJykgc2lnbiA9IC0xO1xuICAgIHZhbHVlID0gdmFsdWUuc2xpY2UoMSk7XG4gICAgY2ggPSB2YWx1ZVswXTtcbiAgfVxuXG4gIGlmICh2YWx1ZSA9PT0gJzAnKSByZXR1cm4gMDtcblxuICBpZiAoY2ggPT09ICcwJykge1xuICAgIGlmICh2YWx1ZVsxXSA9PT0gJ2InKSByZXR1cm4gc2lnbiAqIHBhcnNlSW50KHZhbHVlLnNsaWNlKDIpLCAyKTtcbiAgICBpZiAodmFsdWVbMV0gPT09ICd4JykgcmV0dXJuIHNpZ24gKiBwYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgMTYpO1xuICAgIGlmICh2YWx1ZVsxXSA9PT0gJ28nKSByZXR1cm4gc2lnbiAqIHBhcnNlSW50KHZhbHVlLnNsaWNlKDIpLCA4KTtcbiAgfVxuXG4gIHJldHVybiBzaWduICogcGFyc2VJbnQodmFsdWUsIDEwKTtcbn1cblxuZnVuY3Rpb24gaXNJbnRlZ2VyKG9iamVjdCkge1xuICByZXR1cm4gKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmplY3QpKSA9PT0gJ1tvYmplY3QgTnVtYmVyXScgJiZcbiAgICAgICAgIChvYmplY3QgJSAxID09PSAwICYmICFjb21tb24uaXNOZWdhdGl2ZVplcm8ob2JqZWN0KSk7XG59XG5cbnZhciBpbnQgPSBuZXcgdHlwZSgndGFnOnlhbWwub3JnLDIwMDI6aW50Jywge1xuICBraW5kOiAnc2NhbGFyJyxcbiAgcmVzb2x2ZTogcmVzb2x2ZVlhbWxJbnRlZ2VyLFxuICBjb25zdHJ1Y3Q6IGNvbnN0cnVjdFlhbWxJbnRlZ2VyLFxuICBwcmVkaWNhdGU6IGlzSW50ZWdlcixcbiAgcmVwcmVzZW50OiB7XG4gICAgYmluYXJ5OiAgICAgIGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiA+PSAwID8gJzBiJyArIG9iai50b1N0cmluZygyKSA6ICctMGInICsgb2JqLnRvU3RyaW5nKDIpLnNsaWNlKDEpOyB9LFxuICAgIG9jdGFsOiAgICAgICBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogPj0gMCA/ICcwbycgICsgb2JqLnRvU3RyaW5nKDgpIDogJy0wbycgICsgb2JqLnRvU3RyaW5nKDgpLnNsaWNlKDEpOyB9LFxuICAgIGRlY2ltYWw6ICAgICBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmoudG9TdHJpbmcoMTApOyB9LFxuICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICBoZXhhZGVjaW1hbDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqID49IDAgPyAnMHgnICsgb2JqLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpIDogICctMHgnICsgb2JqLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpLnNsaWNlKDEpOyB9XG4gIH0sXG4gIGRlZmF1bHRTdHlsZTogJ2RlY2ltYWwnLFxuICBzdHlsZUFsaWFzZXM6IHtcbiAgICBiaW5hcnk6ICAgICAgWyAyLCAgJ2JpbicgXSxcbiAgICBvY3RhbDogICAgICAgWyA4LCAgJ29jdCcgXSxcbiAgICBkZWNpbWFsOiAgICAgWyAxMCwgJ2RlYycgXSxcbiAgICBoZXhhZGVjaW1hbDogWyAxNiwgJ2hleCcgXVxuICB9XG59KTtcblxudmFyIFlBTUxfRkxPQVRfUEFUVEVSTiA9IG5ldyBSZWdFeHAoXG4gIC8vIDIuNWU0LCAyLjUgYW5kIGludGVnZXJzXG4gICdeKD86Wy0rXT8oPzpbMC05XVswLTlfXSopKD86XFxcXC5bMC05X10qKT8oPzpbZUVdWy0rXT9bMC05XSspPycgK1xuICAvLyAuMmU0LCAuMlxuICAvLyBzcGVjaWFsIGNhc2UsIHNlZW1zIG5vdCBmcm9tIHNwZWNcbiAgJ3xcXFxcLlswLTlfXSsoPzpbZUVdWy0rXT9bMC05XSspPycgK1xuICAvLyAuaW5mXG4gICd8Wy0rXT9cXFxcLig/OmluZnxJbmZ8SU5GKScgK1xuICAvLyAubmFuXG4gICd8XFxcXC4oPzpuYW58TmFOfE5BTikpJCcpO1xuXG5mdW5jdGlvbiByZXNvbHZlWWFtbEZsb2F0KGRhdGEpIHtcbiAgaWYgKGRhdGEgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblxuICBpZiAoIVlBTUxfRkxPQVRfUEFUVEVSTi50ZXN0KGRhdGEpIHx8XG4gICAgICAvLyBRdWljayBoYWNrIHRvIG5vdCBhbGxvdyBpbnRlZ2VycyBlbmQgd2l0aCBgX2BcbiAgICAgIC8vIFByb2JhYmx5IHNob3VsZCB1cGRhdGUgcmVnZXhwICYgY2hlY2sgc3BlZWRcbiAgICAgIGRhdGFbZGF0YS5sZW5ndGggLSAxXSA9PT0gJ18nKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGNvbnN0cnVjdFlhbWxGbG9hdChkYXRhKSB7XG4gIHZhciB2YWx1ZSwgc2lnbjtcblxuICB2YWx1ZSAgPSBkYXRhLnJlcGxhY2UoL18vZywgJycpLnRvTG93ZXJDYXNlKCk7XG4gIHNpZ24gICA9IHZhbHVlWzBdID09PSAnLScgPyAtMSA6IDE7XG5cbiAgaWYgKCcrLScuaW5kZXhPZih2YWx1ZVswXSkgPj0gMCkge1xuICAgIHZhbHVlID0gdmFsdWUuc2xpY2UoMSk7XG4gIH1cblxuICBpZiAodmFsdWUgPT09ICcuaW5mJykge1xuICAgIHJldHVybiAoc2lnbiA9PT0gMSkgPyBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkgOiBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7XG5cbiAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJy5uYW4nKSB7XG4gICAgcmV0dXJuIE5hTjtcbiAgfVxuICByZXR1cm4gc2lnbiAqIHBhcnNlRmxvYXQodmFsdWUsIDEwKTtcbn1cblxuXG52YXIgU0NJRU5USUZJQ19XSVRIT1VUX0RPVCA9IC9eWy0rXT9bMC05XStlLztcblxuZnVuY3Rpb24gcmVwcmVzZW50WWFtbEZsb2F0KG9iamVjdCwgc3R5bGUpIHtcbiAgdmFyIHJlcztcblxuICBpZiAoaXNOYU4ob2JqZWN0KSkge1xuICAgIHN3aXRjaCAoc3R5bGUpIHtcbiAgICAgIGNhc2UgJ2xvd2VyY2FzZSc6IHJldHVybiAnLm5hbic7XG4gICAgICBjYXNlICd1cHBlcmNhc2UnOiByZXR1cm4gJy5OQU4nO1xuICAgICAgY2FzZSAnY2FtZWxjYXNlJzogcmV0dXJuICcuTmFOJztcbiAgICB9XG4gIH0gZWxzZSBpZiAoTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZID09PSBvYmplY3QpIHtcbiAgICBzd2l0Y2ggKHN0eWxlKSB7XG4gICAgICBjYXNlICdsb3dlcmNhc2UnOiByZXR1cm4gJy5pbmYnO1xuICAgICAgY2FzZSAndXBwZXJjYXNlJzogcmV0dXJuICcuSU5GJztcbiAgICAgIGNhc2UgJ2NhbWVsY2FzZSc6IHJldHVybiAnLkluZic7XG4gICAgfVxuICB9IGVsc2UgaWYgKE51bWJlci5ORUdBVElWRV9JTkZJTklUWSA9PT0gb2JqZWN0KSB7XG4gICAgc3dpdGNoIChzdHlsZSkge1xuICAgICAgY2FzZSAnbG93ZXJjYXNlJzogcmV0dXJuICctLmluZic7XG4gICAgICBjYXNlICd1cHBlcmNhc2UnOiByZXR1cm4gJy0uSU5GJztcbiAgICAgIGNhc2UgJ2NhbWVsY2FzZSc6IHJldHVybiAnLS5JbmYnO1xuICAgIH1cbiAgfSBlbHNlIGlmIChjb21tb24uaXNOZWdhdGl2ZVplcm8ob2JqZWN0KSkge1xuICAgIHJldHVybiAnLTAuMCc7XG4gIH1cblxuICByZXMgPSBvYmplY3QudG9TdHJpbmcoMTApO1xuXG4gIC8vIEpTIHN0cmluZ2lmaWVyIGNhbiBidWlsZCBzY2llbnRpZmljIGZvcm1hdCB3aXRob3V0IGRvdHM6IDVlLTEwMCxcbiAgLy8gd2hpbGUgWUFNTCByZXF1cmVzIGRvdDogNS5lLTEwMC4gRml4IGl0IHdpdGggc2ltcGxlIGhhY2tcblxuICByZXR1cm4gU0NJRU5USUZJQ19XSVRIT1VUX0RPVC50ZXN0KHJlcykgPyByZXMucmVwbGFjZSgnZScsICcuZScpIDogcmVzO1xufVxuXG5mdW5jdGlvbiBpc0Zsb2F0KG9iamVjdCkge1xuICByZXR1cm4gKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmplY3QpID09PSAnW29iamVjdCBOdW1iZXJdJykgJiZcbiAgICAgICAgIChvYmplY3QgJSAxICE9PSAwIHx8IGNvbW1vbi5pc05lZ2F0aXZlWmVybyhvYmplY3QpKTtcbn1cblxudmFyIGZsb2F0ID0gbmV3IHR5cGUoJ3RhZzp5YW1sLm9yZywyMDAyOmZsb2F0Jywge1xuICBraW5kOiAnc2NhbGFyJyxcbiAgcmVzb2x2ZTogcmVzb2x2ZVlhbWxGbG9hdCxcbiAgY29uc3RydWN0OiBjb25zdHJ1Y3RZYW1sRmxvYXQsXG4gIHByZWRpY2F0ZTogaXNGbG9hdCxcbiAgcmVwcmVzZW50OiByZXByZXNlbnRZYW1sRmxvYXQsXG4gIGRlZmF1bHRTdHlsZTogJ2xvd2VyY2FzZSdcbn0pO1xuXG52YXIganNvbiA9IGZhaWxzYWZlLmV4dGVuZCh7XG4gIGltcGxpY2l0OiBbXG4gICAgX251bGwsXG4gICAgYm9vbCxcbiAgICBpbnQsXG4gICAgZmxvYXRcbiAgXVxufSk7XG5cbnZhciBjb3JlID0ganNvbjtcblxudmFyIFlBTUxfREFURV9SRUdFWFAgPSBuZXcgUmVnRXhwKFxuICAnXihbMC05XVswLTldWzAtOV1bMC05XSknICAgICAgICAgICsgLy8gWzFdIHllYXJcbiAgJy0oWzAtOV1bMC05XSknICAgICAgICAgICAgICAgICAgICArIC8vIFsyXSBtb250aFxuICAnLShbMC05XVswLTldKSQnKTsgICAgICAgICAgICAgICAgICAgLy8gWzNdIGRheVxuXG52YXIgWUFNTF9USU1FU1RBTVBfUkVHRVhQID0gbmV3IFJlZ0V4cChcbiAgJ14oWzAtOV1bMC05XVswLTldWzAtOV0pJyAgICAgICAgICArIC8vIFsxXSB5ZWFyXG4gICctKFswLTldWzAtOV0/KScgICAgICAgICAgICAgICAgICAgKyAvLyBbMl0gbW9udGhcbiAgJy0oWzAtOV1bMC05XT8pJyAgICAgICAgICAgICAgICAgICArIC8vIFszXSBkYXlcbiAgJyg/OltUdF18WyBcXFxcdF0rKScgICAgICAgICAgICAgICAgICsgLy8gLi4uXG4gICcoWzAtOV1bMC05XT8pJyAgICAgICAgICAgICAgICAgICAgKyAvLyBbNF0gaG91clxuICAnOihbMC05XVswLTldKScgICAgICAgICAgICAgICAgICAgICsgLy8gWzVdIG1pbnV0ZVxuICAnOihbMC05XVswLTldKScgICAgICAgICAgICAgICAgICAgICsgLy8gWzZdIHNlY29uZFxuICAnKD86XFxcXC4oWzAtOV0qKSk/JyAgICAgICAgICAgICAgICAgKyAvLyBbN10gZnJhY3Rpb25cbiAgJyg/OlsgXFxcXHRdKihafChbLStdKShbMC05XVswLTldPyknICsgLy8gWzhdIHR6IFs5XSB0el9zaWduIFsxMF0gdHpfaG91clxuICAnKD86OihbMC05XVswLTldKSk/KSk/JCcpOyAgICAgICAgICAgLy8gWzExXSB0el9taW51dGVcblxuZnVuY3Rpb24gcmVzb2x2ZVlhbWxUaW1lc3RhbXAoZGF0YSkge1xuICBpZiAoZGF0YSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICBpZiAoWUFNTF9EQVRFX1JFR0VYUC5leGVjKGRhdGEpICE9PSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKFlBTUxfVElNRVNUQU1QX1JFR0VYUC5leGVjKGRhdGEpICE9PSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBjb25zdHJ1Y3RZYW1sVGltZXN0YW1wKGRhdGEpIHtcbiAgdmFyIG1hdGNoLCB5ZWFyLCBtb250aCwgZGF5LCBob3VyLCBtaW51dGUsIHNlY29uZCwgZnJhY3Rpb24gPSAwLFxuICAgICAgZGVsdGEgPSBudWxsLCB0el9ob3VyLCB0el9taW51dGUsIGRhdGU7XG5cbiAgbWF0Y2ggPSBZQU1MX0RBVEVfUkVHRVhQLmV4ZWMoZGF0YSk7XG4gIGlmIChtYXRjaCA9PT0gbnVsbCkgbWF0Y2ggPSBZQU1MX1RJTUVTVEFNUF9SRUdFWFAuZXhlYyhkYXRhKTtcblxuICBpZiAobWF0Y2ggPT09IG51bGwpIHRocm93IG5ldyBFcnJvcignRGF0ZSByZXNvbHZlIGVycm9yJyk7XG5cbiAgLy8gbWF0Y2g6IFsxXSB5ZWFyIFsyXSBtb250aCBbM10gZGF5XG5cbiAgeWVhciA9ICsobWF0Y2hbMV0pO1xuICBtb250aCA9ICsobWF0Y2hbMl0pIC0gMTsgLy8gSlMgbW9udGggc3RhcnRzIHdpdGggMFxuICBkYXkgPSArKG1hdGNoWzNdKTtcblxuICBpZiAoIW1hdGNoWzRdKSB7IC8vIG5vIGhvdXJcbiAgICByZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoeWVhciwgbW9udGgsIGRheSkpO1xuICB9XG5cbiAgLy8gbWF0Y2g6IFs0XSBob3VyIFs1XSBtaW51dGUgWzZdIHNlY29uZCBbN10gZnJhY3Rpb25cblxuICBob3VyID0gKyhtYXRjaFs0XSk7XG4gIG1pbnV0ZSA9ICsobWF0Y2hbNV0pO1xuICBzZWNvbmQgPSArKG1hdGNoWzZdKTtcblxuICBpZiAobWF0Y2hbN10pIHtcbiAgICBmcmFjdGlvbiA9IG1hdGNoWzddLnNsaWNlKDAsIDMpO1xuICAgIHdoaWxlIChmcmFjdGlvbi5sZW5ndGggPCAzKSB7IC8vIG1pbGxpLXNlY29uZHNcbiAgICAgIGZyYWN0aW9uICs9ICcwJztcbiAgICB9XG4gICAgZnJhY3Rpb24gPSArZnJhY3Rpb247XG4gIH1cblxuICAvLyBtYXRjaDogWzhdIHR6IFs5XSB0el9zaWduIFsxMF0gdHpfaG91ciBbMTFdIHR6X21pbnV0ZVxuXG4gIGlmIChtYXRjaFs5XSkge1xuICAgIHR6X2hvdXIgPSArKG1hdGNoWzEwXSk7XG4gICAgdHpfbWludXRlID0gKyhtYXRjaFsxMV0gfHwgMCk7XG4gICAgZGVsdGEgPSAodHpfaG91ciAqIDYwICsgdHpfbWludXRlKSAqIDYwMDAwOyAvLyBkZWx0YSBpbiBtaWxpLXNlY29uZHNcbiAgICBpZiAobWF0Y2hbOV0gPT09ICctJykgZGVsdGEgPSAtZGVsdGE7XG4gIH1cblxuICBkYXRlID0gbmV3IERhdGUoRGF0ZS5VVEMoeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlLCBzZWNvbmQsIGZyYWN0aW9uKSk7XG5cbiAgaWYgKGRlbHRhKSBkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgLSBkZWx0YSk7XG5cbiAgcmV0dXJuIGRhdGU7XG59XG5cbmZ1bmN0aW9uIHJlcHJlc2VudFlhbWxUaW1lc3RhbXAob2JqZWN0IC8qLCBzdHlsZSovKSB7XG4gIHJldHVybiBvYmplY3QudG9JU09TdHJpbmcoKTtcbn1cblxudmFyIHRpbWVzdGFtcCA9IG5ldyB0eXBlKCd0YWc6eWFtbC5vcmcsMjAwMjp0aW1lc3RhbXAnLCB7XG4gIGtpbmQ6ICdzY2FsYXInLFxuICByZXNvbHZlOiByZXNvbHZlWWFtbFRpbWVzdGFtcCxcbiAgY29uc3RydWN0OiBjb25zdHJ1Y3RZYW1sVGltZXN0YW1wLFxuICBpbnN0YW5jZU9mOiBEYXRlLFxuICByZXByZXNlbnQ6IHJlcHJlc2VudFlhbWxUaW1lc3RhbXBcbn0pO1xuXG5mdW5jdGlvbiByZXNvbHZlWWFtbE1lcmdlKGRhdGEpIHtcbiAgcmV0dXJuIGRhdGEgPT09ICc8PCcgfHwgZGF0YSA9PT0gbnVsbDtcbn1cblxudmFyIG1lcmdlID0gbmV3IHR5cGUoJ3RhZzp5YW1sLm9yZywyMDAyOm1lcmdlJywge1xuICBraW5kOiAnc2NhbGFyJyxcbiAgcmVzb2x2ZTogcmVzb2x2ZVlhbWxNZXJnZVxufSk7XG5cbi8qZXNsaW50LWRpc2FibGUgbm8tYml0d2lzZSovXG5cblxuXG5cblxuLy8gWyA2NCwgNjUsIDY2IF0gLT4gWyBwYWRkaW5nLCBDUiwgTEYgXVxudmFyIEJBU0U2NF9NQVAgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cXG5cXHInO1xuXG5cbmZ1bmN0aW9uIHJlc29sdmVZYW1sQmluYXJ5KGRhdGEpIHtcbiAgaWYgKGRhdGEgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblxuICB2YXIgY29kZSwgaWR4LCBiaXRsZW4gPSAwLCBtYXggPSBkYXRhLmxlbmd0aCwgbWFwID0gQkFTRTY0X01BUDtcblxuICAvLyBDb252ZXJ0IG9uZSBieSBvbmUuXG4gIGZvciAoaWR4ID0gMDsgaWR4IDwgbWF4OyBpZHgrKykge1xuICAgIGNvZGUgPSBtYXAuaW5kZXhPZihkYXRhLmNoYXJBdChpZHgpKTtcblxuICAgIC8vIFNraXAgQ1IvTEZcbiAgICBpZiAoY29kZSA+IDY0KSBjb250aW51ZTtcblxuICAgIC8vIEZhaWwgb24gaWxsZWdhbCBjaGFyYWN0ZXJzXG4gICAgaWYgKGNvZGUgPCAwKSByZXR1cm4gZmFsc2U7XG5cbiAgICBiaXRsZW4gKz0gNjtcbiAgfVxuXG4gIC8vIElmIHRoZXJlIGFyZSBhbnkgYml0cyBsZWZ0LCBzb3VyY2Ugd2FzIGNvcnJ1cHRlZFxuICByZXR1cm4gKGJpdGxlbiAlIDgpID09PSAwO1xufVxuXG5mdW5jdGlvbiBjb25zdHJ1Y3RZYW1sQmluYXJ5KGRhdGEpIHtcbiAgdmFyIGlkeCwgdGFpbGJpdHMsXG4gICAgICBpbnB1dCA9IGRhdGEucmVwbGFjZSgvW1xcclxcbj1dL2csICcnKSwgLy8gcmVtb3ZlIENSL0xGICYgcGFkZGluZyB0byBzaW1wbGlmeSBzY2FuXG4gICAgICBtYXggPSBpbnB1dC5sZW5ndGgsXG4gICAgICBtYXAgPSBCQVNFNjRfTUFQLFxuICAgICAgYml0cyA9IDAsXG4gICAgICByZXN1bHQgPSBbXTtcblxuICAvLyBDb2xsZWN0IGJ5IDYqNCBiaXRzICgzIGJ5dGVzKVxuXG4gIGZvciAoaWR4ID0gMDsgaWR4IDwgbWF4OyBpZHgrKykge1xuICAgIGlmICgoaWR4ICUgNCA9PT0gMCkgJiYgaWR4KSB7XG4gICAgICByZXN1bHQucHVzaCgoYml0cyA+PiAxNikgJiAweEZGKTtcbiAgICAgIHJlc3VsdC5wdXNoKChiaXRzID4+IDgpICYgMHhGRik7XG4gICAgICByZXN1bHQucHVzaChiaXRzICYgMHhGRik7XG4gICAgfVxuXG4gICAgYml0cyA9IChiaXRzIDw8IDYpIHwgbWFwLmluZGV4T2YoaW5wdXQuY2hhckF0KGlkeCkpO1xuICB9XG5cbiAgLy8gRHVtcCB0YWlsXG5cbiAgdGFpbGJpdHMgPSAobWF4ICUgNCkgKiA2O1xuXG4gIGlmICh0YWlsYml0cyA9PT0gMCkge1xuICAgIHJlc3VsdC5wdXNoKChiaXRzID4+IDE2KSAmIDB4RkYpO1xuICAgIHJlc3VsdC5wdXNoKChiaXRzID4+IDgpICYgMHhGRik7XG4gICAgcmVzdWx0LnB1c2goYml0cyAmIDB4RkYpO1xuICB9IGVsc2UgaWYgKHRhaWxiaXRzID09PSAxOCkge1xuICAgIHJlc3VsdC5wdXNoKChiaXRzID4+IDEwKSAmIDB4RkYpO1xuICAgIHJlc3VsdC5wdXNoKChiaXRzID4+IDIpICYgMHhGRik7XG4gIH0gZWxzZSBpZiAodGFpbGJpdHMgPT09IDEyKSB7XG4gICAgcmVzdWx0LnB1c2goKGJpdHMgPj4gNCkgJiAweEZGKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgVWludDhBcnJheShyZXN1bHQpO1xufVxuXG5mdW5jdGlvbiByZXByZXNlbnRZYW1sQmluYXJ5KG9iamVjdCAvKiwgc3R5bGUqLykge1xuICB2YXIgcmVzdWx0ID0gJycsIGJpdHMgPSAwLCBpZHgsIHRhaWwsXG4gICAgICBtYXggPSBvYmplY3QubGVuZ3RoLFxuICAgICAgbWFwID0gQkFTRTY0X01BUDtcblxuICAvLyBDb252ZXJ0IGV2ZXJ5IHRocmVlIGJ5dGVzIHRvIDQgQVNDSUkgY2hhcmFjdGVycy5cblxuICBmb3IgKGlkeCA9IDA7IGlkeCA8IG1heDsgaWR4KyspIHtcbiAgICBpZiAoKGlkeCAlIDMgPT09IDApICYmIGlkeCkge1xuICAgICAgcmVzdWx0ICs9IG1hcFsoYml0cyA+PiAxOCkgJiAweDNGXTtcbiAgICAgIHJlc3VsdCArPSBtYXBbKGJpdHMgPj4gMTIpICYgMHgzRl07XG4gICAgICByZXN1bHQgKz0gbWFwWyhiaXRzID4+IDYpICYgMHgzRl07XG4gICAgICByZXN1bHQgKz0gbWFwW2JpdHMgJiAweDNGXTtcbiAgICB9XG5cbiAgICBiaXRzID0gKGJpdHMgPDwgOCkgKyBvYmplY3RbaWR4XTtcbiAgfVxuXG4gIC8vIER1bXAgdGFpbFxuXG4gIHRhaWwgPSBtYXggJSAzO1xuXG4gIGlmICh0YWlsID09PSAwKSB7XG4gICAgcmVzdWx0ICs9IG1hcFsoYml0cyA+PiAxOCkgJiAweDNGXTtcbiAgICByZXN1bHQgKz0gbWFwWyhiaXRzID4+IDEyKSAmIDB4M0ZdO1xuICAgIHJlc3VsdCArPSBtYXBbKGJpdHMgPj4gNikgJiAweDNGXTtcbiAgICByZXN1bHQgKz0gbWFwW2JpdHMgJiAweDNGXTtcbiAgfSBlbHNlIGlmICh0YWlsID09PSAyKSB7XG4gICAgcmVzdWx0ICs9IG1hcFsoYml0cyA+PiAxMCkgJiAweDNGXTtcbiAgICByZXN1bHQgKz0gbWFwWyhiaXRzID4+IDQpICYgMHgzRl07XG4gICAgcmVzdWx0ICs9IG1hcFsoYml0cyA8PCAyKSAmIDB4M0ZdO1xuICAgIHJlc3VsdCArPSBtYXBbNjRdO1xuICB9IGVsc2UgaWYgKHRhaWwgPT09IDEpIHtcbiAgICByZXN1bHQgKz0gbWFwWyhiaXRzID4+IDIpICYgMHgzRl07XG4gICAgcmVzdWx0ICs9IG1hcFsoYml0cyA8PCA0KSAmIDB4M0ZdO1xuICAgIHJlc3VsdCArPSBtYXBbNjRdO1xuICAgIHJlc3VsdCArPSBtYXBbNjRdO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gaXNCaW5hcnkob2JqKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gICdbb2JqZWN0IFVpbnQ4QXJyYXldJztcbn1cblxudmFyIGJpbmFyeSA9IG5ldyB0eXBlKCd0YWc6eWFtbC5vcmcsMjAwMjpiaW5hcnknLCB7XG4gIGtpbmQ6ICdzY2FsYXInLFxuICByZXNvbHZlOiByZXNvbHZlWWFtbEJpbmFyeSxcbiAgY29uc3RydWN0OiBjb25zdHJ1Y3RZYW1sQmluYXJ5LFxuICBwcmVkaWNhdGU6IGlzQmluYXJ5LFxuICByZXByZXNlbnQ6IHJlcHJlc2VudFlhbWxCaW5hcnlcbn0pO1xuXG52YXIgX2hhc093blByb3BlcnR5JDMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF90b1N0cmluZyQyICAgICAgID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuZnVuY3Rpb24gcmVzb2x2ZVlhbWxPbWFwKGRhdGEpIHtcbiAgaWYgKGRhdGEgPT09IG51bGwpIHJldHVybiB0cnVlO1xuXG4gIHZhciBvYmplY3RLZXlzID0gW10sIGluZGV4LCBsZW5ndGgsIHBhaXIsIHBhaXJLZXksIHBhaXJIYXNLZXksXG4gICAgICBvYmplY3QgPSBkYXRhO1xuXG4gIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBvYmplY3QubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgIHBhaXIgPSBvYmplY3RbaW5kZXhdO1xuICAgIHBhaXJIYXNLZXkgPSBmYWxzZTtcblxuICAgIGlmIChfdG9TdHJpbmckMi5jYWxsKHBhaXIpICE9PSAnW29iamVjdCBPYmplY3RdJykgcmV0dXJuIGZhbHNlO1xuXG4gICAgZm9yIChwYWlyS2V5IGluIHBhaXIpIHtcbiAgICAgIGlmIChfaGFzT3duUHJvcGVydHkkMy5jYWxsKHBhaXIsIHBhaXJLZXkpKSB7XG4gICAgICAgIGlmICghcGFpckhhc0tleSkgcGFpckhhc0tleSA9IHRydWU7XG4gICAgICAgIGVsc2UgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghcGFpckhhc0tleSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgaWYgKG9iamVjdEtleXMuaW5kZXhPZihwYWlyS2V5KSA9PT0gLTEpIG9iamVjdEtleXMucHVzaChwYWlyS2V5KTtcbiAgICBlbHNlIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBjb25zdHJ1Y3RZYW1sT21hcChkYXRhKSB7XG4gIHJldHVybiBkYXRhICE9PSBudWxsID8gZGF0YSA6IFtdO1xufVxuXG52YXIgb21hcCA9IG5ldyB0eXBlKCd0YWc6eWFtbC5vcmcsMjAwMjpvbWFwJywge1xuICBraW5kOiAnc2VxdWVuY2UnLFxuICByZXNvbHZlOiByZXNvbHZlWWFtbE9tYXAsXG4gIGNvbnN0cnVjdDogY29uc3RydWN0WWFtbE9tYXBcbn0pO1xuXG52YXIgX3RvU3RyaW5nJDEgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG5mdW5jdGlvbiByZXNvbHZlWWFtbFBhaXJzKGRhdGEpIHtcbiAgaWYgKGRhdGEgPT09IG51bGwpIHJldHVybiB0cnVlO1xuXG4gIHZhciBpbmRleCwgbGVuZ3RoLCBwYWlyLCBrZXlzLCByZXN1bHQsXG4gICAgICBvYmplY3QgPSBkYXRhO1xuXG4gIHJlc3VsdCA9IG5ldyBBcnJheShvYmplY3QubGVuZ3RoKTtcblxuICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gb2JqZWN0Lmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICBwYWlyID0gb2JqZWN0W2luZGV4XTtcblxuICAgIGlmIChfdG9TdHJpbmckMS5jYWxsKHBhaXIpICE9PSAnW29iamVjdCBPYmplY3RdJykgcmV0dXJuIGZhbHNlO1xuXG4gICAga2V5cyA9IE9iamVjdC5rZXlzKHBhaXIpO1xuXG4gICAgaWYgKGtleXMubGVuZ3RoICE9PSAxKSByZXR1cm4gZmFsc2U7XG5cbiAgICByZXN1bHRbaW5kZXhdID0gWyBrZXlzWzBdLCBwYWlyW2tleXNbMF1dIF07XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gY29uc3RydWN0WWFtbFBhaXJzKGRhdGEpIHtcbiAgaWYgKGRhdGEgPT09IG51bGwpIHJldHVybiBbXTtcblxuICB2YXIgaW5kZXgsIGxlbmd0aCwgcGFpciwga2V5cywgcmVzdWx0LFxuICAgICAgb2JqZWN0ID0gZGF0YTtcblxuICByZXN1bHQgPSBuZXcgQXJyYXkob2JqZWN0Lmxlbmd0aCk7XG5cbiAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IG9iamVjdC5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgcGFpciA9IG9iamVjdFtpbmRleF07XG5cbiAgICBrZXlzID0gT2JqZWN0LmtleXMocGFpcik7XG5cbiAgICByZXN1bHRbaW5kZXhdID0gWyBrZXlzWzBdLCBwYWlyW2tleXNbMF1dIF07XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG52YXIgcGFpcnMgPSBuZXcgdHlwZSgndGFnOnlhbWwub3JnLDIwMDI6cGFpcnMnLCB7XG4gIGtpbmQ6ICdzZXF1ZW5jZScsXG4gIHJlc29sdmU6IHJlc29sdmVZYW1sUGFpcnMsXG4gIGNvbnN0cnVjdDogY29uc3RydWN0WWFtbFBhaXJzXG59KTtcblxudmFyIF9oYXNPd25Qcm9wZXJ0eSQyID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuZnVuY3Rpb24gcmVzb2x2ZVlhbWxTZXQoZGF0YSkge1xuICBpZiAoZGF0YSA9PT0gbnVsbCkgcmV0dXJuIHRydWU7XG5cbiAgdmFyIGtleSwgb2JqZWN0ID0gZGF0YTtcblxuICBmb3IgKGtleSBpbiBvYmplY3QpIHtcbiAgICBpZiAoX2hhc093blByb3BlcnR5JDIuY2FsbChvYmplY3QsIGtleSkpIHtcbiAgICAgIGlmIChvYmplY3Rba2V5XSAhPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBjb25zdHJ1Y3RZYW1sU2V0KGRhdGEpIHtcbiAgcmV0dXJuIGRhdGEgIT09IG51bGwgPyBkYXRhIDoge307XG59XG5cbnZhciBzZXQgPSBuZXcgdHlwZSgndGFnOnlhbWwub3JnLDIwMDI6c2V0Jywge1xuICBraW5kOiAnbWFwcGluZycsXG4gIHJlc29sdmU6IHJlc29sdmVZYW1sU2V0LFxuICBjb25zdHJ1Y3Q6IGNvbnN0cnVjdFlhbWxTZXRcbn0pO1xuXG52YXIgX2RlZmF1bHQgPSBjb3JlLmV4dGVuZCh7XG4gIGltcGxpY2l0OiBbXG4gICAgdGltZXN0YW1wLFxuICAgIG1lcmdlXG4gIF0sXG4gIGV4cGxpY2l0OiBbXG4gICAgYmluYXJ5LFxuICAgIG9tYXAsXG4gICAgcGFpcnMsXG4gICAgc2V0XG4gIF1cbn0pO1xuXG4vKmVzbGludC1kaXNhYmxlIG1heC1sZW4sbm8tdXNlLWJlZm9yZS1kZWZpbmUqL1xuXG5cblxuXG5cblxuXG52YXIgX2hhc093blByb3BlcnR5JDEgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG5cbnZhciBDT05URVhUX0ZMT1dfSU4gICA9IDE7XG52YXIgQ09OVEVYVF9GTE9XX09VVCAgPSAyO1xudmFyIENPTlRFWFRfQkxPQ0tfSU4gID0gMztcbnZhciBDT05URVhUX0JMT0NLX09VVCA9IDQ7XG5cblxudmFyIENIT01QSU5HX0NMSVAgID0gMTtcbnZhciBDSE9NUElOR19TVFJJUCA9IDI7XG52YXIgQ0hPTVBJTkdfS0VFUCAgPSAzO1xuXG5cbnZhciBQQVRURVJOX05PTl9QUklOVEFCTEUgICAgICAgICA9IC9bXFx4MDAtXFx4MDhcXHgwQlxceDBDXFx4MEUtXFx4MUZcXHg3Ri1cXHg4NFxceDg2LVxceDlGXFx1RkZGRVxcdUZGRkZdfFtcXHVEODAwLVxcdURCRkZdKD8hW1xcdURDMDAtXFx1REZGRl0pfCg/OlteXFx1RDgwMC1cXHVEQkZGXXxeKVtcXHVEQzAwLVxcdURGRkZdLztcbnZhciBQQVRURVJOX05PTl9BU0NJSV9MSU5FX0JSRUFLUyA9IC9bXFx4ODVcXHUyMDI4XFx1MjAyOV0vO1xudmFyIFBBVFRFUk5fRkxPV19JTkRJQ0FUT1JTICAgICAgID0gL1ssXFxbXFxdXFx7XFx9XS87XG52YXIgUEFUVEVSTl9UQUdfSEFORExFICAgICAgICAgICAgPSAvXig/OiF8ISF8IVthLXpcXC1dKyEpJC9pO1xudmFyIFBBVFRFUk5fVEFHX1VSSSAgICAgICAgICAgICAgID0gL14oPzohfFteLFxcW1xcXVxce1xcfV0pKD86JVswLTlhLWZdezJ9fFswLTlhLXpcXC0jO1xcL1xcPzpAJj1cXCtcXCQsX1xcLiF+XFwqJ1xcKFxcKVxcW1xcXV0pKiQvaTtcblxuXG5mdW5jdGlvbiBfY2xhc3Mob2JqKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKTsgfVxuXG5mdW5jdGlvbiBpc19FT0woYykge1xuICByZXR1cm4gKGMgPT09IDB4MEEvKiBMRiAqLykgfHwgKGMgPT09IDB4MEQvKiBDUiAqLyk7XG59XG5cbmZ1bmN0aW9uIGlzX1dISVRFX1NQQUNFKGMpIHtcbiAgcmV0dXJuIChjID09PSAweDA5LyogVGFiICovKSB8fCAoYyA9PT0gMHgyMC8qIFNwYWNlICovKTtcbn1cblxuZnVuY3Rpb24gaXNfV1NfT1JfRU9MKGMpIHtcbiAgcmV0dXJuIChjID09PSAweDA5LyogVGFiICovKSB8fFxuICAgICAgICAgKGMgPT09IDB4MjAvKiBTcGFjZSAqLykgfHxcbiAgICAgICAgIChjID09PSAweDBBLyogTEYgKi8pIHx8XG4gICAgICAgICAoYyA9PT0gMHgwRC8qIENSICovKTtcbn1cblxuZnVuY3Rpb24gaXNfRkxPV19JTkRJQ0FUT1IoYykge1xuICByZXR1cm4gYyA9PT0gMHgyQy8qICwgKi8gfHxcbiAgICAgICAgIGMgPT09IDB4NUIvKiBbICovIHx8XG4gICAgICAgICBjID09PSAweDVELyogXSAqLyB8fFxuICAgICAgICAgYyA9PT0gMHg3Qi8qIHsgKi8gfHxcbiAgICAgICAgIGMgPT09IDB4N0QvKiB9ICovO1xufVxuXG5mdW5jdGlvbiBmcm9tSGV4Q29kZShjKSB7XG4gIHZhciBsYztcblxuICBpZiAoKDB4MzAvKiAwICovIDw9IGMpICYmIChjIDw9IDB4MzkvKiA5ICovKSkge1xuICAgIHJldHVybiBjIC0gMHgzMDtcbiAgfVxuXG4gIC8qZXNsaW50LWRpc2FibGUgbm8tYml0d2lzZSovXG4gIGxjID0gYyB8IDB4MjA7XG5cbiAgaWYgKCgweDYxLyogYSAqLyA8PSBsYykgJiYgKGxjIDw9IDB4NjYvKiBmICovKSkge1xuICAgIHJldHVybiBsYyAtIDB4NjEgKyAxMDtcbiAgfVxuXG4gIHJldHVybiAtMTtcbn1cblxuZnVuY3Rpb24gZXNjYXBlZEhleExlbihjKSB7XG4gIGlmIChjID09PSAweDc4LyogeCAqLykgeyByZXR1cm4gMjsgfVxuICBpZiAoYyA9PT0gMHg3NS8qIHUgKi8pIHsgcmV0dXJuIDQ7IH1cbiAgaWYgKGMgPT09IDB4NTUvKiBVICovKSB7IHJldHVybiA4OyB9XG4gIHJldHVybiAwO1xufVxuXG5mdW5jdGlvbiBmcm9tRGVjaW1hbENvZGUoYykge1xuICBpZiAoKDB4MzAvKiAwICovIDw9IGMpICYmIChjIDw9IDB4MzkvKiA5ICovKSkge1xuICAgIHJldHVybiBjIC0gMHgzMDtcbiAgfVxuXG4gIHJldHVybiAtMTtcbn1cblxuZnVuY3Rpb24gc2ltcGxlRXNjYXBlU2VxdWVuY2UoYykge1xuICAvKiBlc2xpbnQtZGlzYWJsZSBpbmRlbnQgKi9cbiAgcmV0dXJuIChjID09PSAweDMwLyogMCAqLykgPyAnXFx4MDAnIDpcbiAgICAgICAgKGMgPT09IDB4NjEvKiBhICovKSA/ICdcXHgwNycgOlxuICAgICAgICAoYyA9PT0gMHg2Mi8qIGIgKi8pID8gJ1xceDA4JyA6XG4gICAgICAgIChjID09PSAweDc0LyogdCAqLykgPyAnXFx4MDknIDpcbiAgICAgICAgKGMgPT09IDB4MDkvKiBUYWIgKi8pID8gJ1xceDA5JyA6XG4gICAgICAgIChjID09PSAweDZFLyogbiAqLykgPyAnXFx4MEEnIDpcbiAgICAgICAgKGMgPT09IDB4NzYvKiB2ICovKSA/ICdcXHgwQicgOlxuICAgICAgICAoYyA9PT0gMHg2Ni8qIGYgKi8pID8gJ1xceDBDJyA6XG4gICAgICAgIChjID09PSAweDcyLyogciAqLykgPyAnXFx4MEQnIDpcbiAgICAgICAgKGMgPT09IDB4NjUvKiBlICovKSA/ICdcXHgxQicgOlxuICAgICAgICAoYyA9PT0gMHgyMC8qIFNwYWNlICovKSA/ICcgJyA6XG4gICAgICAgIChjID09PSAweDIyLyogXCIgKi8pID8gJ1xceDIyJyA6XG4gICAgICAgIChjID09PSAweDJGLyogLyAqLykgPyAnLycgOlxuICAgICAgICAoYyA9PT0gMHg1Qy8qIFxcICovKSA/ICdcXHg1QycgOlxuICAgICAgICAoYyA9PT0gMHg0RS8qIE4gKi8pID8gJ1xceDg1JyA6XG4gICAgICAgIChjID09PSAweDVGLyogXyAqLykgPyAnXFx4QTAnIDpcbiAgICAgICAgKGMgPT09IDB4NEMvKiBMICovKSA/ICdcXHUyMDI4JyA6XG4gICAgICAgIChjID09PSAweDUwLyogUCAqLykgPyAnXFx1MjAyOScgOiAnJztcbn1cblxuZnVuY3Rpb24gY2hhckZyb21Db2RlcG9pbnQoYykge1xuICBpZiAoYyA8PSAweEZGRkYpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjKTtcbiAgfVxuICAvLyBFbmNvZGUgVVRGLTE2IHN1cnJvZ2F0ZSBwYWlyXG4gIC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1VURi0xNiNDb2RlX3BvaW50c19VLjJCMDEwMDAwX3RvX1UuMkIxMEZGRkZcbiAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoXG4gICAgKChjIC0gMHgwMTAwMDApID4+IDEwKSArIDB4RDgwMCxcbiAgICAoKGMgLSAweDAxMDAwMCkgJiAweDAzRkYpICsgMHhEQzAwXG4gICk7XG59XG5cbnZhciBzaW1wbGVFc2NhcGVDaGVjayA9IG5ldyBBcnJheSgyNTYpOyAvLyBpbnRlZ2VyLCBmb3IgZmFzdCBhY2Nlc3NcbnZhciBzaW1wbGVFc2NhcGVNYXAgPSBuZXcgQXJyYXkoMjU2KTtcbmZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyBpKyspIHtcbiAgc2ltcGxlRXNjYXBlQ2hlY2tbaV0gPSBzaW1wbGVFc2NhcGVTZXF1ZW5jZShpKSA/IDEgOiAwO1xuICBzaW1wbGVFc2NhcGVNYXBbaV0gPSBzaW1wbGVFc2NhcGVTZXF1ZW5jZShpKTtcbn1cblxuXG5mdW5jdGlvbiBTdGF0ZSQxKGlucHV0LCBvcHRpb25zKSB7XG4gIHRoaXMuaW5wdXQgPSBpbnB1dDtcblxuICB0aGlzLmZpbGVuYW1lICA9IG9wdGlvbnNbJ2ZpbGVuYW1lJ10gIHx8IG51bGw7XG4gIHRoaXMuc2NoZW1hICAgID0gb3B0aW9uc1snc2NoZW1hJ10gICAgfHwgX2RlZmF1bHQ7XG4gIHRoaXMub25XYXJuaW5nID0gb3B0aW9uc1snb25XYXJuaW5nJ10gfHwgbnVsbDtcbiAgLy8gKEhpZGRlbikgUmVtb3ZlPyBtYWtlcyB0aGUgbG9hZGVyIHRvIGV4cGVjdCBZQU1MIDEuMSBkb2N1bWVudHNcbiAgLy8gaWYgc3VjaCBkb2N1bWVudHMgaGF2ZSBubyBleHBsaWNpdCAlWUFNTCBkaXJlY3RpdmVcbiAgdGhpcy5sZWdhY3kgICAgPSBvcHRpb25zWydsZWdhY3knXSAgICB8fCBmYWxzZTtcblxuICB0aGlzLmpzb24gICAgICA9IG9wdGlvbnNbJ2pzb24nXSAgICAgIHx8IGZhbHNlO1xuICB0aGlzLmxpc3RlbmVyICA9IG9wdGlvbnNbJ2xpc3RlbmVyJ10gIHx8IG51bGw7XG5cbiAgdGhpcy5pbXBsaWNpdFR5cGVzID0gdGhpcy5zY2hlbWEuY29tcGlsZWRJbXBsaWNpdDtcbiAgdGhpcy50eXBlTWFwICAgICAgID0gdGhpcy5zY2hlbWEuY29tcGlsZWRUeXBlTWFwO1xuXG4gIHRoaXMubGVuZ3RoICAgICA9IGlucHV0Lmxlbmd0aDtcbiAgdGhpcy5wb3NpdGlvbiAgID0gMDtcbiAgdGhpcy5saW5lICAgICAgID0gMDtcbiAgdGhpcy5saW5lU3RhcnQgID0gMDtcbiAgdGhpcy5saW5lSW5kZW50ID0gMDtcblxuICAvLyBwb3NpdGlvbiBvZiBmaXJzdCBsZWFkaW5nIHRhYiBpbiB0aGUgY3VycmVudCBsaW5lLFxuICAvLyB1c2VkIHRvIG1ha2Ugc3VyZSB0aGVyZSBhcmUgbm8gdGFicyBpbiB0aGUgaW5kZW50YXRpb25cbiAgdGhpcy5maXJzdFRhYkluTGluZSA9IC0xO1xuXG4gIHRoaXMuZG9jdW1lbnRzID0gW107XG5cbiAgLypcbiAgdGhpcy52ZXJzaW9uO1xuICB0aGlzLmNoZWNrTGluZUJyZWFrcztcbiAgdGhpcy50YWdNYXA7XG4gIHRoaXMuYW5jaG9yTWFwO1xuICB0aGlzLnRhZztcbiAgdGhpcy5hbmNob3I7XG4gIHRoaXMua2luZDtcbiAgdGhpcy5yZXN1bHQ7Ki9cblxufVxuXG5cbmZ1bmN0aW9uIGdlbmVyYXRlRXJyb3Ioc3RhdGUsIG1lc3NhZ2UpIHtcbiAgdmFyIG1hcmsgPSB7XG4gICAgbmFtZTogICAgIHN0YXRlLmZpbGVuYW1lLFxuICAgIGJ1ZmZlcjogICBzdGF0ZS5pbnB1dC5zbGljZSgwLCAtMSksIC8vIG9taXQgdHJhaWxpbmcgXFwwXG4gICAgcG9zaXRpb246IHN0YXRlLnBvc2l0aW9uLFxuICAgIGxpbmU6ICAgICBzdGF0ZS5saW5lLFxuICAgIGNvbHVtbjogICBzdGF0ZS5wb3NpdGlvbiAtIHN0YXRlLmxpbmVTdGFydFxuICB9O1xuXG4gIG1hcmsuc25pcHBldCA9IHNuaXBwZXQobWFyayk7XG5cbiAgcmV0dXJuIG5ldyBleGNlcHRpb24obWVzc2FnZSwgbWFyayk7XG59XG5cbmZ1bmN0aW9uIHRocm93RXJyb3Ioc3RhdGUsIG1lc3NhZ2UpIHtcbiAgdGhyb3cgZ2VuZXJhdGVFcnJvcihzdGF0ZSwgbWVzc2FnZSk7XG59XG5cbmZ1bmN0aW9uIHRocm93V2FybmluZyhzdGF0ZSwgbWVzc2FnZSkge1xuICBpZiAoc3RhdGUub25XYXJuaW5nKSB7XG4gICAgc3RhdGUub25XYXJuaW5nLmNhbGwobnVsbCwgZ2VuZXJhdGVFcnJvcihzdGF0ZSwgbWVzc2FnZSkpO1xuICB9XG59XG5cblxudmFyIGRpcmVjdGl2ZUhhbmRsZXJzID0ge1xuXG4gIFlBTUw6IGZ1bmN0aW9uIGhhbmRsZVlhbWxEaXJlY3RpdmUoc3RhdGUsIG5hbWUsIGFyZ3MpIHtcblxuICAgIHZhciBtYXRjaCwgbWFqb3IsIG1pbm9yO1xuXG4gICAgaWYgKHN0YXRlLnZlcnNpb24gIT09IG51bGwpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICdkdXBsaWNhdGlvbiBvZiAlWUFNTCBkaXJlY3RpdmUnKTtcbiAgICB9XG5cbiAgICBpZiAoYXJncy5sZW5ndGggIT09IDEpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICdZQU1MIGRpcmVjdGl2ZSBhY2NlcHRzIGV4YWN0bHkgb25lIGFyZ3VtZW50Jyk7XG4gICAgfVxuXG4gICAgbWF0Y2ggPSAvXihbMC05XSspXFwuKFswLTldKykkLy5leGVjKGFyZ3NbMF0pO1xuXG4gICAgaWYgKG1hdGNoID09PSBudWxsKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnaWxsLWZvcm1lZCBhcmd1bWVudCBvZiB0aGUgWUFNTCBkaXJlY3RpdmUnKTtcbiAgICB9XG5cbiAgICBtYWpvciA9IHBhcnNlSW50KG1hdGNoWzFdLCAxMCk7XG4gICAgbWlub3IgPSBwYXJzZUludChtYXRjaFsyXSwgMTApO1xuXG4gICAgaWYgKG1ham9yICE9PSAxKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndW5hY2NlcHRhYmxlIFlBTUwgdmVyc2lvbiBvZiB0aGUgZG9jdW1lbnQnKTtcbiAgICB9XG5cbiAgICBzdGF0ZS52ZXJzaW9uID0gYXJnc1swXTtcbiAgICBzdGF0ZS5jaGVja0xpbmVCcmVha3MgPSAobWlub3IgPCAyKTtcblxuICAgIGlmIChtaW5vciAhPT0gMSAmJiBtaW5vciAhPT0gMikge1xuICAgICAgdGhyb3dXYXJuaW5nKHN0YXRlLCAndW5zdXBwb3J0ZWQgWUFNTCB2ZXJzaW9uIG9mIHRoZSBkb2N1bWVudCcpO1xuICAgIH1cbiAgfSxcblxuICBUQUc6IGZ1bmN0aW9uIGhhbmRsZVRhZ0RpcmVjdGl2ZShzdGF0ZSwgbmFtZSwgYXJncykge1xuXG4gICAgdmFyIGhhbmRsZSwgcHJlZml4O1xuXG4gICAgaWYgKGFyZ3MubGVuZ3RoICE9PSAyKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnVEFHIGRpcmVjdGl2ZSBhY2NlcHRzIGV4YWN0bHkgdHdvIGFyZ3VtZW50cycpO1xuICAgIH1cblxuICAgIGhhbmRsZSA9IGFyZ3NbMF07XG4gICAgcHJlZml4ID0gYXJnc1sxXTtcblxuICAgIGlmICghUEFUVEVSTl9UQUdfSEFORExFLnRlc3QoaGFuZGxlKSkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2lsbC1mb3JtZWQgdGFnIGhhbmRsZSAoZmlyc3QgYXJndW1lbnQpIG9mIHRoZSBUQUcgZGlyZWN0aXZlJyk7XG4gICAgfVxuXG4gICAgaWYgKF9oYXNPd25Qcm9wZXJ0eSQxLmNhbGwoc3RhdGUudGFnTWFwLCBoYW5kbGUpKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndGhlcmUgaXMgYSBwcmV2aW91c2x5IGRlY2xhcmVkIHN1ZmZpeCBmb3IgXCInICsgaGFuZGxlICsgJ1wiIHRhZyBoYW5kbGUnKTtcbiAgICB9XG5cbiAgICBpZiAoIVBBVFRFUk5fVEFHX1VSSS50ZXN0KHByZWZpeCkpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICdpbGwtZm9ybWVkIHRhZyBwcmVmaXggKHNlY29uZCBhcmd1bWVudCkgb2YgdGhlIFRBRyBkaXJlY3RpdmUnKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgcHJlZml4ID0gZGVjb2RlVVJJQ29tcG9uZW50KHByZWZpeCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndGFnIHByZWZpeCBpcyBtYWxmb3JtZWQ6ICcgKyBwcmVmaXgpO1xuICAgIH1cblxuICAgIHN0YXRlLnRhZ01hcFtoYW5kbGVdID0gcHJlZml4O1xuICB9XG59O1xuXG5cbmZ1bmN0aW9uIGNhcHR1cmVTZWdtZW50KHN0YXRlLCBzdGFydCwgZW5kLCBjaGVja0pzb24pIHtcbiAgdmFyIF9wb3NpdGlvbiwgX2xlbmd0aCwgX2NoYXJhY3RlciwgX3Jlc3VsdDtcblxuICBpZiAoc3RhcnQgPCBlbmQpIHtcbiAgICBfcmVzdWx0ID0gc3RhdGUuaW5wdXQuc2xpY2Uoc3RhcnQsIGVuZCk7XG5cbiAgICBpZiAoY2hlY2tKc29uKSB7XG4gICAgICBmb3IgKF9wb3NpdGlvbiA9IDAsIF9sZW5ndGggPSBfcmVzdWx0Lmxlbmd0aDsgX3Bvc2l0aW9uIDwgX2xlbmd0aDsgX3Bvc2l0aW9uICs9IDEpIHtcbiAgICAgICAgX2NoYXJhY3RlciA9IF9yZXN1bHQuY2hhckNvZGVBdChfcG9zaXRpb24pO1xuICAgICAgICBpZiAoIShfY2hhcmFjdGVyID09PSAweDA5IHx8XG4gICAgICAgICAgICAgICgweDIwIDw9IF9jaGFyYWN0ZXIgJiYgX2NoYXJhY3RlciA8PSAweDEwRkZGRikpKSB7XG4gICAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2V4cGVjdGVkIHZhbGlkIEpTT04gY2hhcmFjdGVyJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKFBBVFRFUk5fTk9OX1BSSU5UQUJMRS50ZXN0KF9yZXN1bHQpKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndGhlIHN0cmVhbSBjb250YWlucyBub24tcHJpbnRhYmxlIGNoYXJhY3RlcnMnKTtcbiAgICB9XG5cbiAgICBzdGF0ZS5yZXN1bHQgKz0gX3Jlc3VsdDtcbiAgfVxufVxuXG5mdW5jdGlvbiBtZXJnZU1hcHBpbmdzKHN0YXRlLCBkZXN0aW5hdGlvbiwgc291cmNlLCBvdmVycmlkYWJsZUtleXMpIHtcbiAgdmFyIHNvdXJjZUtleXMsIGtleSwgaW5kZXgsIHF1YW50aXR5O1xuXG4gIGlmICghY29tbW9uLmlzT2JqZWN0KHNvdXJjZSkpIHtcbiAgICB0aHJvd0Vycm9yKHN0YXRlLCAnY2Fubm90IG1lcmdlIG1hcHBpbmdzOyB0aGUgcHJvdmlkZWQgc291cmNlIG9iamVjdCBpcyB1bmFjY2VwdGFibGUnKTtcbiAgfVxuXG4gIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuXG4gIGZvciAoaW5kZXggPSAwLCBxdWFudGl0eSA9IHNvdXJjZUtleXMubGVuZ3RoOyBpbmRleCA8IHF1YW50aXR5OyBpbmRleCArPSAxKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpbmRleF07XG5cbiAgICBpZiAoIV9oYXNPd25Qcm9wZXJ0eSQxLmNhbGwoZGVzdGluYXRpb24sIGtleSkpIHtcbiAgICAgIGRlc3RpbmF0aW9uW2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgIG92ZXJyaWRhYmxlS2V5c1trZXldID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RvcmVNYXBwaW5nUGFpcihzdGF0ZSwgX3Jlc3VsdCwgb3ZlcnJpZGFibGVLZXlzLCBrZXlUYWcsIGtleU5vZGUsIHZhbHVlTm9kZSxcbiAgc3RhcnRMaW5lLCBzdGFydExpbmVTdGFydCwgc3RhcnRQb3MpIHtcblxuICB2YXIgaW5kZXgsIHF1YW50aXR5O1xuXG4gIC8vIFRoZSBvdXRwdXQgaXMgYSBwbGFpbiBvYmplY3QgaGVyZSwgc28ga2V5cyBjYW4gb25seSBiZSBzdHJpbmdzLlxuICAvLyBXZSBuZWVkIHRvIGNvbnZlcnQga2V5Tm9kZSB0byBhIHN0cmluZywgYnV0IGRvaW5nIHNvIGNhbiBoYW5nIHRoZSBwcm9jZXNzXG4gIC8vIChkZWVwbHkgbmVzdGVkIGFycmF5cyB0aGF0IGV4cGxvZGUgZXhwb25lbnRpYWxseSB1c2luZyBhbGlhc2VzKS5cbiAgaWYgKEFycmF5LmlzQXJyYXkoa2V5Tm9kZSkpIHtcbiAgICBrZXlOb2RlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoa2V5Tm9kZSk7XG5cbiAgICBmb3IgKGluZGV4ID0gMCwgcXVhbnRpdHkgPSBrZXlOb2RlLmxlbmd0aDsgaW5kZXggPCBxdWFudGl0eTsgaW5kZXggKz0gMSkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoa2V5Tm9kZVtpbmRleF0pKSB7XG4gICAgICAgIHRocm93RXJyb3Ioc3RhdGUsICduZXN0ZWQgYXJyYXlzIGFyZSBub3Qgc3VwcG9ydGVkIGluc2lkZSBrZXlzJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Yga2V5Tm9kZSA9PT0gJ29iamVjdCcgJiYgX2NsYXNzKGtleU5vZGVbaW5kZXhdKSA9PT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcbiAgICAgICAga2V5Tm9kZVtpbmRleF0gPSAnW29iamVjdCBPYmplY3RdJztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBBdm9pZCBjb2RlIGV4ZWN1dGlvbiBpbiBsb2FkKCkgdmlhIHRvU3RyaW5nIHByb3BlcnR5XG4gIC8vIChzdGlsbCB1c2UgaXRzIG93biB0b1N0cmluZyBmb3IgYXJyYXlzLCB0aW1lc3RhbXBzLFxuICAvLyBhbmQgd2hhdGV2ZXIgdXNlciBzY2hlbWEgZXh0ZW5zaW9ucyBoYXBwZW4gdG8gaGF2ZSBAQHRvU3RyaW5nVGFnKVxuICBpZiAodHlwZW9mIGtleU5vZGUgPT09ICdvYmplY3QnICYmIF9jbGFzcyhrZXlOb2RlKSA9PT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcbiAgICBrZXlOb2RlID0gJ1tvYmplY3QgT2JqZWN0XSc7XG4gIH1cblxuXG4gIGtleU5vZGUgPSBTdHJpbmcoa2V5Tm9kZSk7XG5cbiAgaWYgKF9yZXN1bHQgPT09IG51bGwpIHtcbiAgICBfcmVzdWx0ID0ge307XG4gIH1cblxuICBpZiAoa2V5VGFnID09PSAndGFnOnlhbWwub3JnLDIwMDI6bWVyZ2UnKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWVOb2RlKSkge1xuICAgICAgZm9yIChpbmRleCA9IDAsIHF1YW50aXR5ID0gdmFsdWVOb2RlLmxlbmd0aDsgaW5kZXggPCBxdWFudGl0eTsgaW5kZXggKz0gMSkge1xuICAgICAgICBtZXJnZU1hcHBpbmdzKHN0YXRlLCBfcmVzdWx0LCB2YWx1ZU5vZGVbaW5kZXhdLCBvdmVycmlkYWJsZUtleXMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBtZXJnZU1hcHBpbmdzKHN0YXRlLCBfcmVzdWx0LCB2YWx1ZU5vZGUsIG92ZXJyaWRhYmxlS2V5cyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICghc3RhdGUuanNvbiAmJlxuICAgICAgICAhX2hhc093blByb3BlcnR5JDEuY2FsbChvdmVycmlkYWJsZUtleXMsIGtleU5vZGUpICYmXG4gICAgICAgIF9oYXNPd25Qcm9wZXJ0eSQxLmNhbGwoX3Jlc3VsdCwga2V5Tm9kZSkpIHtcbiAgICAgIHN0YXRlLmxpbmUgPSBzdGFydExpbmUgfHwgc3RhdGUubGluZTtcbiAgICAgIHN0YXRlLmxpbmVTdGFydCA9IHN0YXJ0TGluZVN0YXJ0IHx8IHN0YXRlLmxpbmVTdGFydDtcbiAgICAgIHN0YXRlLnBvc2l0aW9uID0gc3RhcnRQb3MgfHwgc3RhdGUucG9zaXRpb247XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnZHVwbGljYXRlZCBtYXBwaW5nIGtleScpO1xuICAgIH1cblxuICAgIC8vIHVzZWQgZm9yIHRoaXMgc3BlY2lmaWMga2V5IG9ubHkgYmVjYXVzZSBPYmplY3QuZGVmaW5lUHJvcGVydHkgaXMgc2xvd1xuICAgIGlmIChrZXlOb2RlID09PSAnX19wcm90b19fJykge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9yZXN1bHQsIGtleU5vZGUsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZhbHVlTm9kZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9yZXN1bHRba2V5Tm9kZV0gPSB2YWx1ZU5vZGU7XG4gICAgfVxuICAgIGRlbGV0ZSBvdmVycmlkYWJsZUtleXNba2V5Tm9kZV07XG4gIH1cblxuICByZXR1cm4gX3Jlc3VsdDtcbn1cblxuZnVuY3Rpb24gcmVhZExpbmVCcmVhayhzdGF0ZSkge1xuICB2YXIgY2g7XG5cbiAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICBpZiAoY2ggPT09IDB4MEEvKiBMRiAqLykge1xuICAgIHN0YXRlLnBvc2l0aW9uKys7XG4gIH0gZWxzZSBpZiAoY2ggPT09IDB4MEQvKiBDUiAqLykge1xuICAgIHN0YXRlLnBvc2l0aW9uKys7XG4gICAgaWYgKHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pID09PSAweDBBLyogTEYgKi8pIHtcbiAgICAgIHN0YXRlLnBvc2l0aW9uKys7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRocm93RXJyb3Ioc3RhdGUsICdhIGxpbmUgYnJlYWsgaXMgZXhwZWN0ZWQnKTtcbiAgfVxuXG4gIHN0YXRlLmxpbmUgKz0gMTtcbiAgc3RhdGUubGluZVN0YXJ0ID0gc3RhdGUucG9zaXRpb247XG4gIHN0YXRlLmZpcnN0VGFiSW5MaW5lID0gLTE7XG59XG5cbmZ1bmN0aW9uIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIGFsbG93Q29tbWVudHMsIGNoZWNrSW5kZW50KSB7XG4gIHZhciBsaW5lQnJlYWtzID0gMCxcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgd2hpbGUgKGNoICE9PSAwKSB7XG4gICAgd2hpbGUgKGlzX1dISVRFX1NQQUNFKGNoKSkge1xuICAgICAgaWYgKGNoID09PSAweDA5LyogVGFiICovICYmIHN0YXRlLmZpcnN0VGFiSW5MaW5lID09PSAtMSkge1xuICAgICAgICBzdGF0ZS5maXJzdFRhYkluTGluZSA9IHN0YXRlLnBvc2l0aW9uO1xuICAgICAgfVxuICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuICAgIH1cblxuICAgIGlmIChhbGxvd0NvbW1lbnRzICYmIGNoID09PSAweDIzLyogIyAqLykge1xuICAgICAgZG8ge1xuICAgICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgICB9IHdoaWxlIChjaCAhPT0gMHgwQS8qIExGICovICYmIGNoICE9PSAweDBELyogQ1IgKi8gJiYgY2ggIT09IDApO1xuICAgIH1cblxuICAgIGlmIChpc19FT0woY2gpKSB7XG4gICAgICByZWFkTGluZUJyZWFrKHN0YXRlKTtcblxuICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcbiAgICAgIGxpbmVCcmVha3MrKztcbiAgICAgIHN0YXRlLmxpbmVJbmRlbnQgPSAwO1xuXG4gICAgICB3aGlsZSAoY2ggPT09IDB4MjAvKiBTcGFjZSAqLykge1xuICAgICAgICBzdGF0ZS5saW5lSW5kZW50Kys7XG4gICAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKGNoZWNrSW5kZW50ICE9PSAtMSAmJiBsaW5lQnJlYWtzICE9PSAwICYmIHN0YXRlLmxpbmVJbmRlbnQgPCBjaGVja0luZGVudCkge1xuICAgIHRocm93V2FybmluZyhzdGF0ZSwgJ2RlZmljaWVudCBpbmRlbnRhdGlvbicpO1xuICB9XG5cbiAgcmV0dXJuIGxpbmVCcmVha3M7XG59XG5cbmZ1bmN0aW9uIHRlc3REb2N1bWVudFNlcGFyYXRvcihzdGF0ZSkge1xuICB2YXIgX3Bvc2l0aW9uID0gc3RhdGUucG9zaXRpb24sXG4gICAgICBjaDtcblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoX3Bvc2l0aW9uKTtcblxuICAvLyBDb25kaXRpb24gc3RhdGUucG9zaXRpb24gPT09IHN0YXRlLmxpbmVTdGFydCBpcyB0ZXN0ZWRcbiAgLy8gaW4gcGFyZW50IG9uIGVhY2ggY2FsbCwgZm9yIGVmZmljaWVuY3kuIE5vIG5lZWRzIHRvIHRlc3QgaGVyZSBhZ2Fpbi5cbiAgaWYgKChjaCA9PT0gMHgyRC8qIC0gKi8gfHwgY2ggPT09IDB4MkUvKiAuICovKSAmJlxuICAgICAgY2ggPT09IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoX3Bvc2l0aW9uICsgMSkgJiZcbiAgICAgIGNoID09PSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KF9wb3NpdGlvbiArIDIpKSB7XG5cbiAgICBfcG9zaXRpb24gKz0gMztcblxuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChfcG9zaXRpb24pO1xuXG4gICAgaWYgKGNoID09PSAwIHx8IGlzX1dTX09SX0VPTChjaCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gd3JpdGVGb2xkZWRMaW5lcyhzdGF0ZSwgY291bnQpIHtcbiAgaWYgKGNvdW50ID09PSAxKSB7XG4gICAgc3RhdGUucmVzdWx0ICs9ICcgJztcbiAgfSBlbHNlIGlmIChjb3VudCA+IDEpIHtcbiAgICBzdGF0ZS5yZXN1bHQgKz0gY29tbW9uLnJlcGVhdCgnXFxuJywgY291bnQgLSAxKTtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHJlYWRQbGFpblNjYWxhcihzdGF0ZSwgbm9kZUluZGVudCwgd2l0aGluRmxvd0NvbGxlY3Rpb24pIHtcbiAgdmFyIHByZWNlZGluZyxcbiAgICAgIGZvbGxvd2luZyxcbiAgICAgIGNhcHR1cmVTdGFydCxcbiAgICAgIGNhcHR1cmVFbmQsXG4gICAgICBoYXNQZW5kaW5nQ29udGVudCxcbiAgICAgIF9saW5lLFxuICAgICAgX2xpbmVTdGFydCxcbiAgICAgIF9saW5lSW5kZW50LFxuICAgICAgX2tpbmQgPSBzdGF0ZS5raW5kLFxuICAgICAgX3Jlc3VsdCA9IHN0YXRlLnJlc3VsdCxcbiAgICAgIGNoO1xuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgaWYgKGlzX1dTX09SX0VPTChjaCkgICAgICB8fFxuICAgICAgaXNfRkxPV19JTkRJQ0FUT1IoY2gpIHx8XG4gICAgICBjaCA9PT0gMHgyMy8qICMgKi8gICAgfHxcbiAgICAgIGNoID09PSAweDI2LyogJiAqLyAgICB8fFxuICAgICAgY2ggPT09IDB4MkEvKiAqICovICAgIHx8XG4gICAgICBjaCA9PT0gMHgyMS8qICEgKi8gICAgfHxcbiAgICAgIGNoID09PSAweDdDLyogfCAqLyAgICB8fFxuICAgICAgY2ggPT09IDB4M0UvKiA+ICovICAgIHx8XG4gICAgICBjaCA9PT0gMHgyNy8qICcgKi8gICAgfHxcbiAgICAgIGNoID09PSAweDIyLyogXCIgKi8gICAgfHxcbiAgICAgIGNoID09PSAweDI1LyogJSAqLyAgICB8fFxuICAgICAgY2ggPT09IDB4NDAvKiBAICovICAgIHx8XG4gICAgICBjaCA9PT0gMHg2MC8qIGAgKi8pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoY2ggPT09IDB4M0YvKiA/ICovIHx8IGNoID09PSAweDJELyogLSAqLykge1xuICAgIGZvbGxvd2luZyA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24gKyAxKTtcblxuICAgIGlmIChpc19XU19PUl9FT0woZm9sbG93aW5nKSB8fFxuICAgICAgICB3aXRoaW5GbG93Q29sbGVjdGlvbiAmJiBpc19GTE9XX0lORElDQVRPUihmb2xsb3dpbmcpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc3RhdGUua2luZCA9ICdzY2FsYXInO1xuICBzdGF0ZS5yZXN1bHQgPSAnJztcbiAgY2FwdHVyZVN0YXJ0ID0gY2FwdHVyZUVuZCA9IHN0YXRlLnBvc2l0aW9uO1xuICBoYXNQZW5kaW5nQ29udGVudCA9IGZhbHNlO1xuXG4gIHdoaWxlIChjaCAhPT0gMCkge1xuICAgIGlmIChjaCA9PT0gMHgzQS8qIDogKi8pIHtcbiAgICAgIGZvbGxvd2luZyA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24gKyAxKTtcblxuICAgICAgaWYgKGlzX1dTX09SX0VPTChmb2xsb3dpbmcpIHx8XG4gICAgICAgICAgd2l0aGluRmxvd0NvbGxlY3Rpb24gJiYgaXNfRkxPV19JTkRJQ0FUT1IoZm9sbG93aW5nKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgIH0gZWxzZSBpZiAoY2ggPT09IDB4MjMvKiAjICovKSB7XG4gICAgICBwcmVjZWRpbmcgPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uIC0gMSk7XG5cbiAgICAgIGlmIChpc19XU19PUl9FT0wocHJlY2VkaW5nKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgIH0gZWxzZSBpZiAoKHN0YXRlLnBvc2l0aW9uID09PSBzdGF0ZS5saW5lU3RhcnQgJiYgdGVzdERvY3VtZW50U2VwYXJhdG9yKHN0YXRlKSkgfHxcbiAgICAgICAgICAgICAgIHdpdGhpbkZsb3dDb2xsZWN0aW9uICYmIGlzX0ZMT1dfSU5ESUNBVE9SKGNoKSkge1xuICAgICAgYnJlYWs7XG5cbiAgICB9IGVsc2UgaWYgKGlzX0VPTChjaCkpIHtcbiAgICAgIF9saW5lID0gc3RhdGUubGluZTtcbiAgICAgIF9saW5lU3RhcnQgPSBzdGF0ZS5saW5lU3RhcnQ7XG4gICAgICBfbGluZUluZGVudCA9IHN0YXRlLmxpbmVJbmRlbnQ7XG4gICAgICBza2lwU2VwYXJhdGlvblNwYWNlKHN0YXRlLCBmYWxzZSwgLTEpO1xuXG4gICAgICBpZiAoc3RhdGUubGluZUluZGVudCA+PSBub2RlSW5kZW50KSB7XG4gICAgICAgIGhhc1BlbmRpbmdDb250ZW50ID0gdHJ1ZTtcbiAgICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS5wb3NpdGlvbiA9IGNhcHR1cmVFbmQ7XG4gICAgICAgIHN0YXRlLmxpbmUgPSBfbGluZTtcbiAgICAgICAgc3RhdGUubGluZVN0YXJ0ID0gX2xpbmVTdGFydDtcbiAgICAgICAgc3RhdGUubGluZUluZGVudCA9IF9saW5lSW5kZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaGFzUGVuZGluZ0NvbnRlbnQpIHtcbiAgICAgIGNhcHR1cmVTZWdtZW50KHN0YXRlLCBjYXB0dXJlU3RhcnQsIGNhcHR1cmVFbmQsIGZhbHNlKTtcbiAgICAgIHdyaXRlRm9sZGVkTGluZXMoc3RhdGUsIHN0YXRlLmxpbmUgLSBfbGluZSk7XG4gICAgICBjYXB0dXJlU3RhcnQgPSBjYXB0dXJlRW5kID0gc3RhdGUucG9zaXRpb247XG4gICAgICBoYXNQZW5kaW5nQ29udGVudCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghaXNfV0hJVEVfU1BBQ0UoY2gpKSB7XG4gICAgICBjYXB0dXJlRW5kID0gc3RhdGUucG9zaXRpb24gKyAxO1xuICAgIH1cblxuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgfVxuXG4gIGNhcHR1cmVTZWdtZW50KHN0YXRlLCBjYXB0dXJlU3RhcnQsIGNhcHR1cmVFbmQsIGZhbHNlKTtcblxuICBpZiAoc3RhdGUucmVzdWx0KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzdGF0ZS5raW5kID0gX2tpbmQ7XG4gIHN0YXRlLnJlc3VsdCA9IF9yZXN1bHQ7XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gcmVhZFNpbmdsZVF1b3RlZFNjYWxhcihzdGF0ZSwgbm9kZUluZGVudCkge1xuICB2YXIgY2gsXG4gICAgICBjYXB0dXJlU3RhcnQsIGNhcHR1cmVFbmQ7XG5cbiAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICBpZiAoY2ggIT09IDB4MjcvKiAnICovKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3RhdGUua2luZCA9ICdzY2FsYXInO1xuICBzdGF0ZS5yZXN1bHQgPSAnJztcbiAgc3RhdGUucG9zaXRpb24rKztcbiAgY2FwdHVyZVN0YXJ0ID0gY2FwdHVyZUVuZCA9IHN0YXRlLnBvc2l0aW9uO1xuXG4gIHdoaWxlICgoY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKSkgIT09IDApIHtcbiAgICBpZiAoY2ggPT09IDB4MjcvKiAnICovKSB7XG4gICAgICBjYXB0dXJlU2VnbWVudChzdGF0ZSwgY2FwdHVyZVN0YXJ0LCBzdGF0ZS5wb3NpdGlvbiwgdHJ1ZSk7XG4gICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG5cbiAgICAgIGlmIChjaCA9PT0gMHgyNy8qICcgKi8pIHtcbiAgICAgICAgY2FwdHVyZVN0YXJ0ID0gc3RhdGUucG9zaXRpb247XG4gICAgICAgIHN0YXRlLnBvc2l0aW9uKys7XG4gICAgICAgIGNhcHR1cmVFbmQgPSBzdGF0ZS5wb3NpdGlvbjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIGlmIChpc19FT0woY2gpKSB7XG4gICAgICBjYXB0dXJlU2VnbWVudChzdGF0ZSwgY2FwdHVyZVN0YXJ0LCBjYXB0dXJlRW5kLCB0cnVlKTtcbiAgICAgIHdyaXRlRm9sZGVkTGluZXMoc3RhdGUsIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIGZhbHNlLCBub2RlSW5kZW50KSk7XG4gICAgICBjYXB0dXJlU3RhcnQgPSBjYXB0dXJlRW5kID0gc3RhdGUucG9zaXRpb247XG5cbiAgICB9IGVsc2UgaWYgKHN0YXRlLnBvc2l0aW9uID09PSBzdGF0ZS5saW5lU3RhcnQgJiYgdGVzdERvY3VtZW50U2VwYXJhdG9yKHN0YXRlKSkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3VuZXhwZWN0ZWQgZW5kIG9mIHRoZSBkb2N1bWVudCB3aXRoaW4gYSBzaW5nbGUgcXVvdGVkIHNjYWxhcicpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLnBvc2l0aW9uKys7XG4gICAgICBjYXB0dXJlRW5kID0gc3RhdGUucG9zaXRpb247XG4gICAgfVxuICB9XG5cbiAgdGhyb3dFcnJvcihzdGF0ZSwgJ3VuZXhwZWN0ZWQgZW5kIG9mIHRoZSBzdHJlYW0gd2l0aGluIGEgc2luZ2xlIHF1b3RlZCBzY2FsYXInKTtcbn1cblxuZnVuY3Rpb24gcmVhZERvdWJsZVF1b3RlZFNjYWxhcihzdGF0ZSwgbm9kZUluZGVudCkge1xuICB2YXIgY2FwdHVyZVN0YXJ0LFxuICAgICAgY2FwdHVyZUVuZCxcbiAgICAgIGhleExlbmd0aCxcbiAgICAgIGhleFJlc3VsdCxcbiAgICAgIHRtcCxcbiAgICAgIGNoO1xuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgaWYgKGNoICE9PSAweDIyLyogXCIgKi8pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdGF0ZS5raW5kID0gJ3NjYWxhcic7XG4gIHN0YXRlLnJlc3VsdCA9ICcnO1xuICBzdGF0ZS5wb3NpdGlvbisrO1xuICBjYXB0dXJlU3RhcnQgPSBjYXB0dXJlRW5kID0gc3RhdGUucG9zaXRpb247XG5cbiAgd2hpbGUgKChjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pKSAhPT0gMCkge1xuICAgIGlmIChjaCA9PT0gMHgyMi8qIFwiICovKSB7XG4gICAgICBjYXB0dXJlU2VnbWVudChzdGF0ZSwgY2FwdHVyZVN0YXJ0LCBzdGF0ZS5wb3NpdGlvbiwgdHJ1ZSk7XG4gICAgICBzdGF0ZS5wb3NpdGlvbisrO1xuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICB9IGVsc2UgaWYgKGNoID09PSAweDVDLyogXFwgKi8pIHtcbiAgICAgIGNhcHR1cmVTZWdtZW50KHN0YXRlLCBjYXB0dXJlU3RhcnQsIHN0YXRlLnBvc2l0aW9uLCB0cnVlKTtcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcblxuICAgICAgaWYgKGlzX0VPTChjaCkpIHtcbiAgICAgICAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgZmFsc2UsIG5vZGVJbmRlbnQpO1xuXG4gICAgICAgIC8vIFRPRE86IHJld29yayB0byBpbmxpbmUgZm4gd2l0aCBubyB0eXBlIGNhc3Q/XG4gICAgICB9IGVsc2UgaWYgKGNoIDwgMjU2ICYmIHNpbXBsZUVzY2FwZUNoZWNrW2NoXSkge1xuICAgICAgICBzdGF0ZS5yZXN1bHQgKz0gc2ltcGxlRXNjYXBlTWFwW2NoXTtcbiAgICAgICAgc3RhdGUucG9zaXRpb24rKztcblxuICAgICAgfSBlbHNlIGlmICgodG1wID0gZXNjYXBlZEhleExlbihjaCkpID4gMCkge1xuICAgICAgICBoZXhMZW5ndGggPSB0bXA7XG4gICAgICAgIGhleFJlc3VsdCA9IDA7XG5cbiAgICAgICAgZm9yICg7IGhleExlbmd0aCA+IDA7IGhleExlbmd0aC0tKSB7XG4gICAgICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuXG4gICAgICAgICAgaWYgKCh0bXAgPSBmcm9tSGV4Q29kZShjaCkpID49IDApIHtcbiAgICAgICAgICAgIGhleFJlc3VsdCA9IChoZXhSZXN1bHQgPDwgNCkgKyB0bXA7XG5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2V4cGVjdGVkIGhleGFkZWNpbWFsIGNoYXJhY3RlcicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlLnJlc3VsdCArPSBjaGFyRnJvbUNvZGVwb2ludChoZXhSZXN1bHQpO1xuXG4gICAgICAgIHN0YXRlLnBvc2l0aW9uKys7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93RXJyb3Ioc3RhdGUsICd1bmtub3duIGVzY2FwZSBzZXF1ZW5jZScpO1xuICAgICAgfVxuXG4gICAgICBjYXB0dXJlU3RhcnQgPSBjYXB0dXJlRW5kID0gc3RhdGUucG9zaXRpb247XG5cbiAgICB9IGVsc2UgaWYgKGlzX0VPTChjaCkpIHtcbiAgICAgIGNhcHR1cmVTZWdtZW50KHN0YXRlLCBjYXB0dXJlU3RhcnQsIGNhcHR1cmVFbmQsIHRydWUpO1xuICAgICAgd3JpdGVGb2xkZWRMaW5lcyhzdGF0ZSwgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgZmFsc2UsIG5vZGVJbmRlbnQpKTtcbiAgICAgIGNhcHR1cmVTdGFydCA9IGNhcHR1cmVFbmQgPSBzdGF0ZS5wb3NpdGlvbjtcblxuICAgIH0gZWxzZSBpZiAoc3RhdGUucG9zaXRpb24gPT09IHN0YXRlLmxpbmVTdGFydCAmJiB0ZXN0RG9jdW1lbnRTZXBhcmF0b3Ioc3RhdGUpKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndW5leHBlY3RlZCBlbmQgb2YgdGhlIGRvY3VtZW50IHdpdGhpbiBhIGRvdWJsZSBxdW90ZWQgc2NhbGFyJyk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUucG9zaXRpb24rKztcbiAgICAgIGNhcHR1cmVFbmQgPSBzdGF0ZS5wb3NpdGlvbjtcbiAgICB9XG4gIH1cblxuICB0aHJvd0Vycm9yKHN0YXRlLCAndW5leHBlY3RlZCBlbmQgb2YgdGhlIHN0cmVhbSB3aXRoaW4gYSBkb3VibGUgcXVvdGVkIHNjYWxhcicpO1xufVxuXG5mdW5jdGlvbiByZWFkRmxvd0NvbGxlY3Rpb24oc3RhdGUsIG5vZGVJbmRlbnQpIHtcbiAgdmFyIHJlYWROZXh0ID0gdHJ1ZSxcbiAgICAgIF9saW5lLFxuICAgICAgX2xpbmVTdGFydCxcbiAgICAgIF9wb3MsXG4gICAgICBfdGFnICAgICA9IHN0YXRlLnRhZyxcbiAgICAgIF9yZXN1bHQsXG4gICAgICBfYW5jaG9yICA9IHN0YXRlLmFuY2hvcixcbiAgICAgIGZvbGxvd2luZyxcbiAgICAgIHRlcm1pbmF0b3IsXG4gICAgICBpc1BhaXIsXG4gICAgICBpc0V4cGxpY2l0UGFpcixcbiAgICAgIGlzTWFwcGluZyxcbiAgICAgIG92ZXJyaWRhYmxlS2V5cyA9IE9iamVjdC5jcmVhdGUobnVsbCksXG4gICAgICBrZXlOb2RlLFxuICAgICAga2V5VGFnLFxuICAgICAgdmFsdWVOb2RlLFxuICAgICAgY2g7XG5cbiAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICBpZiAoY2ggPT09IDB4NUIvKiBbICovKSB7XG4gICAgdGVybWluYXRvciA9IDB4NUQ7LyogXSAqL1xuICAgIGlzTWFwcGluZyA9IGZhbHNlO1xuICAgIF9yZXN1bHQgPSBbXTtcbiAgfSBlbHNlIGlmIChjaCA9PT0gMHg3Qi8qIHsgKi8pIHtcbiAgICB0ZXJtaW5hdG9yID0gMHg3RDsvKiB9ICovXG4gICAgaXNNYXBwaW5nID0gdHJ1ZTtcbiAgICBfcmVzdWx0ID0ge307XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKHN0YXRlLmFuY2hvciAhPT0gbnVsbCkge1xuICAgIHN0YXRlLmFuY2hvck1hcFtzdGF0ZS5hbmNob3JdID0gX3Jlc3VsdDtcbiAgfVxuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcblxuICB3aGlsZSAoY2ggIT09IDApIHtcbiAgICBza2lwU2VwYXJhdGlvblNwYWNlKHN0YXRlLCB0cnVlLCBub2RlSW5kZW50KTtcblxuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgICBpZiAoY2ggPT09IHRlcm1pbmF0b3IpIHtcbiAgICAgIHN0YXRlLnBvc2l0aW9uKys7XG4gICAgICBzdGF0ZS50YWcgPSBfdGFnO1xuICAgICAgc3RhdGUuYW5jaG9yID0gX2FuY2hvcjtcbiAgICAgIHN0YXRlLmtpbmQgPSBpc01hcHBpbmcgPyAnbWFwcGluZycgOiAnc2VxdWVuY2UnO1xuICAgICAgc3RhdGUucmVzdWx0ID0gX3Jlc3VsdDtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoIXJlYWROZXh0KSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnbWlzc2VkIGNvbW1hIGJldHdlZW4gZmxvdyBjb2xsZWN0aW9uIGVudHJpZXMnKTtcbiAgICB9IGVsc2UgaWYgKGNoID09PSAweDJDLyogLCAqLykge1xuICAgICAgLy8gXCJmbG93IGNvbGxlY3Rpb24gZW50cmllcyBjYW4gbmV2ZXIgYmUgY29tcGxldGVseSBlbXB0eVwiLCBhcyBwZXIgWUFNTCAxLjIsIHNlY3Rpb24gNy40XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCBcImV4cGVjdGVkIHRoZSBub2RlIGNvbnRlbnQsIGJ1dCBmb3VuZCAnLCdcIik7XG4gICAgfVxuXG4gICAga2V5VGFnID0ga2V5Tm9kZSA9IHZhbHVlTm9kZSA9IG51bGw7XG4gICAgaXNQYWlyID0gaXNFeHBsaWNpdFBhaXIgPSBmYWxzZTtcblxuICAgIGlmIChjaCA9PT0gMHgzRi8qID8gKi8pIHtcbiAgICAgIGZvbGxvd2luZyA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24gKyAxKTtcblxuICAgICAgaWYgKGlzX1dTX09SX0VPTChmb2xsb3dpbmcpKSB7XG4gICAgICAgIGlzUGFpciA9IGlzRXhwbGljaXRQYWlyID0gdHJ1ZTtcbiAgICAgICAgc3RhdGUucG9zaXRpb24rKztcbiAgICAgICAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgbm9kZUluZGVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2xpbmUgPSBzdGF0ZS5saW5lOyAvLyBTYXZlIHRoZSBjdXJyZW50IGxpbmUuXG4gICAgX2xpbmVTdGFydCA9IHN0YXRlLmxpbmVTdGFydDtcbiAgICBfcG9zID0gc3RhdGUucG9zaXRpb247XG4gICAgY29tcG9zZU5vZGUoc3RhdGUsIG5vZGVJbmRlbnQsIENPTlRFWFRfRkxPV19JTiwgZmFsc2UsIHRydWUpO1xuICAgIGtleVRhZyA9IHN0YXRlLnRhZztcbiAgICBrZXlOb2RlID0gc3RhdGUucmVzdWx0O1xuICAgIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIG5vZGVJbmRlbnQpO1xuXG4gICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICAgIGlmICgoaXNFeHBsaWNpdFBhaXIgfHwgc3RhdGUubGluZSA9PT0gX2xpbmUpICYmIGNoID09PSAweDNBLyogOiAqLykge1xuICAgICAgaXNQYWlyID0gdHJ1ZTtcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICAgIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIG5vZGVJbmRlbnQpO1xuICAgICAgY29tcG9zZU5vZGUoc3RhdGUsIG5vZGVJbmRlbnQsIENPTlRFWFRfRkxPV19JTiwgZmFsc2UsIHRydWUpO1xuICAgICAgdmFsdWVOb2RlID0gc3RhdGUucmVzdWx0O1xuICAgIH1cblxuICAgIGlmIChpc01hcHBpbmcpIHtcbiAgICAgIHN0b3JlTWFwcGluZ1BhaXIoc3RhdGUsIF9yZXN1bHQsIG92ZXJyaWRhYmxlS2V5cywga2V5VGFnLCBrZXlOb2RlLCB2YWx1ZU5vZGUsIF9saW5lLCBfbGluZVN0YXJ0LCBfcG9zKTtcbiAgICB9IGVsc2UgaWYgKGlzUGFpcikge1xuICAgICAgX3Jlc3VsdC5wdXNoKHN0b3JlTWFwcGluZ1BhaXIoc3RhdGUsIG51bGwsIG92ZXJyaWRhYmxlS2V5cywga2V5VGFnLCBrZXlOb2RlLCB2YWx1ZU5vZGUsIF9saW5lLCBfbGluZVN0YXJ0LCBfcG9zKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9yZXN1bHQucHVzaChrZXlOb2RlKTtcbiAgICB9XG5cbiAgICBza2lwU2VwYXJhdGlvblNwYWNlKHN0YXRlLCB0cnVlLCBub2RlSW5kZW50KTtcblxuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgICBpZiAoY2ggPT09IDB4MkMvKiAsICovKSB7XG4gICAgICByZWFkTmV4dCA9IHRydWU7XG4gICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlYWROZXh0ID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgdGhyb3dFcnJvcihzdGF0ZSwgJ3VuZXhwZWN0ZWQgZW5kIG9mIHRoZSBzdHJlYW0gd2l0aGluIGEgZmxvdyBjb2xsZWN0aW9uJyk7XG59XG5cbmZ1bmN0aW9uIHJlYWRCbG9ja1NjYWxhcihzdGF0ZSwgbm9kZUluZGVudCkge1xuICB2YXIgY2FwdHVyZVN0YXJ0LFxuICAgICAgZm9sZGluZyxcbiAgICAgIGNob21waW5nICAgICAgID0gQ0hPTVBJTkdfQ0xJUCxcbiAgICAgIGRpZFJlYWRDb250ZW50ID0gZmFsc2UsXG4gICAgICBkZXRlY3RlZEluZGVudCA9IGZhbHNlLFxuICAgICAgdGV4dEluZGVudCAgICAgPSBub2RlSW5kZW50LFxuICAgICAgZW1wdHlMaW5lcyAgICAgPSAwLFxuICAgICAgYXRNb3JlSW5kZW50ZWQgPSBmYWxzZSxcbiAgICAgIHRtcCxcbiAgICAgIGNoO1xuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgaWYgKGNoID09PSAweDdDLyogfCAqLykge1xuICAgIGZvbGRpbmcgPSBmYWxzZTtcbiAgfSBlbHNlIGlmIChjaCA9PT0gMHgzRS8qID4gKi8pIHtcbiAgICBmb2xkaW5nID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdGF0ZS5raW5kID0gJ3NjYWxhcic7XG4gIHN0YXRlLnJlc3VsdCA9ICcnO1xuXG4gIHdoaWxlIChjaCAhPT0gMCkge1xuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcblxuICAgIGlmIChjaCA9PT0gMHgyQi8qICsgKi8gfHwgY2ggPT09IDB4MkQvKiAtICovKSB7XG4gICAgICBpZiAoQ0hPTVBJTkdfQ0xJUCA9PT0gY2hvbXBpbmcpIHtcbiAgICAgICAgY2hvbXBpbmcgPSAoY2ggPT09IDB4MkIvKiArICovKSA/IENIT01QSU5HX0tFRVAgOiBDSE9NUElOR19TVFJJUDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93RXJyb3Ioc3RhdGUsICdyZXBlYXQgb2YgYSBjaG9tcGluZyBtb2RlIGlkZW50aWZpZXInKTtcbiAgICAgIH1cblxuICAgIH0gZWxzZSBpZiAoKHRtcCA9IGZyb21EZWNpbWFsQ29kZShjaCkpID49IDApIHtcbiAgICAgIGlmICh0bXAgPT09IDApIHtcbiAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2JhZCBleHBsaWNpdCBpbmRlbnRhdGlvbiB3aWR0aCBvZiBhIGJsb2NrIHNjYWxhcjsgaXQgY2Fubm90IGJlIGxlc3MgdGhhbiBvbmUnKTtcbiAgICAgIH0gZWxzZSBpZiAoIWRldGVjdGVkSW5kZW50KSB7XG4gICAgICAgIHRleHRJbmRlbnQgPSBub2RlSW5kZW50ICsgdG1wIC0gMTtcbiAgICAgICAgZGV0ZWN0ZWRJbmRlbnQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3JlcGVhdCBvZiBhbiBpbmRlbnRhdGlvbiB3aWR0aCBpZGVudGlmaWVyJyk7XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKGlzX1dISVRFX1NQQUNFKGNoKSkge1xuICAgIGRvIHsgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pOyB9XG4gICAgd2hpbGUgKGlzX1dISVRFX1NQQUNFKGNoKSk7XG5cbiAgICBpZiAoY2ggPT09IDB4MjMvKiAjICovKSB7XG4gICAgICBkbyB7IGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTsgfVxuICAgICAgd2hpbGUgKCFpc19FT0woY2gpICYmIChjaCAhPT0gMCkpO1xuICAgIH1cbiAgfVxuXG4gIHdoaWxlIChjaCAhPT0gMCkge1xuICAgIHJlYWRMaW5lQnJlYWsoc3RhdGUpO1xuICAgIHN0YXRlLmxpbmVJbmRlbnQgPSAwO1xuXG4gICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICAgIHdoaWxlICgoIWRldGVjdGVkSW5kZW50IHx8IHN0YXRlLmxpbmVJbmRlbnQgPCB0ZXh0SW5kZW50KSAmJlxuICAgICAgICAgICAoY2ggPT09IDB4MjAvKiBTcGFjZSAqLykpIHtcbiAgICAgIHN0YXRlLmxpbmVJbmRlbnQrKztcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICBpZiAoIWRldGVjdGVkSW5kZW50ICYmIHN0YXRlLmxpbmVJbmRlbnQgPiB0ZXh0SW5kZW50KSB7XG4gICAgICB0ZXh0SW5kZW50ID0gc3RhdGUubGluZUluZGVudDtcbiAgICB9XG5cbiAgICBpZiAoaXNfRU9MKGNoKSkge1xuICAgICAgZW1wdHlMaW5lcysrO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gRW5kIG9mIHRoZSBzY2FsYXIuXG4gICAgaWYgKHN0YXRlLmxpbmVJbmRlbnQgPCB0ZXh0SW5kZW50KSB7XG5cbiAgICAgIC8vIFBlcmZvcm0gdGhlIGNob21waW5nLlxuICAgICAgaWYgKGNob21waW5nID09PSBDSE9NUElOR19LRUVQKSB7XG4gICAgICAgIHN0YXRlLnJlc3VsdCArPSBjb21tb24ucmVwZWF0KCdcXG4nLCBkaWRSZWFkQ29udGVudCA/IDEgKyBlbXB0eUxpbmVzIDogZW1wdHlMaW5lcyk7XG4gICAgICB9IGVsc2UgaWYgKGNob21waW5nID09PSBDSE9NUElOR19DTElQKSB7XG4gICAgICAgIGlmIChkaWRSZWFkQ29udGVudCkgeyAvLyBpLmUuIG9ubHkgaWYgdGhlIHNjYWxhciBpcyBub3QgZW1wdHkuXG4gICAgICAgICAgc3RhdGUucmVzdWx0ICs9ICdcXG4nO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEJyZWFrIHRoaXMgYHdoaWxlYCBjeWNsZSBhbmQgZ28gdG8gdGhlIGZ1bmNpdG9uJ3MgZXBpbG9ndWUuXG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICAvLyBGb2xkZWQgc3R5bGU6IHVzZSBmYW5jeSBydWxlcyB0byBoYW5kbGUgbGluZSBicmVha3MuXG4gICAgaWYgKGZvbGRpbmcpIHtcblxuICAgICAgLy8gTGluZXMgc3RhcnRpbmcgd2l0aCB3aGl0ZSBzcGFjZSBjaGFyYWN0ZXJzIChtb3JlLWluZGVudGVkIGxpbmVzKSBhcmUgbm90IGZvbGRlZC5cbiAgICAgIGlmIChpc19XSElURV9TUEFDRShjaCkpIHtcbiAgICAgICAgYXRNb3JlSW5kZW50ZWQgPSB0cnVlO1xuICAgICAgICAvLyBleGNlcHQgZm9yIHRoZSBmaXJzdCBjb250ZW50IGxpbmUgKGNmLiBFeGFtcGxlIDguMSlcbiAgICAgICAgc3RhdGUucmVzdWx0ICs9IGNvbW1vbi5yZXBlYXQoJ1xcbicsIGRpZFJlYWRDb250ZW50ID8gMSArIGVtcHR5TGluZXMgOiBlbXB0eUxpbmVzKTtcblxuICAgICAgLy8gRW5kIG9mIG1vcmUtaW5kZW50ZWQgYmxvY2suXG4gICAgICB9IGVsc2UgaWYgKGF0TW9yZUluZGVudGVkKSB7XG4gICAgICAgIGF0TW9yZUluZGVudGVkID0gZmFsc2U7XG4gICAgICAgIHN0YXRlLnJlc3VsdCArPSBjb21tb24ucmVwZWF0KCdcXG4nLCBlbXB0eUxpbmVzICsgMSk7XG5cbiAgICAgIC8vIEp1c3Qgb25lIGxpbmUgYnJlYWsgLSBwZXJjZWl2ZSBhcyB0aGUgc2FtZSBsaW5lLlxuICAgICAgfSBlbHNlIGlmIChlbXB0eUxpbmVzID09PSAwKSB7XG4gICAgICAgIGlmIChkaWRSZWFkQ29udGVudCkgeyAvLyBpLmUuIG9ubHkgaWYgd2UgaGF2ZSBhbHJlYWR5IHJlYWQgc29tZSBzY2FsYXIgY29udGVudC5cbiAgICAgICAgICBzdGF0ZS5yZXN1bHQgKz0gJyAnO1xuICAgICAgICB9XG5cbiAgICAgIC8vIFNldmVyYWwgbGluZSBicmVha3MgLSBwZXJjZWl2ZSBhcyBkaWZmZXJlbnQgbGluZXMuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS5yZXN1bHQgKz0gY29tbW9uLnJlcGVhdCgnXFxuJywgZW1wdHlMaW5lcyk7XG4gICAgICB9XG5cbiAgICAvLyBMaXRlcmFsIHN0eWxlOiBqdXN0IGFkZCBleGFjdCBudW1iZXIgb2YgbGluZSBicmVha3MgYmV0d2VlbiBjb250ZW50IGxpbmVzLlxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBLZWVwIGFsbCBsaW5lIGJyZWFrcyBleGNlcHQgdGhlIGhlYWRlciBsaW5lIGJyZWFrLlxuICAgICAgc3RhdGUucmVzdWx0ICs9IGNvbW1vbi5yZXBlYXQoJ1xcbicsIGRpZFJlYWRDb250ZW50ID8gMSArIGVtcHR5TGluZXMgOiBlbXB0eUxpbmVzKTtcbiAgICB9XG5cbiAgICBkaWRSZWFkQ29udGVudCA9IHRydWU7XG4gICAgZGV0ZWN0ZWRJbmRlbnQgPSB0cnVlO1xuICAgIGVtcHR5TGluZXMgPSAwO1xuICAgIGNhcHR1cmVTdGFydCA9IHN0YXRlLnBvc2l0aW9uO1xuXG4gICAgd2hpbGUgKCFpc19FT0woY2gpICYmIChjaCAhPT0gMCkpIHtcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICBjYXB0dXJlU2VnbWVudChzdGF0ZSwgY2FwdHVyZVN0YXJ0LCBzdGF0ZS5wb3NpdGlvbiwgZmFsc2UpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHJlYWRCbG9ja1NlcXVlbmNlKHN0YXRlLCBub2RlSW5kZW50KSB7XG4gIHZhciBfbGluZSxcbiAgICAgIF90YWcgICAgICA9IHN0YXRlLnRhZyxcbiAgICAgIF9hbmNob3IgICA9IHN0YXRlLmFuY2hvcixcbiAgICAgIF9yZXN1bHQgICA9IFtdLFxuICAgICAgZm9sbG93aW5nLFxuICAgICAgZGV0ZWN0ZWQgID0gZmFsc2UsXG4gICAgICBjaDtcblxuICAvLyB0aGVyZSBpcyBhIGxlYWRpbmcgdGFiIGJlZm9yZSB0aGlzIHRva2VuLCBzbyBpdCBjYW4ndCBiZSBhIGJsb2NrIHNlcXVlbmNlL21hcHBpbmc7XG4gIC8vIGl0IGNhbiBzdGlsbCBiZSBmbG93IHNlcXVlbmNlL21hcHBpbmcgb3IgYSBzY2FsYXJcbiAgaWYgKHN0YXRlLmZpcnN0VGFiSW5MaW5lICE9PSAtMSkgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChzdGF0ZS5hbmNob3IgIT09IG51bGwpIHtcbiAgICBzdGF0ZS5hbmNob3JNYXBbc3RhdGUuYW5jaG9yXSA9IF9yZXN1bHQ7XG4gIH1cblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pO1xuXG4gIHdoaWxlIChjaCAhPT0gMCkge1xuICAgIGlmIChzdGF0ZS5maXJzdFRhYkluTGluZSAhPT0gLTEpIHtcbiAgICAgIHN0YXRlLnBvc2l0aW9uID0gc3RhdGUuZmlyc3RUYWJJbkxpbmU7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndGFiIGNoYXJhY3RlcnMgbXVzdCBub3QgYmUgdXNlZCBpbiBpbmRlbnRhdGlvbicpO1xuICAgIH1cblxuICAgIGlmIChjaCAhPT0gMHgyRC8qIC0gKi8pIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGZvbGxvd2luZyA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24gKyAxKTtcblxuICAgIGlmICghaXNfV1NfT1JfRU9MKGZvbGxvd2luZykpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGRldGVjdGVkID0gdHJ1ZTtcbiAgICBzdGF0ZS5wb3NpdGlvbisrO1xuXG4gICAgaWYgKHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIC0xKSkge1xuICAgICAgaWYgKHN0YXRlLmxpbmVJbmRlbnQgPD0gbm9kZUluZGVudCkge1xuICAgICAgICBfcmVzdWx0LnB1c2gobnVsbCk7XG4gICAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9saW5lID0gc3RhdGUubGluZTtcbiAgICBjb21wb3NlTm9kZShzdGF0ZSwgbm9kZUluZGVudCwgQ09OVEVYVF9CTE9DS19JTiwgZmFsc2UsIHRydWUpO1xuICAgIF9yZXN1bHQucHVzaChzdGF0ZS5yZXN1bHQpO1xuICAgIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIC0xKTtcblxuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgICBpZiAoKHN0YXRlLmxpbmUgPT09IF9saW5lIHx8IHN0YXRlLmxpbmVJbmRlbnQgPiBub2RlSW5kZW50KSAmJiAoY2ggIT09IDApKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnYmFkIGluZGVudGF0aW9uIG9mIGEgc2VxdWVuY2UgZW50cnknKTtcbiAgICB9IGVsc2UgaWYgKHN0YXRlLmxpbmVJbmRlbnQgPCBub2RlSW5kZW50KSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoZGV0ZWN0ZWQpIHtcbiAgICBzdGF0ZS50YWcgPSBfdGFnO1xuICAgIHN0YXRlLmFuY2hvciA9IF9hbmNob3I7XG4gICAgc3RhdGUua2luZCA9ICdzZXF1ZW5jZSc7XG4gICAgc3RhdGUucmVzdWx0ID0gX3Jlc3VsdDtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHJlYWRCbG9ja01hcHBpbmcoc3RhdGUsIG5vZGVJbmRlbnQsIGZsb3dJbmRlbnQpIHtcbiAgdmFyIGZvbGxvd2luZyxcbiAgICAgIGFsbG93Q29tcGFjdCxcbiAgICAgIF9saW5lLFxuICAgICAgX2tleUxpbmUsXG4gICAgICBfa2V5TGluZVN0YXJ0LFxuICAgICAgX2tleVBvcyxcbiAgICAgIF90YWcgICAgICAgICAgPSBzdGF0ZS50YWcsXG4gICAgICBfYW5jaG9yICAgICAgID0gc3RhdGUuYW5jaG9yLFxuICAgICAgX3Jlc3VsdCAgICAgICA9IHt9LFxuICAgICAgb3ZlcnJpZGFibGVLZXlzID0gT2JqZWN0LmNyZWF0ZShudWxsKSxcbiAgICAgIGtleVRhZyAgICAgICAgPSBudWxsLFxuICAgICAga2V5Tm9kZSAgICAgICA9IG51bGwsXG4gICAgICB2YWx1ZU5vZGUgICAgID0gbnVsbCxcbiAgICAgIGF0RXhwbGljaXRLZXkgPSBmYWxzZSxcbiAgICAgIGRldGVjdGVkICAgICAgPSBmYWxzZSxcbiAgICAgIGNoO1xuXG4gIC8vIHRoZXJlIGlzIGEgbGVhZGluZyB0YWIgYmVmb3JlIHRoaXMgdG9rZW4sIHNvIGl0IGNhbid0IGJlIGEgYmxvY2sgc2VxdWVuY2UvbWFwcGluZztcbiAgLy8gaXQgY2FuIHN0aWxsIGJlIGZsb3cgc2VxdWVuY2UvbWFwcGluZyBvciBhIHNjYWxhclxuICBpZiAoc3RhdGUuZmlyc3RUYWJJbkxpbmUgIT09IC0xKSByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHN0YXRlLmFuY2hvciAhPT0gbnVsbCkge1xuICAgIHN0YXRlLmFuY2hvck1hcFtzdGF0ZS5hbmNob3JdID0gX3Jlc3VsdDtcbiAgfVxuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgd2hpbGUgKGNoICE9PSAwKSB7XG4gICAgaWYgKCFhdEV4cGxpY2l0S2V5ICYmIHN0YXRlLmZpcnN0VGFiSW5MaW5lICE9PSAtMSkge1xuICAgICAgc3RhdGUucG9zaXRpb24gPSBzdGF0ZS5maXJzdFRhYkluTGluZTtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICd0YWIgY2hhcmFjdGVycyBtdXN0IG5vdCBiZSB1c2VkIGluIGluZGVudGF0aW9uJyk7XG4gICAgfVxuXG4gICAgZm9sbG93aW5nID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbiArIDEpO1xuICAgIF9saW5lID0gc3RhdGUubGluZTsgLy8gU2F2ZSB0aGUgY3VycmVudCBsaW5lLlxuXG4gICAgLy9cbiAgICAvLyBFeHBsaWNpdCBub3RhdGlvbiBjYXNlLiBUaGVyZSBhcmUgdHdvIHNlcGFyYXRlIGJsb2NrczpcbiAgICAvLyBmaXJzdCBmb3IgdGhlIGtleSAoZGVub3RlZCBieSBcIj9cIikgYW5kIHNlY29uZCBmb3IgdGhlIHZhbHVlIChkZW5vdGVkIGJ5IFwiOlwiKVxuICAgIC8vXG4gICAgaWYgKChjaCA9PT0gMHgzRi8qID8gKi8gfHwgY2ggPT09IDB4M0EvKiA6ICovKSAmJiBpc19XU19PUl9FT0woZm9sbG93aW5nKSkge1xuXG4gICAgICBpZiAoY2ggPT09IDB4M0YvKiA/ICovKSB7XG4gICAgICAgIGlmIChhdEV4cGxpY2l0S2V5KSB7XG4gICAgICAgICAgc3RvcmVNYXBwaW5nUGFpcihzdGF0ZSwgX3Jlc3VsdCwgb3ZlcnJpZGFibGVLZXlzLCBrZXlUYWcsIGtleU5vZGUsIG51bGwsIF9rZXlMaW5lLCBfa2V5TGluZVN0YXJ0LCBfa2V5UG9zKTtcbiAgICAgICAgICBrZXlUYWcgPSBrZXlOb2RlID0gdmFsdWVOb2RlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGRldGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgYXRFeHBsaWNpdEtleSA9IHRydWU7XG4gICAgICAgIGFsbG93Q29tcGFjdCA9IHRydWU7XG5cbiAgICAgIH0gZWxzZSBpZiAoYXRFeHBsaWNpdEtleSkge1xuICAgICAgICAvLyBpLmUuIDB4M0EvKiA6ICovID09PSBjaGFyYWN0ZXIgYWZ0ZXIgdGhlIGV4cGxpY2l0IGtleS5cbiAgICAgICAgYXRFeHBsaWNpdEtleSA9IGZhbHNlO1xuICAgICAgICBhbGxvd0NvbXBhY3QgPSB0cnVlO1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnaW5jb21wbGV0ZSBleHBsaWNpdCBtYXBwaW5nIHBhaXI7IGEga2V5IG5vZGUgaXMgbWlzc2VkOyBvciBmb2xsb3dlZCBieSBhIG5vbi10YWJ1bGF0ZWQgZW1wdHkgbGluZScpO1xuICAgICAgfVxuXG4gICAgICBzdGF0ZS5wb3NpdGlvbiArPSAxO1xuICAgICAgY2ggPSBmb2xsb3dpbmc7XG5cbiAgICAvL1xuICAgIC8vIEltcGxpY2l0IG5vdGF0aW9uIGNhc2UuIEZsb3ctc3R5bGUgbm9kZSBhcyB0aGUga2V5IGZpcnN0LCB0aGVuIFwiOlwiLCBhbmQgdGhlIHZhbHVlLlxuICAgIC8vXG4gICAgfSBlbHNlIHtcbiAgICAgIF9rZXlMaW5lID0gc3RhdGUubGluZTtcbiAgICAgIF9rZXlMaW5lU3RhcnQgPSBzdGF0ZS5saW5lU3RhcnQ7XG4gICAgICBfa2V5UG9zID0gc3RhdGUucG9zaXRpb247XG5cbiAgICAgIGlmICghY29tcG9zZU5vZGUoc3RhdGUsIGZsb3dJbmRlbnQsIENPTlRFWFRfRkxPV19PVVQsIGZhbHNlLCB0cnVlKSkge1xuICAgICAgICAvLyBOZWl0aGVyIGltcGxpY2l0IG5vciBleHBsaWNpdCBub3RhdGlvbi5cbiAgICAgICAgLy8gUmVhZGluZyBpcyBkb25lLiBHbyB0byB0aGUgZXBpbG9ndWUuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUubGluZSA9PT0gX2xpbmUpIHtcbiAgICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICAgICAgICB3aGlsZSAoaXNfV0hJVEVfU1BBQ0UoY2gpKSB7XG4gICAgICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoID09PSAweDNBLyogOiAqLykge1xuICAgICAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcblxuICAgICAgICAgIGlmICghaXNfV1NfT1JfRU9MKGNoKSkge1xuICAgICAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2Egd2hpdGVzcGFjZSBjaGFyYWN0ZXIgaXMgZXhwZWN0ZWQgYWZ0ZXIgdGhlIGtleS12YWx1ZSBzZXBhcmF0b3Igd2l0aGluIGEgYmxvY2sgbWFwcGluZycpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChhdEV4cGxpY2l0S2V5KSB7XG4gICAgICAgICAgICBzdG9yZU1hcHBpbmdQYWlyKHN0YXRlLCBfcmVzdWx0LCBvdmVycmlkYWJsZUtleXMsIGtleVRhZywga2V5Tm9kZSwgbnVsbCwgX2tleUxpbmUsIF9rZXlMaW5lU3RhcnQsIF9rZXlQb3MpO1xuICAgICAgICAgICAga2V5VGFnID0ga2V5Tm9kZSA9IHZhbHVlTm9kZSA9IG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGV0ZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgIGF0RXhwbGljaXRLZXkgPSBmYWxzZTtcbiAgICAgICAgICBhbGxvd0NvbXBhY3QgPSBmYWxzZTtcbiAgICAgICAgICBrZXlUYWcgPSBzdGF0ZS50YWc7XG4gICAgICAgICAga2V5Tm9kZSA9IHN0YXRlLnJlc3VsdDtcblxuICAgICAgICB9IGVsc2UgaWYgKGRldGVjdGVkKSB7XG4gICAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2NhbiBub3QgcmVhZCBhbiBpbXBsaWNpdCBtYXBwaW5nIHBhaXI7IGEgY29sb24gaXMgbWlzc2VkJyk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdGF0ZS50YWcgPSBfdGFnO1xuICAgICAgICAgIHN0YXRlLmFuY2hvciA9IF9hbmNob3I7XG4gICAgICAgICAgcmV0dXJuIHRydWU7IC8vIEtlZXAgdGhlIHJlc3VsdCBvZiBgY29tcG9zZU5vZGVgLlxuICAgICAgICB9XG5cbiAgICAgIH0gZWxzZSBpZiAoZGV0ZWN0ZWQpIHtcbiAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2NhbiBub3QgcmVhZCBhIGJsb2NrIG1hcHBpbmcgZW50cnk7IGEgbXVsdGlsaW5lIGtleSBtYXkgbm90IGJlIGFuIGltcGxpY2l0IGtleScpO1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS50YWcgPSBfdGFnO1xuICAgICAgICBzdGF0ZS5hbmNob3IgPSBfYW5jaG9yO1xuICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gS2VlcCB0aGUgcmVzdWx0IG9mIGBjb21wb3NlTm9kZWAuXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBDb21tb24gcmVhZGluZyBjb2RlIGZvciBib3RoIGV4cGxpY2l0IGFuZCBpbXBsaWNpdCBub3RhdGlvbnMuXG4gICAgLy9cbiAgICBpZiAoc3RhdGUubGluZSA9PT0gX2xpbmUgfHwgc3RhdGUubGluZUluZGVudCA+IG5vZGVJbmRlbnQpIHtcbiAgICAgIGlmIChhdEV4cGxpY2l0S2V5KSB7XG4gICAgICAgIF9rZXlMaW5lID0gc3RhdGUubGluZTtcbiAgICAgICAgX2tleUxpbmVTdGFydCA9IHN0YXRlLmxpbmVTdGFydDtcbiAgICAgICAgX2tleVBvcyA9IHN0YXRlLnBvc2l0aW9uO1xuICAgICAgfVxuXG4gICAgICBpZiAoY29tcG9zZU5vZGUoc3RhdGUsIG5vZGVJbmRlbnQsIENPTlRFWFRfQkxPQ0tfT1VULCB0cnVlLCBhbGxvd0NvbXBhY3QpKSB7XG4gICAgICAgIGlmIChhdEV4cGxpY2l0S2V5KSB7XG4gICAgICAgICAga2V5Tm9kZSA9IHN0YXRlLnJlc3VsdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZU5vZGUgPSBzdGF0ZS5yZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFhdEV4cGxpY2l0S2V5KSB7XG4gICAgICAgIHN0b3JlTWFwcGluZ1BhaXIoc3RhdGUsIF9yZXN1bHQsIG92ZXJyaWRhYmxlS2V5cywga2V5VGFnLCBrZXlOb2RlLCB2YWx1ZU5vZGUsIF9rZXlMaW5lLCBfa2V5TGluZVN0YXJ0LCBfa2V5UG9zKTtcbiAgICAgICAga2V5VGFnID0ga2V5Tm9kZSA9IHZhbHVlTm9kZSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIC0xKTtcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG4gICAgfVxuXG4gICAgaWYgKChzdGF0ZS5saW5lID09PSBfbGluZSB8fCBzdGF0ZS5saW5lSW5kZW50ID4gbm9kZUluZGVudCkgJiYgKGNoICE9PSAwKSkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2JhZCBpbmRlbnRhdGlvbiBvZiBhIG1hcHBpbmcgZW50cnknKTtcbiAgICB9IGVsc2UgaWYgKHN0YXRlLmxpbmVJbmRlbnQgPCBub2RlSW5kZW50KSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICAvL1xuICAvLyBFcGlsb2d1ZS5cbiAgLy9cblxuICAvLyBTcGVjaWFsIGNhc2U6IGxhc3QgbWFwcGluZydzIG5vZGUgY29udGFpbnMgb25seSB0aGUga2V5IGluIGV4cGxpY2l0IG5vdGF0aW9uLlxuICBpZiAoYXRFeHBsaWNpdEtleSkge1xuICAgIHN0b3JlTWFwcGluZ1BhaXIoc3RhdGUsIF9yZXN1bHQsIG92ZXJyaWRhYmxlS2V5cywga2V5VGFnLCBrZXlOb2RlLCBudWxsLCBfa2V5TGluZSwgX2tleUxpbmVTdGFydCwgX2tleVBvcyk7XG4gIH1cblxuICAvLyBFeHBvc2UgdGhlIHJlc3VsdGluZyBtYXBwaW5nLlxuICBpZiAoZGV0ZWN0ZWQpIHtcbiAgICBzdGF0ZS50YWcgPSBfdGFnO1xuICAgIHN0YXRlLmFuY2hvciA9IF9hbmNob3I7XG4gICAgc3RhdGUua2luZCA9ICdtYXBwaW5nJztcbiAgICBzdGF0ZS5yZXN1bHQgPSBfcmVzdWx0O1xuICB9XG5cbiAgcmV0dXJuIGRldGVjdGVkO1xufVxuXG5mdW5jdGlvbiByZWFkVGFnUHJvcGVydHkoc3RhdGUpIHtcbiAgdmFyIF9wb3NpdGlvbixcbiAgICAgIGlzVmVyYmF0aW0gPSBmYWxzZSxcbiAgICAgIGlzTmFtZWQgICAgPSBmYWxzZSxcbiAgICAgIHRhZ0hhbmRsZSxcbiAgICAgIHRhZ05hbWUsXG4gICAgICBjaDtcblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pO1xuXG4gIGlmIChjaCAhPT0gMHgyMS8qICEgKi8pIHJldHVybiBmYWxzZTtcblxuICBpZiAoc3RhdGUudGFnICE9PSBudWxsKSB7XG4gICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2R1cGxpY2F0aW9uIG9mIGEgdGFnIHByb3BlcnR5Jyk7XG4gIH1cblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG5cbiAgaWYgKGNoID09PSAweDNDLyogPCAqLykge1xuICAgIGlzVmVyYmF0aW0gPSB0cnVlO1xuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcblxuICB9IGVsc2UgaWYgKGNoID09PSAweDIxLyogISAqLykge1xuICAgIGlzTmFtZWQgPSB0cnVlO1xuICAgIHRhZ0hhbmRsZSA9ICchISc7XG4gICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuXG4gIH0gZWxzZSB7XG4gICAgdGFnSGFuZGxlID0gJyEnO1xuICB9XG5cbiAgX3Bvc2l0aW9uID0gc3RhdGUucG9zaXRpb247XG5cbiAgaWYgKGlzVmVyYmF0aW0pIHtcbiAgICBkbyB7IGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTsgfVxuICAgIHdoaWxlIChjaCAhPT0gMCAmJiBjaCAhPT0gMHgzRS8qID4gKi8pO1xuXG4gICAgaWYgKHN0YXRlLnBvc2l0aW9uIDwgc3RhdGUubGVuZ3RoKSB7XG4gICAgICB0YWdOYW1lID0gc3RhdGUuaW5wdXQuc2xpY2UoX3Bvc2l0aW9uLCBzdGF0ZS5wb3NpdGlvbik7XG4gICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICd1bmV4cGVjdGVkIGVuZCBvZiB0aGUgc3RyZWFtIHdpdGhpbiBhIHZlcmJhdGltIHRhZycpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoY2ggIT09IDAgJiYgIWlzX1dTX09SX0VPTChjaCkpIHtcblxuICAgICAgaWYgKGNoID09PSAweDIxLyogISAqLykge1xuICAgICAgICBpZiAoIWlzTmFtZWQpIHtcbiAgICAgICAgICB0YWdIYW5kbGUgPSBzdGF0ZS5pbnB1dC5zbGljZShfcG9zaXRpb24gLSAxLCBzdGF0ZS5wb3NpdGlvbiArIDEpO1xuXG4gICAgICAgICAgaWYgKCFQQVRURVJOX1RBR19IQU5ETEUudGVzdCh0YWdIYW5kbGUpKSB7XG4gICAgICAgICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnbmFtZWQgdGFnIGhhbmRsZSBjYW5ub3QgY29udGFpbiBzdWNoIGNoYXJhY3RlcnMnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpc05hbWVkID0gdHJ1ZTtcbiAgICAgICAgICBfcG9zaXRpb24gPSBzdGF0ZS5wb3NpdGlvbiArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3RhZyBzdWZmaXggY2Fubm90IGNvbnRhaW4gZXhjbGFtYXRpb24gbWFya3MnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgfVxuXG4gICAgdGFnTmFtZSA9IHN0YXRlLmlucHV0LnNsaWNlKF9wb3NpdGlvbiwgc3RhdGUucG9zaXRpb24pO1xuXG4gICAgaWYgKFBBVFRFUk5fRkxPV19JTkRJQ0FUT1JTLnRlc3QodGFnTmFtZSkpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICd0YWcgc3VmZml4IGNhbm5vdCBjb250YWluIGZsb3cgaW5kaWNhdG9yIGNoYXJhY3RlcnMnKTtcbiAgICB9XG4gIH1cblxuICBpZiAodGFnTmFtZSAmJiAhUEFUVEVSTl9UQUdfVVJJLnRlc3QodGFnTmFtZSkpIHtcbiAgICB0aHJvd0Vycm9yKHN0YXRlLCAndGFnIG5hbWUgY2Fubm90IGNvbnRhaW4gc3VjaCBjaGFyYWN0ZXJzOiAnICsgdGFnTmFtZSk7XG4gIH1cblxuICB0cnkge1xuICAgIHRhZ05hbWUgPSBkZWNvZGVVUklDb21wb25lbnQodGFnTmFtZSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHRocm93RXJyb3Ioc3RhdGUsICd0YWcgbmFtZSBpcyBtYWxmb3JtZWQ6ICcgKyB0YWdOYW1lKTtcbiAgfVxuXG4gIGlmIChpc1ZlcmJhdGltKSB7XG4gICAgc3RhdGUudGFnID0gdGFnTmFtZTtcblxuICB9IGVsc2UgaWYgKF9oYXNPd25Qcm9wZXJ0eSQxLmNhbGwoc3RhdGUudGFnTWFwLCB0YWdIYW5kbGUpKSB7XG4gICAgc3RhdGUudGFnID0gc3RhdGUudGFnTWFwW3RhZ0hhbmRsZV0gKyB0YWdOYW1lO1xuXG4gIH0gZWxzZSBpZiAodGFnSGFuZGxlID09PSAnIScpIHtcbiAgICBzdGF0ZS50YWcgPSAnIScgKyB0YWdOYW1lO1xuXG4gIH0gZWxzZSBpZiAodGFnSGFuZGxlID09PSAnISEnKSB7XG4gICAgc3RhdGUudGFnID0gJ3RhZzp5YW1sLm9yZywyMDAyOicgKyB0YWdOYW1lO1xuXG4gIH0gZWxzZSB7XG4gICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3VuZGVjbGFyZWQgdGFnIGhhbmRsZSBcIicgKyB0YWdIYW5kbGUgKyAnXCInKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiByZWFkQW5jaG9yUHJvcGVydHkoc3RhdGUpIHtcbiAgdmFyIF9wb3NpdGlvbixcbiAgICAgIGNoO1xuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgaWYgKGNoICE9PSAweDI2LyogJiAqLykgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChzdGF0ZS5hbmNob3IgIT09IG51bGwpIHtcbiAgICB0aHJvd0Vycm9yKHN0YXRlLCAnZHVwbGljYXRpb24gb2YgYW4gYW5jaG9yIHByb3BlcnR5Jyk7XG4gIH1cblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gIF9wb3NpdGlvbiA9IHN0YXRlLnBvc2l0aW9uO1xuXG4gIHdoaWxlIChjaCAhPT0gMCAmJiAhaXNfV1NfT1JfRU9MKGNoKSAmJiAhaXNfRkxPV19JTkRJQ0FUT1IoY2gpKSB7XG4gICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuICB9XG5cbiAgaWYgKHN0YXRlLnBvc2l0aW9uID09PSBfcG9zaXRpb24pIHtcbiAgICB0aHJvd0Vycm9yKHN0YXRlLCAnbmFtZSBvZiBhbiBhbmNob3Igbm9kZSBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIGNoYXJhY3RlcicpO1xuICB9XG5cbiAgc3RhdGUuYW5jaG9yID0gc3RhdGUuaW5wdXQuc2xpY2UoX3Bvc2l0aW9uLCBzdGF0ZS5wb3NpdGlvbik7XG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiByZWFkQWxpYXMoc3RhdGUpIHtcbiAgdmFyIF9wb3NpdGlvbiwgYWxpYXMsXG4gICAgICBjaDtcblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pO1xuXG4gIGlmIChjaCAhPT0gMHgyQS8qICogKi8pIHJldHVybiBmYWxzZTtcblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gIF9wb3NpdGlvbiA9IHN0YXRlLnBvc2l0aW9uO1xuXG4gIHdoaWxlIChjaCAhPT0gMCAmJiAhaXNfV1NfT1JfRU9MKGNoKSAmJiAhaXNfRkxPV19JTkRJQ0FUT1IoY2gpKSB7XG4gICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuICB9XG5cbiAgaWYgKHN0YXRlLnBvc2l0aW9uID09PSBfcG9zaXRpb24pIHtcbiAgICB0aHJvd0Vycm9yKHN0YXRlLCAnbmFtZSBvZiBhbiBhbGlhcyBub2RlIG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgY2hhcmFjdGVyJyk7XG4gIH1cblxuICBhbGlhcyA9IHN0YXRlLmlucHV0LnNsaWNlKF9wb3NpdGlvbiwgc3RhdGUucG9zaXRpb24pO1xuXG4gIGlmICghX2hhc093blByb3BlcnR5JDEuY2FsbChzdGF0ZS5hbmNob3JNYXAsIGFsaWFzKSkge1xuICAgIHRocm93RXJyb3Ioc3RhdGUsICd1bmlkZW50aWZpZWQgYWxpYXMgXCInICsgYWxpYXMgKyAnXCInKTtcbiAgfVxuXG4gIHN0YXRlLnJlc3VsdCA9IHN0YXRlLmFuY2hvck1hcFthbGlhc107XG4gIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIC0xKTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGNvbXBvc2VOb2RlKHN0YXRlLCBwYXJlbnRJbmRlbnQsIG5vZGVDb250ZXh0LCBhbGxvd1RvU2VlaywgYWxsb3dDb21wYWN0KSB7XG4gIHZhciBhbGxvd0Jsb2NrU3R5bGVzLFxuICAgICAgYWxsb3dCbG9ja1NjYWxhcnMsXG4gICAgICBhbGxvd0Jsb2NrQ29sbGVjdGlvbnMsXG4gICAgICBpbmRlbnRTdGF0dXMgPSAxLCAvLyAxOiB0aGlzPnBhcmVudCwgMDogdGhpcz1wYXJlbnQsIC0xOiB0aGlzPHBhcmVudFxuICAgICAgYXROZXdMaW5lICA9IGZhbHNlLFxuICAgICAgaGFzQ29udGVudCA9IGZhbHNlLFxuICAgICAgdHlwZUluZGV4LFxuICAgICAgdHlwZVF1YW50aXR5LFxuICAgICAgdHlwZUxpc3QsXG4gICAgICB0eXBlLFxuICAgICAgZmxvd0luZGVudCxcbiAgICAgIGJsb2NrSW5kZW50O1xuXG4gIGlmIChzdGF0ZS5saXN0ZW5lciAhPT0gbnVsbCkge1xuICAgIHN0YXRlLmxpc3RlbmVyKCdvcGVuJywgc3RhdGUpO1xuICB9XG5cbiAgc3RhdGUudGFnICAgID0gbnVsbDtcbiAgc3RhdGUuYW5jaG9yID0gbnVsbDtcbiAgc3RhdGUua2luZCAgID0gbnVsbDtcbiAgc3RhdGUucmVzdWx0ID0gbnVsbDtcblxuICBhbGxvd0Jsb2NrU3R5bGVzID0gYWxsb3dCbG9ja1NjYWxhcnMgPSBhbGxvd0Jsb2NrQ29sbGVjdGlvbnMgPVxuICAgIENPTlRFWFRfQkxPQ0tfT1VUID09PSBub2RlQ29udGV4dCB8fFxuICAgIENPTlRFWFRfQkxPQ0tfSU4gID09PSBub2RlQ29udGV4dDtcblxuICBpZiAoYWxsb3dUb1NlZWspIHtcbiAgICBpZiAoc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgLTEpKSB7XG4gICAgICBhdE5ld0xpbmUgPSB0cnVlO1xuXG4gICAgICBpZiAoc3RhdGUubGluZUluZGVudCA+IHBhcmVudEluZGVudCkge1xuICAgICAgICBpbmRlbnRTdGF0dXMgPSAxO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZS5saW5lSW5kZW50ID09PSBwYXJlbnRJbmRlbnQpIHtcbiAgICAgICAgaW5kZW50U3RhdHVzID0gMDtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUubGluZUluZGVudCA8IHBhcmVudEluZGVudCkge1xuICAgICAgICBpbmRlbnRTdGF0dXMgPSAtMTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoaW5kZW50U3RhdHVzID09PSAxKSB7XG4gICAgd2hpbGUgKHJlYWRUYWdQcm9wZXJ0eShzdGF0ZSkgfHwgcmVhZEFuY2hvclByb3BlcnR5KHN0YXRlKSkge1xuICAgICAgaWYgKHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIC0xKSkge1xuICAgICAgICBhdE5ld0xpbmUgPSB0cnVlO1xuICAgICAgICBhbGxvd0Jsb2NrQ29sbGVjdGlvbnMgPSBhbGxvd0Jsb2NrU3R5bGVzO1xuXG4gICAgICAgIGlmIChzdGF0ZS5saW5lSW5kZW50ID4gcGFyZW50SW5kZW50KSB7XG4gICAgICAgICAgaW5kZW50U3RhdHVzID0gMTtcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZS5saW5lSW5kZW50ID09PSBwYXJlbnRJbmRlbnQpIHtcbiAgICAgICAgICBpbmRlbnRTdGF0dXMgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLmxpbmVJbmRlbnQgPCBwYXJlbnRJbmRlbnQpIHtcbiAgICAgICAgICBpbmRlbnRTdGF0dXMgPSAtMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWxsb3dCbG9ja0NvbGxlY3Rpb25zID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGFsbG93QmxvY2tDb2xsZWN0aW9ucykge1xuICAgIGFsbG93QmxvY2tDb2xsZWN0aW9ucyA9IGF0TmV3TGluZSB8fCBhbGxvd0NvbXBhY3Q7XG4gIH1cblxuICBpZiAoaW5kZW50U3RhdHVzID09PSAxIHx8IENPTlRFWFRfQkxPQ0tfT1VUID09PSBub2RlQ29udGV4dCkge1xuICAgIGlmIChDT05URVhUX0ZMT1dfSU4gPT09IG5vZGVDb250ZXh0IHx8IENPTlRFWFRfRkxPV19PVVQgPT09IG5vZGVDb250ZXh0KSB7XG4gICAgICBmbG93SW5kZW50ID0gcGFyZW50SW5kZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBmbG93SW5kZW50ID0gcGFyZW50SW5kZW50ICsgMTtcbiAgICB9XG5cbiAgICBibG9ja0luZGVudCA9IHN0YXRlLnBvc2l0aW9uIC0gc3RhdGUubGluZVN0YXJ0O1xuXG4gICAgaWYgKGluZGVudFN0YXR1cyA9PT0gMSkge1xuICAgICAgaWYgKGFsbG93QmxvY2tDb2xsZWN0aW9ucyAmJlxuICAgICAgICAgIChyZWFkQmxvY2tTZXF1ZW5jZShzdGF0ZSwgYmxvY2tJbmRlbnQpIHx8XG4gICAgICAgICAgIHJlYWRCbG9ja01hcHBpbmcoc3RhdGUsIGJsb2NrSW5kZW50LCBmbG93SW5kZW50KSkgfHxcbiAgICAgICAgICByZWFkRmxvd0NvbGxlY3Rpb24oc3RhdGUsIGZsb3dJbmRlbnQpKSB7XG4gICAgICAgIGhhc0NvbnRlbnQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKChhbGxvd0Jsb2NrU2NhbGFycyAmJiByZWFkQmxvY2tTY2FsYXIoc3RhdGUsIGZsb3dJbmRlbnQpKSB8fFxuICAgICAgICAgICAgcmVhZFNpbmdsZVF1b3RlZFNjYWxhcihzdGF0ZSwgZmxvd0luZGVudCkgfHxcbiAgICAgICAgICAgIHJlYWREb3VibGVRdW90ZWRTY2FsYXIoc3RhdGUsIGZsb3dJbmRlbnQpKSB7XG4gICAgICAgICAgaGFzQ29udGVudCA9IHRydWU7XG5cbiAgICAgICAgfSBlbHNlIGlmIChyZWFkQWxpYXMoc3RhdGUpKSB7XG4gICAgICAgICAgaGFzQ29udGVudCA9IHRydWU7XG5cbiAgICAgICAgICBpZiAoc3RhdGUudGFnICE9PSBudWxsIHx8IHN0YXRlLmFuY2hvciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2FsaWFzIG5vZGUgc2hvdWxkIG5vdCBoYXZlIGFueSBwcm9wZXJ0aWVzJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSBpZiAocmVhZFBsYWluU2NhbGFyKHN0YXRlLCBmbG93SW5kZW50LCBDT05URVhUX0ZMT1dfSU4gPT09IG5vZGVDb250ZXh0KSkge1xuICAgICAgICAgIGhhc0NvbnRlbnQgPSB0cnVlO1xuXG4gICAgICAgICAgaWYgKHN0YXRlLnRhZyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgc3RhdGUudGFnID0gJz8nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0ZS5hbmNob3IgIT09IG51bGwpIHtcbiAgICAgICAgICBzdGF0ZS5hbmNob3JNYXBbc3RhdGUuYW5jaG9yXSA9IHN0YXRlLnJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaW5kZW50U3RhdHVzID09PSAwKSB7XG4gICAgICAvLyBTcGVjaWFsIGNhc2U6IGJsb2NrIHNlcXVlbmNlcyBhcmUgYWxsb3dlZCB0byBoYXZlIHNhbWUgaW5kZW50YXRpb24gbGV2ZWwgYXMgdGhlIHBhcmVudC5cbiAgICAgIC8vIGh0dHA6Ly93d3cueWFtbC5vcmcvc3BlYy8xLjIvc3BlYy5odG1sI2lkMjc5OTc4NFxuICAgICAgaGFzQ29udGVudCA9IGFsbG93QmxvY2tDb2xsZWN0aW9ucyAmJiByZWFkQmxvY2tTZXF1ZW5jZShzdGF0ZSwgYmxvY2tJbmRlbnQpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChzdGF0ZS50YWcgPT09IG51bGwpIHtcbiAgICBpZiAoc3RhdGUuYW5jaG9yICE9PSBudWxsKSB7XG4gICAgICBzdGF0ZS5hbmNob3JNYXBbc3RhdGUuYW5jaG9yXSA9IHN0YXRlLnJlc3VsdDtcbiAgICB9XG5cbiAgfSBlbHNlIGlmIChzdGF0ZS50YWcgPT09ICc/Jykge1xuICAgIC8vIEltcGxpY2l0IHJlc29sdmluZyBpcyBub3QgYWxsb3dlZCBmb3Igbm9uLXNjYWxhciB0eXBlcywgYW5kICc/J1xuICAgIC8vIG5vbi1zcGVjaWZpYyB0YWcgaXMgb25seSBhdXRvbWF0aWNhbGx5IGFzc2lnbmVkIHRvIHBsYWluIHNjYWxhcnMuXG4gICAgLy9cbiAgICAvLyBXZSBvbmx5IG5lZWQgdG8gY2hlY2sga2luZCBjb25mb3JtaXR5IGluIGNhc2UgdXNlciBleHBsaWNpdGx5IGFzc2lnbnMgJz8nXG4gICAgLy8gdGFnLCBmb3IgZXhhbXBsZSBsaWtlIHRoaXM6IFwiITw/PiBbMF1cIlxuICAgIC8vXG4gICAgaWYgKHN0YXRlLnJlc3VsdCAhPT0gbnVsbCAmJiBzdGF0ZS5raW5kICE9PSAnc2NhbGFyJykge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3VuYWNjZXB0YWJsZSBub2RlIGtpbmQgZm9yICE8Pz4gdGFnOyBpdCBzaG91bGQgYmUgXCJzY2FsYXJcIiwgbm90IFwiJyArIHN0YXRlLmtpbmQgKyAnXCInKTtcbiAgICB9XG5cbiAgICBmb3IgKHR5cGVJbmRleCA9IDAsIHR5cGVRdWFudGl0eSA9IHN0YXRlLmltcGxpY2l0VHlwZXMubGVuZ3RoOyB0eXBlSW5kZXggPCB0eXBlUXVhbnRpdHk7IHR5cGVJbmRleCArPSAxKSB7XG4gICAgICB0eXBlID0gc3RhdGUuaW1wbGljaXRUeXBlc1t0eXBlSW5kZXhdO1xuXG4gICAgICBpZiAodHlwZS5yZXNvbHZlKHN0YXRlLnJlc3VsdCkpIHsgLy8gYHN0YXRlLnJlc3VsdGAgdXBkYXRlZCBpbiByZXNvbHZlciBpZiBtYXRjaGVkXG4gICAgICAgIHN0YXRlLnJlc3VsdCA9IHR5cGUuY29uc3RydWN0KHN0YXRlLnJlc3VsdCk7XG4gICAgICAgIHN0YXRlLnRhZyA9IHR5cGUudGFnO1xuICAgICAgICBpZiAoc3RhdGUuYW5jaG9yICE9PSBudWxsKSB7XG4gICAgICAgICAgc3RhdGUuYW5jaG9yTWFwW3N0YXRlLmFuY2hvcl0gPSBzdGF0ZS5yZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKHN0YXRlLnRhZyAhPT0gJyEnKSB7XG4gICAgaWYgKF9oYXNPd25Qcm9wZXJ0eSQxLmNhbGwoc3RhdGUudHlwZU1hcFtzdGF0ZS5raW5kIHx8ICdmYWxsYmFjayddLCBzdGF0ZS50YWcpKSB7XG4gICAgICB0eXBlID0gc3RhdGUudHlwZU1hcFtzdGF0ZS5raW5kIHx8ICdmYWxsYmFjayddW3N0YXRlLnRhZ107XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGxvb2tpbmcgZm9yIG11bHRpIHR5cGVcbiAgICAgIHR5cGUgPSBudWxsO1xuICAgICAgdHlwZUxpc3QgPSBzdGF0ZS50eXBlTWFwLm11bHRpW3N0YXRlLmtpbmQgfHwgJ2ZhbGxiYWNrJ107XG5cbiAgICAgIGZvciAodHlwZUluZGV4ID0gMCwgdHlwZVF1YW50aXR5ID0gdHlwZUxpc3QubGVuZ3RoOyB0eXBlSW5kZXggPCB0eXBlUXVhbnRpdHk7IHR5cGVJbmRleCArPSAxKSB7XG4gICAgICAgIGlmIChzdGF0ZS50YWcuc2xpY2UoMCwgdHlwZUxpc3RbdHlwZUluZGV4XS50YWcubGVuZ3RoKSA9PT0gdHlwZUxpc3RbdHlwZUluZGV4XS50YWcpIHtcbiAgICAgICAgICB0eXBlID0gdHlwZUxpc3RbdHlwZUluZGV4XTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghdHlwZSkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3Vua25vd24gdGFnICE8JyArIHN0YXRlLnRhZyArICc+Jyk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXRlLnJlc3VsdCAhPT0gbnVsbCAmJiB0eXBlLmtpbmQgIT09IHN0YXRlLmtpbmQpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICd1bmFjY2VwdGFibGUgbm9kZSBraW5kIGZvciAhPCcgKyBzdGF0ZS50YWcgKyAnPiB0YWc7IGl0IHNob3VsZCBiZSBcIicgKyB0eXBlLmtpbmQgKyAnXCIsIG5vdCBcIicgKyBzdGF0ZS5raW5kICsgJ1wiJyk7XG4gICAgfVxuXG4gICAgaWYgKCF0eXBlLnJlc29sdmUoc3RhdGUucmVzdWx0LCBzdGF0ZS50YWcpKSB7IC8vIGBzdGF0ZS5yZXN1bHRgIHVwZGF0ZWQgaW4gcmVzb2x2ZXIgaWYgbWF0Y2hlZFxuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2Nhbm5vdCByZXNvbHZlIGEgbm9kZSB3aXRoICE8JyArIHN0YXRlLnRhZyArICc+IGV4cGxpY2l0IHRhZycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5yZXN1bHQgPSB0eXBlLmNvbnN0cnVjdChzdGF0ZS5yZXN1bHQsIHN0YXRlLnRhZyk7XG4gICAgICBpZiAoc3RhdGUuYW5jaG9yICE9PSBudWxsKSB7XG4gICAgICAgIHN0YXRlLmFuY2hvck1hcFtzdGF0ZS5hbmNob3JdID0gc3RhdGUucmVzdWx0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChzdGF0ZS5saXN0ZW5lciAhPT0gbnVsbCkge1xuICAgIHN0YXRlLmxpc3RlbmVyKCdjbG9zZScsIHN0YXRlKTtcbiAgfVxuICByZXR1cm4gc3RhdGUudGFnICE9PSBudWxsIHx8ICBzdGF0ZS5hbmNob3IgIT09IG51bGwgfHwgaGFzQ29udGVudDtcbn1cblxuZnVuY3Rpb24gcmVhZERvY3VtZW50KHN0YXRlKSB7XG4gIHZhciBkb2N1bWVudFN0YXJ0ID0gc3RhdGUucG9zaXRpb24sXG4gICAgICBfcG9zaXRpb24sXG4gICAgICBkaXJlY3RpdmVOYW1lLFxuICAgICAgZGlyZWN0aXZlQXJncyxcbiAgICAgIGhhc0RpcmVjdGl2ZXMgPSBmYWxzZSxcbiAgICAgIGNoO1xuXG4gIHN0YXRlLnZlcnNpb24gPSBudWxsO1xuICBzdGF0ZS5jaGVja0xpbmVCcmVha3MgPSBzdGF0ZS5sZWdhY3k7XG4gIHN0YXRlLnRhZ01hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHN0YXRlLmFuY2hvck1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgd2hpbGUgKChjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pKSAhPT0gMCkge1xuICAgIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIC0xKTtcblxuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgICBpZiAoc3RhdGUubGluZUluZGVudCA+IDAgfHwgY2ggIT09IDB4MjUvKiAlICovKSB7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICBoYXNEaXJlY3RpdmVzID0gdHJ1ZTtcbiAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgX3Bvc2l0aW9uID0gc3RhdGUucG9zaXRpb247XG5cbiAgICB3aGlsZSAoY2ggIT09IDAgJiYgIWlzX1dTX09SX0VPTChjaCkpIHtcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICBkaXJlY3RpdmVOYW1lID0gc3RhdGUuaW5wdXQuc2xpY2UoX3Bvc2l0aW9uLCBzdGF0ZS5wb3NpdGlvbik7XG4gICAgZGlyZWN0aXZlQXJncyA9IFtdO1xuXG4gICAgaWYgKGRpcmVjdGl2ZU5hbWUubGVuZ3RoIDwgMSkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2RpcmVjdGl2ZSBuYW1lIG11c3Qgbm90IGJlIGxlc3MgdGhhbiBvbmUgY2hhcmFjdGVyIGluIGxlbmd0aCcpO1xuICAgIH1cblxuICAgIHdoaWxlIChjaCAhPT0gMCkge1xuICAgICAgd2hpbGUgKGlzX1dISVRFX1NQQUNFKGNoKSkge1xuICAgICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgICB9XG5cbiAgICAgIGlmIChjaCA9PT0gMHgyMy8qICMgKi8pIHtcbiAgICAgICAgZG8geyBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7IH1cbiAgICAgICAgd2hpbGUgKGNoICE9PSAwICYmICFpc19FT0woY2gpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc19FT0woY2gpKSBicmVhaztcblxuICAgICAgX3Bvc2l0aW9uID0gc3RhdGUucG9zaXRpb247XG5cbiAgICAgIHdoaWxlIChjaCAhPT0gMCAmJiAhaXNfV1NfT1JfRU9MKGNoKSkge1xuICAgICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgICB9XG5cbiAgICAgIGRpcmVjdGl2ZUFyZ3MucHVzaChzdGF0ZS5pbnB1dC5zbGljZShfcG9zaXRpb24sIHN0YXRlLnBvc2l0aW9uKSk7XG4gICAgfVxuXG4gICAgaWYgKGNoICE9PSAwKSByZWFkTGluZUJyZWFrKHN0YXRlKTtcblxuICAgIGlmIChfaGFzT3duUHJvcGVydHkkMS5jYWxsKGRpcmVjdGl2ZUhhbmRsZXJzLCBkaXJlY3RpdmVOYW1lKSkge1xuICAgICAgZGlyZWN0aXZlSGFuZGxlcnNbZGlyZWN0aXZlTmFtZV0oc3RhdGUsIGRpcmVjdGl2ZU5hbWUsIGRpcmVjdGl2ZUFyZ3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvd1dhcm5pbmcoc3RhdGUsICd1bmtub3duIGRvY3VtZW50IGRpcmVjdGl2ZSBcIicgKyBkaXJlY3RpdmVOYW1lICsgJ1wiJyk7XG4gICAgfVxuICB9XG5cbiAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgLTEpO1xuXG4gIGlmIChzdGF0ZS5saW5lSW5kZW50ID09PSAwICYmXG4gICAgICBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKSAgICAgPT09IDB4MkQvKiAtICovICYmXG4gICAgICBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uICsgMSkgPT09IDB4MkQvKiAtICovICYmXG4gICAgICBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uICsgMikgPT09IDB4MkQvKiAtICovKSB7XG4gICAgc3RhdGUucG9zaXRpb24gKz0gMztcbiAgICBza2lwU2VwYXJhdGlvblNwYWNlKHN0YXRlLCB0cnVlLCAtMSk7XG5cbiAgfSBlbHNlIGlmIChoYXNEaXJlY3RpdmVzKSB7XG4gICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2RpcmVjdGl2ZXMgZW5kIG1hcmsgaXMgZXhwZWN0ZWQnKTtcbiAgfVxuXG4gIGNvbXBvc2VOb2RlKHN0YXRlLCBzdGF0ZS5saW5lSW5kZW50IC0gMSwgQ09OVEVYVF9CTE9DS19PVVQsIGZhbHNlLCB0cnVlKTtcbiAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgLTEpO1xuXG4gIGlmIChzdGF0ZS5jaGVja0xpbmVCcmVha3MgJiZcbiAgICAgIFBBVFRFUk5fTk9OX0FTQ0lJX0xJTkVfQlJFQUtTLnRlc3Qoc3RhdGUuaW5wdXQuc2xpY2UoZG9jdW1lbnRTdGFydCwgc3RhdGUucG9zaXRpb24pKSkge1xuICAgIHRocm93V2FybmluZyhzdGF0ZSwgJ25vbi1BU0NJSSBsaW5lIGJyZWFrcyBhcmUgaW50ZXJwcmV0ZWQgYXMgY29udGVudCcpO1xuICB9XG5cbiAgc3RhdGUuZG9jdW1lbnRzLnB1c2goc3RhdGUucmVzdWx0KTtcblxuICBpZiAoc3RhdGUucG9zaXRpb24gPT09IHN0YXRlLmxpbmVTdGFydCAmJiB0ZXN0RG9jdW1lbnRTZXBhcmF0b3Ioc3RhdGUpKSB7XG5cbiAgICBpZiAoc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbikgPT09IDB4MkUvKiAuICovKSB7XG4gICAgICBzdGF0ZS5wb3NpdGlvbiArPSAzO1xuICAgICAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgLTEpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoc3RhdGUucG9zaXRpb24gPCAoc3RhdGUubGVuZ3RoIC0gMSkpIHtcbiAgICB0aHJvd0Vycm9yKHN0YXRlLCAnZW5kIG9mIHRoZSBzdHJlYW0gb3IgYSBkb2N1bWVudCBzZXBhcmF0b3IgaXMgZXhwZWN0ZWQnKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm47XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBsb2FkRG9jdW1lbnRzKGlucHV0LCBvcHRpb25zKSB7XG4gIGlucHV0ID0gU3RyaW5nKGlucHV0KTtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgaWYgKGlucHV0Lmxlbmd0aCAhPT0gMCkge1xuXG4gICAgLy8gQWRkIHRhaWxpbmcgYFxcbmAgaWYgbm90IGV4aXN0c1xuICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KGlucHV0Lmxlbmd0aCAtIDEpICE9PSAweDBBLyogTEYgKi8gJiZcbiAgICAgICAgaW5wdXQuY2hhckNvZGVBdChpbnB1dC5sZW5ndGggLSAxKSAhPT0gMHgwRC8qIENSICovKSB7XG4gICAgICBpbnB1dCArPSAnXFxuJztcbiAgICB9XG5cbiAgICAvLyBTdHJpcCBCT01cbiAgICBpZiAoaW5wdXQuY2hhckNvZGVBdCgwKSA9PT0gMHhGRUZGKSB7XG4gICAgICBpbnB1dCA9IGlucHV0LnNsaWNlKDEpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBzdGF0ZSA9IG5ldyBTdGF0ZSQxKGlucHV0LCBvcHRpb25zKTtcblxuICB2YXIgbnVsbHBvcyA9IGlucHV0LmluZGV4T2YoJ1xcMCcpO1xuXG4gIGlmIChudWxscG9zICE9PSAtMSkge1xuICAgIHN0YXRlLnBvc2l0aW9uID0gbnVsbHBvcztcbiAgICB0aHJvd0Vycm9yKHN0YXRlLCAnbnVsbCBieXRlIGlzIG5vdCBhbGxvd2VkIGluIGlucHV0Jyk7XG4gIH1cblxuICAvLyBVc2UgMCBhcyBzdHJpbmcgdGVybWluYXRvci4gVGhhdCBzaWduaWZpY2FudGx5IHNpbXBsaWZpZXMgYm91bmRzIGNoZWNrLlxuICBzdGF0ZS5pbnB1dCArPSAnXFwwJztcblxuICB3aGlsZSAoc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbikgPT09IDB4MjAvKiBTcGFjZSAqLykge1xuICAgIHN0YXRlLmxpbmVJbmRlbnQgKz0gMTtcbiAgICBzdGF0ZS5wb3NpdGlvbiArPSAxO1xuICB9XG5cbiAgd2hpbGUgKHN0YXRlLnBvc2l0aW9uIDwgKHN0YXRlLmxlbmd0aCAtIDEpKSB7XG4gICAgcmVhZERvY3VtZW50KHN0YXRlKTtcbiAgfVxuXG4gIHJldHVybiBzdGF0ZS5kb2N1bWVudHM7XG59XG5cblxuZnVuY3Rpb24gbG9hZEFsbCQxKGlucHV0LCBpdGVyYXRvciwgb3B0aW9ucykge1xuICBpZiAoaXRlcmF0b3IgIT09IG51bGwgJiYgdHlwZW9mIGl0ZXJhdG9yID09PSAnb2JqZWN0JyAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBvcHRpb25zID0gaXRlcmF0b3I7XG4gICAgaXRlcmF0b3IgPSBudWxsO1xuICB9XG5cbiAgdmFyIGRvY3VtZW50cyA9IGxvYWREb2N1bWVudHMoaW5wdXQsIG9wdGlvbnMpO1xuXG4gIGlmICh0eXBlb2YgaXRlcmF0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZG9jdW1lbnRzO1xuICB9XG5cbiAgZm9yICh2YXIgaW5kZXggPSAwLCBsZW5ndGggPSBkb2N1bWVudHMubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgIGl0ZXJhdG9yKGRvY3VtZW50c1tpbmRleF0pO1xuICB9XG59XG5cblxuZnVuY3Rpb24gbG9hZCQxKGlucHV0LCBvcHRpb25zKSB7XG4gIHZhciBkb2N1bWVudHMgPSBsb2FkRG9jdW1lbnRzKGlucHV0LCBvcHRpb25zKTtcblxuICBpZiAoZG9jdW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIC8qZXNsaW50LWRpc2FibGUgbm8tdW5kZWZpbmVkKi9cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9IGVsc2UgaWYgKGRvY3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gZG9jdW1lbnRzWzBdO1xuICB9XG4gIHRocm93IG5ldyBleGNlcHRpb24oJ2V4cGVjdGVkIGEgc2luZ2xlIGRvY3VtZW50IGluIHRoZSBzdHJlYW0sIGJ1dCBmb3VuZCBtb3JlJyk7XG59XG5cblxudmFyIGxvYWRBbGxfMSA9IGxvYWRBbGwkMTtcbnZhciBsb2FkXzEgICAgPSBsb2FkJDE7XG5cbnZhciBsb2FkZXIgPSB7XG5cdGxvYWRBbGw6IGxvYWRBbGxfMSxcblx0bG9hZDogbG9hZF8xXG59O1xuXG4vKmVzbGludC1kaXNhYmxlIG5vLXVzZS1iZWZvcmUtZGVmaW5lKi9cblxuXG5cblxuXG52YXIgX3RvU3RyaW5nICAgICAgID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbnZhciBfaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG52YXIgQ0hBUl9CT00gICAgICAgICAgICAgICAgICA9IDB4RkVGRjtcbnZhciBDSEFSX1RBQiAgICAgICAgICAgICAgICAgID0gMHgwOTsgLyogVGFiICovXG52YXIgQ0hBUl9MSU5FX0ZFRUQgICAgICAgICAgICA9IDB4MEE7IC8qIExGICovXG52YXIgQ0hBUl9DQVJSSUFHRV9SRVRVUk4gICAgICA9IDB4MEQ7IC8qIENSICovXG52YXIgQ0hBUl9TUEFDRSAgICAgICAgICAgICAgICA9IDB4MjA7IC8qIFNwYWNlICovXG52YXIgQ0hBUl9FWENMQU1BVElPTiAgICAgICAgICA9IDB4MjE7IC8qICEgKi9cbnZhciBDSEFSX0RPVUJMRV9RVU9URSAgICAgICAgID0gMHgyMjsgLyogXCIgKi9cbnZhciBDSEFSX1NIQVJQICAgICAgICAgICAgICAgID0gMHgyMzsgLyogIyAqL1xudmFyIENIQVJfUEVSQ0VOVCAgICAgICAgICAgICAgPSAweDI1OyAvKiAlICovXG52YXIgQ0hBUl9BTVBFUlNBTkQgICAgICAgICAgICA9IDB4MjY7IC8qICYgKi9cbnZhciBDSEFSX1NJTkdMRV9RVU9URSAgICAgICAgID0gMHgyNzsgLyogJyAqL1xudmFyIENIQVJfQVNURVJJU0sgICAgICAgICAgICAgPSAweDJBOyAvKiAqICovXG52YXIgQ0hBUl9DT01NQSAgICAgICAgICAgICAgICA9IDB4MkM7IC8qICwgKi9cbnZhciBDSEFSX01JTlVTICAgICAgICAgICAgICAgID0gMHgyRDsgLyogLSAqL1xudmFyIENIQVJfQ09MT04gICAgICAgICAgICAgICAgPSAweDNBOyAvKiA6ICovXG52YXIgQ0hBUl9FUVVBTFMgICAgICAgICAgICAgICA9IDB4M0Q7IC8qID0gKi9cbnZhciBDSEFSX0dSRUFURVJfVEhBTiAgICAgICAgID0gMHgzRTsgLyogPiAqL1xudmFyIENIQVJfUVVFU1RJT04gICAgICAgICAgICAgPSAweDNGOyAvKiA/ICovXG52YXIgQ0hBUl9DT01NRVJDSUFMX0FUICAgICAgICA9IDB4NDA7IC8qIEAgKi9cbnZhciBDSEFSX0xFRlRfU1FVQVJFX0JSQUNLRVQgID0gMHg1QjsgLyogWyAqL1xudmFyIENIQVJfUklHSFRfU1FVQVJFX0JSQUNLRVQgPSAweDVEOyAvKiBdICovXG52YXIgQ0hBUl9HUkFWRV9BQ0NFTlQgICAgICAgICA9IDB4NjA7IC8qIGAgKi9cbnZhciBDSEFSX0xFRlRfQ1VSTFlfQlJBQ0tFVCAgID0gMHg3QjsgLyogeyAqL1xudmFyIENIQVJfVkVSVElDQUxfTElORSAgICAgICAgPSAweDdDOyAvKiB8ICovXG52YXIgQ0hBUl9SSUdIVF9DVVJMWV9CUkFDS0VUICA9IDB4N0Q7IC8qIH0gKi9cblxudmFyIEVTQ0FQRV9TRVFVRU5DRVMgPSB7fTtcblxuRVNDQVBFX1NFUVVFTkNFU1sweDAwXSAgID0gJ1xcXFwwJztcbkVTQ0FQRV9TRVFVRU5DRVNbMHgwN10gICA9ICdcXFxcYSc7XG5FU0NBUEVfU0VRVUVOQ0VTWzB4MDhdICAgPSAnXFxcXGInO1xuRVNDQVBFX1NFUVVFTkNFU1sweDA5XSAgID0gJ1xcXFx0JztcbkVTQ0FQRV9TRVFVRU5DRVNbMHgwQV0gICA9ICdcXFxcbic7XG5FU0NBUEVfU0VRVUVOQ0VTWzB4MEJdICAgPSAnXFxcXHYnO1xuRVNDQVBFX1NFUVVFTkNFU1sweDBDXSAgID0gJ1xcXFxmJztcbkVTQ0FQRV9TRVFVRU5DRVNbMHgwRF0gICA9ICdcXFxccic7XG5FU0NBUEVfU0VRVUVOQ0VTWzB4MUJdICAgPSAnXFxcXGUnO1xuRVNDQVBFX1NFUVVFTkNFU1sweDIyXSAgID0gJ1xcXFxcIic7XG5FU0NBUEVfU0VRVUVOQ0VTWzB4NUNdICAgPSAnXFxcXFxcXFwnO1xuRVNDQVBFX1NFUVVFTkNFU1sweDg1XSAgID0gJ1xcXFxOJztcbkVTQ0FQRV9TRVFVRU5DRVNbMHhBMF0gICA9ICdcXFxcXyc7XG5FU0NBUEVfU0VRVUVOQ0VTWzB4MjAyOF0gPSAnXFxcXEwnO1xuRVNDQVBFX1NFUVVFTkNFU1sweDIwMjldID0gJ1xcXFxQJztcblxudmFyIERFUFJFQ0FURURfQk9PTEVBTlNfU1lOVEFYID0gW1xuICAneScsICdZJywgJ3llcycsICdZZXMnLCAnWUVTJywgJ29uJywgJ09uJywgJ09OJyxcbiAgJ24nLCAnTicsICdubycsICdObycsICdOTycsICdvZmYnLCAnT2ZmJywgJ09GRidcbl07XG5cbnZhciBERVBSRUNBVEVEX0JBU0U2MF9TWU5UQVggPSAvXlstK10/WzAtOV9dKyg/OjpbMC05X10rKSsoPzpcXC5bMC05X10qKT8kLztcblxuZnVuY3Rpb24gY29tcGlsZVN0eWxlTWFwKHNjaGVtYSwgbWFwKSB7XG4gIHZhciByZXN1bHQsIGtleXMsIGluZGV4LCBsZW5ndGgsIHRhZywgc3R5bGUsIHR5cGU7XG5cbiAgaWYgKG1hcCA9PT0gbnVsbCkgcmV0dXJuIHt9O1xuXG4gIHJlc3VsdCA9IHt9O1xuICBrZXlzID0gT2JqZWN0LmtleXMobWFwKTtcblxuICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgdGFnID0ga2V5c1tpbmRleF07XG4gICAgc3R5bGUgPSBTdHJpbmcobWFwW3RhZ10pO1xuXG4gICAgaWYgKHRhZy5zbGljZSgwLCAyKSA9PT0gJyEhJykge1xuICAgICAgdGFnID0gJ3RhZzp5YW1sLm9yZywyMDAyOicgKyB0YWcuc2xpY2UoMik7XG4gICAgfVxuICAgIHR5cGUgPSBzY2hlbWEuY29tcGlsZWRUeXBlTWFwWydmYWxsYmFjayddW3RhZ107XG5cbiAgICBpZiAodHlwZSAmJiBfaGFzT3duUHJvcGVydHkuY2FsbCh0eXBlLnN0eWxlQWxpYXNlcywgc3R5bGUpKSB7XG4gICAgICBzdHlsZSA9IHR5cGUuc3R5bGVBbGlhc2VzW3N0eWxlXTtcbiAgICB9XG5cbiAgICByZXN1bHRbdGFnXSA9IHN0eWxlO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gZW5jb2RlSGV4KGNoYXJhY3Rlcikge1xuICB2YXIgc3RyaW5nLCBoYW5kbGUsIGxlbmd0aDtcblxuICBzdHJpbmcgPSBjaGFyYWN0ZXIudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG5cbiAgaWYgKGNoYXJhY3RlciA8PSAweEZGKSB7XG4gICAgaGFuZGxlID0gJ3gnO1xuICAgIGxlbmd0aCA9IDI7XG4gIH0gZWxzZSBpZiAoY2hhcmFjdGVyIDw9IDB4RkZGRikge1xuICAgIGhhbmRsZSA9ICd1JztcbiAgICBsZW5ndGggPSA0O1xuICB9IGVsc2UgaWYgKGNoYXJhY3RlciA8PSAweEZGRkZGRkZGKSB7XG4gICAgaGFuZGxlID0gJ1UnO1xuICAgIGxlbmd0aCA9IDg7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IGV4Y2VwdGlvbignY29kZSBwb2ludCB3aXRoaW4gYSBzdHJpbmcgbWF5IG5vdCBiZSBncmVhdGVyIHRoYW4gMHhGRkZGRkZGRicpO1xuICB9XG5cbiAgcmV0dXJuICdcXFxcJyArIGhhbmRsZSArIGNvbW1vbi5yZXBlYXQoJzAnLCBsZW5ndGggLSBzdHJpbmcubGVuZ3RoKSArIHN0cmluZztcbn1cblxuXG52YXIgUVVPVElOR19UWVBFX1NJTkdMRSA9IDEsXG4gICAgUVVPVElOR19UWVBFX0RPVUJMRSA9IDI7XG5cbmZ1bmN0aW9uIFN0YXRlKG9wdGlvbnMpIHtcbiAgdGhpcy5zY2hlbWEgICAgICAgID0gb3B0aW9uc1snc2NoZW1hJ10gfHwgX2RlZmF1bHQ7XG4gIHRoaXMuaW5kZW50ICAgICAgICA9IE1hdGgubWF4KDEsIChvcHRpb25zWydpbmRlbnQnXSB8fCAyKSk7XG4gIHRoaXMubm9BcnJheUluZGVudCA9IG9wdGlvbnNbJ25vQXJyYXlJbmRlbnQnXSB8fCBmYWxzZTtcbiAgdGhpcy5za2lwSW52YWxpZCAgID0gb3B0aW9uc1snc2tpcEludmFsaWQnXSB8fCBmYWxzZTtcbiAgdGhpcy5mbG93TGV2ZWwgICAgID0gKGNvbW1vbi5pc05vdGhpbmcob3B0aW9uc1snZmxvd0xldmVsJ10pID8gLTEgOiBvcHRpb25zWydmbG93TGV2ZWwnXSk7XG4gIHRoaXMuc3R5bGVNYXAgICAgICA9IGNvbXBpbGVTdHlsZU1hcCh0aGlzLnNjaGVtYSwgb3B0aW9uc1snc3R5bGVzJ10gfHwgbnVsbCk7XG4gIHRoaXMuc29ydEtleXMgICAgICA9IG9wdGlvbnNbJ3NvcnRLZXlzJ10gfHwgZmFsc2U7XG4gIHRoaXMubGluZVdpZHRoICAgICA9IG9wdGlvbnNbJ2xpbmVXaWR0aCddIHx8IDgwO1xuICB0aGlzLm5vUmVmcyAgICAgICAgPSBvcHRpb25zWydub1JlZnMnXSB8fCBmYWxzZTtcbiAgdGhpcy5ub0NvbXBhdE1vZGUgID0gb3B0aW9uc1snbm9Db21wYXRNb2RlJ10gfHwgZmFsc2U7XG4gIHRoaXMuY29uZGVuc2VGbG93ICA9IG9wdGlvbnNbJ2NvbmRlbnNlRmxvdyddIHx8IGZhbHNlO1xuICB0aGlzLnF1b3RpbmdUeXBlICAgPSBvcHRpb25zWydxdW90aW5nVHlwZSddID09PSAnXCInID8gUVVPVElOR19UWVBFX0RPVUJMRSA6IFFVT1RJTkdfVFlQRV9TSU5HTEU7XG4gIHRoaXMuZm9yY2VRdW90ZXMgICA9IG9wdGlvbnNbJ2ZvcmNlUXVvdGVzJ10gfHwgZmFsc2U7XG4gIHRoaXMucmVwbGFjZXIgICAgICA9IHR5cGVvZiBvcHRpb25zWydyZXBsYWNlciddID09PSAnZnVuY3Rpb24nID8gb3B0aW9uc1sncmVwbGFjZXInXSA6IG51bGw7XG5cbiAgdGhpcy5pbXBsaWNpdFR5cGVzID0gdGhpcy5zY2hlbWEuY29tcGlsZWRJbXBsaWNpdDtcbiAgdGhpcy5leHBsaWNpdFR5cGVzID0gdGhpcy5zY2hlbWEuY29tcGlsZWRFeHBsaWNpdDtcblxuICB0aGlzLnRhZyA9IG51bGw7XG4gIHRoaXMucmVzdWx0ID0gJyc7XG5cbiAgdGhpcy5kdXBsaWNhdGVzID0gW107XG4gIHRoaXMudXNlZER1cGxpY2F0ZXMgPSBudWxsO1xufVxuXG4vLyBJbmRlbnRzIGV2ZXJ5IGxpbmUgaW4gYSBzdHJpbmcuIEVtcHR5IGxpbmVzIChcXG4gb25seSkgYXJlIG5vdCBpbmRlbnRlZC5cbmZ1bmN0aW9uIGluZGVudFN0cmluZyhzdHJpbmcsIHNwYWNlcykge1xuICB2YXIgaW5kID0gY29tbW9uLnJlcGVhdCgnICcsIHNwYWNlcyksXG4gICAgICBwb3NpdGlvbiA9IDAsXG4gICAgICBuZXh0ID0gLTEsXG4gICAgICByZXN1bHQgPSAnJyxcbiAgICAgIGxpbmUsXG4gICAgICBsZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuXG4gIHdoaWxlIChwb3NpdGlvbiA8IGxlbmd0aCkge1xuICAgIG5leHQgPSBzdHJpbmcuaW5kZXhPZignXFxuJywgcG9zaXRpb24pO1xuICAgIGlmIChuZXh0ID09PSAtMSkge1xuICAgICAgbGluZSA9IHN0cmluZy5zbGljZShwb3NpdGlvbik7XG4gICAgICBwb3NpdGlvbiA9IGxlbmd0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgbGluZSA9IHN0cmluZy5zbGljZShwb3NpdGlvbiwgbmV4dCArIDEpO1xuICAgICAgcG9zaXRpb24gPSBuZXh0ICsgMTtcbiAgICB9XG5cbiAgICBpZiAobGluZS5sZW5ndGggJiYgbGluZSAhPT0gJ1xcbicpIHJlc3VsdCArPSBpbmQ7XG5cbiAgICByZXN1bHQgKz0gbGluZTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlTmV4dExpbmUoc3RhdGUsIGxldmVsKSB7XG4gIHJldHVybiAnXFxuJyArIGNvbW1vbi5yZXBlYXQoJyAnLCBzdGF0ZS5pbmRlbnQgKiBsZXZlbCk7XG59XG5cbmZ1bmN0aW9uIHRlc3RJbXBsaWNpdFJlc29sdmluZyhzdGF0ZSwgc3RyKSB7XG4gIHZhciBpbmRleCwgbGVuZ3RoLCB0eXBlO1xuXG4gIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBzdGF0ZS5pbXBsaWNpdFR5cGVzLmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICB0eXBlID0gc3RhdGUuaW1wbGljaXRUeXBlc1tpbmRleF07XG5cbiAgICBpZiAodHlwZS5yZXNvbHZlKHN0cikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLy8gWzMzXSBzLXdoaXRlIDo6PSBzLXNwYWNlIHwgcy10YWJcbmZ1bmN0aW9uIGlzV2hpdGVzcGFjZShjKSB7XG4gIHJldHVybiBjID09PSBDSEFSX1NQQUNFIHx8IGMgPT09IENIQVJfVEFCO1xufVxuXG4vLyBSZXR1cm5zIHRydWUgaWYgdGhlIGNoYXJhY3RlciBjYW4gYmUgcHJpbnRlZCB3aXRob3V0IGVzY2FwaW5nLlxuLy8gRnJvbSBZQU1MIDEuMjogXCJhbnkgYWxsb3dlZCBjaGFyYWN0ZXJzIGtub3duIHRvIGJlIG5vbi1wcmludGFibGVcbi8vIHNob3VsZCBhbHNvIGJlIGVzY2FwZWQuIFtIb3dldmVyLF0gVGhpcyBpc27igJl0IG1hbmRhdG9yeVwiXG4vLyBEZXJpdmVkIGZyb20gbmItY2hhciAtIFxcdCAtICN4ODUgLSAjeEEwIC0gI3gyMDI4IC0gI3gyMDI5LlxuZnVuY3Rpb24gaXNQcmludGFibGUoYykge1xuICByZXR1cm4gICgweDAwMDIwIDw9IGMgJiYgYyA8PSAweDAwMDA3RSlcbiAgICAgIHx8ICgoMHgwMDBBMSA8PSBjICYmIGMgPD0gMHgwMEQ3RkYpICYmIGMgIT09IDB4MjAyOCAmJiBjICE9PSAweDIwMjkpXG4gICAgICB8fCAoKDB4MEUwMDAgPD0gYyAmJiBjIDw9IDB4MDBGRkZEKSAmJiBjICE9PSBDSEFSX0JPTSlcbiAgICAgIHx8ICAoMHgxMDAwMCA8PSBjICYmIGMgPD0gMHgxMEZGRkYpO1xufVxuXG4vLyBbMzRdIG5zLWNoYXIgOjo9IG5iLWNoYXIgLSBzLXdoaXRlXG4vLyBbMjddIG5iLWNoYXIgOjo9IGMtcHJpbnRhYmxlIC0gYi1jaGFyIC0gYy1ieXRlLW9yZGVyLW1hcmtcbi8vIFsyNl0gYi1jaGFyICA6Oj0gYi1saW5lLWZlZWQgfCBiLWNhcnJpYWdlLXJldHVyblxuLy8gSW5jbHVkaW5nIHMtd2hpdGUgKGZvciBzb21lIHJlYXNvbiwgZXhhbXBsZXMgZG9lc24ndCBtYXRjaCBzcGVjcyBpbiB0aGlzIGFzcGVjdClcbi8vIG5zLWNoYXIgOjo9IGMtcHJpbnRhYmxlIC0gYi1saW5lLWZlZWQgLSBiLWNhcnJpYWdlLXJldHVybiAtIGMtYnl0ZS1vcmRlci1tYXJrXG5mdW5jdGlvbiBpc05zQ2hhck9yV2hpdGVzcGFjZShjKSB7XG4gIHJldHVybiBpc1ByaW50YWJsZShjKVxuICAgICYmIGMgIT09IENIQVJfQk9NXG4gICAgLy8gLSBiLWNoYXJcbiAgICAmJiBjICE9PSBDSEFSX0NBUlJJQUdFX1JFVFVSTlxuICAgICYmIGMgIT09IENIQVJfTElORV9GRUVEO1xufVxuXG4vLyBbMTI3XSAgbnMtcGxhaW4tc2FmZShjKSA6Oj0gYyA9IGZsb3ctb3V0ICDih5IgbnMtcGxhaW4tc2FmZS1vdXRcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjID0gZmxvdy1pbiAgIOKHkiBucy1wbGFpbi1zYWZlLWluXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYyA9IGJsb2NrLWtleSDih5IgbnMtcGxhaW4tc2FmZS1vdXRcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjID0gZmxvdy1rZXkgIOKHkiBucy1wbGFpbi1zYWZlLWluXG4vLyBbMTI4XSBucy1wbGFpbi1zYWZlLW91dCA6Oj0gbnMtY2hhclxuLy8gWzEyOV0gIG5zLXBsYWluLXNhZmUtaW4gOjo9IG5zLWNoYXIgLSBjLWZsb3ctaW5kaWNhdG9yXG4vLyBbMTMwXSAgbnMtcGxhaW4tY2hhcihjKSA6Oj0gICggbnMtcGxhaW4tc2FmZShjKSAtIOKAnDrigJ0gLSDigJwj4oCdIClcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgKCAvKiBBbiBucy1jaGFyIHByZWNlZGluZyAqLyDigJwj4oCdIClcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgKCDigJw64oCdIC8qIEZvbGxvd2VkIGJ5IGFuIG5zLXBsYWluLXNhZmUoYykgKi8gKVxuZnVuY3Rpb24gaXNQbGFpblNhZmUoYywgcHJldiwgaW5ibG9jaykge1xuICB2YXIgY0lzTnNDaGFyT3JXaGl0ZXNwYWNlID0gaXNOc0NoYXJPcldoaXRlc3BhY2UoYyk7XG4gIHZhciBjSXNOc0NoYXIgPSBjSXNOc0NoYXJPcldoaXRlc3BhY2UgJiYgIWlzV2hpdGVzcGFjZShjKTtcbiAgcmV0dXJuIChcbiAgICAvLyBucy1wbGFpbi1zYWZlXG4gICAgaW5ibG9jayA/IC8vIGMgPSBmbG93LWluXG4gICAgICBjSXNOc0NoYXJPcldoaXRlc3BhY2VcbiAgICAgIDogY0lzTnNDaGFyT3JXaGl0ZXNwYWNlXG4gICAgICAgIC8vIC0gYy1mbG93LWluZGljYXRvclxuICAgICAgICAmJiBjICE9PSBDSEFSX0NPTU1BXG4gICAgICAgICYmIGMgIT09IENIQVJfTEVGVF9TUVVBUkVfQlJBQ0tFVFxuICAgICAgICAmJiBjICE9PSBDSEFSX1JJR0hUX1NRVUFSRV9CUkFDS0VUXG4gICAgICAgICYmIGMgIT09IENIQVJfTEVGVF9DVVJMWV9CUkFDS0VUXG4gICAgICAgICYmIGMgIT09IENIQVJfUklHSFRfQ1VSTFlfQlJBQ0tFVFxuICApXG4gICAgLy8gbnMtcGxhaW4tY2hhclxuICAgICYmIGMgIT09IENIQVJfU0hBUlAgLy8gZmFsc2Ugb24gJyMnXG4gICAgJiYgIShwcmV2ID09PSBDSEFSX0NPTE9OICYmICFjSXNOc0NoYXIpIC8vIGZhbHNlIG9uICc6ICdcbiAgICB8fCAoaXNOc0NoYXJPcldoaXRlc3BhY2UocHJldikgJiYgIWlzV2hpdGVzcGFjZShwcmV2KSAmJiBjID09PSBDSEFSX1NIQVJQKSAvLyBjaGFuZ2UgdG8gdHJ1ZSBvbiAnW14gXSMnXG4gICAgfHwgKHByZXYgPT09IENIQVJfQ09MT04gJiYgY0lzTnNDaGFyKTsgLy8gY2hhbmdlIHRvIHRydWUgb24gJzpbXiBdJ1xufVxuXG4vLyBTaW1wbGlmaWVkIHRlc3QgZm9yIHZhbHVlcyBhbGxvd2VkIGFzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgaW4gcGxhaW4gc3R5bGUuXG5mdW5jdGlvbiBpc1BsYWluU2FmZUZpcnN0KGMpIHtcbiAgLy8gVXNlcyBhIHN1YnNldCBvZiBucy1jaGFyIC0gYy1pbmRpY2F0b3JcbiAgLy8gd2hlcmUgbnMtY2hhciA9IG5iLWNoYXIgLSBzLXdoaXRlLlxuICAvLyBObyBzdXBwb3J0IG9mICggKCDigJw/4oCdIHwg4oCcOuKAnSB8IOKAnC3igJ0gKSAvKiBGb2xsb3dlZCBieSBhbiBucy1wbGFpbi1zYWZlKGMpKSAqLyApIHBhcnRcbiAgcmV0dXJuIGlzUHJpbnRhYmxlKGMpICYmIGMgIT09IENIQVJfQk9NXG4gICAgJiYgIWlzV2hpdGVzcGFjZShjKSAvLyAtIHMtd2hpdGVcbiAgICAvLyAtIChjLWluZGljYXRvciA6Oj1cbiAgICAvLyDigJwt4oCdIHwg4oCcP+KAnSB8IOKAnDrigJ0gfCDigJws4oCdIHwg4oCcW+KAnSB8IOKAnF3igJ0gfCDigJx74oCdIHwg4oCcfeKAnVxuICAgICYmIGMgIT09IENIQVJfTUlOVVNcbiAgICAmJiBjICE9PSBDSEFSX1FVRVNUSU9OXG4gICAgJiYgYyAhPT0gQ0hBUl9DT0xPTlxuICAgICYmIGMgIT09IENIQVJfQ09NTUFcbiAgICAmJiBjICE9PSBDSEFSX0xFRlRfU1FVQVJFX0JSQUNLRVRcbiAgICAmJiBjICE9PSBDSEFSX1JJR0hUX1NRVUFSRV9CUkFDS0VUXG4gICAgJiYgYyAhPT0gQ0hBUl9MRUZUX0NVUkxZX0JSQUNLRVRcbiAgICAmJiBjICE9PSBDSEFSX1JJR0hUX0NVUkxZX0JSQUNLRVRcbiAgICAvLyB8IOKAnCPigJ0gfCDigJwm4oCdIHwg4oCcKuKAnSB8IOKAnCHigJ0gfCDigJx84oCdIHwg4oCcPeKAnSB8IOKAnD7igJ0gfCDigJwn4oCdIHwg4oCcXCLigJ1cbiAgICAmJiBjICE9PSBDSEFSX1NIQVJQXG4gICAgJiYgYyAhPT0gQ0hBUl9BTVBFUlNBTkRcbiAgICAmJiBjICE9PSBDSEFSX0FTVEVSSVNLXG4gICAgJiYgYyAhPT0gQ0hBUl9FWENMQU1BVElPTlxuICAgICYmIGMgIT09IENIQVJfVkVSVElDQUxfTElORVxuICAgICYmIGMgIT09IENIQVJfRVFVQUxTXG4gICAgJiYgYyAhPT0gQ0hBUl9HUkVBVEVSX1RIQU5cbiAgICAmJiBjICE9PSBDSEFSX1NJTkdMRV9RVU9URVxuICAgICYmIGMgIT09IENIQVJfRE9VQkxFX1FVT1RFXG4gICAgLy8gfCDigJwl4oCdIHwg4oCcQOKAnSB8IOKAnGDigJ0pXG4gICAgJiYgYyAhPT0gQ0hBUl9QRVJDRU5UXG4gICAgJiYgYyAhPT0gQ0hBUl9DT01NRVJDSUFMX0FUXG4gICAgJiYgYyAhPT0gQ0hBUl9HUkFWRV9BQ0NFTlQ7XG59XG5cbi8vIFNpbXBsaWZpZWQgdGVzdCBmb3IgdmFsdWVzIGFsbG93ZWQgYXMgdGhlIGxhc3QgY2hhcmFjdGVyIGluIHBsYWluIHN0eWxlLlxuZnVuY3Rpb24gaXNQbGFpblNhZmVMYXN0KGMpIHtcbiAgLy8ganVzdCBub3Qgd2hpdGVzcGFjZSBvciBjb2xvbiwgaXQgd2lsbCBiZSBjaGVja2VkIHRvIGJlIHBsYWluIGNoYXJhY3RlciBsYXRlclxuICByZXR1cm4gIWlzV2hpdGVzcGFjZShjKSAmJiBjICE9PSBDSEFSX0NPTE9OO1xufVxuXG4vLyBTYW1lIGFzICdzdHJpbmcnLmNvZGVQb2ludEF0KHBvcyksIGJ1dCB3b3JrcyBpbiBvbGRlciBicm93c2Vycy5cbmZ1bmN0aW9uIGNvZGVQb2ludEF0KHN0cmluZywgcG9zKSB7XG4gIHZhciBmaXJzdCA9IHN0cmluZy5jaGFyQ29kZUF0KHBvcyksIHNlY29uZDtcbiAgaWYgKGZpcnN0ID49IDB4RDgwMCAmJiBmaXJzdCA8PSAweERCRkYgJiYgcG9zICsgMSA8IHN0cmluZy5sZW5ndGgpIHtcbiAgICBzZWNvbmQgPSBzdHJpbmcuY2hhckNvZGVBdChwb3MgKyAxKTtcbiAgICBpZiAoc2Vjb25kID49IDB4REMwMCAmJiBzZWNvbmQgPD0gMHhERkZGKSB7XG4gICAgICAvLyBodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZyNzdXJyb2dhdGUtZm9ybXVsYWVcbiAgICAgIHJldHVybiAoZmlyc3QgLSAweEQ4MDApICogMHg0MDAgKyBzZWNvbmQgLSAweERDMDAgKyAweDEwMDAwO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmlyc3Q7XG59XG5cbi8vIERldGVybWluZXMgd2hldGhlciBibG9jayBpbmRlbnRhdGlvbiBpbmRpY2F0b3IgaXMgcmVxdWlyZWQuXG5mdW5jdGlvbiBuZWVkSW5kZW50SW5kaWNhdG9yKHN0cmluZykge1xuICB2YXIgbGVhZGluZ1NwYWNlUmUgPSAvXlxcbiogLztcbiAgcmV0dXJuIGxlYWRpbmdTcGFjZVJlLnRlc3Qoc3RyaW5nKTtcbn1cblxudmFyIFNUWUxFX1BMQUlOICAgPSAxLFxuICAgIFNUWUxFX1NJTkdMRSAgPSAyLFxuICAgIFNUWUxFX0xJVEVSQUwgPSAzLFxuICAgIFNUWUxFX0ZPTERFRCAgPSA0LFxuICAgIFNUWUxFX0RPVUJMRSAgPSA1O1xuXG4vLyBEZXRlcm1pbmVzIHdoaWNoIHNjYWxhciBzdHlsZXMgYXJlIHBvc3NpYmxlIGFuZCByZXR1cm5zIHRoZSBwcmVmZXJyZWQgc3R5bGUuXG4vLyBsaW5lV2lkdGggPSAtMSA9PiBubyBsaW1pdC5cbi8vIFByZS1jb25kaXRpb25zOiBzdHIubGVuZ3RoID4gMC5cbi8vIFBvc3QtY29uZGl0aW9uczpcbi8vICAgIFNUWUxFX1BMQUlOIG9yIFNUWUxFX1NJTkdMRSA9PiBubyBcXG4gYXJlIGluIHRoZSBzdHJpbmcuXG4vLyAgICBTVFlMRV9MSVRFUkFMID0+IG5vIGxpbmVzIGFyZSBzdWl0YWJsZSBmb3IgZm9sZGluZyAob3IgbGluZVdpZHRoIGlzIC0xKS5cbi8vICAgIFNUWUxFX0ZPTERFRCA9PiBhIGxpbmUgPiBsaW5lV2lkdGggYW5kIGNhbiBiZSBmb2xkZWQgKGFuZCBsaW5lV2lkdGggIT0gLTEpLlxuZnVuY3Rpb24gY2hvb3NlU2NhbGFyU3R5bGUoc3RyaW5nLCBzaW5nbGVMaW5lT25seSwgaW5kZW50UGVyTGV2ZWwsIGxpbmVXaWR0aCxcbiAgdGVzdEFtYmlndW91c1R5cGUsIHF1b3RpbmdUeXBlLCBmb3JjZVF1b3RlcywgaW5ibG9jaykge1xuXG4gIHZhciBpO1xuICB2YXIgY2hhciA9IDA7XG4gIHZhciBwcmV2Q2hhciA9IG51bGw7XG4gIHZhciBoYXNMaW5lQnJlYWsgPSBmYWxzZTtcbiAgdmFyIGhhc0ZvbGRhYmxlTGluZSA9IGZhbHNlOyAvLyBvbmx5IGNoZWNrZWQgaWYgc2hvdWxkVHJhY2tXaWR0aFxuICB2YXIgc2hvdWxkVHJhY2tXaWR0aCA9IGxpbmVXaWR0aCAhPT0gLTE7XG4gIHZhciBwcmV2aW91c0xpbmVCcmVhayA9IC0xOyAvLyBjb3VudCB0aGUgZmlyc3QgbGluZSBjb3JyZWN0bHlcbiAgdmFyIHBsYWluID0gaXNQbGFpblNhZmVGaXJzdChjb2RlUG9pbnRBdChzdHJpbmcsIDApKVxuICAgICAgICAgICYmIGlzUGxhaW5TYWZlTGFzdChjb2RlUG9pbnRBdChzdHJpbmcsIHN0cmluZy5sZW5ndGggLSAxKSk7XG5cbiAgaWYgKHNpbmdsZUxpbmVPbmx5IHx8IGZvcmNlUXVvdGVzKSB7XG4gICAgLy8gQ2FzZTogbm8gYmxvY2sgc3R5bGVzLlxuICAgIC8vIENoZWNrIGZvciBkaXNhbGxvd2VkIGNoYXJhY3RlcnMgdG8gcnVsZSBvdXQgcGxhaW4gYW5kIHNpbmdsZS5cbiAgICBmb3IgKGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDsgY2hhciA+PSAweDEwMDAwID8gaSArPSAyIDogaSsrKSB7XG4gICAgICBjaGFyID0gY29kZVBvaW50QXQoc3RyaW5nLCBpKTtcbiAgICAgIGlmICghaXNQcmludGFibGUoY2hhcikpIHtcbiAgICAgICAgcmV0dXJuIFNUWUxFX0RPVUJMRTtcbiAgICAgIH1cbiAgICAgIHBsYWluID0gcGxhaW4gJiYgaXNQbGFpblNhZmUoY2hhciwgcHJldkNoYXIsIGluYmxvY2spO1xuICAgICAgcHJldkNoYXIgPSBjaGFyO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBDYXNlOiBibG9jayBzdHlsZXMgcGVybWl0dGVkLlxuICAgIGZvciAoaSA9IDA7IGkgPCBzdHJpbmcubGVuZ3RoOyBjaGFyID49IDB4MTAwMDAgPyBpICs9IDIgOiBpKyspIHtcbiAgICAgIGNoYXIgPSBjb2RlUG9pbnRBdChzdHJpbmcsIGkpO1xuICAgICAgaWYgKGNoYXIgPT09IENIQVJfTElORV9GRUVEKSB7XG4gICAgICAgIGhhc0xpbmVCcmVhayA9IHRydWU7XG4gICAgICAgIC8vIENoZWNrIGlmIGFueSBsaW5lIGNhbiBiZSBmb2xkZWQuXG4gICAgICAgIGlmIChzaG91bGRUcmFja1dpZHRoKSB7XG4gICAgICAgICAgaGFzRm9sZGFibGVMaW5lID0gaGFzRm9sZGFibGVMaW5lIHx8XG4gICAgICAgICAgICAvLyBGb2xkYWJsZSBsaW5lID0gdG9vIGxvbmcsIGFuZCBub3QgbW9yZS1pbmRlbnRlZC5cbiAgICAgICAgICAgIChpIC0gcHJldmlvdXNMaW5lQnJlYWsgLSAxID4gbGluZVdpZHRoICYmXG4gICAgICAgICAgICAgc3RyaW5nW3ByZXZpb3VzTGluZUJyZWFrICsgMV0gIT09ICcgJyk7XG4gICAgICAgICAgcHJldmlvdXNMaW5lQnJlYWsgPSBpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFpc1ByaW50YWJsZShjaGFyKSkge1xuICAgICAgICByZXR1cm4gU1RZTEVfRE9VQkxFO1xuICAgICAgfVxuICAgICAgcGxhaW4gPSBwbGFpbiAmJiBpc1BsYWluU2FmZShjaGFyLCBwcmV2Q2hhciwgaW5ibG9jayk7XG4gICAgICBwcmV2Q2hhciA9IGNoYXI7XG4gICAgfVxuICAgIC8vIGluIGNhc2UgdGhlIGVuZCBpcyBtaXNzaW5nIGEgXFxuXG4gICAgaGFzRm9sZGFibGVMaW5lID0gaGFzRm9sZGFibGVMaW5lIHx8IChzaG91bGRUcmFja1dpZHRoICYmXG4gICAgICAoaSAtIHByZXZpb3VzTGluZUJyZWFrIC0gMSA+IGxpbmVXaWR0aCAmJlxuICAgICAgIHN0cmluZ1twcmV2aW91c0xpbmVCcmVhayArIDFdICE9PSAnICcpKTtcbiAgfVxuICAvLyBBbHRob3VnaCBldmVyeSBzdHlsZSBjYW4gcmVwcmVzZW50IFxcbiB3aXRob3V0IGVzY2FwaW5nLCBwcmVmZXIgYmxvY2sgc3R5bGVzXG4gIC8vIGZvciBtdWx0aWxpbmUsIHNpbmNlIHRoZXkncmUgbW9yZSByZWFkYWJsZSBhbmQgdGhleSBkb24ndCBhZGQgZW1wdHkgbGluZXMuXG4gIC8vIEFsc28gcHJlZmVyIGZvbGRpbmcgYSBzdXBlci1sb25nIGxpbmUuXG4gIGlmICghaGFzTGluZUJyZWFrICYmICFoYXNGb2xkYWJsZUxpbmUpIHtcbiAgICAvLyBTdHJpbmdzIGludGVycHJldGFibGUgYXMgYW5vdGhlciB0eXBlIGhhdmUgdG8gYmUgcXVvdGVkO1xuICAgIC8vIGUuZy4gdGhlIHN0cmluZyAndHJ1ZScgdnMuIHRoZSBib29sZWFuIHRydWUuXG4gICAgaWYgKHBsYWluICYmICFmb3JjZVF1b3RlcyAmJiAhdGVzdEFtYmlndW91c1R5cGUoc3RyaW5nKSkge1xuICAgICAgcmV0dXJuIFNUWUxFX1BMQUlOO1xuICAgIH1cbiAgICByZXR1cm4gcXVvdGluZ1R5cGUgPT09IFFVT1RJTkdfVFlQRV9ET1VCTEUgPyBTVFlMRV9ET1VCTEUgOiBTVFlMRV9TSU5HTEU7XG4gIH1cbiAgLy8gRWRnZSBjYXNlOiBibG9jayBpbmRlbnRhdGlvbiBpbmRpY2F0b3IgY2FuIG9ubHkgaGF2ZSBvbmUgZGlnaXQuXG4gIGlmIChpbmRlbnRQZXJMZXZlbCA+IDkgJiYgbmVlZEluZGVudEluZGljYXRvcihzdHJpbmcpKSB7XG4gICAgcmV0dXJuIFNUWUxFX0RPVUJMRTtcbiAgfVxuICAvLyBBdCB0aGlzIHBvaW50IHdlIGtub3cgYmxvY2sgc3R5bGVzIGFyZSB2YWxpZC5cbiAgLy8gUHJlZmVyIGxpdGVyYWwgc3R5bGUgdW5sZXNzIHdlIHdhbnQgdG8gZm9sZC5cbiAgaWYgKCFmb3JjZVF1b3Rlcykge1xuICAgIHJldHVybiBoYXNGb2xkYWJsZUxpbmUgPyBTVFlMRV9GT0xERUQgOiBTVFlMRV9MSVRFUkFMO1xuICB9XG4gIHJldHVybiBxdW90aW5nVHlwZSA9PT0gUVVPVElOR19UWVBFX0RPVUJMRSA/IFNUWUxFX0RPVUJMRSA6IFNUWUxFX1NJTkdMRTtcbn1cblxuLy8gTm90ZTogbGluZSBicmVha2luZy9mb2xkaW5nIGlzIGltcGxlbWVudGVkIGZvciBvbmx5IHRoZSBmb2xkZWQgc3R5bGUuXG4vLyBOQi4gV2UgZHJvcCB0aGUgbGFzdCB0cmFpbGluZyBuZXdsaW5lIChpZiBhbnkpIG9mIGEgcmV0dXJuZWQgYmxvY2sgc2NhbGFyXG4vLyAgc2luY2UgdGhlIGR1bXBlciBhZGRzIGl0cyBvd24gbmV3bGluZS4gVGhpcyBhbHdheXMgd29ya3M6XG4vLyAgICDigKIgTm8gZW5kaW5nIG5ld2xpbmUgPT4gdW5hZmZlY3RlZDsgYWxyZWFkeSB1c2luZyBzdHJpcCBcIi1cIiBjaG9tcGluZy5cbi8vICAgIOKAoiBFbmRpbmcgbmV3bGluZSAgICA9PiByZW1vdmVkIHRoZW4gcmVzdG9yZWQuXG4vLyAgSW1wb3J0YW50bHksIHRoaXMga2VlcHMgdGhlIFwiK1wiIGNob21wIGluZGljYXRvciBmcm9tIGdhaW5pbmcgYW4gZXh0cmEgbGluZS5cbmZ1bmN0aW9uIHdyaXRlU2NhbGFyKHN0YXRlLCBzdHJpbmcsIGxldmVsLCBpc2tleSwgaW5ibG9jaykge1xuICBzdGF0ZS5kdW1wID0gKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoc3RyaW5nLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHN0YXRlLnF1b3RpbmdUeXBlID09PSBRVU9USU5HX1RZUEVfRE9VQkxFID8gJ1wiXCInIDogXCInJ1wiO1xuICAgIH1cbiAgICBpZiAoIXN0YXRlLm5vQ29tcGF0TW9kZSkge1xuICAgICAgaWYgKERFUFJFQ0FURURfQk9PTEVBTlNfU1lOVEFYLmluZGV4T2Yoc3RyaW5nKSAhPT0gLTEgfHwgREVQUkVDQVRFRF9CQVNFNjBfU1lOVEFYLnRlc3Qoc3RyaW5nKSkge1xuICAgICAgICByZXR1cm4gc3RhdGUucXVvdGluZ1R5cGUgPT09IFFVT1RJTkdfVFlQRV9ET1VCTEUgPyAoJ1wiJyArIHN0cmluZyArICdcIicpIDogKFwiJ1wiICsgc3RyaW5nICsgXCInXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBpbmRlbnQgPSBzdGF0ZS5pbmRlbnQgKiBNYXRoLm1heCgxLCBsZXZlbCk7IC8vIG5vIDAtaW5kZW50IHNjYWxhcnNcbiAgICAvLyBBcyBpbmRlbnRhdGlvbiBnZXRzIGRlZXBlciwgbGV0IHRoZSB3aWR0aCBkZWNyZWFzZSBtb25vdG9uaWNhbGx5XG4gICAgLy8gdG8gdGhlIGxvd2VyIGJvdW5kIG1pbihzdGF0ZS5saW5lV2lkdGgsIDQwKS5cbiAgICAvLyBOb3RlIHRoYXQgdGhpcyBpbXBsaWVzXG4gICAgLy8gIHN0YXRlLmxpbmVXaWR0aCDiiaQgNDAgKyBzdGF0ZS5pbmRlbnQ6IHdpZHRoIGlzIGZpeGVkIGF0IHRoZSBsb3dlciBib3VuZC5cbiAgICAvLyAgc3RhdGUubGluZVdpZHRoID4gNDAgKyBzdGF0ZS5pbmRlbnQ6IHdpZHRoIGRlY3JlYXNlcyB1bnRpbCB0aGUgbG93ZXIgYm91bmQuXG4gICAgLy8gVGhpcyBiZWhhdmVzIGJldHRlciB0aGFuIGEgY29uc3RhbnQgbWluaW11bSB3aWR0aCB3aGljaCBkaXNhbGxvd3MgbmFycm93ZXIgb3B0aW9ucyxcbiAgICAvLyBvciBhbiBpbmRlbnQgdGhyZXNob2xkIHdoaWNoIGNhdXNlcyB0aGUgd2lkdGggdG8gc3VkZGVubHkgaW5jcmVhc2UuXG4gICAgdmFyIGxpbmVXaWR0aCA9IHN0YXRlLmxpbmVXaWR0aCA9PT0gLTFcbiAgICAgID8gLTEgOiBNYXRoLm1heChNYXRoLm1pbihzdGF0ZS5saW5lV2lkdGgsIDQwKSwgc3RhdGUubGluZVdpZHRoIC0gaW5kZW50KTtcblxuICAgIC8vIFdpdGhvdXQga25vd2luZyBpZiBrZXlzIGFyZSBpbXBsaWNpdC9leHBsaWNpdCwgYXNzdW1lIGltcGxpY2l0IGZvciBzYWZldHkuXG4gICAgdmFyIHNpbmdsZUxpbmVPbmx5ID0gaXNrZXlcbiAgICAgIC8vIE5vIGJsb2NrIHN0eWxlcyBpbiBmbG93IG1vZGUuXG4gICAgICB8fCAoc3RhdGUuZmxvd0xldmVsID4gLTEgJiYgbGV2ZWwgPj0gc3RhdGUuZmxvd0xldmVsKTtcbiAgICBmdW5jdGlvbiB0ZXN0QW1iaWd1aXR5KHN0cmluZykge1xuICAgICAgcmV0dXJuIHRlc3RJbXBsaWNpdFJlc29sdmluZyhzdGF0ZSwgc3RyaW5nKTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGNob29zZVNjYWxhclN0eWxlKHN0cmluZywgc2luZ2xlTGluZU9ubHksIHN0YXRlLmluZGVudCwgbGluZVdpZHRoLFxuICAgICAgdGVzdEFtYmlndWl0eSwgc3RhdGUucXVvdGluZ1R5cGUsIHN0YXRlLmZvcmNlUXVvdGVzICYmICFpc2tleSwgaW5ibG9jaykpIHtcblxuICAgICAgY2FzZSBTVFlMRV9QTEFJTjpcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIGNhc2UgU1RZTEVfU0lOR0xFOlxuICAgICAgICByZXR1cm4gXCInXCIgKyBzdHJpbmcucmVwbGFjZSgvJy9nLCBcIicnXCIpICsgXCInXCI7XG4gICAgICBjYXNlIFNUWUxFX0xJVEVSQUw6XG4gICAgICAgIHJldHVybiAnfCcgKyBibG9ja0hlYWRlcihzdHJpbmcsIHN0YXRlLmluZGVudClcbiAgICAgICAgICArIGRyb3BFbmRpbmdOZXdsaW5lKGluZGVudFN0cmluZyhzdHJpbmcsIGluZGVudCkpO1xuICAgICAgY2FzZSBTVFlMRV9GT0xERUQ6XG4gICAgICAgIHJldHVybiAnPicgKyBibG9ja0hlYWRlcihzdHJpbmcsIHN0YXRlLmluZGVudClcbiAgICAgICAgICArIGRyb3BFbmRpbmdOZXdsaW5lKGluZGVudFN0cmluZyhmb2xkU3RyaW5nKHN0cmluZywgbGluZVdpZHRoKSwgaW5kZW50KSk7XG4gICAgICBjYXNlIFNUWUxFX0RPVUJMRTpcbiAgICAgICAgcmV0dXJuICdcIicgKyBlc2NhcGVTdHJpbmcoc3RyaW5nKSArICdcIic7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uKCdpbXBvc3NpYmxlIGVycm9yOiBpbnZhbGlkIHNjYWxhciBzdHlsZScpO1xuICAgIH1cbiAgfSgpKTtcbn1cblxuLy8gUHJlLWNvbmRpdGlvbnM6IHN0cmluZyBpcyB2YWxpZCBmb3IgYSBibG9jayBzY2FsYXIsIDEgPD0gaW5kZW50UGVyTGV2ZWwgPD0gOS5cbmZ1bmN0aW9uIGJsb2NrSGVhZGVyKHN0cmluZywgaW5kZW50UGVyTGV2ZWwpIHtcbiAgdmFyIGluZGVudEluZGljYXRvciA9IG5lZWRJbmRlbnRJbmRpY2F0b3Ioc3RyaW5nKSA/IFN0cmluZyhpbmRlbnRQZXJMZXZlbCkgOiAnJztcblxuICAvLyBub3RlIHRoZSBzcGVjaWFsIGNhc2U6IHRoZSBzdHJpbmcgJ1xcbicgY291bnRzIGFzIGEgXCJ0cmFpbGluZ1wiIGVtcHR5IGxpbmUuXG4gIHZhciBjbGlwID0gICAgICAgICAgc3RyaW5nW3N0cmluZy5sZW5ndGggLSAxXSA9PT0gJ1xcbic7XG4gIHZhciBrZWVwID0gY2xpcCAmJiAoc3RyaW5nW3N0cmluZy5sZW5ndGggLSAyXSA9PT0gJ1xcbicgfHwgc3RyaW5nID09PSAnXFxuJyk7XG4gIHZhciBjaG9tcCA9IGtlZXAgPyAnKycgOiAoY2xpcCA/ICcnIDogJy0nKTtcblxuICByZXR1cm4gaW5kZW50SW5kaWNhdG9yICsgY2hvbXAgKyAnXFxuJztcbn1cblxuLy8gKFNlZSB0aGUgbm90ZSBmb3Igd3JpdGVTY2FsYXIuKVxuZnVuY3Rpb24gZHJvcEVuZGluZ05ld2xpbmUoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmdbc3RyaW5nLmxlbmd0aCAtIDFdID09PSAnXFxuJyA/IHN0cmluZy5zbGljZSgwLCAtMSkgOiBzdHJpbmc7XG59XG5cbi8vIE5vdGU6IGEgbG9uZyBsaW5lIHdpdGhvdXQgYSBzdWl0YWJsZSBicmVhayBwb2ludCB3aWxsIGV4Y2VlZCB0aGUgd2lkdGggbGltaXQuXG4vLyBQcmUtY29uZGl0aW9uczogZXZlcnkgY2hhciBpbiBzdHIgaXNQcmludGFibGUsIHN0ci5sZW5ndGggPiAwLCB3aWR0aCA+IDAuXG5mdW5jdGlvbiBmb2xkU3RyaW5nKHN0cmluZywgd2lkdGgpIHtcbiAgLy8gSW4gZm9sZGVkIHN0eWxlLCAkayQgY29uc2VjdXRpdmUgbmV3bGluZXMgb3V0cHV0IGFzICRrKzEkIG5ld2xpbmVz4oCUXG4gIC8vIHVubGVzcyB0aGV5J3JlIGJlZm9yZSBvciBhZnRlciBhIG1vcmUtaW5kZW50ZWQgbGluZSwgb3IgYXQgdGhlIHZlcnlcbiAgLy8gYmVnaW5uaW5nIG9yIGVuZCwgaW4gd2hpY2ggY2FzZSAkayQgbWFwcyB0byAkayQuXG4gIC8vIFRoZXJlZm9yZSwgcGFyc2UgZWFjaCBjaHVuayBhcyBuZXdsaW5lKHMpIGZvbGxvd2VkIGJ5IGEgY29udGVudCBsaW5lLlxuICB2YXIgbGluZVJlID0gLyhcXG4rKShbXlxcbl0qKS9nO1xuXG4gIC8vIGZpcnN0IGxpbmUgKHBvc3NpYmx5IGFuIGVtcHR5IGxpbmUpXG4gIHZhciByZXN1bHQgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBuZXh0TEYgPSBzdHJpbmcuaW5kZXhPZignXFxuJyk7XG4gICAgbmV4dExGID0gbmV4dExGICE9PSAtMSA/IG5leHRMRiA6IHN0cmluZy5sZW5ndGg7XG4gICAgbGluZVJlLmxhc3RJbmRleCA9IG5leHRMRjtcbiAgICByZXR1cm4gZm9sZExpbmUoc3RyaW5nLnNsaWNlKDAsIG5leHRMRiksIHdpZHRoKTtcbiAgfSgpKTtcbiAgLy8gSWYgd2UgaGF2ZW4ndCByZWFjaGVkIHRoZSBmaXJzdCBjb250ZW50IGxpbmUgeWV0LCBkb24ndCBhZGQgYW4gZXh0cmEgXFxuLlxuICB2YXIgcHJldk1vcmVJbmRlbnRlZCA9IHN0cmluZ1swXSA9PT0gJ1xcbicgfHwgc3RyaW5nWzBdID09PSAnICc7XG4gIHZhciBtb3JlSW5kZW50ZWQ7XG5cbiAgLy8gcmVzdCBvZiB0aGUgbGluZXNcbiAgdmFyIG1hdGNoO1xuICB3aGlsZSAoKG1hdGNoID0gbGluZVJlLmV4ZWMoc3RyaW5nKSkpIHtcbiAgICB2YXIgcHJlZml4ID0gbWF0Y2hbMV0sIGxpbmUgPSBtYXRjaFsyXTtcbiAgICBtb3JlSW5kZW50ZWQgPSAobGluZVswXSA9PT0gJyAnKTtcbiAgICByZXN1bHQgKz0gcHJlZml4XG4gICAgICArICghcHJldk1vcmVJbmRlbnRlZCAmJiAhbW9yZUluZGVudGVkICYmIGxpbmUgIT09ICcnXG4gICAgICAgID8gJ1xcbicgOiAnJylcbiAgICAgICsgZm9sZExpbmUobGluZSwgd2lkdGgpO1xuICAgIHByZXZNb3JlSW5kZW50ZWQgPSBtb3JlSW5kZW50ZWQ7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vLyBHcmVlZHkgbGluZSBicmVha2luZy5cbi8vIFBpY2tzIHRoZSBsb25nZXN0IGxpbmUgdW5kZXIgdGhlIGxpbWl0IGVhY2ggdGltZSxcbi8vIG90aGVyd2lzZSBzZXR0bGVzIGZvciB0aGUgc2hvcnRlc3QgbGluZSBvdmVyIHRoZSBsaW1pdC5cbi8vIE5CLiBNb3JlLWluZGVudGVkIGxpbmVzICpjYW5ub3QqIGJlIGZvbGRlZCwgYXMgdGhhdCB3b3VsZCBhZGQgYW4gZXh0cmEgXFxuLlxuZnVuY3Rpb24gZm9sZExpbmUobGluZSwgd2lkdGgpIHtcbiAgaWYgKGxpbmUgPT09ICcnIHx8IGxpbmVbMF0gPT09ICcgJykgcmV0dXJuIGxpbmU7XG5cbiAgLy8gU2luY2UgYSBtb3JlLWluZGVudGVkIGxpbmUgYWRkcyBhIFxcbiwgYnJlYWtzIGNhbid0IGJlIGZvbGxvd2VkIGJ5IGEgc3BhY2UuXG4gIHZhciBicmVha1JlID0gLyBbXiBdL2c7IC8vIG5vdGU6IHRoZSBtYXRjaCBpbmRleCB3aWxsIGFsd2F5cyBiZSA8PSBsZW5ndGgtMi5cbiAgdmFyIG1hdGNoO1xuICAvLyBzdGFydCBpcyBhbiBpbmNsdXNpdmUgaW5kZXguIGVuZCwgY3VyciwgYW5kIG5leHQgYXJlIGV4Y2x1c2l2ZS5cbiAgdmFyIHN0YXJ0ID0gMCwgZW5kLCBjdXJyID0gMCwgbmV4dCA9IDA7XG4gIHZhciByZXN1bHQgPSAnJztcblxuICAvLyBJbnZhcmlhbnRzOiAwIDw9IHN0YXJ0IDw9IGxlbmd0aC0xLlxuICAvLyAgIDAgPD0gY3VyciA8PSBuZXh0IDw9IG1heCgwLCBsZW5ndGgtMikuIGN1cnIgLSBzdGFydCA8PSB3aWR0aC5cbiAgLy8gSW5zaWRlIHRoZSBsb29wOlxuICAvLyAgIEEgbWF0Y2ggaW1wbGllcyBsZW5ndGggPj0gMiwgc28gY3VyciBhbmQgbmV4dCBhcmUgPD0gbGVuZ3RoLTIuXG4gIHdoaWxlICgobWF0Y2ggPSBicmVha1JlLmV4ZWMobGluZSkpKSB7XG4gICAgbmV4dCA9IG1hdGNoLmluZGV4O1xuICAgIC8vIG1haW50YWluIGludmFyaWFudDogY3VyciAtIHN0YXJ0IDw9IHdpZHRoXG4gICAgaWYgKG5leHQgLSBzdGFydCA+IHdpZHRoKSB7XG4gICAgICBlbmQgPSAoY3VyciA+IHN0YXJ0KSA/IGN1cnIgOiBuZXh0OyAvLyBkZXJpdmUgZW5kIDw9IGxlbmd0aC0yXG4gICAgICByZXN1bHQgKz0gJ1xcbicgKyBsaW5lLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgICAgLy8gc2tpcCB0aGUgc3BhY2UgdGhhdCB3YXMgb3V0cHV0IGFzIFxcblxuICAgICAgc3RhcnQgPSBlbmQgKyAxOyAgICAgICAgICAgICAgICAgICAgLy8gZGVyaXZlIHN0YXJ0IDw9IGxlbmd0aC0xXG4gICAgfVxuICAgIGN1cnIgPSBuZXh0O1xuICB9XG5cbiAgLy8gQnkgdGhlIGludmFyaWFudHMsIHN0YXJ0IDw9IGxlbmd0aC0xLCBzbyB0aGVyZSBpcyBzb21ldGhpbmcgbGVmdCBvdmVyLlxuICAvLyBJdCBpcyBlaXRoZXIgdGhlIHdob2xlIHN0cmluZyBvciBhIHBhcnQgc3RhcnRpbmcgZnJvbSBub24td2hpdGVzcGFjZS5cbiAgcmVzdWx0ICs9ICdcXG4nO1xuICAvLyBJbnNlcnQgYSBicmVhayBpZiB0aGUgcmVtYWluZGVyIGlzIHRvbyBsb25nIGFuZCB0aGVyZSBpcyBhIGJyZWFrIGF2YWlsYWJsZS5cbiAgaWYgKGxpbmUubGVuZ3RoIC0gc3RhcnQgPiB3aWR0aCAmJiBjdXJyID4gc3RhcnQpIHtcbiAgICByZXN1bHQgKz0gbGluZS5zbGljZShzdGFydCwgY3VycikgKyAnXFxuJyArIGxpbmUuc2xpY2UoY3VyciArIDEpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCArPSBsaW5lLnNsaWNlKHN0YXJ0KTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQuc2xpY2UoMSk7IC8vIGRyb3AgZXh0cmEgXFxuIGpvaW5lclxufVxuXG4vLyBFc2NhcGVzIGEgZG91YmxlLXF1b3RlZCBzdHJpbmcuXG5mdW5jdGlvbiBlc2NhcGVTdHJpbmcoc3RyaW5nKSB7XG4gIHZhciByZXN1bHQgPSAnJztcbiAgdmFyIGNoYXIgPSAwO1xuICB2YXIgZXNjYXBlU2VxO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDsgY2hhciA+PSAweDEwMDAwID8gaSArPSAyIDogaSsrKSB7XG4gICAgY2hhciA9IGNvZGVQb2ludEF0KHN0cmluZywgaSk7XG4gICAgZXNjYXBlU2VxID0gRVNDQVBFX1NFUVVFTkNFU1tjaGFyXTtcblxuICAgIGlmICghZXNjYXBlU2VxICYmIGlzUHJpbnRhYmxlKGNoYXIpKSB7XG4gICAgICByZXN1bHQgKz0gc3RyaW5nW2ldO1xuICAgICAgaWYgKGNoYXIgPj0gMHgxMDAwMCkgcmVzdWx0ICs9IHN0cmluZ1tpICsgMV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCArPSBlc2NhcGVTZXEgfHwgZW5jb2RlSGV4KGNoYXIpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIHdyaXRlRmxvd1NlcXVlbmNlKHN0YXRlLCBsZXZlbCwgb2JqZWN0KSB7XG4gIHZhciBfcmVzdWx0ID0gJycsXG4gICAgICBfdGFnICAgID0gc3RhdGUudGFnLFxuICAgICAgaW5kZXgsXG4gICAgICBsZW5ndGgsXG4gICAgICB2YWx1ZTtcblxuICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gb2JqZWN0Lmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICB2YWx1ZSA9IG9iamVjdFtpbmRleF07XG5cbiAgICBpZiAoc3RhdGUucmVwbGFjZXIpIHtcbiAgICAgIHZhbHVlID0gc3RhdGUucmVwbGFjZXIuY2FsbChvYmplY3QsIFN0cmluZyhpbmRleCksIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBXcml0ZSBvbmx5IHZhbGlkIGVsZW1lbnRzLCBwdXQgbnVsbCBpbnN0ZWFkIG9mIGludmFsaWQgZWxlbWVudHMuXG4gICAgaWYgKHdyaXRlTm9kZShzdGF0ZSwgbGV2ZWwsIHZhbHVlLCBmYWxzZSwgZmFsc2UpIHx8XG4gICAgICAgICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICB3cml0ZU5vZGUoc3RhdGUsIGxldmVsLCBudWxsLCBmYWxzZSwgZmFsc2UpKSkge1xuXG4gICAgICBpZiAoX3Jlc3VsdCAhPT0gJycpIF9yZXN1bHQgKz0gJywnICsgKCFzdGF0ZS5jb25kZW5zZUZsb3cgPyAnICcgOiAnJyk7XG4gICAgICBfcmVzdWx0ICs9IHN0YXRlLmR1bXA7XG4gICAgfVxuICB9XG5cbiAgc3RhdGUudGFnID0gX3RhZztcbiAgc3RhdGUuZHVtcCA9ICdbJyArIF9yZXN1bHQgKyAnXSc7XG59XG5cbmZ1bmN0aW9uIHdyaXRlQmxvY2tTZXF1ZW5jZShzdGF0ZSwgbGV2ZWwsIG9iamVjdCwgY29tcGFjdCkge1xuICB2YXIgX3Jlc3VsdCA9ICcnLFxuICAgICAgX3RhZyAgICA9IHN0YXRlLnRhZyxcbiAgICAgIGluZGV4LFxuICAgICAgbGVuZ3RoLFxuICAgICAgdmFsdWU7XG5cbiAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IG9iamVjdC5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgdmFsdWUgPSBvYmplY3RbaW5kZXhdO1xuXG4gICAgaWYgKHN0YXRlLnJlcGxhY2VyKSB7XG4gICAgICB2YWx1ZSA9IHN0YXRlLnJlcGxhY2VyLmNhbGwob2JqZWN0LCBTdHJpbmcoaW5kZXgpLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLy8gV3JpdGUgb25seSB2YWxpZCBlbGVtZW50cywgcHV0IG51bGwgaW5zdGVhZCBvZiBpbnZhbGlkIGVsZW1lbnRzLlxuICAgIGlmICh3cml0ZU5vZGUoc3RhdGUsIGxldmVsICsgMSwgdmFsdWUsIHRydWUsIHRydWUsIGZhbHNlLCB0cnVlKSB8fFxuICAgICAgICAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgd3JpdGVOb2RlKHN0YXRlLCBsZXZlbCArIDEsIG51bGwsIHRydWUsIHRydWUsIGZhbHNlLCB0cnVlKSkpIHtcblxuICAgICAgaWYgKCFjb21wYWN0IHx8IF9yZXN1bHQgIT09ICcnKSB7XG4gICAgICAgIF9yZXN1bHQgKz0gZ2VuZXJhdGVOZXh0TGluZShzdGF0ZSwgbGV2ZWwpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUuZHVtcCAmJiBDSEFSX0xJTkVfRkVFRCA9PT0gc3RhdGUuZHVtcC5jaGFyQ29kZUF0KDApKSB7XG4gICAgICAgIF9yZXN1bHQgKz0gJy0nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3Jlc3VsdCArPSAnLSAnO1xuICAgICAgfVxuXG4gICAgICBfcmVzdWx0ICs9IHN0YXRlLmR1bXA7XG4gICAgfVxuICB9XG5cbiAgc3RhdGUudGFnID0gX3RhZztcbiAgc3RhdGUuZHVtcCA9IF9yZXN1bHQgfHwgJ1tdJzsgLy8gRW1wdHkgc2VxdWVuY2UgaWYgbm8gdmFsaWQgdmFsdWVzLlxufVxuXG5mdW5jdGlvbiB3cml0ZUZsb3dNYXBwaW5nKHN0YXRlLCBsZXZlbCwgb2JqZWN0KSB7XG4gIHZhciBfcmVzdWx0ICAgICAgID0gJycsXG4gICAgICBfdGFnICAgICAgICAgID0gc3RhdGUudGFnLFxuICAgICAgb2JqZWN0S2V5TGlzdCA9IE9iamVjdC5rZXlzKG9iamVjdCksXG4gICAgICBpbmRleCxcbiAgICAgIGxlbmd0aCxcbiAgICAgIG9iamVjdEtleSxcbiAgICAgIG9iamVjdFZhbHVlLFxuICAgICAgcGFpckJ1ZmZlcjtcblxuICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gb2JqZWN0S2V5TGlzdC5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG5cbiAgICBwYWlyQnVmZmVyID0gJyc7XG4gICAgaWYgKF9yZXN1bHQgIT09ICcnKSBwYWlyQnVmZmVyICs9ICcsICc7XG5cbiAgICBpZiAoc3RhdGUuY29uZGVuc2VGbG93KSBwYWlyQnVmZmVyICs9ICdcIic7XG5cbiAgICBvYmplY3RLZXkgPSBvYmplY3RLZXlMaXN0W2luZGV4XTtcbiAgICBvYmplY3RWYWx1ZSA9IG9iamVjdFtvYmplY3RLZXldO1xuXG4gICAgaWYgKHN0YXRlLnJlcGxhY2VyKSB7XG4gICAgICBvYmplY3RWYWx1ZSA9IHN0YXRlLnJlcGxhY2VyLmNhbGwob2JqZWN0LCBvYmplY3RLZXksIG9iamVjdFZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAoIXdyaXRlTm9kZShzdGF0ZSwgbGV2ZWwsIG9iamVjdEtleSwgZmFsc2UsIGZhbHNlKSkge1xuICAgICAgY29udGludWU7IC8vIFNraXAgdGhpcyBwYWlyIGJlY2F1c2Ugb2YgaW52YWxpZCBrZXk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXRlLmR1bXAubGVuZ3RoID4gMTAyNCkgcGFpckJ1ZmZlciArPSAnPyAnO1xuXG4gICAgcGFpckJ1ZmZlciArPSBzdGF0ZS5kdW1wICsgKHN0YXRlLmNvbmRlbnNlRmxvdyA/ICdcIicgOiAnJykgKyAnOicgKyAoc3RhdGUuY29uZGVuc2VGbG93ID8gJycgOiAnICcpO1xuXG4gICAgaWYgKCF3cml0ZU5vZGUoc3RhdGUsIGxldmVsLCBvYmplY3RWYWx1ZSwgZmFsc2UsIGZhbHNlKSkge1xuICAgICAgY29udGludWU7IC8vIFNraXAgdGhpcyBwYWlyIGJlY2F1c2Ugb2YgaW52YWxpZCB2YWx1ZS5cbiAgICB9XG5cbiAgICBwYWlyQnVmZmVyICs9IHN0YXRlLmR1bXA7XG5cbiAgICAvLyBCb3RoIGtleSBhbmQgdmFsdWUgYXJlIHZhbGlkLlxuICAgIF9yZXN1bHQgKz0gcGFpckJ1ZmZlcjtcbiAgfVxuXG4gIHN0YXRlLnRhZyA9IF90YWc7XG4gIHN0YXRlLmR1bXAgPSAneycgKyBfcmVzdWx0ICsgJ30nO1xufVxuXG5mdW5jdGlvbiB3cml0ZUJsb2NrTWFwcGluZyhzdGF0ZSwgbGV2ZWwsIG9iamVjdCwgY29tcGFjdCkge1xuICB2YXIgX3Jlc3VsdCAgICAgICA9ICcnLFxuICAgICAgX3RhZyAgICAgICAgICA9IHN0YXRlLnRhZyxcbiAgICAgIG9iamVjdEtleUxpc3QgPSBPYmplY3Qua2V5cyhvYmplY3QpLFxuICAgICAgaW5kZXgsXG4gICAgICBsZW5ndGgsXG4gICAgICBvYmplY3RLZXksXG4gICAgICBvYmplY3RWYWx1ZSxcbiAgICAgIGV4cGxpY2l0UGFpcixcbiAgICAgIHBhaXJCdWZmZXI7XG5cbiAgLy8gQWxsb3cgc29ydGluZyBrZXlzIHNvIHRoYXQgdGhlIG91dHB1dCBmaWxlIGlzIGRldGVybWluaXN0aWNcbiAgaWYgKHN0YXRlLnNvcnRLZXlzID09PSB0cnVlKSB7XG4gICAgLy8gRGVmYXVsdCBzb3J0aW5nXG4gICAgb2JqZWN0S2V5TGlzdC5zb3J0KCk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHN0YXRlLnNvcnRLZXlzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gQ3VzdG9tIHNvcnQgZnVuY3Rpb25cbiAgICBvYmplY3RLZXlMaXN0LnNvcnQoc3RhdGUuc29ydEtleXMpO1xuICB9IGVsc2UgaWYgKHN0YXRlLnNvcnRLZXlzKSB7XG4gICAgLy8gU29tZXRoaW5nIGlzIHdyb25nXG4gICAgdGhyb3cgbmV3IGV4Y2VwdGlvbignc29ydEtleXMgbXVzdCBiZSBhIGJvb2xlYW4gb3IgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IG9iamVjdEtleUxpc3QubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgIHBhaXJCdWZmZXIgPSAnJztcblxuICAgIGlmICghY29tcGFjdCB8fCBfcmVzdWx0ICE9PSAnJykge1xuICAgICAgcGFpckJ1ZmZlciArPSBnZW5lcmF0ZU5leHRMaW5lKHN0YXRlLCBsZXZlbCk7XG4gICAgfVxuXG4gICAgb2JqZWN0S2V5ID0gb2JqZWN0S2V5TGlzdFtpbmRleF07XG4gICAgb2JqZWN0VmFsdWUgPSBvYmplY3Rbb2JqZWN0S2V5XTtcblxuICAgIGlmIChzdGF0ZS5yZXBsYWNlcikge1xuICAgICAgb2JqZWN0VmFsdWUgPSBzdGF0ZS5yZXBsYWNlci5jYWxsKG9iamVjdCwgb2JqZWN0S2V5LCBvYmplY3RWYWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKCF3cml0ZU5vZGUoc3RhdGUsIGxldmVsICsgMSwgb2JqZWN0S2V5LCB0cnVlLCB0cnVlLCB0cnVlKSkge1xuICAgICAgY29udGludWU7IC8vIFNraXAgdGhpcyBwYWlyIGJlY2F1c2Ugb2YgaW52YWxpZCBrZXkuXG4gICAgfVxuXG4gICAgZXhwbGljaXRQYWlyID0gKHN0YXRlLnRhZyAhPT0gbnVsbCAmJiBzdGF0ZS50YWcgIT09ICc/JykgfHxcbiAgICAgICAgICAgICAgICAgICAoc3RhdGUuZHVtcCAmJiBzdGF0ZS5kdW1wLmxlbmd0aCA+IDEwMjQpO1xuXG4gICAgaWYgKGV4cGxpY2l0UGFpcikge1xuICAgICAgaWYgKHN0YXRlLmR1bXAgJiYgQ0hBUl9MSU5FX0ZFRUQgPT09IHN0YXRlLmR1bXAuY2hhckNvZGVBdCgwKSkge1xuICAgICAgICBwYWlyQnVmZmVyICs9ICc/JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhaXJCdWZmZXIgKz0gJz8gJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwYWlyQnVmZmVyICs9IHN0YXRlLmR1bXA7XG5cbiAgICBpZiAoZXhwbGljaXRQYWlyKSB7XG4gICAgICBwYWlyQnVmZmVyICs9IGdlbmVyYXRlTmV4dExpbmUoc3RhdGUsIGxldmVsKTtcbiAgICB9XG5cbiAgICBpZiAoIXdyaXRlTm9kZShzdGF0ZSwgbGV2ZWwgKyAxLCBvYmplY3RWYWx1ZSwgdHJ1ZSwgZXhwbGljaXRQYWlyKSkge1xuICAgICAgY29udGludWU7IC8vIFNraXAgdGhpcyBwYWlyIGJlY2F1c2Ugb2YgaW52YWxpZCB2YWx1ZS5cbiAgICB9XG5cbiAgICBpZiAoc3RhdGUuZHVtcCAmJiBDSEFSX0xJTkVfRkVFRCA9PT0gc3RhdGUuZHVtcC5jaGFyQ29kZUF0KDApKSB7XG4gICAgICBwYWlyQnVmZmVyICs9ICc6JztcbiAgICB9IGVsc2Uge1xuICAgICAgcGFpckJ1ZmZlciArPSAnOiAnO1xuICAgIH1cblxuICAgIHBhaXJCdWZmZXIgKz0gc3RhdGUuZHVtcDtcblxuICAgIC8vIEJvdGgga2V5IGFuZCB2YWx1ZSBhcmUgdmFsaWQuXG4gICAgX3Jlc3VsdCArPSBwYWlyQnVmZmVyO1xuICB9XG5cbiAgc3RhdGUudGFnID0gX3RhZztcbiAgc3RhdGUuZHVtcCA9IF9yZXN1bHQgfHwgJ3t9JzsgLy8gRW1wdHkgbWFwcGluZyBpZiBubyB2YWxpZCBwYWlycy5cbn1cblxuZnVuY3Rpb24gZGV0ZWN0VHlwZShzdGF0ZSwgb2JqZWN0LCBleHBsaWNpdCkge1xuICB2YXIgX3Jlc3VsdCwgdHlwZUxpc3QsIGluZGV4LCBsZW5ndGgsIHR5cGUsIHN0eWxlO1xuXG4gIHR5cGVMaXN0ID0gZXhwbGljaXQgPyBzdGF0ZS5leHBsaWNpdFR5cGVzIDogc3RhdGUuaW1wbGljaXRUeXBlcztcblxuICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gdHlwZUxpc3QubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgIHR5cGUgPSB0eXBlTGlzdFtpbmRleF07XG5cbiAgICBpZiAoKHR5cGUuaW5zdGFuY2VPZiAgfHwgdHlwZS5wcmVkaWNhdGUpICYmXG4gICAgICAgICghdHlwZS5pbnN0YW5jZU9mIHx8ICgodHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcpICYmIChvYmplY3QgaW5zdGFuY2VvZiB0eXBlLmluc3RhbmNlT2YpKSkgJiZcbiAgICAgICAgKCF0eXBlLnByZWRpY2F0ZSAgfHwgdHlwZS5wcmVkaWNhdGUob2JqZWN0KSkpIHtcblxuICAgICAgaWYgKGV4cGxpY2l0KSB7XG4gICAgICAgIGlmICh0eXBlLm11bHRpICYmIHR5cGUucmVwcmVzZW50TmFtZSkge1xuICAgICAgICAgIHN0YXRlLnRhZyA9IHR5cGUucmVwcmVzZW50TmFtZShvYmplY3QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0YXRlLnRhZyA9IHR5cGUudGFnO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS50YWcgPSAnPyc7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlLnJlcHJlc2VudCkge1xuICAgICAgICBzdHlsZSA9IHN0YXRlLnN0eWxlTWFwW3R5cGUudGFnXSB8fCB0eXBlLmRlZmF1bHRTdHlsZTtcblxuICAgICAgICBpZiAoX3RvU3RyaW5nLmNhbGwodHlwZS5yZXByZXNlbnQpID09PSAnW29iamVjdCBGdW5jdGlvbl0nKSB7XG4gICAgICAgICAgX3Jlc3VsdCA9IHR5cGUucmVwcmVzZW50KG9iamVjdCwgc3R5bGUpO1xuICAgICAgICB9IGVsc2UgaWYgKF9oYXNPd25Qcm9wZXJ0eS5jYWxsKHR5cGUucmVwcmVzZW50LCBzdHlsZSkpIHtcbiAgICAgICAgICBfcmVzdWx0ID0gdHlwZS5yZXByZXNlbnRbc3R5bGVdKG9iamVjdCwgc3R5bGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb24oJyE8JyArIHR5cGUudGFnICsgJz4gdGFnIHJlc29sdmVyIGFjY2VwdHMgbm90IFwiJyArIHN0eWxlICsgJ1wiIHN0eWxlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZS5kdW1wID0gX3Jlc3VsdDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBTZXJpYWxpemVzIGBvYmplY3RgIGFuZCB3cml0ZXMgaXQgdG8gZ2xvYmFsIGByZXN1bHRgLlxuLy8gUmV0dXJucyB0cnVlIG9uIHN1Y2Nlc3MsIG9yIGZhbHNlIG9uIGludmFsaWQgb2JqZWN0LlxuLy9cbmZ1bmN0aW9uIHdyaXRlTm9kZShzdGF0ZSwgbGV2ZWwsIG9iamVjdCwgYmxvY2ssIGNvbXBhY3QsIGlza2V5LCBpc2Jsb2Nrc2VxKSB7XG4gIHN0YXRlLnRhZyA9IG51bGw7XG4gIHN0YXRlLmR1bXAgPSBvYmplY3Q7XG5cbiAgaWYgKCFkZXRlY3RUeXBlKHN0YXRlLCBvYmplY3QsIGZhbHNlKSkge1xuICAgIGRldGVjdFR5cGUoc3RhdGUsIG9iamVjdCwgdHJ1ZSk7XG4gIH1cblxuICB2YXIgdHlwZSA9IF90b1N0cmluZy5jYWxsKHN0YXRlLmR1bXApO1xuICB2YXIgaW5ibG9jayA9IGJsb2NrO1xuICB2YXIgdGFnU3RyO1xuXG4gIGlmIChibG9jaykge1xuICAgIGJsb2NrID0gKHN0YXRlLmZsb3dMZXZlbCA8IDAgfHwgc3RhdGUuZmxvd0xldmVsID4gbGV2ZWwpO1xuICB9XG5cbiAgdmFyIG9iamVjdE9yQXJyYXkgPSB0eXBlID09PSAnW29iamVjdCBPYmplY3RdJyB8fCB0eXBlID09PSAnW29iamVjdCBBcnJheV0nLFxuICAgICAgZHVwbGljYXRlSW5kZXgsXG4gICAgICBkdXBsaWNhdGU7XG5cbiAgaWYgKG9iamVjdE9yQXJyYXkpIHtcbiAgICBkdXBsaWNhdGVJbmRleCA9IHN0YXRlLmR1cGxpY2F0ZXMuaW5kZXhPZihvYmplY3QpO1xuICAgIGR1cGxpY2F0ZSA9IGR1cGxpY2F0ZUluZGV4ICE9PSAtMTtcbiAgfVxuXG4gIGlmICgoc3RhdGUudGFnICE9PSBudWxsICYmIHN0YXRlLnRhZyAhPT0gJz8nKSB8fCBkdXBsaWNhdGUgfHwgKHN0YXRlLmluZGVudCAhPT0gMiAmJiBsZXZlbCA+IDApKSB7XG4gICAgY29tcGFjdCA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKGR1cGxpY2F0ZSAmJiBzdGF0ZS51c2VkRHVwbGljYXRlc1tkdXBsaWNhdGVJbmRleF0pIHtcbiAgICBzdGF0ZS5kdW1wID0gJypyZWZfJyArIGR1cGxpY2F0ZUluZGV4O1xuICB9IGVsc2Uge1xuICAgIGlmIChvYmplY3RPckFycmF5ICYmIGR1cGxpY2F0ZSAmJiAhc3RhdGUudXNlZER1cGxpY2F0ZXNbZHVwbGljYXRlSW5kZXhdKSB7XG4gICAgICBzdGF0ZS51c2VkRHVwbGljYXRlc1tkdXBsaWNhdGVJbmRleF0gPSB0cnVlO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcbiAgICAgIGlmIChibG9jayAmJiAoT2JqZWN0LmtleXMoc3RhdGUuZHVtcCkubGVuZ3RoICE9PSAwKSkge1xuICAgICAgICB3cml0ZUJsb2NrTWFwcGluZyhzdGF0ZSwgbGV2ZWwsIHN0YXRlLmR1bXAsIGNvbXBhY3QpO1xuICAgICAgICBpZiAoZHVwbGljYXRlKSB7XG4gICAgICAgICAgc3RhdGUuZHVtcCA9ICcmcmVmXycgKyBkdXBsaWNhdGVJbmRleCArIHN0YXRlLmR1bXA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdyaXRlRmxvd01hcHBpbmcoc3RhdGUsIGxldmVsLCBzdGF0ZS5kdW1wKTtcbiAgICAgICAgaWYgKGR1cGxpY2F0ZSkge1xuICAgICAgICAgIHN0YXRlLmR1bXAgPSAnJnJlZl8nICsgZHVwbGljYXRlSW5kZXggKyAnICcgKyBzdGF0ZS5kdW1wO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICBpZiAoYmxvY2sgJiYgKHN0YXRlLmR1bXAubGVuZ3RoICE9PSAwKSkge1xuICAgICAgICBpZiAoc3RhdGUubm9BcnJheUluZGVudCAmJiAhaXNibG9ja3NlcSAmJiBsZXZlbCA+IDApIHtcbiAgICAgICAgICB3cml0ZUJsb2NrU2VxdWVuY2Uoc3RhdGUsIGxldmVsIC0gMSwgc3RhdGUuZHVtcCwgY29tcGFjdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd3JpdGVCbG9ja1NlcXVlbmNlKHN0YXRlLCBsZXZlbCwgc3RhdGUuZHVtcCwgY29tcGFjdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGR1cGxpY2F0ZSkge1xuICAgICAgICAgIHN0YXRlLmR1bXAgPSAnJnJlZl8nICsgZHVwbGljYXRlSW5kZXggKyBzdGF0ZS5kdW1wO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3cml0ZUZsb3dTZXF1ZW5jZShzdGF0ZSwgbGV2ZWwsIHN0YXRlLmR1bXApO1xuICAgICAgICBpZiAoZHVwbGljYXRlKSB7XG4gICAgICAgICAgc3RhdGUuZHVtcCA9ICcmcmVmXycgKyBkdXBsaWNhdGVJbmRleCArICcgJyArIHN0YXRlLmR1bXA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdbb2JqZWN0IFN0cmluZ10nKSB7XG4gICAgICBpZiAoc3RhdGUudGFnICE9PSAnPycpIHtcbiAgICAgICAgd3JpdGVTY2FsYXIoc3RhdGUsIHN0YXRlLmR1bXAsIGxldmVsLCBpc2tleSwgaW5ibG9jayk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnW29iamVjdCBVbmRlZmluZWRdJykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoc3RhdGUuc2tpcEludmFsaWQpIHJldHVybiBmYWxzZTtcbiAgICAgIHRocm93IG5ldyBleGNlcHRpb24oJ3VuYWNjZXB0YWJsZSBraW5kIG9mIGFuIG9iamVjdCB0byBkdW1wICcgKyB0eXBlKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUudGFnICE9PSBudWxsICYmIHN0YXRlLnRhZyAhPT0gJz8nKSB7XG4gICAgICAvLyBOZWVkIHRvIGVuY29kZSBhbGwgY2hhcmFjdGVycyBleGNlcHQgdGhvc2UgYWxsb3dlZCBieSB0aGUgc3BlYzpcbiAgICAgIC8vXG4gICAgICAvLyBbMzVdIG5zLWRlYy1kaWdpdCAgICA6Oj0gIFsjeDMwLSN4MzldIC8qIDAtOSAqL1xuICAgICAgLy8gWzM2XSBucy1oZXgtZGlnaXQgICAgOjo9ICBucy1kZWMtZGlnaXRcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIHwgWyN4NDEtI3g0Nl0gLyogQS1GICovIHwgWyN4NjEtI3g2Nl0gLyogYS1mICovXG4gICAgICAvLyBbMzddIG5zLWFzY2lpLWxldHRlciA6Oj0gIFsjeDQxLSN4NUFdIC8qIEEtWiAqLyB8IFsjeDYxLSN4N0FdIC8qIGEteiAqL1xuICAgICAgLy8gWzM4XSBucy13b3JkLWNoYXIgICAgOjo9ICBucy1kZWMtZGlnaXQgfCBucy1hc2NpaS1sZXR0ZXIgfCDigJwt4oCdXG4gICAgICAvLyBbMzldIG5zLXVyaS1jaGFyICAgICA6Oj0gIOKAnCXigJ0gbnMtaGV4LWRpZ2l0IG5zLWhleC1kaWdpdCB8IG5zLXdvcmQtY2hhciB8IOKAnCPigJ1cbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIHwg4oCcO+KAnSB8IOKAnC/igJ0gfCDigJw/4oCdIHwg4oCcOuKAnSB8IOKAnEDigJ0gfCDigJwm4oCdIHwg4oCcPeKAnSB8IOKAnCvigJ0gfCDigJwk4oCdIHwg4oCcLOKAnVxuICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgfCDigJxf4oCdIHwg4oCcLuKAnSB8IOKAnCHigJ0gfCDigJx+4oCdIHwg4oCcKuKAnSB8IOKAnCfigJ0gfCDigJwo4oCdIHwg4oCcKeKAnSB8IOKAnFvigJ0gfCDigJxd4oCdXG4gICAgICAvL1xuICAgICAgLy8gQWxzbyBuZWVkIHRvIGVuY29kZSAnIScgYmVjYXVzZSBpdCBoYXMgc3BlY2lhbCBtZWFuaW5nIChlbmQgb2YgdGFnIHByZWZpeCkuXG4gICAgICAvL1xuICAgICAgdGFnU3RyID0gZW5jb2RlVVJJKFxuICAgICAgICBzdGF0ZS50YWdbMF0gPT09ICchJyA/IHN0YXRlLnRhZy5zbGljZSgxKSA6IHN0YXRlLnRhZ1xuICAgICAgKS5yZXBsYWNlKC8hL2csICclMjEnKTtcblxuICAgICAgaWYgKHN0YXRlLnRhZ1swXSA9PT0gJyEnKSB7XG4gICAgICAgIHRhZ1N0ciA9ICchJyArIHRhZ1N0cjtcbiAgICAgIH0gZWxzZSBpZiAodGFnU3RyLnNsaWNlKDAsIDE4KSA9PT0gJ3RhZzp5YW1sLm9yZywyMDAyOicpIHtcbiAgICAgICAgdGFnU3RyID0gJyEhJyArIHRhZ1N0ci5zbGljZSgxOCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YWdTdHIgPSAnITwnICsgdGFnU3RyICsgJz4nO1xuICAgICAgfVxuXG4gICAgICBzdGF0ZS5kdW1wID0gdGFnU3RyICsgJyAnICsgc3RhdGUuZHVtcDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gZ2V0RHVwbGljYXRlUmVmZXJlbmNlcyhvYmplY3QsIHN0YXRlKSB7XG4gIHZhciBvYmplY3RzID0gW10sXG4gICAgICBkdXBsaWNhdGVzSW5kZXhlcyA9IFtdLFxuICAgICAgaW5kZXgsXG4gICAgICBsZW5ndGg7XG5cbiAgaW5zcGVjdE5vZGUob2JqZWN0LCBvYmplY3RzLCBkdXBsaWNhdGVzSW5kZXhlcyk7XG5cbiAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IGR1cGxpY2F0ZXNJbmRleGVzLmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICBzdGF0ZS5kdXBsaWNhdGVzLnB1c2gob2JqZWN0c1tkdXBsaWNhdGVzSW5kZXhlc1tpbmRleF1dKTtcbiAgfVxuICBzdGF0ZS51c2VkRHVwbGljYXRlcyA9IG5ldyBBcnJheShsZW5ndGgpO1xufVxuXG5mdW5jdGlvbiBpbnNwZWN0Tm9kZShvYmplY3QsIG9iamVjdHMsIGR1cGxpY2F0ZXNJbmRleGVzKSB7XG4gIHZhciBvYmplY3RLZXlMaXN0LFxuICAgICAgaW5kZXgsXG4gICAgICBsZW5ndGg7XG5cbiAgaWYgKG9iamVjdCAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0Jykge1xuICAgIGluZGV4ID0gb2JqZWN0cy5pbmRleE9mKG9iamVjdCk7XG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgaWYgKGR1cGxpY2F0ZXNJbmRleGVzLmluZGV4T2YoaW5kZXgpID09PSAtMSkge1xuICAgICAgICBkdXBsaWNhdGVzSW5kZXhlcy5wdXNoKGluZGV4KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgb2JqZWN0cy5wdXNoKG9iamVjdCk7XG5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iamVjdCkpIHtcbiAgICAgICAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IG9iamVjdC5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgICAgICAgaW5zcGVjdE5vZGUob2JqZWN0W2luZGV4XSwgb2JqZWN0cywgZHVwbGljYXRlc0luZGV4ZXMpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvYmplY3RLZXlMaXN0ID0gT2JqZWN0LmtleXMob2JqZWN0KTtcblxuICAgICAgICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gb2JqZWN0S2V5TGlzdC5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgICAgICAgaW5zcGVjdE5vZGUob2JqZWN0W29iamVjdEtleUxpc3RbaW5kZXhdXSwgb2JqZWN0cywgZHVwbGljYXRlc0luZGV4ZXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGR1bXAkMShpbnB1dCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICB2YXIgc3RhdGUgPSBuZXcgU3RhdGUob3B0aW9ucyk7XG5cbiAgaWYgKCFzdGF0ZS5ub1JlZnMpIGdldER1cGxpY2F0ZVJlZmVyZW5jZXMoaW5wdXQsIHN0YXRlKTtcblxuICB2YXIgdmFsdWUgPSBpbnB1dDtcblxuICBpZiAoc3RhdGUucmVwbGFjZXIpIHtcbiAgICB2YWx1ZSA9IHN0YXRlLnJlcGxhY2VyLmNhbGwoeyAnJzogdmFsdWUgfSwgJycsIHZhbHVlKTtcbiAgfVxuXG4gIGlmICh3cml0ZU5vZGUoc3RhdGUsIDAsIHZhbHVlLCB0cnVlLCB0cnVlKSkgcmV0dXJuIHN0YXRlLmR1bXAgKyAnXFxuJztcblxuICByZXR1cm4gJyc7XG59XG5cbnZhciBkdW1wXzEgPSBkdW1wJDE7XG5cbnZhciBkdW1wZXIgPSB7XG5cdGR1bXA6IGR1bXBfMVxufTtcblxuZnVuY3Rpb24gcmVuYW1lZChmcm9tLCB0bykge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignRnVuY3Rpb24geWFtbC4nICsgZnJvbSArICcgaXMgcmVtb3ZlZCBpbiBqcy15YW1sIDQuICcgK1xuICAgICAgJ1VzZSB5YW1sLicgKyB0byArICcgaW5zdGVhZCwgd2hpY2ggaXMgbm93IHNhZmUgYnkgZGVmYXVsdC4nKTtcbiAgfTtcbn1cblxuXG52YXIgVHlwZSAgICAgICAgICAgICAgICA9IHR5cGU7XG52YXIgU2NoZW1hICAgICAgICAgICAgICA9IHNjaGVtYTtcbnZhciBGQUlMU0FGRV9TQ0hFTUEgICAgID0gZmFpbHNhZmU7XG52YXIgSlNPTl9TQ0hFTUEgICAgICAgICA9IGpzb247XG52YXIgQ09SRV9TQ0hFTUEgICAgICAgICA9IGNvcmU7XG52YXIgREVGQVVMVF9TQ0hFTUEgICAgICA9IF9kZWZhdWx0O1xudmFyIGxvYWQgICAgICAgICAgICAgICAgPSBsb2FkZXIubG9hZDtcbnZhciBsb2FkQWxsICAgICAgICAgICAgID0gbG9hZGVyLmxvYWRBbGw7XG52YXIgZHVtcCAgICAgICAgICAgICAgICA9IGR1bXBlci5kdW1wO1xudmFyIFlBTUxFeGNlcHRpb24gICAgICAgPSBleGNlcHRpb247XG5cbi8vIFJlLWV4cG9ydCBhbGwgdHlwZXMgaW4gY2FzZSB1c2VyIHdhbnRzIHRvIGNyZWF0ZSBjdXN0b20gc2NoZW1hXG52YXIgdHlwZXMgPSB7XG4gIGJpbmFyeTogICAgYmluYXJ5LFxuICBmbG9hdDogICAgIGZsb2F0LFxuICBtYXA6ICAgICAgIG1hcCxcbiAgbnVsbDogICAgICBfbnVsbCxcbiAgcGFpcnM6ICAgICBwYWlycyxcbiAgc2V0OiAgICAgICBzZXQsXG4gIHRpbWVzdGFtcDogdGltZXN0YW1wLFxuICBib29sOiAgICAgIGJvb2wsXG4gIGludDogICAgICAgaW50LFxuICBtZXJnZTogICAgIG1lcmdlLFxuICBvbWFwOiAgICAgIG9tYXAsXG4gIHNlcTogICAgICAgc2VxLFxuICBzdHI6ICAgICAgIHN0clxufTtcblxuLy8gUmVtb3ZlZCBmdW5jdGlvbnMgZnJvbSBKUy1ZQU1MIDMuMC54XG52YXIgc2FmZUxvYWQgICAgICAgICAgICA9IHJlbmFtZWQoJ3NhZmVMb2FkJywgJ2xvYWQnKTtcbnZhciBzYWZlTG9hZEFsbCAgICAgICAgID0gcmVuYW1lZCgnc2FmZUxvYWRBbGwnLCAnbG9hZEFsbCcpO1xudmFyIHNhZmVEdW1wICAgICAgICAgICAgPSByZW5hbWVkKCdzYWZlRHVtcCcsICdkdW1wJyk7XG5cbnZhciBqc1lhbWwgPSB7XG5cdFR5cGU6IFR5cGUsXG5cdFNjaGVtYTogU2NoZW1hLFxuXHRGQUlMU0FGRV9TQ0hFTUE6IEZBSUxTQUZFX1NDSEVNQSxcblx0SlNPTl9TQ0hFTUE6IEpTT05fU0NIRU1BLFxuXHRDT1JFX1NDSEVNQTogQ09SRV9TQ0hFTUEsXG5cdERFRkFVTFRfU0NIRU1BOiBERUZBVUxUX1NDSEVNQSxcblx0bG9hZDogbG9hZCxcblx0bG9hZEFsbDogbG9hZEFsbCxcblx0ZHVtcDogZHVtcCxcblx0WUFNTEV4Y2VwdGlvbjogWUFNTEV4Y2VwdGlvbixcblx0dHlwZXM6IHR5cGVzLFxuXHRzYWZlTG9hZDogc2FmZUxvYWQsXG5cdHNhZmVMb2FkQWxsOiBzYWZlTG9hZEFsbCxcblx0c2FmZUR1bXA6IHNhZmVEdW1wXG59O1xuXG5leHBvcnQgZGVmYXVsdCBqc1lhbWw7XG5leHBvcnQgeyBDT1JFX1NDSEVNQSwgREVGQVVMVF9TQ0hFTUEsIEZBSUxTQUZFX1NDSEVNQSwgSlNPTl9TQ0hFTUEsIFNjaGVtYSwgVHlwZSwgWUFNTEV4Y2VwdGlvbiwgZHVtcCwgbG9hZCwgbG9hZEFsbCwgc2FmZUR1bXAsIHNhZmVMb2FkLCBzYWZlTG9hZEFsbCwgdHlwZXMgfTtcbiIsIi8vIEB2ZXNzZWwtcHJvdG9jb2w6T2RpbiBnb3Zlcm5zOlttZW1vcnktc3luY3xpbnRlZ3JhdGlvbl0gY29udGV4dDpQcm92aWRlIHNhZmUgZnJvbnRtYXR0ZXIgbW1fdWlkIHJlYWQvd3JpdGUvcmVtb3ZlIHV0aWxpdGllc1xuLy8gQGludGVyLWRlcGVuZGVuY2llczogW3NyYy91dGlscy9Mb2dnZXIudHNdXG4vLyBAcHVycG9zZTogTWFuYWdlIG1tX3VpZCBpbiBub3RlIGZyb250bWF0dGVyIHRvIHN1cHBvcnQgbW1fdWlkLWJhc2VkIHN5bmMgaWRlbnRpZmljYXRpb25cbi8vIEByZXN1bHQ6IFJlYWQsIHdyaXRlIGFuZCByZW1vdmUgbW1fdWlkIGZyb20gbm90ZSBmcm9udG1hdHRlciB3aGlsZSBwcmVzZXJ2aW5nIGV4aXN0aW5nIGZyb250bWF0dGVyIGFuZCBmb3JtYXR0aW5nXG4vLyBAc2lnbmVkOiBDLkJqw7hyblxuXG5pbXBvcnQgeyBURmlsZSwgQXBwIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0ICogYXMgeWFtbCBmcm9tICdqcy15YW1sJztcbmltcG9ydCB7IHByb21pc2VzIGFzIGZzIH0gZnJvbSAnZnMnO1xuaW1wb3J0IHsgR3JhcGhpdGlMb2dnZXIgfSBmcm9tICcuL0xvZ2dlcic7XG5cbi8qKlxuICogRnJvbnRtYXR0ZXJVdGlscyAtIGhlbHBlcnMgZm9yIHJlYWRpbmcvd3JpdGluZy9yZW1vdmluZyBgbW1fdWlkYCBpbiBub3RlIGZyb250bWF0dGVyLlxuICpcbiAqIEltcGxlbWVudGF0aW9uIG5vdGVzOlxuICogLSBQcmVmZXIgbWV0YWRhdGFDYWNoZSBmb3IgcmVhZHMgd2hlbiBhdmFpbGFibGUgZm9yIHBlcmZvcm1hbmNlLlxuICogLSBGYWxsIGJhY2sgdG8gcmVhZGluZyB0aGUgZmlsZSBjb250ZW50cyBhbmQgcGFyc2luZyBZQU1MIGZyb250bWF0dGVyIGRpcmVjdGx5LlxuICogLSBVc2UganMteWFtbCBmb3Igc2FmZSBwYXJzZS9kdW1wLlxuICogLSBQcmVzZXJ2ZSBvdGhlciBmcm9udG1hdHRlciBrZXlzIGFuZCB0aGUgYm9keSBjb250ZW50LlxuICogLSBVc2UgR3JhcGhpdGlMb2dnZXIgd2hlbiBhdmFpbGFibGU7IGZhbGxiYWNrIHRvIGNvbnNvbGUgd2l0aCBBU0NJSS1vbmx5IG1lc3NhZ2VzLlxuICovXG5cbi8qKiBLZXkgdXNlZCBpbiBmcm9udG1hdHRlciBmb3IgdGhlIG1lbW9yeS1tYXAgdW5pcXVlIGlkICovXG5jb25zdCBNTV9VSURfS0VZID0gJ21tX3VpZCc7XG5cbi8qKiBMb2dnZXIgaW50ZXJmYWNlIGZvciBjb25zaXN0ZW50IGxvZ2dpbmcgKi9cbmludGVyZmFjZSBMb2dnZXJJbnRlcmZhY2Uge1xuICBlcnJvcjogKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkO1xuICB3YXJuOiAoLi4uYXJnczogYW55W10pID0+IHZvaWQ7XG4gIGluZm86ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZDtcbiAgZGVidWc6ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZDtcbn1cblxuLyoqIEZhbGxiYWNrIGNvbnNvbGUgbG9nZ2VyIHdpdGggQVNDSUktb25seSBvdXRwdXQgZm9yIFdpbmRvd3MgY29tcGF0aWJpbGl0eSAqL1xuY29uc3QgbG9nZ2VyOiBMb2dnZXJJbnRlcmZhY2UgPSB7XG4gIGVycm9yOiAoLi4uYXJnczogYW55W10pID0+IHsgY29uc29sZS5lcnJvcignW0VSUk9SXScsIC4uLmFyZ3MpOyB9LFxuICB3YXJuOiAoLi4uYXJnczogYW55W10pID0+IHsgY29uc29sZS53YXJuKCdbV0FSTl0nLCAuLi5hcmdzKTsgfSxcbiAgaW5mbzogKC4uLmFyZ3M6IGFueVtdKSA9PiB7IGNvbnNvbGUuaW5mbygnW0lORk9dJywgLi4uYXJncyk7IH0sXG4gIGRlYnVnOiAoLi4uYXJnczogYW55W10pID0+IHsgY29uc29sZS5kZWJ1ZygnW0RFQlVHXScsIC4uLmFyZ3MpOyB9LFxufTtcblxuLyoqXG4gKiBFeHRyYWN0IGZyb250bWF0dGVyIGJsb2NrIGFuZCBib2R5IGZyb20gcmF3IG1hcmtkb3duLlxuICogUmV0dXJucyB7ZnJvbnRtYXR0ZXI6IHN0cmluZyB8IG51bGwsIGJvZHk6IHN0cmluZ31cbiAqL1xuZnVuY3Rpb24gc3BsaXRGcm9udG1hdHRlcihyYXc6IHN0cmluZyk6IHsgZnJvbnRtYXR0ZXI6IHN0cmluZyB8IG51bGw7IGJvZHk6IHN0cmluZyB9IHtcbiAgaWYgKHJhdy5zdGFydHNXaXRoKCctLS0nKSkge1xuICAgIGNvbnN0IGVuZElkeCA9IHJhdy5pbmRleE9mKCdcXG4tLS0nLCAzKTtcbiAgICBpZiAoZW5kSWR4ICE9PSAtMSkge1xuICAgICAgY29uc3QgZm0gPSByYXcuc2xpY2UoMywgZW5kSWR4ICsgMSk7IC8vIGluY2x1ZGUgdHJhaWxpbmcgbmV3bGluZVxuICAgICAgY29uc3QgYm9keSA9IHJhdy5zbGljZShlbmRJZHggKyA0KTsgLy8gc2tpcCBcIlxcbi0tLVwiXG4gICAgICByZXR1cm4geyBmcm9udG1hdHRlcjogZm0sIGJvZHkgfTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHsgZnJvbnRtYXR0ZXI6IG51bGwsIGJvZHk6IHJhdyB9O1xufVxuXG4vKipcbiAqIFNhZmVseSBwYXJzZSBZQU1MIGZyb250bWF0dGVyIGludG8gYW4gb2JqZWN0LlxuICogUmV0dXJucyBudWxsIGlmIG5vIGZyb250bWF0dGVyIHByZXNlbnQuXG4gKi9cbmZ1bmN0aW9uIHBhcnNlRnJvbnRtYXR0ZXIoZnJvbnRNYXR0ZXJUZXh0OiBzdHJpbmcgfCBudWxsKTogYW55IHwgbnVsbCB7XG4gIGlmICghZnJvbnRNYXR0ZXJUZXh0KSByZXR1cm4gbnVsbDtcbiAgdHJ5IHtcbiAgICAvLyBqcy15YW1sIHNhZmVMb2FkIGVxdWl2YWxlbnQgaXMgbG9hZFxuICAgIGNvbnN0IHBhcnNlZCA9IHlhbWwubG9hZChmcm9udE1hdHRlclRleHQpO1xuICAgIGlmICh0eXBlb2YgcGFyc2VkID09PSAnb2JqZWN0JyAmJiBwYXJzZWQgIT09IG51bGwpIHJldHVybiBwYXJzZWQ7XG4gICAgcmV0dXJuIHt9O1xuICB9IGNhdGNoIChlKSB7XG4gICAgbG9nZ2VyLmVycm9yKCdbRnJvbnRtYXR0ZXJVdGlsc10gWUFNTCBwYXJzZSBmYWlsZWQ6JywgU3RyaW5nKGUpKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ01hbGZvcm1lZCBmcm9udG1hdHRlcjogJyArIFN0cmluZyhlKSk7XG4gIH1cbn1cblxuLyoqXG4gKiBTZXJpYWxpemUgZnJvbnRtYXR0ZXIgb2JqZWN0IGJhY2sgdG8gWUFNTCBzdHJpbmcgKHdpdGhvdXQgdGhlIHN1cnJvdW5kaW5nIC0tLSBtYXJrZXJzKS5cbiAqIEtlZXBzIHNpbXBsZSBmb3JtYXR0aW5nIGNob2ljZXMuXG4gKi9cbmZ1bmN0aW9uIGR1bXBGcm9udG1hdHRlcihvYmo6IGFueSk6IHN0cmluZyB7XG4gIC8vIFVzZSBzaW1wbGUgZHVtcCBvcHRpb25zIHRvIHByb2R1Y2UgcmVhZGFibGUgWUFNTFxuICByZXR1cm4geWFtbC5kdW1wKG9iaiwgeyBzY2hlbWE6IHlhbWwuREVGQVVMVF9TQ0hFTUEsIG5vUmVmczogdHJ1ZSwgc29ydEtleXM6IGZhbHNlIH0pO1xufVxuXG4vKipcbiAqIFJlYWQgbW1fdWlkIGZyb20gYSBURmlsZSdzIGZyb250bWF0dGVyLlxuICogVHJpZXMgbWV0YWRhdGFDYWNoZSBmaXJzdCwgdGhlbiBmYWxscyBiYWNrIHRvIHJlYWRpbmcgdGhlIGZpbGUgYW5kIHBhcnNpbmcgZnJvbnRtYXR0ZXIuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWFkTW1VaWQoYXBwOiBBcHAsIGZpbGU6IFRGaWxlKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgLy8gUHJlZmVyIG1ldGFkYXRhQ2FjaGUgd2hlbiBhdmFpbGFibGVcbiAgICB0cnkge1xuICAgICAgY29uc3QgY2FjaGUgPSBhcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoZmlsZSk7XG4gICAgICBpZiAoY2FjaGUgJiYgY2FjaGUuZnJvbnRtYXR0ZXIgJiYgdHlwZW9mIGNhY2hlLmZyb250bWF0dGVyID09PSAnb2JqZWN0Jykge1xuICAgICAgICBjb25zdCB2YWwgPSAoY2FjaGUuZnJvbnRtYXR0ZXIgYXMgYW55KVtNTV9VSURfS0VZXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSByZXR1cm4gdmFsO1xuICAgICAgICBpZiAodmFsICE9PSB1bmRlZmluZWQgJiYgdmFsICE9PSBudWxsKSByZXR1cm4gU3RyaW5nKHZhbCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gbWV0YWRhdGFDYWNoZSBtYXkgdGhyb3cgaW4gc29tZSB0ZXN0aW5nIGNvbnRleHRzOyBmYWxsIGJhY2tcbiAgICAgIGxvZ2dlci5kZWJ1ZygnW0Zyb250bWF0dGVyVXRpbHNdIG1ldGFkYXRhQ2FjaGUgcmVhZCBmYWlsZWQsIGZhbGxpbmcgYmFjayB0byBmaWxlIHJlYWQuJywgU3RyaW5nKGUpKTtcbiAgICB9XG5cbiAgICAvLyBSZWFkIGZpbGUgY29udGVudHNcbiAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgYXBwLnZhdWx0LnJlYWQoZmlsZSk7XG4gICAgY29uc3QgeyBmcm9udG1hdHRlciB9ID0gc3BsaXRGcm9udG1hdHRlcihjb250ZW50KTtcbiAgICBpZiAoIWZyb250bWF0dGVyKSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBwYXJzZWQgPSBwYXJzZUZyb250bWF0dGVyKGZyb250bWF0dGVyKTtcbiAgICBpZiAoIXBhcnNlZCkgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgbW0gPSBwYXJzZWRbTU1fVUlEX0tFWV07XG4gICAgaWYgKHR5cGVvZiBtbSA9PT0gJ3N0cmluZycpIHJldHVybiBtbTtcbiAgICBpZiAobW0gIT09IHVuZGVmaW5lZCAmJiBtbSAhPT0gbnVsbCkgcmV0dXJuIFN0cmluZyhtbSk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGxvZ2dlci5lcnJvcignW0Zyb250bWF0dGVyVXRpbHNdIEZhaWxlZCB0byByZWFkIG1tX3VpZCBmb3IgZmlsZTonLCBmaWxlLnBhdGgsIFN0cmluZyhlcnIpKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIFdyaXRlIG9yIHVwZGF0ZSBtbV91aWQgaW4gYSBmaWxlJ3MgZnJvbnRtYXR0ZXIuXG4gKiBQcmVzZXJ2ZXMgb3RoZXIgZnJvbnRtYXR0ZXIga2V5cyBhbmQgYm9keSBjb250ZW50LiBJZiBubyBmcm9udG1hdHRlciBleGlzdHMsIG9uZSB3aWxsIGJlIGNyZWF0ZWQuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB3cml0ZU1tVWlkKGFwcDogQXBwLCBmaWxlOiBURmlsZSwgbW1VaWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICB0cnkge1xuICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCBhcHAudmF1bHQucmVhZChmaWxlKTtcbiAgICBjb25zdCB7IGZyb250bWF0dGVyLCBib2R5IH0gPSBzcGxpdEZyb250bWF0dGVyKGNvbnRlbnQpO1xuXG4gICAgbGV0IGZtT2JqOiBhbnkgPSB7fTtcbiAgICBpZiAoZnJvbnRtYXR0ZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGZtT2JqID0gcGFyc2VGcm9udG1hdHRlcihmcm9udG1hdHRlcikgfHwge307XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIE1hbGZvcm1lZCBmcm9udG1hdHRlciAtIGxvZyBhbmQgcmV0aHJvdyBzbyBjYWxsZXIgY2FuIGRlY2lkZVxuICAgICAgICBsb2dnZXIuZXJyb3IoJ1tGcm9udG1hdHRlclV0aWxzXSBNYWxmb3JtZWQgZnJvbnRtYXR0ZXIgd2hlbiB3cml0aW5nIG1tX3VpZCBmb3InLCBmaWxlLnBhdGgsIFN0cmluZyhlKSk7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm1PYmpbTU1fVUlEX0tFWV0gPSBtbVVpZDtcblxuICAgIGNvbnN0IGZtVGV4dCA9IGR1bXBGcm9udG1hdHRlcihmbU9iaikudHJpbUVuZCgpO1xuICAgIGNvbnN0IG5ld0NvbnRlbnQgPSBgLS0tXFxuJHtmbVRleHR9XFxuLS0tXFxuJHtib2R5fWA7XG5cbiAgICAvLyBVc2UgT2JzaWRpYW4gQVBJIHRvIG1vZGlmeSB0aGUgZmlsZSB3aGVyZSBwb3NzaWJsZVxuICAgIGlmIChhcHAudmF1bHQgJiYgdHlwZW9mIGFwcC52YXVsdC5tb2RpZnkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGF3YWl0IGFwcC52YXVsdC5tb2RpZnkoZmlsZSwgbmV3Q29udGVudCk7XG4gICAgICBsb2dnZXIuaW5mbygnW0Zyb250bWF0dGVyVXRpbHNdIFdyb3RlIG1tX3VpZCB0bycsIGZpbGUucGF0aCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRmFsbGJhY2s6IHVzZSB2YXVsdCBhZGFwdGVyIGlmIGF2YWlsYWJsZVxuICAgIGlmIChhcHAudmF1bHQgJiYgKGFwcC52YXVsdCBhcyBhbnkpLmFkYXB0ZXIgJiYgdHlwZW9mIChhcHAudmF1bHQgYXMgYW55KS5hZGFwdGVyLndyaXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhd2FpdCAoYXBwLnZhdWx0IGFzIGFueSkuYWRhcHRlci53cml0ZShmaWxlLnBhdGgsIG5ld0NvbnRlbnQpO1xuICAgICAgbG9nZ2VyLmluZm8oJ1tGcm9udG1hdHRlclV0aWxzXSBXcm90ZSBtbV91aWQgdG8gKGFkYXB0ZXIpICcsIGZpbGUucGF0aCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gTGFzdCByZXNvcnQ6IHdyaXRlIHVzaW5nIG5vZGUgZnMgaWYgcGF0aCBhY2Nlc3NpYmxlICh0aGlzIGlzIHVubGlrZWx5IGluIE9ic2lkaWFuIHBsdWdpbiBydW50aW1lKVxuICAgIGF3YWl0IGZzLndyaXRlRmlsZShmaWxlLnBhdGgsIG5ld0NvbnRlbnQsIHsgZW5jb2Rpbmc6ICd1dGY4JyB9KTtcbiAgICBsb2dnZXIuaW5mbygnW0Zyb250bWF0dGVyVXRpbHNdIFdyb3RlIG1tX3VpZCB0byAoZnMpICcsIGZpbGUucGF0aCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGxvZ2dlci5lcnJvcignW0Zyb250bWF0dGVyVXRpbHNdIEZhaWxlZCB0byB3cml0ZSBtbV91aWQgZm9yIGZpbGU6JywgZmlsZS5wYXRoLCBTdHJpbmcoZXJyKSk7XG4gICAgdGhyb3cgZXJyO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlIG1tX3VpZCBmcm9tIGZyb250bWF0dGVyIGlmIHByZXNlbnQuXG4gKiBQcmVzZXJ2ZXMgb3RoZXIgZnJvbnRtYXR0ZXIgYW5kIGJvZHkgY29udGVudC4gSWYgZnJvbnRtYXR0ZXIgYmVjb21lcyBlbXB0eSwgaXQgcmVtb3ZlcyB0aGUgZnJvbnRtYXR0ZXIgYmxvY2suXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZW1vdmVNbVVpZChhcHA6IEFwcCwgZmlsZTogVEZpbGUpOiBQcm9taXNlPHZvaWQ+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgYXBwLnZhdWx0LnJlYWQoZmlsZSk7XG4gICAgY29uc3QgeyBmcm9udG1hdHRlciwgYm9keSB9ID0gc3BsaXRGcm9udG1hdHRlcihjb250ZW50KTtcblxuICAgIGlmICghZnJvbnRtYXR0ZXIpIHtcbiAgICAgIGxvZ2dlci5kZWJ1ZygnW0Zyb250bWF0dGVyVXRpbHNdIE5vIGZyb250bWF0dGVyIHByZXNlbnQgZm9yJywgZmlsZS5wYXRoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgZm1PYmo6IGFueTtcbiAgICB0cnkge1xuICAgICAgZm1PYmogPSBwYXJzZUZyb250bWF0dGVyKGZyb250bWF0dGVyKSB8fCB7fTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ1tGcm9udG1hdHRlclV0aWxzXSBNYWxmb3JtZWQgZnJvbnRtYXR0ZXIgd2hlbiByZW1vdmluZyBtbV91aWQgZm9yJywgZmlsZS5wYXRoLCBTdHJpbmcoZSkpO1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG5cbiAgICBpZiAoZm1PYmouaGFzT3duUHJvcGVydHkoTU1fVUlEX0tFWSkpIHtcbiAgICAgIGRlbGV0ZSBmbU9ialtNTV9VSURfS0VZXTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nZ2VyLmRlYnVnKCdbRnJvbnRtYXR0ZXJVdGlsc10gbW1fdWlkIG5vdCBwcmVzZW50IG9uJywgZmlsZS5wYXRoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgZnJvbnRtYXR0ZXIgb2JqZWN0IGlzIGVtcHR5IG5vdywgcmVtb3ZlIGZyb250bWF0dGVyIGJsb2NrXG4gICAgY29uc3QgaGFzS2V5cyA9IE9iamVjdC5rZXlzKGZtT2JqKS5sZW5ndGggPiAwO1xuICAgIGNvbnN0IG5ld0NvbnRlbnQgPSBoYXNLZXlzID8gYC0tLVxcbiR7ZHVtcEZyb250bWF0dGVyKGZtT2JqKS50cmltRW5kKCl9XFxuLS0tXFxuJHtib2R5fWAgOiBib2R5O1xuXG4gICAgaWYgKGFwcC52YXVsdCAmJiB0eXBlb2YgYXBwLnZhdWx0Lm1vZGlmeSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYXdhaXQgYXBwLnZhdWx0Lm1vZGlmeShmaWxlLCBuZXdDb250ZW50KTtcbiAgICAgIGxvZ2dlci5pbmZvKCdbRnJvbnRtYXR0ZXJVdGlsc10gUmVtb3ZlZCBtbV91aWQgZnJvbScsIGZpbGUucGF0aCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGFwcC52YXVsdCAmJiAoYXBwLnZhdWx0IGFzIGFueSkudmF1bHQgJiYgdHlwZW9mIChhcHAudmF1bHQgYXMgYW55KS5hZGFwdGVyLndyaXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhd2FpdCAoYXBwLnZhdWx0IGFzIGFueSkuYWRhcHRlci53cml0ZShmaWxlLnBhdGgsIG5ld0NvbnRlbnQpO1xuICAgICAgbG9nZ2VyLmluZm8oJ1tGcm9udG1hdHRlclV0aWxzXSBSZW1vdmVkIG1tX3VpZCBmcm9tIChhZGFwdGVyKSAnLCBmaWxlLnBhdGgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGF3YWl0IGZzLndyaXRlRmlsZShmaWxlLnBhdGgsIG5ld0NvbnRlbnQsIHsgZW5jb2Rpbmc6ICd1dGY4JyB9KTtcbiAgICBsb2dnZXIuaW5mbygnW0Zyb250bWF0dGVyVXRpbHNdIFJlbW92ZWQgbW1fdWlkIGZyb20gKGZzKSAnLCBmaWxlLnBhdGgpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBsb2dnZXIuZXJyb3IoJ1tGcm9udG1hdHRlclV0aWxzXSBGYWlsZWQgdG8gcmVtb3ZlIG1tX3VpZCBmb3IgZmlsZTonLCBmaWxlLnBhdGgsIFN0cmluZyhlcnIpKTtcbiAgICB0aHJvdyBlcnI7XG4gIH1cbn1cblxuLy8gQHZlc3NlbC1jbG9zZTpPZGluIiwiLyoqXHJcbiAqIFN5bmMgU3RhdHVzIFR5cGVzIGFuZCBJbnRlcmZhY2VzIGZvciBHcmFwaGl0aSBLbm93bGVkZ2UgR3JhcGggSW50ZWdyYXRpb25cclxuICpcclxuICogPT09IFZFU1NFTCBPUEVOID09PVxyXG4gKiBQdXJwb3NlOiBDb3JlIHN5bmMgc3RhdHVzIHN5c3RlbSBmb3IgcGVyLW5vdGUgc3luYyBzdGF0dXMgaWNvbnNcclxuICogSW50ZWdyYXRpb246IFdvcmtzIHdpdGggZXhpc3RpbmcgR3JhcGhpdGlTZXJ2aWNlIGFuZCBzZXR0aW5ncyBpbmZyYXN0cnVjdHVyZVxyXG4gKiBNb2RlOiBDb2RlIC0gQ29yZSB0eXBlIGRlZmluaXRpb25zIGZvciBzeW5jIHN0YXR1cyBmdW5jdGlvbmFsaXR5XHJcbiAqL1xyXG5cclxuaW1wb3J0IHR5cGUgeyBURmlsZSB9IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbi8qKlxyXG4gKiBTeW5jIHN0YXR1cyBzdGF0ZXMgZm9yIG5vdGUgaWNvbnNcclxuICovXHJcbmV4cG9ydCBlbnVtIFN5bmNTdGF0dXMge1xyXG4gICAgTk9UX1NZTkNFRCA9ICdub3Qtc3luY2VkJywgICAvLyBHcmF5IGljb24gLSBub3RlIGhhcyBub3QgYmVlbiBzeW5jZWRcclxuICAgIFNZTkNFRCA9ICdzeW5jZWQnLCAgICAgICAgICAgLy8gR3JlZW4gaWNvbiAtIG5vdGUgaXMgc3luY2VkIHdpdGggR3JhcGhpdGlcclxuICAgIFBSSVZBVEUgPSAncHJpdmF0ZScsICAgICAgICAgLy8gQmx1ZSBpY29uIC0gbm90ZSBpcyBtYXJrZWQgcHJpdmF0ZSAoZXhjbHVkZWQpXHJcbiAgICBTWU5DSU5HID0gJ3N5bmNpbmcnLCAgICAgICAgIC8vIFNwaW5uaW5nIGFuaW1hdGlvbiAtIHN5bmMgaW4gcHJvZ3Jlc3NcclxuICAgIEVSUk9SID0gJ2Vycm9yJyAgICAgICAgICAgICAgLy8gUmVkIGljb24gLSBsYXN0IHN5bmMgZmFpbGVkIHdpdGggZXJyb3JcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbmZpZ3VyYXRpb24gZm9yIGVhY2ggc3luYyBzdGF0dXMgaWNvbiBhcHBlYXJhbmNlXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFN5bmNTdGF0dXNDb25maWcge1xyXG4gICAgY29sb3I6IHN0cmluZztcclxuICAgIHBhdGg6IHN0cmluZztcclxuICAgIGFuaW1hdGlvbj86IHN0cmluZztcclxuICAgIHRvb2x0aXA6IHN0cmluZztcclxufVxyXG5cclxuLyoqXHJcbiAqIE9wdGlvbnMgZm9yIGNyZWF0aW5nIGEgc3luYyBzdGF0dXMgaWNvblxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBTeW5jSWNvbk9wdGlvbnMge1xyXG4gICAgZmlsZTogVEZpbGU7XHJcbiAgICBvbkNsaWNrPzogKGZpbGU6IFRGaWxlKSA9PiBQcm9taXNlPHZvaWQ+O1xyXG59XHJcblxyXG4vKipcclxuICogQ3VycmVudCBzdGF0ZSBvZiBhIHN5bmMgc3RhdHVzIGljb25cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSWNvblN0YXRlIHtcclxuICAgIHN0YXR1czogU3luY1N0YXR1cztcclxuICAgIGxhc3RTeW5jPzogc3RyaW5nO1xyXG4gICAgZXJyb3I/OiBzdHJpbmc7XHJcbiAgICBpc0FjdGl2ZTogYm9vbGVhbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFN5bmMgc3RhdHVzIGRldGVjdGlvbiByZXN1bHRcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3RhdHVzRGV0ZWN0aW9uUmVzdWx0IHtcclxuICAgIHN0YXR1czogU3luY1N0YXR1cztcclxuICAgIHJlYXNvbjogc3RyaW5nO1xyXG4gICAgbGFzdFN5bmNlZD86IHN0cmluZztcclxuICAgIGVwaXNvZGVJZD86IHN0cmluZztcclxuICAgIHN5bmNUeXBlPzogc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogQ29uZmlndXJhdGlvbiBmb3Igc3luYyBzdGF0dXMgaWNvbnMgYnkgc3RhdHVzIHR5cGVcclxuICovXHJcbmV4cG9ydCBjb25zdCBTWU5DX1NUQVRVU19DT05GSUdTOiBSZWNvcmQ8U3luY1N0YXR1cywgU3luY1N0YXR1c0NvbmZpZz4gPSB7XHJcbiAgICBbU3luY1N0YXR1cy5TWU5DRURdOiB7XHJcbiAgICAgICAgY29sb3I6ICcjMjJjNTVlJywgLy8gR3JlZW5cclxuICAgICAgICBwYXRoOiAnTTkgMTJsMiAyIDQtNG02IDJhOSA5IDAgMTEtMTggMCA5IDkgMCAwMTE4IDB6JywgLy8gQ2hlY2ttYXJrIGNpcmNsZVxyXG4gICAgICAgIHRvb2x0aXA6ICdOb3RlIGlzIHN5bmNlZCB3aXRoIEdyYXBoaXRpJ1xyXG4gICAgfSxcclxuICAgIFtTeW5jU3RhdHVzLlBSSVZBVEVdOiB7XHJcbiAgICAgICAgY29sb3I6ICcjM2I4MmY2JywgLy8gQmx1ZVxyXG4gICAgICAgIHBhdGg6ICdNMTIgMTV2Mm0tNiA0aDEyYTIgMiAwIDAwMi0ydi02YTIgMiAwIDAwLTItMkg2YTIgMiAwIDAwLTIgMnY2YTIgMiAwIDAwMiAyem0xMC0xMFY3YTQgNCAwIDAwLTggMHY0aDh6JywgLy8gTG9jayBpY29uXHJcbiAgICAgICAgdG9vbHRpcDogJ05vdGUgaXMgbWFya2VkIHByaXZhdGUgKGV4Y2x1ZGVkIGZyb20gc3luYyknXHJcbiAgICB9LFxyXG4gICAgW1N5bmNTdGF0dXMuTk9UX1NZTkNFRF06IHtcclxuICAgICAgICBjb2xvcjogJyM2YjcyODAnLCAvLyBHcmF5XHJcbiAgICAgICAgcGF0aDogJ000IDR2NWguNTgybTE1LjM1NiAyQTguMDAxIDguMDAxIDAgMDA0LjU4MiA5bTAgMEg5bTExIDExdi01aC0uNTgxbTAgMGE4LjAwMyA4LjAwMyAwIDAxLTE1LjM1Ny0ybTE1LjM1NyAySDE1JywgLy8gU3luYy9yZWZyZXNoIGljb25cclxuICAgICAgICB0b29sdGlwOiAnTm90ZSBpcyBub3Qgc3luY2VkIC0gY2xpY2sgdG8gc3luYydcclxuICAgIH0sXHJcbiAgICBbU3luY1N0YXR1cy5TWU5DSU5HXToge1xyXG4gICAgICAgIGNvbG9yOiAnI2Y1OWUwYicsIC8vIE9yYW5nZVxyXG4gICAgICAgIHBhdGg6ICdNNCA0djVoLjU4Mm0xNS4zNTYgMkE4LjAwMSA4LjAwMSAwIDAwNC41ODIgOW0wIDBIOW0xMSAxMXYtNWgtLjU4MW0wIDBhOC4wMDMgOC4wMDMgMCAwMS0xNS4zNTctMm0xNS4zNTcgMkgxNScsIC8vIFJlZnJlc2ggaWNvblxyXG4gICAgICAgIGFuaW1hdGlvbjogJ3NwaW4gMXMgbGluZWFyIGluZmluaXRlJyxcclxuICAgICAgICB0b29sdGlwOiAnU3luYyBpbiBwcm9ncmVzcy4uLidcclxuICAgIH0sXHJcbiAgICBbU3luY1N0YXR1cy5FUlJPUl06IHtcclxuICAgICAgICBjb2xvcjogJyNlZjQ0NDQnLCAvLyBSZWRcclxuICAgICAgICBwYXRoOiAnTTEwIDE0bDItMm0wIDBsMi0ybS0yIDJsLTItMm0yIDJsMiAybTctMmE5IDkgMCAxMS0xOCAwIDkgOSAwIDAxMTggMHonLCAvLyBYIGNpcmNsZVxyXG4gICAgICAgIHRvb2x0aXA6ICdTeW5jIGZhaWxlZCAtIGNsaWNrIHRvIHJldHJ5J1xyXG4gICAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIEV2ZW50cyB0aGF0IGNhbiBiZSBlbWl0dGVkIGJ5IHN5bmMgc3RhdHVzIHN5c3RlbVxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBTeW5jU3RhdHVzRXZlbnRzIHtcclxuICAgICdzdGF0dXMtY2hhbmdlZCc6IChmaWxlOiBURmlsZSwgbmV3U3RhdHVzOiBTeW5jU3RhdHVzKSA9PiB2b2lkO1xyXG4gICAgJ3N5bmMtc3RhcnRlZCc6IChmaWxlOiBURmlsZSkgPT4gdm9pZDtcclxuICAgICdzeW5jLWNvbXBsZXRlZCc6IChmaWxlOiBURmlsZSwgc3VjY2VzczogYm9vbGVhbikgPT4gdm9pZDtcclxuICAgICdzeW5jLWVycm9yJzogKGZpbGU6IFRGaWxlLCBlcnJvcjogc3RyaW5nKSA9PiB2b2lkO1xyXG59XHJcblxyXG4vKipcclxuICogSW50ZXJmYWNlIGZvciBzeW5jIHN0YXR1cyBtYW5hZ2VyXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIElTeW5jU3RhdHVzTWFuYWdlciB7XHJcbiAgICAvLyBTdGF0dXMgRGV0ZWN0aW9uXHJcbiAgICBnZXROb3RlU3luY1N0YXR1cyhmaWxlOiBURmlsZSk6IFByb21pc2U8U3RhdHVzRGV0ZWN0aW9uUmVzdWx0PjtcclxuICAgIGlzTm90ZVByaXZhdGUoZmlsZTogVEZpbGUpOiBib29sZWFuO1xyXG5cclxuICAgIC8vIFN5bmMgT3BlcmF0aW9uc1xyXG4gICAgc3luY05vdGUoZmlsZTogVEZpbGUpOiBQcm9taXNlPGFueT47XHJcbiAgICB1cGRhdGVOb3RlUHJvcGVydGllcyhmaWxlOiBURmlsZSwgcmVzdWx0OiBhbnkpOiBQcm9taXNlPHZvaWQ+O1xyXG5cclxuICAgIC8vIFN0YXRlIE1hbmFnZW1lbnRcclxuICAgIHVwZGF0ZUljb25TdGF0dXMoZmlsZTogVEZpbGUsIHN0YXR1czogU3luY1N0YXR1cyk6IHZvaWQ7XHJcbiAgICBnZXRBY3RpdmVTeW5jKGZpbGVQYXRoOiBzdHJpbmcpOiBib29sZWFuO1xyXG5cclxuICAgIC8vIEV2ZW50IEhhbmRsaW5nXHJcbiAgICBvbjxLIGV4dGVuZHMga2V5b2YgU3luY1N0YXR1c0V2ZW50cz4oZXZlbnQ6IEssIGNhbGxiYWNrOiBTeW5jU3RhdHVzRXZlbnRzW0tdKTogdm9pZDtcclxuICAgIG9mZjxLIGV4dGVuZHMga2V5b2YgU3luY1N0YXR1c0V2ZW50cz4oZXZlbnQ6IEssIGNhbGxiYWNrOiBTeW5jU3RhdHVzRXZlbnRzW0tdKTogdm9pZDtcclxuICAgIGVtaXQ8SyBleHRlbmRzIGtleW9mIFN5bmNTdGF0dXNFdmVudHM+KGV2ZW50OiBLLCAuLi5hcmdzOiBQYXJhbWV0ZXJzPFN5bmNTdGF0dXNFdmVudHNbS10+KTogdm9pZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEludGVyZmFjZSBmb3Igc3luYyBzdGF0dXMgaWNvbiBjb21wb25lbnRcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVN5bmNTdGF0dXNJY29uIHtcclxuICAgIC8vIENvcmUgUHJvcGVydGllc1xyXG4gICAgcmVhZG9ubHkgaWNvbkVsOiBIVE1MRWxlbWVudDtcclxuICAgIHJlYWRvbmx5IGZpbGU6IFRGaWxlO1xyXG4gICAgcmVhZG9ubHkgc3RhdHVzOiBTeW5jU3RhdHVzO1xyXG5cclxuICAgIC8vIFN0YXRlIE1hbmFnZW1lbnRcclxuICAgIHVwZGF0ZVN0YXR1cyhzdGF0dXM6IFN5bmNTdGF0dXMpOiB2b2lkO1xyXG4gICAgc2V0TG9hZGluZyhpc0xvYWRpbmc6IGJvb2xlYW4pOiB2b2lkO1xyXG4gICAgc2V0RXJyb3IoZXJyb3I6IHN0cmluZyB8IG51bGwpOiB2b2lkO1xyXG5cclxuICAgIC8vIExpZmVjeWNsZVxyXG4gICAgbW91bnQoKTogdm9pZDtcclxuICAgIHVubW91bnQoKTogdm9pZDtcclxuICAgIHJlZnJlc2goKTogUHJvbWlzZTx2b2lkPjtcclxuXHJcbiAgICAvLyBFdmVudHNcclxuICAgIG9uQ2xpY2soKTogUHJvbWlzZTx2b2lkPjtcclxuICAgIG9uU3RhdHVzQ2hhbmdlKHN0YXR1czogU3luY1N0YXR1cyk6IHZvaWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDU1MgY2xhc3MgbmFtZXMgZm9yIHN5bmMgc3RhdHVzIGljb25zXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgU1lOQ19TVEFUVVNfQ1NTX0NMQVNTRVMgPSB7XHJcbiAgICBjb250YWluZXI6ICdncmFwaGl0aS1zeW5jLXN0YXR1cy1pY29uJyxcclxuICAgIGljb246ICdncmFwaGl0aS1zeW5jLWljb24nLFxyXG4gICAgc3Bpbm5pbmc6ICdncmFwaGl0aS1zeW5jLXNwaW5uaW5nJyxcclxuICAgIGVycm9yOiAnZ3JhcGhpdGktc3luYy1lcnJvcicsXHJcbiAgICBzdWNjZXNzOiAnZ3JhcGhpdGktc3luYy1zdWNjZXNzJyxcclxuICAgIHByaXZhdGU6ICdncmFwaGl0aS1zeW5jLXByaXZhdGUnLFxyXG4gICAgbm90U3luY2VkOiAnZ3JhcGhpdGktc3luYy1ub3Qtc3luY2VkJ1xyXG59IGFzIGNvbnN0O1xyXG5cclxuLy8gPT09IFZFU1NFTCBDTE9TRSA9PT0iLCIvKipcbiAqIFN5bmMgU3RhdHVzIE1hbmFnZXIgU2VydmljZSBmb3IgR3JhcGhpdGkgS25vd2xlZGdlIEdyYXBoIEludGVncmF0aW9uXG4gKlxuICogPT09IFZFU1NFTCBPUEVOID09PVxuICogUHVycG9zZTogTWFuYWdlcyBzeW5jIHN0YXR1cyBkZXRlY3Rpb24sIG9wZXJhdGlvbnMsIGFuZCBzdGF0ZSBmb3IgaW5kaXZpZHVhbCBub3Rlc1xuICogSW50ZWdyYXRpb246IFVzZXMgZXhpc3RpbmcgR3JhcGhpdGlTZXJ2aWNlLCBzZXR0aW5ncywgYW5kIExvZ2dlciBpbmZyYXN0cnVjdHVyZVxuICogTW9kZTogQ29kZSAtIFNlcnZpY2UgaW1wbGVtZW50YXRpb24gZm9yIHN5bmMgc3RhdHVzIGZ1bmN0aW9uYWxpdHlcbiAqL1xuXG5pbXBvcnQgeyBURmlsZSwgQXBwLCBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gJ3BhdGgnOyAvLyBOZWVkZWQgZm9yIG5vcm1hbGl6ZU5vdGVQYXRoXG5pbXBvcnQgdHlwZSB7IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3MgfSBmcm9tICcuLi90eXBlcy9TZXR0aW5ncyc7XG5pbXBvcnQgdHlwZSB7IEdyYXBoaXRpU2VydmljZSwgU3luY1Jlc3VsdCB9IGZyb20gJy4vR3JhcGhpdGlTZXJ2aWNlJztcbmltcG9ydCB0eXBlIHsgR3JhcGhpdGlMb2dnZXIgfSBmcm9tICcuLi91dGlscy9Mb2dnZXInO1xuaW1wb3J0IHR5cGUgeyBTeW5jUmVnaXN0cnlTZXJ2aWNlIH0gZnJvbSAnLi9TeW5jUmVnaXN0cnlTZXJ2aWNlJztcbmltcG9ydCAqIGFzIEZyb250bWF0dGVyVXRpbHMgZnJvbSAnLi4vdXRpbHMvRnJvbnRtYXR0ZXJVdGlscyc7XG5pbXBvcnQge1xuICAgIFN5bmNTdGF0dXMsXG4gICAgdHlwZSBTdGF0dXNEZXRlY3Rpb25SZXN1bHRcbn0gZnJvbSAnLi4vdHlwZXMvU3luY1N0YXR1cyc7XG5cbmludGVyZmFjZSBRdWV1ZUl0ZW0ge1xuICAgIGZpbGU6IFRGaWxlO1xuICAgIHNvdXJjZV9kZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgIHJlc29sdmU6IChyZXN1bHQ6IFN5bmNSZXN1bHQpID0+IHZvaWQ7XG4gICAgcmVqZWN0OiAoZXJyb3I6IGFueSkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGNsYXNzIFN5bmNTdGF0dXNNYW5hZ2VyIHtcbiAgICBwcml2YXRlIGFwcDogQXBwO1xuICAgIHByaXZhdGUgc2V0dGluZ3M6IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3M7XG4gICAgcHJpdmF0ZSBncmFwaGl0aVNlcnZpY2U6IEdyYXBoaXRpU2VydmljZTtcbiAgICBwcml2YXRlIHN5bmNSZWdpc3RyeVNlcnZpY2U6IFN5bmNSZWdpc3RyeVNlcnZpY2U7XG4gICAgcHJpdmF0ZSBsb2dnZXI6IEdyYXBoaXRpTG9nZ2VyO1xuICAgIHByaXZhdGUgYWN0aXZlU3luY3M6IE1hcDxzdHJpbmcsIGJvb2xlYW4+ID0gbmV3IE1hcCgpO1xuICAgIHByaXZhdGUgc3luY1F1ZXVlOiBRdWV1ZUl0ZW1bXSA9IFtdO1xuICAgIHByaXZhdGUgaXNQcm9jZXNzaW5nUXVldWUgPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBhcHA6IEFwcCxcbiAgICAgICAgc2V0dGluZ3M6IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3MsXG4gICAgICAgIGdyYXBoaXRpU2VydmljZTogR3JhcGhpdGlTZXJ2aWNlLFxuICAgICAgICBzeW5jUmVnaXN0cnlTZXJ2aWNlOiBTeW5jUmVnaXN0cnlTZXJ2aWNlLFxuICAgICAgICBsb2dnZXI6IEdyYXBoaXRpTG9nZ2VyXG4gICAgKSB7XG4gICAgICAgIHRoaXMuYXBwID0gYXBwO1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgICAgIHRoaXMuZ3JhcGhpdGlTZXJ2aWNlID0gZ3JhcGhpdGlTZXJ2aWNlO1xuICAgICAgICB0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UgPSBzeW5jUmVnaXN0cnlTZXJ2aWNlO1xuICAgICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcblxuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdTeW5jU3RhdHVzTWFuYWdlciBpbml0aWFsaXplZCcpO1xuICAgIH1cblxuICAgIC8vIEBwdXJwb3NlOiBRdWV1ZSBtYW51YWwgc3luYyByZXF1ZXN0cyB0byBwcmV2ZW50IHJhY2UgY29uZGl0aW9ucyBAZGVwZW5kczogc3luY05vdGUgbWV0aG9kIEByZXN1bHRzOiBQcm9taXNlIHJlc29sdmluZyB3aXRoIHN5bmMgcmVzdWx0XG4gICAgYXN5bmMgZW5xdWV1ZShmaWxlOiBURmlsZSwgc291cmNlX2Rlc2NyaXB0aW9uOiBzdHJpbmcgPSAnb2JzaWRpYW5fbW1faW5kaXZpZHVhbCcpOiBQcm9taXNlPFN5bmNSZXN1bHQ+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXVlSXRlbTogUXVldWVJdGVtID0geyBmaWxlLCBzb3VyY2VfZGVzY3JpcHRpb24sIHJlc29sdmUsIHJlamVjdCB9O1xuICAgICAgICAgICAgdGhpcy5zeW5jUXVldWUucHVzaChxdWV1ZUl0ZW0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBBbHdheXMgbG9nIHF1ZXVlIHN0YXR1cyBmb3IgYmV0dGVyIHZpc2liaWxpdHlcbiAgICAgICAgICAgIGlmICh0aGlzLnN5bmNRdWV1ZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBTdGFydGluZyBzeW5jIGZvciAke2ZpbGUubmFtZX1gKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhgU3luYyBxdWV1ZWQgZm9yICR7ZmlsZS5uYW1lfSAocG9zaXRpb24gJHt0aGlzLnN5bmNRdWV1ZS5sZW5ndGh9IGluIHF1ZXVlKWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NRdWV1ZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHByb2Nlc3NRdWV1ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKHRoaXMuaXNQcm9jZXNzaW5nUXVldWUgfHwgdGhpcy5zeW5jUXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlzUHJvY2Vzc2luZ1F1ZXVlID0gdHJ1ZTtcblxuICAgICAgICB3aGlsZSAodGhpcy5zeW5jUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuc3luY1F1ZXVlLnNoaWZ0KCkhO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnN5bmNOb3RlKGl0ZW0uZmlsZSwgaXRlbS5zb3VyY2VfZGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgIGl0ZW0ucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpdGVtLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlzUHJvY2Vzc2luZ1F1ZXVlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHNldHRpbmdzIHdoZW4gcGx1Z2luIHNldHRpbmdzIGNoYW5nZVxuICAgICAqL1xuICAgIHVwZGF0ZVNldHRpbmdzKHNldHRpbmdzOiBHcmFwaGl0aVBsdWdpblNldHRpbmdzKTogdm9pZCB7XG4gICAgICAgIC8vIEB2ZXNzZWwtcHJvdG9jb2w6QmFsZHIgZ292ZXJuczpbZGVidWctZml4fHNldHRpbmdzXSBjb250ZXh0OlByb3BlciBkZWJ1ZyBzZXR0aW5ncyBwcm9wYWdhdGlvbiB0byBsb2dnZXJcbiAgICAgICAgLy8gQGludGVyLWRlcGVuZGVuY2llczogW0dyYXBoaXRpTG9nZ2VyLCBzZXR0aW5ncy1kZWJ1Zy1zdGF0ZV1cbiAgICAgICAgLy8gQHB1cnBvc2U6IEVuc3VyZSBTeW5jU3RhdHVzTWFuYWdlciBsb2dnZXIgcmVzcGVjdHMgZW5hYmxlRGVidWdMb2dnaW5nIHNldHRpbmcgY2hhbmdlc1xuICAgICAgICAvLyBAcmVzdWx0OiBDb25zb2xlIGRlYnVnIGxvZ2dpbmcgd29ya3Mgd2hlbiBlbmFibGVkIGluIHNldHRpbmdzXG4gICAgICAgIC8vIEBzaWduZWQ6IEMuQmrDuHJuXG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICAgICAgdGhpcy5sb2dnZXIuc2V0RGVidWcoc2V0dGluZ3MuZW5hYmxlRGVidWdMb2dnaW5nKTtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1N5bmNTdGF0dXNNYW5hZ2VyIHNldHRpbmdzIHVwZGF0ZWQnKTtcbiAgICB9XG5cbiAgICAvLyBAdmVzc2VsLXByb3RvY29sOk9kaW4gZ292ZXJuczpbbWVtb3J5LXN5bmN8cmVmYWN0b3JdIGNvbnRleHQ6TU1fVUlELWJhc2VkIHN5bmMgc3RhdHVzIGRldGVjdGlvbiByZXBsYWNpbmcgcGF0aC1iYXNlZCBsb29rdXBzXG4gICAgLy8gQGludGVyLWRlcGVuZGVuY2llczogW0Zyb250bWF0dGVyVXRpbHMsIFN5bmNSZWdpc3RyeVNlcnZpY2UsIG1tX3VpZCBzeXN0ZW1dXG4gICAgLy8gQHB1cnBvc2U6IEVuYWJsZSBhY2N1cmF0ZSBzeW5jIHN0YXR1cyBkZXRlY3Rpb24gdXNpbmcgbW1fdWlkIGFzIHByaW1hcnkgaWRlbnRpZmllclxuICAgIC8vIEByZXN1bHQ6IENvbnNpc3RlbnQgc3luYyBzdGF0dXMgZGV0ZWN0aW9uIGFsaWduZWQgd2l0aCBtbV91aWQgYXJjaGl0ZWN0dXJlXG4gICAgLy8gQHNpZ25lZDogQy5CasO4cm5cbiAgICBhc3luYyBnZXROb3RlU3luY1N0YXR1cyhmaWxlOiBURmlsZSk6IFByb21pc2U8U3RhdHVzRGV0ZWN0aW9uUmVzdWx0PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiBub3RlIGlzIGN1cnJlbnRseSBzeW5jaW5nXG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVTeW5jcy5oYXMoZmlsZS5wYXRoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogU3luY1N0YXR1cy5TWU5DSU5HLFxuICAgICAgICAgICAgICAgICAgICByZWFzb246ICdTeW5jIG9wZXJhdGlvbiBpbiBwcm9ncmVzcydcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBub3RlIGlzIHByaXZhdGUgKGV4Y2x1ZGVkIGZyb20gc3luYylcbiAgICAgICAgICAgIGlmICh0aGlzLmlzTm90ZVByaXZhdGUoZmlsZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFN5bmNTdGF0dXMuUFJJVkFURSxcbiAgICAgICAgICAgICAgICAgICAgcmVhc29uOiAnTm90ZSBpcyBtYXJrZWQgcHJpdmF0ZSBvciBpbiBleGNsdWRlZCBmb2xkZXInXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gR2V0IG1tX3VpZCBmcm9tIGZyb250bWF0dGVyIGZpcnN0XG4gICAgICAgICAgICBjb25zdCBtbVVpZCA9IGF3YWl0IEZyb250bWF0dGVyVXRpbHMucmVhZE1tVWlkKHRoaXMuYXBwLCBmaWxlKTtcblxuICAgICAgICAgICAgLy8gSWYgbm8gbW1fdWlkLCBub3RlIGhhcyBuZXZlciBiZWVuIHN5bmNlZFxuICAgICAgICAgICAgaWYgKCFtbVVpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogU3luY1N0YXR1cy5OT1RfU1lOQ0VELFxuICAgICAgICAgICAgICAgICAgICByZWFzb246ICdOb3RlIGhhcyBubyBtbV91aWQgLSBoYXMgbm90IGJlZW4gc3luY2VkIHRvIEdyYXBoaXRpJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEdldCBjdXJyZW50IHZhdWx0IGFuZCBkYXRhYmFzZSBpbmZvXG4gICAgICAgICAgICBjb25zdCB2YXVsdElkID0gdGhpcy5hcHAudmF1bHQuZ2V0TmFtZSgpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudERiVHlwZSA9IHRoaXMuZ2V0Q3VycmVudERhdGFiYXNlVHlwZSgpO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBzeW5jIHJlZ2lzdHJ5IHVzaW5nIG1tX3VpZFxuICAgICAgICAgICAgY29uc3Qgc3luY1JlY29yZCA9IHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZS5nZXRTeW5jUmVjb3JkKG1tVWlkLCB2YXVsdElkKTtcblxuICAgICAgICAgICAgaWYgKHN5bmNSZWNvcmQpIHtcbiAgICAgICAgICAgICAgICAvLyBGaW5kIHN5bmMgZW50cnkgZm9yIGN1cnJlbnQgZGF0YWJhc2VcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50RGJTeW5jID0gc3luY1JlY29yZC5zeW5jcy5maW5kKHN5bmMgPT4gc3luYy5kYXRhYmFzZV9pZCA9PT0gY3VycmVudERiVHlwZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudERiU3luYykge1xuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgZXJyb3Igc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnREYlN5bmMuZXJyb3JfbWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFN5bmNTdGF0dXMuRVJST1IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBgTGFzdCBzeW5jIGZhaWxlZDogJHtjdXJyZW50RGJTeW5jLmVycm9yX21lc3NhZ2V9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0U3luY2VkOiBjdXJyZW50RGJTeW5jLmxhc3Rfc3luYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcGlzb2RlSWQ6IGN1cnJlbnREYlN5bmMuZXBpc29kZV91dWlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bmNUeXBlOiBjdXJyZW50RGJTeW5jLnNvdXJjZV9kZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFN1Y2Nlc3NmdWxseSBzeW5jZWRcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3luY1R5cGVJbmZvID0gY3VycmVudERiU3luYy5zb3VyY2VfZGVzY3JpcHRpb24/LmluY2x1ZGVzKCdpbmRpdmlkdWFsJylcbiAgICAgICAgICAgICAgICAgICAgICAgID8gJ2luZGl2aWR1YWwgc3luYydcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJ3N5bmMnO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFN5bmNTdGF0dXMuU1lOQ0VELFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBgTm90ZSBoYXMgYmVlbiBzeW5jZWQgdG8gR3JhcGhpdGkgKCR7c3luY1R5cGVJbmZvfSlgLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFN5bmNlZDogY3VycmVudERiU3luYy5sYXN0X3N5bmMsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcGlzb2RlSWQ6IGN1cnJlbnREYlN5bmMuZXBpc29kZV91dWlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3luY1R5cGU6IGN1cnJlbnREYlN5bmMuc291cmNlX2Rlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTm90ZSBoYXMgc3luY3MgZm9yIG90aGVyIGRhdGFiYXNlcyBidXQgbm90IGN1cnJlbnQgb25lXG4gICAgICAgICAgICAgICAgY29uc3Qgb3RoZXJEYXRhYmFzZXMgPSBzeW5jUmVjb3JkLnN5bmNzLm1hcChzeW5jID0+IHN5bmMuZGF0YWJhc2VfaWQpLmpvaW4oJywgJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBTeW5jU3RhdHVzLk5PVF9TWU5DRUQsXG4gICAgICAgICAgICAgICAgICAgIHJlYXNvbjogYE5vdGUgd2FzIHN5bmNlZCB0byBvdGhlciBkYXRhYmFzZXMgKCR7b3RoZXJEYXRhYmFzZXN9KSBidXQgbm90IGN1cnJlbnQgZGF0YWJhc2UgKCR7Y3VycmVudERiVHlwZX0pYFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG1tX3VpZCBleGlzdHMgYnV0IG5vIHN5bmMgcmVjb3JkIGZvdW5kIC0gaW5jb25zaXN0ZW50IHN0YXRlXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXR1czogU3luY1N0YXR1cy5OT1RfU1lOQ0VELFxuICAgICAgICAgICAgICAgIHJlYXNvbjogYE5vdGUgaGFzIG1tX3VpZCAoJHttbVVpZH0pIGJ1dCBubyBzeW5jIHJlY29yZCBmb3VuZCAtIG1heSBuZWVkIHJlLXN5bmNgXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRXJyb3IgZGV0ZXJtaW5pbmcgc3luYyBzdGF0dXMnLCB7IGZpbGU6IGZpbGUucGF0aCwgZXJyb3IgfSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXR1czogU3luY1N0YXR1cy5FUlJPUixcbiAgICAgICAgICAgICAgICByZWFzb246IGBFcnJvciBkZXRlcm1pbmluZyBzdGF0dXM6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWBcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQHZlc3NlbC1jbG9zZTpPZGluXG5cbiAgICAvKipcbiAgICAgKiBHZXQgY3VycmVudCBzeW5jIHN0YXR1cyBmb3IgYSBmaWxlIChzeW5jaHJvbm91cyB2ZXJzaW9uIGZvciBVSSkgdXNpbmcgbW1fdWlkLWJhc2VkIHJlZ2lzdHJ5IGRhdGFcbiAgICAgKi9cbiAgICBnZXRTdGF0dXMoZmlsZTogVEZpbGUpOiBzdHJpbmcge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgbm90ZSBpcyBjdXJyZW50bHkgc3luY2luZ1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlU3luY3MuaGFzKGZpbGUucGF0aCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1NZTkNJTkcnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBub3RlIGlzIHByaXZhdGUgKGV4Y2x1ZGVkIGZyb20gc3luYylcbiAgICAgICAgICAgIGlmICh0aGlzLmlzTm90ZVByaXZhdGUoZmlsZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1BSSVZBVEUnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBHZXQgbW1fdWlkIGZyb20gZnJvbnRtYXR0ZXIgLSB1c2Ugc3luYyBtZXRob2QgZm9yIHBlcmZvcm1hbmNlXG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpO1xuICAgICAgICAgICAgY29uc3QgbW1VaWQgPSBjYWNoZT8uZnJvbnRtYXR0ZXI/Lm1tX3VpZDtcblxuICAgICAgICAgICAgLy8gSWYgbm8gbW1fdWlkLCBub3RlIGhhcyBuZXZlciBiZWVuIHN5bmNlZFxuICAgICAgICAgICAgaWYgKCFtbVVpZCB8fCB0eXBlb2YgbW1VaWQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdOT1RfU1lOQ0VEJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gR2V0IGN1cnJlbnQgdmF1bHQgYW5kIGRhdGFiYXNlIGluZm9cbiAgICAgICAgICAgIGNvbnN0IHZhdWx0SWQgPSB0aGlzLmFwcC52YXVsdC5nZXROYW1lKCk7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RGJUeXBlID0gdGhpcy5nZXRDdXJyZW50RGF0YWJhc2VUeXBlKCk7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIHN5bmMgcmVnaXN0cnkgdXNpbmcgbW1fdWlkXG4gICAgICAgICAgICBjb25zdCBzeW5jUmVjb3JkID0gdGhpcy5zeW5jUmVnaXN0cnlTZXJ2aWNlLmdldFN5bmNSZWNvcmQobW1VaWQsIHZhdWx0SWQpO1xuXG4gICAgICAgICAgICBpZiAoc3luY1JlY29yZCkge1xuICAgICAgICAgICAgICAgIC8vIEZpbmQgc3luYyBlbnRyeSBmb3IgY3VycmVudCBkYXRhYmFzZVxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREYlN5bmMgPSBzeW5jUmVjb3JkLnN5bmNzLmZpbmQoc3luYyA9PiBzeW5jLmRhdGFiYXNlX2lkID09PSBjdXJyZW50RGJUeXBlKTtcblxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50RGJTeW5jKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBlcnJvciBzdGF0ZVxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudERiU3luYy5lcnJvcl9tZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ0VSUk9SJztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnU1lOQ0VEJztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gJ05PVF9TWU5DRUQnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBtbV91aWQgZXhpc3RzIGJ1dCBubyBzeW5jIHJlY29yZCBmb3VuZFxuICAgICAgICAgICAgcmV0dXJuICdOT1RfU1lOQ0VEJztcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0Vycm9yIGdldHRpbmcgc3luYyBzdGF0dXMnLCB7IGZpbGU6IGZpbGUucGF0aCwgZXJyb3IgfSk7XG4gICAgICAgICAgICByZXR1cm4gJ0VSUk9SJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3QgbW1fdWlkIGZyb20gR3JhcGhpdGkgc3luYyByZXN1bHRcbiAgICAgKi9cbiAgICBleHRyYWN0TW1VaWRGcm9tU3luY1Jlc3VsdChzeW5jUmVzdWx0OiBhbnkpOiBzdHJpbmcgfCBudWxsIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENoZWNrIHRvcC1sZXZlbCBlcGlzb2RlX3V1aWQgZmlyc3QgKHRlc3RNYW51YWxTeW5jIHJldHVybnMgaXQgaGVyZSlcbiAgICAgICAgICAgIGlmIChzeW5jUmVzdWx0LmVwaXNvZGVfdXVpZCAmJiB0eXBlb2Ygc3luY1Jlc3VsdC5lcGlzb2RlX3V1aWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYEV4dHJhY3RlZCBtbV91aWQgZnJvbSB0b3AtbGV2ZWwgZXBpc29kZV91dWlkOiAke3N5bmNSZXN1bHQuZXBpc29kZV91dWlkfWApO1xuICAgICAgICAgICAgICAgIHJldHVybiBzeW5jUmVzdWx0LmVwaXNvZGVfdXVpZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2hlY2sgaW4gbm90ZXMgYXJyYXlcbiAgICAgICAgICAgIGlmIChzeW5jUmVzdWx0Lm5vdGVzICYmIEFycmF5LmlzQXJyYXkoc3luY1Jlc3VsdC5ub3RlcykpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5vdGUgb2Ygc3luY1Jlc3VsdC5ub3Rlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm90ZS5lcGlzb2RlX3V1aWQgJiYgdHlwZW9mIG5vdGUuZXBpc29kZV91dWlkID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0V4dHJhY3RlZCBtbV91aWQgZnJvbSBub3RlcyBhcnJheSBlcGlzb2RlX3V1aWQnLCB7IG1tVWlkOiBub3RlLmVwaXNvZGVfdXVpZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub3RlLmVwaXNvZGVfdXVpZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGluIGdyYXBoaXRpX3Jlc3BvbnNlLmVwaXNvZGUudXVpZFxuICAgICAgICAgICAgICAgICAgICBpZiAobm90ZS5ncmFwaGl0aV9yZXNwb25zZT8uZXBpc29kZT8udXVpZCAmJiB0eXBlb2Ygbm90ZS5ncmFwaGl0aV9yZXNwb25zZS5lcGlzb2RlLnV1aWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnRXh0cmFjdGVkIG1tX3VpZCBmcm9tIGdyYXBoaXRpX3Jlc3BvbnNlLmVwaXNvZGUudXVpZCcsIHsgbW1VaWQ6IG5vdGUuZ3JhcGhpdGlfcmVzcG9uc2UuZXBpc29kZS51dWlkIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vdGUuZ3JhcGhpdGlfcmVzcG9uc2UuZXBpc29kZS51dWlkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUcnkgdG8gZXh0cmFjdCBmcm9tIFB5dGhvbiBzdGRvdXQgaWYgYXZhaWxhYmxlIChmYWxsYmFjaylcbiAgICAgICAgICAgIGlmIChzeW5jUmVzdWx0LnB5dGhvblN0ZG91dCAmJiB0eXBlb2Ygc3luY1Jlc3VsdC5weXRob25TdGRvdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGluZXMgPSBzeW5jUmVzdWx0LnB5dGhvblN0ZG91dC5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaW5lLnRyaW0oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKGxpbmUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgdG9wLWxldmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZC5lcGlzb2RlX3V1aWQgJiYgdHlwZW9mIHBhcnNlZC5lcGlzb2RlX3V1aWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdFeHRyYWN0ZWQgbW1fdWlkIGZyb20gUHl0aG9uIHN0ZG91dCB0b3AtbGV2ZWwnLCB7IG1tVWlkOiBwYXJzZWQuZXBpc29kZV91dWlkIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VkLmVwaXNvZGVfdXVpZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpbiBub3RlcyBhcnJheVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWQubm90ZXMgJiYgQXJyYXkuaXNBcnJheShwYXJzZWQubm90ZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgbm90ZSBvZiBwYXJzZWQubm90ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RlLmVwaXNvZGVfdXVpZCAmJiB0eXBlb2Ygbm90ZS5lcGlzb2RlX3V1aWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYEV4dHJhY3RlZCBtbV91aWQgZnJvbSBQeXRob24gc3Rkb3V0IG5vdGVzIGFycmF5OiAke25vdGUuZXBpc29kZV91dWlkfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub3RlLmVwaXNvZGVfdXVpZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdGUuZ3JhcGhpdGlfcmVzcG9uc2U/LmVwaXNvZGU/LnV1aWQgJiYgdHlwZW9mIG5vdGUuZ3JhcGhpdGlfcmVzcG9uc2UuZXBpc29kZS51dWlkID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBFeHRyYWN0ZWQgbW1fdWlkIGZyb20gUHl0aG9uIHN0ZG91dCBncmFwaGl0aV9yZXNwb25zZTogJHtub3RlLmdyYXBoaXRpX3Jlc3BvbnNlLmVwaXNvZGUudXVpZH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm90ZS5ncmFwaGl0aV9yZXNwb25zZS5lcGlzb2RlLnV1aWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGluZSBpcyBub3QgSlNPTiwgc2tpcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdDb3VsZCBub3QgZXh0cmFjdCBtbV91aWQgZnJvbSBzeW5jIHJlc3VsdCcsIHsgcmVzdWx0OiBzeW5jUmVzdWx0IH0pO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRXJyb3IgZXh0cmFjdGluZyBtbV91aWQgZnJvbSBzeW5jIHJlc3VsdCcsIHsgZXJyb3IsIHJlc3VsdDogc3luY1Jlc3VsdCB9KTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBhIG5vdGUgaXMgcHJpdmF0ZSAoZXhjbHVkZWQgZnJvbSBzeW5jKVxuICAgICAqIENvbWJpbmVzIGV4Y2x1ZGVkIGZvbGRlcnMgY2hlY2sgKyBmcm9udG1hdHRlciBwcml2YXRlIHByb3BlcnR5XG4gICAgICovXG4gICAgaXNOb3RlUHJpdmF0ZShmaWxlOiBURmlsZSk6IGJvb2xlYW4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZmlsZSBwYXRoIGlzIGluIGV4Y2x1ZGVkIGZvbGRlcnNcbiAgICAgICAgICAgIGNvbnN0IGlzSW5FeGNsdWRlZEZvbGRlciA9IHRoaXMuc2V0dGluZ3MuZXhjbHVkZWRGb2xkZXJzLnNvbWUoZm9sZGVyID0+XG4gICAgICAgICAgICAgICAgZmlsZS5wYXRoLnN0YXJ0c1dpdGgoZm9sZGVyLmVuZHNXaXRoKCcvJykgPyBmb2xkZXIgOiBmb2xkZXIgKyAnLycpXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBpZiAoaXNJbkV4Y2x1ZGVkRm9sZGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ05vdGUgaXMgaW4gZXhjbHVkZWQgZm9sZGVyJywge1xuICAgICAgICAgICAgICAgICAgICBmaWxlOiBmaWxlLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIGV4Y2x1ZGVkRm9sZGVyczogdGhpcy5zZXR0aW5ncy5leGNsdWRlZEZvbGRlcnNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgaW5jbHVkZWQgZm9sZGVycyBhcmUgc3BlY2lmaWVkIGFuZCBmaWxlIGlzIG5vdCBpbiBhbnkgb2YgdGhlbVxuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaW5jbHVkZWRGb2xkZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpc0luSW5jbHVkZWRGb2xkZXIgPSB0aGlzLnNldHRpbmdzLmluY2x1ZGVkRm9sZGVycy5zb21lKGZvbGRlciA9PlxuICAgICAgICAgICAgICAgICAgICBmaWxlLnBhdGguc3RhcnRzV2l0aChmb2xkZXIuZW5kc1dpdGgoJy8nKSA/IGZvbGRlciA6IGZvbGRlciArICcvJylcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFpc0luSW5jbHVkZWRGb2xkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ05vdGUgaXMgbm90IGluIGluY2x1ZGVkIGZvbGRlcnMnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlOiBmaWxlLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlZEZvbGRlcnM6IHRoaXMuc2V0dGluZ3MuaW5jbHVkZWRGb2xkZXJzXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGZyb250bWF0dGVyIGZvciBwcml2YXRlOiB0cnVlXG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpO1xuICAgICAgICAgICAgaWYgKGNhY2hlPy5mcm9udG1hdHRlcj8ucHJpdmF0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdOb3RlIG1hcmtlZCBhcyBwcml2YXRlIGluIGZyb250bWF0dGVyJywgeyBmaWxlOiBmaWxlLnBhdGggfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIGlmIG5vdGUgaXMgcHJpdmF0ZScsIHsgZmlsZTogZmlsZS5wYXRoLCBlcnJvciB9KTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEB2ZXNzZWwtcHJvdG9jb2w6TWltaXIgZ292ZXJuczpbYXJjaGl0ZWN0dXJlLWNsZWFudXB8ZGVidWddIGNvbnRleHQ6UmVtb3ZlIG9ic29sZXRlIGZyb250bWF0dGVyIHN5bmMgZGV0ZWN0aW9uXG4gICAgLy8gQGludGVyLWRlcGVuZGVuY2llczogW1N5bmNSZWdpc3RyeVNlcnZpY2VdXG4gICAgLy8gQHB1cnBvc2U6IEVsaW1pbmF0ZSBhcmNoaXRlY3R1cmFsIGNvbnRyYWRpY3Rpb24gLSBzeW5jLmpzb24gaXMgdGhlIHNpbmdsZSBzb3VyY2Ugb2YgdHJ1dGhcbiAgICAvLyBAcmVzdWx0OiBDb25zaXN0ZW50IHN5bmMgc3RhdHVzIGRldGVjdGlvbiB1c2luZyBvbmx5IHRoZSBhdXRob3JpdGF0aXZlIHJlZ2lzdHJ5XG4gICAgLy8gQHNpZ25lZDogQy5CasO4cm5cblxuICAgIC8vIFJFTU9WRUQ6IGlzTm90ZVN5bmNlZCgpIG1ldGhvZCAtIGNvbnRyYWRpY3RlZCBcInN5bmMuanNvbiBhcyBzaW5nbGUgc291cmNlIG9mIHRydXRoXCIgYXJjaGl0ZWN0dXJlXG4gICAgLy8gQWxsIHN5bmMgc3RhdHVzIGRldGVjdGlvbiBub3cgdXNlcyBTeW5jUmVnaXN0cnlTZXJ2aWNlIHZpYSBnZXROb3RlU3luY1N0YXR1cygpIGFuZCBnZXRTdGF0dXMoKVxuXG4gICAgLyoqXG4gICAgICogR2V0IGN1cnJlbnQgZGF0YWJhc2UgdHlwZSBmcm9tIHNldHRpbmdzXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZXRDdXJyZW50RGF0YWJhc2VUeXBlKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLmRhdGFiYXNlVHlwZSB8fCAnbmVvNGonO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgc3luYyBmb3IgYSBzcGVjaWZpYyBub3RlIHVzaW5nIGV4aXN0aW5nIHRlc3RNYW51YWxTeW5jIG1ldGhvZFxuICAgICAqL1xuICAgIGFzeW5jIHN5bmNOb3RlKGZpbGU6IFRGaWxlLCBzb3VyY2VfZGVzY3JpcHRpb246IHN0cmluZyA9ICdvYnNpZGlhbl9tbV9pbmRpdmlkdWFsJyk6IFByb21pc2U8U3luY1Jlc3VsdD4ge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW1NZTkMtRElBR05PU0lTXSBTeW5jU3RhdHVzTWFuYWdlci5zeW5jTm90ZSgpIGNhbGxlZCAtIHRoaXMgcGF0aCBJTkNMVURFUyByZWdpc3RyeSByZWNvcmRpbmcnKTtcbiAgICAgICAgY29uc3QgZmlsZVBhdGggPSBmaWxlLnBhdGg7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGFscmVhZHkgc3luY2luZ1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlU3luY3MuaGFzKGZpbGVQYXRoKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm90ZSBpcyBhbHJlYWR5IGJlaW5nIHN5bmNlZCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBub3RlIGlzIHByaXZhdGVcbiAgICAgICAgICAgIGlmICh0aGlzLmlzTm90ZVByaXZhdGUoZmlsZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBzeW5jIHByaXZhdGUgbm90ZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBTdGFydGluZyBzeW5jIGZvciBmaWxlOiAke2ZpbGVQYXRofWApO1xuXG4gICAgICAgICAgICAvLyBNYXJrIGFzIHN5bmNpbmdcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlU3luY3Muc2V0KGZpbGVQYXRoLCB0cnVlKTtcblxuICAgICAgICAgICAgLy8gR2V0IGFic29sdXRlIGZpbGUgcGF0aCBmb3IgR3JhcGhpdGlTZXJ2aWNlXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIC0gYWNjZXNzaW5nIGludGVybmFsIEFQSVxuICAgICAgICAgICAgY29uc3QgYWRhcHRlciA9IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXI7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBjb25zdCB2YXVsdFBhdGggPSBhZGFwdGVyLmJhc2VQYXRoO1xuXG4gICAgICAgICAgICAvLyBFbnN1cmUgcHJvcGVyIHBhdGggam9pbmluZyB3aXRob3V0IGR1cGxpY2F0aW9uXG4gICAgICAgICAgICBjb25zdCBhYnNvbHV0ZUZpbGVQYXRoID0gdGhpcy5ub3JtYWxpemVOb3RlUGF0aChmaWxlUGF0aCwgdmF1bHRQYXRoKTtcblxuICAgICAgICAgICAgLy8gVXNlIGV4aXN0aW5nIHRlc3RNYW51YWxTeW5jIG1ldGhvZFxuICAgICAgICAgICAgLy8gQHZlc3NlbC1wcm90b2NvbDpCYWxkciBnb3Zlcm5zOltkZWJ1Z3xzeW5jLWRpYWdub3Npc10gY29udGV4dDpFbmhhbmNlZCBsb2dnaW5nIGZvciBpbmRpdmlkdWFsIG5vdGUgc3luY1xuICAgICAgICAgICAgLy8gQHB1cnBvc2U6IFByb3ZpZGUgY2xlYXIgZGVidWcgaW5mb3JtYXRpb24gYWJvdXQgaW5kaXZpZHVhbCBub3RlIHN5bmMgcHJvY2Vzc1xuICAgICAgICAgICAgLy8gQHJlc3VsdDogSW1wcm92ZWQgdHJhY2VhYmlsaXR5IG9mIHN5bmMgb3BlcmF0aW9uc1xuICAgICAgICAgICAgLy8gQHNpZ25lZDogQy5CasO4cm5cbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbU1lOQy1ESUFHTk9TSVNdIEluaXRpYXRpbmcgaW5kaXZpZHVhbCBub3RlIHN5bmMnLCB7XG4gICAgICAgICAgICAgICAgZmlsZTogYWJzb2x1dGVGaWxlUGF0aCxcbiAgICAgICAgICAgICAgICB2YXVsdFBhdGg6IHZhdWx0UGF0aFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmdyYXBoaXRpU2VydmljZS50ZXN0TWFudWFsU3luYyhhYnNvbHV0ZUZpbGVQYXRoLCBzb3VyY2VfZGVzY3JpcHRpb24pO1xuXG4gICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgICAgICAgLy8gRXh0cmFjdCBtbV91aWQgZnJvbSBzeW5jIHJlc3VsdFxuICAgICAgICAgICAgICAgIGNvbnN0IG1tVWlkID0gdGhpcy5leHRyYWN0TW1VaWRGcm9tU3luY1Jlc3VsdChyZXN1bHQpO1xuICAgICAgICAgICAgICAgIGlmICghbW1VaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignU3luYyBjb21wbGV0ZWQgYnV0IG5vIG1tX3VpZCBleHRyYWN0ZWQgZnJvbSByZXN1bHQnLCB7IGZpbGU6IGZpbGVQYXRoLCByZXN1bHQgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIG5vdGUgcHJvcGVydGllcyB3aXRoIHN5bmMgcmVzdWx0IChwYXNzIGV4dHJhY3RlZCBtbVVpZCB0byBhdm9pZCBkdXBsaWNhdGUgZXh0cmFjdGlvbilcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZU5vdGVQcm9wZXJ0aWVzKGZpbGUsIHJlc3VsdCwgc291cmNlX2Rlc2NyaXB0aW9uLCBtbVVpZCB8fCB1bmRlZmluZWQpO1xuXG4gICAgICAgICAgICAgICAgLy8gU2hvdyBzdWNjZXNzIG5vdGlmaWNhdGlvbiBpZiBlbmFibGVkXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3Muc2hvd05vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZShgW1NVQ0NFU1NdICR7ZmlsZS5uYW1lfSBzeW5jZWQgc3VjY2Vzc2Z1bGx5YCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFN5bmMgZmFpbGVkIC0gcmVjb3JkIGVycm9yIGluIHJlZ2lzdHJ5IHVzaW5nIG1tX3VpZCBpZiBhdmFpbGFibGVcbiAgICAgICAgICAgICAgICBjb25zdCBtbVVpZCA9IGF3YWl0IEZyb250bWF0dGVyVXRpbHMucmVhZE1tVWlkKHRoaXMuYXBwLCBmaWxlKTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YXVsdElkID0gdGhpcy5hcHAudmF1bHQuZ2V0TmFtZSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREYlR5cGUgPSB0aGlzLmdldEN1cnJlbnREYXRhYmFzZVR5cGUoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSByZXN1bHQubWVzc2FnZSB8fCAnU3luYyBmYWlsZWQnO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1tVWlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgZXhpc3RpbmcgbW1fdWlkIGZvciBlcnJvciByZWNvcmRcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZS5hZGRPclVwZGF0ZVN5bmNSZWNvcmQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1tVWlkOiBtbVVpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RlUGF0aDogZmlsZS5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhdWx0SWQ6IHZhdWx0SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3luY0VudHJ5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlX2lkOiBjdXJyZW50RGJUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cF9pZDogYXdhaXQgdGhpcy5zeW5jUmVnaXN0cnlTZXJ2aWNlLmdlbmVyYXRlR3JvdXBJZChmaWxlLnBhdGgsIHZhdWx0SWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcGlzb2RlX3V1aWQ6IG1tVWlkLCAvLyBLZWVwIGV4aXN0aW5nIG1tX3VpZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0X3N5bmM6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlX2Rlc2NyaXB0aW9uOiBzb3VyY2VfZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yX21lc3NhZ2U6IGVycm9yTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gcGF0aC1iYXNlZCBmb3Igbm90ZXMgd2l0aG91dCBtbV91aWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZS5hZGRPclVwZGF0ZVN5bmNSZWNvcmQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1tVWlkOiBgZXJyb3ItJHtEYXRlLm5vdygpfWAsIC8vIEdlbmVyYXRlIHRlbXBvcmFyeSBtbV91aWQgZm9yIGVycm9yIGNhc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RlUGF0aDogZmlsZS5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhdWx0SWQ6IHZhdWx0SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3luY0VudHJ5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlX2lkOiBjdXJyZW50RGJUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cF9pZDogYXdhaXQgdGhpcy5zeW5jUmVnaXN0cnlTZXJ2aWNlLmdlbmVyYXRlR3JvdXBJZChmaWxlLnBhdGgsIHZhdWx0SWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcGlzb2RlX3V1aWQ6IGBlcnJvci0ke0RhdGUubm93KCl9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdF9zeW5jOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZV9kZXNjcmlwdGlvbjogc291cmNlX2Rlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcl9tZXNzYWdlOiBlcnJvck1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKHJlZ2lzdHJ5RXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byByZWNvcmQgc3luYyBlcnJvciBpbiByZWdpc3RyeScsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiByZWdpc3RyeUVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZTogZmlsZVBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBtbVVpZDogbW1VaWQgfHwgJ25vbmUnXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnNob3dOb3RpZmljYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoYFtFUlJPUl0gRmFpbGVkIHRvIHN5bmMgJHtmaWxlLm5hbWV9OiAke2Vycm9yTWVzc2FnZX1gKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihgTm90ZSBzeW5jIGZhaWxlZCBmb3IgJHtmaWxlUGF0aH06ICR7cmVzdWx0Lm1lc3NhZ2UgfHwgJ1Vua25vd24gZXJyb3InfWAsIHtcbiAgICAgICAgICAgICAgICAgICAgbW1VaWQ6IG1tVWlkIHx8ICdub25lJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgc3luYyBlcnJvclxuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5zaG93Tm90aWZpY2F0aW9ucykge1xuICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoYFtFUlJPUl0gU3luYyBlcnJvciBmb3IgJHtmaWxlLm5hbWV9OiAke2Vycm9yTWVzc2FnZX1gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ05vdGUgc3luYyBlcnJvcicsIHsgZmlsZTogZmlsZVBhdGgsIGVycm9yIH0pO1xuXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgcmVzdWx0XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICBwcm9jZXNzZWQ6IDAsXG4gICAgICAgICAgICAgICAgc2tpcHBlZDogMCxcbiAgICAgICAgICAgICAgICB0b3RhbDogMSxcbiAgICAgICAgICAgICAgICBiYXRjaENvdW50OiAwLFxuICAgICAgICAgICAgICAgIG5vZGVUeXBlc0xvYWRlZDogMCxcbiAgICAgICAgICAgICAgICBlZGdlVHlwZXNMb2FkZWQ6IDAsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JNZXNzYWdlXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAvLyBAdmVzc2VsLXByb3RvY29sOkhlaW1kYWxsIGdvdmVybnM6W3JhY2UtY29uZGl0aW9uLWZpeHxkZWJ1Z10gY29udGV4dDpDb25kaXRpb25hbCBjbGVhbnVwIHRvIHByZXZlbnQgZG91YmxlLWRlbGV0aW9uXG4gICAgICAgICAgICAvLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbdXBkYXRlTm90ZVByb3BlcnRpZXMoKSBlYXJseSBjbGVhbnVwXVxuICAgICAgICAgICAgLy8gQHB1cnBvc2U6IE9ubHkgY2xlYW4gdXAgYWN0aXZlU3luY3MgaWYgbm90IGFscmVhZHkgY2xlYXJlZCBieSBzdWNjZXNzZnVsIGNvbXBsZXRpb24gcGF0aFxuICAgICAgICAgICAgLy8gQHJlc3VsdDogUHJvcGVyIGNsZWFudXAgZm9yIGVycm9yIGNhc2VzIHdoaWxlIHByZXZlbnRpbmcgZG91YmxlLWRlbGV0aW9uXG4gICAgICAgICAgICAvLyBAc2lnbmVkOiBDLkJqw7hyblxuXG4gICAgICAgICAgICAvLyBPbmx5IGNsZWFuIHVwIGlmIG5vdCBhbHJlYWR5IGNsZWFyZWQgYnkgc3VjY2Vzc2Z1bCBjb21wbGV0aW9uXG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVTeW5jcy5oYXMoZmlsZVBhdGgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVTeW5jcy5kZWxldGUoZmlsZVBhdGgpO1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbUkFDRS1GSVhdIENsZWFuZWQgdXAgYWN0aXZlU3luY3MgaW4gZmluYWxseSBibG9jayAoZXJyb3IgY2FzZSknLCB7IGZpbGU6IGZpbGVQYXRoIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQHZlc3NlbC1wcm90b2NvbDpGcmlnZyBnb3Zlcm5zOltzeW5jfHJlZmFjdG9yXSBjb250ZXh0OlNtYXJ0IG5vdGUgcHJvcGVydGllcyB1cGRhdGUgLSBwcmVzZXJ2ZSBleGlzdGluZyBtbV91aWQsIHByZXZlbnQgZHVwbGljYXRlIHJlY29yZHNcbiAgICAvLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbRnJvbnRtYXR0ZXJVdGlscywgU3luY1JlZ2lzdHJ5U2VydmljZV1cbiAgICAvLyBAcHVycG9zZTogRGlmZmVyZW50aWF0ZSBiZXR3ZWVuIGZpcnN0LXRpbWUgc3luYyBhbmQgcmUtc3luYyB0byBwcmV2ZW50IGZyb250bWF0dGVyIG92ZXJ3cml0ZSBhbmQgZHVwbGljYXRlIHJlY29yZHNcbiAgICAvLyBAcmVzdWx0OiBBbHJlYWR5LXN5bmNlZCBub3RlcyBrZWVwIHRoZWlyIG9yaWdpbmFsIG1tX3VpZCBhbmQgdXBkYXRlIGV4aXN0aW5nIHN5bmMgcmVjb3JkcyBpbnN0ZWFkIG9mIGNyZWF0aW5nIG5ldyBvbmVzXG4gICAgLy8gQHNpZ25lZDogQy5CasO4cm5cbiAgICBhc3luYyB1cGRhdGVOb3RlUHJvcGVydGllcyhmaWxlOiBURmlsZSwgcmVzdWx0OiBTeW5jUmVzdWx0LCBzb3VyY2VfZGVzY3JpcHRpb246IHN0cmluZyA9ICdvYnNpZGlhbl9tYW51YWwnLCBwcm92aWRlZE1tVWlkPzogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGZpbGVQYXRoID0gZmlsZS5wYXRoO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiBub3RlIGFscmVhZHkgaGFzIG1tX3VpZCBpbiBmcm9udG1hdHRlciAoaW5kaWNhdGVzIGV4aXN0aW5nIHN5bmMpXG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ01tVWlkID0gYXdhaXQgRnJvbnRtYXR0ZXJVdGlscy5yZWFkTW1VaWQodGhpcy5hcHAsIGZpbGUpO1xuXG4gICAgICAgICAgICAvLyBHZXQgdGhlIG5ldyBtbV91aWQgZnJvbSBzeW5jIHJlc3VsdFxuICAgICAgICAgICAgY29uc3QgbmV3TW1VaWQgPSBwcm92aWRlZE1tVWlkIHx8IHRoaXMuZXh0cmFjdE1tVWlkRnJvbVN5bmNSZXN1bHQocmVzdWx0KTtcbiAgICAgICAgICAgIGlmICghbmV3TW1VaWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdObyBtbV91aWQgZm91bmQgaW4gc3luYyByZXN1bHQgZm9yIG5vdGUgcHJvcGVydGllcyB1cGRhdGUnLCB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGU6IGZpbGUucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDUklUSUNBTCBGSVg6IENsZWFyIGFjdGl2ZVN5bmNzIEJFRk9SRSByZWdpc3RyeSBzYXZlIHRvIHByZXZlbnQgcmFjZSBjb25kaXRpb25cbiAgICAgICAgICAgIHRoaXMuYWN0aXZlU3luY3MuZGVsZXRlKGZpbGVQYXRoKTtcblxuICAgICAgICAgICAgY29uc3QgdmF1bHRJZCA9IHRoaXMuYXBwLnZhdWx0LmdldE5hbWUoKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREYlR5cGUgPSB0aGlzLmdldEN1cnJlbnREYXRhYmFzZVR5cGUoKTtcbiAgICAgICAgICAgIGNvbnN0IHN5bmNlZFRpbWUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cbiAgICAgICAgICAgIGlmIChleGlzdGluZ01tVWlkKSB7XG4gICAgICAgICAgICAgICAgLy8gUkUtU1lOQyBDQVNFOiBOb3RlIGFscmVhZHkgaGFzIG1tX3VpZCAtIGRvIE5PVCBvdmVyd3JpdGUgZnJvbnRtYXR0ZXJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgTm90ZSBhbHJlYWR5IGhhcyBtbV91aWQgaW4gZnJvbnRtYXR0ZXI6ICR7ZXhpc3RpbmdNbVVpZH0sIHByZXNlcnZpbmcgb3JpZ2luYWxgKTtcblxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyBzeW5jIHJlY29yZCB1c2luZyB0aGUgT1JJR0lOQUwgbW1fdWlkIChub3QgbmV3IG9uZSBmcm9tIEdyYXBoaXRpKVxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZS5hZGRPclVwZGF0ZVN5bmNSZWNvcmQoe1xuICAgICAgICAgICAgICAgICAgICBtbVVpZDogZXhpc3RpbmdNbVVpZCwgLy8gVXNlIGV4aXN0aW5nIG1tX3VpZCBhcyBwcmltYXJ5IGtleVxuICAgICAgICAgICAgICAgICAgICBub3RlUGF0aDogZmlsZS5wYXRoLFxuICAgICAgICAgICAgICAgICAgICB2YXVsdElkOiB2YXVsdElkLFxuICAgICAgICAgICAgICAgICAgICBzeW5jRW50cnk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlX2lkOiBjdXJyZW50RGJUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBfaWQ6IGF3YWl0IHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZS5nZW5lcmF0ZUdyb3VwSWQoZmlsZS5wYXRoLCB2YXVsdElkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVwaXNvZGVfdXVpZDogbmV3TW1VaWQsIC8vIFVwZGF0ZSB3aXRoIG5ldyBlcGlzb2RlIFVVSUQgZnJvbSBHcmFwaGl0aVxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdF9zeW5jOiBzeW5jZWRUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlX2Rlc2NyaXB0aW9uOiBzb3VyY2VfZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhgVXBkYXRlZCBleGlzdGluZyBzeW5jIHJlY29yZCBmb3IgJHtmaWxlLnBhdGh9IHdpdGggcHJlc2VydmVkIG1tX3VpZDogJHtleGlzdGluZ01tVWlkfWApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBGSVJTVC1USU1FIFNZTkMgQ0FTRTogTm90ZSBoYXMgbm8gbW1fdWlkIC0gd3JpdGUgbmV3IG9uZSBhbmQgY3JlYXRlIHJlY29yZFxuICAgICAgICAgICAgICAgIGF3YWl0IEZyb250bWF0dGVyVXRpbHMud3JpdGVNbVVpZCh0aGlzLmFwcCwgZmlsZSwgbmV3TW1VaWQpO1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBXcml0dGVuIG1tX3VpZCB0byBmcm9udG1hdHRlcjogJHtmaWxlLnBhdGh9IC0+ICR7bmV3TW1VaWR9YCk7XG5cbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UuYWRkT3JVcGRhdGVTeW5jUmVjb3JkKHtcbiAgICAgICAgICAgICAgICAgICAgbW1VaWQ6IG5ld01tVWlkLFxuICAgICAgICAgICAgICAgICAgICBub3RlUGF0aDogZmlsZS5wYXRoLFxuICAgICAgICAgICAgICAgICAgICB2YXVsdElkOiB2YXVsdElkLFxuICAgICAgICAgICAgICAgICAgICBzeW5jRW50cnk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlX2lkOiBjdXJyZW50RGJUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBfaWQ6IGF3YWl0IHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZS5nZW5lcmF0ZUdyb3VwSWQoZmlsZS5wYXRoLCB2YXVsdElkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVwaXNvZGVfdXVpZDogbmV3TW1VaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0X3N5bmM6IHN5bmNlZFRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VfZGVzY3JpcHRpb246IHNvdXJjZV9kZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBDcmVhdGVkIG5ldyBzeW5jIHJlY29yZCBhbmQgZnJvbnRtYXR0ZXIgZm9yICR7ZmlsZS5wYXRofSB3aXRoIG1tX3VpZDogJHtuZXdNbVVpZH1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGBGYWlsZWQgdG8gdXBkYXRlIG5vdGUgcHJvcGVydGllcyBmb3IgJHtmaWxlLnBhdGh9YCwge1xuICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgIG1tVWlkOiBwcm92aWRlZE1tVWlkIHx8IHRoaXMuZXh0cmFjdE1tVWlkRnJvbVN5bmNSZXN1bHQocmVzdWx0KSB8fCAnbm9uZSdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQHZlc3NlbC1jbG9zZTpGcmlnZ1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgZXBpc29kZSBJRCBmcm9tIHN5bmMgcmVzdWx0IG9yIGNyZWF0ZSBVVUlEXG4gICAgICovXG4gICAgcHVibGljIGdlbmVyYXRlRXBpc29kZUlkKHJlc3VsdDogU3luY1Jlc3VsdCk6IHN0cmluZyB7XG4gICAgICAgIC8vIEB2ZXNzZWwtcHJvdG9jb2w6TWltaXIgZ292ZXJuczpbZGVidWctZml4fGVwaXNvZGUtdXVpZF0gY29udGV4dDpDaGVjayB0b3AtbGV2ZWwgZXBpc29kZV91dWlkIGZpcnN0IGJlZm9yZSBub3RlcyBhcnJheVxuICAgICAgICAvLyBDUklUSUNBTCBGSVg6IENoZWNrIHRvcC1sZXZlbCBlcGlzb2RlX3V1aWQgZmlyc3QgKHRlc3RNYW51YWxTeW5jIHJldHVybnMgaXQgaGVyZSlcbiAgICAgICAgaWYgKChyZXN1bHQgYXMgYW55KS5lcGlzb2RlX3V1aWQpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdHZW5lcmF0ZWQgRXBpc29kZSBJRDogVG9wLWxldmVsIGVwaXNvZGVfdXVpZCBmb3VuZC4nLCB7IGVwaXNvZGVJZDogKHJlc3VsdCBhcyBhbnkpLmVwaXNvZGVfdXVpZCB9KTtcbiAgICAgICAgICAgIHJldHVybiAocmVzdWx0IGFzIGFueSkuZXBpc29kZV91dWlkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKChyZXN1bHQgYXMgYW55KS5ub3RlcyAmJiBBcnJheS5pc0FycmF5KChyZXN1bHQgYXMgYW55KS5ub3RlcykpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgbm90ZSBvZiAocmVzdWx0IGFzIGFueSkubm90ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAobm90ZS5lcGlzb2RlX3V1aWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0V4dHJhY3RlZCBlcGlzb2RlIFVVSUQgZnJvbSByZXN1bHQubm90ZXMnLCB7IGVwaXNvZGVJZDogbm90ZS5lcGlzb2RlX3V1aWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBub3RlLmVwaXNvZGVfdXVpZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaW4gZ3JhcGhpdGlfcmVzcG9uc2UuZXBpc29kZS51dWlkXG4gICAgICAgICAgICAgICAgaWYgKG5vdGUuZ3JhcGhpdGlfcmVzcG9uc2UgJiYgbm90ZS5ncmFwaGl0aV9yZXNwb25zZS5lcGlzb2RlICYmIG5vdGUuZ3JhcGhpdGlfcmVzcG9uc2UuZXBpc29kZS51dWlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdFeHRyYWN0ZWQgZXBpc29kZSBVVUlEIGZyb20gZ3JhcGhpdGlfcmVzcG9uc2UuZXBpc29kZS51dWlkJywgeyBlcGlzb2RlSWQ6IG5vdGUuZ3JhcGhpdGlfcmVzcG9uc2UuZXBpc29kZS51dWlkIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm90ZS5ncmFwaGl0aV9yZXNwb25zZS5lcGlzb2RlLnV1aWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVHJ5IHRvIGV4dHJhY3QgZXBpc29kZSBJRCBmcm9tIFB5dGhvbiBzdGRvdXQgaWYgYXZhaWxhYmxlIChmYWxsYmFjaylcbiAgICAgICAgaWYgKHJlc3VsdC5weXRob25TdGRvdXQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gUGFyc2UgdGhlIFB5dGhvbiBvdXRwdXQgdG8gZmluZCB0aGUgYWN0dWFsIGVwaXNvZGUgVVVJRFxuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gcmVzdWx0LnB5dGhvblN0ZG91dC5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaW5lLnRyaW0oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKGxpbmUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTG9vayBmb3IgZXBpc29kZSBVVUlEIGluIHRoZSBuZXN0ZWQgc3RydWN0dXJlOiBncmFwaGl0aV9yZXN1bHQuZXBpc29kZS51dWlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZC5ub3RlcyAmJiBBcnJheS5pc0FycmF5KHBhcnNlZC5ub3RlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBub3RlIG9mIHBhcnNlZC5ub3Rlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdGUuZXBpc29kZV91dWlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0dlbmVyYXRlZCBFcGlzb2RlIElEOiBFeHRyYWN0ZWQgZnJvbSBQeXRob24gc3Rkb3V0IG5vdGVzIGFycmF5LicsIHsgZXBpc29kZUlkOiBub3RlLmVwaXNvZGVfdXVpZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm90ZS5lcGlzb2RlX3V1aWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpbiBncmFwaGl0aV9yZXNwb25zZS5lcGlzb2RlLnV1aWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RlLmdyYXBoaXRpX3Jlc3BvbnNlICYmIG5vdGUuZ3JhcGhpdGlfcmVzcG9uc2UuZXBpc29kZSAmJiBub3RlLmdyYXBoaXRpX3Jlc3BvbnNlLmVwaXNvZGUudXVpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdHZW5lcmF0ZWQgRXBpc29kZSBJRDogRXh0cmFjdGVkIGZyb20gUHl0aG9uIHN0ZG91dCBncmFwaGl0aV9yZXNwb25zZS5lcGlzb2RlLnV1aWQgaW4gbm90ZXMgYXJyYXkuJywgeyBlcGlzb2RlSWQ6IG5vdGUuZ3JhcGhpdGlfcmVzcG9uc2UuZXBpc29kZS51dWlkIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub3RlLmdyYXBoaXRpX3Jlc3BvbnNlLmVwaXNvZGUudXVpZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIExlZ2FjeTogTG9vayBmb3IgZXBpc29kZSBVVUlEIGluIHZhcmlvdXMgb3RoZXIgbG9jYXRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZC5lcGlzb2RlX3V1aWQgfHwgcGFyc2VkLmVwaXNvZGVJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcGlzb2RlSWQgPSBwYXJzZWQuZXBpc29kZV91dWlkIHx8IHBhcnNlZC5lcGlzb2RlSWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdHZW5lcmF0ZWQgRXBpc29kZSBJRDogRXh0cmFjdGVkIGZyb20gUHl0aG9uIHN0ZG91dCB0b3AtbGV2ZWwuJywgeyBlcGlzb2RlSWQgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlcGlzb2RlSWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGluZSBpcyBub3QgSlNPTiwgc2tpcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdnZW5lcmF0ZUVwaXNvZGVJZDogQ291bGQgbm90IHBhcnNlIFB5dGhvbiBzdGRvdXQgbGluZSBhcyBKU09OIChza2lwcGluZyknLCB7IGxpbmUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdnZW5lcmF0ZUVwaXNvZGVJZDogQ291bGQgbm90IHBhcnNlIGVwaXNvZGUgVVVJRCBmcm9tIFB5dGhvbiBzdGRvdXQgKG92ZXJhbGwgZXJyb3IpLicsIHsgZXJyb3IgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGYWxsYmFjazogZ2VuZXJhdGUgYSB0aW1lc3RhbXAtYmFzZWQgVVVJRFxuICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgICAgICBjb25zdCByYW5kb20gPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgOCk7XG4gICAgICAgIGNvbnN0IGZhbGxiYWNrSWQgPSBgZXBpc29kZS0ke3RpbWVzdGFtcH0tJHtyYW5kb219YDtcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybignR2VuZXJhdGVkIEVwaXNvZGUgSUQ6IEZhbGxiYWNrIElEIGdlbmVyYXRlZCAoVVVJRCBub3QgZm91bmQgaW4gcmVzdWx0KS4nLCB7IGZhbGxiYWNrSWQsIG9yaWdpbmFsUmVzdWx0OiByZXN1bHQgfSk7XG4gICAgICAgIHJldHVybiBmYWxsYmFja0lkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBmcm9udG1hdHRlciBpbiBmaWxlIGNvbnRlbnRcbiAgICAgKi9cbiAgICBwcml2YXRlIHVwZGF0ZUZyb250bWF0dGVyKGNvbnRlbnQ6IHN0cmluZywgZnJvbnRtYXR0ZXI6IGFueSk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGxpbmVzID0gY29udGVudC5zcGxpdCgnXFxuJyk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgZmlsZSBhbHJlYWR5IGhhcyBmcm9udG1hdHRlclxuICAgICAgICBpZiAobGluZXNbMF0gPT09ICctLS0nKSB7XG4gICAgICAgICAgICAvLyBGaW5kIGVuZCBvZiBleGlzdGluZyBmcm9udG1hdHRlclxuICAgICAgICAgICAgbGV0IGVuZEluZGV4ID0gLTE7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxpbmVzW2ldID09PSAnLS0tJykge1xuICAgICAgICAgICAgICAgICAgICBlbmRJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGVuZEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIC8vIFJlcGxhY2UgZXhpc3RpbmcgZnJvbnRtYXR0ZXJcbiAgICAgICAgICAgICAgICBjb25zdCBib2R5Q29udGVudCA9IGxpbmVzLnNsaWNlKGVuZEluZGV4ICsgMSkuam9pbignXFxuJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3RnJvbnRtYXR0ZXIgPSB0aGlzLnNlcmlhbGl6ZUZyb250bWF0dGVyKGZyb250bWF0dGVyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYC0tLVxcbiR7bmV3RnJvbnRtYXR0ZXJ9LS0tXFxuJHtib2R5Q29udGVudH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIG5ldyBmcm9udG1hdHRlciB0byBiZWdpbm5pbmcgb2YgZmlsZVxuICAgICAgICBjb25zdCBuZXdGcm9udG1hdHRlciA9IHRoaXMuc2VyaWFsaXplRnJvbnRtYXR0ZXIoZnJvbnRtYXR0ZXIpO1xuICAgICAgICByZXR1cm4gYC0tLVxcbiR7bmV3RnJvbnRtYXR0ZXJ9LS0tXFxuJHtib2R5Q29udGVudH1gO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlcmlhbGl6ZSBmcm9udG1hdHRlciBvYmplY3QgdG8gWUFNTCBzdHJpbmdcbiAgICAgKi9cbiAgICBwcml2YXRlIHNlcmlhbGl6ZUZyb250bWF0dGVyKGZyb250bWF0dGVyOiBhbnkpOiBzdHJpbmcge1xuICAgICAgICBsZXQgeWFtbCA9ICcnO1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhmcm9udG1hdHRlcikpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgeWFtbCArPSBgJHtrZXl9OiBcIiR7dmFsdWV9XCJcXG5gO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB5YW1sICs9IGAke2tleX06ICR7dmFsdWV9XFxuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geWFtbDtcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgc3luYyBpcyBhY3RpdmUgZm9yIGEgZmlsZVxuICAgICAqL1xuICAgIGdldEFjdGl2ZVN5bmMoZmlsZVBhdGg6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmVTeW5jcy5oYXMoZmlsZVBhdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgYWN0aXZlIHN5bmNzXG4gICAgICovXG4gICAgZ2V0QWN0aXZlU3luY3MoKTogc3RyaW5nW10ge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmFjdGl2ZVN5bmNzLmtleXMoKSk7XG4gICAgfVxuXG5cblxuICAgIC8vIEB2ZXNzZWwtcHJvdG9jb2w6TG9raSBnb3Zlcm5zOltwYXRoLXRyYW5zZm9ybWF0aW9ufGZpeF0gY29udGV4dDpFbnN1cmUgY29uc2lzdGVudCBhbmQgbm9ybWFsaXplZCBub3RlIHBhdGhzIGZvciBHcmFwaGl0aSBvcGVyYXRpb25zXG4gICAgLy8gQGludGVyLWRlcGVuZGVuY2llczogW0dyYXBoaXRpU2VydmljZSwgT2JzaWRpYW4gQXBwLCBQYXRoIG1vZHVsZV1cbiAgICAvLyBAcHVycG9zZTogUHJvdmlkZSBhIHJlbGlhYmxlIG1ldGhvZCB0byBub3JtYWxpemUgbm90ZSBwYXRocyBhY3Jvc3MgZGlmZmVyZW50IE9ic2lkaWFuIGVudmlyb25tZW50cyAoV2luZG93cywgbWFjT1MsIExpbnV4KVxuICAgIC8vIEByZXN1bHQ6IFByZXZlbnQgc3luYyBlcnJvcnMgZHVlIHRvIHBhdGggZGlzY3JlcGFuY2llcyBhbmQgZW5zdXJlIGFjY3VyYXRlIHN5bmMgcmVjb3JkIG1hbmFnZW1lbnQuXG4gICAgLy8gQHNpZ25lZDogQy5CasO4cm5cbiAgICBwdWJsaWMgbm9ybWFsaXplTm90ZVBhdGgoaW5wdXRQYXRoOiBzdHJpbmcsIHZhdWx0UGF0aDogc3RyaW5nIHwgbnVsbCA9IG51bGwpOiBzdHJpbmcge1xuICAgICAgICBsZXQgbm9ybWFsaXplZFBhdGggPSBwYXRoLm5vcm1hbGl6ZShpbnB1dFBhdGgpO1xuXG4gICAgICAgIC8vIFJlbW92ZSBsZWFkaW5nIHNsYXNoIGlmIHByZXNlbnQgQU5EIGN1cnJlbnQgT1MgaXMgV2luZG93c1xuICAgICAgICAvLyBPbiBXaW5kb3dzLCBwYXRocyBsaWtlICcvZm9sZGVyL25vdGUubWQnIGFyZSBwcm9ibGVtYXRpYyBpZiBjb21iaW5lZCB3aXRoIGRyaXZlIGxldHRlcnNcbiAgICAgICAgaWYgKHByb2Nlc3MucGxhdGZvcm0gPT09ICd3aW4zMicgJiYgbm9ybWFsaXplZFBhdGguc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgICAgICAgICBub3JtYWxpemVkUGF0aCA9IG5vcm1hbGl6ZWRQYXRoLnN1YnN0cmluZygxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlcGxhY2UgV2luZG93cyBiYWNrc2xhc2hlcyB3aXRoIGZvcndhcmQgc2xhc2hlcyBmb3IgY29uc2lzdGVuY3lcbiAgICAgICAgbm9ybWFsaXplZFBhdGggPSBub3JtYWxpemVkUGF0aC5yZXBsYWNlKC9cXFxcL2csICcvJyk7XG5cbiAgICAgICAgLy8gUmVtb3ZlIHZhdWx0IG5hbWUgcHJlZml4IGlmIGl0J3MgZXhwbGljaXRseSBwYXJ0IG9mIHRoZSBwYXRoXG4gICAgICAgIGNvbnN0IHZhdWx0TmFtZSA9IHRoaXMuYXBwLnZhdWx0LmdldE5hbWUoKTtcbiAgICAgICAgaWYgKG5vcm1hbGl6ZWRQYXRoLnN0YXJ0c1dpdGgodmF1bHROYW1lICsgJy8nKSkge1xuICAgICAgICAgICAgbm9ybWFsaXplZFBhdGggPSBub3JtYWxpemVkUGF0aC5zdWJzdHJpbmcodmF1bHROYW1lLmxlbmd0aCArIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXBwbHkgdmF1bHQgcGF0aCBwcmVmaXggT05MWSBpZiB2YXVsdFBhdGggaXMgcHJvdmlkZWQgYW5kIHBhdGggaXMgcmVsYXRpdmVcbiAgICAgICAgaWYgKHZhdWx0UGF0aCkge1xuICAgICAgICAgICAgbGV0IGFic29sdXRlUGF0aCA9IHBhdGgucmVzb2x2ZSh2YXVsdFBhdGgsIG5vcm1hbGl6ZWRQYXRoKTtcbiAgICAgICAgICAgIC8vIEVuc3VyZSBmb3J3YXJkIHNsYXNoZXMgZm9yIHRoZSBhYnNvbHV0ZSBwYXRoIHRvb1xuICAgICAgICAgICAgYWJzb2x1dGVQYXRoID0gYWJzb2x1dGVQYXRoLnJlcGxhY2UoL1xcXFwvZywgJy8nKTtcblxuICAgICAgICAgICAgLy8gSGFuZGxlIHBvdGVudGlhbCBkdXBsaWNhdGlvbiBvZiB2YXVsdCBwYXRoIGlmIGl0J3MgYWxyZWFkeSBpbmNsdWRlZFxuICAgICAgICAgICAgY29uc3QgcGFydHMgPSBhYnNvbHV0ZVBhdGguc3BsaXQoJy8nKTtcbiAgICAgICAgICAgIGNvbnN0IHVuaXF1ZVBhcnRzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgICAgY29uc3Qgc2VlbiA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIHBhcnRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnQgPT09ICcnKSBjb250aW51ZTsgLy8gU2tpcCBlbXB0eSBwYXJ0cyBmcm9tIG11bHRpcGxlIHNsYXNoZXNcbiAgICAgICAgICAgICAgICBpZiAoIXNlZW4uaGFzKHBhcnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHVuaXF1ZVBhcnRzLnB1c2gocGFydCk7XG4gICAgICAgICAgICAgICAgICAgIHNlZW4uYWRkKHBhcnQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodW5pcXVlUGFydHNbdW5pcXVlUGFydHMubGVuZ3RoIC0gMV0gIT09IHBhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWxsb3cgcmVwZWF0ZWQgcGFydHMgaWYgbm90IGNvbnNlY3V0aXZlIChlLmcuLCAvYS9iL2EpXG4gICAgICAgICAgICAgICAgICAgIHVuaXF1ZVBhcnRzLnB1c2gocGFydCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWJzb2x1dGVQYXRoID0gdW5pcXVlUGFydHMuam9pbignLycpO1xuXG4gICAgICAgICAgICAvLyBBZGQgbGVhZGluZyBzbGFzaCBmb3IgYWJzb2x1dGUgcGF0aHMgaWYgbm90IGEgV2luZG93cyBkcml2ZSBsZXR0ZXIgcGF0aFxuICAgICAgICAgICAgaWYgKHByb2Nlc3MucGxhdGZvcm0gIT09ICd3aW4zMicgJiYgIWFic29sdXRlUGF0aC5zdGFydHNXaXRoKCcvJykpIHtcbiAgICAgICAgICAgICAgICBhYnNvbHV0ZVBhdGggPSBgLyR7YWJzb2x1dGVQYXRofWA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHByb2Nlc3MucGxhdGZvcm0gPT09ICd3aW4zMicgJiYgIS9eW2EtekEtWl06XFwvLy50ZXN0KGFic29sdXRlUGF0aCkpIHtcbiAgICAgICAgICAgICAgICAvLyBGb3IgV2luZG93cywgZW5zdXJlIGl0IHN0YXJ0cyB3aXRoIGRyaXZlIGxldHRlciBvciBsZWFkaW5nIHNsYXNoIGlmIGl0J3MgYSBuZXR3b3JrIHBhdGggb3Igc2ltaWxhci5cbiAgICAgICAgICAgICAgICAvLyBJZiBpdCdzIGEgcmVsYXRpdmUgcGF0aCBmcm9tIGN1cnJlbnQgZHJpdmUsIGtlZXAgaXQgYXMgaXMuXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBsb2dpYyBpcyB0cmlja3ksIHJlc29sdmUoKSB1c3VhbGx5IGhhbmRsZXMgaXQuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlLW5vcm1hbGl6ZSBvbmUgbGFzdCB0aW1lXG4gICAgICAgICAgICByZXR1cm4gcGF0aC5ub3JtYWxpemUoYWJzb2x1dGVQYXRoKS5yZXBsYWNlKC9cXFxcL2csICcvJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbm9ybWFsaXplZFBhdGg7XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqIENsZWFudXAgbWV0aG9kIGZvciB3aGVuIG1hbmFnZXIgaXMgZGVzdHJveWVkXG4gICAgICovXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5hY3RpdmVTeW5jcy5jbGVhcigpO1xuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdTeW5jU3RhdHVzTWFuYWdlciBkZXN0cm95ZWQnKTtcbiAgICB9XG59XG5cbi8vID09PSBWRVNTRUwgQ0xPU0UgPT09IiwiaW1wb3J0IHsgVEZpbGUsIEFwcCB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB0eXBlIHsgR3JhcGhpdGlQbHVnaW5TZXR0aW5ncyB9IGZyb20gJy4uL3R5cGVzL1NldHRpbmdzJztcbmltcG9ydCB7IEdyYXBoaXRpTG9nZ2VyIH0gZnJvbSAnLi4vdXRpbHMvTG9nZ2VyJztcblxuLyoqXG4gKiBSZXN1bHQgaW50ZXJmYWNlIGZvciBmb2xkZXIgcmVzb2x1dGlvbiBvcGVyYXRpb25zXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRm9sZGVyUmVzb2x1dGlvblJlc3VsdCB7XG5cdHN1Y2Nlc3M6IGJvb2xlYW47XG5cdGZvbGRlclBhdGg6IHN0cmluZztcblx0bWVzc2FnZT86IHN0cmluZztcblx0Y3JlYXRlZD86IGJvb2xlYW47XG59XG5cbi8qKlxuICogU2VydmljZSBmb3IgcmVzb2x2aW5nIE1DUCB0b29sIGZvbGRlciBwYXRocyBhbmQgZ2VuZXJhdGluZyBwZXJpb2RpYyBub3RlIHBhdGhzXG4gKiBIYW5kbGVzIGZvbGRlciB2YWxpZGF0aW9uIGFuZCBjcmVhdGlvbiBmb3IgTUNQIHRvb2wgaW50ZWdyYXRpb25zXG4gKi9cblxuLy8gQHZlc3NlbC1wcm90b2NvbDpVbGxyIGdvdmVybnM6cGF0aC1yZXNvbHV0aW9ufHNlcnZpY2UgY29udGV4dDpNQ1AgdG9vbCBmb2xkZXIgcGF0aCByZXNvbHV0aW9uIGFuZCB2YWxpZGF0aW9uXG4vLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbT2JzaWRpYW4gVEZpbGUgQVBJLCB2YXVsdCBmaWxlIHN5c3RlbV1cbi8vIEBwdXJwb3NlOiBQcm92aWRlIGZvbGRlciByZXNvbHV0aW9uIHNlcnZpY2VzIGZvciBNQ1AgdG9vbCBpbnRlZ3JhdGlvbnMgbGlrZSBUZW1wbGF0ZXIgYW5kIFBlcmlvZGljIE5vdGVzXG4vLyBAcmVzdWx0OiBNQ1AgdG9vbHMgY2FuIHJlc29sdmUgYW5kIHZhbGlkYXRlIGZvbGRlcnMgY29uc2lzdGVudGx5IGFjcm9zcyBkaWZmZXJlbnQgcGx1Z2luIHR5cGVzXG4vLyBAc2lnbmVkOiBDLkJqw7hyblxuZXhwb3J0IGNsYXNzIE1DUEZvbGRlclJlc29sdmVyIHtcblx0cHJpdmF0ZSBzZXR0aW5nczogR3JhcGhpdGlQbHVnaW5TZXR0aW5ncztcblx0cHJpdmF0ZSBhcHA6IEFwcDtcblx0cHJpdmF0ZSBsb2dnZXI6IEdyYXBoaXRpTG9nZ2VyO1xuXG5cdGNvbnN0cnVjdG9yKHNldHRpbmdzOiBHcmFwaGl0aVBsdWdpblNldHRpbmdzLCBhcHA6IEFwcCwgbG9nZ2VyOiBHcmFwaGl0aUxvZ2dlcikge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcblx0XHR0aGlzLmFwcCA9IGFwcDtcblx0XHR0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXNvbHZlIHRoZSBhcHByb3ByaWF0ZSBmb2xkZXIgZm9yIG5vdGUgY3JlYXRpb24gYmFzZWQgb24gbm90ZSB0eXBlIGFuZCBjb25maWd1cmF0aW9uXG5cdCAqIEBwYXJhbSBub3RlVHlwZSAtIFR5cGUgb2Ygbm90ZSB0byBjcmVhdGVcblx0ICogQHBhcmFtIHRlbXBsYXRlTmFtZSAtIE9wdGlvbmFsIHRlbXBsYXRlIG5hbWVcblx0ICogQHBhcmFtIHRhcmdldEZvbGRlciAtIE9wdGlvbmFsIHRhcmdldCBmb2xkZXIgb3ZlcnJpZGVcblx0ICogQHJldHVybnMgUHJvbWlzZTxGb2xkZXJSZXNvbHV0aW9uUmVzdWx0PiAtIEZvbGRlciByZXNvbHV0aW9uIHJlc3VsdFxuXHQgKi9cblx0YXN5bmMgcmVzb2x2ZUZvbGRlckZvck5vdGUoXG5cdFx0bm90ZVR5cGU6ICdkYWlseScgfCAnd2Vla2x5JyB8ICdtb250aGx5JyB8ICdxdWFydGVybHknIHwgJ3llYXJseScgfCAndGVtcGxhdGUnIHwgJ2dlbmVyaWMnLFxuXHRcdHRlbXBsYXRlTmFtZT86IHN0cmluZyxcblx0XHR0YXJnZXRGb2xkZXI/OiBzdHJpbmdcblx0KTogUHJvbWlzZTxGb2xkZXJSZXNvbHV0aW9uUmVzdWx0PiB7XG5cdFx0dHJ5IHtcblx0XHRcdC8vIFRPRE86IEltcGxlbWVudCBmb2xkZXIgcmVzb2x1dGlvbiBsb2dpYyBiYXNlZCBvbiBub3RlIHR5cGUgYW5kIGNvbmZpZ3VyYXRpb25cblx0XHRcdC8vIFRoaXMgc2hvdWxkIGhhbmRsZSBkaWZmZXJlbnQgZm9sZGVyIHJlc29sdXRpb24gc3RyYXRlZ2llczpcblx0XHRcdC8vIC0gVGVtcGxhdGUtYmFzZWQgZm9sZGVyIHJlc29sdXRpb25cblx0XHRcdC8vIC0gUGVyaW9kaWMgbm90ZSBmb2xkZXIgcGF0dGVybnNcblx0XHRcdC8vIC0gQ3VzdG9tIGZvbGRlciBtYXBwaW5nIHJ1bGVzXG5cblx0XHRcdC8vIElmIHRhcmdldCBmb2xkZXIgaXMgcHJvdmlkZWQsIHVzZSBpdFxuXHRcdFx0aWYgKHRhcmdldEZvbGRlcikge1xuXHRcdFx0XHRjb25zdCBpc1ZhbGlkID0gYXdhaXQgdGhpcy52YWxpZGF0ZUFuZENyZWF0ZUZvbGRlcih0YXJnZXRGb2xkZXIsIHRoaXMuYXBwLnZhdWx0KTtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRzdWNjZXNzOiBpc1ZhbGlkLFxuXHRcdFx0XHRcdGZvbGRlclBhdGg6IHRhcmdldEZvbGRlcixcblx0XHRcdFx0XHRtZXNzYWdlOiBpc1ZhbGlkID8gJ1RhcmdldCBmb2xkZXIgdmFsaWRhdGVkJyA6ICdGYWlsZWQgdG8gdmFsaWRhdGUgdGFyZ2V0IGZvbGRlcicsXG5cdFx0XHRcdFx0Y3JlYXRlZDogZmFsc2Vcblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVXNlIGRlZmF1bHQgTUNQIG5vdGVzIGZvbGRlciBmcm9tIHNldHRpbmdzXG5cdFx0XHRjb25zdCBkZWZhdWx0Rm9sZGVyID0gdGhpcy5zZXR0aW5ncy5tY3BUb29scy5kZWZhdWx0cy5pbmJveEZvbGRlciB8fCAnJztcblx0XHRcdGNvbnN0IGlzVmFsaWQgPSBhd2FpdCB0aGlzLnZhbGlkYXRlQW5kQ3JlYXRlRm9sZGVyKGRlZmF1bHRGb2xkZXIsIHRoaXMuYXBwLnZhdWx0KTtcblxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogaXNWYWxpZCxcblx0XHRcdFx0Zm9sZGVyUGF0aDogZGVmYXVsdEZvbGRlcixcblx0XHRcdFx0bWVzc2FnZTogaXNWYWxpZCA/ICdEZWZhdWx0IGZvbGRlciByZXNvbHZlZCcgOiAnRmFpbGVkIHRvIHJlc29sdmUgZGVmYXVsdCBmb2xkZXInLFxuXHRcdFx0XHRjcmVhdGVkOiBmYWxzZVxuXHRcdFx0fTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5sb2dnZXIuZXJyb3IoJ0Vycm9yIHJlc29sdmluZyBmb2xkZXIgZm9yIG5vdGUnLCBlcnJvcik7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0Zm9sZGVyUGF0aDogJycsXG5cdFx0XHRcdG1lc3NhZ2U6IGBFcnJvcjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YFxuXHRcdFx0fTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogVmFsaWRhdGUgdGhhdCBhIGZvbGRlciBleGlzdHMgYW5kIGNyZWF0ZSBpdCBpZiBuZWNlc3Nhcnlcblx0ICogQHBhcmFtIGZvbGRlclBhdGggLSBUaGUgZm9sZGVyIHBhdGggdG8gdmFsaWRhdGUvY3JlYXRlXG5cdCAqIEBwYXJhbSB2YXVsdCAtIE9ic2lkaWFuIHZhdWx0IGluc3RhbmNlIGZvciBmaWxlIG9wZXJhdGlvbnNcblx0ICogQHJldHVybnMgUHJvbWlzZTxib29sZWFuPiAtIFN1Y2Nlc3Mgc3RhdHVzXG5cdCAqL1xuXHRhc3luYyB2YWxpZGF0ZUFuZENyZWF0ZUZvbGRlcihmb2xkZXJQYXRoOiBzdHJpbmcsIHZhdWx0OiBhbnkpOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0XHQvLyBSb2J1c3QgZm9sZGVyIHZhbGlkYXRpb24gKyBjcmVhdGlvbiB1c2luZyBPYnNpZGlhbiB2YXVsdCBBUElzLlxuXHRcdC8vIFJldHVybnMgdHJ1ZSBpZiBmb2xkZXIgZXhpc3RzIG9yIHdhcyBjcmVhdGVkIHN1Y2Nlc3NmdWxseSwgZmFsc2Ugb3RoZXJ3aXNlLlxuXHRcdC8vIFNldHMgZGV0YWlsZWQgbG9ncyB2aWEgR3JhcGhpdGlMb2dnZXIgKGRvIE5PVCB1c2UgY29uc29sZS4qIHBlciBwcm9qZWN0IHJ1bGVzKS5cblx0XHR0cnkge1xuXHRcdFx0Ly8gRW1wdHkgb3Igcm9vdC1saWtlIHBhdGggbWVhbnMgcm9vdCDigJQgdHJlYXQgYXMgdmFsaWRcblx0XHRcdGlmICghZm9sZGVyUGF0aCB8fCBmb2xkZXJQYXRoLnRyaW0oKSA9PT0gJycpIHtcblx0XHRcdFx0dGhpcy5sb2dnZXIuZGVidWcoJ3ZhbGlkYXRlQW5kQ3JlYXRlRm9sZGVyOiBlbXB0eSBmb2xkZXJQYXRoLCB1c2luZyB2YXVsdCByb290Jyk7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBOb3JtYWxpemUgcGF0aCB0byB1c2UgZm9yd2FyZCBzbGFzaGVzICh2YXVsdCBwYXRocyBpbiBPYnNpZGlhbiB1c2UgJy8nKVxuXHRcdFx0Y29uc3Qgbm9ybWFsaXplZCA9IGZvbGRlclBhdGgucmVwbGFjZSgvXFxcXC9nLCAnLycpLnJlcGxhY2UoL15cXC8rfFxcLyskL2csICcnKTtcblxuXHRcdFx0Ly8gUHJlZmVyIHVzaW5nIGFkYXB0ZXIuZXhpc3RzIHdoZW4gYXZhaWxhYmxlLCBidXQgYWxzbyBoYW5kbGUgb2xkZXIgQVBJc1xuXHRcdFx0Y29uc3QgYWRhcHRlciA9IHZhdWx0Py5hZGFwdGVyO1xuXHRcdFx0bGV0IGZvbGRlckV4aXN0cyA9IGZhbHNlO1xuXHRcdFx0aWYgKGFkYXB0ZXIgJiYgdHlwZW9mIGFkYXB0ZXIuZXhpc3RzID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Zm9sZGVyRXhpc3RzID0gYXdhaXQgYWRhcHRlci5leGlzdHMobm9ybWFsaXplZCk7XG5cdFx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRcdHRoaXMubG9nZ2VyLndhcm4oJ3ZhbGlkYXRlQW5kQ3JlYXRlRm9sZGVyOiBhZGFwdGVyLmV4aXN0cyB0aHJldywgZmFsbGluZyBiYWNrIHRvIHZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aCcsIGVycik7XG5cdFx0XHRcdFx0Zm9sZGVyRXhpc3RzID0gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gRmFsbGJhY2s6IHVzZSB2YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGggdG8gY2hlY2sgZXhpc3RlbmNlXG5cdFx0XHRpZiAoIWZvbGRlckV4aXN0cykge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGNvbnN0IGZpbGUgPSB2YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgobm9ybWFsaXplZCk7XG5cdFx0XHRcdFx0Zm9sZGVyRXhpc3RzID0gISFmaWxlO1xuXHRcdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0XHRmb2xkZXJFeGlzdHMgPSBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZm9sZGVyRXhpc3RzKSB7XG5cdFx0XHRcdHRoaXMubG9nZ2VyLmRlYnVnKCd2YWxpZGF0ZUFuZENyZWF0ZUZvbGRlcjogZm9sZGVyIGV4aXN0cycsIHsgZm9sZGVyUGF0aDogbm9ybWFsaXplZCB9KTtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEF0dGVtcHQgdG8gY3JlYXRlIG5lc3RlZCBmb2xkZXJzIHNhZmVseVxuXHRcdFx0Y29uc3Qgc2VnbWVudHMgPSBub3JtYWxpemVkLnNwbGl0KCcvJykuZmlsdGVyKEJvb2xlYW4pO1xuXHRcdFx0bGV0IGN1cnJlbnRQYXRoID0gJyc7XG5cdFx0XHRsZXQgY3JlYXRlZEFueSA9IGZhbHNlO1xuXHRcdFx0Zm9yIChjb25zdCBzZWcgb2Ygc2VnbWVudHMpIHtcblx0XHRcdFx0Y3VycmVudFBhdGggPSBjdXJyZW50UGF0aCA/IGAke2N1cnJlbnRQYXRofS8ke3NlZ31gIDogc2VnO1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdC8vIElmIGFkYXB0ZXIgc3VwcG9ydHMgZXhpc3RzL2NyZWF0ZUZvbGRlciwgdXNlIGl0XG5cdFx0XHRcdFx0bGV0IGV4aXN0c05vdyA9IGZhbHNlO1xuXHRcdFx0XHRcdGlmIChhZGFwdGVyICYmIHR5cGVvZiBhZGFwdGVyLmV4aXN0cyA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0ZXhpc3RzTm93ID0gYXdhaXQgYWRhcHRlci5leGlzdHMoY3VycmVudFBhdGgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIWV4aXN0c05vdykge1xuXHRcdFx0XHRcdFx0Ly8gdmF1bHQuY3JlYXRlRm9sZGVyIHdpbGwgYWxzbyBjcmVhdGUgbmVzdGVkIHN0cnVjdHVyZSB3aGVuIHBvc3NpYmxlXG5cdFx0XHRcdFx0XHRpZiAodHlwZW9mIHZhdWx0LmNyZWF0ZUZvbGRlciA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0XHRhd2FpdCB2YXVsdC5jcmVhdGVGb2xkZXIoY3VycmVudFBhdGgpO1xuXHRcdFx0XHRcdFx0XHRjcmVhdGVkQW55ID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0dGhpcy5sb2dnZXIuaW5mbygndmFsaWRhdGVBbmRDcmVhdGVGb2xkZXI6IGNyZWF0ZWQgZm9sZGVyJywgeyBwYXRoOiBjdXJyZW50UGF0aCB9KTtcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoYWRhcHRlciAmJiB0eXBlb2YgYWRhcHRlci5ta2RpciA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0XHQvLyBzb21lIGFkYXB0ZXJzIGV4cG9zZSBta2RpclxuXHRcdFx0XHRcdFx0XHRhd2FpdCBhZGFwdGVyLm1rZGlyKGN1cnJlbnRQYXRoKTtcblx0XHRcdFx0XHRcdFx0Y3JlYXRlZEFueSA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdHRoaXMubG9nZ2VyLmluZm8oJ3ZhbGlkYXRlQW5kQ3JlYXRlRm9sZGVyOiBjcmVhdGVkIGZvbGRlciB2aWEgYWRhcHRlci5ta2RpcicsIHsgcGF0aDogY3VycmVudFBhdGggfSk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHR0aGlzLmxvZ2dlci53YXJuKCd2YWxpZGF0ZUFuZENyZWF0ZUZvbGRlcjogbm8gbWV0aG9kIHRvIGNyZWF0ZSBmb2xkZXIgZm91bmQnLCB7IHBhdGg6IGN1cnJlbnRQYXRoIH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdFx0dGhpcy5sb2dnZXIuZXJyb3IoJ3ZhbGlkYXRlQW5kQ3JlYXRlRm9sZGVyOiBmYWlsZWQgdG8gY3JlYXRlIGZvbGRlciBzZWdtZW50JywgeyBwYXRoOiBjdXJyZW50UGF0aCwgZXJyb3I6IGVyciB9KTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0dGhpcy5sb2dnZXIuZGVidWcoJ3ZhbGlkYXRlQW5kQ3JlYXRlRm9sZGVyOiB2YWxpZGF0aW9uIGNvbXBsZXRlJywgeyBmb2xkZXJQYXRoOiBub3JtYWxpemVkLCBjcmVhdGVkOiBjcmVhdGVkQW55IH0pO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdC8vIFVzZSBwcm9qZWN0IGxvZ2dlciBmb3IgZXJyb3JzIChubyBjb25zb2xlLiopXG5cdFx0XHR0aGlzLmxvZ2dlci5lcnJvcigndmFsaWRhdGVBbmRDcmVhdGVGb2xkZXI6IHVuZXhwZWN0ZWQgZXJyb3InLCBlcnJvcik7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEdlbmVyYXRlIHBlcmlvZGljIG5vdGUgcGF0aCBiYXNlZCBvbiBkYXRlIGFuZCBjb25maWd1cmF0aW9uXG5cdCAqIEBwYXJhbSBkYXRlIC0gRGF0ZSBmb3IgdGhlIHBlcmlvZGljIG5vdGVcblx0ICogQHBhcmFtIHBlcmlvZGljQ29uZmlnIC0gUGVyaW9kaWMgbm90ZXMgY29uZmlndXJhdGlvblxuXHQgKiBAcmV0dXJucyBzdHJpbmcgLSBHZW5lcmF0ZWQgcGF0aCBmb3IgdGhlIHBlcmlvZGljIG5vdGVcblx0ICovXG5cdGdlbmVyYXRlUGVyaW9kaWNOb3RlUGF0aChkYXRlOiBEYXRlLCBwZXJpb2RpY0NvbmZpZzogYW55KTogc3RyaW5nIHtcblx0XHQvLyBUT0RPOiBJbXBsZW1lbnQgcGVyaW9kaWMgbm90ZSBwYXRoIGdlbmVyYXRpb25cblx0XHQvLyBUaGlzIHNob3VsZCBoYW5kbGU6XG5cdFx0Ly8gLSBEYWlseSwgd2Vla2x5LCBtb250aGx5LCB5ZWFybHkgbm90ZSBwYXR0ZXJuc1xuXHRcdC8vIC0gQ3VzdG9tIGRhdGUgZm9ybWF0dGluZ1xuXHRcdC8vIC0gRm9sZGVyIHN0cnVjdHVyZSBjb25maWd1cmF0aW9uXG5cdFx0Ly8gLSBUZW1wbGF0ZS1iYXNlZCBwYXRoIGdlbmVyYXRpb25cblxuXHRcdC8vIFBsYWNlaG9sZGVyIGltcGxlbWVudGF0aW9uIC0gc2ltcGxlIGRhaWx5IG5vdGUgcGF0dGVyblxuXHRcdGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG5cdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKTtcblx0XHRjb25zdCBkYXkgPSBTdHJpbmcoZGF0ZS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7XG5cblx0XHQvLyBEZWZhdWx0IHBhdHRlcm46IFlZWVktTU0tREQgZm9ybWF0IGluIHJvb3Rcblx0XHRyZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9Lm1kYDtcblx0fVxufVxuLy8gQHZlc3NlbC1jbG9zZTpVbGxyIiwiaW1wb3J0IHsgc3Bhd24sIENoaWxkUHJvY2VzcyB9IGZyb20gJ2NoaWxkX3Byb2Nlc3MnO1xyXG5pbXBvcnQgeyBOb3RpY2UsIFBsdWdpbiwgVEZpbGUsIFRBYnN0cmFjdEZpbGUgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCc7IC8vIENSSVRJQ0FMIEZJWDogZm9yIHBhdGggbm9ybWFsaXphdGlvbiBpbiBwcmV2aW91c19lcGlzb2RlX3V1aWRzIHJldHJpZXZhbFxyXG5pbXBvcnQgdHlwZSB7IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3MgfSBmcm9tICcuLi90eXBlcy9TZXR0aW5ncyc7XHJcbmltcG9ydCB7IGpvaW4gfSBmcm9tICdwYXRoJztcclxuaW1wb3J0IHsgU2NoZW1hRGlzY292ZXJ5U2VydmljZSB9IGZyb20gJy4vU2NoZW1hRGlzY292ZXJ5U2VydmljZSc7XHJcbmltcG9ydCB7IE5vdGVTZWxlY3Rpb25TZXJ2aWNlLCB0eXBlIE5vdGVGaWx0ZXJDcml0ZXJpYSB9IGZyb20gJy4vTm90ZVNlbGVjdGlvblNlcnZpY2UnO1xyXG5pbXBvcnQgeyBHcmFwaGl0aUxvZ2dlciB9IGZyb20gJy4uL3V0aWxzL0xvZ2dlcic7XHJcbmltcG9ydCB7IFN5bmNSZWdpc3RyeVNlcnZpY2UgfSBmcm9tICcuL1N5bmNSZWdpc3RyeVNlcnZpY2UnO1xyXG5pbXBvcnQgeyBTeW5jU3RhdHVzTWFuYWdlciB9IGZyb20gJy4vU3luY1N0YXR1c01hbmFnZXInOyAvLyBOZWVkZWQgdG8gcmV1c2UgZ2VuZXJhdGVFcGlzb2RlSWRcclxuaW1wb3J0IHsgVmF1bHRSZWdpc3RyeVNlcnZpY2UgfSBmcm9tICcuL1ZhdWx0UmVnaXN0cnlTZXJ2aWNlJzsgLy8gSW1wb3J0IFZhdWx0UmVnaXN0cnlTZXJ2aWNlXHJcbmltcG9ydCB0eXBlIHsgVmF1bHRQYXRocyB9IGZyb20gJy4uL3R5cGVzL1BhdGgnOyAvLyBJbXBvcnQgVmF1bHRQYXRocyBpbnRlcmZhY2VcclxuaW1wb3J0IHsgcGVyZm9ybWFuY2UgfSBmcm9tICdwZXJmX2hvb2tzJzsgLy8gSW1wb3J0IHBlcmZvcm1hbmNlIGZvciB0aW1pbmdcclxuaW1wb3J0ICogYXMgRnJvbnRtYXR0ZXJVdGlscyBmcm9tICcuLi91dGlscy9Gcm9udG1hdHRlclV0aWxzJzsgLy8gSW1wb3J0IGZvciBtbV91aWQgbWFuYWdlbWVudFxyXG5pbXBvcnQgeyBNQ1BGb2xkZXJSZXNvbHZlciwgdHlwZSBGb2xkZXJSZXNvbHV0aW9uUmVzdWx0IH0gZnJvbSAnLi9NQ1BGb2xkZXJSZXNvbHZlcic7XHJcblxyXG4vKipcclxuICogSW50ZXJmYWNlIGZvciBlbnRpdHkgZGVzY3JpcHRpb25zIGluIGRhdGEuanNvblxyXG4gKi9cclxuaW50ZXJmYWNlIEVudGl0eURlc2NyaXB0aW9uIHtcclxuICAgIGNsYXNzTmFtZTogc3RyaW5nO1xyXG4gICAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICAgIGlzVXNlckRlZmluZWQ6IGJvb2xlYW47XHJcbiAgICBzb3VyY2U6IFwidXNlclwiIHwgXCJsbG1cIiB8IFwiZGlzY292ZXJ5XCI7XHJcbiAgICBsYXN0TW9kaWZpZWQ6IHN0cmluZztcclxufVxyXG5cclxuLyoqXHJcbiAqIEludGVyZmFjZSBmb3IgcHJvcGVydHkgZGVzY3JpcHRpb25zIGluIGRhdGEuanNvblxyXG4gKi9cclxuaW50ZXJmYWNlIFByb3BlcnR5RGVzY3JpcHRpb24ge1xyXG4gICAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICAgIGZpZWxkVHlwZTogc3RyaW5nO1xyXG4gICAgaXNVc2VyRGVmaW5lZDogYm9vbGVhbjtcclxuICAgIHNvdXJjZTogXCJ1c2VyXCIgfCBcImxsbVwiIHwgXCJkaXNjb3ZlcnlcIjtcclxuICAgIGxhc3RNb2RpZmllZDogc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogSW50ZXJmYWNlIGZvciB0aGUgY29tcGxldGUgZGF0YS5qc29uIHN0cnVjdHVyZVxyXG4gKi9cclxuaW50ZXJmYWNlIFBsdWdpbkRhdGFTdHJ1Y3R1cmUge1xyXG4gICAgZW50aXR5RGVzY3JpcHRpb25zOiBSZWNvcmQ8c3RyaW5nLCBFbnRpdHlEZXNjcmlwdGlvbj47XHJcbiAgICBwcm9wZXJ0eURlc2NyaXB0aW9uczogUmVjb3JkPHN0cmluZywgUmVjb3JkPHN0cmluZywgUHJvcGVydHlEZXNjcmlwdGlvbj4+O1xyXG4gICAgW2tleTogc3RyaW5nXTogYW55OyAvLyBBbGxvdyBvdGhlciBwcm9wZXJ0aWVzXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb25maWd1cmF0aW9uIGZvciBHcmFwaGl0aVNlcnZpY2Ugc3luYyBvcGVyYXRpb25zXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFN5bmNDb25maWcge1xyXG4gICAgbm90ZXNQYXRoczogc3RyaW5nW107XHJcbiAgICBiYXRjaFNpemU6IG51bWJlcjtcclxuICAgIGRlYnVnOiBib29sZWFuO1xyXG4gICAgbW9kZWxzUGF0aD86IHN0cmluZztcclxuICAgIHNvdXJjZV9kZXNjcmlwdGlvbj86IHN0cmluZztcclxuICAgIHByZXZpb3VzX2VwaXNvZGVfdXVpZHM/OiBzdHJpbmdbXTtcclxuICAgIGNyb3NzRW5jb2RlckNsaWVudD86IHN0cmluZztcclxuICAgIGNyb3NzRW5jb2Rlck1vZGVsPzogc3RyaW5nO1xyXG4gICAgZm9sZGVyTmFtZXNwYWNlTWFwcGluZ3M/OiBhbnlbXTtcclxuICAgIHVzZV9jdXN0b21fb250b2xvZ3k/OiBib29sZWFuO1xyXG59XHJcblxyXG4vKipcclxuICogUHJvZ3Jlc3MgY2FsbGJhY2sgZm9yIHN5bmMgb3BlcmF0aW9uc1xyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBTeW5jUHJvZ3Jlc3Mge1xyXG4gICAgY3VycmVudDogbnVtYmVyO1xyXG4gICAgdG90YWw6IG51bWJlcjtcclxuICAgIG1lc3NhZ2U6IHN0cmluZztcclxuICAgIHBlcmNlbnRhZ2U6IG51bWJlcjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlc3VsdCBvZiBhIHN5bmMgb3BlcmF0aW9uXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFN5bmNSZXN1bHQge1xyXG4gICAgc3RhdHVzOiAnc3VjY2VzcycgfCAnZXJyb3InO1xyXG4gICAgcHJvY2Vzc2VkOiBudW1iZXI7XHJcbiAgICBza2lwcGVkOiBudW1iZXI7XHJcbiAgICB0b3RhbDogbnVtYmVyO1xyXG4gICAgYmF0Y2hDb3VudDogbnVtYmVyO1xyXG4gICAgbm9kZVR5cGVzTG9hZGVkOiBudW1iZXI7XHJcbiAgICBlZGdlVHlwZXNMb2FkZWQ6IG51bWJlcjtcclxuICAgIGVycm9ycz86IHN0cmluZ1tdO1xyXG4gICAgaGFzRXJyb3JzPzogYm9vbGVhbjtcclxuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XHJcbiAgICAvLyBOZXN0ZWQgc3VtbWFyeSBvYmplY3QgZm9yIFB5dGhvbiBzY3JpcHQgY29tcGF0aWJpbGl0eVxyXG4gICAgc3VtbWFyeT86IHtcclxuICAgICAgICBwcm9jZXNzZWQ6IG51bWJlcjtcclxuICAgICAgICBza2lwcGVkOiBudW1iZXI7XHJcbiAgICAgICAgdG90YWw6IG51bWJlcjtcclxuICAgIH07XHJcbiAgICAvLyBFbmhhbmNlZCBlcnJvciBkZXRhaWxzIGZvciBkZWJ1Z2dpbmdcclxuICAgIHB5dGhvblN0ZG91dD86IHN0cmluZztcclxuICAgIHB5dGhvblN0ZGVycj86IHN0cmluZztcclxuICAgIGV4aXRDb2RlPzogbnVtYmVyO1xyXG4gICAgZnVsbEVycm9yRGV0YWlscz86IGFueTtcclxuICAgbm90ZXM/OiBBcnJheTx7IG5vdGVfcGF0aDogc3RyaW5nOyBlcGlzb2RlX3V1aWQ6IHN0cmluZzsgfT47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXJ2aWNlIGZvciBtYW5hZ2luZyBjb21tdW5pY2F0aW9uIHdpdGggdGhlIEdyYXBoaXRpIFB5dGhvbiBicmlkZ2VcclxuICovXHJcbmV4cG9ydCBjbGFzcyBHcmFwaGl0aVNlcnZpY2Uge1xyXG4gICAgcHJpdmF0ZSBwbHVnaW46IFBsdWdpbjtcclxuICAgIHByaXZhdGUgc2V0dGluZ3M6IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3M7XHJcbiAgICBwcml2YXRlIHB5dGhvblByb2Nlc3M6IENoaWxkUHJvY2VzcyB8IG51bGwgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBtY3BTZXJ2ZXJQcm9jZXNzOiBDaGlsZFByb2Nlc3MgfCBudWxsID0gbnVsbDtcclxuICAgIHByaXZhdGUgYWN0aXZlUHJvY2Vzc2VzOiBTZXQ8Q2hpbGRQcm9jZXNzPiA9IG5ldyBTZXQoKTtcclxuICAgIHByaXZhdGUgaXNDYW5jZWxsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgc2NoZW1hU2VydmljZTogU2NoZW1hRGlzY292ZXJ5U2VydmljZTtcclxuICAgIHByaXZhdGUgbm90ZVNlbGVjdGlvblNlcnZpY2U6IE5vdGVTZWxlY3Rpb25TZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBsb2dnZXI6IEdyYXBoaXRpTG9nZ2VyO1xyXG4gICAgcHJpdmF0ZSBzeW5jUmVnaXN0cnlTZXJ2aWNlOiBTeW5jUmVnaXN0cnlTZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBzeW5jU3RhdHVzTWFuYWdlcjogU3luY1N0YXR1c01hbmFnZXI7IC8vIFRvIHJldXNlIGdlbmVyYXRlRXBpc29kZUlkXHJcbiAgICBwcml2YXRlIHZhdWx0UmVnaXN0cnlTZXJ2aWNlOiBWYXVsdFJlZ2lzdHJ5U2VydmljZTsgLy8gSW5qZWN0IFZhdWx0UmVnaXN0cnlTZXJ2aWNlXHJcbiAgICBwcml2YXRlIG1jcEZvbGRlclJlc29sdmVyPzogTUNQRm9sZGVyUmVzb2x2ZXI7IC8vIE1DUCBmb2xkZXIgcmVzb2x1dGlvbiBzZXJ2aWNlXHJcbiAgICAvKipcclxuICAgICAqIEBwcm9wZXJ0eSB7TWFwPHN0cmluZywgVmF1bHRQYXRocz59IHBhdGhDYWNoZSAtIENhY2hlIGZvciB2YXVsdC1zcGVjaWZpYyByZXNvbHZlZCBwYXRocywga2V5ZWQgYnkgdmF1bHQgSUQuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcGF0aENhY2hlOiBNYXA8c3RyaW5nLCBWYXVsdFBhdGhzPiA9IG5ldyBNYXAoKTtcclxuICAgIC8qKlxyXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGNhY2hlSGl0cyAtIENvdW50ZXIgZm9yIHN1Y2Nlc3NmdWwgbG9va3VwcyBpbiB0aGUgcGF0aCBjYWNoZS5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjYWNoZUhpdHM6IG51bWJlciA9IDA7XHJcbiAgICAvKipcclxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjYWNoZU1pc3NlcyAtIENvdW50ZXIgZm9yIGZhaWxlZCBsb29rdXBzIChjYWNoZSBtaXNzZXMpIGluIHRoZSBwYXRoIGNhY2hlLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGNhY2hlTWlzc2VzOiBudW1iZXIgPSAwO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gbGFzdENhY2hlTG9nVGltZSAtIFRpbWVzdGFtcCB0byB0aHJvdHRsZSBjYWNoZSBoZWFsdGggbG9nZ2luZy5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBsYXN0Q2FjaGVMb2dUaW1lOiBudW1iZXIgPSAwO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW52YWxpZGF0ZXMgdGhlIHBhdGggY2FjaGUuXHJcbiAgICAgKiBJZiBhIGB2YXVsdElkYCBpcyBwcm92aWRlZCwgb25seSB0aGF0IHZhdWx0J3MgcGF0aHMgYXJlIHJlbW92ZWQgZnJvbSB0aGUgY2FjaGUuXHJcbiAgICAgKiBJZiBubyBgdmF1bHRJZGAgaXMgcHJvdmlkZWQsIHRoZSBlbnRpcmUgY2FjaGUgaXMgY2xlYXJlZC5cclxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGNydWNpYWwgZm9yIG1haW50YWluaW5nIGRhdGEgZnJlc2huZXNzIHdoZW4gdGhlIGFjdGl2ZSB2YXVsdCBjaGFuZ2VzIG9yXHJcbiAgICAgKiB0aGUgdmF1bHQgcmVnaXN0cnkgaXMgdXBkYXRlZCwgcHJldmVudGluZyB0aGUgdXNlIG9mIHN0YWxlIHBhdGggaW5mb3JtYXRpb24uXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ZhdWx0SWRdIC0gVGhlIElEIG9mIHRoZSB2YXVsdCB3aG9zZSBjYWNoZSBlbnRyeSBzaG91bGQgYmUgaW52YWxpZGF0ZWQuIE9wdGlvbmFsLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGludmFsaWRhdGVQYXRoQ2FjaGUodmF1bHRJZD86IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIGlmICh2YXVsdElkKSB7XHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBzcGVjaWZpYyB2YXVsdCdzIGNhY2hlIGVudHJ5XHJcbiAgICAgICAgICAgIHRoaXMucGF0aENhY2hlLmRlbGV0ZSh2YXVsdElkKTtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFtQQVRIU10gSW52YWxpZGF0ZWQgY2FjaGUgZm9yIHZhdWx0OiAke3ZhdWx0SWR9YCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gQ2xlYXIgZW50aXJlIHBhdGggY2FjaGVcclxuICAgICAgICAgICAgdGhpcy5wYXRoQ2FjaGUuY2xlYXIoKTtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tQQVRIU10gQ2xlYXJlZCBlbnRpcmUgcGF0aCBjYWNoZScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBwbHVnaW46IFBsdWdpbixcclxuICAgICAgICBzZXR0aW5nczogR3JhcGhpdGlQbHVnaW5TZXR0aW5ncyxcclxuICAgICAgICBzeW5jUmVnaXN0cnlTZXJ2aWNlOiBTeW5jUmVnaXN0cnlTZXJ2aWNlLFxyXG4gICAgICAgIHN5bmNTdGF0dXNNYW5hZ2VyOiBTeW5jU3RhdHVzTWFuYWdlcixcclxuICAgICAgICB2YXVsdFJlZ2lzdHJ5U2VydmljZTogVmF1bHRSZWdpc3RyeVNlcnZpY2UgLy8gQWRkIFZhdWx0UmVnaXN0cnlTZXJ2aWNlIHRvIGNvbnN0cnVjdG9yXHJcbiAgICApIHtcclxuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuICAgICAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XHJcbiAgICAgICAgdGhpcy5zY2hlbWFTZXJ2aWNlID0gbmV3IFNjaGVtYURpc2NvdmVyeVNlcnZpY2UocGx1Z2luLmFwcCk7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBuZXcgR3JhcGhpdGlMb2dnZXIocGx1Z2luLCBzZXR0aW5ncy5lbmFibGVEZWJ1Z0xvZ2dpbmcpO1xyXG4gICAgICAgIHRoaXMubm90ZVNlbGVjdGlvblNlcnZpY2UgPSBuZXcgTm90ZVNlbGVjdGlvblNlcnZpY2UocGx1Z2luLmFwcCwgcGx1Z2luLCB0aGlzLmxvZ2dlcik7XHJcbiAgICAgICAgdGhpcy5zeW5jUmVnaXN0cnlTZXJ2aWNlID0gc3luY1JlZ2lzdHJ5U2VydmljZTtcclxuICAgICAgICB0aGlzLnN5bmNTdGF0dXNNYW5hZ2VyID0gc3luY1N0YXR1c01hbmFnZXI7XHJcbiAgICAgICAgdGhpcy52YXVsdFJlZ2lzdHJ5U2VydmljZSA9IHZhdWx0UmVnaXN0cnlTZXJ2aWNlOyAvLyBBc3NpZ24gVmF1bHRSZWdpc3RyeVNlcnZpY2VcclxuXHJcbiAgICAgICAgLy8gTG9nIGluaXRpYWxpemF0aW9uXHJcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnR3JhcGhpdGlTZXJ2aWNlIGluaXRpYWxpemVkJyk7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nU3lzdGVtSW5mbygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlIHNldHRpbmdzIGZvciB0aGUgc2VydmljZVxyXG4gICAgICovXHJcbiAgICB1cGRhdGVTZXR0aW5ncyhzZXR0aW5nczogR3JhcGhpdGlQbHVnaW5TZXR0aW5ncyk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcclxuICAgICAgICB0aGlzLmxvZ2dlci5zZXREZWJ1ZyhzZXR0aW5ncy5lbmFibGVEZWJ1Z0xvZ2dpbmcpO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdTZXR0aW5ncyB1cGRhdGVkIGluIEdyYXBoaXRpU2VydmljZScsIHsgZGVidWdNb2RlOiBzZXR0aW5ncy5lbmFibGVEZWJ1Z0xvZ2dpbmcgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgY3VycmVudCBlbWJlZGRpbmcgZGltZW5zaW9ucyBiYXNlZCBvbiBwcm92aWRlciB3aXRoIHByb3BlciBkZWZhdWx0c1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldEN1cnJlbnRFbWJlZGRpbmdEaW1lbnNpb25zKCk6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlciA9PT0gJ29sbGFtYScpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFN0cmluZyh0aGlzLnNldHRpbmdzLm9sbGFtYUVtYmVkZGluZ0RpbSB8fCA3NjgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIE5vbi1PbGxhbWEgcHJvdmlkZXJzIHR5cGljYWxseSB1c2UgMTUzNiBkaW1lbnNpb25zXHJcbiAgICAgICAgICAgIC8vIE9wZW5BSSB0ZXh0LWVtYmVkZGluZy0zLXNtYWxsOiAxNTM2LCBWb3lhZ2U6IDE1MzYsIEdvb2dsZTogdmFyaWVzIGJ1dCBjb21tb25seSA3NjgtMTUzNlxyXG4gICAgICAgICAgICByZXR1cm4gJzE1MzYnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlZ2lzdGVyIHZhdWx0IGNoYW5nZSBsaXN0ZW5lcnMgZm9yIGNhY2hlIGludmFsaWRhdGlvblxyXG4gICAgICovXHJcbiAgICBhc3luYyBpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIC8vIExpc3RlbiBmb3IgYWN0aXZlIHZhdWx0IGNoYW5nZXNcclxuICAgICAgICB0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlLm9uQWN0aXZlVmF1bHRDaGFuZ2UoKG5ld1ZhdWx0SWQpID0+IHtcclxuICAgICAgICAgICAgaWYgKG5ld1ZhdWx0SWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZVBhdGhDYWNoZShuZXdWYXVsdElkKTsgLy8gSW52YWxpZGF0ZSBvbmx5IHRoZSBzcGVjaWZpYyB2YXVsdCdzIGNhY2hlXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmludmFsaWRhdGVQYXRoQ2FjaGUoKTsgLy8gQ2xlYXIgYWxsIGlmIG5vIHNwZWNpZmljIHZhdWx0IGlzIGFjdGl2ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFByZS1jYWNoZSBwYXRocyBmb3IgdGhlIG5ldyBhY3RpdmUgdmF1bHRcclxuICAgICAgICAgICAgdGhpcy5nZXRWYXVsdEF3YXJlUGF0aHMobmV3VmF1bHRJZCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIExpc3RlbiBmb3IgZ2VuZXJhbCB2YXVsdCByZWdpc3RyeSB1cGRhdGVzIChlLmcuLCB2YXVsdCBhZGRlZC9yZW1vdmVkKVxyXG4gICAgICAgIHRoaXMudmF1bHRSZWdpc3RyeVNlcnZpY2Uub25SZWdpc3RyeVVwZGF0ZSgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZVBhdGhDYWNoZSgpOyAvLyBDbGVhciBhbGwgb24gYW55IHJlZ2lzdHJ5IGNoYW5nZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBQcmUtY2FjaGUgY3VycmVudCB2YXVsdCBwYXRocyBvbiBpbml0aWFsaXphdGlvblxyXG4gICAgICAgIGNvbnN0IGFjdGl2ZVZhdWx0SWQgPSB0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlLmdldEFjdGl2ZVZhdWx0SWQoKTtcclxuICAgICAgICBpZiAoYWN0aXZlVmF1bHRJZCkge1xyXG4gICAgICAgICAgICB0aGlzLmdldFZhdWx0QXdhcmVQYXRocyhhY3RpdmVWYXVsdElkKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmdldFZhdWx0QXdhcmVQYXRocyhudWxsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEluaXRpYWxpemUgTUNQIGZvbGRlciByZXNvbHZlclxyXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZU1DUFRvb2xzU2VydmljZXMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpemUgTUNQIHRvb2xzIHNlcnZpY2VzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgaW5pdGlhbGl6ZU1DUFRvb2xzU2VydmljZXMoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5tY3BGb2xkZXJSZXNvbHZlciA9IG5ldyBNQ1BGb2xkZXJSZXNvbHZlcihcclxuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncyxcclxuICAgICAgICAgICAgdGhpcy5wbHVnaW4uYXBwLFxyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlclxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ01DUCB0b29scyBzZXJ2aWNlcyBpbml0aWFsaXplZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIGZvciBNQ1Agc2VydmVyIHRvIHJlcXVlc3QgZm9sZGVyIHJlc29sdXRpb25cclxuICAgICAqL1xyXG4gICAgYXN5bmMgcmVzb2x2ZU1DUE5vdGVGb2xkZXIoXHJcbiAgICAgICAgbm90ZVR5cGU6ICdkYWlseScgfCAnd2Vla2x5JyB8ICdtb250aGx5JyB8ICdxdWFydGVybHknIHwgJ3llYXJseScgfCAndGVtcGxhdGUnIHwgJ2dlbmVyaWMnLFxyXG4gICAgICAgIHRlbXBsYXRlTmFtZT86IHN0cmluZyxcclxuICAgICAgICB0YXJnZXRGb2xkZXI/OiBzdHJpbmdcclxuICAgICk6IFByb21pc2U8Rm9sZGVyUmVzb2x1dGlvblJlc3VsdD4ge1xyXG4gICAgICAgIGlmICghdGhpcy5tY3BGb2xkZXJSZXNvbHZlcikge1xyXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemVNQ1BUb29sc1NlcnZpY2VzKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5tY3BGb2xkZXJSZXNvbHZlciEucmVzb2x2ZUZvbGRlckZvck5vdGUoXHJcbiAgICAgICAgICAgIG5vdGVUeXBlLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZU5hbWUsXHJcbiAgICAgICAgICAgIHRhcmdldEZvbGRlclxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3luYyBub3RlcyByZXNwZWN0aW5nIGFsbCBwbHVnaW4gc2V0dGluZ3MgKHByaW1hcnkgc3luYyBtZXRob2QpXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHN5bmNOb3Rlc1dpdGhTZXR0aW5ncyhcclxuICAgICAgICBub3Rlc1BhdGhzPzogc3RyaW5nW10sXHJcbiAgICAgICAgb25Qcm9ncmVzcz86IChwcm9ncmVzczogU3luY1Byb2dyZXNzKSA9PiB2b2lkLFxyXG4gICAgICAgIHNvdXJjZV9kZXNjcmlwdGlvbjogc3RyaW5nID0gJ29ic2lkaWFuX21tX2luZGl2aWR1YWwnXHJcbiAgICApOiBQcm9taXNlPFN5bmNSZXN1bHQ+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBVc2UgcHJvdmlkZWQgbm90ZXMgb3IgZ2V0IGZpbHRlcmVkIG5vdGVzIGZyb20gc2V0dGluZ3NcclxuICAgICAgICAgICAgbGV0IG5vdGVzVG9TeW5jOiBzdHJpbmdbXTtcclxuICAgICAgICAgICAgaWYgKG5vdGVzUGF0aHMpIHtcclxuICAgICAgICAgICAgICAgIG5vdGVzVG9TeW5jID0gbm90ZXNQYXRocztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIEdldCBub3RlcyBiYXNlZCBvbiBzeW5jIG9wdGlvbnMgc2V0dGluZ1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3Muc3luY09wdGlvbnMgPT09ICduZXdfb25seScpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBHZXQgb25seSBuZXcgbm90ZXMgZm9yIGF1dG8tc3luY1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld05vdGVzID0gYXdhaXQgdGhpcy5ub3RlU2VsZWN0aW9uU2VydmljZS5nZXROb3Rlc0ZvckF1dG9TeW5jKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbm90ZXNUb1N5bmMgPSBuZXdOb3Rlcy5tYXAobm90ZSA9PiBub3RlLnBhdGgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBHZXQgYWxsIG5vdGVzIHRoYXQgc2hvdWxkIGJlIHN5bmNlZCBiYXNlZCBvbiBzZXR0aW5ncyAobmV3IGFuZCB1cGRhdGVkKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkTm90ZXMgPSBhd2FpdCB0aGlzLm5vdGVTZWxlY3Rpb25TZXJ2aWNlLmdldEZpbHRlcmVkU3luY2FibGVOb3RlcygpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vdGVzVG9TeW5jID0gZmlsdGVyZWROb3Rlcy5tYXAobm90ZSA9PiBub3RlLnBhdGgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAobm90ZXNUb1N5bmMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgc2tpcHBlZDogMCxcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbDogMCxcclxuICAgICAgICAgICAgICAgICAgICBiYXRjaENvdW50OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGVUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgICAgICBlZGdlVHlwZXNMb2FkZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ05vIG5vdGVzIGF2YWlsYWJsZSBmb3Igc3luYyBhZnRlciBhcHBseWluZyBzZXR0aW5ncyBmaWx0ZXJzJ1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXRlIHN5bmMgY29uZmlnIGJhc2VkIG9uIHNldHRpbmdzXHJcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZzogU3luY0NvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgIG5vdGVzUGF0aHM6IG5vdGVzVG9TeW5jLFxyXG4gICAgICAgICAgICAgICAgYmF0Y2hTaXplOiB0aGlzLnNldHRpbmdzLmJhdGNoU2l6ZSB8fCAxMCxcclxuICAgICAgICAgICAgICAgIGRlYnVnOiB0aGlzLnNldHRpbmdzLmVuYWJsZURlYnVnTG9nZ2luZyxcclxuICAgICAgICAgICAgICAgIHNvdXJjZV9kZXNjcmlwdGlvbjogc291cmNlX2Rlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgY3Jvc3NFbmNvZGVyQ2xpZW50OiB0aGlzLnNldHRpbmdzLmNyb3NzRW5jb2RlckNsaWVudCxcclxuICAgICAgICAgICAgICAgIGNyb3NzRW5jb2Rlck1vZGVsOiB0aGlzLnNldHRpbmdzLmNyb3NzRW5jb2Rlck1vZGVsLFxyXG4gICAgICAgICAgICAgICAgdXNlX2N1c3RvbV9vbnRvbG9neTogdGhpcy5zZXR0aW5ncy51c2VDdXN0b21PbnRvbG9neVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnU3RhcnRpbmcgc2V0dGluZ3MtYmFzZWQgc3luYycsIHtcclxuICAgICAgICAgICAgICAgIHRvdGFsTm90ZXM6IG5vdGVzVG9TeW5jLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIGJhdGNoU2l6ZTogY29uZmlnLmJhdGNoU2l6ZSxcclxuICAgICAgICAgICAgICAgIGluY2x1ZGVkRm9sZGVyczogdGhpcy5zZXR0aW5ncy5pbmNsdWRlZEZvbGRlcnMsXHJcbiAgICAgICAgICAgICAgICBleGNsdWRlZEZvbGRlcnM6IHRoaXMuc2V0dGluZ3MuZXhjbHVkZWRGb2xkZXJzXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zeW5jTm90ZXMoY29uZmlnLCBvblByb2dyZXNzLCBzb3VyY2VfZGVzY3JpcHRpb24pO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgU1lOQ19DT01QTEVURTogc3luY05vdGVzV2l0aFNldHRpbmdzKCkgZmluaXNoZWQgLSBzdGF0dXM6ICR7cmVzdWx0LnN0YXR1c30sIHByb2Nlc3NlZDogJHtyZXN1bHQucHJvY2Vzc2VkfSwgc2tpcHBlZDogJHtyZXN1bHQuc2tpcHBlZH0sIHRvdGFsOiAke3Jlc3VsdC50b3RhbH0sIGJhdGNoZXM6ICR7cmVzdWx0LmJhdGNoQ291bnR9YCk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdTZXR0aW5ncy1iYXNlZCBzeW5jIGZhaWxlZCcsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NlZDogMCxcclxuICAgICAgICAgICAgICAgIHNraXBwZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICB0b3RhbDogMCxcclxuICAgICAgICAgICAgICAgIGJhdGNoQ291bnQ6IDAsXHJcbiAgICAgICAgICAgICAgICBub2RlVHlwZXNMb2FkZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICBlZGdlVHlwZXNMb2FkZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcilcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBdXRvLXN5bmMgYmFzZWQgb24gcGx1Z2luIHNldHRpbmdzICh1c2VkIGJ5IHNhdmUgdHJpZ2dlcnMgYW5kIHNjaGVkdWxpbmcpXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGF1dG9TeW5jKHRyaWdnZXJUeXBlOiAnc2F2ZScgfCAnc2NoZWR1bGVkJyB8ICdtYW51YWwnKTogUHJvbWlzZTxTeW5jUmVzdWx0PiB7XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgYXV0by1zeW5jIGlzIGVuYWJsZWRcclxuICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3MuYXV0b1N5bmMgJiYgdHJpZ2dlclR5cGUgIT09ICdtYW51YWwnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicsXHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICBza2lwcGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgdG90YWw6IDAsXHJcbiAgICAgICAgICAgICAgICBiYXRjaENvdW50OiAwLFxyXG4gICAgICAgICAgICAgICAgbm9kZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgZWRnZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0F1dG8tc3luYyBpcyBkaXNhYmxlZCBpbiBzZXR0aW5ncydcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIERldGVybWluZSBzb3VyY2VfZGVzY3JpcHRpb24gYmFzZWQgb24gdHJpZ2dlciB0eXBlIGFuZCBzeW5jIG9wdGlvbnNcclxuICAgICAgICBsZXQgc291cmNlX2Rlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgICAgICAgaWYgKHRyaWdnZXJUeXBlID09PSAnbWFudWFsJykge1xyXG4gICAgICAgICAgICBzb3VyY2VfZGVzY3JpcHRpb24gPSAnb2JzaWRpYW5fbW1faW5kaXZpZHVhbCc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gRm9yICdzYXZlJyBhbmQgJ3NjaGVkdWxlZCcgdHJpZ2dlcnMsIHVzZSBlbmhhbmNlZCBhdXRvLXN5bmMgc291cmNlIGRlc2NyaXB0aW9uc1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5zeW5jT3B0aW9ucyA9PT0gJ25ld19vbmx5Jykge1xyXG4gICAgICAgICAgICAgICAgc291cmNlX2Rlc2NyaXB0aW9uID0gJ29ic2lkaWFuX2F1dG9fbmV3JztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNvdXJjZV9kZXNjcmlwdGlvbiA9ICdvYnNpZGlhbl9hdXRvX3VwZGF0ZWQnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnRW5oYW5jZWQgYXV0by1zeW5jIHRyaWdnZXJlZCcsIHtcclxuICAgICAgICAgICAgdHJpZ2dlclR5cGUsXHJcbiAgICAgICAgICAgIHNvdXJjZV9kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgYXV0b1N5bmNFbmFibGVkOiB0aGlzLnNldHRpbmdzLmF1dG9TeW5jLFxyXG4gICAgICAgICAgICBzeW5jT3B0aW9uczogdGhpcy5zZXR0aW5ncy5zeW5jT3B0aW9ucyxcclxuICAgICAgICAgICAgc3luY0ludGVydmFsOiB0aGlzLnNldHRpbmdzLnN5bmNJbnRlcnZhbFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBVc2UgZW5oYW5jZWQgbm90ZSBzZWxlY3Rpb24gYmFzZWQgb24gc3luYyBvcHRpb25zXHJcbiAgICAgICAgY29uc3Qgbm90ZXNGb3JTeW5jID0gYXdhaXQgdGhpcy5ub3RlU2VsZWN0aW9uU2VydmljZS5nZXROb3Rlc0ZvckF1dG9TeW5jKHRoaXMuc2V0dGluZ3Muc3luY09wdGlvbnMpO1xyXG5cclxuICAgICAgICBpZiAobm90ZXNGb3JTeW5jLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnTm8gbm90ZXMgZm91bmQgZm9yIGF1dG8tc3luYyBiYXNlZCBvbiBjdXJyZW50IHN5bmMgb3B0aW9ucycsIHtcclxuICAgICAgICAgICAgICAgIHN5bmNPcHRpb25zOiB0aGlzLnNldHRpbmdzLnN5bmNPcHRpb25zLFxyXG4gICAgICAgICAgICAgICAgdHJpZ2dlclR5cGUsXHJcbiAgICAgICAgICAgICAgICBzb3VyY2VfZGVzY3JpcHRpb25cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NlZDogMCxcclxuICAgICAgICAgICAgICAgIHNraXBwZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICB0b3RhbDogMCxcclxuICAgICAgICAgICAgICAgIGJhdGNoQ291bnQ6IDAsXHJcbiAgICAgICAgICAgICAgICBub2RlVHlwZXNMb2FkZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICBlZGdlVHlwZXNMb2FkZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTm8gbm90ZXMgdG8gc3luYyBiYXNlZCBvbiBjdXJyZW50IHN5bmMgb3B0aW9ucydcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE1hcCBub3RlcyB0byBwYXRocyBmb3Igc3luY1xyXG4gICAgICAgIGNvbnN0IG5vdGVzUGF0aHMgPSBub3Rlc0ZvclN5bmMubWFwKG5vdGUgPT4gbm90ZS5wYXRoKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0F1dG8tc3luYyBwcm9jZXNzaW5nIG5vdGVzJywge1xyXG4gICAgICAgICAgICB0cmlnZ2VyVHlwZSxcclxuICAgICAgICAgICAgc291cmNlX2Rlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICB0b3RhbE5vdGVzOiBub3Rlc1BhdGhzLmxlbmd0aCxcclxuICAgICAgICAgICAgc3luY09wdGlvbnM6IHRoaXMuc2V0dGluZ3Muc3luY09wdGlvbnMsXHJcbiAgICAgICAgICAgIG5vdGVzU2FtcGxlOiBub3Rlc1BhdGhzLnNsaWNlKDAsIDMpIC8vIExvZyBmaXJzdCAzIGZvciBkZWJ1Z2dpbmdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gRW5xdWV1ZSBub3RlcyBhbmQgdXNlIHRoZSBzZXF1ZW50aWFsIHNlbGVjdGVkLW5vdGUgc3luYyBwYXRoIHNvIGVhY2ggbm90ZSBpcyBwcm9jZXNzZWRcclxuICAgICAgICAvLyBvbmUtYXQtYS10aW1lICh0aGlzIG1pcnJvcnMgU3luY01vZGFsLnN5bmNTZWxlY3RlZE5vdGVzIC0+IHN5bmNOb3Rlc1NlcXVlbnRpYWxseSBiZWhhdmlvcikuXHJcbiAgICAgICAgLy8gVGhpcyBhdm9pZHMgc2VuZGluZyBtdWx0aXBsZSBub3RlcyBpbiBhIHNpbmdsZSBQeXRob24gcnVuIGFuZCBlbnN1cmVzIHJlZ2lzdHJ5IHVwZGF0ZXNcclxuICAgICAgICAvLyBvY2N1ciBhZnRlciBlYWNoIGluZGl2aWR1YWwgbm90ZSBpcyBwcm9jZXNzZWQuXHJcbiAgICAgICAgYXdhaXQgdGhpcy5ub3RlU2VsZWN0aW9uU2VydmljZS5zZWxlY3ROb3Rlcyhub3Rlc1BhdGhzKTtcclxuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnQXV0by1zeW5jIHNlbGVjdGVkIG5vdGVzIGludG8gcXVldWUgZm9yIHNlcXVlbnRpYWwgcHJvY2Vzc2luZycsIHsgc2VsZWN0ZWRDb3VudDogbm90ZXNQYXRocy5sZW5ndGggfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnN5bmNTZWxlY3RlZE5vdGVzKChwcm9ncmVzcykgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnRW5oYW5jZWQgYXV0by1zeW5jIHByb2dyZXNzJywge1xyXG4gICAgICAgICAgICAgICAgdHJpZ2dlclR5cGUsXHJcbiAgICAgICAgICAgICAgICBzb3VyY2VfZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICBzeW5jT3B0aW9uczogdGhpcy5zZXR0aW5ncy5zeW5jT3B0aW9ucyxcclxuICAgICAgICAgICAgICAgIHByb2dyZXNzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sIHNvdXJjZV9kZXNjcmlwdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUZXN0IGNvbm5lY3Rpb24gdG8gdmVyaWZ5IFB5dGhvbiBicmlkZ2UgYW5kIEdyYXBoaXRpIGluc3RhbGxhdGlvblxyXG4gICAgICovXHJcbiAgICBhc3luYyB0ZXN0Q29ubmVjdGlvbigpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nIH0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBUZXN0IFB5dGhvbiBpbnN0YWxsYXRpb24gYW5kIGdyYXBoaXRpLWNvcmUgYXZhaWxhYmlsaXR5XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZXhlY3V0ZVB5dGhvbkNvbW1hbmQoW1xyXG4gICAgICAgICAgICAgICAgJy1jJyxcclxuICAgICAgICAgICAgICAgICdpbXBvcnQgc3lzOyBpbXBvcnQgZ3JhcGhpdGlfY29yZTsgcHJpbnQoZlwiUHl0aG9uIHtzeXMudmVyc2lvbl9pbmZvLm1ham9yfS57c3lzLnZlcnNpb25faW5mby5taW5vcn0sIEdyYXBoaXRpIGluc3RhbGxlZFwiKSdcclxuICAgICAgICAgICAgXSk7XHJcblxyXG4gICAgICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MgJiYgcmVzdWx0Lm91dHB1dCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGDinIUgQ29ubmVjdGlvbiBzdWNjZXNzZnVsOiAke3Jlc3VsdC5vdXRwdXQudHJpbSgpfWBcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGDinYwgQ29ubmVjdGlvbiBmYWlsZWQ6ICR7cmVzdWx0LmVycm9yIHx8ICdVbmtub3duIGVycm9yJ31gXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogYOKdjCBDb25uZWN0aW9uIHRlc3QgZmFpbGVkOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5zdGFsbCBQeXRob24gZGVwZW5kZW5jaWVzXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGluc3RhbGxEZXBlbmRlbmNpZXMob25Qcm9ncmVzcz86IChtZXNzYWdlOiBzdHJpbmcpID0+IHZvaWQpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nIH0+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1N0YXJ0aW5nIGRlcGVuZGVuY3kgaW5zdGFsbGF0aW9uIHByb2Nlc3MnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHBsdWdpbkRpciwgYnJpZGdlRGlyOiBicmlkZ2VQYXRoIH0gPSB0aGlzLmdldFZhdWx0QXdhcmVQYXRocygpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5zdGFsbFBhdGggPSBqb2luKGJyaWRnZVBhdGgsICdpbnN0YWxsLnB5Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0luc3RhbGxhdGlvbiBwYXRoczonLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luRGlyLFxyXG4gICAgICAgICAgICAgICAgICAgIGJyaWRnZVBhdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFsbFBhdGhcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGZpbGVzIGV4aXN0XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWZzLmV4aXN0c1N5bmMoaW5zdGFsbFBhdGgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBgSW5zdGFsbCBzY3JpcHQgbm90IGZvdW5kIGF0OiAke2luc3RhbGxQYXRofWA7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYOKdjCAke2Vycm9yfWBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgb25Qcm9ncmVzcz8uKCdTdGFydGluZyBQeXRob24gZGVwZW5kZW5jeSBpbnN0YWxsYXRpb24uLi4nKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0V4ZWN1dGluZyBQeXRob24gaW5zdGFsbCBzY3JpcHQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBMb2cgdGhlIGNvbW1hbmQgd2UncmUgYWJvdXQgdG8gcnVuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb21tYW5kID0gJ3B5dGhvbic7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhcmdzID0gW1xyXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbGxQYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgICctLWxsbS1wcm92aWRlcicsIHRoaXMuc2V0dGluZ3MubGxtUHJvdmlkZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgJy0tZW1iZWRkZXItcHJvdmlkZXInLCB0aGlzLnNldHRpbmdzLmVtYmVkZGVyUHJvdmlkZXJcclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnQ29tbWFuZDonLCB7IGNvbW1hbmQsIGFyZ3MgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVXNlIHNwYXduIHRvIGdldCByZWFsLXRpbWUgb3V0cHV0XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNwYXduIH0gPSByZXF1aXJlKCdjaGlsZF9wcm9jZXNzJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9jZXNzID0gc3Bhd24oY29tbWFuZCwgYXJncywge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0ZGlvOiBbJ3BpcGUnLCAncGlwZScsICdwaXBlJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgY3dkOiBicmlkZ2VQYXRoXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgb3V0cHV0QnVmZmVyID0gJyc7XHJcbiAgICAgICAgICAgICAgICBsZXQgZXJyb3JCdWZmZXIgPSAnJztcclxuICAgICAgICAgICAgICAgIGxldCBsYXN0UHJvZ3Jlc3NUaW1lID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgc3Rkb3V0IHdpdGggcmVhbC10aW1lIHByb2dyZXNzXHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzLnN0ZG91dD8ub24oJ2RhdGEnLCAoZGF0YTogQnVmZmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGRhdGEudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRCdWZmZXIgKz0gdGV4dDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTG9nIGFsbCBQeXRob24gb3V0cHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nUHl0aG9uT3V0cHV0KCdzdGRvdXQnLCB0ZXh0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUGFyc2UgbGluZXMgZm9yIHByb2dyZXNzIHVwZGF0ZXNcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5lcyA9IHRleHQuc3BsaXQoJ1xcbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluZS50cmltKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRocm90dGxlIHByb2dyZXNzIHVwZGF0ZXMgdG8gcHJldmVudCBVSSBmbG9vZGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3cgLSBsYXN0UHJvZ3Jlc3NUaW1lID4gMTAwKSB7IC8vIFVwZGF0ZSBhdCBtb3N0IGV2ZXJ5IDEwMG1zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHByb2dyZXNzIGJhc2VkIG9uIGluc3RhbGxhdGlvbiBvdXRwdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluZS5pbmNsdWRlcygnSW5zdGFsbGluZycpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUHJvZ3Jlc3M/LihgSW5zdGFsbGluZzogJHtsaW5lLnRyaW0oKX1gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxpbmUuaW5jbHVkZXMoJ0Rvd25sb2FkaW5nJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Qcm9ncmVzcz8uKGBEb3dubG9hZGluZzogJHtsaW5lLnRyaW0oKX1gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxpbmUuaW5jbHVkZXMoJ0NvbGxlY3RpbmcnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblByb2dyZXNzPy4oYENvbGxlY3Rpbmc6ICR7bGluZS50cmltKCl9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5lLmluY2x1ZGVzKCdCdWlsZGluZycpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUHJvZ3Jlc3M/LihgQnVpbGRpbmc6ICR7bGluZS50cmltKCl9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5lLmluY2x1ZGVzKCdTdWNjZXNzZnVsbHknKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblByb2dyZXNzPy4oYOKchSAke2xpbmUudHJpbSgpfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGluZS5pbmNsdWRlcygnUmVxdWlyZW1lbnQgYWxyZWFkeSBzYXRpc2ZpZWQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblByb2dyZXNzPy4oYOKckyAke2xpbmUudHJpbSgpfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGluZS50cmltKCkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblByb2dyZXNzPy4oYPCfk6YgJHtsaW5lLnRyaW0oKX1gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFByb2dyZXNzVGltZSA9IG5vdztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBzdGRlcnJcclxuICAgICAgICAgICAgICAgIHByb2Nlc3Muc3RkZXJyPy5vbignZGF0YScsIChkYXRhOiBCdWZmZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gZGF0YS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yQnVmZmVyICs9IHRleHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIExvZyBhbGwgUHl0aG9uIGVycm9yc1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZ1B5dGhvbk91dHB1dCgnc3RkZXJyJywgdGV4dCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNvbWUgcHJvZ3Jlc3MgaW5mbyBjb21lcyB0aHJvdWdoIHN0ZGVyclxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0LmluY2x1ZGVzKCclJykgfHwgdGV4dC5pbmNsdWRlcygnRG93bmxvYWRpbmcnKSB8fCB0ZXh0LmluY2x1ZGVzKCdJbnN0YWxsaW5nJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25Qcm9ncmVzcz8uKGDwn5OlICR7dGV4dC50cmltKCl9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0ZXh0LmluY2x1ZGVzKCdFUlJPUicpIHx8IHRleHQuaW5jbHVkZXMoJ2Vycm9yJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1B5dGhvbiBlcnJvciBvdXRwdXQ6JywgdGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uUHJvZ3Jlc3M/Lihg4p2MIEVycm9yOiAke3RleHQudHJpbSgpfWApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBwcm9jZXNzIGNvbXBsZXRpb25cclxuICAgICAgICAgICAgICAgIHByb2Nlc3Mub24oJ2Nsb3NlJywgKGNvZGU6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdQcm9jZXNzIGNsb3NlZCcsIHsgZXhpdENvZGU6IGNvZGUgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2RlID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uUHJvZ3Jlc3M/Lign4pyFIEluc3RhbGxhdGlvbiBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5IScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdJbnN0YWxsYXRpb24gY29tcGxldGVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn4pyFIERlcGVuZGVuY2llcyBpbnN0YWxsZWQgc3VjY2Vzc2Z1bGx5J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1zZyA9IGBJbnN0YWxsYXRpb24gZmFpbGVkIHdpdGggY29kZSAke2NvZGV9YDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoZXJyb3JNc2csIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXRDb2RlOiBjb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkZXJyOiBlcnJvckJ1ZmZlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZG91dDogb3V0cHV0QnVmZmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYOKdjCAke2Vycm9yTXNnfTogJHtlcnJvckJ1ZmZlciB8fCBvdXRwdXRCdWZmZXIgfHwgJ1Vua25vd24gZXJyb3InfWBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIHByb2Nlc3MgZXJyb3JzXHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzLm9uKCdlcnJvcicsIChlcnJvcjogRXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHN0YXJ0IFB5dGhvbiBwcm9jZXNzJywgZXJyb3IpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnRU5PRU5UJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gJ1B5dGhvbiBub3QgZm91bmQuIFBsZWFzZSBlbnN1cmUgUHl0aG9uIDMuMTArIGlzIGluc3RhbGxlZCBhbmQgaW4geW91ciBQQVRILic7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGDinYwgRmFpbGVkIHRvIHN0YXJ0IGluc3RhbGxhdGlvbjogJHtlcnJvck1lc3NhZ2V9YFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQWRkIGEgdGltZW91dCB0byBwcmV2ZW50IGhhbmdpbmcgaW5kZWZpbml0ZWx5XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXByb2Nlc3Mua2lsbGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdJbnN0YWxsYXRpb24gdGltZW91dCAtIGtpbGxpbmcgcHJvY2VzcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmtpbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfinYwgSW5zdGFsbGF0aW9uIHRpbWVkIG91dCBhZnRlciAxMCBtaW51dGVzJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCA2MDAwMDApOyAvLyAxMCBtaW51dGVzIHRpbWVvdXRcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDbGVhciB0aW1lb3V0IGlmIHByb2Nlc3MgZW5kcyBub3JtYWxseVxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5vbignZXhpdCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdJbnN0YWxsYXRpb24gZXhjZXB0aW9uJywgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYOKdjCBJbnN0YWxsYXRpb24gZXJyb3I6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWBcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTeW5jIG5vdGVzIHdpdGggR3JhcGhpdGkga25vd2xlZGdlIGdyYXBoXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHN5bmNOb3RlcyhcclxuICAgICAgICBjb25maWc6IFN5bmNDb25maWcsXHJcbiAgICAgICAgb25Qcm9ncmVzcz86IChwcm9ncmVzczogU3luY1Byb2dyZXNzKSA9PiB2b2lkLFxyXG4gICAgICAgIHNvdXJjZV9kZXNjcmlwdGlvbj86IHN0cmluZ1xyXG4gICAgKTogUHJvbWlzZTxTeW5jUmVzdWx0PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1NZTkNfU1RBUlQ6IHN5bmNOb3RlcygpIGNhbGxlZCcsIHtcclxuICAgICAgICAgICAgICAgIG5vdGVzQ291bnQ6IGNvbmZpZy5ub3Rlc1BhdGhzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIGJhdGNoU2l6ZTogY29uZmlnLmJhdGNoU2l6ZSxcclxuICAgICAgICAgICAgICAgIGRlYnVnTW9kZTogY29uZmlnLmRlYnVnLFxyXG4gICAgICAgICAgICAgICAgbm90ZXNTYW1wbGU6IGNvbmZpZy5ub3Rlc1BhdGhzLnNsaWNlKDAsIDMpLCAvLyBMb2cgZmlyc3QgMyBmb3IgZGVidWdnaW5nXHJcbiAgICAgICAgICAgICAgICBmdWxsTm90ZXNQYXRoc0NvdW50OiBjb25maWcubm90ZXNQYXRocy5sZW5ndGhcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBWYWxpZGF0ZSBlbWJlZGRpbmcgbW9kZWwgaGFzbid0IGNoYW5nZWQgc2luY2UgbGFzdCBzeW5jXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50RW1iZWRkaW5nTW9kZWwgPSB0aGlzLnNldHRpbmdzLmVtYmVkZGluZ01vZGVsO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudERpbWVuc2lvbnMgPSB0aGlzLmdldEN1cnJlbnRFbWJlZGRpbmdEaW1lbnNpb25zKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzQ2hhbmdlZCA9IGF3YWl0IHRoaXMudmF1bHRSZWdpc3RyeVNlcnZpY2UuaGFzRW1iZWRkaW5nTW9kZWxDaGFuZ2VkKFxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRFbWJlZGRpbmdNb2RlbCxcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50RGltZW5zaW9uc1xyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaGFzQ2hhbmdlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRldGFpbHMgPSBhd2FpdCB0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlLmdldEVtYmVkZGluZ01vZGVsTWlzbWF0Y2hEZXRhaWxzKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RW1iZWRkaW5nTW9kZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnREaW1lbnNpb25zXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignW1NZTkNdIEVtYmVkZGluZyBtb2RlbCBjaGFuZ2UgZGV0ZWN0ZWQgYmVmb3JlIHN5bmMnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRNb2RlbDogY3VycmVudEVtYmVkZGluZ01vZGVsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RGltZW5zaW9uczogY3VycmVudERpbWVuc2lvbnMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlZE1vZGVsOiBkZXRhaWxzPy5zdG9yZWRNb2RlbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVkRGltZW5zaW9uczogZGV0YWlscz8uc3RvcmVkRGltZW5zaW9uc1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBGb3Igbm93LCB3ZSdsbCB3YXJuIGJ1dCBjb250aW51ZS4gSW4gdGhlIGZ1dHVyZSwgdGhpcyBjb3VsZCBiZSBtYWRlIG1vcmUgc3RyaWN0LlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBVSSB3YXJuaW5nIHN5c3RlbSAoVGFzayAxMSkgYWxyZWFkeSBoYW5kbGVzIHVzZXIgbm90aWZpY2F0aW9ucy5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCAoZW1iZWRkaW5nVmFsaWRhdGlvbkVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW1NZTkNdIEVtYmVkZGluZyBtb2RlbCB2YWxpZGF0aW9uIGVycm9yIChjb250aW51aW5nKScsIGVtYmVkZGluZ1ZhbGlkYXRpb25FcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFZhbGlkYXRlIGNvbmZpZ3VyYXRpb25cclxuICAgICAgICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IHRoaXMudmFsaWRhdGVTeW5jQ29uZmlnKGNvbmZpZyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXZhbGlkYXRpb24uaXNWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb25maWd1cmF0aW9uIGVycm9yOiAke3ZhbGlkYXRpb24uZXJyb3JzLmpvaW4oJywgJyl9YCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFJldHJpZXZlIHZhdWx0IHBhdGhzIGZyb20gdGhlIG5ldyBgZ2V0VmF1bHRBd2FyZVBhdGhzYCBtZXRob2RcclxuICAgICAgICAgICAgY29uc3QgeyB2YXVsdFBhdGggfSA9IHRoaXMuZ2V0VmF1bHRBd2FyZVBhdGhzKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBORVcgRFlOQU1JQyBBUFBST0FDSDogTm8gc3RhdGljIG1vZGVsIGdlbmVyYXRpb24gbmVlZGVkXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnVzZUN1c3RvbU9udG9sb2d5KSB7XHJcbiAgICAgICAgICAgICAgICBvblByb2dyZXNzPy4oe1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQ6IDUsXHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWw6IDEwMCxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnUHJlcGFyaW5nIGR5bmFtaWMgY3VzdG9tIG9udG9sb2d5IHN5bmMuLi4nLFxyXG4gICAgICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2U6IDVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb25Qcm9ncmVzcz8uKHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50OiA1LFxyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsOiAxMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1VzaW5nIGdlbmVyaWMgZXBpc29kZSBzeW5jIChjdXN0b20gb250b2xvZ3kgZGlzYWJsZWQpLi4uJyxcclxuICAgICAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiA1XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gUHJlcGFyZSBzeW5jIGNvbmZpZ3VyYXRpb24gd2l0aCB2YXVsdCBwYXRoIGZvciBkeW5hbWljIGxvYWRpbmdcclxuICAgICAgICAgICAgY29uc3Qgc3luY0NvbmZpZyA9IGF3YWl0IHRoaXMucHJlcGFyZVN5bmNDb25maWcoY29uZmlnLCB2YXVsdFBhdGgsIHNvdXJjZV9kZXNjcmlwdGlvbik7XHJcblxyXG4gICAgICAgICAgICAvLyBFeGVjdXRlIHN5bmMgcHJvY2Vzc1xyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmV4ZWN1dGVQeXRob25TeW5jKHN5bmNDb25maWcsIG9uUHJvZ3Jlc3MpO1xyXG5cclxuICAgICAgICAgICAgLy8gVmF1bHQgcmVnaXN0cnkgdXBkYXRlcyBhcmUgaGFuZGxlZCBpbiBzZXR0aW5ncyBwYW5lbCBvbmx5LCBub3QgZHVyaW5nIHN5bmMgb3BlcmF0aW9uc1xyXG5cclxuICAgICAgICAgICAgLy8gU3luYyByZWdpc3RyeSByZWNvcmRpbmcgaXMgbm93IGhhbmRsZWQgYnkgaW5kaXZpZHVhbCBzeW5jIG9wZXJhdGlvbnMgdGhyb3VnaCB0aGUgU3luY1N0YXR1c01hbmFnZXJcclxuICAgICAgICAgICAgLy8gRWFjaCBub3RlJ3Mgc3luYyBzdGF0dXMgaXMgcmVjb3JkZWQgZHVyaW5nIHRoZSBzeW5jIHByb2Nlc3MsIGVuc3VyaW5nIGFjY3VyYXRlIHRyYWNraW5nXHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFNZTkNfQ09NUExFVEU6IHN5bmNOb3RlcygpIGZpbmlzaGVkIC0gc3RhdHVzOiAke3Jlc3VsdC5zdGF0dXN9LCBwcm9jZXNzZWQ6ICR7cmVzdWx0LnByb2Nlc3NlZH0sIHNraXBwZWQ6ICR7cmVzdWx0LnNraXBwZWR9LCB0b3RhbDogJHtyZXN1bHQudG90YWx9LCBiYXRjaGVzOiAke3Jlc3VsdC5iYXRjaENvdW50fWApO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc2VkOiAwLFxyXG4gICAgICAgICAgICAgICAgc2tpcHBlZDogMCxcclxuICAgICAgICAgICAgICAgIHRvdGFsOiBjb25maWcubm90ZXNQYXRocy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBiYXRjaENvdW50OiAwLFxyXG4gICAgICAgICAgICAgICAgbm9kZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgZWRnZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBub3RlIHNlbGVjdGlvbiBzZXJ2aWNlIGZvciBVSSBpbnRlZ3JhdGlvblxyXG4gICAgICovXHJcbiAgICBnZXROb3RlU2VsZWN0aW9uU2VydmljZSgpOiBOb3RlU2VsZWN0aW9uU2VydmljZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubm90ZVNlbGVjdGlvblNlcnZpY2U7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3luYyBub3RlcyBzZXF1ZW50aWFsbHkgdXNpbmcgZXBpc29kZSBVVUlEIGFwcHJvYWNoXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHN5bmNOb3Rlc1NlcXVlbnRpYWxseShvblByb2dyZXNzPzogKHByb2dyZXNzOiBTeW5jUHJvZ3Jlc3MpID0+IHZvaWQsIHNvdXJjZV9kZXNjcmlwdGlvbjogc3RyaW5nID0gJ29ic2lkaWFuX21tX2luZGl2aWR1YWwnKTogUHJvbWlzZTxTeW5jUmVzdWx0PiB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1N0YXJ0aW5nIHNlcXVlbnRpYWwgc3luYycpO1xyXG4gICAgICAgIHRoaXMuaXNDYW5jZWxsZWQgPSBmYWxzZTsgLy8gUmVzZXQgY2FuY2VsbGF0aW9uIGZsYWdcclxuXHJcbiAgICAgICAgLy8gUmV0cmlldmUgdGhlIGxpc3Qgb2Ygbm90ZXMgdG8gYmUgc3luY2VkIGZyb20gbm90ZSBzZWxlY3Rpb24gc2VydmljZVxyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkUGF0aHMgPSB0aGlzLm5vdGVTZWxlY3Rpb25TZXJ2aWNlLmdldFNlbGVjdGVkTm90ZVBhdGhzKCk7XHJcbiAgICAgICAgaWYgKCFzZWxlY3RlZFBhdGhzIHx8IHNlbGVjdGVkUGF0aHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ05vIG5vdGVzIGZvdW5kIGluIHNlbGVjdGlvbicpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc2VkOiAwLFxyXG4gICAgICAgICAgICAgICAgc2tpcHBlZDogMCxcclxuICAgICAgICAgICAgICAgIHRvdGFsOiAwLFxyXG4gICAgICAgICAgICAgICAgYmF0Y2hDb3VudDogMCxcclxuICAgICAgICAgICAgICAgIG5vZGVUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgIGVkZ2VUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdObyBub3RlcyBzZWxlY3RlZCBmb3Igc3luYydcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBQcm9jZXNzaW5nICR7c2VsZWN0ZWRQYXRocy5sZW5ndGh9IG5vdGVzIHNlcXVlbnRpYWxseWApO1xyXG5cclxuICAgICAgICBsZXQgcHJvY2Vzc2VkQ291bnQgPSAwO1xyXG4gICAgICAgIGxldCBza2lwcGVkQ291bnQgPSAwO1xyXG4gICAgICAgIGNvbnN0IG5vdGVSZXN1bHRzOiBhbnlbXSA9IFtdO1xyXG4gICAgICAgIGNvbnN0IGVycm9yczogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgICAgICAgLy8gR2V0IHZhdWx0IHBhdGggZm9yIHJlc29sdmluZyByZWxhdGl2ZSBwYXRocyB0byBhYnNvbHV0ZSBwYXRoc1xyXG4gICAgICAgIGNvbnN0IHsgdmF1bHRQYXRoIH0gPSB0aGlzLmdldFZhdWx0QXdhcmVQYXRocygpO1xyXG5cclxuICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggZWFjaCBub3RlIGluIHRoZSBxdWV1ZVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0ZWRQYXRocy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgY2FuY2VsbGF0aW9uIGJlZm9yZSBwcm9jZXNzaW5nIGVhY2ggbm90ZVxyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0NhbmNlbGxlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnW0NBTkNFTF0gU2VxdWVudGlhbCBzeW5jIGNhbmNlbGxlZCBieSB1c2VyJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQ6IHByb2Nlc3NlZENvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgIHNraXBwZWQ6IHNraXBwZWRDb3VudCArIChzZWxlY3RlZFBhdGhzLmxlbmd0aCAtIGkpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsOiBzZWxlY3RlZFBhdGhzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICBiYXRjaENvdW50OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGVUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgICAgICBlZGdlVHlwZXNMb2FkZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1N5bmMgY2FuY2VsbGVkIGJ5IHVzZXInXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCByZWxhdGl2ZVBhdGggPSBzZWxlY3RlZFBhdGhzW2ldO1xyXG5cclxuICAgICAgICAgICAgLy8gVXBkYXRlIHByb2dyZXNzIGJlZm9yZSBwcm9jZXNzaW5nIG5vdGVcclxuICAgICAgICAgICAgb25Qcm9ncmVzcz8uKHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnQ6IGksXHJcbiAgICAgICAgICAgICAgICB0b3RhbDogc2VsZWN0ZWRQYXRocy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgUHJvY2Vzc2luZyBub3RlICR7aSArIDF9LyR7c2VsZWN0ZWRQYXRocy5sZW5ndGh9OiAke3JlbGF0aXZlUGF0aH1gLFxyXG4gICAgICAgICAgICAgICAgcGVyY2VudGFnZTogKGkgLyBzZWxlY3RlZFBhdGhzLmxlbmd0aCkgKiAxMDBcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFByb2Nlc3Npbmcgbm90ZSAke2kgKyAxfS8ke3NlbGVjdGVkUGF0aHMubGVuZ3RofTogJHtyZWxhdGl2ZVBhdGh9YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gUmVzb2x2ZSByZWxhdGl2ZSBwYXRoIHRvIGFic29sdXRlIHBhdGggZm9yIHRlc3RNYW51YWxTeW5jXHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYWJzb2x1dGVQYXRoID0gcGF0aC5qb2luKHZhdWx0UGF0aCwgcmVsYXRpdmVQYXRoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBVc2UgU3luY1N0YXR1c01hbmFnZXIuc3luY05vdGUgd2hpY2ggaGFuZGxlcyBib3RoIHN5bmMgZXhlY3V0aW9uIGFuZCByZWdpc3RyeSByZWNvcmRpbmdcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5vdGVGaWxlID0gdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChyZWxhdGl2ZVBhdGgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFub3RlRmlsZSB8fCAhKG5vdGVGaWxlIGluc3RhbmNlb2YgVEZpbGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoYENvdWxkIG5vdCBmaW5kIFRGaWxlIGZvciBwYXRoOiAke3JlbGF0aXZlUGF0aH1gKTtcclxuICAgICAgICAgICAgICAgICAgICBza2lwcGVkQ291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnN5bmNTdGF0dXNNYW5hZ2VyLnN5bmNOb3RlKG5vdGVGaWxlLCBzb3VyY2VfZGVzY3JpcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgbm90ZVJlc3VsdHMucHVzaChyZXN1bHQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAnc3VjY2VzcycpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWRDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oYFN1Y2Nlc3NmdWxseSBzeW5jZWQgbm90ZTogJHtyZWxhdGl2ZVBhdGh9YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFZhdWx0IHJlZ2lzdHJ5IHVwZGF0ZXMgYXJlIGhhbmRsZWQgaW4gc2V0dGluZ3MgcGFuZWwgb25seSwgbm90IGR1cmluZyBzeW5jIG9wZXJhdGlvbnNcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHN1Y2Nlc3NmdWxseSBwcm9jZXNzZWQgbm90ZSBmcm9tIHF1ZXVlIGZvciBtb2R1bGFyIHF1ZXVlIG1hbmFnZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGVTZWxlY3Rpb25TZXJ2aWNlLmRlc2VsZWN0Tm90ZXMoW3JlbGF0aXZlUGF0aF0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBza2lwcGVkQ291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGBGYWlsZWQgdG8gc3luYyBub3RlOiAke3JlbGF0aXZlUGF0aH0uIFN0YXR1czogJHtyZXN1bHQuc3RhdHVzfSwgTWVzc2FnZTogJHtyZXN1bHQubWVzc2FnZX1gKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lm1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goYE5vdGUgJyR7cmVsYXRpdmVQYXRofSc6ICR7cmVzdWx0Lm1lc3NhZ2V9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEtlZXAgZmFpbGVkIG5vdGVzIGluIHF1ZXVlIGZvciBwb3RlbnRpYWwgcmV0cnlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHNraXBwZWRDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goYE5vdGUgJyR7cmVsYXRpdmVQYXRofSc6ICR7ZXJyb3JNZXNzYWdlfWApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoYEVycm9yIHN5bmNpbmcgbm90ZSAke3JlbGF0aXZlUGF0aH1gLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAvLyBDb250aW51ZSB3aXRoIG5leHQgbm90ZSBvbiBlcnJvclxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBVcGRhdGUgcHJvZ3Jlc3MgYWZ0ZXIgcHJvY2Vzc2luZyBub3RlXHJcbiAgICAgICAgICAgIG9uUHJvZ3Jlc3M/Lih7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50OiBpICsgMSxcclxuICAgICAgICAgICAgICAgIHRvdGFsOiBzZWxlY3RlZFBhdGhzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBDb21wbGV0ZWQgJHtyZWxhdGl2ZVBhdGh9YCxcclxuICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2U6ICgoaSArIDEpIC8gc2VsZWN0ZWRQYXRocy5sZW5ndGgpICogMTAwXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZmluYWxTdGF0dXMgPSBwcm9jZXNzZWRDb3VudCA+IDAgPyAnc3VjY2VzcycgOiAnZXJyb3InO1xyXG4gICAgICAgIGNvbnN0IGZpbmFsUmVzdWx0OiBTeW5jUmVzdWx0ID0ge1xyXG4gICAgICAgICAgICBzdGF0dXM6IGZpbmFsU3RhdHVzLFxyXG4gICAgICAgICAgICBwcm9jZXNzZWQ6IHByb2Nlc3NlZENvdW50LFxyXG4gICAgICAgICAgICBza2lwcGVkOiBza2lwcGVkQ291bnQsXHJcbiAgICAgICAgICAgIHRvdGFsOiBzZWxlY3RlZFBhdGhzLmxlbmd0aCxcclxuICAgICAgICAgICAgYmF0Y2hDb3VudDogc2VsZWN0ZWRQYXRocy5sZW5ndGgsXHJcbiAgICAgICAgICAgIG5vZGVUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgZWRnZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICBub3Rlczogbm90ZVJlc3VsdHMsXHJcbiAgICAgICAgICAgIGVycm9yczogZXJyb3JzLFxyXG4gICAgICAgICAgICBoYXNFcnJvcnM6IGVycm9ycy5sZW5ndGggPiAwLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiBgU2VxdWVudGlhbCBzeW5jIGNvbXBsZXRlZC4gUHJvY2Vzc2VkOiAke3Byb2Nlc3NlZENvdW50fSwgU2tpcHBlZDogJHtza2lwcGVkQ291bnR9LmBcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBDbGVhbiBsb2dnaW5nIHdpdGhvdXQgbWFzc2l2ZSBkYXRhIG9iamVjdHNcclxuICAgICAgICBjb25zdCBub3RlU3VtbWFyaWVzID0gbm90ZVJlc3VsdHMuc2xpY2UoMCwgNSkubWFwKChuOiBhbnkpID0+IHtcclxuICAgICAgICBcdGNvbnN0IHBhdGhWYWwgPSBuPy5ub3RlX3BhdGggPz8gbj8ucGF0aCA/PyAnJztcclxuICAgICAgICBcdGNvbnN0IHN0YXR1c1ZhbCA9IG4/LnN0YXR1cyA/PyAndW5rbm93bic7XHJcbiAgICAgICAgXHRjb25zdCBlcGlzb2RlVmFsID0gbj8uZXBpc29kZV91dWlkID8/IG4/LmVwaXNvZGVfaWQgPz8gJyc7XHJcbiAgICAgICAgXHRyZXR1cm4geyBub3RlOiBwYXRoVmFsLCBzdGF0dXM6IHN0YXR1c1ZhbCwgZXBpc29kZV91dWlkOiBlcGlzb2RlVmFsIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1NlcXVlbnRpYWwgYXV0by1zeW5jIGNvbXBsZXRlZCcsIHtcclxuICAgICAgICAgICAgZmluYWxTdGF0dXMsXHJcbiAgICAgICAgICAgIHByb2Nlc3NlZDogcHJvY2Vzc2VkQ291bnQsXHJcbiAgICAgICAgICAgIHNraXBwZWQ6IHNraXBwZWRDb3VudCxcclxuICAgICAgICAgICAgdG90YWw6IHNlbGVjdGVkUGF0aHMubGVuZ3RoLFxyXG4gICAgICAgICAgICBub3Rlc1NhbXBsZTogbm90ZVN1bW1hcmllc1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gZmluYWxSZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgc3luY1NlbGVjdGVkTm90ZXMob25Qcm9ncmVzcz86IChwcm9ncmVzczogU3luY1Byb2dyZXNzKSA9PiB2b2lkLCBzb3VyY2VfZGVzY3JpcHRpb246IHN0cmluZyA9ICdvYnNpZGlhbl9tbV9xdWlja3N5bmMnKTogUHJvbWlzZTxTeW5jUmVzdWx0PiB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1NZTkNfU1RBUlQ6IHN5bmNTZWxlY3RlZE5vdGVzKCkgY2FsbGVkJywge1xyXG4gICAgICAgICAgICBzZWxlY3RlZFBhdGhzOiB0aGlzLm5vdGVTZWxlY3Rpb25TZXJ2aWNlLmdldFNlbGVjdGVkTm90ZVBhdGhzKCksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRQYXRocyA9IHRoaXMubm90ZVNlbGVjdGlvblNlcnZpY2UuZ2V0U2VsZWN0ZWROb3RlUGF0aHMoKTtcclxuXHJcbiAgICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IGF3YWl0IHRoaXMubm90ZVNlbGVjdGlvblNlcnZpY2UudmFsaWRhdGVTZWxlY3Rpb24oKTtcclxuICAgICAgICBpZiAoIXZhbGlkYXRpb24uaXNWYWxpZCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc2VkOiAwLFxyXG4gICAgICAgICAgICAgICAgc2tpcHBlZDogc2VsZWN0ZWRQYXRocy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICB0b3RhbDogc2VsZWN0ZWRQYXRocy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBiYXRjaENvdW50OiAwLFxyXG4gICAgICAgICAgICAgICAgbm9kZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgZWRnZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogYFNlbGVjdGlvbiB2YWxpZGF0aW9uIGZhaWxlZDogJHt2YWxpZGF0aW9uLmVycm9ycy5qb2luKCcsICcpfWAsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDYWxsIHRoZSBuZXcgc2VxdWVudGlhbCBzeW5jIG1ldGhvZCB3aXRoIHByb2dyZXNzIGNhbGxiYWNrXHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zeW5jTm90ZXNTZXF1ZW50aWFsbHkob25Qcm9ncmVzcywgc291cmNlX2Rlc2NyaXB0aW9uKTtcclxuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgU1lOQ19DT01QTEVURTogc3luY1NlbGVjdGVkTm90ZXMoKSBmaW5pc2hlZCAtIHN0YXR1czogJHtyZXN1bHQuc3RhdHVzfSwgcHJvY2Vzc2VkOiAke3Jlc3VsdC5wcm9jZXNzZWR9LCBza2lwcGVkOiAke3Jlc3VsdC5za2lwcGVkfSwgdG90YWw6ICR7cmVzdWx0LnRvdGFsfWApO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBRdWljayBzeW5jIHdpdGggYXV0by1zZWxlY3Rpb24gdXNpbmcgZmlsdGVyIGNyaXRlcmlhXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHF1aWNrU3luYyhcclxuICAgICAgICBjcml0ZXJpYTogTm90ZUZpbHRlckNyaXRlcmlhLFxyXG4gICAgICAgIG9uUHJvZ3Jlc3M/OiAocHJvZ3Jlc3M6IFN5bmNQcm9ncmVzcykgPT4gdm9pZFxyXG4gICAgKTogUHJvbWlzZTxTeW5jUmVzdWx0PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gQXV0by1zZWxlY3Qgbm90ZXMgYmFzZWQgb24gY3JpdGVyaWFcclxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRDb3VudCA9IGF3YWl0IHRoaXMubm90ZVNlbGVjdGlvblNlcnZpY2Uuc2VsZWN0QWxsTWF0Y2hpbmcoY3JpdGVyaWEpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkQ291bnQgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZDogMCxcclxuICAgICAgICAgICAgICAgICAgICBza2lwcGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGJhdGNoQ291bnQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGVkZ2VUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTm8gbm90ZXMgbWF0Y2hlZCB0aGUgZmlsdGVyIGNyaXRlcmlhJ1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gU3luYyBzZWxlY3RlZCBub3Rlc1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zeW5jU2VsZWN0ZWROb3RlcyhvblByb2dyZXNzKTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NlZDogMCxcclxuICAgICAgICAgICAgICAgIHNraXBwZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICB0b3RhbDogMCxcclxuICAgICAgICAgICAgICAgIGJhdGNoQ291bnQ6IDAsXHJcbiAgICAgICAgICAgICAgICBub2RlVHlwZXNMb2FkZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICBlZGdlVHlwZXNMb2FkZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcilcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgc3luYyBzdGF0aXN0aWNzIGFuZCBlc3RpbWF0ZXNcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2V0U3luY1N0YXRpc3RpY3MoKTogUHJvbWlzZTx7XHJcbiAgICAgICAgc3VtbWFyeTogYW55O1xyXG4gICAgICAgIHZhbGlkYXRpb246IGFueTtcclxuICAgICAgICBhdmFpbGFibGVUeXBlczogc3RyaW5nW107XHJcbiAgICAgICAgYXZhaWxhYmxlVGFnczogc3RyaW5nW107XHJcbiAgICB9PiB7XHJcbiAgICAgICAgY29uc3QgW3N1bW1hcnksIHZhbGlkYXRpb24sIGF2YWlsYWJsZVR5cGVzLCBhdmFpbGFibGVUYWdzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcclxuICAgICAgICAgICAgdGhpcy5ub3RlU2VsZWN0aW9uU2VydmljZS5nZXRTZWxlY3Rpb25TdW1tYXJ5KCksXHJcbiAgICAgICAgICAgIHRoaXMubm90ZVNlbGVjdGlvblNlcnZpY2UudmFsaWRhdGVTZWxlY3Rpb24oKSxcclxuICAgICAgICAgICAgdGhpcy5ub3RlU2VsZWN0aW9uU2VydmljZS5nZXRBdmFpbGFibGVUeXBlcygpLFxyXG4gICAgICAgICAgICB0aGlzLm5vdGVTZWxlY3Rpb25TZXJ2aWNlLmdldEF2YWlsYWJsZVRhZ3MoKVxyXG4gICAgICAgIF0pO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzdW1tYXJ5LFxyXG4gICAgICAgICAgICB2YWxpZGF0aW9uLFxyXG4gICAgICAgICAgICBhdmFpbGFibGVUeXBlcyxcclxuICAgICAgICAgICAgYXZhaWxhYmxlVGFnc1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDYW5jZWwgb25nb2luZyBzeW5jIG9wZXJhdGlvblxyXG4gICAgICovXHJcbiAgICBjYW5jZWxTeW5jKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1tDQU5DRUxdIENhbmNlbGxpbmcgc3luYyBvcGVyYXRpb24gLSBraWxsaW5nIGFsbCBQeXRob24gcHJvY2Vzc2VzJyk7XHJcbiAgICAgICAgdGhpcy5pc0NhbmNlbGxlZCA9IHRydWU7XHJcblxyXG4gICAgICAgIC8vIEtpbGwgYWxsIHRyYWNrZWQgYWN0aXZlIHByb2Nlc3Nlc1xyXG4gICAgICAgIHRoaXMuYWN0aXZlUHJvY2Vzc2VzLmZvckVhY2gocHJvY2VzcyA9PiB7XHJcbiAgICAgICAgICAgIGlmICghcHJvY2Vzcy5raWxsZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbQ0FOQ0VMXSBLaWxsaW5nIHRyYWNrZWQgUHl0aG9uIHByb2Nlc3MnLCB7IHBpZDogcHJvY2Vzcy5waWQgfSk7XHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzLmtpbGwoJ1NJR1RFUk0nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYWN0aXZlUHJvY2Vzc2VzLmNsZWFyKCk7XHJcblxyXG4gICAgICAgIC8vIEFsc28ga2lsbCBtYWluIHB5dGhvbiBwcm9jZXNzIGlmIGl0IGV4aXN0c1xyXG4gICAgICAgIGlmICh0aGlzLnB5dGhvblByb2Nlc3MpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tDQU5DRUxdIEtpbGxpbmcgbWFpbiBQeXRob24gcHJvY2VzcycsIHsgcGlkOiB0aGlzLnB5dGhvblByb2Nlc3MucGlkIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnB5dGhvblByb2Nlc3Mua2lsbCgnU0lHVEVSTScpO1xyXG4gICAgICAgICAgICB0aGlzLnB5dGhvblByb2Nlc3MgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHJpZXZlcyB0aGUgYWJzb2x1dGUgcGF0aCB0byB0aGUgcGx1Z2luJ3Mgcm9vdCBkaXJlY3RvcnkuXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBub3cgc2VydmVzIGFzIGEgc2ltcGxlIGdldHRlciwgcmVseWluZyBvbiB0aGUgY2FjaGVkIG9yIHJlc29sdmVkIGBWYXVsdFBhdGhzYFxyXG4gICAgICogb2JqZWN0IHByb3ZpZGVkIGJ5IGBnZXRWYXVsdEF3YXJlUGF0aHNgIGZvciBjb25zb2xpZGF0ZWQgcGF0aCBtYW5hZ2VtZW50LlxyXG4gICAgICogQHJldHVybnMge3N0cmluZ30gVGhlIGFic29sdXRlIHBhdGggdG8gdGhlIHBsdWdpbidzIHJvb3QgZGlyZWN0b3J5LlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0UGx1Z2luRGlyZWN0b3J5KCk6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3QgdmF1bHRQYXRocyA9IHRoaXMuZ2V0VmF1bHRBd2FyZVBhdGhzKCk7XHJcbiAgICAgICAgcmV0dXJuIHZhdWx0UGF0aHMucGx1Z2luRGlyO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGVscGVyIG1ldGhvZCB0byBkZXRlY3QgYW5kIGZpeCBkdXBsaWNhdGVkIHBhdGggc2VnbWVudHNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBmaW5kRHVwbGljYXRlUGF0aFNlZ21lbnRzKHBhdGhTZWdtZW50czogc3RyaW5nW10pOiBudW1iZXIge1xyXG4gICAgICAgIC8vIExvb2sgZm9yIHBhdHRlcm5zIHdoZXJlIHRoZSBwYXRoIGlzIGR1cGxpY2F0ZWRcclxuICAgICAgICAvLyBFeGFtcGxlOiBbJ0U6JywgJ0dJVCcsICdMT0NBTCcsICdvYnNpZGlhbi1ncmFwaGl0aS1tY3AnLCAndGVzdC12YXVsdCcsICdFOicsICdHSVQnLCAnTE9DQUwnLCAnb2JzaWRpYW4tZ3JhcGhpdGktbWNwJywgJ3Rlc3QtdmF1bHQnXVxyXG5cclxuICAgICAgICBjb25zdCBoYWxmTGVuZ3RoID0gTWF0aC5mbG9vcihwYXRoU2VnbWVudHMubGVuZ3RoIC8gMik7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBmaXJzdCBoYWxmIG1hdGNoZXMgdGhlIHNlY29uZCBoYWxmIChleGFjdCBkdXBsaWNhdGlvbilcclxuICAgICAgICBpZiAoaGFsZkxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbGV0IGlzRHVwbGljYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaGFsZkxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGF0aFNlZ21lbnRzW2ldICE9PSBwYXRoU2VnbWVudHNbaSArIGhhbGZMZW5ndGhdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNEdXBsaWNhdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChpc0R1cGxpY2F0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBoYWxmTGVuZ3RoOyAvLyBSZXR1cm4gd2hlcmUgdGhlIGR1cGxpY2F0aW9uIHN0YXJ0c1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayBmb3IgcGFydGlhbCBkdXBsaWNhdGlvbnMgKGZpbmQgcmVwZWF0ZWQgc2VxdWVuY2VzKVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcGF0aFNlZ21lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IHBhdGhTZWdtZW50cy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSBhIHJlcGVhdGluZyBwYXR0ZXJuIHN0YXJ0aW5nIGF0IGlcclxuICAgICAgICAgICAgICAgIGlmIChwYXRoU2VnbWVudHNbaV0gPT09IHBhdGhTZWdtZW50c1tqXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGhvdyBsb25nIHRoZSBwYXR0ZXJuIGNvbnRpbnVlc1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXR0ZXJuTGVuZ3RoID0gMTtcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaSArIHBhdHRlcm5MZW5ndGggPCBqICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGogKyBwYXR0ZXJuTGVuZ3RoIDwgcGF0aFNlZ21lbnRzLmxlbmd0aCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoU2VnbWVudHNbaSArIHBhdHRlcm5MZW5ndGhdID09PSBwYXRoU2VnbWVudHNbaiArIHBhdHRlcm5MZW5ndGhdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm5MZW5ndGgrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGZvdW5kIGEgc2lnbmlmaWNhbnQgcGF0dGVybiAoYXQgbGVhc3QgMiBzZWdtZW50cyksIGNvbnNpZGVyIGl0IGEgZHVwbGljYXRpb25cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0dGVybkxlbmd0aCA+PSAyICYmIGogKyBwYXR0ZXJuTGVuZ3RoID49IHBhdGhTZWdtZW50cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGo7IC8vIFJldHVybiB3aGVyZSB0aGUgc2Vjb25kIG9jY3VycmVuY2Ugc3RhcnRzXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gLTE7IC8vIE5vIGR1cGxpY2F0aW9uIGZvdW5kXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGFic29sdXRlIHBhdGggdG8gdGhlIGN1cnJlbnRseSBhY3RpdmUgT2JzaWRpYW4gdmF1bHQuXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBhY3RzIGFzIGEgZGlyZWN0IGFjY2Vzc29yLCBvYnRhaW5pbmcgdGhlIHZhdWx0IHBhdGggZnJvbSB0aGVcclxuICAgICAqIGNlbnRyYWxpemVkIGBnZXRWYXVsdEF3YXJlUGF0aHNgIHN5c3RlbSwgd2hpY2ggZW5zdXJlcyB0aGF0IHRoZSBwYXRoXHJcbiAgICAgKiBpcyBhbHdheXMgdmF1bHQtYXdhcmUsIGNhY2hlZCwgYW5kIHVwLXRvLWRhdGUuXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgYWJzb2x1dGUgcGF0aCB0byB0aGUgY3VycmVudCBPYnNpZGlhbiB2YXVsdC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFZhdWx0UGF0aEZhbGxiYWNrKCk6IHN0cmluZyB7XHJcblxyXG4gICAgICAgIC8vIFVzZSB0aGUgbmV3IHZhdWx0LWF3YXJlIHBhdGhzIG1ldGhvZCB0byBnZXQgdmF1bHQgcGF0aFxyXG4gICAgICAgIGNvbnN0IHZhdWx0UGF0aHMgPSB0aGlzLmdldFZhdWx0QXdhcmVQYXRocyhudWxsKTtcclxuXHJcbiAgICAgICAgLy8gTG9nIHRoZSByZXNvbHZlZCB2YXVsdCBwYXRoIGZvciBkZWJ1Z2dpbmdcclxuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnVmF1bHQgUGF0aCBGYWxsYmFjayBSZXNvbHV0aW9uJywge1xyXG4gICAgICAgICAgICB2YXVsdFBhdGg6IHZhdWx0UGF0aHMudmF1bHRQYXRoLFxyXG4gICAgICAgICAgICBwbHVnaW5EaXI6IHZhdWx0UGF0aHMucGx1Z2luRGlyLFxyXG4gICAgICAgICAgICByZXNvbHZlZEF0OiB2YXVsdFBhdGhzLnJlc29sdmVkQXRcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gUmV0dXJuIHRoZSB2YXVsdCBwYXRoIGZyb20gdGhlIHJlc29sdmVkIHBhdGhzXHJcbiAgICAgICAgcmV0dXJuIHZhdWx0UGF0aHMudmF1bHRQYXRoO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0cmlldmVzIHZhdWx0LWF3YXJlIGZpbGUgcGF0aHMsIHV0aWxpemluZyBhIGNhY2hlIGZvciBwZXJmb3JtYW5jZS5cclxuICAgICAqIElmIHRoZSBwYXRocyBmb3IgdGhlIGN1cnJlbnQgdmF1bHQgYXJlIGFscmVhZHkgaW4gdGhlIGNhY2hlLCB0aGV5IGFyZSByZXR1cm5lZCBpbW1lZGlhdGVseSAoY2FjaGUgaGl0KS5cclxuICAgICAqIE90aGVyd2lzZSAoY2FjaGUgbWlzcyksIHRoZSBwYXRocyBhcmUgcmVzb2x2ZWQgdXNpbmcgYHJlc29sdmVQYXRoc0ZvclZhdWx0YCwgc3RvcmVkIGluIHRoZSBjYWNoZSwgYW5kIHRoZW4gcmV0dXJuZWQuXHJcbiAgICAgKiBDYWNoZSBtZXRyaWNzIChoaXRzIGFuZCBtaXNzZXMpIGFyZSB0cmFja2VkIGFuZCBsb2dnZWQgcGVyaW9kaWNhbGx5LlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCBudWxsfSBbdmF1bHRJZF0gLSBUaGUgSUQgb2YgdGhlIHZhdWx0IGZvciB3aGljaCB0byByZXNvbHZlIHBhdGhzLiBEZWZhdWx0cyB0byB0aGUgYWN0aXZlIHZhdWx0IElELlxyXG4gICAgICogQHJldHVybnMge1ZhdWx0UGF0aHN9IEFuIG9iamVjdCBjb250YWluaW5nIHRoZSByZXNvbHZlZCBwYXRocyBmb3IgdGhlIHNwZWNpZmllZCB2YXVsdC5cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0VmF1bHRBd2FyZVBhdGhzKHZhdWx0SWQ/OiBzdHJpbmcgfCBudWxsKTogVmF1bHRQYXRocyB7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7IC8vIFN0YXJ0IHRpbWluZ1xyXG5cclxuICAgICAgICAvLyBEZXRlcm1pbmUgY3VycmVudCB2YXVsdCBjb250ZXh0XHJcbiAgICAgICAgY29uc3QgY3VycmVudFZhdWx0SWQgPSB2YXVsdElkIHx8XHJcbiAgICAgICAgICAgIHRoaXMudmF1bHRSZWdpc3RyeVNlcnZpY2UuZ2V0QWN0aXZlVmF1bHRJZCgpIHx8XHJcbiAgICAgICAgICAgICdkZWZhdWx0JztcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgY2FjaGUgZmlyc3QgZm9yIGV4aXN0aW5nIHBhdGhzXHJcbiAgICAgICAgaWYgKHRoaXMucGF0aENhY2hlLmhhcyhjdXJyZW50VmF1bHRJZCkpIHtcclxuICAgICAgICAgICAgY29uc3QgY2FjaGVkID0gdGhpcy5wYXRoQ2FjaGUuZ2V0KGN1cnJlbnRWYXVsdElkKSE7XHJcbiAgICAgICAgICAgIHRoaXMuY2FjaGVIaXRzKys7XHJcbiAgICAgICAgICAgIGNvbnN0IGR1cmF0aW9uID0gKHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRUaW1lKS50b0ZpeGVkKDIpO1xyXG4gICAgICAgICAgICAvLyBDb25zaWRlciBhZGRpbmcgYSByYXJlIGluZm8gbG9nIGlmIGNhY2hlIGhpdCByYXRpbyBpcyBjb25zaXN0ZW50bHkgdmVyeSBsb3cgZm9yIGEgbG9uZyB0aW1lXHJcbiAgICAgICAgICAgIC8vIEZvciBub3csIHN1cHByZXNzIHZlcmJvc2UgaGl0IGxvZ3MuXHJcbiAgICAgICAgICAgIHRoaXMubG9nQ2FjaGVNZXRyaWNzKGN1cnJlbnRWYXVsdElkKTsgLy8gTG9nIG1ldHJpY3MgYWZ0ZXIgaGl0XHJcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZXNvbHZlIHBhdGhzIGZvciB0aGUgY3VycmVudCB2YXVsdFxyXG4gICAgICAgIHRoaXMuY2FjaGVNaXNzZXMrKztcclxuICAgICAgICBjb25zdCByZXNvbHZlZFBhdGhzID0gdGhpcy5yZXNvbHZlUGF0aHNGb3JWYXVsdChjdXJyZW50VmF1bHRJZCk7XHJcblxyXG4gICAgICAgIC8vIENhY2hlIHRoZSByZXNvbHZlZCBwYXRoc1xyXG4gICAgICAgIHRoaXMucGF0aENhY2hlLnNldChjdXJyZW50VmF1bHRJZCwgcmVzb2x2ZWRQYXRocyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gKHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRUaW1lKS50b0ZpeGVkKDIpO1xyXG4gICAgICAgIC8vIExvZyBjYWNoZSBtaXNzIGFzIGluZm8gdG8gaGlnaGxpZ2h0IHBlcmZvcm1hbmNlIGltcGxpY2F0aW9uLCBidXQgbm90IHRvbyBvZnRlbi5cclxuICAgICAgICAvLyBUaGUgYGxvZ0NhY2hlTWV0cmljc2AgZnVuY3Rpb24gd2lsbCBoYW5kbGUgcGVyaW9kaWMgY29uc29saWRhdGVkIGxvZ2dpbmcuXHJcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFtDQUNIRV9NSVNTXSBWYXVsdDogJHtjdXJyZW50VmF1bHRJZH0sIFRpbWU6ICR7ZHVyYXRpb259bXMuIFBhdGhzIHJlc29sdmVkLmApO1xyXG4gICAgICAgIHRoaXMubG9nQ2FjaGVNZXRyaWNzKGN1cnJlbnRWYXVsdElkKTsgLy8gTG9nIG1ldHJpY3MgYWZ0ZXIgbWlzc1xyXG5cclxuICAgICAgICByZXR1cm4gcmVzb2x2ZWRQYXRocztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlc29sdmVzIGFuZCByZXR1cm5zIHRoZSBhYnNvbHV0ZSBmaWxlIHN5c3RlbSBwYXRocyBmb3IgYSBzcGVjaWZpYyB2YXVsdC5cclxuICAgICAqIFRoaXMgbWV0aG9kIHVzZXMgYSBtdWx0aS1zdHJhdGVneSBhcHByb2FjaCB0byBkZXRlcm1pbmUgY3JpdGljYWxcclxuICAgICAqIGRpcmVjdG9yaWVzIGxpa2UgdGhlIHBsdWdpbiBkaXJlY3RvcnksIHZhdWx0IGRpcmVjdG9yeSwgYW5kIGJyaWRnZSBkaXJlY3RvcnkuXHJcbiAgICAgKiBJdCBhbHNvIGluY29ycG9yYXRlcyBsb2dpYyB0byBoYW5kbGUgZHVwbGljYXRlIHBhdGggc2VnbWVudHMuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmF1bHRJZCAtIFRoZSBJRCBvZiB0aGUgdmF1bHQgZm9yIHdoaWNoIHRvIHJlc29sdmUgcGF0aHMuXHJcbiAgICAgKiBAcmV0dXJucyB7VmF1bHRQYXRoc30gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHJlc29sdmVkIHBhdGhzIGZvciB0aGUgc3BlY2lmaWVkIHZhdWx0LlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSByZXNvbHZlUGF0aHNGb3JWYXVsdCh2YXVsdElkOiBzdHJpbmcpOiBWYXVsdFBhdGhzIHtcclxuICAgICAgICBjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7IC8vIEFkZGVkIGZvciBsb2NhbCB1c2FnZVxyXG4gICAgICAgIGNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7IC8vIEFkZGVkIGZvciBwYXRoLm5vcm1hbGl6ZSwgcGF0aC5yZXNvbHZlLCBwYXRoLnNlcFxyXG5cclxuICAgICAgICAvLyBWYWxpZGF0ZSB2YXVsdCBJRFxyXG4gICAgICAgIGlmICghdmF1bHRJZCkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignW1BBVEhTXSBJbnZhbGlkIHZhdWx0IElEIHByb3ZpZGVkIGZvciBwYXRoIHJlc29sdXRpb24nKTtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcmVzb2x2ZSBwYXRoczogSW52YWxpZCB2YXVsdCBJRCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gR2V0IHZhdWx0IGRldGFpbHMgZnJvbSByZWdpc3RyeSBvciBmYWxsYmFjayB0byBpbnRlcm5hbCBBUElcclxuICAgICAgICBjb25zdCBhY3RpdmVWYXVsdCA9IHRoaXMudmF1bHRSZWdpc3RyeVNlcnZpY2UuZ2V0VmF1bHQodmF1bHRJZCk7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRWYXVsdFBhdGg6IHN0cmluZztcclxuICAgICAgICBpZiAoYWN0aXZlVmF1bHQ/LnBhdGgpIHtcclxuICAgICAgICAgICAgY3VycmVudFZhdWx0UGF0aCA9IGFjdGl2ZVZhdWx0LnBhdGg7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbUEFUSFNdIFZhdWx0IHBhdGggcmVzb2x2ZWQgZnJvbSByZWdpc3RyeS9mYWxsYmFjayBmb3IgdmF1bHQgSUQ6ICcgKyB2YXVsdElkICsgJy4nKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBGYWxsYmFjayB0byBpbnRlcm5hbCBBUEkgYmFzZSBwYXRoXHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgLSBhY2Nlc3NpbmcgaW50ZXJuYWwgQVBJXHJcbiAgICAgICAgICAgIGN1cnJlbnRWYXVsdFBhdGggPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuYWRhcHRlci5iYXNlUGF0aDtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignW1BBVEhTXSBVc2luZyBpbnRlcm5hbCBhZGFwdGVyLmJhc2VQYXRoIGFzIGZhbGxiYWNrIGZvciB2YXVsdCBwYXRoLiBWYXVsdCBub3QgZm91bmQgaW4gcmVnaXN0cnkuJywgeyB2YXVsdElkLCBwYXRoOiBjdXJyZW50VmF1bHRQYXRoIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ1JJVElDQUwgRklYOiBOb3JtYWxpemUgYW5kIGRlZHVwbGljYXRlIHZhdWx0IHBhdGhcclxuICAgICAgICBsZXQgbm9ybWFsaXplZFZhdWx0UGF0aCA9IHBhdGgubm9ybWFsaXplKGN1cnJlbnRWYXVsdFBhdGgpO1xyXG5cclxuICAgICAgICAvLyBDaGVjayBmb3IgcGF0aCBkdXBsaWNhdGlvbiBwYXR0ZXJucyBhbmQgZml4IHRoZW1cclxuICAgICAgICBjb25zdCBwYXRoU2VnbWVudHMgPSBub3JtYWxpemVkVmF1bHRQYXRoLnNwbGl0KHBhdGguc2VwKTtcclxuICAgICAgICBjb25zdCBkdXBsaWNhdGVJbmRleCA9IHRoaXMuZmluZER1cGxpY2F0ZVBhdGhTZWdtZW50cyhwYXRoU2VnbWVudHMpO1xyXG5cclxuICAgICAgICBpZiAoZHVwbGljYXRlSW5kZXggIT09IC0xKSB7XHJcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRWYXVsdFBhdGggPSBwYXRoU2VnbWVudHMuc2xpY2UoMCwgZHVwbGljYXRlSW5kZXgpLmpvaW4ocGF0aC5zZXApO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCfwn5SnIEZpeGVkIGR1cGxpY2F0ZWQgdmF1bHQgcGF0aCBkdXJpbmcgcmVzb2x1dGlvbicsIHtcclxuICAgICAgICAgICAgICAgIG9yaWdpbmFsOiBjdXJyZW50VmF1bHRQYXRoLFxyXG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZDogbm9ybWFsaXplZFZhdWx0UGF0aCxcclxuICAgICAgICAgICAgICAgIGZpeGVkOiBub3JtYWxpemVkVmF1bHRQYXRoLFxyXG4gICAgICAgICAgICAgICAgZHVwbGljYXRlU3RhcnRJbmRleDogZHVwbGljYXRlSW5kZXhcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcGx1Z2luRGlyOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcclxuICAgICAgICBsZXQgYnJpZGdlRGlyOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgICAgICAgLy8gU3RyYXRlZ3kgMTogU3RhbmRhcmQgcHJvZHVjdGlvbiBpbnN0YWxsYXRpb24gaW4gLm9ic2lkaWFuL3BsdWdpbnNcclxuICAgICAgICBjb25zdCBwbHVnaW5JZCA9IHRoaXMucGx1Z2luLm1hbmlmZXN0LmlkIHx8ICdtZWdhbWVtLW1jcCc7XHJcbiAgICAgICAgY29uc3Qgc3RhbmRhcmRQbHVnaW5QYXRoID0gam9pbihub3JtYWxpemVkVmF1bHRQYXRoLCAnLm9ic2lkaWFuJywgJ3BsdWdpbnMnLCBwbHVnaW5JZCk7XHJcbiAgICAgICAgY29uc3Qgc3RhbmRhcmRCcmlkZ2VQYXRoID0gam9pbihzdGFuZGFyZFBsdWdpblBhdGgsICdncmFwaGl0aV9icmlkZ2UnKTtcclxuXHJcbiAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmMoc3RhbmRhcmRCcmlkZ2VQYXRoKSkge1xyXG4gICAgICAgICAgICBwbHVnaW5EaXIgPSBzdGFuZGFyZFBsdWdpblBhdGg7XHJcbiAgICAgICAgICAgIGJyaWRnZURpciA9IHN0YW5kYXJkQnJpZGdlUGF0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFN0cmF0ZWd5IDI6IERldmVsb3BtZW50IG1vZGUgLSBjaGVjayBpZiB3ZSdyZSBpbiBhIHByb2plY3QgZGlyZWN0b3J5XHJcbiAgICAgICAgaWYgKCFwbHVnaW5EaXIpIHtcclxuICAgICAgICAgICAgY29uc3QgZGV2UHJvamVjdFBhdGggPSBwYXRoLnJlc29sdmUobm9ybWFsaXplZFZhdWx0UGF0aCwgJy4uJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRldkJyaWRnZVBhdGggPSBqb2luKGRldlByb2plY3RQYXRoLCAnZ3JhcGhpdGlfYnJpZGdlJyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyhkZXZCcmlkZ2VQYXRoKSkge1xyXG4gICAgICAgICAgICAgICAgcGx1Z2luRGlyID0gZGV2UHJvamVjdFBhdGg7XHJcbiAgICAgICAgICAgICAgICBicmlkZ2VEaXIgPSBkZXZCcmlkZ2VQYXRoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTdHJhdGVneSAzOiBDaGVjayBpZiB2YXVsdCBpdHNlbGYgY29udGFpbnMgZ3JhcGhpdGlfYnJpZGdlICh1bnVzdWFsIHNldHVwKVxyXG4gICAgICAgIGlmICghcGx1Z2luRGlyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhdWx0QnJpZGdlUGF0aCA9IGpvaW4obm9ybWFsaXplZFZhdWx0UGF0aCwgJ2dyYXBoaXRpX2JyaWRnZScpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmModmF1bHRCcmlkZ2VQYXRoKSkge1xyXG4gICAgICAgICAgICAgICAgcGx1Z2luRGlyID0gbm9ybWFsaXplZFZhdWx0UGF0aDtcclxuICAgICAgICAgICAgICAgIGJyaWRnZURpciA9IHZhdWx0QnJpZGdlUGF0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU3RyYXRlZ3kgNDogVXNlIG1hbmlmZXN0LmRpciBpZiBhdmFpbGFibGUgKGxlZ2FjeSBmYWxsYmFjaylcclxuICAgICAgICBpZiAoIXBsdWdpbkRpcikge1xyXG4gICAgICAgICAgICBjb25zdCBwbHVnaW5JbnN0YWxsRGlyID0gdGhpcy5wbHVnaW4ubWFuaWZlc3QuZGlyIHx8ICcnO1xyXG4gICAgICAgICAgICBpZiAocGx1Z2luSW5zdGFsbERpcikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWFuaWZlc3RQYXRoID0gcGx1Z2luSW5zdGFsbERpcjtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1hbmlmZXN0QnJpZGdlUGF0aCA9IGpvaW4obWFuaWZlc3RQYXRoLCAnZ3JhcGhpdGlfYnJpZGdlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmMobWFuaWZlc3RCcmlkZ2VQYXRoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbkRpciA9IG1hbmlmZXN0UGF0aDtcclxuICAgICAgICAgICAgICAgICAgICBicmlkZ2VEaXIgPSBtYW5pZmVzdEJyaWRnZVBhdGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENyaXRpY2FsIGNoZWNrOiBpZiBwbHVnaW5EaXIgb3IgYnJpZGdlRGlyIHN0aWxsIG5vdCBmb3VuZCwgdGhyb3cgYW4gZXJyb3JcclxuICAgICAgICBpZiAoIXBsdWdpbkRpciB8fCAhYnJpZGdlRGlyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTXNnID0gYOKdjCBDcml0aWNhbCBwYXRoIHJlc29sdXRpb24gZmFpbHVyZSBmb3IgdmF1bHQgSUQgXCIke3ZhdWx0SWR9XCIuIENvdWxkIG5vdCBsb2NhdGUgcmVxdWlyZWQgcGx1Z2luIG9yIGJyaWRnZSBkaXJlY3Rvcmllcy5gO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihlcnJvck1zZywge1xyXG4gICAgICAgICAgICAgICAgdmF1bHRQYXRoOiBub3JtYWxpemVkVmF1bHRQYXRoLFxyXG4gICAgICAgICAgICAgICAgcGx1Z2luTWFuaWZlc3REaXI6IHRoaXMucGx1Z2luLm1hbmlmZXN0LmRpcixcclxuICAgICAgICAgICAgICAgIHBsdWdpbklkLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlVmF1bHREZXRhaWxzOiBhY3RpdmVWYXVsdFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTXNnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFZhbGlkYXRlIHBhdGhzIChub3cgdXNpbmcgdGhlIHJlc29sdmVkIHBsdWdpbkRpciBhbmQgYnJpZGdlRGlyKVxyXG4gICAgICAgIGlmICghZnMuZXhpc3RzU3luYyhub3JtYWxpemVkVmF1bHRQYXRoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdbUEFUSFNdIFZhdWx0IHBhdGggZG9lcyBub3QgZXhpc3QgcmVzb2x2ZWQgZHVyaW5nIGZpbmFsIGNoZWNrJywgeyB2YXVsdFBhdGg6IG5vcm1hbGl6ZWRWYXVsdFBhdGggfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghZnMuZXhpc3RzU3luYyhwbHVnaW5EaXIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ1tQQVRIU10gUGx1Z2luIGRpcmVjdG9yeSBkb2VzIG5vdCBleGlzdCByZXNvbHZlZCBkdXJpbmcgZmluYWwgY2hlY2snLCB7IHBsdWdpbkRpciB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFmcy5leGlzdHNTeW5jKGJyaWRnZURpcikpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignW1BBVEhTXSBCcmlkZ2UgZGlyZWN0b3J5IGRvZXMgbm90IGV4aXN0IHJlc29sdmVkIGR1cmluZyBmaW5hbCBjaGVjaycsIHsgYnJpZGdlRGlyIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ29uc3RydWN0IFZhdWx0UGF0aHMgb2JqZWN0XHJcbiAgICAgICAgY29uc3QgdmF1bHRQYXRoczogVmF1bHRQYXRocyA9IHtcclxuICAgICAgICAgICAgcGx1Z2luRGlyLFxyXG4gICAgICAgICAgICB2YXVsdFBhdGg6IG5vcm1hbGl6ZWRWYXVsdFBhdGgsXHJcbiAgICAgICAgICAgIGJyaWRnZURpcixcclxuICAgICAgICAgICAgcmVzb2x2ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gU3VwcHJlc3MgdmVyYm9zZSBwYXRoIGxvZ2dpbmcuIE9ubHkgbG9nIGNyaXRpY2FsIHBhdGggcmVzb2x1dGlvbiBmYWlsdXJlcy5cclxuICAgICAgICAvLyBDYWNoZSBtZXRyaWNzIHdpbGwgcHJvdmlkZSBvdmVyYXJjaGluZyBpbnNpZ2h0cy5cclxuXHJcbiAgICAgICAgcmV0dXJuIHZhdWx0UGF0aHM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzYW5pdGl6ZUNvbmZpZ0ZvckxvZ2dpbmcoY2ZnOiBhbnkpOiBhbnkge1xyXG4gICAgICAgIGNvbnN0IHNhbml0aXplZDogYW55ID0geyAuLi5jZmcgfTtcclxuICAgICAgICBpZiAoc2FuaXRpemVkLmxsbV9hcGlfa2V5KSBzYW5pdGl6ZWQubGxtX2FwaV9rZXkgPSAnKioqJztcclxuICAgICAgICBpZiAoc2FuaXRpemVkLmVtYmVkZGVyX2FwaV9rZXkpIHNhbml0aXplZC5lbWJlZGRlcl9hcGlfa2V5ID0gJyoqKic7XHJcbiAgICAgICAgaWYgKHNhbml0aXplZC5hcGlfa2V5cykge1xyXG4gICAgICAgICAgICBzYW5pdGl6ZWQuYXBpX2tleXMgPSBPYmplY3Qua2V5cyhzYW5pdGl6ZWQuYXBpX2tleXMpLnJlZHVjZSgoYWNjOiBhbnksIGtleTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBhY2Nba2V5XSA9IHNhbml0aXplZC5hcGlfa2V5c1trZXldID8gJyoqKicgOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICAgICAgfSwge30pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2FuaXRpemVkLmRhdGFiYXNlX3Bhc3N3b3JkKSBzYW5pdGl6ZWQuZGF0YWJhc2VfcGFzc3dvcmQgPSAnKioqJztcclxuICAgICAgICByZXR1cm4gc2FuaXRpemVkO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IEFQSSBrZXkgZm9yIGEgc3BlY2lmaWMgcHJvdmlkZXJcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRBcGlLZXlGb3JQcm92aWRlcihwcm92aWRlcjogc3RyaW5nKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICBzd2l0Y2ggKHByb3ZpZGVyKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ29wZW5haSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5hcGlLZXlzLm9wZW5haTtcclxuICAgICAgICAgICAgY2FzZSAnYW50aHJvcGljJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLmFwaUtleXMuYW50aHJvcGljO1xyXG4gICAgICAgICAgICBjYXNlICdnb29nbGUnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MuYXBpS2V5cy5nb29nbGU7XHJcbiAgICAgICAgICAgIGNhc2UgJ2F6dXJlJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLmFwaUtleXMuYXp1cmU7XHJcbiAgICAgICAgICAgIGNhc2UgJ2dyb3EnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MuYXBpS2V5cy5ncm9xO1xyXG4gICAgICAgICAgICBjYXNlICd2b3lhZ2UnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MuYXBpS2V5cy52b3lhZ2U7XHJcbiAgICAgICAgICAgIGNhc2UgJ3ZlbmljZSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5hcGlLZXlzLnZlbmljZTtcclxuICAgICAgICAgICAgY2FzZSAnb3BlbnJvdXRlcic6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5hcGlLZXlzLm9wZW5yb3V0ZXI7XHJcbiAgICAgICAgICAgIGNhc2UgJ29sbGFtYSc6XHJcbiAgICAgICAgICAgICAgICAvLyBPbGxhbWEgZG9lc24ndCByZXF1aXJlIEFQSSBrZXlzIChsb2NhbClcclxuICAgICAgICAgICAgICAgIHJldHVybiAnbm90LXJlcXVpcmVkJztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBjdXJyZW50IGRhdGFiYXNlIGNvbmZpZ3VyYXRpb24gYmFzZWQgb24gZGF0YWJhc2UgdHlwZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldERhdGFiYXNlQ29uZmlnKCk6IGFueSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZGF0YWJhc2VUeXBlID09PSAnbmVvNGonKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLmRhdGFiYXNlQ29uZmlncy5uZW80ajtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2V0dGluZ3MuZGF0YWJhc2VUeXBlID09PSAnZmFsa29yZGInKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLmRhdGFiYXNlQ29uZmlncy5mYWxrb3JkYjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQcmVwYXJlIGRhdGFiYXNlIGNvbmZpZ3VyYXRpb24gZm9yIFB5dGhvbiBicmlkZ2UgYmFzZWQgb24gZGF0YWJhc2UgdHlwZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHByZXBhcmVEYXRhYmFzZUNvbmZpZygpOiBhbnkge1xyXG4gICAgICAgIGNvbnN0IGRiQ29uZmlnID0gdGhpcy5nZXREYXRhYmFzZUNvbmZpZygpO1xyXG4gICAgICAgIGlmICghZGJDb25maWcpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBkYXRhYmFzZSBjb25maWd1cmF0aW9uIGZvdW5kIGZvciB0eXBlOiAke3RoaXMuc2V0dGluZ3MuZGF0YWJhc2VUeXBlfWApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZGF0YWJhc2VUeXBlID09PSAnbmVvNGonKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBkYXRhYmFzZV91cmw6IGRiQ29uZmlnLnVyaSxcclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlX3VzZXJuYW1lOiBkYkNvbmZpZy51c2VybmFtZSxcclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlX3Bhc3N3b3JkOiBkYkNvbmZpZy5wYXNzd29yZCxcclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlX25hbWU6IGRiQ29uZmlnLmRhdGFiYXNlXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNldHRpbmdzLmRhdGFiYXNlVHlwZSA9PT0gJ2ZhbGtvcmRiJykge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgZGF0YWJhc2VfdXJsOiBgcmVkaXM6Ly8ke2RiQ29uZmlnLmhvc3R9OiR7ZGJDb25maWcucG9ydH1gLFxyXG4gICAgICAgICAgICAgICAgZGF0YWJhc2VfdXNlcm5hbWU6IGRiQ29uZmlnLnVzZXJuYW1lIHx8IG51bGwsICAvLyBGYWxrb3JEQjogdW5kZWZpbmVkIC0+IG51bGxcclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlX3Bhc3N3b3JkOiBkYkNvbmZpZy5wYXNzd29yZCB8fCBudWxsLCAgLy8gRmFsa29yREI6IHVuZGVmaW5lZCAtPiBudWxsXHJcbiAgICAgICAgICAgICAgICBkYXRhYmFzZV9uYW1lOiBkYkNvbmZpZy5kYXRhYmFzZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBkYXRhYmFzZSB0eXBlOiAke3RoaXMuc2V0dGluZ3MuZGF0YWJhc2VUeXBlfWApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVmFsaWRhdGUgc3luYyBjb25maWd1cmF0aW9uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgdmFsaWRhdGVTeW5jQ29uZmlnKGNvbmZpZzogU3luY0NvbmZpZyk6IHsgaXNWYWxpZDogYm9vbGVhbjsgZXJyb3JzOiBzdHJpbmdbXSB9IHtcclxuICAgICAgICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW107XHJcblxyXG4gICAgICAgIGlmICghY29uZmlnLm5vdGVzUGF0aHMgfHwgY29uZmlnLm5vdGVzUGF0aHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKCdObyBub3RlcyBzZWxlY3RlZCBmb3Igc3luYycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNvbmZpZy5iYXRjaFNpemUgPD0gMCkge1xyXG4gICAgICAgICAgICBlcnJvcnMucHVzaCgnQmF0Y2ggc2l6ZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBWYWxpZGF0ZSBzZXR0aW5nc1xyXG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5sbG1Qcm92aWRlcikge1xyXG4gICAgICAgICAgICBlcnJvcnMucHVzaCgnTExNIHByb3ZpZGVyIG5vdCBjb25maWd1cmVkJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBWYWxpZGF0ZSBMTE0gQVBJIGtleSBmb3IgdGhlIHNlbGVjdGVkIHByb3ZpZGVyXHJcbiAgICAgICAgY29uc3QgbGxtQXBpS2V5ID0gdGhpcy5nZXRBcGlLZXlGb3JQcm92aWRlcih0aGlzLnNldHRpbmdzLmxsbVByb3ZpZGVyKTtcclxuICAgICAgICBpZiAoIWxsbUFwaUtleSkge1xyXG4gICAgICAgICAgICBlcnJvcnMucHVzaChgQVBJIGtleSBub3QgY29uZmlndXJlZCBmb3IgTExNIHByb3ZpZGVyOiAke3RoaXMuc2V0dGluZ3MubGxtUHJvdmlkZXJ9YCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlcikge1xyXG4gICAgICAgICAgICBlcnJvcnMucHVzaCgnRW1iZWRkZXIgcHJvdmlkZXIgbm90IGNvbmZpZ3VyZWQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFZhbGlkYXRlIGRhdGFiYXNlIGNvbmZpZ3VyYXRpb24gYmFzZWQgb24gdHlwZVxyXG4gICAgICAgIGNvbnN0IGRiQ29uZmlnID0gdGhpcy5nZXREYXRhYmFzZUNvbmZpZygpO1xyXG4gICAgICAgIGlmICghZGJDb25maWcpIHtcclxuICAgICAgICAgICAgZXJyb3JzLnB1c2goYERhdGFiYXNlIGNvbmZpZ3VyYXRpb24gbm90IGZvdW5kIGZvciB0eXBlOiAke3RoaXMuc2V0dGluZ3MuZGF0YWJhc2VUeXBlfWApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFZhbGlkYXRlIE5lbzRqIGNvbmZpZ3VyYXRpb25cclxuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZGF0YWJhc2VUeXBlID09PSAnbmVvNGonKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWRiQ29uZmlnLnVyaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKCdOZW80aiBVUkkgbm90IGNvbmZpZ3VyZWQnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBWYWxpZGF0ZSBGYWxrb3JEQiBjb25maWd1cmF0aW9uXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuc2V0dGluZ3MuZGF0YWJhc2VUeXBlID09PSAnZmFsa29yZGInKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWRiQ29uZmlnLmhvc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaCgnRmFsa29yREIgaG9zdCBub3QgY29uZmlndXJlZCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFkYkNvbmZpZy5wb3J0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goJ0ZhbGtvckRCIHBvcnQgbm90IGNvbmZpZ3VyZWQnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaXNWYWxpZDogZXJyb3JzLmxlbmd0aCA9PT0gMCxcclxuICAgICAgICAgICAgZXJyb3JzXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFByZXBhcmUgY29uZmlndXJhdGlvbiBmb3IgUHl0aG9uIGJyaWRnZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGFzeW5jIHByZXBhcmVTeW5jQ29uZmlnKGNvbmZpZzogU3luY0NvbmZpZywgdmF1bHRQYXRoPzogc3RyaW5nLCBzb3VyY2VfZGVzY3JpcHRpb24/OiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIC8vIE5FVyBEWU5BTUlDIEFQUFJPQUNIOiBVc2UgdmF1bHRfcGF0aCBmb3IgZHluYW1pYyBtb2RlbCBsb2FkaW5nIGluc3RlYWQgb2YgbW9kZWxzX3BhdGhcclxuICAgICAgICBjb25zdCBmaW5hbFZhdWx0UGF0aCA9IHZhdWx0UGF0aCB8fCB0aGlzLmdldFZhdWx0UGF0aEZhbGxiYWNrKCk7XHJcblxyXG4gICAgICAgIC8vIEZJTkFMIEZJWDogUmVhZCB0aGUgTEFURVNUIHNldHRpbmdzIGRpcmVjdGx5IGZyb20gdGhlIHBsdWdpbiBpbnN0YW5jZVxyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRTZXR0aW5ncyA9ICh0aGlzLnBsdWdpbiBhcyBhbnkpLnNldHRpbmdzO1xyXG5cclxuXHJcbiAgICAgICAgLy8gUmV0cmlldmUgcHJldmlvdXMgZXBpc29kZSBVVUlEcyBmb3Igbm90ZXMgdGhhdCBoYXZlIGJlZW4gc3luY2VkIGJlZm9yZVxyXG4gICAgICAgIGNvbnN0IHByZXZpb3VzX2VwaXNvZGVfdXVpZHM6IHN0cmluZ1tdID0gW107XHJcblxyXG4gICAgICAgIGZvciAoY29uc3Qgbm90ZVBhdGggb2YgY29uZmlnLm5vdGVzUGF0aHMpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhdWx0SWQgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0TmFtZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENhbm9uaWNhbGl6ZSB0aGUgbm90ZSBwYXRoIGludG8gYSB2YXVsdC1yZWxhdGl2ZSBwYXRoIHVzaW5nIHRoZSBzYW1lIG5vcm1hbGl6ZXIgdGhlIFVJIHVzZXMuXHJcbiAgICAgICAgICAgICAgICBsZXQgdmF1bHRSZWxhdGl2ZVBhdGggPSB0aGlzLnN5bmNTdGF0dXNNYW5hZ2VyLm5vcm1hbGl6ZU5vdGVQYXRoKG5vdGVQYXRoLCBmaW5hbFZhdWx0UGF0aCk7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiBub3JtYWxpemUgcmV0dXJuZWQgYW4gYWJzb2x1dGUgcGF0aCwgY29udmVydCB0byB2YXVsdC1yZWxhdGl2ZSB3aGVuIHBvc3NpYmxlXHJcbiAgICAgICAgICAgICAgICBpZiAocGF0aC5pc0Fic29sdXRlKHZhdWx0UmVsYXRpdmVQYXRoKSAmJiBmaW5hbFZhdWx0UGF0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhdWx0UmVsYXRpdmVQYXRoID0gcGF0aC5yZWxhdGl2ZShmaW5hbFZhdWx0UGF0aCwgdmF1bHRSZWxhdGl2ZVBhdGgpLnJlcGxhY2UoL1xcXFwvZywgJy8nKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmF1bHRSZWxhdGl2ZVBhdGggPSB2YXVsdFJlbGF0aXZlUGF0aC5yZXBsYWNlKC9cXFxcL2csICcvJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ1JJVElDQUwgRklYOiBHZXQgVEZpbGUgZmlyc3QgdG8gcmVhZCBtbV91aWQgZnJvbSBmcm9udG1hdHRlclxyXG4gICAgICAgICAgICAgICAgY29uc3Qgbm90ZUZpbGUgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHZhdWx0UmVsYXRpdmVQYXRoKTtcclxuICAgICAgICAgICAgICAgIGlmIChub3RlRmlsZSAmJiBub3RlRmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVhZCBtbV91aWQgZGlyZWN0bHkgZnJvbSBmcm9udG1hdHRlclxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1tVWlkID0gYXdhaXQgRnJvbnRtYXR0ZXJVdGlscy5yZWFkTW1VaWQodGhpcy5wbHVnaW4uYXBwLCBub3RlRmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1tVWlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIGV4aXN0aW5nIG1tX3VpZCAtIGFkZCB0byBwcmV2aW91cyBlcGlzb2RlcyB0byBwcmV2ZW50IGR1cGxpY2F0ZSBjcmVhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c19lcGlzb2RlX3V1aWRzLnB1c2gobW1VaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnUmV0cmlldmVkIHByZXZpb3VzIGVwaXNvZGUgVVVJRCBmcm9tIGZyb250bWF0dGVyJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90ZVBhdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXVsdFJlbGF0aXZlUGF0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1tVWlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTm8gbW1fdWlkIGZvdW5kIGluIGZyb250bWF0dGVyIC0gdGhpcyBpcyBhIG5ldyBub3RlXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnTm8gcHJldmlvdXMgZXBpc29kZSBVVUlEIGZvdW5kIC0gbmV3IG5vdGUgd2lsbCBnZXQgZnJlc2ggZXBpc29kZScsIHtcclxuICAgICAgICAgICAgICAgICAgICBub3RlUGF0aCxcclxuICAgICAgICAgICAgICAgICAgICB2YXVsdFJlbGF0aXZlUGF0aFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0Vycm9yIHJldHJpZXZpbmcgZXBpc29kZSBVVUlEIGZvciBub3RlJywgeyBub3RlUGF0aCwgZXJyb3IgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQHZlc3NlbC1jbG9zZTpPZGluXHJcblxyXG4gICAgICAgIGNvbnN0IHN5bmNDb25maWcgPSB7XHJcbiAgICAgICAgICAgIC8vIExMTSBDb25maWd1cmF0aW9uXHJcbiAgICAgICAgICAgIGxsbV9wcm92aWRlcjogY3VycmVudFNldHRpbmdzLmxsbVByb3ZpZGVyLFxyXG4gICAgICAgICAgICBsbG1fYXBpX2tleTogdGhpcy5nZXRBcGlLZXlGb3JQcm92aWRlcihjdXJyZW50U2V0dGluZ3MubGxtUHJvdmlkZXIpLFxyXG4gICAgICAgICAgICBsbG1fbW9kZWw6IGN1cnJlbnRTZXR0aW5ncy5sbG1Nb2RlbCxcclxuICAgICAgICAgICAgbGxtX3NtYWxsX21vZGVsOiBjdXJyZW50U2V0dGluZ3MubGxtU21hbGxNb2RlbCxcclxuICAgICAgICAgICAgYXp1cmVfZW5kcG9pbnQ6IGN1cnJlbnRTZXR0aW5ncy5henVyZUVuZHBvaW50LFxyXG4gICAgICAgICAgICBhenVyZV9hcGlfdmVyc2lvbjogY3VycmVudFNldHRpbmdzLmF6dXJlQXBpVmVyc2lvbixcclxuICAgICAgICAgICAgb2xsYW1hX2Jhc2VfdXJsOiBjdXJyZW50U2V0dGluZ3Mub2xsYW1hQmFzZVVybCxcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIE9wZW5Sb3V0ZXIgQ29uZmlndXJhdGlvblxyXG4gICAgICAgICAgICBvcGVucm91dGVyX3ByZXNldF9zbHVnOiBjdXJyZW50U2V0dGluZ3Mub3BlbnJvdXRlclByZXNldFNsdWcsXHJcbiAgICAgICAgICAgIG9wZW5yb3V0ZXJfdXNlX3ByZXNldF93aXRoX2N1c3RvbV9tb2RlbDogY3VycmVudFNldHRpbmdzLm9wZW5yb3V0ZXJVc2VQcmVzZXRXaXRoQ3VzdG9tTW9kZWwsXHJcblxyXG4gICAgICAgICAgICAvLyBFbWJlZGRlciBDb25maWd1cmF0aW9uXHJcbiAgICAgICAgICAgIGVtYmVkZGVyX3Byb3ZpZGVyOiBjdXJyZW50U2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlcixcclxuICAgICAgICAgICAgZW1iZWRkZXJfYXBpX2tleTogdGhpcy5nZXRBcGlLZXlGb3JQcm92aWRlcihjdXJyZW50U2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlciksXHJcbiAgICAgICAgICAgIGVtYmVkZGluZ19tb2RlbDogY3VycmVudFNldHRpbmdzLmVtYmVkZGluZ01vZGVsLFxyXG5cclxuICAgICAgICAgICAgLy8gTkVXIEZPUk1BVDogQWRkIGFwaV9rZXlzIG9iamVjdCBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIHN5bmMucHkgZmFsbGJhY2sgbG9naWNcclxuICAgICAgICAgICAgYXBpX2tleXM6IGN1cnJlbnRTZXR0aW5ncy5hcGlLZXlzLFxyXG5cclxuICAgICAgICAgICAgLy8gRGF0YWJhc2UgQ29uZmlndXJhdGlvbiAtIEdldCBmcm9tIGFwcHJvcHJpYXRlIGNvbmZpZ1xyXG4gICAgICAgICAgICBkYXRhYmFzZV90eXBlOiBjdXJyZW50U2V0dGluZ3MuZGF0YWJhc2VUeXBlLFxyXG4gICAgICAgICAgICAuLi50aGlzLnByZXBhcmVEYXRhYmFzZUNvbmZpZygpLFxyXG5cclxuICAgICAgICAgICAgLy8gRXBpc29kZSBhbmQgT250b2xvZ3kgQ29uZmlndXJhdGlvblxyXG4gICAgICAgICAgICB1c2VfY3VzdG9tX29udG9sb2d5OiBjdXJyZW50U2V0dGluZ3MudXNlQ3VzdG9tT250b2xvZ3ksXHJcbiAgICAgICAgICAgIGRlZmF1bHRfbmFtZXNwYWNlOiBjdXJyZW50U2V0dGluZ3MuZGVmYXVsdE5hbWVzcGFjZSxcclxuICAgICAgICAgICAgZW5hYmxlX2ZvbGRlcl9uYW1lc3BhY2luZzogY3VycmVudFNldHRpbmdzLmVuYWJsZUZvbGRlck5hbWVzcGFjaW5nLFxyXG4gICAgICAgICAgICBlbmFibGVfcHJvcGVydHlfbmFtZXNwYWNpbmc6IGN1cnJlbnRTZXR0aW5ncy5lbmFibGVQcm9wZXJ0eU5hbWVzcGFjaW5nLFxyXG4gICAgICAgICAgICBuYW1lc3BhY2Vfc3RyYXRlZ3k6IGN1cnJlbnRTZXR0aW5ncy5uYW1lc3BhY2VTdHJhdGVneSxcclxuICAgICAgICAgICAgZm9sZGVyX25hbWVzcGFjZV9tYXBwaW5nczogY3VycmVudFNldHRpbmdzLmZvbGRlck5hbWVzcGFjZU1hcHBpbmdzLFxyXG5cclxuICAgICAgICAgICAgLy8gU3luYyBDb25maWd1cmF0aW9uXHJcbiAgICAgICAgICAgIG5vdGVzOiBjb25maWcubm90ZXNQYXRocyxcclxuICAgICAgICAgICAgYmF0Y2hfc2l6ZTogY29uZmlnLmJhdGNoU2l6ZSxcclxuICAgICAgICAgICAgZGVidWc6IGN1cnJlbnRTZXR0aW5ncy5lbmFibGVEZWJ1Z0xvZ2dpbmcsIC8vIFVzZSB0aGUgbGl2ZSBzZXR0aW5nXHJcbiAgICAgICAgICAgIHZhdWx0X3BhdGg6IGZpbmFsVmF1bHRQYXRoLCAgLy8gTkVXOiB2YXVsdF9wYXRoIGZvciBkeW5hbWljIG1vZGVsIGxvYWRpbmdcclxuICAgICAgICAgICAgc291cmNlX2Rlc2NyaXB0aW9uOiBzb3VyY2VfZGVzY3JpcHRpb24gfHwgY29uZmlnLnNvdXJjZV9kZXNjcmlwdGlvbiB8fCAnb2JzaWRpYW5fbW1faW5kaXZpZHVhbCcsXHJcblxyXG4gICAgICAgICAgICAvLyBDcm9zcy1lbmNvZGVyIENvbmZpZ3VyYXRpb24gLSBDUklUSUNBTCBGSVggZm9yIHN5bmMucHkgY29tcGF0aWJpbGl0eVxyXG4gICAgICAgICAgICBjcm9zc19lbmNvZGVyX2NsaWVudDogY29uZmlnLmNyb3NzRW5jb2RlckNsaWVudCB8fCBjdXJyZW50U2V0dGluZ3MuY3Jvc3NFbmNvZGVyQ2xpZW50IHx8ICdub25lJyxcclxuICAgICAgICAgICAgY3Jvc3NfZW5jb2Rlcl9tb2RlbDogKGN1cnJlbnRTZXR0aW5ncy5jcm9zc0VuY29kZXJDbGllbnQgPT09ICdiZ2UnIHx8IGN1cnJlbnRTZXR0aW5ncy5jcm9zc0VuY29kZXJDbGllbnQgPT09ICdub25lJylcclxuICAgICAgICAgICAgICAgID8gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICA6IChjb25maWcuY3Jvc3NFbmNvZGVyTW9kZWwgfHwgY3VycmVudFNldHRpbmdzLmNyb3NzRW5jb2Rlck1vZGVsKSxcclxuXHJcbiAgICAgICAgICAgIC8vIFByZXZpb3VzIGVwaXNvZGUgVVVJRHMgZm9yIHZlcnNpb24gdHJhY2tpbmdcclxuICAgICAgICAgICAgcHJldmlvdXNfZXBpc29kZV91dWlkczogcHJldmlvdXNfZXBpc29kZV91dWlkc1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oYFN5bmMgY29uZmlndXJhdGlvbiBwcmVwYXJlZDogVG90YWwgbm90ZXM6ICR7Y29uZmlnLm5vdGVzUGF0aHMubGVuZ3RofSwgUHJldmlvdXMgZXBpc29kZXM6ICR7cHJldmlvdXNfZXBpc29kZV91dWlkcy5sZW5ndGh9LCBGaXJzdCB0aW1lIHN5bmM6ICR7Y29uZmlnLm5vdGVzUGF0aHMubGVuZ3RoIC0gcHJldmlvdXNfZXBpc29kZV91dWlkcy5sZW5ndGh9YCk7XHJcblxyXG4gICAgICAgIHJldHVybiBzeW5jQ29uZmlnO1xyXG4gICAgfVxyXG4gICAgLy8gQHZlc3NlbC1jbG9zZTpGcmlnZ1xyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgZXhlY3V0ZVB5dGhvblN5bmMoXHJcbiAgICAgICAgY29uZmlnOiBhbnksXHJcbiAgICAgICAgb25Qcm9ncmVzcz86IChwcm9ncmVzczogU3luY1Byb2dyZXNzKSA9PiB2b2lkXHJcbiAgICApOiBQcm9taXNlPFN5bmNSZXN1bHQ+IHtcclxuICAgICAgICAvLyBAcHVycG9zZTogUm91dGUgdG8gZGFlbW9uIG9yIHRyYWRpdGlvbmFsIHN5bmMgYmFzZWQgb24gZXhwZXJpbWVudGFsRGFlbW9uTW9kZSBAZGVwZW5kczogUHl0aG9uRGFlbW9uQnJpZGdlIEByZXN1bHRzOiBQZXJmb3JtYW5jZSBvcHRpbWl6ZWQgc3luY1xyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmV4cGVyaW1lbnRhbERhZW1vbk1vZGUgJiYgKHRoaXMucGx1Z2luIGFzIGFueSkucHl0aG9uRGFlbW9uQnJpZGdlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1VzaW5nIGRhZW1vbiBtb2RlIGZvciBzeW5jJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmV4ZWN1dGVEYWVtb25TeW5jKGNvbmZpZywgb25Qcm9ncmVzcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBUcmFkaXRpb25hbCBzeW5jIHBhdGhcclxuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdVc2luZyB0cmFkaXRpb25hbCBzeW5jIG1vZGUnKTtcclxuICAgICAgICBjb25zdCB7IGJyaWRnZURpcjogYnJpZGdlUGF0aCB9ID0gdGhpcy5nZXRWYXVsdEF3YXJlUGF0aHMoKTtcclxuICAgICAgICBjb25zdCBzeW5jU2NyaXB0ID0gam9pbihicmlkZ2VQYXRoLCAnc3luYy5weScpO1xyXG5cclxuICAgICAgICAvLyBOb3JtYWxpemUgbm90ZXMgYXJyYXkgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBkaWZmZXJlbnQgY29uZmlnIHNoYXBlc1xyXG4gICAgICAgIGxldCBub3Rlczogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb25maWcubm90ZXMpICYmIGNvbmZpZy5ub3Rlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIG5vdGVzID0gY29uZmlnLm5vdGVzO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjb25maWcubm90ZXNQYXRocykgJiYgY29uZmlnLm5vdGVzUGF0aHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBub3RlcyA9IGNvbmZpZy5ub3Rlc1BhdGhzO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbmZpZy5ub3RlcyA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgbm90ZXMgPSBbY29uZmlnLm5vdGVzXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEhlbHBlciB0byBydW4gYSBzaW5nbGUtbm90ZSBweXRob24gc3luYyBhbmQgcmV0dXJuIGEgcGFyc2VkIHJlc3VsdCBvciBmYWlsdXJlIGRldGFpbHNcclxuICAgICAgICBjb25zdCBydW5TaW5nbGVTeW5jID0gKHNpbmdsZUNvbmZpZzogYW55KTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IHJlc3VsdD86IGFueTsgc3Rkb3V0Pzogc3RyaW5nOyBzdGRlcnI/OiBzdHJpbmc7IGV4aXRDb2RlPzogbnVtYmVyIH0+ID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCBwbHVnaW4gZGlyZWN0b3J5IHRvIHBhc3MgdG8gUHl0aG9uIGZvciBkYXRhLmpzb24gbG9jYXRpb25cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHBsdWdpbkRpciB9ID0gdGhpcy5nZXRWYXVsdEF3YXJlUGF0aHMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5weXRob25Qcm9jZXNzID0gc3Bhd24oJ3B5dGhvbicsIFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3luY1NjcmlwdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJy0tdmF1bHQtcGF0aCcsIHNpbmdsZUNvbmZpZy52YXVsdF9wYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnLS1wbHVnaW4tZGF0YS1wYXRoJywgcGx1Z2luRGlyXHJcbiAgICAgICAgICAgICAgICAgICAgXSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjd2Q6IGJyaWRnZVBhdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ZGlvOiBbJ3BpcGUnLCAncGlwZScsICdwaXBlJ11cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVHJhY2sgcHJvY2VzcyBmb3IgY2FuY2VsbGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVQcm9jZXNzZXMuYWRkKHRoaXMucHl0aG9uUHJvY2Vzcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFdyaXRlIGlucHV0IGFuZCBjbG9zZSBzdGRpblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHl0aG9uUHJvY2Vzcy5zdGRpbj8ud3JpdGUoSlNPTi5zdHJpbmdpZnkoc2luZ2xlQ29uZmlnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5weXRob25Qcm9jZXNzLnN0ZGluPy5lbmQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG91dCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlcnIgPSAnJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5weXRob25Qcm9jZXNzLnN0ZG91dD8ub24oJ2RhdGEnLCAoZGF0YTogQnVmZmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBkYXRhLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dCArPSB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IGxvZyBzdGRvdXQgaW4gZGVidWcgbW9kZSB0byBhdm9pZCBKU09OIHNwYW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZW5hYmxlRGVidWdMb2dnaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2dQeXRob25PdXRwdXQoJ3N0ZG91dCcsIHRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHl0aG9uUHJvY2Vzcy5zdGRlcnI/Lm9uKCdkYXRhJywgKGRhdGE6IEJ1ZmZlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gZGF0YS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnIgKz0gdGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWx3YXlzIGxvZyBzdGRlcnIgKGNvbnRhaW5zIGVycm9ycy93YXJuaW5ncy9kZWJ1ZylcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nUHl0aG9uT3V0cHV0KCdzdGRlcnInLCB0ZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5weXRob25Qcm9jZXNzLm9uKCdjbG9zZScsIChjb2RlOiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGZyb20gYWN0aXZlIHByb2Nlc3NlcyBhbmQgY2xlYXIgcmVmZXJlbmNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlUHJvY2Vzc2VzLmRlbGV0ZSh0aGlzLnB5dGhvblByb2Nlc3MhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5weXRob25Qcm9jZXNzID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2RlID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2Uob3V0LnRyaW0oKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTG9nIFB5dGhvbiBkaWFnbm9zdGljcyBpZiBwcmVzZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZC5fZGlhZ25vc3RpY3MgJiYgQXJyYXkuaXNBcnJheShwYXJzZWQuX2RpYWdub3N0aWNzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRpYWdub3N0aWMgb2YgcGFyc2VkLl9kaWFnbm9zdGljcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhgW1BZVEhPTi1ESUFHTk9TVElDU10gJHtkaWFnbm9zdGljfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoeyBzdWNjZXNzOiB0cnVlLCByZXN1bHQ6IHBhcnNlZCwgc3Rkb3V0OiBvdXQsIHN0ZGVycjogZXJyLCBleGl0Q29kZTogY29kZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKHBhcnNlRXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7IHN1Y2Nlc3M6IGZhbHNlLCBzdGRvdXQ6IG91dCwgc3RkZXJyOiBlcnIgfHwgU3RyaW5nKHBhcnNlRXJyKSwgZXhpdENvZGU6IGNvZGUgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsgc3VjY2VzczogZmFsc2UsIHN0ZG91dDogb3V0LCBzdGRlcnI6IGVyciwgZXhpdENvZGU6IGNvZGUgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5weXRob25Qcm9jZXNzLm9uKCdlcnJvcicsIChlcnJvcjogRXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHl0aG9uUHJvY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVQcm9jZXNzZXMuZGVsZXRlKHRoaXMucHl0aG9uUHJvY2Vzcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5weXRob25Qcm9jZXNzID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7IHN1Y2Nlc3M6IGZhbHNlLCBzdGRvdXQ6IHVuZGVmaW5lZCwgc3RkZXJyOiBlcnJvci5tZXNzYWdlLCBleGl0Q29kZTogLTEgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHl0aG9uUHJvY2VzcyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7IHN1Y2Nlc3M6IGZhbHNlLCBzdGRvdXQ6IHVuZGVmaW5lZCwgc3RkZXJyOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvciksIGV4aXRDb2RlOiAtMSB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgb25lIG9yIHplcm8gbm90ZXMsIHByZXNlcnZlIG9yaWdpbmFsIHNpbmdsZS1jYWxsIGJlaGF2aW9yIGFuZCByZXR1cm4gUHl0aG9uJ3MgcmVzdWx0IGRpcmVjdGx5XHJcbiAgICAgICAgaWYgKG5vdGVzLmxlbmd0aCA8PSAxKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5vdGVQYXRoRm9yR3JvdXAgPSBub3Rlcy5sZW5ndGggPT09IDFcclxuICAgICAgICAgICAgICAgID8gbm90ZXNbMF1cclxuICAgICAgICAgICAgICAgIDogKEFycmF5LmlzQXJyYXkoY29uZmlnLm5vdGVzKSAmJiBjb25maWcubm90ZXMubGVuZ3RoID4gMCA/IGNvbmZpZy5ub3Rlc1swXSA6IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgIGxldCBncm91cElkT3ZlcnJpZGU6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgaWYgKG5vdGVQYXRoRm9yR3JvdXApIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZE92ZXJyaWRlID0gYXdhaXQgdGhpcy5zeW5jUmVnaXN0cnlTZXJ2aWNlLmdlbmVyYXRlR3JvdXBJZChub3RlUGF0aEZvckdyb3VwLCB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0TmFtZSgpKTtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2gge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGJlc3QtZWZmb3J0OyBmYWxsIGJhY2sgdG8gUHl0aG9uIHJlc29sdXRpb24gaWYgZ2VuZXJhdGlvbiBmYWlsc1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHNpbmdsZUNvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgIC4uLmNvbmZpZyxcclxuICAgICAgICAgICAgICAgIC4uLihncm91cElkT3ZlcnJpZGUgPyB7IGdyb3VwX2lkOiBncm91cElkT3ZlcnJpZGUgfSA6IHt9KSxcclxuICAgICAgICAgICAgICAgIG5vdGVzOiBub3Rlcy5sZW5ndGggPT09IDEgPyBub3RlcyA6IGNvbmZpZy5ub3Rlc1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjb25zdCByID0gYXdhaXQgcnVuU2luZ2xlU3luYyhzaW5nbGVDb25maWcpO1xyXG4gICAgICAgICAgICBpZiAoci5zdWNjZXNzICYmIHIucmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgcmF0ZSBsaW1pdGluZyBpbiBzaW5nbGUtbm90ZSBzeW5jIHdpdGggZW5oYW5jZWQgZmVlZGJhY2tcclxuICAgICAgICAgICAgICAgIGlmIChyLnJlc3VsdC5zdGF0dXMgPT09ICdyYXRlX2xpbWl0ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmV0cnlBZnRlciA9IHIucmVzdWx0LnJldHJ5X2FmdGVyIHx8IDYwO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc2V0VGltZSA9IHIucmVzdWx0LnJlc2V0X3RpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvdmlkZXJNZXNzYWdlID0gci5yZXN1bHQucHJvdmlkZXJfbWVzc2FnZSB8fCAnQVBJIHJhdGUgbGltaXQgZXhjZWVkZWQnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdXNlci1mcmllbmRseSBtZXNzYWdlIHdpdGggdGltaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhdXNlTWVzc2FnZSA9IGBSYXRlIGxpbWl0IGV4Y2VlZGVkIC0gc3luYyBwYXVzZWRgO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNldFRpbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzZXREYXRlID0gbmV3IERhdGUocmVzZXRUaW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF1c2VNZXNzYWdlICs9IGAgdW50aWwgJHtyZXNldERhdGUudG9Mb2NhbGVTdHJpbmcoKX1gO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdXNlTWVzc2FnZSArPSBgIGZvciAke01hdGgucm91bmQocmV0cnlBZnRlciAvIDYwKX0gbWludXRlc2A7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdSYXRlIGxpbWl0IGRldGVjdGVkIGluIHNpbmdsZSBzeW5jIC0gcGF1c2luZycsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0cnlBZnRlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRUaW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlck1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdXNlTWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2tpcHBlZDogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWw6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhdGNoQ291bnQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRnZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBwYXVzZU1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIHRoZSByYXcgcGFyc2VkIFB5dGhvbiByZXN1bHQgKG1haW50YWlucyBiYWNrd2FyZCBjb21wYXRpYmlsaXR5KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHIucmVzdWx0IGFzIFN5bmNSZXN1bHQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYFB5dGhvbiBzeW5jIGZhaWxlZCR7ci5leGl0Q29kZSAhPT0gdW5kZWZpbmVkID8gYCB3aXRoIGV4aXQgY29kZSAke3IuZXhpdENvZGV9YCA6ICcnfTogJHtyLnN0ZGVyciB8fCByLnN0ZG91dCB8fCAnVW5rbm93biBlcnJvcid9YDtcclxuICAgICAgICAgICAgICAgIC8vIFRydW5jYXRlIHN0ZGVyciB0byBmaXJzdCBsaW5lIGZvciBjbGVhbiBsb2dnaW5nXHJcbiAgICAgICAgICAgICAgICBjb25zdCB0cnVuY2F0ZWRTdGRlcnIgPSByLnN0ZGVyciA/IHIuc3RkZXJyLnNwbGl0KCdcXG4nKVswXSA6ICdVbmtub3duIGVycm9yJztcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdQeXRob24gc3luYyBwcm9jZXNzIGZhaWxlZCcsIHtcclxuICAgICAgICAgICAgICAgICAgICBleGl0Q29kZTogci5leGl0Q29kZSxcclxuICAgICAgICAgICAgICAgICAgICBzdGRlcnI6IHRydW5jYXRlZFN0ZGVycixcclxuICAgICAgICAgICAgICAgICAgICBzdGRlcnJMZW5ndGg6IHIuc3RkZXJyID8gci5zdGRlcnIubGVuZ3RoIDogMFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgc2tpcHBlZDogbm90ZXMubGVuZ3RoIHx8IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWw6IG5vdGVzLmxlbmd0aCB8fCAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGJhdGNoQ291bnQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGVkZ2VUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBPdGhlcndpc2UsIHByb2Nlc3Mgbm90ZXMgc2VxdWVudGlhbGx5IChvbmUgUHl0aG9uIHByb2Nlc3MgcGVyIG5vdGUpXHJcbiAgICAgICAgbGV0IHByb2Nlc3NlZCA9IDA7XHJcbiAgICAgICAgbGV0IHNraXBwZWQgPSAwO1xyXG4gICAgICAgIGxldCBub2RlVHlwZXNMb2FkZWQgPSAwO1xyXG4gICAgICAgIGxldCBlZGdlVHlwZXNMb2FkZWQgPSAwO1xyXG4gICAgICAgIGNvbnN0IGVycm9yczogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICBjb25zdCBub3RlUmVzdWx0czogYW55W10gPSBbXTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub3Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgY2FuY2VsbGF0aW9uIGJlZm9yZSBwcm9jZXNzaW5nIGVhY2ggbm90ZVxyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0NhbmNlbGxlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnW0NBTkNFTF0gU2VxdWVudGlhbCBzeW5jIGNhbmNlbGxlZCBieSB1c2VyJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgc2tpcHBlZDogc2tpcHBlZCArIChub3Rlcy5sZW5ndGggLSBpKSxcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbDogbm90ZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgIGJhdGNoQ291bnQ6IG5vdGVzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICBub2RlVHlwZXNMb2FkZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZWRnZVR5cGVzTG9hZGVkLFxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yczogWy4uLmVycm9ycywgJ1N5bmMgY2FuY2VsbGVkIGJ5IHVzZXInXSxcclxuICAgICAgICAgICAgICAgICAgICBoYXNFcnJvcnM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbm90ZXM6IG5vdGVSZXN1bHRzXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBub3RlID0gbm90ZXNbaV07XHJcblxyXG4gICAgICAgICAgICBvblByb2dyZXNzPy4oe1xyXG4gICAgICAgICAgICAgICAgY3VycmVudDogaSxcclxuICAgICAgICAgICAgICAgIHRvdGFsOiBub3Rlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgUHJvY2Vzc2luZyBub3RlICR7aSArIDF9LyR7bm90ZXMubGVuZ3RofTogJHtub3RlfWAsXHJcbiAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiAoaSAvIG5vdGVzLmxlbmd0aCkgKiAxMDBcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBCdWlsZCBhIHNpbmdsZS1ub3RlIGNvbmZpZyBmb3IgdGhlIFB5dGhvbiBicmlkZ2UgKGluY2x1ZGUgcmVzb2x2ZWQgZ3JvdXBfaWQgb3ZlcnJpZGUpXHJcbiAgICAgICAgICAgIGxldCBncm91cElkT3ZlcnJpZGU6IHN0cmluZyB8IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGdyb3VwSWRPdmVycmlkZSA9IGF3YWl0IHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZS5nZW5lcmF0ZUdyb3VwSWQobm90ZSwgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmdldE5hbWUoKSk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2gge1xyXG4gICAgICAgICAgICAgICAgLy8gYmVzdC1lZmZvcnQ7IGZhbGwgYmFjayB0byBQeXRob24gcmVzb2x1dGlvbiBpZiBnZW5lcmF0aW9uIGZhaWxzXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgc2luZ2xlQ29uZmlnID0ge1xyXG4gICAgICAgICAgICAgICAgLi4uY29uZmlnLFxyXG4gICAgICAgICAgICAgICAgLi4uKGdyb3VwSWRPdmVycmlkZSA/IHsgZ3JvdXBfaWQ6IGdyb3VwSWRPdmVycmlkZSB9IDoge30pLFxyXG4gICAgICAgICAgICAgICAgbm90ZXM6IFtub3RlXSxcclxuICAgICAgICAgICAgICAgIGJhdGNoX3NpemU6IDEsXHJcbiAgICAgICAgICAgICAgICAvLyBrZWVwIGJhY2t3YXJkLWNvbXBhdGlibGUga2V5IG5hbWVzIHVzZWQgYnkgUHl0aG9uIGJyaWRnZVxyXG4gICAgICAgICAgICAgICAgbm90ZXNQYXRoczogW25vdGVdXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBjb25zdCByZXN1bHRXcmFwcGVyID0gYXdhaXQgcnVuU2luZ2xlU3luYyhzaW5nbGVDb25maWcpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHJlc3VsdFdyYXBwZXIuc3VjY2VzcyAmJiByZXN1bHRXcmFwcGVyLnJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gcmVzdWx0V3JhcHBlci5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgcmF0ZSBsaW1pdGluZyB3aXRoIGVuaGFuY2VkIHBhdXNlIGxvZ2ljXHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ3JhdGVfbGltaXRlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBza2lwcGVkKys7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmV0cnlBZnRlciA9IHJlc3VsdC5yZXRyeV9hZnRlciB8fCA2MDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNldFRpbWUgPSByZXN1bHQucmVzZXRfdGltZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm92aWRlck1lc3NhZ2UgPSByZXN1bHQucHJvdmlkZXJfbWVzc2FnZSB8fCAnQVBJIHJhdGUgbGltaXQgZXhjZWVkZWQnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdXNlci1mcmllbmRseSBtZXNzYWdlIHdpdGggdGltaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhdXNlTWVzc2FnZSA9IGBSYXRlIGxpbWl0IGV4Y2VlZGVkIC0gc3luYyBwYXVzZWRgO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNldFRpbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzZXREYXRlID0gbmV3IERhdGUocmVzZXRUaW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF1c2VNZXNzYWdlICs9IGAgdW50aWwgJHtyZXNldERhdGUudG9Mb2NhbGVTdHJpbmcoKX1gO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdXNlTWVzc2FnZSArPSBgIGZvciAke01hdGgucm91bmQocmV0cnlBZnRlciAvIDYwKX0gbWludXRlc2A7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChgTm90ZSAke25vdGV9OiAke3BhdXNlTWVzc2FnZX1gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRW5oYW5jZWQgbG9nZ2luZyB3aXRoIHJlc2V0IHRpbWUgaW5mb3JtYXRpb25cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdSYXRlIGxpbWl0IGRldGVjdGVkIC0gc3luYyBwYXVzaW5nJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub3RlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXRyeUFmdGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNldFRpbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyTWVzc2FnZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF1c2VNZXNzYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBwcm9ncmVzcyB0byBzaG93IHBhdXNlIHN0YXR1c1xyXG4gICAgICAgICAgICAgICAgICAgIG9uUHJvZ3Jlc3M/Lih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQ6IGksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiBub3Rlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHBhdXNlTWVzc2FnZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGVyY2VudGFnZTogKGkgLyBub3Rlcy5sZW5ndGgpICogMTAwXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG5vdGVSZXN1bHRzLnB1c2gocmVzdWx0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSW50ZWxsaWdlbnQgZGVsYXk6IGxvbmdlciBwYXVzZSBmb3IgYWN0dWFsIHJhdGUgbGltaXRzLCBzaG9ydGVyIGZvciB0ZXN0aW5nXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF4RGVsYXkgPSByZXRyeUFmdGVyID4gMzAwID8gMzAwMDAgOiBNYXRoLm1pbihyZXRyeUFmdGVyICogMTAwMCwgMTAwMDApOyAvLyBNYXggMzBzIGZvciBsb25nIGxpbWl0cywgMTBzIGZvciBzaG9ydFxyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtYXhEZWxheSkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBBZnRlciBkZWxheSwgdXBkYXRlIHByb2dyZXNzIHRvIHNob3cgcmVzdW1pbmdcclxuICAgICAgICAgICAgICAgICAgICBvblByb2dyZXNzPy4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50OiBpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogbm90ZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgUmVzdW1pbmcgc3luYyBhZnRlciByYXRlIGxpbWl0IHBhdXNlLi4uYCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGVyY2VudGFnZTogKGkgLyBub3Rlcy5sZW5ndGgpICogMTAwXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBSZXNwZWN0IFB5dGhvbidzIHJlc3VsdC5zdGF0dXMgaWYgcHJlc2VudFxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkKys7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHNraXBwZWQrKztcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChgTm90ZSAke25vdGV9OiAke3Jlc3VsdC5tZXNzYWdlIHx8ICdmYWlsZWQnfWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQubm9kZVR5cGVzTG9hZGVkID09PSAnbnVtYmVyJykgbm9kZVR5cGVzTG9hZGVkICs9IHJlc3VsdC5ub2RlVHlwZXNMb2FkZWQ7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlc3VsdC5lZGdlVHlwZXNMb2FkZWQgPT09ICdudW1iZXInKSBlZGdlVHlwZXNMb2FkZWQgKz0gcmVzdWx0LmVkZ2VUeXBlc0xvYWRlZDtcclxuICAgICAgICAgICAgICAgIG5vdGVSZXN1bHRzLnB1c2gocmVzdWx0KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNraXBwZWQrKztcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVyck1zZyA9IGBQeXRob24gc3luYyBmYWlsZWQgZm9yIG5vdGUgJHtub3RlfSAoZXhpdENvZGU9JHtyZXN1bHRXcmFwcGVyLmV4aXRDb2RlfSk6ICR7cmVzdWx0V3JhcHBlci5zdGRlcnIgfHwgcmVzdWx0V3JhcHBlci5zdGRvdXQgfHwgJyd9YDtcclxuICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGVyck1zZyk7XHJcbiAgICAgICAgICAgICAgICAvLyBUcnVuY2F0ZSBzdGRlcnIgdG8gZmlyc3QgbGluZSBmb3IgY2xlYW4gbG9nZ2luZ1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHJ1bmNhdGVkU3RkZXJyID0gcmVzdWx0V3JhcHBlci5zdGRlcnIgPyByZXN1bHRXcmFwcGVyLnN0ZGVyci5zcGxpdCgnXFxuJylbMF0gOiAnVW5rbm93biBlcnJvcic7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignUHl0aG9uIHN5bmMgZmFpbGVkIGZvciBub3RlJywge1xyXG4gICAgICAgICAgICAgICAgICAgIG5vdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgZXhpdENvZGU6IHJlc3VsdFdyYXBwZXIuZXhpdENvZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RkZXJyOiB0cnVuY2F0ZWRTdGRlcnIsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RkZXJyTGVuZ3RoOiByZXN1bHRXcmFwcGVyLnN0ZGVyciA/IHJlc3VsdFdyYXBwZXIuc3RkZXJyLmxlbmd0aCA6IDBcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBvblByb2dyZXNzPy4oe1xyXG4gICAgICAgICAgICAgICAgY3VycmVudDogaSArIDEsXHJcbiAgICAgICAgICAgICAgICB0b3RhbDogbm90ZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogYENvbXBsZXRlZCAke25vdGV9YCxcclxuICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2U6ICgoaSArIDEpIC8gbm90ZXMubGVuZ3RoKSAqIDEwMFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIFNtYWxsIGRlbGF5IHRvIHJlZHVjZSByaXNrIG9mIHJhY2UgY29uZGl0aW9ucyAvIGR1cGxpY2F0ZSBlbnRpdHkgY3JlYXRpb24gaW4gR3JhcGhpdGlcclxuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlcykgPT4gc2V0VGltZW91dChyZXMsIDUwMCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gcHJvY2Vzc2VkID4gMCA/ICdzdWNjZXNzJyA6ICdlcnJvcic7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc3RhdHVzLFxyXG4gICAgICAgICAgICBwcm9jZXNzZWQsXHJcbiAgICAgICAgICAgIHNraXBwZWQsXHJcbiAgICAgICAgICAgIHRvdGFsOiBub3Rlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgIGJhdGNoQ291bnQ6IG5vdGVzLmxlbmd0aCxcclxuICAgICAgICAgICAgbm9kZVR5cGVzTG9hZGVkLFxyXG4gICAgICAgICAgICBlZGdlVHlwZXNMb2FkZWQsXHJcbiAgICAgICAgICAgIGVycm9ycyxcclxuICAgICAgICAgICAgaGFzRXJyb3JzOiBlcnJvcnMubGVuZ3RoID4gMCxcclxuICAgICAgICAgICAgbm90ZXM6IG5vdGVSZXN1bHRzXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEV4ZWN1dGUgc3luYyB1c2luZyB0aGUgZGFlbW9uIGJyaWRnZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGFzeW5jIGV4ZWN1dGVEYWVtb25TeW5jKFxyXG4gICAgICAgIGNvbmZpZzogYW55LFxyXG4gICAgICAgIG9uUHJvZ3Jlc3M/OiAocHJvZ3Jlc3M6IFN5bmNQcm9ncmVzcykgPT4gdm9pZFxyXG4gICAgKTogUHJvbWlzZTxTeW5jUmVzdWx0PiB7XHJcbiAgICAgICAgY29uc3QgZGFlbW9uQnJpZGdlID0gKHRoaXMucGx1Z2luIGFzIGFueSkucHl0aG9uRGFlbW9uQnJpZGdlO1xyXG4gICAgICAgIGlmICghZGFlbW9uQnJpZGdlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdEYWVtb24gYnJpZGdlIG5vdCBhdmFpbGFibGUsIGZhbGxpbmcgYmFjayB0byB0cmFkaXRpb25hbCBzeW5jJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmV4ZWN1dGVUcmFkaXRpb25hbFN5bmMoY29uZmlnLCBvblByb2dyZXNzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE5vcm1hbGl6ZSBub3RlcyBhcnJheSBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIGRpZmZlcmVudCBjb25maWcgc2hhcGVzXHJcbiAgICAgICAgbGV0IG5vdGVzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvbmZpZy5ub3RlcykgJiYgY29uZmlnLm5vdGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbm90ZXMgPSBjb25maWcubm90ZXM7XHJcbiAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNvbmZpZy5ub3Rlc1BhdGhzKSAmJiBjb25maWcubm90ZXNQYXRocy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIG5vdGVzID0gY29uZmlnLm5vdGVzUGF0aHM7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY29uZmlnLm5vdGVzID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBub3RlcyA9IFtjb25maWcubm90ZXNdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKG5vdGVzLmxlbmd0aCA8PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBTaW5nbGUgbm90ZSBzeW5jXHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYWVtb25CcmlkZ2UuZXhlY3V0ZURhZW1vblN5bmMoY29uZmlnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlRGFlbW9uU3luY1Jlc3VsdChyZXN1bHQpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gTXVsdGlwbGUgbm90ZXMgLSBwcm9jZXNzIHNlcXVlbnRpYWxseVxyXG4gICAgICAgICAgICAgICAgbGV0IHByb2Nlc3NlZCA9IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2tpcHBlZCA9IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgbm9kZVR5cGVzTG9hZGVkID0gMDtcclxuICAgICAgICAgICAgICAgIGxldCBlZGdlVHlwZXNMb2FkZWQgPSAwO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgbm90ZVJlc3VsdHM6IGFueVtdID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub3Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzQ2FuY2VsbGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBza2lwcGVkOiBza2lwcGVkICsgKG5vdGVzLmxlbmd0aCAtIGkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWw6IG5vdGVzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhdGNoQ291bnQ6IG5vdGVzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVUeXBlc0xvYWRlZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkZ2VUeXBlc0xvYWRlZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yczogWy4uLmVycm9ycywgJ1N5bmMgY2FuY2VsbGVkIGJ5IHVzZXInXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0Vycm9yczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGVzOiBub3RlUmVzdWx0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm90ZSA9IG5vdGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIG9uUHJvZ3Jlc3M/Lih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQ6IGksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiBub3Rlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBQcm9jZXNzaW5nIG5vdGUgJHtpICsgMX0vJHtub3Rlcy5sZW5ndGh9OiAke25vdGV9YCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGVyY2VudGFnZTogKGkgLyBub3Rlcy5sZW5ndGgpICogMTAwXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpbmdsZUNvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY29uZmlnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBub3RlczogW25vdGVdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXRjaF9zaXplOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBub3Rlc1BhdGhzOiBbbm90ZV1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYWVtb25CcmlkZ2UuZXhlY3V0ZURhZW1vblN5bmMoc2luZ2xlQ29uZmlnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkUmVzdWx0ID0gdGhpcy5wYXJzZURhZW1vblN5bmNSZXN1bHQocmVzdWx0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWRSZXN1bHQuc3RhdHVzID09PSAnc3VjY2VzcycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2tpcHBlZCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goYE5vdGUgJHtub3RlfTogJHtwYXJzZWRSZXN1bHQubWVzc2FnZSB8fCAnZmFpbGVkJ31gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJzZWRSZXN1bHQubm9kZVR5cGVzTG9hZGVkID09PSAnbnVtYmVyJykgbm9kZVR5cGVzTG9hZGVkICs9IHBhcnNlZFJlc3VsdC5ub2RlVHlwZXNMb2FkZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcGFyc2VkUmVzdWx0LmVkZ2VUeXBlc0xvYWRlZCA9PT0gJ251bWJlcicpIGVkZ2VUeXBlc0xvYWRlZCArPSBwYXJzZWRSZXN1bHQuZWRnZVR5cGVzTG9hZGVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub3RlUmVzdWx0cy5wdXNoKHBhcnNlZFJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2tpcHBlZCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJNc2cgPSBgRGFlbW9uIHN5bmMgZmFpbGVkIGZvciBub3RlICR7bm90ZX06ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGVyck1zZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdEYWVtb24gc3luYyBmYWlsZWQgZm9yIG5vdGUnLCB7IG5vdGUsIGVycm9yIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgb25Qcm9ncmVzcz8uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudDogaSArIDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiBub3Rlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBDb21wbGV0ZWQgJHtub3RlfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2U6ICgoaSArIDEpIC8gbm90ZXMubGVuZ3RoKSAqIDEwMFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBTbWFsbCBkZWxheSB0byByZWR1Y2UgcmFjZSBjb25kaXRpb25zXHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlcykgPT4gc2V0VGltZW91dChyZXMsIDUwMCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IHByb2Nlc3NlZCA+IDAgPyAnc3VjY2VzcycgOiAnZXJyb3InO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXMsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkLFxyXG4gICAgICAgICAgICAgICAgICAgIHNraXBwZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWw6IG5vdGVzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICBiYXRjaENvdW50OiBub3Rlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZVR5cGVzTG9hZGVkLFxyXG4gICAgICAgICAgICAgICAgICAgIGVkZ2VUeXBlc0xvYWRlZCxcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcnMsXHJcbiAgICAgICAgICAgICAgICAgICAgaGFzRXJyb3JzOiBlcnJvcnMubGVuZ3RoID4gMCxcclxuICAgICAgICAgICAgICAgICAgICBub3Rlczogbm90ZVJlc3VsdHNcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRGFlbW9uIHN5bmMgZmFpbGVkLCBmYWxsaW5nIGJhY2sgdG8gdHJhZGl0aW9uYWwgc3luYycsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZXhlY3V0ZVRyYWRpdGlvbmFsU3luYyhjb25maWcsIG9uUHJvZ3Jlc3MpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFBhcnNlIGRhZW1vbiBzeW5jIHJlc3VsdCB0byBTeW5jUmVzdWx0IGZvcm1hdFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHBhcnNlRGFlbW9uU3luY1Jlc3VsdChyZXN1bHQ6IGFueSk6IFN5bmNSZXN1bHQge1xyXG4gICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gSlNPTi5wYXJzZShyZXN1bHQpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZDogMCxcclxuICAgICAgICAgICAgICAgICAgICBza2lwcGVkOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGJhdGNoQ291bnQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGVkZ2VUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIHBhcnNlIGRhZW1vbiByZXN1bHQnXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzdGF0dXM6IHJlc3VsdC5zdGF0dXMgfHwgJ2Vycm9yJyxcclxuICAgICAgICAgICAgcHJvY2Vzc2VkOiByZXN1bHQuc3RhdHVzID09PSAnc3VjY2VzcycgPyAxIDogMCxcclxuICAgICAgICAgICAgc2tpcHBlZDogcmVzdWx0LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnID8gMCA6IDEsXHJcbiAgICAgICAgICAgIHRvdGFsOiAxLFxyXG4gICAgICAgICAgICBiYXRjaENvdW50OiAxLFxyXG4gICAgICAgICAgICBub2RlVHlwZXNMb2FkZWQ6IHJlc3VsdC5ub2RlVHlwZXNMb2FkZWQgfHwgMCxcclxuICAgICAgICAgICAgZWRnZVR5cGVzTG9hZGVkOiByZXN1bHQuZWRnZVR5cGVzTG9hZGVkIHx8IDAsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlLFxyXG4gICAgICAgICAgICBub3RlczogW3Jlc3VsdF1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRXhlY3V0ZSB0cmFkaXRpb25hbCBzeW5jIChleHRyYWN0ZWQgZnJvbSBvcmlnaW5hbCBleGVjdXRlUHl0aG9uU3luYylcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBhc3luYyBleGVjdXRlVHJhZGl0aW9uYWxTeW5jKFxyXG4gICAgICAgIGNvbmZpZzogYW55LFxyXG4gICAgICAgIG9uUHJvZ3Jlc3M/OiAocHJvZ3Jlc3M6IFN5bmNQcm9ncmVzcykgPT4gdm9pZFxyXG4gICAgKTogUHJvbWlzZTxTeW5jUmVzdWx0PiB7XHJcbiAgICAgICAgY29uc3QgeyBicmlkZ2VEaXI6IGJyaWRnZVBhdGggfSA9IHRoaXMuZ2V0VmF1bHRBd2FyZVBhdGhzKCk7XHJcbiAgICAgICAgY29uc3Qgc3luY1NjcmlwdCA9IGpvaW4oYnJpZGdlUGF0aCwgJ3N5bmMucHknKTtcclxuXHJcbiAgICAgICAgLy8gTm9ybWFsaXplIG5vdGVzIGFycmF5IGZvciBjb21wYXRpYmlsaXR5IHdpdGggZGlmZmVyZW50IGNvbmZpZyBzaGFwZXNcclxuICAgICAgICBsZXQgbm90ZXM6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29uZmlnLm5vdGVzKSAmJiBjb25maWcubm90ZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBub3RlcyA9IGNvbmZpZy5ub3RlcztcclxuICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY29uZmlnLm5vdGVzUGF0aHMpICYmIGNvbmZpZy5ub3Rlc1BhdGhzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbm90ZXMgPSBjb25maWcubm90ZXNQYXRocztcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb25maWcubm90ZXMgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIG5vdGVzID0gW2NvbmZpZy5ub3Rlc107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBIZWxwZXIgdG8gcnVuIGEgc2luZ2xlLW5vdGUgcHl0aG9uIHN5bmMgYW5kIHJldHVybiBhIHBhcnNlZCByZXN1bHQgb3IgZmFpbHVyZSBkZXRhaWxzXHJcbiAgICAgICAgY29uc3QgcnVuU2luZ2xlU3luYyA9IChzaW5nbGVDb25maWc6IGFueSk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyByZXN1bHQ/OiBhbnk7IHN0ZG91dD86IHN0cmluZzsgc3RkZXJyPzogc3RyaW5nOyBleGl0Q29kZT86IG51bWJlciB9PiA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBHZXQgcGx1Z2luIGRpcmVjdG9yeSB0byBwYXNzIHRvIFB5dGhvbiBmb3IgZGF0YS5qc29uIGxvY2F0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBwbHVnaW5EaXIgfSA9IHRoaXMuZ2V0VmF1bHRBd2FyZVBhdGhzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHl0aG9uUHJvY2VzcyA9IHNwYXduKCdweXRob24nLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN5bmNTY3JpcHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICctLXZhdWx0LXBhdGgnLCBzaW5nbGVDb25maWcudmF1bHRfcGF0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJy0tcGx1Z2luLWRhdGEtcGF0aCcsIHBsdWdpbkRpclxyXG4gICAgICAgICAgICAgICAgICAgIF0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3dkOiBicmlkZ2VQYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGRpbzogWydwaXBlJywgJ3BpcGUnLCAncGlwZSddXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRyYWNrIHByb2Nlc3MgZm9yIGNhbmNlbGxhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlUHJvY2Vzc2VzLmFkZCh0aGlzLnB5dGhvblByb2Nlc3MpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBXcml0ZSBpbnB1dCBhbmQgY2xvc2Ugc3RkaW5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnB5dGhvblByb2Nlc3Muc3RkaW4/LndyaXRlKEpTT04uc3RyaW5naWZ5KHNpbmdsZUNvbmZpZykpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHl0aG9uUHJvY2Vzcy5zdGRpbj8uZW5kKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBvdXQgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZXJyID0gJyc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHl0aG9uUHJvY2Vzcy5zdGRvdXQ/Lm9uKCdkYXRhJywgKGRhdGE6IEJ1ZmZlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gZGF0YS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXQgKz0gdGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSBsb2cgc3Rkb3V0IGluIGRlYnVnIG1vZGUgdG8gYXZvaWQgSlNPTiBzcGFtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmVuYWJsZURlYnVnTG9nZ2luZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nUHl0aG9uT3V0cHV0KCdzdGRvdXQnLCB0ZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnB5dGhvblByb2Nlc3Muc3RkZXJyPy5vbignZGF0YScsIChkYXRhOiBCdWZmZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGRhdGEudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyICs9IHRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsd2F5cyBsb2cgc3RkZXJyIChjb250YWlucyBlcnJvcnMvd2FybmluZ3MvZGVidWcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZ1B5dGhvbk91dHB1dCgnc3RkZXJyJywgdGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHl0aG9uUHJvY2Vzcy5vbignY2xvc2UnLCAoY29kZTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBmcm9tIGFjdGl2ZSBwcm9jZXNzZXMgYW5kIGNsZWFyIHJlZmVyZW5jZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZVByb2Nlc3Nlcy5kZWxldGUodGhpcy5weXRob25Qcm9jZXNzISk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHl0aG9uUHJvY2VzcyA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKG91dC50cmltKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIExvZyBQeXRob24gZGlhZ25vc3RpY3MgaWYgcHJlc2VudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWQuX2RpYWdub3N0aWNzICYmIEFycmF5LmlzQXJyYXkocGFyc2VkLl9kaWFnbm9zdGljcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBkaWFnbm9zdGljIG9mIHBhcnNlZC5fZGlhZ25vc3RpY3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oYFtQWVRIT04tRElBR05PU1RJQ1NdICR7ZGlhZ25vc3RpY31gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsgc3VjY2VzczogdHJ1ZSwgcmVzdWx0OiBwYXJzZWQsIHN0ZG91dDogb3V0LCBzdGRlcnI6IGVyciwgZXhpdENvZGU6IGNvZGUgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChwYXJzZUVycikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoeyBzdWNjZXNzOiBmYWxzZSwgc3Rkb3V0OiBvdXQsIHN0ZGVycjogZXJyIHx8IFN0cmluZyhwYXJzZUVyciksIGV4aXRDb2RlOiBjb2RlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7IHN1Y2Nlc3M6IGZhbHNlLCBzdGRvdXQ6IG91dCwgc3RkZXJyOiBlcnIsIGV4aXRDb2RlOiBjb2RlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHl0aG9uUHJvY2Vzcy5vbignZXJyb3InLCAoZXJyb3I6IEVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnB5dGhvblByb2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlUHJvY2Vzc2VzLmRlbGV0ZSh0aGlzLnB5dGhvblByb2Nlc3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHl0aG9uUHJvY2VzcyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoeyBzdWNjZXNzOiBmYWxzZSwgc3Rkb3V0OiB1bmRlZmluZWQsIHN0ZGVycjogZXJyb3IubWVzc2FnZSwgZXhpdENvZGU6IC0xIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnB5dGhvblByb2Nlc3MgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoeyBzdWNjZXNzOiBmYWxzZSwgc3Rkb3V0OiB1bmRlZmluZWQsIHN0ZGVycjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpLCBleGl0Q29kZTogLTEgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG9uZSBvciB6ZXJvIG5vdGVzLCBwcmVzZXJ2ZSBvcmlnaW5hbCBzaW5nbGUtY2FsbCBiZWhhdmlvciBhbmQgcmV0dXJuIFB5dGhvbidzIHJlc3VsdCBkaXJlY3RseVxyXG4gICAgICAgIGlmIChub3Rlcy5sZW5ndGggPD0gMSkge1xyXG4gICAgICAgICAgICBjb25zdCBub3RlUGF0aEZvckdyb3VwID0gbm90ZXMubGVuZ3RoID09PSAxXHJcbiAgICAgICAgICAgICAgICA/IG5vdGVzWzBdXHJcbiAgICAgICAgICAgICAgICA6IChBcnJheS5pc0FycmF5KGNvbmZpZy5ub3RlcykgJiYgY29uZmlnLm5vdGVzLmxlbmd0aCA+IDAgPyBjb25maWcubm90ZXNbMF0gOiB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICBsZXQgZ3JvdXBJZE92ZXJyaWRlOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIGlmIChub3RlUGF0aEZvckdyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwSWRPdmVycmlkZSA9IGF3YWl0IHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZS5nZW5lcmF0ZUdyb3VwSWQobm90ZVBhdGhGb3JHcm91cCwgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmdldE5hbWUoKSk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBiZXN0LWVmZm9ydDsgZmFsbCBiYWNrIHRvIFB5dGhvbiByZXNvbHV0aW9uIGlmIGdlbmVyYXRpb24gZmFpbHNcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBzaW5nbGVDb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICAuLi5jb25maWcsXHJcbiAgICAgICAgICAgICAgICAuLi4oZ3JvdXBJZE92ZXJyaWRlID8geyBncm91cF9pZDogZ3JvdXBJZE92ZXJyaWRlIH0gOiB7fSksXHJcbiAgICAgICAgICAgICAgICBub3Rlczogbm90ZXMubGVuZ3RoID09PSAxID8gbm90ZXMgOiBjb25maWcubm90ZXNcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgY29uc3QgciA9IGF3YWl0IHJ1blNpbmdsZVN5bmMoc2luZ2xlQ29uZmlnKTtcclxuICAgICAgICAgICAgaWYgKHIuc3VjY2VzcyAmJiByLnJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIHJhdGUgbGltaXRpbmcgaW4gc2luZ2xlLW5vdGUgc3luYyB3aXRoIGVuaGFuY2VkIGZlZWRiYWNrXHJcbiAgICAgICAgICAgICAgICBpZiAoci5yZXN1bHQuc3RhdHVzID09PSAncmF0ZV9saW1pdGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldHJ5QWZ0ZXIgPSByLnJlc3VsdC5yZXRyeV9hZnRlciB8fCA2MDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNldFRpbWUgPSByLnJlc3VsdC5yZXNldF90aW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyTWVzc2FnZSA9IHIucmVzdWx0LnByb3ZpZGVyX21lc3NhZ2UgfHwgJ0FQSSByYXRlIGxpbWl0IGV4Y2VlZGVkJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIHVzZXItZnJpZW5kbHkgbWVzc2FnZSB3aXRoIHRpbWluZ1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXVzZU1lc3NhZ2UgPSBgUmF0ZSBsaW1pdCBleGNlZWRlZCAtIHN5bmMgcGF1c2VkYDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzZXRUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc2V0RGF0ZSA9IG5ldyBEYXRlKHJlc2V0VGltZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdXNlTWVzc2FnZSArPSBgIHVudGlsICR7cmVzZXREYXRlLnRvTG9jYWxlU3RyaW5nKCl9YDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXVzZU1lc3NhZ2UgKz0gYCBmb3IgJHtNYXRoLnJvdW5kKHJldHJ5QWZ0ZXIgLyA2MCl9IG1pbnV0ZXNgO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignUmF0ZSBsaW1pdCBkZXRlY3RlZCBpbiBzaW5nbGUgc3luYyAtIHBhdXNpbmcnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHJ5QWZ0ZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0VGltZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJNZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXVzZU1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraXBwZWQ6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXRjaENvdW50OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlVHlwZXNMb2FkZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkZ2VUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcGF1c2VNZXNzYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIFJldHVybiB0aGUgcmF3IHBhcnNlZCBQeXRob24gcmVzdWx0IChtYWludGFpbnMgYmFja3dhcmQgY29tcGF0aWJpbGl0eSlcclxuICAgICAgICAgICAgICAgIHJldHVybiByLnJlc3VsdCBhcyBTeW5jUmVzdWx0O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGBQeXRob24gc3luYyBmYWlsZWQke3IuZXhpdENvZGUgIT09IHVuZGVmaW5lZCA/IGAgd2l0aCBleGl0IGNvZGUgJHtyLmV4aXRDb2RlfWAgOiAnJ306ICR7ci5zdGRlcnIgfHwgci5zdGRvdXQgfHwgJ1Vua25vd24gZXJyb3InfWA7XHJcbiAgICAgICAgICAgICAgICAvLyBUcnVuY2F0ZSBzdGRlcnIgdG8gZmlyc3QgbGluZSBmb3IgY2xlYW4gbG9nZ2luZ1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHJ1bmNhdGVkU3RkZXJyID0gci5zdGRlcnIgPyByLnN0ZGVyci5zcGxpdCgnXFxuJylbMF0gOiAnVW5rbm93biBlcnJvcic7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignUHl0aG9uIHN5bmMgcHJvY2VzcyBmYWlsZWQnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhpdENvZGU6IHIuZXhpdENvZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RkZXJyOiB0cnVuY2F0ZWRTdGRlcnIsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RkZXJyTGVuZ3RoOiByLnN0ZGVyciA/IHIuc3RkZXJyLmxlbmd0aCA6IDBcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHNraXBwZWQ6IG5vdGVzLmxlbmd0aCB8fCAxLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsOiBub3Rlcy5sZW5ndGggfHwgMSxcclxuICAgICAgICAgICAgICAgICAgICBiYXRjaENvdW50OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGVUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgICAgICBlZGdlVHlwZXNMb2FkZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBwcm9jZXNzIG5vdGVzIHNlcXVlbnRpYWxseSAob25lIFB5dGhvbiBwcm9jZXNzIHBlciBub3RlKVxyXG4gICAgICAgIGxldCBwcm9jZXNzZWQgPSAwO1xyXG4gICAgICAgIGxldCBza2lwcGVkID0gMDtcclxuICAgICAgICBsZXQgbm9kZVR5cGVzTG9hZGVkID0gMDtcclxuICAgICAgICBsZXQgZWRnZVR5cGVzTG9hZGVkID0gMDtcclxuICAgICAgICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgY29uc3Qgbm90ZVJlc3VsdHM6IGFueVtdID0gW107XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm90ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGNhbmNlbGxhdGlvbiBiZWZvcmUgcHJvY2Vzc2luZyBlYWNoIG5vdGVcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNDYW5jZWxsZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1tDQU5DRUxdIFNlcXVlbnRpYWwgc3luYyBjYW5jZWxsZWQgYnkgdXNlcicpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkLFxyXG4gICAgICAgICAgICAgICAgICAgIHNraXBwZWQ6IHNraXBwZWQgKyAobm90ZXMubGVuZ3RoIC0gaSksXHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWw6IG5vdGVzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICBiYXRjaENvdW50OiBub3Rlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZVR5cGVzTG9hZGVkLFxyXG4gICAgICAgICAgICAgICAgICAgIGVkZ2VUeXBlc0xvYWRlZCxcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcnM6IFsuLi5lcnJvcnMsICdTeW5jIGNhbmNlbGxlZCBieSB1c2VyJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgaGFzRXJyb3JzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG5vdGVzOiBub3RlUmVzdWx0c1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3Qgbm90ZSA9IG5vdGVzW2ldO1xyXG5cclxuICAgICAgICAgICAgb25Qcm9ncmVzcz8uKHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnQ6IGksXHJcbiAgICAgICAgICAgICAgICB0b3RhbDogbm90ZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogYFByb2Nlc3Npbmcgbm90ZSAke2kgKyAxfS8ke25vdGVzLmxlbmd0aH06ICR7bm90ZX1gLFxyXG4gICAgICAgICAgICAgICAgcGVyY2VudGFnZTogKGkgLyBub3Rlcy5sZW5ndGgpICogMTAwXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQnVpbGQgYSBzaW5nbGUtbm90ZSBjb25maWcgZm9yIHRoZSBQeXRob24gYnJpZGdlIChpbmNsdWRlIHJlc29sdmVkIGdyb3VwX2lkIG92ZXJyaWRlKVxyXG4gICAgICAgICAgICBsZXQgZ3JvdXBJZE92ZXJyaWRlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBncm91cElkT3ZlcnJpZGUgPSBhd2FpdCB0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UuZ2VuZXJhdGVHcm91cElkKG5vdGUsIHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXROYW1lKCkpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgICAgICAgIC8vIGJlc3QtZWZmb3J0OyBmYWxsIGJhY2sgdG8gUHl0aG9uIHJlc29sdXRpb24gaWYgZ2VuZXJhdGlvbiBmYWlsc1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHNpbmdsZUNvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgIC4uLmNvbmZpZyxcclxuICAgICAgICAgICAgICAgIC4uLihncm91cElkT3ZlcnJpZGUgPyB7IGdyb3VwX2lkOiBncm91cElkT3ZlcnJpZGUgfSA6IHt9KSxcclxuICAgICAgICAgICAgICAgIG5vdGVzOiBbbm90ZV0sXHJcbiAgICAgICAgICAgICAgICBiYXRjaF9zaXplOiAxLFxyXG4gICAgICAgICAgICAgICAgLy8ga2VlcCBiYWNrd2FyZC1jb21wYXRpYmxlIGtleSBuYW1lcyB1c2VkIGJ5IFB5dGhvbiBicmlkZ2VcclxuICAgICAgICAgICAgICAgIG5vdGVzUGF0aHM6IFtub3RlXVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0V3JhcHBlciA9IGF3YWl0IHJ1blNpbmdsZVN5bmMoc2luZ2xlQ29uZmlnKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyZXN1bHRXcmFwcGVyLnN1Y2Nlc3MgJiYgcmVzdWx0V3JhcHBlci5yZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlc3VsdFdyYXBwZXIucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIHJhdGUgbGltaXRpbmcgd2l0aCBlbmhhbmNlZCBwYXVzZSBsb2dpY1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09ICdyYXRlX2xpbWl0ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2tpcHBlZCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldHJ5QWZ0ZXIgPSByZXN1bHQucmV0cnlfYWZ0ZXIgfHwgNjA7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzZXRUaW1lID0gcmVzdWx0LnJlc2V0X3RpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvdmlkZXJNZXNzYWdlID0gcmVzdWx0LnByb3ZpZGVyX21lc3NhZ2UgfHwgJ0FQSSByYXRlIGxpbWl0IGV4Y2VlZGVkJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIHVzZXItZnJpZW5kbHkgbWVzc2FnZSB3aXRoIHRpbWluZ1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXVzZU1lc3NhZ2UgPSBgUmF0ZSBsaW1pdCBleGNlZWRlZCAtIHN5bmMgcGF1c2VkYDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzZXRUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc2V0RGF0ZSA9IG5ldyBEYXRlKHJlc2V0VGltZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdXNlTWVzc2FnZSArPSBgIHVudGlsICR7cmVzZXREYXRlLnRvTG9jYWxlU3RyaW5nKCl9YDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXVzZU1lc3NhZ2UgKz0gYCBmb3IgJHtNYXRoLnJvdW5kKHJldHJ5QWZ0ZXIgLyA2MCl9IG1pbnV0ZXNgO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goYE5vdGUgJHtub3RlfTogJHtwYXVzZU1lc3NhZ2V9YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEVuaGFuY2VkIGxvZ2dpbmcgd2l0aCByZXNldCB0aW1lIGluZm9ybWF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignUmF0ZSBsaW1pdCBkZXRlY3RlZCAtIHN5bmMgcGF1c2luZycsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm90ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0cnlBZnRlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRUaW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlck1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdXNlTWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgcHJvZ3Jlc3MgdG8gc2hvdyBwYXVzZSBzdGF0dXNcclxuICAgICAgICAgICAgICAgICAgICBvblByb2dyZXNzPy4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50OiBpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogbm90ZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBwYXVzZU1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2U6IChpIC8gbm90ZXMubGVuZ3RoKSAqIDEwMFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBub3RlUmVzdWx0cy5wdXNoKHJlc3VsdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEludGVsbGlnZW50IGRlbGF5OiBsb25nZXIgcGF1c2UgZm9yIGFjdHVhbCByYXRlIGxpbWl0cywgc2hvcnRlciBmb3IgdGVzdGluZ1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heERlbGF5ID0gcmV0cnlBZnRlciA+IDMwMCA/IDMwMDAwIDogTWF0aC5taW4ocmV0cnlBZnRlciAqIDEwMDAsIDEwMDAwKTsgLy8gTWF4IDMwcyBmb3IgbG9uZyBsaW1pdHMsIDEwcyBmb3Igc2hvcnRcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbWF4RGVsYXkpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQWZ0ZXIgZGVsYXksIHVwZGF0ZSBwcm9ncmVzcyB0byBzaG93IHJlc3VtaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgb25Qcm9ncmVzcz8uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudDogaSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWw6IG5vdGVzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYFJlc3VtaW5nIHN5bmMgYWZ0ZXIgcmF0ZSBsaW1pdCBwYXVzZS4uLmAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2U6IChpIC8gbm90ZXMubGVuZ3RoKSAqIDEwMFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gUmVzcGVjdCBQeXRob24ncyByZXN1bHQuc3RhdHVzIGlmIHByZXNlbnRcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3VsdC5zdGF0dXMgPT09ICdzdWNjZXNzJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZCsrO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBza2lwcGVkKys7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goYE5vdGUgJHtub3RlfTogJHtyZXN1bHQubWVzc2FnZSB8fCAnZmFpbGVkJ31gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVzdWx0Lm5vZGVUeXBlc0xvYWRlZCA9PT0gJ251bWJlcicpIG5vZGVUeXBlc0xvYWRlZCArPSByZXN1bHQubm9kZVR5cGVzTG9hZGVkO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQuZWRnZVR5cGVzTG9hZGVkID09PSAnbnVtYmVyJykgZWRnZVR5cGVzTG9hZGVkICs9IHJlc3VsdC5lZGdlVHlwZXNMb2FkZWQ7XHJcbiAgICAgICAgICAgICAgICBub3RlUmVzdWx0cy5wdXNoKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBza2lwcGVkKys7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJNc2cgPSBgUHl0aG9uIHN5bmMgZmFpbGVkIGZvciBub3RlICR7bm90ZX0gKGV4aXRDb2RlPSR7cmVzdWx0V3JhcHBlci5leGl0Q29kZX0pOiAke3Jlc3VsdFdyYXBwZXIuc3RkZXJyIHx8IHJlc3VsdFdyYXBwZXIuc3Rkb3V0IHx8ICcnfWA7XHJcbiAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChlcnJNc2cpO1xyXG4gICAgICAgICAgICAgICAgLy8gVHJ1bmNhdGUgc3RkZXJyIHRvIGZpcnN0IGxpbmUgZm9yIGNsZWFuIGxvZ2dpbmdcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRydW5jYXRlZFN0ZGVyciA9IHJlc3VsdFdyYXBwZXIuc3RkZXJyID8gcmVzdWx0V3JhcHBlci5zdGRlcnIuc3BsaXQoJ1xcbicpWzBdIDogJ1Vua25vd24gZXJyb3InO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1B5dGhvbiBzeW5jIGZhaWxlZCBmb3Igbm90ZScsIHtcclxuICAgICAgICAgICAgICAgICAgICBub3RlLFxyXG4gICAgICAgICAgICAgICAgICAgIGV4aXRDb2RlOiByZXN1bHRXcmFwcGVyLmV4aXRDb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0ZGVycjogdHJ1bmNhdGVkU3RkZXJyLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0ZGVyckxlbmd0aDogcmVzdWx0V3JhcHBlci5zdGRlcnIgPyByZXN1bHRXcmFwcGVyLnN0ZGVyci5sZW5ndGggOiAwXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgb25Qcm9ncmVzcz8uKHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnQ6IGkgKyAxLFxyXG4gICAgICAgICAgICAgICAgdG90YWw6IG5vdGVzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBDb21wbGV0ZWQgJHtub3RlfWAsXHJcbiAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiAoKGkgKyAxKSAvIG5vdGVzLmxlbmd0aCkgKiAxMDBcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBTbWFsbCBkZWxheSB0byByZWR1Y2UgcmlzayBvZiByYWNlIGNvbmRpdGlvbnMgLyBkdXBsaWNhdGUgZW50aXR5IGNyZWF0aW9uIGluIEdyYXBoaXRpXHJcbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXMpID0+IHNldFRpbWVvdXQocmVzLCA1MDApKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IHByb2Nlc3NlZCA+IDAgPyAnc3VjY2VzcycgOiAnZXJyb3InO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHN0YXR1cyxcclxuICAgICAgICAgICAgcHJvY2Vzc2VkLFxyXG4gICAgICAgICAgICBza2lwcGVkLFxyXG4gICAgICAgICAgICB0b3RhbDogbm90ZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICBiYXRjaENvdW50OiBub3Rlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgIG5vZGVUeXBlc0xvYWRlZCxcclxuICAgICAgICAgICAgZWRnZVR5cGVzTG9hZGVkLFxyXG4gICAgICAgICAgICBlcnJvcnMsXHJcbiAgICAgICAgICAgIGhhc0Vycm9yczogZXJyb3JzLmxlbmd0aCA+IDAsXHJcbiAgICAgICAgICAgIG5vdGVzOiBub3RlUmVzdWx0c1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFeGVjdXRlIGEgc2ltcGxlIFB5dGhvbiBjb21tYW5kXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgYXN5bmMgZXhlY3V0ZVB5dGhvbkNvbW1hbmQoYXJnczogc3RyaW5nW10pOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgb3V0cHV0Pzogc3RyaW5nOyBlcnJvcj86IHN0cmluZyB9PiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHByb2Nlc3MgPSBzcGF3bigncHl0aG9uJywgYXJncywge1xyXG4gICAgICAgICAgICAgICAgc3RkaW86IFsncGlwZScsICdwaXBlJywgJ3BpcGUnXVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBvdXRwdXQgPSAnJztcclxuICAgICAgICAgICAgbGV0IGVycm9yID0gJyc7XHJcblxyXG4gICAgICAgICAgICBwcm9jZXNzLnN0ZG91dD8ub24oJ2RhdGEnLCAoZGF0YTogQnVmZmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gZGF0YS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHByb2Nlc3Muc3RkZXJyPy5vbignZGF0YScsIChkYXRhOiBCdWZmZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIGVycm9yICs9IGRhdGEudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBwcm9jZXNzLm9uKCdjbG9zZScsIChjb2RlOiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGNvZGUgPT09IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiBvdXRwdXQudHJpbSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvci50cmltKClcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHByb2Nlc3Mub24oJ2Vycm9yJywgKGVycjogRXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnIubWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRXhlY3V0ZSBQeXRob24gY29ubmVjdGlvbiB0ZXN0XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgYXN5bmMgZXhlY3V0ZVB5dGhvbkNvbm5lY3Rpb25UZXN0KFxyXG4gICAgXHR0ZXN0VHlwZTogJ2RhdGFiYXNlJyB8ICdsbG0nIHwgJ2VtYmVkZGluZycgfCAnY29tYmluYXRpb24nIHwgJ2VtYmVkZGluZy10ZXN0JyB8ICdlcGlzb2RlLXRlc3QnIHwgJ2NvbWJpbmF0aW9uLXBpcGVsaW5lJyxcclxuICAgIFx0Y29uZmlnOiBhbnlcclxuICAgICk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmc7IGxhdGVuY3k/OiBudW1iZXIgfT4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgLy8gR2V0IHBsdWdpbiBhbmQgYnJpZGdlIGRpcmVjdG9yaWVzIHZpYSB0aGUgbmV3IHZhdWx0LWF3YXJlIHBhdGhzXHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IGJyaWRnZURpcjogYnJpZGdlUGF0aCB9ID0gdGhpcy5nZXRWYXVsdEF3YXJlUGF0aHMoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRlc3RTY3JpcHQgPSBqb2luKGJyaWRnZVBhdGgsICd0ZXN0X2Nvbm5lY3Rpb25zLnB5Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGVzdCBzY3JpcHQgZXhpc3RzXHJcbiAgICAgICAgICAgICAgICBjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWZzLmV4aXN0c1N5bmModGVzdFNjcmlwdCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBUZXN0IHNjcmlwdCBub3QgZm91bmQgYXQ6ICR7dGVzdFNjcmlwdH1gXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0V4ZWN1dGluZyBjb25uZWN0aW9uIHRlc3QnLCB7IHRlc3RUeXBlIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNwYXduIFB5dGhvbiBwcm9jZXNzIGZvciBjb25uZWN0aW9uIHRlc3RcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByb2Nlc3MgPSBzcGF3bigncHl0aG9uJywgW1xyXG4gICAgICAgICAgICAgICAgICAgIHRlc3RTY3JpcHQsXHJcbiAgICAgICAgICAgICAgICAgICAgJy0tdGVzdC10eXBlJywgdGVzdFR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgJy0tY29uZmlnJywgSlNPTi5zdHJpbmdpZnkoY29uZmlnKVxyXG4gICAgICAgICAgICAgICAgXSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGN3ZDogYnJpZGdlUGF0aCxcclxuICAgICAgICAgICAgICAgICAgICBzdGRpbzogWydwaXBlJywgJ3BpcGUnLCAncGlwZSddXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgb3V0cHV0QnVmZmVyID0gJyc7XHJcbiAgICAgICAgICAgICAgICBsZXQgZXJyb3JCdWZmZXIgPSAnJztcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgc3Rkb3V0XHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzLnN0ZG91dD8ub24oJ2RhdGEnLCAoZGF0YTogQnVmZmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGRhdGEudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRCdWZmZXIgKz0gdGV4dDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2dQeXRob25PdXRwdXQoJ3N0ZG91dCcsIHRleHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIHN0ZGVyclxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5zdGRlcnI/Lm9uKCdkYXRhJywgKGRhdGE6IEJ1ZmZlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBkYXRhLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JCdWZmZXIgKz0gdGV4dDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2dQeXRob25PdXRwdXQoJ3N0ZGVycicsIHRleHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIHByb2Nlc3MgY29tcGxldGlvblxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5vbignY2xvc2UnLCAoY29kZTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0Nvbm5lY3Rpb24gdGVzdCBwcm9jZXNzIGNvbXBsZXRlZCcsIHsgZXhpdENvZGU6IGNvZGUgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2RlID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQYXJzZSBKU09OIHJlc3BvbnNlIGZyb20gUHl0aG9uIHNjcmlwdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gSlNPTi5wYXJzZShvdXRwdXRCdWZmZXIudHJpbSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlOiBhbnkgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogcmVzdWx0LnN1Y2Nlc3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0ZW5jeTogcmVzdWx0LmxhdGVuY3lcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW5jbHVkZSBzdHJ1Y3R1cmVkIGNyb3NzX2VuY29kZXIgaW5mbyBpZiBhdmFpbGFibGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY3Jvc3NfZW5jb2Rlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmNyb3NzX2VuY29kZXIgPSByZXN1bHQuY3Jvc3NfZW5jb2RlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBwYXJzZSBjb25uZWN0aW9uIHRlc3QgcmVzdWx0JywgZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgRmFpbGVkIHRvIHBhcnNlIHRlc3QgcmVzdWx0OiAke291dHB1dEJ1ZmZlciB8fCBlcnJvckJ1ZmZlcn1gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdDb25uZWN0aW9uIHRlc3QgZmFpbGVkJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpdENvZGU6IGNvZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGRlcnI6IGVycm9yQnVmZmVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Rkb3V0OiBvdXRwdXRCdWZmZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgQ29ubmVjdGlvbiB0ZXN0IGZhaWxlZCAoZXhpdCBjb2RlICR7Y29kZX0pOiAke2Vycm9yQnVmZmVyIHx8IG91dHB1dEJ1ZmZlciB8fCAnVW5rbm93biBlcnJvcid9YFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgcHJvY2VzcyBlcnJvcnNcclxuICAgICAgICAgICAgICAgIHByb2Nlc3Mub24oJ2Vycm9yJywgKGVycm9yOiBFcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gc3RhcnQgY29ubmVjdGlvbiB0ZXN0IHByb2Nlc3MnLCBlcnJvcik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdFTk9FTlQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSAnUHl0aG9uIG5vdCBmb3VuZC4gUGxlYXNlIGVuc3VyZSBQeXRob24gMy4xMCsgaXMgaW5zdGFsbGVkIGFuZCBpbiB5b3VyIFBBVEguJztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYEZhaWxlZCB0byBzdGFydCBjb25uZWN0aW9uIHRlc3Q6ICR7ZXJyb3JNZXNzYWdlfWBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdDb25uZWN0aW9uIHRlc3QgZXhjZXB0aW9uJywgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYENvbm5lY3Rpb24gdGVzdCBlcnJvcjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRlc3QgZGF0YWJhc2UgY29ubmVjdGlvblxyXG4gICAgICovXHJcbiAgICBhc3luYyB0ZXN0RGF0YWJhc2VDb25uZWN0aW9uKCk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmc7IGxhdGVuY3k/OiBudW1iZXIgfT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlX3R5cGU6IHRoaXMuc2V0dGluZ3MuZGF0YWJhc2VUeXBlLFxyXG4gICAgICAgICAgICAgICAgLi4udGhpcy5wcmVwYXJlRGF0YWJhc2VDb25maWcoKVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZGJDb25maWcgPSB0aGlzLmdldERhdGFiYXNlQ29uZmlnKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdUZXN0aW5nIGRhdGFiYXNlIGNvbm5lY3Rpb24nLCB7XHJcbiAgICAgICAgICAgICAgICBkYXRhYmFzZVR5cGU6IHRoaXMuc2V0dGluZ3MuZGF0YWJhc2VUeXBlLFxyXG4gICAgICAgICAgICAgICAgZGF0YWJhc2VDb25maWc6IGRiQ29uZmlnLFxyXG4gICAgICAgICAgICAgICAgaGFzUGFzc3dvcmQ6ICEhKGRiQ29uZmlnPy5wYXNzd29yZCksXHJcbiAgICAgICAgICAgICAgICBwYXNzd29yZExlbmd0aDogZGJDb25maWc/LnBhc3N3b3JkPy5sZW5ndGggfHwgMFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmV4ZWN1dGVQeXRob25Db25uZWN0aW9uVGVzdCgnZGF0YWJhc2UnLCBjb25maWcpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdEYXRhYmFzZSBjb25uZWN0aW9uIHRlc3QgZXJyb3InLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBEYXRhYmFzZSB0ZXN0IGVycm9yOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGVzdCBMTE0gY29ubmVjdGlvblxyXG4gICAgICovXHJcbiAgICBhc3luYyB0ZXN0TExNQ29ubmVjdGlvbigpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nOyBsYXRlbmN5PzogbnVtYmVyIH0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBjb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICAvLyBMTE0gQ29uZmlndXJhdGlvblxyXG4gICAgICAgICAgICAgICAgbGxtX3Byb3ZpZGVyOiB0aGlzLnNldHRpbmdzLmxsbVByb3ZpZGVyLFxyXG4gICAgICAgICAgICAgICAgYXBpX2tleXM6IHRoaXMuc2V0dGluZ3MuYXBpS2V5cywgIC8vIFNlbmQgdGhlIHdob2xlIGFwaUtleXMgb2JqZWN0XHJcbiAgICAgICAgICAgICAgICBsbG1fbW9kZWw6IHRoaXMuc2V0dGluZ3MubGxtTW9kZWwsXHJcbiAgICAgICAgICAgICAgICBhenVyZV9lbmRwb2ludDogdGhpcy5zZXR0aW5ncy5henVyZUVuZHBvaW50LFxyXG4gICAgICAgICAgICAgICAgYXp1cmVfYXBpX3ZlcnNpb246IHRoaXMuc2V0dGluZ3MuYXp1cmVBcGlWZXJzaW9uLFxyXG4gICAgICAgICAgICAgICAgb2xsYW1hX2Jhc2VfdXJsOiB0aGlzLnNldHRpbmdzLm9sbGFtYUJhc2VVcmwsXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRGF0YWJhc2UgQ29uZmlndXJhdGlvbiAtIFJlcXVpcmVkIGZvciBHcmFwaGl0aSBpbnN0YW5jZVxyXG4gICAgICAgICAgICAgICAgZGF0YWJhc2VfdHlwZTogdGhpcy5zZXR0aW5ncy5kYXRhYmFzZVR5cGUsXHJcbiAgICAgICAgICAgICAgICAuLi50aGlzLnByZXBhcmVEYXRhYmFzZUNvbmZpZygpXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnVGVzdGluZyBMTE0gY29ubmVjdGlvbicsIHtcclxuICAgICAgICAgICAgICAgIGxsbVByb3ZpZGVyOiB0aGlzLnNldHRpbmdzLmxsbVByb3ZpZGVyLFxyXG4gICAgICAgICAgICAgICAgaGFzQXBpS2V5czogT2JqZWN0LmtleXModGhpcy5zZXR0aW5ncy5hcGlLZXlzKS5sZW5ndGggPiAwLFxyXG4gICAgICAgICAgICAgICAgc2FuaXRpemVkQ29uZmlnOiB0aGlzLnNhbml0aXplQ29uZmlnRm9yTG9nZ2luZyhjb25maWcpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5leGVjdXRlUHl0aG9uQ29ubmVjdGlvblRlc3QoJ2xsbScsIGNvbmZpZyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0xMTSBjb25uZWN0aW9uIHRlc3QgZXJyb3InLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBMTE0gdGVzdCBlcnJvcjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRlc3QgZW1iZWRkaW5nIGNvbm5lY3Rpb25cclxuICAgICAqL1xyXG4gICAgYXN5bmMgdGVzdEVtYmVkZGluZ0Nvbm5lY3Rpb24oKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZzsgbGF0ZW5jeT86IG51bWJlciB9PiB7XHJcbiAgICBcdHRyeSB7XHJcbiAgICBcdFx0Y29uc3QgY29uZmlnID0ge1xyXG4gICAgXHRcdFx0Ly8gRW1iZWRkZXIgQ29uZmlndXJhdGlvblxyXG4gICAgXHRcdFx0ZW1iZWRkZXJfcHJvdmlkZXI6IHRoaXMuc2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlcixcclxuICAgIFx0XHRcdGFwaV9rZXlzOiB0aGlzLnNldHRpbmdzLmFwaUtleXMsICAvLyBTZW5kIHRoZSB3aG9sZSBhcGlLZXlzIG9iamVjdFxyXG4gICAgXHRcdFx0ZW1iZWRkaW5nX21vZGVsOiB0aGlzLnNldHRpbmdzLmVtYmVkZGluZ01vZGVsLFxyXG5cclxuICAgIFx0XHRcdC8vIERhdGFiYXNlIENvbmZpZ3VyYXRpb24gLSBSZXF1aXJlZCBmb3IgR3JhcGhpdGkgaW5zdGFuY2VcclxuICAgIFx0XHRcdGRhdGFiYXNlX3R5cGU6IHRoaXMuc2V0dGluZ3MuZGF0YWJhc2VUeXBlLFxyXG4gICAgXHRcdFx0Li4udGhpcy5wcmVwYXJlRGF0YWJhc2VDb25maWcoKVxyXG4gICAgXHRcdH07XHJcblxyXG4gICAgXHRcdHRoaXMubG9nZ2VyLmRlYnVnKCdUZXN0aW5nIGVtYmVkZGluZyBjb25uZWN0aW9uJywge1xyXG4gICAgXHRcdFx0ZW1iZWRkZXJQcm92aWRlcjogdGhpcy5zZXR0aW5ncy5lbWJlZGRlclByb3ZpZGVyLFxyXG4gICAgXHRcdFx0ZW1iZWRkaW5nTW9kZWw6IHRoaXMuc2V0dGluZ3MuZW1iZWRkaW5nTW9kZWwsXHJcbiAgICBcdFx0XHRoYXNBcGlLZXlzOiBPYmplY3Qua2V5cyh0aGlzLnNldHRpbmdzLmFwaUtleXMpLmxlbmd0aCA+IDAsXHJcbiAgICBcdFx0XHRzYW5pdGl6ZWRDb25maWc6IHRoaXMuc2FuaXRpemVDb25maWdGb3JMb2dnaW5nKGNvbmZpZylcclxuICAgIFx0XHR9KTtcclxuICAgIFx0XHRyZXR1cm4gYXdhaXQgdGhpcy5leGVjdXRlUHl0aG9uQ29ubmVjdGlvblRlc3QoJ2VtYmVkZGluZycsIGNvbmZpZyk7XHJcbiAgICBcdH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBcdFx0dGhpcy5sb2dnZXIuZXJyb3IoJ0VtYmVkZGluZyBjb25uZWN0aW9uIHRlc3QgZXJyb3InLCBlcnJvcik7XHJcbiAgICBcdFx0cmV0dXJuIHtcclxuICAgIFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgXHRcdFx0bWVzc2FnZTogYEVtYmVkZGluZyB0ZXN0IGVycm9yOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gXHJcbiAgICBcdFx0fTtcclxuICAgIFx0fVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGVzdCBlbWJlZGRpbmcgY29ubmVjdGlvbiB3aXRoIGFjdHVhbCBlbWJlZGRpbmcgZGltZW5zaW9uc1xyXG4gICAgICovXHJcbiAgICBhc3luYyB0ZXN0RW1iZWRkaW5nV2l0aERpbWVuc2lvbnMoKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZzsgbGF0ZW5jeT86IG51bWJlciB9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgY29uZmlnID0ge1xyXG4gICAgICAgICAgICAgICAgLy8gRW1iZWRkZXIgQ29uZmlndXJhdGlvblxyXG4gICAgICAgICAgICAgICAgZW1iZWRkZXJfcHJvdmlkZXI6IHRoaXMuc2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlcixcclxuICAgICAgICAgICAgICAgIGFwaV9rZXlzOiB0aGlzLnNldHRpbmdzLmFwaUtleXMsICAvLyBTZW5kIHRoZSB3aG9sZSBhcGlLZXlzIG9iamVjdFxyXG4gICAgICAgICAgICAgICAgZW1iZWRkaW5nX21vZGVsOiB0aGlzLnNldHRpbmdzLmVtYmVkZGluZ01vZGVsLFxyXG5cclxuICAgICAgICAgICAgICAgIC8vIERhdGFiYXNlIENvbmZpZ3VyYXRpb24gLSBSZXF1aXJlZCBmb3IgR3JhcGhpdGkgaW5zdGFuY2VcclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlX3R5cGU6IHRoaXMuc2V0dGluZ3MuZGF0YWJhc2VUeXBlLFxyXG4gICAgICAgICAgICAgICAgLi4udGhpcy5wcmVwYXJlRGF0YWJhc2VDb25maWcoKVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1Rlc3RpbmcgZW1iZWRkaW5nIGNvbm5lY3Rpb24gd2l0aCBkaW1lbnNpb25zJywge1xyXG4gICAgICAgICAgICAgICAgZW1iZWRkZXJQcm92aWRlcjogdGhpcy5zZXR0aW5ncy5lbWJlZGRlclByb3ZpZGVyLFxyXG4gICAgICAgICAgICAgICAgZW1iZWRkaW5nTW9kZWw6IHRoaXMuc2V0dGluZ3MuZW1iZWRkaW5nTW9kZWwsXHJcbiAgICAgICAgICAgICAgICBoYXNBcGlLZXlzOiBPYmplY3Qua2V5cyh0aGlzLnNldHRpbmdzLmFwaUtleXMpLmxlbmd0aCA+IDAsXHJcbiAgICAgICAgICAgICAgICBzYW5pdGl6ZWRDb25maWc6IHRoaXMuc2FuaXRpemVDb25maWdGb3JMb2dnaW5nKGNvbmZpZylcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmV4ZWN1dGVQeXRob25Db25uZWN0aW9uVGVzdCgnZW1iZWRkaW5nLXRlc3QnLCBjb25maWcpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdFbmhhbmNlZCBlbWJlZGRpbmcgY29ubmVjdGlvbiB0ZXN0IGVycm9yJywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgRW5oYW5jZWQgZW1iZWRkaW5nIHRlc3QgZXJyb3I6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWBcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUZXN0IHByb3ZpZGVyIGNvbWJpbmF0aW9uIChMTE0gKyBFbWJlZGRpbmcgd29ya2luZyB0b2dldGhlcilcclxuICAgICAqL1xyXG4gICAgYXN5bmMgdGVzdFByb3ZpZGVyQ29tYmluYXRpb24oKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZzsgbGF0ZW5jeT86IG51bWJlciB9PiB7XHJcbiAgICBcdHRyeSB7XHJcbiAgICBcdFx0Y29uc3QgY29uZmlnID0ge1xyXG4gICAgXHRcdFx0Ly8gTExNIENvbmZpZ3VyYXRpb25cclxuICAgIFx0XHRcdGxsbV9wcm92aWRlcjogdGhpcy5zZXR0aW5ncy5sbG1Qcm92aWRlcixcclxuICAgIFx0XHRcdGxsbV9tb2RlbDogdGhpcy5zZXR0aW5ncy5sbG1Nb2RlbCxcclxuICAgIFx0XHRcdGF6dXJlX2VuZHBvaW50OiB0aGlzLnNldHRpbmdzLmF6dXJlRW5kcG9pbnQsXHJcbiAgICBcdFx0XHRhenVyZV9hcGlfdmVyc2lvbjogdGhpcy5zZXR0aW5ncy5henVyZUFwaVZlcnNpb24sXHJcbiAgICBcdFx0XHRvbGxhbWFfYmFzZV91cmw6IHRoaXMuc2V0dGluZ3Mub2xsYW1hQmFzZVVybCxcclxuXHJcbiAgICBcdFx0XHQvLyBFbWJlZGRlciBDb25maWd1cmF0aW9uXHJcbiAgICBcdFx0XHRlbWJlZGRlcl9wcm92aWRlcjogdGhpcy5zZXR0aW5ncy5lbWJlZGRlclByb3ZpZGVyLFxyXG4gICAgXHRcdFx0ZW1iZWRkaW5nX21vZGVsOiB0aGlzLnNldHRpbmdzLmVtYmVkZGluZ01vZGVsLFxyXG5cclxuICAgIFx0XHRcdC8vIEFQSSBrZXlzIGZvciBhbGwgcHJvdmlkZXJzXHJcbiAgICBcdFx0XHRhcGlfa2V5czogdGhpcy5zZXR0aW5ncy5hcGlLZXlzLFxyXG5cclxuICAgIFx0XHRcdC8vIERhdGFiYXNlIENvbmZpZ3VyYXRpb24gLSBSZXF1aXJlZCBmb3IgR3JhcGhpdGkgaW5zdGFuY2VcclxuICAgIFx0XHRcdGRhdGFiYXNlX3R5cGU6IHRoaXMuc2V0dGluZ3MuZGF0YWJhc2VUeXBlLFxyXG4gICAgXHRcdFx0Li4udGhpcy5wcmVwYXJlRGF0YWJhc2VDb25maWcoKVxyXG4gICAgXHRcdH07XHJcblxyXG4gICAgXHRcdHRoaXMubG9nZ2VyLmRlYnVnKCdUZXN0aW5nIHByb3ZpZGVyIGNvbWJpbmF0aW9uJywge1xyXG4gICAgXHRcdFx0bGxtUHJvdmlkZXI6IHRoaXMuc2V0dGluZ3MubGxtUHJvdmlkZXIsXHJcbiAgICBcdFx0XHRlbWJlZGRlclByb3ZpZGVyOiB0aGlzLnNldHRpbmdzLmVtYmVkZGVyUHJvdmlkZXIsXHJcbiAgICBcdFx0XHRsbG1Nb2RlbDogdGhpcy5zZXR0aW5ncy5sbG1Nb2RlbCxcclxuICAgIFx0XHRcdGVtYmVkZGluZ01vZGVsOiB0aGlzLnNldHRpbmdzLmVtYmVkZGluZ01vZGVsLFxyXG4gICAgXHRcdFx0aGFzQXBpS2V5czogT2JqZWN0LmtleXModGhpcy5zZXR0aW5ncy5hcGlLZXlzKS5sZW5ndGggPiAwLFxyXG4gICAgXHRcdFx0c2FuaXRpemVkQ29uZmlnOiB0aGlzLnNhbml0aXplQ29uZmlnRm9yTG9nZ2luZyhjb25maWcpXHJcbiAgICBcdFx0fSk7XHJcbiAgICBcdFx0cmV0dXJuIGF3YWl0IHRoaXMuZXhlY3V0ZVB5dGhvbkNvbm5lY3Rpb25UZXN0KCdjb21iaW5hdGlvbicsIGNvbmZpZyk7XHJcbiAgICBcdH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBcdFx0dGhpcy5sb2dnZXIuZXJyb3IoJ1Byb3ZpZGVyIGNvbWJpbmF0aW9uIHRlc3QgZXJyb3InLCBlcnJvcik7XHJcbiAgICBcdFx0cmV0dXJuIHtcclxuICAgIFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgXHRcdFx0bWVzc2FnZTogYFByb3ZpZGVyIGNvbWJpbmF0aW9uIHRlc3QgZXJyb3I6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWBcclxuICAgIFx0XHR9O1xyXG4gICAgXHR9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUZXN0IGZ1bGwgTExNICsgZW1iZWRkaW5nIHBpcGVsaW5lIHdpdGggYWN0dWFsIG9wZXJhdGlvbnMgYW5kIG1vZGVsIGRldGFpbHNcclxuICAgICAqL1xyXG4gICAgYXN5bmMgdGVzdEZ1bGxQaXBlbGluZSgpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nOyBsYXRlbmN5PzogbnVtYmVyIH0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBjb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICAvLyBMTE0gQ29uZmlndXJhdGlvblxyXG4gICAgICAgICAgICAgICAgbGxtX3Byb3ZpZGVyOiB0aGlzLnNldHRpbmdzLmxsbVByb3ZpZGVyLFxyXG4gICAgICAgICAgICAgICAgYXBpX2tleXM6IHRoaXMuc2V0dGluZ3MuYXBpS2V5cywgIC8vIFNlbmQgdGhlIHdob2xlIGFwaUtleXMgb2JqZWN0XHJcbiAgICAgICAgICAgICAgICBsbG1fbW9kZWw6IHRoaXMuc2V0dGluZ3MubGxtTW9kZWwsXHJcbiAgICAgICAgICAgICAgICBhenVyZV9lbmRwb2ludDogdGhpcy5zZXR0aW5ncy5henVyZUVuZHBvaW50LFxyXG4gICAgICAgICAgICAgICAgYXp1cmVfYXBpX3ZlcnNpb246IHRoaXMuc2V0dGluZ3MuYXp1cmVBcGlWZXJzaW9uLFxyXG4gICAgICAgICAgICAgICAgb2xsYW1hX2Jhc2VfdXJsOiB0aGlzLnNldHRpbmdzLm9sbGFtYUJhc2VVcmwsXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRW1iZWRkZXIgQ29uZmlndXJhdGlvblxyXG4gICAgICAgICAgICAgICAgZW1iZWRkZXJfcHJvdmlkZXI6IHRoaXMuc2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlcixcclxuICAgICAgICAgICAgICAgIGVtYmVkZGluZ19tb2RlbDogdGhpcy5zZXR0aW5ncy5lbWJlZGRpbmdNb2RlbCxcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDcm9zcy1lbmNvZGVyIENvbmZpZ3VyYXRpb25cclxuICAgICAgICAgICAgICAgIGNyb3NzX2VuY29kZXJfY2xpZW50OiB0aGlzLnNldHRpbmdzLmNyb3NzRW5jb2RlckNsaWVudCB8fCAnbm9uZScsXHJcbiAgICAgICAgICAgICAgICBjcm9zc19lbmNvZGVyX21vZGVsOiAodGhpcy5zZXR0aW5ncy5jcm9zc0VuY29kZXJDbGllbnQgPT09ICdiZ2UnIHx8IHRoaXMuc2V0dGluZ3MuY3Jvc3NFbmNvZGVyQ2xpZW50ID09PSAnbm9uZScpXHJcbiAgICAgICAgICAgICAgICAgICAgPyB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuc2V0dGluZ3MuY3Jvc3NFbmNvZGVyTW9kZWwsXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRGF0YWJhc2UgQ29uZmlndXJhdGlvbiAtIFJlcXVpcmVkIGZvciBHcmFwaGl0aSBpbnN0YW5jZVxyXG4gICAgICAgICAgICAgICAgZGF0YWJhc2VfdHlwZTogdGhpcy5zZXR0aW5ncy5kYXRhYmFzZVR5cGUsXHJcbiAgICAgICAgICAgICAgICAuLi50aGlzLnByZXBhcmVEYXRhYmFzZUNvbmZpZygpXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnVGVzdGluZyBmdWxsIExMTSArIGVtYmVkZGluZyBwaXBlbGluZScsIHtcclxuICAgICAgICAgICAgICAgIGxsbVByb3ZpZGVyOiB0aGlzLnNldHRpbmdzLmxsbVByb3ZpZGVyLFxyXG4gICAgICAgICAgICAgICAgZW1iZWRkZXJQcm92aWRlcjogdGhpcy5zZXR0aW5ncy5lbWJlZGRlclByb3ZpZGVyLFxyXG4gICAgICAgICAgICAgICAgbGxtTW9kZWw6IHRoaXMuc2V0dGluZ3MubGxtTW9kZWwsXHJcbiAgICAgICAgICAgICAgICBlbWJlZGRpbmdNb2RlbDogdGhpcy5zZXR0aW5ncy5lbWJlZGRpbmdNb2RlbCxcclxuICAgICAgICAgICAgICAgIGhhc0FwaUtleXM6IE9iamVjdC5rZXlzKHRoaXMuc2V0dGluZ3MuYXBpS2V5cykubGVuZ3RoID4gMCxcclxuICAgICAgICAgICAgICAgIHNhbml0aXplZENvbmZpZzogdGhpcy5zYW5pdGl6ZUNvbmZpZ0ZvckxvZ2dpbmcoY29uZmlnKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gVXNlIHRoZSBoZWF2aWVyIGVuZC10by1lbmQgcGlwZWxpbmUgdGVzdCB0aGF0IHBlcmZvcm1zIGFuIGFjdHVhbCBMTE0gY29tcGxldGlvbiBhbmQgZW1iZWRkaW5nXHJcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmV4ZWN1dGVQeXRob25Db25uZWN0aW9uVGVzdCgnY29tYmluYXRpb24tcGlwZWxpbmUnLCBjb25maWcpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdGdWxsIHBpcGVsaW5lIHRlc3QgZXJyb3InLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBQaXBlbGluZSB0ZXN0IGVycm9yOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVmFsaWRhdGUgQVBJIGtleXMgd2l0aG91dCB0ZXN0aW5nIG1vZGVsc1xyXG4gICAgICovXHJcbiAgICBhc3luYyB2YWxpZGF0ZUFQSUtleXMoKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZyB9PiB7XHJcbiAgICBcdHRyeSB7XHJcbiAgICBcdFx0Ly8gQnVpbGQgdmFsaWRhdGlvbiByZXN1bHRzXHJcbiAgICBcdFx0Y29uc3QgdmFsaWRhdGlvblJlc3VsdHM6IHN0cmluZ1tdID0gW107XHJcbiAgICBcdFx0Y29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICAgIFx0XHQvLyBDaGVjayBMTE0gcHJvdmlkZXIgQVBJIGtleVxyXG4gICAgXHRcdGNvbnN0IGxsbUFwaUtleSA9IHRoaXMuZ2V0QXBpS2V5Rm9yUHJvdmlkZXIodGhpcy5zZXR0aW5ncy5sbG1Qcm92aWRlcik7XHJcbiAgICBcdFx0aWYgKHRoaXMuc2V0dGluZ3MubGxtUHJvdmlkZXIgPT09ICdvbGxhbWEnKSB7XHJcbiAgICBcdFx0XHR2YWxpZGF0aW9uUmVzdWx0cy5wdXNoKGAke3RoaXMuc2V0dGluZ3MubGxtUHJvdmlkZXJ9OiBMb2NhbCBwcm92aWRlciAobm8gQVBJIGtleSByZXF1aXJlZClgKTtcclxuICAgIFx0XHR9IGVsc2UgaWYgKCFsbG1BcGlLZXkpIHtcclxuICAgIFx0XHRcdGVycm9ycy5wdXNoKGBNaXNzaW5nIEFQSSBrZXkgZm9yIExMTSBwcm92aWRlcjogJHt0aGlzLnNldHRpbmdzLmxsbVByb3ZpZGVyfWApO1xyXG4gICAgXHRcdH0gZWxzZSBpZiAobGxtQXBpS2V5Lmxlbmd0aCA8IDEwKSB7XHJcbiAgICBcdFx0XHRlcnJvcnMucHVzaChgQVBJIGtleSBmb3IgJHt0aGlzLnNldHRpbmdzLmxsbVByb3ZpZGVyfSBhcHBlYXJzIHRvbyBzaG9ydCAoJHtsbG1BcGlLZXkubGVuZ3RofSBjaGFycylgKTtcclxuICAgIFx0XHR9IGVsc2Uge1xyXG4gICAgXHRcdFx0dmFsaWRhdGlvblJlc3VsdHMucHVzaChgJHt0aGlzLnNldHRpbmdzLmxsbVByb3ZpZGVyfTogQVBJIGtleSBwcmVzZW50ICgke2xsbUFwaUtleS5sZW5ndGh9IGNoYXJzKWApO1xyXG4gICAgXHRcdH1cclxuXHJcbiAgICBcdFx0Ly8gQ2hlY2sgZW1iZWRkZXIgcHJvdmlkZXIgQVBJIGtleSAoaWYgZGlmZmVyZW50IGZyb20gTExNKVxyXG4gICAgXHRcdGlmICh0aGlzLnNldHRpbmdzLmVtYmVkZGVyUHJvdmlkZXIgIT09IHRoaXMuc2V0dGluZ3MubGxtUHJvdmlkZXIpIHtcclxuICAgIFx0XHRcdGNvbnN0IGVtYmVkZGVyQXBpS2V5ID0gdGhpcy5nZXRBcGlLZXlGb3JQcm92aWRlcih0aGlzLnNldHRpbmdzLmVtYmVkZGVyUHJvdmlkZXIpO1xyXG4gICAgXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlciA9PT0gJ29sbGFtYScpIHtcclxuICAgIFx0XHRcdFx0dmFsaWRhdGlvblJlc3VsdHMucHVzaChgJHt0aGlzLnNldHRpbmdzLmVtYmVkZGVyUHJvdmlkZXJ9OiBMb2NhbCBwcm92aWRlciAobm8gQVBJIGtleSByZXF1aXJlZClgKTtcclxuICAgIFx0XHRcdH0gZWxzZSBpZiAoIWVtYmVkZGVyQXBpS2V5KSB7XHJcbiAgICBcdFx0XHRcdGVycm9ycy5wdXNoKGBNaXNzaW5nIEFQSSBrZXkgZm9yIGVtYmVkZGVyIHByb3ZpZGVyOiAke3RoaXMuc2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlcn1gKTtcclxuICAgIFx0XHRcdH0gZWxzZSBpZiAoZW1iZWRkZXJBcGlLZXkubGVuZ3RoIDwgMTApIHtcclxuICAgIFx0XHRcdFx0ZXJyb3JzLnB1c2goYEFQSSBrZXkgZm9yICR7dGhpcy5zZXR0aW5ncy5lbWJlZGRlclByb3ZpZGVyfSBhcHBlYXJzIHRvbyBzaG9ydCAoJHtlbWJlZGRlckFwaUtleS5sZW5ndGh9IGNoYXJzKWApO1xyXG4gICAgXHRcdFx0fSBlbHNlIHtcclxuICAgIFx0XHRcdFx0dmFsaWRhdGlvblJlc3VsdHMucHVzaChgJHt0aGlzLnNldHRpbmdzLmVtYmVkZGVyUHJvdmlkZXJ9OiBBUEkga2V5IHByZXNlbnQgKCR7ZW1iZWRkZXJBcGlLZXkubGVuZ3RofSBjaGFycylgKTtcclxuICAgIFx0XHRcdH1cclxuICAgIFx0XHR9XHJcblxyXG4gICAgXHRcdC8vIEJ1aWxkIGZpbmFsIHJlc3VsdFxyXG4gICAgXHRcdGlmIChlcnJvcnMubGVuZ3RoID4gMCkge1xyXG4gICAgXHRcdFx0dGhpcy5sb2dnZXIuZXJyb3IoJ0FQSSBrZXkgdmFsaWRhdGlvbiBmYWlsZWQnLCB7IGVycm9ycywgdmFsaWRhdGlvblJlc3VsdHMgfSk7XHJcbiAgICBcdFx0XHRyZXR1cm4ge1xyXG4gICAgXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcclxuICAgIFx0XHRcdFx0bWVzc2FnZTogYFZhbGlkYXRpb24gZmFpbGVkOiAke2Vycm9ycy5qb2luKCcsICcpfWBcclxuICAgIFx0XHRcdH07XHJcbiAgICBcdFx0fSBlbHNlIHtcclxuICAgIFx0XHRcdHRoaXMubG9nZ2VyLmluZm8oJ0FQSSBrZXkgdmFsaWRhdGlvbiBzdWNjZXNzZnVsJywgeyB2YWxpZGF0aW9uUmVzdWx0cyB9KTtcclxuICAgIFx0XHRcdHJldHVybiB7XHJcbiAgICBcdFx0XHRcdHN1Y2Nlc3M6IHRydWUsXHJcbiAgICBcdFx0XHRcdG1lc3NhZ2U6IGBBbGwgQVBJIGtleXMgdmFsaWQ6ICR7dmFsaWRhdGlvblJlc3VsdHMuam9pbignLCAnKX1gXHJcbiAgICBcdFx0XHR9O1xyXG4gICAgXHRcdH1cclxuICAgIFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIFx0XHR0aGlzLmxvZ2dlci5lcnJvcignQVBJIGtleSB2YWxpZGF0aW9uIGVycm9yJywgZXJyb3IpO1xyXG4gICAgXHRcdHJldHVybiB7XHJcbiAgICBcdFx0XHRzdWNjZXNzOiBmYWxzZSxcclxuICAgIFx0XHRcdG1lc3NhZ2U6IGBWYWxpZGF0aW9uIGVycm9yOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gXHJcbiAgICBcdFx0fTtcclxuICAgIFx0fVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6ZSBkYXRhYmFzZSBzY2hlbWEgZm9yIEdyYXBoaXRpXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGluaXRpYWxpemVEYXRhYmFzZVNjaGVtYSgpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nIH0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBjb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICAvLyBEYXRhYmFzZSBDb25maWd1cmF0aW9uXHJcbiAgICAgICAgICAgICAgICBkYXRhYmFzZV90eXBlOiB0aGlzLnNldHRpbmdzLmRhdGFiYXNlVHlwZSxcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMucHJlcGFyZURhdGFiYXNlQ29uZmlnKCksXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTExNIENvbmZpZ3VyYXRpb24gLSBBbHNvIHJlcXVpcmVkIGZvciBHcmFwaGl0aSBpbnN0YW5jZVxyXG4gICAgICAgICAgICAgICAgbGxtX3Byb3ZpZGVyOiB0aGlzLnNldHRpbmdzLmxsbVByb3ZpZGVyLFxyXG4gICAgICAgICAgICAgICAgYXBpX2tleXM6IHRoaXMuc2V0dGluZ3MuYXBpS2V5cyxcclxuICAgICAgICAgICAgICAgIGxsbV9tb2RlbDogdGhpcy5zZXR0aW5ncy5sbG1Nb2RlbCxcclxuICAgICAgICAgICAgICAgIGF6dXJlX2VuZHBvaW50OiB0aGlzLnNldHRpbmdzLmF6dXJlRW5kcG9pbnQsXHJcbiAgICAgICAgICAgICAgICBhenVyZV9hcGlfdmVyc2lvbjogdGhpcy5zZXR0aW5ncy5henVyZUFwaVZlcnNpb24sXHJcbiAgICAgICAgICAgICAgICBvbGxhbWFfYmFzZV91cmw6IHRoaXMuc2V0dGluZ3Mub2xsYW1hQmFzZVVybFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZGJDb25maWcgPSB0aGlzLmdldERhdGFiYXNlQ29uZmlnKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0luaXRpYWxpemluZyBkYXRhYmFzZSBzY2hlbWEnLCB7XHJcbiAgICAgICAgICAgICAgICBkYXRhYmFzZVR5cGU6IHRoaXMuc2V0dGluZ3MuZGF0YWJhc2VUeXBlLFxyXG4gICAgICAgICAgICAgICAgZGF0YWJhc2VDb25maWc6IGRiQ29uZmlnLFxyXG4gICAgICAgICAgICAgICAgbGxtUHJvdmlkZXI6IHRoaXMuc2V0dGluZ3MubGxtUHJvdmlkZXJcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5leGVjdXRlUHl0aG9uU2NoZW1hSW5pdGlhbGl6YXRpb24oY29uZmlnKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRGF0YWJhc2Ugc2NoZW1hIGluaXRpYWxpemF0aW9uIGVycm9yJywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgU2NoZW1hIGluaXRpYWxpemF0aW9uIGVycm9yOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRXhlY3V0ZSBQeXRob24gc2NoZW1hIGluaXRpYWxpemF0aW9uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgYXN5bmMgZXhlY3V0ZVB5dGhvblNjaGVtYUluaXRpYWxpemF0aW9uKFxyXG4gICAgICAgIGNvbmZpZzogYW55XHJcbiAgICApOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nIH0+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgcGx1Z2luJ3MgZGlyZWN0b3J5IHBhdGhcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgYnJpZGdlRGlyOiBicmlkZ2VQYXRoIH0gPSB0aGlzLmdldFZhdWx0QXdhcmVQYXRocygpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGVzdFNjcmlwdCA9IGpvaW4oYnJpZGdlUGF0aCwgJ3Rlc3RfY29ubmVjdGlvbnMucHknKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0ZXN0IHNjcmlwdCBleGlzdHNcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTtcclxuICAgICAgICAgICAgICAgIGlmICghZnMuZXhpc3RzU3luYyh0ZXN0U2NyaXB0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYFRlc3Qgc2NyaXB0IG5vdCBmb3VuZCBhdDogJHt0ZXN0U2NyaXB0fWBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnRXhlY3V0aW5nIHNjaGVtYSBpbml0aWFsaXphdGlvbicpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNwYXduIFB5dGhvbiBwcm9jZXNzIGZvciBzY2hlbWEgaW5pdGlhbGl6YXRpb25cclxuICAgICAgICAgICAgICAgIGNvbnN0IHByb2Nlc3MgPSBzcGF3bigncHl0aG9uJywgW1xyXG4gICAgICAgICAgICAgICAgICAgIHRlc3RTY3JpcHQsXHJcbiAgICAgICAgICAgICAgICAgICAgJy0tdGVzdC10eXBlJywgJ3NjaGVtYS1pbml0JyxcclxuICAgICAgICAgICAgICAgICAgICAnLS1jb25maWcnLCBKU09OLnN0cmluZ2lmeShjb25maWcpXHJcbiAgICAgICAgICAgICAgICBdLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3dkOiBicmlkZ2VQYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0ZGlvOiBbJ3BpcGUnLCAncGlwZScsICdwaXBlJ11cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBvdXRwdXRCdWZmZXIgPSAnJztcclxuICAgICAgICAgICAgICAgIGxldCBlcnJvckJ1ZmZlciA9ICcnO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBzdGRvdXRcclxuICAgICAgICAgICAgICAgIHByb2Nlc3Muc3Rkb3V0Py5vbignZGF0YScsIChkYXRhOiBCdWZmZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gZGF0YS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dEJ1ZmZlciArPSB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZ1B5dGhvbk91dHB1dCgnc3Rkb3V0JywgdGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgc3RkZXJyXHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzLnN0ZGVycj8ub24oJ2RhdGEnLCAoZGF0YTogQnVmZmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGRhdGEudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBlcnJvckJ1ZmZlciArPSB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZ1B5dGhvbk91dHB1dCgnc3RkZXJyJywgdGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgcHJvY2VzcyBjb21wbGV0aW9uXHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzLm9uKCdjbG9zZScsIChjb2RlOiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnU2NoZW1hIGluaXRpYWxpemF0aW9uIHByb2Nlc3MgY29tcGxldGVkJywgeyBleGl0Q29kZTogY29kZSB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBhcnNlIEpTT04gcmVzcG9uc2UgZnJvbSBQeXRob24gc2NyaXB0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBKU09OLnBhcnNlKG91dHB1dEJ1ZmZlci50cmltKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogcmVzdWx0LnN1Y2Nlc3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHBhcnNlIHNjaGVtYSBpbml0aWFsaXphdGlvbiByZXN1bHQnLCBlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBGYWlsZWQgdG8gcGFyc2UgaW5pdGlhbGl6YXRpb24gcmVzdWx0OiAke291dHB1dEJ1ZmZlciB8fCBlcnJvckJ1ZmZlcn1gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdTY2hlbWEgaW5pdGlhbGl6YXRpb24gZmFpbGVkJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpdENvZGU6IGNvZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGRlcnI6IGVycm9yQnVmZmVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Rkb3V0OiBvdXRwdXRCdWZmZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgU2NoZW1hIGluaXRpYWxpemF0aW9uIGZhaWxlZCAoZXhpdCBjb2RlICR7Y29kZX0pOiAke2Vycm9yQnVmZmVyIHx8IG91dHB1dEJ1ZmZlciB8fCAnVW5rbm93biBlcnJvcid9YFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgcHJvY2VzcyBlcnJvcnNcclxuICAgICAgICAgICAgICAgIHByb2Nlc3Mub24oJ2Vycm9yJywgKGVycm9yOiBFcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gc3RhcnQgc2NoZW1hIGluaXRpYWxpemF0aW9uIHByb2Nlc3MnLCBlcnJvcik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdFTk9FTlQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSAnUHl0aG9uIG5vdCBmb3VuZC4gUGxlYXNlIGVuc3VyZSBQeXRob24gMy4xMCsgaXMgaW5zdGFsbGVkIGFuZCBpbiB5b3VyIFBBVEguJztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYEZhaWxlZCB0byBzdGFydCBzY2hlbWEgaW5pdGlhbGl6YXRpb246ICR7ZXJyb3JNZXNzYWdlfWBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdTY2hlbWEgaW5pdGlhbGl6YXRpb24gZXhjZXB0aW9uJywgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYFNjaGVtYSBpbml0aWFsaXphdGlvbiBlcnJvcjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIHNpbXBsZSBtYW51YWwgc3luYyB0ZXN0IHdpdGggYSBzaW5nbGUgbm90ZVxyXG4gICAgICovXHJcbiAgICBhc3luYyB0ZXN0TWFudWFsU3luYyhub3RlRmlsZTogc3RyaW5nLCBzb3VyY2VfZGVzY3JpcHRpb246IHN0cmluZyA9ICdvYnNpZGlhbl9tbV9pbmRpdmlkdWFsJyk6IFByb21pc2U8U3luY1Jlc3VsdD4ge1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhgU3RhcnRpbmcgbWFudWFsIHN5bmMgdGVzdCBmb3IgZmlsZTogJHtub3RlRmlsZX0sIFNvdXJjZTogJHtzb3VyY2VfZGVzY3JpcHRpb259YCk7XHJcblxyXG4gICAgICAgICAgICAvLyBWYWxpZGF0ZSBlbWJlZGRpbmcgbW9kZWwgYmVmb3JlIHRlc3Qgc3luYyBvcGVyYXRpb25zXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50RW1iZWRkaW5nTW9kZWwgPSB0aGlzLnNldHRpbmdzLmVtYmVkZGluZ01vZGVsO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudERpbWVuc2lvbnMgPSB0aGlzLmdldEN1cnJlbnRFbWJlZGRpbmdEaW1lbnNpb25zKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzQ2hhbmdlZCA9IGF3YWl0IHRoaXMudmF1bHRSZWdpc3RyeVNlcnZpY2UuaGFzRW1iZWRkaW5nTW9kZWxDaGFuZ2VkKFxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRFbWJlZGRpbmdNb2RlbCxcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50RGltZW5zaW9uc1xyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaGFzQ2hhbmdlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pc21hdGNoRGV0YWlscyA9IGF3YWl0IHRoaXMudmF1bHRSZWdpc3RyeVNlcnZpY2UuZ2V0RW1iZWRkaW5nTW9kZWxNaXNtYXRjaERldGFpbHMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRFbWJlZGRpbmdNb2RlbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudERpbWVuc2lvbnNcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdbVEVTVF9TWU5DXSBFbWJlZGRpbmcgbW9kZWwgY2hhbmdlIGRldGVjdGVkIGJlZm9yZSB0ZXN0IHN5bmMnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0NoYW5nZWQ6IGhhc0NoYW5nZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlZE1vZGVsOiBtaXNtYXRjaERldGFpbHM/LnN0b3JlZE1vZGVsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9yZWREaW1lbnNpb25zOiBtaXNtYXRjaERldGFpbHM/LnN0b3JlZERpbWVuc2lvbnMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRNb2RlbDogY3VycmVudEVtYmVkZGluZ01vZGVsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RGltZW5zaW9uczogY3VycmVudERpbWVuc2lvbnMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGVGaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNob3cgd2FybmluZyBub3RpZmljYXRpb24gYnV0IGNvbnRpbnVlIHdpdGggdGVzdCBzeW5jXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgZGVzY3JpcHRpdmUgbWVzc2FnZSBmcm9tIHRoZSBtaXNtYXRjaCBkZXRhaWxzXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2FybmluZ01lc3NhZ2UgPSBgRW1iZWRkaW5nIG1vZGVsIGNoYW5nZWQgZnJvbSAke21pc21hdGNoRGV0YWlscz8uc3RvcmVkTW9kZWwgfHwgJ3Vua25vd24nfSB0byAke2N1cnJlbnRFbWJlZGRpbmdNb2RlbH0uIFRoaXMgbWF5IGFmZmVjdCB2ZWN0b3Igc2ltaWxhcml0eSBpbiB5b3VyIGtub3dsZWRnZSBncmFwaC5gO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBOb3RpY2Uod2FybmluZ01lc3NhZ2UsIDgwMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlbWJlZGRpbmdWYWxpZGF0aW9uRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbVEVTVF9TWU5DXSBGYWlsZWQgdG8gdmFsaWRhdGUgZW1iZWRkaW5nIG1vZGVsICh0ZXN0IHN5bmMgY29udGludWVzKScsIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZW1iZWRkaW5nVmFsaWRhdGlvbkVycm9yLFxyXG4gICAgICAgICAgICAgICAgICAgIG5vdGVGaWxlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gVmFsaWRhdGUgbm90ZSBmaWxlIGV4aXN0c1xyXG4gICAgICAgICAgICBjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XHJcbiAgICAgICAgICAgIGlmICghZnMuZXhpc3RzU3luYyhub3RlRmlsZSkpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm90ZSBmaWxlIG5vdCBmb3VuZDogJHtub3RlRmlsZX1gKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXRlIHN5bmMgY29uZmlnIGZvciBzaW5nbGUgbm90ZVxyXG4gICAgICAgICAgICBjb25zdCBjb25maWc6IFN5bmNDb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICBub3Rlc1BhdGhzOiBbbm90ZUZpbGVdLFxyXG4gICAgICAgICAgICAgICAgYmF0Y2hTaXplOiAxLFxyXG4gICAgICAgICAgICAgICAgZGVidWc6IHRoaXMuc2V0dGluZ3MuZW5hYmxlRGVidWdMb2dnaW5nLFxyXG4gICAgICAgICAgICAgICAgc291cmNlX2Rlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgY3Jvc3NFbmNvZGVyQ2xpZW50OiB0aGlzLnNldHRpbmdzLmNyb3NzRW5jb2RlckNsaWVudCxcclxuICAgICAgICAgICAgICAgIGNyb3NzRW5jb2Rlck1vZGVsOiB0aGlzLnNldHRpbmdzLmNyb3NzRW5jb2Rlck1vZGVsLFxyXG4gICAgICAgICAgICAgICAgdXNlX2N1c3RvbV9vbnRvbG9neTogdGhpcy5zZXR0aW5ncy51c2VDdXN0b21PbnRvbG9neVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gUnVuIHN5bmMgd2l0aCBwcm9ncmVzcyBjYWxsYmFja1xyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnN5bmNOb3Rlcyhjb25maWcsIChwcm9ncmVzcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ01hbnVhbCBzeW5jIHByb2dyZXNzJywgcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgbmV3IE5vdGljZShgTWFudWFsIHN5bmM6ICR7cHJvZ3Jlc3MubWVzc2FnZX0gKCR7cHJvZ3Jlc3MucGVyY2VudGFnZS50b0ZpeGVkKDEpfSUpYCk7XHJcbiAgICAgICAgICAgIH0sIHNvdXJjZV9kZXNjcmlwdGlvbik7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBwcm9jZXNzaW5nVGltZSA9XHJcbiAgICAgICAgICAgICAgICAocmVzdWx0IGFzIGFueSkucHJvY2Vzc2luZ19kdXJhdGlvbl9zZWNvbmRzID8/XHJcbiAgICAgICAgICAgICAgICAoKChyZXN1bHQgYXMgYW55KS5ub3RlcyAmJiBBcnJheS5pc0FycmF5KChyZXN1bHQgYXMgYW55KS5ub3RlcykgJiYgKHJlc3VsdCBhcyBhbnkpLm5vdGVzWzBdPy5wcm9jZXNzaW5nX2R1cmF0aW9uX3NlY29uZHMpIGFzIG51bWJlciB8IHVuZGVmaW5lZCkgPz9cclxuICAgICAgICAgICAgICAgIE1hdGgucm91bmQoKERhdGUubm93KCkgLSBzdGFydFRpbWUpIC8gMTAwMCk7XHJcblxyXG4gICAgICAgICAgICAvLyBSYXcgcmVzdWx0IGxvZ2dpbmcgcmVtb3ZlZCB0byBwcmV2ZW50IG1hc3NpdmUgbG9nIG91dHB1dFxyXG5cclxuICAgICAgICAgICAgLy8gSGFuZGxlIHNpbmdsZSBub3RlIHN5bmMgcmVzdWx0cyB3aGVyZSBzdW1tYXJ5IGRhdGEgbWlnaHQgYmUgbmVzdGVkIG9yIGFic2VudCBmcm9tIHRvcC1sZXZlbFxyXG4gICAgICAgICAgICBjb25zdCBwcm9jZXNzZWRDb3VudCA9IDE7IC8vIEZvciBzaW5nbGUgc3luYywgYWx3YXlzIDEgcHJvY2Vzc2VkIGlmIHN1Y2Nlc3NmdWxcclxuICAgICAgICAgICAgY29uc3Qgc2tpcHBlZENvdW50ID0gMDsgICAvLyBGb3Igc2luZ2xlIHN5bmMsIGFsd2F5cyAwIHNraXBwZWQgaWYgc3VjY2Vzc2Z1bFxyXG4gICAgICAgICAgICBjb25zdCB0b3RhbENvdW50ID0gMTsgICAgIC8vIEZvciBzaW5nbGUgc3luYywgYWx3YXlzIDEgdG90YWxcclxuICAgICAgICAgICAgY29uc3QgYmF0Y2hDb3VudCA9IDE7ICAgICAvLyBGb3Igc2luZ2xlIHN5bmMsIGFsd2F5cyAxIGJhdGNoXHJcbiAgICAgICAgICAgIC8vIEV4dHJhY3QgZGF0YSBmcm9tIGFjdHVhbCByZXNwb25zZSBzdHJ1Y3R1cmUgKGRhZW1vbiByZXR1cm5zIG5vdGUgcGF5bG9hZCB1bmRlciBub3Rlc1swXSlcclxuICAgICAgICAgICAgY29uc3QgZmlyc3ROb3RlID0gKHJlc3VsdCBhcyBhbnkpPy5ub3RlcyAmJiBBcnJheS5pc0FycmF5KChyZXN1bHQgYXMgYW55KS5ub3RlcykgPyAocmVzdWx0IGFzIGFueSkubm90ZXNbMF0gOiBudWxsO1xyXG4gICAgICAgICAgICBjb25zdCBlcGlzb2RlTmFtZSA9IChyZXN1bHQgYXMgYW55KS5ub3RlX25hbWUgfHwgZmlyc3ROb3RlPy5ub3RlX25hbWUgfHwgJ3Vua25vd24nO1xyXG4gICAgICAgICAgICAvLyBAcHVycG9zZTogVXNlIGVuaGFuY2VkIGZvbGRlciBuYW1lc3BhY2luZyB0byBnZW5lcmF0ZSBwcm9wZXIgZ3JvdXBfaWQgQGRlcGVuZHM6IFN5bmNSZWdpc3RyeVNlcnZpY2UuZ2VuZXJhdGVHcm91cElkIEByZXN1bHRzOiBDdXN0b20gZ3JvdXBfaWRzIGJhc2VkIG9uIGZvbGRlciBtYXBwaW5nc1xyXG4gICAgICAgICAgICBjb25zdCBncm91cElkID0gYXdhaXQgdGhpcy5zeW5jUmVnaXN0cnlTZXJ2aWNlLmdlbmVyYXRlR3JvdXBJZChub3RlRmlsZSwgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmdldE5hbWUoKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHV1aWQgPSAocmVzdWx0IGFzIGFueSkuZXBpc29kZV91dWlkIHx8IGZpcnN0Tm90ZT8uZXBpc29kZV91dWlkIHx8ICd1bmtub3duJztcclxuICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gKHJlc3VsdCBhcyBhbnkpLnN0YXR1cyB8fCBmaXJzdE5vdGU/LnN0YXR1cyB8fCAndW5rbm93bic7XHJcblxyXG4gICAgICAgICAgICAvLyBWYXVsdCByZWdpc3RyeSB1cGRhdGVzIGFyZSBoYW5kbGVkIGluIHNldHRpbmdzIHBhbmVsIG9ubHksIG5vdCBkdXJpbmcgc3luYyBvcGVyYXRpb25zXHJcblxyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBNYW51YWxTeW5jUmVzdWx0OiBub3RlX25hbWU6JHtlcGlzb2RlTmFtZX0sIHN0YXR1czogJHtzdGF0dXN9LCBwcm9jZXNzZWQ6ICR7cHJvY2Vzc2VkQ291bnR9LCBza2lwcGVkOiAke3NraXBwZWRDb3VudH0sIHRvdGFsOiAke3RvdGFsQ291bnR9LCBiYXRjaGVzOiAke2JhdGNoQ291bnR9LCBwcm9jZXNzZWRfaW46ICR7cHJvY2Vzc2luZ1RpbWV9cywgZ3JvdXBfaWQ6ICR7Z3JvdXBJZH0sIHV1aWQ6ICR7dXVpZH0sIHNvdXJjZV9kZXNjcmlwdGlvbjogJHtzb3VyY2VfZGVzY3JpcHRpb259YCk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdbRVJST1JdIE1hbnVhbCBzeW5jIHRlc3QgZmFpbGVkJywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc2VkOiAwLFxyXG4gICAgICAgICAgICAgICAgc2tpcHBlZDogMCxcclxuICAgICAgICAgICAgICAgIHRvdGFsOiAxLFxyXG4gICAgICAgICAgICAgICAgYmF0Y2hDb3VudDogMCxcclxuICAgICAgICAgICAgICAgIG5vZGVUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgIGVkZ2VUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqID09PSBEQVRBLkpTT04gTUFOQUdFTUVOVCBGVU5DVElPTlMgPT09XHJcbiAgICAgKiBQdXJwb3NlOiBHcmFudWxhciBjb250cm9sIG92ZXIgZGF0YS5qc29uIGZvciBlbnRpdHkgYW5kIHByb3BlcnR5IGRlc2NyaXB0aW9uc1xyXG4gICAgICogSW50ZWdyYXRpb246IFdvcmtzIHdpdGggZXhpc3RpbmcgcGx1Z2luLnNldHRpbmdzIHBhdHRlcm4gYW5kIFNjaGVtYURpc2NvdmVyeVNlcnZpY2VcclxuICAgICAqIE1vZGU6IENvZGUgLSBEYXRhIG1hbmFnZW1lbnQgZnVuY3Rpb25zIGZvciBVSSBcIkxvYWQgQWxsIERlZmF1bHRzXCIgYnV0dG9uc1xyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgcGx1Z2luIGluc3RhbmNlIHVzaW5nIHRoZSBzYW1lIHBhdHRlcm4gYXMgU2NoZW1hTWFuYWdlclxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFBsdWdpbigpOiBhbnkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgKHdpbmRvdyBhcyBhbnkpLmFwcCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuICh3aW5kb3cgYXMgYW55KS5hcHAucGx1Z2lucy5wbHVnaW5zWydtZWdhbWVtLW1jcCddO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZCBhIG5ldyBlbnRpdHkgZGVmaW5pdGlvbiB0byBkYXRhLmpzb25cclxuICAgICAqL1xyXG4gICAgYXN5bmMgYWRkRW50aXR5RGVmaW5pdGlvbihlbnRpdHlOYW1lOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBjb25zdCBwbHVnaW4gPSB0aGlzLmdldFBsdWdpbigpO1xyXG4gICAgICAgIGlmICghcGx1Z2luPy5zZXR0aW5ncykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsdWdpbiBzZXR0aW5ncyBub3QgYXZhaWxhYmxlJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJbml0aWFsaXplIGVudGl0eURlc2NyaXB0aW9ucyBpZiBub3QgZXhpc3RzXHJcbiAgICAgICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MuZW50aXR5RGVzY3JpcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5lbnRpdHlEZXNjcmlwdGlvbnMgPSB7fTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFkZCB0aGUgZW50aXR5IGRlc2NyaXB0aW9uXHJcbiAgICAgICAgcGx1Z2luLnNldHRpbmdzLmVudGl0eURlc2NyaXB0aW9uc1tlbnRpdHlOYW1lXSA9IHtcclxuICAgICAgICAgICAgY2xhc3NOYW1lOiBlbnRpdHlOYW1lLnJlcGxhY2UoL1xccysvZywgJycpLnJlcGxhY2UoL1teYS16QS1aMC05XS9nLCAnJyksXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgaXNVc2VyRGVmaW5lZDogdHJ1ZSxcclxuICAgICAgICAgICAgc291cmNlOiBcInVzZXJcIixcclxuICAgICAgICAgICAgbGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBTYXZlIHRvIGRhdGEuanNvblxyXG4gICAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdBZGRlZCBlbnRpdHkgZGVmaW5pdGlvbicsIHsgZW50aXR5TmFtZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSBhbiBlbnRpdHkgZGVmaW5pdGlvbiBmcm9tIGRhdGEuanNvblxyXG4gICAgICovXHJcbiAgICBhc3luYyByZW1vdmVFbnRpdHlEZWZpbml0aW9uKGVudGl0eU5hbWU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IHBsdWdpbiA9IHRoaXMuZ2V0UGx1Z2luKCk7XHJcbiAgICAgICAgaWYgKCFwbHVnaW4/LnNldHRpbmdzPy5lbnRpdHlEZXNjcmlwdGlvbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuOyAvLyBOb3RoaW5nIHRvIHJlbW92ZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZGVsZXRlIHBsdWdpbi5zZXR0aW5ncy5lbnRpdHlEZXNjcmlwdGlvbnNbZW50aXR5TmFtZV07XHJcbiAgICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1JlbW92ZWQgZW50aXR5IGRlZmluaXRpb24nLCB7IGVudGl0eU5hbWUgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUgYW4gZXhpc3RpbmcgZW50aXR5IGRlc2NyaXB0aW9uXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHVwZGF0ZUVudGl0eURlc2NyaXB0aW9uKGVudGl0eU5hbWU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IHBsdWdpbiA9IHRoaXMuZ2V0UGx1Z2luKCk7XHJcbiAgICAgICAgaWYgKCFwbHVnaW4/LnNldHRpbmdzPy5lbnRpdHlEZXNjcmlwdGlvbnM/LltlbnRpdHlOYW1lXSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVudGl0eSAke2VudGl0eU5hbWV9IG5vdCBmb3VuZGApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcGx1Z2luLnNldHRpbmdzLmVudGl0eURlc2NyaXB0aW9uc1tlbnRpdHlOYW1lXSA9IHtcclxuICAgICAgICAgICAgLi4ucGx1Z2luLnNldHRpbmdzLmVudGl0eURlc2NyaXB0aW9uc1tlbnRpdHlOYW1lXSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdVcGRhdGVkIGVudGl0eSBkZXNjcmlwdGlvbicsIHsgZW50aXR5TmFtZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZCBhIG5ldyBwcm9wZXJ0eSBkZWZpbml0aW9uIHRvIGRhdGEuanNvblxyXG4gICAgICovXHJcbiAgICBhc3luYyBhZGRQcm9wZXJ0eURlZmluaXRpb24oZW50aXR5TmFtZTogc3RyaW5nLCBwcm9wZXJ0eU5hbWU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IHBsdWdpbiA9IHRoaXMuZ2V0UGx1Z2luKCk7XHJcbiAgICAgICAgaWYgKCFwbHVnaW4/LnNldHRpbmdzKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUGx1Z2luIHNldHRpbmdzIG5vdCBhdmFpbGFibGUnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEluaXRpYWxpemUgcHJvcGVydHlEZXNjcmlwdGlvbnMgc3RydWN0dXJlIGlmIG5lZWRlZFxyXG4gICAgICAgIGlmICghcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9ucyA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9uc1tlbnRpdHlOYW1lXSkge1xyXG4gICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnNbZW50aXR5TmFtZV0gPSB7fTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFkZCB0aGUgcHJvcGVydHkgZGVzY3JpcHRpb25cclxuICAgICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnNbZW50aXR5TmFtZV1bcHJvcGVydHlOYW1lXSA9IHtcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICBmaWVsZFR5cGU6IFwic3RyXCIsIC8vIERlZmF1bHQgZmllbGQgdHlwZSwgY2FuIGJlIHVwZGF0ZWQgbGF0ZXJcclxuICAgICAgICAgICAgaXNVc2VyRGVmaW5lZDogdHJ1ZSxcclxuICAgICAgICAgICAgc291cmNlOiBcInVzZXJcIixcclxuICAgICAgICAgICAgbGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnQWRkZWQgcHJvcGVydHkgZGVmaW5pdGlvbicsIHsgZW50aXR5TmFtZSwgcHJvcGVydHlOYW1lIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIGEgcHJvcGVydHkgZGVmaW5pdGlvbiBmcm9tIGRhdGEuanNvblxyXG4gICAgICovXHJcbiAgICBhc3luYyByZW1vdmVQcm9wZXJ0eURlZmluaXRpb24oZW50aXR5TmFtZTogc3RyaW5nLCBwcm9wZXJ0eU5hbWU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IHBsdWdpbiA9IHRoaXMuZ2V0UGx1Z2luKCk7XHJcbiAgICAgICAgaWYgKCFwbHVnaW4/LnNldHRpbmdzPy5wcm9wZXJ0eURlc2NyaXB0aW9ucz8uW2VudGl0eU5hbWVdKSB7XHJcbiAgICAgICAgICAgIHJldHVybjsgLy8gTm90aGluZyB0byByZW1vdmVcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRlbGV0ZSBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnNbZW50aXR5TmFtZV1bcHJvcGVydHlOYW1lXTtcclxuXHJcbiAgICAgICAgLy8gQ2xlYW4gdXAgZW1wdHkgZW50aXR5IG9iamVjdCBpZiBubyBwcm9wZXJ0aWVzIHJlbWFpblxyXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnNbZW50aXR5TmFtZV0pLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICBkZWxldGUgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zW2VudGl0eU5hbWVdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1JlbW92ZWQgcHJvcGVydHkgZGVmaW5pdGlvbicsIHsgZW50aXR5TmFtZSwgcHJvcGVydHlOYW1lIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlIGFuIGV4aXN0aW5nIHByb3BlcnR5IGRlc2NyaXB0aW9uXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHVwZGF0ZVByb3BlcnR5RGVzY3JpcHRpb24oZW50aXR5TmFtZTogc3RyaW5nLCBwcm9wZXJ0eU5hbWU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IHBsdWdpbiA9IHRoaXMuZ2V0UGx1Z2luKCk7XHJcbiAgICAgICAgaWYgKCFwbHVnaW4/LnNldHRpbmdzPy5wcm9wZXJ0eURlc2NyaXB0aW9ucz8uW2VudGl0eU5hbWVdPy5bcHJvcGVydHlOYW1lXSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFByb3BlcnR5ICR7ZW50aXR5TmFtZX0uJHtwcm9wZXJ0eU5hbWV9IG5vdCBmb3VuZGApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zW2VudGl0eU5hbWVdW3Byb3BlcnR5TmFtZV0gPSB7XHJcbiAgICAgICAgICAgIC4uLnBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9uc1tlbnRpdHlOYW1lXVtwcm9wZXJ0eU5hbWVdLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgIGxhc3RNb2RpZmllZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1VwZGF0ZWQgcHJvcGVydHkgZGVzY3JpcHRpb24nLCB7IGVudGl0eU5hbWUsIHByb3BlcnR5TmFtZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIExvYWQgYWxsIGRlZmF1bHQgZW50aXR5IGRlc2NyaXB0aW9ucyBmcm9tIFNjaGVtYURpc2NvdmVyeVNlcnZpY2VcclxuICAgICAqL1xyXG4gICAgYXN5bmMgbG9hZEFsbERlZmF1bHRFbnRpdHlEZXNjcmlwdGlvbnMoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgY29uc3QgcGx1Z2luID0gdGhpcy5nZXRQbHVnaW4oKTtcclxuICAgICAgICBpZiAoIXBsdWdpbj8uc2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbHVnaW4gc2V0dGluZ3Mgbm90IGF2YWlsYWJsZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBlbnRpdHlEZXNjcmlwdGlvbnMgaWYgbm90IGV4aXN0c1xyXG4gICAgICAgIGlmICghcGx1Z2luLnNldHRpbmdzLmVudGl0eURlc2NyaXB0aW9ucykge1xyXG4gICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MuZW50aXR5RGVzY3JpcHRpb25zID0ge307XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBHZXQgYWxsIGF2YWlsYWJsZSBkZWZhdWx0IGVudGl0eSB0eXBlcyBmcm9tIHNjaGVtYSBzZXJ2aWNlXHJcbiAgICAgICAgY29uc3QgYXZhaWxhYmxlRW50aXR5VHlwZXMgPSB0aGlzLnNjaGVtYVNlcnZpY2UuZ2V0QXZhaWxhYmxlRGVmYXVsdEVudGl0eVR5cGVzKCk7XHJcbiAgICAgICAgbGV0IGFkZGVkQ291bnQgPSAwO1xyXG4gICAgICAgIGxldCB1cGRhdGVkQ291bnQgPSAwO1xyXG5cclxuICAgICAgICAvLyBBZGQvdXBkYXRlIGVhY2ggZGVmYXVsdCBlbnRpdHkgZGVzY3JpcHRpb25cclxuICAgICAgICBmb3IgKGNvbnN0IGVudGl0eU5hbWUgb2YgYXZhaWxhYmxlRW50aXR5VHlwZXMpIHtcclxuICAgICAgICAgICAgLy8gR2V0IHRoZSBkZXNjcmlwdGlvbiBmb3IgdGhpcyBzcGVjaWZpYyBlbnRpdHkgdHlwZVxyXG4gICAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IHRoaXMuc2NoZW1hU2VydmljZS5nZXREZWZhdWx0RW50aXR5RGVzY3JpcHRpb24oZW50aXR5TmFtZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWRlc2NyaXB0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gU2tpcCBpZiBubyBkZWZhdWx0IGRlc2NyaXB0aW9uIGF2YWlsYWJsZVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAocGx1Z2luLnNldHRpbmdzLmVudGl0eURlc2NyaXB0aW9uc1tlbnRpdHlOYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGV4aXN0aW5nIHdpdGggZGVmYXVsdCBkZXNjcmlwdGlvbiBidXQga2VlcCB1c2VyIHNvdXJjZSBpZiBpdCB3YXMgdXNlci1kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZyA9IHBsdWdpbi5zZXR0aW5ncy5lbnRpdHlEZXNjcmlwdGlvbnNbZW50aXR5TmFtZV07XHJcbiAgICAgICAgICAgICAgICBpZiAoZXhpc3Rpbmcuc291cmNlICE9PSAndXNlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MuZW50aXR5RGVzY3JpcHRpb25zW2VudGl0eU5hbWVdID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5leGlzdGluZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IFwiZGlzY292ZXJ5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RNb2RpZmllZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkQ291bnQrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIEFkZCBuZXcgZGVmYXVsdCBlbnRpdHkgZGVzY3JpcHRpb25cclxuICAgICAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5lbnRpdHlEZXNjcmlwdGlvbnNbZW50aXR5TmFtZV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBlbnRpdHlOYW1lLnJlcGxhY2UoL1xccysvZywgJycpLnJlcGxhY2UoL1teYS16QS1aMC05XS9nLCAnJyksXHJcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzVXNlckRlZmluZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZTogXCJkaXNjb3ZlcnlcIixcclxuICAgICAgICAgICAgICAgICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGFkZGVkQ291bnQrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0xvYWRlZCBhbGwgZGVmYXVsdCBlbnRpdHkgZGVzY3JpcHRpb25zJywgeyBhZGRlZENvdW50LCB1cGRhdGVkQ291bnQgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2FkIGFsbCBkZWZhdWx0IHByb3BlcnR5IGRlc2NyaXB0aW9ucyBmcm9tIFNjaGVtYURpc2NvdmVyeVNlcnZpY2VcclxuICAgICAqL1xyXG4gICAgYXN5bmMgbG9hZEFsbERlZmF1bHRQcm9wZXJ0eURlc2NyaXB0aW9ucygpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBjb25zdCBwbHVnaW4gPSB0aGlzLmdldFBsdWdpbigpO1xyXG4gICAgICAgIGlmICghcGx1Z2luPy5zZXR0aW5ncykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsdWdpbiBzZXR0aW5ncyBub3QgYXZhaWxhYmxlJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJbml0aWFsaXplIHByb3BlcnR5RGVzY3JpcHRpb25zIGlmIG5vdCBleGlzdHNcclxuICAgICAgICBpZiAoIXBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9ucykge1xyXG4gICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnMgPSB7fTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBhZGRlZENvdW50ID0gMDtcclxuICAgICAgICBsZXQgdXBkYXRlZENvdW50ID0gMDtcclxuXHJcbiAgICAgICAgLy8gR2V0IGRpc2NvdmVyZWQgZW50aXR5IHR5cGVzIHRvIGFwcGx5IHByb3BlcnR5IGRlc2NyaXB0aW9ucyB0b1xyXG4gICAgICAgIGNvbnN0IHNjaGVtYXMgPSBhd2FpdCB0aGlzLnNjaGVtYVNlcnZpY2UuZGlzY292ZXJBbGxTY2hlbWFzKCk7XHJcblxyXG4gICAgICAgIC8vIEZvciBlYWNoIGRpc2NvdmVyZWQgZW50aXR5IHR5cGVcclxuICAgICAgICBmb3IgKGNvbnN0IHNjaGVtYSBvZiBzY2hlbWFzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVudGl0eU5hbWUgPSBzY2hlbWEudHlwZU5hbWU7XHJcblxyXG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIGVudGl0eSBwcm9wZXJ0eSBkZXNjcmlwdGlvbnMgaWYgbm90IGV4aXN0c1xyXG4gICAgICAgICAgICBpZiAoIXBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9uc1tlbnRpdHlOYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zW2VudGl0eU5hbWVdID0ge307XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEZvciBlYWNoIHByb3BlcnR5IGluIHRoZSBzY2hlbWFcclxuICAgICAgICAgICAgZm9yIChjb25zdCBwcm9wZXJ0eSBvZiBzY2hlbWEucHJvcGVydGllcykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvcGVydHlOYW1lID0gcHJvcGVydHkubmFtZTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIGEgZGVmYXVsdCBkZXNjcmlwdGlvbiBmb3IgdGhpcyBwcm9wZXJ0eSB1c2luZyBleGlzdGluZyBtZXRob2RcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHREZXNjcmlwdGlvbiA9IHRoaXMuc2NoZW1hU2VydmljZS5nZXREZWZhdWx0UHJvcGVydHlEZXNjcmlwdGlvbihwcm9wZXJ0eU5hbWUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRlZmF1bHREZXNjcmlwdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnNbZW50aXR5TmFtZV1bcHJvcGVydHlOYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgZXhpc3RpbmcgcHJvcGVydHkgZGVzY3JpcHRpb24gaWYgaXQncyBub3QgdXNlci1kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zW2VudGl0eU5hbWVdW3Byb3BlcnR5TmFtZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleGlzdGluZy5zb3VyY2UgIT09ICd1c2VyJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zW2VudGl0eU5hbWVdW3Byb3BlcnR5TmFtZV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZXhpc3RpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlZmF1bHREZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IFwiZGlzY292ZXJ5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkQ291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCBuZXcgZGVmYXVsdCBwcm9wZXJ0eSBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnNbZW50aXR5TmFtZV1bcHJvcGVydHlOYW1lXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZWZhdWx0RGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFR5cGU6IHByb3BlcnR5LmluZmVycmVkVHlwZSA9PT0gJ3N0cmluZycgPyAnc3RyJyA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHkuaW5mZXJyZWRUeXBlID09PSAnbnVtYmVyJyA/ICdmbG9hdCcgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LmluZmVycmVkVHlwZSA9PT0gJ2Jvb2xlYW4nID8gJ2Jvb2wnIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eS5pbmZlcnJlZFR5cGUgPT09ICdkYXRlJyA/ICdkYXRldGltZScgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LmluZmVycmVkVHlwZSA9PT0gJ2FycmF5JyA/ICdMaXN0W3N0cl0nIDogJ3N0cicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1VzZXJEZWZpbmVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZTogXCJkaXNjb3ZlcnlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RNb2RpZmllZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZGVkQ291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdMb2FkZWQgYWxsIGRlZmF1bHQgcHJvcGVydHkgZGVzY3JpcHRpb25zJywgeyBhZGRlZENvdW50LCB1cGRhdGVkQ291bnQgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTYXZlIGN1cnJlbnQgZGF0YSBzdGF0ZSB0byBkYXRhLmpzb24gKGNvbnZlbmllbmNlIG1ldGhvZClcclxuICAgICAqL1xyXG4gICAgYXN5bmMgc2F2ZURhdGEoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgY29uc3QgcGx1Z2luID0gdGhpcy5nZXRQbHVnaW4oKTtcclxuICAgICAgICBpZiAoIXBsdWdpbj8uc2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbHVnaW4gc2V0dGluZ3Mgbm90IGF2YWlsYWJsZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1NhdmVkIGRhdGEgdG8gZGF0YS5qc29uJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2cgY2FjaGUgaGVhbHRoIG1ldHJpY3MgcGVyaW9kaWNhbGx5XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgbG9nQ2FjaGVNZXRyaWNzKGN1cnJlbnRWYXVsdElkOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTtcclxuICAgICAgICBjb25zdCB0aW1lU2luY2VMYXN0TG9nID0gbm93IC0gdGhpcy5sYXN0Q2FjaGVMb2dUaW1lO1xyXG4gICAgICAgIGNvbnN0IExPR19JTlRFUlZBTF9NUyA9IDUwMDA7IC8vIExvZyBldmVyeSA1IHNlY29uZHMgb3IgYWZ0ZXIgMTAgb3BlcmF0aW9uc1xyXG5cclxuICAgICAgICAvLyBMb2cgaWYgZW5vdWdoIHRpbWUgaGFzIHBhc3NlZCBPUiBpZiBhIHNpZ25pZmljYW50IG51bWJlciBvZiBvcGVyYXRpb25zIG9jY3VycmVkXHJcbiAgICAgICAgaWYgKHRpbWVTaW5jZUxhc3RMb2cgPiBMT0dfSU5URVJWQUxfTVMgfHwgKHRoaXMuY2FjaGVIaXRzICsgdGhpcy5jYWNoZU1pc3NlcykgJSAxMCA9PT0gMCkge1xyXG4gICAgICAgICAgICBjb25zdCB0b3RhbEFjY2Vzc2VzID0gdGhpcy5jYWNoZUhpdHMgKyB0aGlzLmNhY2hlTWlzc2VzO1xyXG4gICAgICAgICAgICBjb25zdCBoaXRSYXRpbyA9IHRvdGFsQWNjZXNzZXMgPiAwID8gKHRoaXMuY2FjaGVIaXRzIC8gdG90YWxBY2Nlc3NlcyAqIDEwMCkudG9GaXhlZCgyKSA6ICcwLjAwJztcclxuICAgICAgICAgICAgY29uc3QgY2FjaGVTaXplID0gdGhpcy5wYXRoQ2FjaGUuc2l6ZTtcclxuXHJcbiAgICAgICAgICAgIC8vIEVzdGltYXRlIG1lbW9yeSB1c2FnZSAocm91Z2ggZXN0aW1hdGUsIGFjdHVhbCBtZW1vcnkgdXNhZ2UgaXMgY29tcGxleClcclxuICAgICAgICAgICAgLy8gRWFjaCBlbnRyeSBpbiB0aGUgbWFwIHN0b3JlcyBhIHN0cmluZyBrZXkgYW5kIGEgVmF1bHRQYXRocyBvYmplY3QuXHJcbiAgICAgICAgICAgIC8vIFZhdWx0UGF0aHMgY29udGFpbnMgYSBmZXcgc3RyaW5ncy4gQSB2ZXJ5IHJvdWdoIGVzdGltYXRlOlxyXG4gICAgICAgICAgICBjb25zdCBlc3RpbWF0ZWRFbnRyeVNpemUgPSAyMDA7IC8vIGJ5dGVzIHBlciBlbnRyeSAoa2V5ICsgb2JqZWN0IHByb3BlcnRpZXMpXHJcbiAgICAgICAgICAgIGNvbnN0IGVzdGltYXRlZE1lbW9yeVVzYWdlS0IgPSAoY2FjaGVTaXplICogZXN0aW1hdGVkRW50cnlTaXplIC8gMTAyNCkudG9GaXhlZCgyKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBbQ0FDSEVfSEVBTFRIXSBWYXVsdDogJHtjdXJyZW50VmF1bHRJZH0sIEhpdHM6ICR7dGhpcy5jYWNoZUhpdHN9LCBNaXNzZXM6ICR7dGhpcy5jYWNoZU1pc3Nlc30sIEhpdCBSYXRpbzogJHtoaXRSYXRpb30lLCBDYWNoZSBTaXplOiAke2NhY2hlU2l6ZX0gZW50cmllcywgRXN0LiBNZW1vcnk6ICR7ZXN0aW1hdGVkTWVtb3J5VXNhZ2VLQn0gS0JgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFJlc2V0IGNvdW50ZXJzIGZvciB0aGUgbmV4dCBpbnRlcnZhbFxyXG4gICAgICAgICAgICB0aGlzLmNhY2hlSGl0cyA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuY2FjaGVNaXNzZXMgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RDYWNoZUxvZ1RpbWUgPSBub3c7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTUNQIHNlcnZlciBwcm9jZXNzIGxpZmVjeWNsZSBtYW5hZ2VtZW50XHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0YXJ0IHRoZSBNQ1Agc2VydmVyIHByb2Nlc3NcclxuICAgICAqL1xyXG4gICAgYXN5bmMgc3RhcnRNY3BTZXJ2ZXIoKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZzsgcGlkPzogbnVtYmVyIH0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBzZXJ2ZXIgaXMgYWxyZWFkeSBydW5uaW5nXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm1jcFNlcnZlclByb2Nlc3MgJiYgIXRoaXMubWNwU2VydmVyUHJvY2Vzcy5raWxsZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ01DUCBzZXJ2ZXIgaXMgYWxyZWFkeSBydW5uaW5nJyxcclxuICAgICAgICAgICAgICAgICAgICBwaWQ6IHRoaXMubWNwU2VydmVyUHJvY2Vzcy5waWRcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHsgcGx1Z2luRGlyIH0gPSB0aGlzLmdldFZhdWx0QXdhcmVQYXRocygpO1xyXG4gICAgICAgICAgICBjb25zdCBtY3BTZXJ2ZXJQYXRoID0gam9pbihwbHVnaW5EaXIsICdtY3Atc2VydmVyJywgJ21lZ2FtZW1fbWNwX3NlcnZlci5weScpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgTUNQIHNlcnZlciBmaWxlIGV4aXN0c1xyXG4gICAgICAgICAgICBjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XHJcbiAgICAgICAgICAgIGlmICghZnMuZXhpc3RzU3luYyhtY3BTZXJ2ZXJQYXRoKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgTUNQIHNlcnZlciBub3QgZm91bmQgYXQ6ICR7bWNwU2VydmVyUGF0aH1gXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdTdGFydGluZyBNQ1Agc2VydmVyIHByb2Nlc3MnLCB7IG1jcFNlcnZlclBhdGggfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBTcGF3biBNQ1Agc2VydmVyIHByb2Nlc3NcclxuICAgICAgICAgICAgdGhpcy5tY3BTZXJ2ZXJQcm9jZXNzID0gc3Bhd24oJ3B5dGhvbicsIFttY3BTZXJ2ZXJQYXRoXSwge1xyXG4gICAgICAgICAgICAgICAgc3RkaW86IFsncGlwZScsICdwaXBlJywgJ3BpcGUnXSxcclxuICAgICAgICAgICAgICAgIGN3ZDogam9pbihwbHVnaW5EaXIsICdtY3Atc2VydmVyJylcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBIYW5kbGUgcHJvY2VzcyBzdGFydHVwXHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1jcFNlcnZlclByb2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tY3BTZXJ2ZXJQcm9jZXNzLmtpbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tY3BTZXJ2ZXJQcm9jZXNzID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTUNQIHNlcnZlciBzdGFydHVwIHRpbWVvdXQnXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LCAxMDAwMCk7IC8vIDEwIHNlY29uZCB0aW1lb3V0XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5tY3BTZXJ2ZXJQcm9jZXNzIS5vbignc3Bhd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ01DUCBzZXJ2ZXIgc3RhcnRlZCBzdWNjZXNzZnVsbHknLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpZDogdGhpcy5tY3BTZXJ2ZXJQcm9jZXNzIS5waWRcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ01DUCBzZXJ2ZXIgc3RhcnRlZCBzdWNjZXNzZnVsbHknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwaWQ6IHRoaXMubWNwU2VydmVyUHJvY2VzcyEucGlkXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1jcFNlcnZlclByb2Nlc3MhLm9uKCdlcnJvcicsIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1jcFNlcnZlclByb2Nlc3MgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gc3RhcnQgTUNQIHNlcnZlcicsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBGYWlsZWQgdG8gc3RhcnQgTUNQIHNlcnZlcjogJHtlcnJvci5tZXNzYWdlfWBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubWNwU2VydmVyUHJvY2VzcyEub24oJ2V4aXQnLCAoY29kZSwgc2lnbmFsKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tY3BTZXJ2ZXJQcm9jZXNzID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdNQ1Agc2VydmVyIHByb2Nlc3MgZXhpdGVkJywgeyBjb2RlLCBzaWduYWwgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBMb2cgc2VydmVyIG91dHB1dFxyXG4gICAgICAgICAgICAgICAgdGhpcy5tY3BTZXJ2ZXJQcm9jZXNzIS5zdGRvdXQ/Lm9uKCdkYXRhJywgKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnTUNQIHNlcnZlciBzdGRvdXQnLCB7IG91dHB1dDogZGF0YS50b1N0cmluZygpLnRyaW0oKSB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubWNwU2VydmVyUHJvY2VzcyEuc3RkZXJyPy5vbignZGF0YScsIChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignTUNQIHNlcnZlciBzdGRlcnInLCB7IG91dHB1dDogZGF0YS50b1N0cmluZygpLnRyaW0oKSB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0Vycm9yIHN0YXJ0aW5nIE1DUCBzZXJ2ZXInLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBFcnJvciBzdGFydGluZyBNQ1Agc2VydmVyOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3RvcCB0aGUgTUNQIHNlcnZlciBwcm9jZXNzXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHN0b3BNY3BTZXJ2ZXIoKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZyB9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLm1jcFNlcnZlclByb2Nlc3MgfHwgdGhpcy5tY3BTZXJ2ZXJQcm9jZXNzLmtpbGxlZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdNQ1Agc2VydmVyIGlzIG5vdCBydW5uaW5nJ1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgcGlkID0gdGhpcy5tY3BTZXJ2ZXJQcm9jZXNzLnBpZDtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnU3RvcHBpbmcgTUNQIHNlcnZlciBwcm9jZXNzJywgeyBwaWQgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBHcmFjZWZ1bCBzaHV0ZG93biB3aXRoIHRpbWVvdXRcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBncmFjZWZ1bFRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBGb3JjZSBraWxsIGlmIGdyYWNlZnVsIHNodXRkb3duIGRpZG4ndCB3b3JrXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWNwU2VydmVyUHJvY2VzcyAmJiAhdGhpcy5tY3BTZXJ2ZXJQcm9jZXNzLmtpbGxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdGb3JjZSBraWxsaW5nIE1DUCBzZXJ2ZXIgcHJvY2VzcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1jcFNlcnZlclByb2Nlc3Mua2lsbCgnU0lHS0lMTCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIDUwMDApOyAvLyA1IHNlY29uZCB0aW1lb3V0IGZvciBncmFjZWZ1bCBzaHV0ZG93blxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubWNwU2VydmVyUHJvY2VzcyEub24oJ2V4aXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGdyYWNlZnVsVGltZW91dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tY3BTZXJ2ZXJQcm9jZXNzID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdNQ1Agc2VydmVyIHN0b3BwZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdNQ1Agc2VydmVyIHN0b3BwZWQgc3VjY2Vzc2Z1bGx5J1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU2VuZCBTSUdURVJNIGZvciBncmFjZWZ1bCBzaHV0ZG93blxyXG4gICAgICAgICAgICAgICAgdGhpcy5tY3BTZXJ2ZXJQcm9jZXNzPy5raWxsKCdTSUdURVJNJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRXJyb3Igc3RvcHBpbmcgTUNQIHNlcnZlcicsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogYEVycm9yIHN0b3BwaW5nIE1DUCBzZXJ2ZXI6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWBcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBNQ1Agc2VydmVyIGlzIHJ1bm5pbmdcclxuICAgICAqL1xyXG4gICAgaXNNY3BTZXJ2ZXJSdW5uaW5nKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1jcFNlcnZlclByb2Nlc3MgIT09IG51bGwgJiYgIXRoaXMubWNwU2VydmVyUHJvY2Vzcy5raWxsZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgTUNQIHNlcnZlciBzdGF0dXNcclxuICAgICAqL1xyXG4gICAgZ2V0TWNwU2VydmVyU3RhdHVzKCk6IHtcclxuICAgICAgICBydW5uaW5nOiBib29sZWFuO1xyXG4gICAgICAgIHBpZD86IG51bWJlcjtcclxuICAgICAgICBzdGF0dXM6ICdydW5uaW5nJyB8ICdzdG9wcGVkJyB8ICdlcnJvcic7XHJcbiAgICAgICAgbWVzc2FnZTogc3RyaW5nO1xyXG4gICAgfSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1jcFNlcnZlclByb2Nlc3MpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHJ1bm5pbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnc3RvcHBlZCcsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTUNQIHNlcnZlciBpcyBub3QgcnVubmluZydcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm1jcFNlcnZlclByb2Nlc3Mua2lsbGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBydW5uaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHN0YXR1czogJ3N0b3BwZWQnLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ01DUCBzZXJ2ZXIgcHJvY2VzcyB3YXMga2lsbGVkJ1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcnVubmluZzogdHJ1ZSxcclxuICAgICAgICAgICAgcGlkOiB0aGlzLm1jcFNlcnZlclByb2Nlc3MucGlkLFxyXG4gICAgICAgICAgICBzdGF0dXM6ICdydW5uaW5nJyxcclxuICAgICAgICAgICAgbWVzc2FnZTogYE1DUCBzZXJ2ZXIgaXMgcnVubmluZyAoUElEOiAke3RoaXMubWNwU2VydmVyUHJvY2Vzcy5waWR9KWBcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGUgQ2xhdWRlIERlc2t0b3AgY29uZmlndXJhdGlvbiBmb3IgTUNQIHNlcnZlclxyXG4gICAgICovXHJcbiAgICBnZW5lcmF0ZUNsYXVkZURlc2t0b3BDb25maWcoKToge1xyXG4gICAgICAgIHN1Y2Nlc3M6IGJvb2xlYW47XHJcbiAgICAgICAgY29uZmlnPzogYW55O1xyXG4gICAgICAgIG1lc3NhZ2U6IHN0cmluZztcclxuICAgICAgICBjb25maWdQYXRoPzogc3RyaW5nO1xyXG4gICAgfSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgeyBwbHVnaW5EaXIgfSA9IHRoaXMuZ2V0VmF1bHRBd2FyZVBhdGhzKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1jcFNlcnZlclBhdGggPSBqb2luKHBsdWdpbkRpciwgJ21jcC1zZXJ2ZXInLCAnbWVnYW1lbV9tY3Bfc2VydmVyLnB5Jyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGFKc29uUGF0aCA9IGpvaW4ocGx1Z2luRGlyLCAnZGF0YS5qc29uJyk7XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBNQ1Agc2VydmVyIGV4aXN0c1xyXG4gICAgICAgICAgICBjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XHJcbiAgICAgICAgICAgIGlmICghZnMuZXhpc3RzU3luYyhtY3BTZXJ2ZXJQYXRoKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgTUNQIHNlcnZlciBub3QgZm91bmQgYXQ6ICR7bWNwU2VydmVyUGF0aH1gXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBHZW5lcmF0ZSB0aGUgbWVnYW1lbSBzZWN0aW9uIHdpdGggcHJvcGVyIGVudmlyb25tZW50IHZhcmlhYmxlcyBhbmQgZm9yd2FyZCBzbGFzaGVzXHJcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgIFwibWVnYW1lbVwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJjb21tYW5kXCI6IFwicHl0aG9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJhcmdzXCI6IFttY3BTZXJ2ZXJQYXRoLnJlcGxhY2UoL1xcXFwvZywgJy8nKV0sXHJcbiAgICAgICAgICAgICAgICAgICAgXCJlbnZcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIk9CU0lESUFOX0NPTkZJR19QQVRIXCI6IGRhdGFKc29uUGF0aC5yZXBsYWNlKC9cXFxcL2csICcvJylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyBHZXQgQ2xhdWRlIERlc2t0b3AgY29uZmlnIHBhdGhcclxuICAgICAgICAgICAgY29uc3Qgb3MgPSByZXF1aXJlKCdvcycpO1xyXG4gICAgICAgICAgICBjb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xyXG4gICAgICAgICAgICBjb25zdCBjbGF1ZGVDb25maWdEaXIgPSBwYXRoLmpvaW4ob3MuaG9tZWRpcigpLCAnQXBwRGF0YScsICdSb2FtaW5nJywgJ0NsYXVkZScpO1xyXG4gICAgICAgICAgICBjb25zdCBjbGF1ZGVDb25maWdQYXRoID0gcGF0aC5qb2luKGNsYXVkZUNvbmZpZ0RpciwgJ2NsYXVkZV9kZXNrdG9wX2NvbmZpZy5qc29uJyk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZyxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdDbGF1ZGUgRGVza3RvcCBjb25maWd1cmF0aW9uIGdlbmVyYXRlZCBzdWNjZXNzZnVsbHknLFxyXG4gICAgICAgICAgICAgICAgY29uZmlnUGF0aDogY2xhdWRlQ29uZmlnUGF0aFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRXJyb3IgZ2VuZXJhdGluZyBDbGF1ZGUgRGVza3RvcCBjb25maWcnLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBFcnJvciBnZW5lcmF0aW5nIGNvbmZpZzogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IHNwYXduLCBDaGlsZFByb2Nlc3MgfSBmcm9tICdjaGlsZF9wcm9jZXNzJztcbmltcG9ydCB7IFBsdWdpbiB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IGpvaW4gfSBmcm9tICdwYXRoJztcbmltcG9ydCB0eXBlIHsgR3JhcGhpdGlQbHVnaW5TZXR0aW5ncyB9IGZyb20gJy4uL3R5cGVzL1NldHRpbmdzJztcbmltcG9ydCB7IEdyYXBoaXRpTG9nZ2VyIH0gZnJvbSAnLi4vdXRpbHMvTG9nZ2VyJztcbmltcG9ydCB7IFZhdWx0UmVnaXN0cnlTZXJ2aWNlIH0gZnJvbSAnLi9WYXVsdFJlZ2lzdHJ5U2VydmljZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGFlbW9uQ29tbWFuZCB7XG4gICAgY29tbWFuZDogc3RyaW5nO1xuICAgIGNvbmZpZz86IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEYWVtb25SZXNwb25zZSB7XG4gICAgc3RhdHVzOiAnc3VjY2VzcycgfCAnZXJyb3InO1xuICAgIGRhdGE/OiBhbnk7XG4gICAgZXJyb3I/OiBzdHJpbmc7XG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgICBwcm9jZXNzZWQ/OiBudW1iZXI7XG4gICAgc2tpcHBlZD86IG51bWJlcjtcbiAgICB0b3RhbD86IG51bWJlcjtcbiAgICBiYXRjaENvdW50PzogbnVtYmVyO1xuICAgIG5vZGVUeXBlc0xvYWRlZD86IG51bWJlcjtcbiAgICBlZGdlVHlwZXNMb2FkZWQ/OiBudW1iZXI7XG4gICAgZXJyb3JzPzogc3RyaW5nW107XG4gICAgaGFzRXJyb3JzPzogYm9vbGVhbjtcbiAgICBub3Rlcz86IGFueVtdO1xufVxuXG5pbnRlcmZhY2UgUXVldWVkQ29tbWFuZCB7XG4gICAgY29tbWFuZDogRGFlbW9uQ29tbWFuZDtcbiAgICByZXNvbHZlOiAodmFsdWU6IERhZW1vblJlc3BvbnNlKSA9PiB2b2lkO1xuICAgIHJlamVjdDogKHJlYXNvbj86IGFueSkgPT4gdm9pZDtcbiAgICB0aW1lb3V0OiBOb2RlSlMuVGltZW91dDtcbn1cblxuLyoqXG4gKiBQeXRob24gRGFlbW9uIEJyaWRnZSAtIE1hbmFnZXMgcGVyc2lzdGVudCBQeXRob24gcHJvY2VzcyBmb3IgQkdFIG1vZGVsIG9wdGltaXphdGlvblxuICogQHB1cnBvc2U6IEVsaW1pbmF0ZSAxNy0yNXMgQkdFIG1vZGVsIGxvYWRpbmcgb3ZlcmhlYWQgYnkga2VlcGluZyBwZXJzaXN0ZW50IFB5dGhvbiBwcm9jZXNzIEBkZXBlbmRzOiBzeW5jX2RhZW1vbi5weSBAcmVzdWx0czogNjAlIGZhc3RlciBzeW5jIG9wZXJhdGlvbnNcbiAqL1xuZXhwb3J0IGNsYXNzIFB5dGhvbkRhZW1vbkJyaWRnZSB7XG4gICAgcHJpdmF0ZSBwbHVnaW46IFBsdWdpbjtcbiAgICBwcml2YXRlIHNldHRpbmdzOiBHcmFwaGl0aVBsdWdpblNldHRpbmdzO1xuICAgIHByaXZhdGUgbG9nZ2VyOiBHcmFwaGl0aUxvZ2dlcjtcbiAgICBwcml2YXRlIHZhdWx0UmVnaXN0cnk6IFZhdWx0UmVnaXN0cnlTZXJ2aWNlO1xuICAgIHByaXZhdGUgZGFlbW9uUHJvY2VzczogQ2hpbGRQcm9jZXNzIHwgbnVsbCA9IG51bGw7XG4gICAgcHJpdmF0ZSBjb21tYW5kUXVldWU6IFF1ZXVlZENvbW1hbmRbXSA9IFtdO1xuICAgIHByaXZhdGUgaXNQcm9jZXNzaW5nID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBpc1NodXR0aW5nRG93biA9IGZhbHNlO1xuICAgIHByaXZhdGUgc3RhcnR1cFByb21pc2U6IFByb21pc2U8dm9pZD4gfCBudWxsID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKHBsdWdpbjogUGx1Z2luLCBzZXR0aW5nczogR3JhcGhpdGlQbHVnaW5TZXR0aW5ncywgbG9nZ2VyOiBHcmFwaGl0aUxvZ2dlciwgdmF1bHRSZWdpc3RyeTogVmF1bHRSZWdpc3RyeVNlcnZpY2UpIHtcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7XG4gICAgICAgIHRoaXMudmF1bHRSZWdpc3RyeSA9IHZhdWx0UmVnaXN0cnk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJlbG9hZCBkYWVtb24gZm9yIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbiAtIHB1YmxpYyBpbnRlcmZhY2UgZm9yIHBsdWdpbiBsYXVuY2hcbiAgICAgKiBAcHVycG9zZTogUHVibGljIG1ldGhvZCB0byBzdGFydCBkYWVtb24gZHVyaW5nIHBsdWdpbiBpbml0aWFsaXphdGlvbiBAZGVwZW5kczogc2V0dGluZ3MgZmxhZ3MgQHJlc3VsdHM6IEZhc3RlciBmaXJzdCBzeW5jXG4gICAgICovXG4gICAgYXN5bmMgcHJlbG9hZERhZW1vbigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnREYWVtb24oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdGFydCB0aGUgZGFlbW9uIHByb2Nlc3NcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIHN0YXJ0RGFlbW9uKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAodGhpcy5kYWVtb25Qcm9jZXNzICYmICF0aGlzLmRhZW1vblByb2Nlc3Mua2lsbGVkKSB7XG4gICAgICAgICAgICByZXR1cm47IC8vIEFscmVhZHkgcnVubmluZ1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc3RhcnR1cFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXJ0dXBQcm9taXNlOyAvLyBBbHJlYWR5IHN0YXJ0aW5nXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXJ0dXBQcm9taXNlID0gdGhpcy5fc3RhcnREYWVtb25JbnRlcm5hbCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5zdGFydHVwUHJvbWlzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9zdGFydERhZW1vbkludGVybmFsKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBicmlkZ2VQYXRoID0gdGhpcy5nZXRCcmlkZ2VQYXRoKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGFlbW9uU2NyaXB0ID0gam9pbihicmlkZ2VQYXRoLCAnc3luY19kYWVtb24ucHknKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tEQUVNT05dIFJlc29sdmVkIHBhdGhzJywgeyBicmlkZ2VQYXRoLCBkYWVtb25TY3JpcHQsIGV4aXN0czogZnMuZXhpc3RzU3luYyhkYWVtb25TY3JpcHQpIH0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnW0RBRU1PTl0gU3RhcnRpbmcgUHl0aG9uIGRhZW1vbiBwcm9jZXNzJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBQYXNzIGxvZ1BlcmZvcm1hbmNlIHNldHRpbmcgYXMgZW52aXJvbm1lbnQgdmFyaWFibGUgZm9yIGVhcmx5IHRpbWluZyBlbmFibGVtZW50XG4gICAgICAgICAgICAgICAgY29uc3QgZW52ID0geyAuLi5wcm9jZXNzLmVudiB9O1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmxvZ1BlcmZvcm1hbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGVudi5HUkFQSElUSV9MT0dfUEVSRk9STUFOQ0UgPSAndHJ1ZSc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5kYWVtb25Qcm9jZXNzID0gc3Bhd24oJ3B5dGhvbicsIFtkYWVtb25TY3JpcHRdLCB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZGlvOiBbJ3BpcGUnLCAncGlwZScsICdwaXBlJ10sXG4gICAgICAgICAgICAgICAgICAgIGN3ZDogYnJpZGdlUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgZW52OiBlbnZcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBkYWVtb24gc3RhcnR1cFxuICAgICAgICAgICAgICAgIGxldCBzdGFydHVwQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAvLyBDb2xkIHN0YXJ0IHdpdGggQkdFIHdhcm0tdXAgY2FuIGV4Y2VlZCAzMHMgb24gZmlyc3QgcnVuOyBhbGxvdyB1cCB0byAxMjBzXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnR1cFRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzdGFydHVwQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdbREFFTU9OXSBTdGFydHVwIHRpbWVvdXQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0RhZW1vbiBzdGFydHVwIHRpbWVvdXQnKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCAxMjAwMDApOyAvLyAxMjAgc2Vjb25kIHRpbWVvdXQgZm9yIEJHRSBsb2FkaW5nIChjb2xkIHN0YXJ0KVxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbREFFTU9OXSBXYWl0aW5nIHVwIHRvIDEyMHMgZm9yIGRhZW1vbiByZWFkaW5lc3MnKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZGFlbW9uUHJvY2Vzcy5zdGRvdXQ/Lm9uKCdkYXRhJywgKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3V0cHV0ID0gZGF0YS50b1N0cmluZygpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gUm91dGUgZGFlbW9uIHN0ZG91dCB0aHJvdWdoIHN0YW5kYXJkaXplZCBQeXRob24gb3V0cHV0IGxvZ2dlclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2dQeXRob25PdXRwdXQoJ3N0ZG91dCcsIG91dHB1dCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG91dHB1dC5pbmNsdWRlcygnXCJzdGF0dXNcIjogXCJyZWFkeVwiJykgJiYgIXN0YXJ0dXBDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnR1cENvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChzdGFydHVwVGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdbREFFTU9OXSBQcm9jZXNzIHJlYWR5IC0gQkdFIG1vZGVsIGxvYWRlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydHVwUHJvbWlzZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZGFlbW9uUHJvY2Vzcy5zdGRlcnI/Lm9uKCdkYXRhJywgKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBkYXRhLnRvU3RyaW5nKCkudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBSb3V0ZSBkYWVtb24gc3RkZXJyIHRocm91Z2ggc3RhbmRhcmRpemVkIFB5dGhvbiBvdXRwdXQgbG9nZ2VyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZ1B5dGhvbk91dHB1dCgnc3RkZXJyJywgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kYWVtb25Qcm9jZXNzLm9uKCdlcnJvcicsIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignW0RBRU1PTl0gUHJvY2VzcyBlcnJvcjonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnR1cFByb21pc2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXN0YXJ0dXBDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHN0YXJ0dXBUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZGFlbW9uUHJvY2Vzcy5vbignZXhpdCcsIChjb2RlLCBzaWduYWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhgW0RBRU1PTl0gUHJvY2VzcyBleGl0ZWQgd2l0aCBjb2RlICR7Y29kZX0sIHNpZ25hbCAke3NpZ25hbH1gKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYWVtb25Qcm9jZXNzID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydHVwUHJvbWlzZSA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzdGFydHVwQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChzdGFydHVwVGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGBEYWVtb24gcHJvY2VzcyBleGl0ZWQgd2l0aCBjb2RlICR7Y29kZX1gKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignW0RBRU1PTl0gRmFpbGVkIHRvIHN0YXJ0IHByb2Nlc3M6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnR1cFByb21pc2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGUgc3luYyBjb21tYW5kIHRocm91Z2ggZGFlbW9uXG4gICAgICovXG4gICAgYXN5bmMgZXhlY3V0ZURhZW1vblN5bmMoY29uZmlnOiBhbnkpOiBQcm9taXNlPERhZW1vblJlc3BvbnNlPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnN0YXJ0RGFlbW9uKCk7XG5cbiAgICAgICAgICAgIC8vIEBwdXJwb3NlOiBJbmNsdWRlIGxvZ1BlcmZvcm1hbmNlIHNldHRpbmcgaW4gZGFlbW9uIGNvbmZpZyBAZGVwZW5kczogdGhpcy5zZXR0aW5ncyBAcmVzdWx0czogUGVyZm9ybWFuY2UgdGltaW5nIGNvbnRyb2xsZWQgYnkgVUkgdG9nZ2xlXG4gICAgICAgICAgICBjb25zdCBlbmhhbmNlZENvbmZpZyA9IHtcbiAgICAgICAgICAgICAgICAuLi5jb25maWcsXG4gICAgICAgICAgICAgICAgbG9nUGVyZm9ybWFuY2U6IHRoaXMuc2V0dGluZ3MubG9nUGVyZm9ybWFuY2VcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbW1hbmQ6IERhZW1vbkNvbW1hbmQgPSB7XG4gICAgICAgICAgICAgICAgY29tbWFuZDogJ3N5bmMnLFxuICAgICAgICAgICAgICAgIGNvbmZpZzogZW5oYW5jZWRDb25maWdcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmV4ZWN1dGVDb21tYW5kKGNvbW1hbmQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1tEQUVNT05dIFN5bmMgZXhlY3V0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGUgY29tbWFuZCB0aHJvdWdoIGRhZW1vbiB3aXRoIHF1ZXVlIG1hbmFnZW1lbnRcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIGV4ZWN1dGVDb21tYW5kKGNvbW1hbmQ6IERhZW1vbkNvbW1hbmQpOiBQcm9taXNlPERhZW1vblJlc3BvbnNlPiB7XG4gICAgICAgIGlmICh0aGlzLmlzU2h1dHRpbmdEb3duKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RhZW1vbiBpcyBzaHV0dGluZyBkb3duJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0NvbW1hbmQgdGltZW91dCAtIGRhZW1vbiBtYXkgYmUgdW5yZXNwb25zaXZlJykpO1xuICAgICAgICAgICAgfSwgNjAwMDAwKTsgLy8gMTAgbWludXRlIHRpbWVvdXQgZm9yIHByb2R1Y3Rpb24gZmlsZXNcblxuICAgICAgICAgICAgY29uc3QgcXVldWVkQ29tbWFuZDogUXVldWVkQ29tbWFuZCA9IHtcbiAgICAgICAgICAgICAgICBjb21tYW5kLFxuICAgICAgICAgICAgICAgIHJlc29sdmU6IChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVqZWN0OiAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdGltZW91dFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy5jb21tYW5kUXVldWUucHVzaChxdWV1ZWRDb21tYW5kKTtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc1F1ZXVlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgY29tbWFuZCBxdWV1ZSBzZXF1ZW50aWFsbHlcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIHByb2Nlc3NRdWV1ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKHRoaXMuaXNQcm9jZXNzaW5nIHx8IHRoaXMuY29tbWFuZFF1ZXVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pc1Byb2Nlc3NpbmcgPSB0cnVlO1xuXG4gICAgICAgIHdoaWxlICh0aGlzLmNvbW1hbmRRdWV1ZS5sZW5ndGggPiAwICYmICF0aGlzLmlzU2h1dHRpbmdEb3duKSB7XG4gICAgICAgICAgICBjb25zdCBxdWV1ZWRDb21tYW5kID0gdGhpcy5jb21tYW5kUXVldWUuc2hpZnQoKSE7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRDb21tYW5kVG9EYWVtb24ocXVldWVkQ29tbWFuZC5jb21tYW5kKTtcbiAgICAgICAgICAgICAgICBxdWV1ZWRDb21tYW5kLnJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBxdWV1ZWRDb21tYW5kLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlzUHJvY2Vzc2luZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbmQgY29tbWFuZCB0byBkYWVtb24gcHJvY2VzcyBhbmQgd2FpdCBmb3IgcmVzcG9uc2VcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIHNlbmRDb21tYW5kVG9EYWVtb24oY29tbWFuZDogRGFlbW9uQ29tbWFuZCk6IFByb21pc2U8RGFlbW9uUmVzcG9uc2U+IHtcbiAgICAgICAgLy8gQ2FwdHVyZSBhIHN0YWJsZSByZWZlcmVuY2UgdG8gc2F0aXNmeSBUUyBhbmQgYXZvaWQgbnVsbGFiaWxpdHkgaW4gY2xvc3VyZXNcbiAgICAgICAgY29uc3QgcHJvYyA9IHRoaXMuZGFlbW9uUHJvY2VzcztcbiAgICAgICAgaWYgKCFwcm9jIHx8IHByb2Mua2lsbGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RhZW1vbiBwcm9jZXNzIG5vdCBhdmFpbGFibGUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBsZXQgcmVzcG9uc2VCdWZmZXIgPSAnJztcbiAgICAgICAgICAgIGxldCByZXNwb25zZVJlY2VpdmVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGNvbnN0IG9uRGF0YSA9IChkYXRhOiBCdWZmZXIpID0+IHtcbiAgICAgICAgICAgICAgICByZXNwb25zZUJ1ZmZlciArPSBkYXRhLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgY29tcGxldGUgSlNPTiByZXNwb25zZSAobmV3bGluZS1kZWxpbWl0ZWQpXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluZXMgPSByZXNwb25zZUJ1ZmZlci5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUudHJpbSgpICYmICFyZXNwb25zZVJlY2VpdmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBKU09OLnBhcnNlKGxpbmUudHJpbSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVJlY2VpdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jLnN0ZG91dD8ucmVtb3ZlTGlzdGVuZXIoJ2RhdGEnLCBvbkRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UgYXMgRGFlbW9uUmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICAvLyBDb250aW51ZSBidWZmZXJpbmcgdW50aWwgdmFsaWQgSlNPTiBpcyByZWNlaXZlZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHByb2Muc3Rkb3V0Py5vbignZGF0YScsIG9uRGF0YSk7XG5cbiAgICAgICAgICAgIC8vIFNlbmQgY29tbWFuZFxuICAgICAgICAgICAgY29uc3QgY29tbWFuZEpzb24gPSBKU09OLnN0cmluZ2lmeShjb21tYW5kKSArICdcXG4nO1xuICAgICAgICAgICAgcHJvYy5zdGRpbj8ud3JpdGUoY29tbWFuZEpzb24pO1xuXG4gICAgICAgICAgICAvLyBTZXR1cCB0aW1lb3V0IC0gaW5jcmVhc2VkIGZvciBwcm9kdWN0aW9uIGZpbGUgcHJvY2Vzc2luZ1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZVJlY2VpdmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Muc3Rkb3V0Py5yZW1vdmVMaXN0ZW5lcignZGF0YScsIG9uRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0NvbW1hbmQgcmVzcG9uc2UgdGltZW91dCcpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCA2MDAwMDApOyAvLyAxMCBtaW51dGUgdGltZW91dCBmb3IgcHJvZHVjdGlvbiBmaWxlc1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaHV0ZG93biBkYWVtb24gcHJvY2Vzc1xuICAgICAqL1xuICAgIGFzeW5jIHNodXRkb3duKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAodGhpcy5pc1NodXR0aW5nRG93bikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pc1NodXR0aW5nRG93biA9IHRydWU7XG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1tEQUVNT05dIFNodXR0aW5nIGRvd24gZGFlbW9uIHByb2Nlc3MnKTtcblxuICAgICAgICAvLyBDbGVhciBjb21tYW5kIHF1ZXVlXG4gICAgICAgIHRoaXMuY29tbWFuZFF1ZXVlLmZvckVhY2goY21kID0+IHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChjbWQudGltZW91dCk7XG4gICAgICAgICAgICBjbWQucmVqZWN0KG5ldyBFcnJvcignRGFlbW9uIHNodXR0aW5nIGRvd24nKSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNvbW1hbmRRdWV1ZSA9IFtdO1xuXG4gICAgICAgIC8vIEtpbGwgZGFlbW9uIHByb2Nlc3Mgd2l0aCByYWNlIGNvbmRpdGlvbiBwcm90ZWN0aW9uXG4gICAgICAgIGNvbnN0IHByb2Nlc3NSZWYgPSB0aGlzLmRhZW1vblByb2Nlc3M7XG4gICAgICAgIGlmIChwcm9jZXNzUmVmICYmICFwcm9jZXNzUmVmLmtpbGxlZCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBUcnkgZ3JhY2VmdWwgc2h1dGRvd24gZmlyc3RcbiAgICAgICAgICAgICAgICBjb25zdCBzaHV0ZG93bkNvbW1hbmQ6IERhZW1vbkNvbW1hbmQgPSB7IGNvbW1hbmQ6ICdzaHV0ZG93bicgfTtcbiAgICAgICAgICAgICAgICBwcm9jZXNzUmVmLnN0ZGluPy53cml0ZShKU09OLnN0cmluZ2lmeShzaHV0ZG93bkNvbW1hbmQpICsgJ1xcbicpO1xuXG4gICAgICAgICAgICAgICAgLy8gV2FpdCBicmllZmx5IGZvciBncmFjZWZ1bCBzaHV0ZG93blxuICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAyMDAwKSk7XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBwcm9jZXNzIHN0aWxsIGV4aXN0cyBhbmQgaXNuJ3Qga2lsbGVkXG4gICAgICAgICAgICAgICAgaWYgKHByb2Nlc3NSZWYgJiYgIXByb2Nlc3NSZWYua2lsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NSZWYua2lsbCgnU0lHVEVSTScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1tEQUVNT05dIEVycm9yIGR1cmluZyBzaHV0ZG93bjonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgaWYgKHByb2Nlc3NSZWYgJiYgIXByb2Nlc3NSZWYua2lsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NSZWYua2lsbCgnU0lHS0lMTCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGFlbW9uUHJvY2VzcyA9IG51bGw7XG4gICAgICAgIHRoaXMuaXNTaHV0dGluZ0Rvd24gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdGFydHVwUHJvbWlzZSA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGJyaWRnZSBwYXRoIGZvciBkYWVtb24gc2NyaXB0IGxvY2F0aW9uIHVzaW5nIHZhdWx0LWF3YXJlIHBhdGggcmVzb2x1dGlvblxuICAgICAqIEBwdXJwb3NlOiBDbGVhbiBwYXRoIHJlc29sdXRpb24gdXNpbmcgVmF1bHRSZWdpc3RyeVNlcnZpY2UgQGRlcGVuZHM6IFZhdWx0UmVnaXN0cnlTZXJ2aWNlIEByZXN1bHRzOiBDb3JyZWN0IGJyaWRnZSBwYXRoIGZvciBjdXJyZW50IHZhdWx0XG4gICAgICovXG4gICAgcHJpdmF0ZSBnZXRCcmlkZ2VQYXRoKCk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTtcblxuICAgICAgICAvLyBUcnkgdmF1bHQtYXdhcmUgcGF0aCByZXNvbHV0aW9uIGZpcnN0XG4gICAgICAgIGxldCBhY3RpdmVWYXVsdCA9IHRoaXMudmF1bHRSZWdpc3RyeS5nZXRBY3RpdmVWYXVsdCgpO1xuICAgICAgICBpZiAoIWFjdGl2ZVZhdWx0KSB7XG4gICAgICAgICAgICAvLyBFbnN1cmUgYWN0aXZlIHZhdWx0IGlzIHNldCBpZiBub3QgYWxyZWFkeSBkb25lXG4gICAgICAgICAgICB0aGlzLnZhdWx0UmVnaXN0cnkuZW5zdXJlQWN0aXZlVmF1bHQoKTtcbiAgICAgICAgICAgIGFjdGl2ZVZhdWx0ID0gdGhpcy52YXVsdFJlZ2lzdHJ5LmdldEFjdGl2ZVZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjdGl2ZVZhdWx0Py5wYXRoKSB7XG4gICAgICAgICAgICBjb25zdCB2YXVsdEJyaWRnZVBhdGggPSBqb2luKGFjdGl2ZVZhdWx0LnBhdGgsICcub2JzaWRpYW4nLCAncGx1Z2lucycsICdtZWdhbWVtLW1jcCcsICdncmFwaGl0aV9icmlkZ2UnKTtcbiAgICAgICAgICAgIGlmIChmcy5leGlzdHNTeW5jKGpvaW4odmF1bHRCcmlkZ2VQYXRoLCAnc3luY19kYWVtb24ucHknKSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW0RBRU1PTl0gVXNpbmcgdmF1bHQtYXdhcmUgYnJpZGdlIHBhdGgnLCB7IHBhdGg6IHZhdWx0QnJpZGdlUGF0aCB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmF1bHRCcmlkZ2VQYXRoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmFsbGJhY2sgdG8gcGx1Z2luIG1hbmlmZXN0IGRpcmVjdG9yeSB3aXRoIGFic29sdXRlIHBhdGhcbiAgICAgICAgY29uc3QgbWFuaWZlc3REaXIgPSAodGhpcy5wbHVnaW4gYXMgYW55KT8ubWFuaWZlc3Q/LmRpciB8fCAnJztcbiAgICAgICAgY29uc3QgY3VycmVudFZhdWx0UGF0aCA9ICgodGhpcy5wbHVnaW4gYXMgYW55KS5hcHA/LnZhdWx0Py5hZGFwdGVyIGFzIGFueSk/LmJhc2VQYXRoIHx8ICcnO1xuICAgICAgICBjb25zdCBmYWxsYmFja1BhdGggPSBjdXJyZW50VmF1bHRQYXRoID8gam9pbihjdXJyZW50VmF1bHRQYXRoLCBtYW5pZmVzdERpciwgJ2dyYXBoaXRpX2JyaWRnZScpIDogam9pbihtYW5pZmVzdERpciwgJ2dyYXBoaXRpX2JyaWRnZScpO1xuXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbREFFTU9OXSBVc2luZyBmYWxsYmFjayBicmlkZ2UgcGF0aCcsIHtcbiAgICAgICAgICAgIHBhdGg6IGZhbGxiYWNrUGF0aCxcbiAgICAgICAgICAgIHZhdWx0UGF0aDogYWN0aXZlVmF1bHQ/LnBhdGggfHwgJ25vbmUnLFxuICAgICAgICAgICAgbWFuaWZlc3REaXIsXG4gICAgICAgICAgICBjdXJyZW50VmF1bHRQYXRoXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBmYWxsYmFja1BhdGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgZGFlbW9uIGlzIHJ1bm5pbmdcbiAgICAgKi9cbiAgICBpc1J1bm5pbmcoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhISh0aGlzLmRhZW1vblByb2Nlc3MgJiYgIXRoaXMuZGFlbW9uUHJvY2Vzcy5raWxsZWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBkYWVtb24gc3RhdHVzIGZvciBtb25pdG9yaW5nXG4gICAgICovXG4gICAgZ2V0U3RhdHVzKCk6IHsgcnVubmluZzogYm9vbGVhbjsgcXVldWVMZW5ndGg6IG51bWJlcjsgcHJvY2Vzc2luZzogYm9vbGVhbiB9IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJ1bm5pbmc6IHRoaXMuaXNSdW5uaW5nKCksXG4gICAgICAgICAgICBxdWV1ZUxlbmd0aDogdGhpcy5jb21tYW5kUXVldWUubGVuZ3RoLFxuICAgICAgICAgICAgcHJvY2Vzc2luZzogdGhpcy5pc1Byb2Nlc3NpbmdcbiAgICAgICAgfTtcbiAgICB9XG59IiwiLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5leHBvcnQgY29uc3QgaWRlbnRpdHkgPSAoeCkgPT4geDtcblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHRlbXBsYXRlIFNcbiAqIEBwYXJhbSB7VH0gdGFyXG4gKiBAcGFyYW0ge1N9IHNyY1xuICogQHJldHVybnMge1QgJiBTfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduKHRhciwgc3JjKSB7XG5cdC8vIEB0cy1pZ25vcmVcblx0Zm9yIChjb25zdCBrIGluIHNyYykgdGFyW2tdID0gc3JjW2tdO1xuXHRyZXR1cm4gLyoqIEB0eXBlIHtUICYgU30gKi8gKHRhcik7XG59XG5cbi8vIEFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vdGhlbi9pcy1wcm9taXNlL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG4vLyBEaXN0cmlidXRlZCB1bmRlciBNSVQgTGljZW5zZSBodHRwczovL2dpdGh1Yi5jb20vdGhlbi9pcy1wcm9taXNlL2Jsb2IvbWFzdGVyL0xJQ0VOU0Vcbi8qKlxuICogQHBhcmFtIHthbnl9IHZhbHVlXG4gKiBAcmV0dXJucyB7dmFsdWUgaXMgUHJvbWlzZUxpa2U8YW55Pn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX3Byb21pc2UodmFsdWUpIHtcblx0cmV0dXJuIChcblx0XHQhIXZhbHVlICYmXG5cdFx0KHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSAmJlxuXHRcdHR5cGVvZiAoLyoqIEB0eXBlIHthbnl9ICovICh2YWx1ZSkudGhlbikgPT09ICdmdW5jdGlvbidcblx0KTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZF9sb2NhdGlvbihlbGVtZW50LCBmaWxlLCBsaW5lLCBjb2x1bW4sIGNoYXIpIHtcblx0ZWxlbWVudC5fX3N2ZWx0ZV9tZXRhID0ge1xuXHRcdGxvYzogeyBmaWxlLCBsaW5lLCBjb2x1bW4sIGNoYXIgfVxuXHR9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcnVuKGZuKSB7XG5cdHJldHVybiBmbigpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmxhbmtfb2JqZWN0KCkge1xuXHRyZXR1cm4gT2JqZWN0LmNyZWF0ZShudWxsKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0Z1bmN0aW9uW119IGZuc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBydW5fYWxsKGZucykge1xuXHRmbnMuZm9yRWFjaChydW4pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7YW55fSB0aGluZ1xuICogQHJldHVybnMge3RoaW5nIGlzIEZ1bmN0aW9ufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNfZnVuY3Rpb24odGhpbmcpIHtcblx0cmV0dXJuIHR5cGVvZiB0aGluZyA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuLyoqIEByZXR1cm5zIHtib29sZWFufSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhZmVfbm90X2VxdWFsKGEsIGIpIHtcblx0cmV0dXJuIGEgIT0gYSA/IGIgPT0gYiA6IGEgIT09IGIgfHwgKGEgJiYgdHlwZW9mIGEgPT09ICdvYmplY3QnKSB8fCB0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJztcbn1cblxubGV0IHNyY191cmxfZXF1YWxfYW5jaG9yO1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBlbGVtZW50X3NyY1xuICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcmNfdXJsX2VxdWFsKGVsZW1lbnRfc3JjLCB1cmwpIHtcblx0aWYgKGVsZW1lbnRfc3JjID09PSB1cmwpIHJldHVybiB0cnVlO1xuXHRpZiAoIXNyY191cmxfZXF1YWxfYW5jaG9yKSB7XG5cdFx0c3JjX3VybF9lcXVhbF9hbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG5cdH1cblx0Ly8gVGhpcyBpcyBhY3R1YWxseSBmYXN0ZXIgdGhhbiBkb2luZyBVUkwoLi4pLmhyZWZcblx0c3JjX3VybF9lcXVhbF9hbmNob3IuaHJlZiA9IHVybDtcblx0cmV0dXJuIGVsZW1lbnRfc3JjID09PSBzcmNfdXJsX2VxdWFsX2FuY2hvci5ocmVmO1xufVxuXG4vKiogQHBhcmFtIHtzdHJpbmd9IHNyY3NldCAqL1xuZnVuY3Rpb24gc3BsaXRfc3Jjc2V0KHNyY3NldCkge1xuXHRyZXR1cm4gc3Jjc2V0LnNwbGl0KCcsJykubWFwKChzcmMpID0+IHNyYy50cmltKCkuc3BsaXQoJyAnKS5maWx0ZXIoQm9vbGVhbikpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTFNvdXJjZUVsZW1lbnQgfCBIVE1MSW1hZ2VFbGVtZW50fSBlbGVtZW50X3NyY3NldFxuICogQHBhcmFtIHtzdHJpbmcgfCB1bmRlZmluZWQgfCBudWxsfSBzcmNzZXRcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3Jjc2V0X3VybF9lcXVhbChlbGVtZW50X3NyY3NldCwgc3Jjc2V0KSB7XG5cdGNvbnN0IGVsZW1lbnRfdXJscyA9IHNwbGl0X3NyY3NldChlbGVtZW50X3NyY3NldC5zcmNzZXQpO1xuXHRjb25zdCB1cmxzID0gc3BsaXRfc3Jjc2V0KHNyY3NldCB8fCAnJyk7XG5cblx0cmV0dXJuIChcblx0XHR1cmxzLmxlbmd0aCA9PT0gZWxlbWVudF91cmxzLmxlbmd0aCAmJlxuXHRcdHVybHMuZXZlcnkoXG5cdFx0XHQoW3VybCwgd2lkdGhdLCBpKSA9PlxuXHRcdFx0XHR3aWR0aCA9PT0gZWxlbWVudF91cmxzW2ldWzFdICYmXG5cdFx0XHRcdC8vIFdlIG5lZWQgdG8gdGVzdCBib3RoIHdheXMgYmVjYXVzZSBWaXRlIHdpbGwgY3JlYXRlIGFuIGEgZnVsbCBVUkwgd2l0aFxuXHRcdFx0XHQvLyBgbmV3IFVSTChhc3NldCwgaW1wb3J0Lm1ldGEudXJsKS5ocmVmYCBmb3IgdGhlIGNsaWVudCB3aGVuIGBiYXNlOiAnLi8nYCwgYW5kIHRoZVxuXHRcdFx0XHQvLyByZWxhdGl2ZSBVUkxzIGluc2lkZSBzcmNzZXQgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IHJlc29sdmVkIHRvIGFic29sdXRlIFVSTHMgYnlcblx0XHRcdFx0Ly8gYnJvd3NlcnMgKGluIGNvbnRyYXN0IHRvIGltZy5zcmMpLiBUaGlzIG1lYW5zIGJvdGggU1NSIGFuZCBET00gY29kZSBjb3VsZFxuXHRcdFx0XHQvLyBjb250YWluIHJlbGF0aXZlIG9yIGFic29sdXRlIFVSTHMuXG5cdFx0XHRcdChzcmNfdXJsX2VxdWFsKGVsZW1lbnRfdXJsc1tpXVswXSwgdXJsKSB8fCBzcmNfdXJsX2VxdWFsKHVybCwgZWxlbWVudF91cmxzW2ldWzBdKSlcblx0XHQpXG5cdCk7XG59XG5cbi8qKiBAcmV0dXJucyB7Ym9vbGVhbn0gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3RfZXF1YWwoYSwgYikge1xuXHRyZXR1cm4gYSAhPSBhID8gYiA9PSBiIDogYSAhPT0gYjtcbn1cblxuLyoqIEByZXR1cm5zIHtib29sZWFufSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX2VtcHR5KG9iaikge1xuXHRyZXR1cm4gT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDA7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZV9zdG9yZShzdG9yZSwgbmFtZSkge1xuXHRpZiAoc3RvcmUgIT0gbnVsbCAmJiB0eXBlb2Ygc3RvcmUuc3Vic2NyaWJlICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGAnJHtuYW1lfScgaXMgbm90IGEgc3RvcmUgd2l0aCBhICdzdWJzY3JpYmUnIG1ldGhvZGApO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJzY3JpYmUoc3RvcmUsIC4uLmNhbGxiYWNrcykge1xuXHRpZiAoc3RvcmUgPT0gbnVsbCkge1xuXHRcdGZvciAoY29uc3QgY2FsbGJhY2sgb2YgY2FsbGJhY2tzKSB7XG5cdFx0XHRjYWxsYmFjayh1bmRlZmluZWQpO1xuXHRcdH1cblx0XHRyZXR1cm4gbm9vcDtcblx0fVxuXHRjb25zdCB1bnN1YiA9IHN0b3JlLnN1YnNjcmliZSguLi5jYWxsYmFja3MpO1xuXHRyZXR1cm4gdW5zdWIudW5zdWJzY3JpYmUgPyAoKSA9PiB1bnN1Yi51bnN1YnNjcmliZSgpIDogdW5zdWI7XG59XG5cbi8qKlxuICogR2V0IHRoZSBjdXJyZW50IHZhbHVlIGZyb20gYSBzdG9yZSBieSBzdWJzY3JpYmluZyBhbmQgaW1tZWRpYXRlbHkgdW5zdWJzY3JpYmluZy5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtc3RvcmUjZ2V0XG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtpbXBvcnQoJy4uL3N0b3JlL3B1YmxpYy5qcycpLlJlYWRhYmxlPFQ+fSBzdG9yZVxuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfc3RvcmVfdmFsdWUoc3RvcmUpIHtcblx0bGV0IHZhbHVlO1xuXHRzdWJzY3JpYmUoc3RvcmUsIChfKSA9PiAodmFsdWUgPSBfKSkoKTtcblx0cmV0dXJuIHZhbHVlO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gY29tcG9uZW50X3N1YnNjcmliZShjb21wb25lbnQsIHN0b3JlLCBjYWxsYmFjaykge1xuXHRjb21wb25lbnQuJCQub25fZGVzdHJveS5wdXNoKHN1YnNjcmliZShzdG9yZSwgY2FsbGJhY2spKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9zbG90KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pIHtcblx0aWYgKGRlZmluaXRpb24pIHtcblx0XHRjb25zdCBzbG90X2N0eCA9IGdldF9zbG90X2NvbnRleHQoZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBmbik7XG5cdFx0cmV0dXJuIGRlZmluaXRpb25bMF0oc2xvdF9jdHgpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGdldF9zbG90X2NvbnRleHQoZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBmbikge1xuXHRyZXR1cm4gZGVmaW5pdGlvblsxXSAmJiBmbiA/IGFzc2lnbigkJHNjb3BlLmN0eC5zbGljZSgpLCBkZWZpbml0aW9uWzFdKGZuKGN0eCkpKSA6ICQkc2NvcGUuY3R4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3Nsb3RfY2hhbmdlcyhkZWZpbml0aW9uLCAkJHNjb3BlLCBkaXJ0eSwgZm4pIHtcblx0aWYgKGRlZmluaXRpb25bMl0gJiYgZm4pIHtcblx0XHRjb25zdCBsZXRzID0gZGVmaW5pdGlvblsyXShmbihkaXJ0eSkpO1xuXHRcdGlmICgkJHNjb3BlLmRpcnR5ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBsZXRzO1xuXHRcdH1cblx0XHRpZiAodHlwZW9mIGxldHMgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRjb25zdCBtZXJnZWQgPSBbXTtcblx0XHRcdGNvbnN0IGxlbiA9IE1hdGgubWF4KCQkc2NvcGUuZGlydHkubGVuZ3RoLCBsZXRzLmxlbmd0aCk7XG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSAxKSB7XG5cdFx0XHRcdG1lcmdlZFtpXSA9ICQkc2NvcGUuZGlydHlbaV0gfCBsZXRzW2ldO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1lcmdlZDtcblx0XHR9XG5cdFx0cmV0dXJuICQkc2NvcGUuZGlydHkgfCBsZXRzO1xuXHR9XG5cdHJldHVybiAkJHNjb3BlLmRpcnR5O1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlX3Nsb3RfYmFzZShcblx0c2xvdCxcblx0c2xvdF9kZWZpbml0aW9uLFxuXHRjdHgsXG5cdCQkc2NvcGUsXG5cdHNsb3RfY2hhbmdlcyxcblx0Z2V0X3Nsb3RfY29udGV4dF9mblxuKSB7XG5cdGlmIChzbG90X2NoYW5nZXMpIHtcblx0XHRjb25zdCBzbG90X2NvbnRleHQgPSBnZXRfc2xvdF9jb250ZXh0KHNsb3RfZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBnZXRfc2xvdF9jb250ZXh0X2ZuKTtcblx0XHRzbG90LnAoc2xvdF9jb250ZXh0LCBzbG90X2NoYW5nZXMpO1xuXHR9XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVfc2xvdChcblx0c2xvdCxcblx0c2xvdF9kZWZpbml0aW9uLFxuXHRjdHgsXG5cdCQkc2NvcGUsXG5cdGRpcnR5LFxuXHRnZXRfc2xvdF9jaGFuZ2VzX2ZuLFxuXHRnZXRfc2xvdF9jb250ZXh0X2ZuXG4pIHtcblx0Y29uc3Qgc2xvdF9jaGFuZ2VzID0gZ2V0X3Nsb3RfY2hhbmdlcyhzbG90X2RlZmluaXRpb24sICQkc2NvcGUsIGRpcnR5LCBnZXRfc2xvdF9jaGFuZ2VzX2ZuKTtcblx0dXBkYXRlX3Nsb3RfYmFzZShzbG90LCBzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgc2xvdF9jaGFuZ2VzLCBnZXRfc2xvdF9jb250ZXh0X2ZuKTtcbn1cblxuLyoqIEByZXR1cm5zIHthbnlbXSB8IC0xfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9hbGxfZGlydHlfZnJvbV9zY29wZSgkJHNjb3BlKSB7XG5cdGlmICgkJHNjb3BlLmN0eC5sZW5ndGggPiAzMikge1xuXHRcdGNvbnN0IGRpcnR5ID0gW107XG5cdFx0Y29uc3QgbGVuZ3RoID0gJCRzY29wZS5jdHgubGVuZ3RoIC8gMzI7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHRcdFx0ZGlydHlbaV0gPSAtMTtcblx0XHR9XG5cdFx0cmV0dXJuIGRpcnR5O1xuXHR9XG5cdHJldHVybiAtMTtcbn1cblxuLyoqIEByZXR1cm5zIHt7fX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBleGNsdWRlX2ludGVybmFsX3Byb3BzKHByb3BzKSB7XG5cdGNvbnN0IHJlc3VsdCA9IHt9O1xuXHRmb3IgKGNvbnN0IGsgaW4gcHJvcHMpIGlmIChrWzBdICE9PSAnJCcpIHJlc3VsdFtrXSA9IHByb3BzW2tdO1xuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG4vKiogQHJldHVybnMge3t9fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVfcmVzdF9wcm9wcyhwcm9wcywga2V5cykge1xuXHRjb25zdCByZXN0ID0ge307XG5cdGtleXMgPSBuZXcgU2V0KGtleXMpO1xuXHRmb3IgKGNvbnN0IGsgaW4gcHJvcHMpIGlmICgha2V5cy5oYXMoaykgJiYga1swXSAhPT0gJyQnKSByZXN0W2tdID0gcHJvcHNba107XG5cdHJldHVybiByZXN0O1xufVxuXG4vKiogQHJldHVybnMge3t9fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVfc2xvdHMoc2xvdHMpIHtcblx0Y29uc3QgcmVzdWx0ID0ge307XG5cdGZvciAoY29uc3Qga2V5IGluIHNsb3RzKSB7XG5cdFx0cmVzdWx0W2tleV0gPSB0cnVlO1xuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59XG5cbi8qKiBAcmV0dXJucyB7KHRoaXM6IGFueSwgLi4uYXJnczogYW55W10pID0+IHZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gb25jZShmbikge1xuXHRsZXQgcmFuID0gZmFsc2U7XG5cdHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuXHRcdGlmIChyYW4pIHJldHVybjtcblx0XHRyYW4gPSB0cnVlO1xuXHRcdGZuLmNhbGwodGhpcywgLi4uYXJncyk7XG5cdH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBudWxsX3RvX2VtcHR5KHZhbHVlKSB7XG5cdHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldF9zdG9yZV92YWx1ZShzdG9yZSwgcmV0LCB2YWx1ZSkge1xuXHRzdG9yZS5zZXQodmFsdWUpO1xuXHRyZXR1cm4gcmV0O1xufVxuXG5leHBvcnQgY29uc3QgaGFzX3Byb3AgPSAob2JqLCBwcm9wKSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGFjdGlvbl9kZXN0cm95ZXIoYWN0aW9uX3Jlc3VsdCkge1xuXHRyZXR1cm4gYWN0aW9uX3Jlc3VsdCAmJiBpc19mdW5jdGlvbihhY3Rpb25fcmVzdWx0LmRlc3Ryb3kpID8gYWN0aW9uX3Jlc3VsdC5kZXN0cm95IDogbm9vcDtcbn1cblxuLyoqIEBwYXJhbSB7bnVtYmVyIHwgc3RyaW5nfSB2YWx1ZVxuICogQHJldHVybnMge1tudW1iZXIsIHN0cmluZ119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcGxpdF9jc3NfdW5pdCh2YWx1ZSkge1xuXHRjb25zdCBzcGxpdCA9IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgdmFsdWUubWF0Y2goL15cXHMqKC0/W1xcZC5dKykoW15cXHNdKilcXHMqJC8pO1xuXHRyZXR1cm4gc3BsaXQgPyBbcGFyc2VGbG9hdChzcGxpdFsxXSksIHNwbGl0WzJdIHx8ICdweCddIDogWy8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodmFsdWUpLCAncHgnXTtcbn1cblxuZXhwb3J0IGNvbnN0IGNvbnRlbnRlZGl0YWJsZV90cnV0aHlfdmFsdWVzID0gWycnLCB0cnVlLCAxLCAndHJ1ZScsICdjb250ZW50ZWRpdGFibGUnXTtcbiIsImltcG9ydCB7IGNvbnRlbnRlZGl0YWJsZV90cnV0aHlfdmFsdWVzLCBoYXNfcHJvcCB9IGZyb20gJy4vdXRpbHMuanMnO1xuXG5pbXBvcnQgeyBSZXNpemVPYnNlcnZlclNpbmdsZXRvbiB9IGZyb20gJy4vUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24uanMnO1xuXG4vLyBUcmFjayB3aGljaCBub2RlcyBhcmUgY2xhaW1lZCBkdXJpbmcgaHlkcmF0aW9uLiBVbmNsYWltZWQgbm9kZXMgY2FuIHRoZW4gYmUgcmVtb3ZlZCBmcm9tIHRoZSBET01cbi8vIGF0IHRoZSBlbmQgb2YgaHlkcmF0aW9uIHdpdGhvdXQgdG91Y2hpbmcgdGhlIHJlbWFpbmluZyBub2Rlcy5cbmxldCBpc19oeWRyYXRpbmcgPSBmYWxzZTtcblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0X2h5ZHJhdGluZygpIHtcblx0aXNfaHlkcmF0aW5nID0gdHJ1ZTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuZF9oeWRyYXRpbmcoKSB7XG5cdGlzX2h5ZHJhdGluZyA9IGZhbHNlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBsb3dcbiAqIEBwYXJhbSB7bnVtYmVyfSBoaWdoXG4gKiBAcGFyYW0geyhpbmRleDogbnVtYmVyKSA9PiBudW1iZXJ9IGtleVxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiB1cHBlcl9ib3VuZChsb3csIGhpZ2gsIGtleSwgdmFsdWUpIHtcblx0Ly8gUmV0dXJuIGZpcnN0IGluZGV4IG9mIHZhbHVlIGxhcmdlciB0aGFuIGlucHV0IHZhbHVlIGluIHRoZSByYW5nZSBbbG93LCBoaWdoKVxuXHR3aGlsZSAobG93IDwgaGlnaCkge1xuXHRcdGNvbnN0IG1pZCA9IGxvdyArICgoaGlnaCAtIGxvdykgPj4gMSk7XG5cdFx0aWYgKGtleShtaWQpIDw9IHZhbHVlKSB7XG5cdFx0XHRsb3cgPSBtaWQgKyAxO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRoaWdoID0gbWlkO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gbG93O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZUV4fSB0YXJnZXRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiBpbml0X2h5ZHJhdGUodGFyZ2V0KSB7XG5cdGlmICh0YXJnZXQuaHlkcmF0ZV9pbml0KSByZXR1cm47XG5cdHRhcmdldC5oeWRyYXRlX2luaXQgPSB0cnVlO1xuXHQvLyBXZSBrbm93IHRoYXQgYWxsIGNoaWxkcmVuIGhhdmUgY2xhaW1fb3JkZXIgdmFsdWVzIHNpbmNlIHRoZSB1bmNsYWltZWQgaGF2ZSBiZWVuIGRldGFjaGVkIGlmIHRhcmdldCBpcyBub3QgPGhlYWQ+XG5cblx0bGV0IGNoaWxkcmVuID0gLyoqIEB0eXBlIHtBcnJheUxpa2U8Tm9kZUV4Mj59ICovICh0YXJnZXQuY2hpbGROb2Rlcyk7XG5cdC8vIElmIHRhcmdldCBpcyA8aGVhZD4sIHRoZXJlIG1heSBiZSBjaGlsZHJlbiB3aXRob3V0IGNsYWltX29yZGVyXG5cdGlmICh0YXJnZXQubm9kZU5hbWUgPT09ICdIRUFEJykge1xuXHRcdGNvbnN0IG15X2NoaWxkcmVuID0gW107XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3Qgbm9kZSA9IGNoaWxkcmVuW2ldO1xuXHRcdFx0aWYgKG5vZGUuY2xhaW1fb3JkZXIgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRteV9jaGlsZHJlbi5wdXNoKG5vZGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRjaGlsZHJlbiA9IG15X2NoaWxkcmVuO1xuXHR9XG5cdC8qXG5cdCAqIFJlb3JkZXIgY2xhaW1lZCBjaGlsZHJlbiBvcHRpbWFsbHkuXG5cdCAqIFdlIGNhbiByZW9yZGVyIGNsYWltZWQgY2hpbGRyZW4gb3B0aW1hbGx5IGJ5IGZpbmRpbmcgdGhlIGxvbmdlc3Qgc3Vic2VxdWVuY2Ugb2Zcblx0ICogbm9kZXMgdGhhdCBhcmUgYWxyZWFkeSBjbGFpbWVkIGluIG9yZGVyIGFuZCBvbmx5IG1vdmluZyB0aGUgcmVzdC4gVGhlIGxvbmdlc3Rcblx0ICogc3Vic2VxdWVuY2Ugb2Ygbm9kZXMgdGhhdCBhcmUgY2xhaW1lZCBpbiBvcmRlciBjYW4gYmUgZm91bmQgYnlcblx0ICogY29tcHV0aW5nIHRoZSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2Ugb2YgLmNsYWltX29yZGVyIHZhbHVlcy5cblx0ICpcblx0ICogVGhpcyBhbGdvcml0aG0gaXMgb3B0aW1hbCBpbiBnZW5lcmF0aW5nIHRoZSBsZWFzdCBhbW91bnQgb2YgcmVvcmRlciBvcGVyYXRpb25zXG5cdCAqIHBvc3NpYmxlLlxuXHQgKlxuXHQgKiBQcm9vZjpcblx0ICogV2Uga25vdyB0aGF0LCBnaXZlbiBhIHNldCBvZiByZW9yZGVyaW5nIG9wZXJhdGlvbnMsIHRoZSBub2RlcyB0aGF0IGRvIG5vdCBtb3ZlXG5cdCAqIGFsd2F5cyBmb3JtIGFuIGluY3JlYXNpbmcgc3Vic2VxdWVuY2UsIHNpbmNlIHRoZXkgZG8gbm90IG1vdmUgYW1vbmcgZWFjaCBvdGhlclxuXHQgKiBtZWFuaW5nIHRoYXQgdGhleSBtdXN0IGJlIGFscmVhZHkgb3JkZXJlZCBhbW9uZyBlYWNoIG90aGVyLiBUaHVzLCB0aGUgbWF4aW1hbFxuXHQgKiBzZXQgb2Ygbm9kZXMgdGhhdCBkbyBub3QgbW92ZSBmb3JtIGEgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlLlxuXHQgKi9cblx0Ly8gQ29tcHV0ZSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2Vcblx0Ly8gbTogc3Vic2VxdWVuY2UgbGVuZ3RoIGogPT4gaW5kZXggayBvZiBzbWFsbGVzdCB2YWx1ZSB0aGF0IGVuZHMgYW4gaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSBvZiBsZW5ndGggalxuXHRjb25zdCBtID0gbmV3IEludDMyQXJyYXkoY2hpbGRyZW4ubGVuZ3RoICsgMSk7XG5cdC8vIFByZWRlY2Vzc29yIGluZGljZXMgKyAxXG5cdGNvbnN0IHAgPSBuZXcgSW50MzJBcnJheShjaGlsZHJlbi5sZW5ndGgpO1xuXHRtWzBdID0gLTE7XG5cdGxldCBsb25nZXN0ID0gMDtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuXHRcdGNvbnN0IGN1cnJlbnQgPSBjaGlsZHJlbltpXS5jbGFpbV9vcmRlcjtcblx0XHQvLyBGaW5kIHRoZSBsYXJnZXN0IHN1YnNlcXVlbmNlIGxlbmd0aCBzdWNoIHRoYXQgaXQgZW5kcyBpbiBhIHZhbHVlIGxlc3MgdGhhbiBvdXIgY3VycmVudCB2YWx1ZVxuXHRcdC8vIHVwcGVyX2JvdW5kIHJldHVybnMgZmlyc3QgZ3JlYXRlciB2YWx1ZSwgc28gd2Ugc3VidHJhY3Qgb25lXG5cdFx0Ly8gd2l0aCBmYXN0IHBhdGggZm9yIHdoZW4gd2UgYXJlIG9uIHRoZSBjdXJyZW50IGxvbmdlc3Qgc3Vic2VxdWVuY2Vcblx0XHRjb25zdCBzZXFfbGVuID1cblx0XHRcdChsb25nZXN0ID4gMCAmJiBjaGlsZHJlblttW2xvbmdlc3RdXS5jbGFpbV9vcmRlciA8PSBjdXJyZW50XG5cdFx0XHRcdD8gbG9uZ2VzdCArIDFcblx0XHRcdFx0OiB1cHBlcl9ib3VuZCgxLCBsb25nZXN0LCAoaWR4KSA9PiBjaGlsZHJlblttW2lkeF1dLmNsYWltX29yZGVyLCBjdXJyZW50KSkgLSAxO1xuXHRcdHBbaV0gPSBtW3NlcV9sZW5dICsgMTtcblx0XHRjb25zdCBuZXdfbGVuID0gc2VxX2xlbiArIDE7XG5cdFx0Ly8gV2UgY2FuIGd1YXJhbnRlZSB0aGF0IGN1cnJlbnQgaXMgdGhlIHNtYWxsZXN0IHZhbHVlLiBPdGhlcndpc2UsIHdlIHdvdWxkIGhhdmUgZ2VuZXJhdGVkIGEgbG9uZ2VyIHNlcXVlbmNlLlxuXHRcdG1bbmV3X2xlbl0gPSBpO1xuXHRcdGxvbmdlc3QgPSBNYXRoLm1heChuZXdfbGVuLCBsb25nZXN0KTtcblx0fVxuXHQvLyBUaGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIG5vZGVzIChpbml0aWFsbHkgcmV2ZXJzZWQpXG5cblx0LyoqXG5cdCAqIEB0eXBlIHtOb2RlRXgyW119XG5cdCAqL1xuXHRjb25zdCBsaXMgPSBbXTtcblx0Ly8gVGhlIHJlc3Qgb2YgdGhlIG5vZGVzLCBub2RlcyB0aGF0IHdpbGwgYmUgbW92ZWRcblxuXHQvKipcblx0ICogQHR5cGUge05vZGVFeDJbXX1cblx0ICovXG5cdGNvbnN0IHRvX21vdmUgPSBbXTtcblx0bGV0IGxhc3QgPSBjaGlsZHJlbi5sZW5ndGggLSAxO1xuXHRmb3IgKGxldCBjdXIgPSBtW2xvbmdlc3RdICsgMTsgY3VyICE9IDA7IGN1ciA9IHBbY3VyIC0gMV0pIHtcblx0XHRsaXMucHVzaChjaGlsZHJlbltjdXIgLSAxXSk7XG5cdFx0Zm9yICg7IGxhc3QgPj0gY3VyOyBsYXN0LS0pIHtcblx0XHRcdHRvX21vdmUucHVzaChjaGlsZHJlbltsYXN0XSk7XG5cdFx0fVxuXHRcdGxhc3QtLTtcblx0fVxuXHRmb3IgKDsgbGFzdCA+PSAwOyBsYXN0LS0pIHtcblx0XHR0b19tb3ZlLnB1c2goY2hpbGRyZW5bbGFzdF0pO1xuXHR9XG5cdGxpcy5yZXZlcnNlKCk7XG5cdC8vIFdlIHNvcnQgdGhlIG5vZGVzIGJlaW5nIG1vdmVkIHRvIGd1YXJhbnRlZSB0aGF0IHRoZWlyIGluc2VydGlvbiBvcmRlciBtYXRjaGVzIHRoZSBjbGFpbSBvcmRlclxuXHR0b19tb3ZlLnNvcnQoKGEsIGIpID0+IGEuY2xhaW1fb3JkZXIgLSBiLmNsYWltX29yZGVyKTtcblx0Ly8gRmluYWxseSwgd2UgbW92ZSB0aGUgbm9kZXNcblx0Zm9yIChsZXQgaSA9IDAsIGogPSAwOyBpIDwgdG9fbW92ZS5sZW5ndGg7IGkrKykge1xuXHRcdHdoaWxlIChqIDwgbGlzLmxlbmd0aCAmJiB0b19tb3ZlW2ldLmNsYWltX29yZGVyID49IGxpc1tqXS5jbGFpbV9vcmRlcikge1xuXHRcdFx0aisrO1xuXHRcdH1cblx0XHRjb25zdCBhbmNob3IgPSBqIDwgbGlzLmxlbmd0aCA/IGxpc1tqXSA6IG51bGw7XG5cdFx0dGFyZ2V0Lmluc2VydEJlZm9yZSh0b19tb3ZlW2ldLCBhbmNob3IpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSB0YXJnZXRcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmQodGFyZ2V0LCBub2RlKSB7XG5cdHRhcmdldC5hcHBlbmRDaGlsZChub2RlKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IHRhcmdldFxuICogQHBhcmFtIHtzdHJpbmd9IHN0eWxlX3NoZWV0X2lkXG4gKiBAcGFyYW0ge3N0cmluZ30gc3R5bGVzXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZF9zdHlsZXModGFyZ2V0LCBzdHlsZV9zaGVldF9pZCwgc3R5bGVzKSB7XG5cdGNvbnN0IGFwcGVuZF9zdHlsZXNfdG8gPSBnZXRfcm9vdF9mb3Jfc3R5bGUodGFyZ2V0KTtcblx0aWYgKCFhcHBlbmRfc3R5bGVzX3RvLmdldEVsZW1lbnRCeUlkKHN0eWxlX3NoZWV0X2lkKSkge1xuXHRcdGNvbnN0IHN0eWxlID0gZWxlbWVudCgnc3R5bGUnKTtcblx0XHRzdHlsZS5pZCA9IHN0eWxlX3NoZWV0X2lkO1xuXHRcdHN0eWxlLnRleHRDb250ZW50ID0gc3R5bGVzO1xuXHRcdGFwcGVuZF9zdHlsZXNoZWV0KGFwcGVuZF9zdHlsZXNfdG8sIHN0eWxlKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICogQHJldHVybnMge1NoYWRvd1Jvb3QgfCBEb2N1bWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9yb290X2Zvcl9zdHlsZShub2RlKSB7XG5cdGlmICghbm9kZSkgcmV0dXJuIGRvY3VtZW50O1xuXHRjb25zdCByb290ID0gbm9kZS5nZXRSb290Tm9kZSA/IG5vZGUuZ2V0Um9vdE5vZGUoKSA6IG5vZGUub3duZXJEb2N1bWVudDtcblx0aWYgKHJvb3QgJiYgLyoqIEB0eXBlIHtTaGFkb3dSb290fSAqLyAocm9vdCkuaG9zdCkge1xuXHRcdHJldHVybiAvKiogQHR5cGUge1NoYWRvd1Jvb3R9ICovIChyb290KTtcblx0fVxuXHRyZXR1cm4gbm9kZS5vd25lckRvY3VtZW50O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICogQHJldHVybnMge0NTU1N0eWxlU2hlZXR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRfZW1wdHlfc3R5bGVzaGVldChub2RlKSB7XG5cdGNvbnN0IHN0eWxlX2VsZW1lbnQgPSBlbGVtZW50KCdzdHlsZScpO1xuXHQvLyBGb3IgdHJhbnNpdGlvbnMgdG8gd29yayB3aXRob3V0ICdzdHlsZS1zcmM6IHVuc2FmZS1pbmxpbmUnIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5LFxuXHQvLyB0aGVzZSBlbXB0eSB0YWdzIG5lZWQgdG8gYmUgYWxsb3dlZCB3aXRoIGEgaGFzaCBhcyBhIHdvcmthcm91bmQgdW50aWwgd2UgbW92ZSB0byB0aGUgV2ViIEFuaW1hdGlvbnMgQVBJLlxuXHQvLyBVc2luZyB0aGUgaGFzaCBmb3IgdGhlIGVtcHR5IHN0cmluZyAoZm9yIGFuIGVtcHR5IHRhZykgd29ya3MgaW4gYWxsIGJyb3dzZXJzIGV4Y2VwdCBTYWZhcmkuXG5cdC8vIFNvIGFzIGEgd29ya2Fyb3VuZCBmb3IgdGhlIHdvcmthcm91bmQsIHdoZW4gd2UgYXBwZW5kIGVtcHR5IHN0eWxlIHRhZ3Mgd2Ugc2V0IHRoZWlyIGNvbnRlbnQgdG8gLyogZW1wdHkgKi8uXG5cdC8vIFRoZSBoYXNoICdzaGEyNTYtOU9sTk8wRE5FZWFWekhMNFJad0NMc0JIQThXQlE4dG9CcC80RjVYVjJuYz0nIHdpbGwgdGhlbiB3b3JrIGV2ZW4gaW4gU2FmYXJpLlxuXHRzdHlsZV9lbGVtZW50LnRleHRDb250ZW50ID0gJy8qIGVtcHR5ICovJztcblx0YXBwZW5kX3N0eWxlc2hlZXQoZ2V0X3Jvb3RfZm9yX3N0eWxlKG5vZGUpLCBzdHlsZV9lbGVtZW50KTtcblx0cmV0dXJuIHN0eWxlX2VsZW1lbnQuc2hlZXQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtTaGFkb3dSb290IHwgRG9jdW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7SFRNTFN0eWxlRWxlbWVudH0gc3R5bGVcbiAqIEByZXR1cm5zIHtDU1NTdHlsZVNoZWV0fVxuICovXG5mdW5jdGlvbiBhcHBlbmRfc3R5bGVzaGVldChub2RlLCBzdHlsZSkge1xuXHRhcHBlbmQoLyoqIEB0eXBlIHtEb2N1bWVudH0gKi8gKG5vZGUpLmhlYWQgfHwgbm9kZSwgc3R5bGUpO1xuXHRyZXR1cm4gc3R5bGUuc2hlZXQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlRXh9IHRhcmdldFxuICogQHBhcmFtIHtOb2RlRXh9IG5vZGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kX2h5ZHJhdGlvbih0YXJnZXQsIG5vZGUpIHtcblx0aWYgKGlzX2h5ZHJhdGluZykge1xuXHRcdGluaXRfaHlkcmF0ZSh0YXJnZXQpO1xuXHRcdGlmIChcblx0XHRcdHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkID09PSB1bmRlZmluZWQgfHxcblx0XHRcdCh0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCAhPT0gbnVsbCAmJiB0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZC5wYXJlbnROb2RlICE9PSB0YXJnZXQpXG5cdFx0KSB7XG5cdFx0XHR0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCA9IHRhcmdldC5maXJzdENoaWxkO1xuXHRcdH1cblx0XHQvLyBTa2lwIG5vZGVzIG9mIHVuZGVmaW5lZCBvcmRlcmluZ1xuXHRcdHdoaWxlICh0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCAhPT0gbnVsbCAmJiB0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZC5jbGFpbV9vcmRlciA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCA9IHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkLm5leHRTaWJsaW5nO1xuXHRcdH1cblx0XHRpZiAobm9kZSAhPT0gdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQpIHtcblx0XHRcdC8vIFdlIG9ubHkgaW5zZXJ0IGlmIHRoZSBvcmRlcmluZyBvZiB0aGlzIG5vZGUgc2hvdWxkIGJlIG1vZGlmaWVkIG9yIHRoZSBwYXJlbnQgbm9kZSBpcyBub3QgdGFyZ2V0XG5cdFx0XHRpZiAobm9kZS5jbGFpbV9vcmRlciAhPT0gdW5kZWZpbmVkIHx8IG5vZGUucGFyZW50Tm9kZSAhPT0gdGFyZ2V0KSB7XG5cdFx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUobm9kZSwgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCA9IG5vZGUubmV4dFNpYmxpbmc7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKG5vZGUucGFyZW50Tm9kZSAhPT0gdGFyZ2V0IHx8IG5vZGUubmV4dFNpYmxpbmcgIT09IG51bGwpIHtcblx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQobm9kZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IHRhcmdldFxuICogQHBhcmFtIHtOb2RlfSBub2RlXG4gKiBAcGFyYW0ge05vZGV9IFthbmNob3JdXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc2VydCh0YXJnZXQsIG5vZGUsIGFuY2hvcikge1xuXHR0YXJnZXQuaW5zZXJ0QmVmb3JlKG5vZGUsIGFuY2hvciB8fCBudWxsKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGVFeH0gdGFyZ2V0XG4gKiBAcGFyYW0ge05vZGVFeH0gbm9kZVxuICogQHBhcmFtIHtOb2RlRXh9IFthbmNob3JdXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc2VydF9oeWRyYXRpb24odGFyZ2V0LCBub2RlLCBhbmNob3IpIHtcblx0aWYgKGlzX2h5ZHJhdGluZyAmJiAhYW5jaG9yKSB7XG5cdFx0YXBwZW5kX2h5ZHJhdGlvbih0YXJnZXQsIG5vZGUpO1xuXHR9IGVsc2UgaWYgKG5vZGUucGFyZW50Tm9kZSAhPT0gdGFyZ2V0IHx8IG5vZGUubmV4dFNpYmxpbmcgIT0gYW5jaG9yKSB7XG5cdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShub2RlLCBhbmNob3IgfHwgbnVsbCk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGV0YWNoKG5vZGUpIHtcblx0aWYgKG5vZGUucGFyZW50Tm9kZSkge1xuXHRcdG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcblx0fVxufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lfZWFjaChpdGVyYXRpb25zLCBkZXRhY2hpbmcpIHtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBpdGVyYXRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0aWYgKGl0ZXJhdGlvbnNbaV0pIGl0ZXJhdGlvbnNbaV0uZChkZXRhY2hpbmcpO1xuXHR9XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtrZXlvZiBIVE1MRWxlbWVudFRhZ05hbWVNYXB9IEtcbiAqIEBwYXJhbSB7S30gbmFtZVxuICogQHJldHVybnMge0hUTUxFbGVtZW50VGFnTmFtZU1hcFtLXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVsZW1lbnQobmFtZSkge1xuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lKTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUge2tleW9mIEhUTUxFbGVtZW50VGFnTmFtZU1hcH0gS1xuICogQHBhcmFtIHtLfSBuYW1lXG4gKiBAcGFyYW0ge3N0cmluZ30gaXNcbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudFRhZ05hbWVNYXBbS119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbGVtZW50X2lzKG5hbWUsIGlzKSB7XG5cdHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUsIHsgaXMgfSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0ZW1wbGF0ZSB7a2V5b2YgVH0gS1xuICogQHBhcmFtIHtUfSBvYmpcbiAqIEBwYXJhbSB7S1tdfSBleGNsdWRlXG4gKiBAcmV0dXJucyB7UGljazxULCBFeGNsdWRlPGtleW9mIFQsIEs+Pn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9iamVjdF93aXRob3V0X3Byb3BlcnRpZXMob2JqLCBleGNsdWRlKSB7XG5cdGNvbnN0IHRhcmdldCA9IC8qKiBAdHlwZSB7UGljazxULCBFeGNsdWRlPGtleW9mIFQsIEs+Pn0gKi8gKHt9KTtcblx0Zm9yIChjb25zdCBrIGluIG9iaikge1xuXHRcdGlmIChcblx0XHRcdGhhc19wcm9wKG9iaiwgaykgJiZcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGV4Y2x1ZGUuaW5kZXhPZihrKSA9PT0gLTFcblx0XHQpIHtcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdHRhcmdldFtrXSA9IG9ialtrXTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHRhcmdldDtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUge2tleW9mIFNWR0VsZW1lbnRUYWdOYW1lTWFwfSBLXG4gKiBAcGFyYW0ge0t9IG5hbWVcbiAqIEByZXR1cm5zIHtTVkdFbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3ZnX2VsZW1lbnQobmFtZSkge1xuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIG5hbWUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhXG4gKiBAcmV0dXJucyB7VGV4dH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRleHQoZGF0YSkge1xuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZGF0YSk7XG59XG5cbi8qKlxuICogQHJldHVybnMge1RleHR9ICovXG5leHBvcnQgZnVuY3Rpb24gc3BhY2UoKSB7XG5cdHJldHVybiB0ZXh0KCcgJyk7XG59XG5cbi8qKlxuICogQHJldHVybnMge1RleHR9ICovXG5leHBvcnQgZnVuY3Rpb24gZW1wdHkoKSB7XG5cdHJldHVybiB0ZXh0KCcnKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29udGVudFxuICogQHJldHVybnMge0NvbW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21tZW50KGNvbnRlbnQpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoY29udGVudCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFdmVudFRhcmdldH0gbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge0V2ZW50TGlzdGVuZXJPckV2ZW50TGlzdGVuZXJPYmplY3R9IGhhbmRsZXJcbiAqIEBwYXJhbSB7Ym9vbGVhbiB8IEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zIHwgRXZlbnRMaXN0ZW5lck9wdGlvbnN9IFtvcHRpb25zXVxuICogQHJldHVybnMgeygpID0+IHZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW4obm9kZSwgZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpIHtcblx0bm9kZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcblx0cmV0dXJuICgpID0+IG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogQHJldHVybnMgeyhldmVudDogYW55KSA9PiBhbnl9ICovXG5leHBvcnQgZnVuY3Rpb24gcHJldmVudF9kZWZhdWx0KGZuKSB7XG5cdHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRyZXR1cm4gZm4uY2FsbCh0aGlzLCBldmVudCk7XG5cdH07XG59XG5cbi8qKlxuICogQHJldHVybnMgeyhldmVudDogYW55KSA9PiBhbnl9ICovXG5leHBvcnQgZnVuY3Rpb24gc3RvcF9wcm9wYWdhdGlvbihmbikge1xuXHRyZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdHJldHVybiBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcblx0fTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7KGV2ZW50OiBhbnkpID0+IGFueX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdG9wX2ltbWVkaWF0ZV9wcm9wYWdhdGlvbihmbikge1xuXHRyZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0ZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdHJldHVybiBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcblx0fTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7KGV2ZW50OiBhbnkpID0+IHZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZihmbikge1xuXHRyZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGlmIChldmVudC50YXJnZXQgPT09IHRoaXMpIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuXHR9O1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHsoZXZlbnQ6IGFueSkgPT4gdm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cnVzdGVkKGZuKSB7XG5cdHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0aWYgKGV2ZW50LmlzVHJ1c3RlZCkgZm4uY2FsbCh0aGlzLCBldmVudCk7XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBub2RlXG4gKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gW3ZhbHVlXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhdHRyKG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcblx0aWYgKHZhbHVlID09IG51bGwpIG5vZGUucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZSk7XG5cdGVsc2UgaWYgKG5vZGUuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSkgIT09IHZhbHVlKSBub2RlLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIHZhbHVlKTtcbn1cbi8qKlxuICogTGlzdCBvZiBhdHRyaWJ1dGVzIHRoYXQgc2hvdWxkIGFsd2F5cyBiZSBzZXQgdGhyb3VnaCB0aGUgYXR0ciBtZXRob2QsXG4gKiBiZWNhdXNlIHVwZGF0aW5nIHRoZW0gdGhyb3VnaCB0aGUgcHJvcGVydHkgc2V0dGVyIGRvZXNuJ3Qgd29yayByZWxpYWJseS5cbiAqIEluIHRoZSBleGFtcGxlIG9mIGB3aWR0aGAvYGhlaWdodGAsIHRoZSBwcm9ibGVtIGlzIHRoYXQgdGhlIHNldHRlciBvbmx5XG4gKiBhY2NlcHRzIG51bWVyaWMgdmFsdWVzLCBidXQgdGhlIGF0dHJpYnV0ZSBjYW4gYWxzbyBiZSBzZXQgdG8gYSBzdHJpbmcgbGlrZSBgNTAlYC5cbiAqIElmIHRoaXMgbGlzdCBiZWNvbWVzIHRvbyBiaWcsIHJldGhpbmsgdGhpcyBhcHByb2FjaC5cbiAqL1xuY29uc3QgYWx3YXlzX3NldF90aHJvdWdoX3NldF9hdHRyaWJ1dGUgPSBbJ3dpZHRoJywgJ2hlaWdodCddO1xuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudCAmIEVsZW1lbnRDU1NJbmxpbmVTdHlsZX0gbm9kZVxuICogQHBhcmFtIHt7IFt4OiBzdHJpbmddOiBzdHJpbmcgfX0gYXR0cmlidXRlc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfYXR0cmlidXRlcyhub2RlLCBhdHRyaWJ1dGVzKSB7XG5cdC8vIEB0cy1pZ25vcmVcblx0Y29uc3QgZGVzY3JpcHRvcnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhub2RlLl9fcHJvdG9fXyk7XG5cdGZvciAoY29uc3Qga2V5IGluIGF0dHJpYnV0ZXMpIHtcblx0XHRpZiAoYXR0cmlidXRlc1trZXldID09IG51bGwpIHtcblx0XHRcdG5vZGUucmVtb3ZlQXR0cmlidXRlKGtleSk7XG5cdFx0fSBlbHNlIGlmIChrZXkgPT09ICdzdHlsZScpIHtcblx0XHRcdG5vZGUuc3R5bGUuY3NzVGV4dCA9IGF0dHJpYnV0ZXNba2V5XTtcblx0XHR9IGVsc2UgaWYgKGtleSA9PT0gJ19fdmFsdWUnKSB7XG5cdFx0XHQvKiogQHR5cGUge2FueX0gKi8gKG5vZGUpLnZhbHVlID0gbm9kZVtrZXldID0gYXR0cmlidXRlc1trZXldO1xuXHRcdH0gZWxzZSBpZiAoXG5cdFx0XHRkZXNjcmlwdG9yc1trZXldICYmXG5cdFx0XHRkZXNjcmlwdG9yc1trZXldLnNldCAmJlxuXHRcdFx0YWx3YXlzX3NldF90aHJvdWdoX3NldF9hdHRyaWJ1dGUuaW5kZXhPZihrZXkpID09PSAtMVxuXHRcdCkge1xuXHRcdFx0bm9kZVtrZXldID0gYXR0cmlidXRlc1trZXldO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRhdHRyKG5vZGUsIGtleSwgYXR0cmlidXRlc1trZXldKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnQgJiBFbGVtZW50Q1NTSW5saW5lU3R5bGV9IG5vZGVcbiAqIEBwYXJhbSB7eyBbeDogc3RyaW5nXTogc3RyaW5nIH19IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X3N2Z19hdHRyaWJ1dGVzKG5vZGUsIGF0dHJpYnV0ZXMpIHtcblx0Zm9yIChjb25zdCBrZXkgaW4gYXR0cmlidXRlcykge1xuXHRcdGF0dHIobm9kZSwga2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCB1bmtub3duPn0gZGF0YV9tYXBcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2N1c3RvbV9lbGVtZW50X2RhdGFfbWFwKG5vZGUsIGRhdGFfbWFwKSB7XG5cdE9iamVjdC5rZXlzKGRhdGFfbWFwKS5mb3JFYWNoKChrZXkpID0+IHtcblx0XHRzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YShub2RlLCBrZXksIGRhdGFfbWFwW2tleV0pO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YShub2RlLCBwcm9wLCB2YWx1ZSkge1xuXHRjb25zdCBsb3dlciA9IHByb3AudG9Mb3dlckNhc2UoKTsgLy8gZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHdpdGggZXhpc3RpbmcgYmVoYXZpb3Igd2UgZG8gbG93ZXJjYXNlIGZpcnN0XG5cdGlmIChsb3dlciBpbiBub2RlKSB7XG5cdFx0bm9kZVtsb3dlcl0gPSB0eXBlb2Ygbm9kZVtsb3dlcl0gPT09ICdib29sZWFuJyAmJiB2YWx1ZSA9PT0gJycgPyB0cnVlIDogdmFsdWU7XG5cdH0gZWxzZSBpZiAocHJvcCBpbiBub2RlKSB7XG5cdFx0bm9kZVtwcm9wXSA9IHR5cGVvZiBub2RlW3Byb3BdID09PSAnYm9vbGVhbicgJiYgdmFsdWUgPT09ICcnID8gdHJ1ZSA6IHZhbHVlO1xuXHR9IGVsc2Uge1xuXHRcdGF0dHIobm9kZSwgcHJvcCwgdmFsdWUpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHRhZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2R5bmFtaWNfZWxlbWVudF9kYXRhKHRhZykge1xuXHRyZXR1cm4gLy0vLnRlc3QodGFnKSA/IHNldF9jdXN0b21fZWxlbWVudF9kYXRhX21hcCA6IHNldF9hdHRyaWJ1dGVzO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24geGxpbmtfYXR0cihub2RlLCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG5cdG5vZGUuc2V0QXR0cmlidXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLCBhdHRyaWJ1dGUsIHZhbHVlKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBub2RlXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3N2ZWx0ZV9kYXRhc2V0KG5vZGUpIHtcblx0cmV0dXJuIG5vZGUuZGF0YXNldC5zdmVsdGVIO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHt1bmtub3duW119ICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X2JpbmRpbmdfZ3JvdXBfdmFsdWUoZ3JvdXAsIF9fdmFsdWUsIGNoZWNrZWQpIHtcblx0Y29uc3QgdmFsdWUgPSBuZXcgU2V0KCk7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXAubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRpZiAoZ3JvdXBbaV0uY2hlY2tlZCkgdmFsdWUuYWRkKGdyb3VwW2ldLl9fdmFsdWUpO1xuXHR9XG5cdGlmICghY2hlY2tlZCkge1xuXHRcdHZhbHVlLmRlbGV0ZShfX3ZhbHVlKTtcblx0fVxuXHRyZXR1cm4gQXJyYXkuZnJvbSh2YWx1ZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MSW5wdXRFbGVtZW50W119IGdyb3VwXG4gKiBAcmV0dXJucyB7eyBwKC4uLmlucHV0czogSFRNTElucHV0RWxlbWVudFtdKTogdm9pZDsgcigpOiB2b2lkOyB9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdF9iaW5kaW5nX2dyb3VwKGdyb3VwKSB7XG5cdC8qKlxuXHQgKiBAdHlwZSB7SFRNTElucHV0RWxlbWVudFtdfSAqL1xuXHRsZXQgX2lucHV0cztcblx0cmV0dXJuIHtcblx0XHQvKiBwdXNoICovIHAoLi4uaW5wdXRzKSB7XG5cdFx0XHRfaW5wdXRzID0gaW5wdXRzO1xuXHRcdFx0X2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4gZ3JvdXAucHVzaChpbnB1dCkpO1xuXHRcdH0sXG5cdFx0LyogcmVtb3ZlICovIHIoKSB7XG5cdFx0XHRfaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiBncm91cC5zcGxpY2UoZ3JvdXAuaW5kZXhPZihpbnB1dCksIDEpKTtcblx0XHR9XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJbXX0gaW5kZXhlc1xuICogQHJldHVybnMge3sgdShuZXdfaW5kZXhlczogbnVtYmVyW10pOiB2b2lkOyBwKC4uLmlucHV0czogSFRNTElucHV0RWxlbWVudFtdKTogdm9pZDsgcjogKCkgPT4gdm9pZDsgfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRfYmluZGluZ19ncm91cF9keW5hbWljKGdyb3VwLCBpbmRleGVzKSB7XG5cdC8qKlxuXHQgKiBAdHlwZSB7SFRNTElucHV0RWxlbWVudFtdfSAqL1xuXHRsZXQgX2dyb3VwID0gZ2V0X2JpbmRpbmdfZ3JvdXAoZ3JvdXApO1xuXG5cdC8qKlxuXHQgKiBAdHlwZSB7SFRNTElucHV0RWxlbWVudFtdfSAqL1xuXHRsZXQgX2lucHV0cztcblxuXHRmdW5jdGlvbiBnZXRfYmluZGluZ19ncm91cChncm91cCkge1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgaW5kZXhlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Z3JvdXAgPSBncm91cFtpbmRleGVzW2ldXSA9IGdyb3VwW2luZGV4ZXNbaV1dIHx8IFtdO1xuXHRcdH1cblx0XHRyZXR1cm4gZ3JvdXA7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIHB1c2goKSB7XG5cdFx0X2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4gX2dyb3VwLnB1c2goaW5wdXQpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0ZnVuY3Rpb24gcmVtb3ZlKCkge1xuXHRcdF9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IF9ncm91cC5zcGxpY2UoX2dyb3VwLmluZGV4T2YoaW5wdXQpLCAxKSk7XG5cdH1cblx0cmV0dXJuIHtcblx0XHQvKiB1cGRhdGUgKi8gdShuZXdfaW5kZXhlcykge1xuXHRcdFx0aW5kZXhlcyA9IG5ld19pbmRleGVzO1xuXHRcdFx0Y29uc3QgbmV3X2dyb3VwID0gZ2V0X2JpbmRpbmdfZ3JvdXAoZ3JvdXApO1xuXHRcdFx0aWYgKG5ld19ncm91cCAhPT0gX2dyb3VwKSB7XG5cdFx0XHRcdHJlbW92ZSgpO1xuXHRcdFx0XHRfZ3JvdXAgPSBuZXdfZ3JvdXA7XG5cdFx0XHRcdHB1c2goKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdC8qIHB1c2ggKi8gcCguLi5pbnB1dHMpIHtcblx0XHRcdF9pbnB1dHMgPSBpbnB1dHM7XG5cdFx0XHRwdXNoKCk7XG5cdFx0fSxcblx0XHQvKiByZW1vdmUgKi8gcjogcmVtb3ZlXG5cdH07XG59XG5cbi8qKiBAcmV0dXJucyB7bnVtYmVyfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvX251bWJlcih2YWx1ZSkge1xuXHRyZXR1cm4gdmFsdWUgPT09ICcnID8gbnVsbCA6ICt2YWx1ZTtcbn1cblxuLyoqIEByZXR1cm5zIHthbnlbXX0gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aW1lX3Jhbmdlc190b19hcnJheShyYW5nZXMpIHtcblx0Y29uc3QgYXJyYXkgPSBbXTtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRhcnJheS5wdXNoKHsgc3RhcnQ6IHJhbmdlcy5zdGFydChpKSwgZW5kOiByYW5nZXMuZW5kKGkpIH0pO1xuXHR9XG5cdHJldHVybiBhcnJheTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtDaGlsZE5vZGVbXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoaWxkcmVuKGVsZW1lbnQpIHtcblx0cmV0dXJuIEFycmF5LmZyb20oZWxlbWVudC5jaGlsZE5vZGVzKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIGluaXRfY2xhaW1faW5mbyhub2Rlcykge1xuXHRpZiAobm9kZXMuY2xhaW1faW5mbyA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0bm9kZXMuY2xhaW1faW5mbyA9IHsgbGFzdF9pbmRleDogMCwgdG90YWxfY2xhaW1lZDogMCB9O1xuXHR9XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtDaGlsZE5vZGVFeH0gUlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEBwYXJhbSB7KG5vZGU6IENoaWxkTm9kZUV4KSA9PiBub2RlIGlzIFJ9IHByZWRpY2F0ZVxuICogQHBhcmFtIHsobm9kZTogQ2hpbGROb2RlRXgpID0+IENoaWxkTm9kZUV4IHwgdW5kZWZpbmVkfSBwcm9jZXNzX25vZGVcbiAqIEBwYXJhbSB7KCkgPT4gUn0gY3JlYXRlX25vZGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gZG9udF91cGRhdGVfbGFzdF9pbmRleFxuICogQHJldHVybnMge1J9XG4gKi9cbmZ1bmN0aW9uIGNsYWltX25vZGUobm9kZXMsIHByZWRpY2F0ZSwgcHJvY2Vzc19ub2RlLCBjcmVhdGVfbm9kZSwgZG9udF91cGRhdGVfbGFzdF9pbmRleCA9IGZhbHNlKSB7XG5cdC8vIFRyeSB0byBmaW5kIG5vZGVzIGluIGFuIG9yZGVyIHN1Y2ggdGhhdCB3ZSBsZW5ndGhlbiB0aGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlXG5cdGluaXRfY2xhaW1faW5mbyhub2Rlcyk7XG5cdGNvbnN0IHJlc3VsdF9ub2RlID0gKCgpID0+IHtcblx0XHQvLyBXZSBmaXJzdCB0cnkgdG8gZmluZCBhbiBlbGVtZW50IGFmdGVyIHRoZSBwcmV2aW91cyBvbmVcblx0XHRmb3IgKGxldCBpID0gbm9kZXMuY2xhaW1faW5mby5sYXN0X2luZGV4OyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IG5vZGUgPSBub2Rlc1tpXTtcblx0XHRcdGlmIChwcmVkaWNhdGUobm9kZSkpIHtcblx0XHRcdFx0Y29uc3QgcmVwbGFjZW1lbnQgPSBwcm9jZXNzX25vZGUobm9kZSk7XG5cdFx0XHRcdGlmIChyZXBsYWNlbWVudCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0bm9kZXMuc3BsaWNlKGksIDEpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG5vZGVzW2ldID0gcmVwbGFjZW1lbnQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCFkb250X3VwZGF0ZV9sYXN0X2luZGV4KSB7XG5cdFx0XHRcdFx0bm9kZXMuY2xhaW1faW5mby5sYXN0X2luZGV4ID0gaTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbm9kZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Ly8gT3RoZXJ3aXNlLCB3ZSB0cnkgdG8gZmluZCBvbmUgYmVmb3JlXG5cdFx0Ly8gV2UgaXRlcmF0ZSBpbiByZXZlcnNlIHNvIHRoYXQgd2UgZG9uJ3QgZ28gdG9vIGZhciBiYWNrXG5cdFx0Zm9yIChsZXQgaSA9IG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRjb25zdCBub2RlID0gbm9kZXNbaV07XG5cdFx0XHRpZiAocHJlZGljYXRlKG5vZGUpKSB7XG5cdFx0XHRcdGNvbnN0IHJlcGxhY2VtZW50ID0gcHJvY2Vzc19ub2RlKG5vZGUpO1xuXHRcdFx0XHRpZiAocmVwbGFjZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdG5vZGVzLnNwbGljZShpLCAxKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRub2Rlc1tpXSA9IHJlcGxhY2VtZW50O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICghZG9udF91cGRhdGVfbGFzdF9pbmRleCkge1xuXHRcdFx0XHRcdG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleCA9IGk7XG5cdFx0XHRcdH0gZWxzZSBpZiAocmVwbGFjZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdC8vIFNpbmNlIHdlIHNwbGljZWQgYmVmb3JlIHRoZSBsYXN0X2luZGV4LCB3ZSBkZWNyZWFzZSBpdFxuXHRcdFx0XHRcdG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleC0tO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBub2RlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHQvLyBJZiB3ZSBjYW4ndCBmaW5kIGFueSBtYXRjaGluZyBub2RlLCB3ZSBjcmVhdGUgYSBuZXcgb25lXG5cdFx0cmV0dXJuIGNyZWF0ZV9ub2RlKCk7XG5cdH0pKCk7XG5cdHJlc3VsdF9ub2RlLmNsYWltX29yZGVyID0gbm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkO1xuXHRub2Rlcy5jbGFpbV9pbmZvLnRvdGFsX2NsYWltZWQgKz0gMTtcblx0cmV0dXJuIHJlc3VsdF9ub2RlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHt7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfX0gYXR0cmlidXRlc1xuICogQHBhcmFtIHsobmFtZTogc3RyaW5nKSA9PiBFbGVtZW50IHwgU1ZHRWxlbWVudH0gY3JlYXRlX2VsZW1lbnRcbiAqIEByZXR1cm5zIHtFbGVtZW50IHwgU1ZHRWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gY2xhaW1fZWxlbWVudF9iYXNlKG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzLCBjcmVhdGVfZWxlbWVudCkge1xuXHRyZXR1cm4gY2xhaW1fbm9kZShcblx0XHRub2Rlcyxcblx0XHQvKiogQHJldHVybnMge25vZGUgaXMgRWxlbWVudCB8IFNWR0VsZW1lbnR9ICovXG5cdFx0KG5vZGUpID0+IG5vZGUubm9kZU5hbWUgPT09IG5hbWUsXG5cdFx0LyoqIEBwYXJhbSB7RWxlbWVudH0gbm9kZSAqL1xuXHRcdChub2RlKSA9PiB7XG5cdFx0XHRjb25zdCByZW1vdmUgPSBbXTtcblx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgbm9kZS5hdHRyaWJ1dGVzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGNvbnN0IGF0dHJpYnV0ZSA9IG5vZGUuYXR0cmlidXRlc1tqXTtcblx0XHRcdFx0aWYgKCFhdHRyaWJ1dGVzW2F0dHJpYnV0ZS5uYW1lXSkge1xuXHRcdFx0XHRcdHJlbW92ZS5wdXNoKGF0dHJpYnV0ZS5uYW1lKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmVtb3ZlLmZvckVhY2goKHYpID0+IG5vZGUucmVtb3ZlQXR0cmlidXRlKHYpKTtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fSxcblx0XHQoKSA9PiBjcmVhdGVfZWxlbWVudChuYW1lKVxuXHQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHt7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfX0gYXR0cmlidXRlc1xuICogQHJldHVybnMge0VsZW1lbnQgfCBTVkdFbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhaW1fZWxlbWVudChub2RlcywgbmFtZSwgYXR0cmlidXRlcykge1xuXHRyZXR1cm4gY2xhaW1fZWxlbWVudF9iYXNlKG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzLCBlbGVtZW50KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7eyBba2V5OiBzdHJpbmddOiBib29sZWFuIH19IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm5zIHtFbGVtZW50IHwgU1ZHRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX3N2Z19lbGVtZW50KG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzKSB7XG5cdHJldHVybiBjbGFpbV9lbGVtZW50X2Jhc2Uobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMsIHN2Z19lbGVtZW50KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHJldHVybnMge1RleHR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFpbV90ZXh0KG5vZGVzLCBkYXRhKSB7XG5cdHJldHVybiBjbGFpbV9ub2RlKFxuXHRcdG5vZGVzLFxuXHRcdC8qKiBAcmV0dXJucyB7bm9kZSBpcyBUZXh0fSAqL1xuXHRcdChub2RlKSA9PiBub2RlLm5vZGVUeXBlID09PSAzLFxuXHRcdC8qKiBAcGFyYW0ge1RleHR9IG5vZGUgKi9cblx0XHQobm9kZSkgPT4ge1xuXHRcdFx0Y29uc3QgZGF0YV9zdHIgPSAnJyArIGRhdGE7XG5cdFx0XHRpZiAobm9kZS5kYXRhLnN0YXJ0c1dpdGgoZGF0YV9zdHIpKSB7XG5cdFx0XHRcdGlmIChub2RlLmRhdGEubGVuZ3RoICE9PSBkYXRhX3N0ci5sZW5ndGgpIHtcblx0XHRcdFx0XHRyZXR1cm4gbm9kZS5zcGxpdFRleHQoZGF0YV9zdHIubGVuZ3RoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bm9kZS5kYXRhID0gZGF0YV9zdHI7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQoKSA9PiB0ZXh0KGRhdGEpLFxuXHRcdHRydWUgLy8gVGV4dCBub2RlcyBzaG91bGQgbm90IHVwZGF0ZSBsYXN0IGluZGV4IHNpbmNlIGl0IGlzIGxpa2VseSBub3Qgd29ydGggaXQgdG8gZWxpbWluYXRlIGFuIGluY3JlYXNpbmcgc3Vic2VxdWVuY2Ugb2YgYWN0dWFsIGVsZW1lbnRzXG5cdCk7XG59XG5cbi8qKlxuICogQHJldHVybnMge1RleHR9ICovXG5leHBvcnQgZnVuY3Rpb24gY2xhaW1fc3BhY2Uobm9kZXMpIHtcblx0cmV0dXJuIGNsYWltX3RleHQobm9kZXMsICcgJyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEByZXR1cm5zIHtDb21tZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhaW1fY29tbWVudChub2RlcywgZGF0YSkge1xuXHRyZXR1cm4gY2xhaW1fbm9kZShcblx0XHRub2Rlcyxcblx0XHQvKiogQHJldHVybnMge25vZGUgaXMgQ29tbWVudH0gKi9cblx0XHQobm9kZSkgPT4gbm9kZS5ub2RlVHlwZSA9PT0gOCxcblx0XHQvKiogQHBhcmFtIHtDb21tZW50fSBub2RlICovXG5cdFx0KG5vZGUpID0+IHtcblx0XHRcdG5vZGUuZGF0YSA9ICcnICsgZGF0YTtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fSxcblx0XHQoKSA9PiBjb21tZW50KGRhdGEpLFxuXHRcdHRydWVcblx0KTtcbn1cblxuZnVuY3Rpb24gZ2V0X2NvbW1lbnRfaWR4KG5vZGVzLCB0ZXh0LCBzdGFydCkge1xuXHRmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBub2Rlcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGNvbnN0IG5vZGUgPSBub2Rlc1tpXTtcblx0XHRpZiAobm9kZS5ub2RlVHlwZSA9PT0gOCAvKiBjb21tZW50IG5vZGUgKi8gJiYgbm9kZS50ZXh0Q29udGVudC50cmltKCkgPT09IHRleHQpIHtcblx0XHRcdHJldHVybiBpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gLTE7XG59XG5cbi8qKlxuICogQHBhcmFtIHtib29sZWFufSBpc19zdmdcbiAqIEByZXR1cm5zIHtIdG1sVGFnSHlkcmF0aW9ufVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhaW1faHRtbF90YWcobm9kZXMsIGlzX3N2Zykge1xuXHQvLyBmaW5kIGh0bWwgb3BlbmluZyB0YWdcblx0Y29uc3Qgc3RhcnRfaW5kZXggPSBnZXRfY29tbWVudF9pZHgobm9kZXMsICdIVE1MX1RBR19TVEFSVCcsIDApO1xuXHRjb25zdCBlbmRfaW5kZXggPSBnZXRfY29tbWVudF9pZHgobm9kZXMsICdIVE1MX1RBR19FTkQnLCBzdGFydF9pbmRleCArIDEpO1xuXHRpZiAoc3RhcnRfaW5kZXggPT09IC0xIHx8IGVuZF9pbmRleCA9PT0gLTEpIHtcblx0XHRyZXR1cm4gbmV3IEh0bWxUYWdIeWRyYXRpb24oaXNfc3ZnKTtcblx0fVxuXG5cdGluaXRfY2xhaW1faW5mbyhub2Rlcyk7XG5cdGNvbnN0IGh0bWxfdGFnX25vZGVzID0gbm9kZXMuc3BsaWNlKHN0YXJ0X2luZGV4LCBlbmRfaW5kZXggLSBzdGFydF9pbmRleCArIDEpO1xuXHRkZXRhY2goaHRtbF90YWdfbm9kZXNbMF0pO1xuXHRkZXRhY2goaHRtbF90YWdfbm9kZXNbaHRtbF90YWdfbm9kZXMubGVuZ3RoIC0gMV0pO1xuXHRjb25zdCBjbGFpbWVkX25vZGVzID0gaHRtbF90YWdfbm9kZXMuc2xpY2UoMSwgaHRtbF90YWdfbm9kZXMubGVuZ3RoIC0gMSk7XG5cdGZvciAoY29uc3QgbiBvZiBjbGFpbWVkX25vZGVzKSB7XG5cdFx0bi5jbGFpbV9vcmRlciA9IG5vZGVzLmNsYWltX2luZm8udG90YWxfY2xhaW1lZDtcblx0XHRub2Rlcy5jbGFpbV9pbmZvLnRvdGFsX2NsYWltZWQgKz0gMTtcblx0fVxuXHRyZXR1cm4gbmV3IEh0bWxUYWdIeWRyYXRpb24oaXNfc3ZnLCBjbGFpbWVkX25vZGVzKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1RleHR9IHRleHRcbiAqIEBwYXJhbSB7dW5rbm93bn0gZGF0YVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfZGF0YSh0ZXh0LCBkYXRhKSB7XG5cdGRhdGEgPSAnJyArIGRhdGE7XG5cdGlmICh0ZXh0LmRhdGEgPT09IGRhdGEpIHJldHVybjtcblx0dGV4dC5kYXRhID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChkYXRhKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1RleHR9IHRleHRcbiAqIEBwYXJhbSB7dW5rbm93bn0gZGF0YVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfZGF0YV9jb250ZW50ZWRpdGFibGUodGV4dCwgZGF0YSkge1xuXHRkYXRhID0gJycgKyBkYXRhO1xuXHRpZiAodGV4dC53aG9sZVRleHQgPT09IGRhdGEpIHJldHVybjtcblx0dGV4dC5kYXRhID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChkYXRhKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1RleHR9IHRleHRcbiAqIEBwYXJhbSB7dW5rbm93bn0gZGF0YVxuICogQHBhcmFtIHtzdHJpbmd9IGF0dHJfdmFsdWVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2RhdGFfbWF5YmVfY29udGVudGVkaXRhYmxlKHRleHQsIGRhdGEsIGF0dHJfdmFsdWUpIHtcblx0aWYgKH5jb250ZW50ZWRpdGFibGVfdHJ1dGh5X3ZhbHVlcy5pbmRleE9mKGF0dHJfdmFsdWUpKSB7XG5cdFx0c2V0X2RhdGFfY29udGVudGVkaXRhYmxlKHRleHQsIGRhdGEpO1xuXHR9IGVsc2Uge1xuXHRcdHNldF9kYXRhKHRleHQsIGRhdGEpO1xuXHR9XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2lucHV0X3ZhbHVlKGlucHV0LCB2YWx1ZSkge1xuXHRpbnB1dC52YWx1ZSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9pbnB1dF90eXBlKGlucHV0LCB0eXBlKSB7XG5cdHRyeSB7XG5cdFx0aW5wdXQudHlwZSA9IHR5cGU7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHQvLyBkbyBub3RoaW5nXG5cdH1cbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfc3R5bGUobm9kZSwga2V5LCB2YWx1ZSwgaW1wb3J0YW50KSB7XG5cdGlmICh2YWx1ZSA9PSBudWxsKSB7XG5cdFx0bm9kZS5zdHlsZS5yZW1vdmVQcm9wZXJ0eShrZXkpO1xuXHR9IGVsc2Uge1xuXHRcdG5vZGUuc3R5bGUuc2V0UHJvcGVydHkoa2V5LCB2YWx1ZSwgaW1wb3J0YW50ID8gJ2ltcG9ydGFudCcgOiAnJyk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Rfb3B0aW9uKHNlbGVjdCwgdmFsdWUsIG1vdW50aW5nKSB7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0Lm9wdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRjb25zdCBvcHRpb24gPSBzZWxlY3Qub3B0aW9uc1tpXTtcblx0XHRpZiAob3B0aW9uLl9fdmFsdWUgPT09IHZhbHVlKSB7XG5cdFx0XHRvcHRpb24uc2VsZWN0ZWQgPSB0cnVlO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0fVxuXHRpZiAoIW1vdW50aW5nIHx8IHZhbHVlICE9PSB1bmRlZmluZWQpIHtcblx0XHRzZWxlY3Quc2VsZWN0ZWRJbmRleCA9IC0xOyAvLyBubyBvcHRpb24gc2hvdWxkIGJlIHNlbGVjdGVkXG5cdH1cbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Rfb3B0aW9ucyhzZWxlY3QsIHZhbHVlKSB7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0Lm9wdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRjb25zdCBvcHRpb24gPSBzZWxlY3Qub3B0aW9uc1tpXTtcblx0XHRvcHRpb24uc2VsZWN0ZWQgPSB+dmFsdWUuaW5kZXhPZihvcHRpb24uX192YWx1ZSk7XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdF92YWx1ZShzZWxlY3QpIHtcblx0Y29uc3Qgc2VsZWN0ZWRfb3B0aW9uID0gc2VsZWN0LnF1ZXJ5U2VsZWN0b3IoJzpjaGVja2VkJyk7XG5cdHJldHVybiBzZWxlY3RlZF9vcHRpb24gJiYgc2VsZWN0ZWRfb3B0aW9uLl9fdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RfbXVsdGlwbGVfdmFsdWUoc2VsZWN0KSB7XG5cdHJldHVybiBbXS5tYXAuY2FsbChzZWxlY3QucXVlcnlTZWxlY3RvckFsbCgnOmNoZWNrZWQnKSwgKG9wdGlvbikgPT4gb3B0aW9uLl9fdmFsdWUpO1xufVxuLy8gdW5mb3J0dW5hdGVseSB0aGlzIGNhbid0IGJlIGEgY29uc3RhbnQgYXMgdGhhdCB3b3VsZG4ndCBiZSB0cmVlLXNoYWtlYWJsZVxuLy8gc28gd2UgY2FjaGUgdGhlIHJlc3VsdCBpbnN0ZWFkXG5cbi8qKlxuICogQHR5cGUge2Jvb2xlYW59ICovXG5sZXQgY3Jvc3NvcmlnaW47XG5cbi8qKlxuICogQHJldHVybnMge2Jvb2xlYW59ICovXG5leHBvcnQgZnVuY3Rpb24gaXNfY3Jvc3NvcmlnaW4oKSB7XG5cdGlmIChjcm9zc29yaWdpbiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0Y3Jvc3NvcmlnaW4gPSBmYWxzZTtcblx0XHR0cnkge1xuXHRcdFx0aWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wYXJlbnQpIHtcblx0XHRcdFx0dm9pZCB3aW5kb3cucGFyZW50LmRvY3VtZW50O1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRjcm9zc29yaWdpbiA9IHRydWU7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBjcm9zc29yaWdpbjtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBub2RlXG4gKiBAcGFyYW0geygpID0+IHZvaWR9IGZuXG4gKiBAcmV0dXJucyB7KCkgPT4gdm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZF9pZnJhbWVfcmVzaXplX2xpc3RlbmVyKG5vZGUsIGZuKSB7XG5cdGNvbnN0IGNvbXB1dGVkX3N0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcblx0aWYgKGNvbXB1dGVkX3N0eWxlLnBvc2l0aW9uID09PSAnc3RhdGljJykge1xuXHRcdG5vZGUuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuXHR9XG5cdGNvbnN0IGlmcmFtZSA9IGVsZW1lbnQoJ2lmcmFtZScpO1xuXHRpZnJhbWUuc2V0QXR0cmlidXRlKFxuXHRcdCdzdHlsZScsXG5cdFx0J2Rpc3BsYXk6IGJsb2NrOyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgJyArXG5cdFx0XHQnb3ZlcmZsb3c6IGhpZGRlbjsgYm9yZGVyOiAwOyBvcGFjaXR5OiAwOyBwb2ludGVyLWV2ZW50czogbm9uZTsgei1pbmRleDogLTE7J1xuXHQpO1xuXHRpZnJhbWUuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG5cdGlmcmFtZS50YWJJbmRleCA9IC0xO1xuXHRjb25zdCBjcm9zc29yaWdpbiA9IGlzX2Nyb3Nzb3JpZ2luKCk7XG5cblx0LyoqXG5cdCAqIEB0eXBlIHsoKSA9PiB2b2lkfVxuXHQgKi9cblx0bGV0IHVuc3Vic2NyaWJlO1xuXHRpZiAoY3Jvc3NvcmlnaW4pIHtcblx0XHRpZnJhbWUuc3JjID0gXCJkYXRhOnRleHQvaHRtbCw8c2NyaXB0Pm9ucmVzaXplPWZ1bmN0aW9uKCl7cGFyZW50LnBvc3RNZXNzYWdlKDAsJyonKX08L3NjcmlwdD5cIjtcblx0XHR1bnN1YnNjcmliZSA9IGxpc3Rlbihcblx0XHRcdHdpbmRvdyxcblx0XHRcdCdtZXNzYWdlJyxcblx0XHRcdC8qKiBAcGFyYW0ge01lc3NhZ2VFdmVudH0gZXZlbnQgKi8gKGV2ZW50KSA9PiB7XG5cdFx0XHRcdGlmIChldmVudC5zb3VyY2UgPT09IGlmcmFtZS5jb250ZW50V2luZG93KSBmbigpO1xuXHRcdFx0fVxuXHRcdCk7XG5cdH0gZWxzZSB7XG5cdFx0aWZyYW1lLnNyYyA9ICdhYm91dDpibGFuayc7XG5cdFx0aWZyYW1lLm9ubG9hZCA9ICgpID0+IHtcblx0XHRcdHVuc3Vic2NyaWJlID0gbGlzdGVuKGlmcmFtZS5jb250ZW50V2luZG93LCAncmVzaXplJywgZm4pO1xuXHRcdFx0Ly8gbWFrZSBzdXJlIGFuIGluaXRpYWwgcmVzaXplIGV2ZW50IGlzIGZpcmVkIF9hZnRlcl8gdGhlIGlmcmFtZSBpcyBsb2FkZWQgKHdoaWNoIGlzIGFzeW5jaHJvbm91cylcblx0XHRcdC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vc3ZlbHRlanMvc3ZlbHRlL2lzc3Vlcy80MjMzXG5cdFx0XHRmbigpO1xuXHRcdH07XG5cdH1cblx0YXBwZW5kKG5vZGUsIGlmcmFtZSk7XG5cdHJldHVybiAoKSA9PiB7XG5cdFx0aWYgKGNyb3Nzb3JpZ2luKSB7XG5cdFx0XHR1bnN1YnNjcmliZSgpO1xuXHRcdH0gZWxzZSBpZiAodW5zdWJzY3JpYmUgJiYgaWZyYW1lLmNvbnRlbnRXaW5kb3cpIHtcblx0XHRcdHVuc3Vic2NyaWJlKCk7XG5cdFx0fVxuXHRcdGRldGFjaChpZnJhbWUpO1xuXHR9O1xufVxuZXhwb3J0IGNvbnN0IHJlc2l6ZV9vYnNlcnZlcl9jb250ZW50X2JveCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24oe1xuXHRib3g6ICdjb250ZW50LWJveCdcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc2l6ZV9vYnNlcnZlcl9ib3JkZXJfYm94ID0gLyogQF9fUFVSRV9fICovIG5ldyBSZXNpemVPYnNlcnZlclNpbmdsZXRvbih7XG5cdGJveDogJ2JvcmRlci1ib3gnXG59KTtcbmV4cG9ydCBjb25zdCByZXNpemVfb2JzZXJ2ZXJfZGV2aWNlX3BpeGVsX2NvbnRlbnRfYm94ID0gLyogQF9fUFVSRV9fICovIG5ldyBSZXNpemVPYnNlcnZlclNpbmdsZXRvbihcblx0eyBib3g6ICdkZXZpY2UtcGl4ZWwtY29udGVudC1ib3gnIH1cbik7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlclNpbmdsZXRvbiB9O1xuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZV9jbGFzcyhlbGVtZW50LCBuYW1lLCB0b2dnbGUpIHtcblx0Ly8gVGhlIGAhIWAgaXMgcmVxdWlyZWQgYmVjYXVzZSBhbiBgdW5kZWZpbmVkYCBmbGFnIG1lYW5zIGZsaXBwaW5nIHRoZSBjdXJyZW50IHN0YXRlLlxuXHRlbGVtZW50LmNsYXNzTGlzdC50b2dnbGUobmFtZSwgISF0b2dnbGUpO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtUfSBbZGV0YWlsXVxuICogQHBhcmFtIHt7IGJ1YmJsZXM/OiBib29sZWFuLCBjYW5jZWxhYmxlPzogYm9vbGVhbiB9fSBbb3B0aW9uc11cbiAqIEByZXR1cm5zIHtDdXN0b21FdmVudDxUPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGN1c3RvbV9ldmVudCh0eXBlLCBkZXRhaWwsIHsgYnViYmxlcyA9IGZhbHNlLCBjYW5jZWxhYmxlID0gZmFsc2UgfSA9IHt9KSB7XG5cdHJldHVybiBuZXcgQ3VzdG9tRXZlbnQodHlwZSwgeyBkZXRhaWwsIGJ1YmJsZXMsIGNhbmNlbGFibGUgfSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYXJlbnRcbiAqIEByZXR1cm5zIHtDaGlsZE5vZGVBcnJheX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5X3NlbGVjdG9yX2FsbChzZWxlY3RvciwgcGFyZW50ID0gZG9jdW1lbnQuYm9keSkge1xuXHRyZXR1cm4gQXJyYXkuZnJvbShwYXJlbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBub2RlSWRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGhlYWRcbiAqIEByZXR1cm5zIHthbnlbXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhlYWRfc2VsZWN0b3Iobm9kZUlkLCBoZWFkKSB7XG5cdGNvbnN0IHJlc3VsdCA9IFtdO1xuXHRsZXQgc3RhcnRlZCA9IDA7XG5cdGZvciAoY29uc3Qgbm9kZSBvZiBoZWFkLmNoaWxkTm9kZXMpIHtcblx0XHRpZiAobm9kZS5ub2RlVHlwZSA9PT0gOCAvKiBjb21tZW50IG5vZGUgKi8pIHtcblx0XHRcdGNvbnN0IGNvbW1lbnQgPSBub2RlLnRleHRDb250ZW50LnRyaW0oKTtcblx0XHRcdGlmIChjb21tZW50ID09PSBgSEVBRF8ke25vZGVJZH1fRU5EYCkge1xuXHRcdFx0XHRzdGFydGVkIC09IDE7XG5cdFx0XHRcdHJlc3VsdC5wdXNoKG5vZGUpO1xuXHRcdFx0fSBlbHNlIGlmIChjb21tZW50ID09PSBgSEVBRF8ke25vZGVJZH1fU1RBUlRgKSB7XG5cdFx0XHRcdHN0YXJ0ZWQgKz0gMTtcblx0XHRcdFx0cmVzdWx0LnB1c2gobm9kZSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChzdGFydGVkID4gMCkge1xuXHRcdFx0cmVzdWx0LnB1c2gobm9kZSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59XG4vKiogKi9cbmV4cG9ydCBjbGFzcyBIdG1sVGFnIHtcblx0LyoqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBkZWZhdWx0IGZhbHNlXG5cdCAqL1xuXHRpc19zdmcgPSBmYWxzZTtcblx0LyoqIHBhcmVudCBmb3IgY3JlYXRpbmcgbm9kZSAqL1xuXHRlID0gdW5kZWZpbmVkO1xuXHQvKiogaHRtbCB0YWcgbm9kZXMgKi9cblx0biA9IHVuZGVmaW5lZDtcblx0LyoqIHRhcmdldCAqL1xuXHR0ID0gdW5kZWZpbmVkO1xuXHQvKiogYW5jaG9yICovXG5cdGEgPSB1bmRlZmluZWQ7XG5cdGNvbnN0cnVjdG9yKGlzX3N2ZyA9IGZhbHNlKSB7XG5cdFx0dGhpcy5pc19zdmcgPSBpc19zdmc7XG5cdFx0dGhpcy5lID0gdGhpcy5uID0gbnVsbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbFxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGMoaHRtbCkge1xuXHRcdHRoaXMuaChodG1sKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbFxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50IHwgU1ZHRWxlbWVudH0gdGFyZ2V0XG5cdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnQgfCBTVkdFbGVtZW50fSBhbmNob3Jcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRtKGh0bWwsIHRhcmdldCwgYW5jaG9yID0gbnVsbCkge1xuXHRcdGlmICghdGhpcy5lKSB7XG5cdFx0XHRpZiAodGhpcy5pc19zdmcpXG5cdFx0XHRcdHRoaXMuZSA9IHN2Z19lbGVtZW50KC8qKiBAdHlwZSB7a2V5b2YgU1ZHRWxlbWVudFRhZ05hbWVNYXB9ICovICh0YXJnZXQubm9kZU5hbWUpKTtcblx0XHRcdC8qKiAjNzM2NCAgdGFyZ2V0IGZvciA8dGVtcGxhdGU+IG1heSBiZSBwcm92aWRlZCBhcyAjZG9jdW1lbnQtZnJhZ21lbnQoMTEpICovIGVsc2Vcblx0XHRcdFx0dGhpcy5lID0gZWxlbWVudChcblx0XHRcdFx0XHQvKiogQHR5cGUge2tleW9mIEhUTUxFbGVtZW50VGFnTmFtZU1hcH0gKi8gKFxuXHRcdFx0XHRcdFx0dGFyZ2V0Lm5vZGVUeXBlID09PSAxMSA/ICdURU1QTEFURScgOiB0YXJnZXQubm9kZU5hbWVcblx0XHRcdFx0XHQpXG5cdFx0XHRcdCk7XG5cdFx0XHR0aGlzLnQgPVxuXHRcdFx0XHR0YXJnZXQudGFnTmFtZSAhPT0gJ1RFTVBMQVRFJ1xuXHRcdFx0XHRcdD8gdGFyZ2V0XG5cdFx0XHRcdFx0OiAvKiogQHR5cGUge0hUTUxUZW1wbGF0ZUVsZW1lbnR9ICovICh0YXJnZXQpLmNvbnRlbnQ7XG5cdFx0XHR0aGlzLmMoaHRtbCk7XG5cdFx0fVxuXHRcdHRoaXMuaShhbmNob3IpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0aChodG1sKSB7XG5cdFx0dGhpcy5lLmlubmVySFRNTCA9IGh0bWw7XG5cdFx0dGhpcy5uID0gQXJyYXkuZnJvbShcblx0XHRcdHRoaXMuZS5ub2RlTmFtZSA9PT0gJ1RFTVBMQVRFJyA/IHRoaXMuZS5jb250ZW50LmNoaWxkTm9kZXMgOiB0aGlzLmUuY2hpbGROb2Rlc1xuXHRcdCk7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGkoYW5jaG9yKSB7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm4ubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdGluc2VydCh0aGlzLnQsIHRoaXMubltpXSwgYW5jaG9yKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRwKGh0bWwpIHtcblx0XHR0aGlzLmQoKTtcblx0XHR0aGlzLmgoaHRtbCk7XG5cdFx0dGhpcy5pKHRoaXMuYSk7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGQoKSB7XG5cdFx0dGhpcy5uLmZvckVhY2goZGV0YWNoKTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgSHRtbFRhZ0h5ZHJhdGlvbiBleHRlbmRzIEh0bWxUYWcge1xuXHQvKiogQHR5cGUge0VsZW1lbnRbXX0gaHlkcmF0aW9uIGNsYWltZWQgbm9kZXMgKi9cblx0bCA9IHVuZGVmaW5lZDtcblxuXHRjb25zdHJ1Y3Rvcihpc19zdmcgPSBmYWxzZSwgY2xhaW1lZF9ub2Rlcykge1xuXHRcdHN1cGVyKGlzX3N2Zyk7XG5cdFx0dGhpcy5lID0gdGhpcy5uID0gbnVsbDtcblx0XHR0aGlzLmwgPSBjbGFpbWVkX25vZGVzO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0YyhodG1sKSB7XG5cdFx0aWYgKHRoaXMubCkge1xuXHRcdFx0dGhpcy5uID0gdGhpcy5sO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdXBlci5jKGh0bWwpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0aShhbmNob3IpIHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubi5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0aW5zZXJ0X2h5ZHJhdGlvbih0aGlzLnQsIHRoaXMubltpXSwgYW5jaG9yKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge05hbWVkTm9kZU1hcH0gYXR0cmlidXRlc1xuICogQHJldHVybnMge3t9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXR0cmlidXRlX3RvX29iamVjdChhdHRyaWJ1dGVzKSB7XG5cdGNvbnN0IHJlc3VsdCA9IHt9O1xuXHRmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiBhdHRyaWJ1dGVzKSB7XG5cdFx0cmVzdWx0W2F0dHJpYnV0ZS5uYW1lXSA9IGF0dHJpYnV0ZS52YWx1ZTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHt7fX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9jdXN0b21fZWxlbWVudHNfc2xvdHMoZWxlbWVudCkge1xuXHRjb25zdCByZXN1bHQgPSB7fTtcblx0ZWxlbWVudC5jaGlsZE5vZGVzLmZvckVhY2goXG5cdFx0LyoqIEBwYXJhbSB7RWxlbWVudH0gbm9kZSAqLyAobm9kZSkgPT4ge1xuXHRcdFx0cmVzdWx0W25vZGUuc2xvdCB8fCAnZGVmYXVsdCddID0gdHJ1ZTtcblx0XHR9XG5cdCk7XG5cdHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb25zdHJ1Y3Rfc3ZlbHRlX2NvbXBvbmVudChjb21wb25lbnQsIHByb3BzKSB7XG5cdHJldHVybiBuZXcgY29tcG9uZW50KHByb3BzKTtcbn1cblxuLyoqXG4gKiBAdHlwZWRlZiB7Tm9kZSAmIHtcbiAqIFx0Y2xhaW1fb3JkZXI/OiBudW1iZXI7XG4gKiBcdGh5ZHJhdGVfaW5pdD86IHRydWU7XG4gKiBcdGFjdHVhbF9lbmRfY2hpbGQ/OiBOb2RlRXg7XG4gKiBcdGNoaWxkTm9kZXM6IE5vZGVMaXN0T2Y8Tm9kZUV4PjtcbiAqIH19IE5vZGVFeFxuICovXG5cbi8qKiBAdHlwZWRlZiB7Q2hpbGROb2RlICYgTm9kZUV4fSBDaGlsZE5vZGVFeCAqL1xuXG4vKiogQHR5cGVkZWYge05vZGVFeCAmIHsgY2xhaW1fb3JkZXI6IG51bWJlciB9fSBOb2RlRXgyICovXG5cbi8qKlxuICogQHR5cGVkZWYge0NoaWxkTm9kZUV4W10gJiB7XG4gKiBcdGNsYWltX2luZm8/OiB7XG4gKiBcdFx0bGFzdF9pbmRleDogbnVtYmVyO1xuICogXHRcdHRvdGFsX2NsYWltZWQ6IG51bWJlcjtcbiAqIFx0fTtcbiAqIH19IENoaWxkTm9kZUFycmF5XG4gKi9cbiIsImltcG9ydCB7IGN1c3RvbV9ldmVudCB9IGZyb20gJy4vZG9tLmpzJztcblxuZXhwb3J0IGxldCBjdXJyZW50X2NvbXBvbmVudDtcblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9jdXJyZW50X2NvbXBvbmVudChjb21wb25lbnQpIHtcblx0Y3VycmVudF9jb21wb25lbnQgPSBjb21wb25lbnQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRfY3VycmVudF9jb21wb25lbnQoKSB7XG5cdGlmICghY3VycmVudF9jb21wb25lbnQpIHRocm93IG5ldyBFcnJvcignRnVuY3Rpb24gY2FsbGVkIG91dHNpZGUgY29tcG9uZW50IGluaXRpYWxpemF0aW9uJyk7XG5cdHJldHVybiBjdXJyZW50X2NvbXBvbmVudDtcbn1cblxuLyoqXG4gKiBTY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgdXBkYXRlZCBhZnRlciBhbnkgc3RhdGUgY2hhbmdlLlxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBydW5zIHdpbGwgYmUgYmVmb3JlIHRoZSBpbml0aWFsIGBvbk1vdW50YFxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZSNiZWZvcmV1cGRhdGVcbiAqIEBwYXJhbSB7KCkgPT4gYW55fSBmblxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiZWZvcmVVcGRhdGUoZm4pIHtcblx0Z2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuYmVmb3JlX3VwZGF0ZS5wdXNoKGZuKTtcbn1cblxuLyoqXG4gKiBUaGUgYG9uTW91bnRgIGZ1bmN0aW9uIHNjaGVkdWxlcyBhIGNhbGxiYWNrIHRvIHJ1biBhcyBzb29uIGFzIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gbW91bnRlZCB0byB0aGUgRE9NLlxuICogSXQgbXVzdCBiZSBjYWxsZWQgZHVyaW5nIHRoZSBjb21wb25lbnQncyBpbml0aWFsaXNhdGlvbiAoYnV0IGRvZXNuJ3QgbmVlZCB0byBsaXZlICppbnNpZGUqIHRoZSBjb21wb25lbnQ7XG4gKiBpdCBjYW4gYmUgY2FsbGVkIGZyb20gYW4gZXh0ZXJuYWwgbW9kdWxlKS5cbiAqXG4gKiBJZiBhIGZ1bmN0aW9uIGlzIHJldHVybmVkIF9zeW5jaHJvbm91c2x5XyBmcm9tIGBvbk1vdW50YCwgaXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIHVubW91bnRlZC5cbiAqXG4gKiBgb25Nb3VudGAgZG9lcyBub3QgcnVuIGluc2lkZSBhIFtzZXJ2ZXItc2lkZSBjb21wb25lbnRdKC9kb2NzI3J1bi10aW1lLXNlcnZlci1zaWRlLWNvbXBvbmVudC1hcGkpLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZSNvbm1vdW50XG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHsoKSA9PiBpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLk5vdEZ1bmN0aW9uPFQ+IHwgUHJvbWlzZTxpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLk5vdEZ1bmN0aW9uPFQ+PiB8ICgoKSA9PiBhbnkpfSBmblxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvbk1vdW50KGZuKSB7XG5cdGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLm9uX21vdW50LnB1c2goZm4pO1xufVxuXG4vKipcbiAqIFNjaGVkdWxlcyBhIGNhbGxiYWNrIHRvIHJ1biBpbW1lZGlhdGVseSBhZnRlciB0aGUgY29tcG9uZW50IGhhcyBiZWVuIHVwZGF0ZWQuXG4gKlxuICogVGhlIGZpcnN0IHRpbWUgdGhlIGNhbGxiYWNrIHJ1bnMgd2lsbCBiZSBhZnRlciB0aGUgaW5pdGlhbCBgb25Nb3VudGBcbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjYWZ0ZXJ1cGRhdGVcbiAqIEBwYXJhbSB7KCkgPT4gYW55fSBmblxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZnRlclVwZGF0ZShmbikge1xuXHRnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5hZnRlcl91cGRhdGUucHVzaChmbik7XG59XG5cbi8qKlxuICogU2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIHVubW91bnRlZC5cbiAqXG4gKiBPdXQgb2YgYG9uTW91bnRgLCBgYmVmb3JlVXBkYXRlYCwgYGFmdGVyVXBkYXRlYCBhbmQgYG9uRGVzdHJveWAsIHRoaXMgaXMgdGhlXG4gKiBvbmx5IG9uZSB0aGF0IHJ1bnMgaW5zaWRlIGEgc2VydmVyLXNpZGUgY29tcG9uZW50LlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZSNvbmRlc3Ryb3lcbiAqIEBwYXJhbSB7KCkgPT4gYW55fSBmblxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvbkRlc3Ryb3koZm4pIHtcblx0Z2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQub25fZGVzdHJveS5wdXNoKGZuKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGV2ZW50IGRpc3BhdGNoZXIgdGhhdCBjYW4gYmUgdXNlZCB0byBkaXNwYXRjaCBbY29tcG9uZW50IGV2ZW50c10oL2RvY3MjdGVtcGxhdGUtc3ludGF4LWNvbXBvbmVudC1kaXJlY3RpdmVzLW9uLWV2ZW50bmFtZSkuXG4gKiBFdmVudCBkaXNwYXRjaGVycyBhcmUgZnVuY3Rpb25zIHRoYXQgY2FuIHRha2UgdHdvIGFyZ3VtZW50czogYG5hbWVgIGFuZCBgZGV0YWlsYC5cbiAqXG4gKiBDb21wb25lbnQgZXZlbnRzIGNyZWF0ZWQgd2l0aCBgY3JlYXRlRXZlbnREaXNwYXRjaGVyYCBjcmVhdGUgYVxuICogW0N1c3RvbUV2ZW50XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ3VzdG9tRXZlbnQpLlxuICogVGhlc2UgZXZlbnRzIGRvIG5vdCBbYnViYmxlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0xlYXJuL0phdmFTY3JpcHQvQnVpbGRpbmdfYmxvY2tzL0V2ZW50cyNFdmVudF9idWJibGluZ19hbmRfY2FwdHVyZSkuXG4gKiBUaGUgYGRldGFpbGAgYXJndW1lbnQgY29ycmVzcG9uZHMgdG8gdGhlIFtDdXN0b21FdmVudC5kZXRhaWxdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DdXN0b21FdmVudC9kZXRhaWwpXG4gKiBwcm9wZXJ0eSBhbmQgY2FuIGNvbnRhaW4gYW55IHR5cGUgb2YgZGF0YS5cbiAqXG4gKiBUaGUgZXZlbnQgZGlzcGF0Y2hlciBjYW4gYmUgdHlwZWQgdG8gbmFycm93IHRoZSBhbGxvd2VkIGV2ZW50IG5hbWVzIGFuZCB0aGUgdHlwZSBvZiB0aGUgYGRldGFpbGAgYXJndW1lbnQ6XG4gKiBgYGB0c1xuICogY29uc3QgZGlzcGF0Y2ggPSBjcmVhdGVFdmVudERpc3BhdGNoZXI8e1xuICogIGxvYWRlZDogbmV2ZXI7IC8vIGRvZXMgbm90IHRha2UgYSBkZXRhaWwgYXJndW1lbnRcbiAqICBjaGFuZ2U6IHN0cmluZzsgLy8gdGFrZXMgYSBkZXRhaWwgYXJndW1lbnQgb2YgdHlwZSBzdHJpbmcsIHdoaWNoIGlzIHJlcXVpcmVkXG4gKiAgb3B0aW9uYWw6IG51bWJlciB8IG51bGw7IC8vIHRha2VzIGFuIG9wdGlvbmFsIGRldGFpbCBhcmd1bWVudCBvZiB0eXBlIG51bWJlclxuICogfT4oKTtcbiAqIGBgYFxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZSNjcmVhdGVldmVudGRpc3BhdGNoZXJcbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gW0V2ZW50TWFwPWFueV1cbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljLmpzJykuRXZlbnREaXNwYXRjaGVyPEV2ZW50TWFwPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcigpIHtcblx0Y29uc3QgY29tcG9uZW50ID0gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCk7XG5cdHJldHVybiAodHlwZSwgZGV0YWlsLCB7IGNhbmNlbGFibGUgPSBmYWxzZSB9ID0ge30pID0+IHtcblx0XHRjb25zdCBjYWxsYmFja3MgPSBjb21wb25lbnQuJCQuY2FsbGJhY2tzW3R5cGVdO1xuXHRcdGlmIChjYWxsYmFja3MpIHtcblx0XHRcdC8vIFRPRE8gYXJlIHRoZXJlIHNpdHVhdGlvbnMgd2hlcmUgZXZlbnRzIGNvdWxkIGJlIGRpc3BhdGNoZWRcblx0XHRcdC8vIGluIGEgc2VydmVyIChub24tRE9NKSBlbnZpcm9ubWVudD9cblx0XHRcdGNvbnN0IGV2ZW50ID0gY3VzdG9tX2V2ZW50KC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAodHlwZSksIGRldGFpbCwgeyBjYW5jZWxhYmxlIH0pO1xuXHRcdFx0Y2FsbGJhY2tzLnNsaWNlKCkuZm9yRWFjaCgoZm4pID0+IHtcblx0XHRcdFx0Zm4uY2FsbChjb21wb25lbnQsIGV2ZW50KTtcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuICFldmVudC5kZWZhdWx0UHJldmVudGVkO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fTtcbn1cblxuLyoqXG4gKiBBc3NvY2lhdGVzIGFuIGFyYml0cmFyeSBgY29udGV4dGAgb2JqZWN0IHdpdGggdGhlIGN1cnJlbnQgY29tcG9uZW50IGFuZCB0aGUgc3BlY2lmaWVkIGBrZXlgXG4gKiBhbmQgcmV0dXJucyB0aGF0IG9iamVjdC4gVGhlIGNvbnRleHQgaXMgdGhlbiBhdmFpbGFibGUgdG8gY2hpbGRyZW4gb2YgdGhlIGNvbXBvbmVudFxuICogKGluY2x1ZGluZyBzbG90dGVkIGNvbnRlbnQpIHdpdGggYGdldENvbnRleHRgLlxuICpcbiAqIExpa2UgbGlmZWN5Y2xlIGZ1bmN0aW9ucywgdGhpcyBtdXN0IGJlIGNhbGxlZCBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZSNzZXRjb250ZXh0XG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHthbnl9IGtleVxuICogQHBhcmFtIHtUfSBjb250ZXh0XG4gKiBAcmV0dXJucyB7VH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldENvbnRleHQoa2V5LCBjb250ZXh0KSB7XG5cdGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQuc2V0KGtleSwgY29udGV4dCk7XG5cdHJldHVybiBjb250ZXh0O1xufVxuXG4vKipcbiAqIFJldHJpZXZlcyB0aGUgY29udGV4dCB0aGF0IGJlbG9uZ3MgdG8gdGhlIGNsb3Nlc3QgcGFyZW50IGNvbXBvbmVudCB3aXRoIHRoZSBzcGVjaWZpZWQgYGtleWAuXG4gKiBNdXN0IGJlIGNhbGxlZCBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZSNnZXRjb250ZXh0XG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHthbnl9IGtleVxuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb250ZXh0KGtleSkge1xuXHRyZXR1cm4gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dC5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIHdob2xlIGNvbnRleHQgbWFwIHRoYXQgYmVsb25ncyB0byB0aGUgY2xvc2VzdCBwYXJlbnQgY29tcG9uZW50LlxuICogTXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi4gVXNlZnVsLCBmb3IgZXhhbXBsZSwgaWYgeW91XG4gKiBwcm9ncmFtbWF0aWNhbGx5IGNyZWF0ZSBhIGNvbXBvbmVudCBhbmQgd2FudCB0byBwYXNzIHRoZSBleGlzdGluZyBjb250ZXh0IHRvIGl0LlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZSNnZXRhbGxjb250ZXh0c1xuICogQHRlbXBsYXRlIHtNYXA8YW55LCBhbnk+fSBbVD1NYXA8YW55LCBhbnk+XVxuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBbGxDb250ZXh0cygpIHtcblx0cmV0dXJuIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgYSBnaXZlbiBga2V5YCBoYXMgYmVlbiBzZXQgaW4gdGhlIGNvbnRleHQgb2YgYSBwYXJlbnQgY29tcG9uZW50LlxuICogTXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjaGFzY29udGV4dFxuICogQHBhcmFtIHthbnl9IGtleVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNDb250ZXh0KGtleSkge1xuXHRyZXR1cm4gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dC5oYXMoa2V5KTtcbn1cblxuLy8gVE9ETyBmaWd1cmUgb3V0IGlmIHdlIHN0aWxsIHdhbnQgdG8gc3VwcG9ydFxuLy8gc2hvcnRoYW5kIGV2ZW50cywgb3IgaWYgd2Ugd2FudCB0byBpbXBsZW1lbnRcbi8vIGEgcmVhbCBidWJibGluZyBtZWNoYW5pc21cbi8qKlxuICogQHBhcmFtIGNvbXBvbmVudFxuICogQHBhcmFtIGV2ZW50XG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ1YmJsZShjb21wb25lbnQsIGV2ZW50KSB7XG5cdGNvbnN0IGNhbGxiYWNrcyA9IGNvbXBvbmVudC4kJC5jYWxsYmFja3NbZXZlbnQudHlwZV07XG5cdGlmIChjYWxsYmFja3MpIHtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0Y2FsbGJhY2tzLnNsaWNlKCkuZm9yRWFjaCgoZm4pID0+IGZuLmNhbGwodGhpcywgZXZlbnQpKTtcblx0fVxufVxuIiwiaW1wb3J0IHsgcnVuX2FsbCB9IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHsgY3VycmVudF9jb21wb25lbnQsIHNldF9jdXJyZW50X2NvbXBvbmVudCB9IGZyb20gJy4vbGlmZWN5Y2xlLmpzJztcblxuZXhwb3J0IGNvbnN0IGRpcnR5X2NvbXBvbmVudHMgPSBbXTtcbmV4cG9ydCBjb25zdCBpbnRyb3MgPSB7IGVuYWJsZWQ6IGZhbHNlIH07XG5leHBvcnQgY29uc3QgYmluZGluZ19jYWxsYmFja3MgPSBbXTtcblxubGV0IHJlbmRlcl9jYWxsYmFja3MgPSBbXTtcblxuY29uc3QgZmx1c2hfY2FsbGJhY2tzID0gW107XG5cbmNvbnN0IHJlc29sdmVkX3Byb21pc2UgPSAvKiBAX19QVVJFX18gKi8gUHJvbWlzZS5yZXNvbHZlKCk7XG5cbmxldCB1cGRhdGVfc2NoZWR1bGVkID0gZmFsc2U7XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZV91cGRhdGUoKSB7XG5cdGlmICghdXBkYXRlX3NjaGVkdWxlZCkge1xuXHRcdHVwZGF0ZV9zY2hlZHVsZWQgPSB0cnVlO1xuXHRcdHJlc29sdmVkX3Byb21pc2UudGhlbihmbHVzaCk7XG5cdH1cbn1cblxuLyoqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRpY2soKSB7XG5cdHNjaGVkdWxlX3VwZGF0ZSgpO1xuXHRyZXR1cm4gcmVzb2x2ZWRfcHJvbWlzZTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZF9yZW5kZXJfY2FsbGJhY2soZm4pIHtcblx0cmVuZGVyX2NhbGxiYWNrcy5wdXNoKGZuKTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZF9mbHVzaF9jYWxsYmFjayhmbikge1xuXHRmbHVzaF9jYWxsYmFja3MucHVzaChmbik7XG59XG5cbi8vIGZsdXNoKCkgY2FsbHMgY2FsbGJhY2tzIGluIHRoaXMgb3JkZXI6XG4vLyAxLiBBbGwgYmVmb3JlVXBkYXRlIGNhbGxiYWNrcywgaW4gb3JkZXI6IHBhcmVudHMgYmVmb3JlIGNoaWxkcmVuXG4vLyAyLiBBbGwgYmluZDp0aGlzIGNhbGxiYWNrcywgaW4gcmV2ZXJzZSBvcmRlcjogY2hpbGRyZW4gYmVmb3JlIHBhcmVudHMuXG4vLyAzLiBBbGwgYWZ0ZXJVcGRhdGUgY2FsbGJhY2tzLCBpbiBvcmRlcjogcGFyZW50cyBiZWZvcmUgY2hpbGRyZW4uIEVYQ0VQVFxuLy8gICAgZm9yIGFmdGVyVXBkYXRlcyBjYWxsZWQgZHVyaW5nIHRoZSBpbml0aWFsIG9uTW91bnQsIHdoaWNoIGFyZSBjYWxsZWQgaW5cbi8vICAgIHJldmVyc2Ugb3JkZXI6IGNoaWxkcmVuIGJlZm9yZSBwYXJlbnRzLlxuLy8gU2luY2UgY2FsbGJhY2tzIG1pZ2h0IHVwZGF0ZSBjb21wb25lbnQgdmFsdWVzLCB3aGljaCBjb3VsZCB0cmlnZ2VyIGFub3RoZXJcbi8vIGNhbGwgdG8gZmx1c2goKSwgdGhlIGZvbGxvd2luZyBzdGVwcyBndWFyZCBhZ2FpbnN0IHRoaXM6XG4vLyAxLiBEdXJpbmcgYmVmb3JlVXBkYXRlLCBhbnkgdXBkYXRlZCBjb21wb25lbnRzIHdpbGwgYmUgYWRkZWQgdG8gdGhlXG4vLyAgICBkaXJ0eV9jb21wb25lbnRzIGFycmF5IGFuZCB3aWxsIGNhdXNlIGEgcmVlbnRyYW50IGNhbGwgdG8gZmx1c2goKS4gQmVjYXVzZVxuLy8gICAgdGhlIGZsdXNoIGluZGV4IGlzIGtlcHQgb3V0c2lkZSB0aGUgZnVuY3Rpb24sIHRoZSByZWVudHJhbnQgY2FsbCB3aWxsIHBpY2tcbi8vICAgIHVwIHdoZXJlIHRoZSBlYXJsaWVyIGNhbGwgbGVmdCBvZmYgYW5kIGdvIHRocm91Z2ggYWxsIGRpcnR5IGNvbXBvbmVudHMuIFRoZVxuLy8gICAgY3VycmVudF9jb21wb25lbnQgdmFsdWUgaXMgc2F2ZWQgYW5kIHJlc3RvcmVkIHNvIHRoYXQgdGhlIHJlZW50cmFudCBjYWxsIHdpbGxcbi8vICAgIG5vdCBpbnRlcmZlcmUgd2l0aCB0aGUgXCJwYXJlbnRcIiBmbHVzaCgpIGNhbGwuXG4vLyAyLiBiaW5kOnRoaXMgY2FsbGJhY2tzIGNhbm5vdCB0cmlnZ2VyIG5ldyBmbHVzaCgpIGNhbGxzLlxuLy8gMy4gRHVyaW5nIGFmdGVyVXBkYXRlLCBhbnkgdXBkYXRlZCBjb21wb25lbnRzIHdpbGwgTk9UIGhhdmUgdGhlaXIgYWZ0ZXJVcGRhdGVcbi8vICAgIGNhbGxiYWNrIGNhbGxlZCBhIHNlY29uZCB0aW1lOyB0aGUgc2Vlbl9jYWxsYmFja3Mgc2V0LCBvdXRzaWRlIHRoZSBmbHVzaCgpXG4vLyAgICBmdW5jdGlvbiwgZ3VhcmFudGVlcyB0aGlzIGJlaGF2aW9yLlxuY29uc3Qgc2Vlbl9jYWxsYmFja3MgPSBuZXcgU2V0KCk7XG5cbmxldCBmbHVzaGlkeCA9IDA7IC8vIERvICpub3QqIG1vdmUgdGhpcyBpbnNpZGUgdGhlIGZsdXNoKCkgZnVuY3Rpb25cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsdXNoKCkge1xuXHQvLyBEbyBub3QgcmVlbnRlciBmbHVzaCB3aGlsZSBkaXJ0eSBjb21wb25lbnRzIGFyZSB1cGRhdGVkLCBhcyB0aGlzIGNhblxuXHQvLyByZXN1bHQgaW4gYW4gaW5maW5pdGUgbG9vcC4gSW5zdGVhZCwgbGV0IHRoZSBpbm5lciBmbHVzaCBoYW5kbGUgaXQuXG5cdC8vIFJlZW50cmFuY3kgaXMgb2sgYWZ0ZXJ3YXJkcyBmb3IgYmluZGluZ3MgZXRjLlxuXHRpZiAoZmx1c2hpZHggIT09IDApIHtcblx0XHRyZXR1cm47XG5cdH1cblx0Y29uc3Qgc2F2ZWRfY29tcG9uZW50ID0gY3VycmVudF9jb21wb25lbnQ7XG5cdGRvIHtcblx0XHQvLyBmaXJzdCwgY2FsbCBiZWZvcmVVcGRhdGUgZnVuY3Rpb25zXG5cdFx0Ly8gYW5kIHVwZGF0ZSBjb21wb25lbnRzXG5cdFx0dHJ5IHtcblx0XHRcdHdoaWxlIChmbHVzaGlkeCA8IGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoKSB7XG5cdFx0XHRcdGNvbnN0IGNvbXBvbmVudCA9IGRpcnR5X2NvbXBvbmVudHNbZmx1c2hpZHhdO1xuXHRcdFx0XHRmbHVzaGlkeCsrO1xuXHRcdFx0XHRzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KTtcblx0XHRcdFx0dXBkYXRlKGNvbXBvbmVudC4kJCk7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0Ly8gcmVzZXQgZGlydHkgc3RhdGUgdG8gbm90IGVuZCB1cCBpbiBhIGRlYWRsb2NrZWQgc3RhdGUgYW5kIHRoZW4gcmV0aHJvd1xuXHRcdFx0ZGlydHlfY29tcG9uZW50cy5sZW5ndGggPSAwO1xuXHRcdFx0Zmx1c2hpZHggPSAwO1xuXHRcdFx0dGhyb3cgZTtcblx0XHR9XG5cdFx0c2V0X2N1cnJlbnRfY29tcG9uZW50KG51bGwpO1xuXHRcdGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoID0gMDtcblx0XHRmbHVzaGlkeCA9IDA7XG5cdFx0d2hpbGUgKGJpbmRpbmdfY2FsbGJhY2tzLmxlbmd0aCkgYmluZGluZ19jYWxsYmFja3MucG9wKCkoKTtcblx0XHQvLyB0aGVuLCBvbmNlIGNvbXBvbmVudHMgYXJlIHVwZGF0ZWQsIGNhbGxcblx0XHQvLyBhZnRlclVwZGF0ZSBmdW5jdGlvbnMuIFRoaXMgbWF5IGNhdXNlXG5cdFx0Ly8gc3Vic2VxdWVudCB1cGRhdGVzLi4uXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCByZW5kZXJfY2FsbGJhY2tzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRjb25zdCBjYWxsYmFjayA9IHJlbmRlcl9jYWxsYmFja3NbaV07XG5cdFx0XHRpZiAoIXNlZW5fY2FsbGJhY2tzLmhhcyhjYWxsYmFjaykpIHtcblx0XHRcdFx0Ly8gLi4uc28gZ3VhcmQgYWdhaW5zdCBpbmZpbml0ZSBsb29wc1xuXHRcdFx0XHRzZWVuX2NhbGxiYWNrcy5hZGQoY2FsbGJhY2spO1xuXHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZW5kZXJfY2FsbGJhY2tzLmxlbmd0aCA9IDA7XG5cdH0gd2hpbGUgKGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoKTtcblx0d2hpbGUgKGZsdXNoX2NhbGxiYWNrcy5sZW5ndGgpIHtcblx0XHRmbHVzaF9jYWxsYmFja3MucG9wKCkoKTtcblx0fVxuXHR1cGRhdGVfc2NoZWR1bGVkID0gZmFsc2U7XG5cdHNlZW5fY2FsbGJhY2tzLmNsZWFyKCk7XG5cdHNldF9jdXJyZW50X2NvbXBvbmVudChzYXZlZF9jb21wb25lbnQpO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5mdW5jdGlvbiB1cGRhdGUoJCQpIHtcblx0aWYgKCQkLmZyYWdtZW50ICE9PSBudWxsKSB7XG5cdFx0JCQudXBkYXRlKCk7XG5cdFx0cnVuX2FsbCgkJC5iZWZvcmVfdXBkYXRlKTtcblx0XHRjb25zdCBkaXJ0eSA9ICQkLmRpcnR5O1xuXHRcdCQkLmRpcnR5ID0gWy0xXTtcblx0XHQkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5wKCQkLmN0eCwgZGlydHkpO1xuXHRcdCQkLmFmdGVyX3VwZGF0ZS5mb3JFYWNoKGFkZF9yZW5kZXJfY2FsbGJhY2spO1xuXHR9XG59XG5cbi8qKlxuICogVXNlZnVsIGZvciBleGFtcGxlIHRvIGV4ZWN1dGUgcmVtYWluaW5nIGBhZnRlclVwZGF0ZWAgY2FsbGJhY2tzIGJlZm9yZSBleGVjdXRpbmcgYGRlc3Ryb3lgLlxuICogQHBhcmFtIHtGdW5jdGlvbltdfSBmbnNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZmx1c2hfcmVuZGVyX2NhbGxiYWNrcyhmbnMpIHtcblx0Y29uc3QgZmlsdGVyZWQgPSBbXTtcblx0Y29uc3QgdGFyZ2V0cyA9IFtdO1xuXHRyZW5kZXJfY2FsbGJhY2tzLmZvckVhY2goKGMpID0+IChmbnMuaW5kZXhPZihjKSA9PT0gLTEgPyBmaWx0ZXJlZC5wdXNoKGMpIDogdGFyZ2V0cy5wdXNoKGMpKSk7XG5cdHRhcmdldHMuZm9yRWFjaCgoYykgPT4gYygpKTtcblx0cmVuZGVyX2NhbGxiYWNrcyA9IGZpbHRlcmVkO1xufVxuIiwiaW1wb3J0IHsgaWRlbnRpdHkgYXMgbGluZWFyLCBpc19mdW5jdGlvbiwgbm9vcCwgcnVuX2FsbCB9IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHsgbm93IH0gZnJvbSAnLi9lbnZpcm9ubWVudC5qcyc7XG5pbXBvcnQgeyBsb29wIH0gZnJvbSAnLi9sb29wLmpzJztcbmltcG9ydCB7IGNyZWF0ZV9ydWxlLCBkZWxldGVfcnVsZSB9IGZyb20gJy4vc3R5bGVfbWFuYWdlci5qcyc7XG5pbXBvcnQgeyBjdXN0b21fZXZlbnQgfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyBhZGRfcmVuZGVyX2NhbGxiYWNrIH0gZnJvbSAnLi9zY2hlZHVsZXIuanMnO1xuXG4vKipcbiAqIEB0eXBlIHtQcm9taXNlPHZvaWQ+IHwgbnVsbH1cbiAqL1xubGV0IHByb21pc2U7XG5cbi8qKlxuICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gKi9cbmZ1bmN0aW9uIHdhaXQoKSB7XG5cdGlmICghcHJvbWlzZSkge1xuXHRcdHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcblx0XHRwcm9taXNlLnRoZW4oKCkgPT4ge1xuXHRcdFx0cHJvbWlzZSA9IG51bGw7XG5cdFx0fSk7XG5cdH1cblx0cmV0dXJuIHByb21pc2U7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBub2RlXG4gKiBAcGFyYW0ge0lOVFJPIHwgT1VUUk8gfCBib29sZWFufSBkaXJlY3Rpb25cbiAqIEBwYXJhbSB7J3N0YXJ0JyB8ICdlbmQnfSBraW5kXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gZGlzcGF0Y2gobm9kZSwgZGlyZWN0aW9uLCBraW5kKSB7XG5cdG5vZGUuZGlzcGF0Y2hFdmVudChjdXN0b21fZXZlbnQoYCR7ZGlyZWN0aW9uID8gJ2ludHJvJyA6ICdvdXRybyd9JHtraW5kfWApKTtcbn1cblxuY29uc3Qgb3V0cm9pbmcgPSBuZXcgU2V0KCk7XG5cbi8qKlxuICogQHR5cGUge091dHJvfVxuICovXG5sZXQgb3V0cm9zO1xuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdyb3VwX291dHJvcygpIHtcblx0b3V0cm9zID0ge1xuXHRcdHI6IDAsXG5cdFx0YzogW10sXG5cdFx0cDogb3V0cm9zIC8vIHBhcmVudCBncm91cFxuXHR9O1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrX291dHJvcygpIHtcblx0aWYgKCFvdXRyb3Mucikge1xuXHRcdHJ1bl9hbGwob3V0cm9zLmMpO1xuXHR9XG5cdG91dHJvcyA9IG91dHJvcy5wO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5GcmFnbWVudH0gYmxvY2tcbiAqIEBwYXJhbSB7MCB8IDF9IFtsb2NhbF1cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNpdGlvbl9pbihibG9jaywgbG9jYWwpIHtcblx0aWYgKGJsb2NrICYmIGJsb2NrLmkpIHtcblx0XHRvdXRyb2luZy5kZWxldGUoYmxvY2spO1xuXHRcdGJsb2NrLmkobG9jYWwpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLkZyYWdtZW50fSBibG9ja1xuICogQHBhcmFtIHswIHwgMX0gbG9jYWxcbiAqIEBwYXJhbSB7MCB8IDF9IFtkZXRhY2hdXG4gKiBAcGFyYW0geygpID0+IHZvaWR9IFtjYWxsYmFja11cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNpdGlvbl9vdXQoYmxvY2ssIGxvY2FsLCBkZXRhY2gsIGNhbGxiYWNrKSB7XG5cdGlmIChibG9jayAmJiBibG9jay5vKSB7XG5cdFx0aWYgKG91dHJvaW5nLmhhcyhibG9jaykpIHJldHVybjtcblx0XHRvdXRyb2luZy5hZGQoYmxvY2spO1xuXHRcdG91dHJvcy5jLnB1c2goKCkgPT4ge1xuXHRcdFx0b3V0cm9pbmcuZGVsZXRlKGJsb2NrKTtcblx0XHRcdGlmIChjYWxsYmFjaykge1xuXHRcdFx0XHRpZiAoZGV0YWNoKSBibG9jay5kKDEpO1xuXHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdGJsb2NrLm8obG9jYWwpO1xuXHR9IGVsc2UgaWYgKGNhbGxiYWNrKSB7XG5cdFx0Y2FsbGJhY2soKTtcblx0fVxufVxuXG4vKipcbiAqIEB0eXBlIHtpbXBvcnQoJy4uL3RyYW5zaXRpb24vcHVibGljLmpzJykuVHJhbnNpdGlvbkNvbmZpZ31cbiAqL1xuY29uc3QgbnVsbF90cmFuc2l0aW9uID0geyBkdXJhdGlvbjogMCB9O1xuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudCAmIEVsZW1lbnRDU1NJbmxpbmVTdHlsZX0gbm9kZVxuICogQHBhcmFtIHtUcmFuc2l0aW9uRm59IGZuXG4gKiBAcGFyYW0ge2FueX0gcGFyYW1zXG4gKiBAcmV0dXJucyB7eyBzdGFydCgpOiB2b2lkOyBpbnZhbGlkYXRlKCk6IHZvaWQ7IGVuZCgpOiB2b2lkOyB9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2luX3RyYW5zaXRpb24obm9kZSwgZm4sIHBhcmFtcykge1xuXHQvKipcblx0ICogQHR5cGUge1RyYW5zaXRpb25PcHRpb25zfSAqL1xuXHRjb25zdCBvcHRpb25zID0geyBkaXJlY3Rpb246ICdpbicgfTtcblx0bGV0IGNvbmZpZyA9IGZuKG5vZGUsIHBhcmFtcywgb3B0aW9ucyk7XG5cdGxldCBydW5uaW5nID0gZmFsc2U7XG5cdGxldCBhbmltYXRpb25fbmFtZTtcblx0bGV0IHRhc2s7XG5cdGxldCB1aWQgPSAwO1xuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0ZnVuY3Rpb24gY2xlYW51cCgpIHtcblx0XHRpZiAoYW5pbWF0aW9uX25hbWUpIGRlbGV0ZV9ydWxlKG5vZGUsIGFuaW1hdGlvbl9uYW1lKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0ZnVuY3Rpb24gZ28oKSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGVsYXkgPSAwLFxuXHRcdFx0ZHVyYXRpb24gPSAzMDAsXG5cdFx0XHRlYXNpbmcgPSBsaW5lYXIsXG5cdFx0XHR0aWNrID0gbm9vcCxcblx0XHRcdGNzc1xuXHRcdH0gPSBjb25maWcgfHwgbnVsbF90cmFuc2l0aW9uO1xuXHRcdGlmIChjc3MpIGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgMCwgMSwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcywgdWlkKyspO1xuXHRcdHRpY2soMCwgMSk7XG5cdFx0Y29uc3Qgc3RhcnRfdGltZSA9IG5vdygpICsgZGVsYXk7XG5cdFx0Y29uc3QgZW5kX3RpbWUgPSBzdGFydF90aW1lICsgZHVyYXRpb247XG5cdFx0aWYgKHRhc2spIHRhc2suYWJvcnQoKTtcblx0XHRydW5uaW5nID0gdHJ1ZTtcblx0XHRhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IGRpc3BhdGNoKG5vZGUsIHRydWUsICdzdGFydCcpKTtcblx0XHR0YXNrID0gbG9vcCgobm93KSA9PiB7XG5cdFx0XHRpZiAocnVubmluZykge1xuXHRcdFx0XHRpZiAobm93ID49IGVuZF90aW1lKSB7XG5cdFx0XHRcdFx0dGljaygxLCAwKTtcblx0XHRcdFx0XHRkaXNwYXRjaChub2RlLCB0cnVlLCAnZW5kJyk7XG5cdFx0XHRcdFx0Y2xlYW51cCgpO1xuXHRcdFx0XHRcdHJldHVybiAocnVubmluZyA9IGZhbHNlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAobm93ID49IHN0YXJ0X3RpbWUpIHtcblx0XHRcdFx0XHRjb25zdCB0ID0gZWFzaW5nKChub3cgLSBzdGFydF90aW1lKSAvIGR1cmF0aW9uKTtcblx0XHRcdFx0XHR0aWNrKHQsIDEgLSB0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJ1bm5pbmc7XG5cdFx0fSk7XG5cdH1cblx0bGV0IHN0YXJ0ZWQgPSBmYWxzZTtcblx0cmV0dXJuIHtcblx0XHRzdGFydCgpIHtcblx0XHRcdGlmIChzdGFydGVkKSByZXR1cm47XG5cdFx0XHRzdGFydGVkID0gdHJ1ZTtcblx0XHRcdGRlbGV0ZV9ydWxlKG5vZGUpO1xuXHRcdFx0aWYgKGlzX2Z1bmN0aW9uKGNvbmZpZykpIHtcblx0XHRcdFx0Y29uZmlnID0gY29uZmlnKG9wdGlvbnMpO1xuXHRcdFx0XHR3YWl0KCkudGhlbihnbyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRnbygpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0aW52YWxpZGF0ZSgpIHtcblx0XHRcdHN0YXJ0ZWQgPSBmYWxzZTtcblx0XHR9LFxuXHRcdGVuZCgpIHtcblx0XHRcdGlmIChydW5uaW5nKSB7XG5cdFx0XHRcdGNsZWFudXAoKTtcblx0XHRcdFx0cnVubmluZyA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnQgJiBFbGVtZW50Q1NTSW5saW5lU3R5bGV9IG5vZGVcbiAqIEBwYXJhbSB7VHJhbnNpdGlvbkZufSBmblxuICogQHBhcmFtIHthbnl9IHBhcmFtc1xuICogQHJldHVybnMge3sgZW5kKHJlc2V0OiBhbnkpOiB2b2lkOyB9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX291dF90cmFuc2l0aW9uKG5vZGUsIGZuLCBwYXJhbXMpIHtcblx0LyoqIEB0eXBlIHtUcmFuc2l0aW9uT3B0aW9uc30gKi9cblx0Y29uc3Qgb3B0aW9ucyA9IHsgZGlyZWN0aW9uOiAnb3V0JyB9O1xuXHRsZXQgY29uZmlnID0gZm4obm9kZSwgcGFyYW1zLCBvcHRpb25zKTtcblx0bGV0IHJ1bm5pbmcgPSB0cnVlO1xuXHRsZXQgYW5pbWF0aW9uX25hbWU7XG5cdGNvbnN0IGdyb3VwID0gb3V0cm9zO1xuXHRncm91cC5yICs9IDE7XG5cdC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi9cblx0bGV0IG9yaWdpbmFsX2luZXJ0X3ZhbHVlO1xuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0ZnVuY3Rpb24gZ28oKSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGVsYXkgPSAwLFxuXHRcdFx0ZHVyYXRpb24gPSAzMDAsXG5cdFx0XHRlYXNpbmcgPSBsaW5lYXIsXG5cdFx0XHR0aWNrID0gbm9vcCxcblx0XHRcdGNzc1xuXHRcdH0gPSBjb25maWcgfHwgbnVsbF90cmFuc2l0aW9uO1xuXG5cdFx0aWYgKGNzcykgYW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShub2RlLCAxLCAwLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZywgY3NzKTtcblxuXHRcdGNvbnN0IHN0YXJ0X3RpbWUgPSBub3coKSArIGRlbGF5O1xuXHRcdGNvbnN0IGVuZF90aW1lID0gc3RhcnRfdGltZSArIGR1cmF0aW9uO1xuXHRcdGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4gZGlzcGF0Y2gobm9kZSwgZmFsc2UsICdzdGFydCcpKTtcblxuXHRcdGlmICgnaW5lcnQnIGluIG5vZGUpIHtcblx0XHRcdG9yaWdpbmFsX2luZXJ0X3ZhbHVlID0gLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi8gKG5vZGUpLmluZXJ0O1xuXHRcdFx0bm9kZS5pbmVydCA9IHRydWU7XG5cdFx0fVxuXG5cdFx0bG9vcCgobm93KSA9PiB7XG5cdFx0XHRpZiAocnVubmluZykge1xuXHRcdFx0XHRpZiAobm93ID49IGVuZF90aW1lKSB7XG5cdFx0XHRcdFx0dGljaygwLCAxKTtcblx0XHRcdFx0XHRkaXNwYXRjaChub2RlLCBmYWxzZSwgJ2VuZCcpO1xuXHRcdFx0XHRcdGlmICghLS1ncm91cC5yKSB7XG5cdFx0XHRcdFx0XHQvLyB0aGlzIHdpbGwgcmVzdWx0IGluIGBlbmQoKWAgYmVpbmcgY2FsbGVkLFxuXHRcdFx0XHRcdFx0Ly8gc28gd2UgZG9uJ3QgbmVlZCB0byBjbGVhbiB1cCBoZXJlXG5cdFx0XHRcdFx0XHRydW5fYWxsKGdyb3VwLmMpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKG5vdyA+PSBzdGFydF90aW1lKSB7XG5cdFx0XHRcdFx0Y29uc3QgdCA9IGVhc2luZygobm93IC0gc3RhcnRfdGltZSkgLyBkdXJhdGlvbik7XG5cdFx0XHRcdFx0dGljaygxIC0gdCwgdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBydW5uaW5nO1xuXHRcdH0pO1xuXHR9XG5cblx0aWYgKGlzX2Z1bmN0aW9uKGNvbmZpZykpIHtcblx0XHR3YWl0KCkudGhlbigoKSA9PiB7XG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRjb25maWcgPSBjb25maWcob3B0aW9ucyk7XG5cdFx0XHRnbygpO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdGdvKCk7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdGVuZChyZXNldCkge1xuXHRcdFx0aWYgKHJlc2V0ICYmICdpbmVydCcgaW4gbm9kZSkge1xuXHRcdFx0XHRub2RlLmluZXJ0ID0gb3JpZ2luYWxfaW5lcnRfdmFsdWU7XG5cdFx0XHR9XG5cdFx0XHRpZiAocmVzZXQgJiYgY29uZmlnLnRpY2spIHtcblx0XHRcdFx0Y29uZmlnLnRpY2soMSwgMCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAocnVubmluZykge1xuXHRcdFx0XHRpZiAoYW5pbWF0aW9uX25hbWUpIGRlbGV0ZV9ydWxlKG5vZGUsIGFuaW1hdGlvbl9uYW1lKTtcblx0XHRcdFx0cnVubmluZyA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnQgJiBFbGVtZW50Q1NTSW5saW5lU3R5bGV9IG5vZGVcbiAqIEBwYXJhbSB7VHJhbnNpdGlvbkZufSBmblxuICogQHBhcmFtIHthbnl9IHBhcmFtc1xuICogQHBhcmFtIHtib29sZWFufSBpbnRyb1xuICogQHJldHVybnMge3sgcnVuKGI6IDAgfCAxKTogdm9pZDsgZW5kKCk6IHZvaWQ7IH19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfYmlkaXJlY3Rpb25hbF90cmFuc2l0aW9uKG5vZGUsIGZuLCBwYXJhbXMsIGludHJvKSB7XG5cdC8qKlxuXHQgKiBAdHlwZSB7VHJhbnNpdGlvbk9wdGlvbnN9ICovXG5cdGNvbnN0IG9wdGlvbnMgPSB7IGRpcmVjdGlvbjogJ2JvdGgnIH07XG5cdGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMsIG9wdGlvbnMpO1xuXHRsZXQgdCA9IGludHJvID8gMCA6IDE7XG5cblx0LyoqXG5cdCAqIEB0eXBlIHtQcm9ncmFtIHwgbnVsbH0gKi9cblx0bGV0IHJ1bm5pbmdfcHJvZ3JhbSA9IG51bGw7XG5cblx0LyoqXG5cdCAqIEB0eXBlIHtQZW5kaW5nUHJvZ3JhbSB8IG51bGx9ICovXG5cdGxldCBwZW5kaW5nX3Byb2dyYW0gPSBudWxsO1xuXHRsZXQgYW5pbWF0aW9uX25hbWUgPSBudWxsO1xuXG5cdC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi9cblx0bGV0IG9yaWdpbmFsX2luZXJ0X3ZhbHVlO1xuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0ZnVuY3Rpb24gY2xlYXJfYW5pbWF0aW9uKCkge1xuXHRcdGlmIChhbmltYXRpb25fbmFtZSkgZGVsZXRlX3J1bGUobm9kZSwgYW5pbWF0aW9uX25hbWUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7UGVuZGluZ1Byb2dyYW19IHByb2dyYW1cblx0ICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uXG5cdCAqIEByZXR1cm5zIHtQcm9ncmFtfVxuXHQgKi9cblx0ZnVuY3Rpb24gaW5pdChwcm9ncmFtLCBkdXJhdGlvbikge1xuXHRcdGNvbnN0IGQgPSAvKiogQHR5cGUge1Byb2dyYW1bJ2QnXX0gKi8gKHByb2dyYW0uYiAtIHQpO1xuXHRcdGR1cmF0aW9uICo9IE1hdGguYWJzKGQpO1xuXHRcdHJldHVybiB7XG5cdFx0XHRhOiB0LFxuXHRcdFx0YjogcHJvZ3JhbS5iLFxuXHRcdFx0ZCxcblx0XHRcdGR1cmF0aW9uLFxuXHRcdFx0c3RhcnQ6IHByb2dyYW0uc3RhcnQsXG5cdFx0XHRlbmQ6IHByb2dyYW0uc3RhcnQgKyBkdXJhdGlvbixcblx0XHRcdGdyb3VwOiBwcm9ncmFtLmdyb3VwXG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge0lOVFJPIHwgT1VUUk99IGJcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRmdW5jdGlvbiBnbyhiKSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGVsYXkgPSAwLFxuXHRcdFx0ZHVyYXRpb24gPSAzMDAsXG5cdFx0XHRlYXNpbmcgPSBsaW5lYXIsXG5cdFx0XHR0aWNrID0gbm9vcCxcblx0XHRcdGNzc1xuXHRcdH0gPSBjb25maWcgfHwgbnVsbF90cmFuc2l0aW9uO1xuXG5cdFx0LyoqXG5cdFx0ICogQHR5cGUge1BlbmRpbmdQcm9ncmFtfSAqL1xuXHRcdGNvbnN0IHByb2dyYW0gPSB7XG5cdFx0XHRzdGFydDogbm93KCkgKyBkZWxheSxcblx0XHRcdGJcblx0XHR9O1xuXG5cdFx0aWYgKCFiKSB7XG5cdFx0XHQvLyBAdHMtaWdub3JlIHRvZG86IGltcHJvdmUgdHlwaW5nc1xuXHRcdFx0cHJvZ3JhbS5ncm91cCA9IG91dHJvcztcblx0XHRcdG91dHJvcy5yICs9IDE7XG5cdFx0fVxuXG5cdFx0aWYgKCdpbmVydCcgaW4gbm9kZSkge1xuXHRcdFx0aWYgKGIpIHtcblx0XHRcdFx0aWYgKG9yaWdpbmFsX2luZXJ0X3ZhbHVlICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHQvLyBhYm9ydGVkL3JldmVyc2VkIG91dHJvIOKAlCByZXN0b3JlIHByZXZpb3VzIGluZXJ0IHZhbHVlXG5cdFx0XHRcdFx0bm9kZS5pbmVydCA9IG9yaWdpbmFsX2luZXJ0X3ZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvcmlnaW5hbF9pbmVydF92YWx1ZSA9IC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovIChub2RlKS5pbmVydDtcblx0XHRcdFx0bm9kZS5pbmVydCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKHJ1bm5pbmdfcHJvZ3JhbSB8fCBwZW5kaW5nX3Byb2dyYW0pIHtcblx0XHRcdHBlbmRpbmdfcHJvZ3JhbSA9IHByb2dyYW07XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGlmIHRoaXMgaXMgYW4gaW50cm8sIGFuZCB0aGVyZSdzIGEgZGVsYXksIHdlIG5lZWQgdG8gZG9cblx0XHRcdC8vIGFuIGluaXRpYWwgdGljayBhbmQvb3IgYXBwbHkgQ1NTIGFuaW1hdGlvbiBpbW1lZGlhdGVseVxuXHRcdFx0aWYgKGNzcykge1xuXHRcdFx0XHRjbGVhcl9hbmltYXRpb24oKTtcblx0XHRcdFx0YW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShub2RlLCB0LCBiLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZywgY3NzKTtcblx0XHRcdH1cblx0XHRcdGlmIChiKSB0aWNrKDAsIDEpO1xuXHRcdFx0cnVubmluZ19wcm9ncmFtID0gaW5pdChwcm9ncmFtLCBkdXJhdGlvbik7XG5cdFx0XHRhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IGRpc3BhdGNoKG5vZGUsIGIsICdzdGFydCcpKTtcblx0XHRcdGxvb3AoKG5vdykgPT4ge1xuXHRcdFx0XHRpZiAocGVuZGluZ19wcm9ncmFtICYmIG5vdyA+IHBlbmRpbmdfcHJvZ3JhbS5zdGFydCkge1xuXHRcdFx0XHRcdHJ1bm5pbmdfcHJvZ3JhbSA9IGluaXQocGVuZGluZ19wcm9ncmFtLCBkdXJhdGlvbik7XG5cdFx0XHRcdFx0cGVuZGluZ19wcm9ncmFtID0gbnVsbDtcblx0XHRcdFx0XHRkaXNwYXRjaChub2RlLCBydW5uaW5nX3Byb2dyYW0uYiwgJ3N0YXJ0Jyk7XG5cdFx0XHRcdFx0aWYgKGNzcykge1xuXHRcdFx0XHRcdFx0Y2xlYXJfYW5pbWF0aW9uKCk7XG5cdFx0XHRcdFx0XHRhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKFxuXHRcdFx0XHRcdFx0XHRub2RlLFxuXHRcdFx0XHRcdFx0XHR0LFxuXHRcdFx0XHRcdFx0XHRydW5uaW5nX3Byb2dyYW0uYixcblx0XHRcdFx0XHRcdFx0cnVubmluZ19wcm9ncmFtLmR1cmF0aW9uLFxuXHRcdFx0XHRcdFx0XHQwLFxuXHRcdFx0XHRcdFx0XHRlYXNpbmcsXG5cdFx0XHRcdFx0XHRcdGNvbmZpZy5jc3Ncblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChydW5uaW5nX3Byb2dyYW0pIHtcblx0XHRcdFx0XHRpZiAobm93ID49IHJ1bm5pbmdfcHJvZ3JhbS5lbmQpIHtcblx0XHRcdFx0XHRcdHRpY2soKHQgPSBydW5uaW5nX3Byb2dyYW0uYiksIDEgLSB0KTtcblx0XHRcdFx0XHRcdGRpc3BhdGNoKG5vZGUsIHJ1bm5pbmdfcHJvZ3JhbS5iLCAnZW5kJyk7XG5cdFx0XHRcdFx0XHRpZiAoIXBlbmRpbmdfcHJvZ3JhbSkge1xuXHRcdFx0XHRcdFx0XHQvLyB3ZSdyZSBkb25lXG5cdFx0XHRcdFx0XHRcdGlmIChydW5uaW5nX3Byb2dyYW0uYikge1xuXHRcdFx0XHRcdFx0XHRcdC8vIGludHJvIOKAlCB3ZSBjYW4gdGlkeSB1cCBpbW1lZGlhdGVseVxuXHRcdFx0XHRcdFx0XHRcdGNsZWFyX2FuaW1hdGlvbigpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdC8vIG91dHJvIOKAlCBuZWVkcyB0byBiZSBjb29yZGluYXRlZFxuXHRcdFx0XHRcdFx0XHRcdGlmICghLS1ydW5uaW5nX3Byb2dyYW0uZ3JvdXAucikgcnVuX2FsbChydW5uaW5nX3Byb2dyYW0uZ3JvdXAuYyk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJ1bm5pbmdfcHJvZ3JhbSA9IG51bGw7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChub3cgPj0gcnVubmluZ19wcm9ncmFtLnN0YXJ0KSB7XG5cdFx0XHRcdFx0XHRjb25zdCBwID0gbm93IC0gcnVubmluZ19wcm9ncmFtLnN0YXJ0O1xuXHRcdFx0XHRcdFx0dCA9IHJ1bm5pbmdfcHJvZ3JhbS5hICsgcnVubmluZ19wcm9ncmFtLmQgKiBlYXNpbmcocCAvIHJ1bm5pbmdfcHJvZ3JhbS5kdXJhdGlvbik7XG5cdFx0XHRcdFx0XHR0aWNrKHQsIDEgLSB0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuICEhKHJ1bm5pbmdfcHJvZ3JhbSB8fCBwZW5kaW5nX3Byb2dyYW0pO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiB7XG5cdFx0cnVuKGIpIHtcblx0XHRcdGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG5cdFx0XHRcdHdhaXQoKS50aGVuKCgpID0+IHtcblx0XHRcdFx0XHRjb25zdCBvcHRzID0geyBkaXJlY3Rpb246IGIgPyAnaW4nIDogJ291dCcgfTtcblx0XHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdFx0Y29uZmlnID0gY29uZmlnKG9wdHMpO1xuXHRcdFx0XHRcdGdvKGIpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGdvKGIpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0ZW5kKCkge1xuXHRcdFx0Y2xlYXJfYW5pbWF0aW9uKCk7XG5cdFx0XHRydW5uaW5nX3Byb2dyYW0gPSBwZW5kaW5nX3Byb2dyYW0gPSBudWxsO1xuXHRcdH1cblx0fTtcbn1cblxuLyoqIEB0eXBlZGVmIHsxfSBJTlRSTyAqL1xuLyoqIEB0eXBlZGVmIHswfSBPVVRSTyAqL1xuLyoqIEB0eXBlZGVmIHt7IGRpcmVjdGlvbjogJ2luJyB8ICdvdXQnIHwgJ2JvdGgnIH19IFRyYW5zaXRpb25PcHRpb25zICovXG4vKiogQHR5cGVkZWYgeyhub2RlOiBFbGVtZW50LCBwYXJhbXM6IGFueSwgb3B0aW9uczogVHJhbnNpdGlvbk9wdGlvbnMpID0+IGltcG9ydCgnLi4vdHJhbnNpdGlvbi9wdWJsaWMuanMnKS5UcmFuc2l0aW9uQ29uZmlnfSBUcmFuc2l0aW9uRm4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPdXRyb1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHJcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb25bXX0gY1xuICogQHByb3BlcnR5IHtPYmplY3R9IHBcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFBlbmRpbmdQcm9ncmFtXG4gKiBAcHJvcGVydHkge251bWJlcn0gc3RhcnRcbiAqIEBwcm9wZXJ0eSB7SU5UUk98T1VUUk99IGJcbiAqIEBwcm9wZXJ0eSB7T3V0cm99IFtncm91cF1cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFByb2dyYW1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhXG4gKiBAcHJvcGVydHkge0lOVFJPfE9VVFJPfSBiXG4gKiBAcHJvcGVydHkgezF8LTF9IGRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkdXJhdGlvblxuICogQHByb3BlcnR5IHtudW1iZXJ9IHN0YXJ0XG4gKiBAcHJvcGVydHkge251bWJlcn0gZW5kXG4gKiBAcHJvcGVydHkge091dHJvfSBbZ3JvdXBdXG4gKi9cbiIsImltcG9ydCB7IHRyYW5zaXRpb25faW4sIHRyYW5zaXRpb25fb3V0IH0gZnJvbSAnLi90cmFuc2l0aW9ucy5qcyc7XG5pbXBvcnQgeyBydW5fYWxsIH0gZnJvbSAnLi91dGlscy5qcyc7XG5cbi8vIGdlbmVyYWwgZWFjaCBmdW5jdGlvbnM6XG5cbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVfYXJyYXlfbGlrZShhcnJheV9saWtlX29yX2l0ZXJhdG9yKSB7XG5cdHJldHVybiBhcnJheV9saWtlX29yX2l0ZXJhdG9yPy5sZW5ndGggIT09IHVuZGVmaW5lZFxuXHRcdD8gYXJyYXlfbGlrZV9vcl9pdGVyYXRvclxuXHRcdDogQXJyYXkuZnJvbShhcnJheV9saWtlX29yX2l0ZXJhdG9yKTtcbn1cblxuLy8ga2V5ZWQgZWFjaCBmdW5jdGlvbnM6XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcblx0YmxvY2suZCgxKTtcblx0bG9va3VwLmRlbGV0ZShibG9jay5rZXkpO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuXHR0cmFuc2l0aW9uX291dChibG9jaywgMSwgMSwgKCkgPT4ge1xuXHRcdGxvb2t1cC5kZWxldGUoYmxvY2sua2V5KTtcblx0fSk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaXhfYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuXHRibG9jay5mKCk7XG5cdGRlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaXhfYW5kX291dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcblx0YmxvY2suZigpO1xuXHRvdXRyb19hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKTtcbn1cblxuLyoqIEByZXR1cm5zIHthbnlbXX0gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVfa2V5ZWRfZWFjaChcblx0b2xkX2Jsb2Nrcyxcblx0ZGlydHksXG5cdGdldF9rZXksXG5cdGR5bmFtaWMsXG5cdGN0eCxcblx0bGlzdCxcblx0bG9va3VwLFxuXHRub2RlLFxuXHRkZXN0cm95LFxuXHRjcmVhdGVfZWFjaF9ibG9jayxcblx0bmV4dCxcblx0Z2V0X2NvbnRleHRcbikge1xuXHRsZXQgbyA9IG9sZF9ibG9ja3MubGVuZ3RoO1xuXHRsZXQgbiA9IGxpc3QubGVuZ3RoO1xuXHRsZXQgaSA9IG87XG5cdGNvbnN0IG9sZF9pbmRleGVzID0ge307XG5cdHdoaWxlIChpLS0pIG9sZF9pbmRleGVzW29sZF9ibG9ja3NbaV0ua2V5XSA9IGk7XG5cdGNvbnN0IG5ld19ibG9ja3MgPSBbXTtcblx0Y29uc3QgbmV3X2xvb2t1cCA9IG5ldyBNYXAoKTtcblx0Y29uc3QgZGVsdGFzID0gbmV3IE1hcCgpO1xuXHRjb25zdCB1cGRhdGVzID0gW107XG5cdGkgPSBuO1xuXHR3aGlsZSAoaS0tKSB7XG5cdFx0Y29uc3QgY2hpbGRfY3R4ID0gZ2V0X2NvbnRleHQoY3R4LCBsaXN0LCBpKTtcblx0XHRjb25zdCBrZXkgPSBnZXRfa2V5KGNoaWxkX2N0eCk7XG5cdFx0bGV0IGJsb2NrID0gbG9va3VwLmdldChrZXkpO1xuXHRcdGlmICghYmxvY2spIHtcblx0XHRcdGJsb2NrID0gY3JlYXRlX2VhY2hfYmxvY2soa2V5LCBjaGlsZF9jdHgpO1xuXHRcdFx0YmxvY2suYygpO1xuXHRcdH0gZWxzZSBpZiAoZHluYW1pYykge1xuXHRcdFx0Ly8gZGVmZXIgdXBkYXRlcyB1bnRpbCBhbGwgdGhlIERPTSBzaHVmZmxpbmcgaXMgZG9uZVxuXHRcdFx0dXBkYXRlcy5wdXNoKCgpID0+IGJsb2NrLnAoY2hpbGRfY3R4LCBkaXJ0eSkpO1xuXHRcdH1cblx0XHRuZXdfbG9va3VwLnNldChrZXksIChuZXdfYmxvY2tzW2ldID0gYmxvY2spKTtcblx0XHRpZiAoa2V5IGluIG9sZF9pbmRleGVzKSBkZWx0YXMuc2V0KGtleSwgTWF0aC5hYnMoaSAtIG9sZF9pbmRleGVzW2tleV0pKTtcblx0fVxuXHRjb25zdCB3aWxsX21vdmUgPSBuZXcgU2V0KCk7XG5cdGNvbnN0IGRpZF9tb3ZlID0gbmV3IFNldCgpO1xuXHQvKiogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIGluc2VydChibG9jaykge1xuXHRcdHRyYW5zaXRpb25faW4oYmxvY2ssIDEpO1xuXHRcdGJsb2NrLm0obm9kZSwgbmV4dCk7XG5cdFx0bG9va3VwLnNldChibG9jay5rZXksIGJsb2NrKTtcblx0XHRuZXh0ID0gYmxvY2suZmlyc3Q7XG5cdFx0bi0tO1xuXHR9XG5cdHdoaWxlIChvICYmIG4pIHtcblx0XHRjb25zdCBuZXdfYmxvY2sgPSBuZXdfYmxvY2tzW24gLSAxXTtcblx0XHRjb25zdCBvbGRfYmxvY2sgPSBvbGRfYmxvY2tzW28gLSAxXTtcblx0XHRjb25zdCBuZXdfa2V5ID0gbmV3X2Jsb2NrLmtleTtcblx0XHRjb25zdCBvbGRfa2V5ID0gb2xkX2Jsb2NrLmtleTtcblx0XHRpZiAobmV3X2Jsb2NrID09PSBvbGRfYmxvY2spIHtcblx0XHRcdC8vIGRvIG5vdGhpbmdcblx0XHRcdG5leHQgPSBuZXdfYmxvY2suZmlyc3Q7XG5cdFx0XHRvLS07XG5cdFx0XHRuLS07XG5cdFx0fSBlbHNlIGlmICghbmV3X2xvb2t1cC5oYXMob2xkX2tleSkpIHtcblx0XHRcdC8vIHJlbW92ZSBvbGQgYmxvY2tcblx0XHRcdGRlc3Ryb3kob2xkX2Jsb2NrLCBsb29rdXApO1xuXHRcdFx0by0tO1xuXHRcdH0gZWxzZSBpZiAoIWxvb2t1cC5oYXMobmV3X2tleSkgfHwgd2lsbF9tb3ZlLmhhcyhuZXdfa2V5KSkge1xuXHRcdFx0aW5zZXJ0KG5ld19ibG9jayk7XG5cdFx0fSBlbHNlIGlmIChkaWRfbW92ZS5oYXMob2xkX2tleSkpIHtcblx0XHRcdG8tLTtcblx0XHR9IGVsc2UgaWYgKGRlbHRhcy5nZXQobmV3X2tleSkgPiBkZWx0YXMuZ2V0KG9sZF9rZXkpKSB7XG5cdFx0XHRkaWRfbW92ZS5hZGQobmV3X2tleSk7XG5cdFx0XHRpbnNlcnQobmV3X2Jsb2NrKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0d2lsbF9tb3ZlLmFkZChvbGRfa2V5KTtcblx0XHRcdG8tLTtcblx0XHR9XG5cdH1cblx0d2hpbGUgKG8tLSkge1xuXHRcdGNvbnN0IG9sZF9ibG9jayA9IG9sZF9ibG9ja3Nbb107XG5cdFx0aWYgKCFuZXdfbG9va3VwLmhhcyhvbGRfYmxvY2sua2V5KSkgZGVzdHJveShvbGRfYmxvY2ssIGxvb2t1cCk7XG5cdH1cblx0d2hpbGUgKG4pIGluc2VydChuZXdfYmxvY2tzW24gLSAxXSk7XG5cdHJ1bl9hbGwodXBkYXRlcyk7XG5cdHJldHVybiBuZXdfYmxvY2tzO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVfZWFjaF9rZXlzKGN0eCwgbGlzdCwgZ2V0X2NvbnRleHQsIGdldF9rZXkpIHtcblx0Y29uc3Qga2V5cyA9IG5ldyBNYXAoKTtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0Y29uc3Qga2V5ID0gZ2V0X2tleShnZXRfY29udGV4dChjdHgsIGxpc3QsIGkpKTtcblx0XHRpZiAoa2V5cy5oYXMoa2V5KSkge1xuXHRcdFx0bGV0IHZhbHVlID0gJyc7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHR2YWx1ZSA9IGB3aXRoIHZhbHVlICcke1N0cmluZyhrZXkpfScgYDtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0Ly8gY2FuJ3Qgc3RyaW5naWZ5XG5cdFx0XHR9XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdGBDYW5ub3QgaGF2ZSBkdXBsaWNhdGUga2V5cyBpbiBhIGtleWVkIGVhY2g6IEtleXMgYXQgaW5kZXggJHtrZXlzLmdldChcblx0XHRcdFx0XHRrZXlcblx0XHRcdFx0KX0gYW5kICR7aX0gJHt2YWx1ZX1hcmUgZHVwbGljYXRlc2Bcblx0XHRcdCk7XG5cdFx0fVxuXHRcdGtleXMuc2V0KGtleSwgaSk7XG5cdH1cbn1cbiIsImltcG9ydCB7XG5cdGFkZF9yZW5kZXJfY2FsbGJhY2ssXG5cdGZsdXNoLFxuXHRmbHVzaF9yZW5kZXJfY2FsbGJhY2tzLFxuXHRzY2hlZHVsZV91cGRhdGUsXG5cdGRpcnR5X2NvbXBvbmVudHNcbn0gZnJvbSAnLi9zY2hlZHVsZXIuanMnO1xuaW1wb3J0IHsgY3VycmVudF9jb21wb25lbnQsIHNldF9jdXJyZW50X2NvbXBvbmVudCB9IGZyb20gJy4vbGlmZWN5Y2xlLmpzJztcbmltcG9ydCB7IGJsYW5rX29iamVjdCwgaXNfZW1wdHksIGlzX2Z1bmN0aW9uLCBydW4sIHJ1bl9hbGwsIG5vb3AgfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7XG5cdGNoaWxkcmVuLFxuXHRkZXRhY2gsXG5cdHN0YXJ0X2h5ZHJhdGluZyxcblx0ZW5kX2h5ZHJhdGluZyxcblx0Z2V0X2N1c3RvbV9lbGVtZW50c19zbG90cyxcblx0aW5zZXJ0LFxuXHRlbGVtZW50LFxuXHRhdHRyXG59IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7IHRyYW5zaXRpb25faW4gfSBmcm9tICcuL3RyYW5zaXRpb25zLmpzJztcblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmQoY29tcG9uZW50LCBuYW1lLCBjYWxsYmFjaykge1xuXHRjb25zdCBpbmRleCA9IGNvbXBvbmVudC4kJC5wcm9wc1tuYW1lXTtcblx0aWYgKGluZGV4ICE9PSB1bmRlZmluZWQpIHtcblx0XHRjb21wb25lbnQuJCQuYm91bmRbaW5kZXhdID0gY2FsbGJhY2s7XG5cdFx0Y2FsbGJhY2soY29tcG9uZW50LiQkLmN0eFtpbmRleF0pO1xuXHR9XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfY29tcG9uZW50KGJsb2NrKSB7XG5cdGJsb2NrICYmIGJsb2NrLmMoKTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX2NvbXBvbmVudChibG9jaywgcGFyZW50X25vZGVzKSB7XG5cdGJsb2NrICYmIGJsb2NrLmwocGFyZW50X25vZGVzKTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vdW50X2NvbXBvbmVudChjb21wb25lbnQsIHRhcmdldCwgYW5jaG9yKSB7XG5cdGNvbnN0IHsgZnJhZ21lbnQsIGFmdGVyX3VwZGF0ZSB9ID0gY29tcG9uZW50LiQkO1xuXHRmcmFnbWVudCAmJiBmcmFnbWVudC5tKHRhcmdldCwgYW5jaG9yKTtcblx0Ly8gb25Nb3VudCBoYXBwZW5zIGJlZm9yZSB0aGUgaW5pdGlhbCBhZnRlclVwZGF0ZVxuXHRhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IHtcblx0XHRjb25zdCBuZXdfb25fZGVzdHJveSA9IGNvbXBvbmVudC4kJC5vbl9tb3VudC5tYXAocnVuKS5maWx0ZXIoaXNfZnVuY3Rpb24pO1xuXHRcdC8vIGlmIHRoZSBjb21wb25lbnQgd2FzIGRlc3Ryb3llZCBpbW1lZGlhdGVseVxuXHRcdC8vIGl0IHdpbGwgdXBkYXRlIHRoZSBgJCQub25fZGVzdHJveWAgcmVmZXJlbmNlIHRvIGBudWxsYC5cblx0XHQvLyB0aGUgZGVzdHJ1Y3R1cmVkIG9uX2Rlc3Ryb3kgbWF5IHN0aWxsIHJlZmVyZW5jZSB0byB0aGUgb2xkIGFycmF5XG5cdFx0aWYgKGNvbXBvbmVudC4kJC5vbl9kZXN0cm95KSB7XG5cdFx0XHRjb21wb25lbnQuJCQub25fZGVzdHJveS5wdXNoKC4uLm5ld19vbl9kZXN0cm95KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gRWRnZSBjYXNlIC0gY29tcG9uZW50IHdhcyBkZXN0cm95ZWQgaW1tZWRpYXRlbHksXG5cdFx0XHQvLyBtb3N0IGxpa2VseSBhcyBhIHJlc3VsdCBvZiBhIGJpbmRpbmcgaW5pdGlhbGlzaW5nXG5cdFx0XHRydW5fYWxsKG5ld19vbl9kZXN0cm95KTtcblx0XHR9XG5cdFx0Y29tcG9uZW50LiQkLm9uX21vdW50ID0gW107XG5cdH0pO1xuXHRhZnRlcl91cGRhdGUuZm9yRWFjaChhZGRfcmVuZGVyX2NhbGxiYWNrKTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lfY29tcG9uZW50KGNvbXBvbmVudCwgZGV0YWNoaW5nKSB7XG5cdGNvbnN0ICQkID0gY29tcG9uZW50LiQkO1xuXHRpZiAoJCQuZnJhZ21lbnQgIT09IG51bGwpIHtcblx0XHRmbHVzaF9yZW5kZXJfY2FsbGJhY2tzKCQkLmFmdGVyX3VwZGF0ZSk7XG5cdFx0cnVuX2FsbCgkJC5vbl9kZXN0cm95KTtcblx0XHQkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5kKGRldGFjaGluZyk7XG5cdFx0Ly8gVE9ETyBudWxsIG91dCBvdGhlciByZWZzLCBpbmNsdWRpbmcgY29tcG9uZW50LiQkIChidXQgbmVlZCB0b1xuXHRcdC8vIHByZXNlcnZlIGZpbmFsIHN0YXRlPylcblx0XHQkJC5vbl9kZXN0cm95ID0gJCQuZnJhZ21lbnQgPSBudWxsO1xuXHRcdCQkLmN0eCA9IFtdO1xuXHR9XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmZ1bmN0aW9uIG1ha2VfZGlydHkoY29tcG9uZW50LCBpKSB7XG5cdGlmIChjb21wb25lbnQuJCQuZGlydHlbMF0gPT09IC0xKSB7XG5cdFx0ZGlydHlfY29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XG5cdFx0c2NoZWR1bGVfdXBkYXRlKCk7XG5cdFx0Y29tcG9uZW50LiQkLmRpcnR5LmZpbGwoMCk7XG5cdH1cblx0Y29tcG9uZW50LiQkLmRpcnR5WyhpIC8gMzEpIHwgMF0gfD0gMSA8PCBpICUgMzE7XG59XG5cbi8vIFRPRE86IERvY3VtZW50IHRoZSBvdGhlciBwYXJhbXNcbi8qKlxuICogQHBhcmFtIHtTdmVsdGVDb21wb25lbnR9IGNvbXBvbmVudFxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuQ29tcG9uZW50Q29uc3RydWN0b3JPcHRpb25zfSBvcHRpb25zXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vdXRpbHMuanMnKVsnbm90X2VxdWFsJ119IG5vdF9lcXVhbCBVc2VkIHRvIGNvbXBhcmUgcHJvcHMgYW5kIHN0YXRlIHZhbHVlcy5cbiAqIEBwYXJhbSB7KHRhcmdldDogRWxlbWVudCB8IFNoYWRvd1Jvb3QpID0+IHZvaWR9IFthcHBlbmRfc3R5bGVzXSBGdW5jdGlvbiB0aGF0IGFwcGVuZHMgc3R5bGVzIHRvIHRoZSBET00gd2hlbiB0aGUgY29tcG9uZW50IGlzIGZpcnN0IGluaXRpYWxpc2VkLlxuICogVGhpcyB3aWxsIGJlIHRoZSBgYWRkX2Nzc2AgZnVuY3Rpb24gZnJvbSB0aGUgY29tcGlsZWQgY29tcG9uZW50LlxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdChcblx0Y29tcG9uZW50LFxuXHRvcHRpb25zLFxuXHRpbnN0YW5jZSxcblx0Y3JlYXRlX2ZyYWdtZW50LFxuXHRub3RfZXF1YWwsXG5cdHByb3BzLFxuXHRhcHBlbmRfc3R5bGVzID0gbnVsbCxcblx0ZGlydHkgPSBbLTFdXG4pIHtcblx0Y29uc3QgcGFyZW50X2NvbXBvbmVudCA9IGN1cnJlbnRfY29tcG9uZW50O1xuXHRzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KTtcblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLlQkJH0gKi9cblx0Y29uc3QgJCQgPSAoY29tcG9uZW50LiQkID0ge1xuXHRcdGZyYWdtZW50OiBudWxsLFxuXHRcdGN0eDogW10sXG5cdFx0Ly8gc3RhdGVcblx0XHRwcm9wcyxcblx0XHR1cGRhdGU6IG5vb3AsXG5cdFx0bm90X2VxdWFsLFxuXHRcdGJvdW5kOiBibGFua19vYmplY3QoKSxcblx0XHQvLyBsaWZlY3ljbGVcblx0XHRvbl9tb3VudDogW10sXG5cdFx0b25fZGVzdHJveTogW10sXG5cdFx0b25fZGlzY29ubmVjdDogW10sXG5cdFx0YmVmb3JlX3VwZGF0ZTogW10sXG5cdFx0YWZ0ZXJfdXBkYXRlOiBbXSxcblx0XHRjb250ZXh0OiBuZXcgTWFwKG9wdGlvbnMuY29udGV4dCB8fCAocGFyZW50X2NvbXBvbmVudCA/IHBhcmVudF9jb21wb25lbnQuJCQuY29udGV4dCA6IFtdKSksXG5cdFx0Ly8gZXZlcnl0aGluZyBlbHNlXG5cdFx0Y2FsbGJhY2tzOiBibGFua19vYmplY3QoKSxcblx0XHRkaXJ0eSxcblx0XHRza2lwX2JvdW5kOiBmYWxzZSxcblx0XHRyb290OiBvcHRpb25zLnRhcmdldCB8fCBwYXJlbnRfY29tcG9uZW50LiQkLnJvb3Rcblx0fSk7XG5cdGFwcGVuZF9zdHlsZXMgJiYgYXBwZW5kX3N0eWxlcygkJC5yb290KTtcblx0bGV0IHJlYWR5ID0gZmFsc2U7XG5cdCQkLmN0eCA9IGluc3RhbmNlXG5cdFx0PyBpbnN0YW5jZShjb21wb25lbnQsIG9wdGlvbnMucHJvcHMgfHwge30sIChpLCByZXQsIC4uLnJlc3QpID0+IHtcblx0XHRcdFx0Y29uc3QgdmFsdWUgPSByZXN0Lmxlbmd0aCA/IHJlc3RbMF0gOiByZXQ7XG5cdFx0XHRcdGlmICgkJC5jdHggJiYgbm90X2VxdWFsKCQkLmN0eFtpXSwgKCQkLmN0eFtpXSA9IHZhbHVlKSkpIHtcblx0XHRcdFx0XHRpZiAoISQkLnNraXBfYm91bmQgJiYgJCQuYm91bmRbaV0pICQkLmJvdW5kW2ldKHZhbHVlKTtcblx0XHRcdFx0XHRpZiAocmVhZHkpIG1ha2VfZGlydHkoY29tcG9uZW50LCBpKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdCAgfSlcblx0XHQ6IFtdO1xuXHQkJC51cGRhdGUoKTtcblx0cmVhZHkgPSB0cnVlO1xuXHRydW5fYWxsKCQkLmJlZm9yZV91cGRhdGUpO1xuXHQvLyBgZmFsc2VgIGFzIGEgc3BlY2lhbCBjYXNlIG9mIG5vIERPTSBjb21wb25lbnRcblx0JCQuZnJhZ21lbnQgPSBjcmVhdGVfZnJhZ21lbnQgPyBjcmVhdGVfZnJhZ21lbnQoJCQuY3R4KSA6IGZhbHNlO1xuXHRpZiAob3B0aW9ucy50YXJnZXQpIHtcblx0XHRpZiAob3B0aW9ucy5oeWRyYXRlKSB7XG5cdFx0XHRzdGFydF9oeWRyYXRpbmcoKTtcblx0XHRcdC8vIFRPRE86IHdoYXQgaXMgdGhlIGNvcnJlY3QgdHlwZSBoZXJlP1xuXHRcdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdFx0Y29uc3Qgbm9kZXMgPSBjaGlsZHJlbihvcHRpb25zLnRhcmdldCk7XG5cdFx0XHQkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5sKG5vZGVzKTtcblx0XHRcdG5vZGVzLmZvckVhY2goZGV0YWNoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cblx0XHRcdCQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50LmMoKTtcblx0XHR9XG5cdFx0aWYgKG9wdGlvbnMuaW50cm8pIHRyYW5zaXRpb25faW4oY29tcG9uZW50LiQkLmZyYWdtZW50KTtcblx0XHRtb3VudF9jb21wb25lbnQoY29tcG9uZW50LCBvcHRpb25zLnRhcmdldCwgb3B0aW9ucy5hbmNob3IpO1xuXHRcdGVuZF9oeWRyYXRpbmcoKTtcblx0XHRmbHVzaCgpO1xuXHR9XG5cdHNldF9jdXJyZW50X2NvbXBvbmVudChwYXJlbnRfY29tcG9uZW50KTtcbn1cblxuZXhwb3J0IGxldCBTdmVsdGVFbGVtZW50O1xuXG5pZiAodHlwZW9mIEhUTUxFbGVtZW50ID09PSAnZnVuY3Rpb24nKSB7XG5cdFN2ZWx0ZUVsZW1lbnQgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcblx0XHQvKiogVGhlIFN2ZWx0ZSBjb21wb25lbnQgY29uc3RydWN0b3IgKi9cblx0XHQkJGN0b3I7XG5cdFx0LyoqIFNsb3RzICovXG5cdFx0JCRzO1xuXHRcdC8qKiBUaGUgU3ZlbHRlIGNvbXBvbmVudCBpbnN0YW5jZSAqL1xuXHRcdCQkYztcblx0XHQvKiogV2hldGhlciBvciBub3QgdGhlIGN1c3RvbSBlbGVtZW50IGlzIGNvbm5lY3RlZCAqL1xuXHRcdCQkY24gPSBmYWxzZTtcblx0XHQvKiogQ29tcG9uZW50IHByb3BzIGRhdGEgKi9cblx0XHQkJGQgPSB7fTtcblx0XHQvKiogYHRydWVgIGlmIGN1cnJlbnRseSBpbiB0aGUgcHJvY2VzcyBvZiByZWZsZWN0aW5nIGNvbXBvbmVudCBwcm9wcyBiYWNrIHRvIGF0dHJpYnV0ZXMgKi9cblx0XHQkJHIgPSBmYWxzZTtcblx0XHQvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIEN1c3RvbUVsZW1lbnRQcm9wRGVmaW5pdGlvbj59IFByb3BzIGRlZmluaXRpb24gKG5hbWUsIHJlZmxlY3RlZCwgdHlwZSBldGMpICovXG5cdFx0JCRwX2QgPSB7fTtcblx0XHQvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIEZ1bmN0aW9uW10+fSBFdmVudCBsaXN0ZW5lcnMgKi9cblx0XHQkJGwgPSB7fTtcblx0XHQvKiogQHR5cGUge01hcDxGdW5jdGlvbiwgRnVuY3Rpb24+fSBFdmVudCBsaXN0ZW5lciB1bnN1YnNjcmliZSBmdW5jdGlvbnMgKi9cblx0XHQkJGxfdSA9IG5ldyBNYXAoKTtcblxuXHRcdGNvbnN0cnVjdG9yKCQkY29tcG9uZW50Q3RvciwgJCRzbG90cywgdXNlX3NoYWRvd19kb20pIHtcblx0XHRcdHN1cGVyKCk7XG5cdFx0XHR0aGlzLiQkY3RvciA9ICQkY29tcG9uZW50Q3Rvcjtcblx0XHRcdHRoaXMuJCRzID0gJCRzbG90cztcblx0XHRcdGlmICh1c2Vfc2hhZG93X2RvbSkge1xuXHRcdFx0XHR0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRhZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG5cdFx0XHQvLyBXZSBjYW4ndCBkZXRlcm1pbmUgdXBmcm9udCBpZiB0aGUgZXZlbnQgaXMgYSBjdXN0b20gZXZlbnQgb3Igbm90LCBzbyB3ZSBoYXZlIHRvXG5cdFx0XHQvLyBsaXN0ZW4gdG8gYm90aC4gSWYgc29tZW9uZSB1c2VzIGEgY3VzdG9tIGV2ZW50IHdpdGggdGhlIHNhbWUgbmFtZSBhcyBhIHJlZ3VsYXJcblx0XHRcdC8vIGJyb3dzZXIgZXZlbnQsIHRoaXMgZmlyZXMgdHdpY2UgLSB3ZSBjYW4ndCBhdm9pZCB0aGF0LlxuXHRcdFx0dGhpcy4kJGxbdHlwZV0gPSB0aGlzLiQkbFt0eXBlXSB8fCBbXTtcblx0XHRcdHRoaXMuJCRsW3R5cGVdLnB1c2gobGlzdGVuZXIpO1xuXHRcdFx0aWYgKHRoaXMuJCRjKSB7XG5cdFx0XHRcdGNvbnN0IHVuc3ViID0gdGhpcy4kJGMuJG9uKHR5cGUsIGxpc3RlbmVyKTtcblx0XHRcdFx0dGhpcy4kJGxfdS5zZXQobGlzdGVuZXIsIHVuc3ViKTtcblx0XHRcdH1cblx0XHRcdHN1cGVyLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdHJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcblx0XHRcdHN1cGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuXHRcdFx0aWYgKHRoaXMuJCRjKSB7XG5cdFx0XHRcdGNvbnN0IHVuc3ViID0gdGhpcy4kJGxfdS5nZXQobGlzdGVuZXIpO1xuXHRcdFx0XHRpZiAodW5zdWIpIHtcblx0XHRcdFx0XHR1bnN1YigpO1xuXHRcdFx0XHRcdHRoaXMuJCRsX3UuZGVsZXRlKGxpc3RlbmVyKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGFzeW5jIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuXHRcdFx0dGhpcy4kJGNuID0gdHJ1ZTtcblx0XHRcdGlmICghdGhpcy4kJGMpIHtcblx0XHRcdFx0Ly8gV2Ugd2FpdCBvbmUgdGljayB0byBsZXQgcG9zc2libGUgY2hpbGQgc2xvdCBlbGVtZW50cyBiZSBjcmVhdGVkL21vdW50ZWRcblx0XHRcdFx0YXdhaXQgUHJvbWlzZS5yZXNvbHZlKCk7XG5cdFx0XHRcdGlmICghdGhpcy4kJGNuKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGZ1bmN0aW9uIGNyZWF0ZV9zbG90KG5hbWUpIHtcblx0XHRcdFx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0XHRcdFx0bGV0IG5vZGU7XG5cdFx0XHRcdFx0XHRjb25zdCBvYmogPSB7XG5cdFx0XHRcdFx0XHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdFx0XHRcdFx0XHRub2RlID0gZWxlbWVudCgnc2xvdCcpO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChuYW1lICE9PSAnZGVmYXVsdCcpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGF0dHIobm9kZSwgJ25hbWUnLCBuYW1lKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdC8qKlxuXHRcdFx0XHRcdFx0XHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXRcblx0XHRcdFx0XHRcdFx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gW2FuY2hvcl1cblx0XHRcdFx0XHRcdFx0ICovXG5cdFx0XHRcdFx0XHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0aW5zZXJ0KHRhcmdldCwgbm9kZSwgYW5jaG9yKTtcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRkZXRhY2gobm9kZSk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0cmV0dXJuIG9iajtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnN0ICQkc2xvdHMgPSB7fTtcblx0XHRcdFx0Y29uc3QgZXhpc3Rpbmdfc2xvdHMgPSBnZXRfY3VzdG9tX2VsZW1lbnRzX3Nsb3RzKHRoaXMpO1xuXHRcdFx0XHRmb3IgKGNvbnN0IG5hbWUgb2YgdGhpcy4kJHMpIHtcblx0XHRcdFx0XHRpZiAobmFtZSBpbiBleGlzdGluZ19zbG90cykge1xuXHRcdFx0XHRcdFx0JCRzbG90c1tuYW1lXSA9IFtjcmVhdGVfc2xvdChuYW1lKV07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHRoaXMuYXR0cmlidXRlcykge1xuXHRcdFx0XHRcdC8vIHRoaXMuJCRkYXRhIHRha2VzIHByZWNlZGVuY2Ugb3ZlciB0aGlzLmF0dHJpYnV0ZXNcblx0XHRcdFx0XHRjb25zdCBuYW1lID0gdGhpcy4kJGdfcChhdHRyaWJ1dGUubmFtZSk7XG5cdFx0XHRcdFx0aWYgKCEobmFtZSBpbiB0aGlzLiQkZCkpIHtcblx0XHRcdFx0XHRcdHRoaXMuJCRkW25hbWVdID0gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKG5hbWUsIGF0dHJpYnV0ZS52YWx1ZSwgdGhpcy4kJHBfZCwgJ3RvUHJvcCcpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLiQkYyA9IG5ldyB0aGlzLiQkY3Rvcih7XG5cdFx0XHRcdFx0dGFyZ2V0OiB0aGlzLnNoYWRvd1Jvb3QgfHwgdGhpcyxcblx0XHRcdFx0XHRwcm9wczoge1xuXHRcdFx0XHRcdFx0Li4udGhpcy4kJGQsXG5cdFx0XHRcdFx0XHQkJHNsb3RzLFxuXHRcdFx0XHRcdFx0JCRzY29wZToge1xuXHRcdFx0XHRcdFx0XHRjdHg6IFtdXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvLyBSZWZsZWN0IGNvbXBvbmVudCBwcm9wcyBhcyBhdHRyaWJ1dGVzXG5cdFx0XHRcdGNvbnN0IHJlZmxlY3RfYXR0cmlidXRlcyA9ICgpID0+IHtcblx0XHRcdFx0XHR0aGlzLiQkciA9IHRydWU7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBrZXkgaW4gdGhpcy4kJHBfZCkge1xuXHRcdFx0XHRcdFx0dGhpcy4kJGRba2V5XSA9IHRoaXMuJCRjLiQkLmN0eFt0aGlzLiQkYy4kJC5wcm9wc1trZXldXTtcblx0XHRcdFx0XHRcdGlmICh0aGlzLiQkcF9kW2tleV0ucmVmbGVjdCkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBhdHRyaWJ1dGVfdmFsdWUgPSBnZXRfY3VzdG9tX2VsZW1lbnRfdmFsdWUoXG5cdFx0XHRcdFx0XHRcdFx0a2V5LFxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuJCRkW2tleV0sXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy4kJHBfZCxcblx0XHRcdFx0XHRcdFx0XHQndG9BdHRyaWJ1dGUnXG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdGlmIChhdHRyaWJ1dGVfdmFsdWUgPT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMucmVtb3ZlQXR0cmlidXRlKHRoaXMuJCRwX2Rba2V5XS5hdHRyaWJ1dGUgfHwga2V5KTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnNldEF0dHJpYnV0ZSh0aGlzLiQkcF9kW2tleV0uYXR0cmlidXRlIHx8IGtleSwgYXR0cmlidXRlX3ZhbHVlKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR0aGlzLiQkciA9IGZhbHNlO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHR0aGlzLiQkYy4kJC5hZnRlcl91cGRhdGUucHVzaChyZWZsZWN0X2F0dHJpYnV0ZXMpO1xuXHRcdFx0XHRyZWZsZWN0X2F0dHJpYnV0ZXMoKTsgLy8gb25jZSBpbml0aWFsbHkgYmVjYXVzZSBhZnRlcl91cGRhdGUgaXMgYWRkZWQgdG9vIGxhdGUgZm9yIGZpcnN0IHJlbmRlclxuXG5cdFx0XHRcdGZvciAoY29uc3QgdHlwZSBpbiB0aGlzLiQkbCkge1xuXHRcdFx0XHRcdGZvciAoY29uc3QgbGlzdGVuZXIgb2YgdGhpcy4kJGxbdHlwZV0pIHtcblx0XHRcdFx0XHRcdGNvbnN0IHVuc3ViID0gdGhpcy4kJGMuJG9uKHR5cGUsIGxpc3RlbmVyKTtcblx0XHRcdFx0XHRcdHRoaXMuJCRsX3Uuc2V0KGxpc3RlbmVyLCB1bnN1Yik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuJCRsID0ge307XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gV2UgZG9uJ3QgbmVlZCB0aGlzIHdoZW4gd29ya2luZyB3aXRoaW4gU3ZlbHRlIGNvZGUsIGJ1dCBmb3IgY29tcGF0aWJpbGl0eSBvZiBwZW9wbGUgdXNpbmcgdGhpcyBvdXRzaWRlIG9mIFN2ZWx0ZVxuXHRcdC8vIGFuZCBzZXR0aW5nIGF0dHJpYnV0ZXMgdGhyb3VnaCBzZXRBdHRyaWJ1dGUgZXRjLCB0aGlzIGlzIGhlbHBmdWxcblx0XHRhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soYXR0ciwgX29sZFZhbHVlLCBuZXdWYWx1ZSkge1xuXHRcdFx0aWYgKHRoaXMuJCRyKSByZXR1cm47XG5cdFx0XHRhdHRyID0gdGhpcy4kJGdfcChhdHRyKTtcblx0XHRcdHRoaXMuJCRkW2F0dHJdID0gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKGF0dHIsIG5ld1ZhbHVlLCB0aGlzLiQkcF9kLCAndG9Qcm9wJyk7XG5cdFx0XHR0aGlzLiQkYz8uJHNldCh7IFthdHRyXTogdGhpcy4kJGRbYXR0cl0gfSk7XG5cdFx0fVxuXG5cdFx0ZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG5cdFx0XHR0aGlzLiQkY24gPSBmYWxzZTtcblx0XHRcdC8vIEluIGEgbWljcm90YXNrLCBiZWNhdXNlIHRoaXMgY291bGQgYmUgYSBtb3ZlIHdpdGhpbiB0aGUgRE9NXG5cdFx0XHRQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcblx0XHRcdFx0aWYgKCF0aGlzLiQkY24pIHtcblx0XHRcdFx0XHR0aGlzLiQkYy4kZGVzdHJveSgpO1xuXHRcdFx0XHRcdHRoaXMuJCRjID0gdW5kZWZpbmVkO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQkJGdfcChhdHRyaWJ1dGVfbmFtZSkge1xuXHRcdFx0cmV0dXJuIChcblx0XHRcdFx0T2JqZWN0LmtleXModGhpcy4kJHBfZCkuZmluZChcblx0XHRcdFx0XHQoa2V5KSA9PlxuXHRcdFx0XHRcdFx0dGhpcy4kJHBfZFtrZXldLmF0dHJpYnV0ZSA9PT0gYXR0cmlidXRlX25hbWUgfHxcblx0XHRcdFx0XHRcdCghdGhpcy4kJHBfZFtrZXldLmF0dHJpYnV0ZSAmJiBrZXkudG9Mb3dlckNhc2UoKSA9PT0gYXR0cmlidXRlX25hbWUpXG5cdFx0XHRcdCkgfHwgYXR0cmlidXRlX25hbWVcblx0XHRcdCk7XG5cdFx0fVxuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wXG4gKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgQ3VzdG9tRWxlbWVudFByb3BEZWZpbml0aW9uPn0gcHJvcHNfZGVmaW5pdGlvblxuICogQHBhcmFtIHsndG9BdHRyaWJ1dGUnIHwgJ3RvUHJvcCd9IFt0cmFuc2Zvcm1dXG4gKi9cbmZ1bmN0aW9uIGdldF9jdXN0b21fZWxlbWVudF92YWx1ZShwcm9wLCB2YWx1ZSwgcHJvcHNfZGVmaW5pdGlvbiwgdHJhbnNmb3JtKSB7XG5cdGNvbnN0IHR5cGUgPSBwcm9wc19kZWZpbml0aW9uW3Byb3BdPy50eXBlO1xuXHR2YWx1ZSA9IHR5cGUgPT09ICdCb29sZWFuJyAmJiB0eXBlb2YgdmFsdWUgIT09ICdib29sZWFuJyA/IHZhbHVlICE9IG51bGwgOiB2YWx1ZTtcblx0aWYgKCF0cmFuc2Zvcm0gfHwgIXByb3BzX2RlZmluaXRpb25bcHJvcF0pIHtcblx0XHRyZXR1cm4gdmFsdWU7XG5cdH0gZWxzZSBpZiAodHJhbnNmb3JtID09PSAndG9BdHRyaWJ1dGUnKSB7XG5cdFx0c3dpdGNoICh0eXBlKSB7XG5cdFx0XHRjYXNlICdPYmplY3QnOlxuXHRcdFx0Y2FzZSAnQXJyYXknOlxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/IG51bGwgOiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG5cdFx0XHRjYXNlICdCb29sZWFuJzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlID8gJycgOiBudWxsO1xuXHRcdFx0Y2FzZSAnTnVtYmVyJzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlID09IG51bGwgPyBudWxsIDogdmFsdWU7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdHN3aXRjaCAodHlwZSkge1xuXHRcdFx0Y2FzZSAnT2JqZWN0Jzpcblx0XHRcdGNhc2UgJ0FycmF5Jzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlICYmIEpTT04ucGFyc2UodmFsdWUpO1xuXHRcdFx0Y2FzZSAnQm9vbGVhbic6XG5cdFx0XHRcdHJldHVybiB2YWx1ZTsgLy8gY29udmVyc2lvbiBhbHJlYWR5IGhhbmRsZWQgYWJvdmVcblx0XHRcdGNhc2UgJ051bWJlcic6XG5cdFx0XHRcdHJldHVybiB2YWx1ZSAhPSBudWxsID8gK3ZhbHVlIDogdmFsdWU7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKlxuICogVHVybiBhIFN2ZWx0ZSBjb21wb25lbnQgaW50byBhIGN1c3RvbSBlbGVtZW50LlxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuQ29tcG9uZW50VHlwZX0gQ29tcG9uZW50ICBBIFN2ZWx0ZSBjb21wb25lbnQgY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgQ3VzdG9tRWxlbWVudFByb3BEZWZpbml0aW9uPn0gcHJvcHNfZGVmaW5pdGlvbiAgVGhlIHByb3BzIHRvIG9ic2VydmVcbiAqIEBwYXJhbSB7c3RyaW5nW119IHNsb3RzICBUaGUgc2xvdHMgdG8gY3JlYXRlXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBhY2Nlc3NvcnMgIE90aGVyIGFjY2Vzc29ycyBiZXNpZGVzIHRoZSBvbmVzIGZvciBwcm9wcyB0aGUgY29tcG9uZW50IGhhc1xuICogQHBhcmFtIHtib29sZWFufSB1c2Vfc2hhZG93X2RvbSAgV2hldGhlciB0byB1c2Ugc2hhZG93IERPTVxuICogQHBhcmFtIHsoY2U6IG5ldyAoKSA9PiBIVE1MRWxlbWVudCkgPT4gbmV3ICgpID0+IEhUTUxFbGVtZW50fSBbZXh0ZW5kXVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2N1c3RvbV9lbGVtZW50KFxuXHRDb21wb25lbnQsXG5cdHByb3BzX2RlZmluaXRpb24sXG5cdHNsb3RzLFxuXHRhY2Nlc3NvcnMsXG5cdHVzZV9zaGFkb3dfZG9tLFxuXHRleHRlbmRcbikge1xuXHRsZXQgQ2xhc3MgPSBjbGFzcyBleHRlbmRzIFN2ZWx0ZUVsZW1lbnQge1xuXHRcdGNvbnN0cnVjdG9yKCkge1xuXHRcdFx0c3VwZXIoQ29tcG9uZW50LCBzbG90cywgdXNlX3NoYWRvd19kb20pO1xuXHRcdFx0dGhpcy4kJHBfZCA9IHByb3BzX2RlZmluaXRpb247XG5cdFx0fVxuXHRcdHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xuXHRcdFx0cmV0dXJuIE9iamVjdC5rZXlzKHByb3BzX2RlZmluaXRpb24pLm1hcCgoa2V5KSA9PlxuXHRcdFx0XHQocHJvcHNfZGVmaW5pdGlvbltrZXldLmF0dHJpYnV0ZSB8fCBrZXkpLnRvTG93ZXJDYXNlKClcblx0XHRcdCk7XG5cdFx0fVxuXHR9O1xuXHRPYmplY3Qua2V5cyhwcm9wc19kZWZpbml0aW9uKS5mb3JFYWNoKChwcm9wKSA9PiB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KENsYXNzLnByb3RvdHlwZSwgcHJvcCwge1xuXHRcdFx0Z2V0KCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy4kJGMgJiYgcHJvcCBpbiB0aGlzLiQkYyA/IHRoaXMuJCRjW3Byb3BdIDogdGhpcy4kJGRbcHJvcF07XG5cdFx0XHR9LFxuXHRcdFx0c2V0KHZhbHVlKSB7XG5cdFx0XHRcdHZhbHVlID0gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKHByb3AsIHZhbHVlLCBwcm9wc19kZWZpbml0aW9uKTtcblx0XHRcdFx0dGhpcy4kJGRbcHJvcF0gPSB2YWx1ZTtcblx0XHRcdFx0dGhpcy4kJGM/LiRzZXQoeyBbcHJvcF06IHZhbHVlIH0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcblx0YWNjZXNzb3JzLmZvckVhY2goKGFjY2Vzc29yKSA9PiB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KENsYXNzLnByb3RvdHlwZSwgYWNjZXNzb3IsIHtcblx0XHRcdGdldCgpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuJCRjPy5bYWNjZXNzb3JdO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcblx0aWYgKGV4dGVuZCkge1xuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3IgLSBhc3NpZ25pbmcgaGVyZSBpcyBmaW5lXG5cdFx0Q2xhc3MgPSBleHRlbmQoQ2xhc3MpO1xuXHR9XG5cdENvbXBvbmVudC5lbGVtZW50ID0gLyoqIEB0eXBlIHthbnl9ICovIChDbGFzcyk7XG5cdHJldHVybiBDbGFzcztcbn1cblxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBTdmVsdGUgY29tcG9uZW50cy4gVXNlZCB3aGVuIGRldj1mYWxzZS5cbiAqXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFtQcm9wcz1hbnldXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFtFdmVudHM9YW55XVxuICovXG5leHBvcnQgY2xhc3MgU3ZlbHRlQ29tcG9uZW50IHtcblx0LyoqXG5cdCAqICMjIyBQUklWQVRFIEFQSVxuXHQgKlxuXHQgKiBEbyBub3QgdXNlLCBtYXkgY2hhbmdlIGF0IGFueSB0aW1lXG5cdCAqXG5cdCAqIEB0eXBlIHthbnl9XG5cdCAqL1xuXHQkJCA9IHVuZGVmaW5lZDtcblx0LyoqXG5cdCAqICMjIyBQUklWQVRFIEFQSVxuXHQgKlxuXHQgKiBEbyBub3QgdXNlLCBtYXkgY2hhbmdlIGF0IGFueSB0aW1lXG5cdCAqXG5cdCAqIEB0eXBlIHthbnl9XG5cdCAqL1xuXHQkJHNldCA9IHVuZGVmaW5lZDtcblxuXHQvKiogQHJldHVybnMge3ZvaWR9ICovXG5cdCRkZXN0cm95KCkge1xuXHRcdGRlc3Ryb3lfY29tcG9uZW50KHRoaXMsIDEpO1xuXHRcdHRoaXMuJGRlc3Ryb3kgPSBub29wO1xuXHR9XG5cblx0LyoqXG5cdCAqIEB0ZW1wbGF0ZSB7RXh0cmFjdDxrZXlvZiBFdmVudHMsIHN0cmluZz59IEtcblx0ICogQHBhcmFtIHtLfSB0eXBlXG5cdCAqIEBwYXJhbSB7KChlOiBFdmVudHNbS10pID0+IHZvaWQpIHwgbnVsbCB8IHVuZGVmaW5lZH0gY2FsbGJhY2tcblx0ICogQHJldHVybnMgeygpID0+IHZvaWR9XG5cdCAqL1xuXHQkb24odHlwZSwgY2FsbGJhY2spIHtcblx0XHRpZiAoIWlzX2Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuXHRcdFx0cmV0dXJuIG5vb3A7XG5cdFx0fVxuXHRcdGNvbnN0IGNhbGxiYWNrcyA9IHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdIHx8ICh0aGlzLiQkLmNhbGxiYWNrc1t0eXBlXSA9IFtdKTtcblx0XHRjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG5cdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdGNvbnN0IGluZGV4ID0gY2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spO1xuXHRcdFx0aWYgKGluZGV4ICE9PSAtMSkgY2FsbGJhY2tzLnNwbGljZShpbmRleCwgMSk7XG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge1BhcnRpYWw8UHJvcHM+fSBwcm9wc1xuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdCRzZXQocHJvcHMpIHtcblx0XHRpZiAodGhpcy4kJHNldCAmJiAhaXNfZW1wdHkocHJvcHMpKSB7XG5cdFx0XHR0aGlzLiQkLnNraXBfYm91bmQgPSB0cnVlO1xuXHRcdFx0dGhpcy4kJHNldChwcm9wcyk7XG5cdFx0XHR0aGlzLiQkLnNraXBfYm91bmQgPSBmYWxzZTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBDdXN0b21FbGVtZW50UHJvcERlZmluaXRpb25cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbYXR0cmlidXRlXVxuICogQHByb3BlcnR5IHtib29sZWFufSBbcmVmbGVjdF1cbiAqIEBwcm9wZXJ0eSB7J1N0cmluZyd8J0Jvb2xlYW4nfCdOdW1iZXInfCdBcnJheSd8J09iamVjdCd9IFt0eXBlXVxuICovXG4iLCIvLyBnZW5lcmF0ZWQgZHVyaW5nIHJlbGVhc2UsIGRvIG5vdCBtb2RpZnlcblxuLyoqXG4gKiBUaGUgY3VycmVudCB2ZXJzaW9uLCBhcyBzZXQgaW4gcGFja2FnZS5qc29uLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1jb21waWxlciNzdmVsdGUtdmVyc2lvblxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IFZFUlNJT04gPSAnNC4yLjInO1xuZXhwb3J0IGNvbnN0IFBVQkxJQ19WRVJTSU9OID0gJzQnO1xuIiwiaW1wb3J0IHsgUFVCTElDX1ZFUlNJT04gfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvdmVyc2lvbi5qcyc7XG5cbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJylcblx0Ly8gQHRzLWlnbm9yZVxuXHQod2luZG93Ll9fc3ZlbHRlIHx8ICh3aW5kb3cuX19zdmVsdGUgPSB7IHY6IG5ldyBTZXQoKSB9KSkudi5hZGQoUFVCTElDX1ZFUlNJT04pO1xuIiwiPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAgaW1wb3J0IHsgb25Nb3VudCwgb25EZXN0cm95IH0gZnJvbSAnc3ZlbHRlJztcbiAgaW1wb3J0IHsgc2V0SWNvbiwgdHlwZSBJY29uTmFtZSB9IGZyb20gJ29ic2lkaWFuJztcbiAgXG4gIGV4cG9ydCBsZXQgaWNvbjogSWNvbk5hbWU7XG4gIGV4cG9ydCBsZXQgc2l6ZTogJ3NtYWxsJyB8ICdtZWRpdW0nIHwgJ2xhcmdlJyB8ICdpbmhlcml0JyA9ICdtZWRpdW0nO1xuICBleHBvcnQgbGV0IGV4dHJhQ2xhc3Nlczogc3RyaW5nID0gJyc7XG4gIFxuICBsZXQgaWNvbkVsOiBIVE1MRWxlbWVudDtcbiAgbGV0IG9ic2VydmVyOiBNdXRhdGlvbk9ic2VydmVyIHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3Qgc2l6ZUNsYXNzZXMgPSB7XG4gICAgc21hbGw6ICd3LTMgaC0zJyxcbiAgICBtZWRpdW06ICd3LTQgaC00JyxcbiAgICBsYXJnZTogJ3ctNSBoLTUnLFxuICAgIGluaGVyaXQ6ICcnIC8vIEZvciAnaW5oZXJpdCcsIG5vIGZpeGVkIHNpemUgaXMgYXBwbGllZCBoZXJlLCByZWx5aW5nIG9uIHBhcmVudCdzIGZvbnQgc2l6ZSBvciBjdXN0b20gQ1NTXG4gIH07XG5cbiAgZnVuY3Rpb24gdXBkYXRlSWNvbigpIHtcbiAgICBpZiAoaWNvbkVsICYmIGljb24pIHtcbiAgICAgIHNldEljb24oaWNvbkVsLCBpY29uKTtcbiAgICAgIGlmIChzaXplID09PSAnaW5oZXJpdCcpIHtcbiAgICAgICAgaWNvbkVsLnN0eWxlLndpZHRoID0gJzFlbSc7XG4gICAgICAgIGljb25FbC5zdHlsZS5oZWlnaHQgPSAnMWVtJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGljb25FbC5zdHlsZS53aWR0aCA9ICcnOyAvLyBDbGVhciBpbmxpbmUgc3R5bGUgaWYgbm90ICdpbmhlcml0J1xuICAgICAgICBpY29uRWwuc3R5bGUuaGVpZ2h0ID0gJyc7IFxuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbiAgb25Nb3VudCgoKSA9PiB7XG4gICAgdXBkYXRlSWNvbigpO1xuXG4gICAgLy8gT2JzZXJ2ZSBjaGFuZ2VzIHRvIHRoZSBpY29uIHByb3BlcnR5IG9yIHBhcmVudCBlbGVtZW50IGZvciB0aGVtZSBjaGFuZ2VzXG4gICAgLy8gVGhpcyBpcyB1c2VmdWwgaWYgdGhlIGljb24gbmVlZHMgdG8gcmUtcmVuZGVyIGR1ZSB0byBleHRlcm5hbCBDU1MgY2hhbmdlcyBvciBwYXJlbnQgcmVzaXppbmdcbiAgICBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnMpID0+IHtcbiAgICAgIG11dGF0aW9ucy5mb3JFYWNoKChtdXRhdGlvbikgPT4ge1xuICAgICAgICBpZiAobXV0YXRpb24udHlwZSA9PT0gJ2F0dHJpYnV0ZXMnICYmIChtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lID09PSAnY2xhc3MnIHx8IG11dGF0aW9uLmF0dHJpYnV0ZU5hbWUgPT09ICdzdHlsZScpKSB7XG4gICAgICAgICAgLy8gUmUtYXBwbHkgaWNvbiB0byBlbnN1cmUgaXQgcGlja3MgdXAgYW55IG5ldyBzdHlsaW5nIGNvbnRleHQgaWYgbmVlZGVkXG4gICAgICAgICAgdXBkYXRlSWNvbigpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGlmIChpY29uRWwpIHtcbiAgICAgIC8vIE9ic2VydmUgYXR0cmlidXRlcyBvbiB0aGUgZWxlbWVudCBpdHNlbGYgZm9yIHNpemUvc3R5bGUgY2hhbmdlc1xuICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShpY29uRWwsIHsgYXR0cmlidXRlczogdHJ1ZSB9KTtcbiAgICAgIC8vIE9wdGlvbmFsbHkgb2JzZXJ2ZSBwYXJlbnQgZm9yIGluaGVyaXRlZCBzdHlsZXMgdGhhdCBtaWdodCBhZmZlY3QgJ2luaGVyaXQnIHNpemVcbiAgICAgIGlmIChpY29uRWwucGFyZW50RWxlbWVudCkge1xuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGljb25FbC5wYXJlbnRFbGVtZW50LCB7IGF0dHJpYnV0ZXM6IHRydWUgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBvbkRlc3Ryb3koKCkgPT4ge1xuICAgIG9ic2VydmVyPy5kaXNjb25uZWN0KCk7XG4gIH0pO1xuXG4gIC8vIFJlYWN0aXZlIHN0YXRlbWVudCB0byB1cGRhdGUgaWNvbiB3aGVuICdpY29uJyBvciAnc2l6ZScgcHJvcGVydHkgY2hhbmdlc1xuICAkOiB7XG4gICAgdXBkYXRlSWNvbigpO1xuICB9XG48L3NjcmlwdD5cblxuPHNwYW4gXG4gIGJpbmQ6dGhpcz17aWNvbkVsfVxuICBjbGFzcz1cIm9ic2lkaWFuLWljb24gaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHtzaXplQ2xhc3Nlc1tzaXplXX0ge2V4dHJhQ2xhc3Nlc31cIlxuICBhcmlhLWhpZGRlbj1cInRydWVcIlxuLz4iLCI8IS0tID09PSBWRVNTRUwgT1BFTiA9PT0gLS0+XHJcbjwhLS0gUHVycG9zZTogU2NoZW1hIG1hbmFnZW1lbnQgVUkgZm9yIGRpc2NvdmVyeS1iYXNlZCBhcHByb2FjaCAtLT5cclxuPCEtLSBJbnRlZ3JhdGlvbjogUmVwbGFjZXMgR3JhcGhpdGlNYW5hZ2VyLnN2ZWx0ZSB3aXRoIGRpc2NvdmVyeSBmdW5jdGlvbmFsaXR5IC0tPlxyXG48IS0tIE1vZGU6IENvZGUgLSBTdmVsdGUgY29tcG9uZW50IGZvciBzY2hlbWEgZGlzY292ZXJ5IGFuZCBQeWRhbnRpYyBnZW5lcmF0aW9uIC0tPlxyXG5cclxuPHNjcmlwdCBsYW5nPVwidHNcIj5cclxuICBpbXBvcnQgeyBvbk1vdW50LCBvbkRlc3Ryb3kgfSBmcm9tICdzdmVsdGUnO1xyXG4gIGltcG9ydCB0eXBlIHsgU2NoZW1hRGlzY292ZXJ5U2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL1NjaGVtYURpc2NvdmVyeVNlcnZpY2UnO1xyXG4gIGltcG9ydCB7IEdyYXBoaXRpU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL0dyYXBoaXRpU2VydmljZSc7XHJcbiAgaW1wb3J0IHR5cGUgeyBUeXBlU2NoZW1hLCBQcm9wZXJ0eVNjaGVtYSB9IGZyb20gJy4uL3R5cGVzL1NjaGVtYSc7XHJcbiAgaW1wb3J0IE9ic2lkaWFuSWNvbiBmcm9tICcuL09ic2lkaWFuSWNvbi5zdmVsdGUnO1xyXG4gIGltcG9ydCB0eXBlIHtcclxuICAgIEVudGl0eURlc2NyaXB0aW9uLFxyXG4gICAgUHJvcGVydHlEZXNjcmlwdGlvbixcclxuICAgIEVkZ2VUeXBlLFxyXG4gICAgRWRnZVR5cGVNYXBwaW5nLFxyXG4gICAgRWRnZVR5cGVQcm9wZXJ0eSxcclxuICAgIExMTVNjaGVtYVNldHRpbmdzXHJcbiAgfSBmcm9tICcuLi90eXBlcy9TZXR0aW5ncyc7XHJcbiAgXHJcbiAgZXhwb3J0IGxldCBzY2hlbWFTZXJ2aWNlOiBTY2hlbWFEaXNjb3ZlcnlTZXJ2aWNlO1xyXG4gIFxyXG4gIC8vIEdldCBwbHVnaW4gaW5zdGFuY2UgZm9yIGRhdGEgcGVyc2lzdGVuY2VcclxuICBsZXQgcGx1Z2luOiBhbnk7XHJcbiAgbGV0IHBsdWdpblNldHRpbmdzOiBhbnkgPSB7fTtcclxuICBsZXQgZ3JhcGhpdGlTZXJ2aWNlOiBHcmFwaGl0aVNlcnZpY2U7XHJcbiAgXHJcbiAgJDoge1xyXG4gICAgaWYgKHR5cGVvZiAod2luZG93IGFzIGFueSkuYXBwICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICBwbHVnaW4gPSAod2luZG93IGFzIGFueSkuYXBwLnBsdWdpbnMucGx1Z2luc1snbWVnYW1lbS1tY3AnXTtcclxuICAgICAgcGx1Z2luU2V0dGluZ3MgPSBwbHVnaW4/LnNldHRpbmdzIHx8IHt9O1xyXG4gICAgICBcclxuICAgICAgLy8gSW5pdGlhbGl6ZSBHcmFwaGl0aVNlcnZpY2Ugd2hlbiBwbHVnaW4gaXMgYXZhaWxhYmxlXHJcbiAgICAgIGlmIChwbHVnaW4gJiYgcGx1Z2luLnNldHRpbmdzICYmICFncmFwaGl0aVNlcnZpY2UpIHtcclxuICAgICAgICAvLyBJbmplY3QgcmVxdWlyZWQgc2VydmljZXNcclxuICAgICAgICBjb25zdCBzeW5jUmVnaXN0cnlTZXJ2aWNlID0gcGx1Z2luLnN5bmNSZWdpc3RyeVNlcnZpY2U7XHJcbiAgICAgICAgY29uc3Qgc3luY1N0YXR1c01hbmFnZXIgPSBwbHVnaW4uc3luY1N0YXR1c01hbmFnZXI7XHJcbiAgICAgICAgY29uc3QgdmF1bHRSZWdpc3RyeVNlcnZpY2UgPSBwbHVnaW4udmF1bHRSZWdpc3RyeVNlcnZpY2U7XHJcblxyXG4gICAgICAgIGdyYXBoaXRpU2VydmljZSA9IG5ldyBHcmFwaGl0aVNlcnZpY2UoXHJcbiAgICAgICAgICBwbHVnaW4sXHJcbiAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MsXHJcbiAgICAgICAgICBzeW5jUmVnaXN0cnlTZXJ2aWNlLFxyXG4gICAgICAgICAgc3luY1N0YXR1c01hbmFnZXIsXHJcbiAgICAgICAgICB2YXVsdFJlZ2lzdHJ5U2VydmljZVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgbGV0IHNjaGVtYXM6IFR5cGVTY2hlbWFbXSA9IFtdO1xyXG4gIGxldCBzZWxlY3RlZFR5cGU6IHN0cmluZyA9ICcnO1xyXG4gIGxldCBsb2FkaW5nID0gdHJ1ZTtcclxuICBsZXQgZ2VuZXJhdGVkTW9kZWxzID0gJyc7XHJcbiAgXHJcbiAgLy8gRGVidWcgZnVuY3Rpb24gdG8gdHJhY2sgdGFiIGNoYW5nZXNcclxuICBmdW5jdGlvbiBoYW5kbGVUYWJDaGFuZ2UobmV3VGFiOiAnZW50aXRpZXMnIHwgJ3Byb3BlcnRpZXMnIHwgJ2VkZ2VzJyB8ICdtYXBwaW5ncycpIHtcclxuICAgIGNvbnNvbGUubG9nKGBTd2l0Y2hpbmcgdG8gdGFiOiAke25ld1RhYn0sIHNjaGVtYXMubGVuZ3RoOiAke3NjaGVtYXMubGVuZ3RofSwgZWRnZVR5cGVzOiAke09iamVjdC5rZXlzKGVkZ2VUeXBlcykubGVuZ3RofWApO1xyXG4gICAgYWN0aXZlVGFiID0gbmV3VGFiO1xyXG4gIH1cclxuICBcclxuICAvLyA9PT0gRU5IQU5DRUQgU0NIRU1BIE1BTkFHRU1FTlQgU1RBVEUgPT09XHJcbiAgLy8gUHVycG9zZTogU3RhdGUgbWFuYWdlbWVudCBmb3IgdGFiYmVkIG9udG9sb2d5IGludGVyZmFjZVxyXG4gIC8vIEludGVncmF0aW9uOiBNYW5hZ2VzIGVudGl0eSBkZXNjcmlwdGlvbnMsIGVkZ2UgdHlwZXMsIGFuZCBMTE0gc3VnZ2VzdGlvbnNcclxuICAvLyBNb2RlOiBDb2RlIC0gVUkgc3RhdGUgZm9yIGVuaGFuY2VkIHNjaGVtYSBhdXRob3JpbmdcclxuICBcclxuICBsZXQgYWN0aXZlVGFiOiAnZW50aXRpZXMnIHwgJ3Byb3BlcnRpZXMnIHwgJ2VkZ2VzJyB8ICdtYXBwaW5ncycgPSAnZW50aXRpZXMnO1xyXG4gIC8vID09PSBSRUFDVElWRSBSRUZFUkVOQ0VTIFRPIFBMVUdJTiBTRVRUSU5HUyA9PT1cclxuICAvLyBQdXJwb3NlOiBTaW5nbGUgc291cmNlIG9mIHRydXRoIC0gYWxsIGRhdGEgY29tZXMgZGlyZWN0bHkgZnJvbSBwbHVnaW4uc2V0dGluZ3NcclxuICAvLyBJbnRlZ3JhdGlvbjogRWxpbWluYXRlcyBsb2NhbCBzdGF0ZSBjb3BpZXMsIGVuYWJsZXMgcmVhbC10aW1lIHN5bmMgd2l0aCBkYXRhLmpzb25cclxuICAvLyBNb2RlOiBDb2RlIC0gUmVhY3RpdmUgcmVmZXJlbmNlcyBmb3Igc2luZ2xlLXNvdXJjZS1vZi10cnV0aCBhcmNoaXRlY3R1cmVcclxuICBcclxuICAkOiBlbnRpdHlEZXNjcmlwdGlvbnMgPSBwbHVnaW4/LnNldHRpbmdzPy5lbnRpdHlEZXNjcmlwdGlvbnMgfHwge307XHJcbiAgJDogcHJvcGVydHlEZXNjcmlwdGlvbnMgPSBwbHVnaW4/LnNldHRpbmdzPy5wcm9wZXJ0eURlc2NyaXB0aW9ucyB8fCB7fTtcclxuICAkOiBlZGdlVHlwZXMgPSBwbHVnaW4/LnNldHRpbmdzPy5lZGdlVHlwZXMgfHwge307XHJcbiAgJDogZWRnZVR5cGVNYXAgPSBwbHVnaW4/LnNldHRpbmdzPy5lZGdlVHlwZU1hcCB8fCBbXTtcclxuICAkOiBsbG1TY2hlbWFTZXR0aW5ncyA9IHBsdWdpbj8uc2V0dGluZ3M/LmxsbVNjaGVtYVNldHRpbmdzIHx8IHtcclxuICAgIGF1dG9TdWdnZXN0RW50aXR5RGVzY3JpcHRpb25zOiBmYWxzZSxcclxuICAgIGF1dG9TdWdnZXN0UHJvcGVydHlEZXNjcmlwdGlvbnM6IGZhbHNlLFxyXG4gICAgYXV0b1N1Z2dlc3RFZGdlVHlwZXM6IGZhbHNlLFxyXG4gICAgYXV0b1N1Z2dlc3RFZGdlVHlwZU1hcHBpbmdzOiBmYWxzZSxcclxuICAgIGVuYWJsZUJ1bGtHZW5lcmF0aW9uOiBmYWxzZSxcclxuICAgIHN1Z2dlc3Rpb25BcHByb3ZhbFJlcXVpcmVkOiB0cnVlLFxyXG4gIH07XHJcbiAgXHJcbiAgLy8gQWNjb3JkaW9uIHN0YXRlIG1hbmFnZW1lbnRcclxuICBsZXQgZXhwYW5kZWRBY2NvcmRpb25zOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQoKTtcclxuICBcclxuICAvLyBFbnRpdHkgZGVzY3JpcHRpb24gZWRpdGluZyBzdGF0ZVxyXG4gIGxldCBlZGl0aW5nRW50aXR5RGVzY3JpcHRpb246IHN0cmluZyB8IG51bGwgPSBudWxsO1xyXG4gIGxldCB0ZW1wRW50aXR5RGVzY3JpcHRpb25zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XHJcblxyXG4gIC8vIEVkZ2UgVHlwZXMgc3RhdGUgbWFuYWdlbWVudFxyXG4gIGxldCBzaG93QWRkRWRnZUZvcm0gPSBmYWxzZTtcclxuICBsZXQgbmV3RWRnZVR5cGVOYW1lID0gJyc7XHJcbiAgbGV0IG5ld0VkZ2VUeXBlRGVzY3JpcHRpb24gPSAnJztcclxuICBsZXQgZWRpdGluZ0VkZ2VUeXBlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcclxuICBsZXQgdGVtcEVkZ2VUeXBlTmFtZSA9ICcnO1xyXG4gIGxldCB0ZW1wRWRnZVR5cGVEZXNjcmlwdGlvbiA9ICcnO1xyXG5cclxuICAvLyBFZGdlIFByb3BlcnR5IE1hbmFnZW1lbnRcclxuICBsZXQgYWRkaW5nUHJvcGVydHlUb0VkZ2U6IHN0cmluZyB8IG51bGwgPSBudWxsO1xyXG4gIGxldCBuZXdQcm9wZXJ0eU5hbWUgPSAnJztcclxuICBsZXQgbmV3UHJvcGVydHlUeXBlID0gJ3N0cic7XHJcbiAgbGV0IG5ld1Byb3BlcnR5RGVzY3JpcHRpb24gPSAnJztcclxuICBsZXQgbmV3UHJvcGVydHlSZXF1aXJlZCA9IGZhbHNlO1xyXG5cclxuICAvLyBFZGdlIE1hcHBpbmdzIHN0YXRlIG1hbmFnZW1lbnRcclxuICBsZXQgc2hvd0FkZE1hcHBpbmdGb3JtID0gZmFsc2U7XHJcbiAgbGV0IG5ld01hcHBpbmdTb3VyY2VFbnRpdHkgPSAnJztcclxuICBsZXQgbmV3TWFwcGluZ1RhcmdldEVudGl0eSA9ICcnO1xyXG4gIGxldCBuZXdNYXBwaW5nQWxsb3dlZEVkZ2VzOiBzdHJpbmdbXSA9IFtdO1xyXG4gIGxldCBlZGl0aW5nTWFwcGluZ0luZGV4OiBudW1iZXIgfCBudWxsID0gbnVsbDtcclxuICBsZXQgdGVtcEVkaXRNYXBwaW5nU291cmNlRW50aXR5ID0gJyc7XHJcbiAgbGV0IHRlbXBFZGl0TWFwcGluZ1RhcmdldEVudGl0eSA9ICcnO1xyXG4gIGxldCB0ZW1wRWRpdE1hcHBpbmdBbGxvd2VkRWRnZXM6IHN0cmluZ1tdID0gW107XHJcblxyXG4gIC8vIEVkZ2UgdHlwZXMgZGF0YSBwcm9jZXNzaW5nXHJcbiAgJDogZWRnZVR5cGVzRGF0YSA9IGVkZ2VUeXBlcyB8fCB7fTtcclxuICAkOiBlZGdlVHlwZXNMaXN0ID0gT2JqZWN0LmtleXMoZWRnZVR5cGVzRGF0YSk7XHJcbiAgXHJcbiAgLy8gRW50aXR5IHR5cGVzIGZvciBlZGdlIG1hcHBpbmdzXHJcbiAgJDogZW50aXR5VHlwZXNMaXN0ID0gc2NoZW1hcy5tYXAocyA9PiBzLnR5cGVOYW1lKTtcclxuICAkOiBhbGxFbnRpdHlUeXBlcyA9IFsuLi5lbnRpdHlUeXBlc0xpc3QsICdFbnRpdHknXTsgLy8gSW5jbHVkZSBnZW5lcmljIEVudGl0eSB0eXBlXHJcbiAgXHJcbiAgLy8gVW51c2VkIGRlZmF1bHRzIHByb2Nlc3NpbmdcclxuICAkOiB1bnVzZWRFZGdlVHlwZXMgPSBzY2hlbWFTZXJ2aWNlLmdldFVudXNlZERlZmF1bHRFZGdlVHlwZXMoZWRnZVR5cGVzRGF0YSk7XHJcbiAgJDogc3VnZ2VzdGVkTWFwcGluZ3MgPSBzY2hlbWFTZXJ2aWNlLmdldFN1Z2dlc3RlZERlZmF1bHRNYXBwaW5ncyhlbnRpdHlUeXBlc0xpc3QsIGVkZ2VUeXBlTWFwKTtcclxuICBcclxuICAvLyBTYWZlIHByb3BlcnR5IGluZm8gaGVscGVyIHdpdGggcnVudGltZSBndWFyZFxyXG4gIGZ1bmN0aW9uIGdldFByb3BlcnR5SW5mbyhwcm9wRGVmOiB1bmtub3duKSB7XHJcbiAgICAvLyBOYXJyb3cgdW5rbm93biAtPiBFZGdlVHlwZVByb3BlcnR5IHNhZmVseVxyXG4gICAgY29uc3QgcHJvcCA9IChwcm9wRGVmIGFzIFBhcnRpYWw8RWRnZVR5cGVQcm9wZXJ0eT4gfCB1bmRlZmluZWQpID8/IHt9O1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZmllbGRUeXBlOiAocHJvcC5maWVsZFR5cGUgYXMgc3RyaW5nKSB8fCAndW5rbm93bicsXHJcbiAgICAgIHJlcXVpcmVkOiAhIXByb3AucmVxdWlyZWQsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAocHJvcC5kZXNjcmlwdGlvbiBhcyBzdHJpbmcpIHx8ICcnXHJcbiAgICB9O1xyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiB0b2dnbGVBY2NvcmRpb24oZW50aXR5VHlwZTogc3RyaW5nKSB7XHJcbiAgICBpZiAoZXhwYW5kZWRBY2NvcmRpb25zLmhhcyhlbnRpdHlUeXBlKSkge1xyXG4gICAgICBleHBhbmRlZEFjY29yZGlvbnMuZGVsZXRlKGVudGl0eVR5cGUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZXhwYW5kZWRBY2NvcmRpb25zLmFkZChlbnRpdHlUeXBlKTtcclxuICAgIH1cclxuICAgIGV4cGFuZGVkQWNjb3JkaW9ucyA9IG5ldyBTZXQoZXhwYW5kZWRBY2NvcmRpb25zKTsgLy8gVHJpZ2dlciByZWFjdGl2aXR5XHJcbiAgfVxyXG4gIFxyXG4gIGZ1bmN0aW9uIG5hdmlnYXRlVG9FbnRpdHlQcm9wZXJ0aWVzKGVudGl0eVR5cGU6IHN0cmluZykge1xyXG4gICAgYWN0aXZlVGFiID0gJ3Byb3BlcnRpZXMnO1xyXG4gICAgZXhwYW5kZWRBY2NvcmRpb25zLmNsZWFyKCk7XHJcbiAgICBleHBhbmRlZEFjY29yZGlvbnMuYWRkKGVudGl0eVR5cGUpO1xyXG4gICAgZXhwYW5kZWRBY2NvcmRpb25zID0gbmV3IFNldChleHBhbmRlZEFjY29yZGlvbnMpO1xyXG4gICAgXHJcbiAgICAvLyBTY3JvbGwgdG8gdGhlIGVudGl0eSBhZnRlciB0YWIgY2hhbmdlXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBhY2NvcmRpb24tJHtlbnRpdHlUeXBlfWApO1xyXG4gICAgICBpZiAoZWxlbWVudCkge1xyXG4gICAgICAgIGVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcsIGJsb2NrOiAnc3RhcnQnIH0pO1xyXG4gICAgICB9XHJcbiAgICB9LCAxMDApO1xyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiBzdGFydEVkaXRpbmdFbnRpdHlEZXNjcmlwdGlvbihlbnRpdHlUeXBlOiBzdHJpbmcpIHtcclxuICAgIGVkaXRpbmdFbnRpdHlEZXNjcmlwdGlvbiA9IGVudGl0eVR5cGU7XHJcbiAgICAvLyBJbml0aWFsaXplIHdpdGggY3VycmVudCBkZXNjcmlwdGlvbiwgZGVmYXVsdCBkZXNjcmlwdGlvbiwgb3IgZmFsbGJhY2tcclxuICAgIGlmIChlbnRpdHlEZXNjcmlwdGlvbnNbZW50aXR5VHlwZV0/LmRlc2NyaXB0aW9uKSB7XHJcbiAgICAgIHRlbXBFbnRpdHlEZXNjcmlwdGlvbnNbZW50aXR5VHlwZV0gPSBlbnRpdHlEZXNjcmlwdGlvbnNbZW50aXR5VHlwZV0uZGVzY3JpcHRpb247XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBkZWZhdWx0RGVzY3JpcHRpb24gPSBzY2hlbWFTZXJ2aWNlLmdldERlZmF1bHRFbnRpdHlEZXNjcmlwdGlvbihlbnRpdHlUeXBlKTtcclxuICAgICAgdGVtcEVudGl0eURlc2NyaXB0aW9uc1tlbnRpdHlUeXBlXSA9IGRlZmF1bHREZXNjcmlwdGlvbiB8fCBgQ3VzdG9tICR7ZW50aXR5VHlwZX0gZW50aXR5LmA7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIGFzeW5jIGZ1bmN0aW9uIHNhdmVFbnRpdHlEZXNjcmlwdGlvbihlbnRpdHlUeXBlOiBzdHJpbmcpIHtcclxuICAgIGlmICh0ZW1wRW50aXR5RGVzY3JpcHRpb25zW2VudGl0eVR5cGVdICYmIHBsdWdpbj8uc2V0dGluZ3MpIHtcclxuICAgICAgLy8gU2F2ZSBkaXJlY3RseSB0byBwbHVnaW4gc2V0dGluZ3NcclxuICAgICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MuZW50aXR5RGVzY3JpcHRpb25zKSB7XHJcbiAgICAgICAgcGx1Z2luLnNldHRpbmdzLmVudGl0eURlc2NyaXB0aW9ucyA9IHt9O1xyXG4gICAgICB9XHJcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5lbnRpdHlEZXNjcmlwdGlvbnNbZW50aXR5VHlwZV0gPSB7XHJcbiAgICAgICAgY2xhc3NOYW1lOiBlbnRpdHlUeXBlLnJlcGxhY2UoL1xccysvZywgJycpLnJlcGxhY2UoL1teYS16QS1aMC05XS9nLCAnJyksXHJcbiAgICAgICAgZGVzY3JpcHRpb246IHRlbXBFbnRpdHlEZXNjcmlwdGlvbnNbZW50aXR5VHlwZV0sXHJcbiAgICAgICAgaXNVc2VyRGVmaW5lZDogdHJ1ZSxcclxuICAgICAgICBzb3VyY2U6IFwidXNlclwiLFxyXG4gICAgICAgIGxhc3RNb2RpZmllZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIH07XHJcbiAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgIH1cclxuICAgIGVkaXRpbmdFbnRpdHlEZXNjcmlwdGlvbiA9IG51bGw7XHJcbiAgfVxyXG4gIFxyXG4gIGZ1bmN0aW9uIGNhbmNlbEVkaXRpbmdFbnRpdHlEZXNjcmlwdGlvbigpIHtcclxuICAgIGVkaXRpbmdFbnRpdHlEZXNjcmlwdGlvbiA9IG51bGw7XHJcbiAgICB0ZW1wRW50aXR5RGVzY3JpcHRpb25zID0ge307XHJcbiAgfVxyXG4gIFxyXG4gIGZ1bmN0aW9uIGdldEVudGl0eURlc2NyaXB0aW9uKGVudGl0eVR5cGU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAvLyBGaXJzdCBjaGVjayBpZiB3ZSBoYXZlIGEgdXNlci1kZWZpbmVkIGRlc2NyaXB0aW9uXHJcbiAgICBpZiAoZW50aXR5RGVzY3JpcHRpb25zW2VudGl0eVR5cGVdPy5kZXNjcmlwdGlvbikge1xyXG4gICAgICByZXR1cm4gZW50aXR5RGVzY3JpcHRpb25zW2VudGl0eVR5cGVdLmRlc2NyaXB0aW9uO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBUaGVuIGNoZWNrIGlmIHdlIGhhdmUgYSBkZWZhdWx0IGRlc2NyaXB0aW9uXHJcbiAgICBjb25zdCBkZWZhdWx0RGVzY3JpcHRpb24gPSBzY2hlbWFTZXJ2aWNlLmdldERlZmF1bHRFbnRpdHlEZXNjcmlwdGlvbihlbnRpdHlUeXBlKTtcclxuICAgIGlmIChkZWZhdWx0RGVzY3JpcHRpb24pIHtcclxuICAgICAgcmV0dXJuIGRlZmF1bHREZXNjcmlwdGlvbjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gRmluYWxseSBmYWxsIGJhY2sgdG8gY3VzdG9tIGVudGl0eSB0eXBlXHJcbiAgICByZXR1cm4gYEN1c3RvbSAke2VudGl0eVR5cGV9IGVudGl0eS5gO1xyXG4gIH1cclxuXHJcbiAgLy8gRGVmYXVsdCBkZXNjcmlwdGlvbiBmdW5jdGlvbnNcclxuICBmdW5jdGlvbiBoYXNEZWZhdWx0RW50aXR5RGVzY3JpcHRpb24oZW50aXR5VHlwZTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gc2NoZW1hU2VydmljZS5oYXNEZWZhdWx0RW50aXR5RGVzY3JpcHRpb24oZW50aXR5VHlwZSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBsb2FkRGVmYXVsdEVudGl0eURlc2NyaXB0aW9uKGVudGl0eVR5cGU6IHN0cmluZykge1xyXG4gICAgY29uc3QgZGVmYXVsdERlc2NyaXB0aW9uID0gc2NoZW1hU2VydmljZS5nZXREZWZhdWx0RW50aXR5RGVzY3JpcHRpb24oZW50aXR5VHlwZSk7XHJcbiAgICBpZiAoZGVmYXVsdERlc2NyaXB0aW9uICYmIGdyYXBoaXRpU2VydmljZSkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHRlbXBFbnRpdHlEZXNjcmlwdGlvbnNbZW50aXR5VHlwZV0gPSBkZWZhdWx0RGVzY3JpcHRpb247XHJcbiAgICAgICAgLy8gQWxzbyB1cGRhdGUgdGhlIGVudGl0eSBkZXNjcmlwdGlvbiBpbiBkYXRhLmpzb24gdXNpbmcgR3JhcGhpdGlTZXJ2aWNlXHJcbiAgICAgICAgYXdhaXQgZ3JhcGhpdGlTZXJ2aWNlLnVwZGF0ZUVudGl0eURlc2NyaXB0aW9uKGVudGl0eVR5cGUsIGRlZmF1bHREZXNjcmlwdGlvbik7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHVwZGF0ZSBlbnRpdHkgZGVzY3JpcHRpb246JywgZXJyb3IpO1xyXG4gICAgICAgIC8vIFN0aWxsIHVwZGF0ZSB0aGUgVUkgZXZlbiBpZiBzYXZlIGZhaWxzXHJcbiAgICAgICAgdGVtcEVudGl0eURlc2NyaXB0aW9uc1tlbnRpdHlUeXBlXSA9IGRlZmF1bHREZXNjcmlwdGlvbjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaGFzRGVmYXVsdFByb3BlcnR5RGVzY3JpcHRpb24ocHJvcGVydHlOYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIHJldHVybiBzY2hlbWFTZXJ2aWNlLmhhc0RlZmF1bHRQcm9wZXJ0eURlc2NyaXB0aW9uKHByb3BlcnR5TmFtZSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBsb2FkRGVmYXVsdFByb3BlcnR5RGVzY3JpcHRpb24oZW50aXR5VHlwZTogc3RyaW5nLCBwcm9wZXJ0eU5hbWU6IHN0cmluZykge1xyXG4gICAgY29uc3QgZGVmYXVsdERlc2NyaXB0aW9uID0gc2NoZW1hU2VydmljZS5nZXREZWZhdWx0UHJvcGVydHlEZXNjcmlwdGlvbihwcm9wZXJ0eU5hbWUpO1xyXG4gICAgaWYgKGRlZmF1bHREZXNjcmlwdGlvbiAmJiBncmFwaGl0aVNlcnZpY2UpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICAvLyBGaW5kIHRoZSBzY2hlbWEgYW5kIHByb3BlcnR5IHRvIHVwZGF0ZVxyXG4gICAgICAgIGNvbnN0IHNjaGVtYSA9IHNjaGVtYXMuZmluZChzID0+IHMudHlwZU5hbWUgPT09IGVudGl0eVR5cGUpO1xyXG4gICAgICAgIGlmIChzY2hlbWEpIHtcclxuICAgICAgICAgIGNvbnN0IHByb3BJbmRleCA9IHNjaGVtYS5wcm9wZXJ0aWVzLmZpbmRJbmRleChwID0+IHAubmFtZSA9PT0gcHJvcGVydHlOYW1lKTtcclxuICAgICAgICAgIGlmIChwcm9wSW5kZXggIT09IC0xKSB7XHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgVUkgaW1tZWRpYXRlbHlcclxuICAgICAgICAgICAgdXBkYXRlUHJvcGVydHkoc2NoZW1hcy5pbmRleE9mKHNjaGVtYSksIHByb3BJbmRleCwgJ2Rlc2NyaXB0aW9uJywgZGVmYXVsdERlc2NyaXB0aW9uKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIFNhdmUgdXNpbmcgR3JhcGhpdGlTZXJ2aWNlXHJcbiAgICAgICAgICAgIGF3YWl0IGdyYXBoaXRpU2VydmljZS51cGRhdGVQcm9wZXJ0eURlc2NyaXB0aW9uKGVudGl0eVR5cGUsIHByb3BlcnR5TmFtZSwgZGVmYXVsdERlc2NyaXB0aW9uKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHVwZGF0ZSBwcm9wZXJ0eSBkZXNjcmlwdGlvbjonLCBlcnJvcik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEVkZ2UgVHlwZXMgbWFuYWdlbWVudCBmdW5jdGlvbnNcclxuICBhc3luYyBmdW5jdGlvbiBzYXZlTmV3RWRnZVR5cGUoKSB7XHJcbiAgICBpZiAoIW5ld0VkZ2VUeXBlTmFtZS50cmltKCkgfHwgIXBsdWdpbj8uc2V0dGluZ3MpIHJldHVybjtcclxuICAgIFxyXG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBuZXdFZGdlVHlwZURlc2NyaXB0aW9uIHx8IGAke25ld0VkZ2VUeXBlTmFtZX0gcmVsYXRpb25zaGlwIHR5cGVgO1xyXG4gICAgXHJcbiAgICAvLyBJbml0aWFsaXplIGVkZ2VUeXBlcyBpZiBub3QgZXhpc3RzXHJcbiAgICBpZiAoIXBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZXMpIHtcclxuICAgICAgcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlcyA9IHt9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVzW25ld0VkZ2VUeXBlTmFtZV0gPSB7XHJcbiAgICAgIGNsYXNzTmFtZTogbmV3RWRnZVR5cGVOYW1lLFxyXG4gICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXHJcbiAgICAgIHByb3BlcnRpZXM6IHt9LFxyXG4gICAgICBpc1VzZXJEZWZpbmVkOiB0cnVlLFxyXG4gICAgICBzb3VyY2U6IFwidXNlclwiLFxyXG4gICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gU2F2ZSBpbW1lZGlhdGVseVxyXG4gICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgXHJcbiAgICAvLyBSZXNldCBmb3JtXHJcbiAgICBuZXdFZGdlVHlwZU5hbWUgPSAnJztcclxuICAgIG5ld0VkZ2VUeXBlRGVzY3JpcHRpb24gPSAnJztcclxuICAgIHNob3dBZGRFZGdlRm9ybSA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY2FuY2VsQWRkRWRnZVR5cGUoKSB7XHJcbiAgICBuZXdFZGdlVHlwZU5hbWUgPSAnJztcclxuICAgIG5ld0VkZ2VUeXBlRGVzY3JpcHRpb24gPSAnJztcclxuICAgIHNob3dBZGRFZGdlRm9ybSA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc3RhcnRFZGl0RWRnZVR5cGUoZWRnZVR5cGVOYW1lOiBzdHJpbmcpIHtcclxuICAgIGVkaXRpbmdFZGdlVHlwZSA9IGVkZ2VUeXBlTmFtZTtcclxuICAgIHRlbXBFZGdlVHlwZU5hbWUgPSBlZGdlVHlwZU5hbWU7XHJcbiAgICB0ZW1wRWRnZVR5cGVEZXNjcmlwdGlvbiA9IGVkZ2VUeXBlc1tlZGdlVHlwZU5hbWVdPy5kZXNjcmlwdGlvbiB8fCAnJztcclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIHNhdmVFZGdlVHlwZUVkaXQoKSB7XHJcbiAgICBpZiAoIXRlbXBFZGdlVHlwZU5hbWUudHJpbSgpIHx8ICFlZGl0aW5nRWRnZVR5cGUgfHwgIXBsdWdpbj8uc2V0dGluZ3MpIHJldHVybjtcclxuICAgIFxyXG4gICAgY29uc3QgZWRnZVR5cGVEYXRhID0gcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlcz8uW2VkaXRpbmdFZGdlVHlwZV07XHJcbiAgICBpZiAoZWRnZVR5cGVEYXRhKSB7XHJcbiAgICAgIC8vIEluaXRpYWxpemUgZWRnZVR5cGVzIGlmIG5vdCBleGlzdHNcclxuICAgICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVzKSB7XHJcbiAgICAgICAgcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlcyA9IHt9O1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBJZiBuYW1lIGNoYW5nZWQsIG1vdmUgdG8gbmV3IGtleVxyXG4gICAgICBpZiAodGVtcEVkZ2VUeXBlTmFtZSAhPT0gZWRpdGluZ0VkZ2VUeXBlKSB7XHJcbiAgICAgICAgZGVsZXRlIHBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZXNbZWRpdGluZ0VkZ2VUeXBlXTtcclxuICAgICAgICBwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVzW3RlbXBFZGdlVHlwZU5hbWVdID0ge1xyXG4gICAgICAgICAgLi4uZWRnZVR5cGVEYXRhLFxyXG4gICAgICAgICAgY2xhc3NOYW1lOiB0ZW1wRWRnZVR5cGVOYW1lLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb246IHRlbXBFZGdlVHlwZURlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgbGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICB9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEp1c3QgdXBkYXRlIGRlc2NyaXB0aW9uXHJcbiAgICAgICAgcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlc1tlZGl0aW5nRWRnZVR5cGVdID0ge1xyXG4gICAgICAgICAgLi4uZWRnZVR5cGVEYXRhLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb246IHRlbXBFZGdlVHlwZURlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgbGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFNhdmUgaW1tZWRpYXRlbHlcclxuICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgIGNhbmNlbEVkZ2VUeXBlRWRpdCgpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY2FuY2VsRWRnZVR5cGVFZGl0KCkge1xyXG4gICAgZWRpdGluZ0VkZ2VUeXBlID0gbnVsbDtcclxuICAgIHRlbXBFZGdlVHlwZU5hbWUgPSAnJztcclxuICAgIHRlbXBFZGdlVHlwZURlc2NyaXB0aW9uID0gJyc7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBkZWxldGVFZGdlVHlwZShlZGdlVHlwZU5hbWU6IHN0cmluZykge1xyXG4gICAgaWYgKCFwbHVnaW4/LnNldHRpbmdzPy5lZGdlVHlwZXMpIHJldHVybjtcclxuICAgIFxyXG4gICAgZGVsZXRlIHBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZXNbZWRnZVR5cGVOYW1lXTtcclxuICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldEVkZ2VUeXBlRGVzY3JpcHRpb24oZWRnZVR5cGVOYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGVkZ2VUeXBlc1tlZGdlVHlwZU5hbWVdPy5kZXNjcmlwdGlvbiB8fCAnJztcclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIHF1aWNrQWRkRWRnZVR5cGUoZWRnZVR5cGVOYW1lOiBzdHJpbmcpIHtcclxuICAgIGlmICghcGx1Z2luPy5zZXR0aW5ncykgcmV0dXJuO1xyXG4gICAgXHJcbiAgICAvLyBJbml0aWFsaXplIGVkZ2VUeXBlcyBpZiBub3QgZXhpc3RzXHJcbiAgICBpZiAoIXBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZXMpIHtcclxuICAgICAgcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlcyA9IHt9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAocGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlc1tlZGdlVHlwZU5hbWVdKSByZXR1cm47IC8vIEFscmVhZHkgZXhpc3RzXHJcbiAgICBcclxuICAgIC8vIEdldCBkZWZhdWx0IGRlc2NyaXB0aW9uIGFuZCBwcm9wZXJ0aWVzXHJcbiAgICBjb25zdCBhdmFpbGFibGVEZWZhdWx0cyA9IHNjaGVtYVNlcnZpY2UuZ2V0QXZhaWxhYmxlRGVmYXVsdEVkZ2VUeXBlcygpO1xyXG4gICAgY29uc3QgZGVmYXVsdFByb3BlcnRpZXMgPSBzY2hlbWFTZXJ2aWNlLmdldERlZmF1bHRFZGdlVHlwZVByb3BlcnRpZXMoKTtcclxuICAgIFxyXG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBhdmFpbGFibGVEZWZhdWx0c1tlZGdlVHlwZU5hbWVdIHx8IGAke2VkZ2VUeXBlTmFtZX0gcmVsYXRpb25zaGlwIHR5cGVgO1xyXG4gICAgY29uc3QgcHJvcGVydGllcyA9IGRlZmF1bHRQcm9wZXJ0aWVzW2VkZ2VUeXBlTmFtZV0gfHwge307XHJcbiAgICBcclxuICAgIHBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZXNbZWRnZVR5cGVOYW1lXSA9IHtcclxuICAgICAgY2xhc3NOYW1lOiBlZGdlVHlwZU5hbWUsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcclxuICAgICAgcHJvcGVydGllczogcHJvcGVydGllcyxcclxuICAgICAgaXNVc2VyRGVmaW5lZDogdHJ1ZSxcclxuICAgICAgc291cmNlOiBcInVzZXJcIixcclxuICAgICAgbGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgIH07XHJcbiAgICBcclxuICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICB9XHJcblxyXG4gIC8vIEVkZ2UgUHJvcGVydHkgTWFuYWdlbWVudCBGdW5jdGlvbnNcclxuICBhc3luYyBmdW5jdGlvbiBhZGRQcm9wZXJ0eVRvRWRnZVR5cGUoZWRnZVR5cGVOYW1lOiBzdHJpbmcpIHtcclxuICAgIGlmICghbmV3UHJvcGVydHlOYW1lLnRyaW0oKSB8fCAhcGx1Z2luPy5zZXR0aW5ncz8uZWRnZVR5cGVzPy5bZWRnZVR5cGVOYW1lXSkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVzW2VkZ2VUeXBlTmFtZV0ucHJvcGVydGllc1tuZXdQcm9wZXJ0eU5hbWVdID0ge1xyXG4gICAgICBkZXNjcmlwdGlvbjogbmV3UHJvcGVydHlEZXNjcmlwdGlvbiB8fCBgJHtuZXdQcm9wZXJ0eU5hbWV9IHByb3BlcnR5YCxcclxuICAgICAgZmllbGRUeXBlOiBuZXdQcm9wZXJ0eVR5cGUsXHJcbiAgICAgIHJlcXVpcmVkOiBuZXdQcm9wZXJ0eVJlcXVpcmVkXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvLyBTYXZlIGltbWVkaWF0ZWx5XHJcbiAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICBcclxuICAgIC8vIFJlc2V0IGZvcm1cclxuICAgIG5ld1Byb3BlcnR5TmFtZSA9ICcnO1xyXG4gICAgbmV3UHJvcGVydHlEZXNjcmlwdGlvbiA9ICcnO1xyXG4gICAgbmV3UHJvcGVydHlUeXBlID0gJ3N0cic7XHJcbiAgICBuZXdQcm9wZXJ0eVJlcXVpcmVkID0gZmFsc2U7XHJcbiAgICBhZGRpbmdQcm9wZXJ0eVRvRWRnZSA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiByZW1vdmVQcm9wZXJ0eUZyb21FZGdlVHlwZShlZGdlVHlwZU5hbWU6IHN0cmluZywgcHJvcGVydHlOYW1lOiBzdHJpbmcpIHtcclxuICAgIGlmIChwbHVnaW4/LnNldHRpbmdzPy5lZGdlVHlwZXM/LltlZGdlVHlwZU5hbWVdPy5wcm9wZXJ0aWVzKSB7XHJcbiAgICAgIGRlbGV0ZSBwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVzW2VkZ2VUeXBlTmFtZV0ucHJvcGVydGllc1twcm9wZXJ0eU5hbWVdO1xyXG4gICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiB1cGRhdGVQcm9wZXJ0eURlc2NyaXB0aW9uKGVkZ2VUeXBlTmFtZTogc3RyaW5nLCBwcm9wZXJ0eU5hbWU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZykge1xyXG4gICAgaWYgKHBsdWdpbj8uc2V0dGluZ3M/LmVkZ2VUeXBlcz8uW2VkZ2VUeXBlTmFtZV0/LnByb3BlcnRpZXM/Lltwcm9wZXJ0eU5hbWVdKSB7XHJcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZXNbZWRnZVR5cGVOYW1lXS5wcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV0uZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcclxuICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlRWRnZVByb3BlcnR5RGVzY3JpcHRpb25JbnB1dChlZGdlVHlwZU5hbWU6IHN0cmluZywgcHJvcGVydHlOYW1lOiBzdHJpbmcsIGV2ZW50OiBFdmVudCkge1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICBhd2FpdCB1cGRhdGVQcm9wZXJ0eURlc2NyaXB0aW9uKGVkZ2VUeXBlTmFtZSwgcHJvcGVydHlOYW1lLCB0YXJnZXQudmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlRWRnZVR5cGVEZXNjcmlwdGlvbklucHV0KGVkZ2VUeXBlTmFtZTogc3RyaW5nLCBldmVudDogRXZlbnQpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MVGV4dEFyZWFFbGVtZW50O1xyXG4gICAgY29uc3QgbmV3RGVzY3JpcHRpb24gPSB0YXJnZXQudmFsdWU7XHJcbiAgICBcclxuICAgIGlmIChwbHVnaW4/LnNldHRpbmdzPy5lZGdlVHlwZXM/LltlZGdlVHlwZU5hbWVdKSB7XHJcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZXNbZWRnZVR5cGVOYW1lXSA9IHtcclxuICAgICAgICAuLi5wbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVzW2VkZ2VUeXBlTmFtZV0sXHJcbiAgICAgICAgZGVzY3JpcHRpb246IG5ld0Rlc2NyaXB0aW9uLFxyXG4gICAgICAgIGxhc3RNb2RpZmllZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIH07XHJcbiAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEVkZ2UgTWFwcGluZ3MgbWFuYWdlbWVudCBmdW5jdGlvbnNcclxuICBhc3luYyBmdW5jdGlvbiBzYXZlTmV3TWFwcGluZygpIHtcclxuICAgIGlmICghbmV3TWFwcGluZ1NvdXJjZUVudGl0eSB8fCAhbmV3TWFwcGluZ1RhcmdldEVudGl0eSB8fCBuZXdNYXBwaW5nQWxsb3dlZEVkZ2VzLmxlbmd0aCA9PT0gMCB8fCAhcGx1Z2luPy5zZXR0aW5ncykgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBjb25zdCBuZXdNYXBwaW5nID0ge1xyXG4gICAgICBzb3VyY2VFbnRpdHk6IG5ld01hcHBpbmdTb3VyY2VFbnRpdHksXHJcbiAgICAgIHRhcmdldEVudGl0eTogbmV3TWFwcGluZ1RhcmdldEVudGl0eSxcclxuICAgICAgYWxsb3dlZEVkZ2VzOiBbLi4ubmV3TWFwcGluZ0FsbG93ZWRFZGdlc10sXHJcbiAgICAgIGlzVXNlckRlZmluZWQ6IHRydWUsXHJcbiAgICAgIHNvdXJjZTogXCJ1c2VyXCIgYXMgY29uc3QsXHJcbiAgICAgIGxhc3RNb2RpZmllZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvLyBJbml0aWFsaXplIGVkZ2VUeXBlTWFwIGlmIG5vdCBleGlzdHNcclxuICAgIGlmICghcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlTWFwKSB7XHJcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZU1hcCA9IFtdO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVNYXAgPSBbLi4ucGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlTWFwLCBuZXdNYXBwaW5nXTtcclxuICAgIFxyXG4gICAgLy8gU2F2ZSBpbW1lZGlhdGVseVxyXG4gICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgXHJcbiAgICAvLyBSZXNldCBmb3JtXHJcbiAgICBuZXdNYXBwaW5nU291cmNlRW50aXR5ID0gJyc7XHJcbiAgICBuZXdNYXBwaW5nVGFyZ2V0RW50aXR5ID0gJyc7XHJcbiAgICBuZXdNYXBwaW5nQWxsb3dlZEVkZ2VzID0gW107XHJcbiAgICBzaG93QWRkTWFwcGluZ0Zvcm0gPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNhbmNlbEFkZE1hcHBpbmcoKSB7XHJcbiAgICBuZXdNYXBwaW5nU291cmNlRW50aXR5ID0gJyc7XHJcbiAgICBuZXdNYXBwaW5nVGFyZ2V0RW50aXR5ID0gJyc7XHJcbiAgICBuZXdNYXBwaW5nQWxsb3dlZEVkZ2VzID0gW107XHJcbiAgICBzaG93QWRkTWFwcGluZ0Zvcm0gPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIHJlbW92ZU1hcHBpbmcoaW5kZXg6IG51bWJlcikge1xyXG4gICAgaWYgKCFwbHVnaW4/LnNldHRpbmdzKSByZXR1cm47XHJcbiAgICBwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVNYXAgPSBwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVNYXAuZmlsdGVyKChfOiBFZGdlVHlwZU1hcHBpbmcsIGk6IG51bWJlcikgPT4gaSAhPT0gaW5kZXgpO1xyXG4gICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gdG9nZ2xlRWRnZVR5cGUoZWRnZVR5cGVOYW1lOiBzdHJpbmcpIHtcclxuICAgIGlmIChuZXdNYXBwaW5nQWxsb3dlZEVkZ2VzLmluY2x1ZGVzKGVkZ2VUeXBlTmFtZSkpIHtcclxuICAgICAgbmV3TWFwcGluZ0FsbG93ZWRFZGdlcyA9IG5ld01hcHBpbmdBbGxvd2VkRWRnZXMuZmlsdGVyKGUgPT4gZSAhPT0gZWRnZVR5cGVOYW1lKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG5ld01hcHBpbmdBbGxvd2VkRWRnZXMgPSBbLi4ubmV3TWFwcGluZ0FsbG93ZWRFZGdlcywgZWRnZVR5cGVOYW1lXTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIHF1aWNrQWRkTWFwcGluZyhzb3VyY2VFbnRpdHk6IHN0cmluZywgdGFyZ2V0RW50aXR5OiBzdHJpbmcsIGFsbG93ZWRFZGdlczogc3RyaW5nW10pIHtcclxuICAgIGlmICghcGx1Z2luPy5zZXR0aW5ncykgcmV0dXJuO1xyXG4gICAgXHJcbiAgICAvLyBJbml0aWFsaXplIGVkZ2VUeXBlTWFwIGlmIG5vdCBleGlzdHNcclxuICAgIGlmICghcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlTWFwKSB7XHJcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZU1hcCA9IFtdO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBDaGVjayBpZiBtYXBwaW5nIGFscmVhZHkgZXhpc3RzXHJcbiAgICBjb25zdCBleGlzdHMgPSBwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVNYXAuc29tZSgobTogRWRnZVR5cGVNYXBwaW5nKSA9PlxyXG4gICAgICBtLnNvdXJjZUVudGl0eSA9PT0gc291cmNlRW50aXR5ICYmIG0udGFyZ2V0RW50aXR5ID09PSB0YXJnZXRFbnRpdHlcclxuICAgICk7XHJcbiAgICBpZiAoZXhpc3RzKSByZXR1cm47XHJcbiAgICBcclxuICAgIGNvbnN0IG5ld01hcHBpbmcgPSB7XHJcbiAgICAgIHNvdXJjZUVudGl0eSxcclxuICAgICAgdGFyZ2V0RW50aXR5LFxyXG4gICAgICBhbGxvd2VkRWRnZXM6IFsuLi5hbGxvd2VkRWRnZXNdLFxyXG4gICAgICBpc1VzZXJEZWZpbmVkOiB0cnVlLFxyXG4gICAgICBzb3VyY2U6IFwidXNlclwiIGFzIGNvbnN0LFxyXG4gICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlTWFwID0gWy4uLnBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZU1hcCwgbmV3TWFwcGluZ107XHJcbiAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgfVxyXG5cclxuICAvLyBAQHZlc3NlbC1wcm90b2NvbDpUeXIgZ292ZXJuczpmZWF0dXJlIGNvbnRleHQ6QWRkIGFsbCB1bnVzZWQgZGVmYXVsdCBlZGdlIHR5cGVzIGF0IG9uY2VcclxuICBhc3luYyBmdW5jdGlvbiBhZGRBbGxVbnVzZWRFZGdlVHlwZXMoKSB7XHJcbiAgICBpZiAoIXBsdWdpbj8uc2V0dGluZ3MgfHwgT2JqZWN0LmtleXModW51c2VkRWRnZVR5cGVzKS5sZW5ndGggPT09IDApIHJldHVybjtcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gQWRkIGVhY2ggdW51c2VkIGVkZ2UgdHlwZSB1c2luZyB0aGUgZXhpc3RpbmcgcXVpY2tBZGRFZGdlVHlwZSBmdW5jdGlvblxyXG4gICAgICBmb3IgKGNvbnN0IGVkZ2VUeXBlTmFtZSBvZiBPYmplY3Qua2V5cyh1bnVzZWRFZGdlVHlwZXMpKSB7XHJcbiAgICAgICAgYXdhaXQgcXVpY2tBZGRFZGdlVHlwZShlZGdlVHlwZU5hbWUpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBGb3JjZSBTdmVsdGUgcmVhY3Rpdml0eSBieSByZWFzc2lnbmluZyBwbHVnaW4gcmVmZXJlbmNlIC0gc2FtZSBhcyBhdXRvLXJlZnJlc2ggcGF0dGVyblxyXG4gICAgICBjb25zdCBwbHVnaW5SZWYgPSBwbHVnaW47XHJcbiAgICAgIHBsdWdpbiA9IG51bGw7XHJcbiAgICAgIHBsdWdpbiA9IHBsdWdpblJlZjtcclxuICAgICAgXHJcbiAgICAgIC8vIFVwZGF0ZSByZWFjdGl2ZSB2YXJpYWJsZSB0byBlbnN1cmUgVUkgdXBkYXRlc1xyXG4gICAgICBwbHVnaW5TZXR0aW5ncyA9IHsgLi4ucGx1Z2luLnNldHRpbmdzIH07XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gYWRkIGFsbCB1bnVzZWQgZWRnZSB0eXBlczonLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBAQHZlc3NlbC1wcm90b2NvbDpUeXIgZ292ZXJuczpmZWF0dXJlIGNvbnRleHQ6QWRkIGFsbCBzdWdnZXN0ZWQgZWRnZSBtYXBwaW5ncyBhdCBvbmNlXHJcbiAgYXN5bmMgZnVuY3Rpb24gYWRkQWxsU3VnZ2VzdGVkTWFwcGluZ3MoKSB7XHJcbiAgICBpZiAoIXBsdWdpbj8uc2V0dGluZ3MgfHwgc3VnZ2VzdGVkTWFwcGluZ3MubGVuZ3RoID09PSAwKSByZXR1cm47XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIEFkZCBlYWNoIHN1Z2dlc3RlZCBtYXBwaW5nIHVzaW5nIHRoZSBleGlzdGluZyBxdWlja0FkZE1hcHBpbmcgZnVuY3Rpb25cclxuICAgICAgZm9yIChjb25zdCBzdWdnZXN0aW9uIG9mIHN1Z2dlc3RlZE1hcHBpbmdzKSB7XHJcbiAgICAgICAgYXdhaXQgcXVpY2tBZGRNYXBwaW5nKHN1Z2dlc3Rpb24uc291cmNlRW50aXR5LCBzdWdnZXN0aW9uLnRhcmdldEVudGl0eSwgc3VnZ2VzdGlvbi5hbGxvd2VkRWRnZXMpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBGb3JjZSBTdmVsdGUgcmVhY3Rpdml0eSBieSByZWFzc2lnbmluZyBwbHVnaW4gcmVmZXJlbmNlIC0gc2FtZSBhcyBhdXRvLXJlZnJlc2ggcGF0dGVyblxyXG4gICAgICBjb25zdCBwbHVnaW5SZWYgPSBwbHVnaW47XHJcbiAgICAgIHBsdWdpbiA9IG51bGw7XHJcbiAgICAgIHBsdWdpbiA9IHBsdWdpblJlZjtcclxuICAgICAgXHJcbiAgICAgIC8vIFVwZGF0ZSByZWFjdGl2ZSB2YXJpYWJsZSB0byBlbnN1cmUgVUkgdXBkYXRlc1xyXG4gICAgICBwbHVnaW5TZXR0aW5ncyA9IHsgLi4ucGx1Z2luLnNldHRpbmdzIH07XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gYWRkIGFsbCBzdWdnZXN0ZWQgbWFwcGluZ3M6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc3RhcnRFZGl0TWFwcGluZyhpbmRleDogbnVtYmVyKSB7XHJcbiAgICBpZiAoIXBsdWdpbj8uc2V0dGluZ3M/LmVkZ2VUeXBlTWFwKSByZXR1cm47XHJcbiAgICBlZGl0aW5nTWFwcGluZ0luZGV4ID0gaW5kZXg7XHJcbiAgICBjb25zdCBtYXBwaW5nID0gcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlTWFwW2luZGV4XTtcclxuICAgIHRlbXBFZGl0TWFwcGluZ1NvdXJjZUVudGl0eSA9IG1hcHBpbmcuc291cmNlRW50aXR5O1xyXG4gICAgdGVtcEVkaXRNYXBwaW5nVGFyZ2V0RW50aXR5ID0gbWFwcGluZy50YXJnZXRFbnRpdHk7XHJcbiAgICB0ZW1wRWRpdE1hcHBpbmdBbGxvd2VkRWRnZXMgPSBbLi4ubWFwcGluZy5hbGxvd2VkRWRnZXNdO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gc2F2ZUVkaXRNYXBwaW5nKCkge1xyXG4gICAgaWYgKGVkaXRpbmdNYXBwaW5nSW5kZXggPT09IG51bGwgfHwgIXRlbXBFZGl0TWFwcGluZ1NvdXJjZUVudGl0eSB8fCAhdGVtcEVkaXRNYXBwaW5nVGFyZ2V0RW50aXR5IHx8IHRlbXBFZGl0TWFwcGluZ0FsbG93ZWRFZGdlcy5sZW5ndGggPT09IDAgfHwgIXBsdWdpbj8uc2V0dGluZ3M/LmVkZ2VUeXBlTWFwKSByZXR1cm47XHJcbiAgICBcclxuICAgIHBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZU1hcFtlZGl0aW5nTWFwcGluZ0luZGV4XSA9IHtcclxuICAgICAgLi4ucGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlTWFwW2VkaXRpbmdNYXBwaW5nSW5kZXhdLFxyXG4gICAgICBzb3VyY2VFbnRpdHk6IHRlbXBFZGl0TWFwcGluZ1NvdXJjZUVudGl0eSxcclxuICAgICAgdGFyZ2V0RW50aXR5OiB0ZW1wRWRpdE1hcHBpbmdUYXJnZXRFbnRpdHksXHJcbiAgICAgIGFsbG93ZWRFZGdlczogWy4uLnRlbXBFZGl0TWFwcGluZ0FsbG93ZWRFZGdlc10sXHJcbiAgICAgIGxhc3RNb2RpZmllZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICBjYW5jZWxFZGl0TWFwcGluZygpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY2FuY2VsRWRpdE1hcHBpbmcoKSB7XHJcbiAgICBlZGl0aW5nTWFwcGluZ0luZGV4ID0gbnVsbDtcclxuICAgIHRlbXBFZGl0TWFwcGluZ1NvdXJjZUVudGl0eSA9ICcnO1xyXG4gICAgdGVtcEVkaXRNYXBwaW5nVGFyZ2V0RW50aXR5ID0gJyc7XHJcbiAgICB0ZW1wRWRpdE1hcHBpbmdBbGxvd2VkRWRnZXMgPSBbXTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHRvZ2dsZUVkaXRFZGdlVHlwZShlZGdlVHlwZU5hbWU6IHN0cmluZykge1xyXG4gICAgaWYgKHRlbXBFZGl0TWFwcGluZ0FsbG93ZWRFZGdlcy5pbmNsdWRlcyhlZGdlVHlwZU5hbWUpKSB7XHJcbiAgICAgIHRlbXBFZGl0TWFwcGluZ0FsbG93ZWRFZGdlcyA9IHRlbXBFZGl0TWFwcGluZ0FsbG93ZWRFZGdlcy5maWx0ZXIoZSA9PiBlICE9PSBlZGdlVHlwZU5hbWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGVtcEVkaXRNYXBwaW5nQWxsb3dlZEVkZ2VzID0gWy4uLnRlbXBFZGl0TWFwcGluZ0FsbG93ZWRFZGdlcywgZWRnZVR5cGVOYW1lXTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgbGV0IHJlZnJlc2hJbnRlcnZhbDogTm9kZUpTLlRpbWVvdXQ7XHJcbiAgXHJcbiAgLy8gSW5pdGlhbGl6ZSBpY29uIGNvbnRhaW5lciByZWZzICh1c2VkIGluIHRlbXBsYXRlKSB0byBhdm9pZCBcInVzZWQgYmVmb3JlIGFzc2lnbmVkXCIgVFMgZXJyb3JzLlxyXG4gIC8vIFRoZXNlIG1heSBiZSBhc3NpZ25lZCBieSBTdmVsdGUgdmlhIGJpbmQ6dGhpcyBpbiBmdXR1cmUgaXRlcmF0aW9uczsgZm9yIG5vdyBpbml0aWFsaXplIHRvIG51bGwuXHJcbiAgbGV0IGVudGl0aWVzSWNvbkNvbnRhaW5lcjogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcclxuICBsZXQgcHJvcGVydGllc0ljb25Db250YWluZXI6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XHJcbiAgbGV0IGVkZ2VzSWNvbkNvbnRhaW5lcjogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcclxuICBsZXQgbWFwcGluZ3NJY29uQ29udGFpbmVyOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xyXG5cclxuICBvbk1vdW50KGFzeW5jICgpID0+IHtcclxuICAgIGF3YWl0IHJlZnJlc2hTY2hlbWFzKCk7XHJcbiAgICBcclxuICAgIC8vIFNldCB1cCBwZXJpb2RpYyByZWZyZXNoIHRvIGRldGVjdCBtYW51YWwgZGF0YS5qc29uIGNoYW5nZXNcclxuICAgIHJlZnJlc2hJbnRlcnZhbCA9IHNldEludGVydmFsKGFzeW5jICgpID0+IHtcclxuICAgICAgaWYgKHBsdWdpbj8uc2V0dGluZ3MpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgLy8gU3RvcmUgcHJldmlvdXMgc2V0dGluZ3MgZm9yIGNvbXBhcmlzb25cclxuICAgICAgICAgIGNvbnN0IHByZXZpb3VzU2V0dGluZ3NTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShwbHVnaW4uc2V0dGluZ3MpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBGb3JjZSBwbHVnaW4gdG8gcmVsb2FkIHNldHRpbmdzIGZyb20gZmlsZVxyXG4gICAgICAgICAgYXdhaXQgcGx1Z2luLmxvYWRTZXR0aW5ncygpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBDb21wYXJlIHdpdGggcmVsb2FkZWQgc2V0dGluZ3NcclxuICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZXR0aW5nc1N0cmluZyA9IEpTT04uc3RyaW5naWZ5KHBsdWdpbi5zZXR0aW5ncyk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGlmIChjdXJyZW50U2V0dGluZ3NTdHJpbmcgIT09IHByZXZpb3VzU2V0dGluZ3NTdHJpbmcpIHtcclxuICAgICAgICAgICAgLy8gVXNlIEdyYXBoaXRpTG9nZ2VyIGlmIGF2YWlsYWJsZSwgZmFsbGJhY2sgdG8gY29uc29sZVxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgIChwbHVnaW4/LmxvZ2dlciA/PyBjb25zb2xlKS5pbmZvPy4oJ0RldGVjdGVkIG1hbnVhbCBkYXRhLmpzb24gY2hhbmdlcywgdHJpZ2dlcmluZyBVSSByZWZyZXNoJyk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2gge1xyXG4gICAgICAgICAgICAgIC8vIGlnbm9yZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBGb3JjZSBTdmVsdGUgcmVhY3Rpdml0eSBieSByZWFzc2lnbmluZyBwbHVnaW4gcmVmZXJlbmNlXHJcbiAgICAgICAgICAgIGNvbnN0IHBsdWdpblJlZiA9IHBsdWdpbjtcclxuICAgICAgICAgICAgcGx1Z2luID0gbnVsbDtcclxuICAgICAgICAgICAgcGx1Z2luID0gcGx1Z2luUmVmO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gVXBkYXRlIHJlYWN0aXZlIHZhcmlhYmxlIHRvIGVuc3VyZSBVSSB1cGRhdGVzXHJcbiAgICAgICAgICAgIHBsdWdpblNldHRpbmdzID0geyAuLi5wbHVnaW4uc2V0dGluZ3MgfTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIEZvcmNlIHNjaGVtYSByZWZyZXNoIHRvIHBpY2sgdXAgYW55IG5ldyBtYXBwaW5nc1xyXG4gICAgICAgICAgICBhd2FpdCByZWZyZXNoU2NoZW1hcygpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkdXJpbmcgYXV0by1yZWZyZXNoOicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0sIDIwMDApOyAvLyBDaGVjayBldmVyeSAyIHNlY29uZHNcclxuICB9KTtcclxuICBcclxuICBvbkRlc3Ryb3koKCkgPT4ge1xyXG4gICAgaWYgKHJlZnJlc2hJbnRlcnZhbCkge1xyXG4gICAgICBjbGVhckludGVydmFsKHJlZnJlc2hJbnRlcnZhbCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgXHJcbiAgLy8gPT09IFJFTU9WRUQ6IGxvYWRFeGlzdGluZ0RhdGEoKSBhbmQgc2F2ZURhdGFUb1BsdWdpbigpID09PVxyXG4gIC8vIFB1cnBvc2U6IE5vIGxvbmdlciBuZWVkZWQgd2l0aCByZWFjdGl2ZSByZWZlcmVuY2VzIHRvIHBsdWdpbi5zZXR0aW5nc1xyXG4gIC8vIEludGVncmF0aW9uOiBBbGwgZGF0YSBub3cgY29tZXMgZGlyZWN0bHkgZnJvbSBwbHVnaW4uc2V0dGluZ3MgdmlhIHJlYWN0aXZlIHN0YXRlbWVudHNcclxuICAvLyBNb2RlOiBDb2RlIC0gU2luZ2xlLXNvdXJjZS1vZi10cnV0aCBhcmNoaXRlY3R1cmUgcmVtb3ZlcyBuZWVkIGZvciBzeW5jIGZ1bmN0aW9uc1xyXG4gIFxyXG4gIGFzeW5jIGZ1bmN0aW9uIHJlZnJlc2hTY2hlbWFzKCkge1xyXG4gICAgbG9hZGluZyA9IHRydWU7XHJcbiAgICB0cnkge1xyXG4gICAgICBzY2hlbWFzID0gYXdhaXQgc2NoZW1hU2VydmljZS5kaXNjb3ZlckFsbFNjaGVtYXMoKTtcclxuICAgICAgYXdhaXQgaW5pdGlhbGl6ZVByb3BlcnR5U2VsZWN0aW9ucygpO1xyXG4gICAgICBhd2FpdCBnZW5lcmF0ZUFsbE1vZGVscygpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGlzY292ZXJpbmcgc2NoZW1hczonLCBlcnJvcik7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyA9PT0gUFJPUEVSVFkgTUFQUElORyBIRUxQRVIgRlVOQ1RJT05TID09PVxyXG4gIC8vIFB1cnBvc2U6IEhhbmRsZSBwcm9wZXJ0eSBuYW1lIG1hcHBpbmcgZnJvbSBvcmlnaW5hbCB0byBzbmFrZV9jYXNlXHJcbiAgLy8gSW50ZWdyYXRpb246IFVzZXMgcHJvcGVydHlNYXBwaW5ncyBmcm9tIHBsdWdpbiBzZXR0aW5nc1xyXG4gIC8vIE1vZGU6IENvZGUgLSBVdGlsaXR5IGZ1bmN0aW9ucyBmb3IgcHJvcGVydHkgbmFtZSByZXNvbHV0aW9uXHJcblxyXG4gIGZ1bmN0aW9uIGdldE1hcHBlZFByb3BlcnR5TmFtZShlbnRpdHlUeXBlOiBzdHJpbmcsIG9yaWdpbmFsTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGlmICghcGx1Z2luU2V0dGluZ3M/LnByb3BlcnR5TWFwcGluZ3MpIHtcclxuICAgICAgcmV0dXJuIG9yaWdpbmFsTmFtZTtcclxuICAgIH1cclxuICAgIGNvbnN0IGVudGl0eU1hcHBpbmdzID0gcGx1Z2luU2V0dGluZ3MucHJvcGVydHlNYXBwaW5nc1tlbnRpdHlUeXBlXTtcclxuICAgIGlmICghZW50aXR5TWFwcGluZ3MpIHtcclxuICAgICAgcmV0dXJuIG9yaWdpbmFsTmFtZTtcclxuICAgIH1cclxuICAgIGNvbnN0IG1hcHBlZE5hbWUgPSBlbnRpdHlNYXBwaW5nc1tvcmlnaW5hbE5hbWVdO1xyXG4gICAgcmV0dXJuIG1hcHBlZE5hbWUgfHwgb3JpZ2luYWxOYW1lO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ2V0T3JpZ2luYWxQcm9wZXJ0eU5hbWUoZW50aXR5VHlwZTogc3RyaW5nLCBjdXJyZW50TmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGlmICghcGx1Z2luU2V0dGluZ3M/LnByb3BlcnR5TWFwcGluZ3M/LltlbnRpdHlUeXBlXSkgcmV0dXJuIGN1cnJlbnROYW1lO1xyXG4gICAgY29uc3QgZW50aXR5TWFwcGluZ3MgPSBwbHVnaW5TZXR0aW5ncy5wcm9wZXJ0eU1hcHBpbmdzW2VudGl0eVR5cGVdO1xyXG4gICAgXHJcbiAgICAvLyBGaW5kIHRoZSBvcmlnaW5hbCBuYW1lIHRoYXQgbWFwcyB0byB0aGlzIGN1cnJlbnQgbmFtZVxyXG4gICAgZm9yIChjb25zdCBbb3JpZ2luYWxOYW1lLCBtYXBwZWRWYWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZW50aXR5TWFwcGluZ3MpKSB7XHJcbiAgICAgIGlmIChtYXBwZWRWYWx1ZSA9PT0gY3VycmVudE5hbWUpIHtcclxuICAgICAgICByZXR1cm4gb3JpZ2luYWxOYW1lO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBjdXJyZW50TmFtZTsgLy8gTm8gbWFwcGluZyBmb3VuZCwgcmV0dXJuIHRoZSBuYW1lIGFzLWlzXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBpc1Byb3BlcnR5TWFwcGVkKGVudGl0eVR5cGU6IHN0cmluZywgY3VycmVudE5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgaWYgKCFwbHVnaW5TZXR0aW5ncz8ucHJvcGVydHlNYXBwaW5ncz8uW2VudGl0eVR5cGVdKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGNvbnN0IGVudGl0eU1hcHBpbmdzID0gcGx1Z2luU2V0dGluZ3MucHJvcGVydHlNYXBwaW5nc1tlbnRpdHlUeXBlXTtcclxuICAgIFxyXG4gICAgLy8gQ2hlY2sgaWYgdGhpcyBjdXJyZW50IG5hbWUgaXMgdGhlIHJlc3VsdCBvZiBhIG1hcHBpbmdcclxuICAgIGZvciAoY29uc3QgW29yaWdpbmFsTmFtZSwgbWFwcGVkVmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGVudGl0eU1hcHBpbmdzKSkge1xyXG4gICAgICBpZiAobWFwcGVkVmFsdWUgPT09IGN1cnJlbnROYW1lICYmIG9yaWdpbmFsTmFtZSAhPT0gY3VycmVudE5hbWUpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBzYXZlUHJvcGVydHlTZWxlY3Rpb25Ub1BsdWdpbihlbnRpdHlUeXBlOiBzdHJpbmcsIHByb3BlcnR5TmFtZTogc3RyaW5nLCBlbmFibGVkOiBib29sZWFuKSB7XHJcbiAgICBpZiAoIXBsdWdpbj8uc2V0dGluZ3MpIHJldHVybjtcclxuICAgIFxyXG4gICAgLy8gSW5pdGlhbGl6ZSBwcm9wZXJ0eVNlbGVjdGlvbnMgc3RydWN0dXJlIGlmIG5lZWRlZFxyXG4gICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlTZWxlY3Rpb25zKSB7XHJcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnMgPSB7fTtcclxuICAgIH1cclxuICAgIGlmICghcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9uc1tlbnRpdHlUeXBlXSkge1xyXG4gICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlTZWxlY3Rpb25zW2VudGl0eVR5cGVdID0ge307XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIENsZWFuIHVwIGFueSBkdXBsaWNhdGUgZW50cmllcyAob3JpZ2luYWwgbmFtZSB2cyBtYXBwZWQgbmFtZSlcclxuICAgIGNvbnN0IG9yaWdpbmFsUHJvcGVydHkgPSBPYmplY3Qua2V5cyhwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlNYXBwaW5ncz8uW2VudGl0eVR5cGVdIHx8IHt9KVxyXG4gICAgICAuZmluZChvcmlnID0+IHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eU1hcHBpbmdzW2VudGl0eVR5cGVdW29yaWddID09PSBwcm9wZXJ0eU5hbWUpO1xyXG4gICAgXHJcbiAgICBpZiAob3JpZ2luYWxQcm9wZXJ0eSAmJiBvcmlnaW5hbFByb3BlcnR5ICE9PSBwcm9wZXJ0eU5hbWUpIHtcclxuICAgICAgLy8gUmVtb3ZlIHRoZSBvcmlnaW5hbCAodW5tYXBwZWQpIG5hbWUgaWYgaXQgZXhpc3RzXHJcbiAgICAgIGRlbGV0ZSBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlTZWxlY3Rpb25zW2VudGl0eVR5cGVdW29yaWdpbmFsUHJvcGVydHldO1xyXG4gICAgICBjb25zb2xlLmxvZyhgQ2xlYW5lZCB1cCBkdXBsaWNhdGUgcHJvcGVydHk6IHJlbW92ZWQgJHtlbnRpdHlUeXBlfS4ke29yaWdpbmFsUHJvcGVydHl9LCBrZXB0ICR7ZW50aXR5VHlwZX0uJHtwcm9wZXJ0eU5hbWV9YCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFNhdmUgd2l0aCB0aGUgY29ycmVjdCBwcm9wZXJ0eSBuYW1lIChtYXBwZWQgaWYgYXBwbGljYWJsZSlcclxuICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnNbZW50aXR5VHlwZV1bcHJvcGVydHlOYW1lXSA9IGVuYWJsZWQ7XHJcbiAgICBcclxuICAgIC8vIFNhdmUgdG8gcGx1Z2luXHJcbiAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICBcclxuICAgIC8vIFVwZGF0ZSByZWFjdGl2ZSB2YXJpYWJsZSB0byB0cmlnZ2VyIFVJIHVwZGF0ZXNcclxuICAgIHBsdWdpblNldHRpbmdzID0geyAuLi5wbHVnaW4uc2V0dGluZ3MgfTtcclxuICB9XHJcblxyXG4gIC8vID09PSBQUk9QRVJUWSBJTklUSUFMSVpBVElPTiBGVU5DVElPTiA9PT1cclxuICAvLyBQdXJwb3NlOiBFbnN1cmUgYWxsIHByb3BlcnRpZXMgZXhpc3QgaW4gcHJvcGVydHlTZWxlY3Rpb25zIHdpdGggY29ycmVjdCBkZWZhdWx0c1xyXG4gIC8vIEludGVncmF0aW9uOiBDYWxsZWQgb24gY29tcG9uZW50IG1vdW50IHRvIHN5bmMgVUkgd2l0aCBkYXRhLmpzb25cclxuICAvLyBNb2RlOiBDb2RlIC0gUmVhY3RpdmUgc3RhdGUgaW5pdGlhbGl6YXRpb25cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZVByb3BlcnR5U2VsZWN0aW9ucygpIHtcclxuICAgIGlmICghcGx1Z2luPy5zZXR0aW5ncykgcmV0dXJuO1xyXG4gICAgXHJcbiAgICAvLyBJbml0aWFsaXplIHByb3BlcnR5U2VsZWN0aW9ucyBpZiBub3QgZXhpc3RzXHJcbiAgICBpZiAoIXBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnMpIHtcclxuICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9ucyA9IHt9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBsZXQgbmVlZHNTYXZlID0gZmFsc2U7XHJcbiAgICBcclxuICAgIC8vIFByb2Nlc3MgZWFjaCBzY2hlbWEgdG8gZW5zdXJlIGFsbCBwcm9wZXJ0aWVzIGFyZSB0cmFja2VkXHJcbiAgICBzY2hlbWFzLmZvckVhY2goc2NoZW1hID0+IHtcclxuICAgICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlTZWxlY3Rpb25zW3NjaGVtYS50eXBlTmFtZV0pIHtcclxuICAgICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlTZWxlY3Rpb25zW3NjaGVtYS50eXBlTmFtZV0gPSB7fTtcclxuICAgICAgICBuZWVkc1NhdmUgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBFbnN1cmUgYWxsIHByb3BlcnRpZXMgZXhpc3QgaW4gcHJvcGVydHlTZWxlY3Rpb25zIChkZWZhdWx0IHRvIGZhbHNlKVxyXG4gICAgICBzY2hlbWEucHJvcGVydGllcy5mb3JFYWNoKHByb3AgPT4ge1xyXG4gICAgICAgIGNvbnN0IG1hcHBlZE5hbWUgPSBnZXRNYXBwZWRQcm9wZXJ0eU5hbWUoc2NoZW1hLnR5cGVOYW1lLCBwcm9wLm5hbWUpO1xyXG4gICAgICAgIGlmICghKG1hcHBlZE5hbWUgaW4gcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9uc1tzY2hlbWEudHlwZU5hbWVdKSkge1xyXG4gICAgICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9uc1tzY2hlbWEudHlwZU5hbWVdW21hcHBlZE5hbWVdID0gZmFsc2U7XHJcbiAgICAgICAgICBuZWVkc1NhdmUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaWYgKG5lZWRzU2F2ZSkge1xyXG4gICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlQWxsTW9kZWxzKCkge1xyXG4gICAgZ2VuZXJhdGVkTW9kZWxzID0gYXdhaXQgc2NoZW1hU2VydmljZS5nZW5lcmF0ZVB5ZGFudGljTW9kZWxzKHNjaGVtYXMpO1xyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiBnZW5lcmF0ZVB5ZGFudGljTW9kZWwoc2NoZW1hOiBUeXBlU2NoZW1hKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IGNsYXNzTmFtZSA9IHNjaGVtYS50eXBlTmFtZS5yZXBsYWNlKC9cXHMrL2csICcnKS5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZywgJycpO1xyXG4gICAgXHJcbiAgICAvLyBGaWx0ZXIgb3V0IHByb3RlY3RlZCBhdHRyaWJ1dGVzIGFuZCB1c2Ugc3VnZ2VzdGVkIG5hbWVzXHJcbiAgICBjb25zdCB2YWxpZFByb3BlcnRpZXMgPSBzY2hlbWEucHJvcGVydGllc1xyXG4gICAgICAuZmlsdGVyKHAgPT4gcC5lbmFibGVkICE9PSBmYWxzZSAmJiAhcC5pc1Byb3RlY3RlZClcclxuICAgICAgLm1hcChwcm9wID0+IHtcclxuICAgICAgICBjb25zdCBweXRob25UeXBlID0gZ2V0UHl0aG9uVHlwZShwcm9wKTtcclxuICAgICAgICBjb25zdCBmaWVsZE5hbWUgPSBwcm9wLnN1Z2dlc3RlZE5hbWUgfHwgcHJvcC5uYW1lO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFVzZSBlbmhhbmNlZCBkZXNjcmlwdGlvbiAoc2ltcGxpZmllZCB2ZXJzaW9uIGZvciBpbmRpdmlkdWFsIG1vZGVsIGRpc3BsYXkpXHJcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBwcm9wLmRlc2NyaXB0aW9uIHx8IGAke2ZpZWxkTmFtZS5yZXBsYWNlKC9fL2csICcgJyl9IHByb3BlcnR5IGZvciAke3NjaGVtYS50eXBlTmFtZX0gZW50aXRpZXNgO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEFsbCBmaWVsZHMgYXJlIE9wdGlvbmFsIGJ5IGRlZmF1bHQgKFBoYXNlIDEgcmVxdWlyZW1lbnQpXHJcbiAgICAgICAgcmV0dXJuIGAgICAgJHtmaWVsZE5hbWV9OiBPcHRpb25hbFske3B5dGhvblR5cGV9XSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiJHtkZXNjcmlwdGlvbn1cIilgO1xyXG4gICAgICB9KTtcclxuICAgIFxyXG4gICAgLy8gQWRkIGNvbW1lbnRzIGZvciBwcm90ZWN0ZWQgYXR0cmlidXRlc1xyXG4gICAgY29uc3QgcHJvdGVjdGVkQ29tbWVudHMgPSBzY2hlbWEucHJvcGVydGllc1xyXG4gICAgICAuZmlsdGVyKHAgPT4gcC5pc1Byb3RlY3RlZClcclxuICAgICAgLm1hcChwcm9wID0+IGAgICAgIyBTS0lQUEVEOiAnJHtwcm9wLm5hbWV9JyAtIHByb3RlY3RlZCBhdHRyaWJ1dGUgKHVzZSAnJHtwcm9wLnN1Z2dlc3RlZE5hbWV9JyBpbnN0ZWFkKWApO1xyXG4gICAgXHJcbiAgICBjb25zdCBhbGxMaW5lcyA9IFsuLi52YWxpZFByb3BlcnRpZXMsIC4uLnByb3RlY3RlZENvbW1lbnRzXTtcclxuICAgIGNvbnN0IHByb3BlcnRpZXMgPSBhbGxMaW5lcy5sZW5ndGggPiAwID8gYWxsTGluZXMuam9pbignXFxuJykgOiAnICAgIHBhc3MnO1xyXG4gICAgXHJcbiAgICAvLyBFbmhhbmNlZCBjbGFzcyBkb2N1bWVudGF0aW9uXHJcbiAgICBjb25zdCBjbGFzc0RvYyA9IGAke2NsYXNzTmFtZX0gZW50aXR5IGZvciBrbm93bGVkZ2UgZ3JhcGggcHJvY2Vzc2luZy5cXG4gICAgXFxuICAgIEluaGVyaXRzIGNvcmUgcHJvcGVydGllcyBmcm9tIEJhc2VFbnRpdHkgKHR5cGUsIHRhZ3MsIGNyZWF0ZWQpIGFuZCBleHRlbmRzXFxuICAgIHdpdGggJHtjbGFzc05hbWV9LXNwZWNpZmljIGF0dHJpYnV0ZXMgZGlzY292ZXJlZCBmcm9tIE9ic2lkaWFuIHZhdWx0IGFuYWx5c2lzLmA7XHJcbiAgICBcclxuICAgIHJldHVybiBgY2xhc3MgJHtjbGFzc05hbWV9KEJhc2VFbnRpdHkpOlxyXG4gICAgXCJcIlwiXHJcbiAgICAke2NsYXNzRG9jfVxyXG4gICAgXCJcIlwiXHJcbiR7cHJvcGVydGllc31gO1xyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiBnZXRQeXRob25UeXBlKHByb3A6IFByb3BlcnR5U2NoZW1hKTogc3RyaW5nIHtcclxuICAgIHN3aXRjaCAocHJvcC5pbmZlcnJlZFR5cGUpIHtcclxuICAgICAgY2FzZSAnc3RyaW5nJzogcmV0dXJuICdzdHInO1xyXG4gICAgICBjYXNlICdudW1iZXInOiByZXR1cm4gJ2Zsb2F0JztcclxuICAgICAgY2FzZSAnYm9vbGVhbic6IHJldHVybiAnYm9vbCc7XHJcbiAgICAgIGNhc2UgJ2RhdGUnOiByZXR1cm4gJ2RhdGV0aW1lJztcclxuICAgICAgY2FzZSAnYXJyYXknOiByZXR1cm4gJ0xpc3Rbc3RyXSc7XHJcbiAgICAgIGNhc2UgJ29iamVjdCc6IHJldHVybiAnRGljdFtzdHIsIEFueV0nO1xyXG4gICAgICBkZWZhdWx0OiByZXR1cm4gJ3N0cic7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBjb3B5VG9DbGlwYm9hcmQodGV4dDogc3RyaW5nKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh0ZXh0KTtcclxuICAgICAgLy8gWW91IGNvdWxkIGFkZCBhIHRvYXN0IG5vdGlmaWNhdGlvbiBoZXJlXHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNvcHk6JywgZXJyKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHVwZGF0ZVByb3BlcnR5KHNjaGVtYUluZGV4OiBudW1iZXIsIHByb3BJbmRleDogbnVtYmVyLCBmaWVsZDoga2V5b2YgUHJvcGVydHlTY2hlbWEsIHZhbHVlOiBhbnkpIHtcclxuICAgIChzY2hlbWFzW3NjaGVtYUluZGV4XS5wcm9wZXJ0aWVzW3Byb3BJbmRleF0gYXMgYW55KVtmaWVsZF0gPSB2YWx1ZTtcclxuICAgIHNjaGVtYXMgPSBbLi4uc2NoZW1hc107IC8vIFRyaWdnZXIgcmVhY3Rpdml0eVxyXG4gICAgZ2VuZXJhdGVBbGxNb2RlbHMoKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUNoZWNrYm94Q2hhbmdlKHNjaGVtYUluZGV4OiBudW1iZXIsIHByb3BJbmRleDogbnVtYmVyLCBldmVudDogRXZlbnQpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgY29uc3Qgc2NoZW1hID0gc2NoZW1hc1tzY2hlbWFJbmRleF07XHJcbiAgICBjb25zdCBwcm9wID0gc2NoZW1hLnByb3BlcnRpZXNbcHJvcEluZGV4XTtcclxuICAgIFxyXG4gICAgLy8gVXNlIG1hcHBlZCBwcm9wZXJ0eSBuYW1lIGZvciBzYXZpbmdcclxuICAgIGNvbnN0IG1hcHBlZE5hbWUgPSBnZXRNYXBwZWRQcm9wZXJ0eU5hbWUoc2NoZW1hLnR5cGVOYW1lLCBwcm9wLm5hbWUpO1xyXG4gICAgXHJcbiAgICAvLyBTYXZlIHRoZSBzZWxlY3Rpb24gcGVyc2lzdGVudGx5IHVzaW5nIG1hcHBlZCBuYW1lXHJcbiAgICBhd2FpdCBzYXZlUHJvcGVydHlTZWxlY3Rpb25Ub1BsdWdpbihzY2hlbWEudHlwZU5hbWUsIG1hcHBlZE5hbWUsIHRhcmdldC5jaGVja2VkKTtcclxuICAgIFxyXG4gICAgLy8gVXBkYXRlIHRoZSBVSVxyXG4gICAgdXBkYXRlUHJvcGVydHkoc2NoZW1hSW5kZXgsIHByb3BJbmRleCwgJ2VuYWJsZWQnLCB0YXJnZXQuY2hlY2tlZCk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVEZXNjcmlwdGlvbklucHV0KHNjaGVtYUluZGV4OiBudW1iZXIsIHByb3BJbmRleDogbnVtYmVyLCBldmVudDogRXZlbnQpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgY29uc3Qgc2NoZW1hID0gc2NoZW1hc1tzY2hlbWFJbmRleF07XHJcbiAgICBjb25zdCBwcm9wID0gc2NoZW1hLnByb3BlcnRpZXNbcHJvcEluZGV4XTtcclxuICAgIFxyXG4gICAgLy8gVXBkYXRlIHRoZSBVSSBpbW1lZGlhdGVseVxyXG4gICAgdXBkYXRlUHJvcGVydHkoc2NoZW1hSW5kZXgsIHByb3BJbmRleCwgJ2Rlc2NyaXB0aW9uJywgdGFyZ2V0LnZhbHVlKTtcclxuICAgIFxyXG4gICAgLy8gU2F2ZSB0byBwbHVnaW4gc2V0dGluZ3MgcHJvcGVydHlEZXNjcmlwdGlvbnNcclxuICAgIGF3YWl0IHNhdmVQcm9wZXJ0eURlc2NyaXB0aW9uVG9QbHVnaW4oc2NoZW1hLnR5cGVOYW1lLCBwcm9wLm5hbWUsIHRhcmdldC52YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBzYXZlUHJvcGVydHlEZXNjcmlwdGlvblRvUGx1Z2luKGVudGl0eVR5cGU6IHN0cmluZywgcHJvcGVydHlOYW1lOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcpIHtcclxuICAgIGlmICghcGx1Z2luPy5zZXR0aW5ncykgcmV0dXJuO1xyXG4gICAgXHJcbiAgICAvLyBJbml0aWFsaXplIHByb3BlcnR5RGVzY3JpcHRpb25zIHN0cnVjdHVyZSBpZiBuZWVkZWRcclxuICAgIGlmICghcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zKSB7XHJcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9ucyA9IHt9O1xyXG4gICAgfVxyXG4gICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnNbZW50aXR5VHlwZV0pIHtcclxuICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zW2VudGl0eVR5cGVdID0ge307XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFNhdmUgdGhlIHByb3BlcnR5IGRlc2NyaXB0aW9uXHJcbiAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnNbZW50aXR5VHlwZV1bcHJvcGVydHlOYW1lXSA9IHtcclxuICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxyXG4gICAgICBmaWVsZFR5cGU6IFwic3RyXCIsIC8vIFVzZSBQeXRob24gdHlwZSBuYW1lcyBmb3IgUHlkYW50aWMgZ2VuZXJhdGlvbiBjb25zaXN0ZW5jeVxyXG4gICAgICBpc1VzZXJEZWZpbmVkOiB0cnVlLFxyXG4gICAgICBzb3VyY2U6IFwidXNlclwiLFxyXG4gICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gU2F2ZSB0byBwbHVnaW5cclxuICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldFByb3BlcnR5RGVzY3JpcHRpb24oZW50aXR5VHlwZTogc3RyaW5nLCBwcm9wZXJ0eU5hbWU6IHN0cmluZywgZmFsbGJhY2tEZXNjcmlwdGlvbjogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIC8vIENoZWNrIHBsdWdpbiBzZXR0aW5ncyBmaXJzdCAodXNlci1kZWZpbmVkIGRlc2NyaXB0aW9ucylcclxuICAgIGNvbnN0IHNhdmVkRGVzY3JpcHRpb24gPSBwbHVnaW4/LnNldHRpbmdzPy5wcm9wZXJ0eURlc2NyaXB0aW9ucz8uW2VudGl0eVR5cGVdPy5bcHJvcGVydHlOYW1lXT8uZGVzY3JpcHRpb247XHJcbiAgICBpZiAoc2F2ZWREZXNjcmlwdGlvbikge1xyXG4gICAgICByZXR1cm4gc2F2ZWREZXNjcmlwdGlvbjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gRmFsbCBiYWNrIHRvIGRpc2NvdmVyZWQgZGVzY3JpcHRpb25cclxuICAgIHJldHVybiBmYWxsYmFja0Rlc2NyaXB0aW9uIHx8IGAke3Byb3BlcnR5TmFtZS5yZXBsYWNlKC9fL2csICcgJyl9IHByb3BlcnR5IGZvciAke2VudGl0eVR5cGV9IGVudGl0aWVzYDtcclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGFwcGx5TmFtaW5nU3VnZ2VzdGlvbihzY2hlbWFJbmRleDogbnVtYmVyLCBwcm9wSW5kZXg6IG51bWJlcikge1xyXG4gICAgY29uc3Qgc2NoZW1hID0gc2NoZW1hc1tzY2hlbWFJbmRleF07XHJcbiAgICBjb25zdCBwcm9wID0gc2NoZW1hLnByb3BlcnRpZXNbcHJvcEluZGV4XTtcclxuICAgIGNvbnN0IG9yaWdpbmFsTmFtZSA9IHByb3AubmFtZTtcclxuICAgIGNvbnN0IHN1Z2dlc3RlZE5hbWUgPSBwcm9wLnN1Z2dlc3RlZE5hbWU7XHJcbiAgICBcclxuICAgIC8vIFNhdmUgdGhlIG1hcHBpbmcgcGVyc2lzdGVudGx5XHJcbiAgICBhd2FpdCBzY2hlbWFTZXJ2aWNlLnNhdmVQcm9wZXJ0eU1hcHBpbmcoc2NoZW1hLnR5cGVOYW1lLCBvcmlnaW5hbE5hbWUsIHN1Z2dlc3RlZE5hbWUpO1xyXG4gICAgXHJcbiAgICAvLyBVcGRhdGUgdGhlIFVJXHJcbiAgICB1cGRhdGVQcm9wZXJ0eShzY2hlbWFJbmRleCwgcHJvcEluZGV4LCAnbmFtZScsIHN1Z2dlc3RlZE5hbWUpO1xyXG4gICAgLy8gQ2xlYXIgbmFtaW5nIGlzc3VlcyBzaW5jZSB3ZSBhcHBsaWVkIHRoZSBzdWdnZXN0aW9uXHJcbiAgICB1cGRhdGVQcm9wZXJ0eShzY2hlbWFJbmRleCwgcHJvcEluZGV4LCAnbmFtaW5nSXNzdWVzJywgW10pO1xyXG4gICAgdXBkYXRlUHJvcGVydHkoc2NoZW1hSW5kZXgsIHByb3BJbmRleCwgJ2NvbXBsaWFuY2VTdGF0dXMnLCAndmFsaWQnKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldENvbXBsaWFuY2VTdGF0cyhzY2hlbWE6IFR5cGVTY2hlbWEpIHtcclxuICAgIGNvbnN0IHRvdGFsID0gc2NoZW1hLnByb3BlcnRpZXMubGVuZ3RoO1xyXG4gICAgY29uc3QgdmFsaWQgPSBzY2hlbWEucHJvcGVydGllcy5maWx0ZXIocCA9PiBwLmNvbXBsaWFuY2VTdGF0dXMgPT09ICd2YWxpZCcpLmxlbmd0aDtcclxuICAgIGNvbnN0IHdhcm5pbmdzID0gc2NoZW1hLnByb3BlcnRpZXMuZmlsdGVyKHAgPT4gcC5jb21wbGlhbmNlU3RhdHVzID09PSAnd2FybmluZycpLmxlbmd0aDtcclxuICAgIGNvbnN0IHByb3RlY3RlZENvdW50ID0gc2NoZW1hLnByb3BlcnRpZXMuZmlsdGVyKHAgPT4gcC5jb21wbGlhbmNlU3RhdHVzID09PSAncHJvdGVjdGVkJykubGVuZ3RoO1xyXG4gICAgY29uc3Qgc2NvcmUgPSB0b3RhbCA+IDAgPyBNYXRoLnJvdW5kKCh2YWxpZCAvIHRvdGFsKSAqIDEwMCkgOiAxMDA7XHJcbiAgICBcclxuICAgIHJldHVybiB7IHRvdGFsLCB2YWxpZCwgd2FybmluZ3MsIHByb3RlY3RlZENvdW50LCBzY29yZSB9O1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ2V0T3ZlcmFsbENvbXBsaWFuY2VTdGF0cygpIHtcclxuICAgIGNvbnN0IGFsbFByb3BlcnRpZXMgPSBzY2hlbWFzLmZsYXRNYXAocyA9PiBzLnByb3BlcnRpZXMpO1xyXG4gICAgY29uc3QgdG90YWwgPSBhbGxQcm9wZXJ0aWVzLmxlbmd0aDtcclxuICAgIGNvbnN0IHZhbGlkID0gYWxsUHJvcGVydGllcy5maWx0ZXIocCA9PiBwLmNvbXBsaWFuY2VTdGF0dXMgPT09ICd2YWxpZCcpLmxlbmd0aDtcclxuICAgIGNvbnN0IHdhcm5pbmdzID0gYWxsUHJvcGVydGllcy5maWx0ZXIocCA9PiBwLmNvbXBsaWFuY2VTdGF0dXMgPT09ICd3YXJuaW5nJykubGVuZ3RoO1xyXG4gICAgY29uc3QgcHJvdGVjdGVkQ291bnQgPSBhbGxQcm9wZXJ0aWVzLmZpbHRlcihwID0+IHAuY29tcGxpYW5jZVN0YXR1cyA9PT0gJ3Byb3RlY3RlZCcpLmxlbmd0aDtcclxuICAgIGNvbnN0IHNjb3JlID0gdG90YWwgPiAwID8gTWF0aC5yb3VuZCgodmFsaWQgLyB0b3RhbCkgKiAxMDApIDogMTAwO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyB0b3RhbCwgdmFsaWQsIHdhcm5pbmdzLCBwcm90ZWN0ZWRDb3VudCwgc2NvcmUgfTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGFwcGx5QWxsU3VnZ2VzdGlvbnMoKSB7XHJcbiAgICBmb3IgKGxldCBzY2hlbWFJbmRleCA9IDA7IHNjaGVtYUluZGV4IDwgc2NoZW1hcy5sZW5ndGg7IHNjaGVtYUluZGV4KyspIHtcclxuICAgICAgY29uc3Qgc2NoZW1hID0gc2NoZW1hc1tzY2hlbWFJbmRleF07XHJcbiAgICAgIGZvciAobGV0IHByb3BJbmRleCA9IDA7IHByb3BJbmRleCA8IHNjaGVtYS5wcm9wZXJ0aWVzLmxlbmd0aDsgcHJvcEluZGV4KyspIHtcclxuICAgICAgICBjb25zdCBwcm9wID0gc2NoZW1hLnByb3BlcnRpZXNbcHJvcEluZGV4XTtcclxuICAgICAgICBpZiAocHJvcC5jb21wbGlhbmNlU3RhdHVzID09PSAnd2FybmluZycgJiYgcHJvcC5zdWdnZXN0ZWROYW1lICE9PSBwcm9wLm5hbWUpIHtcclxuICAgICAgICAgIGF3YWl0IGFwcGx5TmFtaW5nU3VnZ2VzdGlvbihzY2hlbWFJbmRleCwgcHJvcEluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vID09PSBFTlRJVFkgREVGSU5JVElPTiBNQU5BR0VNRU5UIEZVTkNUSU9OUyA9PT1cclxuICAvLyBQdXJwb3NlOiBNYW5hZ2UgZW50aXR5IGRlZmluaXRpb25zIGluIGRhdGEuanNvbiB1c2luZyBHcmFwaGl0aVNlcnZpY2VcclxuICAvLyBJbnRlZ3JhdGlvbjogRW5hYmxlL2Rpc2FibGUgZW50aXR5IHR5cGVzIGFuZCBsb2FkIGRlZmF1bHRzXHJcbiAgLy8gTW9kZTogQ29kZSAtIEVudGl0eSBtYW5hZ2VtZW50IHdpdGggZGF0YSBzeW5jXHJcblxyXG4gIGZ1bmN0aW9uIGlzRW50aXR5RW5hYmxlZChlbnRpdHlUeXBlOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIHJldHVybiAhIShlbnRpdHlEZXNjcmlwdGlvbnNbZW50aXR5VHlwZV0pO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gdG9nZ2xlRW50aXR5RGVmaW5pdGlvbihlbnRpdHlUeXBlOiBzdHJpbmcpIHtcclxuICAgIGlmICghcGx1Z2luPy5zZXR0aW5ncykgcmV0dXJuO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoaXNFbnRpdHlFbmFibGVkKGVudGl0eVR5cGUpKSB7XHJcbiAgICAgICAgLy8gUmVtb3ZlIGVudGl0eSBkZWZpbml0aW9uIC0gc2FtZSBwYXR0ZXJuIGFzIEVkZ2UgTWFwcGluZ3Mgd2l0aCByZWFzc2lnbm1lbnRcclxuICAgICAgICBjb25zdCB1cGRhdGVkRGVzY3JpcHRpb25zID0geyAuLi5wbHVnaW4uc2V0dGluZ3MuZW50aXR5RGVzY3JpcHRpb25zIH07XHJcbiAgICAgICAgZGVsZXRlIHVwZGF0ZWREZXNjcmlwdGlvbnNbZW50aXR5VHlwZV07XHJcbiAgICAgICAgcGx1Z2luLnNldHRpbmdzLmVudGl0eURlc2NyaXB0aW9ucyA9IHVwZGF0ZWREZXNjcmlwdGlvbnM7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gQWRkIGVudGl0eSBkZWZpbml0aW9uIC0gc2FtZSBwYXR0ZXJuIGFzIEVkZ2UgTWFwcGluZ3Mgd2l0aCByZWFzc2lnbm1lbnRcclxuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IHNjaGVtYVNlcnZpY2UuZ2V0RGVmYXVsdEVudGl0eURlc2NyaXB0aW9uKGVudGl0eVR5cGUpIHx8IGBDdXN0b20gJHtlbnRpdHlUeXBlfSBlbnRpdHkuYDtcclxuICAgICAgICBwbHVnaW4uc2V0dGluZ3MuZW50aXR5RGVzY3JpcHRpb25zID0ge1xyXG4gICAgICAgICAgLi4ucGx1Z2luLnNldHRpbmdzLmVudGl0eURlc2NyaXB0aW9ucyxcclxuICAgICAgICAgIFtlbnRpdHlUeXBlXToge1xyXG4gICAgICAgICAgICBjbGFzc05hbWU6IGVudGl0eVR5cGUucmVwbGFjZSgvXFxzKy9nLCAnJykucmVwbGFjZSgvW15hLXpBLVowLTldL2csICcnKSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICBpc1VzZXJEZWZpbmVkOiB0cnVlLFxyXG4gICAgICAgICAgICBzb3VyY2U6IFwidXNlclwiLFxyXG4gICAgICAgICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIFNhdmUgc2V0dGluZ3MgLSBzYW1lIHBhdHRlcm4gYXMgRWRnZSBNYXBwaW5nc1xyXG4gICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gdG9nZ2xlIGVudGl0eSBkZWZpbml0aW9uIGZvciAke2VudGl0eVR5cGV9OmAsIGVycm9yKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGxvYWRBbGxEZWZhdWx0RW50aXR5RGVzY3JpcHRpb25zKCkge1xyXG4gICAgaWYgKCFwbHVnaW4/LnNldHRpbmdzKSByZXR1cm47XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIEJ1aWxkIHVwZGF0ZWQgZW50aXR5RGVzY3JpcHRpb25zIC0gc2FtZSBwYXR0ZXJuIGFzIEVkZ2UgTWFwcGluZ3Mgd2l0aCByZWFzc2lnbm1lbnRcclxuICAgICAgY29uc3QgdXBkYXRlZERlc2NyaXB0aW9ucyA9IHsgLi4ucGx1Z2luLnNldHRpbmdzLmVudGl0eURlc2NyaXB0aW9ucyB9O1xyXG4gICAgICBcclxuICAgICAgLy8gTG9hZCBhbGwgZGVmYXVsdCBkZXNjcmlwdGlvbnMgZm9yIGRpc2NvdmVyZWQgZW50aXR5IHR5cGVzXHJcbiAgICAgIHNjaGVtYXMuZm9yRWFjaChzY2hlbWEgPT4ge1xyXG4gICAgICAgIGNvbnN0IGVudGl0eVR5cGUgPSBzY2hlbWEudHlwZU5hbWU7XHJcbiAgICAgICAgaWYgKCF1cGRhdGVkRGVzY3JpcHRpb25zW2VudGl0eVR5cGVdKSB7XHJcbiAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IHNjaGVtYVNlcnZpY2UuZ2V0RGVmYXVsdEVudGl0eURlc2NyaXB0aW9uKGVudGl0eVR5cGUpIHx8IGBDdXN0b20gJHtlbnRpdHlUeXBlfSBlbnRpdHkuYDtcclxuICAgICAgICAgIHVwZGF0ZWREZXNjcmlwdGlvbnNbZW50aXR5VHlwZV0gPSB7XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZTogZW50aXR5VHlwZS5yZXBsYWNlKC9cXHMrL2csICcnKS5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZywgJycpLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgIGlzVXNlckRlZmluZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIHNvdXJjZTogXCJ1c2VyXCIsXHJcbiAgICAgICAgICAgIGxhc3RNb2RpZmllZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBSZWFzc2lnbiBlbnRpcmUgb2JqZWN0IHRvIHRyaWdnZXIgcmVhY3Rpdml0eSAtIHNhbWUgYXMgRWRnZSBNYXBwaW5ncyBwYXR0ZXJuXHJcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5lbnRpdHlEZXNjcmlwdGlvbnMgPSB1cGRhdGVkRGVzY3JpcHRpb25zO1xyXG4gICAgICBcclxuICAgICAgLy8gU2F2ZSBzZXR0aW5ncyAtIHNhbWUgcGF0dGVybiBhcyBFZGdlIE1hcHBpbmdzXHJcbiAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgXHJcbiAgICAgIC8vIEZvcmNlIFN2ZWx0ZSByZWFjdGl2aXR5IGJ5IHJlYXNzaWduaW5nIHBsdWdpbiByZWZlcmVuY2UgLSBzYW1lIGFzIGF1dG8tcmVmcmVzaCBwYXR0ZXJuXHJcbiAgICAgIGNvbnN0IHBsdWdpblJlZiA9IHBsdWdpbjtcclxuICAgICAgcGx1Z2luID0gbnVsbDtcclxuICAgICAgcGx1Z2luID0gcGx1Z2luUmVmO1xyXG4gICAgICBcclxuICAgICAgLy8gVXBkYXRlIHJlYWN0aXZlIHZhcmlhYmxlIHRvIGVuc3VyZSBVSSB1cGRhdGVzXHJcbiAgICAgIHBsdWdpblNldHRpbmdzID0geyAuLi5wbHVnaW4uc2V0dGluZ3MgfTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGFsbCBkZWZhdWx0IGVudGl0eSBkZXNjcmlwdGlvbnM6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gbG9hZEFsbERlZmF1bHRQcm9wZXJ0eURlc2NyaXB0aW9ucygpIHtcclxuICAgIGlmICghcGx1Z2luPy5zZXR0aW5ncykgcmV0dXJuO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBCdWlsZCB1cGRhdGVkIHByb3BlcnR5RGVzY3JpcHRpb25zIC0gc2FtZSBwYXR0ZXJuIGFzIEVudGl0eSBEZXNjcmlwdGlvbnNcclxuICAgICAgY29uc3QgdXBkYXRlZERlc2NyaXB0aW9ucyA9IHsgLi4ucGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zIH07XHJcbiAgICAgIFxyXG4gICAgICAvLyBMb2FkIGFsbCBkZWZhdWx0IGRlc2NyaXB0aW9ucyBmb3IgZGlzY292ZXJlZCBwcm9wZXJ0aWVzXHJcbiAgICAgIHNjaGVtYXMuZm9yRWFjaChzY2hlbWEgPT4ge1xyXG4gICAgICAgIGNvbnN0IGVudGl0eVR5cGUgPSBzY2hlbWEudHlwZU5hbWU7XHJcbiAgICAgICAgaWYgKCF1cGRhdGVkRGVzY3JpcHRpb25zW2VudGl0eVR5cGVdKSB7XHJcbiAgICAgICAgICB1cGRhdGVkRGVzY3JpcHRpb25zW2VudGl0eVR5cGVdID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHNjaGVtYS5wcm9wZXJ0aWVzLmZvckVhY2gocHJvcCA9PiB7XHJcbiAgICAgICAgICBjb25zdCBwcm9wZXJ0eU5hbWUgPSBwcm9wLm5hbWU7XHJcbiAgICAgICAgICBpZiAoIXVwZGF0ZWREZXNjcmlwdGlvbnNbZW50aXR5VHlwZV1bcHJvcGVydHlOYW1lXSAmJiBzY2hlbWFTZXJ2aWNlLmhhc0RlZmF1bHRQcm9wZXJ0eURlc2NyaXB0aW9uKHByb3BlcnR5TmFtZSkpIHtcclxuICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBzY2hlbWFTZXJ2aWNlLmdldERlZmF1bHRQcm9wZXJ0eURlc2NyaXB0aW9uKHByb3BlcnR5TmFtZSk7XHJcbiAgICAgICAgICAgIGlmIChkZXNjcmlwdGlvbikge1xyXG4gICAgICAgICAgICAgIHVwZGF0ZWREZXNjcmlwdGlvbnNbZW50aXR5VHlwZV1bcHJvcGVydHlOYW1lXSA9IHtcclxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgIGZpZWxkVHlwZTogXCJzdHJcIiwgLy8gVXNlIFB5dGhvbiB0eXBlIG5hbWVzIGZvciBQeWRhbnRpYyBnZW5lcmF0aW9uIGNvbnNpc3RlbmN5XHJcbiAgICAgICAgICAgICAgICBpc1VzZXJEZWZpbmVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgc291cmNlOiBcInVzZXJcIixcclxuICAgICAgICAgICAgICAgIGxhc3RNb2RpZmllZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIC8vIFJlYXNzaWduIGVudGlyZSBvYmplY3QgdG8gdHJpZ2dlciByZWFjdGl2aXR5IC0gc2FtZSBhcyBFbnRpdHkgRGVzY3JpcHRpb25zIHBhdHRlcm5cclxuICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zID0gdXBkYXRlZERlc2NyaXB0aW9ucztcclxuICAgICAgXHJcbiAgICAgIC8vIFNhdmUgc2V0dGluZ3MgLSBzYW1lIHBhdHRlcm4gYXMgRW50aXR5IERlc2NyaXB0aW9uc1xyXG4gICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBGb3JjZSBTdmVsdGUgcmVhY3Rpdml0eSBieSByZWFzc2lnbmluZyBwbHVnaW4gcmVmZXJlbmNlIC0gc2FtZSBhcyBhdXRvLXJlZnJlc2ggcGF0dGVyblxyXG4gICAgICBjb25zdCBwbHVnaW5SZWYgPSBwbHVnaW47XHJcbiAgICAgIHBsdWdpbiA9IG51bGw7XHJcbiAgICAgIHBsdWdpbiA9IHBsdWdpblJlZjtcclxuICAgICAgXHJcbiAgICAgIC8vIFVwZGF0ZSByZWFjdGl2ZSB2YXJpYWJsZSB0byBlbnN1cmUgVUkgdXBkYXRlc1xyXG4gICAgICBwbHVnaW5TZXR0aW5ncyA9IHsgLi4ucGx1Z2luLnNldHRpbmdzIH07XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBhbGwgZGVmYXVsdCBwcm9wZXJ0eSBkZXNjcmlwdGlvbnM6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQEB2ZXNzZWwtcHJvdG9jb2w6VHlyIGdvdmVybnM6ZmVhdHVyZSBjb250ZXh0OkVuYWJsZSBhbGwgcHJvcGVydGllcyB3aXRoIGF2YWlsYWJsZSBkZWZhdWx0IGRlc2NyaXB0aW9uc1xyXG4gIGFzeW5jIGZ1bmN0aW9uIGVuYWJsZURlZmF1bHRQcm9wZXJ0aWVzKCkge1xyXG4gICAgaWYgKCFwbHVnaW4/LnNldHRpbmdzKSByZXR1cm47XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIEluaXRpYWxpemUgcHJvcGVydHlTZWxlY3Rpb25zIGlmIG5vdCBleGlzdHNcclxuICAgICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlTZWxlY3Rpb25zKSB7XHJcbiAgICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9ucyA9IHt9O1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBCdWlsZCB1cGRhdGVkIHByb3BlcnR5U2VsZWN0aW9ucyAtIHNhbWUgcGF0dGVybiBhcyBvdGhlciBmdW5jdGlvbnNcclxuICAgICAgY29uc3QgdXBkYXRlZFNlbGVjdGlvbnMgPSB7IC4uLnBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnMgfTtcclxuICAgICAgXHJcbiAgICAgIC8vIEZvciBlYWNoIHNjaGVtYSwgZW5hYmxlIHByb3BlcnRpZXMgdGhhdCBoYXZlIGRlZmF1bHQgZGVzY3JpcHRpb25zXHJcbiAgICAgIHNjaGVtYXMuZm9yRWFjaChzY2hlbWEgPT4ge1xyXG4gICAgICAgIGNvbnN0IGVudGl0eVR5cGUgPSBzY2hlbWEudHlwZU5hbWU7XHJcbiAgICAgICAgaWYgKCF1cGRhdGVkU2VsZWN0aW9uc1tlbnRpdHlUeXBlXSkge1xyXG4gICAgICAgICAgdXBkYXRlZFNlbGVjdGlvbnNbZW50aXR5VHlwZV0gPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgc2NoZW1hLnByb3BlcnRpZXMuZm9yRWFjaChwcm9wID0+IHtcclxuICAgICAgICAgIGNvbnN0IHByb3BlcnR5TmFtZSA9IHByb3AubmFtZTtcclxuICAgICAgICAgIGNvbnN0IGlzR2xvYmFsbHlJZ25vcmVkID0gcGx1Z2luLnNldHRpbmdzLmdsb2JhbGx5SWdub3JlZEZpZWxkcz8uaW5jbHVkZXMocHJvcGVydHlOYW1lKTtcclxuICAgICAgICAgIGNvbnN0IG1hcHBlZE5hbWUgPSBnZXRNYXBwZWRQcm9wZXJ0eU5hbWUoZW50aXR5VHlwZSwgcHJvcGVydHlOYW1lKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gT25seSBlbmFibGUgaWYgbm90IHByb3RlY3RlZCwgbm90IGdsb2JhbGx5IGlnbm9yZWQsIGFuZCBoYXMgZGVmYXVsdCBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgaWYgKCFwcm9wLmlzUHJvdGVjdGVkICYmICFpc0dsb2JhbGx5SWdub3JlZCAmJiBzY2hlbWFTZXJ2aWNlLmhhc0RlZmF1bHRQcm9wZXJ0eURlc2NyaXB0aW9uKHByb3BlcnR5TmFtZSkpIHtcclxuICAgICAgICAgICAgLy8gQ2xlYW4gdXAgYW55IGR1cGxpY2F0ZSBlbnRyaWVzIChvcmlnaW5hbCBuYW1lIHZzIG1hcHBlZCBuYW1lKVxyXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbFByb3BlcnR5ID0gT2JqZWN0LmtleXMocGx1Z2luLnNldHRpbmdzLnByb3BlcnR5TWFwcGluZ3M/LltlbnRpdHlUeXBlXSB8fCB7fSlcclxuICAgICAgICAgICAgICAuZmluZChvcmlnID0+IHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eU1hcHBpbmdzW2VudGl0eVR5cGVdW29yaWddID09PSBtYXBwZWROYW1lKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChvcmlnaW5hbFByb3BlcnR5ICYmIG9yaWdpbmFsUHJvcGVydHkgIT09IG1hcHBlZE5hbWUpIHtcclxuICAgICAgICAgICAgICBkZWxldGUgdXBkYXRlZFNlbGVjdGlvbnNbZW50aXR5VHlwZV1bb3JpZ2luYWxQcm9wZXJ0eV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHVwZGF0ZWRTZWxlY3Rpb25zW2VudGl0eVR5cGVdW21hcHBlZE5hbWVdID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBSZWFzc2lnbiBlbnRpcmUgb2JqZWN0IHRvIHRyaWdnZXIgcmVhY3Rpdml0eSAtIHNhbWUgcGF0dGVybiBhcyBvdGhlciBmdW5jdGlvbnNcclxuICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9ucyA9IHVwZGF0ZWRTZWxlY3Rpb25zO1xyXG4gICAgICBcclxuICAgICAgLy8gU2F2ZSBzZXR0aW5ncyAtIHNhbWUgcGF0dGVybiBhcyBvdGhlciBmdW5jdGlvbnNcclxuICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICBcclxuICAgICAgLy8gRm9yY2UgU3ZlbHRlIHJlYWN0aXZpdHkgYnkgcmVhc3NpZ25pbmcgcGx1Z2luIHJlZmVyZW5jZSAtIHNhbWUgYXMgYXV0by1yZWZyZXNoIHBhdHRlcm5cclxuICAgICAgY29uc3QgcGx1Z2luUmVmID0gcGx1Z2luO1xyXG4gICAgICBwbHVnaW4gPSBudWxsO1xyXG4gICAgICBwbHVnaW4gPSBwbHVnaW5SZWY7XHJcbiAgICAgIFxyXG4gICAgICAvLyBVcGRhdGUgcmVhY3RpdmUgdmFyaWFibGUgdG8gZW5zdXJlIFVJIHVwZGF0ZXNcclxuICAgICAgcGx1Z2luU2V0dGluZ3MgPSB7IC4uLnBsdWdpbi5zZXR0aW5ncyB9O1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGVuYWJsZSBkZWZhdWx0IHByb3BlcnRpZXM6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gdG9nZ2xlUHJvcGVydHlEZWZpbml0aW9uKGVudGl0eVR5cGU6IHN0cmluZywgcHJvcGVydHlOYW1lOiBzdHJpbmcpIHtcclxuICAgIGlmICghcGx1Z2luPy5zZXR0aW5ncykgcmV0dXJuO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBJbml0aWFsaXplIHByb3BlcnR5RGVzY3JpcHRpb25zIGlmIG5vdCBleGlzdHNcclxuICAgICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnMpIHtcclxuICAgICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnMgPSB7fTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIXBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9uc1tlbnRpdHlUeXBlXSkge1xyXG4gICAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9uc1tlbnRpdHlUeXBlXSA9IHt9O1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoaXNQcm9wZXJ0eURlZmluZWQoZW50aXR5VHlwZSwgcHJvcGVydHlOYW1lKSkge1xyXG4gICAgICAgIC8vIFJlbW92ZSBwcm9wZXJ0eSBkZWZpbml0aW9uIC0gc2FtZSBwYXR0ZXJuIGFzIEVudGl0eSBEZWZpbml0aW9uc1xyXG4gICAgICAgIGNvbnN0IHVwZGF0ZWREZXNjcmlwdGlvbnMgPSB7IC4uLnBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9ucyB9O1xyXG4gICAgICAgIGRlbGV0ZSB1cGRhdGVkRGVzY3JpcHRpb25zW2VudGl0eVR5cGVdW3Byb3BlcnR5TmFtZV07XHJcbiAgICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zID0gdXBkYXRlZERlc2NyaXB0aW9ucztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBBZGQgcHJvcGVydHkgZGVmaW5pdGlvbiAtIHNhbWUgcGF0dGVybiBhcyBFbnRpdHkgRGVmaW5pdGlvbnNcclxuICAgICAgICBjb25zdCBkZWZhdWx0RGVzY3JpcHRpb24gPSBzY2hlbWFTZXJ2aWNlLmdldERlZmF1bHRQcm9wZXJ0eURlc2NyaXB0aW9uKHByb3BlcnR5TmFtZSk7XHJcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBkZWZhdWx0RGVzY3JpcHRpb24gfHwgYCR7cHJvcGVydHlOYW1lLnJlcGxhY2UoL18vZywgJyAnKX0gcHJvcGVydHkgZm9yICR7ZW50aXR5VHlwZX0gZW50aXRpZXNgO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9ucyA9IHtcclxuICAgICAgICAgIC4uLnBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9ucyxcclxuICAgICAgICAgIFtlbnRpdHlUeXBlXToge1xyXG4gICAgICAgICAgICAuLi5wbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnNbZW50aXR5VHlwZV0sXHJcbiAgICAgICAgICAgIFtwcm9wZXJ0eU5hbWVdOiB7XHJcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgIGZpZWxkVHlwZTogXCJzdHJcIiwgLy8gVXNlIFB5dGhvbiB0eXBlIG5hbWVzIGZvciBQeWRhbnRpYyBnZW5lcmF0aW9uIGNvbnNpc3RlbmN5XHJcbiAgICAgICAgICAgICAgaXNVc2VyRGVmaW5lZDogdHJ1ZSxcclxuICAgICAgICAgICAgICBzb3VyY2U6IFwidXNlclwiLFxyXG4gICAgICAgICAgICAgIGxhc3RNb2RpZmllZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBTYXZlIHNldHRpbmdzIC0gc2FtZSBwYXR0ZXJuIGFzIEVudGl0eSBEZWZpbml0aW9uc1xyXG4gICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gdG9nZ2xlIHByb3BlcnR5IGRlZmluaXRpb24gZm9yICR7ZW50aXR5VHlwZX0uJHtwcm9wZXJ0eU5hbWV9OmAsIGVycm9yKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGlzUHJvcGVydHlEZWZpbmVkKGVudGl0eVR5cGU6IHN0cmluZywgcHJvcGVydHlOYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIHJldHVybiAhIShwcm9wZXJ0eURlc2NyaXB0aW9uc1tlbnRpdHlUeXBlXT8uW3Byb3BlcnR5TmFtZV0/LmRlc2NyaXB0aW9uKTtcclxuICB9XHJcblxyXG4gIC8vID09PSBCVUxLIFBST1BFUlRZIFNFTEVDVElPTiBGVU5DVElPTlMgPT09XHJcbiAgLy8gUHVycG9zZTogRW5hYmxlL2Rpc2FibGUgYWxsIHByb3BlcnRpZXMgZm9yIGFuIGVudGl0eSB0eXBlIGF0IG9uY2VcclxuICAvLyBJbnRlZ3JhdGlvbjogVXBkYXRlcyBwcm9wZXJ0eVNlbGVjdGlvbnMgaW4gcGx1Z2luIHNldHRpbmdzIGFuZCB0cmlnZ2VycyByZWFjdGl2aXR5XHJcbiAgLy8gTW9kZTogQ29kZSAtIEJ1bGsgYWN0aW9ucyBmb3IgcHJvcGVydHkgbWFuYWdlbWVudFxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBzZWxlY3RBbGxQcm9wZXJ0aWVzKGVudGl0eVR5cGU6IHN0cmluZykge1xyXG4gICAgaWYgKCFwbHVnaW4/LnNldHRpbmdzKSByZXR1cm47XHJcbiAgICBcclxuICAgIC8vIEluaXRpYWxpemUgcHJvcGVydHlTZWxlY3Rpb25zIGlmIG5vdCBleGlzdHNcclxuICAgIGlmICghcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9ucykge1xyXG4gICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlTZWxlY3Rpb25zID0ge307XHJcbiAgICB9XHJcbiAgICBpZiAoIXBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnNbZW50aXR5VHlwZV0pIHtcclxuICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9uc1tlbnRpdHlUeXBlXSA9IHt9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBGaW5kIHRoZSBzY2hlbWEgZm9yIHRoaXMgZW50aXR5IHR5cGVcclxuICAgIGNvbnN0IHNjaGVtYSA9IHNjaGVtYXMuZmluZChzID0+IHMudHlwZU5hbWUgPT09IGVudGl0eVR5cGUpO1xyXG4gICAgaWYgKCFzY2hlbWEpIHJldHVybjtcclxuICAgIFxyXG4gICAgLy8gRW5hYmxlIGFsbCBub24tcHJvdGVjdGVkLCBub24tZ2xvYmFsbHktaWdub3JlZCBwcm9wZXJ0aWVzXHJcbiAgICBzY2hlbWEucHJvcGVydGllcy5mb3JFYWNoKHByb3AgPT4ge1xyXG4gICAgICBjb25zdCBpc0dsb2JhbGx5SWdub3JlZCA9IHBsdWdpbi5zZXR0aW5ncy5nbG9iYWxseUlnbm9yZWRGaWVsZHM/LmluY2x1ZGVzKHByb3AubmFtZSk7XHJcbiAgICAgIGlmICghcHJvcC5pc1Byb3RlY3RlZCAmJiAhaXNHbG9iYWxseUlnbm9yZWQpIHtcclxuICAgICAgICBjb25zdCBtYXBwZWROYW1lID0gZ2V0TWFwcGVkUHJvcGVydHlOYW1lKGVudGl0eVR5cGUsIHByb3AubmFtZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2xlYW4gdXAgYW55IGR1cGxpY2F0ZSBlbnRyaWVzIChvcmlnaW5hbCBuYW1lIHZzIG1hcHBlZCBuYW1lKVxyXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsUHJvcGVydHkgPSBPYmplY3Qua2V5cyhwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlNYXBwaW5ncz8uW2VudGl0eVR5cGVdIHx8IHt9KVxyXG4gICAgICAgICAgLmZpbmQob3JpZyA9PiBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlNYXBwaW5nc1tlbnRpdHlUeXBlXVtvcmlnXSA9PT0gbWFwcGVkTmFtZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKG9yaWdpbmFsUHJvcGVydHkgJiYgb3JpZ2luYWxQcm9wZXJ0eSAhPT0gbWFwcGVkTmFtZSkge1xyXG4gICAgICAgICAgZGVsZXRlIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnNbZW50aXR5VHlwZV1bb3JpZ2luYWxQcm9wZXJ0eV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnNbZW50aXR5VHlwZV1bbWFwcGVkTmFtZV0gPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgLy8gU2F2ZSBhbmQgdHJpZ2dlciByZWFjdGl2aXR5XHJcbiAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICBwbHVnaW5TZXR0aW5ncyA9IHsgLi4ucGx1Z2luLnNldHRpbmdzIH07XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBkZXNlbGVjdEFsbFByb3BlcnRpZXMoZW50aXR5VHlwZTogc3RyaW5nKSB7XHJcbiAgICBpZiAoIXBsdWdpbj8uc2V0dGluZ3MpIHJldHVybjtcclxuICAgIFxyXG4gICAgLy8gSW5pdGlhbGl6ZSBwcm9wZXJ0eVNlbGVjdGlvbnMgaWYgbm90IGV4aXN0c1xyXG4gICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlTZWxlY3Rpb25zKSB7XHJcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnMgPSB7fTtcclxuICAgIH1cclxuICAgIGlmICghcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9uc1tlbnRpdHlUeXBlXSkge1xyXG4gICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlTZWxlY3Rpb25zW2VudGl0eVR5cGVdID0ge307XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIEZpbmQgdGhlIHNjaGVtYSBmb3IgdGhpcyBlbnRpdHkgdHlwZVxyXG4gICAgY29uc3Qgc2NoZW1hID0gc2NoZW1hcy5maW5kKHMgPT4gcy50eXBlTmFtZSA9PT0gZW50aXR5VHlwZSk7XHJcbiAgICBpZiAoIXNjaGVtYSkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICAvLyBEaXNhYmxlIGFsbCBwcm9wZXJ0aWVzIChpbmNsdWRpbmcgbm9uLXByb3RlY3RlZCBvbmVzKVxyXG4gICAgc2NoZW1hLnByb3BlcnRpZXMuZm9yRWFjaChwcm9wID0+IHtcclxuICAgICAgY29uc3QgbWFwcGVkTmFtZSA9IGdldE1hcHBlZFByb3BlcnR5TmFtZShlbnRpdHlUeXBlLCBwcm9wLm5hbWUpO1xyXG4gICAgICBcclxuICAgICAgLy8gQ2xlYW4gdXAgYW55IGR1cGxpY2F0ZSBlbnRyaWVzIChvcmlnaW5hbCBuYW1lIHZzIG1hcHBlZCBuYW1lKVxyXG4gICAgICBjb25zdCBvcmlnaW5hbFByb3BlcnR5ID0gT2JqZWN0LmtleXMocGx1Z2luLnNldHRpbmdzLnByb3BlcnR5TWFwcGluZ3M/LltlbnRpdHlUeXBlXSB8fCB7fSlcclxuICAgICAgICAuZmluZChvcmlnID0+IHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eU1hcHBpbmdzW2VudGl0eVR5cGVdW29yaWddID09PSBtYXBwZWROYW1lKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChvcmlnaW5hbFByb3BlcnR5ICYmIG9yaWdpbmFsUHJvcGVydHkgIT09IG1hcHBlZE5hbWUpIHtcclxuICAgICAgICBkZWxldGUgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9uc1tlbnRpdHlUeXBlXVtvcmlnaW5hbFByb3BlcnR5XTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9uc1tlbnRpdHlUeXBlXVttYXBwZWROYW1lXSA9IGZhbHNlO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIC8vIFNhdmUgYW5kIHRyaWdnZXIgcmVhY3Rpdml0eVxyXG4gICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgcGx1Z2luU2V0dGluZ3MgPSB7IC4uLnBsdWdpbi5zZXR0aW5ncyB9O1xyXG4gIH1cclxuPC9zY3JpcHQ+XHJcblxyXG48ZGl2IGNsYXNzPVwicC00IG1heC13LTZ4bCBteC1hdXRvXCI+XHJcbiAgPGRpdiBjbGFzcz1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi02IHBiLTQgYm9yZGVyLWIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildXCI+XHJcbiAgICA8aDIgY2xhc3M9XCJ0ZXh0LTJ4bCBmb250LXNlbWlib2xkXCI+TWVnYU1lbSBPbnRvbG9neSBNYW5hZ2VtZW50PC9oMj5cclxuICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC0yIGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICA8YnV0dG9uXHJcbiAgICAgICAgb246Y2xpY2s9e3JlZnJlc2hTY2hlbWFzfVxyXG4gICAgICAgIGRpc2FibGVkPXtsb2FkaW5nfVxyXG4gICAgICAgIGNsYXNzPVwicHgtNCBweS0yIGJnLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSByb3VuZGVkIGhvdmVyOm9wYWNpdHktOTAgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXVwiXHJcbiAgICAgID5cclxuICAgICAgICB7bG9hZGluZyA/ICdTY2FubmluZy4uLicgOiAnUmVmcmVzaCBTY2hlbWFzJ31cclxuICAgICAgPC9idXR0b24+XHJcbiAgICAgIDxidXR0b25cclxuICAgICAgICBjbGFzcz1cInB4LTMgcHktMiBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgaG92ZXI6b3BhY2l0eS05MCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiXHJcbiAgICAgICAgdGl0bGU9XCJMTE0gSW50ZWdyYXRpb24gU2V0dGluZ3NcIlxyXG4gICAgICA+XHJcbiAgICAgICAgTExNIFNldHRpbmdzXHJcbiAgICAgIDwvYnV0dG9uPlxyXG4gICAgPC9kaXY+XHJcbiAgPC9kaXY+XHJcblxyXG4gIDwhLS0gPT09IFRBQiBOQVZJR0FUSU9OID09PSAtLT5cclxuICA8ZGl2IGNsYXNzPVwiZmxleCBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSByb3VuZGVkLWxnIHAtMSBtYi02IGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV1cIj5cclxuICAgIDxidXR0b25cclxuICAgICAgY2xhc3M9XCJmbGV4LTEgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcHgtNCBweS0zIHJvdW5kZWQtbWQgd2hpdGVzcGFjZS1ub3dyYXAgdGV4dC1zbSBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAge2FjdGl2ZVRhYiA9PT0gJ2VudGl0aWVzJyA/ICdiZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gc2hhZG93LXNtIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0nIDogJ2hvdmVyOm9wYWNpdHktOTAgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0nfVwiXHJcbiAgICAgIG9uOmNsaWNrPXsoKSA9PiBoYW5kbGVUYWJDaGFuZ2UoJ2VudGl0aWVzJyl9XHJcbiAgICA+XHJcbiAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cImJveFwiIHNpemU9XCJtZWRpdW1cIiAvPlxyXG4gICAgICA8c3Bhbj5FbnRpdHkgVHlwZXM8L3NwYW4+XHJcbiAgICAgIHsjaWYgc2NoZW1hcy5sZW5ndGggPiAwfVxyXG4gICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyBvcGFjaXR5LTgwIGZvbnQtbm9ybWFsXCI+KHtzY2hlbWFzLmxlbmd0aH0pPC9zcGFuPlxyXG4gICAgICB7L2lmfVxyXG4gICAgPC9idXR0b24+XHJcbiAgICBcclxuICAgIDxidXR0b25cclxuICAgICAgY2xhc3M9XCJmbGV4LTEgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcHgtNCBweS0zIHJvdW5kZWQtbWQgd2hpdGVzcGFjZS1ub3dyYXAgdGV4dC1zbSBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAge2FjdGl2ZVRhYiA9PT0gJ3Byb3BlcnRpZXMnID8gJ2JnLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBzaGFkb3ctc20gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXScgOiAnaG92ZXI6b3BhY2l0eS05MCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSd9XCJcclxuICAgICAgb246Y2xpY2s9eygpID0+IGhhbmRsZVRhYkNoYW5nZSgncHJvcGVydGllcycpfVxyXG4gICAgPlxyXG4gICAgICA8T2JzaWRpYW5JY29uIGljb249XCJ0YWdcIiBzaXplPVwibWVkaXVtXCIgLz5cclxuICAgICAgPHNwYW4+UHJvcGVydGllczwvc3Bhbj5cclxuICAgICAgeyNpZiBzY2hlbWFzLmxlbmd0aCA+IDB9XHJcbiAgICAgICAge0Bjb25zdCB0b3RhbFByb3BzID0gc2NoZW1hcy5yZWR1Y2UoKHN1bSwgcykgPT4gc3VtICsgKHMucHJvcGVydGllcz8ubGVuZ3RoIHx8IDApLCAwKX1cclxuICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgb3BhY2l0eS04MCBmb250LW5vcm1hbFwiPih7dG90YWxQcm9wc30pPC9zcGFuPlxyXG4gICAgICB7L2lmfVxyXG4gICAgPC9idXR0b24+XHJcbiAgICBcclxuICAgIDxidXR0b25cclxuICAgICAgY2xhc3M9XCJmbGV4LTEgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcHgtNCBweS0zIHJvdW5kZWQtbWQgd2hpdGVzcGFjZS1ub3dyYXAgdGV4dC1zbSBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAge2FjdGl2ZVRhYiA9PT0gJ2VkZ2VzJyA/ICdiZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSBzaGFkb3ctc20nIDogJ3RleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSBob3ZlcjpiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBob3Zlcjp0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0nfVwiXHJcbiAgICAgIG9uOmNsaWNrPXsoKSA9PiBoYW5kbGVUYWJDaGFuZ2UoJ2VkZ2VzJyl9XHJcbiAgICA+XHJcbiAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cImxpbmtcIiBzaXplPVwibWVkaXVtXCIgLz5cclxuICAgICAgPHNwYW4+RWRnZSBUeXBlczwvc3Bhbj5cclxuICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIG9wYWNpdHktODAgZm9udC1ub3JtYWxcIj4oe09iamVjdC5rZXlzKGVkZ2VUeXBlcykubGVuZ3RofSk8L3NwYW4+XHJcbiAgICA8L2J1dHRvbj5cclxuICAgIFxyXG4gICAgPGJ1dHRvblxyXG4gICAgICBjbGFzcz1cImZsZXgtMSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBweC00IHB5LTMgcm91bmRlZC1tZCB3aGl0ZXNwYWNlLW5vd3JhcCB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCB7YWN0aXZlVGFiID09PSAnbWFwcGluZ3MnID8gJ2JnLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHNoYWRvdy1zbScgOiAndGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIGhvdmVyOmJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGhvdmVyOnRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSd9XCJcclxuICAgICAgb246Y2xpY2s9eygpID0+IGhhbmRsZVRhYkNoYW5nZSgnbWFwcGluZ3MnKX1cclxuICAgID5cclxuICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwibWFwXCIgc2l6ZT1cIm1lZGl1bVwiIC8+XHJcbiAgICAgIDxzcGFuPkVkZ2UgTWFwcGluZ3M8L3NwYW4+XHJcbiAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyBvcGFjaXR5LTgwIGZvbnQtbm9ybWFsXCI+KHtlZGdlVHlwZU1hcC5sZW5ndGh9KTwvc3Bhbj5cclxuICAgIDwvYnV0dG9uPlxyXG4gIDwvZGl2PlxyXG5cclxuICA8IS0tID09PSBUQUIgQ09OVEVOVCA9PT0gLS0+XHJcbiAgPGRpdiBjbGFzcz1cIm1pbi1oLTk2XCI+XHJcbiAgICBcclxuICAgIDwhLS0gRU5USVRZIFRZUEVTIFRBQiAtLT5cclxuICAgIHsjaWYgYWN0aXZlVGFiID09PSAnZW50aXRpZXMnfVxyXG4gICAgICA8ZGl2IGNsYXNzPVwiYW5pbWF0ZS1mYWRlSW5cIiBpZD1cImVudGl0aWVzLXBhbmVsXCI+XHJcbiAgICAgICAgPCEtLSBMTE0gQXV0by1HZW5lcmF0aW9uIFNlY3Rpb24gLS0+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImJnLWdyYWRpZW50LXRvLWJyIGZyb20tW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRvLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gcC02IHJvdW5kZWQteGwgbWItNiBzaGFkb3ctbWRcIj5cclxuICAgICAgICAgIDxoMyBjbGFzcz1cInRleHQteGwgZm9udC1zZW1pYm9sZCBtYi0yIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgIExMTSBBdXRvbWF0aWMgT250b2xvZ2llc1xyXG4gICAgICAgICAgPC9oMz5cclxuICAgICAgICAgIDxwIGNsYXNzPVwibWItNCBvcGFjaXR5LTkwIGxlYWRpbmctcmVsYXhlZCB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldXCI+XHJcbiAgICAgICAgICAgIFVzZSBBSSB0byBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlIGVudGl0eSBkZXNjcmlwdGlvbnMsIHByb3BlcnR5IGRlZmluaXRpb25zLCBhbmQgcmVsYXRpb25zaGlwcyBmcm9tIHlvdXIgdmF1bHQgY29udGVudC5cclxuICAgICAgICAgIDwvcD5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC0zIGZsZXgtd3JhcCBpdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIGNsYXNzPVwicHgtNCBweS0yIGJnLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDYpXSBib3JkZXIgYm9yZGVyLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDgpXSByb3VuZGVkLW1kIHRleHQtc20gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGJhY2tkcm9wLWJsdXItc20gaG92ZXI6YmctW3JnYmEoMjU1LDI1NSwyNTUsMC4wOSldIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV1cIlxyXG4gICAgICAgICAgICAgIGRpc2FibGVkXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICBHZW5lcmF0ZSBFbnRpdHkgRGVzY3JpcHRpb25zXHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgY2xhc3M9XCJweC00IHB5LTIgYmctW3JnYmEoMjU1LDI1NSwyNTUsMC4wNildIGJvcmRlciBib3JkZXItW3JnYmEoMjU1LDI1NSwyNTUsMC4wOCldIHJvdW5kZWQtbWQgdGV4dC1zbSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgYmFja2Ryb3AtYmx1ci1zbSBob3ZlcjpiZy1bcmdiYSgyNTUsMjU1LDI1NSwwLjA5KV0gZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXVwiXHJcbiAgICAgICAgICAgICAgZGlzYWJsZWRcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIFN1Z2dlc3QgUHJvcGVydHkgRGVzY3JpcHRpb25zXHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgY2xhc3M9XCJweC00IHB5LTIgYmctW3JnYmEoMjU1LDI1NSwyNTUsMC4wNildIGJvcmRlciBib3JkZXItW3JnYmEoMjU1LDI1NSwyNTUsMC4wOCldIHJvdW5kZWQtbWQgdGV4dC1zbSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgYmFja2Ryb3AtYmx1ci1zbSBob3ZlcjpiZy1bcmdiYSgyNTUsMjU1LDI1NSwwLjA5KV0gZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXVwiXHJcbiAgICAgICAgICAgICAgZGlzYWJsZWRcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIEdlbmVyYXRlIENvbXBsZXRlIE9udG9sb2d5XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgY2xhc3M9XCJweC00IHB5LTIgYmctW3JnYmEoMjU1LDI1NSwyNTUsMC4wNCldIGJvcmRlciBib3JkZXItW3JnYmEoMjU1LDI1NSwyNTUsMC4wNildIHJvdW5kZWQtbWQgdGV4dC1zbSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgYmFja2Ryb3AtYmx1ci1zbSBob3ZlcjpiZy1bcmdiYSgyNTUsMjU1LDI1NSwwLjA2KV0gaG92ZXI6Ym9yZGVyLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDgpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldXCJcclxuICAgICAgICAgICAgICBvbjpjbGljaz17bG9hZEFsbERlZmF1bHRFbnRpdHlEZXNjcmlwdGlvbnN9XHJcbiAgICAgICAgICAgICAgdGl0bGU9XCJMb2FkIGFsbCBkZWZhdWx0IGVudGl0eSBkZXNjcmlwdGlvbnMgaW50byBkYXRhLmpzb25cIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgTG9hZCBBbGwgRGVmYXVsdCBFbnRpdHkgRGVzY3JpcHRpb25zXHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgb3BhY2l0eS03MCBpdGFsaWMgdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXVwiPkxMTSBpbnRlZ3JhdGlvbiBjb21pbmcgc29vbjwvc3Bhbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICA8IS0tIENvbXBsaWFuY2UgRGFzaGJvYXJkIC0tPlxyXG4gICAgICAgIHsjaWYgc2NoZW1hcy5sZW5ndGggPiAwfVxyXG4gICAgICAgICAge0Bjb25zdCBvdmVyYWxsU3RhdHMgPSBnZXRPdmVyYWxsQ29tcGxpYW5jZVN0YXRzKCl9XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkLWxnIHAtNiBtYi02XCI+XHJcbiAgICAgICAgICAgIDxoMyBjbGFzcz1cInRleHQtbGcgZm9udC1zZW1pYm9sZCBtYi00IHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgR3JhcGhpdGkgQ29tcGxpYW5jZSBEYXNoYm9hcmRcclxuICAgICAgICAgICAgPC9oMz5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC04IG1iLTRcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgcC00IHJvdW5kZWQtbGcgbWluLXctMjQge292ZXJhbGxTdGF0cy5zY29yZSA+PSA4MCA/ICdiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1zdWNjZXNzKV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXScgOiBvdmVyYWxsU3RhdHMuc2NvcmUgPj0gNjAgPyAnYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXScgOiAnYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItZXJyb3IpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildJ31cIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+e292ZXJhbGxTdGF0cy5zY29yZX0lPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZVwiPkNvbXBsaWFuY2UgU2NvcmU8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTZcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LVt2YXIoLS10ZXh0LXN1Y2Nlc3MpXVwiPntvdmVyYWxsU3RhdHMudmFsaWR9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIHVwcGVyY2FzZSB0cmFja2luZy13aWRlXCI+VmFsaWQ8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LVt2YXIoLS10ZXh0LWVycm9yKV1cIj57b3ZlcmFsbFN0YXRzLndhcm5pbmdzfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZVwiPldhcm5pbmdzPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14bCBmb250LWJvbGQgdGV4dC1bdmFyKC0tdGV4dC1lcnJvcildXCI+e292ZXJhbGxTdGF0cy5wcm90ZWN0ZWRDb3VudH08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVcIj5Qcm90ZWN0ZWQ8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIHsjaWYgb3ZlcmFsbFN0YXRzLndhcm5pbmdzID4gMH1cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHQtNCBib3JkZXItdCBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV1cIj5cclxuICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgb246Y2xpY2s9e2FwcGx5QWxsU3VnZ2VzdGlvbnN9XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzPVwicHgtNCBweS0yIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLXN1Y2Nlc3MpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHJvdW5kZWQgaG92ZXI6b3BhY2l0eS05MCBmb250LW1lZGl1bVwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIEFwcGx5IEFsbCBOYW1pbmcgU3VnZ2VzdGlvbnMgKHtvdmVyYWxsU3RhdHMud2FybmluZ3N9KVxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIHsvaWZ9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICB7L2lmfVxyXG4gICAgICAgIFxyXG4gICAgICAgIDwhLS0gQmFzZSBFbnRpdHkgVHlwZSAtLT5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwibWItOFwiPlxyXG4gICAgICAgICAgPGgzIGNsYXNzPVwidGV4dC1sZyBmb250LXNlbWlib2xkIG1iLTQgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj5CYXNlIEVudGl0eSBUeXBlPC9oMz5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJiZy1bdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5LWFsdCldIGJvcmRlci0yIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkLWxnIHAtNCBtYXgtdy1sZ1wiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTNcIj5cclxuICAgICAgICAgICAgICA8aDQgY2xhc3M9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj5CYXNlRW50aXR5PC9oND5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtMSBpdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgY2xhc3M9XCJweC0zIHB5LTEgYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIHRleHQtc20gaG92ZXI6YmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMTUwIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCJcclxuICAgICAgICAgICAgICAgICAgdGl0bGU9XCJWaWV3IFByb3BlcnRpZXNcIlxyXG4gICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gbmF2aWdhdGVUb0VudGl0eVByb3BlcnRpZXMoJ0Jhc2VFbnRpdHknKX1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgVmlldyBQcm9wZXJ0aWVzXHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyBweC0yIHB5LTEgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIHJvdW5kZWQgZm9udC1ib2xkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIG1sLTJcIj5TWVNURU08L3NwYW4+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItM1wiPlxyXG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gdGV4dC1zbSBsZWFkaW5nLXJlbGF4ZWRcIj5cclxuICAgICAgICAgICAgICAgIEJhc2UgZW50aXR5IGNsYXNzIHRoYXQgcHJvdmlkZXMgY29yZSBwcm9wZXJ0aWVzIGluaGVyaXRlZCBieSBhbGwgb3RoZXIgZW50aXR5IHR5cGVzLiBDb250YWlucyBmdW5kYW1lbnRhbCBtZXRhZGF0YSBmb3Iga25vd2xlZGdlIGdyYXBoIHByb2Nlc3NpbmcuXHJcbiAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTQgdGV4dC1zbSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5Jbmhlcml0ZWQgYnkgYWxsIGVudGl0aWVzPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj4zIGNvcmUgcHJvcGVydGllczwvc3Bhbj5cclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+QWx3YXlzIGVuYWJsZWQ8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDwhLS0gQ3VzdG9tIEVudGl0eSBUeXBlcyBMaXN0IC0tPlxyXG4gICAgICAgIHsjaWYgc2NoZW1hcy5sZW5ndGggPiAwfVxyXG4gICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgPGgzIGNsYXNzPVwidGV4dC1sZyBmb250LXNlbWlib2xkIG1iLTRcIj5DdXN0b20gRW50aXR5IFR5cGVzICh7c2NoZW1hcy5sZW5ndGh9KTwvaDM+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncmlkIGdyaWQtY29scy0xIGxnOmdyaWQtY29scy0yIGdhcC00IG1heC13LWZ1bGxcIj5cclxuICAgICAgICAgICAgICB7I2VhY2ggc2NoZW1hcyBhcyBzY2hlbWEsIGluZGV4fVxyXG4gICAgICAgICAgICAgICAge0Bjb25zdCBzdGF0cyA9IGdldENvbXBsaWFuY2VTdGF0cyhzY2hlbWEpfVxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeS1hbHQpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQtbGcgcC00IGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBob3Zlcjpib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGhvdmVyOnNoYWRvdy1tZCB7c2VsZWN0ZWRUeXBlID09PSBzY2hlbWEudHlwZU5hbWUgPyAnYm9yZGVyLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBzaGFkb3ctbWQgcmluZy0yIHJpbmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0nIDogJyd9XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIGhvdmVyOm9wYWNpdHktOTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIHRleHQtbGVmdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gbmF2aWdhdGVUb0VudGl0eVByb3BlcnRpZXMoc2NoZW1hLnR5cGVOYW1lKX1cclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7c2NoZW1hLnR5cGVOYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC0xIGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPCEtLSBUb2dnbGUgZW5hYmxlZC9kaXNhYmxlZCBzdGF0ZSBjaGVja2JveCAtLT5cclxuICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xIGN1cnNvci1wb2ludGVyXCIgdGl0bGU9XCJ7ZW50aXR5RGVzY3JpcHRpb25zW3NjaGVtYS50eXBlTmFtZV0gPyAnRW5hYmxlZCBpbiBkYXRhLmpzb24gLSB1bmNoZWNrIHRvIGRpc2FibGUnIDogJ0Rpc2FibGVkIC0gY2hlY2sgdG8gZW5hYmxlIGluIGRhdGEuanNvbid9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17ISFlbnRpdHlEZXNjcmlwdGlvbnNbc2NoZW1hLnR5cGVOYW1lXX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjaGFuZ2V8c3RvcFByb3BhZ2F0aW9uPXsoKSA9PiB0b2dnbGVFbnRpdHlEZWZpbml0aW9uKHNjaGVtYS50eXBlTmFtZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ3LTQgaC00IHRleHQtW3ZhcigtLXRleHQtc3VjY2VzcyldIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIGZvY3VzOnJpbmctW3ZhcigtLXRleHQtc3VjY2VzcyldIGZvY3VzOnJpbmctMlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0ge2VudGl0eURlc2NyaXB0aW9uc1tzY2hlbWEudHlwZU5hbWVdID8gJ3RleHQtW3ZhcigtLXRleHQtc3VjY2VzcyldJyA6ICd0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0nfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtlbnRpdHlEZXNjcmlwdGlvbnNbc2NoZW1hLnR5cGVOYW1lXSA/ICdFbmFibGVkJyA6ICdEaXNhYmxlZCd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicC0xIHJvdW5kZWQgb3BhY2l0eS02MCBob3ZlcjpvcGFjaXR5LTEwMCBob3ZlcjpiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkVkaXQgRGVzY3JpcHRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGlja3xzdG9wUHJvcGFnYXRpb249eygpID0+IHN0YXJ0RWRpdGluZ0VudGl0eURlc2NyaXB0aW9uKHNjaGVtYS50eXBlTmFtZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cInBlbmNpbFwiIHNpemU9XCJtZWRpdW1cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicC0xIHJvdW5kZWQgb3BhY2l0eS01MCBjdXJzb3Itbm90LWFsbG93ZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkxMTSBTdWdnZXN0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcclxuICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwic3BhcmtsZXNcIiBzaXplPVwibWVkaXVtXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICB7I2lmIGVkaXRpbmdFbnRpdHlEZXNjcmlwdGlvbiA9PT0gc2NoZW1hLnR5cGVOYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2wgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpbmQ6dmFsdWU9e3RlbXBFbnRpdHlEZXNjcmlwdGlvbnNbc2NoZW1hLnR5cGVOYW1lXX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgZW50aXR5IGRlc2NyaXB0aW9uLi4uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZmxleC0xIHAtMiBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBmb2N1czpib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtc20gbGVhZGluZy1yZWxheGVkIHJlc2l6ZS12ZXJ0aWNhbCBtaW4taC0xNVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPVwiM1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvdGV4dGFyZWE+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBoYXNEZWZhdWx0RW50aXR5RGVzY3JpcHRpb24oc2NoZW1hLnR5cGVOYW1lKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJweC0yIHB5LTIgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItc3VjY2VzcyldIHRleHQtW3ZhcigtLXRleHQtc3VjY2VzcyldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItc3VjY2VzcyldIHJvdW5kZWQgaG92ZXI6b3BhY2l0eS05MCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAgdGV4dC1zbSB3aGl0ZXNwYWNlLW5vd3JhcCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrfHN0b3BQcm9wYWdhdGlvbj17KCkgPT4gbG9hZERlZmF1bHRFbnRpdHlEZXNjcmlwdGlvbihzY2hlbWEudHlwZU5hbWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkxvYWQgZGVmYXVsdCBkZXNjcmlwdGlvbiBmb3Ige3NjaGVtYS50eXBlTmFtZX1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJkb3dubG9hZFwiIHNpemU9XCJtZWRpdW1cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5Mb2FkIERlZmF1bHQ8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTIganVzdGlmeS1lbmRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInB4LTMgcHktMSBiZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSByb3VuZGVkIHRleHQtc20gZm9udC1tZWRpdW0gaG92ZXI6b3BhY2l0eS05MCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IHNhdmVFbnRpdHlEZXNjcmlwdGlvbihzY2hlbWEudHlwZU5hbWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNhdmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInB4LTMgcHktMSBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSByb3VuZGVkIHRleHQtc20gaG92ZXI6b3BhY2l0eS05MCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9e2NhbmNlbEVkaXRpbmdFbnRpdHlEZXNjcmlwdGlvbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYW5jZWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICB7OmVsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIHRleHQtc20gbGVhZGluZy1yZWxheGVkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtnZXRFbnRpdHlEZXNjcmlwdGlvbihzY2hlbWEudHlwZU5hbWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIHsvaWZ9XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtNCB0ZXh0LXNtIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5GaWxlczoge3NjaGVtYS5maWxlQ291bnR9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5Qcm9wczoge3NjaGVtYS5wcm9wZXJ0aWVzLmxlbmd0aH08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSB7c3RhdHMuc2NvcmUgPj0gODAgPyAndGV4dC1bdmFyKC0tdGV4dC1zdWNjZXNzKV0nIDogc3RhdHMuc2NvcmUgPj0gNjAgPyAndGV4dC1bdmFyKC0tdGV4dC13YXJuaW5nKV0nIDogJ3RleHQtW3ZhcigtLXRleHQtZXJyb3IpXSd9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7c3RhdHMuc2NvcmV9JSBjb21wbGlhbnRcclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgey9lYWNofVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIHsvaWZ9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgey9pZn1cclxuXHJcbiAgICA8IS0tIFBST1BFUlRJRVMgVEFCIC0tPlxyXG4gICAgeyNpZiBhY3RpdmVUYWIgPT09ICdwcm9wZXJ0aWVzJ31cclxuICAgICAgPGRpdiBjbGFzcz1cImFuaW1hdGUtZmFkZUluXCIgaWQ9XCJwcm9wZXJ0aWVzLXBhbmVsXCI+XHJcbiAgICAgICAgPCEtLSBMTE0gQXV0by1HZW5lcmF0aW9uIFNlY3Rpb24gLS0+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImJnLWdyYWRpZW50LXRvLWJyIGZyb20tW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRvLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gcC02IHJvdW5kZWQteGwgbWItNiBzaGFkb3ctbWRcIj5cclxuICAgICAgICAgIDxoMyBjbGFzcz1cInRleHQteGwgZm9udC1zZW1pYm9sZCBtYi0yIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cInNwYXJrbGVzXCIgLz5cclxuICAgICAgICAgICAgPHNwYW4+TExNIEF1dG9tYXRpYyBQcm9wZXJ0eSBEZXNjcmlwdGlvbnM8L3NwYW4+XHJcbiAgICAgICAgICA8L2gzPlxyXG4gICAgICAgICAgPHAgY2xhc3M9XCJtYi00IG9wYWNpdHktOTAgbGVhZGluZy1yZWxheGVkXCI+XHJcbiAgICAgICAgICAgIFVzZSBBSSB0byBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlIHByb3BlcnR5IGRlc2NyaXB0aW9ucyBhbmQgY29uZmlndXJlIHByb3BlcnR5IHNldHRpbmdzIGZvciBhbGwgZW50aXRpZXMuXHJcbiAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtMyBmbGV4LXdyYXAgaXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICBjbGFzcz1cInB4LTQgcHktMiBiZy1bcmdiYSgyNTUsMjU1LDI1NSwwLjA2KV0gYm9yZGVyIGJvcmRlci1bcmdiYSgyNTUsMjU1LDI1NSwwLjA4KV0gcm91bmRlZC1tZCB0ZXh0LXNtIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBiYWNrZHJvcC1ibHVyLXNtIGhvdmVyOmJnLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDkpXSBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZFwiXHJcbiAgICAgICAgICAgICAgZGlzYWJsZWRcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIEdlbmVyYXRlIEFsbCBQcm9wZXJ0eSBEZXNjcmlwdGlvbnMgKGRpc2FibGVkKVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIGNsYXNzPVwicHgtNCBweS0yIGJnLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDYpXSBib3JkZXIgYm9yZGVyLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDgpXSByb3VuZGVkLW1kIHRleHQtc20gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGJhY2tkcm9wLWJsdXItc20gaG92ZXI6YmctW3JnYmEoMjU1LDI1NSwyNTUsMC4wOSldIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCJcclxuICAgICAgICAgICAgICBkaXNhYmxlZFxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgU3VnZ2VzdCBQcm9wZXJ0eSBUeXBlcyAoZGlzYWJsZWQpXHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgY2xhc3M9XCJweC00IHB5LTIgYmctW3JnYmEoMjU1LDI1NSwyNTUsMC4wNCldIGJvcmRlciBib3JkZXItW3JnYmEoMjU1LDI1NSwyNTUsMC4wNildIHJvdW5kZWQtbWQgdGV4dC1zbSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgYmFja2Ryb3AtYmx1ci1zbSBob3ZlcjpiZy1bcmdiYSgyNTUsMjU1LDI1NSwwLjA2KV0gaG92ZXI6Ym9yZGVyLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDgpXVwiXHJcbiAgICAgICAgICAgICAgb246Y2xpY2s9e2xvYWRBbGxEZWZhdWx0UHJvcGVydHlEZXNjcmlwdGlvbnN9XHJcbiAgICAgICAgICAgICAgdGl0bGU9XCJMb2FkIGFsbCBkZWZhdWx0IHByb3BlcnR5IGRlc2NyaXB0aW9ucyBpbnRvIGRhdGEuanNvblwiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICBMb2FkIERlZmF1bHQgRGVzY3JpcHRpb25zXHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgY2xhc3M9XCJweC00IHB5LTIgYmctW3JnYmEoMjU1LDI1NSwyNTUsMC4wNCldIGJvcmRlciBib3JkZXItW3JnYmEoMjU1LDI1NSwyNTUsMC4wNildIHJvdW5kZWQtbWQgdGV4dC1zbSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgYmFja2Ryb3AtYmx1ci1zbSBob3ZlcjpiZy1bcmdiYSgyNTUsMjU1LDI1NSwwLjA2KV0gaG92ZXI6Ym9yZGVyLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDgpXVwiXHJcbiAgICAgICAgICAgICAgb246Y2xpY2s9e2VuYWJsZURlZmF1bHRQcm9wZXJ0aWVzfVxyXG4gICAgICAgICAgICAgIHRpdGxlPVwiRW5hYmxlIGFsbCBwcm9wZXJ0aWVzIGZvciB3aGljaCB3ZSBoYXZlIGRlZmF1bHQgZGVzY3JpcHRpb25zXCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIEVuYWJsZSBEZWZhdWx0IFByb3BlcnRpZXNcclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyBvcGFjaXR5LTcwIGl0YWxpY1wiPkxMTSBpbnRlZ3JhdGlvbiBjb21pbmcgc29vbjwvc3Bhbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgPGgzIGNsYXNzPVwidGV4dC1sZyBmb250LXNlbWlib2xkIG1iLTIgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj5BbGwgRW50aXR5IFByb3BlcnRpZXM8L2gzPlxyXG4gICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gbWItNlwiPlxyXG4gICAgICAgICAgICBDb25maWd1cmUgcHJvcGVydHkgbWFwcGluZ3MsIGRlc2NyaXB0aW9ucywgYW5kIGZpZWxkIHR5cGVzIGZvciBhbGwgZW50aXR5IHR5cGVzLlxyXG4gICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICB7I2lmIHNjaGVtYXMubGVuZ3RoID4gMH1cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2wgZ2FwLTRcIj5cclxuICAgICAgICAgICAgICA8IS0tIEJhc2UgRW50aXR5IFByb3BlcnRpZXMgLS0+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJnLVt2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnktYWx0KV0gYm9yZGVyLTIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQtbGcgb3ZlcmZsb3ctaGlkZGVuXCIgaWQ9XCJhY2NvcmRpb24tQmFzZUVudGl0eVwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciB3LWZ1bGwgcC00IGJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlci1ub25lIHtleHBhbmRlZEFjY29yZGlvbnMuaGFzKCdCYXNlRW50aXR5JykgPyAnYm9yZGVyLWIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildJyA6ICcnfVwiPlxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmbGV4LTEgZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIHRleHQtbGVmdCBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAgaG92ZXI6b3BhY2l0eS05MFwiXHJcbiAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IHRvZ2dsZUFjY29yZGlvbignQmFzZUVudGl0eScpfVxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzPVwiZm9udC1zZW1pYm9sZCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPkJhc2VFbnRpdHkgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSBweC0yIHB5LTEgcm91bmRlZCBtbC0yXCI+U1lTVEVNPC9zcGFuPjwvaDQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC00XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHB4LTIgcHktMSByb3VuZGVkLWZ1bGxcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgMyBvZiAzIGVuYWJsZWRcclxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1sZyB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gZm9udC1ib2xkIG1sLTRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBleHBhbmRlZEFjY29yZGlvbnMuaGFzKCdCYXNlRW50aXR5Jyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwiY2hldnJvbi1kb3duXCIgc2l6ZT1cIm1lZGl1bVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHs6ZWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJjaGV2cm9uLXJpZ2h0XCIgc2l6ZT1cIm1lZGl1bVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHsjaWYgZXhwYW5kZWRBY2NvcmRpb25zLmhhcygnQmFzZUVudGl0eScpfVxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicC00IGJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeS1hbHQpXVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sIGdhcC0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8IS0tIFR5cGUgUHJvcGVydHkgLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbCBnYXAtMiBwLTMgYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkLW1kXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBmbGV4LXdyYXBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInJvdW5kZWQgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRleHQtW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGZvY3VzOnJpbmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiQmFzZSBFbnRpdHkgcHJvcGVydGllcyBhcmUgYWx3YXlzIGVuYWJsZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmb250LW1lZGl1bSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPnR5cGU8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gdGV4dC1zbVwiPihzdHJpbmcpPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyBweC0yIHB5LTEgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIHJvdW5kZWQgZm9udC1ib2xkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIG1sLWF1dG9cIj5TWVNURU08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwiRW50aXR5IHR5cGUgaWRlbnRpZmllciBmb3IgY2xhc3NpZmljYXRpb24gYW5kIG1vZGVsIHNlbGVjdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZmxleC0xIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBmb2N1czpib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtc20gbWluLXctNDggZGlzYWJsZWQ6b3BhY2l0eS01MCBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInB4LTIgcHktMiBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgdGV4dC1zbSBvcGFjaXR5LTUwIGN1cnNvci1ub3QtYWxsb3dlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIlN5c3RlbSBwcm9wZXJ0aWVzIGNhbm5vdCBiZSBlZGl0ZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJsb2NrXCIgc2l6ZT1cIm1lZGl1bVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgIDwhLS0gVGFncyBQcm9wZXJ0eSAtLT5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sIGdhcC0yIHAtMyBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQtbWRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIGZsZXgtd3JhcFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicm91bmRlZCBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gZm9jdXM6cmluZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJCYXNlIEVudGl0eSBwcm9wZXJ0aWVzIGFyZSBhbHdheXMgZW5hYmxlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZvbnQtbWVkaXVtIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+dGFnczwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSB0ZXh0LXNtXCI+KExpc3Rbc3RyXSk8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHB4LTIgcHktMSBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gcm91bmRlZCBmb250LWJvbGQgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgbWwtYXV0b1wiPlNZU1RFTTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCJUYWdzIGFuZCBsYWJlbHMgZm9yIGNhdGVnb3JpemF0aW9uIGFuZCBvcmdhbml6YXRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImZsZXgtMSBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gZm9jdXM6Ym9yZGVyLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LXNtIG1pbi13LTQ4IGRpc2FibGVkOm9wYWNpdHktNTAgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJweC0yIHB5LTIgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIHRleHQtc20gb3BhY2l0eS01MCBjdXJzb3Itbm90LWFsbG93ZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJTeXN0ZW0gcHJvcGVydGllcyBjYW5ub3QgYmUgZWRpdGVkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwibG9ja1wiIHNpemU9XCJtZWRpdW1cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICA8IS0tIENyZWF0ZWQgUHJvcGVydHkgLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbCBnYXAtMiBwLTMgYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkLW1kXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBmbGV4LXdyYXBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInJvdW5kZWQgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRleHQtW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGZvY3VzOnJpbmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiQmFzZSBFbnRpdHkgcHJvcGVydGllcyBhcmUgYWx3YXlzIGVuYWJsZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmb250LW1lZGl1bSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPmNyZWF0ZWQ8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gdGV4dC1zbVwiPihkYXRldGltZSk8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHB4LTIgcHktMSBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gcm91bmRlZCBmb250LWJvbGQgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgbWwtYXV0b1wiPlNZU1RFTTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCJUaW1lc3RhbXAgd2hlbiB0aGUgZW50aXR5IHdhcyBmaXJzdCBjcmVhdGVkIG9yIGRpc2NvdmVyZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImZsZXgtMSBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gZm9jdXM6Ym9yZGVyLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LXNtIG1pbi13LTQ4IGRpc2FibGVkOm9wYWNpdHktNTAgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJweC0yIHB5LTIgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIHRleHQtc20gb3BhY2l0eS01MCBjdXJzb3Itbm90LWFsbG93ZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJTeXN0ZW0gcHJvcGVydGllcyBjYW5ub3QgYmUgZWRpdGVkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwibG9ja1wiIHNpemU9XCJtZWRpdW1cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIDwhLS0gQmFzZSBFbnRpdHkgU3RhdHVzIE1lc3NhZ2UgLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm10LTQgcC0zIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCB0ZXh0LXNtIGxlYWRpbmctcmVsYXhlZCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cImluZm9cIiBzaXplPVwibWVkaXVtXCIgLz4gPHN0cm9uZz5CYXNlIEVudGl0eSBQcm9wZXJ0aWVzOjwvc3Ryb25nPiBUaGVzZSBjb3JlIHByb3BlcnRpZXMgYXJlIGluaGVyaXRlZCBieSBhbGwgY3VzdG9tIGVudGl0eSB0eXBlcyBhbmQgYXJlIGFsd2F5cyBlbmFibGVkLlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGJyPjxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIj5BbGwgZ2VuZXJhdGVkIFB5ZGFudGljIG1vZGVscyBhdXRvbWF0aWNhbGx5IGluY2x1ZGUgdGhlc2UgZm91bmRhdGlvbmFsIGZpZWxkcy48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgeyNlYWNoIHNjaGVtYXMgYXMgc2NoZW1hLCBzY2hlbWFJbmRleH1cclxuICAgICAgICAgICAgICAgIHtAY29uc3QgZW5hYmxlZFByb3BlcnRpZXMgPSBzY2hlbWEucHJvcGVydGllcz8uZmlsdGVyKHByb3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCBpc0dsb2JhbGx5SWdub3JlZCA9IHBsdWdpblNldHRpbmdzPy5nbG9iYWxseUlnbm9yZWRGaWVsZHM/LmluY2x1ZGVzKHByb3AubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG1hcHBlZE5hbWUgPSBnZXRNYXBwZWRQcm9wZXJ0eU5hbWUoc2NoZW1hLnR5cGVOYW1lLCBwcm9wLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCBpc1Byb3BlcnR5RW5hYmxlZCA9IHBsdWdpblNldHRpbmdzPy5wcm9wZXJ0eVNlbGVjdGlvbnM/LltzY2hlbWEudHlwZU5hbWVdPy5bbWFwcGVkTmFtZV0gPz8gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiAhcHJvcC5pc1Byb3RlY3RlZCAmJiAhaXNHbG9iYWxseUlnbm9yZWQgJiYgaXNQcm9wZXJ0eUVuYWJsZWQ7XHJcbiAgICAgICAgICAgICAgICB9KSB8fCBbXX1cclxuICAgICAgICAgICAgICAgIHtAY29uc3QgdG90YWxQcm9wZXJ0aWVzID0gc2NoZW1hLnByb3BlcnRpZXM/Lmxlbmd0aCB8fCAwfVxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeS1hbHQpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQtbGcgb3ZlcmZsb3ctaGlkZGVuXCIgaWQ9XCJhY2NvcmRpb24te3NjaGVtYS50eXBlTmFtZX1cIj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciB3LWZ1bGwgcC00IGJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlci1ub25lIHtleHBhbmRlZEFjY29yZGlvbnMuaGFzKHNjaGVtYS50eXBlTmFtZSkgPyAnYm9yZGVyLWIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildJyA6ICcnfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZmxleC0xIGZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciB0ZXh0LWxlZnQgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIGhvdmVyOm9wYWNpdHktOTBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IHRvZ2dsZUFjY29yZGlvbihzY2hlbWEudHlwZU5hbWUpfVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+e3NjaGVtYS50eXBlTmFtZX08L2g0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8IS0tIEVudGl0eSBlbmFibGVkL2Rpc2FibGVkIHN0YXRlIGluZGljYXRvciAtLT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgY3Vyc29yLXBvaW50ZXJcIiB0aXRsZT1cIntlbnRpdHlEZXNjcmlwdGlvbnNbc2NoZW1hLnR5cGVOYW1lXSA/ICdFbnRpdHkgZW5hYmxlZCBpbiBkYXRhLmpzb24gLSB1bmNoZWNrIHRvIGRpc2FibGUnIDogJ0VudGl0eSBkaXNhYmxlZCAtIGNoZWNrIHRvIGVuYWJsZSBpbiBkYXRhLmpzb24nfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9eyEhZW50aXR5RGVzY3JpcHRpb25zW3NjaGVtYS50eXBlTmFtZV19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjaGFuZ2V8c3RvcFByb3BhZ2F0aW9uPXsoKSA9PiB0b2dnbGVFbnRpdHlEZWZpbml0aW9uKHNjaGVtYS50eXBlTmFtZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInctNCBoLTQgdGV4dC1bdmFyKC0tdGV4dC1zdWNjZXNzKV0gYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgZm9jdXM6cmluZy1bdmFyKC0tdGV4dC1zdWNjZXNzKV0gZm9jdXM6cmluZy0yXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyB7ZW50aXR5RGVzY3JpcHRpb25zW3NjaGVtYS50eXBlTmFtZV0gPyAndGV4dC1bdmFyKC0tdGV4dC1zdWNjZXNzKV0nIDogJ3RleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSd9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZW50aXR5RGVzY3JpcHRpb25zW3NjaGVtYS50eXBlTmFtZV0gPyAnRW50aXR5IEVuYWJsZWQnIDogJ0VudGl0eSBEaXNhYmxlZCd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBweC0yIHB5LTEgcm91bmRlZC1mdWxsXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAge2VuYWJsZWRQcm9wZXJ0aWVzLmxlbmd0aH0gb2Yge3RvdGFsUHJvcGVydGllc30gZW5hYmxlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1sZyB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gZm9udC1ib2xkIG1sLTRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIGV4cGFuZGVkQWNjb3JkaW9ucy5oYXMoc2NoZW1hLnR5cGVOYW1lKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cImNoZXZyb24tZG93blwiIHNpemU9XCJtZWRpdW1cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHs6ZWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cImNoZXZyb24tcmlnaHRcIiBzaXplPVwibWVkaXVtXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICA8IS0tIEJ1bGsgQWN0aW9ucyAtLT5cclxuICAgICAgICAgICAgICAgICAgICB7I2lmIGV4cGFuZGVkQWNjb3JkaW9ucy5oYXMoc2NoZW1hLnR5cGVOYW1lKX1cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC0yIG1sLTRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicHgtMiBweS0xIHRleHQteHMgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItc3VjY2VzcyldIHRleHQtW3ZhcigtLXRleHQtc3VjY2VzcyldIGJvcmRlciBib3JkZXItZ3JlZW4tMzAwIHJvdW5kZWQgaG92ZXI6YmctZ3JlZW4tMjAwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2t8c3RvcFByb3BhZ2F0aW9uPXsoKSA9PiBzZWxlY3RBbGxQcm9wZXJ0aWVzKHNjaGVtYS50eXBlTmFtZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJFbmFibGUgYWxsIG5vbi1wcm90ZWN0ZWQsIG5vbi1pZ25vcmVkIHByb3BlcnRpZXNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgU2VsZWN0IEFsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicHgtMiBweS0xIHRleHQteHMgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItZXJyb3IpXSB0ZXh0LVt2YXIoLS10ZXh0LWVycm9yKV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1lcnJvcildIHJvdW5kZWQgaG92ZXI6YmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItZXJyb3IpXSB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrfHN0b3BQcm9wYWdhdGlvbj17KCkgPT4gZGVzZWxlY3RBbGxQcm9wZXJ0aWVzKHNjaGVtYS50eXBlTmFtZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJEaXNhYmxlIGFsbCBwcm9wZXJ0aWVzXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIERlc2VsZWN0IEFsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIHsvaWZ9XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgeyNpZiBleHBhbmRlZEFjY29yZGlvbnMuaGFzKHNjaGVtYS50eXBlTmFtZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInAtNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgeyNpZiBzY2hlbWEucHJvcGVydGllcyAmJiBzY2hlbWEucHJvcGVydGllcy5sZW5ndGggPiAwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbCBnYXAtM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsjZWFjaCBzY2hlbWEucHJvcGVydGllcyBhcyBwcm9wLCBwcm9wSW5kZXh9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QGNvbnN0IGlzR2xvYmFsbHlJZ25vcmVkID0gcGx1Z2luU2V0dGluZ3M/Lmdsb2JhbGx5SWdub3JlZEZpZWxkcz8uaW5jbHVkZXMocHJvcD8ubmFtZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QGNvbnN0IG1hcHBlZE5hbWUgPSBnZXRNYXBwZWRQcm9wZXJ0eU5hbWUoc2NoZW1hLnR5cGVOYW1lLCBwcm9wPy5uYW1lKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtAY29uc3QgaXNQcm9wZXJ0eUVuYWJsZWQgPSBwbHVnaW5TZXR0aW5ncz8ucHJvcGVydHlTZWxlY3Rpb25zPy5bc2NoZW1hLnR5cGVOYW1lXT8uW21hcHBlZE5hbWVdID8/IGZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge0Bjb25zdCBpc01hcHBlZFByb3BlcnR5ID0gaXNQcm9wZXJ0eU1hcHBlZChzY2hlbWEudHlwZU5hbWUsIHByb3A/Lm5hbWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge0Bjb25zdCBvcmlnaW5hbE5hbWUgPSBnZXRPcmlnaW5hbFByb3BlcnR5TmFtZShzY2hlbWEudHlwZU5hbWUsIHByb3A/Lm5hbWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge0Bjb25zdCBoYXNEZXNjcmlwdGlvbkluRGF0YUpzb24gPSAhIShwcm9wZXJ0eURlc2NyaXB0aW9uc1tzY2hlbWEudHlwZU5hbWVdPy5bcHJvcD8ubmFtZSB8fCAnJ10/LmRlc2NyaXB0aW9uKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sIGdhcC0yIHAtMyBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQtbWQge3Byb3A/LmlzUHJvdGVjdGVkID8gJ2JvcmRlci1sLTQgYm9yZGVyLWwtW3ZhcigtLXRleHQtZXJyb3IpXSBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1lcnJvcildJyA6IHByb3A/LmNvbXBsaWFuY2VTdGF0dXMgPT09ICd3YXJuaW5nJyA/ICdib3JkZXItbC00IGJvcmRlci1sLVt2YXIoLS10ZXh0LXdhcm5pbmcpXSBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci13YXJuaW5nKV0nIDogaXNHbG9iYWxseUlnbm9yZWQgPyAnYm9yZGVyLWwtNCBib3JkZXItbC1bdmFyKC0tdGV4dC1tdXRlZCldIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildJyA6ICcnfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgZmxleC13cmFwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBQcm9wZXJ0eSBFbmFibGUvRGlzYWJsZSBDaGVja2JveCAtLT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtpc1Byb3BlcnR5RW5hYmxlZCAmJiAhaXNHbG9iYWxseUlnbm9yZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17cHJvcD8uaXNQcm90ZWN0ZWQgfHwgaXNHbG9iYWxseUlnbm9yZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjaGFuZ2U9eyhlKSA9PiBoYW5kbGVDaGVja2JveENoYW5nZShzY2hlbWFJbmRleCwgcHJvcEluZGV4LCBlKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicm91bmRlZCBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gZm9jdXM6cmluZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2lzR2xvYmFsbHlJZ25vcmVkID8gJ1RoaXMgcHJvcGVydHkgaXMgZ2xvYmFsbHkgaWdub3JlZCBhbmQgY2Fubm90IGJlIGVuYWJsZWQnIDogcHJvcD8uaXNQcm90ZWN0ZWQgPyAnUHJvdGVjdGVkIHByb3BlcnRpZXMgY2Fubm90IGJlIGVuYWJsZWQnIDogJ0VuYWJsZS9kaXNhYmxlIHRoaXMgcHJvcGVydHkgZm9yIFB5ZGFudGljIG1vZGVsIGdlbmVyYXRpb24nfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmb250LW1lZGl1bSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSB7aXNHbG9iYWxseUlnbm9yZWQgPyAndGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIGxpbmUtdGhyb3VnaCcgOiAnJ31cIj57cHJvcD8ubmFtZSB8fCAnVW5rbm93bid9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIHRleHQtc21cIj4oe3Byb3A/LmluZmVycmVkVHlwZSB8fCAnc3RyaW5nJ30pPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gUHJvcGVydHkgTWFwcGluZyBJbmRpY2F0b3IgLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBpc01hcHBlZFByb3BlcnR5fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHB4LTIgcHktMSBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gcm91bmRlZCBmb250LW1lZGl1bVwiIHRpdGxlPVwiVGhpcyBwcm9wZXJ0eSBpcyB0aGUgcmVzdWx0IG9mIGEgbWFwcGluZyBmcm9tOiB7b3JpZ2luYWxOYW1lfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNQVBQRUQgRlJPTToge29yaWdpbmFsTmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gUHJvcGVydHkgRGVmaW5pdGlvbiBDaGVja2JveCAtIHNhbWUgc3R5bGUgYXMgRW50aXR5IEVuYWJsZWQgLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiAhcHJvcD8uaXNQcm90ZWN0ZWQgJiYgIWlzR2xvYmFsbHlJZ25vcmVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgY3Vyc29yLXBvaW50ZXJcIiB0aXRsZT1cIntoYXNEZXNjcmlwdGlvbkluRGF0YUpzb24gPyAnUHJvcGVydHkgZGVmaW5lZCBpbiBkYXRhLmpzb24gLSB1bmNoZWNrIHRvIHJlbW92ZSBkZWZpbml0aW9uJyA6ICdQcm9wZXJ0eSBub3QgZGVmaW5lZCAtIGNoZWNrIHRvIGFkZCBkZWZpbml0aW9uIHRvIGRhdGEuanNvbid9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17aGFzRGVzY3JpcHRpb25JbkRhdGFKc29ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNoYW5nZXxzdG9wUHJvcGFnYXRpb249eygpID0+IHRvZ2dsZVByb3BlcnR5RGVmaW5pdGlvbihzY2hlbWEudHlwZU5hbWUsIHByb3A/Lm5hbWUgfHwgJycpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidy00IGgtNCB0ZXh0LVt2YXIoLS10ZXh0LXN1Y2Nlc3MpXSBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCBmb2N1czpyaW5nLVt2YXIoLS10ZXh0LXN1Y2Nlc3MpXSBmb2N1czpyaW5nLTJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMge2hhc0Rlc2NyaXB0aW9uSW5EYXRhSnNvbiA/ICd0ZXh0LVt2YXIoLS10ZXh0LXN1Y2Nlc3MpXScgOiAndGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldJ31cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aGFzRGVzY3JpcHRpb25JbkRhdGFKc29uID8gJ1Byb3BlcnR5IERlZmluZWQnIDogJ1Byb3BlcnR5IE5vdCBEZWZpbmVkJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gU3RhdHVzIEluZGljYXRvcnMgLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBwcm9wPy5pc1Byb3RlY3RlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyBweC0yIHB5LTEgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItZXJyb3IpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHJvdW5kZWQgZm9udC1ib2xkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIG1sLWF1dG9cIj5QUk9URUNURUQ8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgezplbHNlIGlmIGlzR2xvYmFsbHlJZ25vcmVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHB4LTIgcHktMSBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gcm91bmRlZCBmb250LWJvbGQgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgbWwtYXV0b1wiPklHTk9SRUQ8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgezplbHNlIGlmIHByb3A/LmNvbXBsaWFuY2VTdGF0dXMgPT09ICd3YXJuaW5nJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyBweC0yIHB5LTEgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItd2FybmluZyldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gcm91bmRlZCBmb250LWJvbGQgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgbWwtYXV0b1wiPk5BTUlORzwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7OmVsc2UgaWYgaXNQcm9wZXJ0eUVuYWJsZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgcHgtMiBweS0xIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLXN1Y2Nlc3MpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHJvdW5kZWQgZm9udC1ib2xkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIG1sLWF1dG9cIj5FTkFCTEVEPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHs6ZWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyBweC0yIHB5LTEgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIHJvdW5kZWQgZm9udC1ib2xkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIG1sLWF1dG9cIj5ESVNBQkxFRDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gRGVzY3JpcHRpb24gaW5wdXQgLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Z2V0UHJvcGVydHlEZXNjcmlwdGlvbihzY2hlbWEudHlwZU5hbWUsIHByb3A/Lm5hbWUgfHwgJycsIHByb3A/LmRlc2NyaXB0aW9uIHx8ICcnKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmlucHV0PXsoZSkgPT4gaGFuZGxlRGVzY3JpcHRpb25JbnB1dChzY2hlbWFJbmRleCwgcHJvcEluZGV4LCBlKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUHJvcGVydHkgZGVzY3JpcHRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmbGV4LTEgcHgtMyBweS0yIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGZvY3VzOmJvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1zbSBtaW4tdy00OCBkaXNhYmxlZDpvcGFjaXR5LTUwIHtpc0dsb2JhbGx5SWdub3JlZCA/ICdiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXScgOiAnJ31cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3Byb3A/LmlzUHJvdGVjdGVkIHx8IGlzR2xvYmFsbHlJZ25vcmVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBoYXNEZWZhdWx0UHJvcGVydHlEZXNjcmlwdGlvbihwcm9wPy5uYW1lIHx8ICcnKSAmJiAhcHJvcD8uaXNQcm90ZWN0ZWQgJiYgIWlzR2xvYmFsbHlJZ25vcmVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInB4LTIgcHktMiBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1zdWNjZXNzKV0gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgaG92ZXI6b3BhY2l0eS05MCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAgdGV4dC1zbSB3aGl0ZXNwYWNlLW5vd3JhcFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiBsb2FkRGVmYXVsdFByb3BlcnR5RGVzY3JpcHRpb24oc2NoZW1hLnR5cGVOYW1lLCBwcm9wPy5uYW1lIHx8ICcnKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJMb2FkIGRlZmF1bHQgZGVzY3JpcHRpb24gZm9yIHtwcm9wPy5uYW1lfVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cImRvd25sb2FkXCIgc2l6ZT1cIm1lZGl1bVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicHgtMiBweS0yIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCB0ZXh0LXNtIG9wYWNpdHktNTAgY3Vyc29yLW5vdC1hbGxvd2VkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiTExNIFN1Z2dlc3QgRGVzY3JpcHRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJzcGFya2xlc1wiIHNpemU9XCJtZWRpdW1cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gVmFsaWRhdGlvbiBXYXJuaW5ncyBhbmQgU3RhdHVzIE1lc3NhZ2VzIC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIHByb3A/LmlzUHJvdGVjdGVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdC0yIHAtMyBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1lcnJvcildIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCB0ZXh0LXNtIGxlYWRpbmctcmVsYXhlZCB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJhbGVydC10cmlhbmdsZVwiIHNpemU9XCJtZWRpdW1cIi8+IDxzdHJvbmc+UHJvdGVjdGVkIEF0dHJpYnV0ZTo8L3N0cm9uZz4gVGhpcyBpcyBhIHJlc2VydmVkIEdyYXBoaXRpIGF0dHJpYnV0ZSBhbmQgY2Fubm90IGJlIHVzZWQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIHByb3A/LnN1Z2dlc3RlZE5hbWUgJiYgcHJvcC5zdWdnZXN0ZWROYW1lICE9PSBwcm9wLm5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxicj5Db25zaWRlciB1c2luZzogPGNvZGUgY2xhc3M9XCJiZy1ibGFjay8xMCBweC0xIHB5LTAuNSByb3VuZGVkIGZvbnQtbW9ubyB0ZXh0LXhzXCI+e3Byb3Auc3VnZ2VzdGVkTmFtZX08L2NvZGU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7OmVsc2UgaWYgaXNHbG9iYWxseUlnbm9yZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm10LTIgcC0zIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCB0ZXh0LXNtIGxlYWRpbmctcmVsYXhlZCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz7wn5qrIEdsb2JhbGx5IElnbm9yZWQgRmllbGQ6PC9zdHJvbmc+IFRoaXMgcHJvcGVydHkgaXMgaW4gdGhlIGdsb2JhbGx5IGlnbm9yZWQgZmllbGRzIGxpc3QgYW5kIHdpbGwgYmUgYXV0b21hdGljYWxseSBleGNsdWRlZCBmcm9tIFB5ZGFudGljIG1vZGVsIGdlbmVyYXRpb24uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnI+PHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXVwiPkdsb2JhbGx5IGlnbm9yZWQgZmllbGRzOiB7cGx1Z2luU2V0dGluZ3M/Lmdsb2JhbGx5SWdub3JlZEZpZWxkcz8uam9pbignLCAnKSB8fCAnbm9uZSd9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7OmVsc2UgaWYgcHJvcD8ubmFtaW5nSXNzdWVzICYmIHByb3AubmFtaW5nSXNzdWVzLmxlbmd0aCA+IDB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm10LTIgcC0zIGJnLW9yYW5nZS0xMDAgYm9yZGVyIGJvcmRlci1vcmFuZ2UtMjAwIHJvdW5kZWQgdGV4dC1zbSBsZWFkaW5nLXJlbGF4ZWQgdGV4dC1ncmF5LTkwMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz48T2JzaWRpYW5JY29uIGljb249XCJsaWdodGJ1bGJcIiAvPiBOYW1pbmcgU3VnZ2VzdGlvbjo8L3N0cm9uZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwcm9wLm5hbWluZ0lzc3Vlcy5qb2luKCcsICcpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm10LTIgcHgtMyBweS0xIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLXdhcm5pbmcpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHJvdW5kZWQgdGV4dC14cyBmb250LW1lZGl1bSBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiBhcHBseU5hbWluZ1N1Z2dlc3Rpb24oc2NoZW1hSW5kZXgsIHByb3BJbmRleCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFwcGx5OiB7cHJvcD8uc3VnZ2VzdGVkTmFtZSB8fCAnU3VnZ2VzdGlvbid9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgezplbHNlIGlmICFpc1Byb3BlcnR5RW5hYmxlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibXQtMiBwLTMgYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIHRleHQtc20gbGVhZGluZy1yZWxheGVkIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJpbmZvXCIgc2l6ZT1cIm1lZGl1bVwiIC8+IDxzdHJvbmc+UHJvcGVydHkgRGlzYWJsZWQ6PC9zdHJvbmc+IFRoaXMgcHJvcGVydHkgaXMgY3VycmVudGx5IGRpc2FibGVkIGFuZCB3aWxsIG5vdCBiZSBpbmNsdWRlZCBpbiB0aGUgZ2VuZXJhdGVkIFB5ZGFudGljIG1vZGVsLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBwcm9wPy5leGFtcGxlcyAmJiBwcm9wLmV4YW1wbGVzLmxlbmd0aCA+IDB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQteHMgdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIGl0YWxpYyBtdC0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPkV4YW1wbGVzOjwvc3Ryb25nPiB7cHJvcC5leGFtcGxlcy5zbGljZSgwLCAzKS5qb2luKCcsICcpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBwcm9wLmV4YW1wbGVzLmxlbmd0aCA+IDN9Li4uey9pZn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsvZWFjaH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7OmVsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIGl0YWxpYyB0ZXh0LWNlbnRlciBweS00XCI+Tm8gcHJvcGVydGllcyBmb3VuZCBmb3IgdGhpcyBlbnRpdHkgdHlwZS48L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICA8IS0tIFByb3BlcnR5IFNlbGVjdGlvbiBWYWxpZGF0aW9uIE1lc3NhZ2VzIC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgeyNpZiBzY2hlbWEucHJvcGVydGllcyAmJiBzY2hlbWEucHJvcGVydGllcy5sZW5ndGggPiAwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7I2lmIGVuYWJsZWRQcm9wZXJ0aWVzLmxlbmd0aCA9PT0gMH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibXQtNCBwLTMgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItd2FybmluZyldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCB0ZXh0LXNtIGxlYWRpbmctcmVsYXhlZCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwiYWxlcnQtdHJpYW5nbGVcIiBzaXplPVwibWVkaXVtXCIgLz4gPHN0cm9uZz5ObyBQcm9wZXJ0aWVzIFNlbGVjdGVkOjwvc3Ryb25nPiBUaGlzIGVudGl0eSB0eXBlIGhhcyBubyBlbmFibGVkIHByb3BlcnRpZXMgYW5kIHdpbGwgYmUgZXhjbHVkZWQgZnJvbSBQeWRhbnRpYyBtb2RlbCBnZW5lcmF0aW9uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyPjxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIj5FbmFibGUgYXQgbGVhc3Qgb25lIHByb3BlcnR5IHVzaW5nIHRoZSBjaGVja2JveGVzIGFib3ZlLCBvciB0aGlzIGVudGl0eSB0eXBlIHdvbid0IGFwcGVhciBpbiBnZW5lcmF0ZWQgbW9kZWxzLjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgezplbHNlIGlmIGVuYWJsZWRQcm9wZXJ0aWVzLmxlbmd0aCA8IHRvdGFsUHJvcGVydGllc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibXQtNCBwLTMgYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIHRleHQtc20gbGVhZGluZy1yZWxheGVkIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPltJTkZPXSBQYXJ0aWFsIFNlbGVjdGlvbjo8L3N0cm9uZz4ge2VuYWJsZWRQcm9wZXJ0aWVzLmxlbmd0aH0gb2Yge3RvdGFsUHJvcGVydGllc30gcHJvcGVydGllcyBlbmFibGVkIGZvciBQeWRhbnRpYyBtb2RlbCBnZW5lcmF0aW9uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyPjxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIj57dG90YWxQcm9wZXJ0aWVzIC0gZW5hYmxlZFByb3BlcnRpZXMubGVuZ3RofSBwcm9wZXJ0aWVzIHdpbGwgYmUgZXhjbHVkZWQgZnJvbSB0aGUgZ2VuZXJhdGVkIG1vZGVsLjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgezplbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdC00IHAtMyBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1zdWNjZXNzKV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIHRleHQtc20gbGVhZGluZy1yZWxheGVkIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJjaGVjay1jaXJjbGVcIiBzaXplPVwibWVkaXVtXCIgLz4gPHN0cm9uZz5BbGwgUHJvcGVydGllcyBFbmFibGVkOjwvc3Ryb25nPiB7ZW5hYmxlZFByb3BlcnRpZXMubGVuZ3RofSBwcm9wZXJ0e2VuYWJsZWRQcm9wZXJ0aWVzLmxlbmd0aCA9PT0gMSA/ICd5JyA6ICdpZXMnfSByZWFkeSBmb3IgUHlkYW50aWMgbW9kZWwgZ2VuZXJhdGlvbi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxicj48c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldXCI+VGhpcyBlbnRpdHkgdHlwZSBpcyBmdWxseSBjb25maWd1cmVkIGFuZCByZWFkeSB0byB1c2UuPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIHsvZWFjaH1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICB7OmVsc2V9XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlciBweS04IHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXVwiPlxyXG4gICAgICAgICAgICAgIDxwPk5vIGVudGl0eSB0eXBlcyBmb3VuZC4gUnVuIHNjaGVtYSBkaXNjb3ZlcnkgZmlyc3QuPC9wPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIHsvaWZ9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgey9pZn1cclxuXHJcbiAgICA8IS0tIEVER0UgVFlQRVMgVEFCIC0tPlxyXG4gICAgeyNpZiBhY3RpdmVUYWIgPT09ICdlZGdlcyd9XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJhbmltYXRlLWZhZGVJblwiPlxyXG4gICAgICAgIDxkaXY+XHJcbiAgICAgICAgICA8aDMgY2xhc3M9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgbWItMiB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJsaW5rLTJcIiAvPiBFZGdlIFR5cGVzIE1hbmFnZW1lbnRcclxuICAgICAgICAgIDwvaDM+XHJcbiAgICAgICAgICA8cCBjbGFzcz1cInRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSBtYi02XCI+XHJcbiAgICAgICAgICAgIERlZmluZSByZWxhdGlvbnNoaXAgdHlwZXMgYmV0d2VlbiBlbnRpdGllcyB3aXRoIGN1c3RvbSBwcm9wZXJ0aWVzIGZvciBQeWRhbnRpYyBtb2RlbCBnZW5lcmF0aW9uLlxyXG4gICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICB7I2lmIGVkZ2VUeXBlc0xpc3QgJiYgZWRnZVR5cGVzTGlzdC5sZW5ndGggPiAwfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbCBnYXAtNFwiPlxyXG4gICAgICAgICAgICAgIHsjZWFjaCBlZGdlVHlwZXNMaXN0IGFzIGVkZ2VUeXBlTmFtZX1cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnktYWx0KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkLWxnIG92ZXJmbG93LWhpZGRlblwiIGlkPVwiYWNjb3JkaW9uLWVkZ2Ute2VkZ2VUeXBlTmFtZX1cIj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciB3LWZ1bGwgcC00IGJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlci1ub25lIHtleHBhbmRlZEFjY29yZGlvbnMuaGFzKGBlZGdlLSR7ZWRnZVR5cGVOYW1lfWApID8gJ2JvcmRlci1iIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXScgOiAnJ31cIj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImZsZXgtMSBmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgdGV4dC1sZWZ0IGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMCBob3ZlcjpvcGFjaXR5LTkwXCJcclxuICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiB0b2dnbGVBY2NvcmRpb24oYGVkZ2UtJHtlZGdlVHlwZU5hbWV9YCl9XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzPVwiZm9udC1zZW1pYm9sZCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPntlZGdlVHlwZU5hbWV9PC9oND5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHB4LTIgcHktMSByb3VuZGVkLWZ1bGxcIj57T2JqZWN0LmtleXMoZWRnZVR5cGVzW2VkZ2VUeXBlTmFtZV0/LnByb3BlcnRpZXMgfHwge30pLmxlbmd0aH0gcHJvcGVydGllczwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LWxnIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSBmb250LWJvbGQgbWwtNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgZXhwYW5kZWRBY2NvcmRpb25zLmhhcyhgZWRnZS0ke2VkZ2VUeXBlTmFtZX1gKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cImNoZXZyb24tZG93blwiIHNpemU9XCJtZWRpdW1cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHs6ZWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cImNoZXZyb24tcmlnaHRcIiBzaXplPVwibWVkaXVtXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1sLTIgcHgtMiBweS0xIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWVycm9yKV0gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgaG92ZXI6b3BhY2l0eS05MCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAgdGV4dC14c1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICBvbjpjbGlja3xzdG9wUHJvcGFnYXRpb249eygpID0+IGRlbGV0ZUVkZ2VUeXBlKGVkZ2VUeXBlTmFtZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkRlbGV0ZSB7ZWRnZVR5cGVOYW1lfSBlZGdlIHR5cGVcIlxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cInRyYXNoLTJcIiBzaXplPVwibWVkaXVtXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICB7I2lmIGV4cGFuZGVkQWNjb3JkaW9ucy5oYXMoYGVkZ2UtJHtlZGdlVHlwZU5hbWV9YCl9XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInAtNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPCEtLSBFZGdlIFR5cGUgRGVzY3JpcHRpb24gLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nIGNsYXNzPVwidGV4dC1zbSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSBibG9jayBtYi0yXCI+RGVzY3JpcHRpb246PC9zdHJvbmc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtnZXRFZGdlVHlwZURlc2NyaXB0aW9uKGVkZ2VUeXBlTmFtZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb246aW5wdXQ9eyhlKSA9PiBoYW5kbGVFZGdlVHlwZURlc2NyaXB0aW9uSW5wdXQoZWRnZVR5cGVOYW1lLCBlKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gZm9jdXM6Ym9yZGVyLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LXNtIGxlYWRpbmctcmVsYXhlZCByZXNpemUtdmVydGljYWxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRGVzY3JpYmUgdGhpcyByZWxhdGlvbnNoaXAgdHlwZS4uLlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz1cIjJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+PC90ZXh0YXJlYT5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIDwhLS0gRWRnZSBQcm9wZXJ0aWVzIExpc3QgLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nIGNsYXNzPVwidGV4dC1zbSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPlByb3BlcnRpZXM6PC9zdHJvbmc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJweC0yIHB5LTEgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIHRleHQteHMgaG92ZXI6b3BhY2l0eS05MCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IGFkZGluZ1Byb3BlcnR5VG9FZGdlID0gZWRnZVR5cGVOYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cImNoZXZyb24tcmlnaHRcIiBzaXplPVwibWVkaXVtXCIgLz4gQWRkIFByb3BlcnR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBPYmplY3Qua2V5cyhlZGdlVHlwZXNbZWRnZVR5cGVOYW1lXT8ucHJvcGVydGllcyB8fCB7fSkubGVuZ3RoID4gMH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbCBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNlYWNoIE9iamVjdC5lbnRyaWVzKGVkZ2VUeXBlc1tlZGdlVHlwZU5hbWVdLnByb3BlcnRpZXMpIGFzIFtwcm9wTmFtZSwgcHJvcERlZl19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sIGdhcC0yIHAtMyBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgZmxleC13cmFwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZvbnQtbWVkaXVtIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+e3Byb3BOYW1lfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIHRleHQtc21cIj4oe2dldFByb3BlcnR5SW5mbyhwcm9wRGVmKS5maWVsZFR5cGV9KTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgZ2V0UHJvcGVydHlJbmZvKHByb3BEZWYpLnJlcXVpcmVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgcHgtMiBweS0xIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLXdhcm5pbmcpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHJvdW5kZWQgZm9udC1ib2xkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIG1sLWF1dG9cIj5SRVFVSVJFRDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Z2V0UHJvcGVydHlJbmZvKHByb3BEZWYpLmRlc2NyaXB0aW9ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjppbnB1dD17KGUpID0+IGhhbmRsZUVkZ2VQcm9wZXJ0eURlc2NyaXB0aW9uSW5wdXQoZWRnZVR5cGVOYW1lLCBwcm9wTmFtZSwgZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUHJvcGVydHkgZGVzY3JpcHRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImZsZXgtMSBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gZm9jdXM6Ym9yZGVyLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LXNtIG1pbi13LTQ4XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicHgtMiBweS0yIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWVycm9yKV0gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgaG92ZXI6b3BhY2l0eS05MCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gcmVtb3ZlUHJvcGVydHlGcm9tRWRnZVR5cGUoZWRnZVR5cGVOYW1lLCBwcm9wTmFtZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cInRyYXNoLTJcIiBzaXplPVwibWVkaXVtXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInB4LTIgcHktMiBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgdGV4dC1zbSBvcGFjaXR5LTUwIGN1cnNvci1ub3QtYWxsb3dlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiTExNIFN1Z2dlc3QgRGVzY3JpcHRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJzcGFya2xlc1wiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2VhY2h9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHs6ZWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSBpdGFsaWMgdGV4dC1jZW50ZXIgcHktMiB0ZXh0LXNtXCI+Tm8gcHJvcGVydGllcyBkZWZpbmVkPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBBZGQgUHJvcGVydHkgRm9ybSAtLT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBhZGRpbmdQcm9wZXJ0eVRvRWRnZSA9PT0gZWRnZVR5cGVOYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdC00IHAtNCBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC0yIG1iLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpbmQ6dmFsdWU9e25ld1Byb3BlcnR5TmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlByb3BlcnR5IG5hbWUgKGUuZy4sIGpvYlRpdGxlLCBzZW50aW1lbnQpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImZsZXgtMSBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gZm9jdXM6Ym9yZGVyLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LXNtXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBiaW5kOnZhbHVlPXtuZXdQcm9wZXJ0eVR5cGV9IGNsYXNzPVwicHgtMyBweS0yIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGZvY3VzOmJvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1zbSBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBhcHBlYXJhbmNlLW5vbmUgY3Vyc29yLXBvaW50ZXIgaG92ZXI6b3BhY2l0eS05MCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAgbWluLXctMzJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwic3RyXCI+U3RyaW5nPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImludFwiPkludGVnZXI8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiZGF0ZXRpbWVcIj5EYXRlVGltZTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJib29sXCI+Qm9vbGVhbjwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJmbG9hdFwiPkZsb2F0PC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkxpc3Rbc3RyXVwiPkxpc3Q8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYi0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaW5kOnZhbHVlPXtuZXdQcm9wZXJ0eURlc2NyaXB0aW9ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUHJvcGVydHkgZGVzY3JpcHRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidy1mdWxsIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBmb2N1czpib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtc21cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicHgtMyBweS0yIGJnLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHJvdW5kZWQgdGV4dC1zbSBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMFwiIG9uOmNsaWNrPXsoKSA9PiBhZGRQcm9wZXJ0eVRvRWRnZVR5cGUoZWRnZVR5cGVOYW1lKX0+QWRkIFByb3BlcnR5PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJweC0zIHB5LTIgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gcm91bmRlZCB0ZXh0LXNtIGhvdmVyOm9wYWNpdHktOTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwXCIgb246Y2xpY2s9eygpID0+IGFkZGluZ1Byb3BlcnR5VG9FZGdlID0gbnVsbH0+Q2FuY2VsPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgey9lYWNofVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIHs6ZWxzZX1cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtY2VudGVyIHB5LTE2IHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXVwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LTZ4bCBtYi01IG9wYWNpdHktNTBcIj48T2JzaWRpYW5JY29uIGljb249XCJsaW5rLTJcIiAvPjwvZGl2PlxyXG4gICAgICAgICAgICAgIDxoNCBjbGFzcz1cInRleHQtbGcgZm9udC1zZW1pYm9sZCBtYi0zIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+Tm8gRWRnZSBUeXBlcyBEZWZpbmVkPC9oND5cclxuICAgICAgICAgICAgICA8cCBjbGFzcz1cIm1iLTEwIG1heC13LWxnIG14LWF1dG8gbGVhZGluZy1yZWxheGVkIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXVwiPkNyZWF0ZSByZWxhdGlvbnNoaXAgdHlwZXMgbGlrZSBcIldvcmtzRm9yXCIsIFwiVXNlc1wiLCBvciBcIkNyZWF0ZXNcIiB3aXRoIGN1c3RvbSBwcm9wZXJ0aWVzLjwvcD5cclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibXQtMTAgcHQtOCBib3JkZXItdCBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV1cIj5cclxuICAgICAgICAgICAgICAgIDxoNSBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZCBtYi01IHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+UXVpY2sgQWRkIENvbW1vbiBUeXBlczo8L2g1PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyaWQgZ3JpZC1jb2xzLTIgbWQ6Z3JpZC1jb2xzLTMgZ2FwLTMgbWF4LXctMnhsIG14LWF1dG9cIj5cclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gcHgtNCBweS0zIHJvdW5kZWQtbGcgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGhvdmVyOm9wYWNpdHktOTAgaG92ZXI6Ym9yZGVyLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBob3ZlcjpzaGFkb3ctbWQgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1zbSBmb250LW1lZGl1bVwiIG9uOmNsaWNrPXsoKSA9PiBxdWlja0FkZEVkZ2VUeXBlKCdXb3Jrc0ZvcicpfT5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtYmFzZSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPldvcmtzRm9yPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gcHgtNCBweS0zIHJvdW5kZWQtbGcgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGhvdmVyOm9wYWNpdHktOTAgaG92ZXI6Ym9yZGVyLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBob3ZlcjpzaGFkb3ctbWQgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1zbSBmb250LW1lZGl1bVwiIG9uOmNsaWNrPXsoKSA9PiBxdWlja0FkZEVkZ2VUeXBlKCdVc2VzJyl9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1iYXNlIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+VXNlczwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIHB4LTQgcHktMyByb3VuZGVkLWxnIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBob3ZlcjpvcGFjaXR5LTkwIGhvdmVyOmJvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gaG92ZXI6c2hhZG93LW1kIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtc20gZm9udC1tZWRpdW1cIiBvbjpjbGljaz17KCkgPT4gcXVpY2tBZGRFZGdlVHlwZSgnQ3JlYXRlcycpfT5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtYmFzZSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPjxPYnNpZGlhbkljb24gaWNvbj1cInNwYXJrbGVzXCIgLz48L3NwYW4+IENyZWF0ZXNcclxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIHB4LTQgcHktMyByb3VuZGVkLWxnIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBob3ZlcjpvcGFjaXR5LTkwIGhvdmVyOmJvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gaG92ZXI6c2hhZG93LW1kIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtc20gZm9udC1tZWRpdW1cIiBvbjpjbGljaz17KCkgPT4gcXVpY2tBZGRFZGdlVHlwZSgnTWVtYmVyT2YnKX0+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LWJhc2UgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj48T2JzaWRpYW5JY29uIGljb249XCJ1c2Vyc1wiIC8+PC9zcGFuPiBNZW1iZXJPZlxyXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gcHgtNCBweS0zIHJvdW5kZWQtbGcgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGhvdmVyOm9wYWNpdHktOTAgaG92ZXI6Ym9yZGVyLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBob3ZlcjpzaGFkb3ctbWQgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1zbSBmb250LW1lZGl1bVwiIG9uOmNsaWNrPXsoKSA9PiBxdWlja0FkZEVkZ2VUeXBlKCdNYW5hZ2VzJyl9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1iYXNlIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+PE9ic2lkaWFuSWNvbiBpY29uPVwiYmFyLWNoYXJ0LTJcIiAvPjwvc3Bhbj4gTWFuYWdlc1xyXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gcHgtNCBweS0zIHJvdW5kZWQtbGcgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGhvdmVyOm9wYWNpdHktOTAgaG92ZXI6Ym9yZGVyLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBob3ZlcjpzaGFkb3ctbWQgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1zbSBmb250LW1lZGl1bVwiIG9uOmNsaWNrPXsoKSA9PiBxdWlja0FkZEVkZ2VUeXBlKCdDb250YWlucycpfT5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtYmFzZSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPjxPYnNpZGlhbkljb24gaWNvbj1cInBhY2thZ2VcIiAvPjwvc3Bhbj4gQ29udGFpbnNcclxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICB7L2lmfVxyXG5cclxuICAgICAgICAgIDwhLS0gVW51c2VkIERlZmF1bHQgRWRnZSBUeXBlcyBTZWN0aW9uIC0tPlxyXG4gICAgICAgICAgeyNpZiBPYmplY3Qua2V5cyh1bnVzZWRFZGdlVHlwZXMpLmxlbmd0aCA+IDB9XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdC04IHB0LTggYm9yZGVyLXQgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildXCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi00XCI+XHJcbiAgICAgICAgICAgICAgICA8aDQgY2xhc3M9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwiY2xpcGJvYXJkLWxpc3RcIiAvPiBBdmFpbGFibGUgRGVmYXVsdCBFZGdlIFR5cGVzXHJcbiAgICAgICAgICAgICAgICA8L2g0PlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cInB4LTMgcHktMiBiZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSByb3VuZGVkIGhvdmVyOm9wYWNpdHktOTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIHRleHQtc20gZm9udC1tZWRpdW1cIlxyXG4gICAgICAgICAgICAgICAgICBvbjpjbGljaz17YWRkQWxsVW51c2VkRWRnZVR5cGVzfVxyXG4gICAgICAgICAgICAgICAgICB0aXRsZT1cIkFkZCBhbGwgdW51c2VkIGRlZmF1bHQgZWRnZSB0eXBlcyBhdCBvbmNlXCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgQWRkIEFsbFxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gbWItNFwiPlxyXG4gICAgICAgICAgICAgICAgQ29tbW9uIGVkZ2UgdHlwZXMgeW91IGNhbiBhZGQgd2l0aCBvbmUgY2xpY2suIFRoZXNlIGluY2x1ZGUgc3RhbmRhcmQgcHJvcGVydGllcyBhbmQgZGVzY3JpcHRpb25zLlxyXG4gICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBnYXAtM1wiPlxyXG4gICAgICAgICAgICAgICAgeyNlYWNoIE9iamVjdC5lbnRyaWVzKHVudXNlZEVkZ2VUeXBlcykgYXMgW2VkZ2VUeXBlTmFtZSwgZGVzY3JpcHRpb25dfVxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSBwLTQgcm91bmRlZC1sZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1zdGFydCBtYi0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+e2VkZ2VUeXBlTmFtZX08L2g1PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInB4LTIgcHktMSBiZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSByb3VuZGVkIHRleHQteHMgaG92ZXI6b3BhY2l0eS05MCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gcXVpY2tBZGRFZGdlVHlwZShlZGdlVHlwZU5hbWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkFkZCB7ZWRnZVR5cGVOYW1lfSBlZGdlIHR5cGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJjaGV2cm9uLXJpZ2h0XCIgc2l6ZT1cIm1lZGl1bVwiIC8+IEFkZFxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gdGV4dC1zbSBsZWFkaW5nLXJlbGF4ZWRcIj57ZGVzY3JpcHRpb259PC9wPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIHsvZWFjaH1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICB7L2lmfVxyXG5cclxuICAgICAgICAgIDwhLS0gQWRkIE5ldyBFZGdlIFR5cGUgQnV0dG9uIC0tPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm10LTZcIj5cclxuICAgICAgICAgICAgeyNpZiBzaG93QWRkRWRnZUZvcm19XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeS1hbHQpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQtbGcgcC02XCI+XHJcbiAgICAgICAgICAgICAgICA8aDQgY2xhc3M9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgbWItNCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPkFkZCBOZXcgRWRnZSBUeXBlPC9oND5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYi00XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICBiaW5kOnZhbHVlPXtuZXdFZGdlVHlwZU5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFZGdlIHR5cGUgbmFtZSAoZS5nLiwgV29ya3NGb3IsIFVzZXMsIENyZWF0ZXMpXCJcclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gZm9jdXM6Ym9yZGVyLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LXNtXCJcclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTRcIj5cclxuICAgICAgICAgICAgICAgICAgPHRleHRhcmVhXHJcbiAgICAgICAgICAgICAgICAgICAgYmluZDp2YWx1ZT17bmV3RWRnZVR5cGVEZXNjcmlwdGlvbn1cclxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkRlc2NyaXB0aW9uIG9mIHRoaXMgcmVsYXRpb25zaGlwIHR5cGVcIlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidy1mdWxsIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBmb2N1czpib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtc20gbGVhZGluZy1yZWxheGVkIHJlc2l6ZS12ZXJ0aWNhbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgcm93cz1cIjJcIlxyXG4gICAgICAgICAgICAgICAgICA+PC90ZXh0YXJlYT5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInB4LTQgcHktMiBiZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSByb3VuZGVkIGhvdmVyOm9wYWNpdHktOTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwXCIgb246Y2xpY2s9e3NhdmVOZXdFZGdlVHlwZX0+U2F2ZSBFZGdlIFR5cGU8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInB4LTQgcHktMiBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSByb3VuZGVkIGhvdmVyOm9wYWNpdHktOTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwXCIgb246Y2xpY2s9e2NhbmNlbEFkZEVkZ2VUeXBlfT5DYW5jZWw8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICB7OmVsc2V9XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInB4LTQgcHktMiBiZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSByb3VuZGVkIGhvdmVyOm9wYWNpdHktOTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwXCIgb246Y2xpY2s9eygpID0+IHNob3dBZGRFZGdlRm9ybSA9IHRydWV9PlxyXG4gICAgICAgICAgICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwiY2hldnJvbi1yaWdodFwiIHNpemU9XCJtZWRpdW1cIiAvPiBBZGQgRWRnZSBUeXBlXHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIHsvaWZ9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICB7L2lmfVxyXG5cclxuICAgIDwhLS0gRURHRSBNQVBQSU5HUyBUQUIgLS0+XHJcbiAgICB7I2lmIGFjdGl2ZVRhYiA9PT0gJ21hcHBpbmdzJ31cclxuICAgICAgPGRpdiBjbGFzcz1cImFuaW1hdGUtZmFkZUluXCI+XHJcbiAgICAgICAgPGRpdj5cclxuICAgICAgICAgIDxoMyBjbGFzcz1cInRleHQtbGcgZm9udC1zZW1pYm9sZCBtYi0yIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cIm1hcFwiIC8+IEVkZ2UgVHlwZSBNYXBwaW5nc1xyXG4gICAgICAgICAgPC9oMz5cclxuICAgICAgICAgIDxwIGNsYXNzPVwibWItNlwiPlxyXG4gICAgICAgICAgICBEZWZpbmUgd2hpY2ggZWRnZSB0eXBlcyBjYW4gY29ubmVjdCB3aGljaCBlbnRpdHkgdHlwZXMuIENvbnRyb2xzIHJlbGF0aW9uc2hpcCB2YWxpZGF0aW9uIGluIHlvdXIga25vd2xlZGdlIGdyYXBoLlxyXG4gICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICB7I2lmIGVkZ2VUeXBlTWFwICYmIGVkZ2VUeXBlTWFwLmxlbmd0aCA+IDB9XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sIGdhcC00XCI+XHJcbiAgICAgICAgICAgICAgeyNlYWNoIGVkZ2VUeXBlTWFwIGFzIG1hcHBpbmcsIGluZGV4fVxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeS1hbHQpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQtbGcgb3ZlcmZsb3ctaGlkZGVuXCIgaWQ9XCJtYXBwaW5nLXtpbmRleH1cIj5cclxuICAgICAgICAgICAgICAgICAgeyNpZiBlZGl0aW5nTWFwcGluZ0luZGV4ID09PSBpbmRleH1cclxuICAgICAgICAgICAgICAgICAgICA8IS0tIEVkaXQgRm9ybSAtLT5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicC00IGJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeS1hbHQpXSBib3JkZXItbm9uZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzPVwidGV4dC1sZyBmb250LXNlbWlib2xkIG1iLTQgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj5FZGl0IEVkZ2UgTWFwcGluZzwvaDQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTQgbWItNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJlZGl0LXNvdXJjZS1lbnRpdHlcIiBjbGFzcz1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gbWItMlwiPlNvdXJjZSBFbnRpdHkgVHlwZTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD1cImVkaXQtc291cmNlLWVudGl0eVwiIGJpbmQ6dmFsdWU9e3RlbXBFZGl0TWFwcGluZ1NvdXJjZUVudGl0eX0gY2xhc3M9XCJ3LWZ1bGwgcHgtMyBweS0xIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGZvY3VzOmJvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1zbSBsZWFkaW5nLW5vcm1hbCBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBtaW4tdy00OFwiPiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+U2VsZWN0IHNvdXJjZSBlbnRpdHkuLi48L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjZWFjaCBhbGxFbnRpdHlUeXBlcyBhcyBlbnRpdHlUeXBlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPXtlbnRpdHlUeXBlfT57ZW50aXR5VHlwZX08L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvZWFjaH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJlZGl0LXRhcmdldC1lbnRpdHlcIiBjbGFzcz1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gbWItMlwiPlRhcmdldCBFbnRpdHkgVHlwZTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD1cImVkaXQtdGFyZ2V0LWVudGl0eVwiIGJpbmQ6dmFsdWU9e3RlbXBFZGl0TWFwcGluZ1RhcmdldEVudGl0eX0gY2xhc3M9XCJ3LWZ1bGwgcHgtMyBweS0xIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGZvY3VzOmJvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1zbSBsZWFkaW5nLW5vcm1hbCBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBtaW4tdy00OFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPlNlbGVjdCB0YXJnZXQgZW50aXR5Li4uPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2VhY2ggYWxsRW50aXR5VHlwZXMgYXMgZW50aXR5VHlwZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT17ZW50aXR5VHlwZX0+e2VudGl0eVR5cGV9PC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2VhY2h9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYi00XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSBtYi0yXCI+QWxsb3dlZCBFZGdlIFR5cGVzPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7I2lmIGVkZ2VUeXBlc0xpc3QubGVuZ3RoID4gMH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JpZCBncmlkLWNvbHMtMiBtZDpncmlkLWNvbHMtMyBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNlYWNoIGVkZ2VUeXBlc0xpc3QgYXMgZWRnZVR5cGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHAtMiBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgaG92ZXI6b3BhY2l0eS05MCBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXt0ZW1wRWRpdE1hcHBpbmdBbGxvd2VkRWRnZXMuaW5jbHVkZXMoZWRnZVR5cGUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2hhbmdlPXsoKSA9PiB0b2dnbGVFZGl0RWRnZVR5cGUoZWRnZVR5cGUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJyb3VuZGVkIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSB0ZXh0LVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBmb2N1czpyaW5nLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtc20gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj57ZWRnZVR5cGV9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey9lYWNofVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7OmVsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSBpdGFsaWNcIj5ObyBlZGdlIHR5cGVzIGRlZmluZWQuIENyZWF0ZSBlZGdlIHR5cGVzIGZpcnN0LjwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJweC00IHB5LTIgYmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gcm91bmRlZCBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9e3NhdmVFZGl0TWFwcGluZ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IXRlbXBFZGl0TWFwcGluZ1NvdXJjZUVudGl0eSB8fCAhdGVtcEVkaXRNYXBwaW5nVGFyZ2V0RW50aXR5IHx8IHRlbXBFZGl0TWFwcGluZ0FsbG93ZWRFZGdlcy5sZW5ndGggPT09IDB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBTYXZlIENoYW5nZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJweC00IHB5LTIgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gcm91bmRlZCBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMFwiIG9uOmNsaWNrPXtjYW5jZWxFZGl0TWFwcGluZ30+Q2FuY2VsPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgezplbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgIDwhLS0gRGlzcGxheSBNb2RlIC0tPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwLTQgYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5LWFsdCldIGJvcmRlci1ub25lXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+e21hcHBpbmcuc291cmNlRW50aXR5fTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldXCI+4oaSPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+e21hcHBpbmcudGFyZ2V0RW50aXR5fTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtMSBmbGV4LXdyYXBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjZWFjaCBtYXBwaW5nLmFsbG93ZWRFZGdlcyBhcyBlZGdlVHlwZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHB4LTIgcHktMSBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gcm91bmRlZC1mdWxsIGZvbnQtbWVkaXVtXCI+e2VkZ2VUeXBlfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvZWFjaH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcHgtMiBweS0xIHJvdW5kZWQtZnVsbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge21hcHBpbmcuaXNVc2VyRGVmaW5lZCA/ICdVc2VyJyA6ICdBdXRvJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJwLTEgdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIGhvdmVyOm9wYWNpdHktOTAgaG92ZXI6YmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IHN0YXJ0RWRpdE1hcHBpbmcoaW5kZXgpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJFZGl0IE1hcHBpbmdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cInBlbmNpbFwiIHNpemU9XCJtZWRpdW1cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicHgtMiBweS0xIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWVycm9yKV0gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgaG92ZXI6b3BhY2l0eS05MCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAgdGV4dC14c1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gcmVtb3ZlTWFwcGluZyhpbmRleCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwidHJhc2gtMlwiIHNpemU9XCJtZWRpdW1cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgey9lYWNofVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIHs6ZWxzZX1cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtY2VudGVyIHB5LTE2IHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXVwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LTZ4bCBtYi01IG9wYWNpdHktNTBcIj48T2JzaWRpYW5JY29uIGljb249XCJtYXBcIiAvPjwvZGl2PlxyXG4gICAgICAgICAgICAgIDxoNCBjbGFzcz1cInRleHQtbGcgZm9udC1zZW1pYm9sZCBtYi0zIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+Tm8gRWRnZSBNYXBwaW5ncyBEZWZpbmVkPC9oND5cclxuICAgICAgICAgICAgICA8cCBjbGFzcz1cIm1iLTEwIG1heC13LWxnIG14LWF1dG8gbGVhZGluZy1yZWxheGVkIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXVwiPkNyZWF0ZSBtYXBwaW5ncyB0byBkZWZpbmUgd2hpY2ggcmVsYXRpb25zaGlwcyBjYW4gZXhpc3QgYmV0d2VlbiBlbnRpdHkgdHlwZXMuPC9wPlxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdC0xMCBwdC04IGJvcmRlci10IGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXVwiPlxyXG4gICAgICAgICAgICAgICAgPGg1IGNsYXNzPVwidGV4dC1zbSBmb250LXNlbWlib2xkIG1iLTUgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj5RdWljayBBZGQgQ29tbW9uIE1hcHBpbmdzOjwvaDU+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBnYXAtMyBtYXgtdy0yeGwgbXgtYXV0b1wiPlxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSBwLTQgcm91bmRlZC1sZyBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgaG92ZXI6b3BhY2l0eS05MCBob3Zlcjpib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGhvdmVyOnNoYWRvdy1tZCB0ZXh0LXNtIGZvbnQtbWVkaXVtXCJcclxuICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gcXVpY2tBZGRNYXBwaW5nKCdQZXJzb24nLCAnVGVjaG5vbG9neScsIFsnVXNlcycsICdSZWxhdGVzVG8nXSl9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb250LXNlbWlib2xkIG1iLTEgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj48T2JzaWRpYW5JY29uIGljb249XCJ1c2VyXCIgLz4gUGVyc29uIOKGkiA8T2JzaWRpYW5JY29uIGljb249XCJtb25pdG9yXCIgLz4gVGVjaG5vbG9neTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXVwiPlVzZXMsIFJlbGF0ZXNUbzwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gcC00IHJvdW5kZWQtbGcgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGhvdmVyOm9wYWNpdHktOTAgaG92ZXI6Ym9yZGVyLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBob3ZlcjpzaGFkb3ctbWQgdGV4dC1zbSBmb250LW1lZGl1bVwiXHJcbiAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IHF1aWNrQWRkTWFwcGluZygnUGVyc29uJywgJ1Byb2plY3QnLCBbJ1dvcmtzT24nLCAnTWFuYWdlcycsICdSZWxhdGVzVG8nXSl9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb250LXNlbWlib2xkIG1iLTEgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj48T2JzaWRpYW5JY29uIGljb249XCJ1c2VyXCIgLz4gUGVyc29uIOKGkiA8T2JzaWRpYW5JY29uIGljb249XCJmb2xkZXJcIiAvPiBQcm9qZWN0PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQteHMgdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldXCI+V29ya3NPbiwgTWFuYWdlcywgUmVsYXRlc1RvPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSBwLTQgcm91bmRlZC1sZyBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgaG92ZXI6b3BhY2l0eS05MCBob3Zlcjpib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGhvdmVyOnNoYWRvdy1tZCB0ZXh0LXNtIGZvbnQtbWVkaXVtXCJcclxuICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gcXVpY2tBZGRNYXBwaW5nKCdFbnRpdHknLCAnRW50aXR5JywgWydSZWxhdGVzVG8nXSl9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb250LXNlbWlib2xkIG1iLTEgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj48T2JzaWRpYW5JY29uIGljb249XCJsaW5rLTJcIiAvPiBFbnRpdHkg4oaSIEVudGl0eTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXVwiPlJlbGF0ZXNUbyAoR2VuZXJpYyk8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIHAtNCByb3VuZGVkLWxnIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBob3ZlcjpvcGFjaXR5LTkwIGhvdmVyOmJvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gaG92ZXI6c2hhZG93LW1kIHRleHQtc20gZm9udC1tZWRpdW1cIlxyXG4gICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiBxdWlja0FkZE1hcHBpbmcoJ1Byb2plY3QnLCAnVGVjaG5vbG9neScsIFsnVXNlcycsICdEZXBlbmRzT24nLCAnUmVsYXRlc1RvJ10pfT5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9udC1zZW1pYm9sZCBtYi0xIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+PE9ic2lkaWFuSWNvbiBpY29uPVwiZm9sZGVyXCIgLz4gUHJvamVjdCDihpIgPE9ic2lkaWFuSWNvbiBpY29uPVwibW9uaXRvclwiIC8+IFRlY2hub2xvZ3k8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC14cyB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIj5Vc2VzLCBEZXBlbmRzT24sIFJlbGF0ZXNUbzwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIHsvaWZ9XHJcblxyXG4gICAgICAgICAgPCEtLSBTdWdnZXN0ZWQgRGVmYXVsdCBNYXBwaW5ncyBTZWN0aW9uIC0tPlxyXG4gICAgICAgICAgeyNpZiBzdWdnZXN0ZWRNYXBwaW5ncy5sZW5ndGggPiAwfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibXQtOCBwdC04IGJvcmRlci10IGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXVwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItNFwiPlxyXG4gICAgICAgICAgICAgICAgPGg0IGNsYXNzPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cImxpZ2h0YnVsYlwiIC8+IFN1Z2dlc3RlZCBFZGdlIE1hcHBpbmdzXHJcbiAgICAgICAgICAgICAgICA8L2g0PlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cInB4LTMgcHktMiBiZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSByb3VuZGVkIGhvdmVyOm9wYWNpdHktOTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIHRleHQtc20gZm9udC1tZWRpdW1cIlxyXG4gICAgICAgICAgICAgICAgICBvbjpjbGljaz17YWRkQWxsU3VnZ2VzdGVkTWFwcGluZ3N9XHJcbiAgICAgICAgICAgICAgICAgIHRpdGxlPVwiQWRkIGFsbCBzdWdnZXN0ZWQgZWRnZSBtYXBwaW5ncyBhdCBvbmNlXCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgQWRkIEFsbFxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gbWItNFwiPlxyXG4gICAgICAgICAgICAgICAgUmVjb21tZW5kZWQgbWFwcGluZ3MgYmFzZWQgb24geW91ciBkaXNjb3ZlcmVkIGVudGl0eSB0eXBlcy4gQWRkIHRoZXNlIHRvIGVuYWJsZSBjb21tb24gcmVsYXRpb25zaGlwcy5cclxuICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyaWQgZ3JpZC1jb2xzLTEgZ2FwLTNcIj5cclxuICAgICAgICAgICAgICAgIHsjZWFjaCBzdWdnZXN0ZWRNYXBwaW5ncyBhcyBzdWdnZXN0aW9ufVxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5LWFsdCldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcC00IHJvdW5kZWQtbGdcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtc3RhcnQgbWItMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZm9udC1zZW1pYm9sZCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPntzdWdnZXN0aW9uLnNvdXJjZUVudGl0eX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldXCI+4oaSPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZvbnQtc2VtaWJvbGQgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj57c3VnZ2VzdGlvbi50YXJnZXRFbnRpdHl9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtMSBtbC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeyNlYWNoIHN1Z2dlc3Rpb24uYWxsb3dlZEVkZ2VzIGFzIGVkZ2VUeXBlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHB4LTIgcHktMSBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1zdWNjZXNzKV0gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSByb3VuZGVkLWZ1bGwgZm9udC1tZWRpdW1cIj57ZWRnZVR5cGV9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsvZWFjaH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJweC0yIHB5LTEgYmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gcm91bmRlZCB0ZXh0LXhzIGhvdmVyOm9wYWNpdHktOTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IHF1aWNrQWRkTWFwcGluZyhzdWdnZXN0aW9uLnNvdXJjZUVudGl0eSwgc3VnZ2VzdGlvbi50YXJnZXRFbnRpdHksIHN1Z2dlc3Rpb24uYWxsb3dlZEVkZ2VzKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJBZGQgdGhpcyBtYXBwaW5nXCJcclxuICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgQWRkXHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSB0ZXh0LXNtIGxlYWRpbmctcmVsYXhlZFwiPntzdWdnZXN0aW9uLmRlc2NyaXB0aW9ufTwvcD5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICB7L2VhY2h9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgey9pZn1cclxuXHJcbiAgICAgICAgICA8IS0tIEFkZCBOZXcgTWFwcGluZyBCdXR0b24gLS0+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibXQtNlwiPlxyXG4gICAgICAgICAgICB7I2lmIHNob3dBZGRNYXBwaW5nRm9ybX1cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5LWFsdCldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZC1sZyBwLTZcIj5cclxuICAgICAgICAgICAgICAgIDxoNCBjbGFzcz1cInRleHQtbGcgZm9udC1zZW1pYm9sZCBtYi00IHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+QWRkIE5ldyBFZGdlIE1hcHBpbmc8L2g0PlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteS00IG1iLTRcIj5cclxuICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwibmV3LXNvdXJjZS1lbnRpdHlcIiBjbGFzcz1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gbWItMlwiPlNvdXJjZSBFbnRpdHkgVHlwZTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD1cIm5ldy1zb3VyY2UtZW50aXR5XCIgYmluZDp2YWx1ZT17bmV3TWFwcGluZ1NvdXJjZUVudGl0eX0gY2xhc3M9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGZvY3VzOmJvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1zbSBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBtaW4tdy00OFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPlNlbGVjdCBzb3VyY2UgZW50aXR5Li4uPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7I2VhY2ggYWxsRW50aXR5VHlwZXMgYXMgZW50aXR5VHlwZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT17ZW50aXR5VHlwZX0+e2VudGl0eVR5cGV9PC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7L2VhY2h9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwibmV3LXRhcmdldC1lbnRpdHlcIiBjbGFzcz1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gbWItMlwiPlRhcmdldCBFbnRpdHkgVHlwZTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD1cIm5ldy10YXJnZXQtZW50aXR5XCIgYmluZDp2YWx1ZT17bmV3TWFwcGluZ1RhcmdldEVudGl0eX0gY2xhc3M9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGZvY3VzOmJvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1zbSBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBtaW4tdy00OFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPlNlbGVjdCB0YXJnZXQgZW50aXR5Li4uPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7I2VhY2ggYWxsRW50aXR5VHlwZXMgYXMgZW50aXR5VHlwZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT17ZW50aXR5VHlwZX0+e2VudGl0eVR5cGV9PC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7L2VhY2h9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYi00XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSBtYi0yXCI+QWxsb3dlZCBFZGdlIFR5cGVzPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICB7I2lmIGVkZ2VUeXBlc0xpc3QubGVuZ3RoID4gMH1cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JpZCBncmlkLWNvbHMtMiBtZDpncmlkLWNvbHMtMyBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgeyNlYWNoIGVkZ2VUeXBlc0xpc3QgYXMgZWRnZVR5cGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHAtMiBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgaG92ZXI6b3BhY2l0eS05MCBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdNYXBwaW5nQWxsb3dlZEVkZ2VzLmluY2x1ZGVzKGVkZ2VUeXBlKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNoYW5nZT17KCkgPT4gdG9nZ2xlRWRnZVR5cGUoZWRnZVR5cGUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJyb3VuZGVkIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSB0ZXh0LVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBmb2N1czpyaW5nLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtc20gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj57ZWRnZVR5cGV9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgey9lYWNofVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICB7OmVsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSBpdGFsaWNcIj5ObyBlZGdlIHR5cGVzIGRlZmluZWQuIENyZWF0ZSBlZGdlIHR5cGVzIGZpcnN0LjwvcD5cclxuICAgICAgICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJweC00IHB5LTIgYmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gcm91bmRlZCBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9e3NhdmVOZXdNYXBwaW5nfVxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshbmV3TWFwcGluZ1NvdXJjZUVudGl0eSB8fCAhbmV3TWFwcGluZ1RhcmdldEVudGl0eSB8fCBuZXdNYXBwaW5nQWxsb3dlZEVkZ2VzLmxlbmd0aCA9PT0gMH1cclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIFNhdmUgTWFwcGluZ1xyXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInB4LTQgcHktMiBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSByb3VuZGVkIGhvdmVyOm9wYWNpdHktOTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwXCIgb246Y2xpY2s9e2NhbmNlbEFkZE1hcHBpbmd9PkNhbmNlbDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIHs6ZWxzZX1cclxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicHgtNCBweS0yIGJnLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHJvdW5kZWQgaG92ZXI6b3BhY2l0eS05MCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDBcIiBvbjpjbGljaz17KCkgPT4gc2hvd0FkZE1hcHBpbmdGb3JtID0gdHJ1ZX0+XHJcbiAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJjaGV2cm9uLXJpZ2h0XCIgc2l6ZT1cIm1lZGl1bVwiIC8+IEFkZCBFZGdlIE1hcHBpbmdcclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIHsvaWZ9XHJcbiAgICBcclxuICA8L2Rpdj5cclxuICBcclxuICA8IS0tID09PSBHTE9CQUwgQ09OVEVOVCAob3V0c2lkZSB0YWJzKSA9PT0gLS0+XHJcbiAgeyNpZiBsb2FkaW5nfVxyXG4gICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIGp1c3RpZnktY2VudGVyIHB5LTggdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldXCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJ3LTQgaC00IGJvcmRlci0yIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSBib3JkZXItdC1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gcm91bmRlZC1mdWxsIGFuaW1hdGUtc3BpblwiPjwvZGl2PlxyXG4gICAgICBEaXNjb3ZlcmluZyBzY2hlbWFzIGZyb20gdmF1bHQuLi5cclxuICAgIDwvZGl2PlxyXG4gIHs6ZWxzZSBpZiBzY2hlbWFzLmxlbmd0aCA9PT0gMH1cclxuICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlciBweS04IHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXVwiPlxyXG4gICAgICA8cCBjbGFzcz1cIm1iLTJcIj5ObyB0eXBlZCBub3RlcyBmb3VuZCBpbiB5b3VyIHZhdWx0LjwvcD5cclxuICAgICAgPHA+QWRkIGEgPGNvZGUgY2xhc3M9XCJiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSBweC0yIHB5LTEgcm91bmRlZCBmb250LW1vbm8gdGV4dC1zbVwiPnR5cGU8L2NvZGU+IHByb3BlcnR5IHRvIHlvdXIgZnJvbnRtYXR0ZXIgdG8gZ2V0IHN0YXJ0ZWQuPC9wPlxyXG4gICAgPC9kaXY+XHJcbiAgezplbHNlfVxyXG4gICAgPGRpdiBjbGFzcz1cImJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZC1sZyBwLTQgbWItNFwiPlxyXG4gICAgICA8cCBjbGFzcz1cInRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIHRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgRm91bmQgPHN0cm9uZyBjbGFzcz1cInRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+e3NjaGVtYXMubGVuZ3RofTwvc3Ryb25nPiB0eXBlcyBhY3Jvc3MgPHN0cm9uZyBjbGFzcz1cInRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+e3NjaGVtYXMucmVkdWNlKChzdW0sIHMpID0+IHN1bSArIHMuZmlsZUNvdW50LCAwKX08L3N0cm9uZz4gZmlsZXNcclxuICAgICAgPC9wPlxyXG4gICAgPC9kaXY+XHJcbiAgey9pZn1cclxuPC9kaXY+XHJcblxyXG5cclxuPCEtLSA9PT0gVkVTU0VMIENMT1NFID09PSAtLT5cclxuIiwiLy8gPT09IFZFU1NFTCBPUEVOID09PVxyXG4vLyBQdXJwb3NlOiBTY2hlbWEgTWFuYWdlciB2aWV3IGZvciBkaXNjb3ZlcnktYmFzZWQgc2NoZW1hIG1hbmFnZW1lbnRcclxuLy8gSW50ZWdyYXRpb246IFJlcGxhY2VzIEdyYXBoaXRpVmlldyB3aXRoIG5ldyBkaXNjb3ZlcnkgZnVuY3Rpb25hbGl0eVxyXG4vLyBNb2RlOiBDb2RlIC0gVmlldyBjbGFzcyBmb3Igc2NoZW1hIGRpc2NvdmVyeSBhbmQgUHlkYW50aWMgZ2VuZXJhdGlvblxyXG5cclxuaW1wb3J0IHsgSXRlbVZpZXcsIFdvcmtzcGFjZUxlYWYgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHR5cGUgeyBTY2hlbWFEaXNjb3ZlcnlTZXJ2aWNlIH0gZnJvbSBcIi4uL3NlcnZpY2VzL1NjaGVtYURpc2NvdmVyeVNlcnZpY2VcIjtcclxuaW1wb3J0IFNjaGVtYU1hbmFnZXIgZnJvbSBcIi4uL2NvbXBvbmVudHMvU2NoZW1hTWFuYWdlci5zdmVsdGVcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBTQ0hFTUFfTUFOQUdFUl9WSUVXX1RZUEUgPSBcInNjaGVtYS1tYW5hZ2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2NoZW1hTWFuYWdlclZpZXcgZXh0ZW5kcyBJdGVtVmlldyB7XHJcbiAgY29tcG9uZW50PzogU2NoZW1hTWFuYWdlcjtcclxuXHJcbiAgY29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZiwgcHJpdmF0ZSBzY2hlbWFTZXJ2aWNlOiBTY2hlbWFEaXNjb3ZlcnlTZXJ2aWNlKSB7XHJcbiAgICBzdXBlcihsZWFmKTtcclxuICB9XHJcblxyXG4gIGdldFZpZXdUeXBlKCkge1xyXG4gICAgcmV0dXJuIFNDSEVNQV9NQU5BR0VSX1ZJRVdfVFlQRTtcclxuICB9XHJcblxyXG4gIGdldERpc3BsYXlUZXh0KCkge1xyXG4gICAgcmV0dXJuIFwiU2NoZW1hIE1hbmFnZXJcIjtcclxuICB9XHJcblxyXG4gIGFzeW5jIG9uT3BlbigpIHtcclxuICAgIHRoaXMuY29tcG9uZW50ID0gbmV3IFNjaGVtYU1hbmFnZXIoe1xyXG4gICAgICB0YXJnZXQ6IHRoaXMuY29udGVudEVsLFxyXG4gICAgICBwcm9wczoge1xyXG4gICAgICAgIHNjaGVtYVNlcnZpY2U6IHRoaXMuc2NoZW1hU2VydmljZVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFzeW5jIG9uQ2xvc2UoKSB7XHJcbiAgICBpZiAodGhpcy5jb21wb25lbnQpIHtcclxuICAgICAgdGhpcy5jb21wb25lbnQuJGRlc3Ryb3koKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vID09PSBWRVNTRUwgQ0xPU0UgPT09IiwiPCEtLVxuPT09IFZFU1NFTCBPUEVOID09PVxuUHVycG9zZTogRW5oYW5jZWQgc3luYyBtb2RhbCB1c2luZyBTdmVsdGUgZm9yIGJldHRlciBtYWludGFpbmFiaWxpdHkgYW5kIHVzZXIgZXhwZXJpZW5jZVxuSW50ZWdyYXRpb246IFVzZXMgZXhpc3RpbmcgR3JhcGhpdGlTZXJ2aWNlLCBTeW5jUmVnaXN0cnlTZXJ2aWNlLCBTeW5jU3RhdHVzTWFuYWdlciBmb3Igb3JjaGVzdHJhdGVkIHN5bmMgb3BlcmF0aW9uc1xuTW9kZTogQ29kZSAtIENvbXBsZXRlIHN5bmMgaW50ZXJmYWNlIHdpdGggcHJvZ3Jlc3MgdHJhY2tpbmcsIGJ1bGsgb3B0aW9ucywgYW5kIHVzZXIgc2V0dGluZyBvdmVycmlkZXNcbi0tPlxuXG48c2NyaXB0IGxhbmc9XCJ0c1wiPlxuICBpbXBvcnQgeyBvbk1vdW50IH0gZnJvbSAnc3ZlbHRlJztcbiAgaW1wb3J0IHsgTW9kYWwgfSBmcm9tICdvYnNpZGlhbic7XG4gIGltcG9ydCB0eXBlIHsgR3JhcGhpdGlTZXJ2aWNlLCBTeW5jUHJvZ3Jlc3MsIFN5bmNSZXN1bHQgfSBmcm9tICcuLi9zZXJ2aWNlcy9HcmFwaGl0aVNlcnZpY2UnO1xuICBpbXBvcnQgdHlwZSB7IE5vdGVTZWxlY3Rpb25TZXJ2aWNlLCBOb3RlRmlsdGVyQ3JpdGVyaWEsIE5vdGVTZWxlY3Rpb25SZXN1bHQgfSBmcm9tICcuLi9zZXJ2aWNlcy9Ob3RlU2VsZWN0aW9uU2VydmljZSc7XG4gIGltcG9ydCB0eXBlIHsgU3luY1JlZ2lzdHJ5U2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL1N5bmNSZWdpc3RyeVNlcnZpY2UnO1xuICBpbXBvcnQgdHlwZSB7IFN5bmNTdGF0dXNNYW5hZ2VyIH0gZnJvbSAnLi4vc2VydmljZXMvU3luY1N0YXR1c01hbmFnZXInO1xuICBpbXBvcnQgdHlwZSB7IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3MgfSBmcm9tICcuLi90eXBlcy9TZXR0aW5ncyc7XG4gIGltcG9ydCB0eXBlIHsgR3JhcGhpdGlMb2dnZXIgfSBmcm9tICcuLi91dGlscy9Mb2dnZXInO1xuXG4vLyBAdmVzc2VsLXByb3RvY29sOkhlaW1kYWxsIGdvdmVybnM6ZXJyb3ItaGFuZGxpbmcgY29udGV4dDpSb2J1c3QgZXJyb3IgY2FwdHVyZSBmb3IgaW5kaXZpZHVhbCBzeW5jIHN0YXR1cyBjaGVja3MgaW4gUHJvbWlzZS5hbGxcbi8vIEBpbnRlci1kZXBlbmRlbmNpZXM6IFtpc1N5bmNlZCgpLCBjb21wdXRlUXVpY2tTeW5jU3RhdHMoKV1cbi8vIEBwdXJwb3NlOiBFbnN1cmUgdGhhdCBpbmRpdmlkdWFsIGZhaWx1cmVzIGluIHN5bmMgc3RhdHVzIGFzc2Vzc21lbnRzIGRvIG5vdCBjYXVzZSB0aGUgZW50aXJlIFByb21pc2UuYWxsIHRvIGZhaWwsIGFsbG93aW5nIHBhcnRpYWwgc3VjY2VzcyByZXBvcnRpbmcgYW5kIGJldHRlciBkZWJ1Z2dpbmcuXG4vLyBAcmVzdWx0OiBUaGUgcXVpY2sgc3luYyB0YWJsZSB3aWxsIGRpc3BsYXkgYWNjdXJhdGUgY291bnRzIGV2ZW4gaWYgc29tZSBub3RlcyBmYWlsIHN5bmMgc3RhdHVzIGNoZWNrcywgaW1wcm92aW5nIFVJIHN0YWJpbGl0eSBhbmQgZXJyb3IgdmlzaWJpbGl0eS5cbi8vIEBzaWduZWQ6IEMuQmrDuHJuXG4gIC8vIExvY2FsIHR5cGUgZGVmaW5pdGlvbnMgdG8gaGFuZGxlIGV4cG9ydCBpc3N1ZXNcblxuICB0eXBlIFN5bmNTdGF0dXNDaGVja1Jlc3VsdCA9IHtcbiAgICBub3RlUGF0aDogc3RyaW5nO1xuICAgIGlzU3luY2VkOiBib29sZWFuO1xuICAgIGVycm9yOiBib29sZWFuO1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gIH07XG5cbiAgdHlwZSBTeW5jUmVjb3JkRW50cnkgPSB7XG4gICAgZXBpc29kZV91dWlkOiBzdHJpbmc7XG4gICAgbGFzdF9zeW5jOiBzdHJpbmc7XG4gIH07XG5cbiAgdHlwZSBTeW5jUmVjb3JkID0ge1xuICAgIHN5bmNzOiBTeW5jUmVjb3JkRW50cnlbXTtcbiAgfTtcblxuICAvLyBQcm9wc1xuICBleHBvcnQgbGV0IGdyYXBoaXRpU2VydmljZTogR3JhcGhpdGlTZXJ2aWNlO1xuICBleHBvcnQgbGV0IHN5bmNSZWdpc3RyeVNlcnZpY2U6IFN5bmNSZWdpc3RyeVNlcnZpY2U7XG4gIGxldCBzZXR0aW5nczogR3JhcGhpdGlQbHVnaW5TZXR0aW5ncztcbiAgZXhwb3J0IGxldCBsb2dnZXI6IEdyYXBoaXRpTG9nZ2VyOyAvLyBBZGRlZCBsb2dnZXIgcHJvcFxuICBleHBvcnQgbGV0IG9uQ2xvc2U6ICgpID0+IHZvaWQ7XG5cbiAgLy8gU2VydmljZXNcbiAgbGV0IG5vdGVTZWxlY3Rpb25TZXJ2aWNlOiBOb3RlU2VsZWN0aW9uU2VydmljZSB8IHVuZGVmaW5lZDtcbiAgbGV0IGFwcDogYW55O1xuXG4gIC8vIFVJIFN0YXRlXG4gIGxldCBhY3RpdmVUYWI6ICdxdWljaycgfCAnYWR2YW5jZWQnID0gJ3F1aWNrJztcbiAgbGV0IGxvYWRpbmcgPSBmYWxzZTtcbiAgbGV0IHN5bmNJblByb2dyZXNzID0gZmFsc2U7XG4gIFxuICAvLyBRdWljayBTeW5jIFN0YXRlXG4gIGxldCBxdWlja1N5bmNUYWJsZURhdGE6IEFycmF5PHsgdHlwZTogc3RyaW5nOyB0b3RhbDogbnVtYmVyOyBzeW5jZWQ6IG51bWJlcjsgcHJpdmF0ZTogbnVtYmVyOyByZWFkeTogbnVtYmVyOyByZWFkeVBhdGhzOiBzdHJpbmdbXTsgdXBkYXRlZDogbnVtYmVyOyB1cGRhdGVkUGF0aHM6IHN0cmluZ1tdIH0+ID0gW107XG4gIGxldCB0YWJsZUxvYWRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgXG4gIC8vIEFkdmFuY2VkIFNlbGVjdGlvbiBTdGF0ZVxuICBsZXQgc2VsZWN0ZWROb3Rlc0VsOiBhbnk7XG4gIGxldCBzdW1tYXJ5RWw6IGFueTtcbiAgbGV0IGZpbHRlckNyaXRlcmlhOiBOb3RlRmlsdGVyQ3JpdGVyaWEgPSB7fTtcbiAgXG5cbiAgLy8gUHJvZ3Jlc3MgU3RhdGVcbiAgbGV0IHN5bmNQcm9ncmVzczogU3luY1Byb2dyZXNzIHwgbnVsbCA9IG51bGw7XG4gIGxldCBzeW5jUmVzdWx0OiBTeW5jUmVzdWx0IHwgbnVsbCA9IG51bGw7XG4gIGxldCBzeW5jUGhhc2U6ICdwcmVwYXJhdGlvbicgfCAnYW5hbHlzaXMnIHwgJ3N5bmMnIHwgJ2NsZWFudXAnID0gJ3ByZXBhcmF0aW9uJztcbiAgbGV0IG5ld05vdGVzQ291bnQgPSAwO1xuICBsZXQgZXhpc3RpbmdOb3Rlc0NvdW50ID0gMDtcbiAgbGV0IHNraXBwZWROb3Rlc0NvdW50ID0gMDtcbiAgbGV0IGVycm9yQ291bnQgPSAwO1xuICBsZXQgZXN0aW1hdGVkVGltZVJlbWFpbmluZyA9ICcnO1xuXG4gIC8vIFN0YXRpc3RpY3NcbiAgbGV0IHZhdWx0U3RhdGlzdGljczogYW55ID0gbnVsbDtcblxuICAkOiB7XG4gICAgaWYgKHR5cGVvZiAod2luZG93IGFzIGFueSkuYXBwICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgYXBwID0gKHdpbmRvdyBhcyBhbnkpLmFwcDtcbiAgICAgIGlmIChncmFwaGl0aVNlcnZpY2UpIHtcbiAgICAgICAgbm90ZVNlbGVjdGlvblNlcnZpY2UgPSBncmFwaGl0aVNlcnZpY2UuZ2V0Tm90ZVNlbGVjdGlvblNlcnZpY2UoKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZSAtIEFjY2Vzc2luZyBwcml2YXRlIG1lbWJlciBmb3Igbm93XG4gICAgICAgIHNldHRpbmdzID0gZ3JhcGhpdGlTZXJ2aWNlLnNldHRpbmdzO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG9uTW91bnQoYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGluaXRpYWxpemVNb2RhbCgpO1xuICB9KTtcblxuICBhc3luYyBmdW5jdGlvbiBpbml0aWFsaXplTW9kYWwoKSB7XG4gICAgLy8gQHZlc3NlbC1wcm90b2NvbDpCYWxkciBnb3Zlcm5zOltkZWJ1Z10gY29udGV4dDpEaWFnbm9zaXMgb2YgaW5pdGlhbGl6YXRpb24gbG9nZ2luZ1xuICAgIC8vIEBpbnRlci1kZXBlbmRlbmNpZXM6IFtjb21wdXRlUXVpY2tTeW5jU3RhdHNdXG4gICAgLy8gQHB1cnBvc2U6IFJlZHVjZSBpbml0aWFsaXphdGlvbiBsb2cgbm9pc2VcbiAgICAvLyBAcmVzdWx0OiBDbGVhbmVyIG1vZGFsIHN0YXJ0dXAgbG9nZ2luZ1xuICAgIC8vIEBzaWduZWQ6IEMuQmrDuHJuXG4gICAgbG9nZ2VyLmRlYnVnKCdbU00tSU5JVF0gU3luY01vZGFsIGluaXRpYWxpemluZy4uLicpO1xuICAgICBhd2FpdCBjb21wdXRlUXVpY2tTeW5jU3RhdHMoKTtcbiAgIH1cbiBcbiAgIGFzeW5jIGZ1bmN0aW9uIGNvbXB1dGVRdWlja1N5bmNTdGF0cygpIHtcbiAgICAgdHJ5IHtcbiAgICAgICB0YWJsZUxvYWRpbmcgPSB0cnVlO1xuICAgICAgIFxuICAgICAgIGlmICghbm90ZVNlbGVjdGlvblNlcnZpY2UpIHtcbiAgICAgICAgIGxvZ2dlci53YXJuKCdbU00tV0FSTl0gTm90ZSBzZWxlY3Rpb24gc2VydmljZSBub3QgYXZhaWxhYmxlJyk7XG4gICAgICAgICByZXR1cm47XG4gICAgICAgfVxuXG4gICAgICAvLyBAdmVzc2VsLXByb3RvY29sOkJhbGRyIGdvdmVybnM6W2RlYnVnXSBjb250ZXh0OkRpYWdub3NpcyBvZiBzeW5jIHN0YXRzIGV4cGxvc2lvblxuICAgICAgLy8gQGludGVyLWRlcGVuZGVuY2llczogW2lzU3luY2VkLCBnZXRTeW5jUmVjb3JkXVxuICAgICAgLy8gQHB1cnBvc2U6IFRyYWNrIHN5bmMgc3RhdHVzIGNoZWNrIHZvbHVtZSBjYXVzaW5nIGxvZyBleHBsb3Npb25cbiAgICAgIC8vIEByZXN1bHQ6IENsZWFyIGV2aWRlbmNlIG9mIGxvb3Agc2l6ZSBjYXVzaW5nIGV4Y2Vzc2l2ZSBsb2dnaW5nXG4gICAgICAvLyBAc2lnbmVkOiBDLkJqw7hyblxuICAgICAgY29uc3QgYWxsU3luY2FibGVOb3Rlc0J5VHlwZSA9IGF3YWl0IG5vdGVTZWxlY3Rpb25TZXJ2aWNlLmdldE5vdGVzQnlUeXBlKCk7XG4gICAgICBjb25zdCBhbGxQcml2YXRlTm90ZXMgPSBhd2FpdCBub3RlU2VsZWN0aW9uU2VydmljZS5nZXRQcml2YXRlTm90ZXNCeUZvbGRlcigpO1xuICAgICAgY29uc3QgYXZhaWxhYmxlVHlwZXMgPSBhd2FpdCBub3RlU2VsZWN0aW9uU2VydmljZS5nZXRBdmFpbGFibGVUeXBlcygpO1xuICAgICAgY29uc3QgbmV3RGF0YSA9IFtdO1xuXG4gICAgICBsZXQgdG90YWxTeW5jQ2hlY2tzID0gMDtcblxuICAgICAgZm9yIChjb25zdCB0eXBlIG9mIGF2YWlsYWJsZVR5cGVzKSB7XG4gICAgICAgIGNvbnN0IHN5bmNhYmxlTm90ZXNGb3JUeXBlID0gYWxsU3luY2FibGVOb3Rlc0J5VHlwZVt0eXBlXSB8fCBbXTtcbiAgICAgICAgY29uc3QgcHJpdmF0ZU5vdGVzRm9yVHlwZSA9IGFsbFByaXZhdGVOb3Rlcy5maWx0ZXIobm90ZSA9PiBub3RlLnR5cGUgPT09IHR5cGUpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgdG90YWwgPSBzeW5jYWJsZU5vdGVzRm9yVHlwZS5sZW5ndGggKyBwcml2YXRlTm90ZXNGb3JUeXBlLmxlbmd0aDtcbiAgICAgICAgY29uc3QgcHJpdmF0ZUNvdW50ID0gcHJpdmF0ZU5vdGVzRm9yVHlwZS5sZW5ndGg7XG5cbiAgICAgICAgdG90YWxTeW5jQ2hlY2tzICs9IHN5bmNhYmxlTm90ZXNGb3JUeXBlLmxlbmd0aDtcblxuICAgICAgICBjb25zdCBzeW5jZWRTdGF0dXNSZXN1bHRzOiBTeW5jU3RhdHVzQ2hlY2tSZXN1bHRbXSA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgIHN5bmNhYmxlTm90ZXNGb3JUeXBlLm1hcChhc3luYyAobikgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaXNTeW5jZWQobi5wYXRoKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIG5vdGVQYXRoOiBuLnBhdGgsXG4gICAgICAgICAgICAgIGlzU3luY2VkOiByZXN1bHQuaXNTeW5jZWQsXG4gICAgICAgICAgICAgIGVycm9yOiByZXN1bHQuZXJyb3IsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IHN5bmNlZENvdW50ID0gc3luY2VkU3RhdHVzUmVzdWx0cy5maWx0ZXIoKHIpID0+IHIuaXNTeW5jZWQgJiYgIXIuZXJyb3IpLmxlbmd0aDtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHJlYWR5UGF0aHMgPSBzeW5jZWRTdGF0dXNSZXN1bHRzXG4gICAgICAgICAgLmZpbHRlcigocikgPT4gIXIuaXNTeW5jZWQgJiYgIXIuZXJyb3IpXG4gICAgICAgICAgLm1hcCgocikgPT4gci5ub3RlUGF0aCk7XG4gICAgICAgIGNvbnN0IHJlYWR5Q291bnQgPSByZWFkeVBhdGhzLmxlbmd0aDtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgdXBkYXRlZCBub3RlcyAobm90ZXMgdGhhdCBoYXZlIGJlZW4gc3luY2VkIGJlZm9yZSBidXQgaGF2ZSBjaGFuZ2VzKVxuICAgICAgICBjb25zdCB1cGRhdGVkTm90ZXMgPSBhd2FpdCBub3RlU2VsZWN0aW9uU2VydmljZS5nZXRVcGRhdGVkTm90ZXMoXG4gICAgICAgICAgc3luY2FibGVOb3Rlc0ZvclR5cGUubWFwKG5vdGUgPT4gKHtcbiAgICAgICAgICAgIGZpbGU6IG5vdGUuZmlsZSxcbiAgICAgICAgICAgIHBhdGg6IG5vdGUucGF0aCxcbiAgICAgICAgICAgIHR5cGU6IG5vdGUudHlwZSB8fCB0eXBlLFxuICAgICAgICAgICAgdGFnczogW10sXG4gICAgICAgICAgICBmcm9udG1hdHRlcjogeyB0eXBlOiBub3RlLnR5cGUgfHwgdHlwZSB9LFxuICAgICAgICAgICAgY29udGVudExlbmd0aDogMCxcbiAgICAgICAgICAgIGNyZWF0ZWQ6IG5ldyBEYXRlKG5vdGUuZmlsZS5zdGF0LmN0aW1lKSxcbiAgICAgICAgICAgIG1vZGlmaWVkOiBuZXcgRGF0ZShub3RlLmZpbGUuc3RhdC5tdGltZSksXG4gICAgICAgICAgICBzZWxlY3RlZDogZmFsc2VcbiAgICAgICAgICB9KSlcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgdXBkYXRlZFBhdGhzID0gdXBkYXRlZE5vdGVzLm1hcChuID0+IG4ucGF0aCk7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRDb3VudCA9IHVwZGF0ZWRQYXRocy5sZW5ndGg7XG5cbiAgICAgICAgbmV3RGF0YS5wdXNoKHtcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgIHRvdGFsLFxuICAgICAgICAgIHN5bmNlZDogc3luY2VkQ291bnQsXG4gICAgICAgICAgcHJpdmF0ZTogcHJpdmF0ZUNvdW50LFxuICAgICAgICAgIHJlYWR5OiByZWFkeUNvdW50LFxuICAgICAgICAgIHJlYWR5UGF0aHMsXG4gICAgICAgICAgdXBkYXRlZDogdXBkYXRlZENvdW50LFxuICAgICAgICAgIHVwZGF0ZWRQYXRocyxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHF1aWNrU3luY1RhYmxlRGF0YSA9IG5ld0RhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGNvbXB1dGUgcXVpY2sgc3luYyBzdGF0czonLCBlcnJvcik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRhYmxlTG9hZGluZyA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG5cbi8vIEB2ZXNzZWwtcHJvdG9jb2w6T2RpbiBnb3Zlcm5zOlttZW1vcnktc3luY3xyZWZhY3Rvcl0gY29udGV4dDpNTV9VSUQtYmFzZWQgc3luYyBzdGF0dXMgZGV0ZWN0aW9uIGZvciBTeW5jTW9kYWwgVUlcbi8vIEBpbnRlci1kZXBlbmRlbmNpZXM6IFtGcm9udG1hdHRlclV0aWxzLCBTeW5jUmVnaXN0cnlTZXJ2aWNlLCBtbV91aWQgc3lzdGVtXVxuLy8gQHB1cnBvc2U6IEVuYWJsZSBhY2N1cmF0ZSBzeW5jIHN0YXR1cyBkZXRlY3Rpb24gaW4gVUkgdXNpbmcgbW1fdWlkIGFzIHByaW1hcnkgaWRlbnRpZmllclxuLy8gQHJlc3VsdDogU3luY01vZGFsIGNvcnJlY3RseSBjb3VudHMgYW5kIGRpc3BsYXlzIHN5bmNlZCByZWNvcmRzIHVzaW5nIG1tX3VpZCBhcmNoaXRlY3R1cmVcbi8vIEBzaWduZWQ6IEMuQmrDuHJuXG5hc3luYyBmdW5jdGlvbiBpc1N5bmNlZChub3RlUGF0aDogc3RyaW5nKTogUHJvbWlzZTx7IGlzU3luY2VkOiBib29sZWFuOyBlcnJvcjogYm9vbGVhbjsgbWVzc2FnZT86IHN0cmluZyB9PiB7XG4gIHRyeSB7XG4gICAgLy8gR2V0IHRoZSBmaWxlIGZyb20gdGhlIHBhdGhcbiAgICBjb25zdCBmaWxlID0gYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChub3RlUGF0aCk7XG4gICAgaWYgKCFmaWxlKSB7XG4gICAgICByZXR1cm4geyBpc1N5bmNlZDogZmFsc2UsIGVycm9yOiBmYWxzZSwgbWVzc2FnZTogJ0ZpbGUgbm90IGZvdW5kJyB9O1xuICAgIH1cblxuICAgIC8vIEdldCBtbV91aWQgZnJvbSBmcm9udG1hdHRlciAtIHVzZSBtZXRhZGF0YSBjYWNoZSBmb3IgcGVyZm9ybWFuY2VcbiAgICBjb25zdCBjYWNoZSA9IGFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShmaWxlKTtcbiAgICBjb25zdCBtbVVpZCA9IGNhY2hlPy5mcm9udG1hdHRlcj8ubW1fdWlkO1xuICAgIFxuICAgIC8vIElmIG5vIG1tX3VpZCwgbm90ZSBoYXMgbmV2ZXIgYmVlbiBzeW5jZWRcbiAgICBpZiAoIW1tVWlkIHx8IHR5cGVvZiBtbVVpZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiB7IGlzU3luY2VkOiBmYWxzZSwgZXJyb3I6IGZhbHNlLCBtZXNzYWdlOiAnTm8gbW1fdWlkIGZvdW5kJyB9O1xuICAgIH1cblxuICAgIC8vIFVzZSBtbV91aWQtYmFzZWQgbG9va3VwXG4gICAgY29uc3QgdmF1bHRJZCA9IGFwcC52YXVsdC5nZXROYW1lKCk7XG4gICAgY29uc3Qgc3luY1JlY29yZCA9IHN5bmNSZWdpc3RyeVNlcnZpY2UuZ2V0U3luY1JlY29yZChtbVVpZCwgdmF1bHRJZCk7XG4gICAgXG4gICAgaWYgKCFzeW5jUmVjb3JkKSB7XG4gICAgICByZXR1cm4geyBpc1N5bmNlZDogZmFsc2UsIGVycm9yOiBmYWxzZSwgbWVzc2FnZTogJ05vIHN5bmMgcmVjb3JkIGZvdW5kIGZvciBtbV91aWQnIH07XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgdGhlcmUgYXJlIHZhbGlkIHN5bmMgZW50cmllcyBmb3IgY3VycmVudCBkYXRhYmFzZVxuICAgIGNvbnN0IGN1cnJlbnREYlR5cGUgPSAnbmVvNGonOyAvLyBEZWZhdWx0IGRhdGFiYXNlIHR5cGUgLSBzaG91bGQgbWF0Y2ggc2V0dGluZ3NcbiAgICBjb25zdCBjdXJyZW50RGJTeW5jID0gc3luY1JlY29yZC5zeW5jcy5maW5kKHN5bmMgPT4gc3luYy5kYXRhYmFzZV9pZCA9PT0gY3VycmVudERiVHlwZSk7XG4gICAgXG4gICAgaWYgKGN1cnJlbnREYlN5bmMgJiYgIWN1cnJlbnREYlN5bmMuZXJyb3JfbWVzc2FnZSkge1xuICAgICAgcmV0dXJuIHsgaXNTeW5jZWQ6IHRydWUsIGVycm9yOiBmYWxzZSB9O1xuICAgIH1cblxuICAgIHJldHVybiB7IGlzU3luY2VkOiBmYWxzZSwgZXJyb3I6IGZhbHNlLCBtZXNzYWdlOiAnTm8gdmFsaWQgc3luYyBmb3VuZCBmb3IgY3VycmVudCBkYXRhYmFzZScgfTtcbiAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgbG9nZ2VyLndhcm4oYFtXQVJOXSBGYWlsZWQgdG8gZGV0ZXJtaW5lIHN5bmMgc3RhdHVzIGZvciBub3RlICR7bm90ZVBhdGh9OiAke2UubWVzc2FnZX1gKTtcbiAgICByZXR1cm4geyBpc1N5bmNlZDogZmFsc2UsIGVycm9yOiB0cnVlLCBtZXNzYWdlOiBlLm1lc3NhZ2UgfTtcbiAgfVxufVxuLy8gQHZlc3NlbC1jbG9zZTpPZGluXG5cbiAgYXN5bmMgZnVuY3Rpb24gc3RhcnRDYXRlZ29yeVN5bmModHlwZTogc3RyaW5nLCByZWFkeVBhdGhzOiBzdHJpbmdbXSkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIW5vdGVTZWxlY3Rpb25TZXJ2aWNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm90ZSBzZWxlY3Rpb24gc2VydmljZSBub3QgYXZhaWxhYmxlJyk7XG4gICAgICB9XG5cbiAgICAgIHN5bmNJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgIHN5bmNQcm9ncmVzcyA9IG51bGw7XG4gICAgICBzeW5jUmVzdWx0ID0gbnVsbDtcbiAgICAgIFxuICAgICAgLy8gQWRkIGNhdGVnb3J5IG5vdGVzIHRvIHNlbGVjdGlvbiBxdWV1ZSAtIHByb2Nlc3NlZCBub3RlcyB3aWxsIGJlIHJlbW92ZWQgYnkgR3JhcGhpdGlTZXJ2aWNlXG4gICAgICBhd2FpdCBub3RlU2VsZWN0aW9uU2VydmljZS5zZWxlY3ROb3RlcyhyZWFkeVBhdGhzKTtcbiAgICAgIGF3YWl0IGFuYWx5emVTZWxlY3RlZE5vdGVzKCk7XG4gICAgICBcbiAgICAgIGxvZ2dlci5kZWJ1ZygnW1NZTkMtTU9EQUxdIFN0YXJ0aW5nIGNhdGVnb3J5IHN5bmMgdmlhIHN5bmNTZWxlY3RlZE5vdGVzKCknKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhlY3V0ZUVuaGFuY2VkU3luYyhgU3luYyAke3R5cGV9IE5vdGVzYCk7XG4gICAgICBzeW5jUmVzdWx0ID0gcmVzdWx0O1xuXG4gICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgIHNob3dTeW5jTm90aWZpY2F0aW9uKHJlc3VsdCwgYCR7dHlwZX0gTm90ZXNgKTtcbiAgICAgICAgYXdhaXQgY29tcHV0ZVF1aWNrU3luY1N0YXRzKCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignQ2F0ZWdvcnkgc3luYyBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgc3luY1Jlc3VsdCA9IHtcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICBwcm9jZXNzZWQ6IDAsXG4gICAgICAgIHNraXBwZWQ6IDAsXG4gICAgICAgIHRvdGFsOiAwLFxuICAgICAgICBiYXRjaENvdW50OiAwLFxuICAgICAgICBub2RlVHlwZXNMb2FkZWQ6IDAsXG4gICAgICAgIGVkZ2VUeXBlc0xvYWRlZDogMCxcbiAgICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpXG4gICAgICB9O1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzeW5jSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIHN0YXJ0QWR2YW5jZWRTeW5jKCkge1xuICAgIGlmIChzeW5jSW5Qcm9ncmVzcyB8fCAhbm90ZVNlbGVjdGlvblNlcnZpY2UpIHJldHVybjtcblxuICAgIGNvbnN0IHZhbGlkYXRpb24gPSBhd2FpdCBub3RlU2VsZWN0aW9uU2VydmljZS52YWxpZGF0ZVNlbGVjdGlvbigpO1xuICAgIGlmICghdmFsaWRhdGlvbi5pc1ZhbGlkKSB7XG4gICAgICBhbGVydChgQ2Fubm90IHN5bmM6ICR7dmFsaWRhdGlvbi5lcnJvcnMuam9pbignLCAnKX1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzeW5jSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgc3luY1Jlc3VsdCA9IG51bGw7XG4gICAgc3luY1Byb2dyZXNzID0gbnVsbDtcblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBhbmFseXplU2VsZWN0ZWROb3RlcygpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhlY3V0ZUVuaGFuY2VkU3luYygnQWR2YW5jZWQgU2VsZWN0aW9uIFN5bmMnKTtcbiAgICAgIHN5bmNSZXN1bHQgPSByZXN1bHQ7XG5cbiAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAnc3VjY2VzcycpIHtcbiAgICAgICAgc2hvd1N5bmNOb3RpZmljYXRpb24ocmVzdWx0LCAnU2VsZWN0ZWQgTm90ZXMnKTtcbiAgICAgIH1cblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ0FkdmFuY2VkIHN5bmMgZmFpbGVkOicsIGVycm9yKTtcbiAgICAgIHN5bmNSZXN1bHQgPSB7XG4gICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgcHJvY2Vzc2VkOiAwLFxuICAgICAgICBza2lwcGVkOiAwLFxuICAgICAgICB0b3RhbDogMCxcbiAgICAgICAgYmF0Y2hDb3VudDogMCxcbiAgICAgICAgbm9kZVR5cGVzTG9hZGVkOiAwLFxuICAgICAgICBlZGdlVHlwZXNMb2FkZWQ6IDAsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKVxuICAgICAgfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc3luY0luUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvLyBAdmVzc2VsLXByb3RvY29sOkhlaW1kYWxsIGdvdmVybnM6W2Vycm9yLWhhbmRsaW5nfGZpeF0gY29udGV4dDpSb2J1c3QgZXJyb3IgaGFuZGxpbmcgZm9yIFN5bmNNb2RhbCBzeW5jIG9wZXJhdGlvbnMgd2l0aCBzY2hlbWEgdmFsaWRhdGlvbiBhbmQgdW5yZWNvZ25pemVkIG5vdGUgdHlwZXNcbiAgLy8gQGludGVyLWRlcGVuZGVuY2llczogW0dyYXBoaXRpU2VydmljZS5zeW5jU2VsZWN0ZWROb3Rlcywgc3RhcnRDYXRlZ29yeVN5bmMsIHN0YXJ0QWR2YW5jZWRTeW5jXVxuICAvLyBAcHVycG9zZTogRW5zdXJlIFN5bmNNb2RhbCBvcGVyYXRpb25zIGhhbmRsZSBzY2hlbWEgdmFsaWRhdGlvbiBmYWlsdXJlcyBncmFjZWZ1bGx5IGFuZCB1c2UgY29ycmVjdCBzb3VyY2VfZGVzY3JpcHRpb24gZm9yIHF1aWNrc3luYyBvcGVyYXRpb25zXG4gIC8vIEByZXN1bHQ6IFRoZSBzeXN0ZW0gbm93IHByb3Blcmx5IGhhbmRsZXMgZWRnZSBjYXNlcyBpbiBTeW5jTW9kYWwgb3BlcmF0aW9ucywgcHJvdmlkaW5nIGNsZWFyIGVycm9yIG1lc3NhZ2VzIGFuZCB1c2luZyBvYnNpZGlhbl9tbV9xdWlja3N5bmMgc291cmNlIHRyYWNraW5nXG4gIC8vIEBzaWduZWQ6IEMuQmrDuHJuXG4gIGFzeW5jIGZ1bmN0aW9uIGV4ZWN1dGVFbmhhbmNlZFN5bmMob3BlcmF0aW9uOiBzdHJpbmcpOiBQcm9taXNlPFN5bmNSZXN1bHQ+IHtcbiAgICB0cnkge1xuICAgICAgbG9nZ2VyLmRlYnVnKGBbU00tRU5IQU5DRUQtU1lOQ10gU3RhcnRpbmcgJHtvcGVyYXRpb259IHdpdGggc291cmNlX2Rlc2NyaXB0aW9uOiBvYnNpZGlhbl9tbV9xdWlja3N5bmNgKTtcbiAgICAgIFxuICAgICAgLy8gQ2FsbCBzeW5jU2VsZWN0ZWROb3RlcyB3aXRoIGFwcHJvcHJpYXRlIHNvdXJjZV9kZXNjcmlwdGlvbiBmb3IgcXVpY2tzeW5jIG9wZXJhdGlvbnNcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdyYXBoaXRpU2VydmljZS5zeW5jU2VsZWN0ZWROb3RlcygocHJvZ3Jlc3MpID0+IHtcbiAgICAgICAgdXBkYXRlU3luY1Byb2dyZXNzKHByb2dyZXNzKTtcbiAgICAgIH0sICdvYnNpZGlhbl9tbV9xdWlja3N5bmMnKTtcbiAgICAgIFxuICAgICAgbG9nZ2VyLmRlYnVnKGBbU00tRU5IQU5DRUQtU1lOQ10gJHtvcGVyYXRpb259IGNvbXBsZXRlZCBzdWNjZXNzZnVsbHk6ICR7cmVzdWx0LnByb2Nlc3NlZH0gbm90ZXMgcHJvY2Vzc2VkYCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcihgW1NNLUVOSEFOQ0VELVNZTkNdICR7b3BlcmF0aW9ufSBmYWlsZWQ6YCwgZXJyb3IpO1xuICAgICAgXG4gICAgICAvLyBIYW5kbGUgc3BlY2lmaWMgZXJyb3IgdHlwZXMgZm9yIGJldHRlciB1c2VyIGV4cGVyaWVuY2VcbiAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcik7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGZvciBzY2hlbWEgdmFsaWRhdGlvbiBmYWlsdXJlc1xuICAgICAgaWYgKGVycm9yTWVzc2FnZS5pbmNsdWRlcygnc2NoZW1hIHZhbGlkYXRpb24nKSB8fCBlcnJvck1lc3NhZ2UuaW5jbHVkZXMoJ3VucmVjb2duaXplZCB0eXBlJykgfHwgZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCdpbnZhbGlkIG5vdGUgdHlwZScpKSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IGBTY2hlbWEgdmFsaWRhdGlvbiBmYWlsZWQ6ICR7ZXJyb3JNZXNzYWdlfS4gUGxlYXNlIGNoZWNrIHlvdXIgbm90ZSB0eXBlcyBhbmQgdHJ5IGFnYWluLmA7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGZvciBuZXR3b3JrL2Nvbm5lY3Rpb24gaXNzdWVzXG4gICAgICBpZiAoZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCduZXR3b3JrJykgfHwgZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCdjb25uZWN0aW9uJykgfHwgZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCd0aW1lb3V0JykpIHtcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gYENvbm5lY3Rpb24gaXNzdWU6ICR7ZXJyb3JNZXNzYWdlfS4gUGxlYXNlIGNoZWNrIHlvdXIgbmV0d29yayBhbmQgdHJ5IGFnYWluLmA7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFJldHVybiBzdHJ1Y3R1cmVkIGVycm9yIHJlc3VsdFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICBwcm9jZXNzZWQ6IDAsXG4gICAgICAgIHNraXBwZWQ6IDAsXG4gICAgICAgIHRvdGFsOiAwLFxuICAgICAgICBiYXRjaENvdW50OiAwLFxuICAgICAgICBub2RlVHlwZXNMb2FkZWQ6IDAsXG4gICAgICAgIGVkZ2VUeXBlc0xvYWRlZDogMCxcbiAgICAgICAgbWVzc2FnZTogZXJyb3JNZXNzYWdlXG4gICAgICB9O1xuICAgIH1cbiAgfVxuICAvLyBAdmVzc2VsLWNsb3NlOkhlaW1kYWxsXG5cbiAgYXN5bmMgZnVuY3Rpb24gYW5hbHl6ZVNlbGVjdGVkTm90ZXMoKSB7XG4gICAgaWYgKCFub3RlU2VsZWN0aW9uU2VydmljZSkgcmV0dXJuO1xuICAgIGNvbnN0IHNlbGVjdGVkUGF0aHMgPSBub3RlU2VsZWN0aW9uU2VydmljZS5nZXRTZWxlY3RlZE5vdGVQYXRocygpO1xuICAgIGF3YWl0IGFuYWx5emVOb3Rlc0xpc3Qoc2VsZWN0ZWRQYXRocyk7XG4gIH1cblxuICAvLyBVcGRhdGVkIHRvIHVzZSBtbV91aWQtYmFzZWQgbG9va3VwcyBmb3IgY29uc2lzdGVuY3kgd2l0aCB0aGUgbmV3IGFyY2hpdGVjdHVyZVxuICBhc3luYyBmdW5jdGlvbiBhbmFseXplTm90ZXNMaXN0KG5vdGVzUGF0aHM6IHN0cmluZ1tdKSB7XG4gICAgbmV3Tm90ZXNDb3VudCA9IDA7XG4gICAgZXhpc3RpbmdOb3Rlc0NvdW50ID0gMDtcbiAgICBza2lwcGVkTm90ZXNDb3VudCA9IDA7XG4gICAgZXJyb3JDb3VudCA9IDA7XG5cbiAgICBmb3IgKGNvbnN0IG5vdGVQYXRoIG9mIG5vdGVzUGF0aHMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGZpbGUgPSBhcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG5vdGVQYXRoKTtcbiAgICAgICAgaWYgKCFmaWxlKSB7XG4gICAgICAgICAgc2tpcHBlZE5vdGVzQ291bnQrKztcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCBtbV91aWQgZnJvbSBmcm9udG1hdHRlciAtIHVzZSBtZXRhZGF0YSBjYWNoZSBmb3IgcGVyZm9ybWFuY2VcbiAgICAgICAgY29uc3QgY2FjaGUgPSBhcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoZmlsZSk7XG4gICAgICAgIGNvbnN0IG1tVWlkID0gY2FjaGU/LmZyb250bWF0dGVyPy5tbV91aWQ7XG4gICAgICAgIFxuICAgICAgICBpZiAoIW1tVWlkIHx8IHR5cGVvZiBtbVVpZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAvLyBObyBtbV91aWQgbWVhbnMgaXQncyBhIG5ldyBub3RlIHRoYXQgaGFzbid0IGJlZW4gc3luY2VkXG4gICAgICAgICAgbmV3Tm90ZXNDb3VudCsrO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdmF1bHRJZCA9IGFwcC52YXVsdC5nZXROYW1lKCk7XG4gICAgICAgIGNvbnN0IHN5bmNSZWNvcmQgPSBzeW5jUmVnaXN0cnlTZXJ2aWNlLmdldFN5bmNSZWNvcmQobW1VaWQsIHZhdWx0SWQpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHN5bmNSZWNvcmQgJiYgc3luY1JlY29yZC5zeW5jcyAmJiBzeW5jUmVjb3JkLnN5bmNzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBsYXRlc3RTeW5jID0gc3luY1JlY29yZC5zeW5jc1tzeW5jUmVjb3JkLnN5bmNzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIGlmIChsYXRlc3RTeW5jLmVwaXNvZGVfdXVpZCAmJiAhbGF0ZXN0U3luYy5lcGlzb2RlX3V1aWQuc3RhcnRzV2l0aCgnbWNwLScpKSB7XG4gICAgICAgICAgICBjb25zdCBsYXN0TW9kaWZpZWQgPSAoZmlsZSBhcyBhbnkpLnN0YXQ/Lm10aW1lIHx8IDA7XG4gICAgICAgICAgICBjb25zdCBsYXN0U3luY1RpbWUgPSBuZXcgRGF0ZShsYXRlc3RTeW5jLmxhc3Rfc3luYykuZ2V0VGltZSgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAobGFzdFN5bmNUaW1lID4gbGFzdE1vZGlmaWVkKSB7XG4gICAgICAgICAgICAgIHNraXBwZWROb3Rlc0NvdW50Kys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBleGlzdGluZ05vdGVzQ291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3Tm90ZXNDb3VudCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBIYXMgbW1fdWlkIGJ1dCBubyBzeW5jIHJlY29yZCAtIGluY29uc2lzdGVudCBzdGF0ZSwgdHJlYXQgYXMgbmV3XG4gICAgICAgICAgbmV3Tm90ZXNDb3VudCsrO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBsb2dnZXIuZXJyb3IoYEVycm9yIGFuYWx5emluZyBub3RlICR7bm90ZVBhdGh9OmAsIGVycm9yKTtcbiAgICAgICAgZXJyb3JDb3VudCsrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGxldCBzeW5jU3RhcnRUaW1lID0gMDtcblxuICBmdW5jdGlvbiB1cGRhdGVTeW5jUHJvZ3Jlc3MocHJvZ3Jlc3M6IFN5bmNQcm9ncmVzcykge1xuICAgIC8vIEB2ZXNzZWwtcHJvdG9jb2w6QmFsZHIgZ292ZXJuczpbZml4XSBjb250ZXh0OkVycm9uZW91cyB0aW1lIHJlbWFpbmluZyBkaXNwbGF5IGluIFN5bmNNb2RhbFxuICAgIC8vIEBpbnRlci1kZXBlbmRlbmNpZXM6IFtHcmFwaGl0aVNlcnZpY2Uuc3luY1NlbGVjdGVkTm90ZXNdXG4gICAgLy8gQHB1cnBvc2U6IFByZXZlbnQgZGlzcGxheWluZyBhc3Ryb25vbWljYWxseSBsYXJnZSAnbWludXRlcyByZW1haW5pbmcnIHdoZW4gc3luYyBwcm9ncmVzcyBpcyB2ZXJ5IGxvd1xuICAgIC8vIEByZXN1bHQ6IFRoZSBlc3RpbWF0ZWQgdGltZSByZW1haW5pbmcgZGlzcGxheSB3aWxsIGJlIHN0YWJsZSBhbmQgbWVhbmluZ2Z1bCB0aHJvdWdob3V0IHRoZSBzeW5jIHByb2Nlc3MsIHNob3dpbmcgJ0NhbGN1bGF0aW5nLi4uJyBkdXJpbmcgZWFybHkgc3RhZ2VzLlxuICAgIC8vIEBzaWduZWQ6IEMuQmrDuHJuXG4gICAgbG9nZ2VyLmRlYnVnKGBbU00tRElBR05PU0lTXSBQcm9ncmVzcyB1cGRhdGUgZnJlcXVlbmN5OiAke3Byb2dyZXNzLmN1cnJlbnR9LyR7cHJvZ3Jlc3MudG90YWx9ICgke3Byb2dyZXNzLnBlcmNlbnRhZ2V9JSlgKTtcbiAgICBcbiAgICBzeW5jUHJvZ3Jlc3MgPSBwcm9ncmVzcztcbiAgICBcbiAgICAvLyBJbml0aWFsaXplIHN5bmMgc3RhcnQgdGltZSBvbiB0aGUgZmlyc3QgcHJvZ3Jlc3MgdXBkYXRlIChjdXJyZW50ID09PSAwIG1lYW5zIG5vIG5vdGVzIHByb2Nlc3NlZCB5ZXQsXG4gICAgLy8gYnV0IHRoZSBvdmVyYWxsIHN5bmMgcHJvY2VzcyBoYXMgYmVndW4pLlxuICAgIGlmIChwcm9ncmVzcy5jdXJyZW50ID09PSAwICYmIHN5bmNTdGFydFRpbWUgPT09IDApIHtcbiAgICAgICAgc3luY1N0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgfVxuXG4gICAgLy8gT25seSBjYWxjdWxhdGUgZXN0aW1hdGVkIHRpbWUgaWYgdGhlcmUncyBhY3R1YWwgcGVyY2VudGFnZSBwcm9ncmVzc1xuICAgIC8vIG9yIGlmIHNvbWUgbm90ZXMgaGF2ZSBiZWVuIHByb2Nlc3NlZC5cbiAgICBpZiAocHJvZ3Jlc3MucGVyY2VudGFnZSA+IDAgfHwgcHJvZ3Jlc3MuY3VycmVudCA+IDApIHtcbiAgICAgICAgLy8gU2FmZWd1YXJkIGFnYWluc3QgZGl2aXNpb24gYnkgbmVhci16ZXJvIHBlcmNlbnRhZ2VzLCB3aGljaCBjYW4gbGVhZCB0b1xuICAgICAgICAvLyBleHRyZW1lbHkgbGFyZ2UgYW5kIGluY29ycmVjdCB0aW1lIGVzdGltYXRlcyBkdXJpbmcgdGhlIHZlcnkgZWFybHkgc3RhZ2VzIG9mIHN5bmMuXG4gICAgICAgIC8vIElmIHBlcmNlbnRhZ2UgaXMgbGVzcyB0aGFuIDAuMDElICgwLjAwMDEgYXMgYSBkZWNpbWFsKSwgZGlzcGxheSBcIkNhbGN1bGF0aW5nLi4uXCIuXG4gICAgICAgIGlmIChwcm9ncmVzcy5wZXJjZW50YWdlIDwgMC4wMDAxKSB7XG4gICAgICAgICAgICBlc3RpbWF0ZWRUaW1lUmVtYWluaW5nID0gJ0NhbGN1bGF0aW5nLi4uJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGVsYXBzZWQgPSBEYXRlLm5vdygpIC0gc3luY1N0YXJ0VGltZTtcbiAgICAgICAgICAgIC8vIEFkZCA1MDBtcyBwZXIgcmVtYWluaW5nIG5vdGUgdG8gYWNjb3VudCBmb3IgcHJvY2Vzc2luZyBkZWxheVxuICAgICAgICAgICAgY29uc3Qgbm90ZXNSZW1haW5pbmcgPSBwcm9ncmVzcy50b3RhbCAtIHByb2dyZXNzLmN1cnJlbnQ7XG4gICAgICAgICAgICBjb25zdCBkZWxheUFkanVzdG1lbnQgPSBub3Rlc1JlbWFpbmluZyAqIHNldHRpbmdzLnByb2Nlc3NpbmdEZWxheU1zO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBSZWNhbGN1bGF0ZSB0b3RhbCBlc3RpbWF0ZWQgdGltZSBjb25zaXN0ZW50bHkuXG4gICAgICAgICAgICAvLyBVc2luZyBgcHJvZ3Jlc3MucGVyY2VudGFnZSAvIDEwMGAgY29udmVydHMgdGhlIDAtMTAwIHBlcmNlbnRhZ2UgdG8gYSAwLTEgZGVjaW1hbC5cbiAgICAgICAgICAgIGNvbnN0IHRvdGFsRXN0aW1hdGVkID0gKGVsYXBzZWQgLyAocHJvZ3Jlc3MucGVyY2VudGFnZSAvIDEwMCkpICsgZGVsYXlBZGp1c3RtZW50O1xuICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nID0gdG90YWxFc3RpbWF0ZWQgLSBlbGFwc2VkO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAocmVtYWluaW5nIDwgMTAwMCkge1xuICAgICAgICAgICAgICAgIGVzdGltYXRlZFRpbWVSZW1haW5pbmcgPSAnQWxtb3N0IGRvbmUnO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyZW1haW5pbmcgPCA2MDAwMCkge1xuICAgICAgICAgICAgICAgIGVzdGltYXRlZFRpbWVSZW1haW5pbmcgPSBgJHtNYXRoLnJvdW5kKHJlbWFpbmluZyAvIDEwMDApfXMgcmVtYWluaW5nYDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZXN0aW1hdGVkVGltZVJlbWFpbmluZyA9IGAke01hdGgucm91bmQocmVtYWluaW5nIC8gNjAwMDApfW0gcmVtYWluaW5nYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIElmIG5vIHByb2dyZXNzIGhhcyBiZWVuIG1hZGUgeWV0LCBkaXNwbGF5IFwiQ2FsY3VsYXRpbmcuLi5cIi5cbiAgICAgICAgZXN0aW1hdGVkVGltZVJlbWFpbmluZyA9ICdDYWxjdWxhdGluZy4uLic7XG4gICAgfVxuICAgIFxuICAgIC8vIE9ubHkgbG9nIHNpZ25pZmljYW50IHByb2dyZXNzIG1pbGVzdG9uZXMgdG8gcmVkdWNlIGxvZyBzcGFtXG4gICAgaWYgKHByb2dyZXNzLmN1cnJlbnQgPT09IDAgfHwgcHJvZ3Jlc3MuY3VycmVudCA9PT0gcHJvZ3Jlc3MudG90YWwgfHwgcHJvZ3Jlc3MuY3VycmVudCAlIDUgPT09IDApIHtcbiAgICAgIGxvZ2dlci5kZWJ1ZyhgW1NNLVBST0dSRVNTXSBNaWxlc3RvbmU6ICR7cHJvZ3Jlc3MuY3VycmVudH0vJHtwcm9ncmVzcy50b3RhbH0gLSAke2VzdGltYXRlZFRpbWVSZW1haW5pbmd9YCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2hvd1N5bmNOb3RpZmljYXRpb24ocmVzdWx0OiBTeW5jUmVzdWx0LCBzeW5jVHlwZTogc3RyaW5nKSB7XG4gICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09ICdzdWNjZXNzJykge1xuICAgICAgbmV3ICh3aW5kb3cgYXMgYW55KS5Ob3RpY2UoYOKchSAke3N5bmNUeXBlfSBjb21wbGV0ZWQ6ICR7cmVzdWx0LnByb2Nlc3NlZH0gbm90ZXMgcHJvY2Vzc2VkYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ldyAod2luZG93IGFzIGFueSkuTm90aWNlKGDinYwgJHtzeW5jVHlwZX0gZmFpbGVkOiAke3Jlc3VsdC5tZXNzYWdlfWApO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRoZSBwcm9jZXNzQnVsa1N5bmNSZXN1bHRzIGZ1bmN0aW9uLCB1cGRhdGVOb3RlRnJvbnRtYXR0ZXIsIGFuZCBzZXJpYWxpemVGcm9udG1hdHRlciBhcmUgbm93IGluIEdyYXBoaXRpU2VydmljZS50c1xuICAvLyBUaGlzIGhlbHBzIGRlY291cGxlIHRoZSBVSSBmcm9tIHRoZSBwZXJzaXN0ZW5jZSBsYXllci5cblxuXG4gICQ6IGlmIChzeW5jUmVnaXN0cnlTZXJ2aWNlKSB7XG4gICAgc3luY1JlZ2lzdHJ5U2VydmljZS5vbignY2hhbmdlZCcsICgpID0+IHtcbiAgICAgIGlmIChhY3RpdmVUYWIgPT09ICdxdWljaycpIHtcbiAgICAgICAgY29tcHV0ZVF1aWNrU3luY1N0YXRzKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVUYWJDaGFuZ2UobmV3VGFiOiAncXVpY2snIHwgJ2FkdmFuY2VkJykge1xuICAgIGFjdGl2ZVRhYiA9IG5ld1RhYjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbFN5bmMoKSB7XG4gICAgaWYgKGdyYXBoaXRpU2VydmljZSAmJiBzeW5jSW5Qcm9ncmVzcykge1xuICAgICAgZ3JhcGhpdGlTZXJ2aWNlLmNhbmNlbFN5bmMoKTtcbiAgICAgIHN5bmNJblByb2dyZXNzID0gZmFsc2U7XG4gICAgICBzeW5jUHJvZ3Jlc3MgPSBudWxsO1xuICAgIH1cbiAgfVxuPC9zY3JpcHQ+XG5cbjxkaXYgY2xhc3M9XCJmaXhlZCBpbnNldC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWNvdmVyKV0gei01MFwiPlxuICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbCBoLTUvNiB3LTEvMiBtYXgtdy00eGwgbWluLXctOTYgYmctW3ZhcigtLWJhY2tncm91bmQtcHJpbWFyeSldIHJvdW5kZWQtbGcgc2hhZG93LTJ4bCBvdmVyZmxvdy1oaWRkZW4gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXVwiPlxuICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcC00IGJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlci1iIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXVwiPlxuICAgICAgPGgyIGNsYXNzPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIGZsZXgtMVwiPk1lZ2FNZW0gU3luYyBNYW5hZ2VyPC9oMj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3M9XCJ0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gaG92ZXI6dGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gZm9jdXM6b3V0bGluZS1ub25lIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMCBwLTIgbWwtNCAtbXItMiBob3ZlcjpvcGFjaXR5LTgwXCJcbiAgICAgICAgb246Y2xpY2s9e29uQ2xvc2V9XG4gICAgICAgIGFyaWEtbGFiZWw9XCJDbG9zZSBTeW5jIE1hbmFnZXJcIlxuICAgICAgPlxuICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgY2xhc3M9XCJ3LTYgaC02XCI+XG4gICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgZD1cIk02IDE4TDE4IDZNNiA2bDEyIDEyXCIgLz5cbiAgICAgICAgPC9zdmc+XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cblxuICA8ZGl2IGNsYXNzPVwiZmxleCBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXItYiBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gc3RpY2t5IHRvcC0wIHotMTBcIj5cbiAgICA8YnV0dG9uXG4gICAgICBjbGFzcz1cImZsZXgtMSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBweC00IHB5LTIgdGV4dC1zbSBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAgZWFzZS1pbi1vdXRcbiAgICAgICAgICAgIHthY3RpdmVUYWIgPT09ICdxdWljaydcbiAgICAgICAgICAgICAgPyAnYmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gcm91bmRlZC10LWxnJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gaG92ZXI6dGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gaG92ZXI6YmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpXSBob3ZlcjpvcGFjaXR5LTkwIHJvdW5kZWQtdC1sZyd9XCJcbiAgICAgIG9uOmNsaWNrPXsoKSA9PiBoYW5kbGVUYWJDaGFuZ2UoJ3F1aWNrJyl9XG4gICAgICBhcmlhLWxhYmVsPVwiUXVpY2sgU3luYyBUYWJcIlxuICAgID5cbiAgICAgIDxzcGFuIGNsYXNzPVwibXItMlwiPuKaoTwvc3Bhbj4gUXVpY2sgU3luY1xuICAgIDwvYnV0dG9uPlxuICAgIDxidXR0b25cbiAgICAgIGNsYXNzPVwiZmxleC0xIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHB4LTQgcHktMiB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMCBlYXNlLWluLW91dFxuICAgICAgICAgICAge2FjdGl2ZVRhYiA9PT0gJ2FkdmFuY2VkJ1xuICAgICAgICAgICAgICA/ICdiZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSByb3VuZGVkLXQtbGcnXG4gICAgICAgICAgICAgIDogJ3RleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSBob3Zlcjp0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSBob3ZlcjpiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3ZlcildIGhvdmVyOm9wYWNpdHktOTAgcm91bmRlZC10LWxnJ31cIlxuICAgICAgb246Y2xpY2s9eygpID0+IGhhbmRsZVRhYkNoYW5nZSgnYWR2YW5jZWQnKX1cbiAgICAgIGFyaWEtbGFiZWw9XCJBZHZhbmNlZCBTeW5jIFRhYlwiXG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3M9XCJtci0yXCI+8J+Om++4jzwvc3Bhbj4gQWR2YW5jZWRcbiAgICA8L2J1dHRvbj5cbiAgPC9kaXY+XG5cbiAgPCEtLSBTeW5jIFByb2dyZXNzIChhcHBlYXJzIHJpZ2h0IGFmdGVyIHRhYnMgd2hlbiBhY3RpdmUpIC0tPlxuICB7I2lmIHN5bmNJblByb2dyZXNzfVxuICAgIDxkaXYgY2xhc3M9XCJiZy1bdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KV0gYm9yZGVyLWIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHAtMyBzcGFjZS15LTMgYW5pbWF0ZS1mYWRlLWluLXVwXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgIDxoMyBjbGFzcz1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPlxuICAgICAgICAgIFN5bmMgaW4gUHJvZ3Jlc3MuLi5cbiAgICAgICAgPC9oMz5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uOmNsaWNrPXtjYW5jZWxTeW5jfVxuICAgICAgICAgIGNsYXNzPVwidGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIGhvdmVyOnRleHQtW3ZhcigtLXRleHQtZXJyb3IpXSB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgYXJpYS1sYWJlbD1cIkNhbmNlbCBzeW5jXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14bFwiPsOXPC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7I2lmIHN5bmNQcm9ncmVzc31cbiAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtc20gdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldXCI+XG4gICAgICAgICAge3N5bmNQcm9ncmVzcy5tZXNzYWdlfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwidy1mdWxsIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIHJvdW5kZWQtZnVsbCBoLTIuNVwiPlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzPVwiYmctZ3JhZGllbnQtdG8tciBmcm9tLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0by1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50LWhvdmVyKV0gaC0yLjUgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMFwiXG4gICAgICAgICAgICBzdHlsZT1cIndpZHRoOiB7TWF0aC5yb3VuZChzeW5jUHJvZ3Jlc3MucGVyY2VudGFnZSAvIDIpICogMn0lXCJcbiAgICAgICAgICA+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gdGV4dC14cyB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIj5cbiAgICAgICAgICA8c3Bhbj57TWF0aC5yb3VuZChzeW5jUHJvZ3Jlc3MucGVyY2VudGFnZSAvIDIpICogMn0lICh7c3luY1Byb2dyZXNzLmN1cnJlbnR9L3tzeW5jUHJvZ3Jlc3MudG90YWx9KTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXVwiPntlc3RpbWF0ZWRUaW1lUmVtYWluaW5nfTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICB7OmVsc2V9XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXVwiPlByZXBhcmluZyB0byBzeW5jLi4uPC9kaXY+XG4gICAgICB7L2lmfVxuXG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb246Y2xpY2s9e2NhbmNlbFN5bmN9XG4gICAgICAgICAgY2xhc3M9XCJweC00IHB5LTIgdGV4dC1zbSBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQtbWQgaG92ZXI6YmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpXSBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tYWxsXCJcbiAgICAgICAgPlxuICAgICAgICAgIENhbmNlbFxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICB7L2lmfVxuXG4gIDxkaXYgY2xhc3M9XCJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvIHAtNCBzcGFjZS15LTQgYmctW3ZhcigtLWJhY2tncm91bmQtcHJpbWFyeSldXCI+XG4gICAgeyNpZiBhY3RpdmVUYWIgPT09ICdxdWljayd9XG4gICAgICA8ZGl2IGNsYXNzPVwicXVpY2stc3luYy10YWJcIj5cbiAgICAgICAgPGgzIGNsYXNzPVwidGV4dC1sZyBmb250LXNlbWlib2xkIG1iLTQgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj5TeW5jIGJ5IENhdGVnb3J5PC9oMz5cbiAgICAgICAgeyNpZiB0YWJsZUxvYWRpbmd9XG4gICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIj5Mb2FkaW5nIHN5bmMgc3RhdHVzLi4uPC9wPlxuICAgICAgICB7OmVsc2UgaWYgcXVpY2tTeW5jVGFibGVEYXRhLmxlbmd0aCA9PT0gMH1cbiAgICAgICAgICA8cCBjbGFzcz1cInRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXVwiPk5vIHN5bmNhYmxlIG5vdGUgdHlwZXMgZm91bmQuPC9wPlxuICAgICAgICB7OmVsc2V9XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm92ZXJmbG93LXgtYXV0byB3LWZ1bGwgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildXCI+XG4gICAgICAgICAgICA8dGFibGUgY2xhc3M9XCJ3LWZ1bGwgdGFibGUtYXV0byB0ZXh0LWxlZnRcIj5cbiAgICAgICAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICAgICAgIDx0ciBjbGFzcz1cImJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlci1iIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIj5cbiAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiIGNsYXNzPVwicC0zIHRleHQtc20gZm9udC1zZW1pYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXJcIj5Ob3RlIFR5cGU8L3RoPlxuICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCIgY2xhc3M9XCJwLTMgdGV4dC1zbSBmb250LXNlbWlib2xkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlclwiPlRvdGFsPC90aD5cbiAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiIGNsYXNzPVwicC0zIHRleHQtc20gZm9udC1zZW1pYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXJcIj5TeW5jZWQ8L3RoPlxuICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCIgY2xhc3M9XCJwLTMgdGV4dC1zbSBmb250LXNlbWlib2xkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlclwiPlByaXZhdGU8L3RoPlxuICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCIgY2xhc3M9XCJwLTMgdGV4dC1zbSBmb250LXNlbWlib2xkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlclwiPlN5bmNVcGRhdGVkPC90aD5cbiAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiIGNsYXNzPVwicC0zIHRleHQtc20gZm9udC1zZW1pYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXJcIj5TeW5jTmV3PC90aD5cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgICAgeyNlYWNoIHF1aWNrU3luY1RhYmxlRGF0YSBhcyByb3d9XG4gICAgICAgICAgICAgICAgICA8dHIgY2xhc3M9XCJib3JkZXItYiBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gaG92ZXI6YmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpXSBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tY29sb3JzIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+XG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInAtMyB0ZXh0LXNtXCI+e3Jvdy50eXBlfTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInAtMyB0ZXh0LXNtXCI+e3Jvdy50b3RhbH08L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJwLTMgdGV4dC1zbVwiPntyb3cuc3luY2VkfTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInAtMyB0ZXh0LXNtXCI+e3Jvdy5wcml2YXRlfTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHsjaWYgcm93LnVwZGF0ZWQgPiAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInctZnVsbCBiZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50LWhvdmVyKV0gaG92ZXI6b3BhY2l0eS05MCB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHB4LTMgcHktMS41IHJvdW5kZWQtbWQgdGV4dC14cyBmb250LW1lZGl1bSBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c3luY0luUHJvZ3Jlc3N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiBzdGFydENhdGVnb3J5U3luYyhyb3cudHlwZSArICcgKFVwZGF0ZWQpJywgcm93LnVwZGF0ZWRQYXRocyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2BVcGRhdGUgJHtyb3cudXBkYXRlZH0gJHtyb3cudHlwZX0gTm90ZXNgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBVcGRhdGUge3Jvdy51cGRhdGVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwicC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ3LWZ1bGwgYmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGhvdmVyOm9wYWNpdHktOTAgdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSBweC0zIHB5LTEuNSByb3VuZGVkLW1kIHRleHQteHMgZm9udC1tZWRpdW0gZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtyb3cucmVhZHkgPT09IDAgfHwgc3luY0luUHJvZ3Jlc3N9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gc3RhcnRDYXRlZ29yeVN5bmMocm93LnR5cGUsIHJvdy5yZWFkeVBhdGhzKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2BTeW5jICR7cm93LnJlYWR5fSAke3Jvdy50eXBlfSBOb3Rlc2B9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgU3luYyB7cm93LnJlYWR5fVxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICB7L2VhY2h9XG4gICAgICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB7L2lmfVxuICAgICAgPC9kaXY+XG4gICAgezplbHNlIGlmIGFjdGl2ZVRhYiA9PT0gJ2FkdmFuY2VkJ31cbiAgICAgIDxkaXYgY2xhc3M9XCJhZHZhbmNlZC1zeW5jLXRhYlwiPlxuICAgICAgICA8aDMgY2xhc3M9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgbWItNCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPkFkdmFuY2VkIE5vdGUgU2VsZWN0aW9uPC9oMz5cbiAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIj5BZHZhbmNlZCBzZWxlY3Rpb24gVUkgd2lsbCBiZSBpbXBsZW1lbnRlZCBoZXJlLjwvcD5cbiAgICAgICAgPCEtLSBQbGFjZWhvbGRlciBmb3IgYWR2YW5jZWQgc3luYyBjb250cm9scyAtLT5cbiAgICAgIDwvZGl2PlxuICAgIHsvaWZ9XG5cblxuICAgIHsjaWYgc3luY1Jlc3VsdH1cbiAgICAgIDxkaXYgY2xhc3M9XCJwLTQgcm91bmRlZC1sZyBzaGFkb3ctbWQgc3BhY2UteS0yIHtzeW5jUmVzdWx0LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnID8gJ2JnLVt2YXIoLS10ZXh0LXN1Y2Nlc3MpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldJyA6ICdiZy1bdmFyKC0tdGV4dC1lcnJvcildIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0nfVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0zXCI+XG4gICAgICAgICAgeyNpZiBzeW5jUmVzdWx0LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnfVxuICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlLXdpZHRoPVwiMS41XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgY2xhc3M9XCJ3LTYgaC02XCI+XG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIGQ9XCJNNC41IDEyLjc1bDYgNiAxMi0xMlwiIC8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICB7OmVsc2V9XG4gICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2Utd2lkdGg9XCIxLjVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBjbGFzcz1cInctNiBoLTZcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgZD1cIk0xMiA5djZtMCAwdjZtMC02aDZtLTYgMEg2XCIgLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxoMyBjbGFzcz1cInRleHQtbGcgZm9udC1zZW1pYm9sZFwiPlN5bmMgQ29tcGxldGU8L2gzPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgIFN0YXR1czogPHNwYW4gY2xhc3M9XCJmb250LWJvbGRcIj57c3luY1Jlc3VsdC5zdGF0dXN9PC9zcGFuPlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtXCI+e3N5bmNSZXN1bHQubWVzc2FnZX08L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgey9pZn1cbiAgPC9kaXY+XG4gIDwvZGl2PlxuPC9kaXY+IiwiLy8gPT09IFZFU1NFTCBPUEVOID09PVxuLy8gUHVycG9zZTogRW5oYW5jZWQgc3luYyBVSSB3cmFwcGVyIHRoYXQgaW50ZWdyYXRlcyBTdmVsdGUgY29tcG9uZW50IHdpdGggZXhpc3RpbmcgbW9kYWwgc3lzdGVtXG4vLyBJbnRlZ3JhdGlvbjogQnJpZGdlcyBiZXR3ZWVuIGV4aXN0aW5nIFR5cGVTY3JpcHQgbW9kYWwgcGF0dGVybiBhbmQgbmV3IFN2ZWx0ZS1iYXNlZCBzeW5jIGludGVyZmFjZVxuLy8gTW9kZTogQ29kZSAtIE1vZGFsIHdyYXBwZXIgZm9yIGVuaGFuY2VkIHN5bmMgZnVuY3Rpb25hbGl0eVxuXG5pbXBvcnQgeyBBcHAsIE1vZGFsIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgR3JhcGhpdGlTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvR3JhcGhpdGlTZXJ2aWNlJztcbmltcG9ydCB7IFN5bmNSZWdpc3RyeVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9TeW5jUmVnaXN0cnlTZXJ2aWNlJztcbmltcG9ydCB7IFN5bmNTdGF0dXNNYW5hZ2VyIH0gZnJvbSAnLi4vc2VydmljZXMvU3luY1N0YXR1c01hbmFnZXInO1xuaW1wb3J0IHR5cGUgeyBHcmFwaGl0aVBsdWdpblNldHRpbmdzIH0gZnJvbSAnLi4vdHlwZXMvU2V0dGluZ3MnO1xuaW1wb3J0IFN5bmNNb2RhbCBmcm9tICcuLi9jb21wb25lbnRzL1N5bmNNb2RhbC5zdmVsdGUnO1xuaW1wb3J0IHsgVmF1bHRSZWdpc3RyeVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9WYXVsdFJlZ2lzdHJ5U2VydmljZSc7XG5pbXBvcnQgdHlwZSB7IEdyYXBoaXRpTG9nZ2VyIH0gZnJvbSAnLi4vdXRpbHMvTG9nZ2VyJztcblxuZXhwb3J0IGNsYXNzIEVuaGFuY2VkU3luY1VJIGV4dGVuZHMgTW9kYWwge1xuICAgIHByaXZhdGUgZ3JhcGhpdGlTZXJ2aWNlOiBHcmFwaGl0aVNlcnZpY2U7XG4gICAgcHJpdmF0ZSBzeW5jUmVnaXN0cnlTZXJ2aWNlOiBTeW5jUmVnaXN0cnlTZXJ2aWNlO1xuICAgIHByaXZhdGUgc3luY1N0YXR1c01hbmFnZXI6IFN5bmNTdGF0dXNNYW5hZ2VyO1xuICAgIHByaXZhdGUgdmF1bHRSZWdpc3RyeVNlcnZpY2U6IFZhdWx0UmVnaXN0cnlTZXJ2aWNlO1xuICAgIHByaXZhdGUgc2V0dGluZ3M6IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3M7XG4gICAgcHJpdmF0ZSBsb2dnZXI6IEdyYXBoaXRpTG9nZ2VyO1xuICAgIHByaXZhdGUgc3ZlbHRlQ29tcG9uZW50OiBhbnk7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgYXBwOiBBcHAsXG4gICAgICAgIGdyYXBoaXRpU2VydmljZTogR3JhcGhpdGlTZXJ2aWNlLFxuICAgICAgICBzeW5jUmVnaXN0cnlTZXJ2aWNlOiBTeW5jUmVnaXN0cnlTZXJ2aWNlLFxuICAgICAgICBzeW5jU3RhdHVzTWFuYWdlcjogU3luY1N0YXR1c01hbmFnZXIsXG4gICAgICAgIHZhdWx0UmVnaXN0cnlTZXJ2aWNlOiBWYXVsdFJlZ2lzdHJ5U2VydmljZSxcbiAgICAgICAgc2V0dGluZ3M6IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3MsXG4gICAgICAgIGxvZ2dlcjogR3JhcGhpdGlMb2dnZXJcbiAgICApIHtcbiAgICAgICAgc3VwZXIoYXBwKTtcbiAgICAgICAgdGhpcy5ncmFwaGl0aVNlcnZpY2UgPSBncmFwaGl0aVNlcnZpY2U7XG4gICAgICAgIHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZSA9IHN5bmNSZWdpc3RyeVNlcnZpY2U7XG4gICAgICAgIHRoaXMuc3luY1N0YXR1c01hbmFnZXIgPSBzeW5jU3RhdHVzTWFuYWdlcjtcbiAgICAgICAgdGhpcy52YXVsdFJlZ2lzdHJ5U2VydmljZSA9IHZhdWx0UmVnaXN0cnlTZXJ2aWNlO1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xuICAgIH1cblxuICAgIGFzeW5jIG9uT3BlbigpIHtcbiAgICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuXG4gICAgICAgIC8vIFJlbW92ZSBkZWZhdWx0IG1vZGFsIHN0eWxpbmcgdG8gbGV0IFN2ZWx0ZSBoYW5kbGUgaXRcbiAgICAgICAgY29udGVudEVsLnBhcmVudEVsZW1lbnQ/LmFkZENsYXNzKCdlbmhhbmNlZC1zeW5jLW1vZGFsJywgJ2hpZGUtb2JzaWRpYW4tbW9kYWwtZWxlbWVudHMnKTtcbiAgICAgICAgaWYgKGNvbnRlbnRFbC5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICBjb250ZW50RWwucGFyZW50RWxlbWVudC5zdHlsZS5wYWRkaW5nID0gJzAnO1xuICAgICAgICAgICAgY29udGVudEVsLnBhcmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3RyYW5zcGFyZW50JztcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBTdmVsdGUgY29tcG9uZW50XG4gICAgICAgICAgICB0aGlzLnN2ZWx0ZUNvbXBvbmVudCA9IG5ldyBTeW5jTW9kYWwoe1xuICAgICAgICAgICAgICAgIHRhcmdldDogY29udGVudEVsLFxuICAgICAgICAgICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgIGdyYXBoaXRpU2VydmljZTogdGhpcy5ncmFwaGl0aVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgIHN5bmNSZWdpc3RyeVNlcnZpY2U6IHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyOiB0aGlzLmxvZ2dlcixcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlICdzZXR0aW5ncycgcHJvcCBpcyBub3QgZGlyZWN0bHkgdXNlZCBieSBTeW5jTW9kYWwuc3ZlbHRlLFxuICAgICAgICAgICAgICAgICAgICAvLyBhbmQgY2F1c2VzIGEgVHlwZVNjcmlwdCBlcnJvciBpZiBwYXNzZWQgZGlyZWN0bHkgd2l0aG91dCBpdCBiZWluZyBhIGtub3duIHByb3BlcnR5LlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHByb3Agc2hvdWxkIGJlIGFjY2Vzc2VkIHZpYSBHcmFwaGl0aVNlcnZpY2Ugb3IgaGFuZGxlZCB3aXRoaW4gU3luY01vZGFsLnN2ZWx0ZSBpdHNlbGYuXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U6ICgpID0+IHRoaXMuY2xvc2UoKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gaW5pdGlhbGl6ZSBlbmhhbmNlZCBzeW5jIFVJOicsIGVycm9yKTtcblxuICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gc2ltcGxlIGVycm9yIGRpc3BsYXlcbiAgICAgICAgICAgIGNvbnRlbnRFbC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInAtNiB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3M9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC1yZWQtNjAwIG1iLTRcIj5FbmhhbmNlZCBTeW5jIFVJIEVycm9yPC9oMj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LWdyYXktNzAwIG1iLTRcIj5GYWlsZWQgdG8gbG9hZCBlbmhhbmNlZCBzeW5jIFVJOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX08L3A+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJweC00IHB5LTIgYmctYmx1ZS01MDAgdGV4dC13aGl0ZSByb3VuZGVkIGhvdmVyOmJnLWJsdWUtNjAwXCIgb25jbGljaz1cInRoaXMuY2xvc2VzdCgnLm1vZGFsJykuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2Nsb3NlJykpXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBDbG9zZVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkNsb3NlKCkge1xuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcblxuICAgICAgICAvLyBEZXN0cm95IFN2ZWx0ZSBjb21wb25lbnRcbiAgICAgICAgaWYgKHRoaXMuc3ZlbHRlQ29tcG9uZW50KSB7XG4gICAgICAgICAgICB0aGlzLnN2ZWx0ZUNvbXBvbmVudC4kZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5zdmVsdGVDb21wb25lbnQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVzZXQgbW9kYWwgc3R5bGluZ1xuICAgICAgICBjb250ZW50RWwucGFyZW50RWxlbWVudD8ucmVtb3ZlQ2xhc3MoJ2VuaGFuY2VkLXN5bmMtbW9kYWwnKTtcbiAgICAgICAgaWYgKGNvbnRlbnRFbC5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICBjb250ZW50RWwucGFyZW50RWxlbWVudC5zdHlsZS5wYWRkaW5nID0gJyc7XG4gICAgICAgICAgICBjb250ZW50RWwucGFyZW50RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBGYWN0b3J5IGZ1bmN0aW9uIHRvIGNyZWF0ZSBhbmQgb3BlbiB0aGUgZW5oYW5jZWQgc3luYyBVSVxuICovXG5leHBvcnQgZnVuY3Rpb24gb3BlbkVuaGFuY2VkU3luY1VJKFxuICAgIGFwcDogQXBwLFxuICAgIGdyYXBoaXRpU2VydmljZTogR3JhcGhpdGlTZXJ2aWNlLFxuICAgIHN5bmNSZWdpc3RyeVNlcnZpY2U6IFN5bmNSZWdpc3RyeVNlcnZpY2UsXG4gICAgc3luY1N0YXR1c01hbmFnZXI6IFN5bmNTdGF0dXNNYW5hZ2VyLFxuICAgIHZhdWx0UmVnaXN0cnlTZXJ2aWNlOiBWYXVsdFJlZ2lzdHJ5U2VydmljZSxcbiAgICBzZXR0aW5nczogR3JhcGhpdGlQbHVnaW5TZXR0aW5ncyxcbiAgICBsb2dnZXI6IEdyYXBoaXRpTG9nZ2VyXG4pOiB2b2lkIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBzeW5jVUkgPSBuZXcgRW5oYW5jZWRTeW5jVUkoXG4gICAgICAgICAgICBhcHAsXG4gICAgICAgICAgICBncmFwaGl0aVNlcnZpY2UsXG4gICAgICAgICAgICBzeW5jUmVnaXN0cnlTZXJ2aWNlLFxuICAgICAgICAgICAgc3luY1N0YXR1c01hbmFnZXIsXG4gICAgICAgICAgICB2YXVsdFJlZ2lzdHJ5U2VydmljZSxcbiAgICAgICAgICAgIHNldHRpbmdzLFxuICAgICAgICAgICAgbG9nZ2VyXG4gICAgICAgICk7XG4gICAgICAgIHN5bmNVSS5vcGVuKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIG9wZW4gZW5oYW5jZWQgc3luYyBVSTonLCBlcnJvcik7XG4gICAgICAgIC8vIENvdWxkIGZhbGwgYmFjayB0byBvcmlnaW5hbCBTeW5jVUkgaGVyZSBpZiBuZWVkZWRcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxufVxuXG4vLyA9PT0gVkVTU0VMIENMT1NFID09PSIsIiAvLyBAQHZlc3NlbC1wcm90b2NvbDpCYWxkciBnb3Zlcm5zOmRlZmF1bHRzIGNvbnRleHQ6Q2VudHJhbGl6ZWQgTExNIGFuZCBjcm9zcy1lbmNvZGVyIGRlZmF1bHQgbGlzdHMgZm9yIFNldHRpbmdzVGFiXG4gLy8gQGludGVyLWRlcGVuZGVuY2llczogW1NldHRpbmdzVGFiLnRzXVxuIC8vIEBwdXJwb3NlOiBLZWVwIGxhcmdlIGRlZmF1bHQgbGlzdHMgb3V0IG9mIFNldHRpbmdzVGFiIHRvIGtlZXAgdGhlIGZpbGUgc21hbGwgYW5kIGltcG9ydGFibGVcbiAvLyBAcmVzdWx0OiBTZXR0aW5nc1RhYiB3aWxsIGNhbGwgZnVuY3Rpb25zIGZyb20gdGhpcyBtb2R1bGUgdG8gZ2V0IGRlZmF1bHQgYmxvY2tzIHRvIHdyaXRlIGludG8gZGF0YS5qc29uXG4gLy8gQHNpZ25lZDogQy5CasO4cm5cblxuLy8gQHB1cnBvc2U6IEdlbmVyYXRlIGR5bmFtaWMgTExNIGRlZmF1bHRzIHdpdGggT3BlblJvdXRlciBwcmVzZXQgc3VwcG9ydCBAZGVwZW5kczogU2V0dGluZ3MgaW50ZXJmYWNlIEByZXN1bHRzOiBMTE0gZGVmYXVsdHMgd2l0aCBvcHRpb25hbCBwcmVzZXQgbW9kZWxzXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVmYXVsdExMTUJsb2NrcyhzZXR0aW5ncz86IHsgb3BlbnJvdXRlclByZXNldFNsdWc/OiBzdHJpbmcgfSkge1xuICBjb25zdCBkZWZhdWx0cyA9IHtcbiAgICBsbG1EZWZhdWx0czoge1xuICAgICAgb3BlbmFpOiB7XG4gICAgICAgIFwiZ3B0LTVcIjogeyBkZXNjOiBcIkxhdGVzdCBmbGFnc2hpcCwgbW9zdCBjYXBhYmxlXCIsIHJlY29tbWVuZGVkOiB0cnVlIH0sXG4gICAgICAgIFwiZ3B0LTRvXCI6IHsgZGVzYzogXCJQcmV2aW91cyBnZW4sIG11bHRpbW9kYWxcIiwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwiZ3B0LTRvLW1pbmlcIjogeyBkZXNjOiBcIkVmZmljaWVudCwgZ29vZCBwZXJmb3JtYW5jZVwiLCByZWNvbW1lbmRlZDogZmFsc2UgfSxcbiAgICAgIH0sXG4gICAgICBvbGxhbWE6IHtcbiAgICAgICAgXCJkZWVwc2Vlay1yMTo4YlwiOiB7IGRlc2M6IFwiQmVzdCByZWFzb25pbmcgd2l0aCB0cmFuc3BhcmVudCB0aG91Z2h0IGNoYWluc1wiLCByZWNvbW1lbmRlZDogdHJ1ZSB9LFxuICAgICAgICBcInF3ZW4yLjU6N2JcIjogeyBkZXNjOiBcIkV4Y2VsbGVudCBlbnRpdHkgZXh0cmFjdGlvbiwgMTI4SyBjb250ZXh0XCIsIHJlY29tbWVuZGVkOiB0cnVlIH0sXG4gICAgICAgIFwicXdxOjMyYlwiOiB7IGRlc2M6IFwiUXdlbidzIGRlZGljYXRlZCByZWFzb25pbmcgbW9kZWxcIiwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwibGxhbWEzLjI6MTFiXCI6IHsgZGVzYzogXCJMYXRlc3QgTGxhbWEsIHN0cm9uZyBwZXJmb3JtYW5jZVwiLCByZWNvbW1lbmRlZDogZmFsc2UgfSxcbiAgICAgICAgXCJnZW1tYTI6OWJcIjogeyBkZXNjOiBcIkdvb2dsZSdzIGVmZmljaWVudCBhcmNoaXRlY3R1cmVcIiwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwibWlzdHJhbDo3YlwiOiB7IGRlc2M6IFwiRmFzdCwgcmVsaWFibGUgYmFzZWxpbmVcIiwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwicGhpMzoxNGJcIjogeyBkZXNjOiBcIk1pY3Jvc29mdCdzIGNhcGFibGUgbW9kZWxcIiwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwibGxhbWEzLjI6M2JcIjogeyBkZXNjOiBcIkxpZ2h0d2VpZ2h0IGZvciBsaW1pdGVkIGhhcmR3YXJlXCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcInF3ZW4yLjU6M2JcIjogeyBkZXNjOiBcIlVzZXIgYWRkZWRcIiwgcmVjb21tZW5kZWQ6IGZhbHNlIH1cbiAgICAgIH0sXG4gICAgICBnb29nbGU6IHtcbiAgICAgICAgXCJnZW1pbmktMi41LXByb1wiOiB7IGRlc2M6IFwiTGF0ZXN0IGZsYWdzaGlwLCBtYXhpbXVtIGNhcGFiaWxpdHlcIiwgcmVjb21tZW5kZWQ6IHRydWUgfSxcbiAgICAgICAgXCJnZW1pbmktMi41LWZsYXNoXCI6IHsgZGVzYzogXCJGYXN0LCBlZmZpY2llbnQgR2VtaW5pIDIuNVwiLCByZWNvbW1lbmRlZDogZmFsc2UgfSxcbiAgICAgICAgXCJnZW1pbmktMi4wLWZsYXNoLWV4cFwiOiB7IGRlc2M6IFwiUHJldmlvdXMgZ2VuIGV4cGVyaW1lbnRhbFwiLCByZWNvbW1lbmRlZDogZmFsc2UgfSxcbiAgICAgIH0sXG4gICAgICBhbnRocm9waWM6IHtcbiAgICAgICAgXCJjbGF1ZGUtb3B1cy00LTEtMjAyNTA4MDVcIjogeyBkZXNjOiBcIk1vc3QgY2FwYWJsZSwgYWR2YW5jZWQgcmVhc29uaW5nXCIsIHJlY29tbWVuZGVkOiB0cnVlIH0sXG4gICAgICAgIFwiY2xhdWRlLXNvbm5ldC00LTIwMjUwNTE0XCI6IHsgZGVzYzogXCJCYWxhbmNlZCBwZXJmb3JtYW5jZSBhbmQgc3BlZWRcIiwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwiY2xhdWRlLTMtNy1zb25uZXQtbGF0ZXN0XCI6IHsgZGVzYzogXCJQcmV2aW91cyBnZW4sIHN0aWxsIGNhcGFibGVcIiwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwiY2xhdWRlLTMtNS1oYWlrdS1sYXRlc3RcIjogeyBkZXNjOiBcIkZhc3QsIGVjb25vbWljYWxcIiwgcmVjb21tZW5kZWQ6IGZhbHNlIH1cbiAgICAgIH0sXG4gICAgICB2ZW5pY2U6IHtcbiAgICAgICAgXCJkb2xwaGluLTIuOS4yLXF3ZW4yLTcyYlwiOiB7IGRlc2M6IFwiSGlnaC1wZXJmb3JtYW5jZSBkb2xwaGluIGZpbmUtdHVuZSBvZiBRd2VuMlwiLCByZWNvbW1lbmRlZDogdHJ1ZSB9LFxuICAgICAgICBcIm1pc3RyYWwtMzEtMjRiXCI6IHsgZGVzYzogXCJQb3dlcmZ1bCBNaXN0cmFsIGFyY2hpdGVjdHVyZVwiLCByZWNvbW1lbmRlZDogZmFsc2UgfSxcbiAgICAgICAgXCJsbGFtYS0zLjItM2JcIjogeyBkZXNjOiBcIkxpZ2h0d2VpZ2h0IExsYW1hIG1vZGVsXCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9XG4gICAgICB9LFxuICAgICAgb3BlbnJvdXRlcjoge1xuICAgICAgICBcIm9wZW5haS9ncHQtNS1taW5pXCI6IHsgZGVzYzogXCJDb3N0LWVmZmVjdGl2ZSB3aXRoIGZ1bGwgc3RydWN0dXJlZCBvdXRwdXQgc3VwcG9ydFwiLCByZWNvbW1lbmRlZDogdHJ1ZSB9LFxuICAgICAgICBcIm1ldGEtbGxhbWEvbGxhbWEtMy4xLTcwYi1pbnN0cnVjdFwiOiB7IGRlc2M6IFwiT3BlbiBzb3VyY2UgYWx0ZXJuYXRpdmUgd2l0aCB2ZXJpZmllZCBzY2hlbWEgc3VwcG9ydFwiLCByZWNvbW1lbmRlZDogZmFsc2UgfSxcbiAgICAgICAgXCJnb29nbGUvZ2VtaW5pLTIuNS1mbGFzaFwiOiB7IGRlc2M6IFwiR29vZ2xlJ3Mgb2ZmZXJpbmcgd2l0aCB2ZXJpZmllZCBzdHJ1Y3R1cmVkIG91dHB1dHNcIiwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwicXdlbi9xd2VuMy0yMzViLWEyMmJcIjogeyBkZXNjOiBcIlF3ZW4gbW9kZWwgd2l0aCB2ZXJpZmllZCBzY2hlbWEgaGFuZGxpbmdcIiwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwiZGVlcHNlZWsvZGVlcHNlZWstY2hhdC12My4xXCI6IHsgZGVzYzogXCJSZWNlbnQgRGVlcHNlZWsgbW9kZWwgd2l0aCBzdHJ1Y3R1cmVkIG91dHB1dFwiLCByZWNvbW1lbmRlZDogZmFsc2UgfVxuICAgICAgfVxuICAgIH0sXG4gICAgbGxtU21hbGxEZWZhdWx0czoge1xuICAgICAgb3BlbmFpOiB7XG4gICAgICAgIFwiZ3B0LTUtbmFub1wiOiB7IGRlc2M6IFwiTGF0ZXN0IG5hbm8gbW9kZWwgZm9yIHJlcmFua2luZ1wiLCByZWNvbW1lbmRlZDogdHJ1ZSB9LFxuICAgICAgICBcImdwdC00by1taW5pXCI6IHsgZGVzYzogXCJQcmV2aW91cyBnZW4gZWZmaWNpZW50IG1vZGVsXCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcImdwdC01LXR1cmJvXCI6IHsgZGVzYzogXCJGYXN0LCBjb3N0LWVmZmVjdGl2ZSBHUFQtNVwiLCByZWNvbW1lbmRlZDogZmFsc2UgfSxcbiAgICAgIH0sXG4gICAgICBvbGxhbWE6IHtcbiAgICAgICAgXCJxd2VuMi41OjNiXCI6IHsgZGVzYzogXCJFeGNlbGxlbnQgZm9yIHN0cnVjdHVyZWQgdGFza3NcIiwgcmVjb21tZW5kZWQ6IHRydWUgfSxcbiAgICAgICAgXCJsbGFtYTMuMjozYlwiOiB7IGRlc2M6IFwiRmFzdCwgcmVsaWFibGUgY2xhc3NpZmljYXRpb25zXCIsIHJlY29tbWVuZGVkOiB0cnVlIH0sXG4gICAgICAgIFwiZGVlcHNlZWstcjE6MS41YlwiOiB7IGRlc2M6IFwiVWx0cmEtZmFzdCwgbWluaW1hbCByZXNvdXJjZSB1c2VcIiwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwibWlzdHJhbDo3Yi1pbnN0cnVjdFwiOiB7IGRlc2M6IFwiTGFyZ2VyIGJ1dCB2ZXJ5IHJlbGlhYmxlXCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9XG4gICAgICB9LFxuICAgICAgZ29vZ2xlOiB7XG4gICAgICAgIFwiZ2VtaW5pLTIuNS1mbGFzaC1saXRlXCI6IHsgZGVzYzogXCJPcHRpbWl6ZWQgZm9yIGNsYXNzaWZpY2F0aW9uIHRhc2tzXCIsIHJlY29tbWVuZGVkOiB0cnVlIH0sXG4gICAgICAgIFwiZ2VtaW5pLTIuNS1mbGFzaFwiOiB7IGRlc2M6IFwiRmFzdCBjbGFzc2lmaWNhdGlvbiwgbGFyZ2VyXCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcImdlbWluaS0xLjUtZmxhc2gtOGJcIjogeyBkZXNjOiBcIlByZXZpb3VzIGdlbiwgc3RpbGwgZWZmaWNpZW50XCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9XG4gICAgICB9LFxuICAgICAgYW50aHJvcGljOiB7XG4gICAgICAgIFwiY2xhdWRlLTQtaGFpa3VcIjogeyBkZXNjOiBcIkZhc3QsIGVmZmljaWVudCBmb3IgcmVyYW5raW5nXCIsIHJlY29tbWVuZGVkOiB0cnVlIH0sXG4gICAgICAgIFwiY2xhdWRlLTMtNS1oYWlrdS0yMDI0MTAyMlwiOiB7IGRlc2M6IFwiUHJldmlvdXMgZ2VuLCBlY29ub21pY2FsXCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9XG4gICAgICB9LFxuICAgICAgdmVuaWNlOiB7XG4gICAgICAgIFwibGxhbWEtMy4yLTNiXCI6IHsgZGVzYzogXCJGYXN0LCBlZmZpY2llbnQgZm9yIGNsYXNzaWZpY2F0aW9uIHRhc2tzXCIsIHJlY29tbWVuZGVkOiB0cnVlIH0sXG4gICAgICAgIFwibWlzdHJhbC0zMS0yNGJcIjogeyBkZXNjOiBcIkxhcmdlciBidXQgdmVyeSBjYXBhYmxlXCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9XG4gICAgICB9LFxuICAgICAgb3BlbnJvdXRlcjoge1xuICAgICAgICBcIm9wZW5haS9ncHQtNS1taW5pXCI6IHsgZGVzYzogXCJDb3N0LWVmZmVjdGl2ZSB3aXRoIHZlcmlmaWVkIHN0cnVjdHVyZWQgb3V0cHV0IHN1cHBvcnRcIiwgcmVjb21tZW5kZWQ6IHRydWUgfSxcbiAgICAgICAgXCJnb29nbGUvZ2VtaW5pLTIuNS1mbGFzaFwiOiB7IGRlc2M6IFwiRmFzdCBjbGFzc2lmaWNhdGlvbiB3aXRoIHZlcmlmaWVkIHN0cnVjdHVyZWQgb3V0cHV0c1wiLCByZWNvbW1lbmRlZDogZmFsc2UgfSxcbiAgICAgICAgXCJtZXRhLWxsYW1hL2xsYW1hLTMuMS03MGItaW5zdHJ1Y3RcIjogeyBkZXNjOiBcIk9wZW4gc291cmNlIGFsdGVybmF0aXZlIHdpdGggdmVyaWZpZWQgc2NoZW1hIHN1cHBvcnRcIiwgcmVjb21tZW5kZWQ6IGZhbHNlIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGVtYmVkZGluZ0RlZmF1bHRzOiB7XG4gICAgICBvcGVuYWk6IHtcbiAgICAgICAgXCJ0ZXh0LWVtYmVkZGluZy0zLXNtYWxsXCI6IHsgZGVzYzogXCJFZmZpY2llbnQsIGdvb2QgcXVhbGl0eVwiLCBkaW1lbnNpb25zOiAxNTM2LCByZWNvbW1lbmRlZDogdHJ1ZSB9LFxuICAgICAgICBcInRleHQtZW1iZWRkaW5nLTMtbGFyZ2VcIjogeyBkZXNjOiBcIkhpZ2hlc3QgcXVhbGl0eSwgbGFyZ2VyIHZlY3RvcnNcIiwgZGltZW5zaW9uczogMzA3MiwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwidGV4dC1lbWJlZGRpbmctYWRhLTAwMlwiOiB7IGRlc2M6IFwiTGVnYWN5IG1vZGVsLCBzdGlsbCBzdXBwb3J0ZWRcIiwgZGltZW5zaW9uczogMTUzNiwgcmVjb21tZW5kZWQ6IGZhbHNlIH1cbiAgICAgIH0sXG4gICAgICBvbGxhbWE6IHtcbiAgICAgICAgXCJub21pYy1lbWJlZC10ZXh0OmxhdGVzdFwiOiB7IGRlc2M6IFwiQmVzdCBmb3IgbWFya2Rvd24gJiBtaXhlZCBjb250ZW50XCIsIGRpbWVuc2lvbnM6IDc2OCwgcmVjb21tZW5kZWQ6IHRydWUgfSxcbiAgICAgICAgXCJteGJhaS1lbWJlZC1sYXJnZVwiOiB7IGRlc2M6IFwiSGlnaGVzdCBxdWFsaXR5IGVtYmVkZGluZ3NcIiwgZGltZW5zaW9uczogMTAyNCwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwic25vd2ZsYWtlLWFyY3RpYy1lbWJlZFwiOiB7IGRlc2M6IFwiU3Ryb25nIHJldHJpZXZhbCBwZXJmb3JtYW5jZVwiLCBkaW1lbnNpb25zOiAxMDI0LCByZWNvbW1lbmRlZDogZmFsc2UgfSxcbiAgICAgICAgXCJhbGwtbWluaWxtXCI6IHsgZGVzYzogXCJTbWFsbGVzdCwgZmFzdGVzdCwgbGltaXRlZCBxdWFsaXR5XCIsIGRpbWVuc2lvbnM6IDM4NCwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwiZTUtbWlzdHJhbC03YlwiOiB7IGRlc2M6IFwiTExNLWJhc2VkIGVtYmVkZGluZ3MsIGhpZ2hlc3QgcXVhbGl0eVwiLCBkaW1lbnNpb25zOiA0MDk2LCByZWNvbW1lbmRlZDogZmFsc2UgfVxuICAgICAgfSxcbiAgICAgIGdvb2dsZToge1xuICAgICAgICBcInRleHQtZW1iZWRkaW5nLTAwNVwiOiB7IGRlc2M6IFwiTGF0ZXN0IEdlbWluaSAyLjUgZXJhIGVtYmVkZGluZ3NcIiwgZGltZW5zaW9uczogNzY4LCByZWNvbW1lbmRlZDogdHJ1ZSB9LFxuICAgICAgICBcInRleHQtZW1iZWRkaW5nLTAwNFwiOiB7IGRlc2M6IFwiUHJldmlvdXMgZ2VuLCBwcm92ZW4gcGVyZm9ybWFuY2VcIiwgZGltZW5zaW9uczogNzY4LCByZWNvbW1lbmRlZDogZmFsc2UgfSxcbiAgICAgICAgXCJ0ZXh0LW11bHRpbGluZ3VhbC1lbWJlZGRpbmctMDAyXCI6IHsgZGVzYzogXCJCZXN0IGZvciBtdWx0aXBsZSBsYW5ndWFnZXNcIiwgZGltZW5zaW9uczogNzY4LCByZWNvbW1lbmRlZDogZmFsc2UgfVxuICAgICAgfSxcbiAgICAgIHZveWFnZToge1xuICAgICAgICBcInZveWFnZS0zXCI6IHsgZGVzYzogXCJMYXRlc3QgZ2VuZXJhdGlvbiwgYmVzdCBxdWFsaXR5XCIsIGRpbWVuc2lvbnM6IDEwMjQsIHJlY29tbWVuZGVkOiB0cnVlIH0sXG4gICAgICAgIFwidm95YWdlLTMtbGl0ZVwiOiB7IGRlc2M6IFwiRWZmaWNpZW50LCBnb29kIHBlcmZvcm1hbmNlXCIsIGRpbWVuc2lvbnM6IDUxMiwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwidm95YWdlLWxhcmdlLTItaW5zdHJ1Y3RcIjogeyBkZXNjOiBcIkluc3RydWN0aW9uLW9wdGltaXplZFwiLCBkaW1lbnNpb25zOiAxMDI0LCByZWNvbW1lbmRlZDogZmFsc2UgfSxcbiAgICAgICAgXCJ2b3lhZ2UtY29kZS0yXCI6IHsgZGVzYzogXCJPcHRpbWl6ZWQgZm9yIGNvZGUgc2VhcmNoXCIsIGRpbWVuc2lvbnM6IDE1MzYsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcInZveWFnZS1maW5hbmNlLTJcIjogeyBkZXNjOiBcIkZpbmFuY2lhbCBkb21haW4gc3BlY2lhbGlzdFwiLCBkaW1lbnNpb25zOiAxMDI0LCByZWNvbW1lbmRlZDogZmFsc2UgfSxcbiAgICAgICAgXCJ2b3lhZ2UtbGF3LTJcIjogeyBkZXNjOiBcIkxlZ2FsIGRvbWFpbiBzcGVjaWFsaXN0XCIsIGRpbWVuc2lvbnM6IDEwMjQsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcInZveWFnZS1tdWx0aWxpbmd1YWwtMlwiOiB7IGRlc2M6IFwiQ3Jvc3MtbGluZ3VhbCByZXRyaWV2YWxcIiwgZGltZW5zaW9uczogMTAyNCwgcmVjb21tZW5kZWQ6IGZhbHNlIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGxsbUNyb3NzRW5jb2RlckRlZmF1bHRzOiB7XG4gICAgICBvcGVuYWk6IHtcbiAgICAgICAgXCJncHQtNS1uYW5vXCI6IHtcbiAgICAgICAgICBcImRlc2NcIjogXCJMYXRlc3QgbmFubyBtb2RlbCBmb3IgcmVyYW5raW5nXCIsXG4gICAgICAgICAgXCJyZWNvbW1lbmRlZFwiOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIFwiZ3B0LTQuMS1uYW5vXCI6IHtcbiAgICAgICAgICBcImRlc2NcIjogXCJQcmV2aW91cyBnZW4gZWZmaWNpZW50IG1vZGVsXCIsXG4gICAgICAgICAgXCJyZWNvbW1lbmRlZFwiOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBcImdwdC0zLjUtdHVyYm9cIjoge1xuICAgICAgICAgIFwiZGVzY1wiOiBcIkxlZ2FjeSwgdmVyeSBmYXN0XCIsXG4gICAgICAgICAgXCJyZWNvbW1lbmRlZFwiOiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZ2VtaW5pOiB7XG4gICAgICAgIFwiZ2VtaW5pLTIuNS1mbGFzaC1saXRlLXByZXZpZXctMDYtMTdcIjoge1xuICAgICAgICAgIFwiZGVzY1wiOiBcIk9wdGltaXplZCBmb3IgY2xhc3NpZmljYXRpb24gdGFza3NcIixcbiAgICAgICAgICBcInJlY29tbWVuZGVkXCI6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgXCJnZW1pbmktMS41LWZsYXNoLThiXCI6IHtcbiAgICAgICAgICBcImRlc2NcIjogXCJQcmV2aW91cyBnZW4sIHN0aWxsIGVmZmljaWVudFwiLFxuICAgICAgICAgIFwicmVjb21tZW5kZWRcIjogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBBZGQgcHJlc2V0IG1vZGVscyB0byBPcGVuUm91dGVyIGRyb3Bkb3ducyB3aGVuIHByZXNldCBzbHVnIGlzIGNvbmZpZ3VyZWRcbiAgaWYgKHNldHRpbmdzPy5vcGVucm91dGVyUHJlc2V0U2x1Zykge1xuICAgIGNvbnN0IHByZXNldE1vZGVsID0gYEBwcmVzZXQvJHtzZXR0aW5ncy5vcGVucm91dGVyUHJlc2V0U2x1Z31gO1xuICAgIChkZWZhdWx0cy5sbG1EZWZhdWx0cy5vcGVucm91dGVyIGFzIGFueSlbcHJlc2V0TW9kZWxdID0ge1xuICAgICAgZGVzYzogXCJNb2RlbHMgY29udHJvbGxlZCBieSBPcGVuUm91dGVyIFByZXNldFwiLFxuICAgICAgcmVjb21tZW5kZWQ6IHRydWVcbiAgICB9O1xuICAgIChkZWZhdWx0cy5sbG1TbWFsbERlZmF1bHRzLm9wZW5yb3V0ZXIgYXMgYW55KVtwcmVzZXRNb2RlbF0gPSB7XG4gICAgICBkZXNjOiBcIk1vZGVscyBjb250cm9sbGVkIGJ5IE9wZW5Sb3V0ZXIgUHJlc2V0XCIsXG4gICAgICByZWNvbW1lbmRlZDogdHJ1ZVxuICAgIH07XG4gIH1cblxuICByZXR1cm4gZGVmYXVsdHM7XG59XG4vLyBAQHZlc3NlbC1jbG9zZTpCYWxkciIsIi8vIENyZWRpdHMgZ28gdG8gTGlhbSdzIFBlcmlvZGljIE5vdGVzIFBsdWdpbjogaHR0cHM6Ly9naXRodWIuY29tL2xpYW1jYWluL29ic2lkaWFuLXBlcmlvZGljLW5vdGVzXG4vLyBCYXNlZCBvbiBUZW1wbGF0ZXIgcGx1Z2luIGZvbGRlciBzdWdnZXN0aW9uIGltcGxlbWVudGF0aW9uXG5cbmltcG9ydCB7IEFwcCwgVEFic3RyYWN0RmlsZSwgVEZvbGRlciB9IGZyb20gJ29ic2lkaWFuJztcblxuLy8gSW1wb3J0IFRleHRJbnB1dFN1Z2dlc3QgZnJvbSBzdWdnZXN0IG1vZHVsZVxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFRleHRJbnB1dFN1Z2dlc3Q8VD4ge1xuICAgIHByb3RlY3RlZCBhcHA6IEFwcDtcbiAgICBwcm90ZWN0ZWQgaW5wdXRFbDogSFRNTElucHV0RWxlbWVudCB8IEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG4gICAgcHJvdGVjdGVkIHN1Z2dlc3RFbDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgICBwcm90ZWN0ZWQgc3VnZ2VzdGlvbnM6IFRbXTtcbiAgICBwcm90ZWN0ZWQgc2VsZWN0ZWRJdGVtOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgaW5wdXRFbDogSFRNTElucHV0RWxlbWVudCB8IEhUTUxUZXh0QXJlYUVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5hcHAgPSBhcHA7XG4gICAgICAgIHRoaXMuaW5wdXRFbCA9IGlucHV0RWw7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gLTE7XG4gICAgICAgIHRoaXMuc3VnZ2VzdGlvbnMgPSBbXTtcblxuICAgICAgICB0aGlzLmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIHRoaXMub25JbnB1dENoYW5nZWQuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgdGhpcy5vbklucHV0Q2hhbmdlZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsIHRoaXMuY2xvc2UuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLm9uSW5wdXRLZXlkb3duLmJpbmQodGhpcykgYXMgRXZlbnRMaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgb25JbnB1dENoYW5nZWQoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGlucHV0U3RyID0gdGhpcy5pbnB1dEVsLnZhbHVlO1xuICAgICAgICBjb25zdCBzdWdnZXN0aW9ucyA9IHRoaXMuZ2V0U3VnZ2VzdGlvbnMoaW5wdXRTdHIpO1xuXG4gICAgICAgIGlmICghc3VnZ2VzdGlvbnMgfHwgc3VnZ2VzdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN1Z2dlc3Rpb25zID0gc3VnZ2VzdGlvbnM7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gLTE7XG5cbiAgICAgICAgLy8gUmVuZGVyIHN1Z2dlc3Rpb25zXG4gICAgICAgIHRoaXMub3BlbihzdWdnZXN0aW9ucyk7XG4gICAgfVxuXG4gICAgb25JbnB1dEtleWRvd24oZXZlbnQ6IEV2ZW50KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGtleWJvYXJkRXZlbnQgPSBldmVudCBhcyBLZXlib2FyZEV2ZW50O1xuICAgICAgICBpZiAoIXRoaXMuc3VnZ2VzdEVsIHx8IHRoaXMuc3VnZ2VzdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoa2V5Ym9hcmRFdmVudC5rZXkgPT09IFwiQXJyb3dEb3duXCIpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gTWF0aC5taW4odGhpcy5zZWxlY3RlZEl0ZW0gKyAxLCB0aGlzLnN1Z2dlc3Rpb25zLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZEl0ZW0odGhpcy5zZWxlY3RlZEl0ZW0pO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXlib2FyZEV2ZW50LmtleSA9PT0gXCJBcnJvd1VwXCIpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gTWF0aC5tYXgodGhpcy5zZWxlY3RlZEl0ZW0gLSAxLCAtMSk7XG4gICAgICAgICAgICB0aGlzLnNldFNlbGVjdGVkSXRlbSh0aGlzLnNlbGVjdGVkSXRlbSk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9IGVsc2UgaWYgKGtleWJvYXJkRXZlbnQua2V5ID09PSBcIkVudGVyXCIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkSXRlbSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RTdWdnZXN0aW9uKHRoaXMuc3VnZ2VzdGlvbnNbdGhpcy5zZWxlY3RlZEl0ZW1dKTtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGtleWJvYXJkRXZlbnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb3BlbihzdWdnZXN0aW9uczogVFtdKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcblxuICAgICAgICBpZiAoc3VnZ2VzdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgc3VnZ2VzdGlvbiBjb250YWluZXJcbiAgICAgICAgdGhpcy5zdWdnZXN0RWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLnN1Z2dlc3RFbC5jbGFzc0xpc3QuYWRkKFwic3VnZ2VzdGlvbi1jb250YWluZXJcIik7XG4gICAgICAgIHRoaXMuc3VnZ2VzdEVsLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICB6LWluZGV4OiAxMDAwO1xuICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDE2cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICAgICAgICAgICAgbWF4LWhlaWdodDogMjAwcHg7XG4gICAgICAgICAgICBvdmVyZmxvdy15OiBhdXRvO1xuICAgICAgICAgICAgbWluLXdpZHRoOiAyMDBweDtcbiAgICAgICAgYDtcblxuICAgICAgICAvLyBQb3NpdGlvbiBiZWxvdyBpbnB1dCBlbGVtZW50XG4gICAgICAgIGNvbnN0IGlucHV0UmVjdCA9IHRoaXMuaW5wdXRFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdGhpcy5zdWdnZXN0RWwuc3R5bGUudG9wID0gYCR7aW5wdXRSZWN0LmJvdHRvbSArIDR9cHhgO1xuICAgICAgICB0aGlzLnN1Z2dlc3RFbC5zdHlsZS5sZWZ0ID0gYCR7aW5wdXRSZWN0LmxlZnR9cHhgO1xuICAgICAgICB0aGlzLnN1Z2dlc3RFbC5zdHlsZS53aWR0aCA9IGAke2lucHV0UmVjdC53aWR0aH1weGA7XG5cbiAgICAgICAgLy8gQWRkIHN1Z2dlc3Rpb25zXG4gICAgICAgIHN1Z2dlc3Rpb25zLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdWdnZXN0aW9uRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgc3VnZ2VzdGlvbkVsLmNsYXNzTGlzdC5hZGQoXCJzdWdnZXN0aW9uLWl0ZW1cIik7XG4gICAgICAgICAgICBzdWdnZXN0aW9uRWwuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiA4cHggMTJweDtcbiAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyLWhvdmVyKTtcbiAgICAgICAgICAgIGA7XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyU3VnZ2VzdGlvbihpdGVtLCBzdWdnZXN0aW9uRWwpO1xuXG4gICAgICAgICAgICBzdWdnZXN0aW9uRWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFVzZSBtb3VzZWRvd24gaW5zdGVhZCBvZiBjbGljayB0byBwcmV2ZW50IGJsdXIgZnJvbSBmaXJpbmcgZmlyc3RcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RTdWdnZXN0aW9uKGl0ZW0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHN1Z2dlc3Rpb25FbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RTdWdnZXN0aW9uKGl0ZW0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHN1Z2dlc3Rpb25FbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZEl0ZW0oaW5kZXgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuc3VnZ2VzdEVsPy5hcHBlbmRDaGlsZChzdWdnZXN0aW9uRWwpO1xuICAgICAgICB9KTtcblxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuc3VnZ2VzdEVsKTtcbiAgICB9XG5cbiAgICBzZXRTZWxlY3RlZEl0ZW0oaW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBjb25zdCBpdGVtcyA9IHRoaXMuc3VnZ2VzdEVsPy5xdWVyeVNlbGVjdG9yQWxsKFwiLnN1Z2dlc3Rpb24taXRlbVwiKTtcbiAgICAgICAgaWYgKCFpdGVtcykgcmV0dXJuO1xuXG4gICAgICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICAgIGlmIChpID09PSBpbmRleCkge1xuICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZChcImlzLXNlbGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgIChpdGVtIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5iYWNrZ3JvdW5kID0gXCJ2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKVwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJpcy1zZWxlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAoaXRlbSBhcyBIVE1MRWxlbWVudCkuc3R5bGUuYmFja2dyb3VuZCA9IFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gaW5kZXg7XG4gICAgfVxuXG4gICAgY2xvc2UoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnN1Z2dlc3RFbCkge1xuICAgICAgICAgICAgdGhpcy5zdWdnZXN0RWwucmVtb3ZlKCk7XG4gICAgICAgICAgICB0aGlzLnN1Z2dlc3RFbCA9IG51bGwgYXMgYW55O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gLTE7XG4gICAgfVxuXG4gICAgYWJzdHJhY3QgZ2V0U3VnZ2VzdGlvbnMoaW5wdXRTdHI6IHN0cmluZyk6IFRbXTtcbiAgICBhYnN0cmFjdCByZW5kZXJTdWdnZXN0aW9uKGl0ZW06IFQsIGVsOiBIVE1MRWxlbWVudCk6IHZvaWQ7XG4gICAgYWJzdHJhY3Qgc2VsZWN0U3VnZ2VzdGlvbihpdGVtOiBUKTogdm9pZDtcbn1cblxuZXhwb3J0IGNsYXNzIEZvbGRlclN1Z2dlc3QgZXh0ZW5kcyBUZXh0SW5wdXRTdWdnZXN0PFRGb2xkZXI+IHtcbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgaW5wdXRFbDogSFRNTElucHV0RWxlbWVudCB8IEhUTUxUZXh0QXJlYUVsZW1lbnQpIHtcbiAgICAgICAgc3VwZXIoYXBwLCBpbnB1dEVsKTtcbiAgICB9XG5cbiAgICBnZXRTdWdnZXN0aW9ucyhpbnB1dFN0cjogc3RyaW5nKTogVEZvbGRlcltdIHtcbiAgICAgICAgY29uc3QgYWJzdHJhY3RGaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldEFsbExvYWRlZEZpbGVzKCk7XG4gICAgICAgIGNvbnN0IGZvbGRlcnM6IFRGb2xkZXJbXSA9IFtdO1xuICAgICAgICBjb25zdCBsb3dlckNhc2VJbnB1dFN0ciA9IGlucHV0U3RyLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgYWJzdHJhY3RGaWxlcy5mb3JFYWNoKChmb2xkZXI6IFRBYnN0cmFjdEZpbGUpID0+IHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBmb2xkZXIgaW5zdGFuY2VvZiBURm9sZGVyICYmXG4gICAgICAgICAgICAgICAgZm9sZGVyLnBhdGgudG9Mb3dlckNhc2UoKS5jb250YWlucyhsb3dlckNhc2VJbnB1dFN0cilcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGZvbGRlcnMucHVzaChmb2xkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZm9sZGVycy5zbGljZSgwLCAxMDAwKTtcbiAgICB9XG5cbiAgICByZW5kZXJTdWdnZXN0aW9uKGZpbGU6IFRGb2xkZXIsIGVsOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICAgICAgICBlbC5zZXRUZXh0KGZpbGUucGF0aCk7XG4gICAgfVxuXG4gICAgc2VsZWN0U3VnZ2VzdGlvbihmaWxlOiBURm9sZGVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaW5wdXRFbC52YWx1ZSA9IGZpbGUucGF0aDtcblxuICAgICAgICAvLyBEaXNwYXRjaCBwcm9wZXIgaW5wdXQgYW5kIGNoYW5nZSBldmVudHNcbiAgICAgICAgY29uc3QgaW5wdXRFdmVudCA9IG5ldyBFdmVudCgnaW5wdXQnLCB7IGJ1YmJsZXM6IHRydWUgfSk7XG4gICAgICAgIGNvbnN0IGNoYW5nZUV2ZW50ID0gbmV3IEV2ZW50KCdjaGFuZ2UnLCB7IGJ1YmJsZXM6IHRydWUgfSk7XG5cbiAgICAgICAgdGhpcy5pbnB1dEVsLmRpc3BhdGNoRXZlbnQoaW5wdXRFdmVudCk7XG4gICAgICAgIHRoaXMuaW5wdXRFbC5kaXNwYXRjaEV2ZW50KGNoYW5nZUV2ZW50KTtcblxuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxufVxuXG4vLyBVdGlsaXR5IGNsYXNzIGZvciBmb2xkZXIgb3BlcmF0aW9ucyAoa2VlcGluZyBmb3IgY29tcGF0aWJpbGl0eSlcbmV4cG9ydCBjbGFzcyBGb2xkZXJVdGlscyB7XG4gICAgcHJpdmF0ZSBhcHA6IEFwcDtcblxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XG4gICAgICAgIHRoaXMuYXBwID0gYXBwO1xuICAgIH1cblxuICAgIGdldEFsbEZvbGRlcnMoKTogVEZvbGRlcltdIHtcbiAgICAgICAgY29uc3QgZm9sZGVyczogVEZvbGRlcltdID0gW107XG4gICAgICAgIGNvbnN0IGFic3RyYWN0RmlsZXMgPSB0aGlzLmFwcC52YXVsdC5nZXRBbGxMb2FkZWRGaWxlcygpO1xuXG4gICAgICAgIGFic3RyYWN0RmlsZXMuZm9yRWFjaCgoZmlsZTogVEFic3RyYWN0RmlsZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGZpbGUgaW5zdGFuY2VvZiBURm9sZGVyKSB7XG4gICAgICAgICAgICAgICAgZm9sZGVycy5wdXNoKGZpbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZm9sZGVycztcbiAgICB9XG5cbiAgICBnZXRGb2xkZXJQYXRocygpOiBzdHJpbmdbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEFsbEZvbGRlcnMoKS5tYXAoZm9sZGVyID0+IGZvbGRlci5wYXRoKTtcbiAgICB9XG5cbiAgICBmb2xkZXJFeGlzdHMocGF0aDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGZvbGRlciA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChwYXRoKTtcbiAgICAgICAgcmV0dXJuIGZvbGRlciBpbnN0YW5jZW9mIFRGb2xkZXI7XG4gICAgfVxufSIsIi8vIEB2ZXNzZWwtcHJvdG9jb2w6VWxsciBnb3Zlcm5zOmRpc2NvdmVyeSBjb250ZXh0OkNyb3NzLXBsYXRmb3JtIE1DUCBzZXJ2ZXIgcHJvY2VzcyBkZXRlY3Rpb24gYW5kIG1vbml0b3Jpbmdcbi8vIEBpbnRlci1kZXBlbmRlbmNpZXM6IFtOb2RlLmpzIGNoaWxkX3Byb2Nlc3MsIFNldHRpbmdzVGFiIGRpc3BsYXldXG4vLyBAcHVycG9zZTogRGV0ZWN0IHJ1bm5pbmcgbWVnYW1lbV9tY3Bfc2VydmVyLnB5IGluc3RhbmNlcyB3aXRoIHBhcmVudCBwcm9jZXNzIGluZm9ybWF0aW9uXG4vLyBAcmVzdWx0OiBSZWFsLXRpbWUgbW9uaXRvcmluZyBvZiBNQ1Agc2VydmVyIGluc3RhbmNlcyBpbiBwbHVnaW4gVUlcbi8vIEBzaWduZWQ6IEMuQmrDuHJuXG5cbmltcG9ydCB7IGV4ZWMgfSBmcm9tICdjaGlsZF9wcm9jZXNzJztcbmltcG9ydCB7IHByb21pc2lmeSB9IGZyb20gJ3V0aWwnO1xuXG5jb25zdCBleGVjQXN5bmMgPSBwcm9taXNpZnkoZXhlYyk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTUNQU2VydmVyUHJvY2VzcyB7XG4gICAgcGlkOiBzdHJpbmc7XG4gICAgcGFyZW50TmFtZTogc3RyaW5nO1xuICAgIGNyZWF0ZWRBdDogc3RyaW5nO1xuICAgIGNvbW1hbmRMaW5lPzogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgUHJvY2Vzc0RldGVjdGlvbiB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IFByb2Nlc3NEZXRlY3Rpb247XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCk6IFByb2Nlc3NEZXRlY3Rpb24ge1xuICAgICAgICBpZiAoIVByb2Nlc3NEZXRlY3Rpb24uaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIFByb2Nlc3NEZXRlY3Rpb24uaW5zdGFuY2UgPSBuZXcgUHJvY2Vzc0RldGVjdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9jZXNzRGV0ZWN0aW9uLmluc3RhbmNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBnZXRNQ1BTZXJ2ZXJQcm9jZXNzZXMoKTogUHJvbWlzZTxNQ1BTZXJ2ZXJQcm9jZXNzW10+IHtcbiAgICAgICAgY29uc3QgcGxhdGZvcm0gPSBwcm9jZXNzLnBsYXRmb3JtO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAocGxhdGZvcm0gPT09ICd3aW4zMicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXRXaW5kb3dzUHJvY2Vzc2VzKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBsYXRmb3JtID09PSAnZGFyd2luJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdldE1hY1Byb2Nlc3NlcygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXRMaW51eFByb2Nlc3NlcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignW1BST0NFU1MtREVURUNUSU9OXSBGYWlsZWQgdG8gZ2V0IE1DUCBzZXJ2ZXIgcHJvY2Vzc2VzOicsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgZ2V0V2luZG93c1Byb2Nlc3NlcygpOiBQcm9taXNlPE1DUFNlcnZlclByb2Nlc3NbXT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gVXNlIGxpc3QgZm9ybWF0IGZvciBtb3JlIHJlbGlhYmxlIHBhcnNpbmdcbiAgICAgICAgICAgIGNvbnN0IHB5dGhvbkNtZCA9IGB3bWljIHByb2Nlc3Mgd2hlcmUgXCJuYW1lPSdweXRob24uZXhlJyBhbmQgY29tbWFuZGxpbmUgbGlrZSAnJW1lZ2FtZW1fbWNwX3NlcnZlci5weSUnXCIgZ2V0IFByb2Nlc3NJZCxQYXJlbnRQcm9jZXNzSWQsQ3JlYXRpb25EYXRlLENvbW1hbmRMaW5lIC9mb3JtYXQ6bGlzdGA7XG5cbiAgICAgICAgICAgIGNvbnN0IHsgc3Rkb3V0OiBweXRob25PdXRwdXQgfSA9IGF3YWl0IGV4ZWNBc3luYyhweXRob25DbWQsIHtcbiAgICAgICAgICAgICAgICBzaGVsbDogJ2NtZC5leGUnLFxuICAgICAgICAgICAgICAgIHdpbmRvd3NIaWRlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGVuY29kaW5nOiAndXRmOCdcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBQYXJzZSBsaXN0IGZvcm1hdCAoa2V5PXZhbHVlIHBhaXJzKSAtIGhhbmRsZSBXaW5kb3dzIFdNSUMgZG91YmxlLUNSIGxpbmUgZW5kaW5nc1xuICAgICAgICAgICAgY29uc3QgcHJvY2Vzc2VzOiBNQ1BTZXJ2ZXJQcm9jZXNzW10gPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IGJsb2NrcyA9IHB5dGhvbk91dHB1dC5zcGxpdCgvKFxcclxcclxcbil7Mix9LykuZmlsdGVyKGJsb2NrID0+IGJsb2NrLnRyaW0oKSAmJiAhYmxvY2subWF0Y2goL14oXFxyXFxyXFxuKSskLykpO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGJsb2NrIG9mIGJsb2Nrcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb3BzOiBhbnkgPSB7fTtcbiAgICAgICAgICAgICAgICBibG9jay5zcGxpdCgvXFxyXFxyXFxuLykuZm9yRWFjaChsaW5lID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIGxpbmVzIHdpdGggPSBwcm9wZXJseSwgZXNwZWNpYWxseSBDb21tYW5kTGluZSB3aGljaCBoYXMgbXVsdGlwbGUgPVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzcGxpdEluZGV4ID0gbGluZS5pbmRleE9mKCc9Jyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzcGxpdEluZGV4ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gbGluZS5zdWJzdHJpbmcoMCwgc3BsaXRJbmRleCkudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBsaW5lLnN1YnN0cmluZyhzcGxpdEluZGV4ICsgMSkudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleSAmJiB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKHByb3BzLlByb2Nlc3NJZCAmJiBwcm9wcy5QYXJlbnRQcm9jZXNzSWQgJiYgcHJvcHMuQ29tbWFuZExpbmU/LmluY2x1ZGVzKCdtZWdhbWVtX21jcF9zZXJ2ZXIucHknKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBHZXQgcGFyZW50IHByb2Nlc3MgbmFtZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnROYW1lID0gYXdhaXQgdGhpcy5nZXRXaW5kb3dzUGFyZW50UHJvY2Vzc05hbWUocHJvcHMuUGFyZW50UHJvY2Vzc0lkKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBGb3JtYXQgY3JlYXRpb24gZGF0ZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JtYXR0ZWREYXRlID0gdGhpcy5mb3JtYXRXaW5kb3dzRGF0ZShwcm9wcy5DcmVhdGlvbkRhdGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3Nlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpZDogcHJvcHMuUHJvY2Vzc0lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogZm9ybWF0dGVkRGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmRMaW5lOiBwcm9wcy5Db21tYW5kTGluZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBwcm9jZXNzZXM7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbUFJPQ0VTUy1ERVRFQ1RJT05dIFdpbmRvd3MgcHJvY2VzcyBkZXRlY3Rpb24gZmFpbGVkOicsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgZ2V0V2luZG93c1BhcmVudFByb2Nlc3NOYW1lKHBhcmVudFBpZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudENtZCA9IGB3bWljIHByb2Nlc3Mgd2hlcmUgXCJQcm9jZXNzSWQ9JHtwYXJlbnRQaWR9XCIgZ2V0IE5hbWUgL3ZhbHVlYDtcbiAgICAgICAgICAgIGNvbnN0IHsgc3Rkb3V0IH0gPSBhd2FpdCBleGVjQXN5bmMocGFyZW50Q21kLCB7XG4gICAgICAgICAgICAgICAgc2hlbGw6ICdjbWQuZXhlJyxcbiAgICAgICAgICAgICAgICB3aW5kb3dzSGlkZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlbmNvZGluZzogJ3V0ZjgnXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gUGFyc2UgdGhlIE5hbWU9dmFsdWUgZm9ybWF0IHByb3Blcmx5XG4gICAgICAgICAgICBjb25zdCBsaW5lcyA9IHN0ZG91dC5zcGxpdCgvXFxyP1xcbi8pO1xuICAgICAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3BsaXRJbmRleCA9IGxpbmUuaW5kZXhPZignPScpO1xuICAgICAgICAgICAgICAgIGlmIChzcGxpdEluZGV4ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBsaW5lLnN1YnN0cmluZygwLCBzcGxpdEluZGV4KS50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gbGluZS5zdWJzdHJpbmcoc3BsaXRJbmRleCArIDEpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gJ05hbWUnICYmIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUucmVwbGFjZSgnLmV4ZScsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAnVW5rbm93bic7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gJ1Vua25vd24nO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmb3JtYXRXaW5kb3dzRGF0ZSh3bWljRGF0ZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKCF3bWljRGF0ZSB8fCB3bWljRGF0ZS5sZW5ndGggPCAxNCkge1xuICAgICAgICAgICAgcmV0dXJuICdVbmtub3duJztcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXTUlDIGRhdGUgZm9ybWF0OiAyMDI1MDkwMjE0MjczNi4xMjM0NTYrMDAwXG4gICAgICAgICAgICBjb25zdCB5ZWFyID0gd21pY0RhdGUuc3Vic3RyaW5nKDAsIDQpO1xuICAgICAgICAgICAgY29uc3QgbW9udGggPSB3bWljRGF0ZS5zdWJzdHJpbmcoNCwgNik7XG4gICAgICAgICAgICBjb25zdCBkYXkgPSB3bWljRGF0ZS5zdWJzdHJpbmcoNiwgOCk7XG4gICAgICAgICAgICBjb25zdCBob3VyID0gd21pY0RhdGUuc3Vic3RyaW5nKDgsIDEwKTtcbiAgICAgICAgICAgIGNvbnN0IG1pbnV0ZSA9IHdtaWNEYXRlLnN1YnN0cmluZygxMCwgMTIpO1xuICAgICAgICAgICAgY29uc3Qgc2Vjb25kID0gd21pY0RhdGUuc3Vic3RyaW5nKDEyLCAxNCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShgJHt5ZWFyfS0ke21vbnRofS0ke2RheX1UJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YCk7XG4gICAgICAgICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZVN0cmluZygnZW4tVVMnLCB7XG4gICAgICAgICAgICAgICAgbW9udGg6ICdudW1lcmljJyxcbiAgICAgICAgICAgICAgICBkYXk6ICdudW1lcmljJyxcbiAgICAgICAgICAgICAgICB5ZWFyOiAnbnVtZXJpYycsXG4gICAgICAgICAgICAgICAgaG91cjogJ251bWVyaWMnLFxuICAgICAgICAgICAgICAgIG1pbnV0ZTogJzItZGlnaXQnLFxuICAgICAgICAgICAgICAgIHNlY29uZDogJzItZGlnaXQnLFxuICAgICAgICAgICAgICAgIGhvdXIxMjogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gd21pY0RhdGU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGdldE1hY1Byb2Nlc3NlcygpOiBQcm9taXNlPE1DUFNlcnZlclByb2Nlc3NbXT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gR2V0IFB5dGhvbiBwcm9jZXNzZXMgd2l0aCBtZWdhbWVtX21jcF9zZXJ2ZXIucHlcbiAgICAgICAgICAgIGNvbnN0IGNtZCA9IGBwcyBhdXggfCBncmVwIG1lZ2FtZW1fbWNwX3NlcnZlci5weSB8IGdyZXAgLXYgZ3JlcGA7XG4gICAgICAgICAgICBjb25zdCB7IHN0ZG91dCB9ID0gYXdhaXQgZXhlY0FzeW5jKGNtZCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gc3Rkb3V0LnNwbGl0KCdcXG4nKS5maWx0ZXIobGluZSA9PiBsaW5lLnRyaW0oKSk7XG4gICAgICAgICAgICBjb25zdCBwcm9jZXNzZXM6IE1DUFNlcnZlclByb2Nlc3NbXSA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJ0cyA9IGxpbmUudHJpbSgpLnNwbGl0KC9cXHMrLyk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA+PSAxMSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwaWQgPSBwYXJ0c1sxXTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBHZXQgcGFyZW50IHByb2Nlc3MgaW5mb1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRJbmZvID0gYXdhaXQgdGhpcy5nZXRNYWNQYXJlbnRJbmZvKHBpZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgcGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50TmFtZTogcGFyZW50SW5mby5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBwYXJlbnRJbmZvLnN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmRMaW5lOiBwYXJ0cy5zbGljZSgxMCkuam9pbignICcpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHByb2Nlc3NlcztcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tQUk9DRVNTLURFVEVDVElPTl0gTWFjIHByb2Nlc3MgZGV0ZWN0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGdldE1hY1BhcmVudEluZm8ocGlkOiBzdHJpbmcpOiBQcm9taXNlPHtuYW1lOiBzdHJpbmcsIHN0YXJ0VGltZTogc3RyaW5nfT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gR2V0IHBhcmVudCBQSUQgYW5kIHN0YXJ0IHRpbWVcbiAgICAgICAgICAgIGNvbnN0IHsgc3Rkb3V0OiBwYXJlbnRPdXRwdXQgfSA9IGF3YWl0IGV4ZWNBc3luYyhgcHMgLXAgJHtwaWR9IC1vIHBwaWQ9LGxzdGFydD1gKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudExpbmUgPSBwYXJlbnRPdXRwdXQudHJpbSgpO1xuICAgICAgICAgICAgY29uc3QgcGFydHMgPSBwYXJlbnRMaW5lLnNwbGl0KC9cXHMrLyk7XG5cbiAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPj0gNikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudFBpZCA9IHBhcnRzWzBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBhcnRzLnNsaWNlKDEpLmpvaW4oJyAnKTtcblxuICAgICAgICAgICAgICAgIC8vIEdldCBwYXJlbnQgcHJvY2VzcyBuYW1lXG4gICAgICAgICAgICAgICAgY29uc3QgeyBzdGRvdXQ6IG5hbWVPdXRwdXQgfSA9IGF3YWl0IGV4ZWNBc3luYyhgcHMgLXAgJHtwYXJlbnRQaWR9IC1vIGNvbW09YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50TmFtZSA9IG5hbWVPdXRwdXQudHJpbSgpLnJlcGxhY2UoL14uKlxcLy8sICcnKTsgLy8gUmVtb3ZlIHBhdGgsIGtlZXAganVzdCBleGVjdXRhYmxlIG5hbWVcblxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHBhcmVudE5hbWUgfHwgJ1Vua25vd24nLFxuICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWU6IG5ldyBEYXRlKHN0YXJ0VGltZSkudG9Mb2NhbGVTdHJpbmcoJ2VuLVVTJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9udGg6ICdudW1lcmljJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRheTogJ251bWVyaWMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgeWVhcjogJ251bWVyaWMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaG91cjogJ251bWVyaWMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWludXRlOiAnMi1kaWdpdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmQ6ICcyLWRpZ2l0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvdXIxMjogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7IG5hbWU6ICdVbmtub3duJywgc3RhcnRUaW1lOiAnVW5rbm93bicgfTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiB7IG5hbWU6ICdVbmtub3duJywgc3RhcnRUaW1lOiAnVW5rbm93bicgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgZ2V0TGludXhQcm9jZXNzZXMoKTogUHJvbWlzZTxNQ1BTZXJ2ZXJQcm9jZXNzW10+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFNpbWlsYXIgdG8gTWFjIGJ1dCB3aXRoIGRpZmZlcmVudCBwcyBvcHRpb25zXG4gICAgICAgICAgICBjb25zdCBjbWQgPSBgcHMgYXV4IHwgZ3JlcCBtZWdhbWVtX21jcF9zZXJ2ZXIucHkgfCBncmVwIC12IGdyZXBgO1xuICAgICAgICAgICAgY29uc3QgeyBzdGRvdXQgfSA9IGF3YWl0IGV4ZWNBc3luYyhjbWQpO1xuXG4gICAgICAgICAgICBjb25zdCBsaW5lcyA9IHN0ZG91dC5zcGxpdCgnXFxuJykuZmlsdGVyKGxpbmUgPT4gbGluZS50cmltKCkpO1xuICAgICAgICAgICAgY29uc3QgcHJvY2Vzc2VzOiBNQ1BTZXJ2ZXJQcm9jZXNzW10gPSBbXTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFydHMgPSBsaW5lLnRyaW0oKS5zcGxpdCgvXFxzKy8pO1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPj0gMTEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGlkID0gcGFydHNbMV07XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHBhcmVudCBwcm9jZXNzIGluZm9cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50SW5mbyA9IGF3YWl0IHRoaXMuZ2V0TGludXhQYXJlbnRJbmZvKHBpZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgcGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50TmFtZTogcGFyZW50SW5mby5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBwYXJlbnRJbmZvLnN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmRMaW5lOiBwYXJ0cy5zbGljZSgxMCkuam9pbignICcpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHByb2Nlc3NlcztcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tQUk9DRVNTLURFVEVDVElPTl0gTGludXggcHJvY2VzcyBkZXRlY3Rpb24gZmFpbGVkOicsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgZ2V0TGludXhQYXJlbnRJbmZvKHBpZDogc3RyaW5nKTogUHJvbWlzZTx7bmFtZTogc3RyaW5nLCBzdGFydFRpbWU6IHN0cmluZ30+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEdldCBwYXJlbnQgUElEIGFuZCBzdGFydCB0aW1lXG4gICAgICAgICAgICBjb25zdCB7IHN0ZG91dDogcGFyZW50T3V0cHV0IH0gPSBhd2FpdCBleGVjQXN5bmMoYHBzIC1wICR7cGlkfSAtbyBwcGlkPSxsc3RhcnQ9YCk7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRMaW5lID0gcGFyZW50T3V0cHV0LnRyaW0oKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gcGFyZW50TGluZS5zcGxpdCgvXFxzKy8pO1xuXG4gICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID49IDYpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRQaWQgPSBwYXJ0c1swXTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBwYXJ0cy5zbGljZSgxKS5qb2luKCcgJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBHZXQgcGFyZW50IHByb2Nlc3MgbmFtZVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgc3Rkb3V0OiBuYW1lT3V0cHV0IH0gPSBhd2FpdCBleGVjQXN5bmMoYHBzIC1wICR7cGFyZW50UGlkfSAtbyBjb21tPWApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudE5hbWUgPSBuYW1lT3V0cHV0LnRyaW0oKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHBhcmVudE5hbWUgfHwgJ1Vua25vd24nLFxuICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWU6IG5ldyBEYXRlKHN0YXJ0VGltZSkudG9Mb2NhbGVTdHJpbmcoJ2VuLVVTJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9udGg6ICdudW1lcmljJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRheTogJ251bWVyaWMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgeWVhcjogJ251bWVyaWMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaG91cjogJ251bWVyaWMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWludXRlOiAnMi1kaWdpdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmQ6ICcyLWRpZ2l0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvdXIxMjogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7IG5hbWU6ICdVbmtub3duJywgc3RhcnRUaW1lOiAnVW5rbm93bicgfTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiB7IG5hbWU6ICdVbmtub3duJywgc3RhcnRUaW1lOiAnVW5rbm93bicgfTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gQHZlc3NlbC1jbG9zZTpVbGxyIiwiLy8gQEB2ZXNzZWwtcHJvdG9jb2w6VWxsciBnb3Zlcm5zOmludGVncmF0aW9uIGNvbnRleHQ6T2xsYW1hIG1vZGVsIGF2YWlsYWJpbGl0eSBhbmQgZG93bmxvYWQgbWFuYWdlbWVudFxuaW1wb3J0IHsgcmVxdWVzdFVybCB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IEdyYXBoaXRpTG9nZ2VyIH0gZnJvbSAnLi4vdXRpbHMvTG9nZ2VyJztcblxuLy8gUGxhdGZvcm0gZGV0ZWN0aW9uIGZvciBXaW5kb3dzLXNwZWNpZmljIHNlcnZpY2UgcmVjb3ZlcnlcbmNvbnN0IGlzV2luZG93cyA9IHByb2Nlc3MucGxhdGZvcm0gPT09ICd3aW4zMicgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmNsdWRlcygnV2luZG93cycpO1xuXG5pbnRlcmZhY2UgT2xsYW1hTW9kZWwge1xuXHRuYW1lOiBzdHJpbmc7XG5cdGF2YWlsYWJsZTogYm9vbGVhbjtcblx0c2l6ZT86IHN0cmluZztcblx0bW9kaWZpZWRfYXQ/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBPbGxhbWFEb3dubG9hZFByb2dyZXNzIHtcblx0c3RhdHVzOiBzdHJpbmc7XG5cdGRpZ2VzdD86IHN0cmluZztcblx0dG90YWw/OiBudW1iZXI7XG5cdGNvbXBsZXRlZD86IG51bWJlcjtcblx0ZXJyb3I/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBPbGxhbWFTZXJ2aWNlIHtcblx0cHJpdmF0ZSBsb2dnZXI6IEdyYXBoaXRpTG9nZ2VyO1xuXHRwcml2YXRlIGJhc2VVcmw6IHN0cmluZztcblx0cHJpdmF0ZSBkb3dubG9hZENhbGxiYWNrczogTWFwPHN0cmluZywgKHByb2dyZXNzOiBPbGxhbWFEb3dubG9hZFByb2dyZXNzKSA9PiB2b2lkPiA9IG5ldyBNYXAoKTtcblxuXHQvLyBAQHZlc3NlbC1wcm90b2NvbDpGcmlnZyBnb3Zlcm5zOm9wdGltaXphdGlvbiBjb250ZXh0OkNhY2hlIGZyZXF1ZW50bHktcmVxdWVzdGVkIG1vZGVsIGxpc3RzIHRvIHJlZHVjZSBBUEkgY2FsbHNcblx0cHJpdmF0ZSBtb2RlbENhY2hlOiB7XG5cdFx0bW9kZWxzOiBzdHJpbmdbXTtcblx0XHR0aW1lc3RhbXA6IG51bWJlcjtcblx0XHR0dGw6IG51bWJlcjtcblx0fSA9IHtcblx0XHRtb2RlbHM6IFtdLFxuXHRcdHRpbWVzdGFtcDogMCxcblx0XHR0dGw6IDMwMDAwIC8vIDMwIHNlY29uZHMgY2FjaGUgVFRMXG5cdH07XG5cblx0Ly8gQEB2ZXNzZWwtcHJvdG9jb2w6RnJpZ2cgZ292ZXJuczpvcHRpbWl6YXRpb24gY29udGV4dDpQcmV2ZW50IHJlZHVuZGFudCBzaW11bHRhbmVvdXMgQVBJIGNhbGxzXG5cdHByaXZhdGUgcGVuZGluZ01vZGVsUmVxdWVzdDogUHJvbWlzZTxzdHJpbmdbXT4gfCBudWxsID0gbnVsbDtcblxuXHRjb25zdHJ1Y3RvcihiYXNlVXJsOiBzdHJpbmcgPSAnaHR0cDovL2xvY2FsaG9zdDoxMTQzNCcsIGxvZ2dlcjogR3JhcGhpdGlMb2dnZXIpIHtcblx0XHR0aGlzLmJhc2VVcmwgPSBiYXNlVXJsLnJlcGxhY2UoL1xcLyQvLCAnJyk7IC8vIFJlbW92ZSB0cmFpbGluZyBzbGFzaFxuXHRcdHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xuXHR9XG5cblx0LyoqXG5cdCAqIENoZWNrIGlmIE9sbGFtYSBzZXJ2ZXIgaXMgcnVubmluZ1xuXHQgKiBBdHRlbXB0cyBXaW5kb3dzIHNlcnZpY2UgcmVjb3ZlcnkgaWYgZGV0ZWN0aW9uIGZhaWxzXG5cdCAqL1xuXHRhc3luYyBpc1NlcnZlclJ1bm5pbmcoKTogUHJvbWlzZTxib29sZWFuPiB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdFVybCh7XG5cdFx0XHRcdHVybDogYCR7dGhpcy5iYXNlVXJsfS9hcGkvdmVyc2lvbmAsXG5cdFx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHRcdGhlYWRlcnM6IHtcblx0XHRcdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLmxvZ2dlci5kZWJ1ZygnW09MTEFNQV0gU2VydmVyIG5vdCBydW5uaW5nLCBhdHRlbXB0aW5nIHJlY292ZXJ5JywgeyBlcnJvciB9KTtcblxuXHRcdFx0Ly8gQXR0ZW1wdCBzZXJ2aWNlIHJlY292ZXJ5IG9uIFdpbmRvd3Ncblx0XHRcdGNvbnN0IHJlY292ZXJ5QXR0ZW1wdGVkID0gYXdhaXQgdGhpcy5hdHRlbXB0U2VydmljZVJlY292ZXJ5KCk7XG5cdFx0XHRpZiAocmVjb3ZlcnlBdHRlbXB0ZWQpIHtcblx0XHRcdFx0Ly8gV2FpdCBhIG1vbWVudCBmb3Igc2VydmljZSB0byBzdGFydCwgdGhlbiByZXRyeVxuXHRcdFx0XHRhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMjAwMCkpO1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGNvbnN0IHJldHJ5UmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0VXJsKHtcblx0XHRcdFx0XHRcdHVybDogYCR7dGhpcy5iYXNlVXJsfS9hcGkvdmVyc2lvbmAsXG5cdFx0XHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxuXHRcdFx0XHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRcdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0aWYgKHJldHJ5UmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHtcblx0XHRcdFx0XHRcdHRoaXMubG9nZ2VyLmluZm8oJ1tPTExBTUFdIFNlcnZpY2UgcmVjb3Zlcnkgc3VjY2Vzc2Z1bCcpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGNhdGNoIChyZXRyeUVycm9yKSB7XG5cdFx0XHRcdFx0dGhpcy5sb2dnZXIuZGVidWcoJ1tPTExBTUFdIFJldHJ5IGFmdGVyIHNlcnZpY2UgcmVjb3ZlcnkgZmFpbGVkJywgeyByZXRyeUVycm9yIH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogR2V0IGxpc3Qgb2YgYXZhaWxhYmxlIG1vZGVscyBmcm9tIE9sbGFtYSBzZXJ2ZXIgd2l0aCBjYWNoaW5nXG5cdCAqIE5vcm1hbGl6ZXMgbW9kZWwgbmFtZXMgYnkgcmVtb3ZpbmcgdmVyc2lvbiB0YWdzIChlLmcuLCBcIjpsYXRlc3RcIilcblx0ICogQXR0ZW1wdHMgV2luZG93cyBzZXJ2aWNlIHJlY292ZXJ5IGlmIGluaXRpYWwgcmVxdWVzdCBmYWlsc1xuXHQgKiBDYWNoZXMgcmVzdWx0cyBmb3IgMzAgc2Vjb25kcyB0byBwcmV2ZW50IGV4Y2Vzc2l2ZSBBUEkgY2FsbHNcblx0ICovXG5cdGFzeW5jIGdldEF2YWlsYWJsZU1vZGVscyhmb3JjZVJlZnJlc2ggPSBmYWxzZSk6IFByb21pc2U8c3RyaW5nW10+IHtcblx0XHQvLyBDaGVjayBjYWNoZSBmaXJzdCB1bmxlc3MgZm9yY2UgcmVmcmVzaCBpcyByZXF1ZXN0ZWRcblx0XHRjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuXHRcdGlmICghZm9yY2VSZWZyZXNoICYmXG5cdFx0ICAgIHRoaXMubW9kZWxDYWNoZS5tb2RlbHMubGVuZ3RoID4gMCAmJlxuXHRcdCAgICAobm93IC0gdGhpcy5tb2RlbENhY2hlLnRpbWVzdGFtcCkgPCB0aGlzLm1vZGVsQ2FjaGUudHRsKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5tb2RlbENhY2hlLm1vZGVscztcblx0XHR9XG5cblx0XHQvLyBJZiB0aGVyZSdzIGFscmVhZHkgYSBwZW5kaW5nIHJlcXVlc3QsIHJldHVybiBpdCB0byBwcmV2ZW50IGR1cGxpY2F0ZSBjYWxsc1xuXHRcdGlmICh0aGlzLnBlbmRpbmdNb2RlbFJlcXVlc3QgJiYgIWZvcmNlUmVmcmVzaCkge1xuXHRcdFx0cmV0dXJuIHRoaXMucGVuZGluZ01vZGVsUmVxdWVzdDtcblx0XHR9XG5cblx0XHQvLyBDcmVhdGUgYW5kIHN0b3JlIHRoZSBwZW5kaW5nIHJlcXVlc3QgcHJvbWlzZVxuXHRcdHRoaXMucGVuZGluZ01vZGVsUmVxdWVzdCA9IHRoaXMuX2ZldGNoTW9kZWxzRnJvbVNlcnZlcigpO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IG1vZGVscyA9IGF3YWl0IHRoaXMucGVuZGluZ01vZGVsUmVxdWVzdDtcblx0XHRcdHJldHVybiBtb2RlbHM7XG5cdFx0fSBmaW5hbGx5IHtcblx0XHRcdHRoaXMucGVuZGluZ01vZGVsUmVxdWVzdCA9IG51bGw7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdFx0KiBJbnRlcm5hbCBtZXRob2QgdG8gZmV0Y2ggbW9kZWxzIGZyb20gc2VydmVyXG5cdFx0Ki9cblx0cHJpdmF0ZSBhc3luYyBfZmV0Y2hNb2RlbHNGcm9tU2VydmVyKCk6IFByb21pc2U8c3RyaW5nW10+IHtcblx0XHRjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdFVybCh7XG5cdFx0XHRcdHVybDogYCR7dGhpcy5iYXNlVXJsfS9hcGkvdGFnc2AsXG5cdFx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHRcdGhlYWRlcnM6IHtcblx0XHRcdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDApIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggbW9kZWxzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgZGF0YSA9IHJlc3BvbnNlLmpzb247XG5cdFx0XHRjb25zdCByYXdNb2RlbHMgPSBkYXRhLm1vZGVscyB8fCBbXTtcblx0XHRcdGNvbnN0IGZ1bGxNb2RlbE5hbWVzID0gcmF3TW9kZWxzLm1hcCgobW9kZWw6IGFueSkgPT4gbW9kZWwubmFtZSk7XG5cblx0XHRcdC8vIE9ubHkgbG9nIHdoZW4gYWN0dWFsbHkgZmV0Y2hpbmcgZnJvbSBzZXJ2ZXIgKG5vdCBjYWNoZWQpIC0gc2luZ2xlIGxpbmUgb25seVxuXHRcdFx0dGhpcy5sb2dnZXIuZGVidWcoJ1tPTExBTUFdIEZldGNoZWQgZnJlc2ggbW9kZWwgbGlzdCBmcm9tIHNlcnZlcicsIHtcblx0XHRcdFx0cmF3Q291bnQ6IGZ1bGxNb2RlbE5hbWVzLmxlbmd0aCxcblx0XHRcdFx0bm9ybWFsaXplZENvdW50OiBmdWxsTW9kZWxOYW1lcy5sZW5ndGgsXG5cdFx0XHRcdHNlcnZlclVybDogdGhpcy5iYXNlVXJsXG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gVXBkYXRlIGNhY2hlIHdpdGggZnVsbCBtb2RlbCBuYW1lc1xuXHRcdFx0dGhpcy5tb2RlbENhY2hlID0ge1xuXHRcdFx0XHRtb2RlbHM6IGZ1bGxNb2RlbE5hbWVzLFxuXHRcdFx0XHR0aW1lc3RhbXA6IG5vdyxcblx0XHRcdFx0dHRsOiB0aGlzLm1vZGVsQ2FjaGUudHRsXG5cdFx0XHR9O1xuXG5cdFx0XHRyZXR1cm4gZnVsbE1vZGVsTmFtZXM7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdC8vIEF0dGVtcHQgc2VydmljZSByZWNvdmVyeSBvbiBXaW5kb3dzXG5cdFx0XHRjb25zdCByZWNvdmVyeUF0dGVtcHRlZCA9IGF3YWl0IHRoaXMuYXR0ZW1wdFNlcnZpY2VSZWNvdmVyeSgpO1xuXHRcdFx0aWYgKHJlY292ZXJ5QXR0ZW1wdGVkKSB7XG5cdFx0XHRcdC8vIFdhaXQgYSBtb21lbnQgZm9yIHNlcnZpY2UgdG8gc3RhcnQsIHRoZW4gcmV0cnlcblx0XHRcdFx0YXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDIwMDApKTtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRjb25zdCByZXRyeVJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdFVybCh7XG5cdFx0XHRcdFx0XHR1cmw6IGAke3RoaXMuYmFzZVVybH0vYXBpL3RhZ3NgLFxuXHRcdFx0XHRcdFx0bWV0aG9kOiAnR0VUJyxcblx0XHRcdFx0XHRcdGhlYWRlcnM6IHtcblx0XHRcdFx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0aWYgKHJldHJ5UmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHtcblx0XHRcdFx0XHRcdGNvbnN0IHJldHJ5RGF0YSA9IHJldHJ5UmVzcG9uc2UuanNvbjtcblx0XHRcdFx0XHRcdGNvbnN0IHJldHJ5UmF3TW9kZWxzID0gcmV0cnlEYXRhLm1vZGVscyB8fCBbXTtcblx0XHRcdFx0XHRcdGNvbnN0IHJldHJ5RnVsbE5hbWVzID0gcmV0cnlSYXdNb2RlbHMubWFwKChtb2RlbDogYW55KSA9PiBtb2RlbC5uYW1lKTtcblxuXHRcdFx0XHRcdFx0Ly8gVXBkYXRlIGNhY2hlIGFmdGVyIHN1Y2Nlc3NmdWwgcmVjb3Zlcnlcblx0XHRcdFx0XHRcdHRoaXMubW9kZWxDYWNoZSA9IHtcblx0XHRcdFx0XHRcdFx0bW9kZWxzOiByZXRyeUZ1bGxOYW1lcyxcblx0XHRcdFx0XHRcdFx0dGltZXN0YW1wOiBub3csXG5cdFx0XHRcdFx0XHRcdHR0bDogdGhpcy5tb2RlbENhY2hlLnR0bFxuXHRcdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdFx0cmV0dXJuIHJldHJ5RnVsbE5hbWVzO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBjYXRjaCAocmV0cnlFcnJvcikge1xuXHRcdFx0XHRcdC8vIFNpbGVudCByZXRyeSBmYWlsdXJlIC0gcmVjb3Zlcnkgd2FzIGF0dGVtcHRlZFxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBbXTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogR2V0IGVuaGFuY2VkIG1vZGVsIGxpc3Qgd2l0aCBhdmFpbGFiaWxpdHkgc3RhdHVzIGZvciBlbWJlZGRpbmcgbW9kZWxzLlxuXHQgKiBTb3VyY2Ugb2YgdHJ1dGggZm9yIHJlcXVlc3RlZCBtb2RlbCBuYW1lcyBzaG91bGQgY29tZSBmcm9tIGh5ZHJhdGVkIHBsdWdpbi5zZXR0aW5ncyAoZGF0YS5qc29uKS5cblx0ICogSWYgbm8gbW9kZWxOYW1lcyBwcm92aWRlZCwgZmFsbHMgYmFjayB0byBhbGwgYXZhaWxhYmxlIG1vZGVscyByZXBvcnRlZCBieSBPbGxhbWEuXG5cdCAqL1xuXHRhc3luYyBnZXRFbWJlZGRpbmdNb2RlbHNXaXRoU3RhdHVzKG1vZGVsTmFtZXM/OiBzdHJpbmdbXSwgZm9yY2VSZWZyZXNoID0gZmFsc2UpOiBQcm9taXNlPE9sbGFtYU1vZGVsW10+IHtcblx0XHQvLyBHZXQgbW9kZWwgbGlzdCAtIG5vdyBjb250YWlucyBmdWxsIG1vZGVsIG5hbWVzIHdpdGggdmVyc2lvbiB0YWdzXG5cdFx0Y29uc3QgYXZhaWxhYmxlTW9kZWxzID0gYXdhaXQgdGhpcy5nZXRBdmFpbGFibGVNb2RlbHMoZm9yY2VSZWZyZXNoKTtcblxuXHRcdGNvbnN0IHJlcXVlc3RlZE1vZGVscyA9IEFycmF5LmlzQXJyYXkobW9kZWxOYW1lcykgJiYgbW9kZWxOYW1lcy5sZW5ndGggPiAwXG5cdFx0XHQ/IG1vZGVsTmFtZXNcblx0XHRcdDogWy4uLmF2YWlsYWJsZU1vZGVsc107XG5cblx0XHQvLyBTaW1wbGlmaWVkIGxvZ2dpbmcgLSBvbmx5IGxvZyBzdW1tYXJ5LCBub3QgZGV0YWlsZWQgbW9kZWwgbGlzdHNcblxuXHRcdGNvbnN0IG1vZGVsc1dpdGhTdGF0dXMgPSByZXF1ZXN0ZWRNb2RlbHMubWFwKChtb2RlbE5hbWUpID0+IHtcblx0XHRcdC8vIEV4YWN0IG1hdGNoIG9ubHkgLSBubyB2ZXJzaW9uIGNvbXBhdGliaWxpdHlcblx0XHRcdGNvbnN0IGF2YWlsYWJsZSA9IGF2YWlsYWJsZU1vZGVscy5pbmNsdWRlcyhtb2RlbE5hbWUpO1xuXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRuYW1lOiBtb2RlbE5hbWUsXG5cdFx0XHRcdGF2YWlsYWJsZTogYXZhaWxhYmxlXG5cdFx0XHR9IGFzIE9sbGFtYU1vZGVsO1xuXHRcdH0pO1xuXG5cdFx0Ly8gTG9nIHNwZWNpZmljIHN0YXR1cyBmb3Igbm9taWMtZW1iZWQtdGV4dCBpZiByZXF1ZXN0ZWRcblx0XHRjb25zdCBub21pY01vZGVsID0gbW9kZWxzV2l0aFN0YXR1cy5maW5kKG0gPT5cblx0XHRcdG0ubmFtZSA9PT0gJ25vbWljLWVtYmVkLXRleHQnIHx8IG0ubmFtZS5zdGFydHNXaXRoKCdub21pYy1lbWJlZC10ZXh0OicpXG5cdFx0KTtcblx0XHRpZiAobm9taWNNb2RlbCkge1xuXHRcdFx0dGhpcy5sb2dnZXIuaW5mbyhgW09MTEFNQV0gbm9taWMtZW1iZWQtdGV4dCBhdmFpbGFiaWxpdHk6ICR7bm9taWNNb2RlbC5hdmFpbGFibGV9YCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1vZGVsc1dpdGhTdGF0dXM7XG5cdH1cblxuXHQvKipcblx0ICogRG93bmxvYWQgYSBtb2RlbCB3aXRoIHByb2dyZXNzIHRyYWNraW5nXG5cdCAqL1xuXHRhc3luYyBkb3dubG9hZE1vZGVsKFxuXHRcdG1vZGVsTmFtZTogc3RyaW5nLFxuXHRcdHByb2dyZXNzQ2FsbGJhY2s/OiAocHJvZ3Jlc3M6IE9sbGFtYURvd25sb2FkUHJvZ3Jlc3MpID0+IHZvaWRcblx0KTogUHJvbWlzZTxib29sZWFuPiB7XG5cdFx0dHJ5IHtcblx0XHRcdGlmIChwcm9ncmVzc0NhbGxiYWNrKSB7XG5cdFx0XHRcdHRoaXMuZG93bmxvYWRDYWxsYmFja3Muc2V0KG1vZGVsTmFtZSwgcHJvZ3Jlc3NDYWxsYmFjayk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9hcGkvcHVsbGAsIHtcblx0XHRcdFx0bWV0aG9kOiAnUE9TVCcsXG5cdFx0XHRcdGhlYWRlcnM6IHtcblx0XHRcdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZTogbW9kZWxOYW1lIH0pXG5cdFx0XHR9KTtcblxuXHRcdFx0aWYgKCFyZXNwb25zZS5vaykge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYERvd25sb2FkIHJlcXVlc3QgZmFpbGVkOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgcmVhZGVyID0gcmVzcG9uc2UuYm9keT8uZ2V0UmVhZGVyKCk7XG5cdFx0XHRpZiAoIXJlYWRlcikge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ05vIHJlc3BvbnNlIGJvZHkgcmVhZGVyIGF2YWlsYWJsZScpO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgZG93bmxvYWRDb21wbGV0ZSA9IGZhbHNlO1xuXHRcdFx0bGV0IGhhc0Vycm9yID0gZmFsc2U7XG5cblx0XHRcdHdoaWxlICghZG93bmxvYWRDb21wbGV0ZSkge1xuXHRcdFx0XHRjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuXG5cdFx0XHRcdGlmIChkb25lKSB7XG5cdFx0XHRcdFx0ZG93bmxvYWRDb21wbGV0ZSA9IHRydWU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBjaHVuayA9IG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZSh2YWx1ZSk7XG5cdFx0XHRcdGNvbnN0IGxpbmVzID0gY2h1bmsuc3BsaXQoJ1xcbicpLmZpbHRlcihsaW5lID0+IGxpbmUudHJpbSgpKTtcblxuXHRcdFx0XHRmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0Y29uc3QgcHJvZ3Jlc3MgPSBKU09OLnBhcnNlKGxpbmUpIGFzIE9sbGFtYURvd25sb2FkUHJvZ3Jlc3M7XG5cblx0XHRcdFx0XHRcdGlmIChwcm9ncmVzc0NhbGxiYWNrKSB7XG5cdFx0XHRcdFx0XHRcdHByb2dyZXNzQ2FsbGJhY2socHJvZ3Jlc3MpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBAQHZlc3NlbC1wcm90b2NvbDpIZWltZGFsbCBnb3Zlcm5zOnZhbGlkYXRpb24gY29udGV4dDpQcm9wZXIgZXJyb3IgZGV0ZWN0aW9uIGZvciBPbGxhbWEgZG93bmxvYWQgcmVzcG9uc2VzXG5cdFx0XHRcdFx0XHQvLyBDaGVjayBmb3IgZXhwbGljaXQgZXJyb3IgaW4gcmVzcG9uc2Vcblx0XHRcdFx0XHRcdGlmIChwcm9ncmVzcy5lcnJvcikge1xuXHRcdFx0XHRcdFx0XHR0aGlzLmxvZ2dlci5lcnJvcignW09MTEFNQV0gRG93bmxvYWQgZXJyb3IgZGV0ZWN0ZWQnLCB7IGVycm9yOiBwcm9ncmVzcy5lcnJvciwgbW9kZWxOYW1lIH0pO1xuXHRcdFx0XHRcdFx0XHRoYXNFcnJvciA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihgRG93bmxvYWQgZmFpbGVkOiAke3Byb2dyZXNzLmVycm9yfWApO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBDaGVjayBpZiBkb3dubG9hZCBpcyBjb21wbGV0ZSAtIG9ubHkgYWNjZXB0IGV4cGxpY2l0IHN1Y2Nlc3Mgc3RhdHVzXG5cdFx0XHRcdFx0XHRpZiAocHJvZ3Jlc3Muc3RhdHVzID09PSAnc3VjY2VzcycpIHtcblx0XHRcdFx0XHRcdFx0ZG93bmxvYWRDb21wbGV0ZSA9IHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBjYXRjaCAocGFyc2VFcnJvcikge1xuXHRcdFx0XHRcdFx0Ly8gQ2hlY2sgaWYgdGhpcyBpcyBvdXIgaW50ZW50aW9uYWwgZXJyb3IgdGhyb3cgb3IganVzdCBKU09OIHBhcnNlIGVycm9yXG5cdFx0XHRcdFx0XHRpZiAocGFyc2VFcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIHBhcnNlRXJyb3IubWVzc2FnZS5pbmNsdWRlcygnRG93bmxvYWQgZmFpbGVkOicpKSB7XG5cdFx0XHRcdFx0XHRcdC8vIFRoaXMgaXMgb3VyIGludGVudGlvbmFsIGVycm9yLCByZS10aHJvdyB0byBleGl0IGNvbXBsZXRlbHlcblx0XHRcdFx0XHRcdFx0dGhyb3cgcGFyc2VFcnJvcjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdC8vIE90aGVyd2lzZSBpZ25vcmUgSlNPTiBwYXJzZSBlcnJvcnMgZm9yIG5vbi1KU09OIGxpbmVzXG5cdFx0XHRcdFx0XHR0aGlzLmxvZ2dlci5kZWJ1ZygnW09MTEFNQV0gTm9uLUpTT04gcHJvZ3Jlc3MgbGluZScsIHsgbGluZSB9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gT25seSBsb2cgc3VjY2VzcyBpZiB0aGVyZSB3YXMgbm8gZXJyb3Jcblx0XHRcdHRoaXMuZG93bmxvYWRDYWxsYmFja3MuZGVsZXRlKG1vZGVsTmFtZSk7XG5cdFx0XHRpZiAoIWhhc0Vycm9yKSB7XG5cdFx0XHRcdHRoaXMubG9nZ2VyLmluZm8oYFtPTExBTUFdIE1vZGVsICR7bW9kZWxOYW1lfSBkb3dubG9hZGVkIHN1Y2Nlc3NmdWxseWApO1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMubG9nZ2VyLmVycm9yKGBbT0xMQU1BXSBNb2RlbCAke21vZGVsTmFtZX0gZG93bmxvYWQgZmFpbGVkIGR1ZSB0byBkZXRlY3RlZCBlcnJvcnNgKTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMubG9nZ2VyLmVycm9yKCdbT0xMQU1BXSBGYWlsZWQgdG8gZG93bmxvYWQgbW9kZWwnLCB7IG1vZGVsTmFtZSwgZXJyb3IgfSk7XG5cdFx0XHR0aGlzLmRvd25sb2FkQ2FsbGJhY2tzLmRlbGV0ZShtb2RlbE5hbWUpO1xuXG5cdFx0XHRpZiAocHJvZ3Jlc3NDYWxsYmFjaykge1xuXHRcdFx0XHRwcm9ncmVzc0NhbGxiYWNrKHtcblx0XHRcdFx0XHRzdGF0dXM6IGBlcnJvcjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdFx0KiBDbGVhciB0aGUgbW9kZWwgY2FjaGUgdG8gZm9yY2UgZnJlc2ggZGF0YSBvbiBuZXh0IHJlcXVlc3Rcblx0XHQqIFVzZWZ1bCBhZnRlciBkb3dubG9hZGluZyBuZXcgbW9kZWxzIG9yIHdoZW4gc2VydmVyIHN0YXRlIGNoYW5nZXNcblx0XHQqL1xuXHRwcml2YXRlIGNsZWFyTW9kZWxDYWNoZSgpOiB2b2lkIHtcblx0XHR0aGlzLm1vZGVsQ2FjaGUgPSB7XG5cdFx0XHRtb2RlbHM6IFtdLFxuXHRcdFx0dGltZXN0YW1wOiAwLFxuXHRcdFx0dHRsOiB0aGlzLm1vZGVsQ2FjaGUudHRsXG5cdFx0fTtcblx0XHQvLyBDYWNoZSBjbGVhcmVkIHNpbGVudGx5IHRvIHJlZHVjZSBsb2cgbm9pc2Vcblx0fVxuXG5cdC8qKlxuXHRcdCogQ2hlY2sgaWYgYSBzcGVjaWZpYyBtb2RlbCBpcyBhdmFpbGFibGVcblx0XHQqL1xuXHRhc3luYyBpc01vZGVsQXZhaWxhYmxlKG1vZGVsTmFtZTogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG5cdFx0Y29uc3QgYXZhaWxhYmxlTW9kZWxzID0gYXdhaXQgdGhpcy5nZXRBdmFpbGFibGVNb2RlbHMoKTtcblx0XHRyZXR1cm4gYXZhaWxhYmxlTW9kZWxzLmluY2x1ZGVzKG1vZGVsTmFtZSk7XG5cdH1cblxuXHQvKipcblx0ICogUG9sbHMgZm9yIGEgbW9kZWwgdG8gYmVjb21lIGF2YWlsYWJsZSBvbiB0aGUgT2xsYW1hIHNlcnZlci5cblx0ICogVGhpcyBpcyB1c2VmdWwgYWZ0ZXIgYSBkb3dubG9hZCB0byBlbnN1cmUgdGhlIHNlcnZlciBoYXMgcmVnaXN0ZXJlZCB0aGUgbW9kZWwuXG5cdCAqL1xuXHRwcml2YXRlIGFzeW5jIF9wb2xsRm9yTW9kZWxBdmFpbGFiaWxpdHkobW9kZWxOYW1lOiBzdHJpbmcsIHRpbWVvdXRNczogbnVtYmVyID0gMzAwMDAsIGludGVydmFsTXM6IG51bWJlciA9IDIwMDApOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0XHRjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuXHRcdC8vIFVzZSB0aGUgZnVsbCBtb2RlbCBuYW1lIChpbmNsdWRpbmcgdGFnKSBmb3IgZXhhY3QtbWF0Y2ggYXZhaWxhYmlsaXR5IGNoZWNrc1xuXHRcdGNvbnN0IGV4YWN0TW9kZWxOYW1lID0gbW9kZWxOYW1lO1xuXHRcdC8vIFNpbGVudCBwb2xsaW5nIC0gb25seSBsb2cgZmluYWwgcmVzdWx0XG5cblx0XHR3aGlsZSAoRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSA8IHRpbWVvdXRNcykge1xuXHRcdFx0Y29uc3QgaXNBdmFpbGFibGUgPSBhd2FpdCB0aGlzLmlzTW9kZWxBdmFpbGFibGUoZXhhY3RNb2RlbE5hbWUpO1xuXHRcdFx0aWYgKGlzQXZhaWxhYmxlKSB7XG5cdFx0XHRcdHRoaXMubG9nZ2VyLmluZm8oYFtPTExBTUFdIE1vZGVsICR7ZXhhY3RNb2RlbE5hbWV9IGlzIG5vdyBhdmFpbGFibGUuYCk7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdFx0YXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGludGVydmFsTXMpKTtcblx0XHR9XG5cdFx0dGhpcy5sb2dnZXIud2FybihgW09MTEFNQV0gTW9kZWwgJHtleGFjdE1vZGVsTmFtZX0gZGlkIG5vdCBiZWNvbWUgYXZhaWxhYmxlIHdpdGhpbiB0aW1lb3V0LmApO1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8vIEBAdmVzc2VsLXByb3RvY29sOkJyYWdpIGdvdmVybnM6aW50ZWdyYXRpb24gY29udGV4dDpIaWdoZXItbGV2ZWwgQVBJIHdyYXBwZXJzIGZvciBTZXR0aW5nc1RhYiBpbnRlZ3JhdGlvblxuXG5cdC8qKlxuXHQgKiBDaGVjayBpZiBhIHNwZWNpZmljIG1vZGVsIGlzIGluc3RhbGxlZCAoYWxpYXMgZm9yIGlzTW9kZWxBdmFpbGFibGUgZm9yIGNsZWFuZXIgU2V0dGluZ3NUYWIgaW50ZWdyYXRpb24pXG5cdCAqL1xuXHRhc3luYyBpc01vZGVsSW5zdGFsbGVkKG1vZGVsTmFtZTogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG5cdFx0cmV0dXJuIGF3YWl0IHRoaXMuaXNNb2RlbEF2YWlsYWJsZShtb2RlbE5hbWUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIERvd25sb2FkIG1vZGVsIHdpdGggcHJvZ3Jlc3MgdHJhY2tpbmcgLSBzaW1wbGlmaWVkIGludGVyZmFjZSBmb3IgU2V0dGluZ3NUYWJcblx0ICogUmV0dXJucyBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYm9vbGVhbiBzdWNjZXNzLCB3aXRoIHByb2dyZXNzIHVwZGF0ZXMgdmlhIGNhbGxiYWNrXG5cdCAqL1xuXHRhc3luYyBkb3dubG9hZE1vZGVsV2l0aFByb2dyZXNzKFxuXHRcdG1vZGVsTmFtZTogc3RyaW5nLFxuXHRcdHByb2dyZXNzQ2FsbGJhY2s6IChwcm9ncmVzczogeyBzdGF0dXM6IHN0cmluZywgY29tcGxldGVkPzogbnVtYmVyLCB0b3RhbD86IG51bWJlciB9KSA9PiB2b2lkXG5cdCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRcdGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCB0aGlzLmRvd25sb2FkTW9kZWwobW9kZWxOYW1lLCBwcm9ncmVzc0NhbGxiYWNrKTtcblxuXHRcdC8vIFBvbGwgZm9yIGF2YWlsYWJpbGl0eSBhZnRlciBzdWNjZXNzZnVsIGRvd25sb2FkXG5cdFx0aWYgKHN1Y2Nlc3MpIHtcblx0XHRcdC8vIENsZWFyIGNhY2hlIHNpbmNlIGEgbmV3IG1vZGVsIHdhcyBkb3dubG9hZGVkXG5cdFx0XHR0aGlzLmNsZWFyTW9kZWxDYWNoZSgpO1xuXG5cdFx0XHRjb25zdCBhdmFpbGFibGUgPSBhd2FpdCB0aGlzLl9wb2xsRm9yTW9kZWxBdmFpbGFiaWxpdHkobW9kZWxOYW1lLCAzMDAwMCwgMjAwMCk7XG5cdFx0XHRpZiAoYXZhaWxhYmxlKSB7XG5cdFx0XHRcdHByb2dyZXNzQ2FsbGJhY2soeyBzdGF0dXM6ICdNb2RlbCBpcyBub3cgYXZhaWxhYmxlIGZvciB1c2UnIH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5sb2dnZXIud2FybihgW09MTEFNQV0gTW9kZWwgJHttb2RlbE5hbWV9IGRvd25sb2FkZWQgYnV0IG5vdCBzaG93aW5nIGFzIGF2YWlsYWJsZWApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBzdWNjZXNzO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldCBjb21wcmVoZW5zaXZlIHNlcnZlciBzdGF0dXMgaW5jbHVkaW5nIG1vZGVsIGNvdW50XG5cdCAqL1xuXHRhc3luYyBjaGVja1NlcnZlclN0YXR1cygpOiBQcm9taXNlPHsgcnVubmluZzogYm9vbGVhbiwgbW9kZWxDb3VudD86IG51bWJlciB9PiB7XG5cdFx0Y29uc3QgcnVubmluZyA9IGF3YWl0IHRoaXMuaXNTZXJ2ZXJSdW5uaW5nKCk7XG5cdFx0aWYgKCFydW5uaW5nKSB7XG5cdFx0XHRyZXR1cm4geyBydW5uaW5nOiBmYWxzZSB9O1xuXHRcdH1cblxuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBtb2RlbHMgPSBhd2FpdCB0aGlzLmdldEF2YWlsYWJsZU1vZGVscygpO1xuXHRcdFx0cmV0dXJuIHsgcnVubmluZzogdHJ1ZSwgbW9kZWxDb3VudDogbW9kZWxzLmxlbmd0aCB9O1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRyZXR1cm4geyBydW5uaW5nOiB0cnVlIH07XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEF0dGVtcHQgdG8gc3RhcnQgT2xsYW1hIHNlcnZpY2UgLSB3cmFwcGVyIGZvciBzZXJ2aWNlIHJlY292ZXJ5XG5cdCAqL1xuXHRhc3luYyBzdGFydFNlcnZpY2UoKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW4sIG1lc3NhZ2U/OiBzdHJpbmcgfT4ge1xuXHRcdC8vIEZpcnN0IGNoZWNrIGlmIGFscmVhZHkgcnVubmluZ1xuXHRcdGNvbnN0IGFscmVhZHlSdW5uaW5nID0gYXdhaXQgdGhpcy5pc1NlcnZlclJ1bm5pbmcoKTtcblx0XHRpZiAoYWxyZWFkeVJ1bm5pbmcpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIG1lc3NhZ2U6ICdPbGxhbWEgc2VydmljZSBpcyBhbHJlYWR5IHJ1bm5pbmcnIH07XG5cdFx0fVxuXG5cdFx0Ly8gQXR0ZW1wdCByZWNvdmVyeVxuXHRcdGNvbnN0IHJlY292ZXJ5QXR0ZW1wdGVkID0gYXdhaXQgdGhpcy5hdHRlbXB0U2VydmljZVJlY292ZXJ5KCk7XG5cdFx0aWYgKCFyZWNvdmVyeUF0dGVtcHRlZCkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdG1lc3NhZ2U6ICdTZXJ2aWNlIHJlY292ZXJ5IG5vdCBhdmFpbGFibGUgb24gdGhpcyBwbGF0Zm9ybSdcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gV2FpdCBhbmQgY2hlY2sgaWYgc2VydmljZSBzdGFydGVkXG5cdFx0YXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDMwMDApKTtcblx0XHRjb25zdCBub3dSdW5uaW5nID0gYXdhaXQgdGhpcy5pc1NlcnZlclJ1bm5pbmcoKTtcblxuXHRcdGlmIChub3dSdW5uaW5nKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnT2xsYW1hIHNlcnZpY2Ugc3RhcnRlZCBzdWNjZXNzZnVsbHknIH07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRtZXNzYWdlOiAnU2VydmljZSByZWNvdmVyeSBhdHRlbXB0ZWQgYnV0IE9sbGFtYSBpcyBub3QgcmVzcG9uZGluZydcblx0XHRcdH07XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEF0dGVtcHQgdG8gc3RhcnQgT2xsYW1hIHNlcnZpY2Ugb24gV2luZG93cyB1c2luZyBQb3dlclNoZWxsXG5cdCAqIFJldHVybnMgdHJ1ZSBpZiByZWNvdmVyeSB3YXMgYXR0ZW1wdGVkLCBmYWxzZSBpZiBub3QgYXBwbGljYWJsZVxuXHQgKi9cblx0cHJpdmF0ZSBhc3luYyBhdHRlbXB0U2VydmljZVJlY292ZXJ5KCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRcdGlmICghaXNXaW5kb3dzKSB7XG5cdFx0XHR0aGlzLmxvZ2dlci5kZWJ1ZygnW09MTEFNQV0gU2VydmljZSByZWNvdmVyeSBub3QgYXBwbGljYWJsZSBvbiBub24tV2luZG93cyBwbGF0Zm9ybScpO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLmxvZ2dlci5pbmZvKCdbT0xMQU1BXSBBdHRlbXB0aW5nIFdpbmRvd3Mgc2VydmljZSByZWNvdmVyeSB1c2luZyBQb3dlclNoZWxsIFN0YXJ0LVNlcnZpY2UnKTtcblxuXHRcdFx0Ly8gVXNlIE5vZGUuanMgY2hpbGRfcHJvY2VzcyBpZiBhdmFpbGFibGUgaW4gT2JzaWRpYW4gZW52aXJvbm1lbnRcblx0XHRcdGNvbnN0IHsgZXhlYyB9ID0gcmVxdWlyZSgnY2hpbGRfcHJvY2VzcycpO1xuXG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2U8Ym9vbGVhbj4oKHJlc29sdmUpID0+IHtcblx0XHRcdFx0Ly8gUG93ZXJTaGVsbCBjb21tYW5kIHRvIHN0YXJ0IE9sbGFtYSBzZXJ2aWNlXG5cdFx0XHRcdGNvbnN0IHBvd2Vyc2hlbGxDb21tYW5kID0gJ3Bvd2Vyc2hlbGwuZXhlIFwiU3RhcnQtU2VydmljZSAtTmFtZSBvbGxhbWEgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWVcIic7XG5cblx0XHRcdFx0ZXhlYyhwb3dlcnNoZWxsQ29tbWFuZCwgeyB0aW1lb3V0OiAxMDAwMCB9LCAoZXJyb3I6IGFueSwgc3Rkb3V0OiBzdHJpbmcsIHN0ZGVycjogc3RyaW5nKSA9PiB7XG5cdFx0XHRcdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmxvZ2dlci5kZWJ1ZygnW09MTEFNQV0gUG93ZXJTaGVsbCBzZXJ2aWNlIHN0YXJ0IGZhaWxlZCcsIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UsIHN0ZGVyciB9KTtcblx0XHRcdFx0XHRcdC8vIEFsc28gdHJ5IGFsdGVybmF0aXZlIHNlcnZpY2UgbmFtZVxuXHRcdFx0XHRcdFx0Y29uc3QgYWx0Q29tbWFuZCA9ICdwb3dlcnNoZWxsLmV4ZSBcIlN0YXJ0LVNlcnZpY2UgLU5hbWUgT2xsYW1hU2VydmljZSAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZVwiJztcblx0XHRcdFx0XHRcdGV4ZWMoYWx0Q29tbWFuZCwgeyB0aW1lb3V0OiAxMDAwMCB9LCAoYWx0RXJyb3I6IGFueSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRpZiAoYWx0RXJyb3IpIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmxvZ2dlci5kZWJ1ZygnW09MTEFNQV0gQWx0ZXJuYXRpdmUgc2VydmljZSBuYW1lIGFsc28gZmFpbGVkJywgeyBhbHRFcnJvcjogYWx0RXJyb3IubWVzc2FnZSB9KTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmxvZ2dlci5pbmZvKCdbT0xMQU1BXSBBbHRlcm5hdGl2ZSBzZXJ2aWNlIHJlY292ZXJ5IGNvbW1hbmQgZXhlY3V0ZWQnKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRyZXNvbHZlKHRydWUpOyAvLyBSZXR1cm4gdHJ1ZSBiZWNhdXNlIHdlIGF0dGVtcHRlZCByZWNvdmVyeVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRoaXMubG9nZ2VyLmluZm8oJ1tPTExBTUFdIFNlcnZpY2UgcmVjb3ZlcnkgY29tbWFuZCBleGVjdXRlZCBzdWNjZXNzZnVsbHknLCB7IHN0ZG91dDogc3Rkb3V0LnRyaW0oKSB9KTtcblx0XHRcdFx0XHRcdHJlc29sdmUodHJ1ZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLmxvZ2dlci5lcnJvcignW09MTEFNQV0gU2VydmljZSByZWNvdmVyeSBhdHRlbXB0IGZhaWxlZCcsIHsgZXJyb3IgfSk7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XG59IiwiLy8gQHZlc3NlbC1wcm90b2NvbDpCcmFnaSBnb3Zlcm5zOnJlZmFjdG9yIGNvbnRleHQ6RXh0cmFjdGVkIE9sbGFtYSBVSSBjb29yZGluYXRpb24gZnJvbSBtb25vbGl0aGljIFNldHRpbmdzVGFiXG4vLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbT2xsYW1hU2VydmljZSwgR3JhcGhpdGlQbHVnaW4sIE9ic2lkaWFuIEFQSSBjb21wb25lbnRzXVxuLy8gQHB1cnBvc2U6IFNlcGFyYXRlIE9sbGFtYS1zcGVjaWZpYyBVSSBsb2dpYyBmcm9tIG1haW4gc2V0dGluZ3MgdG8gaW1wcm92ZSBtYWludGFpbmFiaWxpdHlcbi8vIEByZXN1bHQ6IENsZWFuIHNlcGFyYXRpb24gYmV0d2VlbiBVSSBjb29yZGluYXRpb24gYW5kIGJ1c2luZXNzIGxvZ2ljIGZvciBPbGxhbWEgZnVuY3Rpb25hbGl0eVxuLy8gQHNpZ25lZDogQy5CasO4cm5cblxuaW1wb3J0IHsgQXBwLCBTZXR0aW5nLCBOb3RpY2UsIFRleHRDb21wb25lbnQsIFRvZ2dsZUNvbXBvbmVudCwgc2V0SWNvbiB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB0eXBlIEdyYXBoaXRpUGx1Z2luIGZyb20gJy4uL21haW4nO1xuaW1wb3J0IHR5cGUgeyBHcmFwaGl0aVBsdWdpblNldHRpbmdzIH0gZnJvbSAnLi4vdHlwZXMvU2V0dGluZ3MnO1xuaW1wb3J0IHsgT2xsYW1hU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL09sbGFtYVNlcnZpY2UnO1xuXG5leHBvcnQgY2xhc3MgT2xsYW1hU2V0dGluZ3Mge1xuXHRwcml2YXRlIHBsdWdpbjogR3JhcGhpdGlQbHVnaW47XG5cdHByaXZhdGUgYXBwOiBBcHA7XG5cdHByaXZhdGUgb2xsYW1hU2VydmljZTogT2xsYW1hU2VydmljZSB8IG51bGwgPSBudWxsO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IEdyYXBoaXRpUGx1Z2luKSB7XG5cdFx0dGhpcy5hcHAgPSBhcHA7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHQvKipcblx0ICogR2V0IE9sbGFtYVNlcnZpY2UgaW5zdGFuY2UsIGNyZWF0aW5nIGl0IGlmIG5lZWRlZFxuXHQgKi9cblx0cHVibGljIGdldE9sbGFtYVNlcnZpY2UoKTogT2xsYW1hU2VydmljZSB7XG5cdFx0aWYgKCF0aGlzLm9sbGFtYVNlcnZpY2UpIHtcblx0XHRcdC8vIE5vcm1hbGl6ZSBiYXNlIFVSTDogc3RyaXAgYWNjaWRlbnRhbCAvdjEgc3VmZml4IHVzZWQgYnkgT3BlbkFJLWNvbXBhdGlibGUgZW5kcG9pbnRzXG5cdFx0XHRsZXQgYmFzZSA9IHRoaXMucGx1Z2luLnNldHRpbmdzLm9sbGFtYUJhc2VVcmwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6MTE0MzQnO1xuXHRcdFx0YmFzZSA9IGJhc2UucmVwbGFjZSgvXFwvdjFcXC8/JC8sICcnKTtcblx0XHRcdHRoaXMub2xsYW1hU2VydmljZSA9IG5ldyBPbGxhbWFTZXJ2aWNlKGJhc2UsIHRoaXMucGx1Z2luLmxvZ2dlcik7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLm9sbGFtYVNlcnZpY2U7XG5cdH1cblxuXHQvKipcblx0ICogR2V0IE9sbGFtYSBMTE0gbW9kZWxzIGZyb20gcGx1Z2luIHNldHRpbmdzXG5cdCAqL1xuXHRnZXRPbGxhbWFMTE1Nb2RlbHNGcm9tU2V0dGluZ3MoKTogeyBuYW1lOiBzdHJpbmc7IGRlc2NyaXB0aW9uOiBzdHJpbmc7IHJlY29tbWVuZGVkOiBib29sZWFuIH1bXSB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IG1hcCA9ICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1EZWZhdWx0cz8uWydvbGxhbWEnXSkgfHwge307XG5cdFx0XHRjb25zdCBsaXN0ID0gT2JqZWN0LmVudHJpZXMobWFwKS5tYXAoKFtuYW1lLCBtZXRhXSkgPT4gKHtcblx0XHRcdFx0bmFtZSxcblx0XHRcdFx0ZGVzY3JpcHRpb246IChtZXRhICYmIChtZXRhIGFzIGFueSkuZGVzYykgfHwgJycsXG5cdFx0XHRcdHJlY29tbWVuZGVkOiAhIShtZXRhICYmIChtZXRhIGFzIGFueSkucmVjb21tZW5kZWQpXG5cdFx0XHR9KSk7XG5cdFx0XHRsaXN0LnNvcnQoKGEsIGIpID0+IE51bWJlcihiLnJlY29tbWVuZGVkKSAtIE51bWJlcihhLnJlY29tbWVuZGVkKSB8fCBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpKTtcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1tPTExBTUEtU0VUVElOR1NdIExvYWRlZCBPbGxhbWEgTExNIG1vZGVscyBmcm9tIHBsdWdpbi5zZXR0aW5ncycsIHsgY291bnQ6IGxpc3QubGVuZ3RoIH0pO1xuXHRcdFx0cmV0dXJuIGxpc3Q7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8ud2FybignW09MTEFNQS1TRVRUSU5HU10gRmFpbGVkIHRvIGxvYWQgT2xsYW1hIExMTSBkZWZhdWx0cyBmcm9tIHNldHRpbmdzJywgeyBlcnJvciB9KTtcblx0XHRcdHJldHVybiBbXTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogR2V0IE9sbGFtYSBMTE0gU21hbGwgbW9kZWxzIGZyb20gcGx1Z2luIHNldHRpbmdzXG5cdCAqL1xuXHRnZXRPbGxhbWFMTE1TbWFsbE1vZGVsc0Zyb21TZXR0aW5ncygpOiB7IG5hbWU6IHN0cmluZzsgZGVzY3JpcHRpb246IHN0cmluZzsgcmVjb21tZW5kZWQ6IGJvb2xlYW4gfVtdIHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgbWFwID0gKHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbVNtYWxsRGVmYXVsdHM/Llsnb2xsYW1hJ10pIHx8IHt9O1xuXHRcdFx0Y29uc3QgbGlzdCA9IE9iamVjdC5lbnRyaWVzKG1hcCkubWFwKChbbmFtZSwgbWV0YV0pID0+ICh7XG5cdFx0XHRcdG5hbWUsXG5cdFx0XHRcdGRlc2NyaXB0aW9uOiAobWV0YSAmJiAobWV0YSBhcyBhbnkpLmRlc2MpIHx8ICcnLFxuXHRcdFx0XHRyZWNvbW1lbmRlZDogISEobWV0YSAmJiAobWV0YSBhcyBhbnkpLnJlY29tbWVuZGVkKVxuXHRcdFx0fSkpO1xuXHRcdFx0bGlzdC5zb3J0KChhLCBiKSA9PiBOdW1iZXIoYi5yZWNvbW1lbmRlZCkgLSBOdW1iZXIoYS5yZWNvbW1lbmRlZCkgfHwgYS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5uYW1lKSk7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbT0xMQU1BLVNFVFRJTkdTXSBMb2FkZWQgT2xsYW1hIExMTSBTbWFsbCBtb2RlbHMgZnJvbSBwbHVnaW4uc2V0dGluZ3MnLCB7IGNvdW50OiBsaXN0Lmxlbmd0aCB9KTtcblx0XHRcdHJldHVybiBsaXN0O1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/Lndhcm4oJ1tPTExBTUEtU0VUVElOR1NdIEZhaWxlZCB0byBsb2FkIE9sbGFtYSBMTE0gU21hbGwgZGVmYXVsdHMgZnJvbSBzZXR0aW5ncycsIHsgZXJyb3IgfSk7XG5cdFx0XHRyZXR1cm4gW107XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEdldCBPbGxhbWEgZW1iZWRkaW5nIG1vZGVscyBmcm9tIHBsdWdpbiBzZXR0aW5nc1xuXHQgKi9cblx0Z2V0T2xsYW1hRW1iZWRkaW5nTW9kZWxzRnJvbVNldHRpbmdzKCk6IHsgbmFtZTogc3RyaW5nOyBkZXNjcmlwdGlvbjogc3RyaW5nOyBkaW1lbnNpb25zPzogbnVtYmVyOyByZWNvbW1lbmRlZDogYm9vbGVhbiB9W10ge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBtYXAgPSAodGhpcy5wbHVnaW4uc2V0dGluZ3MuZW1iZWRkaW5nRGVmYXVsdHM/Llsnb2xsYW1hJ10pIHx8IHt9O1xuXHRcdFx0Y29uc3QgbGlzdCA9IE9iamVjdC5lbnRyaWVzKG1hcCkubWFwKChbbmFtZSwgbWV0YV0pID0+ICh7XG5cdFx0XHRcdG5hbWUsXG5cdFx0XHRcdGRlc2NyaXB0aW9uOiAobWV0YSAmJiAobWV0YSBhcyBhbnkpLmRlc2MpIHx8ICcnLFxuXHRcdFx0XHRkaW1lbnNpb25zOiAobWV0YSAmJiAobWV0YSBhcyBhbnkpLmRpbWVuc2lvbnMpIHx8IHVuZGVmaW5lZCxcblx0XHRcdFx0cmVjb21tZW5kZWQ6ICEhKG1ldGEgJiYgKG1ldGEgYXMgYW55KS5yZWNvbW1lbmRlZClcblx0XHRcdH0pKTtcblx0XHRcdGxpc3Quc29ydCgoYSwgYikgPT4gTnVtYmVyKGIucmVjb21tZW5kZWQpIC0gTnVtYmVyKGEucmVjb21tZW5kZWQpIHx8IGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSkpO1xuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW09MTEFNQS1TRVRUSU5HU10gTG9hZGVkIE9sbGFtYSBlbWJlZGRpbmcgbW9kZWxzIGZyb20gcGx1Z2luLnNldHRpbmdzJywgeyBjb3VudDogbGlzdC5sZW5ndGggfSk7XG5cdFx0XHRyZXR1cm4gbGlzdDtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy53YXJuKCdbT0xMQU1BLVNFVFRJTkdTXSBGYWlsZWQgdG8gbG9hZCBPbGxhbWEgZW1iZWRkaW5nIGRlZmF1bHRzIGZyb20gc2V0dGluZ3MnLCB7IGVycm9yIH0pO1xuXHRcdFx0cmV0dXJuIFtdO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgT2xsYW1hIGVtYmVkZGluZyBtb2RlbCBuYW1lcyBmcm9tIHBsdWdpbiBzZXR0aW5nc1xuXHQgKi9cblx0Z2V0T2xsYW1hRW1iZWRkaW5nTW9kZWxOYW1lc0Zyb21TZXR0aW5ncygpOiBzdHJpbmdbXSB7XG5cdFx0dHJ5IHtcblx0XHRcdHJldHVybiBPYmplY3Qua2V5cyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRpbmdEZWZhdWx0cz8uWydvbGxhbWEnXSB8fCB7fSk7XG5cdFx0fSBjYXRjaCB7XG5cdFx0XHRyZXR1cm4gW107XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFBlcnNpc3QgYSB1c2VyLXNwZWNpZmllZCBjdXN0b20gT2xsYW1hIExMTSBtb2RlbCBpbnRvIHNldHRpbmdzIChkYXRhLmpzb24pXG5cdCAqL1xuXHRhc3luYyBhZGRDdXN0b21PbGxhbWFMTE1Ub0RlZmF1bHRzKG1vZGVsTmFtZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0dHJ5IHtcblx0XHRcdGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtRGVmYXVsdHMpIHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbURlZmF1bHRzID0ge307XG5cdFx0XHRpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLmxsbURlZmF1bHRzWydvbGxhbWEnXSkgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtRGVmYXVsdHNbJ29sbGFtYSddID0ge307XG5cdFx0XHRpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLmxsbURlZmF1bHRzWydvbGxhbWEnXVttb2RlbE5hbWVdKSB7XG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbURlZmF1bHRzWydvbGxhbWEnXVttb2RlbE5hbWVdID0geyBkZXNjOiAnVXNlciBhZGRlZCcsIHJlY29tbWVuZGVkOiBmYWxzZSB9O1xuXHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5pbmZvKCdbT0xMQU1BLVNFVFRJTkdTXSBBZGRlZCBjdXN0b20gT2xsYW1hIExMTSB0byBkZWZhdWx0cycsIHsgbW9kZWxOYW1lIH0pO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdbT0xMQU1BLVNFVFRJTkdTXSBGYWlsZWQgdG8gYWRkIGN1c3RvbSBPbGxhbWEgTExNIHRvIGRlZmF1bHRzJywgeyBtb2RlbE5hbWUsIGVycm9yIH0pO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBQZXJzaXN0IGEgdXNlci1zcGVjaWZpZWQgY3VzdG9tIE9sbGFtYSBlbWJlZGRpbmcgbW9kZWwgaW50byBzZXR0aW5ncyAoZGF0YS5qc29uKVxuXHQgKi9cblx0YXN5bmMgYWRkQ3VzdG9tT2xsYW1hRW1iZWRkaW5nVG9EZWZhdWx0cyhtb2RlbE5hbWU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHRyeSB7XG5cdFx0XHRpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLmVtYmVkZGluZ0RlZmF1bHRzKSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRpbmdEZWZhdWx0cyA9IHt9O1xuXHRcdFx0aWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRpbmdEZWZhdWx0c1snb2xsYW1hJ10pIHRoaXMucGx1Z2luLnNldHRpbmdzLmVtYmVkZGluZ0RlZmF1bHRzWydvbGxhbWEnXSA9IHt9O1xuXHRcdFx0aWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRpbmdEZWZhdWx0c1snb2xsYW1hJ11bbW9kZWxOYW1lXSkge1xuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRpbmdEZWZhdWx0c1snb2xsYW1hJ11bbW9kZWxOYW1lXSA9IHtcblx0XHRcdFx0XHRkZXNjOiAnVXNlciBhZGRlZCcsXG5cdFx0XHRcdFx0ZGltZW5zaW9uczogdGhpcy5wbHVnaW4uc2V0dGluZ3Mub2xsYW1hRW1iZWRkaW5nRGltIHx8IDc2OCxcblx0XHRcdFx0XHRyZWNvbW1lbmRlZDogZmFsc2Vcblx0XHRcdFx0fTtcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uaW5mbygnW09MTEFNQS1TRVRUSU5HU10gQWRkZWQgY3VzdG9tIE9sbGFtYSBlbWJlZGRpbmcgdG8gZGVmYXVsdHMnLCB7IG1vZGVsTmFtZSB9KTtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignW09MTEFNQS1TRVRUSU5HU10gRmFpbGVkIHRvIGFkZCBjdXN0b20gT2xsYW1hIGVtYmVkZGluZyB0byBkZWZhdWx0cycsIHsgbW9kZWxOYW1lLCBlcnJvciB9KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQ2hlY2sgaWYgYW4gT2xsYW1hIG1vZGVsIGlzIGluc3RhbGxlZFxuXHQgKi9cblx0YXN5bmMgaXNPbGxhbWFNb2RlbEluc3RhbGxlZChtb2RlbE5hbWU6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBvbGxhbWFTZXJ2aWNlID0gdGhpcy5nZXRPbGxhbWFTZXJ2aWNlKCk7XG5cdFx0XHRyZXR1cm4gYXdhaXQgb2xsYW1hU2VydmljZS5pc01vZGVsSW5zdGFsbGVkKG1vZGVsTmFtZSk7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tPTExBTUEtU0VUVElOR1NdIEZhaWxlZCB0byBjaGVjayBPbGxhbWEgbW9kZWwgaW5zdGFsbGF0aW9uJywge1xuXHRcdFx0XHRtb2RlbE5hbWUsXG5cdFx0XHRcdGVycm9yXG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogRG93bmxvYWQgYW4gT2xsYW1hIG1vZGVsIHdpdGggcHJvZ3Jlc3MgdHJhY2tpbmdcblx0ICovXG5cdGFzeW5jIGRvd25sb2FkT2xsYW1hTW9kZWxXaXRoUHJvZ3Jlc3MobW9kZWxOYW1lOiBzdHJpbmcsIHN0YXR1c0NvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCBvbGxhbWFTZXJ2aWNlID0gdGhpcy5nZXRPbGxhbWFTZXJ2aWNlKCk7XG5cblx0XHRzdGF0dXNDb250YWluZXIuZW1wdHkoKTtcblxuXHRcdGNvbnN0IHByb2dyZXNzRGl2ID0gc3RhdHVzQ29udGFpbmVyLmNyZWF0ZURpdigpO1xuXHRcdHByb2dyZXNzRGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IGBbRE9XTkxPQURJTkddICR7bW9kZWxOYW1lfS4uLmAgfSk7XG5cblx0XHRjb25zdCBwcm9ncmVzc0JhciA9IHByb2dyZXNzRGl2LmNyZWF0ZUVsKCdkaXYnKTtcblx0XHRwcm9ncmVzc0Jhci5zdHlsZS5jc3NUZXh0ID0gYFxuXHRcdFx0d2lkdGg6IDEwMCU7XG5cdFx0XHRoZWlnaHQ6IDZweDtcblx0XHRcdGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcblx0XHRcdGJvcmRlci1yYWRpdXM6IDNweDtcblx0XHRcdG1hcmdpbjogNHB4IDA7XG5cdFx0XHRvdmVyZmxvdzogaGlkZGVuO1xuXHRcdGA7XG5cblx0XHRjb25zdCBwcm9ncmVzc0ZpbGwgPSBwcm9ncmVzc0Jhci5jcmVhdGVFbCgnZGl2Jyk7XG5cdFx0cHJvZ3Jlc3NGaWxsLnN0eWxlLmNzc1RleHQgPSBgXG5cdFx0XHRoZWlnaHQ6IDEwMCU7XG5cdFx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2xvci1hY2NlbnQpO1xuXHRcdFx0dHJhbnNpdGlvbjogd2lkdGggMC4zcyBlYXNlO1xuXHRcdFx0d2lkdGg6IDAlO1xuXHRcdGA7XG5cblx0XHRjb25zdCBzdGF0dXNUZXh0ID0gcHJvZ3Jlc3NEaXYuY3JlYXRlRWwoJ2RpdicpO1xuXHRcdHN0YXR1c1RleHQuc3R5bGUuY3NzVGV4dCA9IGBcblx0XHRcdGZvbnQtc2l6ZTogMC44ZW07XG5cdFx0XHRjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG5cdFx0XHRtYXJnaW4tdG9wOiAycHg7XG5cdFx0YDtcblxuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBzdWNjZXNzID0gYXdhaXQgb2xsYW1hU2VydmljZS5kb3dubG9hZE1vZGVsV2l0aFByb2dyZXNzKG1vZGVsTmFtZSwgKHByb2dyZXNzKSA9PiB7XG5cdFx0XHRcdGNvbnN0IHBlcmNlbnRhZ2UgPSBNYXRoLnJvdW5kKChwcm9ncmVzcy5jb21wbGV0ZWQgfHwgMCkgLyAocHJvZ3Jlc3MudG90YWwgfHwgMSkgKiAxMDApIHx8IDA7XG5cdFx0XHRcdHByb2dyZXNzRmlsbC5zdHlsZS53aWR0aCA9IGAke3BlcmNlbnRhZ2V9JWA7XG5cdFx0XHRcdHN0YXR1c1RleHQudGV4dENvbnRlbnQgPSBgJHtwZXJjZW50YWdlfSUgLSAke3Byb2dyZXNzLnN0YXR1cyB8fCAnRG93bmxvYWRpbmcuLi4nfWA7XG5cdFx0XHR9KTtcblxuXHRcdFx0c3RhdHVzQ29udGFpbmVyLmVtcHR5KCk7XG5cdFx0XHRpZiAoc3VjY2Vzcykge1xuXHRcdFx0XHRjb25zdCBzdWNjZXNzRGl2ID0gc3RhdHVzQ29udGFpbmVyLmNyZWF0ZURpdigpO1xuXHRcdFx0XHRzdWNjZXNzRGl2LmNyZWF0ZUVsKCdkaXYnLCB7XG5cdFx0XHRcdFx0dGV4dDogYFtTVUNDRVNTXSAke21vZGVsTmFtZX0gaW5zdGFsbGVkIHN1Y2Nlc3NmdWxseSFgLFxuXHRcdFx0XHRcdGF0dHI6IHsgc3R5bGU6ICdjb2xvcjogdmFyKC0tY29sb3ItZ3JlZW4pOycgfVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvLyBDbGVhciBzdWNjZXNzIG1lc3NhZ2UgYWZ0ZXIgMyBzZWNvbmRzXG5cdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4gc3RhdHVzQ29udGFpbmVyLmVtcHR5KCksIDMwMDApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c3RhdHVzQ29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7XG5cdFx0XHRcdFx0dGV4dDogJ1tFUlJPUl0gRG93bmxvYWQgZmFpbGVkJyxcblx0XHRcdFx0XHRhdHRyOiB7IHN0eWxlOiAnY29sb3I6IHZhcigtLWNvbG9yLXJlZCk7JyB9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tPTExBTUEtU0VUVElOR1NdIE9sbGFtYSBtb2RlbCBkb3dubG9hZCBmYWlsZWQnLCB7IGVycm9yIH0pO1xuXHRcdFx0c3RhdHVzQ29udGFpbmVyLmVtcHR5KCk7XG5cdFx0XHRjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcblx0XHRcdHN0YXR1c0NvbnRhaW5lci5jcmVhdGVFbCgnZGl2Jywge1xuXHRcdFx0XHR0ZXh0OiBgW0VSUk9SXSBEb3dubG9hZCBmYWlsZWQ6ICR7ZXJyb3JNZXNzYWdlfWAsXG5cdFx0XHRcdGF0dHI6IHsgc3R5bGU6ICdjb2xvcjogdmFyKC0tY29sb3ItcmVkKTsnIH1cblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBQb3B1bGF0ZSBPbGxhbWEgbW9kZWxzIHdpdGggYXZhaWxhYmlsaXR5IHN0YXR1c1xuXHQgKi9cblx0YXN5bmMgcG9wdWxhdGVPbGxhbWFNb2RlbHNXaXRoU3RhdHVzKGRyb3Bkb3duOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCBvbGxhbWFTZXJ2aWNlID0gdGhpcy5nZXRPbGxhbWFTZXJ2aWNlKCk7XG5cblx0XHR0cnkge1xuXHRcdFx0Y29uc3Qgc2VydmVyUnVubmluZyA9IGF3YWl0IG9sbGFtYVNlcnZpY2UuaXNTZXJ2ZXJSdW5uaW5nKCk7XG5cdFx0XHRpZiAoIXNlcnZlclJ1bm5pbmcpIHtcblx0XHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKCcnLCAnW09sbGFtYSBzZXJ2ZXIgbm90IHJ1bm5pbmddJyk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgcmVxdWVzdGVkTmFtZXMgPSB0aGlzLmdldE9sbGFtYUVtYmVkZGluZ01vZGVsTmFtZXNGcm9tU2V0dGluZ3MoKTtcblx0XHRcdGNvbnN0IG1vZGVsc1dpdGhTdGF0dXMgPSBhd2FpdCBvbGxhbWFTZXJ2aWNlLmdldEVtYmVkZGluZ01vZGVsc1dpdGhTdGF0dXMocmVxdWVzdGVkTmFtZXMpO1xuXG5cdFx0XHRtb2RlbHNXaXRoU3RhdHVzLmZvckVhY2gobW9kZWwgPT4ge1xuXHRcdFx0XHRjb25zdCBkaXNwbGF5TmFtZSA9IG1vZGVsLm5hbWU7XG5cdFx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbihtb2RlbC5uYW1lLCBkaXNwbGF5TmFtZSk7XG5cblx0XHRcdFx0Ly8gU3RhdHVzIGljb24gd2lsbCBiZSBzaG93biBpbiBkcm9wZG93biB3aXRob3V0IHZlcmJvc2UgbG9nZ2luZ1xuXHRcdFx0fSk7XG5cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignW09MTEFNQS1TRVRUSU5HU10gRmFpbGVkIHRvIGxvYWQgT2xsYW1hIG1vZGVscyB3aXRoIHN0YXR1cycsIHsgZXJyb3IgfSk7XG5cdFx0XHRkcm9wZG93bi5hZGRPcHRpb24oJycsICdbRXJyb3IgbG9hZGluZyBtb2RlbHNdJyk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEhhbmRsZSBPbGxhbWEgbW9kZWwgc2VsZWN0aW9uIHdpdGggb3B0aW9uYWwgZG93bmxvYWRcblx0ICovXG5cdGFzeW5jIGhhbmRsZU9sbGFtYU1vZGVsU2VsZWN0aW9uKG1vZGVsTmFtZTogc3RyaW5nLCBzdGF0dXNDb250YWluZXI6IEhUTUxFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0aWYgKCFtb2RlbE5hbWUpIHJldHVybjtcblxuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBvbGxhbWFTZXJ2aWNlID0gdGhpcy5nZXRPbGxhbWFTZXJ2aWNlKCk7XG5cdFx0XHRjb25zdCBpc0F2YWlsYWJsZSA9IGF3YWl0IG9sbGFtYVNlcnZpY2UuaXNNb2RlbEF2YWlsYWJsZShtb2RlbE5hbWUpO1xuXG5cdFx0XHRpZiAoIWlzQXZhaWxhYmxlKSB7XG5cdFx0XHRcdGNvbnN0IHNob3VsZERvd25sb2FkID0gY29uZmlybShcblx0XHRcdFx0XHRgTW9kZWwgXCIke21vZGVsTmFtZX1cIiBpcyBub3QgaW5zdGFsbGVkLlxcblxcbldvdWxkIHlvdSBsaWtlIHRvIGRvd25sb2FkIGl0IG5vdz9gXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKHNob3VsZERvd25sb2FkKSB7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5kb3dubG9hZE9sbGFtYU1vZGVsV2l0aFByb2dyZXNzKG1vZGVsTmFtZSwgc3RhdHVzQ29udGFpbmVyKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c3RhdHVzQ29udGFpbmVyLmVtcHR5KCk7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tPTExBTUEtU0VUVElOR1NdIEVycm9yIGhhbmRsaW5nIE9sbGFtYSBtb2RlbCBzZWxlY3Rpb24nLCB7IGVycm9yIH0pO1xuXHRcdFx0c3RhdHVzQ29udGFpbmVyLmVtcHR5KCk7XG5cdFx0XHRzdGF0dXNDb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHtcblx0XHRcdFx0dGV4dDogJ1tFUlJPUl0gRmFpbGVkIHRvIGNoZWNrIG1vZGVsIGF2YWlsYWJpbGl0eScsXG5cdFx0XHRcdGF0dHI6IHsgc3R5bGU6ICdjb2xvcjogdmFyKC0tY29sb3ItcmVkKTsnIH1cblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBVcGRhdGUgbW9kZWwgc3RhdHVzIGljb24gZm9yIGRyb3Bkb3duXG5cdCAqL1xuXHRhc3luYyB1cGRhdGVNb2RlbFN0YXR1c0ljb25Gb3JEcm9wZG93bihzdGF0dXNDb250YWluZXI6IEhUTUxFbGVtZW50LCBtb2RlbFR5cGU6ICdsbG0nIHwgJ2xsbV9zbWFsbCcgfCAnZW1iZWRkaW5nJywgbW9kZWxOYW1lOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRpZiAoIW1vZGVsTmFtZSkgcmV0dXJuO1xuXG5cdFx0dHJ5IHtcblx0XHRcdHN0YXR1c0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcblxuXHRcdFx0Y29uc3QgaXNBdmFpbGFibGUgPSBhd2FpdCB0aGlzLmlzT2xsYW1hTW9kZWxJbnN0YWxsZWQobW9kZWxOYW1lKTtcblxuXHRcdFx0Y29uc3Qgc3RhdHVzRWwgPSBzdGF0dXNDb250YWluZXIuY3JlYXRlRGl2KCk7XG5cdFx0XHRzdGF0dXNFbC5zdHlsZS5jc3NUZXh0ID0gJ2Rpc3BsYXk6aW5saW5lLWZsZXg7IGFsaWduLWl0ZW1zOmNlbnRlcjsgZ2FwOjZweDsgZm9udC1zaXplOjAuOWVtOyBwYWRkaW5nOjRweCA2cHg7IGJvcmRlci1yYWRpdXM6NHB4Oyc7XG5cblx0XHRcdGNvbnN0IGljb25TcGFuID0gc3RhdHVzRWwuY3JlYXRlU3BhbigpO1xuXHRcdFx0c2V0SWNvbihpY29uU3BhbiwgaXNBdmFpbGFibGUgPyAnY2hlY2stY2lyY2xlJyA6ICdkb3dubG9hZCcpO1xuXHRcdFx0aWNvblNwYW4uc3R5bGUuY29sb3IgPSBpc0F2YWlsYWJsZSA/ICd2YXIoLS1jb2xvci1ncmVlbiknIDogJ3ZhcigtLWNvbG9yLW9yYW5nZSknO1xuXHRcdFx0aWNvblNwYW4uc3R5bGUuY3Vyc29yID0gaXNBdmFpbGFibGUgPyAnZGVmYXVsdCcgOiAncG9pbnRlcic7XG5cblx0XHRcdGNvbnN0IHRleHRTcGFuID0gc3RhdHVzRWwuY3JlYXRlU3BhbigpO1xuXHRcdFx0dGV4dFNwYW4udGV4dENvbnRlbnQgPSBpc0F2YWlsYWJsZSA/ICdBdmFpbGFibGUnIDogJ05vdCBpbnN0YWxsZWQnO1xuXHRcdFx0dGV4dFNwYW4uc3R5bGUuY29sb3IgPSBpc0F2YWlsYWJsZSA/ICd2YXIoLS1jb2xvci1ncmVlbiknIDogJ3ZhcigtLWNvbG9yLW9yYW5nZSknO1xuXG5cdFx0XHRpZiAoIWlzQXZhaWxhYmxlKSB7XG5cdFx0XHRcdGNvbnN0IG9uQ2xpY2tIYW5kbGVyID0gYXN5bmMgKGU6IE1vdXNlRXZlbnQpID0+IHtcblx0XHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0Y29uc3Qgc2hvdWxkRG93bmxvYWQgPSBjb25maXJtKCdbQ09ORklSTV0gTW9kZWwgXCInICsgbW9kZWxOYW1lICsgJ1wiIGlzIG5vdCBpbnN0YWxsZWQuXFxcXG5cXFxcbldvdWxkIHlvdSBsaWtlIHRvIGRvd25sb2FkIGl0IG5vdz8nKTtcblx0XHRcdFx0XHRcdGlmICghc2hvdWxkRG93bmxvYWQpIHJldHVybjtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuZG93bmxvYWRPbGxhbWFNb2RlbFdpdGhQcm9ncmVzcyhtb2RlbE5hbWUsIHN0YXR1c0NvbnRhaW5lcik7XG5cdFx0XHRcdFx0XHRzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy51cGRhdGVNb2RlbFN0YXR1c0ljb25Gb3JEcm9wZG93bihzdGF0dXNDb250YWluZXIsIG1vZGVsVHlwZSwgbW9kZWxOYW1lKTtcblx0XHRcdFx0XHRcdH0sIDgwMCk7XG5cdFx0XHRcdFx0XHRpZiAoYXdhaXQgdGhpcy5pc09sbGFtYU1vZGVsSW5zdGFsbGVkKG1vZGVsTmFtZSkpIHtcblx0XHRcdFx0XHRcdFx0aWYgKG1vZGVsVHlwZSA9PT0gJ2VtYmVkZGluZycpIHtcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFkZEN1c3RvbU9sbGFtYUVtYmVkZGluZ1RvRGVmYXVsdHMobW9kZWxOYW1lKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFkZEN1c3RvbU9sbGFtYUxMTVRvRGVmYXVsdHMobW9kZWxOYW1lKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignW09MTEFNQS1TRVRUSU5HU10gZG93bmxvYWQgaGFuZGxlciBmYWlsZWQnLCB7IG1vZGVsTmFtZSwgZXJyIH0pO1xuXHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnW0VSUk9SXSBGYWlsZWQgdG8gZG93bmxvYWQgbW9kZWwnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0XHRcdGljb25TcGFuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DbGlja0hhbmRsZXIpO1xuXHRcdFx0XHR0ZXh0U3Bhbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQ2xpY2tIYW5kbGVyKTtcblx0XHRcdH1cblxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKGBbT0xMQU1BLVNFVFRJTkdTXSBGYWlsZWQgdG8gdXBkYXRlIHN0YXR1cyBpY29uIGZvciAke21vZGVsTmFtZX1gLCB7IGVycm9yIH0pO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBSZWZyZXNoIE9sbGFtYSBpbnN0YWxsYXRpb24gc3RhdHVzXG5cdCAqL1xuXHRhc3luYyByZWZyZXNoT2xsYW1hU3RhdHVzKHN0YXR1c0NvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGluc3RhbGxCdXR0b246IEhUTUxCdXR0b25FbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1tPTExBTUEtU0VUVElOR1NdIENoZWNraW5nIE9sbGFtYSBpbnN0YWxsYXRpb24gc3RhdHVzJyk7XG5cblx0XHRcdHN0YXR1c0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcblx0XHRcdHN0YXR1c0NvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnJztcblxuXHRcdFx0Y29uc3Qgb2xsYW1hU2VydmljZSA9IHRoaXMuZ2V0T2xsYW1hU2VydmljZSgpO1xuXHRcdFx0Y29uc3Qgc3RhdHVzID0gYXdhaXQgb2xsYW1hU2VydmljZS5jaGVja1NlcnZlclN0YXR1cygpO1xuXG5cdFx0XHRpZiAoc3RhdHVzLnJ1bm5pbmcpIHtcblx0XHRcdFx0Y29uc3QgbW9kZWxDb3VudCA9IHN0YXR1cy5tb2RlbENvdW50IHx8IDA7XG5cblx0XHRcdFx0c3RhdHVzQ29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd2YXIoLS1jb2xvci1ncmVlbi1iZyknO1xuXHRcdFx0XHRzdGF0dXNDb250YWluZXIuc3R5bGUuY29sb3IgPSAndmFyKC0tY29sb3ItZ3JlZW4pJztcblx0XHRcdFx0c3RhdHVzQ29udGFpbmVyLmlubmVySFRNTCA9IGBcblx0XHRcdFx0XHQ8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiA2cHg7XCI+XG5cdFx0XHRcdFx0XHQ8c3Bhbj5bSU5TVEFMTEVEXTwvc3Bhbj5cblx0XHRcdFx0XHRcdDxzcGFuPk9sbGFtYSBpcyBydW5uaW5nIHdpdGggJHttb2RlbENvdW50fSBtb2RlbChzKTwvc3Bhbj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8ZGl2IHN0eWxlPVwiZm9udC1zaXplOiAwLjhlbTsgbWFyZ2luLXRvcDogNHB4OyBvcGFjaXR5OiAwLjg7XCI+XG5cdFx0XHRcdFx0XHRTZXJ2ZXIgYXZhaWxhYmxlIGF0ICR7dGhpcy5wbHVnaW4uc2V0dGluZ3Mub2xsYW1hQmFzZVVybCB8fCAnaHR0cDovL2xvY2FsaG9zdDoxMTQzNCd9XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdGA7XG5cblx0XHRcdFx0aW5zdGFsbEJ1dHRvbi50ZXh0Q29udGVudCA9ICdVcGdyYWRlIE9sbGFtYSc7XG5cdFx0XHRcdGluc3RhbGxCdXR0b24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCknO1xuXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1tPTExBTUEtU0VUVElOR1NdIEluc3RhbGxhdGlvbiBkZXRlY3RlZCBzdWNjZXNzZnVsbHknLCB7IG1vZGVsQ291bnQgfSk7XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHN0YXR1c0NvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAndmFyKC0tY29sb3Itb3JhbmdlLWJnKSc7XG5cdFx0XHRcdHN0YXR1c0NvbnRhaW5lci5zdHlsZS5jb2xvciA9ICd2YXIoLS1jb2xvci1vcmFuZ2UpJztcblx0XHRcdFx0c3RhdHVzQ29udGFpbmVyLmlubmVySFRNTCA9IGBcblx0XHRcdFx0XHQ8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiA2cHg7XCI+XG5cdFx0XHRcdFx0XHQ8c3Bhbj5bTk9UIFJVTk5JTkddPC9zcGFuPlxuXHRcdFx0XHRcdFx0PHNwYW4+T2xsYW1hIGlzIG5vdCBydW5uaW5nIG9yIG5vdCBpbnN0YWxsZWQ8L3NwYW4+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PGRpdiBzdHlsZT1cImZvbnQtc2l6ZTogMC44ZW07IG1hcmdpbi10b3A6IDRweDsgb3BhY2l0eTogMC44O1wiPlxuXHRcdFx0XHRcdFx0VHJ5IHN0YXJ0aW5nIHRoZSBzZXJ2aWNlIG9yIGluc3RhbGwgT2xsYW1hIGlmIG5vdCBwcmVzZW50XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdGA7XG5cblx0XHRcdFx0Y29uc3QgcmVjb3ZlcnlDb250YWluZXIgPSBzdGF0dXNDb250YWluZXIuY3JlYXRlRGl2KCk7XG5cdFx0XHRcdHJlY292ZXJ5Q29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgbWFyZ2luLXRvcDogOHB4OyBkaXNwbGF5OiBmbGV4OyBnYXA6IDhweDsgYWxpZ24taXRlbXM6IGNlbnRlcjtgO1xuXG5cdFx0XHRcdGNvbnN0IHJlY292ZXJ5QnV0dG9uID0gcmVjb3ZlcnlDb250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHtcblx0XHRcdFx0XHR0ZXh0OiAnU3RhcnQgU2VydmljZScsXG5cdFx0XHRcdFx0Y2xzOiAnbW9kLWN0YSdcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHJlY292ZXJ5QnV0dG9uLnN0eWxlLmZvbnRTaXplID0gJzAuOGVtJztcblx0XHRcdFx0cmVjb3ZlcnlCdXR0b24uc3R5bGUucGFkZGluZyA9ICc0cHggOHB4JztcblxuXHRcdFx0XHRyZWNvdmVyeUJ1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMuc3RhcnRPbGxhbWFTZXJ2aWNlKHN0YXR1c0NvbnRhaW5lciwgaW5zdGFsbEJ1dHRvbik7XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0aW5zdGFsbEJ1dHRvbi50ZXh0Q29udGVudCA9ICdJbnN0YWxsL1JlaW5zdGFsbCBPbGxhbWEnO1xuXHRcdFx0XHRpbnN0YWxsQnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd2YXIoLS1jb2xvci1vcmFuZ2UpJztcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW09MTEFNQS1TRVRUSU5HU10gU3RhdHVzIGNoZWNrIGZhaWxlZCcsIHsgZXJyb3IgfSk7XG5cblx0XHRcdHN0YXR1c0NvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAndmFyKC0tY29sb3ItcmVkLWJnKSc7XG5cdFx0XHRzdGF0dXNDb250YWluZXIuc3R5bGUuY29sb3IgPSAndmFyKC0tY29sb3ItcmVkKSc7XG5cdFx0XHRzdGF0dXNDb250YWluZXIuaW5uZXJIVE1MID0gYFxuXHRcdFx0XHQ8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiA2cHg7XCI+XG5cdFx0XHRcdFx0PHNwYW4+W0VSUk9SXTwvc3Bhbj5cblx0XHRcdFx0XHQ8c3Bhbj5VbmFibGUgdG8gY2hlY2sgT2xsYW1hIHN0YXR1czwvc3Bhbj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDxkaXYgc3R5bGU9XCJmb250LXNpemU6IDAuOGVtOyBtYXJnaW4tdG9wOiA0cHg7IG9wYWNpdHk6IDAuODtcIj5cblx0XHRcdFx0XHRDaGVjayBpbnN0YWxsYXRpb24gb3IgbmV0d29yayBjb25uZWN0aW9uXG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0YDtcblxuXHRcdFx0aW5zdGFsbEJ1dHRvbi50ZXh0Q29udGVudCA9ICdJbnN0YWxsIE9sbGFtYSc7XG5cdFx0XHRpbnN0YWxsQnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpJztcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogU3RhcnQgT2xsYW1hIHNlcnZpY2Vcblx0ICovXG5cdGFzeW5jIHN0YXJ0T2xsYW1hU2VydmljZShzdGF0dXNDb250YWluZXI6IEhUTUxFbGVtZW50LCBpbnN0YWxsQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbT0xMQU1BLVNFVFRJTkdTXSBBdHRlbXB0aW5nIHRvIHN0YXJ0IE9sbGFtYSBzZXJ2aWNlJyk7XG5cblx0XHRcdGNvbnN0IHN0YXJ0aW5nRGl2ID0gc3RhdHVzQ29udGFpbmVyLmNyZWF0ZURpdigpO1xuXHRcdFx0c3RhcnRpbmdEaXYuc3R5bGUuY3NzVGV4dCA9IGBcblx0XHRcdFx0bWFyZ2luLXRvcDogOHB4O1xuXHRcdFx0XHRwYWRkaW5nOiA2cHg7XG5cdFx0XHRcdGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLWJsdWUtYmcpO1xuXHRcdFx0XHRjb2xvcjogdmFyKC0tY29sb3ItYmx1ZSk7XG5cdFx0XHRcdGJvcmRlci1yYWRpdXM6IDRweDtcblx0XHRcdFx0Zm9udC1zaXplOiAwLjhlbTtcblx0XHRcdGA7XG5cdFx0XHRzdGFydGluZ0Rpdi50ZXh0Q29udGVudCA9ICdbU1RBUlRJTkddIEF0dGVtcHRpbmcgdG8gc3RhcnQgT2xsYW1hIHNlcnZpY2UuLi4nO1xuXG5cdFx0XHRjb25zdCBvbGxhbWFTZXJ2aWNlID0gdGhpcy5nZXRPbGxhbWFTZXJ2aWNlKCk7XG5cdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBvbGxhbWFTZXJ2aWNlLnN0YXJ0U2VydmljZSgpO1xuXG5cdFx0XHRzdGFydGluZ0Rpdi5yZW1vdmUoKTtcblxuXHRcdFx0aWYgKHJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHRcdGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAyMDAwKSk7XG5cdFx0XHRcdGF3YWl0IHRoaXMucmVmcmVzaE9sbGFtYVN0YXR1cyhzdGF0dXNDb250YWluZXIsIGluc3RhbGxCdXR0b24pO1xuXHRcdFx0XHRuZXcgTm90aWNlKCdbU1VDQ0VTU10gT2xsYW1hIHNlcnZpY2Ugc3RhcnRlZCBzdWNjZXNzZnVsbHknKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IGVycm9yRGl2ID0gc3RhdHVzQ29udGFpbmVyLmNyZWF0ZURpdigpO1xuXHRcdFx0XHRlcnJvckRpdi5zdHlsZS5jc3NUZXh0ID0gYFxuXHRcdFx0XHRcdG1hcmdpbi10b3A6IDhweDtcblx0XHRcdFx0XHRwYWRkaW5nOiA2cHg7XG5cdFx0XHRcdFx0YmFja2dyb3VuZDogdmFyKC0tY29sb3ItcmVkLWJnKTtcblx0XHRcdFx0XHRjb2xvcjogdmFyKC0tY29sb3ItcmVkKTtcblx0XHRcdFx0XHRib3JkZXItcmFkaXVzOiA0cHg7XG5cdFx0XHRcdFx0Zm9udC1zaXplOiAwLjhlbTtcblx0XHRcdFx0YDtcblx0XHRcdFx0ZXJyb3JEaXYuaW5uZXJIVE1MID0gYFxuXHRcdFx0XHRcdDxkaXY+W0ZBSUxFRF0gQ291bGQgbm90IHN0YXJ0IE9sbGFtYSBzZXJ2aWNlPC9kaXY+XG5cdFx0XHRcdFx0PGRpdiBzdHlsZT1cIm1hcmdpbi10b3A6IDRweDsgb3BhY2l0eTogMC44O1wiPiR7cmVzdWx0Lm1lc3NhZ2UgfHwgJ1RyeSByZXN0YXJ0aW5nIHlvdXIgY29tcHV0ZXIgb3IgcmVpbnN0YWxsaW5nIE9sbGFtYSd9PC9kaXY+XG5cdFx0XHRcdGA7XG5cblx0XHRcdFx0bmV3IE5vdGljZShgW0VSUk9SXSBGYWlsZWQgdG8gc3RhcnQgT2xsYW1hIHNlcnZpY2UgLSAke3Jlc3VsdC5tZXNzYWdlIHx8ICd0cnkgcmVzdGFydGluZyB5b3VyIGNvbXB1dGVyJ31gKTtcblx0XHRcdH1cblxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdbT0xMQU1BLVNFVFRJTkdTXSBTZXJ2aWNlIHJlY292ZXJ5IGZhaWxlZCcsIHsgZXJyb3IgfSk7XG5cdFx0XHRuZXcgTm90aWNlKCdbRVJST1JdIEZhaWxlZCB0byBzdGFydCBPbGxhbWEgc2VydmljZSAtIG9wZXJhdGlvbiBmYWlsZWQnKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogSGFuZGxlIE9sbGFtYSBpbnN0YWxsYXRpb25cblx0ICovXG5cdGFzeW5jIGhhbmRsZU9sbGFtYUluc3RhbGxhdGlvbigpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW09MTEFNQS1TRVRUSU5HU10gT3BlbmluZyBPbGxhbWEgaW5zdGFsbGF0aW9uIHBhZ2UnKTtcblxuXHRcdFx0Y29uc3QgeyBzaGVsbCB9ID0gcmVxdWlyZSgnZWxlY3Ryb24nKTtcblx0XHRcdGF3YWl0IHNoZWxsLm9wZW5FeHRlcm5hbCgnaHR0cHM6Ly9vbGxhbWEuY29tL2Rvd25sb2FkJyk7XG5cblx0XHRcdG5ldyBOb3RpY2UoJ1tJTkZPXSBPbGxhbWEgd2Vic2l0ZSBvcGVuZWQgLSBEb3dubG9hZCBhbmQgaW5zdGFsbCwgdGhlbiByZXN0YXJ0IHRoaXMgYXBwJywgODAwMCk7XG5cdFx0XHR0aGlzLnNob3dPbGxhbWFJbnN0YWxsYXRpb25Nb2RhbCgpO1xuXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tPTExBTUEtU0VUVElOR1NdIEZhaWxlZCB0byBvcGVuIGluc3RhbGxhdGlvbiBwYWdlJywgeyBlcnJvciB9KTtcblx0XHRcdG5ldyBOb3RpY2UoJ1tFUlJPUl0gQ291bGQgbm90IG9wZW4gT2xsYW1hIHdlYnNpdGUgLSBwbGVhc2UgdmlzaXQgaHR0cHM6Ly9vbGxhbWEuY29tL2Rvd25sb2FkIG1hbnVhbGx5Jyk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFNob3cgT2xsYW1hIGluc3RhbGxhdGlvbiBpbnN0cnVjdGlvbnMgbW9kYWxcblx0ICovXG5cdHNob3dPbGxhbWFJbnN0YWxsYXRpb25Nb2RhbCgpOiB2b2lkIHtcblx0XHRjb25zdCBtb2RhbEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0bW9kYWxFbC5zdHlsZS5jc3NUZXh0ID0gYFxuXHRcdFx0cG9zaXRpb246IGZpeGVkO1xuXHRcdFx0dG9wOiAwO1xuXHRcdFx0bGVmdDogMDtcblx0XHRcdHdpZHRoOiAxMDAlO1xuXHRcdFx0aGVpZ2h0OiAxMDAlO1xuXHRcdFx0YmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjgpO1xuXHRcdFx0ZGlzcGxheTogZmxleDtcblx0XHRcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cdFx0XHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcblx0XHRcdHotaW5kZXg6IDEwMDA7XG5cdFx0YDtcblxuXHRcdGNvbnN0IGNvbnRlbnRFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdGNvbnRlbnRFbC5zdHlsZS5jc3NUZXh0ID0gYFxuXHRcdFx0YmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcblx0XHRcdGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcblx0XHRcdGJvcmRlci1yYWRpdXM6IDhweDtcblx0XHRcdHBhZGRpbmc6IDI0cHg7XG5cdFx0XHRtYXgtd2lkdGg6IDUwMHB4O1xuXHRcdFx0d2lkdGg6IDkwJTtcblx0XHRcdG1heC1oZWlnaHQ6IDgwJTtcblx0XHRcdG92ZXJmbG93OiBhdXRvO1xuXHRcdGA7XG5cblx0XHRjb250ZW50RWwuaW5uZXJIVE1MID0gYFxuXHRcdFx0PGgzIHN0eWxlPVwibWFyZ2luOiAwIDAgMTZweCAwOyBjb2xvcjogdmFyKC0tdGV4dC1hY2NlbnQpO1wiPk9sbGFtYSBJbnN0YWxsYXRpb24gSW5zdHJ1Y3Rpb25zPC9oMz5cblxuXHRcdFx0PGRpdiBzdHlsZT1cIm1hcmdpbi1ib3R0b206IDE2cHg7XCI+XG5cdFx0XHRcdDxoNCBzdHlsZT1cIm1hcmdpbjogMCAwIDhweCAwO1wiPlN0ZXAgMTogRG93bmxvYWQgT2xsYW1hPC9oND5cblx0XHRcdFx0PHAgc3R5bGU9XCJtYXJnaW46IDAgMCA4cHggMDsgZm9udC1zaXplOiAwLjllbTsgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1wiPlxuXHRcdFx0XHRcdFRoZSBPbGxhbWEgd2Vic2l0ZSBzaG91bGQgbm93IGJlIG9wZW4gaW4geW91ciBicm93c2VyLiBEb3dubG9hZCB0aGUgaW5zdGFsbGVyIGZvciB5b3VyIG9wZXJhdGluZyBzeXN0ZW0uXG5cdFx0XHRcdDwvcD5cblx0XHRcdDwvZGl2PlxuXG5cdFx0XHQ8ZGl2IHN0eWxlPVwibWFyZ2luLWJvdHRvbTogMTZweDtcIj5cblx0XHRcdFx0PGg0IHN0eWxlPVwibWFyZ2luOiAwIDAgOHB4IDA7XCI+U3RlcCAyOiBJbnN0YWxsIGFuZCBSZXN0YXJ0PC9oND5cblx0XHRcdFx0PHAgc3R5bGU9XCJtYXJnaW46IDAgMCA4cHggMDsgZm9udC1zaXplOiAwLjllbTsgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1wiPlxuXHRcdFx0XHRcdFJ1biB0aGUgaW5zdGFsbGVyIGFuZCBmb2xsb3cgdGhlIHByb21wdHMuIEFmdGVyIGluc3RhbGxhdGlvbiwgcmVzdGFydCBPYnNpZGlhbiBjb21wbGV0ZWx5LlxuXHRcdFx0XHQ8L3A+XG5cdFx0XHQ8L2Rpdj5cblxuXHRcdFx0PGRpdiBzdHlsZT1cIm1hcmdpbi1ib3R0b206IDE2cHg7XCI+XG5cdFx0XHRcdDxoNCBzdHlsZT1cIm1hcmdpbjogMCAwIDhweCAwO1wiPlN0ZXAgMzogVmVyaWZ5IEluc3RhbGxhdGlvbjwvaDQ+XG5cdFx0XHRcdDxwIHN0eWxlPVwibWFyZ2luOiAwIDAgOHB4IDA7IGZvbnQtc2l6ZTogMC45ZW07IGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcIj5cblx0XHRcdFx0XHRSZXR1cm4gdG8gdGhpcyBzZXR0aW5ncyBwYWdlIGFuZCBjbGljayBcIlJlZnJlc2ggU3RhdHVzXCIgdG8gdmVyaWZ5IE9sbGFtYSBpcyBydW5uaW5nLlxuXHRcdFx0XHQ8L3A+XG5cdFx0XHQ8L2Rpdj5cblxuXHRcdFx0PGRpdiBzdHlsZT1cImJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTsgcGFkZGluZzogMTJweDsgYm9yZGVyLXJhZGl1czogNnB4OyBtYXJnaW4tYm90dG9tOiAxNnB4O1wiPlxuXHRcdFx0XHQ8cCBzdHlsZT1cIm1hcmdpbjogMDsgZm9udC1zaXplOiAwLjg1ZW07IGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcIj5cblx0XHRcdFx0XHQ8c3Ryb25nPk5vdGU6PC9zdHJvbmc+IE9sbGFtYSBydW5zIGNvbXBsZXRlbHkgb24geW91ciBsb2NhbCBtYWNoaW5lLiBObyBkYXRhIGlzIHNlbnQgdG8gZXh0ZXJuYWwgc2VydmVycywgZW5zdXJpbmcgZnVsbCBwcml2YWN5IGZvciB5b3VyIEFJIGludGVyYWN0aW9ucy5cblx0XHRcdFx0PC9wPlxuXHRcdFx0PC9kaXY+XG5cblx0XHRcdDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBmbGV4OyBnYXA6IDEycHg7IGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XCI+XG5cdFx0XHRcdDxidXR0b24gaWQ9XCJvbGxhbWEtbW9kYWwtY2xvc2VcIiBzdHlsZT1cInBhZGRpbmc6IDhweCAxNnB4OyBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7IGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7IGJvcmRlci1yYWRpdXM6IDRweDsgY3Vyc29yOiBwb2ludGVyO1wiPlxuXHRcdFx0XHRcdENsb3NlXG5cdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0PC9kaXY+XG5cdFx0YDtcblxuXHRcdG1vZGFsRWwuYXBwZW5kQ2hpbGQoY29udGVudEVsKTtcblxuXHRcdGNvbnN0IGNsb3NlQnRuID0gY29udGVudEVsLnF1ZXJ5U2VsZWN0b3IoJyNvbGxhbWEtbW9kYWwtY2xvc2UnKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcblx0XHRjbG9zZUJ0bi5vbmNsaWNrID0gKCkgPT4gZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChtb2RhbEVsKTtcblxuXHRcdG1vZGFsRWwub25jbGljayA9IChlKSA9PiB7XG5cdFx0XHRpZiAoZS50YXJnZXQgPT09IG1vZGFsRWwpIHtcblx0XHRcdFx0ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChtb2RhbEVsKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtb2RhbEVsKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBZGQgY3VzdG9tIExMTSBtb2RlbCBlbnRyeSBVSVxuXHQgKi9cblx0YXN5bmMgYWRkQ3VzdG9tTExNTW9kZWxFbnRyeShjb250ZW50OiBIVE1MRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IGN1c3RvbU1vZGVsU2V0dGluZyA9IG5ldyBTZXR0aW5nKGNvbnRlbnQpXG5cdFx0XHQuc2V0TmFtZSgnQ3VzdG9tIExMTSBNb2RlbCcpXG5cdFx0XHQuc2V0RGVzYygnRG93bmxvYWQgYW55IE9sbGFtYSBMTE0gbW9kZWwgYnkgbmFtZSAoZS5nLiwgbGxhbWEzLjI6M2IsIGNvZGVsbGFtYToxM2IpJyk7XG5cblx0XHRsZXQgbW9kZWxJbnB1dDogSFRNTElucHV0RWxlbWVudDtcblx0XHRsZXQgZG93bmxvYWRCdXR0b246IEhUTUxCdXR0b25FbGVtZW50O1xuXHRcdGxldCBkb3dubG9hZEJ0bkNvbXA6IGFueTtcblx0XHQvLyBDcmVhdGUgc3RhdHVzIGNvbnRhaW5lciBlYXJseSBzbyB0aGUgY2xpY2sgaGFuZGxlciBhbHdheXMgaGFzIGl0XG5cdFx0Y29uc3Qgc3RhdHVzQ29udGFpbmVyID0gY3VzdG9tTW9kZWxTZXR0aW5nLnNldHRpbmdFbC5jcmVhdGVEaXYoKTtcblx0XHRzdGF0dXNDb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IGBcblx0XHRcdG1hcmdpbi10b3A6IDhweDtcblx0XHRcdHBhZGRpbmc6IDhweDtcblx0XHRcdGJvcmRlci1yYWRpdXM6IDRweDtcblx0XHRcdGZvbnQtc2l6ZTogMC45ZW07XG5cdFx0XHRtaW4taGVpZ2h0OiAyMHB4O1xuXHRcdGA7XG5cblx0XHRjdXN0b21Nb2RlbFNldHRpbmcuYWRkVGV4dCh0ZXh0ID0+IHtcblx0XHRcdG1vZGVsSW5wdXQgPSB0ZXh0LmlucHV0RWw7XG5cdFx0XHR0ZXh0LnNldFBsYWNlaG9sZGVyKCdFbnRlciBtb2RlbCBuYW1lIChlLmcuLCBsbGFtYTMuMjozYiknKVxuXHRcdFx0XHQub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgaGFzVmFsdWUgPSAhIXZhbHVlLnRyaW0oKTtcblx0XHRcdFx0XHQvLyBQcmVmZXIgY29tcG9uZW50IEFQSSB0byB0b2dnbGUgZGlzYWJsZWQgc3RhdGVcblx0XHRcdFx0XHRpZiAoZG93bmxvYWRCdG5Db21wICYmIHR5cGVvZiBkb3dubG9hZEJ0bkNvbXAuc2V0RGlzYWJsZWQgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdGRvd25sb2FkQnRuQ29tcC5zZXREaXNhYmxlZCghaGFzVmFsdWUpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoZG93bmxvYWRCdXR0b24pIHtcblx0XHRcdFx0XHRcdGRvd25sb2FkQnV0dG9uLmRpc2FibGVkID0gIWhhc1ZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHRjdXN0b21Nb2RlbFNldHRpbmcuYWRkQnV0dG9uKGJ1dHRvbiA9PiB7XG5cdFx0XHRkb3dubG9hZEJ0bkNvbXAgPSBidXR0b247XG5cdFx0XHRkb3dubG9hZEJ1dHRvbiA9IGJ1dHRvbi5idXR0b25FbDtcblx0XHRcdGJ1dHRvblxuXHRcdFx0XHQuc2V0QnV0dG9uVGV4dCgn4qyHIERvd25sb2FkJylcblx0XHRcdFx0LnNldFRvb2x0aXAoJ0Rvd25sb2FkIHRoaXMgbW9kZWwgZnJvbSBPbGxhbWEgcmVnaXN0cnknKVxuXHRcdFx0XHQuc2V0RGlzYWJsZWQodHJ1ZSlcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IG1vZGVsTmFtZSA9IChtb2RlbElucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuXHRcdFx0XHRcdGlmICghbW9kZWxOYW1lKSB7XG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdbRVJST1JdIFBsZWFzZSBlbnRlciBhIG1vZGVsIG5hbWUnKTtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5pbmZvKCdbT0xMQU1BLVNFVFRJTkdTXSBDdXN0b20gTExNIGRvd25sb2FkIHJlcXVlc3RlZCcsIHsgbW9kZWxOYW1lIH0pO1xuXHRcdFx0XHRcdFx0ZG93bmxvYWRCdG5Db21wPy5zZXREaXNhYmxlZCh0cnVlKTtcblx0XHRcdFx0XHRcdHN0YXR1c0NvbnRhaW5lci5lbXB0eSgpO1xuXHRcdFx0XHRcdFx0c3RhdHVzQ29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IGBbU1RBUlRdIERvd25sb2FkaW5nICR7bW9kZWxOYW1lfS4uLmAgfSk7XG5cblx0XHRcdFx0XHRcdGNvbnN0IG9sbGFtYVNlcnZpY2UgPSB0aGlzLmdldE9sbGFtYVNlcnZpY2UoKTtcblx0XHRcdFx0XHRcdGNvbnN0IGlzQXZhaWxhYmxlID0gYXdhaXQgb2xsYW1hU2VydmljZS5pc01vZGVsQXZhaWxhYmxlKG1vZGVsTmFtZSk7XG5cdFx0XHRcdFx0XHRpZiAoaXNBdmFpbGFibGUpIHtcblx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgW0lORk9dIE1vZGVsICR7bW9kZWxOYW1lfSBpcyBhbHJlYWR5IGluc3RhbGxlZGApO1xuXHRcdFx0XHRcdFx0XHRzdGF0dXNDb250YWluZXIuZW1wdHkoKTtcblx0XHRcdFx0XHRcdFx0c3RhdHVzQ29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IGBbSU5GT10gJHttb2RlbE5hbWV9IGFscmVhZHkgYXZhaWxhYmxlYCB9KTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmRvd25sb2FkT2xsYW1hTW9kZWxXaXRoUHJvZ3Jlc3MobW9kZWxOYW1lLCBzdGF0dXNDb250YWluZXIpO1xuXG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBpbnN0YWxsZWQgPSBhd2FpdCBvbGxhbWFTZXJ2aWNlLmlzTW9kZWxBdmFpbGFibGUobW9kZWxOYW1lKTtcblx0XHRcdFx0XHRcdFx0aWYgKGluc3RhbGxlZCkge1xuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYWRkQ3VzdG9tT2xsYW1hTExNVG9EZWZhdWx0cyhtb2RlbE5hbWUpO1xuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucmVmcmVzaExMTURyb3Bkb3ducygpO1xuXHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYFtTVUNDRVNTXSAke21vZGVsTmFtZX0gZG93bmxvYWRlZCBhbmQgYWRkZWQgdG8gTExNIG1vZGVscy5gKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBjYXRjaCAocGVyc2lzdEVycikge1xuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/Lndhcm4oJ1tPTExBTUEtU0VUVElOR1NdIFBvc3QtZG93bmxvYWQgYXZhaWxhYmlsaXR5IGNoZWNrIGZhaWxlZCcsIHsgZXJyb3I6IHBlcnNpc3RFcnIsIG1vZGVsTmFtZSB9KTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0bW9kZWxJbnB1dC52YWx1ZSA9ICcnO1xuXHRcdFx0XHRcdFx0ZG93bmxvYWRCdG5Db21wPy5zZXREaXNhYmxlZCh0cnVlKTtcblxuXHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdbT0xMQU1BLVNFVFRJTkdTXSBEb3dubG9hZCBmYWlsZWQnLCB7IGVycm9yLCBtb2RlbE5hbWUgfSk7XG5cdFx0XHRcdFx0XHRjb25zdCBlcnJvck1zZyA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xuXHRcdFx0XHRcdFx0bmV3IE5vdGljZShgW0VSUk9SXSBGYWlsZWQgdG8gZG93bmxvYWQgJHttb2RlbE5hbWV9OiAke2Vycm9yTXNnfWApO1xuXHRcdFx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdFx0XHQvLyBSZWNvbXB1dGUgZW5hYmxlZCBzdGF0ZSBiYXNlZCBvbiBjdXJyZW50IGlucHV0XG5cdFx0XHRcdFx0XHRjb25zdCBoYXNWYWx1ZSA9ICEhKG1vZGVsSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG5cdFx0XHRcdFx0XHRkb3dubG9hZEJ0bkNvbXA/LnNldERpc2FibGVkKCFoYXNWYWx1ZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBZGQgY3VzdG9tIGVtYmVkZGluZyBtb2RlbCBlbnRyeSBVSVxuXHQgKi9cblx0YXN5bmMgYWRkQ3VzdG9tRW1iZWRkaW5nTW9kZWxFbnRyeShjb250ZW50OiBIVE1MRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IGN1c3RvbU1vZGVsU2V0dGluZyA9IG5ldyBTZXR0aW5nKGNvbnRlbnQpXG5cdFx0XHQuc2V0TmFtZSgnQ3VzdG9tIEVtYmVkZGluZyBNb2RlbCcpXG5cdFx0XHQuc2V0RGVzYygnRG93bmxvYWQgYW55IE9sbGFtYSBlbWJlZGRpbmcgbW9kZWwgYnkgbmFtZSAoZS5nLiwgbm9taWMtZW1iZWQtdGV4dCwgbXhiYWktZW1iZWQtbGFyZ2UpJyk7XG5cblx0XHRsZXQgbW9kZWxJbnB1dDogSFRNTElucHV0RWxlbWVudDtcblx0XHRsZXQgZG93bmxvYWRCdXR0b246IEhUTUxCdXR0b25FbGVtZW50O1xuXHRcdGxldCBkb3dubG9hZEJ0bkNvbXA6IGFueTtcblx0XHRjb25zdCBzdGF0dXNDb250YWluZXIgPSBjdXN0b21Nb2RlbFNldHRpbmcuc2V0dGluZ0VsLmNyZWF0ZURpdigpO1xuXHRcdHN0YXR1c0NvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gYFxuXHRcdFx0bWFyZ2luLXRvcDogOHB4O1xuXHRcdFx0cGFkZGluZzogOHB4O1xuXHRcdFx0Ym9yZGVyLXJhZGl1czogNHB4O1xuXHRcdFx0Zm9udC1zaXplOiAwLjllbTtcblx0XHRcdG1pbi1oZWlnaHQ6IDIwcHg7XG5cdFx0YDtcblxuXHRcdGN1c3RvbU1vZGVsU2V0dGluZy5hZGRUZXh0KHRleHQgPT4ge1xuXHRcdFx0bW9kZWxJbnB1dCA9IHRleHQuaW5wdXRFbDtcblx0XHRcdHRleHQuc2V0UGxhY2Vob2xkZXIoJ0VudGVyIGVtYmVkZGluZyBtb2RlbCBuYW1lJylcblx0XHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IGhhc1ZhbHVlID0gISF2YWx1ZS50cmltKCk7XG5cdFx0XHRcdFx0aWYgKGRvd25sb2FkQnRuQ29tcCAmJiB0eXBlb2YgZG93bmxvYWRCdG5Db21wLnNldERpc2FibGVkID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRkb3dubG9hZEJ0bkNvbXAuc2V0RGlzYWJsZWQoIWhhc1ZhbHVlKTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGRvd25sb2FkQnV0dG9uKSB7XG5cdFx0XHRcdFx0XHRkb3dubG9hZEJ1dHRvbi5kaXNhYmxlZCA9ICFoYXNWYWx1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0Y3VzdG9tTW9kZWxTZXR0aW5nLmFkZEJ1dHRvbihidXR0b24gPT4ge1xuXHRcdFx0ZG93bmxvYWRCdG5Db21wID0gYnV0dG9uO1xuXHRcdFx0ZG93bmxvYWRCdXR0b24gPSBidXR0b24uYnV0dG9uRWw7XG5cdFx0XHRidXR0b25cblx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ+KshyBEb3dubG9hZCcpXG5cdFx0XHRcdC5zZXRUb29sdGlwKCdEb3dubG9hZCB0aGlzIGVtYmVkZGluZyBtb2RlbCBmcm9tIE9sbGFtYSByZWdpc3RyeScpXG5cdFx0XHRcdC5zZXREaXNhYmxlZCh0cnVlKVxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgbW9kZWxOYW1lID0gKG1vZGVsSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG5cdFx0XHRcdFx0aWYgKCFtb2RlbE5hbWUpIHtcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoJ1tFUlJPUl0gUGxlYXNlIGVudGVyIGEgbW9kZWwgbmFtZScpO1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmluZm8oJ1tPTExBTUEtU0VUVElOR1NdIEN1c3RvbSBlbWJlZGRpbmcgZG93bmxvYWQgcmVxdWVzdGVkJywgeyBtb2RlbE5hbWUgfSk7XG5cdFx0XHRcdFx0XHRkb3dubG9hZEJ0bkNvbXA/LnNldERpc2FibGVkKHRydWUpO1xuXHRcdFx0XHRcdFx0c3RhdHVzQ29udGFpbmVyLmVtcHR5KCk7XG5cdFx0XHRcdFx0XHRzdGF0dXNDb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogYFtTVEFSVF0gRG93bmxvYWRpbmcgJHttb2RlbE5hbWV9Li4uYCB9KTtcblxuXHRcdFx0XHRcdFx0Y29uc3Qgb2xsYW1hU2VydmljZSA9IHRoaXMuZ2V0T2xsYW1hU2VydmljZSgpO1xuXHRcdFx0XHRcdFx0Y29uc3QgaXNBdmFpbGFibGUgPSBhd2FpdCBvbGxhbWFTZXJ2aWNlLmlzTW9kZWxBdmFpbGFibGUobW9kZWxOYW1lKTtcblx0XHRcdFx0XHRcdGlmIChpc0F2YWlsYWJsZSkge1xuXHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBbSU5GT10gTW9kZWwgJHttb2RlbE5hbWV9IGlzIGFscmVhZHkgaW5zdGFsbGVkYCk7XG5cdFx0XHRcdFx0XHRcdHN0YXR1c0NvbnRhaW5lci5lbXB0eSgpO1xuXHRcdFx0XHRcdFx0XHRzdGF0dXNDb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogYFtJTkZPXSAke21vZGVsTmFtZX0gYWxyZWFkeSBhdmFpbGFibGVgIH0pO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuZG93bmxvYWRPbGxhbWFNb2RlbFdpdGhQcm9ncmVzcyhtb2RlbE5hbWUsIHN0YXR1c0NvbnRhaW5lcik7XG5cblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGluc3RhbGxlZCA9IGF3YWl0IG9sbGFtYVNlcnZpY2UuaXNNb2RlbEF2YWlsYWJsZShtb2RlbE5hbWUpO1xuXHRcdFx0XHRcdFx0XHRpZiAoaW5zdGFsbGVkKSB7XG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hZGRDdXN0b21PbGxhbWFFbWJlZGRpbmdUb0RlZmF1bHRzKG1vZGVsTmFtZSk7XG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5yZWZyZXNoRW1iZWRkaW5nRHJvcGRvd25zKCk7XG5cdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgW1NVQ0NFU1NdICR7bW9kZWxOYW1lfSBkb3dubG9hZGVkIGFuZCBhZGRlZCB0byBlbWJlZGRpbmcgbW9kZWxzLmApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGNhdGNoIChwZXJzaXN0RXJyKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8ud2FybignW09MTEFNQS1TRVRUSU5HU10gUG9zdC1kb3dubG9hZCBhdmFpbGFiaWxpdHkgY2hlY2sgZmFpbGVkJywgeyBlcnJvcjogcGVyc2lzdEVyciwgbW9kZWxOYW1lIH0pO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRtb2RlbElucHV0LnZhbHVlID0gJyc7XG5cdFx0XHRcdFx0XHRkb3dubG9hZEJ0bkNvbXA/LnNldERpc2FibGVkKHRydWUpO1xuXG5cdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tPTExBTUEtU0VUVElOR1NdIERvd25sb2FkIGZhaWxlZCcsIHsgZXJyb3IsIG1vZGVsTmFtZSB9KTtcblx0XHRcdFx0XHRcdGNvbnN0IGVycm9yTXNnID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBbRVJST1JdIEZhaWxlZCB0byBkb3dubG9hZCAke21vZGVsTmFtZX06ICR7ZXJyb3JNc2d9YCk7XG5cdFx0XHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0XHRcdGNvbnN0IGhhc1ZhbHVlID0gISEobW9kZWxJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKTtcblx0XHRcdFx0XHRcdGRvd25sb2FkQnRuQ29tcD8uc2V0RGlzYWJsZWQoIWhhc1ZhbHVlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdFx0KiBSZWZyZXNoIGVtYmVkZGluZyBtb2RlbCBkcm9wZG93bnMgYWZ0ZXIgYWRkaW5nIG5ldyBtb2RlbHNcblx0XHQqL1xuXHRhc3luYyByZWZyZXNoRW1iZWRkaW5nRHJvcGRvd25zKCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHRyeSB7XG5cdFx0XHQvLyBGb3JjZSByZWZyZXNoIG9mIGF2YWlsYWJsZSBtb2RlbHMgY2FjaGVcblx0XHRcdGNvbnN0IG9sbGFtYVNlcnZpY2UgPSB0aGlzLmdldE9sbGFtYVNlcnZpY2UoKTtcblx0XHRcdGF3YWl0IG9sbGFtYVNlcnZpY2UuZ2V0QXZhaWxhYmxlTW9kZWxzKHRydWUpO1xuXG5cdFx0XHQvLyBGaW5kIGFuZCByZWZyZXNoIGVtYmVkZGluZyBtb2RlbCBkcm9wZG93bnNcblx0XHRcdGNvbnN0IGRyb3Bkb3ducyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlbGVjdCcpO1xuXHRcdFx0Zm9yIChjb25zdCBkcm9wZG93biBvZiBkcm9wZG93bnMpIHtcblx0XHRcdFx0Y29uc3QgcGFyZW50Q29udGFpbmVyID0gZHJvcGRvd24uY2xvc2VzdCgnLnNldHRpbmctaXRlbScpO1xuXHRcdFx0XHRpZiAocGFyZW50Q29udGFpbmVyKSB7XG5cdFx0XHRcdFx0Y29uc3QgbGFiZWwgPSBwYXJlbnRDb250YWluZXIucXVlcnlTZWxlY3RvcignLnNldHRpbmctaXRlbS1uYW1lJyk7XG5cdFx0XHRcdFx0aWYgKGxhYmVsICYmIGxhYmVsLnRleHRDb250ZW50Py50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdlbWJlZGRpbmcnKSkge1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wb3B1bGF0ZU9sbGFtYU1vZGVsc1dpdGhTdGF0dXMoZHJvcGRvd24pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbT0xMQU1BLVNFVFRJTkdTXSBFcnJvciByZWZyZXNoaW5nIGVtYmVkZGluZyBkcm9wZG93bnMnLCB7IGVycm9yIH0pO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHRcdCogUmVmcmVzaCBMTE0gbW9kZWwgZHJvcGRvd25zIGFmdGVyIGFkZGluZyBuZXcgbW9kZWxzXG5cdFx0Ki9cblx0YXN5bmMgcmVmcmVzaExMTURyb3Bkb3ducygpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHR0cnkge1xuXHRcdFx0Ly8gRm9yY2UgcmVmcmVzaCBvZiBhdmFpbGFibGUgbW9kZWxzIGNhY2hlXG5cdFx0XHRjb25zdCBvbGxhbWFTZXJ2aWNlID0gdGhpcy5nZXRPbGxhbWFTZXJ2aWNlKCk7XG5cdFx0XHRhd2FpdCBvbGxhbWFTZXJ2aWNlLmdldEF2YWlsYWJsZU1vZGVscyh0cnVlKTtcblxuXHRcdFx0Ly8gRmluZCBhbmQgcmVmcmVzaCBMTE0gbW9kZWwgZHJvcGRvd25zXG5cdFx0XHRjb25zdCBkcm9wZG93bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzZWxlY3QnKTtcblx0XHRcdGZvciAoY29uc3QgZHJvcGRvd24gb2YgZHJvcGRvd25zKSB7XG5cdFx0XHRcdGNvbnN0IHBhcmVudENvbnRhaW5lciA9IGRyb3Bkb3duLmNsb3Nlc3QoJy5zZXR0aW5nLWl0ZW0nKTtcblx0XHRcdFx0aWYgKHBhcmVudENvbnRhaW5lcikge1xuXHRcdFx0XHRcdGNvbnN0IGxhYmVsID0gcGFyZW50Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5zZXR0aW5nLWl0ZW0tbmFtZScpO1xuXHRcdFx0XHRcdGlmIChsYWJlbCAmJiAobGFiZWwudGV4dENvbnRlbnQ/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2xsbScpIHx8IGxhYmVsLnRleHRDb250ZW50Py50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdtb2RlbCcpKSkge1xuXHRcdFx0XHRcdFx0Ly8gU2tpcCBlbWJlZGRpbmcgZHJvcGRvd25zXG5cdFx0XHRcdFx0XHRpZiAoIWxhYmVsLnRleHRDb250ZW50Py50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdlbWJlZGRpbmcnKSkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBvcHRpb25zID0gQXJyYXkuZnJvbShkcm9wZG93bi5vcHRpb25zKTtcblx0XHRcdFx0XHRcdFx0Y29uc3QgY3VycmVudFZhbHVlID0gZHJvcGRvd24udmFsdWU7XG5cblx0XHRcdFx0XHRcdFx0Ly8gQ2xlYXIgYW5kIHJlcG9wdWxhdGUgZHJvcGRvd25cblx0XHRcdFx0XHRcdFx0ZHJvcGRvd24uaW5uZXJIVE1MID0gJyc7XG5cblx0XHRcdFx0XHRcdFx0Ly8gQWRkIG1vZGVscyBmcm9tIHNldHRpbmdzXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGxsbU1vZGVscyA9IHRoaXMuZ2V0T2xsYW1hTExNTW9kZWxzRnJvbVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHRcdGxsbU1vZGVscy5mb3JFYWNoKG1vZGVsID0+IHtcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcblx0XHRcdFx0XHRcdFx0XHRvcHRpb24udmFsdWUgPSBtb2RlbC5uYW1lO1xuXHRcdFx0XHRcdFx0XHRcdG9wdGlvbi50ZXh0Q29udGVudCA9IG1vZGVsLm5hbWU7XG5cdFx0XHRcdFx0XHRcdFx0ZHJvcGRvd24uYXBwZW5kQ2hpbGQob3B0aW9uKTtcblx0XHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gUmVzdG9yZSBzZWxlY3Rpb24gaWYgaXQgc3RpbGwgZXhpc3RzXG5cdFx0XHRcdFx0XHRcdGlmIChBcnJheS5mcm9tKGRyb3Bkb3duLm9wdGlvbnMpLnNvbWUob3B0ID0+IG9wdC52YWx1ZSA9PT0gY3VycmVudFZhbHVlKSkge1xuXHRcdFx0XHRcdFx0XHRcdGRyb3Bkb3duLnZhbHVlID0gY3VycmVudFZhbHVlO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1tPTExBTUEtU0VUVElOR1NdIEVycm9yIHJlZnJlc2hpbmcgTExNIGRyb3Bkb3ducycsIHsgZXJyb3IgfSk7XG5cdFx0fVxuXHR9XG59XG5cbi8vIEB2ZXNzZWwtY2xvc2U6QnJhZ2kiLCIvLyBAdmVzc2VsLXByb3RvY29sOkJyYWdpIGdvdmVybnM6cmVmYWN0b3IgY29udGV4dDpFeHRyYWN0ZWQgTUNQIFRvb2xzIFVJIGNvb3JkaW5hdGlvbiBmcm9tIG1vbm9saXRoaWMgU2V0dGluZ3NUYWJcbi8vIEBpbnRlci1kZXBlbmRlbmNpZXM6IFtHcmFwaGl0aVBsdWdpbiwgT2JzaWRpYW4gQVBJIGNvbXBvbmVudHMsIEZvbGRlclN1Z2dlc3RdXG4vLyBAcHVycG9zZTogU2VwYXJhdGUgTUNQIFRvb2xzIFVJIGxvZ2ljIGZyb20gbWFpbiBzZXR0aW5ncyB0byBpbXByb3ZlIG1haW50YWluYWJpbGl0eVxuLy8gQHJlc3VsdDogQ2xlYW4gc2VwYXJhdGlvbiBiZXR3ZWVuIFVJIGNvb3JkaW5hdGlvbiBhbmQgYnVzaW5lc3MgbG9naWMgZm9yIE1DUCBUb29scyBmdW5jdGlvbmFsaXR5XG4vLyBAc2lnbmVkOiBDLkJqw7hyblxuXG5pbXBvcnQgeyBBcHAsIFNldHRpbmcsIE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB0eXBlIEdyYXBoaXRpUGx1Z2luIGZyb20gJy4uL21haW4nO1xuaW1wb3J0IHsgRm9sZGVyU3VnZ2VzdCB9IGZyb20gJy4uL3V0aWxzL0ZvbGRlclN1Z2dlc3QnO1xuXG5leHBvcnQgY2xhc3MgTUNQVG9vbFNldHRpbmdzIHtcblx0cHJpdmF0ZSBwbHVnaW46IEdyYXBoaXRpUGx1Z2luO1xuXHRwcml2YXRlIGFwcDogQXBwO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IEdyYXBoaXRpUGx1Z2luKSB7XG5cdFx0dGhpcy5hcHAgPSBhcHA7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlIHN0YXR1cyBpbmRpY2F0b3IgZm9yIGRldmVsb3BtZW50IG1vZGVcblx0ICovXG5cdHByaXZhdGUgY3JlYXRlU3RhdHVzSW5kaWNhdG9yKHN0YXR1czogJ2ltcGxlbWVudGVkJyB8ICdtb2NrJyB8ICd0b2RvJyB8ICdwYXJ0aWFsJyk6IHN0cmluZyB7XG5cdFx0aWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RGV2ZWxvcG1lbnRJbmRpY2F0b3JzKSByZXR1cm4gJyc7XG5cblx0XHRzd2l0Y2ggKHN0YXR1cykge1xuXHRcdFx0Y2FzZSAnaW1wbGVtZW50ZWQnOiByZXR1cm4gJyDinIUnO1xuXHRcdFx0Y2FzZSAnbW9jayc6IHJldHVybiAnIOKaoO+4jyc7XG5cdFx0XHRjYXNlICd0b2RvJzogcmV0dXJuICcg8J+Upyc7XG5cdFx0XHRjYXNlICdwYXJ0aWFsJzogcmV0dXJuICcg8J+foSc7XG5cdFx0XHRkZWZhdWx0OiByZXR1cm4gJyc7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEFkZCBtYWluIE1DUCBUb29scyBhY2NvcmRpb24gc2VjdGlvblxuXHQgKi9cblx0YWRkTUNQVG9vbHNBY2NvcmRpb24oY29udGVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcblx0XHR0cnkge1xuXHRcdFx0Ly8gRGVzY3JpcHRpb25cblx0XHRcdGNvbnRlbnQuY3JlYXRlRWwoJ3AnLCB7XG5cdFx0XHRcdHRleHQ6ICdDb25maWd1cmUgTUNQIChNb2RlbCBDb250ZXh0IFByb3RvY29sKSB0b29scyBpbnRlZ3JhdGlvbiwgZGVmYXVsdCBub3RlIGZvbGRlcnMsIGFuZCB0aGlyZC1wYXJ0eSBwbHVnaW4gY29ubmVjdGlvbnMuJyxcblx0XHRcdFx0Y2xzOiAnc2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uJ1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIERlZmF1bHRzIFNlY3Rpb24gLSBTaW1wbGUgaW1wbGVtZW50YXRpb24gZmlyc3Rcblx0XHRcdHRoaXMuYWRkTUNQRGVmYXVsdHNTZWN0aW9uKGNvbnRlbnQpO1xuXG5cdFx0XHQvLyAzcmQgUGFydHkgSW50ZWdyYXRpb25zIFNlY3Rpb25cblx0XHRcdHRoaXMuYWRkTUNQSW50ZWdyYXRpb25zU2VjdGlvbihjb250ZW50KTtcblxuXHRcdFx0Ly8gVG9vbCBEZWZpbml0aW9ucyBTZWN0aW9uXG5cdFx0XHR0aGlzLmFkZE1DUFRvb2xEZWZpbml0aW9uc1NlY3Rpb24oY29udGVudCk7XG5cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignQ3JpdGljYWwgZXJyb3IgaW4gTUNQIFRvb2xzIGFjY29yZGlvbicsIHtcblx0XHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSxcblx0XHRcdFx0c3RhY2s6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5zdGFjayA6IHVuZGVmaW5lZFxuXHRcdFx0fSk7XG5cdFx0XHRjb250ZW50LmNyZWF0ZUVsKCdkaXYnLCB7XG5cdFx0XHRcdHRleHQ6IGBNQ1AgVG9vbHMgc2VjdGlvbiBmYWlsZWQgdG8gbG9hZDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gLFxuXHRcdFx0XHRjbHM6ICdzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24nXG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQWRkIE1DUCBEZWZhdWx0cyBzZWN0aW9uXG5cdCAqL1xuXHRwcml2YXRlIGFkZE1DUERlZmF1bHRzU2VjdGlvbihjb250ZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xuXHRcdHRyeSB7XG5cdFx0XHRjb250ZW50LmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ0RlZmF1bHRzJywgY2xzOiAnc2V0dGluZy1pdGVtLW5hbWUnIH0pO1xuXG5cdFx0XHQvLyBMaXZlIGZvbGRlciBzZWFyY2ggd2l0aCBzdWdnZXN0aW9uc1xuXHRcdFx0bmV3IFNldHRpbmcoY29udGVudClcblx0XHRcdFx0LnNldE5hbWUoJ0RlZmF1bHQgZm9sZGVyIGZvciBNQ1Agbm90ZXMnICsgdGhpcy5jcmVhdGVTdGF0dXNJbmRpY2F0b3IoJ2ltcGxlbWVudGVkJykpXG5cdFx0XHRcdC5zZXREZXNjKCdEZWZhdWx0IGZvbGRlciB3aGVyZSBNQ1AtZ2VuZXJhdGVkIG5vdGVzIHdpbGwgYmUgY3JlYXRlZC4gU3RhcnQgdHlwaW5nIHRvIHNlZSBmb2xkZXIgc3VnZ2VzdGlvbnMuJylcblx0XHRcdFx0LmFkZFNlYXJjaCgoY2IpID0+IHtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0Ly8gSW5pdGlhbGl6ZSBGb2xkZXJTdWdnZXN0IGZvciBsaXZlIHN1Z2dlc3Rpb25zXG5cdFx0XHRcdFx0XHRuZXcgRm9sZGVyU3VnZ2VzdCh0aGlzLmFwcCwgY2IuaW5wdXRFbCk7XG5cblx0XHRcdFx0XHRcdGNiLnNldFBsYWNlaG9sZGVyKCdlLmcuLCBNQ1AgTm90ZXMsIEtub3dsZWRnZS9NQ1AsIG9yIGxlYXZlIGVtcHR5IGZvciB2YXVsdCByb290Jylcblx0XHRcdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLm1jcFRvb2xzPy5kZWZhdWx0cz8uaW5ib3hGb2xkZXIgfHwgJycpXG5cdFx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gRm9sbG93IGV4aXN0aW5nIHNldHRpbmdzIHBhdHRlcm4gLSBkaXJlY3QgYXNzaWdubWVudCB0byBwbHVnaW4uc2V0dGluZ3Ncblx0XHRcdFx0XHRcdFx0XHRcdGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3MubWNwVG9vbHMpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubWNwVG9vbHMgPSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGVmYXVsdHM6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGluYm94Rm9sZGVyOiAnJyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVuYWJsZVNtYXJ0Rm9sZGVyUmVzb2x1dGlvbjogdHJ1ZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aW50ZWdyYXRpb25zOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0ZW1wbGF0ZXI6IHsgZGV0ZWN0ZWQ6IGZhbHNlLCBlbmFibGVkOiBmYWxzZSwgdXNlVGVtcGxhdGVGb2xkZXJzOiBmYWxzZSB9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cGVyaW9kaWNOb3RlczogeyBkZXRlY3RlZDogZmFsc2UsIGVuYWJsZWQ6IGZhbHNlLCB1c2VQZXJpb2RpY0ZvbGRlcnM6IGZhbHNlIH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRvb2xzOiBbXVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5tY3BUb29scy5kZWZhdWx0cykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5tY3BUb29scy5kZWZhdWx0cyA9IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpbmJveEZvbGRlcjogJycsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZW5hYmxlU21hcnRGb2xkZXJSZXNvbHV0aW9uOiB0cnVlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5tY3BUb29scy5kZWZhdWx0cy5pbmJveEZvbGRlciA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cblx0XHRcdFx0XHRcdFx0XHR9IGNhdGNoIChzYXZlRXJyb3IpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ0Vycm9yIHNhdmluZyBNQ1AgZGVmYXVsdCBmb2xkZXIgc2V0dGluZycsIHsgZXJyb3I6IHNhdmVFcnJvciB9KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0fSBjYXRjaCAoc2V0dXBFcnJvcikge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignRXJyb3Igc2V0dGluZyB1cCBmb2xkZXIgc2VhcmNoIGlucHV0JywgeyBlcnJvcjogc2V0dXBFcnJvciB9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdFcnJvciBpbiBEZWZhdWx0cyBzZWN0aW9uJywge1xuXHRcdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpXG5cdFx0XHR9KTtcblx0XHRcdGNvbnRlbnQuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ0Vycm9yIGxvYWRpbmcgRGVmYXVsdHMgc2VjdGlvbicsIGNsczogJ3NldHRpbmctaXRlbS1kZXNjcmlwdGlvbicgfSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEFkZCBNQ1AgSW50ZWdyYXRpb25zIHNlY3Rpb25cblx0ICovXG5cdHByaXZhdGUgYWRkTUNQSW50ZWdyYXRpb25zU2VjdGlvbihjb250ZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xuXHRcdHRyeSB7XG5cdFx0XHRjb250ZW50LmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJzNyZCBQYXJ0eSBJbnRlZ3JhdGlvbnMnLCBjbHM6ICdzZXR0aW5nLWl0ZW0tbmFtZScgfSk7XG5cblx0XHRcdC8vIFRlbXBsYXRlciBJbnRlZ3JhdGlvbiAtIHNpbXBsZSBkZXRlY3Rpb24gdXNpbmcgT2JzaWRpYW4gQVBJXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCB0ZW1wbGF0ZXJEZXRlY3RlZCA9ICEhKHRoaXMuYXBwIGFzIGFueSkucGx1Z2lucy5wbHVnaW5zW1widGVtcGxhdGVyLW9ic2lkaWFuXCJdO1xuXHRcdFx0XHRjb25zdCB0ZW1wbGF0ZXJFbmFibGVkID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MubWNwVG9vbHM/LmludGVncmF0aW9ucz8udGVtcGxhdGVyPy5lbmFibGVkIHx8IGZhbHNlO1xuXG5cdFx0XHRcdGNvbnN0IHRlbXBsYXRlclNldHRpbmcgPSBuZXcgU2V0dGluZyhjb250ZW50KVxuXHRcdFx0XHRcdC5zZXROYW1lKCdUZW1wbGF0ZXIgUGx1Z2luIEludGVncmF0aW9uJyArIHRoaXMuY3JlYXRlU3RhdHVzSW5kaWNhdG9yKCdpbXBsZW1lbnRlZCcpKVxuXHRcdFx0XHRcdC5zZXREZXNjKCdJbnRlZ3JhdGUgd2l0aCBUZW1wbGF0ZXIgcGx1Z2luIGZvciBlbmhhbmNlZCBub3RlIGNyZWF0aW9uJyk7XG5cblx0XHRcdFx0Ly8gQWRkIHNpbXBsZSBncmVlbiBjaGVjayBvciByZWQgeCB0byB0aGUgbGVmdFxuXHRcdFx0XHRjb25zdCBzdGF0dXNJY29uID0gdGVtcGxhdGVyU2V0dGluZy5uYW1lRWwuY3JlYXRlU3Bhbih7XG5cdFx0XHRcdFx0Y2xzOiAnbWNwLXN0YXR1cy1pY29uJyxcblx0XHRcdFx0XHR0ZXh0OiB0ZW1wbGF0ZXJEZXRlY3RlZCA/ICcg4pyTJyA6ICcg4pyXJ1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0c3RhdHVzSWNvbi5zdHlsZS5jc3NUZXh0ID0gYFxuXHRcdFx0XHRcdGNvbG9yOiAke3RlbXBsYXRlckRldGVjdGVkID8gJ3ZhcigtLWNvbG9yLWdyZWVuKScgOiAndmFyKC0tY29sb3ItcmVkKSd9O1xuXHRcdFx0XHRcdGZvbnQtd2VpZ2h0OiBib2xkO1xuXHRcdFx0XHRcdG1hcmdpbi1yaWdodDogNHB4O1xuXHRcdFx0XHRgO1xuXG5cdFx0XHRcdHRlbXBsYXRlclNldHRpbmcuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB7XG5cdFx0XHRcdFx0dG9nZ2xlLnNldFZhbHVlKHRlbXBsYXRlckVuYWJsZWQpXG5cdFx0XHRcdFx0XHQuc2V0RGlzYWJsZWQoIXRlbXBsYXRlckRldGVjdGVkKVxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3MubWNwVG9vbHMpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm1jcFRvb2xzID0ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRkZWZhdWx0czogeyBpbmJveEZvbGRlcjogJycsIGVuYWJsZVNtYXJ0Rm9sZGVyUmVzb2x1dGlvbjogdHJ1ZSB9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpbnRlZ3JhdGlvbnM6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0ZW1wbGF0ZXI6IHsgZGV0ZWN0ZWQ6IGZhbHNlLCBlbmFibGVkOiBmYWxzZSwgdXNlVGVtcGxhdGVGb2xkZXJzOiBmYWxzZSB9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHBlcmlvZGljTm90ZXM6IHsgZGV0ZWN0ZWQ6IGZhbHNlLCBlbmFibGVkOiBmYWxzZSwgdXNlUGVyaW9kaWNGb2xkZXJzOiBmYWxzZSB9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRvb2xzOiBbXVxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubWNwVG9vbHMuaW50ZWdyYXRpb25zLnRlbXBsYXRlci5lbmFibGVkID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnVGVtcGxhdGVyIGludGVncmF0aW9uIHRvZ2dsZWQnLCB7IGVuYWJsZWQ6IHZhbHVlIH0pO1xuXHRcdFx0XHRcdFx0XHR9IGNhdGNoIChzYXZlRXJyb3IpIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdGYWlsZWQgdG8gc2F2ZSBUZW1wbGF0ZXIgc2V0dGluZycsIHsgZXJyb3I6IHNhdmVFcnJvciB9KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGlmICghdGVtcGxhdGVyRGV0ZWN0ZWQpIHtcblx0XHRcdFx0XHR0ZW1wbGF0ZXJTZXR0aW5nLmRlc2NFbC5hcHBlbmRUZXh0KCcgKFBsdWdpbiBub3QgZGV0ZWN0ZWQgLSBpbnN0YWxsIFRlbXBsYXRlciB0byBlbmFibGUgdGhpcyBpbnRlZ3JhdGlvbiknKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCAodGVtcGxhdGVyRXJyb3IpIHtcblx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignRXJyb3Igc2V0dGluZyB1cCBUZW1wbGF0ZXIgaW50ZWdyYXRpb24nLCB7IGVycm9yOiB0ZW1wbGF0ZXJFcnJvciB9KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUGVyaW9kaWMgTm90ZXMgSW50ZWdyYXRpb24gLSBzaW1wbGUgZGV0ZWN0aW9uIHVzaW5nIE9ic2lkaWFuIEFQSVxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29uc3QgcGVyaW9kaWNOb3Rlc0RldGVjdGVkID0gISEodGhpcy5hcHAgYXMgYW55KS5wbHVnaW5zLnBsdWdpbnNbXCJwZXJpb2RpYy1ub3Rlc1wiXTtcblx0XHRcdFx0Y29uc3QgcGVyaW9kaWNOb3Rlc0VuYWJsZWQgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5tY3BUb29scz8uaW50ZWdyYXRpb25zPy5wZXJpb2RpY05vdGVzPy5lbmFibGVkIHx8IGZhbHNlO1xuXG5cdFx0XHRcdGNvbnN0IHBlcmlvZGljTm90ZXNTZXR0aW5nID0gbmV3IFNldHRpbmcoY29udGVudClcblx0XHRcdFx0XHQuc2V0TmFtZSgnUGVyaW9kaWMgTm90ZXMgUGx1Z2luIEludGVncmF0aW9uJyArIHRoaXMuY3JlYXRlU3RhdHVzSW5kaWNhdG9yKCdpbXBsZW1lbnRlZCcpKVxuXHRcdFx0XHRcdC5zZXREZXNjKCdJbnRlZ3JhdGUgd2l0aCBQZXJpb2RpYyBOb3RlcyBwbHVnaW4gZm9yIHRpbWUtYmFzZWQgbm90ZSBvcmdhbml6YXRpb24nKTtcblxuXHRcdFx0XHQvLyBBZGQgc2ltcGxlIGdyZWVuIGNoZWNrIG9yIHJlZCB4IHRvIHRoZSBsZWZ0XG5cdFx0XHRcdGNvbnN0IHN0YXR1c0ljb24gPSBwZXJpb2RpY05vdGVzU2V0dGluZy5uYW1lRWwuY3JlYXRlU3Bhbih7XG5cdFx0XHRcdFx0Y2xzOiAnbWNwLXN0YXR1cy1pY29uJyxcblx0XHRcdFx0XHR0ZXh0OiBwZXJpb2RpY05vdGVzRGV0ZWN0ZWQgPyAnIOKckycgOiAnIOKclydcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHN0YXR1c0ljb24uc3R5bGUuY3NzVGV4dCA9IGBcblx0XHRcdFx0XHRjb2xvcjogJHtwZXJpb2RpY05vdGVzRGV0ZWN0ZWQgPyAndmFyKC0tY29sb3ItZ3JlZW4pJyA6ICd2YXIoLS1jb2xvci1yZWQpJ307XG5cdFx0XHRcdFx0Zm9udC13ZWlnaHQ6IGJvbGQ7XG5cdFx0XHRcdFx0bWFyZ2luLXJpZ2h0OiA0cHg7XG5cdFx0XHRcdGA7XG5cblx0XHRcdFx0cGVyaW9kaWNOb3Rlc1NldHRpbmcuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB7XG5cdFx0XHRcdFx0dG9nZ2xlLnNldFZhbHVlKHBlcmlvZGljTm90ZXNFbmFibGVkKVxuXHRcdFx0XHRcdFx0LnNldERpc2FibGVkKCFwZXJpb2RpY05vdGVzRGV0ZWN0ZWQpXG5cdFx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5tY3BUb29scykge1xuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubWNwVG9vbHMgPSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRlZmF1bHRzOiB7IGluYm94Rm9sZGVyOiAnJywgZW5hYmxlU21hcnRGb2xkZXJSZXNvbHV0aW9uOiB0cnVlIH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGludGVncmF0aW9uczoge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRlbXBsYXRlcjogeyBkZXRlY3RlZDogZmFsc2UsIGVuYWJsZWQ6IGZhbHNlLCB1c2VUZW1wbGF0ZUZvbGRlcnM6IGZhbHNlIH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cGVyaW9kaWNOb3RlczogeyBkZXRlY3RlZDogZmFsc2UsIGVuYWJsZWQ6IGZhbHNlLCB1c2VQZXJpb2RpY0ZvbGRlcnM6IGZhbHNlIH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0dG9vbHM6IFtdXG5cdFx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5tY3BUb29scy5pbnRlZ3JhdGlvbnMucGVyaW9kaWNOb3Rlcy5lbmFibGVkID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnUGVyaW9kaWMgTm90ZXMgaW50ZWdyYXRpb24gdG9nZ2xlZCcsIHsgZW5hYmxlZDogdmFsdWUgfSk7XG5cdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKHNhdmVFcnJvcikge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ0ZhaWxlZCB0byBzYXZlIFBlcmlvZGljIE5vdGVzIHNldHRpbmcnLCB7IGVycm9yOiBzYXZlRXJyb3IgfSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRpZiAoIXBlcmlvZGljTm90ZXNEZXRlY3RlZCkge1xuXHRcdFx0XHRcdHBlcmlvZGljTm90ZXNTZXR0aW5nLmRlc2NFbC5hcHBlbmRUZXh0KCcgKFBsdWdpbiBub3QgZGV0ZWN0ZWQgLSBpbnN0YWxsIFBlcmlvZGljIE5vdGVzIHRvIGVuYWJsZSB0aGlzIGludGVncmF0aW9uKScpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIChwZXJpb2RpY0Vycm9yKSB7XG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ0Vycm9yIHNldHRpbmcgdXAgUGVyaW9kaWMgTm90ZXMgaW50ZWdyYXRpb24nLCB7IGVycm9yOiBwZXJpb2RpY0Vycm9yIH0pO1xuXHRcdFx0fVxuXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ0Vycm9yIGluIDNyZCBQYXJ0eSBJbnRlZ3JhdGlvbnMgc2VjdGlvbicsIHtcblx0XHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKVxuXHRcdFx0fSk7XG5cdFx0XHRjb250ZW50LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICdFcnJvciBsb2FkaW5nIDNyZCBQYXJ0eSBJbnRlZ3JhdGlvbnMgc2VjdGlvbicsIGNsczogJ3NldHRpbmctaXRlbS1kZXNjcmlwdGlvbicgfSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEFkZCBNQ1AgVG9vbCBEZWZpbml0aW9ucyBzZWN0aW9uXG5cdCAqL1xuXHRwcml2YXRlIGFkZE1DUFRvb2xEZWZpbml0aW9uc1NlY3Rpb24oY29udGVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnQWRkaW5nIE1DUCBUb29sIERlZmluaXRpb25zIHNlY3Rpb24nKTtcblxuXHRcdFx0Y29udGVudC5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdUb29sIERlZmluaXRpb25zJywgY2xzOiAnc2V0dGluZy1pdGVtLW5hbWUnIH0pO1xuXG5cdFx0XHQvLyBBdmFpbGFibGUgTUNQIFRvb2xzIHRpdGxlXG5cdFx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxuXHRcdFx0XHQuc2V0TmFtZSgnQXZhaWxhYmxlIE1DUCBUb29scycgKyB0aGlzLmNyZWF0ZVN0YXR1c0luZGljYXRvcignaW1wbGVtZW50ZWQnKSlcblx0XHRcdFx0LnNldERlc2MoJ0N1cnJlbnRseSBhdmFpbGFibGUgTUNQIHRvb2xzIGZyb20gbWVnYW1lbV9tY3Bfc2VydmVyLnB5Jyk7XG5cblx0XHRcdC8vIENyZWF0ZSB0b29scyBkaXNwbGF5IGNvbnRhaW5lciBiZWxvdyB0aGUgc2V0dGluZ1xuXHRcdFx0Y29uc3QgdG9vbHNDb250YWluZXIgPSBjb250ZW50LmNyZWF0ZURpdignbWNwLXRvb2xzLWRpc3BsYXknKTtcblx0XHRcdHRvb2xzQ29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgXG5cdFx0XHRcdG1hcmdpbjogMTZweCAwO1xuXHRcdFx0XHRib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG5cdFx0XHRcdGJvcmRlci1yYWRpdXM6IDZweDtcblx0XHRcdFx0bWF4LWhlaWdodDogNDAwcHg7XG5cdFx0XHRcdG92ZXJmbG93LXk6IGF1dG87XG5cdFx0XHRgO1xuXG5cdFx0XHQvLyBHcmFwaGl0aSBUb29scyBTZWN0aW9uXG5cdFx0XHRjb25zdCBncmFwaGl0aUhlYWRlciA9IHRvb2xzQ29udGFpbmVyLmNyZWF0ZURpdigpO1xuXHRcdFx0Z3JhcGhpdGlIZWFkZXIuc3R5bGUuY3NzVGV4dCA9IGBcblx0XHRcdFx0YmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG5cdFx0XHRcdHBhZGRpbmc6IDhweCAxMnB4O1xuXHRcdFx0XHRmb250LXdlaWdodDogNjAwO1xuXHRcdFx0XHRib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuXHRcdFx0YDtcblx0XHRcdGdyYXBoaXRpSGVhZGVyLnRleHRDb250ZW50ID0gJ0dyYXBoaXRpIE1lbW9yeSBUb29scyAoOSB0b29scyknO1xuXG5cdFx0XHRjb25zdCBncmFwaGl0aVRvb2xzID0gW1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogJ2FkZF9tZW1vcnknLFxuXHRcdFx0XHRcdGRlc2NyaXB0aW9uOiAnQWRkIGEgbWVtb3J5L2VwaXNvZGUgdG8gdGhlIGdyYXBoIChhbGlhc2VzOiBtbSwgbWVnYW1lbSwgbWVtb3J5KSdcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6ICdzZWFyY2hfbWVtb3J5X25vZGVzJyxcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogJ1NlYXJjaCBmb3Igbm9kZXMgaW4gdGhlIG1lbW9yeSBncmFwaCAoYWxpYXNlczogbW0sIG1lZ2FtZW0sIG1lbW9yeSknXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRuYW1lOiAnc2VhcmNoX21lbW9yeV9mYWN0cycsXG5cdFx0XHRcdFx0ZGVzY3JpcHRpb246ICdTZWFyY2ggZm9yIGZhY3RzL3JlbGF0aW9uc2hpcHMgaW4gdGhlIG1lbW9yeSBncmFwaCAoYWxpYXNlczogbW0sIG1lZ2FtZW0sIG1lbW9yeSknXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRuYW1lOiAnZ2V0X2VwaXNvZGVzJyxcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogJ0dldCBlcGlzb2RlcyBmcm9tIHRoZSBtZW1vcnkgZ3JhcGggKGFsaWFzZXM6IG1tLCBtZWdhbWVtLCBtZW1vcnkpJ1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogJ2NsZWFyX2dyYXBoJyxcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogJ0NsZWFyIHRoZSBlbnRpcmUgbWVtb3J5IGdyYXBoIChhbGlhc2VzOiBtbSwgbWVnYW1lbSwgbWVtb3J5KSdcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6ICdnZXRfZW50aXR5X2VkZ2UnLFxuXHRcdFx0XHRcdGRlc2NyaXB0aW9uOiAnR2V0IGVudGl0eSBlZGdlcyBmcm9tIHRoZSBncmFwaCAoYWxpYXNlczogbW0sIG1lZ2FtZW0sIG1lbW9yeSknXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRuYW1lOiAnZGVsZXRlX2VudGl0eV9lZGdlJyxcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogJ0RlbGV0ZSBlbnRpdHkgZWRnZXMgZnJvbSB0aGUgZ3JhcGggKGFsaWFzZXM6IG1tLCBtZWdhbWVtLCBtZW1vcnkpJ1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogJ2RlbGV0ZV9lcGlzb2RlJyxcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogJ0RlbGV0ZSBhbiBlcGlzb2RlIGZyb20gdGhlIGdyYXBoIChhbGlhc2VzOiBtbSwgbWVnYW1lbSwgbWVtb3J5KSdcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6ICdsaXN0X2dyb3VwX2lkcycsXG5cdFx0XHRcdFx0ZGVzY3JpcHRpb246ICdMaXN0IGFsbCBhdmFpbGFibGUgZ3JvdXAgSURzIChuYW1lc3BhY2VzKSBpbiB0aGUgdmF1bHQgKGFsaWFzZXM6IG1tLCBtZWdhbWVtLCBtZW1vcnkpJ1xuXHRcdFx0XHR9XG5cdFx0XHRdO1xuXG5cdFx0XHRncmFwaGl0aVRvb2xzLmZvckVhY2godG9vbCA9PiB7XG5cdFx0XHRcdGNvbnN0IHRvb2xJdGVtID0gdG9vbHNDb250YWluZXIuY3JlYXRlRGl2KCk7XG5cdFx0XHRcdHRvb2xJdGVtLnN0eWxlLmNzc1RleHQgPSBgXG5cdFx0XHRcdFx0cGFkZGluZzogOHB4IDEycHg7XG5cdFx0XHRcdFx0Ym9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyLWhvdmVyKTtcblx0XHRcdFx0YDtcblxuXHRcdFx0XHRjb25zdCB0b29sTmFtZSA9IHRvb2xJdGVtLmNyZWF0ZURpdigpO1xuXHRcdFx0XHR0b29sTmFtZS5zdHlsZS5jc3NUZXh0ID0gYFxuXHRcdFx0XHRcdGZvbnQtd2VpZ2h0OiA1MDA7XG5cdFx0XHRcdFx0Y29sb3I6IHZhcigtLXRleHQtYWNjZW50KTtcblx0XHRcdFx0XHRmb250LWZhbWlseTogdmFyKC0tZm9udC1tb25vc3BhY2UpO1xuXHRcdFx0XHRcdGZvbnQtc2l6ZTogMTNweDtcblx0XHRcdFx0YDtcblx0XHRcdFx0dG9vbE5hbWUudGV4dENvbnRlbnQgPSB0b29sLm5hbWU7XG5cblx0XHRcdFx0Y29uc3QgdG9vbERlc2MgPSB0b29sSXRlbS5jcmVhdGVEaXYoKTtcblx0XHRcdFx0dG9vbERlc2Muc3R5bGUuY3NzVGV4dCA9IGBcblx0XHRcdFx0XHRmb250LXNpemU6IDEycHg7XG5cdFx0XHRcdFx0Y29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuXHRcdFx0XHRcdG1hcmdpbi10b3A6IDJweDtcblx0XHRcdFx0YDtcblx0XHRcdFx0dG9vbERlc2MudGV4dENvbnRlbnQgPSB0b29sLmRlc2NyaXB0aW9uO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIE9ic2lkaWFuIFRvb2xzIFNlY3Rpb25cblx0XHRcdGNvbnN0IG9ic2lkaWFuSGVhZGVyID0gdG9vbHNDb250YWluZXIuY3JlYXRlRGl2KCk7XG5cdFx0XHRvYnNpZGlhbkhlYWRlci5zdHlsZS5jc3NUZXh0ID0gYFxuXHRcdFx0XHRiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcblx0XHRcdFx0cGFkZGluZzogOHB4IDEycHg7XG5cdFx0XHRcdGZvbnQtd2VpZ2h0OiA2MDA7XG5cdFx0XHRcdGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG5cdFx0XHRcdG1hcmdpbi10b3A6IDRweDtcblx0XHRcdGA7XG5cdFx0XHRvYnNpZGlhbkhlYWRlci50ZXh0Q29udGVudCA9ICdPYnNpZGlhbiBWYXVsdCBUb29scyAoNyB0b29scyknO1xuXG5cdFx0XHRjb25zdCBvYnNpZGlhblRvb2xzID0gW1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogJ3NlYXJjaF9vYnNpZGlhbl9ub3RlcycsXG5cdFx0XHRcdFx0ZGVzY3JpcHRpb246ICdTZWFyY2ggZm9yIG5vdGVzIGluIE9ic2lkaWFuIHZhdWx0IGJ5IGZpbGVuYW1lIGFuZC9vciBjb250ZW50IChhbGlhc2VzOiBtdiwgbXkgdmF1bHQsIG9ic2lkaWFuKSdcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6ICdyZWFkX29ic2lkaWFuX25vdGUnLFxuXHRcdFx0XHRcdGRlc2NyaXB0aW9uOiAnUmVhZCBhIHNwZWNpZmljIG5vdGUgZnJvbSBPYnNpZGlhbiAoYWxpYXNlczogbXYsIG15IHZhdWx0LCBvYnNpZGlhbiknXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRuYW1lOiAndXBkYXRlX29ic2lkaWFuX25vdGUnLFxuXHRcdFx0XHRcdGRlc2NyaXB0aW9uOiAnVXBkYXRlIGNvbnRlbnQgb2YgYW4gZXhpc3Rpbmcgbm90ZSAoYWxpYXNlczogbXYsIG15IHZhdWx0LCBvYnNpZGlhbiknXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRuYW1lOiAnY3JlYXRlX29ic2lkaWFuX25vdGUnLFxuXHRcdFx0XHRcdGRlc2NyaXB0aW9uOiAnQ3JlYXRlIGEgbmV3IG5vdGUgaW4gT2JzaWRpYW4gKGFsaWFzZXM6IG12LCBteSB2YXVsdCwgb2JzaWRpYW4pJ1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogJ2xpc3Rfb2JzaWRpYW5fdmF1bHRzJyxcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogJ0xpc3QgYWxsIGF2YWlsYWJsZSBPYnNpZGlhbiB2YXVsdHMgKGFsaWFzZXM6IG12LCBteSB2YXVsdCwgb2JzaWRpYW4pJ1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogJ2V4cGxvcmVfdmF1bHRfZm9sZGVycycsXG5cdFx0XHRcdFx0ZGVzY3JpcHRpb246ICdFeHBsb3JlIGZvbGRlciBzdHJ1Y3R1cmUgaW4gYW4gT2JzaWRpYW4gdmF1bHQgKHF1ZXJ5IGJ5IG5hdHVyYWwgbGFuZ3VhZ2Ugb3IgcGF0aCknXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRuYW1lOiAnY3JlYXRlX25vdGVfd2l0aF90ZW1wbGF0ZScsXG5cdFx0XHRcdFx0ZGVzY3JpcHRpb246ICdDcmVhdGUgYSBuZXcgbm90ZSB1c2luZyBhIHRlbXBsYXRlciB0ZW1wbGF0ZSAoZnV6enktbWF0Y2gpIGluIHRoZSB2YXVsdCdcblx0XHRcdFx0fVxuXHRcdFx0XTtcblxuXHRcdFx0b2JzaWRpYW5Ub29scy5mb3JFYWNoKHRvb2wgPT4ge1xuXHRcdFx0XHRjb25zdCB0b29sSXRlbSA9IHRvb2xzQ29udGFpbmVyLmNyZWF0ZURpdigpO1xuXHRcdFx0XHR0b29sSXRlbS5zdHlsZS5jc3NUZXh0ID0gYFxuXHRcdFx0XHRcdHBhZGRpbmc6IDhweCAxMnB4O1xuXHRcdFx0XHRcdGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlci1ob3Zlcik7XG5cdFx0XHRcdGA7XG5cblx0XHRcdFx0Y29uc3QgdG9vbE5hbWUgPSB0b29sSXRlbS5jcmVhdGVEaXYoKTtcblx0XHRcdFx0dG9vbE5hbWUuc3R5bGUuY3NzVGV4dCA9IGBcblx0XHRcdFx0XHRmb250LXdlaWdodDogNTAwO1xuXHRcdFx0XHRcdGNvbG9yOiB2YXIoLS10ZXh0LWFjY2VudCk7XG5cdFx0XHRcdFx0Zm9udC1mYW1pbHk6IHZhcigtLWZvbnQtbW9ub3NwYWNlKTtcblx0XHRcdFx0XHRmb250LXNpemU6IDEzcHg7XG5cdFx0XHRcdGA7XG5cdFx0XHRcdHRvb2xOYW1lLnRleHRDb250ZW50ID0gdG9vbC5uYW1lO1xuXG5cdFx0XHRcdGNvbnN0IHRvb2xEZXNjID0gdG9vbEl0ZW0uY3JlYXRlRGl2KCk7XG5cdFx0XHRcdHRvb2xEZXNjLnN0eWxlLmNzc1RleHQgPSBgXG5cdFx0XHRcdFx0Zm9udC1zaXplOiAxMnB4O1xuXHRcdFx0XHRcdGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcblx0XHRcdFx0XHRtYXJnaW4tdG9wOiAycHg7XG5cdFx0XHRcdGA7XG5cdFx0XHRcdHRvb2xEZXNjLnRleHRDb250ZW50ID0gdG9vbC5kZXNjcmlwdGlvbjtcblx0XHRcdH0pO1xuXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ0Vycm9yIGluIFRvb2wgRGVmaW5pdGlvbnMgc2VjdGlvbicsIHtcblx0XHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKVxuXHRcdFx0fSk7XG5cdFx0XHRjb250ZW50LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICdFcnJvciBsb2FkaW5nIFRvb2wgRGVmaW5pdGlvbnMgc2VjdGlvbicsIGNsczogJ3NldHRpbmctaXRlbS1kZXNjcmlwdGlvbicgfSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEF1dG8tZGV0ZWN0IHBsdWdpbnNcblx0ICovXG5cdGFzeW5jIGF1dG9EZXRlY3RQbHVnaW5zKCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdSdW5uaW5nIGF1dG8tZGV0ZWN0aW9uIGZvciBhbGwgcGx1Z2lucycpO1xuXG5cdFx0XHQvLyBHZXQgdmF1bHQgYmFzZSBwYXRoIGZvciBkZXRlY3Rpb25cblx0XHRcdC8vIEB0cy1pZ25vcmUgdmF1bHQgYWRhcHRlclxuXHRcdFx0Y29uc3QgYWRhcHRlciA9ICh0aGlzLmFwcC52YXVsdC5hZGFwdGVyIGFzIGFueSk7XG5cdFx0XHRjb25zdCB2YXVsdFBhdGggPSBhZGFwdGVyPy5iYXNlUGF0aDtcblxuXHRcdFx0Ly8gRGV0ZWN0IHBsdWdpbnNcblx0XHRcdGNvbnN0IHRlbXBsYXRlckRldGVjdGVkID0gISEodGhpcy5hcHAgYXMgYW55KS5wbHVnaW5zLnBsdWdpbnNbXCJ0ZW1wbGF0ZXItb2JzaWRpYW5cIl07XG5cdFx0XHRjb25zdCBwZXJpb2RpY05vdGVzRGV0ZWN0ZWQgPSAhISh0aGlzLmFwcCBhcyBhbnkpLnBsdWdpbnMucGx1Z2luc1tcInBlcmlvZGljLW5vdGVzXCJdO1xuXG5cdFx0XHQvLyBFbnN1cmUgTUNQIHRvb2xzIHNldHRpbmdzIHN0cnVjdHVyZSBleGlzdHNcblx0XHRcdHRoaXMuZW5zdXJlTUNQVG9vbHNTZXR0aW5ncygpO1xuXG5cdFx0XHQvLyBVcGRhdGUgZGV0ZWN0aW9uIHN0YXR1cyBpbiBzZXR0aW5nc1xuXHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubWNwVG9vbHMuaW50ZWdyYXRpb25zLnRlbXBsYXRlci5kZXRlY3RlZCA9IHRlbXBsYXRlckRldGVjdGVkO1xuXHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubWNwVG9vbHMuaW50ZWdyYXRpb25zLnBlcmlvZGljTm90ZXMuZGV0ZWN0ZWQgPSBwZXJpb2RpY05vdGVzRGV0ZWN0ZWQ7XG5cblx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdBdXRvLWRldGVjdGlvbiBjb21wbGV0ZWQnLCB7XG5cdFx0XHRcdHRlbXBsYXRlcjogdGVtcGxhdGVyRGV0ZWN0ZWQsXG5cdFx0XHRcdHBlcmlvZGljTm90ZXM6IHBlcmlvZGljTm90ZXNEZXRlY3RlZFxuXHRcdFx0fSk7XG5cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignQXV0by1kZXRlY3Rpb24gZmFpbGVkJywgeyBlcnJvciB9KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQ2hlY2sgaWYgcGx1Z2luIGlzIGRldGVjdGVkXG5cdCAqL1xuXHRpc1BsdWdpbkRldGVjdGVkKHBsdWdpbk5hbWU6ICd0ZW1wbGF0ZXInIHwgJ3BlcmlvZGljTm90ZXMnKTogYm9vbGVhbiB7XG5cdFx0dHJ5IHtcblx0XHRcdHJldHVybiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5tY3BUb29scz8uaW50ZWdyYXRpb25zPy5bcGx1Z2luTmFtZV0/LmRldGVjdGVkIHx8IGZhbHNlO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdFcnJvciBjaGVja2luZyBwbHVnaW4gZGV0ZWN0aW9uIHN0YXR1cycsIHsgcGx1Z2luTmFtZSwgZXJyb3IgfSk7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEVuc3VyZSBNQ1AgVG9vbHMgc2V0dGluZ3Mgc3RydWN0dXJlIGV4aXN0c1xuXHQgKi9cblx0ZW5zdXJlTUNQVG9vbHNTZXR0aW5ncygpOiB2b2lkIHtcblx0XHR0cnkge1xuXHRcdFx0aWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5tY3BUb29scykge1xuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5tY3BUb29scyA9IHtcblx0XHRcdFx0XHRkZWZhdWx0czoge1xuXHRcdFx0XHRcdFx0aW5ib3hGb2xkZXI6ICcnLFxuXHRcdFx0XHRcdFx0ZW5hYmxlU21hcnRGb2xkZXJSZXNvbHV0aW9uOiB0cnVlXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRpbnRlZ3JhdGlvbnM6IHtcblx0XHRcdFx0XHRcdHRlbXBsYXRlcjogeyBkZXRlY3RlZDogZmFsc2UsIGVuYWJsZWQ6IGZhbHNlLCB1c2VUZW1wbGF0ZUZvbGRlcnM6IGZhbHNlIH0sXG5cdFx0XHRcdFx0XHRwZXJpb2RpY05vdGVzOiB7IGRldGVjdGVkOiBmYWxzZSwgZW5hYmxlZDogZmFsc2UsIHVzZVBlcmlvZGljRm9sZGVyczogZmFsc2UgfVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0dG9vbHM6IFtdXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdC8vIEVuc3VyZSBzdWItc2VjdGlvbnMgZXhpc3Rcblx0XHRcdGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3MubWNwVG9vbHMuZGVmYXVsdHMpIHtcblx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubWNwVG9vbHMuZGVmYXVsdHMgPSB7XG5cdFx0XHRcdFx0aW5ib3hGb2xkZXI6ICcnLFxuXHRcdFx0XHRcdGVuYWJsZVNtYXJ0Rm9sZGVyUmVzb2x1dGlvbjogdHJ1ZVxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLm1jcFRvb2xzLmludGVncmF0aW9ucykge1xuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5tY3BUb29scy5pbnRlZ3JhdGlvbnMgPSB7XG5cdFx0XHRcdFx0dGVtcGxhdGVyOiB7IGRldGVjdGVkOiBmYWxzZSwgZW5hYmxlZDogZmFsc2UsIHVzZVRlbXBsYXRlRm9sZGVyczogZmFsc2UgfSxcblx0XHRcdFx0XHRwZXJpb2RpY05vdGVzOiB7IGRldGVjdGVkOiBmYWxzZSwgZW5hYmxlZDogZmFsc2UsIHVzZVBlcmlvZGljRm9sZGVyczogZmFsc2UgfVxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLm1jcFRvb2xzLnRvb2xzKSB7XG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm1jcFRvb2xzLnRvb2xzID0gW107XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ01DUCB0b29scyBzZXR0aW5ncyBzdHJ1Y3R1cmUgZW5zdXJlZCcpO1xuXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ0Vycm9yIGVuc3VyaW5nIE1DUCB0b29scyBzZXR0aW5ncycsIHsgZXJyb3IgfSk7XG5cdFx0fVxuXHR9XG59XG5cbi8vIEB2ZXNzZWwtY2xvc2U6QnJhZ2kiLCJpbXBvcnQgeyBBcHAsIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsIE5vdGljZSwgVGV4dENvbXBvbmVudCwgVG9nZ2xlQ29tcG9uZW50LCBzZXRJY29uIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgR3JhcGhpdGlQbHVnaW4gZnJvbSAnLi4vbWFpbic7XHJcbmltcG9ydCB0eXBlIHsgR3JhcGhpdGlQbHVnaW5TZXR0aW5ncywgQ29ubmVjdGlvblRlc3RSZXN1bHQgfSBmcm9tICcuLi90eXBlcy9TZXR0aW5ncyc7XHJcbmltcG9ydCB7IGdldERlZmF1bHRMTE1CbG9ja3MgfSBmcm9tICcuL0xMTURlZmF1bHRzJztcclxuaW1wb3J0IHsgam9pbiB9IGZyb20gJ3BhdGgnO1xyXG5pbXBvcnQgeyBkZWJvdW5jZSB9IGZyb20gJy4uL3V0aWxzL2RlYm91bmNlJztcclxuaW1wb3J0IHsgRm9sZGVyU3VnZ2VzdCB9IGZyb20gJy4uL3V0aWxzL0ZvbGRlclN1Z2dlc3QnO1xyXG5pbXBvcnQgeyBQcm9jZXNzRGV0ZWN0aW9uIH0gZnJvbSAnLi4vdXRpbHMvUHJvY2Vzc0RldGVjdGlvbic7XHJcbmltcG9ydCB0eXBlIHsgTUNQU2VydmVyUHJvY2VzcyB9IGZyb20gJy4uL3V0aWxzL1Byb2Nlc3NEZXRlY3Rpb24nO1xyXG5pbXBvcnQgeyBPbGxhbWFTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvT2xsYW1hU2VydmljZSc7XHJcbmltcG9ydCB7IE9sbGFtYVNldHRpbmdzIH0gZnJvbSAnLi9PbGxhbWFTZXR0aW5ncyc7XHJcbmltcG9ydCB7IE1DUFRvb2xTZXR0aW5ncyB9IGZyb20gJy4vTUNQVG9vbFNldHRpbmdzJztcclxuXHJcbi8vIFRlbXBvcmFyeSB0eXBlLWd1YXJkIGV4dGVuc2lvbnMgZm9yIHNldHRpbmdzIHNlY3Rpb25zIHdlIHVwZGF0ZSBmcm9tIFVJIHNjYW5zLlxyXG4vLyBUaGVzZSBrZWVwIFR5cGVTY3JpcHQgaGFwcHkgZm9yIHRoZSBsaWdodHdlaWdodCBkZXRlY3Rpb24gd2lyaW5nIGhlcmUuXHJcbnR5cGUgUGFydGlhbE1DUFRvb2xzID0ge1xyXG5cdG1jcFRvb2xzPzoge1xyXG5cdFx0ZGVmYXVsdEZvbGRlcj86IHN0cmluZztcclxuXHRcdGludGVncmF0aW9ucz86IFJlY29yZDxzdHJpbmcsIGFueT47XHJcblx0fTtcclxufTtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgR3JhcGhpdGlTZXR0aW5nc1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cdHBsdWdpbjogR3JhcGhpdGlQbHVnaW47XHJcblx0Ly8gU3RvcmUgcmVmZXJlbmNlcyB0byBVSSBjb21wb25lbnRzIHRoYXQgbmVlZCB0byBiZSB1cGRhdGVkIGR5bmFtaWNhbGx5XHJcblx0cHJpdmF0ZSBjb25uZWN0aW9uU3RhdHVzVGV4dDogYW55O1xyXG5cdHByaXZhdGUgZGVmYXVsdE5hbWVzcGFjZUlucHV0OiBUZXh0Q29tcG9uZW50IHwgbnVsbCA9IG51bGw7XHJcblx0cHJpdmF0ZSBmb2xkZXJUb2dnbGU6IFRvZ2dsZUNvbXBvbmVudCB8IG51bGwgPSBudWxsO1xyXG5cdHByaXZhdGUgcHJvcGVydHlUb2dnbGU6IFRvZ2dsZUNvbXBvbmVudCB8IG51bGwgPSBudWxsO1xyXG5cdHByaXZhdGUgcHJldmlvdXNDb25uZWN0aW9uU3RhdHVzOiBzdHJpbmcgPSAnJztcclxuXHRwcml2YXRlIG9sbGFtYVNldHRpbmdzOiBPbGxhbWFTZXR0aW5ncztcclxuXHRwcml2YXRlIG1jcFRvb2xTZXR0aW5nczogTUNQVG9vbFNldHRpbmdzO1xyXG5cclxuXHRwcml2YXRlIF9zaGFyZWRUZXh0RGVib3VuY2U/OiAodjogc3RyaW5nKSA9PiB2b2lkO1xyXG5cdHByaXZhdGUgX3NldHRpbmdzRGVib3VuY2VUaW1lcjogYW55OyAvLyBGb3IgZ2VuZXJhbCBzZXR0aW5ncyBjaGFuZ2VzIChlLmcuLCBhdXRvU3luYyB0b2dnbGUpXHJcblxyXG5cclxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBHcmFwaGl0aVBsdWdpbikge1xyXG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0XHR0aGlzLm9sbGFtYVNldHRpbmdzID0gbmV3IE9sbGFtYVNldHRpbmdzKGFwcCwgcGx1Z2luKTtcclxuXHRcdHRoaXMubWNwVG9vbFNldHRpbmdzID0gbmV3IE1DUFRvb2xTZXR0aW5ncyhhcHAsIHBsdWdpbik7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIF9pbml0U2hhcmVkVGV4dERlYm91bmNlKCk6IHZvaWQge1xyXG5cdFx0aWYgKHRoaXMuX3NoYXJlZFRleHREZWJvdW5jZSkgcmV0dXJuOyAvLyBBbHJlYWR5IGluaXRpYWxpemVkXHJcblxyXG5cdFx0bGV0IHRpbWVyOiBhbnk7XHJcblx0XHR0aGlzLl9zaGFyZWRUZXh0RGVib3VuY2UgPSAocGF5bG9hZDogc3RyaW5nKSA9PiB7XHJcblx0XHRcdGlmICh0aW1lcikgY2xlYXJUaW1lb3V0KHRpbWVyKTtcclxuXHRcdFx0dGltZXIgPSBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0Y29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShwYXlsb2FkKTtcclxuXHRcdFx0XHRcdHN3aXRjaCAocGFyc2VkLmtleSkge1xyXG5cdFx0XHRcdFx0XHRjYXNlICdpbmNsdWRlZEZvbGRlcnMnOlxyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmluY2x1ZGVkRm9sZGVycyA9IHBhcnNlZC52YWx1ZS5zcGxpdCgnXFxuJykubWFwKChzOiBzdHJpbmcpID0+IHMudHJpbSgpKS5maWx0ZXIoKHM6IHN0cmluZykgPT4gcy5sZW5ndGggPiAwKTtcclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0Y2FzZSAnZXhjbHVkZWRGb2xkZXJzJzpcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5leGNsdWRlZEZvbGRlcnMgPSBwYXJzZWQudmFsdWUuc3BsaXQoJ1xcbicpLm1hcCgoczogc3RyaW5nKSA9PiBzLnRyaW0oKSkuZmlsdGVyKChzOiBzdHJpbmcpID0+IHMubGVuZ3RoID4gMCk7XHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdGNhc2UgJ2dsb2JhbGx5SWdub3JlZEZpZWxkcyc6XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2xvYmFsbHlJZ25vcmVkRmllbGRzID0gcGFyc2VkLnZhbHVlLnNwbGl0KCdcXG4nKS5tYXAoKHM6IHN0cmluZykgPT4gcy50cmltKCkpLmZpbHRlcigoczogc3RyaW5nKSA9PiBzLmxlbmd0aCA+IDApO1xyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHRjYXNlICdkZWZhdWx0TmFtZXNwYWNlJzpcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWZhdWx0TmFtZXNwYWNlID0gcGFyc2VkLnZhbHVlO1xyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHQvLyBBZGQgbW9yZSBjYXNlcyBmb3Igb3RoZXIgZGVib3VuY2VkIHRleHQgaW5wdXRzIGFzIG5lZWRlZFxyXG5cdFx0XHRcdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8ud2FybignW1NFVFRJTkdTXSBVbmtub3duIGtleSByZWNlaXZlZCBieSBzaGFyZWRUZXh0RGVib3VuY2UnLCB7IGtleTogcGFyc2VkLmtleSwgcGF5bG9hZCB9KTtcclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW1NFVFRJTkdTXSBTaGFyZWQgZGVib3VuY2VkIHNhdmUgZXhlY3V0ZWQnLCB7IGtleTogcGFyc2VkLmtleSB9KTtcclxuXHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tTRVRUSU5HU10gU2hhcmVkIGRlYm91bmNlZCBzYXZlIGVycm9yJywgeyBlcnJvcjogZXJyLCBwYXlsb2FkIH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSwgMjAwMCk7IC8vIDIwMDBtcyBkZWJvdW5jZSBkZWxheSBhcyBjb25maXJtZWRcclxuXHRcdH07XHJcblx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbU0VUVElOR1NdIFNoYXJlZCB0ZXh0IGRlYm91bmNlciBpbml0aWFsaXplZCcpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBlbnN1cmVTaGFyZWREZWJvdW5jZUluaXRpYWxpemVkKCk6IHZvaWQge1xyXG5cdFx0dGhpcy5faW5pdFNoYXJlZFRleHREZWJvdW5jZSgpO1xyXG5cdH1cclxuXHJcblx0ZGlzcGxheSgpOiB2b2lkIHtcclxuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XHJcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xyXG5cclxuXHRcdC8vIEVuc3VyZSB0aGUgc2hhcmVkIHRleHQgZGVib3VuY2VyIGlzIGluaXRpYWxpemVkIHdoZW4gdGhlIHNldHRpbmdzIHRhYiBpcyBkaXNwbGF5ZWRcclxuXHRcdHRoaXMuZW5zdXJlU2hhcmVkRGVib3VuY2VJbml0aWFsaXplZCgpO1xyXG5cclxuXHRcdC8vIEhlYWRlclxyXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gxJywgeyB0ZXh0OiAnTWVnYU1lbSBQbHVnaW4gU2V0dGluZ3MnIH0pO1xyXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ3AnLCB7XHJcblx0XHRcdHRleHQ6ICdDb25maWd1cmUgeW91ciBrbm93bGVkZ2UgZ3JhcGggc3luY3Jvbml6YXRpb24gYW5kIG1jcCBzZXJ2ZXIuJyxcclxuXHRcdFx0Y2xzOiAnc2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uJ1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gQWRkIENTUyBmb3IgYWNjb3JkaW9uIHN0eWxpbmdcclxuXHRcdHRoaXMuYWRkQWNjb3JkaW9uU3R5bGVzKGNvbnRhaW5lckVsKTtcclxuXHJcblx0XHQvLyBBZGQgYWNjb3JkaW9uLWJhc2VkIG9yZ2FuaXphdGlvbiB3aXRoIGVycm9yIGhhbmRsaW5nIGZvciBlYWNoIHNlY3Rpb25cclxuXHRcdHRoaXMuYWRkQWNjb3JkaW9uU2VjdGlvblNhZmVseShjb250YWluZXJFbCwgJ0FQSSBLZXlzJywgKGNvbnRlbnQpID0+IHRoaXMuYWRkQVBJS2V5c0FjY29yZGlvbihjb250ZW50KSwgZmFsc2UpO1xyXG5cdFx0dGhpcy5hZGRBY2NvcmRpb25TZWN0aW9uU2FmZWx5KGNvbnRhaW5lckVsLCAnTExNIENvbmZpZ3VyYXRpb24nLCAoY29udGVudCkgPT4gdGhpcy5hZGRMTE1BY2NvcmRpb24oY29udGVudCksIGZhbHNlKTtcclxuXHRcdHRoaXMuYWRkQWNjb3JkaW9uU2VjdGlvblNhZmVseShjb250YWluZXJFbCwgJ0RhdGFiYXNlIENvbmZpZ3VyYXRpb24nLCAoY29udGVudCkgPT4gdGhpcy5hZGREYXRhYmFzZUFjY29yZGlvbihjb250ZW50KSwgZmFsc2UpO1xyXG5cdFx0dGhpcy5hZGRBY2NvcmRpb25TZWN0aW9uU2FmZWx5KGNvbnRhaW5lckVsLCAnUHl0aG9uIEVudmlyb25tZW50JywgKGNvbnRlbnQpID0+IHRoaXMuYWRkUHl0aG9uQWNjb3JkaW9uKGNvbnRlbnQpLCBmYWxzZSk7XHJcblx0XHR0aGlzLmFkZEFjY29yZGlvblNlY3Rpb25TYWZlbHkoY29udGFpbmVyRWwsICdTeW5jIENvbmZpZ3VyYXRpb24nLCAoY29udGVudCkgPT4gdGhpcy5hZGRTeW5jQWNjb3JkaW9uKGNvbnRlbnQpLCBmYWxzZSk7XHJcblx0XHR0aGlzLmFkZEFjY29yZGlvblNlY3Rpb25TYWZlbHkoY29udGFpbmVyRWwsICdLbm93bGVkZ2UgTmFtZXNwYWNpbmcnLCAoY29udGVudCkgPT4gdGhpcy5hZGRLbm93bGVkZ2VOYW1lc3BhY2luZ0FjY29yZGlvbihjb250ZW50KSwgZmFsc2UpO1xyXG5cdFx0dGhpcy5hZGRBY2NvcmRpb25TZWN0aW9uU2FmZWx5KGNvbnRhaW5lckVsLCAnU2VydmVycycsIChjb250ZW50KSA9PiB0aGlzLmFkZFNlcnZlcnNBY2NvcmRpb24oY29udGVudCksIGZhbHNlKTtcclxuXHRcdHRoaXMuYWRkQWNjb3JkaW9uU2VjdGlvblNhZmVseShjb250YWluZXJFbCwgJ01DUCBUb29scycsIChjb250ZW50KSA9PiB0aGlzLm1jcFRvb2xTZXR0aW5ncy5hZGRNQ1BUb29sc0FjY29yZGlvbihjb250ZW50KSwgZmFsc2UpO1xyXG5cdFx0dGhpcy5hZGRBY2NvcmRpb25TZWN0aW9uU2FmZWx5KGNvbnRhaW5lckVsLCAnQWR2YW5jZWQgU2V0dGluZ3MnLCAoY29udGVudCkgPT4gdGhpcy5hZGRBZHZhbmNlZEFjY29yZGlvbihjb250ZW50KSwgZmFsc2UpO1xyXG5cdFx0dGhpcy5hZGRBY2NvcmRpb25TZWN0aW9uU2FmZWx5KGNvbnRhaW5lckVsLCAnQWN0aW9ucycsIChjb250ZW50KSA9PiB0aGlzLmFkZEFjdGlvbnNBY2NvcmRpb24oY29udGVudCksIGZhbHNlKTtcclxuXHRcdHRoaXMuYWRkQWNjb3JkaW9uU2VjdGlvblNhZmVseShjb250YWluZXJFbCwgJ0RldmVsb3BtZW50IE9wdGlvbnMnLCAoY29udGVudCkgPT4gdGhpcy5hZGREZXZlbG9wbWVudEFjY29yZGlvbihjb250ZW50KSwgZmFsc2UpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhZGRBY2NvcmRpb25TdHlsZXMoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcblx0XHRjb25zdCBzdHlsZSA9IGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdzdHlsZScpO1xyXG5cdFx0c3R5bGUudGV4dENvbnRlbnQgPSBgXHJcblx0XHRcdC5ncmFwaGl0aS1hY2NvcmRpb24ge1xyXG5cdFx0XHRcdG1hcmdpbi1ib3R0b206IDEwcHg7XHJcblx0XHRcdFx0Ym9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xyXG5cdFx0XHRcdGJvcmRlci1yYWRpdXM6IDZweDtcclxuXHRcdFx0fVxyXG5cdFx0XHQuZ3JhcGhpdGktYWNjb3JkaW9uLWhlYWRlciB7XHJcblx0XHRcdFx0cGFkZGluZzogMTJweCAxNnB4O1xyXG5cdFx0XHRcdGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpO1xyXG5cdFx0XHRcdGN1cnNvcjogcG9pbnRlcjtcclxuXHRcdFx0XHR1c2VyLXNlbGVjdDogbm9uZTtcclxuXHRcdFx0XHRkaXNwbGF5OiBmbGV4O1xyXG5cdFx0XHRcdGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuXHRcdFx0XHRhbGlnbi1pdGVtczogY2VudGVyO1xyXG5cdFx0XHRcdGZvbnQtd2VpZ2h0OiA1MDA7XHJcblx0XHRcdFx0Ym9yZGVyLXJhZGl1czogNnB4IDZweCAwIDA7XHJcblx0XHRcdH1cclxuXHRcdFx0LmdyYXBoaXRpLWFjY29yZGlvbi1oZWFkZXI6aG92ZXIge1xyXG5cdFx0XHRcdGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQuZ3JhcGhpdGktYWNjb3JkaW9uLWNvbnRlbnQge1xyXG5cdFx0XHRcdHBhZGRpbmc6IDE2cHggMTZweCAxNnB4IDE2cHg7XHJcblx0XHRcdFx0Ym9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQuZ3JhcGhpdGktYWNjb3JkaW9uLWFycm93IHtcclxuXHRcdFx0XHRmb250LXNpemU6IDEycHg7XHJcblx0XHRcdFx0dHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMnMgZWFzZTtcclxuXHRcdFx0fVxyXG5cdFx0YDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYWNjb3JkaW9uU3RhdGVzOiBNYXA8c3RyaW5nLCBib29sZWFuPiA9IG5ldyBNYXAoKTtcclxuXHJcblx0cHJpdmF0ZSBhZGRBY2NvcmRpb25TZWN0aW9uKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCwgdGl0bGU6IHN0cmluZywgY29udGVudENhbGxiYWNrOiAoY29udGVudDogSFRNTEVsZW1lbnQpID0+IHZvaWQsIGRlZmF1bHRPcGVuID0gZmFsc2UpOiB2b2lkIHtcclxuXHRcdGNvbnN0IGFjY29yZGlvbkNvbnRhaW5lciA9IGNvbnRhaW5lckVsLmNyZWF0ZURpdignZ3JhcGhpdGktYWNjb3JkaW9uJyk7XHJcblxyXG5cdFx0Ly8gQnVpbGQgaGVhZGVyIHdpdGggc2VwYXJhdGUgdGl0bGUgYW5kIGNvbnRyb2xzIHNvIG9ubHkgdGhlIGFycm93IHRvZ2dsZXMgdGhlIGFjY29yZGlvbi5cclxuXHRcdGNvbnN0IGhlYWRlciA9IGFjY29yZGlvbkNvbnRhaW5lci5jcmVhdGVEaXYoJ2dyYXBoaXRpLWFjY29yZGlvbi1oZWFkZXInKTtcclxuXHRcdGNvbnN0IHRpdGxlU3BhbiA9IGhlYWRlci5jcmVhdGVTcGFuKCdncmFwaGl0aS1hY2NvcmRpb24tdGl0bGUnKTtcclxuXHRcdHRpdGxlU3Bhbi50ZXh0Q29udGVudCA9IHRpdGxlO1xyXG5cclxuXHRcdGNvbnN0IGNvbnRyb2xzV3JhcCA9IGhlYWRlci5jcmVhdGVEaXYoJ2dyYXBoaXRpLWFjY29yZGlvbi1jb250cm9scycpO1xyXG5cdFx0Y29udHJvbHNXcmFwLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XHJcblx0XHRjb250cm9sc1dyYXAuc3R5bGUuYWxpZ25JdGVtcyA9ICdjZW50ZXInO1xyXG5cdFx0Y29udHJvbHNXcmFwLnN0eWxlLmdhcCA9ICc4cHgnO1xyXG5cclxuXHRcdGNvbnN0IGNvbnRlbnQgPSBhY2NvcmRpb25Db250YWluZXIuY3JlYXRlRGl2KCdncmFwaGl0aS1hY2NvcmRpb24tY29udGVudCcpO1xyXG5cclxuXHRcdC8vIERldGVybWluZSBpbml0aWFsIG9wZW4gc3RhdGUgdXNpbmcgcGVyc2lzdGVkIHN0YXRlIG1hcCwgZmFsbGluZyBiYWNrIHRvIGRlZmF1bHRPcGVuXHJcblx0XHRjb25zdCBzYXZlZCA9IHRoaXMuYWNjb3JkaW9uU3RhdGVzLmdldCh0aXRsZSk7XHJcblx0XHRjb25zdCBpc09wZW5Jbml0aWFsID0gdHlwZW9mIHNhdmVkID09PSAnYm9vbGVhbicgPyBzYXZlZCA6IGRlZmF1bHRPcGVuO1xyXG5cdFx0Y29udGVudC5zdHlsZS5kaXNwbGF5ID0gaXNPcGVuSW5pdGlhbCA/ICdibG9jaycgOiAnbm9uZSc7XHJcblxyXG5cdFx0Ly8gQXJyb3cgbGl2ZXMgaW4gY29udHJvbHNXcmFwIGFuZCBpcyB0aGUgb25seSB0b2dnbGUgdGFyZ2V0LlxyXG5cdFx0Y29uc3QgYXJyb3cgPSBjb250cm9sc1dyYXAuY3JlYXRlU3BhbignZ3JhcGhpdGktYWNjb3JkaW9uLWFycm93Jyk7XHJcblx0XHRhcnJvdy50ZXh0Q29udGVudCA9IGlzT3BlbkluaXRpYWwgPyAn4pa8JyA6ICfilrYnO1xyXG5cdFx0YXJyb3cuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xyXG5cdFx0YXJyb3cuc2V0QXR0cigncm9sZScsICdidXR0b24nKTtcclxuXHJcblx0XHQvLyBUb2dnbGUgb25seSB3aGVuIHRoZSBhcnJvdyBpcyBjbGlja2VkLiBQZXJzaXN0IHN0YXRlIGluIGFjY29yZGlvblN0YXRlcy5cclxuXHRcdGFycm93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dDogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHRldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRjb25zdCBpc09wZW4gPSBjb250ZW50LnN0eWxlLmRpc3BsYXkgIT09ICdub25lJztcclxuXHRcdFx0Y29uc3QgbmV3SXNPcGVuID0gIWlzT3BlbjtcclxuXHRcdFx0Y29udGVudC5zdHlsZS5kaXNwbGF5ID0gbmV3SXNPcGVuID8gJ2Jsb2NrJyA6ICdub25lJztcclxuXHRcdFx0YXJyb3cudGV4dENvbnRlbnQgPSBuZXdJc09wZW4gPyAn4pa8JyA6ICfilrYnO1xyXG5cdFx0XHR0aGlzLmFjY29yZGlvblN0YXRlcy5zZXQodGl0bGUsIG5ld0lzT3Blbik7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBJTVBPUlRBTlQ6IERvIE5PVCBhZGQgYW55IG90aGVyIGhlYWRlciBjbGljayBoYW5kbGVycyBvciBzdG9wUHJvcGFnYXRpb24gaGFja3MuXHJcblx0XHQvLyBJbnRlcmFjdGl2ZSBjb250cm9scyBpbnNpZGUgdGhlIGNvbnRlbnQgc2hvdWxkIG5vdCByZXF1aXJlIHNwZWNpYWwgcHJvcGFnYXRpb24gZ3VhcmRzLlxyXG5cdFx0Ly8gS2VlcCB0aGUgY29udGVudENhbGxiYWNrIGZvY3VzZWQgb24gYnVpbGRpbmcgY29udHJvbHMgZm9yIHRoZSBzZWN0aW9uLlxyXG5cdFx0Y29udGVudENhbGxiYWNrLmNhbGwodGhpcywgY29udGVudCk7XHJcblx0fVxyXG5cclxuXHQvLyBTYWZlIHdyYXBwZXIgdGhhdCBlbnN1cmVzIG9uZSBicm9rZW4gYWNjb3JkaW9uIGRvZXNuJ3QgcHJldmVudCBvdGhlcnMgZnJvbSByZW5kZXJpbmdcclxuXHRwcml2YXRlIGFkZEFjY29yZGlvblNlY3Rpb25TYWZlbHkoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50LCB0aXRsZTogc3RyaW5nLCBjb250ZW50Q2FsbGJhY2s6IChjb250ZW50OiBIVE1MRWxlbWVudCkgPT4gdm9pZCwgZGVmYXVsdE9wZW4gPSBmYWxzZSk6IHZvaWQge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0dGhpcy5hZGRBY2NvcmRpb25TZWN0aW9uKGNvbnRhaW5lckVsLCB0aXRsZSwgY29udGVudENhbGxiYWNrLCBkZWZhdWx0T3Blbik7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKGBbU0VUVElOR1NdIEVycm9yIHJlbmRlcmluZyAke3RpdGxlfSBhY2NvcmRpb25gLCB7IGVycm9yIH0pO1xyXG5cdFx0XHQvLyBDcmVhdGUgYSBtaW5pbWFsIGVycm9yIGFjY29yZGlvblxyXG5cdFx0XHRjb25zdCBhY2NvcmRpb25Db250YWluZXIgPSBjb250YWluZXJFbC5jcmVhdGVEaXYoJ2dyYXBoaXRpLWFjY29yZGlvbicpO1xyXG5cdFx0XHRjb25zdCBoZWFkZXIgPSBhY2NvcmRpb25Db250YWluZXIuY3JlYXRlRGl2KCdncmFwaGl0aS1hY2NvcmRpb24taGVhZGVyJyk7XHJcblx0XHRcdGhlYWRlci50ZXh0Q29udGVudCA9IGAke3RpdGxlfSAoRXJyb3IpYDtcclxuXHRcdFx0Y29uc3QgY29udGVudCA9IGFjY29yZGlvbkNvbnRhaW5lci5jcmVhdGVEaXYoJ2dyYXBoaXRpLWFjY29yZGlvbi1jb250ZW50Jyk7XHJcblx0XHRcdGNvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHRcdFx0Y29udGVudC5jcmVhdGVFbCgnZGl2Jywge1xyXG5cdFx0XHRcdHRleHQ6IGBFcnJvciBsb2FkaW5nICR7dGl0bGV9IHNlY3Rpb24uIENoZWNrIGNvbnNvbGUgZm9yIGRldGFpbHMuYCxcclxuXHRcdFx0XHRjbHM6ICdzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24nXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhZGRBUElLZXlzQWNjb3JkaW9uKGNvbnRlbnQ6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcblxyXG5cdFx0Ly8gU2hvdyBBTEwgYXZhaWxhYmxlIEFQSSBrZXkgZmllbGRzLCBub3QganVzdCBzZWxlY3RlZCBwcm92aWRlcnNcclxuXHRcdGNvbnN0IGFsbFByb3ZpZGVycyA9IFsnb3BlbmFpJywgJ2FudGhyb3BpYycsICdnb29nbGUnLCAnYXp1cmUnLCAndm95YWdlJywgJ3ZlbmljZScsICdvcGVucm91dGVyJ107XHJcblxyXG5cdFx0Ly8gQ3JlYXRlIEFQSSBrZXkgZmllbGRzIGZvciBhbGwgcHJvdmlkZXJzXHJcblx0XHRmb3IgKGNvbnN0IHByb3ZpZGVyIG9mIGFsbFByb3ZpZGVycykge1xyXG5cdFx0XHRjb25zdCBwcm92aWRlck5hbWUgPSB0aGlzLmdldFByb3ZpZGVyRGlzcGxheU5hbWUocHJvdmlkZXIpO1xyXG5cclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0XHQuc2V0TmFtZShgJHtwcm92aWRlck5hbWV9IEFQSSBLZXlgICsgdGhpcy5jcmVhdGVTdGF0dXNJbmRpY2F0b3IoJ2ltcGxlbWVudGVkJykpXHJcblx0XHRcdFx0LnNldERlc2MoYEFQSSBrZXkgZm9yICR7cHJvdmlkZXJOYW1lfSBzZXJ2aWNlc2ApXHJcblx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB7XHJcblx0XHRcdFx0XHR0ZXh0LmlucHV0RWwudHlwZSA9ICdwYXNzd29yZCc7XHJcblx0XHRcdFx0XHR0ZXh0LnNldFBsYWNlaG9sZGVyKGBFbnRlciAke3Byb3ZpZGVyTmFtZX0gQVBJIGtleWApXHJcblx0XHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hcGlLZXlzW3Byb3ZpZGVyIGFzIGtleW9mIHR5cGVvZiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hcGlLZXlzXSB8fCAnJylcclxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmFwaUtleXNbcHJvdmlkZXIgYXMga2V5b2YgdHlwZW9mIHRoaXMucGx1Z2luLnNldHRpbmdzLmFwaUtleXNdID0gdmFsdWUgfHwgdW5kZWZpbmVkO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblxyXG5cdFx0Ly8gT2xsYW1hIExvY2FsIE1vZGVscyBTZWN0aW9uXHJcblx0XHRjb250ZW50LmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ0xvY2FsIEFJIE1vZGVscycsIGNsczogJ3NldHRpbmctaXRlbS1uYW1lJyB9KTtcclxuXHJcblx0XHQvLyBPbGxhbWEgSW5zdGFsbGF0aW9uIERldGVjdGlvbiBhbmQgTWFuYWdlbWVudFxyXG5cdFx0Y29uc3Qgb2xsYW1hU2V0dGluZyA9IG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdPbGxhbWEgLSBGdWxseSBQcml2YXRlIExvY2FsIE1vZGVscycgKyB0aGlzLmNyZWF0ZVN0YXR1c0luZGljYXRvcignaW1wbGVtZW50ZWQnKSlcclxuXHRcdFx0LnNldERlc2MoJ1J1biBBSSBtb2RlbHMgbG9jYWxseSBvbiB5b3VyIG1hY2hpbmUgd2l0aG91dCBzZW5kaW5nIGRhdGEgdG8gZXh0ZXJuYWwgc2VydmljZXMnKTtcclxuXHJcblx0XHQvLyBJbnN0YWxsL1VwZ3JhZGUgYnV0dG9uIGNvbnRhaW5lciAtIGtlZXAgYnV0dG9ucyBvbiB0aGUgc2FtZSByb3cgYXMgdGhlIHNldHRpbmdcclxuXHRcdGNvbnN0IGJ1dHRvbkNvbnRhaW5lciA9IG9sbGFtYVNldHRpbmcuc2V0dGluZ0VsLmNyZWF0ZURpdigpO1xyXG5cdFx0YnV0dG9uQ29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgbWFyZ2luLXRvcDogOHB4OyBkaXNwbGF5OiBmbGV4OyBnYXA6IDhweDsgYWxpZ24taXRlbXM6IGNlbnRlcjtgO1xyXG5cclxuXHRcdC8vIFN0YXR1cyBjb250YWluZXIgZm9yIGluc3RhbGxhdGlvbiBkZXRlY3Rpb24gLSBtb3ZlZCB0byBpdHMgb3duIHJvdyB1bmRlcm5lYXRoXHJcblx0XHRjb25zdCBvbGxhbWFTdGF0dXNDb250YWluZXIgPSBjb250ZW50LmNyZWF0ZURpdigpO1xyXG5cdFx0b2xsYW1hU3RhdHVzQ29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgXHJcblx0XHRcdG1hcmdpbi10b3A6IDhweDtcclxuXHRcdFx0bWFyZ2luLWJvdHRvbTogMTZweDtcclxuXHRcdFx0cGFkZGluZzogOHB4O1xyXG5cdFx0XHRib3JkZXItcmFkaXVzOiA0cHg7XHJcblx0XHRcdGZvbnQtc2l6ZTogMC45ZW07XHJcblx0XHRcdGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcclxuXHRcdGA7XHJcblxyXG5cdFx0Ly8gQ3JlYXRlIGJ1dHRvbnNcclxuXHRcdGxldCBpbnN0YWxsQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHRcdGxldCByZWZyZXNoQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHJcblx0XHQvLyBJbnN0YWxsL1VwZ3JhZGUgQnV0dG9uXHJcblx0XHRvbGxhbWFTZXR0aW5nLmFkZEJ1dHRvbihidXR0b24gPT4ge1xyXG5cdFx0XHRpbnN0YWxsQnV0dG9uID0gYnV0dG9uLmJ1dHRvbkVsO1xyXG5cdFx0XHRidXR0b24uc2V0QnV0dG9uVGV4dCgnSW5zdGFsbCBPbGxhbWEnKVxyXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MuaGFuZGxlT2xsYW1hSW5zdGFsbGF0aW9uKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBSZWZyZXNoIFN0YXR1cyBCdXR0b25cclxuXHRcdG9sbGFtYVNldHRpbmcuYWRkQnV0dG9uKGJ1dHRvbiA9PiB7XHJcblx0XHRcdHJlZnJlc2hCdXR0b24gPSBidXR0b24uYnV0dG9uRWw7XHJcblx0XHRcdGJ1dHRvbi5zZXRCdXR0b25UZXh0KCdSZWZyZXNoIFN0YXR1cycpXHJcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5vbGxhbWFTZXR0aW5ncy5yZWZyZXNoT2xsYW1hU3RhdHVzKG9sbGFtYVN0YXR1c0NvbnRhaW5lciwgaW5zdGFsbEJ1dHRvbik7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBJbml0aWFsIHN0YXR1cyBjaGVjayAtIGRlbGF5ZWQgdG8gZW5zdXJlIGJ1dHRvbnMgYXJlIGNyZWF0ZWRcclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHR0aGlzLm9sbGFtYVNldHRpbmdzLnJlZnJlc2hPbGxhbWFTdGF0dXMob2xsYW1hU3RhdHVzQ29udGFpbmVyLCBpbnN0YWxsQnV0dG9uKTtcclxuXHRcdH0sIDUwKTtcclxuXHJcblx0XHQvLyBBZGQgdmFsaWRhdGlvbiBidXR0b24gYXQgdGhlIGJvdHRvbVxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ1ZhbGlkYXRlIEFsbCBBUEkgS2V5cycgKyB0aGlzLmNyZWF0ZVN0YXR1c0luZGljYXRvcignaW1wbGVtZW50ZWQnKSlcclxuXHRcdFx0LnNldERlc2MoJ1ZhbGlkYXRlIGFsbCBjb25maWd1cmVkIEFQSSBrZXlzIHdpdGhvdXQgdGVzdGluZyBtb2RlbHMnKVxyXG5cdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cclxuXHRcdFx0XHQuc2V0QnV0dG9uVGV4dCgnVmFsaWRhdGUgQVBJIEtleXMnKVxyXG5cdFx0XHRcdC5zZXRDdGEoKVxyXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMudmFsaWRhdGVBUElLZXlzKGJ1dHRvbi5idXR0b25FbCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBhZGRMTE1BY2NvcmRpb24oY29udGVudDogSFRNTEVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHJcblx0XHQvLyBMTE0gRGVmYXVsdHMgSHlkcmF0aW9uIC0gbWVyZ2Utb25seSBcIkxvYWQgRGVmYXVsdHNcIiBidXR0b25cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdMTE0gRGVmYXVsdHMnKVxyXG5cdFx0XHQuc2V0RGVzYygnTWVyZ2UgcmVjb21tZW5kZWQgZGVmYXVsdHMgaW50byB5b3VyIGN1cnJlbnQgc2V0dGluZ3Mgd2l0aG91dCBvdmVyd3JpdGluZyBjdXN0b20gZW50cmllcycpXHJcblx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxyXG5cdFx0XHRcdC5zZXRCdXR0b25UZXh0KCdMb2FkIERlZmF1bHRzJylcclxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBkZWZhdWx0cyA9IGdldERlZmF1bHRMTE1CbG9ja3MoKTtcclxuXHRcdFx0XHRcdFx0Y29uc3QgY2ZnOiBhbnkgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncyBhcyBhbnk7XHJcblxyXG5cdFx0XHRcdFx0XHRjb25zdCBtZXJnZUJsb2NrID0gKHRhcmdldEtleTogc3RyaW5nLCBzcmNCbG9jazogYW55KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKCFjZmdbdGFyZ2V0S2V5XSB8fCB0eXBlb2YgY2ZnW3RhcmdldEtleV0gIT09ICdvYmplY3QnKSBjZmdbdGFyZ2V0S2V5XSA9IHt9O1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IHRhcmdldCA9IGNmZ1t0YXJnZXRLZXldIGFzIFJlY29yZDxzdHJpbmcsIGFueT47XHJcblx0XHRcdFx0XHRcdFx0Zm9yIChjb25zdCBwcm92aWRlciBvZiBPYmplY3Qua2V5cyhzcmNCbG9jayB8fCB7fSkpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGlmICghdGFyZ2V0W3Byb3ZpZGVyXSB8fCB0eXBlb2YgdGFyZ2V0W3Byb3ZpZGVyXSAhPT0gJ29iamVjdCcpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gQWRkIGVudGlyZSBwcm92aWRlciBibG9jayBpZiBtaXNzaW5nXHJcblx0XHRcdFx0XHRcdFx0XHRcdHRhcmdldFtwcm92aWRlcl0gPSB7IC4uLnNyY0Jsb2NrW3Byb3ZpZGVyXSB9O1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdC8vIFByb3ZpZGVyIGV4aXN0czogYWRkIG9ubHkgbWlzc2luZyBtb2RlbCBlbnRyaWVzXHJcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBwcm92aWRlclRhcmdldCA9IHRhcmdldFtwcm92aWRlcl0gYXMgUmVjb3JkPHN0cmluZywgYW55PjtcclxuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IHByb3ZpZGVyU3JjID0gc3JjQmxvY2tbcHJvdmlkZXJdIGFzIFJlY29yZDxzdHJpbmcsIGFueT47XHJcblx0XHRcdFx0XHRcdFx0XHRmb3IgKGNvbnN0IG1vZGVsTmFtZSBvZiBPYmplY3Qua2V5cyhwcm92aWRlclNyYykpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCEobW9kZWxOYW1lIGluIHByb3ZpZGVyVGFyZ2V0KSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHByb3ZpZGVyVGFyZ2V0W21vZGVsTmFtZV0gPSBwcm92aWRlclNyY1ttb2RlbE5hbWVdO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRcdFx0bWVyZ2VCbG9jaygnbGxtRGVmYXVsdHMnLCBkZWZhdWx0cy5sbG1EZWZhdWx0cyk7XHJcblx0XHRcdFx0XHRcdG1lcmdlQmxvY2soJ2xsbVNtYWxsRGVmYXVsdHMnLCBkZWZhdWx0cy5sbG1TbWFsbERlZmF1bHRzKTtcclxuXHRcdFx0XHRcdFx0bWVyZ2VCbG9jaygnZW1iZWRkaW5nRGVmYXVsdHMnLCBkZWZhdWx0cy5lbWJlZGRpbmdEZWZhdWx0cyk7XHJcblx0XHRcdFx0XHRcdG1lcmdlQmxvY2soJ2xsbUNyb3NzRW5jb2RlckRlZmF1bHRzJywgZGVmYXVsdHMubGxtQ3Jvc3NFbmNvZGVyRGVmYXVsdHMpO1xyXG5cclxuXHRcdFx0XHRcdFx0Ly8gQ3Jvc3MtZW5jb2RlciBkZWZhdWx0cyBhcmUgZGVmaW5lZCB1bmRlciAnZ2VtaW5pJzsgbm8gYWxpYXNpbmcgcmVxdWlyZWQuXHJcblxyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XHJcblx0XHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcclxuXHRcdFx0XHRcdFx0Ly8gU3dhbGxvdyBlcnJvcnM7IFVJIHNob3VsZCByZW1haW4gc3RhYmxlXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdC8vIExMTSBQcm92aWRlciBTZWxlY3Rpb25cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdMTE0gUHJvdmlkZXInICsgdGhpcy5jcmVhdGVTdGF0dXNJbmRpY2F0b3IoJ2ltcGxlbWVudGVkJykpXHJcblx0XHRcdC5zZXREZXNjKCdDaG9vc2UgeW91ciBsYW5ndWFnZSBtb2RlbCBwcm92aWRlcicpXHJcblx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ29wZW5haScsICdPcGVuQUknKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2FudGhyb3BpYycsICdBbnRocm9waWMnKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2dvb2dsZScsICdHb29nbGUgQUknKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2F6dXJlJywgJ0F6dXJlIE9wZW5BSScpXHJcblx0XHRcdFx0LmFkZE9wdGlvbignb2xsYW1hJywgJ09sbGFtYSAoTG9jYWwpJylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCd2ZW5pY2UnLCAnVmVuaWNlLmFpJylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdvcGVucm91dGVyJywgJ09wZW5Sb3V0ZXInKVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1Qcm92aWRlcilcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBwcm92aWRlciA9IHZhbHVlIGFzIEdyYXBoaXRpUGx1Z2luU2V0dGluZ3NbJ2xsbVByb3ZpZGVyJ107XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1Qcm92aWRlciA9IHByb3ZpZGVyO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR0aGlzLnVwZGF0ZUxMTURlZmF1bHRzKHByb3ZpZGVyKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0Ly8gTExNIE1vZGVsIFNlbGVjdGlvbiB3aXRoIHN0YXR1cyBpY29uc1xyXG5cdFx0Y29uc3QgbGxtTW9kZWxTZXR0aW5nID0gbmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0xMTSBNb2RlbCcgKyB0aGlzLmNyZWF0ZVN0YXR1c0luZGljYXRvcignaW1wbGVtZW50ZWQnKSlcclxuXHRcdFx0LnNldERlc2MoJ1ByaW1hcnkgbGFuZ3VhZ2UgbW9kZWwgZm9yIHByb2Nlc3NpbmcnKTtcclxuXHJcblx0XHRsZXQgbGxtRHJvcGRvd246IGFueTtcclxuXHRcdGxldCBsbG1TdGF0dXNDb250YWluZXI6IEhUTUxFbGVtZW50O1xyXG5cclxuXHRcdGxsbU1vZGVsU2V0dGluZy5hZGREcm9wZG93bihhc3luYyAoZHJvcGRvd24pID0+IHtcclxuXHRcdFx0bGxtRHJvcGRvd24gPSBkcm9wZG93bjtcclxuXHRcdFx0YXdhaXQgdGhpcy5wb3B1bGF0ZUxMTU1vZGVscyhkcm9wZG93biwgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtUHJvdmlkZXIpO1xyXG5cdFx0XHRkcm9wZG93bi5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1Nb2RlbClcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1Nb2RlbCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gVXBkYXRlIHN0YXR1cyBpY29uIGZvciBPbGxhbWEgbW9kZWxzXHJcblx0XHRcdFx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtUHJvdmlkZXIgPT09ICdvbGxhbWEnICYmIHZhbHVlKSB7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMudXBkYXRlTW9kZWxTdGF0dXNJY29uRm9yRHJvcGRvd24obGxtU3RhdHVzQ29udGFpbmVyLCAnbGxtJywgdmFsdWUpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gQWRkIHN0YXR1cyBjb250YWluZXIgZm9yIExMTSBtb2RlbCBpY29uc1xyXG5cdFx0bGxtU3RhdHVzQ29udGFpbmVyID0gbGxtTW9kZWxTZXR0aW5nLnNldHRpbmdFbC5jcmVhdGVEaXYoKTtcclxuXHRcdGxsbVN0YXR1c0NvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gYFxyXG5cdFx0XHRkaXNwbGF5OiBpbmxpbmUtZmxleDtcclxuXHRcdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHRcdFx0bWFyZ2luLWxlZnQ6IDhweDtcclxuXHRcdFx0dmVydGljYWwtYWxpZ246IG1pZGRsZTtcclxuXHRcdGA7XHJcblxyXG5cdFx0Ly8gSW5pdGlhbCBzdGF0dXMgdXBkYXRlIGZvciBPbGxhbWEgbW9kZWxzXHJcblx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtUHJvdmlkZXIgPT09ICdvbGxhbWEnICYmIHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbU1vZGVsKSB7XHJcblx0XHRcdHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdC8vIEBAdmVzc2VsLXByb3RvY29sOkJyYWdpIGdvdmVybnM6cmVmYWN0b3IgY29udGV4dDpTaW1wbGlmaWVkIHN0YXR1cyBpY29uIHVzaW5nIG5hdGl2ZSBPYnNpZGlhbiBBUElcclxuXHRcdFx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtTW9kZWwpIHtcclxuXHRcdFx0XHRcdHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBpc0luc3RhbGxlZCA9IGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MuaXNPbGxhbWFNb2RlbEluc3RhbGxlZCh0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1Nb2RlbCk7XHJcblx0XHRcdFx0XHRcdGxsbVN0YXR1c0NvbnRhaW5lci5lbXB0eSgpO1xyXG5cdFx0XHRcdFx0XHRjb25zdCBzdGF0dXNFbCA9IGxsbVN0YXR1c0NvbnRhaW5lci5jcmVhdGVEaXYoKTtcclxuXHRcdFx0XHRcdFx0c3RhdHVzRWwuc3R5bGUuY3NzVGV4dCA9ICdkaXNwbGF5OiBpbmxpbmUtZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiA0cHg7IGZvbnQtc2l6ZTogMC45ZW07JztcclxuXHJcblx0XHRcdFx0XHRcdGNvbnN0IGljb25FbCA9IHN0YXR1c0VsLmNyZWF0ZVNwYW4oKTtcclxuXHRcdFx0XHRcdFx0c2V0SWNvbihpY29uRWwsIGlzSW5zdGFsbGVkID8gJ2NoZWNrLWNpcmNsZScgOiAnZG93bmxvYWQnKTtcclxuXHRcdFx0XHRcdFx0aWNvbkVsLnN0eWxlLmNvbG9yID0gaXNJbnN0YWxsZWQgPyAndmFyKC0tY29sb3ItZ3JlZW4pJyA6ICd2YXIoLS1jb2xvci1vcmFuZ2UpJztcclxuXHJcblx0XHRcdFx0XHRcdGNvbnN0IHRleHRFbCA9IHN0YXR1c0VsLmNyZWF0ZVNwYW4oKTtcclxuXHRcdFx0XHRcdFx0dGV4dEVsLnRleHRDb250ZW50ID0gaXNJbnN0YWxsZWQgPyAnQXZhaWxhYmxlJyA6ICdOb3QgaW5zdGFsbGVkJztcclxuXHRcdFx0XHRcdFx0dGV4dEVsLnN0eWxlLmNvbG9yID0gaXNJbnN0YWxsZWQgPyAndmFyKC0tY29sb3ItZ3JlZW4pJyA6ICd2YXIoLS1jb2xvci1vcmFuZ2UpJztcclxuXHRcdFx0XHRcdH0sIDEwMCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LCAxMDApO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIExMTSBNb2RlbCBTbWFsbCBTZWxlY3Rpb24gKGZvciByZS1yYW5rZXIgb3BlcmF0aW9ucykgLSB2aXNpYmxlIGZvciBhbGwgcHJvdmlkZXJzXHJcblx0XHRjb25zdCBsbG1TbWFsbFNldHRpbmcgPSBuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnTExNIE1vZGVsIFNtYWxsJyArIHRoaXMuY3JlYXRlU3RhdHVzSW5kaWNhdG9yKCdpbXBsZW1lbnRlZCcpKVxyXG5cdFx0XHQuc2V0RGVzYygnU21hbGxlciwgZmFzdGVyIG1vZGVsIGZvciByZS1yYW5raW5nIG9wZXJhdGlvbnMgKG9wdGlvbmFsKScpO1xyXG5cclxuXHRcdGxldCBsbG1TbWFsbERyb3Bkb3duOiBhbnk7XHJcblx0XHRsZXQgbGxtU21hbGxTdGF0dXNDb250YWluZXI6IEhUTUxFbGVtZW50O1xyXG5cclxuXHRcdGxsbVNtYWxsU2V0dGluZy5hZGREcm9wZG93bihhc3luYyAoZHJvcGRvd24pID0+IHtcclxuXHRcdFx0bGxtU21hbGxEcm9wZG93biA9IGRyb3Bkb3duO1xyXG5cdFx0XHRhd2FpdCB0aGlzLnBvcHVsYXRlTExNTW9kZWxzKGRyb3Bkb3duLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1Qcm92aWRlciwgdHJ1ZSk7XHJcblx0XHRcdGRyb3Bkb3duLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbVNtYWxsTW9kZWwgfHwgJycpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtU21hbGxNb2RlbCA9IHZhbHVlIHx8IHVuZGVmaW5lZDtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cclxuXHRcdFx0XHRcdC8vIFVwZGF0ZSBzdGF0dXMgaWNvbiBmb3IgT2xsYW1hIG1vZGVsc1xyXG5cdFx0XHRcdFx0aWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbVByb3ZpZGVyID09PSAnb2xsYW1hJyAmJiB2YWx1ZSkge1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLm9sbGFtYVNldHRpbmdzLnVwZGF0ZU1vZGVsU3RhdHVzSWNvbkZvckRyb3Bkb3duKGxsbVNtYWxsU3RhdHVzQ29udGFpbmVyLCAnbGxtX3NtYWxsJywgdmFsdWUpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gQWRkIHN0YXR1cyBjb250YWluZXIgZm9yIExMTSBTbWFsbCBtb2RlbCBpY29uc1xyXG5cdFx0bGxtU21hbGxTdGF0dXNDb250YWluZXIgPSBsbG1TbWFsbFNldHRpbmcuc2V0dGluZ0VsLmNyZWF0ZURpdigpO1xyXG5cdFx0bGxtU21hbGxTdGF0dXNDb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IGBcclxuXHRcdFx0ZGlzcGxheTogaW5saW5lLWZsZXg7XHJcblx0XHRcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcblx0XHRcdG1hcmdpbi1sZWZ0OiA4cHg7XHJcblx0XHRcdHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcblx0XHRgO1xyXG5cclxuXHRcdC8vIEluaXRpYWwgc3RhdHVzIHVwZGF0ZSBmb3IgT2xsYW1hIG1vZGVsc1xyXG5cdFx0aWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbVByb3ZpZGVyID09PSAnb2xsYW1hJyAmJiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1TbWFsbE1vZGVsKSB7XHJcblx0XHRcdHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1TbWFsbE1vZGVsKSB7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLm9sbGFtYVNldHRpbmdzLnVwZGF0ZU1vZGVsU3RhdHVzSWNvbkZvckRyb3Bkb3duKGxsbVNtYWxsU3RhdHVzQ29udGFpbmVyLCAnbGxtX3NtYWxsJywgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtU21hbGxNb2RlbCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LCAxMDApO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEN1c3RvbSBMTE0gTW9kZWwgRW50cnkgKE9sbGFtYSBvbmx5KVxyXG5cdFx0aWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbVByb3ZpZGVyID09PSAnb2xsYW1hJykge1xyXG5cdFx0XHRhd2FpdCB0aGlzLm9sbGFtYVNldHRpbmdzLmFkZEN1c3RvbUxMTU1vZGVsRW50cnkoY29udGVudCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gT3BlblJvdXRlci1zcGVjaWZpYyBzZXR0aW5nc1xyXG5cdFx0aWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbVByb3ZpZGVyID09PSAnb3BlbnJvdXRlcicpIHtcclxuXHRcdFx0Y29uc3QgcHJlc2V0U2V0dGluZyA9IG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdFx0LnNldE5hbWUoJ09wZW5Sb3V0ZXIgUHJlc2V0IFNsdWcnICsgdGhpcy5jcmVhdGVTdGF0dXNJbmRpY2F0b3IoJ2ltcGxlbWVudGVkJykpXHJcblx0XHRcdFx0LnNldERlc2MoJ09wZW5Sb3V0ZXIgcHJlc2V0IG5hbWUgdG8gdXNlIChsZWF2ZSBlbXB0eSB0byBkaXNhYmxlIHByZXNldCB1c2FnZSknKVxyXG5cdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdlLmcuLCByYXZlbmVsLWJyaWRnZScpXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mub3BlbnJvdXRlclByZXNldFNsdWcgfHwgJycpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm9wZW5yb3V0ZXJQcmVzZXRTbHVnID0gdmFsdWUgfHwgdW5kZWZpbmVkO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pKVxyXG5cdFx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxyXG5cdFx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ0FkZCBEZWZhdWx0JylcclxuXHRcdFx0XHRcdC5zZXRUb29sdGlwKCdBZGQgcHJlc2V0IG1vZGVsIHRvIGRyb3Bkb3ducycpXHJcblx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IHByZXNldFNsdWcgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5vcGVucm91dGVyUHJlc2V0U2x1ZztcclxuXHRcdFx0XHRcdFx0aWYgKCFwcmVzZXRTbHVnKSB7XHJcblx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnW0VSUk9SXSBQbGVhc2UgZW50ZXIgYSBwcmVzZXQgc2x1ZyBmaXJzdCcpO1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0Y29uc3Qgb3JpZ2luYWxUZXh0ID0gYnV0dG9uLmJ1dHRvbkVsLnRleHRDb250ZW50O1xyXG5cdFx0XHRcdFx0XHRidXR0b24uYnV0dG9uRWwudGV4dENvbnRlbnQgPSAnQWRkaW5nLi4uJztcclxuXHRcdFx0XHRcdFx0YnV0dG9uLnNldERpc2FibGVkKHRydWUpO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0XHQvLyBBZGQgcHJlc2V0IG1vZGVsIHRvIGJvdGggTExNIGRlZmF1bHRzXHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgcHJlc2V0TW9kZWwgPSBgQHByZXNldC8ke3ByZXNldFNsdWd9YDtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBwcmVzZXRNZXRhID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0ZGVzYzogXCJNb2RlbHMgY29udHJvbGxlZCBieSBPcGVuUm91dGVyIFByZXNldFwiLFxyXG5cdFx0XHRcdFx0XHRcdFx0cmVjb21tZW5kZWQ6IHRydWVcclxuXHRcdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdC8vIEluaXRpYWxpemUgZGVmYXVsdHMgaWYgbmVlZGVkXHJcblx0XHRcdFx0XHRcdFx0aWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1EZWZhdWx0cykgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtRGVmYXVsdHMgPSB7fTtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLmxsbURlZmF1bHRzLm9wZW5yb3V0ZXIpIHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbURlZmF1bHRzLm9wZW5yb3V0ZXIgPSB7fTtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLmxsbVNtYWxsRGVmYXVsdHMpIHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbVNtYWxsRGVmYXVsdHMgPSB7fTtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLmxsbVNtYWxsRGVmYXVsdHMub3BlbnJvdXRlcikgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtU21hbGxEZWZhdWx0cy5vcGVucm91dGVyID0ge307XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0Ly8gQWRkIHRvIGJvdGggZGVmYXVsdHNcclxuXHRcdFx0XHRcdFx0XHQodGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtRGVmYXVsdHMub3BlbnJvdXRlciBhcyBhbnkpW3ByZXNldE1vZGVsXSA9IHByZXNldE1ldGE7XHJcblx0XHRcdFx0XHRcdFx0KHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbVNtYWxsRGVmYXVsdHMub3BlbnJvdXRlciBhcyBhbnkpW3ByZXNldE1vZGVsXSA9IHByZXNldE1ldGE7XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7IC8vIFJlZnJlc2ggdG8gc2hvdyB1cGRhdGVkIG1vZGVsc1xyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYFtTVUNDRVNTXSBBZGRlZCAke3ByZXNldE1vZGVsfSB0byBtb2RlbCBkcm9wZG93bnNgKTtcclxuXHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdGYWlsZWQgdG8gYWRkIHByZXNldCBkZWZhdWx0JywgeyBlcnJvciwgcHJlc2V0U2x1ZyB9KTtcclxuXHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdbRVJST1JdIEZhaWxlZCB0byBhZGQgcHJlc2V0IGRlZmF1bHQnKTtcclxuXHRcdFx0XHRcdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0XHRcdFx0XHRidXR0b24uYnV0dG9uRWwudGV4dENvbnRlbnQgPSBvcmlnaW5hbFRleHQ7XHJcblx0XHRcdFx0XHRcdFx0YnV0dG9uLnNldERpc2FibGVkKGZhbHNlKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0XHQuc2V0TmFtZSgnVXNlIFByZXNldCB3aXRoIEN1c3RvbSBNb2RlbCcgKyB0aGlzLmNyZWF0ZVN0YXR1c0luZGljYXRvcignaW1wbGVtZW50ZWQnKSlcclxuXHRcdFx0XHQuc2V0RGVzYygnV2hlbiBlbmFibGVkLCBhcHBlbmQgcHJlc2V0IHRvIGN1c3RvbSBPcGVuUm91dGVyIG1vZGVscyAoZS5nLiwgb3BlbmFpL2dwdC00b0BwcmVzZXQveW91ci1wcmVzZXQpJylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5vcGVucm91dGVyVXNlUHJlc2V0V2l0aEN1c3RvbU1vZGVsIHx8IGZhbHNlKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5vcGVucm91dGVyVXNlUHJlc2V0V2l0aEN1c3RvbU1vZGVsID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFRlc3QgTExNIENvbm5lY3Rpb24gQnV0dG9uXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnVGVzdCBMTE0gQ29ubmVjdGlvbicgKyB0aGlzLmNyZWF0ZVN0YXR1c0luZGljYXRvcignaW1wbGVtZW50ZWQnKSlcclxuXHRcdFx0LnNldERlc2MoJ1Rlc3QgeW91ciBsYW5ndWFnZSBtb2RlbCBwcm92aWRlciBjb25maWd1cmF0aW9uJylcclxuXHRcdFx0LmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXHJcblx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ1Rlc3QgTExNIENvbm5lY3Rpb24nKVxyXG5cdFx0XHRcdC5zZXRDdGEoKVxyXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMudGVzdExMTUNvbm5lY3Rpb24oYnV0dG9uLmJ1dHRvbkVsKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cclxuXHRcdC8vIEVtYmVkZGVyIFByb3ZpZGVyIFNlbGVjdGlvblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0VtYmVkZGluZyBQcm92aWRlcicgKyB0aGlzLmNyZWF0ZVN0YXR1c0luZGljYXRvcignaW1wbGVtZW50ZWQnKSlcclxuXHRcdFx0LnNldERlc2MoJ0Nob29zZSB5b3VyIGVtYmVkZGluZyBwcm92aWRlcicpXHJcblx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ29wZW5haScsICdPcGVuQUknKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2dvb2dsZScsICdHb29nbGUgQUknKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ3ZveWFnZScsICdWb3lhZ2UgQUknKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ29sbGFtYScsICdPbGxhbWEgKExvY2FsKScpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmVtYmVkZGVyUHJvdmlkZXIpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgcHJvdmlkZXIgPSB2YWx1ZSBhcyBHcmFwaGl0aVBsdWdpblNldHRpbmdzWydlbWJlZGRlclByb3ZpZGVyJ107XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbRU1CRURESU5HLVBST1ZJREVSXSBQcm92aWRlciBjaGFuZ2VkJywge1xyXG5cdFx0XHRcdFx0XHRvbGRQcm92aWRlcjogdGhpcy5wbHVnaW4uc2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlcixcclxuXHRcdFx0XHRcdFx0bmV3UHJvdmlkZXI6IHByb3ZpZGVyLFxyXG5cdFx0XHRcdFx0XHR2YXVsdE5hbWU6IHRoaXMuYXBwLnZhdWx0LmdldE5hbWUoKSxcclxuXHRcdFx0XHRcdFx0aGFzVmF1bHRSZWdpc3RyeVNlcnZpY2U6ICEhdGhpcy5wbHVnaW4udmF1bHRSZWdpc3RyeVNlcnZpY2VcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlciA9IHByb3ZpZGVyO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR0aGlzLnVwZGF0ZUVtYmVkZGVyRGVmYXVsdHMocHJvdmlkZXIpO1xyXG5cclxuXHRcdFx0XHRcdC8vIFVwZGF0ZSB2YXVsdCByZWdpc3RyeSB3aXRoIG5ldyBlbWJlZGRpbmcgcHJvdmlkZXIgY29uZmlndXJhdGlvblxyXG5cdFx0XHRcdFx0aWYgKHRoaXMucGx1Z2luLnZhdWx0UmVnaXN0cnlTZXJ2aWNlICYmIHRoaXMucGx1Z2luLnNldHRpbmdzLmVtYmVkZGluZ01vZGVsKSB7XHJcblx0XHRcdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgdmF1bHROYW1lID0gdGhpcy5hcHAudmF1bHQuZ2V0TmFtZSgpO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1tFTUJFRERJTkctUFJPVklERVItQ0hBTkdFXSBVcGRhdGluZyB2YXVsdCByZWdpc3RyeSBmcm9tIHByb3ZpZGVyIGRyb3Bkb3duJywge1xyXG5cdFx0XHRcdFx0XHRcdFx0b2xkUHJvdmlkZXI6IHRoaXMucGx1Z2luLnNldHRpbmdzLmVtYmVkZGVyUHJvdmlkZXIsXHJcblx0XHRcdFx0XHRcdFx0XHRuZXdQcm92aWRlcjogcHJvdmlkZXIsXHJcblx0XHRcdFx0XHRcdFx0XHRtb2RlbDogdGhpcy5wbHVnaW4uc2V0dGluZ3MuZW1iZWRkaW5nTW9kZWwsXHJcblx0XHRcdFx0XHRcdFx0XHRkaW1lbnNpb25zOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5vbGxhbWFFbWJlZGRpbmdEaW0gfHwgNzY4LFxyXG5cdFx0XHRcdFx0XHRcdFx0dmF1bHROYW1lXHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4udmF1bHRSZWdpc3RyeVNlcnZpY2UudXBkYXRlVmF1bHRFbWJlZGRpbmdNb2RlbChcclxuXHRcdFx0XHRcdFx0XHRcdHZhdWx0TmFtZSxcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmVtYmVkZGluZ01vZGVsLFxyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mub2xsYW1hRW1iZWRkaW5nRGltIHx8IDc2OCxcclxuXHRcdFx0XHRcdFx0XHRcdHByb3ZpZGVyXHJcblx0XHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbRU1CRURESU5HLVBST1ZJREVSXSBWYXVsdCByZWdpc3RyeSB1cGRhdGVkIHdpdGggbmV3IHByb3ZpZGVyIGNvbmZpZ3VyYXRpb24nLCB7XHJcblx0XHRcdFx0XHRcdFx0XHR2YXVsdE5hbWUsXHJcblx0XHRcdFx0XHRcdFx0XHRwcm92aWRlcixcclxuXHRcdFx0XHRcdFx0XHRcdG1vZGVsOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRpbmdNb2RlbCxcclxuXHRcdFx0XHRcdFx0XHRcdGRpbWVuc2lvbnM6IHRoaXMucGx1Z2luLnNldHRpbmdzLm9sbGFtYUVtYmVkZGluZ0RpbSB8fCA3NjhcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdbRU1CRURESU5HLVBST1ZJREVSXSBGYWlsZWQgdG8gdXBkYXRlIHZhdWx0IHJlZ2lzdHJ5JywgeyBlcnJvciwgcHJvdmlkZXIgfSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0Ly8gRW5oYW5jZWQgRW1iZWRkaW5nIE1vZGVsIFNlbGVjdGlvbiB3aXRoIE9sbGFtYSBhdmFpbGFiaWxpdHkgaW5kaWNhdG9yc1xyXG5cdFx0YXdhaXQgdGhpcy5hZGRFbmhhbmNlZEVtYmVkZGluZ01vZGVsU2V0dGluZyhjb250ZW50KTtcclxuXHJcblx0XHQvLyBDdXN0b20gRW1iZWRkaW5nIE1vZGVsIEVudHJ5IChPbGxhbWEgb25seSlcclxuXHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRlclByb3ZpZGVyID09PSAnb2xsYW1hJykge1xyXG5cdFx0XHRhd2FpdCB0aGlzLm9sbGFtYVNldHRpbmdzLmFkZEN1c3RvbUVtYmVkZGluZ01vZGVsRW50cnkoY29udGVudCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gVGVzdCBFbWJlZGRpbmcgQ29ubmVjdGlvbiBCdXR0b25cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdUZXN0IEVtYmVkZGluZyBDb25uZWN0aW9uJyArIHRoaXMuY3JlYXRlU3RhdHVzSW5kaWNhdG9yKCdpbXBsZW1lbnRlZCcpKVxyXG5cdFx0XHQuc2V0RGVzYygnVGVzdCB5b3VyIGVtYmVkZGluZyBwcm92aWRlciBjb25maWd1cmF0aW9uJylcclxuXHRcdFx0LmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXHJcblx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ1Rlc3QgRW1iZWRkaW5nJylcclxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnRlc3RFbWJlZGRpbmdDb25uZWN0aW9uKGJ1dHRvbi5idXR0b25FbCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdC8vIFRlc3QgUHJvdmlkZXIgQ29tYmluYXRpb24gQnV0dG9uXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnVGVzdCBQcm92aWRlciBDb21iaW5hdGlvbicgKyB0aGlzLmNyZWF0ZVN0YXR1c0luZGljYXRvcignaW1wbGVtZW50ZWQnKSlcclxuXHRcdFx0LnNldERlc2MoJ1Rlc3QgdGhhdCB5b3VyIExMTSBhbmQgZW1iZWRkaW5nIHByb3ZpZGVycyB3b3JrIHRvZ2V0aGVyIGNvcnJlY3RseSB3aXRoIGZ1bGwgcGlwZWxpbmUgdGVzdGluZycpXHJcblx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxyXG5cdFx0XHRcdC5zZXRCdXR0b25UZXh0KCdUZXN0IEZ1bGwgUGlwZWxpbmUnKVxyXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMudGVzdEZ1bGxQaXBlbGluZShidXR0b24uYnV0dG9uRWwpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHQvLyBAcHVycG9zZTogUmVsb2FkIGRhZW1vbiB0byByZWZyZXNoIGNvbmZpZ3VyYXRpb24gYWZ0ZXIgcHJvdmlkZXIgY2hhbmdlcyBAZGVwZW5kczogbG9hZERhZW1vbk9uTGF1bmNoIHNldHRpbmcgQHJlc3VsdHM6IEZyZXNoIGRhZW1vbiB3aXRoIHVwZGF0ZWQgcHJvdmlkZXIgY29uZmlnc1xyXG5cdFx0aWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmxvYWREYWVtb25PbkxhdW5jaCAmJiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5leHBlcmltZW50YWxEYWVtb25Nb2RlKSB7XHJcblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdFx0LnNldE5hbWUoJ1JlbG9hZCBTeW5jIERhZW1vbicgKyB0aGlzLmNyZWF0ZVN0YXR1c0luZGljYXRvcignaW1wbGVtZW50ZWQnKSlcclxuXHRcdFx0XHQuc2V0RGVzYygnUmVzdGFydCB0aGUgc3luYyBkYWVtb24gdG8gYXBwbHkgbmV3IHByb3ZpZGVyIGNvbmZpZ3VyYXRpb24nKVxyXG5cdFx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxyXG5cdFx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ1JlbG9hZCBEYWVtb24nKVxyXG5cdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnJlbG9hZFN5bmNEYWVtb24oYnV0dG9uLmJ1dHRvbkVsKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdH1cclxuXHJcblxyXG5cdFx0Ly8gQ3Jvc3MtRW5jb2RlciBDb25maWd1cmF0aW9uXHJcblx0XHRjb250ZW50LmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ0Nyb3NzLUVuY29kZXIgLyBSZXJhbmtlciBDb25maWd1cmF0aW9uJywgY2xzOiAnc2V0dGluZy1pdGVtLW5hbWUnIH0pO1xyXG5cclxuXHRcdC8vIENyb3NzLUVuY29kZXIgUHJvdmlkZXIgU2VsZWN0aW9uXHJcblx0XHRsZXQgY3Jvc3NFbmNvZGVyTW9kZWxDb250YWluZXI6IEhUTUxFbGVtZW50O1xyXG5cdFx0Y29uc3QgY3Jvc3NFbmNvZGVyUHJvdmlkZXJTZXR0aW5nID0gbmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0Nyb3NzLUVuY29kZXIgUHJvdmlkZXInICsgdGhpcy5jcmVhdGVTdGF0dXNJbmRpY2F0b3IoJ2ltcGxlbWVudGVkJykpXHJcblx0XHRcdC5zZXREZXNjKCdDaG9vc2UgeW91ciBjcm9zcy1lbmNvZGVyL3JlcmFua2VyIHByb3ZpZGVyIGZvciBpbXByb3ZlZCBzZWFyY2ggcmFua2luZycpXHJcblx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ25vbmUnLCAnTm9uZSAtIERpc2FibGUgcmVyYW5raW5nJylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdvcGVuYWknLCAnT3BlbkFJIFJlcmFua2VyJylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdiZ2UnLCAnQkdFIFJlcmFua2VyIChMb2NhbCknKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2dlbWluaScsICdHZW1pbmkgUmVyYW5rZXInKVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5jcm9zc0VuY29kZXJDbGllbnQgfHwgJ25vbmUnKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IHByb3ZpZGVyID0gdmFsdWUgYXMgJ25vbmUnIHwgJ29wZW5haScgfCAnYmdlJyB8ICdnZW1pbmknO1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY3Jvc3NFbmNvZGVyQ2xpZW50ID0gcHJvdmlkZXI7XHJcblxyXG5cdFx0XHRcdFx0Ly8gQ2xlYXIgbW9kZWwgZm9yIEJHRSAoZG9lc24ndCB1c2UgbW9kZWxzKSBhbmQgbm9uZVxyXG5cdFx0XHRcdFx0aWYgKHByb3ZpZGVyID09PSAnYmdlJyB8fCBwcm92aWRlciA9PT0gJ25vbmUnKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmNyb3NzRW5jb2Rlck1vZGVsID0gdW5kZWZpbmVkO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0dGhpcy51cGRhdGVDcm9zc0VuY29kZXJEZWZhdWx0cyhwcm92aWRlcik7XHJcblx0XHRcdFx0XHQvLyBTaG93L2hpZGUgbW9kZWwgZmllbGQgYmFzZWQgb24gcHJvdmlkZXIgKGhpZGUgZm9yIG5vbmUgYW5kIGJnZSlcclxuXHRcdFx0XHRcdGlmIChjcm9zc0VuY29kZXJNb2RlbENvbnRhaW5lcikge1xyXG5cdFx0XHRcdFx0XHRjcm9zc0VuY29kZXJNb2RlbENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gKHByb3ZpZGVyID09PSAnbm9uZScgfHwgcHJvdmlkZXIgPT09ICdiZ2UnKSA/ICdub25lJyA6ICdibG9jayc7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdC8vIENyb3NzLUVuY29kZXIgTW9kZWwgU2VsZWN0aW9uIChjb25kaXRpb25hbGx5IHZpc2libGUpXHJcblx0XHRjb25zdCBjcm9zc0VuY29kZXJNb2RlbFNldHRpbmcgPSBuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnQ3Jvc3MtRW5jb2RlciBNb2RlbCcgKyB0aGlzLmNyZWF0ZVN0YXR1c0luZGljYXRvcignaW1wbGVtZW50ZWQnKSlcclxuXHRcdFx0LnNldERlc2MoJ1NwZWNpZmljIG1vZGVsIGZvciBjcm9zcy1lbmNvZGluZy9yZXJhbmtpbmcgb3BlcmF0aW9ucycpO1xyXG5cclxuXHRcdGNyb3NzRW5jb2Rlck1vZGVsQ29udGFpbmVyID0gY3Jvc3NFbmNvZGVyTW9kZWxTZXR0aW5nLnNldHRpbmdFbDtcclxuXHRcdGNyb3NzRW5jb2Rlck1vZGVsQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAodGhpcy5wbHVnaW4uc2V0dGluZ3MuY3Jvc3NFbmNvZGVyQ2xpZW50ID09PSAnbm9uZScpID8gJ25vbmUnIDogJ2Jsb2NrJztcclxuXHJcblx0XHRsZXQgY3Jvc3NFbmNvZGVyTW9kZWxEcm9wZG93bjogYW55O1xyXG5cdFx0Y3Jvc3NFbmNvZGVyTW9kZWxTZXR0aW5nLmFkZERyb3Bkb3duKGFzeW5jIChkcm9wZG93bikgPT4ge1xyXG5cdFx0XHRjcm9zc0VuY29kZXJNb2RlbERyb3Bkb3duID0gZHJvcGRvd247XHJcblx0XHRcdGF3YWl0IHRoaXMucG9wdWxhdGVDcm9zc0VuY29kZXJNb2RlbHMoZHJvcGRvd24sIHRoaXMucGx1Z2luLnNldHRpbmdzLmNyb3NzRW5jb2RlckNsaWVudCB8fCAnbm9uZScpO1xyXG5cdFx0XHRkcm9wZG93bi5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5jcm9zc0VuY29kZXJNb2RlbCB8fCAnJylcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5jcm9zc0VuY29kZXJNb2RlbCA9IHZhbHVlIHx8IHVuZGVmaW5lZDtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gUHJvdmlkZXItc3BlY2lmaWMgc2V0dGluZ3NcclxuXHRcdHRoaXMuYWRkUHJvdmlkZXJTcGVjaWZpY1NldHRpbmdzKGNvbnRlbnQpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhZGREYXRhYmFzZUFjY29yZGlvbihjb250ZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdEYXRhYmFzZSBUeXBlJyArIHRoaXMuY3JlYXRlU3RhdHVzSW5kaWNhdG9yKCdpbXBsZW1lbnRlZCcpKVxyXG5cdFx0XHQuc2V0RGVzYygnQ2hvb3NlIHlvdXIgZ3JhcGggZGF0YWJhc2UgYmFja2VuZCcpXHJcblx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ25lbzRqJywgJ05lbzRqJylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdmYWxrb3JkYicsICdGYWxrb3JEQicpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRhdGFiYXNlVHlwZSlcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBkYlR5cGUgPSB2YWx1ZSBhcyAnbmVvNGonIHwgJ2ZhbGtvcmRiJztcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRhdGFiYXNlVHlwZSA9IGRiVHlwZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7IC8vIFJlZnJlc2ggdG8gc2hvdyB0aGUgY29ycmVjdCBmaWVsZHMgZm9yIHRoZSBkYXRhYmFzZSB0eXBlXHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdC8vIFNob3cgZGF0YWJhc2Utc3BlY2lmaWMgY29uZmlndXJhdGlvbiBmaWVsZHNcclxuXHRcdHRoaXMuYWRkRGF0YWJhc2VTcGVjaWZpY0ZpZWxkcyhjb250ZW50KTtcclxuXHJcblx0XHQvLyBUZXN0IENvbm5lY3Rpb24gQnV0dG9uXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnVGVzdCBEYXRhYmFzZSBDb25uZWN0aW9uJyArIHRoaXMuY3JlYXRlU3RhdHVzSW5kaWNhdG9yKCdpbXBsZW1lbnRlZCcpKVxyXG5cdFx0XHQuc2V0RGVzYygnVmVyaWZ5IHlvdXIgZGF0YWJhc2UgY29ubmVjdGlvbiBzZXR0aW5ncycpXHJcblx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxyXG5cdFx0XHRcdC5zZXRCdXR0b25UZXh0KCdUZXN0IENvbm5lY3Rpb24nKVxyXG5cdFx0XHRcdC5zZXRDdGEoKVxyXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMudGVzdERhdGFiYXNlQ29ubmVjdGlvbihidXR0b24uYnV0dG9uRWwpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHQvLyBJbml0aWFsaXplIERhdGFiYXNlIFNjaGVtYSBCdXR0b25cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdJbml0aWFsaXplIERhdGFiYXNlIFNjaGVtYScgKyB0aGlzLmNyZWF0ZVN0YXR1c0luZGljYXRvcignaW1wbGVtZW50ZWQnKSlcclxuXHRcdFx0LnNldERlc2MoJ1NldCB1cCB0aGUgcmVxdWlyZWQgR3JhcGhpdGkgc2NoZW1hIGluIHlvdXIgZGF0YWJhc2UgKHJ1biB0aGlzIGFmdGVyIHN1Y2Nlc3NmdWwgY29ubmVjdGlvbiB0ZXN0KScpXHJcblx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxyXG5cdFx0XHRcdC5zZXRCdXR0b25UZXh0KCdJbml0aWFsaXplIFNjaGVtYScpXHJcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5pbml0aWFsaXplRGF0YWJhc2VTY2hlbWEoYnV0dG9uLmJ1dHRvbkVsKTtcclxuXHRcdFx0XHR9KSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFkZERhdGFiYXNlU3BlY2lmaWNGaWVsZHMoY29udGVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuXHRcdGNvbnN0IGRiVHlwZSA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmRhdGFiYXNlVHlwZTtcclxuXHJcblx0XHRpZiAoZGJUeXBlID09PSAnbmVvNGonKSB7XHJcblx0XHRcdC8vIE5lbzRqLXNwZWNpZmljIGZpZWxkc1xyXG5cdFx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHRcdC5zZXROYW1lKCdOZW80aiBVUkknICsgdGhpcy5jcmVhdGVTdGF0dXNJbmRpY2F0b3IoJ2ltcGxlbWVudGVkJykpXHJcblx0XHRcdFx0LnNldERlc2MoJ05lbzRqIGNvbm5lY3Rpb24gVVJJIChlLmcuLCBib2x0Oi8vbG9jYWxob3N0Ojc2ODcpJylcclxuXHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignYm9sdDovL2xvY2FsaG9zdDo3Njg3JylcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRhYmFzZUNvbmZpZ3MubmVvNGoudXJpKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRhYmFzZUNvbmZpZ3MubmVvNGoudXJpID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0XHQuc2V0TmFtZSgnTmVvNGogVXNlcm5hbWUnICsgdGhpcy5jcmVhdGVTdGF0dXNJbmRpY2F0b3IoJ2ltcGxlbWVudGVkJykpXHJcblx0XHRcdFx0LnNldERlc2MoJ05lbzRqIGRhdGFiYXNlIHVzZXJuYW1lJylcclxuXHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignbmVvNGonKVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRhdGFiYXNlQ29uZmlncy5uZW80ai51c2VybmFtZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZGF0YWJhc2VDb25maWdzLm5lbzRqLnVzZXJuYW1lID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0XHQuc2V0TmFtZSgnTmVvNGogUGFzc3dvcmQnICsgdGhpcy5jcmVhdGVTdGF0dXNJbmRpY2F0b3IoJ2ltcGxlbWVudGVkJykpXHJcblx0XHRcdFx0LnNldERlc2MoJ05lbzRqIGRhdGFiYXNlIHBhc3N3b3JkJylcclxuXHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHtcclxuXHRcdFx0XHRcdHRleHQuaW5wdXRFbC50eXBlID0gJ3Bhc3N3b3JkJztcclxuXHRcdFx0XHRcdHRleHQuc2V0UGxhY2Vob2xkZXIoJ0VudGVyIHBhc3N3b3JkJylcclxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRhdGFiYXNlQ29uZmlncy5uZW80ai5wYXNzd29yZClcclxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRhdGFiYXNlQ29uZmlncy5uZW80ai5wYXNzd29yZCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdFx0LnNldE5hbWUoJ05lbzRqIERhdGFiYXNlIE5hbWUnICsgdGhpcy5jcmVhdGVTdGF0dXNJbmRpY2F0b3IoJ2ltcGxlbWVudGVkJykpXHJcblx0XHRcdFx0LnNldERlc2MoJ05hbWUgb2YgdGhlIE5lbzRqIGRhdGFiYXNlIHRvIHVzZScpXHJcblx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ25lbzRqJylcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRhYmFzZUNvbmZpZ3MubmVvNGouZGF0YWJhc2UpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRhdGFiYXNlQ29uZmlncy5uZW80ai5kYXRhYmFzZSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHJcblx0XHR9IGVsc2UgaWYgKGRiVHlwZSA9PT0gJ2ZhbGtvcmRiJykge1xyXG5cdFx0XHQvLyBGYWxrb3JEQi1zcGVjaWZpYyBmaWVsZHNcclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0XHQuc2V0TmFtZSgnRmFsa29yREIgSG9zdCcgKyB0aGlzLmNyZWF0ZVN0YXR1c0luZGljYXRvcignaW1wbGVtZW50ZWQnKSlcclxuXHRcdFx0XHQuc2V0RGVzYygnRmFsa29yREIgaG9zdCBhZGRyZXNzJylcclxuXHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignbG9jYWxob3N0JylcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRhYmFzZUNvbmZpZ3MuZmFsa29yZGIuaG9zdClcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZGF0YWJhc2VDb25maWdzLmZhbGtvcmRiLmhvc3QgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHRcdC5zZXROYW1lKCdGYWxrb3JEQiBQb3J0JyArIHRoaXMuY3JlYXRlU3RhdHVzSW5kaWNhdG9yKCdpbXBsZW1lbnRlZCcpKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdGYWxrb3JEQiBwb3J0IG51bWJlcicpXHJcblx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJzYzNzknKVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRhdGFiYXNlQ29uZmlncy5mYWxrb3JkYi5wb3J0LnRvU3RyaW5nKCkpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IHBvcnQgPSBwYXJzZUludCh2YWx1ZSk7XHJcblx0XHRcdFx0XHRcdGlmICghaXNOYU4ocG9ydCkgJiYgcG9ydCA+IDAgJiYgcG9ydCA8IDY1NTM2KSB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZGF0YWJhc2VDb25maWdzLmZhbGtvcmRiLnBvcnQgPSBwb3J0O1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHRcdC5zZXROYW1lKCdGYWxrb3JEQiBVc2VybmFtZSAoT3B0aW9uYWwpJyArIHRoaXMuY3JlYXRlU3RhdHVzSW5kaWNhdG9yKCdpbXBsZW1lbnRlZCcpKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdGYWxrb3JEQiB1c2VybmFtZSAobGVhdmUgZW1wdHkgaWYgbm90IHVzaW5nIGF1dGhlbnRpY2F0aW9uKScpXHJcblx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ09wdGlvbmFsJylcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRhYmFzZUNvbmZpZ3MuZmFsa29yZGIudXNlcm5hbWUgfHwgJycpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRhdGFiYXNlQ29uZmlncy5mYWxrb3JkYi51c2VybmFtZSA9IHZhbHVlIHx8IHVuZGVmaW5lZDtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHRcdC5zZXROYW1lKCdGYWxrb3JEQiBQYXNzd29yZCAoT3B0aW9uYWwpJyArIHRoaXMuY3JlYXRlU3RhdHVzSW5kaWNhdG9yKCdpbXBsZW1lbnRlZCcpKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdGYWxrb3JEQiBwYXNzd29yZCAobGVhdmUgZW1wdHkgaWYgbm90IHVzaW5nIGF1dGhlbnRpY2F0aW9uKScpXHJcblx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB7XHJcblx0XHRcdFx0XHR0ZXh0LmlucHV0RWwudHlwZSA9ICdwYXNzd29yZCc7XHJcblx0XHRcdFx0XHR0ZXh0LnNldFBsYWNlaG9sZGVyKCdPcHRpb25hbCcpXHJcblx0XHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRhYmFzZUNvbmZpZ3MuZmFsa29yZGIucGFzc3dvcmQgfHwgJycpXHJcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRhYmFzZUNvbmZpZ3MuZmFsa29yZGIucGFzc3dvcmQgPSB2YWx1ZSB8fCB1bmRlZmluZWQ7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0XHQuc2V0TmFtZSgnRmFsa29yREIgRGF0YWJhc2UgTmFtZScgKyB0aGlzLmNyZWF0ZVN0YXR1c0luZGljYXRvcignaW1wbGVtZW50ZWQnKSlcclxuXHRcdFx0XHQuc2V0RGVzYygnTmFtZSBvZiB0aGUgRmFsa29yREIgZGF0YWJhc2UgdG8gdXNlJylcclxuXHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignZGVmYXVsdF9kYicpXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGF0YWJhc2VDb25maWdzLmZhbGtvcmRiLmRhdGFiYXNlKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRhYmFzZUNvbmZpZ3MuZmFsa29yZGIuZGF0YWJhc2UgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFkZFB5dGhvbkFjY29yZGlvbihjb250ZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG5cclxuXHRcdC8vIFB5dGhvbiBJbnN0YWxsYXRpb24gU3RhdHVzXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnUHl0aG9uIERlcGVuZGVuY2llcyBTdGF0dXMnICsgdGhpcy5jcmVhdGVTdGF0dXNJbmRpY2F0b3IoJ2ltcGxlbWVudGVkJykpXHJcblx0XHRcdC5zZXREZXNjKCdDaGVjayBpZiBHcmFwaGl0aSBQeXRob24gZGVwZW5kZW5jaWVzIGFyZSBpbnN0YWxsZWQnKVxyXG5cdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cclxuXHRcdFx0XHQuc2V0QnV0dG9uVGV4dCgnQ2hlY2sgRGVwZW5kZW5jaWVzJylcclxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLmNoZWNrUHl0aG9uRGVwZW5kZW5jaWVzKGJ1dHRvbi5idXR0b25FbCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdC8vIEluc3RhbGwgUHl0aG9uIERlcGVuZGVuY2llcyBCdXR0b25cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdJbnN0YWxsIFB5dGhvbiBEZXBlbmRlbmNpZXMnICsgdGhpcy5jcmVhdGVTdGF0dXNJbmRpY2F0b3IoJ2ltcGxlbWVudGVkJykpXHJcblx0XHRcdC5zZXREZXNjKCdJbnN0YWxsIEdyYXBoaXRpIGFuZCByZXF1aXJlZCBQeXRob24gcGFja2FnZXMgdXNpbmcgaHlicmlkIHBpcC91diBhcHByb2FjaCcpXHJcblx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxyXG5cdFx0XHRcdC5zZXRCdXR0b25UZXh0KCdJbnN0YWxsIERlcGVuZGVuY2llcycpXHJcblx0XHRcdFx0LnNldEN0YSgpXHJcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5pbnN0YWxsUHl0aG9uRGVwZW5kZW5jaWVzKGJ1dHRvbi5idXR0b25FbCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdC8vIFB5dGhvbiBQYXRoIChPcHRpb25hbClcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdQeXRob24gUGF0aCAoT3B0aW9uYWwpJyArIHRoaXMuY3JlYXRlU3RhdHVzSW5kaWNhdG9yKCdpbXBsZW1lbnRlZCcpKVxyXG5cdFx0XHQuc2V0RGVzYygnU3BlY2lmeSBjdXN0b20gUHl0aG9uIGV4ZWN1dGFibGUgcGF0aCAobGVhdmUgZW1wdHkgZm9yIGF1dG8tZGV0ZWN0aW9uKScpXHJcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignQXV0by1kZXRlY3QnKVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5weXRob25QYXRoIHx8ICcnKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnB5dGhvblBhdGggPSB2YWx1ZSB8fCB1bmRlZmluZWQ7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFkZFN5bmNBY2NvcmRpb24oY29udGVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuXHJcblx0XHRsZXQgYXV0b1N5bmNUb2dnbGU6IFRvZ2dsZUNvbXBvbmVudCB8IG51bGwgPSBudWxsO1xyXG5cdFx0bGV0IHN5bmNPcHRpb25zQ29udGFpbmVyOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xyXG5cclxuXHRcdGNvbnN0IGF1dG9TeW5jU2V0dGluZyA9IG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdFx0XHQuc2V0TmFtZSgnQXV0b21hdGljYWxseSBzeW5jIG5vdGVzIGF0IHNjaGVkdWxlZCBpbnRlcnZhbHMnICsgdGhpcy5jcmVhdGVTdGF0dXNJbmRpY2F0b3IoJ3BhcnRpYWwnKSlcclxuXHRcdFx0XHRcdC5zZXREZXNjKCdBdXRvbWF0aWNhbGx5IHN5bmMgbm90ZXMgd2hlbiB0aGV5IGFyZSBzYXZlZCBvciBhdCByZWd1bGFyIGludGVydmFscycgKyAodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0RldmVsb3BtZW50SW5kaWNhdG9ycyA/ICcgKEVuaGFuY2VkIFVJIGNvbXBsZXRlLCBzeW5jIGVuZ2luZSBuZWVkcyB1cGRhdGUpJyA6ICcnKSlcclxuXHRcdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHtcclxuXHRcdFx0XHRcdFx0YXV0b1N5bmNUb2dnbGUgPSB0b2dnbGU7XHJcblx0XHRcdFx0XHRcdHRvZ2dsZVxyXG5cdFx0XHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdXRvU3luYylcclxuXHRcdFx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHQvLyBEZWJvdW5jZSByYXBpZCBzZXR0aW5ncyBjaGFuZ2VzIHRvIHJlZHVjZSBsb2cgc3BhbVxyXG5cdFx0XHRcdFx0XHRcdFx0Y29uc3Qgc2VsZjogYW55ID0gdGhpcztcclxuXHRcdFx0XHRcdFx0XHRcdGlmIChzZWxmLl9zZXR0aW5nc0RlYm91bmNlVGltZXIpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHNlbGYuX3NldHRpbmdzRGVib3VuY2VUaW1lcik7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRzZWxmLl9zZXR0aW5nc0RlYm91bmNlVGltZXIgPSBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0c2VsZi5wbHVnaW4uc2V0dGluZ3MuYXV0b1N5bmMgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0YXdhaXQgc2VsZi5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdC8vIFNob3cvaGlkZSBzeW5jIG9wdGlvbnMgYmFzZWQgb24gYXV0byBzeW5jIHNldHRpbmdcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKHN5bmNPcHRpb25zQ29udGFpbmVyKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0c3luY09wdGlvbnNDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IHZhbHVlID8gJ2Jsb2NrJyA6ICdub25lJztcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fSwgMTAwMCk7XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHQvLyBTeW5jIE9wdGlvbnMgZHJvcGRvd24gLSBjb25kaXRpb25hbGx5IHZpc2libGVcclxuXHRcdHN5bmNPcHRpb25zQ29udGFpbmVyID0gY29udGVudC5jcmVhdGVEaXYoKTtcclxuXHRcdHN5bmNPcHRpb25zQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdXRvU3luYyA/ICdibG9jaycgOiAnbm9uZSc7XHJcblx0XHRzeW5jT3B0aW9uc0NvbnRhaW5lci5zdHlsZS5tYXJnaW5MZWZ0ID0gJzI0cHgnOyAvLyBJbmRlbnQgdG8gc2hvdyBpdCdzIGEgc3ViLW9wdGlvblxyXG5cdFx0c3luY09wdGlvbnNDb250YWluZXIuc3R5bGUubWFyZ2luVG9wID0gJzhweCc7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoc3luY09wdGlvbnNDb250YWluZXIpXHJcblx0XHRcdC5zZXROYW1lKCdTeW5jIE9wdGlvbnMnICsgdGhpcy5jcmVhdGVTdGF0dXNJbmRpY2F0b3IoJ3BhcnRpYWwnKSlcclxuXHRcdFx0LnNldERlc2MoJ0Nob29zZSB3aGljaCBub3RlcyB0byBpbmNsdWRlIGluIGF1dG9tYXRpYyBzeW5jIG9wZXJhdGlvbnMnKVxyXG5cdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4gZHJvcGRvd25cclxuXHRcdFx0XHQuYWRkT3B0aW9uKCduZXdfb25seScsICdOZXcgbm90ZXMgb25seSAtIFN5bmMgb25seSBuZXdseSBjcmVhdGVkIG5vdGVzJylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCduZXdfYW5kX3VwZGF0ZWQnLCAnTmV3IGFuZCB1cGRhdGVkIG5vdGVzIC0gU3luYyBib3RoIG5ldyBhbmQgbW9kaWZpZWQgbm90ZXMnKVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zeW5jT3B0aW9ucylcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5zeW5jT3B0aW9ucyA9IHZhbHVlIGFzICduZXdfb25seScgfCAnbmV3X2FuZF91cGRhdGVkJztcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnU3luYyBJbnRlcnZhbCcgKyB0aGlzLmNyZWF0ZVN0YXR1c0luZGljYXRvcigncGFydGlhbCcpKVxyXG5cdFx0XHQuc2V0RGVzYygnQXV0b21hdGljIHN5bmMgaW50ZXJ2YWwgaW4gbWludXRlcyAoMCB0byBkaXNhYmxlKScgKyAodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0RldmVsb3BtZW50SW5kaWNhdG9ycyA/ICcgKFVJIGNvbXBsZXRlLCBzeW5jIGVuZ2luZSBub3QgaW1wbGVtZW50ZWQpJyA6ICcnKSlcclxuXHRcdFx0LmFkZFNsaWRlcihzbGlkZXIgPT4gc2xpZGVyXHJcblx0XHRcdFx0LnNldExpbWl0cygwLCA2MCwgMSlcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc3luY0ludGVydmFsKVxyXG5cdFx0XHRcdC5zZXREeW5hbWljVG9vbHRpcCgpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc3luY0ludGVydmFsID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0Ly8gQmF0Y2ggU2l6ZSBjb250cm9sIHBlcm1hbmVudGx5IGhpZGRlbiBmb3Igc2NoZWR1bGVyLW9ubHkgQXV0b1N5bmNcclxuXHRcdC8vIFNlcXVlbnRpYWwgcGVyLW5vdGUgcHJvY2Vzc2luZyBlbGltaW5hdGVzIG5lZWQgZm9yIGJhdGNoIGNvbmZpZ3VyYXRpb25cclxuXHJcblxyXG5cdFx0Ly8gRm9sZGVyIENvbmZpZ3VyYXRpb24gc3Vic2VjdGlvblxyXG5cdFx0Y29udGVudC5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdGb2xkZXIgQ29uZmlndXJhdGlvbicsIGNsczogJ3NldHRpbmctaXRlbS1uYW1lJyB9KTtcclxuXHJcblx0XHQvLyBJbmNsdWRlZCBGb2xkZXJzIC0gc2ltcGxlIFRlbXBsYXRlciBwYXR0ZXJuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnSW5jbHVkZWQgRm9sZGVycycgKyB0aGlzLmNyZWF0ZVN0YXR1c0luZGljYXRvcignaW1wbGVtZW50ZWQnKSlcclxuXHRcdFx0LnNldERlc2MoJ0ZvbGRlcnMgdG8gaW5jbHVkZSBpbiBzeW5jLiBMZWF2ZSBlbXB0eSB0byBpbmNsdWRlIGFsbCBmb2xkZXJzLicpO1xyXG5cclxuXHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmluY2x1ZGVkRm9sZGVycy5mb3JFYWNoKChmb2xkZXIsIGluZGV4KSA9PiB7XHJcblx0XHRcdGNvbnN0IHMgPSBuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHRcdC5hZGRTZWFyY2goKGNiKSA9PiB7XHJcblx0XHRcdFx0XHRuZXcgRm9sZGVyU3VnZ2VzdCh0aGlzLmFwcCwgY2IuaW5wdXRFbCk7XHJcblx0XHRcdFx0XHQvLyBQcmV2ZW50IGNsaWNrcyBpbnNpZGUgdGhlIHNlYXJjaCBpbnB1dCBmcm9tIGNvbGxhcHNpbmcgdGhlIGFjY29yZGlvblxyXG5cdFx0XHRcdFx0Y2IuaW5wdXRFbC5vbm1vdXNlZG93biA9IChldnQ6IE1vdXNlRXZlbnQpID0+IGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRcdGNiLnNldFBsYWNlaG9sZGVyKFwiU2VsZWN0IGZvbGRlciBvciB0eXBlIHBhdGguLi5cIilcclxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKGZvbGRlcilcclxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jIChuZXdGb2xkZXIpID0+IHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbmNsdWRlZEZvbGRlcnNbaW5kZXhdID0gbmV3Rm9sZGVyO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdC5hZGRFeHRyYUJ1dHRvbigoY2IpID0+IHtcclxuXHRcdFx0XHRcdGNiLnNldEljb24oXCJjcm9zc1wiKVxyXG5cdFx0XHRcdFx0XHQuc2V0VG9vbHRpcChcIkRlbGV0ZVwiKVxyXG5cdFx0XHRcdFx0XHQub25DbGljayhhc3luYyAoZXZ0PzogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChldnQpIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbmNsdWRlZEZvbGRlcnMuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdC8vIEFsc28gcHJldmVudCBpbmZvIGFyZWEgY2xpY2tzIGZyb20gYnViYmxpbmdcclxuXHRcdFx0cy5pbmZvRWwucmVtb3ZlKCk7XHJcblx0XHRcdHMuY29udHJvbEVsLm9ubW91c2Vkb3duID0gKGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuYWRkQnV0dG9uKChjYikgPT4ge1xyXG5cdFx0XHRcdGNiLnNldEJ1dHRvblRleHQoXCJBZGQgRm9sZGVyXCIpXHJcblx0XHRcdFx0XHQuc2V0Q3RhKClcclxuXHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jIChldnQ/OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmIChldnQpIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5jbHVkZWRGb2xkZXJzLnB1c2goXCJcIik7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdC8vIFByZXZlbnQgdGhlIGludGVybmFsIGJ1dHRvbiBlbGVtZW50IGZyb20gYnViYmxpbmdcclxuXHRcdFx0XHRjYi5idXR0b25FbC5vbm1vdXNlZG93biA9IChlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHQvLyBFeGNsdWRlZCBGb2xkZXJzIC0gc2ltcGxlIFRlbXBsYXRlciBwYXR0ZXJuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnRXhjbHVkZWQgRm9sZGVycycgKyB0aGlzLmNyZWF0ZVN0YXR1c0luZGljYXRvcignaW1wbGVtZW50ZWQnKSlcclxuXHRcdFx0LnNldERlc2MoJ0ZvbGRlcnMgdG8gZXhjbHVkZSBmcm9tIHN5bmMgKGUuZy4sIC5vYnNpZGlhbiwgLnRyYXNoKS4nKTtcclxuXHJcblx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5leGNsdWRlZEZvbGRlcnMuZm9yRWFjaCgoZm9sZGVyLCBpbmRleCkgPT4ge1xyXG5cdFx0XHRjb25zdCBzID0gbmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0XHQuYWRkU2VhcmNoKChjYikgPT4ge1xyXG5cdFx0XHRcdFx0bmV3IEZvbGRlclN1Z2dlc3QodGhpcy5hcHAsIGNiLmlucHV0RWwpO1xyXG5cdFx0XHRcdFx0Ly8gUHJldmVudCBjbGlja3MgaW5zaWRlIHRoZSBzZWFyY2ggaW5wdXQgZnJvbSBjb2xsYXBzaW5nIHRoZSBhY2NvcmRpb25cclxuXHRcdFx0XHRcdGNiLmlucHV0RWwub25tb3VzZWRvd24gPSAoZXZ0OiBNb3VzZUV2ZW50KSA9PiBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0XHRjYi5zZXRQbGFjZWhvbGRlcihcIlNlbGVjdCBmb2xkZXIgb3IgdHlwZSBwYXRoLi4uXCIpXHJcblx0XHRcdFx0XHRcdC5zZXRWYWx1ZShmb2xkZXIpXHJcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAobmV3Rm9sZGVyKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZXhjbHVkZWRGb2xkZXJzW2luZGV4XSA9IG5ld0ZvbGRlcjtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQuYWRkRXh0cmFCdXR0b24oKGNiKSA9PiB7XHJcblx0XHRcdFx0XHRjYi5zZXRJY29uKFwiY3Jvc3NcIilcclxuXHRcdFx0XHRcdFx0LnNldFRvb2x0aXAoXCJEZWxldGVcIilcclxuXHRcdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKGV2dD86IE1vdXNlRXZlbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoZXZ0KSBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZXhjbHVkZWRGb2xkZXJzLnNwbGljZShpbmRleCwgMSk7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRzLmluZm9FbC5yZW1vdmUoKTtcclxuXHRcdFx0cy5jb250cm9sRWwub25tb3VzZWRvd24gPSAoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5hZGRCdXR0b24oKGNiKSA9PiB7XHJcblx0XHRcdFx0Y2Iuc2V0QnV0dG9uVGV4dChcIkFkZCBGb2xkZXJcIilcclxuXHRcdFx0XHRcdC5zZXRDdGEoKVxyXG5cdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKGV2dD86IE1vdXNlRXZlbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKGV2dCkgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5leGNsdWRlZEZvbGRlcnMucHVzaChcIlwiKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0Y2IuYnV0dG9uRWwub25tb3VzZWRvd24gPSAoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0Ly8gR2xvYmFsbHkgSWdub3JlZCBGaWVsZHMgLSBzaW1wbGUgVGVtcGxhdGVyIHBhdHRlcm5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdHbG9iYWxseSBJZ25vcmVkIEZpZWxkcycgKyB0aGlzLmNyZWF0ZVN0YXR1c0luZGljYXRvcignaW1wbGVtZW50ZWQnKSlcclxuXHRcdFx0LnNldERlc2MoJ1lBTUwgZnJvbnRtYXR0ZXIgZmllbGRzIHRvIGlnbm9yZSBnbG9iYWxseSBhY3Jvc3MgYWxsIG5vdGVzLicpO1xyXG5cclxuXHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmdsb2JhbGx5SWdub3JlZEZpZWxkcy5mb3JFYWNoKChmaWVsZCwgaW5kZXgpID0+IHtcclxuXHRcdFx0Y29uc3QgcyA9IG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdFx0LmFkZFRleHQoKGNiKSA9PiB7XHJcblx0XHRcdFx0XHQvLyBQcmV2ZW50IGNsaWNrcyB3aXRoaW4gdGhlIHRleHQgaW5wdXQgZnJvbSBjb2xsYXBzaW5nIHRoZSBhY2NvcmRpb25cclxuXHRcdFx0XHRcdGNiLmlucHV0RWwub25tb3VzZWRvd24gPSAoZXZ0OiBNb3VzZUV2ZW50KSA9PiBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0XHRjYi5zZXRQbGFjZWhvbGRlcihcIkVudGVyIGZpZWxkIG5hbWUgKGUuZy4sIGNzc2NsYXNzLCB0YWdzKS4uLlwiKVxyXG5cdFx0XHRcdFx0XHQuc2V0VmFsdWUoZmllbGQpXHJcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAobmV3RmllbGQpID0+IHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5nbG9iYWxseUlnbm9yZWRGaWVsZHNbaW5kZXhdID0gbmV3RmllbGQ7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0LmFkZEV4dHJhQnV0dG9uKChjYikgPT4ge1xyXG5cdFx0XHRcdFx0Y2Iuc2V0SWNvbihcImNyb3NzXCIpXHJcblx0XHRcdFx0XHRcdC5zZXRUb29sdGlwKFwiRGVsZXRlXCIpXHJcblx0XHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jIChldnQ/OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGV2dCkgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmdsb2JhbGx5SWdub3JlZEZpZWxkcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0cy5pbmZvRWwucmVtb3ZlKCk7XHJcblx0XHRcdHMuY29udHJvbEVsLm9ubW91c2Vkb3duID0gKGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuYWRkQnV0dG9uKChjYikgPT4ge1xyXG5cdFx0XHRcdGNiLnNldEJ1dHRvblRleHQoXCJBZGQgRmllbGRcIilcclxuXHRcdFx0XHRcdC5zZXRDdGEoKVxyXG5cdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKGV2dD86IE1vdXNlRXZlbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKGV2dCkgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5nbG9iYWxseUlnbm9yZWRGaWVsZHMucHVzaChcIlwiKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0Y2IuYnV0dG9uRWwub25tb3VzZWRvd24gPSAoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFkZEtub3dsZWRnZU5hbWVzcGFjaW5nQWNjb3JkaW9uKGNvbnRlbnQ6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcblxyXG5cdFx0Ly8gRGVzY3JpcHRpb25cclxuXHRcdGNvbnRlbnQuY3JlYXRlRWwoJ3AnLCB7XHJcblx0XHRcdHRleHQ6ICdDb25maWd1cmUgaG93IGtub3dsZWRnZSBpcyBvcmdhbml6ZWQgYW5kIG5hbWVzcGFjZWQgaW4geW91ciBncmFwaCBkYXRhYmFzZS4nLFxyXG5cdFx0XHRjbHM6ICdzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24nXHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBPbnRvbG9neSBDb25maWd1cmF0aW9uIHN1YnNlY3Rpb25cclxuXHRcdGNvbnRlbnQuY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnT250b2xvZ3kgQ29uZmlndXJhdGlvbicsIGNsczogJ3NldHRpbmctaXRlbS1uYW1lJyB9KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnVXNlIEN1c3RvbSBPbnRvbG9neScgKyB0aGlzLmNyZWF0ZVN0YXR1c0luZGljYXRvcignaW1wbGVtZW50ZWQnKSlcclxuXHRcdFx0LnNldERlc2MoJ0VuYWJsZSBjdXN0b20gZW50aXR5IHR5cGVzIHdpdGggcHJlLWV4aXN0aW5nIFB5ZGFudGljIG1vZGVscy4gV2hlbiBkaXNhYmxlZCwgdXNlcyBnZW5lcmljIHRleHQgZXBpc29kZXMuJylcclxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZUN1c3RvbU9udG9sb2d5KVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZUN1c3RvbU9udG9sb2d5ID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0Ly8gTmFtZXNwYWNpbmcgU3RyYXRlZ3kgc3Vic2VjdGlvblxyXG5cdFx0Y29udGVudC5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdOYW1lc3BhY2luZyBTdHJhdGVneScsIGNsczogJ3NldHRpbmctaXRlbS1uYW1lJyB9KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnTmFtZXNwYWNlIFN0cmF0ZWd5JyArIHRoaXMuY3JlYXRlU3RhdHVzSW5kaWNhdG9yKCdpbXBsZW1lbnRlZCcpKVxyXG5cdFx0XHQuc2V0RGVzYygnUHJpbWFyeSBzdHJhdGVneSBmb3Igb3JnYW5pemluZyBrbm93bGVkZ2UgaW4gdGhlIGdyYXBoJylcclxuXHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IGRyb3Bkb3duXHJcblx0XHRcdFx0LmFkZE9wdGlvbigndmF1bHQnLCAnVmF1bHQgTmFtZSAtIFVzZSB2YXVsdCBhcyBuYW1lc3BhY2UnKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2ZvbGRlcicsICdGb2xkZXIgUGF0aCAtIFVzZSBub3RlIGZvbGRlciBhcyBuYW1lc3BhY2UnKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ3Byb3BlcnR5JywgJ1Byb3BlcnR5IFZhbHVlIC0gVXNlIGdfZ3JvdXBfaWQgcHJvcGVydHknKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2N1c3RvbScsICdDdXN0b20gVmFsdWUgLSBVc2UgZGVmYXVsdCBuYW1lc3BhY2Ugc2V0dGluZycpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLm5hbWVzcGFjZVN0cmF0ZWd5KVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHQgICAgY29uc3Qgc3RyYXRlZ3kgPSB2YWx1ZSBhcyAndmF1bHQnIHwgJ2ZvbGRlcicgfCAncHJvcGVydHknIHwgJ2N1c3RvbSc7XHJcblx0XHRcdFx0ICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLm5hbWVzcGFjZVN0cmF0ZWd5ID0gc3RyYXRlZ3k7XHJcblxyXG5cdFx0XHRcdCAgICAvLyBVcGRhdGUgb3RoZXIgVUkgY29udHJvbHMgYmFzZWQgb24gc3RyYXRlZ3lcclxuXHRcdFx0XHQgICAgaWYgKHN0cmF0ZWd5ID09PSAndmF1bHQnKSB7XHJcblx0XHRcdFx0ICAgICAgICAvLyBTZXQgZGVmYXVsdCBuYW1lc3BhY2UgdG8gdmF1bHQgbmFtZVxyXG5cdFx0XHRcdCAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdE5hbWVzcGFjZSA9IHRoaXMuYXBwLnZhdWx0LmdldE5hbWUoKTtcclxuXHRcdFx0XHQgICAgICAgIGlmICh0aGlzLmRlZmF1bHROYW1lc3BhY2VJbnB1dCkge1xyXG5cdFx0XHRcdCAgICAgICAgICAgIHRoaXMuZGVmYXVsdE5hbWVzcGFjZUlucHV0LnNldFZhbHVlKHRoaXMuYXBwLnZhdWx0LmdldE5hbWUoKSk7XHJcblx0XHRcdFx0ICAgICAgICB9XHJcblx0XHRcdFx0ICAgIH0gZWxzZSBpZiAoc3RyYXRlZ3kgPT09ICdmb2xkZXInKSB7XHJcblx0XHRcdFx0ICAgICAgICAvLyBFbmFibGUgZm9sZGVyIG5hbWVzcGFjaW5nXHJcblx0XHRcdFx0ICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVGb2xkZXJOYW1lc3BhY2luZyA9IHRydWU7XHJcblx0XHRcdFx0ICAgICAgICBpZiAodGhpcy5mb2xkZXJUb2dnbGUpIHtcclxuXHRcdFx0XHQgICAgICAgICAgICB0aGlzLmZvbGRlclRvZ2dsZS5zZXRWYWx1ZSh0cnVlKTtcclxuXHRcdFx0XHQgICAgICAgIH1cclxuXHRcdFx0XHQgICAgfSBlbHNlIGlmIChzdHJhdGVneSA9PT0gJ3Byb3BlcnR5Jykge1xyXG5cdFx0XHRcdCAgICAgICAgLy8gRW5hYmxlIHByb3BlcnR5IG5hbWVzcGFjaW5nXHJcblx0XHRcdFx0ICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVQcm9wZXJ0eU5hbWVzcGFjaW5nID0gdHJ1ZTtcclxuXHRcdFx0XHQgICAgICAgIGlmICh0aGlzLnByb3BlcnR5VG9nZ2xlKSB7XHJcblx0XHRcdFx0ICAgICAgICAgICAgdGhpcy5wcm9wZXJ0eVRvZ2dsZS5zZXRWYWx1ZSh0cnVlKTtcclxuXHRcdFx0XHQgICAgICAgIH1cclxuXHRcdFx0XHQgICAgfVxyXG5cdFx0XHRcdCAgICAvLyBGb3IgJ2N1c3RvbScsIGRvbid0IGNoYW5nZSBhbnkgb3RoZXIgY29udHJvbHNcclxuXHJcblx0XHRcdFx0ICAgIC8vIEFmdGVyIHVwZGF0aW5nLCBzYXZlIHRoZSBzZXR0aW5nc1xyXG5cdFx0XHRcdCAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0RlZmF1bHQgTmFtZXNwYWNlJyArIHRoaXMuY3JlYXRlU3RhdHVzSW5kaWNhdG9yKCdpbXBsZW1lbnRlZCcpKVxyXG5cdFx0XHQuc2V0RGVzYygnRGVmYXVsdCBuYW1lc3BhY2Ugd2hlbiBzdHJhdGVneSBpcyBcImN1c3RvbVwiIG9yIHdoZW4gb3RoZXIgc3RyYXRlZ2llcyBmYWlsJylcclxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB7XHJcblx0XHRcdFx0dGhpcy5kZWZhdWx0TmFtZXNwYWNlSW5wdXQgPSB0ZXh0O1xyXG5cdFx0XHRcdHRleHQuc2V0UGxhY2Vob2xkZXIoJ215LXZhdWx0JylcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWZhdWx0TmFtZXNwYWNlKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKHZhbHVlID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5lbnN1cmVTaGFyZWREZWJvdW5jZUluaXRpYWxpemVkKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMuX3NoYXJlZFRleHREZWJvdW5jZT8uKEpTT04uc3RyaW5naWZ5KHsga2V5OiAnZGVmYXVsdE5hbWVzcGFjZScsIHZhbHVlIH0pKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRsZXQgZm9sZGVyTWFwcGluZ0NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnRW5hYmxlIEZvbGRlciBOYW1lc3BhY2luZycgKyB0aGlzLmNyZWF0ZVN0YXR1c0luZGljYXRvcignaW1wbGVtZW50ZWQnKSlcclxuXHRcdFx0LnNldERlc2MoJ1VzZSB0b3AtbGV2ZWwgZm9sZGVyIG5hbWVzIGFzIG5hbWVzcGFjZXMuIFN1YmZvbGRlcnMgYXJlIG5vdCBzdXBwb3J0ZWQuJylcclxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4ge1xyXG5cdFx0XHRcdHRoaXMuZm9sZGVyVG9nZ2xlID0gdG9nZ2xlO1xyXG5cdFx0XHRcdHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVGb2xkZXJOYW1lc3BhY2luZylcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlRm9sZGVyTmFtZXNwYWNpbmcgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdC8vIFNob3cvaGlkZSBmb2xkZXIgbWFwcGluZyBjb25maWd1cmF0aW9uIGJhc2VkIG9uIHRvZ2dsZVxyXG5cdFx0XHRcdFx0XHRpZiAoZm9sZGVyTWFwcGluZ0NvbnRhaW5lcikge1xyXG5cdFx0XHRcdFx0XHRcdGZvbGRlck1hcHBpbmdDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IHZhbHVlID8gJ2Jsb2NrJyA6ICdub25lJztcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdC8vIEBwdXJwb3NlOiBDdXN0b20gZm9sZGVyIG5hbWVzcGFjZSBtYXBwaW5nIGNvbmZpZ3VyYXRpb24gQGRlcGVuZHM6IGVuYWJsZUZvbGRlck5hbWVzcGFjaW5nIHRvZ2dsZSBAcmVzdWx0czogRHluYW1pYyBmb2xkZXIgbWFwcGluZyBVSVxyXG5cdFx0Zm9sZGVyTWFwcGluZ0NvbnRhaW5lciA9IGNvbnRlbnQuY3JlYXRlRGl2KCk7XHJcblx0XHRmb2xkZXJNYXBwaW5nQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVGb2xkZXJOYW1lc3BhY2luZyA/ICdibG9jaycgOiAnbm9uZSc7XHJcblx0XHRmb2xkZXJNYXBwaW5nQ29udGFpbmVyLnN0eWxlLm1hcmdpbkxlZnQgPSAnMjRweCc7IC8vIEluZGVudCB0byBzaG93IGl0J3MgYSBzdWItb3B0aW9uXHJcblx0XHRmb2xkZXJNYXBwaW5nQ29udGFpbmVyLnN0eWxlLm1hcmdpblRvcCA9ICc4cHgnO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGZvbGRlck1hcHBpbmdDb250YWluZXIpXHJcblx0XHRcdC5zZXROYW1lKCdDdXN0b20gRm9sZGVyIE1hcHBpbmdzJyArIHRoaXMuY3JlYXRlU3RhdHVzSW5kaWNhdG9yKCdpbXBsZW1lbnRlZCcpKVxyXG5cdFx0XHQuc2V0RGVzYygnTWFwIHNwZWNpZmljIGZvbGRlcnMgdG8gY3VzdG9tIGdyb3VwX2lkIG5hbWVzcGFjZXMuIExlYXZlIGVtcHR5IHRvIHVzZSBhdXRvbWF0aWMgZm9sZGVyIG5hbWVzLicpO1xyXG5cclxuXHRcdC8vIERpc3BsYXkgZXhpc3RpbmcgZm9sZGVyIG1hcHBpbmdzIHVzaW5nIHRoZSBleGFjdCBwYXR0ZXJuIGZyb20gZXhjbHVkZWRGb2xkZXJzIGF0IGxpbmVzIDkyNC05NDlcclxuXHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmZvbGRlck5hbWVzcGFjZU1hcHBpbmdzLmZvckVhY2goKG1hcHBpbmcsIGluZGV4KSA9PiB7XHJcblx0XHRcdGNvbnN0IHMgPSBuZXcgU2V0dGluZyhmb2xkZXJNYXBwaW5nQ29udGFpbmVyKVxyXG5cdFx0XHRcdC5hZGRTZWFyY2goKGNiKSA9PiB7XHJcblx0XHRcdFx0XHRuZXcgRm9sZGVyU3VnZ2VzdCh0aGlzLmFwcCwgY2IuaW5wdXRFbCk7XHJcblx0XHRcdFx0XHRjYi5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChldnQ6IE1vdXNlRXZlbnQpID0+IGV2dC5zdG9wUHJvcGFnYXRpb24oKSk7XHJcblx0XHRcdFx0XHRjYi5zZXRQbGFjZWhvbGRlcihcIlNlbGVjdCBmb2xkZXIgb3IgdHlwZSBwYXRoLi4uXCIpXHJcblx0XHRcdFx0XHRcdC5zZXRWYWx1ZShtYXBwaW5nLmZvbGRlclBhdGgpXHJcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAobmV3Rm9sZGVyUGF0aCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmZvbGRlck5hbWVzcGFjZU1hcHBpbmdzW2luZGV4XS5mb2xkZXJQYXRoID0gbmV3Rm9sZGVyUGF0aDtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gQXV0by1wb3B1bGF0ZSBncm91cF9pZCBvbmx5IHdoZW4gdXNlciBmaW5pc2hlcyB0eXBpbmcgKG9uIGJsdXIpXHJcblx0XHRcdFx0XHRjYi5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGN1cnJlbnRGb2xkZXJQYXRoID0gY2IuZ2V0VmFsdWUoKTtcclxuXHRcdFx0XHRcdFx0Ly8gT25seSBhdXRvLXBvcHVsYXRlIGlmIGdyb3VwX2lkIGlzIGVtcHR5IGFuZCB3ZSBoYXZlIGEgZm9sZGVyIHBhdGhcclxuXHRcdFx0XHRcdFx0aWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb2xkZXJOYW1lc3BhY2VNYXBwaW5nc1tpbmRleF0uZ3JvdXBJZCAmJiBjdXJyZW50Rm9sZGVyUGF0aC50cmltKCkpIHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb2xkZXJOYW1lc3BhY2VNYXBwaW5nc1tpbmRleF0uZ3JvdXBJZCA9IGN1cnJlbnRGb2xkZXJQYXRoLnJlcGxhY2UoL1xcLy9nLCAnXycpO1xyXG5cdFx0XHRcdFx0XHRcdC8vIFVwZGF0ZSB0aGUgZ3JvdXBfaWQgZmllbGQgZGlyZWN0bHlcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBncm91cElkSW5wdXQgPSBzLmNvbnRyb2xFbC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtwbGFjZWhvbGRlcj1cIkVudGVyIGdyb3VwX2lkLi4uXCJdJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuXHRcdFx0XHRcdFx0XHRpZiAoZ3JvdXBJZElucHV0KSB7XHJcblx0XHRcdFx0XHRcdFx0XHRncm91cElkSW5wdXQudmFsdWUgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb2xkZXJOYW1lc3BhY2VNYXBwaW5nc1tpbmRleF0uZ3JvdXBJZDtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0LmFkZFRleHQoKGNiKSA9PiB7XHJcblx0XHRcdFx0XHRjYi5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChldnQ6IE1vdXNlRXZlbnQpID0+IGV2dC5zdG9wUHJvcGFnYXRpb24oKSk7XHJcblx0XHRcdFx0XHRjYi5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGV2dDogRXZlbnQpID0+IGV2dC5zdG9wUHJvcGFnYXRpb24oKSk7XHJcblx0XHRcdFx0XHRjYi5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZ0OiBLZXlib2FyZEV2ZW50KSA9PiBldnQuc3RvcFByb3BhZ2F0aW9uKCkpO1xyXG5cdFx0XHRcdFx0Y2IuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChldnQ6IEtleWJvYXJkRXZlbnQpID0+IGV2dC5zdG9wUHJvcGFnYXRpb24oKSk7XHJcblx0XHRcdFx0XHRjYi5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKGV2dDogRm9jdXNFdmVudCkgPT4gZXZ0LnN0b3BQcm9wYWdhdGlvbigpKTtcclxuXHRcdFx0XHRcdGNiLnNldFBsYWNlaG9sZGVyKFwiRW50ZXIgZ3JvdXBfaWQuLi5cIilcclxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKG1hcHBpbmcuZ3JvdXBJZClcclxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jIChuZXdHcm91cElkKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9sZGVyTmFtZXNwYWNlTWFwcGluZ3NbaW5kZXhdLmdyb3VwSWQgPSBuZXdHcm91cElkO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdC5hZGRFeHRyYUJ1dHRvbigoY2IpID0+IHtcclxuXHRcdFx0XHRcdGNiLnNldEljb24oXCJjcm9zc1wiKVxyXG5cdFx0XHRcdFx0XHQuc2V0VG9vbHRpcChcIkRlbGV0ZVwiKVxyXG5cdFx0XHRcdFx0XHQub25DbGljayhhc3luYyAoZXZ0PzogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChldnQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb2xkZXJOYW1lc3BhY2VNYXBwaW5ncy5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdGNiLmV4dHJhU2V0dGluZ3NFbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZ0OiBNb3VzZUV2ZW50KSA9PiBldnQuc3RvcFByb3BhZ2F0aW9uKCkpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRzLmluZm9FbC5yZW1vdmUoKTtcclxuXHRcdFx0cy5jb250cm9sRWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoZm9sZGVyTWFwcGluZ0NvbnRhaW5lcilcclxuXHRcdFx0LmFkZEJ1dHRvbigoY2IpID0+IHtcclxuXHRcdFx0XHRjYi5zZXRCdXR0b25UZXh0KFwiQWRkIEZvbGRlciBNYXBwaW5nXCIpXHJcblx0XHRcdFx0XHQuc2V0Q3RhKClcclxuXHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jIChldnQ/OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmIChldnQpIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9sZGVyTmFtZXNwYWNlTWFwcGluZ3MucHVzaCh7XHJcblx0XHRcdFx0XHRcdFx0Zm9sZGVyUGF0aDogXCJcIixcclxuXHRcdFx0XHRcdFx0XHRncm91cElkOiBcIlwiXHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRjYi5idXR0b25FbC5vbm1vdXNlZG93biA9IChlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnRW5hYmxlIFByb3BlcnR5IE5hbWVzcGFjaW5nJyArIHRoaXMuY3JlYXRlU3RhdHVzSW5kaWNhdG9yKCdpbXBsZW1lbnRlZCcpKVxyXG5cdFx0XHQuc2V0RGVzYygnVXNlIGdfZ3JvdXBfaWQgZnJvbnRtYXR0ZXIgcHJvcGVydHkgYXMgbmFtZXNwYWNlIHdoZW4gYXZhaWxhYmxlJylcclxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4ge1xyXG5cdFx0XHRcdHRoaXMucHJvcGVydHlUb2dnbGUgPSB0b2dnbGU7XHJcblx0XHRcdFx0dG9nZ2xlLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZVByb3BlcnR5TmFtZXNwYWNpbmcpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZVByb3BlcnR5TmFtZXNwYWNpbmcgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0Ly8gTWFudWFsIG5hbWVzcGFjZSBkaXNjb3Zlcnkgc2VjdGlvblxyXG5cdFx0Y29uc3QgYXZhaWxhYmxlTmFtZXNwYWNlc1NldHRpbmcgPSBuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnRGlzY292ZXIgTmFtZXNwYWNlcycgKyB0aGlzLmNyZWF0ZVN0YXR1c0luZGljYXRvcignaW1wbGVtZW50ZWQnKSlcclxuXHRcdFx0LnNldERlc2MoJ0NsaWNrIHRvIHNjYW4gdGhlIHZhdWx0IGFuZCBnZW5lcmF0ZSB0aGUgbGlzdCBvZiBhdmFpbGFibGUgbmFtZXNwYWNlcyBiYXNlZCBvbiB0aGUgc2V0dGluZ3MgYWJvdmUuJyk7XHJcblxyXG5cdFx0Ly8gQWRkIGN1cnJlbnQgbmFtZXNwYWNlcyBkaXNwbGF5XHJcblx0XHRjb25zdCBuYW1lc3BhY2VzRGlzcGxheSA9IGF2YWlsYWJsZU5hbWVzcGFjZXNTZXR0aW5nLmRlc2NFbC5jcmVhdGVEaXYoKTtcclxuXHRcdG5hbWVzcGFjZXNEaXNwbGF5LnN0eWxlLm1hcmdpblRvcCA9ICc4cHgnO1xyXG5cdFx0bmFtZXNwYWNlc0Rpc3BsYXkuc3R5bGUuZm9udFNpemUgPSAnMC45ZW0nO1xyXG5cdFx0bmFtZXNwYWNlc0Rpc3BsYXkuc3R5bGUuY29sb3IgPSAndmFyKC0tdGV4dC1tdXRlZCknO1xyXG5cclxuXHRcdGNvbnN0IHVwZGF0ZU5hbWVzcGFjZXNEaXNwbGF5ID0gKCkgPT4ge1xyXG5cdFx0XHRjb25zdCBuYW1lc3BhY2VzID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MuYXZhaWxhYmxlTmFtZXNwYWNlcyB8fCBbXTtcclxuXHRcdFx0aWYgKG5hbWVzcGFjZXMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdG5hbWVzcGFjZXNEaXNwbGF5LnRleHRDb250ZW50ID0gYEN1cnJlbnQgbmFtZXNwYWNlczogJHtuYW1lc3BhY2VzLmpvaW4oJywgJyl9YDtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRuYW1lc3BhY2VzRGlzcGxheS50ZXh0Q29udGVudCA9ICdObyBuYW1lc3BhY2VzIGRpc2NvdmVyZWQgeWV0LiBDbGljayBcIkdlbmVyYXRlXCIgdG8gc2NhbiB0aGUgdmF1bHQuJztcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQvLyBJbml0aWFsIGRpc3BsYXlcclxuXHRcdHVwZGF0ZU5hbWVzcGFjZXNEaXNwbGF5KCk7XHJcblxyXG5cdFx0Ly8gQWRkIEdlbmVyYXRlIGJ1dHRvblxyXG5cdFx0YXZhaWxhYmxlTmFtZXNwYWNlc1NldHRpbmcuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cclxuXHRcdFx0LnNldEJ1dHRvblRleHQoJ0dlbmVyYXRlJylcclxuXHRcdFx0LnNldEN0YSgpXHJcblx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRjb25zdCBvcmlnaW5hbFRleHQgPSBidXR0b24uYnV0dG9uRWwudGV4dENvbnRlbnQ7XHJcblx0XHRcdFx0YnV0dG9uLmJ1dHRvbkVsLnRleHRDb250ZW50ID0gJ0dlbmVyYXRpbmcuLi4nO1xyXG5cdFx0XHRcdGJ1dHRvbi5zZXREaXNhYmxlZCh0cnVlKTtcclxuXHJcblx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnVwZGF0ZUF2YWlsYWJsZU5hbWVzcGFjZXMoKTtcclxuXHRcdFx0XHRcdHVwZGF0ZU5hbWVzcGFjZXNEaXNwbGF5KCk7XHJcblx0XHRcdFx0XHRuZXcgTm90aWNlKCdbU1VDQ0VTU10gTmFtZXNwYWNlcyB1cGRhdGVkIHN1Y2Nlc3NmdWxseScpO1xyXG5cdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0XHRjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcclxuXHRcdFx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gRmFpbGVkIHRvIHVwZGF0ZSBuYW1lc3BhY2VzOiAke2Vycm9yTWVzc2FnZX1gKTtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ0ZhaWxlZCB0byB1cGRhdGUgbmFtZXNwYWNlcycsIHsgZXJyb3IgfSk7XHJcblx0XHRcdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0XHRcdGJ1dHRvbi5idXR0b25FbC50ZXh0Q29udGVudCA9IG9yaWdpbmFsVGV4dDtcclxuXHRcdFx0XHRcdGJ1dHRvbi5zZXREaXNhYmxlZChmYWxzZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KSk7XHJcblxyXG5cdFx0Ly8gTXVsdGktVmF1bHQgQ29uZmlndXJhdGlvbiBzdWJzZWN0aW9uXHJcblx0XHRjb250ZW50LmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ011bHRpLVZhdWx0IENvbmZpZ3VyYXRpb24nLCBjbHM6ICdzZXR0aW5nLWl0ZW0tbmFtZScgfSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0VuYWJsZSBNdWx0aS1WYXVsdCBNb2RlJyArIHRoaXMuY3JlYXRlU3RhdHVzSW5kaWNhdG9yKCd0b2RvJykpXHJcblx0XHRcdC5zZXREZXNjKCdFbmFibGUgYWR2YW5jZWQgZmVhdHVyZXMgZm9yIG1hbmFnaW5nIG11bHRpcGxlIE9ic2lkaWFuIHZhdWx0cycgKyAodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0RldmVsb3BtZW50SW5kaWNhdG9ycyA/ICcgKE11bHRpLXZhdWx0IGZlYXR1cmVzIHBsYW5uZWQgZm9yIGZ1dHVyZSByZWxlYXNlKScgOiAnJykpXHJcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVNdWx0aVZhdWx0TW9kZSlcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVNdWx0aVZhdWx0TW9kZSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdDdXJyZW50IFZhdWx0IFByaW9yaXR5JyArIHRoaXMuY3JlYXRlU3RhdHVzSW5kaWNhdG9yKCd0b2RvJykpXHJcblx0XHRcdC5zZXREZXNjKCdQcmlvcml0eSBsZXZlbCBmb3IgdGhpcyB2YXVsdCBpbiBtdWx0aS12YXVsdCBzY2VuYXJpb3MgKGhpZ2hlciBudW1iZXJzID0gaGlnaGVyIHByaW9yaXR5KScpXHJcblx0XHRcdC5hZGRTbGlkZXIoc2xpZGVyID0+IHNsaWRlclxyXG5cdFx0XHRcdC5zZXRMaW1pdHMoMSwgMTAsIDEpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmN1cnJlbnRWYXVsdFByaW9yaXR5KVxyXG5cdFx0XHRcdC5zZXREeW5hbWljVG9vbHRpcCgpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VycmVudFZhdWx0UHJpb3JpdHkgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHQvLyBEaXNwbGF5IGN1cnJlbnQgdmF1bHQgY29uZmlndXJhdGlvbiBzdGF0dXNcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdWYXVsdCBDb25maWd1cmF0aW9ucycgKyB0aGlzLmNyZWF0ZVN0YXR1c0luZGljYXRvcigndG9kbycpKVxyXG5cdFx0XHQuc2V0RGVzYyhgQ3VycmVudGx5IHRyYWNraW5nICR7dGhpcy5wbHVnaW4uc2V0dGluZ3MudmF1bHRDb25maWd1cmF0aW9ucy5sZW5ndGh9IHZhdWx0KHMpLiBBZHZhbmNlZCB2YXVsdCBtYW5hZ2VtZW50IGZlYXR1cmVzIGNvbWluZyBzb29uLmApXHJcblx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxyXG5cdFx0XHRcdC5zZXRCdXR0b25UZXh0KCdNYW5hZ2UgVmF1bHRzJylcclxuXHRcdFx0XHQuc2V0RGlzYWJsZWQodHJ1ZSlcclxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHQvLyBQbGFjZWhvbGRlciBmb3IgZnV0dXJlIHZhdWx0IG1hbmFnZW1lbnQgVUlcclxuXHRcdFx0XHRcdG5ldyBOb3RpY2UoJ011bHRpLXZhdWx0IG1hbmFnZW1lbnQgZmVhdHVyZXMgYXJlIHBsYW5uZWQgZm9yIGEgZnV0dXJlIHJlbGVhc2UnKTtcclxuXHRcdFx0XHR9KSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFkZFNlcnZlcnNBY2NvcmRpb24oY29udGVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuXHJcblx0XHQvLyBVcGRhdGVkIGFyY2hpdGVjdHVyZSBkZXNjcmlwdGlvblxyXG5cdFx0Y29udGVudC5jcmVhdGVFbCgncCcsIHtcclxuXHRcdFx0dGV4dDogJ1NlcnZlciBhcmNoaXRlY3R1cmU6IFRoZSBmaXJzdCBNQ1AgcHJvY2VzcyBhdXRvbWF0aWNhbGx5IHN0YXJ0cyB0aGUgc2hhcmVkIFdlYlNvY2tldCBzZXJ2ZXIuIFN1YnNlcXVlbnQgcHJvY2Vzc2VzIGNvbm5lY3QgYXMgY2xpZW50cy4gU2VydmVyIG93bmVyc2hpcCB0cmFuc2ZlcnMgYXV0b21hdGljYWxseSB3aGVuIHRoZSBob3N0IHByb2Nlc3MgZXhpdHMuJyxcclxuXHRcdFx0Y2xzOiAnc2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uJ1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gV2ViU29ja2V0IFNlcnZlciBTZWN0aW9uXHJcblx0XHRjb250ZW50LmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ1NoYXJlZCBXZWJTb2NrZXQgU2VydmVyJywgY2xzOiAnc2V0dGluZy1pdGVtLW5hbWUnIH0pO1xyXG5cclxuXHRcdC8vIFNlcnZlciBvd25lcnNoaXAgZXhwbGFuYXRpb25cclxuXHRcdGNvbnRlbnQuY3JlYXRlRWwoJ3AnLCB7XHJcblx0XHRcdHRleHQ6ICdTZXJ2ZXIgbGlmZWN5Y2xlIGlzIG1hbmFnZWQgYXV0b21hdGljYWxseSBieSBNQ1AgcHJvY2Vzc2VzLiBNYW51YWwgY29udHJvbCBpcyBub3QgbmVlZGVkLicsXHJcblx0XHRcdGNsczogJ3NldHRpbmctaXRlbS1kZXNjcmlwdGlvbicsXHJcblx0XHRcdGF0dHI6IHsgc3R5bGU6ICdmb250LXNpemU6IDAuOWVtOyBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7IG1hcmdpbi1ib3R0b206IDE2cHg7JyB9XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBXZWJTb2NrZXQgUG9ydCBDb25maWd1cmF0aW9uIChyZWFkLW9ubHkpXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnV2ViU29ja2V0IFBvcnQnICsgdGhpcy5jcmVhdGVTdGF0dXNJbmRpY2F0b3IoJ2ltcGxlbWVudGVkJykpXHJcblx0XHRcdC5zZXREZXNjKCdQb3J0IG51bWJlciBmb3IgdGhlIHNoYXJlZCBXZWJTb2NrZXQgc2VydmVyIChjb25maWd1cmVkIHZpYSBNQ1ApJylcclxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCc4NzY1JylcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mud3NQb3J0LnRvU3RyaW5nKCkpXHJcblx0XHRcdFx0LnNldERpc2FibGVkKHRydWUpKTtcclxuXHJcblx0XHQvLyBEaXNwbGF5IFdlYlNvY2tldCBBdXRoIFRva2VuIChyZWFkLW9ubHkgd2l0aCBjb3B5KVxyXG5cdFx0Y29uc3QgYXV0aFRva2VuU2V0dGluZyA9IG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdBdXRoZW50aWNhdGlvbiBUb2tlbicgKyB0aGlzLmNyZWF0ZVN0YXR1c0luZGljYXRvcignaW1wbGVtZW50ZWQnKSlcclxuXHRcdFx0LnNldERlc2MoJ0F1dGhlbnRpY2F0aW9uIHRva2VuIGZvciBzZWN1cmUgV2ViU29ja2V0IGNvbm5lY3Rpb25zIChtYW5hZ2VkIGJ5IE1DUCknKTtcclxuXHJcblx0XHRsZXQgYXV0aFRva2VuVGV4dDogYW55O1xyXG5cdFx0YXV0aFRva2VuU2V0dGluZy5hZGRUZXh0KHRleHQgPT4ge1xyXG5cdFx0XHRhdXRoVG9rZW5UZXh0ID0gdGV4dDtcclxuXHRcdFx0dGV4dC5zZXREaXNhYmxlZCh0cnVlKVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy53c0F1dGhUb2tlbik7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBDb3B5IFRva2VuIEJ1dHRvblxyXG5cdFx0YXV0aFRva2VuU2V0dGluZy5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxyXG5cdFx0XHQuc2V0QnV0dG9uVGV4dCgnQ29weScpXHJcblx0XHRcdC5vbkNsaWNrKGFzeW5jIChldmVudCkgPT4ge1xyXG5cdFx0XHRcdGV2ZW50Py5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh0aGlzLnBsdWdpbi5zZXR0aW5ncy53c0F1dGhUb2tlbik7XHJcblx0XHRcdFx0bmV3IE5vdGljZSgnQXV0aCB0b2tlbiBjb3BpZWQgdG8gY2xpcGJvYXJkJyk7XHJcblx0XHRcdH0pKTtcclxuXHJcblx0XHQvLyBDdXJyZW50IENvbm5lY3Rpb25zIFN0YXR1c1xyXG5cdFx0Y29uc3QgY29ubmVjdGlvbnNDb250YWluZXIgPSBjb250ZW50LmNyZWF0ZURpdigpO1xyXG5cdFx0Y29ubmVjdGlvbnNDb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IGBcclxuXHRcdFx0bWFyZ2luOiAxNnB4IDA7XHJcblx0XHRcdHBhZGRpbmc6IDEycHg7XHJcblx0XHRcdGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcclxuXHRcdFx0Ym9yZGVyLXJhZGl1czogNnB4O1xyXG5cdFx0XHRiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XHJcblx0XHRgO1xyXG5cclxuXHRcdGNvbnN0IGNvbm5lY3Rpb25zVGl0bGUgPSBjb25uZWN0aW9uc0NvbnRhaW5lci5jcmVhdGVFbCgnaDUnLCB7XHJcblx0XHRcdHRleHQ6ICdDdXJyZW50IENvbm5lY3Rpb25zJyxcclxuXHRcdFx0YXR0cjogeyBzdHlsZTogJ21hcmdpbjogMCAwIDhweCAwOyBmb250LXNpemU6IDAuOWVtOyBmb250LXdlaWdodDogNjAwOycgfVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gQ29ubmVjdGlvbiBzdGF0dXMgZGlzcGxheSAodXBkYXRlZCBwZXJpb2RpY2FsbHkpXHJcblx0XHRjb25zdCBjb25uZWN0aW9uc1N0YXR1cyA9IGNvbm5lY3Rpb25zQ29udGFpbmVyLmNyZWF0ZURpdigpO1xyXG5cdFx0Y29ubmVjdGlvbnNTdGF0dXMuc3R5bGUuY3NzVGV4dCA9IGBcclxuXHRcdFx0Zm9udC1zaXplOiAwLjhlbTtcclxuXHRcdFx0Y29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xyXG5cdFx0XHRsaW5lLWhlaWdodDogMS40O1xyXG5cdFx0YDtcclxuXHJcblx0XHRjb25zdCB1cGRhdGVDb25uZWN0aW9uc0Rpc3BsYXkgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdGNvbnN0IHBvcnQgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy53c1BvcnQgfHwgODc2NTtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRjb25zdCBoZWFsdGhSZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwOi8vMTI3LjAuMC4xOiR7cG9ydH0vaGVhbHRoYCwge1xyXG5cdFx0XHRcdFx0aGVhZGVyczogeyAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0aGlzLnBsdWdpbi5zZXR0aW5ncy53c0F1dGhUb2tlbiB8fCAnJ31gIH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRpZiAoaGVhbHRoUmVzcG9uc2Uub2spIHtcclxuXHRcdFx0XHRcdGNvbm5lY3Rpb25zU3RhdHVzLnRleHRDb250ZW50ID0gYENvbm5lY3RlZCB0byBwb3J0ICR7cG9ydH1gO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRjb25uZWN0aW9uc1N0YXR1cy50ZXh0Q29udGVudCA9IGBGYWlsZWQgdG8gY29ubmVjdCB0byBwb3J0ICR7cG9ydH1gO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRjb25uZWN0aW9uc1N0YXR1cy50ZXh0Q29udGVudCA9IGBUcnlpbmcgdG8gY29ubmVjdCB0byBwb3J0ICR7cG9ydH1gO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIEluaXRpYWwgdXBkYXRlXHJcblx0XHR1cGRhdGVDb25uZWN0aW9uc0Rpc3BsYXkoKTtcclxuXHJcblx0XHQvLyBVcGRhdGUgZXZlcnkgNSBzZWNvbmRzXHJcblx0XHRjb25zdCBjb25uZWN0aW9uVXBkYXRlSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh1cGRhdGVDb25uZWN0aW9uc0Rpc3BsYXksIDUwMDApO1xyXG5cclxuXHRcdC8vIFN0b3JlIGludGVydmFsIHJlZmVyZW5jZSBmb3IgY2xlYW51cFxyXG5cdFx0KHRoaXMgYXMgYW55KS5jb25uZWN0aW9uVXBkYXRlSW50ZXJ2YWwgPSBjb25uZWN0aW9uVXBkYXRlSW50ZXJ2YWw7XHJcblxyXG5cdFx0Ly8gTUNQIFNlcnZlciBTZWN0aW9uXHJcblx0XHRjb250ZW50LmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ01DUCBTZXJ2ZXInLCBjbHM6ICdzZXR0aW5nLWl0ZW0tbmFtZScgfSk7XHJcblxyXG5cdFx0Ly8gQ3VycmVudCBJbnN0YW5jZXMgU3RhdHVzXHJcblx0XHRjb25zdCBpbnN0YW5jZXNDb250YWluZXIgPSBjb250ZW50LmNyZWF0ZURpdigpO1xyXG5cdFx0aW5zdGFuY2VzQ29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgXHJcblx0XHRcdG1hcmdpbjogMTZweCAwO1xyXG5cdFx0XHRwYWRkaW5nOiAxMnB4O1xyXG5cdFx0XHRib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XHJcblx0XHRcdGJvcmRlci1yYWRpdXM6IDZweDtcclxuXHRcdFx0YmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xyXG5cdFx0YDtcclxuXHJcblx0XHRjb25zdCBpbnN0YW5jZXNUaXRsZSA9IGluc3RhbmNlc0NvbnRhaW5lci5jcmVhdGVFbCgnaDUnLCB7XHJcblx0XHRcdHRleHQ6ICdDdXJyZW50IEluc3RhbmNlcycsXHJcblx0XHRcdGF0dHI6IHsgc3R5bGU6ICdtYXJnaW46IDAgMCA4cHggMDsgZm9udC1zaXplOiAwLjllbTsgZm9udC13ZWlnaHQ6IDYwMDsnIH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIEluc3RhbmNlIHN0YXR1cyBkaXNwbGF5ICh1cGRhdGVkIHBlcmlvZGljYWxseSlcclxuXHRcdGNvbnN0IGluc3RhbmNlc1N0YXR1cyA9IGluc3RhbmNlc0NvbnRhaW5lci5jcmVhdGVEaXYoKTtcclxuXHRcdGluc3RhbmNlc1N0YXR1cy5zdHlsZS5jc3NUZXh0ID0gYFxyXG5cdFx0XHRmb250LXNpemU6IDAuOGVtO1xyXG5cdFx0XHRjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XHJcblx0XHRcdGxpbmUtaGVpZ2h0OiAxLjQ7XHJcblx0XHRgO1xyXG5cclxuXHRcdGNvbnN0IHVwZGF0ZUluc3RhbmNlc0Rpc3BsYXkgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0Ly8gVXNlIFByb2Nlc3NEZXRlY3Rpb24gdG8gZ2V0IGFjdHVhbCBydW5uaW5nIE1DUCBwcm9jZXNzZXNcclxuXHRcdFx0XHRjb25zdCBwcm9jZXNzRGV0ZWN0aW9uID0gUHJvY2Vzc0RldGVjdGlvbi5nZXRJbnN0YW5jZSgpO1xyXG5cdFx0XHRcdGNvbnN0IG1jcFByb2Nlc3NlcyA9IGF3YWl0IHByb2Nlc3NEZXRlY3Rpb24uZ2V0TUNQU2VydmVyUHJvY2Vzc2VzKCk7XHJcblxyXG5cdFx0XHRcdGlmIChtY3BQcm9jZXNzZXMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0Y29uc3QgcHJvY2Vzc0xpbmVzID0gbWNwUHJvY2Vzc2VzLm1hcChwcm9jID0+XHJcblx0XHRcdFx0XHRcdGBQcm9jZXNzICR7cHJvYy5waWR9IHwgJHtwcm9jLnBhcmVudE5hbWV9IHwgJHtwcm9jLmNyZWF0ZWRBdH1gXHJcblx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0aW5zdGFuY2VzU3RhdHVzLmlubmVySFRNTCA9IHByb2Nlc3NMaW5lcy5qb2luKCc8YnI+Jyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGluc3RhbmNlc1N0YXR1cy50ZXh0Q29udGVudCA9IGBObyBhY3RpdmUgaW5zdGFuY2VzIGRldGVjdGVkYDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0aW5zdGFuY2VzU3RhdHVzLnRleHRDb250ZW50ID0gYFN0YXR1cyBjaGVjayBmYWlsZWRgO1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ0ZhaWxlZCB0byB1cGRhdGUgaW5zdGFuY2VzIGRpc3BsYXknLCB7IGVycm9yIH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIEluaXRpYWwgdXBkYXRlXHJcblx0XHR1cGRhdGVJbnN0YW5jZXNEaXNwbGF5KCk7XHJcblxyXG5cdFx0Ly8gVXBkYXRlIGV2ZXJ5IDUgc2Vjb25kc1xyXG5cdFx0Y29uc3QgaW5zdGFuY2VVcGRhdGVJbnRlcnZhbCA9IHNldEludGVydmFsKHVwZGF0ZUluc3RhbmNlc0Rpc3BsYXksIDUwMDApO1xyXG5cclxuXHRcdC8vIFN0b3JlIGludGVydmFsIHJlZmVyZW5jZSBmb3IgY2xlYW51cFxyXG5cdFx0KHRoaXMgYXMgYW55KS5pbnN0YW5jZVVwZGF0ZUludGVydmFsID0gaW5zdGFuY2VVcGRhdGVJbnRlcnZhbDtcclxuXHJcblx0XHQvLyBHZW5lcmF0ZSBNQ1AgQ29uZmlnIEJ1dHRvblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0dlbmVyYXRlIE1DUCBDb25maWcnICsgdGhpcy5jcmVhdGVTdGF0dXNJbmRpY2F0b3IoJ2ltcGxlbWVudGVkJykpXHJcblx0XHRcdC5zZXREZXNjKCdHZW5lcmF0ZSBjb25maWd1cmF0aW9uIGZvciBNQ1AgY2xpZW50cyB0byBjb25uZWN0IHRvIHRoZSBNQ1Agc2VydmVyJylcclxuXHRcdFx0LmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXHJcblx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ0dlbmVyYXRlIENvbmZpZycpXHJcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5nZW5lcmF0ZU1jcENvbmZpZyhidXR0b24uYnV0dG9uRWwpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHR9XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblx0cHJpdmF0ZSBhZGRBZHZhbmNlZEFjY29yZGlvbihjb250ZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdEZWJ1ZyBMb2dnaW5nJyArIHRoaXMuY3JlYXRlU3RhdHVzSW5kaWNhdG9yKCdpbXBsZW1lbnRlZCcpKVxyXG5cdFx0XHQuc2V0RGVzYygnRW5hYmxlIGRldGFpbGVkIGxvZ2dpbmcgZm9yIHRyb3VibGVzaG9vdGluZycpXHJcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVEZWJ1Z0xvZ2dpbmcpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlRGVidWdMb2dnaW5nID0gdmFsdWU7XHJcblx0XHRcdFx0XHQvLyBEaXJlY3RseSB1cGRhdGUgdGhlIGxvZ2dlciBzdGF0ZSB3aGVuIHRoZSBzZXR0aW5nIGNoYW5nZXNcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlci5zZXREZWJ1Zyh2YWx1ZSk7XHJcblx0XHRcdFx0XHQvLyBFeHBsaWNpdGx5IGxvZyB0aGUgZGVidWcgbW9kZSBjaGFuZ2UgZnJvbSB0aGUgc2V0dGluZ3MgdGFiXHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXIuaW5mbyhgRGVidWcgbW9kZSAke3ZhbHVlID8gJ2VuYWJsZWQnIDogJ2Rpc2FibGVkJ30gZnJvbSBzZXR0aW5nc2ApO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdC8vIFZpZXcgTG9ncyBCdXR0b25cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdWaWV3IExvZ3MnICsgdGhpcy5jcmVhdGVTdGF0dXNJbmRpY2F0b3IoJ2ltcGxlbWVudGVkJykpXHJcblx0XHRcdC5zZXREZXNjKCdPcGVuIHRoZSBwbHVnaW4gbG9ncyBkaXJlY3RvcnknKVxyXG5cdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cclxuXHRcdFx0XHQuc2V0QnV0dG9uVGV4dCgnVmlldyBMb2dzJylcclxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnZpZXdMb2dGaWxlKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdC8vIE1hbnVhbCBTeW5jIFRlc3RcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdUZXN0IE1hbnVhbCBTeW5jJyArIHRoaXMuY3JlYXRlU3RhdHVzSW5kaWNhdG9yKCdpbXBsZW1lbnRlZCcpKVxyXG5cdFx0XHQuc2V0RGVzYygnU3luYyBhIHNpbmdsZSBub3RlIG1hbnVhbGx5IHRvIHRlc3QgdGhlIGNvbm5lY3Rpb24gYW5kIHByb2Nlc3MnKVxyXG5cdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cclxuXHRcdFx0XHQuc2V0QnV0dG9uVGV4dCgnU2VsZWN0IGFuZCBTeW5jIE5vdGUnKVxyXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucnVuTWFudWFsU3luY1Rlc3QoYnV0dG9uLmJ1dHRvbkVsKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ1BlcmZvcm1hbmNlIE1ldHJpY3MnICsgdGhpcy5jcmVhdGVTdGF0dXNJbmRpY2F0b3IoJ3RvZG8nKSlcclxuXHRcdFx0LnNldERlc2MoJ1RyYWNrIGFuZCBkaXNwbGF5IHBlcmZvcm1hbmNlIG1ldHJpY3MnICsgKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dEZXZlbG9wbWVudEluZGljYXRvcnMgPyAnIChNZXRyaWNzIGNvbGxlY3Rpb24gbm90IGltcGxlbWVudGVkKScgOiAnJykpXHJcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVQZXJmb3JtYW5jZU1ldHJpY3MpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlUGVyZm9ybWFuY2VNZXRyaWNzID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ01heCBSZXRyeSBBdHRlbXB0cycgKyB0aGlzLmNyZWF0ZVN0YXR1c0luZGljYXRvcignaW1wbGVtZW50ZWQnKSlcclxuXHRcdFx0LnNldERlc2MoJ01heGltdW0gbnVtYmVyIG9mIHJldHJ5IGF0dGVtcHRzIGZvciBmYWlsZWQgb3BlcmF0aW9ucycpXHJcblx0XHRcdC5hZGRTbGlkZXIoc2xpZGVyID0+IHNsaWRlclxyXG5cdFx0XHRcdC5zZXRMaW1pdHMoMSwgMTAsIDEpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLm1heFJldHJ5QXR0ZW1wdHMpXHJcblx0XHRcdFx0LnNldER5bmFtaWNUb29sdGlwKClcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5tYXhSZXRyeUF0dGVtcHRzID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0Nvbm5lY3Rpb24gVGltZW91dCcgKyB0aGlzLmNyZWF0ZVN0YXR1c0luZGljYXRvcignaW1wbGVtZW50ZWQnKSlcclxuXHRcdFx0LnNldERlc2MoJ0Nvbm5lY3Rpb24gdGltZW91dCBpbiBzZWNvbmRzJylcclxuXHRcdFx0LmFkZFNsaWRlcihzbGlkZXIgPT4gc2xpZGVyXHJcblx0XHRcdFx0LnNldExpbWl0cyg1LCAxMjAsIDUpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmNvbm5lY3Rpb25UaW1lb3V0KVxyXG5cdFx0XHRcdC5zZXREeW5hbWljVG9vbHRpcCgpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY29ubmVjdGlvblRpbWVvdXQgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHQvLyBTY2hlbWEgRGlzY292ZXJ5IHN1YnNlY3Rpb25cclxuXHRcdGNvbnRlbnQuY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnU2NoZW1hIERpc2NvdmVyeSBPcHRpb25zJywgY2xzOiAnc2V0dGluZy1pdGVtLW5hbWUnIH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdBdXRvLWRpc2NvdmVyIFNjaGVtYXMnICsgdGhpcy5jcmVhdGVTdGF0dXNJbmRpY2F0b3IoJ3RvZG8nKSlcclxuXHRcdFx0LnNldERlc2MoJ0F1dG9tYXRpY2FsbHkgc2NhbiB2YXVsdCBmb3Igc2NoZW1hIHBhdHRlcm5zJyArICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RGV2ZWxvcG1lbnRJbmRpY2F0b3JzID8gJyAoU2NoZW1hIGRpc2NvdmVyeSBub3QgaW1wbGVtZW50ZWQpJyA6ICcnKSlcclxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmF1dG9EaXNjb3ZlclNjaGVtYXMpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuYXV0b0Rpc2NvdmVyU2NoZW1hcyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdWYWxpZGF0ZSBOYW1pbmcgQ29udmVudGlvbnMnICsgdGhpcy5jcmVhdGVTdGF0dXNJbmRpY2F0b3IoJ3RvZG8nKSlcclxuXHRcdFx0LnNldERlc2MoJ0NoZWNrIHByb3BlcnR5IG5hbWVzIGFnYWluc3QgR3JhcGhpdGkgYmVzdCBwcmFjdGljZXMnICsgKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dEZXZlbG9wbWVudEluZGljYXRvcnMgPyAnIChWYWxpZGF0aW9uIG5vdCBpbXBsZW1lbnRlZCknIDogJycpKVxyXG5cdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MudmFsaWRhdGVOYW1pbmdDb252ZW50aW9ucylcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy52YWxpZGF0ZU5hbWluZ0NvbnZlbnRpb25zID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ1N1Z2dlc3QgUHJvcGVydHkgRGVzY3JpcHRpb25zJyArIHRoaXMuY3JlYXRlU3RhdHVzSW5kaWNhdG9yKCd0b2RvJykpXHJcblx0XHRcdC5zZXREZXNjKCdBdXRvLWdlbmVyYXRlIGRlc2NyaXB0aW9ucyBmb3IgY29tbW9uIHByb3BlcnR5IG5hbWVzJyArICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RGV2ZWxvcG1lbnRJbmRpY2F0b3JzID8gJyAoQUkgc3VnZ2VzdGlvbnMgbm90IGltcGxlbWVudGVkKScgOiAnJykpXHJcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zdWdnZXN0UHJvcGVydHlEZXNjcmlwdGlvbnMpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc3VnZ2VzdFByb3BlcnR5RGVzY3JpcHRpb25zID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ1Byb3RlY3RlZCBBdHRyaWJ1dGUgV2FybmluZ3MnICsgdGhpcy5jcmVhdGVTdGF0dXNJbmRpY2F0b3IoJ3RvZG8nKSlcclxuXHRcdFx0LnNldERlc2MoJ1Nob3cgd2FybmluZ3MgZm9yIEdyYXBoaXRpIHByb3RlY3RlZCBhdHRyaWJ1dGUgbmFtZXMnICsgKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dEZXZlbG9wbWVudEluZGljYXRvcnMgPyAnIChXYXJuaW5nIHN5c3RlbSBub3QgaW1wbGVtZW50ZWQpJyA6ICcnKSlcclxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZVByb3RlY3RlZEF0dHJpYnV0ZVdhcm5pbmdzKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZVByb3RlY3RlZEF0dHJpYnV0ZVdhcm5pbmdzID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0Ly8gVUkgUHJlZmVyZW5jZXMgc3Vic2VjdGlvblxyXG5cdFx0Y29udGVudC5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdVSSBQcmVmZXJlbmNlcycsIGNsczogJ3NldHRpbmctaXRlbS1uYW1lJyB9KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnU2hvdyBTeW5jIFN0YXR1cycgKyB0aGlzLmNyZWF0ZVN0YXR1c0luZGljYXRvcigncGFydGlhbCcpKVxyXG5cdFx0XHQuc2V0RGVzYygnRGlzcGxheSBzeW5jIHN0YXR1cyBpbiB0aGUgc3RhdHVzIGJhcicgKyAodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0RldmVsb3BtZW50SW5kaWNhdG9ycyA/ICcgKFVJIHNldHRpbmcgY29tcGxldGUsIHN0YXR1cyBiYXIgaW50ZWdyYXRpb24gbm90IGltcGxlbWVudGVkKScgOiAnJykpXHJcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93U3luY1N0YXR1cylcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93U3luY1N0YXR1cyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdTaG93IE5vdGlmaWNhdGlvbnMnICsgdGhpcy5jcmVhdGVTdGF0dXNJbmRpY2F0b3IoJ3BhcnRpYWwnKSlcclxuXHRcdFx0LnNldERlc2MoJ0Rpc3BsYXkgbm90aWZpY2F0aW9ucyBmb3Igc3luYyBvcGVyYXRpb25zJyArICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RGV2ZWxvcG1lbnRJbmRpY2F0b3JzID8gJyAoVUkgc2V0dGluZyBjb21wbGV0ZSwgc3luYyBub3RpZmljYXRpb25zIG5vdCBpbXBsZW1lbnRlZCknIDogJycpKVxyXG5cdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd05vdGlmaWNhdGlvbnMpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd05vdGlmaWNhdGlvbnMgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnQ29tcGFjdCBNb2RlJyArIHRoaXMuY3JlYXRlU3RhdHVzSW5kaWNhdG9yKCd0b2RvJykpXHJcblx0XHRcdC5zZXREZXNjKCdVc2UgY29tcGFjdCBVSSBsYXlvdXQgdG8gc2F2ZSBzcGFjZScgKyAodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0RldmVsb3BtZW50SW5kaWNhdG9ycyA/ICcgKENvbXBhY3QgVUkgc3R5bGluZyBub3QgaW1wbGVtZW50ZWQpJyA6ICcnKSlcclxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmNvbXBhY3RNb2RlKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmNvbXBhY3RNb2RlID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFkZEFjdGlvbnNBY2NvcmRpb24oY29udGVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnRXhwb3J0IFNldHRpbmdzJyArIHRoaXMuY3JlYXRlU3RhdHVzSW5kaWNhdG9yKCdpbXBsZW1lbnRlZCcpKVxyXG5cdFx0XHQuc2V0RGVzYygnRXhwb3J0IHlvdXIgY3VycmVudCBzZXR0aW5ncyB0byBhIGZpbGUnKVxyXG5cdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cclxuXHRcdFx0XHQuc2V0QnV0dG9uVGV4dCgnRXhwb3J0IFNldHRpbmdzJylcclxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLmV4cG9ydFNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdJbXBvcnQgU2V0dGluZ3MnICsgdGhpcy5jcmVhdGVTdGF0dXNJbmRpY2F0b3IoJ3BhcnRpYWwnKSlcclxuXHRcdFx0LnNldERlc2MoJ0ltcG9ydCBzZXR0aW5ncyBmcm9tIGEgZmlsZScgKyAodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0RldmVsb3BtZW50SW5kaWNhdG9ycyA/ICcgKEltcG9ydCB3b3JrcywgdmFsaWRhdGlvbiBpbmNvbXBsZXRlKScgOiAnJykpXHJcblx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxyXG5cdFx0XHRcdC5zZXRCdXR0b25UZXh0KCdJbXBvcnQgU2V0dGluZ3MnKVxyXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMuaW1wb3J0U2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ1Jlc2V0IHRvIERlZmF1bHRzJyArIHRoaXMuY3JlYXRlU3RhdHVzSW5kaWNhdG9yKCdpbXBsZW1lbnRlZCcpKVxyXG5cdFx0XHQuc2V0RGVzYygnUmVzZXQgYWxsIHNldHRpbmdzIHRvIHRoZWlyIGRlZmF1bHQgdmFsdWVzJylcclxuXHRcdFx0LmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXHJcblx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ1Jlc2V0IHRvIERlZmF1bHRzJylcclxuXHRcdFx0XHQuc2V0V2FybmluZygpXHJcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5yZXNldFRvRGVmYXVsdHMoKTtcclxuXHRcdFx0XHR9KSk7XHJcblx0fVxyXG5cclxuXHQvLyBNZXRob2QgcmVtb3ZlZCAtIE1DUCBzZXJ2ZXIgY29udHJvbHMgbm93IGNvbnNvbGlkYXRlZCBpbiBhZGRTZXJ2ZXJzQWNjb3JkaW9uKClcclxuXHJcblx0cHJpdmF0ZSBhc3luYyBnZW5lcmF0ZU1jcENvbmZpZyhidXR0b25FbDogSFRNTEVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGNvbnN0IG9yaWdpbmFsVGV4dCA9IGJ1dHRvbkVsLnRleHRDb250ZW50O1xyXG5cdFx0YnV0dG9uRWwudGV4dENvbnRlbnQgPSAnR2VuZXJhdGluZy4uLic7XHJcblx0XHRidXR0b25FbC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ3RydWUnKTtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbTUNQLUNPTkZJR10gR2VuZXJhdGluZyBNQ1AgY29uZmlndXJhdGlvbicpO1xyXG5cclxuXHRcdFx0aWYgKHRoaXMucGx1Z2luLmdyYXBoaXRpU2VydmljZSkge1xyXG5cdFx0XHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucGx1Z2luLmdyYXBoaXRpU2VydmljZS5nZW5lcmF0ZUNsYXVkZURlc2t0b3BDb25maWcoKTtcclxuXHRcdFx0XHRjb25zdCBjb25maWdKc29uID0gSlNPTi5zdHJpbmdpZnkocmVzdWx0LmNvbmZpZywgbnVsbCwgMik7XHJcblxyXG5cdFx0XHRcdC8vIENyZWF0ZSBhIHNpbXBsZSBtb2RhbCB1c2luZyBPYnNpZGlhbidzIG5hdGl2ZSBtb2RhbCBhcHByb2FjaFxyXG5cdFx0XHRcdGNvbnN0IG1vZGFsRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdFx0XHRtb2RhbEVsLnN0eWxlLmNzc1RleHQgPSBgXHJcblx0XHRcdFx0XHRwb3NpdGlvbjogZml4ZWQ7XHJcblx0XHRcdFx0XHR0b3A6IDA7XHJcblx0XHRcdFx0XHRsZWZ0OiAwO1xyXG5cdFx0XHRcdFx0d2lkdGg6IDEwMCU7XHJcblx0XHRcdFx0XHRoZWlnaHQ6IDEwMCU7XHJcblx0XHRcdFx0XHRiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuOCk7XHJcblx0XHRcdFx0XHRkaXNwbGF5OiBmbGV4O1xyXG5cdFx0XHRcdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHRcdFx0XHRcdGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG5cdFx0XHRcdFx0ei1pbmRleDogMTAwMDtcclxuXHRcdFx0XHRgO1xyXG5cclxuXHRcdFx0XHRjb25zdCBjb250ZW50RWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdFx0XHRjb250ZW50RWwuc3R5bGUuY3NzVGV4dCA9IGBcclxuXHRcdFx0XHRcdGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XHJcblx0XHRcdFx0XHRib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XHJcblx0XHRcdFx0XHRib3JkZXItcmFkaXVzOiA4cHg7XHJcblx0XHRcdFx0XHRwYWRkaW5nOiAyMHB4O1xyXG5cdFx0XHRcdFx0bWF4LXdpZHRoOiA2MDBweDtcclxuXHRcdFx0XHRcdHdpZHRoOiA5MCU7XHJcblx0XHRcdFx0XHRtYXgtaGVpZ2h0OiA4MCU7XHJcblx0XHRcdFx0XHRvdmVyZmxvdzogYXV0bztcclxuXHRcdFx0XHRgO1xyXG5cclxuXHRcdFx0XHRjb25zdCBoZWFkZXJFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XHJcblx0XHRcdFx0aGVhZGVyRWwudGV4dENvbnRlbnQgPSAnTUNQIENvbmZpZ3VyYXRpb24nO1xyXG5cdFx0XHRcdGhlYWRlckVsLnN0eWxlLm1hcmdpbiA9ICcwIDAgMTVweCAwJztcclxuXHJcblx0XHRcdFx0Y29uc3QgZGVzY0VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xyXG5cdFx0XHRcdGRlc2NFbC50ZXh0Q29udGVudCA9ICdDb3B5IHRoaXMgY29uZmlndXJhdGlvbiBmb3IgeW91ciBNQ1AgY2xpZW50Oic7XHJcblx0XHRcdFx0ZGVzY0VsLnN0eWxlLm1hcmdpbiA9ICcwIDAgMTBweCAwJztcclxuXHJcblx0XHRcdFx0Y29uc3QgdGV4dEFyZWFFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XHJcblx0XHRcdFx0dGV4dEFyZWFFbC52YWx1ZSA9IGNvbmZpZ0pzb247XHJcblx0XHRcdFx0dGV4dEFyZWFFbC5yZWFkT25seSA9IHRydWU7XHJcblx0XHRcdFx0dGV4dEFyZWFFbC5zdHlsZS5jc3NUZXh0ID0gYFxyXG5cdFx0XHRcdFx0d2lkdGg6IDEwMCU7XHJcblx0XHRcdFx0XHRoZWlnaHQ6IDMwMHB4O1xyXG5cdFx0XHRcdFx0Zm9udC1mYW1pbHk6IHZhcigtLWZvbnQtbW9ub3NwYWNlKTtcclxuXHRcdFx0XHRcdGZvbnQtc2l6ZTogMTJweDtcclxuXHRcdFx0XHRcdGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcclxuXHRcdFx0XHRcdGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcclxuXHRcdFx0XHRcdGJvcmRlci1yYWRpdXM6IDRweDtcclxuXHRcdFx0XHRcdHBhZGRpbmc6IDhweDtcclxuXHRcdFx0XHRcdHJlc2l6ZTogdmVydGljYWw7XHJcblx0XHRcdFx0XHRib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG5cdFx0XHRcdGA7XHJcblxyXG5cdFx0XHRcdGNvbnN0IGJ1dHRvbkNvbnRhaW5lckVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRcdFx0YnV0dG9uQ29udGFpbmVyRWwuc3R5bGUuY3NzVGV4dCA9IGBcclxuXHRcdFx0XHRcdG1hcmdpbi10b3A6IDE1cHg7XHJcblx0XHRcdFx0XHRkaXNwbGF5OiBmbGV4O1xyXG5cdFx0XHRcdFx0Z2FwOiAxMHB4O1xyXG5cdFx0XHRcdFx0anVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuXHRcdFx0XHRgO1xyXG5cclxuXHRcdFx0XHRjb25zdCBjb3B5QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcblx0XHRcdFx0Y29weUJ0bi50ZXh0Q29udGVudCA9ICdDb3B5JztcclxuXHRcdFx0XHRjb3B5QnRuLmNsYXNzTmFtZSA9ICdtb2QtY3RhJztcclxuXHRcdFx0XHRjb3B5QnRuLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChjb25maWdKc29uKTtcclxuXHRcdFx0XHRcdFx0Y29uc3Qgb3JpZ2luYWxUZXh0ID0gY29weUJ0bi50ZXh0Q29udGVudDtcclxuXHRcdFx0XHRcdFx0Y29weUJ0bi50ZXh0Q29udGVudCA9ICdDb3BpZWQhJztcclxuXHRcdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiBjb3B5QnRuLnRleHRDb250ZW50ID0gb3JpZ2luYWxUZXh0LCAyMDAwKTtcclxuXHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnW1NVQ0NFU1NdIE1DUCBjb25maWd1cmF0aW9uIGNvcGllZCB0byBjbGlwYm9hcmQnKTtcclxuXHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0XHRcdHRleHRBcmVhRWwuc2VsZWN0KCk7XHJcblx0XHRcdFx0XHRcdGRvY3VtZW50LmV4ZWNDb21tYW5kKCdjb3B5Jyk7XHJcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoJ1tTVUNDRVNTXSBNQ1AgY29uZmlndXJhdGlvbiBjb3BpZWQgdG8gY2xpcGJvYXJkJyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0Y29uc3QgY2xvc2VCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuXHRcdFx0XHRjbG9zZUJ0bi50ZXh0Q29udGVudCA9ICdDbG9zZSc7XHJcblx0XHRcdFx0Y2xvc2VCdG4ub25jbGljayA9ICgpID0+IGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobW9kYWxFbCk7XHJcblxyXG5cdFx0XHRcdC8vIEFzc2VtYmxlIG1vZGFsXHJcblx0XHRcdFx0YnV0dG9uQ29udGFpbmVyRWwuYXBwZW5kKGNvcHlCdG4sIGNsb3NlQnRuKTtcclxuXHRcdFx0XHRjb250ZW50RWwuYXBwZW5kKGhlYWRlckVsLCBkZXNjRWwsIHRleHRBcmVhRWwsIGJ1dHRvbkNvbnRhaW5lckVsKTtcclxuXHRcdFx0XHRtb2RhbEVsLmFwcGVuZENoaWxkKGNvbnRlbnRFbCk7XHJcblxyXG5cdFx0XHRcdC8vIENsb3NlIG9uIGJhY2tncm91bmQgY2xpY2tcclxuXHRcdFx0XHRtb2RhbEVsLm9uY2xpY2sgPSAoZSkgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKGUudGFyZ2V0ID09PSBtb2RhbEVsKSB7XHJcblx0XHRcdFx0XHRcdGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobW9kYWxFbCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0Ly8gU2hvdyBtb2RhbFxyXG5cdFx0XHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9kYWxFbCk7XHJcblxyXG5cdFx0XHRcdC8vIEF1dG8tc2VsZWN0IHRleHRcclxuXHRcdFx0XHR0ZXh0QXJlYUVsLmZvY3VzKCk7XHJcblx0XHRcdFx0dGV4dEFyZWFFbC5zZWxlY3QoKTtcclxuXHJcblx0XHRcdFx0bmV3IE5vdGljZSgnW1NVQ0NFU1NdIE1DUCBjb25maWd1cmF0aW9uIGdlbmVyYXRlZCcpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoJ1tFUlJPUl0gR3JhcGhpdGlTZXJ2aWNlIG5vdCBhdmFpbGFibGUnKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignW01DUC1DT05GSUddIEZhaWxlZCB0byBnZW5lcmF0ZSBNQ1AgY29uZmlnJywgeyBlcnJvciB9KTtcclxuXHRcdFx0Y29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XHJcblx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gRmFpbGVkIHRvIGdlbmVyYXRlIGNvbmZpZzogJHtlcnJvck1lc3NhZ2V9YCk7XHJcblx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9IG9yaWdpbmFsVGV4dDtcclxuXHRcdFx0YnV0dG9uRWwucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhZGREZXZlbG9wbWVudEFjY29yZGlvbihjb250ZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdTaG93IERldmVsb3BtZW50IEluZGljYXRvcnMnKVxyXG5cdFx0XHQuc2V0RGVzYygnRGlzcGxheSB2aXN1YWwgaW5kaWNhdG9ycyBzaG93aW5nIHdoaWNoIGZlYXR1cmVzIGFyZSBpbXBsZW1lbnRlZCB2cy4gcGxhY2Vob2xkZXIvVE9ETycpXHJcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RGV2ZWxvcG1lbnRJbmRpY2F0b3JzKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dEZXZlbG9wbWVudEluZGljYXRvcnMgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7IC8vIFJlZnJlc2ggdG8gc2hvdy9oaWRlIGluZGljYXRvcnNcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0V4cGVyaW1lbnRhbCBEYWVtb24gTW9kZScgKyB0aGlzLmNyZWF0ZVN0YXR1c0luZGljYXRvcignaW1wbGVtZW50ZWQnKSlcclxuXHRcdFx0LnNldERlc2MoJ1VzZSBwZXJzaXN0ZW50IFB5dGhvbiBkYWVtb24gdG8gZWxpbWluYXRlIEJHRSBtb2RlbCBsb2FkaW5nIG92ZXJoZWFkIChyZWR1Y2VzIHN5bmMgdGltZSBieSB+NjAlKScpXHJcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5leHBlcmltZW50YWxEYWVtb25Nb2RlKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmV4cGVyaW1lbnRhbERhZW1vbk1vZGUgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnTG9hZCBEYWVtb24gb24gTGF1bmNoJyArIHRoaXMuY3JlYXRlU3RhdHVzSW5kaWNhdG9yKCdpbXBsZW1lbnRlZCcpKVxyXG5cdFx0XHQuc2V0RGVzYygnU3RhcnQgUHl0aG9uIGRhZW1vbiB3aGVuIHBsdWdpbiBsb2FkcyB0byBlbGltaW5hdGUgZmlyc3Qtc3luYyBkZWxheSAocmVxdWlyZXMgRXhwZXJpbWVudGFsIERhZW1vbiBNb2RlKScpXHJcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5sb2FkRGFlbW9uT25MYXVuY2gpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubG9hZERhZW1vbk9uTGF1bmNoID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0xvZyBQZXJmb3JtYW5jZScgKyB0aGlzLmNyZWF0ZVN0YXR1c0luZGljYXRvcignaW1wbGVtZW50ZWQnKSlcclxuXHRcdFx0LnNldERlc2MoJ0VuYWJsZSBkZXRhaWxlZCB0aW1pbmcgYW5hbHlzaXMgZm9yIHN5bmMgcGVyZm9ybWFuY2UgZGVidWdnaW5nJylcclxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmxvZ1BlcmZvcm1hbmNlKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmxvZ1BlcmZvcm1hbmNlID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNyZWF0ZVN0YXR1c0luZGljYXRvcihzdGF0dXM6ICdpbXBsZW1lbnRlZCcgfCAnbW9jaycgfCAndG9kbycgfCAncGFydGlhbCcpOiBzdHJpbmcge1xyXG5cdFx0aWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RGV2ZWxvcG1lbnRJbmRpY2F0b3JzKSByZXR1cm4gJyc7XHJcblxyXG5cdFx0c3dpdGNoIChzdGF0dXMpIHtcclxuXHRcdFx0Y2FzZSAnaW1wbGVtZW50ZWQnOiByZXR1cm4gJyDinIUnO1xyXG5cdFx0XHRjYXNlICdtb2NrJzogcmV0dXJuICcg4pqg77iPJztcclxuXHRcdFx0Y2FzZSAndG9kbyc6IHJldHVybiAnIPCflKcnO1xyXG5cdFx0XHRjYXNlICdwYXJ0aWFsJzogcmV0dXJuICcg8J+foSc7XHJcblx0XHRcdGRlZmF1bHQ6IHJldHVybiAnJztcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0UHJvdmlkZXJEaXNwbGF5TmFtZShwcm92aWRlcjogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdGNvbnN0IGRpc3BsYXlOYW1lczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcclxuXHRcdFx0J29wZW5haSc6ICdPcGVuQUknLFxyXG5cdFx0XHQnYW50aHJvcGljJzogJ0FudGhyb3BpYycsXHJcblx0XHRcdCdnb29nbGUnOiAnR29vZ2xlJyxcclxuXHRcdFx0J2F6dXJlJzogJ0F6dXJlIE9wZW5BSScsXHJcblx0XHRcdCd2b3lhZ2UnOiAnVm95YWdlIEFJJyxcclxuXHRcdFx0J3ZlbmljZSc6ICdWZW5pY2UuYWknXHJcblx0XHR9O1xyXG5cdFx0cmV0dXJuIGRpc3BsYXlOYW1lc1twcm92aWRlcl0gfHwgcHJvdmlkZXI7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFkZFByb3ZpZGVyU3BlY2lmaWNTZXR0aW5ncyhjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuXHRcdGNvbnN0IHByb3ZpZGVyID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtUHJvdmlkZXI7XHJcblxyXG5cdFx0Ly8gQXp1cmUtc3BlY2lmaWMgc2V0dGluZ3NcclxuXHRcdGlmIChwcm92aWRlciA9PT0gJ2F6dXJlJykge1xyXG5cdFx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZSgnQXp1cmUgRW5kcG9pbnQnICsgdGhpcy5jcmVhdGVTdGF0dXNJbmRpY2F0b3IoJ2ltcGxlbWVudGVkJykpXHJcblx0XHRcdFx0LnNldERlc2MoJ1lvdXIgQXp1cmUgT3BlbkFJIGVuZHBvaW50IFVSTCcpXHJcblx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ2h0dHBzOi8veW91ci1yZXNvdXJjZS5vcGVuYWkuYXp1cmUuY29tLycpXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYXp1cmVFbmRwb2ludCB8fCAnJylcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuYXp1cmVFbmRwb2ludCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHJcblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdC5zZXROYW1lKCdBenVyZSBBUEkgVmVyc2lvbicgKyB0aGlzLmNyZWF0ZVN0YXR1c0luZGljYXRvcignaW1wbGVtZW50ZWQnKSlcclxuXHRcdFx0XHQuc2V0RGVzYygnQXp1cmUgT3BlbkFJIEFQSSB2ZXJzaW9uJylcclxuXHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignMjAyNC0wMi0wMScpXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYXp1cmVBcGlWZXJzaW9uIHx8ICcnKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5henVyZUFwaVZlcnNpb24gPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gT2xsYW1hLXNwZWNpZmljIHNldHRpbmdzIChzaG93IHdoZW4gZWl0aGVyIExMTSBvciBlbWJlZGRpbmcgcHJvdmlkZXIgaXMgT2xsYW1hKVxyXG5cdFx0aWYgKHByb3ZpZGVyID09PSAnb2xsYW1hJyB8fCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRlclByb3ZpZGVyID09PSAnb2xsYW1hJykge1xyXG5cdFx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZSgnT2xsYW1hIEJhc2UgVVJMJyArIHRoaXMuY3JlYXRlU3RhdHVzSW5kaWNhdG9yKCdpbXBsZW1lbnRlZCcpKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdPbGxhbWEgc2VydmVyIGJhc2UgVVJMICh1c2VkIGZvciBib3RoIExMTSBhbmQgZW1iZWRkaW5nIHdoZW4gYXBwbGljYWJsZSknKVxyXG5cdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdodHRwOi8vbG9jYWxob3N0OjExNDM0L3YxJylcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5vbGxhbWFCYXNlVXJsIHx8ICdodHRwOi8vbG9jYWxob3N0OjExNDM0L3YxJylcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mub2xsYW1hQmFzZVVybCA9IHZhbHVlIHx8ICdodHRwOi8vbG9jYWxob3N0OjExNDM0L3YxJztcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZSgnT2xsYW1hIEVtYmVkZGluZyBEaW1lbnNpb24nICsgdGhpcy5jcmVhdGVTdGF0dXNJbmRpY2F0b3IoJ2ltcGxlbWVudGVkJykpXHJcblx0XHRcdFx0LnNldERlc2MoJ0RpbWVuc2lvbiBzaXplIGZvciBPbGxhbWEgZW1iZWRkaW5ncyAodHlwaWNhbGx5IDc2OCBmb3IgbW9zdCBtb2RlbHMpJylcclxuXHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignNzY4JylcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSgodGhpcy5wbHVnaW4uc2V0dGluZ3Mub2xsYW1hRW1iZWRkaW5nRGltIHx8IDc2OCkudG9TdHJpbmcoKSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgZGltID0gcGFyc2VJbnQodmFsdWUpIHx8IDc2ODtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mub2xsYW1hRW1iZWRkaW5nRGltID0gZGltO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIHBvcHVsYXRlTExNTW9kZWxzKGRyb3Bkb3duOiBhbnksIHByb3ZpZGVyOiBzdHJpbmcsIGluY2x1ZGVFbXB0eSA9IGZhbHNlKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRkcm9wZG93bi5zZWxlY3RFbC5lbXB0eSgpO1xyXG5cclxuXHRcdGlmIChpbmNsdWRlRW1wdHkpIHtcclxuXHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKCcnLCAnTm9uZScpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBtb2RlbE9wdGlvbnM6IHN0cmluZ1tdID0gW107XHJcblxyXG5cdFx0Ly8gUmVhZCBmcm9tIHBsdWdpbi5zZXR0aW5ncyAoaHlkcmF0ZWQgZnJvbSBkYXRhLmpzb24pIGluc3RlYWQgb2YgZGlyZWN0IGZpbGUgYWNjZXNzXHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCBjZmc6IGFueSA9IHRoaXMucGx1Z2luLnNldHRpbmdzIGFzIGFueTtcclxuXHRcdFx0Y29uc3Qgc291cmNlS2V5ID0gaW5jbHVkZUVtcHR5ID8gJ2xsbVNtYWxsRGVmYXVsdHMnIDogJ2xsbURlZmF1bHRzJztcclxuXHRcdFx0Y29uc3Qgc3JjID0gY2ZnPy5bc291cmNlS2V5XT8uW3Byb3ZpZGVyXTtcclxuXHRcdFx0aWYgKHNyYyAmJiB0eXBlb2Ygc3JjID09PSAnb2JqZWN0Jykge1xyXG5cdFx0XHRcdGNvbnN0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhzcmMgYXMgUmVjb3JkPHN0cmluZywgYW55Pik7XHJcblx0XHRcdFx0Ly8gUmVjb21tZW5kZWQtZmlyc3Qgb3JkZXJpbmcsIHRoZW4gYWxwaGFiZXRpY2FsXHJcblx0XHRcdFx0ZW50cmllcy5zb3J0KChhLCBiKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCByYSA9IChhWzFdICYmIGFbMV0ucmVjb21tZW5kZWQpID8gMSA6IDA7XHJcblx0XHRcdFx0XHRjb25zdCByYiA9IChiWzFdICYmIGJbMV0ucmVjb21tZW5kZWQpID8gMSA6IDA7XHJcblx0XHRcdFx0XHRyZXR1cm4gcmIgLSByYSB8fCBhWzBdLmxvY2FsZUNvbXBhcmUoYlswXSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0bW9kZWxPcHRpb25zID0gZW50cmllcy5tYXAoKFtuYW1lXSkgPT4gbmFtZSk7XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZyhgW1NFVFRJTkdTXSBVc2luZyAke3NvdXJjZUtleX0gZnJvbSBwbHVnaW4uc2V0dGluZ3MgZm9yICR7cHJvdmlkZXJ9YCwgeyBjb3VudDogbW9kZWxPcHRpb25zLmxlbmd0aCB9KTtcclxuXHRcdFx0fSBlbHNlIGlmIChpbmNsdWRlRW1wdHkgJiYgY2ZnPy5sbG1EZWZhdWx0cz8uW3Byb3ZpZGVyXSkge1xyXG5cdFx0XHRcdGNvbnN0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhjZmcubGxtRGVmYXVsdHNbcHJvdmlkZXJdIGFzIFJlY29yZDxzdHJpbmcsIGFueT4pO1xyXG5cdFx0XHRcdGVudHJpZXMuc29ydCgoYSwgYikgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgcmEgPSAoYVsxXSAmJiBhWzFdLnJlY29tbWVuZGVkKSA/IDEgOiAwO1xyXG5cdFx0XHRcdFx0Y29uc3QgcmIgPSAoYlsxXSAmJiBiWzFdLnJlY29tbWVuZGVkKSA/IDEgOiAwO1xyXG5cdFx0XHRcdFx0cmV0dXJuIHJiIC0gcmEgfHwgYVswXS5sb2NhbGVDb21wYXJlKGJbMF0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdG1vZGVsT3B0aW9ucyA9IGVudHJpZXMubWFwKChbbmFtZV0pID0+IG5hbWUpO1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoYFtTRVRUSU5HU10gRmFsbGJhY2sgdG8gbGxtRGVmYXVsdHMgZnJvbSBwbHVnaW4uc2V0dGluZ3MgZm9yICR7cHJvdmlkZXJ9YCwgeyBjb3VudDogbW9kZWxPcHRpb25zLmxlbmd0aCB9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy53YXJuKCdbU0VUVElOR1NdIEZhaWxlZCByZWFkaW5nIExMTSBkZWZhdWx0cyBmcm9tIHBsdWdpbi5zZXR0aW5ncycsIHsgZXJyb3IgfSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gTm8gaGFyZGNvZGVkIG1vZGVsIGxpc3RzIGZvciBub24tT2xsYW1hIHByb3ZpZGVycy5cclxuXHRcdC8vIElmIHNldHRpbmdzIGFyZSBub3QgeWV0IGh5ZHJhdGVkLCBsZWF2ZSB0aGUgZHJvcGRvd24gZW1wdHkgYW5kIHJlbHkgb24gaHlkcmF0aW9uICsgZGVmYXVsdHMgc2VsZWN0aW9uLlxyXG5cdFx0aWYgKG1vZGVsT3B0aW9ucy5sZW5ndGggPT09IDAgJiYgcHJvdmlkZXIgIT09ICdvbGxhbWEnKSB7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoYFtTRVRUSU5HU10gTm8gTExNIGRlZmF1bHRzIGZvdW5kIGluIHBsdWdpbi5zZXR0aW5ncyBmb3IgJHtwcm92aWRlcn07IGxlYXZpbmcgZHJvcGRvd24gZW1wdHlgKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBGb3IgT2xsYW1hIHByb3ZpZGVyLCB1c2UgT05MWSBzZXR0aW5ncy1kcml2ZW4gbGlzdHMgcGVyIHR5cGUgKG5vIHNlcnZlci1hcHBlbmQpXHJcblx0XHRpZiAocHJvdmlkZXIgPT09ICdvbGxhbWEnKSB7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0Ly8gQ2hvb3NlIGNvcnJlY3Qgc2V0dGluZ3Mgc291cmNlOiBsbG1EZWZhdWx0cyBmb3IgcHJpbWFyeSwgbGxtU21hbGxEZWZhdWx0cyBmb3IgU21hbGxcclxuXHRcdFx0XHRjb25zdCBzZXR0aW5nc01vZGVscyA9IGluY2x1ZGVFbXB0eVxyXG5cdFx0XHRcdFx0PyB0aGlzLm9sbGFtYVNldHRpbmdzLmdldE9sbGFtYUxMTVNtYWxsTW9kZWxzRnJvbVNldHRpbmdzKClcclxuXHRcdFx0XHRcdDogdGhpcy5vbGxhbWFTZXR0aW5ncy5nZXRPbGxhbWFMTE1Nb2RlbHNGcm9tU2V0dGluZ3MoKTtcclxuXHJcblx0XHRcdFx0Zm9yIChjb25zdCBtb2RlbCBvZiBzZXR0aW5nc01vZGVscykge1xyXG5cdFx0XHRcdFx0Y29uc3QgZGVzYyA9IG1vZGVsLmRlc2NyaXB0aW9uIHx8ICcnO1xyXG5cdFx0XHRcdFx0Y29uc3Qgc2hvcnREZXNjID0gZGVzYy5sZW5ndGggPiA1MCA/IGRlc2Muc3Vic3RyaW5nKDAsIDUwKSArICcuLi4nIDogZGVzYztcclxuXHRcdFx0XHRcdGNvbnN0IGRpc3BsYXlOYW1lID0gc2hvcnREZXNjID8gYCR7bW9kZWwubmFtZX0gLSAke3Nob3J0RGVzY31gIDogbW9kZWwubmFtZTtcclxuXHRcdFx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbihtb2RlbC5uYW1lLCBkaXNwbGF5TmFtZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tTRVRUSU5HU10gRmFpbGVkIHRvIGxvYWQgT2xsYW1hIExMTSBtb2RlbHMgZnJvbSBzZXR0aW5ncycsIHsgZXJyb3IgfSk7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIEZvciBvdGhlciBwcm92aWRlcnMsIHVzZSB0aGUgbW9kZWxzIGFycmF5IHdlIHByZXBhcmVkXHJcblx0XHRcdG1vZGVsT3B0aW9ucy5mb3JFYWNoKChtb2RlbDogc3RyaW5nKSA9PiBkcm9wZG93bi5hZGRPcHRpb24obW9kZWwsIG1vZGVsKSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIHBvcHVsYXRlRW1iZWRkaW5nTW9kZWxzKGRyb3Bkb3duOiBhbnksIHByb3ZpZGVyOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGRyb3Bkb3duLnNlbGVjdEVsLmVtcHR5KCk7XHJcblxyXG5cdFx0bGV0IG1vZGVsT3B0aW9uczogc3RyaW5nW10gPSBbXTtcclxuXHJcblx0XHQvLyBSZWFkIGZyb20gcGx1Z2luLnNldHRpbmdzIChoeWRyYXRlZCBmcm9tIGRhdGEuanNvbikgaW5zdGVhZCBvZiBkaXJlY3QgZmlsZSBhY2Nlc3NcclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IGNmZzogYW55ID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MgYXMgYW55O1xyXG5cdFx0XHRjb25zdCBlU3JjID0gY2ZnPy5lbWJlZGRpbmdEZWZhdWx0cz8uW3Byb3ZpZGVyXTtcclxuXHRcdFx0aWYgKGVTcmMgJiYgdHlwZW9mIGVTcmMgPT09ICdvYmplY3QnKSB7XHJcblx0XHRcdFx0Y29uc3QgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKGVTcmMgYXMgUmVjb3JkPHN0cmluZywgYW55Pik7XHJcblx0XHRcdFx0Ly8gUmVjb21tZW5kZWQtZmlyc3Qgb3JkZXJpbmcsIHRoZW4gYWxwaGFiZXRpY2FsXHJcblx0XHRcdFx0ZW50cmllcy5zb3J0KChhLCBiKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCByYSA9IChhWzFdICYmIGFbMV0ucmVjb21tZW5kZWQpID8gMSA6IDA7XHJcblx0XHRcdFx0XHRjb25zdCByYiA9IChiWzFdICYmIGJbMV0ucmVjb21tZW5kZWQpID8gMSA6IDA7XHJcblx0XHRcdFx0XHRyZXR1cm4gcmIgLSByYSB8fCBhWzBdLmxvY2FsZUNvbXBhcmUoYlswXSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0bW9kZWxPcHRpb25zID0gZW50cmllcy5tYXAoKFtuYW1lXSkgPT4gbmFtZSk7XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZyhgW1NFVFRJTkdTXSBVc2luZyBlbWJlZGRpbmdEZWZhdWx0cyBmcm9tIHBsdWdpbi5zZXR0aW5ncyBmb3IgJHtwcm92aWRlcn1gLCB7IGNvdW50OiBtb2RlbE9wdGlvbnMubGVuZ3RoIH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/Lndhcm4oJ1tTRVRUSU5HU10gRmFpbGVkIHJlYWRpbmcgZW1iZWRkaW5nIGRlZmF1bHRzIGZyb20gcGx1Z2luLnNldHRpbmdzJywgeyBlcnJvciB9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBObyBoYXJkY29kZWQgbW9kZWwgbGlzdHMgZm9yIG5vbi1PbGxhbWEgcHJvdmlkZXJzLlxyXG5cdFx0Ly8gSWYgc2V0dGluZ3MgYXJlIG5vdCB5ZXQgaHlkcmF0ZWQsIGxlYXZlIHRoZSBkcm9wZG93biBlbXB0eSBhbmQgcmVseSBvbiBoeWRyYXRpb24gKyBkZWZhdWx0cyBzZWxlY3Rpb24uXHJcblx0XHRpZiAobW9kZWxPcHRpb25zLmxlbmd0aCA9PT0gMCAmJiBwcm92aWRlciAhPT0gJ29sbGFtYScpIHtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZyhgW1NFVFRJTkdTXSBObyBlbWJlZGRpbmcgZGVmYXVsdHMgZm91bmQgaW4gcGx1Z2luLnNldHRpbmdzIGZvciAke3Byb3ZpZGVyfTsgbGVhdmluZyBkcm9wZG93biBlbXB0eWApO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEZvciBPbGxhbWEgcHJvdmlkZXIsIGRlcml2ZSBtb2RlbCBsaXN0IGZyb20gaHlkcmF0ZWQgc2V0dGluZ3MgYW5kIHNob3cgYXZhaWxhYmlsaXR5LWF3YXJlIGxhYmVsc1xyXG5cdFx0aWYgKHByb3ZpZGVyID09PSAnb2xsYW1hJykge1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdC8vIE5hbWVzIHRvIGNoZWNrIGFuZCBzZXR0aW5ncyBtZXRhZGF0YVxyXG5cdFx0XHRcdGNvbnN0IHJlcXVlc3RlZE5hbWVzID0gdGhpcy5vbGxhbWFTZXR0aW5ncy5nZXRPbGxhbWFFbWJlZGRpbmdNb2RlbE5hbWVzRnJvbVNldHRpbmdzKCk7XHJcblx0XHRcdFx0Y29uc3Qgc2V0dGluZ3NNb2RlbHMgPSB0aGlzLm9sbGFtYVNldHRpbmdzLmdldE9sbGFtYUVtYmVkZGluZ01vZGVsc0Zyb21TZXR0aW5ncygpO1xyXG5cclxuXHRcdFx0XHQvLyBRdWVyeSBhdmFpbGFiaWxpdHkgZm9yIHJlcXVlc3RlZCBtb2RlbHNcclxuXHRcdFx0XHRjb25zdCB3aXRoU3RhdHVzID0gYXdhaXQgdGhpcy5vbGxhbWFTZXR0aW5ncy5nZXRPbGxhbWFTZXJ2aWNlKCkuZ2V0RW1iZWRkaW5nTW9kZWxzV2l0aFN0YXR1cyhyZXF1ZXN0ZWROYW1lcykgfHwgW107XHJcblx0XHRcdFx0Y29uc3Qgc3RhdHVzTWFwID0gbmV3IE1hcDxzdHJpbmcsIGJvb2xlYW4+KCk7XHJcblx0XHRcdFx0Zm9yIChjb25zdCBzIG9mIHdpdGhTdGF0dXMpIHN0YXR1c01hcC5zZXQocy5uYW1lLCAhIXMuYXZhaWxhYmxlKTtcclxuXHJcblx0XHRcdFx0Ly8gQWRkIHNldHRpbmdzIG1vZGVscyBmaXJzdCAocmVjb21tZW5kZWQtZmlyc3Qgb3JkZXJpbmcgaGFuZGxlZCBieSBnZXR0ZXIpXHJcblx0XHRcdFx0Zm9yIChjb25zdCBtb2RlbCBvZiBzZXR0aW5nc01vZGVscykge1xyXG5cdFx0XHRcdFx0Y29uc3QgaXNBdmFpbGFibGUgPSBzdGF0dXNNYXAuZ2V0KG1vZGVsLm5hbWUpIHx8IGZhbHNlO1xyXG5cdFx0XHRcdFx0Y29uc3QgZGltcyA9IHR5cGVvZiBtb2RlbC5kaW1lbnNpb25zID09PSAnbnVtYmVyJyA/IG1vZGVsLmRpbWVuc2lvbnMgOiAodGhpcy5wbHVnaW4uc2V0dGluZ3Mub2xsYW1hRW1iZWRkaW5nRGltIHx8IDc2OCk7XHJcblx0XHRcdFx0XHRjb25zdCBkZXNjID0gbW9kZWwuZGVzY3JpcHRpb24gfHwgJyc7XHJcblx0XHRcdFx0XHRjb25zdCBzaG9ydERlc2MgPSBkZXNjLmxlbmd0aCA+IDM1ID8gZGVzYy5zdWJzdHJpbmcoMCwgMzUpICsgJy4uLicgOiBkZXNjO1xyXG5cdFx0XHRcdFx0Y29uc3QgZGlzcGxheU5hbWUgPSBgJHttb2RlbC5uYW1lfSAoJHtkaW1zfWQpIC0gJHtzaG9ydERlc2N9YDtcclxuXHRcdFx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbihtb2RlbC5uYW1lLCBkaXNwbGF5TmFtZSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBPcHRpb25hbGx5IGFwcGVuZCBhbnkgZXh0cmEgZGV0ZWN0ZWQgZW1iZWRkaW5nLWxpa2UgbW9kZWxzIG5vdCBpbiBzZXR0aW5nc1xyXG5cdFx0XHRcdC8vIFNraXBwZWQgaGVyZSB0byBhdm9pZCBtaXNjbGFzc2lmeWluZyBub24tZW1iZWRkaW5nIG1vZGVsczsgZW5oYW5jZWQgVUkgaGFuZGxlcyBkZXRlY3Rpb24gKyBpY29ucy5cclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdbU0VUVElOR1NdIEZhaWxlZCB0byBsb2FkIE9sbGFtYSBlbWJlZGRpbmcgbW9kZWxzJywgeyBlcnJvciB9KTtcclxuXHRcdFx0XHQvLyBGYWxsYmFjayB0byBzZXR0aW5ncyBtb2RlbHMgb25seVxyXG5cdFx0XHRcdGNvbnN0IHNldHRpbmdzTW9kZWxzID0gdGhpcy5vbGxhbWFTZXR0aW5ncy5nZXRPbGxhbWFFbWJlZGRpbmdNb2RlbHNGcm9tU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRmb3IgKGNvbnN0IG1vZGVsIG9mIHNldHRpbmdzTW9kZWxzKSB7XHJcblx0XHRcdFx0XHRjb25zdCBkaW1zID0gdHlwZW9mIG1vZGVsLmRpbWVuc2lvbnMgPT09ICdudW1iZXInID8gbW9kZWwuZGltZW5zaW9ucyA6ICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5vbGxhbWFFbWJlZGRpbmdEaW0gfHwgNzY4KTtcclxuXHRcdFx0XHRcdGNvbnN0IGRlc2MgPSBtb2RlbC5kZXNjcmlwdGlvbiB8fCAnJztcclxuXHRcdFx0XHRcdGNvbnN0IHNob3J0RGVzYyA9IGRlc2MubGVuZ3RoID4gNDAgPyBkZXNjLnN1YnN0cmluZygwLCA0MCkgKyAnLi4uJyA6IGRlc2M7XHJcblx0XHRcdFx0XHRjb25zdCBkaXNwbGF5TmFtZSA9IGAke21vZGVsLm5hbWV9ICgke2RpbXN9ZCkgLSAke3Nob3J0RGVzY31gO1xyXG5cdFx0XHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKG1vZGVsLm5hbWUsIGRpc3BsYXlOYW1lKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIEZvciBvdGhlciBwcm92aWRlcnMsIHVzZSBzdGFuZGFyZCBtb2RlbCBsaXN0XHJcblx0XHRcdG1vZGVsT3B0aW9ucy5mb3JFYWNoKChtb2RlbDogc3RyaW5nKSA9PiBkcm9wZG93bi5hZGRPcHRpb24obW9kZWwsIG1vZGVsKSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIGFkZEVuaGFuY2VkRW1iZWRkaW5nTW9kZWxTZXR0aW5nKGNvbnRlbnQ6IEhUTUxFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHQvLyBGb3IgT2xsYW1hIHByb3ZpZGVyLCBjcmVhdGUgZW5oYW5jZWQgZHJvcGRvd24gd2l0aCBjbGlja2FibGUgYXZhaWxhYmlsaXR5IGluZGljYXRvcnNcclxuXHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRlclByb3ZpZGVyID09PSAnb2xsYW1hJykge1xyXG5cdFx0XHRjb25zdCBzZXR0aW5nID0gbmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0XHQuc2V0TmFtZSgnRW1iZWRkaW5nIE1vZGVsJyArIHRoaXMuY3JlYXRlU3RhdHVzSW5kaWNhdG9yKCdpbXBsZW1lbnRlZCcpKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdNb2RlbCBmb3IgZ2VuZXJhdGluZyBlbWJlZGRpbmdzIHdpdGggYXZhaWxhYmlsaXR5IGNoZWNraW5nJyk7XHJcblxyXG5cdFx0XHRsZXQgZHJvcGRvd246IGFueTtcclxuXHRcdFx0bGV0IHN0YXR1c0NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XHJcblxyXG5cdFx0XHRzZXR0aW5nLmFkZERyb3Bkb3duKGFzeW5jIChkcm9wZG93bkNvbXBvbmVudCkgPT4ge1xyXG5cdFx0XHRcdGRyb3Bkb3duID0gZHJvcGRvd25Db21wb25lbnQ7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5vbGxhbWFTZXR0aW5ncy5wb3B1bGF0ZU9sbGFtYU1vZGVsc1dpdGhTdGF0dXMoZHJvcGRvd24pO1xyXG5cclxuXHRcdFx0XHRkcm9wZG93bi5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRpbmdNb2RlbClcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWU6IHN0cmluZykgPT4ge1xyXG5cdFx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRcdC8vIENoZWNrIGlmIHRoaXMgaXMgY2hhbmdpbmcgZnJvbSBhIHByZXZpb3VzbHkgc2V0IGVtYmVkZGluZyBtb2RlbFxyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGhhc0NoYW5nZWQgPSBhd2FpdCB0aGlzLnBsdWdpbi52YXVsdFJlZ2lzdHJ5U2VydmljZS5oYXNFbWJlZGRpbmdNb2RlbENoYW5nZWQoXHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZSxcclxuXHRcdFx0XHRcdFx0XHRcdFN0cmluZyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5vbGxhbWFFbWJlZGRpbmdEaW0gfHwgNzY4KVxyXG5cdFx0XHRcdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGlmIChoYXNDaGFuZ2VkKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKFwiWW91IGFyZSBjaGFuZ2luZyB0aGUgZW1iZWRkaW5nIG1vZGVsIGZvciB0aGlzIHZhdWx0LiBZb3UgbXVzdCBjbGVhciB0aGUgZGF0YWJhc2UgdG8gYXZvaWQgY29uZmxpY3RzLlwiKTtcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlci53YXJuKFwiW1NFVFRJTkdTXSBFbWJlZGRpbmcgbW9kZWwgY2hhbmdlIGRldGVjdGVkXCIsIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0bmV3TW9kZWw6IHZhbHVlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRuZXdEaW1lbnNpb25zOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5vbGxhbWFFbWJlZGRpbmdEaW0gfHwgNzY4XHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmVtYmVkZGluZ01vZGVsID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdC8vIFVwZGF0ZSB2YXVsdCByZWdpc3RyeSB3aXRoIG5ldyBlbWJlZGRpbmcgbW9kZWwgaW5jbHVkaW5nIHByb3ZpZGVyXHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW09MTEFNQS1FTUJFRERJTkctTU9ERUwtQ0hBTkdFXSBVcGRhdGluZyB2YXVsdCByZWdpc3RyeSBmcm9tIE9sbGFtYSBtb2RlbCBkcm9wZG93bicsIHtcclxuXHRcdFx0XHRcdFx0XHRcdG1vZGVsOiB2YWx1ZSxcclxuXHRcdFx0XHRcdFx0XHRcdGRpbWVuc2lvbnM6IHRoaXMucGx1Z2luLnNldHRpbmdzLm9sbGFtYUVtYmVkZGluZ0RpbSB8fCA3NjgsXHJcblx0XHRcdFx0XHRcdFx0XHRwcm92aWRlcjogJ29sbGFtYScsXHJcblx0XHRcdFx0XHRcdFx0XHR2YXVsdE5hbWU6IHRoaXMuYXBwLnZhdWx0LmdldE5hbWUoKVxyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnZhdWx0UmVnaXN0cnlTZXJ2aWNlLnVwZGF0ZVZhdWx0RW1iZWRkaW5nTW9kZWwoXHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmFwcC52YXVsdC5nZXROYW1lKCksXHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZSxcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm9sbGFtYUVtYmVkZGluZ0RpbSB8fCA3NjgsXHJcblx0XHRcdFx0XHRcdFx0XHQnb2xsYW1hJ1xyXG5cdFx0XHRcdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdC8vIFVwZGF0ZSBzdGF0dXMgaWNvbiBmb3IgdGhlIHNlbGVjdGVkIG1vZGVsIHdpdGhvdXQgdHJpZ2dlcmluZyBkb3dubG9hZHNcclxuXHRcdFx0XHRcdFx0XHRpZiAodmFsdWUpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MudXBkYXRlTW9kZWxTdGF0dXNJY29uRm9yRHJvcGRvd24oc3RhdHVzQ29udGFpbmVyLCAnZW1iZWRkaW5nJywgdmFsdWUpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXIuZXJyb3IoXCJbU0VUVElOR1NdIEVycm9yIGhhbmRsaW5nIE9sbGFtYSBlbWJlZGRpbmcgbW9kZWwgY2hhbmdlXCIsIHsgZXJyb3IgfSk7XHJcblx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShcIkVycm9yIGNoZWNraW5nIGVtYmVkZGluZyBtb2RlbCBjb25maWd1cmF0aW9uXCIpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBBZGQgc3RhdHVzIGNvbnRhaW5lciBmb3IgZG93bmxvYWQgcHJvZ3Jlc3MgYW5kIGNsaWNrYWJsZSBpY29uc1xyXG5cdFx0XHRzdGF0dXNDb250YWluZXIgPSBzZXR0aW5nLnNldHRpbmdFbC5jcmVhdGVEaXYoKTtcclxuXHRcdFx0c3RhdHVzQ29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgXHJcblx0XHRcdFx0bWFyZ2luLXRvcDogOHB4O1xyXG5cdFx0XHRcdHBhZGRpbmc6IDhweDtcclxuXHRcdFx0XHRib3JkZXItcmFkaXVzOiA0cHg7XHJcblx0XHRcdFx0Zm9udC1zaXplOiAwLjllbTtcclxuXHRcdFx0YDtcclxuXHJcblx0XHRcdC8vIEluaXRpYWwgc3RhdHVzIGljb24gdXBkYXRlXHJcblx0XHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRpbmdNb2RlbCkge1xyXG5cdFx0XHRcdHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5vbGxhbWFTZXR0aW5ncy51cGRhdGVNb2RlbFN0YXR1c0ljb25Gb3JEcm9wZG93bihzdGF0dXNDb250YWluZXIsICdlbWJlZGRpbmcnLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRpbmdNb2RlbCk7XHJcblx0XHRcdFx0fSwgMTAwKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gVXNlIHN0YW5kYXJkIGVtYmVkZGluZyBtb2RlbCBkcm9wZG93biBmb3Igbm9uLU9sbGFtYSBwcm92aWRlcnNcclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0XHQuc2V0TmFtZSgnRW1iZWRkaW5nIE1vZGVsJyArIHRoaXMuY3JlYXRlU3RhdHVzSW5kaWNhdG9yKCdpbXBsZW1lbnRlZCcpKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdNb2RlbCBmb3IgZ2VuZXJhdGluZyBlbWJlZGRpbmdzJylcclxuXHRcdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wb3B1bGF0ZUVtYmVkZGluZ01vZGVscyhkcm9wZG93biwgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlcik7XHJcblx0XHRcdFx0XHRkcm9wZG93bi5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRpbmdNb2RlbClcclxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdC8vIENoZWNrIGZvciBlbWJlZGRpbmcgbW9kZWwgY2hhbmdlcyB1c2luZyBWYXVsdFJlZ2lzdHJ5U2VydmljZVxyXG5cdFx0XHRcdFx0XHRcdGlmICh0aGlzLnBsdWdpbi52YXVsdFJlZ2lzdHJ5U2VydmljZSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgaGFzQ2hhbmdlZCA9IGF3YWl0IHRoaXMucGx1Z2luLnZhdWx0UmVnaXN0cnlTZXJ2aWNlLmhhc0VtYmVkZGluZ01vZGVsQ2hhbmdlZChcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRTdHJpbmcodGhpcy5wbHVnaW4uc2V0dGluZ3Mub2xsYW1hRW1iZWRkaW5nRGltIHx8IDc2OClcclxuXHRcdFx0XHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGhhc0NoYW5nZWQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdZb3UgYXJlIGNoYW5naW5nIHRoZSBlbWJlZGRpbmcgbW9kZWwgZm9yIHRoaXMgdmF1bHQuIFlvdSBtdXN0IGNsZWFyIHRoZSBkYXRhYmFzZSB0byBhdm9pZCBjb25mbGljdHMuJyk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy53YXJuKCdbRU1CRURESU5HLVdBUk5JTkddIEVtYmVkZGluZyBtb2RlbCBjaGFuZ2VkIGZvciB2YXVsdCcsIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9sZE1vZGVsOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRpbmdNb2RlbCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG5ld01vZGVsOiB2YWx1ZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhdWx0TmFtZTogdGhpcy5hcHAudmF1bHQuZ2V0TmFtZSgpXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tFTUJFRERJTkctV0FSTklOR10gRmFpbGVkIHRvIGNoZWNrIGVtYmVkZGluZyBtb2RlbCBjaGFuZ2VzJywgeyBlcnJvciB9KTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmVtYmVkZGluZ01vZGVsID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdC8vIFVwZGF0ZSB2YXVsdCByZWdpc3RyeSB3aXRoIG5ldyBlbWJlZGRpbmcgbW9kZWwgZm9yIG5vbi1PbGxhbWEgcHJvdmlkZXJzXHJcblx0XHRcdFx0XHRcdFx0aWYgKHRoaXMucGx1Z2luLnZhdWx0UmVnaXN0cnlTZXJ2aWNlKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zdCB2YXVsdE5hbWUgPSB0aGlzLmFwcC52YXVsdC5nZXROYW1lKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1tOT04tT0xMQU1BLUVNQkVERElORy1NT0RFTC1DSEFOR0VdIFVwZGF0aW5nIHZhdWx0IHJlZ2lzdHJ5IGZyb20gZW1iZWRkaW5nIG1vZGVsIGRyb3Bkb3duJywge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1vZGVsOiB2YWx1ZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRkaW1lbnNpb25zOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5vbGxhbWFFbWJlZGRpbmdEaW0gfHwgNzY4LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHByb3ZpZGVyOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRlclByb3ZpZGVyLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhdWx0TmFtZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4udmF1bHRSZWdpc3RyeVNlcnZpY2UudXBkYXRlVmF1bHRFbWJlZGRpbmdNb2RlbChcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXVsdE5hbWUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFsdWUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mub2xsYW1hRW1iZWRkaW5nRGltIHx8IDc2OCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRlclByb3ZpZGVyXHJcblx0XHRcdFx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdbTk9OLU9MTEFNQS1FTUJFRERJTkctTU9ERUxdIEZhaWxlZCB0byB1cGRhdGUgdmF1bHQgcmVnaXN0cnknLCB7IGVycm9yLCBtb2RlbDogdmFsdWUgfSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgcG9wdWxhdGVPbGxhbWFNb2RlbHNXaXRoU3RhdHVzKGRyb3Bkb3duOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MucG9wdWxhdGVPbGxhbWFNb2RlbHNXaXRoU3RhdHVzKGRyb3Bkb3duKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgaGFuZGxlT2xsYW1hTW9kZWxTZWxlY3Rpb24obW9kZWxOYW1lOiBzdHJpbmcsIHN0YXR1c0NvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MuaGFuZGxlT2xsYW1hTW9kZWxTZWxlY3Rpb24obW9kZWxOYW1lLCBzdGF0dXNDb250YWluZXIpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBkb3dubG9hZE9sbGFtYU1vZGVsV2l0aFByb2dyZXNzKG1vZGVsTmFtZTogc3RyaW5nLCBzdGF0dXNDb250YWluZXI6IEhUTUxFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRhd2FpdCB0aGlzLm9sbGFtYVNldHRpbmdzLmRvd25sb2FkT2xsYW1hTW9kZWxXaXRoUHJvZ3Jlc3MobW9kZWxOYW1lLCBzdGF0dXNDb250YWluZXIpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBpc09sbGFtYU1vZGVsSW5zdGFsbGVkKG1vZGVsTmFtZTogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcblx0XHRyZXR1cm4gYXdhaXQgdGhpcy5vbGxhbWFTZXR0aW5ncy5pc09sbGFtYU1vZGVsSW5zdGFsbGVkKG1vZGVsTmFtZSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIHVwZGF0ZUxMTU1vZGVsU3RhdHVzSWNvbihjb250YWluZXJFbDogSFRNTEVsZW1lbnQsIG1vZGVsTmFtZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRhd2FpdCB0aGlzLm9sbGFtYVNldHRpbmdzLnVwZGF0ZU1vZGVsU3RhdHVzSWNvbkZvckRyb3Bkb3duKGNvbnRhaW5lckVsLCAnbGxtX3NtYWxsJywgbW9kZWxOYW1lKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgYWRkQ3VzdG9tTExNTW9kZWxFbnRyeShjb250ZW50OiBIVE1MRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0Y29uc3QgY3VzdG9tTW9kZWxTZXR0aW5nID0gbmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0N1c3RvbSBMTE0gTW9kZWwnICsgdGhpcy5jcmVhdGVTdGF0dXNJbmRpY2F0b3IoJ2ltcGxlbWVudGVkJykpXHJcblx0XHRcdC5zZXREZXNjKCdEb3dubG9hZCBhbnkgT2xsYW1hIExMTSBtb2RlbCBieSBuYW1lIChlLmcuLCBsbGFtYTMuMjozYiwgY29kZWxsYW1hOjEzYiknKTtcclxuXHJcblx0XHRsZXQgbW9kZWxJbnB1dDogSFRNTElucHV0RWxlbWVudDtcclxuXHRcdGxldCBkb3dubG9hZEJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblx0XHRsZXQgc3RhdHVzQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcclxuXHJcblx0XHQvLyBBZGQgdGV4dCBpbnB1dCBmb3IgbW9kZWwgbmFtZVxyXG5cdFx0Y3VzdG9tTW9kZWxTZXR0aW5nLmFkZFRleHQodGV4dCA9PiB7XHJcblx0XHRcdG1vZGVsSW5wdXQgPSB0ZXh0LmlucHV0RWw7XHJcblx0XHRcdHRleHQuc2V0UGxhY2Vob2xkZXIoJ0VudGVyIG1vZGVsIG5hbWUgKGUuZy4sIGxsYW1hMy4yOjNiKScpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0Ly8gRW5hYmxlL2Rpc2FibGUgZG93bmxvYWQgYnV0dG9uIGJhc2VkIG9uIGlucHV0XHJcblx0XHRcdFx0XHRpZiAoZG93bmxvYWRCdXR0b24pIHtcclxuXHRcdFx0XHRcdFx0ZG93bmxvYWRCdXR0b24uZGlzYWJsZWQgPSAhdmFsdWUudHJpbSgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gQWRkIGRvd25sb2FkIGJ1dHRvbiB3aXRoIGljb25cclxuXHRcdGN1c3RvbU1vZGVsU2V0dGluZy5hZGRCdXR0b24oYnV0dG9uID0+IHtcclxuXHRcdFx0ZG93bmxvYWRCdXR0b24gPSBidXR0b24uYnV0dG9uRWw7XHJcblx0XHRcdGJ1dHRvbi5zZXRCdXR0b25UZXh0KCfirIcgRG93bmxvYWQnKVxyXG5cdFx0XHRcdC5zZXRUb29sdGlwKCdEb3dubG9hZCB0aGlzIG1vZGVsIGZyb20gT2xsYW1hIHJlZ2lzdHJ5JylcclxuXHRcdFx0XHQuc2V0RGlzYWJsZWQodHJ1ZSlcclxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBtb2RlbE5hbWUgPSBtb2RlbElucHV0LnZhbHVlLnRyaW0oKTtcclxuXHRcdFx0XHRcdGlmICghbW9kZWxOYW1lKSB7XHJcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoJ1tFUlJPUl0gUGxlYXNlIGVudGVyIGEgbW9kZWwgbmFtZScpO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0Ly8gQ2hlY2sgaWYgYWxyZWFkeSBhdmFpbGFibGVcclxuXHRcdFx0XHRcdFx0Y29uc3QgaXNBdmFpbGFibGUgPSBhd2FpdCB0aGlzLm9sbGFtYVNldHRpbmdzLmlzT2xsYW1hTW9kZWxJbnN0YWxsZWQobW9kZWxOYW1lKTtcclxuXHRcdFx0XHRcdFx0aWYgKGlzQXZhaWxhYmxlKSB7XHJcblx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgW0lORk9dIE1vZGVsICR7bW9kZWxOYW1lfSBpcyBhbHJlYWR5IGluc3RhbGxlZGApO1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0Ly8gU3RhcnQgZG93bmxvYWQgdXNpbmcgT2xsYW1hU2V0dGluZ3MgbWV0aG9kXHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MuZG93bmxvYWRPbGxhbWFNb2RlbFdpdGhQcm9ncmVzcyhtb2RlbE5hbWUsIHN0YXR1c0NvbnRhaW5lcik7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBQZXJzaXN0IGN1c3RvbSBtb2RlbCBpbnRvIHNldHRpbmdzIGlmIG5vdyBpbnN0YWxsZWRcclxuXHRcdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBpbnN0YWxsZWQgPSBhd2FpdCB0aGlzLm9sbGFtYVNldHRpbmdzLmlzT2xsYW1hTW9kZWxJbnN0YWxsZWQobW9kZWxOYW1lKTtcclxuXHRcdFx0XHRcdFx0XHRpZiAoaW5zdGFsbGVkKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLm9sbGFtYVNldHRpbmdzLmFkZEN1c3RvbU9sbGFtYUxMTVRvRGVmYXVsdHMobW9kZWxOYW1lKTtcclxuXHRcdFx0XHRcdFx0XHRcdC8vIFJlZnJlc2ggVUkgdXNpbmcgT2xsYW1hU2V0dGluZ3MgbWV0aG9kXHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLm9sbGFtYVNldHRpbmdzLnJlZnJlc2hMTE1Ecm9wZG93bnMoKTtcclxuXHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYFtTVUNDRVNTXSAke21vZGVsTmFtZX0gZG93bmxvYWRlZCBhbmQgYWRkZWQgdG8gTExNIG1vZGVscy5gKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKHBlcnNpc3RFcnIpIHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/Lndhcm4oJ1tDVVNUT00tTExNXSBQb3N0LWRvd25sb2FkIGF2YWlsYWJpbGl0eSBjaGVjayBmYWlsZWQnLCB7IGVycm9yOiBwZXJzaXN0RXJyLCBtb2RlbE5hbWUgfSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdC8vIENsZWFyIGlucHV0IGFmdGVyIHN1Y2Nlc3NmdWwgZG93bmxvYWRcclxuXHRcdFx0XHRcdFx0bW9kZWxJbnB1dC52YWx1ZSA9ICcnO1xyXG5cdFx0XHRcdFx0XHRkb3dubG9hZEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcblxyXG5cdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignW0NVU1RPTS1MTE1dIERvd25sb2FkIGZhaWxlZCcsIHsgZXJyb3IsIG1vZGVsTmFtZSB9KTtcclxuXHRcdFx0XHRcdFx0Y29uc3QgZXJyb3JNc2cgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcclxuXHRcdFx0XHRcdFx0bmV3IE5vdGljZShgW0VSUk9SXSBGYWlsZWQgdG8gZG93bmxvYWQgJHttb2RlbE5hbWV9OiAke2Vycm9yTXNnfWApO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gQWRkIHN0YXR1cyBjb250YWluZXIgZm9yIHByb2dyZXNzIHRyYWNraW5nXHJcblx0XHRzdGF0dXNDb250YWluZXIgPSBjdXN0b21Nb2RlbFNldHRpbmcuc2V0dGluZ0VsLmNyZWF0ZURpdigpO1xyXG5cdFx0c3RhdHVzQ29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgXHJcblx0XHRcdG1hcmdpbi10b3A6IDhweDtcclxuXHRcdFx0cGFkZGluZzogOHB4O1xyXG5cdFx0XHRib3JkZXItcmFkaXVzOiA0cHg7XHJcblx0XHRcdGZvbnQtc2l6ZTogMC45ZW07XHJcblx0XHRcdG1pbi1oZWlnaHQ6IDIwcHg7XHJcblx0XHRgO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBhZGRDdXN0b21FbWJlZGRpbmdNb2RlbEVudHJ5KGNvbnRlbnQ6IEhUTUxFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRjb25zdCBjdXN0b21Nb2RlbFNldHRpbmcgPSBuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnQ3VzdG9tIEVtYmVkZGluZyBNb2RlbCcgKyB0aGlzLmNyZWF0ZVN0YXR1c0luZGljYXRvcignaW1wbGVtZW50ZWQnKSlcclxuXHRcdFx0LnNldERlc2MoJ0Rvd25sb2FkIGFueSBPbGxhbWEgZW1iZWRkaW5nIG1vZGVsIGJ5IG5hbWUgKGUuZy4sIG5vbWljLWVtYmVkLXRleHQsIG14YmFpLWVtYmVkLWxhcmdlKScpO1xyXG5cclxuXHRcdGxldCBtb2RlbElucHV0OiBIVE1MSW5wdXRFbGVtZW50O1xyXG5cdFx0bGV0IGRvd25sb2FkQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHRcdGxldCBzdGF0dXNDb250YWluZXI6IEhUTUxFbGVtZW50O1xyXG5cclxuXHRcdC8vIEFkZCB0ZXh0IGlucHV0IGZvciBtb2RlbCBuYW1lXHJcblx0XHRjdXN0b21Nb2RlbFNldHRpbmcuYWRkVGV4dCh0ZXh0ID0+IHtcclxuXHRcdFx0bW9kZWxJbnB1dCA9IHRleHQuaW5wdXRFbDtcclxuXHRcdFx0dGV4dC5zZXRQbGFjZWhvbGRlcignRW50ZXIgZW1iZWRkaW5nIG1vZGVsIG5hbWUnKVxyXG5cdFx0XHRcdC5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdC8vIEVuYWJsZS9kaXNhYmxlIGRvd25sb2FkIGJ1dHRvbiBiYXNlZCBvbiBpbnB1dFxyXG5cdFx0XHRcdFx0aWYgKGRvd25sb2FkQnV0dG9uKSB7XHJcblx0XHRcdFx0XHRcdGRvd25sb2FkQnV0dG9uLmRpc2FibGVkID0gIXZhbHVlLnRyaW0oKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIEFkZCBkb3dubG9hZCBidXR0b24gd2l0aCBpY29uXHJcblx0XHRjdXN0b21Nb2RlbFNldHRpbmcuYWRkQnV0dG9uKGJ1dHRvbiA9PiB7XHJcblx0XHRcdGRvd25sb2FkQnV0dG9uID0gYnV0dG9uLmJ1dHRvbkVsO1xyXG5cdFx0XHRidXR0b24uc2V0QnV0dG9uVGV4dCgn4qyHIERvd25sb2FkJylcclxuXHRcdFx0XHQuc2V0VG9vbHRpcCgnRG93bmxvYWQgdGhpcyBlbWJlZGRpbmcgbW9kZWwgZnJvbSBPbGxhbWEgcmVnaXN0cnknKVxyXG5cdFx0XHRcdC5zZXREaXNhYmxlZCh0cnVlKVxyXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IG1vZGVsTmFtZSA9IG1vZGVsSW5wdXQudmFsdWUudHJpbSgpO1xyXG5cdFx0XHRcdFx0aWYgKCFtb2RlbE5hbWUpIHtcclxuXHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnW0VSUk9SXSBQbGVhc2UgZW50ZXIgYSBtb2RlbCBuYW1lJyk7XHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHQvLyBDaGVjayBpZiBhbHJlYWR5IGF2YWlsYWJsZVxyXG5cdFx0XHRcdFx0XHRjb25zdCBpc0F2YWlsYWJsZSA9IGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MuaXNPbGxhbWFNb2RlbEluc3RhbGxlZChtb2RlbE5hbWUpO1xyXG5cdFx0XHRcdFx0XHRpZiAoaXNBdmFpbGFibGUpIHtcclxuXHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBbSU5GT10gTW9kZWwgJHttb2RlbE5hbWV9IGlzIGFscmVhZHkgaW5zdGFsbGVkYCk7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBTdGFydCBkb3dubG9hZFxyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmRvd25sb2FkT2xsYW1hTW9kZWxXaXRoUHJvZ3Jlc3MobW9kZWxOYW1lLCBzdGF0dXNDb250YWluZXIpO1xyXG5cclxuXHRcdFx0XHRcdFx0Ly8gUGVyc2lzdCBjdXN0b20gZW1iZWRkaW5nIG1vZGVsIGludG8gc2V0dGluZ3MgaWYgbm93IGluc3RhbGxlZFxyXG5cdFx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGluc3RhbGxlZCA9IGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MuaXNPbGxhbWFNb2RlbEluc3RhbGxlZChtb2RlbE5hbWUpO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChpbnN0YWxsZWQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MuYWRkQ3VzdG9tT2xsYW1hRW1iZWRkaW5nVG9EZWZhdWx0cyhtb2RlbE5hbWUpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSBjYXRjaCAocGVyc2lzdEVycikge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8ud2FybignW0NVU1RPTS1FTUJFRERJTkddIFBvc3QtZG93bmxvYWQgYXZhaWxhYmlsaXR5IGNoZWNrIGZhaWxlZCcsIHsgZXJyb3I6IHBlcnNpc3RFcnIsIG1vZGVsTmFtZSB9KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0Ly8gQ2xlYXIgaW5wdXQgYWZ0ZXIgc3VjY2Vzc2Z1bCBkb3dubG9hZFxyXG5cdFx0XHRcdFx0XHRtb2RlbElucHV0LnZhbHVlID0gJyc7XHJcblx0XHRcdFx0XHRcdGRvd25sb2FkQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuXHJcblx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdbQ1VTVE9NLUVNQkVERElOR10gRG93bmxvYWQgZmFpbGVkJywgeyBlcnJvciwgbW9kZWxOYW1lIH0pO1xyXG5cdFx0XHRcdFx0XHRjb25zdCBlcnJvck1zZyA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xyXG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBbRVJST1JdIEZhaWxlZCB0byBkb3dubG9hZCAke21vZGVsTmFtZX06ICR7ZXJyb3JNc2d9YCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBBZGQgc3RhdHVzIGNvbnRhaW5lciBmb3IgcHJvZ3Jlc3MgdHJhY2tpbmdcclxuXHRcdHN0YXR1c0NvbnRhaW5lciA9IGN1c3RvbU1vZGVsU2V0dGluZy5zZXR0aW5nRWwuY3JlYXRlRGl2KCk7XHJcblx0XHRzdGF0dXNDb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IGBcclxuXHRcdFx0bWFyZ2luLXRvcDogOHB4O1xyXG5cdFx0XHRwYWRkaW5nOiA4cHg7XHJcblx0XHRcdGJvcmRlci1yYWRpdXM6IDRweDtcclxuXHRcdFx0Zm9udC1zaXplOiAwLjllbTtcclxuXHRcdFx0bWluLWhlaWdodDogMjBweDtcclxuXHRcdGA7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIHJlZnJlc2hPbGxhbWFEcm9wZG93bkFuZFN0YXR1cygpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdC8vIEZvcmNlIGEgZGlzcGxheSByZWZyZXNoIHRvIHVwZGF0ZSB0aGUgZHJvcGRvd24gd2l0aCBuZXcgbW9kZWwgc3RhdHVzZXNcclxuXHRcdC8vIFRoaXMgaXMgYSBsaWdodHdlaWdodCBhcHByb2FjaCB0aGF0IHJlYnVpbGRzIHRoZSBzZXR0aW5ncyBVSVxyXG5cdFx0dGhpcy5kaXNwbGF5KCk7XHJcblx0fVxyXG5cclxuXHJcblx0cHJpdmF0ZSB1cGRhdGVMTE1EZWZhdWx0cyhwcm92aWRlcjogc3RyaW5nKTogdm9pZCB7XHJcblx0XHRjb25zdCBjZmc6IGFueSA9IHRoaXMucGx1Z2luLnNldHRpbmdzIGFzIGFueTtcclxuXHRcdGxldCBwcmltYXJ5OiBzdHJpbmcgfCB1bmRlZmluZWQ7XHJcblx0XHRsZXQgc21hbGw6IHN0cmluZyB8IHVuZGVmaW5lZDtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCBsbG1TcmMgPSBjZmc/LmxsbURlZmF1bHRzPy5bcHJvdmlkZXJdO1xyXG5cdFx0XHRpZiAobGxtU3JjICYmIHR5cGVvZiBsbG1TcmMgPT09ICdvYmplY3QnKSB7XHJcblx0XHRcdFx0Y29uc3QgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKGxsbVNyYyBhcyBSZWNvcmQ8c3RyaW5nLCBhbnk+KTtcclxuXHRcdFx0XHRjb25zdCByZWNvbW1lbmRlZCA9IGVudHJpZXMuZmluZCgoWywgbWV0YV0pID0+IG1ldGEgJiYgbWV0YS5yZWNvbW1lbmRlZCk7XHJcblx0XHRcdFx0cHJpbWFyeSA9IChyZWNvbW1lbmRlZCAmJiByZWNvbW1lbmRlZFswXSkgfHwgT2JqZWN0LmtleXMobGxtU3JjKVswXTtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbU0VUVElOR1NdIFNlbGVjdGVkIExMTSBkZWZhdWx0IGZyb20gcGx1Z2luLnNldHRpbmdzJywgeyBwcm92aWRlciwgbW9kZWw6IHByaW1hcnkgfSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNvbnN0IHNtYWxsU3JjID0gY2ZnPy5sbG1TbWFsbERlZmF1bHRzPy5bcHJvdmlkZXJdO1xyXG5cdFx0XHRpZiAoc21hbGxTcmMgJiYgdHlwZW9mIHNtYWxsU3JjID09PSAnb2JqZWN0Jykge1xyXG5cdFx0XHRcdGNvbnN0IGVudHJpZXNTID0gT2JqZWN0LmVudHJpZXMoc21hbGxTcmMgYXMgUmVjb3JkPHN0cmluZywgYW55Pik7XHJcblx0XHRcdFx0Y29uc3QgcmVjb21tZW5kZWRTID0gZW50cmllc1MuZmluZCgoWywgbWV0YV0pID0+IG1ldGEgJiYgbWV0YS5yZWNvbW1lbmRlZCk7XHJcblx0XHRcdFx0c21hbGwgPSAocmVjb21tZW5kZWRTICYmIHJlY29tbWVuZGVkU1swXSkgfHwgT2JqZWN0LmtleXMoc21hbGxTcmMpWzBdO1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1tTRVRUSU5HU10gU2VsZWN0ZWQgTExNIFNtYWxsIGRlZmF1bHQgZnJvbSBwbHVnaW4uc2V0dGluZ3MnLCB7IHByb3ZpZGVyLCBtb2RlbDogc21hbGwgfSk7XHJcblx0XHRcdH0gZWxzZSBpZiAoIXNtYWxsICYmIGNmZz8ubGxtRGVmYXVsdHM/Lltwcm92aWRlcl0pIHtcclxuXHRcdFx0XHRzbWFsbCA9IE9iamVjdC5rZXlzKGNmZy5sbG1EZWZhdWx0c1twcm92aWRlcl0pWzBdO1xyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/Lndhcm4oJ1tTRVRUSU5HU10gRmFpbGVkIGRlcml2aW5nIExMTSBkZWZhdWx0cyBmcm9tIHBsdWdpbi5zZXR0aW5ncycsIHsgZXJyb3IgfSk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFwcmltYXJ5KSB7XHJcblx0XHRcdGNvbnN0IGRlZmF1bHRzOiBSZWNvcmQ8c3RyaW5nLCB7IG1vZGVsOiBzdHJpbmc7IHNtYWxsTW9kZWw/OiBzdHJpbmcgfT4gPSB7XHJcblx0XHRcdFx0b3BlbmFpOiB7IG1vZGVsOiAnZ3B0LTRvJywgc21hbGxNb2RlbDogJ2dwdC00by1taW5pJyB9LFxyXG5cdFx0XHRcdGFudGhyb3BpYzogeyBtb2RlbDogJ2NsYXVkZS1zb25uZXQtNC0yMDI1MDUxNCcsIHNtYWxsTW9kZWw6ICdjbGF1ZGUtMy01LWhhaWt1LTIwMjQxMDIyJyB9LFxyXG5cdFx0XHRcdGdvb2dsZTogeyBtb2RlbDogJ2dlbWluaS0yLjAtZmxhc2gnLCBzbWFsbE1vZGVsOiAnZ2VtaW5pLTIuMC1mbGFzaC1leHAnIH0sXHJcblx0XHRcdFx0YXp1cmU6IHsgbW9kZWw6ICdncHQtNG8nLCBzbWFsbE1vZGVsOiAnZ3B0LTRvLW1pbmknIH0sXHJcblx0XHRcdFx0b2xsYW1hOiB7IG1vZGVsOiAnZGVlcHNlZWstcjE6N2InLCBzbWFsbE1vZGVsOiAnbGxhbWEzLjE6OGInIH1cclxuXHRcdFx0fTtcclxuXHRcdFx0cHJpbWFyeSA9IGRlZmF1bHRzW3Byb3ZpZGVyXT8ubW9kZWw7XHJcblx0XHRcdHNtYWxsID0gc21hbGwgfHwgZGVmYXVsdHNbcHJvdmlkZXJdPy5zbWFsbE1vZGVsO1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbU0VUVElOR1NdIEZhbGxpbmcgYmFjayB0byBpbnRlcm5hbCBMTE0gZGVmYXVsdHMnLCB7IHByb3ZpZGVyLCBtb2RlbDogcHJpbWFyeSwgc21hbGwgfSk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHByaW1hcnkpIHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbU1vZGVsID0gcHJpbWFyeTtcclxuXHRcdGlmIChzbWFsbCkgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtU21hbGxNb2RlbCA9IHNtYWxsO1xyXG5cclxuXHRcdHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0dGhpcy5kaXNwbGF5KCk7IC8vIFJlZnJlc2ggdG8gc2hvdyB1cGRhdGVkIG1vZGVsc1xyXG5cdH1cclxuXHJcblx0Ly8gQEB2ZXNzZWwtcHJvdG9jb2w6QnJhZ2kgZ292ZXJuczpmZWF0dXJlIGNvbnRleHQ6Q3Jvc3MtZW5jb2RlciBwcm92aWRlciBjb25maWd1cmF0aW9uIGFuZCBtb2RlbCBzZWxlY3Rpb25cclxuXHRwcml2YXRlIHVwZGF0ZUNyb3NzRW5jb2RlckRlZmF1bHRzKHByb3ZpZGVyOiAnbm9uZScgfCAnb3BlbmFpJyB8ICdiZ2UnIHwgJ2dlbWluaScpOiB2b2lkIHtcclxuXHRcdC8vIENsZWFyIG1vZGVsIHdoZW4gdXNlciBjaG9vc2VzICdub25lJyBvciAnYmdlJyAoQkdFIGRvZXNuJ3QgdXNlIGNvbmZpZ3VyYWJsZSBtb2RlbHMpXHJcblx0XHRpZiAocHJvdmlkZXIgPT09ICdub25lJyB8fCBwcm92aWRlciA9PT0gJ2JnZScpIHtcclxuXHRcdFx0KHRoaXMucGx1Z2luLnNldHRpbmdzIGFzIGFueSkuY3Jvc3NFbmNvZGVyTW9kZWwgPSB1bmRlZmluZWQ7XHJcblx0XHRcdHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHR0aGlzLmRpc3BsYXkoKTsgLy8gUmVmcmVzaCB0byBjbGVhciBtb2RlbCBkcm9wZG93blxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gUHJlZmVyIHZhbHVlcyBjb21pbmcgZnJvbSBoeWRyYXRlZCBwbHVnaW4uc2V0dGluZ3MubGxtQ3Jvc3NFbmNvZGVyRGVmYXVsdHNcclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IGNmZzogYW55ID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MgYXMgYW55O1xyXG5cdFx0XHRjb25zdCBzcmMgPSBjZmc/LmxsbUNyb3NzRW5jb2RlckRlZmF1bHRzPy5bcHJvdmlkZXJdO1xyXG5cdFx0XHRpZiAoc3JjICYmIHR5cGVvZiBzcmMgPT09ICdvYmplY3QnKSB7XHJcblx0XHRcdFx0Ly8gSWYgYSByZWNvbW1lbmRlZCBlbnRyeSBleGlzdHMsIHBpY2sgaXQ7IG90aGVyd2lzZSB1c2UgdGhlIGZpcnN0IGtleVxyXG5cdFx0XHRcdGNvbnN0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhzcmMgYXMgUmVjb3JkPHN0cmluZywgYW55Pik7XHJcblx0XHRcdFx0Y29uc3QgcmVjb21tZW5kZWQgPSBlbnRyaWVzLmZpbmQoKFssIG1ldGFdKSA9PiBtZXRhICYmIG1ldGEucmVjb21tZW5kZWQpO1xyXG5cdFx0XHRcdGNvbnN0IGNob3NlbiA9IChyZWNvbW1lbmRlZCAmJiByZWNvbW1lbmRlZFswXSkgfHwgZW50cmllc1swXT8uWzBdO1xyXG5cdFx0XHRcdGlmIChjaG9zZW4pIHtcclxuXHRcdFx0XHRcdCh0aGlzLnBsdWdpbi5zZXR0aW5ncyBhcyBhbnkpLmNyb3NzRW5jb2Rlck1vZGVsID0gY2hvc2VuO1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW1NFVFRJTkdTXSBTZWxlY3RlZCBjcm9zcy1lbmNvZGVyIGRlZmF1bHQgZnJvbSBwbHVnaW4uc2V0dGluZ3MnLCB7IHByb3ZpZGVyLCBtb2RlbDogY2hvc2VuIH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy53YXJuKCdbU0VUVElOR1NdIEZhaWxlZCBkZXJpdmluZyBjcm9zcy1lbmNvZGVyIGRlZmF1bHRzIGZyb20gcGx1Z2luLnNldHRpbmdzJywgeyBlcnJvciB9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBEbyBOT1QgaW52ZW50IHByb3ZpZGVyLXNwZWNpZmljIGRlZmF1bHRzIGhlcmUuIElmIG5vdGhpbmcgd2FzIHNldCBhYm92ZSxcclxuXHRcdC8vIGxlYXZlIHBsdWdpbi5zZXR0aW5ncy5jcm9zc0VuY29kZXJNb2RlbCBhcy1pcyAodXNlciBtYXkgc2V0IGl0IG1hbnVhbGx5KS5cclxuXHRcdHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0dGhpcy5kaXNwbGF5KCk7IC8vIFJlZnJlc2ggdG8gc2hvdyB1cGRhdGVkIG1vZGVsc1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBwb3B1bGF0ZUNyb3NzRW5jb2Rlck1vZGVscyhkcm9wZG93bjogYW55LCBwcm92aWRlcjogJ25vbmUnIHwgJ29wZW5haScgfCAnYmdlJyB8ICdnZW1pbmknKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRkcm9wZG93bi5zZWxlY3RFbC5lbXB0eSgpO1xyXG5cclxuXHRcdGlmIChwcm92aWRlciA9PT0gJ25vbmUnKSB7XHJcblx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbignJywgJ05vIHJlcmFua2luZyBtb2RlbCBuZWVkZWQnKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFByZWZlciByZWFkaW5nIG1vZGVsIGxpc3RzIGZyb20gcGx1Z2luLnNldHRpbmdzLmxsbUNyb3NzRW5jb2RlckRlZmF1bHRzIChoeWRyYXRlZCBmcm9tIGRhdGEuanNvbilcclxuXHRcdGxldCBtb2RlbE9wdGlvbnM6IHN0cmluZ1tdID0gW107XHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCBjZmc6IGFueSA9IHRoaXMucGx1Z2luLnNldHRpbmdzIGFzIGFueTtcclxuXHRcdFx0Y29uc3Qgc3JjID0gY2ZnPy5sbG1Dcm9zc0VuY29kZXJEZWZhdWx0cz8uW3Byb3ZpZGVyXTtcclxuXHRcdFx0aWYgKHNyYyAmJiB0eXBlb2Ygc3JjID09PSAnb2JqZWN0Jykge1xyXG5cdFx0XHRcdGNvbnN0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhzcmMgYXMgUmVjb3JkPHN0cmluZywgYW55Pik7XHJcblx0XHRcdFx0Ly8gUmVjb21tZW5kZWQtZmlyc3Qgb3JkZXJpbmcsIHRoZW4gYWxwaGFiZXRpY2FsXHJcblx0XHRcdFx0ZW50cmllcy5zb3J0KChhLCBiKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCByYSA9IChhWzFdICYmIGFbMV0ucmVjb21tZW5kZWQpID8gMSA6IDA7XHJcblx0XHRcdFx0XHRjb25zdCByYiA9IChiWzFdICYmIGJbMV0ucmVjb21tZW5kZWQpID8gMSA6IDA7XHJcblx0XHRcdFx0XHRyZXR1cm4gcmIgLSByYSB8fCBhWzBdLmxvY2FsZUNvbXBhcmUoYlswXSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0bW9kZWxPcHRpb25zID0gZW50cmllcy5tYXAoKFtuYW1lXSkgPT4gbmFtZSk7XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW1NFVFRJTkdTXSBVc2luZyBsbG1Dcm9zc0VuY29kZXJEZWZhdWx0cyBmcm9tIHBsdWdpbi5zZXR0aW5ncyBmb3IgJyArIHByb3ZpZGVyLCB7IGNvdW50OiBtb2RlbE9wdGlvbnMubGVuZ3RoIH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/Lndhcm4oJ1tTRVRUSU5HU10gRmFpbGVkIHJlYWRpbmcgY3Jvc3MtZW5jb2RlciBkZWZhdWx0cyBmcm9tIHBsdWdpbi5zZXR0aW5ncycsIHsgZXJyb3IgfSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gSWYgcHJvdmlkZXIgaXMgJ2JnZScgYW5kIG5vIHNldHRpbmdzLWRyaXZlbiBsaXN0IGV4aXN0cywgc3RpbGwgYWxsb3cgdGhlIHVzZXIgdG8gZW50ZXIvY2hvb3NlIG1hbnVhbGx5LlxyXG5cdFx0Ly8gRG8gbm90IGludmVudCBoYXJkY29kZWQgZGVmYXVsdHMgaGVyZTsgbGVhdmUgZHJvcGRvd24gZW1wdHkgc28gcGx1Z2luIGh5ZHJhdGlvbiBvciB1c2VyIGlucHV0IGNvbnRyb2xzIHNlbGVjdGlvbi5cclxuXHRcdGlmIChtb2RlbE9wdGlvbnMubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbignJywgYE5vIG1vZGVscyBjb25maWd1cmVkIGZvciAke3Byb3ZpZGVyfWApO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0bW9kZWxPcHRpb25zLmZvckVhY2goKG1vZGVsOiBzdHJpbmcpID0+IHtcclxuXHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKG1vZGVsLCBtb2RlbCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgdXBkYXRlRW1iZWRkZXJEZWZhdWx0cyhwcm92aWRlcjogc3RyaW5nKTogdm9pZCB7XHJcblx0XHRjb25zdCBjZmc6IGFueSA9IHRoaXMucGx1Z2luLnNldHRpbmdzIGFzIGFueTtcclxuXHRcdGxldCBjaG9zZW46IHN0cmluZyB8IHVuZGVmaW5lZDtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCBlU3JjID0gY2ZnPy5lbWJlZGRpbmdEZWZhdWx0cz8uW3Byb3ZpZGVyXTtcclxuXHRcdFx0aWYgKGVTcmMgJiYgdHlwZW9mIGVTcmMgPT09ICdvYmplY3QnKSB7XHJcblx0XHRcdFx0Y29uc3QgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKGVTcmMgYXMgUmVjb3JkPHN0cmluZywgYW55Pik7XHJcblx0XHRcdFx0Y29uc3QgcmVjb21tZW5kZWQgPSBlbnRyaWVzLmZpbmQoKFssIG1ldGFdKSA9PiBtZXRhICYmIG1ldGEucmVjb21tZW5kZWQpO1xyXG5cdFx0XHRcdGNob3NlbiA9IChyZWNvbW1lbmRlZCAmJiByZWNvbW1lbmRlZFswXSkgfHwgT2JqZWN0LmtleXMoZVNyYylbMF07XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW1NFVFRJTkdTXSBTZWxlY3RlZCBFbWJlZGRpbmcgZGVmYXVsdCBmcm9tIHBsdWdpbi5zZXR0aW5ncycsIHsgcHJvdmlkZXIsIG1vZGVsOiBjaG9zZW4gfSk7XHJcblx0XHRcdH1cclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8ud2FybignW1NFVFRJTkdTXSBGYWlsZWQgZGVyaXZpbmcgZW1iZWRkaW5nIGRlZmF1bHRzIGZyb20gcGx1Z2luLnNldHRpbmdzJywgeyBlcnJvciB9KTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIWNob3Nlbikge1xyXG5cdFx0XHRjb25zdCBkZWZhdWx0czogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcclxuXHRcdFx0XHRvcGVuYWk6ICd0ZXh0LWVtYmVkZGluZy0zLXNtYWxsJyxcclxuXHRcdFx0XHRnb29nbGU6ICd0ZXh0LWVtYmVkZGluZy0wMDQnLFxyXG5cdFx0XHRcdHZveWFnZTogJ3ZveWFnZS0zLjUtbGl0ZScsXHJcblx0XHRcdFx0b2xsYW1hOiAnbm9taWMtZW1iZWQtdGV4dCdcclxuXHRcdFx0fTtcclxuXHRcdFx0Y2hvc2VuID0gZGVmYXVsdHNbcHJvdmlkZXJdO1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbU0VUVElOR1NdIEZhbGxpbmcgYmFjayB0byBpbnRlcm5hbCBlbWJlZGRpbmcgZGVmYXVsdHMnLCB7IHByb3ZpZGVyLCBtb2RlbDogY2hvc2VuIH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChjaG9zZW4pIHtcclxuXHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZW1iZWRkaW5nTW9kZWwgPSBjaG9zZW47XHJcblx0XHR9XHJcblx0XHR0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdHRoaXMuZGlzcGxheSgpOyAvLyBSZWZyZXNoIHRvIHNob3cgdXBkYXRlZCBtb2RlbHNcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgdGVzdExMTUNvbm5lY3Rpb24oYnV0dG9uRWw6IEhUTUxFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRjb25zdCBvcmlnaW5hbFRleHQgPSBidXR0b25FbC50ZXh0Q29udGVudDtcclxuXHRcdGJ1dHRvbkVsLnRleHRDb250ZW50ID0gJ1Rlc3RpbmcuLi4nO1xyXG5cdFx0YnV0dG9uRWwuYWRkQ2xhc3MoJ2lzLWxvYWRpbmcnKTtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdUZXN0aW5nIExMTSBjb25uZWN0aW9uJyk7XHJcblx0XHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucGx1Z2luLmdyYXBoaXRpU2VydmljZS50ZXN0TExNQ29ubmVjdGlvbigpO1xyXG5cclxuXHRcdFx0aWYgKHJlc3VsdC5zdWNjZXNzKSB7XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnTExNIGNvbm5lY3Rpb24gdGVzdCBzdWNjZXNzZnVsJywgeyBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSwgbGF0ZW5jeTogcmVzdWx0LmxhdGVuY3kgfSk7XHJcblx0XHRcdFx0Y29uc3QgbGF0ZW5jeVRleHQgPSByZXN1bHQubGF0ZW5jeSA/IGAgKCR7cmVzdWx0LmxhdGVuY3l9bXMpYCA6ICcnO1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoYFtTVUNDRVNTXSBMTE0gY29ubmVjdGlvbiBzdWNjZXNzZnVsJHtsYXRlbmN5VGV4dH1gKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdMTE0gY29ubmVjdGlvbiB0ZXN0IGZhaWxlZCcsIHsgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UgfSk7XHJcblx0XHRcdFx0bmV3IE5vdGljZShgW0VSUk9SXSBMTE0gY29ubmVjdGlvbiBmYWlsZWQ6ICR7cmVzdWx0Lm1lc3NhZ2V9YCk7XHJcblx0XHRcdH1cclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ0xMTSBjb25uZWN0aW9uIHRlc3QgZXJyb3InLCB7IGVycm9yIH0pO1xyXG5cdFx0XHRjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcclxuXHRcdFx0bmV3IE5vdGljZShgW0VSUk9SXSBMTE0gY29ubmVjdGlvbiBmYWlsZWQ6ICR7ZXJyb3JNZXNzYWdlfWApO1xyXG5cdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0YnV0dG9uRWwudGV4dENvbnRlbnQgPSBvcmlnaW5hbFRleHQ7XHJcblx0XHRcdGJ1dHRvbkVsLnJlbW92ZUNsYXNzKCdpcy1sb2FkaW5nJyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIHRlc3RFbWJlZGRpbmdDb25uZWN0aW9uKGJ1dHRvbkVsOiBIVE1MRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0Y29uc3Qgb3JpZ2luYWxUZXh0ID0gYnV0dG9uRWwudGV4dENvbnRlbnQ7XHJcblx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9ICdUZXN0aW5nLi4uJztcclxuXHRcdGJ1dHRvbkVsLmFkZENsYXNzKCdpcy1sb2FkaW5nJyk7XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnVGVzdGluZyBlbWJlZGRpbmcgY29ubmVjdGlvbicpO1xyXG5cdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnBsdWdpbi5ncmFwaGl0aVNlcnZpY2UudGVzdEVtYmVkZGluZ0Nvbm5lY3Rpb24oKTtcclxuXHJcblx0XHRcdGlmIChyZXN1bHQuc3VjY2Vzcykge1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ0VtYmVkZGluZyBjb25uZWN0aW9uIHRlc3Qgc3VjY2Vzc2Z1bCcsIHsgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UsIGxhdGVuY3k6IHJlc3VsdC5sYXRlbmN5IH0pO1xyXG5cdFx0XHRcdGNvbnN0IGxhdGVuY3lUZXh0ID0gcmVzdWx0LmxhdGVuY3kgPyBgICgke3Jlc3VsdC5sYXRlbmN5fW1zKWAgOiAnJztcclxuXHRcdFx0XHRuZXcgTm90aWNlKGBbU1VDQ0VTU10gRW1iZWRkaW5nIGNvbm5lY3Rpb24gc3VjY2Vzc2Z1bCR7bGF0ZW5jeVRleHR9YCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignRW1iZWRkaW5nIGNvbm5lY3Rpb24gdGVzdCBmYWlsZWQnLCB7IG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlIH0pO1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gRW1iZWRkaW5nIGNvbm5lY3Rpb24gZmFpbGVkOiAke3Jlc3VsdC5tZXNzYWdlfWApO1xyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdFbWJlZGRpbmcgY29ubmVjdGlvbiB0ZXN0IGVycm9yJywgeyBlcnJvciB9KTtcclxuXHRcdFx0Y29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XHJcblx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gRW1iZWRkaW5nIGNvbm5lY3Rpb24gZmFpbGVkOiAke2Vycm9yTWVzc2FnZX1gKTtcclxuXHRcdH0gZmluYWxseSB7XHJcblx0XHRcdGJ1dHRvbkVsLnRleHRDb250ZW50ID0gb3JpZ2luYWxUZXh0O1xyXG5cdFx0XHRidXR0b25FbC5yZW1vdmVDbGFzcygnaXMtbG9hZGluZycpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyB0ZXN0UHJvdmlkZXJDb21iaW5hdGlvbihidXR0b25FbDogSFRNTEVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGNvbnN0IG9yaWdpbmFsVGV4dCA9IGJ1dHRvbkVsLnRleHRDb250ZW50O1xyXG5cdFx0YnV0dG9uRWwudGV4dENvbnRlbnQgPSAnVGVzdGluZy4uLic7XHJcblx0XHRidXR0b25FbC5hZGRDbGFzcygnaXMtbG9hZGluZycpO1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1Rlc3RpbmcgcHJvdmlkZXIgY29tYmluYXRpb24nKTtcclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5wbHVnaW4uZ3JhcGhpdGlTZXJ2aWNlLnRlc3RQcm92aWRlckNvbWJpbmF0aW9uKCk7XHJcblxyXG5cdFx0XHRpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdQcm92aWRlciBjb21iaW5hdGlvbiB0ZXN0IHN1Y2Nlc3NmdWwnLCB7IG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlLCBsYXRlbmN5OiByZXN1bHQubGF0ZW5jeSB9KTtcclxuXHRcdFx0XHRjb25zdCBsYXRlbmN5VGV4dCA9IHJlc3VsdC5sYXRlbmN5ID8gYCAoJHtyZXN1bHQubGF0ZW5jeX1tcylgIDogJyc7XHJcblx0XHRcdFx0bmV3IE5vdGljZShgW1NVQ0NFU1NdIFByb3ZpZGVyIGNvbWJpbmF0aW9uIHdvcmtpbmcke2xhdGVuY3lUZXh0fWApO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1Byb3ZpZGVyIGNvbWJpbmF0aW9uIHRlc3QgZmFpbGVkJywgeyBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSB9KTtcclxuXHRcdFx0XHRuZXcgTm90aWNlKGBbRVJST1JdIFByb3ZpZGVyIGNvbWJpbmF0aW9uIGZhaWxlZDogJHtyZXN1bHQubWVzc2FnZX1gKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignUHJvdmlkZXIgY29tYmluYXRpb24gdGVzdCBlcnJvcicsIHsgZXJyb3IgfSk7XHJcblx0XHRcdGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xyXG5cdFx0XHRuZXcgTm90aWNlKGBbRVJST1JdIFByb3ZpZGVyIGNvbWJpbmF0aW9uIGZhaWxlZDogJHtlcnJvck1lc3NhZ2V9YCk7XHJcblx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9IG9yaWdpbmFsVGV4dDtcclxuXHRcdFx0YnV0dG9uRWwucmVtb3ZlQ2xhc3MoJ2lzLWxvYWRpbmcnKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgdGVzdEZ1bGxQaXBlbGluZShidXR0b25FbDogSFRNTEVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGNvbnN0IG9yaWdpbmFsVGV4dCA9IGJ1dHRvbkVsLnRleHRDb250ZW50O1xyXG5cdFx0YnV0dG9uRWwudGV4dENvbnRlbnQgPSAnVGVzdGluZy4uLic7XHJcblx0XHRidXR0b25FbC5hZGRDbGFzcygnaXMtbG9hZGluZycpO1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucGx1Z2luLmdyYXBoaXRpU2VydmljZS50ZXN0RnVsbFBpcGVsaW5lKCk7XHJcblxyXG5cdFx0XHRpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdGdWxsIHBpcGVsaW5lIHRlc3Qgc3VjY2Vzc2Z1bCcsIHsgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UsIGxhdGVuY3k6IHJlc3VsdC5sYXRlbmN5IH0pO1xyXG5cdFx0XHRcdGNvbnN0IGxhdGVuY3lUZXh0ID0gcmVzdWx0LmxhdGVuY3kgPyBgICgke3Jlc3VsdC5sYXRlbmN5fW1zKWAgOiAnJztcclxuXHRcdFx0XHRuZXcgTm90aWNlKGBbU1VDQ0VTU10gRnVsbCBwaXBlbGluZSB0ZXN0IHN1Y2Nlc3NmdWwke2xhdGVuY3lUZXh0fWApO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ0Z1bGwgcGlwZWxpbmUgdGVzdCBmYWlsZWQnLCB7IG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlIH0pO1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gRnVsbCBwaXBlbGluZSB0ZXN0IGZhaWxlZDogJHtyZXN1bHQubWVzc2FnZX1gKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignRnVsbCBwaXBlbGluZSB0ZXN0IGVycm9yJywgeyBlcnJvciB9KTtcclxuXHRcdFx0Y29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XHJcblx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gRnVsbCBwaXBlbGluZSB0ZXN0IGZhaWxlZDogJHtlcnJvck1lc3NhZ2V9YCk7XHJcblx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9IG9yaWdpbmFsVGV4dDtcclxuXHRcdFx0YnV0dG9uRWwucmVtb3ZlQ2xhc3MoJ2lzLWxvYWRpbmcnKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgdmFsaWRhdGVBUElLZXlzKGJ1dHRvbkVsOiBIVE1MRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0Y29uc3Qgb3JpZ2luYWxUZXh0ID0gYnV0dG9uRWwudGV4dENvbnRlbnQ7XHJcblx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9ICdWYWxpZGF0aW5nLi4uJztcclxuXHRcdGJ1dHRvbkVsLmFkZENsYXNzKCdpcy1sb2FkaW5nJyk7XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnVmFsaWRhdGluZyBBUEkga2V5cycpO1xyXG5cdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnBsdWdpbi5ncmFwaGl0aVNlcnZpY2UudmFsaWRhdGVBUElLZXlzKCk7XHJcblxyXG5cdFx0XHRpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdBUEkga2V5IHZhbGlkYXRpb24gc3VjY2Vzc2Z1bCcsIHsgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UgfSk7XHJcblx0XHRcdFx0bmV3IE5vdGljZShgW1NVQ0NFU1NdIEFQSSBrZXlzIHZhbGlkOiAke3Jlc3VsdC5tZXNzYWdlfWApO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ0FQSSBrZXkgdmFsaWRhdGlvbiBmYWlsZWQnLCB7IG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlIH0pO1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gQVBJIGtleSB2YWxpZGF0aW9uIGZhaWxlZDogJHtyZXN1bHQubWVzc2FnZX1gKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignQVBJIGtleSB2YWxpZGF0aW9uIGVycm9yJywgeyBlcnJvciB9KTtcclxuXHRcdFx0Y29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XHJcblx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gQVBJIGtleSB2YWxpZGF0aW9uIGZhaWxlZDogJHtlcnJvck1lc3NhZ2V9YCk7XHJcblx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9IG9yaWdpbmFsVGV4dDtcclxuXHRcdFx0YnV0dG9uRWwucmVtb3ZlQ2xhc3MoJ2lzLWxvYWRpbmcnKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgdXBkYXRlRGF0YWJhc2VEZWZhdWx0cyhkYXRhYmFzZVR5cGU6ICduZW80aicgfCAnZmFsa29yZGInKTogdm9pZCB7XHJcblx0XHQvLyBUaGUgbmV3IGluZGVwZW5kZW50IGNvbmZpZ3MgbWVhbiB3ZSBkb24ndCBuZWVkIHRvIHJlc2V0IGRlZmF1bHRzIHdoZW4gc3dpdGNoaW5nXHJcblx0XHQvLyBFYWNoIGRhdGFiYXNlIHR5cGUgbWFpbnRhaW5zIGl0cyBvd24gY29uZmlndXJhdGlvblxyXG5cdFx0dGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHR0aGlzLmRpc3BsYXkoKTsgLy8gUmVmcmVzaCB0aGUgZGlzcGxheSB0byBzaG93IHRoZSBjb3JyZWN0IGZpZWxkc1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyB0ZXN0RGF0YWJhc2VDb25uZWN0aW9uKGJ1dHRvbkVsOiBIVE1MRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0Y29uc3Qgb3JpZ2luYWxUZXh0ID0gYnV0dG9uRWwudGV4dENvbnRlbnQ7XHJcblx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9ICdUZXN0aW5nLi4uJztcclxuXHRcdGJ1dHRvbkVsLmFkZENsYXNzKCdpcy1sb2FkaW5nJyk7XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdCB0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbREFUQUJBU0VdIFRlc3RpbmcgZGF0YWJhc2UgY29ubmVjdGlvbi4uLicpO1xyXG5cdFx0IGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucGx1Z2luLmdyYXBoaXRpU2VydmljZS50ZXN0RGF0YWJhc2VDb25uZWN0aW9uKCk7XHJcblxyXG5cdFx0IGlmIChyZXN1bHQuc3VjY2Vzcykge1xyXG5cdFx0ICB0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbREFUQUJBU0VdIERhdGFiYXNlIGNvbm5lY3Rpb24gdGVzdCBzdWNjZXNzZnVsJywgeyBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSwgbGF0ZW5jeTogcmVzdWx0LmxhdGVuY3kgfSk7XHJcblx0XHQgIGNvbnN0IGxhdGVuY3lUZXh0ID0gcmVzdWx0LmxhdGVuY3kgPyBgICgke3Jlc3VsdC5sYXRlbmN5fW1zKWAgOiAnJztcclxuXHRcdCAgbmV3IE5vdGljZShgW1NVQ0NFU1NdIERhdGFiYXNlIGNvbm5lY3Rpb24gc3VjY2Vzc2Z1bCR7bGF0ZW5jeVRleHR9YCk7XHJcblx0XHQgfSBlbHNlIHtcclxuXHRcdCAgdGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignW0RBVEFCQVNFXSBEYXRhYmFzZSBjb25uZWN0aW9uIHRlc3QgZmFpbGVkJywgeyBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSB9KTtcclxuXHRcdCAgbmV3IE5vdGljZShgW0VSUk9SXSBEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZDogJHtyZXN1bHQubWVzc2FnZX1gKTtcclxuXHRcdCB9XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0IHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tEQVRBQkFTRV0gRGF0YWJhc2UgY29ubmVjdGlvbiB0ZXN0IGVycm9yJywgeyBlcnJvciB9KTtcclxuXHRcdCBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcclxuXHRcdCBuZXcgTm90aWNlKGBbRVJST1JdIERhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkOiAke2Vycm9yTWVzc2FnZX1gKTtcclxuXHRcdH0gZmluYWxseSB7XHJcblx0XHRcdGJ1dHRvbkVsLnRleHRDb250ZW50ID0gb3JpZ2luYWxUZXh0O1xyXG5cdFx0XHRidXR0b25FbC5yZW1vdmVDbGFzcygnaXMtbG9hZGluZycpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBpbml0aWFsaXplRGF0YWJhc2VTY2hlbWEoYnV0dG9uRWw6IEhUTUxFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRjb25zdCBvcmlnaW5hbFRleHQgPSBidXR0b25FbC50ZXh0Q29udGVudDtcclxuXHRcdGJ1dHRvbkVsLnRleHRDb250ZW50ID0gJ0luaXRpYWxpemluZy4uLic7XHJcblx0XHRidXR0b25FbC5hZGRDbGFzcygnaXMtbG9hZGluZycpO1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHQgdGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW0RBVEFCQVNFXSBJbml0aWFsaXppbmcgZGF0YWJhc2Ugc2NoZW1hLi4uJyk7XHJcblx0XHQgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5wbHVnaW4uZ3JhcGhpdGlTZXJ2aWNlLmluaXRpYWxpemVEYXRhYmFzZVNjaGVtYSgpO1xyXG5cclxuXHRcdCBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcclxuXHRcdCAgdGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW0RBVEFCQVNFXSBEYXRhYmFzZSBzY2hlbWEgaW5pdGlhbGl6YXRpb24gc3VjY2Vzc2Z1bCcsIHsgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UgfSk7XHJcblx0XHQgIG5ldyBOb3RpY2UoYFtTVUNDRVNTXSBEYXRhYmFzZSBzY2hlbWEgaW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5YCk7XHJcblx0XHQgfSBlbHNlIHtcclxuXHRcdCAgdGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignW0RBVEFCQVNFXSBEYXRhYmFzZSBzY2hlbWEgaW5pdGlhbGl6YXRpb24gZmFpbGVkJywgeyBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSB9KTtcclxuXHRcdCAgbmV3IE5vdGljZShgW0VSUk9SXSBTY2hlbWEgaW5pdGlhbGl6YXRpb24gZmFpbGVkOiAke3Jlc3VsdC5tZXNzYWdlfWApO1xyXG5cdFx0IH1cclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHQgdGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignW0RBVEFCQVNFXSBEYXRhYmFzZSBzY2hlbWEgaW5pdGlhbGl6YXRpb24gZXJyb3InLCB7IGVycm9yIH0pO1xyXG5cdFx0IGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xyXG5cdFx0IG5ldyBOb3RpY2UoYFtFUlJPUl0gU2NoZW1hIGluaXRpYWxpemF0aW9uIGZhaWxlZDogJHtlcnJvck1lc3NhZ2V9YCk7XHJcblx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9IG9yaWdpbmFsVGV4dDtcclxuXHRcdFx0YnV0dG9uRWwucmVtb3ZlQ2xhc3MoJ2lzLWxvYWRpbmcnKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgdGVzdE1DUENvbm5lY3Rpb24oYnV0dG9uRWw6IEhUTUxFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRjb25zdCBvcmlnaW5hbFRleHQgPSBidXR0b25FbC50ZXh0Q29udGVudDtcclxuXHRcdGJ1dHRvbkVsLnRleHRDb250ZW50ID0gJ1Rlc3RpbmcuLi4nO1xyXG5cdFx0YnV0dG9uRWwuYWRkQ2xhc3MoJ2lzLWxvYWRpbmcnKTtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0IHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1tNQ1BdIFRlc3RpbmcgTUNQIHNlcnZlciBjb25uZWN0aW9uLi4uJyk7XHJcblx0XHQgLy8gVE9ETzogSW1wbGVtZW50IGFjdHVhbCBNQ1Agc2VydmVyIGNvbm5lY3Rpb24gdGVzdFxyXG5cdFx0IGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDAwKSk7XHJcblxyXG5cdFx0IGNvbnN0IHJlc3VsdDogQ29ubmVjdGlvblRlc3RSZXN1bHQgPSB7XHJcblx0XHQgIHN1Y2Nlc3M6IHRydWUsXHJcblx0XHQgIG1lc3NhZ2U6ICdNQ1Agc2VydmVyIHJlc3BvbmRpbmcgW01PQ0tdJyxcclxuXHRcdCAgbGF0ZW5jeTogMjNcclxuXHRcdCB9O1xyXG5cclxuXHRcdCBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcclxuXHRcdCAgdGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW01DUF0gTUNQIHNlcnZlciBjb25uZWN0aW9uIHRlc3Qgc3VjY2Vzc2Z1bCcsIHsgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UsIGxhdGVuY3k6IHJlc3VsdC5sYXRlbmN5IH0pO1xyXG5cdFx0ICBuZXcgTm90aWNlKGBbU1VDQ0VTU10gTUNQIHNlcnZlciBjb25uZWN0aW9uIHN1Y2Nlc3NmdWwgKCR7cmVzdWx0LmxhdGVuY3l9bXMpYCk7XHJcblx0XHQgfSBlbHNlIHtcclxuXHRcdCAgdGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignW01DUF0gTUNQIHNlcnZlciBjb25uZWN0aW9uIHRlc3QgZmFpbGVkJywgeyBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSB9KTtcclxuXHRcdCAgbmV3IE5vdGljZShgW0VSUk9SXSBNQ1Agc2VydmVyIGNvbm5lY3Rpb24gZmFpbGVkOiAke3Jlc3VsdC5tZXNzYWdlfWApO1xyXG5cdFx0IH1cclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHQgdGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignW01DUF0gTUNQIHNlcnZlciBjb25uZWN0aW9uIHRlc3QgZXJyb3InLCB7IGVycm9yIH0pO1xyXG5cdFx0IGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xyXG5cdFx0IG5ldyBOb3RpY2UoYFtFUlJPUl0gTUNQIHNlcnZlciBjb25uZWN0aW9uIGZhaWxlZDogJHtlcnJvck1lc3NhZ2V9YCk7XHJcblx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9IG9yaWdpbmFsVGV4dDtcclxuXHRcdFx0YnV0dG9uRWwucmVtb3ZlQ2xhc3MoJ2lzLWxvYWRpbmcnKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgZXhwb3J0U2V0dGluZ3MoKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCBzZXR0aW5nc0pzb24gPSBKU09OLnN0cmluZ2lmeSh0aGlzLnBsdWdpbi5zZXR0aW5ncywgbnVsbCwgMik7XHJcblx0XHRcdGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbc2V0dGluZ3NKc29uXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vanNvbicgfSk7XHJcblx0XHRcdGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcblxyXG5cdFx0XHRjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG5cdFx0XHRhLmhyZWYgPSB1cmw7XHJcblx0XHRcdGEuZG93bmxvYWQgPSAnZ3JhcGhpdGktcGx1Z2luLXNldHRpbmdzLmpzb24nO1xyXG5cdFx0XHRhLmNsaWNrKCk7XHJcblxyXG5cdFx0XHRVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XHJcblx0XHRcdG5ldyBOb3RpY2UoJ1tTVUNDRVNTXSBTZXR0aW5ncyBleHBvcnRlZCBzdWNjZXNzZnVsbHknKTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xyXG5cdFx0XHRuZXcgTm90aWNlKGBbRVJST1JdIEZhaWxlZCB0byBleHBvcnQgc2V0dGluZ3M6ICR7ZXJyb3JNZXNzYWdlfWApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBpbXBvcnRTZXR0aW5ncygpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuXHRcdFx0aW5wdXQudHlwZSA9ICdmaWxlJztcclxuXHRcdFx0aW5wdXQuYWNjZXB0ID0gJy5qc29uJztcclxuXHJcblx0XHRcdGlucHV0Lm9uY2hhbmdlID0gYXN5bmMgKGUpID0+IHtcclxuXHRcdFx0XHRjb25zdCBmaWxlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmZpbGVzPy5bMF07XHJcblx0XHRcdFx0aWYgKCFmaWxlKSByZXR1cm47XHJcblxyXG5cdFx0XHRcdGNvbnN0IHRleHQgPSBhd2FpdCBmaWxlLnRleHQoKTtcclxuXHRcdFx0XHRjb25zdCBpbXBvcnRlZFNldHRpbmdzID0gSlNPTi5wYXJzZSh0ZXh0KTtcclxuXHJcblx0XHRcdFx0Ly8gVmFsaWRhdGUgaW1wb3J0ZWQgc2V0dGluZ3Mgc3RydWN0dXJlXHJcblx0XHRcdFx0Ly8gVE9ETzogQWRkIHByb3BlciB2YWxpZGF0aW9uXHJcblxyXG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzID0geyAuLi50aGlzLnBsdWdpbi5zZXR0aW5ncywgLi4uaW1wb3J0ZWRTZXR0aW5ncyB9O1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdHRoaXMuZGlzcGxheSgpOyAvLyBSZWZyZXNoIHRoZSBkaXNwbGF5XHJcblxyXG5cdFx0XHRcdG5ldyBOb3RpY2UoJ1tTVUNDRVNTXSBTZXR0aW5ncyBpbXBvcnRlZCBzdWNjZXNzZnVsbHknKTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGlucHV0LmNsaWNrKCk7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcclxuXHRcdFx0bmV3IE5vdGljZShgW0VSUk9SXSBGYWlsZWQgdG8gaW1wb3J0IHNldHRpbmdzOiAke2Vycm9yTWVzc2FnZX1gKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgcmVzZXRUb0RlZmF1bHRzKCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0Y29uc3QgY29uZmlybWVkID0gYXdhaXQgdGhpcy5jb25maXJtUmVzZXQoKTtcclxuXHRcdGlmICghY29uZmlybWVkKSByZXR1cm47XHJcblxyXG5cdFx0YXdhaXQgdGhpcy5wbHVnaW4ubG9hZFNldHRpbmdzKCk7XHJcblx0XHR0aGlzLmRpc3BsYXkoKTsgLy8gUmVmcmVzaCB0aGUgZGlzcGxheVxyXG5cdFx0bmV3IE5vdGljZSgnW0lORk9dIFNldHRpbmdzIHJlc2V0IHRvIGRlZmF1bHRzJyk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIGNvbmZpcm1SZXNldCgpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG5cdFx0XHRjb25zdCBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0XHRtb2RhbC5jbGFzc05hbWUgPSAnbW9kYWwnO1xyXG5cdFx0XHRtb2RhbC5pbm5lckhUTUwgPSBgXHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRhaW5lclwiPlxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1vZGFsLWJnXCI+PC9kaXY+XHJcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibW9kYWwtY29udGVudFwiPlxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+XHJcblx0XHRcdFx0XHRcdFx0PGgzPlJlc2V0IFNldHRpbmdzPC9oMz5cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+XHJcblx0XHRcdFx0XHRcdFx0PHA+QXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlc2V0IGFsbCBzZXR0aW5ncyB0byB0aGVpciBkZWZhdWx0IHZhbHVlcz8gVGhpcyBhY3Rpb24gY2Fubm90IGJlIHVuZG9uZS48L3A+XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+XHJcblx0XHRcdFx0XHRcdFx0PGJ1dHRvbiBjbGFzcz1cIm1vZC1jdGFcIiBpZD1cImNvbmZpcm0tcmVzZXRcIj5SZXNldDwvYnV0dG9uPlxyXG5cdFx0XHRcdFx0XHRcdDxidXR0b24gaWQ9XCJjYW5jZWwtcmVzZXRcIj5DYW5jZWw8L2J1dHRvbj5cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0YDtcclxuXHJcblx0XHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9kYWwpO1xyXG5cclxuXHRcdFx0Y29uc3QgY29uZmlybUJ0biA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJyNjb25maXJtLXJlc2V0JykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblx0XHRcdGNvbnN0IGNhbmNlbEJ0biA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJyNjYW5jZWwtcmVzZXQnKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHJcblx0XHRcdGNvbmZpcm1CdG4ub25jbGljayA9ICgpID0+IHtcclxuXHRcdFx0XHRkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG1vZGFsKTtcclxuXHRcdFx0XHRyZXNvbHZlKHRydWUpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Y2FuY2VsQnRuLm9uY2xpY2sgPSAoKSA9PiB7XHJcblx0XHRcdFx0ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChtb2RhbCk7XHJcblx0XHRcdFx0cmVzb2x2ZShmYWxzZSk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRtb2RhbC5vbmNsaWNrID0gKGUpID0+IHtcclxuXHRcdFx0XHRpZiAoZS50YXJnZXQgPT09IG1vZGFsIHx8IGUudGFyZ2V0ID09PSBtb2RhbC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtYmcnKSkge1xyXG5cdFx0XHRcdFx0ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChtb2RhbCk7XHJcblx0XHRcdFx0XHRyZXNvbHZlKGZhbHNlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgY2hlY2tQeXRob25EZXBlbmRlbmNpZXMoYnV0dG9uRWw6IEhUTUxFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRjb25zdCBvcmlnaW5hbFRleHQgPSBidXR0b25FbC50ZXh0Q29udGVudDtcclxuXHRcdGJ1dHRvbkVsLnRleHRDb250ZW50ID0gJ0NoZWNraW5nLi4uJztcclxuXHRcdGJ1dHRvbkVsLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAndHJ1ZScpO1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ0NoZWNraW5nIFB5dGhvbiBkZXBlbmRlbmNpZXMnKTtcclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5wbHVnaW4uZ3JhcGhpdGlTZXJ2aWNlLnRlc3RDb25uZWN0aW9uKCk7XHJcblxyXG5cdFx0XHRpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdQeXRob24gZGVwZW5kZW5jaWVzIGNoZWNrIHN1Y2Nlc3NmdWwnLCB7IG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlIH0pO1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoJ1tTVUNDRVNTXSBQeXRob24gZGVwZW5kZW5jaWVzIGFyZSBpbnN0YWxsZWQgYW5kIHVwIHRvIGRhdGUnKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdQeXRob24gZGVwZW5kZW5jaWVzIGNoZWNrIGZhaWxlZCcsIHsgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UgfSk7XHJcblx0XHRcdFx0bmV3IE5vdGljZShgW0VSUk9SXSBEZXBlbmRlbmNpZXMgbWlzc2luZyBvciBvdXRkYXRlZDogJHtyZXN1bHQubWVzc2FnZX1gLCA1MDAwKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignRmFpbGVkIHRvIGNoZWNrIFB5dGhvbiBkZXBlbmRlbmNpZXMnLCB7IGVycm9yIH0pO1xyXG5cdFx0XHRjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcclxuXHRcdFx0bmV3IE5vdGljZShgW0VSUk9SXSBGYWlsZWQgdG8gY2hlY2sgZGVwZW5kZW5jaWVzOiAke2Vycm9yTWVzc2FnZX1gLCA1MDAwKTtcclxuXHRcdH0gZmluYWxseSB7XHJcblx0XHRcdGJ1dHRvbkVsLnRleHRDb250ZW50ID0gb3JpZ2luYWxUZXh0O1xyXG5cdFx0XHRidXR0b25FbC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIHZpZXdMb2dGaWxlKCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0dHJ5IHtcclxuXHRcdCAvLyBAdHMtaWdub3JlIC0gYWNjZXNzaW5nIGludGVybmFsIEFQSVxyXG5cdFx0IGNvbnN0IGFkYXB0ZXIgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuYWRhcHRlcjtcclxuXHRcdCAvLyBAdHMtaWdub3JlXHJcblx0XHQgY29uc3QgdmF1bHRQYXRoID0gYWRhcHRlci5iYXNlUGF0aDtcclxuXHRcdCBjb25zdCBwbHVnaW5QYXRoID0gam9pbih2YXVsdFBhdGgsICcub2JzaWRpYW4nLCAncGx1Z2lucycsICdtZWdhbWVtLW1jcCcpO1xyXG5cdFx0IGNvbnN0IGxvZ3NEaXIgPSBqb2luKHBsdWdpblBhdGgsICdsb2dzJyk7XHJcblxyXG5cdFx0IC8vIE9wZW4gdGhlIGxvZ3MgZGlyZWN0b3J5IGluIHRoZSBzeXN0ZW0gZmlsZSBleHBsb3JlclxyXG5cdFx0IGNvbnN0IHsgc2hlbGwgfSA9IHJlcXVpcmUoJ2VsZWN0cm9uJyk7XHJcblx0XHQgc2hlbGwub3BlblBhdGgobG9nc0Rpcik7XHJcblxyXG5cdFx0IG5ldyBOb3RpY2UoJ1tJTkZPXSBMb2cgZmlsZXMgZGlyZWN0b3J5IG9wZW5lZCBpbiBmaWxlIGV4cGxvcmVyJyk7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0IHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tMT0dTXSBGYWlsZWQgdG8gb3BlbiBsb2cgZGlyZWN0b3J5JywgeyBlcnJvciB9KTtcclxuXHRcdCBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcclxuXHRcdCBuZXcgTm90aWNlKGBbRVJST1JdIEZhaWxlZCB0byBvcGVuIGxvZyBkaXJlY3Rvcnk6ICR7ZXJyb3JNZXNzYWdlfWApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBpbnN0YWxsUHl0aG9uRGVwZW5kZW5jaWVzKGJ1dHRvbkVsOiBIVE1MRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0Y29uc3Qgb3JpZ2luYWxUZXh0ID0gYnV0dG9uRWwudGV4dENvbnRlbnQ7XHJcblx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9ICdJbnN0YWxsaW5nLi4uJztcclxuXHRcdGJ1dHRvbkVsLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAndHJ1ZScpO1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ0luc3RhbGxpbmcgUHl0aG9uIGRlcGVuZGVuY2llcycpO1xyXG5cclxuXHRcdFx0Ly8gQWRkIHByb2dyZXNzIGNhbGxiYWNrIHdpdGggcmVhbC10aW1lIFVJIHVwZGF0ZXNcclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5wbHVnaW4uZ3JhcGhpdGlTZXJ2aWNlLmluc3RhbGxEZXBlbmRlbmNpZXMoKG1lc3NhZ2U6IHN0cmluZykgPT4ge1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ0luc3RhbGxhdGlvbiBwcm9ncmVzcycsIHsgbWVzc2FnZSB9KTtcclxuXHJcblx0XHRcdFx0Ly8gVXBkYXRlIGJ1dHRvbiB0ZXh0IHdpdGggY3VycmVudCBwcm9ncmVzc1xyXG5cdFx0XHRcdGNvbnN0IGRpc3BsYXlNZXNzYWdlID0gbWVzc2FnZS5sZW5ndGggPiAzMCA/IG1lc3NhZ2Uuc3Vic3RyaW5nKDAsIDMwKSArICcuLi4nIDogbWVzc2FnZTtcclxuXHRcdFx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9IGRpc3BsYXlNZXNzYWdlO1xyXG5cclxuXHRcdFx0XHQvLyBTaG93IHByb2dyZXNzIG5vdGljZSAoQVNDSUktb25seSlcclxuXHRcdFx0XHRuZXcgTm90aWNlKGBbSU5GT10gJHttZXNzYWdlfWAsIDIwMDApO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGlmIChyZXN1bHQuc3VjY2Vzcykge1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1B5dGhvbiBkZXBlbmRlbmNpZXMgaW5zdGFsbGF0aW9uIHN1Y2Nlc3NmdWwnLCB7IG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlIH0pO1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoJ1tTVUNDRVNTXSBQeXRob24gZGVwZW5kZW5jaWVzIGluc3RhbGxlZCBzdWNjZXNzZnVsbHknLCA1MDAwKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdQeXRob24gZGVwZW5kZW5jaWVzIGluc3RhbGxhdGlvbiBmYWlsZWQnLCB7IG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlIH0pO1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gSW5zdGFsbGF0aW9uIGZhaWxlZDogJHtyZXN1bHQubWVzc2FnZX1gLCA4MDAwKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignRmFpbGVkIHRvIGluc3RhbGwgUHl0aG9uIGRlcGVuZGVuY2llcycsIHsgZXJyb3IgfSk7XHJcblx0XHRcdGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xyXG5cdFx0XHRuZXcgTm90aWNlKGBbRVJST1JdIEluc3RhbGxhdGlvbiBmYWlsZWQ6ICR7ZXJyb3JNZXNzYWdlfWAsIDgwMDApO1xyXG5cdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0YnV0dG9uRWwudGV4dENvbnRlbnQgPSBvcmlnaW5hbFRleHQ7XHJcblx0XHRcdGJ1dHRvbkVsLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgcnVuTWFudWFsU3luY1Rlc3QoYnV0dG9uRWw6IEhUTUxFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRjb25zdCBvcmlnaW5hbFRleHQgPSBidXR0b25FbC50ZXh0Q29udGVudDtcclxuXHRcdGJ1dHRvbkVsLnRleHRDb250ZW50ID0gJ1NlbGVjdGluZyBOb3RlLi4uJztcclxuXHRcdGJ1dHRvbkVsLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAndHJ1ZScpO1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdC8vIEdldCBhbGwgbWFya2Rvd24gZmlsZXMgaW4gdGhlIHZhdWx0XHJcblx0XHRcdGNvbnN0IG1hcmtkb3duRmlsZXMgPSB0aGlzLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XHJcblxyXG5cdFx0XHRpZiAobWFya2Rvd25GaWxlcy5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0XHRuZXcgTm90aWNlKCdbSU5GT10gTm8gbWFya2Rvd24gZmlsZXMgZm91bmQgaW4gdmF1bHQnKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIENyZWF0ZSBhIHNpbXBsZSBmaWxlIHBpY2tlciBtb2RhbFxyXG5cdFx0XHRjb25zdCBub3RlRmlsZSA9IGF3YWl0IHRoaXMuc2VsZWN0Tm90ZUZvclN5bmMobWFya2Rvd25GaWxlcyk7XHJcblx0XHRcdGlmICghbm90ZUZpbGUpIHtcclxuXHRcdFx0XHRuZXcgTm90aWNlKCdbSU5GT10gTm8gbm90ZSBzZWxlY3RlZCBmb3Igc3luYyB0ZXN0Jyk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9ICdTeW5jaW5nLi4uJztcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnU3RhcnRpbmcgbWFudWFsIHN5bmMgdGVzdCBmb3Igbm90ZScsIHsgcGF0aDogbm90ZUZpbGUucGF0aCB9KTtcclxuXHJcblx0XHRcdC8vIEdldCB0aGUgZnVsbCBmaWxlIHBhdGhcclxuXHRcdFx0Y29uc3QgZnVsbFBhdGggPSAodGhpcy5hcHAudmF1bHQuYWRhcHRlciBhcyBhbnkpLnBhdGgucmVzb2x2ZShcclxuXHRcdFx0XHQodGhpcy5hcHAudmF1bHQuYWRhcHRlciBhcyBhbnkpLmJhc2VQYXRoLFxyXG5cdFx0XHRcdG5vdGVGaWxlLnBhdGhcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdC8vIFJ1biB0aGUgbWFudWFsIHN5bmMgdGVzdFxyXG5cdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnBsdWdpbi5ncmFwaGl0aVNlcnZpY2UudGVzdE1hbnVhbFN5bmMoZnVsbFBhdGgpO1xyXG5cclxuXHRcdFx0aWYgKHJlc3VsdC5zdGF0dXMgPT09ICdzdWNjZXNzJykge1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ01hbnVhbCBzeW5jIHRlc3Qgc3VjY2Vzc2Z1bCcsIHJlc3VsdCk7XHJcblx0XHRcdFx0bmV3IE5vdGljZShgW1NVQ0NFU1NdIE1hbnVhbCBzeW5jIHN1Y2Nlc3NmdWwhIFByb2Nlc3NlZCAke3Jlc3VsdC5wcm9jZXNzZWR9IG5vdGUocyksICR7cmVzdWx0Lm5vZGVUeXBlc0xvYWRlZH0gbm9kZSB0eXBlcywgJHtyZXN1bHQuZWRnZVR5cGVzTG9hZGVkfSBlZGdlIHR5cGVzYCwgODAwMCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignTWFudWFsIHN5bmMgdGVzdCBmYWlsZWQnLCByZXN1bHQpO1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gTWFudWFsIHN5bmMgZmFpbGVkOiAke3Jlc3VsdC5tZXNzYWdlfWAsIDgwMDApO1xyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdNYW51YWwgc3luYyB0ZXN0IGVycm9yJywgeyBlcnJvciB9KTtcclxuXHRcdFx0Y29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XHJcblx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gTWFudWFsIHN5bmMgdGVzdCBmYWlsZWQ6ICR7ZXJyb3JNZXNzYWdlfWAsIDgwMDApO1xyXG5cdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0YnV0dG9uRWwudGV4dENvbnRlbnQgPSBvcmlnaW5hbFRleHQ7XHJcblx0XHRcdGJ1dHRvbkVsLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgc2VsZWN0Tm90ZUZvclN5bmMobWFya2Rvd25GaWxlczogYW55W10pOiBQcm9taXNlPGFueT4ge1xyXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcblx0XHRcdC8vIENyZWF0ZSBhIHNpbXBsZSBtb2RhbCBmb3IgZmlsZSBzZWxlY3Rpb25cclxuXHRcdFx0Y29uc3QgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdFx0bW9kYWwuY2xhc3NOYW1lID0gJ21vZGFsJztcclxuXHRcdFx0bW9kYWwuaW5uZXJIVE1MID0gYFxyXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJtb2RhbC1jb250YWluZXJcIj5cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtb2RhbC1iZ1wiPjwvZGl2PlxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxyXG5cdFx0XHRcdFx0XHRcdDxoMz5TZWxlY3QgTm90ZSBmb3IgTWFudWFsIFN5bmMgVGVzdDwvaDM+XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPlxyXG5cdFx0XHRcdFx0XHRcdDxwPkNob29zZSBhIG5vdGUgdG8gdGVzdCB0aGUgbWFudWFsIHN5bmMgcHJvY2Vzczo8L3A+XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBzdHlsZT1cIm1heC1oZWlnaHQ6IDMwMHB4OyBvdmVyZmxvdy15OiBhdXRvO1wiPlxyXG5cdFx0XHRcdFx0XHRcdFx0JHttYXJrZG93bkZpbGVzLm1hcCgoZmlsZSwgaW5kZXgpID0+XHJcblx0XHRcdFx0XHRcdFx0XHRcdGA8ZGl2IHN0eWxlPVwicGFkZGluZzogOHB4OyBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7IG1hcmdpbjogNHB4IDA7IGN1cnNvcjogcG9pbnRlcjsgYm9yZGVyLXJhZGl1czogNHB4O1wiIGRhdGEtZmlsZS1pbmRleD1cIiR7aW5kZXh9XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PHN0cm9uZz4ke2ZpbGUuYmFzZW5hbWV9PC9zdHJvbmc+PGJyPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxzbWFsbCBzdHlsZT1cImNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcIj4ke2ZpbGUucGF0aH08L3NtYWxsPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5gXHJcblx0XHRcdFx0XHRcdFx0XHQpLmpvaW4oJycpfVxyXG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPlxyXG5cdFx0XHRcdFx0XHRcdDxidXR0b24gaWQ9XCJjYW5jZWwtc2VsZWN0XCI+Q2FuY2VsPC9idXR0b24+XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdGA7XHJcblxyXG5cdFx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1vZGFsKTtcclxuXHJcblx0XHRcdC8vIEFkZCBjbGljayBoYW5kbGVycyBmb3IgZmlsZSBzZWxlY3Rpb25cclxuXHRcdFx0Y29uc3QgZmlsZUVsZW1lbnRzID0gbW9kYWwucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZmlsZS1pbmRleF0nKTtcclxuXHRcdFx0ZmlsZUVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcclxuXHRcdFx0XHRlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgaW5kZXggPSBwYXJzZUludCgoZWxlbWVudCBhcyBIVE1MRWxlbWVudCkuZ2V0QXR0cmlidXRlKCdkYXRhLWZpbGUtaW5kZXgnKSB8fCAnMCcpO1xyXG5cdFx0XHRcdFx0Y29uc3Qgc2VsZWN0ZWRGaWxlID0gbWFya2Rvd25GaWxlc1tpbmRleF07XHJcblx0XHRcdFx0XHRkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG1vZGFsKTtcclxuXHRcdFx0XHRcdHJlc29sdmUoc2VsZWN0ZWRGaWxlKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRjb25zdCBjYW5jZWxCdG4gPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCcjY2FuY2VsLXNlbGVjdCcpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG5cdFx0XHRjYW5jZWxCdG4ub25jbGljayA9ICgpID0+IHtcclxuXHRcdFx0XHRkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG1vZGFsKTtcclxuXHRcdFx0XHRyZXNvbHZlKG51bGwpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0bW9kYWwub25jbGljayA9IChlKSA9PiB7XHJcblx0XHRcdFx0aWYgKGUudGFyZ2V0ID09PSBtb2RhbCB8fCBlLnRhcmdldCA9PT0gbW9kYWwucXVlcnlTZWxlY3RvcignLm1vZGFsLWJnJykpIHtcclxuXHRcdFx0XHRcdGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobW9kYWwpO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZShudWxsKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblx0XHR9KTtcclxuXHQvLyBNaW5pbWFsIE1DUCBUb29scyBVSSBzdHViIG1vdmVkOiBpbXBsZW1lbnQgYSBjbGVhbiwgc21hbGwgbWV0aG9kIGluLWNsYXNzLlxyXG5cdC8vIFdlJ2xsIGFkZCBhIGNvbXBhY3QsIHNhZmUgaW1wbGVtZW50YXRpb24gYmVsb3cgdGhlIGFkZFNlcnZlcnNBY2NvcmRpb24gbWV0aG9kLlxyXG5cdH1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cdHByaXZhdGUgYXN5bmMgdXBkYXRlTW9kZWxTdGF0dXNJY29uRm9yRHJvcGRvd24oc3RhdHVzQ29udGFpbmVyOiBIVE1MRWxlbWVudCwgbW9kZWxUeXBlOiAnbGxtJyB8ICdsbG1fc21hbGwnIHwgJ2VtYmVkZGluZycsIG1vZGVsTmFtZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRhd2FpdCB0aGlzLm9sbGFtYVNldHRpbmdzLnVwZGF0ZU1vZGVsU3RhdHVzSWNvbkZvckRyb3Bkb3duKHN0YXR1c0NvbnRhaW5lciwgbW9kZWxUeXBlLCBtb2RlbE5hbWUpO1xyXG5cdH1cclxuXHJcblx0Ly8gUmVtb3ZlZCBtZXRob2RzIHRoYXQgYXJlIG5vdyBkZWxlZ2F0ZWQgdG8gb2xsYW1hU2V0dGluZ3NcclxuXHRwcml2YXRlIGFzeW5jIHJlZnJlc2hPbGxhbWFTdGF0dXMoc3RhdHVzQ29udGFpbmVyOiBIVE1MRWxlbWVudCwgaW5zdGFsbEJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MucmVmcmVzaE9sbGFtYVN0YXR1cyhzdGF0dXNDb250YWluZXIsIGluc3RhbGxCdXR0b24pO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBzdGFydE9sbGFtYVNlcnZpY2Uoc3RhdHVzQ29udGFpbmVyOiBIVE1MRWxlbWVudCwgaW5zdGFsbEJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3Muc3RhcnRPbGxhbWFTZXJ2aWNlKHN0YXR1c0NvbnRhaW5lciwgaW5zdGFsbEJ1dHRvbik7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIGhhbmRsZU9sbGFtYUluc3RhbGxhdGlvbigpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MuaGFuZGxlT2xsYW1hSW5zdGFsbGF0aW9uKCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHNob3dPbGxhbWFJbnN0YWxsYXRpb25Nb2RhbCgpOiB2b2lkIHtcclxuXHRcdHRoaXMub2xsYW1hU2V0dGluZ3Muc2hvd09sbGFtYUluc3RhbGxhdGlvbk1vZGFsKCk7XHJcblx0fVxyXG5cclxuXHQvLyBAcHVycG9zZTogUmVsb2FkIGRhZW1vbiB0byBhcHBseSBuZXcgcHJvdmlkZXIgY29uZmlndXJhdGlvbiBAZGVwZW5kczogUHl0aG9uRGFlbW9uQnJpZGdlIEByZXN1bHRzOiBGcmVzaCBkYWVtb24gd2l0aCB1cGRhdGVkIHNldHRpbmdzXHJcblx0cHJpdmF0ZSBhc3luYyByZWxvYWRTeW5jRGFlbW9uKGJ1dHRvbkVsOiBIVE1MRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0Y29uc3Qgb3JpZ2luYWxUZXh0ID0gYnV0dG9uRWwudGV4dENvbnRlbnQ7XHJcblx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9ICdSZWxvYWRpbmcuLi4nO1xyXG5cdFx0YnV0dG9uRWwuYWRkQ2xhc3MoJ2lzLWxvYWRpbmcnKTtcclxuXHRcdGJ1dHRvbkVsLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAndHJ1ZScpO1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uaW5mbygnW0RBRU1PTi1SRUxPQURdIFN0YXJ0aW5nIGRhZW1vbiByZWxvYWQnKTtcclxuXHJcblx0XHRcdC8vIEVuaGFuY2VkIHZhbGlkYXRpb24gd2l0aCBkaWFnbm9zdGljIGxvZ2dpbmdcclxuXHRcdFx0aWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5sb2FkRGFlbW9uT25MYXVuY2ggfHwgIXRoaXMucGx1Z2luLnNldHRpbmdzLmV4cGVyaW1lbnRhbERhZW1vbk1vZGUpIHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdbREFFTU9OLVJFTE9BRF0gRGFlbW9uIHByZWxvYWRpbmcgbm90IGVuYWJsZWQnLCB7XHJcblx0XHRcdFx0XHRsb2FkRGFlbW9uT25MYXVuY2g6IHRoaXMucGx1Z2luLnNldHRpbmdzLmxvYWREYWVtb25PbkxhdW5jaCxcclxuXHRcdFx0XHRcdGV4cGVyaW1lbnRhbERhZW1vbk1vZGU6IHRoaXMucGx1Z2luLnNldHRpbmdzLmV4cGVyaW1lbnRhbERhZW1vbk1vZGVcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRuZXcgTm90aWNlKCdbRVJST1JdIERhZW1vbiBwcmVsb2FkaW5nIGlzIG5vdCBlbmFibGVkJyk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBBY2Nlc3MgZGFlbW9uIGJyaWRnZSBkaXJlY3RseSBmcm9tIHBsdWdpbiAtIGNvbmZpcm1lZCB0aGlzIGlzIHRoZSBjb3JyZWN0IHBhdHRlcm5cclxuXHRcdFx0Y29uc3QgZGFlbW9uQnJpZGdlID0gKHRoaXMucGx1Z2luIGFzIGFueSkucHl0aG9uRGFlbW9uQnJpZGdlO1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbREFFTU9OLVJFTE9BRF0gQnJpZGdlIGFjY2VzcyBjaGVjaycsIHtcclxuXHRcdFx0XHRicmlkZ2VFeGlzdHM6ICEhZGFlbW9uQnJpZGdlLFxyXG5cdFx0XHRcdGJyaWRnZVJ1bm5pbmc6IGRhZW1vbkJyaWRnZT8uaXNSdW5uaW5nKClcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRpZiAoIWRhZW1vbkJyaWRnZSkge1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tEQUVNT04tUkVMT0FEXSBEYWVtb24gYnJpZGdlIG5vdCBhdmFpbGFibGUnLCB7XHJcblx0XHRcdFx0XHRwbHVnaW5LZXlzOiBPYmplY3Qua2V5cyh0aGlzLnBsdWdpbiBhcyBhbnkpLmZpbHRlcihrID0+IGsuaW5jbHVkZXMoJ2RhZW1vbicpIHx8IGsuaW5jbHVkZXMoJ2JyaWRnZScpKVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoJ1tFUlJPUl0gRGFlbW9uIGJyaWRnZSBub3QgYXZhaWxhYmxlJyk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBDaGVjayBkYWVtb24gc3RhdHVzIGJlZm9yZSBwcm9jZWVkaW5nXHJcblx0XHRcdGNvbnN0IHN0YXR1cyA9IGRhZW1vbkJyaWRnZS5nZXRTdGF0dXMoKTtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5pbmZvKCdbREFFTU9OLVJFTE9BRF0gQ3VycmVudCBkYWVtb24gc3RhdHVzJywgc3RhdHVzKTtcclxuXHJcblx0XHRcdGJ1dHRvbkVsLnRleHRDb250ZW50ID0gJ1N0b3BwaW5nIGRhZW1vbi4uLic7XHJcblxyXG5cdFx0XHQvLyBTdG9wIGN1cnJlbnQgZGFlbW9uIHdpdGggZW5oYW5jZWQgbG9nZ2luZ1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmluZm8oJ1tEQUVNT04tUkVMT0FEXSBJbml0aWF0aW5nIGRhZW1vbiBzaHV0ZG93bicpO1xyXG5cdFx0XHRhd2FpdCBkYWVtb25CcmlkZ2Uuc2h1dGRvd24oKTtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5pbmZvKCdbREFFTU9OLVJFTE9BRF0gRGFlbW9uIHNodXRkb3duIGNvbXBsZXRlJyk7XHJcblxyXG5cdFx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9ICdTdGFydGluZyBkYWVtb24uLi4nO1xyXG5cclxuXHRcdFx0Ly8gQnJpZWYgZGVsYXkgdG8gZW5zdXJlIGNsZWFuIHNodXRkb3duXHJcblx0XHRcdGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDAwKSk7XHJcblxyXG5cdFx0XHQvLyBSZXN0YXJ0IGRhZW1vbiB3aXRoIGZyZXNoIGNvbmZpZ3VyYXRpb25cclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5pbmZvKCdbREFFTU9OLVJFTE9BRF0gSW5pdGlhdGluZyBkYWVtb24gcHJlbG9hZCcpO1xyXG5cdFx0XHRhd2FpdCBkYWVtb25CcmlkZ2UucHJlbG9hZERhZW1vbigpO1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmluZm8oJ1tEQUVNT04tUkVMT0FEXSBEYWVtb24gcHJlbG9hZCBjb21wbGV0ZScpO1xyXG5cclxuXHRcdFx0Ly8gVmVyaWZ5IGRhZW1vbiBpcyBydW5uaW5nXHJcblx0XHRcdGNvbnN0IG5ld1N0YXR1cyA9IGRhZW1vbkJyaWRnZS5nZXRTdGF0dXMoKTtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5pbmZvKCdbREFFTU9OLVJFTE9BRF0gTmV3IGRhZW1vbiBzdGF0dXMnLCBuZXdTdGF0dXMpO1xyXG5cclxuXHRcdFx0bmV3IE5vdGljZSgnW1NVQ0NFU1NdIFN5bmMgZGFlbW9uIHJlbG9hZGVkIHN1Y2Nlc3NmdWxseScpO1xyXG5cclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tEQUVNT04tUkVMT0FEXSBGYWlsZWQgdG8gcmVsb2FkIGRhZW1vbicsIHsgZXJyb3IgfSk7XHJcblx0XHRcdGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xyXG5cdFx0XHRuZXcgTm90aWNlKGBbRVJST1JdIEZhaWxlZCB0byByZWxvYWQgZGFlbW9uOiAke2Vycm9yTWVzc2FnZX1gKTtcclxuXHRcdH0gZmluYWxseSB7XHJcblx0XHRcdGJ1dHRvbkVsLnRleHRDb250ZW50ID0gb3JpZ2luYWxUZXh0O1xyXG5cdFx0XHRidXR0b25FbC5yZW1vdmVDbGFzcygnaXMtbG9hZGluZycpO1xyXG5cdFx0XHRidXR0b25FbC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcblx0XHR9XHJcblx0fVxyXG59IiwiLy8gRGF0YWJhc2Utc3BlY2lmaWMgY29uZmlndXJhdGlvbiBpbnRlcmZhY2VzXHJcbmV4cG9ydCBpbnRlcmZhY2UgTmVvNGpDb25maWcge1xyXG5cdHVyaTogc3RyaW5nOyAgICAgICAgICAgLy8gTmVvNGogdXNlcyAndXJpJyAoZS5nLiwgYm9sdDovL2xvY2FsaG9zdDo3Njg3KVxyXG5cdHVzZXJuYW1lOiBzdHJpbmc7XHJcblx0cGFzc3dvcmQ6IHN0cmluZztcclxuXHRkYXRhYmFzZTogc3RyaW5nOyAgICAgIC8vIE5lbzRqIGRhdGFiYXNlIG5hbWUgKGRlZmF1bHQ6ICduZW80aicpXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRmFsa29yREJDb25maWcge1xyXG5cdGhvc3Q6IHN0cmluZzsgICAgICAgICAgLy8gRmFsa29yREIgdXNlcyAnaG9zdCcgKGUuZy4sIGxvY2FsaG9zdClcclxuXHRwb3J0OiBudW1iZXI7ICAgICAgICAgIC8vIEZhbGtvckRCIHVzZXMgc2VwYXJhdGUgJ3BvcnQnIChlLmcuLCA2Mzc5KVxyXG5cdHVzZXJuYW1lPzogc3RyaW5nOyAgICAgLy8gRmFsa29yREIgdXNlcm5hbWUgKG9wdGlvbmFsKVxyXG5cdHBhc3N3b3JkPzogc3RyaW5nOyAgICAgLy8gRmFsa29yREIgcGFzc3dvcmQgKG9wdGlvbmFsKVxyXG5cdGRhdGFiYXNlOiBzdHJpbmc7ICAgICAgLy8gRmFsa29yREIgZGF0YWJhc2UgbmFtZSAoZGVmYXVsdDogJ2RlZmF1bHRfZGInKVxyXG59XHJcblxyXG4vLyA9PT0gRk9MREVSIE5BTUVTUEFDSU5HIElOVEVSRkFDRSA9PT1cclxuLy8gQHB1cnBvc2U6IERlZmluZSBtYXBwaW5nIGJldHdlZW4gZm9sZGVyIHBhdGhzIGFuZCBjdXN0b20gZ3JvdXBfaWQgbmFtZXNwYWNlc1xyXG4vLyBAZGVwZW5kczogVXNlciBjb25maWd1cmF0aW9uIGluIHNldHRpbmdzIFVJXHJcbi8vIEByZXN1bHRzOiBDdXN0b20gbmFtZXNwYWNlIGFzc2lnbm1lbnRzIGZvciBzeW5jIG9wZXJhdGlvbnNcclxuZXhwb3J0IGludGVyZmFjZSBGb2xkZXJOYW1lc3BhY2VNYXBwaW5nIHtcclxuXHRmb2xkZXJQYXRoOiBzdHJpbmc7ICAgIC8vIEZ1bGwgZm9sZGVyIHBhdGggKHN1cHBvcnRzIGJvdGggdG9wLWxldmVsIGFuZCBzdWItZm9sZGVycylcclxuXHRncm91cElkOiBzdHJpbmc7ICAgICAgIC8vIEN1c3RvbSBuYW1lc3BhY2UgaWRlbnRpZmllciBmb3IgdGhpcyBmb2xkZXJcclxufVxyXG5cclxuLy8gPT09IEVOSEFOQ0VEIFNDSEVNQSBNQU5BR0VNRU5UIElOVEVSRkFDRVMgPT09XHJcbi8vIFB1cnBvc2U6IENvbXBsZXRlIGN1c3RvbSBvbnRvbG9neSBtYW5hZ2VtZW50IHdpdGggTExNIGludGVncmF0aW9uIGFyY2hpdGVjdHVyZVxyXG4vLyBJbnRlZ3JhdGlvbjogU3VwcG9ydHMgZW50aXR5IGRlc2NyaXB0aW9ucywgZWRnZSB0eXBlcywgYW5kIGVkZ2UgbWFwcGluZ3MgZm9yIFB5ZGFudGljIG1vZGVsIGdlbmVyYXRpb25cclxuLy8gTW9kZTogQ29kZSAtIENvcmUgZGF0YSBzdHJ1Y3R1cmVzIGZvciBjdXN0b20gb250b2xvZ3kgYXV0aG9yaW5nXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFByb3BlcnR5RGVzY3JpcHRpb24ge1xyXG5cdGRlc2NyaXB0aW9uOiBzdHJpbmc7ICAgICAgICAgLy8gRmllbGQgZGVzY3JpcHRpb24gZm9yIFB5ZGFudGljIEZpZWxkKClcclxuXHRmaWVsZFR5cGU6IHN0cmluZzsgICAgICAgICAgLy8gXCJzdHJcIiwgXCJkYXRldGltZVwiLCBcIkxpc3Rbc3RyXVwiLCBldGMuXHJcblx0cmVxdWlyZWQ6IGJvb2xlYW47ICAgICAgICAgIC8vIFdoZXRoZXIgZmllbGQgaXMgcmVxdWlyZWRcclxuXHRpc1VzZXJEZWZpbmVkOiBib29sZWFuOyAgICAgLy8gdnMgYXV0by1kaXNjb3ZlcmVkXHJcblx0c291cmNlOiBcInVzZXJcIiB8IFwibGxtXCIgfCBcImRpc2NvdmVyeVwiOyAvLyBTb3VyY2Ugb2YgdGhpcyBjb25maWd1cmF0aW9uXHJcblx0bGFzdE1vZGlmaWVkPzogc3RyaW5nOyAgICAgIC8vIElTTyB0aW1lc3RhbXBcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBFbnRpdHlEZXNjcmlwdGlvbiB7XHJcblx0Y2xhc3NOYW1lOiBzdHJpbmc7ICAgICAgICAgICAvLyBcIldlYlBhZ2VcIiwgXCJQZXJzb25cIiwgZXRjLlxyXG5cdGRlc2NyaXB0aW9uOiBzdHJpbmc7ICAgICAgICAgLy8gQ2xhc3MgZGVzY3JpcHRpb24gZm9yIGRvY3VtZW50YXRpb24gYW5kIG1vZGVsIGdlbmVyYXRpb25cclxuXHRpc1VzZXJEZWZpbmVkOiBib29sZWFuOyAgICAgLy8gdnMgYXV0by1kaXNjb3ZlcmVkXHJcblx0c291cmNlOiBcInVzZXJcIiB8IFwibGxtXCIgfCBcImRpc2NvdmVyeVwiOyAvLyBTb3VyY2Ugb2YgdGhpcyBjb25maWd1cmF0aW9uXHJcblx0bGFzdE1vZGlmaWVkPzogc3RyaW5nOyAgICAgIC8vIElTTyB0aW1lc3RhbXBcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBFZGdlVHlwZVByb3BlcnR5IHtcclxuXHRkZXNjcmlwdGlvbjogc3RyaW5nOyAgICAgICAgIC8vIFByb3BlcnR5IGRlc2NyaXB0aW9uXHJcblx0ZmllbGRUeXBlOiBzdHJpbmc7ICAgICAgICAgIC8vIFwic3RyXCIsIFwiZGF0ZXRpbWVcIiwgZXRjLlxyXG5cdHJlcXVpcmVkOiBib29sZWFuOyAgICAgICAgICAvLyBXaGV0aGVyIHByb3BlcnR5IGlzIHJlcXVpcmVkXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRWRnZVR5cGUge1xyXG5cdGNsYXNzTmFtZTogc3RyaW5nOyAgICAgICAgICAgLy8gXCJXb3Jrc0ZvclwiLCBcIlVzZXNcIiwgZXRjLlxyXG5cdGRlc2NyaXB0aW9uOiBzdHJpbmc7ICAgICAgICAgLy8gRWRnZSB0eXBlIGRlc2NyaXB0aW9uIGZvciBkb2N1bWVudGF0aW9uIGFuZCBtb2RlbCBnZW5lcmF0aW9uXHJcblx0cHJvcGVydGllczogUmVjb3JkPHN0cmluZywgRWRnZVR5cGVQcm9wZXJ0eT47IC8vIEVkZ2UgdHlwZSBwcm9wZXJ0aWVzXHJcblx0aXNVc2VyRGVmaW5lZDogYm9vbGVhbjsgICAgIC8vIHZzIGF1dG8tZGlzY292ZXJlZFxyXG5cdHNvdXJjZTogXCJ1c2VyXCIgfCBcImxsbVwiIHwgXCJkaXNjb3ZlcnlcIjsgLy8gU291cmNlIG9mIHRoaXMgY29uZmlndXJhdGlvblxyXG5cdGxhc3RNb2RpZmllZD86IHN0cmluZzsgICAgICAvLyBJU08gdGltZXN0YW1wXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRWRnZVR5cGVNYXBwaW5nIHtcclxuXHRzb3VyY2VFbnRpdHk6IHN0cmluZzsgICAgICAgIC8vIFwiUGVyc29uXCJcclxuXHR0YXJnZXRFbnRpdHk6IHN0cmluZzsgICAgICAgIC8vIFwiT3JnYW5pemF0aW9uXCJcclxuXHRhbGxvd2VkRWRnZXM6IHN0cmluZ1tdOyAgICAgIC8vIFtcIldvcmtzRm9yXCIsIFwiTWVtYmVyT2ZcIl1cclxuXHRpc1VzZXJEZWZpbmVkOiBib29sZWFuOyAgICAgLy8gdnMgYXV0by1kaXNjb3ZlcmVkXHJcblx0c291cmNlOiBcInVzZXJcIiB8IFwibGxtXCIgfCBcImRpc2NvdmVyeVwiOyAvLyBTb3VyY2Ugb2YgdGhpcyBjb25maWd1cmF0aW9uXHJcblx0bGFzdE1vZGlmaWVkPzogc3RyaW5nOyAgICAgIC8vIElTTyB0aW1lc3RhbXBcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBMTE1TY2hlbWFTZXR0aW5ncyB7XHJcblx0YXV0b1N1Z2dlc3RFbnRpdHlEZXNjcmlwdGlvbnM6IGJvb2xlYW47XHJcblx0YXV0b1N1Z2dlc3RQcm9wZXJ0eURlc2NyaXB0aW9uczogYm9vbGVhbjtcclxuXHRhdXRvU3VnZ2VzdEVkZ2VUeXBlczogYm9vbGVhbjtcclxuXHRhdXRvU3VnZ2VzdEVkZ2VUeXBlTWFwcGluZ3M6IGJvb2xlYW47XHJcblx0bGFzdExMTVN1Z2dlc3Rpb25EYXRlPzogc3RyaW5nOyAvLyBJU08gdGltZXN0YW1wXHJcblx0bGxtTW9kZWw/OiBzdHJpbmc7ICAgICAgICAgIC8vIFdoaWNoIG1vZGVsIHdhcyB1c2VkIGZvciBzdWdnZXN0aW9uc1xyXG5cdGVuYWJsZUJ1bGtHZW5lcmF0aW9uOiBib29sZWFuOyAvLyBBbGxvdyBidWxrIHNjaGVtYSBnZW5lcmF0aW9uXHJcblx0c3VnZ2VzdGlvbkFwcHJvdmFsUmVxdWlyZWQ6IGJvb2xlYW47IC8vIFJlcXVpcmUgdXNlciBhcHByb3ZhbCBmb3IgTExNIHN1Z2dlc3Rpb25zXHJcbn1cclxuXHJcblxyXG4vLyBNdWx0aS1WYXVsdCBDb25maWd1cmF0aW9uIGludGVyZmFjZVxyXG5leHBvcnQgaW50ZXJmYWNlIFZhdWx0Q29uZmlndXJhdGlvbiB7XHJcblx0dmF1bHROYW1lOiBzdHJpbmc7XHJcblx0bmFtZXNwYWNlOiBzdHJpbmc7XHJcblx0ZW5hYmxlZDogYm9vbGVhbjtcclxuXHRwcmlvcml0eTogbnVtYmVyOyAvLyBGb3IgZGV0ZXJtaW5pbmcgcHJlY2VkZW5jZSBpbiBtdWx0aS12YXVsdCBzY2VuYXJpb3NcclxuXHRjdXN0b21TZXR0aW5ncz86IHtcclxuXHRcdHN5bmNPblNhdmU/OiBib29sZWFuO1xyXG5cdFx0aW5jbHVkZWRGb2xkZXJzPzogc3RyaW5nW107XHJcblx0XHRleGNsdWRlZEZvbGRlcnM/OiBzdHJpbmdbXTtcclxuXHRcdGdsb2JhbGx5SWdub3JlZEZpZWxkcz86IHN0cmluZ1tdO1xyXG5cdFx0bmFtZXNwYWNlU3RyYXRlZ3k/OiAndmF1bHQnIHwgJ2ZvbGRlcicgfCAncHJvcGVydHknIHwgJ2N1c3RvbSc7XHJcblx0XHRkZWZhdWx0TmFtZXNwYWNlPzogc3RyaW5nO1xyXG5cdH07XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTUNQVG9vbERlZmluaXRpb24ge1xyXG5cdG5hbWU6IHN0cmluZztcclxuXHRkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRlbXBsYXRlckludGVncmF0aW9uQ29uZmlnIHtcclxuXHRkZXRlY3RlZDogYm9vbGVhbjtcclxuXHRlbmFibGVkOiBib29sZWFuO1xyXG5cdHVzZVRlbXBsYXRlRm9sZGVyczogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQZXJpb2RpY05vdGVzSW50ZWdyYXRpb25Db25maWcge1xyXG5cdGRldGVjdGVkOiBib29sZWFuO1xyXG5cdGVuYWJsZWQ6IGJvb2xlYW47XHJcblx0dXNlUGVyaW9kaWNGb2xkZXJzOiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE1DUFRvb2xzU2V0dGluZ3Mge1xyXG4gIGRlZmF1bHRzOiB7XHJcbiAgICBpbmJveEZvbGRlcjogc3RyaW5nO1xyXG4gICAgZW5hYmxlU21hcnRGb2xkZXJSZXNvbHV0aW9uOiBib29sZWFuO1xyXG4gIH07XHJcbiAgaW50ZWdyYXRpb25zOiB7XHJcbiAgICB0ZW1wbGF0ZXI6IFRlbXBsYXRlckludGVncmF0aW9uQ29uZmlnO1xyXG4gICAgcGVyaW9kaWNOb3RlczogUGVyaW9kaWNOb3Rlc0ludGVncmF0aW9uQ29uZmlnO1xyXG4gIH07XHJcbiAgdG9vbHM6IE1DUFRvb2xEZWZpbml0aW9uW107XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTExNTW9kZWxNZXRhIHtcclxuXHRkZXNjPzogc3RyaW5nO1xyXG5cdHJlY29tbWVuZGVkPzogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBFbWJlZGRpbmdNb2RlbE1ldGEge1xyXG5cdGRlc2M/OiBzdHJpbmc7XHJcblx0ZGltZW5zaW9ucz86IG51bWJlcjtcclxuXHRyZWNvbW1lbmRlZD86IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgR3JhcGhpdGlQbHVnaW5TZXR0aW5ncyB7XHJcblx0Ly8gRGF0YWJhc2UgQ29uZmlndXJhdGlvbiAtIEluZGVwZW5kZW50IGNvbmZpZ3MgZm9yIGVhY2ggZGF0YWJhc2UgdHlwZVxyXG5cdGRhdGFiYXNlVHlwZTogJ25lbzRqJyB8ICdmYWxrb3JkYic7XHJcblx0ZGF0YWJhc2VDb25maWdzOiB7XHJcblx0XHRuZW80ajogTmVvNGpDb25maWc7XHJcblx0XHRmYWxrb3JkYjogRmFsa29yREJDb25maWc7XHJcblx0fTtcclxuXHJcblx0Ly8gTExNIFByb3ZpZGVyIENvbmZpZ3VyYXRpb25cclxuXHRsbG1Qcm92aWRlcjogJ29wZW5haScgfCAnYW50aHJvcGljJyB8ICdnb29nbGUnIHwgJ2F6dXJlJyB8ICdncm9xJyB8ICdvbGxhbWEnIHwgJ3ZlbmljZScgfCAnb3BlbnJvdXRlcic7XHJcblx0bGxtTW9kZWw6IHN0cmluZztcclxuXHRsbG1TbWFsbE1vZGVsPzogc3RyaW5nOyAvLyBPcHRpb25hbCBzbWFsbGVyIG1vZGVsIGZvciBlZmZpY2llbmN5XHJcblxyXG5cdC8vIENyb3NzLUVuY29kZXIgQ29uZmlndXJhdGlvblxyXG5cdGNyb3NzRW5jb2RlckNsaWVudD86ICdub25lJyB8ICdvcGVuYWknIHwgJ2JnZScgfCAnZ2VtaW5pJzsgLy8gQ3Jvc3MtZW5jb2Rlci9yZXJhbmtlciBwcm92aWRlclxyXG5cdGNyb3NzRW5jb2Rlck1vZGVsPzogc3RyaW5nOyAvLyBDcm9zcy1lbmNvZGVyL3JlcmFua2VyIG1vZGVsXHJcblxyXG5cdC8vIFByb3ZpZGVyLXNwZWNpZmljIEFQSSBLZXlzXHJcblx0YXBpS2V5czoge1xyXG5cdFx0b3BlbmFpPzogc3RyaW5nO1xyXG5cdFx0YW50aHJvcGljPzogc3RyaW5nO1xyXG5cdFx0Z29vZ2xlPzogc3RyaW5nO1xyXG5cdFx0YXp1cmU/OiBzdHJpbmc7XHJcblx0XHRncm9xPzogc3RyaW5nO1xyXG5cdFx0dm95YWdlPzogc3RyaW5nO1xyXG5cdFx0dmVuaWNlPzogc3RyaW5nO1xyXG5cdFx0b3BlbnJvdXRlcj86IHN0cmluZztcclxuXHRcdC8vIE5vdGU6IG9sbGFtYSBkb2Vzbid0IHJlcXVpcmUgQVBJIGtleXMgKGxvY2FsKVxyXG5cdH07XHJcblxyXG5cdC8vIEVtYmVkZGVyIENvbmZpZ3VyYXRpb25cclxuXHRlbWJlZGRlclByb3ZpZGVyOiAnb3BlbmFpJyB8ICdnb29nbGUnIHwgJ3ZveWFnZScgfCAnb2xsYW1hJztcclxuXHRlbWJlZGRpbmdNb2RlbDogc3RyaW5nO1xyXG5cclxuXHQvLyBNb2RlbCBEZWZhdWx0cyBsb2FkZWQgZnJvbSBzZXR0aW5ncyAoaHlkcmF0ZWQgZnJvbSBkYXRhLmpzb24pXHJcblx0bGxtRGVmYXVsdHM/OiBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCBMTE1Nb2RlbE1ldGE+PjtcclxuXHRsbG1TbWFsbERlZmF1bHRzPzogUmVjb3JkPHN0cmluZywgUmVjb3JkPHN0cmluZywgTExNTW9kZWxNZXRhPj47XHJcblx0ZW1iZWRkaW5nRGVmYXVsdHM/OiBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCBFbWJlZGRpbmdNb2RlbE1ldGE+PjtcclxuXHJcblx0Ly8gUHJvdmlkZXItc3BlY2lmaWMgc2V0dGluZ3NcclxuXHRhenVyZUVuZHBvaW50Pzogc3RyaW5nOyAvLyBGb3IgQXp1cmUgT3BlbkFJXHJcblx0YXp1cmVBcGlWZXJzaW9uPzogc3RyaW5nO1xyXG5cdG9sbGFtYUJhc2VVcmw/OiBzdHJpbmc7IC8vIEZvciBsb2NhbCBPbGxhbWFcclxuXHRvbGxhbWFFbWJlZGRpbmdEaW0/OiBudW1iZXI7IC8vIEZvciBPbGxhbWEgZW1iZWRkaW5nIGRpbWVuc2lvbnNcclxuXHRvcGVucm91dGVyUHJlc2V0U2x1Zz86IHN0cmluZzsgLy8gRm9yIE9wZW5Sb3V0ZXIgcHJlc2V0IGNvbmZpZ3VyYXRpb25cclxuXHRvcGVucm91dGVyVXNlUHJlc2V0V2l0aEN1c3RvbU1vZGVsPzogYm9vbGVhbjsgLy8gRW5hYmxlIHByZXNldCBhcHBlbmRpbmcgdG8gY3VzdG9tIG1vZGVsc1xyXG5cclxuXHQvLyBQeXRob24gRW52aXJvbm1lbnRcclxuXHRweXRob25QYXRoPzogc3RyaW5nO1xyXG5cclxuXHQvLyBNQ1AgU2VydmVyIENvbmZpZ3VyYXRpb24gKExlZ2FjeSBjb21wYXRpYmlsaXR5KVxyXG5cdG1jcFNlcnZlclVybDogc3RyaW5nO1xyXG5cdG1jcFNlcnZlclBvcnQ6IG51bWJlcjtcclxuXHRtY3BTZXJ2ZXJFbmFibGVkOiBib29sZWFuO1xyXG5cdG1jcEF1dGhUb2tlbjogc3RyaW5nO1xyXG5cdG1jcFNlcnZlckFwaUtleTogc3RyaW5nOyAvLyBMZWdhY3kgY29tcGF0aWJpbGl0eVxyXG5cclxuXHQvLyBTeW5jIENvbmZpZ3VyYXRpb25cclxuXHRpbmNsdWRlZEZvbGRlcnM6IHN0cmluZ1tdO1xyXG5cdGV4Y2x1ZGVkRm9sZGVyczogc3RyaW5nW107XHJcblx0Z2xvYmFsbHlJZ25vcmVkRmllbGRzOiBzdHJpbmdbXTtcclxuXHRhdXRvU3luYzogYm9vbGVhbjsgLy8gUmVuYW1lZCBmcm9tIHN5bmNPblNhdmUgLSBlbmFibGVzIGF1dG9tYXRpYyBzeW5jIG9wZXJhdGlvbnNcclxuXHRzeW5jT3B0aW9uczogJ25ld19vbmx5JyB8ICduZXdfYW5kX3VwZGF0ZWQnOyAvLyBDb250cm9scyB3aGljaCBub3RlcyBhcmUgaW5jbHVkZWQgaW4gYXV0by1zeW5jXHJcblx0c3luY0ludGVydmFsOiBudW1iZXI7IC8vIG1pbnV0ZXNcclxuXHRiYXRjaFNpemU6IG51bWJlcjtcclxuXHRwcm9jZXNzaW5nRGVsYXlNczogbnVtYmVyO1xyXG5cclxuXHQvLyBBZHZhbmNlZCBPcHRpb25zXHJcblx0ZW5hYmxlRGVidWdMb2dnaW5nOiBib29sZWFuO1xyXG5cdGVuYWJsZVBlcmZvcm1hbmNlTWV0cmljczogYm9vbGVhbjtcclxuXHRtYXhSZXRyeUF0dGVtcHRzOiBudW1iZXI7XHJcblx0Y29ubmVjdGlvblRpbWVvdXQ6IG51bWJlcjsgLy8gc2Vjb25kc1xyXG5cclxuXHQvLyBQZXJmb3JtYW5jZSBPcHRpbWl6YXRpb25cclxuXHRleHBlcmltZW50YWxEYWVtb25Nb2RlOiBib29sZWFuOyAvLyBFbmFibGUgcGVyc2lzdGVudCBQeXRob24gZGFlbW9uIGZvciBCR0UgbW9kZWwgb3B0aW1pemF0aW9uXHJcblx0bG9hZERhZW1vbk9uTGF1bmNoOiBib29sZWFuOyAvLyBTdGFydCBkYWVtb24gd2hlbiBwbHVnaW4gbG9hZHMgdG8gZWxpbWluYXRlIGZpcnN0LXN5bmMgZGVsYXlcclxuXHRsb2dQZXJmb3JtYW5jZTogYm9vbGVhbjsgLy8gRW5hYmxlIGRldGFpbGVkIHRpbWluZyBhbmFseXNpcyBmb3Igc3luYyBwZXJmb3JtYW5jZSBkZWJ1Z2dpbmdcclxuXHJcblx0Ly8gVUkgUHJlZmVyZW5jZXNcclxuXHRzaG93U3luY1N0YXR1czogYm9vbGVhbjtcclxuXHRzaG93Tm90aWZpY2F0aW9uczogYm9vbGVhbjtcclxuXHRjb21wYWN0TW9kZTogYm9vbGVhbjtcclxuXHRzaG93U2NoZW1hVmFsaWRhdGlvbjogYm9vbGVhbjsgLy8gTGVnYWN5IGNvbXBhdGliaWxpdHlcclxuXHJcblx0Ly8gU2NoZW1hIERpc2NvdmVyeSBPcHRpb25zXHJcblx0YXV0b0Rpc2NvdmVyU2NoZW1hczogYm9vbGVhbjtcclxuXHR2YWxpZGF0ZU5hbWluZ0NvbnZlbnRpb25zOiBib29sZWFuO1xyXG5cdHN1Z2dlc3RQcm9wZXJ0eURlc2NyaXB0aW9uczogYm9vbGVhbjtcclxuXHRlbmFibGVQcm90ZWN0ZWRBdHRyaWJ1dGVXYXJuaW5nczogYm9vbGVhbjtcclxuXHJcblx0Ly8gRGV2ZWxvcG1lbnQgT3B0aW9uc1xyXG5cdHNob3dEZXZlbG9wbWVudEluZGljYXRvcnM6IGJvb2xlYW47XHJcblxyXG5cdC8vID09PSBWRVNTRUwgT1BFTiA9PT1cclxuXHQvLyBQdXJwb3NlOiBPbnRvbG9neSBhbmQgTmFtZXNwYWNpbmcgQ29uZmlndXJhdGlvblxyXG5cdC8vIEludGVncmF0aW9uOiBFbmFibGVzIGdlbmVyaWMgdnMgY3VzdG9tIGVudGl0eSBlcGlzb2RlcyBhbmQga25vd2xlZGdlIHNlZ21lbnRhdGlvblxyXG5cdC8vIE1vZGU6IENvZGUgLSBDcml0aWNhbCBhcmNoaXRlY3R1cmFsIHNldHRpbmdzXHJcblxyXG5cdC8vIE9udG9sb2d5IENvbmZpZ3VyYXRpb25cclxuXHR1c2VDdXN0b21PbnRvbG9neTogYm9vbGVhbjsgLy8gVG9nZ2xlIGJldHdlZW4gZ2VuZXJpYyB2cyBjdXN0b20gZW50aXR5IGVwaXNvZGVzXHJcblxyXG5cdC8vIE5hbWVzcGFjaW5nIENvbmZpZ3VyYXRpb25cclxuXHRkZWZhdWx0TmFtZXNwYWNlOiBzdHJpbmc7IC8vIERlZmF1bHQgbmFtZXNwYWNlICh2YXVsdCBuYW1lIHJlY29tbWVuZGVkKVxyXG5cdGVuYWJsZUZvbGRlck5hbWVzcGFjaW5nOiBib29sZWFuOyAvLyBVc2UgZm9sZGVyIGFzIG5hbWVzcGFjZVxyXG5cdGVuYWJsZVByb3BlcnR5TmFtZXNwYWNpbmc6IGJvb2xlYW47IC8vIFVzZSBnX2dyb3VwX2lkIHByb3BlcnR5IGFzIG5hbWVzcGFjZVxyXG5cdG5hbWVzcGFjZVN0cmF0ZWd5OiAndmF1bHQnIHwgJ2ZvbGRlcicgfCAncHJvcGVydHknIHwgJ2N1c3RvbSc7IC8vIFByaW1hcnkgbmFtZXNwYWNlIHN0cmF0ZWd5XHJcblx0Zm9sZGVyTmFtZXNwYWNlTWFwcGluZ3M6IEZvbGRlck5hbWVzcGFjZU1hcHBpbmdbXTsgLy8gQ3VzdG9tIGZvbGRlciB0byBncm91cF9pZCBtYXBwaW5nc1xyXG5cclxuXHQvLyBNdWx0aS1WYXVsdCBDb25maWd1cmF0aW9uXHJcblx0dmF1bHRDb25maWd1cmF0aW9uczogVmF1bHRDb25maWd1cmF0aW9uW107IC8vIENvbmZpZ3VyYXRpb24gZm9yIG11bHRpcGxlIHZhdWx0c1xyXG5cdGVuYWJsZU11bHRpVmF1bHRNb2RlOiBib29sZWFuOyAvLyBFbmFibGUgbXVsdGktdmF1bHQgbWFuYWdlbWVudCBmZWF0dXJlc1xyXG5cdGN1cnJlbnRWYXVsdFByaW9yaXR5OiBudW1iZXI7IC8vIEN1cnJlbnQgdmF1bHQncyBwcmlvcml0eSBpbiBtdWx0aS12YXVsdCBzZXR1cFxyXG5cclxuXHQvLyBORVc6IEF2YWlsYWJsZSBuYW1lc3BhY2VzIGRpc2NvdmVyZWQgYnkgdGhlIHBsdWdpblxyXG5cdGF2YWlsYWJsZU5hbWVzcGFjZXM6IHN0cmluZ1tdOyAvLyBMaXN0IG9mIGRpc2NvdmVyZWQgdW5pcXVlIG5hbWVzcGFjZXNcclxuXHJcblx0Ly8gTUNQIFRvb2xzIENvbmZpZ3VyYXRpb25cclxuXHRtY3BUb29sczogTUNQVG9vbHNTZXR0aW5ncztcclxuXHJcblx0Ly8gPT09IFZFU1NFTCBDTE9TRSA9PT1cclxuXHJcblx0Ly8gV2ViU29ja2V0IENvbmZpZ3VyYXRpb24gZm9yIE1DUCBTZXJ2ZXIgQ29tbXVuaWNhdGlvblxyXG5cdHdzRW5hYmxlZDogYm9vbGVhbjtcclxuXHR3c1BvcnQ6IG51bWJlcjtcclxuXHR3c0F1dGhUb2tlbjogc3RyaW5nO1xyXG5cclxuXHQvLyBQcm9wZXJ0eSBNYW5hZ2VtZW50IChMZWdhY3kgY29tcGF0aWJpbGl0eSlcclxuXHRwcm9wZXJ0eU1hcHBpbmdzOiBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+PjsgLy8geyBcIkVudGl0eVR5cGVcIjogeyBcIm9yaWdpbmFsTmFtZVwiOiBcIm1hcHBlZE5hbWVcIiB9IH1cclxuXHRwcm9wZXJ0eVNlbGVjdGlvbnM6IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+PjsgLy8geyBcIkVudGl0eVR5cGVcIjogeyBcInByb3BlcnR5TmFtZVwiOiBlbmFibGVkIH0gfVxyXG5cclxuXHQvLyA9PT0gRU5IQU5DRUQgU0NIRU1BIE1BTkFHRU1FTlQgREFUQSA9PT1cclxuXHQvLyBQdXJwb3NlOiBDb21wbGV0ZSBjdXN0b20gb250b2xvZ3kgZGF0YSBmb3IgUHlkYW50aWMgbW9kZWwgZ2VuZXJhdGlvblxyXG5cdC8vIEludGVncmF0aW9uOiBTdG9yZXMgZW50aXR5IGRlc2NyaXB0aW9ucywgcHJvcGVydHkgZGVzY3JpcHRpb25zLCBlZGdlIHR5cGVzLCBhbmQgbWFwcGluZ3NcclxuXHQvLyBNb2RlOiBDb2RlIC0gRW5oYW5jZWQgZGF0YSBzdHJ1Y3R1cmUgZm9yIGN1c3RvbSBvbnRvbG9neSBhdXRob3JpbmdcclxuXHJcblx0Ly8gQmFzZSBFbnRpdHkgcHJvcGVydGllcyAoc2hhcmVkIGJ5IGFsbCBlbnRpdHkgdHlwZXMpXHJcblx0YmFzZUVudGl0eVByb3BlcnRpZXM6IHN0cmluZ1tdO1xyXG5cclxuXHQvLyBFbnRpdHkgY2xhc3MgbWV0YWRhdGFcclxuXHRlbnRpdHlEZXNjcmlwdGlvbnM6IFJlY29yZDxzdHJpbmcsIEVudGl0eURlc2NyaXB0aW9uPjtcclxuXHJcblx0Ly8gUHJvcGVydHkgZGVzY3JpcHRpb25zXHJcblx0cHJvcGVydHlEZXNjcmlwdGlvbnM6IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIFByb3BlcnR5RGVzY3JpcHRpb24+PjtcclxuXHJcblx0Ly8gRWRnZSB0eXBlc1xyXG5cdGVkZ2VUeXBlczogUmVjb3JkPHN0cmluZywgRWRnZVR5cGU+O1xyXG5cclxuXHQvLyBFZGdlIHR5cGUgbWFwcGluZ3NcclxuXHRlZGdlVHlwZU1hcDogRWRnZVR5cGVNYXBwaW5nW107XHJcblxyXG5cdC8vIExMTSBpbnRlZ3JhdGlvbiBzZXR0aW5nc1xyXG5cdGxsbVNjaGVtYVNldHRpbmdzOiBMTE1TY2hlbWFTZXR0aW5ncztcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3MgPSB7XHJcblx0Ly8gRGF0YWJhc2UgQ29uZmlndXJhdGlvbiAtIEluZGVwZW5kZW50IGNvbmZpZ3MgcHJlc2VydmVkIHdoZW4gc3dpdGNoaW5nXHJcblx0ZGF0YWJhc2VUeXBlOiAnbmVvNGonLFxyXG5cdGRhdGFiYXNlQ29uZmlnczoge1xyXG5cdFx0bmVvNGo6IHtcclxuXHRcdFx0dXJpOiAnYm9sdDovL2xvY2FsaG9zdDo3Njg3JyxcclxuXHRcdFx0dXNlcm5hbWU6ICduZW80aicsXHJcblx0XHRcdHBhc3N3b3JkOiAnJyxcclxuXHRcdFx0ZGF0YWJhc2U6ICduZW80aidcclxuXHRcdH0sXHJcblx0XHRmYWxrb3JkYjoge1xyXG5cdFx0XHRob3N0OiAnbG9jYWxob3N0JyxcclxuXHRcdFx0cG9ydDogNjM3OSxcclxuXHRcdFx0dXNlcm5hbWU6IHVuZGVmaW5lZCwgIC8vIE9wdGlvbmFsIGZvciBGYWxrb3JEQlxyXG5cdFx0XHRwYXNzd29yZDogdW5kZWZpbmVkLCAgLy8gT3B0aW9uYWwgZm9yIEZhbGtvckRCXHJcblx0XHRcdGRhdGFiYXNlOiAnZGVmYXVsdF9kYicgIC8vIE9mZmljaWFsIEZhbGtvckRCIGRlZmF1bHRcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHQvLyBMTE0gUHJvdmlkZXIgQ29uZmlndXJhdGlvblxyXG5cdGxsbVByb3ZpZGVyOiAnb3BlbmFpJyxcclxuXHRsbG1Nb2RlbDogJ2dwdC00bycsXHJcblx0bGxtU21hbGxNb2RlbDogJ2dwdC00by1taW5pJyxcclxuXHJcblx0Ly8gQ3Jvc3MtRW5jb2RlciBDb25maWd1cmF0aW9uXHJcblx0Y3Jvc3NFbmNvZGVyQ2xpZW50OiAnb3BlbmFpJywgLy8gRGVmYXVsdCB0byBPcGVuQUkgUmVyYW5rZXIgYXMgcGVyIHBsYW5cclxuXHRjcm9zc0VuY29kZXJNb2RlbDogJ2dwdC00by1taW5pJywgLy8gRGVmYXVsdCBPcGVuQUkgcmVyYW5rZXIgbW9kZWwgKG9tbmktcmVyYW5rZXItdjEgZG9lc24ndCBleGlzdClcclxuXHJcblx0Ly8gUHJvdmlkZXItc3BlY2lmaWMgQVBJIEtleXNcclxuXHRhcGlLZXlzOiB7XHJcblx0XHRvcGVuYWk6ICcnLFxyXG5cdFx0YW50aHJvcGljOiAnJyxcclxuXHRcdGdvb2dsZTogJycsXHJcblx0XHRhenVyZTogJycsXHJcblx0XHRncm9xOiAnJyxcclxuXHRcdHZveWFnZTogJycsXHJcblx0XHR2ZW5pY2U6ICcnLFxyXG5cdFx0b3BlbnJvdXRlcjogJycsXHJcblx0fSxcclxuXHJcblx0Ly8gRW1iZWRkZXIgQ29uZmlndXJhdGlvblxyXG5cdGVtYmVkZGVyUHJvdmlkZXI6ICdvcGVuYWknLFxyXG5cdGVtYmVkZGluZ01vZGVsOiAndGV4dC1lbWJlZGRpbmctMy1zbWFsbCcsXHJcblxyXG5cdC8vIE1vZGVsIERlZmF1bHRzIGxvYWRlZCBmcm9tIHNldHRpbmdzIChoeWRyYXRlZCBmcm9tIGRhdGEuanNvbilcclxuXHRsbG1EZWZhdWx0czoge30sXHJcblx0bGxtU21hbGxEZWZhdWx0czoge30sXHJcblx0ZW1iZWRkaW5nRGVmYXVsdHM6IHt9LFxyXG5cclxuXHQvLyBQcm92aWRlci1zcGVjaWZpYyBzZXR0aW5nc1xyXG5cdGF6dXJlRW5kcG9pbnQ6ICcnLFxyXG5cdGF6dXJlQXBpVmVyc2lvbjogJzIwMjQtMDItMDEnLFxyXG5cdG9sbGFtYUJhc2VVcmw6ICdodHRwOi8vbG9jYWxob3N0OjExNDM0JyxcclxuXHRvbGxhbWFFbWJlZGRpbmdEaW06IDc2OCxcclxuXHRvcGVucm91dGVyUHJlc2V0U2x1ZzogJycsXHJcblx0b3BlbnJvdXRlclVzZVByZXNldFdpdGhDdXN0b21Nb2RlbDogZmFsc2UsXHJcblxyXG5cdC8vIFB5dGhvbiBFbnZpcm9ubWVudFxyXG5cdHB5dGhvblBhdGg6ICcnLFxyXG5cclxuXHQvLyBNQ1AgU2VydmVyIENvbmZpZ3VyYXRpb24gKExlZ2FjeSBjb21wYXRpYmlsaXR5KVxyXG5cdG1jcFNlcnZlclVybDogJ2h0dHA6Ly9sb2NhbGhvc3QnLFxyXG5cdG1jcFNlcnZlclBvcnQ6IDgwMDAsXHJcblx0bWNwU2VydmVyRW5hYmxlZDogdHJ1ZSxcclxuXHRtY3BBdXRoVG9rZW46ICcnLFxyXG5cdG1jcFNlcnZlckFwaUtleTogJycsIC8vIExlZ2FjeSBjb21wYXRpYmlsaXR5XHJcblxyXG5cdC8vIFN5bmMgQ29uZmlndXJhdGlvblxyXG5cdGluY2x1ZGVkRm9sZGVyczogW10sXHJcblx0ZXhjbHVkZWRGb2xkZXJzOiBbJy5vYnNpZGlhbicsICcudHJhc2gnXSxcclxuXHRnbG9iYWxseUlnbm9yZWRGaWVsZHM6IFsnY3NzY2xhc3MnLCAndGFncycsICdhbGlhc2VzJ10sXHJcblx0YXV0b1N5bmM6IHRydWUsIC8vIFJlbmFtZWQgZnJvbSBzeW5jT25TYXZlIC0gZW5hYmxlZCBieSBkZWZhdWx0XHJcblx0c3luY09wdGlvbnM6ICduZXdfYW5kX3VwZGF0ZWQnLCAvLyBEZWZhdWx0IHRvIG1vcmUgaW5jbHVzaXZlIHN5bmMgb3B0aW9uXHJcblx0c3luY0ludGVydmFsOiA1LFxyXG5cdGJhdGNoU2l6ZTogMTAsXHJcblx0cHJvY2Vzc2luZ0RlbGF5TXM6IDUwMCwgLy8gRGVmYXVsdCBwcm9jZXNzaW5nIGRlbGF5IGluIG1pbGxpc2Vjb25kc1xyXG5cclxuXHQvLyBBZHZhbmNlZCBPcHRpb25zXHJcblx0ZW5hYmxlRGVidWdMb2dnaW5nOiBmYWxzZSxcclxuXHRlbmFibGVQZXJmb3JtYW5jZU1ldHJpY3M6IGZhbHNlLFxyXG5cdG1heFJldHJ5QXR0ZW1wdHM6IDMsXHJcblx0Y29ubmVjdGlvblRpbWVvdXQ6IDMwLFxyXG5cclxuXHQvLyBQZXJmb3JtYW5jZSBPcHRpbWl6YXRpb25cclxuXHRleHBlcmltZW50YWxEYWVtb25Nb2RlOiBmYWxzZSwgLy8gRGlzYWJsZWQgYnkgZGVmYXVsdCBmb3Igc2FmZSByb2xsYmFja1xyXG5cdGxvYWREYWVtb25PbkxhdW5jaDogZmFsc2UsIC8vIERpc2FibGVkIGJ5IGRlZmF1bHQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcclxuXHRsb2dQZXJmb3JtYW5jZTogZmFsc2UsIC8vIERpc2FibGVkIGJ5IGRlZmF1bHQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcclxuXHJcblx0Ly8gVUkgUHJlZmVyZW5jZXNcclxuXHRzaG93U3luY1N0YXR1czogdHJ1ZSxcclxuXHRzaG93Tm90aWZpY2F0aW9uczogdHJ1ZSxcclxuXHRjb21wYWN0TW9kZTogZmFsc2UsXHJcblx0c2hvd1NjaGVtYVZhbGlkYXRpb246IHRydWUsIC8vIExlZ2FjeSBjb21wYXRpYmlsaXR5XHJcblxyXG5cdC8vIFNjaGVtYSBEaXNjb3ZlcnkgT3B0aW9uc1xyXG5cdGF1dG9EaXNjb3ZlclNjaGVtYXM6IHRydWUsXHJcblx0dmFsaWRhdGVOYW1pbmdDb252ZW50aW9uczogdHJ1ZSxcclxuXHRzdWdnZXN0UHJvcGVydHlEZXNjcmlwdGlvbnM6IHRydWUsXHJcblx0ZW5hYmxlUHJvdGVjdGVkQXR0cmlidXRlV2FybmluZ3M6IHRydWUsXHJcblxyXG5cdC8vIERldmVsb3BtZW50IE9wdGlvbnNcclxuXHRzaG93RGV2ZWxvcG1lbnRJbmRpY2F0b3JzOiB0cnVlLFxyXG5cclxuXHQvLyA9PT0gVkVTU0VMIE9QRU4gPT09XHJcblx0Ly8gUHVycG9zZTogRGVmYXVsdCB2YWx1ZXMgZm9yIG9udG9sb2d5IGFuZCBuYW1lc3BhY2luZyBzZXR0aW5nc1xyXG5cdC8vIEludGVncmF0aW9uOiBTYWZlIGRlZmF1bHRzIGZvciBuZXcgYXJjaGl0ZWN0dXJhbCBmZWF0dXJlc1xyXG5cdC8vIE1vZGU6IENvZGUgLSBEZWZhdWx0IGNvbmZpZ3VyYXRpb24gdmFsdWVzXHJcblxyXG5cdC8vIE9udG9sb2d5IENvbmZpZ3VyYXRpb25cclxuXHR1c2VDdXN0b21PbnRvbG9neTogZmFsc2UsIC8vIFN0YXJ0IHdpdGggZ2VuZXJpYyBlcGlzb2RlcyBmb3Igc2FmZXR5XHJcblxyXG5cdC8vIE5hbWVzcGFjaW5nIENvbmZpZ3VyYXRpb25cclxuXHRkZWZhdWx0TmFtZXNwYWNlOiAnbXktdmF1bHQnLCAvLyBXaWxsIGJlIHVwZGF0ZWQgdG8gYWN0dWFsIHZhdWx0IG5hbWUgb24gZmlyc3QgcnVuXHJcblx0ZW5hYmxlRm9sZGVyTmFtZXNwYWNpbmc6IGZhbHNlLCAvLyBEaXNhYmxlZCBieSBkZWZhdWx0XHJcblx0ZW5hYmxlUHJvcGVydHlOYW1lc3BhY2luZzogZmFsc2UsIC8vIERpc2FibGVkIGJ5IGRlZmF1bHRcclxuXHRuYW1lc3BhY2VTdHJhdGVneTogJ3ZhdWx0JywgLy8gVXNlIHZhdWx0IGFzIGRlZmF1bHQgc3RyYXRlZ3lcclxuXHRmb2xkZXJOYW1lc3BhY2VNYXBwaW5nczogW10sIC8vIEVtcHR5IGFycmF5IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XHJcblxyXG5cdC8vIE11bHRpLVZhdWx0IENvbmZpZ3VyYXRpb25cclxuXHR2YXVsdENvbmZpZ3VyYXRpb25zOiBbXSwgLy8gRW1wdHkgYXJyYXkgZm9yIG5ldyBpbnN0YWxsYXRpb25zXHJcblx0ZW5hYmxlTXVsdGlWYXVsdE1vZGU6IGZhbHNlLCAvLyBEaXNhYmxlZCBieSBkZWZhdWx0XHJcblx0Y3VycmVudFZhdWx0UHJpb3JpdHk6IDEsIC8vIERlZmF1bHQgcHJpb3JpdHkgZm9yIGN1cnJlbnQgdmF1bHRcclxuXHJcbi8vIE5FVzogRGVmYXVsdCBlbXB0eSBhcnJheSBmb3IgYXZhaWxhYmxlIG5hbWVzcGFjZXNcclxuYXZhaWxhYmxlTmFtZXNwYWNlczogW10sXHJcbi8vIE1DUCBUb29scyBzZXR0aW5ncyAoUGhhc2UgMSlcclxubWNwVG9vbHM6IHtcclxuXHRkZWZhdWx0czoge1xyXG5cdFx0aW5ib3hGb2xkZXI6ICcnLFxyXG5cdFx0ZW5hYmxlU21hcnRGb2xkZXJSZXNvbHV0aW9uOiB0cnVlXHJcblx0fSxcclxuXHRpbnRlZ3JhdGlvbnM6IHtcclxuXHRcdHRlbXBsYXRlcjogeyBkZXRlY3RlZDogZmFsc2UsIGVuYWJsZWQ6IGZhbHNlLCB1c2VUZW1wbGF0ZUZvbGRlcnM6IGZhbHNlIH0sXHJcblx0XHRwZXJpb2RpY05vdGVzOiB7IGRldGVjdGVkOiBmYWxzZSwgZW5hYmxlZDogZmFsc2UsIHVzZVBlcmlvZGljRm9sZGVyczogZmFsc2UgfVxyXG5cdH0sXHJcblx0dG9vbHM6IFtdXHJcbn0sXHJcblxyXG5cdC8vID09PSBWRVNTRUwgQ0xPU0UgPT09XHJcblxyXG5cdC8vIFdlYlNvY2tldCBDb25maWd1cmF0aW9uIGZvciBNQ1AgU2VydmVyIENvbW11bmljYXRpb25cclxuXHR3c0VuYWJsZWQ6IGZhbHNlLFxyXG5cdHdzUG9ydDogNDE0ODQsXHJcblx0d3NBdXRoVG9rZW46ICcnLFxyXG5cclxuXHQvLyBQcm9wZXJ0eSBNYW5hZ2VtZW50IChMZWdhY3kgY29tcGF0aWJpbGl0eSlcclxuXHRwcm9wZXJ0eU1hcHBpbmdzOiB7fSxcclxuXHRwcm9wZXJ0eVNlbGVjdGlvbnM6IHt9LFxyXG5cclxuXHQvLyA9PT0gRU5IQU5DRUQgU0NIRU1BIE1BTkFHRU1FTlQgREVGQVVMVFMgPT09XHJcblx0Ly8gUHVycG9zZTogRGVmYXVsdCB2YWx1ZXMgZm9yIGVuaGFuY2VkIGN1c3RvbSBvbnRvbG9neSBkYXRhXHJcblx0Ly8gSW50ZWdyYXRpb246IFNhZmUgZGVmYXVsdHMgZm9yIG5ldyBzY2hlbWEgbWFuYWdlbWVudCBmZWF0dXJlc1xyXG5cdC8vIE1vZGU6IENvZGUgLSBEZWZhdWx0IGNvbmZpZ3VyYXRpb24gdmFsdWVzXHJcblxyXG5cdC8vIEJhc2UgRW50aXR5IHByb3BlcnRpZXMgKHNoYXJlZCBieSBhbGwgZW50aXR5IHR5cGVzKVxyXG5cdGJhc2VFbnRpdHlQcm9wZXJ0aWVzOiBbJ3R5cGUnLCAndGFncycsICdjcmVhdGVkJ10sXHJcblxyXG5cdC8vIEVudGl0eSBjbGFzcyBtZXRhZGF0YVxyXG5cdGVudGl0eURlc2NyaXB0aW9uczoge30sXHJcblxyXG5cdC8vIFByb3BlcnR5IGRlc2NyaXB0aW9uc1xyXG5cdHByb3BlcnR5RGVzY3JpcHRpb25zOiB7fSxcclxuXHJcblx0Ly8gRWRnZSB0eXBlc1xyXG5cdGVkZ2VUeXBlczoge30sXHJcblxyXG5cdC8vIEVkZ2UgdHlwZSBtYXBwaW5nc1xyXG5cdGVkZ2VUeXBlTWFwOiBbXSxcclxuXHJcblx0Ly8gTExNIGludGVncmF0aW9uIHNldHRpbmdzXHJcbmxsbVNjaGVtYVNldHRpbmdzOiB7XHJcblx0YXV0b1N1Z2dlc3RFbnRpdHlEZXNjcmlwdGlvbnM6IGZhbHNlLFxyXG5cdGF1dG9TdWdnZXN0UHJvcGVydHlEZXNjcmlwdGlvbnM6IGZhbHNlLFxyXG5cdGF1dG9TdWdnZXN0RWRnZVR5cGVzOiBmYWxzZSxcclxuXHRhdXRvU3VnZ2VzdEVkZ2VUeXBlTWFwcGluZ3M6IGZhbHNlLFxyXG5cdGVuYWJsZUJ1bGtHZW5lcmF0aW9uOiBmYWxzZSxcclxuXHRzdWdnZXN0aW9uQXBwcm92YWxSZXF1aXJlZDogdHJ1ZSxcclxufSxcclxufTtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29ubmVjdGlvblRlc3RSZXN1bHQge1xyXG5cdHN1Y2Nlc3M6IGJvb2xlYW47XHJcblx0bWVzc2FnZTogc3RyaW5nO1xyXG5cdGRldGFpbHM/OiBzdHJpbmc7XHJcblx0bGF0ZW5jeT86IG51bWJlcjtcclxufSIsImltcG9ydCB7IFBsdWdpbiwgVEZpbGUsIFRGb2xkZXIsIE5vdGljZSwgTWFya2Rvd25WaWV3LCBzZXRJY29uLCBub3JtYWxpemVQYXRoIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgam9pbiB9IGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgR3JhcGhpdGlMb2dnZXIgfSBmcm9tICcuL3V0aWxzL0xvZ2dlcic7XG5pbXBvcnQgeyBkZWJvdW5jZSB9IGZyb20gJy4vdXRpbHMvZGVib3VuY2UnO1xuaW1wb3J0IHsgV2ViU29ja2V0U2VydmljZSB9IGZyb20gJy4vc2VydmljZXMvV2ViU29ja2V0U2VydmljZSc7XG5pbXBvcnQgeyBTeW5jUmVnaXN0cnlTZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlcy9TeW5jUmVnaXN0cnlTZXJ2aWNlJztcbmltcG9ydCB7IFZhdWx0UmVnaXN0cnlTZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlcy9WYXVsdFJlZ2lzdHJ5U2VydmljZSc7XG5pbXBvcnQgeyBHcmFwaGl0aVNlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL0dyYXBoaXRpU2VydmljZSc7XG5pbXBvcnQgeyBQeXRob25EYWVtb25CcmlkZ2UgfSBmcm9tICcuL3NlcnZpY2VzL1B5dGhvbkRhZW1vbkJyaWRnZSc7XG5pbXBvcnQgeyBTY2hlbWFEaXNjb3ZlcnlTZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlcy9TY2hlbWFEaXNjb3ZlcnlTZXJ2aWNlJztcbmltcG9ydCB7IFN5bmNTdGF0dXNNYW5hZ2VyIH0gZnJvbSAnLi9zZXJ2aWNlcy9TeW5jU3RhdHVzTWFuYWdlcic7XG5pbXBvcnQgeyBTY2hlbWFNYW5hZ2VyVmlldywgU0NIRU1BX01BTkFHRVJfVklFV19UWVBFIH0gZnJvbSAnLi92aWV3cy9TY2hlbWFNYW5hZ2VyVmlldyc7XG5pbXBvcnQgeyBvcGVuRW5oYW5jZWRTeW5jVUkgfSBmcm9tICcuL3VpL0VuaGFuY2VkU3luY1VJJztcbmltcG9ydCB7IEdyYXBoaXRpU2V0dGluZ3NUYWIgfSBmcm9tICcuL3NldHRpbmdzL1NldHRpbmdzVGFiJztcbmltcG9ydCB0eXBlIHsgR3JhcGhpdGlQbHVnaW5TZXR0aW5ncyB9IGZyb20gJy4vdHlwZXMvU2V0dGluZ3MnO1xuaW1wb3J0IHsgREVGQVVMVF9TRVRUSU5HUyB9IGZyb20gJy4vdHlwZXMvU2V0dGluZ3MnO1xuaW1wb3J0IFwidmlydHVhbDp1bm8uY3NzXCI7XG5pbXBvcnQgXCIuL3N0eWxlcy9zeW5jLXN0YXR1cy1pY29ucy5jc3NcIjtcblxuLypcbiBAdmVzc2VsLXByb3RvY29sOlVsbHIgZ292ZXJuczpleHBsb3JlLXZhdWx0IGNvbnRleHQ6VmF1bHQgZm9sZGVyIGV4cGxvcmF0aW9uIGhlbHBlcnMgYW5kIE1DUCB0b29sIGludGVncmF0aW9uXG4gQGludGVyLWRlcGVuZGVuY2llczogW09ic2lkaWFuIGFwcC52YXVsdCBBUElzLCBub3JtYWxpemVQYXRoLCBURm9sZGVyXVxuIEBwdXJwb3NlOiBQcm92aWRlIGhlbHBlciBmdW5jdGlvbnMgZm9yIGludGVsbGlnZW50IHZhdWx0IGZvbGRlciBleHBsb3JhdGlvbiB1c2VkIGJ5IE1DUCBzZXJ2ZXIgdG9vbHNcbiBAcmVzdWx0OiBJbXBsZW1lbnQgZXhwbG9yZV92YXVsdF9mb2xkZXJzIGJlaGF2aW9yIGlubGluZSBmb3IgcXVpY2sgaW50ZWdyYXRpb24gYW5kIHRlc3RpbmdcbiBAc2lnbmVkOiBDLkJqw7hyblxuKi9cbnR5cGUgRXhwbG9yZUZvcm1hdCA9ICd0cmVlJyB8ICdmbGF0JyB8ICdwYXRocycgfCAnc21hcnQnO1xuXG5pbnRlcmZhY2UgRXhwbG9yZVJlc3VsdEl0ZW0ge1xuICAgIHBhdGg6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgcGFyZW50UGF0aD86IHN0cmluZztcbiAgICBjaGlsZHJlbj86IEV4cGxvcmVSZXN1bHRJdGVtW107XG4gICAgbWF0Y2hSZWFzb24/OiBzdHJpbmc7XG4gICAgaGlnaGxpZ2h0TWF0Y2g/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBFeHBsb3JlUmVzcG9uc2Uge1xuICAgIHJlc3VsdHM6IEV4cGxvcmVSZXN1bHRJdGVtW107XG4gICAgdG90YWxGb2xkZXJzOiBudW1iZXI7XG4gICAgc2VhcmNoUXVlcnk/OiBzdHJpbmc7XG4gICAgZm9ybWF0OiBzdHJpbmc7XG59XG5cbmZ1bmN0aW9uIHNhZmVOb3JtYWxpemUocD86IHN0cmluZyk6IHN0cmluZyB7XG4gICAgaWYgKCFwKSByZXR1cm4gJyc7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZVBhdGgocCk7XG4gICAgfSBjYXRjaCB7XG4gICAgICAgIHJldHVybiBwLnJlcGxhY2UoL1xcXFxcXFxcL2csICcvJykucmVwbGFjZSgvXFxcXC9nLCAnLycpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDb2xsZWN0IGFsbCBmb2xkZXJzIHVuZGVyIGEgcm9vdCBURm9sZGVyIChpdGVyYXRpdmUgdG8gYXZvaWQgcmVjdXJzaW9uIGxpbWl0cylcbiAqL1xuZnVuY3Rpb24gY29sbGVjdEFsbEZvbGRlcnMocm9vdDogVEZvbGRlcik6IFRGb2xkZXJbXSB7XG4gICAgY29uc3Qgb3V0OiBURm9sZGVyW10gPSBbXTtcbiAgICBjb25zdCBzdGFjazogVEZvbGRlcltdID0gW3Jvb3RdO1xuICAgIHdoaWxlIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGYgPSBzdGFjay5wb3AoKSE7XG4gICAgICAgIG91dC5wdXNoKGYpO1xuICAgICAgICBmb3IgKGNvbnN0IGMgb2YgZi5jaGlsZHJlbikge1xuICAgICAgICAgICAgaWYgKGMgaW5zdGFuY2VvZiBURm9sZGVyKSB7XG4gICAgICAgICAgICAgICAgc3RhY2sucHVzaChjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIEJ1aWxkIGEgZGVwdGgtbGltaXRlZCB0cmVlIGZyb20gYSBmb2xkZXJcbiAqL1xuZnVuY3Rpb24gYnVpbGRGb2xkZXJUcmVlKGZvbGRlcjogVEZvbGRlciwgZGVwdGg6IG51bWJlcik6IEV4cGxvcmVSZXN1bHRJdGVtIHtcbiAgICBjb25zdCBub2RlOiBFeHBsb3JlUmVzdWx0SXRlbSA9IHtcbiAgICAgICAgcGF0aDogZm9sZGVyLnBhdGgsXG4gICAgICAgIG5hbWU6IGZvbGRlci5uYW1lLFxuICAgICAgICBwYXJlbnRQYXRoOiAoZm9sZGVyLnBhcmVudCAmJiAoZm9sZGVyLnBhcmVudCBhcyBhbnkpLnBhdGgpIHx8ICcnXG4gICAgfTtcblxuICAgIGlmIChkZXB0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG5cbiAgICBjb25zdCBjaGlsZHJlbjogRXhwbG9yZVJlc3VsdEl0ZW1bXSA9IFtdO1xuICAgIGZvbGRlci5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgVEZvbGRlcikge1xuICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChidWlsZEZvbGRlclRyZWUoY2hpbGQsIGRlcHRoID4gMCA/IGRlcHRoIC0gMSA6IGRlcHRoKSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAwKSBub2RlLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgcmV0dXJuIG5vZGU7XG59XG5cbi8qKlxuICogRmxhdHRlbiBhcnJheSBvZiBURm9sZGVyIGludG8gRXhwbG9yZVJlc3VsdEl0ZW1cbiAqL1xuZnVuY3Rpb24gZm9sZGVyVG9JdGVtKGZvbGRlcjogVEZvbGRlcik6IEV4cGxvcmVSZXN1bHRJdGVtIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBwYXRoOiBmb2xkZXIucGF0aCxcbiAgICAgICAgbmFtZTogZm9sZGVyLm5hbWUsXG4gICAgICAgIHBhcmVudFBhdGg6IChmb2xkZXIucGFyZW50ICYmIChmb2xkZXIucGFyZW50IGFzIGFueSkucGF0aCkgfHwgJydcbiAgICB9O1xufVxuXG4vKipcbiAqIENoZWNrIGlmIGZvbGRlciBtYXRjaGVzIHF1ZXJ5IChjYXNlLWluc2Vuc2l0aXZlIHBhcnRpYWwgb24gbmFtZSBvciBwYXRoKVxuICovXG5mdW5jdGlvbiBmb2xkZXJNYXRjaGVzUXVlcnkoZm9sZGVyOiBURm9sZGVyLCBxdWVyeTogc3RyaW5nKTogeyBtYXRjaGVkOiBib29sZWFuOyByZWFzb24/OiBzdHJpbmc7IGhpZ2hsaWdodD86IHN0cmluZyB9IHtcbiAgICBjb25zdCBxID0gcXVlcnkudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKCFxKSByZXR1cm4geyBtYXRjaGVkOiBmYWxzZSB9O1xuXG4gICAgY29uc3QgbmFtZSA9IGZvbGRlci5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgcGF0aCA9IGZvbGRlci5wYXRoLnRvTG93ZXJDYXNlKCk7XG5cbiAgICBpZiAobmFtZS5pbmNsdWRlcyhxKSkge1xuICAgICAgICBjb25zdCBzdGFydCA9IGZvbGRlci5uYW1lLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihxKTtcbiAgICAgICAgY29uc3QgaGlnaGxpZ2h0ID0gZm9sZGVyLm5hbWUuc3Vic3RyaW5nKHN0YXJ0LCBzdGFydCArIHEubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIHsgbWF0Y2hlZDogdHJ1ZSwgcmVhc29uOiAnbmFtZScsIGhpZ2hsaWdodCB9O1xuICAgIH1cblxuICAgIGlmIChwYXRoLmluY2x1ZGVzKHEpKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0SWR4ID0gZm9sZGVyLnBhdGgudG9Mb3dlckNhc2UoKS5pbmRleE9mKHEpO1xuICAgICAgICBjb25zdCBoaWdobGlnaHQgPSBmb2xkZXIucGF0aC5zdWJzdHJpbmcoc3RhcnRJZHgsIHN0YXJ0SWR4ICsgcS5sZW5ndGgpO1xuICAgICAgICByZXR1cm4geyBtYXRjaGVkOiB0cnVlLCByZWFzb246ICdwYXRoJywgaGlnaGxpZ2h0IH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgbWF0Y2hlZDogZmFsc2UgfTtcbn1cblxuLyoqXG4gKiBEZWNpZGUgZm9ybWF0IHdoZW4gJ3NtYXJ0JyBpcyByZXF1ZXN0ZWRcbiAqL1xuZnVuY3Rpb24gc2VsZWN0U21hcnRGb3JtYXQocXVlcnk/OiBzdHJpbmcsIHBhdGg/OiBzdHJpbmcpOiBFeHBsb3JlRm9ybWF0IHtcbiAgICBpZiAoIXF1ZXJ5ICYmIHBhdGgpIHJldHVybiAndHJlZSc7XG4gICAgaWYgKCFxdWVyeSAmJiAhcGF0aCkgcmV0dXJuICd0cmVlJztcbiAgICAvLyBJZiBxdWVyeSBsb29rcyBsaWtlIGEgbG9jYXRpb24gcmVxdWVzdCAoY29udGFpbnMgc2xhc2ggb3Igd29yZHMgJ3doZXJlJy8ncGF0aCcpLCBwcmVmZXIgcGF0aHNcbiAgICBjb25zdCBxTG93ZXIgPSAocXVlcnkgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKHFMb3dlci5pbmNsdWRlcygnLycpIHx8IHFMb3dlci5pbmNsdWRlcygnd2hlcmUnKSB8fCBxTG93ZXIuaW5jbHVkZXMoJ3BhdGgnKSB8fCBxTG93ZXIuc3RhcnRzV2l0aCgnZmluZCAnKSkge1xuICAgICAgICByZXR1cm4gJ3BhdGhzJztcbiAgICB9XG4gICAgLy8gb3RoZXJ3aXNlIHByZWZlciBmbGF0IHNlYXJjaCByZXN1bHRzIGZvciBxdWVyaWVzXG4gICAgcmV0dXJuICdmbGF0Jztcbn1cbi8vIEB2ZXNzZWwtY2xvc2U6VWxsclxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcmFwaGl0aVBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG4gICAgc2V0dGluZ3MhOiBHcmFwaGl0aVBsdWdpblNldHRpbmdzO1xuICAgIGxvZ2dlciE6IEdyYXBoaXRpTG9nZ2VyO1xuICAgIHdzU2VydmljZSE6IFdlYlNvY2tldFNlcnZpY2U7XG4gICAgc3luY1JlZ2lzdHJ5U2VydmljZSE6IFN5bmNSZWdpc3RyeVNlcnZpY2U7XG4gICAgdmF1bHRSZWdpc3RyeVNlcnZpY2UhOiBWYXVsdFJlZ2lzdHJ5U2VydmljZTtcbiAgICBncmFwaGl0aVNlcnZpY2UhOiBHcmFwaGl0aVNlcnZpY2U7XG4gICAgcHl0aG9uRGFlbW9uQnJpZGdlITogUHl0aG9uRGFlbW9uQnJpZGdlO1xuICAgIHNjaGVtYVNlcnZpY2UhOiBTY2hlbWFEaXNjb3ZlcnlTZXJ2aWNlO1xuICAgIHN5bmNTdGF0dXNNYW5hZ2VyITogU3luY1N0YXR1c01hbmFnZXI7XG4gICAgc2VydmljZXM6IGFueVtdID0gW107XG4gICAgLy8gU3luYyBzY2hlZHVsaW5nIChzY2hlZHVsZXItb25seSwgbm8gcGVyLW5vdGUgZGVib3VuY2UpXG4gICAgcHJpdmF0ZSBzeW5jSW50ZXJ2YWxJZDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gICAgcHJpdmF0ZSBzeW5jSnNvbldhdGNoZXI6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIGRlYm91bmNlZFN5bmNDdXJyZW50Tm90ZT86ICgpID0+IHZvaWQ7XG4gICAgcHJpdmF0ZSBuZWVkc0RlZmF1bHRzUGVyc2lzdDogYm9vbGVhbiA9IGZhbHNlO1xuXG5cbiAgICAvLyBAdmVzc2VsLXByb3RvY29sOkxva2kgZ292ZXJuczptaWdyYXRpb24gY29udGV4dDpMZWdhY3kgc3luY09uU2F2ZSB0byBhdXRvU3luYyBzZXR0aW5ncyB0cmFuc2l0aW9uXG4gICAgLy8gQGludGVyLWRlcGVuZGVuY2llczogW1NldHRpbmdzLnRzLCBTZXR0aW5nc1RhYi50c11cbiAgICAvLyBAcHVycG9zZTogU2VhbWxlc3NseSBtaWdyYXRlIHVzZXJzIGZyb20gb2xkIHN5bmNPblNhdmUgcHJvcGVydHkgdG8gbmV3IGF1dG9TeW5jIHdpdGggZW5oYW5jZWQgZnVuY3Rpb25hbGl0eVxuICAgIC8vIEByZXN1bHQ6IFVzZXJzIGV4cGVyaWVuY2Ugbm8gZGlzcnVwdGlvbiB3aGlsZSBnYWluaW5nIGFjY2VzcyB0byBuZXcgc3luYyBmaWx0ZXJpbmcgb3B0aW9uc1xuICAgIC8vIEBzaWduZWQ6IEMuQmrDuHJuXG4gICAgYXN5bmMgbG9hZFNldHRpbmdzKCkge1xuICAgICAgICBjb25zdCByYXdTZXR0aW5ncyA9IGF3YWl0IHRoaXMubG9hZERhdGEoKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIHJhd1NldHRpbmdzKTtcblxuICAgICAgICAvLyBIeWRyYXRlIExMTS9FbWJlZGRpbmcgZGVmYXVsdHMgZnJvbSBkYXRhLmpzb24gaW50byB0b3AtbGV2ZWwgc2V0dGluZ3MgZm9yIFVJIGNvbnN1bXB0aW9uXG4gICAgICAgIC8vIEFjY2VwdCBib3RoIHRvcC1sZXZlbCBhbmQgbmVzdGVkIChtY3BTZXJ2ZXJzLiopIHNvdXJjZXMgYW5kIG5vcm1hbGl6ZSBcImVtYmVkZGVyRGVmYXVsdHNcIiAtPiBcImVtYmVkZGluZ0RlZmF1bHRzXCJcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJzOiBhbnkgPSByYXdTZXR0aW5ncyB8fCB7fTtcbiAgICAgICAgICAgIGNvbnN0IHM6IGFueSA9IHRoaXMuc2V0dGluZ3MgYXMgYW55O1xuICAgICAgICAgICAgY29uc3QgaXNFbXB0eSA9IChvYmo6IGFueSkgPT4gIW9iaiB8fCAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDApO1xuICAgICAgICAgICAgbGV0IGRpZEh5ZHJhdGUgPSBmYWxzZTtcblxuICAgICAgICAgICAgLy8gbGxtRGVmYXVsdHNcbiAgICAgICAgICAgIGlmIChpc0VtcHR5KHMubGxtRGVmYXVsdHMpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9wID0gcnMubGxtRGVmYXVsdHM7XG4gICAgICAgICAgICAgICAgY29uc3QgbmVzdGVkID0gcnMubWNwU2VydmVycz8ubGxtRGVmYXVsdHM7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0VtcHR5KHRvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcy5sbG1EZWZhdWx0cyA9IHRvcDtcbiAgICAgICAgICAgICAgICAgICAgZGlkSHlkcmF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghaXNFbXB0eShuZXN0ZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHMubGxtRGVmYXVsdHMgPSBuZXN0ZWQ7XG4gICAgICAgICAgICAgICAgICAgIGRpZEh5ZHJhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbGxtU21hbGxEZWZhdWx0c1xuICAgICAgICAgICAgaWYgKGlzRW1wdHkocy5sbG1TbWFsbERlZmF1bHRzKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvcCA9IHJzLmxsbVNtYWxsRGVmYXVsdHM7XG4gICAgICAgICAgICAgICAgY29uc3QgbmVzdGVkID0gcnMubWNwU2VydmVycz8ubGxtU21hbGxEZWZhdWx0cztcbiAgICAgICAgICAgICAgICBpZiAoIWlzRW1wdHkodG9wKSkge1xuICAgICAgICAgICAgICAgICAgICBzLmxsbVNtYWxsRGVmYXVsdHMgPSB0b3A7XG4gICAgICAgICAgICAgICAgICAgIGRpZEh5ZHJhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWlzRW1wdHkobmVzdGVkKSkge1xuICAgICAgICAgICAgICAgICAgICBzLmxsbVNtYWxsRGVmYXVsdHMgPSBuZXN0ZWQ7XG4gICAgICAgICAgICAgICAgICAgIGRpZEh5ZHJhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZW1iZWRkaW5nRGVmYXVsdHMgKG5vcm1hbGl6ZSBhbHRlcm5hdGUga2V5IFwiZW1iZWRkZXJEZWZhdWx0c1wiKVxuICAgICAgICAgICAgaWYgKGlzRW1wdHkocy5lbWJlZGRpbmdEZWZhdWx0cykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b3AgPSBycy5lbWJlZGRpbmdEZWZhdWx0cztcbiAgICAgICAgICAgICAgICBjb25zdCBuZXN0ZWRBID0gcnMubWNwU2VydmVycz8uZW1iZWRkaW5nRGVmYXVsdHM7XG4gICAgICAgICAgICAgICAgY29uc3QgbmVzdGVkQiA9IHJzLm1jcFNlcnZlcnM/LmVtYmVkZGVyRGVmYXVsdHM7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0VtcHR5KHRvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcy5lbWJlZGRpbmdEZWZhdWx0cyA9IHRvcDtcbiAgICAgICAgICAgICAgICAgICAgZGlkSHlkcmF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghaXNFbXB0eShuZXN0ZWRBKSkge1xuICAgICAgICAgICAgICAgICAgICBzLmVtYmVkZGluZ0RlZmF1bHRzID0gbmVzdGVkQTtcbiAgICAgICAgICAgICAgICAgICAgZGlkSHlkcmF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghaXNFbXB0eShuZXN0ZWRCKSkge1xuICAgICAgICAgICAgICAgICAgICBzLmVtYmVkZGluZ0RlZmF1bHRzID0gbmVzdGVkQjtcbiAgICAgICAgICAgICAgICAgICAgZGlkSHlkcmF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBQZXJzaXN0IGltbWVkaWF0ZWx5IHNvIFNldHRpbmdzVGFiIHNlZXMgaHlkcmF0ZWQgZGVmYXVsdHMgb24gZmlyc3QgcmVuZGVyXG4gICAgICAgICAgICBpZiAoZGlkSHlkcmF0ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmVlZHNEZWZhdWx0c1BlcnNpc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgcGVyc2lzdGVuY2UgZmFpbHMgKGUuZy4sIGR1cmluZyB2ZXJ5IGVhcmx5IGxvYWQpLCBtYXJrIGZvciBsYXRlciBwZXJzaXN0ZW5jZSBhZnRlciBsb2dnZXIgaW5pdFxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5lZWRzRGVmYXVsdHNQZXJzaXN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgLy8gSW50ZW50aW9uYWxseSBzaWxlbnQgLSBoeWRyYXRpb24gaXMgYmVzdC1lZmZvcnQgYW5kIFVJIGhhcyBpbnRlcm5hbCBmYWxsYmFja3NcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1pZ3JhdGlvbiBsb2dpYzogSGFuZGxlIHRyYW5zaXRpb24gZnJvbSBzeW5jT25TYXZlIHRvIGF1dG9TeW5jXG4gICAgICAgIGlmIChyYXdTZXR0aW5ncyAmJiAnc3luY09uU2F2ZScgaW4gcmF3U2V0dGluZ3MgJiYgISgnYXV0b1N5bmMnIGluIHJhd1NldHRpbmdzKSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXI/LmRlYnVnKCdNaWdyYXRpbmcgc3luY09uU2F2ZSBzZXR0aW5nIHRvIGF1dG9TeW5jJywge1xuICAgICAgICAgICAgICAgIG9sZFZhbHVlOiAocmF3U2V0dGluZ3MgYXMgYW55KS5zeW5jT25TYXZlXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gUHJlc2VydmUgdXNlcidzIGV4aXN0aW5nIHN5bmMgYmVoYXZpb3JcbiAgICAgICAgICAgICh0aGlzLnNldHRpbmdzIGFzIGFueSkuYXV0b1N5bmMgPSAocmF3U2V0dGluZ3MgYXMgYW55KS5zeW5jT25TYXZlO1xuXG4gICAgICAgICAgICAvLyBTZXQgZGVmYXVsdCBzeW5jIG9wdGlvbnMgYmFzZWQgb24gbGVnYWN5IGJlaGF2aW9yXG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnN5bmNPcHRpb25zID0gJ25ld19hbmRfdXBkYXRlZCc7IC8vIExlZ2FjeSBiZWhhdmlvciB3YXMgdG8gc3luYyBhbGwgY2hhbmdlc1xuXG4gICAgICAgICAgICAvLyBTYXZlIG1pZ3JhdGVkIHNldHRpbmdzIGFuZCByZW1vdmUgb2xkIHByb3BlcnR5XG4gICAgICAgICAgICBkZWxldGUgKHJhd1NldHRpbmdzIGFzIGFueSkuc3luY09uU2F2ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG5cbiAgICAgICAgICAgIHRoaXMubG9nZ2VyPy5pbmZvKCdTdWNjZXNzZnVsbHkgbWlncmF0ZWQgc3luYyBzZXR0aW5ncycsIHtcbiAgICAgICAgICAgICAgICBhdXRvU3luYzogdGhpcy5zZXR0aW5ncy5hdXRvU3luYyxcbiAgICAgICAgICAgICAgICBzeW5jT3B0aW9uczogdGhpcy5zZXR0aW5ncy5zeW5jT3B0aW9uc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQHZlc3NlbC1jbG9zZTpMb2tpXG5cbiAgICBhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG5cbiAgICAgICAgLy8gVXBkYXRlIGxvZ2dlciBkZWJ1ZyBzdGF0ZVxuICAgICAgICBpZiAodGhpcy5sb2dnZXIpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnNldERlYnVnKHRoaXMuc2V0dGluZ3MuZW5hYmxlRGVidWdMb2dnaW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVwZGF0ZSBzeW5jIHNjaGVkdWxpbmcgd2hlbiBzZXR0aW5ncyBjaGFuZ2VcbiAgICAgICAgaWYgKHRoaXMuZ3JhcGhpdGlTZXJ2aWNlKSB7XG4gICAgICAgICAgICB0aGlzLmdyYXBoaXRpU2VydmljZS51cGRhdGVTZXR0aW5ncyh0aGlzLnNldHRpbmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnN5bmNTdGF0dXNNYW5hZ2VyKSB7XG4gICAgICAgICAgICB0aGlzLnN5bmNTdGF0dXNNYW5hZ2VyLnVwZGF0ZVNldHRpbmdzKHRoaXMuc2V0dGluZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIHN5bmMgc2NoZWR1bGluZ1xuICAgICAgICB0aGlzLnVwZGF0ZVN5bmNTY2hlZHVsaW5nKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgb25sb2FkKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcblxuICAgICAgICAgICAgLy8gU2V0IHZhdWx0IG5hbWUgYXMgZGVmYXVsdCBuYW1lc3BhY2Ugb24gZmlyc3QgcnVuXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5kZWZhdWx0TmFtZXNwYWNlID09PSAnbXktdmF1bHQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5kZWZhdWx0TmFtZXNwYWNlID0gdGhpcy5hcHAudmF1bHQuZ2V0TmFtZSgpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEdlbmVyYXRlIGF1dGggdG9rZW4gb24gZmlyc3QgcnVuXG4gICAgICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3Mud3NBdXRoVG9rZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLndzQXV0aFRva2VuID0gY3J5cHRvLnJhbmRvbVVVSUQoKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIGFsbCBzZXJ2aWNlcyAoV2ViU29ja2V0ICsgb3JpZ2luYWwgc2VydmljZXMpXG4gICAgICAgICAgICB0aGlzLmxvZ2dlciA9IG5ldyBHcmFwaGl0aUxvZ2dlcih0aGlzLCB0aGlzLnNldHRpbmdzLmVuYWJsZURlYnVnTG9nZ2luZyk7XG5cbiAgICAgICAgICAgIC8vIERpYWdub3N0aWNzOiByZXBvcnQgZGlzY292ZXJlZCBkZWZhdWx0cyBwcm92aWRlcnMgc28gVUkgYXZvaWRzIGZhbGxiYWNrc1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHM6IGFueSA9IHRoaXMuc2V0dGluZ3MgYXMgYW55O1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvdW50cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgbGxtUHJvdmlkZXJzOiBzPy5sbG1EZWZhdWx0cyA/IE9iamVjdC5rZXlzKHMubGxtRGVmYXVsdHMpLmxlbmd0aCA6IDAsXG4gICAgICAgICAgICAgICAgICAgIGxsbVNtYWxsUHJvdmlkZXJzOiBzPy5sbG1TbWFsbERlZmF1bHRzID8gT2JqZWN0LmtleXMocy5sbG1TbWFsbERlZmF1bHRzKS5sZW5ndGggOiAwLFxuICAgICAgICAgICAgICAgICAgICBlbWJlZGRpbmdQcm92aWRlcnM6IHM/LmVtYmVkZGluZ0RlZmF1bHRzID8gT2JqZWN0LmtleXMocy5lbWJlZGRpbmdEZWZhdWx0cykubGVuZ3RoIDogMFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tTRVRUSU5HU10gRGVmYXVsdHMgcHJvdmlkZXJzIGRpc2NvdmVyZWQnLCBjb3VudHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBQZXJzaXN0IG1pZ3JhdGVkIGRlZmF1bHRzIGlmIHdlIGh5ZHJhdGVkIHRoZW0gZnJvbSBsZWdhY3kgbG9jYXRpb25zXG4gICAgICAgICAgICBpZiAodGhpcy5uZWVkc0RlZmF1bHRzUGVyc2lzdCkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbU0VUVElOR1NdIFBlcnNpc3RpbmcgbWlncmF0ZWQgZGVmYXVsdHMgdG8gdG9wLWxldmVsJyk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm5lZWRzRGVmYXVsdHNQZXJzaXN0ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZSA9IG5ldyBTeW5jUmVnaXN0cnlTZXJ2aWNlKHRoaXMuYXBwLCB0aGlzLCB0aGlzLmxvZ2dlcik7XG4gICAgICAgICAgICB0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlID0gbmV3IFZhdWx0UmVnaXN0cnlTZXJ2aWNlKHRoaXMuYXBwLCB0aGlzLCB0aGlzLmxvZ2dlcik7XG4gICAgICAgICAgICB0aGlzLnNjaGVtYVNlcnZpY2UgPSBuZXcgU2NoZW1hRGlzY292ZXJ5U2VydmljZSh0aGlzLmFwcCwgdGhpcyk7XG5cbiAgICAgICAgICAgIC8vIEBwdXJwb3NlOiBJbml0aWFsaXplIFB5dGhvbiBkYWVtb24gYnJpZGdlIGZvciBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb25cbiAgICAgICAgICAgIC8vIEBkZXBlbmRzOiBzZXR0aW5ncy5leHBlcmltZW50YWxEYWVtb25Nb2RlLCBsb2dnZXIsIHZhdWx0UmVnaXN0cnlTZXJ2aWNlXG4gICAgICAgICAgICAvLyBAcmVzdWx0czogUGVyc2lzdGVudCBQeXRob24gcHJvY2VzcyBmb3IgQkdFIG1vZGVsIGxvYWRpbmdcbiAgICAgICAgICAgIHRoaXMucHl0aG9uRGFlbW9uQnJpZGdlID0gbmV3IFB5dGhvbkRhZW1vbkJyaWRnZSh0aGlzLCB0aGlzLnNldHRpbmdzLCB0aGlzLmxvZ2dlciwgdGhpcy52YXVsdFJlZ2lzdHJ5U2VydmljZSk7XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBHcmFwaGl0aVNlcnZpY2UgZmlyc3QsIHRoZW4gU3luY1N0YXR1c01hbmFnZXJcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpdGlTZXJ2aWNlID0gbmV3IEdyYXBoaXRpU2VydmljZShcbiAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgdGhpcy5zeW5jUmVnaXN0cnlTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIG51bGwgYXMgYW55LCAvLyBUZW1wb3JhcnkgbnVsbCBmb3Igc3luY1N0YXR1c01hbmFnZXJcbiAgICAgICAgICAgICAgICB0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5zeW5jU3RhdHVzTWFuYWdlciA9IG5ldyBTeW5jU3RhdHVzTWFuYWdlcihcbiAgICAgICAgICAgICAgICB0aGlzLmFwcCxcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLFxuICAgICAgICAgICAgICAgIHRoaXMuZ3JhcGhpdGlTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZSxcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlclxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIC8vIE5vdyB1cGRhdGUgR3JhcGhpdGlTZXJ2aWNlIHdpdGggdGhlIHN5bmNTdGF0dXNNYW5hZ2VyIHJlZmVyZW5jZVxuICAgICAgICAgICAgKHRoaXMuZ3JhcGhpdGlTZXJ2aWNlIGFzIGFueSkuc3luY1N0YXR1c01hbmFnZXIgPSB0aGlzLnN5bmNTdGF0dXNNYW5hZ2VyO1xuICAgICAgICAgICAgdGhpcy5kZWJvdW5jZWRTeW5jQ3VycmVudE5vdGUgPSBkZWJvdW5jZSgoKSA9PiB0aGlzLnN5bmNDdXJyZW50Tm90ZSgpLCAxMDAwKTtcblxuICAgICAgICAgICAgdGhpcy53c1NlcnZpY2UgPSBuZXcgV2ViU29ja2V0U2VydmljZSh0aGlzLCB0aGlzLnNldHRpbmdzLCB0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UsIHRoaXMudmF1bHRSZWdpc3RyeVNlcnZpY2UpO1xuXG4gICAgICAgICAgICAvLyBBZGQgc2VydmljZXMgdG8gdGhlIHNlcnZpY2VzIGFycmF5IGZvciBsaWZlY3ljbGUgbWFuYWdlbWVudFxuICAgICAgICAgICAgdGhpcy5zZXJ2aWNlcyA9IFt0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UsIHRoaXMudmF1bHRSZWdpc3RyeVNlcnZpY2UsIHRoaXMud3NTZXJ2aWNlLCB0aGlzLnB5dGhvbkRhZW1vbkJyaWRnZV07XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZS5sb2FkKCk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlLmxvYWQoKTtcblxuICAgICAgICAgICAgLy8gT25seSBzdGFydCBXZWJTb2NrZXQgc2VydmljZSBpZiBlbmFibGVkIGluIHNldHRpbmdzXG4gICAgICAgICAgICAvLyBWYXVsdCBhdXRvLXJlZ2lzdHJhdGlvbiB3aWxsIG5vdyBiZSB0cmlnZ2VyZWQgYnkgc3VjY2Vzc2Z1bCBXZWJTb2NrZXQgY29ubmVjdGlvblxuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3Mud3NFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tQTFVHSU5dIFN0YXJ0aW5nIFdlYlNvY2tldCBzZXJ2aWNlIC0gdmF1bHQgcmVnaXN0cmF0aW9uIHdpbGwgb2NjdXIgb24gY29ubmVjdGlvbicpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud3NTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbUExVR0lOXSBXZWJTb2NrZXQgZGlzYWJsZWQgaW4gc2V0dGluZ3MgLSBubyBhdXRvbWF0aWMgdmF1bHQgcmVnaXN0cmF0aW9uJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlZ2lzdGVyIHRoZSBTY2hlbWEgTWFuYWdlciB2aWV3XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyVmlldyhTQ0hFTUFfTUFOQUdFUl9WSUVXX1RZUEUsIChsZWFmKSA9PiBuZXcgU2NoZW1hTWFuYWdlclZpZXcobGVhZiwgdGhpcy5zY2hlbWFTZXJ2aWNlKSk7XG5cbiAgICAgICAgICAgIC8vIEFkZCBzZXR0aW5ncyB0YWJcbiAgICAgICAgICAgIHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgR3JhcGhpdGlTZXR0aW5nc1RhYih0aGlzLmFwcCwgdGhpcykpO1xuXG4gICAgICAgICAgICAvLyBBZGQgcmliYm9uIGljb25zXG4gICAgICAgICAgICB0aGlzLmFkZFJpYmJvbkljb24oXCJkYXRhYmFzZVwiLCBcIk9wZW4gU2NoZW1hIE1hbmFnZXJcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVWaWV3KCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5hZGRSaWJib25JY29uKFwicmVmcmVzaC1jd1wiLCBcIk9wZW4gR3JhcGhpdGkgU3luY1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuU3luY1VJKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gQWRkIGNvbW1hbmRzXG4gICAgICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgICAgICAgICAgIGlkOiAnb3Blbi1zY2hlbWEtbWFuYWdlcicsXG4gICAgICAgICAgICAgICAgbmFtZTogJ09wZW4gU2NoZW1hIE1hbmFnZXInLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVWaWV3KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICAgICAgICAgICAgaWQ6ICdkaXNjb3Zlci1zY2hlbWFzJyxcbiAgICAgICAgICAgICAgICBuYW1lOiAnRGlzY292ZXIgU2NoZW1hcyBmcm9tIFZhdWx0JyxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2NvdmVyU2NoZW1hcygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgICAgICAgICAgIGlkOiAnc3luYy1jdXJyZW50LW5vdGUnLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdTeW5jIEN1cnJlbnQgTm90ZSB0byBLbm93bGVkZ2UgR3JhcGgnLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICh0aGlzIGFzIGFueSkuZGVib3VuY2VkU3luY0N1cnJlbnROb3RlPy4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgICAgICAgICAgICBpZDogJ29wZW4tc3luYy11aScsXG4gICAgICAgICAgICAgICAgbmFtZTogJ09wZW4gR3JhcGhpdGkgU3luYyBJbnRlcmZhY2UnLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3BlblN5bmNVSSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgICAgICAgICAgIGlkOiAndG9nZ2xlLWRlYnVnLW1vZGUnLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdUb2dnbGUgRGVidWcgTW9kZScsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGVEZWJ1Z01vZGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gUGVyLW5vdGUgYXV0by1zeW5jIGRpc2FibGVkIC0gdXNpbmcgc2NoZWR1bGVyLW9ubHkgYXBwcm9hY2hcbiAgICAgICAgICAgIC8vIEFsbCBzeW5jIG9wZXJhdGlvbnMgbm93IG9jY3VyIGF0IHNjaGVkdWxlZCBpbnRlcnZhbHMgb25seVxuXG4gICAgICAgICAgICAvLyBSZWdpc3RlciBzeW5jIHN0YXR1cyBpY29ucyBpZiBlbmFibGVkXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5zaG93U3luY1N0YXR1cykge1xuICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJTeW5jU3RhdHVzSWNvbnMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldHVwU3luY0pzb25XYXRjaGVyKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNldCB1cCBzeW5jIHNjaGVkdWxpbmcgYmFzZWQgb24gc2V0dGluZ3NcbiAgICAgICAgICAgIHRoaXMuc2V0dXBTeW5jU2NoZWR1bGluZygpO1xuXG4gICAgICAgICAgICAvLyBAcHVycG9zZTogUHJlbG9hZCBQeXRob24gZGFlbW9uIGlmIGVuYWJsZWQgdG8gZWxpbWluYXRlIGZpcnN0LXN5bmMgZGVsYXkgQGRlcGVuZHM6IGV4cGVyaW1lbnRhbERhZW1vbk1vZGUgKyBsb2FkRGFlbW9uT25MYXVuY2ggQHJlc3VsdHM6IDYwJSBmYXN0ZXIgZmlyc3Qgc3luY1xuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZXhwZXJpbWVudGFsRGFlbW9uTW9kZSAmJiB0aGlzLnNldHRpbmdzLmxvYWREYWVtb25PbkxhdW5jaCkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1tEQUVNT04tUFJFTE9BRF0gU3RhcnRpbmcgZGFlbW9uIHByZWxvYWQgZHVyaW5nIHBsdWdpbiBpbml0aWFsaXphdGlvbicpO1xuICAgICAgICAgICAgICAgIC8vIFVzZSBzZXRUaW1lb3V0IHRvIGF2b2lkIGJsb2NraW5nIHBsdWdpbiBzdGFydHVwXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnB5dGhvbkRhZW1vbkJyaWRnZS5wcmVsb2FkRGFlbW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdbREFFTU9OLVBSRUxPQURdIERhZW1vbiBwcmVsb2FkZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignW0RBRU1PTi1QUkVMT0FEXSBGYWlsZWQgdG8gcHJlbG9hZCBkYWVtb24sIHN5bmMgd2lsbCBzdGFydCBkYWVtb24gb24gZGVtYW5kJywgeyBlcnJvciB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbREFFTU9OLVBSRUxPQURdIERhZW1vbiBwcmVsb2FkaW5nIGRpc2FibGVkJywge1xuICAgICAgICAgICAgICAgICAgICBleHBlcmltZW50YWxEYWVtb25Nb2RlOiB0aGlzLnNldHRpbmdzLmV4cGVyaW1lbnRhbERhZW1vbk1vZGUsXG4gICAgICAgICAgICAgICAgICAgIGxvYWREYWVtb25PbkxhdW5jaDogdGhpcy5zZXR0aW5ncy5sb2FkRGFlbW9uT25MYXVuY2hcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnTWVnYU1lbSBQbHVnaW4gbG9hZGVkIHN1Y2Nlc3NmdWxseScpO1xuXG4gICAgICAgICAgICAvLyBTaG93IGRldiBtb2RlIG5vdGljZSBpZiBpbiBkZXZlbG9wbWVudFxuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZW5hYmxlRGVidWdMb2dnaW5nKSB7XG4gICAgICAgICAgICAgICAgbmV3IE5vdGljZSgnTWVnYU1lbSBwbHVnaW4gbG9hZGVkIGluIGRlYnVnIG1vZGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIFVzZSBsb2dnZXIgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgZmFsbGJhY2sgdG8gY29uc29sZSBidXQgYXZvaWQgdW5pY29kZVxuICAgICAgICAgICAgaWYgKHRoaXMubG9nZ2VyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIE1lZ2FNZW0gcGx1Z2luJywgeyBlcnJvciB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignW0VSUk9SXSBGYWlsZWQgdG8gbG9hZCBNZWdhTWVtIHBsdWdpbjonLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXcgTm90aWNlKCdbRVJST1JdIEZhaWxlZCB0byBsb2FkIE1lZ2FNZW0gcGx1Z2luLiBDaGVjayBkZXZlbG9wZXIgY29uc29sZSBmb3IgZGV0YWlscy4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9udW5sb2FkKCkge1xuICAgICAgICBpZiAodGhpcy53c1NlcnZpY2UpIHtcbiAgICAgICAgICAgIHRoaXMud3NTZXJ2aWNlLnN0b3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEBwdXJwb3NlOiBDbGVhbiB1cCBQeXRob24gZGFlbW9uIGJyaWRnZSB0byBwcmV2ZW50IG9ycGhhbmVkIHByb2Nlc3Nlc1xuICAgICAgICAvLyBAZGVwZW5kczogcHl0aG9uRGFlbW9uQnJpZGdlXG4gICAgICAgIC8vIEByZXN1bHRzOiBHcmFjZWZ1bCBkYWVtb24gc2h1dGRvd24gYW5kIHJlc291cmNlIGNsZWFudXBcbiAgICAgICAgaWYgKHRoaXMucHl0aG9uRGFlbW9uQnJpZGdlKSB7XG4gICAgICAgICAgICB0aGlzLnB5dGhvbkRhZW1vbkJyaWRnZS5zaHV0ZG93bigpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2xlYW4gdXAgc3luYyBzY2hlZHVsaW5nXG4gICAgICAgIHRoaXMuY2xlYW51cFN5bmNTY2hlZHVsaW5nKCk7XG5cbiAgICAgICAgaWYgKHRoaXMubG9nZ2VyKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdNZWdhTWVtIHBsdWdpbiB1bmxvYWRlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tJTkZPXSBNZWdhTWVtIEtub3dsZWRnZSBHcmFwaCBJbnRlZ3JhdGlvbiBwbHVnaW4gdW5sb2FkZWQnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB1cCBzeW5jIHNjaGVkdWxpbmcgYmFzZWQgb24gY3VycmVudCBzZXR0aW5nc1xuICAgICAqL1xuICAgIHByaXZhdGUgc2V0dXBTeW5jU2NoZWR1bGluZygpOiB2b2lkIHtcbiAgICAgICAgLy8gQ2xlYW4gdXAgYW55IGV4aXN0aW5nIHNjaGVkdWxpbmcgZmlyc3RcbiAgICAgICAgdGhpcy5jbGVhbnVwU3luY1NjaGVkdWxpbmcoKTtcblxuICAgICAgICAvLyBPbmx5IHNldCB1cCBzY2hlZHVsaW5nIGlmIGF1dG8tc3luYyBpcyBlbmFibGVkXG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5hdXRvU3luYykge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0F1dG8tc3luYyBkaXNhYmxlZCAtIG5vIHNjaGVkdWxpbmcgc2V0IHVwJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgdXAgaW50ZXJ2YWwtYmFzZWQgc3luYyBpZiBpbnRlcnZhbCBpcyBzcGVjaWZpZWQgYW5kID4gMFxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5zeW5jSW50ZXJ2YWwgJiYgdGhpcy5zZXR0aW5ncy5zeW5jSW50ZXJ2YWwgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBpbnRlcnZhbE1zID0gdGhpcy5zZXR0aW5ncy5zeW5jSW50ZXJ2YWwgKiA2MCAqIDEwMDA7IC8vIENvbnZlcnQgbWludXRlcyB0byBtaWxsaXNlY29uZHNcblxuICAgICAgICAgICAgdGhpcy5zeW5jSW50ZXJ2YWxJZCA9IHRoaXMucmVnaXN0ZXJJbnRlcnZhbChcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2V0SW50ZXJ2YWwoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1NjaGVkdWxlZCBzeW5jIHRyaWdnZXJlZCcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcnZhbE1pbnV0ZXM6IHRoaXMuc2V0dGluZ3Muc3luY0ludGVydmFsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5ncmFwaGl0aVNlcnZpY2UuYXV0b1N5bmMoJ3NjaGVkdWxlZCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnU2NoZWR1bGVkIHN5bmMgY29tcGxldGVkIHN1Y2Nlc3NmdWxseScsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkOiByZXN1bHQucHJvY2Vzc2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdTY2hlZHVsZWQgc3luYyBmYWlsZWQnLCB7IHJlc3VsdCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdTY2hlZHVsZWQgc3luYyBlcnJvcicsIHsgZXJyb3IgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBpbnRlcnZhbE1zKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1N5bmMgc2NoZWR1bGluZyBlbmFibGVkJywge1xuICAgICAgICAgICAgICAgIGludGVydmFsTWludXRlczogdGhpcy5zZXR0aW5ncy5zeW5jSW50ZXJ2YWwsXG4gICAgICAgICAgICAgICAgaW50ZXJ2YWxNc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cCBzeW5jIHNjaGVkdWxpbmdcbiAgICAgKi9cbiAgICBwcml2YXRlIGNsZWFudXBTeW5jU2NoZWR1bGluZygpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuc3luY0ludGVydmFsSWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuc3luY0ludGVydmFsSWQpO1xuICAgICAgICAgICAgdGhpcy5zeW5jSW50ZXJ2YWxJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgc3luYyBzY2hlZHVsaW5nIHdoZW4gc2V0dGluZ3MgY2hhbmdlXG4gICAgICovXG4gICAgYXN5bmMgdXBkYXRlU3luY1NjaGVkdWxpbmcoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1VwZGF0aW5nIHN5bmMgc2NoZWR1bGluZyBkdWUgdG8gc2V0dGluZ3MgY2hhbmdlJyk7XG4gICAgICAgIHRoaXMuc2V0dXBTeW5jU2NoZWR1bGluZygpO1xuICAgIH1cblxuICAgIGFzeW5jIGFjdGl2YXRlVmlldygpIHtcbiAgICAgICAgY29uc3QgeyB3b3Jrc3BhY2UgfSA9IHRoaXMuYXBwO1xuXG4gICAgICAgIGxldCBsZWFmID0gd29ya3NwYWNlLmdldExlYXZlc09mVHlwZShTQ0hFTUFfTUFOQUdFUl9WSUVXX1RZUEUpLmZpcnN0KCk7XG5cbiAgICAgICAgaWYgKCFsZWFmKSB7XG4gICAgICAgICAgICBsZWFmID0gd29ya3NwYWNlLmdldFJpZ2h0TGVhZihmYWxzZSk7XG4gICAgICAgICAgICBhd2FpdCBsZWFmLnNldFZpZXdTdGF0ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogU0NIRU1BX01BTkFHRVJfVklFV19UWVBFLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB3b3Jrc3BhY2UucmV2ZWFsTGVhZihsZWFmKTtcbiAgICB9XG5cbiAgICBhc3luYyBkaXNjb3ZlclNjaGVtYXMoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBuZXcgTm90aWNlKCdbSU5GT10gRGlzY292ZXJpbmcgc2NoZW1hcyBmcm9tIHZhdWx0Li4uJyk7XG4gICAgICAgICAgICBjb25zdCBzY2hlbWFzID0gYXdhaXQgdGhpcy5zY2hlbWFTZXJ2aWNlLmRpc2NvdmVyQWxsU2NoZW1hcygpO1xuICAgICAgICAgICAgbmV3IE5vdGljZShgW0lORk9dIEZvdW5kICR7c2NoZW1hcy5sZW5ndGh9IHNjaGVtYSB0eXBlcyBpbiB5b3VyIHZhdWx0YCk7XG4gICAgICAgICAgICBpZiAodGhpcy5sb2dnZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnRGlzY292ZXJlZCBzY2hlbWFzJywgeyBjb3VudDogc2NoZW1hcy5sZW5ndGggfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbREVCVUddIERpc2NvdmVyZWQgc2NoZW1hcyBjb3VudDonLCBzY2hlbWFzLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoYEVycm9yIGRpc2NvdmVyaW5nIHNjaGVtYXM6ICR7ZXJyb3JNZXNzYWdlfWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgc3luY0N1cnJlbnROb3RlKCkge1xuICAgICAgICBjb25zdCBhY3RpdmVGaWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcbiAgICAgICAgaWYgKCFhY3RpdmVGaWxlKSB7XG4gICAgICAgICAgICBuZXcgTm90aWNlKCdObyBhY3RpdmUgZmlsZSB0byBzeW5jJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnU3luYyBDdXJyZW50IE5vdGUgY29tbWFuZCB0cmlnZ2VyZWQnLCB7XG4gICAgICAgICAgICAgICAgYWN0aXZlRmlsZTogYWN0aXZlRmlsZS5wYXRoLFxuICAgICAgICAgICAgICAgIGZpbGVOYW1lOiBhY3RpdmVGaWxlLm5hbWVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBVc2UgU3luY1N0YXR1c01hbmFnZXIgcXVldWUgZm9yIGNvbnNpc3RlbnQgc3luYyBiZWhhdmlvciB3aXRoIG1hbnVhbCBzb3VyY2UgZGVzY3JpcHRpb25cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuc3luY1N0YXR1c01hbmFnZXIuZW5xdWV1ZShhY3RpdmVGaWxlLCAnb2JzaWRpYW5fbW1faW5kaXZpZHVhbCcpO1xuXG4gICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgICAgICAgLy8gVXNlIEFTQ0lJLW9ubHkgbm90aWNlcyBwZXIgV2luZG93cyBndWlkZWxpbmVzXG4gICAgICAgICAgICAgICAgbmV3IE5vdGljZShgW1NVQ0NFU1NdIFN1Y2Nlc3NmdWxseSBzeW5jZWQgJHthY3RpdmVGaWxlLm5hbWV9YCk7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnU3luYyBDdXJyZW50IE5vdGUgY29tcGxldGVkIHN1Y2Nlc3NmdWxseScsIHsgZmlsZTogYWN0aXZlRmlsZS5wYXRoIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXcgTm90aWNlKGBbRVJST1JdIEZhaWxlZCB0byBzeW5jICR7YWN0aXZlRmlsZS5uYW1lfTogJHtyZXN1bHQubWVzc2FnZX1gKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignU3luYyBDdXJyZW50IE5vdGUgZmFpbGVkJywgeyBmaWxlOiBhY3RpdmVGaWxlLnBhdGgsIHJlc3VsdCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xuICAgICAgICAgICAgbmV3IE5vdGljZShgW0VSUk9SXSBFcnJvciBzeW5jaW5nICR7YWN0aXZlRmlsZS5uYW1lfTogJHtlcnJvck1lc3NhZ2V9YCk7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignU3luYyBDdXJyZW50IE5vdGUgZXJyb3InLCB7IGZpbGU6IGFjdGl2ZUZpbGUucGF0aCwgZXJyb3IgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBQcm9wZXJ0eSBtYXBwaW5nIG1hbmFnZW1lbnQgbWV0aG9kc1xuICAgIGFzeW5jIHNhdmVQcm9wZXJ0eU1hcHBpbmcoZW50aXR5VHlwZTogc3RyaW5nLCBvcmlnaW5hbE5hbWU6IHN0cmluZywgbWFwcGVkTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5wcm9wZXJ0eU1hcHBpbmdzW2VudGl0eVR5cGVdKSB7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnByb3BlcnR5TWFwcGluZ3NbZW50aXR5VHlwZV0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldHRpbmdzLnByb3BlcnR5TWFwcGluZ3NbZW50aXR5VHlwZV1bb3JpZ2luYWxOYW1lXSA9IG1hcHBlZE5hbWU7XG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgcmVtb3ZlUHJvcGVydHlNYXBwaW5nKGVudGl0eVR5cGU6IHN0cmluZywgb3JpZ2luYWxOYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MucHJvcGVydHlNYXBwaW5nc1tlbnRpdHlUeXBlXSkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuc2V0dGluZ3MucHJvcGVydHlNYXBwaW5nc1tlbnRpdHlUeXBlXVtvcmlnaW5hbE5hbWVdO1xuICAgICAgICAgICAgLy8gQ2xlYW4gdXAgZW1wdHkgZW50aXR5IHR5cGUgbWFwcGluZ3NcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnNldHRpbmdzLnByb3BlcnR5TWFwcGluZ3NbZW50aXR5VHlwZV0pLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnNldHRpbmdzLnByb3BlcnR5TWFwcGluZ3NbZW50aXR5VHlwZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0UHJvcGVydHlNYXBwaW5nKGVudGl0eVR5cGU6IHN0cmluZywgb3JpZ2luYWxOYW1lOiBzdHJpbmcpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5wcm9wZXJ0eU1hcHBpbmdzW2VudGl0eVR5cGVdPy5bb3JpZ2luYWxOYW1lXTtcbiAgICB9XG5cbiAgICBnZXRBbGxQcm9wZXJ0eU1hcHBpbmdzKCk6IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIHN0cmluZz4+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MucHJvcGVydHlNYXBwaW5ncztcbiAgICB9XG5cbiAgICAvLyBQcm9wZXJ0eSBzZWxlY3Rpb24gbWFuYWdlbWVudCBtZXRob2RzXG4gICAgYXN5bmMgc2F2ZVByb3BlcnR5U2VsZWN0aW9uKGVudGl0eVR5cGU6IHN0cmluZywgcHJvcGVydHlOYW1lOiBzdHJpbmcsIGVuYWJsZWQ6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9uc1tlbnRpdHlUeXBlXSkge1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnNbZW50aXR5VHlwZV0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9uc1tlbnRpdHlUeXBlXVtwcm9wZXJ0eU5hbWVdID0gZW5hYmxlZDtcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICB9XG5cbiAgICBnZXRQcm9wZXJ0eVNlbGVjdGlvbihlbnRpdHlUeXBlOiBzdHJpbmcsIHByb3BlcnR5TmFtZTogc3RyaW5nKTogYm9vbGVhbiB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9uc1tlbnRpdHlUeXBlXT8uW3Byb3BlcnR5TmFtZV07XG4gICAgfVxuXG4gICAgZ2V0QWxsUHJvcGVydHlTZWxlY3Rpb25zKCk6IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9ucztcbiAgICB9XG5cbiAgICBhc3luYyB1cGRhdGVBdmFpbGFibGVOYW1lc3BhY2VzKCkge1xuICAgICAgICBjb25zdCBuYW1lc3BhY2VzID0gbmV3IFNldDxzdHJpbmc+KCk7XG5cbiAgICAgICAgLy8gQWx3YXlzIGFkZCB0aGUgZGVmYXVsdCBuYW1lc3BhY2VcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZGVmYXVsdE5hbWVzcGFjZSkge1xuICAgICAgICAgICAgbmFtZXNwYWNlcy5hZGQodGhpcy5zZXR0aW5ncy5kZWZhdWx0TmFtZXNwYWNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNjYW4gZm9yIGZvbGRlciBuYW1lcyBpZiBlbmFibGVkICh0b3AtbGV2ZWwgZm9sZGVycyBvbmx5KVxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVGb2xkZXJOYW1lc3BhY2luZykge1xuICAgICAgICAgICAgdGhpcy5hcHAudmF1bHQuZ2V0Um9vdCgpLmNoaWxkcmVuLmZvckVhY2goZmlsZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGZpbGUgaW5zdGFuY2VvZiBURm9sZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZXMuYWRkKGZpbGUubmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTY2FuIGZvciBwcm9wZXJ0eSBuYW1lcyBpZiBlbmFibGVkXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmVuYWJsZVByb3BlcnR5TmFtZXNwYWNpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hcmtkb3duRmlsZXMgPSB0aGlzLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgbWFya2Rvd25GaWxlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoZmlsZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZ3JvdXBJZCA9IG1ldGFkYXRhPy5mcm9udG1hdHRlcj8uZ19ncm91cF9pZDtcbiAgICAgICAgICAgICAgICBpZiAoZ3JvdXBJZCAmJiB0eXBlb2YgZ3JvdXBJZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlcy5hZGQoZ3JvdXBJZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXR0aW5ncy5hdmFpbGFibGVOYW1lc3BhY2VzID0gQXJyYXkuZnJvbShuYW1lc3BhY2VzKS5zb3J0KCk7XG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdHcmFwaGl0aTogVXBkYXRlZCBhdmFpbGFibGUgbmFtZXNwYWNlczonLCB0aGlzLnNldHRpbmdzLmF2YWlsYWJsZU5hbWVzcGFjZXMpO1xuICAgIH1cblxuICAgIC8vIFBlci1ub3RlIGF1dG9zeW5jIHJlbW92ZWQgaW4gZmF2b3Igb2Ygc2NoZWR1bGVyLW9ubHkgYXBwcm9hY2hcbiAgICAvLyBBbGwgc3luYyBvcGVyYXRpb25zIG5vdyBvY2N1ciBhdCBzY2hlZHVsZWQgaW50ZXJ2YWxzIG9ubHlcblxuICAgIGFzeW5jIHRvZ2dsZURlYnVnTW9kZSgpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5lbmFibGVEZWJ1Z0xvZ2dpbmcgPSAhdGhpcy5zZXR0aW5ncy5lbmFibGVEZWJ1Z0xvZ2dpbmc7XG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7IC8vIFRoaXMgd2lsbCBub3cgY2FsbCBzZXREZWJ1ZyBvbiB0aGUgbG9nZ2VyXG5cbiAgICAgICAgY29uc3Qgc3RhdHVzID0gdGhpcy5zZXR0aW5ncy5lbmFibGVEZWJ1Z0xvZ2dpbmcgPyAnZW5hYmxlZCcgOiAnZGlzYWJsZWQnO1xuICAgICAgICBuZXcgTm90aWNlKGBEZWJ1ZyBtb2RlICR7c3RhdHVzfWApO1xuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBEZWJ1ZyBtb2RlIHRvZ2dsZWQgdmlhIGNvbW1hbmQ6ICR7c3RhdHVzfWApO1xuICAgIH1cblxuICAgIGFzeW5jIHJlc2V0U2V0dGluZ3MoKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTKTtcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICB9XG5cbiAgICAvLyBSZWdpc3RlciBzeW5jIHN0YXR1cyBpY29ucyBmb3IgYWxsIG1hcmtkb3duIHZpZXdzXG4gICAgcHJpdmF0ZSByZWdpc3RlclN5bmNTdGF0dXNJY29ucygpIHtcbiAgICAgICAgLy8gQWRkIGljb25zIHRvIGV4aXN0aW5nIHZpZXdzIG9uIHN0YXJ0dXBcbiAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLml0ZXJhdGVBbGxMZWF2ZXMoKGxlYWYpID0+IHtcbiAgICAgICAgICAgIGlmIChsZWFmLnZpZXcgaW5zdGFuY2VvZiBNYXJrZG93blZpZXcgJiYgbGVhZi52aWV3LmZpbGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFN5bmNTdGF0dXNJY29uKGxlYWYudmlldyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIExpc3RlbiBmb3IgZmlsZXMgYmVpbmcgb3BlbmVkIHRvIHVwZGF0ZSBpY29uc1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoXG4gICAgICAgICAgICB0aGlzLmFwcC53b3Jrc3BhY2Uub24oJ2ZpbGUtb3BlbicsIChmaWxlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGZpbGUgJiYgZmlsZS5leHRlbnNpb24gPT09ICdtZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGFsbCBtYXJrZG93biB2aWV3IGljb25zIHRvIHJlZmxlY3QgdGhlaXIgY3VycmVudCBmaWxlc1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5pdGVyYXRlQWxsTGVhdmVzKChsZWFmKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxlYWYudmlldyBpbnN0YW5jZW9mIE1hcmtkb3duVmlldykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2aWV3ID0gbGVhZi52aWV3O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpY29uRWwgPSAodmlldyBhcyBhbnkpLmFjdGlvbnNFbD8ucXVlcnlTZWxlY3RvcignLnN5bmMtc3RhdHVzLWljb24nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWNvbkVsICYmIHZpZXcuZmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gdGhpcy5zeW5jU3RhdHVzTWFuYWdlci5nZXRTdGF0dXModmlldy5maWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSWNvbkFwcGVhcmFuY2UoaWNvbkVsLCBzdGF0dXMsIHZpZXcuZmlsZS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghaWNvbkVsICYmIHZpZXcuZmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGljb24gaWYgaXQgZG9lc24ndCBleGlzdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRTeW5jU3RhdHVzSWNvbih2aWV3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LCAxMDApOyAvLyBTbWFsbCBkZWxheSB0byBlbnN1cmUgdmlldyBpcyByZWFkeVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gQWRkIHN5bmMgc3RhdHVzIGljb24gdG8gYSBzcGVjaWZpYyB2aWV3IChzaW1wbGlmaWVkKVxuICAgIHByaXZhdGUgYWRkU3luY1N0YXR1c0ljb24odmlldzogTWFya2Rvd25WaWV3KSB7XG4gICAgICAgIGlmICghdmlldy5maWxlKSByZXR1cm47XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyB2aWV3IGFscmVhZHkgaGFzIGFuIGljb24gdG8gcHJldmVudCBkdXBsaWNhdGVzXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nSWNvbiA9ICh2aWV3IGFzIGFueSkuYWN0aW9uc0VsPy5xdWVyeVNlbGVjdG9yKCcuc3luYy1zdGF0dXMtaWNvbicpO1xuICAgICAgICBpZiAoZXhpc3RpbmdJY29uKSB7XG4gICAgICAgICAgICAvLyBVcGRhdGUgZXhpc3RpbmcgaWNvbiBpbnN0ZWFkIG9mIHNraXBwaW5nXG4gICAgICAgICAgICBjb25zdCBzdGF0dXMgPSB0aGlzLnN5bmNTdGF0dXNNYW5hZ2VyLmdldFN0YXR1cyh2aWV3LmZpbGUpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVJY29uQXBwZWFyYW5jZShleGlzdGluZ0ljb24sIHN0YXR1cywgdmlldy5maWxlLm5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0IGluaXRpYWwgc3RhdHVzXG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IHRoaXMuc3luY1N0YXR1c01hbmFnZXIuZ2V0U3RhdHVzKHZpZXcuZmlsZSk7XG4gICAgICAgIC8vIEFkZGluZyBuZXcgc3luYyBzdGF0dXMgaWNvblxuXG4gICAgICAgIC8vIEFkZCBpY29uIHVzaW5nIE9ic2lkaWFuJ3MgbmF0aXZlIGFkZEFjdGlvbiBBUElcbiAgICAgICAgY29uc3QgYWN0aW9uRWwgPSB2aWV3LmFkZEFjdGlvbihcbiAgICAgICAgICAgIHRoaXMuZ2V0SWNvbkZvclN0YXR1cyhzdGF0dXMpLFxuICAgICAgICAgICAgdGhpcy5nZXRUb29sdGlwRm9yU3RhdHVzKHN0YXR1cywgdmlldy5maWxlLm5hbWUpLFxuICAgICAgICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRGaWxlID0gdmlldy5maWxlO1xuICAgICAgICAgICAgICAgIGlmICghY3VycmVudEZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZSgnTm8gZmlsZSB0byBzeW5jJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTeW5jIHRyaWdnZXJlZCB2aWEgaWNvbiBjbGlja1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFNob3cgc3Bpbm5lciBpbW1lZGlhdGVseVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUljb25BcHBlYXJhbmNlKGFjdGlvbkVsLCAnU1lOQ0lORycsIGN1cnJlbnRGaWxlLm5hbWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFBlcmZvcm0gc3luYyB3aXRoIG1hbnVhbCBzb3VyY2UgZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zeW5jU3RhdHVzTWFuYWdlci5lbnF1ZXVlKGN1cnJlbnRGaWxlLCAnb2JzaWRpYW5fbW1faW5kaXZpZHVhbCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEFmdGVyIHN5bmMgY29tcGxldGVzLCB1cGRhdGUgYmFzZWQgb24gbmV3IHN0YXR1c1xuICAgICAgICAgICAgICAgICAgICAvLyBHaXZlIHN5bmMuanNvbiB3YXRjaGVyIHRpbWUgdG8gdXBkYXRlXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3U3RhdHVzID0gdGhpcy5zeW5jU3RhdHVzTWFuYWdlci5nZXRTdGF0dXMoY3VycmVudEZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGljb24gYWZ0ZXIgc3luYyBjb21wbGV0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUljb25BcHBlYXJhbmNlKGFjdGlvbkVsLCBuZXdTdGF0dXMsIGN1cnJlbnRGaWxlLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9LCA1MDApO1xuXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1tTWU5DLUVSUk9SXSBTeW5jIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJldmVydCB0byBwcmV2aW91cyBzdGF0dXMgb24gZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3JTdGF0dXMgPSB0aGlzLnN5bmNTdGF0dXNNYW5hZ2VyLmdldFN0YXR1cyhjdXJyZW50RmlsZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSWNvbkFwcGVhcmFuY2UoYWN0aW9uRWwsIGVycm9yU3RhdHVzLCBjdXJyZW50RmlsZS5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGFjdGlvbkVsKSB7XG4gICAgICAgICAgICAvLyBUYWcgaXQgZm9yIGVhc3kgZmluZGluZyBsYXRlclxuICAgICAgICAgICAgYWN0aW9uRWwuYWRkQ2xhc3MoJ3N5bmMtc3RhdHVzLWljb24nKTtcbiAgICAgICAgICAgIGFjdGlvbkVsLnNldEF0dHJpYnV0ZSgnZGF0YS1maWxlLXBhdGgnLCB2aWV3LmZpbGUucGF0aCk7XG5cbiAgICAgICAgICAgIC8vIFNldCBpbml0aWFsIGFwcGVhcmFuY2VcbiAgICAgICAgICAgIHRoaXMudXBkYXRlSWNvbkFwcGVhcmFuY2UoYWN0aW9uRWwsIHN0YXR1cywgdmlldy5maWxlLm5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHRoZSBhcHBlYXJhbmNlIG9mIGEgc3luYyBzdGF0dXMgaWNvblxuICAgIHByaXZhdGUgdXBkYXRlSWNvbkFwcGVhcmFuY2UoaWNvbkVsOiBIVE1MRWxlbWVudCwgc3RhdHVzOiBzdHJpbmcsIGZpbGVOYW1lOiBzdHJpbmcpIHtcblxuICAgICAgICAvLyBDbGVhciBhbmQgc2V0IGljb25cbiAgICAgICAgaWNvbkVsLmVtcHR5KCk7XG4gICAgICAgIHNldEljb24oaWNvbkVsLCB0aGlzLmdldEljb25Gb3JTdGF0dXMoc3RhdHVzKSk7XG5cbiAgICAgICAgLy8gVXBkYXRlIGNsYXNzZXNcbiAgICAgICAgaWNvbkVsLmNsYXNzTmFtZSA9IGljb25FbC5jbGFzc05hbWUucmVwbGFjZSgvc3luYy1zdGF0dXMtXFx3Ky9nLCAnJyk7XG4gICAgICAgIGljb25FbC5hZGRDbGFzcygnc3luYy1zdGF0dXMtaWNvbicpO1xuICAgICAgICBpY29uRWwuYWRkQ2xhc3MoYHN5bmMtc3RhdHVzLSR7c3RhdHVzLnRvTG93ZXJDYXNlKCl9YCk7XG5cbiAgICAgICAgLy8gVXBkYXRlIHRvb2x0aXBcbiAgICAgICAgaWNvbkVsLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIHRoaXMuZ2V0VG9vbHRpcEZvclN0YXR1cyhzdGF0dXMsIGZpbGVOYW1lKSk7XG4gICAgfVxuXG4gICAgLy8gR2V0IE9ic2lkaWFuIGljb24gbmFtZSBmb3Igc3RhdHVzXG4gICAgcHJpdmF0ZSBnZXRJY29uRm9yU3RhdHVzKHN0YXR1czogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICAgICAgICAgIGNhc2UgJ1NZTkNFRCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdjaGVjay1jaXJjbGUnO1xuICAgICAgICAgICAgY2FzZSAnUFJJVkFURSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdsb2NrJztcbiAgICAgICAgICAgIGNhc2UgJ1NZTkNJTkcnOlxuICAgICAgICAgICAgICAgIHJldHVybiAnbG9hZGVyJztcbiAgICAgICAgICAgIGNhc2UgJ05PVF9TWU5DRUQnOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3JlZnJlc2gtY3cnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gR2V0IHRvb2x0aXAgZm9yIHN0YXR1c1xuICAgIHByaXZhdGUgZ2V0VG9vbHRpcEZvclN0YXR1cyhzdGF0dXM6IHN0cmluZywgZmlsZU5hbWU/OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBub3RlUHJlZml4ID0gZmlsZU5hbWUgPyBgJHtmaWxlTmFtZX06IGAgOiAnJztcbiAgICAgICAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICAgICAgICAgIGNhc2UgJ1NZTkNFRCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke25vdGVQcmVmaXh9c3luY2VkIHdpdGggR3JhcGhpdGlgO1xuICAgICAgICAgICAgY2FzZSAnUFJJVkFURSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke25vdGVQcmVmaXh9bWFya2VkIHByaXZhdGUgKGV4Y2x1ZGVkIGZyb20gc3luYylgO1xuICAgICAgICAgICAgY2FzZSAnU1lOQ0lORyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke25vdGVQcmVmaXh9c3luYyBpbiBwcm9ncmVzcy4uLmA7XG4gICAgICAgICAgICBjYXNlICdOT1RfU1lOQ0VEJzpcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke25vdGVQcmVmaXh9bm90IHN5bmNlZCAtIGNsaWNrIHRvIHN5bmNgO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2V0IHVwIHdhdGNoZXIgZm9yIHN5bmMuanNvbiBjaGFuZ2VzXG4gICAgcHJpdmF0ZSBzZXR1cFN5bmNKc29uV2F0Y2hlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuc3luY0pzb25XYXRjaGVyKSByZXR1cm47IC8vIEFscmVhZHkgc2V0IHVwXG5cbiAgICAgICAgY29uc3Qgc3luY0pzb25QYXRoID0gbm9ybWFsaXplUGF0aChcbiAgICAgICAgICAgIGpvaW4odGhpcy5tYW5pZmVzdC5kaXIgfHwgJy5vYnNpZGlhbi9wbHVnaW5zL21lZ2FtZW0tbWNwJywgJ3N5bmMuanNvbicpXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gU2V0dGluZyB1cCBzeW5jLmpzb24gZmlsZSB3YXRjaGVyXG5cbiAgICAgICAgLy8gV2F0Y2ggZm9yIGNoYW5nZXMgdG8gc3luYy5qc29uIHVzaW5nIE9ic2lkaWFuJ3MgdmF1bHQgZXZlbnRzXG4gICAgICAgIHRoaXMucmVnaXN0ZXJFdmVudChcbiAgICAgICAgICAgIHRoaXMuYXBwLnZhdWx0Lm9uKCdtb2RpZnknLCBhc3luYyAoZmlsZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChmaWxlLnBhdGggPT09IHN5bmNKc29uUGF0aCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBzeW5jLmpzb24gbW9kaWZpZWRcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVTeW5jSnNvbkNoYW5nZWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIEFsc28gd2F0Y2ggZm9yIGNyZWF0ZSBldmVudHMgKGluIGNhc2Ugc3luYy5qc29uIGlzIHJlY3JlYXRlZClcbiAgICAgICAgdGhpcy5yZWdpc3RlckV2ZW50KFxuICAgICAgICAgICAgdGhpcy5hcHAudmF1bHQub24oJ2NyZWF0ZScsIGFzeW5jIChmaWxlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGZpbGUucGF0aCA9PT0gc3luY0pzb25QYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN5bmMuanNvbiBjcmVhdGVkXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlU3luY0pzb25DaGFuZ2VkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBBbHRlcm5hdGl2ZSBhcHByb2FjaDogVXNlIHJlZ2lzdHJ5J3MgJ2NoYW5nZWQnIGV2ZW50XG4gICAgICAgIHRoaXMucmVnaXN0ZXJFdmVudChcbiAgICAgICAgICAgIHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZS5vbignY2hhbmdlZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBSZWdpc3RyeSBjaGFuZ2VkLCB1cGRhdGUgaWNvbnNcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUFsbFN5bmNJY29ucygpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLnN5bmNKc29uV2F0Y2hlciA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHN5bmMuanNvbiBjaGFuZ2VzXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVTeW5jSnNvbkNoYW5nZWQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBSZWxvYWQgdGhlIHN5bmMgcmVnaXN0cnkgdG8gZ2V0IGZyZXNoIGRhdGFcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZS5yZWxvYWQoKTtcblxuICAgICAgICAgICAgLy8gVXBkYXRlIGFsbCBpY29ucyBkaXJlY3RseVxuICAgICAgICAgICAgdGhpcy51cGRhdGVBbGxTeW5jSWNvbnMoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdbU1lOQy1XQVRDSEVSXSBFcnJvciBoYW5kbGluZyBzeW5jLmpzb24gY2hhbmdlOicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFVwZGF0ZSBhbGwgc3luYyBzdGF0dXMgaWNvbnMgYmFzZWQgb24gY3VycmVudCBzeW5jLmpzb24gZGF0YVxuICAgIHByaXZhdGUgdXBkYXRlQWxsU3luY0ljb25zKCkge1xuICAgICAgICAvLyBVcGRhdGUgYWxsIHN5bmMgc3RhdHVzIGljb25zXG5cbiAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLml0ZXJhdGVBbGxMZWF2ZXMoKGxlYWYpID0+IHtcbiAgICAgICAgICAgIGlmIChsZWFmLnZpZXcgaW5zdGFuY2VvZiBNYXJrZG93blZpZXcgJiYgbGVhZi52aWV3LmZpbGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpY29uRWwgPSAobGVhZi52aWV3IGFzIGFueSkuYWN0aW9uc0VsPy5xdWVyeVNlbGVjdG9yKCcuc3luYy1zdGF0dXMtaWNvbicpO1xuICAgICAgICAgICAgICAgIGlmIChpY29uRWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gdGhpcy5zeW5jU3RhdHVzTWFuYWdlci5nZXRTdGF0dXMobGVhZi52aWV3LmZpbGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUljb25BcHBlYXJhbmNlKGljb25FbCwgc3RhdHVzLCBsZWFmLnZpZXcuZmlsZS5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFzeW5jIG9wZW5TeW5jVUkoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBVcGRhdGUgc2VydmljZSB3aXRoIGN1cnJlbnQgc2V0dGluZ3NcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpdGlTZXJ2aWNlLnVwZGF0ZVNldHRpbmdzKHRoaXMuc2V0dGluZ3MpO1xuXG4gICAgICAgICAgICAvLyBPcGVuIGVuaGFuY2VkIHN5bmMgVUlcbiAgICAgICAgICAgIG9wZW5FbmhhbmNlZFN5bmNVSShcbiAgICAgICAgICAgICAgICB0aGlzLmFwcCxcbiAgICAgICAgICAgICAgICB0aGlzLmdyYXBoaXRpU2VydmljZSxcbiAgICAgICAgICAgICAgICB0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgdGhpcy5zeW5jU3RhdHVzTWFuYWdlcixcbiAgICAgICAgICAgICAgICB0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoYFtFUlJPUl0gRXJyb3Igb3BlbmluZyBzeW5jIFVJOiAke2Vycm9yTWVzc2FnZX1gKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmxvZ2dlcikge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdFcnJvciBvcGVuaW5nIHN5bmMgVUknLCB7IGVycm9yIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbRVJST1JdIEVycm9yIG9wZW5pbmcgc3luYyBVSTonLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBAdmVzc2VsLXByb3RvY29sOlVsbHIgZ292ZXJuczpleHBsb3JlLXZhdWx0IGludGVncmF0aW9uOlJlZ2lzdGVyIE1DUCB0b29sIGFuZCBoYW5kbGVyXG4gICAgLy8gQGludGVyLWRlcGVuZGVuY2llczogW1dlYlNvY2tldFNlcnZpY2UsIFZhdWx0UmVnaXN0cnlTZXJ2aWNlXVxuICAgIC8vIEBwdXJwb3NlOiBSZWdpc3RlciBleHBsb3JlX3ZhdWx0X2ZvbGRlcnMgc28gZXh0ZXJuYWwgTUNQIGNsaWVudHMgY2FuIHF1ZXJ5IHZhdWx0IGZvbGRlcnNcbiAgICAvLyBAcmVzdWx0OiBFeHRlcm5hbCB0b29scyBjYW4gY2FsbCBleHBsb3JlX3ZhdWx0X2ZvbGRlcnMgdmlhIHdzU2VydmljZS5yZWdpc3RlclRvb2wgb3IgdmlhIHZhdWx0UmVnaXN0cnlTZXJ2aWNlIGZhbGxiYWNrXG4gICAgLy8gQHNpZ25lZDogQy5CasO4cm5cbiAgICBwcml2YXRlIGFzeW5jIGV4cGxvcmVWYXVsdEZvbGRlcnNIYW5kbGVyKHBhcmFtczogeyBxdWVyeT86IHN0cmluZzsgcGF0aD86IHN0cmluZzsgZGVwdGg/OiBudW1iZXI7IGZvcm1hdD86IEV4cGxvcmVGb3JtYXQgfSk6IFByb21pc2U8RXhwbG9yZVJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHsgcXVlcnksIHBhdGgsIGRlcHRoID0gLTEsIGZvcm1hdCA9ICdzbWFydCcgfSA9IHBhcmFtcyB8fCB7fTtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZFBhdGggPSBzYWZlTm9ybWFsaXplKHBhdGggfHwgJycpO1xuICAgICAgICBjb25zdCBjaG9zZW5Gb3JtYXQgPSBmb3JtYXQgPT09ICdzbWFydCcgPyBzZWxlY3RTbWFydEZvcm1hdChxdWVyeSwgbm9ybWFsaXplZFBhdGgpIDogZm9ybWF0O1xuICAgICAgICBjb25zdCByZXN1bHRzOiBFeHBsb3JlUmVzdWx0SXRlbVtdID0gW107XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIElmIGEgc3BlY2lmaWMgcGF0aCB3YXMgcHJvdmlkZWQsIHJlc29sdmUgdGhhdCBmb2xkZXIgZmlyc3RcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkUGF0aCkge1xuICAgICAgICAgICAgICAgIC8vIFRyeSBxdWljayBsb29rdXAgYW1vbmcgaW1tZWRpYXRlIHJvb3QgY2hpbGRyZW5cbiAgICAgICAgICAgICAgICBjb25zdCByb290ID0gdGhpcy5hcHAudmF1bHQuZ2V0Um9vdCgpO1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQ6IFRGb2xkZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAvLyBEaXJlY3QgY2hpbGQgbWF0Y2hcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSByb290LmNoaWxkcmVuLmZpbmQoYyA9PiBjIGluc3RhbmNlb2YgVEZvbGRlciAmJiBzYWZlTm9ybWFsaXplKChjIGFzIFRGb2xkZXIpLnBhdGgpID09PSBub3JtYWxpemVkUGF0aCkgYXMgVEZvbGRlciB8IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIGZ1bGwgc2VhcmNoXG4gICAgICAgICAgICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxsID0gY29sbGVjdEFsbEZvbGRlcnModGhpcy5hcHAudmF1bHQuZ2V0Um9vdCgpIGFzIFRGb2xkZXIpO1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSBhbGwuZmluZChmID0+IHNhZmVOb3JtYWxpemUoZi5wYXRoKSA9PT0gbm9ybWFsaXplZFBhdGgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHJlc3VsdHM6IFtdLCB0b3RhbEZvbGRlcnM6IDAsIHNlYXJjaFF1ZXJ5OiBxdWVyeSwgZm9ybWF0OiBjaG9zZW5Gb3JtYXQgfTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gYWNjb3JkaW5nIHRvIHJlcXVlc3RlZCBmb3JtYXRcbiAgICAgICAgICAgICAgICBpZiAoY2hvc2VuRm9ybWF0ID09PSAndHJlZScpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVwdGhMaW1pdCA9IGRlcHRoIDwgMCA/IC0xIDogZGVwdGg7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChidWlsZEZvbGRlclRyZWUodGFyZ2V0LCBkZXB0aExpbWl0KSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHJlc3VsdHMsIHRvdGFsRm9sZGVyczogcmVzdWx0cy5sZW5ndGgsIHNlYXJjaFF1ZXJ5OiBxdWVyeSwgZm9ybWF0OiBjaG9zZW5Gb3JtYXQgfTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY2hvc2VuRm9ybWF0ID09PSAnZmxhdCcgfHwgY2hvc2VuRm9ybWF0ID09PSAncGF0aHMnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsbCA9IGNvbGxlY3RBbGxGb2xkZXJzKHRoaXMuYXBwLnZhdWx0LmdldFJvb3QoKSBhcyBURm9sZGVyKS5maWx0ZXIoZiA9PiBmLnBhdGguc3RhcnRzV2l0aCh0YXJnZXQhLnBhdGgpKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBmIG9mIGFsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IGZvbGRlclRvSXRlbShmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaG9zZW5Gb3JtYXQgPT09ICdwYXRocycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goeyBwYXRoOiBpdGVtLnBhdGgsIG5hbWU6IGl0ZW0ubmFtZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHJlc3VsdHMsIHRvdGFsRm9sZGVyczogcmVzdWx0cy5sZW5ndGgsIHNlYXJjaFF1ZXJ5OiBxdWVyeSwgZm9ybWF0OiBjaG9zZW5Gb3JtYXQgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIHF1ZXJ5IHByZXNlbnQsIHBlcmZvcm0gZmxhdCBvcHRpbWl6ZWQgc2VhcmNoIHVzaW5nIGNvbGxlY3RlZCBmb2xkZXJzXG4gICAgICAgICAgICBpZiAocXVlcnkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhbGwgPSBjb2xsZWN0QWxsRm9sZGVycyh0aGlzLmFwcC52YXVsdC5nZXRSb290KCkgYXMgVEZvbGRlcik7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBmIG9mIGFsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IGZvbGRlck1hdGNoZXNRdWVyeShmLCBxdWVyeSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaC5tYXRjaGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gZm9sZGVyVG9JdGVtKGYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5tYXRjaFJlYXNvbiA9IG1hdGNoLnJlYXNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uaGlnaGxpZ2h0TWF0Y2ggPSBtYXRjaC5oaWdobGlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hvc2VuRm9ybWF0ID09PSAncGF0aHMnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHsgcGF0aDogaXRlbS5wYXRoLCBuYW1lOiBpdGVtLm5hbWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4geyByZXN1bHRzLCB0b3RhbEZvbGRlcnM6IHJlc3VsdHMubGVuZ3RoLCBzZWFyY2hRdWVyeTogcXVlcnksIGZvcm1hdDogY2hvc2VuRm9ybWF0IH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIERlZmF1bHQ6IHJldHVybiBmdWxsIHZhdWx0IHRyZWUgY2hpbGRyZW4gKHJlc3BlY3QgZGVwdGgpXG4gICAgICAgICAgICBjb25zdCByb290ID0gdGhpcy5hcHAudmF1bHQuZ2V0Um9vdCgpIGFzIFRGb2xkZXI7XG4gICAgICAgICAgICBjb25zdCBkZXB0aExpbWl0ID0gZGVwdGggPCAwID8gLTEgOiBkZXB0aDtcbiAgICAgICAgICAgIGNvbnN0IHRyZWUgPSBidWlsZEZvbGRlclRyZWUocm9vdCwgZGVwdGhMaW1pdCk7XG4gICAgICAgICAgICBjb25zdCB0b3BDaGlsZHJlbiA9IHRyZWUuY2hpbGRyZW4gfHwgW107XG4gICAgICAgICAgICByZXR1cm4geyByZXN1bHRzOiB0b3BDaGlsZHJlbiwgdG90YWxGb2xkZXJzOiB0b3BDaGlsZHJlbi5sZW5ndGgsIGZvcm1hdDogY2hvc2VuRm9ybWF0IH07XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaWYgKHRoaXMubG9nZ2VyKSB0aGlzLmxvZ2dlci5lcnJvcignW01DUF0gZXhwbG9yZV92YXVsdF9mb2xkZXJzIGVycm9yJywgeyBlcnJvcjogZXJyIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHsgcmVzdWx0czogW10sIHRvdGFsRm9sZGVyczogMCwgc2VhcmNoUXVlcnk6IHF1ZXJ5LCBmb3JtYXQ6IGNob3NlbkZvcm1hdCB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWdpc3Rlck1jcFRvb2xzKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gUHJlZmVyIFdlYlNvY2tldFNlcnZpY2UgcmVnaXN0cmF0aW9uIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgaWYgKHRoaXMud3NTZXJ2aWNlICYmIHR5cGVvZiAodGhpcy53c1NlcnZpY2UgYXMgYW55KS5yZWdpc3RlclRvb2wgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAodGhpcy53c1NlcnZpY2UgYXMgYW55KS5yZWdpc3RlclRvb2woJ2V4cGxvcmVfdmF1bHRfZm9sZGVycycsIGFzeW5jIChwYXJhbXM6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5leHBsb3JlVmF1bHRGb2xkZXJzSGFuZGxlcihwYXJhbXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyPy5pbmZvKCdbTUNQXSBSZWdpc3RlcmVkIGV4cGxvcmVfdmF1bHRfZm9sZGVycyB2aWEgV2ViU29ja2V0U2VydmljZScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBGYWxsYmFjayBhdHRhY2ggZm9yIHRlc3RpbmdcbiAgICAgICAgICAgICAgICAodGhpcy52YXVsdFJlZ2lzdHJ5U2VydmljZSBhcyBhbnkpLmV4cGxvcmVfdmF1bHRfZm9sZGVycyA9IGFzeW5jIChwYXJhbXM6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5leHBsb3JlVmF1bHRGb2xkZXJzSGFuZGxlcihwYXJhbXMpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXI/LmRlYnVnKCdbTUNQXSBSZWdpc3RlcmVkIGV4cGxvcmVfdmF1bHRfZm9sZGVycyBvbiB2YXVsdFJlZ2lzdHJ5U2VydmljZSAoZmFsbGJhY2spJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5sb2dnZXIpIHRoaXMubG9nZ2VyLmVycm9yKCdbTUNQXSBGYWlsZWQgdG8gcmVnaXN0ZXIgZXhwbG9yZV92YXVsdF9mb2xkZXJzJywgeyBlcnJvciB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBAdmVzc2VsLWNsb3NlOlVsbHJcblxuXG5cblxufVxuIl0sIm5hbWVzIjpbIkdyYXBoaXRpTG9nZ2VyIiwicGx1Z2luIiwiZGVidWdNb2RlIiwidmF1bHRQYXRoIiwicGx1Z2luUGF0aCIsImpvaW4iLCJsb2dzRGlyIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsImVycm9yIiwibWVzc2FnZSIsInRpbWVzdGFtcCIsImFwcGVuZEZpbGVTeW5jIiwibGV2ZWwiLCJkYXRhIiwiZm9ybWF0dGVkTWVzc2FnZSIsImZvcm1hdHRlZCIsImVuYWJsZWQiLCJzb3VyY2UiLCJsaW5lcyIsImxpbmUiLCJ0cnVuY2F0ZWRMaW5lIiwiZ3JhcGhpdGlWZXJzaW9uIiwiX2EiLCJyZXNvbHZlIiwicmVqZWN0Iiwic3Bhd24iLCJwcm9jZXNzIiwib3V0cHV0IiwiY29kZSIsImVyciIsImRlYm91bmNlIiwiZm4iLCJkZWxheSIsInRpbWVyIiwiYXJncyIsImdldEZ1bmN0aW9uYWxMb2dnZXIiLCJhcHBJbnN0YW5jZSIsInBsdWdpbkluc3RhbmNlIiwicGx1Z2luRGF0YVBhdGgiLCJwbHVnaW5JZCIsInNhZmVSZWFkSnNvbkZpbGUiLCJhZGFwdGVyIiwicGF0aCIsImxvZ2dlciIsInRleHQiLCJyZWFkVGVtcGxhdGVyQ29uZmlnIiwiYXBwIiwiY3VycmVudExvZ2dlciIsImRlZmF1bHRSZXN1bHQiLCJyYXciLCJhbnlSYXciLCJyYXdGb2xkZXJUZW1wbGF0ZXNDYW5kaWRhdGUiLCJub3JtYWxpemVUZW1wbGF0ZUtleSIsInQiLCJmb2xkZXJUZW1wbGF0ZXMiLCJrIiwia2V5IiwiaXRlbSIsImZvbGRlciIsInRlbXBsYXRlUGF0aCIsInRlbXBsYXRlc0ZvbGRlciIsInVzZVRlbXBsYXRlRm9sZGVycyIsInBsdWdpbnMiLCJyZXN1bHQiLCJyZWFkUGVyaW9kaWNOb3Rlc0NvbmZpZyIsInBlcmlvZGljIiwicmVhZFNlY3Rpb24iLCJzZWN0aW9uIiwiZGFpbHkiLCJ3ZWVrbHkiLCJtb250aGx5IiwiZ2V0VGVtcGxhdGVyQ29uZmlnIiwiZ2V0UGVyaW9kaWNOb3Rlc0NvbmZpZyIsIldlYlNvY2tldFNlcnZpY2UiLCJzZXR0aW5ncyIsInN5bmNSZWdpc3RyeVNlcnZpY2UiLCJ2YXVsdFJlZ2lzdHJ5U2VydmljZSIsIm1zIiwiYXR0ZW1wdCIsImJhc2VEZWxheSIsImV4cG9uZW50aWFsRGVsYXkiLCJqaXR0ZXIiLCJmaW5hbERlbGF5Iiwid3NVcmwiLCJjb25uZWN0VGltZW91dCIsInJlZ2lzdGVyZWRWYXVsdCIsImV2ZW50IiwiYWN0aXZlVmF1bHRJZCIsIm1lc3NhZ2VTdHIiLCJ2YXVsdEluZm8iLCJyZWdpc3RyYXRpb25NZXNzYWdlIiwicGF5bG9hZCIsImZpbGUiLCJURmlsZSIsImNvbnRlbnQiLCJyZXNwb25zZSIsInF1ZXJ5Iiwic2VhcmNoTW9kZSIsIm1heFJlc3VsdHMiLCJpbmNsdWRlQ29udGV4dCIsImNvbnRleHRSYWRpdXMiLCJtb2RlIiwicmVzdWx0cyIsImFsbEZpbGVzIiwicUxvd2VyIiwiZmlsZW5hbWVNYXRjaGVzIiwiZiIsInNlYXJjaEZuIiwiYWRkZWRQYXRocyIsInIiLCJtYXRjaGVkIiwic2NvcmUiLCJtYXRjaGVzIiwic2VhcmNoUmVzdWx0IiwiZSIsImNvbnRleHRNYXRjaGVzIiwiYSIsImIiLCJzYSIsInNiIiwibG93ZXIiLCJxIiwiaWR4IiwiZm91bmQiLCJjb250ZXh0UmVzdWx0cyIsImFkZGVkTGluZXMiLCJzdGFydCIsImVuZCIsImNoYXJDb3VudCIsImxpbmVOdW0iLCJpIiwibGluZUxlbmd0aCIsImxpbmVTdGFydCIsIm1hdGNoU3RhcnRJbkxpbmUiLCJtYXRjaEVuZEluTGluZSIsImNvbnRleHRTdGFydCIsImNvbnRleHRFbmQiLCJjb250ZXh0VGV4dCIsInZhdWx0cyIsIl9iIiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JDb2RlIiwibWVzc2FnZUlkIiwicGx1Z2luQW55Iiwicm9vdCIsImNoaWxkcmVuIiwiYyIsImZhbGxiYWNrUmVzcG9uc2UiLCJmb2xkZXJQYXRoIiwibm9ybWFsaXplZFBhdGgiLCJub3JtYWxpemVQYXRoIiwib2xkUGF0aCIsIm5ld1BhdGgiLCJub3JtYWxpemVkT2xkUGF0aCIsIm5vcm1hbGl6ZWROZXdQYXRoIiwiVEZvbGRlciIsImZvcmNlIiwidGVtcGxhdGVyUGx1Z2luIiwidGVtcGxhdGVGb2xkZXIiLCJfYyIsIm5vcm1hbGl6ZWRGb2xkZXIiLCJ0ZW1wbGF0ZXMiLCJ0ZW1wbGF0ZU1hcHBpbmdzIiwidGVtcGxhdGVyQ29uZmlnIiwicGVyaW9kaWNDb25maWciLCJtb21lbnQiLCJ0b2RheSIsImNhbGN1bGF0ZVBlcmlvZGljUGF0aCIsImJhc2VGb2xkZXIiLCJmb3JtYXQiLCJkYXRlT2JqIiwiZCIsImJhc2UiLCJwYXJ0cyIsInAiLCJmb2xkZXJTZWdtZW50cyIsImZvbGRlclBhcnRzIiwicGFydCIsInNlZyIsImZvcm1hdERhdGVUb2tlbiIsInNpbmdsZUZvcm1hdCIsInllYXIiLCJtb250aCIsInRva2VuIiwiZmFsbGJhY2tEYXRlRm9ybWF0Iiwibm93IiwiZGVmYXVsdEZvbGRlciIsIl9lIiwiX2QiLCJ0ZW1wbGF0ZSIsInRlbXBsYXRlTmFtZSIsInRlbXBsYXRlS2V5IiwiX2YiLCJfZyIsIl9oIiwic2VhcmNoVGVybSIsImZpbGVOYW1lIiwidGFyZ2V0Rm9sZGVyIiwidXNlckNvbnRlbnQiLCJhbGxUZW1wbGF0ZXMiLCJzZWFyY2hMb3dlciIsInNlbGVjdGVkVGVtcGxhdGUiLCJ0ZW1wbGF0ZUxpc3QiLCJ0ZW1wbGF0ZXIiLCJmaWxlTmFtZU5vRXh0IiwibmV3RmlsZSIsInRlbXBsYXRlckVycm9yIiwidGVtcGxhdGVDb250ZW50IiwiZmlsZU5hbWVXaXRoRXh0IiwiZmluYWxDb250ZW50IiwiZnJvbnRtYXR0ZXJVcGRhdGVzIiwibmV3Q29udGVudCIsImZyb250bWF0dGVyU3RhcnQiLCJmcm9udG1hdHRlckVuZCIsImZyb250bWF0dGVyTGluZXMiLCJjb250ZW50TGluZXMiLCJ2YWx1ZSIsImV4aXN0aW5nSW5kZXgiLCJjb2xvbkluZGV4IiwiZm9ybWF0dGVkVmFsdWUiLCJuZXdMaW5lIiwic3RhcnRMaW5lIiwiZW5kTGluZSIsIm5ld0xpbmVzIiwiYWN0aXZlVmlldyIsIk1hcmtkb3duVmlldyIsInByb2Nlc3NlZCIsImVkaXRvciIsIm9wZXJhdGlvbiIsImxhc3RMaW5lIiwicG9zIiwiZnJvbVBvcyIsInRvUG9zIiwiaGVhZGluZ1RvRmluZCIsInRvdGFsTGluZXMiLCJpbnNlcnRMaW5lIiwiY3VycmVudENvbnRlbnQiLCJpbnNlcnRMaW5lSW5kZXgiLCJjdXJyZW50TGluZSIsImJlZm9yZSIsImFmdGVyIiwiZnJvbUxpbmUiLCJ0b0xpbmUiLCJmaXJzdExpbmUiLCJyZXNwb25zZVR5cGUiLCJuZXdTZXR0aW5ncyIsIlN5bmNSZWdpc3RyeVNlcnZpY2UiLCJFdmVudHMiLCJyZWdpc3RyeSIsIm1tVWlkIiwidmF1bHRJZCIsImNvbnRleHQiLCJyZWNvcmQiLCJub3RlUGF0aCIsInN5bmNFbnRyeSIsImV4aXN0aW5nRW50cnlJbmRleCIsInN5bmMiLCJuZXdSZWNvcmQiLCJ1dWlkIiwiZW50cnkiLCJ2YXVsdFJlbGF0aXZlUGF0aCIsInZhdWx0QWJzUGF0aCIsImlzQWJzb2x1dGUiLCJyZWxhdGl2ZSIsImNhY2hlIiwiZm0iLCJwcm9wIiwiY3VzdG9tIiwibWFwcGluZ3MiLCJzb3J0ZWRNYXBwaW5ncyIsInBhdGhQYXJ0cyIsIm5vdGVGb2xkZXJQYXRoIiwibWFwcGluZyIsIm5vcm1hbGl6ZWRGb2xkZXJQYXRoIiwiZGF0YWJhc2VJZCIsImdyb3VwSWQiLCJpbml0aWFsTGVuZ3RoIiwicmVjb3JkcyIsImRhdGFiYXNlQ291bnRzIiwidG90YWxTeW5jcyIsImxhc3RTeW5jIiwiZGF0ZVN0cmluZyIsInNlZW4iLCJ1bmlxdWVSZWNvcmRzIiwidmF1bHRJZHMiLCJkYXRhYmFzZUlkcyIsImdyb3VwSWRzIiwiVmF1bHRSZWdpc3RyeVNlcnZpY2UiLCJFdmVudEVtaXR0ZXIiLCJpZCIsInZhdWx0Iiwic3RhdHVzIiwidiIsImxhdGVzdCIsImZzIiwidmF1bHROYW1lIiwib2xkQWN0aXZlVmF1bHRJZCIsImN1cnJlbnRWYXVsdE5hbWUiLCJjdXJyZW50VmF1bHRQYXRoIiwiZm91bmRWYXVsdElkIiwicGF0aDEiLCJwYXRoMiIsIm5vcm1hbGl6ZSIsIm11bHRpVmF1bHRFbmFibGVkIiwid3NTZXJ2aWNlIiwiZXhpc3RpbmdWYXVsdCIsImZyZXNoRGF0YWJhc2VDb25maWciLCJsaXN0ZW5lciIsImNvbm5lY3RlZCIsImF1dGhUb2tlbiIsIm1vZGVsIiwiZGltZW5zaW9ucyIsInByb3ZpZGVyIiwicHJvdmlkZXJJbmZvIiwiZGltZW5zaW9uc0luZm8iLCJjdXJyZW50TW9kZWwiLCJjdXJyZW50RGltZW5zaW9ucyIsImN1cnJlbnRQcm92aWRlciIsInN0b3JlZENvbmZpZyIsImNvbmZpZyIsImRhdGFiYXNlVHlwZSIsIm5lbzRqQ29uZmlnIiwidXJpTWF0Y2giLCJwYXJzZWRQb3J0IiwiZGVmYXVsdEhvc3QiLCJkZWZhdWx0UG9ydCIsImZhbGtvckNvbmZpZyIsIlBST1RFQ1RFRF9BVFRSSUJVVEVTIiwiREVGQVVMVF9FTlRJVFlfREVTQ1JJUFRJT05TIiwiREVGQVVMVF9QUk9QRVJUWV9ERVNDUklQVElPTlMiLCJTY2hlbWFEaXNjb3ZlcnlTZXJ2aWNlIiwibmFtZSIsImlzc3VlcyIsInN1Z2dlc3RlZE5hbWUiLCJjb21wbGlhbmNlTGV2ZWwiLCJ2YWx1ZXMiLCJpc1Byb3RlY3RlZCIsIm5hbWluZ0lzc3VlcyIsImNvbXBsaWFuY2VTdGF0dXMiLCJlbnRpdHlUeXBlIiwib3JpZ2luYWxOYW1lIiwibWFwcGVkTmFtZSIsInByb3BlcnR5TmFtZSIsImN1cnJlbnRFZGdlVHlwZXMiLCJhdmFpbGFibGVEZWZhdWx0cyIsInVudXNlZCIsImVkZ2VUeXBlIiwiZGVzY3JpcHRpb24iLCJlbnRpdHlUeXBlcyIsImN1cnJlbnRNYXBwaW5ncyIsInN1Z2dlc3Rpb25zIiwiZXhpc3RpbmdNYXBwaW5ncyIsIm0iLCJ0eXBlIiwiY29udGVudFR5cGUiLCJ0eXBlTWFwIiwiZmlsZXMiLCJtZXRhZGF0YSIsImZyb250bWF0dGVyIiwidHlwZURhdGEiLCJ0eXBlTmFtZSIsInByb3BOYW1lIiwiYW5hbHlzaXMiLCJoYXNNYXBwaW5nIiwiZmluYWxOYW1lIiwiZmluYWxOYW1pbmdJc3N1ZXMiLCJmaW5hbENvbXBsaWFuY2VTdGF0dXMiLCJzYXZlZFNlbGVjdGlvbiIsImRlZmF1bHRFbmFibGVkIiwiZmluYWxFbmFibGVkIiwibm9uTnVsbFZhbHVlcyIsInNhbXBsZSIsImRlc2NyaXB0aW9ucyIsImNsZWFuUHJvcE5hbWUiLCJzY2hlbWFzIiwibW9kdWxlRG9jIiwiaW1wb3J0cyIsImJhc2VFbnRpdHkiLCJtb2RlbHMiLCJzY2hlbWEiLCJlZGdlVHlwZXMiLCJlZGdlVHlwZU1hcCIsImNsYXNzTmFtZSIsInZhbGlkUHJvcGVydGllcyIsInB5dGhvblR5cGUiLCJmaWVsZE5hbWUiLCJwcm90ZWN0ZWRDb21tZW50cyIsImFsbExpbmVzIiwicHJvcGVydGllcyIsImNsYXNzRG9jIiwicyIsImVkZ2VNYXBFbnRyaWVzIiwicGx1Z2luRGlyIiwicHlkYW50aWNDb2RlIiwibW9kZWxzRGlyIiwibW9kZWxQYXRoIiwic3RhdCIsIm1vZGVsTWF0Y2hlcyIsIk5vdGVTZWxlY3Rpb25TZXJ2aWNlIiwiZmlsZVBhdGgiLCJpbmNsdWRlZEZvbGRlcnMiLCJleGNsdWRlZEZvbGRlcnMiLCJleGNsdWRlZEZvbGRlciIsImlzSW5jbHVkZWQiLCJpbmNsdWRlZEZvbGRlciIsInRhZ3MiLCJzeW5jT3B0aW9ucyIsImFsbE5vdGVzIiwiZmluYWxTeW5jT3B0aW9ucyIsIm5ld05vdGVzIiwidXBkYXRlZE5vdGVzIiwiY29tYmluZWRQYXRocyIsImNvbWJpbmVkTm90ZXMiLCJub3RlIiwibm90ZXMiLCJzeW5jUmVnaXN0cnkiLCJjdXJyZW50RGJUeXBlIiwic3luY1JlY29yZCIsImN1cnJlbnREYlN5bmMiLCJsYXN0U3luY1RpbWUiLCJmaWxlTW9kVGltZSIsIlNZTkNfVE9MRVJBTkNFX01TIiwicHJpdmF0ZU5vdGVzIiwiY3JpdGVyaWEiLCJ0YWciLCJ0eXBlcyIsIm5vdGVQYXRocyIsInBhdGhzIiwic2VsZWN0ZWRQYXRocyIsIm5vdGVzQnlUeXBlIiwic2VsZWN0ZWRCeVR5cGUiLCJzZWxlY3RlZENvdW50IiwiZXN0aW1hdGVkTWludXRlcyIsImVzdGltYXRlZFN5bmNUaW1lIiwiYnlUeXBlIiwicHJlc2V0cyIsIndhcm5pbmdzIiwiZXJyb3JzIiwibWlzc2luZ0ZpbGVzIiwibGFyZ2VGaWxlcyIsImZyb250bWF0dGVyVGFncyIsImlzTm90aGluZyIsInN1YmplY3QiLCJpc09iamVjdCIsInRvQXJyYXkiLCJzZXF1ZW5jZSIsImV4dGVuZCIsInRhcmdldCIsImluZGV4IiwibGVuZ3RoIiwic291cmNlS2V5cyIsInJlcGVhdCIsInN0cmluZyIsImNvdW50IiwiY3ljbGUiLCJpc05lZ2F0aXZlWmVybyIsIm51bWJlciIsImlzTm90aGluZ18xIiwiaXNPYmplY3RfMSIsInRvQXJyYXlfMSIsInJlcGVhdF8xIiwiaXNOZWdhdGl2ZVplcm9fMSIsImV4dGVuZF8xIiwiY29tbW9uIiwiZm9ybWF0RXJyb3IiLCJleGNlcHRpb24iLCJjb21wYWN0Iiwid2hlcmUiLCJZQU1MRXhjZXB0aW9uJDEiLCJyZWFzb24iLCJtYXJrIiwiZ2V0TGluZSIsImJ1ZmZlciIsImxpbmVFbmQiLCJwb3NpdGlvbiIsIm1heExpbmVMZW5ndGgiLCJoZWFkIiwidGFpbCIsIm1heEhhbGZMZW5ndGgiLCJwYWRTdGFydCIsIm1heCIsIm1ha2VTbmlwcGV0Iiwib3B0aW9ucyIsInJlIiwibGluZVN0YXJ0cyIsImxpbmVFbmRzIiwibWF0Y2giLCJmb3VuZExpbmVObyIsImxpbmVOb0xlbmd0aCIsInNuaXBwZXQiLCJUWVBFX0NPTlNUUlVDVE9SX09QVElPTlMiLCJZQU1MX05PREVfS0lORFMiLCJjb21waWxlU3R5bGVBbGlhc2VzIiwibWFwIiwic3R5bGUiLCJhbGlhcyIsIlR5cGUkMSIsImNvbXBpbGVMaXN0IiwiY3VycmVudFR5cGUiLCJuZXdJbmRleCIsInByZXZpb3VzVHlwZSIsInByZXZpb3VzSW5kZXgiLCJjb21waWxlTWFwIiwiY29sbGVjdFR5cGUiLCJTY2hlbWEkMSIsImRlZmluaXRpb24iLCJpbXBsaWNpdCIsImV4cGxpY2l0IiwidHlwZSQxIiwic3RyIiwic2VxIiwiZmFpbHNhZmUiLCJyZXNvbHZlWWFtbE51bGwiLCJjb25zdHJ1Y3RZYW1sTnVsbCIsImlzTnVsbCIsIm9iamVjdCIsIl9udWxsIiwicmVzb2x2ZVlhbWxCb29sZWFuIiwiY29uc3RydWN0WWFtbEJvb2xlYW4iLCJpc0Jvb2xlYW4iLCJib29sIiwiaXNIZXhDb2RlIiwiaXNPY3RDb2RlIiwiaXNEZWNDb2RlIiwicmVzb2x2ZVlhbWxJbnRlZ2VyIiwiaGFzRGlnaXRzIiwiY2giLCJjb25zdHJ1Y3RZYW1sSW50ZWdlciIsInNpZ24iLCJpc0ludGVnZXIiLCJpbnQiLCJvYmoiLCJZQU1MX0ZMT0FUX1BBVFRFUk4iLCJyZXNvbHZlWWFtbEZsb2F0IiwiY29uc3RydWN0WWFtbEZsb2F0IiwiU0NJRU5USUZJQ19XSVRIT1VUX0RPVCIsInJlcHJlc2VudFlhbWxGbG9hdCIsInJlcyIsImlzRmxvYXQiLCJmbG9hdCIsImpzb24iLCJjb3JlIiwiWUFNTF9EQVRFX1JFR0VYUCIsIllBTUxfVElNRVNUQU1QX1JFR0VYUCIsInJlc29sdmVZYW1sVGltZXN0YW1wIiwiY29uc3RydWN0WWFtbFRpbWVzdGFtcCIsImRheSIsImhvdXIiLCJtaW51dGUiLCJzZWNvbmQiLCJmcmFjdGlvbiIsImRlbHRhIiwidHpfaG91ciIsInR6X21pbnV0ZSIsImRhdGUiLCJyZXByZXNlbnRZYW1sVGltZXN0YW1wIiwicmVzb2x2ZVlhbWxNZXJnZSIsIm1lcmdlIiwiQkFTRTY0X01BUCIsInJlc29sdmVZYW1sQmluYXJ5IiwiYml0bGVuIiwiY29uc3RydWN0WWFtbEJpbmFyeSIsInRhaWxiaXRzIiwiaW5wdXQiLCJiaXRzIiwicmVwcmVzZW50WWFtbEJpbmFyeSIsImlzQmluYXJ5IiwiYmluYXJ5IiwiX2hhc093blByb3BlcnR5JDMiLCJfdG9TdHJpbmckMiIsInJlc29sdmVZYW1sT21hcCIsIm9iamVjdEtleXMiLCJwYWlyIiwicGFpcktleSIsInBhaXJIYXNLZXkiLCJjb25zdHJ1Y3RZYW1sT21hcCIsIm9tYXAiLCJfdG9TdHJpbmckMSIsInJlc29sdmVZYW1sUGFpcnMiLCJrZXlzIiwiY29uc3RydWN0WWFtbFBhaXJzIiwicGFpcnMiLCJfaGFzT3duUHJvcGVydHkkMiIsInJlc29sdmVZYW1sU2V0IiwiY29uc3RydWN0WWFtbFNldCIsInNldCIsIl9kZWZhdWx0IiwiX2hhc093blByb3BlcnR5JDEiLCJDT05URVhUX0ZMT1dfSU4iLCJDT05URVhUX0ZMT1dfT1VUIiwiQ09OVEVYVF9CTE9DS19JTiIsIkNPTlRFWFRfQkxPQ0tfT1VUIiwiQ0hPTVBJTkdfQ0xJUCIsIkNIT01QSU5HX1NUUklQIiwiQ0hPTVBJTkdfS0VFUCIsIlBBVFRFUk5fTk9OX1BSSU5UQUJMRSIsIlBBVFRFUk5fTk9OX0FTQ0lJX0xJTkVfQlJFQUtTIiwiUEFUVEVSTl9GTE9XX0lORElDQVRPUlMiLCJQQVRURVJOX1RBR19IQU5ETEUiLCJQQVRURVJOX1RBR19VUkkiLCJfY2xhc3MiLCJpc19FT0wiLCJpc19XSElURV9TUEFDRSIsImlzX1dTX09SX0VPTCIsImlzX0ZMT1dfSU5ESUNBVE9SIiwiZnJvbUhleENvZGUiLCJsYyIsImVzY2FwZWRIZXhMZW4iLCJmcm9tRGVjaW1hbENvZGUiLCJzaW1wbGVFc2NhcGVTZXF1ZW5jZSIsImNoYXJGcm9tQ29kZXBvaW50Iiwic2ltcGxlRXNjYXBlQ2hlY2siLCJzaW1wbGVFc2NhcGVNYXAiLCJTdGF0ZSQxIiwiZ2VuZXJhdGVFcnJvciIsInN0YXRlIiwidGhyb3dFcnJvciIsInRocm93V2FybmluZyIsImRpcmVjdGl2ZUhhbmRsZXJzIiwibWFqb3IiLCJtaW5vciIsImhhbmRsZSIsInByZWZpeCIsImNhcHR1cmVTZWdtZW50IiwiY2hlY2tKc29uIiwiX3Bvc2l0aW9uIiwiX2xlbmd0aCIsIl9jaGFyYWN0ZXIiLCJfcmVzdWx0IiwibWVyZ2VNYXBwaW5ncyIsImRlc3RpbmF0aW9uIiwib3ZlcnJpZGFibGVLZXlzIiwicXVhbnRpdHkiLCJzdG9yZU1hcHBpbmdQYWlyIiwia2V5VGFnIiwia2V5Tm9kZSIsInZhbHVlTm9kZSIsInN0YXJ0TGluZVN0YXJ0Iiwic3RhcnRQb3MiLCJyZWFkTGluZUJyZWFrIiwic2tpcFNlcGFyYXRpb25TcGFjZSIsImFsbG93Q29tbWVudHMiLCJjaGVja0luZGVudCIsImxpbmVCcmVha3MiLCJ0ZXN0RG9jdW1lbnRTZXBhcmF0b3IiLCJ3cml0ZUZvbGRlZExpbmVzIiwicmVhZFBsYWluU2NhbGFyIiwibm9kZUluZGVudCIsIndpdGhpbkZsb3dDb2xsZWN0aW9uIiwicHJlY2VkaW5nIiwiZm9sbG93aW5nIiwiY2FwdHVyZVN0YXJ0IiwiY2FwdHVyZUVuZCIsImhhc1BlbmRpbmdDb250ZW50IiwiX2xpbmUiLCJfbGluZVN0YXJ0IiwiX2xpbmVJbmRlbnQiLCJfa2luZCIsInJlYWRTaW5nbGVRdW90ZWRTY2FsYXIiLCJyZWFkRG91YmxlUXVvdGVkU2NhbGFyIiwiaGV4TGVuZ3RoIiwiaGV4UmVzdWx0IiwidG1wIiwicmVhZEZsb3dDb2xsZWN0aW9uIiwicmVhZE5leHQiLCJfcG9zIiwiX3RhZyIsIl9hbmNob3IiLCJ0ZXJtaW5hdG9yIiwiaXNQYWlyIiwiaXNFeHBsaWNpdFBhaXIiLCJpc01hcHBpbmciLCJjb21wb3NlTm9kZSIsInJlYWRCbG9ja1NjYWxhciIsImZvbGRpbmciLCJjaG9tcGluZyIsImRpZFJlYWRDb250ZW50IiwiZGV0ZWN0ZWRJbmRlbnQiLCJ0ZXh0SW5kZW50IiwiZW1wdHlMaW5lcyIsImF0TW9yZUluZGVudGVkIiwicmVhZEJsb2NrU2VxdWVuY2UiLCJkZXRlY3RlZCIsInJlYWRCbG9ja01hcHBpbmciLCJmbG93SW5kZW50IiwiYWxsb3dDb21wYWN0IiwiX2tleUxpbmUiLCJfa2V5TGluZVN0YXJ0IiwiX2tleVBvcyIsImF0RXhwbGljaXRLZXkiLCJyZWFkVGFnUHJvcGVydHkiLCJpc1ZlcmJhdGltIiwiaXNOYW1lZCIsInRhZ0hhbmRsZSIsInRhZ05hbWUiLCJyZWFkQW5jaG9yUHJvcGVydHkiLCJyZWFkQWxpYXMiLCJwYXJlbnRJbmRlbnQiLCJub2RlQ29udGV4dCIsImFsbG93VG9TZWVrIiwiYWxsb3dCbG9ja1N0eWxlcyIsImFsbG93QmxvY2tTY2FsYXJzIiwiYWxsb3dCbG9ja0NvbGxlY3Rpb25zIiwiaW5kZW50U3RhdHVzIiwiYXROZXdMaW5lIiwiaGFzQ29udGVudCIsInR5cGVJbmRleCIsInR5cGVRdWFudGl0eSIsInR5cGVMaXN0IiwiYmxvY2tJbmRlbnQiLCJyZWFkRG9jdW1lbnQiLCJkb2N1bWVudFN0YXJ0IiwiZGlyZWN0aXZlTmFtZSIsImRpcmVjdGl2ZUFyZ3MiLCJoYXNEaXJlY3RpdmVzIiwibG9hZERvY3VtZW50cyIsIm51bGxwb3MiLCJsb2FkQWxsJDEiLCJpdGVyYXRvciIsImRvY3VtZW50cyIsImxvYWQkMSIsImxvYWRBbGxfMSIsImxvYWRfMSIsImxvYWRlciIsIl90b1N0cmluZyIsIl9oYXNPd25Qcm9wZXJ0eSIsIkNIQVJfQk9NIiwiQ0hBUl9UQUIiLCJDSEFSX0xJTkVfRkVFRCIsIkNIQVJfQ0FSUklBR0VfUkVUVVJOIiwiQ0hBUl9TUEFDRSIsIkNIQVJfRVhDTEFNQVRJT04iLCJDSEFSX0RPVUJMRV9RVU9URSIsIkNIQVJfU0hBUlAiLCJDSEFSX1BFUkNFTlQiLCJDSEFSX0FNUEVSU0FORCIsIkNIQVJfU0lOR0xFX1FVT1RFIiwiQ0hBUl9BU1RFUklTSyIsIkNIQVJfQ09NTUEiLCJDSEFSX01JTlVTIiwiQ0hBUl9DT0xPTiIsIkNIQVJfRVFVQUxTIiwiQ0hBUl9HUkVBVEVSX1RIQU4iLCJDSEFSX1FVRVNUSU9OIiwiQ0hBUl9DT01NRVJDSUFMX0FUIiwiQ0hBUl9MRUZUX1NRVUFSRV9CUkFDS0VUIiwiQ0hBUl9SSUdIVF9TUVVBUkVfQlJBQ0tFVCIsIkNIQVJfR1JBVkVfQUNDRU5UIiwiQ0hBUl9MRUZUX0NVUkxZX0JSQUNLRVQiLCJDSEFSX1ZFUlRJQ0FMX0xJTkUiLCJDSEFSX1JJR0hUX0NVUkxZX0JSQUNLRVQiLCJFU0NBUEVfU0VRVUVOQ0VTIiwiREVQUkVDQVRFRF9CT09MRUFOU19TWU5UQVgiLCJERVBSRUNBVEVEX0JBU0U2MF9TWU5UQVgiLCJjb21waWxlU3R5bGVNYXAiLCJlbmNvZGVIZXgiLCJjaGFyYWN0ZXIiLCJRVU9USU5HX1RZUEVfU0lOR0xFIiwiUVVPVElOR19UWVBFX0RPVUJMRSIsIlN0YXRlIiwiaW5kZW50U3RyaW5nIiwic3BhY2VzIiwiaW5kIiwibmV4dCIsImdlbmVyYXRlTmV4dExpbmUiLCJ0ZXN0SW1wbGljaXRSZXNvbHZpbmciLCJpc1doaXRlc3BhY2UiLCJpc1ByaW50YWJsZSIsImlzTnNDaGFyT3JXaGl0ZXNwYWNlIiwiaXNQbGFpblNhZmUiLCJwcmV2IiwiaW5ibG9jayIsImNJc05zQ2hhck9yV2hpdGVzcGFjZSIsImNJc05zQ2hhciIsImlzUGxhaW5TYWZlRmlyc3QiLCJpc1BsYWluU2FmZUxhc3QiLCJjb2RlUG9pbnRBdCIsImZpcnN0IiwibmVlZEluZGVudEluZGljYXRvciIsImxlYWRpbmdTcGFjZVJlIiwiU1RZTEVfUExBSU4iLCJTVFlMRV9TSU5HTEUiLCJTVFlMRV9MSVRFUkFMIiwiU1RZTEVfRk9MREVEIiwiU1RZTEVfRE9VQkxFIiwiY2hvb3NlU2NhbGFyU3R5bGUiLCJzaW5nbGVMaW5lT25seSIsImluZGVudFBlckxldmVsIiwibGluZVdpZHRoIiwidGVzdEFtYmlndW91c1R5cGUiLCJxdW90aW5nVHlwZSIsImZvcmNlUXVvdGVzIiwiY2hhciIsInByZXZDaGFyIiwiaGFzTGluZUJyZWFrIiwiaGFzRm9sZGFibGVMaW5lIiwic2hvdWxkVHJhY2tXaWR0aCIsInByZXZpb3VzTGluZUJyZWFrIiwicGxhaW4iLCJ3cml0ZVNjYWxhciIsImlza2V5IiwiaW5kZW50IiwidGVzdEFtYmlndWl0eSIsImJsb2NrSGVhZGVyIiwiZHJvcEVuZGluZ05ld2xpbmUiLCJmb2xkU3RyaW5nIiwiZXNjYXBlU3RyaW5nIiwiaW5kZW50SW5kaWNhdG9yIiwiY2xpcCIsImtlZXAiLCJjaG9tcCIsIndpZHRoIiwibGluZVJlIiwibmV4dExGIiwiZm9sZExpbmUiLCJwcmV2TW9yZUluZGVudGVkIiwibW9yZUluZGVudGVkIiwiYnJlYWtSZSIsImN1cnIiLCJlc2NhcGVTZXEiLCJ3cml0ZUZsb3dTZXF1ZW5jZSIsIndyaXRlTm9kZSIsIndyaXRlQmxvY2tTZXF1ZW5jZSIsIndyaXRlRmxvd01hcHBpbmciLCJvYmplY3RLZXlMaXN0Iiwib2JqZWN0S2V5Iiwib2JqZWN0VmFsdWUiLCJwYWlyQnVmZmVyIiwid3JpdGVCbG9ja01hcHBpbmciLCJleHBsaWNpdFBhaXIiLCJkZXRlY3RUeXBlIiwiYmxvY2siLCJpc2Jsb2Nrc2VxIiwidGFnU3RyIiwib2JqZWN0T3JBcnJheSIsImR1cGxpY2F0ZUluZGV4IiwiZHVwbGljYXRlIiwiZ2V0RHVwbGljYXRlUmVmZXJlbmNlcyIsIm9iamVjdHMiLCJkdXBsaWNhdGVzSW5kZXhlcyIsImluc3BlY3ROb2RlIiwiZHVtcCQxIiwiZHVtcF8xIiwiZHVtcGVyIiwiREVGQVVMVF9TQ0hFTUEiLCJsb2FkIiwiZHVtcCIsIk1NX1VJRF9LRVkiLCJzcGxpdEZyb250bWF0dGVyIiwiZW5kSWR4IiwiYm9keSIsInBhcnNlRnJvbnRtYXR0ZXIiLCJmcm9udE1hdHRlclRleHQiLCJwYXJzZWQiLCJ5YW1sLmxvYWQiLCJkdW1wRnJvbnRtYXR0ZXIiLCJ5YW1sLmR1bXAiLCJ5YW1sLkRFRkFVTFRfU0NIRU1BIiwicmVhZE1tVWlkIiwidmFsIiwibW0iLCJ3cml0ZU1tVWlkIiwiZm1PYmoiLCJTeW5jU3RhdHVzIiwiU3luY1N0YXR1c01hbmFnZXIiLCJncmFwaGl0aVNlcnZpY2UiLCJzb3VyY2VfZGVzY3JpcHRpb24iLCJxdWV1ZUl0ZW0iLCJGcm9udG1hdHRlclV0aWxzLnJlYWRNbVVpZCIsInN5bmNUeXBlSW5mbyIsIm90aGVyRGF0YWJhc2VzIiwic3luY1Jlc3VsdCIsImFic29sdXRlRmlsZVBhdGgiLCJOb3RpY2UiLCJyZWdpc3RyeUVycm9yIiwicHJvdmlkZWRNbVVpZCIsImV4aXN0aW5nTW1VaWQiLCJuZXdNbVVpZCIsInN5bmNlZFRpbWUiLCJGcm9udG1hdHRlclV0aWxzLndyaXRlTW1VaWQiLCJlcGlzb2RlSWQiLCJyYW5kb20iLCJmYWxsYmFja0lkIiwiZW5kSW5kZXgiLCJib2R5Q29udGVudCIsInlhbWwiLCJpbnB1dFBhdGgiLCJhYnNvbHV0ZVBhdGgiLCJ1bmlxdWVQYXJ0cyIsIk1DUEZvbGRlclJlc29sdmVyIiwibm90ZVR5cGUiLCJpc1ZhbGlkIiwibm9ybWFsaXplZCIsImZvbGRlckV4aXN0cyIsInNlZ21lbnRzIiwiY3VycmVudFBhdGgiLCJjcmVhdGVkQW55IiwiZXhpc3RzTm93IiwiR3JhcGhpdGlTZXJ2aWNlIiwic3luY1N0YXR1c01hbmFnZXIiLCJuZXdWYXVsdElkIiwibm90ZXNQYXRocyIsIm9uUHJvZ3Jlc3MiLCJub3Rlc1RvU3luYyIsInRyaWdnZXJUeXBlIiwibm90ZXNGb3JTeW5jIiwicHJvZ3Jlc3MiLCJicmlkZ2VQYXRoIiwiaW5zdGFsbFBhdGgiLCJjb21tYW5kIiwib3V0cHV0QnVmZmVyIiwiZXJyb3JCdWZmZXIiLCJsYXN0UHJvZ3Jlc3NUaW1lIiwiZXJyb3JNc2ciLCJ0aW1lb3V0SWQiLCJjdXJyZW50RW1iZWRkaW5nTW9kZWwiLCJkZXRhaWxzIiwiZW1iZWRkaW5nVmFsaWRhdGlvbkVycm9yIiwidmFsaWRhdGlvbiIsInN5bmNDb25maWciLCJwcm9jZXNzZWRDb3VudCIsInNraXBwZWRDb3VudCIsIm5vdGVSZXN1bHRzIiwicmVsYXRpdmVQYXRoIiwibm90ZUZpbGUiLCJmaW5hbFN0YXR1cyIsImZpbmFsUmVzdWx0Iiwibm90ZVN1bW1hcmllcyIsIm4iLCJwYXRoVmFsIiwic3RhdHVzVmFsIiwiZXBpc29kZVZhbCIsInN1bW1hcnkiLCJhdmFpbGFibGVUeXBlcyIsImF2YWlsYWJsZVRhZ3MiLCJwYXRoU2VnbWVudHMiLCJoYWxmTGVuZ3RoIiwiaXNEdXBsaWNhdGVkIiwiaiIsInBhdHRlcm5MZW5ndGgiLCJ2YXVsdFBhdGhzIiwic3RhcnRUaW1lIiwicGVyZm9ybWFuY2UiLCJjdXJyZW50VmF1bHRJZCIsImNhY2hlZCIsInJlc29sdmVkUGF0aHMiLCJkdXJhdGlvbiIsImFjdGl2ZVZhdWx0Iiwibm9ybWFsaXplZFZhdWx0UGF0aCIsImJyaWRnZURpciIsInN0YW5kYXJkUGx1Z2luUGF0aCIsInN0YW5kYXJkQnJpZGdlUGF0aCIsImRldlByb2plY3RQYXRoIiwiZGV2QnJpZGdlUGF0aCIsInZhdWx0QnJpZGdlUGF0aCIsInBsdWdpbkluc3RhbGxEaXIiLCJtYW5pZmVzdFBhdGgiLCJtYW5pZmVzdEJyaWRnZVBhdGgiLCJjZmciLCJzYW5pdGl6ZWQiLCJhY2MiLCJkYkNvbmZpZyIsImZpbmFsVmF1bHRQYXRoIiwiY3VycmVudFNldHRpbmdzIiwicHJldmlvdXNfZXBpc29kZV91dWlkcyIsInN5bmNTY3JpcHQiLCJydW5TaW5nbGVTeW5jIiwic2luZ2xlQ29uZmlnIiwib3V0IiwiZGlhZ25vc3RpYyIsInBhcnNlRXJyIiwibm90ZVBhdGhGb3JHcm91cCIsImdyb3VwSWRPdmVycmlkZSIsInJldHJ5QWZ0ZXIiLCJyZXNldFRpbWUiLCJwcm92aWRlck1lc3NhZ2UiLCJwYXVzZU1lc3NhZ2UiLCJyZXNldERhdGUiLCJ0cnVuY2F0ZWRTdGRlcnIiLCJza2lwcGVkIiwibm9kZVR5cGVzTG9hZGVkIiwiZWRnZVR5cGVzTG9hZGVkIiwicmVzdWx0V3JhcHBlciIsIm1heERlbGF5IiwiZXJyTXNnIiwiZGFlbW9uQnJpZGdlIiwicGFyc2VkUmVzdWx0IiwidGVzdFR5cGUiLCJ0ZXN0U2NyaXB0IiwidmFsaWRhdGlvblJlc3VsdHMiLCJsbG1BcGlLZXkiLCJlbWJlZGRlckFwaUtleSIsImhhc0NoYW5nZWQiLCJtaXNtYXRjaERldGFpbHMiLCJ3YXJuaW5nTWVzc2FnZSIsInByb2Nlc3NpbmdUaW1lIiwidG90YWxDb3VudCIsImJhdGNoQ291bnQiLCJmaXJzdE5vdGUiLCJlcGlzb2RlTmFtZSIsImVudGl0eU5hbWUiLCJhdmFpbGFibGVFbnRpdHlUeXBlcyIsImFkZGVkQ291bnQiLCJ1cGRhdGVkQ291bnQiLCJleGlzdGluZyIsInByb3BlcnR5IiwiZGVmYXVsdERlc2NyaXB0aW9uIiwidG90YWxBY2Nlc3NlcyIsImhpdFJhdGlvIiwiY2FjaGVTaXplIiwiZXN0aW1hdGVkTWVtb3J5VXNhZ2VLQiIsIm1jcFNlcnZlclBhdGgiLCJ0aW1lb3V0Iiwic2lnbmFsIiwicGlkIiwiZ3JhY2VmdWxUaW1lb3V0IiwiZGF0YUpzb25QYXRoIiwib3MiLCJjbGF1ZGVDb25maWdEaXIiLCJjbGF1ZGVDb25maWdQYXRoIiwiUHl0aG9uRGFlbW9uQnJpZGdlIiwidmF1bHRSZWdpc3RyeSIsImRhZW1vblNjcmlwdCIsImVudiIsInN0YXJ0dXBDb21wbGV0ZSIsInN0YXJ0dXBUaW1lb3V0IiwicXVldWVkQ29tbWFuZCIsInByb2MiLCJyZXNwb25zZUJ1ZmZlciIsInJlc3BvbnNlUmVjZWl2ZWQiLCJvbkRhdGEiLCJjb21tYW5kSnNvbiIsImNtZCIsInByb2Nlc3NSZWYiLCJzaHV0ZG93bkNvbW1hbmQiLCJtYW5pZmVzdERpciIsImZhbGxiYWNrUGF0aCIsIm5vb3AiLCJydW4iLCJibGFua19vYmplY3QiLCJydW5fYWxsIiwiZm5zIiwiaXNfZnVuY3Rpb24iLCJ0aGluZyIsInNhZmVfbm90X2VxdWFsIiwiaXNfZW1wdHkiLCJhcHBlbmQiLCJub2RlIiwiaW5zZXJ0IiwiYW5jaG9yIiwiZGV0YWNoIiwiZGVzdHJveV9lYWNoIiwiaXRlcmF0aW9ucyIsImRldGFjaGluZyIsImVsZW1lbnQiLCJzdmdfZWxlbWVudCIsInNwYWNlIiwiZW1wdHkiLCJsaXN0ZW4iLCJoYW5kbGVyIiwic3RvcF9wcm9wYWdhdGlvbiIsImF0dHIiLCJhdHRyaWJ1dGUiLCJzZXRfZGF0YSIsInNldF9pbnB1dF92YWx1ZSIsInNldF9zdHlsZSIsImltcG9ydGFudCIsInNlbGVjdF9vcHRpb24iLCJzZWxlY3QiLCJtb3VudGluZyIsIm9wdGlvbiIsInNlbGVjdF92YWx1ZSIsInNlbGVjdGVkX29wdGlvbiIsImN1cnJlbnRfY29tcG9uZW50Iiwic2V0X2N1cnJlbnRfY29tcG9uZW50IiwiY29tcG9uZW50IiwiZ2V0X2N1cnJlbnRfY29tcG9uZW50Iiwib25Nb3VudCIsIm9uRGVzdHJveSIsImRpcnR5X2NvbXBvbmVudHMiLCJiaW5kaW5nX2NhbGxiYWNrcyIsInJlbmRlcl9jYWxsYmFja3MiLCJmbHVzaF9jYWxsYmFja3MiLCJyZXNvbHZlZF9wcm9taXNlIiwidXBkYXRlX3NjaGVkdWxlZCIsInNjaGVkdWxlX3VwZGF0ZSIsImZsdXNoIiwiYWRkX3JlbmRlcl9jYWxsYmFjayIsInNlZW5fY2FsbGJhY2tzIiwiZmx1c2hpZHgiLCJzYXZlZF9jb21wb25lbnQiLCJ1cGRhdGUiLCJjYWxsYmFjayIsIiQkIiwiZGlydHkiLCJmbHVzaF9yZW5kZXJfY2FsbGJhY2tzIiwiZmlsdGVyZWQiLCJ0YXJnZXRzIiwib3V0cm9pbmciLCJvdXRyb3MiLCJncm91cF9vdXRyb3MiLCJjaGVja19vdXRyb3MiLCJ0cmFuc2l0aW9uX2luIiwibG9jYWwiLCJ0cmFuc2l0aW9uX291dCIsImVuc3VyZV9hcnJheV9saWtlIiwiYXJyYXlfbGlrZV9vcl9pdGVyYXRvciIsImNyZWF0ZV9jb21wb25lbnQiLCJtb3VudF9jb21wb25lbnQiLCJmcmFnbWVudCIsImFmdGVyX3VwZGF0ZSIsIm5ld19vbl9kZXN0cm95IiwiZGVzdHJveV9jb21wb25lbnQiLCJtYWtlX2RpcnR5IiwiaW5pdCIsImluc3RhbmNlIiwiY3JlYXRlX2ZyYWdtZW50Iiwibm90X2VxdWFsIiwicHJvcHMiLCJhcHBlbmRfc3R5bGVzIiwicGFyZW50X2NvbXBvbmVudCIsInJlYWR5IiwicmV0IiwicmVzdCIsIm5vZGVzIiwiU3ZlbHRlQ29tcG9uZW50IiwiX19wdWJsaWNGaWVsZCIsImNhbGxiYWNrcyIsIlBVQkxJQ19WRVJTSU9OIiwiY3R4Iiwic3BhbiIsImljb24iLCIkJHByb3BzIiwic2l6ZSIsImV4dHJhQ2xhc3NlcyIsImljb25FbCIsIm9ic2VydmVyIiwic2l6ZUNsYXNzZXMiLCJ1cGRhdGVJY29uIiwic2V0SWNvbiIsIiQkaW52YWxpZGF0ZSIsIm11dGF0aW9ucyIsIm11dGF0aW9uIiwiJCR2YWx1ZSIsImNoaWxkX2N0eCIsImNvbnN0YW50c18xIiwiY29uc3RhbnRzXzAiLCJjb25zdGFudHNfMyIsImNvbnN0YW50c180IiwiX2kiLCJfbCIsIl9rIiwiX2oiLCJnZXRDb21wbGlhbmNlU3RhdHMiLCJzdW0iLCJ0MV92YWx1ZSIsInQxIiwiY3JlYXRlX2lmX2Jsb2NrXzQ3IiwiZ2V0X2lmX2N0eCIsImNyZWF0ZV9pZl9ibG9ja180NCIsImRpdjgiLCJkaXYxIiwiaDMwIiwicDAiLCJkaXYwIiwiYnV0dG9uMCIsImJ1dHRvbjEiLCJidXR0b24yIiwiYnV0dG9uMyIsInNwYW4wIiwiZGl2NyIsImgzMSIsImRpdjYiLCJkaXYzIiwiaDQiLCJkaXYyIiwiYnV0dG9uNCIsInNwYW4xIiwiZGl2NCIsImRpdjUiLCJjcmVhdGVfaWZfYmxvY2tfNDgiLCJzcGFuMiIsInNwYW40Iiwic3BhbjYiLCJoMyIsInNwYW4zIiwic3BhbjUiLCJzcGFuNyIsImlmX2Jsb2NrIiwiYnV0dG9uIiwiZGl2IiwiY3VycmVudCIsImVhY2hfYmxvY2tzIiwidF92YWx1ZSIsInRleHRhcmVhIiwiYnV0dG9uX3RpdGxlX3ZhbHVlIiwidDBfdmFsdWUiLCJ0OV92YWx1ZSIsInQxNF92YWx1ZSIsInNlbGVjdGVkVHlwZSIsImxhYmVsIiwidDAiLCJ0MyIsInQzX3ZhbHVlIiwidDkiLCJ0MTIiLCJ0MTJfdmFsdWUiLCJ0MTQiLCJwMSIsImRpdjExIiwiZGl2OSIsImlucHV0MSIsImlucHV0MyIsImlucHV0NSIsImRpdjEwIiwic3Ryb25nIiwiYnIiLCJzcGFuOSIsImNyZWF0ZV9pZl9ibG9ja18yMSIsImVhY2hfdmFsdWVfMTQiLCJ0Ml92YWx1ZSIsInQyIiwidDYiLCJ0Nl92YWx1ZSIsImNyZWF0ZV9pZl9ibG9ja18yOCIsImNyZWF0ZV9pZl9ibG9ja18yNiIsImNyZWF0ZV9pZl9ibG9ja18zOCIsImNyZWF0ZV9pZl9ibG9ja18zNyIsImNyZWF0ZV9pZl9ibG9ja18zMyIsImNyZWF0ZV9pZl9ibG9ja18zNCIsImNyZWF0ZV9pZl9ibG9ja18zNSIsImNyZWF0ZV9pZl9ibG9ja18zNiIsImNyZWF0ZV9pZl9ibG9ja18yNSIsImlucHV0MCIsImlucHV0MF9jaGVja2VkX3ZhbHVlIiwiaW5wdXQxX3ZhbHVlX3ZhbHVlIiwiZGl2Ml9jbGFzc192YWx1ZSIsInQ0IiwidDRfdmFsdWUiLCJfbSIsInQ1IiwidDVfdmFsdWUiLCJzaG93X2lmXzEiLCJzaG93X2lmIiwic2hvd19pZl8yIiwiZGl2M19pZF92YWx1ZSIsInQ3IiwidDdfdmFsdWUiLCJoNSIsImJ1dHRvbjUiLCJpZl9ibG9jazEiLCJjcmVhdGVfaWZfYmxvY2tfMTQiLCJ0ZXh0YXJlYV92YWx1ZV92YWx1ZSIsInN0cm9uZzAiLCJzdHJvbmcxIiwiZWFjaF92YWx1ZV8xMiIsImdldFByb3BlcnR5SW5mbyIsImlucHV0X3ZhbHVlX3ZhbHVlIiwib3B0aW9uMCIsIm9wdGlvbjEiLCJvcHRpb24yIiwib3B0aW9uMyIsIm9wdGlvbjQiLCJvcHRpb241IiwiY3JlYXRlX2lmX2Jsb2NrXzUiLCJlYWNoX3ZhbHVlXzkiLCJjcmVhdGVfaWZfYmxvY2tfOCIsInNlbGVjdDAiLCJzZWxlY3QxIiwiYnV0dG9uMF9kaXNhYmxlZF92YWx1ZSIsImxhYmVsMCIsImxhYmVsMSIsImVhY2hfdmFsdWVfNCIsImNyZWF0ZV9pZl9ibG9ja180IiwiZnVuY18yIiwidDE4X3ZhbHVlIiwidDI1X3ZhbHVlIiwiY3JlYXRlX2lmX2Jsb2NrXzUwIiwiY3JlYXRlX2lmX2Jsb2NrXzQ5IiwiZ2V0X2lmX2N0eF8xIiwiaWZfYmxvY2syIiwiY3JlYXRlX2lmX2Jsb2NrXzQzIiwiaWZfYmxvY2szIiwiY3JlYXRlX2lmX2Jsb2NrXzE4IiwiaWZfYmxvY2s0IiwiY3JlYXRlX2lmX2Jsb2NrXzkiLCJpZl9ibG9jazUiLCJjcmVhdGVfaWZfYmxvY2tfMiIsImNyZWF0ZV9pZl9ibG9jayIsImNyZWF0ZV9pZl9ibG9ja18xIiwiYnV0dG9uMl9jbGFzc192YWx1ZSIsImJ1dHRvbjNfY2xhc3NfdmFsdWUiLCJidXR0b240X2NsYXNzX3ZhbHVlIiwiYnV0dG9uNV9jbGFzc192YWx1ZSIsImgyIiwidDE4IiwidDI1IiwicHJvcERlZiIsInRvdGFsIiwidmFsaWQiLCJwcm90ZWN0ZWRDb3VudCIsInNjaGVtYVNlcnZpY2UiLCJwbHVnaW5TZXR0aW5ncyIsImxvYWRpbmciLCJoYW5kbGVUYWJDaGFuZ2UiLCJuZXdUYWIiLCJhY3RpdmVUYWIiLCJleHBhbmRlZEFjY29yZGlvbnMiLCJlZGl0aW5nRW50aXR5RGVzY3JpcHRpb24iLCJ0ZW1wRW50aXR5RGVzY3JpcHRpb25zIiwic2hvd0FkZEVkZ2VGb3JtIiwibmV3RWRnZVR5cGVOYW1lIiwibmV3RWRnZVR5cGVEZXNjcmlwdGlvbiIsImFkZGluZ1Byb3BlcnR5VG9FZGdlIiwibmV3UHJvcGVydHlOYW1lIiwibmV3UHJvcGVydHlUeXBlIiwibmV3UHJvcGVydHlEZXNjcmlwdGlvbiIsIm5ld1Byb3BlcnR5UmVxdWlyZWQiLCJzaG93QWRkTWFwcGluZ0Zvcm0iLCJuZXdNYXBwaW5nU291cmNlRW50aXR5IiwibmV3TWFwcGluZ1RhcmdldEVudGl0eSIsIm5ld01hcHBpbmdBbGxvd2VkRWRnZXMiLCJlZGl0aW5nTWFwcGluZ0luZGV4IiwidGVtcEVkaXRNYXBwaW5nU291cmNlRW50aXR5IiwidGVtcEVkaXRNYXBwaW5nVGFyZ2V0RW50aXR5IiwidGVtcEVkaXRNYXBwaW5nQWxsb3dlZEVkZ2VzIiwidG9nZ2xlQWNjb3JkaW9uIiwibmF2aWdhdGVUb0VudGl0eVByb3BlcnRpZXMiLCJzdGFydEVkaXRpbmdFbnRpdHlEZXNjcmlwdGlvbiIsImVudGl0eURlc2NyaXB0aW9ucyIsInNhdmVFbnRpdHlEZXNjcmlwdGlvbiIsImNhbmNlbEVkaXRpbmdFbnRpdHlEZXNjcmlwdGlvbiIsImdldEVudGl0eURlc2NyaXB0aW9uIiwiaGFzRGVmYXVsdEVudGl0eURlc2NyaXB0aW9uIiwibG9hZERlZmF1bHRFbnRpdHlEZXNjcmlwdGlvbiIsImhhc0RlZmF1bHRQcm9wZXJ0eURlc2NyaXB0aW9uIiwibG9hZERlZmF1bHRQcm9wZXJ0eURlc2NyaXB0aW9uIiwicHJvcEluZGV4IiwidXBkYXRlUHJvcGVydHkiLCJzYXZlTmV3RWRnZVR5cGUiLCJjYW5jZWxBZGRFZGdlVHlwZSIsImRlbGV0ZUVkZ2VUeXBlIiwiZWRnZVR5cGVOYW1lIiwiZ2V0RWRnZVR5cGVEZXNjcmlwdGlvbiIsInF1aWNrQWRkRWRnZVR5cGUiLCJkZWZhdWx0UHJvcGVydGllcyIsImFkZFByb3BlcnR5VG9FZGdlVHlwZSIsInJlbW92ZVByb3BlcnR5RnJvbUVkZ2VUeXBlIiwidXBkYXRlUHJvcGVydHlEZXNjcmlwdGlvbiIsImhhbmRsZUVkZ2VQcm9wZXJ0eURlc2NyaXB0aW9uSW5wdXQiLCJoYW5kbGVFZGdlVHlwZURlc2NyaXB0aW9uSW5wdXQiLCJuZXdEZXNjcmlwdGlvbiIsInNhdmVOZXdNYXBwaW5nIiwibmV3TWFwcGluZyIsImNhbmNlbEFkZE1hcHBpbmciLCJyZW1vdmVNYXBwaW5nIiwiXyIsInRvZ2dsZUVkZ2VUeXBlIiwicXVpY2tBZGRNYXBwaW5nIiwic291cmNlRW50aXR5IiwidGFyZ2V0RW50aXR5IiwiYWxsb3dlZEVkZ2VzIiwiYWRkQWxsVW51c2VkRWRnZVR5cGVzIiwidW51c2VkRWRnZVR5cGVzIiwicGx1Z2luUmVmIiwiYWRkQWxsU3VnZ2VzdGVkTWFwcGluZ3MiLCJzdWdnZXN0ZWRNYXBwaW5ncyIsInN1Z2dlc3Rpb24iLCJzdGFydEVkaXRNYXBwaW5nIiwic2F2ZUVkaXRNYXBwaW5nIiwiY2FuY2VsRWRpdE1hcHBpbmciLCJ0b2dnbGVFZGl0RWRnZVR5cGUiLCJyZWZyZXNoSW50ZXJ2YWwiLCJyZWZyZXNoU2NoZW1hcyIsInByZXZpb3VzU2V0dGluZ3NTdHJpbmciLCJpbml0aWFsaXplUHJvcGVydHlTZWxlY3Rpb25zIiwiZ2VuZXJhdGVBbGxNb2RlbHMiLCJnZXRNYXBwZWRQcm9wZXJ0eU5hbWUiLCJlbnRpdHlNYXBwaW5ncyIsImdldE9yaWdpbmFsUHJvcGVydHlOYW1lIiwiY3VycmVudE5hbWUiLCJtYXBwZWRWYWx1ZSIsImlzUHJvcGVydHlNYXBwZWQiLCJzYXZlUHJvcGVydHlTZWxlY3Rpb25Ub1BsdWdpbiIsIm9yaWdpbmFsUHJvcGVydHkiLCJvcmlnIiwibmVlZHNTYXZlIiwic2NoZW1hSW5kZXgiLCJmaWVsZCIsImhhbmRsZUNoZWNrYm94Q2hhbmdlIiwiaGFuZGxlRGVzY3JpcHRpb25JbnB1dCIsInNhdmVQcm9wZXJ0eURlc2NyaXB0aW9uVG9QbHVnaW4iLCJnZXRQcm9wZXJ0eURlc2NyaXB0aW9uIiwiZmFsbGJhY2tEZXNjcmlwdGlvbiIsInNhdmVkRGVzY3JpcHRpb24iLCJhcHBseU5hbWluZ1N1Z2dlc3Rpb24iLCJnZXRPdmVyYWxsQ29tcGxpYW5jZVN0YXRzIiwiYWxsUHJvcGVydGllcyIsImFwcGx5QWxsU3VnZ2VzdGlvbnMiLCJpc0VudGl0eUVuYWJsZWQiLCJ0b2dnbGVFbnRpdHlEZWZpbml0aW9uIiwidXBkYXRlZERlc2NyaXB0aW9ucyIsImxvYWRBbGxEZWZhdWx0RW50aXR5RGVzY3JpcHRpb25zIiwibG9hZEFsbERlZmF1bHRQcm9wZXJ0eURlc2NyaXB0aW9ucyIsImVuYWJsZURlZmF1bHRQcm9wZXJ0aWVzIiwidXBkYXRlZFNlbGVjdGlvbnMiLCJpc0dsb2JhbGx5SWdub3JlZCIsInRvZ2dsZVByb3BlcnR5RGVmaW5pdGlvbiIsImlzUHJvcGVydHlEZWZpbmVkIiwicHJvcGVydHlEZXNjcmlwdGlvbnMiLCJzZWxlY3RBbGxQcm9wZXJ0aWVzIiwiZGVzZWxlY3RBbGxQcm9wZXJ0aWVzIiwiY2xpY2tfaGFuZGxlciIsImNsaWNrX2hhbmRsZXJfMSIsImNsaWNrX2hhbmRsZXJfMiIsImNsaWNrX2hhbmRsZXJfMyIsImNsaWNrX2hhbmRsZXJfNCIsImNsaWNrX2hhbmRsZXJfOSIsImNoYW5nZV9oYW5kbGVyXzIiLCJpbnB1dF9oYW5kbGVyIiwiaXNQcm9wZXJ0eUVuYWJsZWQiLCJjbGlja19oYW5kbGVyXzE1IiwiY2xpY2tfaGFuZGxlcl8xNiIsImlucHV0X2hhbmRsZXJfMSIsImNsaWNrX2hhbmRsZXJfMTciLCJpbnB1dF9oYW5kbGVyXzIiLCJjbGlja19oYW5kbGVyXzE5IiwiY2xpY2tfaGFuZGxlcl8yMCIsImNsaWNrX2hhbmRsZXJfMjEiLCJjbGlja19oYW5kbGVyXzIyIiwiY2xpY2tfaGFuZGxlcl8yMyIsImNsaWNrX2hhbmRsZXJfMjQiLCJjbGlja19oYW5kbGVyXzI1IiwiY2xpY2tfaGFuZGxlcl8yNiIsImNsaWNrX2hhbmRsZXJfMjciLCJjbGlja19oYW5kbGVyXzI4IiwiY2hhbmdlX2hhbmRsZXJfNCIsImNsaWNrX2hhbmRsZXJfMjkiLCJjbGlja19oYW5kbGVyXzMwIiwiY2xpY2tfaGFuZGxlcl8zMSIsImNsaWNrX2hhbmRsZXJfMzMiLCJjaGFuZ2VfaGFuZGxlcl81IiwiY2xpY2tfaGFuZGxlcl8zNiIsImVkZ2VUeXBlc0RhdGEiLCJlZGdlVHlwZXNMaXN0IiwiZW50aXR5VHlwZXNMaXN0IiwiYWxsRW50aXR5VHlwZXMiLCJTQ0hFTUFfTUFOQUdFUl9WSUVXX1RZUEUiLCJTY2hlbWFNYW5hZ2VyVmlldyIsIkl0ZW1WaWV3IiwibGVhZiIsIlNjaGVtYU1hbmFnZXIiLCJjcmVhdGVfaWZfYmxvY2tfMyIsInRhYmxlIiwidGhlYWQiLCJ0Ym9keSIsImJ1dHRvbl9hcmlhX2xhYmVsX3ZhbHVlIiwidDEwX3ZhbHVlIiwiYnV0dG9uX2Rpc2FibGVkX3ZhbHVlIiwidHIiLCJ0ZDAiLCJ0ZDEiLCJ0ZDIiLCJ0ZDMiLCJ0ZDQiLCJ0ZDUiLCJ0MTAiLCJzdmciLCJjcmVhdGVfaWZfYmxvY2tfNyIsImNyZWF0ZV9pZl9ibG9ja182IiwiYnV0dG9uMV9jbGFzc192YWx1ZSIsInNob3dTeW5jTm90aWZpY2F0aW9uIiwic3luY1R5cGUiLCJvbkNsb3NlIiwibm90ZVNlbGVjdGlvblNlcnZpY2UiLCJzeW5jSW5Qcm9ncmVzcyIsInF1aWNrU3luY1RhYmxlRGF0YSIsInRhYmxlTG9hZGluZyIsInN5bmNQcm9ncmVzcyIsIm5ld05vdGVzQ291bnQiLCJleGlzdGluZ05vdGVzQ291bnQiLCJza2lwcGVkTm90ZXNDb3VudCIsImVzdGltYXRlZFRpbWVSZW1haW5pbmciLCJpbml0aWFsaXplTW9kYWwiLCJjb21wdXRlUXVpY2tTeW5jU3RhdHMiLCJhbGxTeW5jYWJsZU5vdGVzQnlUeXBlIiwiYWxsUHJpdmF0ZU5vdGVzIiwibmV3RGF0YSIsInRvdGFsU3luY0NoZWNrcyIsInN5bmNhYmxlTm90ZXNGb3JUeXBlIiwicHJpdmF0ZU5vdGVzRm9yVHlwZSIsInByaXZhdGVDb3VudCIsInN5bmNlZFN0YXR1c1Jlc3VsdHMiLCJpc1N5bmNlZCIsInN5bmNlZENvdW50IiwicmVhZHlQYXRocyIsInJlYWR5Q291bnQiLCJ1cGRhdGVkUGF0aHMiLCJzdGFydENhdGVnb3J5U3luYyIsImFuYWx5emVTZWxlY3RlZE5vdGVzIiwiZXhlY3V0ZUVuaGFuY2VkU3luYyIsInVwZGF0ZVN5bmNQcm9ncmVzcyIsImFuYWx5emVOb3Rlc0xpc3QiLCJsYXRlc3RTeW5jIiwibGFzdE1vZGlmaWVkIiwic3luY1N0YXJ0VGltZSIsImVsYXBzZWQiLCJkZWxheUFkanVzdG1lbnQiLCJyZW1haW5pbmciLCJjYW5jZWxTeW5jIiwicm93IiwiRW5oYW5jZWRTeW5jVUkiLCJNb2RhbCIsImNvbnRlbnRFbCIsIlN5bmNNb2RhbCIsIm9wZW5FbmhhbmNlZFN5bmNVSSIsImdldERlZmF1bHRMTE1CbG9ja3MiLCJkZWZhdWx0cyIsInByZXNldE1vZGVsIiwiVGV4dElucHV0U3VnZ2VzdCIsImlucHV0RWwiLCJpbnB1dFN0ciIsImtleWJvYXJkRXZlbnQiLCJpbnB1dFJlY3QiLCJzdWdnZXN0aW9uRWwiLCJpdGVtcyIsIkZvbGRlclN1Z2dlc3QiLCJhYnN0cmFjdEZpbGVzIiwiZm9sZGVycyIsImxvd2VyQ2FzZUlucHV0U3RyIiwiZWwiLCJpbnB1dEV2ZW50IiwiY2hhbmdlRXZlbnQiLCJleGVjQXN5bmMiLCJwcm9taXNpZnkiLCJleGVjIiwiUHJvY2Vzc0RldGVjdGlvbiIsInBsYXRmb3JtIiwicHl0aG9uQ21kIiwicHl0aG9uT3V0cHV0IiwicHJvY2Vzc2VzIiwiYmxvY2tzIiwic3BsaXRJbmRleCIsInBhcmVudE5hbWUiLCJmb3JtYXR0ZWREYXRlIiwicGFyZW50UGlkIiwicGFyZW50Q21kIiwic3Rkb3V0Iiwid21pY0RhdGUiLCJwYXJlbnRJbmZvIiwicGFyZW50T3V0cHV0IiwibmFtZU91dHB1dCIsImlzV2luZG93cyIsIk9sbGFtYVNlcnZpY2UiLCJiYXNlVXJsIiwicmVxdWVzdFVybCIsInJldHJ5RXJyb3IiLCJmb3JjZVJlZnJlc2giLCJmdWxsTW9kZWxOYW1lcyIsInJldHJ5UmVzcG9uc2UiLCJyZXRyeUZ1bGxOYW1lcyIsIm1vZGVsTmFtZXMiLCJhdmFpbGFibGVNb2RlbHMiLCJtb2RlbHNXaXRoU3RhdHVzIiwibW9kZWxOYW1lIiwiYXZhaWxhYmxlIiwibm9taWNNb2RlbCIsInByb2dyZXNzQ2FsbGJhY2siLCJyZWFkZXIiLCJkb3dubG9hZENvbXBsZXRlIiwiaGFzRXJyb3IiLCJkb25lIiwicGFyc2VFcnJvciIsInRpbWVvdXRNcyIsImludGVydmFsTXMiLCJleGFjdE1vZGVsTmFtZSIsInN1Y2Nlc3MiLCJzdGRlcnIiLCJhbHRFcnJvciIsIk9sbGFtYVNldHRpbmdzIiwibGlzdCIsIm1ldGEiLCJzdGF0dXNDb250YWluZXIiLCJvbGxhbWFTZXJ2aWNlIiwicHJvZ3Jlc3NEaXYiLCJwcm9ncmVzc0JhciIsInByb2dyZXNzRmlsbCIsInN0YXR1c1RleHQiLCJwZXJjZW50YWdlIiwiZHJvcGRvd24iLCJyZXF1ZXN0ZWROYW1lcyIsImRpc3BsYXlOYW1lIiwibW9kZWxUeXBlIiwiaXNBdmFpbGFibGUiLCJzdGF0dXNFbCIsImljb25TcGFuIiwidGV4dFNwYW4iLCJvbkNsaWNrSGFuZGxlciIsImluc3RhbGxCdXR0b24iLCJtb2RlbENvdW50IiwicmVjb3ZlcnlDb250YWluZXIiLCJyZWNvdmVyeUJ1dHRvbiIsInN0YXJ0aW5nRGl2IiwiZXJyb3JEaXYiLCJzaGVsbCIsIm1vZGFsRWwiLCJjbG9zZUJ0biIsImN1c3RvbU1vZGVsU2V0dGluZyIsIlNldHRpbmciLCJtb2RlbElucHV0IiwiZG93bmxvYWRCdXR0b24iLCJkb3dubG9hZEJ0bkNvbXAiLCJoYXNWYWx1ZSIsInBlcnNpc3RFcnIiLCJkcm9wZG93bnMiLCJwYXJlbnRDb250YWluZXIiLCJjdXJyZW50VmFsdWUiLCJvcHQiLCJNQ1BUb29sU2V0dGluZ3MiLCJjYiIsInNhdmVFcnJvciIsInNldHVwRXJyb3IiLCJ0ZW1wbGF0ZXJEZXRlY3RlZCIsInRlbXBsYXRlckVuYWJsZWQiLCJ0ZW1wbGF0ZXJTZXR0aW5nIiwic3RhdHVzSWNvbiIsInRvZ2dsZSIsInBlcmlvZGljTm90ZXNEZXRlY3RlZCIsInBlcmlvZGljTm90ZXNFbmFibGVkIiwicGVyaW9kaWNOb3Rlc1NldHRpbmciLCJwZXJpb2RpY0Vycm9yIiwidG9vbHNDb250YWluZXIiLCJncmFwaGl0aUhlYWRlciIsInRvb2wiLCJ0b29sSXRlbSIsInRvb2xOYW1lIiwidG9vbERlc2MiLCJvYnNpZGlhbkhlYWRlciIsInBsdWdpbk5hbWUiLCJHcmFwaGl0aVNldHRpbmdzVGFiIiwiUGx1Z2luU2V0dGluZ1RhYiIsImNvbnRhaW5lckVsIiwidGl0bGUiLCJjb250ZW50Q2FsbGJhY2siLCJkZWZhdWx0T3BlbiIsImFjY29yZGlvbkNvbnRhaW5lciIsImhlYWRlciIsInRpdGxlU3BhbiIsImNvbnRyb2xzV3JhcCIsInNhdmVkIiwiaXNPcGVuSW5pdGlhbCIsImFycm93IiwiZXZ0IiwibmV3SXNPcGVuIiwiYWxsUHJvdmlkZXJzIiwicHJvdmlkZXJOYW1lIiwib2xsYW1hU2V0dGluZyIsImJ1dHRvbkNvbnRhaW5lciIsIm9sbGFtYVN0YXR1c0NvbnRhaW5lciIsIm1lcmdlQmxvY2siLCJ0YXJnZXRLZXkiLCJzcmNCbG9jayIsInByb3ZpZGVyVGFyZ2V0IiwicHJvdmlkZXJTcmMiLCJsbG1Nb2RlbFNldHRpbmciLCJsbG1TdGF0dXNDb250YWluZXIiLCJpc0luc3RhbGxlZCIsInRleHRFbCIsImxsbVNtYWxsU2V0dGluZyIsImxsbVNtYWxsU3RhdHVzQ29udGFpbmVyIiwicHJlc2V0U2x1ZyIsIm9yaWdpbmFsVGV4dCIsInByZXNldE1ldGEiLCJjcm9zc0VuY29kZXJNb2RlbENvbnRhaW5lciIsImNyb3NzRW5jb2Rlck1vZGVsU2V0dGluZyIsImRiVHlwZSIsInBvcnQiLCJzeW5jT3B0aW9uc0NvbnRhaW5lciIsInNlbGYiLCJzbGlkZXIiLCJuZXdGb2xkZXIiLCJuZXdGaWVsZCIsInN0cmF0ZWd5IiwiZm9sZGVyTWFwcGluZ0NvbnRhaW5lciIsIm5ld0ZvbGRlclBhdGgiLCJjdXJyZW50Rm9sZGVyUGF0aCIsImdyb3VwSWRJbnB1dCIsIm5ld0dyb3VwSWQiLCJhdmFpbGFibGVOYW1lc3BhY2VzU2V0dGluZyIsIm5hbWVzcGFjZXNEaXNwbGF5IiwidXBkYXRlTmFtZXNwYWNlc0Rpc3BsYXkiLCJuYW1lc3BhY2VzIiwiYXV0aFRva2VuU2V0dGluZyIsImNvbm5lY3Rpb25zQ29udGFpbmVyIiwiY29ubmVjdGlvbnNTdGF0dXMiLCJ1cGRhdGVDb25uZWN0aW9uc0Rpc3BsYXkiLCJjb25uZWN0aW9uVXBkYXRlSW50ZXJ2YWwiLCJpbnN0YW5jZXNDb250YWluZXIiLCJpbnN0YW5jZXNTdGF0dXMiLCJ1cGRhdGVJbnN0YW5jZXNEaXNwbGF5IiwibWNwUHJvY2Vzc2VzIiwicHJvY2Vzc0xpbmVzIiwiaW5zdGFuY2VVcGRhdGVJbnRlcnZhbCIsImJ1dHRvbkVsIiwiY29uZmlnSnNvbiIsImhlYWRlckVsIiwiZGVzY0VsIiwidGV4dEFyZWFFbCIsImJ1dHRvbkNvbnRhaW5lckVsIiwiY29weUJ0biIsImRpbSIsImluY2x1ZGVFbXB0eSIsIm1vZGVsT3B0aW9ucyIsInNvdXJjZUtleSIsInNyYyIsImVudHJpZXMiLCJyYSIsInNldHRpbmdzTW9kZWxzIiwiZGVzYyIsInNob3J0RGVzYyIsImVTcmMiLCJ3aXRoU3RhdHVzIiwic3RhdHVzTWFwIiwiZGltcyIsInNldHRpbmciLCJkcm9wZG93bkNvbXBvbmVudCIsInByaW1hcnkiLCJzbWFsbCIsImxsbVNyYyIsInJlY29tbWVuZGVkIiwic21hbGxTcmMiLCJyZWNvbW1lbmRlZFMiLCJjaG9zZW4iLCJsYXRlbmN5VGV4dCIsInNldHRpbmdzSnNvbiIsImJsb2IiLCJ1cmwiLCJpbXBvcnRlZFNldHRpbmdzIiwibW9kYWwiLCJjb25maXJtQnRuIiwiY2FuY2VsQnRuIiwiZGlzcGxheU1lc3NhZ2UiLCJtYXJrZG93bkZpbGVzIiwiZnVsbFBhdGgiLCJzZWxlY3RlZEZpbGUiLCJuZXdTdGF0dXMiLCJERUZBVUxUX1NFVFRJTkdTIiwic2FmZU5vcm1hbGl6ZSIsImNvbGxlY3RBbGxGb2xkZXJzIiwic3RhY2siLCJidWlsZEZvbGRlclRyZWUiLCJkZXB0aCIsImNoaWxkIiwiZm9sZGVyVG9JdGVtIiwiZm9sZGVyTWF0Y2hlc1F1ZXJ5Iiwic3RhcnRJZHgiLCJzZWxlY3RTbWFydEZvcm1hdCIsIkdyYXBoaXRpUGx1Z2luIiwiUGx1Z2luIiwicmF3U2V0dGluZ3MiLCJycyIsImlzRW1wdHkiLCJkaWRIeWRyYXRlIiwidG9wIiwibmVzdGVkIiwibmVzdGVkQSIsIm5lc3RlZEIiLCJjb3VudHMiLCJ3b3Jrc3BhY2UiLCJhY3RpdmVGaWxlIiwidmlldyIsImV4aXN0aW5nSWNvbiIsImFjdGlvbkVsIiwiY3VycmVudEZpbGUiLCJlcnJvclN0YXR1cyIsIm5vdGVQcmVmaXgiLCJzeW5jSnNvblBhdGgiLCJwYXJhbXMiLCJjaG9zZW5Gb3JtYXQiLCJkZXB0aExpbWl0IiwiYWxsIiwidG9wQ2hpbGRyZW4iXSwibWFwcGluZ3MiOiJxbkJBT08sTUFBTUEsRUFBZSxDQU14QixZQUFZQyxFQUFnQkMsRUFBcUIsR0FBTyxDQUp4RCxLQUFRLG9CQUE4QixHQUV0QyxLQUFRLGNBQWdCLFdBR3BCLEtBQUssT0FBU0QsRUFDZCxLQUFLLFVBQVlDLEVBR2pCLEtBQUssMEJBQTBCLENBQ25DLENBRVEsMkJBQWtDLENBQ2xDLEdBQUEsQ0FJQSxNQUFNQyxFQUZVLEtBQUssT0FBTyxJQUFJLE1BQU0sUUFFWixTQUdwQkMsRUFBYUMsR0FBQUEsS0FBS0YsRUFBVyxZQUFhLFVBQVcsYUFBYSxFQUNsRUcsRUFBVUQsR0FBQUEsS0FBS0QsRUFBWSxNQUFNLEVBR2xDRyxHQUFBQSxXQUFXRCxDQUFPLEdBQ25CRSxHQUFBQSxVQUFVRixFQUFT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
