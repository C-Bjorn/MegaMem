"use strict";var Ja=Object.defineProperty;var Qa=(n,e,t)=>e in n?Ja(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Rn=(n,e,t)=>(Qa(n,typeof e!="symbol"?e+"":e,t),t);const P=require("obsidian"),Ge=require("path"),_t=require("fs"),Za=require("events"),Nt=require("child_process"),yn=require("perf_hooks"),Xa=require("os"),el=require("crypto"),tl=require("util");function ti(n){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(n){for(const t in n)if(t!=="default"){const i=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,i.get?i:{enumerable:!0,get:()=>n[t]})}}return e.default=n,Object.freeze(e)}const et=ti(Ge),nl=ti(Xa),il=ti(el),Nr=class Yn{constructor(e,t=!1){this.consolidatedLogPath="",this.consolePrefix="MegaMem:",this.plugin=e,this.debugMode=t}init(){this.initializeConsolidatedLog()}initializeConsolidatedLog(){try{if(!this.plugin.app||!this.plugin.app.vault)throw console.error(`${this.consolePrefix} [ERROR] this.plugin.app.vault is undefined during logger initialization.`),new Error("Plugin app.vault not available during logger initialization");const t=this.plugin.app.vault.adapter.basePath,i=Ge.join(t,".obsidian","plugins","megamem-mcp"),s=Ge.join(i,"logs");_t.existsSync(s)||_t.mkdirSync(s,{recursive:!0}),this.consolidatedLogPath=Ge.join(s,"consolidated.log"),this.truncateLogIfNeeded(),Yn.sessionHeaderWritten||(this.writeToConsolidatedLog(`
`+"=".repeat(80)),this.writeToConsolidatedLog(`NEW SESSION: ${new Date().toISOString()}`),this.writeToConsolidatedLog("=".repeat(80)),Yn.sessionHeaderWritten=!0)}catch(e){console.error(`${this.consolePrefix} Failed to initialize consolidated log:`,e)}}truncateLogIfNeeded(){try{if(!_t.existsSync(this.consolidatedLogPath))return;const{readFileSync:e,writeFileSync:t}=require("fs"),s=e(this.consolidatedLogPath,"utf-8").split(`
`);if(s.length>1e4){const r=s.slice(-1e4);t(this.consolidatedLogPath,r.join(`
`))}}catch{}}writeToFile(e){try{const t=new Date().toISOString();this.writeToConsolidatedLog(`[${t}] ${e}`)}catch(t){console.error(`${this.consolePrefix} Failed to write to log file:`,t)}}writeToConsolidatedLog(e){try{this.consolidatedLogPath&&_t.appendFileSync(this.consolidatedLogPath,e+`
`)}catch{}}formatMessage(e,t,i){let s=`[${e}] ${t}`;return i!==void 0&&(i instanceof Error?s+=`
  Error: ${i.message}
  Stack: ${i.stack}`:typeof i=="object"?s+=`
  Data: ${JSON.stringify(i,null,2)}`:s+=`
`).filter(s=>s.trim());for(const s of i){if(e==="stderr"&&this.shouldFilterErrorLine(s))continue;const r=s.length>1e3?s.substring(0,1e3)+"[TRUNCATED]":s;this.writeToFile(`[PYTHON-${e.toUpperCase()}] ${r}`)}}shouldFilterErrorLine(e){return e.includes("LLM generation failed parsing as JSON")?(this.writeToFile("[PYTHON-STDERR] [ERROR] LLM JSON parsing failed - object dump filtered for log readability"),!1):!!(e.includes("Input messages:")||e.includes('"parts":')||e.includes('"video_metadata":')||e.includes('"thought":')||e.includes('"inline_data":')||e.includes('"file_data":')||e.includes('"function_call":')||e.includes('"function_response":')||e.trim().startsWith("{")&&e.includes('"')||e.trim().startsWith("[")&&e.includes('"'))}logSystemInfo(){try{this.getGraphitiVersion().then(e=>{var t;this.debug("System Information:",{platform:process.platform,nodeVersion:process.version,obsidianVersion:((t=this.plugin.app.vault.config)==null?void 0:t.version)||"unknown",pluginVersion:this.plugin.manifest.version,pluginId:this.plugin.manifest.id,GraphitiVersion:e})}).catch(e=>{var t;this.debug("System Information:",{platform:process.platform,nodeVersion:process.version,obsidianVersion:((t=this.plugin.app.vault.config)==null?void 0:t.version)||"unknown",pluginVersion:this.plugin.manifest.version,pluginId:this.plugin.manifest.id,GraphitiVersion:"detection failed"}),this.error("Failed to detect graphiti version",e)})}catch(e){this.error("Failed to log system info",e)}}async getGraphitiVersion(){return new Promise((e,t)=>{var i,s;try{const{spawn:r}=require("child_process"),a=r("python",["-c",`
import sys
version = None

try:
    import importlib.metadata
    version = importlib.metadata.version('graphiti-core')
except:
    pass

if not version:
    try:
        import pkg_resources
        version = pkg_resources.get_distribution('graphiti-core').version
    except:
        pass

if not version:
    try:
        import graphiti_core
        version = getattr(graphiti_core, '__version__', None)
        if not version:
            version = '0.18.0'
    except:
        pass

if not version:
    version = 'unknown'

# Print only the final version result
print(version)
`],{stdio:["pipe","pipe","pipe"]});let l="",d="";(i=a.stdout)==null||i.on("data",p=>{l+=p.toString()}),(s=a.stderr)==null||s.on("data",p=>{d+=p.toString()}),a.on("close",p=>{p===0&&l.trim()?e(l.trim()):t(new Error(`Python process failed (code ${p}): ${d||"No output"}`))}),a.on("error",p=>{t(new Error(`Failed to start Python process: ${p.message}`))})}catch(r){t(new Error(`Exception in getGraphitiVersion: ${r instanceof Error?r.message:String(r)}`))}})}};Nr.sessionHeaderWritten=!1;let Gt=Nr;function sl(n,e){let t;return(...i)=>{t&&clearTimeout(t),t=setTimeout(()=>n(...i),e)}}const Ar=n=>{var e;try{if(n&&n.plugins&&n.plugins.plugins){const t=n.plugins.plugins["megamem-mcp"];if(t){const i=((e=t.settings)==null?void 0:e.enableDebugLogging)||!1;return new Gt(t,i)}}}catch(t){console.error("Failed to initialize GraphitiLogger in PluginDetectionHelper:",t)}return{info:()=>{},debug:()=>{},warn:()=>{},error:()=>{}}};function Or(n){return`.obsidian/plugins/${n}/data.json`}async function Ir(n,e,t){try{if(!await n.exists(e))return t.debug(`[PluginDetection] file not found: ${e}`),null;const s=await n.read(e);try{return JSON.parse(s)}catch(r){return t.warn(`[PluginDetection] Failed to parse JSON at ${e}: ${String(r)}`),null}}catch(i){return t.error(`[PluginDetection] Error reading ${e}: ${String(i)}`),null}}async function rl(n){const e=Ar(n),t=n.vault&&n.vault.adapter,i="templater-obsidian",s=Or(i),r={detected:!1,enabled:!1,useTemplateFolders:!1,templatesFolder:null,folderTemplates:{},raw:null};if(!t)return e.warn("[PluginDetection] app.vault.adapter not available when reading Templater config"),r;const o=await Ir(t,s,e);if(!o)return r;const a=o,l=a.folder_templates||a.settings&&a.settings.folder_templates||a.folderTemplates||a.folder_templates_array||null,d=c=>c?(c.split("/").pop()||c).replace(/\.md$/i,"").trim().toLowerCase():"",p={};if(l&&typeof l=="object"&&!Array.isArray(l))for(const[c,v]of Object.entries(l)){const w=d(c);w&&(p[w]=typeof v=="string"?v:String(v||""))}if(Array.isArray(l))for(const c of l)try{const v=(c==null?void 0:c.folder)||(c==null?void 0:c.folderPath)||"",w=(c==null?void 0:c.template)||(c==null?void 0:c.templatePath)||"",_=d(w);_&&(p[_]=v)}catch{}const g=a.templates_folder||a.settings&&a.settings.templates_folder||null,m=!!Object.keys(p||{}).length||!!(a.settings&&a.settings.use_templates_folder);let f=!1;try{const c=n.plugins&&n.plugins.plugins;c&&c[i]&&(f=!!c[i].enabled)}catch(c){e.debug(`[PluginDetection] could not determine templater enabled state: ${String(c)}`)}const b={detected:!0,enabled:f,useTemplateFolders:m,templatesFolder:g||null,folderTemplates:p||{},raw:o};return e.debug("[PluginDetection] readTemplaterConfig result",{...b,raw:void 0}),b}async function ol(n){const e=Ar(n),t=n.vault&&n.vault.adapter,i="periodic-notes",s=Or(i),r={detected:!1,enabled:!1,raw:null};if(!t)return e.warn("[PluginDetection] app.vault.adapter not available when reading Periodic Notes config"),r;const o=await Ir(t,s,e);if(!o)return r;const a=o;function l(b){return b?{enabled:!!b.enabled,folder:b.folder||null,format:b.format||null}:{enabled:!1,folder:null,format:null}}const d=l(a.daily),p=l(a.weekly),g=l(a.monthly);let m=!!(d.enabled||p.enabled||g.enabled);try{const b=n.plugins&&n.plugins.plugins;b&&b[i]&&(m=m||!!b[i].enabled)}catch(b){e.debug(`[PluginDetection] could not determine periodic-notes enabled state: ${String(b)}`)}const f={detected:!0,enabled:m,daily:d,weekly:p,monthly:g,raw:o};return e.debug("[PluginDetection] readPeriodicNotesConfig result",{detected:!0,enabled:m,daily:d,weekly:p,monthly:g}),f}const al=rl,ll=ol;class cl{constructor(e,t,i,s){this.client=null,this.reconnectAttempts=0,this.baseReconnectDelay=1e3,this.maxReconnectDelay=3e4,this.isRetrying=!1,this.lastConnectionStatus=null,this.plugin=e,this.settings=t,this.syncRegistryService=i,this.vaultRegistryService=s,this.logger=new Gt(e,t.enableDebugLogging)}sleep(e){return new Promise(t=>setTimeout(t,e))}calculateBackoffDelay(e){const t=this.reconnectAttempts;let i=this.baseReconnectDelay;(e==null?void 0:e.code)==="ECONNREFUSED"?i=this.baseReconnectDelay*2:((e==null?void 0:e.code)==="ECONNRESET"||(e==null?void 0:e.code)==="EPIPE")&&(i=this.baseReconnectDelay*.5);const s=i*Math.pow(1.5,Math.min(t,10)),r=Math.random()*.3+.85,o=Math.min(s*r,this.maxReconnectDelay);return Math.floor(o)}async connectWithRetry(){for(this.isRetrying=!0;this.settings.wsEnabled&&!this.client;)try{await this.connectOnce(),this.reconnectAttempts=0,this.isRetrying=!1;return}catch(e){if(this.reconnectAttempts++,(this.reconnectAttempts===1||this.reconnectAttempts%20===0)&&this.logger.error(`[WEBSOCKET] Connection failed (attempt ${this.reconnectAttempts}):`,e),!this.settings.wsEnabled){this.isRetrying=!1;return}const t=this.calculateBackoffDelay(e);await this.sleep(t)}this.isRetrying=!1}async connectOnce(){return new Promise((e,t)=>{try{const i=`ws://localhost:${this.settings.wsPort}?token=${this.settings.wsAuthToken}`;this.client=new WebSocket(i);const s=setTimeout(()=>{this.client&&(this.client.close(),this.client=null),t(new Error("Connection timeout"))},1e4);this.client.onopen=async()=>{if(clearTimeout(s),this.logger.debug("[WEBSOCKET] Connection established successfully"),this.lastConnectionStatus=!0,await new Promise(r=>setTimeout(r,100)),this.vaultRegistryService){this.logger.debug("[WEBSOCKET] Triggering vault auto-registration...");const r=await this.vaultRegistryService.autoRegisterCurrentVault(!1,this);r?this.logger.debug(`[WEBSOCKET] Vault auto-registration successful: ${r.name} (${r.id})`):this.logger.error("[WEBSOCKET] Vault auto-registration failed")}else this.logger.warn("[WEBSOCKET] No vault registry service available");e()},this.client.onmessage=r=>{this.handleMessage(r.data)},this.client.onclose=r=>{if(clearTimeout(s),this.client=null,this.vaultRegistryService&&this.lastConnectionStatus!==!1){const o=this.vaultRegistryService.getActiveVaultId();o&&(this.vaultRegistryService.updateVaultConnection(o,!1),this.lastConnectionStatus=!1)}r.code!==1e3&&this.settings.wsEnabled&&!this.isRetrying&&this.connectWithRetry()},this.client.onerror=r=>{clearTimeout(s),this.client&&(this.client.close(),this.client=null),t(r)}}catch(i){t(i)}})}async start(){if(!this.settings.wsEnabled){this.logger.debug("[WEBSOCKET] Service disabled in settings");return}this.logger.debug("[WEBSOCKET] Service enabled in settings - connecting..."),this.connect()}connect(){this.isRetrying||this.connectWithRetry()}async stop(){this.logger.debug("[WEBSOCKET] Stopping WebSocket service"),this.isRetrying=!1,this.reconnectTimer&&(window.clearTimeout(this.reconnectTimer),this.reconnectTimer=void 0),this.client&&(this.logger.debug("[WEBSOCKET] Closing WebSocket connection"),this.client.close(1e3,"Client shutdown"),this.client=null),this.reconnectAttempts=0}sendMessage(e){if(!this.client){this.logger.error("[WEBSOCKET] ERROR: No WebSocket client instance");return}if(this.client.readyState===WebSocket.OPEN)try{const t=JSON.stringify(e);this.logger.debug(`[WEBSOCKET] Sending message type: ${e.type}`),this.client.send(t)}catch(t){this.logger.error("[WEBSOCKET] ERROR sending message:",t)}else this.logger.warn(`[WEBSOCKET] Cannot send message - WebSocket not connected. ReadyState: ${this.client.readyState}`)}sendVaultRegistration(e){if(!this.client||this.client.readyState!==WebSocket.OPEN)return this.logger.warn("[WEBSOCKET] Cannot send vault registration - WebSocket not connected"),!1;const t={type:"register",payload:{vaultName:e.name,vaultPath:e.path,vaultId:e.id,pluginVersion:this.plugin.manifest.version,authToken:this.settings.wsAuthToken}};return this.logger.debug(`[WEBSOCKET] Sending vault registration to server: ${e.name} (${e.id})`),this.sendMessage(t),!0}isConnected(){return this.client!==null&&this.client.readyState===WebSocket.OPEN}async handleMessage(e){try{const t=JSON.parse(e);switch(this.logger.debug("Received WebSocket message:",t.type),t.type){case"connected":this.handleConnected(t);break;case"registered":this.handleRegistered(t);break;case"file:read":await this.handleFileRead(t);break;case"file:write":await this.handleFileWrite(t);break;case"file:create":await this.handleFileCreate(t);break;case"file:delete":await this.handleFileDelete(t);break;case"file:rename":await this.handleFileRename(t);break;case"file:search":this.handleFileSearch(t);break;case"vault:list":this.handleVaultList(t);break;case"vault:info":this.handleVaultInfo(t);break;case"ping":this.handlePing(t);break;case"folder:explore":await this.handleFolderExplore(t);break;case"folder:create":await this.handleFolderCreate(t);break;case"folder:rename":await this.handleFolderRename(t);break;case"folder:delete":await this.handleFolderDelete(t);break;case"templater:check":await this.handleTemplaterCheck(t);break;case"file:create_with_template":await this.handleCreateWithTemplate(t);break;case"file:frontmatter_edit":await this.handleFrontmatterEdit(t);break;case"file:append":await this.handleAppendEdit(t);break;case"file:range_edit":await this.handleRangeEdit(t);break;case"file:editor_edit":await this.handleEditorEdit(t);break;case"error":this.handleError(t);break;default:this.handleUnknownMessage(t)}}catch(t){this.logger.error("Error handling WebSocket message:",t),this.sendErrorResponse("error","Invalid message format")}}async handleFileRead(e){this.logger.debug("Handling file:read request",{path:e.payload.path});try{const t=e.payload;if(!(t!=null&&t.path)){this.sendErrorResponse("file:read:response","Missing file path parameter",e.id);return}const i=this.plugin.app.vault.getAbstractFileByPath(t.path);if(!i||!(i instanceof P.TFile)){this.sendErrorResponse("file:read:response","File not found",e.id);return}const s=await this.plugin.app.vault.read(i),r={id:e.id,type:"file:read:response",success:!0,timestamp:new Date().toISOString(),payload:{content:s,path:t.path,metadata:{size:s.length,lastModified:new Date().toISOString()}}};this.sendMessage(r)}catch{this.sendErrorResponse("file:read:response","Failed to read file",e.id)}}async handleFileWrite(e){this.logger.debug("Handling file:write request",{path:e.payload.path});try{const t=e.payload;if(!(t!=null&&t.path)||t.content===void 0){this.sendErrorResponse("file:write:response","Missing file path or content parameter",e.id);return}const i=this.plugin.app.vault.getAbstractFileByPath(t.path);if(!i||!(i instanceof P.TFile)){this.sendErrorResponse("file:write:response","File not found",e.id);return}await this.plugin.app.vault.modify(i,t.content);const s={id:e.id,type:"file:write:response",success:!0,timestamp:new Date().toISOString(),payload:{path:t.path,message:"File successfully written"}};this.sendMessage(s)}catch{this.sendErrorResponse("file:write:response","Failed to write file",e.id)}}async handleFileCreate(e){this.logger.debug("Handling file:create request",{path:e.payload.path});try{const t=e.payload;if(!(t!=null&&t.path)||t.content===void 0){this.sendErrorResponse("file:create:response","Missing file path or content parameter",e.id);return}await this.plugin.app.vault.create(t.path,t.content);const i={id:e.id,type:"file:create:response",success:!0,timestamp:new Date().toISOString(),payload:{path:t.path,created:!0,message:"File successfully created"}};this.sendMessage(i)}catch{this.sendErrorResponse("file:create:response","Failed to create file",e.id)}}async handleFileDelete(e){this.logger.debug("Handling file:delete request",{path:e.payload.path});try{const t=e.payload;if(!(t!=null&&t.path)){this.sendErrorResponse("file:delete:response","Missing file path parameter",e.id);return}const i=this.plugin.app.vault.getAbstractFileByPath(t.path);if(!i){this.sendErrorResponse("file:delete:response","File not found",e.id);return}await this.plugin.app.vault.delete(i,!1);const s={id:e.id,type:"file:delete:response",success:!0,timestamp:new Date().toISOString(),payload:{path:t.path,message:"File successfully deleted"}};this.sendMessage(s)}catch{this.sendErrorResponse("file:delete:response","Failed to delete file",e.id)}}async handleFileRename(e){this.logger.debug("Handling file:rename request",{oldPath:e.payload.path,newPath:e.payload.newPath});try{const t=e.payload;if(!(t!=null&&t.path)||!(t!=null&&t.newPath)){this.sendErrorResponse("file:rename:response","Missing file path or newPath parameter",e.id);return}const i=this.plugin.app.vault.getAbstractFileByPath(t.path);if(!i){this.sendErrorResponse("file:rename:response","File not found",e.id);return}await this.plugin.app.fileManager.renameFile(i,t.newPath);const s={id:e.id,type:"file:rename:response",success:!0,timestamp:new Date().toISOString(),payload:{oldPath:t.path,newPath:t.newPath,message:"File successfully renamed"}};this.sendMessage(s)}catch{this.sendErrorResponse("file:rename:response","Failed to rename file",e.id)}}async handleFileSearch(e){var t;this.logger.debug("[WEBSOCKET] Handling file:search request",{query:(t=e.payload)==null?void 0:t.query});try{const i=e.payload||{},s=(i.query||"").toString();if(!s){this.sendErrorResponse("file:search:response","Missing search query parameter",e.id);return}const r=(i.search_mode||i.searchMode||"both").toString().toLowerCase(),o=Number(i.max_results??i.maxResults??100),a=i.include_context!==void 0?!!i.include_context:i.includeContext!==void 0?!!i.includeContext:!0,l=Number(i.contextRadius??50),p=new Set(["filename","content","both"]).has(r)?r:"both";this.logger.debug("[WEBSOCKET] Search parameters",{query:s,mode:p,maxResults:o,includeContext:a});const g=[],m=this.plugin.app.vault.getMarkdownFiles();if(p==="filename"||p==="both"){const b=s.toLowerCase(),c=m.filter(v=>v.path.toLowerCase().includes(b)||v.basename.toLowerCase().includes(b));for(const v of c)if(g.push({path:v.path,name:v.name,basename:v.basename,extension:v.extension,matchType:"filename",score:100}),g.length>=o&&p==="filename")break}if((p==="content"||p==="both")&&Math.max(0,o-g.length)>0){let c=null;try{c=window.prepareSimpleSearch?window.prepareSimpleSearch(s):null}catch{c=null}const v=new Set(g.map(w=>w.path));for(const w of m)if(!v.has(w.path))try{const _=typeof this.plugin.app.vault.cachedRead=="function"?await this.plugin.app.vault.cachedRead(w):await this.plugin.app.vault.read(w);let C=!1,E=0,M;if(c)try{const x=c(_);x&&x.score>0&&(C=!0,E=Number(x.score)||1,x.matches&&(M=Array.isArray(x.matches)?x.matches:void 0))}catch(x){this.logger.warn("[WEBSOCKET] prepareSimpleSearch failed, falling back",{file:w.path,error:x})}if(C||_&&_.toLowerCase().includes(s.toLowerCase())&&(C=!0,E=10),C){const x={path:w.path,name:w.name,basename:w.basename,extension:w.extension,matchType:"content",score:E};if(a)try{const N=this.extractContextFromMatches(_,M||this._findAllMatches(_,s),s,l);N&&N.length&&(x.matches=N)}catch(N){this.logger.warn("[WEBSOCKET] Context extraction failed",{file:w.path,error:N})}if(g.push(x),v.add(w.path),g.length>=o)break}}catch(_){this.logger.warn("[WEBSOCKET] Failed to search content of file",{path:w.path,error:_})}}g.sort((b,c)=>{const v=Number(b.score||0),w=Number(c.score||0);return w!==v?w-v:b.matchType==="filename"&&c.matchType!=="filename"?-1:c.matchType==="filename"&&b.matchType!=="filename"?1:b.path.localeCompare(c.path)});const f={id:e.id,type:"file:search:response",success:!0,timestamp:new Date().toISOString(),payload:{results:g.slice(0,o),totalResults:g.length,query:s,searchMode:p}};this.sendMessage(f)}catch(i){this.logger.error("[WEBSOCKET] file:search handler error",{error:i}),this.sendErrorResponse("file:search:response","Failed to search files",e.id)}}_findAllMatches(e,t){const i=[];if(!e||!t)return i;const s=e.toLowerCase(),r=t.toLowerCase();let o=0;for(;;){const a=s.indexOf(r,o);if(a===-1)break;i.push([a,a+r.length]),o=a+r.length}return i}extractContextFromMatches(e,t,i,s=50){const r=(e||"").split(`
`),o=[],a=new Set;for(const[l,d]of t){let p=0,g=0;for(let C=0;C<r.length;C++){const E=r[C].length+1;if(p+E>l){g=C;break}p+=E}if(a.has(g))continue;a.add(g);const m=r[g]||"",f=p,b=Math.max(0,l-f),c=Math.min(m.length,d-f),v=Math.max(0,b-s),w=Math.min(m.length,c+s);let _=m.substring(v,w);if(v>0&&(_="..."+_),w<m.length&&(_=_+"..."),o.push({line:g+1,text:_.trim(),highlight:m.substring(b,c)}),o.length>=5)break}return o}handleVaultList(e){var t;this.logger.debug("Handling vault:list request");try{const i=((t=this.vaultRegistryService)==null?void 0:t.getAllVaults())||[],s={id:e.id,type:"vault:list:response",success:!0,timestamp:new Date().toISOString(),payload:{vaults:i,totalVaults:i.length}};this.sendMessage(s)}catch{this.sendErrorResponse("vault:list:response","Failed to list vaults",e.id)}}handleVaultInfo(e){var t,i;this.logger.debug("Handling vault:info request",{vaultId:e.payload.vaultId});try{const r={id:((t=e.payload)==null?void 0:t.vaultId)||((i=this.vaultRegistryService)==null?void 0:i.getActiveVaultId())||this.plugin.app.vault.getName(),name:this.plugin.app.vault.getName(),path:this.plugin.app.vault.adapter.basePath||"",files:this.plugin.app.vault.getMarkdownFiles().length},o={id:e.id,type:"vault:info:response",success:!0,timestamp:new Date().toISOString(),payload:r};this.sendMessage(o)}catch{this.sendErrorResponse("vault:info:response","Failed to get vault info",e.id)}}handlePing(e){this.logger.debug("Handling ping request");const t={id:e.id,type:"pong",success:!0,timestamp:new Date().toISOString(),payload:{vaultName:this.plugin.app.vault.getName(),version:this.plugin.manifest.version,timestamp:new Date().toISOString()}};this.sendMessage(t)}handleError(e){var r,o;if(!e||!e.payload){this.logger.error("Received malformed error message from server",e);return}this.logger.error("Received error message from server",{error:e.payload.error});const t=e.error||((r=e.payload)==null?void 0:r.error)||"Unknown error from server",i=e.errorCode||((o=e.payload)==null?void 0:o.errorCode)||"UNKNOWN_ERROR",s=e.id||"no-id";this.logger.error(`WebSocket server error (ID: ${s}, Code: ${i}): ${t}`,e)}handleUnknownMessage(e){this.logger.warn("Received unknown message type:",e.type)}async handleFolderExplore(e){try{this.logger.debug("Handling folder:explore request",{payload:e.payload});const t=e.payload||{},i=this.plugin;if(i&&typeof i.exploreVaultFoldersHandler=="function"){const a=await i.exploreVaultFoldersHandler({query:t.query,path:t.path,depth:typeof t.depth=="number"?t.depth:-1,format:t.format||"smart"}),l={id:e.id,type:"folder:explore:response",success:!0,timestamp:new Date().toISOString(),payload:a};this.sendMessage(l);return}const s=this.plugin.app.vault.getRoot();if(!s){this.sendErrorResponse("folder:explore:response","Vault root not available",e.id);return}const r=(s.children||[]).filter(a=>a&&a.constructor&&a.constructor.name==="TFolder").map(a=>({path:a.path,name:a.name})),o={id:e.id,type:"folder:explore:response",success:!0,timestamp:new Date().toISOString(),payload:{results:r,totalFolders:r.length,searchQuery:t.query||null,format:t.format||"flat"}};this.sendMessage(o)}catch(t){this.logger.error("[WEBSOCKET] folder:explore handler error",{error:t}),this.sendErrorResponse("folder:explore:response","Failed to explore folders",e.id)}}async handleFolderCreate(e){this.logger.debug("[WEBSOCKET] Handling folder:create request",{payload:e.payload});try{const t=e.payload||{},i=t.folderPath||t.path;if(!i||typeof i!="string"){this.sendErrorResponse("folder:create:response","Missing or invalid folder path parameter",e.id);return}const s=P.normalizePath(i.trim());if(this.plugin.app.vault.getAbstractFileByPath(s)){this.sendErrorResponse("folder:create:response","Folder already exists",e.id);return}await this.plugin.app.vault.createFolder(s);const o={id:e.id,type:"folder:create:response",success:!0,timestamp:new Date().toISOString(),payload:{path:s,created:!0,message:"Folder successfully created"}};this.sendMessage(o)}catch(t){this.logger.error("[WEBSOCKET] folder:create handler error",{error:t}),this.sendErrorResponse("folder:create:response","Failed to create folder",e.id)}}async handleFolderRename(e){this.logger.debug("[WEBSOCKET] Handling folder:rename request",{payload:e.payload});try{const t=e.payload||{},i=t.oldPath||t.sourcePath,s=t.newPath||t.targetPath;if(!i||typeof i!="string"){this.sendErrorResponse("folder:rename:response","Missing or invalid oldPath parameter",e.id);return}if(!s||typeof s!="string"){this.sendErrorResponse("folder:rename:response","Missing or invalid newPath parameter",e.id);return}const r=P.normalizePath(i.trim()),o=P.normalizePath(s.trim()),a=this.plugin.app.vault.getAbstractFileByPath(r);if(!a||!(a instanceof P.TFolder)){this.sendErrorResponse("folder:rename:response","Source folder not found",e.id);return}if(this.plugin.app.vault.getAbstractFileByPath(o)){this.sendErrorResponse("folder:rename:response","Target path already exists",e.id);return}await this.plugin.app.fileManager.renameFile(a,o);const d={id:e.id,type:"folder:rename:response",success:!0,timestamp:new Date().toISOString(),payload:{oldPath:r,newPath:o,renamed:!0,message:"Folder successfully renamed/moved"}};this.sendMessage(d)}catch(t){this.logger.error("[WEBSOCKET] folder:rename handler error",{error:t}),this.sendErrorResponse("folder:rename:response","Failed to rename folder",e.id)}}async handleFolderDelete(e){this.logger.debug("[WEBSOCKET] Handling folder:delete request",{payload:e.payload});try{const t=e.payload||{},i=t.folderPath||t.path,s=t.force||!1;if(!i||typeof i!="string"){this.sendErrorResponse("folder:delete:response","Missing or invalid folder path parameter",e.id);return}const r=P.normalizePath(i.trim()),o=this.plugin.app.vault.getAbstractFileByPath(r);if(!o||!(o instanceof P.TFolder)){this.sendErrorResponse("folder:delete:response","Folder not found",e.id);return}if(!s&&o.children&&o.children.length>0){this.sendErrorResponse("folder:delete:response","Folder is not empty. Use force=true to delete non-empty folders",e.id);return}await this.plugin.app.vault.delete(o,s);const a={id:e.id,type:"folder:delete:response",success:!0,timestamp:new Date().toISOString(),payload:{path:r,deleted:!0,message:"Folder successfully deleted"}};this.sendMessage(a)}catch(t){this.logger.error("[WEBSOCKET] folder:delete handler error",{error:t}),this.sendErrorResponse("folder:delete:response","Failed to delete folder",e.id)}}async handleTemplaterCheck(e){var t,i,s,r,o,a,l,d;try{const p=(i=(t=this.plugin.app.plugins)==null?void 0:t.plugins)==null?void 0:i["templater-obsidian"];if(!p)return this.sendMessage({id:e.id,type:"templater:check:response",success:!0,payload:{isInstalled:!1,templates:[],templateMappings:{}}});const g=((s=p.settings)==null?void 0:s.templates_folder)||"";if(!g)return this.sendMessage({id:e.id,type:"templater:check:response",success:!0,payload:{isInstalled:!0,templateFolder:"",templates:[],templateMappings:{}}});const m=P.normalizePath(g),b=this.plugin.app.vault.getMarkdownFiles().filter(I=>I.path.startsWith(m)).map(I=>({path:I.path,name:I.name,basename:I.basename})),c={},v=await al(this.plugin.app),w=await ll(this.plugin.app),_=window.moment,C=_?_():new Date,E=(I,B,R)=>{if(!I)return"";if(!B)return I;const F=R||(_?_():null);try{const L=I.replace(/\/+$/g,""),V=(B||"").split("/").map(W=>W.trim()).filter(Boolean),Y=[];if(V.length>1){const W=V.slice(0,V.length-1);for(const K of W){let H=M(K,F);H&&Y.push(H)}}else{const W=V[0]||B;if(/YYYY/.test(W)){const K=M("YYYY",F);if(K&&Y.push(K),/MM/.test(W)){const H=M("MM",F);H&&Y.push(H)}}}return Y.length>0?`${L}/${Y.join("/")}`:L}catch(L){return this.logger.warn("Error calculating periodic path",{error:L,baseFolder:I,format:B}),I}},M=(I,B)=>{if(!I)return"";let R=I;if(B&&typeof B.format=="function")try{R=B.format(I)}catch{R=x(I)}else R=x(I);return R=R.replace(/\[.*?\]/g,"").trim(),R=R.replace(/[<>:"|?*]/g,"").trim(),R},x=I=>{const B=new Date,R=B.getFullYear().toString(),F=String(B.getMonth()+1).padStart(2,"0");return I.replace(/YYYY/g,R).replace(/yyyy/g,R).replace(/MM/g,F).replace(/gggg/g,R)},N=((o=(r=this.settings.mcpTools)==null?void 0:r.defaults)==null?void 0:o.inboxFolder)||g||"",D=I=>I?((I||"").toString().split("/").pop()||I).replace(/\.md$/i,"").trim().toLowerCase():"";for(const I of b){const B=I.basename,R=D(B);v.detected&&v.folderTemplates&&v.folderTemplates[R]?c[B]=v.folderTemplates[R]:c[B]=N}if(w.detected&&w.enabled){if((a=w.daily)!=null&&a.enabled&&w.daily.folder){const I=E(w.daily.folder,w.daily.format||"YYYY-MM-DD");c["TPL Daily Note"]=I}if((l=w.weekly)!=null&&l.enabled&&w.weekly.folder){const I=E(w.weekly.folder,w.weekly.format||"YYYY-[W]ww");c["TPL Weekly Note"]=I}if((d=w.monthly)!=null&&d.enabled&&w.monthly.folder){const I=E(w.monthly.folder,w.monthly.format||"YYYY-MM");c["TPL Monthly Note"]=I}}const A={id:e.id,type:"templater:check:response",success:!0,timestamp:new Date().toISOString(),payload:{isInstalled:!0,templateFolder:m,templates:b,templateMappings:c}};this.sendMessage(A)}catch(p){this.logger.error("[WEBSOCKET] templater:check handler error",{error:p}),this.sendErrorResponse("templater:check:response","Failed to check templater",e.id)}}async handleCreateWithTemplate(e){var t,i,s;try{const r=e.payload||{},o=(r.searchTerm||"").toString().trim(),a=(r.fileName||"").toString().trim(),l=(r.targetFolder||"").toString(),d=(r.userContent||"").toString();if(!a){this.sendErrorResponse("file:create_with_template:response","Missing fileName",e.id);return}const p=(i=(t=this.plugin.app.plugins)==null?void 0:t.plugins)==null?void 0:i["templater-obsidian"];if(!p||!((s=p.settings)!=null&&s.templates_folder)){this.sendErrorResponse("file:create_with_template:response","Templater not configured",e.id);return}const g=this.plugin.app.vault.getMarkdownFiles().filter(b=>b.path.startsWith(p.settings.templates_folder));if(g.length===0){this.sendErrorResponse("file:create_with_template:response","No templates found",e.id);return}const m=o.toLowerCase();let f=g.find(b=>b.basename.toLowerCase()===m);if(!f){const b=g.map(c=>c.basename).sort();this.sendMessage({id:e.id,type:"file:create_with_template:response",success:!1,timestamp:new Date().toISOString(),requiresSelection:!0,availableTemplates:b,error:`No exact match for '${o}'. Please specify exact template name from availableTemplates.`,payload:{availableTemplates:b,searchTerm:o}});return}try{const b=p.templater;if(b&&b.create_new_note_from_template){const c=l||"",v=a.replace(/\.md$/,""),w=await b.create_new_note_from_template(f,c,v);if(w){const _=await this.plugin.app.vault.read(w);if(_.trim()===f.path)throw await this.plugin.app.vault.delete(w),new Error("Templater API returned path instead of content");d&&await this.plugin.app.vault.modify(w,_+`

`+d),this.sendMessage({id:e.id,type:"file:create_with_template:response",success:!0,timestamp:new Date().toISOString(),payload:{path:w.path,templateUsed:f.basename,message:"Created file using Templater API"}});return}}throw new Error("Templater API not available")}catch(b){this.logger.warn("[WEBSOCKET] Templater API failed, using fallback",{error:b});const c=await this.plugin.app.vault.read(f),v=a.endsWith(".md")?a:`${a}.md`,w=l?`${l.replace(/\/$/,"")}/${v}`:v;let _=c;d&&(_=_+`

`+d);const C=await this.plugin.app.vault.create(w,_);this.sendMessage({id:e.id,type:"file:create_with_template:response",success:!0,timestamp:new Date().toISOString(),payload:{path:C.path,templateUsed:f.basename,message:"Created file by copying template (Templater syntax not processed)",warning:"Templater commands were not processed"}})}}catch(r){this.logger.error("[WEBSOCKET] file:create_with_template handler error",{error:r}),this.sendErrorResponse("file:create_with_template:response","Failed to create file with template",e.id)}}async handleFrontmatterEdit(e){var t;this.logger.debug("Handling file:frontmatter_edit request",{path:(t=e.payload)==null?void 0:t.path});try{const i=e.payload;if(!(i!=null&&i.path)){this.sendErrorResponse("file:frontmatter_edit:response","Missing file path parameter",e.id);return}const s=this.plugin.app.vault.getAbstractFileByPath(i.path);if(!s||!(s instanceof P.TFile)){this.sendErrorResponse("file:frontmatter_edit:response","File not found",e.id);return}const r=await this.plugin.app.vault.read(s),o=i.frontmatterChanges||{};if(this.logger.debug("[FRONTMATTER] Processing updates:",o),!o||Object.keys(o).length===0){this.sendErrorResponse("file:frontmatter_edit:response","No frontmatter changes provided",e.id);return}let a=r;const l=r.split(`
`);let d=-1,p=-1;for(let c=0;c<l.length;c++)if(l[c].trim()==="---")if(d===-1)d=c;else{p=c;break}let g=[],m=[];d===0&&p>0?(g=l.slice(d+1,p),m=l.slice(p+1)):(g=[],m=l);for(const[c,v]of Object.entries(o)){const w=g.findIndex(E=>{const M=E.indexOf(":");return M>0&&E.substring(0,M).trim()===c});let _;Array.isArray(v)?_=JSON.stringify(v):typeof v=="string"?_=`"${v}"`:_=String(v);const C=`${c}: ${_}`;w>=0?g[w]=C:g.push(C)}a=["---",...g,"---",...m].join(`
`),this.logger.debug(`[FRONTMATTER] Updated content length: ${a.length} (was ${r.length})`),await this.plugin.app.vault.modify(s,a);const b={id:e.id,type:"file:frontmatter_edit:response",success:!0,timestamp:new Date().toISOString(),payload:{path:i.path,message:"Frontmatter updated successfully"}};this.sendMessage(b)}catch{this.sendErrorResponse("file:frontmatter_edit:response","Failed to edit frontmatter",e.id)}}async handleAppendEdit(e){var t;this.logger.debug("Handling file:append request",{path:(t=e.payload)==null?void 0:t.path});try{const i=e.payload;if(!(i!=null&&i.path)||i.appendContent===void 0){this.sendErrorResponse("file:append:response","Missing file path or content parameter",e.id);return}const s=this.plugin.app.vault.getAbstractFileByPath(i.path);if(!s||!(s instanceof P.TFile)){this.sendErrorResponse("file:append:response","File not found",e.id);return}const o=await this.plugin.app.vault.read(s)+`
`+i.appendContent;await this.plugin.app.vault.modify(s,o);const a={id:e.id,type:"file:append:response",success:!0,timestamp:new Date().toISOString(),payload:{path:i.path,message:"Content appended successfully"}};this.sendMessage(a)}catch{this.sendErrorResponse("file:append:response","Failed to append content",e.id)}}async handleRangeEdit(e){var t;this.logger.debug("Handling file:range_edit request",{path:(t=e.payload)==null?void 0:t.path});try{const i=e.payload;if(!(i!=null&&i.path)||i.replacementContent===void 0){this.sendErrorResponse("file:range_edit:response","Missing file path or content parameter",e.id);return}const s=this.plugin.app.vault.getAbstractFileByPath(i.path);if(!s||!(s instanceof P.TFile)){this.sendErrorResponse("file:range_edit:response","File not found",e.id);return}const o=(await this.plugin.app.vault.read(s)).split(`
`),a=Math.max(0,(i.rangeStartLine||1)-1),l=Math.min(o.length,i.rangeEndLine||a+1),d=i.replacementContent.split(`
`);o.splice(a,l-a,...d);const p=o.join(`
`);await this.plugin.app.vault.modify(s,p);const g={id:e.id,type:"file:range_edit:response",success:!0,timestamp:new Date().toISOString(),payload:{path:i.path,message:"Range edited successfully"}};this.sendMessage(g)}catch{this.sendErrorResponse("file:range_edit:response","Failed to edit range",e.id)}}async handleEditorEdit(e){var t,i;this.logger.debug("Handling file:editor_edit request",{path:(t=e.payload)==null?void 0:t.path});try{const s=e.payload;if(!(s!=null&&s.path)){this.sendErrorResponse("file:editor_edit:response","Missing file path parameter",e.id);return}const r=this.plugin.app.vault.getAbstractFileByPath(s.path);if(!r||!(r instanceof P.TFile)){this.sendErrorResponse("file:editor_edit:response","File not found",e.id);return}const o=this.plugin.app.workspace.getActiveViewOfType(P.MarkdownView);let a=!1;if(o&&((i=o.file)==null?void 0:i.path)===s.path){const d=o.editor,p=s.editorMethod||"replace";switch(this.logger.debug(`[EDITOR] Processing editor operation: ${p} with payload:`,s),p){case"replace":s.content!==void 0&&(d.setValue(s.content),a=!0);break;case"append":if(s.content!==void 0){const g=d.lastLine();d.replaceRange(`
`+s.content,{line:g,ch:d.getLine(g).length}),a=!0}break;case"prepend":s.content!==void 0&&(d.replaceRange(s.content+`
`,{line:0,ch:0}),a=!0);break;case"insert":if(s.content!==void 0&&s.line!==void 0){const g=Math.max(0,s.line-1);d.replaceRange(s.content+`
`,{line:g,ch:0}),a=!0}break;case"replace_line":if(s.content!==void 0&&s.line!==void 0){const g=Math.max(0,s.line-1);g<d.lineCount()?(d.setLine(g,s.content),a=!0,this.logger.debug(`[EDITOR] Replaced line ${s.line} with new content`)):this.logger.warn(`[EDITOR] Line ${s.line} does not exist (file has ${d.lineCount()} lines)`)}break;case"replace_selection":s.content!==void 0&&(d.getSelection()?(d.replaceSelection(s.content),a=!0,this.logger.debug("[EDITOR] Replaced selected text with new content")):this.logger.warn("[EDITOR] No text currently selected for replacement"));break;case"insert_at":if(s.content!==void 0&&s.line!==void 0&&s.char!==void 0){const g={line:s.line-1,ch:s.char};d.replaceRange(s.content,g),a=!0,this.logger.debug(`[EDITOR] Inserted content at position ${s.line}:${s.char}`)}break;case"replace_range":if(s.content!==void 0&&s.fromLine!==void 0&&s.fromChar!==void 0&&s.toLine!==void 0&&s.toChar!==void 0){const g={line:s.fromLine-1,ch:s.fromChar},m={line:s.toLine-1,ch:s.toChar};d.replaceRange(s.content,g,m),a=!0,this.logger.debug(`[EDITOR] Replaced range from ${s.fromLine}:${s.fromChar} to ${s.toLine}:${s.toChar}`)}break;case"insert_after_heading":if(s.content!==void 0&&s.heading!==void 0){const g=s.heading,m=d.lineCount();let f=-1;for(let b=0;b<m;b++){const c=d.getLine(b);if(c.startsWith("#")&&c.includes(g)){f=b+1;break}if(c.toLowerCase().includes(g.toLowerCase())){f=b+1;break}}if(f>=0&&f<=m)d.replaceRange(`
`+s.content+`
`,{line:f,ch:0}),a=!0,this.logger.debug(`[EDITOR] Inserted content after heading "${g}" at line ${f}`);else{this.logger.warn(`[EDITOR] Heading "${g}" not found in document`);const b=d.lastLine();d.replaceRange(`

`+s.content,{line:b,ch:d.getLine(b).length}),a=!0,this.logger.debug("[EDITOR] Heading not found, appended content to end instead")}}break}}if(!a){const d=await this.plugin.app.vault.read(r);let p=d;const g=s.editorMethod||"replace";switch(this.logger.debug(`[EDITOR] Fallback to vault API for operation: ${g} with payload:`,s),g){case"replace":s.content!==void 0&&(p=s.content);break;case"append":s.content!==void 0&&(p=d+`
`+s.content);break;case"prepend":s.content!==void 0&&(p=s.content+`
`+d);break;case"insert":if(s.content!==void 0&&s.line!==void 0){const m=d.split(`
`),f=Math.max(0,s.line-1);m.splice(f,0,s.content),p=m.join(`
`)}break;case"insert_after_heading":if(s.content!==void 0&&s.heading!==void 0){const m=d.split(`
`),f=s.heading;let b=-1;for(let c=0;c<m.length;c++){const v=m[c];if(v.startsWith("#")&&v.includes(f)){b=c+1;break}if(v.toLowerCase().includes(f.toLowerCase())){b=c+1;break}}b>=0?(m.splice(b,0,"",s.content),p=m.join(`
`),this.logger.debug(`[EDITOR] Inserted content after heading "${f}" at line ${b}`)):(p=d+`

`+s.content,this.logger.debug(`[EDITOR] Heading "${f}" not found, appended to end instead`))}case"insert_at":if(s.content!==void 0&&s.line!==void 0&&s.char!==void 0){const m=d.split(`
`),f=Math.max(0,s.line-1);if(f<m.length){const b=m[f],c=b.substring(0,s.char),v=b.substring(s.char);m[f]=c+s.content+v,p=m.join(`
`),this.logger.debug(`[EDITOR] Vault API: Inserted content at position ${s.line}:${s.char}`)}else this.logger.warn(`[EDITOR] Line ${s.line} does not exist (file has ${m.length} lines)`)}break;case"replace_range":if(s.content!==void 0&&s.fromLine!==void 0&&s.fromChar!==void 0&&s.toLine!==void 0&&s.toChar!==void 0){const m=d.split(`
`),f=Math.max(0,s.fromLine-1),b=Math.max(0,s.toLine-1);if(f===b){const c=m[f]||"",v=c.substring(0,s.fromChar),w=c.substring(s.toChar);m[f]=v+s.content+w}else{const c=m[f]||"",v=m[b]||"",w=c.substring(0,s.fromChar),_=v.substring(s.toChar),C=s.content.split(`
`);C[0]=w+C[0],C[C.length-1]=C[C.length-1]+_,m.splice(f,b-f+1,...C)}p=m.join(`
`),this.logger.debug(`[EDITOR] Vault API: Replaced range from ${s.fromLine}:${s.fromChar} to ${s.toLine}:${s.toChar}`)}break;case"replace_line":if(s.content!==void 0&&s.line!==void 0){const m=d.split(`
`),f=Math.max(0,s.line-1);f<m.length?(m[f]=s.content,p=m.join(`
`),this.logger.debug(`[EDITOR] Vault API: Replaced line ${s.line} with new content`)):this.logger.warn(`[EDITOR] Line ${s.line} does not exist (file has ${m.length} lines)`)}break;case"replace_selection":s.content!==void 0&&(p=s.content,this.logger.debug("[EDITOR] Vault API: Replace selection fallback - replaced entire content (no active editor)"));break}await this.plugin.app.vault.modify(r,p)}const l={id:e.id,type:"file:editor_edit:response",success:!0,timestamp:new Date().toISOString(),payload:{path:s.path,operation:s.editorMethod||"replace",message:"Editor edit completed successfully"}};this.sendMessage(l)}catch{this.sendErrorResponse("file:editor_edit:response","Failed to perform editor edit",e.id)}}handleConnected(e){}handleRegistered(e){if(this.logger.info("[WEBSOCKET] Successfully registered with server"),this.vaultRegistryService){const t=this.vaultRegistryService.getActiveVaultId();t&&this.vaultRegistryService.updateVaultConnection(t,!0)}}sendErrorResponse(e,t,i){const s={id:i,type:e,success:!1,timestamp:new Date().toISOString(),error:t,errorCode:"OPERATION_FAILED"};this.sendMessage(s)}getStatus(){return this.settings.wsEnabled?this.client&&this.client.readyState===WebSocket.OPEN?`Connected to port ${this.settings.wsPort}`:this.reconnectTimer?`Reconnecting... (attempt ${this.reconnectAttempts})`:"Disconnected":"Disabled"}async restart(){this.logger.debug("[WEBSOCKET] Restarting WebSocket service..."),await this.stop(),this.settings.wsEnabled?(this.logger.debug("[WEBSOCKET] Settings enabled - starting WebSocket service"),await this.start()):this.logger.debug("[WEBSOCKET] Settings disabled - WebSocket service will remain stopped")}updateSettings(e){this.settings=e,this.logger.setDebug(e.enableDebugLogging),this.logger.debug("[WEBSOCKET] Updating service settings")}}class dl extends P.Events{constructor(e,t,i){super(),this.syncRecords=[],this.isLoaded=!1,this.saveTimeout=null,this.SAVE_DEBOUNCE_MS=300,this.app=e,this.plugin=t,this.logger=i,this.registryPath=P.normalizePath(Ge.join(t.manifest.dir||".obsidian/plugins/megamem-mcp","sync.json"))}async load(){if(!await this.app.vault.adapter.exists(this.registryPath)){this.logger.debug("[DEBUG] sync.json does not exist, creating new one"),this.logger.info("[SYNC-REGISTRY] No existing sync registry found, creating new one"),this.syncRecords=[],await this.save(),this.isLoaded=!0;return}try{const t=await this.app.vault.adapter.read(this.registryPath),s=JSON.parse(t);this.syncRecords=s.sync_records||[],this.logger.info(`[SYNC-REGISTRY] Loaded sync registry with ${this.syncRecords.length} records.`),this.isLoaded=!0}catch(t){this.logger.error("[DEBUG] Error loading sync.json:",t),this.logger.error("[SYNC-REGISTRY] CRITICAL ERROR: Registry file is corrupt and cannot be parsed. Loading empty registry in memory without overwriting file.",t),this.syncRecords=[],this.isLoaded=!0}}async save(){return this.saveTimeout&&clearTimeout(this.saveTimeout),new Promise((e,t)=>{this.saveTimeout=setTimeout(async()=>{try{await this.performSave(),e()}catch(i){t(i)}finally{this.saveTimeout=null}},this.SAVE_DEBOUNCE_MS)})}async saveImmediate(){this.saveTimeout&&(clearTimeout(this.saveTimeout),this.saveTimeout=null),await this.performSave()}async performSave(){try{const e={version:"1.0",sync_records:this.syncRecords},t=JSON.stringify(e,null,2);await this.app.vault.adapter.write(this.registryPath,t),this.trigger("changed")}catch(e){const t=e instanceof Error?e.message:String(e);throw this.logger.error("[SYNC-REGISTRY] Failed to save sync registry:",{error:t,path:this.registryPath,timestamp:new Date().toISOString()}),new Error(`Failed to save sync registry: ${t}`)}}getSyncRecord(e,t,i){if(!e||typeof e!="string"){this.logger.warn("[SYNC-REGISTRY] getSyncRecord called without mm_uid",{vaultId:t,context:i});return}return this.syncRecords.find(r=>r.mm_uid===e&&r.vault_id===t)}getSyncRecordByPath(e,t){if(!(!e||typeof e!="string"))return this.syncRecords.find(i=>i.vault_id===t&&i.note_path===e)}async addOrUpdateSyncRecord(e){const{mmUid:t,notePath:i,vaultId:s,syncEntry:r}=e;if(!t||typeof t!="string")throw this.logger.error("[SYNC-REGISTRY] addOrUpdateSyncRecord missing mm_uid",{notePath:i,vaultId:s}),new Error("mm_uid is required to add or update a sync record");if(!this.isValidUUID(t))throw this.logger.error("[SYNC-REGISTRY] addOrUpdateSyncRecord received invalid mm_uid format",{mmUid:t,notePath:i,vaultId:s}),new Error("Invalid mm_uid format - must be a valid UUID");let o=this.getSyncRecord(t,s);if(o){const a=o.syncs.findIndex(l=>l.database_id===r.database_id);a>=0?(o.syncs[a]=r,this.logger.info("[SYNC-REGISTRY] Updated sync entry",{mm_uid:t,vault_id:s,database:r.database_id})):(o.syncs.push(r),this.logger.info("[SYNC-REGISTRY] Added new sync entry",{mm_uid:t,vault_id:s,database:r.database_id})),o.note_modified=new Date().toISOString(),i&&typeof i=="string"&&(o.note_path=i)}else{const a={mm_uid:t,note_path:i||"",vault_id:s,note_modified:new Date().toISOString(),syncs:[r]};this.syncRecords.push(a),this.logger.info("[SYNC-REGISTRY] Created new sync record",{mm_uid:t,vault_id:s})}await this.save()}findNoteByEpisodeUuid(e){for(const t of this.syncRecords)for(const i of t.syncs)if(i.episode_uuid===e)return{record:t,entry:i}}async generateGroupId(e,t){var r;const i=this.plugin.settings;let s=e.replace(/\\/g,"/");try{const o=((r=this.app.vault.adapter)==null?void 0:r.basePath)??"";o&&Ge.isAbsolute(e)&&(s=Ge.relative(o,e).replace(/\\/g,"/"))}catch{s=e.replace(/\\/g,"/")}if(i.enablePropertyNamespacing){const o=this.app.metadataCache.getCache(s),a=o==null?void 0:o.frontmatter,l=a==null?void 0:a.g_group_id;if(typeof l=="string"&&l.trim().length>0)return l.trim();if(typeof l=="number")return String(l)}if(i.enableFolderNamespacing){const o=this.getCustomGroupId(s,i.folderNamespaceMappings||[]);if(o)return o}return i.namespaceStrategy==="custom"&&i.defaultNamespace||t}getCustomGroupId(e,t){if(!t||t.length===0)return null;const i=[...t].sort((a,l)=>l.folderPath.length-a.folderPath.length),r=e.replace(/\\/g,"/").split("/").filter(a=>a.length>0),o=r.length>1?r.slice(0,-1).join("/"):"";for(const a of i){const l=a.folderPath.replace(/\\/g,"/");if(l&&(o===l||o.startsWith(l+"/")))return a.groupId}return null}getVaultSyncRecords(e){return this.syncRecords.filter(t=>t.vault_id===e)}getDatabaseSyncRecords(e){return this.syncRecords.filter(t=>t.syncs.some(i=>i.database_id===e))}getGroupIdSyncRecords(e){return this.syncRecords.filter(t=>t.syncs.some(i=>i.group_id===e))}async removeSyncRecord(e,t){if(!e||typeof e!="string")return!1;const i=this.syncRecords.length;return this.syncRecords=this.syncRecords.filter(s=>!(s.mm_uid===e&&s.vault_id===t)),this.syncRecords.length<i?(await this.save(),this.logger.info("[SYNC-REGISTRY] Removed sync record",{mm_uid:e,vault_id:t}),!0):!1}async removeSyncEntry(e,t,i){const s=this.getSyncRecord(e,t);if(!s)return!1;const r=s.syncs.length;return s.syncs=s.syncs.filter(o=>o.database_id!==i),s.syncs.length<r?(s.syncs.length===0?await this.removeSyncRecord(e,t):await this.save(),this.logger.info("[SYNC-REGISTRY] Removed sync entry",{mm_uid:e,vault_id:t,database:i}),!0):!1}getSyncStats(e){const t=e?this.getVaultSyncRecords(e):this.syncRecords,i={};let s=0,r;for(const o of t)for(const a of o.syncs)i[a.database_id]=(i[a.database_id]||0)+1,s++,(!r||a.last_sync>r)&&(r=a.last_sync);return{totalRecords:t.length,totalSyncs:s,databaseCounts:i,lastSync:r}}validateSyncRecord(e){if(!e||typeof e!="object")return!1;if(!e.mm_uid||typeof e.mm_uid!="string"){if(!e.note_path||typeof e.note_path!="string")return!1}else if(!this.isValidUUID(e.mm_uid))return!1;if(!e.vault_id||typeof e.vault_id!="string"||!Array.isArray(e.syncs))return!1;for(const t of e.syncs)if(!this.validateSyncEntry(t))return!1;return!(e.note_modified&&!this.isValidISODate(e.note_modified))}validateSyncEntry(e){return!(!e||typeof e!="object"||!e.database_id||typeof e.database_id!="string"||!e.group_id||typeof e.group_id!="string"||!e.episode_uuid||typeof e.episode_uuid!="string"||e.episode_uuid!==null&&!this.isValidUUID(e.episode_uuid)||!e.last_sync||typeof e.last_sync!="string"||!this.isValidISODate(e.last_sync)||e.sync_hash&&typeof e.sync_hash!="string")}isValidUUID(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}isValidISODate(e){try{return new Date(e).toISOString()===e}catch{return!1}}removeDuplicateRecords(e){const t=new Set,i=[];for(const s of e){const r=s.mm_uid?`${s.vault_id}:mm:${s.mm_uid}`:`${s.vault_id}:path:${s.note_path}`;t.has(r)?this.logger.warn("[SYNC-REGISTRY] Removing duplicate record",{vault_id:s.vault_id,mm_uid:s.mm_uid,note_path:s.note_path}):(t.add(r),i.push(s))}return i}isRegistryLoaded(){return this.isLoaded}getVaultIds(){const e=new Set(this.syncRecords.map(t=>t.vault_id));return Array.from(e)}getDatabaseIds(){const e=new Set;for(const t of this.syncRecords)for(const i of t.syncs)e.add(i.database_id);return Array.from(e)}getGroupIds(){const e=new Set;for(const t of this.syncRecords)for(const i of t.syncs)e.add(i.group_id);return Array.from(e)}getAllSyncRecords(){return[...this.syncRecords]}async reload(){await this.load(),this.trigger("changed")}}class ul extends Za.EventEmitter{constructor(e,t,i){super(),this.isLoaded=!1,this.activeVaultId=null,this.app=e,this.plugin=t,this.logger=i,this.registry=new Map,this.registryPath=P.normalizePath(Ge.join(t.manifest.dir||".obsidian/plugins/megamem-mcp","vaults.json"))}async load(){if(!await this.app.vault.adapter.exists(this.registryPath)){this.logger.debug("[VAULT-REGISTRY] No existing vault registry found, creating new one"),this.registry=new Map,await this.save(),this.isLoaded=!0;return}try{const t=await this.app.vault.adapter.read(this.registryPath);if(!t||t.trim()===""||t.trim()==="{}"){this.logger.info("[VAULT-REGISTRY] Empty registry file found, populating from settings"),this.registry=new Map,await this.save(),this.isLoaded=!0;return}const i=JSON.parse(t);this.registry.clear();for(const[s,r]of Object.entries(i))this.registry.set(s,r);this.logger.info(`[VAULT-REGISTRY] Loaded vault registry with ${this.registry.size} vaults.`),this.isLoaded=!0}catch(t){this.logger.error("[VAULT-REGISTRY] Registry file contains invalid JSON. Loading empty registry.",t),this.registry=new Map,this.isLoaded=!0}}async save(){try{const e=Object.fromEntries(this.registry),t=JSON.stringify(e,null,2);await this.app.vault.adapter.write(this.registryPath,t),this.emit("registry-update")}catch(e){const t=e instanceof Error?e.message:String(e);throw this.logger.error("[VAULT-REGISTRY] Failed to save vault registry:",{error:t,path:this.registryPath,timestamp:new Date().toISOString()}),new Error(`Failed to save vault registry: ${t}`)}}async addVault(e){const t={...e,id:e.name};return this.registry.set(e.name,t),await this.save(),this.logger.info(`[VAULT-REGISTRY] Added vault: ${e.name}.`),t}getVault(e){return this.registry.get(e)}getAllVaults(){return Array.from(this.registry.values())}async removeVault(e){if(this.registry.has(e)){const t=this.registry.get(e);return this.registry.delete(e),await this.save(),this.logger.info(`[VAULT-REGISTRY] Removed vault: ${t==null?void 0:t.name}.`),!0}return!1}async updateVaultStatus(e,t){const i=this.registry.get(e);return i?(i.status={...i.status,...t},await this.save(),!0):!1}queryVaults(e){let t=Array.from(this.registry.values());return e.vault_id&&(t=t.filter(i=>i.id===e.vault_id)),e.status!==void 0&&(t=t.filter(i=>i.status.connected===e.status)),t}getVaultStats(){const e=this.getAllVaults();return{total_connected:e.filter(t=>t.status.connected).length,total_syncing:e.filter(t=>t.status.syncing).length,total_errors:e.filter(t=>t.status.error_message).length,last_sync:e.reduce((t,i)=>i.status.last_sync>t?i.status.last_sync:t,"")}}isRegistryLoaded(){return this.isLoaded}getActiveVaultId(){return this.isLoaded||this.loadRegistrySynchronously(),this.activeVaultId||this.ensureActiveVault(),this.activeVaultId}loadRegistrySynchronously(){try{const e=require("fs");if(e.existsSync(this.registryPath)){const t=e.readFileSync(this.registryPath,"utf8"),i=JSON.parse(t);if(this.registry.clear(),typeof i=="object"&&!Array.isArray(i))for(const[s,r]of Object.entries(i))this.registry.set(s,r);this.isLoaded=!0,this.logger.debug(`[VAULT-REGISTRY] Loaded registry synchronously with ${this.registry.size} vaults`)}}catch(e){this.logger.warn("[VAULT-REGISTRY] Failed to load registry synchronously",e)}}setActiveVaultId(e){if(e&&!this.registry.has(e))return this.logger.warn(`[VAULT-REGISTRY] Cannot set active vault - vault not found: ${e}`),!1;const t=this.activeVaultId;return this.activeVaultId=e,t!==e&&this.emit("active-vault-change",e),!0}getActiveVault(){return this.activeVaultId&&this.getVault(this.activeVaultId)||null}ensureActiveVault(){if(!this.activeVaultId){const e=this.app.vault.getName(),t=this.app.vault.adapter.basePath||"";let i=null;for(const[s,r]of this.registry.entries())if(r.name===e||this.pathsMatch(r.path,t)){i=s;break}this.activeVaultId=i||e,this.logger.info(`[VAULT-REGISTRY] Auto-set active vault to: ${this.activeVaultId}${i?" (found in registry)":" (fallback to name)"}`)}}pathsMatch(e,t){const i=s=>s.replace(/\\\\/g,"/").toLowerCase().replace(/\/$/,"");return i(e)===i(t)}async autoRegisterCurrentVault(e=!1,t){var l,d;const i=this.app.vault.getName(),s=this.app.vault.adapter.basePath||"",r=this.registry.get(i);if(r&&r.path===s){this.setActiveVaultId(i);const p=this.createVaultDatabaseConfig();return JSON.stringify(r.configuration.database)!==JSON.stringify(p)?(this.logger.info(`[VAULT-REGISTRY] Updating database configuration for existing vault: ${i}`),r.configuration.database=p,await this.save(),this.logger.debug("[VAULT-REGISTRY] Database configuration updated for existing vault.",{vaultName:i,newConfig:p})):this.logger.debug("[VAULT-REGISTRY] Existing vault database configuration is already up-to-date.",{vaultName:i}),t&&t.isConnected()&&(t.sendVaultRegistration({name:r.name,path:r.path,id:r.name})?await this.updateVaultConnection(i,!0,(d=(l=r.connection)==null?void 0:l.auth)==null?void 0:d.token):this.logger.warn("[VAULT-REGISTRY] Failed to send existing vault registration to MCP server.")),r}const o=new Date().toISOString(),a={name:i,description:`Auto-registered vault: ${i}`,path:s,type:"obsidian",connection:{host:"localhost",port:this.plugin.settings.wsPort,auth:{token:""}},configuration:{database:this.createVaultDatabaseConfig(),sync:{enabled:!0,interval:300,last_sync:o}},status:{connected:!1,syncing:!1,last_sync:o}};try{const p=await this.addVault(a);return this.setActiveVaultId(i),this.logger.info(`[VAULT-REGISTRY] Created local vault registry entry for: ${i}.`),t&&t.isConnected()&&(t.sendVaultRegistration({name:p.name,path:p.path,id:i})?await this.updateVaultConnection(i,!0,a.connection.auth.token):this.logger.warn("[VAULT-REGISTRY] Failed to send vault registration to MCP server.")),p}catch(p){return this.logger.error(`[VAULT-REGISTRY] Failed to auto-register current vault: ${i}`,p),null}}onActiveVaultChange(e){this.on("active-vault-change",e)}onRegistryUpdate(e){this.on("registry-update",e)}async updateVaultConnection(e,t,i){const s=this.registry.get(e);return s?(s.status.connected=t,s.status.last_sync=new Date().toISOString(),i&&(s.connection.auth.token=i),t||(s.status.syncing=!1,s.status.error_message=void 0),await this.save(),this.logger.info(`[VAULT-REGISTRY] Updated vault connection status for ${s.name}: Connected: ${t}.`),!0):!1}async updateVaultEmbeddingModel(e,t,i,s){const r=this.registry.get(e);if(!r)return this.logger.warn(`[VAULT-REGISTRY] Cannot update embedding model - vault not found: ${e}`),!1;r.configuration.embedding||(r.configuration.embedding={}),r.configuration.embedding.model=t,i!==void 0&&(r.configuration.embedding.dimensions=i),s!==void 0&&(r.configuration.embedding.provider=s),await this.save();const o=s?` (${s})`:"",a=i?` (${i}d)`:"";return this.logger.info(`[VAULT-REGISTRY] Updated embedding model for vault ${e}: ${t}${o}${a}`),!0}getVaultEmbeddingModel(e){const t=this.registry.get(e);return t?t.configuration.embedding||{}:null}hasEmbeddingModelChanged(e,t,i,s){const r=this.getVaultEmbeddingModel(e);return!r||!r.model?!1:r.model!==t||s!==void 0&&r.provider!==void 0&&r.provider!==s||i!==void 0&&r.dimensions!==void 0&&r.dimensions!==i}validateEmbeddingModelConfig(e){const t=this.getVaultEmbeddingModel(e);return!t||!t.model?{isValid:!1}:{isValid:!0,config:t}}getEmbeddingModelMismatchDetails(e,t,i,s){const r=this.getVaultEmbeddingModel(e);return{hasChanged:this.hasEmbeddingModelChanged(e,t,i,s),storedProvider:r==null?void 0:r.provider,storedModel:r==null?void 0:r.model,storedDimensions:r==null?void 0:r.dimensions,currentProvider:s,currentModel:t,currentDimensions:i}}createVaultDatabaseConfig(){var i,s;const e=this.plugin.settings,t=e.databaseType||"neo4j";if(t==="neo4j"&&((i=e.databaseConfigs)!=null&&i.neo4j)){const r=e.databaseConfigs.neo4j;if(r.uri){const l=r.uri.match(/bolt:\/\/([^:]+):(\d+)/);if(l){const d=parseInt(l[2]);return{type:"neo4j",host:l[1]||"localhost",port:d||7687,database:r.database||"neo4j",username:r.username,password:r.password}}}const o="localhost",a=7687;return this.logger.warn("[VAULT-REGISTRY] URI match failed or URI not provided for Neo4j. Using defaults/fallback values."),{type:"neo4j",host:o,port:a,database:r.database||"neo4j",username:r.username,password:r.password}}else if(t==="falkordb"&&((s=e.databaseConfigs)!=null&&s.falkordb)){const r=e.databaseConfigs.falkordb;return this.logger.debug("[VAULT-REGISTRY] FalkorDB config found in settings.databaseConfigs:",{host:r.host,port:r.port,database:r.database}),{type:"neo4j",host:r.host||"localhost",port:r.port||6379,database:r.database||"falkor",username:r.username,password:r.password}}return this.logger.warn(`[VAULT-REGISTRY] No database configuration found for type: ${t}. Using final defaults.`),{type:"neo4j",host:"localhost",port:7687,database:"neo4j"}}}const pl=["id","uuid","name","type","subtype","summary","description","created_at","updated_at","fact_uuid","fact_name","fact_type","fact_subtype","fact_summary","fact_description","fact_created_at","fact_updated_at","edge_uuid","edge_name","edge_type","edge_subtype","edge_summary","edge_description","edge_created_at","edge_updated_at","source_uuid","target_uuid","source_name","target_name","source_type","target_type","valid_at","invalid_at","metadata"],bn={Person:"Individual human being with personal and professional attributes, relationships, and activities within the knowledge domain.",Organization:"Business entity, company, institution, or group with structured operations and relationships within the professional ecosystem.",Technology:"Software, programming language, framework, tool, or technical system used in development and business operations.",Product:"Software product, service, platform, or offering created by organizations for users and customers.",Project:"Organized effort with defined goals, timeline, and deliverables undertaken by individuals or organizations.",WebPage:"Individual web page or URL with specific content, purpose, and relationships within the broader web ecosystem.",Website:"Complete web domain or site containing multiple pages and serving as a unified web presence.",Note:"Personal knowledge note, documentation, or idea captured for reference and knowledge management purposes.",Article:"Published content piece such as blog post, tutorial, or informational article with specific topic focus.",Music:"Musical work, song, album, or audio content with artistic and cultural significance, including metadata about creation and performance.",Film:"Movie, video content, or visual media production with narrative or documentary purpose, including cast, crew, and production details.",Event:"Organized gathering, conference, meeting, or occasion with specific time, location, and participants for knowledge sharing or collaboration.",Place:"Physical location, venue, or geographic entity with address and spatial context relevant to activities and relationships.",Quote:"Memorable statement, saying, or excerpt attributed to a specific source with context and meaning for reference and inspiration.",Expression:"Idiom, concept, principle, or linguistic construct that conveys meaning within cultural or professional contexts.",Personal:"Private individual content including goals, identity information, preferences, and personal development material for self-organization.",Journal:"Time-based personal entry or log recording thoughts, experiences, and reflections for tracking personal growth and memories.",Book:"Published literary work, reference material, or educational text with structured content for knowledge sharing and learning.",ProjectDoc:"Technical documentation, specifications, or project-related materials that support project development and collaboration."},vn={duration:'Length of the art work in minutes and seconds, typically formatted as "MM:SS" (e.g., "3:42", "1:15:30")',record_label:"Music label or company responsible for producing, distributing, or promoting the musical work",artist:"Musical performer, band, or creator responsible for the artistic creation and performance of the musical work",album:"Collection or record release that contains this musical work as part of a larger artistic statement",track_number:"Position of this song within an album or collection for organization and reference",composer:"Person who created the musical composition, melody, and structure of the work",lyricist:"Person who wrote the words, lyrics, or text content of the musical work",director:"Primary director or filmmaker credited as the main creative leader of the film or video content",cast:"List of actors and performers who appeared in the film or video content",studio:"Production studio or company responsible for creating and distributing the film",date_start:"Starting date of the event or scheduled activity in YYYY-MM-DD format",date_end:"Ending date of the event or scheduled activity in YYYY-MM-DD format",location:'Physical venue, address, or virtual platform where the event takes place (e.g., "Madison Square Garden", "Zoom", "123 Main St")',organizer:"Person, organization, or entity responsible for planning and hosting the event",event_type:`Classification of the event's purpose and format (e.g., "conference", "meeting", "celebration", "workshop", "webinar")`,coordinates:'Geographic coordinates in latitude, longitude format for precise location identification (e.g., "37.7749, -122.4194")',city:"Municipality, city, or urban area that contains or represents the place for regional identification",postal_code:"ZIP code, postal code, or area code for mail delivery and regional classification",place_type:`Classification of the place's purpose and characteristics (e.g., "venue", "office", "landmark", "residential", "commercial")`,region:"Geographic region, state, or province where the place is located for broader geographic context",title:"Primary name, headline, or official title that identifies and represents the entity",c_name:"Complete legal name, official title, or canonical name as formally recognized",aliases:"Alternative names, nicknames, abbreviations, or other identifiers by which this entity is also known",url:"Complete web address or URL where this entity can be accessed or referenced online",same_as:"URIs or URLs that identify this same entity on other platforms, databases, or knowledge systems for linking",tags:"Keywords, labels, or categorical markers used for organizing, filtering, and discovering related content",author:"Person or organization who created, wrote, or is primarily responsible for this content",organization:"Company, institution, or group associated with or responsible for this entity",about:"Subject matter, topic, or theme that this content covers or discusses in detail",category:"Primary classification, type, or domain that categorizes this entity's purpose and characteristics",status:'Current state, phase, or condition of the entity in its lifecycle (e.g., "active", "completed", "planning")',date_published:"Date when this article or content was officially published or released in YYYY-MM-DD format",identity_type:`Classification of the person's identity status (e.g., "natural_person", "public_figure", "pseudonym", "character")`,given_name:"First name or given name as commonly used for personal identification and introductions",family_name:"Last name, surname, or family name used for formal identification and heritage",date_of_birth:"Date when the person was born, formatted as YYYY-MM-DD for biographical reference",date_of_death:"Date when the person passed away, formatted as YYYY-MM-DD if applicable for biographical completion",address:"Physical address, location, or primary residence where the person is based",email:"Primary email address for professional or personal communication and contact",works_for:"Organization, company, or institution where the person is currently employed",job_title:"Professional role, position, or title that describes the person's current responsibilities",needs:"Resources, skills, connections, or support that the person requires to achieve their goals",offers:"Skills, services, knowledge, or value that the person can provide to others or contribute to projects",links:"URLs or web addresses associated with the person's online presence or professional profiles",relationship_type:"Nature of the relationship or connection this person has to other entities or people",date_founded:"Date when the organization was officially established, incorporated, or founded in YYYY-MM-DD format",org_type:'Legal structure or classification of the organization (e.g., "LLC", "Corporation", "Non-profit", "Partnership")',project_type:`Classification of the project's nature, scope, and methodology (e.g., "software", "research", "startup", "community")`,collaborators:"People, teams, or organizations working together on this project or contributing to its development",public_repo:"URL or reference to the public code repository where the project's source code is hosted and accessible",offering_type:'Business model and delivery method of the product (e.g., "SaaS", "API", "physical_product", "service", "platform")',article_type:'Genre or format classification of the article (e.g., "blog_post", "tutorial", "analysis", "news", "review")',note_type:`Classification of the note's purpose and content type (e.g., "idea", "meeting_notes", "reference", "analysis")`,subtitle:"Secondary title or explanatory subtitle that provides additional context about the book's content",categories:"Subject categories, genres, or classification tags that describe the book's content and target audience",authors:"List of people who wrote, edited, or contributed to the creation of the book",published_on:"Date when the book was officially published or released in YYYY-MM-DD format",link:"URL or web address where the book can be accessed, purchased, or referenced online",project:"Name or identifier of the project that this documentation relates to or supports",team:"Group of people or organizational unit responsible for creating and maintaining this documentation",genre:"Category, style, or classification that describes the artistic approach, subject matter, or target audience",country:"Nation or country of origin where the entity was created, produced, or primarily operates"};class Lr{constructor(e,t){this.app=e,this.plugin=t}get logger(){try{return this.plugin&&this.plugin.logger?this.plugin.logger:void 0}catch{return}}isProtectedAttribute(e){return pl.includes(e.toLowerCase())}convertToSnakeCase(e){return e.replace(/([A-Z])/g,"_$1").toLowerCase().replace(/^_/,"")}validateEntityTypeName(e){const t=[];let i=e;/^[A-Z][a-zA-Z0-9]*$/.test(e)||(t.push("Entity type should be PascalCase (e.g., Person, TechCompany)"),i=e.charAt(0).toUpperCase()+e.slice(1).replace(/[^a-zA-Z0-9]/g,""));const s=t.length===0?"excellent":"needs_improvement";return{isValid:t.length===0,issues:t,suggestedName:i,complianceLevel:s}}analyzeProperty(e,t){const i=this.convertToSnakeCase(e),s=this.isProtectedAttribute(e),r=[];s&&r.push("Uses protected attribute name reserved by Graphiti"),e!==i&&!s&&r.push("Should use snake_case naming convention");const o=s?"protected":r.length>0?"warning":"valid";return{originalName:e,suggestedName:s?`${i}_custom`:i,isProtected:s,namingIssues:r,complianceStatus:o}}applyPropertyMapping(e,t){return this.plugin&&this.plugin.getPropertyMapping(e,t)||t}async savePropertyMapping(e,t,i){this.plugin&&await this.plugin.savePropertyMapping(e,t,i)}async removePropertyMapping(e,t){this.plugin&&await this.plugin.removePropertyMapping(e,t)}async savePropertySelection(e,t,i){this.plugin&&await this.plugin.savePropertySelection(e,t,i)}getPropertySelection(e,t){if(this.plugin)return this.plugin.getPropertySelection(e,t)}getDefaultEntityDescription(e){return bn[e]||null}hasDefaultEntityDescription(e){return e in bn}getAvailableDefaultEntityTypes(){return Object.keys(bn)}getDefaultPropertyDescription(e){return vn[e]||null}hasDefaultPropertyDescription(e){return e in vn}get defaultPropertyDescriptions(){return vn}getAvailableDefaultProperties(){return Object.keys(vn)}getAvailableDefaultEdgeTypes(){return{WorksFor:"Person employed by Organization",Uses:"Person/Organization uses Technology/Product",Creates:"Person/Organization creates Technology/Product/Project",Knows:"Person knows Person (personal or professional relationship)",MemberOf:"Person/Organization is member of Organization",PartnersWith:"Person/Organization partners with Person/Organization",DependsOn:"Technology/Product depends on Technology",IntegratedWith:"Product/Technology has built-in integration with Product/Technology",About:"WebPage/Note/Article about Entity",IsPartOf:"WebPage part of Website/Domain",Tags:"Entity is tagged with another Entity",PerformedBy:"Musical work performed by Artist/Person",InfluencedBy:"Entity influenced or inspired by another Entity",CollaboratesWith:"Person/Organization actively collaborates with Person/Organization",OrganizedBy:"Event organized and managed by Person/Organization",AttendedBy:"Event attended or participated in by Person",PartOfSeries:"Entity that belongs to or continues a series/sequence",LeadBy:"Project/Organization/Initiative led or directed by Person",SponsoredBy:"Entity sponsored, funded, or supported by Organization",CompetesWith:"Organization/Product in competition or rivalry with Organization/Product"}}getDefaultEdgeTypeProperties(){return{WorksFor:{job_title:{description:"Current professional role, position, or title that describes responsibilities and level within an organization",fieldType:"str",required:!1},employment_type:{description:"Employment classification such as full-time, part-time, contractor, consultant, advisor, or intern",fieldType:"str",required:!1},start_date:{description:"Date when the employment relationship began in YYYY-MM-DD format",fieldType:"datetime",required:!1}},Uses:{sentiment:{description:"User's attitude or feeling toward the technology (positive, negative, neutral, love, hate)",fieldType:"str",required:!1},proficiency:{description:"User's skill level or expertise with the technology (beginner, intermediate, advanced, expert)",fieldType:"str",required:!1},usage_context:{description:"Context or environment where the technology is used (development, production, personal, testing)",fieldType:"str",required:!1},status:{description:"Current usage status (active, inactive, trial, paid_account, evaluating)",fieldType:"str",required:!1},start_date:{description:"Date when usage began in YYYY-MM-DD format",fieldType:"datetime",required:!1}},Creates:{role:{description:"Creator's role in the creation process (founder, lead_developer, contributor, designer, architect)",fieldType:"str",required:!1},contribution_type:{description:"Type of contribution made (code, design, strategy, funding, documentation, testing)",fieldType:"str",required:!1}},Knows:{relationship_type:{description:"Nature of the relationship (colleague, mentor, friend, collaborator, acquaintance)",fieldType:"str",required:!1},context:{description:"Context or setting where they know each other (work, school, industry, personal)",fieldType:"str",required:!1}},MemberOf:{role:{description:"Member's role or position within the organization (employee, volunteer, board_member, customer, partner)",fieldType:"str",required:!1},start_date:{description:"Date when membership began in YYYY-MM-DD format",fieldType:"datetime",required:!1},status:{description:"Current membership status (active, inactive, suspended, trial, paid)",fieldType:"str",required:!1}},PartnersWith:{partnership_type:{description:"Type of partnership (strategic, supplier, investment, consulting, advisory, joint_venture)",fieldType:"str",required:!1},start_date:{description:"Date when partnership began in YYYY-MM-DD format",fieldType:"datetime",required:!1},status:{description:"Current partnership status (active, inactive, completed, negotiating)",fieldType:"str",required:!1}},DependsOn:{dependency_type:{description:"Type of dependency (runtime, build_time, development, infrastructure, optional)",fieldType:"str",required:!1},version:{description:"Required version or version range for the dependency",fieldType:"str",required:!1}},IntegratedWith:{integration_type:{description:"Type of integration (native, plugin, API, webhook, SDK, embedded)",fieldType:"str",required:!1},bidirectional:{description:"Whether the integration works in both directions between the technologies",fieldType:"bool",required:!1}},About:{coverage_type:{description:"Depth of coverage (comprehensive, mention, analysis, tutorial, review)",fieldType:"str",required:!1},authority:{description:"Source authority level (official, community, expert_analysis, user_generated)",fieldType:"str",required:!1}},IsPartOf:{relationship_type:{description:"Type of relationship (page, article, documentation, section, subdomain)",fieldType:"str",required:!1}},Tags:{},PerformedBy:{performance_type:{description:"Type of performance relationship (original_artist, cover_version, live_performance, collaboration, featured_artist)",fieldType:"str",required:!1},role:{description:"Specific role in the performance (lead_vocals, instrumentalist, producer, featured, backing_vocals)",fieldType:"str",required:!1},performance_date:{description:"Date when this performance or recording took place in YYYY-MM-DD format",fieldType:"datetime",required:!1}},InfluencedBy:{influence_type:{description:"Nature of the influence relationship (artistic, intellectual, methodological, philosophical, technical)",fieldType:"str",required:!1},description:{description:"Specific ways this entity was influenced, including concepts, techniques, or approaches adopted",fieldType:"str",required:!1},strength:{description:"Degree of influence impact (minor, moderate, major, foundational, transformative)",fieldType:"str",required:!1}},CollaboratesWith:{collaboration_type:{description:"Nature of the collaborative relationship (project_partner, co_author, joint_venture, research_partner, creative_partner)",fieldType:"str",required:!1},collaboration_status:{description:"Current state of the collaboration (active, completed, planned, on_hold, recurring)",fieldType:"str",required:!1},start_date:{description:"Date when the collaboration began in YYYY-MM-DD format",fieldType:"datetime",required:!1}},OrganizedBy:{organizational_role:{description:"Specific role in organizing the event (lead_organizer, co_organizer, event_manager, logistics_coordinator, program_director)",fieldType:"str",required:!1},responsibilities:{description:"Specific duties and areas of responsibility in event organization (logistics, programming, marketing, sponsorships)",fieldType:"str",required:!1}},AttendedBy:{attendance_type:{description:"Nature of attendance or participation (presenter, attendee, keynote_speaker, panelist, sponsor, volunteer)",fieldType:"str",required:!1},participation_level:{description:"Degree of involvement in the event (active_participant, passive_attendee, featured_speaker, organizer)",fieldType:"str",required:!1}},PartOfSeries:{sequence_position:{description:"Position or order within the series (episode_1, part_2, volume_3, season_1_episode_5)",fieldType:"str",required:!1},series_relationship:{description:"Type of relationship to the series (sequel, prequel, spin_off, continuation, part_of_collection)",fieldType:"str",required:!1}},LeadBy:{leadership_role:{description:"Specific leadership position and authority (ceo, project_manager, team_lead, creative_director, principal_investigator)",fieldType:"str",required:!1},leadership_start_date:{description:"Date when leadership role began in YYYY-MM-DD format",fieldType:"datetime",required:!1},leadership_scope:{description:"Areas of responsibility and decision-making authority (strategic, operational, creative, technical, administrative)",fieldType:"str",required:!1}},SponsoredBy:{sponsorship_type:{description:"Nature of sponsorship relationship (financial, in_kind, promotional, strategic, title_sponsor, presenting_sponsor)",fieldType:"str",required:!1},sponsorship_level:{description:"Degree or tier of sponsorship support (platinum, gold, silver, bronze, major, minor)",fieldType:"str",required:!1},support_details:{description:"Specific ways sponsor provides support (funding, resources, expertise, marketing, venue)",fieldType:"str",required:!1}},CompetesWith:{competition_type:{description:"Nature of competitive relationship (direct_competitor, market_rival, alternative_solution, industry_peer)",fieldType:"str",required:!1},market_context:{description:"Market or domain where competition occurs (same_market, adjacent_market, substitute_product, feature_competition)",fieldType:"str",required:!1},competitive_advantage:{description:"Key differentiating factors in the competitive relationship (price, features, market_share, brand_recognition)",fieldType:"str",required:!1}}}}getUnusedDefaultEdgeTypes(e){const t=this.getAvailableDefaultEdgeTypes(),i={};return Object.entries(t).forEach(([s,r])=>{e[s]||(i[s]=r)}),i}getSuggestedDefaultMappings(e,t){const i=[],s=new Set(t.map(o=>`${o.sourceEntity}->${o.targetEntity}`));return e.includes("Person")&&(e.includes("Organization")&&!s.has("Person->Organization")&&i.push({sourceEntity:"Person",targetEntity:"Organization",allowedEdges:["WorksFor","MemberOf","PartnersWith"],description:"People working for or being members of organizations"}),e.includes("Technology")&&!s.has("Person->Technology")&&i.push({sourceEntity:"Person",targetEntity:"Technology",allowedEdges:["Creates","Uses"],description:"People creating or using technologies"}),e.includes("Product")&&!s.has("Person->Product")&&i.push({sourceEntity:"Person",targetEntity:"Product",allowedEdges:["Creates","Uses"],description:"People creating or using products"}),e.includes("Project")&&!s.has("Person->Project")&&i.push({sourceEntity:"Person",targetEntity:"Project",allowedEdges:["Creates","MemberOf"],description:"People creating or being part of projects"}),s.has("Person->Person")||i.push({sourceEntity:"Person",targetEntity:"Person",allowedEdges:["Knows"],description:"Professional and personal relationships between people"})),e.includes("Organization")&&(e.includes("Technology")&&!s.has("Organization->Technology")&&i.push({sourceEntity:"Organization",targetEntity:"Technology",allowedEdges:["Creates","Uses","DependsOn"],description:"Organizations creating, using, or depending on technologies"}),e.includes("Product")&&!s.has("Organization->Product")&&i.push({sourceEntity:"Organization",targetEntity:"Product",allowedEdges:["Creates","Uses","DependsOn"],description:"Organizations creating, using, or depending on products"}),s.has("Organization->Organization")||i.push({sourceEntity:"Organization",targetEntity:"Organization",allowedEdges:["PartnersWith","MemberOf"],description:"Partnerships and memberships between organizations"})),e.includes("Technology")&&(s.has("Technology->Technology")||i.push({sourceEntity:"Technology",targetEntity:"Technology",allowedEdges:["DependsOn","IntegratedWith"],description:"Dependencies and integrations between technologies"}),e.includes("Product")&&!s.has("Technology->Product")&&i.push({sourceEntity:"Technology",targetEntity:"Product",allowedEdges:["IntegratedWith"],description:"Technologies integrated with products"})),["WebPage","Note","Article"].filter(o=>e.includes(o)).forEach(o=>{s.has(`${o}->Entity`)||i.push({sourceEntity:o,targetEntity:"Entity",allowedEdges:["About"],description:`${o} content about other entities`})}),e.includes("Person")&&e.includes("Music")&&!s.has("Person->Music")&&i.push({sourceEntity:"Person",targetEntity:"Music",allowedEdges:["PerformedBy","InfluencedBy","Creates"],description:"People performing, creating, or influenced by musical works"}),e.includes("Person")&&e.includes("Film")&&!s.has("Person->Film")&&i.push({sourceEntity:"Person",targetEntity:"Film",allowedEdges:["PerformedBy","InfluencedBy","Creates"],description:"People acting in, creating, or influenced by films"}),e.includes("Person")&&e.includes("Event")&&!s.has("Person->Event")&&i.push({sourceEntity:"Person",targetEntity:"Event",allowedEdges:["OrganizedBy","AttendedBy","LeadBy"],description:"People organizing, attending, or leading events"}),e.includes("Person")&&e.includes("Place")&&!s.has("Person->Place")&&i.push({sourceEntity:"Person",targetEntity:"Place",allowedEdges:["Tags","About"],description:"People associated with or documenting places"}),e.includes("Music")&&!s.has("Music->Music")&&i.push({sourceEntity:"Music",targetEntity:"Music",allowedEdges:["InfluencedBy","PartOfSeries"],description:"Musical works influenced by or part of series with other music"}),e.includes("Film")&&!s.has("Film->Film")&&i.push({sourceEntity:"Film",targetEntity:"Film",allowedEdges:["InfluencedBy","PartOfSeries","CompetesWith"],description:"Films influenced by, part of series, or competing with other films"}),e.includes("Organization")&&e.includes("Event")&&!s.has("Organization->Event")&&i.push({sourceEntity:"Organization",targetEntity:"Event",allowedEdges:["OrganizedBy","SponsoredBy"],description:"Organizations organizing or sponsoring events"}),e.includes("Organization")&&e.includes("Music")&&!s.has("Organization->Music")&&i.push({sourceEntity:"Organization",targetEntity:"Music",allowedEdges:["SponsoredBy","Creates"],description:"Organizations sponsoring or creating musical works (labels, studios)"}),e.includes("Organization")&&e.includes("Film")&&!s.has("Organization->Film")&&i.push({sourceEntity:"Organization",targetEntity:"Film",allowedEdges:["SponsoredBy","Creates"],description:"Organizations sponsoring or creating films (studios, distributors)"}),e.includes("Quote")&&e.includes("Person")&&!s.has("Quote->Person")&&i.push({sourceEntity:"Quote",targetEntity:"Person",allowedEdges:["About","Tags"],description:"Quotes attributed to or about specific people"}),e.includes("Expression")&&!s.has("Expression->Expression")&&i.push({sourceEntity:"Expression",targetEntity:"Expression",allowedEdges:["InfluencedBy","Tags"],description:"Expressions influenced by or related to other expressions"}),e.includes("Personal")&&e.includes("Person")&&!s.has("Personal->Person")&&i.push({sourceEntity:"Personal",targetEntity:"Person",allowedEdges:["About","Tags"],description:"Personal content about or relating to specific people"}),e.includes("Journal")&&e.includes("Person")&&!s.has("Journal->Person")&&i.push({sourceEntity:"Journal",targetEntity:"Person",allowedEdges:["About","Tags"],description:"Journal entries about or mentioning specific people"}),e.includes("Project")&&e.includes("Event")&&!s.has("Project->Event")&&i.push({sourceEntity:"Project",targetEntity:"Event",allowedEdges:["OrganizedBy","PartOfSeries"],description:"Projects organizing events or as part of event series"}),e.includes("Technology")&&e.includes("Music")&&!s.has("Technology->Music")&&i.push({sourceEntity:"Technology",targetEntity:"Music",allowedEdges:["Creates","Uses"],description:"Technologies used to create or distribute music"}),e.includes("Technology")&&e.includes("Film")&&!s.has("Technology->Film")&&i.push({sourceEntity:"Technology",targetEntity:"Film",allowedEdges:["Creates","Uses"],description:"Technologies used in film production or distribution"}),i.length===0&&!s.has("Entity->Entity")&&i.push({sourceEntity:"Entity",targetEntity:"Entity",allowedEdges:["Tags"],description:"Generic tagging relationships between any entities"}),i}async discoverAllSchemas(){const e=new Map,t=this.app.vault.getMarkdownFiles();for(const i of t){const s=this.app.metadataCache.getFileCache(i),r=s==null?void 0:s.frontmatter;if(!(r!=null&&r.type))continue;const o=r.type;e.has(o)||e.set(o,{properties:new Map,files:[]});const a=e.get(o);a.files.push(i.path),Object.entries(r).forEach(([l,d])=>{l!=="type"&&(a.properties.has(l)||a.properties.set(l,[]),a.properties.get(l).push(d))})}return Array.from(e.entries()).map(([i,s])=>({typeName:i,fileCount:s.files.length,files:s.files,properties:Array.from(s.properties.entries()).map(([r,o])=>{const a=this.analyzeProperty(r,o),l=this.applyPropertyMapping(i,r),d=l!==r,p=d?l:r,g=d?[]:a.namingIssues,m=d?"valid":a.complianceStatus,f=this.getPropertySelection(i,r),b=!a.isProtected,c=f!==void 0?f:b;return{name:p,inferredType:this.inferType(o),isOptional:o.some(v=>v==null),description:this.generateDescription(r,i),examples:Array.from(new Set(o)).slice(0,3),enabled:c,isProtected:a.isProtected,namingIssues:g,suggestedName:a.suggestedName,complianceStatus:m}})}))}inferType(e){const t=e.filter(s=>s!=null);if(t.length===0)return"string";const i=t[0];return Array.isArray(i)?"array":typeof i=="boolean"?"boolean":typeof i=="number"?"number":this.isDateLike(i)?"date":typeof i=="object"?"object":"string"}isDateLike(e){return typeof e!="string"?!1:/^\d{4}-\d{2}-\d{2}/.test(e)||!isNaN(Date.parse(e))}generateDescription(e,t){const i={c_name:"Complete legal name or official title as recognized by authorities or in formal documentation",given_name:"Given name or first name as commonly used in introductions and personal identification",family_name:"Family name, surname, or last name used for formal identification and family lineage",aliases:"Alternative names, nicknames, professional names, or pseudonyms by which the entity is also known",url:"Complete web address or URL where the resource can be accessed on the internet",same_as:"URIs or URLs that identify the same entity on other platforms, databases, or knowledge systems for entity linking",permalink:"Permanent link or stable identifier that remains constant over time",created:"Timestamp when the note or entity record was first created in the Obsidian vault for tracking and organizational purposes",created_date:"Date when the content was originally created or when the ideas were first captured in YYYY-MM-DD format",published_date:"Date when the content was officially published or made publicly available in YYYY-MM-DD format",birth_date:"Date when the person was born in YYYY-MM-DD format for biographical and age calculation purposes",founding_date:"Date when the organization was officially established, incorporated, or founded in YYYY-MM-DD format",title:"Primary title, headline, or name that identifies and represents the entity",description:"Detailed explanation or summary that describes the purpose, content, or characteristics of the entity",abstract:"Brief summary or overview that captures the essential points and main ideas",summary:"Concise overview that highlights the key information and important details",type:"Entity type classification (WebPage, Person, Organization, Product, Technology, Project, Article, Film, Music, Book, Event, Note, etc.)",category:"Primary classification or market segment that describes the entity's purpose and target domain",tags:"Topic keywords, classification labels, or categorical tags used for organizing and filtering content within the knowledge base",status:"Current state or phase in the entity's lifecycle (active, completed, planning, etc.)",author:'Person or organization who created, wrote, or is credited as the primary creator of the content (e.g., "Jane Smith", "MIT Research Lab")',job_title:'Current professional role, position, or title that describes responsibilities and level within an organization (e.g., "CEO", "Senior Developer", "Research Scientist")',works_for:'Organization where person is employed (e.g., "Apple Inc.", "Google", "Stanford University")',org_type:'Legal or Lawful structure and registration type of the organization (e.g., "LLC", "Inc", "Partnership", "501c3", "Government Agency")',email:"Primary email address used for professional or personal communication and contact purposes",address:"Physical address, city, state, or geographic location where the entity is primarily based or located",needs:"Specific resources, skills, connections, or support that the entity requires to achieve goals or be successful",offers:"Skills, services, knowledge, resources, or value that the entity can provide to others or contribute to projects",project_type:"Classification of the project's primary purpose and methodology (research, development, initiative, startup, etc.)",article_type:"Genre or format classification of the published content (essay, blog_post, analysis, tutorial, whitepaper, etc.)",note_type:"Classification of the note's purpose and content structure (idea, analysis, reflection, meeting_notes, etc.)",offering_type:"Primary business model and delivery method of the offering (product, service, platform, SaaS, API, etc.)",identity_type:"Classification of person's legal and social identity status (natural_person, national_identity, pseudonym)",thumbnail:"Thumbnail or preview image URL that provides a visual representation of the content",primary_image:"Primary image URL that serves as the main visual element for the entity"};if(i[e])return i[e];if(e.includes("date")||e.includes("time"))return`Date or timestamp for ${t} entities (e.g., "2024-01-15", "2023-12-31T10:30:00Z")`;if(e.includes("url")||e.includes("link"))return`Web address or URL associated with ${t} entities (e.g., "https://example.com", "https://docs.company.com")`;if(e.includes("name")||e.includes("title"))return`Name or title that identifies ${t} entities (e.g., "John Smith", "Project Alpha", "Company Inc.")`;if(e.includes("type")||e.includes("category"))return`Classification that categorizes ${t} entities (e.g., "software", "hardware", "service")`;const s=e.replace(/_/g," ");return`${s.charAt(0).toUpperCase()+s.slice(1)} associated with ${t} entities`}async generatePydanticModels(e){const t=`"""
Pydantic models for Obsidian-Graphiti knowledge graph entities.

This module contains automatically generated Pydantic models based on schema discovery
from Obsidian vault notes. These models are designed to work with the Graphiti
knowledge graph framework for entity extraction and relationship mapping.

Generated models inherit from BaseEntity which provides core properties required
by Graphiti for knowledge graph processing including type classification, tags,
and creation timestamps.

Usage:
    from graphiti_models import Person, Organization, Project

    # Create entity instances
    person = Person(
        c_name="John Doe",
        job_title="Software Engineer",
        email="john@example.com"
    )

    # All entities have core BaseEntity properties
    person.type = "Person"
    person.tags = ["professional", "contact"]
    person.created = datetime.now()

Note: This file is automatically generated. Manual edits will be overwritten
during the next schema discovery process.
"""`,i=["from typing import Optional, List, Dict, Any","from pydantic import BaseModel, Field","from datetime import datetime",""],s=`class BaseEntity(BaseModel):
    """
    Base class for all Graphiti knowledge graph entities.

    Provides core properties required by Graphiti for entity processing,
    relationship mapping, and knowledge graph construction.
    """
    tags: Optional[List[str]] = Field(None, description="Topic keywords, classification labels, or categorical tags used for organizing and filtering content within the knowledge base")
`,r=[];for(let d=0;d<e.length;d+=50){e.slice(d,d+50).forEach(g=>r.push(this.generateSingleModel(g)));try{await new Promise(g=>setTimeout(g,0))}catch{}}const a=this.generateEdgeTypes(),l=this.generateEdgeTypeMap(e);return[t,"",...i,s,...r,a,l].join(`
`)}generateSingleModel(e){const t=e.typeName.replace(/\s+/g,"").replace(/[^a-zA-Z0-9]/g,""),i=e.properties.filter(d=>d.enabled!==!1&&!d.isProtected).map(d=>{const p=this.getPythonType(d),g=d.suggestedName||d.name,m=this.generateDescription(d.name,e.typeName);return`    ${g}: Optional[${p}] = Field(None, description="${m}")`}),s=e.properties.filter(d=>d.isProtected).map(d=>`    # SKIPPED: '${d.name}' - protected attribute (use '${d.suggestedName}' instead)`),r=[...i,...s],o=r.length>0?r.join(`
`):"    pass",l=bn[t]||`Custom ${t} entity.
    
    Use this entity type for ${t} content that doesn't match
    the standard entity types in your knowledge domain.`;return`class ${t}(BaseEntity):
    """
    ${l}
    """
${o}

`}generateEdgeTypes(){return`
# Edge Types - Relationship Models
class WorksFor(BaseModel):
    """Person employed by Organization"""
    job_title: Optional[str] = Field(None, description="Current professional role, position, or title that describes responsibilities and level within an organization")
    employment_type: Optional[str] = Field(None, description="Employment classification such as full-time, part-time, contractor, consultant, advisor, or intern")
    start_date: Optional[datetime] = Field(None, description="Date when the employment relationship began in YYYY-MM-DD format")

class Uses(BaseModel):
    """Person/Organization uses Technology/Product"""
    sentiment: Optional[str] = Field(None, description="User's attitude or feeling toward the technology (positive, negative, neutral, love, hate)")
    proficiency: Optional[str] = Field(None, description="User's skill level or expertise with the technology (beginner, intermediate, advanced, expert)")
    usage_context: Optional[str] = Field(None, description="Context or environment where the technology is used (development, production, personal, testing)")
    status: Optional[str] = Field(None, description="Current usage status (active, inactive, trial, paid_account, evaluating)")
    start_date: Optional[datetime] = Field(None, description="Date when usage began in YYYY-MM-DD format")

class Creates(BaseModel):
    """Person/Organization creates Technology/Product/Project"""
    role: Optional[str] = Field(None, description="Creator's role in the creation process (founder, lead_developer, contributor, designer, architect)")
    contribution_type: Optional[str] = Field(None, description="Type of contribution made (code, design, strategy, funding, documentation, testing)")

class Knows(BaseModel):
    """Person knows Person (personal or professional relationship)"""
    relationship_type: Optional[str] = Field(None, description="Nature of the relationship (colleague, mentor, friend, collaborator, acquaintance)")
    context: Optional[str] = Field(None, description="Context or setting where they know each other (work, school, industry, personal)")

class MemberOf(BaseModel):
    """Person/Organization is member of Organization"""
    role: Optional[str] = Field(None, description="Member's role or position within the organization (employee, volunteer, board_member, customer, partner)")
    start_date: Optional[datetime] = Field(None, description="Date when membership began in YYYY-MM-DD format")
    status: Optional[str] = Field(None, description="Current membership status (active, inactive, suspended, trial, paid)")

class PartnersWith(BaseModel):
    """Person/Organization partners with Person/Organization"""
    partnership_type: Optional[str] = Field(None, description="Type of partnership (strategic, supplier, investment, consulting, advisory, joint_venture)")
    start_date: Optional[datetime] = Field(None, description="Date when partnership began in YYYY-MM-DD format")
    status: Optional[str] = Field(None, description="Current partnership status (active, inactive, completed, negotiating)")

class DependsOn(BaseModel):
    """Technology/Product depends on Technology"""
    dependency_type: Optional[str] = Field(None, description="Type of dependency (runtime, build_time, development, infrastructure, optional)")
    version: Optional[str] = Field(None, description="Required version or version range for the dependency")

class IntegratedWith(BaseModel):
    """Product/Technology has built-in integration with Product/Technology"""
    integration_type: Optional[str] = Field(None, description="Type of integration (native, plugin, API, webhook, SDK, embedded)")
    bidirectional: Optional[bool] = Field(None, description="Whether the integration works in both directions between the technologies")

class About(BaseModel):
    """WebPage/Note/Article about Entity"""
    coverage_type: Optional[str] = Field(None, description="Depth of coverage (comprehensive, mention, analysis, tutorial, review)")
    authority: Optional[str] = Field(None, description="Source authority level (official, community, expert_analysis, user_generated)")

class IsPartOf(BaseModel):
    """WebPage part of Website/Domain"""
    relationship_type: Optional[str] = Field(None, description="Type of relationship (page, article, documentation, section, subdomain)")

class Tags(BaseModel):
    """Entity is tagged with another Entity"""
    pass

# New edge types
class PerformedBy(BaseModel):
    """Musical work performed by Artist/Person"""
    performance_type: Optional[str] = Field(None, description="Type of performance relationship (original_artist, cover_version, live_performance, collaboration, featured_artist)")
    role: Optional[str] = Field(None, description="Specific role in the performance (lead_vocals, instrumentalist, producer, featured, backing_vocals)")
    performance_date: Optional[datetime] = Field(None, description="Date when this performance or recording took place in YYYY-MM-DD format")

class InfluencedBy(BaseModel):
    """Entity influenced or inspired by another Entity"""
    influence_type: Optional[str] = Field(None, description="Nature of the influence relationship (artistic, intellectual, methodological, philosophical, technical)")
    description: Optional[str] = Field(None, description="Specific ways this entity was influenced, including concepts, techniques, or approaches adopted")
    strength: Optional[str] = Field(None, description="Degree of influence impact (minor, moderate, major, foundational, transformative)")

class CollaboratesWith(BaseModel):
    """Person/Organization actively collaborates with Person/Organization"""
    collaboration_type: Optional[str] = Field(None, description="Nature of the collaborative relationship (project_partner, co_author, joint_venture, research_partner, creative_partner)")
    collaboration_status: Optional[str] = Field(None, description="Current state of the collaboration (active, completed, planned, on_hold, recurring)")
    start_date: Optional[datetime] = Field(None, description="Date when the collaboration began in YYYY-MM-DD format")

class OrganizedBy(BaseModel):
    """Event organized and managed by Person/Organization"""
    organizational_role: Optional[str] = Field(None, description="Specific role in organizing the event (lead_organizer, co_organizer, event_manager, logistics_coordinator, program_director)")
    responsibilities: Optional[str] = Field(None, description="Specific duties and areas of responsibility in event organization (logistics, programming, marketing, sponsorships)")

class AttendedBy(BaseModel):
    """Event attended or participated in by Person"""
    attendance_type: Optional[str] = Field(None, description="Nature of attendance or participation (presenter, attendee, keynote_speaker, panelist, sponsor, volunteer)")
    participation_level: Optional[str] = Field(None, description="Degree of involvement in the event (active_participant, passive_attendee, featured_speaker, organizer)")

class PartOfSeries(BaseModel):
    """Entity that belongs to or continues a series/sequence"""
    sequence_position: Optional[str] = Field(None, description="Position or order within the series (episode_1, part_2, volume_3, season_1_episode_5)")
    series_relationship: Optional[str] = Field(None, description="Type of relationship to the series (sequel, prequel, spin_off, continuation, part_of_collection)")

class LeadBy(BaseModel):
    """Project/Organization/Initiative led or directed by Person"""
    leadership_role: Optional[str] = Field(None, description="Specific leadership position and authority (ceo, project_manager, team_lead, creative_director, principal_investigator)")
    leadership_start_date: Optional[datetime] = Field(None, description="Date when leadership role began in YYYY-MM-DD format")
    leadership_scope: Optional[str] = Field(None, description="Areas of responsibility and decision-making authority (strategic, operational, creative, technical, administrative)")

class SponsoredBy(BaseModel):
    """Entity sponsored, funded, or supported by Organization"""
    sponsorship_type: Optional[str] = Field(None, description="Nature of sponsorship relationship (financial, in_kind, promotional, strategic, title_sponsor, presenting_sponsor)")
    sponsorship_level: Optional[str] = Field(None, description="Degree or tier of sponsorship support (platinum, gold, silver, bronze, major, minor)")
    support_details: Optional[str] = Field(None, description="Specific ways sponsor provides support (funding, resources, expertise, marketing, venue)")

class CompetesWith(BaseModel):
    """Organization/Product in competition or rivalry with Organization/Product"""
    competition_type: Optional[str] = Field(None, description="Nature of competitive relationship (direct_competitor, market_rival, alternative_solution, industry_peer)")
    market_context: Optional[str] = Field(None, description="Market or domain where competition occurs (same_market, adjacent_market, substitute_product, feature_competition)")
    competitive_advantage: Optional[str] = Field(None, description="Key differentiating factors in the competitive relationship (price, features, market_share, brand_recognition)")

`}generateEdgeTypeMap(e){const t=e.map(r=>r.typeName.replace(/\s+/g,"").replace(/[^a-zA-Z0-9]/g,"")),i=[];return t.forEach(r=>{r==="Person"&&(i.push('    ("Person", "Organization"): ["WorksFor", "MemberOf", "PartnersWith"],'),i.push('    ("Person", "Technology"): ["Creates", "Uses"],'),i.push('    ("Person", "Product"): ["Creates", "Uses"],'),i.push('    ("Person", "Project"): ["Creates", "MemberOf"],'),i.push('    ("Person", "Person"): ["Knows", "CollaboratesWith"],'),i.push('    ("Person", "Music"): ["PerformedBy"],')),r==="Music"&&(i.push('    ("Music", "Person"): ["PerformedBy", "CreatedBy", "InfluencedBy"],'),i.push('    ("Music", "Music"): ["InfluencedBy", "PartOfSeries"],')),r==="Film"&&i.push('    ("Film", "Person"): ["CreatedBy", "PerformedBy", "InfluencedBy"],'),r==="Organization"&&(i.push('    ("Organization", "Organization"): ["PartnersWith", "MemberOf"],'),i.push('    ("Organization", "Technology"): ["Creates", "Uses", "DependsOn"],'),i.push('    ("Organization", "Product"): ["Creates", "Uses", "DependsOn"],'),i.push('    ("Organization", "Project"): ["Creates", "PartnersWith"],'),i.push('    ("Organization", "Person"): ["PartnersWith"],')),r==="Technology"&&(i.push('    ("Technology", "Technology"): ["DependsOn", "IntegratedWith"],'),i.push('    ("Technology", "Product"): ["IntegratedWith"],'),i.push('    ("Technology", "Project"): ["IntegratedWith"],')),r==="Product"&&(i.push('    ("Product", "Technology"): ["IntegratedWith", "Uses", "DependsOn"],'),i.push('    ("Product", "Product"): ["IntegratedWith"],'),i.push('    ("Product", "Organization"): ["MemberOf"],'),i.push('    ("Product", "Project"): ["IntegratedWith"],')),r==="Project"&&(i.push('    ("Project", "Technology"): ["Uses", "Creates", "DependsOn"],'),i.push('    ("Project", "Product"): ["Creates", "Uses"],'),i.push('    ("Project", "Organization"): ["PartnersWith"],'),i.push('    ("Project", "Project"): ["PartnersWith", "DependsOn"],')),["WebPage","Note","Article"].includes(r)&&i.push(`    ("${r}", "Entity"): ["About"],`)}),i.push('    ("Entity", "Entity"): ["Tags", "Knows"],'),`
# Edge Type Map - Defines allowed relationships between entity types
edge_type_map = {
${Array.from(new Set(i)).join(`
`)}

`+n.mark.snippet),i+" "+t):i}function cn(n,e){Error.call(this),this.name="YAMLException",this.reason=n,this.mark=e,this.message=Fr(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}cn.prototype=Object.create(Error.prototype);cn.prototype.constructor=cn;cn.prototype.toString=function(e){return this.name+": "+Fr(this,e)};var mt=cn;function Fn(n,e,t,i,s){var r="",o="",a=Math.floor(s/2)-1;return i-e>a&&(r=" ... ",e=i-a+r.length),t-i>a&&(o=" ...",t=i+a-o.length),{str:r+n.slice(e,t).replace(/\t/g,"")+o,pos:i-e+r.length}}function $n(n,e){return ut.repeat(" ",e-n.length)+n}function El(n,e){if(e=Object.create(e||null),!n.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var t=/\r?\n|\r|\0/g,i=[0],s=[],r,o=-1;r=t.exec(n.buffer);)s.push(r.index),i.push(r.index+r[0].length),n.position<=r.index&&o<0&&(o=i.length-2);o<0&&(o=i.length-1);var a="",l,d,p=Math.min(n.line+e.linesAfter,s.length).toString().length,g=e.maxLength-(e.indent+p+3);for(l=1;l<=e.linesBefore&&!(o-l<0);l++)d=Fn(n.buffer,i[o-l],s[o-l],n.position-(i[o]-i[o-l]),g),a=ut.repeat(" ",e.indent)+$n((n.line-l+1).toString(),p)+" | "+d.str+`
`+a;for(d=Fn(n.buffer,i[o],s[o],n.position,g),a+=ut.repeat(" ",e.indent)+$n((n.line+1).toString(),p)+" | "+d.str+`
`,a+=ut.repeat("-",e.indent+p+3+d.pos)+`^
`,l=1;l<=e.linesAfter&&!(o+l>=s.length);l++)d=Fn(n.buffer,i[o+l],s[o+l],n.position-(i[o]-i[o+l]),g),a+=ut.repeat(" ",e.indent)+$n((n.line+l+1).toString(),p)+" | "+d.str+`
`;return a.replace(/\n$/,"")}var Cl=El,Pl=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Dl=["scalar","sequence","mapping"];function Tl(n){var e={};return n!==null&&Object.keys(n).forEach(function(t){n[t].forEach(function(i){e[String(i)]=t})}),e}function Ml(n,e){if(e=e||{},Object.keys(e).forEach(function(t){if(Pl.indexOf(t)===-1)throw new mt('Unknown option "'+t+'" is met in definition of "'+n+'" YAML type.')}),this.options=e,this.tag=n,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(t){return t},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=Tl(e.styleAliases||null),Dl.indexOf(this.kind)===-1)throw new mt('Unknown kind "'+this.kind+'" is specified for "'+n+'" YAML type.')}var pt=Ml;function Si(n,e){var t=[];return n[e].forEach(function(i){var s=t.length;t.forEach(function(r,o){r.tag===i.tag&&r.kind===i.kind&&r.multi===i.multi&&(s=o)}),t[s]=i}),t}function Nl(){var n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,t;function i(s){s.multi?(n.multi[s.kind].push(s),n.multi.fallback.push(s)):n[s.kind][s.tag]=n.fallback[s.tag]=s}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(i);return n}function qn(n){return this.extend(n)}qn.prototype.extend=function(e){var t=[],i=[];if(e instanceof pt)i.push(e);else if(Array.isArray(e))i=i.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(i=i.concat(e.explicit));else throw new mt("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.forEach(function(r){if(!(r instanceof pt))throw new mt("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(r.loadKind&&r.loadKind!=="scalar")throw new mt("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(r.multi)throw new mt("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(r){if(!(r instanceof pt))throw new mt("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var s=Object.create(qn.prototype);return s.implicit=(this.implicit||[]).concat(t),s.explicit=(this.explicit||[]).concat(i),s.compiledImplicit=Si(s,"implicit"),s.compiledExplicit=Si(s,"explicit"),s.compiledTypeMap=Nl(s.compiledImplicit,s.compiledExplicit),s};var Al=qn,Ol=new pt("tag:yaml.org,2002:str",{kind:"scalar",construct:function(n){return n!==null?n:""}}),Il=new pt("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(n){return n!==null?n:[]}}),Ll=new pt("tag:yaml.org,2002:map",{kind:"mapping",construct:function(n){return n!==null?n:{}}}),Rl=new Al({explicit:[Ol,Il,Ll]});function Fl(n){if(n===null)return!0;var e=n.length;return e===1&&n==="~"||e===4&&(n==="null"||n==="Null"||n==="NULL")}function $l(){return null}function Ul(n){return n===null}var jl=new pt("tag:yaml.org,2002:null",{kind:"scalar",resolve:Fl,construct:$l,predicate:Ul,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function zl(n){if(n===null)return!1;var e=n.length;return e===4&&(n==="true"||n==="True"||n==="TRUE")||e===5&&(n==="false"||n==="False"||n==="FALSE")}function Bl(n){return n==="true"||n==="True"||n==="TRUE"}function Vl(n){return Object.prototype.toString.call(n)==="[object Boolean]"}var Gl=new pt("tag:yaml.org,2002:bool",{kind:"scalar",resolve:zl,construct:Bl,predicate:Vl,represent:{lowercase:function(n){return n?"true":"false"},uppercase:function(n){return n?"TRUE":"FALSE"},camelcase:function(n){return n?"True":"False"}},defaultStyle:"lowercase"});function Yl(n){return 48<=n&&n<=57||65<=n&&n<=70||97<=n&&n<=102}function ql(n){return 48<=n&&n<=55}function Wl(n){return 48<=n&&n<=57}function Kl(n){if(n===null)return!1;var e=n.length,t=0,i=!1,s;if(!e)return!1;if(s=n[t],(s==="-"||s==="+")&&(s=n[++t]),s==="0"){if(t+1===e)return!0;if(s=n[++t],s==="b"){for(t++;t<e;t++)if(s=n[t],s!=="_"){if(s!=="0"&&s!=="1")return!1;i=!0}return i&&s!=="_"}if(s==="x"){for(t++;t<e;t++)if(s=n[t],s!=="_"){if(!Yl(n.charCodeAt(t)))return!1;i=!0}return i&&s!=="_"}if(s==="o"){for(t++;t<e;t++)if(s=n[t],s!=="_"){if(!ql(n.charCodeAt(t)))return!1;i=!0}return i&&s!=="_"}}if(s==="_")return!1;for(;t<e;t++)if(s=n[t],s!=="_"){if(!Wl(n.charCodeAt(t)))return!1;i=!0}return!(!i||s==="_")}function Hl(n){var e=n,t=1,i;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),i=e[0],(i==="-"||i==="+")&&(i==="-"&&(t=-1),e=e.slice(1),i=e[0]),e==="0")return 0;if(i==="0"){if(e[1]==="b")return t*parseInt(e.slice(2),2);if(e[1]==="x")return t*parseInt(e.slice(2),16);if(e[1]==="o")return t*parseInt(e.slice(2),8)}return t*parseInt(e,10)}function Jl(n){return Object.prototype.toString.call(n)==="[object Number]"&&n%1===0&&!ut.isNegativeZero(n)}var Ql=new pt("tag:yaml.org,2002:int",{kind:"scalar",resolve:Kl,construct:Hl,predicate:Jl,represent:{binary:function(n){return n>=0?"0b"+n.toString(2):"-0b"+n.toString(2).slice(1)},octal:function(n){return n>=0?"0o"+n.toString(8):"-0o"+n.toString(8).slice(1)},decimal:function(n){return n.toString(10)},hexadecimal:function(n){return n>=0?"0x"+n.toString(16).toUpperCase():"-0x"+n.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Zl=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Xl(n){return!(n===null||!Zl.test(n)||n[n.length-1]==="_")}function ec(n){var e,t;return e=n.replace(/_/g,"").toLowerCase(),t=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?t===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:t*parseFloat(e,10)}var tc=/^[-+]?[0-9]+e/;function nc(n,e){var t;if(isNaN(n))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===n)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===n)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ut.isNegativeZero(n))return"-0.0";return t=n.toString(10),tc.test(t)?t.replace("e",".e"):t}function ic(n){return Object.prototype.toString.call(n)==="[object Number]"&&(n%1!==0||ut.isNegativeZero(n))}var sc=new pt("tag:yaml.org,2002:float",{kind:"scalar",resolve:Xl,construct:ec,predicate:ic,represent:nc,defaultStyle:"lowercase"}),rc=Rl.extend({implicit:[jl,Gl,Ql,sc]}),oc=rc,$r=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Ur=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function ac(n){return n===null?!1:$r.exec(n)!==null||Ur.exec(n)!==null}function lc(n){var e,t,i,s,r,o,a,l=0,d=null,p,g,m;if(e=$r.exec(n),e===null&&(e=Ur.exec(n)),e===null)throw new Error("Date resolve error");if(t=+e[1],i=+e[2]-1,s=+e[3],!e[4])return new Date(Date.UTC(t,i,s));if(r=+e[4],o=+e[5],a=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(p=+e[10],g=+(e[11]||0),d=(p*60+g)*6e4,e[9]==="-"&&(d=-d)),m=new Date(Date.UTC(t,i,s,r,o,a,l)),d&&m.setTime(m.getTime()-d),m}function cc(n){return n.toISOString()}var dc=new pt("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:ac,construct:lc,instanceOf:Date,represent:cc});function uc(n){return n==="<<"||n===null}var pc=new pt("tag:yaml.org,2002:merge",{kind:"scalar",resolve:uc}),ni=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function gc(n){if(n===null)return!1;var e,t,i=0,s=n.length,r=ni;for(t=0;t<s;t++)if(e=r.indexOf(n.charAt(t)),!(e>64)){if(e<0)return!1;i+=6}return i%8===0}function fc(n){var e,t,i=n.replace(/[\r\n=]/g,""),s=i.length,r=ni,o=0,a=[];for(e=0;e<s;e++)e%4===0&&e&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|r.indexOf(i.charAt(e));return t=s%4*6,t===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):t===18?(a.push(o>>10&255),a.push(o>>2&255)):t===12&&a.push(o>>4&255),new Uint8Array(a)}function hc(n){var e="",t=0,i,s,r=n.length,o=ni;for(i=0;i<r;i++)i%3===0&&i&&(e+=o[t>>18&63],e+=o[t>>12&63],e+=o[t>>6&63],e+=o[t&63]),t=(t<<8)+n[i];return s=r%3,s===0?(e+=o[t>>18&63],e+=o[t>>12&63],e+=o[t>>6&63],e+=o[t&63]):s===2?(e+=o[t>>10&63],e+=o[t>>4&63],e+=o[t<<2&63],e+=o[64]):s===1&&(e+=o[t>>2&63],e+=o[t<<4&63],e+=o[64],e+=o[64]),e}function mc(n){return Object.prototype.toString.call(n)==="[object Uint8Array]"}var yc=new pt("tag:yaml.org,2002:binary",{kind:"scalar",resolve:gc,construct:fc,predicate:mc,represent:hc}),bc=Object.prototype.hasOwnProperty,vc=Object.prototype.toString;function _c(n){if(n===null)return!0;var e=[],t,i,s,r,o,a=n;for(t=0,i=a.length;t<i;t+=1){if(s=a[t],o=!1,vc.call(s)!=="[object Object]")return!1;for(r in s)if(bc.call(s,r))if(!o)o=!0;else return!1;if(!o)return!1;if(e.indexOf(r)===-1)e.push(r);else return!1}return!0}function wc(n){return n!==null?n:[]}var Sc=new pt("tag:yaml.org,2002:omap",{kind:"sequence",resolve:_c,construct:wc}),xc=Object.prototype.toString;function kc(n){if(n===null)return!0;var e,t,i,s,r,o=n;for(r=new Array(o.length),e=0,t=o.length;e<t;e+=1){if(i=o[e],xc.call(i)!=="[object Object]"||(s=Object.keys(i),s.length!==1))return!1;r[e]=[s[0],i[s[0]]]}return!0}function Ec(n){if(n===null)return[];var e,t,i,s,r,o=n;for(r=new Array(o.length),e=0,t=o.length;e<t;e+=1)i=o[e],s=Object.keys(i),r[e]=[s[0],i[s[0]]];return r}var Cc=new pt("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:kc,construct:Ec}),Pc=Object.prototype.hasOwnProperty;function Dc(n){if(n===null)return!0;var e,t=n;for(e in t)if(Pc.call(t,e)&&t[e]!==null)return!1;return!0}function Tc(n){return n!==null?n:{}}var Mc=new pt("tag:yaml.org,2002:set",{kind:"mapping",resolve:Dc,construct:Tc}),ii=oc.extend({implicit:[dc,pc],explicit:[yc,Sc,Cc,Mc]}),Ut=Object.prototype.hasOwnProperty,kn=1,jr=2,zr=3,En=4,Un=1,Nc=2,xi=3,Ac=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Oc=/[\x85\u2028\u2029]/,Ic=/[,\[\]\{\}]/,Br=/^(?:!|!!|![a-z\-]+!)$/i,Vr=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function ki(n){return Object.prototype.toString.call(n)}function Et(n){return n===10||n===13}function Vt(n){return n===9||n===32}function yt(n){return n===9||n===32||n===10||n===13}function Xt(n){return n===44||n===91||n===93||n===123||n===125}function Lc(n){var e;return 48<=n&&n<=57?n-48:(e=n|32,97<=e&&e<=102?e-97+10:-1)}function Rc(n){return n===120?2:n===117?4:n===85?8:0}function Fc(n){return 48<=n&&n<=57?n-48:-1}function Ei(n){return n===48?"\0":n===97?"\x07":n===98?"\b":n===116||n===9?"	":n===110?`
`:n===118?"\v":n===102?"\f":n===114?"\r":n===101?"\x1B":n===32?" ":n===34?'"':n===47?"/":n===92?"\\":n===78?"":n===95?"":n===76?"\u2028":n===80?"\u2029":""}function $c(n){return n<=65535?String.fromCharCode(n):String.fromCharCode((n-65536>>10)+55296,(n-65536&1023)+56320)}var Gr=new Array(256),Yr=new Array(256);for(var Wt=0;Wt<256;Wt++)Gr[Wt]=Ei(Wt)?1:0,Yr[Wt]=Ei(Wt);function Uc(n,e){this.input=n,this.filename=e.filename||null,this.schema=e.schema||ii,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=n.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function qr(n,e){var t={name:n.filename,buffer:n.input.slice(0,-1),position:n.position,line:n.line,column:n.position-n.lineStart};return t.snippet=Cl(t),new mt(e,t)}function ke(n,e){throw qr(n,e)}function Cn(n,e){n.onWarning&&n.onWarning.call(null,qr(n,e))}var Ci={YAML:function(e,t,i){var s,r,o;e.version!==null&&ke(e,"duplication of %YAML directive"),i.length!==1&&ke(e,"YAML directive accepts exactly one argument"),s=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),s===null&&ke(e,"ill-formed argument of the YAML directive"),r=parseInt(s[1],10),o=parseInt(s[2],10),r!==1&&ke(e,"unacceptable YAML version of the document"),e.version=i[0],e.checkLineBreaks=o<2,o!==1&&o!==2&&Cn(e,"unsupported YAML version of the document")},TAG:function(e,t,i){var s,r;i.length!==2&&ke(e,"TAG directive accepts exactly two arguments"),s=i[0],r=i[1],Br.test(s)||ke(e,"ill-formed tag handle (first argument) of the TAG directive"),Ut.call(e.tagMap,s)&&ke(e,'there is a previously declared suffix for "'+s+'" tag handle'),Vr.test(r)||ke(e,"ill-formed tag prefix (second argument) of the TAG directive");try{r=decodeURIComponent(r)}catch{ke(e,"tag prefix is malformed: "+r)}e.tagMap[s]=r}};function $t(n,e,t,i){var s,r,o,a;if(e<t){if(a=n.input.slice(e,t),i)for(s=0,r=a.length;s<r;s+=1)o=a.charCodeAt(s),o===9||32<=o&&o<=1114111||ke(n,"expected valid JSON character");else Ac.test(a)&&ke(n,"the stream contains non-printable characters");n.result+=a}}function Pi(n,e,t,i){var s,r,o,a;for(ut.isObject(t)||ke(n,"cannot merge mappings; the provided source object is unacceptable"),s=Object.keys(t),o=0,a=s.length;o<a;o+=1)r=s[o],Ut.call(e,r)||(e[r]=t[r],i[r]=!0)}function en(n,e,t,i,s,r,o,a,l){var d,p;if(Array.isArray(s))for(s=Array.prototype.slice.call(s),d=0,p=s.length;d<p;d+=1)Array.isArray(s[d])&&ke(n,"nested arrays are not supported inside keys"),typeof s=="object"&&ki(s[d])==="[object Object]"&&(s[d]="[object Object]");if(typeof s=="object"&&ki(s)==="[object Object]"&&(s="[object Object]"),s=String(s),e===null&&(e={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(r))for(d=0,p=r.length;d<p;d+=1)Pi(n,e,r[d],t);else Pi(n,e,r,t);else!n.json&&!Ut.call(t,s)&&Ut.call(e,s)&&(n.line=o||n.line,n.lineStart=a||n.lineStart,n.position=l||n.position,ke(n,"duplicated mapping key")),s==="__proto__"?Object.defineProperty(e,s,{configurable:!0,enumerable:!0,writable:!0,value:r}):e[s]=r,delete t[s];return e}function si(n){var e;e=n.input.charCodeAt(n.position),e===10?n.position++:e===13?(n.position++,n.input.charCodeAt(n.position)===10&&n.position++):ke(n,"a line break is expected"),n.line+=1,n.lineStart=n.position,n.firstTabInLine=-1}function lt(n,e,t){for(var i=0,s=n.input.charCodeAt(n.position);s!==0;){for(;Vt(s);)s===9&&n.firstTabInLine===-1&&(n.firstTabInLine=n.position),s=n.input.charCodeAt(++n.position);if(e&&s===35)do s=n.input.charCodeAt(++n.position);while(s!==10&&s!==13&&s!==0);if(Et(s))for(si(n),s=n.input.charCodeAt(n.position),i++,n.lineIndent=0;s===32;)n.lineIndent++,s=n.input.charCodeAt(++n.position);else break}return t!==-1&&i!==0&&n.lineIndent<t&&Cn(n,"deficient indentation"),i}function Nn(n){var e=n.position,t;return t=n.input.charCodeAt(e),!!((t===45||t===46)&&t===n.input.charCodeAt(e+1)&&t===n.input.charCodeAt(e+2)&&(e+=3,t=n.input.charCodeAt(e),t===0||yt(t)))}function ri(n,e){e===1?n.result+=" ":e>1&&(n.result+=ut.repeat(`
`,e-1))}function jc(n,e,t){var i,s,r,o,a,l,d,p,g=n.kind,m=n.result,f;if(f=n.input.charCodeAt(n.position),yt(f)||Xt(f)||f===35||f===38||f===42||f===33||f===124||f===62||f===39||f===34||f===37||f===64||f===96||(f===63||f===45)&&(s=n.input.charCodeAt(n.position+1),yt(s)||t&&Xt(s)))return!1;for(n.kind="scalar",n.result="",r=o=n.position,a=!1;f!==0;){if(f===58){if(s=n.input.charCodeAt(n.position+1),yt(s)||t&&Xt(s))break}else if(f===35){if(i=n.input.charCodeAt(n.position-1),yt(i))break}else{if(n.position===n.lineStart&&Nn(n)||t&&Xt(f))break;if(Et(f))if(l=n.line,d=n.lineStart,p=n.lineIndent,lt(n,!1,-1),n.lineIndent>=e){a=!0,f=n.input.charCodeAt(n.position);continue}else{n.position=o,n.line=l,n.lineStart=d,n.lineIndent=p;break}}a&&($t(n,r,o,!1),ri(n,n.line-l),r=o=n.position,a=!1),Vt(f)||(o=n.position+1),f=n.input.charCodeAt(++n.position)}return $t(n,r,o,!1),n.result?!0:(n.kind=g,n.result=m,!1)}function zc(n,e){var t,i,s;if(t=n.input.charCodeAt(n.position),t!==39)return!1;for(n.kind="scalar",n.result="",n.position++,i=s=n.position;(t=n.input.charCodeAt(n.position))!==0;)if(t===39)if($t(n,i,n.position,!0),t=n.input.charCodeAt(++n.position),t===39)i=n.position,n.position++,s=n.position;else return!0;else Et(t)?($t(n,i,s,!0),ri(n,lt(n,!1,e)),i=s=n.position):n.position===n.lineStart&&Nn(n)?ke(n,"unexpected end of the document within a single quoted scalar"):(n.position++,s=n.position);ke(n,"unexpected end of the stream within a single quoted scalar")}function Bc(n,e){var t,i,s,r,o,a;if(a=n.input.charCodeAt(n.position),a!==34)return!1;for(n.kind="scalar",n.result="",n.position++,t=i=n.position;(a=n.input.charCodeAt(n.position))!==0;){if(a===34)return $t(n,t,n.position,!0),n.position++,!0;if(a===92){if($t(n,t,n.position,!0),a=n.input.charCodeAt(++n.position),Et(a))lt(n,!1,e);else if(a<256&&Gr[a])n.result+=Yr[a],n.position++;else if((o=Rc(a))>0){for(s=o,r=0;s>0;s--)a=n.input.charCodeAt(++n.position),(o=Lc(a))>=0?r=(r<<4)+o:ke(n,"expected hexadecimal character");n.result+=$c(r),n.position++}else ke(n,"unknown escape sequence");t=i=n.position}else Et(a)?($t(n,t,i,!0),ri(n,lt(n,!1,e)),t=i=n.position):n.position===n.lineStart&&Nn(n)?ke(n,"unexpected end of the document within a double quoted scalar"):(n.position++,i=n.position)}ke(n,"unexpected end of the stream within a double quoted scalar")}function Vc(n,e){var t=!0,i,s,r,o=n.tag,a,l=n.anchor,d,p,g,m,f,b=Object.create(null),c,v,w,_;if(_=n.input.charCodeAt(n.position),_===91)p=93,f=!1,a=[];else if(_===123)p=125,f=!0,a={};else return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=a),_=n.input.charCodeAt(++n.position);_!==0;){if(lt(n,!0,e),_=n.input.charCodeAt(n.position),_===p)return n.position++,n.tag=o,n.anchor=l,n.kind=f?"mapping":"sequence",n.result=a,!0;t?_===44&&ke(n,"expected the node content, but found ','"):ke(n,"missed comma between flow collection entries"),v=c=w=null,g=m=!1,_===63&&(d=n.input.charCodeAt(n.position+1),yt(d)&&(g=m=!0,n.position++,lt(n,!0,e))),i=n.line,s=n.lineStart,r=n.position,sn(n,e,kn,!1,!0),v=n.tag,c=n.result,lt(n,!0,e),_=n.input.charCodeAt(n.position),(m||n.line===i)&&_===58&&(g=!0,_=n.input.charCodeAt(++n.position),lt(n,!0,e),sn(n,e,kn,!1,!0),w=n.result),f?en(n,a,b,v,c,w,i,s,r):g?a.push(en(n,null,b,v,c,w,i,s,r)):a.push(c),lt(n,!0,e),_=n.input.charCodeAt(n.position),_===44?(t=!0,_=n.input.charCodeAt(++n.position)):t=!1}ke(n,"unexpected end of the stream within a flow collection")}function Gc(n,e){var t,i,s=Un,r=!1,o=!1,a=e,l=0,d=!1,p,g;if(g=n.input.charCodeAt(n.position),g===124)i=!1;else if(g===62)i=!0;else return!1;for(n.kind="scalar",n.result="";g!==0;)if(g=n.input.charCodeAt(++n.position),g===43||g===45)Un===s?s=g===43?xi:Nc:ke(n,"repeat of a chomping mode identifier");else if((p=Fc(g))>=0)p===0?ke(n,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?ke(n,"repeat of an indentation width identifier"):(a=e+p-1,o=!0);else break;if(Vt(g)){do g=n.input.charCodeAt(++n.position);while(Vt(g));if(g===35)do g=n.input.charCodeAt(++n.position);while(!Et(g)&&g!==0)}for(;g!==0;){for(si(n),n.lineIndent=0,g=n.input.charCodeAt(n.position);(!o||n.lineIndent<a)&&g===32;)n.lineIndent++,g=n.input.charCodeAt(++n.position);if(!o&&n.lineIndent>a&&(a=n.lineIndent),Et(g)){l++;continue}if(n.lineIndent<a){s===xi?n.result+=ut.repeat(`
`,r?1+l:l):s===Un&&r&&(n.result+=`
`);break}for(i?Vt(g)?(d=!0,n.result+=ut.repeat(`
`,r?1+l:l)):d?(d=!1,n.result+=ut.repeat(`
`,l+1)):l===0?r&&(n.result+=" "):n.result+=ut.repeat(`
`,l):n.result+=ut.repeat(`
`,r?1+l:l),r=!0,o=!0,l=0,t=n.position;!Et(g)&&g!==0;)g=n.input.charCodeAt(++n.position);$t(n,t,n.position,!1)}return!0}function Di(n,e){var t,i=n.tag,s=n.anchor,r=[],o,a=!1,l;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=r),l=n.input.charCodeAt(n.position);l!==0&&(n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,ke(n,"tab characters must not be used in indentation")),!(l!==45||(o=n.input.charCodeAt(n.position+1),!yt(o))));){if(a=!0,n.position++,lt(n,!0,-1)&&n.lineIndent<=e){r.push(null),l=n.input.charCodeAt(n.position);continue}if(t=n.line,sn(n,e,zr,!1,!0),r.push(n.result),lt(n,!0,-1),l=n.input.charCodeAt(n.position),(n.line===t||n.lineIndent>e)&&l!==0)ke(n,"bad indentation of a sequence entry");else if(n.lineIndent<e)break}return a?(n.tag=i,n.anchor=s,n.kind="sequence",n.result=r,!0):!1}function Yc(n,e,t){var i,s,r,o,a,l,d=n.tag,p=n.anchor,g={},m=Object.create(null),f=null,b=null,c=null,v=!1,w=!1,_;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=g),_=n.input.charCodeAt(n.position);_!==0;){if(!v&&n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,ke(n,"tab characters must not be used in indentation")),i=n.input.charCodeAt(n.position+1),r=n.line,(_===63||_===58)&&yt(i))_===63?(v&&(en(n,g,m,f,b,null,o,a,l),f=b=c=null),w=!0,v=!0,s=!0):v?(v=!1,s=!0):ke(n,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),n.position+=1,_=i;else{if(o=n.line,a=n.lineStart,l=n.position,!sn(n,t,jr,!1,!0))break;if(n.line===r){for(_=n.input.charCodeAt(n.position);Vt(_);)_=n.input.charCodeAt(++n.position);if(_===58)_=n.input.charCodeAt(++n.position),yt(_)||ke(n,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(en(n,g,m,f,b,null,o,a,l),f=b=c=null),w=!0,v=!1,s=!1,f=n.tag,b=n.result;else if(w)ke(n,"can not read an implicit mapping pair; a colon is missed");else return n.tag=d,n.anchor=p,!0}else if(w)ke(n,"can not read a block mapping entry; a multiline key may not be an implicit key");else return n.tag=d,n.anchor=p,!0}if((n.line===r||n.lineIndent>e)&&(v&&(o=n.line,a=n.lineStart,l=n.position),sn(n,e,En,!0,s)&&(v?b=n.result:c=n.result),v||(en(n,g,m,f,b,c,o,a,l),f=b=c=null),lt(n,!0,-1),_=n.input.charCodeAt(n.position)),(n.line===r||n.lineIndent>e)&&_!==0)ke(n,"bad indentation of a mapping entry");else if(n.lineIndent<e)break}return v&&en(n,g,m,f,b,null,o,a,l),w&&(n.tag=d,n.anchor=p,n.kind="mapping",n.result=g),w}function qc(n){var e,t=!1,i=!1,s,r,o;if(o=n.input.charCodeAt(n.position),o!==33)return!1;if(n.tag!==null&&ke(n,"duplication of a tag property"),o=n.input.charCodeAt(++n.position),o===60?(t=!0,o=n.input.charCodeAt(++n.position)):o===33?(i=!0,s="!!",o=n.input.charCodeAt(++n.position)):s="!",e=n.position,t){do o=n.input.charCodeAt(++n.position);while(o!==0&&o!==62);n.position<n.length?(r=n.input.slice(e,n.position),o=n.input.charCodeAt(++n.position)):ke(n,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!yt(o);)o===33&&(i?ke(n,"tag suffix cannot contain exclamation marks"):(s=n.input.slice(e-1,n.position+1),Br.test(s)||ke(n,"named tag handle cannot contain such characters"),i=!0,e=n.position+1)),o=n.input.charCodeAt(++n.position);r=n.input.slice(e,n.position),Ic.test(r)&&ke(n,"tag suffix cannot contain flow indicator characters")}r&&!Vr.test(r)&&ke(n,"tag name cannot contain such characters: "+r);try{r=decodeURIComponent(r)}catch{ke(n,"tag name is malformed: "+r)}return t?n.tag=r:Ut.call(n.tagMap,s)?n.tag=n.tagMap[s]+r:s==="!"?n.tag="!"+r:s==="!!"?n.tag="tag:yaml.org,2002:"+r:ke(n,'undeclared tag handle "'+s+'"'),!0}function Wc(n){var e,t;if(t=n.input.charCodeAt(n.position),t!==38)return!1;for(n.anchor!==null&&ke(n,"duplication of an anchor property"),t=n.input.charCodeAt(++n.position),e=n.position;t!==0&&!yt(t)&&!Xt(t);)t=n.input.charCodeAt(++n.position);return n.position===e&&ke(n,"name of an anchor node must contain at least one character"),n.anchor=n.input.slice(e,n.position),!0}function Kc(n){var e,t,i;if(i=n.input.charCodeAt(n.position),i!==42)return!1;for(i=n.input.charCodeAt(++n.position),e=n.position;i!==0&&!yt(i)&&!Xt(i);)i=n.input.charCodeAt(++n.position);return n.position===e&&ke(n,"name of an alias node must contain at least one character"),t=n.input.slice(e,n.position),Ut.call(n.anchorMap,t)||ke(n,'unidentified alias "'+t+'"'),n.result=n.anchorMap[t],lt(n,!0,-1),!0}function sn(n,e,t,i,s){var r,o,a,l=1,d=!1,p=!1,g,m,f,b,c,v;if(n.listener!==null&&n.listener("open",n),n.tag=null,n.anchor=null,n.kind=null,n.result=null,r=o=a=En===t||zr===t,i&&lt(n,!0,-1)&&(d=!0,n.lineIndent>e?l=1:n.lineIndent===e?l=0:n.lineIndent<e&&(l=-1)),l===1)for(;qc(n)||Wc(n);)lt(n,!0,-1)?(d=!0,a=r,n.lineIndent>e?l=1:n.lineIndent===e?l=0:n.lineIndent<e&&(l=-1)):a=!1;if(a&&(a=d||s),(l===1||En===t)&&(kn===t||jr===t?c=e:c=e+1,v=n.position-n.lineStart,l===1?a&&(Di(n,v)||Yc(n,v,c))||Vc(n,c)?p=!0:(o&&Gc(n,c)||zc(n,c)||Bc(n,c)?p=!0:Kc(n)?(p=!0,(n.tag!==null||n.anchor!==null)&&ke(n,"alias node should not have any properties")):jc(n,c,kn===t)&&(p=!0,n.tag===null&&(n.tag="?")),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):l===0&&(p=a&&Di(n,v))),n.tag===null)n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);else if(n.tag==="?"){for(n.result!==null&&n.kind!=="scalar"&&ke(n,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+n.kind+'"'),g=0,m=n.implicitTypes.length;g<m;g+=1)if(b=n.implicitTypes[g],b.resolve(n.result)){n.result=b.construct(n.result),n.tag=b.tag,n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);break}}else if(n.tag!=="!"){if(Ut.call(n.typeMap[n.kind||"fallback"],n.tag))b=n.typeMap[n.kind||"fallback"][n.tag];else for(b=null,f=n.typeMap.multi[n.kind||"fallback"],g=0,m=f.length;g<m;g+=1)if(n.tag.slice(0,f[g].tag.length)===f[g].tag){b=f[g];break}b||ke(n,"unknown tag !<"+n.tag+">"),n.result!==null&&b.kind!==n.kind&&ke(n,"unacceptable node kind for !<"+n.tag+'> tag; it should be "'+b.kind+'", not "'+n.kind+'"'),b.resolve(n.result,n.tag)?(n.result=b.construct(n.result,n.tag),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):ke(n,"cannot resolve a node with !<"+n.tag+"> explicit tag")}return n.listener!==null&&n.listener("close",n),n.tag!==null||n.anchor!==null||p}function Hc(n){var e=n.position,t,i,s,r=!1,o;for(n.version=null,n.checkLineBreaks=n.legacy,n.tagMap=Object.create(null),n.anchorMap=Object.create(null);(o=n.input.charCodeAt(n.position))!==0&&(lt(n,!0,-1),o=n.input.charCodeAt(n.position),!(n.lineIndent>0||o!==37));){for(r=!0,o=n.input.charCodeAt(++n.position),t=n.position;o!==0&&!yt(o);)o=n.input.charCodeAt(++n.position);for(i=n.input.slice(t,n.position),s=[],i.length<1&&ke(n,"directive name must not be less than one character in length");o!==0;){for(;Vt(o);)o=n.input.charCodeAt(++n.position);if(o===35){do o=n.input.charCodeAt(++n.position);while(o!==0&&!Et(o));break}if(Et(o))break;for(t=n.position;o!==0&&!yt(o);)o=n.input.charCodeAt(++n.position);s.push(n.input.slice(t,n.position))}o!==0&&si(n),Ut.call(Ci,i)?Ci[i](n,i,s):Cn(n,'unknown document directive "'+i+'"')}if(lt(n,!0,-1),n.lineIndent===0&&n.input.charCodeAt(n.position)===45&&n.input.charCodeAt(n.position+1)===45&&n.input.charCodeAt(n.position+2)===45?(n.position+=3,lt(n,!0,-1)):r&&ke(n,"directives end mark is expected"),sn(n,n.lineIndent-1,En,!1,!0),lt(n,!0,-1),n.checkLineBreaks&&Oc.test(n.input.slice(e,n.position))&&Cn(n,"non-ASCII line breaks are interpreted as content"),n.documents.push(n.result),n.position===n.lineStart&&Nn(n)){n.input.charCodeAt(n.position)===46&&(n.position+=3,lt(n,!0,-1));return}if(n.position<n.length-1)ke(n,"end of the stream or a document separator is expected");else return}function Wr(n,e){n=String(n),e=e||{},n.length!==0&&(n.charCodeAt(n.length-1)!==10&&n.charCodeAt(n.length-1)!==13&&(n+=`
`),n.charCodeAt(0)===65279&&(n=n.slice(1)));var t=new Uc(n,e),i=n.indexOf("\0");for(i!==-1&&(t.position=i,ke(t,"null byte is not allowed in input")),t.input+="\0";t.input.charCodeAt(t.position)===32;)t.lineIndent+=1,t.position+=1;for(;t.position<t.length-1;)Hc(t);return t.documents}function Jc(n,e,t){e!==null&&typeof e=="object"&&typeof t>"u"&&(t=e,e=null);var i=Wr(n,t);if(typeof e!="function")return i;for(var s=0,r=i.length;s<r;s+=1)e(i[s])}function Qc(n,e){var t=Wr(n,e);if(t.length!==0){if(t.length===1)return t[0];throw new mt("expected a single document in the stream, but found more")}}var Zc=Jc,Xc=Qc,ed={loadAll:Zc,load:Xc},Kr=Object.prototype.toString,Hr=Object.prototype.hasOwnProperty,oi=65279,td=9,dn=10,nd=13,id=32,sd=33,rd=34,Wn=35,od=37,ad=38,ld=39,cd=42,Jr=44,dd=45,Pn=58,ud=61,pd=62,gd=63,fd=64,Qr=91,Zr=93,hd=96,Xr=123,md=124,eo=125,gt={};gt[0]="\\0";gt[7]="\\a";gt[8]="\\b";gt[9]="\\t";gt[10]="\\n";gt[11]="\\v";gt[12]="\\f";gt[13]="\\r";gt[27]="\\e";gt[34]='\\"';gt[92]="\\\\";gt[133]="\\N";gt[160]="\\_";gt[8232]="\\L";gt[8233]="\\P";var yd=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],bd=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function vd(n,e){var t,i,s,r,o,a,l;if(e===null)return{};for(t={},i=Object.keys(e),s=0,r=i.length;s<r;s+=1)o=i[s],a=String(e[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=n.compiledTypeMap.fallback[o],l&&Hr.call(l.styleAliases,a)&&(a=l.styleAliases[a]),t[o]=a;return t}function _d(n){var e,t,i;if(e=n.toString(16).toUpperCase(),n<=255)t="x",i=2;else if(n<=65535)t="u",i=4;else if(n<=4294967295)t="U",i=8;else throw new mt("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+t+ut.repeat("0",i-e.length)+e}var wd=1,un=2;function Sd(n){this.schema=n.schema||ii,this.indent=Math.max(1,n.indent||2),this.noArrayIndent=n.noArrayIndent||!1,this.skipInvalid=n.skipInvalid||!1,this.flowLevel=ut.isNothing(n.flowLevel)?-1:n.flowLevel,this.styleMap=vd(this.schema,n.styles||null),this.sortKeys=n.sortKeys||!1,this.lineWidth=n.lineWidth||80,this.noRefs=n.noRefs||!1,this.noCompatMode=n.noCompatMode||!1,this.condenseFlow=n.condenseFlow||!1,this.quotingType=n.quotingType==='"'?un:wd,this.forceQuotes=n.forceQuotes||!1,this.replacer=typeof n.replacer=="function"?n.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Ti(n,e){for(var t=ut.repeat(" ",e),i=0,s=-1,r="",o,a=n.length;i<a;)s=n.indexOf(`
`,i),s===-1?(o=n.slice(i),i=a):(o=n.slice(i,s+1),i=s+1),o.length&&o!==`
`&&(r+=t),r+=o;return r}function Kn(n,e){return`
`+ut.repeat(" ",n.indent*e)}function xd(n,e){var t,i,s;for(t=0,i=n.implicitTypes.length;t<i;t+=1)if(s=n.implicitTypes[t],s.resolve(e))return!0;return!1}function Dn(n){return n===id||n===td}function pn(n){return 32<=n&&n<=126||161<=n&&n<=55295&&n!==8232&&n!==8233||57344<=n&&n<=65533&&n!==oi||65536<=n&&n<=1114111}function Mi(n){return pn(n)&&n!==oi&&n!==nd&&n!==dn}function Ni(n,e,t){var i=Mi(n),s=i&&!Dn(n);return(t?i:i&&n!==Jr&&n!==Qr&&n!==Zr&&n!==Xr&&n!==eo)&&n!==Wn&&!(e===Pn&&!s)||Mi(e)&&!Dn(e)&&n===Wn||e===Pn&&s}function kd(n){return pn(n)&&n!==oi&&!Dn(n)&&n!==dd&&n!==gd&&n!==Pn&&n!==Jr&&n!==Qr&&n!==Zr&&n!==Xr&&n!==eo&&n!==Wn&&n!==ad&&n!==cd&&n!==sd&&n!==md&&n!==ud&&n!==pd&&n!==ld&&n!==rd&&n!==od&&n!==fd&&n!==hd}function Ed(n){return!Dn(n)&&n!==Pn}function an(n,e){var t=n.charCodeAt(e),i;return t>=55296&&t<=56319&&e+1<n.length&&(i=n.charCodeAt(e+1),i>=56320&&i<=57343)?(t-55296)*1024+i-56320+65536:t}function to(n){var e=/^\n* /;return e.test(n)}var no=1,Hn=2,io=3,so=4,Qt=5;function Cd(n,e,t,i,s,r,o,a){var l,d=0,p=null,g=!1,m=!1,f=i!==-1,b=-1,c=kd(an(n,0))&&Ed(an(n,n.length-1));if(e||o)for(l=0;l<n.length;d>=65536?l+=2:l++){if(d=an(n,l),!pn(d))return Qt;c=c&&Ni(d,p,a),p=d}else{for(l=0;l<n.length;d>=65536?l+=2:l++){if(d=an(n,l),d===dn)g=!0,f&&(m=m||l-b-1>i&&n[b+1]!==" ",b=l);else if(!pn(d))return Qt;c=c&&Ni(d,p,a),p=d}m=m||f&&l-b-1>i&&n[b+1]!==" "}return!g&&!m?c&&!o&&!s(n)?no:r===un?Qt:Hn:t>9&&to(n)?Qt:o?r===un?Qt:Hn:m?so:io}function Pd(n,e,t,i,s){n.dump=function(){if(e.length===0)return n.quotingType===un?'""':"''";if(!n.noCompatMode&&(yd.indexOf(e)!==-1||bd.test(e)))return n.quotingType===un?'"'+e+'"':"'"+e+"'";var r=n.indent*Math.max(1,t),o=n.lineWidth===-1?-1:Math.max(Math.min(n.lineWidth,40),n.lineWidth-r),a=i||n.flowLevel>-1&&t>=n.flowLevel;function l(d){return xd(n,d)}switch(Cd(e,a,n.indent,o,l,n.quotingType,n.forceQuotes&&!i,s)){case no:return e;case Hn:return"'"+e.replace(/'/g,"''")+"'";case io:return"|"+Ai(e,n.indent)+Oi(Ti(e,r));case so:return">"+Ai(e,n.indent)+Oi(Ti(Dd(e,o),r));case Qt:return'"'+Td(e)+'"';default:throw new mt("impossible error: invalid scalar style")}}()}function Ai(n,e){var t=to(n)?String(e):"",i=n[n.length-1]===`
`,s=i&&(n[n.length-2]===`
`||n===`
`),r=s?"+":i?"":"-";return t+r+`
`}function Oi(n){return n[n.length-1]===`
`?n.slice(0,-1):n}function Dd(n,e){for(var t=/(\n+)([^\n]*)/g,i=function(){var d=n.indexOf(`
`);return d=d!==-1?d:n.length,t.lastIndex=d,Ii(n.slice(0,d),e)}(),s=n[0]===`
`||n[0]===" ",r,o;o=t.exec(n);){var a=o[1],l=o[2];r=l[0]===" ",i+=a+(!s&&!r&&l!==""?`
`:"")+Ii(l,e),s=r}return i}function Ii(n,e){if(n===""||n[0]===" ")return n;for(var t=/ [^ ]/g,i,s=0,r,o=0,a=0,l="";i=t.exec(n);)a=i.index,a-s>e&&(r=o>s?o:a,l+=`
`+n.slice(s,r),s=r+1),o=a;return l+=`
`,n.length-s>e&&o>s?l+=n.slice(s,o)+`
`+n.slice(o+1):l+=n.slice(s),l.slice(1)}function Td(n){for(var e="",t=0,i,s=0;s<n.length;t>=65536?s+=2:s++)t=an(n,s),i=gt[t],!i&&pn(t)?(e+=n[s],t>=65536&&(e+=n[s+1])):e+=i||_d(t);return e}function Md(n,e,t){var i="",s=n.tag,r,o,a;for(r=0,o=t.length;r<o;r+=1)a=t[r],n.replacer&&(a=n.replacer.call(t,String(r),a)),(Ot(n,e,a,!1,!1)||typeof a>"u"&&Ot(n,e,null,!1,!1))&&(i!==""&&(i+=","+(n.condenseFlow?"":" ")),i+=n.dump);n.tag=s,n.dump="["+i+"]"}function Li(n,e,t,i){var s="",r=n.tag,o,a,l;for(o=0,a=t.length;o<a;o+=1)l=t[o],n.replacer&&(l=n.replacer.call(t,String(o),l)),(Ot(n,e+1,l,!0,!0,!1,!0)||typeof l>"u"&&Ot(n,e+1,null,!0,!0,!1,!0))&&((!i||s!=="")&&(s+=Kn(n,e)),n.dump&&dn===n.dump.charCodeAt(0)?s+="-":s+="- ",s+=n.dump);n.tag=r,n.dump=s||"[]"}function Nd(n,e,t){var i="",s=n.tag,r=Object.keys(t),o,a,l,d,p;for(o=0,a=r.length;o<a;o+=1)p="",i!==""&&(p+=", "),n.condenseFlow&&(p+='"'),l=r[o],d=t[l],n.replacer&&(d=n.replacer.call(t,l,d)),Ot(n,e,l,!1,!1)&&(n.dump.length>1024&&(p+="? "),p+=n.dump+(n.condenseFlow?'"':"")+":"+(n.condenseFlow?"":" "),Ot(n,e,d,!1,!1)&&(p+=n.dump,i+=p));n.tag=s,n.dump="{"+i+"}"}function Ad(n,e,t,i){var s="",r=n.tag,o=Object.keys(t),a,l,d,p,g,m;if(n.sortKeys===!0)o.sort();else if(typeof n.sortKeys=="function")o.sort(n.sortKeys);else if(n.sortKeys)throw new mt("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)m="",(!i||s!=="")&&(m+=Kn(n,e)),d=o[a],p=t[d],n.replacer&&(p=n.replacer.call(t,d,p)),Ot(n,e+1,d,!0,!0,!0)&&(g=n.tag!==null&&n.tag!=="?"||n.dump&&n.dump.length>1024,g&&(n.dump&&dn===n.dump.charCodeAt(0)?m+="?":m+="? "),m+=n.dump,g&&(m+=Kn(n,e)),Ot(n,e+1,p,!0,g)&&(n.dump&&dn===n.dump.charCodeAt(0)?m+=":":m+=": ",m+=n.dump,s+=m));n.tag=r,n.dump=s||"{}"}function Ri(n,e,t){var i,s,r,o,a,l;for(s=t?n.explicitTypes:n.implicitTypes,r=0,o=s.length;r<o;r+=1)if(a=s[r],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof e=="object"&&e instanceof a.instanceOf)&&(!a.predicate||a.predicate(e))){if(t?a.multi&&a.representName?n.tag=a.representName(e):n.tag=a.tag:n.tag="?",a.represent){if(l=n.styleMap[a.tag]||a.defaultStyle,Kr.call(a.represent)==="[object Function]")i=a.represent(e,l);else if(Hr.call(a.represent,l))i=a.represent[l](e,l);else throw new mt("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');n.dump=i}return!0}return!1}function Ot(n,e,t,i,s,r,o){n.tag=null,n.dump=t,Ri(n,t,!1)||Ri(n,t,!0);var a=Kr.call(n.dump),l=i,d;i&&(i=n.flowLevel<0||n.flowLevel>e);var p=a==="[object Object]"||a==="[object Array]",g,m;if(p&&(g=n.duplicates.indexOf(t),m=g!==-1),(n.tag!==null&&n.tag!=="?"||m||n.indent!==2&&e>0)&&(s=!1),m&&n.usedDuplicates[g])n.dump="*ref_"+g;else{if(p&&m&&!n.usedDuplicates[g]&&(n.usedDuplicates[g]=!0),a==="[object Object]")i&&Object.keys(n.dump).length!==0?(Ad(n,e,n.dump,s),m&&(n.dump="&ref_"+g+n.dump)):(Nd(n,e,n.dump),m&&(n.dump="&ref_"+g+" "+n.dump));else if(a==="[object Array]")i&&n.dump.length!==0?(n.noArrayIndent&&!o&&e>0?Li(n,e-1,n.dump,s):Li(n,e,n.dump,s),m&&(n.dump="&ref_"+g+n.dump)):(Md(n,e,n.dump),m&&(n.dump="&ref_"+g+" "+n.dump));else if(a==="[object String]")n.tag!=="?"&&Pd(n,n.dump,e,r,l);else{if(a==="[object Undefined]")return!1;if(n.skipInvalid)return!1;throw new mt("unacceptable kind of an object to dump "+a)}n.tag!==null&&n.tag!=="?"&&(d=encodeURI(n.tag[0]==="!"?n.tag.slice(1):n.tag).replace(/!/g,"%21"),n.tag[0]==="!"?d="!"+d:d.slice(0,18)==="tag:yaml.org,2002:"?d="!!"+d.slice(18):d="!<"+d+">",n.dump=d+" "+n.dump)}return!0}function Od(n,e){var t=[],i=[],s,r;for(Jn(n,t,i),s=0,r=i.length;s<r;s+=1)e.duplicates.push(t[i[s]]);e.usedDuplicates=new Array(r)}function Jn(n,e,t){var i,s,r;if(n!==null&&typeof n=="object")if(s=e.indexOf(n),s!==-1)t.indexOf(s)===-1&&t.push(s);else if(e.push(n),Array.isArray(n))for(s=0,r=n.length;s<r;s+=1)Jn(n[s],e,t);else for(i=Object.keys(n),s=0,r=i.length;s<r;s+=1)Jn(n[i[s]],e,t)}function Id(n,e){e=e||{};var t=new Sd(e);t.noRefs||Od(n,t);var i=n;return t.replacer&&(i=t.replacer.call({"":i},"",i)),Ot(t,0,i,!0,!0)?t.dump+`
---`,3);if(e!==-1){const t=n.slice(3,e+1),i=n.slice(e+4);return{frontmatter:t,body:i}}}return{frontmatter:null,body:n}}function oo(n){if(!n)return null;try{const e=$d(n);return typeof e=="object"&&e!==null?e:{}}catch(e){throw Ft.error("[FrontmatterUtils] YAML parse failed:",String(e)),new Error("Malformed frontmatter: "+String(e))}}function jd(n){return Ud(n,{schema:Fd,noRefs:!0,sortKeys:!1})}async function _n(n,e){try{try{const o=n.metadataCache.getFileCache(e);if(o&&o.frontmatter&&typeof o.frontmatter=="object"){const a=o.frontmatter[Qn];if(typeof a=="string")return a;if(a!=null)return String(a)}}catch(o){Ft.debug("[FrontmatterUtils] metadataCache read failed, falling back to file read.",String(o))}const t=await n.vault.read(e),{frontmatter:i}=ro(t);if(!i)return null;const s=oo(i);if(!s)return null;const r=s[Qn];return typeof r=="string"?r:r!=null?String(r):null}catch(t){return Ft.error("[FrontmatterUtils] Failed to read mm_uid for file:",e.path,String(t)),null}}async function zd(n,e,t){try{const i=await n.vault.read(e),{frontmatter:s,body:r}=ro(i);let o={};if(s)try{o=oo(s)||{}}catch(d){throw Ft.error("[FrontmatterUtils] Malformed frontmatter when writing mm_uid for",e.path,String(d)),d}o[Qn]=t;const l=`---
${jd(o).trimEnd()}
---
${r}`;if(n.vault&&typeof n.vault.modify=="function"){await n.vault.modify(e,l),Ft.info("[FrontmatterUtils] Wrote mm_uid to",e.path);return}if(n.vault&&n.vault.adapter&&typeof n.vault.adapter.write=="function"){await n.vault.adapter.write(e.path,l),Ft.info("[FrontmatterUtils] Wrote mm_uid to (adapter) ",e.path);return}await _t.promises.writeFile(e.path,l,{encoding:"utf8"}),Ft.info("[FrontmatterUtils] Wrote mm_uid to (fs) ",e.path)}catch(i){throw Ft.error("[FrontmatterUtils] Failed to write mm_uid for file:",e.path,String(i)),i}}var Mt=(n=>(n.NOT_SYNCED="not-synced",n.SYNCED="synced",n.PRIVATE="private",n.SYNCING="syncing",n.ERROR="error",n))(Mt||{});class Bd{constructor(e,t,i,s,r){this.activeSyncs=new Map,this.syncQueue=[],this.isProcessingQueue=!1,this.app=e,this.settings=t,this.graphitiService=i,this.syncRegistryService=s,this.logger=r,this.logger.info("SyncStatusManager initialized")}async enqueue(e,t="obsidian_mm_individual"){return new Promise((i,s)=>{const r={file:e,source_description:t,resolve:i,reject:s};this.syncQueue.push(r),this.syncQueue.length===1?this.logger.info(`Starting sync for ${e.name}`):this.logger.info(`Sync queued for ${e.name} (position ${this.syncQueue.length} in queue)`),this.processQueue()})}async processQueue(){if(!(this.isProcessingQueue||this.syncQueue.length===0)){for(this.isProcessingQueue=!0;this.syncQueue.length>0;){const e=this.syncQueue.shift();try{const t=await this.syncNote(e.file,e.source_description);e.resolve(t)}catch(t){e.reject(t)}}this.isProcessingQueue=!1}}updateSettings(e){this.settings=e,this.logger.setDebug(e.enableDebugLogging)}async getNoteSyncStatus(e){var t;try{if(this.activeSyncs.has(e.path))return{status:Mt.SYNCING,reason:"Sync operation in progress"};if(this.isNotePrivate(e))return{status:Mt.PRIVATE,reason:"Note is marked private or in excluded folder"};const i=await _n(this.app,e);if(!i)return{status:Mt.NOT_SYNCED,reason:"Note has no mm_uid - has not been synced to Graphiti"};const s=this.app.vault.getName(),r=this.getCurrentDatabaseType(),o=this.syncRegistryService.getSyncRecord(i,s);if(o){const a=o.syncs.find(d=>d.database_id===r);if(a){if(a.error_message)return{status:Mt.ERROR,reason:`Last sync failed: ${a.error_message}`,lastSynced:a.last_sync,episodeId:a.episode_uuid,syncType:a.source_description};const d=(t=a.source_description)!=null&&t.includes("individual")?"individual sync":"sync";return{status:Mt.SYNCED,reason:`Note has been synced to Graphiti (${d})`,lastSynced:a.last_sync,episodeId:a.episode_uuid,syncType:a.source_description}}const l=o.syncs.map(d=>d.database_id).join(", ");return{status:Mt.NOT_SYNCED,reason:`Note was synced to other databases (${l}) but not current database (${r})`}}return{status:Mt.NOT_SYNCED,reason:`Note has mm_uid (${i}) but no sync record found - may need re-sync`}}catch(i){return this.logger.error("Error determining sync status",{file:e.path,error:i}),{status:Mt.ERROR,reason:`Error determining status: ${i instanceof Error?i.message:String(i)}`}}}getStatus(e){var t;try{if(this.activeSyncs.has(e.path))return"SYNCING";if(this.isNotePrivate(e))return"PRIVATE";const i=this.app.metadataCache.getFileCache(e),s=(t=i==null?void 0:i.frontmatter)==null?void 0:t.mm_uid;if(!s||typeof s!="string")return"NOT_SYNCED";const r=this.app.vault.getName(),o=this.getCurrentDatabaseType(),a=this.syncRegistryService.getSyncRecord(s,r);if(a){const l=a.syncs.find(d=>d.database_id===o);return l?l.error_message?"ERROR":"SYNCED":"NOT_SYNCED"}return"NOT_SYNCED"}catch(i){return this.logger.error("Error getting sync status",{file:e.path,error:i}),"ERROR"}}extractMmUidFromSyncResult(e){var t,i,s,r;try{if(e.episode_uuid&&typeof e.episode_uuid=="string")return this.logger.debug(`Extracted mm_uid from top-level episode_uuid: ${e.episode_uuid}`),e.episode_uuid;if(e.notes&&Array.isArray(e.notes))for(const o of e.notes){if(o.episode_uuid&&typeof o.episode_uuid=="string")return this.logger.debug("Extracted mm_uid from notes array episode_uuid",{mmUid:o.episode_uuid}),o.episode_uuid;if((i=(t=o.graphiti_response)==null?void 0:t.episode)!=null&&i.uuid&&typeof o.graphiti_response.episode.uuid=="string")return this.logger.debug("Extracted mm_uid from graphiti_response.episode.uuid",{mmUid:o.graphiti_response.episode.uuid}),o.graphiti_response.episode.uuid}if(e.pythonStdout&&typeof e.pythonStdout=="string"){const o=e.pythonStdout.split(`
`);for(const a of o)if(a.trim())try{const l=JSON.parse(a);if(l.episode_uuid&&typeof l.episode_uuid=="string")return this.logger.debug("Extracted mm_uid from Python stdout top-level",{mmUid:l.episode_uuid}),l.episode_uuid;if(l.notes&&Array.isArray(l.notes))for(const d of l.notes){if(d.episode_uuid&&typeof d.episode_uuid=="string")return this.logger.debug(`Extracted mm_uid from Python stdout notes array: ${d.episode_uuid}`),d.episode_uuid;if((r=(s=d.graphiti_response)==null?void 0:s.episode)!=null&&r.uuid&&typeof d.graphiti_response.episode.uuid=="string")return this.logger.debug(`Extracted mm_uid from Python stdout graphiti_response: ${d.graphiti_response.episode.uuid}`),d.graphiti_response.episode.uuid}}catch{continue}}return this.logger.warn("Could not extract mm_uid from sync result",{result:e}),null}catch(o){return this.logger.error("Error extracting mm_uid from sync result",{error:o,result:e}),null}}isNotePrivate(e){var t;try{if(this.settings.excludedFolders.some(r=>e.path.startsWith(r.endsWith("/")?r:r+"/")))return this.logger.debug("Note is in excluded folder",{file:e.path,excludedFolders:this.settings.excludedFolders}),!0;if(this.settings.includedFolders.length>0&&!this.settings.includedFolders.some(o=>e.path.startsWith(o.endsWith("/")?o:o+"/")))return this.logger.debug("Note is not in included folders",{file:e.path,includedFolders:this.settings.includedFolders}),!0;const s=this.app.metadataCache.getFileCache(e);return((t=s==null?void 0:s.frontmatter)==null?void 0:t.private)===!0?(this.logger.debug("Note marked as private in frontmatter",{file:e.path}),!0):!1}catch(i){return this.logger.error("Error checking if note is private",{file:e.path,error:i}),!1}}getCurrentDatabaseType(){return this.settings.databaseType||"neo4j"}async syncNote(e,t="obsidian_mm_individual"){this.logger.debug("[SYNC-DIAGNOSIS] SyncStatusManager.syncNote() called - this path INCLUDES registry recording");const i=e.path;try{if(this.activeSyncs.has(i))throw new Error("Note is already being synced");if(this.isNotePrivate(e))throw new Error("Cannot sync private note");this.logger.info(`Starting sync for file: ${i}`),this.activeSyncs.set(i,!0);const r=this.app.vault.adapter.basePath,o=this.normalizeNotePath(i,r);this.logger.debug("[SYNC-DIAGNOSIS] Initiating individual note sync",{file:o,vaultPath:r});const a=await this.graphitiService.testManualSync(o,t);if(a.status==="success"){const l=this.extractMmUidFromSyncResult(a);l||this.logger.warn("Sync completed but no mm_uid extracted from result",{file:i,result:a}),await this.updateNoteProperties(e,a,t,l||void 0),this.settings.showNotifications&&new P.Notice(`[SUCCESS] ${e.name} synced successfully`)}else{const l=await _n(this.app,e),d=this.app.vault.getName(),p=this.getCurrentDatabaseType(),g=a.message||"Sync failed";try{l?await this.syncRegistryService.addOrUpdateSyncRecord({mmUid:l,notePath:e.path,vaultId:d,syncEntry:{database_id:p,group_id:await this.syncRegistryService.generateGroupId(e.path,d),episode_uuid:l,last_sync:new Date().toISOString(),source_description:t,error_message:g}}):await this.syncRegistryService.addOrUpdateSyncRecord({mmUid:`error-${Date.now()}`,notePath:e.path,vaultId:d,syncEntry:{database_id:p,group_id:await this.syncRegistryService.generateGroupId(e.path,d),episode_uuid:`error-${Date.now()}`,last_sync:new Date().toISOString(),source_description:t,error_message:g}})}catch(m){this.logger.error("Failed to record sync error in registry",{error:m,file:i,mmUid:l||"none"})}this.settings.showNotifications&&new P.Notice(`[ERROR] Failed to sync ${e.name}: ${g}`),this.logger.error(`Note sync failed for ${i}: ${a.message||"Unknown error"}`,{mmUid:l||"none"})}return a}catch(s){const r=s instanceof Error?s.message:String(s);return this.settings.showNotifications&&new P.Notice(`[ERROR] Sync error for ${e.name}: ${r}`),this.logger.error("Note sync error",{file:i,error:s}),{status:"error",processed:0,skipped:0,total:1,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:r}}finally{this.activeSyncs.has(i)&&(this.activeSyncs.delete(i),this.logger.debug("[RACE-FIX] Cleaned up activeSyncs in finally block (error case)",{file:i}))}}async updateNoteProperties(e,t,i="obsidian_manual",s){const r=e.path;try{const o=await _n(this.app,e),a=s||this.extractMmUidFromSyncResult(t);if(!a){this.logger.warn("No mm_uid found in sync result for note properties update",{file:e.path,result:t});return}this.activeSyncs.delete(r);const l=this.app.vault.getName(),d=this.getCurrentDatabaseType(),p=new Date().toISOString();o?(this.logger.debug(`Note already has mm_uid in frontmatter: ${o}, preserving original`),await this.syncRegistryService.addOrUpdateSyncRecord({mmUid:o,notePath:e.path,vaultId:l,syncEntry:{database_id:d,group_id:await this.syncRegistryService.generateGroupId(e.path,l),episode_uuid:a,last_sync:p,source_description:i}}),this.logger.info(`Updated existing sync record for ${e.path} with preserved mm_uid: ${o}`)):(await zd(this.app,e,a),this.logger.debug(`Written mm_uid to frontmatter: ${e.path} -> ${a}`),await this.syncRegistryService.addOrUpdateSyncRecord({mmUid:a,notePath:e.path,vaultId:l,syncEntry:{database_id:d,group_id:await this.syncRegistryService.generateGroupId(e.path,l),episode_uuid:a,last_sync:p,source_description:i}}),this.logger.info(`Created new sync record and frontmatter for ${e.path} with mm_uid: ${a}`))}catch(o){throw this.logger.error(`Failed to update note properties for ${e.path}`,{error:o,mmUid:s||this.extractMmUidFromSyncResult(t)||"none"}),o}}generateEpisodeId(e){if(e.episode_uuid)return this.logger.debug("Generated Episode ID: Top-level episode_uuid found.",{episodeId:e.episode_uuid}),e.episode_uuid;if(e.notes&&Array.isArray(e.notes))for(const r of e.notes){if(r.episode_uuid)return this.logger.debug("Extracted episode UUID from result.notes",{episodeId:r.episode_uuid}),r.episode_uuid;if(r.graphiti_response&&r.graphiti_response.episode&&r.graphiti_response.episode.uuid)return this.logger.debug("Extracted episode UUID from graphiti_response.episode.uuid",{episodeId:r.graphiti_response.episode.uuid}),r.graphiti_response.episode.uuid}if(e.pythonStdout)try{const r=e.pythonStdout.split(`
`);for(const o of r)if(o.trim())try{const a=JSON.parse(o);if(a.notes&&Array.isArray(a.notes))for(const l of a.notes){if(l.episode_uuid)return this.logger.debug("Generated Episode ID: Extracted from Python stdout notes array.",{episodeId:l.episode_uuid}),l.episode_uuid;if(l.graphiti_response&&l.graphiti_response.episode&&l.graphiti_response.episode.uuid)return this.logger.debug("Generated Episode ID: Extracted from Python stdout graphiti_response.episode.uuid in notes array.",{episodeId:l.graphiti_response.episode.uuid}),l.graphiti_response.episode.uuid}if(a.episode_uuid||a.episodeId){const l=a.episode_uuid||a.episodeId;return this.logger.debug("Generated Episode ID: Extracted from Python stdout top-level.",{episodeId:l}),l}}catch{this.logger.debug("generateEpisodeId: Could not parse Python stdout line as JSON (skipping)",{line:o});continue}}catch(r){this.logger.debug("generateEpisodeId: Could not parse episode UUID from Python stdout (overall error).",{error:r})}const t=Date.now(),i=Math.random().toString(36).substring(2,8),s=`episode-${t}-${i}`;return this.logger.warn("Generated Episode ID: Fallback ID generated (UUID not found in result).",{fallbackId:s,originalResult:e}),s}updateFrontmatter(e,t){const i=e.split(`
`);if(i[0]==="---"){let r=-1;for(let o=1;o<i.length;o++)if(i[o]==="---"){r=o;break}if(r!==-1){const o=i.slice(r+1).join(`
`);return`---
${this.serializeFrontmatter(t)}---
${o}`}}return`---
${this.serializeFrontmatter(t)}---
${e}`}serializeFrontmatter(e){let t="";for(const[i,s]of Object.entries(e))typeof s=="string"?t+=`${i}: "${s}"
`:t+=`${i}: ${s}
`;return t}getActiveSync(e){return this.activeSyncs.has(e)}getActiveSyncs(){return Array.from(this.activeSyncs.keys())}normalizeNotePath(e,t=null){let i=et.normalize(e);process.platform==="win32"&&i.startsWith("/")&&(i=i.substring(1)),i=i.replace(/\\/g,"/");const s=this.app.vault.getName();if(i.startsWith(s+"/")&&(i=i.substring(s.length+1)),t){let r=et.resolve(t,i);r=r.replace(/\\/g,"/");const o=r.split("/"),a=[],l=new Set;for(const d of o)d!==""&&(l.has(d)?a[a.length-1]!==d&&a.push(d):(a.push(d),l.add(d)));return r=a.join("/"),process.platform!=="win32"&&!r.startsWith("/")?r=`/${r}`:process.platform==="win32"&&/^[a-zA-Z]:\//.test(r),et.normalize(r).replace(/\\/g,"/")}return i}destroy(){this.activeSyncs.clear(),this.logger.info("SyncStatusManager destroyed")}}class Vd{constructor(e,t,i){this.settings=e,this.app=t,this.logger=i}async resolveFolderForNote(e,t,i){try{if(i){const o=await this.validateAndCreateFolder(i,this.app.vault);return{success:o,folderPath:i,message:o?"Target folder validated":"Failed to validate target folder",created:!1}}const s=this.settings.mcpTools.defaults.inboxFolder||"",r=await this.validateAndCreateFolder(s,this.app.vault);return{success:r,folderPath:s,message:r?"Default folder resolved":"Failed to resolve default folder",created:!1}}catch(s){return this.logger.error("Error resolving folder for note",s),{success:!1,folderPath:"",message:`Error: ${s instanceof Error?s.message:String(s)}`}}}async validateAndCreateFolder(e,t){try{if(!e||e.trim()==="")return this.logger.debug("validateAndCreateFolder: empty folderPath, using vault root"),!0;const i=e.replace(/\\/g,"/").replace(/^\/+|\/+$/g,""),s=t==null?void 0:t.adapter;let r=!1;if(s&&typeof s.exists=="function")try{r=await s.exists(i)}catch(d){this.logger.warn("validateAndCreateFolder: adapter.exists threw, falling back to vault.getAbstractFileByPath",d),r=!1}if(!r)try{r=!!t.getAbstractFileByPath(i)}catch{r=!1}if(r)return this.logger.debug("validateAndCreateFolder: folder exists",{folderPath:i}),!0;const o=i.split("/").filter(Boolean);let a="",l=!1;for(const d of o){a=a?`${a}/${d}`:d;try{let p=!1;s&&typeof s.exists=="function"&&(p=await s.exists(a)),p||(typeof t.createFolder=="function"?(await t.createFolder(a),l=!0,this.logger.info("validateAndCreateFolder: created folder",{path:a})):s&&typeof s.mkdir=="function"?(await s.mkdir(a),l=!0,this.logger.info("validateAndCreateFolder: created folder via adapter.mkdir",{path:a})):this.logger.warn("validateAndCreateFolder: no method to create folder found",{path:a}))}catch(p){return this.logger.error("validateAndCreateFolder: failed to create folder segment",{path:a,error:p}),!1}}return this.logger.debug("validateAndCreateFolder: validation complete",{folderPath:i,created:l}),!0}catch(i){return this.logger.error("validateAndCreateFolder: unexpected error",i),!1}}generatePeriodicNotePath(e,t){const i=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${i}-${s}-${r}.md`}}const Kt="0.9.5",Gd={win32:{x64:`https://github.com/astral-sh/uv/releases/download/${Kt}/uv-x86_64-pc-windows-msvc.zip`,arm64:`https://github.com/astral-sh/uv/releases/download/${Kt}/uv-aarch64-pc-windows-msvc.zip`},darwin:{x64:`https://github.com/astral-sh/uv/releases/download/${Kt}/uv-x86_64-apple-darwin.tar.gz`,arm64:`https://github.com/astral-sh/uv/releases/download/${Kt}/uv-aarch64-apple-darwin.tar.gz`},linux:{x64:`https://github.com/astral-sh/uv/releases/download/${Kt}/uv-x86_64-unknown-linux-gnu.tar.gz`,arm64:`https://github.com/astral-sh/uv/releases/download/${Kt}/uv-aarch64-unknown-linux-gnu.tar.gz`}},Yd={win32:{x64:"",arm64:""},darwin:{x64:"",arm64:""},linux:{x64:"",arm64:""}};class gn{constructor(e,t,i){this.plugin=e,this.pluginDir=t,this.settings=i,this.installInProgress=!1,this.logger=new Gt(e,!1),this.logger.init()}async checkAllDependencies(){const e=this.getAppDataPath(),t=et.join(e,"venv"),i=this.getVenvPython(t),s=await this.findSystemPython(),r=await this.isUvInstalled(),o=this.settings.pythonPath||null,a=await this.pathExists(t),l=a?await this.testVenv(i):!1,d=l;let p=null;if(l)try{p=await this.exec(i,["-c","import importlib.metadata; print(importlib.metadata.version('graphiti-core'))"]),p=p.trim()}catch{p=null}const g=this.detectMismatch({dataJsonPython:o,venvExists:a,venvValid:l,venvPath:i});return{systemPython:s,uvInstalled:r,uvPythonPath:null,dataJsonPython:o,dataJsonMethod:null,venvPath:t,venvExists:a,venvPythonPath:i,venvValid:l,graphitiInstalled:d,graphitiVersion:p,mismatch:g}}async installDependencies(e,t){if(this.installInProgress)throw new Error("Installation already in progress");this.installInProgress=!0;try{const i=this.getAppDataPath(),s=et.join(i,"venv");this.logger.info("[INFO] Checking disk space",{path:i,requiredMB:500});const r=await this.checkDiskSpace(i,500);if(this.logger.info("[INFO] Disk space check result",{hasSpace:r,path:i}),!r)throw new Error("Insufficient disk space (500MB required)");if(await _t.promises.mkdir(i,{recursive:!0}),e==="system"){t==null||t("Finding system Python...",10);const l=await this.findSystemPython();if(!l)throw new Error("No Python 3.11+ found on system");this.logger.info("[INFO] Using system Python",{path:l.path,version:l.version}),t==null||t("Creating virtual environment...",30),await this.createVenv(l.path,s)}else t==null||t("Downloading uv package manager...",10),await this.installUv(i),t==null||t("Installing Python 3.11 via uv...",30),await this.runUv(i,["python","install","3.11"]),t==null||t("Creating virtual environment...",50),await this.runUv(i,["venv",s,"--python","3.11","--clear"]);const o=this.getVenvPython(s);if(t==null||t("Installing dependencies...",70),await this.installDeps(e,i,o),t==null||t("Verifying installation...",90),!await this.testVenv(o))throw new Error("Installation validation failed");return t==null||t("Installation complete!",100),this.logger.info("[SUCCESS] Python environment installed",{path:o}),o}catch(i){const s=et.join(this.getAppDataPath(),"venv");throw await this.pathExists(s)&&(await _t.promises.rm(s,{recursive:!0,force:!0}),this.logger.info("[INFO] Cleaned up partial installation")),this.logger.error("[ERROR] Installation failed",i),i}finally{this.installInProgress=!1}}async findSystemPython(){const e=this.getPythonCandidates();for(const t of e)try{const i=await this.exec(t,["--version"]),s=i.match(/Python (\d+)\.(\d+)\.(\d+)/);if(s){const[,r,o]=s.map(Number);if(r===3&&o>=11)return{path:t,version:i.trim()}}}catch{continue}return null}async testVenv(e){try{return(await this.exec(e,["-c",'import graphiti_core; print("OK")'])).trim()==="OK"}catch{return!1}}async createVenv(e,t){await this.exec(e,["-m","venv",t])}getVenvPython(e){return process.platform==="win32"?et.join(e,"Scripts","python.exe"):et.join(e,"bin","python")}getAppDataPath(){const e=nl.homedir(),t=process.platform;let i;return t==="win32"?i=process.env.LOCALAPPDATA||et.join(e,"AppData","Local"):t==="darwin"?i=et.join(e,"Library","Application Support"):i=et.join(e,".local","share"),et.join(i,"MegaMem","python")}async isUvInstalled(){const e=this.getAppDataPath(),t=this.getUvPath(e);return await this.pathExists(t)}async installUv(e){var d,p;const t=et.join(e,"bin");await _t.promises.mkdir(t,{recursive:!0});const i=process.platform,s=process.arch==="arm64"?"arm64":"x64",r=(d=Gd[i])==null?void 0:d[s];if(!r)throw new Error(`Unsupported platform: ${i} ${s}`);const o=r.endsWith(".zip"),a=et.join(e,o?"uv.zip":"uv.tar.gz");this.logger.info("[INFO] Downloading uv",{url:r}),await this.downloadFile(r,a);const l=(p=Yd[i])==null?void 0:p[s];if(l){if(!await this.verifyChecksum(a,l))throw await _t.promises.unlink(a),new Error("Checksum verification failed for uv download");this.logger.info("[SUCCESS] UV checksum verified")}else this.logger.warn("[WARNING] UV checksum not configured - skipping verification (security risk)");if(o?await this.extractZip(a,t):await this.extractTar(a,t),await _t.promises.unlink(a),i!=="win32"){const g=this.getUvPath(e);await _t.promises.chmod(g,493)}this.logger.info("[SUCCESS] uv installed")}async runUv(e,t){const i=this.getUvPath(e);return await this.exec(i,t)}getUvPath(e){const t=process.platform,i=et.join(e,"bin");return t==="win32"?et.join(i,"uv.exe"):et.join(i,"uv")}async exec(e,t){return new Promise((i,s)=>{var l,d;const r=Nt.spawn(e,t,{stdio:["ignore","pipe","pipe"]});let o="",a="";(l=r.stdout)==null||l.on("data",p=>{o+=p.toString()}),(d=r.stderr)==null||d.on("data",p=>{a+=p.toString()}),r.on("close",p=>{p===0?i(o):s(new Error(`Command failed: ${e} ${t.join(" ")}
${a}`))}),r.on("error",p=>{s(p)})})}async pathExists(e){try{return await _t.promises.access(e),!0}catch{return!1}}detectMismatch(e){return e.venvExists?e.venvValid?e.dataJsonPython&&e.dataJsonPython!==e.venvPath?{detected:!0,description:"Configured Python path does not match venv path"}:{detected:!1,description:""}:{detected:!0,description:"Virtual environment exists but is invalid"}:{detected:!1,description:""}}getPythonCandidates(){return process.platform==="win32"?["py","python","python3"]:["python3","python"]}async downloadFile(e,t){const i=require("https"),s=require("fs");return new Promise((r,o)=>{i.get(e,a=>{if(a.statusCode===301||a.statusCode===302)return this.downloadFile(a.headers.location,t).then(r).catch(o);const l=s.createWriteStream(t);a.pipe(l),l.on("finish",()=>{l.close(),r()}),l.on("error",d=>{s.unlink(t,()=>{}),o(d)})}).on("error",o)})}async extractZip(e,t){const{exec:i}=require("child_process"),{promisify:s}=require("util"),r=s(i);process.platform==="win32"?await r(`powershell -command "Expand-Archive -Path '${e}' -DestinationPath '${t}' -Force"`):await r(`unzip -o "${e}" -d "${t}"`)}async extractTar(e,t){await require("tar").x({file:e,cwd:t})}async verifyChecksum(e,t){return new Promise((i,s)=>{const r=il.createHash("sha256"),a=require("fs").createReadStream(e);a.on("data",l=>r.update(l)),a.on("end",()=>i(r.digest("hex")===t)),a.on("error",s)})}async checkDiskSpace(e,t){try{const i=process.platform,r=await _t.promises.stat(e).catch(()=>null)?e:et.dirname(e);if(i==="win32"){const o=await this.exec("wmic",["logicaldisk","get","freespace,caption"]),a=r.charAt(0).toUpperCase();this.logger.info("[INFO] Checking disk space on Windows",{drive:a,checkPath:r});const l=o.split(`
`);for(const d of l)if(d.includes(a+":")){const p=d.trim().split(/\s+/);this.logger.info("[INFO] Found drive line",{line:d,parts:p});const g=parseInt(p[p.length===2?1:0]),m=g>=t*1024*1024;return this.logger.info("[INFO] Disk space calculation",{freeSpace:g,requiredBytes:t*1024*1024,hasEnoughSpace:m}),m}}else{const a=(await this.exec("df",["-k",r])).split(`
`);if(a.length>1){const l=a[1].trim().split(/\s+/);return parseInt(l[3])>=t*1024}}}catch(i){this.logger.warn("[WARNING] Could not check disk space",{error:i})}return!0}async installDeps(e,t,i){const s=et.resolve(this.pluginDir,"mcp-server","requirements.txt");this.logger.info("[INFO] Installing dependencies",{reqPath:s,pythonPath:i,method:e}),e==="uv"?await this.runUv(t,["pip","install","--python",i,"-r",s]):(await this.exec(i,["-m","pip","install","--upgrade","pip"]),await this.exec(i,["-m","pip","install","-r",s]));try{const r=await this.exec(i,["-c","import importlib.metadata; print(importlib.metadata.version('graphiti-core'))"]);this.logger.info("[SUCCESS] graphiti-core installed",{version:r.trim()})}catch{this.logger.warn("[WARNING] Could not determine graphiti-core version")}}getPythonEnv(){const e=this.getAppDataPath(),t=et.join(e,"venv"),i=process.platform==="win32"?et.join(t,"Scripts"):et.join(t,"bin"),s=this.pluginDir+et.delimiter+(process.env.PYTHONPATH||"");return{...process.env,PATH:`${i}${et.delimiter}${process.env.PATH}`,PYTHONPATH:s,PYTHON_EXECUTABLE:this.getVenvPython(t)}}getPythonExecutable(){const e=this.getAppDataPath(),t=et.join(e,"venv");return this.getVenvPython(t)}}class ao{constructor(e,t,i,s,r){this.pythonProcess=null,this.mcpServerProcess=null,this.activeProcesses=new Set,this.isCancelled=!1,this.pathCache=new Map,this.cacheHits=0,this.cacheMisses=0,this.lastCacheLogTime=0,this.plugin=e,this.settings=t,this.schemaService=new Lr(e.app),this.logger=new Gt(e,t.enableDebugLogging),this.noteSelectionService=new gl(e.app,e,this.logger),this.syncRegistryService=i,this.syncStatusManager=s,this.vaultRegistryService=r,this.pythonInstaller=new gn(e,this.getPluginDirectory(),{pythonPath:t.pythonPath}),this.logger.info("GraphitiService initialized"),this.logger.logSystemInfo()}invalidatePathCache(e){e?(this.pathCache.delete(e),this.logger.debug(`[PATHS] Invalidated cache for vault: ${e}`)):(this.pathCache.clear(),this.logger.debug("[PATHS] Cleared entire path cache"))}updateSettings(e){this.settings=e,this.logger.setDebug(e.enableDebugLogging),this.logger.debug("Settings updated in GraphitiService",{debugMode:e.enableDebugLogging})}getCurrentEmbeddingDimensions(){return this.settings.embedderProvider==="ollama"?String(this.settings.ollamaEmbeddingDim||768):"1536"}async initialize(){this.vaultRegistryService.onActiveVaultChange(t=>{t?this.invalidatePathCache(t):this.invalidatePathCache(),this.getVaultAwarePaths(t)}),this.vaultRegistryService.onRegistryUpdate(()=>{this.invalidatePathCache()});const e=this.vaultRegistryService.getActiveVaultId();e?this.getVaultAwarePaths(e):this.getVaultAwarePaths(null),this.initializeMCPToolsServices()}initializeMCPToolsServices(){this.mcpFolderResolver=new Vd(this.settings,this.plugin.app,this.logger),this.logger.debug("MCP tools services initialized")}getPythonExecutable(){return this.pythonInstaller.getPythonEnv().PYTHON_EXECUTABLE||"python"}getPythonEnv(){return this.pythonInstaller.getPythonEnv()}async resolveMCPNoteFolder(e,t,i){return this.mcpFolderResolver||this.initializeMCPToolsServices(),await this.mcpFolderResolver.resolveFolderForNote(e,t,i)}async syncNotesWithSettings(e,t,i="obsidian_mm_individual"){try{let s;if(e?s=e:this.settings.syncOptions==="new_only"?s=(await this.noteSelectionService.getNotesForAutoSync()).map(l=>l.path):s=(await this.noteSelectionService.getFilteredSyncableNotes()).map(l=>l.path),s.length===0)return{status:"error",processed:0,skipped:0,total:0,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:"No notes available for sync after applying settings filters"};const r={notesPaths:s,batchSize:this.settings.batchSize||10,debug:this.settings.enableDebugLogging,source_description:i,crossEncoderClient:this.settings.crossEncoderClient,crossEncoderModel:this.settings.crossEncoderModel,use_custom_ontology:this.settings.useCustomOntology};this.logger.info("Starting settings-based sync",{totalNotes:s.length,batchSize:r.batchSize,includedFolders:this.settings.includedFolders,excludedFolders:this.settings.excludedFolders});const o=await this.syncNotes(r,t,i);return this.logger.debug(`SYNC_COMPLETE: syncNotesWithSettings() finished - status: ${o.status}, processed: ${o.processed}, skipped: ${o.skipped}, total: ${o.total}, batches: ${o.batchCount}`),o}catch(s){return this.logger.error("Settings-based sync failed",s),{status:"error",processed:0,skipped:0,total:0,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:s instanceof Error?s.message:String(s)}}}async autoSync(e){if(!this.settings.autoSync&&e!=="manual")return{status:"error",processed:0,skipped:0,total:0,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:"Auto-sync is disabled in settings"};let t;e==="manual"?t="obsidian_mm_individual":this.settings.syncOptions==="new_only"?t="obsidian_auto_new":t="obsidian_auto_updated",this.logger.debug("Enhanced auto-sync triggered",{triggerType:e,source_description:t,autoSyncEnabled:this.settings.autoSync,syncOptions:this.settings.syncOptions,syncInterval:this.settings.syncInterval});const i=await this.noteSelectionService.getNotesForAutoSync(this.settings.syncOptions);if(i.length===0)return this.logger.debug("No notes found for auto-sync based on current sync options",{syncOptions:this.settings.syncOptions,triggerType:e,source_description:t}),{status:"success",processed:0,skipped:0,total:0,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:"No notes to sync based on current sync options"};const s=i.map(r=>r.path);return this.logger.debug("Auto-sync processing notes",{triggerType:e,source_description:t,totalNotes:s.length,syncOptions:this.settings.syncOptions,notesSample:s.slice(0,3)}),await this.noteSelectionService.selectNotes(s),this.logger.debug("Auto-sync selected notes into queue for sequential processing",{selectedCount:s.length}),await this.syncSelectedNotes(r=>{this.logger.debug("Enhanced auto-sync progress",{triggerType:e,source_description:t,syncOptions:this.settings.syncOptions,progress:r})},t)}async testConnection(){try{const e=await this.executePythonCommand(["-c",'import sys; import graphiti_core; print(f"Python {sys.version_info.major}.{sys.version_info.minor}, Graphiti installed")']);return e.success&&e.output?{success:!0,message:` Connection successful: ${e.output.trim()}`}:{success:!1,message:` Connection failed: ${e.error||"Unknown error"}`}}catch(e){return{success:!1,message:` Connection test failed: ${e instanceof Error?e.message:String(e)}`}}}async installDependencies(e){return new Promise(t=>{var i,s;try{this.logger.info("Starting dependency installation process");const{pluginDir:r,bridgeDir:o}=this.getVaultAwarePaths(),a=Ge.join(o,"install.py");if(this.logger.debug("Installation paths:",{pluginDir:r,bridgePath:o,installPath:a}),!require("fs").existsSync(a)){const C=`Install script not found at: ${a}`;this.logger.error(C),t({success:!1,message:` ${C}`});return}e==null||e("Starting Python dependency installation..."),this.logger.info("Executing Python install script");const d="python",p=[a,"--llm-provider",this.settings.llmProvider,"--embedder-provider",this.settings.embedderProvider];this.logger.debug("Command:",{command:d,args:p});const{spawn:g}=require("child_process"),m=this.getPythonExecutable(),f=this.getPythonEnv(),b=g(m,p,{stdio:["pipe","pipe","pipe"],cwd:o,env:f});let c="",v="",w=Date.now();(i=b.stdout)==null||i.on("data",C=>{const E=C.toString();c+=E,this.logger.logPythonOutput("stdout",E);const M=E.split(`
`);for(const x of M)if(x.trim()){const N=Date.now();N-w>100&&(x.includes("Installing")?e==null||e(`Installing: ${x.trim()}`):x.includes("Downloading")?e==null||e(`Downloading: ${x.trim()}`):x.includes("Collecting")?e==null||e(`Collecting: ${x.trim()}`):x.includes("Building")?e==null||e(`Building: ${x.trim()}`):x.includes("Successfully")?e==null||e(` ${x.trim()}`):x.includes("Requirement already satisfied")?e==null||e(` ${x.trim()}`):x.trim().length>0&&(e==null||e(` ${x.trim()}`)),w=N)}}),(s=b.stderr)==null||s.on("data",C=>{const E=C.toString();v+=E,this.logger.logPythonOutput("stderr",E),E.includes("%")||E.includes("Downloading")||E.includes("Installing")?e==null||e(` ${E.trim()}`):(E.includes("ERROR")||E.includes("error"))&&(this.logger.error("Python error output:",E),e==null||e(` Error: ${E.trim()}`))}),b.on("close",C=>{if(this.logger.debug("Process closed",{exitCode:C}),C===0)e==null||e(" Installation completed successfully!"),this.logger.info("Installation completed successfully"),t({success:!0,message:" Dependencies installed successfully"});else{const E=`Installation failed with code ${C}`;this.logger.error(E,{exitCode:C,stderr:v,stdout:c}),t({success:!1,message:` ${E}: ${v||c||"Unknown error"}`})}}),b.on("error",C=>{this.logger.error("Failed to start Python process",C);let E=C.message;C.message.includes("ENOENT")&&(E="Python not found. Please ensure Python 3.10+ is installed and in your PATH."),t({success:!1,message:` Failed to start installation: ${E}`})});const _=setTimeout(()=>{b.killed||(this.logger.error("Installation timeout - killing process"),b.kill(),t({success:!1,message:" Installation timed out after 10 minutes"}))},6e5);b.on("exit",()=>{clearTimeout(_)})}catch(r){this.logger.error("Installation exception",r),t({success:!1,message:` Installation error: ${r instanceof Error?r.message:String(r)}`})}})}async syncNotes(e,t,i){try{this.logger.debug("SYNC_START: syncNotes() called",{notesCount:e.notesPaths.length,batchSize:e.batchSize,debugMode:e.debug,notesSample:e.notesPaths.slice(0,3),fullNotesPathsCount:e.notesPaths.length});try{const l=this.settings.embeddingModel,d=this.getCurrentEmbeddingDimensions();if(await this.vaultRegistryService.hasEmbeddingModelChanged(l,d)){const g=await this.vaultRegistryService.getEmbeddingModelMismatchDetails(l,d);this.logger.warn("[SYNC] Embedding model change detected before sync",{currentModel:l,currentDimensions:d,storedModel:g==null?void 0:g.storedModel,storedDimensions:g==null?void 0:g.storedDimensions})}}catch(l){this.logger.debug("[SYNC] Embedding model validation error (continuing)",l)}const s=this.validateSyncConfig(e);if(!s.isValid)throw new Error(`Configuration error: ${s.errors.join(", ")}`);const{vaultPath:r}=this.getVaultAwarePaths();this.settings.useCustomOntology?t==null||t({current:5,total:100,message:"Preparing dynamic custom ontology sync...",percentage:5}):t==null||t({current:5,total:100,message:"Using generic episode sync (custom ontology disabled)...",percentage:5});const o=await this.prepareSyncConfig(e,r,i),a=await this.executePythonSync(o,t);return this.logger.debug(`SYNC_COMPLETE: syncNotes() finished - status: ${a.status}, processed: ${a.processed}, skipped: ${a.skipped}, total: ${a.total}, batches: ${a.batchCount}`),a}catch(s){return{status:"error",processed:0,skipped:0,total:e.notesPaths.length,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:s instanceof Error?s.message:String(s)}}}getNoteSelectionService(){return this.noteSelectionService}async syncNotesSequentially(e,t="obsidian_mm_individual"){this.logger.debug("Starting sequential sync"),this.isCancelled=!1;const i=this.noteSelectionService.getSelectedNotePaths();if(!i||i.length===0)return this.logger.warn("No notes found in selection"),{status:"error",processed:0,skipped:0,total:0,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:"No notes selected for sync"};this.logger.debug(`Processing ${i.length} notes sequentially`);let s=0,r=0;const o=[],a=[],{vaultPath:l}=this.getVaultAwarePaths();for(let m=0;m<i.length;m++){if(this.isCancelled)return this.logger.info("[CANCEL] Sequential sync cancelled by user"),{status:"error",processed:s,skipped:r+(i.length-m),total:i.length,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:"Sync cancelled by user"};const f=i[m];e==null||e({current:m,total:i.length,message:`Processing note ${m+1}/${i.length}: ${f}`,percentage:m/i.length*100});try{this.logger.debug(`Processing note ${m+1}/${i.length}: ${f}`);const c=require("path").join(l,f),v=this.plugin.app.vault.getAbstractFileByPath(f);if(!v||!(v instanceof P.TFile)){this.logger.error(`Could not find TFile for path: ${f}`),r++;continue}const w=await this.syncStatusManager.syncNote(v,t);o.push(w),w.status==="success"?(s++,this.logger.info(`Successfully synced note: ${f}`),this.noteSelectionService.deselectNotes([f])):(r++,this.logger.warn(`Failed to sync note: ${f}. Status: ${w.status}, Message: ${w.message}`),w.message&&a.push(`Note '${f}': ${w.message}`))}catch(b){r++;const c=b instanceof Error?b.message:String(b);a.push(`Note '${f}': ${c}`),this.logger.error(`Error syncing note ${f}`,b)}e==null||e({current:m+1,total:i.length,message:`Completed ${f}`,percentage:(m+1)/i.length*100})}const d=s>0?"success":"error",p={status:d,processed:s,skipped:r,total:i.length,batchCount:i.length,nodeTypesLoaded:0,edgeTypesLoaded:0,notes:o,errors:a,hasErrors:a.length>0,message:`Sequential sync completed. Processed: ${s}, Skipped: ${r}.`},g=o.slice(0,5).map(m=>{const f=(m==null?void 0:m.note_path)??(m==null?void 0:m.path)??"",b=(m==null?void 0:m.status)??"unknown",c=(m==null?void 0:m.episode_uuid)??(m==null?void 0:m.episode_id)??"";return{note:f,status:b,episode_uuid:c}});return this.logger.debug("Sequential auto-sync completed",{finalStatus:d,processed:s,skipped:r,total:i.length,notesSample:g}),p}async syncSelectedNotes(e,t="obsidian_mm_quicksync"){this.logger.debug("SYNC_START: syncSelectedNotes() called",{selectedPaths:this.noteSelectionService.getSelectedNotePaths()});const i=this.noteSelectionService.getSelectedNotePaths(),s=await this.noteSelectionService.validateSelection();if(!s.isValid)return{status:"error",processed:0,skipped:i.length,total:i.length,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:`Selection validation failed: ${s.errors.join(", ")}`};const r=await this.syncNotesSequentially(e,t);return this.logger.debug(`SYNC_COMPLETE: syncSelectedNotes() finished - status: ${r.status}, processed: ${r.processed}, skipped: ${r.skipped}, total: ${r.total}`),r}async quickSync(e,t){try{return await this.noteSelectionService.selectAllMatching(e)===0?{status:"error",processed:0,skipped:0,total:0,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:"No notes matched the filter criteria"}:this.syncSelectedNotes(t)}catch(i){return{status:"error",processed:0,skipped:0,total:0,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:i instanceof Error?i.message:String(i)}}}async getSyncStatistics(){const[e,t,i,s]=await Promise.all([this.noteSelectionService.getSelectionSummary(),this.noteSelectionService.validateSelection(),this.noteSelectionService.getAvailableTypes(),this.noteSelectionService.getAvailableTags()]);return{summary:e,validation:t,availableTypes:i,availableTags:s}}cancelSync(){this.logger.info("[CANCEL] Cancelling sync operation - killing all Python processes"),this.isCancelled=!0,this.activeProcesses.forEach(e=>{e.killed||(this.logger.debug("[CANCEL] Killing tracked Python process",{pid:e.pid}),e.kill("SIGTERM"))}),this.activeProcesses.clear(),this.pythonProcess&&(this.logger.debug("[CANCEL] Killing main Python process",{pid:this.pythonProcess.pid}),this.pythonProcess.kill("SIGTERM"),this.pythonProcess=null)}getPluginDirectory(){return this.getVaultAwarePaths().pluginDir}findDuplicatePathSegments(e){const t=Math.floor(e.length/2);if(t>0){let i=!0;for(let s=0;s<t;s++)if(e[s]!==e[s+t]){i=!1;break}if(i)return t}for(let i=1;i<e.length;i++)for(let s=i+1;s<e.length;s++)if(e[i]===e[s]){let r=1;for(;i+r<s&&s+r<e.length&&e[i+r]===e[s+r];)r++;if(r>=2&&s+r>=e.length)return s}return-1}getVaultPathFallback(){const e=this.getVaultAwarePaths(null);return this.logger.debug("Vault Path Fallback Resolution",{vaultPath:e.vaultPath,pluginDir:e.pluginDir,resolvedAt:e.resolvedAt}),e.vaultPath}getVaultAwarePaths(e){const t=yn.performance.now(),i=e||this.vaultRegistryService.getActiveVaultId()||"default";if(this.pathCache.has(i)){const o=this.pathCache.get(i);return this.cacheHits++,(yn.performance.now()-t).toFixed(2),this.logCacheMetrics(i),o}this.cacheMisses++;const s=this.resolvePathsForVault(i);this.pathCache.set(i,s);const r=(yn.performance.now()-t).toFixed(2);return this.logger.debug(`[CACHE_MISS] Vault: ${i}, Time: ${r}ms. Paths resolved.`),this.logCacheMetrics(i),s}resolvePathsForVault(e){const t=require("fs"),i=require("path"),s=this.plugin.app.vault.adapter.basePath;let r=i.normalize(s);const o=r.split(i.sep),a=this.findDuplicatePathSegments(o);a!==-1&&(r=o.slice(0,a).join(i.sep),this.logger.warn(" Fixed duplicated vault path during resolution",{original:s,normalized:r,fixed:r,duplicateStartIndex:a}));let l=null,d=null;const p=this.plugin.manifest.id||"megamem-mcp",g=Ge.join(r,".obsidian","plugins",p),m=Ge.join(g,"graphiti_bridge");if(t.existsSync(m)&&(l=g,d=m),!l){const b=i.resolve(r,".."),c=Ge.join(b,"graphiti_bridge");t.existsSync(c)&&(l=b,d=c)}if(!l){const b=Ge.join(r,"graphiti_bridge");t.existsSync(b)&&(l=r,d=b)}if(!l){const b=this.plugin.manifest.dir||"";if(b){const c=b,v=Ge.join(c,"graphiti_bridge");t.existsSync(v)&&(l=c,d=v)}}if(!l||!d){const b=`Critical path resolution failure for vault ID "${e}". Could not locate required plugin or bridge directories.`;throw this.logger.error(b,{vaultPath:r,pluginManifestDir:this.plugin.manifest.dir,pluginId:p}),new Error(b)}return t.existsSync(r)||this.logger.warn("[PATHS] Vault path does not exist resolved during final check",{vaultPath:r}),t.existsSync(l)||this.logger.warn("[PATHS] Plugin directory does not exist resolved during final check",{pluginDir:l}),t.existsSync(d)||this.logger.warn("[PATHS] Bridge directory does not exist resolved during final check",{bridgeDir:d}),{pluginDir:l,vaultPath:r,bridgeDir:d,resolvedAt:new Date().toISOString()}}sanitizeConfigForLogging(e){const t={...e};return t.llm_api_key&&(t.llm_api_key="***"),t.embedder_api_key&&(t.embedder_api_key="***"),t.api_keys&&(t.api_keys=Object.keys(t.api_keys).reduce((i,s)=>(i[s]=t.api_keys[s]?"***":null,i),{})),t.database_password&&(t.database_password="***"),t}getApiKeyForProvider(e){switch(e){case"openai":return this.settings.apiKeys.openai;case"anthropic":return this.settings.apiKeys.anthropic;case"google":return this.settings.apiKeys.google;case"azure":return this.settings.apiKeys.azure;case"groq":return this.settings.apiKeys.groq;case"voyage":return this.settings.apiKeys.voyage;case"venice":return this.settings.apiKeys.venice;case"openrouter":return this.settings.apiKeys.openrouter;case"ollama":return"not-required";default:return}}getDatabaseConfig(){return this.settings.databaseType==="neo4j"?this.settings.databaseConfigs.neo4j:this.settings.databaseType==="falkordb"?this.settings.databaseConfigs.falkordb:null}prepareDatabaseConfig(){const e=this.getDatabaseConfig();if(!e)throw new Error(`No database configuration found for type: ${this.settings.databaseType}`);if(this.settings.databaseType==="neo4j")return{database_url:e.uri,database_username:e.username,database_password:e.password,database_name:e.database};if(this.settings.databaseType==="falkordb")return{database_url:`redis://${e.host}:${e.port}`,database_username:e.username||null,database_password:e.password||null,database_name:e.database};throw new Error(`Unsupported database type: ${this.settings.databaseType}`)}validateSyncConfig(e){const t=[];(!e.notesPaths||e.notesPaths.length===0)&&t.push("No notes selected for sync"),e.batchSize<=0&&t.push("Batch size must be greater than 0"),this.settings.llmProvider||t.push("LLM provider not configured"),this.getApiKeyForProvider(this.settings.llmProvider)||t.push(`API key not configured for LLM provider: ${this.settings.llmProvider}`),this.settings.embedderProvider||t.push("Embedder provider not configured");const s=this.getDatabaseConfig();return s?this.settings.databaseType==="neo4j"?s.uri||t.push("Neo4j URI not configured"):this.settings.databaseType==="falkordb"&&(s.host||t.push("FalkorDB host not configured"),s.port||t.push("FalkorDB port not configured")):t.push(`Database configuration not found for type: ${this.settings.databaseType}`),{isValid:t.length===0,errors:t}}async prepareSyncConfig(e,t,i){const s=t||this.getVaultPathFallback(),r=this.plugin.settings,o=[];for(const l of e.notesPaths)try{const d=this.plugin.app.vault.getName();let p=this.syncStatusManager.normalizeNotePath(l,s);et.isAbsolute(p)&&s?p=et.relative(s,p).replace(/\\/g,"/"):p=p.replace(/\\/g,"/");const g=this.plugin.app.vault.getAbstractFileByPath(p);if(g&&g instanceof P.TFile){const m=await _n(this.plugin.app,g);if(m){o.push(m),this.logger.debug("Retrieved previous episode UUID from frontmatter",{notePath:l,vaultRelativePath:p,mmUid:m});continue}}this.logger.debug("No previous episode UUID found - new note will get fresh episode",{notePath:l,vaultRelativePath:p})}catch(d){this.logger.debug("Error retrieving episode UUID for note",{notePath:l,error:d})}const a={llm_provider:r.llmProvider,llm_api_key:this.getApiKeyForProvider(r.llmProvider),llm_model:r.llmModel,llm_small_model:r.llmSmallModel,azure_endpoint:r.azureEndpoint,azure_api_version:r.azureApiVersion,ollama_base_url:r.ollamaBaseUrl,openrouter_preset_slug:r.openrouterPresetSlug,openrouter_use_preset_with_custom_model:r.openrouterUsePresetWithCustomModel,embedder_provider:r.embedderProvider,embedder_api_key:this.getApiKeyForProvider(r.embedderProvider),embedding_model:r.embeddingModel,api_keys:r.apiKeys,database_type:r.databaseType,...this.prepareDatabaseConfig(),use_custom_ontology:r.useCustomOntology,default_namespace:r.defaultNamespace,enable_folder_namespacing:r.enableFolderNamespacing,enable_property_namespacing:r.enablePropertyNamespacing,namespace_strategy:r.namespaceStrategy,folder_namespace_mappings:r.folderNamespaceMappings,notes:e.notesPaths,batch_size:e.batchSize,debug:r.enableDebugLogging,vault_path:s,source_description:i||e.source_description||"obsidian_mm_individual",cross_encoder_client:e.crossEncoderClient||r.crossEncoderClient||"none",cross_encoder_model:r.crossEncoderClient==="bge"||r.crossEncoderClient==="none"?void 0:e.crossEncoderModel||r.crossEncoderModel,previous_episode_uuids:o};return this.logger.info(`Sync configuration prepared: Total notes: ${e.notesPaths.length}, Previous episodes: ${o.length}, First time sync: ${e.notesPaths.length-o.length}`),a}async executePythonSync(e,t){if(this.settings.experimentalDaemonMode&&this.plugin.pythonDaemonBridge)return this.logger.info("Using daemon mode for sync"),await this.executeDaemonSync(e,t);this.logger.info("Using traditional sync mode");const{bridgeDir:i}=this.getVaultAwarePaths();Ge.join(i,"sync.py");let s=[];Array.isArray(e.notes)&&e.notes.length>0?s=e.notes:Array.isArray(e.notesPaths)&&e.notesPaths.length>0?s=e.notesPaths:typeof e.notes=="string"&&(s=[e.notes]);const r=f=>new Promise(b=>{var c,v,w,_;try{const{pluginDir:C}=this.getVaultAwarePaths(),E=this.getPythonExecutable(),M=this.getPythonEnv();this.pythonProcess=Nt.spawn(E,["-m","graphiti_bridge.sync","--vault-path",f.vault_path,"--plugin-data-path",C],{cwd:C,stdio:["pipe","pipe","pipe"],env:M}),this.activeProcesses.add(this.pythonProcess),(c=this.pythonProcess.stdin)==null||c.write(JSON.stringify(f)),(v=this.pythonProcess.stdin)==null||v.end();let x="",N="";(w=this.pythonProcess.stdout)==null||w.on("data",D=>{const A=D.toString();x+=A,this.settings.enableDebugLogging&&this.logger.logPythonOutput("stdout",A)}),(_=this.pythonProcess.stderr)==null||_.on("data",D=>{const A=D.toString();N+=A,this.logger.logPythonOutput("stderr",A)}),this.pythonProcess.on("close",D=>{if(this.activeProcesses.delete(this.pythonProcess),this.pythonProcess=null,D===0)try{const A=JSON.parse(x.trim());if(A._diagnostics&&Array.isArray(A._diagnostics))for(const I of A._diagnostics)this.logger.info(`[PYTHON-DIAGNOSTICS] ${I}`);b({success:!0,result:A,stdout:x,stderr:N,exitCode:D})}catch(A){b({success:!1,stdout:x,stderr:N||String(A),exitCode:D})}else b({success:!1,stdout:x,stderr:N,exitCode:D})}),this.pythonProcess.on("error",D=>{this.pythonProcess&&this.activeProcesses.delete(this.pythonProcess),this.pythonProcess=null,b({success:!1,stdout:void 0,stderr:D.message,exitCode:-1})})}catch(C){this.pythonProcess=null,b({success:!1,stdout:void 0,stderr:C instanceof Error?C.message:String(C),exitCode:-1})}});if(s.length<=1){const f=s.length===1?s[0]:Array.isArray(e.notes)&&e.notes.length>0?e.notes[0]:void 0;let b;if(f)try{b=await this.syncRegistryService.generateGroupId(f,this.plugin.app.vault.getName())}catch{}const c={...e,...b?{group_id:b}:{},notes:s.length===1?s:e.notes},v=await r(c);if(v.success&&v.result){if(v.result.status==="rate_limited"){const w=v.result.retry_after||60,_=v.result.reset_time,C=v.result.provider_message||"API rate limit exceeded";let E="Rate limit exceeded - sync paused";if(_){const M=new Date(_);E+=` until ${M.toLocaleString()}`}else E+=` for ${Math.round(w/60)} minutes`;return this.logger.warn("Rate limit detected in single sync - pausing",{retryAfter:w,resetTime:_,providerMessage:C,pauseMessage:E}),{status:"error",processed:0,skipped:1,total:1,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:E}}return v.result}else{const w=`Python sync failed${v.exitCode!==void 0?` with exit code ${v.exitCode}`:""}: ${v.stderr||v.stdout||"Unknown error"}`,_=v.stderr?v.stderr.split(`
`)[0]:"Unknown error";return this.logger.error("Python sync process failed",{exitCode:v.exitCode,stderr:_,stderrLength:v.stderr?v.stderr.length:0}),{status:"error",processed:0,skipped:s.length||1,total:s.length||1,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:w}}}let o=0,a=0,l=0,d=0;const p=[],g=[];for(let f=0;f<s.length;f++){if(this.isCancelled)return this.logger.info("[CANCEL] Sequential sync cancelled by user"),{status:"error",processed:o,skipped:a+(s.length-f),total:s.length,batchCount:s.length,nodeTypesLoaded:l,edgeTypesLoaded:d,errors:[...p,"Sync cancelled by user"],hasErrors:!0,notes:g};const b=s[f];t==null||t({current:f,total:s.length,message:`Processing note ${f+1}/${s.length}: ${b}`,percentage:f/s.length*100});let c;try{c=await this.syncRegistryService.generateGroupId(b,this.plugin.app.vault.getName())}catch{}const v={...e,...c?{group_id:c}:{},notes:[b],batch_size:1,notesPaths:[b]},w=await r(v);if(w.success&&w.result){const _=w.result;if(_.status==="rate_limited"){a++;const C=_.retry_after||60,E=_.reset_time,M=_.provider_message||"API rate limit exceeded";let x="Rate limit exceeded - sync paused";if(E){const D=new Date(E);x+=` until ${D.toLocaleString()}`}else x+=` for ${Math.round(C/60)} minutes`;p.push(`Note ${b}: ${x}`),this.logger.warn("Rate limit detected - sync pausing",{note:b,retryAfter:C,resetTime:E,providerMessage:M,pauseMessage:x}),t==null||t({current:f,total:s.length,message:x,percentage:f/s.length*100}),g.push(_);const N=C>300?3e4:Math.min(C*1e3,1e4);await new Promise(D=>setTimeout(D,N)),t==null||t({current:f,total:s.length,message:"Resuming sync after rate limit pause...",percentage:f/s.length*100})}else _.status==="success"?o++:(a++,p.push(`Note ${b}: ${_.message||"failed"}`));typeof _.nodeTypesLoaded=="number"&&(l+=_.nodeTypesLoaded),typeof _.edgeTypesLoaded=="number"&&(d+=_.edgeTypesLoaded),g.push(_)}else{a++;const _=`Python sync failed for note ${b} (exitCode=${w.exitCode}): ${w.stderr||w.stdout||""}`;p.push(_);const C=w.stderr?w.stderr.split(`
`)[0]:"Unknown error";this.logger.error("Python sync failed for note",{note:b,exitCode:w.exitCode,stderr:C,stderrLength:w.stderr?w.stderr.length:0})}t==null||t({current:f+1,total:s.length,message:`Completed ${b}`,percentage:(f+1)/s.length*100}),await new Promise(_=>setTimeout(_,500))}return{status:o>0?"success":"error",processed:o,skipped:a,total:s.length,batchCount:s.length,nodeTypesLoaded:l,edgeTypesLoaded:d,errors:p,hasErrors:p.length>0,notes:g}}async executeDaemonSync(e,t){const i=this.plugin.pythonDaemonBridge;if(!i)return this.logger.error("Daemon bridge not available, falling back to traditional sync"),await this.executeTraditionalSync(e,t);let s=[];Array.isArray(e.notes)&&e.notes.length>0?s=e.notes:Array.isArray(e.notesPaths)&&e.notesPaths.length>0?s=e.notesPaths:typeof e.notes=="string"&&(s=[e.notes]);try{if(s.length<=1){const r=await i.executeDaemonSync(e);return this.parseDaemonSyncResult(r)}else{let r=0,o=0,a=0,l=0;const d=[],p=[];for(let m=0;m<s.length;m++){if(this.isCancelled)return{status:"error",processed:r,skipped:o+(s.length-m),total:s.length,batchCount:s.length,nodeTypesLoaded:a,edgeTypesLoaded:l,errors:[...d,"Sync cancelled by user"],hasErrors:!0,notes:p};const f=s[m];t==null||t({current:m,total:s.length,message:`Processing note ${m+1}/${s.length}: ${f}`,percentage:m/s.length*100});const b={...e,notes:[f],batch_size:1,notesPaths:[f]};try{const c=await i.executeDaemonSync(b),v=this.parseDaemonSyncResult(c);v.status==="success"?r++:(o++,d.push(`Note ${f}: ${v.message||"failed"}`)),typeof v.nodeTypesLoaded=="number"&&(a+=v.nodeTypesLoaded),typeof v.edgeTypesLoaded=="number"&&(l+=v.edgeTypesLoaded),p.push(v)}catch(c){o++;const v=`Daemon sync failed for note ${f}: ${c instanceof Error?c.message:String(c)}`;d.push(v),this.logger.error("Daemon sync failed for note",{note:f,error:c})}t==null||t({current:m+1,total:s.length,message:`Completed ${f}`,percentage:(m+1)/s.length*100}),await new Promise(c=>setTimeout(c,500))}return{status:r>0?"success":"error",processed:r,skipped:o,total:s.length,batchCount:s.length,nodeTypesLoaded:a,edgeTypesLoaded:l,errors:d,hasErrors:d.length>0,notes:p}}}catch(r){return this.logger.error("Daemon sync failed, falling back to traditional sync",r),await this.executeTraditionalSync(e,t)}}parseDaemonSyncResult(e){if(typeof e=="string")try{e=JSON.parse(e)}catch{return{status:"error",processed:0,skipped:1,total:1,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:"Failed to parse daemon result"}}return{status:e.status||"error",processed:e.status==="success"?1:0,skipped:e.status==="success"?0:1,total:1,batchCount:1,nodeTypesLoaded:e.nodeTypesLoaded||0,edgeTypesLoaded:e.edgeTypesLoaded||0,message:e.message,notes:[e]}}async executeTraditionalSync(e,t){const{bridgeDir:i}=this.getVaultAwarePaths();Ge.join(i,"sync.py");let s=[];Array.isArray(e.notes)&&e.notes.length>0?s=e.notes:Array.isArray(e.notesPaths)&&e.notesPaths.length>0?s=e.notesPaths:typeof e.notes=="string"&&(s=[e.notes]);const r=f=>new Promise(b=>{var c,v,w,_;try{const{pluginDir:C}=this.getVaultAwarePaths(),E=this.getPythonExecutable(),M=this.getPythonEnv();this.pythonProcess=Nt.spawn(E,["-m","graphiti_bridge.sync","--vault-path",f.vault_path,"--plugin-data-path",C],{cwd:C,stdio:["pipe","pipe","pipe"],env:M}),this.activeProcesses.add(this.pythonProcess),(c=this.pythonProcess.stdin)==null||c.write(JSON.stringify(f)),(v=this.pythonProcess.stdin)==null||v.end();let x="",N="";(w=this.pythonProcess.stdout)==null||w.on("data",D=>{const A=D.toString();x+=A,this.settings.enableDebugLogging&&this.logger.logPythonOutput("stdout",A)}),(_=this.pythonProcess.stderr)==null||_.on("data",D=>{const A=D.toString();N+=A,this.logger.logPythonOutput("stderr",A)}),this.pythonProcess.on("close",D=>{if(this.activeProcesses.delete(this.pythonProcess),this.pythonProcess=null,D===0)try{const A=JSON.parse(x.trim());if(A._diagnostics&&Array.isArray(A._diagnostics))for(const I of A._diagnostics)this.logger.info(`[PYTHON-DIAGNOSTICS] ${I}`);b({success:!0,result:A,stdout:x,stderr:N,exitCode:D})}catch(A){b({success:!1,stdout:x,stderr:N||String(A),exitCode:D})}else b({success:!1,stdout:x,stderr:N,exitCode:D})}),this.pythonProcess.on("error",D=>{this.pythonProcess&&this.activeProcesses.delete(this.pythonProcess),this.pythonProcess=null,b({success:!1,stdout:void 0,stderr:D.message,exitCode:-1})})}catch(C){this.pythonProcess=null,b({success:!1,stdout:void 0,stderr:C instanceof Error?C.message:String(C),exitCode:-1})}});if(s.length<=1){const f=s.length===1?s[0]:Array.isArray(e.notes)&&e.notes.length>0?e.notes[0]:void 0;let b;if(f)try{b=await this.syncRegistryService.generateGroupId(f,this.plugin.app.vault.getName())}catch{}const c={...e,...b?{group_id:b}:{},notes:s.length===1?s:e.notes},v=await r(c);if(v.success&&v.result){if(v.result.status==="rate_limited"){const w=v.result.retry_after||60,_=v.result.reset_time,C=v.result.provider_message||"API rate limit exceeded";let E="Rate limit exceeded - sync paused";if(_){const M=new Date(_);E+=` until ${M.toLocaleString()}`}else E+=` for ${Math.round(w/60)} minutes`;return this.logger.warn("Rate limit detected in single sync - pausing",{retryAfter:w,resetTime:_,providerMessage:C,pauseMessage:E}),{status:"error",processed:0,skipped:1,total:1,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:E}}return v.result}else{const w=`Python sync failed${v.exitCode!==void 0?` with exit code ${v.exitCode}`:""}: ${v.stderr||v.stdout||"Unknown error"}`,_=v.stderr?v.stderr.split(`
`)[0]:"Unknown error";return this.logger.error("Python sync process failed",{exitCode:v.exitCode,stderr:_,stderrLength:v.stderr?v.stderr.length:0}),{status:"error",processed:0,skipped:s.length||1,total:s.length||1,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:w}}}let o=0,a=0,l=0,d=0;const p=[],g=[];for(let f=0;f<s.length;f++){if(this.isCancelled)return this.logger.info("[CANCEL] Sequential sync cancelled by user"),{status:"error",processed:o,skipped:a+(s.length-f),total:s.length,batchCount:s.length,nodeTypesLoaded:l,edgeTypesLoaded:d,errors:[...p,"Sync cancelled by user"],hasErrors:!0,notes:g};const b=s[f];t==null||t({current:f,total:s.length,message:`Processing note ${f+1}/${s.length}: ${b}`,percentage:f/s.length*100});let c;try{c=await this.syncRegistryService.generateGroupId(b,this.plugin.app.vault.getName())}catch{}const v={...e,...c?{group_id:c}:{},notes:[b],batch_size:1,notesPaths:[b]},w=await r(v);if(w.success&&w.result){const _=w.result;if(_.status==="rate_limited"){a++;const C=_.retry_after||60,E=_.reset_time,M=_.provider_message||"API rate limit exceeded";let x="Rate limit exceeded - sync paused";if(E){const D=new Date(E);x+=` until ${D.toLocaleString()}`}else x+=` for ${Math.round(C/60)} minutes`;p.push(`Note ${b}: ${x}`),this.logger.warn("Rate limit detected - sync pausing",{note:b,retryAfter:C,resetTime:E,providerMessage:M,pauseMessage:x}),t==null||t({current:f,total:s.length,message:x,percentage:f/s.length*100}),g.push(_);const N=C>300?3e4:Math.min(C*1e3,1e4);await new Promise(D=>setTimeout(D,N)),t==null||t({current:f,total:s.length,message:"Resuming sync after rate limit pause...",percentage:f/s.length*100})}else _.status==="success"?o++:(a++,p.push(`Note ${b}: ${_.message||"failed"}`));typeof _.nodeTypesLoaded=="number"&&(l+=_.nodeTypesLoaded),typeof _.edgeTypesLoaded=="number"&&(d+=_.edgeTypesLoaded),g.push(_)}else{a++;const _=`Python sync failed for note ${b} (exitCode=${w.exitCode}): ${w.stderr||w.stdout||""}`;p.push(_);const C=w.stderr?w.stderr.split(`
`)[0]:"Unknown error";this.logger.error("Python sync failed for note",{note:b,exitCode:w.exitCode,stderr:C,stderrLength:w.stderr?w.stderr.length:0})}t==null||t({current:f+1,total:s.length,message:`Completed ${b}`,percentage:(f+1)/s.length*100}),await new Promise(_=>setTimeout(_,500))}return{status:o>0?"success":"error",processed:o,skipped:a,total:s.length,batchCount:s.length,nodeTypesLoaded:l,edgeTypesLoaded:d,errors:p,hasErrors:p.length>0,notes:g}}async executePythonCommand(e){return new Promise(t=>{var l,d;const i=this.getPythonExecutable(),s=this.getPythonEnv(),r=Nt.spawn(i,e,{stdio:["pipe","pipe","pipe"],env:s});let o="",a="";(l=r.stdout)==null||l.on("data",p=>{o+=p.toString()}),(d=r.stderr)==null||d.on("data",p=>{a+=p.toString()}),r.on("close",p=>{t({success:p===0,output:o.trim(),error:a.trim()})}),r.on("error",p=>{t({success:!1,error:p.message})})})}async executePythonConnectionTest(e,t){return new Promise(i=>{var s,r;try{const{pluginDir:o,bridgeDir:a}=this.getVaultAwarePaths(),l=Ge.join(a,"test_connections.py");if(!require("fs").existsSync(l)){i({success:!1,message:`Test script not found at: ${l}`});return}this.logger.info("Executing connection test",{testType:e});const p=this.getPythonExecutable(),g=this.getPythonEnv(),m=Nt.spawn(p,["-m","graphiti_bridge.test_connections","--test-type",e,"--config",JSON.stringify(t)],{cwd:o,stdio:["pipe","pipe","pipe"],env:g});let f="",b="";(s=m.stdout)==null||s.on("data",c=>{const v=c.toString();f+=v,this.logger.logPythonOutput("stdout",v)}),(r=m.stderr)==null||r.on("data",c=>{const v=c.toString();b+=v,this.logger.logPythonOutput("stderr",v)}),m.on("close",c=>{if(this.logger.debug("Connection test process completed",{exitCode:c}),c===0)try{const v=JSON.parse(f.trim()),w={success:v.success,message:v.message,latency:v.latency};v.cross_encoder&&(w.cross_encoder=v.cross_encoder),i(w)}catch(v){this.logger.error("Failed to parse connection test result",v),i({success:!1,message:`Failed to parse test result: ${f||b}`})}else this.logger.error("Connection test failed",{exitCode:c,stderr:b,stdout:f}),i({success:!1,message:`Connection test failed (exit code ${c}): ${b||f||"Unknown error"}`})}),m.on("error",c=>{this.logger.error("Failed to start connection test process",c);let v=c.message;c.message.includes("ENOENT")&&(v="Python not found. Please ensure Python 3.10+ is installed and in your PATH."),i({success:!1,message:`Failed to start connection test: ${v}`})})}catch(o){this.logger.error("Connection test exception",o),i({success:!1,message:`Connection test error: ${o instanceof Error?o.message:String(o)}`})}})}async testDatabaseConnection(){var e;try{const t={database_type:this.settings.databaseType,...this.prepareDatabaseConfig()},i=this.getDatabaseConfig();return this.logger.debug("Testing database connection",{databaseType:this.settings.databaseType,databaseConfig:i,hasPassword:!!(i!=null&&i.password),passwordLength:((e=i==null?void 0:i.password)==null?void 0:e.length)||0}),await this.executePythonConnectionTest("database",t)}catch(t){return this.logger.error("Database connection test error",t),{success:!1,message:`Database test error: ${t instanceof Error?t.message:String(t)}`}}}async testLLMConnection(){try{const e={llm_provider:this.settings.llmProvider,api_keys:this.settings.apiKeys,llm_model:this.settings.llmModel,azure_endpoint:this.settings.azureEndpoint,azure_api_version:this.settings.azureApiVersion,ollama_base_url:this.settings.ollamaBaseUrl,database_type:this.settings.databaseType,...this.prepareDatabaseConfig()};return this.logger.debug("Testing LLM connection",{llmProvider:this.settings.llmProvider,hasApiKeys:Object.keys(this.settings.apiKeys).length>0,sanitizedConfig:this.sanitizeConfigForLogging(e)}),await this.executePythonConnectionTest("llm",e)}catch(e){return this.logger.error("LLM connection test error",e),{success:!1,message:`LLM test error: ${e instanceof Error?e.message:String(e)}`}}}async testEmbeddingConnection(){try{const e={embedder_provider:this.settings.embedderProvider,api_keys:this.settings.apiKeys,embedding_model:this.settings.embeddingModel,database_type:this.settings.databaseType,...this.prepareDatabaseConfig()};return this.logger.debug("Testing embedding connection",{embedderProvider:this.settings.embedderProvider,embeddingModel:this.settings.embeddingModel,hasApiKeys:Object.keys(this.settings.apiKeys).length>0,sanitizedConfig:this.sanitizeConfigForLogging(e)}),await this.executePythonConnectionTest("embedding",e)}catch(e){return this.logger.error("Embedding connection test error",e),{success:!1,message:`Embedding test error: ${e instanceof Error?e.message:String(e)}`}}}async testEmbeddingWithDimensions(){try{const e={embedder_provider:this.settings.embedderProvider,api_keys:this.settings.apiKeys,embedding_model:this.settings.embeddingModel,database_type:this.settings.databaseType,...this.prepareDatabaseConfig()};return this.logger.debug("Testing embedding connection with dimensions",{embedderProvider:this.settings.embedderProvider,embeddingModel:this.settings.embeddingModel,hasApiKeys:Object.keys(this.settings.apiKeys).length>0,sanitizedConfig:this.sanitizeConfigForLogging(e)}),await this.executePythonConnectionTest("embedding-test",e)}catch(e){return this.logger.error("Enhanced embedding connection test error",e),{success:!1,message:`Enhanced embedding test error: ${e instanceof Error?e.message:String(e)}`}}}async testProviderCombination(){try{const e={llm_provider:this.settings.llmProvider,llm_model:this.settings.llmModel,azure_endpoint:this.settings.azureEndpoint,azure_api_version:this.settings.azureApiVersion,ollama_base_url:this.settings.ollamaBaseUrl,embedder_provider:this.settings.embedderProvider,embedding_model:this.settings.embeddingModel,api_keys:this.settings.apiKeys,database_type:this.settings.databaseType,...this.prepareDatabaseConfig()};return this.logger.debug("Testing provider combination",{llmProvider:this.settings.llmProvider,embedderProvider:this.settings.embedderProvider,llmModel:this.settings.llmModel,embeddingModel:this.settings.embeddingModel,hasApiKeys:Object.keys(this.settings.apiKeys).length>0,sanitizedConfig:this.sanitizeConfigForLogging(e)}),await this.executePythonConnectionTest("combination",e)}catch(e){return this.logger.error("Provider combination test error",e),{success:!1,message:`Provider combination test error: ${e instanceof Error?e.message:String(e)}`}}}async testFullPipeline(){try{const e={llm_provider:this.settings.llmProvider,api_keys:this.settings.apiKeys,llm_model:this.settings.llmModel,azure_endpoint:this.settings.azureEndpoint,azure_api_version:this.settings.azureApiVersion,ollama_base_url:this.settings.ollamaBaseUrl,embedder_provider:this.settings.embedderProvider,embedding_model:this.settings.embeddingModel,cross_encoder_client:this.settings.crossEncoderClient||"none",cross_encoder_model:this.settings.crossEncoderClient==="bge"||this.settings.crossEncoderClient==="none"?void 0:this.settings.crossEncoderModel,database_type:this.settings.databaseType,...this.prepareDatabaseConfig()};return this.logger.debug("Testing full LLM + embedding pipeline",{llmProvider:this.settings.llmProvider,embedderProvider:this.settings.embedderProvider,llmModel:this.settings.llmModel,embeddingModel:this.settings.embeddingModel,hasApiKeys:Object.keys(this.settings.apiKeys).length>0,sanitizedConfig:this.sanitizeConfigForLogging(e)}),await this.executePythonConnectionTest("combination-pipeline",e)}catch(e){return this.logger.error("Full pipeline test error",e),{success:!1,message:`Pipeline test error: ${e instanceof Error?e.message:String(e)}`}}}async validateAPIKeys(){try{const e=[],t=[],i=this.getApiKeyForProvider(this.settings.llmProvider);if(this.settings.llmProvider==="ollama"?e.push(`${this.settings.llmProvider}: Local provider (no API key required)`):i?i.length<10?t.push(`API key for ${this.settings.llmProvider} appears too short (${i.length} chars)`):e.push(`${this.settings.llmProvider}: API key present (${i.length} chars)`):t.push(`Missing API key for LLM provider: ${this.settings.llmProvider}`),this.settings.embedderProvider!==this.settings.llmProvider){const s=this.getApiKeyForProvider(this.settings.embedderProvider);this.settings.embedderProvider==="ollama"?e.push(`${this.settings.embedderProvider}: Local provider (no API key required)`):s?s.length<10?t.push(`API key for ${this.settings.embedderProvider} appears too short (${s.length} chars)`):e.push(`${this.settings.embedderProvider}: API key present (${s.length} chars)`):t.push(`Missing API key for embedder provider: ${this.settings.embedderProvider}`)}return t.length>0?(this.logger.error("API key validation failed",{errors:t,validationResults:e}),{success:!1,message:`Validation failed: ${t.join(", ")}`}):(this.logger.info("API key validation successful",{validationResults:e}),{success:!0,message:`All API keys valid: ${e.join(", ")}`})}catch(e){return this.logger.error("API key validation error",e),{success:!1,message:`Validation error: ${e instanceof Error?e.message:String(e)}`}}}async initializeDatabaseSchema(){try{const e={database_type:this.settings.databaseType,...this.prepareDatabaseConfig(),llm_provider:this.settings.llmProvider,api_keys:this.settings.apiKeys,llm_model:this.settings.llmModel,azure_endpoint:this.settings.azureEndpoint,azure_api_version:this.settings.azureApiVersion,ollama_base_url:this.settings.ollamaBaseUrl},t=this.getDatabaseConfig();return this.logger.info("Initializing database schema",{databaseType:this.settings.databaseType,databaseConfig:t,llmProvider:this.settings.llmProvider}),await this.executePythonSchemaInitialization(e)}catch(e){return this.logger.error("Database schema initialization error",e),{success:!1,message:`Schema initialization error: ${e instanceof Error?e.message:String(e)}`}}}async executePythonSchemaInitialization(e){return new Promise(t=>{var i,s;try{const{pluginDir:r,bridgeDir:o}=this.getVaultAwarePaths(),a=Ge.join(o,"test_connections.py");if(!require("fs").existsSync(a)){t({success:!1,message:`Test script not found at: ${a}`});return}this.logger.info("Executing schema initialization");const d=this.getPythonExecutable(),p=this.getPythonEnv(),g=Nt.spawn(d,["-m","graphiti_bridge.test_connections","--test-type","schema-init","--config",JSON.stringify(e)],{cwd:r,stdio:["pipe","pipe","pipe"],env:p});let m="",f="";(i=g.stdout)==null||i.on("data",b=>{const c=b.toString();m+=c,this.logger.logPythonOutput("stdout",c)}),(s=g.stderr)==null||s.on("data",b=>{const c=b.toString();f+=c,this.logger.logPythonOutput("stderr",c)}),g.on("close",b=>{if(this.logger.debug("Schema initialization process completed",{exitCode:b}),b===0)try{const c=JSON.parse(m.trim());t({success:c.success,message:c.message})}catch(c){this.logger.error("Failed to parse schema initialization result",c),t({success:!1,message:`Failed to parse initialization result: ${m||f}`})}else this.logger.error("Schema initialization failed",{exitCode:b,stderr:f,stdout:m}),t({success:!1,message:`Schema initialization failed (exit code ${b}): ${f||m||"Unknown error"}`})}),g.on("error",b=>{this.logger.error("Failed to start schema initialization process",b);let c=b.message;b.message.includes("ENOENT")&&(c="Python not found. Please ensure Python 3.10+ is installed and in your PATH."),t({success:!1,message:`Failed to start schema initialization: ${c}`})})}catch(r){this.logger.error("Schema initialization exception",r),t({success:!1,message:`Schema initialization error: ${r instanceof Error?r.message:String(r)}`})}})}async testManualSync(e,t="obsidian_mm_individual"){var s;const i=Date.now();try{this.logger.info(`Starting manual sync test for file: ${e}, Source: ${t}`);try{const _=this.settings.embeddingModel,C=this.getCurrentEmbeddingDimensions(),E=await this.vaultRegistryService.hasEmbeddingModelChanged(_,C);if(E){const M=await this.vaultRegistryService.getEmbeddingModelMismatchDetails(_,C);this.logger.warn("[TEST_SYNC] Embedding model change detected before test sync",{hasChanged:E,storedModel:M==null?void 0:M.storedModel,storedDimensions:M==null?void 0:M.storedDimensions,currentModel:_,currentDimensions:C,noteFile:e});const x=`Embedding model changed from ${(M==null?void 0:M.storedModel)||"unknown"} to ${_}. This may affect vector similarity in your knowledge graph.`;new P.Notice(x,8e3)}}catch(_){this.logger.debug("[TEST_SYNC] Failed to validate embedding model (test sync continues)",{error:_,noteFile:e})}if(!require("fs").existsSync(e))throw new Error(`Note file not found: ${e}`);const o={notesPaths:[e],batchSize:1,debug:this.settings.enableDebugLogging,source_description:t,crossEncoderClient:this.settings.crossEncoderClient,crossEncoderModel:this.settings.crossEncoderModel,use_custom_ontology:this.settings.useCustomOntology},a=await this.syncNotes(o,_=>{this.logger.debug("Manual sync progress",_),new P.Notice(`Manual sync: ${_.message} (${_.percentage.toFixed(1)}%)`)},t),l=a.processing_duration_seconds??(a.notes&&Array.isArray(a.notes)&&((s=a.notes[0])==null?void 0:s.processing_duration_seconds))??Math.round((Date.now()-i)/1e3),d=1,p=0,g=1,m=1,f=a!=null&&a.notes&&Array.isArray(a.notes)?a.notes[0]:null,b=a.note_name||(f==null?void 0:f.note_name)||"unknown",c=await this.syncRegistryService.generateGroupId(e,this.plugin.app.vault.getName()),v=a.episode_uuid||(f==null?void 0:f.episode_uuid)||"unknown",w=a.status||(f==null?void 0:f.status)||"unknown";return this.logger.info(`ManualSyncResult: note_name:${b}, status: ${w}, processed: ${d}, skipped: ${p}, total: ${g}, batches: ${m}, processed_in: ${l}s, group_id: ${c}, uuid: ${v}, source_description: ${t}`),a}catch(r){return this.logger.error("[ERROR] Manual sync test failed",r),{status:"error",processed:0,skipped:0,total:1,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:r instanceof Error?r.message:String(r)}}}getPlugin(){return typeof window.app<"u"?window.app.plugins.plugins["megamem-mcp"]:null}async addEntityDefinition(e,t){const i=this.getPlugin();if(!(i!=null&&i.settings))throw new Error("Plugin settings not available");i.settings.entityDescriptions||(i.settings.entityDescriptions={}),i.settings.entityDescriptions[e]={className:e.replace(/\s+/g,"").replace(/[^a-zA-Z0-9]/g,""),description:t,isUserDefined:!0,source:"user",lastModified:new Date().toISOString()},await i.saveSettings(),this.logger.info("Added entity definition",{entityName:e})}async removeEntityDefinition(e){var i;const t=this.getPlugin();(i=t==null?void 0:t.settings)!=null&&i.entityDescriptions&&(delete t.settings.entityDescriptions[e],await t.saveSettings(),this.logger.info("Removed entity definition",{entityName:e}))}async updateEntityDescription(e,t){var s,r;const i=this.getPlugin();if(!((r=(s=i==null?void 0:i.settings)==null?void 0:s.entityDescriptions)!=null&&r[e]))throw new Error(`Entity ${e} not found`);i.settings.entityDescriptions[e]={...i.settings.entityDescriptions[e],description:t,lastModified:new Date().toISOString()},await i.saveSettings(),this.logger.info("Updated entity description",{entityName:e})}async addPropertyDefinition(e,t,i){const s=this.getPlugin();if(!(s!=null&&s.settings))throw new Error("Plugin settings not available");s.settings.propertyDescriptions||(s.settings.propertyDescriptions={}),s.settings.propertyDescriptions[e]||(s.settings.propertyDescriptions[e]={}),s.settings.propertyDescriptions[e][t]={description:i,fieldType:"str",isUserDefined:!0,source:"user",lastModified:new Date().toISOString()},await s.saveSettings(),this.logger.info("Added property definition",{entityName:e,propertyName:t})}async removePropertyDefinition(e,t){var s,r;const i=this.getPlugin();(r=(s=i==null?void 0:i.settings)==null?void 0:s.propertyDescriptions)!=null&&r[e]&&(delete i.settings.propertyDescriptions[e][t],Object.keys(i.settings.propertyDescriptions[e]).length===0&&delete i.settings.propertyDescriptions[e],await i.saveSettings(),this.logger.info("Removed property definition",{entityName:e,propertyName:t}))}async updatePropertyDescription(e,t,i){var r,o,a;const s=this.getPlugin();if(!((a=(o=(r=s==null?void 0:s.settings)==null?void 0:r.propertyDescriptions)==null?void 0:o[e])!=null&&a[t]))throw new Error(`Property ${e}.${t} not found`);s.settings.propertyDescriptions[e][t]={...s.settings.propertyDescriptions[e][t],description:i,lastModified:new Date().toISOString()},await s.saveSettings(),this.logger.info("Updated property description",{entityName:e,propertyName:t})}async loadAllDefaultEntityDescriptions(){const e=this.getPlugin();if(!(e!=null&&e.settings))throw new Error("Plugin settings not available");e.settings.entityDescriptions||(e.settings.entityDescriptions={});const t=this.schemaService.getAvailableDefaultEntityTypes();let i=0,s=0;for(const r of t){const o=this.schemaService.getDefaultEntityDescription(r);if(o)if(e.settings.entityDescriptions[r]){const a=e.settings.entityDescriptions[r];a.source!=="user"&&(e.settings.entityDescriptions[r]={...a,description:o,source:"discovery",lastModified:new Date().toISOString()},s++)}else e.settings.entityDescriptions[r]={className:r.replace(/\s+/g,"").replace(/[^a-zA-Z0-9]/g,""),description:o,isUserDefined:!1,source:"discovery",lastModified:new Date().toISOString()},i++}await e.saveSettings(),this.logger.info("Loaded all default entity descriptions",{addedCount:i,updatedCount:s})}async loadAllDefaultPropertyDescriptions(){const e=this.getPlugin();if(!(e!=null&&e.settings))throw new Error("Plugin settings not available");e.settings.propertyDescriptions||(e.settings.propertyDescriptions={});let t=0,i=0;const s=await this.schemaService.discoverAllSchemas();for(const r of s){const o=r.typeName;e.settings.propertyDescriptions[o]||(e.settings.propertyDescriptions[o]={});for(const a of r.properties){const l=a.name,d=this.schemaService.getDefaultPropertyDescription(l);if(d)if(e.settings.propertyDescriptions[o][l]){const p=e.settings.propertyDescriptions[o][l];p.source!=="user"&&(e.settings.propertyDescriptions[o][l]={...p,description:d,source:"discovery",lastModified:new Date().toISOString()},i++)}else e.settings.propertyDescriptions[o][l]={description:d,fieldType:a.inferredType==="string"?"str":a.inferredType==="number"?"float":a.inferredType==="boolean"?"bool":a.inferredType==="date"?"datetime":a.inferredType==="array"?"List[str]":"str",isUserDefined:!1,source:"discovery",lastModified:new Date().toISOString()},t++}}await e.saveSettings(),this.logger.info("Loaded all default property descriptions",{addedCount:t,updatedCount:i})}async saveData(){const e=this.getPlugin();if(!(e!=null&&e.settings))throw new Error("Plugin settings not available");await e.saveSettings(),this.logger.info("Saved data to data.json")}logCacheMetrics(e){const t=yn.performance.now();if(t-this.lastCacheLogTime>5e3||(this.cacheHits+this.cacheMisses)%10===0){const r=this.cacheHits+this.cacheMisses,o=r>0?(this.cacheHits/r*100).toFixed(2):"0.00",a=this.pathCache.size,d=(a*200/1024).toFixed(2);this.logger.debug(`[CACHE_HEALTH] Vault: ${e}, Hits: ${this.cacheHits}, Misses: ${this.cacheMisses}, Hit Ratio: ${o}%, Cache Size: ${a} entries, Est. Memory: ${d} KB`),this.cacheHits=0,this.cacheMisses=0,this.lastCacheLogTime=t}}async generateWithLLM(e,t){return this.logger.info("LLM generation (stub)",{promptLength:e.length,hasSystemPrompt:!!t,provider:this.settings.llmProvider}),JSON.stringify({response:"Mock LLM response - backend integration pending",provider:this.settings.llmProvider,model:this.settings.llmModel,timestamp:new Date().toISOString()})}async startMcpServer(){try{if(this.mcpServerProcess&&!this.mcpServerProcess.killed)return{success:!1,message:"MCP server is already running",pid:this.mcpServerProcess.pid};const{pluginDir:e}=this.getVaultAwarePaths(),t=Ge.join(e,"mcp-server","megamem_mcp_server.py");if(!require("fs").existsSync(t))return{success:!1,message:`MCP server not found at: ${t}`};this.logger.info("Starting MCP server process",{mcpServerPath:t});const s=this.getPythonExecutable(),r=this.getPythonEnv();return this.mcpServerProcess=Nt.spawn(s,[t],{stdio:["pipe","pipe","pipe"],cwd:Ge.join(e,"mcp-server"),env:r}),new Promise(o=>{var l,d;const a=setTimeout(()=>{this.mcpServerProcess&&(this.mcpServerProcess.kill(),this.mcpServerProcess=null),o({success:!1,message:"MCP server startup timeout"})},1e4);this.mcpServerProcess.on("spawn",()=>{clearTimeout(a),this.logger.info("MCP server started successfully",{pid:this.mcpServerProcess.pid}),o({success:!0,message:"MCP server started successfully",pid:this.mcpServerProcess.pid})}),this.mcpServerProcess.on("error",p=>{clearTimeout(a),this.mcpServerProcess=null,this.logger.error("Failed to start MCP server",p),o({success:!1,message:`Failed to start MCP server: ${p.message}`})}),this.mcpServerProcess.on("exit",(p,g)=>{this.mcpServerProcess=null,this.logger.warn("MCP server process exited",{code:p,signal:g})}),(l=this.mcpServerProcess.stdout)==null||l.on("data",p=>{this.logger.debug("MCP server stdout",{output:p.toString().trim()})}),(d=this.mcpServerProcess.stderr)==null||d.on("data",p=>{this.logger.warn("MCP server stderr",{output:p.toString().trim()})})})}catch(e){return this.logger.error("Error starting MCP server",e),{success:!1,message:`Error starting MCP server: ${e instanceof Error?e.message:String(e)}`}}}async stopMcpServer(){try{if(!this.mcpServerProcess||this.mcpServerProcess.killed)return{success:!0,message:"MCP server is not running"};const e=this.mcpServerProcess.pid;return this.logger.info("Stopping MCP server process",{pid:e}),new Promise(t=>{var s;const i=setTimeout(()=>{this.mcpServerProcess&&!this.mcpServerProcess.killed&&(this.logger.warn("Force killing MCP server process"),this.mcpServerProcess.kill("SIGKILL"))},5e3);this.mcpServerProcess.on("exit",()=>{clearTimeout(i),this.mcpServerProcess=null,this.logger.info("MCP server stopped successfully"),t({success:!0,message:"MCP server stopped successfully"})}),(s=this.mcpServerProcess)==null||s.kill("SIGTERM")})}catch(e){return this.logger.error("Error stopping MCP server",e),{success:!1,message:`Error stopping MCP server: ${e instanceof Error?e.message:String(e)}`}}}isMcpServerRunning(){return this.mcpServerProcess!==null&&!this.mcpServerProcess.killed}getMcpServerStatus(){return this.mcpServerProcess?this.mcpServerProcess.killed?{running:!1,status:"stopped",message:"MCP server process was killed"}:{running:!0,pid:this.mcpServerProcess.pid,status:"running",message:`MCP server is running (PID: ${this.mcpServerProcess.pid})`}:{running:!1,status:"stopped",message:"MCP server is not running"}}generateClaudeDesktopConfig(){try{const{pluginDir:e}=this.getVaultAwarePaths(),t=Ge.join(e,"mcp-server","megamem_mcp_server.py"),i=Ge.join(e,"data.json"),s=require("fs");if(!s.existsSync(t))return{success:!1,message:`MCP server not found at: ${t}`};const r=this.pythonInstaller.getPythonExecutable(),a={megamem:{command:r&&s.existsSync(r)?r.replace(/\\/g,"/"):"python",args:[t.replace(/\\/g,"/")],env:{OBSIDIAN_CONFIG_PATH:i.replace(/\\/g,"/")}}},l=require("os"),d=require("path"),p=d.join(l.homedir(),"AppData","Roaming","Claude"),g=d.join(p,"claude_desktop_config.json");return{success:!0,config:a,message:"Claude Desktop configuration generated successfully",configPath:g}}catch(e){return this.logger.error("Error generating Claude Desktop config",e),{success:!1,message:`Error generating config: ${e instanceof Error?e.message:String(e)}`}}}}class qd{constructor(e,t,i,s){this.daemonProcess=null,this.commandQueue=[],this.isProcessing=!1,this.isShuttingDown=!1,this.startupPromise=null,this.plugin=e,this.settings=t,this.logger=i,this.vaultRegistry=s,this.pythonInstaller=new gn(e,this.getPluginDirectory(),{pythonPath:t.pythonPath})}async preloadDaemon(){return this.startDaemon()}async startDaemon(){if(!(this.daemonProcess&&!this.daemonProcess.killed))return this.startupPromise?this.startupPromise:(this.startupPromise=this._startDaemonInternal(),this.startupPromise)}async _startDaemonInternal(){return new Promise((e,t)=>{var i,s;try{const r=this.getPluginDirectory(),o=this.getBridgePath(),a=Ge.join(o,"sync_daemon.py"),l=require("fs");this.logger.debug("[DAEMON] Resolved paths",{pluginDir:r,bridgePath:o,daemonScript:a,exists:l.existsSync(a)}),this.logger.info("[DAEMON] Starting Python daemon process");const d=this.getPythonExecutable(),g={...this.getPythonEnv()};this.settings.logPerformance&&(g.GRAPHITI_LOG_PERFORMANCE="true"),this.daemonProcess=Nt.spawn(d,["-m","graphiti_bridge.sync_daemon"],{stdio:["pipe","pipe","pipe"],cwd:r,env:g});let m=!1;const f=setTimeout(()=>{m||(this.logger.error("[DAEMON] Startup timeout"),t(new Error("Daemon startup timeout")))},12e4);this.logger.debug("[DAEMON] Waiting up to 120s for daemon readiness"),(i=this.daemonProcess.stdout)==null||i.on("data",b=>{const c=b.toString().trim();this.logger.logPythonOutput("stdout",c),c.includes('"status": "ready"')&&!m&&(m=!0,clearTimeout(f),this.logger.info("[DAEMON] Process ready - BGE model loaded"),this.startupPromise=null,e())}),(s=this.daemonProcess.stderr)==null||s.on("data",b=>{const c=b.toString().trim();this.logger.logPythonOutput("stderr",c)}),this.daemonProcess.on("error",b=>{this.logger.error("[DAEMON] Process error:",b),this.startupPromise=null,m||(clearTimeout(f),t(b))}),this.daemonProcess.on("exit",(b,c)=>{this.logger.info(`[DAEMON] Process exited with code ${b}, signal ${c}`),this.daemonProcess=null,this.startupPromise=null,m||(clearTimeout(f),t(new Error(`Daemon process exited with code ${b}`)))})}catch(r){this.logger.error("[DAEMON] Failed to start process:",r),this.startupPromise=null,t(r)}})}async executeDaemonSync(e){try{await this.startDaemon();const i={command:"sync",config:{...e,logPerformance:this.settings.logPerformance}};return await this.executeCommand(i)}catch(t){throw this.logger.error("[DAEMON] Sync execution failed:",t),t}}async executeCommand(e){if(this.isShuttingDown)throw new Error("Daemon is shutting down");return new Promise((t,i)=>{const s=setTimeout(()=>{i(new Error("Command timeout - daemon may be unresponsive"))},6e5),r={command:e,resolve:o=>{clearTimeout(s),t(o)},reject:o=>{clearTimeout(s),i(o)},timeout:s};this.commandQueue.push(r),this.processQueue()})}async processQueue(){if(!(this.isProcessing||this.commandQueue.length===0)){for(this.isProcessing=!0;this.commandQueue.length>0&&!this.isShuttingDown;){const e=this.commandQueue.shift();try{const t=await this.sendCommandToDaemon(e.command);e.resolve(t)}catch(t){e.reject(t)}}this.isProcessing=!1}}async sendCommandToDaemon(e){const t=this.daemonProcess;if(!t||t.killed)throw new Error("Daemon process not available");return new Promise((i,s)=>{var d,p;let r="",o=!1;const a=g=>{var m;r+=g.toString();try{const f=r.split(`
`);for(const b of f)if(b.trim()&&!o){const c=JSON.parse(b.trim());o=!0,(m=t.stdout)==null||m.removeListener("data",a),i(c);return}}catch{}};(d=t.stdout)==null||d.on("data",a);const l=JSON.stringify(e)+`
`;(p=t.stdin)==null||p.write(l),setTimeout(()=>{var g;o||((g=t.stdout)==null||g.removeListener("data",a),s(new Error("Command response timeout")))},6e5)})}async shutdown(){var t;if(this.isShuttingDown)return;this.isShuttingDown=!0,this.logger.info("[DAEMON] Shutting down daemon process"),this.commandQueue.forEach(i=>{clearTimeout(i.timeout),i.reject(new Error("Daemon shutting down"))}),this.commandQueue=[];const e=this.daemonProcess;if(e&&!e.killed)try{const i={command:"shutdown"};(t=e.stdin)==null||t.write(JSON.stringify(i)+`
`),await new Promise(s=>setTimeout(s,2e3)),e&&!e.killed&&e.kill("SIGTERM")}catch(i){this.logger.error("[DAEMON] Error during shutdown:",i),e&&!e.killed&&e.kill("SIGKILL")}this.daemonProcess=null,this.isShuttingDown=!1,this.startupPromise=null}getBridgePath(){var o,a,l,d,p;const e=require("fs");let t=this.vaultRegistry.getActiveVault();if(t||(this.vaultRegistry.ensureActiveVault(),t=this.vaultRegistry.getActiveVault()),t!=null&&t.path){const g=Ge.join(t.path,".obsidian","plugins","megamem-mcp","graphiti_bridge");if(e.existsSync(Ge.join(g,"sync_daemon.py")))return this.logger.debug("[DAEMON] Using vault-aware bridge path",{path:g}),g}const i=((a=(o=this.plugin)==null?void 0:o.manifest)==null?void 0:a.dir)||"",s=((p=(d=(l=this.plugin.app)==null?void 0:l.vault)==null?void 0:d.adapter)==null?void 0:p.basePath)||"",r=s?Ge.join(s,i,"graphiti_bridge"):Ge.join(i,"graphiti_bridge");return this.logger.debug("[DAEMON] Using fallback bridge path",{path:r,vaultPath:(t==null?void 0:t.path)||"none",manifestDir:i,currentVaultPath:s}),r}getPluginDirectory(){var r,o,a,l,d;const e=require("fs");let t=this.vaultRegistry.getActiveVault();if(t||(this.vaultRegistry.ensureActiveVault(),t=this.vaultRegistry.getActiveVault()),t!=null&&t.path){const p=Ge.join(t.path,".obsidian","plugins","megamem-mcp");if(e.existsSync(p))return p}const i=((o=(r=this.plugin)==null?void 0:r.manifest)==null?void 0:o.dir)||"",s=((d=(l=(a=this.plugin.app)==null?void 0:a.vault)==null?void 0:l.adapter)==null?void 0:d.basePath)||"";return s?Ge.join(s,i):i}getPythonExecutable(){const t=this.pythonInstaller.getPythonEnv().PYTHON_EXECUTABLE;if(!t)throw new P.Notice("Python environment not configured. Please run Python installation from settings."),new Error("Python environment not configured");return t}getPythonEnv(){return this.pythonInstaller.getPythonEnv()}isRunning(){return!!(this.daemonProcess&&!this.daemonProcess.killed)}getStatus(){return{running:this.isRunning(),queueLength:this.commandQueue.length,processing:this.isProcessing}}}class Wd{constructor(e){this.plugin=e,this.settings=e.settings,this.logger=new Gt(e,this.settings.enableDebugLogging)}async generateEntityDescription(e,t){if(!this.validateAPIKey())throw new Error(`API key not configured for ${this.settings.llmProvider}`);const i="You are a knowledge graph schema designer. Generate a concise, clear description (1-2 sentences) for entity types.";let s=`Generate a description for the entity type "${e}".`;return t&&t.length>0&&(s+=`

Example instances:
${t.slice(0,3).join(`
`)}`),s+=`

Respond with only the description, no preamble.`,await this.callLLM(s,i)}async generatePropertyDescription(e,t,i){if(!this.validateAPIKey())throw new Error(`API key not configured for ${this.settings.llmProvider}`);const s="You are a knowledge graph schema designer. Generate concise descriptions (1 sentence) for entity properties.";let r=`Generate a description for the property "${t}" on entity type "${e}".`;return i&&i.length>0&&(r+=`

Example values:
${i.slice(0,5).join(`
`)}`),r+=`

Respond with only the description, no preamble.`,await this.callLLM(r,s)}async suggestEdgeTypes(e,t){if(!this.validateAPIKey())throw new Error(`API key not configured for ${this.settings.llmProvider}`);const i="You are a knowledge graph designer. Suggest edge types that could connect two entity types.",s=`Suggest 1-3 edge types from "${e}" to "${t}".

Respond with JSON only (no markdown):
[
  {"className": "EdgeName", "description": "Brief description", "confidence": 0.9}
]`,r=await this.callLLM(s,i);try{const o=r.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(o)}catch(o){return this.logger.error("Failed to parse edge type suggestions",o),[]}}async suggestEdgeMappings(e){if(!this.validateAPIKey())throw new Error(`API key not configured for ${this.settings.llmProvider}`);const t="You are a knowledge graph designer. Create relationship mappings between entity types.",i=`Create edge mappings for these entity types: ${e.join(", ")}.

Respond with JSON only (no markdown):
[
  {"source": "EntityA", "target": "EntityB", "edgeTypes": ["EdgeType1", "EdgeType2"]}
]`,s=await this.callLLM(i,t);try{const r=s.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(r)}catch(r){return this.logger.error("Failed to parse edge mappings",r),[]}}async generateCompleteOntology(e){if(!this.validateAPIKey())throw new Error(`API key not configured for ${this.settings.llmProvider}`);const t="You are a knowledge graph architect. Design complete ontologies with entities, properties, and relationships.",i=`Design a complete ontology for these entity types: ${e.join(", ")}.

For each entity, provide:
1. A description
2. Common properties with descriptions and field types (str, int, float, bool, datetime, List[str])
3. Edge types that connect entities
4. Entity-to-entity mappings

Respond with JSON only (no markdown):
{
  "entities": {
    "EntityName": {"description": "...", "confidence": 0.9}
  },
  "properties": {
    "EntityName": {
      "propertyName": {"description": "...", "fieldType": "str", "confidence": 0.9}
    }
  },
  "edgeTypes": {
    "EdgeTypeName": {"description": "...", "confidence": 0.9}
  },
  "mappings": [
    {"source": "Entity1", "target": "Entity2", "edgeTypes": ["EdgeType"]}
  ]
}`,s=await this.callLLM(i,t);try{const r=s.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(r)}catch(r){throw this.logger.error("Failed to parse complete ontology",r),new Error("Failed to generate ontology: Invalid LLM response format")}}async callLLM(e,t){const i=this.settings.llmProvider,s=this.settings.llmModel,r=i==="ollama"?"":this.settings.apiKeys[i]||"";if(!r&&i!=="ollama")throw new Error(`No API key configured for ${i}`);this.logger.debug("Calling LLM",{provider:i,model:s});const o=[];t&&o.push({role:"system",content:t}),o.push({role:"user",content:e});try{switch(i){case"openai":return await this.callOpenAI(o,s,r);case"anthropic":return await this.callAnthropic(o,s,r);case"google":return await this.callGoogle(o,s,r);case"ollama":return await this.callOllama(o,s);case"openrouter":return await this.callOpenRouter(o,s,r);default:throw new Error(`Unsupported LLM provider: ${i}`)}}catch(a){throw this.logger.error("LLM call failed",a),a}}async callOpenAI(e,t,i){const s=await P.requestUrl({url:"https://api.openai.com/v1/chat/completions",method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify({model:t,messages:e,temperature:.7,max_tokens:1e3})});if(s.status!==200)throw new Error(`OpenAI API error: ${s.status} ${s.text}`);return s.json.choices[0].message.content}async callAnthropic(e,t,i){const s=e.find(l=>l.role==="system"),r=e.filter(l=>l.role!=="system"),o=await P.requestUrl({url:"https://api.anthropic.com/v1/messages",method:"POST",headers:{"Content-Type":"application/json","x-api-key":i,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:t,max_tokens:1e3,system:s==null?void 0:s.content,messages:r})});if(o.status!==200)throw new Error(`Anthropic API error: ${o.status} ${o.text}`);return o.json.content[0].text}async callGoogle(e,t,i){const s=e.map(a=>({role:a.role==="user"?"user":"model",parts:[{text:a.content}]})),r=await P.requestUrl({url:`https://generativelanguage.googleapis.com/v1beta/models/${t}:generateContent?key=${i}`,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:s,generationConfig:{temperature:.7,maxOutputTokens:1e3}})});if(r.status!==200)throw new Error(`Google API error: ${r.status} ${r.text}`);return r.json.candidates[0].content.parts[0].text}async callOllama(e,t){const i=this.settings.ollamaBaseUrl||"http://localhost:11434",s=await P.requestUrl({url:`${i}/api/chat`,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:t,messages:e,stream:!1})});if(s.status!==200)throw new Error(`Ollama API error: ${s.status} ${s.text}`);return s.json.message.content}async callOpenRouter(e,t,i){const s=await P.requestUrl({url:"https://openrouter.ai/api/v1/chat/completions",method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`,"HTTP-Referer":"https://obsidian.md","X-Title":"Obsidian MegaMem"},body:JSON.stringify({model:t,messages:e,temperature:.7,max_tokens:1e3})});if(s.status!==200)throw new Error(`OpenRouter API error: ${s.status} ${s.text}`);return s.json.choices[0].message.content}validateAPIKey(){const e=this.settings.llmProvider;if(e==="ollama")return!0;const t=this.settings.apiKeys[e];return!!t&&t.length>0}async getSampleNotes(e,t=5){try{const i=this.plugin.app.vault.getMarkdownFiles(),s=[];for(const r of i){if(s.length>=t)break;if(e){const o=this.plugin.app.metadataCache.getFileCache(r),a=o==null?void 0:o.frontmatter;if((a==null?void 0:a.type)===e||(a==null?void 0:a.entity_type)===e){const l=await this.plugin.app.vault.read(r);s.push(l.substring(0,500))}}else{const o=await this.plugin.app.vault.read(r);s.push(o.substring(0,500))}}return this.logger.info("Extracted sample notes",{entityType:e,count:s.length}),s}catch(i){return this.logger.error("Failed to extract sample notes",i),[]}}updateSettings(e){this.settings=e,this.logger.setDebug(e.enableDebugLogging)}}function we(){}function Kd(n){return!!n&&(typeof n=="object"||typeof n=="function")&&typeof n.then=="function"}function lo(n){return n()}function Fi(){return Object.create(null)}function Je(n){n.forEach(lo)}function co(n){return typeof n=="function"}function ai(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function Hd(n){return Object.keys(n).length===0}function u(n,e){n.appendChild(e)}function z(n,e,t){n.insertBefore(e,t||null)}function j(n){n.parentNode&&n.parentNode.removeChild(n)}function Xe(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function y(n){return document.createElement(n)}function Tn(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function $(n){return document.createTextNode(n)}function k(){return $(" ")}function rn(){return $("")}function ne(n,e,t,i){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t,i)}function It(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function Jd(n){return function(e){e.target===this&&n.call(this,e)}}function h(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function Qd(n){let e;return{p(...t){e=t,e.forEach(i=>n.push(i))},r(){e.forEach(t=>n.splice(n.indexOf(t),1))}}}function Zd(n){return Array.from(n.childNodes)}function ae(n,e){e=""+e,n.data!==e&&(n.data=e)}function Ie(n,e){n.value=e??""}function Mn(n,e,t,i){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,i?"important":"")}function kt(n,e,t){for(let i=0;i<n.options.length;i+=1){const s=n.options[i];if(s.__value===e){s.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function on(n){const e=n.querySelector(":checked");return e&&e.__value}let fn;function At(n){fn=n}function li(){if(!fn)throw new Error("Function called outside component initialization");return fn}function ci(n){li().$$.on_mount.push(n)}function uo(n){li().$$.on_destroy.push(n)}const Zt=[],Zn=[];let nn=[];const $i=[],Xd=Promise.resolve();let Xn=!1;function eu(){Xn||(Xn=!0,Xd.then(di))}function jt(n){nn.push(n)}const jn=new Set;let Ht=0;function di(){if(Ht!==0)return;const n=fn;do{try{for(;Ht<Zt.length;){const e=Zt[Ht];Ht++,At(e),tu(e.$$)}}catch(e){throw Zt.length=0,Ht=0,e}for(At(null),Zt.length=0,Ht=0;Zn.length;)Zn.pop()();for(let e=0;e<nn.length;e+=1){const t=nn[e];jn.has(t)||(jn.add(t),t())}nn.length=0}while(Zt.length);for(;$i.length;)$i.pop()();Xn=!1,jn.clear(),At(n)}function tu(n){if(n.fragment!==null){n.update(),Je(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(jt)}}function nu(n){const e=[],t=[];nn.forEach(i=>n.indexOf(i)===-1?e.push(i):t.push(i)),t.forEach(i=>i()),nn=e}const wn=new Set;let Bt;function Ue(){Bt={r:0,c:[],p:Bt}}function je(){Bt.r||Je(Bt.c),Bt=Bt.p}function G(n,e){n&&n.i&&(wn.delete(n),n.i(e))}function Z(n,e,t,i){if(n&&n.o){if(wn.has(n))return;wn.add(n),Bt.c.push(()=>{wn.delete(n),i&&(t&&n.d(1),i())}),n.o(e)}else i&&i()}function Ui(n,e){const t=e.token={};function i(s,r,o,a){if(e.token!==t)return;e.resolved=a;let l=e.ctx;o!==void 0&&(l=l.slice(),l[o]=a);const d=s&&(e.current=s)(l);let p=!1;e.block&&(e.blocks?e.blocks.forEach((g,m)=>{m!==r&&g&&(Ue(),Z(g,1,1,()=>{e.blocks[m]===g&&(e.blocks[m]=null)}),je())}):e.block.d(1),d.c(),G(d,1),d.m(e.mount(),e.anchor),p=!0),e.block=d,e.blocks&&(e.blocks[r]=d),p&&di()}if(Kd(n)){const s=li();if(n.then(r=>{At(s),i(e.then,1,e.value,r),At(null)},r=>{if(At(s),i(e.catch,2,e.error,r),At(null),!e.hasCatch)throw r}),e.current!==e.pending)return i(e.pending,0),!0}else{if(e.current!==e.then)return i(e.then,1,e.value,n),!0;e.resolved=n}}function iu(n,e,t){const i=e.slice(),{resolved:s}=n;n.current===n.then&&(i[n.value]=s),n.current===n.catch&&(i[n.error]=s),n.block.p(i,t)}function xe(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Pe(n){n&&n.c()}function Ee(n,e,t){const{fragment:i,after_update:s}=n.$$;i&&i.m(e,t),jt(()=>{const r=n.$$.on_mount.map(lo).filter(co);n.$$.on_destroy?n.$$.on_destroy.push(...r):Je(r),n.$$.on_mount=[]}),s.forEach(jt)}function Ce(n,e){const t=n.$$;t.fragment!==null&&(nu(t.after_update),Je(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function su(n,e){n.$$.dirty[0]===-1&&(Zt.push(n),eu(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function ui(n,e,t,i,s,r,o=null,a=[-1]){const l=fn;At(n);const d=n.$$={fragment:null,ctx:[],props:r,update:we,not_equal:s,bound:Fi(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Fi(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};o&&o(d.root);let p=!1;if(d.ctx=t?t(n,e.props||{},(g,m,...f)=>{const b=f.length?f[0]:m;return d.ctx&&s(d.ctx[g],d.ctx[g]=b)&&(!d.skip_bound&&d.bound[g]&&d.bound[g](b),p&&su(n,g)),m}):[],d.update(),p=!0,Je(d.before_update),d.fragment=i?i(d.ctx):!1,e.target){if(e.hydrate){const g=Zd(e.target);d.fragment&&d.fragment.l(g),g.forEach(j)}else d.fragment&&d.fragment.c();e.intro&&G(n.$$.fragment),Ee(n,e.target,e.anchor),di()}At(l)}class pi{constructor(){Rn(this,"$$");Rn(this,"$$set")}$destroy(){Ce(this,1),this.$destroy=we}$on(e,t){if(!co(t))return we;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}$set(e){this.$$set&&!Hd(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ru="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ru);function ou(n){let e,t;return{c(){e=y("span"),h(e,"class",t="obsidian-icon inline-flex items-center justify-center "+n[3][n[0]]+" "+n[1]),h(e,"aria-hidden","true")},m(i,s){z(i,e,s),n[5](e)},p(i,[s]){s&3&&t!==(t="obsidian-icon inline-flex items-center justify-center "+i[3][i[0]]+" "+i[1])&&h(e,"class",t)},i:we,o:we,d(i){i&&j(e),n[5](null)}}}function au(n,e,t){let{icon:i}=e,{size:s="medium"}=e,{extraClasses:r=""}=e,o,a=null;const l={small:"w-3 h-3",medium:"w-4 h-4",large:"w-5 h-5",inherit:""};function d(){o&&i&&(P.setIcon(o,i),s==="inherit"?(t(2,o.style.width="1em",o),t(2,o.style.height="1em",o)):(t(2,o.style.width="",o),t(2,o.style.height="",o)))}ci(()=>{d(),a=new MutationObserver(g=>{g.forEach(m=>{m.type==="attributes"&&(m.attributeName==="class"||m.attributeName==="style")&&d()})}),o&&(a.observe(o,{attributes:!0}),o.parentElement&&a.observe(o.parentElement,{attributes:!0}))}),uo(()=>{a==null||a.disconnect()});function p(g){Zn[g?"unshift":"push"](()=>{o=g,t(2,o)})}return n.$$set=g=>{"icon"in g&&t(4,i=g.icon),"size"in g&&t(0,s=g.size),"extraClasses"in g&&t(1,r=g.extraClasses)},d(),[s,r,o,l,i,p]}class De extends pi{constructor(e){super(),ui(this,e,au,ou,ai,{icon:4,size:0,extraClasses:1})}}function ji(n,e,t){const i=n.slice();return i[205]=e[t],i}function zi(n,e,t){const i=n.slice();return i[208]=e[t],i}function Bi(n,e,t){const i=n.slice();return i[208]=e[t],i}function Vi(n,e,t){const i=n.slice();return i[213]=e[t],i}function Gi(n,e,t){const i=n.slice();return i[205]=e[t],i}function Yi(n,e,t){const i=n.slice();return i[218]=e[t],i[220]=t,i}function qi(n,e,t){const i=n.slice();return i[205]=e[t],i}function Wi(n,e,t){const i=n.slice();return i[205]=e[t],i}function Ki(n,e,t){const i=n.slice();return i[208]=e[t],i}function Hi(n,e,t){const i=n.slice();return i[208]=e[t],i}function Ji(n,e,t){const i=n.slice();return i[213]=e[t],i}function Qi(n,e,t){const i=n.slice();return i[231]=e[t][0],i[232]=e[t][1],i}function Zi(n,e,t){const i=n.slice();return i[231]=e[t],i}function Xi(n,e,t){const i=n.slice();return i[237]=e[t][0],i[238]=e[t][1],i}function es(n,e,t){const i=n.slice();return i[213]=e[t],i}function ts(n,e,t){var o,a;const i=n.slice();i[243]=e[t],i[247]=t;const s=((o=i[243].properties)==null?void 0:o.filter(function(...d){return n[136](i[243],...d)}))||[];i[244]=s;const r=((a=i[243].properties)==null?void 0:a.length)||0;return i[245]=r,i}function ns(n,e,t){var p,g,m,f,b,c,v,w,_,C,E,M;const i=n.slice();i[248]=e[t],i[256]=t;const s=(m=(p=i[3])==null?void 0:p.globallyIgnoredFields)==null?void 0:m.includes((g=i[248])==null?void 0:g.name);i[249]=s;const r=i[79](i[243].typeName,(f=i[248])==null?void 0:f.name);i[250]=r;const o=((v=(c=(b=i[3])==null?void 0:b.propertySelections)==null?void 0:c[i[243].typeName])==null?void 0:v[i[250]])??!1;i[251]=o;const a=i[81](i[243].typeName,(w=i[248])==null?void 0:w.name);i[252]=a;const l=i[80](i[243].typeName,(_=i[248])==null?void 0:_.name);i[253]=l;const d=!!((M=(E=i[37][i[243].typeName])==null?void 0:E[((C=i[248])==null?void 0:C.name)||""])!=null&&M.description);return i[254]=d,i}function is(n,e,t){const i=n.slice();i[243]=e[t],i[258]=e,i[220]=t;const s=Cp(i[243]);return i[257]=s,i}function zn(n){const e=n.slice(),t=e[86]();return e[259]=t,e}function Bn(n){const e=n.slice(),t=e[0].reduce((i,s)=>{var r;return i+(((r=s.properties)==null?void 0:r.length)||0)},0);return e[260]=t,e}function ss(n){let e,t,i=n[0].length+"",s,r;return{c(){e=y("span"),t=$("("),s=$(i),r=$(")"),h(e,"class","text-xs opacity-80 font-normal")},m(o,a){z(o,e,a),u(e,t),u(e,s),u(e,r)},p(o,a){a[0]&1&&i!==(i=o[0].length+"")&&ae(s,i)},d(o){o&&j(e)}}}function rs(n){let e,t,i=n[260]+"",s,r;return{c(){e=y("span"),t=$("("),s=$(i),r=$(")"),h(e,"class","text-xs opacity-80 font-normal")},m(o,a){z(o,e,a),u(e,t),u(e,s),u(e,r)},p(o,a){a[0]&1&&i!==(i=o[260]+"")&&ae(s,i)},d(o){o&&j(e)}}}function os(n){let e,t,i,s,r,o,a,l,d,p,g,m,f,b,c,v,w,_,C,E,M,x,N,D,A,I,B,R,F,L,V,Y,W,K,H,U;function X(Q,ue){return Q[15]&&Q[21]==="entities"?cu:lu}let O=X(n),J=O(n);function fe(Q,ue){return Q[15]&&Q[21]==="properties"?uu:du}let Te=fe(n),ye=Te(n);function ve(Q,ue){return Q[15]&&Q[21]==="complete"?gu:pu}let ge=ve(n),me=ge(n),Me=n[15]&&as(n),ie=n[0].length>0&&ls(zn(n)),se=n[0].length>0&&cs(n);return{c(){e=y("div"),t=y("div"),i=y("h3"),i.textContent="LLM Automatic Ontologies",s=k(),r=y("p"),r.textContent=`Use AI to automatically generate entity descriptions, property\r
            definitions, and relationships from your vault content.`,o=k(),a=y("div"),l=y("button"),J.c(),d=k(),p=y("button"),ye.c(),g=k(),m=y("button"),me.c(),f=k(),b=y("button"),b.textContent="Load All Default Entity Descriptions",c=k(),Me&&Me.c(),v=k(),ie&&ie.c(),w=k(),_=y("div"),C=y("h3"),C.textContent="Base Entity Type",E=k(),M=y("div"),x=y("div"),N=y("h4"),N.textContent="BaseEntity",D=k(),A=y("div"),I=y("button"),I.textContent="View Properties",B=k(),R=y("span"),R.textContent="SYSTEM",F=k(),L=y("div"),L.innerHTML=`<p class="text-[var(--text-default)] text-sm leading-relaxed">Base entity class that provides core properties inherited by all
                other entity types. Contains fundamental metadata for knowledge
                graph processing.</p>`,V=k(),Y=y("div"),Y.innerHTML='<span class="flex items-center gap-1">Inherited by all entities</span> <span class="flex items-center gap-1">3 core properties</span> <span class="flex items-center gap-1">Always enabled</span>',W=k(),se&&se.c(),h(i,"class","text-xl font-semibold mb-2 flex items-center gap-2"),h(r,"class","mb-4 opacity-90 leading-relaxed text-[var(--text-on-accent)]"),h(l,"class","px-4 py-2 bg-[rgba(255,255,255,0.06)] border border-[rgba(255,255,255,0.08)] rounded-md text-sm transition-all duration-200 backdrop-blur-sm hover:bg-[rgba(255,255,255,0.09)] disabled:opacity-50 disabled:cursor-not-allowed text-[var(--text-on-accent)]"),l.disabled=n[15],h(p,"class","px-4 py-2 bg-[rgba(255,255,255,0.06)] border border-[rgba(255,255,255,0.08)] rounded-md text-sm transition-all duration-200 backdrop-blur-sm hover:bg-[rgba(255,255,255,0.09)] disabled:opacity-50 disabled:cursor-not-allowed text-[var(--text-on-accent)]"),p.disabled=n[15],h(m,"class","megamem-bulk-button px-4 py-2 bg-[rgba(255,255,255,0.06)] border border-[rgba(255,255,255,0.08)] rounded-md text-sm transition-all duration-200 backdrop-blur-sm hover:bg-[rgba(255,255,255,0.09)] disabled:opacity-50 disabled:cursor-not-allowed text-[var(--text-on-accent)] svelte-1fc521h"),m.disabled=n[15],h(b,"class","px-4 py-2 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.06)] rounded-md text-sm transition-all duration-200 backdrop-blur-sm hover:bg-[rgba(255,255,255,0.06)] hover:border-[rgba(255,255,255,0.08)] text-[var(--text-on-accent)]"),h(b,"title","Load all default entity descriptions into data.json"),h(a,"class","flex gap-3 flex-wrap items-center"),h(t,"class","bg-gradient-to-br from-[var(--interactive-accent)] to-[var(--background-secondary)] text-[var(--text-on-accent)] p-6 rounded-xl mb-6 shadow-md"),h(C,"class","text-lg font-semibold mb-4 text-[var(--text-default)]"),h(N,"class","text-lg font-semibold text-[var(--text-default)]"),h(I,"class","px-3 py-1 bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded text-sm hover:bg-[var(--background-modifier-border)] transition-colors duration-150 text-[var(--text-default)]"),h(I,"title","View Properties"),h(R,"class","text-xs px-2 py-1 bg-[var(--background-modifier-border)] text-[var(--text-muted)] rounded font-bold uppercase tracking-wide ml-2"),h(A,"class","flex gap-1 items-center"),h(x,"class","flex justify-between items-center mb-3"),h(L,"class","mb-3"),h(Y,"class","flex gap-4 text-sm text-[var(--text-default)]"),h(M,"class","bg-[var(--background-primary-alt)] border-2 border-[var(--background-modifier-border)] rounded-lg p-4 max-w-lg"),h(_,"class","mb-8"),h(e,"class","animate-fadeIn"),h(e,"id","entities-panel")},m(Q,ue){z(Q,e,ue),u(e,t),u(t,i),u(t,s),u(t,r),u(t,o),u(t,a),u(a,l),J.m(l,null),u(a,d),u(a,p),ye.m(p,null),u(a,g),u(a,m),me.m(m,null),u(a,f),u(a,b),u(t,c),Me&&Me.m(t,null),u(e,v),ie&&ie.m(e,null),u(e,w),u(e,_),u(_,C),u(_,E),u(_,M),u(M,x),u(x,N),u(x,D),u(x,A),u(A,I),u(A,B),u(A,R),u(M,F),u(M,L),u(M,V),u(M,Y),u(e,W),se&&se.m(e,null),K=!0,H||(U=[ne(l,"click",n[110]),ne(p,"click",n[111]),ne(m,"click",n[112]),ne(b,"click",n[113]),ne(I,"click",n[114])],H=!0)},p(Q,ue){O!==(O=X(Q))&&(J.d(1),J=O(Q),J&&(J.c(),J.m(l,null))),(!K||ue[0]&32768)&&(l.disabled=Q[15]),Te!==(Te=fe(Q))&&(ye.d(1),ye=Te(Q),ye&&(ye.c(),ye.m(p,null))),(!K||ue[0]&32768)&&(p.disabled=Q[15]),ge===(ge=ve(Q))&&me?me.p(Q,ue):(me.d(1),me=ge(Q),me&&(me.c(),me.m(m,null))),(!K||ue[0]&32768)&&(m.disabled=Q[15]),Q[15]?Me?Me.p(Q,ue):(Me=as(Q),Me.c(),Me.m(t,null)):Me&&(Me.d(1),Me=null),Q[0].length>0?ie?ie.p(zn(Q),ue):(ie=ls(zn(Q)),ie.c(),ie.m(e,w)):ie&&(ie.d(1),ie=null),Q[0].length>0?se?(se.p(Q,ue),ue[0]&1&&G(se,1)):(se=cs(Q),se.c(),G(se,1),se.m(e,null)):se&&(Ue(),Z(se,1,1,()=>{se=null}),je())},i(Q){K||(G(se),K=!0)},o(Q){Z(se),K=!1},d(Q){Q&&j(e),J.d(),ye.d(),me.d(),Me&&Me.d(),ie&&ie.d(),se&&se.d(),H=!1,Je(U)}}}function lu(n){let e;return{c(){e=$("Generate Entity Descriptions")},m(t,i){z(t,e,i)},d(t){t&&j(e)}}}function cu(n){let e;return{c(){e=$(" Generating...")},m(t,i){z(t,e,i)},d(t){t&&j(e)}}}function du(n){let e;return{c(){e=$("Suggest Property Descriptions")},m(t,i){z(t,e,i)},d(t){t&&j(e)}}}function uu(n){let e;return{c(){e=$(" Generating...")},m(t,i){z(t,e,i)},d(t){t&&j(e)}}}function pu(n){let e;return{c(){e=$(" Generate Complete Ontology")},m(t,i){z(t,e,i)},p:we,d(t){t&&j(e)}}}function gu(n){let e,t=n[16].current+"",i,s,r=n[16].total+"",o,a;return{c(){e=$(" Generating... ("),i=$(t),s=$("/"),o=$(r),a=$(")")},m(l,d){z(l,e,d),z(l,i,d),z(l,s,d),z(l,o,d),z(l,a,d)},p(l,d){d[0]&65536&&t!==(t=l[16].current+"")&&ae(i,t),d[0]&65536&&r!==(r=l[16].total+"")&&ae(o,r)},d(l){l&&(j(e),j(i),j(s),j(o),j(a))}}}function as(n){let e,t,i,s,r=n[16].step+"",o;return{c(){e=y("div"),t=y("div"),i=k(),s=y("div"),o=$(r),h(t,"class","megamem-progress-fill svelte-1fc521h"),Mn(t,"width",n[16].current/n[16].total*100+"%"),h(e,"class","megamem-progress-bar svelte-1fc521h"),h(s,"class","megamem-progress-text svelte-1fc521h")},m(a,l){z(a,e,l),u(e,t),z(a,i,l),z(a,s,l),u(s,o)},p(a,l){l[0]&65536&&Mn(t,"width",a[16].current/a[16].total*100+"%"),l[0]&65536&&r!==(r=a[16].step+"")&&ae(o,r)},d(a){a&&(j(e),j(i),j(s))}}}function ls(n){let e,t,i,s,r,o,a,l,d,p,g,m,f,b,c,v,w,_,C,E,M,x,N,D,A,I=n[259].warnings>0&&fu(n);return{c(){e=y("div"),t=y("h3"),t.textContent="Graphiti Compliance Dashboard",i=k(),s=y("div"),r=y("div"),o=y("span"),o.textContent=`${n[259].score}%`,a=k(),l=y("span"),l.textContent="Compliance Score",d=k(),p=y("div"),g=y("div"),m=y("span"),m.textContent=`${n[259].valid}`,f=k(),b=y("span"),b.textContent="Valid",c=k(),v=y("div"),w=y("span"),w.textContent=`${n[259].warnings}`,_=k(),C=y("span"),C.textContent="Warnings",E=k(),M=y("div"),x=y("span"),x.textContent=`${n[259].protectedCount}`,N=k(),D=y("span"),D.textContent="Protected",A=k(),I&&I.c(),h(t,"class","text-lg font-semibold mb-4 text-[var(--text-default)] flex items-center gap-2"),h(o,"class","text-2xl font-bold text-[var(--text-default)]"),h(l,"class","text-xs text-[var(--text-muted)] uppercase tracking-wide"),h(r,"class","flex flex-col items-center p-4 rounded-lg min-w-24 "+(n[259].score>=80?"bg-[var(--background-modifier-success)] border border-[var(--background-modifier-border)]":n[259].score>=60?"bg-[var(--background-modifier-border)] border border-[var(--background-modifier-border)]":"bg-[var(--background-modifier-error)] border border-[var(--background-modifier-border)]")),h(m,"class","text-xl font-bold text-[var(--text-success)]"),h(b,"class","text-xs text-[var(--text-muted)] uppercase tracking-wide"),h(g,"class","flex flex-col items-center p-2"),h(w,"class","text-xl font-bold text-[var(--text-error)]"),h(C,"class","text-xs text-[var(--text-muted)] uppercase tracking-wide"),h(v,"class","flex flex-col items-center p-2"),h(x,"class","text-xl font-bold text-[var(--text-error)]"),h(D,"class","text-xs text-[var(--text-muted)] uppercase tracking-wide"),h(M,"class","flex flex-col items-center p-2"),h(p,"class","flex gap-6"),h(s,"class","flex items-center gap-8 mb-4"),h(e,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded-lg p-6 mb-6")},m(B,R){z(B,e,R),u(e,t),u(e,i),u(e,s),u(s,r),u(r,o),u(r,a),u(r,l),u(s,d),u(s,p),u(p,g),u(g,m),u(g,f),u(g,b),u(p,c),u(p,v),u(v,w),u(v,_),u(v,C),u(p,E),u(p,M),u(M,x),u(M,N),u(M,D),u(e,A),I&&I.m(e,null)},p(B,R){B[259].warnings>0&&I.p(B,R)},d(B){B&&j(e),I&&I.d()}}}function fu(n){let e,t,i,s;return{c(){e=y("div"),t=y("button"),t.textContent=`Apply All Naming Suggestions (${n[259].warnings})`,h(t,"class","px-4 py-2 bg-[var(--background-modifier-success)] text-[var(--text-on-accent)] rounded hover:opacity-90 font-medium"),h(e,"class","pt-4 border-t border-[var(--background-modifier-border)]")},m(r,o){z(r,e,o),u(e,t),i||(s=ne(t,"click",n[87]),i=!0)},p:we,d(r){r&&j(e),i=!1,s()}}}function cs(n){let e,t,i,s=n[0].length+"",r,o,a,l,d,p=xe(n[0]),g=[];for(let f=0;f<p.length;f+=1)g[f]=us(is(n,p,f));const m=f=>Z(g[f],1,1,()=>{g[f]=null});return{c(){e=y("div"),t=y("h3"),i=$("Custom Entity Types ("),r=$(s),o=$(")"),a=k(),l=y("div");for(let f=0;f<g.length;f+=1)g[f].c();h(t,"class","text-lg font-semibold mb-4"),h(l,"class","grid grid-cols-1 lg:grid-cols-2 gap-4 max-w-full")},m(f,b){z(f,e,b),u(e,t),u(t,i),u(t,r),u(t,o),u(e,a),u(e,l);for(let c=0;c<g.length;c+=1)g[c]&&g[c].m(l,null);d=!0},p(f,b){if((!d||b[0]&1)&&s!==(s=f[0].length+"")&&ae(r,s),b[0]&131969|b[1]&2080896|b[2]&201326592){p=xe(f[0]);let c;for(c=0;c<p.length;c+=1){const v=is(f,p,c);g[c]?(g[c].p(v,b),G(g[c],1)):(g[c]=us(v),g[c].c(),G(g[c],1),g[c].m(l,null))}for(Ue(),c=p.length;c<g.length;c+=1)m(c);je()}},i(f){if(!d){for(let b=0;b<p.length;b+=1)G(g[b]);d=!0}},o(f){g=g.filter(Boolean);for(let b=0;b<g.length;b+=1)Z(g[b]);d=!1},d(f){f&&j(e),Xe(g,f)}}}function hu(n){let e,t=n[49](n[243].typeName)+"",i;return{c(){e=y("p"),i=$(t),h(e,"class","text-[var(--text-default)] text-sm leading-relaxed")},m(s,r){z(s,e,r),u(e,i)},p(s,r){r[0]&1&&t!==(t=s[49](s[243].typeName)+"")&&ae(i,t)},i:we,o:we,d(s){s&&j(e)}}}function mu(n){let e,t,i,s,r=n[50](n[243].typeName),o,a,l,d,p,g,m,f,b,c,v,w,_,C;function E(){n[118].call(t,n[243])}function M(){return n[119](n[243])}let x=r&&ds(n);const N=[bu,yu],D=[];function A(R,F){return R[17]===R[243].typeName?0:1}l=A(n),d=D[l]=N[l](n);function I(){return n[121](n[243])}function B(){return n[122](n[243])}return{c(){e=y("div"),t=y("textarea"),i=k(),s=y("div"),x&&x.c(),o=k(),a=y("button"),d.c(),m=k(),f=y("div"),b=y("button"),b.textContent="Save",c=k(),v=y("button"),v.textContent="Cancel",h(t,"placeholder","Enter entity description..."),h(t,"class","w-full p-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm leading-relaxed resize-vertical min-h-15"),h(t,"rows","3"),h(a,"class","px-3 py-2 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] border border-[var(--interactive-accent)] rounded hover:opacity-90 transition-colors duration-200 text-sm flex items-center justify-center gap-2"),a.disabled=p=n[17]===n[243].typeName,h(a,"title",g="Generate AI description for "+n[243].typeName),h(s,"class","flex flex-col gap-2 mt-2"),h(b,"class","px-3 py-1 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded text-sm font-medium hover:opacity-90 transition-colors duration-200"),h(v,"class","px-3 py-1 bg-[var(--background-modifier-border)] text-[var(--text-default)] rounded text-sm hover:opacity-90 transition-colors duration-200"),h(f,"class","flex gap-2 justify-end"),h(e,"class","flex flex-col gap-2")},m(R,F){z(R,e,F),u(e,t),Ie(t,n[8][n[243].typeName]),u(e,i),u(e,s),x&&x.m(s,null),u(s,o),u(s,a),D[l].m(a,null),u(e,m),u(e,f),u(f,b),u(f,c),u(f,v),w=!0,_||(C=[ne(t,"input",E),ne(t,"input",M),ne(a,"click",It(I)),ne(b,"click",B),ne(v,"click",n[48])],_=!0)},p(R,F){n=R,F[0]&257&&Ie(t,n[8][n[243].typeName]),F[0]&1&&(r=n[50](n[243].typeName)),r?x?(x.p(n,F),F[0]&1&&G(x,1)):(x=ds(n),x.c(),G(x,1),x.m(s,o)):x&&(Ue(),Z(x,1,1,()=>{x=null}),je());let L=l;l=A(n),l!==L&&(Ue(),Z(D[L],1,1,()=>{D[L]=null}),je(),d=D[l],d||(d=D[l]=N[l](n),d.c()),G(d,1),d.m(a,null)),(!w||F[0]&131073&&p!==(p=n[17]===n[243].typeName))&&(a.disabled=p),(!w||F[0]&1&&g!==(g="Generate AI description for "+n[243].typeName))&&h(a,"title",g)},i(R){w||(G(x),G(d),w=!0)},o(R){Z(x),Z(d),w=!1},d(R){R&&j(e),x&&x.d(),D[l].d(),_=!1,Je(C)}}}function ds(n){let e,t,i,s,r,o,a,l;t=new De({props:{icon:"download",size:"medium"}});function d(){return n[120](n[243])}return{c(){e=y("button"),Pe(t.$$.fragment),i=k(),s=y("span"),s.textContent="Load Default",h(e,"class","px-3 py-2 bg-[var(--background-modifier-success)] text-[var(--text-success)] border border-[var(--background-modifier-success)] rounded hover:opacity-90 transition-colors duration-200 text-sm flex items-center justify-center gap-2"),h(e,"title",r="Load default description for "+n[243].typeName)},m(p,g){z(p,e,g),Ee(t,e,null),u(e,i),u(e,s),o=!0,a||(l=ne(e,"click",It(d)),a=!0)},p(p,g){n=p,(!o||g[0]&1&&r!==(r="Load default description for "+n[243].typeName))&&h(e,"title",r)},i(p){o||(G(t.$$.fragment,p),o=!0)},o(p){Z(t.$$.fragment,p),o=!1},d(p){p&&j(e),Ce(t),a=!1,l()}}}function yu(n){let e,t,i,s;return e=new De({props:{icon:"sparkles",size:"medium"}}),{c(){Pe(e.$$.fragment),t=k(),i=y("span"),i.textContent="LLM Suggest"},m(r,o){Ee(e,r,o),z(r,t,o),z(r,i,o),s=!0},i(r){s||(G(e.$$.fragment,r),s=!0)},o(r){Z(e.$$.fragment,r),s=!1},d(r){r&&(j(t),j(i)),Ce(e,r)}}}function bu(n){let e;return{c(){e=$(" Generating...")},m(t,i){z(t,e,i)},i:we,o:we,d(t){t&&j(e)}}}function us(n){let e,t,i,s=n[243].typeName+"",r,o,a,l,d,p,g,m,f=n[38][n[243].typeName]?"Enabled":"Disabled",b,c,v,w,_,C,E,M,x,N,D,A,I,B,R=n[243].fileCount+"",F,L,V,Y,W=n[243].properties.length+"",K,H,U,X=n[257].score+"",O,J,fe,Te,ye,ve,ge,me;function Me(){return n[115](n[243])}function ie(){return n[116](n[243])}C=new De({props:{icon:"pencil",size:"medium"}});function se(){return n[117](n[243])}const Q=[mu,hu],ue=[];function ze(Be,ce){return Be[7]===Be[243].typeName?0:1}return x=ze(n),N=ue[x]=Q[x](n),{c(){e=y("div"),t=y("div"),i=y("button"),r=$(s),o=k(),a=y("div"),l=y("label"),d=y("input"),g=k(),m=y("span"),b=$(f),w=k(),_=y("button"),Pe(C.$$.fragment),E=k(),M=y("div"),N.c(),D=k(),A=y("div"),I=y("span"),B=$("Files: "),F=$(R),L=k(),V=y("span"),Y=$("Props: "),K=$(W),H=k(),U=y("span"),O=$(X),J=$("% compliant"),Te=k(),h(i,"class","text-lg font-semibold text-[var(--text-default)] hover:opacity-90 transition-colors duration-200 text-left"),h(d,"type","checkbox"),d.checked=p=!!n[38][n[243].typeName],h(d,"class","w-4 h-4 text-[var(--text-success)] bg-[var(--background-secondary)] border-[var(--background-modifier-border)] rounded focus:ring-[var(--text-success)] focus:ring-2"),h(m,"class",c="text-xs text-[var(--text-muted)] "+(n[38][n[243].typeName]?"text-[var(--text-success)]":"text-[var(--text-muted)]")),h(l,"class","flex items-center gap-1 cursor-pointer"),h(l,"title",v=n[38][n[243].typeName]?"Enabled in data.json - uncheck to disable":"Disabled - check to enable in data.json"),h(_,"class","p-1 rounded opacity-60 hover:opacity-100 hover:bg-[var(--background-modifier-border)] transition-all duration-200"),h(_,"title","Edit Description"),h(a,"class","flex gap-1 items-center"),h(t,"class","flex justify-between items-center mb-3"),h(M,"class","mb-3"),h(I,"class","flex items-center gap-1"),h(V,"class","flex items-center gap-1"),h(U,"class",fe="flex items-center gap-1 "+(n[257].score>=80?"text-[var(--text-success)]":n[257].score>=60?"text-[var(--text-warning)]":"text-[var(--text-error)]")),h(A,"class","flex gap-4 text-sm text-[var(--text-muted)]"),h(e,"class",ye="bg-[var(--background-secondary-alt)] border border-[var(--background-modifier-border)] rounded-lg p-4 cursor-pointer transition-all duration-200 hover:border-[var(--interactive-accent)] hover:shadow-md "+(Hs===n[243].typeName?"border-[var(--interactive-accent)] shadow-md ring-2 ring-[var(--background-modifier-border)]":""))},m(Be,ce){z(Be,e,ce),u(e,t),u(t,i),u(i,r),u(t,o),u(t,a),u(a,l),u(l,d),u(l,g),u(l,m),u(m,b),u(a,w),u(a,_),Ee(C,_,null),u(e,E),u(e,M),ue[x].m(M,null),u(e,D),u(e,A),u(A,I),u(I,B),u(I,F),u(A,L),u(A,V),u(V,Y),u(V,K),u(A,H),u(A,U),u(U,O),u(U,J),u(e,Te),ve=!0,ge||(me=[ne(i,"click",Me),ne(d,"change",It(ie)),ne(_,"click",It(se))],ge=!0)},p(Be,ce){n=Be,(!ve||ce[0]&1)&&s!==(s=n[243].typeName+"")&&ae(r,s),(!ve||ce[0]&1|ce[1]&128&&p!==(p=!!n[38][n[243].typeName]))&&(d.checked=p),(!ve||ce[0]&1|ce[1]&128)&&f!==(f=n[38][n[243].typeName]?"Enabled":"Disabled")&&ae(b,f),(!ve||ce[0]&1|ce[1]&128&&c!==(c="text-xs text-[var(--text-muted)] "+(n[38][n[243].typeName]?"text-[var(--text-success)]":"text-[var(--text-muted)]")))&&h(m,"class",c),(!ve||ce[0]&1|ce[1]&128&&v!==(v=n[38][n[243].typeName]?"Enabled in data.json - uncheck to disable":"Disabled - check to enable in data.json"))&&h(l,"title",v);let _e=x;x=ze(n),x===_e?ue[x].p(n,ce):(Ue(),Z(ue[_e],1,1,()=>{ue[_e]=null}),je(),N=ue[x],N?N.p(n,ce):(N=ue[x]=Q[x](n),N.c()),G(N,1),N.m(M,null)),(!ve||ce[0]&1)&&R!==(R=n[243].fileCount+"")&&ae(F,R),(!ve||ce[0]&1)&&W!==(W=n[243].properties.length+"")&&ae(K,W),(!ve||ce[0]&1)&&X!==(X=n[257].score+"")&&ae(O,X),(!ve||ce[0]&1&&fe!==(fe="flex items-center gap-1 "+(n[257].score>=80?"text-[var(--text-success)]":n[257].score>=60?"text-[var(--text-warning)]":"text-[var(--text-error)]")))&&h(U,"class",fe),(!ve||ce[0]&1&&ye!==(ye="bg-[var(--background-secondary-alt)] border border-[var(--background-modifier-border)] rounded-lg p-4 cursor-pointer transition-all duration-200 hover:border-[var(--interactive-accent)] hover:shadow-md "+(Hs===n[243].typeName?"border-[var(--interactive-accent)] shadow-md ring-2 ring-[var(--background-modifier-border)]":"")))&&h(e,"class",ye)},i(Be){ve||(G(C.$$.fragment,Be),G(N),ve=!0)},o(Be){Z(C.$$.fragment,Be),Z(N),ve=!1},d(Be){Be&&j(e),Ce(C),ue[x].d(),ge=!1,Je(me)}}}function ps(n){let e,t,i,s,r,o,a,l,d,p,g,m,f,b,c,v,w,_,C,E,M,x,N,D,A,I;s=new De({props:{icon:"sparkles"}});function B(W,K){return W[15]&&W[21]==="properties"?_u:vu}let R=B(n),F=R(n);const L=[Su,wu],V=[];function Y(W,K){return W[0].length>0?0:1}return x=Y(n),N=V[x]=L[x](n),{c(){e=y("div"),t=y("div"),i=y("h3"),Pe(s.$$.fragment),r=k(),o=y("span"),o.textContent="LLM Automatic Property Descriptions",a=k(),l=y("p"),l.textContent=`Use AI to automatically generate property descriptions and configure\r
            property settings for all entities.`,d=k(),p=y("div"),g=y("button"),F.c(),m=k(),f=y("button"),f.textContent="Load Default Descriptions",b=k(),c=y("button"),c.textContent="Enable Default Properties",v=k(),w=y("div"),_=y("h3"),_.textContent="All Entity Properties",C=k(),E=y("p"),E.textContent=`Configure property mappings, descriptions, and field types for all\r
            entity types.`,M=k(),N.c(),h(i,"class","text-xl font-semibold mb-2 flex items-center gap-2"),h(l,"class","mb-4 opacity-90 leading-relaxed"),h(g,"class","px-4 py-2 bg-[rgba(255,255,255,0.06)] border border-[rgba(255,255,255,0.08)] rounded-md text-sm transition-all duration-200 backdrop-blur-sm hover:bg-[rgba(255,255,255,0.09)] disabled:opacity-50 disabled:cursor-not-allowed text-[var(--text-on-accent)]"),g.disabled=n[15],h(f,"class","px-4 py-2 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.06)] rounded-md text-sm transition-all duration-200 backdrop-blur-sm hover:bg-[rgba(255,255,255,0.06)] hover:border-[rgba(255,255,255,0.08)]"),h(f,"title","Load all default property descriptions into data.json"),h(c,"class","px-4 py-2 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.06)] rounded-md text-sm transition-all duration-200 backdrop-blur-sm hover:bg-[rgba(255,255,255,0.06)] hover:border-[rgba(255,255,255,0.08)]"),h(c,"title","Enable all properties for which we have default descriptions"),h(p,"class","flex gap-3 flex-wrap items-center"),h(t,"class","bg-gradient-to-br from-[var(--interactive-accent)] to-[var(--background-secondary)] text-[var(--text-on-accent)] p-6 rounded-xl mb-6 shadow-md"),h(_,"class","text-lg font-semibold mb-2 text-[var(--text-default)]"),h(E,"class","text-[var(--text-muted)] mb-6"),h(e,"class","animate-fadeIn"),h(e,"id","properties-panel")},m(W,K){z(W,e,K),u(e,t),u(t,i),Ee(s,i,null),u(i,r),u(i,o),u(t,a),u(t,l),u(t,d),u(t,p),u(p,g),F.m(g,null),u(p,m),u(p,f),u(p,b),u(p,c),u(e,v),u(e,w),u(w,_),u(w,C),u(w,E),u(w,M),V[x].m(w,null),D=!0,A||(I=[ne(g,"click",n[123]),ne(f,"click",n[124]),ne(c,"click",n[96])],A=!0)},p(W,K){R!==(R=B(W))&&(F.d(1),F=R(W),F&&(F.c(),F.m(g,null))),(!D||K[0]&32768)&&(g.disabled=W[15]);let H=x;x=Y(W),x===H?V[x].p(W,K):(Ue(),Z(V[H],1,1,()=>{V[H]=null}),je(),N=V[x],N?N.p(W,K):(N=V[x]=L[x](W),N.c()),G(N,1),N.m(w,null))},i(W){D||(G(s.$$.fragment,W),G(N),D=!0)},o(W){Z(s.$$.fragment,W),Z(N),D=!1},d(W){W&&j(e),Ce(s),F.d(),V[x].d(),A=!1,Je(I)}}}function vu(n){let e;return{c(){e=$("Generate All Property Descriptions")},m(t,i){z(t,e,i)},d(t){t&&j(e)}}}function _u(n){let e;return{c(){e=$(" Generating...")},m(t,i){z(t,e,i)},d(t){t&&j(e)}}}function wu(n){let e;return{c(){e=y("div"),e.innerHTML="<p>No entity types found. Run schema discovery first.</p>",h(e,"class","text-center py-8 text-[var(--text-muted)]")},m(t,i){z(t,e,i)},p:we,i:we,o:we,d(t){t&&j(e)}}}function Su(n){let e,t,i,s,r,o,a,l,d,p,g,m,f,b,c,v=n[6].has("BaseEntity"),w,_,C,E;const M=[ku,xu],x=[];function N(R,F){return F[0]&64&&(g=null),g==null&&(g=!!R[6].has("BaseEntity")),g?0:1}m=N(n,[-1,-1,-1,-1,-1,-1,-1,-1,-1]),f=x[m]=M[m](n);let D=v&&gs(),A=xe(n[0]),I=[];for(let R=0;R<A.length;R+=1)I[R]=Es(ts(n,A,R));const B=R=>Z(I[R],1,1,()=>{I[R]=null});return{c(){e=y("div"),t=y("div"),i=y("div"),s=y("button"),r=y("h4"),r.innerHTML='BaseEntity <span class="text-xs bg-[var(--background-modifier-border)] text-[var(--text-muted)] px-2 py-1 rounded ml-2">SYSTEM</span>',o=k(),a=y("div"),l=y("span"),l.textContent="3 of 3 enabled",d=k(),p=y("span"),f.c(),c=k(),D&&D.c(),w=k();for(let R=0;R<I.length;R+=1)I[R].c();h(r,"class","font-semibold text-[var(--text-default)]"),h(l,"class","text-xs text-[var(--text-muted)] bg-[var(--background-modifier-border)] px-2 py-1 rounded-full"),h(p,"class","text-lg text-[var(--text-muted)] font-bold ml-4"),h(a,"class","flex items-center gap-4"),h(s,"class","flex-1 flex justify-between items-center text-left cursor-pointer transition-colors duration-200 hover:opacity-90"),h(i,"class",b="flex justify-between items-center w-full p-4 bg-[var(--background-secondary)] border-none "+(n[6].has("BaseEntity")?"border-b border-[var(--background-modifier-border)]":"")),h(t,"class","bg-[var(--background-primary-alt)] border-2 border-[var(--background-modifier-border)] rounded-lg overflow-hidden"),h(t,"id","accordion-BaseEntity"),h(e,"class","flex flex-col gap-4")},m(R,F){z(R,e,F),u(e,t),u(t,i),u(i,s),u(s,r),u(s,o),u(s,a),u(a,l),u(a,d),u(a,p),x[m].m(p,null),u(t,c),D&&D.m(t,null),u(e,w);for(let L=0;L<I.length;L+=1)I[L]&&I[L].m(e,null);_=!0,C||(E=ne(s,"click",n[125]),C=!0)},p(R,F){let L=m;if(m=N(R,F),m!==L&&(Ue(),Z(x[L],1,1,()=>{x[L]=null}),je(),f=x[m],f||(f=x[m]=M[m](R),f.c()),G(f,1),f.m(p,null)),(!_||F[0]&64&&b!==(b="flex justify-between items-center w-full p-4 bg-[var(--background-secondary)] border-none "+(R[6].has("BaseEntity")?"border-b border-[var(--background-modifier-border)]":"")))&&h(i,"class",b),F[0]&64&&(v=R[6].has("BaseEntity")),v?D?F[0]&64&&G(D,1):(D=gs(),D.c(),G(D,1),D.m(t,null)):D&&(Ue(),Z(D,1,1,()=>{D=null}),je()),F[0]&262217|F[1]&6299840|F[2]&352190464|F[3]&112){A=xe(R[0]);let V;for(V=0;V<A.length;V+=1){const Y=ts(R,A,V);I[V]?(I[V].p(Y,F),G(I[V],1)):(I[V]=Es(Y),I[V].c(),G(I[V],1),I[V].m(e,null))}for(Ue(),V=A.length;V<I.length;V+=1)B(V);je()}},i(R){if(!_){G(f),G(D);for(let F=0;F<A.length;F+=1)G(I[F]);_=!0}},o(R){Z(f),Z(D),I=I.filter(Boolean);for(let F=0;F<I.length;F+=1)Z(I[F]);_=!1},d(R){R&&j(e),x[m].d(),D&&D.d(),Xe(I,R),C=!1,E()}}}function xu(n){let e,t;return e=new De({props:{icon:"chevron-right",size:"medium"}}),{c(){Pe(e.$$.fragment)},m(i,s){Ee(e,i,s),t=!0},i(i){t||(G(e.$$.fragment,i),t=!0)},o(i){Z(e.$$.fragment,i),t=!1},d(i){Ce(e,i)}}}function ku(n){let e,t;return e=new De({props:{icon:"chevron-down",size:"medium"}}),{c(){Pe(e.$$.fragment)},m(i,s){Ee(e,i,s),t=!0},i(i){t||(G(e.$$.fragment,i),t=!0)},o(i){Z(e.$$.fragment,i),t=!1},d(i){Ce(e,i)}}}function gs(n){let e,t,i,s,r,o,a,l,d,p,g,m,f,b,c,v,w,_,C,E,M,x,N,D,A,I,B,R,F,L,V,Y,W,K,H,U,X;return p=new De({props:{icon:"lock",size:"medium"}}),C=new De({props:{icon:"lock",size:"medium"}}),R=new De({props:{icon:"lock",size:"medium"}}),V=new De({props:{icon:"info",size:"medium"}}),{c(){e=y("div"),t=y("div"),i=y("div"),s=y("div"),s.innerHTML=`<input type="checkbox" checked="${!0}" disabled="${!0}" class="rounded border-[var(--background-modifier-border)] text-[var(--interactive-accent)] focus:ring-[var(--interactive-accent)] disabled:opacity-50 disabled:cursor-not-allowed" title="Base Entity properties are always enabled"/> <span class="font-medium text-[var(--text-default)]">type</span> <span class="text-[var(--text-muted)] text-sm">(string)</span> <span class="text-xs px-2 py-1 bg-[var(--background-modifier-border)] text-[var(--text-muted)] rounded font-bold uppercase tracking-wide ml-auto">SYSTEM</span>`,r=k(),o=y("div"),a=y("input"),l=k(),d=y("button"),Pe(p.$$.fragment),g=k(),m=y("div"),f=y("div"),f.innerHTML=`<input type="checkbox" checked="${!0}" disabled="${!0}" class="rounded border-[var(--background-modifier-border)] text-[var(--interactive-accent)] focus:ring-[var(--interactive-accent)] disabled:opacity-50 disabled:cursor-not-allowed" title="Base Entity properties are always enabled"/> <span class="font-medium text-[var(--text-default)]">tags</span> <span class="text-[var(--text-muted)] text-sm">(List[str])</span> <span class="text-xs px-2 py-1 bg-[var(--background-modifier-border)] text-[var(--text-muted)] rounded font-bold uppercase tracking-wide ml-auto">SYSTEM</span>`,b=k(),c=y("div"),v=y("input"),w=k(),_=y("button"),Pe(C.$$.fragment),E=k(),M=y("div"),x=y("div"),x.innerHTML=`<input type="checkbox" checked="${!0}" disabled="${!0}" class="rounded border-[var(--background-modifier-border)] text-[var(--interactive-accent)] focus:ring-[var(--interactive-accent)] disabled:opacity-50 disabled:cursor-not-allowed" title="Base Entity properties are always enabled"/> <span class="font-medium text-[var(--text-default)]">created</span> <span class="text-[var(--text-muted)] text-sm">(datetime)</span> <span class="text-xs px-2 py-1 bg-[var(--background-modifier-border)] text-[var(--text-muted)] rounded font-bold uppercase tracking-wide ml-auto">SYSTEM</span>`,N=k(),D=y("div"),A=y("input"),I=k(),B=y("button"),Pe(R.$$.fragment),F=k(),L=y("div"),Pe(V.$$.fragment),Y=k(),W=y("strong"),W.textContent="Base Entity Properties:",K=$(`\r
                      These core properties are inherited by all custom entity types\r
                      and are always enabled.\r
                      `),H=y("br"),U=y("span"),U.textContent=`All generated Pydantic models automatically include\r
                        these foundational fields.`,h(s,"class","flex items-center gap-2 flex-wrap"),h(a,"type","text"),a.value="Entity type identifier for classification and model selection",a.disabled=!0,h(a,"class","flex-1 px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm min-w-48 disabled:opacity-50 bg-[var(--background-modifier-border)]"),h(d,"class","px-2 py-2 bg-[var(--background-modifier-border)] border border-[var(--background-modifier-border)] rounded text-sm opacity-50 cursor-not-allowed"),h(d,"title","System properties cannot be edited"),d.disabled=!0,h(o,"class","flex items-center gap-2"),h(i,"class","flex flex-col gap-2 p-3 bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded-md"),h(f,"class","flex items-center gap-2 flex-wrap"),h(v,"type","text"),v.value="Tags and labels for categorization and organization",v.disabled=!0,h(v,"class","flex-1 px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm min-w-48 disabled:opacity-50 bg-[var(--background-modifier-border)]"),h(_,"class","px-2 py-2 bg-[var(--background-modifier-border)] border border-[var(--background-modifier-border)] rounded text-sm opacity-50 cursor-not-allowed"),h(_,"title","System properties cannot be edited"),_.disabled=!0,h(c,"class","flex items-center gap-2"),h(m,"class","flex flex-col gap-2 p-3 bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded-md"),h(x,"class","flex items-center gap-2 flex-wrap"),h(A,"type","text"),A.value="Timestamp when the entity was first created or discovered",A.disabled=!0,h(A,"class","flex-1 px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm min-w-48 disabled:opacity-50 bg-[var(--background-modifier-border)]"),h(B,"class","px-2 py-2 bg-[var(--background-modifier-border)] border border-[var(--background-modifier-border)] rounded text-sm opacity-50 cursor-not-allowed"),h(B,"title","System properties cannot be edited"),B.disabled=!0,h(D,"class","flex items-center gap-2"),h(M,"class","flex flex-col gap-2 p-3 bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded-md"),h(t,"class","flex flex-col gap-3"),h(U,"class","text-xs text-[var(--text-muted)]"),h(L,"class","mt-4 p-3 bg-[var(--background-modifier-border)] border border-[var(--background-modifier-border)] rounded text-sm leading-relaxed text-[var(--text-default)] flex items-center gap-2"),h(e,"class","p-4 bg-[var(--background-secondary-alt)]")},m(O,J){z(O,e,J),u(e,t),u(t,i),u(i,s),u(i,r),u(i,o),u(o,a),u(o,l),u(o,d),Ee(p,d,null),u(t,g),u(t,m),u(m,f),u(m,b),u(m,c),u(c,v),u(c,w),u(c,_),Ee(C,_,null),u(t,E),u(t,M),u(M,x),u(M,N),u(M,D),u(D,A),u(D,I),u(D,B),Ee(R,B,null),u(e,F),u(e,L),Ee(V,L,null),u(L,Y),u(L,W),u(L,K),u(L,H),u(L,U),X=!0},i(O){X||(G(p.$$.fragment,O),G(C.$$.fragment,O),G(R.$$.fragment,O),G(V.$$.fragment,O),X=!0)},o(O){Z(p.$$.fragment,O),Z(C.$$.fragment,O),Z(R.$$.fragment,O),Z(V.$$.fragment,O),X=!1},d(O){O&&j(e),Ce(p),Ce(C),Ce(R),Ce(V)}}}function Eu(n){let e,t;return e=new De({props:{icon:"chevron-right",size:"medium"}}),{c(){Pe(e.$$.fragment)},m(i,s){Ee(e,i,s),t=!0},i(i){t||(G(e.$$.fragment,i),t=!0)},o(i){Z(e.$$.fragment,i),t=!1},d(i){Ce(e,i)}}}function Cu(n){let e,t;return e=new De({props:{icon:"chevron-down",size:"medium"}}),{c(){Pe(e.$$.fragment)},m(i,s){Ee(e,i,s),t=!0},i(i){t||(G(e.$$.fragment,i),t=!0)},o(i){Z(e.$$.fragment,i),t=!1},d(i){Ce(e,i)}}}function fs(n){let e,t,i,s,r,o;function a(){return n[128](n[243])}function l(){return n[129](n[243])}return{c(){e=y("div"),t=y("button"),t.textContent="Select All",i=k(),s=y("button"),s.textContent="Deselect All",h(t,"class","px-2 py-1 text-xs bg-[var(--background-modifier-success)] text-[var(--text-success)] border border-green-300 rounded hover:bg-green-200 transition-colors duration-200"),h(t,"title","Enable all non-protected, non-ignored properties"),h(s,"class","px-2 py-1 text-xs bg-[var(--background-modifier-error)] text-[var(--text-error)] border border-[var(--background-modifier-error)] rounded hover:bg-[var(--background-modifier-error)] transition-colors duration-200"),h(s,"title","Disable all properties"),h(e,"class","flex gap-2 ml-4")},m(d,p){z(d,e,p),u(e,t),u(e,i),u(e,s),r||(o=[ne(t,"click",It(a)),ne(s,"click",It(l))],r=!0)},p(d,p){n=d},d(d){d&&j(e),r=!1,Je(o)}}}function hs(n){let e,t,i,s,r;const o=[Du,Pu],a=[];function l(p,g){return p[243].properties&&p[243].properties.length>0?0:1}t=l(n),i=a[t]=o[t](n);let d=n[243].properties&&n[243].properties.length>0&&ks(n);return{c(){e=y("div"),i.c(),s=k(),d&&d.c(),h(e,"class","p-4")},m(p,g){z(p,e,g),a[t].m(e,null),u(e,s),d&&d.m(e,null),r=!0},p(p,g){let m=t;t=l(p),t===m?a[t].p(p,g):(Ue(),Z(a[m],1,1,()=>{a[m]=null}),je(),i=a[t],i?i.p(p,g):(i=a[t]=o[t](p),i.c()),G(i,1),i.m(e,s)),p[243].properties&&p[243].properties.length>0?d?(d.p(p,g),g[0]&1&&G(d,1)):(d=ks(p),d.c(),G(d,1),d.m(e,null)):d&&(Ue(),Z(d,1,1,()=>{d=null}),je())},i(p){r||(G(i),G(d),r=!0)},o(p){Z(i),Z(d),r=!1},d(p){p&&j(e),a[t].d(),d&&d.d()}}}function Pu(n){let e;return{c(){e=y("p"),e.textContent="No properties found for this entity type.",h(e,"class","text-[var(--text-muted)] italic text-center py-4")},m(t,i){z(t,e,i)},p:we,i:we,o:we,d(t){t&&j(e)}}}function Du(n){let e,t,i=xe(n[243].properties),s=[];for(let o=0;o<i.length;o+=1)s[o]=xs(ns(n,i,o));const r=o=>Z(s[o],1,1,()=>{s[o]=null});return{c(){e=y("div");for(let o=0;o<s.length;o+=1)s[o].c();h(e,"class","flex flex-col gap-3")},m(o,a){z(o,e,a);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(e,null);t=!0},p(o,a){if(a[0]&262153|a[1]&6291520|a[2]&285081600|a[3]&16){i=xe(o[243].properties);let l;for(l=0;l<i.length;l+=1){const d=ns(o,i,l);s[l]?(s[l].p(d,a),G(s[l],1)):(s[l]=xs(d),s[l].c(),G(s[l],1),s[l].m(e,null))}for(Ue(),l=i.length;l<s.length;l+=1)r(l);je()}},i(o){if(!t){for(let a=0;a<i.length;a+=1)G(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)Z(s[a]);t=!1},d(o){o&&j(e),Xe(s,o)}}}function ms(n){let e,t,i=n[253]+"",s,r;return{c(){e=y("span"),t=$("MAPPED FROM: "),s=$(i),h(e,"class","text-xs px-2 py-1 bg-[var(--background-modifier-border)] text-[var(--text-muted)] rounded font-medium"),h(e,"title",r="This property is the result of a mapping from: "+n[253])},m(o,a){z(o,e,a),u(e,t),u(e,s)},p(o,a){a[0]&1&&i!==(i=o[253]+"")&&ae(s,i),a[0]&1&&r!==(r="This property is the result of a mapping from: "+o[253])&&h(e,"title",r)},d(o){o&&j(e)}}}function ys(n){let e,t,i,s,r,o=n[254]?"Property Defined":"Property Not Defined",a,l,d,p,g;function m(){return n[131](n[243],n[248])}return{c(){e=y("label"),t=y("input"),s=k(),r=y("span"),a=$(o),h(t,"type","checkbox"),t.checked=i=n[254],h(t,"class","w-4 h-4 text-[var(--text-success)] bg-[var(--background-secondary)] border-[var(--background-modifier-border)] rounded focus:ring-[var(--text-success)] focus:ring-2"),h(r,"class",l="text-xs "+(n[254]?"text-[var(--text-success)]":"text-[var(--text-muted)]")),h(e,"class","flex items-center gap-1 cursor-pointer"),h(e,"title",d=n[254]?"Property defined in data.json - uncheck to remove definition":"Property not defined - check to add definition to data.json")},m(f,b){z(f,e,b),u(e,t),u(e,s),u(e,r),u(r,a),p||(g=ne(t,"change",It(m)),p=!0)},p(f,b){n=f,b[0]&1|b[1]&64&&i!==(i=n[254])&&(t.checked=i),b[0]&1|b[1]&64&&o!==(o=n[254]?"Property Defined":"Property Not Defined")&&ae(a,o),b[0]&1|b[1]&64&&l!==(l="text-xs "+(n[254]?"text-[var(--text-success)]":"text-[var(--text-muted)]"))&&h(r,"class",l),b[0]&1|b[1]&64&&d!==(d=n[254]?"Property defined in data.json - uncheck to remove definition":"Property not defined - check to add definition to data.json")&&h(e,"title",d)},d(f){f&&j(e),p=!1,g()}}}function Tu(n){let e;return{c(){e=y("span"),e.textContent="DISABLED",h(e,"class","text-xs px-2 py-1 bg-[var(--background-modifier-border)] text-[var(--text-muted)] rounded font-bold uppercase tracking-wide ml-auto")},m(t,i){z(t,e,i)},d(t){t&&j(e)}}}function Mu(n){let e;return{c(){e=y("span"),e.textContent="ENABLED",h(e,"class","text-xs px-2 py-1 bg-[var(--background-modifier-success)] text-[var(--text-on-accent)] rounded font-bold uppercase tracking-wide ml-auto")},m(t,i){z(t,e,i)},d(t){t&&j(e)}}}function Nu(n){let e;return{c(){e=y("span"),e.textContent="NAMING",h(e,"class","text-xs px-2 py-1 bg-[var(--background-modifier-warning)] text-[var(--text-on-accent)] rounded font-bold uppercase tracking-wide ml-auto")},m(t,i){z(t,e,i)},d(t){t&&j(e)}}}function Au(n){let e;return{c(){e=y("span"),e.textContent="IGNORED",h(e,"class","text-xs px-2 py-1 bg-[var(--background-modifier-border)] text-[var(--text-muted)] rounded font-bold uppercase tracking-wide ml-auto")},m(t,i){z(t,e,i)},d(t){t&&j(e)}}}function Ou(n){let e;return{c(){e=y("span"),e.textContent="PROTECTED",h(e,"class","text-xs px-2 py-1 bg-[var(--background-modifier-error)] text-[var(--text-on-accent)] rounded font-bold uppercase tracking-wide ml-auto")},m(t,i){z(t,e,i)},d(t){t&&j(e)}}}function bs(n){var v;let e=n[52](((v=n[248])==null?void 0:v.name)||""),t,i,s,r,o,a,l,d,p,g=e&&vs(n);const m=[Lu,Iu],f=[];function b(w,_){var C;return w[18]===`${w[243].typeName}.${((C=w[248])==null?void 0:C.name)||""}`?0:1}s=b(n),r=f[s]=m[s](n);function c(){return n[134](n[243],n[248])}return{c(){var w,_;g&&g.c(),t=k(),i=y("button"),r.c(),h(i,"class","px-2 py-2 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] border border-[var(--interactive-accent)] rounded hover:opacity-90 transition-colors duration-200 text-sm whitespace-nowrap flex items-center gap-1"),i.disabled=o=n[18]===`${n[243].typeName}.${((w=n[248])==null?void 0:w.name)||""}`,h(i,"title",a="Generate AI description for "+((_=n[248])==null?void 0:_.name))},m(w,_){g&&g.m(w,_),z(w,t,_),z(w,i,_),f[s].m(i,null),l=!0,d||(p=ne(i,"click",c),d=!0)},p(w,_){var E,M,x;n=w,_[0]&1&&(e=n[52](((E=n[248])==null?void 0:E.name)||"")),e?g?(g.p(n,_),_[0]&1&&G(g,1)):(g=vs(n),g.c(),G(g,1),g.m(t.parentNode,t)):g&&(Ue(),Z(g,1,1,()=>{g=null}),je());let C=s;s=b(n),s!==C&&(Ue(),Z(f[C],1,1,()=>{f[C]=null}),je(),r=f[s],r||(r=f[s]=m[s](n),r.c()),G(r,1),r.m(i,null)),(!l||_[0]&262145&&o!==(o=n[18]===`${n[243].typeName}.${((M=n[248])==null?void 0:M.name)||""}`))&&(i.disabled=o),(!l||_[0]&1&&a!==(a="Generate AI description for "+((x=n[248])==null?void 0:x.name)))&&h(i,"title",a)},i(w){l||(G(g),G(r),l=!0)},o(w){Z(g),Z(r),l=!1},d(w){w&&(j(t),j(i)),g&&g.d(w),f[s].d(),d=!1,p()}}}function vs(n){let e,t,i,s,r,o,a,l;t=new De({props:{icon:"download",size:"medium"}});function d(){return n[133](n[243],n[248])}return{c(){var p;e=y("button"),Pe(t.$$.fragment),i=k(),s=y("span"),s.textContent="Load Default",h(e,"class","px-2 py-2 bg-[var(--background-modifier-success)] text-[var(--text-success)] border border-[var(--background-modifier-success)] rounded hover:opacity-90 transition-colors duration-200 text-sm whitespace-nowrap flex items-center gap-1"),h(e,"title",r="Load default description for "+((p=n[248])==null?void 0:p.name))},m(p,g){z(p,e,g),Ee(t,e,null),u(e,i),u(e,s),o=!0,a||(l=ne(e,"click",d),a=!0)},p(p,g){var m;n=p,(!o||g[0]&1&&r!==(r="Load default description for "+((m=n[248])==null?void 0:m.name)))&&h(e,"title",r)},i(p){o||(G(t.$$.fragment,p),o=!0)},o(p){Z(t.$$.fragment,p),o=!1},d(p){p&&j(e),Ce(t),a=!1,l()}}}function Iu(n){let e,t,i,s;return e=new De({props:{icon:"sparkles",size:"medium"}}),{c(){Pe(e.$$.fragment),t=k(),i=y("span"),i.textContent="LLM Suggest"},m(r,o){Ee(e,r,o),z(r,t,o),z(r,i,o),s=!0},i(r){s||(G(e.$$.fragment,r),s=!0)},o(r){Z(e.$$.fragment,r),s=!1},d(r){r&&(j(t),j(i)),Ce(e,r)}}}function Lu(n){let e;return{c(){e=$(" Generating...")},m(t,i){z(t,e,i)},i:we,o:we,d(t){t&&j(e)}}}function Ru(n){let e,t,i,s,r,o;return t=new De({props:{icon:"info",size:"medium"}}),{c(){e=y("div"),Pe(t.$$.fragment),i=k(),s=y("strong"),s.textContent="Property Disabled:",r=$(` This property\r
                                  is currently disabled and will not be included\r
                                  in the generated Pydantic model.`),h(e,"class","mt-2 p-3 bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded text-sm leading-relaxed text-[var(--text-default)] flex items-center gap-2")},m(a,l){z(a,e,l),Ee(t,e,null),u(e,i),u(e,s),u(e,r),o=!0},p:we,i(a){o||(G(t.$$.fragment,a),o=!0)},o(a){Z(t.$$.fragment,a),o=!1},d(a){a&&j(e),Ce(t)}}}function Fu(n){var C;let e,t,i,s,r,o=n[248].namingIssues.join(", ")+"",a,l,d,p,g,m,f=(((C=n[248])==null?void 0:C.suggestedName)||"Suggestion")+"",b,c,v,w;i=new De({props:{icon:"lightbulb"}});function _(){return n[135](n[247],n[256])}return{c(){e=y("div"),t=y("strong"),Pe(i.$$.fragment),s=$(" Naming Suggestion:"),r=k(),a=$(o),l=k(),d=y("br"),p=k(),g=y("button"),m=$("Apply: "),b=$(f),h(g,"class","mt-2 px-3 py-1 bg-[var(--background-modifier-warning)] text-[var(--text-on-accent)] rounded text-xs font-medium hover:opacity-90 transition-colors duration-200"),h(e,"class","mt-2 p-3 bg-orange-100 border border-orange-200 rounded text-sm leading-relaxed text-gray-900")},m(E,M){z(E,e,M),u(e,t),Ee(i,t,null),u(t,s),u(e,r),u(e,a),u(e,l),u(e,d),u(e,p),u(e,g),u(g,m),u(g,b),c=!0,v||(w=ne(g,"click",_),v=!0)},p(E,M){var x;n=E,(!c||M[0]&1)&&o!==(o=n[248].namingIssues.join(", ")+"")&&ae(a,o),(!c||M[0]&1)&&f!==(f=(((x=n[248])==null?void 0:x.suggestedName)||"Suggestion")+"")&&ae(b,f)},i(E){c||(G(i.$$.fragment,E),c=!0)},o(E){Z(i.$$.fragment,E),c=!1},d(E){E&&j(e),Ce(i),v=!1,w()}}}function $u(n){var d,p;let e,t,i,s,r,o,a=(((p=(d=n[3])==null?void 0:d.globallyIgnoredFields)==null?void 0:p.join(", "))||"none")+"",l;return{c(){e=y("div"),t=y("strong"),t.textContent=" Globally Ignored Field:",i=$(`\r
                                  This property is in the globally ignored fields\r
                                  list and will be automatically excluded from Pydantic\r
                                  model generation.\r
                                  `),s=y("br"),r=y("span"),o=$("Globally ignored fields: "),l=$(a),h(r,"class","text-xs text-[var(--text-muted)]"),h(e,"class","mt-2 p-3 bg-[var(--background-modifier-border)] border border-[var(--background-modifier-border)] rounded text-sm leading-relaxed text-[var(--text-default)]")},m(g,m){z(g,e,m),u(e,t),u(e,i),u(e,s),u(e,r),u(r,o),u(r,l)},p(g,m){var f,b;m[0]&8&&a!==(a=(((b=(f=g[3])==null?void 0:f.globallyIgnoredFields)==null?void 0:b.join(", "))||"none")+"")&&ae(l,a)},i:we,o:we,d(g){g&&j(e)}}}function Uu(n){var l;let e,t,i,s,r,o;t=new De({props:{icon:"alert-triangle",size:"medium"}});let a=((l=n[248])==null?void 0:l.suggestedName)&&n[248].suggestedName!==n[248].name&&_s(n);return{c(){e=y("div"),Pe(t.$$.fragment),i=k(),s=y("strong"),s.textContent="Protected Attribute:",r=$(` This\r
                                  is a reserved Graphiti attribute and cannot be\r
                                  used.\r
                                  `),a&&a.c(),h(e,"class","mt-2 p-3 bg-[var(--background-modifier-error)] border border-[var(--background-modifier-border)] rounded text-sm leading-relaxed text-[var(--text-on-accent)] flex items-center gap-2")},m(d,p){z(d,e,p),Ee(t,e,null),u(e,i),u(e,s),u(e,r),a&&a.m(e,null),o=!0},p(d,p){var g;(g=d[248])!=null&&g.suggestedName&&d[248].suggestedName!==d[248].name?a?a.p(d,p):(a=_s(d),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(d){o||(G(t.$$.fragment,d),o=!0)},o(d){Z(t.$$.fragment,d),o=!1},d(d){d&&j(e),Ce(t),a&&a.d()}}}function _s(n){let e,t,i,s=n[248].suggestedName+"",r;return{c(){e=y("br"),t=$(`Consider using:\r
                                    `),i=y("code"),r=$(s),h(i,"class","bg-black/10 px-1 py-0.5 rounded font-mono text-xs")},m(o,a){z(o,e,a),z(o,t,a),z(o,i,a),u(i,r)},p(o,a){a[0]&1&&s!==(s=o[248].suggestedName+"")&&ae(r,s)},d(o){o&&(j(e),j(t),j(i))}}}function ws(n){let e,t,i,s=n[248].examples.slice(0,3).join(", ")+"",r,o,a=n[248].examples.length>3&&Ss();return{c(){e=y("div"),t=y("strong"),t.textContent="Examples:",i=k(),r=$(s),o=k(),a&&a.c(),h(e,"class","text-xs text-[var(--text-muted)] italic mt-1")},m(l,d){z(l,e,d),u(e,t),u(e,i),u(e,r),u(e,o),a&&a.m(e,null)},p(l,d){d[0]&1&&s!==(s=l[248].examples.slice(0,3).join(", ")+"")&&ae(r,s),l[248].examples.length>3?a||(a=Ss(),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(l){l&&j(e),a&&a.d()}}}function Ss(n){let e;return{c(){e=$("...")},m(t,i){z(t,e,i)},d(t){t&&j(e)}}}function xs(n){var Q,ue,ze,Be,ce;let e,t,i,s,r,o,a,l,d=(((Q=n[248])==null?void 0:Q.name)||"Unknown")+"",p,g,m,f,b,c=(((ue=n[248])==null?void 0:ue.inferredType)||"string")+"",v,w,_,C,E,M,x,N,D,A,I,B,R,F,L,V,Y,W,K,H,U;function X(..._e){return n[130](n[247],n[256],..._e)}let O=n[252]&&ms(n),J=!((ze=n[248])!=null&&ze.isProtected)&&!n[249]&&ys(n);function fe(_e,Oe){var Ve,Ze;return(Ve=_e[248])!=null&&Ve.isProtected?Ou:_e[249]?Au:((Ze=_e[248])==null?void 0:Ze.complianceStatus)==="warning"?Nu:_e[251]?Mu:Tu}let Te=fe(n),ye=Te(n);function ve(..._e){return n[132](n[247],n[256],..._e)}let ge=!((Be=n[248])!=null&&Be.isProtected)&&!n[249]&&bs(n);const me=[Uu,$u,Fu,Ru],Me=[];function ie(_e,Oe){var Ve,Ze;return(Ve=_e[248])!=null&&Ve.isProtected?0:_e[249]?1:(Ze=_e[248])!=null&&Ze.namingIssues&&_e[248].namingIssues.length>0?2:_e[251]?-1:3}~(F=ie(n))&&(L=Me[F]=me[F](n));let se=((ce=n[248])==null?void 0:ce.examples)&&n[248].examples.length>0&&ws(n);return{c(){var _e,Oe,Ve,Ze,Qe,Fe,Ke;e=y("div"),t=y("div"),i=y("input"),a=k(),l=y("span"),p=$(d),m=k(),f=y("span"),b=$("("),v=$(c),w=$(")"),_=k(),O&&O.c(),C=k(),J&&J.c(),E=k(),ye.c(),M=k(),x=y("div"),N=y("input"),B=k(),ge&&ge.c(),R=k(),L&&L.c(),V=k(),se&&se.c(),Y=k(),h(i,"type","checkbox"),i.checked=s=n[251]&&!n[249],i.disabled=r=((_e=n[248])==null?void 0:_e.isProtected)||n[249],h(i,"class","rounded border-[var(--background-modifier-border)] text-[var(--interactive-accent)] focus:ring-[var(--interactive-accent)] disabled:opacity-50 disabled:cursor-not-allowed"),h(i,"title",o=n[249]?"This property is globally ignored and cannot be enabled":(Oe=n[248])!=null&&Oe.isProtected?"Protected properties cannot be enabled":"Enable/disable this property for Pydantic model generation"),h(l,"class",g="font-medium text-[var(--text-default)] "+(n[249]?"text-[var(--text-muted)] line-through":"")),h(f,"class","text-[var(--text-muted)] text-sm"),h(t,"class","flex items-center gap-2 flex-wrap"),h(N,"type","text"),N.value=D=n[84](n[243].typeName,((Ve=n[248])==null?void 0:Ve.name)||"",((Ze=n[248])==null?void 0:Ze.description)||""),h(N,"placeholder","Property description"),h(N,"class",A="flex-1 px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm min-w-48 disabled:opacity-50 "+(n[249]?"bg-[var(--background-modifier-border)]":"")),N.disabled=I=((Qe=n[248])==null?void 0:Qe.isProtected)||n[249],h(x,"class","flex items-center gap-2"),h(e,"class",W="flex flex-col gap-2 p-3 bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded-md "+((Fe=n[248])!=null&&Fe.isProtected?"border-l-4 border-l-[var(--text-error)] bg-[var(--background-modifier-error)]":((Ke=n[248])==null?void 0:Ke.complianceStatus)==="warning"?"border-l-4 border-l-[var(--text-warning)] bg-[var(--background-modifier-warning)]":n[249]?"border-l-4 border-l-[var(--text-muted)] bg-[var(--background-modifier-border)]":""))},m(_e,Oe){z(_e,e,Oe),u(e,t),u(t,i),u(t,a),u(t,l),u(l,p),u(t,m),u(t,f),u(f,b),u(f,v),u(f,w),u(t,_),O&&O.m(t,null),u(t,C),J&&J.m(t,null),u(t,E),ye.m(t,null),u(e,M),u(e,x),u(x,N),u(x,B),ge&&ge.m(x,null),u(e,R),~F&&Me[F].m(e,null),u(e,V),se&&se.m(e,null),u(e,Y),K=!0,H||(U=[ne(i,"change",X),ne(N,"input",ve)],H=!0)},p(_e,Oe){var Ze,Qe,Fe,Ke,Le,$e,qe,Re,tt,ct,We,Ye;n=_e,(!K||Oe[0]&9&&s!==(s=n[251]&&!n[249]))&&(i.checked=s),(!K||Oe[0]&9&&r!==(r=((Ze=n[248])==null?void 0:Ze.isProtected)||n[249]))&&(i.disabled=r),(!K||Oe[0]&9&&o!==(o=n[249]?"This property is globally ignored and cannot be enabled":(Qe=n[248])!=null&&Qe.isProtected?"Protected properties cannot be enabled":"Enable/disable this property for Pydantic model generation"))&&h(i,"title",o),(!K||Oe[0]&1)&&d!==(d=(((Fe=n[248])==null?void 0:Fe.name)||"Unknown")+"")&&ae(p,d),(!K||Oe[0]&9&&g!==(g="font-medium text-[var(--text-default)] "+(n[249]?"text-[var(--text-muted)] line-through":"")))&&h(l,"class",g),(!K||Oe[0]&1)&&c!==(c=(((Ke=n[248])==null?void 0:Ke.inferredType)||"string")+"")&&ae(v,c),n[252]?O?O.p(n,Oe):(O=ms(n),O.c(),O.m(t,C)):O&&(O.d(1),O=null),!((Le=n[248])!=null&&Le.isProtected)&&!n[249]?J?J.p(n,Oe):(J=ys(n),J.c(),J.m(t,E)):J&&(J.d(1),J=null),Te!==(Te=fe(n))&&(ye.d(1),ye=Te(n),ye&&(ye.c(),ye.m(t,null))),(!K||Oe[0]&1&&D!==(D=n[84](n[243].typeName,(($e=n[248])==null?void 0:$e.name)||"",((qe=n[248])==null?void 0:qe.description)||""))&&N.value!==D)&&(N.value=D),(!K||Oe[0]&9&&A!==(A="flex-1 px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm min-w-48 disabled:opacity-50 "+(n[249]?"bg-[var(--background-modifier-border)]":"")))&&h(N,"class",A),(!K||Oe[0]&9&&I!==(I=((Re=n[248])==null?void 0:Re.isProtected)||n[249]))&&(N.disabled=I),!((tt=n[248])!=null&&tt.isProtected)&&!n[249]?ge?(ge.p(n,Oe),Oe[0]&9&&G(ge,1)):(ge=bs(n),ge.c(),G(ge,1),ge.m(x,null)):ge&&(Ue(),Z(ge,1,1,()=>{ge=null}),je());let Ve=F;F=ie(n),F===Ve?~F&&Me[F].p(n,Oe):(L&&(Ue(),Z(Me[Ve],1,1,()=>{Me[Ve]=null}),je()),~F?(L=Me[F],L?L.p(n,Oe):(L=Me[F]=me[F](n),L.c()),G(L,1),L.m(e,V)):L=null),(ct=n[248])!=null&&ct.examples&&n[248].examples.length>0?se?se.p(n,Oe):(se=ws(n),se.c(),se.m(e,Y)):se&&(se.d(1),se=null),(!K||Oe[0]&9&&W!==(W="flex flex-col gap-2 p-3 bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded-md "+((We=n[248])!=null&&We.isProtected?"border-l-4 border-l-[var(--text-error)] bg-[var(--background-modifier-error)]":((Ye=n[248])==null?void 0:Ye.complianceStatus)==="warning"?"border-l-4 border-l-[var(--text-warning)] bg-[var(--background-modifier-warning)]":n[249]?"border-l-4 border-l-[var(--text-muted)] bg-[var(--background-modifier-border)]":"")))&&h(e,"class",W)},i(_e){K||(G(ge),G(L),K=!0)},o(_e){Z(ge),Z(L),K=!1},d(_e){_e&&j(e),O&&O.d(),J&&J.d(),ye.d(),ge&&ge.d(),~F&&Me[F].d(),se&&se.d(),H=!1,Je(U)}}}function ks(n){let e,t,i,s;const r=[Bu,zu,ju],o=[];function a(l,d){return l[244].length===0?0:l[244].length<l[245]?1:2}return e=a(n),t=o[e]=r[e](n),{c(){t.c(),i=rn()},m(l,d){o[e].m(l,d),z(l,i,d),s=!0},p(l,d){let p=e;e=a(l),e===p?o[e].p(l,d):(Ue(),Z(o[p],1,1,()=>{o[p]=null}),je(),t=o[e],t?t.p(l,d):(t=o[e]=r[e](l),t.c()),G(t,1),t.m(i.parentNode,i))},i(l){s||(G(t),s=!0)},o(l){Z(t),s=!1},d(l){l&&j(i),o[e].d(l)}}}function ju(n){let e,t,i,s,r,o=n[244].length+"",a,l,d=n[244].length===1?"y":"ies",p,g,m,f,b;return t=new De({props:{icon:"check-circle",size:"medium"}}),{c(){e=y("div"),Pe(t.$$.fragment),i=k(),s=y("strong"),s.textContent="All Properties Enabled:",r=k(),a=$(o),l=$(" propert"),p=$(d),g=$(` ready for Pydantic model generation.\r
                            `),m=y("br"),f=y("span"),f.textContent=`This entity type is fully configured and ready to\r
                              use.`,h(f,"class","text-xs text-[var(--text-muted)]"),h(e,"class","mt-4 p-3 bg-[var(--background-modifier-success)] border border-[var(--background-modifier-border)] rounded text-sm leading-relaxed text-[var(--text-on-accent)] flex items-center gap-2")},m(c,v){z(c,e,v),Ee(t,e,null),u(e,i),u(e,s),u(e,r),u(e,a),u(e,l),u(e,p),u(e,g),u(e,m),u(e,f),b=!0},p(c,v){(!b||v[0]&9)&&o!==(o=c[244].length+"")&&ae(a,o),(!b||v[0]&9)&&d!==(d=c[244].length===1?"y":"ies")&&ae(p,d)},i(c){b||(G(t.$$.fragment,c),b=!0)},o(c){Z(t.$$.fragment,c),b=!1},d(c){c&&j(e),Ce(t)}}}function zu(n){let e,t,i,s=n[244].length+"",r,o,a=n[245]+"",l,d,p,g,m=n[245]-n[244].length+"",f,b;return{c(){e=y("div"),t=y("strong"),t.textContent="[INFO] Partial Selection:",i=k(),r=$(s),o=$(" of "),l=$(a),d=$(` properties\r
                            enabled for Pydantic model generation.\r
                            `),p=y("br"),g=y("span"),f=$(m),b=$(` properties\r
                              will be excluded from the generated model.`),h(g,"class","text-xs text-[var(--text-muted)]"),h(e,"class","mt-4 p-3 bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded text-sm leading-relaxed text-[var(--text-default)]")},m(c,v){z(c,e,v),u(e,t),u(e,i),u(e,r),u(e,o),u(e,l),u(e,d),u(e,p),u(e,g),u(g,f),u(g,b)},p(c,v){v[0]&9&&s!==(s=c[244].length+"")&&ae(r,s),v[0]&1&&a!==(a=c[245]+"")&&ae(l,a),v[0]&9&&m!==(m=c[245]-c[244].length+"")&&ae(f,m)},i:we,o:we,d(c){c&&j(e)}}}function Bu(n){let e,t,i,s,r,o,a,l;return t=new De({props:{icon:"alert-triangle",size:"medium"}}),{c(){e=y("div"),Pe(t.$$.fragment),i=k(),s=y("strong"),s.textContent="No Properties Selected:",r=$(`\r
                            This entity type has no enabled properties and will be\r
                            excluded from Pydantic model generation.\r
                            `),o=y("br"),a=y("span"),a.textContent=`Enable at least one property using the checkboxes\r
                              above, or this entity type won't appear in\r
                              generated models.`,h(a,"class","text-xs text-[var(--text-muted)]"),h(e,"class","mt-4 p-3 bg-[var(--background-modifier-warning)] border border-[var(--background-modifier-border)] rounded text-sm leading-relaxed text-[var(--text-default)] flex items-center gap-2")},m(d,p){z(d,e,p),Ee(t,e,null),u(e,i),u(e,s),u(e,r),u(e,o),u(e,a),l=!0},p:we,i(d){l||(G(t.$$.fragment,d),l=!0)},o(d){Z(t.$$.fragment,d),l=!1},d(d){d&&j(e),Ce(t)}}}function Es(n){let e,t,i,s,r,o=n[243].typeName+"",a,l,d,p,g,m,f,b=n[38][n[243].typeName]?"Entity Enabled":"Entity Disabled",c,v,w,_,C,E,M=n[244].length+"",x,N,D=n[245]+"",A,I,B,R,F,L,V,Y,W=n[6].has(n[243].typeName),K,H,U=n[6].has(n[243].typeName),X,O,J,fe,Te;function ye(){return n[126](n[243])}const ve=[Cu,Eu],ge=[];function me(Q,ue){return ue[0]&65&&(F=null),F==null&&(F=!!Q[6].has(Q[243].typeName)),F?0:1}L=me(n,[-1,-1,-1,-1,-1,-1,-1,-1,-1]),V=ge[L]=ve[L](n);function Me(){return n[127](n[243])}let ie=W&&fs(n),se=U&&hs(n);return{c(){e=y("div"),t=y("div"),i=y("button"),s=y("div"),r=y("h4"),a=$(o),l=k(),d=y("label"),p=y("input"),m=k(),f=y("span"),c=$(b),_=k(),C=y("div"),E=y("span"),x=$(M),N=$(" of "),A=$(D),I=$(" enabled"),B=k(),R=y("span"),V.c(),Y=k(),ie&&ie.c(),H=k(),se&&se.c(),X=k(),h(r,"class","font-semibold text-[var(--text-default)]"),h(p,"type","checkbox"),p.checked=g=!!n[38][n[243].typeName],h(p,"class","w-4 h-4 text-[var(--text-success)] bg-[var(--background-secondary)] border-[var(--background-modifier-border)] rounded focus:ring-[var(--text-success)] focus:ring-2"),h(f,"class",v="text-xs "+(n[38][n[243].typeName]?"text-[var(--text-success)]":"text-[var(--text-muted)]")),h(d,"class","flex items-center gap-1 cursor-pointer"),h(d,"title",w=n[38][n[243].typeName]?"Entity enabled in data.json - uncheck to disable":"Entity disabled - check to enable in data.json"),h(s,"class","flex items-center gap-3"),h(E,"class","text-xs text-[var(--text-muted)] bg-[var(--background-secondary)] px-2 py-1 rounded-full"),h(R,"class","text-lg text-[var(--text-muted)] font-bold ml-4"),h(C,"class","flex items-center gap-4"),h(i,"class","flex-1 flex justify-between items-center text-left cursor-pointer transition-colors duration-200 hover:opacity-90"),h(t,"class",K="flex justify-between items-center w-full p-4 bg-[var(--background-secondary)] border-none "+(n[6].has(n[243].typeName)?"border-b border-[var(--background-modifier-border)]":"")),h(e,"class","bg-[var(--background-secondary-alt)] border border-[var(--background-modifier-border)] rounded-lg overflow-hidden"),h(e,"id",O="accordion-"+n[243].typeName)},m(Q,ue){z(Q,e,ue),u(e,t),u(t,i),u(i,s),u(s,r),u(r,a),u(s,l),u(s,d),u(d,p),u(d,m),u(d,f),u(f,c),u(i,_),u(i,C),u(C,E),u(E,x),u(E,N),u(E,A),u(E,I),u(C,B),u(C,R),ge[L].m(R,null),u(t,Y),ie&&ie.m(t,null),u(e,H),se&&se.m(e,null),u(e,X),J=!0,fe||(Te=[ne(p,"change",It(ye)),ne(i,"click",Me)],fe=!0)},p(Q,ue){n=Q,(!J||ue[0]&1)&&o!==(o=n[243].typeName+"")&&ae(a,o),(!J||ue[0]&1|ue[1]&128&&g!==(g=!!n[38][n[243].typeName]))&&(p.checked=g),(!J||ue[0]&1|ue[1]&128)&&b!==(b=n[38][n[243].typeName]?"Entity Enabled":"Entity Disabled")&&ae(c,b),(!J||ue[0]&1|ue[1]&128&&v!==(v="text-xs "+(n[38][n[243].typeName]?"text-[var(--text-success)]":"text-[var(--text-muted)]")))&&h(f,"class",v),(!J||ue[0]&1|ue[1]&128&&w!==(w=n[38][n[243].typeName]?"Entity enabled in data.json - uncheck to disable":"Entity disabled - check to enable in data.json"))&&h(d,"title",w),(!J||ue[0]&9)&&M!==(M=n[244].length+"")&&ae(x,M),(!J||ue[0]&1)&&D!==(D=n[245]+"")&&ae(A,D);let ze=L;L=me(n,ue),L!==ze&&(Ue(),Z(ge[ze],1,1,()=>{ge[ze]=null}),je(),V=ge[L],V||(V=ge[L]=ve[L](n),V.c()),G(V,1),V.m(R,null)),ue[0]&65&&(W=n[6].has(n[243].typeName)),W?ie?ie.p(n,ue):(ie=fs(n),ie.c(),ie.m(t,null)):ie&&(ie.d(1),ie=null),(!J||ue[0]&65&&K!==(K="flex justify-between items-center w-full p-4 bg-[var(--background-secondary)] border-none "+(n[6].has(n[243].typeName)?"border-b border-[var(--background-modifier-border)]":"")))&&h(t,"class",K),ue[0]&65&&(U=n[6].has(n[243].typeName)),U?se?(se.p(n,ue),ue[0]&65&&G(se,1)):(se=hs(n),se.c(),G(se,1),se.m(e,X)):se&&(Ue(),Z(se,1,1,()=>{se=null}),je()),(!J||ue[0]&1&&O!==(O="accordion-"+n[243].typeName))&&h(e,"id",O)},i(Q){J||(G(V),G(se),J=!0)},o(Q){Z(V),Z(se),J=!1},d(Q){Q&&j(e),ge[L].d(),ie&&ie.d(),se&&se.d(),fe=!1,Je(Te)}}}function Cs(n){let e,t,i,s,r,o,a,l,d,p,g,m,f,b,c,v,w,_,C,E,M,x,N,D,A,I,B,R,F,L,V,Y=Object.keys(n[40]).length>0,W,K,H,U,X,O,J;s=new De({props:{icon:"sparkles"}});function fe(ce,_e){return ce[15]?Gu:Vu}let Te=fe(n),ye=Te(n);_=new De({props:{icon:"lightbulb"}});function ve(ce,_e){if(ce[14]&&ce[13].length>0)return qu;if(ce[14])return Yu}let ge=ve(n),me=ge&&ge(n);D=new De({props:{icon:"link-2"}});const Me=[Ku,Wu],ie=[];function se(ce,_e){return ce[42]&&ce[42].length>0?0:1}F=se(n),L=ie[F]=Me[F](n);let Q=Y&&Os(n);const ue=[np,tp],ze=[];function Be(ce,_e){return ce[10]?0:1}return H=Be(n),U=ze[H]=ue[H](n),{c(){e=y("div"),t=y("div"),i=y("h3"),Pe(s.$$.fragment),r=k(),o=y("span"),o.textContent="LLM Edge Type Generation",a=k(),l=y("p"),l.textContent=`Use AI to automatically generate edge type suggestions and property\r
            descriptions for relationships.`,d=k(),p=y("div"),g=y("button"),g.textContent="Generate Edge Type Suggestions",m=k(),f=y("button"),ye.c(),b=k(),c=y("div"),v=y("div"),w=y("h3"),Pe(_.$$.fragment),C=$(" Suggested Edge Types"),E=k(),me&&me.c(),M=k(),x=y("div"),N=y("h3"),Pe(D.$$.fragment),A=$(" Edge Types Management"),I=k(),B=y("p"),B.textContent=`Define relationship types between entities with custom properties\r
            for Pydantic model generation.`,R=k(),L.c(),V=k(),Q&&Q.c(),W=k(),K=y("div"),U.c(),h(i,"class","text-xl font-semibold mb-2 flex items-center gap-2"),h(l,"class","mb-4 opacity-90 leading-relaxed"),h(g,"class","px-4 py-2 bg-[rgba(255,255,255,0.06)] border border-[rgba(255,255,255,0.08)] rounded-md text-sm transition-all duration-200 backdrop-blur-sm hover:bg-[rgba(255,255,255,0.09)] text-[var(--text-on-accent)]"),h(f,"class","px-4 py-2 bg-[rgba(255,255,255,0.06)] border border-[rgba(255,255,255,0.08)] rounded-md text-sm transition-all duration-200 backdrop-blur-sm hover:bg-[rgba(255,255,255,0.09)] disabled:opacity-50 disabled:cursor-not-allowed text-[var(--text-on-accent)]"),f.disabled=n[15],h(p,"class","flex gap-3 flex-wrap items-center"),h(t,"class","bg-gradient-to-br from-[var(--interactive-accent)] to-[var(--background-secondary)] text-[var(--text-on-accent)] p-6 rounded-xl mb-6 shadow-md"),h(w,"class","text-lg font-semibold text-[var(--text-default)] flex items-center gap-2"),h(v,"class","megamem-section-header mb-4"),h(c,"class","megamem-settings-section mb-6"),h(N,"class","text-lg font-semibold mb-2 text-[var(--text-default)] flex items-center gap-2"),h(B,"class","text-[var(--text-muted)] mb-6"),h(K,"class","mt-6"),h(e,"class","animate-fadeIn")},m(ce,_e){z(ce,e,_e),u(e,t),u(t,i),Ee(s,i,null),u(i,r),u(i,o),u(t,a),u(t,l),u(t,d),u(t,p),u(p,g),u(p,m),u(p,f),ye.m(f,null),u(e,b),u(e,c),u(c,v),u(v,w),Ee(_,w,null),u(w,C),u(c,E),me&&me.m(c,null),u(e,M),u(e,x),u(x,N),Ee(D,N,null),u(N,A),u(x,I),u(x,B),u(x,R),ie[F].m(x,null),u(x,V),Q&&Q.m(x,null),u(x,W),u(x,K),ze[H].m(K,null),X=!0,O||(J=[ne(g,"click",n[137]),ne(f,"click",n[92])],O=!0)},p(ce,_e){Te!==(Te=fe(ce))&&(ye.d(1),ye=Te(ce),ye&&(ye.c(),ye.m(f,null))),(!X||_e[0]&32768)&&(f.disabled=ce[15]),ge===(ge=ve(ce))&&me?me.p(ce,_e):(me&&me.d(1),me=ge&&ge(ce),me&&(me.c(),me.m(c,null)));let Oe=F;F=se(ce),F===Oe?ie[F].p(ce,_e):(Ue(),Z(ie[Oe],1,1,()=>{ie[Oe]=null}),je(),L=ie[F],L?L.p(ce,_e):(L=ie[F]=Me[F](ce),L.c()),G(L,1),L.m(x,V)),_e[1]&512&&(Y=Object.keys(ce[40]).length>0),Y?Q?(Q.p(ce,_e),_e[1]&512&&G(Q,1)):(Q=Os(ce),Q.c(),G(Q,1),Q.m(x,W)):Q&&(Ue(),Z(Q,1,1,()=>{Q=null}),je());let Ve=H;H=Be(ce),H===Ve?ze[H].p(ce,_e):(Ue(),Z(ze[Ve],1,1,()=>{ze[Ve]=null}),je(),U=ze[H],U?U.p(ce,_e):(U=ze[H]=ue[H](ce),U.c()),G(U,1),U.m(K,null))},i(ce){X||(G(s.$$.fragment,ce),G(_.$$.fragment,ce),G(D.$$.fragment,ce),G(L),G(Q),G(U),X=!0)},o(ce){Z(s.$$.fragment,ce),Z(_.$$.fragment,ce),Z(D.$$.fragment,ce),Z(L),Z(Q),Z(U),X=!1},d(ce){ce&&j(e),Ce(s),ye.d(),Ce(_),me&&me.d(),Ce(D),ie[F].d(),Q&&Q.d(),ze[H].d(),O=!1,Je(J)}}}function Vu(n){let e;return{c(){e=$("Generate Edge Property Descriptions")},m(t,i){z(t,e,i)},d(t){t&&j(e)}}}function Gu(n){let e;return{c(){e=$(" Generating...")},m(t,i){z(t,e,i)},d(t){t&&j(e)}}}function Yu(n){let e;return{c(){e=y("div"),e.textContent=`No suggestions available. Try generating with specific entity\r
              types.`,h(e,"class","megamem-info-message svelte-1fc521h")},m(t,i){z(t,e,i)},p:we,d(t){t&&j(e)}}}function qu(n){let e,t=xe(n[13]),i=[];for(let s=0;s<t.length;s+=1)i[s]=Ps(es(n,t,s));return{c(){e=y("div");for(let s=0;s<i.length;s+=1)i[s].c();h(e,"class","megamem-suggestions-container svelte-1fc521h")},m(s,r){z(s,e,r);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(e,null)},p(s,r){if(r[0]&8192|r[2]&8192){t=xe(s[13]);let o;for(o=0;o<t.length;o+=1){const a=es(s,t,o);i[o]?i[o].p(a,r):(i[o]=Ps(a),i[o].c(),i[o].m(e,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=t.length}},d(s){s&&j(e),Xe(i,s)}}}function Ps(n){let e,t,i,s=n[213].className+"",r,o,a,l=Math.round(n[213].confidence*100)+"",d,p,g,m,f=n[213].description+"",b,c,v,w,_,C;function E(){return n[138](n[213])}return{c(){e=y("div"),t=y("div"),i=y("strong"),r=$(s),o=k(),a=y("span"),d=$(l),p=$("% confidence"),g=k(),m=y("div"),b=$(f),c=k(),v=y("button"),v.textContent="+ Add to Schema",w=k(),h(a,"class","megamem-confidence svelte-1fc521h"),h(t,"class","megamem-suggestion-info svelte-1fc521h"),h(m,"class","megamem-suggestion-description svelte-1fc521h"),h(v,"class","megamem-button-small megamem-accept-button svelte-1fc521h"),h(e,"class","megamem-suggestion-item svelte-1fc521h")},m(M,x){z(M,e,x),u(e,t),u(t,i),u(i,r),u(t,o),u(t,a),u(a,d),u(a,p),u(e,g),u(e,m),u(m,b),u(e,c),u(e,v),u(e,w),_||(C=ne(v,"click",E),_=!0)},p(M,x){n=M,x[0]&8192&&s!==(s=n[213].className+"")&&ae(r,s),x[0]&8192&&l!==(l=Math.round(n[213].confidence*100)+"")&&ae(d,l),x[0]&8192&&f!==(f=n[213].description+"")&&ae(b,f)},d(M){M&&j(e),_=!1,C()}}}function Wu(n){let e,t,i,s,r,o,a,l,d,p,g,m,f,b,c,v,w,_,C,E,M,x,N,D,A,I,B,R,F,L,V,Y,W,K,H,U,X,O;return i=new De({props:{icon:"link-2"}}),C=new De({props:{icon:"sparkles"}}),D=new De({props:{icon:"users"}}),F=new De({props:{icon:"bar-chart-2"}}),K=new De({props:{icon:"package"}}),{c(){e=y("div"),t=y("div"),Pe(i.$$.fragment),s=k(),r=y("h4"),r.textContent="No Edge Types Defined",o=k(),a=y("p"),a.textContent=`Create relationship types like "WorksFor", "Uses", or "Creates"\r
                with custom properties.`,l=k(),d=y("div"),p=y("h5"),p.textContent="Quick Add Common Types:",g=k(),m=y("div"),f=y("button"),f.innerHTML='<span class="text-base text-[var(--text-default)]">WorksFor</span>',b=k(),c=y("button"),c.innerHTML='<span class="text-base text-[var(--text-default)]">Uses</span>',v=k(),w=y("button"),_=y("span"),Pe(C.$$.fragment),E=$(" Creates"),M=k(),x=y("button"),N=y("span"),Pe(D.$$.fragment),A=$(" MemberOf"),I=k(),B=y("button"),R=y("span"),Pe(F.$$.fragment),L=$(" Manages"),V=k(),Y=y("button"),W=y("span"),Pe(K.$$.fragment),H=$(" Contains"),h(t,"class","text-6xl mb-5 opacity-50"),h(r,"class","text-lg font-semibold mb-3 text-[var(--text-default)]"),h(a,"class","mb-10 max-w-lg mx-auto leading-relaxed text-[var(--text-muted)]"),h(p,"class","text-sm font-semibold mb-5 text-[var(--text-default)]"),h(f,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] text-[var(--text-default)] px-4 py-3 rounded-lg cursor-pointer transition-all duration-200 hover:opacity-90 hover:border-[var(--interactive-accent)] hover:shadow-md flex items-center gap-2 text-sm font-medium"),h(c,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] text-[var(--text-default)] px-4 py-3 rounded-lg cursor-pointer transition-all duration-200 hover:opacity-90 hover:border-[var(--interactive-accent)] hover:shadow-md flex items-center gap-2 text-sm font-medium"),h(_,"class","text-base text-[var(--text-default)]"),h(w,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] text-[var(--text-default)] px-4 py-3 rounded-lg cursor-pointer transition-all duration-200 hover:opacity-90 hover:border-[var(--interactive-accent)] hover:shadow-md flex items-center gap-2 text-sm font-medium"),h(N,"class","text-base text-[var(--text-default)]"),h(x,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] text-[var(--text-default)] px-4 py-3 rounded-lg cursor-pointer transition-all duration-200 hover:opacity-90 hover:border-[var(--interactive-accent)] hover:shadow-md flex items-center gap-2 text-sm font-medium"),h(R,"class","text-base text-[var(--text-default)]"),h(B,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] text-[var(--text-default)] px-4 py-3 rounded-lg cursor-pointer transition-all duration-200 hover:opacity-90 hover:border-[var(--interactive-accent)] hover:shadow-md flex items-center gap-2 text-sm font-medium"),h(W,"class","text-base text-[var(--text-default)]"),h(Y,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] text-[var(--text-default)] px-4 py-3 rounded-lg cursor-pointer transition-all duration-200 hover:opacity-90 hover:border-[var(--interactive-accent)] hover:shadow-md flex items-center gap-2 text-sm font-medium"),h(m,"class","grid grid-cols-2 md:grid-cols-3 gap-3 max-w-2xl mx-auto"),h(d,"class","mt-10 pt-8 border-t border-[var(--background-modifier-border)]"),h(e,"class","text-center py-16 text-[var(--text-muted)]")},m(J,fe){z(J,e,fe),u(e,t),Ee(i,t,null),u(e,s),u(e,r),u(e,o),u(e,a),u(e,l),u(e,d),u(d,p),u(d,g),u(d,m),u(m,f),u(m,b),u(m,c),u(m,v),u(m,w),u(w,_),Ee(C,_,null),u(w,E),u(m,M),u(m,x),u(x,N),Ee(D,N,null),u(x,A),u(m,I),u(m,B),u(B,R),Ee(F,R,null),u(B,L),u(m,V),u(m,Y),u(Y,W),Ee(K,W,null),u(Y,H),U=!0,X||(O=[ne(f,"click",n[151]),ne(c,"click",n[152]),ne(w,"click",n[153]),ne(x,"click",n[154]),ne(B,"click",n[155]),ne(Y,"click",n[156])],X=!0)},p:we,i(J){U||(G(i.$$.fragment,J),G(C.$$.fragment,J),G(D.$$.fragment,J),G(F.$$.fragment,J),G(K.$$.fragment,J),U=!0)},o(J){Z(i.$$.fragment,J),Z(C.$$.fragment,J),Z(D.$$.fragment,J),Z(F.$$.fragment,J),Z(K.$$.fragment,J),U=!1},d(J){J&&j(e),Ce(i),Ce(C),Ce(D),Ce(F),Ce(K),X=!1,Je(O)}}}function Ku(n){let e,t,i=xe(n[42]),s=[];for(let o=0;o<i.length;o+=1)s[o]=As(Zi(n,i,o));const r=o=>Z(s[o],1,1,()=>{s[o]=null});return{c(){e=y("div");for(let o=0;o<s.length;o+=1)s[o].c();h(e,"class","flex flex-col gap-4")},m(o,a){z(o,e,a);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(e,null);t=!0},p(o,a){if(a[0]&503840834|a[1]&1979721728|a[2]&536870913){i=xe(o[42]);let l;for(l=0;l<i.length;l+=1){const d=Zi(o,i,l);s[l]?(s[l].p(d,a),G(s[l],1)):(s[l]=As(d),s[l].c(),G(s[l],1),s[l].m(e,null))}for(Ue(),l=i.length;l<s.length;l+=1)r(l);je()}},i(o){if(!t){for(let a=0;a<i.length;a+=1)G(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)Z(s[a]);t=!1},d(o){o&&j(e),Xe(s,o)}}}function Hu(n){let e,t;return e=new De({props:{icon:"chevron-right",size:"medium"}}),{c(){Pe(e.$$.fragment)},m(i,s){Ee(e,i,s),t=!0},i(i){t||(G(e.$$.fragment,i),t=!0)},o(i){Z(e.$$.fragment,i),t=!1},d(i){Ce(e,i)}}}function Ju(n){let e,t;return e=new De({props:{icon:"chevron-down",size:"medium"}}),{c(){Pe(e.$$.fragment)},m(i,s){Ee(e,i,s),t=!0},i(i){t||(G(e.$$.fragment,i),t=!0)},o(i){Z(e.$$.fragment,i),t=!1},d(i){Ce(e,i)}}}function Ds(n){let e,t,i,s,r,o,a,l,d,p,g,m,f,b,c,v,w,_,C,E,M,x;function N(...F){return n[141](n[231],...F)}f=new De({props:{icon:"chevron-right",size:"medium"}});function D(){return n[142](n[231])}const A=[Zu,Qu],I=[];function B(F,L){var V;return L[0]&2|L[1]&2048&&(v=null),v==null&&(v=Object.keys(((V=F[1][F[231]])==null?void 0:V.properties)||{}).length>0),v?0:1}w=B(n,[-1,-1,-1,-1,-1,-1,-1,-1,-1]),_=I[w]=A[w](n);let R=n[25]===n[231]&&Ns(n);return{c(){e=y("div"),t=y("div"),i=y("strong"),i.textContent="Description:",s=k(),r=y("textarea"),a=k(),l=y("div"),d=y("div"),p=y("strong"),p.textContent="Properties:",g=k(),m=y("button"),Pe(f.$$.fragment),b=$(` Add\r
                            Property`),c=k(),_.c(),C=k(),R&&R.c(),h(i,"class","text-sm text-[var(--text-default)] block mb-2"),r.value=o=n[57](n[231]),h(r,"class","w-full px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm leading-relaxed resize-vertical"),h(r,"placeholder","Describe this relationship type..."),h(r,"rows","2"),h(t,"class","mb-4"),h(p,"class","text-sm text-[var(--text-default)]"),h(m,"class","px-2 py-1 bg-[var(--background-modifier-border)] border border-[var(--background-modifier-border)] rounded text-xs hover:opacity-90 transition-colors duration-200"),h(d,"class","flex justify-between items-center mb-3"),h(e,"class","p-4")},m(F,L){z(F,e,L),u(e,t),u(t,i),u(t,s),u(t,r),u(e,a),u(e,l),u(l,d),u(d,p),u(d,g),u(d,m),Ee(f,m,null),u(m,b),u(l,c),I[w].m(l,null),u(l,C),R&&R.m(l,null),E=!0,M||(x=[ne(r,"input",N),ne(m,"click",D)],M=!0)},p(F,L){n=F,(!E||L[1]&2048&&o!==(o=n[57](n[231])))&&(r.value=o);let V=w;w=B(n,L),w===V?I[w].p(n,L):(Ue(),Z(I[V],1,1,()=>{I[V]=null}),je(),_=I[w],_?_.p(n,L):(_=I[w]=A[w](n),_.c()),G(_,1),_.m(l,C)),n[25]===n[231]?R?R.p(n,L):(R=Ns(n),R.c(),R.m(l,null)):R&&(R.d(1),R=null)},i(F){E||(G(f.$$.fragment,F),G(_),E=!0)},o(F){Z(f.$$.fragment,F),Z(_),E=!1},d(F){F&&j(e),Ce(f),I[w].d(),R&&R.d(),M=!1,Je(x)}}}function Qu(n){let e;return{c(){e=y("p"),e.textContent="No properties defined",h(e,"class","text-[var(--text-muted)] italic text-center py-2 text-sm")},m(t,i){z(t,e,i)},p:we,i:we,o:we,d(t){t&&j(e)}}}function Zu(n){let e,t,i=xe(Object.entries(n[1][n[231]].properties)),s=[];for(let o=0;o<i.length;o+=1)s[o]=Ms(Xi(n,i,o));const r=o=>Z(s[o],1,1,()=>{s[o]=null});return{c(){e=y("div");for(let o=0;o<s.length;o+=1)s[o].c();h(e,"class","flex flex-col gap-2")},m(o,a){z(o,e,a);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(e,null);t=!0},p(o,a){if(a[0]&524290|a[1]&1610614784|a[2]&536870912){i=xe(Object.entries(o[1][o[231]].properties));let l;for(l=0;l<i.length;l+=1){const d=Xi(o,i,l);s[l]?(s[l].p(d,a),G(s[l],1)):(s[l]=Ms(d),s[l].c(),G(s[l],1),s[l].m(e,null))}for(Ue(),l=i.length;l<s.length;l+=1)r(l);je()}},i(o){if(!t){for(let a=0;a<i.length;a+=1)G(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)Z(s[a]);t=!1},d(o){o&&j(e),Xe(s,o)}}}function Ts(n){let e;return{c(){e=y("span"),e.textContent="REQUIRED",h(e,"class","text-xs px-2 py-1 bg-[var(--background-modifier-warning)] text-[var(--text-on-accent)] rounded font-bold uppercase tracking-wide ml-auto")},m(t,i){z(t,e,i)},d(t){t&&j(e)}}}function Xu(n){let e,t,i,s;return e=new De({props:{icon:"sparkles",size:"medium"}}),{c(){Pe(e.$$.fragment),t=k(),i=y("span"),i.textContent="LLM Suggest"},m(r,o){Ee(e,r,o),z(r,t,o),z(r,i,o),s=!0},i(r){s||(G(e.$$.fragment,r),s=!0)},o(r){Z(e.$$.fragment,r),s=!1},d(r){r&&(j(t),j(i)),Ce(e,r)}}}function ep(n){let e;return{c(){e=$(" Generating...")},m(t,i){z(t,e,i)},i:we,o:we,d(t){t&&j(e)}}}function Ms(n){let e,t,i,s=n[237]+"",r,o,a,l,d=Jt(n[238]).fieldType+"",p,g,m,f=Jt(n[238]).required,b,c,v,w,_,C,E,M,x,N,D,A,I,B,R,F,L=f&&Ts();function V(...X){return n[143](n[231],n[237],...X)}E=new De({props:{icon:"trash-2",size:"medium"}});function Y(){return n[144](n[231],n[237])}const W=[ep,Xu],K=[];function H(X,O){return X[19]===`${X[231]}.${X[237]}`?0:1}N=H(n),D=K[N]=W[N](n);function U(){return n[145](n[231],n[237])}return{c(){e=y("div"),t=y("div"),i=y("span"),r=$(s),o=k(),a=y("span"),l=$("("),p=$(d),g=$(")"),m=k(),L&&L.c(),b=k(),c=y("div"),v=y("input"),_=k(),C=y("button"),Pe(E.$$.fragment),M=k(),x=y("button"),D.c(),I=k(),h(i,"class","font-medium text-[var(--text-default)]"),h(a,"class","text-[var(--text-muted)] text-sm"),h(t,"class","flex items-center gap-2 flex-wrap"),h(v,"type","text"),v.value=w=Jt(n[238]).description,h(v,"placeholder","Property description"),h(v,"class","flex-1 px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm min-w-48"),h(C,"class","px-2 py-2 bg-[var(--background-modifier-error)] text-[var(--text-on-accent)] border border-[var(--background-modifier-border)] rounded hover:opacity-90 transition-colors duration-200"),h(x,"class","px-2 py-2 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] border border-[var(--interactive-accent)] rounded hover:opacity-90 transition-colors duration-200 text-sm whitespace-nowrap flex items-center gap-1"),h(x,"title","Generate AI description for edge property"),x.disabled=A=n[19]===`${n[231]}.${n[237]}`,h(c,"class","flex items-center gap-2"),h(e,"class","flex flex-col gap-2 p-3 bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded")},m(X,O){z(X,e,O),u(e,t),u(t,i),u(i,r),u(t,o),u(t,a),u(a,l),u(a,p),u(a,g),u(t,m),L&&L.m(t,null),u(e,b),u(e,c),u(c,v),u(c,_),u(c,C),Ee(E,C,null),u(c,M),u(c,x),K[N].m(x,null),u(e,I),B=!0,R||(F=[ne(v,"input",V),ne(C,"click",Y),ne(x,"click",U)],R=!0)},p(X,O){n=X,(!B||O[0]&2|O[1]&2048)&&s!==(s=n[237]+"")&&ae(r,s),(!B||O[0]&2|O[1]&2048)&&d!==(d=Jt(n[238]).fieldType+"")&&ae(p,d),O[0]&2|O[1]&2048&&(f=Jt(n[238]).required),f?L||(L=Ts(),L.c(),L.m(t,null)):L&&(L.d(1),L=null),(!B||O[0]&2|O[1]&2048&&w!==(w=Jt(n[238]).description)&&v.value!==w)&&(v.value=w);let J=N;N=H(n),N!==J&&(Ue(),Z(K[J],1,1,()=>{K[J]=null}),je(),D=K[N],D||(D=K[N]=W[N](n),D.c()),G(D,1),D.m(x,null)),(!B||O[0]&524290|O[1]&2048&&A!==(A=n[19]===`${n[231]}.${n[237]}`))&&(x.disabled=A)},i(X){B||(G(E.$$.fragment,X),G(D),B=!0)},o(X){Z(E.$$.fragment,X),Z(D),B=!1},d(X){X&&j(e),L&&L.d(),Ce(E),K[N].d(),R=!1,Je(F)}}}function Ns(n){let e,t,i,s,r,o,a,l,d,p,g,m,f,b,c,v,w,_,C,E,M;function x(){return n[149](n[231])}return{c(){e=y("div"),t=y("div"),i=y("input"),s=k(),r=y("select"),o=y("option"),o.textContent="String",a=y("option"),a.textContent="Integer",l=y("option"),l.textContent="DateTime",d=y("option"),d.textContent="Boolean",p=y("option"),p.textContent="Float",g=y("option"),g.textContent="List",m=k(),f=y("div"),b=y("input"),c=k(),v=y("div"),w=y("button"),w.textContent="Add Property",_=k(),C=y("button"),C.textContent="Cancel",h(i,"type","text"),h(i,"placeholder","Property name (e.g., jobTitle, sentiment)"),h(i,"class","flex-1 px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm"),o.__value="str",Ie(o,o.__value),a.__value="int",Ie(a,a.__value),l.__value="datetime",Ie(l,l.__value),d.__value="bool",Ie(d,d.__value),p.__value="float",Ie(p,p.__value),g.__value="List[str]",Ie(g,g.__value),h(r,"class","px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm bg-[var(--background-secondary)] appearance-none cursor-pointer hover:opacity-90 transition-colors duration-200 min-w-32"),n[27]===void 0&&jt(()=>n[147].call(r)),h(t,"class","flex gap-2 mb-3"),h(b,"type","text"),h(b,"placeholder","Property description"),h(b,"class","w-full px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm"),h(f,"class","mb-3"),h(w,"class","px-3 py-2 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded text-sm hover:opacity-90 transition-colors duration-200"),h(C,"class","px-3 py-2 bg-[var(--background-modifier-border)] text-[var(--text-default)] rounded text-sm hover:opacity-90 transition-colors duration-200"),h(v,"class","flex gap-2"),h(e,"class","mt-4 p-4 bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded")},m(N,D){z(N,e,D),u(e,t),u(t,i),Ie(i,n[26]),u(t,s),u(t,r),u(r,o),u(r,a),u(r,l),u(r,d),u(r,p),u(r,g),kt(r,n[27],!0),u(e,m),u(e,f),u(f,b),Ie(b,n[28]),u(e,c),u(e,v),u(v,w),u(v,_),u(v,C),E||(M=[ne(i,"input",n[146]),ne(r,"change",n[147]),ne(b,"input",n[148]),ne(w,"click",x),ne(C,"click",n[150])],E=!0)},p(N,D){n=N,D[0]&67108864&&i.value!==n[26]&&Ie(i,n[26]),D[0]&134217728&&kt(r,n[27]),D[0]&268435456&&b.value!==n[28]&&Ie(b,n[28])},d(N){N&&j(e),E=!1,Je(M)}}}function As(n){var U;let e,t,i,s,r=n[231]+"",o,a,l,d,p=Object.keys(((U=n[1][n[231]])==null?void 0:U.properties)||{}).length+"",g,m,f,b,c,v,w,_,C,E,M,x,N,D=n[6].has(`edge-${n[231]}`),A,I,B,R,F;const L=[Ju,Hu],V=[];function Y(X,O){return O[0]&64|O[1]&2048&&(c=null),c==null&&(c=!!X[6].has(`edge-${X[231]}`)),c?0:1}v=Y(n,[-1,-1,-1,-1,-1,-1,-1,-1,-1]),w=V[v]=L[v](n);function W(){return n[139](n[231])}E=new De({props:{icon:"trash-2",size:"medium"}});function K(){return n[140](n[231])}let H=D&&Ds(n);return{c(){e=y("div"),t=y("div"),i=y("button"),s=y("h4"),o=$(r),a=k(),l=y("div"),d=y("span"),g=$(p),m=$(" properties"),f=k(),b=y("span"),w.c(),_=k(),C=y("button"),Pe(E.$$.fragment),N=k(),H&&H.c(),A=k(),h(s,"class","font-semibold text-[var(--text-default)]"),h(d,"class","text-xs text-[var(--text-muted)] bg-[var(--background-modifier-border)] px-2 py-1 rounded-full"),h(b,"class","text-lg text-[var(--text-muted)] font-bold ml-4"),h(l,"class","flex items-center gap-4"),h(i,"class","flex-1 flex justify-between items-center text-left cursor-pointer transition-colors duration-200 hover:opacity-90"),h(C,"class","ml-2 px-2 py-1 bg-[var(--background-modifier-error)] text-[var(--text-on-accent)] border border-[var(--background-modifier-border)] rounded hover:opacity-90 transition-colors duration-200 text-xs"),h(C,"title",M="Delete "+n[231]+" edge type"),h(t,"class",x="flex justify-between items-center w-full p-4 bg-[var(--background-secondary)] border-none "+(n[6].has(`edge-${n[231]}`)?"border-b border-[var(--background-modifier-border)]":"")),h(e,"class","bg-[var(--background-secondary-alt)] border border-[var(--background-modifier-border)] rounded-lg overflow-hidden"),h(e,"id",I="accordion-edge-"+n[231])},m(X,O){z(X,e,O),u(e,t),u(t,i),u(i,s),u(s,o),u(i,a),u(i,l),u(l,d),u(d,g),u(d,m),u(l,f),u(l,b),V[v].m(b,null),u(t,_),u(t,C),Ee(E,C,null),u(e,N),H&&H.m(e,null),u(e,A),B=!0,R||(F=[ne(i,"click",W),ne(C,"click",It(K))],R=!0)},p(X,O){var fe;n=X,(!B||O[1]&2048)&&r!==(r=n[231]+"")&&ae(o,r),(!B||O[0]&2|O[1]&2048)&&p!==(p=Object.keys(((fe=n[1][n[231]])==null?void 0:fe.properties)||{}).length+"")&&ae(g,p);let J=v;v=Y(n,O),v!==J&&(Ue(),Z(V[J],1,1,()=>{V[J]=null}),je(),w=V[v],w||(w=V[v]=L[v](n),w.c()),G(w,1),w.m(b,null)),(!B||O[1]&2048&&M!==(M="Delete "+n[231]+" edge type"))&&h(C,"title",M),(!B||O[0]&64|O[1]&2048&&x!==(x="flex justify-between items-center w-full p-4 bg-[var(--background-secondary)] border-none "+(n[6].has(`edge-${n[231]}`)?"border-b border-[var(--background-modifier-border)]":"")))&&h(t,"class",x),O[0]&64|O[1]&2048&&(D=n[6].has(`edge-${n[231]}`)),D?H?(H.p(n,O),O[0]&64|O[1]&2048&&G(H,1)):(H=Ds(n),H.c(),G(H,1),H.m(e,A)):H&&(Ue(),Z(H,1,1,()=>{H=null}),je()),(!B||O[1]&2048&&I!==(I="accordion-edge-"+n[231]))&&h(e,"id",I)},i(X){B||(G(w),G(E.$$.fragment,X),G(H),B=!0)},o(X){Z(w),Z(E.$$.fragment,X),Z(H),B=!1},d(X){X&&j(e),V[v].d(),Ce(E),H&&H.d(),R=!1,Je(F)}}}function Os(n){let e,t,i,s,r,o,a,l,d,p,g,m,f,b;s=new De({props:{icon:"clipboard-list"}});let c=xe(Object.entries(n[40])),v=[];for(let _=0;_<c.length;_+=1)v[_]=Is(Qi(n,c,_));const w=_=>Z(v[_],1,1,()=>{v[_]=null});return{c(){e=y("div"),t=y("div"),i=y("h4"),Pe(s.$$.fragment),r=$(" Available Default Edge Types"),o=k(),a=y("button"),a.textContent="Add All",l=k(),d=y("p"),d.textContent=`Common edge types you can add with one click. These include\r
                standard properties and descriptions.`,p=k(),g=y("div");for(let _=0;_<v.length;_+=1)v[_].c();h(i,"class","text-lg font-semibold text-[var(--text-default)] flex items-center gap-2"),h(a,"class","px-3 py-2 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded hover:opacity-90 transition-colors duration-200 text-sm font-medium"),h(a,"title","Add all unused default edge types at once"),h(t,"class","flex justify-between items-center mb-4"),h(d,"class","text-[var(--text-muted)] mb-4"),h(g,"class","grid grid-cols-1 md:grid-cols-2 gap-3"),h(e,"class","mt-8 pt-8 border-t border-[var(--background-modifier-border)]")},m(_,C){z(_,e,C),u(e,t),u(t,i),Ee(s,i,null),u(i,r),u(t,o),u(t,a),u(e,l),u(e,d),u(e,p),u(e,g);for(let E=0;E<v.length;E+=1)v[E]&&v[E].m(g,null);m=!0,f||(b=ne(a,"click",n[68]),f=!0)},p(_,C){if(C[1]&134218240){c=xe(Object.entries(_[40]));let E;for(E=0;E<c.length;E+=1){const M=Qi(_,c,E);v[E]?(v[E].p(M,C),G(v[E],1)):(v[E]=Is(M),v[E].c(),G(v[E],1),v[E].m(g,null))}for(Ue(),E=c.length;E<v.length;E+=1)w(E);je()}},i(_){if(!m){G(s.$$.fragment,_);for(let C=0;C<c.length;C+=1)G(v[C]);m=!0}},o(_){Z(s.$$.fragment,_),v=v.filter(Boolean);for(let C=0;C<v.length;C+=1)Z(v[C]);m=!1},d(_){_&&j(e),Ce(s),Xe(v,_),f=!1,b()}}}function Is(n){let e,t,i,s=n[231]+"",r,o,a,l,d,p,g,m,f=n[232]+"",b,c,v,w,_;l=new De({props:{icon:"chevron-right",size:"medium"}});function C(){return n[157](n[231])}return{c(){e=y("div"),t=y("div"),i=y("h5"),r=$(s),o=k(),a=y("button"),Pe(l.$$.fragment),d=$(" Add"),g=k(),m=y("p"),b=$(f),c=k(),h(i,"class","font-semibold text-[var(--text-default)]"),h(a,"class","px-2 py-1 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded text-xs hover:opacity-90 transition-colors duration-200"),h(a,"title",p="Add "+n[231]+" edge type"),h(t,"class","flex justify-between items-start mb-2"),h(m,"class","text-[var(--text-muted)] text-sm leading-relaxed"),h(e,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] p-4 rounded-lg")},m(E,M){z(E,e,M),u(e,t),u(t,i),u(i,r),u(t,o),u(t,a),Ee(l,a,null),u(a,d),u(e,g),u(e,m),u(m,b),u(e,c),v=!0,w||(_=ne(a,"click",C),w=!0)},p(E,M){n=E,(!v||M[1]&512)&&s!==(s=n[231]+"")&&ae(r,s),(!v||M[1]&512&&p!==(p="Add "+n[231]+" edge type"))&&h(a,"title",p),(!v||M[1]&512)&&f!==(f=n[232]+"")&&ae(b,f)},i(E){v||(G(l.$$.fragment,E),v=!0)},o(E){Z(l.$$.fragment,E),v=!1},d(E){E&&j(e),Ce(l),w=!1,_()}}}function tp(n){let e,t,i,s,r,o;return t=new De({props:{icon:"chevron-right",size:"medium"}}),{c(){e=y("button"),Pe(t.$$.fragment),i=$(" Add Edge Type"),h(e,"class","px-4 py-2 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded hover:opacity-90 transition-colors duration-200")},m(a,l){z(a,e,l),Ee(t,e,null),u(e,i),s=!0,r||(o=ne(e,"click",n[160]),r=!0)},p:we,i(a){s||(G(t.$$.fragment,a),s=!0)},o(a){Z(t.$$.fragment,a),s=!1},d(a){a&&j(e),Ce(t),r=!1,o()}}}function np(n){let e,t,i,s,r,o,a,l,d,p,g,m,f,b,c;return{c(){e=y("div"),t=y("h4"),t.textContent="Add New Edge Type",i=k(),s=y("div"),r=y("input"),o=k(),a=y("div"),l=y("textarea"),d=k(),p=y("div"),g=y("button"),g.textContent="Save Edge Type",m=k(),f=y("button"),f.textContent="Cancel",h(t,"class","text-lg font-semibold mb-4 text-[var(--text-default)]"),h(r,"type","text"),h(r,"placeholder","Edge type name (e.g., WorksFor, Uses, Creates)"),h(r,"class","w-full px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm"),h(s,"class","mb-4"),h(l,"placeholder","Description of this relationship type"),h(l,"class","w-full px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm leading-relaxed resize-vertical"),h(l,"rows","2"),h(a,"class","mb-4"),h(g,"class","px-4 py-2 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded hover:opacity-90 transition-colors duration-200"),h(f,"class","px-4 py-2 bg-[var(--background-modifier-border)] text-[var(--text-default)] rounded hover:opacity-90 transition-colors duration-200"),h(p,"class","flex gap-2"),h(e,"class","bg-[var(--background-secondary-alt)] border border-[var(--background-modifier-border)] rounded-lg p-6")},m(v,w){z(v,e,w),u(e,t),u(e,i),u(e,s),u(s,r),Ie(r,n[11]),u(e,o),u(e,a),u(a,l),Ie(l,n[12]),u(e,d),u(e,p),u(p,g),u(p,m),u(p,f),b||(c=[ne(r,"input",n[158]),ne(l,"input",n[159]),ne(g,"click",n[54]),ne(f,"click",n[55])],b=!0)},p(v,w){w[0]&2048&&r.value!==v[11]&&Ie(r,v[11]),w[0]&4096&&Ie(l,v[12])},i:we,o:we,d(v){v&&j(e),b=!1,Je(c)}}}function Ls(n){let e,t,i,s,r,o,a,l,d,p,g,m,f,b,c,v,w,_,C,E,M,x,N,D,A,I,B,R,F,L,V,Y,W,K,H,U;s=new De({props:{icon:"sparkles"}}),v=new De({props:{icon:"lightbulb"}});function X(ie,se){if(ie[24]&&ie[23].length>0)return sp;if(ie[24])return ip}let O=X(n),J=O&&O(n);x=new De({props:{icon:"map"}});const fe=[op,rp],Te=[];function ye(ie,se){return ie[2]&&ie[2].length>0?0:1}B=ye(n),R=Te[B]=fe[B](n);let ve=n[39].length>0&&Bs(n);const ge=[pp,up],me=[];function Me(ie,se){return ie[29]?0:1}return Y=Me(n),W=me[Y]=ge[Y](n),{c(){e=y("div"),t=y("div"),i=y("h3"),Pe(s.$$.fragment),r=k(),o=y("span"),o.textContent="LLM Edge Mapping Generation",a=k(),l=y("p"),l.textContent=`Use AI to automatically suggest which entity types can connect using\r
            which edge types.`,d=k(),p=y("div"),g=y("button"),g.textContent="Generate Edge Mapping Suggestions",m=k(),f=y("div"),b=y("div"),c=y("h3"),Pe(v.$$.fragment),w=$(" Suggested Edge Mappings"),_=k(),J&&J.c(),C=k(),E=y("div"),M=y("h3"),Pe(x.$$.fragment),N=$(" Edge Type Mappings"),D=k(),A=y("p"),A.textContent=`Define which edge types can connect which entity types. Controls\r
            relationship validation in your knowledge graph.`,I=k(),R.c(),F=k(),ve&&ve.c(),L=k(),V=y("div"),W.c(),h(i,"class","text-xl font-semibold mb-2 flex items-center gap-2"),h(l,"class","mb-4 opacity-90 leading-relaxed"),h(g,"class","px-4 py-2 bg-[rgba(255,255,255,0.06)] border border-[rgba(255,255,255,0.08)] rounded-md text-sm transition-all duration-200 backdrop-blur-sm hover:bg-[rgba(255,255,255,0.09)] text-[var(--text-on-accent)]"),h(p,"class","flex gap-3 flex-wrap items-center"),h(t,"class","bg-gradient-to-br from-[var(--interactive-accent)] to-[var(--background-secondary)] text-[var(--text-on-accent)] p-6 rounded-xl mb-6 shadow-md"),h(c,"class","text-lg font-semibold text-[var(--text-default)] flex items-center gap-2"),h(b,"class","megamem-section-header mb-4"),h(f,"class","megamem-settings-section mb-6"),h(M,"class","text-lg font-semibold mb-2 flex items-center gap-2"),h(A,"class","mb-6"),h(V,"class","mt-6"),h(e,"class","animate-fadeIn")},m(ie,se){z(ie,e,se),u(e,t),u(t,i),Ee(s,i,null),u(i,r),u(i,o),u(t,a),u(t,l),u(t,d),u(t,p),u(p,g),u(e,m),u(e,f),u(f,b),u(b,c),Ee(v,c,null),u(c,w),u(f,_),J&&J.m(f,null),u(e,C),u(e,E),u(E,M),Ee(x,M,null),u(M,N),u(E,D),u(E,A),u(E,I),Te[B].m(E,null),u(E,F),ve&&ve.m(E,null),u(E,L),u(E,V),me[Y].m(V,null),K=!0,H||(U=ne(g,"click",n[161]),H=!0)},p(ie,se){O===(O=X(ie))&&J?J.p(ie,se):(J&&J.d(1),J=O&&O(ie),J&&(J.c(),J.m(f,null)));let Q=B;B=ye(ie),B===Q?Te[B].p(ie,se):(Ue(),Z(Te[Q],1,1,()=>{Te[Q]=null}),je(),R=Te[B],R?R.p(ie,se):(R=Te[B]=fe[B](ie),R.c()),G(R,1),R.m(E,F)),ie[39].length>0?ve?(ve.p(ie,se),se[1]&256&&G(ve,1)):(ve=Bs(ie),ve.c(),G(ve,1),ve.m(E,L)):ve&&(Ue(),Z(ve,1,1,()=>{ve=null}),je());let ue=Y;Y=Me(ie),Y===ue?me[Y].p(ie,se):(Ue(),Z(me[ue],1,1,()=>{me[ue]=null}),je(),W=me[Y],W?W.p(ie,se):(W=me[Y]=ge[Y](ie),W.c()),G(W,1),W.m(V,null))},i(ie){K||(G(s.$$.fragment,ie),G(v.$$.fragment,ie),G(x.$$.fragment,ie),G(R),G(ve),G(W),K=!0)},o(ie){Z(s.$$.fragment,ie),Z(v.$$.fragment,ie),Z(x.$$.fragment,ie),Z(R),Z(ve),Z(W),K=!1},d(ie){ie&&j(e),Ce(s),Ce(v),J&&J.d(),Ce(x),Te[B].d(),ve&&ve.d(),me[Y].d(),H=!1,U()}}}function ip(n){let e;return{c(){e=y("div"),e.textContent=`No mapping suggestions available. Create more entities and edge\r
              types first.`,h(e,"class","megamem-info-message svelte-1fc521h")},m(t,i){z(t,e,i)},p:we,d(t){t&&j(e)}}}function sp(n){let e,t,i,s=n[23].length+"",r,o,a,l,d,p,g=xe(n[23]),m=[];for(let f=0;f<g.length;f+=1)m[f]=Rs(Ji(n,g,f));return{c(){e=y("div"),t=y("button"),i=$("Accept All ("),r=$(s),o=$(")"),a=k(),l=y("div");for(let f=0;f<m.length;f+=1)m[f].c();h(t,"class","px-3 py-2 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded hover:opacity-90 transition-colors duration-200 text-sm"),h(e,"class","megamem-bulk-actions mb-3 svelte-1fc521h"),h(l,"class","megamem-suggestions-container svelte-1fc521h")},m(f,b){z(f,e,b),u(e,t),u(t,i),u(t,r),u(t,o),z(f,a,b),z(f,l,b);for(let c=0;c<m.length;c+=1)m[c]&&m[c].m(l,null);d||(p=ne(t,"click",n[162]),d=!0)},p(f,b){if(b[0]&8388608&&s!==(s=f[23].length+"")&&ae(r,s),b[0]&8388608|b[2]&32768){g=xe(f[23]);let c;for(c=0;c<g.length;c+=1){const v=Ji(f,g,c);m[c]?m[c].p(v,b):(m[c]=Rs(v),m[c].c(),m[c].m(l,null))}for(;c<m.length;c+=1)m[c].d(1);m.length=g.length}},d(f){f&&(j(e),j(a),j(l)),Xe(m,f),d=!1,p()}}}function Rs(n){let e,t,i,s=n[213].source+"",r,o,a,l,d,p=n[213].target+"",g,m,f,b,c=n[213].edgeTypes.join(", ")+"",v,w,_,C,E,M;function x(){return n[163](n[213])}return{c(){e=y("div"),t=y("div"),i=y("strong"),r=$(s),o=k(),a=y("span"),a.textContent="",l=k(),d=y("strong"),g=$(p),m=k(),f=y("div"),b=$("Suggested edge types: "),v=$(c),w=k(),_=y("button"),_.textContent="+ Add to Schema",C=k(),h(t,"class","megamem-suggestion-info svelte-1fc521h"),h(f,"class","megamem-suggestion-description svelte-1fc521h"),h(_,"class","megamem-button-small megamem-accept-button svelte-1fc521h"),h(e,"class","megamem-suggestion-item svelte-1fc521h")},m(N,D){z(N,e,D),u(e,t),u(t,i),u(i,r),u(t,o),u(t,a),u(t,l),u(t,d),u(d,g),u(e,m),u(e,f),u(f,b),u(f,v),u(e,w),u(e,_),u(e,C),E||(M=ne(_,"click",x),E=!0)},p(N,D){n=N,D[0]&8388608&&s!==(s=n[213].source+"")&&ae(r,s),D[0]&8388608&&p!==(p=n[213].target+"")&&ae(g,p),D[0]&8388608&&c!==(c=n[213].edgeTypes.join(", ")+"")&&ae(v,c)},d(N){N&&j(e),E=!1,M()}}}function rp(n){let e,t,i,s,r,o,a,l,d,p,g,m,f,b,c,v,w,_,C,E,M,x,N,D,A,I,B,R,F,L,V,Y,W,K,H,U,X,O,J,fe,Te,ye,ve,ge,me,Me,ie,se;return i=new De({props:{icon:"map"}}),c=new De({props:{icon:"user"}}),w=new De({props:{icon:"monitor"}}),D=new De({props:{icon:"user"}}),I=new De({props:{icon:"folder"}}),W=new De({props:{icon:"link-2"}}),fe=new De({props:{icon:"folder"}}),ye=new De({props:{icon:"monitor"}}),{c(){e=y("div"),t=y("div"),Pe(i.$$.fragment),s=k(),r=y("h4"),r.textContent="No Edge Mappings Defined",o=k(),a=y("p"),a.textContent=`Create mappings to define which relationships can exist between\r
                entity types.`,l=k(),d=y("div"),p=y("h5"),p.textContent="Quick Add Common Mappings:",g=k(),m=y("div"),f=y("button"),b=y("div"),Pe(c.$$.fragment),v=$(" Person  "),Pe(w.$$.fragment),_=$(" Technology"),C=k(),E=y("div"),E.textContent="Uses, RelatesTo",M=k(),x=y("button"),N=y("div"),Pe(D.$$.fragment),A=$(" Person  "),Pe(I.$$.fragment),B=$(" Project"),R=k(),F=y("div"),F.textContent="WorksOn, Manages, RelatesTo",L=k(),V=y("button"),Y=y("div"),Pe(W.$$.fragment),K=$(" Entity  Entity"),H=k(),U=y("div"),U.textContent="RelatesTo (Generic)",X=k(),O=y("button"),J=y("div"),Pe(fe.$$.fragment),Te=$(" Project  "),Pe(ye.$$.fragment),ve=$(" Technology"),ge=k(),me=y("div"),me.textContent="Uses, DependsOn, RelatesTo",h(t,"class","text-6xl mb-5 opacity-50"),h(r,"class","text-lg font-semibold mb-3 text-[var(--text-default)]"),h(a,"class","mb-10 max-w-lg mx-auto leading-relaxed text-[var(--text-muted)]"),h(p,"class","text-sm font-semibold mb-5 text-[var(--text-default)]"),h(b,"class","font-semibold mb-1 text-[var(--text-default)]"),h(E,"class","text-xs text-[var(--text-muted)]"),h(f,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] text-[var(--text-default)] p-4 rounded-lg cursor-pointer transition-all duration-200 hover:opacity-90 hover:border-[var(--interactive-accent)] hover:shadow-md text-sm font-medium"),h(N,"class","font-semibold mb-1 text-[var(--text-default)]"),h(F,"class","text-xs text-[var(--text-muted)]"),h(x,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] text-[var(--text-default)] p-4 rounded-lg cursor-pointer transition-all duration-200 hover:opacity-90 hover:border-[var(--interactive-accent)] hover:shadow-md text-sm font-medium"),h(Y,"class","font-semibold mb-1 text-[var(--text-default)]"),h(U,"class","text-xs text-[var(--text-muted)]"),h(V,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] text-[var(--text-default)] p-4 rounded-lg cursor-pointer transition-all duration-200 hover:opacity-90 hover:border-[var(--interactive-accent)] hover:shadow-md text-sm font-medium"),h(J,"class","font-semibold mb-1 text-[var(--text-default)]"),h(me,"class","text-xs text-[var(--text-muted)]"),h(O,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] text-[var(--text-default)] p-4 rounded-lg cursor-pointer transition-all duration-200 hover:opacity-90 hover:border-[var(--interactive-accent)] hover:shadow-md text-sm font-medium"),h(m,"class","grid grid-cols-1 md:grid-cols-2 gap-3 max-w-2xl mx-auto"),h(d,"class","mt-10 pt-8 border-t border-[var(--background-modifier-border)]"),h(e,"class","text-center py-16 text-[var(--text-muted)]")},m(Q,ue){z(Q,e,ue),u(e,t),Ee(i,t,null),u(e,s),u(e,r),u(e,o),u(e,a),u(e,l),u(e,d),u(d,p),u(d,g),u(d,m),u(m,f),u(f,b),Ee(c,b,null),u(b,v),Ee(w,b,null),u(b,_),u(f,C),u(f,E),u(m,M),u(m,x),u(x,N),Ee(D,N,null),u(N,A),Ee(I,N,null),u(N,B),u(x,R),u(x,F),u(m,L),u(m,V),u(V,Y),Ee(W,Y,null),u(Y,K),u(V,H),u(V,U),u(m,X),u(m,O),u(O,J),Ee(fe,J,null),u(J,Te),Ee(ye,J,null),u(J,ve),u(O,ge),u(O,me),Me=!0,ie||(se=[ne(f,"click",n[169]),ne(x,"click",n[170]),ne(V,"click",n[171]),ne(O,"click",n[172])],ie=!0)},p:we,i(Q){Me||(G(i.$$.fragment,Q),G(c.$$.fragment,Q),G(w.$$.fragment,Q),G(D.$$.fragment,Q),G(I.$$.fragment,Q),G(W.$$.fragment,Q),G(fe.$$.fragment,Q),G(ye.$$.fragment,Q),Me=!0)},o(Q){Z(i.$$.fragment,Q),Z(c.$$.fragment,Q),Z(w.$$.fragment,Q),Z(D.$$.fragment,Q),Z(I.$$.fragment,Q),Z(W.$$.fragment,Q),Z(fe.$$.fragment,Q),Z(ye.$$.fragment,Q),Me=!1},d(Q){Q&&j(e),Ce(i),Ce(c),Ce(w),Ce(D),Ce(I),Ce(W),Ce(fe),Ce(ye),ie=!1,Je(se)}}}function op(n){let e,t,i=xe(n[2]),s=[];for(let o=0;o<i.length;o+=1)s[o]=zs(Yi(n,i,o));const r=o=>Z(s[o],1,1,()=>{s[o]=null});return{c(){e=y("div");for(let o=0;o<s.length;o+=1)s[o].c();h(e,"class","flex flex-col gap-4")},m(o,a){z(o,e,a);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(e,null);t=!0},p(o,a){if(a[0]&4|a[1]&3132|a[2]&3848){i=xe(o[2]);let l;for(l=0;l<i.length;l+=1){const d=Yi(o,i,l);s[l]?(s[l].p(d,a),G(s[l],1)):(s[l]=zs(d),s[l].c(),G(s[l],1),s[l].m(e,null))}for(Ue(),l=i.length;l<s.length;l+=1)r(l);je()}},i(o){if(!t){for(let a=0;a<i.length;a+=1)G(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)Z(s[a]);t=!1},d(o){o&&j(e),Xe(s,o)}}}function ap(n){let e,t,i,s,r,o=n[218].sourceEntity+"",a,l,d,p,g,m=n[218].targetEntity+"",f,b,c,v,w,_,C=n[218].isUserDefined?"User":"Auto",E,M,x,N,D,A,I,B,R,F,L=xe(n[218].allowedEdges),V=[];for(let K=0;K<L.length;K+=1)V[K]=Fs(qi(n,L,K));N=new De({props:{icon:"pencil",size:"medium"}});function Y(){return n[167](n[220])}I=new De({props:{icon:"trash-2",size:"medium"}});function W(){return n[168](n[220])}return{c(){e=y("div"),t=y("div"),i=y("div"),s=y("div"),r=y("span"),a=$(o),l=k(),d=y("span"),d.textContent="",p=k(),g=y("span"),f=$(m),b=k(),c=y("div");for(let K=0;K<V.length;K+=1)V[K].c();v=k(),w=y("div"),_=y("span"),E=$(C),M=k(),x=y("button"),Pe(N.$$.fragment),D=k(),A=y("button"),Pe(I.$$.fragment),h(r,"class","font-semibold text-[var(--text-default)]"),h(d,"class","text-[var(--text-muted)]"),h(g,"class","font-semibold text-[var(--text-default)]"),h(s,"class","flex items-center gap-2"),h(c,"class","flex gap-1 flex-wrap"),h(i,"class","flex items-center gap-4"),h(_,"class","text-xs text-[var(--text-muted)] bg-[var(--background-modifier-border)] px-2 py-1 rounded-full"),h(x,"class","p-1 text-[var(--text-muted)] hover:opacity-90 hover:bg-[var(--background-modifier-border)] rounded transition-all duration-200"),h(x,"title","Edit Mapping"),h(A,"class","px-2 py-1 bg-[var(--background-modifier-error)] text-[var(--text-on-accent)] border border-[var(--background-modifier-border)] rounded hover:opacity-90 transition-colors duration-200 text-xs"),h(w,"class","flex items-center gap-2"),h(t,"class","flex justify-between items-center"),h(e,"class","p-4 bg-[var(--background-secondary-alt)] border-none")},m(K,H){z(K,e,H),u(e,t),u(t,i),u(i,s),u(s,r),u(r,a),u(s,l),u(s,d),u(s,p),u(s,g),u(g,f),u(i,b),u(i,c);for(let U=0;U<V.length;U+=1)V[U]&&V[U].m(c,null);u(t,v),u(t,w),u(w,_),u(_,E),u(w,M),u(w,x),Ee(N,x,null),u(w,D),u(w,A),Ee(I,A,null),B=!0,R||(F=[ne(x,"click",Y),ne(A,"click",W)],R=!0)},p(K,H){if(n=K,(!B||H[0]&4)&&o!==(o=n[218].sourceEntity+"")&&ae(a,o),(!B||H[0]&4)&&m!==(m=n[218].targetEntity+"")&&ae(f,m),H[0]&4){L=xe(n[218].allowedEdges);let U;for(U=0;U<L.length;U+=1){const X=qi(n,L,U);V[U]?V[U].p(X,H):(V[U]=Fs(X),V[U].c(),V[U].m(c,null))}for(;U<V.length;U+=1)V[U].d(1);V.length=L.length}(!B||H[0]&4)&&C!==(C=n[218].isUserDefined?"User":"Auto")&&ae(E,C)},i(K){B||(G(N.$$.fragment,K),G(I.$$.fragment,K),B=!0)},o(K){Z(N.$$.fragment,K),Z(I.$$.fragment,K),B=!1},d(K){K&&j(e),Xe(V,K),Ce(N),Ce(I),R=!1,Je(F)}}}function lp(n){let e,t,i,s,r,o,a,l,d,p,g,m,f,b,c,v,w,_,C,E,M,x,N,D,A,I,B,R,F=xe(n[41]),L=[];for(let U=0;U<F.length;U+=1)L[U]=$s(Hi(n,F,U));let V=xe(n[41]),Y=[];for(let U=0;U<V.length;U+=1)Y[U]=Us(Ki(n,V,U));function W(U,X){return U[42].length>0?dp:cp}let K=W(n),H=K(n);return{c(){e=y("div"),t=y("h4"),t.textContent="Edit Edge Mapping",i=k(),s=y("div"),r=y("div"),o=y("label"),o.textContent="Source Entity Type",a=k(),l=y("select"),d=y("option"),d.textContent="Select source entity...";for(let U=0;U<L.length;U+=1)L[U].c();p=k(),g=y("div"),m=y("label"),m.textContent="Target Entity Type",f=k(),b=y("select"),c=y("option"),c.textContent="Select target entity...";for(let U=0;U<Y.length;U+=1)Y[U].c();v=k(),w=y("div"),_=y("span"),_.textContent="Allowed Edge Types",C=k(),H.c(),E=k(),M=y("div"),x=y("button"),N=$("Save Changes"),A=k(),I=y("button"),I.textContent="Cancel",h(t,"class","text-lg font-semibold mb-4 text-[var(--text-default)]"),h(o,"for","edit-source-entity"),h(o,"class","block text-sm font-medium text-[var(--text-default)] mb-2"),d.__value="",Ie(d,d.__value),h(l,"id","edit-source-entity"),h(l,"class","w-full px-3 py-1 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm leading-normal bg-[var(--background-secondary)] min-w-48"),n[34]===void 0&&jt(()=>n[164].call(l)),h(m,"for","edit-target-entity"),h(m,"class","block text-sm font-medium text-[var(--text-default)] mb-2"),c.__value="",Ie(c,c.__value),h(b,"id","edit-target-entity"),h(b,"class","w-full px-3 py-1 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm leading-normal bg-[var(--background-secondary)] min-w-48"),n[35]===void 0&&jt(()=>n[165].call(b)),h(s,"class","space-y-4 mb-4"),h(_,"class","block text-sm font-medium text-[var(--text-default)] mb-2"),h(w,"class","mb-4"),h(x,"class","px-4 py-2 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded hover:opacity-90 transition-colors duration-200"),x.disabled=D=!n[34]||!n[35]||n[36].length===0,h(I,"class","px-4 py-2 bg-[var(--background-modifier-border)] text-[var(--text-default)] rounded hover:opacity-90 transition-colors duration-200"),h(M,"class","flex gap-2"),h(e,"class","p-4 bg-[var(--background-secondary-alt)] border-none")},m(U,X){z(U,e,X),u(e,t),u(e,i),u(e,s),u(s,r),u(r,o),u(r,a),u(r,l),u(l,d);for(let O=0;O<L.length;O+=1)L[O]&&L[O].m(l,null);kt(l,n[34],!0),u(s,p),u(s,g),u(g,m),u(g,f),u(g,b),u(b,c);for(let O=0;O<Y.length;O+=1)Y[O]&&Y[O].m(b,null);kt(b,n[35],!0),u(e,v),u(e,w),u(w,_),u(w,C),H.m(w,null),u(e,E),u(e,M),u(M,x),u(x,N),u(M,A),u(M,I),B||(R=[ne(l,"change",n[164]),ne(b,"change",n[165]),ne(x,"click",n[71]),ne(I,"click",n[72])],B=!0)},p(U,X){if(X[1]&1024){F=xe(U[41]);let O;for(O=0;O<F.length;O+=1){const J=Hi(U,F,O);L[O]?L[O].p(J,X):(L[O]=$s(J),L[O].c(),L[O].m(l,null))}for(;O<L.length;O+=1)L[O].d(1);L.length=F.length}if(X[1]&1032&&kt(l,U[34]),X[1]&1024){V=xe(U[41]);let O;for(O=0;O<V.length;O+=1){const J=Ki(U,V,O);Y[O]?Y[O].p(J,X):(Y[O]=Us(J),Y[O].c(),Y[O].m(b,null))}for(;O<Y.length;O+=1)Y[O].d(1);Y.length=V.length}X[1]&1040&&kt(b,U[35]),K===(K=W(U))&&H?H.p(U,X):(H.d(1),H=K(U),H&&(H.c(),H.m(w,null))),X[1]&1080&&D!==(D=!U[34]||!U[35]||U[36].length===0)&&(x.disabled=D)},i:we,o:we,d(U){U&&j(e),Xe(L,U),Xe(Y,U),H.d(),B=!1,Je(R)}}}function Fs(n){let e,t=n[205]+"",i;return{c(){e=y("span"),i=$(t),h(e,"class","text-xs px-2 py-1 bg-[var(--background-modifier-border)] text-[var(--text-muted)] rounded-full font-medium")},m(s,r){z(s,e,r),u(e,i)},p(s,r){r[0]&4&&t!==(t=s[205]+"")&&ae(i,t)},d(s){s&&j(e)}}}function $s(n){let e,t=n[208]+"",i,s;return{c(){e=y("option"),i=$(t),e.__value=s=n[208],Ie(e,e.__value)},m(r,o){z(r,e,o),u(e,i)},p(r,o){o[1]&1024&&t!==(t=r[208]+"")&&ae(i,t),o[1]&1024&&s!==(s=r[208])&&(e.__value=s,Ie(e,e.__value))},d(r){r&&j(e)}}}function Us(n){let e,t=n[208]+"",i,s;return{c(){e=y("option"),i=$(t),e.__value=s=n[208],Ie(e,e.__value)},m(r,o){z(r,e,o),u(e,i)},p(r,o){o[1]&1024&&t!==(t=r[208]+"")&&ae(i,t),o[1]&1024&&s!==(s=r[208])&&(e.__value=s,Ie(e,e.__value))},d(r){r&&j(e)}}}function cp(n){let e;return{c(){e=y("p"),e.textContent="No edge types defined. Create edge types first.",h(e,"class","text-sm text-[var(--text-muted)] italic")},m(t,i){z(t,e,i)},p:we,d(t){t&&j(e)}}}function dp(n){let e,t=xe(n[42]),i=[];for(let s=0;s<t.length;s+=1)i[s]=js(Wi(n,t,s));return{c(){e=y("div");for(let s=0;s<i.length;s+=1)i[s].c();h(e,"class","grid grid-cols-2 md:grid-cols-3 gap-2")},m(s,r){z(s,e,r);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(e,null)},p(s,r){if(r[1]&2080|r[2]&2048){t=xe(s[42]);let o;for(o=0;o<t.length;o+=1){const a=Wi(s,t,o);i[o]?i[o].p(a,r):(i[o]=js(a),i[o].c(),i[o].m(e,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=t.length}},d(s){s&&j(e),Xe(i,s)}}}function js(n){let e,t,i,s,r,o=n[205]+"",a,l,d,p;function g(){return n[166](n[205])}return{c(){e=y("label"),t=y("input"),s=k(),r=y("span"),a=$(o),l=k(),h(t,"type","checkbox"),t.checked=i=n[36].includes(n[205]),h(t,"class","rounded border-[var(--background-modifier-border)] text-[var(--interactive-accent)] focus:ring-[var(--interactive-accent)]"),h(r,"class","text-sm text-[var(--text-default)]"),h(e,"class","flex items-center gap-2 p-2 border border-[var(--background-modifier-border)] rounded hover:opacity-90 cursor-pointer transition-colors duration-200")},m(m,f){z(m,e,f),u(e,t),u(e,s),u(e,r),u(r,a),u(e,l),d||(p=ne(t,"change",g),d=!0)},p(m,f){n=m,f[1]&2080&&i!==(i=n[36].includes(n[205]))&&(t.checked=i),f[1]&2048&&o!==(o=n[205]+"")&&ae(a,o)},d(m){m&&j(e),d=!1,p()}}}function zs(n){let e,t,i,s,r;const o=[lp,ap],a=[];function l(d,p){return d[33]===d[220]?0:1}return t=l(n),i=a[t]=o[t](n),{c(){e=y("div"),i.c(),s=k(),h(e,"class","bg-[var(--background-secondary-alt)] border border-[var(--background-modifier-border)] rounded-lg overflow-hidden"),h(e,"id","mapping-"+n[220])},m(d,p){z(d,e,p),a[t].m(e,null),u(e,s),r=!0},p(d,p){let g=t;t=l(d),t===g?a[t].p(d,p):(Ue(),Z(a[g],1,1,()=>{a[g]=null}),je(),i=a[t],i?i.p(d,p):(i=a[t]=o[t](d),i.c()),G(i,1),i.m(e,s))},i(d){r||(G(i),r=!0)},o(d){Z(i),r=!1},d(d){d&&j(e),a[t].d()}}}function Bs(n){let e,t,i,s,r,o,a,l,d,p,g,m,f,b;s=new De({props:{icon:"lightbulb"}});let c=xe(n[39]),v=[];for(let w=0;w<c.length;w+=1)v[w]=Gs(Vi(n,c,w));return{c(){e=y("div"),t=y("div"),i=y("h4"),Pe(s.$$.fragment),r=$(" Suggested Edge Mappings"),o=k(),a=y("button"),a.textContent="Add All",l=k(),d=y("p"),d.textContent=`Recommended mappings based on your discovered entity types. Add\r
                these to enable common relationships.`,p=k(),g=y("div");for(let w=0;w<v.length;w+=1)v[w].c();h(i,"class","text-lg font-semibold text-[var(--text-default)] flex items-center gap-2"),h(a,"class","px-3 py-2 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded hover:opacity-90 transition-colors duration-200 text-sm font-medium"),h(a,"title","Add all suggested edge mappings at once"),h(t,"class","flex justify-between items-center mb-4"),h(d,"class","text-[var(--text-muted)] mb-4"),h(g,"class","grid grid-cols-1 gap-3"),h(e,"class","mt-8 pt-8 border-t border-[var(--background-modifier-border)]")},m(w,_){z(w,e,_),u(e,t),u(t,i),Ee(s,i,null),u(i,r),u(t,o),u(t,a),u(e,l),u(e,d),u(e,p),u(e,g);for(let C=0;C<v.length;C+=1)v[C]&&v[C].m(g,null);m=!0,f||(b=ne(a,"click",n[69]),f=!0)},p(w,_){if(_[1]&256|_[2]&32){c=xe(w[39]);let C;for(C=0;C<c.length;C+=1){const E=Vi(w,c,C);v[C]?v[C].p(E,_):(v[C]=Gs(E),v[C].c(),v[C].m(g,null))}for(;C<v.length;C+=1)v[C].d(1);v.length=c.length}},i(w){m||(G(s.$$.fragment,w),m=!0)},o(w){Z(s.$$.fragment,w),m=!1},d(w){w&&j(e),Ce(s),Xe(v,w),f=!1,b()}}}function Vs(n){let e,t=n[205]+"",i;return{c(){e=y("span"),i=$(t),h(e,"class","text-xs px-2 py-1 bg-[var(--background-modifier-success)] text-[var(--text-on-accent)] rounded-full font-medium")},m(s,r){z(s,e,r),u(e,i)},p(s,r){r[1]&256&&t!==(t=s[205]+"")&&ae(i,t)},d(s){s&&j(e)}}}function Gs(n){let e,t,i,s,r=n[213].sourceEntity+"",o,a,l,d,p,g=n[213].targetEntity+"",m,f,b,c,v,w,_,C=n[213].description+"",E,M,x,N,D=xe(n[213].allowedEdges),A=[];for(let B=0;B<D.length;B+=1)A[B]=Vs(Gi(n,D,B));function I(){return n[173](n[213])}return{c(){e=y("div"),t=y("div"),i=y("div"),s=y("span"),o=$(r),a=k(),l=y("span"),l.textContent="",d=k(),p=y("span"),m=$(g),f=k(),b=y("div");for(let B=0;B<A.length;B+=1)A[B].c();c=k(),v=y("button"),v.textContent="Add",w=k(),_=y("p"),E=$(C),M=k(),h(s,"class","font-semibold text-[var(--text-default)]"),h(l,"class","text-[var(--text-muted)]"),h(p,"class","font-semibold text-[var(--text-default)]"),h(b,"class","flex gap-1 ml-2"),h(i,"class","flex items-center gap-2"),h(v,"class","px-2 py-1 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded text-xs hover:opacity-90 transition-colors duration-200"),h(v,"title","Add this mapping"),h(t,"class","flex justify-between items-start mb-2"),h(_,"class","text-[var(--text-muted)] text-sm leading-relaxed"),h(e,"class","bg-[var(--background-secondary-alt)] border border-[var(--background-modifier-border)] p-4 rounded-lg")},m(B,R){z(B,e,R),u(e,t),u(t,i),u(i,s),u(s,o),u(i,a),u(i,l),u(i,d),u(i,p),u(p,m),u(i,f),u(i,b);for(let F=0;F<A.length;F+=1)A[F]&&A[F].m(b,null);u(t,c),u(t,v),u(e,w),u(e,_),u(_,E),u(e,M),x||(N=ne(v,"click",I),x=!0)},p(B,R){if(n=B,R[1]&256&&r!==(r=n[213].sourceEntity+"")&&ae(o,r),R[1]&256&&g!==(g=n[213].targetEntity+"")&&ae(m,g),R[1]&256){D=xe(n[213].allowedEdges);let F;for(F=0;F<D.length;F+=1){const L=Gi(n,D,F);A[F]?A[F].p(L,R):(A[F]=Vs(L),A[F].c(),A[F].m(b,null))}for(;F<A.length;F+=1)A[F].d(1);A.length=D.length}R[1]&256&&C!==(C=n[213].description+"")&&ae(E,C)},d(B){B&&j(e),Xe(A,B),x=!1,N()}}}function up(n){let e,t,i,s,r,o;return t=new De({props:{icon:"chevron-right",size:"medium"}}),{c(){e=y("button"),Pe(t.$$.fragment),i=$(" Add Edge Mapping"),h(e,"class","px-4 py-2 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded hover:opacity-90 transition-colors duration-200")},m(a,l){z(a,e,l),Ee(t,e,null),u(e,i),s=!0,r||(o=ne(e,"click",n[177]),r=!0)},p:we,i(a){s||(G(t.$$.fragment,a),s=!0)},o(a){Z(t.$$.fragment,a),s=!1},d(a){a&&j(e),Ce(t),r=!1,o()}}}function pp(n){let e,t,i,s,r,o,a,l,d,p,g,m,f,b,c,v,w,_,C,E,M,x,N,D,A,I,B,R,F=xe(n[41]),L=[];for(let U=0;U<F.length;U+=1)L[U]=Ys(Bi(n,F,U));let V=xe(n[41]),Y=[];for(let U=0;U<V.length;U+=1)Y[U]=qs(zi(n,V,U));function W(U,X){return U[42].length>0?fp:gp}let K=W(n),H=K(n);return{c(){e=y("div"),t=y("h4"),t.textContent="Add New Edge Mapping",i=k(),s=y("div"),r=y("div"),o=y("label"),o.textContent="Source Entity Type",a=k(),l=y("select"),d=y("option"),d.textContent="Select source entity...";for(let U=0;U<L.length;U+=1)L[U].c();p=k(),g=y("div"),m=y("label"),m.textContent="Target Entity Type",f=k(),b=y("select"),c=y("option"),c.textContent="Select target entity...";for(let U=0;U<Y.length;U+=1)Y[U].c();v=k(),w=y("div"),_=y("span"),_.textContent="Allowed Edge Types",C=k(),H.c(),E=k(),M=y("div"),x=y("button"),N=$("Save Mapping"),A=k(),I=y("button"),I.textContent="Cancel",h(t,"class","text-lg font-semibold mb-4 text-[var(--text-default)]"),h(o,"for","new-source-entity"),h(o,"class","block text-sm font-medium text-[var(--text-default)] mb-2"),d.__value="",Ie(d,d.__value),h(l,"id","new-source-entity"),h(l,"class","w-full px-3 py-1 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm leading-normal bg-[var(--background-secondary)] min-w-48"),n[30]===void 0&&jt(()=>n[174].call(l)),h(m,"for","new-target-entity"),h(m,"class","block text-sm font-medium text-[var(--text-default)] mb-2"),c.__value="",Ie(c,c.__value),h(b,"id","new-target-entity"),h(b,"class","w-full px-3 py-1 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm leading-normal bg-[var(--background-secondary)] min-w-48"),n[31]===void 0&&jt(()=>n[175].call(b)),h(s,"class","space-y-4 mb-4"),h(_,"class","block text-sm font-medium text-[var(--text-default)] mb-2"),h(w,"class","mb-4"),h(x,"class","px-4 py-2 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded hover:opacity-90 transition-colors duration-200"),x.disabled=D=!n[30]||!n[31]||n[32].length===0,h(I,"class","px-4 py-2 bg-[var(--background-modifier-border)] text-[var(--text-default)] rounded hover:opacity-90 transition-colors duration-200"),h(M,"class","flex gap-2"),h(e,"class","bg-[var(--background-secondary-alt)] border border-[var(--background-modifier-border)] rounded-lg p-6")},m(U,X){z(U,e,X),u(e,t),u(e,i),u(e,s),u(s,r),u(r,o),u(r,a),u(r,l),u(l,d);for(let O=0;O<L.length;O+=1)L[O]&&L[O].m(l,null);kt(l,n[30],!0),u(s,p),u(s,g),u(g,m),u(g,f),u(g,b),u(b,c);for(let O=0;O<Y.length;O+=1)Y[O]&&Y[O].m(b,null);kt(b,n[31],!0),u(e,v),u(e,w),u(w,_),u(w,C),H.m(w,null),u(e,E),u(e,M),u(M,x),u(x,N),u(M,A),u(M,I),B||(R=[ne(l,"change",n[174]),ne(b,"change",n[175]),ne(x,"click",n[63]),ne(I,"click",n[64])],B=!0)},p(U,X){if(X[1]&1024){F=xe(U[41]);let O;for(O=0;O<F.length;O+=1){const J=Bi(U,F,O);L[O]?L[O].p(J,X):(L[O]=Ys(J),L[O].c(),L[O].m(l,null))}for(;O<L.length;O+=1)L[O].d(1);L.length=F.length}if(X[0]&1073741824|X[1]&1024&&kt(l,U[30]),X[1]&1024){V=xe(U[41]);let O;for(O=0;O<V.length;O+=1){const J=zi(U,V,O);Y[O]?Y[O].p(J,X):(Y[O]=qs(J),Y[O].c(),Y[O].m(b,null))}for(;O<Y.length;O+=1)Y[O].d(1);Y.length=V.length}X[1]&1025&&kt(b,U[31]),K===(K=W(U))&&H?H.p(U,X):(H.d(1),H=K(U),H&&(H.c(),H.m(w,null))),X[0]&1073741824|X[1]&1027&&D!==(D=!U[30]||!U[31]||U[32].length===0)&&(x.disabled=D)},i:we,o:we,d(U){U&&j(e),Xe(L,U),Xe(Y,U),H.d(),B=!1,Je(R)}}}function Ys(n){let e,t=n[208]+"",i,s;return{c(){e=y("option"),i=$(t),e.__value=s=n[208],Ie(e,e.__value)},m(r,o){z(r,e,o),u(e,i)},p(r,o){o[1]&1024&&t!==(t=r[208]+"")&&ae(i,t),o[1]&1024&&s!==(s=r[208])&&(e.__value=s,Ie(e,e.__value))},d(r){r&&j(e)}}}function qs(n){let e,t=n[208]+"",i,s;return{c(){e=y("option"),i=$(t),e.__value=s=n[208],Ie(e,e.__value)},m(r,o){z(r,e,o),u(e,i)},p(r,o){o[1]&1024&&t!==(t=r[208]+"")&&ae(i,t),o[1]&1024&&s!==(s=r[208])&&(e.__value=s,Ie(e,e.__value))},d(r){r&&j(e)}}}function gp(n){let e;return{c(){e=y("p"),e.textContent="No edge types defined. Create edge types first.",h(e,"class","text-sm text-[var(--text-muted)] italic")},m(t,i){z(t,e,i)},p:we,d(t){t&&j(e)}}}function fp(n){let e,t=xe(n[42]),i=[];for(let s=0;s<t.length;s+=1)i[s]=Ws(ji(n,t,s));return{c(){e=y("div");for(let s=0;s<i.length;s+=1)i[s].c();h(e,"class","grid grid-cols-2 md:grid-cols-3 gap-2")},m(s,r){z(s,e,r);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(e,null)},p(s,r){if(r[1]&2050|r[2]&16){t=xe(s[42]);let o;for(o=0;o<t.length;o+=1){const a=ji(s,t,o);i[o]?i[o].p(a,r):(i[o]=Ws(a),i[o].c(),i[o].m(e,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=t.length}},d(s){s&&j(e),Xe(i,s)}}}function Ws(n){let e,t,i,s,r,o=n[205]+"",a,l,d,p;function g(){return n[176](n[205])}return{c(){e=y("label"),t=y("input"),s=k(),r=y("span"),a=$(o),l=k(),h(t,"type","checkbox"),t.checked=i=n[32].includes(n[205]),h(t,"class","rounded border-[var(--background-modifier-border)] text-[var(--interactive-accent)] focus:ring-[var(--interactive-accent)]"),h(r,"class","text-sm text-[var(--text-default)]"),h(e,"class","flex items-center gap-2 p-2 border border-[var(--background-modifier-border)] rounded hover:opacity-90 cursor-pointer transition-colors duration-200")},m(m,f){z(m,e,f),u(e,t),u(e,s),u(e,r),u(r,a),u(e,l),d||(p=ne(t,"change",g),d=!0)},p(m,f){n=m,f[1]&2050&&i!==(i=n[32].includes(n[205]))&&(t.checked=i),f[1]&2048&&o!==(o=n[205]+"")&&ae(a,o)},d(m){m&&j(e),d=!1,p()}}}function hp(n){let e,t,i,s,r=n[0].length+"",o,a,l,d=n[0].reduce(Js,0)+"",p,g;return{c(){e=y("div"),t=y("p"),i=$("Found "),s=y("strong"),o=$(r),a=$(`\r
        types across\r
        `),l=y("strong"),p=$(d),g=$(" files"),h(s,"class","text-[var(--text-default)]"),h(l,"class","text-[var(--text-default)]"),h(t,"class","text-[var(--text-default)] text-center"),h(e,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded-lg p-4 mb-4")},m(m,f){z(m,e,f),u(e,t),u(t,i),u(t,s),u(s,o),u(t,a),u(t,l),u(l,p),u(t,g)},p(m,f){f[0]&1&&r!==(r=m[0].length+"")&&ae(o,r),f[0]&1&&d!==(d=m[0].reduce(Js,0)+"")&&ae(p,d)},d(m){m&&j(e)}}}function mp(n){let e;return{c(){e=y("div"),e.innerHTML='<p class="mb-2">No typed notes found in your vault.</p> <p>Add a <code class="bg-[var(--background-modifier-border)] px-2 py-1 rounded font-mono text-sm">type</code> property to your frontmatter to get started.</p>',h(e,"class","text-center py-8 text-[var(--text-muted)]")},m(t,i){z(t,e,i)},p:we,d(t){t&&j(e)}}}function yp(n){let e;return{c(){e=y("div"),e.innerHTML=`<div class="w-4 h-4 border-2 border-[var(--background-modifier-border)] border-t-[var(--interactive-accent)] rounded-full animate-spin"></div>
      Discovering schemas from vault...`,h(e,"class","flex items-center gap-2 justify-center py-8 text-[var(--text-muted)]")},m(t,i){z(t,e,i)},p:we,d(t){t&&j(e)}}}function Ks(n){let e,t,i,s,r,o,a,l,d,p,g,m,f,b,c,v,w,_,C,E,M,x,N,D,A,I,B,R,F,L,V,Y,W;function K(fe,Te){return fe[21]==="entities"?Sp:fe[21]==="properties"?wp:fe[21]==="load_default_entities"?_p:fe[21]==="load_default_properties"?vp:bp}let H=K(n),U=H(n);function X(fe,Te){return fe[21]==="load_default_entities"||fe[21]==="load_default_properties"?kp:xp}let O=X(n),J=O(n);return V=Qd(n[179][0]),{c(){e=y("div"),t=y("div"),i=y("div"),s=y("h3"),U.c(),r=k(),o=y("button"),o.textContent="",a=k(),l=y("div"),d=y("p"),J.c(),p=k(),g=y("div"),m=y("label"),f=y("input"),b=k(),c=y("div"),c.innerHTML=`<strong class="svelte-1fc521h">Skip User Defined</strong> <span class="svelte-1fc521h">Only generate for items without descriptions or with source !=
                &#39;user&#39;</span>`,v=k(),w=y("label"),_=y("input"),C=k(),E=y("div"),E.innerHTML='<strong class="svelte-1fc521h">New Only</strong> <span class="svelte-1fc521h">Only generate for completely missing descriptions</span>',M=k(),x=y("label"),N=y("input"),D=k(),A=y("div"),A.innerHTML='<strong class="svelte-1fc521h">Regenerate All</strong> <span class="text-warning svelte-1fc521h">Overwrites ALL existing descriptions including user-defined</span>',I=k(),B=y("div"),R=y("button"),R.textContent="Cancel",F=k(),L=y("button"),L.textContent="Generate",h(s,"class","svelte-1fc521h"),h(o,"class","megamem-modal-close svelte-1fc521h"),h(i,"class","megamem-modal-header svelte-1fc521h"),h(d,"class","megamem-modal-warning svelte-1fc521h"),h(f,"type","radio"),f.__value="skip_user",Ie(f,f.__value),f.checked=!0,h(f,"class","svelte-1fc521h"),h(c,"class","megamem-radio-label svelte-1fc521h"),h(m,"class","megamem-radio-option svelte-1fc521h"),h(_,"type","radio"),_.__value="new_only",Ie(_,_.__value),h(_,"class","svelte-1fc521h"),h(E,"class","megamem-radio-label svelte-1fc521h"),h(w,"class","megamem-radio-option svelte-1fc521h"),h(N,"type","radio"),N.__value="regenerate_all",Ie(N,N.__value),h(N,"class","svelte-1fc521h"),h(A,"class","megamem-radio-label svelte-1fc521h"),h(x,"class","megamem-radio-option svelte-1fc521h"),h(g,"class","megamem-radio-group svelte-1fc521h"),h(l,"class","megamem-modal-body svelte-1fc521h"),h(R,"class","megamem-button-secondary svelte-1fc521h"),h(L,"class","megamem-button-primary svelte-1fc521h"),h(B,"class","megamem-modal-footer svelte-1fc521h"),h(t,"class","megamem-modal-content svelte-1fc521h"),h(t,"role","dialog"),h(t,"aria-modal","true"),h(t,"aria-label","LLM generation options"),h(t,"aria-describedby","modal-description"),h(t,"tabindex","-1"),h(e,"class","megamem-modal-overlay svelte-1fc521h"),h(e,"role","presentation"),V.p(f,_,N)},m(fe,Te){z(fe,e,Te),u(e,t),u(t,i),u(i,s),U.m(s,null),u(i,r),u(i,o),u(t,a),u(t,l),u(l,d),J.m(d,null),u(l,p),u(l,g),u(g,m),u(m,f),f.checked=f.__value===n[22],u(m,b),u(m,c),u(g,v),u(g,w),u(w,_),_.checked=_.__value===n[22],u(w,C),u(w,E),u(g,M),u(g,x),u(x,N),N.checked=N.__value===n[22],u(x,D),u(x,A),u(t,I),u(t,B),u(B,R),u(B,F),u(B,L),Y||(W=[ne(o,"click",n[94]),ne(f,"change",n[178]),ne(_,"change",n[180]),ne(N,"change",n[181]),ne(R,"click",n[94]),ne(L,"click",n[95]),ne(e,"mousedown",Jd(n[94]))],Y=!0)},p(fe,Te){H!==(H=K(fe))&&(U.d(1),U=H(fe),U&&(U.c(),U.m(s,null))),O!==(O=X(fe))&&(J.d(1),J=O(fe),J&&(J.c(),J.m(d,null))),Te[0]&4194304&&(f.checked=f.__value===fe[22]),Te[0]&4194304&&(_.checked=_.__value===fe[22]),Te[0]&4194304&&(N.checked=N.__value===fe[22])},d(fe){fe&&j(e),U.d(),J.d(),V.r(),Y=!1,Je(W)}}}function bp(n){let e;return{c(){e=$("Generate Complete Ontology")},m(t,i){z(t,e,i)},d(t){t&&j(e)}}}function vp(n){let e;return{c(){e=$("Load Default Property Descriptions")},m(t,i){z(t,e,i)},d(t){t&&j(e)}}}function _p(n){let e;return{c(){e=$("Load Default Entity Descriptions")},m(t,i){z(t,e,i)},d(t){t&&j(e)}}}function wp(n){let e;return{c(){e=$("Generate Property Descriptions")},m(t,i){z(t,e,i)},d(t){t&&j(e)}}}function Sp(n){let e;return{c(){e=$("Generate Entity Descriptions")},m(t,i){z(t,e,i)},d(t){t&&j(e)}}}function xp(n){let e;return{c(){e=$(`This will use your configured LLM to generate descriptions. Choose\r
            how to handle existing content:`)},m(t,i){z(t,e,i)},d(t){t&&j(e)}}}function kp(n){let e;return{c(){e=$(`Load built-in default descriptions. Choose how to handle existing\r
                <div class="p-6 text-center">
                    <h2 class="text-xl font-semibold text-red-600 mb-4">Enhanced Sync UI Error</h2>
                    <p class="text-gray-700 mb-4">Failed to load enhanced sync UI: ${i instanceof Error?i.message:String(i)}</p>
                    <button class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600" onclick="this.closest('.modal').dispatchEvent(new Event('close'))">
                        Close
                    </button>
                </div>
            `}}onClose(){var t;const{contentEl:e}=this;this.svelteComponent&&(this.svelteComponent.$destroy(),this.svelteComponent=null),(t=e.parentElement)==null||t.removeClass("enhanced-sync-modal"),e.parentElement&&(e.parentElement.style.padding="",e.parentElement.style.backgroundColor=""),e.empty()}}function Hp(n,e,t,i,s,r,o){try{new Kp(n,e,t,i,s,r,o).open()}catch(a){throw console.error("Failed to open enhanced sync UI:",a),a}}function Jp(n){const e={llmDefaults:{openai:{"gpt-5":{desc:"Latest flagship, most capable",recommended:!0},"gpt-4o":{desc:"Previous gen, multimodal",recommended:!1},"gpt-4o-mini":{desc:"Efficient, good performance",recommended:!1}},ollama:{"deepseek-r1:8b":{desc:"Best reasoning with transparent thought chains",recommended:!0},"qwen2.5:7b":{desc:"Excellent entity extraction, 128K context",recommended:!0},"qwq:32b":{desc:"Qwen's dedicated reasoning model",recommended:!1},"llama3.2:11b":{desc:"Latest Llama, strong performance",recommended:!1},"gemma2:9b":{desc:"Google's efficient architecture",recommended:!1},"mistral:7b":{desc:"Fast, reliable baseline",recommended:!1},"phi3:14b":{desc:"Microsoft's capable model",recommended:!1},"llama3.2:3b":{desc:"Lightweight for limited hardware",recommended:!1},"qwen2.5:3b":{desc:"User added",recommended:!1}},google:{"gemini-2.5-pro":{desc:"Latest flagship, maximum capability",recommended:!0},"gemini-2.5-flash":{desc:"Fast, efficient Gemini 2.5",recommended:!1},"gemini-2.0-flash-exp":{desc:"Previous gen experimental",recommended:!1}},anthropic:{"claude-opus-4-1-20250805":{desc:"Most capable, advanced reasoning",recommended:!0},"claude-sonnet-4-20250514":{desc:"Balanced performance and speed",recommended:!1},"claude-3-7-sonnet-latest":{desc:"Previous gen, still capable",recommended:!1},"claude-3-5-haiku-latest":{desc:"Fast, economical",recommended:!1}},venice:{"dolphin-2.9.2-qwen2-72b":{desc:"High-performance dolphin fine-tune of Qwen2",recommended:!0},"mistral-31-24b":{desc:"Powerful Mistral architecture",recommended:!1},"llama-3.2-3b":{desc:"Lightweight Llama model",recommended:!1}},openrouter:{"openai/gpt-5-mini":{desc:"Cost-effective with full structured output support",recommended:!0},"meta-llama/llama-3.1-70b-instruct":{desc:"Open source alternative with verified schema support",recommended:!1},"google/gemini-2.5-flash":{desc:"Google's offering with verified structured outputs",recommended:!1},"qwen/qwen3-235b-a22b":{desc:"Qwen model with verified schema handling",recommended:!1},"deepseek/deepseek-chat-v3.1":{desc:"Recent Deepseek model with structured output",recommended:!1}}},llmSmallDefaults:{openai:{"gpt-5-nano":{desc:"Latest nano model for reranking",recommended:!0},"gpt-4o-mini":{desc:"Previous gen efficient model",recommended:!1},"gpt-5-turbo":{desc:"Fast, cost-effective GPT-5",recommended:!1}},ollama:{"qwen2.5:3b":{desc:"Excellent for structured tasks",recommended:!0},"llama3.2:3b":{desc:"Fast, reliable classifications",recommended:!0},"deepseek-r1:1.5b":{desc:"Ultra-fast, minimal resource use",recommended:!1},"mistral:7b-instruct":{desc:"Larger but very reliable",recommended:!1}},google:{"gemini-2.5-flash-lite":{desc:"Optimized for classification tasks",recommended:!0},"gemini-2.5-flash":{desc:"Fast classification, larger",recommended:!1},"gemini-1.5-flash-8b":{desc:"Previous gen, still efficient",recommended:!1}},anthropic:{"claude-4-haiku":{desc:"Fast, efficient for reranking",recommended:!0},"claude-3-5-haiku-20241022":{desc:"Previous gen, economical",recommended:!1}},venice:{"llama-3.2-3b":{desc:"Fast, efficient for classification tasks",recommended:!0},"mistral-31-24b":{desc:"Larger but very capable",recommended:!1}},openrouter:{"openai/gpt-5-mini":{desc:"Cost-effective with verified structured output support",recommended:!0},"google/gemini-2.5-flash":{desc:"Fast classification with verified structured outputs",recommended:!1},"meta-llama/llama-3.1-70b-instruct":{desc:"Open source alternative with verified schema support",recommended:!1}}},embeddingDefaults:{openai:{"text-embedding-3-small":{desc:"Efficient, good quality",dimensions:1536,recommended:!0},"text-embedding-3-large":{desc:"Highest quality, larger vectors",dimensions:3072,recommended:!1},"text-embedding-ada-002":{desc:"Legacy model, still supported",dimensions:1536,recommended:!1}},ollama:{"nomic-embed-text:latest":{desc:"Best for markdown & mixed content",dimensions:768,recommended:!0},"mxbai-embed-large":{desc:"Highest quality embeddings",dimensions:1024,recommended:!1},"snowflake-arctic-embed":{desc:"Strong retrieval performance",dimensions:1024,recommended:!1},"all-minilm":{desc:"Smallest, fastest, limited quality",dimensions:384,recommended:!1},"e5-mistral-7b":{desc:"LLM-based embeddings, highest quality",dimensions:4096,recommended:!1}},google:{"text-embedding-005":{desc:"Latest Gemini 2.5 era embeddings",dimensions:768,recommended:!0},"text-embedding-004":{desc:"Previous gen, proven performance",dimensions:768,recommended:!1},"text-multilingual-embedding-002":{desc:"Best for multiple languages",dimensions:768,recommended:!1}},voyage:{"voyage-3":{desc:"Latest generation, best quality",dimensions:1024,recommended:!0},"voyage-3-lite":{desc:"Efficient, good performance",dimensions:512,recommended:!1},"voyage-large-2-instruct":{desc:"Instruction-optimized",dimensions:1024,recommended:!1},"voyage-code-2":{desc:"Optimized for code search",dimensions:1536,recommended:!1},"voyage-finance-2":{desc:"Financial domain specialist",dimensions:1024,recommended:!1},"voyage-law-2":{desc:"Legal domain specialist",dimensions:1024,recommended:!1},"voyage-multilingual-2":{desc:"Cross-lingual retrieval",dimensions:1024,recommended:!1}}},llmCrossEncoderDefaults:{openai:{"gpt-5-nano":{desc:"Latest nano model for reranking",recommended:!0},"gpt-4.1-nano":{desc:"Previous gen efficient model",recommended:!1},"gpt-3.5-turbo":{desc:"Legacy, very fast",recommended:!1}},gemini:{"gemini-2.5-flash-lite-preview-06-17":{desc:"Optimized for classification tasks",recommended:!0},"gemini-1.5-flash-8b":{desc:"Previous gen, still efficient",recommended:!1}}}};if(n!=null&&n.openrouterPresetSlug){const t=`@preset/${n.openrouterPresetSlug}`;e.llmDefaults.openrouter[t]={desc:"Models controlled by OpenRouter Preset",recommended:!0},e.llmSmallDefaults.openrouter[t]={desc:"Models controlled by OpenRouter Preset",recommended:!0}}return e}class Qp{constructor(e,t){this.suggestEl=null,this.app=e,this.inputEl=t,this.selectedItem=-1,this.suggestions=[],this.inputEl.addEventListener("input",this.onInputChanged.bind(this)),this.inputEl.addEventListener("focus",this.onInputChanged.bind(this)),this.inputEl.addEventListener("blur",this.close.bind(this)),this.inputEl.addEventListener("keydown",this.onInputKeydown.bind(this))}onInputChanged(){const e=this.inputEl.value,t=this.getSuggestions(e);if(!t||t.length===0){this.close();return}this.suggestions=t,this.selectedItem=-1,this.open(t)}onInputKeydown(e){const t=e;!this.suggestEl||this.suggestions.length===0||(t.key==="ArrowDown"?(this.selectedItem=Math.min(this.selectedItem+1,this.suggestions.length-1),this.setSelectedItem(this.selectedItem),e.preventDefault()):t.key==="ArrowUp"?(this.selectedItem=Math.max(this.selectedItem-1,-1),this.setSelectedItem(this.selectedItem),e.preventDefault()):t.key==="Enter"?this.selectedItem>=0&&(this.selectSuggestion(this.suggestions[this.selectedItem]),e.preventDefault()):t.key==="Escape"&&(this.close(),e.preventDefault()))}open(e){if(this.close(),e.length===0)return;this.suggestEl=document.createElement("div"),this.suggestEl.classList.add("suggestion-container"),this.suggestEl.style.cssText=`
            position: absolute;
            z-index: 1000;
            background: var(--background-primary);
            border: 1px solid var(--background-modifier-border);
            border-radius: 8px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
            max-height: 200px;
            overflow-y: auto;
            min-width: 200px;
        `;const t=this.inputEl.getBoundingClientRect();this.suggestEl.style.top=`${t.bottom+4}px`,this.suggestEl.style.left=`${t.left}px`,this.suggestEl.style.width=`${t.width}px`,e.forEach((i,s)=>{var o;const r=document.createElement("div");r.classList.add("suggestion-item"),r.style.cssText=`
                padding: 8px 12px;
                cursor: pointer;
                border-bottom: 1px solid var(--background-modifier-border-hover);
            `,this.renderSuggestion(i,r),r.addEventListener("mousedown",a=>{a.preventDefault(),this.selectSuggestion(i)}),r.addEventListener("click",a=>{a.preventDefault(),this.selectSuggestion(i)}),r.addEventListener("mouseenter",()=>{this.setSelectedItem(s)}),(o=this.suggestEl)==null||o.appendChild(r)}),document.body.appendChild(this.suggestEl)}setSelectedItem(e){var i;const t=(i=this.suggestEl)==null?void 0:i.querySelectorAll(".suggestion-item");t&&(t.forEach((s,r)=>{r===e?(s.classList.add("is-selected"),s.style.background="var(--background-modifier-hover)"):(s.classList.remove("is-selected"),s.style.background="")}),this.selectedItem=e)}close(){this.suggestEl&&(this.suggestEl.remove(),this.suggestEl=null),this.selectedItem=-1}}class xn extends Qp{constructor(e,t){super(e,t)}getSuggestions(e){const t=this.app.vault.getAllLoadedFiles(),i=[],s=e.toLowerCase();return t.forEach(r=>{r instanceof P.TFolder&&r.path.toLowerCase().contains(s)&&i.push(r)}),i.slice(0,1e3)}renderSuggestion(e,t){t.setText(e.path)}selectSuggestion(e){this.inputEl.value=e.path;const t=new Event("input",{bubbles:!0}),i=new Event("change",{bubbles:!0});this.inputEl.dispatchEvent(t),this.inputEl.dispatchEvent(i),this.close()}}const Rt=tl.promisify(Nt.exec);class tn{static getInstance(){return tn.instance||(tn.instance=new tn),tn.instance}async getMCPServerProcesses(){const e=process.platform;try{return e==="win32"?await this.getWindowsProcesses():e==="darwin"?await this.getMacProcesses():await this.getLinuxProcesses()}catch(t){return console.error("[PROCESS-DETECTION] Failed to get MCP server processes:",t),[]}}async getWindowsProcesses(){var e;try{const t=`wmic process where "name='python.exe' and commandline like '%megamem_mcp_server.py%'" get ProcessId,ParentProcessId,CreationDate,CommandLine /format:list`,{stdout:i}=await Rt(t,{shell:"cmd.exe",windowsHide:!0,encoding:"utf8"}),s=[],r=i.split(/(\r\r\n){2,}/).filter(o=>o.trim()&&!o.match(/^(\r\r\n)+$/));for(const o of r){const a={};if(o.split(/\r\r\n/).forEach(l=>{const d=l.indexOf("=");if(d>0){const p=l.substring(0,d).trim(),g=l.substring(d+1).trim();p&&g&&(a[p]=g)}}),a.ProcessId&&a.ParentProcessId&&((e=a.CommandLine)!=null&&e.includes("megamem_mcp_server.py"))){const l=await this.getWindowsParentProcessName(a.ParentProcessId),d=this.formatWindowsDate(a.CreationDate);s.push({pid:a.ProcessId,parentName:l,createdAt:d,commandLine:a.CommandLine})}}return s}catch(t){return console.error("[PROCESS-DETECTION] Windows process detection failed:",t),[]}}async getWindowsParentProcessName(e){try{const t=`wmic process where "ProcessId=${e}" get Name /value`,{stdout:i}=await Rt(t,{shell:"cmd.exe",windowsHide:!0,encoding:"utf8"}),s=i.split(/\r?\n/);for(const r of s){const o=r.indexOf("=");if(o>0){const a=r.substring(0,o).trim(),l=r.substring(o+1).trim();if(a==="Name"&&l)return l.replace(".exe","")}}return"Unknown"}catch{return"Unknown"}}formatWindowsDate(e){if(!e||e.length<14)return"Unknown";try{const t=e.substring(0,4),i=e.substring(4,6),s=e.substring(6,8),r=e.substring(8,10),o=e.substring(10,12),a=e.substring(12,14);return new Date(`${t}-${i}-${s}T${r}:${o}:${a}`).toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}catch{return e}}async getMacProcesses(){try{const e="ps aux | grep megamem_mcp_server.py | grep -v grep",{stdout:t}=await Rt(e),i=t.split(`
`).filter(r=>r.trim()),s=[];for(const r of i){const o=r.trim().split(/\s+/);if(o.length>=11){const a=o[1],l=await this.getMacParentInfo(a);s.push({pid:a,parentName:l.name,createdAt:l.startTime,commandLine:o.slice(10).join(" ")})}}return s}catch(e){return console.error("[PROCESS-DETECTION] Mac process detection failed:",e),[]}}async getMacParentInfo(e){try{const{stdout:t}=await Rt(`ps -p ${e} -o ppid=,lstart=`),s=t.trim().split(/\s+/);if(s.length>=6){const r=s[0],o=s.slice(1).join(" "),{stdout:a}=await Rt(`ps -p ${r} -o comm=`);return{name:a.trim().replace(/^.*\//,"")||"Unknown",startTime:new Date(o).toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}}return{name:"Unknown",startTime:"Unknown"}}catch{return{name:"Unknown",startTime:"Unknown"}}}async getLinuxProcesses(){try{const e="ps aux | grep megamem_mcp_server.py | grep -v grep",{stdout:t}=await Rt(e),i=t.split(`
`).filter(r=>r.trim()),s=[];for(const r of i){const o=r.trim().split(/\s+/);if(o.length>=11){const a=o[1],l=await this.getLinuxParentInfo(a);s.push({pid:a,parentName:l.name,createdAt:l.startTime,commandLine:o.slice(10).join(" ")})}}return s}catch(e){return console.error("[PROCESS-DETECTION] Linux process detection failed:",e),[]}}async getLinuxParentInfo(e){try{const{stdout:t}=await Rt(`ps -p ${e} -o ppid=,lstart=`),s=t.trim().split(/\s+/);if(s.length>=6){const r=s[0],o=s.slice(1).join(" "),{stdout:a}=await Rt(`ps -p ${r} -o comm=`);return{name:a.trim()||"Unknown",startTime:new Date(o).toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}}return{name:"Unknown",startTime:"Unknown"}}catch{return{name:"Unknown",startTime:"Unknown"}}}}const Zp=process.platform==="win32"||navigator.userAgent.includes("Windows");class Xp{constructor(e="http://localhost:11434",t){this.downloadCallbacks=new Map,this.modelCache={models:[],timestamp:0,ttl:3e4},this.pendingModelRequest=null,this.baseUrl=e.replace(/\/$/,""),this.logger=t}async isServerRunning(){try{return(await P.requestUrl({url:`${this.baseUrl}/api/version`,method:"GET",headers:{"Content-Type":"application/json"}})).status===200}catch(e){if(this.logger.debug("[OLLAMA] Server not running, attempting recovery",{error:e}),await this.attemptServiceRecovery()){await new Promise(i=>setTimeout(i,2e3));try{if((await P.requestUrl({url:`${this.baseUrl}/api/version`,method:"GET",headers:{"Content-Type":"application/json"}})).status===200)return this.logger.info("[OLLAMA] Service recovery successful"),!0}catch(i){this.logger.debug("[OLLAMA] Retry after service recovery failed",{retryError:i})}}return!1}}async getAvailableModels(e=!1){const t=Date.now();if(!e&&this.modelCache.models.length>0&&t-this.modelCache.timestamp<this.modelCache.ttl)return this.modelCache.models;if(this.pendingModelRequest&&!e)return this.pendingModelRequest;this.pendingModelRequest=this._fetchModelsFromServer();try{return await this.pendingModelRequest}finally{this.pendingModelRequest=null}}async _fetchModelsFromServer(){const e=Date.now();try{const t=await P.requestUrl({url:`${this.baseUrl}/api/tags`,method:"GET",headers:{"Content-Type":"application/json"}});if(t.status!==200)throw new Error(`Failed to fetch models: ${t.status}`);const r=(t.json.models||[]).map(o=>o.name);return this.logger.debug("[OLLAMA] Fetched fresh model list from server",{rawCount:r.length,normalizedCount:r.length,serverUrl:this.baseUrl}),this.modelCache={models:r,timestamp:e,ttl:this.modelCache.ttl},r}catch{if(await this.attemptServiceRecovery()){await new Promise(s=>setTimeout(s,2e3));try{const s=await P.requestUrl({url:`${this.baseUrl}/api/tags`,method:"GET",headers:{"Content-Type":"application/json"}});if(s.status===200){const a=(s.json.models||[]).map(l=>l.name);return this.modelCache={models:a,timestamp:e,ttl:this.modelCache.ttl},a}}catch{}}return[]}}async getEmbeddingModelsWithStatus(e,t=!1){const i=await this.getAvailableModels(t),r=(Array.isArray(e)&&e.length>0?e:[...i]).map(a=>{const l=i.includes(a);return{name:a,available:l}}),o=r.find(a=>a.name==="nomic-embed-text"||a.name.startsWith("nomic-embed-text:"));return o&&this.logger.info(`[OLLAMA] nomic-embed-text availability: ${o.available}`),r}async downloadModel(e,t){var i;try{t&&this.downloadCallbacks.set(e,t);const s=await fetch(`${this.baseUrl}/api/pull`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e})});if(!s.ok)throw new Error(`Download request failed: ${s.status}`);const r=(i=s.body)==null?void 0:i.getReader();if(!r)throw new Error("No response body reader available");let o=!1,a=!1;for(;!o;){const{done:l,value:d}=await r.read();if(l){o=!0;break}const g=new TextDecoder().decode(d).split(`
`).filter(m=>m.trim());for(const m of g)try{const f=JSON.parse(m);if(t&&t(f),f.error)throw this.logger.error("[OLLAMA] Download error detected",{error:f.error,modelName:e}),a=!0,new Error(`Download failed: ${f.error}`);f.status==="success"&&(o=!0)}catch(f){if(f instanceof Error&&f.message.includes("Download failed:"))throw f;this.logger.debug("[OLLAMA] Non-JSON progress line",{line:m})}}return this.downloadCallbacks.delete(e),a?(this.logger.error(`[OLLAMA] Model ${e} download failed due to detected errors`),!1):(this.logger.info(`[OLLAMA] Model ${e} downloaded successfully`),!0)}catch(s){return this.logger.error("[OLLAMA] Failed to download model",{modelName:e,error:s}),this.downloadCallbacks.delete(e),t&&t({status:`error: ${s instanceof Error?s.message:"Unknown error"}`}),!1}}clearModelCache(){this.modelCache={models:[],timestamp:0,ttl:this.modelCache.ttl}}async isModelAvailable(e){return(await this.getAvailableModels()).includes(e)}async _pollForModelAvailability(e,t=3e4,i=2e3){const s=Date.now(),r=e;for(;Date.now()-s<t;){if(await this.isModelAvailable(r))return this.logger.info(`[OLLAMA] Model ${r} is now available.`),!0;await new Promise(a=>setTimeout(a,i))}return this.logger.warn(`[OLLAMA] Model ${r} did not become available within timeout.`),!1}async isModelInstalled(e){return await this.isModelAvailable(e)}async downloadModelWithProgress(e,t){const i=await this.downloadModel(e,t);return i&&(this.clearModelCache(),await this._pollForModelAvailability(e,3e4,2e3)?t({status:"Model is now available for use"}):this.logger.warn(`[OLLAMA] Model ${e} downloaded but not showing as available`)),i}async checkServerStatus(){if(!await this.isServerRunning())return{running:!1};try{return{running:!0,modelCount:(await this.getAvailableModels()).length}}catch{return{running:!0}}}async startService(){return await this.isServerRunning()?{success:!0,message:"Ollama service is already running"}:await this.attemptServiceRecovery()?(await new Promise(s=>setTimeout(s,3e3)),await this.isServerRunning()?{success:!0,message:"Ollama service started successfully"}:{success:!1,message:"Service recovery attempted but Ollama is not responding"}):{success:!1,message:"Service recovery not available on this platform"}}async attemptServiceRecovery(){if(!Zp)return this.logger.debug("[OLLAMA] Service recovery not applicable on non-Windows platform"),!1;try{this.logger.info("[OLLAMA] Attempting Windows service recovery using PowerShell Start-Service");const{exec:e}=require("child_process");return new Promise(t=>{e('powershell.exe "Start-Service -Name ollama -ErrorAction SilentlyContinue"',{timeout:1e4},(s,r,o)=>{s?(this.logger.debug("[OLLAMA] PowerShell service start failed",{error:s.message,stderr:o}),e('powershell.exe "Start-Service -Name OllamaService -ErrorAction SilentlyContinue"',{timeout:1e4},l=>{l?this.logger.debug("[OLLAMA] Alternative service name also failed",{altError:l.message}):this.logger.info("[OLLAMA] Alternative service recovery command executed"),t(!0)})):(this.logger.info("[OLLAMA] Service recovery command executed successfully",{stdout:r.trim()}),t(!0))})})}catch(e){return this.logger.error("[OLLAMA] Service recovery attempt failed",{error:e}),!1}}}class eg{constructor(e,t){this.ollamaService=null,this.app=e,this.plugin=t}getOllamaService(){if(!this.ollamaService){let e=this.plugin.settings.ollamaBaseUrl||"http://localhost:11434";e=e.replace(/\/v1\/?$/,""),this.ollamaService=new Xp(e,this.plugin.logger)}return this.ollamaService}getOllamaLLMModelsFromSettings(){var e,t,i;try{const s=((e=this.plugin.settings.llmDefaults)==null?void 0:e.ollama)||{},r=Object.entries(s).map(([o,a])=>({name:o,description:a&&a.desc||"",recommended:!!(a&&a.recommended)}));return r.sort((o,a)=>Number(a.recommended)-Number(o.recommended)||o.name.localeCompare(a.name)),(t=this.plugin.logger)==null||t.debug("[OLLAMA-SETTINGS] Loaded Ollama LLM models from plugin.settings",{count:r.length}),r}catch(s){return(i=this.plugin.logger)==null||i.warn("[OLLAMA-SETTINGS] Failed to load Ollama LLM defaults from settings",{error:s}),[]}}getOllamaLLMSmallModelsFromSettings(){var e,t,i;try{const s=((e=this.plugin.settings.llmSmallDefaults)==null?void 0:e.ollama)||{},r=Object.entries(s).map(([o,a])=>({name:o,description:a&&a.desc||"",recommended:!!(a&&a.recommended)}));return r.sort((o,a)=>Number(a.recommended)-Number(o.recommended)||o.name.localeCompare(a.name)),(t=this.plugin.logger)==null||t.debug("[OLLAMA-SETTINGS] Loaded Ollama LLM Small models from plugin.settings",{count:r.length}),r}catch(s){return(i=this.plugin.logger)==null||i.warn("[OLLAMA-SETTINGS] Failed to load Ollama LLM Small defaults from settings",{error:s}),[]}}getOllamaEmbeddingModelsFromSettings(){var e,t,i;try{const s=((e=this.plugin.settings.embeddingDefaults)==null?void 0:e.ollama)||{},r=Object.entries(s).map(([o,a])=>({name:o,description:a&&a.desc||"",dimensions:a&&a.dimensions||void 0,recommended:!!(a&&a.recommended)}));return r.sort((o,a)=>Number(a.recommended)-Number(o.recommended)||o.name.localeCompare(a.name)),(t=this.plugin.logger)==null||t.debug("[OLLAMA-SETTINGS] Loaded Ollama embedding models from plugin.settings",{count:r.length}),r}catch(s){return(i=this.plugin.logger)==null||i.warn("[OLLAMA-SETTINGS] Failed to load Ollama embedding defaults from settings",{error:s}),[]}}getOllamaEmbeddingModelNamesFromSettings(){var e;try{return Object.keys(((e=this.plugin.settings.embeddingDefaults)==null?void 0:e.ollama)||{})}catch{return[]}}async addCustomOllamaLLMToDefaults(e){var t,i;try{this.plugin.settings.llmDefaults||(this.plugin.settings.llmDefaults={}),this.plugin.settings.llmDefaults.ollama||(this.plugin.settings.llmDefaults.ollama={}),this.plugin.settings.llmDefaults.ollama[e]||(this.plugin.settings.llmDefaults.ollama[e]={desc:"User added",recommended:!1},await this.plugin.saveSettings(),(t=this.plugin.logger)==null||t.info("[OLLAMA-SETTINGS] Added custom Ollama LLM to defaults",{modelName:e}))}catch(s){(i=this.plugin.logger)==null||i.error("[OLLAMA-SETTINGS] Failed to add custom Ollama LLM to defaults",{modelName:e,error:s})}}async addCustomOllamaEmbeddingToDefaults(e){var t,i;try{this.plugin.settings.embeddingDefaults||(this.plugin.settings.embeddingDefaults={}),this.plugin.settings.embeddingDefaults.ollama||(this.plugin.settings.embeddingDefaults.ollama={}),this.plugin.settings.embeddingDefaults.ollama[e]||(this.plugin.settings.embeddingDefaults.ollama[e]={desc:"User added",dimensions:this.plugin.settings.ollamaEmbeddingDim||768,recommended:!1},await this.plugin.saveSettings(),(t=this.plugin.logger)==null||t.info("[OLLAMA-SETTINGS] Added custom Ollama embedding to defaults",{modelName:e}))}catch(s){(i=this.plugin.logger)==null||i.error("[OLLAMA-SETTINGS] Failed to add custom Ollama embedding to defaults",{modelName:e,error:s})}}async isOllamaModelInstalled(e){var t;try{return await this.getOllamaService().isModelInstalled(e)}catch(i){return(t=this.plugin.logger)==null||t.error("[OLLAMA-SETTINGS] Failed to check Ollama model installation",{modelName:e,error:i}),!1}}async downloadOllamaModelWithProgress(e,t){var l;const i=this.getOllamaService();t.empty();const s=t.createDiv();s.createEl("div",{text:`[DOWNLOADING] ${e}...`});const r=s.createEl("div");r.style.cssText=`
			width: 100%;
			height: 6px;
			background-color: var(--background-modifier-border);
			border-radius: 3px;
			margin: 4px 0;
			overflow: hidden;
		`;const o=r.createEl("div");o.style.cssText=`
			height: 100%;
			background-color: var(--color-accent);
			transition: width 0.3s ease;
			width: 0%;
		`;const a=s.createEl("div");a.style.cssText=`
			font-size: 0.8em;
			color: var(--text-muted);
			margin-top: 2px;
		`;try{const d=await i.downloadModelWithProgress(e,p=>{const g=Math.round((p.completed||0)/(p.total||1)*100)||0;o.style.width=`${g}%`,a.textContent=`${g}% - ${p.status||"Downloading..."}`});t.empty(),d?(t.createDiv().createEl("div",{text:`[SUCCESS] ${e} installed successfully!`,attr:{style:"color: var(--color-green);"}}),setTimeout(()=>t.empty(),3e3)):t.createEl("div",{text:"[ERROR] Download failed",attr:{style:"color: var(--color-red);"}})}catch(d){(l=this.plugin.logger)==null||l.error("[OLLAMA-SETTINGS] Ollama model download failed",{error:d}),t.empty();const p=d instanceof Error?d.message:"Unknown error";t.createEl("div",{text:`[ERROR] Download failed: ${p}`,attr:{style:"color: var(--color-red);"}})}}async populateOllamaModelsWithStatus(e){var i;const t=this.getOllamaService();try{if(!await t.isServerRunning()){e.addOption("","[Ollama server not running]");return}const r=this.getOllamaEmbeddingModelNamesFromSettings();(await t.getEmbeddingModelsWithStatus(r)).forEach(a=>{const l=a.name;e.addOption(a.name,l)})}catch(s){(i=this.plugin.logger)==null||i.error("[OLLAMA-SETTINGS] Failed to load Ollama models with status",{error:s}),e.addOption("","[Error loading models]")}}async handleOllamaModelSelection(e,t){var i;if(e)try{await this.getOllamaService().isModelAvailable(e)?t.empty():confirm(`Model "${e}" is not installed.

Would you like to download it now?`)&&await this.downloadOllamaModelWithProgress(e,t)}catch(s){(i=this.plugin.logger)==null||i.error("[OLLAMA-SETTINGS] Error handling Ollama model selection",{error:s}),t.empty(),t.createEl("div",{text:"[ERROR] Failed to check model availability",attr:{style:"color: var(--color-red);"}})}}async updateModelStatusIconForDropdown(e,t,i){var s;if(i)try{e.innerHTML="";const r=await this.isOllamaModelInstalled(i),o=e.createDiv();o.style.cssText="display:inline-flex; align-items:center; gap:6px; font-size:0.9em; padding:4px 6px; border-radius:4px;";const a=o.createSpan();P.setIcon(a,r?"check-circle":"download"),a.style.color=r?"var(--color-green)":"var(--color-orange)",a.style.cursor=r?"default":"pointer";const l=o.createSpan();if(l.textContent=r?"Available":"Not installed",l.style.color=r?"var(--color-green)":"var(--color-orange)",!r){const d=async p=>{var g;p.stopPropagation(),p.preventDefault();try{if(!confirm('[CONFIRM] Model "'+i+'" is not installed.\\n\\nWould you like to download it now?'))return;await this.downloadOllamaModelWithProgress(i,e),setTimeout(async()=>{await this.updateModelStatusIconForDropdown(e,t,i)},800),await this.isOllamaModelInstalled(i)&&(t==="embedding"?await this.addCustomOllamaEmbeddingToDefaults(i):await this.addCustomOllamaLLMToDefaults(i))}catch(m){(g=this.plugin.logger)==null||g.error("[OLLAMA-SETTINGS] download handler failed",{modelName:i,err:m}),new P.Notice("[ERROR] Failed to download model")}};a.addEventListener("click",d),l.addEventListener("click",d)}}catch(r){(s=this.plugin.logger)==null||s.error(`[OLLAMA-SETTINGS] Failed to update status icon for ${i}`,{error:r})}}async refreshOllamaStatus(e,t){var i,s;if(this.plugin.settings.ollamaEnabled)try{e.innerHTML="",e.style.backgroundColor="";const o=await this.getOllamaService().checkServerStatus();if(o.running){const a=o.modelCount||0;e.style.backgroundColor="var(--color-green-bg)",e.style.color="var(--color-green)",e.innerHTML=`
					<div style="display: flex; align-items: center; gap: 6px;">
						<span>[INSTALLED]</span>
						<span>Ollama is running with ${a} model(s)</span>
					</div>
					<div style="font-size: 0.8em; margin-top: 4px; opacity: 0.8;">
						Server available at ${this.plugin.settings.ollamaBaseUrl||"http://localhost:11434"}
					</div>
				`,t.textContent="Upgrade Ollama",t.style.backgroundColor="var(--interactive-accent)",(i=this.plugin.logger)==null||i.debug("[OLLAMA-SETTINGS] Installation detected successfully",{modelCount:a})}else{e.style.backgroundColor="var(--color-orange-bg)",e.style.color="var(--color-orange)",e.innerHTML=`
					<div style="display: flex; align-items: center; gap: 6px;">
						<span>[NOT RUNNING]</span>
						<span>Ollama is not running or not installed</span>
					</div>
					<div style="font-size: 0.8em; margin-top: 4px; opacity: 0.8;">
						Try starting the service or install Ollama if not present
					</div>
				`;const a=e.createDiv();a.style.cssText="margin-top: 8px; display: flex; gap: 8px; align-items: center;";const l=a.createEl("button",{text:"Start Service",cls:"mod-cta"});l.style.fontSize="0.8em",l.style.padding="4px 8px",l.onclick=async()=>{await this.startOllamaService(e,t)},t.textContent="Install/Reinstall Ollama",t.style.backgroundColor="var(--color-orange)"}}catch(r){(s=this.plugin.logger)==null||s.debug("[OLLAMA-SETTINGS] Status check failed",{error:r}),e.style.backgroundColor="var(--color-red-bg)",e.style.color="var(--color-red)",e.innerHTML=`
				<div style="display: flex; align-items: center; gap: 6px;">
					<span>[ERROR]</span>
					<span>Unable to check Ollama status</span>
				</div>
				<div style="font-size: 0.8em; margin-top: 4px; opacity: 0.8;">
					Check installation or network connection
				</div>
			`,t.textContent="Install Ollama",t.style.backgroundColor="var(--interactive-accent)"}}async startOllamaService(e,t){var i,s;try{(i=this.plugin.logger)==null||i.debug("[OLLAMA-SETTINGS] Attempting to start Ollama service");const r=e.createDiv();r.style.cssText=`
				margin-top: 8px;
				padding: 6px;
				background: var(--color-blue-bg);
				color: var(--color-blue);
				border-radius: 4px;
				font-size: 0.8em;
			`,r.textContent="[STARTING] Attempting to start Ollama service...";const a=await this.getOllamaService().startService();if(r.remove(),a.success)await new Promise(l=>setTimeout(l,2e3)),await this.refreshOllamaStatus(e,t),new P.Notice("[SUCCESS] Ollama service started successfully");else{const l=e.createDiv();l.style.cssText=`
					margin-top: 8px;
					padding: 6px;
					background: var(--color-red-bg);
					color: var(--color-red);
					border-radius: 4px;
					font-size: 0.8em;
				`,l.innerHTML=`
					<div>[FAILED] Could not start Ollama service</div>
					<div style="margin-top: 4px; opacity: 0.8;">${a.message||"Try restarting your computer or reinstalling Ollama"}</div>
				`,new P.Notice(`[ERROR] Failed to start Ollama service - ${a.message||"try restarting your computer"}`)}}catch(r){(s=this.plugin.logger)==null||s.error("[OLLAMA-SETTINGS] Service recovery failed",{error:r}),new P.Notice("[ERROR] Failed to start Ollama service - operation failed")}}async handleOllamaInstallation(){var e,t;try{(e=this.plugin.logger)==null||e.debug("[OLLAMA-SETTINGS] Opening Ollama installation page");const{shell:i}=require("electron");await i.openExternal("https://ollama.com/download"),new P.Notice("[INFO] Ollama website opened - Download and install, then restart this app",8e3),this.showOllamaInstallationModal()}catch(i){(t=this.plugin.logger)==null||t.error("[OLLAMA-SETTINGS] Failed to open installation page",{error:i}),new P.Notice("[ERROR] Could not open Ollama website - please visit https://ollama.com/download manually")}}showOllamaInstallationModal(){const e=document.createElement("div");e.style.cssText=`
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: rgba(0, 0, 0, 0.8);
			display: flex;
			align-items: center;
			justify-content: center;
			z-index: 1000;
		`;const t=document.createElement("div");t.style.cssText=`
			background: var(--background-primary);
			border: 1px solid var(--background-modifier-border);
			border-radius: 8px;
			padding: 24px;
			max-width: 500px;
			width: 90%;
			max-height: 80%;
			overflow: auto;
		`,t.innerHTML=`
			<h3 style="margin: 0 0 16px 0; color: var(--text-accent);">Ollama Installation Instructions</h3>

			<div style="margin-bottom: 16px;">
				<h4 style="margin: 0 0 8px 0;">Step 1: Download Ollama</h4>
				<p style="margin: 0 0 8px 0; font-size: 0.9em; color: var(--text-muted);">
					The Ollama website should now be open in your browser. Download the installer for your operating system.
				</p>
			</div>

			<div style="margin-bottom: 16px;">
				<h4 style="margin: 0 0 8px 0;">Step 2: Install and Restart</h4>
				<p style="margin: 0 0 8px 0; font-size: 0.9em; color: var(--text-muted);">
					Run the installer and follow the prompts. After installation, restart Obsidian completely.
				</p>
			</div>

			<div style="margin-bottom: 16px;">
				<h4 style="margin: 0 0 8px 0;">Step 3: Verify Installation</h4>
				<p style="margin: 0 0 8px 0; font-size: 0.9em; color: var(--text-muted);">
					Return to this settings page and click "Refresh Status" to verify Ollama is running.
				</p>
			</div>

			<div style="background: var(--background-secondary); padding: 12px; border-radius: 6px; margin-bottom: 16px;">
				<p style="margin: 0; font-size: 0.85em; color: var(--text-muted);">
					<strong>Note:</strong> Ollama runs completely on your local machine. No data is sent to external servers, ensuring full privacy for your AI interactions.
				</p>
			</div>

			<div style="display: flex; gap: 12px; justify-content: flex-end;">
				<button id="ollama-modal-close" style="padding: 8px 16px; border: 1px solid var(--background-modifier-border); background: var(--background-primary); border-radius: 4px; cursor: pointer;">
					Close
				</button>
			</div>
		`,e.appendChild(t);const i=t.querySelector("#ollama-modal-close");i.onclick=()=>document.body.removeChild(e),e.onclick=s=>{s.target===e&&document.body.removeChild(e)},document.body.appendChild(e)}async addCustomLLMModelEntry(e){const t=new P.Setting(e).setName("Custom LLM Model").setDesc("Download any Ollama LLM model by name (e.g., llama3.2:3b, codellama:13b)");let i,s,r;const o=t.settingEl.createDiv();o.style.cssText=`
			margin-top: 8px;
			padding: 8px;
			border-radius: 4px;
			font-size: 0.9em;
			min-height: 20px;
		`,t.addText(a=>{i=a.inputEl,a.setPlaceholder("Enter model name (e.g., llama3.2:3b)").onChange(l=>{const d=!!l.trim();r&&typeof r.setDisabled=="function"?r.setDisabled(!d):s&&(s.disabled=!d)})}),t.addButton(a=>{r=a,s=a.buttonEl,a.setButtonText(" Download").setTooltip("Download this model from Ollama registry").setDisabled(!0).onClick(async()=>{var d,p,g;const l=((i==null?void 0:i.value)||"").trim();if(!l){new P.Notice("[ERROR] Please enter a model name");return}try{(d=this.plugin.logger)==null||d.info("[OLLAMA-SETTINGS] Custom LLM download requested",{modelName:l}),r==null||r.setDisabled(!0),o.empty(),o.createEl("div",{text:`[START] Downloading ${l}...`});const m=this.getOllamaService();if(await m.isModelAvailable(l)){new P.Notice(`[INFO] Model ${l} is already installed`),o.empty(),o.createEl("div",{text:`[INFO] ${l} already available`});return}await this.downloadOllamaModelWithProgress(l,o);try{await m.isModelAvailable(l)&&(await this.addCustomOllamaLLMToDefaults(l),await this.refreshLLMDropdowns(),new P.Notice(`[SUCCESS] ${l} downloaded and added to LLM models.`))}catch(b){(p=this.plugin.logger)==null||p.warn("[OLLAMA-SETTINGS] Post-download availability check failed",{error:b,modelName:l})}i.value="",r==null||r.setDisabled(!0)}catch(m){(g=this.plugin.logger)==null||g.error("[OLLAMA-SETTINGS] Download failed",{error:m,modelName:l});const f=m instanceof Error?m.message:"Unknown error";new P.Notice(`[ERROR] Failed to download ${l}: ${f}`)}finally{const m=!!((i==null?void 0:i.value)||"").trim();r==null||r.setDisabled(!m)}})})}async addCustomEmbeddingModelEntry(e){const t=new P.Setting(e).setName("Custom Embedding Model").setDesc("Download any Ollama embedding model by name (e.g., nomic-embed-text, mxbai-embed-large)");let i,s,r;const o=t.settingEl.createDiv();o.style.cssText=`
			margin-top: 8px;
			padding: 8px;
			border-radius: 4px;
			font-size: 0.9em;
			min-height: 20px;
		`,t.addText(a=>{i=a.inputEl,a.setPlaceholder("Enter embedding model name").onChange(l=>{const d=!!l.trim();r&&typeof r.setDisabled=="function"?r.setDisabled(!d):s&&(s.disabled=!d)})}),t.addButton(a=>{r=a,s=a.buttonEl,a.setButtonText(" Download").setTooltip("Download this embedding model from Ollama registry").setDisabled(!0).onClick(async()=>{var d,p,g;const l=((i==null?void 0:i.value)||"").trim();if(!l){new P.Notice("[ERROR] Please enter a model name");return}try{(d=this.plugin.logger)==null||d.info("[OLLAMA-SETTINGS] Custom embedding download requested",{modelName:l}),r==null||r.setDisabled(!0),o.empty(),o.createEl("div",{text:`[START] Downloading ${l}...`});const m=this.getOllamaService();if(await m.isModelAvailable(l)){new P.Notice(`[INFO] Model ${l} is already installed`),o.empty(),o.createEl("div",{text:`[INFO] ${l} already available`});return}await this.downloadOllamaModelWithProgress(l,o);try{await m.isModelAvailable(l)&&(await this.addCustomOllamaEmbeddingToDefaults(l),await this.refreshEmbeddingDropdowns(),new P.Notice(`[SUCCESS] ${l} downloaded and added to embedding models.`))}catch(b){(p=this.plugin.logger)==null||p.warn("[OLLAMA-SETTINGS] Post-download availability check failed",{error:b,modelName:l})}i.value="",r==null||r.setDisabled(!0)}catch(m){(g=this.plugin.logger)==null||g.error("[OLLAMA-SETTINGS] Download failed",{error:m,modelName:l});const f=m instanceof Error?m.message:"Unknown error";new P.Notice(`[ERROR] Failed to download ${l}: ${f}`)}finally{const m=!!((i==null?void 0:i.value)||"").trim();r==null||r.setDisabled(!m)}})})}async refreshEmbeddingDropdowns(){var e,t;try{await this.getOllamaService().getAvailableModels(!0);const s=document.querySelectorAll("select");for(const r of s){const o=r.closest(".setting-item");if(o){const a=o.querySelector(".setting-item-name");a&&((e=a.textContent)!=null&&e.toLowerCase().includes("embedding"))&&await this.populateOllamaModelsWithStatus(r)}}}catch(i){(t=this.plugin.logger)==null||t.debug("[OLLAMA-SETTINGS] Error refreshing embedding dropdowns",{error:i})}}async refreshLLMDropdowns(){var e,t,i,s;try{await this.getOllamaService().getAvailableModels(!0);const o=document.querySelectorAll("select");for(const a of o){const l=a.closest(".setting-item");if(l){const d=l.querySelector(".setting-item-name");if(d&&((e=d.textContent)!=null&&e.toLowerCase().includes("llm")||(t=d.textContent)!=null&&t.toLowerCase().includes("model"))&&!((i=d.textContent)!=null&&i.toLowerCase().includes("embedding"))){const p=Array.from(a.options),g=a.value;a.innerHTML="",this.getOllamaLLMModelsFromSettings().forEach(f=>{const b=document.createElement("option");b.value=f.name,b.textContent=f.name,a.appendChild(b)}),Array.from(a.options).some(f=>f.value===g)&&(a.value=g)}}}}catch(r){(s=this.plugin.logger)==null||s.debug("[OLLAMA-SETTINGS] Error refreshing LLM dropdowns",{error:r})}}}class tg{constructor(e,t){this.app=e,this.plugin=t}addMCPToolsAccordion(e){var t;try{e.createEl("p",{text:"Configure MCP (Model Context Protocol) tools integration, default note folders, and third-party plugin connections.",cls:"setting-item-description"}),this.addMCPDefaultsSection(e),this.addMCPIntegrationsSection(e),this.addMCPToolDefinitionsSection(e)}catch(i){(t=this.plugin.logger)==null||t.error("Critical error in MCP Tools accordion",{error:i instanceof Error?i.message:String(i),stack:i instanceof Error?i.stack:void 0}),e.createEl("div",{text:`MCP Tools section failed to load: ${i instanceof Error?i.message:"Unknown error"}`,cls:"setting-item-description"})}}addMCPDefaultsSection(e){var t;try{e.createEl("h4",{text:"Defaults",cls:"setting-item-name"}),new P.Setting(e).setName("Default folder for MCP notes").setDesc("Default folder where MCP-generated notes will be created. Start typing to see folder suggestions.").addSearch(i=>{var s,r,o;try{new xn(this.app,i.inputEl),i.setPlaceholder("e.g., MCP Notes, Knowledge/MCP, or leave empty for vault root").setValue(((r=(s=this.plugin.settings.mcpTools)==null?void 0:s.defaults)==null?void 0:r.inboxFolder)||"").onChange(async a=>{var l;try{this.plugin.settings.mcpTools||(this.plugin.settings.mcpTools={defaults:{inboxFolder:"",enableSmartFolderResolution:!0},integrations:{templater:{detected:!1,enabled:!1,useTemplateFolders:!1},periodicNotes:{detected:!1,enabled:!1,usePeriodicFolders:!1}},tools:[]}),this.plugin.settings.mcpTools.defaults||(this.plugin.settings.mcpTools.defaults={inboxFolder:"",enableSmartFolderResolution:!0}),this.plugin.settings.mcpTools.defaults.inboxFolder=a,await this.plugin.saveSettings()}catch(d){(l=this.plugin.logger)==null||l.error("Error saving MCP default folder setting",{error:d})}})}catch(a){(o=this.plugin.logger)==null||o.error("Error setting up folder search input",{error:a})}})}catch(i){(t=this.plugin.logger)==null||t.error("Error in Defaults section",{error:i instanceof Error?i.message:String(i)}),e.createEl("div",{text:"Error loading Defaults section",cls:"setting-item-description"})}}addMCPIntegrationsSection(e){var t,i,s,r,o,a,l,d,p;try{e.createEl("h4",{text:"3rd Party Integrations",cls:"setting-item-name"});try{const g=!!this.app.plugins.plugins["templater-obsidian"],m=((s=(i=(t=this.plugin.settings.mcpTools)==null?void 0:t.integrations)==null?void 0:i.templater)==null?void 0:s.enabled)||!1,f=new P.Setting(e).setName("Templater Plugin Integration").setDesc("Integrate with Templater plugin for enhanced note creation"),b=f.nameEl.createSpan({cls:"mcp-status-icon",text:g?" ":" "});b.style.cssText=`
					color: ${g?"var(--color-green)":"var(--color-red)"};
					font-weight: bold;
					margin-right: 4px;
				`,f.addToggle(c=>{c.setValue(m).setDisabled(!g).onChange(async v=>{var w,_;try{this.plugin.settings.mcpTools||(this.plugin.settings.mcpTools={defaults:{inboxFolder:"",enableSmartFolderResolution:!0},integrations:{templater:{detected:!1,enabled:!1,useTemplateFolders:!1},periodicNotes:{detected:!1,enabled:!1,usePeriodicFolders:!1}},tools:[]}),this.plugin.settings.mcpTools.integrations.templater.enabled=v,await this.plugin.saveSettings(),(w=this.plugin.logger)==null||w.debug("Templater integration toggled",{enabled:v})}catch(C){(_=this.plugin.logger)==null||_.error("Failed to save Templater setting",{error:C})}})}),g||f.descEl.appendText(" (Plugin not detected - install Templater to enable this integration)")}catch(g){(r=this.plugin.logger)==null||r.error("Error setting up Templater integration",{error:g})}try{const g=!!this.app.plugins.plugins["periodic-notes"],m=((l=(a=(o=this.plugin.settings.mcpTools)==null?void 0:o.integrations)==null?void 0:a.periodicNotes)==null?void 0:l.enabled)||!1,f=new P.Setting(e).setName("Periodic Notes Plugin Integration").setDesc("Integrate with Periodic Notes plugin for time-based note organization"),b=f.nameEl.createSpan({cls:"mcp-status-icon",text:g?" ":" "});b.style.cssText=`
					color: ${g?"var(--color-green)":"var(--color-red)"};
					font-weight: bold;
					margin-right: 4px;
				`,f.addToggle(c=>{c.setValue(m).setDisabled(!g).onChange(async v=>{var w,_;try{this.plugin.settings.mcpTools||(this.plugin.settings.mcpTools={defaults:{inboxFolder:"",enableSmartFolderResolution:!0},integrations:{templater:{detected:!1,enabled:!1,useTemplateFolders:!1},periodicNotes:{detected:!1,enabled:!1,usePeriodicFolders:!1}},tools:[]}),this.plugin.settings.mcpTools.integrations.periodicNotes.enabled=v,await this.plugin.saveSettings(),(w=this.plugin.logger)==null||w.debug("Periodic Notes integration toggled",{enabled:v})}catch(C){(_=this.plugin.logger)==null||_.error("Failed to save Periodic Notes setting",{error:C})}})}),g||f.descEl.appendText(" (Plugin not detected - install Periodic Notes to enable this integration)")}catch(g){(d=this.plugin.logger)==null||d.error("Error setting up Periodic Notes integration",{error:g})}}catch(g){(p=this.plugin.logger)==null||p.error("Error in 3rd Party Integrations section",{error:g instanceof Error?g.message:String(g)}),e.createEl("div",{text:"Error loading 3rd Party Integrations section",cls:"setting-item-description"})}}addMCPToolDefinitionsSection(e){var t;try{e.createEl("h4",{text:"Tool Definitions",cls:"setting-item-name"}),new P.Setting(e).setName("Available MCP Tools").setDesc("Currently available MCP tools from megamem_mcp_server.py");const i=e.createDiv("mcp-tools-display");i.style.cssText=`
				margin: 16px 0;
				border: 1px solid var(--background-modifier-border);
				border-radius: 6px;
				max-height: 400px;
				overflow-y: auto;
			`;const s=i.createDiv();s.style.cssText=`
				background: var(--background-modifier-hover);
				padding: 8px 12px;
				font-weight: 600;
				border-bottom: 1px solid var(--background-modifier-border);
			`,s.textContent="Graphiti Memory Tools (9 tools)",[{name:"add_memory",description:"Add a memory/episode to the graph (aliases: mm, megamem, memory)"},{name:"search_memory_nodes",description:"Search for nodes in the memory graph (aliases: mm, megamem, memory)"},{name:"search_memory_facts",description:"Search for facts/relationships in the memory graph (aliases: mm, megamem, memory)"},{name:"get_episodes",description:"Get episodes from the memory graph (aliases: mm, megamem, memory)"},{name:"clear_graph",description:"Clear the entire memory graph (aliases: mm, megamem, memory)"},{name:"get_entity_edge",description:"Get entity edges from the graph (aliases: mm, megamem, memory)"},{name:"delete_entity_edge",description:"Delete entity edges from the graph (aliases: mm, megamem, memory)"},{name:"delete_episode",description:"Delete an episode from the graph (aliases: mm, megamem, memory)"},{name:"list_group_ids",description:"List all available group IDs (namespaces) in the vault (aliases: mm, megamem, memory)"}].forEach(l=>{const d=i.createDiv();d.style.cssText=`
					padding: 8px 12px;
					border-bottom: 1px solid var(--background-modifier-border-hover);
				`;const p=d.createDiv();p.style.cssText=`
					font-weight: 500;
					color: var(--text-accent);
					font-family: var(--font-monospace);
					font-size: 13px;
				`,p.textContent=l.name;const g=d.createDiv();g.style.cssText=`
					font-size: 12px;
					color: var(--text-muted);
					margin-top: 2px;
				`,g.textContent=l.description});const o=i.createDiv();o.style.cssText=`
				background: var(--background-modifier-hover);
				padding: 8px 12px;
				font-weight: 600;
				border-bottom: 1px solid var(--background-modifier-border);
				margin-top: 4px;
			`,o.textContent="Obsidian Vault Tools (7 tools)",[{name:"search_obsidian_notes",description:"Search for notes in Obsidian vault by filename and/or content (aliases: mv, my vault, obsidian)"},{name:"read_obsidian_note",description:"Read a specific note from Obsidian (aliases: mv, my vault, obsidian)"},{name:"update_obsidian_note",description:"Update content of an existing note (aliases: mv, my vault, obsidian)"},{name:"create_obsidian_note",description:"Create a new note in Obsidian (aliases: mv, my vault, obsidian)"},{name:"list_obsidian_vaults",description:"List all available Obsidian vaults (aliases: mv, my vault, obsidian)"},{name:"explore_vault_folders",description:"Explore folder structure in an Obsidian vault (query by natural language or path)"},{name:"create_note_with_template",description:"Create a new note using a templater template (fuzzy-match) in the vault"}].forEach(l=>{const d=i.createDiv();d.style.cssText=`
					padding: 8px 12px;
					border-bottom: 1px solid var(--background-modifier-border-hover);
				`;const p=d.createDiv();p.style.cssText=`
					font-weight: 500;
					color: var(--text-accent);
					font-family: var(--font-monospace);
					font-size: 13px;
				`,p.textContent=l.name;const g=d.createDiv();g.style.cssText=`
					font-size: 12px;
					color: var(--text-muted);
					margin-top: 2px;
				`,g.textContent=l.description})}catch(i){(t=this.plugin.logger)==null||t.error("Error in Tool Definitions section",{error:i instanceof Error?i.message:String(i)}),e.createEl("div",{text:"Error loading Tool Definitions section",cls:"setting-item-description"})}}async autoDetectPlugins(){var e,t,i;try{(e=this.plugin.logger)==null||e.debug("Running auto-detection for all plugins");const s=this.app.vault.adapter,r=s==null?void 0:s.basePath,o=!!this.app.plugins.plugins["templater-obsidian"],a=!!this.app.plugins.plugins["periodic-notes"];this.ensureMCPToolsSettings(),this.plugin.settings.mcpTools.integrations.templater.detected=o,this.plugin.settings.mcpTools.integrations.periodicNotes.detected=a,await this.plugin.saveSettings(),(t=this.plugin.logger)==null||t.debug("Auto-detection completed",{templater:o,periodicNotes:a})}catch(s){(i=this.plugin.logger)==null||i.error("Auto-detection failed",{error:s})}}isPluginDetected(e){var t,i,s,r;try{return((s=(i=(t=this.plugin.settings.mcpTools)==null?void 0:t.integrations)==null?void 0:i[e])==null?void 0:s.detected)||!1}catch(o){return(r=this.plugin.logger)==null||r.error("Error checking plugin detection status",{pluginName:e,error:o}),!1}}ensureMCPToolsSettings(){var e,t;try{this.plugin.settings.mcpTools||(this.plugin.settings.mcpTools={defaults:{inboxFolder:"",enableSmartFolderResolution:!0},integrations:{templater:{detected:!1,enabled:!1,useTemplateFolders:!1},periodicNotes:{detected:!1,enabled:!1,usePeriodicFolders:!1}},tools:[]}),this.plugin.settings.mcpTools.defaults||(this.plugin.settings.mcpTools.defaults={inboxFolder:"",enableSmartFolderResolution:!0}),this.plugin.settings.mcpTools.integrations||(this.plugin.settings.mcpTools.integrations={templater:{detected:!1,enabled:!1,useTemplateFolders:!1},periodicNotes:{detected:!1,enabled:!1,usePeriodicFolders:!1}}),this.plugin.settings.mcpTools.tools||(this.plugin.settings.mcpTools.tools=[]),(e=this.plugin.logger)==null||e.debug("MCP tools settings structure ensured")}catch(i){(t=this.plugin.logger)==null||t.error("Error ensuring MCP tools settings",{error:i})}}}class ng extends P.Modal{constructor(e,t,i,s){super(e),this.isInstalling=!1,this.useUv=!1,this.installer=i,this.plugin=t,this.onComplete=s,this.logger=new Gt(t,!1)}async onOpen(){const{contentEl:e}=this;e.empty(),e.createEl("h2",{text:"Python Dependencies Status"}),this.statusEl=e.createDiv({cls:"dependency-status-container"});const t=await this.installer.checkAllDependencies();this.displayStatus(t);const i=e.createDiv({cls:"dependency-log-container"});i.createEl("h3",{text:"Installation Log"}),this.logEl=i.createEl("textarea",{cls:"dependency-log-content",attr:{readonly:"true",rows:"10"}});const s=e.createDiv({cls:"dependency-install-options"});s.createEl("h3",{text:"Installation Method"});const r=s.createDiv({cls:"dependency-radio-option"});r.createEl("input",{type:"radio",attr:{name:"install-method",value:"system",checked:"checked"}}).addEventListener("change",()=>{this.useUv=!1}),r.createEl("label",{text:" Install with System Python (default)"});const a=s.createDiv({cls:"dependency-radio-option"});a.createEl("input",{type:"radio",attr:{name:"install-method",value:"uv"}}).addEventListener("change",()=>{this.useUv=!0}),a.createEl("label",{text:" Install with UV Package Manager"}),s.createDiv({cls:"dependency-option-desc"}).setText("UV is faster but experimental. System Python is recommended for most users.");const p=e.createDiv({cls:"dependency-button-container"});this.installButton=p.createEl("button",{text:"Install Dependencies",cls:"mod-cta"}),this.installButton.addEventListener("click",()=>this.handleInstall()),p.createEl("button",{text:"Close"}).addEventListener("click",()=>this.close()),this.addCustomStyles()}displayStatus(e){if(!this.statusEl)return;if(this.statusEl.empty(),[{label:"System Python",status:e.systemPython?"[OK]":"[X]",detail:e.systemPython?`${e.systemPython.version} at ${e.systemPython.path}`:"Not found",success:!!e.systemPython},{label:"UV Package Manager",status:e.uvInstalled?"[OK]":"[X]",detail:e.uvInstalled?"Installed":"Not installed",success:e.uvInstalled},{label:"Virtual Environment",status:e.venvExists?"[OK]":"[X]",detail:e.venvExists?e.venvPath:"Not created",success:e.venvExists},{label:"Graphiti Dependencies",status:e.graphitiInstalled?"[OK]":"[X]",detail:e.graphitiInstalled?e.graphitiVersion?`v${e.graphitiVersion}`:"Installed":"Not installed",success:e.graphitiInstalled}].forEach(i=>{const s=this.statusEl.createDiv({cls:"dependency-status-item"});s.createSpan({text:i.status,cls:i.success?"status-success":"status-error"}),s.createSpan({text:` ${i.label}: `,cls:"dependency-label"}),s.createSpan({text:i.detail,cls:"dependency-detail"})}),e.mismatch.detected){const i=this.statusEl.createDiv({cls:"dependency-warning"});i.createSpan({text:"[WARNING] "}),i.createSpan({text:e.mismatch.description})}}async handleInstall(){if(this.isInstalling)return;this.isInstalling=!0,this.installButton&&(this.installButton.disabled=!0,this.installButton.setText("Installing..."));const e=this.useUv?"uv":"system";this.addLog(`[INFO] Starting installation using ${e}...`);try{await this.installer.installDependencies(e,(s,r)=>{this.addLog(`[INFO] ${s} (${r}%)`)}),this.addLog("[SUCCESS] Installation complete!");const t=this.installer.getPythonExecutable();this.plugin.settings.pythonPath=t,await this.plugin.saveSettings(),this.logger.info("[INSTALL] Saved Python path to settings",{pythonPath:t});const i=await this.installer.checkAllDependencies();this.displayStatus(i),this.addLog("[INFO] Settings updated - close and reopen Settings tab to see changes")}catch(t){const i=t instanceof Error?t.message:String(t);this.addLog(`[ERROR] Installation failed: ${i}`),this.logger.error("Installation failed",t)}finally{this.isInstalling=!1,this.installButton&&(this.installButton.disabled=!1,this.installButton.setText("Install Dependencies"))}}addLog(e){if(!this.logEl)return;const i=`[${new Date().toLocaleTimeString()}] ${e}
`;this.logEl.value+=i,this.logEl.scrollTop=this.logEl.scrollHeight}addCustomStyles(){const e=document.createElement("style");e.textContent=`
			.dependency-status-container {
				margin: 20px 0;
				padding: 15px;
				background-color: var(--background-secondary);
				border-radius: 4px;
			}

			.dependency-status-item {
				margin: 8px 0;
				font-family: var(--font-monospace);
				font-size: 13px;
			}

			.status-success {
				color: var(--text-success);
				font-weight: 600;
			}

			.status-error {
				color: var(--text-error);
				font-weight: 600;
			}

			.dependency-label {
				font-weight: 500;
				color: var(--text-normal);
			}

			.dependency-detail {
				color: var(--text-muted);
			}

			.dependency-warning {
				margin-top: 15px;
				padding: 10px;
				background-color: var(--background-modifier-error);
				border-radius: 4px;
				color: var(--text-warning);
				font-size: 13px;
			}

			.dependency-install-options {
				margin: 20px 0;
				padding: 15px;
				background-color: var(--background-secondary);
				border-radius: 4px;
			}

			.dependency-install-options h3 {
				margin: 0 0 10px 0;
				font-size: 14px;
				font-weight: 600;
			}

			.dependency-radio-option {
				margin: 8px 0;
				display: flex;
				align-items: center;
				font-size: 13px;
			}

			.dependency-radio-option input[type="radio"] {
				margin-right: 8px;
				cursor: pointer;
			}

			.dependency-radio-option label {
				cursor: pointer;
				user-select: none;
			}

			.dependency-option-desc {
				margin-top: 10px;
				padding: 8px;
				font-size: 12px;
				color: var(--text-muted);
				background-color: var(--background-primary);
				border-radius: 4px;
			}

			.dependency-log-container {
				margin-top: 20px;
			}

			.dependency-log-container h3 {
				margin: 0 0 10px 0;
				font-size: 14px;
			}

			.dependency-log-content {
				width: 100%;
				min-height: 150px;
				background-color: var(--background-secondary);
				border: 1px solid var(--background-modifier-border);
				border-radius: 4px;
				padding: 10px;
				font-family: var(--font-monospace);
				font-size: 12px;
				resize: vertical;
				color: var(--text-normal);
			}

			.dependency-button-container {
				margin-top: 20px;
				display: flex;
				gap: 10px;
				justify-content: flex-end;
			}

			.dependency-button-container button {
				padding: 8px 16px;
				border-radius: 4px;
				font-size: 14px;
			}
		`,document.head.appendChild(e)}onClose(){this.onComplete&&this.onComplete()}}class ig extends P.PluginSettingTab{constructor(e,t){super(e,t),this.defaultNamespaceInput=null,this.folderToggle=null,this.propertyToggle=null,this.previousConnectionStatus="",this.accordionStates=new Map,this.plugin=t,this.ollamaSettings=new eg(e,t),this.mcpToolSettings=new tg(e,t)}_initSharedTextDebounce(){var t;if(this._sharedTextDebounce)return;let e;this._sharedTextDebounce=i=>{e&&clearTimeout(e),e=setTimeout(async()=>{var s,r,o;try{const a=JSON.parse(i);switch(a.key){case"includedFolders":this.plugin.settings.includedFolders=a.value.split(`
`).map(l=>l.trim()).filter(l=>l.length>0);break;case"excludedFolders":this.plugin.settings.excludedFolders=a.value.split(`
`).map(l=>l.trim()).filter(l=>l.length>0);break;case"globallyIgnoredFields":this.plugin.settings.globallyIgnoredFields=a.value.split(`
`).map(l=>l.trim()).filter(l=>l.length>0);break;case"defaultNamespace":this.plugin.settings.defaultNamespace=a.value;break;default:(s=this.plugin.logger)==null||s.warn("[SETTINGS] Unknown key received by sharedTextDebounce",{key:a.key,payload:i});break}await this.plugin.saveSettings(),(r=this.plugin.logger)==null||r.debug("[SETTINGS] Shared debounced save executed",{key:a.key})}catch(a){(o=this.plugin.logger)==null||o.error("[SETTINGS] Shared debounced save error",{error:a,payload:i})}},2e3)},(t=this.plugin.logger)==null||t.debug("[SETTINGS] Shared text debouncer initialized")}ensureSharedDebounceInitialized(){this._initSharedTextDebounce()}display(){const{containerEl:e}=this;e.empty(),this.ensureSharedDebounceInitialized(),e.createEl("h1",{text:"MegaMem Plugin Settings"}),e.createEl("p",{text:"Configure your knowledge graph syncronization and mcp server.",cls:"setting-item-description"}),this.addAccordionStyles(e),this.addAccordionSectionSafely(e,"API Keys",t=>this.addAPIKeysAccordion(t),!1),this.addAccordionSectionSafely(e,"LLM Configuration",t=>this.addLLMAccordion(t),!1),this.addAccordionSectionSafely(e,"Database Configuration",t=>this.addDatabaseAccordion(t),!1),this.addAccordionSectionSafely(e,"Python Environment",t=>this.addPythonAccordion(t),!1),this.addAccordionSectionSafely(e,"Sync Configuration",t=>this.addSyncAccordion(t),!1),this.addAccordionSectionSafely(e,"Knowledge Namespacing",t=>this.addKnowledgeNamespacingAccordion(t),!1),this.addAccordionSectionSafely(e,"Servers",t=>this.addServersAccordion(t),!1),this.addAccordionSectionSafely(e,"MCP Tools",t=>this.mcpToolSettings.addMCPToolsAccordion(t),!1),this.addAccordionSectionSafely(e,"Advanced Settings",t=>this.addAdvancedAccordion(t),!1),this.addAccordionSectionSafely(e,"Actions",t=>this.addActionsAccordion(t),!1),this.addAccordionSectionSafely(e,"Development Options",t=>this.addDevelopmentAccordion(t),!1)}addAccordionStyles(e){const t=e.createEl("style");t.textContent=`
			.graphiti-accordion {
				margin-bottom: 10px;
				border: 1px solid var(--background-modifier-border);
				border-radius: 6px;
			}
			.graphiti-accordion-header {
				padding: 12px 16px;
				background: var(--background-modifier-hover);
				cursor: pointer;
				user-select: none;
				display: flex;
				justify-content: space-between;
				align-items: center;
				font-weight: 500;
				border-radius: 6px 6px 0 0;
			}
			.graphiti-accordion-header:hover {
				background: var(--background-modifier-border);
			}
			.graphiti-accordion-content {
				padding: 16px 16px 16px 16px;
				border-top: 1px solid var(--background-modifier-border);
			}
			.graphiti-accordion-arrow {
				font-size: 12px;
				transition: transform 0.2s ease;
			}
		`}addAccordionSection(e,t,i,s=!1){const r=e.createDiv("graphiti-accordion"),o=r.createDiv("graphiti-accordion-header"),a=o.createSpan("graphiti-accordion-title");a.textContent=t;const l=o.createDiv("graphiti-accordion-controls");l.style.display="flex",l.style.alignItems="center",l.style.gap="8px";const d=r.createDiv("graphiti-accordion-content"),p=this.accordionStates.get(t),g=typeof p=="boolean"?p:s;d.style.display=g?"block":"none";const m=l.createSpan("graphiti-accordion-arrow");m.textContent=g?"":"",m.style.cursor="pointer",m.setAttr("role","button"),m.addEventListener("click",f=>{f.stopPropagation(),f.preventDefault();const c=!(d.style.display!=="none");d.style.display=c?"block":"none",m.textContent=c?"":"",this.accordionStates.set(t,c)}),i.call(this,d)}addAccordionSectionSafely(e,t,i,s=!1){var r;try{this.addAccordionSection(e,t,i,s)}catch(o){(r=this.plugin.logger)==null||r.error(`[SETTINGS] Error rendering ${t} accordion`,{error:o});const a=e.createDiv("graphiti-accordion"),l=a.createDiv("graphiti-accordion-header");l.textContent=`${t} (Error)`;const d=a.createDiv("graphiti-accordion-content");d.style.display="none",d.createEl("div",{text:`Error loading ${t} section. Check console for details.`,cls:"setting-item-description"})}}addAPIKeysAccordion(e){const t=["openai","anthropic","google","azure","voyage","venice","openrouter"];for(const l of t){const d=this.getProviderDisplayName(l);new P.Setting(e).setName(`${d} API Key`).setDesc(`API key for ${d} services`).addText(p=>{p.inputEl.type="password",p.setPlaceholder(`Enter ${d} API key`).setValue(this.plugin.settings.apiKeys[l]||"").onChange(async g=>{this.plugin.settings.apiKeys[l]=g||void 0,await this.plugin.saveSettings()})})}e.createEl("h4",{text:"Local AI Models",cls:"setting-item-name"});let i;new P.Setting(e).setName("Enable Ollama Features").setDesc("Enable local AI model features using Ollama. When disabled, all Ollama settings and service checks are hidden.").addToggle(l=>l.setValue(this.plugin.settings.ollamaEnabled||!1).onChange(async d=>{this.plugin.settings.ollamaEnabled=d,await this.plugin.saveSettings(),i&&(i.style.display=d?"block":"none")})),i=e.createDiv(),i.style.display=this.plugin.settings.ollamaEnabled?"block":"none",i.style.marginLeft="24px",i.style.marginTop="8px";const s=new P.Setting(i).setName("Ollama - Fully Private Local Models").setDesc("Run AI models locally on your machine without sending data to external services"),r=s.settingEl.createDiv();r.style.cssText="margin-top: 8px; display: flex; gap: 8px; align-items: center;";const o=i.createDiv();o.style.cssText=`
			margin-top: 8px;
			margin-bottom: 16px;
			padding: 8px;
			border-radius: 4px;
			font-size: 0.9em;
			border: 1px solid var(--background-modifier-border);
		`;let a;s.addButton(l=>{a=l.buttonEl,l.setButtonText("Install Ollama").onClick(async()=>{await this.ollamaSettings.handleOllamaInstallation()})}),s.addButton(l=>{l.buttonEl,l.setButtonText("Refresh Status").onClick(async()=>{await this.ollamaSettings.refreshOllamaStatus(o,a)})}),this.plugin.settings.ollamaEnabled&&setTimeout(()=>{this.ollamaSettings.refreshOllamaStatus(o,a)},50),new P.Setting(i).setName("Ollama Base URL").setDesc("Ollama server base URL (used for both LLM and embedding when applicable)").addText(l=>l.setPlaceholder("http://localhost:11434/v1").setValue(this.plugin.settings.ollamaBaseUrl||"http://localhost:11434/v1").onChange(async d=>{this.plugin.settings.ollamaBaseUrl=d||"http://localhost:11434/v1",await this.plugin.saveSettings()})),new P.Setting(i).setName("Ollama Embedding Dimension").setDesc("Dimension size for Ollama embeddings (typically 768 for most models)").addText(l=>l.setPlaceholder("768").setValue((this.plugin.settings.ollamaEmbeddingDim||768).toString()).onChange(async d=>{const p=parseInt(d)||768;this.plugin.settings.ollamaEmbeddingDim=p,await this.plugin.saveSettings()})),new P.Setting(e).setName("Validate All API Keys").setDesc("Validate all configured API keys without testing models").addButton(l=>l.setButtonText("Validate API Keys").setCta().onClick(async()=>{await this.validateAPIKeys(l.buttonEl)}))}async addLLMAccordion(e){new P.Setting(e).setName("LLM Defaults").setDesc("Merge recommended defaults into your current settings without overwriting custom entries").addButton(l=>l.setButtonText("Load Defaults").onClick(async()=>{try{const d=Jp(),p=this.plugin.settings,g=(m,f)=>{(!p[m]||typeof p[m]!="object")&&(p[m]={});const b=p[m];for(const c of Object.keys(f||{})){if(!b[c]||typeof b[c]!="object"){b[c]={...f[c]};continue}const v=b[c],w=f[c];for(const _ of Object.keys(w))_ in v||(v[_]=w[_])}};g("llmDefaults",d.llmDefaults),g("llmSmallDefaults",d.llmSmallDefaults),g("embeddingDefaults",d.embeddingDefaults),g("llmCrossEncoderDefaults",d.llmCrossEncoderDefaults),await this.plugin.saveSettings(),this.display()}catch{}})),new P.Setting(e).setName("LLM Provider").setDesc("Choose your language model provider").addDropdown(l=>l.addOption("openai","OpenAI").addOption("anthropic","Anthropic").addOption("google","Google AI").addOption("azure","Azure OpenAI").addOption("ollama","Ollama (Local)").addOption("venice","Venice.ai").addOption("openrouter","OpenRouter").setValue(this.plugin.settings.llmProvider).onChange(async d=>{const p=d;this.plugin.settings.llmProvider=p,await this.plugin.saveSettings(),this.updateLLMDefaults(p)}));const t=new P.Setting(e).setName("LLM Model").setDesc("Primary language model for processing");let i;t.addDropdown(async l=>{await this.populateLLMModels(l,this.plugin.settings.llmProvider),l.setValue(this.plugin.settings.llmModel).onChange(async d=>{this.plugin.settings.llmModel=d,await this.plugin.saveSettings(),this.plugin.settings.llmProvider==="ollama"&&d&&await this.updateModelStatusIconForDropdown(i,"llm",d)})}),i=t.settingEl.createDiv(),i.style.cssText=`
			display: inline-flex;
			align-items: center;
			margin-left: 8px;
			vertical-align: middle;
		`,this.plugin.settings.llmProvider==="ollama"&&this.plugin.settings.llmModel&&setTimeout(async()=>{this.plugin.settings.llmModel&&setTimeout(async()=>{const l=await this.ollamaSettings.isOllamaModelInstalled(this.plugin.settings.llmModel);i.empty();const d=i.createDiv();d.style.cssText="display: inline-flex; align-items: center; gap: 4px; font-size: 0.9em;";const p=d.createSpan();P.setIcon(p,l?"check-circle":"download"),p.style.color=l?"var(--color-green)":"var(--color-orange)";const g=d.createSpan();g.textContent=l?"Available":"Not installed",g.style.color=l?"var(--color-green)":"var(--color-orange)"},100)},100);const s=new P.Setting(e).setName("LLM Model Small").setDesc("Smaller, faster model for re-ranking operations (optional)");let r;s.addDropdown(async l=>{await this.populateLLMModels(l,this.plugin.settings.llmProvider,!0),l.setValue(this.plugin.settings.llmSmallModel||"").onChange(async d=>{this.plugin.settings.llmSmallModel=d||void 0,await this.plugin.saveSettings(),this.plugin.settings.llmProvider==="ollama"&&d&&await this.ollamaSettings.updateModelStatusIconForDropdown(r,"llm_small",d)})}),r=s.settingEl.createDiv(),r.style.cssText=`
			display: inline-flex;
			align-items: center;
			margin-left: 8px;
			vertical-align: middle;
		`,this.plugin.settings.llmProvider==="ollama"&&this.plugin.settings.llmSmallModel&&setTimeout(async()=>{this.plugin.settings.llmSmallModel&&await this.ollamaSettings.updateModelStatusIconForDropdown(r,"llm_small",this.plugin.settings.llmSmallModel)},100),this.plugin.settings.llmProvider==="ollama"&&await this.ollamaSettings.addCustomLLMModelEntry(e),this.plugin.settings.llmProvider==="openrouter"&&(new P.Setting(e).setName("OpenRouter Preset Slug").setDesc("OpenRouter preset name to use (leave empty to disable preset usage)").addText(l=>l.setPlaceholder("e.g., ravenel-bridge").setValue(this.plugin.settings.openrouterPresetSlug||"").onChange(async d=>{this.plugin.settings.openrouterPresetSlug=d||void 0,await this.plugin.saveSettings()})).addButton(l=>l.setButtonText("Add Default").setTooltip("Add preset model to dropdowns").onClick(async()=>{var g;const d=this.plugin.settings.openrouterPresetSlug;if(!d){new P.Notice("[ERROR] Please enter a preset slug first");return}const p=l.buttonEl.textContent;l.buttonEl.textContent="Adding...",l.setDisabled(!0);try{const m=`@preset/${d}`,f={desc:"Models controlled by OpenRouter Preset",recommended:!0};this.plugin.settings.llmDefaults||(this.plugin.settings.llmDefaults={}),this.plugin.settings.llmDefaults.openrouter||(this.plugin.settings.llmDefaults.openrouter={}),this.plugin.settings.llmSmallDefaults||(this.plugin.settings.llmSmallDefaults={}),this.plugin.settings.llmSmallDefaults.openrouter||(this.plugin.settings.llmSmallDefaults.openrouter={}),this.plugin.settings.llmDefaults.openrouter[m]=f,this.plugin.settings.llmSmallDefaults.openrouter[m]=f,await this.plugin.saveSettings(),this.display(),new P.Notice(`[SUCCESS] Added ${m} to model dropdowns`)}catch(m){(g=this.plugin.logger)==null||g.error("Failed to add preset default",{error:m,presetSlug:d}),new P.Notice("[ERROR] Failed to add preset default")}finally{l.buttonEl.textContent=p,l.setDisabled(!1)}})),new P.Setting(e).setName("Use Preset with Custom Model").setDesc("When enabled, append preset to custom OpenRouter models (e.g., openai/gpt-4o@preset/your-preset)").addToggle(l=>l.setValue(this.plugin.settings.openrouterUsePresetWithCustomModel||!1).onChange(async d=>{this.plugin.settings.openrouterUsePresetWithCustomModel=d,await this.plugin.saveSettings()}))),new P.Setting(e).setName("Test LLM Connection").setDesc("Test your language model provider configuration").addButton(l=>l.setButtonText("Test LLM Connection").setCta().onClick(async()=>{await this.testLLMConnection(l.buttonEl)})),new P.Setting(e).setName("Embedding Provider").setDesc("Choose your embedding provider").addDropdown(l=>l.addOption("openai","OpenAI").addOption("google","Google AI").addOption("voyage","Voyage AI").addOption("ollama","Ollama (Local)").setValue(this.plugin.settings.embedderProvider).onChange(async d=>{var g,m,f,b;const p=d;if((g=this.plugin.logger)==null||g.debug("[EMBEDDING-PROVIDER] Provider changed",{oldProvider:this.plugin.settings.embedderProvider,newProvider:p,vaultName:this.app.vault.getName(),hasVaultRegistryService:!!this.plugin.vaultRegistryService}),this.plugin.settings.embedderProvider=p,await this.plugin.saveSettings(),this.updateEmbedderDefaults(p),this.plugin.vaultRegistryService&&this.plugin.settings.embeddingModel)try{const c=this.app.vault.getName();(m=this.plugin.logger)==null||m.debug("[EMBEDDING-PROVIDER-CHANGE] Updating vault registry from provider dropdown",{oldProvider:this.plugin.settings.embedderProvider,newProvider:p,model:this.plugin.settings.embeddingModel,dimensions:this.plugin.settings.ollamaEmbeddingDim||768,vaultName:c}),await this.plugin.vaultRegistryService.updateVaultEmbeddingModel(c,this.plugin.settings.embeddingModel,this.plugin.settings.ollamaEmbeddingDim||768,p),(f=this.plugin.logger)==null||f.debug("[EMBEDDING-PROVIDER] Vault registry updated with new provider configuration",{vaultName:c,provider:p,model:this.plugin.settings.embeddingModel,dimensions:this.plugin.settings.ollamaEmbeddingDim||768})}catch(c){(b=this.plugin.logger)==null||b.error("[EMBEDDING-PROVIDER] Failed to update vault registry",{error:c,provider:p})}})),await this.addEnhancedEmbeddingModelSetting(e),this.plugin.settings.embedderProvider==="ollama"&&await this.ollamaSettings.addCustomEmbeddingModelEntry(e),new P.Setting(e).setName("Test Embedding Connection").setDesc("Test your embedding provider configuration").addButton(l=>l.setButtonText("Test Embedding").onClick(async()=>{await this.testEmbeddingConnection(l.buttonEl)})),new P.Setting(e).setName("Test Provider Combination").setDesc("Test that your LLM and embedding providers work together correctly with full pipeline testing").addButton(l=>l.setButtonText("Test Full Pipeline").onClick(async()=>{await this.testFullPipeline(l.buttonEl)})),this.plugin.settings.loadDaemonOnLaunch&&this.plugin.settings.experimentalDaemonMode&&new P.Setting(e).setName("Reload Sync Daemon").setDesc("Restart the sync daemon to apply new provider configuration").addButton(l=>l.setButtonText("Reload Daemon").onClick(async()=>{await this.reloadSyncDaemon(l.buttonEl)})),e.createEl("h4",{text:"Cross-Encoder / Reranker Configuration",cls:"setting-item-name"});let o;new P.Setting(e).setName("Cross-Encoder Provider").setDesc("Choose your cross-encoder/reranker provider for improved search ranking").addDropdown(l=>l.addOption("none","None - Disable reranking").addOption("openai","OpenAI Reranker").addOption("bge","BGE Reranker (Local)").addOption("gemini","Gemini Reranker").setValue(this.plugin.settings.crossEncoderClient||"none").onChange(async d=>{const p=d;this.plugin.settings.crossEncoderClient=p,(p==="bge"||p==="none")&&(this.plugin.settings.crossEncoderModel=void 0),await this.plugin.saveSettings(),this.updateCrossEncoderDefaults(p),o&&(o.style.display=p==="none"||p==="bge"?"none":"block")}));const a=new P.Setting(e).setName("Cross-Encoder Model").setDesc("Specific model for cross-encoding/reranking operations");o=a.settingEl,o.style.display=this.plugin.settings.crossEncoderClient==="none"?"none":"block",a.addDropdown(async l=>{await this.populateCrossEncoderModels(l,this.plugin.settings.crossEncoderClient||"none"),l.setValue(this.plugin.settings.crossEncoderModel||"").onChange(async d=>{this.plugin.settings.crossEncoderModel=d||void 0,await this.plugin.saveSettings()})}),this.addProviderSpecificSettings(e)}addDatabaseAccordion(e){new P.Setting(e).setName("Database Type").setDesc("Choose your graph database backend").addDropdown(t=>t.addOption("neo4j","Neo4j").addOption("falkordb","FalkorDB").setValue(this.plugin.settings.databaseType).onChange(async i=>{const s=i;this.plugin.settings.databaseType=s,await this.plugin.saveSettings(),this.display()})),this.addDatabaseSpecificFields(e),new P.Setting(e).setName("Test Database Connection").setDesc("Verify your database connection settings").addButton(t=>t.setButtonText("Test Connection").setCta().onClick(async()=>{await this.testDatabaseConnection(t.buttonEl)})),new P.Setting(e).setName("Initialize Database Schema").setDesc("Set up the required Graphiti schema in your database (run this after successful connection test)").addButton(t=>t.setButtonText("Initialize Schema").onClick(async()=>{await this.initializeDatabaseSchema(t.buttonEl)}))}addDatabaseSpecificFields(e){const t=this.plugin.settings.databaseType;t==="neo4j"?(new P.Setting(e).setName("Neo4j URI").setDesc("Neo4j connection URI (e.g., bolt://localhost:7687)").addText(i=>i.setPlaceholder("bolt://localhost:7687").setValue(this.plugin.settings.databaseConfigs.neo4j.uri).onChange(async s=>{this.plugin.settings.databaseConfigs.neo4j.uri=s,await this.plugin.saveSettings()})),new P.Setting(e).setName("Neo4j Username").setDesc("Neo4j database username").addText(i=>i.setPlaceholder("neo4j").setValue(this.plugin.settings.databaseConfigs.neo4j.username).onChange(async s=>{this.plugin.settings.databaseConfigs.neo4j.username=s,await this.plugin.saveSettings()})),new P.Setting(e).setName("Neo4j Password").setDesc("Neo4j database password").addText(i=>{i.inputEl.type="password",i.setPlaceholder("Enter password").setValue(this.plugin.settings.databaseConfigs.neo4j.password).onChange(async s=>{this.plugin.settings.databaseConfigs.neo4j.password=s,await this.plugin.saveSettings()})}),new P.Setting(e).setName("Neo4j Database Name").setDesc("Name of the Neo4j database to use").addText(i=>i.setPlaceholder("neo4j").setValue(this.plugin.settings.databaseConfigs.neo4j.database).onChange(async s=>{this.plugin.settings.databaseConfigs.neo4j.database=s,await this.plugin.saveSettings()}))):t==="falkordb"&&(new P.Setting(e).setName("FalkorDB Host").setDesc("FalkorDB host address").addText(i=>i.setPlaceholder("localhost").setValue(this.plugin.settings.databaseConfigs.falkordb.host).onChange(async s=>{this.plugin.settings.databaseConfigs.falkordb.host=s,await this.plugin.saveSettings()})),new P.Setting(e).setName("FalkorDB Port").setDesc("FalkorDB port number").addText(i=>i.setPlaceholder("6379").setValue(this.plugin.settings.databaseConfigs.falkordb.port.toString()).onChange(async s=>{const r=parseInt(s);!isNaN(r)&&r>0&&r<65536&&(this.plugin.settings.databaseConfigs.falkordb.port=r,await this.plugin.saveSettings())})),new P.Setting(e).setName("FalkorDB Username (Optional)").setDesc("FalkorDB username (leave empty if not using authentication)").addText(i=>i.setPlaceholder("Optional").setValue(this.plugin.settings.databaseConfigs.falkordb.username||"").onChange(async s=>{this.plugin.settings.databaseConfigs.falkordb.username=s||void 0,await this.plugin.saveSettings()})),new P.Setting(e).setName("FalkorDB Password (Optional)").setDesc("FalkorDB password (leave empty if not using authentication)").addText(i=>{i.inputEl.type="password",i.setPlaceholder("Optional").setValue(this.plugin.settings.databaseConfigs.falkordb.password||"").onChange(async s=>{this.plugin.settings.databaseConfigs.falkordb.password=s||void 0,await this.plugin.saveSettings()})}),new P.Setting(e).setName("FalkorDB Database Name").setDesc("Name of the FalkorDB database to use").addText(i=>i.setPlaceholder("default_db").setValue(this.plugin.settings.databaseConfigs.falkordb.database).onChange(async s=>{this.plugin.settings.databaseConfigs.falkordb.database=s,await this.plugin.saveSettings()})))}addPythonAccordion(e){e.createEl("p",{text:"Configure Python installation and dependencies for MegaMem",cls:"setting-item-description"}),new P.Setting(e).setName("Custom Python Path").setDesc("Leave empty to auto-detect Python. Specify full path to python executable if needed.").addText(s=>s.setPlaceholder("Auto-detect").setValue(this.plugin.settings.pythonPath||"").onChange(async r=>{this.plugin.settings.pythonPath=r||void 0,await this.plugin.saveSettings()}));const t=e.createDiv();t.style.cssText=`
			margin: 16px 0;
			padding: 12px;
			border: 1px solid var(--background-modifier-border);
			border-radius: 6px;
			background: var(--background-secondary);
			font-family: var(--font-monospace);
			font-size: 0.9em;
		`;const i=async()=>{var s;t.empty(),t.createEl("div",{text:"Checking dependencies...",attr:{style:"color: var(--text-muted);"}});try{const o=this.plugin.app.vault.adapter.basePath,a=Ge.join(o,".obsidian","plugins","megamem-mcp"),d=await new gn(this.plugin,a,this.plugin.settings).checkAllDependencies();t.empty();const p=t.createDiv();p.textContent=d.systemPython?`[OK] System Python: ${d.systemPython.version} at ${d.systemPython.path}`:"[X] System Python: Not found",p.style.color=d.systemPython?"var(--color-green)":"var(--color-red)";const g=t.createDiv();g.textContent=d.uvInstalled?`[OK] uv installed: ${d.uvPythonPath||"Yes"}`:"[X] uv: Not installed",g.style.color=d.uvInstalled?"var(--color-green)":"var(--color-orange)";const m=t.createDiv();m.textContent=d.venvExists?`[OK] Virtual environment: ${d.venvPath||"Exists"}`:"[X] Virtual environment: Not found",m.style.color=d.venvExists?"var(--color-green)":"var(--color-orange)";const f=t.createDiv(),b=d.graphitiVersion?` v${d.graphitiVersion}`:"";if(f.textContent=d.graphitiInstalled?`[OK] Graphiti: Installed${b}`:"[X] Graphiti: Not installed",f.style.color=d.graphitiInstalled?"var(--color-green)":"var(--color-red)",d.mismatch.detected){const c=t.createDiv();c.textContent=`[WARNING] ${d.mismatch.description}`,c.style.color="var(--color-orange)",c.style.marginTop="8px"}}catch(r){t.empty();const o=t.createDiv();o.textContent="[ERROR] Failed to check dependencies",o.style.color="var(--color-red)",(s=this.plugin.logger)==null||s.error("[PYTHON-ACCORDION] Failed to check dependencies",{error:r})}};new P.Setting(e).setName("Manage Dependencies").setDesc("Check status and install Python dependencies").addButton(s=>s.setButtonText("Manage Dependencies").setCta().onClick(async()=>{const o=this.plugin.app.vault.adapter.basePath,a=Ge.join(o,".obsidian","plugins","megamem-mcp"),l=new gn(this.plugin,a,this.plugin.settings);new ng(this.app,this.plugin,l,async()=>{await i()}).open()})),setTimeout(()=>i(),100)}addSyncAccordion(e){let t=null;new P.Setting(e).setName("Automatically sync notes at scheduled intervals").setDesc("Automatically sync notes when they are saved or at regular intervals. Be careful with this, it is not fully tested.").addToggle(i=>{i.setValue(this.plugin.settings.autoSync).onChange(async s=>{const r=this;r._settingsDebounceTimer&&clearTimeout(r._settingsDebounceTimer),r._settingsDebounceTimer=setTimeout(async()=>{r.plugin.settings.autoSync=s,await r.plugin.saveSettings(),t&&(t.style.display=s?"block":"none")},1e3)})}),t=e.createDiv(),t.style.display=this.plugin.settings.autoSync?"block":"none",t.style.marginLeft="24px",t.style.marginTop="8px",new P.Setting(t).setName("Sync Options").setDesc("Choose which notes to include in automatic sync operations").addDropdown(i=>i.addOption("new_only","New notes only - Sync only newly created notes").addOption("new_and_updated","New and updated notes - Sync both new and modified notes").setValue(this.plugin.settings.syncOptions).onChange(async s=>{this.plugin.settings.syncOptions=s,await this.plugin.saveSettings()})),new P.Setting(e).setName("Sync Interval").setDesc("Automatic sync interval in minutes (0 to disable)").addSlider(i=>i.setLimits(0,60,1).setValue(this.plugin.settings.syncInterval).setDynamicTooltip().onChange(async s=>{this.plugin.settings.syncInterval=s,await this.plugin.saveSettings()})),e.createEl("h4",{text:"Folder Configuration",cls:"setting-item-name"}),new P.Setting(e).setName("Included Folders").setDesc("Folders to include in sync. Leave empty to include all folders."),this.plugin.settings.includedFolders.forEach((i,s)=>{const r=new P.Setting(e).addSearch(o=>{new xn(this.app,o.inputEl),o.inputEl.onmousedown=a=>a.stopPropagation(),o.setPlaceholder("Select folder or type path...").setValue(i).onChange(async a=>{this.plugin.settings.includedFolders[s]=a,await this.plugin.saveSettings()})}).addExtraButton(o=>{o.setIcon("cross").setTooltip("Delete").onClick(async a=>{a&&a.stopPropagation(),this.plugin.settings.includedFolders.splice(s,1),await this.plugin.saveSettings(),this.display()})});r.infoEl.remove(),r.controlEl.onmousedown=o=>o.stopPropagation()}),new P.Setting(e).addButton(i=>{i.setButtonText("Add Folder").setCta().onClick(async s=>{s&&s.stopPropagation(),this.plugin.settings.includedFolders.push(""),await this.plugin.saveSettings(),this.display()}),i.buttonEl.onmousedown=s=>s.stopPropagation()}),new P.Setting(e).setName("Excluded Folders").setDesc("Folders to exclude from sync (e.g., .obsidian, .trash)."),this.plugin.settings.excludedFolders.forEach((i,s)=>{const r=new P.Setting(e).addSearch(o=>{new xn(this.app,o.inputEl),o.inputEl.onmousedown=a=>a.stopPropagation(),o.setPlaceholder("Select folder or type path...").setValue(i).onChange(async a=>{this.plugin.settings.excludedFolders[s]=a,await this.plugin.saveSettings()})}).addExtraButton(o=>{o.setIcon("cross").setTooltip("Delete").onClick(async a=>{a&&a.stopPropagation(),this.plugin.settings.excludedFolders.splice(s,1),await this.plugin.saveSettings(),this.display()})});r.infoEl.remove(),r.controlEl.onmousedown=o=>o.stopPropagation()}),new P.Setting(e).addButton(i=>{i.setButtonText("Add Folder").setCta().onClick(async s=>{s&&s.stopPropagation(),this.plugin.settings.excludedFolders.push(""),await this.plugin.saveSettings(),this.display()}),i.buttonEl.onmousedown=s=>s.stopPropagation()}),new P.Setting(e).setName("Globally Ignored Fields").setDesc("YAML frontmatter fields to ignore globally across all notes."),this.plugin.settings.globallyIgnoredFields.forEach((i,s)=>{const r=new P.Setting(e).addText(o=>{o.inputEl.onmousedown=a=>a.stopPropagation(),o.setPlaceholder("Enter field name (e.g., cssclass, tags)...").setValue(i).onChange(async a=>{this.plugin.settings.globallyIgnoredFields[s]=a,await this.plugin.saveSettings()})}).addExtraButton(o=>{o.setIcon("cross").setTooltip("Delete").onClick(async a=>{a&&a.stopPropagation(),this.plugin.settings.globallyIgnoredFields.splice(s,1),await this.plugin.saveSettings(),this.display()})});r.infoEl.remove(),r.controlEl.onmousedown=o=>o.stopPropagation()}),new P.Setting(e).addButton(i=>{i.setButtonText("Add Field").setCta().onClick(async s=>{s&&s.stopPropagation(),this.plugin.settings.globallyIgnoredFields.push(""),await this.plugin.saveSettings(),this.display()}),i.buttonEl.onmousedown=s=>s.stopPropagation()})}addKnowledgeNamespacingAccordion(e){e.createEl("p",{text:"Configure how knowledge is organized and namespaced in your graph database.",cls:"setting-item-description"}),e.createEl("h4",{text:"Ontology Configuration",cls:"setting-item-name"}),new P.Setting(e).setName("Use Custom Ontology").setDesc("Enable custom entity types with pre-existing Pydantic models. When disabled, uses generic text episodes.").addToggle(r=>r.setValue(this.plugin.settings.useCustomOntology).onChange(async o=>{this.plugin.settings.useCustomOntology=o,await this.plugin.saveSettings()})),e.createEl("h4",{text:"Namespacing Strategy",cls:"setting-item-name"}),new P.Setting(e).setName("Namespace Strategy").setDesc("Primary strategy for organizing knowledge in the graph").addDropdown(r=>r.addOption("vault","Vault Name - Use vault as namespace").addOption("folder","Folder Path - Use note folder as namespace").addOption("property","Property Value - Use g_group_id property").addOption("custom","Custom Value - Use default namespace setting").setValue(this.plugin.settings.namespaceStrategy).onChange(async o=>{const a=o;this.plugin.settings.namespaceStrategy=a,a==="vault"?(this.plugin.settings.defaultNamespace=this.app.vault.getName(),this.defaultNamespaceInput&&this.defaultNamespaceInput.setValue(this.app.vault.getName())):a==="folder"?(this.plugin.settings.enableFolderNamespacing=!0,this.folderToggle&&this.folderToggle.setValue(!0)):a==="property"&&(this.plugin.settings.enablePropertyNamespacing=!0,this.propertyToggle&&this.propertyToggle.setValue(!0)),await this.plugin.saveSettings()})),new P.Setting(e).setName("Default Namespace").setDesc('Default namespace when strategy is "custom" or when other strategies fail').addText(r=>{this.defaultNamespaceInput=r,r.setPlaceholder("my-vault").setValue(this.plugin.settings.defaultNamespace).onChange(o=>{var a;this.ensureSharedDebounceInitialized(),(a=this._sharedTextDebounce)==null||a.call(this,JSON.stringify({key:"defaultNamespace",value:o}))})}),new P.Setting(e).setName("Enable Folder Namespacing").setDesc("Use top-level folder names as namespaces. Subfolders are not supported.").addToggle(r=>{this.folderToggle=r,r.setValue(this.plugin.settings.enableFolderNamespacing).onChange(async o=>{this.plugin.settings.enableFolderNamespacing=o,await this.plugin.saveSettings()})});const t=new P.Setting(e).setName("Generate Folder Namespaces").setDesc("Click to scan vault folders and generate the list of available namespaces."),i=t.descEl.createDiv();i.style.marginTop="8px",i.style.fontSize="0.9em",i.style.color="var(--text-muted)";const s=()=>{const r=this.plugin.settings.availableNamespaces||[];r.length>0?i.textContent=`Current namespaces: ${r.join(", ")}`:i.textContent='No namespaces discovered yet. Click "Generate" to scan the vault.'};s(),t.addButton(r=>r.setButtonText("Generate").setCta().onClick(async()=>{var a;const o=r.buttonEl.textContent;r.buttonEl.textContent="Generating...",r.setDisabled(!0);try{await this.plugin.updateAvailableNamespaces(),s(),new P.Notice("[SUCCESS] Namespaces updated successfully")}catch(l){const d=l instanceof Error?l.message:"Unknown error";new P.Notice(`[ERROR] Failed to update namespaces: ${d}`),(a=this.plugin.logger)==null||a.error("Failed to update namespaces",{error:l})}finally{r.buttonEl.textContent=o,r.setDisabled(!1)}})),new P.Setting(e).setName("Custom Folder Mappings").setDesc("Map specific folders to custom group_id namespaces. Leave empty to use automatic folder names."),this.plugin.settings.folderNamespaceMappings.forEach((r,o)=>{const a=new P.Setting(e).addSearch(l=>{new xn(this.app,l.inputEl),l.inputEl.addEventListener("mousedown",d=>d.stopPropagation()),l.setPlaceholder("Select folder or type path...").setValue(r.folderPath).onChange(async d=>{this.plugin.settings.folderNamespaceMappings[o].folderPath=d,await this.plugin.saveSettings()}),l.inputEl.addEventListener("blur",async()=>{const d=l.getValue();if(!this.plugin.settings.folderNamespaceMappings[o].groupId&&d.trim()){this.plugin.settings.folderNamespaceMappings[o].groupId=d.replace(/\//g,"_");const p=a.controlEl.querySelector('input[placeholder="Enter group_id..."]');p&&(p.value=this.plugin.settings.folderNamespaceMappings[o].groupId),await this.plugin.saveSettings()}})}).addText(l=>{l.inputEl.addEventListener("mousedown",d=>d.stopPropagation()),l.inputEl.addEventListener("input",d=>d.stopPropagation()),l.inputEl.addEventListener("keydown",d=>d.stopPropagation()),l.inputEl.addEventListener("keyup",d=>d.stopPropagation()),l.inputEl.addEventListener("focus",d=>d.stopPropagation()),l.setPlaceholder("Enter group_id...").setValue(r.groupId).onChange(async d=>{this.plugin.settings.folderNamespaceMappings[o].groupId=d,await this.plugin.saveSettings()})}).addExtraButton(l=>{l.setIcon("cross").setTooltip("Delete").onClick(async d=>{d&&(d.stopPropagation(),d.preventDefault()),this.plugin.settings.folderNamespaceMappings.splice(o,1),await this.plugin.saveSettings(),this.display()}),l.extraSettingsEl.addEventListener("mousedown",d=>d.stopPropagation())});a.infoEl.remove(),a.controlEl.addEventListener("mousedown",l=>l.stopPropagation())}),new P.Setting(e).addButton(r=>{r.setButtonText("Add Folder Mapping").setCta().onClick(async o=>{o&&o.stopPropagation(),this.plugin.settings.folderNamespaceMappings.push({folderPath:"",groupId:""}),await this.plugin.saveSettings(),this.display()}),r.buttonEl.onmousedown=o=>o.stopPropagation()}),new P.Setting(e).setName("Enable Property Namespacing").setDesc("Use g_group_id frontmatter property as namespace when available").addToggle(r=>{this.propertyToggle=r,r.setValue(this.plugin.settings.enablePropertyNamespacing).onChange(async o=>{this.plugin.settings.enablePropertyNamespacing=o,await this.plugin.saveSettings()})}),e.createEl("h4",{text:"Multi-Vault Configuration",cls:"setting-item-name"}),e.createEl("p",{text:"Be careful with this, it is not fully tested.",cls:"setting-item-description",attr:{style:"color: var(--text-warning); font-weight: 500; margin-bottom: 16px;"}}),new P.Setting(e).setName("Enable Multi-Vault Mode").setDesc("Enable advanced features for managing multiple Obsidian vaults").addToggle(r=>r.setValue(this.plugin.settings.enableMultiVaultMode).onChange(async o=>{this.plugin.settings.enableMultiVaultMode=o,await this.plugin.saveSettings()})),new P.Setting(e).setName("Current Vault Priority").setDesc("Priority level for this vault in multi-vault scenarios (higher numbers = higher priority)").addSlider(r=>r.setLimits(1,10,1).setValue(this.plugin.settings.currentVaultPriority).setDynamicTooltip().onChange(async o=>{this.plugin.settings.currentVaultPriority=o,await this.plugin.saveSettings()})),new P.Setting(e).setName("Vault Configurations").setDesc("View and manage vault registry configuration from vaults.json").addButton(r=>r.setButtonText("Manage Vaults").onClick(async()=>{await this.showVaultManagementModal()}))}addServersAccordion(e){e.createEl("p",{text:"Server architecture: The first MCP process automatically starts the shared WebSocket server. Subsequent processes connect as clients. Server ownership transfers automatically when the host process exits.",cls:"setting-item-description"}),e.createEl("h4",{text:"Shared WebSocket Server",cls:"setting-item-name"}),new P.Setting(e).setName("Enable WebSocket Server").setDesc("Enable WebSocket server for MCP communication. Required for MCP tools to work.").addToggle(g=>g.setValue(this.plugin.settings.wsEnabled).onChange(async m=>{this.plugin.settings.wsEnabled=m,await this.plugin.saveSettings(),m?(await this.plugin.wsService.start(),new P.Notice("[INFO] WebSocket server started")):(await this.plugin.wsService.stop(),new P.Notice("[INFO] WebSocket server stopped"))})),e.createEl("p",{text:"Server lifecycle is managed automatically by MCP processes. Manual control is not needed.",cls:"setting-item-description",attr:{style:"font-size: 0.9em; color: var(--text-muted); margin-bottom: 16px;"}}),new P.Setting(e).setName("WebSocket Port").setDesc("Port number for the shared WebSocket server (configured via MCP)").addText(g=>g.setPlaceholder("8765").setValue(this.plugin.settings.wsPort.toString()).setDisabled(!0));const t=new P.Setting(e).setName("Authentication Token").setDesc("Authentication token for secure WebSocket connections (managed by MCP)");t.addText(g=>{g.setDisabled(!0).setValue(this.plugin.settings.wsAuthToken)}),t.addButton(g=>g.setButtonText("Copy").onClick(async m=>{m==null||m.stopPropagation(),await navigator.clipboard.writeText(this.plugin.settings.wsAuthToken),new P.Notice("Auth token copied to clipboard")}));const i=e.createDiv();i.style.cssText=`
			margin: 16px 0;
			padding: 12px;
			border: 1px solid var(--background-modifier-border);
			border-radius: 6px;
			background: var(--background-secondary);
		`,i.createEl("h5",{text:"Current Connections",attr:{style:"margin: 0 0 8px 0; font-size: 0.9em; font-weight: 600;"}});const s=i.createDiv();s.style.cssText=`
			font-size: 0.8em;
			color: var(--text-muted);
			line-height: 1.4;
		`;const r=async()=>{if(!this.plugin.settings.enableDebugLogging){const m=this.plugin.settings.wsPort||8765;s.textContent=`Health checks disabled (port ${m})`;return}const g=this.plugin.settings.wsPort||8765;try{(await fetch(`http://127.0.0.1:${g}/health`,{headers:{Authorization:`Bearer ${this.plugin.settings.wsAuthToken||""}`}})).ok?s.textContent=`Connected to port ${g}`:s.textContent=`Failed to connect to port ${g}`}catch{s.textContent=`Trying to connect to port ${g}`}};r();const o=setInterval(r,5e3);this.connectionUpdateInterval=o,e.createEl("h4",{text:"MCP Server",cls:"setting-item-name"});const a=e.createDiv();a.style.cssText=`
			margin: 16px 0;
			padding: 12px;
			border: 1px solid var(--background-modifier-border);
			border-radius: 6px;
			background: var(--background-secondary);
		`,a.createEl("h5",{text:"Current Instances",attr:{style:"margin: 0 0 8px 0; font-size: 0.9em; font-weight: 600;"}});const l=a.createDiv();l.style.cssText=`
			font-size: 0.8em;
			color: var(--text-muted);
			line-height: 1.4;
		`;const d=async()=>{var g;try{const f=await tn.getInstance().getMCPServerProcesses();if(f.length>0){const b=f.map(c=>`Process ${c.pid} | ${c.parentName} | ${c.createdAt}`);l.innerHTML=b.join("<br>")}else l.textContent="No active instances detected"}catch(m){l.textContent="Status check failed",(g=this.plugin.logger)==null||g.error("Failed to update instances display",{error:m})}};d();const p=setInterval(d,5e3);this.instanceUpdateInterval=p,new P.Setting(e).setName("Generate MCP Config").setDesc("Generate configuration for MCP clients to connect to the MCP server").addButton(g=>g.setButtonText("Generate Config").onClick(async()=>{await this.generateMcpConfig(g.buttonEl)}))}addAdvancedAccordion(e){new P.Setting(e).setName("View Logs").setDesc("Open the plugin logs directory").addButton(t=>t.setButtonText("View Logs").onClick(async()=>{await this.viewLogFile()})),new P.Setting(e).setName("Max Retry Attempts").setDesc("Maximum number of retry attempts for failed operations").addSlider(t=>t.setLimits(1,10,1).setValue(this.plugin.settings.maxRetryAttempts).setDynamicTooltip().onChange(async i=>{this.plugin.settings.maxRetryAttempts=i,await this.plugin.saveSettings()})),new P.Setting(e).setName("Connection Timeout").setDesc("Connection timeout in seconds").addSlider(t=>t.setLimits(5,120,5).setValue(this.plugin.settings.connectionTimeout).setDynamicTooltip().onChange(async i=>{this.plugin.settings.connectionTimeout=i,await this.plugin.saveSettings()})),e.createEl("h4",{text:"Schema Discovery Options",cls:"setting-item-name"}),new P.Setting(e).setName("Auto-discover Schemas").setDesc("Automatically scan vault for schema patterns").addToggle(t=>t.setValue(this.plugin.settings.autoDiscoverSchemas).onChange(async i=>{this.plugin.settings.autoDiscoverSchemas=i,await this.plugin.saveSettings()})),new P.Setting(e).setName("Validate Naming Conventions").setDesc("Check property names against Graphiti best practices").addToggle(t=>t.setValue(this.plugin.settings.validateNamingConventions).onChange(async i=>{this.plugin.settings.validateNamingConventions=i,await this.plugin.saveSettings()})),new P.Setting(e).setName("Suggest Property Descriptions").setDesc("Auto-generate descriptions for common property names").addToggle(t=>t.setValue(this.plugin.settings.suggestPropertyDescriptions).onChange(async i=>{this.plugin.settings.suggestPropertyDescriptions=i,await this.plugin.saveSettings()})),new P.Setting(e).setName("Protected Attribute Warnings").setDesc("Show warnings for Graphiti protected attribute names").addToggle(t=>t.setValue(this.plugin.settings.enableProtectedAttributeWarnings).onChange(async i=>{this.plugin.settings.enableProtectedAttributeWarnings=i,await this.plugin.saveSettings()})),e.createEl("h4",{text:"UI Preferences",cls:"setting-item-name"}),new P.Setting(e).setName("Show Sync Status").setDesc("Display sync status in the status bar").addToggle(t=>t.setValue(this.plugin.settings.showSyncStatus).onChange(async i=>{this.plugin.settings.showSyncStatus=i,await this.plugin.saveSettings()})),new P.Setting(e).setName("Show Notifications").setDesc("Display notifications for sync operations").addToggle(t=>t.setValue(this.plugin.settings.showNotifications).onChange(async i=>{this.plugin.settings.showNotifications=i,await this.plugin.saveSettings()}))}addActionsAccordion(e){new P.Setting(e).setName("Export Settings").setDesc("Export your current settings to a file").addButton(t=>t.setButtonText("Export Settings").onClick(async()=>{await this.exportSettings()})),new P.Setting(e).setName("Import Settings").setDesc("Import settings from a file").addButton(t=>t.setButtonText("Import Settings").onClick(async()=>{await this.importSettings()})),new P.Setting(e).setName("Reset to Defaults").setDesc("Reset all settings to their default values").addButton(t=>t.setButtonText("Reset to Defaults").setWarning().onClick(async()=>{await this.resetToDefaults()}))}async generateMcpConfig(e){var i,s;const t=e.textContent;e.textContent="Generating...",e.setAttribute("disabled","true");try{if((i=this.plugin.logger)==null||i.debug("[MCP-CONFIG] Generating MCP configuration"),this.plugin.graphitiService){const r=await this.plugin.graphitiService.generateClaudeDesktopConfig(),o=JSON.stringify(r.config,null,2),a=document.createElement("div");a.style.cssText=`
					position: fixed;
					top: 0;
					left: 0;
					width: 100%;
					height: 100%;
					background: rgba(0, 0, 0, 0.8);
					display: flex;
					align-items: center;
					justify-content: center;
					z-index: 1000;
				`;const l=document.createElement("div");l.style.cssText=`
					background: var(--background-primary);
					border: 1px solid var(--background-modifier-border);
					border-radius: 8px;
					padding: 20px;
					max-width: 600px;
					width: 90%;
					max-height: 80%;
					overflow: auto;
				`;const d=document.createElement("h3");d.textContent="MCP Configuration",d.style.margin="0 0 15px 0";const p=document.createElement("p");p.textContent="Copy this configuration for your MCP client:",p.style.margin="0 0 10px 0";const g=document.createElement("textarea");g.value=o,g.readOnly=!0,g.style.cssText=`
					width: 100%;
					height: 300px;
					font-family: var(--font-monospace);
					font-size: 12px;
					background: var(--background-secondary);
					border: 1px solid var(--background-modifier-border);
					border-radius: 4px;
					padding: 8px;
					resize: vertical;
					box-sizing: border-box;
				`;const m=document.createElement("div");m.style.cssText=`
					margin-top: 15px;
					display: flex;
					gap: 10px;
					justify-content: flex-end;
				`;const f=document.createElement("button");f.textContent="Copy",f.className="mod-cta",f.onclick=async()=>{try{await navigator.clipboard.writeText(o);const c=f.textContent;f.textContent="Copied!",setTimeout(()=>f.textContent=c,2e3),new P.Notice("[SUCCESS] MCP configuration copied to clipboard")}catch{g.select(),document.execCommand("copy"),new P.Notice("[SUCCESS] MCP configuration copied to clipboard")}};const b=document.createElement("button");b.textContent="Close",b.onclick=()=>document.body.removeChild(a),m.append(f,b),l.append(d,p,g,m),a.appendChild(l),a.onclick=c=>{c.target===a&&document.body.removeChild(a)},document.body.appendChild(a),g.focus(),g.select(),new P.Notice("[SUCCESS] MCP configuration generated")}else new P.Notice("[ERROR] GraphitiService not available")}catch(r){(s=this.plugin.logger)==null||s.error("[MCP-CONFIG] Failed to generate MCP config",{error:r});const o=r instanceof Error?r.message:"Unknown error";new P.Notice(`[ERROR] Failed to generate config: ${o}`)}finally{e.textContent=t,e.removeAttribute("disabled")}}addDevelopmentAccordion(e){new P.Setting(e).setName("Debug Logging").setDesc("Enable detailed logging for troubleshooting").addToggle(t=>t.setValue(this.plugin.settings.enableDebugLogging).onChange(async i=>{this.plugin.settings.enableDebugLogging=i,this.plugin.logger.setDebug(i),this.plugin.logger.info(`Debug mode ${i?"enabled":"disabled"} from settings`),await this.plugin.saveSettings()})),new P.Setting(e).setName("Experimental Daemon Mode").setDesc("Use persistent Python daemon to eliminate BGE model loading overhead (reduces sync time by ~60%)").addToggle(t=>t.setValue(this.plugin.settings.experimentalDaemonMode).onChange(async i=>{this.plugin.settings.experimentalDaemonMode=i,await this.plugin.saveSettings()})),new P.Setting(e).setName("Load Daemon on Launch").setDesc("Start Python daemon when plugin loads to eliminate first-sync delay (requires Experimental Daemon Mode)").addToggle(t=>t.setValue(this.plugin.settings.loadDaemonOnLaunch).onChange(async i=>{this.plugin.settings.loadDaemonOnLaunch=i,await this.plugin.saveSettings()})),new P.Setting(e).setName("Log Performance").setDesc("Enable detailed timing analysis for sync performance debugging").addToggle(t=>t.setValue(this.plugin.settings.logPerformance).onChange(async i=>{this.plugin.settings.logPerformance=i,await this.plugin.saveSettings()}))}getProviderDisplayName(e){return{openai:"OpenAI",anthropic:"Anthropic",google:"Google",azure:"Azure OpenAI",voyage:"Voyage AI",venice:"Venice.ai"}[e]||e}addProviderSpecificSettings(e){this.plugin.settings.llmProvider==="azure"&&(new P.Setting(e).setName("Azure Endpoint").setDesc("Your Azure OpenAI endpoint URL").addText(i=>i.setPlaceholder("https://your-resource.openai.azure.com/").setValue(this.plugin.settings.azureEndpoint||"").onChange(async s=>{this.plugin.settings.azureEndpoint=s,await this.plugin.saveSettings()})),new P.Setting(e).setName("Azure API Version").setDesc("Azure OpenAI API version").addText(i=>i.setPlaceholder("2024-02-01").setValue(this.plugin.settings.azureApiVersion||"").onChange(async s=>{this.plugin.settings.azureApiVersion=s,await this.plugin.saveSettings()})))}async populateLLMModels(e,t,i=!1){var r,o,a,l,d,p,g;e.selectEl.empty(),i&&e.addOption("","None");let s=[];try{const m=this.plugin.settings,f=i?"llmSmallDefaults":"llmDefaults",b=(r=m==null?void 0:m[f])==null?void 0:r[t];if(b&&typeof b=="object"){const c=Object.entries(b);c.sort((v,w)=>{const _=v[1]&&v[1].recommended?1:0;return(w[1]&&w[1].recommended?1:0)-_||v[0].localeCompare(w[0])}),s=c.map(([v])=>v),(o=this.plugin.logger)==null||o.debug(`[SETTINGS] Using ${f} from plugin.settings for ${t}`,{count:s.length})}else if(i&&((a=m==null?void 0:m.llmDefaults)!=null&&a[t])){const c=Object.entries(m.llmDefaults[t]);c.sort((v,w)=>{const _=v[1]&&v[1].recommended?1:0;return(w[1]&&w[1].recommended?1:0)-_||v[0].localeCompare(w[0])}),s=c.map(([v])=>v),(l=this.plugin.logger)==null||l.debug(`[SETTINGS] Fallback to llmDefaults from plugin.settings for ${t}`,{count:s.length})}}catch(m){(d=this.plugin.logger)==null||d.warn("[SETTINGS] Failed reading LLM defaults from plugin.settings",{error:m})}if(s.length===0&&t!=="ollama"&&((p=this.plugin.logger)==null||p.debug(`[SETTINGS] No LLM defaults found in plugin.settings for ${t}; leaving dropdown empty`)),t==="ollama")try{const m=i?this.ollamaSettings.getOllamaLLMSmallModelsFromSettings():this.ollamaSettings.getOllamaLLMModelsFromSettings();for(const f of m){const b=f.description||"",c=b.length>50?b.substring(0,50)+"...":b,v=c?`${f.name} - ${c}`:f.name;e.addOption(f.name,v)}}catch(m){(g=this.plugin.logger)==null||g.error("[SETTINGS] Failed to load Ollama LLM models from settings",{error:m})}else s.forEach(m=>e.addOption(m,m))}async populateEmbeddingModels(e,t){var s,r,o,a,l;e.selectEl.empty();let i=[];try{const d=this.plugin.settings,p=(s=d==null?void 0:d.embeddingDefaults)==null?void 0:s[t];if(p&&typeof p=="object"){const g=Object.entries(p);g.sort((m,f)=>{const b=m[1]&&m[1].recommended?1:0;return(f[1]&&f[1].recommended?1:0)-b||m[0].localeCompare(f[0])}),i=g.map(([m])=>m),(r=this.plugin.logger)==null||r.debug(`[SETTINGS] Using embeddingDefaults from plugin.settings for ${t}`,{count:i.length})}}catch(d){(o=this.plugin.logger)==null||o.warn("[SETTINGS] Failed reading embedding defaults from plugin.settings",{error:d})}if(i.length===0&&t!=="ollama"&&((a=this.plugin.logger)==null||a.debug(`[SETTINGS] No embedding defaults found in plugin.settings for ${t}; leaving dropdown empty`)),t==="ollama")try{const d=this.ollamaSettings.getOllamaEmbeddingModelNamesFromSettings(),p=this.ollamaSettings.getOllamaEmbeddingModelsFromSettings(),g=await this.ollamaSettings.getOllamaService().getEmbeddingModelsWithStatus(d)||[],m=new Map;for(const f of g)m.set(f.name,!!f.available);for(const f of p){const b=m.get(f.name)||!1,c=typeof f.dimensions=="number"?f.dimensions:this.plugin.settings.ollamaEmbeddingDim||768,v=f.description||"",w=v.length>35?v.substring(0,35)+"...":v,_=`${f.name} (${c}d) - ${w}`;e.addOption(f.name,_)}}catch(d){(l=this.plugin.logger)==null||l.error("[SETTINGS] Failed to load Ollama embedding models",{error:d});const p=this.ollamaSettings.getOllamaEmbeddingModelsFromSettings();for(const g of p){const m=typeof g.dimensions=="number"?g.dimensions:this.plugin.settings.ollamaEmbeddingDim||768,f=g.description||"",b=f.length>40?f.substring(0,40)+"...":f,c=`${g.name} (${m}d) - ${b}`;e.addOption(g.name,c)}}else i.forEach(d=>e.addOption(d,d))}async addEnhancedEmbeddingModelSetting(e){if(this.plugin.settings.embedderProvider==="ollama"){const t=new P.Setting(e).setName("Embedding Model").setDesc("Model for generating embeddings with availability checking");let i,s;t.addDropdown(async r=>{i=r,await this.ollamaSettings.populateOllamaModelsWithStatus(i),i.setValue(this.plugin.settings.embeddingModel).onChange(async o=>{var a;try{await this.plugin.vaultRegistryService.hasEmbeddingModelChanged(o,String(this.plugin.settings.ollamaEmbeddingDim||768))&&(new P.Notice("You are changing the embedding model for this vault. You must clear the database to avoid conflicts."),this.plugin.logger.warn("[SETTINGS] Embedding model change detected",{newModel:o,newDimensions:this.plugin.settings.ollamaEmbeddingDim||768})),this.plugin.settings.embeddingModel=o,await this.plugin.saveSettings(),(a=this.plugin.logger)==null||a.debug("[OLLAMA-EMBEDDING-MODEL-CHANGE] Updating vault registry from Ollama model dropdown",{model:o,dimensions:this.plugin.settings.ollamaEmbeddingDim||768,provider:"ollama",vaultName:this.app.vault.getName()}),await this.plugin.vaultRegistryService.updateVaultEmbeddingModel(this.app.vault.getName(),o,this.plugin.settings.ollamaEmbeddingDim||768,"ollama"),o&&await this.ollamaSettings.updateModelStatusIconForDropdown(s,"embedding",o)}catch(l){this.plugin.logger.error("[SETTINGS] Error handling Ollama embedding model change",{error:l}),new P.Notice("Error checking embedding model configuration")}})}),s=t.settingEl.createDiv(),s.style.cssText=`
				margin-top: 8px;
				padding: 8px;
				border-radius: 4px;
				font-size: 0.9em;
			`,this.plugin.settings.embeddingModel&&setTimeout(async()=>{await this.ollamaSettings.updateModelStatusIconForDropdown(s,"embedding",this.plugin.settings.embeddingModel)},100)}else new P.Setting(e).setName("Embedding Model").setDesc("Model for generating embeddings").addDropdown(t=>{this.populateEmbeddingModels(t,this.plugin.settings.embedderProvider),t.setValue(this.plugin.settings.embeddingModel).onChange(async i=>{var s,r,o,a;if(this.plugin.vaultRegistryService)try{await this.plugin.vaultRegistryService.hasEmbeddingModelChanged(i,String(this.plugin.settings.ollamaEmbeddingDim||768))&&(new P.Notice("You are changing the embedding model for this vault. You must clear the database to avoid conflicts."),(s=this.plugin.logger)==null||s.warn("[EMBEDDING-WARNING] Embedding model changed for vault",{oldModel:this.plugin.settings.embeddingModel,newModel:i,vaultName:this.app.vault.getName()}))}catch(l){(r=this.plugin.logger)==null||r.error("[EMBEDDING-WARNING] Failed to check embedding model changes",{error:l})}if(this.plugin.settings.embeddingModel=i,await this.plugin.saveSettings(),this.plugin.vaultRegistryService)try{const l=this.app.vault.getName();(o=this.plugin.logger)==null||o.debug("[NON-OLLAMA-EMBEDDING-MODEL-CHANGE] Updating vault registry from embedding model dropdown",{model:i,dimensions:this.plugin.settings.ollamaEmbeddingDim||768,provider:this.plugin.settings.embedderProvider,vaultName:l}),await this.plugin.vaultRegistryService.updateVaultEmbeddingModel(l,i,this.plugin.settings.ollamaEmbeddingDim||768,this.plugin.settings.embedderProvider)}catch(l){(a=this.plugin.logger)==null||a.error("[NON-OLLAMA-EMBEDDING-MODEL] Failed to update vault registry",{error:l,model:i})}})})}async populateOllamaModelsWithStatus(e){await this.ollamaSettings.populateOllamaModelsWithStatus(e)}async handleOllamaModelSelection(e,t){await this.ollamaSettings.handleOllamaModelSelection(e,t)}async downloadOllamaModelWithProgress(e,t){await this.ollamaSettings.downloadOllamaModelWithProgress(e,t)}async isOllamaModelInstalled(e){return await this.ollamaSettings.isOllamaModelInstalled(e)}async updateLLMModelStatusIcon(e,t){await this.ollamaSettings.updateModelStatusIconForDropdown(e,"llm_small",t)}async addCustomLLMModelEntry(e){const t=new P.Setting(e).setName("Custom LLM Model").setDesc("Download any Ollama LLM model by name (e.g., llama3.2:3b, codellama:13b)");let i,s,r;t.addText(o=>{i=o.inputEl,o.setPlaceholder("Enter model name (e.g., llama3.2:3b)").onChange(a=>{s&&(s.disabled=!a.trim())})}),t.addButton(o=>{s=o.buttonEl,o.setButtonText(" Download").setTooltip("Download this model from Ollama registry").setDisabled(!0).onClick(async()=>{var l,d;const a=i.value.trim();if(!a){new P.Notice("[ERROR] Please enter a model name");return}try{if(await this.ollamaSettings.isOllamaModelInstalled(a)){new P.Notice(`[INFO] Model ${a} is already installed`);return}await this.ollamaSettings.downloadOllamaModelWithProgress(a,r);try{await this.ollamaSettings.isOllamaModelInstalled(a)&&(await this.ollamaSettings.addCustomOllamaLLMToDefaults(a),await this.ollamaSettings.refreshLLMDropdowns(),new P.Notice(`[SUCCESS] ${a} downloaded and added to LLM models.`))}catch(g){(l=this.plugin.logger)==null||l.warn("[CUSTOM-LLM] Post-download availability check failed",{error:g,modelName:a})}i.value="",s.disabled=!0}catch(p){(d=this.plugin.logger)==null||d.error("[CUSTOM-LLM] Download failed",{error:p,modelName:a});const g=p instanceof Error?p.message:"Unknown error";new P.Notice(`[ERROR] Failed to download ${a}: ${g}`)}})}),r=t.settingEl.createDiv(),r.style.cssText=`
			margin-top: 8px;
			padding: 8px;
			border-radius: 4px;
			font-size: 0.9em;
			min-height: 20px;
		`}async addCustomEmbeddingModelEntry(e){const t=new P.Setting(e).setName("Custom Embedding Model").setDesc("Download any Ollama embedding model by name (e.g., nomic-embed-text, mxbai-embed-large)");let i,s,r;t.addText(o=>{i=o.inputEl,o.setPlaceholder("Enter embedding model name").onChange(a=>{s&&(s.disabled=!a.trim())})}),t.addButton(o=>{s=o.buttonEl,o.setButtonText(" Download").setTooltip("Download this embedding model from Ollama registry").setDisabled(!0).onClick(async()=>{var l,d;const a=i.value.trim();if(!a){new P.Notice("[ERROR] Please enter a model name");return}try{if(await this.ollamaSettings.isOllamaModelInstalled(a)){new P.Notice(`[INFO] Model ${a} is already installed`);return}await this.downloadOllamaModelWithProgress(a,r);try{await this.ollamaSettings.isOllamaModelInstalled(a)&&await this.ollamaSettings.addCustomOllamaEmbeddingToDefaults(a)}catch(g){(l=this.plugin.logger)==null||l.warn("[CUSTOM-EMBEDDING] Post-download availability check failed",{error:g,modelName:a})}i.value="",s.disabled=!0}catch(p){(d=this.plugin.logger)==null||d.error("[CUSTOM-EMBEDDING] Download failed",{error:p,modelName:a});const g=p instanceof Error?p.message:"Unknown error";new P.Notice(`[ERROR] Failed to download ${a}: ${g}`)}})}),r=t.settingEl.createDiv(),r.style.cssText=`
			margin-top: 8px;
			padding: 8px;
			border-radius: 4px;
			font-size: 0.9em;
			min-height: 20px;
		`}async refreshOllamaDropdownAndStatus(){this.display()}updateLLMDefaults(e){var r,o,a,l,d,p,g,m,f;const t=this.plugin.settings;let i,s;try{const b=(r=t==null?void 0:t.llmDefaults)==null?void 0:r[e];if(b&&typeof b=="object"){const w=Object.entries(b).find(([,_])=>_&&_.recommended);i=w&&w[0]||Object.keys(b)[0],(o=this.plugin.logger)==null||o.debug("[SETTINGS] Selected LLM default from plugin.settings",{provider:e,model:i})}const c=(a=t==null?void 0:t.llmSmallDefaults)==null?void 0:a[e];if(c&&typeof c=="object"){const w=Object.entries(c).find(([,_])=>_&&_.recommended);s=w&&w[0]||Object.keys(c)[0],(l=this.plugin.logger)==null||l.debug("[SETTINGS] Selected LLM Small default from plugin.settings",{provider:e,model:s})}else!s&&((d=t==null?void 0:t.llmDefaults)!=null&&d[e])&&(s=Object.keys(t.llmDefaults[e])[0])}catch(b){(p=this.plugin.logger)==null||p.warn("[SETTINGS] Failed deriving LLM defaults from plugin.settings",{error:b})}if(!i){const b={openai:{model:"gpt-4o",smallModel:"gpt-4o-mini"},anthropic:{model:"claude-sonnet-4-20250514",smallModel:"claude-3-5-haiku-20241022"},google:{model:"gemini-2.0-flash",smallModel:"gemini-2.0-flash-exp"},azure:{model:"gpt-4o",smallModel:"gpt-4o-mini"},ollama:{model:"deepseek-r1:7b",smallModel:"llama3.1:8b"}};i=(g=b[e])==null?void 0:g.model,s=s||((m=b[e])==null?void 0:m.smallModel),(f=this.plugin.logger)==null||f.debug("[SETTINGS] Falling back to internal LLM defaults",{provider:e,model:i,small:s})}i&&(this.plugin.settings.llmModel=i),s&&(this.plugin.settings.llmSmallModel=s),this.plugin.saveSettings(),this.display()}updateCrossEncoderDefaults(e){var t,i,s,r;if(e==="none"||e==="bge"){this.plugin.settings.crossEncoderModel=void 0,this.plugin.saveSettings(),this.display();return}try{const o=this.plugin.settings,a=(t=o==null?void 0:o.llmCrossEncoderDefaults)==null?void 0:t[e];if(a&&typeof a=="object"){const l=Object.entries(a),d=l.find(([,g])=>g&&g.recommended),p=d&&d[0]||((i=l[0])==null?void 0:i[0]);p&&(this.plugin.settings.crossEncoderModel=p,(s=this.plugin.logger)==null||s.debug("[SETTINGS] Selected cross-encoder default from plugin.settings",{provider:e,model:p}))}}catch(o){(r=this.plugin.logger)==null||r.warn("[SETTINGS] Failed deriving cross-encoder defaults from plugin.settings",{error:o})}this.plugin.saveSettings(),this.display()}async populateCrossEncoderModels(e,t){var s,r,o;if(e.selectEl.empty(),t==="none"){e.addOption("","No reranking model needed");return}let i=[];try{const a=this.plugin.settings,l=(s=a==null?void 0:a.llmCrossEncoderDefaults)==null?void 0:s[t];if(l&&typeof l=="object"){const d=Object.entries(l);d.sort((p,g)=>{const m=p[1]&&p[1].recommended?1:0;return(g[1]&&g[1].recommended?1:0)-m||p[0].localeCompare(g[0])}),i=d.map(([p])=>p),(r=this.plugin.logger)==null||r.debug("[SETTINGS] Using llmCrossEncoderDefaults from plugin.settings for "+t,{count:i.length})}}catch(a){(o=this.plugin.logger)==null||o.warn("[SETTINGS] Failed reading cross-encoder defaults from plugin.settings",{error:a})}if(i.length===0){e.addOption("",`No models configured for ${t}`);return}i.forEach(a=>{e.addOption(a,a)})}updateEmbedderDefaults(e){var s,r,o,a;const t=this.plugin.settings;let i;try{const l=(s=t==null?void 0:t.embeddingDefaults)==null?void 0:s[e];if(l&&typeof l=="object"){const p=Object.entries(l).find(([,g])=>g&&g.recommended);i=p&&p[0]||Object.keys(l)[0],(r=this.plugin.logger)==null||r.debug("[SETTINGS] Selected Embedding default from plugin.settings",{provider:e,model:i})}}catch(l){(o=this.plugin.logger)==null||o.warn("[SETTINGS] Failed deriving embedding defaults from plugin.settings",{error:l})}i||(i={openai:"text-embedding-3-small",google:"text-embedding-004",voyage:"voyage-3.5-lite",ollama:"nomic-embed-text"}[e],(a=this.plugin.logger)==null||a.debug("[SETTINGS] Falling back to internal embedding defaults",{provider:e,model:i})),i&&(this.plugin.settings.embeddingModel=i),this.plugin.saveSettings(),this.display()}async testLLMConnection(e){var i,s,r,o;const t=e.textContent;e.textContent="Testing...",e.addClass("is-loading");try{(i=this.plugin.logger)==null||i.debug("Testing LLM connection");const a=await this.plugin.graphitiService.testLLMConnection();if(a.success){(s=this.plugin.logger)==null||s.debug("LLM connection test successful",{message:a.message,latency:a.latency});const l=a.latency?` (${a.latency}ms)`:"";new P.Notice(`[SUCCESS] LLM connection successful${l}`)}else(r=this.plugin.logger)==null||r.error("LLM connection test failed",{message:a.message}),new P.Notice(`[ERROR] LLM connection failed: ${a.message}`)}catch(a){(o=this.plugin.logger)==null||o.error("LLM connection test error",{error:a});const l=a instanceof Error?a.message:"Unknown error";new P.Notice(`[ERROR] LLM connection failed: ${l}`)}finally{e.textContent=t,e.removeClass("is-loading")}}async testEmbeddingConnection(e){var i,s,r,o;const t=e.textContent;e.textContent="Testing...",e.addClass("is-loading");try{(i=this.plugin.logger)==null||i.debug("Testing embedding connection");const a=await this.plugin.graphitiService.testEmbeddingConnection();if(a.success){(s=this.plugin.logger)==null||s.debug("Embedding connection test successful",{message:a.message,latency:a.latency});const l=a.latency?` (${a.latency}ms)`:"";new P.Notice(`[SUCCESS] Embedding connection successful${l}`)}else(r=this.plugin.logger)==null||r.error("Embedding connection test failed",{message:a.message}),new P.Notice(`[ERROR] Embedding connection failed: ${a.message}`)}catch(a){(o=this.plugin.logger)==null||o.error("Embedding connection test error",{error:a});const l=a instanceof Error?a.message:"Unknown error";new P.Notice(`[ERROR] Embedding connection failed: ${l}`)}finally{e.textContent=t,e.removeClass("is-loading")}}async testProviderCombination(e){var i,s,r,o;const t=e.textContent;e.textContent="Testing...",e.addClass("is-loading");try{(i=this.plugin.logger)==null||i.debug("Testing provider combination");const a=await this.plugin.graphitiService.testProviderCombination();if(a.success){(s=this.plugin.logger)==null||s.debug("Provider combination test successful",{message:a.message,latency:a.latency});const l=a.latency?` (${a.latency}ms)`:"";new P.Notice(`[SUCCESS] Provider combination working${l}`)}else(r=this.plugin.logger)==null||r.error("Provider combination test failed",{message:a.message}),new P.Notice(`[ERROR] Provider combination failed: ${a.message}`)}catch(a){(o=this.plugin.logger)==null||o.error("Provider combination test error",{error:a});const l=a instanceof Error?a.message:"Unknown error";new P.Notice(`[ERROR] Provider combination failed: ${l}`)}finally{e.textContent=t,e.removeClass("is-loading")}}async testFullPipeline(e){var i,s,r;const t=e.textContent;e.textContent="Testing...",e.addClass("is-loading");try{const o=await this.plugin.graphitiService.testFullPipeline();if(o.success){(i=this.plugin.logger)==null||i.debug("Full pipeline test successful",{message:o.message,latency:o.latency});const a=o.latency?` (${o.latency}ms)`:"";new P.Notice(`[SUCCESS] Full pipeline test successful${a}`)}else(s=this.plugin.logger)==null||s.error("Full pipeline test failed",{message:o.message}),new P.Notice(`[ERROR] Full pipeline test failed: ${o.message}`)}catch(o){(r=this.plugin.logger)==null||r.error("Full pipeline test error",{error:o});const a=o instanceof Error?o.message:"Unknown error";new P.Notice(`[ERROR] Full pipeline test failed: ${a}`)}finally{e.textContent=t,e.removeClass("is-loading")}}async validateAPIKeys(e){var i,s,r,o;const t=e.textContent;e.textContent="Validating...",e.addClass("is-loading");try{(i=this.plugin.logger)==null||i.debug("Validating API keys");const a=await this.plugin.graphitiService.validateAPIKeys();a.success?((s=this.plugin.logger)==null||s.debug("API key validation successful",{message:a.message}),new P.Notice(`[SUCCESS] API keys valid: ${a.message}`)):((r=this.plugin.logger)==null||r.error("API key validation failed",{message:a.message}),new P.Notice(`[ERROR] API key validation failed: ${a.message}`))}catch(a){(o=this.plugin.logger)==null||o.error("API key validation error",{error:a});const l=a instanceof Error?a.message:"Unknown error";new P.Notice(`[ERROR] API key validation failed: ${l}`)}finally{e.textContent=t,e.removeClass("is-loading")}}updateDatabaseDefaults(e){this.plugin.saveSettings(),this.display()}async testDatabaseConnection(e){var i,s,r,o;const t=e.textContent;e.textContent="Testing...",e.addClass("is-loading");try{(i=this.plugin.logger)==null||i.debug("[DATABASE] Testing database connection...");const a=await this.plugin.graphitiService.testDatabaseConnection();if(a.success){(s=this.plugin.logger)==null||s.debug("[DATABASE] Database connection test successful",{message:a.message,latency:a.latency});const l=a.latency?` (${a.latency}ms)`:"";new P.Notice(`[SUCCESS] Database connection successful${l}`)}else(r=this.plugin.logger)==null||r.error("[DATABASE] Database connection test failed",{message:a.message}),new P.Notice(`[ERROR] Database connection failed: ${a.message}`)}catch(a){(o=this.plugin.logger)==null||o.error("[DATABASE] Database connection test error",{error:a});const l=a instanceof Error?a.message:"Unknown error";new P.Notice(`[ERROR] Database connection failed: ${l}`)}finally{e.textContent=t,e.removeClass("is-loading")}}async initializeDatabaseSchema(e){var i,s,r,o;const t=e.textContent;e.textContent="Initializing...",e.addClass("is-loading");try{(i=this.plugin.logger)==null||i.debug("[DATABASE] Initializing database schema...");const a=await this.plugin.graphitiService.initializeDatabaseSchema();a.success?((s=this.plugin.logger)==null||s.debug("[DATABASE] Database schema initialization successful",{message:a.message}),new P.Notice("[SUCCESS] Database schema initialized successfully")):((r=this.plugin.logger)==null||r.error("[DATABASE] Database schema initialization failed",{message:a.message}),new P.Notice(`[ERROR] Schema initialization failed: ${a.message}`))}catch(a){(o=this.plugin.logger)==null||o.error("[DATABASE] Database schema initialization error",{error:a});const l=a instanceof Error?a.message:"Unknown error";new P.Notice(`[ERROR] Schema initialization failed: ${l}`)}finally{e.textContent=t,e.removeClass("is-loading")}}async testMCPConnection(e){var i,s,r;const t=e.textContent;e.textContent="Testing...",e.addClass("is-loading");try{(i=this.plugin.logger)==null||i.debug("[MCP] Testing MCP server connection..."),await new Promise(a=>setTimeout(a,1e3));const o={success:!0,message:"MCP server responding [MOCK]",latency:23};o.success&&((s=this.plugin.logger)==null||s.debug("[MCP] MCP server connection test successful",{message:o.message,latency:o.latency}),new P.Notice(`[SUCCESS] MCP server connection successful (${o.latency}ms)`))}catch(o){(r=this.plugin.logger)==null||r.error("[MCP] MCP server connection test error",{error:o});const a=o instanceof Error?o.message:"Unknown error";new P.Notice(`[ERROR] MCP server connection failed: ${a}`)}finally{e.textContent=t,e.removeClass("is-loading")}}async exportSettings(){try{const e=JSON.stringify(this.plugin.settings,null,2),t=new Blob([e],{type:"application/json"}),i=URL.createObjectURL(t),s=document.createElement("a");s.href=i,s.download="graphiti-plugin-settings.json",s.click(),URL.revokeObjectURL(i),new P.Notice("[SUCCESS] Settings exported successfully")}catch(e){const t=e instanceof Error?e.message:"Unknown error";new P.Notice(`[ERROR] Failed to export settings: ${t}`)}}async importSettings(){try{const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=async t=>{var o;const i=(o=t.target.files)==null?void 0:o[0];if(!i)return;const s=await i.text(),r=JSON.parse(s);this.plugin.settings={...this.plugin.settings,...r},await this.plugin.saveSettings(),this.display(),new P.Notice("[SUCCESS] Settings imported successfully")},e.click()}catch(e){const t=e instanceof Error?e.message:"Unknown error";new P.Notice(`[ERROR] Failed to import settings: ${t}`)}}async resetToDefaults(){await this.confirmReset()&&(await this.plugin.loadSettings(),this.display(),new P.Notice("[INFO] Settings reset to defaults"))}async confirmReset(){return new Promise(e=>{const t=document.createElement("div");t.className="modal",t.innerHTML=`
				<div class="modal-container">
					<div class="modal-bg"></div>
					<div class="modal-content">
						<div class="modal-header">
							<h3>Reset Settings</h3>
						</div>
						<div class="modal-body">
							<p>Are you sure you want to reset all settings to their default values? This action cannot be undone.</p>
						</div>
						<div class="modal-footer">
							<button class="mod-cta" id="confirm-reset">Reset</button>
							<button id="cancel-reset">Cancel</button>
						</div>
					</div>
				</div>
			`,document.body.appendChild(t);const i=t.querySelector("#confirm-reset"),s=t.querySelector("#cancel-reset");i.onclick=()=>{document.body.removeChild(t),e(!0)},s.onclick=()=>{document.body.removeChild(t),e(!1)},t.onclick=r=>{(r.target===t||r.target===t.querySelector(".modal-bg"))&&(document.body.removeChild(t),e(!1))}})}async checkPythonDependencies(e){var i,s,r,o;const t=e.textContent;e.textContent="Checking...",e.setAttribute("disabled","true");try{(i=this.plugin.logger)==null||i.debug("Checking Python dependencies");const a=await this.plugin.graphitiService.testConnection();a.success?((s=this.plugin.logger)==null||s.debug("Python dependencies check successful",{message:a.message}),new P.Notice("[SUCCESS] Python dependencies are installed and up to date")):((r=this.plugin.logger)==null||r.error("Python dependencies check failed",{message:a.message}),new P.Notice(`[ERROR] Dependencies missing or outdated: ${a.message}`,5e3))}catch(a){(o=this.plugin.logger)==null||o.error("Failed to check Python dependencies",{error:a});const l=a instanceof Error?a.message:"Unknown error";new P.Notice(`[ERROR] Failed to check dependencies: ${l}`,5e3)}finally{e.textContent=t,e.removeAttribute("disabled")}}async viewLogFile(){var e;try{const i=this.plugin.app.vault.adapter.basePath,s=Ge.join(i,".obsidian","plugins","megamem-mcp"),r=Ge.join(s,"logs"),{shell:o}=require("electron");o.openPath(r),new P.Notice("[INFO] Log files directory opened in file explorer")}catch(t){(e=this.plugin.logger)==null||e.error("[LOGS] Failed to open log directory",{error:t});const i=t instanceof Error?t.message:"Unknown error";new P.Notice(`[ERROR] Failed to open log directory: ${i}`)}}async installPythonDependencies(e){var i,s,r,o;const t=e.textContent;e.textContent="Installing...",e.setAttribute("disabled","true");try{(i=this.plugin.logger)==null||i.debug("Installing Python dependencies");const a=await this.plugin.graphitiService.installDependencies(l=>{var p;(p=this.plugin.logger)==null||p.debug("Installation progress",{message:l});const d=l.length>30?l.substring(0,30)+"...":l;e.textContent=d,new P.Notice(`[INFO] ${l}`,2e3)});a.success?((s=this.plugin.logger)==null||s.debug("Python dependencies installation successful",{message:a.message}),new P.Notice("[SUCCESS] Python dependencies installed successfully",5e3)):((r=this.plugin.logger)==null||r.error("Python dependencies installation failed",{message:a.message}),new P.Notice(`[ERROR] Installation failed: ${a.message}`,8e3))}catch(a){(o=this.plugin.logger)==null||o.error("Failed to install Python dependencies",{error:a});const l=a instanceof Error?a.message:"Unknown error";new P.Notice(`[ERROR] Installation failed: ${l}`,8e3)}finally{e.textContent=t,e.removeAttribute("disabled")}}async runManualSyncTest(e){var i,s,r,o;const t=e.textContent;e.textContent="Selecting Note...",e.setAttribute("disabled","true");try{const a=this.app.vault.getMarkdownFiles();if(a.length===0){new P.Notice("[INFO] No markdown files found in vault");return}const l=await this.selectNoteForSync(a);if(!l){new P.Notice("[INFO] No note selected for sync test");return}e.textContent="Syncing...",(i=this.plugin.logger)==null||i.debug("Starting manual sync test for note",{path:l.path});const d=this.app.vault.adapter.path.resolve(this.app.vault.adapter.basePath,l.path),p=await this.plugin.graphitiService.testManualSync(d);p.status==="success"?((s=this.plugin.logger)==null||s.debug("Manual sync test successful",p),new P.Notice(`[SUCCESS] Manual sync successful! Processed ${p.processed} note(s), ${p.nodeTypesLoaded} node types, ${p.edgeTypesLoaded} edge types`,8e3)):((r=this.plugin.logger)==null||r.error("Manual sync test failed",p),new P.Notice(`[ERROR] Manual sync failed: ${p.message}`,8e3))}catch(a){(o=this.plugin.logger)==null||o.error("Manual sync test error",{error:a});const l=a instanceof Error?a.message:"Unknown error";new P.Notice(`[ERROR] Manual sync test failed: ${l}`,8e3)}finally{e.textContent=t,e.removeAttribute("disabled")}}async selectNoteForSync(e){return new Promise(t=>{const i=document.createElement("div");i.className="modal",i.innerHTML=`
				<div class="modal-container">
					<div class="modal-bg"></div>
					<div class="modal-content">
						<div class="modal-header">
							<h3>Select Note for Manual Sync Test</h3>
						</div>
						<div class="modal-body">
							<p>Choose a note to test the manual sync process:</p>
							<div style="max-height: 300px; overflow-y: auto;">
								${e.map((o,a)=>`<div style="padding: 8px; border: 1px solid var(--background-modifier-border); margin: 4px 0; cursor: pointer; border-radius: 4px;" data-file-index="${a}">
										<strong>${o.basename}</strong><br>
										<small style="color: var(--text-muted);">${o.path}</small>
									</div>`).join("")}
							</div>
						</div>
						<div class="modal-footer">
							<button id="cancel-select">Cancel</button>
						</div>
					</div>
				</div>
			`,document.body.appendChild(i),i.querySelectorAll("[data-file-index]").forEach(o=>{o.addEventListener("click",()=>{const a=parseInt(o.getAttribute("data-file-index")||"0"),l=e[a];document.body.removeChild(i),t(l)})});const r=i.querySelector("#cancel-select");r.onclick=()=>{document.body.removeChild(i),t(null)},i.onclick=o=>{(o.target===i||o.target===i.querySelector(".modal-bg"))&&(document.body.removeChild(i),t(null))}})}async updateModelStatusIconForDropdown(e,t,i){await this.ollamaSettings.updateModelStatusIconForDropdown(e,t,i)}async refreshOllamaStatus(e,t){await this.ollamaSettings.refreshOllamaStatus(e,t)}async startOllamaService(e,t){await this.ollamaSettings.startOllamaService(e,t)}async handleOllamaInstallation(){await this.ollamaSettings.handleOllamaInstallation()}showOllamaInstallationModal(){this.ollamaSettings.showOllamaInstallationModal()}async reloadSyncDaemon(e){var i,s,r,o,a,l,d,p,g,m,f;const t=e.textContent;e.textContent="Reloading...",e.addClass("is-loading"),e.setAttribute("disabled","true");try{if((i=this.plugin.logger)==null||i.info("[DAEMON-RELOAD] Starting daemon reload"),!this.plugin.settings.loadDaemonOnLaunch||!this.plugin.settings.experimentalDaemonMode){(s=this.plugin.logger)==null||s.error("[DAEMON-RELOAD] Daemon preloading not enabled",{loadDaemonOnLaunch:this.plugin.settings.loadDaemonOnLaunch,experimentalDaemonMode:this.plugin.settings.experimentalDaemonMode}),new P.Notice("[ERROR] Daemon preloading is not enabled");return}const b=this.plugin.pythonDaemonBridge;if((r=this.plugin.logger)==null||r.debug("[DAEMON-RELOAD] Bridge access check",{bridgeExists:!!b,bridgeRunning:b==null?void 0:b.isRunning()}),!b){(o=this.plugin.logger)==null||o.error("[DAEMON-RELOAD] Daemon bridge not available",{pluginKeys:Object.keys(this.plugin).filter(w=>w.includes("daemon")||w.includes("bridge"))}),new P.Notice("[ERROR] Daemon bridge not available");return}const c=b.getStatus();(a=this.plugin.logger)==null||a.info("[DAEMON-RELOAD] Current daemon status",c),e.textContent="Stopping daemon...",(l=this.plugin.logger)==null||l.info("[DAEMON-RELOAD] Initiating daemon shutdown"),await b.shutdown(),(d=this.plugin.logger)==null||d.info("[DAEMON-RELOAD] Daemon shutdown complete"),e.textContent="Starting daemon...",await new Promise(w=>setTimeout(w,1e3)),(p=this.plugin.logger)==null||p.info("[DAEMON-RELOAD] Initiating daemon preload"),await b.preloadDaemon(),(g=this.plugin.logger)==null||g.info("[DAEMON-RELOAD] Daemon preload complete");const v=b.getStatus();(m=this.plugin.logger)==null||m.info("[DAEMON-RELOAD] New daemon status",v),new P.Notice("[SUCCESS] Sync daemon reloaded successfully")}catch(b){(f=this.plugin.logger)==null||f.error("[DAEMON-RELOAD] Failed to reload daemon",{error:b});const c=b instanceof Error?b.message:"Unknown error";new P.Notice(`[ERROR] Failed to reload daemon: ${c}`)}finally{e.textContent=t,e.removeClass("is-loading"),e.removeAttribute("disabled")}}async showVaultManagementModal(){var e;try{const t=this.plugin.vaultRegistryService.getAllVaults(),i=document.createElement("div");i.style.cssText=`
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background: rgba(0, 0, 0, 0.8);
				display: flex;
				align-items: center;
				justify-content: center;
				z-index: 1000;
			`;const s=document.createElement("div");s.style.cssText=`
				background: var(--background-primary);
				border: 1px solid var(--background-modifier-border);
				border-radius: 8px;
				padding: 24px;
				max-width: 800px;
				width: 90%;
				max-height: 80%;
				overflow: auto;
			`,s.innerHTML=`
				<h3 style="margin: 0 0 16px 0;">Vault Registry (vaults.json)</h3>
				<p style="margin: 0 0 16px 0; color: var(--text-muted); font-size: 0.9em;">
					Current vault configuration from vaults.json. This file is auto-generated and managed by the plugin.
				</p>
			`,t.length===0?s.innerHTML+=`
					<div style="padding: 16px; background: var(--background-secondary); border-radius: 6px; color: var(--text-muted);">
						No vaults registered yet. The current vault will be auto-registered when WebSocket connects.
					</div>
				`:t.forEach(a=>{var d,p;const l=s.createDiv();l.style.cssText=`
						padding: 12px;
						margin-bottom: 12px;
						background: var(--background-secondary);
						border: 1px solid var(--background-modifier-border);
						border-radius: 6px;
					`,l.innerHTML=`
						<div style="font-weight: 600; margin-bottom: 8px;">${a.name}</div>
						<div style="font-size: 0.9em; color: var(--text-muted); line-height: 1.6;">
							<div><strong>Path:</strong> ${a.path}</div>
							<div><strong>Database:</strong> ${a.configuration.database.type} (${a.configuration.database.host}:${a.configuration.database.port}/${a.configuration.database.database})</div>
							<div><strong>Embedding:</strong> ${((d=a.configuration.embedding)==null?void 0:d.provider)||"not set"} - ${((p=a.configuration.embedding)==null?void 0:p.model)||"not set"}</div>
							<div><strong>Status:</strong> ${a.status.connected?"Connected":"Disconnected"}</div>
						</div>
					`});const r=s.createDiv();r.style.cssText=`
				margin-top: 16px;
				display: flex;
				gap: 12px;
				justify-content: flex-end;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsiLi4vc3JjL3V0aWxzL0xvZ2dlci50cyIsIi4uL3NyYy91dGlscy9kZWJvdW5jZS50cyIsIi4uL3NyYy91dGlscy9QbHVnaW5EZXRlY3Rpb25IZWxwZXIudHMiLCIuLi9zcmMvc2VydmljZXMvV2ViU29ja2V0U2VydmljZS50cyIsIi4uL3NyYy9zZXJ2aWNlcy9TeW5jUmVnaXN0cnlTZXJ2aWNlLnRzIiwiLi4vc3JjL3NlcnZpY2VzL1ZhdWx0UmVnaXN0cnlTZXJ2aWNlLnRzIiwiLi4vc3JjL3NlcnZpY2VzL1NjaGVtYURpc2NvdmVyeVNlcnZpY2UudHMiLCIuLi9zcmMvc2VydmljZXMvTm90ZVNlbGVjdGlvblNlcnZpY2UudHMiLCIuLi9ub2RlX21vZHVsZXMvanMteWFtbC9kaXN0L2pzLXlhbWwubWpzIiwiLi4vc3JjL3V0aWxzL0Zyb250bWF0dGVyVXRpbHMudHMiLCIuLi9zcmMvdHlwZXMvU3luY1N0YXR1cy50cyIsIi4uL3NyYy9zZXJ2aWNlcy9TeW5jU3RhdHVzTWFuYWdlci50cyIsIi4uL3NyYy9zZXJ2aWNlcy9NQ1BGb2xkZXJSZXNvbHZlci50cyIsIi4uL3NyYy9zZXJ2aWNlcy9QeXRob25JbnN0YWxsZXIudHMiLCIuLi9zcmMvc2VydmljZXMvR3JhcGhpdGlTZXJ2aWNlLnRzIiwiLi4vc3JjL3NlcnZpY2VzL1B5dGhvbkRhZW1vbkJyaWRnZS50cyIsIi4uL3NyYy9zZXJ2aWNlcy9TaW1wbGVMTE1TZXJ2aWNlLnRzIiwiLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC91dGlscy5qcyIsIi4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvZG9tLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC9saWZlY3ljbGUuanMiLCIuLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL3NjaGVkdWxlci5qcyIsIi4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvdHJhbnNpdGlvbnMuanMiLCIuLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL2F3YWl0X2Jsb2NrLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC9lYWNoLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC9Db21wb25lbnQuanMiLCIuLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9zaGFyZWQvdmVyc2lvbi5qcyIsIi4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvZGlzY2xvc2UtdmVyc2lvbi9pbmRleC5qcyIsIi4uL3NyYy9jb21wb25lbnRzL09ic2lkaWFuSWNvbi5zdmVsdGUiLCIuLi9zcmMvY29tcG9uZW50cy9TY2hlbWFNYW5hZ2VyLnN2ZWx0ZSIsIi4uL3NyYy92aWV3cy9TY2hlbWFNYW5hZ2VyVmlldy50cyIsIi4uL3NyYy9jb21wb25lbnRzL1N5bmNNb2RhbC5zdmVsdGUiLCIuLi9zcmMvdmlld3MvU3luY01hbmFnZXJWaWV3LnRzIiwiLi4vc3JjL3VpL0VuaGFuY2VkU3luY1VJLnRzIiwiLi4vc3JjL3NldHRpbmdzL0xMTURlZmF1bHRzLnRzIiwiLi4vc3JjL3V0aWxzL0ZvbGRlclN1Z2dlc3QudHMiLCIuLi9zcmMvdXRpbHMvUHJvY2Vzc0RldGVjdGlvbi50cyIsIi4uL3NyYy9zZXJ2aWNlcy9PbGxhbWFTZXJ2aWNlLnRzIiwiLi4vc3JjL3NldHRpbmdzL09sbGFtYVNldHRpbmdzLnRzIiwiLi4vc3JjL3NldHRpbmdzL01DUFRvb2xTZXR0aW5ncy50cyIsIi4uL3NyYy91aS9EZXBlbmRlbmN5U3RhdHVzTW9kYWwudHMiLCIuLi9zcmMvc2V0dGluZ3MvU2V0dGluZ3NUYWIudHMiLCIuLi9zcmMvdHlwZXMvU2V0dGluZ3MudHMiLCIuLi9zcmMvbWFpbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQbHVnaW4sIG5vcm1hbGl6ZVBhdGggfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IGFwcGVuZEZpbGVTeW5jLCBleGlzdHNTeW5jLCBta2RpclN5bmMgfSBmcm9tICdmcyc7XHJcbmltcG9ydCB7IGpvaW4gfSBmcm9tICdwYXRoJztcclxuXHJcbi8qKlxyXG4gKiBMb2dnZXIgY2xhc3MgZm9yIEdyYXBoaXRpIHBsdWdpbiB3aXRoIGZpbGUtYmFzZWQgbG9nZ2luZ1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEdyYXBoaXRpTG9nZ2VyIHtcclxuICAgIHByaXZhdGUgcGx1Z2luOiBQbHVnaW47XHJcbiAgICBwcml2YXRlIGNvbnNvbGlkYXRlZExvZ1BhdGg6IHN0cmluZyA9ICcnO1xyXG4gICAgcHJpdmF0ZSBkZWJ1Z01vZGU6IGJvb2xlYW47XHJcbiAgICBwcml2YXRlIGNvbnNvbGVQcmVmaXggPSAnTWVnYU1lbTonO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgc2Vzc2lvbkhlYWRlcldyaXR0ZW46IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwbHVnaW46IFBsdWdpbiwgZGVidWdNb2RlOiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuICAgICAgICB0aGlzLmRlYnVnTW9kZSA9IGRlYnVnTW9kZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW5pdCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmluaXRpYWxpemVDb25zb2xpZGF0ZWRMb2coKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBAcHVycG9zZTogSW5pdGlhbGl6ZSBsb2cgZmlsZSB3aXRoIHRydW5jYXRpb24gYW5kIHNpbmdsZSBzZXNzaW9uIG1hcmtlciBAZGVwZW5kczogZnMgbW9kdWxlIEByZXN1bHRzOiBDbGVhbiBsb2cgZmlsZSB1bmRlciAxMGsgbGluZXMgd2l0aCBvbmUgc2Vzc2lvbiBwZXIgYXBwIGxhdW5jaFxyXG4gICAgcHJpdmF0ZSBpbml0aWFsaXplQ29uc29saWRhdGVkTG9nKCk6IHZvaWQge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5wbHVnaW4uYXBwIHx8ICF0aGlzLnBsdWdpbi5hcHAudmF1bHQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYCR7dGhpcy5jb25zb2xlUHJlZml4fSBbRVJST1JdIHRoaXMucGx1Z2luLmFwcC52YXVsdCBpcyB1bmRlZmluZWQgZHVyaW5nIGxvZ2dlciBpbml0aWFsaXphdGlvbi5gKTtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUGx1Z2luIGFwcC52YXVsdCBub3QgYXZhaWxhYmxlIGR1cmluZyBsb2dnZXIgaW5pdGlhbGl6YXRpb24nKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmFkYXB0ZXI7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgY29uc3QgdmF1bHRQYXRoID0gYWRhcHRlci5iYXNlUGF0aDtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHBsdWdpblBhdGggPSBqb2luKHZhdWx0UGF0aCwgJy5vYnNpZGlhbicsICdwbHVnaW5zJywgJ21lZ2FtZW0tbWNwJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGxvZ3NEaXIgPSBqb2luKHBsdWdpblBhdGgsICdsb2dzJyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWV4aXN0c1N5bmMobG9nc0RpcikpIHtcclxuICAgICAgICAgICAgICAgIG1rZGlyU3luYyhsb2dzRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5jb25zb2xpZGF0ZWRMb2dQYXRoID0gam9pbihsb2dzRGlyLCAnY29uc29saWRhdGVkLmxvZycpO1xyXG5cclxuICAgICAgICAgICAgLy8gVHJ1bmNhdGUgbG9nIGlmID4gMTBrIGxpbmVzXHJcbiAgICAgICAgICAgIHRoaXMudHJ1bmNhdGVMb2dJZk5lZWRlZCgpO1xyXG5cclxuICAgICAgICAgICAgLy8gV3JpdGUgc2Vzc2lvbiBoZWFkZXIgb25seSBvbmNlIHBlciBhcHAgbGF1bmNoXHJcbiAgICAgICAgICAgIGlmICghR3JhcGhpdGlMb2dnZXIuc2Vzc2lvbkhlYWRlcldyaXR0ZW4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMud3JpdGVUb0NvbnNvbGlkYXRlZExvZygnXFxuJyArICc9Jy5yZXBlYXQoODApKTtcclxuICAgICAgICAgICAgICAgIHRoaXMud3JpdGVUb0NvbnNvbGlkYXRlZExvZyhgTkVXIFNFU1NJT046ICR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfWApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy53cml0ZVRvQ29uc29saWRhdGVkTG9nKCc9Jy5yZXBlYXQoODApKTtcclxuICAgICAgICAgICAgICAgIEdyYXBoaXRpTG9nZ2VyLnNlc3Npb25IZWFkZXJXcml0dGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGAke3RoaXMuY29uc29sZVByZWZpeH0gRmFpbGVkIHRvIGluaXRpYWxpemUgY29uc29saWRhdGVkIGxvZzpgLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdHJ1bmNhdGVMb2dJZk5lZWRlZCgpOiB2b2lkIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoIWV4aXN0c1N5bmModGhpcy5jb25zb2xpZGF0ZWRMb2dQYXRoKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgeyByZWFkRmlsZVN5bmMsIHdyaXRlRmlsZVN5bmMgfSA9IHJlcXVpcmUoJ2ZzJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSByZWFkRmlsZVN5bmModGhpcy5jb25zb2xpZGF0ZWRMb2dQYXRoLCAndXRmLTgnKTtcclxuICAgICAgICAgICAgY29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KCdcXG4nKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChsaW5lcy5sZW5ndGggPiAxMDAwMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qga2VwdCA9IGxpbmVzLnNsaWNlKC0xMDAwMCk7XHJcbiAgICAgICAgICAgICAgICB3cml0ZUZpbGVTeW5jKHRoaXMuY29uc29saWRhdGVkTG9nUGF0aCwga2VwdC5qb2luKCdcXG4nKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAvLyBTaWxlbnQgZmFpbCAtIGRvbid0IGJyZWFrIGxvZ2dlciBpbml0IG92ZXIgdHJ1bmNhdGlvblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHdyaXRlVG9GaWxlKG1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcclxuICAgICAgICAgICAgLy8gT25seSB3cml0ZSB0byBjb25zb2xpZGF0ZWQgbG9nIC0gbm8gaW5kaXZpZHVhbCB0aW1lc3RhbXBlZCBmaWxlc1xyXG4gICAgICAgICAgICB0aGlzLndyaXRlVG9Db25zb2xpZGF0ZWRMb2coYFske3RpbWVzdGFtcH1dICR7bWVzc2FnZX1gKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAvLyBGYWxsYmFjayB0byBjb25zb2xlIGlmIGZpbGUgd3JpdGluZyBmYWlsc1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGAke3RoaXMuY29uc29sZVByZWZpeH0gRmFpbGVkIHRvIHdyaXRlIHRvIGxvZyBmaWxlOmAsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB3cml0ZVRvQ29uc29saWRhdGVkTG9nKG1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnNvbGlkYXRlZExvZ1BhdGgpIHtcclxuICAgICAgICAgICAgICAgIGFwcGVuZEZpbGVTeW5jKHRoaXMuY29uc29saWRhdGVkTG9nUGF0aCwgbWVzc2FnZSArICdcXG4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIC8vIEZhaWwgc2lsZW50bHkgZm9yIGNvbnNvbGlkYXRlZCBsb2cgdG8gYXZvaWQgcmVjdXJzaW9uXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZm9ybWF0TWVzc2FnZShsZXZlbDogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcsIGRhdGE/OiBhbnkpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBmb3JtYXR0ZWRNZXNzYWdlID0gYFske2xldmVsfV0gJHttZXNzYWdlfWA7XHJcbiAgICAgICAgaWYgKGRhdGEgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWRNZXNzYWdlICs9IGBcXG4gIEVycm9yOiAke2RhdGEubWVzc2FnZX1cXG4gIFN0YWNrOiAke2RhdGEuc3RhY2t9YDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgICAgIGZvcm1hdHRlZE1lc3NhZ2UgKz0gYFxcbiAgRGF0YTogJHtKU09OLnN0cmluZ2lmeShkYXRhLCBudWxsLCAyKX1gO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZm9ybWF0dGVkTWVzc2FnZSArPSBgXFxuICBEYXRhOiAke2RhdGF9YDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZm9ybWF0dGVkTWVzc2FnZTtcclxuICAgIH1cclxuXHJcbiAgICBpbmZvKG1lc3NhZ2U6IHN0cmluZywgZGF0YT86IGFueSk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZCA9IHRoaXMuZm9ybWF0TWVzc2FnZSgnSU5GTycsIG1lc3NhZ2UsIGRhdGEpO1xyXG4gICAgICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYCR7dGhpcy5jb25zb2xlUHJlZml4fSAke21lc3NhZ2V9YCwgZGF0YSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYCR7dGhpcy5jb25zb2xlUHJlZml4fSAke21lc3NhZ2V9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMud3JpdGVUb0ZpbGUoZm9ybWF0dGVkKTtcclxuICAgIH1cclxuXHJcbiAgICBkZWJ1ZyhtZXNzYWdlOiBzdHJpbmcsIGRhdGE/OiBhbnkpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXRoaXMuZGVidWdNb2RlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZm9ybWF0dGVkID0gdGhpcy5mb3JtYXRNZXNzYWdlKCdERUJVRycsIG1lc3NhZ2UsIGRhdGEpO1xyXG4gICAgICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgJHt0aGlzLmNvbnNvbGVQcmVmaXh9IFtERUJVR10gJHttZXNzYWdlfWAsIGRhdGEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYCR7dGhpcy5jb25zb2xlUHJlZml4fSBbREVCVUddICR7bWVzc2FnZX1gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy53cml0ZVRvRmlsZShmb3JtYXR0ZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHdhcm4obWVzc2FnZTogc3RyaW5nLCBkYXRhPzogYW55KTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgZm9ybWF0dGVkID0gdGhpcy5mb3JtYXRNZXNzYWdlKCdXQVJOJywgbWVzc2FnZSwgZGF0YSk7XHJcbiAgICAgICAgaWYgKGRhdGEgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYCR7dGhpcy5jb25zb2xlUHJlZml4fSBbV0FSTl0gJHttZXNzYWdlfWAsIGRhdGEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgJHt0aGlzLmNvbnNvbGVQcmVmaXh9IFtXQVJOXSAke21lc3NhZ2V9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMud3JpdGVUb0ZpbGUoZm9ybWF0dGVkKTtcclxuICAgIH1cclxuXHJcbiAgICBlcnJvcihtZXNzYWdlOiBzdHJpbmcsIGVycm9yPzogRXJyb3IgfCBhbnkpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBmb3JtYXR0ZWQgPSB0aGlzLmZvcm1hdE1lc3NhZ2UoJ0VSUk9SJywgbWVzc2FnZSwgZXJyb3IpO1xyXG4gICAgICAgIGlmIChlcnJvciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYCR7dGhpcy5jb25zb2xlUHJlZml4fSBbRVJST1JdICR7bWVzc2FnZX1gLCBlcnJvcik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgJHt0aGlzLmNvbnNvbGVQcmVmaXh9IFtFUlJPUl0gJHttZXNzYWdlfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLndyaXRlVG9GaWxlKGZvcm1hdHRlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RGVidWcoZW5hYmxlZDogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZGVidWdNb2RlID0gZW5hYmxlZDtcclxuICAgICAgICAvLyBUaGUgbG9nZ2VyJ3MgZGVidWcgbW9kZSBpcyBub3cgc2V0LlxyXG4gICAgICAgIC8vIEl0IGlzIHVwIHRvIHRoZSBjYWxsZXIgKGUuZy4sIFNldHRpbmdzVGFiKSB0byBsb2cgdGhlIHN0YXRlIGNoYW5nZSBpZiBkZXNpcmVkLlxyXG4gICAgICAgIC8vIFRoaXMgcHJldmVudHMgcmVwZXRpdGl2ZSBsb2dnaW5nIGR1cmluZyBwbHVnaW4gaW5pdGlhbGl6YXRpb24gb3IgaW50ZXJuYWwgdXBkYXRlcy5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TG9nRmlsZVBhdGgoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25zb2xpZGF0ZWRMb2dQYXRoO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEhlbHBlciBtZXRob2QgdG8gbG9nIFB5dGhvbiBwcm9jZXNzIG91dHB1dFxyXG4gICAgbG9nUHl0aG9uT3V0cHV0KHNvdXJjZTogJ3N0ZG91dCcgfCAnc3RkZXJyJywgZGF0YTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgbGluZXMgPSBkYXRhLnNwbGl0KCdcXG4nKS5maWx0ZXIobGluZSA9PiBsaW5lLnRyaW0oKSk7XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xyXG4gICAgICAgICAgICAvLyBQUk9EVUNUSU9OIEZJWDogUHJldmVudCBtYXNzaXZlIExMTSBlcnJvciBvYmplY3QgZHVtcHMgaW4gbG9nc1xyXG4gICAgICAgICAgICBpZiAoc291cmNlID09PSAnc3RkZXJyJyAmJiB0aGlzLnNob3VsZEZpbHRlckVycm9yTGluZShsaW5lKSkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7IC8vIFNraXAgbWFzc2l2ZSBlcnJvciBkdW1wc1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBUcnVuY2F0ZSBleHRyZW1lbHkgbG9uZyBsaW5lcyB0byBwcmV2ZW50IGxvZyBibG9hdFxyXG4gICAgICAgICAgICBjb25zdCB0cnVuY2F0ZWRMaW5lID0gbGluZS5sZW5ndGggPiAxMDAwID8gbGluZS5zdWJzdHJpbmcoMCwgMTAwMCkgKyAnW1RSVU5DQVRFRF0nIDogbGluZTtcclxuICAgICAgICAgICAgdGhpcy53cml0ZVRvRmlsZShgW1BZVEhPTi0ke3NvdXJjZS50b1VwcGVyQ2FzZSgpfV0gJHt0cnVuY2F0ZWRMaW5lfWApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNob3VsZEZpbHRlckVycm9yTGluZShsaW5lOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICAvLyBGaWx0ZXIgb3V0IG1hc3NpdmUgTExNIGVycm9yIG9iamVjdCBkdW1wc1xyXG4gICAgICAgIGlmIChsaW5lLmluY2x1ZGVzKCdMTE0gZ2VuZXJhdGlvbiBmYWlsZWQgcGFyc2luZyBhcyBKU09OJykpIHtcclxuICAgICAgICAgICAgLy8gTG9nIG9ubHkgdGhlIGVycm9yIG1lc3NhZ2UsIG5vdCB0aGUgbWFzc2l2ZSBvYmplY3QgZHVtcCB0aGF0IGZvbGxvd3NcclxuICAgICAgICAgICAgdGhpcy53cml0ZVRvRmlsZShgW1BZVEhPTi1TVERFUlJdIFtFUlJPUl0gTExNIEpTT04gcGFyc2luZyBmYWlsZWQgLSBvYmplY3QgZHVtcCBmaWx0ZXJlZCBmb3IgbG9nIHJlYWRhYmlsaXR5YCk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gQWxsb3cgdGhpcyBsaW5lIGJ1dCBzdGFydCBmaWx0ZXJpbmcgdGhlIGR1bXBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEZpbHRlciBsaW5lcyB0aGF0IGFyZSBwYXJ0IG9mIG1hc3NpdmUgSlNPTiBvYmplY3QgZHVtcHNcclxuICAgICAgICBpZiAobGluZS5pbmNsdWRlcygnSW5wdXQgbWVzc2FnZXM6JykgfHxcclxuICAgICAgICAgICAgbGluZS5pbmNsdWRlcygnXCJwYXJ0c1wiOicpIHx8XHJcbiAgICAgICAgICAgIGxpbmUuaW5jbHVkZXMoJ1widmlkZW9fbWV0YWRhdGFcIjonKSB8fFxyXG4gICAgICAgICAgICBsaW5lLmluY2x1ZGVzKCdcInRob3VnaHRcIjonKSB8fFxyXG4gICAgICAgICAgICBsaW5lLmluY2x1ZGVzKCdcImlubGluZV9kYXRhXCI6JykgfHxcclxuICAgICAgICAgICAgbGluZS5pbmNsdWRlcygnXCJmaWxlX2RhdGFcIjonKSB8fFxyXG4gICAgICAgICAgICBsaW5lLmluY2x1ZGVzKCdcImZ1bmN0aW9uX2NhbGxcIjonKSB8fFxyXG4gICAgICAgICAgICBsaW5lLmluY2x1ZGVzKCdcImZ1bmN0aW9uX3Jlc3BvbnNlXCI6JykgfHxcclxuICAgICAgICAgICAgKGxpbmUudHJpbSgpLnN0YXJ0c1dpdGgoJ3snKSAmJiBsaW5lLmluY2x1ZGVzKCdcIicpKSB8fFxyXG4gICAgICAgICAgICAobGluZS50cmltKCkuc3RhcnRzV2l0aCgnWycpICYmIGxpbmUuaW5jbHVkZXMoJ1wiJykpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBGaWx0ZXIgb3V0IHRoZXNlIG9iamVjdCBkdW1wIGxpbmVzXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIEtlZXAgYWxsIG90aGVyIHN0ZGVyciBsaW5lc1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEhlbHBlciBtZXRob2QgdG8gbG9nIHN5c3RlbSBpbmZvcm1hdGlvblxyXG4gICAgbG9nU3lzdGVtSW5mbygpOiB2b2lkIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBHZXQgZ3JhcGhpdGkgdmVyc2lvbiBhc3luY2hyb25vdXNseVxyXG4gICAgICAgICAgICB0aGlzLmdldEdyYXBoaXRpVmVyc2lvbigpLnRoZW4oZ3JhcGhpdGlWZXJzaW9uID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVidWcoJ1N5c3RlbSBJbmZvcm1hdGlvbjonLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxhdGZvcm06IHByb2Nlc3MucGxhdGZvcm0sXHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZVZlcnNpb246IHByb2Nlc3MudmVyc2lvbixcclxuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICAgICAgb2JzaWRpYW5WZXJzaW9uOiB0aGlzLnBsdWdpbi5hcHAudmF1bHQuY29uZmlnPy52ZXJzaW9uIHx8ICd1bmtub3duJyxcclxuICAgICAgICAgICAgICAgICAgICBwbHVnaW5WZXJzaW9uOiB0aGlzLnBsdWdpbi5tYW5pZmVzdC52ZXJzaW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbklkOiB0aGlzLnBsdWdpbi5tYW5pZmVzdC5pZCxcclxuICAgICAgICAgICAgICAgICAgICBHcmFwaGl0aVZlcnNpb246IGdyYXBoaXRpVmVyc2lvblxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIExvZyBzeXN0ZW0gaW5mbyB3aXRob3V0IGdyYXBoaXRpIHZlcnNpb24gaWYgZGV0ZWN0aW9uIGZhaWxzXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlYnVnKCdTeXN0ZW0gSW5mb3JtYXRpb246Jywge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXRmb3JtOiBwcm9jZXNzLnBsYXRmb3JtLFxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGVWZXJzaW9uOiBwcm9jZXNzLnZlcnNpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgICAgIG9ic2lkaWFuVmVyc2lvbjogdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmNvbmZpZz8udmVyc2lvbiB8fCAndW5rbm93bicsXHJcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luVmVyc2lvbjogdGhpcy5wbHVnaW4ubWFuaWZlc3QudmVyc2lvbixcclxuICAgICAgICAgICAgICAgICAgICBwbHVnaW5JZDogdGhpcy5wbHVnaW4ubWFuaWZlc3QuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgR3JhcGhpdGlWZXJzaW9uOiAnZGV0ZWN0aW9uIGZhaWxlZCdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lcnJvcignRmFpbGVkIHRvIGRldGVjdCBncmFwaGl0aSB2ZXJzaW9uJywgZXJyb3IpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICB0aGlzLmVycm9yKCdGYWlsZWQgdG8gbG9nIHN5c3RlbSBpbmZvJywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBIZWxwZXIgbWV0aG9kIHRvIGdldCBhY3R1YWwgaW5zdGFsbGVkIGdyYXBoaXRpLWNvcmUgdmVyc2lvblxyXG4gICAgcHJpdmF0ZSBhc3luYyBnZXRHcmFwaGl0aVZlcnNpb24oKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBzcGF3biB9ID0gcmVxdWlyZSgnY2hpbGRfcHJvY2VzcycpO1xyXG4gICAgICAgICAgICAgICAgLy8gVHJ5IG11bHRpcGxlIG1ldGhvZHMgdG8gZ2V0IHRoZSB2ZXJzaW9uIChvbmx5IHByaW50IGZpbmFsIHJlc3VsdClcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZlcnNpb25TY3JpcHQgPSBgXHJcbmltcG9ydCBzeXNcclxudmVyc2lvbiA9IE5vbmVcclxuXHJcbnRyeTpcclxuICAgIGltcG9ydCBpbXBvcnRsaWIubWV0YWRhdGFcclxuICAgIHZlcnNpb24gPSBpbXBvcnRsaWIubWV0YWRhdGEudmVyc2lvbignZ3JhcGhpdGktY29yZScpXHJcbmV4Y2VwdDpcclxuICAgIHBhc3NcclxuXHJcbmlmIG5vdCB2ZXJzaW9uOlxyXG4gICAgdHJ5OlxyXG4gICAgICAgIGltcG9ydCBwa2dfcmVzb3VyY2VzXHJcbiAgICAgICAgdmVyc2lvbiA9IHBrZ19yZXNvdXJjZXMuZ2V0X2Rpc3RyaWJ1dGlvbignZ3JhcGhpdGktY29yZScpLnZlcnNpb25cclxuICAgIGV4Y2VwdDpcclxuICAgICAgICBwYXNzXHJcblxyXG5pZiBub3QgdmVyc2lvbjpcclxuICAgIHRyeTpcclxuICAgICAgICBpbXBvcnQgZ3JhcGhpdGlfY29yZVxyXG4gICAgICAgIHZlcnNpb24gPSBnZXRhdHRyKGdyYXBoaXRpX2NvcmUsICdfX3ZlcnNpb25fXycsIE5vbmUpXHJcbiAgICAgICAgaWYgbm90IHZlcnNpb246XHJcbiAgICAgICAgICAgIHZlcnNpb24gPSAnMC4xOC4wJ1xyXG4gICAgZXhjZXB0OlxyXG4gICAgICAgIHBhc3NcclxuXHJcbmlmIG5vdCB2ZXJzaW9uOlxyXG4gICAgdmVyc2lvbiA9ICd1bmtub3duJ1xyXG5cclxuIyBQcmludCBvbmx5IHRoZSBmaW5hbCB2ZXJzaW9uIHJlc3VsdFxyXG5wcmludCh2ZXJzaW9uKVxyXG5gO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHByb2Nlc3MgPSBzcGF3bigncHl0aG9uJywgWyctYycsIHZlcnNpb25TY3JpcHRdLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RkaW86IFsncGlwZScsICdwaXBlJywgJ3BpcGUnXVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IG91dHB1dCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgbGV0IGVycm9yID0gJyc7XHJcblxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5zdGRvdXQ/Lm9uKCdkYXRhJywgKGRhdGE6IEJ1ZmZlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dCArPSBkYXRhLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzLnN0ZGVycj8ub24oJ2RhdGEnLCAoZGF0YTogQnVmZmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IgKz0gZGF0YS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5vbignY2xvc2UnLCAoY29kZTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgPT09IDAgJiYgb3V0cHV0LnRyaW0oKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG91dHB1dC50cmltKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoYFB5dGhvbiBwcm9jZXNzIGZhaWxlZCAoY29kZSAke2NvZGV9KTogJHtlcnJvciB8fCAnTm8gb3V0cHV0J31gKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5vbignZXJyb3InLCAoZXJyOiBFcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoYEZhaWxlZCB0byBzdGFydCBQeXRob24gcHJvY2VzczogJHtlcnIubWVzc2FnZX1gKSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGBFeGNlcHRpb24gaW4gZ2V0R3JhcGhpdGlWZXJzaW9uOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZTxUIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkPihmbjogVCwgZGVsYXk6IG51bWJlcik6ICguLi5hcmdzOiBQYXJhbWV0ZXJzPFQ+KSA9PiB2b2lkIHtcbiAgbGV0IHRpbWVyOiBhbnk7XG4gIHJldHVybiAoLi4uYXJnczogUGFyYW1ldGVyczxUPikgPT4ge1xuICAgIGlmICh0aW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICB9XG4gICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IGZuKC4uLmFyZ3MpLCBkZWxheSk7XG4gIH07XG59IiwiLy8gQHZlc3NlbC1wcm90b2NvbDpCYWxkciBnb3Zlcm5zOltwbHVnaW4tZGV0ZWN0aW9ufGZlYXR1cmVdIGNvbnRleHQ6Q29uc29saWRhdGUgcGx1Z2luIGRldGVjdGlvbiBhbmQgY29uZmlnIHJlYWRpbmcgZm9yIFRlbXBsYXRlciBhbmQgUGVyaW9kaWMgTm90ZXNcbi8vIEBpbnRlci1kZXBlbmRlbmNpZXM6IFtzcmMvdXRpbHMvTG9nZ2VyLnRzLCBzcmMvdHlwZXMvU2V0dGluZ3MudHNdXG4vLyBAcHVycG9zZTogQ2VudHJhbGl6ZSBkZXRlY3Rpb24gYW5kIGNvbmZpZy1yZWFkaW5nIGZvciBPYnNpZGlhbiBwbHVnaW5zIHNvIGZvbGRlciByZXNvbHV0aW9uIGFuZCBvdGhlciBzZXJ2aWNlcyBjYW4gcmV1c2UgaXQuXG4vLyBAcmVzdWx0OiBQcm92aWRlcyBkZXRlY3RQbHVnaW5zKCksIHJlYWRUZW1wbGF0ZXJDb25maWcoKSwgcmVhZFBlcmlvZGljTm90ZXNDb25maWcoKSB3aXRoIHNhZmUgZGVmYXVsdHMgYW5kIHJvYnVzdCBlcnJvciBoYW5kbGluZ1xuLy8gQHNpZ25lZDogQy5CasO4cm5cblxuLyoqXG4gKiBQbHVnaW5EZXRlY3Rpb25IZWxwZXJcbiAqXG4gKiBVdGlsaXRpZXMgdG8gZGV0ZWN0IGluc3RhbGxlZCBPYnNpZGlhbiBwbHVnaW5zICh0ZW1wbGF0ZXIgYW5kIHBlcmlvZGljLW5vdGVzKVxuICogYW5kIHJlYWQgdGhlaXIgY29uZmlndXJhdGlvbiBmcm9tIHRoZSBwbHVnaW4gZGF0YS5qc29uIGZpbGVzIGluIHRoZSB2YXVsdC5cbiAqXG4gKiBGdW5jdGlvbnM6XG4gKiAgLSBkZXRlY3RQbHVnaW5zKGFwcCwgc2V0dGluZ3MpXG4gKiAgLSByZWFkVGVtcGxhdGVyQ29uZmlnKGFwcClcbiAqICAtIHJlYWRQZXJpb2RpY05vdGVzQ29uZmlnKGFwcClcbiAqXG4gKiBUaGUgZnVuY3Rpb25zIHVzZSBgYXBwLnZhdWx0LmFkYXB0ZXJgIHRvIHJlYWQgYC5vYnNpZGlhbi9wbHVnaW5zL3twbHVnaW4taWR9L2RhdGEuanNvbmAuXG4gKiBBbGwgbG9nZ2luZyB1c2VzIEdyYXBoaXRpTG9nZ2VyLlxuICpcbiAqIE5vdGU6IFRoaXMgZmlsZSBzaG91bGQgcmVtYWluIHB1cmUgdXRpbGl0eSBjb2RlIGFuZCBub3QgcGVyZm9ybSBzaWRlLWVmZmVjdHMgb3RoZXIgdGhhbiByZWFkaW5nIHBsdWdpbiBmaWxlcy5cbiAqL1xuXG5pbXBvcnQgdHlwZSB7IEFwcCB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IEdyYXBoaXRpTG9nZ2VyIH0gZnJvbSAnLi9Mb2dnZXInO1xuaW1wb3J0IHR5cGUge1xuXHRUZW1wbGF0ZXJJbnRlZ3JhdGlvbkNvbmZpZ1xufSBmcm9tICcuLi90eXBlcy9TZXR0aW5ncyc7XG5cbi8vIEB2ZXNzZWwtcHJvdG9jb2w6QmFsZHIgZ292ZXJuczpbcGx1Z2luLWRldGVjdGlvbnxmZWF0dXJlXSBjb250ZXh0OkNvbnNvbGlkYXRlIHBsdWdpbiBkZXRlY3Rpb24gYW5kIGNvbmZpZyByZWFkaW5nIGZvciBUZW1wbGF0ZXIgYW5kIFBlcmlvZGljIE5vdGVzXG4vLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbc3JjL3V0aWxzL0xvZ2dlci50cywgc3JjL3R5cGVzL1NldHRpbmdzLnRzXVxuLy8gQHB1cnBvc2U6IENlbnRyYWxpemUgZGV0ZWN0aW9uIGFuZCBjb25maWctcmVhZGluZyBmb3IgT2JzaWRpYW4gcGx1Z2lucyBzbyBmb2xkZXIgcmVzb2x1dGlvbiBhbmQgb3RoZXIgc2VydmljZXMgY2FuIHJldXNlIGl0LlxuLy8gQHJlc3VsdDogUHJvdmlkZXMgZGV0ZWN0UGx1Z2lucygpLCByZWFkVGVtcGxhdGVyQ29uZmlnKCksIHJlYWRQZXJpb2RpY05vdGVzQ29uZmlnKCkgd2l0aCBzYWZlIGRlZmF1bHRzIGFuZCByb2J1c3QgZXJyb3IgaGFuZGxpbmdcbi8vIEBzaWduZWQ6IEMuQmrDuHJuXG5cbi8qKlxuICogUGx1Z2luRGV0ZWN0aW9uSGVscGVyXG4gKlxuICogVXRpbGl0aWVzIHRvIGRldGVjdCBpbnN0YWxsZWQgT2JzaWRpYW4gcGx1Z2lucyAodGVtcGxhdGVyIGFuZCBwZXJpb2RpYy1ub3RlcylcbiAqIGFuZCByZWFkIHRoZWlyIGNvbmZpZ3VyYXRpb24gZnJvbSB0aGUgcGx1Z2luIGRhdGEuanNvbiBmaWxlcyBpbiB0aGUgdmF1bHQuXG4gKlxuICogRnVuY3Rpb25zOlxuICogIC0gZGV0ZWN0UGx1Z2lucyhhcHAsIHNldHRpbmdzKVxuICogIC0gcmVhZFRlbXBsYXRlckNvbmZpZyhhcHApXG4gKiAgLSByZWFkUGVyaW9kaWNOb3Rlc0NvbmZpZyhhcHApXG4gKlxuICogVGhlIGZ1bmN0aW9ucyB1c2UgYGFwcC52YXVsdC5hZGFwdGVyYCB0byByZWFkIGAub2JzaWRpYW4vcGx1Z2lucy97cGx1Z2luLWlkfS9kYXRhLmpzb25gLlxuICogQWxsIGxvZ2dpbmcgdXNlcyBHcmFwaGl0aUxvZ2dlci5cbiAqXG4gKiBOb3RlOiBUaGlzIGZpbGUgc2hvdWxkIHJlbWFpbiBwdXJlIHV0aWxpdHkgY29kZSBhbmQgbm90IHBlcmZvcm0gc2lkZS1lZmZlY3RzIG90aGVyIHRoYW4gcmVhZGluZyBwbHVnaW4gZmlsZXMuXG4gKi9cblxuXG4vKipcbiAqIFJldHVybnMgYSBHcmFwaGl0aUxvZ2dlciBpbnN0YW5jZSBpZiB0aGUgcGx1Z2luIGNvbnRleHQgaXMgYXZhaWxhYmxlLFxuICogb3RoZXJ3aXNlIHJldHVybnMgYSBuby1vcCBzaGltIGxvZ2dlci5cbiAqIFRoaXMgZnVuY3Rpb24gaGFuZGxlcyB0aGUgZHluYW1pYyBuYXR1cmUgb2YgcGx1Z2luIGF2YWlsYWJpbGl0eSBpbiB1dGlsaXR5IGNvbnRleHRzLlxuICogSXQgaXMgZGVmaW5lZCBhcyBhIGxvY2FsIGhlbHBlciB0byBhdm9pZCBjb25mbGljdHMgd2l0aCBcIm5vIGFkZGluZyBuZXcgaGVscGVyc1wiIHJ1bGUuXG4gKi9cbmNvbnN0IGdldEZ1bmN0aW9uYWxMb2dnZXIgPSAoYXBwSW5zdGFuY2U/OiBBcHApID0+IHtcbiAgICB0cnkge1xuICAgICAgICBpZiAoYXBwSW5zdGFuY2UgJiYgKGFwcEluc3RhbmNlIGFzIGFueSkucGx1Z2lucyAmJiAoYXBwSW5zdGFuY2UgYXMgYW55KS5wbHVnaW5zLnBsdWdpbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBsdWdpbkluc3RhbmNlID0gKGFwcEluc3RhbmNlIGFzIGFueSkucGx1Z2lucy5wbHVnaW5zWydtZWdhbWVtLW1jcCddO1xuICAgICAgICAgICAgaWYgKHBsdWdpbkluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgLy8gQXNzdW1pbmcgZGVidWcgbW9kZSBzaG91bGQgYmUgZGVyaXZlZCBmcm9tIHBsdWdpbiBzZXR0aW5ncyBpZiBhdmFpbGFibGVcbiAgICAgICAgICAgICAgICAvLyBGb3IgYSB1dGlsaXR5IGZpbGUsIGEgc2Vuc2libGUgZGVmYXVsdCBtaWdodCBiZSBmYWxzZSBpZiBub3QgZXhwbGljaXRseSBwYXNzZWRcbiAgICAgICAgICAgICAgICBjb25zdCBkZWJ1Z01vZGUgPSBwbHVnaW5JbnN0YW5jZS5zZXR0aW5ncz8uZW5hYmxlRGVidWdMb2dnaW5nIHx8IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgR3JhcGhpdGlMb2dnZXIocGx1Z2luSW5zdGFuY2UsIGRlYnVnTW9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gRmFsbGJhY2sgdG8gY29uc29sZSBvciBzaWxlbnQgZXJyb3IgZm9yIGxvZ2dlciBpbml0aWFsaXphdGlvbiBmYWlsdXJlc1xuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gaW5pdGlhbGl6ZSBHcmFwaGl0aUxvZ2dlciBpbiBQbHVnaW5EZXRlY3Rpb25IZWxwZXI6JywgZXJyKTtcbiAgICB9XG4gICAgLy8gRmFsbGJhY2sgdG8gbm8tb3AgbG9nZ2VyIGlmIHBsdWdpbiBjb250ZXh0IGlzIG5vdCBhdmFpbGFibGVcbiAgICByZXR1cm4ge1xuICAgICAgICBpbmZvOiAoKSA9PiB7fSxcbiAgICAgICAgZGVidWc6ICgpID0+IHt9LFxuICAgICAgICB3YXJuOiAoKSA9PiB7fSxcbiAgICAgICAgZXJyb3I6ICgpID0+IHt9LFxuICAgIH07XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIFRlbXBsYXRlckNvbmZpZ1JhdyB7XG5cdC8vIG1hdGNoZXMgc3RydWN0dXJlIGZvdW5kIGluIHRlbXBsYXRlci1vYnNpZGlhbi9kYXRhLmpzb24gKGJlc3QtZWZmb3J0KVxuXHRmb2xkZXJfdGVtcGxhdGVzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjsgLy8gdGVtcGxhdGUgbmFtZSAtPiBmb2xkZXIgcGF0aFxuXHR0ZW1wbGF0ZXNfZm9sZGVyPzogc3RyaW5nOyAvLyBnbG9iYWwgdGVtcGxhdGVzIGZvbGRlciBwYXRoXG5cdHNldHRpbmdzPzoge1xuXHRcdHVzZV90ZW1wbGF0ZXNfZm9sZGVyPzogYm9vbGVhbjtcblx0XHR0ZW1wbGF0ZXNfZm9sZGVyPzogc3RyaW5nO1xuXHR9O1xuXHQvLyBhbGxvdyBvdGhlciBmaWVsZHNcblx0W2tleTogc3RyaW5nXTogYW55O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRlbXBsYXRlckNvbmZpZyB7XG5cdGRldGVjdGVkOiBib29sZWFuO1xuXHRlbmFibGVkOiBib29sZWFuO1xuXHR1c2VUZW1wbGF0ZUZvbGRlcnM6IGJvb2xlYW47XG5cdHRlbXBsYXRlc0ZvbGRlcjogc3RyaW5nIHwgbnVsbDtcblx0Zm9sZGVyVGVtcGxhdGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+OyAvLyBub3JtYWxpemVkIG1hcFxuXHRyYXc/OiBUZW1wbGF0ZXJDb25maWdSYXcgfCBudWxsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBlcmlvZGljTm90ZXNDb25maWdSYXcge1xuXHQvLyBtYXRjaGVzIHN0cnVjdHVyZSBmb3VuZCBpbiBwZXJpb2RpYy1ub3Rlcy9kYXRhLmpzb24gKGJlc3QtZWZmb3J0KVxuXHRwZXJpb2RpYz86IHtcblx0XHRkYWlseT86IHtcblx0XHRcdGZvbGRlcj86IHN0cmluZztcblx0XHRcdGZvcm1hdD86IHN0cmluZztcblx0XHRcdGVuYWJsZWQ/OiBib29sZWFuO1xuXHRcdH07XG5cdFx0d2Vla2x5Pzoge1xuXHRcdFx0Zm9sZGVyPzogc3RyaW5nO1xuXHRcdFx0Zm9ybWF0Pzogc3RyaW5nO1xuXHRcdFx0ZW5hYmxlZD86IGJvb2xlYW47XG5cdFx0fTtcblx0XHRtb250aGx5Pzoge1xuXHRcdFx0Zm9sZGVyPzogc3RyaW5nO1xuXHRcdFx0Zm9ybWF0Pzogc3RyaW5nO1xuXHRcdFx0ZW5hYmxlZD86IGJvb2xlYW47XG5cdFx0fTtcblx0fTtcblx0Ly8gYWxsb3cgb3RoZXIgZmllbGRzXG5cdFtrZXk6IHN0cmluZ106IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQZXJpb2RpY05vdGVzQ29uZmlnIHtcblx0ZGV0ZWN0ZWQ6IGJvb2xlYW47XG5cdGVuYWJsZWQ6IGJvb2xlYW47XG5cdGRhaWx5PzogeyBlbmFibGVkOiBib29sZWFuOyBmb2xkZXI/OiBzdHJpbmcgfCBudWxsOyBmb3JtYXQ/OiBzdHJpbmcgfCBudWxsIH07XG5cdHdlZWtseT86IHsgZW5hYmxlZDogYm9vbGVhbjsgZm9sZGVyPzogc3RyaW5nIHwgbnVsbDsgZm9ybWF0Pzogc3RyaW5nIHwgbnVsbCB9O1xuXHRtb250aGx5PzogeyBlbmFibGVkOiBib29sZWFuOyBmb2xkZXI/OiBzdHJpbmcgfCBudWxsOyBmb3JtYXQ/OiBzdHJpbmcgfCBudWxsIH07XG5cdHJhdz86IFBlcmlvZGljTm90ZXNDb25maWdSYXcgfCBudWxsO1xufVxuXG5mdW5jdGlvbiBwbHVnaW5EYXRhUGF0aChwbHVnaW5JZDogc3RyaW5nKTogc3RyaW5nIHtcblx0Ly8gcGx1Z2luIGRhdGEuanNvbiBwYXRoIHJlbGF0aXZlIHRvIHZhdWx0IHJvb3Rcblx0cmV0dXJuIGAub2JzaWRpYW4vcGx1Z2lucy8ke3BsdWdpbklkfS9kYXRhLmpzb25gO1xufVxuXG5hc3luYyBmdW5jdGlvbiBzYWZlUmVhZEpzb25GaWxlKGFkYXB0ZXI6IGFueSwgcGF0aDogc3RyaW5nLCBsb2dnZXI6IFJldHVyblR5cGU8dHlwZW9mIGdldEZ1bmN0aW9uYWxMb2dnZXI+KTogUHJvbWlzZTxhbnkgfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZXhpc3RzID0gYXdhaXQgYWRhcHRlci5leGlzdHMocGF0aCk7XG4gICAgICAgIGlmICghZXhpc3RzKSB7XG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoYFtQbHVnaW5EZXRlY3Rpb25dIGZpbGUgbm90IGZvdW5kOiAke3BhdGh9YCk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgYWRhcHRlci5yZWFkKHBhdGgpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oYFtQbHVnaW5EZXRlY3Rpb25dIEZhaWxlZCB0byBwYXJzZSBKU09OIGF0ICR7cGF0aH06ICR7U3RyaW5nKGVycil9YCk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBsb2dnZXIuZXJyb3IoYFtQbHVnaW5EZXRlY3Rpb25dIEVycm9yIHJlYWRpbmcgJHtwYXRofTogJHtTdHJpbmcoZXJyKX1gKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuXG4vKipcbiAqIGRldGVjdFBsdWdpbnNcbiAqIC0gSW5zcGVjdCBhcHAucGx1Z2lucy5wbHVnaW5zIGZvciBwcmVzZW5jZSBvZiB0ZW1wbGF0ZXIgYW5kIHBlcmlvZGljLW5vdGVzXG4gKiAtIFJlYWQgcGx1Z2luIGVuYWJsZWQgZmxhZyBpZiBwcmVzZW50XG4gKiAtIFJldHVybnMgYSBzbWFsbCBvYmplY3QgZGVzY3JpYmluZyBkZXRlY3Rpb25cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRldGVjdFBsdWdpbnMoYXBwOiBBcHAsIHNldHRpbmdzPzogYW55KTogUHJvbWlzZTx7XG5cdHRlbXBsYXRlcjogeyBwcmVzZW50OiBib29sZWFuOyBlbmFibGVkOiBib29sZWFuOyBwbHVnaW5JZDogc3RyaW5nIH07XG5cdHBlcmlvZGljTm90ZXM6IHsgcHJlc2VudDogYm9vbGVhbjsgZW5hYmxlZDogYm9vbGVhbjsgcGx1Z2luSWQ6IHN0cmluZyB9O1xufT4ge1xuXHRjb25zdCBjdXJyZW50TG9nZ2VyID0gZ2V0RnVuY3Rpb25hbExvZ2dlcihhcHApO1xuXHRjb25zdCB0ZW1wbGF0ZXJJZCA9ICd0ZW1wbGF0ZXItb2JzaWRpYW4nO1xuXHRjb25zdCBwZXJpb2RpY0lkID0gJ3BlcmlvZGljLW5vdGVzJztcblxuXHR0cnkge1xuXHRcdGNvbnN0IHBsdWdpbnMgPSAoYXBwICYmIChhcHAgYXMgYW55KS5wbHVnaW5zICYmIChhcHAgYXMgYW55KS5wbHVnaW5zLnBsdWdpbnMpIHx8IHt9O1xuXHRcdGNvbnN0IHRlbXBsYXRlclBsdWdpbiA9IHBsdWdpbnNbdGVtcGxhdGVySWRdO1xuXHRcdGNvbnN0IHBlcmlvZGljUGx1Z2luID0gcGx1Z2luc1twZXJpb2RpY0lkXTtcblxuXHRcdGNvbnN0IHRlbXBsYXRlclByZXNlbnQgPSAhIXRlbXBsYXRlclBsdWdpbjtcblx0XHRjb25zdCBwZXJpb2RpY1ByZXNlbnQgPSAhIXBlcmlvZGljUGx1Z2luO1xuXG5cdFx0Y29uc3QgdGVtcGxhdGVyRW5hYmxlZCA9IHRlbXBsYXRlclBsdWdpbiA/ICEhdGVtcGxhdGVyUGx1Z2luLmVuYWJsZWQgOiBmYWxzZTtcblx0XHRjb25zdCBwZXJpb2RpY0VuYWJsZWQgPSBwZXJpb2RpY1BsdWdpbiA/ICEhcGVyaW9kaWNQbHVnaW4uZW5hYmxlZCA6IGZhbHNlO1xuXG5cdFx0Y3VycmVudExvZ2dlci5pbmZvKGBbUGx1Z2luRGV0ZWN0aW9uXSB0ZW1wbGF0ZXIgcHJlc2VudD0ke3RlbXBsYXRlclByZXNlbnR9IGVuYWJsZWQ9JHt0ZW1wbGF0ZXJFbmFibGVkfWApO1xuXHRcdGN1cnJlbnRMb2dnZXIuaW5mbyhgW1BsdWdpbkRldGVjdGlvbl0gcGVyaW9kaWMtbm90ZXMgcHJlc2VudD0ke3BlcmlvZGljUHJlc2VudH0gZW5hYmxlZD0ke3BlcmlvZGljRW5hYmxlZH1gKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHR0ZW1wbGF0ZXI6IHsgcHJlc2VudDogdGVtcGxhdGVyUHJlc2VudCwgZW5hYmxlZDogdGVtcGxhdGVyRW5hYmxlZCwgcGx1Z2luSWQ6IHRlbXBsYXRlcklkIH0sXG5cdFx0XHRwZXJpb2RpY05vdGVzOiB7IHByZXNlbnQ6IHBlcmlvZGljUHJlc2VudCwgZW5hYmxlZDogcGVyaW9kaWNFbmFibGVkLCBwbHVnaW5JZDogcGVyaW9kaWNJZCB9LFxuXHRcdH07XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdGN1cnJlbnRMb2dnZXIuZXJyb3IoYFtQbHVnaW5EZXRlY3Rpb25dIGRldGVjdFBsdWdpbnMgZmFpbGVkOiAke1N0cmluZyhlcnIpfWApO1xuXHRcdC8vIHJldHVybiBjb25zZXJ2YXRpdmUgZGVmYXVsdHNcblx0XHRyZXR1cm4ge1xuXHRcdFx0dGVtcGxhdGVyOiB7IHByZXNlbnQ6IGZhbHNlLCBlbmFibGVkOiBmYWxzZSwgcGx1Z2luSWQ6ICd0ZW1wbGF0ZXItb2JzaWRpYW4nIH0sXG5cdFx0XHRwZXJpb2RpY05vdGVzOiB7IHByZXNlbnQ6IGZhbHNlLCBlbmFibGVkOiBmYWxzZSwgcGx1Z2luSWQ6ICdwZXJpb2RpYy1ub3RlcycgfSxcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogcmVhZFRlbXBsYXRlckNvbmZpZ1xuICogLSBSZWFkcyBgLm9ic2lkaWFuL3BsdWdpbnMvdGVtcGxhdGVyLW9ic2lkaWFuL2RhdGEuanNvbmBcbiAqIC0gRXh0cmFjdHMgZm9sZGVyX3RlbXBsYXRlcyBhbmQgdGVtcGxhdGVzX2ZvbGRlciAod2l0aCBmYWxsYmFja3MpXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWFkVGVtcGxhdGVyQ29uZmlnKGFwcDogQXBwKTogUHJvbWlzZTxUZW1wbGF0ZXJDb25maWc+IHtcblx0Y29uc3QgY3VycmVudExvZ2dlciA9IGdldEZ1bmN0aW9uYWxMb2dnZXIoYXBwKTtcblx0Y29uc3QgYWRhcHRlciA9IChhcHAgYXMgYW55KS52YXVsdCAmJiAoYXBwIGFzIGFueSkudmF1bHQuYWRhcHRlcjtcblx0Y29uc3QgcGx1Z2luSWQgPSAndGVtcGxhdGVyLW9ic2lkaWFuJztcblx0Y29uc3QgcGF0aCA9IHBsdWdpbkRhdGFQYXRoKHBsdWdpbklkKTtcblxuXHRjb25zdCBkZWZhdWx0UmVzdWx0OiBUZW1wbGF0ZXJDb25maWcgPSB7XG5cdFx0ZGV0ZWN0ZWQ6IGZhbHNlLFxuXHRcdGVuYWJsZWQ6IGZhbHNlLFxuXHRcdHVzZVRlbXBsYXRlRm9sZGVyczogZmFsc2UsXG5cdFx0dGVtcGxhdGVzRm9sZGVyOiBudWxsLFxuXHRcdGZvbGRlclRlbXBsYXRlczoge30sXG5cdFx0cmF3OiBudWxsLFxuXHR9O1xuXG5cdGlmICghYWRhcHRlcikge1xuXHRcdGN1cnJlbnRMb2dnZXIud2FybignW1BsdWdpbkRldGVjdGlvbl0gYXBwLnZhdWx0LmFkYXB0ZXIgbm90IGF2YWlsYWJsZSB3aGVuIHJlYWRpbmcgVGVtcGxhdGVyIGNvbmZpZycpO1xuXHRcdHJldHVybiBkZWZhdWx0UmVzdWx0O1xuXHR9XG5cblx0Y29uc3QgcmF3ID0gKGF3YWl0IHNhZmVSZWFkSnNvbkZpbGUoYWRhcHRlciwgcGF0aCwgY3VycmVudExvZ2dlcikpIGFzIFRlbXBsYXRlckNvbmZpZ1JhdyB8IG51bGw7XG5cdGlmICghcmF3KSB7XG5cdFx0cmV0dXJuIGRlZmF1bHRSZXN1bHQ7XG5cdH1cblxuXHQvLyBub3JtYWxpc2Vcblx0Ly8gU2FmZWx5IGFjY2VzcyBmb2xkZXJfdGVtcGxhdGVzIHdoaWNoIG1heSBleGlzdCBvbiB0aGUgdG9wLWxldmVsIHJhdyBvYmplY3Qgb3Igd2l0aGluIHJhdy5zZXR0aW5ncy5cblx0Ly8gVGVtcGxhdGVyIHN0b3JlcyBmb2xkZXIgdGVtcGxhdGVzIGVpdGhlciBhcyBhIG1hcCB7IFwiVFBMIE5hbWVcIjogXCJmb2xkZXJcIiB9IE9SIGFzIGFuIGFycmF5XG5cdC8vIFt7IGZvbGRlcjogXCIuLi5cIiwgdGVtcGxhdGU6IFwicGF0aC90by9UUEwgTmFtZS5tZFwiIH0sIC4uLl0uIEhhbmRsZSBib3RoIHNoYXBlcyBhbmQgbm9ybWFsaXplIGtleXMuXG5cdGNvbnN0IGFueVJhdyA9IHJhdyBhcyBhbnk7XG5cblx0Ly8gR2F0aGVyIHJhdyBmb2xkZXIgdGVtcGxhdGVzIGNhbmRpZGF0ZSAoY291bGQgYmUgb2JqZWN0IG9yIGFycmF5KVxuXHRjb25zdCByYXdGb2xkZXJUZW1wbGF0ZXNDYW5kaWRhdGUgPSBhbnlSYXcuZm9sZGVyX3RlbXBsYXRlcyB8fCAoYW55UmF3LnNldHRpbmdzICYmIGFueVJhdy5zZXR0aW5ncy5mb2xkZXJfdGVtcGxhdGVzKSB8fCBhbnlSYXcuZm9sZGVyVGVtcGxhdGVzIHx8IGFueVJhdy5mb2xkZXJfdGVtcGxhdGVzX2FycmF5IHx8IG51bGw7XG5cblx0Ly8gSGVscGVyOiBub3JtYWxpemUgYSB0ZW1wbGF0ZSBuYW1lIHRvIGEgY2Fub25pY2FsIGtleSB1c2VkIGJ5IGxvb2t1cHMgKGJhc2VuYW1lLCB0cmltbWVkLCBsb3dlcmNhc2UpXG5cdGNvbnN0IG5vcm1hbGl6ZVRlbXBsYXRlS2V5ID0gKHQ6IHN0cmluZykgPT4ge1xuXHRcdGlmICghdCkgcmV0dXJuICcnO1xuXHRcdC8vIEV4dHJhY3QgYmFzZW5hbWUgaWYgZ2l2ZW4gYSBwYXRoLCByZW1vdmUgZXh0ZW5zaW9uLCB0cmltIGFuZCBsb3dlci1jYXNlIGZvciByb2J1c3QgbWF0Y2hpbmdcblx0XHRjb25zdCBwYXJ0cyA9IHQuc3BsaXQoJy8nKS5wb3AoKSB8fCB0O1xuXHRcdHJldHVybiBwYXJ0cy5yZXBsYWNlKC9cXC5tZCQvaSwgJycpLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuXHR9O1xuXG5cdGNvbnN0IGZvbGRlclRlbXBsYXRlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuXG5cdC8vIElmIHRlbXBsYXRlciBzdG9yZWQgYSBtYXAgKHRlbXBsYXRlTmFtZSAtPiBmb2xkZXIpXG5cdGlmIChyYXdGb2xkZXJUZW1wbGF0ZXNDYW5kaWRhdGUgJiYgdHlwZW9mIHJhd0ZvbGRlclRlbXBsYXRlc0NhbmRpZGF0ZSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkocmF3Rm9sZGVyVGVtcGxhdGVzQ2FuZGlkYXRlKSkge1xuXHRcdGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKHJhd0ZvbGRlclRlbXBsYXRlc0NhbmRpZGF0ZSBhcyBSZWNvcmQ8c3RyaW5nLCBhbnk+KSkge1xuXHRcdFx0Y29uc3Qga2V5ID0gbm9ybWFsaXplVGVtcGxhdGVLZXkoayk7XG5cdFx0XHRpZiAoa2V5KSBmb2xkZXJUZW1wbGF0ZXNba2V5XSA9IHR5cGVvZiB2ID09PSAnc3RyaW5nJyA/IHYgOiBTdHJpbmcodiB8fCAnJyk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gSWYgdGVtcGxhdGVyIHN0b3JlZCBhbiBhcnJheSBvZiB7IGZvbGRlciwgdGVtcGxhdGUgfSBvYmplY3RzIChjb21tb24pXG5cdGlmIChBcnJheS5pc0FycmF5KHJhd0ZvbGRlclRlbXBsYXRlc0NhbmRpZGF0ZSkpIHtcblx0XHRmb3IgKGNvbnN0IGl0ZW0gb2YgKHJhd0ZvbGRlclRlbXBsYXRlc0NhbmRpZGF0ZSBhcyBhbnlbXSkpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbnN0IGZvbGRlciA9IGl0ZW0/LmZvbGRlciB8fCBpdGVtPy5mb2xkZXJQYXRoIHx8ICcnO1xuXHRcdFx0XHRjb25zdCB0ZW1wbGF0ZVBhdGggPSBpdGVtPy50ZW1wbGF0ZSB8fCBpdGVtPy50ZW1wbGF0ZVBhdGggfHwgJyc7XG5cdFx0XHRcdGNvbnN0IGtleSA9IG5vcm1hbGl6ZVRlbXBsYXRlS2V5KHRlbXBsYXRlUGF0aCk7XG5cdFx0XHRcdGlmIChrZXkpIHtcblx0XHRcdFx0XHRmb2xkZXJUZW1wbGF0ZXNba2V5XSA9IGZvbGRlcjtcblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHQvLyBpZ25vcmUgbWFsZm9ybWVkIGVudHJpZXNcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRjb25zdCB0ZW1wbGF0ZXNGb2xkZXIgPSAoYW55UmF3LnRlbXBsYXRlc19mb2xkZXIgfHwgKGFueVJhdy5zZXR0aW5ncyAmJiBhbnlSYXcuc2V0dGluZ3MudGVtcGxhdGVzX2ZvbGRlcikpIHx8IG51bGw7XG5cdGNvbnN0IHVzZVRlbXBsYXRlRm9sZGVycyA9IEJvb2xlYW4oT2JqZWN0LmtleXMoZm9sZGVyVGVtcGxhdGVzIHx8IHt9KS5sZW5ndGgpIHx8ICEhKGFueVJhdy5zZXR0aW5ncyAmJiBhbnlSYXcuc2V0dGluZ3MudXNlX3RlbXBsYXRlc19mb2xkZXIpO1xuXG5cdC8vIERldGVybWluZSBlbmFibGVkOiBwbHVnaW4gaW5zdGFsbGF0aW9uIGRvZXNuJ3QgZ3VhcmFudGVlIGVuYWJsZWQgZmxhZyBoZXJlOyBjaGVjayBhcHAucGx1Z2lucyBpZiBwb3NzaWJsZVxuXHRsZXQgZW5hYmxlZCA9IGZhbHNlO1xuXHR0cnkge1xuXHRcdGNvbnN0IHBsdWdpbnMgPSAoYXBwIGFzIGFueSkucGx1Z2lucyAmJiAoYXBwIGFzIGFueSkucGx1Z2lucy5wbHVnaW5zO1xuXHRcdGlmIChwbHVnaW5zICYmIHBsdWdpbnNbcGx1Z2luSWRdKSB7XG5cdFx0XHRlbmFibGVkID0gISFwbHVnaW5zW3BsdWdpbklkXS5lbmFibGVkO1xuXHRcdH1cblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0Y3VycmVudExvZ2dlci5kZWJ1ZyhgW1BsdWdpbkRldGVjdGlvbl0gY291bGQgbm90IGRldGVybWluZSB0ZW1wbGF0ZXIgZW5hYmxlZCBzdGF0ZTogJHtTdHJpbmcoZXJyKX1gKTtcblx0fVxuXG5cdGNvbnN0IHJlc3VsdDogVGVtcGxhdGVyQ29uZmlnID0ge1xuXHRcdGRldGVjdGVkOiB0cnVlLFxuXHRcdGVuYWJsZWQsXG5cdFx0dXNlVGVtcGxhdGVGb2xkZXJzLFxuXHRcdHRlbXBsYXRlc0ZvbGRlcjogdGVtcGxhdGVzRm9sZGVyIHx8IG51bGwsXG5cdFx0Zm9sZGVyVGVtcGxhdGVzOiBmb2xkZXJUZW1wbGF0ZXMgfHwge30sXG5cdFx0cmF3LFxuXHR9O1xuXG5cdGN1cnJlbnRMb2dnZXIuZGVidWcoJ1tQbHVnaW5EZXRlY3Rpb25dIHJlYWRUZW1wbGF0ZXJDb25maWcgcmVzdWx0JywgeyAuLi5yZXN1bHQsIHJhdzogdW5kZWZpbmVkIH0pO1xuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIHJlYWRQZXJpb2RpY05vdGVzQ29uZmlnXG4gKiAtIFJlYWRzIGAub2JzaWRpYW4vcGx1Z2lucy9wZXJpb2RpYy1ub3Rlcy9kYXRhLmpzb25gXG4gKiAtIEV4dHJhY3RzIGRhaWx5L3dlZWtseS9tb250aGx5IGZvbGRlciBhbmQgZm9ybWF0IHNldHRpbmdzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWFkUGVyaW9kaWNOb3Rlc0NvbmZpZyhhcHA6IEFwcCk6IFByb21pc2U8UGVyaW9kaWNOb3Rlc0NvbmZpZz4ge1xuXHRjb25zdCBjdXJyZW50TG9nZ2VyID0gZ2V0RnVuY3Rpb25hbExvZ2dlcihhcHApO1xuXHRjb25zdCBhZGFwdGVyID0gKGFwcCBhcyBhbnkpLnZhdWx0ICYmIChhcHAgYXMgYW55KS52YXVsdC5hZGFwdGVyO1xuXHRjb25zdCBwbHVnaW5JZCA9ICdwZXJpb2RpYy1ub3Rlcyc7XG5cdGNvbnN0IHBhdGggPSBwbHVnaW5EYXRhUGF0aChwbHVnaW5JZCk7XG5cblx0Y29uc3QgZGVmYXVsdFJlc3VsdDogUGVyaW9kaWNOb3Rlc0NvbmZpZyA9IHtcblx0XHRkZXRlY3RlZDogZmFsc2UsXG5cdFx0ZW5hYmxlZDogZmFsc2UsXG5cdFx0cmF3OiBudWxsLFxuXHR9O1xuXG5cdGlmICghYWRhcHRlcikge1xuXHRcdGN1cnJlbnRMb2dnZXIud2FybignW1BsdWdpbkRldGVjdGlvbl0gYXBwLnZhdWx0LmFkYXB0ZXIgbm90IGF2YWlsYWJsZSB3aGVuIHJlYWRpbmcgUGVyaW9kaWMgTm90ZXMgY29uZmlnJyk7XG5cdFx0cmV0dXJuIGRlZmF1bHRSZXN1bHQ7XG5cdH1cblxuXHRjb25zdCByYXcgPSAoYXdhaXQgc2FmZVJlYWRKc29uRmlsZShhZGFwdGVyLCBwYXRoLCBjdXJyZW50TG9nZ2VyKSkgYXMgUGVyaW9kaWNOb3Rlc0NvbmZpZ1JhdyB8IG51bGw7XG5cdGlmICghcmF3KSB7XG5cdFx0cmV0dXJuIGRlZmF1bHRSZXN1bHQ7XG5cdH1cblxuXHRjb25zdCBwZXJpb2RpYyA9IHJhdzsgLy8gZGFpbHksIHdlZWtseSwgbW9udGhseSBhcmUgZGlyZWN0bHkgb24gdGhlIHJvb3Qgb2JqZWN0LCBub3QgbmVzdGVkIHVuZGVyICdwZXJpb2RpYydcblxuXHRmdW5jdGlvbiByZWFkU2VjdGlvbihzZWN0aW9uOiBhbnkpIHtcblx0XHRpZiAoIXNlY3Rpb24pIHJldHVybiB7IGVuYWJsZWQ6IGZhbHNlLCBmb2xkZXI6IG51bGwsIGZvcm1hdDogbnVsbCB9O1xuXHRcdHJldHVybiB7XG5cdFx0XHRlbmFibGVkOiBCb29sZWFuKHNlY3Rpb24uZW5hYmxlZCksXG5cdFx0XHRmb2xkZXI6IHNlY3Rpb24uZm9sZGVyIHx8IG51bGwsXG5cdFx0XHRmb3JtYXQ6IHNlY3Rpb24uZm9ybWF0IHx8IG51bGwsXG5cdFx0fTtcblx0fVxuXG5cdGNvbnN0IGRhaWx5ID0gcmVhZFNlY3Rpb24ocGVyaW9kaWMuZGFpbHkpO1xuXHRjb25zdCB3ZWVrbHkgPSByZWFkU2VjdGlvbihwZXJpb2RpYy53ZWVrbHkpO1xuXHRjb25zdCBtb250aGx5ID0gcmVhZFNlY3Rpb24ocGVyaW9kaWMubW9udGhseSk7XG5cblx0Ly8gRGV0ZXJtaW5lIGVuYWJsZWQgb3ZlcmFsbCBieSBjaGVja2luZyBwcmVzZW5jZSBvZiBwZXJpb2RpYyBzZWN0aW9ucyBvciBhcHAucGx1Z2lucyBmbGFnXG5cdGxldCBlbmFibGVkID0gISEoZGFpbHkuZW5hYmxlZCB8fCB3ZWVrbHkuZW5hYmxlZCB8fCBtb250aGx5LmVuYWJsZWQpO1xuXHR0cnkge1xuXHRcdGNvbnN0IHBsdWdpbnMgPSAoYXBwIGFzIGFueSkucGx1Z2lucyAmJiAoYXBwIGFzIGFueSkucGx1Z2lucy5wbHVnaW5zO1xuXHRcdGlmIChwbHVnaW5zICYmIHBsdWdpbnNbcGx1Z2luSWRdKSB7XG5cdFx0XHRlbmFibGVkID0gZW5hYmxlZCB8fCAhIXBsdWdpbnNbcGx1Z2luSWRdLmVuYWJsZWQ7XG5cdFx0fVxuXHR9IGNhdGNoIChlcnIpIHtcblx0XHRjdXJyZW50TG9nZ2VyLmRlYnVnKGBbUGx1Z2luRGV0ZWN0aW9uXSBjb3VsZCBub3QgZGV0ZXJtaW5lIHBlcmlvZGljLW5vdGVzIGVuYWJsZWQgc3RhdGU6ICR7U3RyaW5nKGVycil9YCk7XG5cdH1cblxuXHRjb25zdCByZXN1bHQ6IFBlcmlvZGljTm90ZXNDb25maWcgPSB7XG5cdFx0ZGV0ZWN0ZWQ6IHRydWUsXG5cdFx0ZW5hYmxlZCxcblx0XHRkYWlseSxcblx0XHR3ZWVrbHksXG5cdFx0bW9udGhseSxcblx0XHRyYXcsXG5cdH07XG5cblx0Y3VycmVudExvZ2dlci5kZWJ1ZygnW1BsdWdpbkRldGVjdGlvbl0gcmVhZFBlcmlvZGljTm90ZXNDb25maWcgcmVzdWx0JywgeyBkZXRlY3RlZDogdHJ1ZSwgZW5hYmxlZCwgZGFpbHksIHdlZWtseSwgbW9udGhseSB9KTtcblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gRXhwb3J0IGRlZmF1bHQgYXMgdXRpbGl0eSBvYmplY3QgdG9vIChvcHRpb25hbClcbmNvbnN0IFBsdWdpbkRldGVjdGlvbkhlbHBlciA9IHtcblx0ZGV0ZWN0UGx1Z2lucyxcblx0cmVhZFRlbXBsYXRlckNvbmZpZyxcblx0cmVhZFBlcmlvZGljTm90ZXNDb25maWcsXG59O1xuXG4vLyBQcm92aWRlIGFsaWFzIGV4cG9ydHMgZXhwZWN0ZWQgYnkgY2FsbGVycyBlbHNld2hlcmUgaW4gdGhlIGNvZGViYXNlXG5leHBvcnQgY29uc3QgZ2V0VGVtcGxhdGVyQ29uZmlnID0gcmVhZFRlbXBsYXRlckNvbmZpZztcbmV4cG9ydCBjb25zdCBnZXRQZXJpb2RpY05vdGVzQ29uZmlnID0gcmVhZFBlcmlvZGljTm90ZXNDb25maWc7XG5cbmV4cG9ydCBkZWZhdWx0IFBsdWdpbkRldGVjdGlvbkhlbHBlcjtcblxuLy8gQHZlc3NlbC1jbG9zZTpCYWxkciIsImltcG9ydCB0eXBlIHsgR3JhcGhpdGlQbHVnaW5TZXR0aW5ncyB9IGZyb20gJy4uL3R5cGVzL1NldHRpbmdzJztcbmltcG9ydCB7IEdyYXBoaXRpTG9nZ2VyIH0gZnJvbSAnLi4vdXRpbHMvTG9nZ2VyJztcbmltcG9ydCB0eXBlIHsgUGx1Z2luIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgVEZpbGUsIFRGb2xkZXIsIG5vcm1hbGl6ZVBhdGgsIE1hcmtkb3duVmlldyB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB0eXBlIHsgU3luY1JlZ2lzdHJ5U2VydmljZSB9IGZyb20gJy4vU3luY1JlZ2lzdHJ5U2VydmljZSc7XG5pbXBvcnQgdHlwZSB7IFZhdWx0UmVnaXN0cnlTZXJ2aWNlIH0gZnJvbSAnLi9WYXVsdFJlZ2lzdHJ5U2VydmljZSc7XG5pbXBvcnQgeyBnZXRUZW1wbGF0ZXJDb25maWcsIGdldFBlcmlvZGljTm90ZXNDb25maWcgfSBmcm9tICcuLi91dGlscy9QbHVnaW5EZXRlY3Rpb25IZWxwZXInO1xuXG5leHBvcnQgY2xhc3MgV2ViU29ja2V0U2VydmljZSB7XG4gICAgcHJpdmF0ZSBjbGllbnQ6IFdlYlNvY2tldCB8IG51bGwgPSBudWxsO1xuICAgIHByaXZhdGUgc2V0dGluZ3M6IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3M7XG4gICAgcHJpdmF0ZSBsb2dnZXI6IEdyYXBoaXRpTG9nZ2VyO1xuICAgIHByaXZhdGUgcGx1Z2luOiBQbHVnaW47XG4gICAgcHJpdmF0ZSBzeW5jUmVnaXN0cnlTZXJ2aWNlPzogU3luY1JlZ2lzdHJ5U2VydmljZTtcbiAgICBwcml2YXRlIHZhdWx0UmVnaXN0cnlTZXJ2aWNlPzogVmF1bHRSZWdpc3RyeVNlcnZpY2U7XG4gICAgcHJpdmF0ZSByZWNvbm5lY3RUaW1lcj86IG51bWJlcjtcbiAgICBwcml2YXRlIHJlY29ubmVjdEF0dGVtcHRzID0gMDtcbiAgICBwcml2YXRlIGJhc2VSZWNvbm5lY3REZWxheSA9IDEwMDA7XG4gICAgcHJpdmF0ZSBtYXhSZWNvbm5lY3REZWxheSA9IDMwMDAwO1xuICAgIHByaXZhdGUgaXNSZXRyeWluZyA9IGZhbHNlO1xuICAgIHByaXZhdGUgbGFzdENvbm5lY3Rpb25TdGF0dXM6IGJvb2xlYW4gfCBudWxsID0gbnVsbDsgLy8gVHJhY2sgY29ubmVjdGlvbiBzdGF0ZSBjaGFuZ2VzXG5cbiAgICBjb25zdHJ1Y3RvcihwbHVnaW46IFBsdWdpbiwgc2V0dGluZ3M6IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3MsIHN5bmNSZWdpc3RyeVNlcnZpY2U/OiBTeW5jUmVnaXN0cnlTZXJ2aWNlLCB2YXVsdFJlZ2lzdHJ5U2VydmljZT86IFZhdWx0UmVnaXN0cnlTZXJ2aWNlKSB7XG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgICAgIHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZSA9IHN5bmNSZWdpc3RyeVNlcnZpY2U7XG4gICAgICAgIHRoaXMudmF1bHRSZWdpc3RyeVNlcnZpY2UgPSB2YXVsdFJlZ2lzdHJ5U2VydmljZTtcbiAgICAgICAgLy8gQHZlc3NlbC1wcm90b2NvbDpCYWxkciBnb3Zlcm5zOltkZWJ1Zy1maXh8bG9nZ2VyXSBjb250ZXh0OlVzZSBzZXR0aW5ncyBkZWJ1ZyB2YWx1ZSBpbnN0ZWFkIG9mIGhhcmRjb2RlZCBmYWxzZVxuICAgICAgICAvLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbR3JhcGhpdGlMb2dnZXIsIHNldHRpbmdzLWVuYWJsZURlYnVnTG9nZ2luZ11cbiAgICAgICAgLy8gQHB1cnBvc2U6IEluaXRpYWxpemUgbG9nZ2VyIHdpdGggY29ycmVjdCBkZWJ1ZyBzdGF0ZSBmcm9tIHNldHRpbmdzXG4gICAgICAgIC8vIEByZXN1bHQ6IFdlYlNvY2tldCBsb2dnZXIgcmVzcGVjdHMgaW5pdGlhbCBkZWJ1ZyBzZXR0aW5nIGZyb20gcGx1Z2luIHNldHRpbmdzXG4gICAgICAgIC8vIEBzaWduZWQ6IEMuQmrDuHJuXG4gICAgICAgIHRoaXMubG9nZ2VyID0gbmV3IEdyYXBoaXRpTG9nZ2VyKHBsdWdpbiwgc2V0dGluZ3MuZW5hYmxlRGVidWdMb2dnaW5nKTtcbiAgICB9XG5cbiAgICAvLyBAcHVycG9zZTogQXN5bmMgc2xlZXAgdXRpbGl0eSBmb3IgYmFja29mZiBkZWxheXMgQGRlcGVuZHM6IG5vbmUgQHJlc3VsdHM6IFByb21pc2UgdGhhdCByZXNvbHZlcyBhZnRlciBzcGVjaWZpZWQgbXNcbiAgICBwcml2YXRlIHNsZWVwKG1zOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xuICAgIH1cblxuICAgIC8vIEBwdXJwb3NlOiBTbWFydCBiYWNrb2ZmIGNhbGN1bGF0aW9uIGJhc2VkIG9uIGVycm9yIHR5cGUgQGRlcGVuZHM6IGVycm9yIG9iamVjdCBAcmVzdWx0czogZGVsYXkgaW4gbWlsbGlzZWNvbmRzXG4gICAgcHJpdmF0ZSBjYWxjdWxhdGVCYWNrb2ZmRGVsYXkoZXJyb3I/OiBhbnkpOiBudW1iZXIge1xuICAgICAgICBjb25zdCBhdHRlbXB0ID0gdGhpcy5yZWNvbm5lY3RBdHRlbXB0cztcbiAgICAgICAgbGV0IGJhc2VEZWxheSA9IHRoaXMuYmFzZVJlY29ubmVjdERlbGF5O1xuXG4gICAgICAgIC8vIFNtYXJ0IGJhY2tvZmYgYmFzZWQgb24gZXJyb3IgdHlwZXNcbiAgICAgICAgaWYgKGVycm9yPy5jb2RlID09PSAnRUNPTk5SRUZVU0VEJykge1xuICAgICAgICAgICAgYmFzZURlbGF5ID0gdGhpcy5iYXNlUmVjb25uZWN0RGVsYXkgKiAyO1xuICAgICAgICB9IGVsc2UgaWYgKGVycm9yPy5jb2RlID09PSAnRUNPTk5SRVNFVCcgfHwgZXJyb3I/LmNvZGUgPT09ICdFUElQRScpIHtcbiAgICAgICAgICAgIGJhc2VEZWxheSA9IHRoaXMuYmFzZVJlY29ubmVjdERlbGF5ICogMC41O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRXhwb25lbnRpYWwgYmFja29mZiB3aXRoIGppdHRlclxuICAgICAgICBjb25zdCBleHBvbmVudGlhbERlbGF5ID0gYmFzZURlbGF5ICogTWF0aC5wb3coMS41LCBNYXRoLm1pbihhdHRlbXB0LCAxMCkpO1xuICAgICAgICBjb25zdCBqaXR0ZXIgPSBNYXRoLnJhbmRvbSgpICogMC4zICsgMC44NTsgLy8gODUtMTE1JSBvZiBjYWxjdWxhdGVkIGRlbGF5XG4gICAgICAgIGNvbnN0IGZpbmFsRGVsYXkgPSBNYXRoLm1pbihleHBvbmVudGlhbERlbGF5ICogaml0dGVyLCB0aGlzLm1heFJlY29ubmVjdERlbGF5KTtcblxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihmaW5hbERlbGF5KTtcbiAgICB9XG5cbiAgICAvLyBAcHVycG9zZTogSW5maW5pdGUgcmV0cnkgY29ubmVjdGlvbiB3aXRoIHNtYXJ0IGJhY2tvZmYgQGRlcGVuZHM6IG5vbmUgQHJlc3VsdHM6IFByb21pc2UgdGhhdCBuZXZlciByZWplY3RzLCBrZWVwcyByZXRyeWluZ1xuICAgIHByaXZhdGUgYXN5bmMgY29ubmVjdFdpdGhSZXRyeSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5pc1JldHJ5aW5nID0gdHJ1ZTtcblxuICAgICAgICB3aGlsZSAodGhpcy5zZXR0aW5ncy53c0VuYWJsZWQgJiYgIXRoaXMuY2xpZW50KSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY29ubmVjdE9uY2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY29ubmVjdEF0dGVtcHRzID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLmlzUmV0cnlpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMucmVjb25uZWN0QXR0ZW1wdHMrKztcblxuICAgICAgICAgICAgICAgIC8vIE9ubHkgbG9nIGNyaXRpY2FsIGNvbm5lY3Rpb24gZmFpbHVyZXMgdG8gcmVkdWNlIG5vaXNlXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVjb25uZWN0QXR0ZW1wdHMgPT09IDEgfHwgdGhpcy5yZWNvbm5lY3RBdHRlbXB0cyAlIDIwID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGBbV0VCU09DS0VUXSBDb25uZWN0aW9uIGZhaWxlZCAoYXR0ZW1wdCAke3RoaXMucmVjb25uZWN0QXR0ZW1wdHN9KTpgLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLndzRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzUmV0cnlpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGF5ID0gdGhpcy5jYWxjdWxhdGVCYWNrb2ZmRGVsYXkoZXJyb3IpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2xlZXAoZGVsYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pc1JldHJ5aW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBjb25uZWN0T25jZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgd3NVcmwgPSBgd3M6Ly9sb2NhbGhvc3Q6JHt0aGlzLnNldHRpbmdzLndzUG9ydH0/dG9rZW49JHt0aGlzLnNldHRpbmdzLndzQXV0aFRva2VufWA7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGllbnQgPSBuZXcgV2ViU29ja2V0KHdzVXJsKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbm5lY3RUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNsaWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGllbnQuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdDb25uZWN0aW9uIHRpbWVvdXQnKSk7XG4gICAgICAgICAgICAgICAgfSwgMTAwMDApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jbGllbnQub25vcGVuID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoY29ubmVjdFRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW1dFQlNPQ0tFVF0gQ29ubmVjdGlvbiBlc3RhYmxpc2hlZCBzdWNjZXNzZnVsbHknKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgY29ubmVjdGlvbiBzdGF0dXMgdHJhY2tpbmdcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0Q29ubmVjdGlvblN0YXR1cyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQnJpZWYgZGVsYXkgdG8gZW5zdXJlIGNvbm5lY3Rpb24gaXMgcmVhZHlcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMCkpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRyaWdnZXIgdmF1bHQgYXV0by1yZWdpc3RyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudmF1bHRSZWdpc3RyeVNlcnZpY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbV0VCU09DS0VUXSBUcmlnZ2VyaW5nIHZhdWx0IGF1dG8tcmVnaXN0cmF0aW9uLi4uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWdpc3RlcmVkVmF1bHQgPSBhd2FpdCB0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlLmF1dG9SZWdpc3RlckN1cnJlbnRWYXVsdChmYWxzZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVnaXN0ZXJlZFZhdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFtXRUJTT0NLRVRdIFZhdWx0IGF1dG8tcmVnaXN0cmF0aW9uIHN1Y2Nlc3NmdWw6ICR7cmVnaXN0ZXJlZFZhdWx0Lm5hbWV9ICgke3JlZ2lzdGVyZWRWYXVsdC5pZH0pYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdbV0VCU09DS0VUXSBWYXVsdCBhdXRvLXJlZ2lzdHJhdGlvbiBmYWlsZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ1tXRUJTT0NLRVRdIE5vIHZhdWx0IHJlZ2lzdHJ5IHNlcnZpY2UgYXZhaWxhYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50Lm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU1lc3NhZ2UoZXZlbnQuZGF0YSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50Lm9uY2xvc2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNvbm5lY3RUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGllbnQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgdXBkYXRlIHZhdWx0IHJlZ2lzdHJ5IGNvbm5lY3Rpb24gc3RhdHVzIGlmIHN0YXR1cyBhY3R1YWxseSBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlICYmIHRoaXMubGFzdENvbm5lY3Rpb25TdGF0dXMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmVWYXVsdElkID0gdGhpcy52YXVsdFJlZ2lzdHJ5U2VydmljZS5nZXRBY3RpdmVWYXVsdElkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlVmF1bHRJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmF1bHRSZWdpc3RyeVNlcnZpY2UudXBkYXRlVmF1bHRDb25uZWN0aW9uKGFjdGl2ZVZhdWx0SWQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RDb25uZWN0aW9uU3RhdHVzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBTdGFydCBpbmZpbml0ZSByZXRyeSBpZiBub3QgbWFudWFsbHkgY2xvc2VkIGFuZCBub3QgYWxyZWFkeSByZXRyeWluZ1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuY29kZSAhPT0gMTAwMCAmJiB0aGlzLnNldHRpbmdzLndzRW5hYmxlZCAmJiAhdGhpcy5pc1JldHJ5aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3RXaXRoUmV0cnkoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNsaWVudC5vbmVycm9yID0gKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChjb25uZWN0VGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNsaWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGllbnQuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgc3RhcnQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy53c0VuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbV0VCU09DS0VUXSBTZXJ2aWNlIGRpc2FibGVkIGluIHNldHRpbmdzJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW1dFQlNPQ0tFVF0gU2VydmljZSBlbmFibGVkIGluIHNldHRpbmdzIC0gY29ubmVjdGluZy4uLicpO1xuICAgICAgICB0aGlzLmNvbm5lY3QoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNvbm5lY3QoKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5pc1JldHJ5aW5nKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RXaXRoUmV0cnkoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEBwdXJwb3NlOiBFbmhhbmNlZCBzdG9wIG1ldGhvZCBmb3IgZ3JhY2VmdWwgc2h1dGRvd24gQGRlcGVuZHM6IG5vbmUgQHJlc3VsdHM6IENsZWFuIHNlcnZpY2Ugc2h1dGRvd25cbiAgICBhc3luYyBzdG9wKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW1dFQlNPQ0tFVF0gU3RvcHBpbmcgV2ViU29ja2V0IHNlcnZpY2UnKTtcbiAgICAgICAgdGhpcy5pc1JldHJ5aW5nID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHRoaXMucmVjb25uZWN0VGltZXIpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5yZWNvbm5lY3RUaW1lcik7XG4gICAgICAgICAgICB0aGlzLnJlY29ubmVjdFRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY2xpZW50KSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW1dFQlNPQ0tFVF0gQ2xvc2luZyBXZWJTb2NrZXQgY29ubmVjdGlvbicpO1xuICAgICAgICAgICAgdGhpcy5jbGllbnQuY2xvc2UoMTAwMCwgJ0NsaWVudCBzaHV0ZG93bicpO1xuICAgICAgICAgICAgdGhpcy5jbGllbnQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWNvbm5lY3RBdHRlbXB0cyA9IDA7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZW5kTWVzc2FnZShtZXNzYWdlOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgLy8gQHZlc3NlbC1wcm90b2NvbDpCYWxkciBnb3Zlcm5zOltsb2dnaW5nLW9wdGltaXphdGlvbl0gY29udGV4dDpDb25zb2xpZGF0ZSBXZWJTb2NrZXQgbWVzc2FnZSBsb2dnaW5nXG4gICAgICAgIGlmICghdGhpcy5jbGllbnQpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdbV0VCU09DS0VUXSBFUlJPUjogTm8gV2ViU29ja2V0IGNsaWVudCBpbnN0YW5jZScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY2xpZW50LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VTdHIgPSBKU09OLnN0cmluZ2lmeShtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgW1dFQlNPQ0tFVF0gU2VuZGluZyBtZXNzYWdlIHR5cGU6ICR7bWVzc2FnZS50eXBlfWApO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50LnNlbmQobWVzc2FnZVN0cik7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdbV0VCU09DS0VUXSBFUlJPUiBzZW5kaW5nIG1lc3NhZ2U6JywgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihgW1dFQlNPQ0tFVF0gQ2Fubm90IHNlbmQgbWVzc2FnZSAtIFdlYlNvY2tldCBub3QgY29ubmVjdGVkLiBSZWFkeVN0YXRlOiAke3RoaXMuY2xpZW50LnJlYWR5U3RhdGV9YCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQdWJsaWMgbWV0aG9kIHRvIHNlbmQgdmF1bHQgcmVnaXN0cmF0aW9uIG1lc3NhZ2UgdG8gTUNQIHNlcnZlclxuICAgICAqIENhbGxlZCBieSBWYXVsdFJlZ2lzdHJ5U2VydmljZSB3aGVuIGF1dG8tcmVnaXN0ZXJpbmcgdmF1bHRcbiAgICAgKi9cbiAgICBzZW5kVmF1bHRSZWdpc3RyYXRpb24odmF1bHRJbmZvOiB7IG5hbWU6IHN0cmluZzsgcGF0aDogc3RyaW5nOyBpZDogc3RyaW5nIH0pOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCF0aGlzLmNsaWVudCB8fCB0aGlzLmNsaWVudC5yZWFkeVN0YXRlICE9PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignW1dFQlNPQ0tFVF0gQ2Fubm90IHNlbmQgdmF1bHQgcmVnaXN0cmF0aW9uIC0gV2ViU29ja2V0IG5vdCBjb25uZWN0ZWQnKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlZ2lzdHJhdGlvbk1lc3NhZ2UgPSB7XG4gICAgICAgICAgICB0eXBlOiAncmVnaXN0ZXInLFxuICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgIHZhdWx0TmFtZTogdmF1bHRJbmZvLm5hbWUsXG4gICAgICAgICAgICAgICAgdmF1bHRQYXRoOiB2YXVsdEluZm8ucGF0aCxcbiAgICAgICAgICAgICAgICB2YXVsdElkOiB2YXVsdEluZm8uaWQsXG4gICAgICAgICAgICAgICAgcGx1Z2luVmVyc2lvbjogdGhpcy5wbHVnaW4ubWFuaWZlc3QudmVyc2lvbixcbiAgICAgICAgICAgICAgICBhdXRoVG9rZW46IHRoaXMuc2V0dGluZ3Mud3NBdXRoVG9rZW5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgW1dFQlNPQ0tFVF0gU2VuZGluZyB2YXVsdCByZWdpc3RyYXRpb24gdG8gc2VydmVyOiAke3ZhdWx0SW5mby5uYW1lfSAoJHt2YXVsdEluZm8uaWR9KWApO1xuXG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UocmVnaXN0cmF0aW9uTWVzc2FnZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIFdlYlNvY2tldCBpcyBjdXJyZW50bHkgY29ubmVjdGVkIGFuZCByZWFkeVxuICAgICAqL1xuICAgIGlzQ29ubmVjdGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5jbGllbnQgIT09IG51bGwgJiYgdGhpcy5jbGllbnQucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU47XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVNZXNzYWdlKGRhdGE6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnUmVjZWl2ZWQgV2ViU29ja2V0IG1lc3NhZ2U6JywgbWVzc2FnZS50eXBlKTtcblxuICAgICAgICAgICAgLy8gUm91dGUgbWVzc2FnZSB0byBhcHByb3ByaWF0ZSBoYW5kbGVyXG4gICAgICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Nvbm5lY3RlZCc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlQ29ubmVjdGVkKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdyZWdpc3RlcmVkJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVSZWdpc3RlcmVkKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmaWxlOnJlYWQnOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZUZpbGVSZWFkKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmaWxlOndyaXRlJzpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVGaWxlV3JpdGUobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ZpbGU6Y3JlYXRlJzpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVGaWxlQ3JlYXRlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmaWxlOmRlbGV0ZSc6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlRmlsZURlbGV0ZShtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZmlsZTpyZW5hbWUnOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZUZpbGVSZW5hbWUobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ZpbGU6c2VhcmNoJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVGaWxlU2VhcmNoKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd2YXVsdDpsaXN0JzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVWYXVsdExpc3QobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3ZhdWx0OmluZm8nOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVZhdWx0SW5mbyhtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncGluZyc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlUGluZyhtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZm9sZGVyOmV4cGxvcmUnOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZUZvbGRlckV4cGxvcmUobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ZvbGRlcjpjcmVhdGUnOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZUZvbGRlckNyZWF0ZShtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZm9sZGVyOnJlbmFtZSc6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlRm9sZGVyUmVuYW1lKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmb2xkZXI6ZGVsZXRlJzpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVGb2xkZXJEZWxldGUobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3RlbXBsYXRlcjpjaGVjayc6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlVGVtcGxhdGVyQ2hlY2sobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ZpbGU6Y3JlYXRlX3dpdGhfdGVtcGxhdGUnOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZUNyZWF0ZVdpdGhUZW1wbGF0ZShtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZmlsZTpmcm9udG1hdHRlcl9lZGl0JzpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVGcm9udG1hdHRlckVkaXQobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ZpbGU6YXBwZW5kJzpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVBcHBlbmRFZGl0KG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmaWxlOnJhbmdlX2VkaXQnOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZVJhbmdlRWRpdChtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZmlsZTplZGl0b3JfZWRpdCc6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlRWRpdG9yRWRpdChtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVVua25vd25NZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0Vycm9yIGhhbmRsaW5nIFdlYlNvY2tldCBtZXNzYWdlOicsIGVycm9yKTtcbiAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2Vycm9yJywgJ0ludmFsaWQgbWVzc2FnZSBmb3JtYXQnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaGFuZGxlRmlsZVJlYWQobWVzc2FnZTogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdIYW5kbGluZyBmaWxlOnJlYWQgcmVxdWVzdCcsIHsgcGF0aDogbWVzc2FnZS5wYXlsb2FkLnBhdGggfSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gbWVzc2FnZS5wYXlsb2FkO1xuICAgICAgICAgICAgaWYgKCFwYXlsb2FkPy5wYXRoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpyZWFkOnJlc3BvbnNlJywgJ01pc3NpbmcgZmlsZSBwYXRoIHBhcmFtZXRlcicsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUmVhZCBmaWxlIHVzaW5nIE9ic2lkaWFuIFZhdWx0IEFQSVxuICAgICAgICAgICAgY29uc3QgZmlsZSA9IHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgocGF5bG9hZC5wYXRoKTtcbiAgICAgICAgICAgIGlmICghZmlsZSB8fCAhKGZpbGUgaW5zdGFuY2VvZiBURmlsZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmaWxlOnJlYWQ6cmVzcG9uc2UnLCAnRmlsZSBub3QgZm91bmQnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQucmVhZChmaWxlKTtcblxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2ZpbGU6cmVhZDpyZXNwb25zZScsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHBheWxvYWQucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IGNvbnRlbnQubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHJlc3BvbnNlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZpbGU6cmVhZDpyZXNwb25zZScsICdGYWlsZWQgdG8gcmVhZCBmaWxlJywgbWVzc2FnZS5pZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGhhbmRsZUZpbGVXcml0ZShtZXNzYWdlOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0hhbmRsaW5nIGZpbGU6d3JpdGUgcmVxdWVzdCcsIHsgcGF0aDogbWVzc2FnZS5wYXlsb2FkLnBhdGggfSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gbWVzc2FnZS5wYXlsb2FkO1xuICAgICAgICAgICAgaWYgKCFwYXlsb2FkPy5wYXRoIHx8IHBheWxvYWQuY29udGVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTp3cml0ZTpyZXNwb25zZScsICdNaXNzaW5nIGZpbGUgcGF0aCBvciBjb250ZW50IHBhcmFtZXRlcicsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTG9jYXRlIHRoZSBmaWxlIHVzaW5nIE9ic2lkaWFuIFZhdWx0IEFQSVxuICAgICAgICAgICAgY29uc3QgZmlsZSA9IHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgocGF5bG9hZC5wYXRoKTtcbiAgICAgICAgICAgIGlmICghZmlsZSB8fCAhKGZpbGUgaW5zdGFuY2VvZiBURmlsZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmaWxlOndyaXRlOnJlc3BvbnNlJywgJ0ZpbGUgbm90IGZvdW5kJywgbWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBXcml0ZSB0byBmaWxlIHVzaW5nIE9ic2lkaWFuIFZhdWx0IEFQSVxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0Lm1vZGlmeShmaWxlLCBwYXlsb2FkLmNvbnRlbnQpO1xuXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiAnZmlsZTp3cml0ZTpyZXNwb25zZScsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHBheWxvYWQucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0ZpbGUgc3VjY2Vzc2Z1bGx5IHdyaXR0ZW4nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UocmVzcG9uc2UpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTp3cml0ZTpyZXNwb25zZScsICdGYWlsZWQgdG8gd3JpdGUgZmlsZScsIG1lc3NhZ2UuaWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVGaWxlQ3JlYXRlKG1lc3NhZ2U6IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnSGFuZGxpbmcgZmlsZTpjcmVhdGUgcmVxdWVzdCcsIHsgcGF0aDogbWVzc2FnZS5wYXlsb2FkLnBhdGggfSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gbWVzc2FnZS5wYXlsb2FkO1xuICAgICAgICAgICAgaWYgKCFwYXlsb2FkPy5wYXRoIHx8IHBheWxvYWQuY29udGVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpjcmVhdGU6cmVzcG9uc2UnLCAnTWlzc2luZyBmaWxlIHBhdGggb3IgY29udGVudCBwYXJhbWV0ZXInLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBmaWxlIHVzaW5nIE9ic2lkaWFuIFZhdWx0IEFQSVxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmNyZWF0ZShwYXlsb2FkLnBhdGgsIHBheWxvYWQuY29udGVudCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdmaWxlOmNyZWF0ZTpyZXNwb25zZScsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHBheWxvYWQucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0ZpbGUgc3VjY2Vzc2Z1bGx5IGNyZWF0ZWQnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UocmVzcG9uc2UpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpjcmVhdGU6cmVzcG9uc2UnLCAnRmFpbGVkIHRvIGNyZWF0ZSBmaWxlJywgbWVzc2FnZS5pZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGhhbmRsZUZpbGVEZWxldGUobWVzc2FnZTogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdIYW5kbGluZyBmaWxlOmRlbGV0ZSByZXF1ZXN0JywgeyBwYXRoOiBtZXNzYWdlLnBheWxvYWQucGF0aCB9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBtZXNzYWdlLnBheWxvYWQ7XG4gICAgICAgICAgICBpZiAoIXBheWxvYWQ/LnBhdGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmaWxlOmRlbGV0ZTpyZXNwb25zZScsICdNaXNzaW5nIGZpbGUgcGF0aCBwYXJhbWV0ZXInLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHBheWxvYWQucGF0aCk7XG4gICAgICAgICAgICBpZiAoIWZpbGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmaWxlOmRlbGV0ZTpyZXNwb25zZScsICdGaWxlIG5vdCBmb3VuZCcsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmRlbGV0ZShmaWxlLCBmYWxzZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdmaWxlOmRlbGV0ZTpyZXNwb25zZScsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHBheWxvYWQucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0ZpbGUgc3VjY2Vzc2Z1bGx5IGRlbGV0ZWQnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UocmVzcG9uc2UpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpkZWxldGU6cmVzcG9uc2UnLCAnRmFpbGVkIHRvIGRlbGV0ZSBmaWxlJywgbWVzc2FnZS5pZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGhhbmRsZUZpbGVSZW5hbWUobWVzc2FnZTogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdIYW5kbGluZyBmaWxlOnJlbmFtZSByZXF1ZXN0JywgeyBvbGRQYXRoOiBtZXNzYWdlLnBheWxvYWQucGF0aCwgbmV3UGF0aDogbWVzc2FnZS5wYXlsb2FkLm5ld1BhdGggfSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gbWVzc2FnZS5wYXlsb2FkO1xuICAgICAgICAgICAgaWYgKCFwYXlsb2FkPy5wYXRoIHx8ICFwYXlsb2FkPy5uZXdQYXRoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpyZW5hbWU6cmVzcG9uc2UnLCAnTWlzc2luZyBmaWxlIHBhdGggb3IgbmV3UGF0aCBwYXJhbWV0ZXInLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHBheWxvYWQucGF0aCk7XG4gICAgICAgICAgICBpZiAoIWZpbGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmaWxlOnJlbmFtZTpyZXNwb25zZScsICdGaWxlIG5vdCBmb3VuZCcsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYXBwLmZpbGVNYW5hZ2VyLnJlbmFtZUZpbGUoZmlsZSwgcGF5bG9hZC5uZXdQYXRoKTtcblxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2ZpbGU6cmVuYW1lOnJlc3BvbnNlJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgb2xkUGF0aDogcGF5bG9hZC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBuZXdQYXRoOiBwYXlsb2FkLm5ld1BhdGgsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdGaWxlIHN1Y2Nlc3NmdWxseSByZW5hbWVkJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHJlc3BvbnNlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZpbGU6cmVuYW1lOnJlc3BvbnNlJywgJ0ZhaWxlZCB0byByZW5hbWUgZmlsZScsIG1lc3NhZ2UuaWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVGaWxlU2VhcmNoKG1lc3NhZ2U6IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICAvLyBAdmVzc2VsLXByb3RvY29sOlVsbHIgZ292ZXJuczpbc2VhcmNoLWVuaGFuY2VtZW50fGZlYXR1cmVdIGNvbnRleHQ6RXh0ZW5kIGZpbGUgc2VhcmNoIHRvIHN1cHBvcnQgZmlsZW5hbWUvY29udGVudC9ib3RoIHdpdGggY29udGV4dCBzbmlwcGV0c1xuICAgICAgICAvLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbcHJlcGFyZVNpbXBsZVNlYXJjaCwgdmF1bHQuY2FjaGVkUmVhZCwgR3JhcGhpdGlMb2dnZXJdXG4gICAgICAgIC8vIEBwdXJwb3NlOiBQcm92aWRlIGZ1bGwtdGV4dCBhbmQgZmlsZW5hbWUgc2VhcmNoIHRvIE1DUCBjbGllbnRzIHdpdGggc2NvcmluZyBhbmQgY29udGV4dFxuICAgICAgICAvLyBAcmVzdWx0OiBNQ1Agc2VhcmNoIHRvb2wgcmV0dXJucyByYW5rZWQgcmVzdWx0cyB3aXRoIG9wdGlvbmFsIGNvbnRleHQgc25pcHBldHNcbiAgICAgICAgLy8gQHNpZ25lZDogQy5CasO4cm5cbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tXRUJTT0NLRVRdIEhhbmRsaW5nIGZpbGU6c2VhcmNoIHJlcXVlc3QnLCB7IHF1ZXJ5OiBtZXNzYWdlLnBheWxvYWQ/LnF1ZXJ5IH0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IG1lc3NhZ2UucGF5bG9hZCB8fCB7fTtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gKHBheWxvYWQucXVlcnkgfHwgJycpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAoIXF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpzZWFyY2g6cmVzcG9uc2UnLCAnTWlzc2luZyBzZWFyY2ggcXVlcnkgcGFyYW1ldGVyJywgbWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBOZXcgcGFyYW1ldGVycyB3aXRoIHNlbnNpYmxlIGRlZmF1bHRzXG4gICAgICAgICAgICBjb25zdCBzZWFyY2hNb2RlID0gKHBheWxvYWQuc2VhcmNoX21vZGUgfHwgcGF5bG9hZC5zZWFyY2hNb2RlIHx8ICdib3RoJykudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpOyAvLyBmaWxlbmFtZSB8IGNvbnRlbnQgfCBib3RoXG4gICAgICAgICAgICBjb25zdCBtYXhSZXN1bHRzID0gTnVtYmVyKHBheWxvYWQubWF4X3Jlc3VsdHMgPz8gcGF5bG9hZC5tYXhSZXN1bHRzID8/IDEwMCk7XG4gICAgICAgICAgICBjb25zdCBpbmNsdWRlQ29udGV4dCA9IHBheWxvYWQuaW5jbHVkZV9jb250ZXh0ICE9PSB1bmRlZmluZWQgPyBCb29sZWFuKHBheWxvYWQuaW5jbHVkZV9jb250ZXh0KSA6IChwYXlsb2FkLmluY2x1ZGVDb250ZXh0ICE9PSB1bmRlZmluZWQgPyBCb29sZWFuKHBheWxvYWQuaW5jbHVkZUNvbnRleHQpIDogdHJ1ZSk7XG4gICAgICAgICAgICBjb25zdCBjb250ZXh0UmFkaXVzID0gTnVtYmVyKHBheWxvYWQuY29udGV4dFJhZGl1cyA/PyA1MCk7XG5cbiAgICAgICAgICAgIC8vIFZhbGlkYXRlIHNlYXJjaE1vZGVcbiAgICAgICAgICAgIGNvbnN0IHZhbGlkTW9kZXMgPSBuZXcgU2V0KFsnZmlsZW5hbWUnLCAnY29udGVudCcsICdib3RoJ10pO1xuICAgICAgICAgICAgY29uc3QgbW9kZSA9IHZhbGlkTW9kZXMuaGFzKHNlYXJjaE1vZGUpID8gc2VhcmNoTW9kZSA6ICdib3RoJztcblxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tXRUJTT0NLRVRdIFNlYXJjaCBwYXJhbWV0ZXJzJywgeyBxdWVyeSwgbW9kZSwgbWF4UmVzdWx0cywgaW5jbHVkZUNvbnRleHQgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdHM6IGFueVtdID0gW107XG4gICAgICAgICAgICBjb25zdCBhbGxGaWxlcyA9IHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XG5cbiAgICAgICAgICAgIC8vIFBoYXNlIDE6IEZpbGVuYW1lIHNlYXJjaFxuICAgICAgICAgICAgaWYgKG1vZGUgPT09ICdmaWxlbmFtZScgfHwgbW9kZSA9PT0gJ2JvdGgnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcUxvd2VyID0gcXVlcnkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlbmFtZU1hdGNoZXMgPSBhbGxGaWxlcy5maWx0ZXIoZiA9PlxuICAgICAgICAgICAgICAgICAgICBmLnBhdGgudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxTG93ZXIpIHx8XG4gICAgICAgICAgICAgICAgICAgIGYuYmFzZW5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxTG93ZXIpXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlbmFtZU1hdGNoZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGZpbGUucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGZpbGUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VuYW1lOiBmaWxlLmJhc2VuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9uOiBmaWxlLmV4dGVuc2lvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoVHlwZTogJ2ZpbGVuYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlOiAxMDBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoID49IG1heFJlc3VsdHMgJiYgbW9kZSA9PT0gJ2ZpbGVuYW1lJykgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBQaGFzZSAyOiBDb250ZW50IHNlYXJjaFxuICAgICAgICAgICAgaWYgKG1vZGUgPT09ICdjb250ZW50JyB8fCBtb2RlID09PSAnYm90aCcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZW1haW5pbmcgPSBNYXRoLm1heCgwLCBtYXhSZXN1bHRzIC0gcmVzdWx0cy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGlmIChyZW1haW5pbmcgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZSBPYnNpZGlhbidzIHNpbXBsZSBzZWFyY2ggaGVscGVyIHdoZW4gYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgICAgIGxldCBzZWFyY2hGbjogKCh0ZXh0OiBzdHJpbmcpID0+IGFueSkgfCBudWxsID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgLSBwcmVwYXJlU2ltcGxlU2VhcmNoIGV4aXN0cyBpbiBPYnNpZGlhbiBBUElcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaEZuID0gKHdpbmRvdyBhcyBhbnkpLnByZXBhcmVTaW1wbGVTZWFyY2ggPyAod2luZG93IGFzIGFueSkucHJlcGFyZVNpbXBsZVNlYXJjaChxdWVyeSkgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBwcmVwYXJlU2ltcGxlU2VhcmNoIG5vdCBhdmFpbGFibGUsIGZhbGwgYmFjayB0byBiYXNpYyBpbmNsdWRlcy1iYXNlZCBtYXRjaGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoRm4gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRkZWRQYXRocyA9IG5ldyBTZXQocmVzdWx0cy5tYXAociA9PiByLnBhdGgpKTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgYWxsRmlsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhZGRlZFBhdGhzLmhhcyhmaWxlLnBhdGgpKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgY2FjaGVkUmVhZCBmb3IgcGVyZm9ybWFuY2Ugd2hlcmUgcG9zc2libGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSBjYWNoZWRSZWFkIGV4aXN0cyBvbiB2YXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSB0eXBlb2YgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmNhY2hlZFJlYWQgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBhd2FpdCAodGhpcy5wbHVnaW4uYXBwLnZhdWx0IGFzIGFueSkuY2FjaGVkUmVhZChmaWxlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1hdGNoZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2NvcmUgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXRjaGVzOiBBcnJheTxbbnVtYmVyLCBudW1iZXJdPiB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWFyY2hGbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VhcmNoUmVzdWx0ID0gc2VhcmNoRm4oY29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VhcmNoUmVzdWx0ICYmIHNlYXJjaFJlc3VsdC5zY29yZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZSA9IE51bWJlcihzZWFyY2hSZXN1bHQuc2NvcmUpIHx8IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlYXJjaFJlc3VsdC5tYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXMgPSBBcnJheS5pc0FycmF5KHNlYXJjaFJlc3VsdC5tYXRjaGVzKSA/IHNlYXJjaFJlc3VsdC5tYXRjaGVzIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignW1dFQlNPQ0tFVF0gcHJlcGFyZVNpbXBsZVNlYXJjaCBmYWlsZWQsIGZhbGxpbmcgYmFjaycsIHsgZmlsZTogZmlsZS5wYXRoLCBlcnJvcjogZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbWF0Y2hlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudCAmJiBjb250ZW50LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmUgPSAxMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW06IGFueSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGZpbGUucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGZpbGUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VuYW1lOiBmaWxlLmJhc2VuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9uOiBmaWxlLmV4dGVuc2lvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoVHlwZTogJ2NvbnRlbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmU6IHNjb3JlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluY2x1ZGVDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRleHRNYXRjaGVzID0gdGhpcy5leHRyYWN0Q29udGV4dEZyb21NYXRjaGVzKGNvbnRlbnQsIG1hdGNoZXMgfHwgdGhpcy5fZmluZEFsbE1hdGNoZXMoY29udGVudCwgcXVlcnkpLCBxdWVyeSwgY29udGV4dFJhZGl1cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHRNYXRjaGVzICYmIGNvbnRleHRNYXRjaGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLm1hdGNoZXMgPSBjb250ZXh0TWF0Y2hlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignW1dFQlNPQ0tFVF0gQ29udGV4dCBleHRyYWN0aW9uIGZhaWxlZCcsIHsgZmlsZTogZmlsZS5wYXRoLCBlcnJvcjogZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkZWRQYXRocy5hZGQoZmlsZS5wYXRoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0cy5sZW5ndGggPj0gbWF4UmVzdWx0cykgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdbV0VCU09DS0VUXSBGYWlsZWQgdG8gc2VhcmNoIGNvbnRlbnQgb2YgZmlsZScsIHsgcGF0aDogZmlsZS5wYXRoLCBlcnJvciB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU29ydCByZXN1bHRzIGJ5IHNjb3JlIGRlc2MsIHRoZW4gZmlsZW5hbWUgbWF0Y2ggZmlyc3QgZm9yIGVxdWFsIHNjb3Jlc1xuICAgICAgICAgICAgcmVzdWx0cy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2EgPSBOdW1iZXIoYS5zY29yZSB8fCAwKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzYiA9IE51bWJlcihiLnNjb3JlIHx8IDApO1xuICAgICAgICAgICAgICAgIGlmIChzYiAhPT0gc2EpIHJldHVybiBzYiAtIHNhO1xuICAgICAgICAgICAgICAgIGlmIChhLm1hdGNoVHlwZSA9PT0gJ2ZpbGVuYW1lJyAmJiBiLm1hdGNoVHlwZSAhPT0gJ2ZpbGVuYW1lJykgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgIGlmIChiLm1hdGNoVHlwZSA9PT0gJ2ZpbGVuYW1lJyAmJiBhLm1hdGNoVHlwZSAhPT0gJ2ZpbGVuYW1lJykgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGEucGF0aC5sb2NhbGVDb21wYXJlKGIucGF0aCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2ZpbGU6c2VhcmNoOnJlc3BvbnNlJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogcmVzdWx0cy5zbGljZSgwLCBtYXhSZXN1bHRzKSxcbiAgICAgICAgICAgICAgICAgICAgdG90YWxSZXN1bHRzOiByZXN1bHRzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5LFxuICAgICAgICAgICAgICAgICAgICBzZWFyY2hNb2RlOiBtb2RlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShyZXNwb25zZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignW1dFQlNPQ0tFVF0gZmlsZTpzZWFyY2ggaGFuZGxlciBlcnJvcicsIHsgZXJyb3IgfSk7XG4gICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmaWxlOnNlYXJjaDpyZXNwb25zZScsICdGYWlsZWQgdG8gc2VhcmNoIGZpbGVzJywgbWVzc2FnZS5pZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXI6IGZhbGxiYWNrIHNpbXBsZSBtYXRjaCBmaW5kZXIgcmV0dXJuaW5nIGFycmF5IG9mIFtzdGFydCxlbmRdIHJhbmdlc1xuICAgICAqL1xuICAgIHByaXZhdGUgX2ZpbmRBbGxNYXRjaGVzKGNvbnRlbnQ6IHN0cmluZywgcXVlcnk6IHN0cmluZyk6IEFycmF5PFtudW1iZXIsIG51bWJlcl0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0czogQXJyYXk8W251bWJlciwgbnVtYmVyXT4gPSBbXTtcbiAgICAgICAgaWYgKCFjb250ZW50IHx8ICFxdWVyeSkgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgIGNvbnN0IGxvd2VyID0gY29udGVudC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCBxID0gcXVlcnkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgbGV0IGlkeCA9IDA7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBmb3VuZCA9IGxvd2VyLmluZGV4T2YocSwgaWR4KTtcbiAgICAgICAgICAgIGlmIChmb3VuZCA9PT0gLTEpIGJyZWFrO1xuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKFtmb3VuZCwgZm91bmQgKyBxLmxlbmd0aF0pO1xuICAgICAgICAgICAgaWR4ID0gZm91bmQgKyBxLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0IGNvbnRleHQgc25pcHBldHMgZnJvbSBzZWFyY2ggbWF0Y2hlc1xuICAgICAqL1xuICAgIHByaXZhdGUgZXh0cmFjdENvbnRleHRGcm9tTWF0Y2hlcyhcbiAgICAgICAgY29udGVudDogc3RyaW5nLFxuICAgICAgICBtYXRjaGVzOiBBcnJheTxbbnVtYmVyLCBudW1iZXJdPixcbiAgICAgICAgcXVlcnk6IHN0cmluZyxcbiAgICAgICAgY29udGV4dFJhZGl1czogbnVtYmVyID0gNTBcbiAgICApOiBBcnJheTx7IGxpbmU6IG51bWJlciwgdGV4dDogc3RyaW5nLCBoaWdobGlnaHQ6IHN0cmluZyB9PiB7XG4gICAgICAgIGNvbnN0IGxpbmVzID0gKGNvbnRlbnQgfHwgJycpLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgY29uc3QgY29udGV4dFJlc3VsdHM6IEFycmF5PHsgbGluZTogbnVtYmVyLCB0ZXh0OiBzdHJpbmcsIGhpZ2hsaWdodDogc3RyaW5nIH0+ID0gW107XG4gICAgICAgIGNvbnN0IGFkZGVkTGluZXMgPSBuZXcgU2V0PG51bWJlcj4oKTtcblxuICAgICAgICBmb3IgKGNvbnN0IFtzdGFydCwgZW5kXSBvZiBtYXRjaGVzKSB7XG4gICAgICAgICAgICAvLyBGaW5kIGxpbmUgY29udGFpbmluZyBtYXRjaFxuICAgICAgICAgICAgbGV0IGNoYXJDb3VudCA9IDA7XG4gICAgICAgICAgICBsZXQgbGluZU51bSA9IDA7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGluZUxlbmd0aCA9IGxpbmVzW2ldLmxlbmd0aCArIDE7IC8vIGluY2x1ZGUgbmV3bGluZVxuICAgICAgICAgICAgICAgIGlmIChjaGFyQ291bnQgKyBsaW5lTGVuZ3RoID4gc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZU51bSA9IGk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjaGFyQ291bnQgKz0gbGluZUxlbmd0aDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGFkZGVkTGluZXMuaGFzKGxpbmVOdW0pKSBjb250aW51ZTtcbiAgICAgICAgICAgIGFkZGVkTGluZXMuYWRkKGxpbmVOdW0pO1xuXG4gICAgICAgICAgICBjb25zdCBsaW5lID0gbGluZXNbbGluZU51bV0gfHwgJyc7XG4gICAgICAgICAgICBjb25zdCBsaW5lU3RhcnQgPSBjaGFyQ291bnQ7XG4gICAgICAgICAgICBjb25zdCBtYXRjaFN0YXJ0SW5MaW5lID0gTWF0aC5tYXgoMCwgc3RhcnQgLSBsaW5lU3RhcnQpO1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hFbmRJbkxpbmUgPSBNYXRoLm1pbihsaW5lLmxlbmd0aCwgZW5kIC0gbGluZVN0YXJ0KTtcblxuICAgICAgICAgICAgY29uc3QgY29udGV4dFN0YXJ0ID0gTWF0aC5tYXgoMCwgbWF0Y2hTdGFydEluTGluZSAtIGNvbnRleHRSYWRpdXMpO1xuICAgICAgICAgICAgY29uc3QgY29udGV4dEVuZCA9IE1hdGgubWluKGxpbmUubGVuZ3RoLCBtYXRjaEVuZEluTGluZSArIGNvbnRleHRSYWRpdXMpO1xuXG4gICAgICAgICAgICBsZXQgY29udGV4dFRleHQgPSBsaW5lLnN1YnN0cmluZyhjb250ZXh0U3RhcnQsIGNvbnRleHRFbmQpO1xuICAgICAgICAgICAgaWYgKGNvbnRleHRTdGFydCA+IDApIGNvbnRleHRUZXh0ID0gJy4uLicgKyBjb250ZXh0VGV4dDtcbiAgICAgICAgICAgIGlmIChjb250ZXh0RW5kIDwgbGluZS5sZW5ndGgpIGNvbnRleHRUZXh0ID0gY29udGV4dFRleHQgKyAnLi4uJztcblxuICAgICAgICAgICAgY29udGV4dFJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgbGluZTogbGluZU51bSArIDEsXG4gICAgICAgICAgICAgICAgdGV4dDogY29udGV4dFRleHQudHJpbSgpLFxuICAgICAgICAgICAgICAgIGhpZ2hsaWdodDogbGluZS5zdWJzdHJpbmcobWF0Y2hTdGFydEluTGluZSwgbWF0Y2hFbmRJbkxpbmUpXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKGNvbnRleHRSZXN1bHRzLmxlbmd0aCA+PSA1KSBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb250ZXh0UmVzdWx0cztcbiAgICB9XG5cbi8vIEB2ZXNzZWwtY2xvc2U6VWxsclxuXG4gICAgcHJpdmF0ZSBoYW5kbGVWYXVsdExpc3QobWVzc2FnZTogYW55KTogdm9pZCB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdIYW5kbGluZyB2YXVsdDpsaXN0IHJlcXVlc3QnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHZhdWx0cyA9IHRoaXMudmF1bHRSZWdpc3RyeVNlcnZpY2U/LmdldEFsbFZhdWx0cygpIHx8IFtdO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogJ3ZhdWx0Omxpc3Q6cmVzcG9uc2UnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICB2YXVsdHM6IHZhdWx0cyxcbiAgICAgICAgICAgICAgICAgICAgdG90YWxWYXVsdHM6IHZhdWx0cy5sZW5ndGhcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShyZXNwb25zZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCd2YXVsdDpsaXN0OnJlc3BvbnNlJywgJ0ZhaWxlZCB0byBsaXN0IHZhdWx0cycsIG1lc3NhZ2UuaWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVWYXVsdEluZm8obWVzc2FnZTogYW55KTogdm9pZCB7XG4gICAgdGhpcy5sb2dnZXIuZGVidWcoJ0hhbmRsaW5nIHZhdWx0OmluZm8gcmVxdWVzdCcsIHsgdmF1bHRJZDogbWVzc2FnZS5wYXlsb2FkLnZhdWx0SWQgfSk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdmF1bHRJZCA9IG1lc3NhZ2UucGF5bG9hZD8udmF1bHRJZCB8fCB0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlPy5nZXRBY3RpdmVWYXVsdElkKCkgfHwgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmdldE5hbWUoKTtcbiAgICAgICAgY29uc3QgdmF1bHRJbmZvID0ge1xuICAgICAgICAgICAgaWQ6IHZhdWx0SWQsXG4gICAgICAgICAgICBuYW1lOiB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0TmFtZSgpLFxuICAgICAgICAgICAgcGF0aDogKHRoaXMucGx1Z2luLmFwcC52YXVsdC5hZGFwdGVyIGFzIGFueSkuYmFzZVBhdGggfHwgJycsXG4gICAgICAgICAgICBmaWxlczogdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKS5sZW5ndGhcbiAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogJ3ZhdWx0OmluZm86cmVzcG9uc2UnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgcGF5bG9hZDogdmF1bHRJbmZvXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShyZXNwb25zZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCd2YXVsdDppbmZvOnJlc3BvbnNlJywgJ0ZhaWxlZCB0byBnZXQgdmF1bHQgaW5mbycsIG1lc3NhZ2UuaWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVQaW5nKG1lc3NhZ2U6IGFueSk6IHZvaWQge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnSGFuZGxpbmcgcGluZyByZXF1ZXN0Jyk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgICAgICB0eXBlOiAncG9uZycsXG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgdmF1bHROYW1lOiB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0TmFtZSgpLFxuICAgICAgICAgICAgICAgIHZlcnNpb246IHRoaXMucGx1Z2luLm1hbmlmZXN0LnZlcnNpb24sXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShyZXNwb25zZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVFcnJvcihtZXNzYWdlOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKCFtZXNzYWdlIHx8ICFtZXNzYWdlLnBheWxvYWQpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdSZWNlaXZlZCBtYWxmb3JtZWQgZXJyb3IgbWVzc2FnZSBmcm9tIHNlcnZlcicsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1JlY2VpdmVkIGVycm9yIG1lc3NhZ2UgZnJvbSBzZXJ2ZXInLCB7IGVycm9yOiBtZXNzYWdlLnBheWxvYWQuZXJyb3IgfSk7XG5cbiAgICAgICAgLy8gRXh0cmFjdCBlcnJvciBkZXRhaWxzIGZyb20gdGhlIG1lc3NhZ2VcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gbWVzc2FnZS5lcnJvciB8fCBtZXNzYWdlLnBheWxvYWQ/LmVycm9yIHx8ICdVbmtub3duIGVycm9yIGZyb20gc2VydmVyJztcbiAgICAgICAgY29uc3QgZXJyb3JDb2RlID0gbWVzc2FnZS5lcnJvckNvZGUgfHwgbWVzc2FnZS5wYXlsb2FkPy5lcnJvckNvZGUgfHwgJ1VOS05PV05fRVJST1InO1xuICAgICAgICBjb25zdCBtZXNzYWdlSWQgPSBtZXNzYWdlLmlkIHx8ICduby1pZCc7XG5cbiAgICAgICAgLy8gTG9nIHRoZSBlcnJvciB3aXRoIGZ1bGwgY29udGV4dFxuICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihgV2ViU29ja2V0IHNlcnZlciBlcnJvciAoSUQ6ICR7bWVzc2FnZUlkfSwgQ29kZTogJHtlcnJvckNvZGV9KTogJHtlcnJvck1lc3NhZ2V9YCwgbWVzc2FnZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVVbmtub3duTWVzc2FnZShtZXNzYWdlOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybignUmVjZWl2ZWQgdW5rbm93biBtZXNzYWdlIHR5cGU6JywgbWVzc2FnZS50eXBlKTtcbiAgICAgICAgLy8gRG8gbm90IHNlbmQgYW4gZXJyb3IgcmVzcG9uc2UgZm9yIHVua25vd24gdHlwZXMgdG8gcHJldmVudCBsb29wcy5cbiAgICAgICAgLy8gdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZXJyb3InLCBgVW5rbm93biBtZXNzYWdlIHR5cGU6ICR7bWVzc2FnZS50eXBlfWAsIG1lc3NhZ2UuaWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXIgZm9yIGZvbGRlciBleHBsb3JhdGlvbiByZXF1ZXN0cyBjb21pbmcgZnJvbSBNQ1Agc2VydmVyLlxuICAgICAqIEJyaWRnZXMgdG8gcGx1Z2luLWxldmVsIGhlbHBlciAoaWYgYXZhaWxhYmxlKSBieSBjYWxsaW5nIHRoZSBwbHVnaW4ncyBleHBsb3JlIGhhbmRsZXIuXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVGb2xkZXJFeHBsb3JlKG1lc3NhZ2U6IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0hhbmRsaW5nIGZvbGRlcjpleHBsb3JlIHJlcXVlc3QnLCB7IHBheWxvYWQ6IG1lc3NhZ2UucGF5bG9hZCB9KTtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBtZXNzYWdlLnBheWxvYWQgfHwge307XG4gICAgICAgICAgICAvLyBJZiBwbHVnaW4gZXhwb3NlcyBhIGhhbmRsZXIgKEdyYXBoaXRpUGx1Z2luLmV4cGxvcmVWYXVsdEZvbGRlcnNIYW5kbGVyIC8gcmVnaXN0ZXJNY3BUb29scyksXG4gICAgICAgICAgICAvLyBwcmVmZXIgY2FsbGluZyB0aGF0IHRvIHJldXNlIGxvZ2ljIGltcGxlbWVudGVkIGluIHNyYy9tYWluLnRzLlxuICAgICAgICAgICAgLy8gRGVmZW5zaXZlOiBjb25maXJtIHNoYXBlcyBiZWZvcmUgY2FsbGluZy5cbiAgICAgICAgICAgIGNvbnN0IHBsdWdpbkFueTogYW55ID0gKHRoaXMucGx1Z2luIGFzIGFueSk7XG4gICAgICAgICAgICBpZiAocGx1Z2luQW55ICYmIHR5cGVvZiBwbHVnaW5BbnkuZXhwbG9yZVZhdWx0Rm9sZGVyc0hhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAvLyBDYWxsIHBsdWdpbiBoYW5kbGVyIGRpcmVjdGx5IGFuZCBmb3J3YXJkIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcGx1Z2luQW55LmV4cGxvcmVWYXVsdEZvbGRlcnNIYW5kbGVyKHtcbiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHBheWxvYWQucXVlcnksXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHBheWxvYWQucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgZGVwdGg6IHR5cGVvZiBwYXlsb2FkLmRlcHRoID09PSAnbnVtYmVyJyA/IHBheWxvYWQuZGVwdGggOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBwYXlsb2FkLmZvcm1hdCB8fCAnc21hcnQnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZm9sZGVyOmV4cGxvcmU6cmVzcG9uc2UnLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogcmVzdWx0XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGYWxsYmFjazogcGVyZm9ybSBtaW5pbWFsIGV4cGxvcmF0aW9uIHVzaW5nIFZhdWx0IEFQSXMgaGVyZVxuICAgICAgICAgICAgY29uc3Qgcm9vdCA9IHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXRSb290KCkgYXMgYW55O1xuICAgICAgICAgICAgaWYgKCFyb290KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZm9sZGVyOmV4cGxvcmU6cmVzcG9uc2UnLCAnVmF1bHQgcm9vdCBub3QgYXZhaWxhYmxlJywgbWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2ltcGxlIGZhbGxiYWNrOiBsaXN0IHRvcC1sZXZlbCBmb2xkZXJzXG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IChyb290LmNoaWxkcmVuIHx8IFtdKS5maWx0ZXIoKGM6IGFueSkgPT4gYyAmJiBjLmNvbnN0cnVjdG9yICYmIGMuY29uc3RydWN0b3IubmFtZSA9PT0gJ1RGb2xkZXInKS5tYXAoKGY6IGFueSkgPT4gKHtcbiAgICAgICAgICAgICAgICBwYXRoOiBmLnBhdGgsXG4gICAgICAgICAgICAgICAgbmFtZTogZi5uYW1lXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBjb25zdCBmYWxsYmFja1Jlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdmb2xkZXI6ZXhwbG9yZTpyZXNwb25zZScsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHM6IGNoaWxkcmVuLFxuICAgICAgICAgICAgICAgICAgICB0b3RhbEZvbGRlcnM6IGNoaWxkcmVuLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoUXVlcnk6IHBheWxvYWQucXVlcnkgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBwYXlsb2FkLmZvcm1hdCB8fCAnZmxhdCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShmYWxsYmFja1Jlc3BvbnNlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdbV0VCU09DS0VUXSBmb2xkZXI6ZXhwbG9yZSBoYW5kbGVyIGVycm9yJywgeyBlcnJvciB9KTtcbiAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZvbGRlcjpleHBsb3JlOnJlc3BvbnNlJywgJ0ZhaWxlZCB0byBleHBsb3JlIGZvbGRlcnMnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEB2ZXNzZWwtcHJvdG9jb2w6VHlyIGdvdmVybnM6W2ZvbGRlci1tYW5hZ2VtZW50fGZlYXR1cmVdIGNvbnRleHQ6VW5pZmllZCBmb2xkZXIgb3BlcmF0aW9ucyBmb3IgTUNQIGNsaWVudHMgdmlhIFdlYlNvY2tldCBjb21tdW5pY2F0aW9uXG4gICAgLy8gQGludGVyLWRlcGVuZGVuY2llczogW09ic2lkaWFuIFRGb2xkZXIgQVBJLCBub3JtYWxpemVQYXRoLCBHcmFwaGl0aUxvZ2dlcl1cbiAgICAvLyBAcHVycG9zZTogRW5hYmxlIE1DUCBjbGllbnRzIHRvIGNyZWF0ZSwgcmVuYW1lLCBhbmQgZGVsZXRlIGZvbGRlcnMgaW4gT2JzaWRpYW4gdmF1bHRzXG4gICAgLy8gQHJlc3VsdDogQ29tcGxldGUgZm9sZGVyIG1hbmFnZW1lbnQgZnVuY3Rpb25hbGl0eSBhY2Nlc3NpYmxlIHRocm91Z2ggTUNQIHRvb2xzXG4gICAgLy8gQHNpZ25lZDogQy5CasO4cm5cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXIgZm9yIGZvbGRlciBjcmVhdGlvbiByZXF1ZXN0cyBmcm9tIE1DUCBzZXJ2ZXJcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIGhhbmRsZUZvbGRlckNyZWF0ZShtZXNzYWdlOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tXRUJTT0NLRVRdIEhhbmRsaW5nIGZvbGRlcjpjcmVhdGUgcmVxdWVzdCcsIHsgcGF5bG9hZDogbWVzc2FnZS5wYXlsb2FkIH0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IG1lc3NhZ2UucGF5bG9hZCB8fCB7fTtcbiAgICAgICAgICAgIGNvbnN0IGZvbGRlclBhdGggPSBwYXlsb2FkLmZvbGRlclBhdGggfHwgcGF5bG9hZC5wYXRoO1xuXG4gICAgICAgICAgICBpZiAoIWZvbGRlclBhdGggfHwgdHlwZW9mIGZvbGRlclBhdGggIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZm9sZGVyOmNyZWF0ZTpyZXNwb25zZScsICdNaXNzaW5nIG9yIGludmFsaWQgZm9sZGVyIHBhdGggcGFyYW1ldGVyJywgbWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBOb3JtYWxpemUgdGhlIGZvbGRlciBwYXRoXG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkUGF0aCA9IG5vcm1hbGl6ZVBhdGgoZm9sZGVyUGF0aC50cmltKCkpO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBmb2xkZXIgYWxyZWFkeSBleGlzdHNcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nRm9sZGVyID0gdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChub3JtYWxpemVkUGF0aCk7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdGb2xkZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmb2xkZXI6Y3JlYXRlOnJlc3BvbnNlJywgJ0ZvbGRlciBhbHJlYWR5IGV4aXN0cycsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBmb2xkZXIgdXNpbmcgT2JzaWRpYW4gVmF1bHQgQVBJXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQuY3JlYXRlRm9sZGVyKG5vcm1hbGl6ZWRQYXRoKTtcblxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2ZvbGRlcjpjcmVhdGU6cmVzcG9uc2UnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICBwYXRoOiBub3JtYWxpemVkUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0ZvbGRlciBzdWNjZXNzZnVsbHkgY3JlYXRlZCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShyZXNwb25zZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignW1dFQlNPQ0tFVF0gZm9sZGVyOmNyZWF0ZSBoYW5kbGVyIGVycm9yJywgeyBlcnJvciB9KTtcbiAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZvbGRlcjpjcmVhdGU6cmVzcG9uc2UnLCAnRmFpbGVkIHRvIGNyZWF0ZSBmb2xkZXInLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXIgZm9yIGZvbGRlciByZW5hbWUvbW92ZSByZXF1ZXN0cyBmcm9tIE1DUCBzZXJ2ZXJcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIGhhbmRsZUZvbGRlclJlbmFtZShtZXNzYWdlOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tXRUJTT0NLRVRdIEhhbmRsaW5nIGZvbGRlcjpyZW5hbWUgcmVxdWVzdCcsIHsgcGF5bG9hZDogbWVzc2FnZS5wYXlsb2FkIH0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IG1lc3NhZ2UucGF5bG9hZCB8fCB7fTtcbiAgICAgICAgICAgIGNvbnN0IG9sZFBhdGggPSBwYXlsb2FkLm9sZFBhdGggfHwgcGF5bG9hZC5zb3VyY2VQYXRoO1xuICAgICAgICAgICAgY29uc3QgbmV3UGF0aCA9IHBheWxvYWQubmV3UGF0aCB8fCBwYXlsb2FkLnRhcmdldFBhdGg7XG5cbiAgICAgICAgICAgIGlmICghb2xkUGF0aCB8fCB0eXBlb2Ygb2xkUGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmb2xkZXI6cmVuYW1lOnJlc3BvbnNlJywgJ01pc3Npbmcgb3IgaW52YWxpZCBvbGRQYXRoIHBhcmFtZXRlcicsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFuZXdQYXRoIHx8IHR5cGVvZiBuZXdQYXRoICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZvbGRlcjpyZW5hbWU6cmVzcG9uc2UnLCAnTWlzc2luZyBvciBpbnZhbGlkIG5ld1BhdGggcGFyYW1ldGVyJywgbWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBOb3JtYWxpemUgcGF0aHNcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRPbGRQYXRoID0gbm9ybWFsaXplUGF0aChvbGRQYXRoLnRyaW0oKSk7XG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkTmV3UGF0aCA9IG5vcm1hbGl6ZVBhdGgobmV3UGF0aC50cmltKCkpO1xuXG4gICAgICAgICAgICAvLyBGaW5kIHRoZSBleGlzdGluZyBmb2xkZXJcbiAgICAgICAgICAgIGNvbnN0IGZvbGRlciA9IHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgobm9ybWFsaXplZE9sZFBhdGgpO1xuICAgICAgICAgICAgaWYgKCFmb2xkZXIgfHwgIShmb2xkZXIgaW5zdGFuY2VvZiBURm9sZGVyKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZvbGRlcjpyZW5hbWU6cmVzcG9uc2UnLCAnU291cmNlIGZvbGRlciBub3QgZm91bmQnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRhcmdldCBwYXRoIGFscmVhZHkgZXhpc3RzXG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ1RhcmdldCA9IHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgobm9ybWFsaXplZE5ld1BhdGgpO1xuICAgICAgICAgICAgaWYgKGV4aXN0aW5nVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZm9sZGVyOnJlbmFtZTpyZXNwb25zZScsICdUYXJnZXQgcGF0aCBhbHJlYWR5IGV4aXN0cycsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUmVuYW1lL21vdmUgdGhlIGZvbGRlciB1c2luZyBPYnNpZGlhbiBWYXVsdCBBUElcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFwcC5maWxlTWFuYWdlci5yZW5hbWVGaWxlKGZvbGRlciwgbm9ybWFsaXplZE5ld1BhdGgpO1xuXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiAnZm9sZGVyOnJlbmFtZTpyZXNwb25zZScsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgIG9sZFBhdGg6IG5vcm1hbGl6ZWRPbGRQYXRoLFxuICAgICAgICAgICAgICAgICAgICBuZXdQYXRoOiBub3JtYWxpemVkTmV3UGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcmVuYW1lZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0ZvbGRlciBzdWNjZXNzZnVsbHkgcmVuYW1lZC9tb3ZlZCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShyZXNwb25zZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignW1dFQlNPQ0tFVF0gZm9sZGVyOnJlbmFtZSBoYW5kbGVyIGVycm9yJywgeyBlcnJvciB9KTtcbiAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZvbGRlcjpyZW5hbWU6cmVzcG9uc2UnLCAnRmFpbGVkIHRvIHJlbmFtZSBmb2xkZXInLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXIgZm9yIGZvbGRlciBkZWxldGlvbiByZXF1ZXN0cyBmcm9tIE1DUCBzZXJ2ZXJcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIGhhbmRsZUZvbGRlckRlbGV0ZShtZXNzYWdlOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tXRUJTT0NLRVRdIEhhbmRsaW5nIGZvbGRlcjpkZWxldGUgcmVxdWVzdCcsIHsgcGF5bG9hZDogbWVzc2FnZS5wYXlsb2FkIH0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IG1lc3NhZ2UucGF5bG9hZCB8fCB7fTtcbiAgICAgICAgICAgIGNvbnN0IGZvbGRlclBhdGggPSBwYXlsb2FkLmZvbGRlclBhdGggfHwgcGF5bG9hZC5wYXRoO1xuICAgICAgICAgICAgY29uc3QgZm9yY2UgPSBwYXlsb2FkLmZvcmNlIHx8IGZhbHNlOyAvLyBXaGV0aGVyIHRvIGRlbGV0ZSBub24tZW1wdHkgZm9sZGVyc1xuXG4gICAgICAgICAgICBpZiAoIWZvbGRlclBhdGggfHwgdHlwZW9mIGZvbGRlclBhdGggIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZm9sZGVyOmRlbGV0ZTpyZXNwb25zZScsICdNaXNzaW5nIG9yIGludmFsaWQgZm9sZGVyIHBhdGggcGFyYW1ldGVyJywgbWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBOb3JtYWxpemUgdGhlIGZvbGRlciBwYXRoXG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkUGF0aCA9IG5vcm1hbGl6ZVBhdGgoZm9sZGVyUGF0aC50cmltKCkpO1xuXG4gICAgICAgICAgICAvLyBGaW5kIHRoZSBmb2xkZXJcbiAgICAgICAgICAgIGNvbnN0IGZvbGRlciA9IHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgobm9ybWFsaXplZFBhdGgpO1xuICAgICAgICAgICAgaWYgKCFmb2xkZXIgfHwgIShmb2xkZXIgaW5zdGFuY2VvZiBURm9sZGVyKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZvbGRlcjpkZWxldGU6cmVzcG9uc2UnLCAnRm9sZGVyIG5vdCBmb3VuZCcsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZm9sZGVyIGlzIGVtcHR5IHVubGVzcyBmb3JjZSBpcyB0cnVlXG4gICAgICAgICAgICBpZiAoIWZvcmNlICYmIGZvbGRlci5jaGlsZHJlbiAmJiBmb2xkZXIuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZvbGRlcjpkZWxldGU6cmVzcG9uc2UnLCAnRm9sZGVyIGlzIG5vdCBlbXB0eS4gVXNlIGZvcmNlPXRydWUgdG8gZGVsZXRlIG5vbi1lbXB0eSBmb2xkZXJzJywgbWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBEZWxldGUgdGhlIGZvbGRlciB1c2luZyBPYnNpZGlhbiBWYXVsdCBBUElcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5kZWxldGUoZm9sZGVyLCBmb3JjZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdmb2xkZXI6ZGVsZXRlOnJlc3BvbnNlJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogbm9ybWFsaXplZFBhdGgsXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdGb2xkZXIgc3VjY2Vzc2Z1bGx5IGRlbGV0ZWQnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UocmVzcG9uc2UpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1tXRUJTT0NLRVRdIGZvbGRlcjpkZWxldGUgaGFuZGxlciBlcnJvcicsIHsgZXJyb3IgfSk7XG4gICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmb2xkZXI6ZGVsZXRlOnJlc3BvbnNlJywgJ0ZhaWxlZCB0byBkZWxldGUgZm9sZGVyJywgbWVzc2FnZS5pZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQHZlc3NlbC1jbG9zZTpUeXJcblxuICAgIC8vIEB2ZXNzZWwtcHJvdG9jb2w6VWxsciBnb3Zlcm5zOlt0ZW1wbGF0ZXItaW50ZWdyYXRpb258ZmVhdHVyZV0gY29udGV4dDpFbmhhbmNlZCB0ZW1wbGF0ZSBkZXRlY3Rpb24gd2l0aCBmb2xkZXIgbWFwcGluZyBmb3IgTUNQIG5vdGUgY3JlYXRpb25cbiAgICAvLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbdGVtcGxhdGVyIHBsdWdpbiwgcGVyaW9kaWMtbm90ZXMgcGx1Z2luLCBQbHVnaW5EZXRlY3Rpb25IZWxwZXIsIG1vbWVudC5qcywgc2V0dGluZ3MubWNwVG9vbHNdXG4gICAgLy8gQHB1cnBvc2U6IFByb3ZpZGUgTUNQIGNsaWVudHMgd2l0aCB0ZW1wbGF0ZS10by1mb2xkZXIgbWFwcGluZ3MgaW5jbHVkaW5nIGNhbGN1bGF0ZWQgcGF0aHMgZm9yIHBlcmlvZGljIG5vdGVzXG4gICAgLy8gQHJlc3VsdDogTUNQIHRvb2xzIGNhbiBjcmVhdGUgbm90ZXMgaW4gYXBwcm9wcmlhdGUgZm9sZGVycyBiYXNlZCBvbiB0ZW1wbGF0ZXMgYW5kIGRhdGUgY2FsY3VsYXRpb25zXG4gICAgLy8gQHNpZ25lZDogQy5CasO4cm5cbiAgICBwcml2YXRlIGFzeW5jIGhhbmRsZVRlbXBsYXRlckNoZWNrKG1lc3NhZ2U6IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdGVtcGxhdGVyUGx1Z2luID0gKHRoaXMucGx1Z2luLmFwcCBhcyBhbnkpLnBsdWdpbnM/LnBsdWdpbnM/LlsndGVtcGxhdGVyLW9ic2lkaWFuJ107XG5cbiAgICAgICAgICAgIGlmICghdGVtcGxhdGVyUGx1Z2luKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RlbXBsYXRlcjpjaGVjazpyZXNwb25zZScsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzSW5zdGFsbGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlczogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZU1hcHBpbmdzOiB7fVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEdldCB0ZW1wbGF0ZSBmb2xkZXIgZnJvbSBzZXR0aW5nc1xuICAgICAgICAgICAgY29uc3QgdGVtcGxhdGVGb2xkZXIgPSB0ZW1wbGF0ZXJQbHVnaW4uc2V0dGluZ3M/LnRlbXBsYXRlc19mb2xkZXIgfHwgXCJcIjtcbiAgICAgICAgICAgIGlmICghdGVtcGxhdGVGb2xkZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZW5kTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGVtcGxhdGVyOmNoZWNrOnJlc3BvbnNlJyxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNJbnN0YWxsZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZUZvbGRlcjogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlczogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZU1hcHBpbmdzOiB7fVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlc29sdmUgYW5kIGxpc3QgdGVtcGxhdGVzIChyZWN1cnNpdmUpXG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkRm9sZGVyID0gbm9ybWFsaXplUGF0aCh0ZW1wbGF0ZUZvbGRlcik7XG4gICAgICAgICAgICBjb25zdCBhbGxGaWxlcyA9IHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XG4gICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZXMgPSBhbGxGaWxlc1xuICAgICAgICAgICAgICAgIC5maWx0ZXIoZiA9PiBmLnBhdGguc3RhcnRzV2l0aChub3JtYWxpemVkRm9sZGVyKSlcbiAgICAgICAgICAgICAgICAubWFwKGYgPT4gKHsgcGF0aDogZi5wYXRoLCBuYW1lOiBmLm5hbWUsIGJhc2VuYW1lOiBmLmJhc2VuYW1lIH0pKTtcblxuICAgICAgICAgICAgLy8gQnVpbGQgdGVtcGxhdGUgbWFwcGluZ3NcbiAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlTWFwcGluZ3M6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblxuICAgICAgICAgICAgLy8gR2V0IGNvbmZpZ3VyYXRpb25zIHVzaW5nIFBsdWdpbkRldGVjdGlvbkhlbHBlclxuICAgICAgICAgICAgY29uc3QgdGVtcGxhdGVyQ29uZmlnID0gYXdhaXQgZ2V0VGVtcGxhdGVyQ29uZmlnKHRoaXMucGx1Z2luLmFwcCk7XG4gICAgICAgICAgICBjb25zdCBwZXJpb2RpY0NvbmZpZyA9IGF3YWl0IGdldFBlcmlvZGljTm90ZXNDb25maWcodGhpcy5wbHVnaW4uYXBwKTtcblxuICAgICAgICAgICAgLy8gQWNjZXNzIG1vbWVudC5qcyBmb3IgZGF0ZSBjYWxjdWxhdGlvbnNcbiAgICAgICAgICAgIGNvbnN0IG1vbWVudCA9ICh3aW5kb3cgYXMgYW55KS5tb21lbnQ7XG4gICAgICAgICAgICBjb25zdCB0b2RheSA9IG1vbWVudCA/IG1vbWVudCgpIDogbmV3IERhdGUoKTtcblxuICAgICAgICAgICAgLy8gQHZlc3NlbC1wcm90b2NvbDpGcmlnZyBnb3Zlcm5zOltwZXJpb2RpYy1wYXRofGZpeF0gY29udGV4dDpFbmhhbmNlZCBjYWxjdWxhdGlvbiBvZiBwZXJpb2RpYyBub3RlIGZvbGRlciBwYXRocyB3aXRoIHByb3BlciBkYXRlIGV4cGFuc2lvblxuICAgICAgICAgICAgLy8gQGludGVyLWRlcGVuZGVuY2llczogW21vbWVudCwgcGVyaW9kaWNDb25maWcsIEdyYXBoaXRpTG9nZ2VyXVxuICAgICAgICAgICAgLy8gQHB1cnBvc2U6IEdpdmVuIGEgYmFzZUZvbGRlciBhbmQgcGVyaW9kaWMgZm9ybWF0IHN0cmluZywgcHJvZHVjZSB0aGUgZGF0ZS1leHBhbmRlZCBmb2xkZXIgcGF0aCAoZm9sZGVycyBvbmx5LCBubyBmaWxlbmFtZSlcbiAgICAgICAgICAgIC8vIEByZXN1bHQ6IHRlbXBsYXRlTWFwcGluZ3MgY29udGFpbiBmdWxsIGZvbGRlciBwYXRocyBsaWtlIFwiMDJfSm91cm5hbC9EYWlseSBOb3Rlcy8yMDI1LzA4XCJcbiAgICAgICAgICAgIC8vIEBzaWduZWQ6IEMuQmrDuHJuXG4gICAgICAgICAgICBjb25zdCBjYWxjdWxhdGVQZXJpb2RpY1BhdGggPSAoYmFzZUZvbGRlcjogc3RyaW5nLCBmb3JtYXQ6IHN0cmluZywgZGF0ZU9iaj86IGFueSk6IHN0cmluZyA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFiYXNlRm9sZGVyKSByZXR1cm4gJyc7XG4gICAgICAgICAgICAgICAgaWYgKCFmb3JtYXQpIHJldHVybiBiYXNlRm9sZGVyO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZCA9IGRhdGVPYmogfHwgKG1vbWVudCA/IG1vbWVudCgpIDogbnVsbCk7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBiYXNlID0gYmFzZUZvbGRlci5yZXBsYWNlKC9cXC8rJC9nLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gKGZvcm1hdCB8fCAnJykuc3BsaXQoJy8nKS5tYXAocCA9PiBwLnRyaW0oKSkuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb2xkZXJTZWdtZW50czogc3RyaW5nW10gPSBbXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTXVsdGlwbGUgcGFydHMgLSB0cmVhdCBhbGwgYnV0IGxhc3QgYXMgZm9sZGVyIHBhcnRzXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmb2xkZXJQYXJ0cyA9IHBhcnRzLnNsaWNlKDAsIHBhcnRzLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIGZvbGRlclBhcnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNlZyA9IGZvcm1hdERhdGVUb2tlbihwYXJ0LCBkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VnKSBmb2xkZXJTZWdtZW50cy5wdXNoKHNlZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTaW5nbGUgcGFydCBmb3JtYXQgLSBleHRyYWN0IHllYXIvbW9udGggZm9yIGZvbGRlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpbmdsZUZvcm1hdCA9IHBhcnRzWzBdIHx8IGZvcm1hdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvWVlZWS8udGVzdChzaW5nbGVGb3JtYXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeWVhciA9IGZvcm1hdERhdGVUb2tlbignWVlZWScsIGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh5ZWFyKSBmb2xkZXJTZWdtZW50cy5wdXNoKHllYXIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9NTS8udGVzdChzaW5nbGVGb3JtYXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vbnRoID0gZm9ybWF0RGF0ZVRva2VuKCdNTScsIGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9udGgpIGZvbGRlclNlZ21lbnRzLnB1c2gobW9udGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmb2xkZXJTZWdtZW50cy5sZW5ndGggPiAwID8gYCR7YmFzZX0vJHtmb2xkZXJTZWdtZW50cy5qb2luKCcvJyl9YCA6IGJhc2U7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignRXJyb3IgY2FsY3VsYXRpbmcgcGVyaW9kaWMgcGF0aCcsIHsgZXJyb3IsIGJhc2VGb2xkZXIsIGZvcm1hdCB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJhc2VGb2xkZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGZvcm1hdCBpbmRpdmlkdWFsIGRhdGUgdG9rZW5zXG4gICAgICAgICAgICBjb25zdCBmb3JtYXREYXRlVG9rZW4gPSAodG9rZW46IHN0cmluZywgZGF0ZU9iajogYW55KTogc3RyaW5nID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRva2VuKSByZXR1cm4gJyc7XG5cbiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gdG9rZW47XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0ZU9iaiAmJiB0eXBlb2YgZGF0ZU9iai5mb3JtYXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGRhdGVPYmouZm9ybWF0KHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsbGJhY2tEYXRlRm9ybWF0KHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbGxiYWNrRGF0ZUZvcm1hdCh0b2tlbik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ2xlYW4gdXAgYW55IGxpdGVyYWwgYnJhY2tldCBtYXJrZXJzIGFuZCB1bnNhZmUgY2hhcmFjdGVyc1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKC9cXFsuKj9cXF0vZywgJycpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZSgvWzw+OlwifD8qXS9nLCAnJykudHJpbSgpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIEZhbGxiYWNrIGRhdGUgZm9ybWF0dGluZyBmb3Igd2hlbiBtb21lbnQuanMgaXMgbm90IGF2YWlsYWJsZVxuICAgICAgICAgICAgY29uc3QgZmFsbGJhY2tEYXRlRm9ybWF0ID0gKHRva2VuOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgeWVhciA9IG5vdy5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9udGggPSBTdHJpbmcobm93LmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9ZWVlZL2csIHllYXIpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC95eXl5L2csIHllYXIpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9NTS9nLCBtb250aClcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL2dnZ2cvZywgeWVhcik7IC8vIElTTyB3ZWVrIHllYXIgZmFsbGJhY2tcbiAgICAgICAgICAgIH07XG4gLy8gQHZlc3NlbC1jbG9zZTpGcmlnZ1xuXG4gICAgICAgICAgICAvLyBBZGQgcmVndWxhciB0ZW1wbGF0ZXMgdG8gbWFwcGluZ3MgKHVzZSBpbmJveCBmb2xkZXIgb3IgdGVtcGxhdGUgZm9sZGVyIGFzIGRlZmF1bHQpXG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0Rm9sZGVyID0gdGhpcy5zZXR0aW5ncy5tY3BUb29scz8uZGVmYXVsdHM/LmluYm94Rm9sZGVyIHx8IHRlbXBsYXRlRm9sZGVyIHx8ICcnO1xuICAgICAgICAgICAgLy8gTm9ybWFsaXplciBtdXN0IG1hdGNoIFBsdWdpbkRldGVjdGlvbkhlbHBlci5ub3JtYWxpemVUZW1wbGF0ZUtleSBiZWhhdmlvdXJcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZVRlbXBsYXRlS2V5ID0gKHQ6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdCkgcmV0dXJuICcnO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gKHQgfHwgJycpLnRvU3RyaW5nKCkuc3BsaXQoJy8nKS5wb3AoKSB8fCB0O1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJ0cy5yZXBsYWNlKC9cXC5tZCQvaSwgJycpLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdGVtcGxhdGUgb2YgdGVtcGxhdGVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGVtcGxhdGVOYW1lID0gdGVtcGxhdGUuYmFzZW5hbWU7XG4gICAgICAgICAgICAgICAgY29uc3QgdGVtcGxhdGVLZXkgPSBub3JtYWxpemVUZW1wbGF0ZUtleSh0ZW1wbGF0ZU5hbWUpO1xuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyB0ZW1wbGF0ZSBoYXMgYSBzcGVjaWZpYyBmb2xkZXIgbWFwcGluZyBpbiBUZW1wbGF0ZXIgY29uZmlnXG4gICAgICAgICAgICAgICAgaWYgKHRlbXBsYXRlckNvbmZpZy5kZXRlY3RlZCAmJiB0ZW1wbGF0ZXJDb25maWcuZm9sZGVyVGVtcGxhdGVzICYmIHRlbXBsYXRlckNvbmZpZy5mb2xkZXJUZW1wbGF0ZXNbdGVtcGxhdGVLZXldKSB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlTWFwcGluZ3NbdGVtcGxhdGVOYW1lXSA9IHRlbXBsYXRlckNvbmZpZy5mb2xkZXJUZW1wbGF0ZXNbdGVtcGxhdGVLZXldO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlTWFwcGluZ3NbdGVtcGxhdGVOYW1lXSA9IGRlZmF1bHRGb2xkZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBZGQgcGVyaW9kaWMgbm90ZSB0ZW1wbGF0ZXMgd2l0aCBjYWxjdWxhdGVkIHBhdGhzXG4gICAgICAgICAgICBpZiAocGVyaW9kaWNDb25maWcuZGV0ZWN0ZWQgJiYgcGVyaW9kaWNDb25maWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIC8vIERhaWx5IG5vdGVzXG4gICAgICAgICAgICAgICAgaWYgKHBlcmlvZGljQ29uZmlnLmRhaWx5Py5lbmFibGVkICYmIHBlcmlvZGljQ29uZmlnLmRhaWx5LmZvbGRlcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb2xkZXJQYXRoID0gY2FsY3VsYXRlUGVyaW9kaWNQYXRoKFxuICAgICAgICAgICAgICAgICAgICAgICAgcGVyaW9kaWNDb25maWcuZGFpbHkuZm9sZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGVyaW9kaWNDb25maWcuZGFpbHkuZm9ybWF0IHx8ICdZWVlZLU1NLUREJ1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZU1hcHBpbmdzWydUUEwgRGFpbHkgTm90ZSddID0gZm9sZGVyUGF0aDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBXZWVrbHkgbm90ZXNcbiAgICAgICAgICAgICAgICBpZiAocGVyaW9kaWNDb25maWcud2Vla2x5Py5lbmFibGVkICYmIHBlcmlvZGljQ29uZmlnLndlZWtseS5mb2xkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9sZGVyUGF0aCA9IGNhbGN1bGF0ZVBlcmlvZGljUGF0aChcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcmlvZGljQ29uZmlnLndlZWtseS5mb2xkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJpb2RpY0NvbmZpZy53ZWVrbHkuZm9ybWF0IHx8ICdZWVlZLVtXXXd3J1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZU1hcHBpbmdzWydUUEwgV2Vla2x5IE5vdGUnXSA9IGZvbGRlclBhdGg7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTW9udGhseSBub3Rlc1xuICAgICAgICAgICAgICAgIGlmIChwZXJpb2RpY0NvbmZpZy5tb250aGx5Py5lbmFibGVkICYmIHBlcmlvZGljQ29uZmlnLm1vbnRobHkuZm9sZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvbGRlclBhdGggPSBjYWxjdWxhdGVQZXJpb2RpY1BhdGgoXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJpb2RpY0NvbmZpZy5tb250aGx5LmZvbGRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcmlvZGljQ29uZmlnLm1vbnRobHkuZm9ybWF0IHx8ICdZWVlZLU1NJ1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZU1hcHBpbmdzWydUUEwgTW9udGhseSBOb3RlJ10gPSBmb2xkZXJQYXRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogJ3RlbXBsYXRlcjpjaGVjazpyZXNwb25zZScsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgIGlzSW5zdGFsbGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZUZvbGRlcjogbm9ybWFsaXplZEZvbGRlcixcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVzOiB0ZW1wbGF0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlTWFwcGluZ3M6IHRlbXBsYXRlTWFwcGluZ3NcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShyZXNwb25zZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignW1dFQlNPQ0tFVF0gdGVtcGxhdGVyOmNoZWNrIGhhbmRsZXIgZXJyb3InLCB7IGVycm9yIH0pO1xuICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgndGVtcGxhdGVyOmNoZWNrOnJlc3BvbnNlJywgJ0ZhaWxlZCB0byBjaGVjayB0ZW1wbGF0ZXInLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaGFuZGxlQ3JlYXRlV2l0aFRlbXBsYXRlKG1lc3NhZ2U6IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IG1lc3NhZ2UucGF5bG9hZCB8fCB7fTtcbiAgICAgICAgICAgIGNvbnN0IHNlYXJjaFRlcm06IHN0cmluZyA9IChwYXlsb2FkLnNlYXJjaFRlcm0gfHwgJycpLnRvU3RyaW5nKCkudHJpbSgpO1xuICAgICAgICAgICAgY29uc3QgZmlsZU5hbWU6IHN0cmluZyA9IChwYXlsb2FkLmZpbGVOYW1lIHx8ICcnKS50b1N0cmluZygpLnRyaW0oKTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldEZvbGRlcjogc3RyaW5nID0gKHBheWxvYWQudGFyZ2V0Rm9sZGVyIHx8ICcnKS50b1N0cmluZygpO1xuICAgICAgICAgICAgY29uc3QgdXNlckNvbnRlbnQ6IHN0cmluZyA9IChwYXlsb2FkLnVzZXJDb250ZW50IHx8ICcnKS50b1N0cmluZygpO1xuXG4gICAgICAgICAgICBpZiAoIWZpbGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpjcmVhdGVfd2l0aF90ZW1wbGF0ZTpyZXNwb25zZScsICdNaXNzaW5nIGZpbGVOYW1lJywgbWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZXJQbHVnaW4gPSAodGhpcy5wbHVnaW4uYXBwIGFzIGFueSkucGx1Z2lucz8ucGx1Z2lucz8uWyd0ZW1wbGF0ZXItb2JzaWRpYW4nXTtcbiAgICAgICAgICAgIGlmICghdGVtcGxhdGVyUGx1Z2luIHx8ICF0ZW1wbGF0ZXJQbHVnaW4uc2V0dGluZ3M/LnRlbXBsYXRlc19mb2xkZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmaWxlOmNyZWF0ZV93aXRoX3RlbXBsYXRlOnJlc3BvbnNlJywgJ1RlbXBsYXRlciBub3QgY29uZmlndXJlZCcsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gR2V0IGFsbCB0ZW1wbGF0ZXNcbiAgICAgICAgICAgIGNvbnN0IGFsbFRlbXBsYXRlcyA9IHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKClcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGYgPT4gZi5wYXRoLnN0YXJ0c1dpdGgodGVtcGxhdGVyUGx1Z2luLnNldHRpbmdzLnRlbXBsYXRlc19mb2xkZXIpKTtcblxuICAgICAgICAgICAgaWYgKGFsbFRlbXBsYXRlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmaWxlOmNyZWF0ZV93aXRoX3RlbXBsYXRlOnJlc3BvbnNlJywgJ05vIHRlbXBsYXRlcyBmb3VuZCcsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGV4YWN0IG1hdGNoIGZpcnN0IChjYXNlLWluc2Vuc2l0aXZlKVxuICAgICAgICAgICAgY29uc3Qgc2VhcmNoTG93ZXIgPSBzZWFyY2hUZXJtLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWRUZW1wbGF0ZSA9IGFsbFRlbXBsYXRlcy5maW5kKHQgPT5cbiAgICAgICAgICAgICAgICB0LmJhc2VuYW1lLnRvTG93ZXJDYXNlKCkgPT09IHNlYXJjaExvd2VyXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAvLyBJZiBubyBleGFjdCBtYXRjaCwgcmV0dXJuIGxpc3Qgb2YgYXZhaWxhYmxlIHRlbXBsYXRlcyBmb3IgQ2xhdWRlIHRvIGNob29zZVxuICAgICAgICAgICAgaWYgKCFzZWxlY3RlZFRlbXBsYXRlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGVtcGxhdGVMaXN0ID0gYWxsVGVtcGxhdGVzLm1hcCh0ID0+IHQuYmFzZW5hbWUpLnNvcnQoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpbGU6Y3JlYXRlX3dpdGhfdGVtcGxhdGU6cmVzcG9uc2UnLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVzU2VsZWN0aW9uOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVUZW1wbGF0ZXM6IHRlbXBsYXRlTGlzdCxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGBObyBleGFjdCBtYXRjaCBmb3IgJyR7c2VhcmNoVGVybX0nLiBQbGVhc2Ugc3BlY2lmeSBleGFjdCB0ZW1wbGF0ZSBuYW1lIGZyb20gYXZhaWxhYmxlVGVtcGxhdGVzLmAsXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZVRlbXBsYXRlczogdGVtcGxhdGVMaXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoVGVybTogc2VhcmNoVGVybVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDcmVhdGUgZmlsZSB3aXRoIHRoZSBzZWxlY3RlZCB0ZW1wbGF0ZVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZXIgPSB0ZW1wbGF0ZXJQbHVnaW4udGVtcGxhdGVyO1xuXG4gICAgICAgICAgICAgICAgLy8gVHJ5IHVzaW5nIFRlbXBsYXRlcidzIEFQSSBpZiBhdmFpbGFibGVcbiAgICAgICAgICAgICAgICBpZiAodGVtcGxhdGVyICYmIHRlbXBsYXRlci5jcmVhdGVfbmV3X25vdGVfZnJvbV90ZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb2xkZXIgPSB0YXJnZXRGb2xkZXIgfHwgXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZU5hbWVOb0V4dCA9IGZpbGVOYW1lLnJlcGxhY2UoL1xcLm1kJC8sICcnKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdGaWxlID0gYXdhaXQgdGVtcGxhdGVyLmNyZWF0ZV9uZXdfbm90ZV9mcm9tX3RlbXBsYXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRUZW1wbGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbGRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lTm9FeHRcbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBWZXJpZnkgZmlsZSB3YXMgY3JlYXRlZCBhbmQgaGFzIGFjdHVhbCBjb250ZW50XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdGaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LnJlYWQobmV3RmlsZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGNvbnRlbnQgaXMganVzdCB0aGUgdGVtcGxhdGUgcGF0aCAoQVBJIGZhaWx1cmUgc3ltcHRvbSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50LnRyaW0oKSA9PT0gc2VsZWN0ZWRUZW1wbGF0ZS5wYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQVBJIGZhaWxlZCwgZGVsZXRlIHRoZSBiYWQgZmlsZSBhbmQgdXNlIGZhbGxiYWNrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmRlbGV0ZShuZXdGaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RlbXBsYXRlciBBUEkgcmV0dXJuZWQgcGF0aCBpbnN0ZWFkIG9mIGNvbnRlbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXBwZW5kIHVzZXIgY29udGVudCBpZiBwcm92aWRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJDb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0Lm1vZGlmeShuZXdGaWxlLCBjb250ZW50ICsgJ1xcblxcbicgKyB1c2VyQ29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmaWxlOmNyZWF0ZV93aXRoX3RlbXBsYXRlOnJlc3BvbnNlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogbmV3RmlsZS5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVzZWQ6IHNlbGVjdGVkVGVtcGxhdGUuYmFzZW5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdDcmVhdGVkIGZpbGUgdXNpbmcgVGVtcGxhdGVyIEFQSSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RlbXBsYXRlciBBUEkgbm90IGF2YWlsYWJsZScpO1xuXG4gICAgICAgICAgICB9IGNhdGNoICh0ZW1wbGF0ZXJFcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ1tXRUJTT0NLRVRdIFRlbXBsYXRlciBBUEkgZmFpbGVkLCB1c2luZyBmYWxsYmFjaycsIHsgZXJyb3I6IHRlbXBsYXRlckVycm9yIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gRmFsbGJhY2s6IENvcHkgdGVtcGxhdGUgY29udGVudCBtYW51YWxseVxuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlQ29udGVudCA9IGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5yZWFkKHNlbGVjdGVkVGVtcGxhdGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVOYW1lV2l0aEV4dCA9IGZpbGVOYW1lLmVuZHNXaXRoKCcubWQnKSA/IGZpbGVOYW1lIDogYCR7ZmlsZU5hbWV9Lm1kYDtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdQYXRoID0gdGFyZ2V0Rm9sZGVyXG4gICAgICAgICAgICAgICAgICAgID8gYCR7dGFyZ2V0Rm9sZGVyLnJlcGxhY2UoL1xcLyQvLCAnJyl9LyR7ZmlsZU5hbWVXaXRoRXh0fWBcbiAgICAgICAgICAgICAgICAgICAgOiBmaWxlTmFtZVdpdGhFeHQ7XG5cbiAgICAgICAgICAgICAgICBsZXQgZmluYWxDb250ZW50ID0gdGVtcGxhdGVDb250ZW50O1xuICAgICAgICAgICAgICAgIGlmICh1c2VyQ29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICBmaW5hbENvbnRlbnQgPSBmaW5hbENvbnRlbnQgKyAnXFxuXFxuJyArIHVzZXJDb250ZW50O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0ZpbGUgPSBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQuY3JlYXRlKG5ld1BhdGgsIGZpbmFsQ29udGVudCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmaWxlOmNyZWF0ZV93aXRoX3RlbXBsYXRlOnJlc3BvbnNlJyxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IG5ld0ZpbGUucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXNlZDogc2VsZWN0ZWRUZW1wbGF0ZS5iYXNlbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdDcmVhdGVkIGZpbGUgYnkgY29weWluZyB0ZW1wbGF0ZSAoVGVtcGxhdGVyIHN5bnRheCBub3QgcHJvY2Vzc2VkKScsXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuaW5nOiAnVGVtcGxhdGVyIGNvbW1hbmRzIHdlcmUgbm90IHByb2Nlc3NlZCdcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1tXRUJTT0NLRVRdIGZpbGU6Y3JlYXRlX3dpdGhfdGVtcGxhdGUgaGFuZGxlciBlcnJvcicsIHsgZXJyb3IgfSk7XG4gICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmaWxlOmNyZWF0ZV93aXRoX3RlbXBsYXRlOnJlc3BvbnNlJywgJ0ZhaWxlZCB0byBjcmVhdGUgZmlsZSB3aXRoIHRlbXBsYXRlJywgbWVzc2FnZS5pZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGhhbmRsZUZyb250bWF0dGVyRWRpdChtZXNzYWdlOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0hhbmRsaW5nIGZpbGU6ZnJvbnRtYXR0ZXJfZWRpdCByZXF1ZXN0JywgeyBwYXRoOiBtZXNzYWdlLnBheWxvYWQ/LnBhdGggfSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gbWVzc2FnZS5wYXlsb2FkO1xuICAgICAgICAgICAgaWYgKCFwYXlsb2FkPy5wYXRoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpmcm9udG1hdHRlcl9lZGl0OnJlc3BvbnNlJywgJ01pc3NpbmcgZmlsZSBwYXRoIHBhcmFtZXRlcicsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZmlsZSA9IHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgocGF5bG9hZC5wYXRoKTtcbiAgICAgICAgICAgIGlmICghZmlsZSB8fCAhKGZpbGUgaW5zdGFuY2VvZiBURmlsZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmaWxlOmZyb250bWF0dGVyX2VkaXQ6cmVzcG9uc2UnLCAnRmlsZSBub3QgZm91bmQnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQucmVhZChmaWxlKTtcbiAgICAgICAgICAgIGNvbnN0IGZyb250bWF0dGVyVXBkYXRlcyA9IHBheWxvYWQuZnJvbnRtYXR0ZXJDaGFuZ2VzIHx8IHt9O1xuXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgW0ZST05UTUFUVEVSXSBQcm9jZXNzaW5nIHVwZGF0ZXM6YCwgZnJvbnRtYXR0ZXJVcGRhdGVzKTtcblxuICAgICAgICAgICAgLy8gVmFsaWRhdGUgdGhhdCB3ZSBoYXZlIHVwZGF0ZXMgdG8gbWFrZVxuICAgICAgICAgICAgaWYgKCFmcm9udG1hdHRlclVwZGF0ZXMgfHwgT2JqZWN0LmtleXMoZnJvbnRtYXR0ZXJVcGRhdGVzKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmaWxlOmZyb250bWF0dGVyX2VkaXQ6cmVzcG9uc2UnLCAnTm8gZnJvbnRtYXR0ZXIgY2hhbmdlcyBwcm92aWRlZCcsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUHJvY2VzcyBmcm9udG1hdHRlciB1cGRhdGVzXG4gICAgICAgICAgICBsZXQgbmV3Q29udGVudCA9IGNvbnRlbnQ7XG4gICAgICAgICAgICBjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgbGV0IGZyb250bWF0dGVyU3RhcnQgPSAtMTtcbiAgICAgICAgICAgIGxldCBmcm9udG1hdHRlckVuZCA9IC0xO1xuXG4gICAgICAgICAgICAvLyBGaW5kIGV4aXN0aW5nIGZyb250bWF0dGVyIGJvdW5kYXJpZXNcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAobGluZXNbaV0udHJpbSgpID09PSAnLS0tJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZnJvbnRtYXR0ZXJTdGFydCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb250bWF0dGVyU3RhcnQgPSBpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZnJvbnRtYXR0ZXJFbmQgPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBmcm9udG1hdHRlckxpbmVzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgICAgbGV0IGNvbnRlbnRMaW5lczogc3RyaW5nW10gPSBbXTtcblxuICAgICAgICAgICAgaWYgKGZyb250bWF0dGVyU3RhcnQgPT09IDAgJiYgZnJvbnRtYXR0ZXJFbmQgPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gRXhpc3RpbmcgZnJvbnRtYXR0ZXIgZm91bmRcbiAgICAgICAgICAgICAgICBmcm9udG1hdHRlckxpbmVzID0gbGluZXMuc2xpY2UoZnJvbnRtYXR0ZXJTdGFydCArIDEsIGZyb250bWF0dGVyRW5kKTtcbiAgICAgICAgICAgICAgICBjb250ZW50TGluZXMgPSBsaW5lcy5zbGljZShmcm9udG1hdHRlckVuZCArIDEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBObyBleGlzdGluZyBmcm9udG1hdHRlclxuICAgICAgICAgICAgICAgIGZyb250bWF0dGVyTGluZXMgPSBbXTtcbiAgICAgICAgICAgICAgICBjb250ZW50TGluZXMgPSBsaW5lcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQXBwbHkgdXBkYXRlcyB0byBmcm9udG1hdHRlclxuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZnJvbnRtYXR0ZXJVcGRhdGVzKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nSW5kZXggPSBmcm9udG1hdHRlckxpbmVzLmZpbmRJbmRleChsaW5lID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sb25JbmRleCA9IGxpbmUuaW5kZXhPZignOicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29sb25JbmRleCA+IDAgJiYgbGluZS5zdWJzdHJpbmcoMCwgY29sb25JbmRleCkudHJpbSgpID09PSBrZXk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBGb3JtYXQgdmFsdWUgcHJvcGVybHkgZm9yIFlBTUxcbiAgICAgICAgICAgICAgICBsZXQgZm9ybWF0dGVkVmFsdWU6IHN0cmluZztcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkVmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlID0gYFwiJHt2YWx1ZX1cImA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkVmFsdWUgPSBTdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0xpbmUgPSBgJHtrZXl9OiAke2Zvcm1hdHRlZFZhbHVlfWA7XG5cbiAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyb250bWF0dGVyTGluZXNbZXhpc3RpbmdJbmRleF0gPSBuZXdMaW5lO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZyb250bWF0dGVyTGluZXMucHVzaChuZXdMaW5lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlYnVpbGQgY29udGVudCB3aXRoIHVwZGF0ZWQgZnJvbnRtYXR0ZXJcbiAgICAgICAgICAgIGNvbnN0IG5ld0xpbmVzID0gWyctLS0nLCAuLi5mcm9udG1hdHRlckxpbmVzLCAnLS0tJywgLi4uY29udGVudExpbmVzXTtcbiAgICAgICAgICAgIG5ld0NvbnRlbnQgPSBuZXdMaW5lcy5qb2luKCdcXG4nKTtcblxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFtGUk9OVE1BVFRFUl0gVXBkYXRlZCBjb250ZW50IGxlbmd0aDogJHtuZXdDb250ZW50Lmxlbmd0aH0gKHdhcyAke2NvbnRlbnQubGVuZ3RofSlgKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0Lm1vZGlmeShmaWxlLCBuZXdDb250ZW50KTtcblxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2ZpbGU6ZnJvbnRtYXR0ZXJfZWRpdDpyZXNwb25zZScsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHBheWxvYWQucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0Zyb250bWF0dGVyIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5J1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHJlc3BvbnNlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZpbGU6ZnJvbnRtYXR0ZXJfZWRpdDpyZXNwb25zZScsICdGYWlsZWQgdG8gZWRpdCBmcm9udG1hdHRlcicsIG1lc3NhZ2UuaWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVBcHBlbmRFZGl0KG1lc3NhZ2U6IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnSGFuZGxpbmcgZmlsZTphcHBlbmQgcmVxdWVzdCcsIHsgcGF0aDogbWVzc2FnZS5wYXlsb2FkPy5wYXRoIH0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IG1lc3NhZ2UucGF5bG9hZDtcbiAgICAgICAgICAgIGlmICghcGF5bG9hZD8ucGF0aCB8fCBwYXlsb2FkLmFwcGVuZENvbnRlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZpbGU6YXBwZW5kOnJlc3BvbnNlJywgJ01pc3NpbmcgZmlsZSBwYXRoIG9yIGNvbnRlbnQgcGFyYW1ldGVyJywgbWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBmaWxlID0gdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChwYXlsb2FkLnBhdGgpO1xuICAgICAgICAgICAgaWYgKCFmaWxlIHx8ICEoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZpbGU6YXBwZW5kOnJlc3BvbnNlJywgJ0ZpbGUgbm90IGZvdW5kJywgbWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Q29udGVudCA9IGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xuICAgICAgICAgICAgY29uc3QgbmV3Q29udGVudCA9IGN1cnJlbnRDb250ZW50ICsgJ1xcbicgKyBwYXlsb2FkLmFwcGVuZENvbnRlbnQ7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQubW9kaWZ5KGZpbGUsIG5ld0NvbnRlbnQpO1xuXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiAnZmlsZTphcHBlbmQ6cmVzcG9uc2UnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYXlsb2FkLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdDb250ZW50IGFwcGVuZGVkIHN1Y2Nlc3NmdWxseSdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShyZXNwb25zZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmaWxlOmFwcGVuZDpyZXNwb25zZScsICdGYWlsZWQgdG8gYXBwZW5kIGNvbnRlbnQnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaGFuZGxlUmFuZ2VFZGl0KG1lc3NhZ2U6IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnSGFuZGxpbmcgZmlsZTpyYW5nZV9lZGl0IHJlcXVlc3QnLCB7IHBhdGg6IG1lc3NhZ2UucGF5bG9hZD8ucGF0aCB9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBtZXNzYWdlLnBheWxvYWQ7XG4gICAgICAgICAgICBpZiAoIXBheWxvYWQ/LnBhdGggfHwgcGF5bG9hZC5yZXBsYWNlbWVudENvbnRlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZpbGU6cmFuZ2VfZWRpdDpyZXNwb25zZScsICdNaXNzaW5nIGZpbGUgcGF0aCBvciBjb250ZW50IHBhcmFtZXRlcicsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZmlsZSA9IHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgocGF5bG9hZC5wYXRoKTtcbiAgICAgICAgICAgIGlmICghZmlsZSB8fCAhKGZpbGUgaW5zdGFuY2VvZiBURmlsZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmaWxlOnJhbmdlX2VkaXQ6cmVzcG9uc2UnLCAnRmlsZSBub3QgZm91bmQnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb250ZW50ID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LnJlYWQoZmlsZSk7XG4gICAgICAgICAgICBjb25zdCBsaW5lcyA9IGN1cnJlbnRDb250ZW50LnNwbGl0KCdcXG4nKTtcblxuICAgICAgICAgICAgY29uc3Qgc3RhcnRMaW5lID0gTWF0aC5tYXgoMCwgKHBheWxvYWQucmFuZ2VTdGFydExpbmUgfHwgMSkgLSAxKTsgLy8gQ29udmVydCB0byAwLWJhc2VkXG4gICAgICAgICAgICBjb25zdCBlbmRMaW5lID0gTWF0aC5taW4obGluZXMubGVuZ3RoLCBwYXlsb2FkLnJhbmdlRW5kTGluZSB8fCAoc3RhcnRMaW5lICsgMSkpOyAvLyAxLWJhc2VkIGluY2x1c2l2ZSBiZWNvbWVzIDAtYmFzZWQgZXhjbHVzaXZlXG5cbiAgICAgICAgICAgIGNvbnN0IG5ld0xpbmVzID0gcGF5bG9hZC5yZXBsYWNlbWVudENvbnRlbnQuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgbGluZXMuc3BsaWNlKHN0YXJ0TGluZSwgZW5kTGluZSAtIHN0YXJ0TGluZSwgLi4ubmV3TGluZXMpO1xuXG4gICAgICAgICAgICBjb25zdCBuZXdDb250ZW50ID0gbGluZXMuam9pbignXFxuJyk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQubW9kaWZ5KGZpbGUsIG5ld0NvbnRlbnQpO1xuXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiAnZmlsZTpyYW5nZV9lZGl0OnJlc3BvbnNlJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogcGF5bG9hZC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnUmFuZ2UgZWRpdGVkIHN1Y2Nlc3NmdWxseSdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShyZXNwb25zZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmaWxlOnJhbmdlX2VkaXQ6cmVzcG9uc2UnLCAnRmFpbGVkIHRvIGVkaXQgcmFuZ2UnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaGFuZGxlRWRpdG9yRWRpdChtZXNzYWdlOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0hhbmRsaW5nIGZpbGU6ZWRpdG9yX2VkaXQgcmVxdWVzdCcsIHsgcGF0aDogbWVzc2FnZS5wYXlsb2FkPy5wYXRoIH0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IG1lc3NhZ2UucGF5bG9hZDtcbiAgICAgICAgICAgIGlmICghcGF5bG9hZD8ucGF0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZpbGU6ZWRpdG9yX2VkaXQ6cmVzcG9uc2UnLCAnTWlzc2luZyBmaWxlIHBhdGggcGFyYW1ldGVyJywgbWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBmaWxlID0gdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChwYXlsb2FkLnBhdGgpO1xuICAgICAgICAgICAgaWYgKCFmaWxlIHx8ICEoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZpbGU6ZWRpdG9yX2VkaXQ6cmVzcG9uc2UnLCAnRmlsZSBub3QgZm91bmQnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEdldCB0aGUgYWN0aXZlIGVkaXRvciBpZiB0aGlzIGZpbGUgaXMgb3BlblxuICAgICAgICAgICAgY29uc3QgYWN0aXZlVmlldyA9IHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpO1xuICAgICAgICAgICAgbGV0IHByb2Nlc3NlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAoYWN0aXZlVmlldyAmJiBhY3RpdmVWaWV3LmZpbGU/LnBhdGggPT09IHBheWxvYWQucGF0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVkaXRvciA9IGFjdGl2ZVZpZXcuZWRpdG9yO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wZXJhdGlvbiA9IHBheWxvYWQuZWRpdG9yTWV0aG9kIHx8ICdyZXBsYWNlJztcblxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBbRURJVE9SXSBQcm9jZXNzaW5nIGVkaXRvciBvcGVyYXRpb246ICR7b3BlcmF0aW9ufSB3aXRoIHBheWxvYWQ6YCwgcGF5bG9hZCk7XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG9wZXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdyZXBsYWNlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLmNvbnRlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5zZXRWYWx1ZShwYXlsb2FkLmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnYXBwZW5kJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLmNvbnRlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RMaW5lID0gZWRpdG9yLmxhc3RMaW5lKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnJlcGxhY2VSYW5nZSgnXFxuJyArIHBheWxvYWQuY29udGVudCwgeyBsaW5lOiBsYXN0TGluZSwgY2g6IGVkaXRvci5nZXRMaW5lKGxhc3RMaW5lKS5sZW5ndGggfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdwcmVwZW5kJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLmNvbnRlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5yZXBsYWNlUmFuZ2UocGF5bG9hZC5jb250ZW50ICsgJ1xcbicsIHsgbGluZTogMCwgY2g6IDAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdpbnNlcnQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuY29udGVudCAhPT0gdW5kZWZpbmVkICYmIHBheWxvYWQubGluZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluZSA9IE1hdGgubWF4KDAsIHBheWxvYWQubGluZSAtIDEpOyAvLyBDb252ZXJ0IHRvIDAtYmFzZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IucmVwbGFjZVJhbmdlKHBheWxvYWQuY29udGVudCArICdcXG4nLCB7IGxpbmUsIGNoOiAwIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmVwbGFjZV9saW5lJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLmNvbnRlbnQgIT09IHVuZGVmaW5lZCAmJiBwYXlsb2FkLmxpbmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBNYXRoLm1heCgwLCBwYXlsb2FkLmxpbmUgLSAxKTsgLy8gQ29udmVydCB0byAwLWJhc2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUgPCBlZGl0b3IubGluZUNvdW50KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQVBJIGV4cGVjdHM6IHNldExpbmUobjogbnVtYmVyLCB0ZXh0OiBzdHJpbmcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5zZXRMaW5lKGxpbmUsIHBheWxvYWQuY29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBbRURJVE9SXSBSZXBsYWNlZCBsaW5lICR7cGF5bG9hZC5saW5lfSB3aXRoIG5ldyBjb250ZW50YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihgW0VESVRPUl0gTGluZSAke3BheWxvYWQubGluZX0gZG9lcyBub3QgZXhpc3QgKGZpbGUgaGFzICR7ZWRpdG9yLmxpbmVDb3VudCgpfSBsaW5lcylgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmVwbGFjZV9zZWxlY3Rpb24nOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuY29udGVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQVBJIGV4cGVjdHM6IHJlcGxhY2VTZWxlY3Rpb24ocmVwbGFjZW1lbnQ6IHN0cmluZylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24ocGF5bG9hZC5jb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFtFRElUT1JdIFJlcGxhY2VkIHNlbGVjdGVkIHRleHQgd2l0aCBuZXcgY29udGVudGApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oYFtFRElUT1JdIE5vIHRleHQgY3VycmVudGx5IHNlbGVjdGVkIGZvciByZXBsYWNlbWVudGApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdpbnNlcnRfYXQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuY29udGVudCAhPT0gdW5kZWZpbmVkICYmIHBheWxvYWQubGluZSAhPT0gdW5kZWZpbmVkICYmIHBheWxvYWQuY2hhciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9zID0geyBsaW5lOiBwYXlsb2FkLmxpbmUgLSAxLCBjaDogcGF5bG9hZC5jaGFyIH07IC8vIENvbnZlcnQgdG8gMC1iYXNlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFQSSBleHBlY3RzOiByZXBsYWNlUmFuZ2UocmVwbGFjZW1lbnQ6IHN0cmluZywgZnJvbTogRWRpdG9yUG9zaXRpb24sIHRvPzogRWRpdG9yUG9zaXRpb24pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnJlcGxhY2VSYW5nZShwYXlsb2FkLmNvbnRlbnQsIHBvcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgW0VESVRPUl0gSW5zZXJ0ZWQgY29udGVudCBhdCBwb3NpdGlvbiAke3BheWxvYWQubGluZX06JHtwYXlsb2FkLmNoYXJ9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmVwbGFjZV9yYW5nZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5jb250ZW50ICE9PSB1bmRlZmluZWQgJiYgcGF5bG9hZC5mcm9tTGluZSAhPT0gdW5kZWZpbmVkICYmIHBheWxvYWQuZnJvbUNoYXIgIT09IHVuZGVmaW5lZCAmJiBwYXlsb2FkLnRvTGluZSAhPT0gdW5kZWZpbmVkICYmIHBheWxvYWQudG9DaGFyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmcm9tUG9zID0geyBsaW5lOiBwYXlsb2FkLmZyb21MaW5lIC0gMSwgY2g6IHBheWxvYWQuZnJvbUNoYXIgfTsgLy8gQ29udmVydCB0byAwLWJhc2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9Qb3MgPSB7IGxpbmU6IHBheWxvYWQudG9MaW5lIC0gMSwgY2g6IHBheWxvYWQudG9DaGFyIH07IC8vIENvbnZlcnQgdG8gMC1iYXNlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFQSSBleHBlY3RzOiByZXBsYWNlUmFuZ2UocmVwbGFjZW1lbnQ6IHN0cmluZywgZnJvbTogRWRpdG9yUG9zaXRpb24sIHRvPzogRWRpdG9yUG9zaXRpb24pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnJlcGxhY2VSYW5nZShwYXlsb2FkLmNvbnRlbnQsIGZyb21Qb3MsIHRvUG9zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBbRURJVE9SXSBSZXBsYWNlZCByYW5nZSBmcm9tICR7cGF5bG9hZC5mcm9tTGluZX06JHtwYXlsb2FkLmZyb21DaGFyfSB0byAke3BheWxvYWQudG9MaW5lfToke3BheWxvYWQudG9DaGFyfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2luc2VydF9hZnRlcl9oZWFkaW5nJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLmNvbnRlbnQgIT09IHVuZGVmaW5lZCAmJiBwYXlsb2FkLmhlYWRpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpbmQgdGhlIGhlYWRpbmcgaW4gdGhlIGRvY3VtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGluZ1RvRmluZCA9IHBheWxvYWQuaGVhZGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b3RhbExpbmVzID0gZWRpdG9yLmxpbmVDb3VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbnNlcnRMaW5lID0gLTE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsTGluZXM7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5lID0gZWRpdG9yLmdldExpbmUoaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBtYXJrZG93biBoZWFkaW5nICgjIEhlYWRpbmcgb3IgIyMgSGVhZGluZywgZXRjLilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUuc3RhcnRzV2l0aCgnIycpICYmIGxpbmUuaW5jbHVkZXMoaGVhZGluZ1RvRmluZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydExpbmUgPSBpICsgMTsgLy8gSW5zZXJ0IGFmdGVyIHRoZSBoZWFkaW5nIGxpbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsc28gY2hlY2sgZm9yIGNvbnRlbnQgdGhhdCBtYXRjaGVzIHRoZSBoZWFkaW5nIChjYXNlLWluc2Vuc2l0aXZlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGhlYWRpbmdUb0ZpbmQudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydExpbmUgPSBpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluc2VydExpbmUgPj0gMCAmJiBpbnNlcnRMaW5lIDw9IHRvdGFsTGluZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnJlcGxhY2VSYW5nZSgnXFxuJyArIHBheWxvYWQuY29udGVudCArICdcXG4nLCB7IGxpbmU6IGluc2VydExpbmUsIGNoOiAwIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgW0VESVRPUl0gSW5zZXJ0ZWQgY29udGVudCBhZnRlciBoZWFkaW5nIFwiJHtoZWFkaW5nVG9GaW5kfVwiIGF0IGxpbmUgJHtpbnNlcnRMaW5lfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oYFtFRElUT1JdIEhlYWRpbmcgXCIke2hlYWRpbmdUb0ZpbmR9XCIgbm90IGZvdW5kIGluIGRvY3VtZW50YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrOiBhcHBlbmQgdG8gZW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RMaW5lID0gZWRpdG9yLmxhc3RMaW5lKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5yZXBsYWNlUmFuZ2UoJ1xcblxcbicgKyBwYXlsb2FkLmNvbnRlbnQsIHsgbGluZTogbGFzdExpbmUsIGNoOiBlZGl0b3IuZ2V0TGluZShsYXN0TGluZSkubGVuZ3RoIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgW0VESVRPUl0gSGVhZGluZyBub3QgZm91bmQsIGFwcGVuZGVkIGNvbnRlbnQgdG8gZW5kIGluc3RlYWRgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIHZhdWx0IEFQSSBpZiBlZGl0b3Igbm90IGF2YWlsYWJsZVxuICAgICAgICAgICAgaWYgKCFwcm9jZXNzZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50Q29udGVudCA9IGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xuICAgICAgICAgICAgICAgIGxldCBuZXdDb250ZW50ID0gY3VycmVudENvbnRlbnQ7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBvcGVyYXRpb24gPSBwYXlsb2FkLmVkaXRvck1ldGhvZCB8fCAncmVwbGFjZSc7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFtFRElUT1JdIEZhbGxiYWNrIHRvIHZhdWx0IEFQSSBmb3Igb3BlcmF0aW9uOiAke29wZXJhdGlvbn0gd2l0aCBwYXlsb2FkOmAsIHBheWxvYWQpO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoIChvcGVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmVwbGFjZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5jb250ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDb250ZW50ID0gcGF5bG9hZC5jb250ZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2FwcGVuZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5jb250ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDb250ZW50ID0gY3VycmVudENvbnRlbnQgKyAnXFxuJyArIHBheWxvYWQuY29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdwcmVwZW5kJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLmNvbnRlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NvbnRlbnQgPSBwYXlsb2FkLmNvbnRlbnQgKyAnXFxuJyArIGN1cnJlbnRDb250ZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2luc2VydCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5jb250ZW50ICE9PSB1bmRlZmluZWQgJiYgcGF5bG9hZC5saW5lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5lcyA9IGN1cnJlbnRDb250ZW50LnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5lID0gTWF0aC5tYXgoMCwgcGF5bG9hZC5saW5lIC0gMSk7IC8vIENvbnZlcnQgdG8gMC1iYXNlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzLnNwbGljZShsaW5lLCAwLCBwYXlsb2FkLmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NvbnRlbnQgPSBsaW5lcy5qb2luKCdcXG4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdpbnNlcnRfYWZ0ZXJfaGVhZGluZyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5jb250ZW50ICE9PSB1bmRlZmluZWQgJiYgcGF5bG9hZC5oZWFkaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5lcyA9IGN1cnJlbnRDb250ZW50LnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkaW5nVG9GaW5kID0gcGF5bG9hZC5oZWFkaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbnNlcnRMaW5lSW5kZXggPSAtMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpbmQgdGhlIGhlYWRpbmcgbGluZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluZSA9IGxpbmVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluZS5zdGFydHNXaXRoKCcjJykgJiYgbGluZS5pbmNsdWRlcyhoZWFkaW5nVG9GaW5kKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0TGluZUluZGV4ID0gaSArIDE7IC8vIEluc2VydCBhZnRlciBoZWFkaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGhlYWRpbmdUb0ZpbmQudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydExpbmVJbmRleCA9IGkgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5zZXJ0TGluZUluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMuc3BsaWNlKGluc2VydExpbmVJbmRleCwgMCwgJycsIHBheWxvYWQuY29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NvbnRlbnQgPSBsaW5lcy5qb2luKCdcXG4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFtFRElUT1JdIEluc2VydGVkIGNvbnRlbnQgYWZ0ZXIgaGVhZGluZyBcIiR7aGVhZGluZ1RvRmluZH1cIiBhdCBsaW5lICR7aW5zZXJ0TGluZUluZGV4fWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrOiBhcHBlbmQgdG8gZW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NvbnRlbnQgPSBjdXJyZW50Q29udGVudCArICdcXG5cXG4nICsgcGF5bG9hZC5jb250ZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgW0VESVRPUl0gSGVhZGluZyBcIiR7aGVhZGluZ1RvRmluZH1cIiBub3QgZm91bmQsIGFwcGVuZGVkIHRvIGVuZCBpbnN0ZWFkYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlICdpbnNlcnRfYXQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuY29udGVudCAhPT0gdW5kZWZpbmVkICYmIHBheWxvYWQubGluZSAhPT0gdW5kZWZpbmVkICYmIHBheWxvYWQuY2hhciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluZXMgPSBjdXJyZW50Q29udGVudC5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluZSA9IE1hdGgubWF4KDAsIHBheWxvYWQubGluZSAtIDEpOyAvLyBDb252ZXJ0IHRvIDAtYmFzZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluZSA8IGxpbmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50TGluZSA9IGxpbmVzW2xpbmVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiZWZvcmUgPSBjdXJyZW50TGluZS5zdWJzdHJpbmcoMCwgcGF5bG9hZC5jaGFyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWZ0ZXIgPSBjdXJyZW50TGluZS5zdWJzdHJpbmcocGF5bG9hZC5jaGFyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZXNbbGluZV0gPSBiZWZvcmUgKyBwYXlsb2FkLmNvbnRlbnQgKyBhZnRlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q29udGVudCA9IGxpbmVzLmpvaW4oJ1xcbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgW0VESVRPUl0gVmF1bHQgQVBJOiBJbnNlcnRlZCBjb250ZW50IGF0IHBvc2l0aW9uICR7cGF5bG9hZC5saW5lfToke3BheWxvYWQuY2hhcn1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGBbRURJVE9SXSBMaW5lICR7cGF5bG9hZC5saW5lfSBkb2VzIG5vdCBleGlzdCAoZmlsZSBoYXMgJHtsaW5lcy5sZW5ndGh9IGxpbmVzKWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdyZXBsYWNlX3JhbmdlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLmNvbnRlbnQgIT09IHVuZGVmaW5lZCAmJiBwYXlsb2FkLmZyb21MaW5lICE9PSB1bmRlZmluZWQgJiYgcGF5bG9hZC5mcm9tQ2hhciAhPT0gdW5kZWZpbmVkICYmIHBheWxvYWQudG9MaW5lICE9PSB1bmRlZmluZWQgJiYgcGF5bG9hZC50b0NoYXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gY3VycmVudENvbnRlbnQuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyb21MaW5lID0gTWF0aC5tYXgoMCwgcGF5bG9hZC5mcm9tTGluZSAtIDEpOyAvLyBDb252ZXJ0IHRvIDAtYmFzZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b0xpbmUgPSBNYXRoLm1heCgwLCBwYXlsb2FkLnRvTGluZSAtIDEpOyAvLyBDb252ZXJ0IHRvIDAtYmFzZWRcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcm9tTGluZSA9PT0gdG9MaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNpbmdsZSBsaW5lIHJlcGxhY2VtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBsaW5lc1tmcm9tTGluZV0gfHwgJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJlZm9yZSA9IGxpbmUuc3Vic3RyaW5nKDAsIHBheWxvYWQuZnJvbUNoYXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhZnRlciA9IGxpbmUuc3Vic3RyaW5nKHBheWxvYWQudG9DaGFyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZXNbZnJvbUxpbmVdID0gYmVmb3JlICsgcGF5bG9hZC5jb250ZW50ICsgYWZ0ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTXVsdGktbGluZSByZXBsYWNlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaXJzdExpbmUgPSBsaW5lc1tmcm9tTGluZV0gfHwgJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RMaW5lID0gbGluZXNbdG9MaW5lXSB8fCAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmVmb3JlID0gZmlyc3RMaW5lLnN1YnN0cmluZygwLCBwYXlsb2FkLmZyb21DaGFyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWZ0ZXIgPSBsYXN0TGluZS5zdWJzdHJpbmcocGF5bG9hZC50b0NoYXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdMaW5lcyA9IHBheWxvYWQuY29udGVudC5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0xpbmVzWzBdID0gYmVmb3JlICsgbmV3TGluZXNbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0xpbmVzW25ld0xpbmVzLmxlbmd0aCAtIDFdID0gbmV3TGluZXNbbmV3TGluZXMubGVuZ3RoIC0gMV0gKyBhZnRlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMuc3BsaWNlKGZyb21MaW5lLCB0b0xpbmUgLSBmcm9tTGluZSArIDEsIC4uLm5ld0xpbmVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q29udGVudCA9IGxpbmVzLmpvaW4oJ1xcbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBbRURJVE9SXSBWYXVsdCBBUEk6IFJlcGxhY2VkIHJhbmdlIGZyb20gJHtwYXlsb2FkLmZyb21MaW5lfToke3BheWxvYWQuZnJvbUNoYXJ9IHRvICR7cGF5bG9hZC50b0xpbmV9OiR7cGF5bG9hZC50b0NoYXJ9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmVwbGFjZV9saW5lJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLmNvbnRlbnQgIT09IHVuZGVmaW5lZCAmJiBwYXlsb2FkLmxpbmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gY3VycmVudENvbnRlbnQuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBNYXRoLm1heCgwLCBwYXlsb2FkLmxpbmUgLSAxKTsgLy8gQ29udmVydCB0byAwLWJhc2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUgPCBsaW5lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZXNbbGluZV0gPSBwYXlsb2FkLmNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NvbnRlbnQgPSBsaW5lcy5qb2luKCdcXG4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFtFRElUT1JdIFZhdWx0IEFQSTogUmVwbGFjZWQgbGluZSAke3BheWxvYWQubGluZX0gd2l0aCBuZXcgY29udGVudGApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oYFtFRElUT1JdIExpbmUgJHtwYXlsb2FkLmxpbmV9IGRvZXMgbm90IGV4aXN0IChmaWxlIGhhcyAke2xpbmVzLmxlbmd0aH0gbGluZXMpYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlcGxhY2Vfc2VsZWN0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZhdWx0IEFQSSBmYWxsYmFjayAtIGNhbm5vdCBkZXRlY3Qgc2VsZWN0aW9uLCBzbyByZXBsYWNlIGVudGlyZSBjb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5jb250ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDb250ZW50ID0gcGF5bG9hZC5jb250ZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBbRURJVE9SXSBWYXVsdCBBUEk6IFJlcGxhY2Ugc2VsZWN0aW9uIGZhbGxiYWNrIC0gcmVwbGFjZWQgZW50aXJlIGNvbnRlbnQgKG5vIGFjdGl2ZSBlZGl0b3IpYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5tb2RpZnkoZmlsZSwgbmV3Q29udGVudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdmaWxlOmVkaXRvcl9lZGl0OnJlc3BvbnNlJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogcGF5bG9hZC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb246IHBheWxvYWQuZWRpdG9yTWV0aG9kIHx8ICdyZXBsYWNlJyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0VkaXRvciBlZGl0IGNvbXBsZXRlZCBzdWNjZXNzZnVsbHknXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UocmVzcG9uc2UpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTplZGl0b3JfZWRpdDpyZXNwb25zZScsICdGYWlsZWQgdG8gcGVyZm9ybSBlZGl0b3IgZWRpdCcsIG1lc3NhZ2UuaWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVDb25uZWN0ZWQobWVzc2FnZTogYW55KTogdm9pZCB7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVSZWdpc3RlcmVkKG1lc3NhZ2U6IGFueSk6IHZvaWQge1xuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdbV0VCU09DS0VUXSBTdWNjZXNzZnVsbHkgcmVnaXN0ZXJlZCB3aXRoIHNlcnZlcicpO1xuXG4gICAgICAgIC8vIFVwZGF0ZSB2YXVsdCByZWdpc3RyeSBjb25uZWN0aW9uIHN0YXR1c1xuICAgICAgICBpZiAodGhpcy52YXVsdFJlZ2lzdHJ5U2VydmljZSkge1xuICAgICAgICAgICAgY29uc3QgYWN0aXZlVmF1bHRJZCA9IHRoaXMudmF1bHRSZWdpc3RyeVNlcnZpY2UuZ2V0QWN0aXZlVmF1bHRJZCgpO1xuICAgICAgICAgICAgaWYgKGFjdGl2ZVZhdWx0SWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlLnVwZGF0ZVZhdWx0Q29ubmVjdGlvbihhY3RpdmVWYXVsdElkLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc2VuZEVycm9yUmVzcG9uc2UocmVzcG9uc2VUeXBlOiBzdHJpbmcsIGVycm9yTWVzc2FnZTogc3RyaW5nLCBtZXNzYWdlSWQ/OiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICBpZDogbWVzc2FnZUlkLFxuICAgICAgICAgICAgdHlwZTogcmVzcG9uc2VUeXBlLFxuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIGVycm9yOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgICAgICBlcnJvckNvZGU6ICdPUEVSQVRJT05fRkFJTEVEJ1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHJlc3BvbnNlKTtcbiAgICB9XG5cbiAgICBnZXRTdGF0dXMoKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLndzRW5hYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuICdEaXNhYmxlZCc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jbGllbnQgJiYgdGhpcy5jbGllbnQucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgICAgICAgIHJldHVybiBgQ29ubmVjdGVkIHRvIHBvcnQgJHt0aGlzLnNldHRpbmdzLndzUG9ydH1gO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucmVjb25uZWN0VGltZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBgUmVjb25uZWN0aW5nLi4uIChhdHRlbXB0ICR7dGhpcy5yZWNvbm5lY3RBdHRlbXB0c30pYDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAnRGlzY29ubmVjdGVkJztcbiAgICB9XG5cbiAgICBhc3luYyByZXN0YXJ0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW1dFQlNPQ0tFVF0gUmVzdGFydGluZyBXZWJTb2NrZXQgc2VydmljZS4uLicpO1xuICAgICAgICBhd2FpdCB0aGlzLnN0b3AoKTtcblxuICAgICAgICAvLyBPbmx5IHN0YXJ0IGlmIGVuYWJsZWQgaW4gc2V0dGluZ3NcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3Mud3NFbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW1dFQlNPQ0tFVF0gU2V0dGluZ3MgZW5hYmxlZCAtIHN0YXJ0aW5nIFdlYlNvY2tldCBzZXJ2aWNlJyk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW1dFQlNPQ0tFVF0gU2V0dGluZ3MgZGlzYWJsZWQgLSBXZWJTb2NrZXQgc2VydmljZSB3aWxsIHJlbWFpbiBzdG9wcGVkJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIHNlcnZpY2Ugc2V0dGluZ3MgdG8gZW5zdXJlIGZyZXNoIGNvbmZpZ3VyYXRpb25cbiAgICAgKi9cbiAgICB1cGRhdGVTZXR0aW5ncyhuZXdTZXR0aW5nczogR3JhcGhpdGlQbHVnaW5TZXR0aW5ncyk6IHZvaWQge1xuICAgICAgICAvLyBAdmVzc2VsLXByb3RvY29sOkJhbGRyIGdvdmVybnM6W2RlYnVnLWZpeHxzZXR0aW5nc10gY29udGV4dDpQcm9wZXIgZGVidWcgc2V0dGluZ3MgcHJvcGFnYXRpb24gdG8gbG9nZ2VyXG4gICAgICAgIC8vIEBpbnRlci1kZXBlbmRlbmNpZXM6IFtHcmFwaGl0aUxvZ2dlciwgc2V0dGluZ3MtZGVidWctc3RhdGVdXG4gICAgICAgIC8vIEBwdXJwb3NlOiBFbnN1cmUgV2ViU29ja2V0U2VydmljZSBsb2dnZXIgcmVzcGVjdHMgZW5hYmxlRGVidWdMb2dnaW5nIHNldHRpbmcgY2hhbmdlc1xuICAgICAgICAvLyBAcmVzdWx0OiBDb25zb2xlIGRlYnVnIGxvZ2dpbmcgd29ya3Mgd2hlbiBlbmFibGVkIGluIHNldHRpbmdzXG4gICAgICAgIC8vIEBzaWduZWQ6IEMuQmrDuHJuXG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBuZXdTZXR0aW5ncztcbiAgICAgICAgdGhpcy5sb2dnZXIuc2V0RGVidWcobmV3U2V0dGluZ3MuZW5hYmxlRGVidWdMb2dnaW5nKTtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tXRUJTT0NLRVRdIFVwZGF0aW5nIHNlcnZpY2Ugc2V0dGluZ3MnKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgQXBwLCBQbHVnaW4sIG5vcm1hbGl6ZVBhdGgsIEV2ZW50cyB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IGpvaW4sIGlzQWJzb2x1dGUsIHJlbGF0aXZlIH0gZnJvbSAncGF0aCc7XG5pbXBvcnQgdHlwZSB7IFN5bmNSZWdpc3RyeSwgU3luY1JlY29yZCwgU3luY0VudHJ5IH0gZnJvbSAnLi4vdHlwZXMvU3luY1JlZ2lzdHJ5JztcbmltcG9ydCB0eXBlIHsgR3JhcGhpdGlQbHVnaW5TZXR0aW5ncyB9IGZyb20gJy4uL3R5cGVzL1NldHRpbmdzJztcbmltcG9ydCB7IEdyYXBoaXRpTG9nZ2VyIH0gZnJvbSAnLi4vdXRpbHMvTG9nZ2VyJztcbmltcG9ydCB7IFN5bmNWYWxpZGF0b3IgfSBmcm9tICcuLi91dGlscy9TeW5jVmFsaWRhdG9yJztcblxuaW50ZXJmYWNlIEdyYXBoaXRpUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcbiAgICBzZXR0aW5nczogR3JhcGhpdGlQbHVnaW5TZXR0aW5ncztcbn1cblxuLyoqXG4gKiBTZXJ2aWNlIGZvciBtYW5hZ2luZyB0aGUgc3luYy5qc29uIHJlZ2lzdHJ5IHdpdGggbW1fdWlkIGFzIHRoZSBwcmltYXJ5IGlkZW50aWZpZXJcbiAqIFRoaXMgc2VydmljZSBtYW5hZ2VzIGFuIGluLW1lbW9yeSBjb3B5IG9mIHN5bmMgcmVjb3JkcyBhbmQgcHJvdmlkZXMgbWV0aG9kcyB0byBxdWVyeSBhbmQgbWFuaXB1bGF0ZSB0aGVtXG4gKi9cbmV4cG9ydCBjbGFzcyBTeW5jUmVnaXN0cnlTZXJ2aWNlIGV4dGVuZHMgRXZlbnRzIHtcbiAgICBwcml2YXRlIGFwcDogQXBwO1xuICAgIHByaXZhdGUgcGx1Z2luOiBHcmFwaGl0aVBsdWdpbjtcbiAgICBwcml2YXRlIGxvZ2dlcjogR3JhcGhpdGlMb2dnZXI7XG4gICAgcHJpdmF0ZSBzeW5jUmVjb3JkczogU3luY1JlY29yZFtdID0gW107XG4gICAgcHVibGljIHJlZ2lzdHJ5UGF0aDogc3RyaW5nO1xuICAgIHByaXZhdGUgaXNMb2FkZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIC8vIEB2ZXNzZWwtcHJvdG9jb2w6VWxsciBnb3Zlcm5zOltwZXJmb3JtYW5jZXxkZWJ1Z10gY29udGV4dDpSZWdpc3RyeSBzYXZlIGJhdGNoaW5nIG9wdGltaXphdGlvblxuICAgIHByaXZhdGUgc2F2ZVRpbWVvdXQ6IE5vZGVKUy5UaW1lb3V0IHwgbnVsbCA9IG51bGw7XG4gICAgcHJpdmF0ZSByZWFkb25seSBTQVZFX0RFQk9VTkNFX01TID0gMzAwO1xuXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogR3JhcGhpdGlQbHVnaW4sIGxvZ2dlcjogR3JhcGhpdGlMb2dnZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5hcHAgPSBhcHA7XG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcbiAgICAgICAgLy8gUHJlZmVyIHRoZSBwbHVnaW4gbWFuaWZlc3QgZGlyIChyZWFsIGluc3RhbGwgbG9jYXRpb24pLiBJZiBtYW5pZmVzdC5kaXIgaXMgbm90IGF2YWlsYWJsZSBmb3Igc29tZSByZWFzb24sXG4gICAgICAgIC8vIGZhbGwgYmFjayB0byB0aGUgY3VycmVudCBwbHVnaW4gaWQgZGlyZWN0b3J5LiBVc2UgdGhlIHJlbmFtZWQgcGx1Z2luIGlkICdtZWdhbWVtLW1jcCcgYXMgdGhlIGZhbGxiYWNrLlxuICAgICAgICB0aGlzLnJlZ2lzdHJ5UGF0aCA9IG5vcm1hbGl6ZVBhdGgoam9pbihwbHVnaW4ubWFuaWZlc3QuZGlyIHx8ICcub2JzaWRpYW4vcGx1Z2lucy9tZWdhbWVtLW1jcCcsICdzeW5jLmpzb24nKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9hZCB0aGUgc3luYyByZWdpc3RyeSBmcm9tIGRpc2sgYW5kIHBvcHVsYXRlIGluLW1lbW9yeSBzeW5jX3JlY29yZHMgYXJyYXlcbiAgICAgKiBJbmNsdWRlcyBhdXRvbWF0aWMgbWlncmF0aW9uIGZyb20gb2xkIGZvcm1hdCBpZiBkZXRlY3RlZFxuICAgICAqL1xuICAgIGFzeW5jIGxvYWQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIENoZWNrIGlmIGZpbGUgZXhpc3RzIGZpcnN0XG4gICAgICAgIGNvbnN0IGZpbGVFeGlzdHMgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLmV4aXN0cyh0aGlzLnJlZ2lzdHJ5UGF0aCk7XG5cbiAgICAgICAgaWYgKCFmaWxlRXhpc3RzKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgW0RFQlVHXSBzeW5jLmpzb24gZG9lcyBub3QgZXhpc3QsIGNyZWF0aW5nIG5ldyBvbmVgKTtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1tTWU5DLVJFR0lTVFJZXSBObyBleGlzdGluZyBzeW5jIHJlZ2lzdHJ5IGZvdW5kLCBjcmVhdGluZyBuZXcgb25lJyk7XG4gICAgICAgICAgICB0aGlzLnN5bmNSZWNvcmRzID0gW107XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNhdmUoKTtcbiAgICAgICAgICAgIHRoaXMuaXNMb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmlsZSBleGlzdHMsIHRyeSB0byByZWFkIGFuZCBwYXJzZSBpdFxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIucmVhZCh0aGlzLnJlZ2lzdHJ5UGF0aCk7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWREYXRhID0gSlNPTi5wYXJzZShjb250ZW50KTtcblxuICAgICAgICAgICAgLy8gQHZlc3NlbC1wcm90b2NvbDpIZWltZGFsbCBnb3Zlcm5zOltsZWdhY3ktY2xlYW51cHxkZWJ1Z10gY29udGV4dDpTaW1wbGlmaWVkIHJlZ2lzdHJ5IGxvYWRpbmcgd2l0aG91dCBtaWdyYXRpb25cbiAgICAgICAgICAgIC8vIExvYWQgcmVnaXN0cnkgZGF0YSBkaXJlY3RseSAobWlncmF0aW9uIGNvZGUgcmVtb3ZlZClcbiAgICAgICAgICAgIGNvbnN0IHJlZ2lzdHJ5OiBTeW5jUmVnaXN0cnkgPSBwYXJzZWREYXRhO1xuICAgICAgICAgICAgdGhpcy5zeW5jUmVjb3JkcyA9IHJlZ2lzdHJ5LnN5bmNfcmVjb3JkcyB8fCBbXTtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oYFtTWU5DLVJFR0lTVFJZXSBMb2FkZWQgc3luYyByZWdpc3RyeSB3aXRoICR7dGhpcy5zeW5jUmVjb3Jkcy5sZW5ndGh9IHJlY29yZHMuYCk7XG5cbiAgICAgICAgICAgIHRoaXMuaXNMb2FkZWQgPSB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoYFtERUJVR10gRXJyb3IgbG9hZGluZyBzeW5jLmpzb246YCwgZXJyb3IpO1xuICAgICAgICAgICAgLy8gRmlsZSBleGlzdHMgYnV0IGlzIGNvcnJ1cHQgLSBkbyBOT1Qgb3ZlcndyaXRlIGl0XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignW1NZTkMtUkVHSVNUUlldIENSSVRJQ0FMIEVSUk9SOiBSZWdpc3RyeSBmaWxlIGlzIGNvcnJ1cHQgYW5kIGNhbm5vdCBiZSBwYXJzZWQuIExvYWRpbmcgZW1wdHkgcmVnaXN0cnkgaW4gbWVtb3J5IHdpdGhvdXQgb3ZlcndyaXRpbmcgZmlsZS4nLCBlcnJvcik7XG4gICAgICAgICAgICB0aGlzLnN5bmNSZWNvcmRzID0gW107XG4gICAgICAgICAgICB0aGlzLmlzTG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNhdmUgdGhlIGluLW1lbW9yeSBzeW5jX3JlY29yZHMgYXJyYXkgYmFjayB0byBzeW5jLmpzb24gZmlsZSAoZGVib3VuY2VkKVxuICAgICAqIE11bHRpcGxlIHJhcGlkIGNhbGxzIHdpbGwgYmUgYmF0Y2hlZCBpbnRvIGEgc2luZ2xlIHNhdmUgb3BlcmF0aW9uXG4gICAgICovXG4gICAgYXN5bmMgc2F2ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gQHZlc3NlbC1wcm90b2NvbDpNaW1pciBnb3Zlcm5zOltkZWJ1Z3xkaWFnbm9zaXNdIGNvbnRleHQ6UmVnaXN0cnkgc2F2ZSBldmVudCB0cmFja2luZ1xuICAgICAgICAvLyBDYW5jZWwgYW55IGV4aXN0aW5nIHRpbWVvdXRcbiAgICAgICAgaWYgKHRoaXMuc2F2ZVRpbWVvdXQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnNhdmVUaW1lb3V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCB1cCBkZWJvdW5jZWQgc2F2ZVxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zYXZlVGltZW91dCA9IHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGVyZm9ybVNhdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zYXZlVGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgdGhpcy5TQVZFX0RFQk9VTkNFX01TKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9yY2UgaW1tZWRpYXRlIHNhdmUgd2l0aG91dCBkZWJvdW5jaW5nIChmb3IgY3JpdGljYWwgb3BlcmF0aW9ucylcbiAgICAgKi9cbiAgICBhc3luYyBzYXZlSW1tZWRpYXRlKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAodGhpcy5zYXZlVGltZW91dCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuc2F2ZVRpbWVvdXQpO1xuICAgICAgICAgICAgdGhpcy5zYXZlVGltZW91dCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy5wZXJmb3JtU2F2ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludGVybmFsIG1ldGhvZCB0aGF0IHBlcmZvcm1zIHRoZSBhY3R1YWwgc2F2ZSBvcGVyYXRpb25cbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIHBlcmZvcm1TYXZlKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVnaXN0cnk6IFN5bmNSZWdpc3RyeSA9IHtcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiAnMS4wJyxcbiAgICAgICAgICAgICAgICBzeW5jX3JlY29yZHM6IHRoaXMuc3luY1JlY29yZHNcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBKU09OLnN0cmluZ2lmeShyZWdpc3RyeSwgbnVsbCwgMik7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLndyaXRlKHRoaXMucmVnaXN0cnlQYXRoLCBjb250ZW50KTtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcignY2hhbmdlZCcpOyAvLyBUcmlnZ2VyIGNoYW5nZSBldmVudFxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1tTWU5DLVJFR0lTVFJZXSBGYWlsZWQgdG8gc2F2ZSBzeW5jIHJlZ2lzdHJ5OicsIHtcbiAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3JNZXNzYWdlLFxuICAgICAgICAgICAgICAgIHBhdGg6IHRoaXMucmVnaXN0cnlQYXRoLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHNhdmUgc3luYyByZWdpc3RyeTogJHtlcnJvck1lc3NhZ2V9YCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBAdmVzc2VsLXByb3RvY29sOkZyaWdnIGdvdmVybnM6W21tX3VpZC1yZWZhY3RvcnxtaWdyYXRpb25dIGNvbnRleHQ6U3dpdGNoIHByaW1hcnkgaWRlbnRpZmllciBmcm9tIG5vdGVfcGF0aCB0byBtbV91aWRcbiAgICAvLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbdHlwZXMvU3luY1JlZ2lzdHJ5LnRzLCB1dGlscy9Gcm9udG1hdHRlclV0aWxzLnRzIChmb3IgbWlncmF0aW9uKV1cbiAgICAvLyBAcHVycG9zZTogUHJvdmlkZSBtbV91aWQtZmlyc3QgbG9va3VwIEFQSXMgd2hpbGUgcmV0YWluaW5nIHBhdGgtYmFzZWQgaGVscGVycyBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICAgIC8vIEByZXN1bHQ6IEFsbCBwcmltYXJ5IHF1ZXJpZXMgYW5kIG11dGF0aW9ucyB1c2UgbW1fdWlkIGFzIGF1dGhvcml0YXRpdmUgaWRlbnRpZmllcjsgbm90ZV9wYXRoIHByZXNlcnZlZCBmb3IgcmVmZXJlbmNlXG4gICAgLy8gQHNpZ25lZDogQy5CasO4cm5cbiAgICAvKipcbiAgICAgKiBGaW5kIGEgc3BlY2lmaWMgc3luYyByZWNvcmQgYnkgbW1fdWlkIGluIGEgZ2l2ZW4gdmF1bHRcbiAgICAgKi9cbiAgICBnZXRTeW5jUmVjb3JkKG1tVWlkOiBzdHJpbmcsIHZhdWx0SWQ6IHN0cmluZywgY29udGV4dD86IHN0cmluZyk6IFN5bmNSZWNvcmQgfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAoIW1tVWlkIHx8IHR5cGVvZiBtbVVpZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ1tTWU5DLVJFR0lTVFJZXSBnZXRTeW5jUmVjb3JkIGNhbGxlZCB3aXRob3V0IG1tX3VpZCcsIHsgdmF1bHRJZCwgY29udGV4dCB9KTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnN5bmNSZWNvcmRzLmZpbmQocmVjb3JkID0+XG4gICAgICAgICAgICByZWNvcmQubW1fdWlkID09PSBtbVVpZCAmJiByZWNvcmQudmF1bHRfaWQgPT09IHZhdWx0SWRcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJhY2t3YXJkLWNvbXBhdGlibGUgcGF0aC1iYXNlZCBsb29rdXAgd2hlbiBuZWVkZWQgZm9yIG1pZ3JhdGlvbiBvciBkZWJ1Z2dpbmcuXG4gICAgICogUmV0dXJucyB0aGUgZmlyc3QgbWF0Y2hpbmcgcmVjb3JkIGZvciB0aGUgZ2l2ZW4gbm90ZSBwYXRoIGFuZCB2YXVsdC5cbiAgICAgKi9cbiAgICBnZXRTeW5jUmVjb3JkQnlQYXRoKG5vdGVQYXRoOiBzdHJpbmcsIHZhdWx0SWQ6IHN0cmluZyk6IFN5bmNSZWNvcmQgfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAoIW5vdGVQYXRoIHx8IHR5cGVvZiBub3RlUGF0aCAhPT0gJ3N0cmluZycpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiB0aGlzLnN5bmNSZWNvcmRzLmZpbmQocmVjb3JkID0+XG4gICAgICAgICAgICByZWNvcmQudmF1bHRfaWQgPT09IHZhdWx0SWQgJiYgcmVjb3JkLm5vdGVfcGF0aCA9PT0gbm90ZVBhdGhcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgb3IgdXBkYXRlIGEgc3luYyByZWNvcmQgd2l0aCBuZXcgc3luYyBlbnRyeVxuICAgICAqIFRoaXMgaXMgYSBrZXkgbWV0aG9kIHRoYXQgaGFuZGxlcyBib3RoIG5ldyByZWNvcmRzIGFuZCB1cGRhdGluZyBleGlzdGluZyBvbmVzXG4gICAgICovXG4gICAgYXN5bmMgYWRkT3JVcGRhdGVTeW5jUmVjb3JkKGRhdGE6IHtcbiAgICAgICAgbW1VaWQ6IHN0cmluZztcbiAgICAgICAgbm90ZVBhdGg/OiBzdHJpbmc7XG4gICAgICAgIHZhdWx0SWQ6IHN0cmluZztcbiAgICAgICAgc3luY0VudHJ5OiBTeW5jRW50cnlcbiAgICB9KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgbW1VaWQsIG5vdGVQYXRoLCB2YXVsdElkLCBzeW5jRW50cnkgfSA9IGRhdGE7XG5cbiAgICAgICAgaWYgKCFtbVVpZCB8fCB0eXBlb2YgbW1VaWQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignW1NZTkMtUkVHSVNUUlldIGFkZE9yVXBkYXRlU3luY1JlY29yZCBtaXNzaW5nIG1tX3VpZCcsIHsgbm90ZVBhdGgsIHZhdWx0SWQgfSk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ21tX3VpZCBpcyByZXF1aXJlZCB0byBhZGQgb3IgdXBkYXRlIGEgc3luYyByZWNvcmQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFZhbGlkYXRlIG1tX3VpZCBmb3JtYXQgKG11c3QgYmUgVVVJRClcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWRVVUlEKG1tVWlkKSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1tTWU5DLVJFR0lTVFJZXSBhZGRPclVwZGF0ZVN5bmNSZWNvcmQgcmVjZWl2ZWQgaW52YWxpZCBtbV91aWQgZm9ybWF0JywgeyBtbVVpZCwgbm90ZVBhdGgsIHZhdWx0SWQgfSk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbW1fdWlkIGZvcm1hdCAtIG11c3QgYmUgYSB2YWxpZCBVVUlEJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGaW5kIGV4aXN0aW5nIHN5bmMgcmVjb3JkIGJ5IG1tX3VpZCBhbmQgdmF1bHRcbiAgICAgICAgbGV0IHJlY29yZCA9IHRoaXMuZ2V0U3luY1JlY29yZChtbVVpZCwgdmF1bHRJZCk7XG5cbiAgICAgICAgaWYgKHJlY29yZCkge1xuICAgICAgICAgICAgLy8gVXBkYXRlIGV4aXN0aW5nIHJlY29yZFxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdFbnRyeUluZGV4ID0gcmVjb3JkLnN5bmNzLmZpbmRJbmRleChcbiAgICAgICAgICAgICAgICBzeW5jID0+IHN5bmMuZGF0YWJhc2VfaWQgPT09IHN5bmNFbnRyeS5kYXRhYmFzZV9pZFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKGV4aXN0aW5nRW50cnlJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGV4aXN0aW5nIHN5bmMgZW50cnkgZm9yIHRoaXMgZGF0YWJhc2VcbiAgICAgICAgICAgICAgICByZWNvcmQuc3luY3NbZXhpc3RpbmdFbnRyeUluZGV4XSA9IHN5bmNFbnRyeTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdbU1lOQy1SRUdJU1RSWV0gVXBkYXRlZCBzeW5jIGVudHJ5JywgeyBtbV91aWQ6IG1tVWlkLCB2YXVsdF9pZDogdmF1bHRJZCwgZGF0YWJhc2U6IHN5bmNFbnRyeS5kYXRhYmFzZV9pZCB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQWRkIG5ldyBzeW5jIGVudHJ5IGZvciB0aGlzIGRhdGFiYXNlXG4gICAgICAgICAgICAgICAgcmVjb3JkLnN5bmNzLnB1c2goc3luY0VudHJ5KTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdbU1lOQy1SRUdJU1RSWV0gQWRkZWQgbmV3IHN5bmMgZW50cnknLCB7IG1tX3VpZDogbW1VaWQsIHZhdWx0X2lkOiB2YXVsdElkLCBkYXRhYmFzZTogc3luY0VudHJ5LmRhdGFiYXNlX2lkIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBVcGRhdGUgbm90ZSBtb2RpZmljYXRpb24gdGltZSBhbmQga2VlcCBub3RlX3BhdGggaWYgcHJvdmlkZWRcbiAgICAgICAgICAgIHJlY29yZC5ub3RlX21vZGlmaWVkID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgICAgICAgICAgaWYgKG5vdGVQYXRoICYmIHR5cGVvZiBub3RlUGF0aCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICByZWNvcmQubm90ZV9wYXRoID0gbm90ZVBhdGg7IC8vIGtlZXAgcGF0aCBmb3IgcmVmZXJlbmNlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgbmV3IHN5bmMgcmVjb3JkXG4gICAgICAgICAgICBjb25zdCBuZXdSZWNvcmQ6IFN5bmNSZWNvcmQgPSB7XG4gICAgICAgICAgICAgICAgbW1fdWlkOiBtbVVpZCxcbiAgICAgICAgICAgICAgICBub3RlX3BhdGg6IG5vdGVQYXRoIHx8ICcnLFxuICAgICAgICAgICAgICAgIHZhdWx0X2lkOiB2YXVsdElkLFxuICAgICAgICAgICAgICAgIG5vdGVfbW9kaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBzeW5jczogW3N5bmNFbnRyeV1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuc3luY1JlY29yZHMucHVzaChuZXdSZWNvcmQpO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnW1NZTkMtUkVHSVNUUlldIENyZWF0ZWQgbmV3IHN5bmMgcmVjb3JkJywgeyBtbV91aWQ6IG1tVWlkLCB2YXVsdF9pZDogdmF1bHRJZCB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlYXJjaCB0aHJvdWdoIGFsbCByZWNvcmRzIGFuZCBhbGwgc3luY3MgYXJyYXlzIHRvIGZpbmQgdGhlIG5vdGUgY29ycmVzcG9uZGluZyB0byBhIGdpdmVuIGVwaXNvZGUgVVVJRFxuICAgICAqL1xuICAgIGZpbmROb3RlQnlFcGlzb2RlVXVpZCh1dWlkOiBzdHJpbmcpOiB7IHJlY29yZDogU3luY1JlY29yZDsgZW50cnk6IFN5bmNFbnRyeSB9IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgZm9yIChjb25zdCByZWNvcmQgb2YgdGhpcy5zeW5jUmVjb3Jkcykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiByZWNvcmQuc3luY3MpIHtcbiAgICAgICAgICAgICAgICBpZiAoZW50cnkuZXBpc29kZV91dWlkID09PSB1dWlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHJlY29yZCwgZW50cnkgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBncm91cF9pZCBiYXNlZCBvbiB2YXVsdCBuYW1lIGFuZCBmb2xkZXIgcGF0aCwgcmVzcGVjdGluZyBlbmFibGVGb2xkZXJOYW1lc3BhY2luZyBzZXR0aW5nXG4gICAgICogQHB1cnBvc2U6IEVuaGFuY2VkIGZvbGRlciBuYW1lc3BhY2luZyB3aXRoIGN1c3RvbSBtYXBwaW5nIHN1cHBvcnQgQGRlcGVuZHM6IGZvbGRlck5hbWVzcGFjZU1hcHBpbmdzIHNldHRpbmcgQHJlc3VsdHM6IGN1c3RvbSBvciBkZWZhdWx0IGdyb3VwX2lkXG4gICAgICovXG4gICAgYXN5bmMgZ2VuZXJhdGVHcm91cElkKG5vdGVQYXRoOiBzdHJpbmcsIHZhdWx0SWQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gdGhpcy5wbHVnaW4uc2V0dGluZ3M7XG5cbiAgICAgICAgLy8gTm9ybWFsaXplIGluY29taW5nIHBhdGggdG8gYmUgdmF1bHQtcmVsYXRpdmUgZm9yIGNvbnNpc3RlbnQgbWFwcGluZy9wcm9wZXJ0eSBsb29rdXBzXG4gICAgICAgIGxldCB2YXVsdFJlbGF0aXZlUGF0aCA9IG5vdGVQYXRoLnJlcGxhY2UoL1xcXFwvZywgJy8nKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHZhdWx0QWJzUGF0aCA9ICgodGhpcy5hcHAudmF1bHQgYXMgYW55KS5hZGFwdGVyPy5iYXNlUGF0aCA/PyAnJykgYXMgc3RyaW5nO1xuICAgICAgICAgICAgaWYgKHZhdWx0QWJzUGF0aCAmJiBpc0Fic29sdXRlKG5vdGVQYXRoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbCA9IHJlbGF0aXZlKHZhdWx0QWJzUGF0aCwgbm90ZVBhdGgpO1xuICAgICAgICAgICAgICAgIHZhdWx0UmVsYXRpdmVQYXRoID0gcmVsLnJlcGxhY2UoL1xcXFwvZywgJy8nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAvLyBCZXN0LWVmZm9ydCBub3JtYWxpemF0aW9uOyBpZiBhbnl0aGluZyBmYWlscywgY29udGludWUgd2l0aCBwcm92aWRlZCBwYXRoXG4gICAgICAgICAgICB2YXVsdFJlbGF0aXZlUGF0aCA9IG5vdGVQYXRoLnJlcGxhY2UoL1xcXFwvZywgJy8nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDEpIFByb3BlcnR5IG5hbWVzcGFjaW5nIG92ZXJyaWRlIChoaWdoZXN0IHByaW9yaXR5KVxuICAgICAgICBpZiAoc2V0dGluZ3MuZW5hYmxlUHJvcGVydHlOYW1lc3BhY2luZykge1xuICAgICAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldENhY2hlKHZhdWx0UmVsYXRpdmVQYXRoKTtcbiAgICAgICAgICAgIC8vIE9ic2lkaWFuIGNhY2hlcyBmcm9udG1hdHRlciB1bmRlciAnZnJvbnRtYXR0ZXInXG4gICAgICAgICAgICBjb25zdCBmbTogYW55ID0gKGNhY2hlIGFzIGFueSk/LmZyb250bWF0dGVyO1xuICAgICAgICAgICAgY29uc3QgcHJvcCA9IGZtPy5nX2dyb3VwX2lkO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm9wID09PSAnc3RyaW5nJyAmJiBwcm9wLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3AudHJpbSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm9wID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcocHJvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyAyKSBGb2xkZXIgbmFtZXNwYWNpbmcgKGN1c3RvbSBtYXBwaW5ncyBvdmVycmlkZSBzdHJhdGVneSB3aGVuIG1hdGNoZWQpXG4gICAgICAgIGlmIChzZXR0aW5ncy5lbmFibGVGb2xkZXJOYW1lc3BhY2luZykge1xuICAgICAgICAgICAgY29uc3QgY3VzdG9tID0gdGhpcy5nZXRDdXN0b21Hcm91cElkKHZhdWx0UmVsYXRpdmVQYXRoLCBzZXR0aW5ncy5mb2xkZXJOYW1lc3BhY2VNYXBwaW5ncyB8fCBbXSk7XG4gICAgICAgICAgICBpZiAoY3VzdG9tKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1c3RvbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE5vIGxlZ2FjeSBcImZvbGRlciBjb25jYXRcIiBmYWxsYmFjayDigJQgZGVmZXIgdG8gbmFtZXNwYWNlU3RyYXRlZ3lcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDMpIE5hbWVzcGFjZSBzdHJhdGVneSAobG93ZXN0IHByaW9yaXR5KVxuICAgICAgICAvLyBPbmx5IFwidmF1bHRcIiBhbmQgXCJjdXN0b21cIiBhcmUgc3VwcG9ydGVkOyBkZXByZWNhdGVkIHZhbHVlcyBhcmUgaWdub3JlZFxuICAgICAgICBpZiAoc2V0dGluZ3MubmFtZXNwYWNlU3RyYXRlZ3kgPT09ICdjdXN0b20nKSB7XG4gICAgICAgICAgICByZXR1cm4gc2V0dGluZ3MuZGVmYXVsdE5hbWVzcGFjZSB8fCB2YXVsdElkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGVmYXVsdCB0byB2YXVsdCBuYW1lXG4gICAgICAgIHJldHVybiB2YXVsdElkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmQgY3VzdG9tIGdyb3VwX2lkIGZvciBhIG5vdGUgcGF0aCB1c2luZyBjb25maWd1cmVkIGZvbGRlciBtYXBwaW5nc1xuICAgICAqIEltcGxlbWVudHMgbG9uZ2VzdC1wYXRoLWZpcnN0IG1hdGNoaW5nIGZvciBvdmVybGFwcGluZyBmb2xkZXJzXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZXRDdXN0b21Hcm91cElkKG5vdGVQYXRoOiBzdHJpbmcsIG1hcHBpbmdzOiBBcnJheTx7Zm9sZGVyUGF0aDogc3RyaW5nOyBncm91cElkOiBzdHJpbmd9Pik6IHN0cmluZyB8IG51bGwge1xuICAgICAgICBpZiAoIW1hcHBpbmdzIHx8IG1hcHBpbmdzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgLy8gU29ydCBtYXBwaW5ncyBieSBwYXRoIGxlbmd0aCAobG9uZ2VzdCBmaXJzdCkgZm9yIG1vc3Qgc3BlY2lmaWMgbWF0Y2hcbiAgICAgICAgY29uc3Qgc29ydGVkTWFwcGluZ3MgPSBbLi4ubWFwcGluZ3NdLnNvcnQoKGEsIGIpID0+IGIuZm9sZGVyUGF0aC5sZW5ndGggLSBhLmZvbGRlclBhdGgubGVuZ3RoKTtcblxuICAgICAgICAvLyBOb3JtYWxpemUgcGF0aCBzZXBhcmF0b3JzIGZvciBjcm9zcy1wbGF0Zm9ybSBjb21wYXRpYmlsaXR5XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWROb3RlUGF0aCA9IG5vdGVQYXRoLnJlcGxhY2UoL1xcXFwvZywgJy8nKTtcblxuICAgICAgICAvLyBFeHRyYWN0IGZvbGRlciBwYXRoIGZyb20gbm90ZSBwYXRoIChyZW1vdmUgZmlsZW5hbWUpXG4gICAgICAgIGNvbnN0IHBhdGhQYXJ0cyA9IG5vcm1hbGl6ZWROb3RlUGF0aC5zcGxpdCgnLycpLmZpbHRlcihwYXJ0ID0+IHBhcnQubGVuZ3RoID4gMCk7XG4gICAgICAgIGNvbnN0IG5vdGVGb2xkZXJQYXRoID0gcGF0aFBhcnRzLmxlbmd0aCA+IDEgPyBwYXRoUGFydHMuc2xpY2UoMCwgLTEpLmpvaW4oJy8nKSA6ICcnO1xuXG4gICAgICAgIGZvciAoY29uc3QgbWFwcGluZyBvZiBzb3J0ZWRNYXBwaW5ncykge1xuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZEZvbGRlclBhdGggPSBtYXBwaW5nLmZvbGRlclBhdGgucmVwbGFjZSgvXFxcXC9nLCAnLycpO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBub3RlJ3MgZm9sZGVyIHBhdGggc3RhcnRzIHdpdGggdGhlIG1hcHBlZCBmb2xkZXIgcGF0aFxuICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWRGb2xkZXJQYXRoICYmIChcbiAgICAgICAgICAgICAgICBub3RlRm9sZGVyUGF0aCA9PT0gbm9ybWFsaXplZEZvbGRlclBhdGggfHxcbiAgICAgICAgICAgICAgICBub3RlRm9sZGVyUGF0aC5zdGFydHNXaXRoKG5vcm1hbGl6ZWRGb2xkZXJQYXRoICsgJy8nKVxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXBwaW5nLmdyb3VwSWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDsgLy8gTm8gY3VzdG9tIG1hcHBpbmcgZm91bmRcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIHN5bmMgcmVjb3JkcyBmb3IgYSBzcGVjaWZpYyB2YXVsdFxuICAgICAqL1xuICAgIGdldFZhdWx0U3luY1JlY29yZHModmF1bHRJZDogc3RyaW5nKTogU3luY1JlY29yZFtdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3luY1JlY29yZHMuZmlsdGVyKHJlY29yZCA9PiByZWNvcmQudmF1bHRfaWQgPT09IHZhdWx0SWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgc3luYyByZWNvcmRzIHRoYXQgaGF2ZSBzeW5jcyBmb3IgYSBzcGVjaWZpYyBkYXRhYmFzZVxuICAgICAqL1xuICAgIGdldERhdGFiYXNlU3luY1JlY29yZHMoZGF0YWJhc2VJZDogc3RyaW5nKTogU3luY1JlY29yZFtdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3luY1JlY29yZHMuZmlsdGVyKHJlY29yZCA9PlxuICAgICAgICAgICAgcmVjb3JkLnN5bmNzLnNvbWUoc3luYyA9PiBzeW5jLmRhdGFiYXNlX2lkID09PSBkYXRhYmFzZUlkKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgc3luYyByZWNvcmRzIHRoYXQgdXNlIGEgc3BlY2lmaWMgZ3JvdXBfaWRcbiAgICAgKi9cbiAgICBnZXRHcm91cElkU3luY1JlY29yZHMoZ3JvdXBJZDogc3RyaW5nKTogU3luY1JlY29yZFtdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3luY1JlY29yZHMuZmlsdGVyKHJlY29yZCA9PlxuICAgICAgICAgICAgcmVjb3JkLnN5bmNzLnNvbWUoc3luYyA9PiBzeW5jLmdyb3VwX2lkID09PSBncm91cElkKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIHN5bmMgcmVjb3JkIGVudGlyZWx5IGJ5IG1tX3VpZFxuICAgICAqL1xuICAgIGFzeW5jIHJlbW92ZVN5bmNSZWNvcmQobW1VaWQ6IHN0cmluZywgdmF1bHRJZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIGlmICghbW1VaWQgfHwgdHlwZW9mIG1tVWlkICE9PSAnc3RyaW5nJykgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IGluaXRpYWxMZW5ndGggPSB0aGlzLnN5bmNSZWNvcmRzLmxlbmd0aDtcbiAgICAgICAgdGhpcy5zeW5jUmVjb3JkcyA9IHRoaXMuc3luY1JlY29yZHMuZmlsdGVyKHJlY29yZCA9PlxuICAgICAgICAgICAgIShyZWNvcmQubW1fdWlkID09PSBtbVVpZCAmJiByZWNvcmQudmF1bHRfaWQgPT09IHZhdWx0SWQpXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKHRoaXMuc3luY1JlY29yZHMubGVuZ3RoIDwgaW5pdGlhbExlbmd0aCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlKCk7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdbU1lOQy1SRUdJU1RSWV0gUmVtb3ZlZCBzeW5jIHJlY29yZCcsIHsgbW1fdWlkOiBtbVVpZCwgdmF1bHRfaWQ6IHZhdWx0SWQgfSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBzcGVjaWZpYyBzeW5jIGVudHJ5IGZyb20gYSByZWNvcmQgKGZvciBhIHNwZWNpZmljIGRhdGFiYXNlKVxuICAgICAqL1xuICAgIGFzeW5jIHJlbW92ZVN5bmNFbnRyeShtbVVpZDogc3RyaW5nLCB2YXVsdElkOiBzdHJpbmcsIGRhdGFiYXNlSWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICBjb25zdCByZWNvcmQgPSB0aGlzLmdldFN5bmNSZWNvcmQobW1VaWQsIHZhdWx0SWQpO1xuICAgICAgICBpZiAoIXJlY29yZCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IGluaXRpYWxMZW5ndGggPSByZWNvcmQuc3luY3MubGVuZ3RoO1xuICAgICAgICByZWNvcmQuc3luY3MgPSByZWNvcmQuc3luY3MuZmlsdGVyKHN5bmMgPT4gc3luYy5kYXRhYmFzZV9pZCAhPT0gZGF0YWJhc2VJZCk7XG5cbiAgICAgICAgaWYgKHJlY29yZC5zeW5jcy5sZW5ndGggPCBpbml0aWFsTGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBJZiBubyBzeW5jcyByZW1haW4sIHJlbW92ZSB0aGUgZW50aXJlIHJlY29yZFxuICAgICAgICAgICAgaWYgKHJlY29yZC5zeW5jcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnJlbW92ZVN5bmNSZWNvcmQobW1VaWQsIHZhdWx0SWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNhdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1tTWU5DLVJFR0lTVFJZXSBSZW1vdmVkIHN5bmMgZW50cnknLCB7IG1tX3VpZDogbW1VaWQsIHZhdWx0X2lkOiB2YXVsdElkLCBkYXRhYmFzZTogZGF0YWJhc2VJZCB9KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBzeW5jIHN0YXRpc3RpY3NcbiAgICAgKi9cbiAgICBnZXRTeW5jU3RhdHModmF1bHRJZD86IHN0cmluZyk6IHtcbiAgICAgICAgdG90YWxSZWNvcmRzOiBudW1iZXI7XG4gICAgICAgIHRvdGFsU3luY3M6IG51bWJlcjtcbiAgICAgICAgZGF0YWJhc2VDb3VudHM6IFJlY29yZDxzdHJpbmcsIG51bWJlcj47XG4gICAgICAgIGxhc3RTeW5jPzogc3RyaW5nO1xuICAgIH0ge1xuICAgICAgICBjb25zdCByZWNvcmRzID0gdmF1bHRJZCA/IHRoaXMuZ2V0VmF1bHRTeW5jUmVjb3Jkcyh2YXVsdElkKSA6IHRoaXMuc3luY1JlY29yZHM7XG5cbiAgICAgICAgY29uc3QgZGF0YWJhc2VDb3VudHM6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fTtcbiAgICAgICAgbGV0IHRvdGFsU3luY3MgPSAwO1xuICAgICAgICBsZXQgbGFzdFN5bmM6IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICAgICAgICBmb3IgKGNvbnN0IHJlY29yZCBvZiByZWNvcmRzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHN5bmMgb2YgcmVjb3JkLnN5bmNzKSB7XG4gICAgICAgICAgICAgICAgZGF0YWJhc2VDb3VudHNbc3luYy5kYXRhYmFzZV9pZF0gPSAoZGF0YWJhc2VDb3VudHNbc3luYy5kYXRhYmFzZV9pZF0gfHwgMCkgKyAxO1xuICAgICAgICAgICAgICAgIHRvdGFsU3luY3MrKztcblxuICAgICAgICAgICAgICAgIGlmICghbGFzdFN5bmMgfHwgc3luYy5sYXN0X3N5bmMgPiBsYXN0U3luYykge1xuICAgICAgICAgICAgICAgICAgICBsYXN0U3luYyA9IHN5bmMubGFzdF9zeW5jO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b3RhbFJlY29yZHM6IHJlY29yZHMubGVuZ3RoLFxuICAgICAgICAgICAgdG90YWxTeW5jcyxcbiAgICAgICAgICAgIGRhdGFiYXNlQ291bnRzLFxuICAgICAgICAgICAgbGFzdFN5bmNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZSBhIHN5bmMgcmVjb3JkIHN0cnVjdHVyZSB1c2luZyBjb21wcmVoZW5zaXZlIHZhbGlkYXRpb24gbG9naWNcbiAgICAgKi9cbiAgICB2YWxpZGF0ZVN5bmNSZWNvcmQocmVjb3JkOiBTeW5jUmVjb3JkKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICghcmVjb3JkIHx8IHR5cGVvZiByZWNvcmQgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBWYWxpZGF0ZSBtbV91aWQgcHJlc2VuY2UgKHByaW1hcnkgaWRlbnRpZmllcikg4oCUIGZhbGwgYmFjayB0byBub3RlX3BhdGggb25seSBmb3IgbGVnYWN5IHJlY29yZHNcbiAgICAgICAgaWYgKCFyZWNvcmQubW1fdWlkIHx8IHR5cGVvZiByZWNvcmQubW1fdWlkICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgLy8gQWxsb3cgbGVnYWN5IHJlY29yZCB0ZW1wb3JhcmlseSBidXQgbWFyayBpbnZhbGlkIGlmIGJvdGggbWlzc2luZ1xuICAgICAgICAgICAgaWYgKCFyZWNvcmQubm90ZV9wYXRoIHx8IHR5cGVvZiByZWNvcmQubm90ZV9wYXRoICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIG1tX3VpZCBwcmVzZW50LCBlbnN1cmUgaXQncyBhIHZhbGlkIFVVSURcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1ZhbGlkVVVJRChyZWNvcmQubW1fdWlkKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFyZWNvcmQudmF1bHRfaWQgfHwgdHlwZW9mIHJlY29yZC52YXVsdF9pZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShyZWNvcmQuc3luY3MpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBWYWxpZGF0ZSBlYWNoIHN5bmMgZW50cnlcbiAgICAgICAgZm9yIChjb25zdCBzeW5jIG9mIHJlY29yZC5zeW5jcykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlU3luY0VudHJ5KHN5bmMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVmFsaWRhdGUgb3B0aW9uYWwgbm90ZV9tb2RpZmllZCBmaWVsZFxuICAgICAgICBpZiAocmVjb3JkLm5vdGVfbW9kaWZpZWQgJiYgIXRoaXMuaXNWYWxpZElTT0RhdGUocmVjb3JkLm5vdGVfbW9kaWZpZWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZSBhIHNpbmdsZSBzeW5jIGVudHJ5IHN0cnVjdHVyZVxuICAgICAqL1xuICAgIHByaXZhdGUgdmFsaWRhdGVTeW5jRW50cnkoZW50cnk6IFN5bmNFbnRyeSk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoIWVudHJ5IHx8IHR5cGVvZiBlbnRyeSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFZhbGlkYXRlIHJlcXVpcmVkIGZpZWxkc1xuICAgICAgICBpZiAoIWVudHJ5LmRhdGFiYXNlX2lkIHx8IHR5cGVvZiBlbnRyeS5kYXRhYmFzZV9pZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZW50cnkuZ3JvdXBfaWQgfHwgdHlwZW9mIGVudHJ5Lmdyb3VwX2lkICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFlbnRyeS5lcGlzb2RlX3V1aWQgfHwgdHlwZW9mIGVudHJ5LmVwaXNvZGVfdXVpZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFZhbGlkYXRlIFVVSUQgZm9ybWF0IG9ubHkgaWYgZXBpc29kZV91dWlkIGlzIG5vdCBudWxsXG4gICAgICAgIGlmIChlbnRyeS5lcGlzb2RlX3V1aWQgIT09IG51bGwgJiYgIXRoaXMuaXNWYWxpZFVVSUQoZW50cnkuZXBpc29kZV91dWlkKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFlbnRyeS5sYXN0X3N5bmMgfHwgdHlwZW9mIGVudHJ5Lmxhc3Rfc3luYyAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFZhbGlkYXRlIElTTyA4NjAxIHRpbWVzdGFtcCBmb3JtYXRcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWRJU09EYXRlKGVudHJ5Lmxhc3Rfc3luYykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFZhbGlkYXRlIG9wdGlvbmFsIHN5bmNfaGFzaFxuICAgICAgICBpZiAoZW50cnkuc3luY19oYXNoICYmIHR5cGVvZiBlbnRyeS5zeW5jX2hhc2ggIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZSBVVUlEIGZvcm1hdCAoMzYgY2hhcmFjdGVycyB3aXRoIHByb3BlciBzdHJ1Y3R1cmUpXG4gICAgICovXG4gICAgcHJpdmF0ZSBpc1ZhbGlkVVVJRCh1dWlkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgdXVpZFJlZ2V4ID0gL15bMC05YS1mXXs4fS1bMC05YS1mXXs0fS1bMS01XVswLTlhLWZdezN9LVs4OWFiXVswLTlhLWZdezN9LVswLTlhLWZdezEyfSQvaTtcbiAgICAgICAgcmV0dXJuIHV1aWRSZWdleC50ZXN0KHV1aWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlIElTTyA4NjAxIGRhdGUgZm9ybWF0XG4gICAgICovXG4gICAgcHJpdmF0ZSBpc1ZhbGlkSVNPRGF0ZShkYXRlU3RyaW5nOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRlU3RyaW5nKTtcbiAgICAgICAgICAgIHJldHVybiBkYXRlLnRvSVNPU3RyaW5nKCkgPT09IGRhdGVTdHJpbmc7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGR1cGxpY2F0ZSByZWNvcmRzIGJhc2VkIG9uIG1tX3VpZCAocHJlZmVycmVkKSB0aGVuIGZhbGxiYWNrIHRvIG5vdGVfcGF0aCB0byBkZXRlY3QgbGVnYWN5IGR1cGxpY2F0ZXMuXG4gICAgICovXG4gICAgcHJpdmF0ZSByZW1vdmVEdXBsaWNhdGVSZWNvcmRzKHJlY29yZHM6IFN5bmNSZWNvcmRbXSk6IFN5bmNSZWNvcmRbXSB7XG4gICAgICAgIGNvbnN0IHNlZW4gPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICAgICAgY29uc3QgdW5pcXVlUmVjb3JkczogU3luY1JlY29yZFtdID0gW107XG5cbiAgICAgICAgZm9yIChjb25zdCByZWNvcmQgb2YgcmVjb3Jkcykge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gcmVjb3JkLm1tX3VpZCA/IGAke3JlY29yZC52YXVsdF9pZH06bW06JHtyZWNvcmQubW1fdWlkfWAgOiBgJHtyZWNvcmQudmF1bHRfaWR9OnBhdGg6JHtyZWNvcmQubm90ZV9wYXRofWA7XG4gICAgICAgICAgICBpZiAoIXNlZW4uaGFzKGtleSkpIHtcbiAgICAgICAgICAgICAgICBzZWVuLmFkZChrZXkpO1xuICAgICAgICAgICAgICAgIHVuaXF1ZVJlY29yZHMucHVzaChyZWNvcmQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdbU1lOQy1SRUdJU1RSWV0gUmVtb3ZpbmcgZHVwbGljYXRlIHJlY29yZCcsIHsgdmF1bHRfaWQ6IHJlY29yZC52YXVsdF9pZCwgbW1fdWlkOiByZWNvcmQubW1fdWlkLCBub3RlX3BhdGg6IHJlY29yZC5ub3RlX3BhdGggfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdW5pcXVlUmVjb3JkcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0aGUgcmVnaXN0cnkgaXMgbG9hZGVkXG4gICAgICovXG4gICAgaXNSZWdpc3RyeUxvYWRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNMb2FkZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGFsbCB1bmlxdWUgdmF1bHQgSURzIGluIHRoZSByZWdpc3RyeVxuICAgICAqL1xuICAgIGdldFZhdWx0SWRzKCk6IHN0cmluZ1tdIHtcbiAgICAgICAgY29uc3QgdmF1bHRJZHMgPSBuZXcgU2V0KHRoaXMuc3luY1JlY29yZHMubWFwKHJlY29yZCA9PiByZWNvcmQudmF1bHRfaWQpKTtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odmF1bHRJZHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgdW5pcXVlIGRhdGFiYXNlIElEcyBpbiB0aGUgcmVnaXN0cnlcbiAgICAgKi9cbiAgICBnZXREYXRhYmFzZUlkcygpOiBzdHJpbmdbXSB7XG4gICAgICAgIGNvbnN0IGRhdGFiYXNlSWRzID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gICAgICAgIGZvciAoY29uc3QgcmVjb3JkIG9mIHRoaXMuc3luY1JlY29yZHMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgc3luYyBvZiByZWNvcmQuc3luY3MpIHtcbiAgICAgICAgICAgICAgICBkYXRhYmFzZUlkcy5hZGQoc3luYy5kYXRhYmFzZV9pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20oZGF0YWJhc2VJZHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgdW5pcXVlIGdyb3VwIElEcyBpbiB0aGUgcmVnaXN0cnlcbiAgICAgKi9cbiAgICBnZXRHcm91cElkcygpOiBzdHJpbmdbXSB7XG4gICAgICAgIGNvbnN0IGdyb3VwSWRzID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gICAgICAgIGZvciAoY29uc3QgcmVjb3JkIG9mIHRoaXMuc3luY1JlY29yZHMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgc3luYyBvZiByZWNvcmQuc3luY3MpIHtcbiAgICAgICAgICAgICAgICBncm91cElkcy5hZGQoc3luYy5ncm91cF9pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20oZ3JvdXBJZHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCBpbi1tZW1vcnkgc3luYyByZWNvcmRzIChmb3IgZGVidWdnaW5nL3Rlc3RpbmcpXG4gICAgICovXG4gICAgZ2V0QWxsU3luY1JlY29yZHMoKTogU3luY1JlY29yZFtdIHtcbiAgICAgICAgcmV0dXJuIFsuLi50aGlzLnN5bmNSZWNvcmRzXTsgLy8gUmV0dXJuIGEgY29weSB0byBwcmV2ZW50IGV4dGVybmFsIG1vZGlmaWNhdGlvblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZvcmNlIHJlbG9hZCBmcm9tIGRpc2sgYW5kIGVtaXQgY2hhbmdlIGV2ZW50XG4gICAgICovXG4gICAgYXN5bmMgcmVsb2FkKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLmxvYWQoKTtcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdjaGFuZ2VkJyk7XG4gICAgfVxufVxuLy8gQHZlc3NlbC1jbG9zZTpGcmlnZyIsImltcG9ydCB7IEFwcCwgVEZpbGUsIFBsdWdpbiwgbm9ybWFsaXplUGF0aCB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IHsgam9pbiB9IGZyb20gJ3BhdGgnO1xyXG5pbXBvcnQgdHlwZSB7IFZhdWx0SW5mbywgVmF1bHRDb25uZWN0aW9uLCBWYXVsdFF1ZXJ5LCBWYXVsdFN0YXRzIH0gZnJvbSAnLi4vdHlwZXMvVmF1bHRSZWdpc3RyeSc7XHJcbmltcG9ydCB0eXBlIHsgR3JhcGhpdGlQbHVnaW5TZXR0aW5ncyB9IGZyb20gJy4uL3R5cGVzL1NldHRpbmdzJztcclxuaW1wb3J0IHsgR3JhcGhpdGlMb2dnZXIgfSBmcm9tICcuLi91dGlscy9Mb2dnZXInO1xyXG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdldmVudHMnOyAvLyBJbXBvcnQgRXZlbnRFbWl0dGVyXHJcblxyXG5pbnRlcmZhY2UgR3JhcGhpdGlQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xyXG4gICAgc2V0dGluZ3M6IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3M7XHJcbiAgICB3c1NlcnZpY2U/OiBhbnk7XHJcbn1cclxuXHJcbi8vIEV4dGVuZCBFdmVudEVtaXR0ZXIgdG8gYWxsb3cgZm9yIGN1c3RvbSBldmVudHNcclxuZXhwb3J0IGNsYXNzIFZhdWx0UmVnaXN0cnlTZXJ2aWNlIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcclxuICAgIHByaXZhdGUgYXBwOiBBcHA7XHJcbiAgICBwcml2YXRlIHBsdWdpbjogR3JhcGhpdGlQbHVnaW47XHJcbiAgICBwcml2YXRlIGxvZ2dlcjogR3JhcGhpdGlMb2dnZXI7XHJcbiAgICBwcml2YXRlIHJlZ2lzdHJ5OiBNYXA8c3RyaW5nLCBWYXVsdEluZm8+O1xyXG4gICAgcHJpdmF0ZSByZWdpc3RyeVBhdGg6IHN0cmluZztcclxuICAgIHByaXZhdGUgaXNMb2FkZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgYWN0aXZlVmF1bHRJZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7IC8vIE5vdyBzdG9yZXMgdmF1bHQgbmFtZSBpbnN0ZWFkIG9mIGdlbmVyYXRlZCBJRFxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IEdyYXBoaXRpUGx1Z2luLCBsb2dnZXI6IEdyYXBoaXRpTG9nZ2VyKSB7XHJcbiAgICAgICAgc3VwZXIoKTsgLy8gQ2FsbCB0aGUgRXZlbnRFbWl0dGVyIGNvbnN0cnVjdG9yXHJcbiAgICAgICAgdGhpcy5hcHAgPSBhcHA7XHJcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7XHJcbiAgICAgICAgdGhpcy5yZWdpc3RyeSA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLnJlZ2lzdHJ5UGF0aCA9IG5vcm1hbGl6ZVBhdGgoam9pbihwbHVnaW4ubWFuaWZlc3QuZGlyIHx8ICcub2JzaWRpYW4vcGx1Z2lucy9tZWdhbWVtLW1jcCcsICd2YXVsdHMuanNvbicpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIExvYWQgdGhlIHZhdWx0IHJlZ2lzdHJ5IGZyb20gZGlza1xyXG4gICAgICovXHJcbiAgICBhc3luYyBsb2FkKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIC8vIENoZWNrIGlmIGZpbGUgZXhpc3RzIGZpcnN0XHJcbiAgICAgICAgY29uc3QgZmlsZUV4aXN0cyA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIuZXhpc3RzKHRoaXMucmVnaXN0cnlQYXRoKTtcclxuXHJcbiAgICAgICAgaWYgKCFmaWxlRXhpc3RzKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbVkFVTFQtUkVHSVNUUlldIE5vIGV4aXN0aW5nIHZhdWx0IHJlZ2lzdHJ5IGZvdW5kLCBjcmVhdGluZyBuZXcgb25lJyk7XHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0cnkgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmlzTG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRmlsZSBleGlzdHMsIHRyeSB0byByZWFkIGFuZCBwYXJzZSBpdFxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLnJlYWQodGhpcy5yZWdpc3RyeVBhdGgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gQHB1cnBvc2U6IEhhbmRsZSBlbXB0eSBmaWxlcyBhcyBuZXcgaW5zdGFsbGF0aW9ucywgbm90IGNvcnJ1cHRcclxuICAgICAgICAgICAgLy8gQGRlcGVuZHM6IHBsdWdpbi5zZXR0aW5ncyBmb3IgdmF1bHQgbmFtZVxyXG4gICAgICAgICAgICAvLyBAcmVzdWx0czogUHJvcGVyIGluaXRpYWxpemF0aW9uIHdpdGhvdXQgY29ycnVwdCBmaWxlIGVycm9yc1xyXG4gICAgICAgICAgICBpZiAoIWNvbnRlbnQgfHwgY29udGVudC50cmltKCkgPT09ICcnIHx8IGNvbnRlbnQudHJpbSgpID09PSAne30nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdbVkFVTFQtUkVHSVNUUlldIEVtcHR5IHJlZ2lzdHJ5IGZpbGUgZm91bmQsIHBvcHVsYXRpbmcgZnJvbSBzZXR0aW5ncycpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RyeSA9IG5ldyBNYXAoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGNvbnRlbnQpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RyeS5jbGVhcigpO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtpZCwgdmF1bHRdIG9mIE9iamVjdC5lbnRyaWVzKGRhdGEpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5LnNldChpZCwgdmF1bHQgYXMgVmF1bHRJbmZvKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhgW1ZBVUxULVJFR0lTVFJZXSBMb2FkZWQgdmF1bHQgcmVnaXN0cnkgd2l0aCAke3RoaXMucmVnaXN0cnkuc2l6ZX0gdmF1bHRzLmApO1xyXG4gICAgICAgICAgICB0aGlzLmlzTG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAvLyBPbmx5IGxvZyBhcyBjb3JydXB0IGlmIGZpbGUgaGFzIGNvbnRlbnQgYnV0IGludmFsaWQgSlNPTlxyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignW1ZBVUxULVJFR0lTVFJZXSBSZWdpc3RyeSBmaWxlIGNvbnRhaW5zIGludmFsaWQgSlNPTi4gTG9hZGluZyBlbXB0eSByZWdpc3RyeS4nLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0cnkgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgICAgIHRoaXMuaXNMb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNhdmUgdGhlIHZhdWx0IHJlZ2lzdHJ5IHRvIGRpc2sgYXRvbWljYWxseVxyXG4gICAgICovXHJcbiAgICBhc3luYyBzYXZlKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIENvbnZlcnQgTWFwIHRvIE9iamVjdCBmb3IgSlNPTiBzZXJpYWxpemF0aW9uXHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBPYmplY3QuZnJvbUVudHJpZXModGhpcy5yZWdpc3RyeSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBKU09OLnN0cmluZ2lmeShkYXRhLCBudWxsLCAyKTtcclxuXHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGUodGhpcy5yZWdpc3RyeVBhdGgsIGNvbnRlbnQpO1xyXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3JlZ2lzdHJ5LXVwZGF0ZScpOyAvLyBFbWl0IHJlZ2lzdHJ5IHVwZGF0ZSBldmVudFxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKTtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1tWQVVMVC1SRUdJU1RSWV0gRmFpbGVkIHRvIHNhdmUgdmF1bHQgcmVnaXN0cnk6Jywge1xyXG4gICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yTWVzc2FnZSxcclxuICAgICAgICAgICAgICAgIHBhdGg6IHRoaXMucmVnaXN0cnlQYXRoLFxyXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHNhdmUgdmF1bHQgcmVnaXN0cnk6ICR7ZXJyb3JNZXNzYWdlfWApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZCBvciB1cGRhdGUgYSB2YXVsdFxyXG4gICAgICovXHJcbiAgICBhc3luYyBhZGRWYXVsdCh2YXVsdDogT21pdDxWYXVsdEluZm8sICdpZCc+KTogUHJvbWlzZTxWYXVsdEluZm8+IHtcclxuICAgICAgICBjb25zdCB2YXVsdEluZm86IFZhdWx0SW5mbyA9IHsgLi4udmF1bHQsIGlkOiB2YXVsdC5uYW1lIH07XHJcblxyXG4gICAgICAgIHRoaXMucmVnaXN0cnkuc2V0KHZhdWx0Lm5hbWUsIHZhdWx0SW5mbyk7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlKCk7XHJcblxyXG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oYFtWQVVMVC1SRUdJU1RSWV0gQWRkZWQgdmF1bHQ6ICR7dmF1bHQubmFtZX0uYCk7XHJcbiAgICAgICAgcmV0dXJuIHZhdWx0SW5mbztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBhIHZhdWx0IGJ5IElEXHJcbiAgICAgKi9cclxuICAgIGdldFZhdWx0KGlkOiBzdHJpbmcpOiBWYXVsdEluZm8gfCB1bmRlZmluZWQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdHJ5LmdldChpZCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYWxsIHZhdWx0c1xyXG4gICAgICovXHJcbiAgICBnZXRBbGxWYXVsdHMoKTogVmF1bHRJbmZvW10ge1xyXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMucmVnaXN0cnkudmFsdWVzKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIGEgdmF1bHRcclxuICAgICAqL1xyXG4gICAgYXN5bmMgcmVtb3ZlVmF1bHQoaWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgICAgIGlmICh0aGlzLnJlZ2lzdHJ5LmhhcyhpZCkpIHtcclxuICAgICAgICAgICAgY29uc3QgdmF1bHQgPSB0aGlzLnJlZ2lzdHJ5LmdldChpZCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0cnkuZGVsZXRlKGlkKTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oYFtWQVVMVC1SRUdJU1RSWV0gUmVtb3ZlZCB2YXVsdDogJHt2YXVsdD8ubmFtZX0uYCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUgdmF1bHQgc3RhdHVzXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHVwZGF0ZVZhdWx0U3RhdHVzKGlkOiBzdHJpbmcsIHN0YXR1czogUGFydGlhbDxWYXVsdEluZm9bJ3N0YXR1cyddPik6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgICAgIGNvbnN0IHZhdWx0ID0gdGhpcy5yZWdpc3RyeS5nZXQoaWQpO1xyXG4gICAgICAgIGlmICghdmF1bHQpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgdmF1bHQuc3RhdHVzID0geyAuLi52YXVsdC5zdGF0dXMsIC4uLnN0YXR1cyB9O1xyXG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUXVlcnkgdmF1bHRzIGJhc2VkIG9uIGNyaXRlcmlhXHJcbiAgICAgKi9cclxuICAgIHF1ZXJ5VmF1bHRzKHF1ZXJ5OiBWYXVsdFF1ZXJ5KTogVmF1bHRJbmZvW10ge1xyXG4gICAgICAgIGxldCByZXN1bHRzID0gQXJyYXkuZnJvbSh0aGlzLnJlZ2lzdHJ5LnZhbHVlcygpKTtcclxuXHJcbiAgICAgICAgaWYgKHF1ZXJ5LnZhdWx0X2lkKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzLmZpbHRlcih2ID0+IHYuaWQgPT09IHF1ZXJ5LnZhdWx0X2lkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChxdWVyeS5zdGF0dXMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5maWx0ZXIodiA9PiB2LnN0YXR1cy5jb25uZWN0ZWQgPT09IHF1ZXJ5LnN0YXR1cyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0cztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB2YXVsdCBzdGF0aXN0aWNzXHJcbiAgICAgKi9cclxuICAgIGdldFZhdWx0U3RhdHMoKTogVmF1bHRTdGF0cyB7XHJcbiAgICAgICAgY29uc3QgdmF1bHRzID0gdGhpcy5nZXRBbGxWYXVsdHMoKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0b3RhbF9jb25uZWN0ZWQ6IHZhdWx0cy5maWx0ZXIodiA9PiB2LnN0YXR1cy5jb25uZWN0ZWQpLmxlbmd0aCxcclxuICAgICAgICAgICAgdG90YWxfc3luY2luZzogdmF1bHRzLmZpbHRlcih2ID0+IHYuc3RhdHVzLnN5bmNpbmcpLmxlbmd0aCxcclxuICAgICAgICAgICAgdG90YWxfZXJyb3JzOiB2YXVsdHMuZmlsdGVyKHYgPT4gdi5zdGF0dXMuZXJyb3JfbWVzc2FnZSkubGVuZ3RoLFxyXG4gICAgICAgICAgICBsYXN0X3N5bmM6IHZhdWx0cy5yZWR1Y2UoKGxhdGVzdCwgdikgPT5cclxuICAgICAgICAgICAgICAgIHYuc3RhdHVzLmxhc3Rfc3luYyA+IGxhdGVzdCA/IHYuc3RhdHVzLmxhc3Rfc3luYyA6IGxhdGVzdCwgJycpXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIHJlZ2lzdHJ5IGlzIGxvYWRlZFxyXG4gICAgICovXHJcbiAgICBpc1JlZ2lzdHJ5TG9hZGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzTG9hZGVkO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBjdXJyZW50bHkgYWN0aXZlIHZhdWx0IG5hbWUgKHVzZWQgYXMgSUQpXHJcbiAgICAgKi9cclxuICAgIGdldEFjdGl2ZVZhdWx0SWQoKTogc3RyaW5nIHwgbnVsbCB7XHJcbiAgICAgICAgLy8gRW5zdXJlIHJlZ2lzdHJ5IGlzIGxvYWRlZCBzeW5jaHJvbm91c2x5IGlmIHBvc3NpYmxlXHJcbiAgICAgICAgaWYgKCF0aGlzLmlzTG9hZGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZFJlZ2lzdHJ5U3luY2hyb25vdXNseSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgc3RpbGwgbm8gYWN0aXZlIHZhdWx0LCBkZXRlcm1pbmUgaXQgZnJvbSBjdXJyZW50IGNvbnRleHRcclxuICAgICAgICBpZiAoIXRoaXMuYWN0aXZlVmF1bHRJZCkge1xyXG4gICAgICAgICAgICB0aGlzLmVuc3VyZUFjdGl2ZVZhdWx0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmVWYXVsdElkO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3luY2hyb25vdXMgcmVnaXN0cnkgbG9hZGluZyBmYWxsYmFja1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGxvYWRSZWdpc3RyeVN5bmNocm9ub3VzbHkoKTogdm9pZCB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xyXG4gICAgICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyh0aGlzLnJlZ2lzdHJ5UGF0aCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBmcy5yZWFkRmlsZVN5bmModGhpcy5yZWdpc3RyeVBhdGgsICd1dGY4Jyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShjb250ZW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5LmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgYm90aCBPYmplY3QgZm9ybWF0IChjdXJyZW50IHZhdWx0cy5qc29uKSBhbmQgTWFwIGZvcm1hdFxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShkYXRhKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2lkLCB2YXVsdF0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RyeS5zZXQoaWQsIHZhdWx0IGFzIFZhdWx0SW5mbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFtWQVVMVC1SRUdJU1RSWV0gTG9hZGVkIHJlZ2lzdHJ5IHN5bmNocm9ub3VzbHkgd2l0aCAke3RoaXMucmVnaXN0cnkuc2l6ZX0gdmF1bHRzYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdbVkFVTFQtUkVHSVNUUlldIEZhaWxlZCB0byBsb2FkIHJlZ2lzdHJ5IHN5bmNocm9ub3VzbHknLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBhY3RpdmUgdmF1bHQgYnkgbmFtZSAodXNlZCBhcyBJRClcclxuICAgICAqL1xyXG4gICAgc2V0QWN0aXZlVmF1bHRJZCh2YXVsdE5hbWU6IHN0cmluZyB8IG51bGwpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAodmF1bHROYW1lICYmICF0aGlzLnJlZ2lzdHJ5Lmhhcyh2YXVsdE5hbWUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oYFtWQVVMVC1SRUdJU1RSWV0gQ2Fubm90IHNldCBhY3RpdmUgdmF1bHQgLSB2YXVsdCBub3QgZm91bmQ6ICR7dmF1bHROYW1lfWApO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBvbGRBY3RpdmVWYXVsdElkID0gdGhpcy5hY3RpdmVWYXVsdElkO1xyXG4gICAgICAgIHRoaXMuYWN0aXZlVmF1bHRJZCA9IHZhdWx0TmFtZTtcclxuXHJcbiAgICAgICAgaWYgKG9sZEFjdGl2ZVZhdWx0SWQgIT09IHZhdWx0TmFtZSkge1xyXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2FjdGl2ZS12YXVsdC1jaGFuZ2UnLCB2YXVsdE5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgYWN0aXZlIHZhdWx0IGluZm9cclxuICAgICAqL1xyXG4gICAgZ2V0QWN0aXZlVmF1bHQoKTogVmF1bHRJbmZvIHwgbnVsbCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlVmF1bHRJZCA/IHRoaXMuZ2V0VmF1bHQodGhpcy5hY3RpdmVWYXVsdElkKSB8fCBudWxsIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEF1dG8tc2V0IGFjdGl2ZSB2YXVsdCB0byBjdXJyZW50IHZhdWx0IGlmIG5vbmUgaXMgc2V0XHJcbiAgICAgKi9cclxuICAgIGVuc3VyZUFjdGl2ZVZhdWx0KCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5hY3RpdmVWYXVsdElkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRWYXVsdE5hbWUgPSB0aGlzLmFwcC52YXVsdC5nZXROYW1lKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRWYXVsdFBhdGggPSAodGhpcy5hcHAudmF1bHQuYWRhcHRlciBhcyBhbnkpLmJhc2VQYXRoIHx8ICcnO1xyXG5cclxuICAgICAgICAgICAgLy8gVHJ5IHRvIGZpbmQgdGhlIHZhdWx0IGluIHRoZSBsb2FkZWQgcmVnaXN0cnlcclxuICAgICAgICAgICAgbGV0IGZvdW5kVmF1bHRJZCA9IG51bGw7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgW3ZhdWx0SWQsIHZhdWx0SW5mb10gb2YgdGhpcy5yZWdpc3RyeS5lbnRyaWVzKCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHZhdWx0IG1hdGNoZXMgYnkgbmFtZSBvciBwYXRoXHJcbiAgICAgICAgICAgICAgICBpZiAodmF1bHRJbmZvLm5hbWUgPT09IGN1cnJlbnRWYXVsdE5hbWUgfHwgdGhpcy5wYXRoc01hdGNoKHZhdWx0SW5mby5wYXRoLCBjdXJyZW50VmF1bHRQYXRoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvdW5kVmF1bHRJZCA9IHZhdWx0SWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFVzZSBmb3VuZCB2YXVsdCBJRCBvciBmYWxsYmFjayB0byB2YXVsdCBuYW1lXHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlVmF1bHRJZCA9IGZvdW5kVmF1bHRJZCB8fCBjdXJyZW50VmF1bHROYW1lO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBbVkFVTFQtUkVHSVNUUlldIEF1dG8tc2V0IGFjdGl2ZSB2YXVsdCB0bzogJHt0aGlzLmFjdGl2ZVZhdWx0SWR9JHtmb3VuZFZhdWx0SWQgPyAnIChmb3VuZCBpbiByZWdpc3RyeSknIDogJyAoZmFsbGJhY2sgdG8gbmFtZSknfWApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciBtZXRob2QgdG8gY29tcGFyZSBwYXRocyB3aXRoIG5vcm1hbGl6YXRpb25cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBwYXRoc01hdGNoKHBhdGgxOiBzdHJpbmcsIHBhdGgyOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICBjb25zdCBub3JtYWxpemUgPSAocDogc3RyaW5nKSA9PiBwLnJlcGxhY2UoL1xcXFxcXFxcL2csICcvJykudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXC8kLywgJycpO1xyXG4gICAgICAgIHJldHVybiBub3JtYWxpemUocGF0aDEpID09PSBub3JtYWxpemUocGF0aDIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQXV0b21hdGljYWxseSByZWdpc3RlciB0aGUgY3VycmVudCB2YXVsdCBpZiBpdCdzIG5vdCBhbHJlYWR5IHJlZ2lzdGVyZWRcclxuICAgICAqIFRoaXMgaXMgY2FsbGVkIGR1cmluZyBwbHVnaW4gc3RhcnR1cCB0byBlbnN1cmUgdGhlIGN1cnJlbnQgdmF1bHQgaXMgYXZhaWxhYmxlIHRvIHRoZSBNQ1Agc2VydmVyXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGF1dG9SZWdpc3RlckN1cnJlbnRWYXVsdChtdWx0aVZhdWx0RW5hYmxlZDogYm9vbGVhbiA9IGZhbHNlLCB3c1NlcnZpY2U/OiBhbnkpOiBQcm9taXNlPFZhdWx0SW5mbyB8IG51bGw+IHtcclxuICAgICAgICBjb25zdCBjdXJyZW50VmF1bHROYW1lID0gdGhpcy5hcHAudmF1bHQuZ2V0TmFtZSgpO1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRWYXVsdFBhdGggPSAodGhpcy5hcHAudmF1bHQuYWRhcHRlciBhcyBhbnkpLmJhc2VQYXRoIHx8ICcnO1xyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiBjdXJyZW50IHZhdWx0IGlzIGFscmVhZHkgcmVnaXN0ZXJlZCBieSBuYW1lXHJcbiAgICAgICAgY29uc3QgZXhpc3RpbmdWYXVsdCA9IHRoaXMucmVnaXN0cnkuZ2V0KGN1cnJlbnRWYXVsdE5hbWUpO1xyXG5cclxuICAgICAgICBpZiAoZXhpc3RpbmdWYXVsdCAmJiBleGlzdGluZ1ZhdWx0LnBhdGggPT09IGN1cnJlbnRWYXVsdFBhdGgpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRBY3RpdmVWYXVsdElkKGN1cnJlbnRWYXVsdE5hbWUpO1xyXG5cclxuICAgICAgICAgICAgLy8gQHZlc3NlbC1wcm90b2NvbDpGcmlnZyBnb3Zlcm5zOmNvbmZpZy1yZWZyZXNoIGNvbnRleHQ6RW5zdXJlIGV4aXN0aW5nIHZhdWx0J3MgZGF0YWJhc2UgY29uZmlnIGlzIGFsd2F5cyBjdXJyZW50IHdpdGggcGx1Z2luIHNldHRpbmdzXHJcbiAgICAgICAgICAgIC8vIEBpbnRlci1kZXBlbmRlbmNpZXM6IFtwbHVnaW4uc2V0dGluZ3MsIGNyZWF0ZVZhdWx0RGF0YWJhc2VDb25maWddXHJcbiAgICAgICAgICAgIC8vIEBwdXJwb3NlOiBQcmV2ZW50IHN0YWxlIGRhdGFiYXNlIGNvbmZpZ3VyYXRpb25zIGluIHZhdWx0cy5qc29uIGJ5IHJlZnJlc2hpbmcgZnJvbSBjdXJyZW50IGRhdGEuanNvbiBzZXR0aW5nc1xyXG4gICAgICAgICAgICAvLyBAcmVzdWx0OiBUaGUgTUNQIHNlcnZlciB3aWxsIGFsd2F5cyBhdHRlbXB0IHRvIGNvbm5lY3QgdXNpbmcgdGhlIHVzZXIncyBsYXRlc3QgY29uZmlndXJlZCBkYXRhYmFzZSBzZXR0aW5nc1xyXG4gICAgICAgICAgICAvLyBAc2lnbmVkOiBDLkJqw7hyblxyXG4gICAgICAgICAgICBjb25zdCBmcmVzaERhdGFiYXNlQ29uZmlnID0gdGhpcy5jcmVhdGVWYXVsdERhdGFiYXNlQ29uZmlnKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBleGlzdGluZyBjb25maWcgZGlmZmVycyBmcm9tIGZyZXNoIGNvbmZpZ1xyXG4gICAgICAgICAgICBpZiAoSlNPTi5zdHJpbmdpZnkoZXhpc3RpbmdWYXVsdC5jb25maWd1cmF0aW9uLmRhdGFiYXNlKSAhPT0gSlNPTi5zdHJpbmdpZnkoZnJlc2hEYXRhYmFzZUNvbmZpZykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oYFtWQVVMVC1SRUdJU1RSWV0gVXBkYXRpbmcgZGF0YWJhc2UgY29uZmlndXJhdGlvbiBmb3IgZXhpc3RpbmcgdmF1bHQ6ICR7Y3VycmVudFZhdWx0TmFtZX1gKTtcclxuICAgICAgICAgICAgICAgIGV4aXN0aW5nVmF1bHQuY29uZmlndXJhdGlvbi5kYXRhYmFzZSA9IGZyZXNoRGF0YWJhc2VDb25maWc7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNhdmUoKTsgLy8gU2F2ZSB0aGUgdXBkYXRlZCB2YXVsdCBjb25maWdcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbVkFVTFQtUkVHSVNUUlldIERhdGFiYXNlIGNvbmZpZ3VyYXRpb24gdXBkYXRlZCBmb3IgZXhpc3RpbmcgdmF1bHQuJywgeyB2YXVsdE5hbWU6IGN1cnJlbnRWYXVsdE5hbWUsIG5ld0NvbmZpZzogZnJlc2hEYXRhYmFzZUNvbmZpZyB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbVkFVTFQtUkVHSVNUUlldIEV4aXN0aW5nIHZhdWx0IGRhdGFiYXNlIGNvbmZpZ3VyYXRpb24gaXMgYWxyZWFkeSB1cC10by1kYXRlLicsIHsgdmF1bHROYW1lOiBjdXJyZW50VmF1bHROYW1lIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEB2ZXNzZWwtY2xvc2U6RnJpZ2dcclxuXHJcbiAgICAgICAgICAgIC8vIEFMV0FZUyBzZW5kIHJlZ2lzdHJhdGlvbiB0byBXZWJTb2NrZXQgc2VydmVyIHdoZW4gY29ubmVjdGVkLCBldmVuIGZvciBleGlzdGluZyB2YXVsdHNcclxuICAgICAgICAgICAgLy8gVGhpcyBoYW5kbGVzIHNlcnZlciByZXN0YXJ0cyB3aGVyZSBsb2NhbCByZWdpc3RyeSBleGlzdHMgYnV0IHNlcnZlciBoYXMgbm8ga25vd2xlZGdlXHJcbiAgICAgICAgICAgIGlmICh3c1NlcnZpY2UgJiYgd3NTZXJ2aWNlLmlzQ29ubmVjdGVkKCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2lzdHJhdGlvblNlbnQgPSB3c1NlcnZpY2Uuc2VuZFZhdWx0UmVnaXN0cmF0aW9uKHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBleGlzdGluZ1ZhdWx0Lm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogZXhpc3RpbmdWYXVsdC5wYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgIGlkOiBleGlzdGluZ1ZhdWx0Lm5hbWVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChyZWdpc3RyYXRpb25TZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGNvbm5lY3Rpb24gc3RhdHVzIHNpbmNlIHdlIHNlbnQgcmVnaXN0cmF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVWYXVsdENvbm5lY3Rpb24oY3VycmVudFZhdWx0TmFtZSwgdHJ1ZSwgZXhpc3RpbmdWYXVsdC5jb25uZWN0aW9uPy5hdXRoPy50b2tlbik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oYFtWQVVMVC1SRUdJU1RSWV0gRmFpbGVkIHRvIHNlbmQgZXhpc3RpbmcgdmF1bHQgcmVnaXN0cmF0aW9uIHRvIE1DUCBzZXJ2ZXIuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBleGlzdGluZ1ZhdWx0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIHZhdWx0IHJlZ2lzdHJhdGlvbiBmb3IgY3VycmVudCB2YXVsdFxyXG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcclxuICAgICAgICBjb25zdCB2YXVsdEluZm86IE9taXQ8VmF1bHRJbmZvLCAnaWQnPiA9IHtcclxuICAgICAgICAgICAgbmFtZTogY3VycmVudFZhdWx0TmFtZSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGBBdXRvLXJlZ2lzdGVyZWQgdmF1bHQ6ICR7Y3VycmVudFZhdWx0TmFtZX1gLFxyXG4gICAgICAgICAgICBwYXRoOiBjdXJyZW50VmF1bHRQYXRoLFxyXG4gICAgICAgICAgICB0eXBlOiAnb2JzaWRpYW4nLFxyXG4gICAgICAgICAgICBjb25uZWN0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICBob3N0OiAnbG9jYWxob3N0JyxcclxuICAgICAgICAgICAgICAgIHBvcnQ6IHRoaXMucGx1Z2luLnNldHRpbmdzLndzUG9ydCwgLy8gVXNlIGFjdHVhbCBXZWJTb2NrZXQgcG9ydCBmcm9tIHNldHRpbmdzXHJcbiAgICAgICAgICAgICAgICBhdXRoOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9rZW46ICcnIC8vIFdpbGwgYmUgcG9wdWxhdGVkIGJ5IFdlYlNvY2tldCBzZXJ2aWNlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb246IHtcclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlOiB0aGlzLmNyZWF0ZVZhdWx0RGF0YWJhc2VDb25maWcoKSxcclxuICAgICAgICAgICAgICAgIHN5bmM6IHtcclxuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGludGVydmFsOiAzMDAsIC8vIDUgbWludXRlc1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3Rfc3luYzogbm93XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN0YXR1czoge1xyXG4gICAgICAgICAgICAgICAgY29ubmVjdGVkOiBmYWxzZSwgLy8gV2lsbCBiZSB1cGRhdGVkIHdoZW4gV2ViU29ja2V0IGNvbm5lY3RzXHJcbiAgICAgICAgICAgICAgICBzeW5jaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGxhc3Rfc3luYzogbm93XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBGaXJzdCBjcmVhdGUgdGhlIGxvY2FsIHZhdWx0IHJlZ2lzdHJ5IGVudHJ5XHJcbiAgICAgICAgICAgIGNvbnN0IHJlZ2lzdGVyZWRWYXVsdCA9IGF3YWl0IHRoaXMuYWRkVmF1bHQodmF1bHRJbmZvKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRBY3RpdmVWYXVsdElkKGN1cnJlbnRWYXVsdE5hbWUpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhgW1ZBVUxULVJFR0lTVFJZXSBDcmVhdGVkIGxvY2FsIHZhdWx0IHJlZ2lzdHJ5IGVudHJ5IGZvcjogJHtjdXJyZW50VmF1bHROYW1lfS5gKTtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIFdlYlNvY2tldCBzZXJ2aWNlIGlzIHByb3ZpZGVkIGFuZCBjb25uZWN0ZWQsIHNlbmQgcmVnaXN0cmF0aW9uIHRvIHNlcnZlclxyXG4gICAgICAgICAgICBpZiAod3NTZXJ2aWNlICYmIHdzU2VydmljZS5pc0Nvbm5lY3RlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZWdpc3RyYXRpb25TZW50ID0gd3NTZXJ2aWNlLnNlbmRWYXVsdFJlZ2lzdHJhdGlvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogcmVnaXN0ZXJlZFZhdWx0Lm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogcmVnaXN0ZXJlZFZhdWx0LnBhdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGN1cnJlbnRWYXVsdE5hbWVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChyZWdpc3RyYXRpb25TZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGNvbm5lY3Rpb24gc3RhdHVzIHNpbmNlIHdlIHNlbnQgcmVnaXN0cmF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVWYXVsdENvbm5lY3Rpb24oY3VycmVudFZhdWx0TmFtZSwgdHJ1ZSwgdmF1bHRJbmZvLmNvbm5lY3Rpb24uYXV0aC50b2tlbik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oYFtWQVVMVC1SRUdJU1RSWV0gRmFpbGVkIHRvIHNlbmQgdmF1bHQgcmVnaXN0cmF0aW9uIHRvIE1DUCBzZXJ2ZXIuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZWdpc3RlcmVkVmF1bHQ7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoYFtWQVVMVC1SRUdJU1RSWV0gRmFpbGVkIHRvIGF1dG8tcmVnaXN0ZXIgY3VycmVudCB2YXVsdDogJHtjdXJyZW50VmF1bHROYW1lfWAsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVnaXN0ZXIgYSBjYWxsYmFjayBmb3IgYWN0aXZlIHZhdWx0IGNoYW5nZXMuXHJcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXIgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgd2hlbiB0aGUgYWN0aXZlIHZhdWx0IGNoYW5nZXMuXHJcbiAgICAgKi9cclxuICAgIG9uQWN0aXZlVmF1bHRDaGFuZ2UobGlzdGVuZXI6IChuZXdWYXVsdElkOiBzdHJpbmcgfCBudWxsKSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5vbignYWN0aXZlLXZhdWx0LWNoYW5nZScsIGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlZ2lzdGVyIGEgY2FsbGJhY2sgZm9yIGFueSByZWdpc3RyeSB1cGRhdGVzIChhZGQsIHJlbW92ZSwgc2F2ZSkuXHJcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXIgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgd2hlbiB0aGUgcmVnaXN0cnkgdXBkYXRlcy5cclxuICAgICAqL1xyXG4gICAgb25SZWdpc3RyeVVwZGF0ZShsaXN0ZW5lcjogKCkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMub24oJ3JlZ2lzdHJ5LXVwZGF0ZScsIGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSB2YXVsdCBjb25uZWN0aW9uIHN0YXR1cyAodHlwaWNhbGx5IGNhbGxlZCB3aGVuIFdlYlNvY2tldCBjb25uZWN0cy9kaXNjb25uZWN0cylcclxuICAgICAqL1xyXG4gICAgYXN5bmMgdXBkYXRlVmF1bHRDb25uZWN0aW9uKHZhdWx0TmFtZTogc3RyaW5nLCBjb25uZWN0ZWQ6IGJvb2xlYW4sIGF1dGhUb2tlbj86IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgICAgIGNvbnN0IHZhdWx0ID0gdGhpcy5yZWdpc3RyeS5nZXQodmF1bHROYW1lKTtcclxuICAgICAgICBpZiAoIXZhdWx0KSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIHZhdWx0LnN0YXR1cy5jb25uZWN0ZWQgPSBjb25uZWN0ZWQ7XHJcbiAgICAgICAgdmF1bHQuc3RhdHVzLmxhc3Rfc3luYyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcclxuXHJcbiAgICAgICAgaWYgKGF1dGhUb2tlbikge1xyXG4gICAgICAgICAgICB2YXVsdC5jb25uZWN0aW9uLmF1dGgudG9rZW4gPSBhdXRoVG9rZW47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWNvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICB2YXVsdC5zdGF0dXMuc3luY2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB2YXVsdC5zdGF0dXMuZXJyb3JfbWVzc2FnZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oYFtWQVVMVC1SRUdJU1RSWV0gVXBkYXRlZCB2YXVsdCBjb25uZWN0aW9uIHN0YXR1cyBmb3IgJHt2YXVsdC5uYW1lfTogQ29ubmVjdGVkOiAke2Nvbm5lY3RlZH0uYCk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAdmVzc2VsLXByb3RvY29sOk9kaW4gZ292ZXJuczplbWJlZGRpbmctbW9kZWwtc3RvcmFnZSBjb250ZXh0OlBlci12YXVsdCBlbWJlZGRpbmcgbW9kZWwgY29uZmlndXJhdGlvbiBtYW5hZ2VtZW50XHJcbiAgICAgKiBAaW50ZXItZGVwZW5kZW5jaWVzOiBbVmF1bHRJbmZvLmNvbmZpZ3VyYXRpb24uZW1iZWRkaW5nLCBzYXZlLCBsb2dnZXJdXHJcbiAgICAgKiBAcHVycG9zZTogU3RvcmUgYW5kIHZhbGlkYXRlIGVtYmVkZGluZyBtb2RlbCBjb25maWd1cmF0aW9uIGZvciBlYWNoIHZhdWx0IHRvIHByZXZlbnQgbW9kZWwgbWlzbWF0Y2hlc1xyXG4gICAgICogQHJlc3VsdDogRWFjaCB2YXVsdCBtYWludGFpbnMgaXRzIG93biBlbWJlZGRpbmcgbW9kZWwgY29uZmlndXJhdGlvbiB3aXRoIGNoYW5nZSBkZXRlY3Rpb24gY2FwYWJpbGl0aWVzXHJcbiAgICAgKiBAc2lnbmVkOiBDLkJqw7hyblxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUgdmF1bHQgZW1iZWRkaW5nIG1vZGVsIGNvbmZpZ3VyYXRpb25cclxuICAgICAqL1xyXG4gICAgYXN5bmMgdXBkYXRlVmF1bHRFbWJlZGRpbmdNb2RlbCh2YXVsdElkOiBzdHJpbmcsIG1vZGVsOiBzdHJpbmcsIGRpbWVuc2lvbnM/OiBudW1iZXIsIHByb3ZpZGVyPzogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICAgICAgY29uc3QgdmF1bHQgPSB0aGlzLnJlZ2lzdHJ5LmdldCh2YXVsdElkKTtcclxuICAgICAgICBpZiAoIXZhdWx0KSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oYFtWQVVMVC1SRUdJU1RSWV0gQ2Fubm90IHVwZGF0ZSBlbWJlZGRpbmcgbW9kZWwgLSB2YXVsdCBub3QgZm91bmQ6ICR7dmF1bHRJZH1gKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBlbWJlZGRpbmcgY29uZmlndXJhdGlvbiBpZiBpdCBkb2Vzbid0IGV4aXN0XHJcbiAgICAgICAgaWYgKCF2YXVsdC5jb25maWd1cmF0aW9uLmVtYmVkZGluZykge1xyXG4gICAgICAgICAgICB2YXVsdC5jb25maWd1cmF0aW9uLmVtYmVkZGluZyA9IHt9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmF1bHQuY29uZmlndXJhdGlvbi5lbWJlZGRpbmcubW9kZWwgPSBtb2RlbDtcclxuICAgICAgICBpZiAoZGltZW5zaW9ucyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHZhdWx0LmNvbmZpZ3VyYXRpb24uZW1iZWRkaW5nLmRpbWVuc2lvbnMgPSBkaW1lbnNpb25zO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocHJvdmlkZXIgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB2YXVsdC5jb25maWd1cmF0aW9uLmVtYmVkZGluZy5wcm92aWRlciA9IHByb3ZpZGVyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlKCk7XHJcbiAgICAgICAgY29uc3QgcHJvdmlkZXJJbmZvID0gcHJvdmlkZXIgPyBgICgke3Byb3ZpZGVyfSlgIDogJyc7XHJcbiAgICAgICAgY29uc3QgZGltZW5zaW9uc0luZm8gPSBkaW1lbnNpb25zID8gYCAoJHtkaW1lbnNpb25zfWQpYCA6ICcnO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oYFtWQVVMVC1SRUdJU1RSWV0gVXBkYXRlZCBlbWJlZGRpbmcgbW9kZWwgZm9yIHZhdWx0ICR7dmF1bHRJZH06ICR7bW9kZWx9JHtwcm92aWRlckluZm99JHtkaW1lbnNpb25zSW5mb31gKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB2YXVsdCBlbWJlZGRpbmcgbW9kZWwgY29uZmlndXJhdGlvblxyXG4gICAgICovXHJcbiAgICBnZXRWYXVsdEVtYmVkZGluZ01vZGVsKHZhdWx0SWQ6IHN0cmluZyk6IHsgcHJvdmlkZXI/OiBzdHJpbmc7IG1vZGVsPzogc3RyaW5nOyBkaW1lbnNpb25zPzogbnVtYmVyIH0gfCBudWxsIHtcclxuICAgICAgICBjb25zdCB2YXVsdCA9IHRoaXMucmVnaXN0cnkuZ2V0KHZhdWx0SWQpO1xyXG4gICAgICAgIGlmICghdmF1bHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdmF1bHQuY29uZmlndXJhdGlvbi5lbWJlZGRpbmcgfHwge307XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBjdXJyZW50IGVtYmVkZGluZyBtb2RlbCBkaWZmZXJzIGZyb20gc3RvcmVkIHZhdWx0IGNvbmZpZ3VyYXRpb25cclxuICAgICAqL1xyXG4gICAgaGFzRW1iZWRkaW5nTW9kZWxDaGFuZ2VkKHZhdWx0SWQ6IHN0cmluZywgY3VycmVudE1vZGVsOiBzdHJpbmcsIGN1cnJlbnREaW1lbnNpb25zPzogbnVtYmVyLCBjdXJyZW50UHJvdmlkZXI/OiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICBjb25zdCBzdG9yZWRDb25maWcgPSB0aGlzLmdldFZhdWx0RW1iZWRkaW5nTW9kZWwodmF1bHRJZCk7XHJcblxyXG4gICAgICAgIGlmICghc3RvcmVkQ29uZmlnIHx8ICFzdG9yZWRDb25maWcubW9kZWwpIHtcclxuICAgICAgICAgICAgLy8gTm8gc3RvcmVkIGNvbmZpZyBtZWFucyB0aGlzIGlzIGZpcnN0IHRpbWUgLSBub3QgYSBjaGFuZ2VcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgbW9kZWwgbmFtZSBjaGFuZ2VkXHJcbiAgICAgICAgaWYgKHN0b3JlZENvbmZpZy5tb2RlbCAhPT0gY3VycmVudE1vZGVsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgcHJvdmlkZXIgY2hhbmdlZCAoaWYgYm90aCBhcmUgZGVmaW5lZClcclxuICAgICAgICBpZiAoY3VycmVudFByb3ZpZGVyICE9PSB1bmRlZmluZWQgJiYgc3RvcmVkQ29uZmlnLnByb3ZpZGVyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgaWYgKHN0b3JlZENvbmZpZy5wcm92aWRlciAhPT0gY3VycmVudFByb3ZpZGVyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgZGltZW5zaW9ucyBjaGFuZ2VkIChpZiBib3RoIGFyZSBkZWZpbmVkKVxyXG4gICAgICAgIGlmIChjdXJyZW50RGltZW5zaW9ucyAhPT0gdW5kZWZpbmVkICYmIHN0b3JlZENvbmZpZy5kaW1lbnNpb25zICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgaWYgKHN0b3JlZENvbmZpZy5kaW1lbnNpb25zICE9PSBjdXJyZW50RGltZW5zaW9ucykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFZhbGlkYXRlIHRoYXQgdmF1bHQgaGFzIGVtYmVkZGluZyBtb2RlbCBjb25maWd1cmF0aW9uXHJcbiAgICAgKi9cclxuICAgIHZhbGlkYXRlRW1iZWRkaW5nTW9kZWxDb25maWcodmF1bHRJZDogc3RyaW5nKTogeyBpc1ZhbGlkOiBib29sZWFuOyBjb25maWc/OiB7IHByb3ZpZGVyPzogc3RyaW5nOyBtb2RlbD86IHN0cmluZzsgZGltZW5zaW9ucz86IG51bWJlciB9IH0ge1xyXG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuZ2V0VmF1bHRFbWJlZGRpbmdNb2RlbCh2YXVsdElkKTtcclxuXHJcbiAgICAgICAgaWYgKCFjb25maWcgfHwgIWNvbmZpZy5tb2RlbCkge1xyXG4gICAgICAgICAgICByZXR1cm4geyBpc1ZhbGlkOiBmYWxzZSB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHsgaXNWYWxpZDogdHJ1ZSwgY29uZmlnIH07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgZW1iZWRkaW5nIG1vZGVsIG1pc21hdGNoIGRldGFpbHMgZm9yIHdhcm5pbmcgbWVzc2FnZXNcclxuICAgICAqL1xyXG4gICAgZ2V0RW1iZWRkaW5nTW9kZWxNaXNtYXRjaERldGFpbHModmF1bHRJZDogc3RyaW5nLCBjdXJyZW50TW9kZWw6IHN0cmluZywgY3VycmVudERpbWVuc2lvbnM/OiBudW1iZXIsIGN1cnJlbnRQcm92aWRlcj86IHN0cmluZyk6IHtcclxuICAgICAgICBoYXNDaGFuZ2VkOiBib29sZWFuO1xyXG4gICAgICAgIHN0b3JlZFByb3ZpZGVyPzogc3RyaW5nO1xyXG4gICAgICAgIHN0b3JlZE1vZGVsPzogc3RyaW5nO1xyXG4gICAgICAgIHN0b3JlZERpbWVuc2lvbnM/OiBudW1iZXI7XHJcbiAgICAgICAgY3VycmVudFByb3ZpZGVyPzogc3RyaW5nO1xyXG4gICAgICAgIGN1cnJlbnRNb2RlbDogc3RyaW5nO1xyXG4gICAgICAgIGN1cnJlbnREaW1lbnNpb25zPzogbnVtYmVyO1xyXG4gICAgfSB7XHJcbiAgICAgICAgY29uc3Qgc3RvcmVkQ29uZmlnID0gdGhpcy5nZXRWYXVsdEVtYmVkZGluZ01vZGVsKHZhdWx0SWQpO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBoYXNDaGFuZ2VkOiB0aGlzLmhhc0VtYmVkZGluZ01vZGVsQ2hhbmdlZCh2YXVsdElkLCBjdXJyZW50TW9kZWwsIGN1cnJlbnREaW1lbnNpb25zLCBjdXJyZW50UHJvdmlkZXIpLFxyXG4gICAgICAgICAgICBzdG9yZWRQcm92aWRlcjogc3RvcmVkQ29uZmlnPy5wcm92aWRlcixcclxuICAgICAgICAgICAgc3RvcmVkTW9kZWw6IHN0b3JlZENvbmZpZz8ubW9kZWwsXHJcbiAgICAgICAgICAgIHN0b3JlZERpbWVuc2lvbnM6IHN0b3JlZENvbmZpZz8uZGltZW5zaW9ucyxcclxuICAgICAgICAgICAgY3VycmVudFByb3ZpZGVyLFxyXG4gICAgICAgICAgICBjdXJyZW50TW9kZWwsXHJcbiAgICAgICAgICAgIGN1cnJlbnREaW1lbnNpb25zXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIC8vIEB2ZXNzZWwtY2xvc2U6T2RpblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGRhdGFiYXNlIGNvbmZpZ3VyYXRpb24gZm9yIHZhdWx0IHJlZ2lzdHJhdGlvbiBmcm9tIHBsdWdpbiBzZXR0aW5nc1xyXG4gICAgICogQHZlc3NlbC1wcm90b2NvbDpIZWltZGFsbCBnb3Zlcm5zOnZhbGlkYXRpb24gY29udGV4dDpEYXRhYmFzZSBjb25maWd1cmF0aW9uIGV4dHJhY3Rpb24gZnJvbSBwbHVnaW4gc2V0dGluZ3MgZm9yIHZhdWx0IHJlZ2lzdHJ5XHJcbiAgICAgKiBAaW50ZXItZGVwZW5kZW5jaWVzOiBwbHVnaW4uc2V0dGluZ3MsIFZhdWx0SW5mbyBpbnRlcmZhY2VcclxuICAgICAqIEBwdXJwb3NlOiBFeHRyYWN0IGNvcnJlY3QgZGF0YWJhc2UgY29uZmlndXJhdGlvbiBmcm9tIHBsdWdpbiBkYXRhLmpzb24gaW5zdGVhZCBvZiB1c2luZyBoYXJkY29kZWQgZGVmYXVsdHNcclxuICAgICAqIEByZXN1bHQ6IFZhdWx0IHJlZ2lzdHJ5IGVudHJpZXMgdXNlIGFjdHVhbCBkYXRhYmFzZSBzZXR0aW5ncyAocG9ydCA3Nzg4LCBkYXRhYmFzZSBcIk1lZ2FNZW1cIikgZnJvbSBwbHVnaW4gY29uZmlndXJhdGlvblxyXG4gICAgICogQHNpZ25lZDogQy5CasO4cm5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjcmVhdGVWYXVsdERhdGFiYXNlQ29uZmlnKCk6IFZhdWx0SW5mb1snY29uZmlndXJhdGlvbiddWydkYXRhYmFzZSddIHtcclxuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IHRoaXMucGx1Z2luLnNldHRpbmdzO1xyXG5cclxuICAgICAgICAvLyBHZXQgZGF0YWJhc2UgdHlwZSBmcm9tIHNldHRpbmdzIChkZWZhdWx0IHRvIG5lbzRqKVxyXG4gICAgICAgIGNvbnN0IGRhdGFiYXNlVHlwZSA9IHNldHRpbmdzLmRhdGFiYXNlVHlwZSB8fCAnbmVvNGonO1xyXG5cclxuICAgICAgICAvLyBFeHRyYWN0IGRhdGFiYXNlIGNvbmZpZ3VyYXRpb24gYmFzZWQgb24gdHlwZVxyXG4gICAgICAgIGlmIChkYXRhYmFzZVR5cGUgPT09ICduZW80aicgJiYgc2V0dGluZ3MuZGF0YWJhc2VDb25maWdzPy5uZW80aikge1xyXG4gICAgICAgICAgICBjb25zdCBuZW80akNvbmZpZyA9IHNldHRpbmdzLmRhdGFiYXNlQ29uZmlncy5uZW80ajtcclxuXHJcbiAgICAgICAgICAgIC8vIFBhcnNlIFVSSSB0byBleHRyYWN0IGhvc3QgYW5kIHBvcnQgaWYgYXZhaWxhYmxlXHJcbiAgICAgICAgICAgIGlmIChuZW80akNvbmZpZy51cmkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVyaU1hdGNoID0gbmVvNGpDb25maWcudXJpLm1hdGNoKC9ib2x0OlxcL1xcLyhbXjpdKyk6KFxcZCspLyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHVyaU1hdGNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkUG9ydCA9IHBhcnNlSW50KHVyaU1hdGNoWzJdKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbmVvNGonLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBob3N0OiB1cmlNYXRjaFsxXSB8fCAnbG9jYWxob3N0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9ydDogcGFyc2VkUG9ydCB8fCA3Njg3LCAvLyBGYWxsYmFjayBmb3IgcGFyc2VJbnQgZmFpbHVyZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZTogbmVvNGpDb25maWcuZGF0YWJhc2UgfHwgJ25lbzRqJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IG5lbzRqQ29uZmlnLnVzZXJuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogbmVvNGpDb25maWcucGFzc3dvcmRcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBGYWxsYmFjayAtIGV4dHJhY3QgZnJvbSBVUkkgb3IgdXNlIGRlZmF1bHRzXHJcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRIb3N0ID0gJ2xvY2FsaG9zdCc7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRQb3J0ID0gNzY4NztcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihgW1ZBVUxULVJFR0lTVFJZXSBVUkkgbWF0Y2ggZmFpbGVkIG9yIFVSSSBub3QgcHJvdmlkZWQgZm9yIE5lbzRqLiBVc2luZyBkZWZhdWx0cy9mYWxsYmFjayB2YWx1ZXMuYCk7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnbmVvNGonLFxyXG4gICAgICAgICAgICAgICAgaG9zdDogZGVmYXVsdEhvc3QsXHJcbiAgICAgICAgICAgICAgICBwb3J0OiBkZWZhdWx0UG9ydCxcclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlOiBuZW80akNvbmZpZy5kYXRhYmFzZSB8fCAnbmVvNGonLFxyXG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6IG5lbzRqQ29uZmlnLnVzZXJuYW1lLFxyXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6IG5lbzRqQ29uZmlnLnBhc3N3b3JkXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhYmFzZVR5cGUgPT09ICdmYWxrb3JkYicgJiYgc2V0dGluZ3MuZGF0YWJhc2VDb25maWdzPy5mYWxrb3JkYikge1xyXG4gICAgICAgICAgICBjb25zdCBmYWxrb3JDb25maWcgPSBzZXR0aW5ncy5kYXRhYmFzZUNvbmZpZ3MuZmFsa29yZGI7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbVkFVTFQtUkVHSVNUUlldIEZhbGtvckRCIGNvbmZpZyBmb3VuZCBpbiBzZXR0aW5ncy5kYXRhYmFzZUNvbmZpZ3M6Jywge1xyXG4gICAgICAgICAgICAgICAgaG9zdDogZmFsa29yQ29uZmlnLmhvc3QsXHJcbiAgICAgICAgICAgICAgICBwb3J0OiBmYWxrb3JDb25maWcucG9ydCxcclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlOiBmYWxrb3JDb25maWcuZGF0YWJhc2VcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIEZhbGtvckRCIHVzZXMgbmVvNGogdHlwZSBmb3IgdmF1bHQgcmVnaXN0cnkgKFZhdWx0SW5mbyBpbnRlcmZhY2UgbGltaXRhdGlvbilcclxuICAgICAgICAgICAgLy8gYnV0IHdpdGggRmFsa29yREItc3BlY2lmaWMgY29ubmVjdGlvbiBkZXRhaWxzXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnbmVvNGonLFxyXG4gICAgICAgICAgICAgICAgaG9zdDogZmFsa29yQ29uZmlnLmhvc3QgfHwgJ2xvY2FsaG9zdCcsXHJcbiAgICAgICAgICAgICAgICBwb3J0OiBmYWxrb3JDb25maWcucG9ydCB8fCA2Mzc5LFxyXG4gICAgICAgICAgICAgICAgZGF0YWJhc2U6IGZhbGtvckNvbmZpZy5kYXRhYmFzZSB8fCAnZmFsa29yJyxcclxuICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBmYWxrb3JDb25maWcudXNlcm5hbWUsXHJcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogZmFsa29yQ29uZmlnLnBhc3N3b3JkXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBGaW5hbCBmYWxsYmFjayB0byBkZWZhdWx0cyB3aXRoIHdhcm5pbmdcclxuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGBbVkFVTFQtUkVHSVNUUlldIE5vIGRhdGFiYXNlIGNvbmZpZ3VyYXRpb24gZm91bmQgZm9yIHR5cGU6ICR7ZGF0YWJhc2VUeXBlfS4gVXNpbmcgZmluYWwgZGVmYXVsdHMuYCk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogJ25lbzRqJyxcclxuICAgICAgICAgICAgaG9zdDogJ2xvY2FsaG9zdCcsXHJcbiAgICAgICAgICAgIHBvcnQ6IDc2ODcsXHJcbiAgICAgICAgICAgIGRhdGFiYXNlOiAnbmVvNGonXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIC8vIEB2ZXNzZWwtY2xvc2U6SGVpbWRhbGxcclxufSIsIi8vIEB2ZXNzZWwtcHJvdG9jb2w6VHlyIGdvdmVybnM6c2NoZW1hLWRpc2NvdmVyeSBjb250ZXh0OkVudGl0eSB0eXBlIGRpc2NvdmVyeSBhbmQgUHlkYW50aWMgbW9kZWwgZ2VuZXJhdGlvbiBmb3Iga25vd2xlZGdlIGdyYXBoIGVudGl0aWVzXHJcbmltcG9ydCB7IEFwcCB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IHsgam9pbiB9IGZyb20gJ3BhdGgnO1xyXG5pbXBvcnQgdHlwZSB7IFByb3BlcnR5U2NoZW1hIH0gZnJvbSAnLi4vdHlwZXMvU2NoZW1hJztcclxuXHJcbi8vIENvcmUgaW50ZXJmYWNlcyBmb3Igc2NoZW1hIGRpc2NvdmVyeVxyXG5cclxuaW50ZXJmYWNlIFR5cGVTY2hlbWEge1xyXG4gIHR5cGVOYW1lOiBzdHJpbmc7XHJcbiAgZmlsZUNvdW50OiBudW1iZXI7XHJcbiAgZmlsZXM6IHN0cmluZ1tdO1xyXG4gIHByb3BlcnRpZXM6IFByb3BlcnR5U2NoZW1hW107XHJcbn1cclxuXHJcbmludGVyZmFjZSBQcm9wZXJ0eUFuYWx5c2lzIHtcclxuICBvcmlnaW5hbE5hbWU6IHN0cmluZztcclxuICBzdWdnZXN0ZWROYW1lOiBzdHJpbmc7XHJcbiAgaXNQcm90ZWN0ZWQ6IGJvb2xlYW47XHJcbiAgbmFtaW5nSXNzdWVzOiBzdHJpbmdbXTtcclxuICBjb21wbGlhbmNlU3RhdHVzOiAndmFsaWQnIHwgJ3dhcm5pbmcnIHwgJ3Byb3RlY3RlZCc7XHJcbn1cclxuXHJcbmludGVyZmFjZSBOYW1pbmdWYWxpZGF0aW9uUmVzdWx0IHtcclxuICBpc1ZhbGlkOiBib29sZWFuO1xyXG4gIGlzc3Vlczogc3RyaW5nW107XHJcbiAgc3VnZ2VzdGVkTmFtZTogc3RyaW5nO1xyXG4gIGNvbXBsaWFuY2VMZXZlbDogJ2V4Y2VsbGVudCcgfCAnZ29vZCcgfCAnbmVlZHNfaW1wcm92ZW1lbnQnIHwgJ3Bvb3InO1xyXG59XHJcblxyXG4vLyBQcm90ZWN0ZWQgYXR0cmlidXRlcyByZXNlcnZlZCBieSBHcmFwaGl0aVxyXG5jb25zdCBQUk9URUNURURfQVRUUklCVVRFUyA9IFtcclxuICAnaWQnLCAndXVpZCcsICduYW1lJywgJ3R5cGUnLCAnc3VidHlwZScsICdzdW1tYXJ5JywgJ2Rlc2NyaXB0aW9uJyxcclxuICAnY3JlYXRlZF9hdCcsICd1cGRhdGVkX2F0JywgJ2ZhY3RfdXVpZCcsICdmYWN0X25hbWUnLCAnZmFjdF90eXBlJyxcclxuICAnZmFjdF9zdWJ0eXBlJywgJ2ZhY3Rfc3VtbWFyeScsICdmYWN0X2Rlc2NyaXB0aW9uJywgJ2ZhY3RfY3JlYXRlZF9hdCcsXHJcbiAgJ2ZhY3RfdXBkYXRlZF9hdCcsICdlZGdlX3V1aWQnLCAnZWRnZV9uYW1lJywgJ2VkZ2VfdHlwZScsICdlZGdlX3N1YnR5cGUnLFxyXG4gICdlZGdlX3N1bW1hcnknLCAnZWRnZV9kZXNjcmlwdGlvbicsICdlZGdlX2NyZWF0ZWRfYXQnLCAnZWRnZV91cGRhdGVkX2F0JyxcclxuICAnc291cmNlX3V1aWQnLCAndGFyZ2V0X3V1aWQnLCAnc291cmNlX25hbWUnLCAndGFyZ2V0X25hbWUnLCAnc291cmNlX3R5cGUnLFxyXG4gICd0YXJnZXRfdHlwZScsICd2YWxpZF9hdCcsICdpbnZhbGlkX2F0JywgJ21ldGFkYXRhJ1xyXG5dO1xyXG5cclxuLy8gRGVmYXVsdCBlbnRpdHkgZGVzY3JpcHRpb25zIGZvciBjb21tb24gdHlwZXNcclxuY29uc3QgREVGQVVMVF9FTlRJVFlfREVTQ1JJUFRJT05TOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xyXG4gIFwiUGVyc29uXCI6IFwiSW5kaXZpZHVhbCBodW1hbiBiZWluZyB3aXRoIHBlcnNvbmFsIGFuZCBwcm9mZXNzaW9uYWwgYXR0cmlidXRlcywgcmVsYXRpb25zaGlwcywgYW5kIGFjdGl2aXRpZXMgd2l0aGluIHRoZSBrbm93bGVkZ2UgZG9tYWluLlwiLFxyXG4gIFwiT3JnYW5pemF0aW9uXCI6IFwiQnVzaW5lc3MgZW50aXR5LCBjb21wYW55LCBpbnN0aXR1dGlvbiwgb3IgZ3JvdXAgd2l0aCBzdHJ1Y3R1cmVkIG9wZXJhdGlvbnMgYW5kIHJlbGF0aW9uc2hpcHMgd2l0aGluIHRoZSBwcm9mZXNzaW9uYWwgZWNvc3lzdGVtLlwiLFxyXG4gIFwiVGVjaG5vbG9neVwiOiBcIlNvZnR3YXJlLCBwcm9ncmFtbWluZyBsYW5ndWFnZSwgZnJhbWV3b3JrLCB0b29sLCBvciB0ZWNobmljYWwgc3lzdGVtIHVzZWQgaW4gZGV2ZWxvcG1lbnQgYW5kIGJ1c2luZXNzIG9wZXJhdGlvbnMuXCIsXHJcbiAgXCJQcm9kdWN0XCI6IFwiU29mdHdhcmUgcHJvZHVjdCwgc2VydmljZSwgcGxhdGZvcm0sIG9yIG9mZmVyaW5nIGNyZWF0ZWQgYnkgb3JnYW5pemF0aW9ucyBmb3IgdXNlcnMgYW5kIGN1c3RvbWVycy5cIixcclxuICBcIlByb2plY3RcIjogXCJPcmdhbml6ZWQgZWZmb3J0IHdpdGggZGVmaW5lZCBnb2FscywgdGltZWxpbmUsIGFuZCBkZWxpdmVyYWJsZXMgdW5kZXJ0YWtlbiBieSBpbmRpdmlkdWFscyBvciBvcmdhbml6YXRpb25zLlwiLFxyXG4gIFwiV2ViUGFnZVwiOiBcIkluZGl2aWR1YWwgd2ViIHBhZ2Ugb3IgVVJMIHdpdGggc3BlY2lmaWMgY29udGVudCwgcHVycG9zZSwgYW5kIHJlbGF0aW9uc2hpcHMgd2l0aGluIHRoZSBicm9hZGVyIHdlYiBlY29zeXN0ZW0uXCIsXHJcbiAgXCJXZWJzaXRlXCI6IFwiQ29tcGxldGUgd2ViIGRvbWFpbiBvciBzaXRlIGNvbnRhaW5pbmcgbXVsdGlwbGUgcGFnZXMgYW5kIHNlcnZpbmcgYXMgYSB1bmlmaWVkIHdlYiBwcmVzZW5jZS5cIixcclxuICBcIk5vdGVcIjogXCJQZXJzb25hbCBrbm93bGVkZ2Ugbm90ZSwgZG9jdW1lbnRhdGlvbiwgb3IgaWRlYSBjYXB0dXJlZCBmb3IgcmVmZXJlbmNlIGFuZCBrbm93bGVkZ2UgbWFuYWdlbWVudCBwdXJwb3Nlcy5cIixcclxuICBcIkFydGljbGVcIjogXCJQdWJsaXNoZWQgY29udGVudCBwaWVjZSBzdWNoIGFzIGJsb2cgcG9zdCwgdHV0b3JpYWwsIG9yIGluZm9ybWF0aW9uYWwgYXJ0aWNsZSB3aXRoIHNwZWNpZmljIHRvcGljIGZvY3VzLlwiLFxyXG4gIFwiTXVzaWNcIjogXCJNdXNpY2FsIHdvcmssIHNvbmcsIGFsYnVtLCBvciBhdWRpbyBjb250ZW50IHdpdGggYXJ0aXN0aWMgYW5kIGN1bHR1cmFsIHNpZ25pZmljYW5jZSwgaW5jbHVkaW5nIG1ldGFkYXRhIGFib3V0IGNyZWF0aW9uIGFuZCBwZXJmb3JtYW5jZS5cIixcclxuICBcIkZpbG1cIjogXCJNb3ZpZSwgdmlkZW8gY29udGVudCwgb3IgdmlzdWFsIG1lZGlhIHByb2R1Y3Rpb24gd2l0aCBuYXJyYXRpdmUgb3IgZG9jdW1lbnRhcnkgcHVycG9zZSwgaW5jbHVkaW5nIGNhc3QsIGNyZXcsIGFuZCBwcm9kdWN0aW9uIGRldGFpbHMuXCIsXHJcbiAgXCJFdmVudFwiOiBcIk9yZ2FuaXplZCBnYXRoZXJpbmcsIGNvbmZlcmVuY2UsIG1lZXRpbmcsIG9yIG9jY2FzaW9uIHdpdGggc3BlY2lmaWMgdGltZSwgbG9jYXRpb24sIGFuZCBwYXJ0aWNpcGFudHMgZm9yIGtub3dsZWRnZSBzaGFyaW5nIG9yIGNvbGxhYm9yYXRpb24uXCIsXHJcbiAgXCJQbGFjZVwiOiBcIlBoeXNpY2FsIGxvY2F0aW9uLCB2ZW51ZSwgb3IgZ2VvZ3JhcGhpYyBlbnRpdHkgd2l0aCBhZGRyZXNzIGFuZCBzcGF0aWFsIGNvbnRleHQgcmVsZXZhbnQgdG8gYWN0aXZpdGllcyBhbmQgcmVsYXRpb25zaGlwcy5cIixcclxuICBcIlF1b3RlXCI6IFwiTWVtb3JhYmxlIHN0YXRlbWVudCwgc2F5aW5nLCBvciBleGNlcnB0IGF0dHJpYnV0ZWQgdG8gYSBzcGVjaWZpYyBzb3VyY2Ugd2l0aCBjb250ZXh0IGFuZCBtZWFuaW5nIGZvciByZWZlcmVuY2UgYW5kIGluc3BpcmF0aW9uLlwiLFxyXG4gIFwiRXhwcmVzc2lvblwiOiBcIklkaW9tLCBjb25jZXB0LCBwcmluY2lwbGUsIG9yIGxpbmd1aXN0aWMgY29uc3RydWN0IHRoYXQgY29udmV5cyBtZWFuaW5nIHdpdGhpbiBjdWx0dXJhbCBvciBwcm9mZXNzaW9uYWwgY29udGV4dHMuXCIsXHJcbiAgXCJQZXJzb25hbFwiOiBcIlByaXZhdGUgaW5kaXZpZHVhbCBjb250ZW50IGluY2x1ZGluZyBnb2FscywgaWRlbnRpdHkgaW5mb3JtYXRpb24sIHByZWZlcmVuY2VzLCBhbmQgcGVyc29uYWwgZGV2ZWxvcG1lbnQgbWF0ZXJpYWwgZm9yIHNlbGYtb3JnYW5pemF0aW9uLlwiLFxyXG4gIFwiSm91cm5hbFwiOiBcIlRpbWUtYmFzZWQgcGVyc29uYWwgZW50cnkgb3IgbG9nIHJlY29yZGluZyB0aG91Z2h0cywgZXhwZXJpZW5jZXMsIGFuZCByZWZsZWN0aW9ucyBmb3IgdHJhY2tpbmcgcGVyc29uYWwgZ3Jvd3RoIGFuZCBtZW1vcmllcy5cIixcclxuICBcIkJvb2tcIjogXCJQdWJsaXNoZWQgbGl0ZXJhcnkgd29yaywgcmVmZXJlbmNlIG1hdGVyaWFsLCBvciBlZHVjYXRpb25hbCB0ZXh0IHdpdGggc3RydWN0dXJlZCBjb250ZW50IGZvciBrbm93bGVkZ2Ugc2hhcmluZyBhbmQgbGVhcm5pbmcuXCIsXHJcbiAgXCJQcm9qZWN0RG9jXCI6IFwiVGVjaG5pY2FsIGRvY3VtZW50YXRpb24sIHNwZWNpZmljYXRpb25zLCBvciBwcm9qZWN0LXJlbGF0ZWQgbWF0ZXJpYWxzIHRoYXQgc3VwcG9ydCBwcm9qZWN0IGRldmVsb3BtZW50IGFuZCBjb2xsYWJvcmF0aW9uLlwiXHJcbn07XHJcblxyXG4vLyBEZWZhdWx0IHByb3BlcnR5IGRlc2NyaXB0aW9ucyBmb3IgY29tbW9uIGZpZWxkc1xyXG5jb25zdCBERUZBVUxUX1BST1BFUlRZX0RFU0NSSVBUSU9OUzogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcclxuICAvLyBNdXNpYy1zcGVjaWZpYyBwcm9wZXJ0aWVzXHJcbiAgXCJkdXJhdGlvblwiOiBcIkxlbmd0aCBvZiB0aGUgYXJ0IHdvcmsgaW4gbWludXRlcyBhbmQgc2Vjb25kcywgdHlwaWNhbGx5IGZvcm1hdHRlZCBhcyBcXFwiTU06U1NcXFwiIChlLmcuLCBcXFwiMzo0MlxcXCIsIFxcXCIxOjE1OjMwXFxcIilcIixcclxuICBcInJlY29yZF9sYWJlbFwiOiBcIk11c2ljIGxhYmVsIG9yIGNvbXBhbnkgcmVzcG9uc2libGUgZm9yIHByb2R1Y2luZywgZGlzdHJpYnV0aW5nLCBvciBwcm9tb3RpbmcgdGhlIG11c2ljYWwgd29ya1wiLFxyXG4gIFwiYXJ0aXN0XCI6IFwiTXVzaWNhbCBwZXJmb3JtZXIsIGJhbmQsIG9yIGNyZWF0b3IgcmVzcG9uc2libGUgZm9yIHRoZSBhcnRpc3RpYyBjcmVhdGlvbiBhbmQgcGVyZm9ybWFuY2Ugb2YgdGhlIG11c2ljYWwgd29ya1wiLFxyXG4gIFwiYWxidW1cIjogXCJDb2xsZWN0aW9uIG9yIHJlY29yZCByZWxlYXNlIHRoYXQgY29udGFpbnMgdGhpcyBtdXNpY2FsIHdvcmsgYXMgcGFydCBvZiBhIGxhcmdlciBhcnRpc3RpYyBzdGF0ZW1lbnRcIixcclxuICBcInRyYWNrX251bWJlclwiOiBcIlBvc2l0aW9uIG9mIHRoaXMgc29uZyB3aXRoaW4gYW4gYWxidW0gb3IgY29sbGVjdGlvbiBmb3Igb3JnYW5pemF0aW9uIGFuZCByZWZlcmVuY2VcIixcclxuICBcImNvbXBvc2VyXCI6IFwiUGVyc29uIHdobyBjcmVhdGVkIHRoZSBtdXNpY2FsIGNvbXBvc2l0aW9uLCBtZWxvZHksIGFuZCBzdHJ1Y3R1cmUgb2YgdGhlIHdvcmtcIixcclxuICBcImx5cmljaXN0XCI6IFwiUGVyc29uIHdobyB3cm90ZSB0aGUgd29yZHMsIGx5cmljcywgb3IgdGV4dCBjb250ZW50IG9mIHRoZSBtdXNpY2FsIHdvcmtcIixcclxuXHJcbiAgLy8gRmlsbS1zcGVjaWZpYyBwcm9wZXJ0aWVzXHJcbiAgXCJkaXJlY3RvclwiOiBcIlByaW1hcnkgZGlyZWN0b3Igb3IgZmlsbW1ha2VyIGNyZWRpdGVkIGFzIHRoZSBtYWluIGNyZWF0aXZlIGxlYWRlciBvZiB0aGUgZmlsbSBvciB2aWRlbyBjb250ZW50XCIsXHJcbiAgXCJjYXN0XCI6IFwiTGlzdCBvZiBhY3RvcnMgYW5kIHBlcmZvcm1lcnMgd2hvIGFwcGVhcmVkIGluIHRoZSBmaWxtIG9yIHZpZGVvIGNvbnRlbnRcIixcclxuICBcInN0dWRpb1wiOiBcIlByb2R1Y3Rpb24gc3R1ZGlvIG9yIGNvbXBhbnkgcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIGFuZCBkaXN0cmlidXRpbmcgdGhlIGZpbG1cIixcclxuXHJcbiAgLy8gRXZlbnQtc3BlY2lmaWMgcHJvcGVydGllc1xyXG4gIFwiZGF0ZV9zdGFydFwiOiBcIlN0YXJ0aW5nIGRhdGUgb2YgdGhlIGV2ZW50IG9yIHNjaGVkdWxlZCBhY3Rpdml0eSBpbiBZWVlZLU1NLUREIGZvcm1hdFwiLFxyXG4gIFwiZGF0ZV9lbmRcIjogXCJFbmRpbmcgZGF0ZSBvZiB0aGUgZXZlbnQgb3Igc2NoZWR1bGVkIGFjdGl2aXR5IGluIFlZWVktTU0tREQgZm9ybWF0XCIsXHJcbiAgXCJsb2NhdGlvblwiOiBcIlBoeXNpY2FsIHZlbnVlLCBhZGRyZXNzLCBvciB2aXJ0dWFsIHBsYXRmb3JtIHdoZXJlIHRoZSBldmVudCB0YWtlcyBwbGFjZSAoZS5nLiwgXFxcIk1hZGlzb24gU3F1YXJlIEdhcmRlblxcXCIsIFxcXCJab29tXFxcIiwgXFxcIjEyMyBNYWluIFN0XFxcIilcIixcclxuICBcIm9yZ2FuaXplclwiOiBcIlBlcnNvbiwgb3JnYW5pemF0aW9uLCBvciBlbnRpdHkgcmVzcG9uc2libGUgZm9yIHBsYW5uaW5nIGFuZCBob3N0aW5nIHRoZSBldmVudFwiLFxyXG4gIFwiZXZlbnRfdHlwZVwiOiBcIkNsYXNzaWZpY2F0aW9uIG9mIHRoZSBldmVudCdzIHB1cnBvc2UgYW5kIGZvcm1hdCAoZS5nLiwgXFxcImNvbmZlcmVuY2VcXFwiLCBcXFwibWVldGluZ1xcXCIsIFxcXCJjZWxlYnJhdGlvblxcXCIsIFxcXCJ3b3Jrc2hvcFxcXCIsIFxcXCJ3ZWJpbmFyXFxcIilcIixcclxuXHJcbiAgLy8gUGxhY2Utc3BlY2lmaWMgcHJvcGVydGllc1xyXG4gIFwiY29vcmRpbmF0ZXNcIjogXCJHZW9ncmFwaGljIGNvb3JkaW5hdGVzIGluIGxhdGl0dWRlLCBsb25naXR1ZGUgZm9ybWF0IGZvciBwcmVjaXNlIGxvY2F0aW9uIGlkZW50aWZpY2F0aW9uIChlLmcuLCBcXFwiMzcuNzc0OSwgLTEyMi40MTk0XFxcIilcIixcclxuICBcImNpdHlcIjogXCJNdW5pY2lwYWxpdHksIGNpdHksIG9yIHVyYmFuIGFyZWEgdGhhdCBjb250YWlucyBvciByZXByZXNlbnRzIHRoZSBwbGFjZSBmb3IgcmVnaW9uYWwgaWRlbnRpZmljYXRpb25cIixcclxuICBcInBvc3RhbF9jb2RlXCI6IFwiWklQIGNvZGUsIHBvc3RhbCBjb2RlLCBvciBhcmVhIGNvZGUgZm9yIG1haWwgZGVsaXZlcnkgYW5kIHJlZ2lvbmFsIGNsYXNzaWZpY2F0aW9uXCIsXHJcbiAgXCJwbGFjZV90eXBlXCI6IFwiQ2xhc3NpZmljYXRpb24gb2YgdGhlIHBsYWNlJ3MgcHVycG9zZSBhbmQgY2hhcmFjdGVyaXN0aWNzIChlLmcuLCBcXFwidmVudWVcXFwiLCBcXFwib2ZmaWNlXFxcIiwgXFxcImxhbmRtYXJrXFxcIiwgXFxcInJlc2lkZW50aWFsXFxcIiwgXFxcImNvbW1lcmNpYWxcXFwiKVwiLFxyXG4gIFwicmVnaW9uXCI6IFwiR2VvZ3JhcGhpYyByZWdpb24sIHN0YXRlLCBvciBwcm92aW5jZSB3aGVyZSB0aGUgcGxhY2UgaXMgbG9jYXRlZCBmb3IgYnJvYWRlciBnZW9ncmFwaGljIGNvbnRleHRcIixcclxuXHJcbiAgLy8gQ29tbW9uIGVudGl0eSBwcm9wZXJ0aWVzICh1c2VkIGFjcm9zcyBtdWx0aXBsZSBlbnRpdHkgdHlwZXMpXHJcbiAgXCJ0aXRsZVwiOiBcIlByaW1hcnkgbmFtZSwgaGVhZGxpbmUsIG9yIG9mZmljaWFsIHRpdGxlIHRoYXQgaWRlbnRpZmllcyBhbmQgcmVwcmVzZW50cyB0aGUgZW50aXR5XCIsXHJcbiAgXCJjX25hbWVcIjogXCJDb21wbGV0ZSBsZWdhbCBuYW1lLCBvZmZpY2lhbCB0aXRsZSwgb3IgY2Fub25pY2FsIG5hbWUgYXMgZm9ybWFsbHkgcmVjb2duaXplZFwiLFxyXG4gIFwiYWxpYXNlc1wiOiBcIkFsdGVybmF0aXZlIG5hbWVzLCBuaWNrbmFtZXMsIGFiYnJldmlhdGlvbnMsIG9yIG90aGVyIGlkZW50aWZpZXJzIGJ5IHdoaWNoIHRoaXMgZW50aXR5IGlzIGFsc28ga25vd25cIixcclxuICBcInVybFwiOiBcIkNvbXBsZXRlIHdlYiBhZGRyZXNzIG9yIFVSTCB3aGVyZSB0aGlzIGVudGl0eSBjYW4gYmUgYWNjZXNzZWQgb3IgcmVmZXJlbmNlZCBvbmxpbmVcIixcclxuICBcInNhbWVfYXNcIjogXCJVUklzIG9yIFVSTHMgdGhhdCBpZGVudGlmeSB0aGlzIHNhbWUgZW50aXR5IG9uIG90aGVyIHBsYXRmb3JtcywgZGF0YWJhc2VzLCBvciBrbm93bGVkZ2Ugc3lzdGVtcyBmb3IgbGlua2luZ1wiLFxyXG4gIFwidGFnc1wiOiBcIktleXdvcmRzLCBsYWJlbHMsIG9yIGNhdGVnb3JpY2FsIG1hcmtlcnMgdXNlZCBmb3Igb3JnYW5pemluZywgZmlsdGVyaW5nLCBhbmQgZGlzY292ZXJpbmcgcmVsYXRlZCBjb250ZW50XCIsXHJcbiAgXCJhdXRob3JcIjogXCJQZXJzb24gb3Igb3JnYW5pemF0aW9uIHdobyBjcmVhdGVkLCB3cm90ZSwgb3IgaXMgcHJpbWFyaWx5IHJlc3BvbnNpYmxlIGZvciB0aGlzIGNvbnRlbnRcIixcclxuICBcIm9yZ2FuaXphdGlvblwiOiBcIkNvbXBhbnksIGluc3RpdHV0aW9uLCBvciBncm91cCBhc3NvY2lhdGVkIHdpdGggb3IgcmVzcG9uc2libGUgZm9yIHRoaXMgZW50aXR5XCIsXHJcbiAgXCJhYm91dFwiOiBcIlN1YmplY3QgbWF0dGVyLCB0b3BpYywgb3IgdGhlbWUgdGhhdCB0aGlzIGNvbnRlbnQgY292ZXJzIG9yIGRpc2N1c3NlcyBpbiBkZXRhaWxcIixcclxuICBcImNhdGVnb3J5XCI6IFwiUHJpbWFyeSBjbGFzc2lmaWNhdGlvbiwgdHlwZSwgb3IgZG9tYWluIHRoYXQgY2F0ZWdvcml6ZXMgdGhpcyBlbnRpdHkncyBwdXJwb3NlIGFuZCBjaGFyYWN0ZXJpc3RpY3NcIixcclxuICBcInN0YXR1c1wiOiBcIkN1cnJlbnQgc3RhdGUsIHBoYXNlLCBvciBjb25kaXRpb24gb2YgdGhlIGVudGl0eSBpbiBpdHMgbGlmZWN5Y2xlIChlLmcuLCBcXFwiYWN0aXZlXFxcIiwgXFxcImNvbXBsZXRlZFxcXCIsIFxcXCJwbGFubmluZ1xcXCIpXCIsXHJcbiAgXCJkYXRlX3B1Ymxpc2hlZFwiOiBcIkRhdGUgd2hlbiB0aGlzIGFydGljbGUgb3IgY29udGVudCB3YXMgb2ZmaWNpYWxseSBwdWJsaXNoZWQgb3IgcmVsZWFzZWQgaW4gWVlZWS1NTS1ERCBmb3JtYXRcIixcclxuXHJcbiAgLy8gUGVyc29uLXNwZWNpZmljIHByb3BlcnRpZXNcclxuICBcImlkZW50aXR5X3R5cGVcIjogXCJDbGFzc2lmaWNhdGlvbiBvZiB0aGUgcGVyc29uJ3MgaWRlbnRpdHkgc3RhdHVzIChlLmcuLCBcXFwibmF0dXJhbF9wZXJzb25cXFwiLCBcXFwicHVibGljX2ZpZ3VyZVxcXCIsIFxcXCJwc2V1ZG9ueW1cXFwiLCBcXFwiY2hhcmFjdGVyXFxcIilcIixcclxuICBcImdpdmVuX25hbWVcIjogXCJGaXJzdCBuYW1lIG9yIGdpdmVuIG5hbWUgYXMgY29tbW9ubHkgdXNlZCBmb3IgcGVyc29uYWwgaWRlbnRpZmljYXRpb24gYW5kIGludHJvZHVjdGlvbnNcIixcclxuICBcImZhbWlseV9uYW1lXCI6IFwiTGFzdCBuYW1lLCBzdXJuYW1lLCBvciBmYW1pbHkgbmFtZSB1c2VkIGZvciBmb3JtYWwgaWRlbnRpZmljYXRpb24gYW5kIGhlcml0YWdlXCIsXHJcbiAgXCJkYXRlX29mX2JpcnRoXCI6IFwiRGF0ZSB3aGVuIHRoZSBwZXJzb24gd2FzIGJvcm4sIGZvcm1hdHRlZCBhcyBZWVlZLU1NLUREIGZvciBiaW9ncmFwaGljYWwgcmVmZXJlbmNlXCIsXHJcbiAgXCJkYXRlX29mX2RlYXRoXCI6IFwiRGF0ZSB3aGVuIHRoZSBwZXJzb24gcGFzc2VkIGF3YXksIGZvcm1hdHRlZCBhcyBZWVlZLU1NLUREIGlmIGFwcGxpY2FibGUgZm9yIGJpb2dyYXBoaWNhbCBjb21wbGV0aW9uXCIsXHJcbiAgXCJhZGRyZXNzXCI6IFwiUGh5c2ljYWwgYWRkcmVzcywgbG9jYXRpb24sIG9yIHByaW1hcnkgcmVzaWRlbmNlIHdoZXJlIHRoZSBwZXJzb24gaXMgYmFzZWRcIixcclxuICBcImVtYWlsXCI6IFwiUHJpbWFyeSBlbWFpbCBhZGRyZXNzIGZvciBwcm9mZXNzaW9uYWwgb3IgcGVyc29uYWwgY29tbXVuaWNhdGlvbiBhbmQgY29udGFjdFwiLFxyXG4gIFwid29ya3NfZm9yXCI6IFwiT3JnYW5pemF0aW9uLCBjb21wYW55LCBvciBpbnN0aXR1dGlvbiB3aGVyZSB0aGUgcGVyc29uIGlzIGN1cnJlbnRseSBlbXBsb3llZFwiLFxyXG4gIFwiam9iX3RpdGxlXCI6IFwiUHJvZmVzc2lvbmFsIHJvbGUsIHBvc2l0aW9uLCBvciB0aXRsZSB0aGF0IGRlc2NyaWJlcyB0aGUgcGVyc29uJ3MgY3VycmVudCByZXNwb25zaWJpbGl0aWVzXCIsXHJcbiAgXCJuZWVkc1wiOiBcIlJlc291cmNlcywgc2tpbGxzLCBjb25uZWN0aW9ucywgb3Igc3VwcG9ydCB0aGF0IHRoZSBwZXJzb24gcmVxdWlyZXMgdG8gYWNoaWV2ZSB0aGVpciBnb2Fsc1wiLFxyXG4gIFwib2ZmZXJzXCI6IFwiU2tpbGxzLCBzZXJ2aWNlcywga25vd2xlZGdlLCBvciB2YWx1ZSB0aGF0IHRoZSBwZXJzb24gY2FuIHByb3ZpZGUgdG8gb3RoZXJzIG9yIGNvbnRyaWJ1dGUgdG8gcHJvamVjdHNcIixcclxuICBcImxpbmtzXCI6IFwiVVJMcyBvciB3ZWIgYWRkcmVzc2VzIGFzc29jaWF0ZWQgd2l0aCB0aGUgcGVyc29uJ3Mgb25saW5lIHByZXNlbmNlIG9yIHByb2Zlc3Npb25hbCBwcm9maWxlc1wiLFxyXG4gIFwicmVsYXRpb25zaGlwX3R5cGVcIjogXCJOYXR1cmUgb2YgdGhlIHJlbGF0aW9uc2hpcCBvciBjb25uZWN0aW9uIHRoaXMgcGVyc29uIGhhcyB0byBvdGhlciBlbnRpdGllcyBvciBwZW9wbGVcIixcclxuXHJcbiAgLy8gT3JnYW5pemF0aW9uLXNwZWNpZmljIHByb3BlcnRpZXNcclxuICBcImRhdGVfZm91bmRlZFwiOiBcIkRhdGUgd2hlbiB0aGUgb3JnYW5pemF0aW9uIHdhcyBvZmZpY2lhbGx5IGVzdGFibGlzaGVkLCBpbmNvcnBvcmF0ZWQsIG9yIGZvdW5kZWQgaW4gWVlZWS1NTS1ERCBmb3JtYXRcIixcclxuICBcIm9yZ190eXBlXCI6IFwiTGVnYWwgc3RydWN0dXJlIG9yIGNsYXNzaWZpY2F0aW9uIG9mIHRoZSBvcmdhbml6YXRpb24gKGUuZy4sIFxcXCJMTENcXFwiLCBcXFwiQ29ycG9yYXRpb25cXFwiLCBcXFwiTm9uLXByb2ZpdFxcXCIsIFxcXCJQYXJ0bmVyc2hpcFxcXCIpXCIsXHJcblxyXG4gIC8vIFByb2plY3Qtc3BlY2lmaWMgcHJvcGVydGllc1xyXG4gIFwicHJvamVjdF90eXBlXCI6IFwiQ2xhc3NpZmljYXRpb24gb2YgdGhlIHByb2plY3QncyBuYXR1cmUsIHNjb3BlLCBhbmQgbWV0aG9kb2xvZ3kgKGUuZy4sIFxcXCJzb2Z0d2FyZVxcXCIsIFxcXCJyZXNlYXJjaFxcXCIsIFxcXCJzdGFydHVwXFxcIiwgXFxcImNvbW11bml0eVxcXCIpXCIsXHJcbiAgXCJjb2xsYWJvcmF0b3JzXCI6IFwiUGVvcGxlLCB0ZWFtcywgb3Igb3JnYW5pemF0aW9ucyB3b3JraW5nIHRvZ2V0aGVyIG9uIHRoaXMgcHJvamVjdCBvciBjb250cmlidXRpbmcgdG8gaXRzIGRldmVsb3BtZW50XCIsXHJcbiAgXCJwdWJsaWNfcmVwb1wiOiBcIlVSTCBvciByZWZlcmVuY2UgdG8gdGhlIHB1YmxpYyBjb2RlIHJlcG9zaXRvcnkgd2hlcmUgdGhlIHByb2plY3QncyBzb3VyY2UgY29kZSBpcyBob3N0ZWQgYW5kIGFjY2Vzc2libGVcIixcclxuXHJcbiAgLy8gVGVjaG5vbG9neS1zcGVjaWZpYyBwcm9wZXJ0aWVzIC0gbm8gYWRkaXRpb25hbCBzcGVjaWZpYyBvbmVzIGJleW9uZCBjb21tb24gcHJvcGVydGllc1xyXG5cclxuICAvLyBQcm9kdWN0LXNwZWNpZmljIHByb3BlcnRpZXNcclxuICBcIm9mZmVyaW5nX3R5cGVcIjogXCJCdXNpbmVzcyBtb2RlbCBhbmQgZGVsaXZlcnkgbWV0aG9kIG9mIHRoZSBwcm9kdWN0IChlLmcuLCBcXFwiU2FhU1xcXCIsIFxcXCJBUElcXFwiLCBcXFwicGh5c2ljYWxfcHJvZHVjdFxcXCIsIFxcXCJzZXJ2aWNlXFxcIiwgXFxcInBsYXRmb3JtXFxcIilcIixcclxuXHJcbiAgLy8gQXJ0aWNsZS1zcGVjaWZpYyBwcm9wZXJ0aWVzXHJcbiAgXCJhcnRpY2xlX3R5cGVcIjogXCJHZW5yZSBvciBmb3JtYXQgY2xhc3NpZmljYXRpb24gb2YgdGhlIGFydGljbGUgKGUuZy4sIFxcXCJibG9nX3Bvc3RcXFwiLCBcXFwidHV0b3JpYWxcXFwiLCBcXFwiYW5hbHlzaXNcXFwiLCBcXFwibmV3c1xcXCIsIFxcXCJyZXZpZXdcXFwiKVwiLFxyXG5cclxuICAvLyBOb3RlLXNwZWNpZmljIHByb3BlcnRpZXNcclxuICBcIm5vdGVfdHlwZVwiOiBcIkNsYXNzaWZpY2F0aW9uIG9mIHRoZSBub3RlJ3MgcHVycG9zZSBhbmQgY29udGVudCB0eXBlIChlLmcuLCBcXFwiaWRlYVxcXCIsIFxcXCJtZWV0aW5nX25vdGVzXFxcIiwgXFxcInJlZmVyZW5jZVxcXCIsIFxcXCJhbmFseXNpc1xcXCIpXCIsXHJcblxyXG4gIC8vIEJvb2stc3BlY2lmaWMgcHJvcGVydGllc1xyXG4gIFwic3VidGl0bGVcIjogXCJTZWNvbmRhcnkgdGl0bGUgb3IgZXhwbGFuYXRvcnkgc3VidGl0bGUgdGhhdCBwcm92aWRlcyBhZGRpdGlvbmFsIGNvbnRleHQgYWJvdXQgdGhlIGJvb2sncyBjb250ZW50XCIsXHJcbiAgXCJjYXRlZ29yaWVzXCI6IFwiU3ViamVjdCBjYXRlZ29yaWVzLCBnZW5yZXMsIG9yIGNsYXNzaWZpY2F0aW9uIHRhZ3MgdGhhdCBkZXNjcmliZSB0aGUgYm9vaydzIGNvbnRlbnQgYW5kIHRhcmdldCBhdWRpZW5jZVwiLFxyXG4gIFwiYXV0aG9yc1wiOiBcIkxpc3Qgb2YgcGVvcGxlIHdobyB3cm90ZSwgZWRpdGVkLCBvciBjb250cmlidXRlZCB0byB0aGUgY3JlYXRpb24gb2YgdGhlIGJvb2tcIixcclxuICBcInB1Ymxpc2hlZF9vblwiOiBcIkRhdGUgd2hlbiB0aGUgYm9vayB3YXMgb2ZmaWNpYWxseSBwdWJsaXNoZWQgb3IgcmVsZWFzZWQgaW4gWVlZWS1NTS1ERCBmb3JtYXRcIixcclxuICBcImxpbmtcIjogXCJVUkwgb3Igd2ViIGFkZHJlc3Mgd2hlcmUgdGhlIGJvb2sgY2FuIGJlIGFjY2Vzc2VkLCBwdXJjaGFzZWQsIG9yIHJlZmVyZW5jZWQgb25saW5lXCIsXHJcblxyXG4gIC8vIFByb2plY3REb2Mtc3BlY2lmaWMgcHJvcGVydGllc1xyXG4gIFwicHJvamVjdFwiOiBcIk5hbWUgb3IgaWRlbnRpZmllciBvZiB0aGUgcHJvamVjdCB0aGF0IHRoaXMgZG9jdW1lbnRhdGlvbiByZWxhdGVzIHRvIG9yIHN1cHBvcnRzXCIsXHJcbiAgXCJ0ZWFtXCI6IFwiR3JvdXAgb2YgcGVvcGxlIG9yIG9yZ2FuaXphdGlvbmFsIHVuaXQgcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIGFuZCBtYWludGFpbmluZyB0aGlzIGRvY3VtZW50YXRpb25cIixcclxuXHJcbiAgLy8gQ3Jvc3MtZW50aXR5IGNvcnJlY3Rpb25zIGZvciBGaWxtIHByb3BlcnRpZXMgdGhhdCB3ZXJlIGluY29ycmVjdGx5IHVzaW5nIE11c2ljIGRlc2NyaXB0aW9uc1xyXG4gIFwiZ2VucmVcIjogXCJDYXRlZ29yeSwgc3R5bGUsIG9yIGNsYXNzaWZpY2F0aW9uIHRoYXQgZGVzY3JpYmVzIHRoZSBhcnRpc3RpYyBhcHByb2FjaCwgc3ViamVjdCBtYXR0ZXIsIG9yIHRhcmdldCBhdWRpZW5jZVwiLFxyXG4gIFwiY291bnRyeVwiOiBcIk5hdGlvbiBvciBjb3VudHJ5IG9mIG9yaWdpbiB3aGVyZSB0aGUgZW50aXR5IHdhcyBjcmVhdGVkLCBwcm9kdWNlZCwgb3IgcHJpbWFyaWx5IG9wZXJhdGVzXCJcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBTY2hlbWFEaXNjb3ZlcnlTZXJ2aWNlIHtcclxuICBwcml2YXRlIHBsdWdpbjogYW55OyAvLyBQbHVnaW4gaW5zdGFuY2UgZm9yIGFjY2Vzc2luZyBzZXR0aW5nc1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGFwcDogQXBwLCBwbHVnaW4/OiBhbnkpIHtcclxuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG4gIH1cclxuXHJcbiAgLy8gU2FmZSBsb2dnZXIgYWNjZXNzb3I6IHByZWZlciBwbHVnaW4ubG9nZ2VyIHdoZW4gYXZhaWxhYmxlLCBvdGhlcndpc2UgdW5kZWZpbmVkLlxyXG4gIC8vIFVzZSBBU0NJSS1vbmx5IG1lc3NhZ2VzIHBlciBwcm9qZWN0IHJ1bGVzLlxyXG4gIHByaXZhdGUgZ2V0IGxvZ2dlcigpOiBhbnkgfCB1bmRlZmluZWQge1xyXG4gICAgdHJ5IHtcclxuICAgICAgcmV0dXJuIHRoaXMucGx1Z2luICYmIHRoaXMucGx1Z2luLmxvZ2dlciA/IHRoaXMucGx1Z2luLmxvZ2dlciA6IHVuZGVmaW5lZDtcclxuICAgIH0gY2F0Y2ggKF8pIHtcclxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm90ZWN0ZWQgYnkgR3JhcGhpdGlcclxuICAgKi9cclxuICBwcml2YXRlIGlzUHJvdGVjdGVkQXR0cmlidXRlKG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIFBST1RFQ1RFRF9BVFRSSUJVVEVTLmluY2x1ZGVzKG5hbWUudG9Mb3dlckNhc2UoKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb252ZXJ0IGNhbWVsQ2FzZSBvciBQYXNjYWxDYXNlIHRvIHNuYWtlX2Nhc2VcclxuICAgKi9cclxuICBwcml2YXRlIGNvbnZlcnRUb1NuYWtlQ2FzZShuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIG5hbWVcclxuICAgICAgLnJlcGxhY2UoLyhbQS1aXSkvZywgJ18kMScpXHJcbiAgICAgIC50b0xvd2VyQ2FzZSgpXHJcbiAgICAgIC5yZXBsYWNlKC9eXy8sICcnKTsgLy8gUmVtb3ZlIGxlYWRpbmcgdW5kZXJzY29yZVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVmFsaWRhdGUgZW50aXR5IHR5cGUgbmFtZSAoc2hvdWxkIGJlIFBhc2NhbENhc2UpXHJcbiAgICovXHJcbiAgcHJpdmF0ZSB2YWxpZGF0ZUVudGl0eVR5cGVOYW1lKG5hbWU6IHN0cmluZyk6IE5hbWluZ1ZhbGlkYXRpb25SZXN1bHQge1xyXG4gICAgY29uc3QgaXNzdWVzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgbGV0IHN1Z2dlc3RlZE5hbWUgPSBuYW1lO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIGl0J3MgUGFzY2FsQ2FzZVxyXG4gICAgaWYgKCEvXltBLVpdW2EtekEtWjAtOV0qJC8udGVzdChuYW1lKSkge1xyXG4gICAgICBpc3N1ZXMucHVzaCgnRW50aXR5IHR5cGUgc2hvdWxkIGJlIFBhc2NhbENhc2UgKGUuZy4sIFBlcnNvbiwgVGVjaENvbXBhbnkpJyk7XHJcbiAgICAgIC8vIENvbnZlcnQgdG8gUGFzY2FsQ2FzZVxyXG4gICAgICBzdWdnZXN0ZWROYW1lID0gbmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoMSkucmVwbGFjZSgvW15hLXpBLVowLTldL2csICcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjb21wbGlhbmNlTGV2ZWwgPSBpc3N1ZXMubGVuZ3RoID09PSAwID8gJ2V4Y2VsbGVudCcgOiAnbmVlZHNfaW1wcm92ZW1lbnQnO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlzVmFsaWQ6IGlzc3Vlcy5sZW5ndGggPT09IDAsXHJcbiAgICAgIGlzc3VlcyxcclxuICAgICAgc3VnZ2VzdGVkTmFtZSxcclxuICAgICAgY29tcGxpYW5jZUxldmVsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQW5hbHl6ZSBhIHByb3BlcnR5IGZvciBuYW1pbmcgYW5kIHByb3RlY3Rpb24gaXNzdWVzXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBhbmFseXplUHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZXM6IGFueVtdKTogUHJvcGVydHlBbmFseXNpcyB7XHJcbiAgICBjb25zdCBzdWdnZXN0ZWROYW1lID0gdGhpcy5jb252ZXJ0VG9TbmFrZUNhc2UobmFtZSk7XHJcbiAgICBjb25zdCBpc1Byb3RlY3RlZCA9IHRoaXMuaXNQcm90ZWN0ZWRBdHRyaWJ1dGUobmFtZSk7XHJcbiAgICBjb25zdCBuYW1pbmdJc3N1ZXM6IHN0cmluZ1tdID0gW107XHJcblxyXG4gICAgaWYgKGlzUHJvdGVjdGVkKSB7XHJcbiAgICAgIG5hbWluZ0lzc3Vlcy5wdXNoKCdVc2VzIHByb3RlY3RlZCBhdHRyaWJ1dGUgbmFtZSByZXNlcnZlZCBieSBHcmFwaGl0aScpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChuYW1lICE9PSBzdWdnZXN0ZWROYW1lICYmICFpc1Byb3RlY3RlZCkge1xyXG4gICAgICBuYW1pbmdJc3N1ZXMucHVzaCgnU2hvdWxkIHVzZSBzbmFrZV9jYXNlIG5hbWluZyBjb252ZW50aW9uJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY29tcGxpYW5jZVN0YXR1czogJ3ZhbGlkJyB8ICd3YXJuaW5nJyB8ICdwcm90ZWN0ZWQnID1cclxuICAgICAgaXNQcm90ZWN0ZWQgPyAncHJvdGVjdGVkJyA6XHJcbiAgICAgIG5hbWluZ0lzc3Vlcy5sZW5ndGggPiAwID8gJ3dhcm5pbmcnIDogJ3ZhbGlkJztcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBvcmlnaW5hbE5hbWU6IG5hbWUsXHJcbiAgICAgIHN1Z2dlc3RlZE5hbWU6IGlzUHJvdGVjdGVkID8gYCR7c3VnZ2VzdGVkTmFtZX1fY3VzdG9tYCA6IHN1Z2dlc3RlZE5hbWUsXHJcbiAgICAgIGlzUHJvdGVjdGVkLFxyXG4gICAgICBuYW1pbmdJc3N1ZXMsXHJcbiAgICAgIGNvbXBsaWFuY2VTdGF0dXNcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBcHBseSBzYXZlZCBwcm9wZXJ0eSBtYXBwaW5ncyB0byBhIHByb3BlcnR5IG5hbWVcclxuICAgKi9cclxuICBwcml2YXRlIGFwcGx5UHJvcGVydHlNYXBwaW5nKGVudGl0eVR5cGU6IHN0cmluZywgb3JpZ2luYWxOYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgaWYgKCF0aGlzLnBsdWdpbikgcmV0dXJuIG9yaWdpbmFsTmFtZTtcclxuXHJcbiAgICBjb25zdCBtYXBwaW5nID0gdGhpcy5wbHVnaW4uZ2V0UHJvcGVydHlNYXBwaW5nKGVudGl0eVR5cGUsIG9yaWdpbmFsTmFtZSk7XHJcbiAgICByZXR1cm4gbWFwcGluZyB8fCBvcmlnaW5hbE5hbWU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTYXZlIGEgcHJvcGVydHkgbWFwcGluZyBwZXJzaXN0ZW50bHlcclxuICAgKi9cclxuICBhc3luYyBzYXZlUHJvcGVydHlNYXBwaW5nKGVudGl0eVR5cGU6IHN0cmluZywgb3JpZ2luYWxOYW1lOiBzdHJpbmcsIG1hcHBlZE5hbWU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgaWYgKHRoaXMucGx1Z2luKSB7XHJcbiAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVQcm9wZXJ0eU1hcHBpbmcoZW50aXR5VHlwZSwgb3JpZ2luYWxOYW1lLCBtYXBwZWROYW1lKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbW92ZSBhIHByb3BlcnR5IG1hcHBpbmdcclxuICAgKi9cclxuICBhc3luYyByZW1vdmVQcm9wZXJ0eU1hcHBpbmcoZW50aXR5VHlwZTogc3RyaW5nLCBvcmlnaW5hbE5hbWU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgaWYgKHRoaXMucGx1Z2luKSB7XHJcbiAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnJlbW92ZVByb3BlcnR5TWFwcGluZyhlbnRpdHlUeXBlLCBvcmlnaW5hbE5hbWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2F2ZSBhIHByb3BlcnR5IHNlbGVjdGlvbiAoZW5hYmxlZC9kaXNhYmxlZCBzdGF0ZSkgcGVyc2lzdGVudGx5XHJcbiAgICovXHJcbiAgYXN5bmMgc2F2ZVByb3BlcnR5U2VsZWN0aW9uKGVudGl0eVR5cGU6IHN0cmluZywgcHJvcGVydHlOYW1lOiBzdHJpbmcsIGVuYWJsZWQ6IGJvb2xlYW4pOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGlmICh0aGlzLnBsdWdpbikge1xyXG4gICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlUHJvcGVydHlTZWxlY3Rpb24oZW50aXR5VHlwZSwgcHJvcGVydHlOYW1lLCBlbmFibGVkKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBzYXZlZCBwcm9wZXJ0eSBzZWxlY3Rpb24gc3RhdGVcclxuICAgKi9cclxuICBwcml2YXRlIGdldFByb3BlcnR5U2VsZWN0aW9uKGVudGl0eVR5cGU6IHN0cmluZywgcHJvcGVydHlOYW1lOiBzdHJpbmcpOiBib29sZWFuIHwgdW5kZWZpbmVkIHtcclxuICAgIGlmICghdGhpcy5wbHVnaW4pIHJldHVybiB1bmRlZmluZWQ7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMucGx1Z2luLmdldFByb3BlcnR5U2VsZWN0aW9uKGVudGl0eVR5cGUsIHByb3BlcnR5TmFtZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgZGVmYXVsdCBkZXNjcmlwdGlvbiBmb3IgYSBrbm93biBlbnRpdHkgdHlwZVxyXG4gICAqL1xyXG4gIGdldERlZmF1bHRFbnRpdHlEZXNjcmlwdGlvbihlbnRpdHlUeXBlOiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsIHtcclxuICAgIHJldHVybiBERUZBVUxUX0VOVElUWV9ERVNDUklQVElPTlNbZW50aXR5VHlwZV0gfHwgbnVsbDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIHdlIGhhdmUgYSBkZWZhdWx0IGRlc2NyaXB0aW9uIGZvciB0aGlzIGVudGl0eSB0eXBlXHJcbiAgICovXHJcbiAgaGFzRGVmYXVsdEVudGl0eURlc2NyaXB0aW9uKGVudGl0eVR5cGU6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIGVudGl0eVR5cGUgaW4gREVGQVVMVF9FTlRJVFlfREVTQ1JJUFRJT05TO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGFsbCBhdmFpbGFibGUgZGVmYXVsdCBlbnRpdHkgdHlwZXNcclxuICAgKi9cclxuICBnZXRBdmFpbGFibGVEZWZhdWx0RW50aXR5VHlwZXMoKTogc3RyaW5nW10ge1xyXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKERFRkFVTFRfRU5USVRZX0RFU0NSSVBUSU9OUyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgZGVmYXVsdCBkZXNjcmlwdGlvbiBmb3IgYSBwcm9wZXJ0eVxyXG4gICAqL1xyXG4gIGdldERlZmF1bHRQcm9wZXJ0eURlc2NyaXB0aW9uKHByb3BlcnR5TmFtZTogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XHJcbiAgICByZXR1cm4gREVGQVVMVF9QUk9QRVJUWV9ERVNDUklQVElPTlNbcHJvcGVydHlOYW1lXSB8fCBudWxsO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2hlY2sgaWYgd2UgaGF2ZSBhIGRlZmF1bHQgZGVzY3JpcHRpb24gZm9yIHRoaXMgcHJvcGVydHlcclxuICAgKi9cclxuICBoYXNEZWZhdWx0UHJvcGVydHlEZXNjcmlwdGlvbihwcm9wZXJ0eU5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHByb3BlcnR5TmFtZSBpbiBERUZBVUxUX1BST1BFUlRZX0RFU0NSSVBUSU9OUztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBkaXJlY3QgYWNjZXNzIHRvIGRlZmF1bHQgcHJvcGVydHkgZGVzY3JpcHRpb25zXHJcbiAgICovXHJcbiAgZ2V0IGRlZmF1bHRQcm9wZXJ0eURlc2NyaXB0aW9ucygpOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHtcclxuICAgIHJldHVybiBERUZBVUxUX1BST1BFUlRZX0RFU0NSSVBUSU9OUztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBhbGwgYXZhaWxhYmxlIGRlZmF1bHQgcHJvcGVydHkgbmFtZXNcclxuICAgKi9cclxuICBnZXRBdmFpbGFibGVEZWZhdWx0UHJvcGVydGllcygpOiBzdHJpbmdbXSB7XHJcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoREVGQVVMVF9QUk9QRVJUWV9ERVNDUklQVElPTlMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGFsbCBhdmFpbGFibGUgZGVmYXVsdCBlZGdlIHR5cGVzIHdpdGggZGVzY3JpcHRpb25zXHJcbiAgICovXHJcbiAgZ2V0QXZhaWxhYmxlRGVmYXVsdEVkZ2VUeXBlcygpOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICdXb3Jrc0Zvcic6ICdQZXJzb24gZW1wbG95ZWQgYnkgT3JnYW5pemF0aW9uJyxcclxuICAgICAgJ1VzZXMnOiAnUGVyc29uL09yZ2FuaXphdGlvbiB1c2VzIFRlY2hub2xvZ3kvUHJvZHVjdCcsXHJcbiAgICAgICdDcmVhdGVzJzogJ1BlcnNvbi9Pcmdhbml6YXRpb24gY3JlYXRlcyBUZWNobm9sb2d5L1Byb2R1Y3QvUHJvamVjdCcsXHJcbiAgICAgICdLbm93cyc6ICdQZXJzb24ga25vd3MgUGVyc29uIChwZXJzb25hbCBvciBwcm9mZXNzaW9uYWwgcmVsYXRpb25zaGlwKScsXHJcbiAgICAgICdNZW1iZXJPZic6ICdQZXJzb24vT3JnYW5pemF0aW9uIGlzIG1lbWJlciBvZiBPcmdhbml6YXRpb24nLFxyXG4gICAgICAnUGFydG5lcnNXaXRoJzogJ1BlcnNvbi9Pcmdhbml6YXRpb24gcGFydG5lcnMgd2l0aCBQZXJzb24vT3JnYW5pemF0aW9uJyxcclxuICAgICAgJ0RlcGVuZHNPbic6ICdUZWNobm9sb2d5L1Byb2R1Y3QgZGVwZW5kcyBvbiBUZWNobm9sb2d5JyxcclxuICAgICAgJ0ludGVncmF0ZWRXaXRoJzogJ1Byb2R1Y3QvVGVjaG5vbG9neSBoYXMgYnVpbHQtaW4gaW50ZWdyYXRpb24gd2l0aCBQcm9kdWN0L1RlY2hub2xvZ3knLFxyXG4gICAgICAnQWJvdXQnOiAnV2ViUGFnZS9Ob3RlL0FydGljbGUgYWJvdXQgRW50aXR5JyxcclxuICAgICAgJ0lzUGFydE9mJzogJ1dlYlBhZ2UgcGFydCBvZiBXZWJzaXRlL0RvbWFpbicsXHJcbiAgICAgICdUYWdzJzogJ0VudGl0eSBpcyB0YWdnZWQgd2l0aCBhbm90aGVyIEVudGl0eScsXHJcbiAgICAgIC8vIE5ldyBlZGdlIHR5cGVzIGZvciBtZWRpYSwgZXZlbnRzLCBhbmQgcmVsYXRpb25zaGlwc1xyXG4gICAgICAnUGVyZm9ybWVkQnknOiAnTXVzaWNhbCB3b3JrIHBlcmZvcm1lZCBieSBBcnRpc3QvUGVyc29uJyxcclxuICAgICAgJ0luZmx1ZW5jZWRCeSc6ICdFbnRpdHkgaW5mbHVlbmNlZCBvciBpbnNwaXJlZCBieSBhbm90aGVyIEVudGl0eScsXHJcbiAgICAgICdDb2xsYWJvcmF0ZXNXaXRoJzogJ1BlcnNvbi9Pcmdhbml6YXRpb24gYWN0aXZlbHkgY29sbGFib3JhdGVzIHdpdGggUGVyc29uL09yZ2FuaXphdGlvbicsXHJcbiAgICAgICdPcmdhbml6ZWRCeSc6ICdFdmVudCBvcmdhbml6ZWQgYW5kIG1hbmFnZWQgYnkgUGVyc29uL09yZ2FuaXphdGlvbicsXHJcbiAgICAgICdBdHRlbmRlZEJ5JzogJ0V2ZW50IGF0dGVuZGVkIG9yIHBhcnRpY2lwYXRlZCBpbiBieSBQZXJzb24nLFxyXG4gICAgICAnUGFydE9mU2VyaWVzJzogJ0VudGl0eSB0aGF0IGJlbG9uZ3MgdG8gb3IgY29udGludWVzIGEgc2VyaWVzL3NlcXVlbmNlJyxcclxuICAgICAgJ0xlYWRCeSc6ICdQcm9qZWN0L09yZ2FuaXphdGlvbi9Jbml0aWF0aXZlIGxlZCBvciBkaXJlY3RlZCBieSBQZXJzb24nLFxyXG4gICAgICAnU3BvbnNvcmVkQnknOiAnRW50aXR5IHNwb25zb3JlZCwgZnVuZGVkLCBvciBzdXBwb3J0ZWQgYnkgT3JnYW5pemF0aW9uJyxcclxuICAgICAgJ0NvbXBldGVzV2l0aCc6ICdPcmdhbml6YXRpb24vUHJvZHVjdCBpbiBjb21wZXRpdGlvbiBvciByaXZhbHJ5IHdpdGggT3JnYW5pemF0aW9uL1Byb2R1Y3QnXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGRlZmF1bHQgcHJvcGVydGllcyBmb3Iga25vd24gZWRnZSB0eXBlc1xyXG4gICAqL1xyXG4gIGdldERlZmF1bHRFZGdlVHlwZVByb3BlcnRpZXMoKTogUmVjb3JkPHN0cmluZywgUmVjb3JkPHN0cmluZywgeyBkZXNjcmlwdGlvbjogc3RyaW5nOyBmaWVsZFR5cGU6IHN0cmluZzsgcmVxdWlyZWQ6IGJvb2xlYW4gfT4+IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICdXb3Jrc0Zvcic6IHtcclxuICAgICAgICAnam9iX3RpdGxlJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdDdXJyZW50IHByb2Zlc3Npb25hbCByb2xlLCBwb3NpdGlvbiwgb3IgdGl0bGUgdGhhdCBkZXNjcmliZXMgcmVzcG9uc2liaWxpdGllcyBhbmQgbGV2ZWwgd2l0aGluIGFuIG9yZ2FuaXphdGlvbicsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnZW1wbG95bWVudF90eXBlJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdFbXBsb3ltZW50IGNsYXNzaWZpY2F0aW9uIHN1Y2ggYXMgZnVsbC10aW1lLCBwYXJ0LXRpbWUsIGNvbnRyYWN0b3IsIGNvbnN1bHRhbnQsIGFkdmlzb3IsIG9yIGludGVybicsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnc3RhcnRfZGF0ZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRGF0ZSB3aGVuIHRoZSBlbXBsb3ltZW50IHJlbGF0aW9uc2hpcCBiZWdhbiBpbiBZWVlZLU1NLUREIGZvcm1hdCcsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdkYXRldGltZScsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgICdVc2VzJzoge1xyXG4gICAgICAgICdzZW50aW1lbnQnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1VzZXJcXCdzIGF0dGl0dWRlIG9yIGZlZWxpbmcgdG93YXJkIHRoZSB0ZWNobm9sb2d5IChwb3NpdGl2ZSwgbmVnYXRpdmUsIG5ldXRyYWwsIGxvdmUsIGhhdGUpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgICdwcm9maWNpZW5jeSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVXNlclxcJ3Mgc2tpbGwgbGV2ZWwgb3IgZXhwZXJ0aXNlIHdpdGggdGhlIHRlY2hub2xvZ3kgKGJlZ2lubmVyLCBpbnRlcm1lZGlhdGUsIGFkdmFuY2VkLCBleHBlcnQpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgICd1c2FnZV9jb250ZXh0Jzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdDb250ZXh0IG9yIGVudmlyb25tZW50IHdoZXJlIHRoZSB0ZWNobm9sb2d5IGlzIHVzZWQgKGRldmVsb3BtZW50LCBwcm9kdWN0aW9uLCBwZXJzb25hbCwgdGVzdGluZyknLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ3N0YXR1cyc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQ3VycmVudCB1c2FnZSBzdGF0dXMgKGFjdGl2ZSwgaW5hY3RpdmUsIHRyaWFsLCBwYWlkX2FjY291bnQsIGV2YWx1YXRpbmcpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgICdzdGFydF9kYXRlJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdEYXRlIHdoZW4gdXNhZ2UgYmVnYW4gaW4gWVlZWS1NTS1ERCBmb3JtYXQnLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnZGF0ZXRpbWUnLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICAnQ3JlYXRlcyc6IHtcclxuICAgICAgICAncm9sZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQ3JlYXRvclxcJ3Mgcm9sZSBpbiB0aGUgY3JlYXRpb24gcHJvY2VzcyAoZm91bmRlciwgbGVhZF9kZXZlbG9wZXIsIGNvbnRyaWJ1dG9yLCBkZXNpZ25lciwgYXJjaGl0ZWN0KScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnY29udHJpYnV0aW9uX3R5cGUnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1R5cGUgb2YgY29udHJpYnV0aW9uIG1hZGUgKGNvZGUsIGRlc2lnbiwgc3RyYXRlZ3ksIGZ1bmRpbmcsIGRvY3VtZW50YXRpb24sIHRlc3RpbmcpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgICdLbm93cyc6IHtcclxuICAgICAgICAncmVsYXRpb25zaGlwX3R5cGUnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ05hdHVyZSBvZiB0aGUgcmVsYXRpb25zaGlwIChjb2xsZWFndWUsIG1lbnRvciwgZnJpZW5kLCBjb2xsYWJvcmF0b3IsIGFjcXVhaW50YW5jZSknLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ2NvbnRleHQnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0NvbnRleHQgb3Igc2V0dGluZyB3aGVyZSB0aGV5IGtub3cgZWFjaCBvdGhlciAod29yaywgc2Nob29sLCBpbmR1c3RyeSwgcGVyc29uYWwpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgICdNZW1iZXJPZic6IHtcclxuICAgICAgICAncm9sZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnTWVtYmVyXFwncyByb2xlIG9yIHBvc2l0aW9uIHdpdGhpbiB0aGUgb3JnYW5pemF0aW9uIChlbXBsb3llZSwgdm9sdW50ZWVyLCBib2FyZF9tZW1iZXIsIGN1c3RvbWVyLCBwYXJ0bmVyKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnc3RhcnRfZGF0ZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRGF0ZSB3aGVuIG1lbWJlcnNoaXAgYmVnYW4gaW4gWVlZWS1NTS1ERCBmb3JtYXQnLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnZGF0ZXRpbWUnLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnc3RhdHVzJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdDdXJyZW50IG1lbWJlcnNoaXAgc3RhdHVzIChhY3RpdmUsIGluYWN0aXZlLCBzdXNwZW5kZWQsIHRyaWFsLCBwYWlkKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICAnUGFydG5lcnNXaXRoJzoge1xyXG4gICAgICAgICdwYXJ0bmVyc2hpcF90eXBlJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdUeXBlIG9mIHBhcnRuZXJzaGlwIChzdHJhdGVnaWMsIHN1cHBsaWVyLCBpbnZlc3RtZW50LCBjb25zdWx0aW5nLCBhZHZpc29yeSwgam9pbnRfdmVudHVyZSknLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ3N0YXJ0X2RhdGUnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0RhdGUgd2hlbiBwYXJ0bmVyc2hpcCBiZWdhbiBpbiBZWVlZLU1NLUREIGZvcm1hdCcsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdkYXRldGltZScsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgICdzdGF0dXMnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0N1cnJlbnQgcGFydG5lcnNoaXAgc3RhdHVzIChhY3RpdmUsIGluYWN0aXZlLCBjb21wbGV0ZWQsIG5lZ290aWF0aW5nKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICAnRGVwZW5kc09uJzoge1xyXG4gICAgICAgICdkZXBlbmRlbmN5X3R5cGUnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1R5cGUgb2YgZGVwZW5kZW5jeSAocnVudGltZSwgYnVpbGRfdGltZSwgZGV2ZWxvcG1lbnQsIGluZnJhc3RydWN0dXJlLCBvcHRpb25hbCknLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ3ZlcnNpb24nOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1JlcXVpcmVkIHZlcnNpb24gb3IgdmVyc2lvbiByYW5nZSBmb3IgdGhlIGRlcGVuZGVuY3knLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgJ0ludGVncmF0ZWRXaXRoJzoge1xyXG4gICAgICAgICdpbnRlZ3JhdGlvbl90eXBlJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdUeXBlIG9mIGludGVncmF0aW9uIChuYXRpdmUsIHBsdWdpbiwgQVBJLCB3ZWJob29rLCBTREssIGVtYmVkZGVkKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnYmlkaXJlY3Rpb25hbCc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnV2hldGhlciB0aGUgaW50ZWdyYXRpb24gd29ya3MgaW4gYm90aCBkaXJlY3Rpb25zIGJldHdlZW4gdGhlIHRlY2hub2xvZ2llcycsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdib29sJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgJ0Fib3V0Jzoge1xyXG4gICAgICAgICdjb3ZlcmFnZV90eXBlJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdEZXB0aCBvZiBjb3ZlcmFnZSAoY29tcHJlaGVuc2l2ZSwgbWVudGlvbiwgYW5hbHlzaXMsIHR1dG9yaWFsLCByZXZpZXcpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgICdhdXRob3JpdHknOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1NvdXJjZSBhdXRob3JpdHkgbGV2ZWwgKG9mZmljaWFsLCBjb21tdW5pdHksIGV4cGVydF9hbmFseXNpcywgdXNlcl9nZW5lcmF0ZWQpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgICdJc1BhcnRPZic6IHtcclxuICAgICAgICAncmVsYXRpb25zaGlwX3R5cGUnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1R5cGUgb2YgcmVsYXRpb25zaGlwIChwYWdlLCBhcnRpY2xlLCBkb2N1bWVudGF0aW9uLCBzZWN0aW9uLCBzdWJkb21haW4pJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgICdUYWdzJzoge1xyXG4gICAgICAgIC8vIE5vIGRlZmF1bHQgcHJvcGVydGllcyBmb3IgVGFncyBlZGdlIHR5cGVcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8vIE5ldyBlZGdlIHR5cGVzIGZvciBEYXkgMTdcclxuICAgICAgJ1BlcmZvcm1lZEJ5Jzoge1xyXG4gICAgICAgICdwZXJmb3JtYW5jZV90eXBlJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdUeXBlIG9mIHBlcmZvcm1hbmNlIHJlbGF0aW9uc2hpcCAob3JpZ2luYWxfYXJ0aXN0LCBjb3Zlcl92ZXJzaW9uLCBsaXZlX3BlcmZvcm1hbmNlLCBjb2xsYWJvcmF0aW9uLCBmZWF0dXJlZF9hcnRpc3QpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgICdyb2xlJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdTcGVjaWZpYyByb2xlIGluIHRoZSBwZXJmb3JtYW5jZSAobGVhZF92b2NhbHMsIGluc3RydW1lbnRhbGlzdCwgcHJvZHVjZXIsIGZlYXR1cmVkLCBiYWNraW5nX3ZvY2FscyknLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ3BlcmZvcm1hbmNlX2RhdGUnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0RhdGUgd2hlbiB0aGlzIHBlcmZvcm1hbmNlIG9yIHJlY29yZGluZyB0b29rIHBsYWNlIGluIFlZWVktTU0tREQgZm9ybWF0JyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ2RhdGV0aW1lJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgJ0luZmx1ZW5jZWRCeSc6IHtcclxuICAgICAgICAnaW5mbHVlbmNlX3R5cGUnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ05hdHVyZSBvZiB0aGUgaW5mbHVlbmNlIHJlbGF0aW9uc2hpcCAoYXJ0aXN0aWMsIGludGVsbGVjdHVhbCwgbWV0aG9kb2xvZ2ljYWwsIHBoaWxvc29waGljYWwsIHRlY2huaWNhbCknLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ2Rlc2NyaXB0aW9uJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdTcGVjaWZpYyB3YXlzIHRoaXMgZW50aXR5IHdhcyBpbmZsdWVuY2VkLCBpbmNsdWRpbmcgY29uY2VwdHMsIHRlY2huaXF1ZXMsIG9yIGFwcHJvYWNoZXMgYWRvcHRlZCcsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnc3RyZW5ndGgnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0RlZ3JlZSBvZiBpbmZsdWVuY2UgaW1wYWN0IChtaW5vciwgbW9kZXJhdGUsIG1ham9yLCBmb3VuZGF0aW9uYWwsIHRyYW5zZm9ybWF0aXZlKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICAnQ29sbGFib3JhdGVzV2l0aCc6IHtcclxuICAgICAgICAnY29sbGFib3JhdGlvbl90eXBlJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdOYXR1cmUgb2YgdGhlIGNvbGxhYm9yYXRpdmUgcmVsYXRpb25zaGlwIChwcm9qZWN0X3BhcnRuZXIsIGNvX2F1dGhvciwgam9pbnRfdmVudHVyZSwgcmVzZWFyY2hfcGFydG5lciwgY3JlYXRpdmVfcGFydG5lciknLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ2NvbGxhYm9yYXRpb25fc3RhdHVzJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdDdXJyZW50IHN0YXRlIG9mIHRoZSBjb2xsYWJvcmF0aW9uIChhY3RpdmUsIGNvbXBsZXRlZCwgcGxhbm5lZCwgb25faG9sZCwgcmVjdXJyaW5nKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnc3RhcnRfZGF0ZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRGF0ZSB3aGVuIHRoZSBjb2xsYWJvcmF0aW9uIGJlZ2FuIGluIFlZWVktTU0tREQgZm9ybWF0JyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ2RhdGV0aW1lJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgJ09yZ2FuaXplZEJ5Jzoge1xyXG4gICAgICAgICdvcmdhbml6YXRpb25hbF9yb2xlJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdTcGVjaWZpYyByb2xlIGluIG9yZ2FuaXppbmcgdGhlIGV2ZW50IChsZWFkX29yZ2FuaXplciwgY29fb3JnYW5pemVyLCBldmVudF9tYW5hZ2VyLCBsb2dpc3RpY3NfY29vcmRpbmF0b3IsIHByb2dyYW1fZGlyZWN0b3IpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgICdyZXNwb25zaWJpbGl0aWVzJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdTcGVjaWZpYyBkdXRpZXMgYW5kIGFyZWFzIG9mIHJlc3BvbnNpYmlsaXR5IGluIGV2ZW50IG9yZ2FuaXphdGlvbiAobG9naXN0aWNzLCBwcm9ncmFtbWluZywgbWFya2V0aW5nLCBzcG9uc29yc2hpcHMpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgICdBdHRlbmRlZEJ5Jzoge1xyXG4gICAgICAgICdhdHRlbmRhbmNlX3R5cGUnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ05hdHVyZSBvZiBhdHRlbmRhbmNlIG9yIHBhcnRpY2lwYXRpb24gKHByZXNlbnRlciwgYXR0ZW5kZWUsIGtleW5vdGVfc3BlYWtlciwgcGFuZWxpc3QsIHNwb25zb3IsIHZvbHVudGVlciknLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ3BhcnRpY2lwYXRpb25fbGV2ZWwnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0RlZ3JlZSBvZiBpbnZvbHZlbWVudCBpbiB0aGUgZXZlbnQgKGFjdGl2ZV9wYXJ0aWNpcGFudCwgcGFzc2l2ZV9hdHRlbmRlZSwgZmVhdHVyZWRfc3BlYWtlciwgb3JnYW5pemVyKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICAnUGFydE9mU2VyaWVzJzoge1xyXG4gICAgICAgICdzZXF1ZW5jZV9wb3NpdGlvbic6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnUG9zaXRpb24gb3Igb3JkZXIgd2l0aGluIHRoZSBzZXJpZXMgKGVwaXNvZGVfMSwgcGFydF8yLCB2b2x1bWVfMywgc2Vhc29uXzFfZXBpc29kZV81KScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnc2VyaWVzX3JlbGF0aW9uc2hpcCc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVHlwZSBvZiByZWxhdGlvbnNoaXAgdG8gdGhlIHNlcmllcyAoc2VxdWVsLCBwcmVxdWVsLCBzcGluX29mZiwgY29udGludWF0aW9uLCBwYXJ0X29mX2NvbGxlY3Rpb24pJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgICdMZWFkQnknOiB7XHJcbiAgICAgICAgJ2xlYWRlcnNoaXBfcm9sZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnU3BlY2lmaWMgbGVhZGVyc2hpcCBwb3NpdGlvbiBhbmQgYXV0aG9yaXR5IChjZW8sIHByb2plY3RfbWFuYWdlciwgdGVhbV9sZWFkLCBjcmVhdGl2ZV9kaXJlY3RvciwgcHJpbmNpcGFsX2ludmVzdGlnYXRvciknLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ2xlYWRlcnNoaXBfc3RhcnRfZGF0ZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRGF0ZSB3aGVuIGxlYWRlcnNoaXAgcm9sZSBiZWdhbiBpbiBZWVlZLU1NLUREIGZvcm1hdCcsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdkYXRldGltZScsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgICdsZWFkZXJzaGlwX3Njb3BlJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdBcmVhcyBvZiByZXNwb25zaWJpbGl0eSBhbmQgZGVjaXNpb24tbWFraW5nIGF1dGhvcml0eSAoc3RyYXRlZ2ljLCBvcGVyYXRpb25hbCwgY3JlYXRpdmUsIHRlY2huaWNhbCwgYWRtaW5pc3RyYXRpdmUpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgICdTcG9uc29yZWRCeSc6IHtcclxuICAgICAgICAnc3BvbnNvcnNoaXBfdHlwZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnTmF0dXJlIG9mIHNwb25zb3JzaGlwIHJlbGF0aW9uc2hpcCAoZmluYW5jaWFsLCBpbl9raW5kLCBwcm9tb3Rpb25hbCwgc3RyYXRlZ2ljLCB0aXRsZV9zcG9uc29yLCBwcmVzZW50aW5nX3Nwb25zb3IpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgICdzcG9uc29yc2hpcF9sZXZlbCc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRGVncmVlIG9yIHRpZXIgb2Ygc3BvbnNvcnNoaXAgc3VwcG9ydCAocGxhdGludW0sIGdvbGQsIHNpbHZlciwgYnJvbnplLCBtYWpvciwgbWlub3IpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgICdzdXBwb3J0X2RldGFpbHMnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1NwZWNpZmljIHdheXMgc3BvbnNvciBwcm92aWRlcyBzdXBwb3J0IChmdW5kaW5nLCByZXNvdXJjZXMsIGV4cGVydGlzZSwgbWFya2V0aW5nLCB2ZW51ZSknLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgJ0NvbXBldGVzV2l0aCc6IHtcclxuICAgICAgICAnY29tcGV0aXRpb25fdHlwZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnTmF0dXJlIG9mIGNvbXBldGl0aXZlIHJlbGF0aW9uc2hpcCAoZGlyZWN0X2NvbXBldGl0b3IsIG1hcmtldF9yaXZhbCwgYWx0ZXJuYXRpdmVfc29sdXRpb24sIGluZHVzdHJ5X3BlZXIpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgICdtYXJrZXRfY29udGV4dCc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnTWFya2V0IG9yIGRvbWFpbiB3aGVyZSBjb21wZXRpdGlvbiBvY2N1cnMgKHNhbWVfbWFya2V0LCBhZGphY2VudF9tYXJrZXQsIHN1YnN0aXR1dGVfcHJvZHVjdCwgZmVhdHVyZV9jb21wZXRpdGlvbiknLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ2NvbXBldGl0aXZlX2FkdmFudGFnZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnS2V5IGRpZmZlcmVudGlhdGluZyBmYWN0b3JzIGluIHRoZSBjb21wZXRpdGl2ZSByZWxhdGlvbnNoaXAgKHByaWNlLCBmZWF0dXJlcywgbWFya2V0X3NoYXJlLCBicmFuZF9yZWNvZ25pdGlvbiknLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB1bnVzZWQgZGVmYXVsdCBlZGdlIHR5cGVzIChhdmFpbGFibGUgZGVmYXVsdHMgbm90IGN1cnJlbnRseSBkZWZpbmVkKVxyXG4gICAqL1xyXG4gIGdldFVudXNlZERlZmF1bHRFZGdlVHlwZXMoY3VycmVudEVkZ2VUeXBlczogUmVjb3JkPHN0cmluZywgYW55Pik6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4ge1xyXG4gICAgY29uc3QgYXZhaWxhYmxlRGVmYXVsdHMgPSB0aGlzLmdldEF2YWlsYWJsZURlZmF1bHRFZGdlVHlwZXMoKTtcclxuICAgIGNvbnN0IHVudXNlZDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xyXG5cclxuICAgIE9iamVjdC5lbnRyaWVzKGF2YWlsYWJsZURlZmF1bHRzKS5mb3JFYWNoKChbZWRnZVR5cGUsIGRlc2NyaXB0aW9uXSkgPT4ge1xyXG4gICAgICBpZiAoIWN1cnJlbnRFZGdlVHlwZXNbZWRnZVR5cGVdKSB7XHJcbiAgICAgICAgdW51c2VkW2VkZ2VUeXBlXSA9IGRlc2NyaXB0aW9uO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdW51c2VkO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHN1Z2dlc3RlZCBkZWZhdWx0IGVkZ2UgbWFwcGluZ3MgYmFzZWQgb24gZGlzY292ZXJlZCBlbnRpdHkgdHlwZXNcclxuICAgKi9cclxuICBnZXRTdWdnZXN0ZWREZWZhdWx0TWFwcGluZ3MoZW50aXR5VHlwZXM6IHN0cmluZ1tdLCBjdXJyZW50TWFwcGluZ3M6IGFueVtdKTogQXJyYXk8e1xyXG4gICAgc291cmNlRW50aXR5OiBzdHJpbmc7XHJcbiAgICB0YXJnZXRFbnRpdHk6IHN0cmluZztcclxuICAgIGFsbG93ZWRFZGdlczogc3RyaW5nW107XHJcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gIH0+IHtcclxuICAgIGNvbnN0IHN1Z2dlc3Rpb25zOiBBcnJheTx7XHJcbiAgICAgIHNvdXJjZUVudGl0eTogc3RyaW5nO1xyXG4gICAgICB0YXJnZXRFbnRpdHk6IHN0cmluZztcclxuICAgICAgYWxsb3dlZEVkZ2VzOiBzdHJpbmdbXTtcclxuICAgICAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICAgIH0+ID0gW107XHJcblxyXG4gICAgLy8gQ3JlYXRlIGEgc2V0IG9mIGV4aXN0aW5nIG1hcHBpbmdzIGZvciBxdWljayBsb29rdXBcclxuICAgIGNvbnN0IGV4aXN0aW5nTWFwcGluZ3MgPSBuZXcgU2V0KFxyXG4gICAgICBjdXJyZW50TWFwcGluZ3MubWFwKG0gPT4gYCR7bS5zb3VyY2VFbnRpdHl9LT4ke20udGFyZ2V0RW50aXR5fWApXHJcbiAgICApO1xyXG5cclxuICAgIC8vIFBlcnNvbiByZWxhdGlvbnNoaXBzXHJcbiAgICBpZiAoZW50aXR5VHlwZXMuaW5jbHVkZXMoJ1BlcnNvbicpKSB7XHJcbiAgICAgIGlmIChlbnRpdHlUeXBlcy5pbmNsdWRlcygnT3JnYW5pemF0aW9uJykgJiYgIWV4aXN0aW5nTWFwcGluZ3MuaGFzKCdQZXJzb24tPk9yZ2FuaXphdGlvbicpKSB7XHJcbiAgICAgICAgc3VnZ2VzdGlvbnMucHVzaCh7XHJcbiAgICAgICAgICBzb3VyY2VFbnRpdHk6ICdQZXJzb24nLFxyXG4gICAgICAgICAgdGFyZ2V0RW50aXR5OiAnT3JnYW5pemF0aW9uJyxcclxuICAgICAgICAgIGFsbG93ZWRFZGdlczogWydXb3Jrc0ZvcicsICdNZW1iZXJPZicsICdQYXJ0bmVyc1dpdGgnXSxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnUGVvcGxlIHdvcmtpbmcgZm9yIG9yIGJlaW5nIG1lbWJlcnMgb2Ygb3JnYW5pemF0aW9ucydcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoZW50aXR5VHlwZXMuaW5jbHVkZXMoJ1RlY2hub2xvZ3knKSAmJiAhZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ1BlcnNvbi0+VGVjaG5vbG9neScpKSB7XHJcbiAgICAgICAgc3VnZ2VzdGlvbnMucHVzaCh7XHJcbiAgICAgICAgICBzb3VyY2VFbnRpdHk6ICdQZXJzb24nLFxyXG4gICAgICAgICAgdGFyZ2V0RW50aXR5OiAnVGVjaG5vbG9neScsXHJcbiAgICAgICAgICBhbGxvd2VkRWRnZXM6IFsnQ3JlYXRlcycsICdVc2VzJ10sXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1Blb3BsZSBjcmVhdGluZyBvciB1c2luZyB0ZWNobm9sb2dpZXMnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGVudGl0eVR5cGVzLmluY2x1ZGVzKCdQcm9kdWN0JykgJiYgIWV4aXN0aW5nTWFwcGluZ3MuaGFzKCdQZXJzb24tPlByb2R1Y3QnKSkge1xyXG4gICAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgICAgc291cmNlRW50aXR5OiAnUGVyc29uJyxcclxuICAgICAgICAgIHRhcmdldEVudGl0eTogJ1Byb2R1Y3QnLFxyXG4gICAgICAgICAgYWxsb3dlZEVkZ2VzOiBbJ0NyZWF0ZXMnLCAnVXNlcyddLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdQZW9wbGUgY3JlYXRpbmcgb3IgdXNpbmcgcHJvZHVjdHMnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGVudGl0eVR5cGVzLmluY2x1ZGVzKCdQcm9qZWN0JykgJiYgIWV4aXN0aW5nTWFwcGluZ3MuaGFzKCdQZXJzb24tPlByb2plY3QnKSkge1xyXG4gICAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgICAgc291cmNlRW50aXR5OiAnUGVyc29uJyxcclxuICAgICAgICAgIHRhcmdldEVudGl0eTogJ1Byb2plY3QnLFxyXG4gICAgICAgICAgYWxsb3dlZEVkZ2VzOiBbJ0NyZWF0ZXMnLCAnTWVtYmVyT2YnXSxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnUGVvcGxlIGNyZWF0aW5nIG9yIGJlaW5nIHBhcnQgb2YgcHJvamVjdHMnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFleGlzdGluZ01hcHBpbmdzLmhhcygnUGVyc29uLT5QZXJzb24nKSkge1xyXG4gICAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgICAgc291cmNlRW50aXR5OiAnUGVyc29uJyxcclxuICAgICAgICAgIHRhcmdldEVudGl0eTogJ1BlcnNvbicsXHJcbiAgICAgICAgICBhbGxvd2VkRWRnZXM6IFsnS25vd3MnXSxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnUHJvZmVzc2lvbmFsIGFuZCBwZXJzb25hbCByZWxhdGlvbnNoaXBzIGJldHdlZW4gcGVvcGxlJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gT3JnYW5pemF0aW9uIHJlbGF0aW9uc2hpcHNcclxuICAgIGlmIChlbnRpdHlUeXBlcy5pbmNsdWRlcygnT3JnYW5pemF0aW9uJykpIHtcclxuICAgICAgaWYgKGVudGl0eVR5cGVzLmluY2x1ZGVzKCdUZWNobm9sb2d5JykgJiYgIWV4aXN0aW5nTWFwcGluZ3MuaGFzKCdPcmdhbml6YXRpb24tPlRlY2hub2xvZ3knKSkge1xyXG4gICAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgICAgc291cmNlRW50aXR5OiAnT3JnYW5pemF0aW9uJyxcclxuICAgICAgICAgIHRhcmdldEVudGl0eTogJ1RlY2hub2xvZ3knLFxyXG4gICAgICAgICAgYWxsb3dlZEVkZ2VzOiBbJ0NyZWF0ZXMnLCAnVXNlcycsICdEZXBlbmRzT24nXSxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnT3JnYW5pemF0aW9ucyBjcmVhdGluZywgdXNpbmcsIG9yIGRlcGVuZGluZyBvbiB0ZWNobm9sb2dpZXMnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGVudGl0eVR5cGVzLmluY2x1ZGVzKCdQcm9kdWN0JykgJiYgIWV4aXN0aW5nTWFwcGluZ3MuaGFzKCdPcmdhbml6YXRpb24tPlByb2R1Y3QnKSkge1xyXG4gICAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgICAgc291cmNlRW50aXR5OiAnT3JnYW5pemF0aW9uJyxcclxuICAgICAgICAgIHRhcmdldEVudGl0eTogJ1Byb2R1Y3QnLFxyXG4gICAgICAgICAgYWxsb3dlZEVkZ2VzOiBbJ0NyZWF0ZXMnLCAnVXNlcycsICdEZXBlbmRzT24nXSxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnT3JnYW5pemF0aW9ucyBjcmVhdGluZywgdXNpbmcsIG9yIGRlcGVuZGluZyBvbiBwcm9kdWN0cydcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIWV4aXN0aW5nTWFwcGluZ3MuaGFzKCdPcmdhbml6YXRpb24tPk9yZ2FuaXphdGlvbicpKSB7XHJcbiAgICAgICAgc3VnZ2VzdGlvbnMucHVzaCh7XHJcbiAgICAgICAgICBzb3VyY2VFbnRpdHk6ICdPcmdhbml6YXRpb24nLFxyXG4gICAgICAgICAgdGFyZ2V0RW50aXR5OiAnT3JnYW5pemF0aW9uJyxcclxuICAgICAgICAgIGFsbG93ZWRFZGdlczogWydQYXJ0bmVyc1dpdGgnLCAnTWVtYmVyT2YnXSxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnUGFydG5lcnNoaXBzIGFuZCBtZW1iZXJzaGlwcyBiZXR3ZWVuIG9yZ2FuaXphdGlvbnMnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBUZWNobm9sb2d5IHJlbGF0aW9uc2hpcHNcclxuICAgIGlmIChlbnRpdHlUeXBlcy5pbmNsdWRlcygnVGVjaG5vbG9neScpKSB7XHJcbiAgICAgIGlmICghZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ1RlY2hub2xvZ3ktPlRlY2hub2xvZ3knKSkge1xyXG4gICAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgICAgc291cmNlRW50aXR5OiAnVGVjaG5vbG9neScsXHJcbiAgICAgICAgICB0YXJnZXRFbnRpdHk6ICdUZWNobm9sb2d5JyxcclxuICAgICAgICAgIGFsbG93ZWRFZGdlczogWydEZXBlbmRzT24nLCAnSW50ZWdyYXRlZFdpdGgnXSxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRGVwZW5kZW5jaWVzIGFuZCBpbnRlZ3JhdGlvbnMgYmV0d2VlbiB0ZWNobm9sb2dpZXMnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGVudGl0eVR5cGVzLmluY2x1ZGVzKCdQcm9kdWN0JykgJiYgIWV4aXN0aW5nTWFwcGluZ3MuaGFzKCdUZWNobm9sb2d5LT5Qcm9kdWN0JykpIHtcclxuICAgICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICAgIHNvdXJjZUVudGl0eTogJ1RlY2hub2xvZ3knLFxyXG4gICAgICAgICAgdGFyZ2V0RW50aXR5OiAnUHJvZHVjdCcsXHJcbiAgICAgICAgICBhbGxvd2VkRWRnZXM6IFsnSW50ZWdyYXRlZFdpdGgnXSxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVGVjaG5vbG9naWVzIGludGVncmF0ZWQgd2l0aCBwcm9kdWN0cydcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbnRlbnQgcmVsYXRpb25zaGlwc1xyXG4gICAgY29uc3QgY29udGVudFR5cGVzID0gWydXZWJQYWdlJywgJ05vdGUnLCAnQXJ0aWNsZSddLmZpbHRlcih0eXBlID0+IGVudGl0eVR5cGVzLmluY2x1ZGVzKHR5cGUpKTtcclxuICAgIGNvbnRlbnRUeXBlcy5mb3JFYWNoKGNvbnRlbnRUeXBlID0+IHtcclxuICAgICAgaWYgKCFleGlzdGluZ01hcHBpbmdzLmhhcyhgJHtjb250ZW50VHlwZX0tPkVudGl0eWApKSB7XHJcbiAgICAgICAgc3VnZ2VzdGlvbnMucHVzaCh7XHJcbiAgICAgICAgICBzb3VyY2VFbnRpdHk6IGNvbnRlbnRUeXBlLFxyXG4gICAgICAgICAgdGFyZ2V0RW50aXR5OiAnRW50aXR5JyxcclxuICAgICAgICAgIGFsbG93ZWRFZGdlczogWydBYm91dCddLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb246IGAke2NvbnRlbnRUeXBlfSBjb250ZW50IGFib3V0IG90aGVyIGVudGl0aWVzYFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBOZXcgZW50aXR5IHR5cGUgcmVsYXRpb25zaGlwcyBmb3IgRGF5IDE3XHJcbiAgICBpZiAoZW50aXR5VHlwZXMuaW5jbHVkZXMoJ1BlcnNvbicpICYmIGVudGl0eVR5cGVzLmluY2x1ZGVzKCdNdXNpYycpICYmICFleGlzdGluZ01hcHBpbmdzLmhhcygnUGVyc29uLT5NdXNpYycpKSB7XHJcbiAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgIHNvdXJjZUVudGl0eTogJ1BlcnNvbicsXHJcbiAgICAgICAgdGFyZ2V0RW50aXR5OiAnTXVzaWMnLFxyXG4gICAgICAgIGFsbG93ZWRFZGdlczogWydQZXJmb3JtZWRCeScsICdJbmZsdWVuY2VkQnknLCAnQ3JlYXRlcyddLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUGVvcGxlIHBlcmZvcm1pbmcsIGNyZWF0aW5nLCBvciBpbmZsdWVuY2VkIGJ5IG11c2ljYWwgd29ya3MnXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChlbnRpdHlUeXBlcy5pbmNsdWRlcygnUGVyc29uJykgJiYgZW50aXR5VHlwZXMuaW5jbHVkZXMoJ0ZpbG0nKSAmJiAhZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ1BlcnNvbi0+RmlsbScpKSB7XHJcbiAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgIHNvdXJjZUVudGl0eTogJ1BlcnNvbicsXHJcbiAgICAgICAgdGFyZ2V0RW50aXR5OiAnRmlsbScsXHJcbiAgICAgICAgYWxsb3dlZEVkZ2VzOiBbJ1BlcmZvcm1lZEJ5JywgJ0luZmx1ZW5jZWRCeScsICdDcmVhdGVzJ10sXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdQZW9wbGUgYWN0aW5nIGluLCBjcmVhdGluZywgb3IgaW5mbHVlbmNlZCBieSBmaWxtcydcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVudGl0eVR5cGVzLmluY2x1ZGVzKCdQZXJzb24nKSAmJiBlbnRpdHlUeXBlcy5pbmNsdWRlcygnRXZlbnQnKSAmJiAhZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ1BlcnNvbi0+RXZlbnQnKSkge1xyXG4gICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICBzb3VyY2VFbnRpdHk6ICdQZXJzb24nLFxyXG4gICAgICAgIHRhcmdldEVudGl0eTogJ0V2ZW50JyxcclxuICAgICAgICBhbGxvd2VkRWRnZXM6IFsnT3JnYW5pemVkQnknLCAnQXR0ZW5kZWRCeScsICdMZWFkQnknXSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1Blb3BsZSBvcmdhbml6aW5nLCBhdHRlbmRpbmcsIG9yIGxlYWRpbmcgZXZlbnRzJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZW50aXR5VHlwZXMuaW5jbHVkZXMoJ1BlcnNvbicpICYmIGVudGl0eVR5cGVzLmluY2x1ZGVzKCdQbGFjZScpICYmICFleGlzdGluZ01hcHBpbmdzLmhhcygnUGVyc29uLT5QbGFjZScpKSB7XHJcbiAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgIHNvdXJjZUVudGl0eTogJ1BlcnNvbicsXHJcbiAgICAgICAgdGFyZ2V0RW50aXR5OiAnUGxhY2UnLFxyXG4gICAgICAgIGFsbG93ZWRFZGdlczogWydUYWdzJywgJ0Fib3V0J10sXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdQZW9wbGUgYXNzb2NpYXRlZCB3aXRoIG9yIGRvY3VtZW50aW5nIHBsYWNlcydcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVudGl0eVR5cGVzLmluY2x1ZGVzKCdNdXNpYycpICYmICFleGlzdGluZ01hcHBpbmdzLmhhcygnTXVzaWMtPk11c2ljJykpIHtcclxuICAgICAgc3VnZ2VzdGlvbnMucHVzaCh7XHJcbiAgICAgICAgc291cmNlRW50aXR5OiAnTXVzaWMnLFxyXG4gICAgICAgIHRhcmdldEVudGl0eTogJ011c2ljJyxcclxuICAgICAgICBhbGxvd2VkRWRnZXM6IFsnSW5mbHVlbmNlZEJ5JywgJ1BhcnRPZlNlcmllcyddLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnTXVzaWNhbCB3b3JrcyBpbmZsdWVuY2VkIGJ5IG9yIHBhcnQgb2Ygc2VyaWVzIHdpdGggb3RoZXIgbXVzaWMnXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChlbnRpdHlUeXBlcy5pbmNsdWRlcygnRmlsbScpICYmICFleGlzdGluZ01hcHBpbmdzLmhhcygnRmlsbS0+RmlsbScpKSB7XHJcbiAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgIHNvdXJjZUVudGl0eTogJ0ZpbG0nLFxyXG4gICAgICAgIHRhcmdldEVudGl0eTogJ0ZpbG0nLFxyXG4gICAgICAgIGFsbG93ZWRFZGdlczogWydJbmZsdWVuY2VkQnknLCAnUGFydE9mU2VyaWVzJywgJ0NvbXBldGVzV2l0aCddLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnRmlsbXMgaW5mbHVlbmNlZCBieSwgcGFydCBvZiBzZXJpZXMsIG9yIGNvbXBldGluZyB3aXRoIG90aGVyIGZpbG1zJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZW50aXR5VHlwZXMuaW5jbHVkZXMoJ09yZ2FuaXphdGlvbicpICYmIGVudGl0eVR5cGVzLmluY2x1ZGVzKCdFdmVudCcpICYmICFleGlzdGluZ01hcHBpbmdzLmhhcygnT3JnYW5pemF0aW9uLT5FdmVudCcpKSB7XHJcbiAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgIHNvdXJjZUVudGl0eTogJ09yZ2FuaXphdGlvbicsXHJcbiAgICAgICAgdGFyZ2V0RW50aXR5OiAnRXZlbnQnLFxyXG4gICAgICAgIGFsbG93ZWRFZGdlczogWydPcmdhbml6ZWRCeScsICdTcG9uc29yZWRCeSddLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnT3JnYW5pemF0aW9ucyBvcmdhbml6aW5nIG9yIHNwb25zb3JpbmcgZXZlbnRzJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZW50aXR5VHlwZXMuaW5jbHVkZXMoJ09yZ2FuaXphdGlvbicpICYmIGVudGl0eVR5cGVzLmluY2x1ZGVzKCdNdXNpYycpICYmICFleGlzdGluZ01hcHBpbmdzLmhhcygnT3JnYW5pemF0aW9uLT5NdXNpYycpKSB7XHJcbiAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgIHNvdXJjZUVudGl0eTogJ09yZ2FuaXphdGlvbicsXHJcbiAgICAgICAgdGFyZ2V0RW50aXR5OiAnTXVzaWMnLFxyXG4gICAgICAgIGFsbG93ZWRFZGdlczogWydTcG9uc29yZWRCeScsICdDcmVhdGVzJ10sXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdPcmdhbml6YXRpb25zIHNwb25zb3Jpbmcgb3IgY3JlYXRpbmcgbXVzaWNhbCB3b3JrcyAobGFiZWxzLCBzdHVkaW9zKSdcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVudGl0eVR5cGVzLmluY2x1ZGVzKCdPcmdhbml6YXRpb24nKSAmJiBlbnRpdHlUeXBlcy5pbmNsdWRlcygnRmlsbScpICYmICFleGlzdGluZ01hcHBpbmdzLmhhcygnT3JnYW5pemF0aW9uLT5GaWxtJykpIHtcclxuICAgICAgc3VnZ2VzdGlvbnMucHVzaCh7XHJcbiAgICAgICAgc291cmNlRW50aXR5OiAnT3JnYW5pemF0aW9uJyxcclxuICAgICAgICB0YXJnZXRFbnRpdHk6ICdGaWxtJyxcclxuICAgICAgICBhbGxvd2VkRWRnZXM6IFsnU3BvbnNvcmVkQnknLCAnQ3JlYXRlcyddLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnT3JnYW5pemF0aW9ucyBzcG9uc29yaW5nIG9yIGNyZWF0aW5nIGZpbG1zIChzdHVkaW9zLCBkaXN0cmlidXRvcnMpJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZW50aXR5VHlwZXMuaW5jbHVkZXMoJ1F1b3RlJykgJiYgZW50aXR5VHlwZXMuaW5jbHVkZXMoJ1BlcnNvbicpICYmICFleGlzdGluZ01hcHBpbmdzLmhhcygnUXVvdGUtPlBlcnNvbicpKSB7XHJcbiAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgIHNvdXJjZUVudGl0eTogJ1F1b3RlJyxcclxuICAgICAgICB0YXJnZXRFbnRpdHk6ICdQZXJzb24nLFxyXG4gICAgICAgIGFsbG93ZWRFZGdlczogWydBYm91dCcsICdUYWdzJ10sXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdRdW90ZXMgYXR0cmlidXRlZCB0byBvciBhYm91dCBzcGVjaWZpYyBwZW9wbGUnXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChlbnRpdHlUeXBlcy5pbmNsdWRlcygnRXhwcmVzc2lvbicpICYmICFleGlzdGluZ01hcHBpbmdzLmhhcygnRXhwcmVzc2lvbi0+RXhwcmVzc2lvbicpKSB7XHJcbiAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgIHNvdXJjZUVudGl0eTogJ0V4cHJlc3Npb24nLFxyXG4gICAgICAgIHRhcmdldEVudGl0eTogJ0V4cHJlc3Npb24nLFxyXG4gICAgICAgIGFsbG93ZWRFZGdlczogWydJbmZsdWVuY2VkQnknLCAnVGFncyddLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnRXhwcmVzc2lvbnMgaW5mbHVlbmNlZCBieSBvciByZWxhdGVkIHRvIG90aGVyIGV4cHJlc3Npb25zJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZW50aXR5VHlwZXMuaW5jbHVkZXMoJ1BlcnNvbmFsJykgJiYgZW50aXR5VHlwZXMuaW5jbHVkZXMoJ1BlcnNvbicpICYmICFleGlzdGluZ01hcHBpbmdzLmhhcygnUGVyc29uYWwtPlBlcnNvbicpKSB7XHJcbiAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgIHNvdXJjZUVudGl0eTogJ1BlcnNvbmFsJyxcclxuICAgICAgICB0YXJnZXRFbnRpdHk6ICdQZXJzb24nLFxyXG4gICAgICAgIGFsbG93ZWRFZGdlczogWydBYm91dCcsICdUYWdzJ10sXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdQZXJzb25hbCBjb250ZW50IGFib3V0IG9yIHJlbGF0aW5nIHRvIHNwZWNpZmljIHBlb3BsZSdcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVudGl0eVR5cGVzLmluY2x1ZGVzKCdKb3VybmFsJykgJiYgZW50aXR5VHlwZXMuaW5jbHVkZXMoJ1BlcnNvbicpICYmICFleGlzdGluZ01hcHBpbmdzLmhhcygnSm91cm5hbC0+UGVyc29uJykpIHtcclxuICAgICAgc3VnZ2VzdGlvbnMucHVzaCh7XHJcbiAgICAgICAgc291cmNlRW50aXR5OiAnSm91cm5hbCcsXHJcbiAgICAgICAgdGFyZ2V0RW50aXR5OiAnUGVyc29uJyxcclxuICAgICAgICBhbGxvd2VkRWRnZXM6IFsnQWJvdXQnLCAnVGFncyddLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnSm91cm5hbCBlbnRyaWVzIGFib3V0IG9yIG1lbnRpb25pbmcgc3BlY2lmaWMgcGVvcGxlJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZW50aXR5VHlwZXMuaW5jbHVkZXMoJ1Byb2plY3QnKSAmJiBlbnRpdHlUeXBlcy5pbmNsdWRlcygnRXZlbnQnKSAmJiAhZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ1Byb2plY3QtPkV2ZW50JykpIHtcclxuICAgICAgc3VnZ2VzdGlvbnMucHVzaCh7XHJcbiAgICAgICAgc291cmNlRW50aXR5OiAnUHJvamVjdCcsXHJcbiAgICAgICAgdGFyZ2V0RW50aXR5OiAnRXZlbnQnLFxyXG4gICAgICAgIGFsbG93ZWRFZGdlczogWydPcmdhbml6ZWRCeScsICdQYXJ0T2ZTZXJpZXMnXSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1Byb2plY3RzIG9yZ2FuaXppbmcgZXZlbnRzIG9yIGFzIHBhcnQgb2YgZXZlbnQgc2VyaWVzJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZW50aXR5VHlwZXMuaW5jbHVkZXMoJ1RlY2hub2xvZ3knKSAmJiBlbnRpdHlUeXBlcy5pbmNsdWRlcygnTXVzaWMnKSAmJiAhZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ1RlY2hub2xvZ3ktPk11c2ljJykpIHtcclxuICAgICAgc3VnZ2VzdGlvbnMucHVzaCh7XHJcbiAgICAgICAgc291cmNlRW50aXR5OiAnVGVjaG5vbG9neScsXHJcbiAgICAgICAgdGFyZ2V0RW50aXR5OiAnTXVzaWMnLFxyXG4gICAgICAgIGFsbG93ZWRFZGdlczogWydDcmVhdGVzJywgJ1VzZXMnXSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1RlY2hub2xvZ2llcyB1c2VkIHRvIGNyZWF0ZSBvciBkaXN0cmlidXRlIG11c2ljJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZW50aXR5VHlwZXMuaW5jbHVkZXMoJ1RlY2hub2xvZ3knKSAmJiBlbnRpdHlUeXBlcy5pbmNsdWRlcygnRmlsbScpICYmICFleGlzdGluZ01hcHBpbmdzLmhhcygnVGVjaG5vbG9neS0+RmlsbScpKSB7XHJcbiAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgIHNvdXJjZUVudGl0eTogJ1RlY2hub2xvZ3knLFxyXG4gICAgICAgIHRhcmdldEVudGl0eTogJ0ZpbG0nLFxyXG4gICAgICAgIGFsbG93ZWRFZGdlczogWydDcmVhdGVzJywgJ1VzZXMnXSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1RlY2hub2xvZ2llcyB1c2VkIGluIGZpbG0gcHJvZHVjdGlvbiBvciBkaXN0cmlidXRpb24nXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdlbmVyaWMgZmFsbGJhY2sgaWYgbm8gb3RoZXIgbWFwcGluZ3MgZXhpc3RcclxuICAgIGlmIChzdWdnZXN0aW9ucy5sZW5ndGggPT09IDAgJiYgIWV4aXN0aW5nTWFwcGluZ3MuaGFzKCdFbnRpdHktPkVudGl0eScpKSB7XHJcbiAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgIHNvdXJjZUVudGl0eTogJ0VudGl0eScsXHJcbiAgICAgICAgdGFyZ2V0RW50aXR5OiAnRW50aXR5JyxcclxuICAgICAgICBhbGxvd2VkRWRnZXM6IFsnVGFncyddLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnR2VuZXJpYyB0YWdnaW5nIHJlbGF0aW9uc2hpcHMgYmV0d2VlbiBhbnkgZW50aXRpZXMnXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzdWdnZXN0aW9ucztcclxuICB9XHJcblxyXG4gIGFzeW5jIGRpc2NvdmVyQWxsU2NoZW1hcygpOiBQcm9taXNlPFR5cGVTY2hlbWFbXT4ge1xyXG4gICAgY29uc3QgdHlwZU1hcCA9IG5ldyBNYXA8c3RyaW5nLCB7XHJcbiAgICAgIHByb3BlcnRpZXM6IE1hcDxzdHJpbmcsIGFueVtdPixcclxuICAgICAgZmlsZXM6IHN0cmluZ1tdXHJcbiAgICB9PigpO1xyXG5cclxuICAgIC8vIEdldCBhbGwgbWFya2Rvd24gZmlsZXNcclxuICAgIGNvbnN0IGZpbGVzID0gdGhpcy5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xyXG5cclxuICAgIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykge1xyXG4gICAgICBjb25zdCBtZXRhZGF0YSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpO1xyXG4gICAgICBjb25zdCBmcm9udG1hdHRlciA9IG1ldGFkYXRhPy5mcm9udG1hdHRlcjtcclxuXHJcbiAgICAgIGlmICghZnJvbnRtYXR0ZXI/LnR5cGUpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgY29uc3QgdHlwZSA9IGZyb250bWF0dGVyLnR5cGU7XHJcblxyXG4gICAgICBpZiAoIXR5cGVNYXAuaGFzKHR5cGUpKSB7XHJcbiAgICAgICAgdHlwZU1hcC5zZXQodHlwZSwge1xyXG4gICAgICAgICAgcHJvcGVydGllczogbmV3IE1hcCgpLFxyXG4gICAgICAgICAgZmlsZXM6IFtdXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHR5cGVEYXRhID0gdHlwZU1hcC5nZXQodHlwZSkhO1xyXG4gICAgICB0eXBlRGF0YS5maWxlcy5wdXNoKGZpbGUucGF0aCk7XHJcblxyXG4gICAgICAvLyBDb2xsZWN0IGFsbCBwcm9wZXJ0aWVzIGZvciB0aGlzIHR5cGVcclxuICAgICAgT2JqZWN0LmVudHJpZXMoZnJvbnRtYXR0ZXIpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xyXG4gICAgICAgIGlmIChrZXkgPT09ICd0eXBlJykgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAoIXR5cGVEYXRhLnByb3BlcnRpZXMuaGFzKGtleSkpIHtcclxuICAgICAgICAgIHR5cGVEYXRhLnByb3BlcnRpZXMuc2V0KGtleSwgW10pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0eXBlRGF0YS5wcm9wZXJ0aWVzLmdldChrZXkpIS5wdXNoKHZhbHVlKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29udmVydCB0byBUeXBlU2NoZW1hIGZvcm1hdFxyXG4gICAgcmV0dXJuIEFycmF5LmZyb20odHlwZU1hcC5lbnRyaWVzKCkpLm1hcCgoW3R5cGVOYW1lLCBkYXRhXSkgPT4gKHtcclxuICAgICAgdHlwZU5hbWUsXHJcbiAgICAgIGZpbGVDb3VudDogZGF0YS5maWxlcy5sZW5ndGgsXHJcbiAgICAgIGZpbGVzOiBkYXRhLmZpbGVzLFxyXG4gICAgICBwcm9wZXJ0aWVzOiBBcnJheS5mcm9tKGRhdGEucHJvcGVydGllcy5lbnRyaWVzKCkpLm1hcCgoW3Byb3BOYW1lLCB2YWx1ZXNdKSA9PiB7XHJcbiAgICAgICAgY29uc3QgYW5hbHlzaXMgPSB0aGlzLmFuYWx5emVQcm9wZXJ0eShwcm9wTmFtZSwgdmFsdWVzKTtcclxuXHJcbiAgICAgICAgLy8gQXBwbHkgc2F2ZWQgcHJvcGVydHkgbWFwcGluZyBpZiBpdCBleGlzdHNcclxuICAgICAgICBjb25zdCBtYXBwZWROYW1lID0gdGhpcy5hcHBseVByb3BlcnR5TWFwcGluZyh0eXBlTmFtZSwgcHJvcE5hbWUpO1xyXG4gICAgICAgIGNvbnN0IGhhc01hcHBpbmcgPSBtYXBwZWROYW1lICE9PSBwcm9wTmFtZTtcclxuXHJcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIHNhdmVkIG1hcHBpbmcsIHVwZGF0ZSB0aGUgcHJvcGVydHkgbmFtZSBhbmQgY2xlYXIgaXNzdWVzXHJcbiAgICAgICAgY29uc3QgZmluYWxOYW1lID0gaGFzTWFwcGluZyA/IG1hcHBlZE5hbWUgOiBwcm9wTmFtZTtcclxuICAgICAgICBjb25zdCBmaW5hbE5hbWluZ0lzc3VlcyA9IGhhc01hcHBpbmcgPyBbXSA6IGFuYWx5c2lzLm5hbWluZ0lzc3VlcztcclxuICAgICAgICBjb25zdCBmaW5hbENvbXBsaWFuY2VTdGF0dXMgPSBoYXNNYXBwaW5nID8gJ3ZhbGlkJyA6IGFuYWx5c2lzLmNvbXBsaWFuY2VTdGF0dXM7XHJcblxyXG4gICAgICAgIC8vIEFwcGx5IHNhdmVkIHByb3BlcnR5IHNlbGVjdGlvbiBzdGF0ZSwgd2l0aCBmYWxsYmFjayB0byBkZWZhdWx0IGJlaGF2aW9yXHJcbiAgICAgICAgY29uc3Qgc2F2ZWRTZWxlY3Rpb24gPSB0aGlzLmdldFByb3BlcnR5U2VsZWN0aW9uKHR5cGVOYW1lLCBwcm9wTmFtZSk7XHJcbiAgICAgICAgY29uc3QgZGVmYXVsdEVuYWJsZWQgPSAhYW5hbHlzaXMuaXNQcm90ZWN0ZWQ7IC8vIERpc2FibGUgcHJvdGVjdGVkIGF0dHJpYnV0ZXMgYnkgZGVmYXVsdFxyXG4gICAgICAgIGNvbnN0IGZpbmFsRW5hYmxlZCA9IHNhdmVkU2VsZWN0aW9uICE9PSB1bmRlZmluZWQgPyBzYXZlZFNlbGVjdGlvbiA6IGRlZmF1bHRFbmFibGVkO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgbmFtZTogZmluYWxOYW1lLFxyXG4gICAgICAgICAgaW5mZXJyZWRUeXBlOiB0aGlzLmluZmVyVHlwZSh2YWx1ZXMpLFxyXG4gICAgICAgICAgaXNPcHRpb25hbDogdmFsdWVzLnNvbWUodiA9PiB2ID09PSBudWxsIHx8IHYgPT09IHVuZGVmaW5lZCksXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5nZW5lcmF0ZURlc2NyaXB0aW9uKHByb3BOYW1lLCB0eXBlTmFtZSksXHJcbiAgICAgICAgICBleGFtcGxlczogQXJyYXkuZnJvbShuZXcgU2V0KHZhbHVlcykpLnNsaWNlKDAsIDMpLFxyXG4gICAgICAgICAgZW5hYmxlZDogZmluYWxFbmFibGVkLFxyXG4gICAgICAgICAgLy8gR3JhcGhpdGkgdmFsaWRhdGlvbiBmaWVsZHNcclxuICAgICAgICAgIGlzUHJvdGVjdGVkOiBhbmFseXNpcy5pc1Byb3RlY3RlZCxcclxuICAgICAgICAgIG5hbWluZ0lzc3VlczogZmluYWxOYW1pbmdJc3N1ZXMsXHJcbiAgICAgICAgICBzdWdnZXN0ZWROYW1lOiBhbmFseXNpcy5zdWdnZXN0ZWROYW1lLFxyXG4gICAgICAgICAgY29tcGxpYW5jZVN0YXR1czogZmluYWxDb21wbGlhbmNlU3RhdHVzXHJcbiAgICAgICAgfTtcclxuICAgICAgfSlcclxuICAgIH0pKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaW5mZXJUeXBlKHZhbHVlczogYW55W10pOiBQcm9wZXJ0eVNjaGVtYVsnaW5mZXJyZWRUeXBlJ10ge1xyXG4gICAgY29uc3Qgbm9uTnVsbFZhbHVlcyA9IHZhbHVlcy5maWx0ZXIodiA9PiB2ICE9IG51bGwpO1xyXG4gICAgaWYgKG5vbk51bGxWYWx1ZXMubGVuZ3RoID09PSAwKSByZXR1cm4gJ3N0cmluZyc7XHJcblxyXG4gICAgY29uc3Qgc2FtcGxlID0gbm9uTnVsbFZhbHVlc1swXTtcclxuXHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShzYW1wbGUpKSByZXR1cm4gJ2FycmF5JztcclxuICAgIGlmICh0eXBlb2Ygc2FtcGxlID09PSAnYm9vbGVhbicpIHJldHVybiAnYm9vbGVhbic7XHJcbiAgICBpZiAodHlwZW9mIHNhbXBsZSA9PT0gJ251bWJlcicpIHJldHVybiAnbnVtYmVyJztcclxuICAgIGlmICh0aGlzLmlzRGF0ZUxpa2Uoc2FtcGxlKSkgcmV0dXJuICdkYXRlJztcclxuICAgIGlmICh0eXBlb2Ygc2FtcGxlID09PSAnb2JqZWN0JykgcmV0dXJuICdvYmplY3QnO1xyXG5cclxuICAgIHJldHVybiAnc3RyaW5nJztcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaXNEYXRlTGlrZSh2YWx1ZTogYW55KTogYm9vbGVhbiB7XHJcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykgcmV0dXJuIGZhbHNlO1xyXG4gICAgcmV0dXJuIC9eXFxkezR9LVxcZHsyfS1cXGR7Mn0vLnRlc3QodmFsdWUpIHx8ICFpc05hTihEYXRlLnBhcnNlKHZhbHVlKSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdlbmVyYXRlRGVzY3JpcHRpb24ocHJvcE5hbWU6IHN0cmluZywgdHlwZU5hbWU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAvLyBFbmhhbmNlZCBkZXNjcmlwdGlvbiBnZW5lcmF0aW9uIHdpdGggcmljaCBjb250ZXh0XHJcbiAgICBjb25zdCBkZXNjcmlwdGlvbnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XHJcbiAgICAgIC8vIENvcmUgaWRlbnRpdHkgZmllbGRzXHJcbiAgICAgICdjX25hbWUnOiAnQ29tcGxldGUgbGVnYWwgbmFtZSBvciBvZmZpY2lhbCB0aXRsZSBhcyByZWNvZ25pemVkIGJ5IGF1dGhvcml0aWVzIG9yIGluIGZvcm1hbCBkb2N1bWVudGF0aW9uJyxcclxuICAgICAgJ2dpdmVuX25hbWUnOiAnR2l2ZW4gbmFtZSBvciBmaXJzdCBuYW1lIGFzIGNvbW1vbmx5IHVzZWQgaW4gaW50cm9kdWN0aW9ucyBhbmQgcGVyc29uYWwgaWRlbnRpZmljYXRpb24nLFxyXG4gICAgICAnZmFtaWx5X25hbWUnOiAnRmFtaWx5IG5hbWUsIHN1cm5hbWUsIG9yIGxhc3QgbmFtZSB1c2VkIGZvciBmb3JtYWwgaWRlbnRpZmljYXRpb24gYW5kIGZhbWlseSBsaW5lYWdlJyxcclxuICAgICAgJ2FsaWFzZXMnOiAnQWx0ZXJuYXRpdmUgbmFtZXMsIG5pY2tuYW1lcywgcHJvZmVzc2lvbmFsIG5hbWVzLCBvciBwc2V1ZG9ueW1zIGJ5IHdoaWNoIHRoZSBlbnRpdHkgaXMgYWxzbyBrbm93bicsXHJcblxyXG4gICAgICAvLyBXZWIgYW5kIGRpZ2l0YWwgZmllbGRzXHJcbiAgICAgICd1cmwnOiAnQ29tcGxldGUgd2ViIGFkZHJlc3Mgb3IgVVJMIHdoZXJlIHRoZSByZXNvdXJjZSBjYW4gYmUgYWNjZXNzZWQgb24gdGhlIGludGVybmV0JyxcclxuICAgICAgJ3NhbWVfYXMnOiAnVVJJcyBvciBVUkxzIHRoYXQgaWRlbnRpZnkgdGhlIHNhbWUgZW50aXR5IG9uIG90aGVyIHBsYXRmb3JtcywgZGF0YWJhc2VzLCBvciBrbm93bGVkZ2Ugc3lzdGVtcyBmb3IgZW50aXR5IGxpbmtpbmcnLFxyXG4gICAgICAncGVybWFsaW5rJzogJ1Blcm1hbmVudCBsaW5rIG9yIHN0YWJsZSBpZGVudGlmaWVyIHRoYXQgcmVtYWlucyBjb25zdGFudCBvdmVyIHRpbWUnLFxyXG5cclxuICAgICAgLy8gVGVtcG9yYWwgZmllbGRzXHJcbiAgICAgICdjcmVhdGVkJzogJ1RpbWVzdGFtcCB3aGVuIHRoZSBub3RlIG9yIGVudGl0eSByZWNvcmQgd2FzIGZpcnN0IGNyZWF0ZWQgaW4gdGhlIE9ic2lkaWFuIHZhdWx0IGZvciB0cmFja2luZyBhbmQgb3JnYW5pemF0aW9uYWwgcHVycG9zZXMnLFxyXG4gICAgICAnY3JlYXRlZF9kYXRlJzogJ0RhdGUgd2hlbiB0aGUgY29udGVudCB3YXMgb3JpZ2luYWxseSBjcmVhdGVkIG9yIHdoZW4gdGhlIGlkZWFzIHdlcmUgZmlyc3QgY2FwdHVyZWQgaW4gWVlZWS1NTS1ERCBmb3JtYXQnLFxyXG4gICAgICAncHVibGlzaGVkX2RhdGUnOiAnRGF0ZSB3aGVuIHRoZSBjb250ZW50IHdhcyBvZmZpY2lhbGx5IHB1Ymxpc2hlZCBvciBtYWRlIHB1YmxpY2x5IGF2YWlsYWJsZSBpbiBZWVlZLU1NLUREIGZvcm1hdCcsXHJcbiAgICAgICdiaXJ0aF9kYXRlJzogJ0RhdGUgd2hlbiB0aGUgcGVyc29uIHdhcyBib3JuIGluIFlZWVktTU0tREQgZm9ybWF0IGZvciBiaW9ncmFwaGljYWwgYW5kIGFnZSBjYWxjdWxhdGlvbiBwdXJwb3NlcycsXHJcbiAgICAgICdmb3VuZGluZ19kYXRlJzogJ0RhdGUgd2hlbiB0aGUgb3JnYW5pemF0aW9uIHdhcyBvZmZpY2lhbGx5IGVzdGFibGlzaGVkLCBpbmNvcnBvcmF0ZWQsIG9yIGZvdW5kZWQgaW4gWVlZWS1NTS1ERCBmb3JtYXQnLFxyXG5cclxuICAgICAgLy8gQ29udGVudCBhbmQgZGVzY3JpcHRpb24gZmllbGRzXHJcbiAgICAgICd0aXRsZSc6ICdQcmltYXJ5IHRpdGxlLCBoZWFkbGluZSwgb3IgbmFtZSB0aGF0IGlkZW50aWZpZXMgYW5kIHJlcHJlc2VudHMgdGhlIGVudGl0eScsXHJcbiAgICAgICdkZXNjcmlwdGlvbic6ICdEZXRhaWxlZCBleHBsYW5hdGlvbiBvciBzdW1tYXJ5IHRoYXQgZGVzY3JpYmVzIHRoZSBwdXJwb3NlLCBjb250ZW50LCBvciBjaGFyYWN0ZXJpc3RpY3Mgb2YgdGhlIGVudGl0eScsXHJcbiAgICAgICdhYnN0cmFjdCc6ICdCcmllZiBzdW1tYXJ5IG9yIG92ZXJ2aWV3IHRoYXQgY2FwdHVyZXMgdGhlIGVzc2VudGlhbCBwb2ludHMgYW5kIG1haW4gaWRlYXMnLFxyXG4gICAgICAnc3VtbWFyeSc6ICdDb25jaXNlIG92ZXJ2aWV3IHRoYXQgaGlnaGxpZ2h0cyB0aGUga2V5IGluZm9ybWF0aW9uIGFuZCBpbXBvcnRhbnQgZGV0YWlscycsXHJcblxyXG4gICAgICAvLyBDbGFzc2lmaWNhdGlvbiBhbmQgY2F0ZWdvcml6YXRpb25cclxuICAgICAgJ3R5cGUnOiAnRW50aXR5IHR5cGUgY2xhc3NpZmljYXRpb24gKFdlYlBhZ2UsIFBlcnNvbiwgT3JnYW5pemF0aW9uLCBQcm9kdWN0LCBUZWNobm9sb2d5LCBQcm9qZWN0LCBBcnRpY2xlLCBGaWxtLCBNdXNpYywgQm9vaywgRXZlbnQsIE5vdGUsIGV0Yy4pJyxcclxuICAgICAgJ2NhdGVnb3J5JzogJ1ByaW1hcnkgY2xhc3NpZmljYXRpb24gb3IgbWFya2V0IHNlZ21lbnQgdGhhdCBkZXNjcmliZXMgdGhlIGVudGl0eVxcJ3MgcHVycG9zZSBhbmQgdGFyZ2V0IGRvbWFpbicsXHJcbiAgICAgICd0YWdzJzogJ1RvcGljIGtleXdvcmRzLCBjbGFzc2lmaWNhdGlvbiBsYWJlbHMsIG9yIGNhdGVnb3JpY2FsIHRhZ3MgdXNlZCBmb3Igb3JnYW5pemluZyBhbmQgZmlsdGVyaW5nIGNvbnRlbnQgd2l0aGluIHRoZSBrbm93bGVkZ2UgYmFzZScsXHJcbiAgICAgICdzdGF0dXMnOiAnQ3VycmVudCBzdGF0ZSBvciBwaGFzZSBpbiB0aGUgZW50aXR5XFwncyBsaWZlY3ljbGUgKGFjdGl2ZSwgY29tcGxldGVkLCBwbGFubmluZywgZXRjLiknLFxyXG5cclxuICAgICAgLy8gUHJvZmVzc2lvbmFsIGFuZCBvcmdhbml6YXRpb25hbFxyXG4gICAgICAnYXV0aG9yJzogJ1BlcnNvbiBvciBvcmdhbml6YXRpb24gd2hvIGNyZWF0ZWQsIHdyb3RlLCBvciBpcyBjcmVkaXRlZCBhcyB0aGUgcHJpbWFyeSBjcmVhdG9yIG9mIHRoZSBjb250ZW50IChlLmcuLCBcIkphbmUgU21pdGhcIiwgXCJNSVQgUmVzZWFyY2ggTGFiXCIpJyxcclxuICAgICAgJ2pvYl90aXRsZSc6ICdDdXJyZW50IHByb2Zlc3Npb25hbCByb2xlLCBwb3NpdGlvbiwgb3IgdGl0bGUgdGhhdCBkZXNjcmliZXMgcmVzcG9uc2liaWxpdGllcyBhbmQgbGV2ZWwgd2l0aGluIGFuIG9yZ2FuaXphdGlvbiAoZS5nLiwgXCJDRU9cIiwgXCJTZW5pb3IgRGV2ZWxvcGVyXCIsIFwiUmVzZWFyY2ggU2NpZW50aXN0XCIpJyxcclxuICAgICAgJ3dvcmtzX2Zvcic6ICdPcmdhbml6YXRpb24gd2hlcmUgcGVyc29uIGlzIGVtcGxveWVkIChlLmcuLCBcIkFwcGxlIEluYy5cIiwgXCJHb29nbGVcIiwgXCJTdGFuZm9yZCBVbml2ZXJzaXR5XCIpJyxcclxuICAgICAgJ29yZ190eXBlJzogJ0xlZ2FsIG9yIExhd2Z1bCBzdHJ1Y3R1cmUgYW5kIHJlZ2lzdHJhdGlvbiB0eXBlIG9mIHRoZSBvcmdhbml6YXRpb24gKGUuZy4sIFwiTExDXCIsIFwiSW5jXCIsIFwiUGFydG5lcnNoaXBcIiwgXCI1MDFjM1wiLCBcIkdvdmVybm1lbnQgQWdlbmN5XCIpJyxcclxuXHJcbiAgICAgIC8vIENvbnRhY3QgYW5kIGxvY2F0aW9uXHJcbiAgICAgICdlbWFpbCc6ICdQcmltYXJ5IGVtYWlsIGFkZHJlc3MgdXNlZCBmb3IgcHJvZmVzc2lvbmFsIG9yIHBlcnNvbmFsIGNvbW11bmljYXRpb24gYW5kIGNvbnRhY3QgcHVycG9zZXMnLFxyXG4gICAgICAnYWRkcmVzcyc6ICdQaHlzaWNhbCBhZGRyZXNzLCBjaXR5LCBzdGF0ZSwgb3IgZ2VvZ3JhcGhpYyBsb2NhdGlvbiB3aGVyZSB0aGUgZW50aXR5IGlzIHByaW1hcmlseSBiYXNlZCBvciBsb2NhdGVkJyxcclxuXHJcbiAgICAgIC8vIFJlbGF0aW9uc2hpcHMgYW5kIGNvbm5lY3Rpb25zXHJcbiAgICAgICduZWVkcyc6ICdTcGVjaWZpYyByZXNvdXJjZXMsIHNraWxscywgY29ubmVjdGlvbnMsIG9yIHN1cHBvcnQgdGhhdCB0aGUgZW50aXR5IHJlcXVpcmVzIHRvIGFjaGlldmUgZ29hbHMgb3IgYmUgc3VjY2Vzc2Z1bCcsXHJcbiAgICAgICdvZmZlcnMnOiAnU2tpbGxzLCBzZXJ2aWNlcywga25vd2xlZGdlLCByZXNvdXJjZXMsIG9yIHZhbHVlIHRoYXQgdGhlIGVudGl0eSBjYW4gcHJvdmlkZSB0byBvdGhlcnMgb3IgY29udHJpYnV0ZSB0byBwcm9qZWN0cycsXHJcblxyXG4gICAgICAvLyBUZWNobmljYWwgYW5kIHNwZWNpYWxpemVkXHJcbiAgICAgICdwcm9qZWN0X3R5cGUnOiAnQ2xhc3NpZmljYXRpb24gb2YgdGhlIHByb2plY3RcXCdzIHByaW1hcnkgcHVycG9zZSBhbmQgbWV0aG9kb2xvZ3kgKHJlc2VhcmNoLCBkZXZlbG9wbWVudCwgaW5pdGlhdGl2ZSwgc3RhcnR1cCwgZXRjLiknLFxyXG4gICAgICAnYXJ0aWNsZV90eXBlJzogJ0dlbnJlIG9yIGZvcm1hdCBjbGFzc2lmaWNhdGlvbiBvZiB0aGUgcHVibGlzaGVkIGNvbnRlbnQgKGVzc2F5LCBibG9nX3Bvc3QsIGFuYWx5c2lzLCB0dXRvcmlhbCwgd2hpdGVwYXBlciwgZXRjLiknLFxyXG4gICAgICAnbm90ZV90eXBlJzogJ0NsYXNzaWZpY2F0aW9uIG9mIHRoZSBub3RlXFwncyBwdXJwb3NlIGFuZCBjb250ZW50IHN0cnVjdHVyZSAoaWRlYSwgYW5hbHlzaXMsIHJlZmxlY3Rpb24sIG1lZXRpbmdfbm90ZXMsIGV0Yy4pJyxcclxuICAgICAgJ29mZmVyaW5nX3R5cGUnOiAnUHJpbWFyeSBidXNpbmVzcyBtb2RlbCBhbmQgZGVsaXZlcnkgbWV0aG9kIG9mIHRoZSBvZmZlcmluZyAocHJvZHVjdCwgc2VydmljZSwgcGxhdGZvcm0sIFNhYVMsIEFQSSwgZXRjLiknLFxyXG4gICAgICAnaWRlbnRpdHlfdHlwZSc6ICdDbGFzc2lmaWNhdGlvbiBvZiBwZXJzb25cXCdzIGxlZ2FsIGFuZCBzb2NpYWwgaWRlbnRpdHkgc3RhdHVzIChuYXR1cmFsX3BlcnNvbiwgbmF0aW9uYWxfaWRlbnRpdHksIHBzZXVkb255bSknLFxyXG5cclxuICAgICAgLy8gTWVkaWEgYW5kIHZpc3VhbFxyXG4gICAgICAndGh1bWJuYWlsJzogJ1RodW1ibmFpbCBvciBwcmV2aWV3IGltYWdlIFVSTCB0aGF0IHByb3ZpZGVzIGEgdmlzdWFsIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjb250ZW50JyxcclxuICAgICAgJ3ByaW1hcnlfaW1hZ2UnOiAnUHJpbWFyeSBpbWFnZSBVUkwgdGhhdCBzZXJ2ZXMgYXMgdGhlIG1haW4gdmlzdWFsIGVsZW1lbnQgZm9yIHRoZSBlbnRpdHknXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFJldHVybiBlbmhhbmNlZCBkZXNjcmlwdGlvbiBvciBnZW5lcmF0ZSBjb250ZXh0dWFsIGZhbGxiYWNrXHJcbiAgICBpZiAoZGVzY3JpcHRpb25zW3Byb3BOYW1lXSkge1xyXG4gICAgICByZXR1cm4gZGVzY3JpcHRpb25zW3Byb3BOYW1lXTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZW5lcmF0ZSBjb250ZXh0dWFsIGRlc2NyaXB0aW9uIGJhc2VkIG9uIHByb3BlcnR5IG5hbWUgcGF0dGVybnNcclxuICAgIGlmIChwcm9wTmFtZS5pbmNsdWRlcygnZGF0ZScpIHx8IHByb3BOYW1lLmluY2x1ZGVzKCd0aW1lJykpIHtcclxuICAgICAgcmV0dXJuIGBEYXRlIG9yIHRpbWVzdGFtcCBmb3IgJHt0eXBlTmFtZX0gZW50aXRpZXMgKGUuZy4sIFwiMjAyNC0wMS0xNVwiLCBcIjIwMjMtMTItMzFUMTA6MzA6MDBaXCIpYDtcclxuICAgIH1cclxuICAgIGlmIChwcm9wTmFtZS5pbmNsdWRlcygndXJsJykgfHwgcHJvcE5hbWUuaW5jbHVkZXMoJ2xpbmsnKSkge1xyXG4gICAgICByZXR1cm4gYFdlYiBhZGRyZXNzIG9yIFVSTCBhc3NvY2lhdGVkIHdpdGggJHt0eXBlTmFtZX0gZW50aXRpZXMgKGUuZy4sIFwiaHR0cHM6Ly9leGFtcGxlLmNvbVwiLCBcImh0dHBzOi8vZG9jcy5jb21wYW55LmNvbVwiKWA7XHJcbiAgICB9XHJcbiAgICBpZiAocHJvcE5hbWUuaW5jbHVkZXMoJ25hbWUnKSB8fCBwcm9wTmFtZS5pbmNsdWRlcygndGl0bGUnKSkge1xyXG4gICAgICByZXR1cm4gYE5hbWUgb3IgdGl0bGUgdGhhdCBpZGVudGlmaWVzICR7dHlwZU5hbWV9IGVudGl0aWVzIChlLmcuLCBcIkpvaG4gU21pdGhcIiwgXCJQcm9qZWN0IEFscGhhXCIsIFwiQ29tcGFueSBJbmMuXCIpYDtcclxuICAgIH1cclxuICAgIGlmIChwcm9wTmFtZS5pbmNsdWRlcygndHlwZScpIHx8IHByb3BOYW1lLmluY2x1ZGVzKCdjYXRlZ29yeScpKSB7XHJcbiAgICAgIHJldHVybiBgQ2xhc3NpZmljYXRpb24gdGhhdCBjYXRlZ29yaXplcyAke3R5cGVOYW1lfSBlbnRpdGllcyAoZS5nLiwgXCJzb2Z0d2FyZVwiLCBcImhhcmR3YXJlXCIsIFwic2VydmljZVwiKWA7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2VuZXJhdGUgbW9yZSBzcGVjaWZpYyBmYWxsYmFjayBiYXNlZCBvbiBwcm9wZXJ0eSBuYW1lIHBhdHRlcm5zXHJcbiAgICBjb25zdCBjbGVhblByb3BOYW1lID0gcHJvcE5hbWUucmVwbGFjZSgvXy9nLCAnICcpO1xyXG4gICAgcmV0dXJuIGAke2NsZWFuUHJvcE5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBjbGVhblByb3BOYW1lLnNsaWNlKDEpfSBhc3NvY2lhdGVkIHdpdGggJHt0eXBlTmFtZX0gZW50aXRpZXNgO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2VuZXJhdGVQeWRhbnRpY01vZGVscyhzY2hlbWFzOiBUeXBlU2NoZW1hW10pOiBQcm9taXNlPHN0cmluZz4ge1xyXG5cclxuICAgIC8vIE1vZHVsZSBkb2N1bWVudGF0aW9uXHJcbiAgICBjb25zdCBtb2R1bGVEb2MgPSBgXCJcIlwiXHJcblB5ZGFudGljIG1vZGVscyBmb3IgT2JzaWRpYW4tR3JhcGhpdGkga25vd2xlZGdlIGdyYXBoIGVudGl0aWVzLlxyXG5cclxuVGhpcyBtb2R1bGUgY29udGFpbnMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgUHlkYW50aWMgbW9kZWxzIGJhc2VkIG9uIHNjaGVtYSBkaXNjb3ZlcnlcclxuZnJvbSBPYnNpZGlhbiB2YXVsdCBub3Rlcy4gVGhlc2UgbW9kZWxzIGFyZSBkZXNpZ25lZCB0byB3b3JrIHdpdGggdGhlIEdyYXBoaXRpXHJcbmtub3dsZWRnZSBncmFwaCBmcmFtZXdvcmsgZm9yIGVudGl0eSBleHRyYWN0aW9uIGFuZCByZWxhdGlvbnNoaXAgbWFwcGluZy5cclxuXHJcbkdlbmVyYXRlZCBtb2RlbHMgaW5oZXJpdCBmcm9tIEJhc2VFbnRpdHkgd2hpY2ggcHJvdmlkZXMgY29yZSBwcm9wZXJ0aWVzIHJlcXVpcmVkXHJcbmJ5IEdyYXBoaXRpIGZvciBrbm93bGVkZ2UgZ3JhcGggcHJvY2Vzc2luZyBpbmNsdWRpbmcgdHlwZSBjbGFzc2lmaWNhdGlvbiwgdGFncyxcclxuYW5kIGNyZWF0aW9uIHRpbWVzdGFtcHMuXHJcblxyXG5Vc2FnZTpcclxuICAgIGZyb20gZ3JhcGhpdGlfbW9kZWxzIGltcG9ydCBQZXJzb24sIE9yZ2FuaXphdGlvbiwgUHJvamVjdFxyXG5cclxuICAgICMgQ3JlYXRlIGVudGl0eSBpbnN0YW5jZXNcclxuICAgIHBlcnNvbiA9IFBlcnNvbihcclxuICAgICAgICBjX25hbWU9XCJKb2huIERvZVwiLFxyXG4gICAgICAgIGpvYl90aXRsZT1cIlNvZnR3YXJlIEVuZ2luZWVyXCIsXHJcbiAgICAgICAgZW1haWw9XCJqb2huQGV4YW1wbGUuY29tXCJcclxuICAgIClcclxuXHJcbiAgICAjIEFsbCBlbnRpdGllcyBoYXZlIGNvcmUgQmFzZUVudGl0eSBwcm9wZXJ0aWVzXHJcbiAgICBwZXJzb24udHlwZSA9IFwiUGVyc29uXCJcclxuICAgIHBlcnNvbi50YWdzID0gW1wicHJvZmVzc2lvbmFsXCIsIFwiY29udGFjdFwiXVxyXG4gICAgcGVyc29uLmNyZWF0ZWQgPSBkYXRldGltZS5ub3coKVxyXG5cclxuTm90ZTogVGhpcyBmaWxlIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkLiBNYW51YWwgZWRpdHMgd2lsbCBiZSBvdmVyd3JpdHRlblxyXG5kdXJpbmcgdGhlIG5leHQgc2NoZW1hIGRpc2NvdmVyeSBwcm9jZXNzLlxyXG5cIlwiXCJgO1xyXG5cclxuICAgIGNvbnN0IGltcG9ydHMgPSBbXHJcbiAgICAgICdmcm9tIHR5cGluZyBpbXBvcnQgT3B0aW9uYWwsIExpc3QsIERpY3QsIEFueScsXHJcbiAgICAgICdmcm9tIHB5ZGFudGljIGltcG9ydCBCYXNlTW9kZWwsIEZpZWxkJyxcclxuICAgICAgJ2Zyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lJyxcclxuICAgICAgJydcclxuICAgIF07XHJcblxyXG4gICAgLy8gQmFzZUVudGl0eSBjbGFzcyB3aXRoIHVuaXZlcnNhbCBwcm9wZXJ0aWVzXHJcbiAgICBjb25zdCBiYXNlRW50aXR5ID0gYGNsYXNzIEJhc2VFbnRpdHkoQmFzZU1vZGVsKTpcclxuICAgIFwiXCJcIlxyXG4gICAgQmFzZSBjbGFzcyBmb3IgYWxsIEdyYXBoaXRpIGtub3dsZWRnZSBncmFwaCBlbnRpdGllcy5cclxuXHJcbiAgICBQcm92aWRlcyBjb3JlIHByb3BlcnRpZXMgcmVxdWlyZWQgYnkgR3JhcGhpdGkgZm9yIGVudGl0eSBwcm9jZXNzaW5nLFxyXG4gICAgcmVsYXRpb25zaGlwIG1hcHBpbmcsIGFuZCBrbm93bGVkZ2UgZ3JhcGggY29uc3RydWN0aW9uLlxyXG4gICAgXCJcIlwiXHJcbiAgICB0YWdzOiBPcHRpb25hbFtMaXN0W3N0cl1dID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJUb3BpYyBrZXl3b3JkcywgY2xhc3NpZmljYXRpb24gbGFiZWxzLCBvciBjYXRlZ29yaWNhbCB0YWdzIHVzZWQgZm9yIG9yZ2FuaXppbmcgYW5kIGZpbHRlcmluZyBjb250ZW50IHdpdGhpbiB0aGUga25vd2xlZGdlIGJhc2VcIilcclxuYDtcclxuXHJcbiAgICAvLyBnZW5lcmF0ZSBtb2RlbHMgaW4gY29hcnNlLWdyYWluZWQgY2h1bmtzIGFuZCB5aWVsZCB0byBldmVudCBsb29wIHRvIGF2b2lkIGJsb2NraW5nIHJlbmRlcmVyXHJcbiAgICBjb25zdCBtb2RlbHM6IHN0cmluZ1tdID0gW107XHJcbiAgICBjb25zdCBDSFVOS19TSVpFID0gNTA7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNjaGVtYXMubGVuZ3RoOyBpICs9IENIVU5LX1NJWkUpIHtcclxuICAgICAgY29uc3QgY2h1bmsgPSBzY2hlbWFzLnNsaWNlKGksIGkgKyBDSFVOS19TSVpFKTtcclxuICAgICAgY2h1bmsuZm9yRWFjaChzY2hlbWEgPT4gbW9kZWxzLnB1c2godGhpcy5nZW5lcmF0ZVNpbmdsZU1vZGVsKHNjaGVtYSkpKTtcclxuXHJcbiAgICAgIC8vIHlpZWxkIHRvIGV2ZW50IGxvb3AgdG8gYXZvaWQgYmxvY2tpbmcgcmVuZGVyZXJcclxuICAgICAgdHJ5IHtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyKSA9PiBzZXRUaW1lb3V0KHIsIDApKTtcclxuICAgICAgfSBjYXRjaCAoXykge1xyXG4gICAgICAgIC8vIGVudmlyb25tZW50IG1heSBub3Qgc3VwcG9ydCB5aWVsZGluZyAtIGlnbm9yZVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWRkIEVkZ2UgVHlwZXMgKHJlbGF0aW9uc2hpcCBtb2RlbHMpXHJcbiAgICBjb25zdCBlZGdlVHlwZXMgPSB0aGlzLmdlbmVyYXRlRWRnZVR5cGVzKCk7XHJcblxyXG4gICAgLy8gQWRkIEVkZ2UgVHlwZSBNYXBcclxuICAgIGNvbnN0IGVkZ2VUeXBlTWFwID0gdGhpcy5nZW5lcmF0ZUVkZ2VUeXBlTWFwKHNjaGVtYXMpO1xyXG5cclxuICAgIHJldHVybiBbbW9kdWxlRG9jLCAnJywgLi4uaW1wb3J0cywgYmFzZUVudGl0eSwgLi4ubW9kZWxzLCBlZGdlVHlwZXMsIGVkZ2VUeXBlTWFwXS5qb2luKCdcXG4nKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2VuZXJhdGVTaW5nbGVNb2RlbChzY2hlbWE6IFR5cGVTY2hlbWEpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgY2xhc3NOYW1lID0gc2NoZW1hLnR5cGVOYW1lLnJlcGxhY2UoL1xccysvZywgJycpLnJlcGxhY2UoL1teYS16QS1aMC05XS9nLCAnJyk7XHJcblxyXG4gICAgLy8gRmlsdGVyIG91dCBwcm90ZWN0ZWQgYXR0cmlidXRlcyBhbmQgdXNlIHN1Z2dlc3RlZCBuYW1lc1xyXG4gICAgY29uc3QgdmFsaWRQcm9wZXJ0aWVzID0gc2NoZW1hLnByb3BlcnRpZXNcclxuICAgICAgLmZpbHRlcihwID0+IHAuZW5hYmxlZCAhPT0gZmFsc2UgJiYgIXAuaXNQcm90ZWN0ZWQpXHJcbiAgICAgIC5tYXAocHJvcCA9PiB7XHJcbiAgICAgICAgY29uc3QgcHl0aG9uVHlwZSA9IHRoaXMuZ2V0UHl0aG9uVHlwZShwcm9wKTtcclxuICAgICAgICBjb25zdCBmaWVsZE5hbWUgPSBwcm9wLnN1Z2dlc3RlZE5hbWUgfHwgcHJvcC5uYW1lO1xyXG5cclxuICAgICAgICAvLyBVc2UgZW5oYW5jZWQgZGVzY3JpcHRpb24gZ2VuZXJhdGlvblxyXG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gdGhpcy5nZW5lcmF0ZURlc2NyaXB0aW9uKHByb3AubmFtZSwgc2NoZW1hLnR5cGVOYW1lKTtcclxuXHJcbiAgICAgICAgLy8gQWxsIGZpZWxkcyBhcmUgT3B0aW9uYWwgYnkgZGVmYXVsdCAoUGhhc2UgMSByZXF1aXJlbWVudClcclxuICAgICAgICByZXR1cm4gYCAgICAke2ZpZWxkTmFtZX06IE9wdGlvbmFsWyR7cHl0aG9uVHlwZX1dID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCIke2Rlc2NyaXB0aW9ufVwiKWA7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIC8vIEFkZCBjb21tZW50cyBmb3IgcHJvdGVjdGVkIGF0dHJpYnV0ZXMgdGhhdCB3ZXJlIHNraXBwZWRcclxuICAgIGNvbnN0IHByb3RlY3RlZENvbW1lbnRzID0gc2NoZW1hLnByb3BlcnRpZXNcclxuICAgICAgLmZpbHRlcihwID0+IHAuaXNQcm90ZWN0ZWQpXHJcbiAgICAgIC5tYXAocHJvcCA9PiBgICAgICMgU0tJUFBFRDogJyR7cHJvcC5uYW1lfScgLSBwcm90ZWN0ZWQgYXR0cmlidXRlICh1c2UgJyR7cHJvcC5zdWdnZXN0ZWROYW1lfScgaW5zdGVhZClgKTtcclxuXHJcbiAgICBjb25zdCBhbGxMaW5lcyA9IFsuLi52YWxpZFByb3BlcnRpZXMsIC4uLnByb3RlY3RlZENvbW1lbnRzXTtcclxuICAgIGNvbnN0IHByb3BlcnRpZXMgPSBhbGxMaW5lcy5sZW5ndGggPiAwID8gYWxsTGluZXMuam9pbignXFxuJykgOiAnICAgIHBhc3MnO1xyXG5cclxuICAgIC8vIFVzZSBkZWZhdWx0IGRlc2NyaXB0aW9uIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIHVzZSBjdXN0b20gZmFsbGJhY2tcclxuICAgIGNvbnN0IGRlZmF1bHREZXNjcmlwdGlvbiA9IERFRkFVTFRfRU5USVRZX0RFU0NSSVBUSU9OU1tjbGFzc05hbWVdO1xyXG4gICAgY29uc3QgY2xhc3NEb2MgPSBkZWZhdWx0RGVzY3JpcHRpb24gfHwgYEN1c3RvbSAke2NsYXNzTmFtZX0gZW50aXR5LlxcbiAgICBcXG4gICAgVXNlIHRoaXMgZW50aXR5IHR5cGUgZm9yICR7Y2xhc3NOYW1lfSBjb250ZW50IHRoYXQgZG9lc24ndCBtYXRjaFxcbiAgICB0aGUgc3RhbmRhcmQgZW50aXR5IHR5cGVzIGluIHlvdXIga25vd2xlZGdlIGRvbWFpbi5gO1xyXG5cclxuICAgIHJldHVybiBgY2xhc3MgJHtjbGFzc05hbWV9KEJhc2VFbnRpdHkpOlxyXG4gICAgXCJcIlwiXHJcbiAgICAke2NsYXNzRG9jfVxyXG4gICAgXCJcIlwiXHJcbiR7cHJvcGVydGllc31cclxuXHJcbmA7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdlbmVyYXRlRWRnZVR5cGVzKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gYFxyXG4jIEVkZ2UgVHlwZXMgLSBSZWxhdGlvbnNoaXAgTW9kZWxzXHJcbmNsYXNzIFdvcmtzRm9yKEJhc2VNb2RlbCk6XHJcbiAgICBcIlwiXCJQZXJzb24gZW1wbG95ZWQgYnkgT3JnYW5pemF0aW9uXCJcIlwiXHJcbiAgICBqb2JfdGl0bGU6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIkN1cnJlbnQgcHJvZmVzc2lvbmFsIHJvbGUsIHBvc2l0aW9uLCBvciB0aXRsZSB0aGF0IGRlc2NyaWJlcyByZXNwb25zaWJpbGl0aWVzIGFuZCBsZXZlbCB3aXRoaW4gYW4gb3JnYW5pemF0aW9uXCIpXHJcbiAgICBlbXBsb3ltZW50X3R5cGU6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIkVtcGxveW1lbnQgY2xhc3NpZmljYXRpb24gc3VjaCBhcyBmdWxsLXRpbWUsIHBhcnQtdGltZSwgY29udHJhY3RvciwgY29uc3VsdGFudCwgYWR2aXNvciwgb3IgaW50ZXJuXCIpXHJcbiAgICBzdGFydF9kYXRlOiBPcHRpb25hbFtkYXRldGltZV0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIkRhdGUgd2hlbiB0aGUgZW1wbG95bWVudCByZWxhdGlvbnNoaXAgYmVnYW4gaW4gWVlZWS1NTS1ERCBmb3JtYXRcIilcclxuXHJcbmNsYXNzIFVzZXMoQmFzZU1vZGVsKTpcclxuICAgIFwiXCJcIlBlcnNvbi9Pcmdhbml6YXRpb24gdXNlcyBUZWNobm9sb2d5L1Byb2R1Y3RcIlwiXCJcclxuICAgIHNlbnRpbWVudDogT3B0aW9uYWxbc3RyXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiVXNlcidzIGF0dGl0dWRlIG9yIGZlZWxpbmcgdG93YXJkIHRoZSB0ZWNobm9sb2d5IChwb3NpdGl2ZSwgbmVnYXRpdmUsIG5ldXRyYWwsIGxvdmUsIGhhdGUpXCIpXHJcbiAgICBwcm9maWNpZW5jeTogT3B0aW9uYWxbc3RyXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiVXNlcidzIHNraWxsIGxldmVsIG9yIGV4cGVydGlzZSB3aXRoIHRoZSB0ZWNobm9sb2d5IChiZWdpbm5lciwgaW50ZXJtZWRpYXRlLCBhZHZhbmNlZCwgZXhwZXJ0KVwiKVxyXG4gICAgdXNhZ2VfY29udGV4dDogT3B0aW9uYWxbc3RyXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiQ29udGV4dCBvciBlbnZpcm9ubWVudCB3aGVyZSB0aGUgdGVjaG5vbG9neSBpcyB1c2VkIChkZXZlbG9wbWVudCwgcHJvZHVjdGlvbiwgcGVyc29uYWwsIHRlc3RpbmcpXCIpXHJcbiAgICBzdGF0dXM6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIkN1cnJlbnQgdXNhZ2Ugc3RhdHVzIChhY3RpdmUsIGluYWN0aXZlLCB0cmlhbCwgcGFpZF9hY2NvdW50LCBldmFsdWF0aW5nKVwiKVxyXG4gICAgc3RhcnRfZGF0ZTogT3B0aW9uYWxbZGF0ZXRpbWVdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJEYXRlIHdoZW4gdXNhZ2UgYmVnYW4gaW4gWVlZWS1NTS1ERCBmb3JtYXRcIilcclxuXHJcbmNsYXNzIENyZWF0ZXMoQmFzZU1vZGVsKTpcclxuICAgIFwiXCJcIlBlcnNvbi9Pcmdhbml6YXRpb24gY3JlYXRlcyBUZWNobm9sb2d5L1Byb2R1Y3QvUHJvamVjdFwiXCJcIlxyXG4gICAgcm9sZTogT3B0aW9uYWxbc3RyXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiQ3JlYXRvcidzIHJvbGUgaW4gdGhlIGNyZWF0aW9uIHByb2Nlc3MgKGZvdW5kZXIsIGxlYWRfZGV2ZWxvcGVyLCBjb250cmlidXRvciwgZGVzaWduZXIsIGFyY2hpdGVjdClcIilcclxuICAgIGNvbnRyaWJ1dGlvbl90eXBlOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJUeXBlIG9mIGNvbnRyaWJ1dGlvbiBtYWRlIChjb2RlLCBkZXNpZ24sIHN0cmF0ZWd5LCBmdW5kaW5nLCBkb2N1bWVudGF0aW9uLCB0ZXN0aW5nKVwiKVxyXG5cclxuY2xhc3MgS25vd3MoQmFzZU1vZGVsKTpcclxuICAgIFwiXCJcIlBlcnNvbiBrbm93cyBQZXJzb24gKHBlcnNvbmFsIG9yIHByb2Zlc3Npb25hbCByZWxhdGlvbnNoaXApXCJcIlwiXHJcbiAgICByZWxhdGlvbnNoaXBfdHlwZTogT3B0aW9uYWxbc3RyXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiTmF0dXJlIG9mIHRoZSByZWxhdGlvbnNoaXAgKGNvbGxlYWd1ZSwgbWVudG9yLCBmcmllbmQsIGNvbGxhYm9yYXRvciwgYWNxdWFpbnRhbmNlKVwiKVxyXG4gICAgY29udGV4dDogT3B0aW9uYWxbc3RyXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiQ29udGV4dCBvciBzZXR0aW5nIHdoZXJlIHRoZXkga25vdyBlYWNoIG90aGVyICh3b3JrLCBzY2hvb2wsIGluZHVzdHJ5LCBwZXJzb25hbClcIilcclxuXHJcbmNsYXNzIE1lbWJlck9mKEJhc2VNb2RlbCk6XHJcbiAgICBcIlwiXCJQZXJzb24vT3JnYW5pemF0aW9uIGlzIG1lbWJlciBvZiBPcmdhbml6YXRpb25cIlwiXCJcclxuICAgIHJvbGU6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIk1lbWJlcidzIHJvbGUgb3IgcG9zaXRpb24gd2l0aGluIHRoZSBvcmdhbml6YXRpb24gKGVtcGxveWVlLCB2b2x1bnRlZXIsIGJvYXJkX21lbWJlciwgY3VzdG9tZXIsIHBhcnRuZXIpXCIpXHJcbiAgICBzdGFydF9kYXRlOiBPcHRpb25hbFtkYXRldGltZV0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIkRhdGUgd2hlbiBtZW1iZXJzaGlwIGJlZ2FuIGluIFlZWVktTU0tREQgZm9ybWF0XCIpXHJcbiAgICBzdGF0dXM6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIkN1cnJlbnQgbWVtYmVyc2hpcCBzdGF0dXMgKGFjdGl2ZSwgaW5hY3RpdmUsIHN1c3BlbmRlZCwgdHJpYWwsIHBhaWQpXCIpXHJcblxyXG5jbGFzcyBQYXJ0bmVyc1dpdGgoQmFzZU1vZGVsKTpcclxuICAgIFwiXCJcIlBlcnNvbi9Pcmdhbml6YXRpb24gcGFydG5lcnMgd2l0aCBQZXJzb24vT3JnYW5pemF0aW9uXCJcIlwiXHJcbiAgICBwYXJ0bmVyc2hpcF90eXBlOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJUeXBlIG9mIHBhcnRuZXJzaGlwIChzdHJhdGVnaWMsIHN1cHBsaWVyLCBpbnZlc3RtZW50LCBjb25zdWx0aW5nLCBhZHZpc29yeSwgam9pbnRfdmVudHVyZSlcIilcclxuICAgIHN0YXJ0X2RhdGU6IE9wdGlvbmFsW2RhdGV0aW1lXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiRGF0ZSB3aGVuIHBhcnRuZXJzaGlwIGJlZ2FuIGluIFlZWVktTU0tREQgZm9ybWF0XCIpXHJcbiAgICBzdGF0dXM6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIkN1cnJlbnQgcGFydG5lcnNoaXAgc3RhdHVzIChhY3RpdmUsIGluYWN0aXZlLCBjb21wbGV0ZWQsIG5lZ290aWF0aW5nKVwiKVxyXG5cclxuY2xhc3MgRGVwZW5kc09uKEJhc2VNb2RlbCk6XHJcbiAgICBcIlwiXCJUZWNobm9sb2d5L1Byb2R1Y3QgZGVwZW5kcyBvbiBUZWNobm9sb2d5XCJcIlwiXHJcbiAgICBkZXBlbmRlbmN5X3R5cGU6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIlR5cGUgb2YgZGVwZW5kZW5jeSAocnVudGltZSwgYnVpbGRfdGltZSwgZGV2ZWxvcG1lbnQsIGluZnJhc3RydWN0dXJlLCBvcHRpb25hbClcIilcclxuICAgIHZlcnNpb246IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIlJlcXVpcmVkIHZlcnNpb24gb3IgdmVyc2lvbiByYW5nZSBmb3IgdGhlIGRlcGVuZGVuY3lcIilcclxuXHJcbmNsYXNzIEludGVncmF0ZWRXaXRoKEJhc2VNb2RlbCk6XHJcbiAgICBcIlwiXCJQcm9kdWN0L1RlY2hub2xvZ3kgaGFzIGJ1aWx0LWluIGludGVncmF0aW9uIHdpdGggUHJvZHVjdC9UZWNobm9sb2d5XCJcIlwiXHJcbiAgICBpbnRlZ3JhdGlvbl90eXBlOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJUeXBlIG9mIGludGVncmF0aW9uIChuYXRpdmUsIHBsdWdpbiwgQVBJLCB3ZWJob29rLCBTREssIGVtYmVkZGVkKVwiKVxyXG4gICAgYmlkaXJlY3Rpb25hbDogT3B0aW9uYWxbYm9vbF0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIldoZXRoZXIgdGhlIGludGVncmF0aW9uIHdvcmtzIGluIGJvdGggZGlyZWN0aW9ucyBiZXR3ZWVuIHRoZSB0ZWNobm9sb2dpZXNcIilcclxuXHJcbmNsYXNzIEFib3V0KEJhc2VNb2RlbCk6XHJcbiAgICBcIlwiXCJXZWJQYWdlL05vdGUvQXJ0aWNsZSBhYm91dCBFbnRpdHlcIlwiXCJcclxuICAgIGNvdmVyYWdlX3R5cGU6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIkRlcHRoIG9mIGNvdmVyYWdlIChjb21wcmVoZW5zaXZlLCBtZW50aW9uLCBhbmFseXNpcywgdHV0b3JpYWwsIHJldmlldylcIilcclxuICAgIGF1dGhvcml0eTogT3B0aW9uYWxbc3RyXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiU291cmNlIGF1dGhvcml0eSBsZXZlbCAob2ZmaWNpYWwsIGNvbW11bml0eSwgZXhwZXJ0X2FuYWx5c2lzLCB1c2VyX2dlbmVyYXRlZClcIilcclxuXHJcbmNsYXNzIElzUGFydE9mKEJhc2VNb2RlbCk6XHJcbiAgICBcIlwiXCJXZWJQYWdlIHBhcnQgb2YgV2Vic2l0ZS9Eb21haW5cIlwiXCJcclxuICAgIHJlbGF0aW9uc2hpcF90eXBlOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJUeXBlIG9mIHJlbGF0aW9uc2hpcCAocGFnZSwgYXJ0aWNsZSwgZG9jdW1lbnRhdGlvbiwgc2VjdGlvbiwgc3ViZG9tYWluKVwiKVxyXG5cclxuY2xhc3MgVGFncyhCYXNlTW9kZWwpOlxyXG4gICAgXCJcIlwiRW50aXR5IGlzIHRhZ2dlZCB3aXRoIGFub3RoZXIgRW50aXR5XCJcIlwiXHJcbiAgICBwYXNzXHJcblxyXG4jIE5ldyBlZGdlIHR5cGVzXHJcbmNsYXNzIFBlcmZvcm1lZEJ5KEJhc2VNb2RlbCk6XHJcbiAgICBcIlwiXCJNdXNpY2FsIHdvcmsgcGVyZm9ybWVkIGJ5IEFydGlzdC9QZXJzb25cIlwiXCJcclxuICAgIHBlcmZvcm1hbmNlX3R5cGU6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIlR5cGUgb2YgcGVyZm9ybWFuY2UgcmVsYXRpb25zaGlwIChvcmlnaW5hbF9hcnRpc3QsIGNvdmVyX3ZlcnNpb24sIGxpdmVfcGVyZm9ybWFuY2UsIGNvbGxhYm9yYXRpb24sIGZlYXR1cmVkX2FydGlzdClcIilcclxuICAgIHJvbGU6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIlNwZWNpZmljIHJvbGUgaW4gdGhlIHBlcmZvcm1hbmNlIChsZWFkX3ZvY2FscywgaW5zdHJ1bWVudGFsaXN0LCBwcm9kdWNlciwgZmVhdHVyZWQsIGJhY2tpbmdfdm9jYWxzKVwiKVxyXG4gICAgcGVyZm9ybWFuY2VfZGF0ZTogT3B0aW9uYWxbZGF0ZXRpbWVdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJEYXRlIHdoZW4gdGhpcyBwZXJmb3JtYW5jZSBvciByZWNvcmRpbmcgdG9vayBwbGFjZSBpbiBZWVlZLU1NLUREIGZvcm1hdFwiKVxyXG5cclxuY2xhc3MgSW5mbHVlbmNlZEJ5KEJhc2VNb2RlbCk6XHJcbiAgICBcIlwiXCJFbnRpdHkgaW5mbHVlbmNlZCBvciBpbnNwaXJlZCBieSBhbm90aGVyIEVudGl0eVwiXCJcIlxyXG4gICAgaW5mbHVlbmNlX3R5cGU6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIk5hdHVyZSBvZiB0aGUgaW5mbHVlbmNlIHJlbGF0aW9uc2hpcCAoYXJ0aXN0aWMsIGludGVsbGVjdHVhbCwgbWV0aG9kb2xvZ2ljYWwsIHBoaWxvc29waGljYWwsIHRlY2huaWNhbClcIilcclxuICAgIGRlc2NyaXB0aW9uOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJTcGVjaWZpYyB3YXlzIHRoaXMgZW50aXR5IHdhcyBpbmZsdWVuY2VkLCBpbmNsdWRpbmcgY29uY2VwdHMsIHRlY2huaXF1ZXMsIG9yIGFwcHJvYWNoZXMgYWRvcHRlZFwiKVxyXG4gICAgc3RyZW5ndGg6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIkRlZ3JlZSBvZiBpbmZsdWVuY2UgaW1wYWN0IChtaW5vciwgbW9kZXJhdGUsIG1ham9yLCBmb3VuZGF0aW9uYWwsIHRyYW5zZm9ybWF0aXZlKVwiKVxyXG5cclxuY2xhc3MgQ29sbGFib3JhdGVzV2l0aChCYXNlTW9kZWwpOlxyXG4gICAgXCJcIlwiUGVyc29uL09yZ2FuaXphdGlvbiBhY3RpdmVseSBjb2xsYWJvcmF0ZXMgd2l0aCBQZXJzb24vT3JnYW5pemF0aW9uXCJcIlwiXHJcbiAgICBjb2xsYWJvcmF0aW9uX3R5cGU6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIk5hdHVyZSBvZiB0aGUgY29sbGFib3JhdGl2ZSByZWxhdGlvbnNoaXAgKHByb2plY3RfcGFydG5lciwgY29fYXV0aG9yLCBqb2ludF92ZW50dXJlLCByZXNlYXJjaF9wYXJ0bmVyLCBjcmVhdGl2ZV9wYXJ0bmVyKVwiKVxyXG4gICAgY29sbGFib3JhdGlvbl9zdGF0dXM6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIkN1cnJlbnQgc3RhdGUgb2YgdGhlIGNvbGxhYm9yYXRpb24gKGFjdGl2ZSwgY29tcGxldGVkLCBwbGFubmVkLCBvbl9ob2xkLCByZWN1cnJpbmcpXCIpXHJcbiAgICBzdGFydF9kYXRlOiBPcHRpb25hbFtkYXRldGltZV0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIkRhdGUgd2hlbiB0aGUgY29sbGFib3JhdGlvbiBiZWdhbiBpbiBZWVlZLU1NLUREIGZvcm1hdFwiKVxyXG5cclxuY2xhc3MgT3JnYW5pemVkQnkoQmFzZU1vZGVsKTpcclxuICAgIFwiXCJcIkV2ZW50IG9yZ2FuaXplZCBhbmQgbWFuYWdlZCBieSBQZXJzb24vT3JnYW5pemF0aW9uXCJcIlwiXHJcbiAgICBvcmdhbml6YXRpb25hbF9yb2xlOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJTcGVjaWZpYyByb2xlIGluIG9yZ2FuaXppbmcgdGhlIGV2ZW50IChsZWFkX29yZ2FuaXplciwgY29fb3JnYW5pemVyLCBldmVudF9tYW5hZ2VyLCBsb2dpc3RpY3NfY29vcmRpbmF0b3IsIHByb2dyYW1fZGlyZWN0b3IpXCIpXHJcbiAgICByZXNwb25zaWJpbGl0aWVzOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJTcGVjaWZpYyBkdXRpZXMgYW5kIGFyZWFzIG9mIHJlc3BvbnNpYmlsaXR5IGluIGV2ZW50IG9yZ2FuaXphdGlvbiAobG9naXN0aWNzLCBwcm9ncmFtbWluZywgbWFya2V0aW5nLCBzcG9uc29yc2hpcHMpXCIpXHJcblxyXG5jbGFzcyBBdHRlbmRlZEJ5KEJhc2VNb2RlbCk6XHJcbiAgICBcIlwiXCJFdmVudCBhdHRlbmRlZCBvciBwYXJ0aWNpcGF0ZWQgaW4gYnkgUGVyc29uXCJcIlwiXHJcbiAgICBhdHRlbmRhbmNlX3R5cGU6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIk5hdHVyZSBvZiBhdHRlbmRhbmNlIG9yIHBhcnRpY2lwYXRpb24gKHByZXNlbnRlciwgYXR0ZW5kZWUsIGtleW5vdGVfc3BlYWtlciwgcGFuZWxpc3QsIHNwb25zb3IsIHZvbHVudGVlcilcIilcclxuICAgIHBhcnRpY2lwYXRpb25fbGV2ZWw6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIkRlZ3JlZSBvZiBpbnZvbHZlbWVudCBpbiB0aGUgZXZlbnQgKGFjdGl2ZV9wYXJ0aWNpcGFudCwgcGFzc2l2ZV9hdHRlbmRlZSwgZmVhdHVyZWRfc3BlYWtlciwgb3JnYW5pemVyKVwiKVxyXG5cclxuY2xhc3MgUGFydE9mU2VyaWVzKEJhc2VNb2RlbCk6XHJcbiAgICBcIlwiXCJFbnRpdHkgdGhhdCBiZWxvbmdzIHRvIG9yIGNvbnRpbnVlcyBhIHNlcmllcy9zZXF1ZW5jZVwiXCJcIlxyXG4gICAgc2VxdWVuY2VfcG9zaXRpb246IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIlBvc2l0aW9uIG9yIG9yZGVyIHdpdGhpbiB0aGUgc2VyaWVzIChlcGlzb2RlXzEsIHBhcnRfMiwgdm9sdW1lXzMsIHNlYXNvbl8xX2VwaXNvZGVfNSlcIilcclxuICAgIHNlcmllc19yZWxhdGlvbnNoaXA6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIlR5cGUgb2YgcmVsYXRpb25zaGlwIHRvIHRoZSBzZXJpZXMgKHNlcXVlbCwgcHJlcXVlbCwgc3Bpbl9vZmYsIGNvbnRpbnVhdGlvbiwgcGFydF9vZl9jb2xsZWN0aW9uKVwiKVxyXG5cclxuY2xhc3MgTGVhZEJ5KEJhc2VNb2RlbCk6XHJcbiAgICBcIlwiXCJQcm9qZWN0L09yZ2FuaXphdGlvbi9Jbml0aWF0aXZlIGxlZCBvciBkaXJlY3RlZCBieSBQZXJzb25cIlwiXCJcclxuICAgIGxlYWRlcnNoaXBfcm9sZTogT3B0aW9uYWxbc3RyXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiU3BlY2lmaWMgbGVhZGVyc2hpcCBwb3NpdGlvbiBhbmQgYXV0aG9yaXR5IChjZW8sIHByb2plY3RfbWFuYWdlciwgdGVhbV9sZWFkLCBjcmVhdGl2ZV9kaXJlY3RvciwgcHJpbmNpcGFsX2ludmVzdGlnYXRvcilcIilcclxuICAgIGxlYWRlcnNoaXBfc3RhcnRfZGF0ZTogT3B0aW9uYWxbZGF0ZXRpbWVdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJEYXRlIHdoZW4gbGVhZGVyc2hpcCByb2xlIGJlZ2FuIGluIFlZWVktTU0tREQgZm9ybWF0XCIpXHJcbiAgICBsZWFkZXJzaGlwX3Njb3BlOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJBcmVhcyBvZiByZXNwb25zaWJpbGl0eSBhbmQgZGVjaXNpb24tbWFraW5nIGF1dGhvcml0eSAoc3RyYXRlZ2ljLCBvcGVyYXRpb25hbCwgY3JlYXRpdmUsIHRlY2huaWNhbCwgYWRtaW5pc3RyYXRpdmUpXCIpXHJcblxyXG5jbGFzcyBTcG9uc29yZWRCeShCYXNlTW9kZWwpOlxyXG4gICAgXCJcIlwiRW50aXR5IHNwb25zb3JlZCwgZnVuZGVkLCBvciBzdXBwb3J0ZWQgYnkgT3JnYW5pemF0aW9uXCJcIlwiXHJcbiAgICBzcG9uc29yc2hpcF90eXBlOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJOYXR1cmUgb2Ygc3BvbnNvcnNoaXAgcmVsYXRpb25zaGlwIChmaW5hbmNpYWwsIGluX2tpbmQsIHByb21vdGlvbmFsLCBzdHJhdGVnaWMsIHRpdGxlX3Nwb25zb3IsIHByZXNlbnRpbmdfc3BvbnNvcilcIilcclxuICAgIHNwb25zb3JzaGlwX2xldmVsOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJEZWdyZWUgb3IgdGllciBvZiBzcG9uc29yc2hpcCBzdXBwb3J0IChwbGF0aW51bSwgZ29sZCwgc2lsdmVyLCBicm9uemUsIG1ham9yLCBtaW5vcilcIilcclxuICAgIHN1cHBvcnRfZGV0YWlsczogT3B0aW9uYWxbc3RyXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiU3BlY2lmaWMgd2F5cyBzcG9uc29yIHByb3ZpZGVzIHN1cHBvcnQgKGZ1bmRpbmcsIHJlc291cmNlcywgZXhwZXJ0aXNlLCBtYXJrZXRpbmcsIHZlbnVlKVwiKVxyXG5cclxuY2xhc3MgQ29tcGV0ZXNXaXRoKEJhc2VNb2RlbCk6XHJcbiAgICBcIlwiXCJPcmdhbml6YXRpb24vUHJvZHVjdCBpbiBjb21wZXRpdGlvbiBvciByaXZhbHJ5IHdpdGggT3JnYW5pemF0aW9uL1Byb2R1Y3RcIlwiXCJcclxuICAgIGNvbXBldGl0aW9uX3R5cGU6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIk5hdHVyZSBvZiBjb21wZXRpdGl2ZSByZWxhdGlvbnNoaXAgKGRpcmVjdF9jb21wZXRpdG9yLCBtYXJrZXRfcml2YWwsIGFsdGVybmF0aXZlX3NvbHV0aW9uLCBpbmR1c3RyeV9wZWVyKVwiKVxyXG4gICAgbWFya2V0X2NvbnRleHQ6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIk1hcmtldCBvciBkb21haW4gd2hlcmUgY29tcGV0aXRpb24gb2NjdXJzIChzYW1lX21hcmtldCwgYWRqYWNlbnRfbWFya2V0LCBzdWJzdGl0dXRlX3Byb2R1Y3QsIGZlYXR1cmVfY29tcGV0aXRpb24pXCIpXHJcbiAgICBjb21wZXRpdGl2ZV9hZHZhbnRhZ2U6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIktleSBkaWZmZXJlbnRpYXRpbmcgZmFjdG9ycyBpbiB0aGUgY29tcGV0aXRpdmUgcmVsYXRpb25zaGlwIChwcmljZSwgZmVhdHVyZXMsIG1hcmtldF9zaGFyZSwgYnJhbmRfcmVjb2duaXRpb24pXCIpXHJcblxyXG5gO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZW5lcmF0ZUVkZ2VUeXBlTWFwKHNjaGVtYXM6IFR5cGVTY2hlbWFbXSk6IHN0cmluZyB7XHJcbiAgICAvLyBHZXQgZGlzY292ZXJlZCBlbnRpdHkgdHlwZXNcclxuICAgIGNvbnN0IGVudGl0eVR5cGVzID0gc2NoZW1hcy5tYXAocyA9PiBzLnR5cGVOYW1lLnJlcGxhY2UoL1xccysvZywgJycpLnJlcGxhY2UoL1teYS16QS1aMC05XS9nLCAnJykpO1xyXG5cclxuICAgIC8vIEdlbmVyYXRlIGVkZ2UgdHlwZSBtYXAgYmFzZWQgb24gZGlzY292ZXJlZCBlbnRpdGllcyBhbmQgY29tbW9uIHBhdHRlcm5zXHJcbiAgICBjb25zdCBlZGdlTWFwRW50cmllczogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgICAvLyBBZGQgcmVsYXRpb25zaGlwcyBmb3IgZWFjaCBkaXNjb3ZlcmVkIGVudGl0eSB0eXBlXHJcbiAgICBlbnRpdHlUeXBlcy5mb3JFYWNoKGVudGl0eVR5cGUgPT4ge1xyXG4gICAgICAvLyBQZXJzb24gcmVsYXRpb25zaGlwc1xyXG4gICAgICBpZiAoZW50aXR5VHlwZSA9PT0gJ1BlcnNvbicpIHtcclxuICAgICAgICBlZGdlTWFwRW50cmllcy5wdXNoKCcgICAgKFwiUGVyc29uXCIsIFwiT3JnYW5pemF0aW9uXCIpOiBbXCJXb3Jrc0ZvclwiLCBcIk1lbWJlck9mXCIsIFwiUGFydG5lcnNXaXRoXCJdLCcpO1xyXG4gICAgICAgIGVkZ2VNYXBFbnRyaWVzLnB1c2goJyAgICAoXCJQZXJzb25cIiwgXCJUZWNobm9sb2d5XCIpOiBbXCJDcmVhdGVzXCIsIFwiVXNlc1wiXSwnKTtcclxuICAgICAgICBlZGdlTWFwRW50cmllcy5wdXNoKCcgICAgKFwiUGVyc29uXCIsIFwiUHJvZHVjdFwiKTogW1wiQ3JlYXRlc1wiLCBcIlVzZXNcIl0sJyk7XHJcbiAgICAgICAgZWRnZU1hcEVudHJpZXMucHVzaCgnICAgIChcIlBlcnNvblwiLCBcIlByb2plY3RcIik6IFtcIkNyZWF0ZXNcIiwgXCJNZW1iZXJPZlwiXSwnKTtcclxuICAgICAgICBlZGdlTWFwRW50cmllcy5wdXNoKCcgICAgKFwiUGVyc29uXCIsIFwiUGVyc29uXCIpOiBbXCJLbm93c1wiLCBcIkNvbGxhYm9yYXRlc1dpdGhcIl0sJyk7XHJcbiAgICAgICAgZWRnZU1hcEVudHJpZXMucHVzaCgnICAgIChcIlBlcnNvblwiLCBcIk11c2ljXCIpOiBbXCJQZXJmb3JtZWRCeVwiXSwnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gTXVzaWMgcmVsYXRpb25zaGlwc1xyXG4gICAgICBpZiAoZW50aXR5VHlwZSA9PT0gJ011c2ljJykge1xyXG4gICAgICAgIGVkZ2VNYXBFbnRyaWVzLnB1c2goJyAgICAoXCJNdXNpY1wiLCBcIlBlcnNvblwiKTogW1wiUGVyZm9ybWVkQnlcIiwgXCJDcmVhdGVkQnlcIiwgXCJJbmZsdWVuY2VkQnlcIl0sJyk7XHJcbiAgICAgICAgZWRnZU1hcEVudHJpZXMucHVzaCgnICAgIChcIk11c2ljXCIsIFwiTXVzaWNcIik6IFtcIkluZmx1ZW5jZWRCeVwiLCBcIlBhcnRPZlNlcmllc1wiXSwnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRmlsbSByZWxhdGlvbnNoaXBzXHJcbiAgICAgIGlmIChlbnRpdHlUeXBlID09PSAnRmlsbScpIHtcclxuICAgICAgICBlZGdlTWFwRW50cmllcy5wdXNoKCcgICAgKFwiRmlsbVwiLCBcIlBlcnNvblwiKTogW1wiQ3JlYXRlZEJ5XCIsIFwiUGVyZm9ybWVkQnlcIiwgXCJJbmZsdWVuY2VkQnlcIl0sJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIE9yZ2FuaXphdGlvbiByZWxhdGlvbnNoaXBzXHJcbiAgICAgIGlmIChlbnRpdHlUeXBlID09PSAnT3JnYW5pemF0aW9uJykge1xyXG4gICAgICAgIGVkZ2VNYXBFbnRyaWVzLnB1c2goJyAgICAoXCJPcmdhbml6YXRpb25cIiwgXCJPcmdhbml6YXRpb25cIik6IFtcIlBhcnRuZXJzV2l0aFwiLCBcIk1lbWJlck9mXCJdLCcpO1xyXG4gICAgICAgIGVkZ2VNYXBFbnRyaWVzLnB1c2goJyAgICAoXCJPcmdhbml6YXRpb25cIiwgXCJUZWNobm9sb2d5XCIpOiBbXCJDcmVhdGVzXCIsIFwiVXNlc1wiLCBcIkRlcGVuZHNPblwiXSwnKTtcclxuICAgICAgICBlZGdlTWFwRW50cmllcy5wdXNoKCcgICAgKFwiT3JnYW5pemF0aW9uXCIsIFwiUHJvZHVjdFwiKTogW1wiQ3JlYXRlc1wiLCBcIlVzZXNcIiwgXCJEZXBlbmRzT25cIl0sJyk7XHJcbiAgICAgICAgZWRnZU1hcEVudHJpZXMucHVzaCgnICAgIChcIk9yZ2FuaXphdGlvblwiLCBcIlByb2plY3RcIik6IFtcIkNyZWF0ZXNcIiwgXCJQYXJ0bmVyc1dpdGhcIl0sJyk7XHJcbiAgICAgICAgZWRnZU1hcEVudHJpZXMucHVzaCgnICAgIChcIk9yZ2FuaXphdGlvblwiLCBcIlBlcnNvblwiKTogW1wiUGFydG5lcnNXaXRoXCJdLCcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBUZWNobm9sb2d5IHJlbGF0aW9uc2hpcHNcclxuICAgICAgaWYgKGVudGl0eVR5cGUgPT09ICdUZWNobm9sb2d5Jykge1xyXG4gICAgICAgIGVkZ2VNYXBFbnRyaWVzLnB1c2goJyAgICAoXCJUZWNobm9sb2d5XCIsIFwiVGVjaG5vbG9neVwiKTogW1wiRGVwZW5kc09uXCIsIFwiSW50ZWdyYXRlZFdpdGhcIl0sJyk7XHJcbiAgICAgICAgZWRnZU1hcEVudHJpZXMucHVzaCgnICAgIChcIlRlY2hub2xvZ3lcIiwgXCJQcm9kdWN0XCIpOiBbXCJJbnRlZ3JhdGVkV2l0aFwiXSwnKTtcclxuICAgICAgICBlZGdlTWFwRW50cmllcy5wdXNoKCcgICAgKFwiVGVjaG5vbG9neVwiLCBcIlByb2plY3RcIik6IFtcIkludGVncmF0ZWRXaXRoXCJdLCcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBQcm9kdWN0IHJlbGF0aW9uc2hpcHNcclxuICAgICAgaWYgKGVudGl0eVR5cGUgPT09ICdQcm9kdWN0Jykge1xyXG4gICAgICAgIGVkZ2VNYXBFbnRyaWVzLnB1c2goJyAgICAoXCJQcm9kdWN0XCIsIFwiVGVjaG5vbG9neVwiKTogW1wiSW50ZWdyYXRlZFdpdGhcIiwgXCJVc2VzXCIsIFwiRGVwZW5kc09uXCJdLCcpO1xyXG4gICAgICAgIGVkZ2VNYXBFbnRyaWVzLnB1c2goJyAgICAoXCJQcm9kdWN0XCIsIFwiUHJvZHVjdFwiKTogW1wiSW50ZWdyYXRlZFdpdGhcIl0sJyk7XHJcbiAgICAgICAgZWRnZU1hcEVudHJpZXMucHVzaCgnICAgIChcIlByb2R1Y3RcIiwgXCJPcmdhbml6YXRpb25cIik6IFtcIk1lbWJlck9mXCJdLCcpO1xyXG4gICAgICAgIGVkZ2VNYXBFbnRyaWVzLnB1c2goJyAgICAoXCJQcm9kdWN0XCIsIFwiUHJvamVjdFwiKTogW1wiSW50ZWdyYXRlZFdpdGhcIl0sJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFByb2plY3QgcmVsYXRpb25zaGlwc1xyXG4gICAgICBpZiAoZW50aXR5VHlwZSA9PT0gJ1Byb2plY3QnKSB7XHJcbiAgICAgICAgZWRnZU1hcEVudHJpZXMucHVzaCgnICAgIChcIlByb2plY3RcIiwgXCJUZWNobm9sb2d5XCIpOiBbXCJVc2VzXCIsIFwiQ3JlYXRlc1wiLCBcIkRlcGVuZHNPblwiXSwnKTtcclxuICAgICAgICBlZGdlTWFwRW50cmllcy5wdXNoKCcgICAgKFwiUHJvamVjdFwiLCBcIlByb2R1Y3RcIik6IFtcIkNyZWF0ZXNcIiwgXCJVc2VzXCJdLCcpO1xyXG4gICAgICAgIGVkZ2VNYXBFbnRyaWVzLnB1c2goJyAgICAoXCJQcm9qZWN0XCIsIFwiT3JnYW5pemF0aW9uXCIpOiBbXCJQYXJ0bmVyc1dpdGhcIl0sJyk7XHJcbiAgICAgICAgZWRnZU1hcEVudHJpZXMucHVzaCgnICAgIChcIlByb2plY3RcIiwgXCJQcm9qZWN0XCIpOiBbXCJQYXJ0bmVyc1dpdGhcIiwgXCJEZXBlbmRzT25cIl0sJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENvbnRlbnQgcmVsYXRpb25zaGlwcyBmb3IgYW55IGVudGl0eVxyXG4gICAgICBpZiAoWydXZWJQYWdlJywgJ05vdGUnLCAnQXJ0aWNsZSddLmluY2x1ZGVzKGVudGl0eVR5cGUpKSB7XHJcbiAgICAgICAgZWRnZU1hcEVudHJpZXMucHVzaChgICAgIChcIiR7ZW50aXR5VHlwZX1cIiwgXCJFbnRpdHlcIik6IFtcIkFib3V0XCJdLGApO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBBZGQgdW5pdmVyc2FsIHJlbGF0aW9uc2hpcHNcclxuICAgIGVkZ2VNYXBFbnRyaWVzLnB1c2goJyAgICAoXCJFbnRpdHlcIiwgXCJFbnRpdHlcIik6IFtcIlRhZ3NcIiwgXCJLbm93c1wiXSwnKTtcclxuXHJcbiAgICAvLyBSZW1vdmUgZHVwbGljYXRlc1xyXG4gICAgY29uc3QgdW5pcXVlRW50cmllcyA9IEFycmF5LmZyb20obmV3IFNldChlZGdlTWFwRW50cmllcykpO1xyXG5cclxuICAgIHJldHVybiBgXHJcbiMgRWRnZSBUeXBlIE1hcCAtIERlZmluZXMgYWxsb3dlZCByZWxhdGlvbnNoaXBzIGJldHdlZW4gZW50aXR5IHR5cGVzXHJcbmVkZ2VfdHlwZV9tYXAgPSB7XHJcbiR7dW5pcXVlRW50cmllcy5qb2luKCdcXG4nKX1cclxufWA7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldFB5dGhvblR5cGUocHJvcDogUHJvcGVydHlTY2hlbWEpOiBzdHJpbmcge1xyXG4gICAgc3dpdGNoIChwcm9wLmluZmVycmVkVHlwZSkge1xyXG4gICAgICBjYXNlICdzdHJpbmcnOiByZXR1cm4gJ3N0cic7XHJcbiAgICAgIGNhc2UgJ251bWJlcic6IHJldHVybiAnZmxvYXQnO1xyXG4gICAgICBjYXNlICdib29sZWFuJzogcmV0dXJuICdib29sJztcclxuICAgICAgY2FzZSAnZGF0ZSc6IHJldHVybiAnZGF0ZXRpbWUnO1xyXG4gICAgICBjYXNlICdhcnJheSc6IHJldHVybiAnTGlzdFtzdHJdJztcclxuICAgICAgY2FzZSAnb2JqZWN0JzogcmV0dXJuICdEaWN0W3N0ciwgQW55XSc7XHJcbiAgICAgIGRlZmF1bHQ6IHJldHVybiAnc3RyJztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdlbmVyYXRlIGFuZCBzYXZlIFB5ZGFudGljIG1vZGVscyB0byB0aGUgUHl0aG9uIGJyaWRnZSBkaXJlY3RvcnlcclxuICAgKi9cclxuICBhc3luYyBnZW5lcmF0ZUFuZFNhdmVNb2RlbHMocGx1Z2luRGlyOiBzdHJpbmcpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbW9kZWxQYXRoOiBzdHJpbmc7IG1lc3NhZ2U6IHN0cmluZyB9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBEaXNjb3ZlciBzY2hlbWFzIGZyb20gdmF1bHRcclxuICAgICAgY29uc3Qgc2NoZW1hcyA9IGF3YWl0IHRoaXMuZGlzY292ZXJBbGxTY2hlbWFzKCk7XHJcblxyXG4gICAgICBpZiAoc2NoZW1hcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICBtb2RlbFBhdGg6ICcnLFxyXG4gICAgICAgICAgbWVzc2FnZTogJ05vIHNjaGVtYXMgZm91bmQgaW4gdmF1bHQuIEFkZCBmcm9udG1hdHRlciB3aXRoIFwidHlwZVwiIGZpZWxkIHRvIHlvdXIgbm90ZXMuJ1xyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEdlbmVyYXRlIFB5ZGFudGljIG1vZGVsc1xyXG4gICAgICBjb25zdCBweWRhbnRpY0NvZGUgPSBhd2FpdCB0aGlzLmdlbmVyYXRlUHlkYW50aWNNb2RlbHMoc2NoZW1hcyk7XHJcblxyXG4gICAgICAvLyBDcmVhdGUgbW9kZWxzIGRpcmVjdG9yeSBwYXRoXHJcbiAgICAgIGNvbnN0IG1vZGVsc0RpciA9IGpvaW4ocGx1Z2luRGlyLCAnZ3JhcGhpdGlfYnJpZGdlJywgJ21vZGVscycpO1xyXG4gICAgICBjb25zdCBtb2RlbFBhdGggPSBqb2luKG1vZGVsc0RpciwgJ2dyYXBoaXRpX21vZGVscy5weScpO1xyXG5cclxuICAgICAgLy8gRW5zdXJlIG1vZGVscyBkaXJlY3RvcnkgZXhpc3RzXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5ta2Rpcihtb2RlbHNEaXIpO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIC8vIERpcmVjdG9yeSBtaWdodCBhbHJlYWR5IGV4aXN0LCB0aGF0J3Mgb2theVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBXcml0ZSB0aGUgbW9kZWxzIGZpbGVcclxuICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci53cml0ZShtb2RlbFBhdGgsIHB5ZGFudGljQ29kZSk7XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgbW9kZWxQYXRoLFxyXG4gICAgICAgIG1lc3NhZ2U6IGBHZW5lcmF0ZWQgJHtzY2hlbWFzLmxlbmd0aH0gZW50aXR5IG1vZGVscyBhbmQgc2F2ZWQgdG8gJHttb2RlbFBhdGh9YFxyXG4gICAgICB9O1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgbW9kZWxQYXRoOiAnJyxcclxuICAgICAgICBtZXNzYWdlOiBgRmFpbGVkIHRvIGdlbmVyYXRlIG1vZGVsczogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHRoZSBwYXRoIHdoZXJlIG1vZGVscyBhcmUgc2F2ZWQgZm9yIHRoZSBQeXRob24gYnJpZGdlXHJcbiAgICovXHJcbiAgZ2V0TW9kZWxzUGF0aChwbHVnaW5EaXI6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gam9pbihwbHVnaW5EaXIsICdncmFwaGl0aV9icmlkZ2UnLCAnbW9kZWxzJywgJ2dyYXBoaXRpX21vZGVscy5weScpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2hlY2sgaWYgbW9kZWxzIGZpbGUgZXhpc3RzIGFuZCBpcyB1cCB0byBkYXRlXHJcbiAgICovXHJcbiAgYXN5bmMgY2hlY2tNb2RlbHNTdGF0dXMocGx1Z2luRGlyOiBzdHJpbmcpOiBQcm9taXNlPHsgZXhpc3RzOiBib29sZWFuOyBtb2RlbHNDb3VudDogbnVtYmVyOyBsYXN0TW9kaWZpZWQ/OiBudW1iZXIgfT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgbW9kZWxQYXRoID0gdGhpcy5nZXRNb2RlbHNQYXRoKHBsdWdpbkRpcik7XHJcbiAgICAgIGNvbnN0IHN0YXQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLnN0YXQobW9kZWxQYXRoKTtcclxuXHJcbiAgICAgIGlmIChzdGF0KSB7XHJcbiAgICAgICAgLy8gVHJ5IHRvIGNvdW50IGVudGl0eSBtb2RlbHMgaW4gdGhlIGZpbGVcclxuICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5yZWFkKG1vZGVsUGF0aCk7XHJcbiAgICAgICAgY29uc3QgbW9kZWxNYXRjaGVzID0gY29udGVudC5tYXRjaCgvY2xhc3NcXHMrXFx3K1xcKEJhc2VFbnRpdHlcXCk6L2cpO1xyXG4gICAgICAgIGNvbnN0IG1vZGVsc0NvdW50ID0gbW9kZWxNYXRjaGVzID8gbW9kZWxNYXRjaGVzLmxlbmd0aCA6IDA7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBleGlzdHM6IHRydWUsXHJcbiAgICAgICAgICBtb2RlbHNDb3VudCxcclxuICAgICAgICAgIGxhc3RNb2RpZmllZDogc3RhdC5tdGltZVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHsgZXhpc3RzOiBmYWxzZSwgbW9kZWxzQ291bnQ6IDAgfTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZXhpc3RzOiBmYWxzZSwgbW9kZWxzQ291bnQ6IDAgfTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vID09PSBWRVNTRUwgQ0xPU0UgPT09IiwiLy8gPT09IFZFU1NFTCBPUEVOID09PVxyXG4vLyBQdXJwb3NlOiBOb3RlIHNlbGVjdGlvbiBhbmQgZmlsdGVyaW5nIHNlcnZpY2UgZm9yIEdyYXBoaXRpIHN5bmNcclxuLy8gSW50ZWdyYXRpb246IFByb3ZpZGVzIG5vdGUgZmlsdGVyaW5nIGNhcGFiaWxpdGllcyBmb3Igc2VsZWN0aXZlIHN5bmMgb3BlcmF0aW9uc1xyXG4vLyBNb2RlOiBDb2RlIC0gU2VydmljZSBmb3IgbWFuYWdpbmcgbm90ZSBzZWxlY3Rpb24gY3JpdGVyaWEgYW5kIGZpbHRlcnNcclxuXHJcbmltcG9ydCB7IEFwcCwgVEZpbGUsIFBsdWdpbiB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IHR5cGUgeyBDYWNoZWRNZXRhZGF0YSB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IHR5cGUgeyBHcmFwaGl0aVBsdWdpblNldHRpbmdzIH0gZnJvbSAnLi4vdHlwZXMvU2V0dGluZ3MnO1xyXG5pbXBvcnQgdHlwZSB7IEdyYXBoaXRpTG9nZ2VyIH0gZnJvbSAnLi4vdXRpbHMvTG9nZ2VyJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTm90ZUZpbHRlckNyaXRlcmlhIHtcclxuICAgIC8vIFR5cGUtYmFzZWQgZmlsdGVyaW5nXHJcbiAgICBpbmNsdWRlVHlwZXM/OiBzdHJpbmdbXTtcclxuICAgIGV4Y2x1ZGVUeXBlcz86IHN0cmluZ1tdO1xyXG5cclxuICAgIC8vIFRhZy1iYXNlZCBmaWx0ZXJpbmdcclxuICAgIGluY2x1ZGVUYWdzPzogc3RyaW5nW107XHJcbiAgICBleGNsdWRlVGFncz86IHN0cmluZ1tdO1xyXG5cclxuICAgIC8vIERhdGUtYmFzZWQgZmlsdGVyaW5nXHJcbiAgICBjcmVhdGVkQWZ0ZXI/OiBEYXRlO1xyXG4gICAgY3JlYXRlZEJlZm9yZT86IERhdGU7XHJcbiAgICBtb2RpZmllZEFmdGVyPzogRGF0ZTtcclxuICAgIG1vZGlmaWVkQmVmb3JlPzogRGF0ZTtcclxuXHJcbiAgICAvLyBQYXRoLWJhc2VkIGZpbHRlcmluZ1xyXG4gICAgaW5jbHVkZVBhdGhzPzogc3RyaW5nW107XHJcbiAgICBleGNsdWRlUGF0aHM/OiBzdHJpbmdbXTtcclxuXHJcbiAgICAvLyBDb250ZW50LWJhc2VkIGZpbHRlcmluZ1xyXG4gICAgaGFzVHlwZT86IGJvb2xlYW47IC8vIE9ubHkgbm90ZXMgd2l0aCB0eXBlIGZyb250bWF0dGVyXHJcbiAgICBoYXNGcm9udG1hdHRlcj86IGJvb2xlYW47IC8vIE9ubHkgbm90ZXMgd2l0aCBhbnkgZnJvbnRtYXR0ZXJcclxuXHJcbiAgICAvLyBTaXplLWJhc2VkIGZpbHRlcmluZ1xyXG4gICAgbWluQ29udGVudExlbmd0aD86IG51bWJlcjtcclxuICAgIG1heENvbnRlbnRMZW5ndGg/OiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTm90ZVNlbGVjdGlvblJlc3VsdCB7XHJcbiAgICBmaWxlOiBURmlsZTtcclxuICAgIHBhdGg6IHN0cmluZztcclxuICAgIHR5cGU/OiBzdHJpbmc7XHJcbiAgICB0YWdzOiBzdHJpbmdbXTtcclxuICAgIGZyb250bWF0dGVyOiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xyXG4gICAgY29udGVudExlbmd0aDogbnVtYmVyO1xyXG4gICAgY3JlYXRlZDogRGF0ZTtcclxuICAgIG1vZGlmaWVkOiBEYXRlO1xyXG4gICAgc2VsZWN0ZWQ6IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTm90ZVNlbGVjdGlvblN1bW1hcnkge1xyXG4gICAgdG90YWxOb3RlczogbnVtYmVyO1xyXG4gICAgc2VsZWN0ZWROb3RlczogbnVtYmVyO1xyXG4gICAgbm90ZXNCeVR5cGU6IFJlY29yZDxzdHJpbmcsIG51bWJlcj47XHJcbiAgICBzZWxlY3RlZEJ5VHlwZTogUmVjb3JkPHN0cmluZywgbnVtYmVyPjtcclxuICAgIGVzdGltYXRlZFN5bmNUaW1lOiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBOb3RlU2VsZWN0aW9uU2VydmljZSB7XHJcbiAgICBwcml2YXRlIGFwcDogQXBwO1xyXG4gICAgcHJpdmF0ZSBwbHVnaW4/OiBQbHVnaW47XHJcbiAgICBwcml2YXRlIGxvZ2dlcj86IEdyYXBoaXRpTG9nZ2VyO1xyXG4gICAgcHJpdmF0ZSBzZWxlY3RlZE5vdGVzOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQoKTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luPzogUGx1Z2luLCBsb2dnZXI/OiBHcmFwaGl0aUxvZ2dlcikge1xyXG4gICAgICAgIHRoaXMuYXBwID0gYXBwO1xyXG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGN1cnJlbnQgcGx1Z2luIHNldHRpbmdzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0U2V0dGluZ3MoKTogR3JhcGhpdGlQbHVnaW5TZXR0aW5ncyB8IG51bGwge1xyXG4gICAgICAgIHJldHVybiAodGhpcy5wbHVnaW4gYXMgYW55KT8uc2V0dGluZ3MgfHwgbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIGEgZmlsZSBwYXRoIHNob3VsZCBiZSBpbmNsdWRlZCBiYXNlZCBvbiBwbHVnaW4gc2V0dGluZ3NcclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgYSBmaWxlIHBhdGggc2hvdWxkIGJlIGluY2x1ZGVkIGJhc2VkIG9uIHBsdWdpbiBzZXR0aW5nc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2hvdWxkSW5jbHVkZUZpbGUoZmlsZVBhdGg6IHN0cmluZywgaW5jbHVkZWRGb2xkZXJzOiBzdHJpbmdbXSwgZXhjbHVkZWRGb2xkZXJzOiBzdHJpbmdbXSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIC8vIENoZWNrIGV4Y2x1ZGVkIGZvbGRlcnMgZmlyc3QgLSB0aGVzZSB0YWtlIHByaW9yaXR5XHJcbiAgICAgICAgaWYgKGV4Y2x1ZGVkRm9sZGVycy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgZXhjbHVkZWRGb2xkZXIgb2YgZXhjbHVkZWRGb2xkZXJzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmlsZVBhdGguc3RhcnRzV2l0aChleGNsdWRlZEZvbGRlciArICcvJykgfHwgZmlsZVBhdGggPT09IGV4Y2x1ZGVkRm9sZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayBpbmNsdWRlZCBmb2xkZXJzIC0gaWYgc3BlY2lmaWVkLCBvbmx5IGluY2x1ZGUgZmlsZXMgaW4gdGhlc2UgZm9sZGVyc1xyXG4gICAgICAgIGlmIChpbmNsdWRlZEZvbGRlcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBsZXQgaXNJbmNsdWRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGluY2x1ZGVkRm9sZGVyIG9mIGluY2x1ZGVkRm9sZGVycykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpbGVQYXRoLnN0YXJ0c1dpdGgoaW5jbHVkZWRGb2xkZXIgKyAnLycpIHx8IGZpbGVQYXRoID09PSBpbmNsdWRlZEZvbGRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzSW5jbHVkZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBpc0luY2x1ZGVkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgbm8gaW5jbHVkZWQgZm9sZGVycyBzcGVjaWZpZWQsIGluY2x1ZGUgYnkgZGVmYXVsdCAodW5sZXNzIGV4Y2x1ZGVkIGFib3ZlKVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGFsbCBub3RlcyB0aGF0IGNhbiBwb3RlbnRpYWxseSBiZSBzeW5jZWQgKHdpdGggdHlwZSBmcm9udG1hdHRlcilcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2V0QWxsU3luY2FibGVOb3RlcygpOiBQcm9taXNlPE5vdGVTZWxlY3Rpb25SZXN1bHRbXT4ge1xyXG4gICAgICAgIGNvbnN0IGZpbGVzID0gdGhpcy5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdHM6IE5vdGVTZWxlY3Rpb25SZXN1bHRbXSA9IFtdO1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gdGhpcy5nZXRTZXR0aW5ncygpO1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZXMpIHtcclxuICAgICAgICAgICAgLy8gT25seSBpbmNsdWRlIG5vdGVzIHdpdGggdHlwZSBmcm9udG1hdHRlciBmb3IgR3JhcGhpdGkgc3luY1xyXG4gICAgICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpO1xyXG4gICAgICAgICAgICBjb25zdCBmcm9udG1hdHRlciA9IG1ldGFkYXRhPy5mcm9udG1hdHRlciB8fCB7fTtcclxuICAgICAgICAgICAgaWYgKCFmcm9udG1hdHRlci50eXBlKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFwcGx5IGZvbGRlciBmaWx0ZXJpbmcgYmFzZWQgb24gcGx1Z2luIHNldHRpbmdzLiBUaGlzIG1ldGhvZCBpcyBwdWJsaWNcclxuICAgICAgICAgICAgLy8gbm93IHNvIGl0IGNhbiBiZSBjYWxsZWQgZnJvbSBTeW5jTW9kYWwuc3ZlbHRlIHByb3Blcmx5LlxyXG4gICAgICAgICAgICBpZiAoIXRoaXMuc2hvdWxkSW5jbHVkZUZpbGUoZmlsZS5wYXRoLCBzZXR0aW5ncz8uaW5jbHVkZWRGb2xkZXJzIHx8IFtdLCBzZXR0aW5ncz8uZXhjbHVkZWRGb2xkZXJzIHx8IFtdKSkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHRhZ3MgPSB0aGlzLmV4dHJhY3RUYWdzKG1ldGFkYXRhKTtcclxuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQoZmlsZSk7XHJcblxyXG4gICAgICAgICAgICByZXN1bHRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgZmlsZSxcclxuICAgICAgICAgICAgICAgIHBhdGg6IGZpbGUucGF0aCxcclxuICAgICAgICAgICAgICAgIHR5cGU6IGZyb250bWF0dGVyLnR5cGUsXHJcbiAgICAgICAgICAgICAgICB0YWdzLFxyXG4gICAgICAgICAgICAgICAgZnJvbnRtYXR0ZXIsXHJcbiAgICAgICAgICAgICAgICBjb250ZW50TGVuZ3RoOiBjb250ZW50Lmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIGNyZWF0ZWQ6IG5ldyBEYXRlKGZpbGUuc3RhdC5jdGltZSksXHJcbiAgICAgICAgICAgICAgICBtb2RpZmllZDogbmV3IERhdGUoZmlsZS5zdGF0Lm10aW1lKSxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkOiB0aGlzLnNlbGVjdGVkTm90ZXMuaGFzKGZpbGUucGF0aClcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0cy5zb3J0KChhLCBiKSA9PiBhLm1vZGlmaWVkLmdldFRpbWUoKSAtIGIubW9kaWZpZWQuZ2V0VGltZSgpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBhbGwgc3luY2FibGUgbm90ZXMgcmVzcGVjdGluZyBzZXR0aW5ncyBmaWx0ZXJzIChjb252ZW5pZW5jZSBtZXRob2QpXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGdldEZpbHRlcmVkU3luY2FibGVOb3RlcygpOiBQcm9taXNlPE5vdGVTZWxlY3Rpb25SZXN1bHRbXT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEFsbFN5bmNhYmxlTm90ZXMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBAdmVzc2VsLXByb3RvY29sOkhlaW1kYWxsIGdvdmVybnM6W3N5bmMtZW5oYW5jZW1lbnR8Zml4XSBjb250ZXh0OkZpeGVkIGF1dG8tc3luYyBmaWx0ZXJpbmcgdG8gcHJvcGVybHkgZGlzdGluZ3Vpc2ggYmV0d2VlbiBuZXcgYW5kIHVwZGF0ZWQgbm90ZXNcclxuICAgIC8vIEBpbnRlci1kZXBlbmRlbmNpZXM6IFtTZXR0aW5ncy50cywgU3luY1JlZ2lzdHJ5U2VydmljZSwgbWFpbi50c11cclxuICAgIC8vIEBwdXJwb3NlOiBGaWx0ZXIgbm90ZXMgYmFzZWQgb24gc3luY09wdGlvbnMgc2V0dGluZyB0byBjb250cm9sIHdoaWNoIG5vdGVzIGFyZSBpbmNsdWRlZCBpbiBhdXRvLXN5bmNcclxuICAgIC8vIEByZXN1bHQ6IFVzZXJzIGNhbiBub3cgcHJvcGVybHkgY2hvb3NlIGJldHdlZW4gc3luY2luZyBvbmx5IG5ldyBub3RlcyBvciBib3RoIG5ldyBhbmQgdXBkYXRlZCBub3Rlc1xyXG4gICAgLy8gQHNpZ25lZDogQy5CasO4cm5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IG5vdGVzIGZpbHRlcmVkIGJ5IHN5bmMgb3B0aW9ucyBzZXR0aW5nIHdpdGggZW5oYW5jZWQgbmV3IHZzIHVwZGF0ZWQgbG9naWNcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2V0Tm90ZXNGb3JBdXRvU3luYyhzeW5jT3B0aW9ucz86ICduZXdfb25seScgfCAnbmV3X2FuZF91cGRhdGVkJyk6IFByb21pc2U8Tm90ZVNlbGVjdGlvblJlc3VsdFtdPiB7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSB0aGlzLmdldFNldHRpbmdzKCk7XHJcbiAgICAgICAgaWYgKCFzZXR0aW5ncykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRBbGxTeW5jYWJsZU5vdGVzKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBhbGxOb3RlcyA9IGF3YWl0IHRoaXMuZ2V0QWxsU3luY2FibGVOb3RlcygpO1xyXG4gICAgICAgIGNvbnN0IGZpbmFsU3luY09wdGlvbnMgPSBzeW5jT3B0aW9ucyB8fCBzZXR0aW5ncy5zeW5jT3B0aW9ucyB8fCAnbmV3X2FuZF91cGRhdGVkJztcclxuXHJcbiAgICAgICAgLy8gRGVidWcgbG9nZ2luZyBmb3Igc3luYyBmaWx0ZXJpbmdcclxuICAgICAgICBjb25zb2xlLmRlYnVnKGBbTm90ZVNlbGVjdGlvbl0gQXV0by1zeW5jIGZpbHRlcmluZzogJHtmaW5hbFN5bmNPcHRpb25zfSwgdG90YWwgbm90ZXM6ICR7YWxsTm90ZXMubGVuZ3RofWApO1xyXG5cclxuICAgICAgICAvLyBJZiBzZXQgdG8gc3luYyBuZXcgb25seSwgZmlsdGVyIG91dCBub3RlcyB0aGF0IGhhdmUgYmVlbiBzeW5jZWQgYmVmb3JlXHJcbiAgICAgICAgaWYgKGZpbmFsU3luY09wdGlvbnMgPT09ICduZXdfb25seScpIHtcclxuICAgICAgICAgICAgY29uc3QgbmV3Tm90ZXMgPSB0aGlzLmZpbHRlck5ld05vdGVzT25seShhbGxOb3Rlcyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtOb3RlU2VsZWN0aW9uXSBOZXctb25seSBmaWx0ZXJpbmc6ICR7bmV3Tm90ZXMubGVuZ3RofSBuZXcgbm90ZXMgZm91bmRgKTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ld05vdGVzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgc2V0IHRvIHN5bmMgbmV3IGFuZCB1cGRhdGVkLCBjb21iaW5lIG5ldyBub3RlcyBhbmQgdXBkYXRlZCBub3Rlc1xyXG4gICAgICAgIGlmIChmaW5hbFN5bmNPcHRpb25zID09PSAnbmV3X2FuZF91cGRhdGVkJykge1xyXG4gICAgICAgICAgICBjb25zdCBuZXdOb3RlcyA9IHRoaXMuZmlsdGVyTmV3Tm90ZXNPbmx5KGFsbE5vdGVzKTtcclxuICAgICAgICAgICAgY29uc3QgdXBkYXRlZE5vdGVzID0gYXdhaXQgdGhpcy5nZXRVcGRhdGVkTm90ZXMoYWxsTm90ZXMpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ29tYmluZSBhbmQgZGVkdXBsaWNhdGUgbm90ZXMgdXNpbmcgU2V0IG9uIGZpbGUgcGF0aHNcclxuICAgICAgICAgICAgY29uc3QgY29tYmluZWRQYXRocyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xyXG4gICAgICAgICAgICBjb25zdCBjb21iaW5lZE5vdGVzOiBOb3RlU2VsZWN0aW9uUmVzdWx0W10gPSBbXTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCBuZXcgbm90ZXMgZmlyc3RcclxuICAgICAgICAgICAgbmV3Tm90ZXMuZm9yRWFjaChub3RlID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbWJpbmVkUGF0aHMuYWRkKG5vdGUucGF0aCk7XHJcbiAgICAgICAgICAgICAgICBjb21iaW5lZE5vdGVzLnB1c2gobm90ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkIHVwZGF0ZWQgbm90ZXMsIGF2b2lkaW5nIGR1cGxpY2F0ZXNcclxuICAgICAgICAgICAgdXBkYXRlZE5vdGVzLmZvckVhY2gobm90ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWNvbWJpbmVkUGF0aHMuaGFzKG5vdGUucGF0aCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21iaW5lZFBhdGhzLmFkZChub3RlLnBhdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbWJpbmVkTm90ZXMucHVzaChub3RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTm90ZVNlbGVjdGlvbl0gTmV3K1VwZGF0ZWQgZmlsdGVyaW5nOiAke25ld05vdGVzLmxlbmd0aH0gbmV3LCAke3VwZGF0ZWROb3Rlcy5sZW5ndGh9IHVwZGF0ZWQsICR7Y29tYmluZWROb3Rlcy5sZW5ndGh9IHRvdGFsIGFmdGVyIGRlZHVwYCk7XHJcbiAgICAgICAgICAgIHJldHVybiBjb21iaW5lZE5vdGVzLnNvcnQoKGEsIGIpID0+IGEubW9kaWZpZWQuZ2V0VGltZSgpIC0gYi5tb2RpZmllZC5nZXRUaW1lKCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGFsbE5vdGVzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRmlsdGVyIG5vdGVzIHRvIG9ubHkgaW5jbHVkZSB0aG9zZSB0aGF0IGhhdmVuJ3QgYmVlbiBzeW5jZWQgYmVmb3JlIG9yIGhhdmUgYmVlbiB1cGRhdGVkIHNpbmNlIGxhc3Qgc3luY1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGZpbHRlck5ld05vdGVzT25seShub3RlczogTm90ZVNlbGVjdGlvblJlc3VsdFtdKTogTm90ZVNlbGVjdGlvblJlc3VsdFtdIHtcclxuICAgICAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIGFjY2VzcyB0byBzeW5jIHJlZ2lzdHJ5IHRocm91Z2ggcGx1Z2luXHJcbiAgICAgICAgY29uc3Qgc3luY1JlZ2lzdHJ5ID0gKHRoaXMucGx1Z2luIGFzIGFueSk/LnN5bmNSZWdpc3RyeVNlcnZpY2U7XHJcbiAgICAgICAgaWYgKCFzeW5jUmVnaXN0cnkpIHtcclxuICAgICAgICAgICAgLy8gSWYgbm8gc3luYyByZWdpc3RyeSBhdmFpbGFibGUsIGNvbnNpZGVyIGFsbCBub3RlcyBhcyBcIm5ld1wiXHJcbiAgICAgICAgICAgIHJldHVybiBub3RlcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHZhdWx0SWQgPSB0aGlzLmFwcC52YXVsdC5nZXROYW1lKCk7XHJcbiAgICAgICAgY29uc3QgY3VycmVudERiVHlwZSA9IHRoaXMuZ2V0Q3VycmVudERhdGFiYXNlVHlwZSgpO1xyXG5cclxuICAgICAgICByZXR1cm4gbm90ZXMuZmlsdGVyKG5vdGUgPT4ge1xyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBub3RlIGhhcyBiZWVuIHN5bmNlZCBiZWZvcmUgYnkgbG9va2luZyBhdCBzeW5jIHJlZ2lzdHJ5XHJcbiAgICAgICAgICAgIGNvbnN0IHN5bmNSZWNvcmQgPSBzeW5jUmVnaXN0cnkuZ2V0U3luY1JlY29yZChub3RlLnBhdGgsIHZhdWx0SWQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFzeW5jUmVjb3JkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBOb3RlIG5vdCBpbiBzeW5jIHJlZ2lzdHJ5ID0gbmV3IG5vdGVcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSdzIGEgc3luYyBlbnRyeSBmb3IgY3VycmVudCBkYXRhYmFzZVxyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RGJTeW5jID0gc3luY1JlY29yZC5zeW5jcy5maW5kKChzeW5jOiBhbnkpID0+IHN5bmMuZGF0YWJhc2VfaWQgPT09IGN1cnJlbnREYlR5cGUpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFjdXJyZW50RGJTeW5jKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBObyBzeW5jIGZvciBjdXJyZW50IGRhdGFiYXNlID0gbmV3IG5vdGUgZm9yIHRoaXMgZGF0YWJhc2VcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBOb3RlIGhhcyBiZWVuIHN5bmNlZCBiZWZvcmUgPSBub3QgbmV3XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBub3RlcyB0aGF0IGhhdmUgYmVlbiB1cGRhdGVkIHNpbmNlIGxhc3Qgc3luYyAoZm9yIG5ld19hbmRfdXBkYXRlZCBtb2RlKVxyXG4gICAgICovXHJcbiAgICBhc3luYyBnZXRVcGRhdGVkTm90ZXMobm90ZXM6IE5vdGVTZWxlY3Rpb25SZXN1bHRbXSk6IFByb21pc2U8Tm90ZVNlbGVjdGlvblJlc3VsdFtdPiB7XHJcbiAgICAgICAgY29uc3Qgc3luY1JlZ2lzdHJ5ID0gKHRoaXMucGx1Z2luIGFzIGFueSk/LnN5bmNSZWdpc3RyeVNlcnZpY2U7XHJcbiAgICAgICAgaWYgKCFzeW5jUmVnaXN0cnkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgdmF1bHRJZCA9IHRoaXMuYXBwLnZhdWx0LmdldE5hbWUoKTtcclxuICAgICAgICBjb25zdCBjdXJyZW50RGJUeXBlID0gdGhpcy5nZXRDdXJyZW50RGF0YWJhc2VUeXBlKCk7XHJcblxyXG4gICAgICAgIHJldHVybiBub3Rlcy5maWx0ZXIobm90ZSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEdldCBtbV91aWQgZnJvbSBmcm9udG1hdHRlciAtIGNvbnNpc3RlbnQgd2l0aCBTeW5jTW9kYWwuc3ZlbHRlIGFwcHJvYWNoXHJcbiAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUobm90ZS5maWxlKTtcclxuICAgICAgICAgICAgY29uc3QgbW1VaWQgPSBtZXRhZGF0YT8uZnJvbnRtYXR0ZXI/Lm1tX3VpZDtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIG5vIG1tX3VpZCwgbm90ZSBoYXMgbmV2ZXIgYmVlbiBzeW5jZWQgKG5ldyBub3RlLCBub3QgdXBkYXRlZClcclxuICAgICAgICAgICAgaWYgKCFtbVVpZCB8fCB0eXBlb2YgbW1VaWQgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFVzZSBtbV91aWQtYmFzZWQgbG9va3VwIGluc3RlYWQgb2YgcGF0aC1iYXNlZCBsb29rdXBcclxuICAgICAgICAgICAgY29uc3Qgc3luY1JlY29yZCA9IHN5bmNSZWdpc3RyeS5nZXRTeW5jUmVjb3JkKG1tVWlkLCB2YXVsdElkKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghc3luY1JlY29yZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RGJTeW5jID0gc3luY1JlY29yZC5zeW5jcy5maW5kKChzeW5jOiBhbnkpID0+IHN5bmMuZGF0YWJhc2VfaWQgPT09IGN1cnJlbnREYlR5cGUpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFjdXJyZW50RGJTeW5jKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIENvbXBhcmUgZmlsZSBtb2RpZmljYXRpb24gdGltZSB3aXRoIGxhc3Qgc3luYyB0aW1lXHJcbiAgICAgICAgICAgIC8vIEFkZCA1LW1pbnV0ZSBidWZmZXIgdG8gYWNjb3VudCBmb3Igc3luYyBwcm9jZXNzIHRvdWNoaW5nIGZpbGVzIHdoZW4gd3JpdGluZyBtbV91aWRcclxuICAgICAgICAgICAgY29uc3QgbGFzdFN5bmNUaW1lID0gbmV3IERhdGUoY3VycmVudERiU3luYy5sYXN0X3N5bmMpO1xyXG4gICAgICAgICAgICBjb25zdCBmaWxlTW9kVGltZSA9IG5vdGUubW9kaWZpZWQ7XHJcbiAgICAgICAgICAgIGNvbnN0IFNZTkNfVE9MRVJBTkNFX01TID0gNSAqIDYwICogMTAwMDsgLy8gNSBtaW51dGVzXHJcblxyXG4gICAgICAgICAgICBjb25zdCBpc1VwZGF0ZWQgPSBmaWxlTW9kVGltZS5nZXRUaW1lKCkgPiAobGFzdFN5bmNUaW1lLmdldFRpbWUoKSArIFNZTkNfVE9MRVJBTkNFX01TKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBpc1VwZGF0ZWQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgY3VycmVudCBkYXRhYmFzZSB0eXBlIGZyb20gc2V0dGluZ3NcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRDdXJyZW50RGF0YWJhc2VUeXBlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSB0aGlzLmdldFNldHRpbmdzKCk7XHJcbiAgICAgICAgcmV0dXJuIHNldHRpbmdzPy5kYXRhYmFzZVR5cGUgfHwgJ25lbzRqJztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIGEgbm90ZSBzaG91bGQgYmUgaW5jbHVkZWQgaW4gYXV0by1zeW5jIGJhc2VkIG9uIHN5bmMgb3B0aW9uc1xyXG4gICAgICovXHJcbiAgICBzaG91bGRJbmNsdWRlSW5BdXRvU3luYyhub3RlUGF0aDogc3RyaW5nLCBzeW5jT3B0aW9uczogJ25ld19vbmx5JyB8ICduZXdfYW5kX3VwZGF0ZWQnID0gJ25ld19hbmRfdXBkYXRlZCcpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAoc3luY09wdGlvbnMgPT09ICduZXdfYW5kX3VwZGF0ZWQnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBJbmNsdWRlIGFsbCBzeW5jYWJsZSBub3Rlc1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHN5bmNPcHRpb25zID09PSAnbmV3X29ubHknKSB7XHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIG5vdGUgaGFzIGJlZW4gc3luY2VkIGJlZm9yZVxyXG4gICAgICAgICAgICBjb25zdCBzeW5jUmVnaXN0cnkgPSAodGhpcy5wbHVnaW4gYXMgYW55KT8uc3luY1JlZ2lzdHJ5U2VydmljZTtcclxuICAgICAgICAgICAgaWYgKCFzeW5jUmVnaXN0cnkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBJZiBubyByZWdpc3RyeSwgY29uc2lkZXIgYXMgbmV3XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHZhdWx0SWQgPSB0aGlzLmFwcC52YXVsdC5nZXROYW1lKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREYlR5cGUgPSB0aGlzLmdldEN1cnJlbnREYXRhYmFzZVR5cGUoKTtcclxuICAgICAgICAgICAgY29uc3Qgc3luY1JlY29yZCA9IHN5bmNSZWdpc3RyeS5nZXRTeW5jUmVjb3JkKG5vdGVQYXRoLCB2YXVsdElkKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghc3luY1JlY29yZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIE5ldyBub3RlXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREYlN5bmMgPSBzeW5jUmVjb3JkLnN5bmNzLmZpbmQoKHN5bmM6IGFueSkgPT4gc3luYy5kYXRhYmFzZV9pZCA9PT0gY3VycmVudERiVHlwZSk7XHJcbiAgICAgICAgICAgIHJldHVybiAhY3VycmVudERiU3luYzsgLy8gSW5jbHVkZSBpZiBub3Qgc3luY2VkIHRvIGN1cnJlbnQgZGF0YWJhc2VcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgLy8gQHZlc3NlbC1jbG9zZTpIZWltZGFsbFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGFsbCBub3RlcyB0aGF0IGFyZSBleGNsdWRlZCBieSBmb2xkZXIgc2V0dGluZ3MgKHJlZ2FyZGxlc3Mgb2YgdHlwZSBmcm9udG1hdHRlcikuXHJcbiAgICAgKiBUaGlzIGlzIHVzZWZ1bCBmb3IgZGlzcGxheWluZyBjb3VudCBvZiBcInByaXZhdGUgZmlsZXNcIi5cclxuICAgICAqL1xyXG4gICAgIGFzeW5jIGdldFByaXZhdGVOb3Rlc0J5Rm9sZGVyKCk6IFByb21pc2U8Tm90ZVNlbGVjdGlvblJlc3VsdFtdPiB7XHJcbiAgICAgICAgY29uc3QgZmlsZXMgPSB0aGlzLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XHJcbiAgICAgICAgY29uc3QgcHJpdmF0ZU5vdGVzOiBOb3RlU2VsZWN0aW9uUmVzdWx0W10gPSBbXTtcclxuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IHRoaXMuZ2V0U2V0dGluZ3MoKTtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XHJcbiAgICAgICAgICAgIC8vIE9ubHkgY29uc2lkZXIgbWFya2Rvd24gZmlsZXMgKFRGaWxlIGVuc3VyZXMgdGhpcylcclxuICAgICAgICAgICAgaWYgKCEoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKSkgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgZmlsZSBpcyBleHBsaWNpdGx5IGV4Y2x1ZGVkIGJ5IGZvbGRlciBzZXR0aW5nc1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuc2hvdWxkSW5jbHVkZUZpbGUoZmlsZS5wYXRoLCBzZXR0aW5ncz8uaW5jbHVkZWRGb2xkZXJzIHx8IFtdLCBzZXR0aW5ncz8uZXhjbHVkZWRGb2xkZXJzIHx8IFtdKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWV0YWRhdGEgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShmaWxlKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZyb250bWF0dGVyID0gbWV0YWRhdGE/LmZyb250bWF0dGVyIHx8IHt9O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGFncyA9IHRoaXMuZXh0cmFjdFRhZ3MobWV0YWRhdGEpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQoZmlsZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcHJpdmF0ZU5vdGVzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbGUsXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogZmlsZS5wYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGZyb250bWF0dGVyLnR5cGUsIC8vIE1heSBvciBtYXkgbm90IGhhdmUgYSB0eXBlXHJcbiAgICAgICAgICAgICAgICAgICAgdGFncyxcclxuICAgICAgICAgICAgICAgICAgICBmcm9udG1hdHRlcixcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50TGVuZ3RoOiBjb250ZW50Lmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVkOiBuZXcgRGF0ZShmaWxlLnN0YXQuY3RpbWUpLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkOiBuZXcgRGF0ZShmaWxlLnN0YXQubXRpbWUpLFxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkOiBmYWxzZSwgLy8gTm90IGFwcGxpY2FibGUgZm9yIHRoaXMgdmlld1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHByaXZhdGVOb3Rlcy5zb3J0KChhLCBiKSA9PiBhLnBhdGgubG9jYWxlQ29tcGFyZShiLnBhdGgpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBhbGwgbm90ZXMgdGhhdCBhcmUgZXhjbHVkZWQgYnkgZm9sZGVyIHNldHRpbmdzIChyZWdhcmRsZXNzIG9mIHR5cGUgZnJvbnRtYXR0ZXIpLlxyXG4gICAgICogVGhpcyBpcyB1c2VmdWwgZm9yIGRpc3BsYXlpbmcgY291bnQgb2YgXCJwcml2YXRlIGZpbGVzXCIuXHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBub3RlIGZpbHRlciBjcml0ZXJpYSBmcm9tIGN1cnJlbnQgcGx1Z2luIHNldHRpbmdzXHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZVNldHRpbmdzQmFzZWRDcml0ZXJpYSgpOiBOb3RlRmlsdGVyQ3JpdGVyaWEge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gdGhpcy5nZXRTZXR0aW5ncygpO1xyXG4gICAgICAgIGlmICghc2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY3JpdGVyaWE6IE5vdGVGaWx0ZXJDcml0ZXJpYSA9IHt9O1xyXG5cclxuICAgICAgICAvLyBBZGQgZm9sZGVyLWJhc2VkIGZpbHRlcmluZ1xyXG4gICAgICAgIGlmIChzZXR0aW5ncy5pbmNsdWRlZEZvbGRlcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBjcml0ZXJpYS5pbmNsdWRlUGF0aHMgPSBzZXR0aW5ncy5pbmNsdWRlZEZvbGRlcnM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoc2V0dGluZ3MuZXhjbHVkZWRGb2xkZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY3JpdGVyaWEuZXhjbHVkZVBhdGhzID0gc2V0dGluZ3MuZXhjbHVkZWRGb2xkZXJzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNyaXRlcmlhO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRmlsdGVyIG5vdGVzIGJhc2VkIG9uIGNyaXRlcmlhXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGZpbHRlck5vdGVzKGNyaXRlcmlhOiBOb3RlRmlsdGVyQ3JpdGVyaWEpOiBQcm9taXNlPE5vdGVTZWxlY3Rpb25SZXN1bHRbXT4ge1xyXG4gICAgICAgIGNvbnN0IGFsbE5vdGVzID0gYXdhaXQgdGhpcy5nZXRBbGxTeW5jYWJsZU5vdGVzKCk7XHJcblxyXG4gICAgICAgIHJldHVybiBhbGxOb3Rlcy5maWx0ZXIobm90ZSA9PiB7XHJcbiAgICAgICAgICAgIC8vIFR5cGUgZmlsdGVyaW5nXHJcbiAgICAgICAgICAgIGlmIChjcml0ZXJpYS5pbmNsdWRlVHlwZXMgJiYgY3JpdGVyaWEuaW5jbHVkZVR5cGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGlmICghbm90ZS50eXBlIHx8ICFjcml0ZXJpYS5pbmNsdWRlVHlwZXMuaW5jbHVkZXMobm90ZS50eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGNyaXRlcmlhLmV4Y2x1ZGVUeXBlcyAmJiBjcml0ZXJpYS5leGNsdWRlVHlwZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vdGUudHlwZSAmJiBjcml0ZXJpYS5leGNsdWRlVHlwZXMuaW5jbHVkZXMobm90ZS50eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gVGFnIGZpbHRlcmluZ1xyXG4gICAgICAgICAgICBpZiAoY3JpdGVyaWEuaW5jbHVkZVRhZ3MgJiYgY3JpdGVyaWEuaW5jbHVkZVRhZ3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzSW5jbHVkZWRUYWcgPSBjcml0ZXJpYS5pbmNsdWRlVGFncy5zb21lKHRhZyA9PiBub3RlLnRhZ3MuaW5jbHVkZXModGFnKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWhhc0luY2x1ZGVkVGFnKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChjcml0ZXJpYS5leGNsdWRlVGFncyAmJiBjcml0ZXJpYS5leGNsdWRlVGFncy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNFeGNsdWRlZFRhZyA9IGNyaXRlcmlhLmV4Y2x1ZGVUYWdzLnNvbWUodGFnID0+IG5vdGUudGFncy5pbmNsdWRlcyh0YWcpKTtcclxuICAgICAgICAgICAgICAgIGlmIChoYXNFeGNsdWRlZFRhZykgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBEYXRlIGZpbHRlcmluZ1xyXG4gICAgICAgICAgICBpZiAoY3JpdGVyaWEuY3JlYXRlZEFmdGVyICYmIG5vdGUuY3JlYXRlZCA8IGNyaXRlcmlhLmNyZWF0ZWRBZnRlcikgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAoY3JpdGVyaWEuY3JlYXRlZEJlZm9yZSAmJiBub3RlLmNyZWF0ZWQgPiBjcml0ZXJpYS5jcmVhdGVkQmVmb3JlKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmIChjcml0ZXJpYS5tb2RpZmllZEFmdGVyICYmIG5vdGUubW9kaWZpZWQgPCBjcml0ZXJpYS5tb2RpZmllZEFmdGVyKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmIChjcml0ZXJpYS5tb2RpZmllZEJlZm9yZSAmJiBub3RlLm1vZGlmaWVkID4gY3JpdGVyaWEubW9kaWZpZWRCZWZvcmUpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIC8vIFBhdGggZmlsdGVyaW5nXHJcbiAgICAgICAgICAgIGlmIChjcml0ZXJpYS5pbmNsdWRlUGF0aHMgJiYgY3JpdGVyaWEuaW5jbHVkZVBhdGhzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoZXNQYXRoID0gY3JpdGVyaWEuaW5jbHVkZVBhdGhzLnNvbWUocGF0aCA9PlxyXG4gICAgICAgICAgICAgICAgICAgIG5vdGUucGF0aC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHBhdGgudG9Mb3dlckNhc2UoKSlcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIW1hdGNoZXNQYXRoKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChjcml0ZXJpYS5leGNsdWRlUGF0aHMgJiYgY3JpdGVyaWEuZXhjbHVkZVBhdGhzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoZXNFeGNsdWRlZFBhdGggPSBjcml0ZXJpYS5leGNsdWRlUGF0aHMuc29tZShwYXRoID0+XHJcbiAgICAgICAgICAgICAgICAgICAgbm90ZS5wYXRoLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocGF0aC50b0xvd2VyQ2FzZSgpKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGlmIChtYXRjaGVzRXhjbHVkZWRQYXRoKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIENvbnRlbnQgZmlsdGVyaW5nXHJcbiAgICAgICAgICAgIGlmIChjcml0ZXJpYS5oYXNUeXBlICE9PSB1bmRlZmluZWQgJiYgY3JpdGVyaWEuaGFzVHlwZSAmJiAhbm90ZS50eXBlKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmIChjcml0ZXJpYS5oYXNGcm9udG1hdHRlciAhPT0gdW5kZWZpbmVkICYmIGNyaXRlcmlhLmhhc0Zyb250bWF0dGVyICYmIE9iamVjdC5rZXlzKG5vdGUuZnJvbnRtYXR0ZXIpLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgLy8gU2l6ZSBmaWx0ZXJpbmdcclxuICAgICAgICAgICAgaWYgKGNyaXRlcmlhLm1pbkNvbnRlbnRMZW5ndGggIT09IHVuZGVmaW5lZCAmJiBub3RlLmNvbnRlbnRMZW5ndGggPCBjcml0ZXJpYS5taW5Db250ZW50TGVuZ3RoKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmIChjcml0ZXJpYS5tYXhDb250ZW50TGVuZ3RoICE9PSB1bmRlZmluZWQgJiYgbm90ZS5jb250ZW50TGVuZ3RoID4gY3JpdGVyaWEubWF4Q29udGVudExlbmd0aCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYXZhaWxhYmxlIHR5cGVzIGluIHRoZSB2YXVsdFxyXG4gICAgICovXHJcbiAgICBhc3luYyBnZXRBdmFpbGFibGVUeXBlcygpOiBQcm9taXNlPHN0cmluZ1tdPiB7XHJcbiAgICAgICAgY29uc3Qgbm90ZXMgPSBhd2FpdCB0aGlzLmdldEFsbFN5bmNhYmxlTm90ZXMoKTtcclxuICAgICAgICBjb25zdCB0eXBlcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xyXG5cclxuICAgICAgICBub3Rlcy5mb3JFYWNoKG5vdGUgPT4ge1xyXG4gICAgICAgICAgICBpZiAobm90ZS50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICB0eXBlcy5hZGQobm90ZS50eXBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0eXBlcykuc29ydCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGF2YWlsYWJsZSB0YWdzIGluIHRoZSB2YXVsdFxyXG4gICAgICovXHJcbiAgICBhc3luYyBnZXRBdmFpbGFibGVUYWdzKCk6IFByb21pc2U8c3RyaW5nW10+IHtcclxuICAgICAgICBjb25zdCBub3RlcyA9IGF3YWl0IHRoaXMuZ2V0QWxsU3luY2FibGVOb3RlcygpO1xyXG4gICAgICAgIGNvbnN0IHRhZ3MgPSBuZXcgU2V0PHN0cmluZz4oKTtcclxuXHJcbiAgICAgICAgbm90ZXMuZm9yRWFjaChub3RlID0+IHtcclxuICAgICAgICAgICAgbm90ZS50YWdzLmZvckVhY2godGFnID0+IHRhZ3MuYWRkKHRhZykpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0YWdzKS5zb3J0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZWxlY3Qgbm90ZXMgZm9yIHN5bmNcclxuICAgICAqL1xyXG4gICAgc2VsZWN0Tm90ZXMobm90ZVBhdGhzOiBzdHJpbmdbXSk6IHZvaWQge1xyXG4gICAgICAgIG5vdGVQYXRocy5mb3JFYWNoKHBhdGggPT4gdGhpcy5zZWxlY3RlZE5vdGVzLmFkZChwYXRoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXNlbGVjdCBub3RlcyBmcm9tIHN5bmNcclxuICAgICAqL1xyXG4gICAgZGVzZWxlY3ROb3Rlcyhub3RlUGF0aHM6IHN0cmluZ1tdKTogdm9pZCB7XHJcbiAgICAgICAgbm90ZVBhdGhzLmZvckVhY2gocGF0aCA9PiB0aGlzLnNlbGVjdGVkTm90ZXMuZGVsZXRlKHBhdGgpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRvZ2dsZSBub3RlIHNlbGVjdGlvblxyXG4gICAgICovXHJcbiAgICB0b2dnbGVOb3RlU2VsZWN0aW9uKG5vdGVQYXRoOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZE5vdGVzLmhhcyhub3RlUGF0aCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE5vdGVzLmRlbGV0ZShub3RlUGF0aCk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkTm90ZXMuYWRkKG5vdGVQYXRoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2VsZWN0IGFsbCBub3RlcyBtYXRjaGluZyBjcml0ZXJpYVxyXG4gICAgICovXHJcbiAgICBhc3luYyBzZWxlY3RBbGxNYXRjaGluZyhjcml0ZXJpYTogTm90ZUZpbHRlckNyaXRlcmlhKTogUHJvbWlzZTxudW1iZXI+IHtcclxuICAgICAgICBjb25zdCBtYXRjaGluZ05vdGVzID0gYXdhaXQgdGhpcy5maWx0ZXJOb3Rlcyhjcml0ZXJpYSk7XHJcbiAgICAgICAgY29uc3QgcGF0aHMgPSBtYXRjaGluZ05vdGVzLm1hcChub3RlID0+IG5vdGUucGF0aCk7XHJcbiAgICAgICAgdGhpcy5zZWxlY3ROb3RlcyhwYXRocyk7XHJcblxyXG4gICAgICAgIHJldHVybiBwYXRocy5sZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDbGVhciBhbGwgc2VsZWN0aW9uc1xyXG4gICAgICovXHJcbiAgICBjbGVhclNlbGVjdGlvbigpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkTm90ZXMuY2xlYXIoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBjdXJyZW50bHkgc2VsZWN0ZWQgbm90ZSBwYXRoc1xyXG4gICAgICovXHJcbiAgICBnZXRTZWxlY3RlZE5vdGVQYXRocygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5zZWxlY3RlZE5vdGVzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBzZWxlY3Rpb24gc3VtbWFyeVxyXG4gICAgICovXHJcbiAgICBhc3luYyBnZXRTZWxlY3Rpb25TdW1tYXJ5KCk6IFByb21pc2U8Tm90ZVNlbGVjdGlvblN1bW1hcnk+IHtcclxuICAgICAgICBjb25zdCBhbGxOb3RlcyA9IGF3YWl0IHRoaXMuZ2V0QWxsU3luY2FibGVOb3RlcygpO1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkUGF0aHMgPSB0aGlzLmdldFNlbGVjdGVkTm90ZVBhdGhzKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IG5vdGVzQnlUeXBlOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRCeVR5cGU6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fTtcclxuXHJcbiAgICAgICAgYWxsTm90ZXMuZm9yRWFjaChub3RlID0+IHtcclxuICAgICAgICAgICAgaWYgKG5vdGUudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgbm90ZXNCeVR5cGVbbm90ZS50eXBlXSA9IChub3Rlc0J5VHlwZVtub3RlLnR5cGVdIHx8IDApICsgMTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRQYXRocy5pbmNsdWRlcyhub3RlLnBhdGgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRCeVR5cGVbbm90ZS50eXBlXSA9IChzZWxlY3RlZEJ5VHlwZVtub3RlLnR5cGVdIHx8IDApICsgMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBFc3RpbWF0ZSBzeW5jIHRpbWUgKHJvdWdoIGNhbGN1bGF0aW9uOiB+MS0yIHNlY29uZHMgcGVyIG5vdGUpXHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRDb3VudCA9IHNlbGVjdGVkUGF0aHMubGVuZ3RoO1xyXG4gICAgICAgIGNvbnN0IGVzdGltYXRlZE1pbnV0ZXMgPSBNYXRoLmNlaWwoc2VsZWN0ZWRDb3VudCAqIDEuNSAvIDYwKTtcclxuICAgICAgICBjb25zdCBlc3RpbWF0ZWRTeW5jVGltZSA9IHNlbGVjdGVkQ291bnQgPT09IDAgPyAnMCBzZWNvbmRzJyA6XHJcbiAgICAgICAgICAgIGVzdGltYXRlZE1pbnV0ZXMgPCAxID8gYCR7c2VsZWN0ZWRDb3VudCAqIDEuNX0gc2Vjb25kc2AgOlxyXG4gICAgICAgICAgICBlc3RpbWF0ZWRNaW51dGVzID09PSAxID8gJzEgbWludXRlJyA6IGAke2VzdGltYXRlZE1pbnV0ZXN9IG1pbnV0ZXNgO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0b3RhbE5vdGVzOiBhbGxOb3Rlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgIHNlbGVjdGVkTm90ZXM6IHNlbGVjdGVkQ291bnQsXHJcbiAgICAgICAgICAgIG5vdGVzQnlUeXBlLFxyXG4gICAgICAgICAgICBzZWxlY3RlZEJ5VHlwZSxcclxuICAgICAgICAgICAgZXN0aW1hdGVkU3luY1RpbWVcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IG5vdGVzIGJ5IHR5cGUgZm9yIHF1aWNrIGZpbHRlcmluZ1xyXG4gICAgICovXHJcbiAgICBhc3luYyBnZXROb3Rlc0J5VHlwZSgpOiBQcm9taXNlPFJlY29yZDxzdHJpbmcsIE5vdGVTZWxlY3Rpb25SZXN1bHRbXT4+IHtcclxuICAgICAgICBjb25zdCBub3RlcyA9IGF3YWl0IHRoaXMuZ2V0QWxsU3luY2FibGVOb3RlcygpO1xyXG4gICAgICAgIGNvbnN0IGJ5VHlwZTogUmVjb3JkPHN0cmluZywgTm90ZVNlbGVjdGlvblJlc3VsdFtdPiA9IHt9O1xyXG5cclxuICAgICAgICBub3Rlcy5mb3JFYWNoKG5vdGUgPT4ge1xyXG4gICAgICAgICAgICBpZiAobm90ZS50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWJ5VHlwZVtub3RlLnR5cGVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnlUeXBlW25vdGUudHlwZV0gPSBbXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJ5VHlwZVtub3RlLnR5cGVdLnB1c2gobm90ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGJ5VHlwZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBxdWljayBzZWxlY3Rpb24gcHJlc2V0c1xyXG4gICAgICovXHJcbiAgICBhc3luYyBjcmVhdGVTZWxlY3Rpb25QcmVzZXRzKCk6IFByb21pc2U8UmVjb3JkPHN0cmluZywgTm90ZUZpbHRlckNyaXRlcmlhPj4ge1xyXG4gICAgICAgIGNvbnN0IHR5cGVzID0gYXdhaXQgdGhpcy5nZXRBdmFpbGFibGVUeXBlcygpO1xyXG4gICAgICAgIGNvbnN0IHByZXNldHM6IFJlY29yZDxzdHJpbmcsIE5vdGVGaWx0ZXJDcml0ZXJpYT4gPSB7XHJcbiAgICAgICAgICAgICdBbGwgTm90ZXMnOiB7fSxcclxuICAgICAgICAgICAgJ1JlY2VudGx5IE1vZGlmaWVkJzoge1xyXG4gICAgICAgICAgICAgICAgbW9kaWZpZWRBZnRlcjogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKSAvLyBMYXN0IDcgZGF5c1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnUmVjZW50IENvbnRlbnQnOiB7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVkQWZ0ZXI6IG5ldyBEYXRlKERhdGUubm93KCkgLSAzMCAqIDI0ICogNjAgKiA2MCAqIDEwMDApIC8vIExhc3QgMzAgZGF5c1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gQWRkIHR5cGUtc3BlY2lmaWMgcHJlc2V0c1xyXG4gICAgICAgIHR5cGVzLmZvckVhY2godHlwZSA9PiB7XHJcbiAgICAgICAgICAgIHByZXNldHNbYCR7dHlwZX0gT25seWBdID0ge1xyXG4gICAgICAgICAgICAgICAgaW5jbHVkZVR5cGVzOiBbdHlwZV1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHByZXNldHM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBWYWxpZGF0ZSBzZWxlY3Rpb24gZm9yIHN5bmNcclxuICAgICAqL1xyXG4gICAgYXN5bmMgdmFsaWRhdGVTZWxlY3Rpb24oKTogUHJvbWlzZTx7IGlzVmFsaWQ6IGJvb2xlYW47IHdhcm5pbmdzOiBzdHJpbmdbXTsgZXJyb3JzOiBzdHJpbmdbXSB9PiB7XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRQYXRocyA9IHRoaXMuZ2V0U2VsZWN0ZWROb3RlUGF0aHMoKTtcclxuICAgICAgICBjb25zdCB3YXJuaW5nczogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW107XHJcblxyXG4gICAgICAgIGlmIChzZWxlY3RlZFBhdGhzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICBlcnJvcnMucHVzaCgnTm8gbm90ZXMgc2VsZWN0ZWQgZm9yIHN5bmMnKTtcclxuICAgICAgICAgICAgcmV0dXJuIHsgaXNWYWxpZDogZmFsc2UsIHdhcm5pbmdzLCBlcnJvcnMgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHNlbGVjdGVkIGZpbGVzIHN0aWxsIGV4aXN0XHJcbiAgICAgICAgY29uc3QgbWlzc2luZ0ZpbGVzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgIGZvciAoY29uc3QgcGF0aCBvZiBzZWxlY3RlZFBhdGhzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgocGF0aCk7XHJcbiAgICAgICAgICAgIGlmICghZmlsZSB8fCAhKGZpbGUgaW5zdGFuY2VvZiBURmlsZSkpIHtcclxuICAgICAgICAgICAgICAgIG1pc3NpbmdGaWxlcy5wdXNoKHBhdGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobWlzc2luZ0ZpbGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgZXJyb3JzLnB1c2goYE1pc3NpbmcgZmlsZXM6ICR7bWlzc2luZ0ZpbGVzLmpvaW4oJywgJyl9YCk7XHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBtaXNzaW5nIGZpbGVzIGZyb20gc2VsZWN0aW9uXHJcbiAgICAgICAgICAgIHRoaXMuZGVzZWxlY3ROb3RlcyhtaXNzaW5nRmlsZXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUGVyZm9ybWFuY2Ugd2FybmluZ3NcclxuICAgICAgICBpZiAoc2VsZWN0ZWRQYXRocy5sZW5ndGggPiAxMDApIHtcclxuICAgICAgICAgICAgd2FybmluZ3MucHVzaChgTGFyZ2Ugc2VsZWN0aW9uICgke3NlbGVjdGVkUGF0aHMubGVuZ3RofSBub3RlcykgbWF5IHRha2Ugc2lnbmlmaWNhbnQgdGltZSB0byBzeW5jYCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayBmb3IgdmVyeSBsYXJnZSBmaWxlc1xyXG4gICAgICAgIGNvbnN0IGxhcmdlRmlsZXM6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgY29uc3Qgbm90ZXMgPSBhd2FpdCB0aGlzLmdldEFsbFN5bmNhYmxlTm90ZXMoKTtcclxuICAgICAgICBub3Rlcy5mb3JFYWNoKG5vdGUgPT4ge1xyXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRQYXRocy5pbmNsdWRlcyhub3RlLnBhdGgpICYmIG5vdGUuY29udGVudExlbmd0aCA+IDUwMDAwKSB7XHJcbiAgICAgICAgICAgICAgICBsYXJnZUZpbGVzLnB1c2goYCR7bm90ZS5wYXRofSAoJHtNYXRoLnJvdW5kKG5vdGUuY29udGVudExlbmd0aCAvIDEwMDApfUtCKWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChsYXJnZUZpbGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgd2FybmluZ3MucHVzaChgTGFyZ2UgZmlsZXMgZGV0ZWN0ZWQ6ICR7bGFyZ2VGaWxlcy5qb2luKCcsICcpfWApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaXNWYWxpZDogZXJyb3JzLmxlbmd0aCA9PT0gMCxcclxuICAgICAgICAgICAgd2FybmluZ3MsXHJcbiAgICAgICAgICAgIGVycm9yc1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFeHRyYWN0IHRhZ3MgZnJvbSBub3RlIG1ldGFkYXRhXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZXh0cmFjdFRhZ3MobWV0YWRhdGE6IENhY2hlZE1ldGFkYXRhIHwgbnVsbCk6IHN0cmluZ1tdIHtcclxuICAgICAgICBpZiAoIW1ldGFkYXRhKSByZXR1cm4gW107XHJcblxyXG4gICAgICAgIGNvbnN0IHRhZ3M6IHN0cmluZ1tdID0gW107XHJcblxyXG4gICAgICAgIC8vIEZyb20gZnJvbnRtYXR0ZXIgdGFnc1xyXG4gICAgICAgIGlmIChtZXRhZGF0YS5mcm9udG1hdHRlcj8udGFncykge1xyXG4gICAgICAgICAgICBjb25zdCBmcm9udG1hdHRlclRhZ3MgPSBBcnJheS5pc0FycmF5KG1ldGFkYXRhLmZyb250bWF0dGVyLnRhZ3MpXHJcbiAgICAgICAgICAgICAgICA/IG1ldGFkYXRhLmZyb250bWF0dGVyLnRhZ3NcclxuICAgICAgICAgICAgICAgIDogW21ldGFkYXRhLmZyb250bWF0dGVyLnRhZ3NdO1xyXG4gICAgICAgICAgICB0YWdzLnB1c2goLi4uZnJvbnRtYXR0ZXJUYWdzLm1hcCh0YWcgPT4gU3RyaW5nKHRhZykpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEZyb20gaW5saW5lIHRhZ3NcclxuICAgICAgICBpZiAobWV0YWRhdGEudGFncykge1xyXG4gICAgICAgICAgICB0YWdzLnB1c2goLi4ubWV0YWRhdGEudGFncy5tYXAodGFnID0+IHRhZy50YWcucmVwbGFjZSgnIycsICcnKSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIFsuLi5uZXcgU2V0KHRhZ3MpXS5maWx0ZXIodGFnID0+IHRhZy50cmltKCkubGVuZ3RoID4gMCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vID09PSBWRVNTRUwgQ0xPU0UgPT09IiwiXG4vKiEganMteWFtbCA0LjEuMCBodHRwczovL2dpdGh1Yi5jb20vbm9kZWNhL2pzLXlhbWwgQGxpY2Vuc2UgTUlUICovXG5mdW5jdGlvbiBpc05vdGhpbmcoc3ViamVjdCkge1xuICByZXR1cm4gKHR5cGVvZiBzdWJqZWN0ID09PSAndW5kZWZpbmVkJykgfHwgKHN1YmplY3QgPT09IG51bGwpO1xufVxuXG5cbmZ1bmN0aW9uIGlzT2JqZWN0KHN1YmplY3QpIHtcbiAgcmV0dXJuICh0eXBlb2Ygc3ViamVjdCA9PT0gJ29iamVjdCcpICYmIChzdWJqZWN0ICE9PSBudWxsKTtcbn1cblxuXG5mdW5jdGlvbiB0b0FycmF5KHNlcXVlbmNlKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHNlcXVlbmNlKSkgcmV0dXJuIHNlcXVlbmNlO1xuICBlbHNlIGlmIChpc05vdGhpbmcoc2VxdWVuY2UpKSByZXR1cm4gW107XG5cbiAgcmV0dXJuIFsgc2VxdWVuY2UgXTtcbn1cblxuXG5mdW5jdGlvbiBleHRlbmQodGFyZ2V0LCBzb3VyY2UpIHtcbiAgdmFyIGluZGV4LCBsZW5ndGgsIGtleSwgc291cmNlS2V5cztcblxuICBpZiAoc291cmNlKSB7XG4gICAgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG5cbiAgICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gc291cmNlS2V5cy5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgICBrZXkgPSBzb3VyY2VLZXlzW2luZGV4XTtcbiAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuXG5mdW5jdGlvbiByZXBlYXQoc3RyaW5nLCBjb3VudCkge1xuICB2YXIgcmVzdWx0ID0gJycsIGN5Y2xlO1xuXG4gIGZvciAoY3ljbGUgPSAwOyBjeWNsZSA8IGNvdW50OyBjeWNsZSArPSAxKSB7XG4gICAgcmVzdWx0ICs9IHN0cmluZztcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cblxuZnVuY3Rpb24gaXNOZWdhdGl2ZVplcm8obnVtYmVyKSB7XG4gIHJldHVybiAobnVtYmVyID09PSAwKSAmJiAoTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZID09PSAxIC8gbnVtYmVyKTtcbn1cblxuXG52YXIgaXNOb3RoaW5nXzEgICAgICA9IGlzTm90aGluZztcbnZhciBpc09iamVjdF8xICAgICAgID0gaXNPYmplY3Q7XG52YXIgdG9BcnJheV8xICAgICAgICA9IHRvQXJyYXk7XG52YXIgcmVwZWF0XzEgICAgICAgICA9IHJlcGVhdDtcbnZhciBpc05lZ2F0aXZlWmVyb18xID0gaXNOZWdhdGl2ZVplcm87XG52YXIgZXh0ZW5kXzEgICAgICAgICA9IGV4dGVuZDtcblxudmFyIGNvbW1vbiA9IHtcblx0aXNOb3RoaW5nOiBpc05vdGhpbmdfMSxcblx0aXNPYmplY3Q6IGlzT2JqZWN0XzEsXG5cdHRvQXJyYXk6IHRvQXJyYXlfMSxcblx0cmVwZWF0OiByZXBlYXRfMSxcblx0aXNOZWdhdGl2ZVplcm86IGlzTmVnYXRpdmVaZXJvXzEsXG5cdGV4dGVuZDogZXh0ZW5kXzFcbn07XG5cbi8vIFlBTUwgZXJyb3IgY2xhc3MuIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvODQ1ODk4NFxuXG5cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKGV4Y2VwdGlvbiwgY29tcGFjdCkge1xuICB2YXIgd2hlcmUgPSAnJywgbWVzc2FnZSA9IGV4Y2VwdGlvbi5yZWFzb24gfHwgJyh1bmtub3duIHJlYXNvbiknO1xuXG4gIGlmICghZXhjZXB0aW9uLm1hcmspIHJldHVybiBtZXNzYWdlO1xuXG4gIGlmIChleGNlcHRpb24ubWFyay5uYW1lKSB7XG4gICAgd2hlcmUgKz0gJ2luIFwiJyArIGV4Y2VwdGlvbi5tYXJrLm5hbWUgKyAnXCIgJztcbiAgfVxuXG4gIHdoZXJlICs9ICcoJyArIChleGNlcHRpb24ubWFyay5saW5lICsgMSkgKyAnOicgKyAoZXhjZXB0aW9uLm1hcmsuY29sdW1uICsgMSkgKyAnKSc7XG5cbiAgaWYgKCFjb21wYWN0ICYmIGV4Y2VwdGlvbi5tYXJrLnNuaXBwZXQpIHtcbiAgICB3aGVyZSArPSAnXFxuXFxuJyArIGV4Y2VwdGlvbi5tYXJrLnNuaXBwZXQ7XG4gIH1cblxuICByZXR1cm4gbWVzc2FnZSArICcgJyArIHdoZXJlO1xufVxuXG5cbmZ1bmN0aW9uIFlBTUxFeGNlcHRpb24kMShyZWFzb24sIG1hcmspIHtcbiAgLy8gU3VwZXIgY29uc3RydWN0b3JcbiAgRXJyb3IuY2FsbCh0aGlzKTtcblxuICB0aGlzLm5hbWUgPSAnWUFNTEV4Y2VwdGlvbic7XG4gIHRoaXMucmVhc29uID0gcmVhc29uO1xuICB0aGlzLm1hcmsgPSBtYXJrO1xuICB0aGlzLm1lc3NhZ2UgPSBmb3JtYXRFcnJvcih0aGlzLCBmYWxzZSk7XG5cbiAgLy8gSW5jbHVkZSBzdGFjayB0cmFjZSBpbiBlcnJvciBvYmplY3RcbiAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgLy8gQ2hyb21lIGFuZCBOb2RlSlNcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCB0aGlzLmNvbnN0cnVjdG9yKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBGRiwgSUUgMTArIGFuZCBTYWZhcmkgNisuIEZhbGxiYWNrIGZvciBvdGhlcnNcbiAgICB0aGlzLnN0YWNrID0gKG5ldyBFcnJvcigpKS5zdGFjayB8fCAnJztcbiAgfVxufVxuXG5cbi8vIEluaGVyaXQgZnJvbSBFcnJvclxuWUFNTEV4Y2VwdGlvbiQxLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcbllBTUxFeGNlcHRpb24kMS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBZQU1MRXhjZXB0aW9uJDE7XG5cblxuWUFNTEV4Y2VwdGlvbiQxLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKGNvbXBhY3QpIHtcbiAgcmV0dXJuIHRoaXMubmFtZSArICc6ICcgKyBmb3JtYXRFcnJvcih0aGlzLCBjb21wYWN0KTtcbn07XG5cblxudmFyIGV4Y2VwdGlvbiA9IFlBTUxFeGNlcHRpb24kMTtcblxuLy8gZ2V0IHNuaXBwZXQgZm9yIGEgc2luZ2xlIGxpbmUsIHJlc3BlY3RpbmcgbWF4TGVuZ3RoXG5mdW5jdGlvbiBnZXRMaW5lKGJ1ZmZlciwgbGluZVN0YXJ0LCBsaW5lRW5kLCBwb3NpdGlvbiwgbWF4TGluZUxlbmd0aCkge1xuICB2YXIgaGVhZCA9ICcnO1xuICB2YXIgdGFpbCA9ICcnO1xuICB2YXIgbWF4SGFsZkxlbmd0aCA9IE1hdGguZmxvb3IobWF4TGluZUxlbmd0aCAvIDIpIC0gMTtcblxuICBpZiAocG9zaXRpb24gLSBsaW5lU3RhcnQgPiBtYXhIYWxmTGVuZ3RoKSB7XG4gICAgaGVhZCA9ICcgLi4uICc7XG4gICAgbGluZVN0YXJ0ID0gcG9zaXRpb24gLSBtYXhIYWxmTGVuZ3RoICsgaGVhZC5sZW5ndGg7XG4gIH1cblxuICBpZiAobGluZUVuZCAtIHBvc2l0aW9uID4gbWF4SGFsZkxlbmd0aCkge1xuICAgIHRhaWwgPSAnIC4uLic7XG4gICAgbGluZUVuZCA9IHBvc2l0aW9uICsgbWF4SGFsZkxlbmd0aCAtIHRhaWwubGVuZ3RoO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzdHI6IGhlYWQgKyBidWZmZXIuc2xpY2UobGluZVN0YXJ0LCBsaW5lRW5kKS5yZXBsYWNlKC9cXHQvZywgJ+KGkicpICsgdGFpbCxcbiAgICBwb3M6IHBvc2l0aW9uIC0gbGluZVN0YXJ0ICsgaGVhZC5sZW5ndGggLy8gcmVsYXRpdmUgcG9zaXRpb25cbiAgfTtcbn1cblxuXG5mdW5jdGlvbiBwYWRTdGFydChzdHJpbmcsIG1heCkge1xuICByZXR1cm4gY29tbW9uLnJlcGVhdCgnICcsIG1heCAtIHN0cmluZy5sZW5ndGgpICsgc3RyaW5nO1xufVxuXG5cbmZ1bmN0aW9uIG1ha2VTbmlwcGV0KG1hcmssIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IE9iamVjdC5jcmVhdGUob3B0aW9ucyB8fCBudWxsKTtcblxuICBpZiAoIW1hcmsuYnVmZmVyKSByZXR1cm4gbnVsbDtcblxuICBpZiAoIW9wdGlvbnMubWF4TGVuZ3RoKSBvcHRpb25zLm1heExlbmd0aCA9IDc5O1xuICBpZiAodHlwZW9mIG9wdGlvbnMuaW5kZW50ICAgICAgIT09ICdudW1iZXInKSBvcHRpb25zLmluZGVudCAgICAgID0gMTtcbiAgaWYgKHR5cGVvZiBvcHRpb25zLmxpbmVzQmVmb3JlICE9PSAnbnVtYmVyJykgb3B0aW9ucy5saW5lc0JlZm9yZSA9IDM7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5saW5lc0FmdGVyICAhPT0gJ251bWJlcicpIG9wdGlvbnMubGluZXNBZnRlciAgPSAyO1xuXG4gIHZhciByZSA9IC9cXHI/XFxufFxccnxcXDAvZztcbiAgdmFyIGxpbmVTdGFydHMgPSBbIDAgXTtcbiAgdmFyIGxpbmVFbmRzID0gW107XG4gIHZhciBtYXRjaDtcbiAgdmFyIGZvdW5kTGluZU5vID0gLTE7XG5cbiAgd2hpbGUgKChtYXRjaCA9IHJlLmV4ZWMobWFyay5idWZmZXIpKSkge1xuICAgIGxpbmVFbmRzLnB1c2gobWF0Y2guaW5kZXgpO1xuICAgIGxpbmVTdGFydHMucHVzaChtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCk7XG5cbiAgICBpZiAobWFyay5wb3NpdGlvbiA8PSBtYXRjaC5pbmRleCAmJiBmb3VuZExpbmVObyA8IDApIHtcbiAgICAgIGZvdW5kTGluZU5vID0gbGluZVN0YXJ0cy5sZW5ndGggLSAyO1xuICAgIH1cbiAgfVxuXG4gIGlmIChmb3VuZExpbmVObyA8IDApIGZvdW5kTGluZU5vID0gbGluZVN0YXJ0cy5sZW5ndGggLSAxO1xuXG4gIHZhciByZXN1bHQgPSAnJywgaSwgbGluZTtcbiAgdmFyIGxpbmVOb0xlbmd0aCA9IE1hdGgubWluKG1hcmsubGluZSArIG9wdGlvbnMubGluZXNBZnRlciwgbGluZUVuZHMubGVuZ3RoKS50b1N0cmluZygpLmxlbmd0aDtcbiAgdmFyIG1heExpbmVMZW5ndGggPSBvcHRpb25zLm1heExlbmd0aCAtIChvcHRpb25zLmluZGVudCArIGxpbmVOb0xlbmd0aCArIDMpO1xuXG4gIGZvciAoaSA9IDE7IGkgPD0gb3B0aW9ucy5saW5lc0JlZm9yZTsgaSsrKSB7XG4gICAgaWYgKGZvdW5kTGluZU5vIC0gaSA8IDApIGJyZWFrO1xuICAgIGxpbmUgPSBnZXRMaW5lKFxuICAgICAgbWFyay5idWZmZXIsXG4gICAgICBsaW5lU3RhcnRzW2ZvdW5kTGluZU5vIC0gaV0sXG4gICAgICBsaW5lRW5kc1tmb3VuZExpbmVObyAtIGldLFxuICAgICAgbWFyay5wb3NpdGlvbiAtIChsaW5lU3RhcnRzW2ZvdW5kTGluZU5vXSAtIGxpbmVTdGFydHNbZm91bmRMaW5lTm8gLSBpXSksXG4gICAgICBtYXhMaW5lTGVuZ3RoXG4gICAgKTtcbiAgICByZXN1bHQgPSBjb21tb24ucmVwZWF0KCcgJywgb3B0aW9ucy5pbmRlbnQpICsgcGFkU3RhcnQoKG1hcmsubGluZSAtIGkgKyAxKS50b1N0cmluZygpLCBsaW5lTm9MZW5ndGgpICtcbiAgICAgICcgfCAnICsgbGluZS5zdHIgKyAnXFxuJyArIHJlc3VsdDtcbiAgfVxuXG4gIGxpbmUgPSBnZXRMaW5lKG1hcmsuYnVmZmVyLCBsaW5lU3RhcnRzW2ZvdW5kTGluZU5vXSwgbGluZUVuZHNbZm91bmRMaW5lTm9dLCBtYXJrLnBvc2l0aW9uLCBtYXhMaW5lTGVuZ3RoKTtcbiAgcmVzdWx0ICs9IGNvbW1vbi5yZXBlYXQoJyAnLCBvcHRpb25zLmluZGVudCkgKyBwYWRTdGFydCgobWFyay5saW5lICsgMSkudG9TdHJpbmcoKSwgbGluZU5vTGVuZ3RoKSArXG4gICAgJyB8ICcgKyBsaW5lLnN0ciArICdcXG4nO1xuICByZXN1bHQgKz0gY29tbW9uLnJlcGVhdCgnLScsIG9wdGlvbnMuaW5kZW50ICsgbGluZU5vTGVuZ3RoICsgMyArIGxpbmUucG9zKSArICdeJyArICdcXG4nO1xuXG4gIGZvciAoaSA9IDE7IGkgPD0gb3B0aW9ucy5saW5lc0FmdGVyOyBpKyspIHtcbiAgICBpZiAoZm91bmRMaW5lTm8gKyBpID49IGxpbmVFbmRzLmxlbmd0aCkgYnJlYWs7XG4gICAgbGluZSA9IGdldExpbmUoXG4gICAgICBtYXJrLmJ1ZmZlcixcbiAgICAgIGxpbmVTdGFydHNbZm91bmRMaW5lTm8gKyBpXSxcbiAgICAgIGxpbmVFbmRzW2ZvdW5kTGluZU5vICsgaV0sXG4gICAgICBtYXJrLnBvc2l0aW9uIC0gKGxpbmVTdGFydHNbZm91bmRMaW5lTm9dIC0gbGluZVN0YXJ0c1tmb3VuZExpbmVObyArIGldKSxcbiAgICAgIG1heExpbmVMZW5ndGhcbiAgICApO1xuICAgIHJlc3VsdCArPSBjb21tb24ucmVwZWF0KCcgJywgb3B0aW9ucy5pbmRlbnQpICsgcGFkU3RhcnQoKG1hcmsubGluZSArIGkgKyAxKS50b1N0cmluZygpLCBsaW5lTm9MZW5ndGgpICtcbiAgICAgICcgfCAnICsgbGluZS5zdHIgKyAnXFxuJztcbiAgfVxuXG4gIHJldHVybiByZXN1bHQucmVwbGFjZSgvXFxuJC8sICcnKTtcbn1cblxuXG52YXIgc25pcHBldCA9IG1ha2VTbmlwcGV0O1xuXG52YXIgVFlQRV9DT05TVFJVQ1RPUl9PUFRJT05TID0gW1xuICAna2luZCcsXG4gICdtdWx0aScsXG4gICdyZXNvbHZlJyxcbiAgJ2NvbnN0cnVjdCcsXG4gICdpbnN0YW5jZU9mJyxcbiAgJ3ByZWRpY2F0ZScsXG4gICdyZXByZXNlbnQnLFxuICAncmVwcmVzZW50TmFtZScsXG4gICdkZWZhdWx0U3R5bGUnLFxuICAnc3R5bGVBbGlhc2VzJ1xuXTtcblxudmFyIFlBTUxfTk9ERV9LSU5EUyA9IFtcbiAgJ3NjYWxhcicsXG4gICdzZXF1ZW5jZScsXG4gICdtYXBwaW5nJ1xuXTtcblxuZnVuY3Rpb24gY29tcGlsZVN0eWxlQWxpYXNlcyhtYXApIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuXG4gIGlmIChtYXAgIT09IG51bGwpIHtcbiAgICBPYmplY3Qua2V5cyhtYXApLmZvckVhY2goZnVuY3Rpb24gKHN0eWxlKSB7XG4gICAgICBtYXBbc3R5bGVdLmZvckVhY2goZnVuY3Rpb24gKGFsaWFzKSB7XG4gICAgICAgIHJlc3VsdFtTdHJpbmcoYWxpYXMpXSA9IHN0eWxlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBUeXBlJDEodGFnLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIE9iamVjdC5rZXlzKG9wdGlvbnMpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBpZiAoVFlQRV9DT05TVFJVQ1RPUl9PUFRJT05TLmluZGV4T2YobmFtZSkgPT09IC0xKSB7XG4gICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uKCdVbmtub3duIG9wdGlvbiBcIicgKyBuYW1lICsgJ1wiIGlzIG1ldCBpbiBkZWZpbml0aW9uIG9mIFwiJyArIHRhZyArICdcIiBZQU1MIHR5cGUuJyk7XG4gICAgfVxuICB9KTtcblxuICAvLyBUT0RPOiBBZGQgdGFnIGZvcm1hdCBjaGVjay5cbiAgdGhpcy5vcHRpb25zICAgICAgID0gb3B0aW9uczsgLy8ga2VlcCBvcmlnaW5hbCBvcHRpb25zIGluIGNhc2UgdXNlciB3YW50cyB0byBleHRlbmQgdGhpcyB0eXBlIGxhdGVyXG4gIHRoaXMudGFnICAgICAgICAgICA9IHRhZztcbiAgdGhpcy5raW5kICAgICAgICAgID0gb3B0aW9uc1sna2luZCddICAgICAgICAgIHx8IG51bGw7XG4gIHRoaXMucmVzb2x2ZSAgICAgICA9IG9wdGlvbnNbJ3Jlc29sdmUnXSAgICAgICB8fCBmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlOyB9O1xuICB0aGlzLmNvbnN0cnVjdCAgICAgPSBvcHRpb25zWydjb25zdHJ1Y3QnXSAgICAgfHwgZnVuY3Rpb24gKGRhdGEpIHsgcmV0dXJuIGRhdGE7IH07XG4gIHRoaXMuaW5zdGFuY2VPZiAgICA9IG9wdGlvbnNbJ2luc3RhbmNlT2YnXSAgICB8fCBudWxsO1xuICB0aGlzLnByZWRpY2F0ZSAgICAgPSBvcHRpb25zWydwcmVkaWNhdGUnXSAgICAgfHwgbnVsbDtcbiAgdGhpcy5yZXByZXNlbnQgICAgID0gb3B0aW9uc1sncmVwcmVzZW50J10gICAgIHx8IG51bGw7XG4gIHRoaXMucmVwcmVzZW50TmFtZSA9IG9wdGlvbnNbJ3JlcHJlc2VudE5hbWUnXSB8fCBudWxsO1xuICB0aGlzLmRlZmF1bHRTdHlsZSAgPSBvcHRpb25zWydkZWZhdWx0U3R5bGUnXSAgfHwgbnVsbDtcbiAgdGhpcy5tdWx0aSAgICAgICAgID0gb3B0aW9uc1snbXVsdGknXSAgICAgICAgIHx8IGZhbHNlO1xuICB0aGlzLnN0eWxlQWxpYXNlcyAgPSBjb21waWxlU3R5bGVBbGlhc2VzKG9wdGlvbnNbJ3N0eWxlQWxpYXNlcyddIHx8IG51bGwpO1xuXG4gIGlmIChZQU1MX05PREVfS0lORFMuaW5kZXhPZih0aGlzLmtpbmQpID09PSAtMSkge1xuICAgIHRocm93IG5ldyBleGNlcHRpb24oJ1Vua25vd24ga2luZCBcIicgKyB0aGlzLmtpbmQgKyAnXCIgaXMgc3BlY2lmaWVkIGZvciBcIicgKyB0YWcgKyAnXCIgWUFNTCB0eXBlLicpO1xuICB9XG59XG5cbnZhciB0eXBlID0gVHlwZSQxO1xuXG4vKmVzbGludC1kaXNhYmxlIG1heC1sZW4qL1xuXG5cblxuXG5cbmZ1bmN0aW9uIGNvbXBpbGVMaXN0KHNjaGVtYSwgbmFtZSkge1xuICB2YXIgcmVzdWx0ID0gW107XG5cbiAgc2NoZW1hW25hbWVdLmZvckVhY2goZnVuY3Rpb24gKGN1cnJlbnRUeXBlKSB7XG4gICAgdmFyIG5ld0luZGV4ID0gcmVzdWx0Lmxlbmd0aDtcblxuICAgIHJlc3VsdC5mb3JFYWNoKGZ1bmN0aW9uIChwcmV2aW91c1R5cGUsIHByZXZpb3VzSW5kZXgpIHtcbiAgICAgIGlmIChwcmV2aW91c1R5cGUudGFnID09PSBjdXJyZW50VHlwZS50YWcgJiZcbiAgICAgICAgICBwcmV2aW91c1R5cGUua2luZCA9PT0gY3VycmVudFR5cGUua2luZCAmJlxuICAgICAgICAgIHByZXZpb3VzVHlwZS5tdWx0aSA9PT0gY3VycmVudFR5cGUubXVsdGkpIHtcblxuICAgICAgICBuZXdJbmRleCA9IHByZXZpb3VzSW5kZXg7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXN1bHRbbmV3SW5kZXhdID0gY3VycmVudFR5cGU7XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cblxuZnVuY3Rpb24gY29tcGlsZU1hcCgvKiBsaXN0cy4uLiAqLykge1xuICB2YXIgcmVzdWx0ID0ge1xuICAgICAgICBzY2FsYXI6IHt9LFxuICAgICAgICBzZXF1ZW5jZToge30sXG4gICAgICAgIG1hcHBpbmc6IHt9LFxuICAgICAgICBmYWxsYmFjazoge30sXG4gICAgICAgIG11bHRpOiB7XG4gICAgICAgICAgc2NhbGFyOiBbXSxcbiAgICAgICAgICBzZXF1ZW5jZTogW10sXG4gICAgICAgICAgbWFwcGluZzogW10sXG4gICAgICAgICAgZmFsbGJhY2s6IFtdXG4gICAgICAgIH1cbiAgICAgIH0sIGluZGV4LCBsZW5ndGg7XG5cbiAgZnVuY3Rpb24gY29sbGVjdFR5cGUodHlwZSkge1xuICAgIGlmICh0eXBlLm11bHRpKSB7XG4gICAgICByZXN1bHQubXVsdGlbdHlwZS5raW5kXS5wdXNoKHR5cGUpO1xuICAgICAgcmVzdWx0Lm11bHRpWydmYWxsYmFjayddLnB1c2godHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdFt0eXBlLmtpbmRdW3R5cGUudGFnXSA9IHJlc3VsdFsnZmFsbGJhY2snXVt0eXBlLnRhZ10gPSB0eXBlO1xuICAgIH1cbiAgfVxuXG4gIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgIGFyZ3VtZW50c1tpbmRleF0uZm9yRWFjaChjb2xsZWN0VHlwZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuXG5mdW5jdGlvbiBTY2hlbWEkMShkZWZpbml0aW9uKSB7XG4gIHJldHVybiB0aGlzLmV4dGVuZChkZWZpbml0aW9uKTtcbn1cblxuXG5TY2hlbWEkMS5wcm90b3R5cGUuZXh0ZW5kID0gZnVuY3Rpb24gZXh0ZW5kKGRlZmluaXRpb24pIHtcbiAgdmFyIGltcGxpY2l0ID0gW107XG4gIHZhciBleHBsaWNpdCA9IFtdO1xuXG4gIGlmIChkZWZpbml0aW9uIGluc3RhbmNlb2YgdHlwZSkge1xuICAgIC8vIFNjaGVtYS5leHRlbmQodHlwZSlcbiAgICBleHBsaWNpdC5wdXNoKGRlZmluaXRpb24pO1xuXG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShkZWZpbml0aW9uKSkge1xuICAgIC8vIFNjaGVtYS5leHRlbmQoWyB0eXBlMSwgdHlwZTIsIC4uLiBdKVxuICAgIGV4cGxpY2l0ID0gZXhwbGljaXQuY29uY2F0KGRlZmluaXRpb24pO1xuXG4gIH0gZWxzZSBpZiAoZGVmaW5pdGlvbiAmJiAoQXJyYXkuaXNBcnJheShkZWZpbml0aW9uLmltcGxpY2l0KSB8fCBBcnJheS5pc0FycmF5KGRlZmluaXRpb24uZXhwbGljaXQpKSkge1xuICAgIC8vIFNjaGVtYS5leHRlbmQoeyBleHBsaWNpdDogWyB0eXBlMSwgdHlwZTIsIC4uLiBdLCBpbXBsaWNpdDogWyB0eXBlMSwgdHlwZTIsIC4uLiBdIH0pXG4gICAgaWYgKGRlZmluaXRpb24uaW1wbGljaXQpIGltcGxpY2l0ID0gaW1wbGljaXQuY29uY2F0KGRlZmluaXRpb24uaW1wbGljaXQpO1xuICAgIGlmIChkZWZpbml0aW9uLmV4cGxpY2l0KSBleHBsaWNpdCA9IGV4cGxpY2l0LmNvbmNhdChkZWZpbml0aW9uLmV4cGxpY2l0KTtcblxuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBleGNlcHRpb24oJ1NjaGVtYS5leHRlbmQgYXJndW1lbnQgc2hvdWxkIGJlIGEgVHlwZSwgWyBUeXBlIF0sICcgK1xuICAgICAgJ29yIGEgc2NoZW1hIGRlZmluaXRpb24gKHsgaW1wbGljaXQ6IFsuLi5dLCBleHBsaWNpdDogWy4uLl0gfSknKTtcbiAgfVxuXG4gIGltcGxpY2l0LmZvckVhY2goZnVuY3Rpb24gKHR5cGUkMSkge1xuICAgIGlmICghKHR5cGUkMSBpbnN0YW5jZW9mIHR5cGUpKSB7XG4gICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uKCdTcGVjaWZpZWQgbGlzdCBvZiBZQU1MIHR5cGVzIChvciBhIHNpbmdsZSBUeXBlIG9iamVjdCkgY29udGFpbnMgYSBub24tVHlwZSBvYmplY3QuJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGUkMS5sb2FkS2luZCAmJiB0eXBlJDEubG9hZEtpbmQgIT09ICdzY2FsYXInKSB7XG4gICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uKCdUaGVyZSBpcyBhIG5vbi1zY2FsYXIgdHlwZSBpbiB0aGUgaW1wbGljaXQgbGlzdCBvZiBhIHNjaGVtYS4gSW1wbGljaXQgcmVzb2x2aW5nIG9mIHN1Y2ggdHlwZXMgaXMgbm90IHN1cHBvcnRlZC4nKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZSQxLm11bHRpKSB7XG4gICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uKCdUaGVyZSBpcyBhIG11bHRpIHR5cGUgaW4gdGhlIGltcGxpY2l0IGxpc3Qgb2YgYSBzY2hlbWEuIE11bHRpIHRhZ3MgY2FuIG9ubHkgYmUgbGlzdGVkIGFzIGV4cGxpY2l0LicpO1xuICAgIH1cbiAgfSk7XG5cbiAgZXhwbGljaXQuZm9yRWFjaChmdW5jdGlvbiAodHlwZSQxKSB7XG4gICAgaWYgKCEodHlwZSQxIGluc3RhbmNlb2YgdHlwZSkpIHtcbiAgICAgIHRocm93IG5ldyBleGNlcHRpb24oJ1NwZWNpZmllZCBsaXN0IG9mIFlBTUwgdHlwZXMgKG9yIGEgc2luZ2xlIFR5cGUgb2JqZWN0KSBjb250YWlucyBhIG5vbi1UeXBlIG9iamVjdC4nKTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciByZXN1bHQgPSBPYmplY3QuY3JlYXRlKFNjaGVtYSQxLnByb3RvdHlwZSk7XG5cbiAgcmVzdWx0LmltcGxpY2l0ID0gKHRoaXMuaW1wbGljaXQgfHwgW10pLmNvbmNhdChpbXBsaWNpdCk7XG4gIHJlc3VsdC5leHBsaWNpdCA9ICh0aGlzLmV4cGxpY2l0IHx8IFtdKS5jb25jYXQoZXhwbGljaXQpO1xuXG4gIHJlc3VsdC5jb21waWxlZEltcGxpY2l0ID0gY29tcGlsZUxpc3QocmVzdWx0LCAnaW1wbGljaXQnKTtcbiAgcmVzdWx0LmNvbXBpbGVkRXhwbGljaXQgPSBjb21waWxlTGlzdChyZXN1bHQsICdleHBsaWNpdCcpO1xuICByZXN1bHQuY29tcGlsZWRUeXBlTWFwICA9IGNvbXBpbGVNYXAocmVzdWx0LmNvbXBpbGVkSW1wbGljaXQsIHJlc3VsdC5jb21waWxlZEV4cGxpY2l0KTtcblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuXG52YXIgc2NoZW1hID0gU2NoZW1hJDE7XG5cbnZhciBzdHIgPSBuZXcgdHlwZSgndGFnOnlhbWwub3JnLDIwMDI6c3RyJywge1xuICBraW5kOiAnc2NhbGFyJyxcbiAgY29uc3RydWN0OiBmdW5jdGlvbiAoZGF0YSkgeyByZXR1cm4gZGF0YSAhPT0gbnVsbCA/IGRhdGEgOiAnJzsgfVxufSk7XG5cbnZhciBzZXEgPSBuZXcgdHlwZSgndGFnOnlhbWwub3JnLDIwMDI6c2VxJywge1xuICBraW5kOiAnc2VxdWVuY2UnLFxuICBjb25zdHJ1Y3Q6IGZ1bmN0aW9uIChkYXRhKSB7IHJldHVybiBkYXRhICE9PSBudWxsID8gZGF0YSA6IFtdOyB9XG59KTtcblxudmFyIG1hcCA9IG5ldyB0eXBlKCd0YWc6eWFtbC5vcmcsMjAwMjptYXAnLCB7XG4gIGtpbmQ6ICdtYXBwaW5nJyxcbiAgY29uc3RydWN0OiBmdW5jdGlvbiAoZGF0YSkgeyByZXR1cm4gZGF0YSAhPT0gbnVsbCA/IGRhdGEgOiB7fTsgfVxufSk7XG5cbnZhciBmYWlsc2FmZSA9IG5ldyBzY2hlbWEoe1xuICBleHBsaWNpdDogW1xuICAgIHN0cixcbiAgICBzZXEsXG4gICAgbWFwXG4gIF1cbn0pO1xuXG5mdW5jdGlvbiByZXNvbHZlWWFtbE51bGwoZGF0YSkge1xuICBpZiAoZGF0YSA9PT0gbnVsbCkgcmV0dXJuIHRydWU7XG5cbiAgdmFyIG1heCA9IGRhdGEubGVuZ3RoO1xuXG4gIHJldHVybiAobWF4ID09PSAxICYmIGRhdGEgPT09ICd+JykgfHxcbiAgICAgICAgIChtYXggPT09IDQgJiYgKGRhdGEgPT09ICdudWxsJyB8fCBkYXRhID09PSAnTnVsbCcgfHwgZGF0YSA9PT0gJ05VTEwnKSk7XG59XG5cbmZ1bmN0aW9uIGNvbnN0cnVjdFlhbWxOdWxsKCkge1xuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gaXNOdWxsKG9iamVjdCkge1xuICByZXR1cm4gb2JqZWN0ID09PSBudWxsO1xufVxuXG52YXIgX251bGwgPSBuZXcgdHlwZSgndGFnOnlhbWwub3JnLDIwMDI6bnVsbCcsIHtcbiAga2luZDogJ3NjYWxhcicsXG4gIHJlc29sdmU6IHJlc29sdmVZYW1sTnVsbCxcbiAgY29uc3RydWN0OiBjb25zdHJ1Y3RZYW1sTnVsbCxcbiAgcHJlZGljYXRlOiBpc051bGwsXG4gIHJlcHJlc2VudDoge1xuICAgIGNhbm9uaWNhbDogZnVuY3Rpb24gKCkgeyByZXR1cm4gJ34nOyAgICB9LFxuICAgIGxvd2VyY2FzZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gJ251bGwnOyB9LFxuICAgIHVwcGVyY2FzZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gJ05VTEwnOyB9LFxuICAgIGNhbWVsY2FzZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gJ051bGwnOyB9LFxuICAgIGVtcHR5OiAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gJyc7ICAgICB9XG4gIH0sXG4gIGRlZmF1bHRTdHlsZTogJ2xvd2VyY2FzZSdcbn0pO1xuXG5mdW5jdGlvbiByZXNvbHZlWWFtbEJvb2xlYW4oZGF0YSkge1xuICBpZiAoZGF0YSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBtYXggPSBkYXRhLmxlbmd0aDtcblxuICByZXR1cm4gKG1heCA9PT0gNCAmJiAoZGF0YSA9PT0gJ3RydWUnIHx8IGRhdGEgPT09ICdUcnVlJyB8fCBkYXRhID09PSAnVFJVRScpKSB8fFxuICAgICAgICAgKG1heCA9PT0gNSAmJiAoZGF0YSA9PT0gJ2ZhbHNlJyB8fCBkYXRhID09PSAnRmFsc2UnIHx8IGRhdGEgPT09ICdGQUxTRScpKTtcbn1cblxuZnVuY3Rpb24gY29uc3RydWN0WWFtbEJvb2xlYW4oZGF0YSkge1xuICByZXR1cm4gZGF0YSA9PT0gJ3RydWUnIHx8XG4gICAgICAgICBkYXRhID09PSAnVHJ1ZScgfHxcbiAgICAgICAgIGRhdGEgPT09ICdUUlVFJztcbn1cblxuZnVuY3Rpb24gaXNCb29sZWFuKG9iamVjdCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iamVjdCkgPT09ICdbb2JqZWN0IEJvb2xlYW5dJztcbn1cblxudmFyIGJvb2wgPSBuZXcgdHlwZSgndGFnOnlhbWwub3JnLDIwMDI6Ym9vbCcsIHtcbiAga2luZDogJ3NjYWxhcicsXG4gIHJlc29sdmU6IHJlc29sdmVZYW1sQm9vbGVhbixcbiAgY29uc3RydWN0OiBjb25zdHJ1Y3RZYW1sQm9vbGVhbixcbiAgcHJlZGljYXRlOiBpc0Jvb2xlYW4sXG4gIHJlcHJlc2VudDoge1xuICAgIGxvd2VyY2FzZTogZnVuY3Rpb24gKG9iamVjdCkgeyByZXR1cm4gb2JqZWN0ID8gJ3RydWUnIDogJ2ZhbHNlJzsgfSxcbiAgICB1cHBlcmNhc2U6IGZ1bmN0aW9uIChvYmplY3QpIHsgcmV0dXJuIG9iamVjdCA/ICdUUlVFJyA6ICdGQUxTRSc7IH0sXG4gICAgY2FtZWxjYXNlOiBmdW5jdGlvbiAob2JqZWN0KSB7IHJldHVybiBvYmplY3QgPyAnVHJ1ZScgOiAnRmFsc2UnOyB9XG4gIH0sXG4gIGRlZmF1bHRTdHlsZTogJ2xvd2VyY2FzZSdcbn0pO1xuXG5mdW5jdGlvbiBpc0hleENvZGUoYykge1xuICByZXR1cm4gKCgweDMwLyogMCAqLyA8PSBjKSAmJiAoYyA8PSAweDM5LyogOSAqLykpIHx8XG4gICAgICAgICAoKDB4NDEvKiBBICovIDw9IGMpICYmIChjIDw9IDB4NDYvKiBGICovKSkgfHxcbiAgICAgICAgICgoMHg2MS8qIGEgKi8gPD0gYykgJiYgKGMgPD0gMHg2Ni8qIGYgKi8pKTtcbn1cblxuZnVuY3Rpb24gaXNPY3RDb2RlKGMpIHtcbiAgcmV0dXJuICgoMHgzMC8qIDAgKi8gPD0gYykgJiYgKGMgPD0gMHgzNy8qIDcgKi8pKTtcbn1cblxuZnVuY3Rpb24gaXNEZWNDb2RlKGMpIHtcbiAgcmV0dXJuICgoMHgzMC8qIDAgKi8gPD0gYykgJiYgKGMgPD0gMHgzOS8qIDkgKi8pKTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZVlhbWxJbnRlZ2VyKGRhdGEpIHtcbiAgaWYgKGRhdGEgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblxuICB2YXIgbWF4ID0gZGF0YS5sZW5ndGgsXG4gICAgICBpbmRleCA9IDAsXG4gICAgICBoYXNEaWdpdHMgPSBmYWxzZSxcbiAgICAgIGNoO1xuXG4gIGlmICghbWF4KSByZXR1cm4gZmFsc2U7XG5cbiAgY2ggPSBkYXRhW2luZGV4XTtcblxuICAvLyBzaWduXG4gIGlmIChjaCA9PT0gJy0nIHx8IGNoID09PSAnKycpIHtcbiAgICBjaCA9IGRhdGFbKytpbmRleF07XG4gIH1cblxuICBpZiAoY2ggPT09ICcwJykge1xuICAgIC8vIDBcbiAgICBpZiAoaW5kZXggKyAxID09PSBtYXgpIHJldHVybiB0cnVlO1xuICAgIGNoID0gZGF0YVsrK2luZGV4XTtcblxuICAgIC8vIGJhc2UgMiwgYmFzZSA4LCBiYXNlIDE2XG5cbiAgICBpZiAoY2ggPT09ICdiJykge1xuICAgICAgLy8gYmFzZSAyXG4gICAgICBpbmRleCsrO1xuXG4gICAgICBmb3IgKDsgaW5kZXggPCBtYXg7IGluZGV4KyspIHtcbiAgICAgICAgY2ggPSBkYXRhW2luZGV4XTtcbiAgICAgICAgaWYgKGNoID09PSAnXycpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoY2ggIT09ICcwJyAmJiBjaCAhPT0gJzEnKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGhhc0RpZ2l0cyA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzRGlnaXRzICYmIGNoICE9PSAnXyc7XG4gICAgfVxuXG5cbiAgICBpZiAoY2ggPT09ICd4Jykge1xuICAgICAgLy8gYmFzZSAxNlxuICAgICAgaW5kZXgrKztcblxuICAgICAgZm9yICg7IGluZGV4IDwgbWF4OyBpbmRleCsrKSB7XG4gICAgICAgIGNoID0gZGF0YVtpbmRleF07XG4gICAgICAgIGlmIChjaCA9PT0gJ18nKSBjb250aW51ZTtcbiAgICAgICAgaWYgKCFpc0hleENvZGUoZGF0YS5jaGFyQ29kZUF0KGluZGV4KSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaGFzRGlnaXRzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoYXNEaWdpdHMgJiYgY2ggIT09ICdfJztcbiAgICB9XG5cblxuICAgIGlmIChjaCA9PT0gJ28nKSB7XG4gICAgICAvLyBiYXNlIDhcbiAgICAgIGluZGV4Kys7XG5cbiAgICAgIGZvciAoOyBpbmRleCA8IG1heDsgaW5kZXgrKykge1xuICAgICAgICBjaCA9IGRhdGFbaW5kZXhdO1xuICAgICAgICBpZiAoY2ggPT09ICdfJykgY29udGludWU7XG4gICAgICAgIGlmICghaXNPY3RDb2RlKGRhdGEuY2hhckNvZGVBdChpbmRleCkpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGhhc0RpZ2l0cyA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzRGlnaXRzICYmIGNoICE9PSAnXyc7XG4gICAgfVxuICB9XG5cbiAgLy8gYmFzZSAxMCAoZXhjZXB0IDApXG5cbiAgLy8gdmFsdWUgc2hvdWxkIG5vdCBzdGFydCB3aXRoIGBfYDtcbiAgaWYgKGNoID09PSAnXycpIHJldHVybiBmYWxzZTtcblxuICBmb3IgKDsgaW5kZXggPCBtYXg7IGluZGV4KyspIHtcbiAgICBjaCA9IGRhdGFbaW5kZXhdO1xuICAgIGlmIChjaCA9PT0gJ18nKSBjb250aW51ZTtcbiAgICBpZiAoIWlzRGVjQ29kZShkYXRhLmNoYXJDb2RlQXQoaW5kZXgpKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBoYXNEaWdpdHMgPSB0cnVlO1xuICB9XG5cbiAgLy8gU2hvdWxkIGhhdmUgZGlnaXRzIGFuZCBzaG91bGQgbm90IGVuZCB3aXRoIGBfYFxuICBpZiAoIWhhc0RpZ2l0cyB8fCBjaCA9PT0gJ18nKSByZXR1cm4gZmFsc2U7XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGNvbnN0cnVjdFlhbWxJbnRlZ2VyKGRhdGEpIHtcbiAgdmFyIHZhbHVlID0gZGF0YSwgc2lnbiA9IDEsIGNoO1xuXG4gIGlmICh2YWx1ZS5pbmRleE9mKCdfJykgIT09IC0xKSB7XG4gICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9fL2csICcnKTtcbiAgfVxuXG4gIGNoID0gdmFsdWVbMF07XG5cbiAgaWYgKGNoID09PSAnLScgfHwgY2ggPT09ICcrJykge1xuICAgIGlmIChjaCA9PT0gJy0nKSBzaWduID0gLTE7XG4gICAgdmFsdWUgPSB2YWx1ZS5zbGljZSgxKTtcbiAgICBjaCA9IHZhbHVlWzBdO1xuICB9XG5cbiAgaWYgKHZhbHVlID09PSAnMCcpIHJldHVybiAwO1xuXG4gIGlmIChjaCA9PT0gJzAnKSB7XG4gICAgaWYgKHZhbHVlWzFdID09PSAnYicpIHJldHVybiBzaWduICogcGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIDIpO1xuICAgIGlmICh2YWx1ZVsxXSA9PT0gJ3gnKSByZXR1cm4gc2lnbiAqIHBhcnNlSW50KHZhbHVlLnNsaWNlKDIpLCAxNik7XG4gICAgaWYgKHZhbHVlWzFdID09PSAnbycpIHJldHVybiBzaWduICogcGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIDgpO1xuICB9XG5cbiAgcmV0dXJuIHNpZ24gKiBwYXJzZUludCh2YWx1ZSwgMTApO1xufVxuXG5mdW5jdGlvbiBpc0ludGVnZXIob2JqZWN0KSB7XG4gIHJldHVybiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iamVjdCkpID09PSAnW29iamVjdCBOdW1iZXJdJyAmJlxuICAgICAgICAgKG9iamVjdCAlIDEgPT09IDAgJiYgIWNvbW1vbi5pc05lZ2F0aXZlWmVybyhvYmplY3QpKTtcbn1cblxudmFyIGludCA9IG5ldyB0eXBlKCd0YWc6eWFtbC5vcmcsMjAwMjppbnQnLCB7XG4gIGtpbmQ6ICdzY2FsYXInLFxuICByZXNvbHZlOiByZXNvbHZlWWFtbEludGVnZXIsXG4gIGNvbnN0cnVjdDogY29uc3RydWN0WWFtbEludGVnZXIsXG4gIHByZWRpY2F0ZTogaXNJbnRlZ2VyLFxuICByZXByZXNlbnQ6IHtcbiAgICBiaW5hcnk6ICAgICAgZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqID49IDAgPyAnMGInICsgb2JqLnRvU3RyaW5nKDIpIDogJy0wYicgKyBvYmoudG9TdHJpbmcoMikuc2xpY2UoMSk7IH0sXG4gICAgb2N0YWw6ICAgICAgIGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiA+PSAwID8gJzBvJyAgKyBvYmoudG9TdHJpbmcoOCkgOiAnLTBvJyAgKyBvYmoudG9TdHJpbmcoOCkuc2xpY2UoMSk7IH0sXG4gICAgZGVjaW1hbDogICAgIGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iai50b1N0cmluZygxMCk7IH0sXG4gICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgIGhleGFkZWNpbWFsOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogPj0gMCA/ICcweCcgKyBvYmoudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCkgOiAgJy0weCcgKyBvYmoudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCkuc2xpY2UoMSk7IH1cbiAgfSxcbiAgZGVmYXVsdFN0eWxlOiAnZGVjaW1hbCcsXG4gIHN0eWxlQWxpYXNlczoge1xuICAgIGJpbmFyeTogICAgICBbIDIsICAnYmluJyBdLFxuICAgIG9jdGFsOiAgICAgICBbIDgsICAnb2N0JyBdLFxuICAgIGRlY2ltYWw6ICAgICBbIDEwLCAnZGVjJyBdLFxuICAgIGhleGFkZWNpbWFsOiBbIDE2LCAnaGV4JyBdXG4gIH1cbn0pO1xuXG52YXIgWUFNTF9GTE9BVF9QQVRURVJOID0gbmV3IFJlZ0V4cChcbiAgLy8gMi41ZTQsIDIuNSBhbmQgaW50ZWdlcnNcbiAgJ14oPzpbLStdPyg/OlswLTldWzAtOV9dKikoPzpcXFxcLlswLTlfXSopPyg/OltlRV1bLStdP1swLTldKyk/JyArXG4gIC8vIC4yZTQsIC4yXG4gIC8vIHNwZWNpYWwgY2FzZSwgc2VlbXMgbm90IGZyb20gc3BlY1xuICAnfFxcXFwuWzAtOV9dKyg/OltlRV1bLStdP1swLTldKyk/JyArXG4gIC8vIC5pbmZcbiAgJ3xbLStdP1xcXFwuKD86aW5mfEluZnxJTkYpJyArXG4gIC8vIC5uYW5cbiAgJ3xcXFxcLig/Om5hbnxOYU58TkFOKSkkJyk7XG5cbmZ1bmN0aW9uIHJlc29sdmVZYW1sRmxvYXQoZGF0YSkge1xuICBpZiAoZGF0YSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXG4gIGlmICghWUFNTF9GTE9BVF9QQVRURVJOLnRlc3QoZGF0YSkgfHxcbiAgICAgIC8vIFF1aWNrIGhhY2sgdG8gbm90IGFsbG93IGludGVnZXJzIGVuZCB3aXRoIGBfYFxuICAgICAgLy8gUHJvYmFibHkgc2hvdWxkIHVwZGF0ZSByZWdleHAgJiBjaGVjayBzcGVlZFxuICAgICAgZGF0YVtkYXRhLmxlbmd0aCAtIDFdID09PSAnXycpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gY29uc3RydWN0WWFtbEZsb2F0KGRhdGEpIHtcbiAgdmFyIHZhbHVlLCBzaWduO1xuXG4gIHZhbHVlICA9IGRhdGEucmVwbGFjZSgvXy9nLCAnJykudG9Mb3dlckNhc2UoKTtcbiAgc2lnbiAgID0gdmFsdWVbMF0gPT09ICctJyA/IC0xIDogMTtcblxuICBpZiAoJystJy5pbmRleE9mKHZhbHVlWzBdKSA+PSAwKSB7XG4gICAgdmFsdWUgPSB2YWx1ZS5zbGljZSgxKTtcbiAgfVxuXG4gIGlmICh2YWx1ZSA9PT0gJy5pbmYnKSB7XG4gICAgcmV0dXJuIChzaWduID09PSAxKSA/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSA6IE51bWJlci5ORUdBVElWRV9JTkZJTklUWTtcblxuICB9IGVsc2UgaWYgKHZhbHVlID09PSAnLm5hbicpIHtcbiAgICByZXR1cm4gTmFOO1xuICB9XG4gIHJldHVybiBzaWduICogcGFyc2VGbG9hdCh2YWx1ZSwgMTApO1xufVxuXG5cbnZhciBTQ0lFTlRJRklDX1dJVEhPVVRfRE9UID0gL15bLStdP1swLTldK2UvO1xuXG5mdW5jdGlvbiByZXByZXNlbnRZYW1sRmxvYXQob2JqZWN0LCBzdHlsZSkge1xuICB2YXIgcmVzO1xuXG4gIGlmIChpc05hTihvYmplY3QpKSB7XG4gICAgc3dpdGNoIChzdHlsZSkge1xuICAgICAgY2FzZSAnbG93ZXJjYXNlJzogcmV0dXJuICcubmFuJztcbiAgICAgIGNhc2UgJ3VwcGVyY2FzZSc6IHJldHVybiAnLk5BTic7XG4gICAgICBjYXNlICdjYW1lbGNhc2UnOiByZXR1cm4gJy5OYU4nO1xuICAgIH1cbiAgfSBlbHNlIGlmIChOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkgPT09IG9iamVjdCkge1xuICAgIHN3aXRjaCAoc3R5bGUpIHtcbiAgICAgIGNhc2UgJ2xvd2VyY2FzZSc6IHJldHVybiAnLmluZic7XG4gICAgICBjYXNlICd1cHBlcmNhc2UnOiByZXR1cm4gJy5JTkYnO1xuICAgICAgY2FzZSAnY2FtZWxjYXNlJzogcmV0dXJuICcuSW5mJztcbiAgICB9XG4gIH0gZWxzZSBpZiAoTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZID09PSBvYmplY3QpIHtcbiAgICBzd2l0Y2ggKHN0eWxlKSB7XG4gICAgICBjYXNlICdsb3dlcmNhc2UnOiByZXR1cm4gJy0uaW5mJztcbiAgICAgIGNhc2UgJ3VwcGVyY2FzZSc6IHJldHVybiAnLS5JTkYnO1xuICAgICAgY2FzZSAnY2FtZWxjYXNlJzogcmV0dXJuICctLkluZic7XG4gICAgfVxuICB9IGVsc2UgaWYgKGNvbW1vbi5pc05lZ2F0aXZlWmVybyhvYmplY3QpKSB7XG4gICAgcmV0dXJuICctMC4wJztcbiAgfVxuXG4gIHJlcyA9IG9iamVjdC50b1N0cmluZygxMCk7XG5cbiAgLy8gSlMgc3RyaW5naWZpZXIgY2FuIGJ1aWxkIHNjaWVudGlmaWMgZm9ybWF0IHdpdGhvdXQgZG90czogNWUtMTAwLFxuICAvLyB3aGlsZSBZQU1MIHJlcXVyZXMgZG90OiA1LmUtMTAwLiBGaXggaXQgd2l0aCBzaW1wbGUgaGFja1xuXG4gIHJldHVybiBTQ0lFTlRJRklDX1dJVEhPVVRfRE9ULnRlc3QocmVzKSA/IHJlcy5yZXBsYWNlKCdlJywgJy5lJykgOiByZXM7XG59XG5cbmZ1bmN0aW9uIGlzRmxvYXQob2JqZWN0KSB7XG4gIHJldHVybiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iamVjdCkgPT09ICdbb2JqZWN0IE51bWJlcl0nKSAmJlxuICAgICAgICAgKG9iamVjdCAlIDEgIT09IDAgfHwgY29tbW9uLmlzTmVnYXRpdmVaZXJvKG9iamVjdCkpO1xufVxuXG52YXIgZmxvYXQgPSBuZXcgdHlwZSgndGFnOnlhbWwub3JnLDIwMDI6ZmxvYXQnLCB7XG4gIGtpbmQ6ICdzY2FsYXInLFxuICByZXNvbHZlOiByZXNvbHZlWWFtbEZsb2F0LFxuICBjb25zdHJ1Y3Q6IGNvbnN0cnVjdFlhbWxGbG9hdCxcbiAgcHJlZGljYXRlOiBpc0Zsb2F0LFxuICByZXByZXNlbnQ6IHJlcHJlc2VudFlhbWxGbG9hdCxcbiAgZGVmYXVsdFN0eWxlOiAnbG93ZXJjYXNlJ1xufSk7XG5cbnZhciBqc29uID0gZmFpbHNhZmUuZXh0ZW5kKHtcbiAgaW1wbGljaXQ6IFtcbiAgICBfbnVsbCxcbiAgICBib29sLFxuICAgIGludCxcbiAgICBmbG9hdFxuICBdXG59KTtcblxudmFyIGNvcmUgPSBqc29uO1xuXG52YXIgWUFNTF9EQVRFX1JFR0VYUCA9IG5ldyBSZWdFeHAoXG4gICdeKFswLTldWzAtOV1bMC05XVswLTldKScgICAgICAgICAgKyAvLyBbMV0geWVhclxuICAnLShbMC05XVswLTldKScgICAgICAgICAgICAgICAgICAgICsgLy8gWzJdIG1vbnRoXG4gICctKFswLTldWzAtOV0pJCcpOyAgICAgICAgICAgICAgICAgICAvLyBbM10gZGF5XG5cbnZhciBZQU1MX1RJTUVTVEFNUF9SRUdFWFAgPSBuZXcgUmVnRXhwKFxuICAnXihbMC05XVswLTldWzAtOV1bMC05XSknICAgICAgICAgICsgLy8gWzFdIHllYXJcbiAgJy0oWzAtOV1bMC05XT8pJyAgICAgICAgICAgICAgICAgICArIC8vIFsyXSBtb250aFxuICAnLShbMC05XVswLTldPyknICAgICAgICAgICAgICAgICAgICsgLy8gWzNdIGRheVxuICAnKD86W1R0XXxbIFxcXFx0XSspJyAgICAgICAgICAgICAgICAgKyAvLyAuLi5cbiAgJyhbMC05XVswLTldPyknICAgICAgICAgICAgICAgICAgICArIC8vIFs0XSBob3VyXG4gICc6KFswLTldWzAtOV0pJyAgICAgICAgICAgICAgICAgICAgKyAvLyBbNV0gbWludXRlXG4gICc6KFswLTldWzAtOV0pJyAgICAgICAgICAgICAgICAgICAgKyAvLyBbNl0gc2Vjb25kXG4gICcoPzpcXFxcLihbMC05XSopKT8nICAgICAgICAgICAgICAgICArIC8vIFs3XSBmcmFjdGlvblxuICAnKD86WyBcXFxcdF0qKFp8KFstK10pKFswLTldWzAtOV0/KScgKyAvLyBbOF0gdHogWzldIHR6X3NpZ24gWzEwXSB0el9ob3VyXG4gICcoPzo6KFswLTldWzAtOV0pKT8pKT8kJyk7ICAgICAgICAgICAvLyBbMTFdIHR6X21pbnV0ZVxuXG5mdW5jdGlvbiByZXNvbHZlWWFtbFRpbWVzdGFtcChkYXRhKSB7XG4gIGlmIChkYXRhID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gIGlmIChZQU1MX0RBVEVfUkVHRVhQLmV4ZWMoZGF0YSkgIT09IG51bGwpIHJldHVybiB0cnVlO1xuICBpZiAoWUFNTF9USU1FU1RBTVBfUkVHRVhQLmV4ZWMoZGF0YSkgIT09IG51bGwpIHJldHVybiB0cnVlO1xuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGNvbnN0cnVjdFlhbWxUaW1lc3RhbXAoZGF0YSkge1xuICB2YXIgbWF0Y2gsIHllYXIsIG1vbnRoLCBkYXksIGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCBmcmFjdGlvbiA9IDAsXG4gICAgICBkZWx0YSA9IG51bGwsIHR6X2hvdXIsIHR6X21pbnV0ZSwgZGF0ZTtcblxuICBtYXRjaCA9IFlBTUxfREFURV9SRUdFWFAuZXhlYyhkYXRhKTtcbiAgaWYgKG1hdGNoID09PSBudWxsKSBtYXRjaCA9IFlBTUxfVElNRVNUQU1QX1JFR0VYUC5leGVjKGRhdGEpO1xuXG4gIGlmIChtYXRjaCA9PT0gbnVsbCkgdGhyb3cgbmV3IEVycm9yKCdEYXRlIHJlc29sdmUgZXJyb3InKTtcblxuICAvLyBtYXRjaDogWzFdIHllYXIgWzJdIG1vbnRoIFszXSBkYXlcblxuICB5ZWFyID0gKyhtYXRjaFsxXSk7XG4gIG1vbnRoID0gKyhtYXRjaFsyXSkgLSAxOyAvLyBKUyBtb250aCBzdGFydHMgd2l0aCAwXG4gIGRheSA9ICsobWF0Y2hbM10pO1xuXG4gIGlmICghbWF0Y2hbNF0pIHsgLy8gbm8gaG91clxuICAgIHJldHVybiBuZXcgRGF0ZShEYXRlLlVUQyh5ZWFyLCBtb250aCwgZGF5KSk7XG4gIH1cblxuICAvLyBtYXRjaDogWzRdIGhvdXIgWzVdIG1pbnV0ZSBbNl0gc2Vjb25kIFs3XSBmcmFjdGlvblxuXG4gIGhvdXIgPSArKG1hdGNoWzRdKTtcbiAgbWludXRlID0gKyhtYXRjaFs1XSk7XG4gIHNlY29uZCA9ICsobWF0Y2hbNl0pO1xuXG4gIGlmIChtYXRjaFs3XSkge1xuICAgIGZyYWN0aW9uID0gbWF0Y2hbN10uc2xpY2UoMCwgMyk7XG4gICAgd2hpbGUgKGZyYWN0aW9uLmxlbmd0aCA8IDMpIHsgLy8gbWlsbGktc2Vjb25kc1xuICAgICAgZnJhY3Rpb24gKz0gJzAnO1xuICAgIH1cbiAgICBmcmFjdGlvbiA9ICtmcmFjdGlvbjtcbiAgfVxuXG4gIC8vIG1hdGNoOiBbOF0gdHogWzldIHR6X3NpZ24gWzEwXSB0el9ob3VyIFsxMV0gdHpfbWludXRlXG5cbiAgaWYgKG1hdGNoWzldKSB7XG4gICAgdHpfaG91ciA9ICsobWF0Y2hbMTBdKTtcbiAgICB0el9taW51dGUgPSArKG1hdGNoWzExXSB8fCAwKTtcbiAgICBkZWx0YSA9ICh0el9ob3VyICogNjAgKyB0el9taW51dGUpICogNjAwMDA7IC8vIGRlbHRhIGluIG1pbGktc2Vjb25kc1xuICAgIGlmIChtYXRjaFs5XSA9PT0gJy0nKSBkZWx0YSA9IC1kZWx0YTtcbiAgfVxuXG4gIGRhdGUgPSBuZXcgRGF0ZShEYXRlLlVUQyh5ZWFyLCBtb250aCwgZGF5LCBob3VyLCBtaW51dGUsIHNlY29uZCwgZnJhY3Rpb24pKTtcblxuICBpZiAoZGVsdGEpIGRhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSAtIGRlbHRhKTtcblxuICByZXR1cm4gZGF0ZTtcbn1cblxuZnVuY3Rpb24gcmVwcmVzZW50WWFtbFRpbWVzdGFtcChvYmplY3QgLyosIHN0eWxlKi8pIHtcbiAgcmV0dXJuIG9iamVjdC50b0lTT1N0cmluZygpO1xufVxuXG52YXIgdGltZXN0YW1wID0gbmV3IHR5cGUoJ3RhZzp5YW1sLm9yZywyMDAyOnRpbWVzdGFtcCcsIHtcbiAga2luZDogJ3NjYWxhcicsXG4gIHJlc29sdmU6IHJlc29sdmVZYW1sVGltZXN0YW1wLFxuICBjb25zdHJ1Y3Q6IGNvbnN0cnVjdFlhbWxUaW1lc3RhbXAsXG4gIGluc3RhbmNlT2Y6IERhdGUsXG4gIHJlcHJlc2VudDogcmVwcmVzZW50WWFtbFRpbWVzdGFtcFxufSk7XG5cbmZ1bmN0aW9uIHJlc29sdmVZYW1sTWVyZ2UoZGF0YSkge1xuICByZXR1cm4gZGF0YSA9PT0gJzw8JyB8fCBkYXRhID09PSBudWxsO1xufVxuXG52YXIgbWVyZ2UgPSBuZXcgdHlwZSgndGFnOnlhbWwub3JnLDIwMDI6bWVyZ2UnLCB7XG4gIGtpbmQ6ICdzY2FsYXInLFxuICByZXNvbHZlOiByZXNvbHZlWWFtbE1lcmdlXG59KTtcblxuLyplc2xpbnQtZGlzYWJsZSBuby1iaXR3aXNlKi9cblxuXG5cblxuXG4vLyBbIDY0LCA2NSwgNjYgXSAtPiBbIHBhZGRpbmcsIENSLCBMRiBdXG52YXIgQkFTRTY0X01BUCA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPVxcblxccic7XG5cblxuZnVuY3Rpb24gcmVzb2x2ZVlhbWxCaW5hcnkoZGF0YSkge1xuICBpZiAoZGF0YSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBjb2RlLCBpZHgsIGJpdGxlbiA9IDAsIG1heCA9IGRhdGEubGVuZ3RoLCBtYXAgPSBCQVNFNjRfTUFQO1xuXG4gIC8vIENvbnZlcnQgb25lIGJ5IG9uZS5cbiAgZm9yIChpZHggPSAwOyBpZHggPCBtYXg7IGlkeCsrKSB7XG4gICAgY29kZSA9IG1hcC5pbmRleE9mKGRhdGEuY2hhckF0KGlkeCkpO1xuXG4gICAgLy8gU2tpcCBDUi9MRlxuICAgIGlmIChjb2RlID4gNjQpIGNvbnRpbnVlO1xuXG4gICAgLy8gRmFpbCBvbiBpbGxlZ2FsIGNoYXJhY3RlcnNcbiAgICBpZiAoY29kZSA8IDApIHJldHVybiBmYWxzZTtcblxuICAgIGJpdGxlbiArPSA2O1xuICB9XG5cbiAgLy8gSWYgdGhlcmUgYXJlIGFueSBiaXRzIGxlZnQsIHNvdXJjZSB3YXMgY29ycnVwdGVkXG4gIHJldHVybiAoYml0bGVuICUgOCkgPT09IDA7XG59XG5cbmZ1bmN0aW9uIGNvbnN0cnVjdFlhbWxCaW5hcnkoZGF0YSkge1xuICB2YXIgaWR4LCB0YWlsYml0cyxcbiAgICAgIGlucHV0ID0gZGF0YS5yZXBsYWNlKC9bXFxyXFxuPV0vZywgJycpLCAvLyByZW1vdmUgQ1IvTEYgJiBwYWRkaW5nIHRvIHNpbXBsaWZ5IHNjYW5cbiAgICAgIG1heCA9IGlucHV0Lmxlbmd0aCxcbiAgICAgIG1hcCA9IEJBU0U2NF9NQVAsXG4gICAgICBiaXRzID0gMCxcbiAgICAgIHJlc3VsdCA9IFtdO1xuXG4gIC8vIENvbGxlY3QgYnkgNio0IGJpdHMgKDMgYnl0ZXMpXG5cbiAgZm9yIChpZHggPSAwOyBpZHggPCBtYXg7IGlkeCsrKSB7XG4gICAgaWYgKChpZHggJSA0ID09PSAwKSAmJiBpZHgpIHtcbiAgICAgIHJlc3VsdC5wdXNoKChiaXRzID4+IDE2KSAmIDB4RkYpO1xuICAgICAgcmVzdWx0LnB1c2goKGJpdHMgPj4gOCkgJiAweEZGKTtcbiAgICAgIHJlc3VsdC5wdXNoKGJpdHMgJiAweEZGKTtcbiAgICB9XG5cbiAgICBiaXRzID0gKGJpdHMgPDwgNikgfCBtYXAuaW5kZXhPZihpbnB1dC5jaGFyQXQoaWR4KSk7XG4gIH1cblxuICAvLyBEdW1wIHRhaWxcblxuICB0YWlsYml0cyA9IChtYXggJSA0KSAqIDY7XG5cbiAgaWYgKHRhaWxiaXRzID09PSAwKSB7XG4gICAgcmVzdWx0LnB1c2goKGJpdHMgPj4gMTYpICYgMHhGRik7XG4gICAgcmVzdWx0LnB1c2goKGJpdHMgPj4gOCkgJiAweEZGKTtcbiAgICByZXN1bHQucHVzaChiaXRzICYgMHhGRik7XG4gIH0gZWxzZSBpZiAodGFpbGJpdHMgPT09IDE4KSB7XG4gICAgcmVzdWx0LnB1c2goKGJpdHMgPj4gMTApICYgMHhGRik7XG4gICAgcmVzdWx0LnB1c2goKGJpdHMgPj4gMikgJiAweEZGKTtcbiAgfSBlbHNlIGlmICh0YWlsYml0cyA9PT0gMTIpIHtcbiAgICByZXN1bHQucHVzaCgoYml0cyA+PiA0KSAmIDB4RkYpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHJlc3VsdCk7XG59XG5cbmZ1bmN0aW9uIHJlcHJlc2VudFlhbWxCaW5hcnkob2JqZWN0IC8qLCBzdHlsZSovKSB7XG4gIHZhciByZXN1bHQgPSAnJywgYml0cyA9IDAsIGlkeCwgdGFpbCxcbiAgICAgIG1heCA9IG9iamVjdC5sZW5ndGgsXG4gICAgICBtYXAgPSBCQVNFNjRfTUFQO1xuXG4gIC8vIENvbnZlcnQgZXZlcnkgdGhyZWUgYnl0ZXMgdG8gNCBBU0NJSSBjaGFyYWN0ZXJzLlxuXG4gIGZvciAoaWR4ID0gMDsgaWR4IDwgbWF4OyBpZHgrKykge1xuICAgIGlmICgoaWR4ICUgMyA9PT0gMCkgJiYgaWR4KSB7XG4gICAgICByZXN1bHQgKz0gbWFwWyhiaXRzID4+IDE4KSAmIDB4M0ZdO1xuICAgICAgcmVzdWx0ICs9IG1hcFsoYml0cyA+PiAxMikgJiAweDNGXTtcbiAgICAgIHJlc3VsdCArPSBtYXBbKGJpdHMgPj4gNikgJiAweDNGXTtcbiAgICAgIHJlc3VsdCArPSBtYXBbYml0cyAmIDB4M0ZdO1xuICAgIH1cblxuICAgIGJpdHMgPSAoYml0cyA8PCA4KSArIG9iamVjdFtpZHhdO1xuICB9XG5cbiAgLy8gRHVtcCB0YWlsXG5cbiAgdGFpbCA9IG1heCAlIDM7XG5cbiAgaWYgKHRhaWwgPT09IDApIHtcbiAgICByZXN1bHQgKz0gbWFwWyhiaXRzID4+IDE4KSAmIDB4M0ZdO1xuICAgIHJlc3VsdCArPSBtYXBbKGJpdHMgPj4gMTIpICYgMHgzRl07XG4gICAgcmVzdWx0ICs9IG1hcFsoYml0cyA+PiA2KSAmIDB4M0ZdO1xuICAgIHJlc3VsdCArPSBtYXBbYml0cyAmIDB4M0ZdO1xuICB9IGVsc2UgaWYgKHRhaWwgPT09IDIpIHtcbiAgICByZXN1bHQgKz0gbWFwWyhiaXRzID4+IDEwKSAmIDB4M0ZdO1xuICAgIHJlc3VsdCArPSBtYXBbKGJpdHMgPj4gNCkgJiAweDNGXTtcbiAgICByZXN1bHQgKz0gbWFwWyhiaXRzIDw8IDIpICYgMHgzRl07XG4gICAgcmVzdWx0ICs9IG1hcFs2NF07XG4gIH0gZWxzZSBpZiAodGFpbCA9PT0gMSkge1xuICAgIHJlc3VsdCArPSBtYXBbKGJpdHMgPj4gMikgJiAweDNGXTtcbiAgICByZXN1bHQgKz0gbWFwWyhiaXRzIDw8IDQpICYgMHgzRl07XG4gICAgcmVzdWx0ICs9IG1hcFs2NF07XG4gICAgcmVzdWx0ICs9IG1hcFs2NF07XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBpc0JpbmFyeShvYmopIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAgJ1tvYmplY3QgVWludDhBcnJheV0nO1xufVxuXG52YXIgYmluYXJ5ID0gbmV3IHR5cGUoJ3RhZzp5YW1sLm9yZywyMDAyOmJpbmFyeScsIHtcbiAga2luZDogJ3NjYWxhcicsXG4gIHJlc29sdmU6IHJlc29sdmVZYW1sQmluYXJ5LFxuICBjb25zdHJ1Y3Q6IGNvbnN0cnVjdFlhbWxCaW5hcnksXG4gIHByZWRpY2F0ZTogaXNCaW5hcnksXG4gIHJlcHJlc2VudDogcmVwcmVzZW50WWFtbEJpbmFyeVxufSk7XG5cbnZhciBfaGFzT3duUHJvcGVydHkkMyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX3RvU3RyaW5nJDIgICAgICAgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG5mdW5jdGlvbiByZXNvbHZlWWFtbE9tYXAoZGF0YSkge1xuICBpZiAoZGF0YSA9PT0gbnVsbCkgcmV0dXJuIHRydWU7XG5cbiAgdmFyIG9iamVjdEtleXMgPSBbXSwgaW5kZXgsIGxlbmd0aCwgcGFpciwgcGFpcktleSwgcGFpckhhc0tleSxcbiAgICAgIG9iamVjdCA9IGRhdGE7XG5cbiAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IG9iamVjdC5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgcGFpciA9IG9iamVjdFtpbmRleF07XG4gICAgcGFpckhhc0tleSA9IGZhbHNlO1xuXG4gICAgaWYgKF90b1N0cmluZyQyLmNhbGwocGFpcikgIT09ICdbb2JqZWN0IE9iamVjdF0nKSByZXR1cm4gZmFsc2U7XG5cbiAgICBmb3IgKHBhaXJLZXkgaW4gcGFpcikge1xuICAgICAgaWYgKF9oYXNPd25Qcm9wZXJ0eSQzLmNhbGwocGFpciwgcGFpcktleSkpIHtcbiAgICAgICAgaWYgKCFwYWlySGFzS2V5KSBwYWlySGFzS2V5ID0gdHJ1ZTtcbiAgICAgICAgZWxzZSByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFwYWlySGFzS2V5KSByZXR1cm4gZmFsc2U7XG5cbiAgICBpZiAob2JqZWN0S2V5cy5pbmRleE9mKHBhaXJLZXkpID09PSAtMSkgb2JqZWN0S2V5cy5wdXNoKHBhaXJLZXkpO1xuICAgIGVsc2UgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGNvbnN0cnVjdFlhbWxPbWFwKGRhdGEpIHtcbiAgcmV0dXJuIGRhdGEgIT09IG51bGwgPyBkYXRhIDogW107XG59XG5cbnZhciBvbWFwID0gbmV3IHR5cGUoJ3RhZzp5YW1sLm9yZywyMDAyOm9tYXAnLCB7XG4gIGtpbmQ6ICdzZXF1ZW5jZScsXG4gIHJlc29sdmU6IHJlc29sdmVZYW1sT21hcCxcbiAgY29uc3RydWN0OiBjb25zdHJ1Y3RZYW1sT21hcFxufSk7XG5cbnZhciBfdG9TdHJpbmckMSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbmZ1bmN0aW9uIHJlc29sdmVZYW1sUGFpcnMoZGF0YSkge1xuICBpZiAoZGF0YSA9PT0gbnVsbCkgcmV0dXJuIHRydWU7XG5cbiAgdmFyIGluZGV4LCBsZW5ndGgsIHBhaXIsIGtleXMsIHJlc3VsdCxcbiAgICAgIG9iamVjdCA9IGRhdGE7XG5cbiAgcmVzdWx0ID0gbmV3IEFycmF5KG9iamVjdC5sZW5ndGgpO1xuXG4gIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBvYmplY3QubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgIHBhaXIgPSBvYmplY3RbaW5kZXhdO1xuXG4gICAgaWYgKF90b1N0cmluZyQxLmNhbGwocGFpcikgIT09ICdbb2JqZWN0IE9iamVjdF0nKSByZXR1cm4gZmFsc2U7XG5cbiAgICBrZXlzID0gT2JqZWN0LmtleXMocGFpcik7XG5cbiAgICBpZiAoa2V5cy5sZW5ndGggIT09IDEpIHJldHVybiBmYWxzZTtcblxuICAgIHJlc3VsdFtpbmRleF0gPSBbIGtleXNbMF0sIHBhaXJba2V5c1swXV0gXTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBjb25zdHJ1Y3RZYW1sUGFpcnMoZGF0YSkge1xuICBpZiAoZGF0YSA9PT0gbnVsbCkgcmV0dXJuIFtdO1xuXG4gIHZhciBpbmRleCwgbGVuZ3RoLCBwYWlyLCBrZXlzLCByZXN1bHQsXG4gICAgICBvYmplY3QgPSBkYXRhO1xuXG4gIHJlc3VsdCA9IG5ldyBBcnJheShvYmplY3QubGVuZ3RoKTtcblxuICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gb2JqZWN0Lmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICBwYWlyID0gb2JqZWN0W2luZGV4XTtcblxuICAgIGtleXMgPSBPYmplY3Qua2V5cyhwYWlyKTtcblxuICAgIHJlc3VsdFtpbmRleF0gPSBbIGtleXNbMF0sIHBhaXJba2V5c1swXV0gXTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbnZhciBwYWlycyA9IG5ldyB0eXBlKCd0YWc6eWFtbC5vcmcsMjAwMjpwYWlycycsIHtcbiAga2luZDogJ3NlcXVlbmNlJyxcbiAgcmVzb2x2ZTogcmVzb2x2ZVlhbWxQYWlycyxcbiAgY29uc3RydWN0OiBjb25zdHJ1Y3RZYW1sUGFpcnNcbn0pO1xuXG52YXIgX2hhc093blByb3BlcnR5JDIgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG5mdW5jdGlvbiByZXNvbHZlWWFtbFNldChkYXRhKSB7XG4gIGlmIChkYXRhID09PSBudWxsKSByZXR1cm4gdHJ1ZTtcblxuICB2YXIga2V5LCBvYmplY3QgPSBkYXRhO1xuXG4gIGZvciAoa2V5IGluIG9iamVjdCkge1xuICAgIGlmIChfaGFzT3duUHJvcGVydHkkMi5jYWxsKG9iamVjdCwga2V5KSkge1xuICAgICAgaWYgKG9iamVjdFtrZXldICE9PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGNvbnN0cnVjdFlhbWxTZXQoZGF0YSkge1xuICByZXR1cm4gZGF0YSAhPT0gbnVsbCA/IGRhdGEgOiB7fTtcbn1cblxudmFyIHNldCA9IG5ldyB0eXBlKCd0YWc6eWFtbC5vcmcsMjAwMjpzZXQnLCB7XG4gIGtpbmQ6ICdtYXBwaW5nJyxcbiAgcmVzb2x2ZTogcmVzb2x2ZVlhbWxTZXQsXG4gIGNvbnN0cnVjdDogY29uc3RydWN0WWFtbFNldFxufSk7XG5cbnZhciBfZGVmYXVsdCA9IGNvcmUuZXh0ZW5kKHtcbiAgaW1wbGljaXQ6IFtcbiAgICB0aW1lc3RhbXAsXG4gICAgbWVyZ2VcbiAgXSxcbiAgZXhwbGljaXQ6IFtcbiAgICBiaW5hcnksXG4gICAgb21hcCxcbiAgICBwYWlycyxcbiAgICBzZXRcbiAgXVxufSk7XG5cbi8qZXNsaW50LWRpc2FibGUgbWF4LWxlbixuby11c2UtYmVmb3JlLWRlZmluZSovXG5cblxuXG5cblxuXG5cbnZhciBfaGFzT3duUHJvcGVydHkkMSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cblxudmFyIENPTlRFWFRfRkxPV19JTiAgID0gMTtcbnZhciBDT05URVhUX0ZMT1dfT1VUICA9IDI7XG52YXIgQ09OVEVYVF9CTE9DS19JTiAgPSAzO1xudmFyIENPTlRFWFRfQkxPQ0tfT1VUID0gNDtcblxuXG52YXIgQ0hPTVBJTkdfQ0xJUCAgPSAxO1xudmFyIENIT01QSU5HX1NUUklQID0gMjtcbnZhciBDSE9NUElOR19LRUVQICA9IDM7XG5cblxudmFyIFBBVFRFUk5fTk9OX1BSSU5UQUJMRSAgICAgICAgID0gL1tcXHgwMC1cXHgwOFxceDBCXFx4MENcXHgwRS1cXHgxRlxceDdGLVxceDg0XFx4ODYtXFx4OUZcXHVGRkZFXFx1RkZGRl18W1xcdUQ4MDAtXFx1REJGRl0oPyFbXFx1REMwMC1cXHVERkZGXSl8KD86W15cXHVEODAwLVxcdURCRkZdfF4pW1xcdURDMDAtXFx1REZGRl0vO1xudmFyIFBBVFRFUk5fTk9OX0FTQ0lJX0xJTkVfQlJFQUtTID0gL1tcXHg4NVxcdTIwMjhcXHUyMDI5XS87XG52YXIgUEFUVEVSTl9GTE9XX0lORElDQVRPUlMgICAgICAgPSAvWyxcXFtcXF1cXHtcXH1dLztcbnZhciBQQVRURVJOX1RBR19IQU5ETEUgICAgICAgICAgICA9IC9eKD86IXwhIXwhW2EtelxcLV0rISkkL2k7XG52YXIgUEFUVEVSTl9UQUdfVVJJICAgICAgICAgICAgICAgPSAvXig/OiF8W14sXFxbXFxdXFx7XFx9XSkoPzolWzAtOWEtZl17Mn18WzAtOWEtelxcLSM7XFwvXFw/OkAmPVxcK1xcJCxfXFwuIX5cXConXFwoXFwpXFxbXFxdXSkqJC9pO1xuXG5cbmZ1bmN0aW9uIF9jbGFzcyhvYmopIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopOyB9XG5cbmZ1bmN0aW9uIGlzX0VPTChjKSB7XG4gIHJldHVybiAoYyA9PT0gMHgwQS8qIExGICovKSB8fCAoYyA9PT0gMHgwRC8qIENSICovKTtcbn1cblxuZnVuY3Rpb24gaXNfV0hJVEVfU1BBQ0UoYykge1xuICByZXR1cm4gKGMgPT09IDB4MDkvKiBUYWIgKi8pIHx8IChjID09PSAweDIwLyogU3BhY2UgKi8pO1xufVxuXG5mdW5jdGlvbiBpc19XU19PUl9FT0woYykge1xuICByZXR1cm4gKGMgPT09IDB4MDkvKiBUYWIgKi8pIHx8XG4gICAgICAgICAoYyA9PT0gMHgyMC8qIFNwYWNlICovKSB8fFxuICAgICAgICAgKGMgPT09IDB4MEEvKiBMRiAqLykgfHxcbiAgICAgICAgIChjID09PSAweDBELyogQ1IgKi8pO1xufVxuXG5mdW5jdGlvbiBpc19GTE9XX0lORElDQVRPUihjKSB7XG4gIHJldHVybiBjID09PSAweDJDLyogLCAqLyB8fFxuICAgICAgICAgYyA9PT0gMHg1Qi8qIFsgKi8gfHxcbiAgICAgICAgIGMgPT09IDB4NUQvKiBdICovIHx8XG4gICAgICAgICBjID09PSAweDdCLyogeyAqLyB8fFxuICAgICAgICAgYyA9PT0gMHg3RC8qIH0gKi87XG59XG5cbmZ1bmN0aW9uIGZyb21IZXhDb2RlKGMpIHtcbiAgdmFyIGxjO1xuXG4gIGlmICgoMHgzMC8qIDAgKi8gPD0gYykgJiYgKGMgPD0gMHgzOS8qIDkgKi8pKSB7XG4gICAgcmV0dXJuIGMgLSAweDMwO1xuICB9XG5cbiAgLyplc2xpbnQtZGlzYWJsZSBuby1iaXR3aXNlKi9cbiAgbGMgPSBjIHwgMHgyMDtcblxuICBpZiAoKDB4NjEvKiBhICovIDw9IGxjKSAmJiAobGMgPD0gMHg2Ni8qIGYgKi8pKSB7XG4gICAgcmV0dXJuIGxjIC0gMHg2MSArIDEwO1xuICB9XG5cbiAgcmV0dXJuIC0xO1xufVxuXG5mdW5jdGlvbiBlc2NhcGVkSGV4TGVuKGMpIHtcbiAgaWYgKGMgPT09IDB4NzgvKiB4ICovKSB7IHJldHVybiAyOyB9XG4gIGlmIChjID09PSAweDc1LyogdSAqLykgeyByZXR1cm4gNDsgfVxuICBpZiAoYyA9PT0gMHg1NS8qIFUgKi8pIHsgcmV0dXJuIDg7IH1cbiAgcmV0dXJuIDA7XG59XG5cbmZ1bmN0aW9uIGZyb21EZWNpbWFsQ29kZShjKSB7XG4gIGlmICgoMHgzMC8qIDAgKi8gPD0gYykgJiYgKGMgPD0gMHgzOS8qIDkgKi8pKSB7XG4gICAgcmV0dXJuIGMgLSAweDMwO1xuICB9XG5cbiAgcmV0dXJuIC0xO1xufVxuXG5mdW5jdGlvbiBzaW1wbGVFc2NhcGVTZXF1ZW5jZShjKSB7XG4gIC8qIGVzbGludC1kaXNhYmxlIGluZGVudCAqL1xuICByZXR1cm4gKGMgPT09IDB4MzAvKiAwICovKSA/ICdcXHgwMCcgOlxuICAgICAgICAoYyA9PT0gMHg2MS8qIGEgKi8pID8gJ1xceDA3JyA6XG4gICAgICAgIChjID09PSAweDYyLyogYiAqLykgPyAnXFx4MDgnIDpcbiAgICAgICAgKGMgPT09IDB4NzQvKiB0ICovKSA/ICdcXHgwOScgOlxuICAgICAgICAoYyA9PT0gMHgwOS8qIFRhYiAqLykgPyAnXFx4MDknIDpcbiAgICAgICAgKGMgPT09IDB4NkUvKiBuICovKSA/ICdcXHgwQScgOlxuICAgICAgICAoYyA9PT0gMHg3Ni8qIHYgKi8pID8gJ1xceDBCJyA6XG4gICAgICAgIChjID09PSAweDY2LyogZiAqLykgPyAnXFx4MEMnIDpcbiAgICAgICAgKGMgPT09IDB4NzIvKiByICovKSA/ICdcXHgwRCcgOlxuICAgICAgICAoYyA9PT0gMHg2NS8qIGUgKi8pID8gJ1xceDFCJyA6XG4gICAgICAgIChjID09PSAweDIwLyogU3BhY2UgKi8pID8gJyAnIDpcbiAgICAgICAgKGMgPT09IDB4MjIvKiBcIiAqLykgPyAnXFx4MjInIDpcbiAgICAgICAgKGMgPT09IDB4MkYvKiAvICovKSA/ICcvJyA6XG4gICAgICAgIChjID09PSAweDVDLyogXFwgKi8pID8gJ1xceDVDJyA6XG4gICAgICAgIChjID09PSAweDRFLyogTiAqLykgPyAnXFx4ODUnIDpcbiAgICAgICAgKGMgPT09IDB4NUYvKiBfICovKSA/ICdcXHhBMCcgOlxuICAgICAgICAoYyA9PT0gMHg0Qy8qIEwgKi8pID8gJ1xcdTIwMjgnIDpcbiAgICAgICAgKGMgPT09IDB4NTAvKiBQICovKSA/ICdcXHUyMDI5JyA6ICcnO1xufVxuXG5mdW5jdGlvbiBjaGFyRnJvbUNvZGVwb2ludChjKSB7XG4gIGlmIChjIDw9IDB4RkZGRikge1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGMpO1xuICB9XG4gIC8vIEVuY29kZSBVVEYtMTYgc3Vycm9nYXRlIHBhaXJcbiAgLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVVRGLTE2I0NvZGVfcG9pbnRzX1UuMkIwMTAwMDBfdG9fVS4yQjEwRkZGRlxuICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShcbiAgICAoKGMgLSAweDAxMDAwMCkgPj4gMTApICsgMHhEODAwLFxuICAgICgoYyAtIDB4MDEwMDAwKSAmIDB4MDNGRikgKyAweERDMDBcbiAgKTtcbn1cblxudmFyIHNpbXBsZUVzY2FwZUNoZWNrID0gbmV3IEFycmF5KDI1Nik7IC8vIGludGVnZXIsIGZvciBmYXN0IGFjY2Vzc1xudmFyIHNpbXBsZUVzY2FwZU1hcCA9IG5ldyBBcnJheSgyNTYpO1xuZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7IGkrKykge1xuICBzaW1wbGVFc2NhcGVDaGVja1tpXSA9IHNpbXBsZUVzY2FwZVNlcXVlbmNlKGkpID8gMSA6IDA7XG4gIHNpbXBsZUVzY2FwZU1hcFtpXSA9IHNpbXBsZUVzY2FwZVNlcXVlbmNlKGkpO1xufVxuXG5cbmZ1bmN0aW9uIFN0YXRlJDEoaW5wdXQsIG9wdGlvbnMpIHtcbiAgdGhpcy5pbnB1dCA9IGlucHV0O1xuXG4gIHRoaXMuZmlsZW5hbWUgID0gb3B0aW9uc1snZmlsZW5hbWUnXSAgfHwgbnVsbDtcbiAgdGhpcy5zY2hlbWEgICAgPSBvcHRpb25zWydzY2hlbWEnXSAgICB8fCBfZGVmYXVsdDtcbiAgdGhpcy5vbldhcm5pbmcgPSBvcHRpb25zWydvbldhcm5pbmcnXSB8fCBudWxsO1xuICAvLyAoSGlkZGVuKSBSZW1vdmU/IG1ha2VzIHRoZSBsb2FkZXIgdG8gZXhwZWN0IFlBTUwgMS4xIGRvY3VtZW50c1xuICAvLyBpZiBzdWNoIGRvY3VtZW50cyBoYXZlIG5vIGV4cGxpY2l0ICVZQU1MIGRpcmVjdGl2ZVxuICB0aGlzLmxlZ2FjeSAgICA9IG9wdGlvbnNbJ2xlZ2FjeSddICAgIHx8IGZhbHNlO1xuXG4gIHRoaXMuanNvbiAgICAgID0gb3B0aW9uc1snanNvbiddICAgICAgfHwgZmFsc2U7XG4gIHRoaXMubGlzdGVuZXIgID0gb3B0aW9uc1snbGlzdGVuZXInXSAgfHwgbnVsbDtcblxuICB0aGlzLmltcGxpY2l0VHlwZXMgPSB0aGlzLnNjaGVtYS5jb21waWxlZEltcGxpY2l0O1xuICB0aGlzLnR5cGVNYXAgICAgICAgPSB0aGlzLnNjaGVtYS5jb21waWxlZFR5cGVNYXA7XG5cbiAgdGhpcy5sZW5ndGggICAgID0gaW5wdXQubGVuZ3RoO1xuICB0aGlzLnBvc2l0aW9uICAgPSAwO1xuICB0aGlzLmxpbmUgICAgICAgPSAwO1xuICB0aGlzLmxpbmVTdGFydCAgPSAwO1xuICB0aGlzLmxpbmVJbmRlbnQgPSAwO1xuXG4gIC8vIHBvc2l0aW9uIG9mIGZpcnN0IGxlYWRpbmcgdGFiIGluIHRoZSBjdXJyZW50IGxpbmUsXG4gIC8vIHVzZWQgdG8gbWFrZSBzdXJlIHRoZXJlIGFyZSBubyB0YWJzIGluIHRoZSBpbmRlbnRhdGlvblxuICB0aGlzLmZpcnN0VGFiSW5MaW5lID0gLTE7XG5cbiAgdGhpcy5kb2N1bWVudHMgPSBbXTtcblxuICAvKlxuICB0aGlzLnZlcnNpb247XG4gIHRoaXMuY2hlY2tMaW5lQnJlYWtzO1xuICB0aGlzLnRhZ01hcDtcbiAgdGhpcy5hbmNob3JNYXA7XG4gIHRoaXMudGFnO1xuICB0aGlzLmFuY2hvcjtcbiAgdGhpcy5raW5kO1xuICB0aGlzLnJlc3VsdDsqL1xuXG59XG5cblxuZnVuY3Rpb24gZ2VuZXJhdGVFcnJvcihzdGF0ZSwgbWVzc2FnZSkge1xuICB2YXIgbWFyayA9IHtcbiAgICBuYW1lOiAgICAgc3RhdGUuZmlsZW5hbWUsXG4gICAgYnVmZmVyOiAgIHN0YXRlLmlucHV0LnNsaWNlKDAsIC0xKSwgLy8gb21pdCB0cmFpbGluZyBcXDBcbiAgICBwb3NpdGlvbjogc3RhdGUucG9zaXRpb24sXG4gICAgbGluZTogICAgIHN0YXRlLmxpbmUsXG4gICAgY29sdW1uOiAgIHN0YXRlLnBvc2l0aW9uIC0gc3RhdGUubGluZVN0YXJ0XG4gIH07XG5cbiAgbWFyay5zbmlwcGV0ID0gc25pcHBldChtYXJrKTtcblxuICByZXR1cm4gbmV3IGV4Y2VwdGlvbihtZXNzYWdlLCBtYXJrKTtcbn1cblxuZnVuY3Rpb24gdGhyb3dFcnJvcihzdGF0ZSwgbWVzc2FnZSkge1xuICB0aHJvdyBnZW5lcmF0ZUVycm9yKHN0YXRlLCBtZXNzYWdlKTtcbn1cblxuZnVuY3Rpb24gdGhyb3dXYXJuaW5nKHN0YXRlLCBtZXNzYWdlKSB7XG4gIGlmIChzdGF0ZS5vbldhcm5pbmcpIHtcbiAgICBzdGF0ZS5vbldhcm5pbmcuY2FsbChudWxsLCBnZW5lcmF0ZUVycm9yKHN0YXRlLCBtZXNzYWdlKSk7XG4gIH1cbn1cblxuXG52YXIgZGlyZWN0aXZlSGFuZGxlcnMgPSB7XG5cbiAgWUFNTDogZnVuY3Rpb24gaGFuZGxlWWFtbERpcmVjdGl2ZShzdGF0ZSwgbmFtZSwgYXJncykge1xuXG4gICAgdmFyIG1hdGNoLCBtYWpvciwgbWlub3I7XG5cbiAgICBpZiAoc3RhdGUudmVyc2lvbiAhPT0gbnVsbCkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2R1cGxpY2F0aW9uIG9mICVZQU1MIGRpcmVjdGl2ZScpO1xuICAgIH1cblxuICAgIGlmIChhcmdzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ1lBTUwgZGlyZWN0aXZlIGFjY2VwdHMgZXhhY3RseSBvbmUgYXJndW1lbnQnKTtcbiAgICB9XG5cbiAgICBtYXRjaCA9IC9eKFswLTldKylcXC4oWzAtOV0rKSQvLmV4ZWMoYXJnc1swXSk7XG5cbiAgICBpZiAobWF0Y2ggPT09IG51bGwpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICdpbGwtZm9ybWVkIGFyZ3VtZW50IG9mIHRoZSBZQU1MIGRpcmVjdGl2ZScpO1xuICAgIH1cblxuICAgIG1ham9yID0gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTtcbiAgICBtaW5vciA9IHBhcnNlSW50KG1hdGNoWzJdLCAxMCk7XG5cbiAgICBpZiAobWFqb3IgIT09IDEpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICd1bmFjY2VwdGFibGUgWUFNTCB2ZXJzaW9uIG9mIHRoZSBkb2N1bWVudCcpO1xuICAgIH1cblxuICAgIHN0YXRlLnZlcnNpb24gPSBhcmdzWzBdO1xuICAgIHN0YXRlLmNoZWNrTGluZUJyZWFrcyA9IChtaW5vciA8IDIpO1xuXG4gICAgaWYgKG1pbm9yICE9PSAxICYmIG1pbm9yICE9PSAyKSB7XG4gICAgICB0aHJvd1dhcm5pbmcoc3RhdGUsICd1bnN1cHBvcnRlZCBZQU1MIHZlcnNpb24gb2YgdGhlIGRvY3VtZW50Jyk7XG4gICAgfVxuICB9LFxuXG4gIFRBRzogZnVuY3Rpb24gaGFuZGxlVGFnRGlyZWN0aXZlKHN0YXRlLCBuYW1lLCBhcmdzKSB7XG5cbiAgICB2YXIgaGFuZGxlLCBwcmVmaXg7XG5cbiAgICBpZiAoYXJncy5sZW5ndGggIT09IDIpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICdUQUcgZGlyZWN0aXZlIGFjY2VwdHMgZXhhY3RseSB0d28gYXJndW1lbnRzJyk7XG4gICAgfVxuXG4gICAgaGFuZGxlID0gYXJnc1swXTtcbiAgICBwcmVmaXggPSBhcmdzWzFdO1xuXG4gICAgaWYgKCFQQVRURVJOX1RBR19IQU5ETEUudGVzdChoYW5kbGUpKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnaWxsLWZvcm1lZCB0YWcgaGFuZGxlIChmaXJzdCBhcmd1bWVudCkgb2YgdGhlIFRBRyBkaXJlY3RpdmUnKTtcbiAgICB9XG5cbiAgICBpZiAoX2hhc093blByb3BlcnR5JDEuY2FsbChzdGF0ZS50YWdNYXAsIGhhbmRsZSkpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICd0aGVyZSBpcyBhIHByZXZpb3VzbHkgZGVjbGFyZWQgc3VmZml4IGZvciBcIicgKyBoYW5kbGUgKyAnXCIgdGFnIGhhbmRsZScpO1xuICAgIH1cblxuICAgIGlmICghUEFUVEVSTl9UQUdfVVJJLnRlc3QocHJlZml4KSkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2lsbC1mb3JtZWQgdGFnIHByZWZpeCAoc2Vjb25kIGFyZ3VtZW50KSBvZiB0aGUgVEFHIGRpcmVjdGl2ZScpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBwcmVmaXggPSBkZWNvZGVVUklDb21wb25lbnQocHJlZml4KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICd0YWcgcHJlZml4IGlzIG1hbGZvcm1lZDogJyArIHByZWZpeCk7XG4gICAgfVxuXG4gICAgc3RhdGUudGFnTWFwW2hhbmRsZV0gPSBwcmVmaXg7XG4gIH1cbn07XG5cblxuZnVuY3Rpb24gY2FwdHVyZVNlZ21lbnQoc3RhdGUsIHN0YXJ0LCBlbmQsIGNoZWNrSnNvbikge1xuICB2YXIgX3Bvc2l0aW9uLCBfbGVuZ3RoLCBfY2hhcmFjdGVyLCBfcmVzdWx0O1xuXG4gIGlmIChzdGFydCA8IGVuZCkge1xuICAgIF9yZXN1bHQgPSBzdGF0ZS5pbnB1dC5zbGljZShzdGFydCwgZW5kKTtcblxuICAgIGlmIChjaGVja0pzb24pIHtcbiAgICAgIGZvciAoX3Bvc2l0aW9uID0gMCwgX2xlbmd0aCA9IF9yZXN1bHQubGVuZ3RoOyBfcG9zaXRpb24gPCBfbGVuZ3RoOyBfcG9zaXRpb24gKz0gMSkge1xuICAgICAgICBfY2hhcmFjdGVyID0gX3Jlc3VsdC5jaGFyQ29kZUF0KF9wb3NpdGlvbik7XG4gICAgICAgIGlmICghKF9jaGFyYWN0ZXIgPT09IDB4MDkgfHxcbiAgICAgICAgICAgICAgKDB4MjAgPD0gX2NoYXJhY3RlciAmJiBfY2hhcmFjdGVyIDw9IDB4MTBGRkZGKSkpIHtcbiAgICAgICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnZXhwZWN0ZWQgdmFsaWQgSlNPTiBjaGFyYWN0ZXInKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoUEFUVEVSTl9OT05fUFJJTlRBQkxFLnRlc3QoX3Jlc3VsdCkpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICd0aGUgc3RyZWFtIGNvbnRhaW5zIG5vbi1wcmludGFibGUgY2hhcmFjdGVycycpO1xuICAgIH1cblxuICAgIHN0YXRlLnJlc3VsdCArPSBfcmVzdWx0O1xuICB9XG59XG5cbmZ1bmN0aW9uIG1lcmdlTWFwcGluZ3Moc3RhdGUsIGRlc3RpbmF0aW9uLCBzb3VyY2UsIG92ZXJyaWRhYmxlS2V5cykge1xuICB2YXIgc291cmNlS2V5cywga2V5LCBpbmRleCwgcXVhbnRpdHk7XG5cbiAgaWYgKCFjb21tb24uaXNPYmplY3Qoc291cmNlKSkge1xuICAgIHRocm93RXJyb3Ioc3RhdGUsICdjYW5ub3QgbWVyZ2UgbWFwcGluZ3M7IHRoZSBwcm92aWRlZCBzb3VyY2Ugb2JqZWN0IGlzIHVuYWNjZXB0YWJsZScpO1xuICB9XG5cbiAgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG5cbiAgZm9yIChpbmRleCA9IDAsIHF1YW50aXR5ID0gc291cmNlS2V5cy5sZW5ndGg7IGluZGV4IDwgcXVhbnRpdHk7IGluZGV4ICs9IDEpIHtcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2luZGV4XTtcblxuICAgIGlmICghX2hhc093blByb3BlcnR5JDEuY2FsbChkZXN0aW5hdGlvbiwga2V5KSkge1xuICAgICAgZGVzdGluYXRpb25ba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgb3ZlcnJpZGFibGVLZXlzW2tleV0gPSB0cnVlO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzdG9yZU1hcHBpbmdQYWlyKHN0YXRlLCBfcmVzdWx0LCBvdmVycmlkYWJsZUtleXMsIGtleVRhZywga2V5Tm9kZSwgdmFsdWVOb2RlLFxuICBzdGFydExpbmUsIHN0YXJ0TGluZVN0YXJ0LCBzdGFydFBvcykge1xuXG4gIHZhciBpbmRleCwgcXVhbnRpdHk7XG5cbiAgLy8gVGhlIG91dHB1dCBpcyBhIHBsYWluIG9iamVjdCBoZXJlLCBzbyBrZXlzIGNhbiBvbmx5IGJlIHN0cmluZ3MuXG4gIC8vIFdlIG5lZWQgdG8gY29udmVydCBrZXlOb2RlIHRvIGEgc3RyaW5nLCBidXQgZG9pbmcgc28gY2FuIGhhbmcgdGhlIHByb2Nlc3NcbiAgLy8gKGRlZXBseSBuZXN0ZWQgYXJyYXlzIHRoYXQgZXhwbG9kZSBleHBvbmVudGlhbGx5IHVzaW5nIGFsaWFzZXMpLlxuICBpZiAoQXJyYXkuaXNBcnJheShrZXlOb2RlKSkge1xuICAgIGtleU5vZGUgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChrZXlOb2RlKTtcblxuICAgIGZvciAoaW5kZXggPSAwLCBxdWFudGl0eSA9IGtleU5vZGUubGVuZ3RoOyBpbmRleCA8IHF1YW50aXR5OyBpbmRleCArPSAxKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShrZXlOb2RlW2luZGV4XSkpIHtcbiAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ25lc3RlZCBhcnJheXMgYXJlIG5vdCBzdXBwb3J0ZWQgaW5zaWRlIGtleXMnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBrZXlOb2RlID09PSAnb2JqZWN0JyAmJiBfY2xhc3Moa2V5Tm9kZVtpbmRleF0pID09PSAnW29iamVjdCBPYmplY3RdJykge1xuICAgICAgICBrZXlOb2RlW2luZGV4XSA9ICdbb2JqZWN0IE9iamVjdF0nO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIEF2b2lkIGNvZGUgZXhlY3V0aW9uIGluIGxvYWQoKSB2aWEgdG9TdHJpbmcgcHJvcGVydHlcbiAgLy8gKHN0aWxsIHVzZSBpdHMgb3duIHRvU3RyaW5nIGZvciBhcnJheXMsIHRpbWVzdGFtcHMsXG4gIC8vIGFuZCB3aGF0ZXZlciB1c2VyIHNjaGVtYSBleHRlbnNpb25zIGhhcHBlbiB0byBoYXZlIEBAdG9TdHJpbmdUYWcpXG4gIGlmICh0eXBlb2Yga2V5Tm9kZSA9PT0gJ29iamVjdCcgJiYgX2NsYXNzKGtleU5vZGUpID09PSAnW29iamVjdCBPYmplY3RdJykge1xuICAgIGtleU5vZGUgPSAnW29iamVjdCBPYmplY3RdJztcbiAgfVxuXG5cbiAga2V5Tm9kZSA9IFN0cmluZyhrZXlOb2RlKTtcblxuICBpZiAoX3Jlc3VsdCA9PT0gbnVsbCkge1xuICAgIF9yZXN1bHQgPSB7fTtcbiAgfVxuXG4gIGlmIChrZXlUYWcgPT09ICd0YWc6eWFtbC5vcmcsMjAwMjptZXJnZScpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZU5vZGUpKSB7XG4gICAgICBmb3IgKGluZGV4ID0gMCwgcXVhbnRpdHkgPSB2YWx1ZU5vZGUubGVuZ3RoOyBpbmRleCA8IHF1YW50aXR5OyBpbmRleCArPSAxKSB7XG4gICAgICAgIG1lcmdlTWFwcGluZ3Moc3RhdGUsIF9yZXN1bHQsIHZhbHVlTm9kZVtpbmRleF0sIG92ZXJyaWRhYmxlS2V5cyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lcmdlTWFwcGluZ3Moc3RhdGUsIF9yZXN1bHQsIHZhbHVlTm9kZSwgb3ZlcnJpZGFibGVLZXlzKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFzdGF0ZS5qc29uICYmXG4gICAgICAgICFfaGFzT3duUHJvcGVydHkkMS5jYWxsKG92ZXJyaWRhYmxlS2V5cywga2V5Tm9kZSkgJiZcbiAgICAgICAgX2hhc093blByb3BlcnR5JDEuY2FsbChfcmVzdWx0LCBrZXlOb2RlKSkge1xuICAgICAgc3RhdGUubGluZSA9IHN0YXJ0TGluZSB8fCBzdGF0ZS5saW5lO1xuICAgICAgc3RhdGUubGluZVN0YXJ0ID0gc3RhcnRMaW5lU3RhcnQgfHwgc3RhdGUubGluZVN0YXJ0O1xuICAgICAgc3RhdGUucG9zaXRpb24gPSBzdGFydFBvcyB8fCBzdGF0ZS5wb3NpdGlvbjtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICdkdXBsaWNhdGVkIG1hcHBpbmcga2V5Jyk7XG4gICAgfVxuXG4gICAgLy8gdXNlZCBmb3IgdGhpcyBzcGVjaWZpYyBrZXkgb25seSBiZWNhdXNlIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSBpcyBzbG93XG4gICAgaWYgKGtleU5vZGUgPT09ICdfX3Byb3RvX18nKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX3Jlc3VsdCwga2V5Tm9kZSwge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdmFsdWVOb2RlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgX3Jlc3VsdFtrZXlOb2RlXSA9IHZhbHVlTm9kZTtcbiAgICB9XG4gICAgZGVsZXRlIG92ZXJyaWRhYmxlS2V5c1trZXlOb2RlXTtcbiAgfVxuXG4gIHJldHVybiBfcmVzdWx0O1xufVxuXG5mdW5jdGlvbiByZWFkTGluZUJyZWFrKHN0YXRlKSB7XG4gIHZhciBjaDtcblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pO1xuXG4gIGlmIChjaCA9PT0gMHgwQS8qIExGICovKSB7XG4gICAgc3RhdGUucG9zaXRpb24rKztcbiAgfSBlbHNlIGlmIChjaCA9PT0gMHgwRC8qIENSICovKSB7XG4gICAgc3RhdGUucG9zaXRpb24rKztcbiAgICBpZiAoc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbikgPT09IDB4MEEvKiBMRiAqLykge1xuICAgICAgc3RhdGUucG9zaXRpb24rKztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2EgbGluZSBicmVhayBpcyBleHBlY3RlZCcpO1xuICB9XG5cbiAgc3RhdGUubGluZSArPSAxO1xuICBzdGF0ZS5saW5lU3RhcnQgPSBzdGF0ZS5wb3NpdGlvbjtcbiAgc3RhdGUuZmlyc3RUYWJJbkxpbmUgPSAtMTtcbn1cblxuZnVuY3Rpb24gc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgYWxsb3dDb21tZW50cywgY2hlY2tJbmRlbnQpIHtcbiAgdmFyIGxpbmVCcmVha3MgPSAwLFxuICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICB3aGlsZSAoY2ggIT09IDApIHtcbiAgICB3aGlsZSAoaXNfV0hJVEVfU1BBQ0UoY2gpKSB7XG4gICAgICBpZiAoY2ggPT09IDB4MDkvKiBUYWIgKi8gJiYgc3RhdGUuZmlyc3RUYWJJbkxpbmUgPT09IC0xKSB7XG4gICAgICAgIHN0YXRlLmZpcnN0VGFiSW5MaW5lID0gc3RhdGUucG9zaXRpb247XG4gICAgICB9XG4gICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgfVxuXG4gICAgaWYgKGFsbG93Q29tbWVudHMgJiYgY2ggPT09IDB4MjMvKiAjICovKSB7XG4gICAgICBkbyB7XG4gICAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICAgIH0gd2hpbGUgKGNoICE9PSAweDBBLyogTEYgKi8gJiYgY2ggIT09IDB4MEQvKiBDUiAqLyAmJiBjaCAhPT0gMCk7XG4gICAgfVxuXG4gICAgaWYgKGlzX0VPTChjaCkpIHtcbiAgICAgIHJlYWRMaW5lQnJlYWsoc3RhdGUpO1xuXG4gICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pO1xuICAgICAgbGluZUJyZWFrcysrO1xuICAgICAgc3RhdGUubGluZUluZGVudCA9IDA7XG5cbiAgICAgIHdoaWxlIChjaCA9PT0gMHgyMC8qIFNwYWNlICovKSB7XG4gICAgICAgIHN0YXRlLmxpbmVJbmRlbnQrKztcbiAgICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoY2hlY2tJbmRlbnQgIT09IC0xICYmIGxpbmVCcmVha3MgIT09IDAgJiYgc3RhdGUubGluZUluZGVudCA8IGNoZWNrSW5kZW50KSB7XG4gICAgdGhyb3dXYXJuaW5nKHN0YXRlLCAnZGVmaWNpZW50IGluZGVudGF0aW9uJyk7XG4gIH1cblxuICByZXR1cm4gbGluZUJyZWFrcztcbn1cblxuZnVuY3Rpb24gdGVzdERvY3VtZW50U2VwYXJhdG9yKHN0YXRlKSB7XG4gIHZhciBfcG9zaXRpb24gPSBzdGF0ZS5wb3NpdGlvbixcbiAgICAgIGNoO1xuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChfcG9zaXRpb24pO1xuXG4gIC8vIENvbmRpdGlvbiBzdGF0ZS5wb3NpdGlvbiA9PT0gc3RhdGUubGluZVN0YXJ0IGlzIHRlc3RlZFxuICAvLyBpbiBwYXJlbnQgb24gZWFjaCBjYWxsLCBmb3IgZWZmaWNpZW5jeS4gTm8gbmVlZHMgdG8gdGVzdCBoZXJlIGFnYWluLlxuICBpZiAoKGNoID09PSAweDJELyogLSAqLyB8fCBjaCA9PT0gMHgyRS8qIC4gKi8pICYmXG4gICAgICBjaCA9PT0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChfcG9zaXRpb24gKyAxKSAmJlxuICAgICAgY2ggPT09IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoX3Bvc2l0aW9uICsgMikpIHtcblxuICAgIF9wb3NpdGlvbiArPSAzO1xuXG4gICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KF9wb3NpdGlvbik7XG5cbiAgICBpZiAoY2ggPT09IDAgfHwgaXNfV1NfT1JfRU9MKGNoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiB3cml0ZUZvbGRlZExpbmVzKHN0YXRlLCBjb3VudCkge1xuICBpZiAoY291bnQgPT09IDEpIHtcbiAgICBzdGF0ZS5yZXN1bHQgKz0gJyAnO1xuICB9IGVsc2UgaWYgKGNvdW50ID4gMSkge1xuICAgIHN0YXRlLnJlc3VsdCArPSBjb21tb24ucmVwZWF0KCdcXG4nLCBjb3VudCAtIDEpO1xuICB9XG59XG5cblxuZnVuY3Rpb24gcmVhZFBsYWluU2NhbGFyKHN0YXRlLCBub2RlSW5kZW50LCB3aXRoaW5GbG93Q29sbGVjdGlvbikge1xuICB2YXIgcHJlY2VkaW5nLFxuICAgICAgZm9sbG93aW5nLFxuICAgICAgY2FwdHVyZVN0YXJ0LFxuICAgICAgY2FwdHVyZUVuZCxcbiAgICAgIGhhc1BlbmRpbmdDb250ZW50LFxuICAgICAgX2xpbmUsXG4gICAgICBfbGluZVN0YXJ0LFxuICAgICAgX2xpbmVJbmRlbnQsXG4gICAgICBfa2luZCA9IHN0YXRlLmtpbmQsXG4gICAgICBfcmVzdWx0ID0gc3RhdGUucmVzdWx0LFxuICAgICAgY2g7XG5cbiAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICBpZiAoaXNfV1NfT1JfRU9MKGNoKSAgICAgIHx8XG4gICAgICBpc19GTE9XX0lORElDQVRPUihjaCkgfHxcbiAgICAgIGNoID09PSAweDIzLyogIyAqLyAgICB8fFxuICAgICAgY2ggPT09IDB4MjYvKiAmICovICAgIHx8XG4gICAgICBjaCA9PT0gMHgyQS8qICogKi8gICAgfHxcbiAgICAgIGNoID09PSAweDIxLyogISAqLyAgICB8fFxuICAgICAgY2ggPT09IDB4N0MvKiB8ICovICAgIHx8XG4gICAgICBjaCA9PT0gMHgzRS8qID4gKi8gICAgfHxcbiAgICAgIGNoID09PSAweDI3LyogJyAqLyAgICB8fFxuICAgICAgY2ggPT09IDB4MjIvKiBcIiAqLyAgICB8fFxuICAgICAgY2ggPT09IDB4MjUvKiAlICovICAgIHx8XG4gICAgICBjaCA9PT0gMHg0MC8qIEAgKi8gICAgfHxcbiAgICAgIGNoID09PSAweDYwLyogYCAqLykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChjaCA9PT0gMHgzRi8qID8gKi8gfHwgY2ggPT09IDB4MkQvKiAtICovKSB7XG4gICAgZm9sbG93aW5nID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbiArIDEpO1xuXG4gICAgaWYgKGlzX1dTX09SX0VPTChmb2xsb3dpbmcpIHx8XG4gICAgICAgIHdpdGhpbkZsb3dDb2xsZWN0aW9uICYmIGlzX0ZMT1dfSU5ESUNBVE9SKGZvbGxvd2luZykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzdGF0ZS5raW5kID0gJ3NjYWxhcic7XG4gIHN0YXRlLnJlc3VsdCA9ICcnO1xuICBjYXB0dXJlU3RhcnQgPSBjYXB0dXJlRW5kID0gc3RhdGUucG9zaXRpb247XG4gIGhhc1BlbmRpbmdDb250ZW50ID0gZmFsc2U7XG5cbiAgd2hpbGUgKGNoICE9PSAwKSB7XG4gICAgaWYgKGNoID09PSAweDNBLyogOiAqLykge1xuICAgICAgZm9sbG93aW5nID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbiArIDEpO1xuXG4gICAgICBpZiAoaXNfV1NfT1JfRU9MKGZvbGxvd2luZykgfHxcbiAgICAgICAgICB3aXRoaW5GbG93Q29sbGVjdGlvbiAmJiBpc19GTE9XX0lORElDQVRPUihmb2xsb3dpbmcpKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIGlmIChjaCA9PT0gMHgyMy8qICMgKi8pIHtcbiAgICAgIHByZWNlZGluZyA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24gLSAxKTtcblxuICAgICAgaWYgKGlzX1dTX09SX0VPTChwcmVjZWRpbmcpKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIGlmICgoc3RhdGUucG9zaXRpb24gPT09IHN0YXRlLmxpbmVTdGFydCAmJiB0ZXN0RG9jdW1lbnRTZXBhcmF0b3Ioc3RhdGUpKSB8fFxuICAgICAgICAgICAgICAgd2l0aGluRmxvd0NvbGxlY3Rpb24gJiYgaXNfRkxPV19JTkRJQ0FUT1IoY2gpKSB7XG4gICAgICBicmVhaztcblxuICAgIH0gZWxzZSBpZiAoaXNfRU9MKGNoKSkge1xuICAgICAgX2xpbmUgPSBzdGF0ZS5saW5lO1xuICAgICAgX2xpbmVTdGFydCA9IHN0YXRlLmxpbmVTdGFydDtcbiAgICAgIF9saW5lSW5kZW50ID0gc3RhdGUubGluZUluZGVudDtcbiAgICAgIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIGZhbHNlLCAtMSk7XG5cbiAgICAgIGlmIChzdGF0ZS5saW5lSW5kZW50ID49IG5vZGVJbmRlbnQpIHtcbiAgICAgICAgaGFzUGVuZGluZ0NvbnRlbnQgPSB0cnVlO1xuICAgICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRlLnBvc2l0aW9uID0gY2FwdHVyZUVuZDtcbiAgICAgICAgc3RhdGUubGluZSA9IF9saW5lO1xuICAgICAgICBzdGF0ZS5saW5lU3RhcnQgPSBfbGluZVN0YXJ0O1xuICAgICAgICBzdGF0ZS5saW5lSW5kZW50ID0gX2xpbmVJbmRlbnQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChoYXNQZW5kaW5nQ29udGVudCkge1xuICAgICAgY2FwdHVyZVNlZ21lbnQoc3RhdGUsIGNhcHR1cmVTdGFydCwgY2FwdHVyZUVuZCwgZmFsc2UpO1xuICAgICAgd3JpdGVGb2xkZWRMaW5lcyhzdGF0ZSwgc3RhdGUubGluZSAtIF9saW5lKTtcbiAgICAgIGNhcHR1cmVTdGFydCA9IGNhcHR1cmVFbmQgPSBzdGF0ZS5wb3NpdGlvbjtcbiAgICAgIGhhc1BlbmRpbmdDb250ZW50ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCFpc19XSElURV9TUEFDRShjaCkpIHtcbiAgICAgIGNhcHR1cmVFbmQgPSBzdGF0ZS5wb3NpdGlvbiArIDE7XG4gICAgfVxuXG4gICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuICB9XG5cbiAgY2FwdHVyZVNlZ21lbnQoc3RhdGUsIGNhcHR1cmVTdGFydCwgY2FwdHVyZUVuZCwgZmFsc2UpO1xuXG4gIGlmIChzdGF0ZS5yZXN1bHQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHN0YXRlLmtpbmQgPSBfa2luZDtcbiAgc3RhdGUucmVzdWx0ID0gX3Jlc3VsdDtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiByZWFkU2luZ2xlUXVvdGVkU2NhbGFyKHN0YXRlLCBub2RlSW5kZW50KSB7XG4gIHZhciBjaCxcbiAgICAgIGNhcHR1cmVTdGFydCwgY2FwdHVyZUVuZDtcblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pO1xuXG4gIGlmIChjaCAhPT0gMHgyNy8qICcgKi8pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdGF0ZS5raW5kID0gJ3NjYWxhcic7XG4gIHN0YXRlLnJlc3VsdCA9ICcnO1xuICBzdGF0ZS5wb3NpdGlvbisrO1xuICBjYXB0dXJlU3RhcnQgPSBjYXB0dXJlRW5kID0gc3RhdGUucG9zaXRpb247XG5cbiAgd2hpbGUgKChjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pKSAhPT0gMCkge1xuICAgIGlmIChjaCA9PT0gMHgyNy8qICcgKi8pIHtcbiAgICAgIGNhcHR1cmVTZWdtZW50KHN0YXRlLCBjYXB0dXJlU3RhcnQsIHN0YXRlLnBvc2l0aW9uLCB0cnVlKTtcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcblxuICAgICAgaWYgKGNoID09PSAweDI3LyogJyAqLykge1xuICAgICAgICBjYXB0dXJlU3RhcnQgPSBzdGF0ZS5wb3NpdGlvbjtcbiAgICAgICAgc3RhdGUucG9zaXRpb24rKztcbiAgICAgICAgY2FwdHVyZUVuZCA9IHN0YXRlLnBvc2l0aW9uO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICB9IGVsc2UgaWYgKGlzX0VPTChjaCkpIHtcbiAgICAgIGNhcHR1cmVTZWdtZW50KHN0YXRlLCBjYXB0dXJlU3RhcnQsIGNhcHR1cmVFbmQsIHRydWUpO1xuICAgICAgd3JpdGVGb2xkZWRMaW5lcyhzdGF0ZSwgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgZmFsc2UsIG5vZGVJbmRlbnQpKTtcbiAgICAgIGNhcHR1cmVTdGFydCA9IGNhcHR1cmVFbmQgPSBzdGF0ZS5wb3NpdGlvbjtcblxuICAgIH0gZWxzZSBpZiAoc3RhdGUucG9zaXRpb24gPT09IHN0YXRlLmxpbmVTdGFydCAmJiB0ZXN0RG9jdW1lbnRTZXBhcmF0b3Ioc3RhdGUpKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndW5leHBlY3RlZCBlbmQgb2YgdGhlIGRvY3VtZW50IHdpdGhpbiBhIHNpbmdsZSBxdW90ZWQgc2NhbGFyJyk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUucG9zaXRpb24rKztcbiAgICAgIGNhcHR1cmVFbmQgPSBzdGF0ZS5wb3NpdGlvbjtcbiAgICB9XG4gIH1cblxuICB0aHJvd0Vycm9yKHN0YXRlLCAndW5leHBlY3RlZCBlbmQgb2YgdGhlIHN0cmVhbSB3aXRoaW4gYSBzaW5nbGUgcXVvdGVkIHNjYWxhcicpO1xufVxuXG5mdW5jdGlvbiByZWFkRG91YmxlUXVvdGVkU2NhbGFyKHN0YXRlLCBub2RlSW5kZW50KSB7XG4gIHZhciBjYXB0dXJlU3RhcnQsXG4gICAgICBjYXB0dXJlRW5kLFxuICAgICAgaGV4TGVuZ3RoLFxuICAgICAgaGV4UmVzdWx0LFxuICAgICAgdG1wLFxuICAgICAgY2g7XG5cbiAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICBpZiAoY2ggIT09IDB4MjIvKiBcIiAqLykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0YXRlLmtpbmQgPSAnc2NhbGFyJztcbiAgc3RhdGUucmVzdWx0ID0gJyc7XG4gIHN0YXRlLnBvc2l0aW9uKys7XG4gIGNhcHR1cmVTdGFydCA9IGNhcHR1cmVFbmQgPSBzdGF0ZS5wb3NpdGlvbjtcblxuICB3aGlsZSAoKGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbikpICE9PSAwKSB7XG4gICAgaWYgKGNoID09PSAweDIyLyogXCIgKi8pIHtcbiAgICAgIGNhcHR1cmVTZWdtZW50KHN0YXRlLCBjYXB0dXJlU3RhcnQsIHN0YXRlLnBvc2l0aW9uLCB0cnVlKTtcbiAgICAgIHN0YXRlLnBvc2l0aW9uKys7XG4gICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIH0gZWxzZSBpZiAoY2ggPT09IDB4NUMvKiBcXCAqLykge1xuICAgICAgY2FwdHVyZVNlZ21lbnQoc3RhdGUsIGNhcHR1cmVTdGFydCwgc3RhdGUucG9zaXRpb24sIHRydWUpO1xuICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuXG4gICAgICBpZiAoaXNfRU9MKGNoKSkge1xuICAgICAgICBza2lwU2VwYXJhdGlvblNwYWNlKHN0YXRlLCBmYWxzZSwgbm9kZUluZGVudCk7XG5cbiAgICAgICAgLy8gVE9ETzogcmV3b3JrIHRvIGlubGluZSBmbiB3aXRoIG5vIHR5cGUgY2FzdD9cbiAgICAgIH0gZWxzZSBpZiAoY2ggPCAyNTYgJiYgc2ltcGxlRXNjYXBlQ2hlY2tbY2hdKSB7XG4gICAgICAgIHN0YXRlLnJlc3VsdCArPSBzaW1wbGVFc2NhcGVNYXBbY2hdO1xuICAgICAgICBzdGF0ZS5wb3NpdGlvbisrO1xuXG4gICAgICB9IGVsc2UgaWYgKCh0bXAgPSBlc2NhcGVkSGV4TGVuKGNoKSkgPiAwKSB7XG4gICAgICAgIGhleExlbmd0aCA9IHRtcDtcbiAgICAgICAgaGV4UmVzdWx0ID0gMDtcblxuICAgICAgICBmb3IgKDsgaGV4TGVuZ3RoID4gMDsgaGV4TGVuZ3RoLS0pIHtcbiAgICAgICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG5cbiAgICAgICAgICBpZiAoKHRtcCA9IGZyb21IZXhDb2RlKGNoKSkgPj0gMCkge1xuICAgICAgICAgICAgaGV4UmVzdWx0ID0gKGhleFJlc3VsdCA8PCA0KSArIHRtcDtcblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnZXhwZWN0ZWQgaGV4YWRlY2ltYWwgY2hhcmFjdGVyJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUucmVzdWx0ICs9IGNoYXJGcm9tQ29kZXBvaW50KGhleFJlc3VsdCk7XG5cbiAgICAgICAgc3RhdGUucG9zaXRpb24rKztcblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3Vua25vd24gZXNjYXBlIHNlcXVlbmNlJyk7XG4gICAgICB9XG5cbiAgICAgIGNhcHR1cmVTdGFydCA9IGNhcHR1cmVFbmQgPSBzdGF0ZS5wb3NpdGlvbjtcblxuICAgIH0gZWxzZSBpZiAoaXNfRU9MKGNoKSkge1xuICAgICAgY2FwdHVyZVNlZ21lbnQoc3RhdGUsIGNhcHR1cmVTdGFydCwgY2FwdHVyZUVuZCwgdHJ1ZSk7XG4gICAgICB3cml0ZUZvbGRlZExpbmVzKHN0YXRlLCBza2lwU2VwYXJhdGlvblNwYWNlKHN0YXRlLCBmYWxzZSwgbm9kZUluZGVudCkpO1xuICAgICAgY2FwdHVyZVN0YXJ0ID0gY2FwdHVyZUVuZCA9IHN0YXRlLnBvc2l0aW9uO1xuXG4gICAgfSBlbHNlIGlmIChzdGF0ZS5wb3NpdGlvbiA9PT0gc3RhdGUubGluZVN0YXJ0ICYmIHRlc3REb2N1bWVudFNlcGFyYXRvcihzdGF0ZSkpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICd1bmV4cGVjdGVkIGVuZCBvZiB0aGUgZG9jdW1lbnQgd2l0aGluIGEgZG91YmxlIHF1b3RlZCBzY2FsYXInKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5wb3NpdGlvbisrO1xuICAgICAgY2FwdHVyZUVuZCA9IHN0YXRlLnBvc2l0aW9uO1xuICAgIH1cbiAgfVxuXG4gIHRocm93RXJyb3Ioc3RhdGUsICd1bmV4cGVjdGVkIGVuZCBvZiB0aGUgc3RyZWFtIHdpdGhpbiBhIGRvdWJsZSBxdW90ZWQgc2NhbGFyJyk7XG59XG5cbmZ1bmN0aW9uIHJlYWRGbG93Q29sbGVjdGlvbihzdGF0ZSwgbm9kZUluZGVudCkge1xuICB2YXIgcmVhZE5leHQgPSB0cnVlLFxuICAgICAgX2xpbmUsXG4gICAgICBfbGluZVN0YXJ0LFxuICAgICAgX3BvcyxcbiAgICAgIF90YWcgICAgID0gc3RhdGUudGFnLFxuICAgICAgX3Jlc3VsdCxcbiAgICAgIF9hbmNob3IgID0gc3RhdGUuYW5jaG9yLFxuICAgICAgZm9sbG93aW5nLFxuICAgICAgdGVybWluYXRvcixcbiAgICAgIGlzUGFpcixcbiAgICAgIGlzRXhwbGljaXRQYWlyLFxuICAgICAgaXNNYXBwaW5nLFxuICAgICAgb3ZlcnJpZGFibGVLZXlzID0gT2JqZWN0LmNyZWF0ZShudWxsKSxcbiAgICAgIGtleU5vZGUsXG4gICAgICBrZXlUYWcsXG4gICAgICB2YWx1ZU5vZGUsXG4gICAgICBjaDtcblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pO1xuXG4gIGlmIChjaCA9PT0gMHg1Qi8qIFsgKi8pIHtcbiAgICB0ZXJtaW5hdG9yID0gMHg1RDsvKiBdICovXG4gICAgaXNNYXBwaW5nID0gZmFsc2U7XG4gICAgX3Jlc3VsdCA9IFtdO1xuICB9IGVsc2UgaWYgKGNoID09PSAweDdCLyogeyAqLykge1xuICAgIHRlcm1pbmF0b3IgPSAweDdEOy8qIH0gKi9cbiAgICBpc01hcHBpbmcgPSB0cnVlO1xuICAgIF9yZXN1bHQgPSB7fTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoc3RhdGUuYW5jaG9yICE9PSBudWxsKSB7XG4gICAgc3RhdGUuYW5jaG9yTWFwW3N0YXRlLmFuY2hvcl0gPSBfcmVzdWx0O1xuICB9XG5cbiAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuXG4gIHdoaWxlIChjaCAhPT0gMCkge1xuICAgIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIG5vZGVJbmRlbnQpO1xuXG4gICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICAgIGlmIChjaCA9PT0gdGVybWluYXRvcikge1xuICAgICAgc3RhdGUucG9zaXRpb24rKztcbiAgICAgIHN0YXRlLnRhZyA9IF90YWc7XG4gICAgICBzdGF0ZS5hbmNob3IgPSBfYW5jaG9yO1xuICAgICAgc3RhdGUua2luZCA9IGlzTWFwcGluZyA/ICdtYXBwaW5nJyA6ICdzZXF1ZW5jZSc7XG4gICAgICBzdGF0ZS5yZXN1bHQgPSBfcmVzdWx0O1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmICghcmVhZE5leHQpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICdtaXNzZWQgY29tbWEgYmV0d2VlbiBmbG93IGNvbGxlY3Rpb24gZW50cmllcycpO1xuICAgIH0gZWxzZSBpZiAoY2ggPT09IDB4MkMvKiAsICovKSB7XG4gICAgICAvLyBcImZsb3cgY29sbGVjdGlvbiBlbnRyaWVzIGNhbiBuZXZlciBiZSBjb21wbGV0ZWx5IGVtcHR5XCIsIGFzIHBlciBZQU1MIDEuMiwgc2VjdGlvbiA3LjRcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsIFwiZXhwZWN0ZWQgdGhlIG5vZGUgY29udGVudCwgYnV0IGZvdW5kICcsJ1wiKTtcbiAgICB9XG5cbiAgICBrZXlUYWcgPSBrZXlOb2RlID0gdmFsdWVOb2RlID0gbnVsbDtcbiAgICBpc1BhaXIgPSBpc0V4cGxpY2l0UGFpciA9IGZhbHNlO1xuXG4gICAgaWYgKGNoID09PSAweDNGLyogPyAqLykge1xuICAgICAgZm9sbG93aW5nID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbiArIDEpO1xuXG4gICAgICBpZiAoaXNfV1NfT1JfRU9MKGZvbGxvd2luZykpIHtcbiAgICAgICAgaXNQYWlyID0gaXNFeHBsaWNpdFBhaXIgPSB0cnVlO1xuICAgICAgICBzdGF0ZS5wb3NpdGlvbisrO1xuICAgICAgICBza2lwU2VwYXJhdGlvblNwYWNlKHN0YXRlLCB0cnVlLCBub2RlSW5kZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfbGluZSA9IHN0YXRlLmxpbmU7IC8vIFNhdmUgdGhlIGN1cnJlbnQgbGluZS5cbiAgICBfbGluZVN0YXJ0ID0gc3RhdGUubGluZVN0YXJ0O1xuICAgIF9wb3MgPSBzdGF0ZS5wb3NpdGlvbjtcbiAgICBjb21wb3NlTm9kZShzdGF0ZSwgbm9kZUluZGVudCwgQ09OVEVYVF9GTE9XX0lOLCBmYWxzZSwgdHJ1ZSk7XG4gICAga2V5VGFnID0gc3RhdGUudGFnO1xuICAgIGtleU5vZGUgPSBzdGF0ZS5yZXN1bHQ7XG4gICAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgbm9kZUluZGVudCk7XG5cbiAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pO1xuXG4gICAgaWYgKChpc0V4cGxpY2l0UGFpciB8fCBzdGF0ZS5saW5lID09PSBfbGluZSkgJiYgY2ggPT09IDB4M0EvKiA6ICovKSB7XG4gICAgICBpc1BhaXIgPSB0cnVlO1xuICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuICAgICAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgbm9kZUluZGVudCk7XG4gICAgICBjb21wb3NlTm9kZShzdGF0ZSwgbm9kZUluZGVudCwgQ09OVEVYVF9GTE9XX0lOLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICB2YWx1ZU5vZGUgPSBzdGF0ZS5yZXN1bHQ7XG4gICAgfVxuXG4gICAgaWYgKGlzTWFwcGluZykge1xuICAgICAgc3RvcmVNYXBwaW5nUGFpcihzdGF0ZSwgX3Jlc3VsdCwgb3ZlcnJpZGFibGVLZXlzLCBrZXlUYWcsIGtleU5vZGUsIHZhbHVlTm9kZSwgX2xpbmUsIF9saW5lU3RhcnQsIF9wb3MpO1xuICAgIH0gZWxzZSBpZiAoaXNQYWlyKSB7XG4gICAgICBfcmVzdWx0LnB1c2goc3RvcmVNYXBwaW5nUGFpcihzdGF0ZSwgbnVsbCwgb3ZlcnJpZGFibGVLZXlzLCBrZXlUYWcsIGtleU5vZGUsIHZhbHVlTm9kZSwgX2xpbmUsIF9saW5lU3RhcnQsIF9wb3MpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX3Jlc3VsdC5wdXNoKGtleU5vZGUpO1xuICAgIH1cblxuICAgIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIG5vZGVJbmRlbnQpO1xuXG4gICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICAgIGlmIChjaCA9PT0gMHgyQy8qICwgKi8pIHtcbiAgICAgIHJlYWROZXh0ID0gdHJ1ZTtcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVhZE5leHQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICB0aHJvd0Vycm9yKHN0YXRlLCAndW5leHBlY3RlZCBlbmQgb2YgdGhlIHN0cmVhbSB3aXRoaW4gYSBmbG93IGNvbGxlY3Rpb24nKTtcbn1cblxuZnVuY3Rpb24gcmVhZEJsb2NrU2NhbGFyKHN0YXRlLCBub2RlSW5kZW50KSB7XG4gIHZhciBjYXB0dXJlU3RhcnQsXG4gICAgICBmb2xkaW5nLFxuICAgICAgY2hvbXBpbmcgICAgICAgPSBDSE9NUElOR19DTElQLFxuICAgICAgZGlkUmVhZENvbnRlbnQgPSBmYWxzZSxcbiAgICAgIGRldGVjdGVkSW5kZW50ID0gZmFsc2UsXG4gICAgICB0ZXh0SW5kZW50ICAgICA9IG5vZGVJbmRlbnQsXG4gICAgICBlbXB0eUxpbmVzICAgICA9IDAsXG4gICAgICBhdE1vcmVJbmRlbnRlZCA9IGZhbHNlLFxuICAgICAgdG1wLFxuICAgICAgY2g7XG5cbiAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICBpZiAoY2ggPT09IDB4N0MvKiB8ICovKSB7XG4gICAgZm9sZGluZyA9IGZhbHNlO1xuICB9IGVsc2UgaWYgKGNoID09PSAweDNFLyogPiAqLykge1xuICAgIGZvbGRpbmcgPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0YXRlLmtpbmQgPSAnc2NhbGFyJztcbiAgc3RhdGUucmVzdWx0ID0gJyc7XG5cbiAgd2hpbGUgKGNoICE9PSAwKSB7XG4gICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuXG4gICAgaWYgKGNoID09PSAweDJCLyogKyAqLyB8fCBjaCA9PT0gMHgyRC8qIC0gKi8pIHtcbiAgICAgIGlmIChDSE9NUElOR19DTElQID09PSBjaG9tcGluZykge1xuICAgICAgICBjaG9tcGluZyA9IChjaCA9PT0gMHgyQi8qICsgKi8pID8gQ0hPTVBJTkdfS0VFUCA6IENIT01QSU5HX1NUUklQO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3JlcGVhdCBvZiBhIGNob21waW5nIG1vZGUgaWRlbnRpZmllcicpO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIGlmICgodG1wID0gZnJvbURlY2ltYWxDb2RlKGNoKSkgPj0gMCkge1xuICAgICAgaWYgKHRtcCA9PT0gMCkge1xuICAgICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnYmFkIGV4cGxpY2l0IGluZGVudGF0aW9uIHdpZHRoIG9mIGEgYmxvY2sgc2NhbGFyOyBpdCBjYW5ub3QgYmUgbGVzcyB0aGFuIG9uZScpO1xuICAgICAgfSBlbHNlIGlmICghZGV0ZWN0ZWRJbmRlbnQpIHtcbiAgICAgICAgdGV4dEluZGVudCA9IG5vZGVJbmRlbnQgKyB0bXAgLSAxO1xuICAgICAgICBkZXRlY3RlZEluZGVudCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvd0Vycm9yKHN0YXRlLCAncmVwZWF0IG9mIGFuIGluZGVudGF0aW9uIHdpZHRoIGlkZW50aWZpZXInKTtcbiAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoaXNfV0hJVEVfU1BBQ0UoY2gpKSB7XG4gICAgZG8geyBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7IH1cbiAgICB3aGlsZSAoaXNfV0hJVEVfU1BBQ0UoY2gpKTtcblxuICAgIGlmIChjaCA9PT0gMHgyMy8qICMgKi8pIHtcbiAgICAgIGRvIHsgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pOyB9XG4gICAgICB3aGlsZSAoIWlzX0VPTChjaCkgJiYgKGNoICE9PSAwKSk7XG4gICAgfVxuICB9XG5cbiAgd2hpbGUgKGNoICE9PSAwKSB7XG4gICAgcmVhZExpbmVCcmVhayhzdGF0ZSk7XG4gICAgc3RhdGUubGluZUluZGVudCA9IDA7XG5cbiAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pO1xuXG4gICAgd2hpbGUgKCghZGV0ZWN0ZWRJbmRlbnQgfHwgc3RhdGUubGluZUluZGVudCA8IHRleHRJbmRlbnQpICYmXG4gICAgICAgICAgIChjaCA9PT0gMHgyMC8qIFNwYWNlICovKSkge1xuICAgICAgc3RhdGUubGluZUluZGVudCsrO1xuICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuICAgIH1cblxuICAgIGlmICghZGV0ZWN0ZWRJbmRlbnQgJiYgc3RhdGUubGluZUluZGVudCA+IHRleHRJbmRlbnQpIHtcbiAgICAgIHRleHRJbmRlbnQgPSBzdGF0ZS5saW5lSW5kZW50O1xuICAgIH1cblxuICAgIGlmIChpc19FT0woY2gpKSB7XG4gICAgICBlbXB0eUxpbmVzKys7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBFbmQgb2YgdGhlIHNjYWxhci5cbiAgICBpZiAoc3RhdGUubGluZUluZGVudCA8IHRleHRJbmRlbnQpIHtcblxuICAgICAgLy8gUGVyZm9ybSB0aGUgY2hvbXBpbmcuXG4gICAgICBpZiAoY2hvbXBpbmcgPT09IENIT01QSU5HX0tFRVApIHtcbiAgICAgICAgc3RhdGUucmVzdWx0ICs9IGNvbW1vbi5yZXBlYXQoJ1xcbicsIGRpZFJlYWRDb250ZW50ID8gMSArIGVtcHR5TGluZXMgOiBlbXB0eUxpbmVzKTtcbiAgICAgIH0gZWxzZSBpZiAoY2hvbXBpbmcgPT09IENIT01QSU5HX0NMSVApIHtcbiAgICAgICAgaWYgKGRpZFJlYWRDb250ZW50KSB7IC8vIGkuZS4gb25seSBpZiB0aGUgc2NhbGFyIGlzIG5vdCBlbXB0eS5cbiAgICAgICAgICBzdGF0ZS5yZXN1bHQgKz0gJ1xcbic7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQnJlYWsgdGhpcyBgd2hpbGVgIGN5Y2xlIGFuZCBnbyB0byB0aGUgZnVuY2l0b24ncyBlcGlsb2d1ZS5cbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIC8vIEZvbGRlZCBzdHlsZTogdXNlIGZhbmN5IHJ1bGVzIHRvIGhhbmRsZSBsaW5lIGJyZWFrcy5cbiAgICBpZiAoZm9sZGluZykge1xuXG4gICAgICAvLyBMaW5lcyBzdGFydGluZyB3aXRoIHdoaXRlIHNwYWNlIGNoYXJhY3RlcnMgKG1vcmUtaW5kZW50ZWQgbGluZXMpIGFyZSBub3QgZm9sZGVkLlxuICAgICAgaWYgKGlzX1dISVRFX1NQQUNFKGNoKSkge1xuICAgICAgICBhdE1vcmVJbmRlbnRlZCA9IHRydWU7XG4gICAgICAgIC8vIGV4Y2VwdCBmb3IgdGhlIGZpcnN0IGNvbnRlbnQgbGluZSAoY2YuIEV4YW1wbGUgOC4xKVxuICAgICAgICBzdGF0ZS5yZXN1bHQgKz0gY29tbW9uLnJlcGVhdCgnXFxuJywgZGlkUmVhZENvbnRlbnQgPyAxICsgZW1wdHlMaW5lcyA6IGVtcHR5TGluZXMpO1xuXG4gICAgICAvLyBFbmQgb2YgbW9yZS1pbmRlbnRlZCBibG9jay5cbiAgICAgIH0gZWxzZSBpZiAoYXRNb3JlSW5kZW50ZWQpIHtcbiAgICAgICAgYXRNb3JlSW5kZW50ZWQgPSBmYWxzZTtcbiAgICAgICAgc3RhdGUucmVzdWx0ICs9IGNvbW1vbi5yZXBlYXQoJ1xcbicsIGVtcHR5TGluZXMgKyAxKTtcblxuICAgICAgLy8gSnVzdCBvbmUgbGluZSBicmVhayAtIHBlcmNlaXZlIGFzIHRoZSBzYW1lIGxpbmUuXG4gICAgICB9IGVsc2UgaWYgKGVtcHR5TGluZXMgPT09IDApIHtcbiAgICAgICAgaWYgKGRpZFJlYWRDb250ZW50KSB7IC8vIGkuZS4gb25seSBpZiB3ZSBoYXZlIGFscmVhZHkgcmVhZCBzb21lIHNjYWxhciBjb250ZW50LlxuICAgICAgICAgIHN0YXRlLnJlc3VsdCArPSAnICc7XG4gICAgICAgIH1cblxuICAgICAgLy8gU2V2ZXJhbCBsaW5lIGJyZWFrcyAtIHBlcmNlaXZlIGFzIGRpZmZlcmVudCBsaW5lcy5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRlLnJlc3VsdCArPSBjb21tb24ucmVwZWF0KCdcXG4nLCBlbXB0eUxpbmVzKTtcbiAgICAgIH1cblxuICAgIC8vIExpdGVyYWwgc3R5bGU6IGp1c3QgYWRkIGV4YWN0IG51bWJlciBvZiBsaW5lIGJyZWFrcyBiZXR3ZWVuIGNvbnRlbnQgbGluZXMuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEtlZXAgYWxsIGxpbmUgYnJlYWtzIGV4Y2VwdCB0aGUgaGVhZGVyIGxpbmUgYnJlYWsuXG4gICAgICBzdGF0ZS5yZXN1bHQgKz0gY29tbW9uLnJlcGVhdCgnXFxuJywgZGlkUmVhZENvbnRlbnQgPyAxICsgZW1wdHlMaW5lcyA6IGVtcHR5TGluZXMpO1xuICAgIH1cblxuICAgIGRpZFJlYWRDb250ZW50ID0gdHJ1ZTtcbiAgICBkZXRlY3RlZEluZGVudCA9IHRydWU7XG4gICAgZW1wdHlMaW5lcyA9IDA7XG4gICAgY2FwdHVyZVN0YXJ0ID0gc3RhdGUucG9zaXRpb247XG5cbiAgICB3aGlsZSAoIWlzX0VPTChjaCkgJiYgKGNoICE9PSAwKSkge1xuICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuICAgIH1cblxuICAgIGNhcHR1cmVTZWdtZW50KHN0YXRlLCBjYXB0dXJlU3RhcnQsIHN0YXRlLnBvc2l0aW9uLCBmYWxzZSk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcmVhZEJsb2NrU2VxdWVuY2Uoc3RhdGUsIG5vZGVJbmRlbnQpIHtcbiAgdmFyIF9saW5lLFxuICAgICAgX3RhZyAgICAgID0gc3RhdGUudGFnLFxuICAgICAgX2FuY2hvciAgID0gc3RhdGUuYW5jaG9yLFxuICAgICAgX3Jlc3VsdCAgID0gW10sXG4gICAgICBmb2xsb3dpbmcsXG4gICAgICBkZXRlY3RlZCAgPSBmYWxzZSxcbiAgICAgIGNoO1xuXG4gIC8vIHRoZXJlIGlzIGEgbGVhZGluZyB0YWIgYmVmb3JlIHRoaXMgdG9rZW4sIHNvIGl0IGNhbid0IGJlIGEgYmxvY2sgc2VxdWVuY2UvbWFwcGluZztcbiAgLy8gaXQgY2FuIHN0aWxsIGJlIGZsb3cgc2VxdWVuY2UvbWFwcGluZyBvciBhIHNjYWxhclxuICBpZiAoc3RhdGUuZmlyc3RUYWJJbkxpbmUgIT09IC0xKSByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHN0YXRlLmFuY2hvciAhPT0gbnVsbCkge1xuICAgIHN0YXRlLmFuY2hvck1hcFtzdGF0ZS5hbmNob3JdID0gX3Jlc3VsdDtcbiAgfVxuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgd2hpbGUgKGNoICE9PSAwKSB7XG4gICAgaWYgKHN0YXRlLmZpcnN0VGFiSW5MaW5lICE9PSAtMSkge1xuICAgICAgc3RhdGUucG9zaXRpb24gPSBzdGF0ZS5maXJzdFRhYkluTGluZTtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICd0YWIgY2hhcmFjdGVycyBtdXN0IG5vdCBiZSB1c2VkIGluIGluZGVudGF0aW9uJyk7XG4gICAgfVxuXG4gICAgaWYgKGNoICE9PSAweDJELyogLSAqLykge1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgZm9sbG93aW5nID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbiArIDEpO1xuXG4gICAgaWYgKCFpc19XU19PUl9FT0woZm9sbG93aW5nKSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgZGV0ZWN0ZWQgPSB0cnVlO1xuICAgIHN0YXRlLnBvc2l0aW9uKys7XG5cbiAgICBpZiAoc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgLTEpKSB7XG4gICAgICBpZiAoc3RhdGUubGluZUluZGVudCA8PSBub2RlSW5kZW50KSB7XG4gICAgICAgIF9yZXN1bHQucHVzaChudWxsKTtcbiAgICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2xpbmUgPSBzdGF0ZS5saW5lO1xuICAgIGNvbXBvc2VOb2RlKHN0YXRlLCBub2RlSW5kZW50LCBDT05URVhUX0JMT0NLX0lOLCBmYWxzZSwgdHJ1ZSk7XG4gICAgX3Jlc3VsdC5wdXNoKHN0YXRlLnJlc3VsdCk7XG4gICAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgLTEpO1xuXG4gICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICAgIGlmICgoc3RhdGUubGluZSA9PT0gX2xpbmUgfHwgc3RhdGUubGluZUluZGVudCA+IG5vZGVJbmRlbnQpICYmIChjaCAhPT0gMCkpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICdiYWQgaW5kZW50YXRpb24gb2YgYSBzZXF1ZW5jZSBlbnRyeScpO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUubGluZUluZGVudCA8IG5vZGVJbmRlbnQpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGlmIChkZXRlY3RlZCkge1xuICAgIHN0YXRlLnRhZyA9IF90YWc7XG4gICAgc3RhdGUuYW5jaG9yID0gX2FuY2hvcjtcbiAgICBzdGF0ZS5raW5kID0gJ3NlcXVlbmNlJztcbiAgICBzdGF0ZS5yZXN1bHQgPSBfcmVzdWx0O1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gcmVhZEJsb2NrTWFwcGluZyhzdGF0ZSwgbm9kZUluZGVudCwgZmxvd0luZGVudCkge1xuICB2YXIgZm9sbG93aW5nLFxuICAgICAgYWxsb3dDb21wYWN0LFxuICAgICAgX2xpbmUsXG4gICAgICBfa2V5TGluZSxcbiAgICAgIF9rZXlMaW5lU3RhcnQsXG4gICAgICBfa2V5UG9zLFxuICAgICAgX3RhZyAgICAgICAgICA9IHN0YXRlLnRhZyxcbiAgICAgIF9hbmNob3IgICAgICAgPSBzdGF0ZS5hbmNob3IsXG4gICAgICBfcmVzdWx0ICAgICAgID0ge30sXG4gICAgICBvdmVycmlkYWJsZUtleXMgPSBPYmplY3QuY3JlYXRlKG51bGwpLFxuICAgICAga2V5VGFnICAgICAgICA9IG51bGwsXG4gICAgICBrZXlOb2RlICAgICAgID0gbnVsbCxcbiAgICAgIHZhbHVlTm9kZSAgICAgPSBudWxsLFxuICAgICAgYXRFeHBsaWNpdEtleSA9IGZhbHNlLFxuICAgICAgZGV0ZWN0ZWQgICAgICA9IGZhbHNlLFxuICAgICAgY2g7XG5cbiAgLy8gdGhlcmUgaXMgYSBsZWFkaW5nIHRhYiBiZWZvcmUgdGhpcyB0b2tlbiwgc28gaXQgY2FuJ3QgYmUgYSBibG9jayBzZXF1ZW5jZS9tYXBwaW5nO1xuICAvLyBpdCBjYW4gc3RpbGwgYmUgZmxvdyBzZXF1ZW5jZS9tYXBwaW5nIG9yIGEgc2NhbGFyXG4gIGlmIChzdGF0ZS5maXJzdFRhYkluTGluZSAhPT0gLTEpIHJldHVybiBmYWxzZTtcblxuICBpZiAoc3RhdGUuYW5jaG9yICE9PSBudWxsKSB7XG4gICAgc3RhdGUuYW5jaG9yTWFwW3N0YXRlLmFuY2hvcl0gPSBfcmVzdWx0O1xuICB9XG5cbiAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICB3aGlsZSAoY2ggIT09IDApIHtcbiAgICBpZiAoIWF0RXhwbGljaXRLZXkgJiYgc3RhdGUuZmlyc3RUYWJJbkxpbmUgIT09IC0xKSB7XG4gICAgICBzdGF0ZS5wb3NpdGlvbiA9IHN0YXRlLmZpcnN0VGFiSW5MaW5lO1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3RhYiBjaGFyYWN0ZXJzIG11c3Qgbm90IGJlIHVzZWQgaW4gaW5kZW50YXRpb24nKTtcbiAgICB9XG5cbiAgICBmb2xsb3dpbmcgPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uICsgMSk7XG4gICAgX2xpbmUgPSBzdGF0ZS5saW5lOyAvLyBTYXZlIHRoZSBjdXJyZW50IGxpbmUuXG5cbiAgICAvL1xuICAgIC8vIEV4cGxpY2l0IG5vdGF0aW9uIGNhc2UuIFRoZXJlIGFyZSB0d28gc2VwYXJhdGUgYmxvY2tzOlxuICAgIC8vIGZpcnN0IGZvciB0aGUga2V5IChkZW5vdGVkIGJ5IFwiP1wiKSBhbmQgc2Vjb25kIGZvciB0aGUgdmFsdWUgKGRlbm90ZWQgYnkgXCI6XCIpXG4gICAgLy9cbiAgICBpZiAoKGNoID09PSAweDNGLyogPyAqLyB8fCBjaCA9PT0gMHgzQS8qIDogKi8pICYmIGlzX1dTX09SX0VPTChmb2xsb3dpbmcpKSB7XG5cbiAgICAgIGlmIChjaCA9PT0gMHgzRi8qID8gKi8pIHtcbiAgICAgICAgaWYgKGF0RXhwbGljaXRLZXkpIHtcbiAgICAgICAgICBzdG9yZU1hcHBpbmdQYWlyKHN0YXRlLCBfcmVzdWx0LCBvdmVycmlkYWJsZUtleXMsIGtleVRhZywga2V5Tm9kZSwgbnVsbCwgX2tleUxpbmUsIF9rZXlMaW5lU3RhcnQsIF9rZXlQb3MpO1xuICAgICAgICAgIGtleVRhZyA9IGtleU5vZGUgPSB2YWx1ZU5vZGUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgZGV0ZWN0ZWQgPSB0cnVlO1xuICAgICAgICBhdEV4cGxpY2l0S2V5ID0gdHJ1ZTtcbiAgICAgICAgYWxsb3dDb21wYWN0ID0gdHJ1ZTtcblxuICAgICAgfSBlbHNlIGlmIChhdEV4cGxpY2l0S2V5KSB7XG4gICAgICAgIC8vIGkuZS4gMHgzQS8qIDogKi8gPT09IGNoYXJhY3RlciBhZnRlciB0aGUgZXhwbGljaXQga2V5LlxuICAgICAgICBhdEV4cGxpY2l0S2V5ID0gZmFsc2U7XG4gICAgICAgIGFsbG93Q29tcGFjdCA9IHRydWU7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93RXJyb3Ioc3RhdGUsICdpbmNvbXBsZXRlIGV4cGxpY2l0IG1hcHBpbmcgcGFpcjsgYSBrZXkgbm9kZSBpcyBtaXNzZWQ7IG9yIGZvbGxvd2VkIGJ5IGEgbm9uLXRhYnVsYXRlZCBlbXB0eSBsaW5lJyk7XG4gICAgICB9XG5cbiAgICAgIHN0YXRlLnBvc2l0aW9uICs9IDE7XG4gICAgICBjaCA9IGZvbGxvd2luZztcblxuICAgIC8vXG4gICAgLy8gSW1wbGljaXQgbm90YXRpb24gY2FzZS4gRmxvdy1zdHlsZSBub2RlIGFzIHRoZSBrZXkgZmlyc3QsIHRoZW4gXCI6XCIsIGFuZCB0aGUgdmFsdWUuXG4gICAgLy9cbiAgICB9IGVsc2Uge1xuICAgICAgX2tleUxpbmUgPSBzdGF0ZS5saW5lO1xuICAgICAgX2tleUxpbmVTdGFydCA9IHN0YXRlLmxpbmVTdGFydDtcbiAgICAgIF9rZXlQb3MgPSBzdGF0ZS5wb3NpdGlvbjtcblxuICAgICAgaWYgKCFjb21wb3NlTm9kZShzdGF0ZSwgZmxvd0luZGVudCwgQ09OVEVYVF9GTE9XX09VVCwgZmFsc2UsIHRydWUpKSB7XG4gICAgICAgIC8vIE5laXRoZXIgaW1wbGljaXQgbm9yIGV4cGxpY2l0IG5vdGF0aW9uLlxuICAgICAgICAvLyBSZWFkaW5nIGlzIGRvbmUuIEdvIHRvIHRoZSBlcGlsb2d1ZS5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZS5saW5lID09PSBfbGluZSkge1xuICAgICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pO1xuXG4gICAgICAgIHdoaWxlIChpc19XSElURV9TUEFDRShjaCkpIHtcbiAgICAgICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2ggPT09IDB4M0EvKiA6ICovKSB7XG4gICAgICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuXG4gICAgICAgICAgaWYgKCFpc19XU19PUl9FT0woY2gpKSB7XG4gICAgICAgICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnYSB3aGl0ZXNwYWNlIGNoYXJhY3RlciBpcyBleHBlY3RlZCBhZnRlciB0aGUga2V5LXZhbHVlIHNlcGFyYXRvciB3aXRoaW4gYSBibG9jayBtYXBwaW5nJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGF0RXhwbGljaXRLZXkpIHtcbiAgICAgICAgICAgIHN0b3JlTWFwcGluZ1BhaXIoc3RhdGUsIF9yZXN1bHQsIG92ZXJyaWRhYmxlS2V5cywga2V5VGFnLCBrZXlOb2RlLCBudWxsLCBfa2V5TGluZSwgX2tleUxpbmVTdGFydCwgX2tleVBvcyk7XG4gICAgICAgICAgICBrZXlUYWcgPSBrZXlOb2RlID0gdmFsdWVOb2RlID0gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkZXRlY3RlZCA9IHRydWU7XG4gICAgICAgICAgYXRFeHBsaWNpdEtleSA9IGZhbHNlO1xuICAgICAgICAgIGFsbG93Q29tcGFjdCA9IGZhbHNlO1xuICAgICAgICAgIGtleVRhZyA9IHN0YXRlLnRhZztcbiAgICAgICAgICBrZXlOb2RlID0gc3RhdGUucmVzdWx0O1xuXG4gICAgICAgIH0gZWxzZSBpZiAoZGV0ZWN0ZWQpIHtcbiAgICAgICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnY2FuIG5vdCByZWFkIGFuIGltcGxpY2l0IG1hcHBpbmcgcGFpcjsgYSBjb2xvbiBpcyBtaXNzZWQnKTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0YXRlLnRhZyA9IF90YWc7XG4gICAgICAgICAgc3RhdGUuYW5jaG9yID0gX2FuY2hvcjtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gS2VlcCB0aGUgcmVzdWx0IG9mIGBjb21wb3NlTm9kZWAuXG4gICAgICAgIH1cblxuICAgICAgfSBlbHNlIGlmIChkZXRlY3RlZCkge1xuICAgICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnY2FuIG5vdCByZWFkIGEgYmxvY2sgbWFwcGluZyBlbnRyeTsgYSBtdWx0aWxpbmUga2V5IG1heSBub3QgYmUgYW4gaW1wbGljaXQga2V5Jyk7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRlLnRhZyA9IF90YWc7XG4gICAgICAgIHN0YXRlLmFuY2hvciA9IF9hbmNob3I7XG4gICAgICAgIHJldHVybiB0cnVlOyAvLyBLZWVwIHRoZSByZXN1bHQgb2YgYGNvbXBvc2VOb2RlYC5cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIENvbW1vbiByZWFkaW5nIGNvZGUgZm9yIGJvdGggZXhwbGljaXQgYW5kIGltcGxpY2l0IG5vdGF0aW9ucy5cbiAgICAvL1xuICAgIGlmIChzdGF0ZS5saW5lID09PSBfbGluZSB8fCBzdGF0ZS5saW5lSW5kZW50ID4gbm9kZUluZGVudCkge1xuICAgICAgaWYgKGF0RXhwbGljaXRLZXkpIHtcbiAgICAgICAgX2tleUxpbmUgPSBzdGF0ZS5saW5lO1xuICAgICAgICBfa2V5TGluZVN0YXJ0ID0gc3RhdGUubGluZVN0YXJ0O1xuICAgICAgICBfa2V5UG9zID0gc3RhdGUucG9zaXRpb247XG4gICAgICB9XG5cbiAgICAgIGlmIChjb21wb3NlTm9kZShzdGF0ZSwgbm9kZUluZGVudCwgQ09OVEVYVF9CTE9DS19PVVQsIHRydWUsIGFsbG93Q29tcGFjdCkpIHtcbiAgICAgICAgaWYgKGF0RXhwbGljaXRLZXkpIHtcbiAgICAgICAgICBrZXlOb2RlID0gc3RhdGUucmVzdWx0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlTm9kZSA9IHN0YXRlLnJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIWF0RXhwbGljaXRLZXkpIHtcbiAgICAgICAgc3RvcmVNYXBwaW5nUGFpcihzdGF0ZSwgX3Jlc3VsdCwgb3ZlcnJpZGFibGVLZXlzLCBrZXlUYWcsIGtleU5vZGUsIHZhbHVlTm9kZSwgX2tleUxpbmUsIF9rZXlMaW5lU3RhcnQsIF9rZXlQb3MpO1xuICAgICAgICBrZXlUYWcgPSBrZXlOb2RlID0gdmFsdWVOb2RlID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgLTEpO1xuICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICBpZiAoKHN0YXRlLmxpbmUgPT09IF9saW5lIHx8IHN0YXRlLmxpbmVJbmRlbnQgPiBub2RlSW5kZW50KSAmJiAoY2ggIT09IDApKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnYmFkIGluZGVudGF0aW9uIG9mIGEgbWFwcGluZyBlbnRyeScpO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUubGluZUluZGVudCA8IG5vZGVJbmRlbnQpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIC8vXG4gIC8vIEVwaWxvZ3VlLlxuICAvL1xuXG4gIC8vIFNwZWNpYWwgY2FzZTogbGFzdCBtYXBwaW5nJ3Mgbm9kZSBjb250YWlucyBvbmx5IHRoZSBrZXkgaW4gZXhwbGljaXQgbm90YXRpb24uXG4gIGlmIChhdEV4cGxpY2l0S2V5KSB7XG4gICAgc3RvcmVNYXBwaW5nUGFpcihzdGF0ZSwgX3Jlc3VsdCwgb3ZlcnJpZGFibGVLZXlzLCBrZXlUYWcsIGtleU5vZGUsIG51bGwsIF9rZXlMaW5lLCBfa2V5TGluZVN0YXJ0LCBfa2V5UG9zKTtcbiAgfVxuXG4gIC8vIEV4cG9zZSB0aGUgcmVzdWx0aW5nIG1hcHBpbmcuXG4gIGlmIChkZXRlY3RlZCkge1xuICAgIHN0YXRlLnRhZyA9IF90YWc7XG4gICAgc3RhdGUuYW5jaG9yID0gX2FuY2hvcjtcbiAgICBzdGF0ZS5raW5kID0gJ21hcHBpbmcnO1xuICAgIHN0YXRlLnJlc3VsdCA9IF9yZXN1bHQ7XG4gIH1cblxuICByZXR1cm4gZGV0ZWN0ZWQ7XG59XG5cbmZ1bmN0aW9uIHJlYWRUYWdQcm9wZXJ0eShzdGF0ZSkge1xuICB2YXIgX3Bvc2l0aW9uLFxuICAgICAgaXNWZXJiYXRpbSA9IGZhbHNlLFxuICAgICAgaXNOYW1lZCAgICA9IGZhbHNlLFxuICAgICAgdGFnSGFuZGxlLFxuICAgICAgdGFnTmFtZSxcbiAgICAgIGNoO1xuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgaWYgKGNoICE9PSAweDIxLyogISAqLykgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChzdGF0ZS50YWcgIT09IG51bGwpIHtcbiAgICB0aHJvd0Vycm9yKHN0YXRlLCAnZHVwbGljYXRpb24gb2YgYSB0YWcgcHJvcGVydHknKTtcbiAgfVxuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcblxuICBpZiAoY2ggPT09IDB4M0MvKiA8ICovKSB7XG4gICAgaXNWZXJiYXRpbSA9IHRydWU7XG4gICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuXG4gIH0gZWxzZSBpZiAoY2ggPT09IDB4MjEvKiAhICovKSB7XG4gICAgaXNOYW1lZCA9IHRydWU7XG4gICAgdGFnSGFuZGxlID0gJyEhJztcbiAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG5cbiAgfSBlbHNlIHtcbiAgICB0YWdIYW5kbGUgPSAnISc7XG4gIH1cblxuICBfcG9zaXRpb24gPSBzdGF0ZS5wb3NpdGlvbjtcblxuICBpZiAoaXNWZXJiYXRpbSkge1xuICAgIGRvIHsgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pOyB9XG4gICAgd2hpbGUgKGNoICE9PSAwICYmIGNoICE9PSAweDNFLyogPiAqLyk7XG5cbiAgICBpZiAoc3RhdGUucG9zaXRpb24gPCBzdGF0ZS5sZW5ndGgpIHtcbiAgICAgIHRhZ05hbWUgPSBzdGF0ZS5pbnB1dC5zbGljZShfcG9zaXRpb24sIHN0YXRlLnBvc2l0aW9uKTtcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3VuZXhwZWN0ZWQgZW5kIG9mIHRoZSBzdHJlYW0gd2l0aGluIGEgdmVyYmF0aW0gdGFnJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHdoaWxlIChjaCAhPT0gMCAmJiAhaXNfV1NfT1JfRU9MKGNoKSkge1xuXG4gICAgICBpZiAoY2ggPT09IDB4MjEvKiAhICovKSB7XG4gICAgICAgIGlmICghaXNOYW1lZCkge1xuICAgICAgICAgIHRhZ0hhbmRsZSA9IHN0YXRlLmlucHV0LnNsaWNlKF9wb3NpdGlvbiAtIDEsIHN0YXRlLnBvc2l0aW9uICsgMSk7XG5cbiAgICAgICAgICBpZiAoIVBBVFRFUk5fVEFHX0hBTkRMRS50ZXN0KHRhZ0hhbmRsZSkpIHtcbiAgICAgICAgICAgIHRocm93RXJyb3Ioc3RhdGUsICduYW1lZCB0YWcgaGFuZGxlIGNhbm5vdCBjb250YWluIHN1Y2ggY2hhcmFjdGVycycpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlzTmFtZWQgPSB0cnVlO1xuICAgICAgICAgIF9wb3NpdGlvbiA9IHN0YXRlLnBvc2l0aW9uICsgMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndGFnIHN1ZmZpeCBjYW5ub3QgY29udGFpbiBleGNsYW1hdGlvbiBtYXJrcycpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICB0YWdOYW1lID0gc3RhdGUuaW5wdXQuc2xpY2UoX3Bvc2l0aW9uLCBzdGF0ZS5wb3NpdGlvbik7XG5cbiAgICBpZiAoUEFUVEVSTl9GTE9XX0lORElDQVRPUlMudGVzdCh0YWdOYW1lKSkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3RhZyBzdWZmaXggY2Fubm90IGNvbnRhaW4gZmxvdyBpbmRpY2F0b3IgY2hhcmFjdGVycycpO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0YWdOYW1lICYmICFQQVRURVJOX1RBR19VUkkudGVzdCh0YWdOYW1lKSkge1xuICAgIHRocm93RXJyb3Ioc3RhdGUsICd0YWcgbmFtZSBjYW5ub3QgY29udGFpbiBzdWNoIGNoYXJhY3RlcnM6ICcgKyB0YWdOYW1lKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgdGFnTmFtZSA9IGRlY29kZVVSSUNvbXBvbmVudCh0YWdOYW1lKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3RhZyBuYW1lIGlzIG1hbGZvcm1lZDogJyArIHRhZ05hbWUpO1xuICB9XG5cbiAgaWYgKGlzVmVyYmF0aW0pIHtcbiAgICBzdGF0ZS50YWcgPSB0YWdOYW1lO1xuXG4gIH0gZWxzZSBpZiAoX2hhc093blByb3BlcnR5JDEuY2FsbChzdGF0ZS50YWdNYXAsIHRhZ0hhbmRsZSkpIHtcbiAgICBzdGF0ZS50YWcgPSBzdGF0ZS50YWdNYXBbdGFnSGFuZGxlXSArIHRhZ05hbWU7XG5cbiAgfSBlbHNlIGlmICh0YWdIYW5kbGUgPT09ICchJykge1xuICAgIHN0YXRlLnRhZyA9ICchJyArIHRhZ05hbWU7XG5cbiAgfSBlbHNlIGlmICh0YWdIYW5kbGUgPT09ICchIScpIHtcbiAgICBzdGF0ZS50YWcgPSAndGFnOnlhbWwub3JnLDIwMDI6JyArIHRhZ05hbWU7XG5cbiAgfSBlbHNlIHtcbiAgICB0aHJvd0Vycm9yKHN0YXRlLCAndW5kZWNsYXJlZCB0YWcgaGFuZGxlIFwiJyArIHRhZ0hhbmRsZSArICdcIicpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHJlYWRBbmNob3JQcm9wZXJ0eShzdGF0ZSkge1xuICB2YXIgX3Bvc2l0aW9uLFxuICAgICAgY2g7XG5cbiAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICBpZiAoY2ggIT09IDB4MjYvKiAmICovKSByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHN0YXRlLmFuY2hvciAhPT0gbnVsbCkge1xuICAgIHRocm93RXJyb3Ioc3RhdGUsICdkdXBsaWNhdGlvbiBvZiBhbiBhbmNob3IgcHJvcGVydHknKTtcbiAgfVxuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgX3Bvc2l0aW9uID0gc3RhdGUucG9zaXRpb247XG5cbiAgd2hpbGUgKGNoICE9PSAwICYmICFpc19XU19PUl9FT0woY2gpICYmICFpc19GTE9XX0lORElDQVRPUihjaCkpIHtcbiAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gIH1cblxuICBpZiAoc3RhdGUucG9zaXRpb24gPT09IF9wb3NpdGlvbikge1xuICAgIHRocm93RXJyb3Ioc3RhdGUsICduYW1lIG9mIGFuIGFuY2hvciBub2RlIG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgY2hhcmFjdGVyJyk7XG4gIH1cblxuICBzdGF0ZS5hbmNob3IgPSBzdGF0ZS5pbnB1dC5zbGljZShfcG9zaXRpb24sIHN0YXRlLnBvc2l0aW9uKTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHJlYWRBbGlhcyhzdGF0ZSkge1xuICB2YXIgX3Bvc2l0aW9uLCBhbGlhcyxcbiAgICAgIGNoO1xuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgaWYgKGNoICE9PSAweDJBLyogKiAqLykgcmV0dXJuIGZhbHNlO1xuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgX3Bvc2l0aW9uID0gc3RhdGUucG9zaXRpb247XG5cbiAgd2hpbGUgKGNoICE9PSAwICYmICFpc19XU19PUl9FT0woY2gpICYmICFpc19GTE9XX0lORElDQVRPUihjaCkpIHtcbiAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gIH1cblxuICBpZiAoc3RhdGUucG9zaXRpb24gPT09IF9wb3NpdGlvbikge1xuICAgIHRocm93RXJyb3Ioc3RhdGUsICduYW1lIG9mIGFuIGFsaWFzIG5vZGUgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSBjaGFyYWN0ZXInKTtcbiAgfVxuXG4gIGFsaWFzID0gc3RhdGUuaW5wdXQuc2xpY2UoX3Bvc2l0aW9uLCBzdGF0ZS5wb3NpdGlvbik7XG5cbiAgaWYgKCFfaGFzT3duUHJvcGVydHkkMS5jYWxsKHN0YXRlLmFuY2hvck1hcCwgYWxpYXMpKSB7XG4gICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3VuaWRlbnRpZmllZCBhbGlhcyBcIicgKyBhbGlhcyArICdcIicpO1xuICB9XG5cbiAgc3RhdGUucmVzdWx0ID0gc3RhdGUuYW5jaG9yTWFwW2FsaWFzXTtcbiAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgLTEpO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gY29tcG9zZU5vZGUoc3RhdGUsIHBhcmVudEluZGVudCwgbm9kZUNvbnRleHQsIGFsbG93VG9TZWVrLCBhbGxvd0NvbXBhY3QpIHtcbiAgdmFyIGFsbG93QmxvY2tTdHlsZXMsXG4gICAgICBhbGxvd0Jsb2NrU2NhbGFycyxcbiAgICAgIGFsbG93QmxvY2tDb2xsZWN0aW9ucyxcbiAgICAgIGluZGVudFN0YXR1cyA9IDEsIC8vIDE6IHRoaXM+cGFyZW50LCAwOiB0aGlzPXBhcmVudCwgLTE6IHRoaXM8cGFyZW50XG4gICAgICBhdE5ld0xpbmUgID0gZmFsc2UsXG4gICAgICBoYXNDb250ZW50ID0gZmFsc2UsXG4gICAgICB0eXBlSW5kZXgsXG4gICAgICB0eXBlUXVhbnRpdHksXG4gICAgICB0eXBlTGlzdCxcbiAgICAgIHR5cGUsXG4gICAgICBmbG93SW5kZW50LFxuICAgICAgYmxvY2tJbmRlbnQ7XG5cbiAgaWYgKHN0YXRlLmxpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgc3RhdGUubGlzdGVuZXIoJ29wZW4nLCBzdGF0ZSk7XG4gIH1cblxuICBzdGF0ZS50YWcgICAgPSBudWxsO1xuICBzdGF0ZS5hbmNob3IgPSBudWxsO1xuICBzdGF0ZS5raW5kICAgPSBudWxsO1xuICBzdGF0ZS5yZXN1bHQgPSBudWxsO1xuXG4gIGFsbG93QmxvY2tTdHlsZXMgPSBhbGxvd0Jsb2NrU2NhbGFycyA9IGFsbG93QmxvY2tDb2xsZWN0aW9ucyA9XG4gICAgQ09OVEVYVF9CTE9DS19PVVQgPT09IG5vZGVDb250ZXh0IHx8XG4gICAgQ09OVEVYVF9CTE9DS19JTiAgPT09IG5vZGVDb250ZXh0O1xuXG4gIGlmIChhbGxvd1RvU2Vlaykge1xuICAgIGlmIChza2lwU2VwYXJhdGlvblNwYWNlKHN0YXRlLCB0cnVlLCAtMSkpIHtcbiAgICAgIGF0TmV3TGluZSA9IHRydWU7XG5cbiAgICAgIGlmIChzdGF0ZS5saW5lSW5kZW50ID4gcGFyZW50SW5kZW50KSB7XG4gICAgICAgIGluZGVudFN0YXR1cyA9IDE7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLmxpbmVJbmRlbnQgPT09IHBhcmVudEluZGVudCkge1xuICAgICAgICBpbmRlbnRTdGF0dXMgPSAwO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZS5saW5lSW5kZW50IDwgcGFyZW50SW5kZW50KSB7XG4gICAgICAgIGluZGVudFN0YXR1cyA9IC0xO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChpbmRlbnRTdGF0dXMgPT09IDEpIHtcbiAgICB3aGlsZSAocmVhZFRhZ1Byb3BlcnR5KHN0YXRlKSB8fCByZWFkQW5jaG9yUHJvcGVydHkoc3RhdGUpKSB7XG4gICAgICBpZiAoc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgLTEpKSB7XG4gICAgICAgIGF0TmV3TGluZSA9IHRydWU7XG4gICAgICAgIGFsbG93QmxvY2tDb2xsZWN0aW9ucyA9IGFsbG93QmxvY2tTdHlsZXM7XG5cbiAgICAgICAgaWYgKHN0YXRlLmxpbmVJbmRlbnQgPiBwYXJlbnRJbmRlbnQpIHtcbiAgICAgICAgICBpbmRlbnRTdGF0dXMgPSAxO1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLmxpbmVJbmRlbnQgPT09IHBhcmVudEluZGVudCkge1xuICAgICAgICAgIGluZGVudFN0YXR1cyA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUubGluZUluZGVudCA8IHBhcmVudEluZGVudCkge1xuICAgICAgICAgIGluZGVudFN0YXR1cyA9IC0xO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbGxvd0Jsb2NrQ29sbGVjdGlvbnMgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoYWxsb3dCbG9ja0NvbGxlY3Rpb25zKSB7XG4gICAgYWxsb3dCbG9ja0NvbGxlY3Rpb25zID0gYXROZXdMaW5lIHx8IGFsbG93Q29tcGFjdDtcbiAgfVxuXG4gIGlmIChpbmRlbnRTdGF0dXMgPT09IDEgfHwgQ09OVEVYVF9CTE9DS19PVVQgPT09IG5vZGVDb250ZXh0KSB7XG4gICAgaWYgKENPTlRFWFRfRkxPV19JTiA9PT0gbm9kZUNvbnRleHQgfHwgQ09OVEVYVF9GTE9XX09VVCA9PT0gbm9kZUNvbnRleHQpIHtcbiAgICAgIGZsb3dJbmRlbnQgPSBwYXJlbnRJbmRlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZsb3dJbmRlbnQgPSBwYXJlbnRJbmRlbnQgKyAxO1xuICAgIH1cblxuICAgIGJsb2NrSW5kZW50ID0gc3RhdGUucG9zaXRpb24gLSBzdGF0ZS5saW5lU3RhcnQ7XG5cbiAgICBpZiAoaW5kZW50U3RhdHVzID09PSAxKSB7XG4gICAgICBpZiAoYWxsb3dCbG9ja0NvbGxlY3Rpb25zICYmXG4gICAgICAgICAgKHJlYWRCbG9ja1NlcXVlbmNlKHN0YXRlLCBibG9ja0luZGVudCkgfHxcbiAgICAgICAgICAgcmVhZEJsb2NrTWFwcGluZyhzdGF0ZSwgYmxvY2tJbmRlbnQsIGZsb3dJbmRlbnQpKSB8fFxuICAgICAgICAgIHJlYWRGbG93Q29sbGVjdGlvbihzdGF0ZSwgZmxvd0luZGVudCkpIHtcbiAgICAgICAgaGFzQ29udGVudCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoKGFsbG93QmxvY2tTY2FsYXJzICYmIHJlYWRCbG9ja1NjYWxhcihzdGF0ZSwgZmxvd0luZGVudCkpIHx8XG4gICAgICAgICAgICByZWFkU2luZ2xlUXVvdGVkU2NhbGFyKHN0YXRlLCBmbG93SW5kZW50KSB8fFxuICAgICAgICAgICAgcmVhZERvdWJsZVF1b3RlZFNjYWxhcihzdGF0ZSwgZmxvd0luZGVudCkpIHtcbiAgICAgICAgICBoYXNDb250ZW50ID0gdHJ1ZTtcblxuICAgICAgICB9IGVsc2UgaWYgKHJlYWRBbGlhcyhzdGF0ZSkpIHtcbiAgICAgICAgICBoYXNDb250ZW50ID0gdHJ1ZTtcblxuICAgICAgICAgIGlmIChzdGF0ZS50YWcgIT09IG51bGwgfHwgc3RhdGUuYW5jaG9yICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnYWxpYXMgbm9kZSBzaG91bGQgbm90IGhhdmUgYW55IHByb3BlcnRpZXMnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIGlmIChyZWFkUGxhaW5TY2FsYXIoc3RhdGUsIGZsb3dJbmRlbnQsIENPTlRFWFRfRkxPV19JTiA9PT0gbm9kZUNvbnRleHQpKSB7XG4gICAgICAgICAgaGFzQ29udGVudCA9IHRydWU7XG5cbiAgICAgICAgICBpZiAoc3RhdGUudGFnID09PSBudWxsKSB7XG4gICAgICAgICAgICBzdGF0ZS50YWcgPSAnPyc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXRlLmFuY2hvciAhPT0gbnVsbCkge1xuICAgICAgICAgIHN0YXRlLmFuY2hvck1hcFtzdGF0ZS5hbmNob3JdID0gc3RhdGUucmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpbmRlbnRTdGF0dXMgPT09IDApIHtcbiAgICAgIC8vIFNwZWNpYWwgY2FzZTogYmxvY2sgc2VxdWVuY2VzIGFyZSBhbGxvd2VkIHRvIGhhdmUgc2FtZSBpbmRlbnRhdGlvbiBsZXZlbCBhcyB0aGUgcGFyZW50LlxuICAgICAgLy8gaHR0cDovL3d3dy55YW1sLm9yZy9zcGVjLzEuMi9zcGVjLmh0bWwjaWQyNzk5Nzg0XG4gICAgICBoYXNDb250ZW50ID0gYWxsb3dCbG9ja0NvbGxlY3Rpb25zICYmIHJlYWRCbG9ja1NlcXVlbmNlKHN0YXRlLCBibG9ja0luZGVudCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHN0YXRlLnRhZyA9PT0gbnVsbCkge1xuICAgIGlmIChzdGF0ZS5hbmNob3IgIT09IG51bGwpIHtcbiAgICAgIHN0YXRlLmFuY2hvck1hcFtzdGF0ZS5hbmNob3JdID0gc3RhdGUucmVzdWx0O1xuICAgIH1cblxuICB9IGVsc2UgaWYgKHN0YXRlLnRhZyA9PT0gJz8nKSB7XG4gICAgLy8gSW1wbGljaXQgcmVzb2x2aW5nIGlzIG5vdCBhbGxvd2VkIGZvciBub24tc2NhbGFyIHR5cGVzLCBhbmQgJz8nXG4gICAgLy8gbm9uLXNwZWNpZmljIHRhZyBpcyBvbmx5IGF1dG9tYXRpY2FsbHkgYXNzaWduZWQgdG8gcGxhaW4gc2NhbGFycy5cbiAgICAvL1xuICAgIC8vIFdlIG9ubHkgbmVlZCB0byBjaGVjayBraW5kIGNvbmZvcm1pdHkgaW4gY2FzZSB1c2VyIGV4cGxpY2l0bHkgYXNzaWducyAnPydcbiAgICAvLyB0YWcsIGZvciBleGFtcGxlIGxpa2UgdGhpczogXCIhPD8+IFswXVwiXG4gICAgLy9cbiAgICBpZiAoc3RhdGUucmVzdWx0ICE9PSBudWxsICYmIHN0YXRlLmtpbmQgIT09ICdzY2FsYXInKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndW5hY2NlcHRhYmxlIG5vZGUga2luZCBmb3IgITw/PiB0YWc7IGl0IHNob3VsZCBiZSBcInNjYWxhclwiLCBub3QgXCInICsgc3RhdGUua2luZCArICdcIicpO1xuICAgIH1cblxuICAgIGZvciAodHlwZUluZGV4ID0gMCwgdHlwZVF1YW50aXR5ID0gc3RhdGUuaW1wbGljaXRUeXBlcy5sZW5ndGg7IHR5cGVJbmRleCA8IHR5cGVRdWFudGl0eTsgdHlwZUluZGV4ICs9IDEpIHtcbiAgICAgIHR5cGUgPSBzdGF0ZS5pbXBsaWNpdFR5cGVzW3R5cGVJbmRleF07XG5cbiAgICAgIGlmICh0eXBlLnJlc29sdmUoc3RhdGUucmVzdWx0KSkgeyAvLyBgc3RhdGUucmVzdWx0YCB1cGRhdGVkIGluIHJlc29sdmVyIGlmIG1hdGNoZWRcbiAgICAgICAgc3RhdGUucmVzdWx0ID0gdHlwZS5jb25zdHJ1Y3Qoc3RhdGUucmVzdWx0KTtcbiAgICAgICAgc3RhdGUudGFnID0gdHlwZS50YWc7XG4gICAgICAgIGlmIChzdGF0ZS5hbmNob3IgIT09IG51bGwpIHtcbiAgICAgICAgICBzdGF0ZS5hbmNob3JNYXBbc3RhdGUuYW5jaG9yXSA9IHN0YXRlLnJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoc3RhdGUudGFnICE9PSAnIScpIHtcbiAgICBpZiAoX2hhc093blByb3BlcnR5JDEuY2FsbChzdGF0ZS50eXBlTWFwW3N0YXRlLmtpbmQgfHwgJ2ZhbGxiYWNrJ10sIHN0YXRlLnRhZykpIHtcbiAgICAgIHR5cGUgPSBzdGF0ZS50eXBlTWFwW3N0YXRlLmtpbmQgfHwgJ2ZhbGxiYWNrJ11bc3RhdGUudGFnXTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbG9va2luZyBmb3IgbXVsdGkgdHlwZVxuICAgICAgdHlwZSA9IG51bGw7XG4gICAgICB0eXBlTGlzdCA9IHN0YXRlLnR5cGVNYXAubXVsdGlbc3RhdGUua2luZCB8fCAnZmFsbGJhY2snXTtcblxuICAgICAgZm9yICh0eXBlSW5kZXggPSAwLCB0eXBlUXVhbnRpdHkgPSB0eXBlTGlzdC5sZW5ndGg7IHR5cGVJbmRleCA8IHR5cGVRdWFudGl0eTsgdHlwZUluZGV4ICs9IDEpIHtcbiAgICAgICAgaWYgKHN0YXRlLnRhZy5zbGljZSgwLCB0eXBlTGlzdFt0eXBlSW5kZXhdLnRhZy5sZW5ndGgpID09PSB0eXBlTGlzdFt0eXBlSW5kZXhdLnRhZykge1xuICAgICAgICAgIHR5cGUgPSB0eXBlTGlzdFt0eXBlSW5kZXhdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCF0eXBlKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndW5rbm93biB0YWcgITwnICsgc3RhdGUudGFnICsgJz4nKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUucmVzdWx0ICE9PSBudWxsICYmIHR5cGUua2luZCAhPT0gc3RhdGUua2luZCkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3VuYWNjZXB0YWJsZSBub2RlIGtpbmQgZm9yICE8JyArIHN0YXRlLnRhZyArICc+IHRhZzsgaXQgc2hvdWxkIGJlIFwiJyArIHR5cGUua2luZCArICdcIiwgbm90IFwiJyArIHN0YXRlLmtpbmQgKyAnXCInKTtcbiAgICB9XG5cbiAgICBpZiAoIXR5cGUucmVzb2x2ZShzdGF0ZS5yZXN1bHQsIHN0YXRlLnRhZykpIHsgLy8gYHN0YXRlLnJlc3VsdGAgdXBkYXRlZCBpbiByZXNvbHZlciBpZiBtYXRjaGVkXG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnY2Fubm90IHJlc29sdmUgYSBub2RlIHdpdGggITwnICsgc3RhdGUudGFnICsgJz4gZXhwbGljaXQgdGFnJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLnJlc3VsdCA9IHR5cGUuY29uc3RydWN0KHN0YXRlLnJlc3VsdCwgc3RhdGUudGFnKTtcbiAgICAgIGlmIChzdGF0ZS5hbmNob3IgIT09IG51bGwpIHtcbiAgICAgICAgc3RhdGUuYW5jaG9yTWFwW3N0YXRlLmFuY2hvcl0gPSBzdGF0ZS5yZXN1bHQ7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKHN0YXRlLmxpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgc3RhdGUubGlzdGVuZXIoJ2Nsb3NlJywgc3RhdGUpO1xuICB9XG4gIHJldHVybiBzdGF0ZS50YWcgIT09IG51bGwgfHwgIHN0YXRlLmFuY2hvciAhPT0gbnVsbCB8fCBoYXNDb250ZW50O1xufVxuXG5mdW5jdGlvbiByZWFkRG9jdW1lbnQoc3RhdGUpIHtcbiAgdmFyIGRvY3VtZW50U3RhcnQgPSBzdGF0ZS5wb3NpdGlvbixcbiAgICAgIF9wb3NpdGlvbixcbiAgICAgIGRpcmVjdGl2ZU5hbWUsXG4gICAgICBkaXJlY3RpdmVBcmdzLFxuICAgICAgaGFzRGlyZWN0aXZlcyA9IGZhbHNlLFxuICAgICAgY2g7XG5cbiAgc3RhdGUudmVyc2lvbiA9IG51bGw7XG4gIHN0YXRlLmNoZWNrTGluZUJyZWFrcyA9IHN0YXRlLmxlZ2FjeTtcbiAgc3RhdGUudGFnTWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgc3RhdGUuYW5jaG9yTWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICB3aGlsZSAoKGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbikpICE9PSAwKSB7XG4gICAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgLTEpO1xuXG4gICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICAgIGlmIChzdGF0ZS5saW5lSW5kZW50ID4gMCB8fCBjaCAhPT0gMHgyNS8qICUgKi8pIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGhhc0RpcmVjdGl2ZXMgPSB0cnVlO1xuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICBfcG9zaXRpb24gPSBzdGF0ZS5wb3NpdGlvbjtcblxuICAgIHdoaWxlIChjaCAhPT0gMCAmJiAhaXNfV1NfT1JfRU9MKGNoKSkge1xuICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuICAgIH1cblxuICAgIGRpcmVjdGl2ZU5hbWUgPSBzdGF0ZS5pbnB1dC5zbGljZShfcG9zaXRpb24sIHN0YXRlLnBvc2l0aW9uKTtcbiAgICBkaXJlY3RpdmVBcmdzID0gW107XG5cbiAgICBpZiAoZGlyZWN0aXZlTmFtZS5sZW5ndGggPCAxKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnZGlyZWN0aXZlIG5hbWUgbXVzdCBub3QgYmUgbGVzcyB0aGFuIG9uZSBjaGFyYWN0ZXIgaW4gbGVuZ3RoJyk7XG4gICAgfVxuXG4gICAgd2hpbGUgKGNoICE9PSAwKSB7XG4gICAgICB3aGlsZSAoaXNfV0hJVEVfU1BBQ0UoY2gpKSB7XG4gICAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNoID09PSAweDIzLyogIyAqLykge1xuICAgICAgICBkbyB7IGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTsgfVxuICAgICAgICB3aGlsZSAoY2ggIT09IDAgJiYgIWlzX0VPTChjaCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgaWYgKGlzX0VPTChjaCkpIGJyZWFrO1xuXG4gICAgICBfcG9zaXRpb24gPSBzdGF0ZS5wb3NpdGlvbjtcblxuICAgICAgd2hpbGUgKGNoICE9PSAwICYmICFpc19XU19PUl9FT0woY2gpKSB7XG4gICAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICAgIH1cblxuICAgICAgZGlyZWN0aXZlQXJncy5wdXNoKHN0YXRlLmlucHV0LnNsaWNlKF9wb3NpdGlvbiwgc3RhdGUucG9zaXRpb24pKTtcbiAgICB9XG5cbiAgICBpZiAoY2ggIT09IDApIHJlYWRMaW5lQnJlYWsoc3RhdGUpO1xuXG4gICAgaWYgKF9oYXNPd25Qcm9wZXJ0eSQxLmNhbGwoZGlyZWN0aXZlSGFuZGxlcnMsIGRpcmVjdGl2ZU5hbWUpKSB7XG4gICAgICBkaXJlY3RpdmVIYW5kbGVyc1tkaXJlY3RpdmVOYW1lXShzdGF0ZSwgZGlyZWN0aXZlTmFtZSwgZGlyZWN0aXZlQXJncyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93V2FybmluZyhzdGF0ZSwgJ3Vua25vd24gZG9jdW1lbnQgZGlyZWN0aXZlIFwiJyArIGRpcmVjdGl2ZU5hbWUgKyAnXCInKTtcbiAgICB9XG4gIH1cblxuICBza2lwU2VwYXJhdGlvblNwYWNlKHN0YXRlLCB0cnVlLCAtMSk7XG5cbiAgaWYgKHN0YXRlLmxpbmVJbmRlbnQgPT09IDAgJiZcbiAgICAgIHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pICAgICA9PT0gMHgyRC8qIC0gKi8gJiZcbiAgICAgIHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24gKyAxKSA9PT0gMHgyRC8qIC0gKi8gJiZcbiAgICAgIHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24gKyAyKSA9PT0gMHgyRC8qIC0gKi8pIHtcbiAgICBzdGF0ZS5wb3NpdGlvbiArPSAzO1xuICAgIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIC0xKTtcblxuICB9IGVsc2UgaWYgKGhhc0RpcmVjdGl2ZXMpIHtcbiAgICB0aHJvd0Vycm9yKHN0YXRlLCAnZGlyZWN0aXZlcyBlbmQgbWFyayBpcyBleHBlY3RlZCcpO1xuICB9XG5cbiAgY29tcG9zZU5vZGUoc3RhdGUsIHN0YXRlLmxpbmVJbmRlbnQgLSAxLCBDT05URVhUX0JMT0NLX09VVCwgZmFsc2UsIHRydWUpO1xuICBza2lwU2VwYXJhdGlvblNwYWNlKHN0YXRlLCB0cnVlLCAtMSk7XG5cbiAgaWYgKHN0YXRlLmNoZWNrTGluZUJyZWFrcyAmJlxuICAgICAgUEFUVEVSTl9OT05fQVNDSUlfTElORV9CUkVBS1MudGVzdChzdGF0ZS5pbnB1dC5zbGljZShkb2N1bWVudFN0YXJ0LCBzdGF0ZS5wb3NpdGlvbikpKSB7XG4gICAgdGhyb3dXYXJuaW5nKHN0YXRlLCAnbm9uLUFTQ0lJIGxpbmUgYnJlYWtzIGFyZSBpbnRlcnByZXRlZCBhcyBjb250ZW50Jyk7XG4gIH1cblxuICBzdGF0ZS5kb2N1bWVudHMucHVzaChzdGF0ZS5yZXN1bHQpO1xuXG4gIGlmIChzdGF0ZS5wb3NpdGlvbiA9PT0gc3RhdGUubGluZVN0YXJ0ICYmIHRlc3REb2N1bWVudFNlcGFyYXRvcihzdGF0ZSkpIHtcblxuICAgIGlmIChzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKSA9PT0gMHgyRS8qIC4gKi8pIHtcbiAgICAgIHN0YXRlLnBvc2l0aW9uICs9IDM7XG4gICAgICBza2lwU2VwYXJhdGlvblNwYWNlKHN0YXRlLCB0cnVlLCAtMSk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChzdGF0ZS5wb3NpdGlvbiA8IChzdGF0ZS5sZW5ndGggLSAxKSkge1xuICAgIHRocm93RXJyb3Ioc3RhdGUsICdlbmQgb2YgdGhlIHN0cmVhbSBvciBhIGRvY3VtZW50IHNlcGFyYXRvciBpcyBleHBlY3RlZCcpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybjtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIGxvYWREb2N1bWVudHMoaW5wdXQsIG9wdGlvbnMpIHtcbiAgaW5wdXQgPSBTdHJpbmcoaW5wdXQpO1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICBpZiAoaW5wdXQubGVuZ3RoICE9PSAwKSB7XG5cbiAgICAvLyBBZGQgdGFpbGluZyBgXFxuYCBpZiBub3QgZXhpc3RzXG4gICAgaWYgKGlucHV0LmNoYXJDb2RlQXQoaW5wdXQubGVuZ3RoIC0gMSkgIT09IDB4MEEvKiBMRiAqLyAmJlxuICAgICAgICBpbnB1dC5jaGFyQ29kZUF0KGlucHV0Lmxlbmd0aCAtIDEpICE9PSAweDBELyogQ1IgKi8pIHtcbiAgICAgIGlucHV0ICs9ICdcXG4nO1xuICAgIH1cblxuICAgIC8vIFN0cmlwIEJPTVxuICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KDApID09PSAweEZFRkYpIHtcbiAgICAgIGlucHV0ID0gaW5wdXQuc2xpY2UoMSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHN0YXRlID0gbmV3IFN0YXRlJDEoaW5wdXQsIG9wdGlvbnMpO1xuXG4gIHZhciBudWxscG9zID0gaW5wdXQuaW5kZXhPZignXFwwJyk7XG5cbiAgaWYgKG51bGxwb3MgIT09IC0xKSB7XG4gICAgc3RhdGUucG9zaXRpb24gPSBudWxscG9zO1xuICAgIHRocm93RXJyb3Ioc3RhdGUsICdudWxsIGJ5dGUgaXMgbm90IGFsbG93ZWQgaW4gaW5wdXQnKTtcbiAgfVxuXG4gIC8vIFVzZSAwIGFzIHN0cmluZyB0ZXJtaW5hdG9yLiBUaGF0IHNpZ25pZmljYW50bHkgc2ltcGxpZmllcyBib3VuZHMgY2hlY2suXG4gIHN0YXRlLmlucHV0ICs9ICdcXDAnO1xuXG4gIHdoaWxlIChzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKSA9PT0gMHgyMC8qIFNwYWNlICovKSB7XG4gICAgc3RhdGUubGluZUluZGVudCArPSAxO1xuICAgIHN0YXRlLnBvc2l0aW9uICs9IDE7XG4gIH1cblxuICB3aGlsZSAoc3RhdGUucG9zaXRpb24gPCAoc3RhdGUubGVuZ3RoIC0gMSkpIHtcbiAgICByZWFkRG9jdW1lbnQoc3RhdGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0YXRlLmRvY3VtZW50cztcbn1cblxuXG5mdW5jdGlvbiBsb2FkQWxsJDEoaW5wdXQsIGl0ZXJhdG9yLCBvcHRpb25zKSB7XG4gIGlmIChpdGVyYXRvciAhPT0gbnVsbCAmJiB0eXBlb2YgaXRlcmF0b3IgPT09ICdvYmplY3QnICYmIHR5cGVvZiBvcHRpb25zID09PSAndW5kZWZpbmVkJykge1xuICAgIG9wdGlvbnMgPSBpdGVyYXRvcjtcbiAgICBpdGVyYXRvciA9IG51bGw7XG4gIH1cblxuICB2YXIgZG9jdW1lbnRzID0gbG9hZERvY3VtZW50cyhpbnB1dCwgb3B0aW9ucyk7XG5cbiAgaWYgKHR5cGVvZiBpdGVyYXRvciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBkb2N1bWVudHM7XG4gIH1cblxuICBmb3IgKHZhciBpbmRleCA9IDAsIGxlbmd0aCA9IGRvY3VtZW50cy5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgaXRlcmF0b3IoZG9jdW1lbnRzW2luZGV4XSk7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBsb2FkJDEoaW5wdXQsIG9wdGlvbnMpIHtcbiAgdmFyIGRvY3VtZW50cyA9IGxvYWREb2N1bWVudHMoaW5wdXQsIG9wdGlvbnMpO1xuXG4gIGlmIChkb2N1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgLyplc2xpbnQtZGlzYWJsZSBuby11bmRlZmluZWQqL1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0gZWxzZSBpZiAoZG9jdW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBkb2N1bWVudHNbMF07XG4gIH1cbiAgdGhyb3cgbmV3IGV4Y2VwdGlvbignZXhwZWN0ZWQgYSBzaW5nbGUgZG9jdW1lbnQgaW4gdGhlIHN0cmVhbSwgYnV0IGZvdW5kIG1vcmUnKTtcbn1cblxuXG52YXIgbG9hZEFsbF8xID0gbG9hZEFsbCQxO1xudmFyIGxvYWRfMSAgICA9IGxvYWQkMTtcblxudmFyIGxvYWRlciA9IHtcblx0bG9hZEFsbDogbG9hZEFsbF8xLFxuXHRsb2FkOiBsb2FkXzFcbn07XG5cbi8qZXNsaW50LWRpc2FibGUgbm8tdXNlLWJlZm9yZS1kZWZpbmUqL1xuXG5cblxuXG5cbnZhciBfdG9TdHJpbmcgICAgICAgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyIF9oYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbnZhciBDSEFSX0JPTSAgICAgICAgICAgICAgICAgID0gMHhGRUZGO1xudmFyIENIQVJfVEFCICAgICAgICAgICAgICAgICAgPSAweDA5OyAvKiBUYWIgKi9cbnZhciBDSEFSX0xJTkVfRkVFRCAgICAgICAgICAgID0gMHgwQTsgLyogTEYgKi9cbnZhciBDSEFSX0NBUlJJQUdFX1JFVFVSTiAgICAgID0gMHgwRDsgLyogQ1IgKi9cbnZhciBDSEFSX1NQQUNFICAgICAgICAgICAgICAgID0gMHgyMDsgLyogU3BhY2UgKi9cbnZhciBDSEFSX0VYQ0xBTUFUSU9OICAgICAgICAgID0gMHgyMTsgLyogISAqL1xudmFyIENIQVJfRE9VQkxFX1FVT1RFICAgICAgICAgPSAweDIyOyAvKiBcIiAqL1xudmFyIENIQVJfU0hBUlAgICAgICAgICAgICAgICAgPSAweDIzOyAvKiAjICovXG52YXIgQ0hBUl9QRVJDRU5UICAgICAgICAgICAgICA9IDB4MjU7IC8qICUgKi9cbnZhciBDSEFSX0FNUEVSU0FORCAgICAgICAgICAgID0gMHgyNjsgLyogJiAqL1xudmFyIENIQVJfU0lOR0xFX1FVT1RFICAgICAgICAgPSAweDI3OyAvKiAnICovXG52YXIgQ0hBUl9BU1RFUklTSyAgICAgICAgICAgICA9IDB4MkE7IC8qICogKi9cbnZhciBDSEFSX0NPTU1BICAgICAgICAgICAgICAgID0gMHgyQzsgLyogLCAqL1xudmFyIENIQVJfTUlOVVMgICAgICAgICAgICAgICAgPSAweDJEOyAvKiAtICovXG52YXIgQ0hBUl9DT0xPTiAgICAgICAgICAgICAgICA9IDB4M0E7IC8qIDogKi9cbnZhciBDSEFSX0VRVUFMUyAgICAgICAgICAgICAgID0gMHgzRDsgLyogPSAqL1xudmFyIENIQVJfR1JFQVRFUl9USEFOICAgICAgICAgPSAweDNFOyAvKiA+ICovXG52YXIgQ0hBUl9RVUVTVElPTiAgICAgICAgICAgICA9IDB4M0Y7IC8qID8gKi9cbnZhciBDSEFSX0NPTU1FUkNJQUxfQVQgICAgICAgID0gMHg0MDsgLyogQCAqL1xudmFyIENIQVJfTEVGVF9TUVVBUkVfQlJBQ0tFVCAgPSAweDVCOyAvKiBbICovXG52YXIgQ0hBUl9SSUdIVF9TUVVBUkVfQlJBQ0tFVCA9IDB4NUQ7IC8qIF0gKi9cbnZhciBDSEFSX0dSQVZFX0FDQ0VOVCAgICAgICAgID0gMHg2MDsgLyogYCAqL1xudmFyIENIQVJfTEVGVF9DVVJMWV9CUkFDS0VUICAgPSAweDdCOyAvKiB7ICovXG52YXIgQ0hBUl9WRVJUSUNBTF9MSU5FICAgICAgICA9IDB4N0M7IC8qIHwgKi9cbnZhciBDSEFSX1JJR0hUX0NVUkxZX0JSQUNLRVQgID0gMHg3RDsgLyogfSAqL1xuXG52YXIgRVNDQVBFX1NFUVVFTkNFUyA9IHt9O1xuXG5FU0NBUEVfU0VRVUVOQ0VTWzB4MDBdICAgPSAnXFxcXDAnO1xuRVNDQVBFX1NFUVVFTkNFU1sweDA3XSAgID0gJ1xcXFxhJztcbkVTQ0FQRV9TRVFVRU5DRVNbMHgwOF0gICA9ICdcXFxcYic7XG5FU0NBUEVfU0VRVUVOQ0VTWzB4MDldICAgPSAnXFxcXHQnO1xuRVNDQVBFX1NFUVVFTkNFU1sweDBBXSAgID0gJ1xcXFxuJztcbkVTQ0FQRV9TRVFVRU5DRVNbMHgwQl0gICA9ICdcXFxcdic7XG5FU0NBUEVfU0VRVUVOQ0VTWzB4MENdICAgPSAnXFxcXGYnO1xuRVNDQVBFX1NFUVVFTkNFU1sweDBEXSAgID0gJ1xcXFxyJztcbkVTQ0FQRV9TRVFVRU5DRVNbMHgxQl0gICA9ICdcXFxcZSc7XG5FU0NBUEVfU0VRVUVOQ0VTWzB4MjJdICAgPSAnXFxcXFwiJztcbkVTQ0FQRV9TRVFVRU5DRVNbMHg1Q10gICA9ICdcXFxcXFxcXCc7XG5FU0NBUEVfU0VRVUVOQ0VTWzB4ODVdICAgPSAnXFxcXE4nO1xuRVNDQVBFX1NFUVVFTkNFU1sweEEwXSAgID0gJ1xcXFxfJztcbkVTQ0FQRV9TRVFVRU5DRVNbMHgyMDI4XSA9ICdcXFxcTCc7XG5FU0NBUEVfU0VRVUVOQ0VTWzB4MjAyOV0gPSAnXFxcXFAnO1xuXG52YXIgREVQUkVDQVRFRF9CT09MRUFOU19TWU5UQVggPSBbXG4gICd5JywgJ1knLCAneWVzJywgJ1llcycsICdZRVMnLCAnb24nLCAnT24nLCAnT04nLFxuICAnbicsICdOJywgJ25vJywgJ05vJywgJ05PJywgJ29mZicsICdPZmYnLCAnT0ZGJ1xuXTtcblxudmFyIERFUFJFQ0FURURfQkFTRTYwX1NZTlRBWCA9IC9eWy0rXT9bMC05X10rKD86OlswLTlfXSspKyg/OlxcLlswLTlfXSopPyQvO1xuXG5mdW5jdGlvbiBjb21waWxlU3R5bGVNYXAoc2NoZW1hLCBtYXApIHtcbiAgdmFyIHJlc3VsdCwga2V5cywgaW5kZXgsIGxlbmd0aCwgdGFnLCBzdHlsZSwgdHlwZTtcblxuICBpZiAobWFwID09PSBudWxsKSByZXR1cm4ge307XG5cbiAgcmVzdWx0ID0ge307XG4gIGtleXMgPSBPYmplY3Qua2V5cyhtYXApO1xuXG4gIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICB0YWcgPSBrZXlzW2luZGV4XTtcbiAgICBzdHlsZSA9IFN0cmluZyhtYXBbdGFnXSk7XG5cbiAgICBpZiAodGFnLnNsaWNlKDAsIDIpID09PSAnISEnKSB7XG4gICAgICB0YWcgPSAndGFnOnlhbWwub3JnLDIwMDI6JyArIHRhZy5zbGljZSgyKTtcbiAgICB9XG4gICAgdHlwZSA9IHNjaGVtYS5jb21waWxlZFR5cGVNYXBbJ2ZhbGxiYWNrJ11bdGFnXTtcblxuICAgIGlmICh0eXBlICYmIF9oYXNPd25Qcm9wZXJ0eS5jYWxsKHR5cGUuc3R5bGVBbGlhc2VzLCBzdHlsZSkpIHtcbiAgICAgIHN0eWxlID0gdHlwZS5zdHlsZUFsaWFzZXNbc3R5bGVdO1xuICAgIH1cblxuICAgIHJlc3VsdFt0YWddID0gc3R5bGU7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBlbmNvZGVIZXgoY2hhcmFjdGVyKSB7XG4gIHZhciBzdHJpbmcsIGhhbmRsZSwgbGVuZ3RoO1xuXG4gIHN0cmluZyA9IGNoYXJhY3Rlci50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtcblxuICBpZiAoY2hhcmFjdGVyIDw9IDB4RkYpIHtcbiAgICBoYW5kbGUgPSAneCc7XG4gICAgbGVuZ3RoID0gMjtcbiAgfSBlbHNlIGlmIChjaGFyYWN0ZXIgPD0gMHhGRkZGKSB7XG4gICAgaGFuZGxlID0gJ3UnO1xuICAgIGxlbmd0aCA9IDQ7XG4gIH0gZWxzZSBpZiAoY2hhcmFjdGVyIDw9IDB4RkZGRkZGRkYpIHtcbiAgICBoYW5kbGUgPSAnVSc7XG4gICAgbGVuZ3RoID0gODtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgZXhjZXB0aW9uKCdjb2RlIHBvaW50IHdpdGhpbiBhIHN0cmluZyBtYXkgbm90IGJlIGdyZWF0ZXIgdGhhbiAweEZGRkZGRkZGJyk7XG4gIH1cblxuICByZXR1cm4gJ1xcXFwnICsgaGFuZGxlICsgY29tbW9uLnJlcGVhdCgnMCcsIGxlbmd0aCAtIHN0cmluZy5sZW5ndGgpICsgc3RyaW5nO1xufVxuXG5cbnZhciBRVU9USU5HX1RZUEVfU0lOR0xFID0gMSxcbiAgICBRVU9USU5HX1RZUEVfRE9VQkxFID0gMjtcblxuZnVuY3Rpb24gU3RhdGUob3B0aW9ucykge1xuICB0aGlzLnNjaGVtYSAgICAgICAgPSBvcHRpb25zWydzY2hlbWEnXSB8fCBfZGVmYXVsdDtcbiAgdGhpcy5pbmRlbnQgICAgICAgID0gTWF0aC5tYXgoMSwgKG9wdGlvbnNbJ2luZGVudCddIHx8IDIpKTtcbiAgdGhpcy5ub0FycmF5SW5kZW50ID0gb3B0aW9uc1snbm9BcnJheUluZGVudCddIHx8IGZhbHNlO1xuICB0aGlzLnNraXBJbnZhbGlkICAgPSBvcHRpb25zWydza2lwSW52YWxpZCddIHx8IGZhbHNlO1xuICB0aGlzLmZsb3dMZXZlbCAgICAgPSAoY29tbW9uLmlzTm90aGluZyhvcHRpb25zWydmbG93TGV2ZWwnXSkgPyAtMSA6IG9wdGlvbnNbJ2Zsb3dMZXZlbCddKTtcbiAgdGhpcy5zdHlsZU1hcCAgICAgID0gY29tcGlsZVN0eWxlTWFwKHRoaXMuc2NoZW1hLCBvcHRpb25zWydzdHlsZXMnXSB8fCBudWxsKTtcbiAgdGhpcy5zb3J0S2V5cyAgICAgID0gb3B0aW9uc1snc29ydEtleXMnXSB8fCBmYWxzZTtcbiAgdGhpcy5saW5lV2lkdGggICAgID0gb3B0aW9uc1snbGluZVdpZHRoJ10gfHwgODA7XG4gIHRoaXMubm9SZWZzICAgICAgICA9IG9wdGlvbnNbJ25vUmVmcyddIHx8IGZhbHNlO1xuICB0aGlzLm5vQ29tcGF0TW9kZSAgPSBvcHRpb25zWydub0NvbXBhdE1vZGUnXSB8fCBmYWxzZTtcbiAgdGhpcy5jb25kZW5zZUZsb3cgID0gb3B0aW9uc1snY29uZGVuc2VGbG93J10gfHwgZmFsc2U7XG4gIHRoaXMucXVvdGluZ1R5cGUgICA9IG9wdGlvbnNbJ3F1b3RpbmdUeXBlJ10gPT09ICdcIicgPyBRVU9USU5HX1RZUEVfRE9VQkxFIDogUVVPVElOR19UWVBFX1NJTkdMRTtcbiAgdGhpcy5mb3JjZVF1b3RlcyAgID0gb3B0aW9uc1snZm9yY2VRdW90ZXMnXSB8fCBmYWxzZTtcbiAgdGhpcy5yZXBsYWNlciAgICAgID0gdHlwZW9mIG9wdGlvbnNbJ3JlcGxhY2VyJ10gPT09ICdmdW5jdGlvbicgPyBvcHRpb25zWydyZXBsYWNlciddIDogbnVsbDtcblxuICB0aGlzLmltcGxpY2l0VHlwZXMgPSB0aGlzLnNjaGVtYS5jb21waWxlZEltcGxpY2l0O1xuICB0aGlzLmV4cGxpY2l0VHlwZXMgPSB0aGlzLnNjaGVtYS5jb21waWxlZEV4cGxpY2l0O1xuXG4gIHRoaXMudGFnID0gbnVsbDtcbiAgdGhpcy5yZXN1bHQgPSAnJztcblxuICB0aGlzLmR1cGxpY2F0ZXMgPSBbXTtcbiAgdGhpcy51c2VkRHVwbGljYXRlcyA9IG51bGw7XG59XG5cbi8vIEluZGVudHMgZXZlcnkgbGluZSBpbiBhIHN0cmluZy4gRW1wdHkgbGluZXMgKFxcbiBvbmx5KSBhcmUgbm90IGluZGVudGVkLlxuZnVuY3Rpb24gaW5kZW50U3RyaW5nKHN0cmluZywgc3BhY2VzKSB7XG4gIHZhciBpbmQgPSBjb21tb24ucmVwZWF0KCcgJywgc3BhY2VzKSxcbiAgICAgIHBvc2l0aW9uID0gMCxcbiAgICAgIG5leHQgPSAtMSxcbiAgICAgIHJlc3VsdCA9ICcnLFxuICAgICAgbGluZSxcbiAgICAgIGxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG5cbiAgd2hpbGUgKHBvc2l0aW9uIDwgbGVuZ3RoKSB7XG4gICAgbmV4dCA9IHN0cmluZy5pbmRleE9mKCdcXG4nLCBwb3NpdGlvbik7XG4gICAgaWYgKG5leHQgPT09IC0xKSB7XG4gICAgICBsaW5lID0gc3RyaW5nLnNsaWNlKHBvc2l0aW9uKTtcbiAgICAgIHBvc2l0aW9uID0gbGVuZ3RoO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaW5lID0gc3RyaW5nLnNsaWNlKHBvc2l0aW9uLCBuZXh0ICsgMSk7XG4gICAgICBwb3NpdGlvbiA9IG5leHQgKyAxO1xuICAgIH1cblxuICAgIGlmIChsaW5lLmxlbmd0aCAmJiBsaW5lICE9PSAnXFxuJykgcmVzdWx0ICs9IGluZDtcblxuICAgIHJlc3VsdCArPSBsaW5lO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVOZXh0TGluZShzdGF0ZSwgbGV2ZWwpIHtcbiAgcmV0dXJuICdcXG4nICsgY29tbW9uLnJlcGVhdCgnICcsIHN0YXRlLmluZGVudCAqIGxldmVsKTtcbn1cblxuZnVuY3Rpb24gdGVzdEltcGxpY2l0UmVzb2x2aW5nKHN0YXRlLCBzdHIpIHtcbiAgdmFyIGluZGV4LCBsZW5ndGgsIHR5cGU7XG5cbiAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IHN0YXRlLmltcGxpY2l0VHlwZXMubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgIHR5cGUgPSBzdGF0ZS5pbXBsaWNpdFR5cGVzW2luZGV4XTtcblxuICAgIGlmICh0eXBlLnJlc29sdmUoc3RyKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBbMzNdIHMtd2hpdGUgOjo9IHMtc3BhY2UgfCBzLXRhYlxuZnVuY3Rpb24gaXNXaGl0ZXNwYWNlKGMpIHtcbiAgcmV0dXJuIGMgPT09IENIQVJfU1BBQ0UgfHwgYyA9PT0gQ0hBUl9UQUI7XG59XG5cbi8vIFJldHVybnMgdHJ1ZSBpZiB0aGUgY2hhcmFjdGVyIGNhbiBiZSBwcmludGVkIHdpdGhvdXQgZXNjYXBpbmcuXG4vLyBGcm9tIFlBTUwgMS4yOiBcImFueSBhbGxvd2VkIGNoYXJhY3RlcnMga25vd24gdG8gYmUgbm9uLXByaW50YWJsZVxuLy8gc2hvdWxkIGFsc28gYmUgZXNjYXBlZC4gW0hvd2V2ZXIsXSBUaGlzIGlzbuKAmXQgbWFuZGF0b3J5XCJcbi8vIERlcml2ZWQgZnJvbSBuYi1jaGFyIC0gXFx0IC0gI3g4NSAtICN4QTAgLSAjeDIwMjggLSAjeDIwMjkuXG5mdW5jdGlvbiBpc1ByaW50YWJsZShjKSB7XG4gIHJldHVybiAgKDB4MDAwMjAgPD0gYyAmJiBjIDw9IDB4MDAwMDdFKVxuICAgICAgfHwgKCgweDAwMEExIDw9IGMgJiYgYyA8PSAweDAwRDdGRikgJiYgYyAhPT0gMHgyMDI4ICYmIGMgIT09IDB4MjAyOSlcbiAgICAgIHx8ICgoMHgwRTAwMCA8PSBjICYmIGMgPD0gMHgwMEZGRkQpICYmIGMgIT09IENIQVJfQk9NKVxuICAgICAgfHwgICgweDEwMDAwIDw9IGMgJiYgYyA8PSAweDEwRkZGRik7XG59XG5cbi8vIFszNF0gbnMtY2hhciA6Oj0gbmItY2hhciAtIHMtd2hpdGVcbi8vIFsyN10gbmItY2hhciA6Oj0gYy1wcmludGFibGUgLSBiLWNoYXIgLSBjLWJ5dGUtb3JkZXItbWFya1xuLy8gWzI2XSBiLWNoYXIgIDo6PSBiLWxpbmUtZmVlZCB8IGItY2FycmlhZ2UtcmV0dXJuXG4vLyBJbmNsdWRpbmcgcy13aGl0ZSAoZm9yIHNvbWUgcmVhc29uLCBleGFtcGxlcyBkb2Vzbid0IG1hdGNoIHNwZWNzIGluIHRoaXMgYXNwZWN0KVxuLy8gbnMtY2hhciA6Oj0gYy1wcmludGFibGUgLSBiLWxpbmUtZmVlZCAtIGItY2FycmlhZ2UtcmV0dXJuIC0gYy1ieXRlLW9yZGVyLW1hcmtcbmZ1bmN0aW9uIGlzTnNDaGFyT3JXaGl0ZXNwYWNlKGMpIHtcbiAgcmV0dXJuIGlzUHJpbnRhYmxlKGMpXG4gICAgJiYgYyAhPT0gQ0hBUl9CT01cbiAgICAvLyAtIGItY2hhclxuICAgICYmIGMgIT09IENIQVJfQ0FSUklBR0VfUkVUVVJOXG4gICAgJiYgYyAhPT0gQ0hBUl9MSU5FX0ZFRUQ7XG59XG5cbi8vIFsxMjddICBucy1wbGFpbi1zYWZlKGMpIDo6PSBjID0gZmxvdy1vdXQgIOKHkiBucy1wbGFpbi1zYWZlLW91dFxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMgPSBmbG93LWluICAg4oeSIG5zLXBsYWluLXNhZmUtaW5cbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjID0gYmxvY2sta2V5IOKHkiBucy1wbGFpbi1zYWZlLW91dFxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMgPSBmbG93LWtleSAg4oeSIG5zLXBsYWluLXNhZmUtaW5cbi8vIFsxMjhdIG5zLXBsYWluLXNhZmUtb3V0IDo6PSBucy1jaGFyXG4vLyBbMTI5XSAgbnMtcGxhaW4tc2FmZS1pbiA6Oj0gbnMtY2hhciAtIGMtZmxvdy1pbmRpY2F0b3Jcbi8vIFsxMzBdICBucy1wbGFpbi1jaGFyKGMpIDo6PSAgKCBucy1wbGFpbi1zYWZlKGMpIC0g4oCcOuKAnSAtIOKAnCPigJ0gKVxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAoIC8qIEFuIG5zLWNoYXIgcHJlY2VkaW5nICovIOKAnCPigJ0gKVxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAoIOKAnDrigJ0gLyogRm9sbG93ZWQgYnkgYW4gbnMtcGxhaW4tc2FmZShjKSAqLyApXG5mdW5jdGlvbiBpc1BsYWluU2FmZShjLCBwcmV2LCBpbmJsb2NrKSB7XG4gIHZhciBjSXNOc0NoYXJPcldoaXRlc3BhY2UgPSBpc05zQ2hhck9yV2hpdGVzcGFjZShjKTtcbiAgdmFyIGNJc05zQ2hhciA9IGNJc05zQ2hhck9yV2hpdGVzcGFjZSAmJiAhaXNXaGl0ZXNwYWNlKGMpO1xuICByZXR1cm4gKFxuICAgIC8vIG5zLXBsYWluLXNhZmVcbiAgICBpbmJsb2NrID8gLy8gYyA9IGZsb3ctaW5cbiAgICAgIGNJc05zQ2hhck9yV2hpdGVzcGFjZVxuICAgICAgOiBjSXNOc0NoYXJPcldoaXRlc3BhY2VcbiAgICAgICAgLy8gLSBjLWZsb3ctaW5kaWNhdG9yXG4gICAgICAgICYmIGMgIT09IENIQVJfQ09NTUFcbiAgICAgICAgJiYgYyAhPT0gQ0hBUl9MRUZUX1NRVUFSRV9CUkFDS0VUXG4gICAgICAgICYmIGMgIT09IENIQVJfUklHSFRfU1FVQVJFX0JSQUNLRVRcbiAgICAgICAgJiYgYyAhPT0gQ0hBUl9MRUZUX0NVUkxZX0JSQUNLRVRcbiAgICAgICAgJiYgYyAhPT0gQ0hBUl9SSUdIVF9DVVJMWV9CUkFDS0VUXG4gIClcbiAgICAvLyBucy1wbGFpbi1jaGFyXG4gICAgJiYgYyAhPT0gQ0hBUl9TSEFSUCAvLyBmYWxzZSBvbiAnIydcbiAgICAmJiAhKHByZXYgPT09IENIQVJfQ09MT04gJiYgIWNJc05zQ2hhcikgLy8gZmFsc2Ugb24gJzogJ1xuICAgIHx8IChpc05zQ2hhck9yV2hpdGVzcGFjZShwcmV2KSAmJiAhaXNXaGl0ZXNwYWNlKHByZXYpICYmIGMgPT09IENIQVJfU0hBUlApIC8vIGNoYW5nZSB0byB0cnVlIG9uICdbXiBdIydcbiAgICB8fCAocHJldiA9PT0gQ0hBUl9DT0xPTiAmJiBjSXNOc0NoYXIpOyAvLyBjaGFuZ2UgdG8gdHJ1ZSBvbiAnOlteIF0nXG59XG5cbi8vIFNpbXBsaWZpZWQgdGVzdCBmb3IgdmFsdWVzIGFsbG93ZWQgYXMgdGhlIGZpcnN0IGNoYXJhY3RlciBpbiBwbGFpbiBzdHlsZS5cbmZ1bmN0aW9uIGlzUGxhaW5TYWZlRmlyc3QoYykge1xuICAvLyBVc2VzIGEgc3Vic2V0IG9mIG5zLWNoYXIgLSBjLWluZGljYXRvclxuICAvLyB3aGVyZSBucy1jaGFyID0gbmItY2hhciAtIHMtd2hpdGUuXG4gIC8vIE5vIHN1cHBvcnQgb2YgKCAoIOKAnD/igJ0gfCDigJw64oCdIHwg4oCcLeKAnSApIC8qIEZvbGxvd2VkIGJ5IGFuIG5zLXBsYWluLXNhZmUoYykpICovICkgcGFydFxuICByZXR1cm4gaXNQcmludGFibGUoYykgJiYgYyAhPT0gQ0hBUl9CT01cbiAgICAmJiAhaXNXaGl0ZXNwYWNlKGMpIC8vIC0gcy13aGl0ZVxuICAgIC8vIC0gKGMtaW5kaWNhdG9yIDo6PVxuICAgIC8vIOKAnC3igJ0gfCDigJw/4oCdIHwg4oCcOuKAnSB8IOKAnCzigJ0gfCDigJxb4oCdIHwg4oCcXeKAnSB8IOKAnHvigJ0gfCDigJx94oCdXG4gICAgJiYgYyAhPT0gQ0hBUl9NSU5VU1xuICAgICYmIGMgIT09IENIQVJfUVVFU1RJT05cbiAgICAmJiBjICE9PSBDSEFSX0NPTE9OXG4gICAgJiYgYyAhPT0gQ0hBUl9DT01NQVxuICAgICYmIGMgIT09IENIQVJfTEVGVF9TUVVBUkVfQlJBQ0tFVFxuICAgICYmIGMgIT09IENIQVJfUklHSFRfU1FVQVJFX0JSQUNLRVRcbiAgICAmJiBjICE9PSBDSEFSX0xFRlRfQ1VSTFlfQlJBQ0tFVFxuICAgICYmIGMgIT09IENIQVJfUklHSFRfQ1VSTFlfQlJBQ0tFVFxuICAgIC8vIHwg4oCcI+KAnSB8IOKAnCbigJ0gfCDigJwq4oCdIHwg4oCcIeKAnSB8IOKAnHzigJ0gfCDigJw94oCdIHwg4oCcPuKAnSB8IOKAnCfigJ0gfCDigJxcIuKAnVxuICAgICYmIGMgIT09IENIQVJfU0hBUlBcbiAgICAmJiBjICE9PSBDSEFSX0FNUEVSU0FORFxuICAgICYmIGMgIT09IENIQVJfQVNURVJJU0tcbiAgICAmJiBjICE9PSBDSEFSX0VYQ0xBTUFUSU9OXG4gICAgJiYgYyAhPT0gQ0hBUl9WRVJUSUNBTF9MSU5FXG4gICAgJiYgYyAhPT0gQ0hBUl9FUVVBTFNcbiAgICAmJiBjICE9PSBDSEFSX0dSRUFURVJfVEhBTlxuICAgICYmIGMgIT09IENIQVJfU0lOR0xFX1FVT1RFXG4gICAgJiYgYyAhPT0gQ0hBUl9ET1VCTEVfUVVPVEVcbiAgICAvLyB8IOKAnCXigJ0gfCDigJxA4oCdIHwg4oCcYOKAnSlcbiAgICAmJiBjICE9PSBDSEFSX1BFUkNFTlRcbiAgICAmJiBjICE9PSBDSEFSX0NPTU1FUkNJQUxfQVRcbiAgICAmJiBjICE9PSBDSEFSX0dSQVZFX0FDQ0VOVDtcbn1cblxuLy8gU2ltcGxpZmllZCB0ZXN0IGZvciB2YWx1ZXMgYWxsb3dlZCBhcyB0aGUgbGFzdCBjaGFyYWN0ZXIgaW4gcGxhaW4gc3R5bGUuXG5mdW5jdGlvbiBpc1BsYWluU2FmZUxhc3QoYykge1xuICAvLyBqdXN0IG5vdCB3aGl0ZXNwYWNlIG9yIGNvbG9uLCBpdCB3aWxsIGJlIGNoZWNrZWQgdG8gYmUgcGxhaW4gY2hhcmFjdGVyIGxhdGVyXG4gIHJldHVybiAhaXNXaGl0ZXNwYWNlKGMpICYmIGMgIT09IENIQVJfQ09MT047XG59XG5cbi8vIFNhbWUgYXMgJ3N0cmluZycuY29kZVBvaW50QXQocG9zKSwgYnV0IHdvcmtzIGluIG9sZGVyIGJyb3dzZXJzLlxuZnVuY3Rpb24gY29kZVBvaW50QXQoc3RyaW5nLCBwb3MpIHtcbiAgdmFyIGZpcnN0ID0gc3RyaW5nLmNoYXJDb2RlQXQocG9zKSwgc2Vjb25kO1xuICBpZiAoZmlyc3QgPj0gMHhEODAwICYmIGZpcnN0IDw9IDB4REJGRiAmJiBwb3MgKyAxIDwgc3RyaW5nLmxlbmd0aCkge1xuICAgIHNlY29uZCA9IHN0cmluZy5jaGFyQ29kZUF0KHBvcyArIDEpO1xuICAgIGlmIChzZWNvbmQgPj0gMHhEQzAwICYmIHNlY29uZCA8PSAweERGRkYpIHtcbiAgICAgIC8vIGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nI3N1cnJvZ2F0ZS1mb3JtdWxhZVxuICAgICAgcmV0dXJuIChmaXJzdCAtIDB4RDgwMCkgKiAweDQwMCArIHNlY29uZCAtIDB4REMwMCArIDB4MTAwMDA7XG4gICAgfVxuICB9XG4gIHJldHVybiBmaXJzdDtcbn1cblxuLy8gRGV0ZXJtaW5lcyB3aGV0aGVyIGJsb2NrIGluZGVudGF0aW9uIGluZGljYXRvciBpcyByZXF1aXJlZC5cbmZ1bmN0aW9uIG5lZWRJbmRlbnRJbmRpY2F0b3Ioc3RyaW5nKSB7XG4gIHZhciBsZWFkaW5nU3BhY2VSZSA9IC9eXFxuKiAvO1xuICByZXR1cm4gbGVhZGluZ1NwYWNlUmUudGVzdChzdHJpbmcpO1xufVxuXG52YXIgU1RZTEVfUExBSU4gICA9IDEsXG4gICAgU1RZTEVfU0lOR0xFICA9IDIsXG4gICAgU1RZTEVfTElURVJBTCA9IDMsXG4gICAgU1RZTEVfRk9MREVEICA9IDQsXG4gICAgU1RZTEVfRE9VQkxFICA9IDU7XG5cbi8vIERldGVybWluZXMgd2hpY2ggc2NhbGFyIHN0eWxlcyBhcmUgcG9zc2libGUgYW5kIHJldHVybnMgdGhlIHByZWZlcnJlZCBzdHlsZS5cbi8vIGxpbmVXaWR0aCA9IC0xID0+IG5vIGxpbWl0LlxuLy8gUHJlLWNvbmRpdGlvbnM6IHN0ci5sZW5ndGggPiAwLlxuLy8gUG9zdC1jb25kaXRpb25zOlxuLy8gICAgU1RZTEVfUExBSU4gb3IgU1RZTEVfU0lOR0xFID0+IG5vIFxcbiBhcmUgaW4gdGhlIHN0cmluZy5cbi8vICAgIFNUWUxFX0xJVEVSQUwgPT4gbm8gbGluZXMgYXJlIHN1aXRhYmxlIGZvciBmb2xkaW5nIChvciBsaW5lV2lkdGggaXMgLTEpLlxuLy8gICAgU1RZTEVfRk9MREVEID0+IGEgbGluZSA+IGxpbmVXaWR0aCBhbmQgY2FuIGJlIGZvbGRlZCAoYW5kIGxpbmVXaWR0aCAhPSAtMSkuXG5mdW5jdGlvbiBjaG9vc2VTY2FsYXJTdHlsZShzdHJpbmcsIHNpbmdsZUxpbmVPbmx5LCBpbmRlbnRQZXJMZXZlbCwgbGluZVdpZHRoLFxuICB0ZXN0QW1iaWd1b3VzVHlwZSwgcXVvdGluZ1R5cGUsIGZvcmNlUXVvdGVzLCBpbmJsb2NrKSB7XG5cbiAgdmFyIGk7XG4gIHZhciBjaGFyID0gMDtcbiAgdmFyIHByZXZDaGFyID0gbnVsbDtcbiAgdmFyIGhhc0xpbmVCcmVhayA9IGZhbHNlO1xuICB2YXIgaGFzRm9sZGFibGVMaW5lID0gZmFsc2U7IC8vIG9ubHkgY2hlY2tlZCBpZiBzaG91bGRUcmFja1dpZHRoXG4gIHZhciBzaG91bGRUcmFja1dpZHRoID0gbGluZVdpZHRoICE9PSAtMTtcbiAgdmFyIHByZXZpb3VzTGluZUJyZWFrID0gLTE7IC8vIGNvdW50IHRoZSBmaXJzdCBsaW5lIGNvcnJlY3RseVxuICB2YXIgcGxhaW4gPSBpc1BsYWluU2FmZUZpcnN0KGNvZGVQb2ludEF0KHN0cmluZywgMCkpXG4gICAgICAgICAgJiYgaXNQbGFpblNhZmVMYXN0KGNvZGVQb2ludEF0KHN0cmluZywgc3RyaW5nLmxlbmd0aCAtIDEpKTtcblxuICBpZiAoc2luZ2xlTGluZU9ubHkgfHwgZm9yY2VRdW90ZXMpIHtcbiAgICAvLyBDYXNlOiBubyBibG9jayBzdHlsZXMuXG4gICAgLy8gQ2hlY2sgZm9yIGRpc2FsbG93ZWQgY2hhcmFjdGVycyB0byBydWxlIG91dCBwbGFpbiBhbmQgc2luZ2xlLlxuICAgIGZvciAoaSA9IDA7IGkgPCBzdHJpbmcubGVuZ3RoOyBjaGFyID49IDB4MTAwMDAgPyBpICs9IDIgOiBpKyspIHtcbiAgICAgIGNoYXIgPSBjb2RlUG9pbnRBdChzdHJpbmcsIGkpO1xuICAgICAgaWYgKCFpc1ByaW50YWJsZShjaGFyKSkge1xuICAgICAgICByZXR1cm4gU1RZTEVfRE9VQkxFO1xuICAgICAgfVxuICAgICAgcGxhaW4gPSBwbGFpbiAmJiBpc1BsYWluU2FmZShjaGFyLCBwcmV2Q2hhciwgaW5ibG9jayk7XG4gICAgICBwcmV2Q2hhciA9IGNoYXI7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIENhc2U6IGJsb2NrIHN0eWxlcyBwZXJtaXR0ZWQuXG4gICAgZm9yIChpID0gMDsgaSA8IHN0cmluZy5sZW5ndGg7IGNoYXIgPj0gMHgxMDAwMCA/IGkgKz0gMiA6IGkrKykge1xuICAgICAgY2hhciA9IGNvZGVQb2ludEF0KHN0cmluZywgaSk7XG4gICAgICBpZiAoY2hhciA9PT0gQ0hBUl9MSU5FX0ZFRUQpIHtcbiAgICAgICAgaGFzTGluZUJyZWFrID0gdHJ1ZTtcbiAgICAgICAgLy8gQ2hlY2sgaWYgYW55IGxpbmUgY2FuIGJlIGZvbGRlZC5cbiAgICAgICAgaWYgKHNob3VsZFRyYWNrV2lkdGgpIHtcbiAgICAgICAgICBoYXNGb2xkYWJsZUxpbmUgPSBoYXNGb2xkYWJsZUxpbmUgfHxcbiAgICAgICAgICAgIC8vIEZvbGRhYmxlIGxpbmUgPSB0b28gbG9uZywgYW5kIG5vdCBtb3JlLWluZGVudGVkLlxuICAgICAgICAgICAgKGkgLSBwcmV2aW91c0xpbmVCcmVhayAtIDEgPiBsaW5lV2lkdGggJiZcbiAgICAgICAgICAgICBzdHJpbmdbcHJldmlvdXNMaW5lQnJlYWsgKyAxXSAhPT0gJyAnKTtcbiAgICAgICAgICBwcmV2aW91c0xpbmVCcmVhayA9IGk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIWlzUHJpbnRhYmxlKGNoYXIpKSB7XG4gICAgICAgIHJldHVybiBTVFlMRV9ET1VCTEU7XG4gICAgICB9XG4gICAgICBwbGFpbiA9IHBsYWluICYmIGlzUGxhaW5TYWZlKGNoYXIsIHByZXZDaGFyLCBpbmJsb2NrKTtcbiAgICAgIHByZXZDaGFyID0gY2hhcjtcbiAgICB9XG4gICAgLy8gaW4gY2FzZSB0aGUgZW5kIGlzIG1pc3NpbmcgYSBcXG5cbiAgICBoYXNGb2xkYWJsZUxpbmUgPSBoYXNGb2xkYWJsZUxpbmUgfHwgKHNob3VsZFRyYWNrV2lkdGggJiZcbiAgICAgIChpIC0gcHJldmlvdXNMaW5lQnJlYWsgLSAxID4gbGluZVdpZHRoICYmXG4gICAgICAgc3RyaW5nW3ByZXZpb3VzTGluZUJyZWFrICsgMV0gIT09ICcgJykpO1xuICB9XG4gIC8vIEFsdGhvdWdoIGV2ZXJ5IHN0eWxlIGNhbiByZXByZXNlbnQgXFxuIHdpdGhvdXQgZXNjYXBpbmcsIHByZWZlciBibG9jayBzdHlsZXNcbiAgLy8gZm9yIG11bHRpbGluZSwgc2luY2UgdGhleSdyZSBtb3JlIHJlYWRhYmxlIGFuZCB0aGV5IGRvbid0IGFkZCBlbXB0eSBsaW5lcy5cbiAgLy8gQWxzbyBwcmVmZXIgZm9sZGluZyBhIHN1cGVyLWxvbmcgbGluZS5cbiAgaWYgKCFoYXNMaW5lQnJlYWsgJiYgIWhhc0ZvbGRhYmxlTGluZSkge1xuICAgIC8vIFN0cmluZ3MgaW50ZXJwcmV0YWJsZSBhcyBhbm90aGVyIHR5cGUgaGF2ZSB0byBiZSBxdW90ZWQ7XG4gICAgLy8gZS5nLiB0aGUgc3RyaW5nICd0cnVlJyB2cy4gdGhlIGJvb2xlYW4gdHJ1ZS5cbiAgICBpZiAocGxhaW4gJiYgIWZvcmNlUXVvdGVzICYmICF0ZXN0QW1iaWd1b3VzVHlwZShzdHJpbmcpKSB7XG4gICAgICByZXR1cm4gU1RZTEVfUExBSU47XG4gICAgfVxuICAgIHJldHVybiBxdW90aW5nVHlwZSA9PT0gUVVPVElOR19UWVBFX0RPVUJMRSA/IFNUWUxFX0RPVUJMRSA6IFNUWUxFX1NJTkdMRTtcbiAgfVxuICAvLyBFZGdlIGNhc2U6IGJsb2NrIGluZGVudGF0aW9uIGluZGljYXRvciBjYW4gb25seSBoYXZlIG9uZSBkaWdpdC5cbiAgaWYgKGluZGVudFBlckxldmVsID4gOSAmJiBuZWVkSW5kZW50SW5kaWNhdG9yKHN0cmluZykpIHtcbiAgICByZXR1cm4gU1RZTEVfRE9VQkxFO1xuICB9XG4gIC8vIEF0IHRoaXMgcG9pbnQgd2Uga25vdyBibG9jayBzdHlsZXMgYXJlIHZhbGlkLlxuICAvLyBQcmVmZXIgbGl0ZXJhbCBzdHlsZSB1bmxlc3Mgd2Ugd2FudCB0byBmb2xkLlxuICBpZiAoIWZvcmNlUXVvdGVzKSB7XG4gICAgcmV0dXJuIGhhc0ZvbGRhYmxlTGluZSA/IFNUWUxFX0ZPTERFRCA6IFNUWUxFX0xJVEVSQUw7XG4gIH1cbiAgcmV0dXJuIHF1b3RpbmdUeXBlID09PSBRVU9USU5HX1RZUEVfRE9VQkxFID8gU1RZTEVfRE9VQkxFIDogU1RZTEVfU0lOR0xFO1xufVxuXG4vLyBOb3RlOiBsaW5lIGJyZWFraW5nL2ZvbGRpbmcgaXMgaW1wbGVtZW50ZWQgZm9yIG9ubHkgdGhlIGZvbGRlZCBzdHlsZS5cbi8vIE5CLiBXZSBkcm9wIHRoZSBsYXN0IHRyYWlsaW5nIG5ld2xpbmUgKGlmIGFueSkgb2YgYSByZXR1cm5lZCBibG9jayBzY2FsYXJcbi8vICBzaW5jZSB0aGUgZHVtcGVyIGFkZHMgaXRzIG93biBuZXdsaW5lLiBUaGlzIGFsd2F5cyB3b3Jrczpcbi8vICAgIOKAoiBObyBlbmRpbmcgbmV3bGluZSA9PiB1bmFmZmVjdGVkOyBhbHJlYWR5IHVzaW5nIHN0cmlwIFwiLVwiIGNob21waW5nLlxuLy8gICAg4oCiIEVuZGluZyBuZXdsaW5lICAgID0+IHJlbW92ZWQgdGhlbiByZXN0b3JlZC5cbi8vICBJbXBvcnRhbnRseSwgdGhpcyBrZWVwcyB0aGUgXCIrXCIgY2hvbXAgaW5kaWNhdG9yIGZyb20gZ2FpbmluZyBhbiBleHRyYSBsaW5lLlxuZnVuY3Rpb24gd3JpdGVTY2FsYXIoc3RhdGUsIHN0cmluZywgbGV2ZWwsIGlza2V5LCBpbmJsb2NrKSB7XG4gIHN0YXRlLmR1bXAgPSAoZnVuY3Rpb24gKCkge1xuICAgIGlmIChzdHJpbmcubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gc3RhdGUucXVvdGluZ1R5cGUgPT09IFFVT1RJTkdfVFlQRV9ET1VCTEUgPyAnXCJcIicgOiBcIicnXCI7XG4gICAgfVxuICAgIGlmICghc3RhdGUubm9Db21wYXRNb2RlKSB7XG4gICAgICBpZiAoREVQUkVDQVRFRF9CT09MRUFOU19TWU5UQVguaW5kZXhPZihzdHJpbmcpICE9PSAtMSB8fCBERVBSRUNBVEVEX0JBU0U2MF9TWU5UQVgudGVzdChzdHJpbmcpKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS5xdW90aW5nVHlwZSA9PT0gUVVPVElOR19UWVBFX0RPVUJMRSA/ICgnXCInICsgc3RyaW5nICsgJ1wiJykgOiAoXCInXCIgKyBzdHJpbmcgKyBcIidcIik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGluZGVudCA9IHN0YXRlLmluZGVudCAqIE1hdGgubWF4KDEsIGxldmVsKTsgLy8gbm8gMC1pbmRlbnQgc2NhbGFyc1xuICAgIC8vIEFzIGluZGVudGF0aW9uIGdldHMgZGVlcGVyLCBsZXQgdGhlIHdpZHRoIGRlY3JlYXNlIG1vbm90b25pY2FsbHlcbiAgICAvLyB0byB0aGUgbG93ZXIgYm91bmQgbWluKHN0YXRlLmxpbmVXaWR0aCwgNDApLlxuICAgIC8vIE5vdGUgdGhhdCB0aGlzIGltcGxpZXNcbiAgICAvLyAgc3RhdGUubGluZVdpZHRoIOKJpCA0MCArIHN0YXRlLmluZGVudDogd2lkdGggaXMgZml4ZWQgYXQgdGhlIGxvd2VyIGJvdW5kLlxuICAgIC8vICBzdGF0ZS5saW5lV2lkdGggPiA0MCArIHN0YXRlLmluZGVudDogd2lkdGggZGVjcmVhc2VzIHVudGlsIHRoZSBsb3dlciBib3VuZC5cbiAgICAvLyBUaGlzIGJlaGF2ZXMgYmV0dGVyIHRoYW4gYSBjb25zdGFudCBtaW5pbXVtIHdpZHRoIHdoaWNoIGRpc2FsbG93cyBuYXJyb3dlciBvcHRpb25zLFxuICAgIC8vIG9yIGFuIGluZGVudCB0aHJlc2hvbGQgd2hpY2ggY2F1c2VzIHRoZSB3aWR0aCB0byBzdWRkZW5seSBpbmNyZWFzZS5cbiAgICB2YXIgbGluZVdpZHRoID0gc3RhdGUubGluZVdpZHRoID09PSAtMVxuICAgICAgPyAtMSA6IE1hdGgubWF4KE1hdGgubWluKHN0YXRlLmxpbmVXaWR0aCwgNDApLCBzdGF0ZS5saW5lV2lkdGggLSBpbmRlbnQpO1xuXG4gICAgLy8gV2l0aG91dCBrbm93aW5nIGlmIGtleXMgYXJlIGltcGxpY2l0L2V4cGxpY2l0LCBhc3N1bWUgaW1wbGljaXQgZm9yIHNhZmV0eS5cbiAgICB2YXIgc2luZ2xlTGluZU9ubHkgPSBpc2tleVxuICAgICAgLy8gTm8gYmxvY2sgc3R5bGVzIGluIGZsb3cgbW9kZS5cbiAgICAgIHx8IChzdGF0ZS5mbG93TGV2ZWwgPiAtMSAmJiBsZXZlbCA+PSBzdGF0ZS5mbG93TGV2ZWwpO1xuICAgIGZ1bmN0aW9uIHRlc3RBbWJpZ3VpdHkoc3RyaW5nKSB7XG4gICAgICByZXR1cm4gdGVzdEltcGxpY2l0UmVzb2x2aW5nKHN0YXRlLCBzdHJpbmcpO1xuICAgIH1cblxuICAgIHN3aXRjaCAoY2hvb3NlU2NhbGFyU3R5bGUoc3RyaW5nLCBzaW5nbGVMaW5lT25seSwgc3RhdGUuaW5kZW50LCBsaW5lV2lkdGgsXG4gICAgICB0ZXN0QW1iaWd1aXR5LCBzdGF0ZS5xdW90aW5nVHlwZSwgc3RhdGUuZm9yY2VRdW90ZXMgJiYgIWlza2V5LCBpbmJsb2NrKSkge1xuXG4gICAgICBjYXNlIFNUWUxFX1BMQUlOOlxuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgY2FzZSBTVFlMRV9TSU5HTEU6XG4gICAgICAgIHJldHVybiBcIidcIiArIHN0cmluZy5yZXBsYWNlKC8nL2csIFwiJydcIikgKyBcIidcIjtcbiAgICAgIGNhc2UgU1RZTEVfTElURVJBTDpcbiAgICAgICAgcmV0dXJuICd8JyArIGJsb2NrSGVhZGVyKHN0cmluZywgc3RhdGUuaW5kZW50KVxuICAgICAgICAgICsgZHJvcEVuZGluZ05ld2xpbmUoaW5kZW50U3RyaW5nKHN0cmluZywgaW5kZW50KSk7XG4gICAgICBjYXNlIFNUWUxFX0ZPTERFRDpcbiAgICAgICAgcmV0dXJuICc+JyArIGJsb2NrSGVhZGVyKHN0cmluZywgc3RhdGUuaW5kZW50KVxuICAgICAgICAgICsgZHJvcEVuZGluZ05ld2xpbmUoaW5kZW50U3RyaW5nKGZvbGRTdHJpbmcoc3RyaW5nLCBsaW5lV2lkdGgpLCBpbmRlbnQpKTtcbiAgICAgIGNhc2UgU1RZTEVfRE9VQkxFOlxuICAgICAgICByZXR1cm4gJ1wiJyArIGVzY2FwZVN0cmluZyhzdHJpbmcpICsgJ1wiJztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBleGNlcHRpb24oJ2ltcG9zc2libGUgZXJyb3I6IGludmFsaWQgc2NhbGFyIHN0eWxlJyk7XG4gICAgfVxuICB9KCkpO1xufVxuXG4vLyBQcmUtY29uZGl0aW9uczogc3RyaW5nIGlzIHZhbGlkIGZvciBhIGJsb2NrIHNjYWxhciwgMSA8PSBpbmRlbnRQZXJMZXZlbCA8PSA5LlxuZnVuY3Rpb24gYmxvY2tIZWFkZXIoc3RyaW5nLCBpbmRlbnRQZXJMZXZlbCkge1xuICB2YXIgaW5kZW50SW5kaWNhdG9yID0gbmVlZEluZGVudEluZGljYXRvcihzdHJpbmcpID8gU3RyaW5nKGluZGVudFBlckxldmVsKSA6ICcnO1xuXG4gIC8vIG5vdGUgdGhlIHNwZWNpYWwgY2FzZTogdGhlIHN0cmluZyAnXFxuJyBjb3VudHMgYXMgYSBcInRyYWlsaW5nXCIgZW1wdHkgbGluZS5cbiAgdmFyIGNsaXAgPSAgICAgICAgICBzdHJpbmdbc3RyaW5nLmxlbmd0aCAtIDFdID09PSAnXFxuJztcbiAgdmFyIGtlZXAgPSBjbGlwICYmIChzdHJpbmdbc3RyaW5nLmxlbmd0aCAtIDJdID09PSAnXFxuJyB8fCBzdHJpbmcgPT09ICdcXG4nKTtcbiAgdmFyIGNob21wID0ga2VlcCA/ICcrJyA6IChjbGlwID8gJycgOiAnLScpO1xuXG4gIHJldHVybiBpbmRlbnRJbmRpY2F0b3IgKyBjaG9tcCArICdcXG4nO1xufVxuXG4vLyAoU2VlIHRoZSBub3RlIGZvciB3cml0ZVNjYWxhci4pXG5mdW5jdGlvbiBkcm9wRW5kaW5nTmV3bGluZShzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZ1tzdHJpbmcubGVuZ3RoIC0gMV0gPT09ICdcXG4nID8gc3RyaW5nLnNsaWNlKDAsIC0xKSA6IHN0cmluZztcbn1cblxuLy8gTm90ZTogYSBsb25nIGxpbmUgd2l0aG91dCBhIHN1aXRhYmxlIGJyZWFrIHBvaW50IHdpbGwgZXhjZWVkIHRoZSB3aWR0aCBsaW1pdC5cbi8vIFByZS1jb25kaXRpb25zOiBldmVyeSBjaGFyIGluIHN0ciBpc1ByaW50YWJsZSwgc3RyLmxlbmd0aCA+IDAsIHdpZHRoID4gMC5cbmZ1bmN0aW9uIGZvbGRTdHJpbmcoc3RyaW5nLCB3aWR0aCkge1xuICAvLyBJbiBmb2xkZWQgc3R5bGUsICRrJCBjb25zZWN1dGl2ZSBuZXdsaW5lcyBvdXRwdXQgYXMgJGsrMSQgbmV3bGluZXPigJRcbiAgLy8gdW5sZXNzIHRoZXkncmUgYmVmb3JlIG9yIGFmdGVyIGEgbW9yZS1pbmRlbnRlZCBsaW5lLCBvciBhdCB0aGUgdmVyeVxuICAvLyBiZWdpbm5pbmcgb3IgZW5kLCBpbiB3aGljaCBjYXNlICRrJCBtYXBzIHRvICRrJC5cbiAgLy8gVGhlcmVmb3JlLCBwYXJzZSBlYWNoIGNodW5rIGFzIG5ld2xpbmUocykgZm9sbG93ZWQgYnkgYSBjb250ZW50IGxpbmUuXG4gIHZhciBsaW5lUmUgPSAvKFxcbispKFteXFxuXSopL2c7XG5cbiAgLy8gZmlyc3QgbGluZSAocG9zc2libHkgYW4gZW1wdHkgbGluZSlcbiAgdmFyIHJlc3VsdCA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG5leHRMRiA9IHN0cmluZy5pbmRleE9mKCdcXG4nKTtcbiAgICBuZXh0TEYgPSBuZXh0TEYgIT09IC0xID8gbmV4dExGIDogc3RyaW5nLmxlbmd0aDtcbiAgICBsaW5lUmUubGFzdEluZGV4ID0gbmV4dExGO1xuICAgIHJldHVybiBmb2xkTGluZShzdHJpbmcuc2xpY2UoMCwgbmV4dExGKSwgd2lkdGgpO1xuICB9KCkpO1xuICAvLyBJZiB3ZSBoYXZlbid0IHJlYWNoZWQgdGhlIGZpcnN0IGNvbnRlbnQgbGluZSB5ZXQsIGRvbid0IGFkZCBhbiBleHRyYSBcXG4uXG4gIHZhciBwcmV2TW9yZUluZGVudGVkID0gc3RyaW5nWzBdID09PSAnXFxuJyB8fCBzdHJpbmdbMF0gPT09ICcgJztcbiAgdmFyIG1vcmVJbmRlbnRlZDtcblxuICAvLyByZXN0IG9mIHRoZSBsaW5lc1xuICB2YXIgbWF0Y2g7XG4gIHdoaWxlICgobWF0Y2ggPSBsaW5lUmUuZXhlYyhzdHJpbmcpKSkge1xuICAgIHZhciBwcmVmaXggPSBtYXRjaFsxXSwgbGluZSA9IG1hdGNoWzJdO1xuICAgIG1vcmVJbmRlbnRlZCA9IChsaW5lWzBdID09PSAnICcpO1xuICAgIHJlc3VsdCArPSBwcmVmaXhcbiAgICAgICsgKCFwcmV2TW9yZUluZGVudGVkICYmICFtb3JlSW5kZW50ZWQgJiYgbGluZSAhPT0gJydcbiAgICAgICAgPyAnXFxuJyA6ICcnKVxuICAgICAgKyBmb2xkTGluZShsaW5lLCB3aWR0aCk7XG4gICAgcHJldk1vcmVJbmRlbnRlZCA9IG1vcmVJbmRlbnRlZDtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIEdyZWVkeSBsaW5lIGJyZWFraW5nLlxuLy8gUGlja3MgdGhlIGxvbmdlc3QgbGluZSB1bmRlciB0aGUgbGltaXQgZWFjaCB0aW1lLFxuLy8gb3RoZXJ3aXNlIHNldHRsZXMgZm9yIHRoZSBzaG9ydGVzdCBsaW5lIG92ZXIgdGhlIGxpbWl0LlxuLy8gTkIuIE1vcmUtaW5kZW50ZWQgbGluZXMgKmNhbm5vdCogYmUgZm9sZGVkLCBhcyB0aGF0IHdvdWxkIGFkZCBhbiBleHRyYSBcXG4uXG5mdW5jdGlvbiBmb2xkTGluZShsaW5lLCB3aWR0aCkge1xuICBpZiAobGluZSA9PT0gJycgfHwgbGluZVswXSA9PT0gJyAnKSByZXR1cm4gbGluZTtcblxuICAvLyBTaW5jZSBhIG1vcmUtaW5kZW50ZWQgbGluZSBhZGRzIGEgXFxuLCBicmVha3MgY2FuJ3QgYmUgZm9sbG93ZWQgYnkgYSBzcGFjZS5cbiAgdmFyIGJyZWFrUmUgPSAvIFteIF0vZzsgLy8gbm90ZTogdGhlIG1hdGNoIGluZGV4IHdpbGwgYWx3YXlzIGJlIDw9IGxlbmd0aC0yLlxuICB2YXIgbWF0Y2g7XG4gIC8vIHN0YXJ0IGlzIGFuIGluY2x1c2l2ZSBpbmRleC4gZW5kLCBjdXJyLCBhbmQgbmV4dCBhcmUgZXhjbHVzaXZlLlxuICB2YXIgc3RhcnQgPSAwLCBlbmQsIGN1cnIgPSAwLCBuZXh0ID0gMDtcbiAgdmFyIHJlc3VsdCA9ICcnO1xuXG4gIC8vIEludmFyaWFudHM6IDAgPD0gc3RhcnQgPD0gbGVuZ3RoLTEuXG4gIC8vICAgMCA8PSBjdXJyIDw9IG5leHQgPD0gbWF4KDAsIGxlbmd0aC0yKS4gY3VyciAtIHN0YXJ0IDw9IHdpZHRoLlxuICAvLyBJbnNpZGUgdGhlIGxvb3A6XG4gIC8vICAgQSBtYXRjaCBpbXBsaWVzIGxlbmd0aCA+PSAyLCBzbyBjdXJyIGFuZCBuZXh0IGFyZSA8PSBsZW5ndGgtMi5cbiAgd2hpbGUgKChtYXRjaCA9IGJyZWFrUmUuZXhlYyhsaW5lKSkpIHtcbiAgICBuZXh0ID0gbWF0Y2guaW5kZXg7XG4gICAgLy8gbWFpbnRhaW4gaW52YXJpYW50OiBjdXJyIC0gc3RhcnQgPD0gd2lkdGhcbiAgICBpZiAobmV4dCAtIHN0YXJ0ID4gd2lkdGgpIHtcbiAgICAgIGVuZCA9IChjdXJyID4gc3RhcnQpID8gY3VyciA6IG5leHQ7IC8vIGRlcml2ZSBlbmQgPD0gbGVuZ3RoLTJcbiAgICAgIHJlc3VsdCArPSAnXFxuJyArIGxpbmUuc2xpY2Uoc3RhcnQsIGVuZCk7XG4gICAgICAvLyBza2lwIHRoZSBzcGFjZSB0aGF0IHdhcyBvdXRwdXQgYXMgXFxuXG4gICAgICBzdGFydCA9IGVuZCArIDE7ICAgICAgICAgICAgICAgICAgICAvLyBkZXJpdmUgc3RhcnQgPD0gbGVuZ3RoLTFcbiAgICB9XG4gICAgY3VyciA9IG5leHQ7XG4gIH1cblxuICAvLyBCeSB0aGUgaW52YXJpYW50cywgc3RhcnQgPD0gbGVuZ3RoLTEsIHNvIHRoZXJlIGlzIHNvbWV0aGluZyBsZWZ0IG92ZXIuXG4gIC8vIEl0IGlzIGVpdGhlciB0aGUgd2hvbGUgc3RyaW5nIG9yIGEgcGFydCBzdGFydGluZyBmcm9tIG5vbi13aGl0ZXNwYWNlLlxuICByZXN1bHQgKz0gJ1xcbic7XG4gIC8vIEluc2VydCBhIGJyZWFrIGlmIHRoZSByZW1haW5kZXIgaXMgdG9vIGxvbmcgYW5kIHRoZXJlIGlzIGEgYnJlYWsgYXZhaWxhYmxlLlxuICBpZiAobGluZS5sZW5ndGggLSBzdGFydCA+IHdpZHRoICYmIGN1cnIgPiBzdGFydCkge1xuICAgIHJlc3VsdCArPSBsaW5lLnNsaWNlKHN0YXJ0LCBjdXJyKSArICdcXG4nICsgbGluZS5zbGljZShjdXJyICsgMSk7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ICs9IGxpbmUuc2xpY2Uoc3RhcnQpO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdC5zbGljZSgxKTsgLy8gZHJvcCBleHRyYSBcXG4gam9pbmVyXG59XG5cbi8vIEVzY2FwZXMgYSBkb3VibGUtcXVvdGVkIHN0cmluZy5cbmZ1bmN0aW9uIGVzY2FwZVN0cmluZyhzdHJpbmcpIHtcbiAgdmFyIHJlc3VsdCA9ICcnO1xuICB2YXIgY2hhciA9IDA7XG4gIHZhciBlc2NhcGVTZXE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJpbmcubGVuZ3RoOyBjaGFyID49IDB4MTAwMDAgPyBpICs9IDIgOiBpKyspIHtcbiAgICBjaGFyID0gY29kZVBvaW50QXQoc3RyaW5nLCBpKTtcbiAgICBlc2NhcGVTZXEgPSBFU0NBUEVfU0VRVUVOQ0VTW2NoYXJdO1xuXG4gICAgaWYgKCFlc2NhcGVTZXEgJiYgaXNQcmludGFibGUoY2hhcikpIHtcbiAgICAgIHJlc3VsdCArPSBzdHJpbmdbaV07XG4gICAgICBpZiAoY2hhciA+PSAweDEwMDAwKSByZXN1bHQgKz0gc3RyaW5nW2kgKyAxXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ICs9IGVzY2FwZVNlcSB8fCBlbmNvZGVIZXgoY2hhcik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gd3JpdGVGbG93U2VxdWVuY2Uoc3RhdGUsIGxldmVsLCBvYmplY3QpIHtcbiAgdmFyIF9yZXN1bHQgPSAnJyxcbiAgICAgIF90YWcgICAgPSBzdGF0ZS50YWcsXG4gICAgICBpbmRleCxcbiAgICAgIGxlbmd0aCxcbiAgICAgIHZhbHVlO1xuXG4gIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBvYmplY3QubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgIHZhbHVlID0gb2JqZWN0W2luZGV4XTtcblxuICAgIGlmIChzdGF0ZS5yZXBsYWNlcikge1xuICAgICAgdmFsdWUgPSBzdGF0ZS5yZXBsYWNlci5jYWxsKG9iamVjdCwgU3RyaW5nKGluZGV4KSwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8vIFdyaXRlIG9ubHkgdmFsaWQgZWxlbWVudHMsIHB1dCBudWxsIGluc3RlYWQgb2YgaW52YWxpZCBlbGVtZW50cy5cbiAgICBpZiAod3JpdGVOb2RlKHN0YXRlLCBsZXZlbCwgdmFsdWUsIGZhbHNlLCBmYWxzZSkgfHxcbiAgICAgICAgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgIHdyaXRlTm9kZShzdGF0ZSwgbGV2ZWwsIG51bGwsIGZhbHNlLCBmYWxzZSkpKSB7XG5cbiAgICAgIGlmIChfcmVzdWx0ICE9PSAnJykgX3Jlc3VsdCArPSAnLCcgKyAoIXN0YXRlLmNvbmRlbnNlRmxvdyA/ICcgJyA6ICcnKTtcbiAgICAgIF9yZXN1bHQgKz0gc3RhdGUuZHVtcDtcbiAgICB9XG4gIH1cblxuICBzdGF0ZS50YWcgPSBfdGFnO1xuICBzdGF0ZS5kdW1wID0gJ1snICsgX3Jlc3VsdCArICddJztcbn1cblxuZnVuY3Rpb24gd3JpdGVCbG9ja1NlcXVlbmNlKHN0YXRlLCBsZXZlbCwgb2JqZWN0LCBjb21wYWN0KSB7XG4gIHZhciBfcmVzdWx0ID0gJycsXG4gICAgICBfdGFnICAgID0gc3RhdGUudGFnLFxuICAgICAgaW5kZXgsXG4gICAgICBsZW5ndGgsXG4gICAgICB2YWx1ZTtcblxuICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gb2JqZWN0Lmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICB2YWx1ZSA9IG9iamVjdFtpbmRleF07XG5cbiAgICBpZiAoc3RhdGUucmVwbGFjZXIpIHtcbiAgICAgIHZhbHVlID0gc3RhdGUucmVwbGFjZXIuY2FsbChvYmplY3QsIFN0cmluZyhpbmRleCksIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBXcml0ZSBvbmx5IHZhbGlkIGVsZW1lbnRzLCBwdXQgbnVsbCBpbnN0ZWFkIG9mIGludmFsaWQgZWxlbWVudHMuXG4gICAgaWYgKHdyaXRlTm9kZShzdGF0ZSwgbGV2ZWwgKyAxLCB2YWx1ZSwgdHJ1ZSwgdHJ1ZSwgZmFsc2UsIHRydWUpIHx8XG4gICAgICAgICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICB3cml0ZU5vZGUoc3RhdGUsIGxldmVsICsgMSwgbnVsbCwgdHJ1ZSwgdHJ1ZSwgZmFsc2UsIHRydWUpKSkge1xuXG4gICAgICBpZiAoIWNvbXBhY3QgfHwgX3Jlc3VsdCAhPT0gJycpIHtcbiAgICAgICAgX3Jlc3VsdCArPSBnZW5lcmF0ZU5leHRMaW5lKHN0YXRlLCBsZXZlbCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZS5kdW1wICYmIENIQVJfTElORV9GRUVEID09PSBzdGF0ZS5kdW1wLmNoYXJDb2RlQXQoMCkpIHtcbiAgICAgICAgX3Jlc3VsdCArPSAnLSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfcmVzdWx0ICs9ICctICc7XG4gICAgICB9XG5cbiAgICAgIF9yZXN1bHQgKz0gc3RhdGUuZHVtcDtcbiAgICB9XG4gIH1cblxuICBzdGF0ZS50YWcgPSBfdGFnO1xuICBzdGF0ZS5kdW1wID0gX3Jlc3VsdCB8fCAnW10nOyAvLyBFbXB0eSBzZXF1ZW5jZSBpZiBubyB2YWxpZCB2YWx1ZXMuXG59XG5cbmZ1bmN0aW9uIHdyaXRlRmxvd01hcHBpbmcoc3RhdGUsIGxldmVsLCBvYmplY3QpIHtcbiAgdmFyIF9yZXN1bHQgICAgICAgPSAnJyxcbiAgICAgIF90YWcgICAgICAgICAgPSBzdGF0ZS50YWcsXG4gICAgICBvYmplY3RLZXlMaXN0ID0gT2JqZWN0LmtleXMob2JqZWN0KSxcbiAgICAgIGluZGV4LFxuICAgICAgbGVuZ3RoLFxuICAgICAgb2JqZWN0S2V5LFxuICAgICAgb2JqZWN0VmFsdWUsXG4gICAgICBwYWlyQnVmZmVyO1xuXG4gIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBvYmplY3RLZXlMaXN0Lmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcblxuICAgIHBhaXJCdWZmZXIgPSAnJztcbiAgICBpZiAoX3Jlc3VsdCAhPT0gJycpIHBhaXJCdWZmZXIgKz0gJywgJztcblxuICAgIGlmIChzdGF0ZS5jb25kZW5zZUZsb3cpIHBhaXJCdWZmZXIgKz0gJ1wiJztcblxuICAgIG9iamVjdEtleSA9IG9iamVjdEtleUxpc3RbaW5kZXhdO1xuICAgIG9iamVjdFZhbHVlID0gb2JqZWN0W29iamVjdEtleV07XG5cbiAgICBpZiAoc3RhdGUucmVwbGFjZXIpIHtcbiAgICAgIG9iamVjdFZhbHVlID0gc3RhdGUucmVwbGFjZXIuY2FsbChvYmplY3QsIG9iamVjdEtleSwgb2JqZWN0VmFsdWUpO1xuICAgIH1cblxuICAgIGlmICghd3JpdGVOb2RlKHN0YXRlLCBsZXZlbCwgb2JqZWN0S2V5LCBmYWxzZSwgZmFsc2UpKSB7XG4gICAgICBjb250aW51ZTsgLy8gU2tpcCB0aGlzIHBhaXIgYmVjYXVzZSBvZiBpbnZhbGlkIGtleTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUuZHVtcC5sZW5ndGggPiAxMDI0KSBwYWlyQnVmZmVyICs9ICc/ICc7XG5cbiAgICBwYWlyQnVmZmVyICs9IHN0YXRlLmR1bXAgKyAoc3RhdGUuY29uZGVuc2VGbG93ID8gJ1wiJyA6ICcnKSArICc6JyArIChzdGF0ZS5jb25kZW5zZUZsb3cgPyAnJyA6ICcgJyk7XG5cbiAgICBpZiAoIXdyaXRlTm9kZShzdGF0ZSwgbGV2ZWwsIG9iamVjdFZhbHVlLCBmYWxzZSwgZmFsc2UpKSB7XG4gICAgICBjb250aW51ZTsgLy8gU2tpcCB0aGlzIHBhaXIgYmVjYXVzZSBvZiBpbnZhbGlkIHZhbHVlLlxuICAgIH1cblxuICAgIHBhaXJCdWZmZXIgKz0gc3RhdGUuZHVtcDtcblxuICAgIC8vIEJvdGgga2V5IGFuZCB2YWx1ZSBhcmUgdmFsaWQuXG4gICAgX3Jlc3VsdCArPSBwYWlyQnVmZmVyO1xuICB9XG5cbiAgc3RhdGUudGFnID0gX3RhZztcbiAgc3RhdGUuZHVtcCA9ICd7JyArIF9yZXN1bHQgKyAnfSc7XG59XG5cbmZ1bmN0aW9uIHdyaXRlQmxvY2tNYXBwaW5nKHN0YXRlLCBsZXZlbCwgb2JqZWN0LCBjb21wYWN0KSB7XG4gIHZhciBfcmVzdWx0ICAgICAgID0gJycsXG4gICAgICBfdGFnICAgICAgICAgID0gc3RhdGUudGFnLFxuICAgICAgb2JqZWN0S2V5TGlzdCA9IE9iamVjdC5rZXlzKG9iamVjdCksXG4gICAgICBpbmRleCxcbiAgICAgIGxlbmd0aCxcbiAgICAgIG9iamVjdEtleSxcbiAgICAgIG9iamVjdFZhbHVlLFxuICAgICAgZXhwbGljaXRQYWlyLFxuICAgICAgcGFpckJ1ZmZlcjtcblxuICAvLyBBbGxvdyBzb3J0aW5nIGtleXMgc28gdGhhdCB0aGUgb3V0cHV0IGZpbGUgaXMgZGV0ZXJtaW5pc3RpY1xuICBpZiAoc3RhdGUuc29ydEtleXMgPT09IHRydWUpIHtcbiAgICAvLyBEZWZhdWx0IHNvcnRpbmdcbiAgICBvYmplY3RLZXlMaXN0LnNvcnQoKTtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygc3RhdGUuc29ydEtleXMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBDdXN0b20gc29ydCBmdW5jdGlvblxuICAgIG9iamVjdEtleUxpc3Quc29ydChzdGF0ZS5zb3J0S2V5cyk7XG4gIH0gZWxzZSBpZiAoc3RhdGUuc29ydEtleXMpIHtcbiAgICAvLyBTb21ldGhpbmcgaXMgd3JvbmdcbiAgICB0aHJvdyBuZXcgZXhjZXB0aW9uKCdzb3J0S2V5cyBtdXN0IGJlIGEgYm9vbGVhbiBvciBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gb2JqZWN0S2V5TGlzdC5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgcGFpckJ1ZmZlciA9ICcnO1xuXG4gICAgaWYgKCFjb21wYWN0IHx8IF9yZXN1bHQgIT09ICcnKSB7XG4gICAgICBwYWlyQnVmZmVyICs9IGdlbmVyYXRlTmV4dExpbmUoc3RhdGUsIGxldmVsKTtcbiAgICB9XG5cbiAgICBvYmplY3RLZXkgPSBvYmplY3RLZXlMaXN0W2luZGV4XTtcbiAgICBvYmplY3RWYWx1ZSA9IG9iamVjdFtvYmplY3RLZXldO1xuXG4gICAgaWYgKHN0YXRlLnJlcGxhY2VyKSB7XG4gICAgICBvYmplY3RWYWx1ZSA9IHN0YXRlLnJlcGxhY2VyLmNhbGwob2JqZWN0LCBvYmplY3RLZXksIG9iamVjdFZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAoIXdyaXRlTm9kZShzdGF0ZSwgbGV2ZWwgKyAxLCBvYmplY3RLZXksIHRydWUsIHRydWUsIHRydWUpKSB7XG4gICAgICBjb250aW51ZTsgLy8gU2tpcCB0aGlzIHBhaXIgYmVjYXVzZSBvZiBpbnZhbGlkIGtleS5cbiAgICB9XG5cbiAgICBleHBsaWNpdFBhaXIgPSAoc3RhdGUudGFnICE9PSBudWxsICYmIHN0YXRlLnRhZyAhPT0gJz8nKSB8fFxuICAgICAgICAgICAgICAgICAgIChzdGF0ZS5kdW1wICYmIHN0YXRlLmR1bXAubGVuZ3RoID4gMTAyNCk7XG5cbiAgICBpZiAoZXhwbGljaXRQYWlyKSB7XG4gICAgICBpZiAoc3RhdGUuZHVtcCAmJiBDSEFSX0xJTkVfRkVFRCA9PT0gc3RhdGUuZHVtcC5jaGFyQ29kZUF0KDApKSB7XG4gICAgICAgIHBhaXJCdWZmZXIgKz0gJz8nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFpckJ1ZmZlciArPSAnPyAnO1xuICAgICAgfVxuICAgIH1cblxuICAgIHBhaXJCdWZmZXIgKz0gc3RhdGUuZHVtcDtcblxuICAgIGlmIChleHBsaWNpdFBhaXIpIHtcbiAgICAgIHBhaXJCdWZmZXIgKz0gZ2VuZXJhdGVOZXh0TGluZShzdGF0ZSwgbGV2ZWwpO1xuICAgIH1cblxuICAgIGlmICghd3JpdGVOb2RlKHN0YXRlLCBsZXZlbCArIDEsIG9iamVjdFZhbHVlLCB0cnVlLCBleHBsaWNpdFBhaXIpKSB7XG4gICAgICBjb250aW51ZTsgLy8gU2tpcCB0aGlzIHBhaXIgYmVjYXVzZSBvZiBpbnZhbGlkIHZhbHVlLlxuICAgIH1cblxuICAgIGlmIChzdGF0ZS5kdW1wICYmIENIQVJfTElORV9GRUVEID09PSBzdGF0ZS5kdW1wLmNoYXJDb2RlQXQoMCkpIHtcbiAgICAgIHBhaXJCdWZmZXIgKz0gJzonO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYWlyQnVmZmVyICs9ICc6ICc7XG4gICAgfVxuXG4gICAgcGFpckJ1ZmZlciArPSBzdGF0ZS5kdW1wO1xuXG4gICAgLy8gQm90aCBrZXkgYW5kIHZhbHVlIGFyZSB2YWxpZC5cbiAgICBfcmVzdWx0ICs9IHBhaXJCdWZmZXI7XG4gIH1cblxuICBzdGF0ZS50YWcgPSBfdGFnO1xuICBzdGF0ZS5kdW1wID0gX3Jlc3VsdCB8fCAne30nOyAvLyBFbXB0eSBtYXBwaW5nIGlmIG5vIHZhbGlkIHBhaXJzLlxufVxuXG5mdW5jdGlvbiBkZXRlY3RUeXBlKHN0YXRlLCBvYmplY3QsIGV4cGxpY2l0KSB7XG4gIHZhciBfcmVzdWx0LCB0eXBlTGlzdCwgaW5kZXgsIGxlbmd0aCwgdHlwZSwgc3R5bGU7XG5cbiAgdHlwZUxpc3QgPSBleHBsaWNpdCA/IHN0YXRlLmV4cGxpY2l0VHlwZXMgOiBzdGF0ZS5pbXBsaWNpdFR5cGVzO1xuXG4gIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSB0eXBlTGlzdC5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgdHlwZSA9IHR5cGVMaXN0W2luZGV4XTtcblxuICAgIGlmICgodHlwZS5pbnN0YW5jZU9mICB8fCB0eXBlLnByZWRpY2F0ZSkgJiZcbiAgICAgICAgKCF0eXBlLmluc3RhbmNlT2YgfHwgKCh0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JykgJiYgKG9iamVjdCBpbnN0YW5jZW9mIHR5cGUuaW5zdGFuY2VPZikpKSAmJlxuICAgICAgICAoIXR5cGUucHJlZGljYXRlICB8fCB0eXBlLnByZWRpY2F0ZShvYmplY3QpKSkge1xuXG4gICAgICBpZiAoZXhwbGljaXQpIHtcbiAgICAgICAgaWYgKHR5cGUubXVsdGkgJiYgdHlwZS5yZXByZXNlbnROYW1lKSB7XG4gICAgICAgICAgc3RhdGUudGFnID0gdHlwZS5yZXByZXNlbnROYW1lKG9iamVjdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RhdGUudGFnID0gdHlwZS50YWc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRlLnRhZyA9ICc/JztcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGUucmVwcmVzZW50KSB7XG4gICAgICAgIHN0eWxlID0gc3RhdGUuc3R5bGVNYXBbdHlwZS50YWddIHx8IHR5cGUuZGVmYXVsdFN0eWxlO1xuXG4gICAgICAgIGlmIChfdG9TdHJpbmcuY2FsbCh0eXBlLnJlcHJlc2VudCkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXScpIHtcbiAgICAgICAgICBfcmVzdWx0ID0gdHlwZS5yZXByZXNlbnQob2JqZWN0LCBzdHlsZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoX2hhc093blByb3BlcnR5LmNhbGwodHlwZS5yZXByZXNlbnQsIHN0eWxlKSkge1xuICAgICAgICAgIF9yZXN1bHQgPSB0eXBlLnJlcHJlc2VudFtzdHlsZV0ob2JqZWN0LCBzdHlsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbignITwnICsgdHlwZS50YWcgKyAnPiB0YWcgcmVzb2x2ZXIgYWNjZXB0cyBub3QgXCInICsgc3R5bGUgKyAnXCIgc3R5bGUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlLmR1bXAgPSBfcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8vIFNlcmlhbGl6ZXMgYG9iamVjdGAgYW5kIHdyaXRlcyBpdCB0byBnbG9iYWwgYHJlc3VsdGAuXG4vLyBSZXR1cm5zIHRydWUgb24gc3VjY2Vzcywgb3IgZmFsc2Ugb24gaW52YWxpZCBvYmplY3QuXG4vL1xuZnVuY3Rpb24gd3JpdGVOb2RlKHN0YXRlLCBsZXZlbCwgb2JqZWN0LCBibG9jaywgY29tcGFjdCwgaXNrZXksIGlzYmxvY2tzZXEpIHtcbiAgc3RhdGUudGFnID0gbnVsbDtcbiAgc3RhdGUuZHVtcCA9IG9iamVjdDtcblxuICBpZiAoIWRldGVjdFR5cGUoc3RhdGUsIG9iamVjdCwgZmFsc2UpKSB7XG4gICAgZGV0ZWN0VHlwZShzdGF0ZSwgb2JqZWN0LCB0cnVlKTtcbiAgfVxuXG4gIHZhciB0eXBlID0gX3RvU3RyaW5nLmNhbGwoc3RhdGUuZHVtcCk7XG4gIHZhciBpbmJsb2NrID0gYmxvY2s7XG4gIHZhciB0YWdTdHI7XG5cbiAgaWYgKGJsb2NrKSB7XG4gICAgYmxvY2sgPSAoc3RhdGUuZmxvd0xldmVsIDwgMCB8fCBzdGF0ZS5mbG93TGV2ZWwgPiBsZXZlbCk7XG4gIH1cblxuICB2YXIgb2JqZWN0T3JBcnJheSA9IHR5cGUgPT09ICdbb2JqZWN0IE9iamVjdF0nIHx8IHR5cGUgPT09ICdbb2JqZWN0IEFycmF5XScsXG4gICAgICBkdXBsaWNhdGVJbmRleCxcbiAgICAgIGR1cGxpY2F0ZTtcblxuICBpZiAob2JqZWN0T3JBcnJheSkge1xuICAgIGR1cGxpY2F0ZUluZGV4ID0gc3RhdGUuZHVwbGljYXRlcy5pbmRleE9mKG9iamVjdCk7XG4gICAgZHVwbGljYXRlID0gZHVwbGljYXRlSW5kZXggIT09IC0xO1xuICB9XG5cbiAgaWYgKChzdGF0ZS50YWcgIT09IG51bGwgJiYgc3RhdGUudGFnICE9PSAnPycpIHx8IGR1cGxpY2F0ZSB8fCAoc3RhdGUuaW5kZW50ICE9PSAyICYmIGxldmVsID4gMCkpIHtcbiAgICBjb21wYWN0ID0gZmFsc2U7XG4gIH1cblxuICBpZiAoZHVwbGljYXRlICYmIHN0YXRlLnVzZWREdXBsaWNhdGVzW2R1cGxpY2F0ZUluZGV4XSkge1xuICAgIHN0YXRlLmR1bXAgPSAnKnJlZl8nICsgZHVwbGljYXRlSW5kZXg7XG4gIH0gZWxzZSB7XG4gICAgaWYgKG9iamVjdE9yQXJyYXkgJiYgZHVwbGljYXRlICYmICFzdGF0ZS51c2VkRHVwbGljYXRlc1tkdXBsaWNhdGVJbmRleF0pIHtcbiAgICAgIHN0YXRlLnVzZWREdXBsaWNhdGVzW2R1cGxpY2F0ZUluZGV4XSA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlID09PSAnW29iamVjdCBPYmplY3RdJykge1xuICAgICAgaWYgKGJsb2NrICYmIChPYmplY3Qua2V5cyhzdGF0ZS5kdW1wKS5sZW5ndGggIT09IDApKSB7XG4gICAgICAgIHdyaXRlQmxvY2tNYXBwaW5nKHN0YXRlLCBsZXZlbCwgc3RhdGUuZHVtcCwgY29tcGFjdCk7XG4gICAgICAgIGlmIChkdXBsaWNhdGUpIHtcbiAgICAgICAgICBzdGF0ZS5kdW1wID0gJyZyZWZfJyArIGR1cGxpY2F0ZUluZGV4ICsgc3RhdGUuZHVtcDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd3JpdGVGbG93TWFwcGluZyhzdGF0ZSwgbGV2ZWwsIHN0YXRlLmR1bXApO1xuICAgICAgICBpZiAoZHVwbGljYXRlKSB7XG4gICAgICAgICAgc3RhdGUuZHVtcCA9ICcmcmVmXycgKyBkdXBsaWNhdGVJbmRleCArICcgJyArIHN0YXRlLmR1bXA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIGlmIChibG9jayAmJiAoc3RhdGUuZHVtcC5sZW5ndGggIT09IDApKSB7XG4gICAgICAgIGlmIChzdGF0ZS5ub0FycmF5SW5kZW50ICYmICFpc2Jsb2Nrc2VxICYmIGxldmVsID4gMCkge1xuICAgICAgICAgIHdyaXRlQmxvY2tTZXF1ZW5jZShzdGF0ZSwgbGV2ZWwgLSAxLCBzdGF0ZS5kdW1wLCBjb21wYWN0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3cml0ZUJsb2NrU2VxdWVuY2Uoc3RhdGUsIGxldmVsLCBzdGF0ZS5kdW1wLCBjb21wYWN0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZHVwbGljYXRlKSB7XG4gICAgICAgICAgc3RhdGUuZHVtcCA9ICcmcmVmXycgKyBkdXBsaWNhdGVJbmRleCArIHN0YXRlLmR1bXA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdyaXRlRmxvd1NlcXVlbmNlKHN0YXRlLCBsZXZlbCwgc3RhdGUuZHVtcCk7XG4gICAgICAgIGlmIChkdXBsaWNhdGUpIHtcbiAgICAgICAgICBzdGF0ZS5kdW1wID0gJyZyZWZfJyArIGR1cGxpY2F0ZUluZGV4ICsgJyAnICsgc3RhdGUuZHVtcDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ1tvYmplY3QgU3RyaW5nXScpIHtcbiAgICAgIGlmIChzdGF0ZS50YWcgIT09ICc/Jykge1xuICAgICAgICB3cml0ZVNjYWxhcihzdGF0ZSwgc3RhdGUuZHVtcCwgbGV2ZWwsIGlza2V5LCBpbmJsb2NrKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdbb2JqZWN0IFVuZGVmaW5lZF0nKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzdGF0ZS5za2lwSW52YWxpZCkgcmV0dXJuIGZhbHNlO1xuICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbigndW5hY2NlcHRhYmxlIGtpbmQgb2YgYW4gb2JqZWN0IHRvIGR1bXAgJyArIHR5cGUpO1xuICAgIH1cblxuICAgIGlmIChzdGF0ZS50YWcgIT09IG51bGwgJiYgc3RhdGUudGFnICE9PSAnPycpIHtcbiAgICAgIC8vIE5lZWQgdG8gZW5jb2RlIGFsbCBjaGFyYWN0ZXJzIGV4Y2VwdCB0aG9zZSBhbGxvd2VkIGJ5IHRoZSBzcGVjOlxuICAgICAgLy9cbiAgICAgIC8vIFszNV0gbnMtZGVjLWRpZ2l0ICAgIDo6PSAgWyN4MzAtI3gzOV0gLyogMC05ICovXG4gICAgICAvLyBbMzZdIG5zLWhleC1kaWdpdCAgICA6Oj0gIG5zLWRlYy1kaWdpdFxuICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgfCBbI3g0MS0jeDQ2XSAvKiBBLUYgKi8gfCBbI3g2MS0jeDY2XSAvKiBhLWYgKi9cbiAgICAgIC8vIFszN10gbnMtYXNjaWktbGV0dGVyIDo6PSAgWyN4NDEtI3g1QV0gLyogQS1aICovIHwgWyN4NjEtI3g3QV0gLyogYS16ICovXG4gICAgICAvLyBbMzhdIG5zLXdvcmQtY2hhciAgICA6Oj0gIG5zLWRlYy1kaWdpdCB8IG5zLWFzY2lpLWxldHRlciB8IOKAnC3igJ1cbiAgICAgIC8vIFszOV0gbnMtdXJpLWNoYXIgICAgIDo6PSAg4oCcJeKAnSBucy1oZXgtZGlnaXQgbnMtaGV4LWRpZ2l0IHwgbnMtd29yZC1jaGFyIHwg4oCcI+KAnVxuICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgfCDigJw74oCdIHwg4oCcL+KAnSB8IOKAnD/igJ0gfCDigJw64oCdIHwg4oCcQOKAnSB8IOKAnCbigJ0gfCDigJw94oCdIHwg4oCcK+KAnSB8IOKAnCTigJ0gfCDigJws4oCdXG4gICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICB8IOKAnF/igJ0gfCDigJwu4oCdIHwg4oCcIeKAnSB8IOKAnH7igJ0gfCDigJwq4oCdIHwg4oCcJ+KAnSB8IOKAnCjigJ0gfCDigJwp4oCdIHwg4oCcW+KAnSB8IOKAnF3igJ1cbiAgICAgIC8vXG4gICAgICAvLyBBbHNvIG5lZWQgdG8gZW5jb2RlICchJyBiZWNhdXNlIGl0IGhhcyBzcGVjaWFsIG1lYW5pbmcgKGVuZCBvZiB0YWcgcHJlZml4KS5cbiAgICAgIC8vXG4gICAgICB0YWdTdHIgPSBlbmNvZGVVUkkoXG4gICAgICAgIHN0YXRlLnRhZ1swXSA9PT0gJyEnID8gc3RhdGUudGFnLnNsaWNlKDEpIDogc3RhdGUudGFnXG4gICAgICApLnJlcGxhY2UoLyEvZywgJyUyMScpO1xuXG4gICAgICBpZiAoc3RhdGUudGFnWzBdID09PSAnIScpIHtcbiAgICAgICAgdGFnU3RyID0gJyEnICsgdGFnU3RyO1xuICAgICAgfSBlbHNlIGlmICh0YWdTdHIuc2xpY2UoMCwgMTgpID09PSAndGFnOnlhbWwub3JnLDIwMDI6Jykge1xuICAgICAgICB0YWdTdHIgPSAnISEnICsgdGFnU3RyLnNsaWNlKDE4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhZ1N0ciA9ICchPCcgKyB0YWdTdHIgKyAnPic7XG4gICAgICB9XG5cbiAgICAgIHN0YXRlLmR1bXAgPSB0YWdTdHIgKyAnICcgKyBzdGF0ZS5kdW1wO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBnZXREdXBsaWNhdGVSZWZlcmVuY2VzKG9iamVjdCwgc3RhdGUpIHtcbiAgdmFyIG9iamVjdHMgPSBbXSxcbiAgICAgIGR1cGxpY2F0ZXNJbmRleGVzID0gW10sXG4gICAgICBpbmRleCxcbiAgICAgIGxlbmd0aDtcblxuICBpbnNwZWN0Tm9kZShvYmplY3QsIG9iamVjdHMsIGR1cGxpY2F0ZXNJbmRleGVzKTtcblxuICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gZHVwbGljYXRlc0luZGV4ZXMubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgIHN0YXRlLmR1cGxpY2F0ZXMucHVzaChvYmplY3RzW2R1cGxpY2F0ZXNJbmRleGVzW2luZGV4XV0pO1xuICB9XG4gIHN0YXRlLnVzZWREdXBsaWNhdGVzID0gbmV3IEFycmF5KGxlbmd0aCk7XG59XG5cbmZ1bmN0aW9uIGluc3BlY3ROb2RlKG9iamVjdCwgb2JqZWN0cywgZHVwbGljYXRlc0luZGV4ZXMpIHtcbiAgdmFyIG9iamVjdEtleUxpc3QsXG4gICAgICBpbmRleCxcbiAgICAgIGxlbmd0aDtcblxuICBpZiAob2JqZWN0ICE9PSBudWxsICYmIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnKSB7XG4gICAgaW5kZXggPSBvYmplY3RzLmluZGV4T2Yob2JqZWN0KTtcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICBpZiAoZHVwbGljYXRlc0luZGV4ZXMuaW5kZXhPZihpbmRleCkgPT09IC0xKSB7XG4gICAgICAgIGR1cGxpY2F0ZXNJbmRleGVzLnB1c2goaW5kZXgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBvYmplY3RzLnB1c2gob2JqZWN0KTtcblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0KSkge1xuICAgICAgICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gb2JqZWN0Lmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICAgICAgICBpbnNwZWN0Tm9kZShvYmplY3RbaW5kZXhdLCBvYmplY3RzLCBkdXBsaWNhdGVzSW5kZXhlcyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9iamVjdEtleUxpc3QgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuXG4gICAgICAgIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBvYmplY3RLZXlMaXN0Lmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICAgICAgICBpbnNwZWN0Tm9kZShvYmplY3Rbb2JqZWN0S2V5TGlzdFtpbmRleF1dLCBvYmplY3RzLCBkdXBsaWNhdGVzSW5kZXhlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZHVtcCQxKGlucHV0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIHZhciBzdGF0ZSA9IG5ldyBTdGF0ZShvcHRpb25zKTtcblxuICBpZiAoIXN0YXRlLm5vUmVmcykgZ2V0RHVwbGljYXRlUmVmZXJlbmNlcyhpbnB1dCwgc3RhdGUpO1xuXG4gIHZhciB2YWx1ZSA9IGlucHV0O1xuXG4gIGlmIChzdGF0ZS5yZXBsYWNlcikge1xuICAgIHZhbHVlID0gc3RhdGUucmVwbGFjZXIuY2FsbCh7ICcnOiB2YWx1ZSB9LCAnJywgdmFsdWUpO1xuICB9XG5cbiAgaWYgKHdyaXRlTm9kZShzdGF0ZSwgMCwgdmFsdWUsIHRydWUsIHRydWUpKSByZXR1cm4gc3RhdGUuZHVtcCArICdcXG4nO1xuXG4gIHJldHVybiAnJztcbn1cblxudmFyIGR1bXBfMSA9IGR1bXAkMTtcblxudmFyIGR1bXBlciA9IHtcblx0ZHVtcDogZHVtcF8xXG59O1xuXG5mdW5jdGlvbiByZW5hbWVkKGZyb20sIHRvKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdGdW5jdGlvbiB5YW1sLicgKyBmcm9tICsgJyBpcyByZW1vdmVkIGluIGpzLXlhbWwgNC4gJyArXG4gICAgICAnVXNlIHlhbWwuJyArIHRvICsgJyBpbnN0ZWFkLCB3aGljaCBpcyBub3cgc2FmZSBieSBkZWZhdWx0LicpO1xuICB9O1xufVxuXG5cbnZhciBUeXBlICAgICAgICAgICAgICAgID0gdHlwZTtcbnZhciBTY2hlbWEgICAgICAgICAgICAgID0gc2NoZW1hO1xudmFyIEZBSUxTQUZFX1NDSEVNQSAgICAgPSBmYWlsc2FmZTtcbnZhciBKU09OX1NDSEVNQSAgICAgICAgID0ganNvbjtcbnZhciBDT1JFX1NDSEVNQSAgICAgICAgID0gY29yZTtcbnZhciBERUZBVUxUX1NDSEVNQSAgICAgID0gX2RlZmF1bHQ7XG52YXIgbG9hZCAgICAgICAgICAgICAgICA9IGxvYWRlci5sb2FkO1xudmFyIGxvYWRBbGwgICAgICAgICAgICAgPSBsb2FkZXIubG9hZEFsbDtcbnZhciBkdW1wICAgICAgICAgICAgICAgID0gZHVtcGVyLmR1bXA7XG52YXIgWUFNTEV4Y2VwdGlvbiAgICAgICA9IGV4Y2VwdGlvbjtcblxuLy8gUmUtZXhwb3J0IGFsbCB0eXBlcyBpbiBjYXNlIHVzZXIgd2FudHMgdG8gY3JlYXRlIGN1c3RvbSBzY2hlbWFcbnZhciB0eXBlcyA9IHtcbiAgYmluYXJ5OiAgICBiaW5hcnksXG4gIGZsb2F0OiAgICAgZmxvYXQsXG4gIG1hcDogICAgICAgbWFwLFxuICBudWxsOiAgICAgIF9udWxsLFxuICBwYWlyczogICAgIHBhaXJzLFxuICBzZXQ6ICAgICAgIHNldCxcbiAgdGltZXN0YW1wOiB0aW1lc3RhbXAsXG4gIGJvb2w6ICAgICAgYm9vbCxcbiAgaW50OiAgICAgICBpbnQsXG4gIG1lcmdlOiAgICAgbWVyZ2UsXG4gIG9tYXA6ICAgICAgb21hcCxcbiAgc2VxOiAgICAgICBzZXEsXG4gIHN0cjogICAgICAgc3RyXG59O1xuXG4vLyBSZW1vdmVkIGZ1bmN0aW9ucyBmcm9tIEpTLVlBTUwgMy4wLnhcbnZhciBzYWZlTG9hZCAgICAgICAgICAgID0gcmVuYW1lZCgnc2FmZUxvYWQnLCAnbG9hZCcpO1xudmFyIHNhZmVMb2FkQWxsICAgICAgICAgPSByZW5hbWVkKCdzYWZlTG9hZEFsbCcsICdsb2FkQWxsJyk7XG52YXIgc2FmZUR1bXAgICAgICAgICAgICA9IHJlbmFtZWQoJ3NhZmVEdW1wJywgJ2R1bXAnKTtcblxudmFyIGpzWWFtbCA9IHtcblx0VHlwZTogVHlwZSxcblx0U2NoZW1hOiBTY2hlbWEsXG5cdEZBSUxTQUZFX1NDSEVNQTogRkFJTFNBRkVfU0NIRU1BLFxuXHRKU09OX1NDSEVNQTogSlNPTl9TQ0hFTUEsXG5cdENPUkVfU0NIRU1BOiBDT1JFX1NDSEVNQSxcblx0REVGQVVMVF9TQ0hFTUE6IERFRkFVTFRfU0NIRU1BLFxuXHRsb2FkOiBsb2FkLFxuXHRsb2FkQWxsOiBsb2FkQWxsLFxuXHRkdW1wOiBkdW1wLFxuXHRZQU1MRXhjZXB0aW9uOiBZQU1MRXhjZXB0aW9uLFxuXHR0eXBlczogdHlwZXMsXG5cdHNhZmVMb2FkOiBzYWZlTG9hZCxcblx0c2FmZUxvYWRBbGw6IHNhZmVMb2FkQWxsLFxuXHRzYWZlRHVtcDogc2FmZUR1bXBcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGpzWWFtbDtcbmV4cG9ydCB7IENPUkVfU0NIRU1BLCBERUZBVUxUX1NDSEVNQSwgRkFJTFNBRkVfU0NIRU1BLCBKU09OX1NDSEVNQSwgU2NoZW1hLCBUeXBlLCBZQU1MRXhjZXB0aW9uLCBkdW1wLCBsb2FkLCBsb2FkQWxsLCBzYWZlRHVtcCwgc2FmZUxvYWQsIHNhZmVMb2FkQWxsLCB0eXBlcyB9O1xuIiwiLy8gQHZlc3NlbC1wcm90b2NvbDpPZGluIGdvdmVybnM6W21lbW9yeS1zeW5jfGludGVncmF0aW9uXSBjb250ZXh0OlByb3ZpZGUgc2FmZSBmcm9udG1hdHRlciBtbV91aWQgcmVhZC93cml0ZS9yZW1vdmUgdXRpbGl0aWVzXG4vLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbc3JjL3V0aWxzL0xvZ2dlci50c11cbi8vIEBwdXJwb3NlOiBNYW5hZ2UgbW1fdWlkIGluIG5vdGUgZnJvbnRtYXR0ZXIgdG8gc3VwcG9ydCBtbV91aWQtYmFzZWQgc3luYyBpZGVudGlmaWNhdGlvblxuLy8gQHJlc3VsdDogUmVhZCwgd3JpdGUgYW5kIHJlbW92ZSBtbV91aWQgZnJvbSBub3RlIGZyb250bWF0dGVyIHdoaWxlIHByZXNlcnZpbmcgZXhpc3RpbmcgZnJvbnRtYXR0ZXIgYW5kIGZvcm1hdHRpbmdcbi8vIEBzaWduZWQ6IEMuQmrDuHJuXG5cbmltcG9ydCB7IFRGaWxlLCBBcHAgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgKiBhcyB5YW1sIGZyb20gJ2pzLXlhbWwnO1xuaW1wb3J0IHsgcHJvbWlzZXMgYXMgZnMgfSBmcm9tICdmcyc7XG5pbXBvcnQgeyBHcmFwaGl0aUxvZ2dlciB9IGZyb20gJy4vTG9nZ2VyJztcblxuLyoqXG4gKiBGcm9udG1hdHRlclV0aWxzIC0gaGVscGVycyBmb3IgcmVhZGluZy93cml0aW5nL3JlbW92aW5nIGBtbV91aWRgIGluIG5vdGUgZnJvbnRtYXR0ZXIuXG4gKlxuICogSW1wbGVtZW50YXRpb24gbm90ZXM6XG4gKiAtIFByZWZlciBtZXRhZGF0YUNhY2hlIGZvciByZWFkcyB3aGVuIGF2YWlsYWJsZSBmb3IgcGVyZm9ybWFuY2UuXG4gKiAtIEZhbGwgYmFjayB0byByZWFkaW5nIHRoZSBmaWxlIGNvbnRlbnRzIGFuZCBwYXJzaW5nIFlBTUwgZnJvbnRtYXR0ZXIgZGlyZWN0bHkuXG4gKiAtIFVzZSBqcy15YW1sIGZvciBzYWZlIHBhcnNlL2R1bXAuXG4gKiAtIFByZXNlcnZlIG90aGVyIGZyb250bWF0dGVyIGtleXMgYW5kIHRoZSBib2R5IGNvbnRlbnQuXG4gKiAtIFVzZSBHcmFwaGl0aUxvZ2dlciB3aGVuIGF2YWlsYWJsZTsgZmFsbGJhY2sgdG8gY29uc29sZSB3aXRoIEFTQ0lJLW9ubHkgbWVzc2FnZXMuXG4gKi9cblxuLyoqIEtleSB1c2VkIGluIGZyb250bWF0dGVyIGZvciB0aGUgbWVtb3J5LW1hcCB1bmlxdWUgaWQgKi9cbmNvbnN0IE1NX1VJRF9LRVkgPSAnbW1fdWlkJztcblxuLyoqIExvZ2dlciBpbnRlcmZhY2UgZm9yIGNvbnNpc3RlbnQgbG9nZ2luZyAqL1xuaW50ZXJmYWNlIExvZ2dlckludGVyZmFjZSB7XG4gIGVycm9yOiAoLi4uYXJnczogYW55W10pID0+IHZvaWQ7XG4gIHdhcm46ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZDtcbiAgaW5mbzogKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkO1xuICBkZWJ1ZzogKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkO1xufVxuXG4vKiogRmFsbGJhY2sgY29uc29sZSBsb2dnZXIgd2l0aCBBU0NJSS1vbmx5IG91dHB1dCBmb3IgV2luZG93cyBjb21wYXRpYmlsaXR5ICovXG5jb25zdCBsb2dnZXI6IExvZ2dlckludGVyZmFjZSA9IHtcbiAgZXJyb3I6ICguLi5hcmdzOiBhbnlbXSkgPT4geyBjb25zb2xlLmVycm9yKCdbRVJST1JdJywgLi4uYXJncyk7IH0sXG4gIHdhcm46ICguLi5hcmdzOiBhbnlbXSkgPT4geyBjb25zb2xlLndhcm4oJ1tXQVJOXScsIC4uLmFyZ3MpOyB9LFxuICBpbmZvOiAoLi4uYXJnczogYW55W10pID0+IHsgY29uc29sZS5pbmZvKCdbSU5GT10nLCAuLi5hcmdzKTsgfSxcbiAgZGVidWc6ICguLi5hcmdzOiBhbnlbXSkgPT4geyBjb25zb2xlLmRlYnVnKCdbREVCVUddJywgLi4uYXJncyk7IH0sXG59O1xuXG4vKipcbiAqIEV4dHJhY3QgZnJvbnRtYXR0ZXIgYmxvY2sgYW5kIGJvZHkgZnJvbSByYXcgbWFya2Rvd24uXG4gKiBSZXR1cm5zIHtmcm9udG1hdHRlcjogc3RyaW5nIHwgbnVsbCwgYm9keTogc3RyaW5nfVxuICovXG5mdW5jdGlvbiBzcGxpdEZyb250bWF0dGVyKHJhdzogc3RyaW5nKTogeyBmcm9udG1hdHRlcjogc3RyaW5nIHwgbnVsbDsgYm9keTogc3RyaW5nIH0ge1xuICBpZiAocmF3LnN0YXJ0c1dpdGgoJy0tLScpKSB7XG4gICAgY29uc3QgZW5kSWR4ID0gcmF3LmluZGV4T2YoJ1xcbi0tLScsIDMpO1xuICAgIGlmIChlbmRJZHggIT09IC0xKSB7XG4gICAgICBjb25zdCBmbSA9IHJhdy5zbGljZSgzLCBlbmRJZHggKyAxKTsgLy8gaW5jbHVkZSB0cmFpbGluZyBuZXdsaW5lXG4gICAgICBjb25zdCBib2R5ID0gcmF3LnNsaWNlKGVuZElkeCArIDQpOyAvLyBza2lwIFwiXFxuLS0tXCJcbiAgICAgIHJldHVybiB7IGZyb250bWF0dGVyOiBmbSwgYm9keSB9O1xuICAgIH1cbiAgfVxuICByZXR1cm4geyBmcm9udG1hdHRlcjogbnVsbCwgYm9keTogcmF3IH07XG59XG5cbi8qKlxuICogU2FmZWx5IHBhcnNlIFlBTUwgZnJvbnRtYXR0ZXIgaW50byBhbiBvYmplY3QuXG4gKiBSZXR1cm5zIG51bGwgaWYgbm8gZnJvbnRtYXR0ZXIgcHJlc2VudC5cbiAqL1xuZnVuY3Rpb24gcGFyc2VGcm9udG1hdHRlcihmcm9udE1hdHRlclRleHQ6IHN0cmluZyB8IG51bGwpOiBhbnkgfCBudWxsIHtcbiAgaWYgKCFmcm9udE1hdHRlclRleHQpIHJldHVybiBudWxsO1xuICB0cnkge1xuICAgIC8vIGpzLXlhbWwgc2FmZUxvYWQgZXF1aXZhbGVudCBpcyBsb2FkXG4gICAgY29uc3QgcGFyc2VkID0geWFtbC5sb2FkKGZyb250TWF0dGVyVGV4dCk7XG4gICAgaWYgKHR5cGVvZiBwYXJzZWQgPT09ICdvYmplY3QnICYmIHBhcnNlZCAhPT0gbnVsbCkgcmV0dXJuIHBhcnNlZDtcbiAgICByZXR1cm4ge307XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBsb2dnZXIuZXJyb3IoJ1tGcm9udG1hdHRlclV0aWxzXSBZQU1MIHBhcnNlIGZhaWxlZDonLCBTdHJpbmcoZSkpO1xuICAgIHRocm93IG5ldyBFcnJvcignTWFsZm9ybWVkIGZyb250bWF0dGVyOiAnICsgU3RyaW5nKGUpKTtcbiAgfVxufVxuXG4vKipcbiAqIFNlcmlhbGl6ZSBmcm9udG1hdHRlciBvYmplY3QgYmFjayB0byBZQU1MIHN0cmluZyAod2l0aG91dCB0aGUgc3Vycm91bmRpbmcgLS0tIG1hcmtlcnMpLlxuICogS2VlcHMgc2ltcGxlIGZvcm1hdHRpbmcgY2hvaWNlcy5cbiAqL1xuZnVuY3Rpb24gZHVtcEZyb250bWF0dGVyKG9iajogYW55KTogc3RyaW5nIHtcbiAgLy8gVXNlIHNpbXBsZSBkdW1wIG9wdGlvbnMgdG8gcHJvZHVjZSByZWFkYWJsZSBZQU1MXG4gIHJldHVybiB5YW1sLmR1bXAob2JqLCB7IHNjaGVtYTogeWFtbC5ERUZBVUxUX1NDSEVNQSwgbm9SZWZzOiB0cnVlLCBzb3J0S2V5czogZmFsc2UgfSk7XG59XG5cbi8qKlxuICogUmVhZCBtbV91aWQgZnJvbSBhIFRGaWxlJ3MgZnJvbnRtYXR0ZXIuXG4gKiBUcmllcyBtZXRhZGF0YUNhY2hlIGZpcnN0LCB0aGVuIGZhbGxzIGJhY2sgdG8gcmVhZGluZyB0aGUgZmlsZSBhbmQgcGFyc2luZyBmcm9udG1hdHRlci5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlYWRNbVVpZChhcHA6IEFwcCwgZmlsZTogVEZpbGUpOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcbiAgdHJ5IHtcbiAgICAvLyBQcmVmZXIgbWV0YWRhdGFDYWNoZSB3aGVuIGF2YWlsYWJsZVxuICAgIHRyeSB7XG4gICAgICBjb25zdCBjYWNoZSA9IGFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShmaWxlKTtcbiAgICAgIGlmIChjYWNoZSAmJiBjYWNoZS5mcm9udG1hdHRlciAmJiB0eXBlb2YgY2FjaGUuZnJvbnRtYXR0ZXIgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGNvbnN0IHZhbCA9IChjYWNoZS5mcm9udG1hdHRlciBhcyBhbnkpW01NX1VJRF9LRVldO1xuICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHJldHVybiB2YWw7XG4gICAgICAgIGlmICh2YWwgIT09IHVuZGVmaW5lZCAmJiB2YWwgIT09IG51bGwpIHJldHVybiBTdHJpbmcodmFsKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBtZXRhZGF0YUNhY2hlIG1heSB0aHJvdyBpbiBzb21lIHRlc3RpbmcgY29udGV4dHM7IGZhbGwgYmFja1xuICAgICAgbG9nZ2VyLmRlYnVnKCdbRnJvbnRtYXR0ZXJVdGlsc10gbWV0YWRhdGFDYWNoZSByZWFkIGZhaWxlZCwgZmFsbGluZyBiYWNrIHRvIGZpbGUgcmVhZC4nLCBTdHJpbmcoZSkpO1xuICAgIH1cblxuICAgIC8vIFJlYWQgZmlsZSBjb250ZW50c1xuICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCBhcHAudmF1bHQucmVhZChmaWxlKTtcbiAgICBjb25zdCB7IGZyb250bWF0dGVyIH0gPSBzcGxpdEZyb250bWF0dGVyKGNvbnRlbnQpO1xuICAgIGlmICghZnJvbnRtYXR0ZXIpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlRnJvbnRtYXR0ZXIoZnJvbnRtYXR0ZXIpO1xuICAgIGlmICghcGFyc2VkKSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBtbSA9IHBhcnNlZFtNTV9VSURfS0VZXTtcbiAgICBpZiAodHlwZW9mIG1tID09PSAnc3RyaW5nJykgcmV0dXJuIG1tO1xuICAgIGlmIChtbSAhPT0gdW5kZWZpbmVkICYmIG1tICE9PSBudWxsKSByZXR1cm4gU3RyaW5nKG1tKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgbG9nZ2VyLmVycm9yKCdbRnJvbnRtYXR0ZXJVdGlsc10gRmFpbGVkIHRvIHJlYWQgbW1fdWlkIGZvciBmaWxlOicsIGZpbGUucGF0aCwgU3RyaW5nKGVycikpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogV3JpdGUgb3IgdXBkYXRlIG1tX3VpZCBpbiBhIGZpbGUncyBmcm9udG1hdHRlci5cbiAqIFByZXNlcnZlcyBvdGhlciBmcm9udG1hdHRlciBrZXlzIGFuZCBib2R5IGNvbnRlbnQuIElmIG5vIGZyb250bWF0dGVyIGV4aXN0cywgb25lIHdpbGwgYmUgY3JlYXRlZC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHdyaXRlTW1VaWQoYXBwOiBBcHAsIGZpbGU6IFRGaWxlLCBtbVVpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgY29udGVudCA9IGF3YWl0IGFwcC52YXVsdC5yZWFkKGZpbGUpO1xuICAgIGNvbnN0IHsgZnJvbnRtYXR0ZXIsIGJvZHkgfSA9IHNwbGl0RnJvbnRtYXR0ZXIoY29udGVudCk7XG5cbiAgICBsZXQgZm1PYmo6IGFueSA9IHt9O1xuICAgIGlmIChmcm9udG1hdHRlcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZm1PYmogPSBwYXJzZUZyb250bWF0dGVyKGZyb250bWF0dGVyKSB8fCB7fTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gTWFsZm9ybWVkIGZyb250bWF0dGVyIC0gbG9nIGFuZCByZXRocm93IHNvIGNhbGxlciBjYW4gZGVjaWRlXG4gICAgICAgIGxvZ2dlci5lcnJvcignW0Zyb250bWF0dGVyVXRpbHNdIE1hbGZvcm1lZCBmcm9udG1hdHRlciB3aGVuIHdyaXRpbmcgbW1fdWlkIGZvcicsIGZpbGUucGF0aCwgU3RyaW5nKGUpKTtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmbU9ialtNTV9VSURfS0VZXSA9IG1tVWlkO1xuXG4gICAgY29uc3QgZm1UZXh0ID0gZHVtcEZyb250bWF0dGVyKGZtT2JqKS50cmltRW5kKCk7XG4gICAgY29uc3QgbmV3Q29udGVudCA9IGAtLS1cXG4ke2ZtVGV4dH1cXG4tLS1cXG4ke2JvZHl9YDtcblxuICAgIC8vIFVzZSBPYnNpZGlhbiBBUEkgdG8gbW9kaWZ5IHRoZSBmaWxlIHdoZXJlIHBvc3NpYmxlXG4gICAgaWYgKGFwcC52YXVsdCAmJiB0eXBlb2YgYXBwLnZhdWx0Lm1vZGlmeSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYXdhaXQgYXBwLnZhdWx0Lm1vZGlmeShmaWxlLCBuZXdDb250ZW50KTtcbiAgICAgIGxvZ2dlci5pbmZvKCdbRnJvbnRtYXR0ZXJVdGlsc10gV3JvdGUgbW1fdWlkIHRvJywgZmlsZS5wYXRoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBGYWxsYmFjazogdXNlIHZhdWx0IGFkYXB0ZXIgaWYgYXZhaWxhYmxlXG4gICAgaWYgKGFwcC52YXVsdCAmJiAoYXBwLnZhdWx0IGFzIGFueSkuYWRhcHRlciAmJiB0eXBlb2YgKGFwcC52YXVsdCBhcyBhbnkpLmFkYXB0ZXIud3JpdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGF3YWl0IChhcHAudmF1bHQgYXMgYW55KS5hZGFwdGVyLndyaXRlKGZpbGUucGF0aCwgbmV3Q29udGVudCk7XG4gICAgICBsb2dnZXIuaW5mbygnW0Zyb250bWF0dGVyVXRpbHNdIFdyb3RlIG1tX3VpZCB0byAoYWRhcHRlcikgJywgZmlsZS5wYXRoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBMYXN0IHJlc29ydDogd3JpdGUgdXNpbmcgbm9kZSBmcyBpZiBwYXRoIGFjY2Vzc2libGUgKHRoaXMgaXMgdW5saWtlbHkgaW4gT2JzaWRpYW4gcGx1Z2luIHJ1bnRpbWUpXG4gICAgYXdhaXQgZnMud3JpdGVGaWxlKGZpbGUucGF0aCwgbmV3Q29udGVudCwgeyBlbmNvZGluZzogJ3V0ZjgnIH0pO1xuICAgIGxvZ2dlci5pbmZvKCdbRnJvbnRtYXR0ZXJVdGlsc10gV3JvdGUgbW1fdWlkIHRvIChmcykgJywgZmlsZS5wYXRoKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgbG9nZ2VyLmVycm9yKCdbRnJvbnRtYXR0ZXJVdGlsc10gRmFpbGVkIHRvIHdyaXRlIG1tX3VpZCBmb3IgZmlsZTonLCBmaWxlLnBhdGgsIFN0cmluZyhlcnIpKTtcbiAgICB0aHJvdyBlcnI7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmUgbW1fdWlkIGZyb20gZnJvbnRtYXR0ZXIgaWYgcHJlc2VudC5cbiAqIFByZXNlcnZlcyBvdGhlciBmcm9udG1hdHRlciBhbmQgYm9keSBjb250ZW50LiBJZiBmcm9udG1hdHRlciBiZWNvbWVzIGVtcHR5LCBpdCByZW1vdmVzIHRoZSBmcm9udG1hdHRlciBibG9jay5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlbW92ZU1tVWlkKGFwcDogQXBwLCBmaWxlOiBURmlsZSk6IFByb21pc2U8dm9pZD4ge1xuICB0cnkge1xuICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCBhcHAudmF1bHQucmVhZChmaWxlKTtcbiAgICBjb25zdCB7IGZyb250bWF0dGVyLCBib2R5IH0gPSBzcGxpdEZyb250bWF0dGVyKGNvbnRlbnQpO1xuXG4gICAgaWYgKCFmcm9udG1hdHRlcikge1xuICAgICAgbG9nZ2VyLmRlYnVnKCdbRnJvbnRtYXR0ZXJVdGlsc10gTm8gZnJvbnRtYXR0ZXIgcHJlc2VudCBmb3InLCBmaWxlLnBhdGgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBmbU9iajogYW55O1xuICAgIHRyeSB7XG4gICAgICBmbU9iaiA9IHBhcnNlRnJvbnRtYXR0ZXIoZnJvbnRtYXR0ZXIpIHx8IHt9O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignW0Zyb250bWF0dGVyVXRpbHNdIE1hbGZvcm1lZCBmcm9udG1hdHRlciB3aGVuIHJlbW92aW5nIG1tX3VpZCBmb3InLCBmaWxlLnBhdGgsIFN0cmluZyhlKSk7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cblxuICAgIGlmIChmbU9iai5oYXNPd25Qcm9wZXJ0eShNTV9VSURfS0VZKSkge1xuICAgICAgZGVsZXRlIGZtT2JqW01NX1VJRF9LRVldO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2dnZXIuZGVidWcoJ1tGcm9udG1hdHRlclV0aWxzXSBtbV91aWQgbm90IHByZXNlbnQgb24nLCBmaWxlLnBhdGgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBmcm9udG1hdHRlciBvYmplY3QgaXMgZW1wdHkgbm93LCByZW1vdmUgZnJvbnRtYXR0ZXIgYmxvY2tcbiAgICBjb25zdCBoYXNLZXlzID0gT2JqZWN0LmtleXMoZm1PYmopLmxlbmd0aCA+IDA7XG4gICAgY29uc3QgbmV3Q29udGVudCA9IGhhc0tleXMgPyBgLS0tXFxuJHtkdW1wRnJvbnRtYXR0ZXIoZm1PYmopLnRyaW1FbmQoKX1cXG4tLS1cXG4ke2JvZHl9YCA6IGJvZHk7XG5cbiAgICBpZiAoYXBwLnZhdWx0ICYmIHR5cGVvZiBhcHAudmF1bHQubW9kaWZ5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhd2FpdCBhcHAudmF1bHQubW9kaWZ5KGZpbGUsIG5ld0NvbnRlbnQpO1xuICAgICAgbG9nZ2VyLmluZm8oJ1tGcm9udG1hdHRlclV0aWxzXSBSZW1vdmVkIG1tX3VpZCBmcm9tJywgZmlsZS5wYXRoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoYXBwLnZhdWx0ICYmIChhcHAudmF1bHQgYXMgYW55KS52YXVsdCAmJiB0eXBlb2YgKGFwcC52YXVsdCBhcyBhbnkpLmFkYXB0ZXIud3JpdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGF3YWl0IChhcHAudmF1bHQgYXMgYW55KS5hZGFwdGVyLndyaXRlKGZpbGUucGF0aCwgbmV3Q29udGVudCk7XG4gICAgICBsb2dnZXIuaW5mbygnW0Zyb250bWF0dGVyVXRpbHNdIFJlbW92ZWQgbW1fdWlkIGZyb20gKGFkYXB0ZXIpICcsIGZpbGUucGF0aCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYXdhaXQgZnMud3JpdGVGaWxlKGZpbGUucGF0aCwgbmV3Q29udGVudCwgeyBlbmNvZGluZzogJ3V0ZjgnIH0pO1xuICAgIGxvZ2dlci5pbmZvKCdbRnJvbnRtYXR0ZXJVdGlsc10gUmVtb3ZlZCBtbV91aWQgZnJvbSAoZnMpICcsIGZpbGUucGF0aCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGxvZ2dlci5lcnJvcignW0Zyb250bWF0dGVyVXRpbHNdIEZhaWxlZCB0byByZW1vdmUgbW1fdWlkIGZvciBmaWxlOicsIGZpbGUucGF0aCwgU3RyaW5nKGVycikpO1xuICAgIHRocm93IGVycjtcbiAgfVxufVxuXG4vLyBAdmVzc2VsLWNsb3NlOk9kaW4iLCIvKipcclxuICogU3luYyBTdGF0dXMgVHlwZXMgYW5kIEludGVyZmFjZXMgZm9yIEdyYXBoaXRpIEtub3dsZWRnZSBHcmFwaCBJbnRlZ3JhdGlvblxyXG4gKlxyXG4gKiA9PT0gVkVTU0VMIE9QRU4gPT09XHJcbiAqIFB1cnBvc2U6IENvcmUgc3luYyBzdGF0dXMgc3lzdGVtIGZvciBwZXItbm90ZSBzeW5jIHN0YXR1cyBpY29uc1xyXG4gKiBJbnRlZ3JhdGlvbjogV29ya3Mgd2l0aCBleGlzdGluZyBHcmFwaGl0aVNlcnZpY2UgYW5kIHNldHRpbmdzIGluZnJhc3RydWN0dXJlXHJcbiAqIE1vZGU6IENvZGUgLSBDb3JlIHR5cGUgZGVmaW5pdGlvbnMgZm9yIHN5bmMgc3RhdHVzIGZ1bmN0aW9uYWxpdHlcclxuICovXHJcblxyXG5pbXBvcnQgdHlwZSB7IFRGaWxlIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuLyoqXHJcbiAqIFN5bmMgc3RhdHVzIHN0YXRlcyBmb3Igbm90ZSBpY29uc1xyXG4gKi9cclxuZXhwb3J0IGVudW0gU3luY1N0YXR1cyB7XHJcbiAgICBOT1RfU1lOQ0VEID0gJ25vdC1zeW5jZWQnLCAgIC8vIEdyYXkgaWNvbiAtIG5vdGUgaGFzIG5vdCBiZWVuIHN5bmNlZFxyXG4gICAgU1lOQ0VEID0gJ3N5bmNlZCcsICAgICAgICAgICAvLyBHcmVlbiBpY29uIC0gbm90ZSBpcyBzeW5jZWQgd2l0aCBHcmFwaGl0aVxyXG4gICAgUFJJVkFURSA9ICdwcml2YXRlJywgICAgICAgICAvLyBCbHVlIGljb24gLSBub3RlIGlzIG1hcmtlZCBwcml2YXRlIChleGNsdWRlZClcclxuICAgIFNZTkNJTkcgPSAnc3luY2luZycsICAgICAgICAgLy8gU3Bpbm5pbmcgYW5pbWF0aW9uIC0gc3luYyBpbiBwcm9ncmVzc1xyXG4gICAgRVJST1IgPSAnZXJyb3InICAgICAgICAgICAgICAvLyBSZWQgaWNvbiAtIGxhc3Qgc3luYyBmYWlsZWQgd2l0aCBlcnJvclxyXG59XHJcblxyXG4vKipcclxuICogQ29uZmlndXJhdGlvbiBmb3IgZWFjaCBzeW5jIHN0YXR1cyBpY29uIGFwcGVhcmFuY2VcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3luY1N0YXR1c0NvbmZpZyB7XHJcbiAgICBjb2xvcjogc3RyaW5nO1xyXG4gICAgcGF0aDogc3RyaW5nO1xyXG4gICAgYW5pbWF0aW9uPzogc3RyaW5nO1xyXG4gICAgdG9vbHRpcDogc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogT3B0aW9ucyBmb3IgY3JlYXRpbmcgYSBzeW5jIHN0YXR1cyBpY29uXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFN5bmNJY29uT3B0aW9ucyB7XHJcbiAgICBmaWxlOiBURmlsZTtcclxuICAgIG9uQ2xpY2s/OiAoZmlsZTogVEZpbGUpID0+IFByb21pc2U8dm9pZD47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDdXJyZW50IHN0YXRlIG9mIGEgc3luYyBzdGF0dXMgaWNvblxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJY29uU3RhdGUge1xyXG4gICAgc3RhdHVzOiBTeW5jU3RhdHVzO1xyXG4gICAgbGFzdFN5bmM/OiBzdHJpbmc7XHJcbiAgICBlcnJvcj86IHN0cmluZztcclxuICAgIGlzQWN0aXZlOiBib29sZWFuO1xyXG59XHJcblxyXG4vKipcclxuICogU3luYyBzdGF0dXMgZGV0ZWN0aW9uIHJlc3VsdFxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBTdGF0dXNEZXRlY3Rpb25SZXN1bHQge1xyXG4gICAgc3RhdHVzOiBTeW5jU3RhdHVzO1xyXG4gICAgcmVhc29uOiBzdHJpbmc7XHJcbiAgICBsYXN0U3luY2VkPzogc3RyaW5nO1xyXG4gICAgZXBpc29kZUlkPzogc3RyaW5nO1xyXG4gICAgc3luY1R5cGU/OiBzdHJpbmc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb25maWd1cmF0aW9uIGZvciBzeW5jIHN0YXR1cyBpY29ucyBieSBzdGF0dXMgdHlwZVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IFNZTkNfU1RBVFVTX0NPTkZJR1M6IFJlY29yZDxTeW5jU3RhdHVzLCBTeW5jU3RhdHVzQ29uZmlnPiA9IHtcclxuICAgIFtTeW5jU3RhdHVzLlNZTkNFRF06IHtcclxuICAgICAgICBjb2xvcjogJyMyMmM1NWUnLCAvLyBHcmVlblxyXG4gICAgICAgIHBhdGg6ICdNOSAxMmwyIDIgNC00bTYgMmE5IDkgMCAxMS0xOCAwIDkgOSAwIDAxMTggMHonLCAvLyBDaGVja21hcmsgY2lyY2xlXHJcbiAgICAgICAgdG9vbHRpcDogJ05vdGUgaXMgc3luY2VkIHdpdGggR3JhcGhpdGknXHJcbiAgICB9LFxyXG4gICAgW1N5bmNTdGF0dXMuUFJJVkFURV06IHtcclxuICAgICAgICBjb2xvcjogJyMzYjgyZjYnLCAvLyBCbHVlXHJcbiAgICAgICAgcGF0aDogJ00xMiAxNXYybS02IDRoMTJhMiAyIDAgMDAyLTJ2LTZhMiAyIDAgMDAtMi0ySDZhMiAyIDAgMDAtMiAydjZhMiAyIDAgMDAyIDJ6bTEwLTEwVjdhNCA0IDAgMDAtOCAwdjRoOHonLCAvLyBMb2NrIGljb25cclxuICAgICAgICB0b29sdGlwOiAnTm90ZSBpcyBtYXJrZWQgcHJpdmF0ZSAoZXhjbHVkZWQgZnJvbSBzeW5jKSdcclxuICAgIH0sXHJcbiAgICBbU3luY1N0YXR1cy5OT1RfU1lOQ0VEXToge1xyXG4gICAgICAgIGNvbG9yOiAnIzZiNzI4MCcsIC8vIEdyYXlcclxuICAgICAgICBwYXRoOiAnTTQgNHY1aC41ODJtMTUuMzU2IDJBOC4wMDEgOC4wMDEgMCAwMDQuNTgyIDltMCAwSDltMTEgMTF2LTVoLS41ODFtMCAwYTguMDAzIDguMDAzIDAgMDEtMTUuMzU3LTJtMTUuMzU3IDJIMTUnLCAvLyBTeW5jL3JlZnJlc2ggaWNvblxyXG4gICAgICAgIHRvb2x0aXA6ICdOb3RlIGlzIG5vdCBzeW5jZWQgLSBjbGljayB0byBzeW5jJ1xyXG4gICAgfSxcclxuICAgIFtTeW5jU3RhdHVzLlNZTkNJTkddOiB7XHJcbiAgICAgICAgY29sb3I6ICcjZjU5ZTBiJywgLy8gT3JhbmdlXHJcbiAgICAgICAgcGF0aDogJ000IDR2NWguNTgybTE1LjM1NiAyQTguMDAxIDguMDAxIDAgMDA0LjU4MiA5bTAgMEg5bTExIDExdi01aC0uNTgxbTAgMGE4LjAwMyA4LjAwMyAwIDAxLTE1LjM1Ny0ybTE1LjM1NyAySDE1JywgLy8gUmVmcmVzaCBpY29uXHJcbiAgICAgICAgYW5pbWF0aW9uOiAnc3BpbiAxcyBsaW5lYXIgaW5maW5pdGUnLFxyXG4gICAgICAgIHRvb2x0aXA6ICdTeW5jIGluIHByb2dyZXNzLi4uJ1xyXG4gICAgfSxcclxuICAgIFtTeW5jU3RhdHVzLkVSUk9SXToge1xyXG4gICAgICAgIGNvbG9yOiAnI2VmNDQ0NCcsIC8vIFJlZFxyXG4gICAgICAgIHBhdGg6ICdNMTAgMTRsMi0ybTAgMGwyLTJtLTIgMmwtMi0ybTIgMmwyIDJtNy0yYTkgOSAwIDExLTE4IDAgOSA5IDAgMDExOCAweicsIC8vIFggY2lyY2xlXHJcbiAgICAgICAgdG9vbHRpcDogJ1N5bmMgZmFpbGVkIC0gY2xpY2sgdG8gcmV0cnknXHJcbiAgICB9XHJcbn07XHJcblxyXG4vKipcclxuICogRXZlbnRzIHRoYXQgY2FuIGJlIGVtaXR0ZWQgYnkgc3luYyBzdGF0dXMgc3lzdGVtXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFN5bmNTdGF0dXNFdmVudHMge1xyXG4gICAgJ3N0YXR1cy1jaGFuZ2VkJzogKGZpbGU6IFRGaWxlLCBuZXdTdGF0dXM6IFN5bmNTdGF0dXMpID0+IHZvaWQ7XHJcbiAgICAnc3luYy1zdGFydGVkJzogKGZpbGU6IFRGaWxlKSA9PiB2b2lkO1xyXG4gICAgJ3N5bmMtY29tcGxldGVkJzogKGZpbGU6IFRGaWxlLCBzdWNjZXNzOiBib29sZWFuKSA9PiB2b2lkO1xyXG4gICAgJ3N5bmMtZXJyb3InOiAoZmlsZTogVEZpbGUsIGVycm9yOiBzdHJpbmcpID0+IHZvaWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbnRlcmZhY2UgZm9yIHN5bmMgc3RhdHVzIG1hbmFnZXJcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVN5bmNTdGF0dXNNYW5hZ2VyIHtcclxuICAgIC8vIFN0YXR1cyBEZXRlY3Rpb25cclxuICAgIGdldE5vdGVTeW5jU3RhdHVzKGZpbGU6IFRGaWxlKTogUHJvbWlzZTxTdGF0dXNEZXRlY3Rpb25SZXN1bHQ+O1xyXG4gICAgaXNOb3RlUHJpdmF0ZShmaWxlOiBURmlsZSk6IGJvb2xlYW47XHJcblxyXG4gICAgLy8gU3luYyBPcGVyYXRpb25zXHJcbiAgICBzeW5jTm90ZShmaWxlOiBURmlsZSk6IFByb21pc2U8YW55PjtcclxuICAgIHVwZGF0ZU5vdGVQcm9wZXJ0aWVzKGZpbGU6IFRGaWxlLCByZXN1bHQ6IGFueSk6IFByb21pc2U8dm9pZD47XHJcblxyXG4gICAgLy8gU3RhdGUgTWFuYWdlbWVudFxyXG4gICAgdXBkYXRlSWNvblN0YXR1cyhmaWxlOiBURmlsZSwgc3RhdHVzOiBTeW5jU3RhdHVzKTogdm9pZDtcclxuICAgIGdldEFjdGl2ZVN5bmMoZmlsZVBhdGg6IHN0cmluZyk6IGJvb2xlYW47XHJcblxyXG4gICAgLy8gRXZlbnQgSGFuZGxpbmdcclxuICAgIG9uPEsgZXh0ZW5kcyBrZXlvZiBTeW5jU3RhdHVzRXZlbnRzPihldmVudDogSywgY2FsbGJhY2s6IFN5bmNTdGF0dXNFdmVudHNbS10pOiB2b2lkO1xyXG4gICAgb2ZmPEsgZXh0ZW5kcyBrZXlvZiBTeW5jU3RhdHVzRXZlbnRzPihldmVudDogSywgY2FsbGJhY2s6IFN5bmNTdGF0dXNFdmVudHNbS10pOiB2b2lkO1xyXG4gICAgZW1pdDxLIGV4dGVuZHMga2V5b2YgU3luY1N0YXR1c0V2ZW50cz4oZXZlbnQ6IEssIC4uLmFyZ3M6IFBhcmFtZXRlcnM8U3luY1N0YXR1c0V2ZW50c1tLXT4pOiB2b2lkO1xyXG59XHJcblxyXG4vKipcclxuICogSW50ZXJmYWNlIGZvciBzeW5jIHN0YXR1cyBpY29uIGNvbXBvbmVudFxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJU3luY1N0YXR1c0ljb24ge1xyXG4gICAgLy8gQ29yZSBQcm9wZXJ0aWVzXHJcbiAgICByZWFkb25seSBpY29uRWw6IEhUTUxFbGVtZW50O1xyXG4gICAgcmVhZG9ubHkgZmlsZTogVEZpbGU7XHJcbiAgICByZWFkb25seSBzdGF0dXM6IFN5bmNTdGF0dXM7XHJcblxyXG4gICAgLy8gU3RhdGUgTWFuYWdlbWVudFxyXG4gICAgdXBkYXRlU3RhdHVzKHN0YXR1czogU3luY1N0YXR1cyk6IHZvaWQ7XHJcbiAgICBzZXRMb2FkaW5nKGlzTG9hZGluZzogYm9vbGVhbik6IHZvaWQ7XHJcbiAgICBzZXRFcnJvcihlcnJvcjogc3RyaW5nIHwgbnVsbCk6IHZvaWQ7XHJcblxyXG4gICAgLy8gTGlmZWN5Y2xlXHJcbiAgICBtb3VudCgpOiB2b2lkO1xyXG4gICAgdW5tb3VudCgpOiB2b2lkO1xyXG4gICAgcmVmcmVzaCgpOiBQcm9taXNlPHZvaWQ+O1xyXG5cclxuICAgIC8vIEV2ZW50c1xyXG4gICAgb25DbGljaygpOiBQcm9taXNlPHZvaWQ+O1xyXG4gICAgb25TdGF0dXNDaGFuZ2Uoc3RhdHVzOiBTeW5jU3RhdHVzKTogdm9pZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIENTUyBjbGFzcyBuYW1lcyBmb3Igc3luYyBzdGF0dXMgaWNvbnNcclxuICovXHJcbmV4cG9ydCBjb25zdCBTWU5DX1NUQVRVU19DU1NfQ0xBU1NFUyA9IHtcclxuICAgIGNvbnRhaW5lcjogJ2dyYXBoaXRpLXN5bmMtc3RhdHVzLWljb24nLFxyXG4gICAgaWNvbjogJ2dyYXBoaXRpLXN5bmMtaWNvbicsXHJcbiAgICBzcGlubmluZzogJ2dyYXBoaXRpLXN5bmMtc3Bpbm5pbmcnLFxyXG4gICAgZXJyb3I6ICdncmFwaGl0aS1zeW5jLWVycm9yJyxcclxuICAgIHN1Y2Nlc3M6ICdncmFwaGl0aS1zeW5jLXN1Y2Nlc3MnLFxyXG4gICAgcHJpdmF0ZTogJ2dyYXBoaXRpLXN5bmMtcHJpdmF0ZScsXHJcbiAgICBub3RTeW5jZWQ6ICdncmFwaGl0aS1zeW5jLW5vdC1zeW5jZWQnXHJcbn0gYXMgY29uc3Q7XHJcblxyXG4vLyA9PT0gVkVTU0VMIENMT1NFID09PSIsIi8qKlxuICogU3luYyBTdGF0dXMgTWFuYWdlciBTZXJ2aWNlIGZvciBHcmFwaGl0aSBLbm93bGVkZ2UgR3JhcGggSW50ZWdyYXRpb25cbiAqXG4gKiA9PT0gVkVTU0VMIE9QRU4gPT09XG4gKiBQdXJwb3NlOiBNYW5hZ2VzIHN5bmMgc3RhdHVzIGRldGVjdGlvbiwgb3BlcmF0aW9ucywgYW5kIHN0YXRlIGZvciBpbmRpdmlkdWFsIG5vdGVzXG4gKiBJbnRlZ3JhdGlvbjogVXNlcyBleGlzdGluZyBHcmFwaGl0aVNlcnZpY2UsIHNldHRpbmdzLCBhbmQgTG9nZ2VyIGluZnJhc3RydWN0dXJlXG4gKiBNb2RlOiBDb2RlIC0gU2VydmljZSBpbXBsZW1lbnRhdGlvbiBmb3Igc3luYyBzdGF0dXMgZnVuY3Rpb25hbGl0eVxuICovXG5cbmltcG9ydCB7IFRGaWxlLCBBcHAsIE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCc7IC8vIE5lZWRlZCBmb3Igbm9ybWFsaXplTm90ZVBhdGhcbmltcG9ydCB0eXBlIHsgR3JhcGhpdGlQbHVnaW5TZXR0aW5ncyB9IGZyb20gJy4uL3R5cGVzL1NldHRpbmdzJztcbmltcG9ydCB0eXBlIHsgR3JhcGhpdGlTZXJ2aWNlLCBTeW5jUmVzdWx0IH0gZnJvbSAnLi9HcmFwaGl0aVNlcnZpY2UnO1xuaW1wb3J0IHR5cGUgeyBHcmFwaGl0aUxvZ2dlciB9IGZyb20gJy4uL3V0aWxzL0xvZ2dlcic7XG5pbXBvcnQgdHlwZSB7IFN5bmNSZWdpc3RyeVNlcnZpY2UgfSBmcm9tICcuL1N5bmNSZWdpc3RyeVNlcnZpY2UnO1xuaW1wb3J0ICogYXMgRnJvbnRtYXR0ZXJVdGlscyBmcm9tICcuLi91dGlscy9Gcm9udG1hdHRlclV0aWxzJztcbmltcG9ydCB7XG4gICAgU3luY1N0YXR1cyxcbiAgICB0eXBlIFN0YXR1c0RldGVjdGlvblJlc3VsdFxufSBmcm9tICcuLi90eXBlcy9TeW5jU3RhdHVzJztcblxuaW50ZXJmYWNlIFF1ZXVlSXRlbSB7XG4gICAgZmlsZTogVEZpbGU7XG4gICAgc291cmNlX2Rlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgcmVzb2x2ZTogKHJlc3VsdDogU3luY1Jlc3VsdCkgPT4gdm9pZDtcbiAgICByZWplY3Q6IChlcnJvcjogYW55KSA9PiB2b2lkO1xufVxuXG5leHBvcnQgY2xhc3MgU3luY1N0YXR1c01hbmFnZXIge1xuICAgIHByaXZhdGUgYXBwOiBBcHA7XG4gICAgcHJpdmF0ZSBzZXR0aW5nczogR3JhcGhpdGlQbHVnaW5TZXR0aW5ncztcbiAgICBwcml2YXRlIGdyYXBoaXRpU2VydmljZTogR3JhcGhpdGlTZXJ2aWNlO1xuICAgIHByaXZhdGUgc3luY1JlZ2lzdHJ5U2VydmljZTogU3luY1JlZ2lzdHJ5U2VydmljZTtcbiAgICBwcml2YXRlIGxvZ2dlcjogR3JhcGhpdGlMb2dnZXI7XG4gICAgcHJpdmF0ZSBhY3RpdmVTeW5jczogTWFwPHN0cmluZywgYm9vbGVhbj4gPSBuZXcgTWFwKCk7XG4gICAgcHJpdmF0ZSBzeW5jUXVldWU6IFF1ZXVlSXRlbVtdID0gW107XG4gICAgcHJpdmF0ZSBpc1Byb2Nlc3NpbmdRdWV1ZSA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIGFwcDogQXBwLFxuICAgICAgICBzZXR0aW5nczogR3JhcGhpdGlQbHVnaW5TZXR0aW5ncyxcbiAgICAgICAgZ3JhcGhpdGlTZXJ2aWNlOiBHcmFwaGl0aVNlcnZpY2UsXG4gICAgICAgIHN5bmNSZWdpc3RyeVNlcnZpY2U6IFN5bmNSZWdpc3RyeVNlcnZpY2UsXG4gICAgICAgIGxvZ2dlcjogR3JhcGhpdGlMb2dnZXJcbiAgICApIHtcbiAgICAgICAgdGhpcy5hcHAgPSBhcHA7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICAgICAgdGhpcy5ncmFwaGl0aVNlcnZpY2UgPSBncmFwaGl0aVNlcnZpY2U7XG4gICAgICAgIHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZSA9IHN5bmNSZWdpc3RyeVNlcnZpY2U7XG4gICAgICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xuXG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1N5bmNTdGF0dXNNYW5hZ2VyIGluaXRpYWxpemVkJyk7XG4gICAgfVxuXG4gICAgLy8gQHB1cnBvc2U6IFF1ZXVlIG1hbnVhbCBzeW5jIHJlcXVlc3RzIHRvIHByZXZlbnQgcmFjZSBjb25kaXRpb25zIEBkZXBlbmRzOiBzeW5jTm90ZSBtZXRob2QgQHJlc3VsdHM6IFByb21pc2UgcmVzb2x2aW5nIHdpdGggc3luYyByZXN1bHRcbiAgICBhc3luYyBlbnF1ZXVlKGZpbGU6IFRGaWxlLCBzb3VyY2VfZGVzY3JpcHRpb246IHN0cmluZyA9ICdvYnNpZGlhbl9tbV9pbmRpdmlkdWFsJyk6IFByb21pc2U8U3luY1Jlc3VsdD4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVldWVJdGVtOiBRdWV1ZUl0ZW0gPSB7IGZpbGUsIHNvdXJjZV9kZXNjcmlwdGlvbiwgcmVzb2x2ZSwgcmVqZWN0IH07XG4gICAgICAgICAgICB0aGlzLnN5bmNRdWV1ZS5wdXNoKHF1ZXVlSXRlbSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEFsd2F5cyBsb2cgcXVldWUgc3RhdHVzIGZvciBiZXR0ZXIgdmlzaWJpbGl0eVxuICAgICAgICAgICAgaWYgKHRoaXMuc3luY1F1ZXVlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oYFN0YXJ0aW5nIHN5bmMgZm9yICR7ZmlsZS5uYW1lfWApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBTeW5jIHF1ZXVlZCBmb3IgJHtmaWxlLm5hbWV9IChwb3NpdGlvbiAke3RoaXMuc3luY1F1ZXVlLmxlbmd0aH0gaW4gcXVldWUpYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc1F1ZXVlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgcHJvY2Vzc1F1ZXVlKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAodGhpcy5pc1Byb2Nlc3NpbmdRdWV1ZSB8fCB0aGlzLnN5bmNRdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNQcm9jZXNzaW5nUXVldWUgPSB0cnVlO1xuXG4gICAgICAgIHdoaWxlICh0aGlzLnN5bmNRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5zeW5jUXVldWUuc2hpZnQoKSE7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuc3luY05vdGUoaXRlbS5maWxlLCBpdGVtLnNvdXJjZV9kZXNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgaXRlbS5yZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGl0ZW0ucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNQcm9jZXNzaW5nUXVldWUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgc2V0dGluZ3Mgd2hlbiBwbHVnaW4gc2V0dGluZ3MgY2hhbmdlXG4gICAgICovXG4gICAgdXBkYXRlU2V0dGluZ3Moc2V0dGluZ3M6IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3MpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgICAgICB0aGlzLmxvZ2dlci5zZXREZWJ1ZyhzZXR0aW5ncy5lbmFibGVEZWJ1Z0xvZ2dpbmcpO1xuICAgIH1cblxuICAgIC8vIEB2ZXNzZWwtcHJvdG9jb2w6T2RpbiBnb3Zlcm5zOlttZW1vcnktc3luY3xyZWZhY3Rvcl0gY29udGV4dDpNTV9VSUQtYmFzZWQgc3luYyBzdGF0dXMgZGV0ZWN0aW9uIHJlcGxhY2luZyBwYXRoLWJhc2VkIGxvb2t1cHNcbiAgICAvLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbRnJvbnRtYXR0ZXJVdGlscywgU3luY1JlZ2lzdHJ5U2VydmljZSwgbW1fdWlkIHN5c3RlbV1cbiAgICAvLyBAcHVycG9zZTogRW5hYmxlIGFjY3VyYXRlIHN5bmMgc3RhdHVzIGRldGVjdGlvbiB1c2luZyBtbV91aWQgYXMgcHJpbWFyeSBpZGVudGlmaWVyXG4gICAgLy8gQHJlc3VsdDogQ29uc2lzdGVudCBzeW5jIHN0YXR1cyBkZXRlY3Rpb24gYWxpZ25lZCB3aXRoIG1tX3VpZCBhcmNoaXRlY3R1cmVcbiAgICAvLyBAc2lnbmVkOiBDLkJqw7hyblxuICAgIGFzeW5jIGdldE5vdGVTeW5jU3RhdHVzKGZpbGU6IFRGaWxlKTogUHJvbWlzZTxTdGF0dXNEZXRlY3Rpb25SZXN1bHQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIG5vdGUgaXMgY3VycmVudGx5IHN5bmNpbmdcbiAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZVN5bmNzLmhhcyhmaWxlLnBhdGgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBTeW5jU3RhdHVzLlNZTkNJTkcsXG4gICAgICAgICAgICAgICAgICAgIHJlYXNvbjogJ1N5bmMgb3BlcmF0aW9uIGluIHByb2dyZXNzJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIG5vdGUgaXMgcHJpdmF0ZSAoZXhjbHVkZWQgZnJvbSBzeW5jKVxuICAgICAgICAgICAgaWYgKHRoaXMuaXNOb3RlUHJpdmF0ZShmaWxlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogU3luY1N0YXR1cy5QUklWQVRFLFxuICAgICAgICAgICAgICAgICAgICByZWFzb246ICdOb3RlIGlzIG1hcmtlZCBwcml2YXRlIG9yIGluIGV4Y2x1ZGVkIGZvbGRlcidcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBHZXQgbW1fdWlkIGZyb20gZnJvbnRtYXR0ZXIgZmlyc3RcbiAgICAgICAgICAgIGNvbnN0IG1tVWlkID0gYXdhaXQgRnJvbnRtYXR0ZXJVdGlscy5yZWFkTW1VaWQodGhpcy5hcHAsIGZpbGUpO1xuXG4gICAgICAgICAgICAvLyBJZiBubyBtbV91aWQsIG5vdGUgaGFzIG5ldmVyIGJlZW4gc3luY2VkXG4gICAgICAgICAgICBpZiAoIW1tVWlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBTeW5jU3RhdHVzLk5PVF9TWU5DRUQsXG4gICAgICAgICAgICAgICAgICAgIHJlYXNvbjogJ05vdGUgaGFzIG5vIG1tX3VpZCAtIGhhcyBub3QgYmVlbiBzeW5jZWQgdG8gR3JhcGhpdGknXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gR2V0IGN1cnJlbnQgdmF1bHQgYW5kIGRhdGFiYXNlIGluZm9cbiAgICAgICAgICAgIGNvbnN0IHZhdWx0SWQgPSB0aGlzLmFwcC52YXVsdC5nZXROYW1lKCk7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RGJUeXBlID0gdGhpcy5nZXRDdXJyZW50RGF0YWJhc2VUeXBlKCk7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIHN5bmMgcmVnaXN0cnkgdXNpbmcgbW1fdWlkXG4gICAgICAgICAgICBjb25zdCBzeW5jUmVjb3JkID0gdGhpcy5zeW5jUmVnaXN0cnlTZXJ2aWNlLmdldFN5bmNSZWNvcmQobW1VaWQsIHZhdWx0SWQpO1xuXG4gICAgICAgICAgICBpZiAoc3luY1JlY29yZCkge1xuICAgICAgICAgICAgICAgIC8vIEZpbmQgc3luYyBlbnRyeSBmb3IgY3VycmVudCBkYXRhYmFzZVxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREYlN5bmMgPSBzeW5jUmVjb3JkLnN5bmNzLmZpbmQoc3luYyA9PiBzeW5jLmRhdGFiYXNlX2lkID09PSBjdXJyZW50RGJUeXBlKTtcblxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50RGJTeW5jKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBlcnJvciBzdGF0ZVxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudERiU3luYy5lcnJvcl9tZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogU3luY1N0YXR1cy5FUlJPUixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFzb246IGBMYXN0IHN5bmMgZmFpbGVkOiAke2N1cnJlbnREYlN5bmMuZXJyb3JfbWVzc2FnZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RTeW5jZWQ6IGN1cnJlbnREYlN5bmMubGFzdF9zeW5jLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVwaXNvZGVJZDogY3VycmVudERiU3luYy5lcGlzb2RlX3V1aWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3luY1R5cGU6IGN1cnJlbnREYlN5bmMuc291cmNlX2Rlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gU3VjY2Vzc2Z1bGx5IHN5bmNlZFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzeW5jVHlwZUluZm8gPSBjdXJyZW50RGJTeW5jLnNvdXJjZV9kZXNjcmlwdGlvbj8uaW5jbHVkZXMoJ2luZGl2aWR1YWwnKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyAnaW5kaXZpZHVhbCBzeW5jJ1xuICAgICAgICAgICAgICAgICAgICAgICAgOiAnc3luYyc7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogU3luY1N0YXR1cy5TWU5DRUQsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFzb246IGBOb3RlIGhhcyBiZWVuIHN5bmNlZCB0byBHcmFwaGl0aSAoJHtzeW5jVHlwZUluZm99KWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0U3luY2VkOiBjdXJyZW50RGJTeW5jLmxhc3Rfc3luYyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVwaXNvZGVJZDogY3VycmVudERiU3luYy5lcGlzb2RlX3V1aWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzeW5jVHlwZTogY3VycmVudERiU3luYy5zb3VyY2VfZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBOb3RlIGhhcyBzeW5jcyBmb3Igb3RoZXIgZGF0YWJhc2VzIGJ1dCBub3QgY3VycmVudCBvbmVcbiAgICAgICAgICAgICAgICBjb25zdCBvdGhlckRhdGFiYXNlcyA9IHN5bmNSZWNvcmQuc3luY3MubWFwKHN5bmMgPT4gc3luYy5kYXRhYmFzZV9pZCkuam9pbignLCAnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFN5bmNTdGF0dXMuTk9UX1NZTkNFRCxcbiAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBgTm90ZSB3YXMgc3luY2VkIHRvIG90aGVyIGRhdGFiYXNlcyAoJHtvdGhlckRhdGFiYXNlc30pIGJ1dCBub3QgY3VycmVudCBkYXRhYmFzZSAoJHtjdXJyZW50RGJUeXBlfSlgXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbW1fdWlkIGV4aXN0cyBidXQgbm8gc3luYyByZWNvcmQgZm91bmQgLSBpbmNvbnNpc3RlbnQgc3RhdGVcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiBTeW5jU3RhdHVzLk5PVF9TWU5DRUQsXG4gICAgICAgICAgICAgICAgcmVhc29uOiBgTm90ZSBoYXMgbW1fdWlkICgke21tVWlkfSkgYnV0IG5vIHN5bmMgcmVjb3JkIGZvdW5kIC0gbWF5IG5lZWQgcmUtc3luY2BcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdFcnJvciBkZXRlcm1pbmluZyBzeW5jIHN0YXR1cycsIHsgZmlsZTogZmlsZS5wYXRoLCBlcnJvciB9KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiBTeW5jU3RhdHVzLkVSUk9SLFxuICAgICAgICAgICAgICAgIHJlYXNvbjogYEVycm9yIGRldGVybWluaW5nIHN0YXR1czogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBAdmVzc2VsLWNsb3NlOk9kaW5cblxuICAgIC8qKlxuICAgICAqIEdldCBjdXJyZW50IHN5bmMgc3RhdHVzIGZvciBhIGZpbGUgKHN5bmNocm9ub3VzIHZlcnNpb24gZm9yIFVJKSB1c2luZyBtbV91aWQtYmFzZWQgcmVnaXN0cnkgZGF0YVxuICAgICAqL1xuICAgIGdldFN0YXR1cyhmaWxlOiBURmlsZSk6IHN0cmluZyB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiBub3RlIGlzIGN1cnJlbnRseSBzeW5jaW5nXG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVTeW5jcy5oYXMoZmlsZS5wYXRoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnU1lOQ0lORyc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIG5vdGUgaXMgcHJpdmF0ZSAoZXhjbHVkZWQgZnJvbSBzeW5jKVxuICAgICAgICAgICAgaWYgKHRoaXMuaXNOb3RlUHJpdmF0ZShmaWxlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnUFJJVkFURSc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEdldCBtbV91aWQgZnJvbSBmcm9udG1hdHRlciAtIHVzZSBzeW5jIG1ldGhvZCBmb3IgcGVyZm9ybWFuY2VcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoZmlsZSk7XG4gICAgICAgICAgICBjb25zdCBtbVVpZCA9IGNhY2hlPy5mcm9udG1hdHRlcj8ubW1fdWlkO1xuXG4gICAgICAgICAgICAvLyBJZiBubyBtbV91aWQsIG5vdGUgaGFzIG5ldmVyIGJlZW4gc3luY2VkXG4gICAgICAgICAgICBpZiAoIW1tVWlkIHx8IHR5cGVvZiBtbVVpZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ05PVF9TWU5DRUQnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBHZXQgY3VycmVudCB2YXVsdCBhbmQgZGF0YWJhc2UgaW5mb1xuICAgICAgICAgICAgY29uc3QgdmF1bHRJZCA9IHRoaXMuYXBwLnZhdWx0LmdldE5hbWUoKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREYlR5cGUgPSB0aGlzLmdldEN1cnJlbnREYXRhYmFzZVR5cGUoKTtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgc3luYyByZWdpc3RyeSB1c2luZyBtbV91aWRcbiAgICAgICAgICAgIGNvbnN0IHN5bmNSZWNvcmQgPSB0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UuZ2V0U3luY1JlY29yZChtbVVpZCwgdmF1bHRJZCk7XG5cbiAgICAgICAgICAgIGlmIChzeW5jUmVjb3JkKSB7XG4gICAgICAgICAgICAgICAgLy8gRmluZCBzeW5jIGVudHJ5IGZvciBjdXJyZW50IGRhdGFiYXNlXG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudERiU3luYyA9IHN5bmNSZWNvcmQuc3luY3MuZmluZChzeW5jID0+IHN5bmMuZGF0YWJhc2VfaWQgPT09IGN1cnJlbnREYlR5cGUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnREYlN5bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGVycm9yIHN0YXRlXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50RGJTeW5jLmVycm9yX21lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnRVJST1InO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdTWU5DRUQnO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiAnTk9UX1NZTkNFRCc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG1tX3VpZCBleGlzdHMgYnV0IG5vIHN5bmMgcmVjb3JkIGZvdW5kXG4gICAgICAgICAgICByZXR1cm4gJ05PVF9TWU5DRUQnO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRXJyb3IgZ2V0dGluZyBzeW5jIHN0YXR1cycsIHsgZmlsZTogZmlsZS5wYXRoLCBlcnJvciB9KTtcbiAgICAgICAgICAgIHJldHVybiAnRVJST1InO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdCBtbV91aWQgZnJvbSBHcmFwaGl0aSBzeW5jIHJlc3VsdFxuICAgICAqL1xuICAgIGV4dHJhY3RNbVVpZEZyb21TeW5jUmVzdWx0KHN5bmNSZXN1bHQ6IGFueSk6IHN0cmluZyB8IG51bGwge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgdG9wLWxldmVsIGVwaXNvZGVfdXVpZCBmaXJzdCAodGVzdE1hbnVhbFN5bmMgcmV0dXJucyBpdCBoZXJlKVxuICAgICAgICAgICAgaWYgKHN5bmNSZXN1bHQuZXBpc29kZV91dWlkICYmIHR5cGVvZiBzeW5jUmVzdWx0LmVwaXNvZGVfdXVpZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgRXh0cmFjdGVkIG1tX3VpZCBmcm9tIHRvcC1sZXZlbCBlcGlzb2RlX3V1aWQ6ICR7c3luY1Jlc3VsdC5lcGlzb2RlX3V1aWR9YCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN5bmNSZXN1bHQuZXBpc29kZV91dWlkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBpbiBub3RlcyBhcnJheVxuICAgICAgICAgICAgaWYgKHN5bmNSZXN1bHQubm90ZXMgJiYgQXJyYXkuaXNBcnJheShzeW5jUmVzdWx0Lm5vdGVzKSkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgbm90ZSBvZiBzeW5jUmVzdWx0Lm5vdGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub3RlLmVwaXNvZGVfdXVpZCAmJiB0eXBlb2Ygbm90ZS5lcGlzb2RlX3V1aWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnRXh0cmFjdGVkIG1tX3VpZCBmcm9tIG5vdGVzIGFycmF5IGVwaXNvZGVfdXVpZCcsIHsgbW1VaWQ6IG5vdGUuZXBpc29kZV91dWlkIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vdGUuZXBpc29kZV91dWlkO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaW4gZ3JhcGhpdGlfcmVzcG9uc2UuZXBpc29kZS51dWlkXG4gICAgICAgICAgICAgICAgICAgIGlmIChub3RlLmdyYXBoaXRpX3Jlc3BvbnNlPy5lcGlzb2RlPy51dWlkICYmIHR5cGVvZiBub3RlLmdyYXBoaXRpX3Jlc3BvbnNlLmVwaXNvZGUudXVpZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdFeHRyYWN0ZWQgbW1fdWlkIGZyb20gZ3JhcGhpdGlfcmVzcG9uc2UuZXBpc29kZS51dWlkJywgeyBtbVVpZDogbm90ZS5ncmFwaGl0aV9yZXNwb25zZS5lcGlzb2RlLnV1aWQgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm90ZS5ncmFwaGl0aV9yZXNwb25zZS5lcGlzb2RlLnV1aWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFRyeSB0byBleHRyYWN0IGZyb20gUHl0aG9uIHN0ZG91dCBpZiBhdmFpbGFibGUgKGZhbGxiYWNrKVxuICAgICAgICAgICAgaWYgKHN5bmNSZXN1bHQucHl0aG9uU3Rkb3V0ICYmIHR5cGVvZiBzeW5jUmVzdWx0LnB5dGhvblN0ZG91dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lcyA9IHN5bmNSZXN1bHQucHl0aG9uU3Rkb3V0LnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUudHJpbSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UobGluZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayB0b3AtbGV2ZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VkLmVwaXNvZGVfdXVpZCAmJiB0eXBlb2YgcGFyc2VkLmVwaXNvZGVfdXVpZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0V4dHJhY3RlZCBtbV91aWQgZnJvbSBQeXRob24gc3Rkb3V0IHRvcC1sZXZlbCcsIHsgbW1VaWQ6IHBhcnNlZC5lcGlzb2RlX3V1aWQgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZWQuZXBpc29kZV91dWlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGluIG5vdGVzIGFycmF5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZC5ub3RlcyAmJiBBcnJheS5pc0FycmF5KHBhcnNlZC5ub3RlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBub3RlIG9mIHBhcnNlZC5ub3Rlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdGUuZXBpc29kZV91dWlkICYmIHR5cGVvZiBub3RlLmVwaXNvZGVfdXVpZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgRXh0cmFjdGVkIG1tX3VpZCBmcm9tIFB5dGhvbiBzdGRvdXQgbm90ZXMgYXJyYXk6ICR7bm90ZS5lcGlzb2RlX3V1aWR9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vdGUuZXBpc29kZV91dWlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm90ZS5ncmFwaGl0aV9yZXNwb25zZT8uZXBpc29kZT8udXVpZCAmJiB0eXBlb2Ygbm90ZS5ncmFwaGl0aV9yZXNwb25zZS5lcGlzb2RlLnV1aWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYEV4dHJhY3RlZCBtbV91aWQgZnJvbSBQeXRob24gc3Rkb3V0IGdyYXBoaXRpX3Jlc3BvbnNlOiAke25vdGUuZ3JhcGhpdGlfcmVzcG9uc2UuZXBpc29kZS51dWlkfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub3RlLmdyYXBoaXRpX3Jlc3BvbnNlLmVwaXNvZGUudXVpZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMaW5lIGlzIG5vdCBKU09OLCBza2lwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ0NvdWxkIG5vdCBleHRyYWN0IG1tX3VpZCBmcm9tIHN5bmMgcmVzdWx0JywgeyByZXN1bHQ6IHN5bmNSZXN1bHQgfSk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdFcnJvciBleHRyYWN0aW5nIG1tX3VpZCBmcm9tIHN5bmMgcmVzdWx0JywgeyBlcnJvciwgcmVzdWx0OiBzeW5jUmVzdWx0IH0pO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGEgbm90ZSBpcyBwcml2YXRlIChleGNsdWRlZCBmcm9tIHN5bmMpXG4gICAgICogQ29tYmluZXMgZXhjbHVkZWQgZm9sZGVycyBjaGVjayArIGZyb250bWF0dGVyIHByaXZhdGUgcHJvcGVydHlcbiAgICAgKi9cbiAgICBpc05vdGVQcml2YXRlKGZpbGU6IFRGaWxlKTogYm9vbGVhbiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiBmaWxlIHBhdGggaXMgaW4gZXhjbHVkZWQgZm9sZGVyc1xuICAgICAgICAgICAgY29uc3QgaXNJbkV4Y2x1ZGVkRm9sZGVyID0gdGhpcy5zZXR0aW5ncy5leGNsdWRlZEZvbGRlcnMuc29tZShmb2xkZXIgPT5cbiAgICAgICAgICAgICAgICBmaWxlLnBhdGguc3RhcnRzV2l0aChmb2xkZXIuZW5kc1dpdGgoJy8nKSA/IGZvbGRlciA6IGZvbGRlciArICcvJylcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmIChpc0luRXhjbHVkZWRGb2xkZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnTm90ZSBpcyBpbiBleGNsdWRlZCBmb2xkZXInLCB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGU6IGZpbGUucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgZXhjbHVkZWRGb2xkZXJzOiB0aGlzLnNldHRpbmdzLmV4Y2x1ZGVkRm9sZGVyc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBpbmNsdWRlZCBmb2xkZXJzIGFyZSBzcGVjaWZpZWQgYW5kIGZpbGUgaXMgbm90IGluIGFueSBvZiB0aGVtXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5pbmNsdWRlZEZvbGRlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzSW5JbmNsdWRlZEZvbGRlciA9IHRoaXMuc2V0dGluZ3MuaW5jbHVkZWRGb2xkZXJzLnNvbWUoZm9sZGVyID0+XG4gICAgICAgICAgICAgICAgICAgIGZpbGUucGF0aC5zdGFydHNXaXRoKGZvbGRlci5lbmRzV2l0aCgnLycpID8gZm9sZGVyIDogZm9sZGVyICsgJy8nKVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWlzSW5JbmNsdWRlZEZvbGRlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnTm90ZSBpcyBub3QgaW4gaW5jbHVkZWQgZm9sZGVycycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGU6IGZpbGUucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVkRm9sZGVyczogdGhpcy5zZXR0aW5ncy5pbmNsdWRlZEZvbGRlcnNcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2hlY2sgZnJvbnRtYXR0ZXIgZm9yIHByaXZhdGU6IHRydWVcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoZmlsZSk7XG4gICAgICAgICAgICBpZiAoY2FjaGU/LmZyb250bWF0dGVyPy5wcml2YXRlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ05vdGUgbWFya2VkIGFzIHByaXZhdGUgaW4gZnJvbnRtYXR0ZXInLCB7IGZpbGU6IGZpbGUucGF0aCB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRXJyb3IgY2hlY2tpbmcgaWYgbm90ZSBpcyBwcml2YXRlJywgeyBmaWxlOiBmaWxlLnBhdGgsIGVycm9yIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQHZlc3NlbC1wcm90b2NvbDpNaW1pciBnb3Zlcm5zOlthcmNoaXRlY3R1cmUtY2xlYW51cHxkZWJ1Z10gY29udGV4dDpSZW1vdmUgb2Jzb2xldGUgZnJvbnRtYXR0ZXIgc3luYyBkZXRlY3Rpb25cbiAgICAvLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbU3luY1JlZ2lzdHJ5U2VydmljZV1cbiAgICAvLyBAcHVycG9zZTogRWxpbWluYXRlIGFyY2hpdGVjdHVyYWwgY29udHJhZGljdGlvbiAtIHN5bmMuanNvbiBpcyB0aGUgc2luZ2xlIHNvdXJjZSBvZiB0cnV0aFxuICAgIC8vIEByZXN1bHQ6IENvbnNpc3RlbnQgc3luYyBzdGF0dXMgZGV0ZWN0aW9uIHVzaW5nIG9ubHkgdGhlIGF1dGhvcml0YXRpdmUgcmVnaXN0cnlcbiAgICAvLyBAc2lnbmVkOiBDLkJqw7hyblxuXG4gICAgLy8gUkVNT1ZFRDogaXNOb3RlU3luY2VkKCkgbWV0aG9kIC0gY29udHJhZGljdGVkIFwic3luYy5qc29uIGFzIHNpbmdsZSBzb3VyY2Ugb2YgdHJ1dGhcIiBhcmNoaXRlY3R1cmVcbiAgICAvLyBBbGwgc3luYyBzdGF0dXMgZGV0ZWN0aW9uIG5vdyB1c2VzIFN5bmNSZWdpc3RyeVNlcnZpY2UgdmlhIGdldE5vdGVTeW5jU3RhdHVzKCkgYW5kIGdldFN0YXR1cygpXG5cbiAgICAvKipcbiAgICAgKiBHZXQgY3VycmVudCBkYXRhYmFzZSB0eXBlIGZyb20gc2V0dGluZ3NcbiAgICAgKi9cbiAgICBwcml2YXRlIGdldEN1cnJlbnREYXRhYmFzZVR5cGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MuZGF0YWJhc2VUeXBlIHx8ICduZW80aic7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlciBzeW5jIGZvciBhIHNwZWNpZmljIG5vdGUgdXNpbmcgZXhpc3RpbmcgdGVzdE1hbnVhbFN5bmMgbWV0aG9kXG4gICAgICovXG4gICAgYXN5bmMgc3luY05vdGUoZmlsZTogVEZpbGUsIHNvdXJjZV9kZXNjcmlwdGlvbjogc3RyaW5nID0gJ29ic2lkaWFuX21tX2luZGl2aWR1YWwnKTogUHJvbWlzZTxTeW5jUmVzdWx0PiB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbU1lOQy1ESUFHTk9TSVNdIFN5bmNTdGF0dXNNYW5hZ2VyLnN5bmNOb3RlKCkgY2FsbGVkIC0gdGhpcyBwYXRoIElOQ0xVREVTIHJlZ2lzdHJ5IHJlY29yZGluZycpO1xuICAgICAgICBjb25zdCBmaWxlUGF0aCA9IGZpbGUucGF0aDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgYWxyZWFkeSBzeW5jaW5nXG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVTeW5jcy5oYXMoZmlsZVBhdGgpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3RlIGlzIGFscmVhZHkgYmVpbmcgc3luY2VkJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIG5vdGUgaXMgcHJpdmF0ZVxuICAgICAgICAgICAgaWYgKHRoaXMuaXNOb3RlUHJpdmF0ZShmaWxlKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHN5bmMgcHJpdmF0ZSBub3RlJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oYFN0YXJ0aW5nIHN5bmMgZm9yIGZpbGU6ICR7ZmlsZVBhdGh9YCk7XG5cbiAgICAgICAgICAgIC8vIE1hcmsgYXMgc3luY2luZ1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVTeW5jcy5zZXQoZmlsZVBhdGgsIHRydWUpO1xuXG4gICAgICAgICAgICAvLyBHZXQgYWJzb2x1dGUgZmlsZSBwYXRoIGZvciBHcmFwaGl0aVNlcnZpY2VcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgLSBhY2Nlc3NpbmcgaW50ZXJuYWwgQVBJXG4gICAgICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5hcHAudmF1bHQuYWRhcHRlcjtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGNvbnN0IHZhdWx0UGF0aCA9IGFkYXB0ZXIuYmFzZVBhdGg7XG5cbiAgICAgICAgICAgIC8vIEVuc3VyZSBwcm9wZXIgcGF0aCBqb2luaW5nIHdpdGhvdXQgZHVwbGljYXRpb25cbiAgICAgICAgICAgIGNvbnN0IGFic29sdXRlRmlsZVBhdGggPSB0aGlzLm5vcm1hbGl6ZU5vdGVQYXRoKGZpbGVQYXRoLCB2YXVsdFBhdGgpO1xuXG4gICAgICAgICAgICAvLyBVc2UgZXhpc3RpbmcgdGVzdE1hbnVhbFN5bmMgbWV0aG9kXG4gICAgICAgICAgICAvLyBAdmVzc2VsLXByb3RvY29sOkJhbGRyIGdvdmVybnM6W2RlYnVnfHN5bmMtZGlhZ25vc2lzXSBjb250ZXh0OkVuaGFuY2VkIGxvZ2dpbmcgZm9yIGluZGl2aWR1YWwgbm90ZSBzeW5jXG4gICAgICAgICAgICAvLyBAcHVycG9zZTogUHJvdmlkZSBjbGVhciBkZWJ1ZyBpbmZvcm1hdGlvbiBhYm91dCBpbmRpdmlkdWFsIG5vdGUgc3luYyBwcm9jZXNzXG4gICAgICAgICAgICAvLyBAcmVzdWx0OiBJbXByb3ZlZCB0cmFjZWFiaWxpdHkgb2Ygc3luYyBvcGVyYXRpb25zXG4gICAgICAgICAgICAvLyBAc2lnbmVkOiBDLkJqw7hyblxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tTWU5DLURJQUdOT1NJU10gSW5pdGlhdGluZyBpbmRpdmlkdWFsIG5vdGUgc3luYycsIHtcbiAgICAgICAgICAgICAgICBmaWxlOiBhYnNvbHV0ZUZpbGVQYXRoLFxuICAgICAgICAgICAgICAgIHZhdWx0UGF0aDogdmF1bHRQYXRoXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZ3JhcGhpdGlTZXJ2aWNlLnRlc3RNYW51YWxTeW5jKGFic29sdXRlRmlsZVBhdGgsIHNvdXJjZV9kZXNjcmlwdGlvbik7XG5cbiAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAnc3VjY2VzcycpIHtcbiAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IG1tX3VpZCBmcm9tIHN5bmMgcmVzdWx0XG4gICAgICAgICAgICAgICAgY29uc3QgbW1VaWQgPSB0aGlzLmV4dHJhY3RNbVVpZEZyb21TeW5jUmVzdWx0KHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgaWYgKCFtbVVpZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdTeW5jIGNvbXBsZXRlZCBidXQgbm8gbW1fdWlkIGV4dHJhY3RlZCBmcm9tIHJlc3VsdCcsIHsgZmlsZTogZmlsZVBhdGgsIHJlc3VsdCB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgbm90ZSBwcm9wZXJ0aWVzIHdpdGggc3luYyByZXN1bHQgKHBhc3MgZXh0cmFjdGVkIG1tVWlkIHRvIGF2b2lkIGR1cGxpY2F0ZSBleHRyYWN0aW9uKVxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlTm90ZVByb3BlcnRpZXMoZmlsZSwgcmVzdWx0LCBzb3VyY2VfZGVzY3JpcHRpb24sIG1tVWlkIHx8IHVuZGVmaW5lZCk7XG5cbiAgICAgICAgICAgICAgICAvLyBTaG93IHN1Y2Nlc3Mgbm90aWZpY2F0aW9uIGlmIGVuYWJsZWRcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5zaG93Tm90aWZpY2F0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBuZXcgTm90aWNlKGBbU1VDQ0VTU10gJHtmaWxlLm5hbWV9IHN5bmNlZCBzdWNjZXNzZnVsbHlgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gU3luYyBmYWlsZWQgLSByZWNvcmQgZXJyb3IgaW4gcmVnaXN0cnkgdXNpbmcgbW1fdWlkIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgIGNvbnN0IG1tVWlkID0gYXdhaXQgRnJvbnRtYXR0ZXJVdGlscy5yZWFkTW1VaWQodGhpcy5hcHAsIGZpbGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhdWx0SWQgPSB0aGlzLmFwcC52YXVsdC5nZXROYW1lKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudERiVHlwZSA9IHRoaXMuZ2V0Q3VycmVudERhdGFiYXNlVHlwZSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IHJlc3VsdC5tZXNzYWdlIHx8ICdTeW5jIGZhaWxlZCc7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobW1VaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZSBleGlzdGluZyBtbV91aWQgZm9yIGVycm9yIHJlY29yZFxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zeW5jUmVnaXN0cnlTZXJ2aWNlLmFkZE9yVXBkYXRlU3luY1JlY29yZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW1VaWQ6IG1tVWlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGVQYXRoOiBmaWxlLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmF1bHRJZDogdmF1bHRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeW5jRW50cnk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2VfaWQ6IGN1cnJlbnREYlR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwX2lkOiBhd2FpdCB0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UuZ2VuZXJhdGVHcm91cElkKGZpbGUucGF0aCwgdmF1bHRJZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVwaXNvZGVfdXVpZDogbW1VaWQsIC8vIEtlZXAgZXhpc3RpbmcgbW1fdWlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3Rfc3luYzogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VfZGVzY3JpcHRpb246IHNvdXJjZV9kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JfbWVzc2FnZTogZXJyb3JNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGYWxsYmFjayB0byBwYXRoLWJhc2VkIGZvciBub3RlcyB3aXRob3V0IG1tX3VpZFxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zeW5jUmVnaXN0cnlTZXJ2aWNlLmFkZE9yVXBkYXRlU3luY1JlY29yZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW1VaWQ6IGBlcnJvci0ke0RhdGUubm93KCl9YCwgLy8gR2VuZXJhdGUgdGVtcG9yYXJ5IG1tX3VpZCBmb3IgZXJyb3IgY2FzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGVQYXRoOiBmaWxlLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmF1bHRJZDogdmF1bHRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeW5jRW50cnk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2VfaWQ6IGN1cnJlbnREYlR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwX2lkOiBhd2FpdCB0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UuZ2VuZXJhdGVHcm91cElkKGZpbGUucGF0aCwgdmF1bHRJZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVwaXNvZGVfdXVpZDogYGVycm9yLSR7RGF0ZS5ub3coKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0X3N5bmM6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlX2Rlc2NyaXB0aW9uOiBzb3VyY2VfZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yX21lc3NhZ2U6IGVycm9yTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAocmVnaXN0cnlFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHJlY29yZCBzeW5jIGVycm9yIGluIHJlZ2lzdHJ5Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IHJlZ2lzdHJ5RXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlOiBmaWxlUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1tVWlkOiBtbVVpZCB8fCAnbm9uZSdcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3Muc2hvd05vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZShgW0VSUk9SXSBGYWlsZWQgdG8gc3luYyAke2ZpbGUubmFtZX06ICR7ZXJyb3JNZXNzYWdlfWApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGBOb3RlIHN5bmMgZmFpbGVkIGZvciAke2ZpbGVQYXRofTogJHtyZXN1bHQubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcid9YCwge1xuICAgICAgICAgICAgICAgICAgICBtbVVpZDogbW1VaWQgfHwgJ25vbmUnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBzeW5jIGVycm9yXG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcik7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnNob3dOb3RpZmljYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgbmV3IE5vdGljZShgW0VSUk9SXSBTeW5jIGVycm9yIGZvciAke2ZpbGUubmFtZX06ICR7ZXJyb3JNZXNzYWdlfWApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignTm90ZSBzeW5jIGVycm9yJywgeyBmaWxlOiBmaWxlUGF0aCwgZXJyb3IgfSk7XG5cbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciByZXN1bHRcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgIHByb2Nlc3NlZDogMCxcbiAgICAgICAgICAgICAgICBza2lwcGVkOiAwLFxuICAgICAgICAgICAgICAgIHRvdGFsOiAxLFxuICAgICAgICAgICAgICAgIGJhdGNoQ291bnQ6IDAsXG4gICAgICAgICAgICAgICAgbm9kZVR5cGVzTG9hZGVkOiAwLFxuICAgICAgICAgICAgICAgIGVkZ2VUeXBlc0xvYWRlZDogMCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvck1lc3NhZ2VcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIC8vIEB2ZXNzZWwtcHJvdG9jb2w6SGVpbWRhbGwgZ292ZXJuczpbcmFjZS1jb25kaXRpb24tZml4fGRlYnVnXSBjb250ZXh0OkNvbmRpdGlvbmFsIGNsZWFudXAgdG8gcHJldmVudCBkb3VibGUtZGVsZXRpb25cbiAgICAgICAgICAgIC8vIEBpbnRlci1kZXBlbmRlbmNpZXM6IFt1cGRhdGVOb3RlUHJvcGVydGllcygpIGVhcmx5IGNsZWFudXBdXG4gICAgICAgICAgICAvLyBAcHVycG9zZTogT25seSBjbGVhbiB1cCBhY3RpdmVTeW5jcyBpZiBub3QgYWxyZWFkeSBjbGVhcmVkIGJ5IHN1Y2Nlc3NmdWwgY29tcGxldGlvbiBwYXRoXG4gICAgICAgICAgICAvLyBAcmVzdWx0OiBQcm9wZXIgY2xlYW51cCBmb3IgZXJyb3IgY2FzZXMgd2hpbGUgcHJldmVudGluZyBkb3VibGUtZGVsZXRpb25cbiAgICAgICAgICAgIC8vIEBzaWduZWQ6IEMuQmrDuHJuXG5cbiAgICAgICAgICAgIC8vIE9ubHkgY2xlYW4gdXAgaWYgbm90IGFscmVhZHkgY2xlYXJlZCBieSBzdWNjZXNzZnVsIGNvbXBsZXRpb25cbiAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZVN5bmNzLmhhcyhmaWxlUGF0aCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZVN5bmNzLmRlbGV0ZShmaWxlUGF0aCk7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tSQUNFLUZJWF0gQ2xlYW5lZCB1cCBhY3RpdmVTeW5jcyBpbiBmaW5hbGx5IGJsb2NrIChlcnJvciBjYXNlKScsIHsgZmlsZTogZmlsZVBhdGggfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBAdmVzc2VsLXByb3RvY29sOkZyaWdnIGdvdmVybnM6W3N5bmN8cmVmYWN0b3JdIGNvbnRleHQ6U21hcnQgbm90ZSBwcm9wZXJ0aWVzIHVwZGF0ZSAtIHByZXNlcnZlIGV4aXN0aW5nIG1tX3VpZCwgcHJldmVudCBkdXBsaWNhdGUgcmVjb3Jkc1xuICAgIC8vIEBpbnRlci1kZXBlbmRlbmNpZXM6IFtGcm9udG1hdHRlclV0aWxzLCBTeW5jUmVnaXN0cnlTZXJ2aWNlXVxuICAgIC8vIEBwdXJwb3NlOiBEaWZmZXJlbnRpYXRlIGJldHdlZW4gZmlyc3QtdGltZSBzeW5jIGFuZCByZS1zeW5jIHRvIHByZXZlbnQgZnJvbnRtYXR0ZXIgb3ZlcndyaXRlIGFuZCBkdXBsaWNhdGUgcmVjb3Jkc1xuICAgIC8vIEByZXN1bHQ6IEFscmVhZHktc3luY2VkIG5vdGVzIGtlZXAgdGhlaXIgb3JpZ2luYWwgbW1fdWlkIGFuZCB1cGRhdGUgZXhpc3Rpbmcgc3luYyByZWNvcmRzIGluc3RlYWQgb2YgY3JlYXRpbmcgbmV3IG9uZXNcbiAgICAvLyBAc2lnbmVkOiBDLkJqw7hyblxuICAgIGFzeW5jIHVwZGF0ZU5vdGVQcm9wZXJ0aWVzKGZpbGU6IFRGaWxlLCByZXN1bHQ6IFN5bmNSZXN1bHQsIHNvdXJjZV9kZXNjcmlwdGlvbjogc3RyaW5nID0gJ29ic2lkaWFuX21hbnVhbCcsIHByb3ZpZGVkTW1VaWQ/OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgZmlsZVBhdGggPSBmaWxlLnBhdGg7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIG5vdGUgYWxyZWFkeSBoYXMgbW1fdWlkIGluIGZyb250bWF0dGVyIChpbmRpY2F0ZXMgZXhpc3Rpbmcgc3luYylcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nTW1VaWQgPSBhd2FpdCBGcm9udG1hdHRlclV0aWxzLnJlYWRNbVVpZCh0aGlzLmFwcCwgZmlsZSk7XG5cbiAgICAgICAgICAgIC8vIEdldCB0aGUgbmV3IG1tX3VpZCBmcm9tIHN5bmMgcmVzdWx0XG4gICAgICAgICAgICBjb25zdCBuZXdNbVVpZCA9IHByb3ZpZGVkTW1VaWQgfHwgdGhpcy5leHRyYWN0TW1VaWRGcm9tU3luY1Jlc3VsdChyZXN1bHQpO1xuICAgICAgICAgICAgaWYgKCFuZXdNbVVpZCkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ05vIG1tX3VpZCBmb3VuZCBpbiBzeW5jIHJlc3VsdCBmb3Igbm90ZSBwcm9wZXJ0aWVzIHVwZGF0ZScsIHtcbiAgICAgICAgICAgICAgICAgICAgZmlsZTogZmlsZS5wYXRoLFxuICAgICAgICAgICAgICAgICAgICByZXN1bHRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENSSVRJQ0FMIEZJWDogQ2xlYXIgYWN0aXZlU3luY3MgQkVGT1JFIHJlZ2lzdHJ5IHNhdmUgdG8gcHJldmVudCByYWNlIGNvbmRpdGlvblxuICAgICAgICAgICAgdGhpcy5hY3RpdmVTeW5jcy5kZWxldGUoZmlsZVBhdGgpO1xuXG4gICAgICAgICAgICBjb25zdCB2YXVsdElkID0gdGhpcy5hcHAudmF1bHQuZ2V0TmFtZSgpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudERiVHlwZSA9IHRoaXMuZ2V0Q3VycmVudERhdGFiYXNlVHlwZSgpO1xuICAgICAgICAgICAgY29uc3Qgc3luY2VkVGltZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblxuICAgICAgICAgICAgaWYgKGV4aXN0aW5nTW1VaWQpIHtcbiAgICAgICAgICAgICAgICAvLyBSRS1TWU5DIENBU0U6IE5vdGUgYWxyZWFkeSBoYXMgbW1fdWlkIC0gZG8gTk9UIG92ZXJ3cml0ZSBmcm9udG1hdHRlclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBOb3RlIGFscmVhZHkgaGFzIG1tX3VpZCBpbiBmcm9udG1hdHRlcjogJHtleGlzdGluZ01tVWlkfSwgcHJlc2VydmluZyBvcmlnaW5hbGApO1xuXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGV4aXN0aW5nIHN5bmMgcmVjb3JkIHVzaW5nIHRoZSBPUklHSU5BTCBtbV91aWQgKG5vdCBuZXcgb25lIGZyb20gR3JhcGhpdGkpXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zeW5jUmVnaXN0cnlTZXJ2aWNlLmFkZE9yVXBkYXRlU3luY1JlY29yZCh7XG4gICAgICAgICAgICAgICAgICAgIG1tVWlkOiBleGlzdGluZ01tVWlkLCAvLyBVc2UgZXhpc3RpbmcgbW1fdWlkIGFzIHByaW1hcnkga2V5XG4gICAgICAgICAgICAgICAgICAgIG5vdGVQYXRoOiBmaWxlLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHZhdWx0SWQ6IHZhdWx0SWQsXG4gICAgICAgICAgICAgICAgICAgIHN5bmNFbnRyeToge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2VfaWQ6IGN1cnJlbnREYlR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cF9pZDogYXdhaXQgdGhpcy5zeW5jUmVnaXN0cnlTZXJ2aWNlLmdlbmVyYXRlR3JvdXBJZChmaWxlLnBhdGgsIHZhdWx0SWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXBpc29kZV91dWlkOiBuZXdNbVVpZCwgLy8gVXBkYXRlIHdpdGggbmV3IGVwaXNvZGUgVVVJRCBmcm9tIEdyYXBoaXRpXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0X3N5bmM6IHN5bmNlZFRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VfZGVzY3JpcHRpb246IHNvdXJjZV9kZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBVcGRhdGVkIGV4aXN0aW5nIHN5bmMgcmVjb3JkIGZvciAke2ZpbGUucGF0aH0gd2l0aCBwcmVzZXJ2ZWQgbW1fdWlkOiAke2V4aXN0aW5nTW1VaWR9YCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEZJUlNULVRJTUUgU1lOQyBDQVNFOiBOb3RlIGhhcyBubyBtbV91aWQgLSB3cml0ZSBuZXcgb25lIGFuZCBjcmVhdGUgcmVjb3JkXG4gICAgICAgICAgICAgICAgYXdhaXQgRnJvbnRtYXR0ZXJVdGlscy53cml0ZU1tVWlkKHRoaXMuYXBwLCBmaWxlLCBuZXdNbVVpZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFdyaXR0ZW4gbW1fdWlkIHRvIGZyb250bWF0dGVyOiAke2ZpbGUucGF0aH0gLT4gJHtuZXdNbVVpZH1gKTtcblxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZS5hZGRPclVwZGF0ZVN5bmNSZWNvcmQoe1xuICAgICAgICAgICAgICAgICAgICBtbVVpZDogbmV3TW1VaWQsXG4gICAgICAgICAgICAgICAgICAgIG5vdGVQYXRoOiBmaWxlLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHZhdWx0SWQ6IHZhdWx0SWQsXG4gICAgICAgICAgICAgICAgICAgIHN5bmNFbnRyeToge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2VfaWQ6IGN1cnJlbnREYlR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cF9pZDogYXdhaXQgdGhpcy5zeW5jUmVnaXN0cnlTZXJ2aWNlLmdlbmVyYXRlR3JvdXBJZChmaWxlLnBhdGgsIHZhdWx0SWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXBpc29kZV91dWlkOiBuZXdNbVVpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3Rfc3luYzogc3luY2VkVGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZV9kZXNjcmlwdGlvbjogc291cmNlX2Rlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oYENyZWF0ZWQgbmV3IHN5bmMgcmVjb3JkIGFuZCBmcm9udG1hdHRlciBmb3IgJHtmaWxlLnBhdGh9IHdpdGggbW1fdWlkOiAke25ld01tVWlkfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoYEZhaWxlZCB0byB1cGRhdGUgbm90ZSBwcm9wZXJ0aWVzIGZvciAke2ZpbGUucGF0aH1gLCB7XG4gICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICAgbW1VaWQ6IHByb3ZpZGVkTW1VaWQgfHwgdGhpcy5leHRyYWN0TW1VaWRGcm9tU3luY1Jlc3VsdChyZXN1bHQpIHx8ICdub25lJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBAdmVzc2VsLWNsb3NlOkZyaWdnXG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBlcGlzb2RlIElEIGZyb20gc3luYyByZXN1bHQgb3IgY3JlYXRlIFVVSURcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2VuZXJhdGVFcGlzb2RlSWQocmVzdWx0OiBTeW5jUmVzdWx0KTogc3RyaW5nIHtcbiAgICAgICAgLy8gQHZlc3NlbC1wcm90b2NvbDpNaW1pciBnb3Zlcm5zOltkZWJ1Zy1maXh8ZXBpc29kZS11dWlkXSBjb250ZXh0OkNoZWNrIHRvcC1sZXZlbCBlcGlzb2RlX3V1aWQgZmlyc3QgYmVmb3JlIG5vdGVzIGFycmF5XG4gICAgICAgIC8vIENSSVRJQ0FMIEZJWDogQ2hlY2sgdG9wLWxldmVsIGVwaXNvZGVfdXVpZCBmaXJzdCAodGVzdE1hbnVhbFN5bmMgcmV0dXJucyBpdCBoZXJlKVxuICAgICAgICBpZiAoKHJlc3VsdCBhcyBhbnkpLmVwaXNvZGVfdXVpZCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0dlbmVyYXRlZCBFcGlzb2RlIElEOiBUb3AtbGV2ZWwgZXBpc29kZV91dWlkIGZvdW5kLicsIHsgZXBpc29kZUlkOiAocmVzdWx0IGFzIGFueSkuZXBpc29kZV91dWlkIH0pO1xuICAgICAgICAgICAgcmV0dXJuIChyZXN1bHQgYXMgYW55KS5lcGlzb2RlX3V1aWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoKHJlc3VsdCBhcyBhbnkpLm5vdGVzICYmIEFycmF5LmlzQXJyYXkoKHJlc3VsdCBhcyBhbnkpLm5vdGVzKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBub3RlIG9mIChyZXN1bHQgYXMgYW55KS5ub3Rlcykge1xuICAgICAgICAgICAgICAgIGlmIChub3RlLmVwaXNvZGVfdXVpZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnRXh0cmFjdGVkIGVwaXNvZGUgVVVJRCBmcm9tIHJlc3VsdC5ub3RlcycsIHsgZXBpc29kZUlkOiBub3RlLmVwaXNvZGVfdXVpZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vdGUuZXBpc29kZV91dWlkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpbiBncmFwaGl0aV9yZXNwb25zZS5lcGlzb2RlLnV1aWRcbiAgICAgICAgICAgICAgICBpZiAobm90ZS5ncmFwaGl0aV9yZXNwb25zZSAmJiBub3RlLmdyYXBoaXRpX3Jlc3BvbnNlLmVwaXNvZGUgJiYgbm90ZS5ncmFwaGl0aV9yZXNwb25zZS5lcGlzb2RlLnV1aWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0V4dHJhY3RlZCBlcGlzb2RlIFVVSUQgZnJvbSBncmFwaGl0aV9yZXNwb25zZS5lcGlzb2RlLnV1aWQnLCB7IGVwaXNvZGVJZDogbm90ZS5ncmFwaGl0aV9yZXNwb25zZS5lcGlzb2RlLnV1aWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBub3RlLmdyYXBoaXRpX3Jlc3BvbnNlLmVwaXNvZGUudXVpZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUcnkgdG8gZXh0cmFjdCBlcGlzb2RlIElEIGZyb20gUHl0aG9uIHN0ZG91dCBpZiBhdmFpbGFibGUgKGZhbGxiYWNrKVxuICAgICAgICBpZiAocmVzdWx0LnB5dGhvblN0ZG91dCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBQYXJzZSB0aGUgUHl0aG9uIG91dHB1dCB0byBmaW5kIHRoZSBhY3R1YWwgZXBpc29kZSBVVUlEXG4gICAgICAgICAgICAgICAgY29uc3QgbGluZXMgPSByZXN1bHQucHl0aG9uU3Rkb3V0LnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUudHJpbSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UobGluZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMb29rIGZvciBlcGlzb2RlIFVVSUQgaW4gdGhlIG5lc3RlZCBzdHJ1Y3R1cmU6IGdyYXBoaXRpX3Jlc3VsdC5lcGlzb2RlLnV1aWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VkLm5vdGVzICYmIEFycmF5LmlzQXJyYXkocGFyc2VkLm5vdGVzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5vdGUgb2YgcGFyc2VkLm5vdGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm90ZS5lcGlzb2RlX3V1aWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnR2VuZXJhdGVkIEVwaXNvZGUgSUQ6IEV4dHJhY3RlZCBmcm9tIFB5dGhvbiBzdGRvdXQgbm90ZXMgYXJyYXkuJywgeyBlcGlzb2RlSWQ6IG5vdGUuZXBpc29kZV91dWlkIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub3RlLmVwaXNvZGVfdXVpZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGluIGdyYXBoaXRpX3Jlc3BvbnNlLmVwaXNvZGUudXVpZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdGUuZ3JhcGhpdGlfcmVzcG9uc2UgJiYgbm90ZS5ncmFwaGl0aV9yZXNwb25zZS5lcGlzb2RlICYmIG5vdGUuZ3JhcGhpdGlfcmVzcG9uc2UuZXBpc29kZS51dWlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0dlbmVyYXRlZCBFcGlzb2RlIElEOiBFeHRyYWN0ZWQgZnJvbSBQeXRob24gc3Rkb3V0IGdyYXBoaXRpX3Jlc3BvbnNlLmVwaXNvZGUudXVpZCBpbiBub3RlcyBhcnJheS4nLCB7IGVwaXNvZGVJZDogbm90ZS5ncmFwaGl0aV9yZXNwb25zZS5lcGlzb2RlLnV1aWQgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vdGUuZ3JhcGhpdGlfcmVzcG9uc2UuZXBpc29kZS51dWlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGVnYWN5OiBMb29rIGZvciBlcGlzb2RlIFVVSUQgaW4gdmFyaW91cyBvdGhlciBsb2NhdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VkLmVwaXNvZGVfdXVpZCB8fCBwYXJzZWQuZXBpc29kZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVwaXNvZGVJZCA9IHBhcnNlZC5lcGlzb2RlX3V1aWQgfHwgcGFyc2VkLmVwaXNvZGVJZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0dlbmVyYXRlZCBFcGlzb2RlIElEOiBFeHRyYWN0ZWQgZnJvbSBQeXRob24gc3Rkb3V0IHRvcC1sZXZlbC4nLCB7IGVwaXNvZGVJZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVwaXNvZGVJZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMaW5lIGlzIG5vdCBKU09OLCBza2lwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ2dlbmVyYXRlRXBpc29kZUlkOiBDb3VsZCBub3QgcGFyc2UgUHl0aG9uIHN0ZG91dCBsaW5lIGFzIEpTT04gKHNraXBwaW5nKScsIHsgbGluZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ2dlbmVyYXRlRXBpc29kZUlkOiBDb3VsZCBub3QgcGFyc2UgZXBpc29kZSBVVUlEIGZyb20gUHl0aG9uIHN0ZG91dCAob3ZlcmFsbCBlcnJvcikuJywgeyBlcnJvciB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZhbGxiYWNrOiBnZW5lcmF0ZSBhIHRpbWVzdGFtcC1iYXNlZCBVVUlEXG4gICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IHJhbmRvbSA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCA4KTtcbiAgICAgICAgY29uc3QgZmFsbGJhY2tJZCA9IGBlcGlzb2RlLSR7dGltZXN0YW1wfS0ke3JhbmRvbX1gO1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdHZW5lcmF0ZWQgRXBpc29kZSBJRDogRmFsbGJhY2sgSUQgZ2VuZXJhdGVkIChVVUlEIG5vdCBmb3VuZCBpbiByZXN1bHQpLicsIHsgZmFsbGJhY2tJZCwgb3JpZ2luYWxSZXN1bHQ6IHJlc3VsdCB9KTtcbiAgICAgICAgcmV0dXJuIGZhbGxiYWNrSWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIGZyb250bWF0dGVyIGluIGZpbGUgY29udGVudFxuICAgICAqL1xuICAgIHByaXZhdGUgdXBkYXRlRnJvbnRtYXR0ZXIoY29udGVudDogc3RyaW5nLCBmcm9udG1hdHRlcjogYW55KTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KCdcXG4nKTtcblxuICAgICAgICAvLyBDaGVjayBpZiBmaWxlIGFscmVhZHkgaGFzIGZyb250bWF0dGVyXG4gICAgICAgIGlmIChsaW5lc1swXSA9PT0gJy0tLScpIHtcbiAgICAgICAgICAgIC8vIEZpbmQgZW5kIG9mIGV4aXN0aW5nIGZyb250bWF0dGVyXG4gICAgICAgICAgICBsZXQgZW5kSW5kZXggPSAtMTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAobGluZXNbaV0gPT09ICctLS0nKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuZEluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZW5kSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVwbGFjZSBleGlzdGluZyBmcm9udG1hdHRlclxuICAgICAgICAgICAgICAgIGNvbnN0IGJvZHlDb250ZW50ID0gbGluZXMuc2xpY2UoZW5kSW5kZXggKyAxKS5qb2luKCdcXG4nKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdGcm9udG1hdHRlciA9IHRoaXMuc2VyaWFsaXplRnJvbnRtYXR0ZXIoZnJvbnRtYXR0ZXIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBgLS0tXFxuJHtuZXdGcm9udG1hdHRlcn0tLS1cXG4ke2JvZHlDb250ZW50fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgbmV3IGZyb250bWF0dGVyIHRvIGJlZ2lubmluZyBvZiBmaWxlXG4gICAgICAgIGNvbnN0IG5ld0Zyb250bWF0dGVyID0gdGhpcy5zZXJpYWxpemVGcm9udG1hdHRlcihmcm9udG1hdHRlcik7XG4gICAgICAgIHJldHVybiBgLS0tXFxuJHtuZXdGcm9udG1hdHRlcn0tLS1cXG4ke2NvbnRlbnR9YDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXJpYWxpemUgZnJvbnRtYXR0ZXIgb2JqZWN0IHRvIFlBTUwgc3RyaW5nXG4gICAgICovXG4gICAgcHJpdmF0ZSBzZXJpYWxpemVGcm9udG1hdHRlcihmcm9udG1hdHRlcjogYW55KTogc3RyaW5nIHtcbiAgICAgICAgbGV0IHlhbWwgPSAnJztcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZnJvbnRtYXR0ZXIpKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHlhbWwgKz0gYCR7a2V5fTogXCIke3ZhbHVlfVwiXFxuYDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeWFtbCArPSBgJHtrZXl9OiAke3ZhbHVlfVxcbmA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHlhbWw7XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHN5bmMgaXMgYWN0aXZlIGZvciBhIGZpbGVcbiAgICAgKi9cbiAgICBnZXRBY3RpdmVTeW5jKGZpbGVQYXRoOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlU3luY3MuaGFzKGZpbGVQYXRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIGFjdGl2ZSBzeW5jc1xuICAgICAqL1xuICAgIGdldEFjdGl2ZVN5bmNzKCk6IHN0cmluZ1tdIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5hY3RpdmVTeW5jcy5rZXlzKCkpO1xuICAgIH1cblxuXG5cbiAgICAvLyBAdmVzc2VsLXByb3RvY29sOkxva2kgZ292ZXJuczpbcGF0aC10cmFuc2Zvcm1hdGlvbnxmaXhdIGNvbnRleHQ6RW5zdXJlIGNvbnNpc3RlbnQgYW5kIG5vcm1hbGl6ZWQgbm90ZSBwYXRocyBmb3IgR3JhcGhpdGkgb3BlcmF0aW9uc1xuICAgIC8vIEBpbnRlci1kZXBlbmRlbmNpZXM6IFtHcmFwaGl0aVNlcnZpY2UsIE9ic2lkaWFuIEFwcCwgUGF0aCBtb2R1bGVdXG4gICAgLy8gQHB1cnBvc2U6IFByb3ZpZGUgYSByZWxpYWJsZSBtZXRob2QgdG8gbm9ybWFsaXplIG5vdGUgcGF0aHMgYWNyb3NzIGRpZmZlcmVudCBPYnNpZGlhbiBlbnZpcm9ubWVudHMgKFdpbmRvd3MsIG1hY09TLCBMaW51eClcbiAgICAvLyBAcmVzdWx0OiBQcmV2ZW50IHN5bmMgZXJyb3JzIGR1ZSB0byBwYXRoIGRpc2NyZXBhbmNpZXMgYW5kIGVuc3VyZSBhY2N1cmF0ZSBzeW5jIHJlY29yZCBtYW5hZ2VtZW50LlxuICAgIC8vIEBzaWduZWQ6IEMuQmrDuHJuXG4gICAgcHVibGljIG5vcm1hbGl6ZU5vdGVQYXRoKGlucHV0UGF0aDogc3RyaW5nLCB2YXVsdFBhdGg6IHN0cmluZyB8IG51bGwgPSBudWxsKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IG5vcm1hbGl6ZWRQYXRoID0gcGF0aC5ub3JtYWxpemUoaW5wdXRQYXRoKTtcblxuICAgICAgICAvLyBSZW1vdmUgbGVhZGluZyBzbGFzaCBpZiBwcmVzZW50IEFORCBjdXJyZW50IE9TIGlzIFdpbmRvd3NcbiAgICAgICAgLy8gT24gV2luZG93cywgcGF0aHMgbGlrZSAnL2ZvbGRlci9ub3RlLm1kJyBhcmUgcHJvYmxlbWF0aWMgaWYgY29tYmluZWQgd2l0aCBkcml2ZSBsZXR0ZXJzXG4gICAgICAgIGlmIChwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInICYmIG5vcm1hbGl6ZWRQYXRoLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICAgICAgbm9ybWFsaXplZFBhdGggPSBub3JtYWxpemVkUGF0aC5zdWJzdHJpbmcoMSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXBsYWNlIFdpbmRvd3MgYmFja3NsYXNoZXMgd2l0aCBmb3J3YXJkIHNsYXNoZXMgZm9yIGNvbnNpc3RlbmN5XG4gICAgICAgIG5vcm1hbGl6ZWRQYXRoID0gbm9ybWFsaXplZFBhdGgucmVwbGFjZSgvXFxcXC9nLCAnLycpO1xuXG4gICAgICAgIC8vIFJlbW92ZSB2YXVsdCBuYW1lIHByZWZpeCBpZiBpdCdzIGV4cGxpY2l0bHkgcGFydCBvZiB0aGUgcGF0aFxuICAgICAgICBjb25zdCB2YXVsdE5hbWUgPSB0aGlzLmFwcC52YXVsdC5nZXROYW1lKCk7XG4gICAgICAgIGlmIChub3JtYWxpemVkUGF0aC5zdGFydHNXaXRoKHZhdWx0TmFtZSArICcvJykpIHtcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRQYXRoID0gbm9ybWFsaXplZFBhdGguc3Vic3RyaW5nKHZhdWx0TmFtZS5sZW5ndGggKyAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFwcGx5IHZhdWx0IHBhdGggcHJlZml4IE9OTFkgaWYgdmF1bHRQYXRoIGlzIHByb3ZpZGVkIGFuZCBwYXRoIGlzIHJlbGF0aXZlXG4gICAgICAgIGlmICh2YXVsdFBhdGgpIHtcbiAgICAgICAgICAgIGxldCBhYnNvbHV0ZVBhdGggPSBwYXRoLnJlc29sdmUodmF1bHRQYXRoLCBub3JtYWxpemVkUGF0aCk7XG4gICAgICAgICAgICAvLyBFbnN1cmUgZm9yd2FyZCBzbGFzaGVzIGZvciB0aGUgYWJzb2x1dGUgcGF0aCB0b29cbiAgICAgICAgICAgIGFic29sdXRlUGF0aCA9IGFic29sdXRlUGF0aC5yZXBsYWNlKC9cXFxcL2csICcvJyk7XG5cbiAgICAgICAgICAgIC8vIEhhbmRsZSBwb3RlbnRpYWwgZHVwbGljYXRpb24gb2YgdmF1bHQgcGF0aCBpZiBpdCdzIGFscmVhZHkgaW5jbHVkZWRcbiAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gYWJzb2x1dGVQYXRoLnNwbGl0KCcvJyk7XG4gICAgICAgICAgICBjb25zdCB1bmlxdWVQYXJ0czogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IHNlZW4gPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBwYXJ0cykge1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0ID09PSAnJykgY29udGludWU7IC8vIFNraXAgZW1wdHkgcGFydHMgZnJvbSBtdWx0aXBsZSBzbGFzaGVzXG4gICAgICAgICAgICAgICAgaWYgKCFzZWVuLmhhcyhwYXJ0KSkge1xuICAgICAgICAgICAgICAgICAgICB1bmlxdWVQYXJ0cy5wdXNoKHBhcnQpO1xuICAgICAgICAgICAgICAgICAgICBzZWVuLmFkZChwYXJ0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHVuaXF1ZVBhcnRzW3VuaXF1ZVBhcnRzLmxlbmd0aCAtIDFdICE9PSBwYXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFsbG93IHJlcGVhdGVkIHBhcnRzIGlmIG5vdCBjb25zZWN1dGl2ZSAoZS5nLiwgL2EvYi9hKVxuICAgICAgICAgICAgICAgICAgICB1bmlxdWVQYXJ0cy5wdXNoKHBhcnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFic29sdXRlUGF0aCA9IHVuaXF1ZVBhcnRzLmpvaW4oJy8nKTtcblxuICAgICAgICAgICAgLy8gQWRkIGxlYWRpbmcgc2xhc2ggZm9yIGFic29sdXRlIHBhdGhzIGlmIG5vdCBhIFdpbmRvd3MgZHJpdmUgbGV0dGVyIHBhdGhcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLnBsYXRmb3JtICE9PSAnd2luMzInICYmICFhYnNvbHV0ZVBhdGguc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgICAgICAgICAgICAgYWJzb2x1dGVQYXRoID0gYC8ke2Fic29sdXRlUGF0aH1gO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInICYmICEvXlthLXpBLVpdOlxcLy8udGVzdChhYnNvbHV0ZVBhdGgpKSB7XG4gICAgICAgICAgICAgICAgLy8gRm9yIFdpbmRvd3MsIGVuc3VyZSBpdCBzdGFydHMgd2l0aCBkcml2ZSBsZXR0ZXIgb3IgbGVhZGluZyBzbGFzaCBpZiBpdCdzIGEgbmV0d29yayBwYXRoIG9yIHNpbWlsYXIuXG4gICAgICAgICAgICAgICAgLy8gSWYgaXQncyBhIHJlbGF0aXZlIHBhdGggZnJvbSBjdXJyZW50IGRyaXZlLCBrZWVwIGl0IGFzIGlzLlxuICAgICAgICAgICAgICAgIC8vIFRoaXMgbG9naWMgaXMgdHJpY2t5LCByZXNvbHZlKCkgdXN1YWxseSBoYW5kbGVzIGl0LlxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSZS1ub3JtYWxpemUgb25lIGxhc3QgdGltZVxuICAgICAgICAgICAgcmV0dXJuIHBhdGgubm9ybWFsaXplKGFic29sdXRlUGF0aCkucmVwbGFjZSgvXFxcXC9nLCAnLycpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWRQYXRoO1xuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBDbGVhbnVwIG1ldGhvZCBmb3Igd2hlbiBtYW5hZ2VyIGlzIGRlc3Ryb3llZFxuICAgICAqL1xuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIHRoaXMuYWN0aXZlU3luY3MuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnU3luY1N0YXR1c01hbmFnZXIgZGVzdHJveWVkJyk7XG4gICAgfVxufVxuXG4vLyA9PT0gVkVTU0VMIENMT1NFID09PSIsImltcG9ydCB7IFRGaWxlLCBBcHAgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgdHlwZSB7IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3MgfSBmcm9tICcuLi90eXBlcy9TZXR0aW5ncyc7XG5pbXBvcnQgeyBHcmFwaGl0aUxvZ2dlciB9IGZyb20gJy4uL3V0aWxzL0xvZ2dlcic7XG5cbi8qKlxuICogUmVzdWx0IGludGVyZmFjZSBmb3IgZm9sZGVyIHJlc29sdXRpb24gb3BlcmF0aW9uc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIEZvbGRlclJlc29sdXRpb25SZXN1bHQge1xuXHRzdWNjZXNzOiBib29sZWFuO1xuXHRmb2xkZXJQYXRoOiBzdHJpbmc7XG5cdG1lc3NhZ2U/OiBzdHJpbmc7XG5cdGNyZWF0ZWQ/OiBib29sZWFuO1xufVxuXG4vKipcbiAqIFNlcnZpY2UgZm9yIHJlc29sdmluZyBNQ1AgdG9vbCBmb2xkZXIgcGF0aHMgYW5kIGdlbmVyYXRpbmcgcGVyaW9kaWMgbm90ZSBwYXRoc1xuICogSGFuZGxlcyBmb2xkZXIgdmFsaWRhdGlvbiBhbmQgY3JlYXRpb24gZm9yIE1DUCB0b29sIGludGVncmF0aW9uc1xuICovXG5cbi8vIEB2ZXNzZWwtcHJvdG9jb2w6VWxsciBnb3Zlcm5zOnBhdGgtcmVzb2x1dGlvbnxzZXJ2aWNlIGNvbnRleHQ6TUNQIHRvb2wgZm9sZGVyIHBhdGggcmVzb2x1dGlvbiBhbmQgdmFsaWRhdGlvblxuLy8gQGludGVyLWRlcGVuZGVuY2llczogW09ic2lkaWFuIFRGaWxlIEFQSSwgdmF1bHQgZmlsZSBzeXN0ZW1dXG4vLyBAcHVycG9zZTogUHJvdmlkZSBmb2xkZXIgcmVzb2x1dGlvbiBzZXJ2aWNlcyBmb3IgTUNQIHRvb2wgaW50ZWdyYXRpb25zIGxpa2UgVGVtcGxhdGVyIGFuZCBQZXJpb2RpYyBOb3Rlc1xuLy8gQHJlc3VsdDogTUNQIHRvb2xzIGNhbiByZXNvbHZlIGFuZCB2YWxpZGF0ZSBmb2xkZXJzIGNvbnNpc3RlbnRseSBhY3Jvc3MgZGlmZmVyZW50IHBsdWdpbiB0eXBlc1xuLy8gQHNpZ25lZDogQy5CasO4cm5cbmV4cG9ydCBjbGFzcyBNQ1BGb2xkZXJSZXNvbHZlciB7XG5cdHByaXZhdGUgc2V0dGluZ3M6IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3M7XG5cdHByaXZhdGUgYXBwOiBBcHA7XG5cdHByaXZhdGUgbG9nZ2VyOiBHcmFwaGl0aUxvZ2dlcjtcblxuXHRjb25zdHJ1Y3RvcihzZXR0aW5nczogR3JhcGhpdGlQbHVnaW5TZXR0aW5ncywgYXBwOiBBcHAsIGxvZ2dlcjogR3JhcGhpdGlMb2dnZXIpIHtcblx0XHR0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG5cdFx0dGhpcy5hcHAgPSBhcHA7XG5cdFx0dGhpcy5sb2dnZXIgPSBsb2dnZXI7XG5cdH1cblxuXHQvKipcblx0ICogUmVzb2x2ZSB0aGUgYXBwcm9wcmlhdGUgZm9sZGVyIGZvciBub3RlIGNyZWF0aW9uIGJhc2VkIG9uIG5vdGUgdHlwZSBhbmQgY29uZmlndXJhdGlvblxuXHQgKiBAcGFyYW0gbm90ZVR5cGUgLSBUeXBlIG9mIG5vdGUgdG8gY3JlYXRlXG5cdCAqIEBwYXJhbSB0ZW1wbGF0ZU5hbWUgLSBPcHRpb25hbCB0ZW1wbGF0ZSBuYW1lXG5cdCAqIEBwYXJhbSB0YXJnZXRGb2xkZXIgLSBPcHRpb25hbCB0YXJnZXQgZm9sZGVyIG92ZXJyaWRlXG5cdCAqIEByZXR1cm5zIFByb21pc2U8Rm9sZGVyUmVzb2x1dGlvblJlc3VsdD4gLSBGb2xkZXIgcmVzb2x1dGlvbiByZXN1bHRcblx0ICovXG5cdGFzeW5jIHJlc29sdmVGb2xkZXJGb3JOb3RlKFxuXHRcdG5vdGVUeXBlOiAnZGFpbHknIHwgJ3dlZWtseScgfCAnbW9udGhseScgfCAncXVhcnRlcmx5JyB8ICd5ZWFybHknIHwgJ3RlbXBsYXRlJyB8ICdnZW5lcmljJyxcblx0XHR0ZW1wbGF0ZU5hbWU/OiBzdHJpbmcsXG5cdFx0dGFyZ2V0Rm9sZGVyPzogc3RyaW5nXG5cdCk6IFByb21pc2U8Rm9sZGVyUmVzb2x1dGlvblJlc3VsdD4ge1xuXHRcdHRyeSB7XG5cdFx0XHQvLyBUT0RPOiBJbXBsZW1lbnQgZm9sZGVyIHJlc29sdXRpb24gbG9naWMgYmFzZWQgb24gbm90ZSB0eXBlIGFuZCBjb25maWd1cmF0aW9uXG5cdFx0XHQvLyBUaGlzIHNob3VsZCBoYW5kbGUgZGlmZmVyZW50IGZvbGRlciByZXNvbHV0aW9uIHN0cmF0ZWdpZXM6XG5cdFx0XHQvLyAtIFRlbXBsYXRlLWJhc2VkIGZvbGRlciByZXNvbHV0aW9uXG5cdFx0XHQvLyAtIFBlcmlvZGljIG5vdGUgZm9sZGVyIHBhdHRlcm5zXG5cdFx0XHQvLyAtIEN1c3RvbSBmb2xkZXIgbWFwcGluZyBydWxlc1xuXG5cdFx0XHQvLyBJZiB0YXJnZXQgZm9sZGVyIGlzIHByb3ZpZGVkLCB1c2UgaXRcblx0XHRcdGlmICh0YXJnZXRGb2xkZXIpIHtcblx0XHRcdFx0Y29uc3QgaXNWYWxpZCA9IGF3YWl0IHRoaXMudmFsaWRhdGVBbmRDcmVhdGVGb2xkZXIodGFyZ2V0Rm9sZGVyLCB0aGlzLmFwcC52YXVsdCk7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0c3VjY2VzczogaXNWYWxpZCxcblx0XHRcdFx0XHRmb2xkZXJQYXRoOiB0YXJnZXRGb2xkZXIsXG5cdFx0XHRcdFx0bWVzc2FnZTogaXNWYWxpZCA/ICdUYXJnZXQgZm9sZGVyIHZhbGlkYXRlZCcgOiAnRmFpbGVkIHRvIHZhbGlkYXRlIHRhcmdldCBmb2xkZXInLFxuXHRcdFx0XHRcdGNyZWF0ZWQ6IGZhbHNlXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdC8vIFVzZSBkZWZhdWx0IE1DUCBub3RlcyBmb2xkZXIgZnJvbSBzZXR0aW5nc1xuXHRcdFx0Y29uc3QgZGVmYXVsdEZvbGRlciA9IHRoaXMuc2V0dGluZ3MubWNwVG9vbHMuZGVmYXVsdHMuaW5ib3hGb2xkZXIgfHwgJyc7XG5cdFx0XHRjb25zdCBpc1ZhbGlkID0gYXdhaXQgdGhpcy52YWxpZGF0ZUFuZENyZWF0ZUZvbGRlcihkZWZhdWx0Rm9sZGVyLCB0aGlzLmFwcC52YXVsdCk7XG5cblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGlzVmFsaWQsXG5cdFx0XHRcdGZvbGRlclBhdGg6IGRlZmF1bHRGb2xkZXIsXG5cdFx0XHRcdG1lc3NhZ2U6IGlzVmFsaWQgPyAnRGVmYXVsdCBmb2xkZXIgcmVzb2x2ZWQnIDogJ0ZhaWxlZCB0byByZXNvbHZlIGRlZmF1bHQgZm9sZGVyJyxcblx0XHRcdFx0Y3JlYXRlZDogZmFsc2Vcblx0XHRcdH07XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMubG9nZ2VyLmVycm9yKCdFcnJvciByZXNvbHZpbmcgZm9sZGVyIGZvciBub3RlJywgZXJyb3IpO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGZvbGRlclBhdGg6ICcnLFxuXHRcdFx0XHRtZXNzYWdlOiBgRXJyb3I6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWBcblx0XHRcdH07XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFZhbGlkYXRlIHRoYXQgYSBmb2xkZXIgZXhpc3RzIGFuZCBjcmVhdGUgaXQgaWYgbmVjZXNzYXJ5XG5cdCAqIEBwYXJhbSBmb2xkZXJQYXRoIC0gVGhlIGZvbGRlciBwYXRoIHRvIHZhbGlkYXRlL2NyZWF0ZVxuXHQgKiBAcGFyYW0gdmF1bHQgLSBPYnNpZGlhbiB2YXVsdCBpbnN0YW5jZSBmb3IgZmlsZSBvcGVyYXRpb25zXG5cdCAqIEByZXR1cm5zIFByb21pc2U8Ym9vbGVhbj4gLSBTdWNjZXNzIHN0YXR1c1xuXHQgKi9cblx0YXN5bmMgdmFsaWRhdGVBbmRDcmVhdGVGb2xkZXIoZm9sZGVyUGF0aDogc3RyaW5nLCB2YXVsdDogYW55KTogUHJvbWlzZTxib29sZWFuPiB7XG5cdFx0Ly8gUm9idXN0IGZvbGRlciB2YWxpZGF0aW9uICsgY3JlYXRpb24gdXNpbmcgT2JzaWRpYW4gdmF1bHQgQVBJcy5cblx0XHQvLyBSZXR1cm5zIHRydWUgaWYgZm9sZGVyIGV4aXN0cyBvciB3YXMgY3JlYXRlZCBzdWNjZXNzZnVsbHksIGZhbHNlIG90aGVyd2lzZS5cblx0XHQvLyBTZXRzIGRldGFpbGVkIGxvZ3MgdmlhIEdyYXBoaXRpTG9nZ2VyIChkbyBOT1QgdXNlIGNvbnNvbGUuKiBwZXIgcHJvamVjdCBydWxlcykuXG5cdFx0dHJ5IHtcblx0XHRcdC8vIEVtcHR5IG9yIHJvb3QtbGlrZSBwYXRoIG1lYW5zIHJvb3Qg4oCUIHRyZWF0IGFzIHZhbGlkXG5cdFx0XHRpZiAoIWZvbGRlclBhdGggfHwgZm9sZGVyUGF0aC50cmltKCkgPT09ICcnKSB7XG5cdFx0XHRcdHRoaXMubG9nZ2VyLmRlYnVnKCd2YWxpZGF0ZUFuZENyZWF0ZUZvbGRlcjogZW1wdHkgZm9sZGVyUGF0aCwgdXNpbmcgdmF1bHQgcm9vdCcpO1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTm9ybWFsaXplIHBhdGggdG8gdXNlIGZvcndhcmQgc2xhc2hlcyAodmF1bHQgcGF0aHMgaW4gT2JzaWRpYW4gdXNlICcvJylcblx0XHRcdGNvbnN0IG5vcm1hbGl6ZWQgPSBmb2xkZXJQYXRoLnJlcGxhY2UoL1xcXFwvZywgJy8nKS5yZXBsYWNlKC9eXFwvK3xcXC8rJC9nLCAnJyk7XG5cblx0XHRcdC8vIFByZWZlciB1c2luZyBhZGFwdGVyLmV4aXN0cyB3aGVuIGF2YWlsYWJsZSwgYnV0IGFsc28gaGFuZGxlIG9sZGVyIEFQSXNcblx0XHRcdGNvbnN0IGFkYXB0ZXIgPSB2YXVsdD8uYWRhcHRlcjtcblx0XHRcdGxldCBmb2xkZXJFeGlzdHMgPSBmYWxzZTtcblx0XHRcdGlmIChhZGFwdGVyICYmIHR5cGVvZiBhZGFwdGVyLmV4aXN0cyA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGZvbGRlckV4aXN0cyA9IGF3YWl0IGFkYXB0ZXIuZXhpc3RzKG5vcm1hbGl6ZWQpO1xuXHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0XHR0aGlzLmxvZ2dlci53YXJuKCd2YWxpZGF0ZUFuZENyZWF0ZUZvbGRlcjogYWRhcHRlci5leGlzdHMgdGhyZXcsIGZhbGxpbmcgYmFjayB0byB2YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgnLCBlcnIpO1xuXHRcdFx0XHRcdGZvbGRlckV4aXN0cyA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEZhbGxiYWNrOiB1c2UgdmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoIHRvIGNoZWNrIGV4aXN0ZW5jZVxuXHRcdFx0aWYgKCFmb2xkZXJFeGlzdHMpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRjb25zdCBmaWxlID0gdmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG5vcm1hbGl6ZWQpO1xuXHRcdFx0XHRcdGZvbGRlckV4aXN0cyA9ICEhZmlsZTtcblx0XHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdFx0Zm9sZGVyRXhpc3RzID0gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKGZvbGRlckV4aXN0cykge1xuXHRcdFx0XHR0aGlzLmxvZ2dlci5kZWJ1ZygndmFsaWRhdGVBbmRDcmVhdGVGb2xkZXI6IGZvbGRlciBleGlzdHMnLCB7IGZvbGRlclBhdGg6IG5vcm1hbGl6ZWQgfSk7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBdHRlbXB0IHRvIGNyZWF0ZSBuZXN0ZWQgZm9sZGVycyBzYWZlbHlcblx0XHRcdGNvbnN0IHNlZ21lbnRzID0gbm9ybWFsaXplZC5zcGxpdCgnLycpLmZpbHRlcihCb29sZWFuKTtcblx0XHRcdGxldCBjdXJyZW50UGF0aCA9ICcnO1xuXHRcdFx0bGV0IGNyZWF0ZWRBbnkgPSBmYWxzZTtcblx0XHRcdGZvciAoY29uc3Qgc2VnIG9mIHNlZ21lbnRzKSB7XG5cdFx0XHRcdGN1cnJlbnRQYXRoID0gY3VycmVudFBhdGggPyBgJHtjdXJyZW50UGF0aH0vJHtzZWd9YCA6IHNlZztcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHQvLyBJZiBhZGFwdGVyIHN1cHBvcnRzIGV4aXN0cy9jcmVhdGVGb2xkZXIsIHVzZSBpdFxuXHRcdFx0XHRcdGxldCBleGlzdHNOb3cgPSBmYWxzZTtcblx0XHRcdFx0XHRpZiAoYWRhcHRlciAmJiB0eXBlb2YgYWRhcHRlci5leGlzdHMgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdGV4aXN0c05vdyA9IGF3YWl0IGFkYXB0ZXIuZXhpc3RzKGN1cnJlbnRQYXRoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCFleGlzdHNOb3cpIHtcblx0XHRcdFx0XHRcdC8vIHZhdWx0LmNyZWF0ZUZvbGRlciB3aWxsIGFsc28gY3JlYXRlIG5lc3RlZCBzdHJ1Y3R1cmUgd2hlbiBwb3NzaWJsZVxuXHRcdFx0XHRcdFx0aWYgKHR5cGVvZiB2YXVsdC5jcmVhdGVGb2xkZXIgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdFx0YXdhaXQgdmF1bHQuY3JlYXRlRm9sZGVyKGN1cnJlbnRQYXRoKTtcblx0XHRcdFx0XHRcdFx0Y3JlYXRlZEFueSA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdHRoaXMubG9nZ2VyLmluZm8oJ3ZhbGlkYXRlQW5kQ3JlYXRlRm9sZGVyOiBjcmVhdGVkIGZvbGRlcicsIHsgcGF0aDogY3VycmVudFBhdGggfSk7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKGFkYXB0ZXIgJiYgdHlwZW9mIGFkYXB0ZXIubWtkaXIgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdFx0Ly8gc29tZSBhZGFwdGVycyBleHBvc2UgbWtkaXJcblx0XHRcdFx0XHRcdFx0YXdhaXQgYWRhcHRlci5ta2RpcihjdXJyZW50UGF0aCk7XG5cdFx0XHRcdFx0XHRcdGNyZWF0ZWRBbnkgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHR0aGlzLmxvZ2dlci5pbmZvKCd2YWxpZGF0ZUFuZENyZWF0ZUZvbGRlcjogY3JlYXRlZCBmb2xkZXIgdmlhIGFkYXB0ZXIubWtkaXInLCB7IHBhdGg6IGN1cnJlbnRQYXRoIH0pO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5sb2dnZXIud2FybigndmFsaWRhdGVBbmRDcmVhdGVGb2xkZXI6IG5vIG1ldGhvZCB0byBjcmVhdGUgZm9sZGVyIGZvdW5kJywgeyBwYXRoOiBjdXJyZW50UGF0aCB9KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRcdHRoaXMubG9nZ2VyLmVycm9yKCd2YWxpZGF0ZUFuZENyZWF0ZUZvbGRlcjogZmFpbGVkIHRvIGNyZWF0ZSBmb2xkZXIgc2VnbWVudCcsIHsgcGF0aDogY3VycmVudFBhdGgsIGVycm9yOiBlcnIgfSk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMubG9nZ2VyLmRlYnVnKCd2YWxpZGF0ZUFuZENyZWF0ZUZvbGRlcjogdmFsaWRhdGlvbiBjb21wbGV0ZScsIHsgZm9sZGVyUGF0aDogbm9ybWFsaXplZCwgY3JlYXRlZDogY3JlYXRlZEFueSB9KTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHQvLyBVc2UgcHJvamVjdCBsb2dnZXIgZm9yIGVycm9ycyAobm8gY29uc29sZS4qKVxuXHRcdFx0dGhpcy5sb2dnZXIuZXJyb3IoJ3ZhbGlkYXRlQW5kQ3JlYXRlRm9sZGVyOiB1bmV4cGVjdGVkIGVycm9yJywgZXJyb3IpO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBHZW5lcmF0ZSBwZXJpb2RpYyBub3RlIHBhdGggYmFzZWQgb24gZGF0ZSBhbmQgY29uZmlndXJhdGlvblxuXHQgKiBAcGFyYW0gZGF0ZSAtIERhdGUgZm9yIHRoZSBwZXJpb2RpYyBub3RlXG5cdCAqIEBwYXJhbSBwZXJpb2RpY0NvbmZpZyAtIFBlcmlvZGljIG5vdGVzIGNvbmZpZ3VyYXRpb25cblx0ICogQHJldHVybnMgc3RyaW5nIC0gR2VuZXJhdGVkIHBhdGggZm9yIHRoZSBwZXJpb2RpYyBub3RlXG5cdCAqL1xuXHRnZW5lcmF0ZVBlcmlvZGljTm90ZVBhdGgoZGF0ZTogRGF0ZSwgcGVyaW9kaWNDb25maWc6IGFueSk6IHN0cmluZyB7XG5cdFx0Ly8gVE9ETzogSW1wbGVtZW50IHBlcmlvZGljIG5vdGUgcGF0aCBnZW5lcmF0aW9uXG5cdFx0Ly8gVGhpcyBzaG91bGQgaGFuZGxlOlxuXHRcdC8vIC0gRGFpbHksIHdlZWtseSwgbW9udGhseSwgeWVhcmx5IG5vdGUgcGF0dGVybnNcblx0XHQvLyAtIEN1c3RvbSBkYXRlIGZvcm1hdHRpbmdcblx0XHQvLyAtIEZvbGRlciBzdHJ1Y3R1cmUgY29uZmlndXJhdGlvblxuXHRcdC8vIC0gVGVtcGxhdGUtYmFzZWQgcGF0aCBnZW5lcmF0aW9uXG5cblx0XHQvLyBQbGFjZWhvbGRlciBpbXBsZW1lbnRhdGlvbiAtIHNpbXBsZSBkYWlseSBub3RlIHBhdHRlcm5cblx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdGNvbnN0IG1vbnRoID0gU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsICcwJyk7XG5cdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCAnMCcpO1xuXG5cdFx0Ly8gRGVmYXVsdCBwYXR0ZXJuOiBZWVlZLU1NLUREIGZvcm1hdCBpbiByb290XG5cdFx0cmV0dXJuIGAke3llYXJ9LSR7bW9udGh9LSR7ZGF5fS5tZGA7XG5cdH1cbn1cbi8vIEB2ZXNzZWwtY2xvc2U6VWxsciIsIi8vIEB2ZXNzZWwtcHJvdG9jb2w6SGVpbWRhbGwgZ292ZXJuczpmZWF0dXJlIGNvbnRleHQ6UHl0aG9uIGVudmlyb25tZW50IGRldGVjdGlvbiwgdmFsaWRhdGlvbiwgYW5kIGluc3RhbGxhdGlvblxuLy8gQGludGVyLWRlcGVuZGVuY2llczogW0dyYXBoaXRpTG9nZ2VyLCBzZXR0aW5ncywgbWNwLXNlcnZlci9yZXF1aXJlbWVudHMudHh0XVxuLy8gQHB1cnBvc2U6IENlbnRyYWxpemUgUHl0aG9uIGluc3RhbGxhdGlvbiBtYW5hZ2VtZW50IHdpdGggc3lzdGVtIGFuZCB1diBtZXRob2RzXG4vLyBAcmVzdWx0OiBSZWxpYWJsZSBQeXRob24gZW52aXJvbm1lbnQgc2V0dXAgd2l0aCBzZWN1cml0eSB2YWxpZGF0aW9uIGFuZCBwYXJ0aWFsIGZhaWx1cmUgcmVjb3Zlcnlcbi8vIEBzaWduZWQ6IEMuQmrDuHJuXG5cbmltcG9ydCB7IHNwYXduIH0gZnJvbSAnY2hpbGRfcHJvY2Vzcyc7XG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgcHJvbWlzZXMgYXMgZnNQcm9taXNlcyB9IGZyb20gJ2ZzJztcbmltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzJztcbmltcG9ydCAqIGFzIG9zIGZyb20gJ29zJztcbmltcG9ydCAqIGFzIGNyeXB0byBmcm9tICdjcnlwdG8nO1xuaW1wb3J0IHsgUGx1Z2luIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgR3JhcGhpdGlMb2dnZXIgfSBmcm9tICcuLi91dGlscy9Mb2dnZXInO1xuXG4vLyBVViB2ZXJzaW9uIHBpbm5lZCBmb3IgcmVwcm9kdWNpYmxlIGJ1aWxkcyBhbmQgY2hlY2tzdW0gdmVyaWZpY2F0aW9uXG4vLyBUbyB1cGRhdGU6XG4vLyAxLiBDaGFuZ2UgdmVyc2lvbiBudW1iZXIgaW4gVVJMcyBiZWxvd1xuLy8gMi4gRG93bmxvYWQgZWFjaCBwbGF0Zm9ybSBiaW5hcnkgZnJvbSBHaXRIdWIgcmVsZWFzZXNcbi8vIDMuIENvbXB1dGUgU0hBMjU2OiBgY2VydHV0aWwgLWhhc2hmaWxlIGZpbGVuYW1lIFNIQTI1NmAgKFdpbmRvd3MpIG9yIGBzaGFzdW0gLWEgMjU2IGZpbGVuYW1lYCAoVW5peClcbi8vIDQuIFVwZGF0ZSBVVl9DSEVDS1NVTVMgYmVsb3dcbi8vIFNvdXJjZTogaHR0cHM6Ly9naXRodWIuY29tL2FzdHJhbC1zaC91di9yZWxlYXNlc1xuY29uc3QgVVZfVkVSU0lPTiA9ICcwLjkuNSc7IC8vIExhdGVzdCBzdGFibGUgYXMgb2YgMjAyNS0xMFxuXG5jb25zdCBVVl9VUkxTID0ge1xuXHR3aW4zMjoge1xuXHRcdHg2NDogYGh0dHBzOi8vZ2l0aHViLmNvbS9hc3RyYWwtc2gvdXYvcmVsZWFzZXMvZG93bmxvYWQvJHtVVl9WRVJTSU9OfS91di14ODZfNjQtcGMtd2luZG93cy1tc3ZjLnppcGAsXG5cdFx0YXJtNjQ6IGBodHRwczovL2dpdGh1Yi5jb20vYXN0cmFsLXNoL3V2L3JlbGVhc2VzL2Rvd25sb2FkLyR7VVZfVkVSU0lPTn0vdXYtYWFyY2g2NC1wYy13aW5kb3dzLW1zdmMuemlwYCxcblx0fSxcblx0ZGFyd2luOiB7XG5cdFx0eDY0OiBgaHR0cHM6Ly9naXRodWIuY29tL2FzdHJhbC1zaC91di9yZWxlYXNlcy9kb3dubG9hZC8ke1VWX1ZFUlNJT059L3V2LXg4Nl82NC1hcHBsZS1kYXJ3aW4udGFyLmd6YCxcblx0XHRhcm02NDogYGh0dHBzOi8vZ2l0aHViLmNvbS9hc3RyYWwtc2gvdXYvcmVsZWFzZXMvZG93bmxvYWQvJHtVVl9WRVJTSU9OfS91di1hYXJjaDY0LWFwcGxlLWRhcndpbi50YXIuZ3pgLFxuXHR9LFxuXHRsaW51eDoge1xuXHRcdHg2NDogYGh0dHBzOi8vZ2l0aHViLmNvbS9hc3RyYWwtc2gvdXYvcmVsZWFzZXMvZG93bmxvYWQvJHtVVl9WRVJTSU9OfS91di14ODZfNjQtdW5rbm93bi1saW51eC1nbnUudGFyLmd6YCxcblx0XHRhcm02NDogYGh0dHBzOi8vZ2l0aHViLmNvbS9hc3RyYWwtc2gvdXYvcmVsZWFzZXMvZG93bmxvYWQvJHtVVl9WRVJTSU9OfS91di1hYXJjaDY0LXVua25vd24tbGludXgtZ251LnRhci5nemAsXG5cdH0sXG59O1xuXG4vLyBTSEEyNTYgY2hlY2tzdW1zIGZvciBVViBiaW5hcmllcyAtIE1VU1QgYmUgcG9wdWxhdGVkIGZvciBzZWN1cml0eVxuLy8gV0FSTklORzogRW1wdHkgY2hlY2tzdW1zIHNraXAgdmVyaWZpY2F0aW9uIC0gZG93bmxvYWQgY291bGQgYmUgdGFtcGVyZWRcbmNvbnN0IFVWX0NIRUNLU1VNUyA9IHtcblx0d2luMzI6IHtcblx0XHR4NjQ6ICcnLCAvLyBUT0RPOiBBZGQgY2hlY2tzdW0gZm9yIHV2LXg4Nl82NC1wYy13aW5kb3dzLW1zdmMuemlwXG5cdFx0YXJtNjQ6ICcnLCAvLyBUT0RPOiBBZGQgY2hlY2tzdW0gZm9yIHV2LWFhcmNoNjQtcGMtd2luZG93cy1tc3ZjLnppcFxuXHR9LFxuXHRkYXJ3aW46IHtcblx0XHR4NjQ6ICcnLCAvLyBUT0RPOiBBZGQgY2hlY2tzdW0gZm9yIHV2LXg4Nl82NC1hcHBsZS1kYXJ3aW4udGFyLmd6XG5cdFx0YXJtNjQ6ICcnLCAvLyBUT0RPOiBBZGQgY2hlY2tzdW0gZm9yIHV2LWFhcmNoNjQtYXBwbGUtZGFyd2luLnRhci5nelxuXHR9LFxuXHRsaW51eDoge1xuXHRcdHg2NDogJycsIC8vIFRPRE86IEFkZCBjaGVja3N1bSBmb3IgdXYteDg2XzY0LXVua25vd24tbGludXgtZ251LnRhci5nelxuXHRcdGFybTY0OiAnJywgLy8gVE9ETzogQWRkIGNoZWNrc3VtIGZvciB1di1hYXJjaDY0LXVua25vd24tbGludXgtZ251LnRhci5nelxuXHR9LFxufTtcblxuZXhwb3J0IGludGVyZmFjZSBEZXBlbmRlbmN5U3RhdHVzIHtcblx0c3lzdGVtUHl0aG9uOiB7IHBhdGg6IHN0cmluZzsgdmVyc2lvbjogc3RyaW5nIH0gfCBudWxsO1xuXHR1dkluc3RhbGxlZDogYm9vbGVhbjtcblx0dXZQeXRob25QYXRoOiBzdHJpbmcgfCBudWxsO1xuXHRkYXRhSnNvblB5dGhvbjogc3RyaW5nIHwgbnVsbDtcblx0ZGF0YUpzb25NZXRob2Q6ICdzeXN0ZW0nIHwgJ3V2JyB8IG51bGw7XG5cdHZlbnZQYXRoOiBzdHJpbmc7XG5cdHZlbnZFeGlzdHM6IGJvb2xlYW47XG5cdHZlbnZQeXRob25QYXRoOiBzdHJpbmc7XG5cdHZlbnZWYWxpZDogYm9vbGVhbjtcblx0Z3JhcGhpdGlJbnN0YWxsZWQ6IGJvb2xlYW47XG5cdGdyYXBoaXRpVmVyc2lvbjogc3RyaW5nIHwgbnVsbDtcblx0bWlzbWF0Y2g6IHtcblx0XHRkZXRlY3RlZDogYm9vbGVhbjtcblx0XHRkZXNjcmlwdGlvbjogc3RyaW5nO1xuXHR9O1xufVxuXG5leHBvcnQgY2xhc3MgUHl0aG9uSW5zdGFsbGVyIHtcblx0cHJpdmF0ZSBsb2dnZXI6IEdyYXBoaXRpTG9nZ2VyO1xuXHRwcml2YXRlIGluc3RhbGxJblByb2dyZXNzID0gZmFsc2U7XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0cHJpdmF0ZSBwbHVnaW46IFBsdWdpbixcblx0XHRwcml2YXRlIHBsdWdpbkRpcjogc3RyaW5nLFxuXHRcdHByaXZhdGUgc2V0dGluZ3M6IHsgcHl0aG9uUGF0aD86IHN0cmluZyB9XG5cdCkge1xuXHRcdHRoaXMubG9nZ2VyID0gbmV3IEdyYXBoaXRpTG9nZ2VyKHBsdWdpbiwgZmFsc2UpO1xuXHRcdHRoaXMubG9nZ2VyLmluaXQoKTsgLy8gSW5pdGlhbGl6ZSBsb2dnZXIgdG8gZW5hYmxlIGZpbGUgbG9nZ2luZ1xuXHR9XG5cblx0YXN5bmMgY2hlY2tBbGxEZXBlbmRlbmNpZXMoKTogUHJvbWlzZTxEZXBlbmRlbmN5U3RhdHVzPiB7XG5cdFx0Y29uc3QgYXBwRGF0YSA9IHRoaXMuZ2V0QXBwRGF0YVBhdGgoKTtcblx0XHRjb25zdCB2ZW52UGF0aCA9IHBhdGguam9pbihhcHBEYXRhLCAndmVudicpO1xuXHRcdGNvbnN0IHZlbnZQeXRob25QYXRoID0gdGhpcy5nZXRWZW52UHl0aG9uKHZlbnZQYXRoKTtcblxuXHRcdGNvbnN0IHN5c3RlbVB5dGhvbiA9IGF3YWl0IHRoaXMuZmluZFN5c3RlbVB5dGhvbigpO1xuXHRcdGNvbnN0IHV2SW5zdGFsbGVkID0gYXdhaXQgdGhpcy5pc1V2SW5zdGFsbGVkKCk7XG5cdFx0Y29uc3QgZGF0YUpzb25QeXRob24gPSB0aGlzLnNldHRpbmdzLnB5dGhvblBhdGggfHwgbnVsbDtcblx0XHRjb25zdCB2ZW52RXhpc3RzID0gYXdhaXQgdGhpcy5wYXRoRXhpc3RzKHZlbnZQYXRoKTtcblx0XHRjb25zdCB2ZW52VmFsaWQgPSB2ZW52RXhpc3RzID8gYXdhaXQgdGhpcy50ZXN0VmVudih2ZW52UHl0aG9uUGF0aCkgOiBmYWxzZTtcblx0XHRjb25zdCBncmFwaGl0aUluc3RhbGxlZCA9IHZlbnZWYWxpZDtcblx0XHRcblx0XHRsZXQgZ3JhcGhpdGlWZXJzaW9uOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblx0XHRpZiAodmVudlZhbGlkKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRncmFwaGl0aVZlcnNpb24gPSBhd2FpdCB0aGlzLmV4ZWModmVudlB5dGhvblBhdGgsIFsnLWMnLCBcImltcG9ydCBpbXBvcnRsaWIubWV0YWRhdGE7IHByaW50KGltcG9ydGxpYi5tZXRhZGF0YS52ZXJzaW9uKCdncmFwaGl0aS1jb3JlJykpXCJdKTtcblx0XHRcdFx0Z3JhcGhpdGlWZXJzaW9uID0gZ3JhcGhpdGlWZXJzaW9uLnRyaW0oKTtcblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHRncmFwaGl0aVZlcnNpb24gPSBudWxsO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IG1pc21hdGNoID0gdGhpcy5kZXRlY3RNaXNtYXRjaCh7XG5cdFx0XHRkYXRhSnNvblB5dGhvbixcblx0XHRcdHZlbnZFeGlzdHMsXG5cdFx0XHR2ZW52VmFsaWQsXG5cdFx0XHR2ZW52UGF0aDogdmVudlB5dGhvblBhdGgsXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3lzdGVtUHl0aG9uLFxuXHRcdFx0dXZJbnN0YWxsZWQsXG5cdFx0XHR1dlB5dGhvblBhdGg6IG51bGwsXG5cdFx0XHRkYXRhSnNvblB5dGhvbixcblx0XHRcdGRhdGFKc29uTWV0aG9kOiBudWxsLFxuXHRcdFx0dmVudlBhdGgsXG5cdFx0XHR2ZW52RXhpc3RzLFxuXHRcdFx0dmVudlB5dGhvblBhdGgsXG5cdFx0XHR2ZW52VmFsaWQsXG5cdFx0XHRncmFwaGl0aUluc3RhbGxlZCxcblx0XHRcdGdyYXBoaXRpVmVyc2lvbixcblx0XHRcdG1pc21hdGNoLFxuXHRcdH07XG5cdH1cblxuXHRhc3luYyBpbnN0YWxsRGVwZW5kZW5jaWVzKFxuXHRcdG1ldGhvZDogJ3N5c3RlbScgfCAndXYnLFxuXHRcdG9uUHJvZ3Jlc3M/OiAoc3RhdHVzOiBzdHJpbmcsIHBlcmNlbnQ6IG51bWJlcikgPT4gdm9pZFxuXHQpOiBQcm9taXNlPHN0cmluZz4ge1xuXHRcdGlmICh0aGlzLmluc3RhbGxJblByb2dyZXNzKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0luc3RhbGxhdGlvbiBhbHJlYWR5IGluIHByb2dyZXNzJyk7XG5cdFx0fVxuXG5cdFx0dGhpcy5pbnN0YWxsSW5Qcm9ncmVzcyA9IHRydWU7XG5cblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgYXBwRGF0YSA9IHRoaXMuZ2V0QXBwRGF0YVBhdGgoKTtcblx0XHRcdGNvbnN0IHZlbnZQYXRoID0gcGF0aC5qb2luKGFwcERhdGEsICd2ZW52Jyk7XG5cblx0XHRcdHRoaXMubG9nZ2VyLmluZm8oJ1tJTkZPXSBDaGVja2luZyBkaXNrIHNwYWNlJywgeyBwYXRoOiBhcHBEYXRhLCByZXF1aXJlZE1COiA1MDAgfSk7XG5cdFx0XHRjb25zdCBoYXNTcGFjZSA9IGF3YWl0IHRoaXMuY2hlY2tEaXNrU3BhY2UoYXBwRGF0YSwgNTAwKTtcblx0XHRcdHRoaXMubG9nZ2VyLmluZm8oJ1tJTkZPXSBEaXNrIHNwYWNlIGNoZWNrIHJlc3VsdCcsIHsgaGFzU3BhY2UsIHBhdGg6IGFwcERhdGEgfSk7XG5cdFx0XHRpZiAoIWhhc1NwYWNlKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignSW5zdWZmaWNpZW50IGRpc2sgc3BhY2UgKDUwME1CIHJlcXVpcmVkKScpO1xuXHRcdFx0fVxuXG5cdFx0XHRhd2FpdCBmc1Byb21pc2VzLm1rZGlyKGFwcERhdGEsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuXG5cdFx0XHRpZiAobWV0aG9kID09PSAnc3lzdGVtJykge1xuXHRcdFx0XHRvblByb2dyZXNzPy4oJ0ZpbmRpbmcgc3lzdGVtIFB5dGhvbi4uLicsIDEwKTtcblx0XHRcdFx0Y29uc3Qgc3lzdGVtUHl0aG9uID0gYXdhaXQgdGhpcy5maW5kU3lzdGVtUHl0aG9uKCk7XG5cdFx0XHRcdGlmICghc3lzdGVtUHl0aG9uKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdObyBQeXRob24gMy4xMSsgZm91bmQgb24gc3lzdGVtJyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLmxvZ2dlci5pbmZvKCdbSU5GT10gVXNpbmcgc3lzdGVtIFB5dGhvbicsIHtcblx0XHRcdFx0XHRwYXRoOiBzeXN0ZW1QeXRob24ucGF0aCxcblx0XHRcdFx0XHR2ZXJzaW9uOiBzeXN0ZW1QeXRob24udmVyc2lvbixcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0b25Qcm9ncmVzcz8uKCdDcmVhdGluZyB2aXJ0dWFsIGVudmlyb25tZW50Li4uJywgMzApO1xuXHRcdFx0XHRhd2FpdCB0aGlzLmNyZWF0ZVZlbnYoc3lzdGVtUHl0aG9uLnBhdGgsIHZlbnZQYXRoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG9uUHJvZ3Jlc3M/LignRG93bmxvYWRpbmcgdXYgcGFja2FnZSBtYW5hZ2VyLi4uJywgMTApO1xuXHRcdFx0XHRhd2FpdCB0aGlzLmluc3RhbGxVdihhcHBEYXRhKTtcblxuXHRcdFx0XHRvblByb2dyZXNzPy4oJ0luc3RhbGxpbmcgUHl0aG9uIDMuMTEgdmlhIHV2Li4uJywgMzApO1xuXHRcdFx0XHRhd2FpdCB0aGlzLnJ1blV2KGFwcERhdGEsIFsncHl0aG9uJywgJ2luc3RhbGwnLCAnMy4xMSddKTtcblxuXHRcdFx0XHRvblByb2dyZXNzPy4oJ0NyZWF0aW5nIHZpcnR1YWwgZW52aXJvbm1lbnQuLi4nLCA1MCk7XG5cdFx0XHRcdGF3YWl0IHRoaXMucnVuVXYoYXBwRGF0YSwgWyd2ZW52JywgdmVudlBhdGgsICctLXB5dGhvbicsICczLjExJywgJy0tY2xlYXInXSk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHB5dGhvblBhdGggPSB0aGlzLmdldFZlbnZQeXRob24odmVudlBhdGgpO1xuXG5cdFx0XHRvblByb2dyZXNzPy4oJ0luc3RhbGxpbmcgZGVwZW5kZW5jaWVzLi4uJywgNzApO1xuXHRcdFx0YXdhaXQgdGhpcy5pbnN0YWxsRGVwcyhtZXRob2QsIGFwcERhdGEsIHB5dGhvblBhdGgpO1xuXG5cdFx0XHRvblByb2dyZXNzPy4oJ1ZlcmlmeWluZyBpbnN0YWxsYXRpb24uLi4nLCA5MCk7XG5cdFx0XHRjb25zdCB2YWxpZCA9IGF3YWl0IHRoaXMudGVzdFZlbnYocHl0aG9uUGF0aCk7XG5cdFx0XHRpZiAoIXZhbGlkKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignSW5zdGFsbGF0aW9uIHZhbGlkYXRpb24gZmFpbGVkJyk7XG5cdFx0XHR9XG5cblx0XHRcdG9uUHJvZ3Jlc3M/LignSW5zdGFsbGF0aW9uIGNvbXBsZXRlIScsIDEwMCk7XG5cdFx0XHR0aGlzLmxvZ2dlci5pbmZvKCdbU1VDQ0VTU10gUHl0aG9uIGVudmlyb25tZW50IGluc3RhbGxlZCcsIHsgcGF0aDogcHl0aG9uUGF0aCB9KTtcblxuXHRcdFx0cmV0dXJuIHB5dGhvblBhdGg7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGNvbnN0IHZlbnZQYXRoID0gcGF0aC5qb2luKHRoaXMuZ2V0QXBwRGF0YVBhdGgoKSwgJ3ZlbnYnKTtcblx0XHRcdGlmIChhd2FpdCB0aGlzLnBhdGhFeGlzdHModmVudlBhdGgpKSB7XG5cdFx0XHRcdGF3YWl0IGZzUHJvbWlzZXMucm0odmVudlBhdGgsIHsgcmVjdXJzaXZlOiB0cnVlLCBmb3JjZTogdHJ1ZSB9KTtcblx0XHRcdFx0dGhpcy5sb2dnZXIuaW5mbygnW0lORk9dIENsZWFuZWQgdXAgcGFydGlhbCBpbnN0YWxsYXRpb24nKTtcblx0XHRcdH1cblx0XHRcdHRoaXMubG9nZ2VyLmVycm9yKCdbRVJST1JdIEluc3RhbGxhdGlvbiBmYWlsZWQnLCBlcnJvciBhcyBFcnJvcik7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0dGhpcy5pbnN0YWxsSW5Qcm9ncmVzcyA9IGZhbHNlO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgZmluZFN5c3RlbVB5dGhvbigpOiBQcm9taXNlPHsgcGF0aDogc3RyaW5nOyB2ZXJzaW9uOiBzdHJpbmcgfSB8IG51bGw+IHtcblx0XHRjb25zdCBjYW5kaWRhdGVzID0gdGhpcy5nZXRQeXRob25DYW5kaWRhdGVzKCk7XG5cblx0XHRmb3IgKGNvbnN0IGNhbmRpZGF0ZSBvZiBjYW5kaWRhdGVzKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCB2ZXJzaW9uU3RyID0gYXdhaXQgdGhpcy5leGVjKGNhbmRpZGF0ZSwgWyctLXZlcnNpb24nXSk7XG5cdFx0XHRcdGNvbnN0IG1hdGNoID0gdmVyc2lvblN0ci5tYXRjaCgvUHl0aG9uIChcXGQrKVxcLihcXGQrKVxcLihcXGQrKS8pO1xuXG5cdFx0XHRcdGlmIChtYXRjaCkge1xuXHRcdFx0XHRcdGNvbnN0IFssIG1ham9yLCBtaW5vcl0gPSBtYXRjaC5tYXAoTnVtYmVyKTtcblx0XHRcdFx0XHRpZiAobWFqb3IgPT09IDMgJiYgbWlub3IgPj0gMTEpIHtcblx0XHRcdFx0XHRcdHJldHVybiB7IHBhdGg6IGNhbmRpZGF0ZSwgdmVyc2lvbjogdmVyc2lvblN0ci50cmltKCkgfTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgdGVzdFZlbnYocHl0aG9uUGF0aDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IG91dHB1dCA9IGF3YWl0IHRoaXMuZXhlYyhweXRob25QYXRoLCBbXG5cdFx0XHRcdCctYycsXG5cdFx0XHRcdCdpbXBvcnQgZ3JhcGhpdGlfY29yZTsgcHJpbnQoXCJPS1wiKScsXG5cdFx0XHRdKTtcblx0XHRcdHJldHVybiBvdXRwdXQudHJpbSgpID09PSAnT0snO1xuXHRcdH0gY2F0Y2gge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgY3JlYXRlVmVudihiYXNlUHl0aG9uOiBzdHJpbmcsIHZlbnZQYXRoOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRhd2FpdCB0aGlzLmV4ZWMoYmFzZVB5dGhvbiwgWyctbScsICd2ZW52JywgdmVudlBhdGhdKTtcblx0fVxuXG5cdHByaXZhdGUgZ2V0VmVudlB5dGhvbih2ZW52UGF0aDogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRjb25zdCBwbGF0Zm9ybSA9IHByb2Nlc3MucGxhdGZvcm07XG5cdFx0aWYgKHBsYXRmb3JtID09PSAnd2luMzInKSB7XG5cdFx0XHRyZXR1cm4gcGF0aC5qb2luKHZlbnZQYXRoLCAnU2NyaXB0cycsICdweXRob24uZXhlJyk7XG5cdFx0fVxuXHRcdHJldHVybiBwYXRoLmpvaW4odmVudlBhdGgsICdiaW4nLCAncHl0aG9uJyk7XG5cdH1cblxuXHRwcml2YXRlIGdldEFwcERhdGFQYXRoKCk6IHN0cmluZyB7XG5cdFx0Y29uc3QgaG9tZSA9IG9zLmhvbWVkaXIoKTtcblx0XHRjb25zdCBwbGF0Zm9ybSA9IHByb2Nlc3MucGxhdGZvcm07XG5cblx0XHRsZXQgYmFzZTogc3RyaW5nO1xuXHRcdGlmIChwbGF0Zm9ybSA9PT0gJ3dpbjMyJykge1xuXHRcdFx0YmFzZSA9IHByb2Nlc3MuZW52LkxPQ0FMQVBQREFUQSB8fCBwYXRoLmpvaW4oaG9tZSwgJ0FwcERhdGEnLCAnTG9jYWwnKTtcblx0XHR9IGVsc2UgaWYgKHBsYXRmb3JtID09PSAnZGFyd2luJykge1xuXHRcdFx0YmFzZSA9IHBhdGguam9pbihob21lLCAnTGlicmFyeScsICdBcHBsaWNhdGlvbiBTdXBwb3J0Jyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGJhc2UgPSBwYXRoLmpvaW4oaG9tZSwgJy5sb2NhbCcsICdzaGFyZScpO1xuXHRcdH1cblxuXHRcdHJldHVybiBwYXRoLmpvaW4oYmFzZSwgJ01lZ2FNZW0nLCAncHl0aG9uJyk7XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIGlzVXZJbnN0YWxsZWQoKTogUHJvbWlzZTxib29sZWFuPiB7XG5cdFx0Y29uc3QgYXBwRGF0YSA9IHRoaXMuZ2V0QXBwRGF0YVBhdGgoKTtcblx0XHRjb25zdCB1dlBhdGggPSB0aGlzLmdldFV2UGF0aChhcHBEYXRhKTtcblx0XHRyZXR1cm4gYXdhaXQgdGhpcy5wYXRoRXhpc3RzKHV2UGF0aCk7XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIGluc3RhbGxVdihhcHBEYXRhOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCBiaW5EaXIgPSBwYXRoLmpvaW4oYXBwRGF0YSwgJ2JpbicpO1xuXHRcdGF3YWl0IGZzUHJvbWlzZXMubWtkaXIoYmluRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcblxuXHRcdGNvbnN0IHBsYXRmb3JtID0gcHJvY2Vzcy5wbGF0Zm9ybSBhcyBrZXlvZiB0eXBlb2YgVVZfVVJMUztcblx0XHRjb25zdCBhcmNoID0gcHJvY2Vzcy5hcmNoID09PSAnYXJtNjQnID8gJ2FybTY0JyA6ICd4NjQnO1xuXHRcdGNvbnN0IHVybCA9IFVWX1VSTFNbcGxhdGZvcm1dPy5bYXJjaF07XG5cblx0XHRpZiAoIXVybCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBwbGF0Zm9ybTogJHtwbGF0Zm9ybX0gJHthcmNofWApO1xuXHRcdH1cblxuXHRcdGNvbnN0IGlzWmlwID0gdXJsLmVuZHNXaXRoKCcuemlwJyk7XG5cdFx0Y29uc3QgZG93bmxvYWRQYXRoID0gcGF0aC5qb2luKGFwcERhdGEsIGlzWmlwID8gJ3V2LnppcCcgOiAndXYudGFyLmd6Jyk7XG5cblx0XHR0aGlzLmxvZ2dlci5pbmZvKCdbSU5GT10gRG93bmxvYWRpbmcgdXYnLCB7IHVybCB9KTtcblx0XHRhd2FpdCB0aGlzLmRvd25sb2FkRmlsZSh1cmwsIGRvd25sb2FkUGF0aCk7XG5cblx0XHRjb25zdCBleHBlY3RlZENoZWNrc3VtID0gVVZfQ0hFQ0tTVU1TW3BsYXRmb3JtXT8uW2FyY2hdO1xuXHRcdGlmIChleHBlY3RlZENoZWNrc3VtKSB7XG5cdFx0XHRjb25zdCB2YWxpZCA9IGF3YWl0IHRoaXMudmVyaWZ5Q2hlY2tzdW0oZG93bmxvYWRQYXRoLCBleHBlY3RlZENoZWNrc3VtKTtcblx0XHRcdGlmICghdmFsaWQpIHtcblx0XHRcdFx0YXdhaXQgZnNQcm9taXNlcy51bmxpbmsoZG93bmxvYWRQYXRoKTtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdDaGVja3N1bSB2ZXJpZmljYXRpb24gZmFpbGVkIGZvciB1diBkb3dubG9hZCcpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5sb2dnZXIuaW5mbygnW1NVQ0NFU1NdIFVWIGNoZWNrc3VtIHZlcmlmaWVkJyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMubG9nZ2VyLndhcm4oJ1tXQVJOSU5HXSBVViBjaGVja3N1bSBub3QgY29uZmlndXJlZCAtIHNraXBwaW5nIHZlcmlmaWNhdGlvbiAoc2VjdXJpdHkgcmlzayknKTtcblx0XHR9XG5cblx0XHRpZiAoaXNaaXApIHtcblx0XHRcdGF3YWl0IHRoaXMuZXh0cmFjdFppcChkb3dubG9hZFBhdGgsIGJpbkRpcik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGF3YWl0IHRoaXMuZXh0cmFjdFRhcihkb3dubG9hZFBhdGgsIGJpbkRpcik7XG5cdFx0fVxuXG5cdFx0YXdhaXQgZnNQcm9taXNlcy51bmxpbmsoZG93bmxvYWRQYXRoKTtcblxuXHRcdGlmIChwbGF0Zm9ybSAhPT0gJ3dpbjMyJykge1xuXHRcdFx0Y29uc3QgdXZQYXRoID0gdGhpcy5nZXRVdlBhdGgoYXBwRGF0YSk7XG5cdFx0XHRhd2FpdCBmc1Byb21pc2VzLmNobW9kKHV2UGF0aCwgMG83NTUpO1xuXHRcdH1cblxuXHRcdHRoaXMubG9nZ2VyLmluZm8oJ1tTVUNDRVNTXSB1diBpbnN0YWxsZWQnKTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgcnVuVXYoYXBwRGF0YTogc3RyaW5nLCBhcmdzOiBzdHJpbmdbXSk6IFByb21pc2U8c3RyaW5nPiB7XG5cdFx0Y29uc3QgdXZQYXRoID0gdGhpcy5nZXRVdlBhdGgoYXBwRGF0YSk7XG5cdFx0cmV0dXJuIGF3YWl0IHRoaXMuZXhlYyh1dlBhdGgsIGFyZ3MpO1xuXHR9XG5cblx0cHJpdmF0ZSBnZXRVdlBhdGgoYXBwRGF0YTogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRjb25zdCBwbGF0Zm9ybSA9IHByb2Nlc3MucGxhdGZvcm07XG5cdFx0Y29uc3QgYmluRGlyID0gcGF0aC5qb2luKGFwcERhdGEsICdiaW4nKTtcblx0XHRpZiAocGxhdGZvcm0gPT09ICd3aW4zMicpIHtcblx0XHRcdHJldHVybiBwYXRoLmpvaW4oYmluRGlyLCAndXYuZXhlJyk7XG5cdFx0fVxuXHRcdHJldHVybiBwYXRoLmpvaW4oYmluRGlyLCAndXYnKTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgZXhlYyhjb21tYW5kOiBzdHJpbmcsIGFyZ3M6IHN0cmluZ1tdKTogUHJvbWlzZTxzdHJpbmc+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0Y29uc3QgY2hpbGQgPSBzcGF3bihjb21tYW5kLCBhcmdzLCB7IHN0ZGlvOiBbJ2lnbm9yZScsICdwaXBlJywgJ3BpcGUnXSB9KTtcblxuXHRcdFx0bGV0IHN0ZG91dCA9ICcnO1xuXHRcdFx0bGV0IHN0ZGVyciA9ICcnO1xuXG5cdFx0XHRjaGlsZC5zdGRvdXQ/Lm9uKCdkYXRhJywgKGRhdGEpID0+IHtcblx0XHRcdFx0c3Rkb3V0ICs9IGRhdGEudG9TdHJpbmcoKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRjaGlsZC5zdGRlcnI/Lm9uKCdkYXRhJywgKGRhdGEpID0+IHtcblx0XHRcdFx0c3RkZXJyICs9IGRhdGEudG9TdHJpbmcoKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRjaGlsZC5vbignY2xvc2UnLCAoY29kZSkgPT4ge1xuXHRcdFx0XHRpZiAoY29kZSA9PT0gMCkge1xuXHRcdFx0XHRcdHJlc29sdmUoc3Rkb3V0KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZWplY3QobmV3IEVycm9yKGBDb21tYW5kIGZhaWxlZDogJHtjb21tYW5kfSAke2FyZ3Muam9pbignICcpfVxcbiR7c3RkZXJyfWApKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdGNoaWxkLm9uKCdlcnJvcicsIChlcnJvcikgPT4ge1xuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIHBhdGhFeGlzdHMoZmlsZVBhdGg6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRcdHRyeSB7XG5cdFx0XHRhd2FpdCBmc1Byb21pc2VzLmFjY2VzcyhmaWxlUGF0aCk7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9IGNhdGNoIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGRldGVjdE1pc21hdGNoKHN0YXR1czoge1xuXHRcdGRhdGFKc29uUHl0aG9uOiBzdHJpbmcgfCBudWxsO1xuXHRcdHZlbnZFeGlzdHM6IGJvb2xlYW47XG5cdFx0dmVudlZhbGlkOiBib29sZWFuO1xuXHRcdHZlbnZQYXRoOiBzdHJpbmc7XG5cdH0pOiB7IGRldGVjdGVkOiBib29sZWFuOyBkZXNjcmlwdGlvbjogc3RyaW5nIH0ge1xuXHRcdGlmICghc3RhdHVzLnZlbnZFeGlzdHMpIHtcblx0XHRcdHJldHVybiB7IGRldGVjdGVkOiBmYWxzZSwgZGVzY3JpcHRpb246ICcnIH07XG5cdFx0fVxuXG5cdFx0aWYgKCFzdGF0dXMudmVudlZhbGlkKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRkZXRlY3RlZDogdHJ1ZSxcblx0XHRcdFx0ZGVzY3JpcHRpb246ICdWaXJ0dWFsIGVudmlyb25tZW50IGV4aXN0cyBidXQgaXMgaW52YWxpZCcsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmIChzdGF0dXMuZGF0YUpzb25QeXRob24gJiYgc3RhdHVzLmRhdGFKc29uUHl0aG9uICE9PSBzdGF0dXMudmVudlBhdGgpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGRldGVjdGVkOiB0cnVlLFxuXHRcdFx0XHRkZXNjcmlwdGlvbjogJ0NvbmZpZ3VyZWQgUHl0aG9uIHBhdGggZG9lcyBub3QgbWF0Y2ggdmVudiBwYXRoJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgZGV0ZWN0ZWQ6IGZhbHNlLCBkZXNjcmlwdGlvbjogJycgfTtcblx0fVxuXG5cdHByaXZhdGUgZ2V0UHl0aG9uQ2FuZGlkYXRlcygpOiBzdHJpbmdbXSB7XG5cdFx0Y29uc3QgcGxhdGZvcm0gPSBwcm9jZXNzLnBsYXRmb3JtO1xuXHRcdGlmIChwbGF0Zm9ybSA9PT0gJ3dpbjMyJykge1xuXHRcdFx0cmV0dXJuIFsncHknLCAncHl0aG9uJywgJ3B5dGhvbjMnXTtcblx0XHR9XG5cdFx0cmV0dXJuIFsncHl0aG9uMycsICdweXRob24nXTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgZG93bmxvYWRGaWxlKHVybDogc3RyaW5nLCBkZXN0UGF0aDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3QgaHR0cHMgPSByZXF1aXJlKCdodHRwcycpO1xuXHRcdGNvbnN0IGZpbGVTeXN0ZW0gPSByZXF1aXJlKCdmcycpO1xuXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdGh0dHBzXG5cdFx0XHRcdC5nZXQodXJsLCAocmVzcG9uc2U6IGFueSkgPT4ge1xuXHRcdFx0XHRcdGlmIChyZXNwb25zZS5zdGF0dXNDb2RlID09PSAzMDEgfHwgcmVzcG9uc2Uuc3RhdHVzQ29kZSA9PT0gMzAyKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcy5kb3dubG9hZEZpbGUocmVzcG9uc2UuaGVhZGVycy5sb2NhdGlvbiwgZGVzdFBhdGgpXG5cdFx0XHRcdFx0XHRcdC50aGVuKHJlc29sdmUpXG5cdFx0XHRcdFx0XHRcdC5jYXRjaChyZWplY3QpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnN0IGZpbGVTdHJlYW0gPSBmaWxlU3lzdGVtLmNyZWF0ZVdyaXRlU3RyZWFtKGRlc3RQYXRoKTtcblx0XHRcdFx0XHRyZXNwb25zZS5waXBlKGZpbGVTdHJlYW0pO1xuXG5cdFx0XHRcdFx0ZmlsZVN0cmVhbS5vbignZmluaXNoJywgKCkgPT4ge1xuXHRcdFx0XHRcdFx0ZmlsZVN0cmVhbS5jbG9zZSgpO1xuXHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0ZmlsZVN0cmVhbS5vbignZXJyb3InLCAoZXJyOiBFcnJvcikgPT4ge1xuXHRcdFx0XHRcdFx0ZmlsZVN5c3RlbS51bmxpbmsoZGVzdFBhdGgsICgpID0+IHt9KTtcblx0XHRcdFx0XHRcdHJlamVjdChlcnIpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KVxuXHRcdFx0XHQub24oJ2Vycm9yJywgcmVqZWN0KTtcblx0XHR9KTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgZXh0cmFjdFppcCh6aXBQYXRoOiBzdHJpbmcsIGRlc3REaXI6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IHsgZXhlYyB9ID0gcmVxdWlyZSgnY2hpbGRfcHJvY2VzcycpO1xuXHRcdGNvbnN0IHsgcHJvbWlzaWZ5IH0gPSByZXF1aXJlKCd1dGlsJyk7XG5cdFx0Y29uc3QgZXhlY0FzeW5jID0gcHJvbWlzaWZ5KGV4ZWMpO1xuXHRcdFxuXHRcdGNvbnN0IHBsYXRmb3JtID0gcHJvY2Vzcy5wbGF0Zm9ybTtcblx0XHRpZiAocGxhdGZvcm0gPT09ICd3aW4zMicpIHtcblx0XHRcdGF3YWl0IGV4ZWNBc3luYyhgcG93ZXJzaGVsbCAtY29tbWFuZCBcIkV4cGFuZC1BcmNoaXZlIC1QYXRoICcke3ppcFBhdGh9JyAtRGVzdGluYXRpb25QYXRoICcke2Rlc3REaXJ9JyAtRm9yY2VcImApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRhd2FpdCBleGVjQXN5bmMoYHVuemlwIC1vIFwiJHt6aXBQYXRofVwiIC1kIFwiJHtkZXN0RGlyfVwiYCk7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBleHRyYWN0VGFyKHRhclBhdGg6IHN0cmluZywgZGVzdERpcjogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3QgdGFyID0gcmVxdWlyZSgndGFyJyk7XG5cdFx0YXdhaXQgdGFyLngoe1xuXHRcdFx0ZmlsZTogdGFyUGF0aCxcblx0XHRcdGN3ZDogZGVzdERpcixcblx0XHR9KTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgdmVyaWZ5Q2hlY2tzdW0oZmlsZVBhdGg6IHN0cmluZywgZXhwZWN0ZWRTaGEyNTY6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRjb25zdCBoYXNoID0gY3J5cHRvLmNyZWF0ZUhhc2goJ3NoYTI1NicpO1xuXHRcdFx0Y29uc3QgZmlsZVN5c3RlbSA9IHJlcXVpcmUoJ2ZzJyk7XG5cdFx0XHRjb25zdCBzdHJlYW0gPSBmaWxlU3lzdGVtLmNyZWF0ZVJlYWRTdHJlYW0oZmlsZVBhdGgpO1xuXG5cdFx0XHRzdHJlYW0ub24oJ2RhdGEnLCAoZGF0YTogQnVmZmVyKSA9PiBoYXNoLnVwZGF0ZShkYXRhIGFzIGFueSkpO1xuXHRcdFx0c3RyZWFtLm9uKCdlbmQnLCAoKSA9PiByZXNvbHZlKGhhc2guZGlnZXN0KCdoZXgnKSA9PT0gZXhwZWN0ZWRTaGEyNTYpKTtcblx0XHRcdHN0cmVhbS5vbignZXJyb3InLCByZWplY3QpO1xuXHRcdH0pO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBjaGVja0Rpc2tTcGFjZSh0YXJnZXRQYXRoOiBzdHJpbmcsIHJlcXVpcmVkTUI6IG51bWJlcik6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBwbGF0Zm9ybSA9IHByb2Nlc3MucGxhdGZvcm07XG5cdFx0XHRjb25zdCBkaXIgPSBhd2FpdCBmc1Byb21pc2VzLnN0YXQodGFyZ2V0UGF0aCkuY2F0Y2goKCkgPT4gbnVsbCk7XG5cdFx0XHRjb25zdCBjaGVja1BhdGggPSBkaXIgPyB0YXJnZXRQYXRoIDogcGF0aC5kaXJuYW1lKHRhcmdldFBhdGgpO1xuXG5cdFx0XHRpZiAocGxhdGZvcm0gPT09ICd3aW4zMicpIHtcblx0XHRcdFx0Y29uc3Qgb3V0cHV0ID0gYXdhaXQgdGhpcy5leGVjKCd3bWljJywgW1xuXHRcdFx0XHRcdCdsb2dpY2FsZGlzaycsXG5cdFx0XHRcdFx0J2dldCcsXG5cdFx0XHRcdFx0J2ZyZWVzcGFjZSxjYXB0aW9uJyxcblx0XHRcdFx0XSk7XG5cdFx0XHRcdGNvbnN0IGRyaXZlID0gY2hlY2tQYXRoLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpO1xuXHRcdFx0XHR0aGlzLmxvZ2dlci5pbmZvKCdbSU5GT10gQ2hlY2tpbmcgZGlzayBzcGFjZSBvbiBXaW5kb3dzJywgeyBkcml2ZSwgY2hlY2tQYXRoIH0pO1xuXHRcdFx0XHRjb25zdCBsaW5lcyA9IG91dHB1dC5zcGxpdCgnXFxuJyk7XG5cdFx0XHRcdGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xuXHRcdFx0XHRcdGlmIChsaW5lLmluY2x1ZGVzKGRyaXZlICsgJzonKSkge1xuXHRcdFx0XHRcdFx0Y29uc3QgcGFydHMgPSBsaW5lLnRyaW0oKS5zcGxpdCgvXFxzKy8pO1xuXHRcdFx0XHRcdFx0dGhpcy5sb2dnZXIuaW5mbygnW0lORk9dIEZvdW5kIGRyaXZlIGxpbmUnLCB7IGxpbmUsIHBhcnRzIH0pO1xuXHRcdFx0XHRcdFx0Ly8gd21pYyBvdXRwdXQ6IENhcHRpb24gIEZyZWVTcGFjZVxuXHRcdFx0XHRcdFx0Ly8gUGFydHM6IFtDYXB0aW9uLCBGcmVlU3BhY2VdIG9yIFtGcmVlU3BhY2UsIENhcHRpb25dIGRlcGVuZGluZyBvbiBjb2x1bW4gb3JkZXJcblx0XHRcdFx0XHRcdGNvbnN0IGZyZWVTcGFjZSA9IHBhcnNlSW50KHBhcnRzW3BhcnRzLmxlbmd0aCA9PT0gMiA/IDEgOiAwXSk7XG5cdFx0XHRcdFx0XHRjb25zdCBoYXNFbm91Z2hTcGFjZSA9IGZyZWVTcGFjZSA+PSByZXF1aXJlZE1CICogMTAyNCAqIDEwMjQ7XG5cdFx0XHRcdFx0XHR0aGlzLmxvZ2dlci5pbmZvKCdbSU5GT10gRGlzayBzcGFjZSBjYWxjdWxhdGlvbicsIHtcblx0XHRcdFx0XHRcdFx0ZnJlZVNwYWNlLFxuXHRcdFx0XHRcdFx0XHRyZXF1aXJlZEJ5dGVzOiByZXF1aXJlZE1CICogMTAyNCAqIDEwMjQsXG5cdFx0XHRcdFx0XHRcdGhhc0Vub3VnaFNwYWNlXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdHJldHVybiBoYXNFbm91Z2hTcGFjZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IG91dHB1dCA9IGF3YWl0IHRoaXMuZXhlYygnZGYnLCBbJy1rJywgY2hlY2tQYXRoXSk7XG5cdFx0XHRcdGNvbnN0IGxpbmVzID0gb3V0cHV0LnNwbGl0KCdcXG4nKTtcblx0XHRcdFx0aWYgKGxpbmVzLmxlbmd0aCA+IDEpIHtcblx0XHRcdFx0XHRjb25zdCBwYXJ0cyA9IGxpbmVzWzFdLnRyaW0oKS5zcGxpdCgvXFxzKy8pO1xuXHRcdFx0XHRcdGNvbnN0IGZyZWVLQiA9IHBhcnNlSW50KHBhcnRzWzNdKTtcblx0XHRcdFx0XHRyZXR1cm4gZnJlZUtCID49IHJlcXVpcmVkTUIgKiAxMDI0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMubG9nZ2VyLndhcm4oJ1tXQVJOSU5HXSBDb3VsZCBub3QgY2hlY2sgZGlzayBzcGFjZScsIHsgZXJyb3IgfSk7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBpbnN0YWxsRGVwcyhtZXRob2Q6ICdzeXN0ZW0nIHwgJ3V2JywgYXBwRGF0YTogc3RyaW5nLCBweXRob25QYXRoOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCByZXFQYXRoID0gcGF0aC5yZXNvbHZlKHRoaXMucGx1Z2luRGlyLCAnbWNwLXNlcnZlcicsICdyZXF1aXJlbWVudHMudHh0Jyk7XG5cdFx0dGhpcy5sb2dnZXIuaW5mbygnW0lORk9dIEluc3RhbGxpbmcgZGVwZW5kZW5jaWVzJywgeyByZXFQYXRoLCBweXRob25QYXRoLCBtZXRob2QgfSk7XG5cdFx0XG5cdFx0aWYgKG1ldGhvZCA9PT0gJ3V2Jykge1xuXHRcdFx0YXdhaXQgdGhpcy5ydW5VdihhcHBEYXRhLCBbJ3BpcCcsICdpbnN0YWxsJywgJy0tcHl0aG9uJywgcHl0aG9uUGF0aCwgJy1yJywgcmVxUGF0aF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRhd2FpdCB0aGlzLmV4ZWMocHl0aG9uUGF0aCwgWyctbScsICdwaXAnLCAnaW5zdGFsbCcsICctLXVwZ3JhZGUnLCAncGlwJ10pO1xuXHRcdFx0YXdhaXQgdGhpcy5leGVjKHB5dGhvblBhdGgsIFsnLW0nLCAncGlwJywgJ2luc3RhbGwnLCAnLXInLCByZXFQYXRoXSk7XG5cdFx0fVxuXHRcdFxuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCB2ZXJzaW9uID0gYXdhaXQgdGhpcy5leGVjKHB5dGhvblBhdGgsIFsnLWMnLCBcImltcG9ydCBpbXBvcnRsaWIubWV0YWRhdGE7IHByaW50KGltcG9ydGxpYi5tZXRhZGF0YS52ZXJzaW9uKCdncmFwaGl0aS1jb3JlJykpXCJdKTtcblx0XHRcdHRoaXMubG9nZ2VyLmluZm8oJ1tTVUNDRVNTXSBncmFwaGl0aS1jb3JlIGluc3RhbGxlZCcsIHsgdmVyc2lvbjogdmVyc2lvbi50cmltKCkgfSk7XG5cdFx0fSBjYXRjaCB7XG5cdFx0XHR0aGlzLmxvZ2dlci53YXJuKCdbV0FSTklOR10gQ291bGQgbm90IGRldGVybWluZSBncmFwaGl0aS1jb3JlIHZlcnNpb24nKTtcblx0XHR9XG5cdH1cblx0Z2V0UHl0aG9uRW52KCk6IE5vZGVKUy5Qcm9jZXNzRW52IHtcblx0XHRjb25zdCBhcHBEYXRhID0gdGhpcy5nZXRBcHBEYXRhUGF0aCgpO1xuXHRcdGNvbnN0IHZlbnZQYXRoID0gcGF0aC5qb2luKGFwcERhdGEsICd2ZW52Jyk7XG5cdFx0Y29uc3QgdmVudkJpbkRpciA9IHByb2Nlc3MucGxhdGZvcm0gPT09ICd3aW4zMidcblx0XHRcdD8gcGF0aC5qb2luKHZlbnZQYXRoLCAnU2NyaXB0cycpXG5cdFx0XHQ6IHBhdGguam9pbih2ZW52UGF0aCwgJ2JpbicpO1xuXG5cdFx0Y29uc3QgcHl0aG9uUGF0aCA9IHRoaXMucGx1Z2luRGlyICsgcGF0aC5kZWxpbWl0ZXIgKyAocHJvY2Vzcy5lbnYuUFlUSE9OUEFUSCB8fCAnJyk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4ucHJvY2Vzcy5lbnYsXG5cdFx0XHRQQVRIOiBgJHt2ZW52QmluRGlyfSR7cGF0aC5kZWxpbWl0ZXJ9JHtwcm9jZXNzLmVudi5QQVRIfWAsXG5cdFx0XHRQWVRIT05QQVRIOiBweXRob25QYXRoLFxuXHRcdFx0UFlUSE9OX0VYRUNVVEFCTEU6IHRoaXMuZ2V0VmVudlB5dGhvbih2ZW52UGF0aClcblx0XHR9O1xuXHR9XG5cblx0Z2V0UHl0aG9uRXhlY3V0YWJsZSgpOiBzdHJpbmcge1xuXHRcdGNvbnN0IGFwcERhdGEgPSB0aGlzLmdldEFwcERhdGFQYXRoKCk7XG5cdFx0Y29uc3QgdmVudlBhdGggPSBwYXRoLmpvaW4oYXBwRGF0YSwgJ3ZlbnYnKTtcblx0XHRyZXR1cm4gdGhpcy5nZXRWZW52UHl0aG9uKHZlbnZQYXRoKTtcblx0fVxuXG59XG5cbi8vIEB2ZXNzZWwtY2xvc2U6SGVpbWRhbGwiLCJpbXBvcnQgeyBzcGF3biwgQ2hpbGRQcm9jZXNzIH0gZnJvbSAnY2hpbGRfcHJvY2Vzcyc7XHJcbmltcG9ydCB7IE5vdGljZSwgUGx1Z2luLCBURmlsZSwgVEFic3RyYWN0RmlsZSB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0ICogYXMgcGF0aCBmcm9tICdwYXRoJzsgLy8gQ1JJVElDQUwgRklYOiBmb3IgcGF0aCBub3JtYWxpemF0aW9uIGluIHByZXZpb3VzX2VwaXNvZGVfdXVpZHMgcmV0cmlldmFsXHJcbmltcG9ydCB0eXBlIHsgR3JhcGhpdGlQbHVnaW5TZXR0aW5ncyB9IGZyb20gJy4uL3R5cGVzL1NldHRpbmdzJztcclxuaW1wb3J0IHsgam9pbiB9IGZyb20gJ3BhdGgnO1xyXG5pbXBvcnQgeyBTY2hlbWFEaXNjb3ZlcnlTZXJ2aWNlIH0gZnJvbSAnLi9TY2hlbWFEaXNjb3ZlcnlTZXJ2aWNlJztcclxuaW1wb3J0IHsgTm90ZVNlbGVjdGlvblNlcnZpY2UsIHR5cGUgTm90ZUZpbHRlckNyaXRlcmlhIH0gZnJvbSAnLi9Ob3RlU2VsZWN0aW9uU2VydmljZSc7XHJcbmltcG9ydCB7IEdyYXBoaXRpTG9nZ2VyIH0gZnJvbSAnLi4vdXRpbHMvTG9nZ2VyJztcclxuaW1wb3J0IHsgU3luY1JlZ2lzdHJ5U2VydmljZSB9IGZyb20gJy4vU3luY1JlZ2lzdHJ5U2VydmljZSc7XHJcbmltcG9ydCB7IFN5bmNTdGF0dXNNYW5hZ2VyIH0gZnJvbSAnLi9TeW5jU3RhdHVzTWFuYWdlcic7IC8vIE5lZWRlZCB0byByZXVzZSBnZW5lcmF0ZUVwaXNvZGVJZFxyXG5pbXBvcnQgeyBWYXVsdFJlZ2lzdHJ5U2VydmljZSB9IGZyb20gJy4vVmF1bHRSZWdpc3RyeVNlcnZpY2UnOyAvLyBJbXBvcnQgVmF1bHRSZWdpc3RyeVNlcnZpY2VcclxuaW1wb3J0IHR5cGUgeyBWYXVsdFBhdGhzIH0gZnJvbSAnLi4vdHlwZXMvUGF0aCc7IC8vIEltcG9ydCBWYXVsdFBhdGhzIGludGVyZmFjZVxyXG5pbXBvcnQgeyBwZXJmb3JtYW5jZSB9IGZyb20gJ3BlcmZfaG9va3MnOyAvLyBJbXBvcnQgcGVyZm9ybWFuY2UgZm9yIHRpbWluZ1xyXG5pbXBvcnQgKiBhcyBGcm9udG1hdHRlclV0aWxzIGZyb20gJy4uL3V0aWxzL0Zyb250bWF0dGVyVXRpbHMnOyAvLyBJbXBvcnQgZm9yIG1tX3VpZCBtYW5hZ2VtZW50XHJcbmltcG9ydCB7IE1DUEZvbGRlclJlc29sdmVyLCB0eXBlIEZvbGRlclJlc29sdXRpb25SZXN1bHQgfSBmcm9tICcuL01DUEZvbGRlclJlc29sdmVyJztcclxuaW1wb3J0IHsgUHl0aG9uSW5zdGFsbGVyIH0gZnJvbSAnLi9QeXRob25JbnN0YWxsZXInO1xyXG5cclxuLyoqXHJcbiAqIEludGVyZmFjZSBmb3IgZW50aXR5IGRlc2NyaXB0aW9ucyBpbiBkYXRhLmpzb25cclxuICovXHJcbmludGVyZmFjZSBFbnRpdHlEZXNjcmlwdGlvbiB7XHJcbiAgICBjbGFzc05hbWU6IHN0cmluZztcclxuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgICBpc1VzZXJEZWZpbmVkOiBib29sZWFuO1xyXG4gICAgc291cmNlOiBcInVzZXJcIiB8IFwibGxtXCIgfCBcImRpc2NvdmVyeVwiO1xyXG4gICAgbGFzdE1vZGlmaWVkOiBzdHJpbmc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbnRlcmZhY2UgZm9yIHByb3BlcnR5IGRlc2NyaXB0aW9ucyBpbiBkYXRhLmpzb25cclxuICovXHJcbmludGVyZmFjZSBQcm9wZXJ0eURlc2NyaXB0aW9uIHtcclxuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgICBmaWVsZFR5cGU6IHN0cmluZztcclxuICAgIGlzVXNlckRlZmluZWQ6IGJvb2xlYW47XHJcbiAgICBzb3VyY2U6IFwidXNlclwiIHwgXCJsbG1cIiB8IFwiZGlzY292ZXJ5XCI7XHJcbiAgICBsYXN0TW9kaWZpZWQ6IHN0cmluZztcclxufVxyXG5cclxuLyoqXHJcbiAqIEludGVyZmFjZSBmb3IgdGhlIGNvbXBsZXRlIGRhdGEuanNvbiBzdHJ1Y3R1cmVcclxuICovXHJcbmludGVyZmFjZSBQbHVnaW5EYXRhU3RydWN0dXJlIHtcclxuICAgIGVudGl0eURlc2NyaXB0aW9uczogUmVjb3JkPHN0cmluZywgRW50aXR5RGVzY3JpcHRpb24+O1xyXG4gICAgcHJvcGVydHlEZXNjcmlwdGlvbnM6IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIFByb3BlcnR5RGVzY3JpcHRpb24+PjtcclxuICAgIFtrZXk6IHN0cmluZ106IGFueTsgLy8gQWxsb3cgb3RoZXIgcHJvcGVydGllc1xyXG59XHJcblxyXG4vKipcclxuICogQ29uZmlndXJhdGlvbiBmb3IgR3JhcGhpdGlTZXJ2aWNlIHN5bmMgb3BlcmF0aW9uc1xyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBTeW5jQ29uZmlnIHtcclxuICAgIG5vdGVzUGF0aHM6IHN0cmluZ1tdO1xyXG4gICAgYmF0Y2hTaXplOiBudW1iZXI7XHJcbiAgICBkZWJ1ZzogYm9vbGVhbjtcclxuICAgIG1vZGVsc1BhdGg/OiBzdHJpbmc7XHJcbiAgICBzb3VyY2VfZGVzY3JpcHRpb24/OiBzdHJpbmc7XHJcbiAgICBwcmV2aW91c19lcGlzb2RlX3V1aWRzPzogc3RyaW5nW107XHJcbiAgICBjcm9zc0VuY29kZXJDbGllbnQ/OiBzdHJpbmc7XHJcbiAgICBjcm9zc0VuY29kZXJNb2RlbD86IHN0cmluZztcclxuICAgIGZvbGRlck5hbWVzcGFjZU1hcHBpbmdzPzogYW55W107XHJcbiAgICB1c2VfY3VzdG9tX29udG9sb2d5PzogYm9vbGVhbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFByb2dyZXNzIGNhbGxiYWNrIGZvciBzeW5jIG9wZXJhdGlvbnNcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3luY1Byb2dyZXNzIHtcclxuICAgIGN1cnJlbnQ6IG51bWJlcjtcclxuICAgIHRvdGFsOiBudW1iZXI7XHJcbiAgICBtZXNzYWdlOiBzdHJpbmc7XHJcbiAgICBwZXJjZW50YWdlOiBudW1iZXI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXN1bHQgb2YgYSBzeW5jIG9wZXJhdGlvblxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBTeW5jUmVzdWx0IHtcclxuICAgIHN0YXR1czogJ3N1Y2Nlc3MnIHwgJ2Vycm9yJztcclxuICAgIHByb2Nlc3NlZDogbnVtYmVyO1xyXG4gICAgc2tpcHBlZDogbnVtYmVyO1xyXG4gICAgdG90YWw6IG51bWJlcjtcclxuICAgIGJhdGNoQ291bnQ6IG51bWJlcjtcclxuICAgIG5vZGVUeXBlc0xvYWRlZDogbnVtYmVyO1xyXG4gICAgZWRnZVR5cGVzTG9hZGVkOiBudW1iZXI7XHJcbiAgICBlcnJvcnM/OiBzdHJpbmdbXTtcclxuICAgIGhhc0Vycm9ycz86IGJvb2xlYW47XHJcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xyXG4gICAgLy8gTmVzdGVkIHN1bW1hcnkgb2JqZWN0IGZvciBQeXRob24gc2NyaXB0IGNvbXBhdGliaWxpdHlcclxuICAgIHN1bW1hcnk/OiB7XHJcbiAgICAgICAgcHJvY2Vzc2VkOiBudW1iZXI7XHJcbiAgICAgICAgc2tpcHBlZDogbnVtYmVyO1xyXG4gICAgICAgIHRvdGFsOiBudW1iZXI7XHJcbiAgICB9O1xyXG4gICAgLy8gRW5oYW5jZWQgZXJyb3IgZGV0YWlscyBmb3IgZGVidWdnaW5nXHJcbiAgICBweXRob25TdGRvdXQ/OiBzdHJpbmc7XHJcbiAgICBweXRob25TdGRlcnI/OiBzdHJpbmc7XHJcbiAgICBleGl0Q29kZT86IG51bWJlcjtcclxuICAgIGZ1bGxFcnJvckRldGFpbHM/OiBhbnk7XHJcbiAgIG5vdGVzPzogQXJyYXk8eyBub3RlX3BhdGg6IHN0cmluZzsgZXBpc29kZV91dWlkOiBzdHJpbmc7IH0+O1xyXG59XHJcblxyXG4vKipcclxuICogU2VydmljZSBmb3IgbWFuYWdpbmcgY29tbXVuaWNhdGlvbiB3aXRoIHRoZSBHcmFwaGl0aSBQeXRob24gYnJpZGdlXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgR3JhcGhpdGlTZXJ2aWNlIHtcclxuICAgIHByaXZhdGUgcGx1Z2luOiBQbHVnaW47XHJcbiAgICBwcml2YXRlIHNldHRpbmdzOiBHcmFwaGl0aVBsdWdpblNldHRpbmdzO1xyXG4gICAgcHJpdmF0ZSBweXRob25Qcm9jZXNzOiBDaGlsZFByb2Nlc3MgfCBudWxsID0gbnVsbDtcclxuICAgIHByaXZhdGUgbWNwU2VydmVyUHJvY2VzczogQ2hpbGRQcm9jZXNzIHwgbnVsbCA9IG51bGw7XHJcbiAgICBwcml2YXRlIGFjdGl2ZVByb2Nlc3NlczogU2V0PENoaWxkUHJvY2Vzcz4gPSBuZXcgU2V0KCk7XHJcbiAgICBwcml2YXRlIGlzQ2FuY2VsbGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIHNjaGVtYVNlcnZpY2U6IFNjaGVtYURpc2NvdmVyeVNlcnZpY2U7XHJcbiAgICBwcml2YXRlIG5vdGVTZWxlY3Rpb25TZXJ2aWNlOiBOb3RlU2VsZWN0aW9uU2VydmljZTtcclxuICAgIHByaXZhdGUgbG9nZ2VyOiBHcmFwaGl0aUxvZ2dlcjtcclxuICAgIHByaXZhdGUgc3luY1JlZ2lzdHJ5U2VydmljZTogU3luY1JlZ2lzdHJ5U2VydmljZTtcclxuICAgIHByaXZhdGUgc3luY1N0YXR1c01hbmFnZXI6IFN5bmNTdGF0dXNNYW5hZ2VyOyAvLyBUbyByZXVzZSBnZW5lcmF0ZUVwaXNvZGVJZFxyXG4gICAgcHJpdmF0ZSB2YXVsdFJlZ2lzdHJ5U2VydmljZTogVmF1bHRSZWdpc3RyeVNlcnZpY2U7IC8vIEluamVjdCBWYXVsdFJlZ2lzdHJ5U2VydmljZVxyXG4gICAgcHJpdmF0ZSBtY3BGb2xkZXJSZXNvbHZlcj86IE1DUEZvbGRlclJlc29sdmVyOyAvLyBNQ1AgZm9sZGVyIHJlc29sdXRpb24gc2VydmljZVxyXG4gICAgcHJpdmF0ZSBweXRob25JbnN0YWxsZXI6IFB5dGhvbkluc3RhbGxlcjtcclxuICAgIC8qKlxyXG4gICAgICogQHByb3BlcnR5IHtNYXA8c3RyaW5nLCBWYXVsdFBhdGhzPn0gcGF0aENhY2hlIC0gQ2FjaGUgZm9yIHZhdWx0LXNwZWNpZmljIHJlc29sdmVkIHBhdGhzLCBrZXllZCBieSB2YXVsdCBJRC5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBwYXRoQ2FjaGU6IE1hcDxzdHJpbmcsIFZhdWx0UGF0aHM+ID0gbmV3IE1hcCgpO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gY2FjaGVIaXRzIC0gQ291bnRlciBmb3Igc3VjY2Vzc2Z1bCBsb29rdXBzIGluIHRoZSBwYXRoIGNhY2hlLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGNhY2hlSGl0czogbnVtYmVyID0gMDtcclxuICAgIC8qKlxyXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGNhY2hlTWlzc2VzIC0gQ291bnRlciBmb3IgZmFpbGVkIGxvb2t1cHMgKGNhY2hlIG1pc3NlcykgaW4gdGhlIHBhdGggY2FjaGUuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgY2FjaGVNaXNzZXM6IG51bWJlciA9IDA7XHJcbiAgICAvKipcclxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsYXN0Q2FjaGVMb2dUaW1lIC0gVGltZXN0YW1wIHRvIHRocm90dGxlIGNhY2hlIGhlYWx0aCBsb2dnaW5nLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGxhc3RDYWNoZUxvZ1RpbWU6IG51bWJlciA9IDA7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbnZhbGlkYXRlcyB0aGUgcGF0aCBjYWNoZS5cclxuICAgICAqIElmIGEgYHZhdWx0SWRgIGlzIHByb3ZpZGVkLCBvbmx5IHRoYXQgdmF1bHQncyBwYXRocyBhcmUgcmVtb3ZlZCBmcm9tIHRoZSBjYWNoZS5cclxuICAgICAqIElmIG5vIGB2YXVsdElkYCBpcyBwcm92aWRlZCwgdGhlIGVudGlyZSBjYWNoZSBpcyBjbGVhcmVkLlxyXG4gICAgICogVGhpcyBtZXRob2QgaXMgY3J1Y2lhbCBmb3IgbWFpbnRhaW5pbmcgZGF0YSBmcmVzaG5lc3Mgd2hlbiB0aGUgYWN0aXZlIHZhdWx0IGNoYW5nZXMgb3JcclxuICAgICAqIHRoZSB2YXVsdCByZWdpc3RyeSBpcyB1cGRhdGVkLCBwcmV2ZW50aW5nIHRoZSB1c2Ugb2Ygc3RhbGUgcGF0aCBpbmZvcm1hdGlvbi5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdmF1bHRJZF0gLSBUaGUgSUQgb2YgdGhlIHZhdWx0IHdob3NlIGNhY2hlIGVudHJ5IHNob3VsZCBiZSBpbnZhbGlkYXRlZC4gT3B0aW9uYWwuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgaW52YWxpZGF0ZVBhdGhDYWNoZSh2YXVsdElkPzogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHZhdWx0SWQpIHtcclxuICAgICAgICAgICAgLy8gUmVtb3ZlIHNwZWNpZmljIHZhdWx0J3MgY2FjaGUgZW50cnlcclxuICAgICAgICAgICAgdGhpcy5wYXRoQ2FjaGUuZGVsZXRlKHZhdWx0SWQpO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgW1BBVEhTXSBJbnZhbGlkYXRlZCBjYWNoZSBmb3IgdmF1bHQ6ICR7dmF1bHRJZH1gKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBDbGVhciBlbnRpcmUgcGF0aCBjYWNoZVxyXG4gICAgICAgICAgICB0aGlzLnBhdGhDYWNoZS5jbGVhcigpO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW1BBVEhTXSBDbGVhcmVkIGVudGlyZSBwYXRoIGNhY2hlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHBsdWdpbjogUGx1Z2luLFxyXG4gICAgICAgIHNldHRpbmdzOiBHcmFwaGl0aVBsdWdpblNldHRpbmdzLFxyXG4gICAgICAgIHN5bmNSZWdpc3RyeVNlcnZpY2U6IFN5bmNSZWdpc3RyeVNlcnZpY2UsXHJcbiAgICAgICAgc3luY1N0YXR1c01hbmFnZXI6IFN5bmNTdGF0dXNNYW5hZ2VyLFxyXG4gICAgICAgIHZhdWx0UmVnaXN0cnlTZXJ2aWNlOiBWYXVsdFJlZ2lzdHJ5U2VydmljZSAvLyBBZGQgVmF1bHRSZWdpc3RyeVNlcnZpY2UgdG8gY29uc3RydWN0b3JcclxuICAgICkge1xyXG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcclxuICAgICAgICB0aGlzLnNjaGVtYVNlcnZpY2UgPSBuZXcgU2NoZW1hRGlzY292ZXJ5U2VydmljZShwbHVnaW4uYXBwKTtcclxuICAgICAgICB0aGlzLmxvZ2dlciA9IG5ldyBHcmFwaGl0aUxvZ2dlcihwbHVnaW4sIHNldHRpbmdzLmVuYWJsZURlYnVnTG9nZ2luZyk7XHJcbiAgICAgICAgdGhpcy5ub3RlU2VsZWN0aW9uU2VydmljZSA9IG5ldyBOb3RlU2VsZWN0aW9uU2VydmljZShwbHVnaW4uYXBwLCBwbHVnaW4sIHRoaXMubG9nZ2VyKTtcclxuICAgICAgICB0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UgPSBzeW5jUmVnaXN0cnlTZXJ2aWNlO1xyXG4gICAgICAgIHRoaXMuc3luY1N0YXR1c01hbmFnZXIgPSBzeW5jU3RhdHVzTWFuYWdlcjtcclxuICAgICAgICB0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlID0gdmF1bHRSZWdpc3RyeVNlcnZpY2U7IC8vIEFzc2lnbiBWYXVsdFJlZ2lzdHJ5U2VydmljZVxyXG4gICAgICAgIHRoaXMucHl0aG9uSW5zdGFsbGVyID0gbmV3IFB5dGhvbkluc3RhbGxlcihcclxuICAgICAgICAgICAgcGx1Z2luLFxyXG4gICAgICAgICAgICB0aGlzLmdldFBsdWdpbkRpcmVjdG9yeSgpLFxyXG4gICAgICAgICAgICB7IHB5dGhvblBhdGg6IHNldHRpbmdzLnB5dGhvblBhdGggfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIExvZyBpbml0aWFsaXphdGlvblxyXG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0dyYXBoaXRpU2VydmljZSBpbml0aWFsaXplZCcpO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZ1N5c3RlbUluZm8oKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSBzZXR0aW5ncyBmb3IgdGhlIHNlcnZpY2VcclxuICAgICAqL1xyXG4gICAgdXBkYXRlU2V0dGluZ3Moc2V0dGluZ3M6IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3MpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIuc2V0RGVidWcoc2V0dGluZ3MuZW5hYmxlRGVidWdMb2dnaW5nKTtcclxuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnU2V0dGluZ3MgdXBkYXRlZCBpbiBHcmFwaGl0aVNlcnZpY2UnLCB7IGRlYnVnTW9kZTogc2V0dGluZ3MuZW5hYmxlRGVidWdMb2dnaW5nIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGN1cnJlbnQgZW1iZWRkaW5nIGRpbWVuc2lvbnMgYmFzZWQgb24gcHJvdmlkZXIgd2l0aCBwcm9wZXIgZGVmYXVsdHNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRDdXJyZW50RW1iZWRkaW5nRGltZW5zaW9ucygpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmVtYmVkZGVyUHJvdmlkZXIgPT09ICdvbGxhbWEnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcodGhpcy5zZXR0aW5ncy5vbGxhbWFFbWJlZGRpbmdEaW0gfHwgNzY4KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBOb24tT2xsYW1hIHByb3ZpZGVycyB0eXBpY2FsbHkgdXNlIDE1MzYgZGltZW5zaW9uc1xyXG4gICAgICAgICAgICAvLyBPcGVuQUkgdGV4dC1lbWJlZGRpbmctMy1zbWFsbDogMTUzNiwgVm95YWdlOiAxNTM2LCBHb29nbGU6IHZhcmllcyBidXQgY29tbW9ubHkgNzY4LTE1MzZcclxuICAgICAgICAgICAgcmV0dXJuICcxNTM2JztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RlciB2YXVsdCBjaGFuZ2UgbGlzdGVuZXJzIGZvciBjYWNoZSBpbnZhbGlkYXRpb25cclxuICAgICAqL1xyXG4gICAgYXN5bmMgaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICAvLyBMaXN0ZW4gZm9yIGFjdGl2ZSB2YXVsdCBjaGFuZ2VzXHJcbiAgICAgICAgdGhpcy52YXVsdFJlZ2lzdHJ5U2VydmljZS5vbkFjdGl2ZVZhdWx0Q2hhbmdlKChuZXdWYXVsdElkKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChuZXdWYXVsdElkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmludmFsaWRhdGVQYXRoQ2FjaGUobmV3VmF1bHRJZCk7IC8vIEludmFsaWRhdGUgb25seSB0aGUgc3BlY2lmaWMgdmF1bHQncyBjYWNoZVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnZhbGlkYXRlUGF0aENhY2hlKCk7IC8vIENsZWFyIGFsbCBpZiBubyBzcGVjaWZpYyB2YXVsdCBpcyBhY3RpdmVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBQcmUtY2FjaGUgcGF0aHMgZm9yIHRoZSBuZXcgYWN0aXZlIHZhdWx0XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0VmF1bHRBd2FyZVBhdGhzKG5ld1ZhdWx0SWQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBMaXN0ZW4gZm9yIGdlbmVyYWwgdmF1bHQgcmVnaXN0cnkgdXBkYXRlcyAoZS5nLiwgdmF1bHQgYWRkZWQvcmVtb3ZlZClcclxuICAgICAgICB0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlLm9uUmVnaXN0cnlVcGRhdGUoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmludmFsaWRhdGVQYXRoQ2FjaGUoKTsgLy8gQ2xlYXIgYWxsIG9uIGFueSByZWdpc3RyeSBjaGFuZ2VcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gUHJlLWNhY2hlIGN1cnJlbnQgdmF1bHQgcGF0aHMgb24gaW5pdGlhbGl6YXRpb25cclxuICAgICAgICBjb25zdCBhY3RpdmVWYXVsdElkID0gdGhpcy52YXVsdFJlZ2lzdHJ5U2VydmljZS5nZXRBY3RpdmVWYXVsdElkKCk7XHJcbiAgICAgICAgaWYgKGFjdGl2ZVZhdWx0SWQpIHtcclxuICAgICAgICAgICAgdGhpcy5nZXRWYXVsdEF3YXJlUGF0aHMoYWN0aXZlVmF1bHRJZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5nZXRWYXVsdEF3YXJlUGF0aHMobnVsbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJbml0aWFsaXplIE1DUCBmb2xkZXIgcmVzb2x2ZXJcclxuICAgICAgICB0aGlzLmluaXRpYWxpemVNQ1BUb29sc1NlcnZpY2VzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplIE1DUCB0b29scyBzZXJ2aWNlc1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGluaXRpYWxpemVNQ1BUb29sc1NlcnZpY2VzKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubWNwRm9sZGVyUmVzb2x2ZXIgPSBuZXcgTUNQRm9sZGVyUmVzb2x2ZXIoXHJcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MsXHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLmFwcCxcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXJcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdNQ1AgdG9vbHMgc2VydmljZXMgaW5pdGlhbGl6ZWQnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFB5dGhvbkV4ZWN1dGFibGUoKTogc3RyaW5nIHtcclxuICAgICAgICAvLyBVc2UgY2FjaGVkL3N5bmNocm9ub3VzIGFwcHJvYWNoIC0gd2lsbCBiZSB1cGRhdGVkIGZvciBhc3luYyBwYXR0ZXJuIGxhdGVyXHJcbiAgICAgICAgcmV0dXJuIHRoaXMucHl0aG9uSW5zdGFsbGVyLmdldFB5dGhvbkVudigpLlBZVEhPTl9FWEVDVVRBQkxFIHx8ICdweXRob24nO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0UHl0aG9uRW52KCk6IE5vZGVKUy5Qcm9jZXNzRW52IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5weXRob25JbnN0YWxsZXIuZ2V0UHl0aG9uRW52KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgZm9yIE1DUCBzZXJ2ZXIgdG8gcmVxdWVzdCBmb2xkZXIgcmVzb2x1dGlvblxyXG4gICAgICovXHJcbiAgICBhc3luYyByZXNvbHZlTUNQTm90ZUZvbGRlcihcclxuICAgICAgICBub3RlVHlwZTogJ2RhaWx5JyB8ICd3ZWVrbHknIHwgJ21vbnRobHknIHwgJ3F1YXJ0ZXJseScgfCAneWVhcmx5JyB8ICd0ZW1wbGF0ZScgfCAnZ2VuZXJpYycsXHJcbiAgICAgICAgdGVtcGxhdGVOYW1lPzogc3RyaW5nLFxyXG4gICAgICAgIHRhcmdldEZvbGRlcj86IHN0cmluZ1xyXG4gICAgKTogUHJvbWlzZTxGb2xkZXJSZXNvbHV0aW9uUmVzdWx0PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1jcEZvbGRlclJlc29sdmVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZU1DUFRvb2xzU2VydmljZXMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLm1jcEZvbGRlclJlc29sdmVyIS5yZXNvbHZlRm9sZGVyRm9yTm90ZShcclxuICAgICAgICAgICAgbm90ZVR5cGUsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlTmFtZSxcclxuICAgICAgICAgICAgdGFyZ2V0Rm9sZGVyXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTeW5jIG5vdGVzIHJlc3BlY3RpbmcgYWxsIHBsdWdpbiBzZXR0aW5ncyAocHJpbWFyeSBzeW5jIG1ldGhvZClcclxuICAgICAqL1xyXG4gICAgYXN5bmMgc3luY05vdGVzV2l0aFNldHRpbmdzKFxyXG4gICAgICAgIG5vdGVzUGF0aHM/OiBzdHJpbmdbXSxcclxuICAgICAgICBvblByb2dyZXNzPzogKHByb2dyZXNzOiBTeW5jUHJvZ3Jlc3MpID0+IHZvaWQsXHJcbiAgICAgICAgc291cmNlX2Rlc2NyaXB0aW9uOiBzdHJpbmcgPSAnb2JzaWRpYW5fbW1faW5kaXZpZHVhbCdcclxuICAgICk6IFByb21pc2U8U3luY1Jlc3VsdD4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIFVzZSBwcm92aWRlZCBub3RlcyBvciBnZXQgZmlsdGVyZWQgbm90ZXMgZnJvbSBzZXR0aW5nc1xyXG4gICAgICAgICAgICBsZXQgbm90ZXNUb1N5bmM6IHN0cmluZ1tdO1xyXG4gICAgICAgICAgICBpZiAobm90ZXNQYXRocykge1xyXG4gICAgICAgICAgICAgICAgbm90ZXNUb1N5bmMgPSBub3Rlc1BhdGhzO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gR2V0IG5vdGVzIGJhc2VkIG9uIHN5bmMgb3B0aW9ucyBzZXR0aW5nXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5zeW5jT3B0aW9ucyA9PT0gJ25ld19vbmx5Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCBvbmx5IG5ldyBub3RlcyBmb3IgYXV0by1zeW5jXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3Tm90ZXMgPSBhd2FpdCB0aGlzLm5vdGVTZWxlY3Rpb25TZXJ2aWNlLmdldE5vdGVzRm9yQXV0b1N5bmMoKTtcclxuICAgICAgICAgICAgICAgICAgICBub3Rlc1RvU3luYyA9IG5ld05vdGVzLm1hcChub3RlID0+IG5vdGUucGF0aCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCBhbGwgbm90ZXMgdGhhdCBzaG91bGQgYmUgc3luY2VkIGJhc2VkIG9uIHNldHRpbmdzIChuZXcgYW5kIHVwZGF0ZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWROb3RlcyA9IGF3YWl0IHRoaXMubm90ZVNlbGVjdGlvblNlcnZpY2UuZ2V0RmlsdGVyZWRTeW5jYWJsZU5vdGVzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbm90ZXNUb1N5bmMgPSBmaWx0ZXJlZE5vdGVzLm1hcChub3RlID0+IG5vdGUucGF0aCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChub3Rlc1RvU3luYy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZDogMCxcclxuICAgICAgICAgICAgICAgICAgICBza2lwcGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGJhdGNoQ291bnQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGVkZ2VUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTm8gbm90ZXMgYXZhaWxhYmxlIGZvciBzeW5jIGFmdGVyIGFwcGx5aW5nIHNldHRpbmdzIGZpbHRlcnMnXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgc3luYyBjb25maWcgYmFzZWQgb24gc2V0dGluZ3NcclxuICAgICAgICAgICAgY29uc3QgY29uZmlnOiBTeW5jQ29uZmlnID0ge1xyXG4gICAgICAgICAgICAgICAgbm90ZXNQYXRoczogbm90ZXNUb1N5bmMsXHJcbiAgICAgICAgICAgICAgICBiYXRjaFNpemU6IHRoaXMuc2V0dGluZ3MuYmF0Y2hTaXplIHx8IDEwLFxyXG4gICAgICAgICAgICAgICAgZGVidWc6IHRoaXMuc2V0dGluZ3MuZW5hYmxlRGVidWdMb2dnaW5nLFxyXG4gICAgICAgICAgICAgICAgc291cmNlX2Rlc2NyaXB0aW9uOiBzb3VyY2VfZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICBjcm9zc0VuY29kZXJDbGllbnQ6IHRoaXMuc2V0dGluZ3MuY3Jvc3NFbmNvZGVyQ2xpZW50LFxyXG4gICAgICAgICAgICAgICAgY3Jvc3NFbmNvZGVyTW9kZWw6IHRoaXMuc2V0dGluZ3MuY3Jvc3NFbmNvZGVyTW9kZWwsXHJcbiAgICAgICAgICAgICAgICB1c2VfY3VzdG9tX29udG9sb2d5OiB0aGlzLnNldHRpbmdzLnVzZUN1c3RvbU9udG9sb2d5XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdTdGFydGluZyBzZXR0aW5ncy1iYXNlZCBzeW5jJywge1xyXG4gICAgICAgICAgICAgICAgdG90YWxOb3Rlczogbm90ZXNUb1N5bmMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgYmF0Y2hTaXplOiBjb25maWcuYmF0Y2hTaXplLFxyXG4gICAgICAgICAgICAgICAgaW5jbHVkZWRGb2xkZXJzOiB0aGlzLnNldHRpbmdzLmluY2x1ZGVkRm9sZGVycyxcclxuICAgICAgICAgICAgICAgIGV4Y2x1ZGVkRm9sZGVyczogdGhpcy5zZXR0aW5ncy5leGNsdWRlZEZvbGRlcnNcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnN5bmNOb3Rlcyhjb25maWcsIG9uUHJvZ3Jlc3MsIHNvdXJjZV9kZXNjcmlwdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBTWU5DX0NPTVBMRVRFOiBzeW5jTm90ZXNXaXRoU2V0dGluZ3MoKSBmaW5pc2hlZCAtIHN0YXR1czogJHtyZXN1bHQuc3RhdHVzfSwgcHJvY2Vzc2VkOiAke3Jlc3VsdC5wcm9jZXNzZWR9LCBza2lwcGVkOiAke3Jlc3VsdC5za2lwcGVkfSwgdG90YWw6ICR7cmVzdWx0LnRvdGFsfSwgYmF0Y2hlczogJHtyZXN1bHQuYmF0Y2hDb3VudH1gKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1NldHRpbmdzLWJhc2VkIHN5bmMgZmFpbGVkJywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc2VkOiAwLFxyXG4gICAgICAgICAgICAgICAgc2tpcHBlZDogMCxcclxuICAgICAgICAgICAgICAgIHRvdGFsOiAwLFxyXG4gICAgICAgICAgICAgICAgYmF0Y2hDb3VudDogMCxcclxuICAgICAgICAgICAgICAgIG5vZGVUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgIGVkZ2VUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEF1dG8tc3luYyBiYXNlZCBvbiBwbHVnaW4gc2V0dGluZ3MgKHVzZWQgYnkgc2F2ZSB0cmlnZ2VycyBhbmQgc2NoZWR1bGluZylcclxuICAgICAqL1xyXG4gICAgYXN5bmMgYXV0b1N5bmModHJpZ2dlclR5cGU6ICdzYXZlJyB8ICdzY2hlZHVsZWQnIHwgJ21hbnVhbCcpOiBQcm9taXNlPFN5bmNSZXN1bHQ+IHtcclxuICAgICAgICAvLyBDaGVjayBpZiBhdXRvLXN5bmMgaXMgZW5hYmxlZFxyXG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5hdXRvU3luYyAmJiB0cmlnZ2VyVHlwZSAhPT0gJ21hbnVhbCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NlZDogMCxcclxuICAgICAgICAgICAgICAgIHNraXBwZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICB0b3RhbDogMCxcclxuICAgICAgICAgICAgICAgIGJhdGNoQ291bnQ6IDAsXHJcbiAgICAgICAgICAgICAgICBub2RlVHlwZXNMb2FkZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICBlZGdlVHlwZXNMb2FkZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnQXV0by1zeW5jIGlzIGRpc2FibGVkIGluIHNldHRpbmdzJ1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRGV0ZXJtaW5lIHNvdXJjZV9kZXNjcmlwdGlvbiBiYXNlZCBvbiB0cmlnZ2VyIHR5cGUgYW5kIHN5bmMgb3B0aW9uc1xyXG4gICAgICAgIGxldCBzb3VyY2VfZGVzY3JpcHRpb246IHN0cmluZztcclxuICAgICAgICBpZiAodHJpZ2dlclR5cGUgPT09ICdtYW51YWwnKSB7XHJcbiAgICAgICAgICAgIHNvdXJjZV9kZXNjcmlwdGlvbiA9ICdvYnNpZGlhbl9tbV9pbmRpdmlkdWFsJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBGb3IgJ3NhdmUnIGFuZCAnc2NoZWR1bGVkJyB0cmlnZ2VycywgdXNlIGVuaGFuY2VkIGF1dG8tc3luYyBzb3VyY2UgZGVzY3JpcHRpb25zXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnN5bmNPcHRpb25zID09PSAnbmV3X29ubHknKSB7XHJcbiAgICAgICAgICAgICAgICBzb3VyY2VfZGVzY3JpcHRpb24gPSAnb2JzaWRpYW5fYXV0b19uZXcnO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc291cmNlX2Rlc2NyaXB0aW9uID0gJ29ic2lkaWFuX2F1dG9fdXBkYXRlZCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdFbmhhbmNlZCBhdXRvLXN5bmMgdHJpZ2dlcmVkJywge1xyXG4gICAgICAgICAgICB0cmlnZ2VyVHlwZSxcclxuICAgICAgICAgICAgc291cmNlX2Rlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICBhdXRvU3luY0VuYWJsZWQ6IHRoaXMuc2V0dGluZ3MuYXV0b1N5bmMsXHJcbiAgICAgICAgICAgIHN5bmNPcHRpb25zOiB0aGlzLnNldHRpbmdzLnN5bmNPcHRpb25zLFxyXG4gICAgICAgICAgICBzeW5jSW50ZXJ2YWw6IHRoaXMuc2V0dGluZ3Muc3luY0ludGVydmFsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFVzZSBlbmhhbmNlZCBub3RlIHNlbGVjdGlvbiBiYXNlZCBvbiBzeW5jIG9wdGlvbnNcclxuICAgICAgICBjb25zdCBub3Rlc0ZvclN5bmMgPSBhd2FpdCB0aGlzLm5vdGVTZWxlY3Rpb25TZXJ2aWNlLmdldE5vdGVzRm9yQXV0b1N5bmModGhpcy5zZXR0aW5ncy5zeW5jT3B0aW9ucyk7XHJcblxyXG4gICAgICAgIGlmIChub3Rlc0ZvclN5bmMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdObyBub3RlcyBmb3VuZCBmb3IgYXV0by1zeW5jIGJhc2VkIG9uIGN1cnJlbnQgc3luYyBvcHRpb25zJywge1xyXG4gICAgICAgICAgICAgICAgc3luY09wdGlvbnM6IHRoaXMuc2V0dGluZ3Muc3luY09wdGlvbnMsXHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VyVHlwZSxcclxuICAgICAgICAgICAgICAgIHNvdXJjZV9kZXNjcmlwdGlvblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc2VkOiAwLFxyXG4gICAgICAgICAgICAgICAgc2tpcHBlZDogMCxcclxuICAgICAgICAgICAgICAgIHRvdGFsOiAwLFxyXG4gICAgICAgICAgICAgICAgYmF0Y2hDb3VudDogMCxcclxuICAgICAgICAgICAgICAgIG5vZGVUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgIGVkZ2VUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdObyBub3RlcyB0byBzeW5jIGJhc2VkIG9uIGN1cnJlbnQgc3luYyBvcHRpb25zJ1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTWFwIG5vdGVzIHRvIHBhdGhzIGZvciBzeW5jXHJcbiAgICAgICAgY29uc3Qgbm90ZXNQYXRocyA9IG5vdGVzRm9yU3luYy5tYXAobm90ZSA9PiBub3RlLnBhdGgpO1xyXG5cclxuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnQXV0by1zeW5jIHByb2Nlc3Npbmcgbm90ZXMnLCB7XHJcbiAgICAgICAgICAgIHRyaWdnZXJUeXBlLFxyXG4gICAgICAgICAgICBzb3VyY2VfZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgIHRvdGFsTm90ZXM6IG5vdGVzUGF0aHMubGVuZ3RoLFxyXG4gICAgICAgICAgICBzeW5jT3B0aW9uczogdGhpcy5zZXR0aW5ncy5zeW5jT3B0aW9ucyxcclxuICAgICAgICAgICAgbm90ZXNTYW1wbGU6IG5vdGVzUGF0aHMuc2xpY2UoMCwgMykgLy8gTG9nIGZpcnN0IDMgZm9yIGRlYnVnZ2luZ1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBFbnF1ZXVlIG5vdGVzIGFuZCB1c2UgdGhlIHNlcXVlbnRpYWwgc2VsZWN0ZWQtbm90ZSBzeW5jIHBhdGggc28gZWFjaCBub3RlIGlzIHByb2Nlc3NlZFxyXG4gICAgICAgIC8vIG9uZS1hdC1hLXRpbWUgKHRoaXMgbWlycm9ycyBTeW5jTW9kYWwuc3luY1NlbGVjdGVkTm90ZXMgLT4gc3luY05vdGVzU2VxdWVudGlhbGx5IGJlaGF2aW9yKS5cclxuICAgICAgICAvLyBUaGlzIGF2b2lkcyBzZW5kaW5nIG11bHRpcGxlIG5vdGVzIGluIGEgc2luZ2xlIFB5dGhvbiBydW4gYW5kIGVuc3VyZXMgcmVnaXN0cnkgdXBkYXRlc1xyXG4gICAgICAgIC8vIG9jY3VyIGFmdGVyIGVhY2ggaW5kaXZpZHVhbCBub3RlIGlzIHByb2Nlc3NlZC5cclxuICAgICAgICBhd2FpdCB0aGlzLm5vdGVTZWxlY3Rpb25TZXJ2aWNlLnNlbGVjdE5vdGVzKG5vdGVzUGF0aHMpO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdBdXRvLXN5bmMgc2VsZWN0ZWQgbm90ZXMgaW50byBxdWV1ZSBmb3Igc2VxdWVudGlhbCBwcm9jZXNzaW5nJywgeyBzZWxlY3RlZENvdW50OiBub3Rlc1BhdGhzLmxlbmd0aCB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuc3luY1NlbGVjdGVkTm90ZXMoKHByb2dyZXNzKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdFbmhhbmNlZCBhdXRvLXN5bmMgcHJvZ3Jlc3MnLCB7XHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VyVHlwZSxcclxuICAgICAgICAgICAgICAgIHNvdXJjZV9kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgIHN5bmNPcHRpb25zOiB0aGlzLnNldHRpbmdzLnN5bmNPcHRpb25zLFxyXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSwgc291cmNlX2Rlc2NyaXB0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRlc3QgY29ubmVjdGlvbiB0byB2ZXJpZnkgUHl0aG9uIGJyaWRnZSBhbmQgR3JhcGhpdGkgaW5zdGFsbGF0aW9uXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHRlc3RDb25uZWN0aW9uKCk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmcgfT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIFRlc3QgUHl0aG9uIGluc3RhbGxhdGlvbiBhbmQgZ3JhcGhpdGktY29yZSBhdmFpbGFiaWxpdHlcclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5leGVjdXRlUHl0aG9uQ29tbWFuZChbXHJcbiAgICAgICAgICAgICAgICAnLWMnLFxyXG4gICAgICAgICAgICAgICAgJ2ltcG9ydCBzeXM7IGltcG9ydCBncmFwaGl0aV9jb3JlOyBwcmludChmXCJQeXRob24ge3N5cy52ZXJzaW9uX2luZm8ubWFqb3J9LntzeXMudmVyc2lvbl9pbmZvLm1pbm9yfSwgR3JhcGhpdGkgaW5zdGFsbGVkXCIpJ1xyXG4gICAgICAgICAgICBdKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcyAmJiByZXN1bHQub3V0cHV0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYOKchSBDb25uZWN0aW9uIHN1Y2Nlc3NmdWw6ICR7cmVzdWx0Lm91dHB1dC50cmltKCl9YFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYOKdjCBDb25uZWN0aW9uIGZhaWxlZDogJHtyZXN1bHQuZXJyb3IgfHwgJ1Vua25vd24gZXJyb3InfWBcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBg4p2MIENvbm5lY3Rpb24gdGVzdCBmYWlsZWQ6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWBcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbnN0YWxsIFB5dGhvbiBkZXBlbmRlbmNpZXNcclxuICAgICAqL1xyXG4gICAgYXN5bmMgaW5zdGFsbERlcGVuZGVuY2llcyhvblByb2dyZXNzPzogKG1lc3NhZ2U6IHN0cmluZykgPT4gdm9pZCk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmcgfT4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnU3RhcnRpbmcgZGVwZW5kZW5jeSBpbnN0YWxsYXRpb24gcHJvY2VzcycpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgcGx1Z2luRGlyLCBicmlkZ2VEaXI6IGJyaWRnZVBhdGggfSA9IHRoaXMuZ2V0VmF1bHRBd2FyZVBhdGhzKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbnN0YWxsUGF0aCA9IGpvaW4oYnJpZGdlUGF0aCwgJ2luc3RhbGwucHknKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnSW5zdGFsbGF0aW9uIHBhdGhzOicsIHtcclxuICAgICAgICAgICAgICAgICAgICBwbHVnaW5EaXIsXHJcbiAgICAgICAgICAgICAgICAgICAgYnJpZGdlUGF0aCxcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YWxsUGF0aFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZmlsZXMgZXhpc3RcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTtcclxuICAgICAgICAgICAgICAgIGlmICghZnMuZXhpc3RzU3luYyhpbnN0YWxsUGF0aCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IGBJbnN0YWxsIHNjcmlwdCBub3QgZm91bmQgYXQ6ICR7aW5zdGFsbFBhdGh9YDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBg4p2MICR7ZXJyb3J9YFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBvblByb2dyZXNzPy4oJ1N0YXJ0aW5nIFB5dGhvbiBkZXBlbmRlbmN5IGluc3RhbGxhdGlvbi4uLicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnRXhlY3V0aW5nIFB5dGhvbiBpbnN0YWxsIHNjcmlwdCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIExvZyB0aGUgY29tbWFuZCB3ZSdyZSBhYm91dCB0byBydW5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbW1hbmQgPSAncHl0aG9uJztcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFyZ3MgPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFsbFBhdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgJy0tbGxtLXByb3ZpZGVyJywgdGhpcy5zZXR0aW5ncy5sbG1Qcm92aWRlcixcclxuICAgICAgICAgICAgICAgICAgICAnLS1lbWJlZGRlci1wcm92aWRlcicsIHRoaXMuc2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlclxyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdDb21tYW5kOicsIHsgY29tbWFuZCwgYXJncyB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBVc2Ugc3Bhd24gdG8gZ2V0IHJlYWwtdGltZSBvdXRwdXRcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgc3Bhd24gfSA9IHJlcXVpcmUoJ2NoaWxkX3Byb2Nlc3MnKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHB5dGhvbkNtZCA9IHRoaXMuZ2V0UHl0aG9uRXhlY3V0YWJsZSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHl0aG9uRW52ID0gdGhpcy5nZXRQeXRob25FbnYoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByb2Nlc3MgPSBzcGF3bihweXRob25DbWQsIGFyZ3MsIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGRpbzogWydwaXBlJywgJ3BpcGUnLCAncGlwZSddLFxyXG4gICAgICAgICAgICAgICAgICAgIGN3ZDogYnJpZGdlUGF0aCxcclxuICAgICAgICAgICAgICAgICAgICBlbnY6IHB5dGhvbkVudlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IG91dHB1dEJ1ZmZlciA9ICcnO1xyXG4gICAgICAgICAgICAgICAgbGV0IGVycm9yQnVmZmVyID0gJyc7XHJcbiAgICAgICAgICAgICAgICBsZXQgbGFzdFByb2dyZXNzVGltZSA9IERhdGUubm93KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIHN0ZG91dCB3aXRoIHJlYWwtdGltZSBwcm9ncmVzc1xyXG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5zdGRvdXQ/Lm9uKCdkYXRhJywgKGRhdGE6IEJ1ZmZlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBkYXRhLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0QnVmZmVyICs9IHRleHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIExvZyBhbGwgUHl0aG9uIG91dHB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZ1B5dGhvbk91dHB1dCgnc3Rkb3V0JywgdGV4dCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFBhcnNlIGxpbmVzIGZvciBwcm9ncmVzcyB1cGRhdGVzXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluZXMgPSB0ZXh0LnNwbGl0KCdcXG4nKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUudHJpbSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaHJvdHRsZSBwcm9ncmVzcyB1cGRhdGVzIHRvIHByZXZlbnQgVUkgZmxvb2RpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm93IC0gbGFzdFByb2dyZXNzVGltZSA+IDEwMCkgeyAvLyBVcGRhdGUgYXQgbW9zdCBldmVyeSAxMDBtc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBwcm9ncmVzcyBiYXNlZCBvbiBpbnN0YWxsYXRpb24gb3V0cHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUuaW5jbHVkZXMoJ0luc3RhbGxpbmcnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblByb2dyZXNzPy4oYEluc3RhbGxpbmc6ICR7bGluZS50cmltKCl9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5lLmluY2x1ZGVzKCdEb3dubG9hZGluZycpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUHJvZ3Jlc3M/LihgRG93bmxvYWRpbmc6ICR7bGluZS50cmltKCl9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5lLmluY2x1ZGVzKCdDb2xsZWN0aW5nJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Qcm9ncmVzcz8uKGBDb2xsZWN0aW5nOiAke2xpbmUudHJpbSgpfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGluZS5pbmNsdWRlcygnQnVpbGRpbmcnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblByb2dyZXNzPy4oYEJ1aWxkaW5nOiAke2xpbmUudHJpbSgpfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGluZS5pbmNsdWRlcygnU3VjY2Vzc2Z1bGx5JykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Qcm9ncmVzcz8uKGDinIUgJHtsaW5lLnRyaW0oKX1gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxpbmUuaW5jbHVkZXMoJ1JlcXVpcmVtZW50IGFscmVhZHkgc2F0aXNmaWVkJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Qcm9ncmVzcz8uKGDinJMgJHtsaW5lLnRyaW0oKX1gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxpbmUudHJpbSgpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Qcm9ncmVzcz8uKGDwn5OmICR7bGluZS50cmltKCl9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RQcm9ncmVzc1RpbWUgPSBub3c7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgc3RkZXJyXHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzLnN0ZGVycj8ub24oJ2RhdGEnLCAoZGF0YTogQnVmZmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGRhdGEudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBlcnJvckJ1ZmZlciArPSB0ZXh0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBMb2cgYWxsIFB5dGhvbiBlcnJvcnNcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2dQeXRob25PdXRwdXQoJ3N0ZGVycicsIHRleHQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBTb21lIHByb2dyZXNzIGluZm8gY29tZXMgdGhyb3VnaCBzdGRlcnJcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dC5pbmNsdWRlcygnJScpIHx8IHRleHQuaW5jbHVkZXMoJ0Rvd25sb2FkaW5nJykgfHwgdGV4dC5pbmNsdWRlcygnSW5zdGFsbGluZycpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uUHJvZ3Jlc3M/Lihg8J+TpSAke3RleHQudHJpbSgpfWApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGV4dC5pbmNsdWRlcygnRVJST1InKSB8fCB0ZXh0LmluY2x1ZGVzKCdlcnJvcicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdQeXRob24gZXJyb3Igb3V0cHV0OicsIHRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvblByb2dyZXNzPy4oYOKdjCBFcnJvcjogJHt0ZXh0LnRyaW0oKX1gKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgcHJvY2VzcyBjb21wbGV0aW9uXHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzLm9uKCdjbG9zZScsIChjb2RlOiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnUHJvY2VzcyBjbG9zZWQnLCB7IGV4aXRDb2RlOiBjb2RlIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvblByb2dyZXNzPy4oJ+KchSBJbnN0YWxsYXRpb24gY29tcGxldGVkIHN1Y2Nlc3NmdWxseSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnSW5zdGFsbGF0aW9uIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHknKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+KchSBEZXBlbmRlbmNpZXMgaW5zdGFsbGVkIHN1Y2Nlc3NmdWxseSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBgSW5zdGFsbGF0aW9uIGZhaWxlZCB3aXRoIGNvZGUgJHtjb2RlfWA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGVycm9yTXNnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGl0Q29kZTogY29kZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZGVycjogZXJyb3JCdWZmZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGRvdXQ6IG91dHB1dEJ1ZmZlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGDinYwgJHtlcnJvck1zZ306ICR7ZXJyb3JCdWZmZXIgfHwgb3V0cHV0QnVmZmVyIHx8ICdVbmtub3duIGVycm9yJ31gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBwcm9jZXNzIGVycm9yc1xyXG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5vbignZXJyb3InLCAoZXJyb3I6IEVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBzdGFydCBQeXRob24gcHJvY2VzcycsIGVycm9yKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ0VOT0VOVCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9ICdQeXRob24gbm90IGZvdW5kLiBQbGVhc2UgZW5zdXJlIFB5dGhvbiAzLjEwKyBpcyBpbnN0YWxsZWQgYW5kIGluIHlvdXIgUEFUSC4nO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBg4p2MIEZhaWxlZCB0byBzdGFydCBpbnN0YWxsYXRpb246ICR7ZXJyb3JNZXNzYWdlfWBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEFkZCBhIHRpbWVvdXQgdG8gcHJldmVudCBoYW5naW5nIGluZGVmaW5pdGVseVxyXG4gICAgICAgICAgICAgICAgY29uc3QgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwcm9jZXNzLmtpbGxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignSW5zdGFsbGF0aW9uIHRpbWVvdXQgLSBraWxsaW5nIHByb2Nlc3MnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5raWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn4p2MIEluc3RhbGxhdGlvbiB0aW1lZCBvdXQgYWZ0ZXIgMTAgbWludXRlcydcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgNjAwMDAwKTsgLy8gMTAgbWludXRlcyB0aW1lb3V0XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgdGltZW91dCBpZiBwcm9jZXNzIGVuZHMgbm9ybWFsbHlcclxuICAgICAgICAgICAgICAgIHByb2Nlc3Mub24oJ2V4aXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignSW5zdGFsbGF0aW9uIGV4Y2VwdGlvbicsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGDinYwgSW5zdGFsbGF0aW9uIGVycm9yOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3luYyBub3RlcyB3aXRoIEdyYXBoaXRpIGtub3dsZWRnZSBncmFwaFxyXG4gICAgICovXHJcbiAgICBhc3luYyBzeW5jTm90ZXMoXHJcbiAgICAgICAgY29uZmlnOiBTeW5jQ29uZmlnLFxyXG4gICAgICAgIG9uUHJvZ3Jlc3M/OiAocHJvZ3Jlc3M6IFN5bmNQcm9ncmVzcykgPT4gdm9pZCxcclxuICAgICAgICBzb3VyY2VfZGVzY3JpcHRpb24/OiBzdHJpbmdcclxuICAgICk6IFByb21pc2U8U3luY1Jlc3VsdD4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdTWU5DX1NUQVJUOiBzeW5jTm90ZXMoKSBjYWxsZWQnLCB7XHJcbiAgICAgICAgICAgICAgICBub3Rlc0NvdW50OiBjb25maWcubm90ZXNQYXRocy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBiYXRjaFNpemU6IGNvbmZpZy5iYXRjaFNpemUsXHJcbiAgICAgICAgICAgICAgICBkZWJ1Z01vZGU6IGNvbmZpZy5kZWJ1ZyxcclxuICAgICAgICAgICAgICAgIG5vdGVzU2FtcGxlOiBjb25maWcubm90ZXNQYXRocy5zbGljZSgwLCAzKSwgLy8gTG9nIGZpcnN0IDMgZm9yIGRlYnVnZ2luZ1xyXG4gICAgICAgICAgICAgICAgZnVsbE5vdGVzUGF0aHNDb3VudDogY29uZmlnLm5vdGVzUGF0aHMubGVuZ3RoXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gVmFsaWRhdGUgZW1iZWRkaW5nIG1vZGVsIGhhc24ndCBjaGFuZ2VkIHNpbmNlIGxhc3Qgc3luY1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudEVtYmVkZGluZ01vZGVsID0gdGhpcy5zZXR0aW5ncy5lbWJlZGRpbmdNb2RlbDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREaW1lbnNpb25zID0gdGhpcy5nZXRDdXJyZW50RW1iZWRkaW5nRGltZW5zaW9ucygpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGhhc0NoYW5nZWQgPSBhd2FpdCB0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlLmhhc0VtYmVkZGluZ01vZGVsQ2hhbmdlZChcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50RW1iZWRkaW5nTW9kZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudERpbWVuc2lvbnNcclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGhhc0NoYW5nZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXRhaWxzID0gYXdhaXQgdGhpcy52YXVsdFJlZ2lzdHJ5U2VydmljZS5nZXRFbWJlZGRpbmdNb2RlbE1pc21hdGNoRGV0YWlscyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEVtYmVkZGluZ01vZGVsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RGltZW5zaW9uc1xyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ1tTWU5DXSBFbWJlZGRpbmcgbW9kZWwgY2hhbmdlIGRldGVjdGVkIGJlZm9yZSBzeW5jJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50TW9kZWw6IGN1cnJlbnRFbWJlZGRpbmdNb2RlbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudERpbWVuc2lvbnM6IGN1cnJlbnREaW1lbnNpb25zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9yZWRNb2RlbDogZGV0YWlscz8uc3RvcmVkTW9kZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlZERpbWVuc2lvbnM6IGRldGFpbHM/LnN0b3JlZERpbWVuc2lvbnNcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIG5vdywgd2UnbGwgd2FybiBidXQgY29udGludWUuIEluIHRoZSBmdXR1cmUsIHRoaXMgY291bGQgYmUgbWFkZSBtb3JlIHN0cmljdC5cclxuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgVUkgd2FybmluZyBzeXN0ZW0gKFRhc2sgMTEpIGFscmVhZHkgaGFuZGxlcyB1c2VyIG5vdGlmaWNhdGlvbnMuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVtYmVkZGluZ1ZhbGlkYXRpb25FcnJvcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tTWU5DXSBFbWJlZGRpbmcgbW9kZWwgdmFsaWRhdGlvbiBlcnJvciAoY29udGludWluZyknLCBlbWJlZGRpbmdWYWxpZGF0aW9uRXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBWYWxpZGF0ZSBjb25maWd1cmF0aW9uXHJcbiAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSB0aGlzLnZhbGlkYXRlU3luY0NvbmZpZyhjb25maWcpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCF2YWxpZGF0aW9uLmlzVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ29uZmlndXJhdGlvbiBlcnJvcjogJHt2YWxpZGF0aW9uLmVycm9ycy5qb2luKCcsICcpfWApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBSZXRyaWV2ZSB2YXVsdCBwYXRocyBmcm9tIHRoZSBuZXcgYGdldFZhdWx0QXdhcmVQYXRoc2AgbWV0aG9kXHJcbiAgICAgICAgICAgIGNvbnN0IHsgdmF1bHRQYXRoIH0gPSB0aGlzLmdldFZhdWx0QXdhcmVQYXRocygpO1xyXG5cclxuICAgICAgICAgICAgLy8gTkVXIERZTkFNSUMgQVBQUk9BQ0g6IE5vIHN0YXRpYyBtb2RlbCBnZW5lcmF0aW9uIG5lZWRlZFxyXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy51c2VDdXN0b21PbnRvbG9neSkge1xyXG4gICAgICAgICAgICAgICAgb25Qcm9ncmVzcz8uKHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50OiA1LFxyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsOiAxMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1ByZXBhcmluZyBkeW5hbWljIGN1c3RvbSBvbnRvbG9neSBzeW5jLi4uJyxcclxuICAgICAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiA1XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG9uUHJvZ3Jlc3M/Lih7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudDogNSxcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbDogMTAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdVc2luZyBnZW5lcmljIGVwaXNvZGUgc3luYyAoY3VzdG9tIG9udG9sb2d5IGRpc2FibGVkKS4uLicsXHJcbiAgICAgICAgICAgICAgICAgICAgcGVyY2VudGFnZTogNVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFByZXBhcmUgc3luYyBjb25maWd1cmF0aW9uIHdpdGggdmF1bHQgcGF0aCBmb3IgZHluYW1pYyBsb2FkaW5nXHJcbiAgICAgICAgICAgIGNvbnN0IHN5bmNDb25maWcgPSBhd2FpdCB0aGlzLnByZXBhcmVTeW5jQ29uZmlnKGNvbmZpZywgdmF1bHRQYXRoLCBzb3VyY2VfZGVzY3JpcHRpb24pO1xyXG5cclxuICAgICAgICAgICAgLy8gRXhlY3V0ZSBzeW5jIHByb2Nlc3NcclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5leGVjdXRlUHl0aG9uU3luYyhzeW5jQ29uZmlnLCBvblByb2dyZXNzKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFZhdWx0IHJlZ2lzdHJ5IHVwZGF0ZXMgYXJlIGhhbmRsZWQgaW4gc2V0dGluZ3MgcGFuZWwgb25seSwgbm90IGR1cmluZyBzeW5jIG9wZXJhdGlvbnNcclxuXHJcbiAgICAgICAgICAgIC8vIFN5bmMgcmVnaXN0cnkgcmVjb3JkaW5nIGlzIG5vdyBoYW5kbGVkIGJ5IGluZGl2aWR1YWwgc3luYyBvcGVyYXRpb25zIHRocm91Z2ggdGhlIFN5bmNTdGF0dXNNYW5hZ2VyXHJcbiAgICAgICAgICAgIC8vIEVhY2ggbm90ZSdzIHN5bmMgc3RhdHVzIGlzIHJlY29yZGVkIGR1cmluZyB0aGUgc3luYyBwcm9jZXNzLCBlbnN1cmluZyBhY2N1cmF0ZSB0cmFja2luZ1xyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBTWU5DX0NPTVBMRVRFOiBzeW5jTm90ZXMoKSBmaW5pc2hlZCAtIHN0YXR1czogJHtyZXN1bHQuc3RhdHVzfSwgcHJvY2Vzc2VkOiAke3Jlc3VsdC5wcm9jZXNzZWR9LCBza2lwcGVkOiAke3Jlc3VsdC5za2lwcGVkfSwgdG90YWw6ICR7cmVzdWx0LnRvdGFsfSwgYmF0Y2hlczogJHtyZXN1bHQuYmF0Y2hDb3VudH1gKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NlZDogMCxcclxuICAgICAgICAgICAgICAgIHNraXBwZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICB0b3RhbDogY29uZmlnLm5vdGVzUGF0aHMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgYmF0Y2hDb3VudDogMCxcclxuICAgICAgICAgICAgICAgIG5vZGVUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgIGVkZ2VUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgbm90ZSBzZWxlY3Rpb24gc2VydmljZSBmb3IgVUkgaW50ZWdyYXRpb25cclxuICAgICAqL1xyXG4gICAgZ2V0Tm90ZVNlbGVjdGlvblNlcnZpY2UoKTogTm90ZVNlbGVjdGlvblNlcnZpY2Uge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5vdGVTZWxlY3Rpb25TZXJ2aWNlO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIFN5bmMgbm90ZXMgc2VxdWVudGlhbGx5IHVzaW5nIGVwaXNvZGUgVVVJRCBhcHByb2FjaFxyXG4gICAgICovXHJcbiAgICBhc3luYyBzeW5jTm90ZXNTZXF1ZW50aWFsbHkob25Qcm9ncmVzcz86IChwcm9ncmVzczogU3luY1Byb2dyZXNzKSA9PiB2b2lkLCBzb3VyY2VfZGVzY3JpcHRpb246IHN0cmluZyA9ICdvYnNpZGlhbl9tbV9pbmRpdmlkdWFsJyk6IFByb21pc2U8U3luY1Jlc3VsdD4ge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdTdGFydGluZyBzZXF1ZW50aWFsIHN5bmMnKTtcclxuICAgICAgICB0aGlzLmlzQ2FuY2VsbGVkID0gZmFsc2U7IC8vIFJlc2V0IGNhbmNlbGxhdGlvbiBmbGFnXHJcblxyXG4gICAgICAgIC8vIFJldHJpZXZlIHRoZSBsaXN0IG9mIG5vdGVzIHRvIGJlIHN5bmNlZCBmcm9tIG5vdGUgc2VsZWN0aW9uIHNlcnZpY2VcclxuICAgICAgICBjb25zdCBzZWxlY3RlZFBhdGhzID0gdGhpcy5ub3RlU2VsZWN0aW9uU2VydmljZS5nZXRTZWxlY3RlZE5vdGVQYXRocygpO1xyXG4gICAgICAgIGlmICghc2VsZWN0ZWRQYXRocyB8fCBzZWxlY3RlZFBhdGhzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdObyBub3RlcyBmb3VuZCBpbiBzZWxlY3Rpb24nKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NlZDogMCxcclxuICAgICAgICAgICAgICAgIHNraXBwZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICB0b3RhbDogMCxcclxuICAgICAgICAgICAgICAgIGJhdGNoQ291bnQ6IDAsXHJcbiAgICAgICAgICAgICAgICBub2RlVHlwZXNMb2FkZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICBlZGdlVHlwZXNMb2FkZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTm8gbm90ZXMgc2VsZWN0ZWQgZm9yIHN5bmMnXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgUHJvY2Vzc2luZyAke3NlbGVjdGVkUGF0aHMubGVuZ3RofSBub3RlcyBzZXF1ZW50aWFsbHlgKTtcclxuXHJcbiAgICAgICAgbGV0IHByb2Nlc3NlZENvdW50ID0gMDtcclxuICAgICAgICBsZXQgc2tpcHBlZENvdW50ID0gMDtcclxuICAgICAgICBjb25zdCBub3RlUmVzdWx0czogYW55W10gPSBbXTtcclxuICAgICAgICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW107XHJcblxyXG4gICAgICAgIC8vIEdldCB2YXVsdCBwYXRoIGZvciByZXNvbHZpbmcgcmVsYXRpdmUgcGF0aHMgdG8gYWJzb2x1dGUgcGF0aHNcclxuICAgICAgICBjb25zdCB7IHZhdWx0UGF0aCB9ID0gdGhpcy5nZXRWYXVsdEF3YXJlUGF0aHMoKTtcclxuXHJcbiAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGVhY2ggbm90ZSBpbiB0aGUgcXVldWVcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdGVkUGF0aHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGNhbmNlbGxhdGlvbiBiZWZvcmUgcHJvY2Vzc2luZyBlYWNoIG5vdGVcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNDYW5jZWxsZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1tDQU5DRUxdIFNlcXVlbnRpYWwgc3luYyBjYW5jZWxsZWQgYnkgdXNlcicpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkOiBwcm9jZXNzZWRDb3VudCxcclxuICAgICAgICAgICAgICAgICAgICBza2lwcGVkOiBza2lwcGVkQ291bnQgKyAoc2VsZWN0ZWRQYXRocy5sZW5ndGggLSBpKSxcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbDogc2VsZWN0ZWRQYXRocy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2hDb3VudDogMCxcclxuICAgICAgICAgICAgICAgICAgICBub2RlVHlwZXNMb2FkZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZWRnZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdTeW5jIGNhbmNlbGxlZCBieSB1c2VyJ1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVQYXRoID0gc2VsZWN0ZWRQYXRoc1tpXTtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBwcm9ncmVzcyBiZWZvcmUgcHJvY2Vzc2luZyBub3RlXHJcbiAgICAgICAgICAgIG9uUHJvZ3Jlc3M/Lih7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50OiBpLFxyXG4gICAgICAgICAgICAgICAgdG90YWw6IHNlbGVjdGVkUGF0aHMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogYFByb2Nlc3Npbmcgbm90ZSAke2kgKyAxfS8ke3NlbGVjdGVkUGF0aHMubGVuZ3RofTogJHtyZWxhdGl2ZVBhdGh9YCxcclxuICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2U6IChpIC8gc2VsZWN0ZWRQYXRocy5sZW5ndGgpICogMTAwXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBQcm9jZXNzaW5nIG5vdGUgJHtpICsgMX0vJHtzZWxlY3RlZFBhdGhzLmxlbmd0aH06ICR7cmVsYXRpdmVQYXRofWApO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFJlc29sdmUgcmVsYXRpdmUgcGF0aCB0byBhYnNvbHV0ZSBwYXRoIGZvciB0ZXN0TWFudWFsU3luY1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFic29sdXRlUGF0aCA9IHBhdGguam9pbih2YXVsdFBhdGgsIHJlbGF0aXZlUGF0aCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVXNlIFN5bmNTdGF0dXNNYW5hZ2VyLnN5bmNOb3RlIHdoaWNoIGhhbmRsZXMgYm90aCBzeW5jIGV4ZWN1dGlvbiBhbmQgcmVnaXN0cnkgcmVjb3JkaW5nXHJcbiAgICAgICAgICAgICAgICBjb25zdCBub3RlRmlsZSA9IHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgocmVsYXRpdmVQYXRoKTtcclxuICAgICAgICAgICAgICAgIGlmICghbm90ZUZpbGUgfHwgIShub3RlRmlsZSBpbnN0YW5jZW9mIFRGaWxlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGBDb3VsZCBub3QgZmluZCBURmlsZSBmb3IgcGF0aDogJHtyZWxhdGl2ZVBhdGh9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2tpcHBlZENvdW50Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zeW5jU3RhdHVzTWFuYWdlci5zeW5jTm90ZShub3RlRmlsZSwgc291cmNlX2Rlc2NyaXB0aW9uKTtcclxuICAgICAgICAgICAgICAgIG5vdGVSZXN1bHRzLnB1c2gocmVzdWx0KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkQ291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBTdWNjZXNzZnVsbHkgc3luY2VkIG5vdGU6ICR7cmVsYXRpdmVQYXRofWApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBWYXVsdCByZWdpc3RyeSB1cGRhdGVzIGFyZSBoYW5kbGVkIGluIHNldHRpbmdzIHBhbmVsIG9ubHksIG5vdCBkdXJpbmcgc3luYyBvcGVyYXRpb25zXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBzdWNjZXNzZnVsbHkgcHJvY2Vzc2VkIG5vdGUgZnJvbSBxdWV1ZSBmb3IgbW9kdWxhciBxdWV1ZSBtYW5hZ2VtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ub3RlU2VsZWN0aW9uU2VydmljZS5kZXNlbGVjdE5vdGVzKFtyZWxhdGl2ZVBhdGhdKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2tpcHBlZENvdW50Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihgRmFpbGVkIHRvIHN5bmMgbm90ZTogJHtyZWxhdGl2ZVBhdGh9LiBTdGF0dXM6ICR7cmVzdWx0LnN0YXR1c30sIE1lc3NhZ2U6ICR7cmVzdWx0Lm1lc3NhZ2V9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5tZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGBOb3RlICcke3JlbGF0aXZlUGF0aH0nOiAke3Jlc3VsdC5tZXNzYWdlfWApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBLZWVwIGZhaWxlZCBub3RlcyBpbiBxdWV1ZSBmb3IgcG90ZW50aWFsIHJldHJ5XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBza2lwcGVkQ291bnQrKztcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKTtcclxuICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGBOb3RlICcke3JlbGF0aXZlUGF0aH0nOiAke2Vycm9yTWVzc2FnZX1gKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGBFcnJvciBzeW5jaW5nIG5vdGUgJHtyZWxhdGl2ZVBhdGh9YCwgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgLy8gQ29udGludWUgd2l0aCBuZXh0IG5vdGUgb24gZXJyb3JcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gVXBkYXRlIHByb2dyZXNzIGFmdGVyIHByb2Nlc3Npbmcgbm90ZVxyXG4gICAgICAgICAgICBvblByb2dyZXNzPy4oe1xyXG4gICAgICAgICAgICAgICAgY3VycmVudDogaSArIDEsXHJcbiAgICAgICAgICAgICAgICB0b3RhbDogc2VsZWN0ZWRQYXRocy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgQ29tcGxldGVkICR7cmVsYXRpdmVQYXRofWAsXHJcbiAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiAoKGkgKyAxKSAvIHNlbGVjdGVkUGF0aHMubGVuZ3RoKSAqIDEwMFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGZpbmFsU3RhdHVzID0gcHJvY2Vzc2VkQ291bnQgPiAwID8gJ3N1Y2Nlc3MnIDogJ2Vycm9yJztcclxuICAgICAgICBjb25zdCBmaW5hbFJlc3VsdDogU3luY1Jlc3VsdCA9IHtcclxuICAgICAgICAgICAgc3RhdHVzOiBmaW5hbFN0YXR1cyxcclxuICAgICAgICAgICAgcHJvY2Vzc2VkOiBwcm9jZXNzZWRDb3VudCxcclxuICAgICAgICAgICAgc2tpcHBlZDogc2tpcHBlZENvdW50LFxyXG4gICAgICAgICAgICB0b3RhbDogc2VsZWN0ZWRQYXRocy5sZW5ndGgsXHJcbiAgICAgICAgICAgIGJhdGNoQ291bnQ6IHNlbGVjdGVkUGF0aHMubGVuZ3RoLFxyXG4gICAgICAgICAgICBub2RlVHlwZXNMb2FkZWQ6IDAsXHJcbiAgICAgICAgICAgIGVkZ2VUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgbm90ZXM6IG5vdGVSZXN1bHRzLFxyXG4gICAgICAgICAgICBlcnJvcnM6IGVycm9ycyxcclxuICAgICAgICAgICAgaGFzRXJyb3JzOiBlcnJvcnMubGVuZ3RoID4gMCxcclxuICAgICAgICAgICAgbWVzc2FnZTogYFNlcXVlbnRpYWwgc3luYyBjb21wbGV0ZWQuIFByb2Nlc3NlZDogJHtwcm9jZXNzZWRDb3VudH0sIFNraXBwZWQ6ICR7c2tpcHBlZENvdW50fS5gXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gQ2xlYW4gbG9nZ2luZyB3aXRob3V0IG1hc3NpdmUgZGF0YSBvYmplY3RzXHJcbiAgICAgICAgY29uc3Qgbm90ZVN1bW1hcmllcyA9IG5vdGVSZXN1bHRzLnNsaWNlKDAsIDUpLm1hcCgobjogYW55KSA9PiB7XHJcbiAgICAgICAgXHRjb25zdCBwYXRoVmFsID0gbj8ubm90ZV9wYXRoID8/IG4/LnBhdGggPz8gJyc7XHJcbiAgICAgICAgXHRjb25zdCBzdGF0dXNWYWwgPSBuPy5zdGF0dXMgPz8gJ3Vua25vd24nO1xyXG4gICAgICAgIFx0Y29uc3QgZXBpc29kZVZhbCA9IG4/LmVwaXNvZGVfdXVpZCA/PyBuPy5lcGlzb2RlX2lkID8/ICcnO1xyXG4gICAgICAgIFx0cmV0dXJuIHsgbm90ZTogcGF0aFZhbCwgc3RhdHVzOiBzdGF0dXNWYWwsIGVwaXNvZGVfdXVpZDogZXBpc29kZVZhbCB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdTZXF1ZW50aWFsIGF1dG8tc3luYyBjb21wbGV0ZWQnLCB7XHJcbiAgICAgICAgICAgIGZpbmFsU3RhdHVzLFxyXG4gICAgICAgICAgICBwcm9jZXNzZWQ6IHByb2Nlc3NlZENvdW50LFxyXG4gICAgICAgICAgICBza2lwcGVkOiBza2lwcGVkQ291bnQsXHJcbiAgICAgICAgICAgIHRvdGFsOiBzZWxlY3RlZFBhdGhzLmxlbmd0aCxcclxuICAgICAgICAgICAgbm90ZXNTYW1wbGU6IG5vdGVTdW1tYXJpZXNcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGZpbmFsUmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHN5bmNTZWxlY3RlZE5vdGVzKG9uUHJvZ3Jlc3M/OiAocHJvZ3Jlc3M6IFN5bmNQcm9ncmVzcykgPT4gdm9pZCwgc291cmNlX2Rlc2NyaXB0aW9uOiBzdHJpbmcgPSAnb2JzaWRpYW5fbW1fcXVpY2tzeW5jJyk6IFByb21pc2U8U3luY1Jlc3VsdD4ge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdTWU5DX1NUQVJUOiBzeW5jU2VsZWN0ZWROb3RlcygpIGNhbGxlZCcsIHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRQYXRoczogdGhpcy5ub3RlU2VsZWN0aW9uU2VydmljZS5nZXRTZWxlY3RlZE5vdGVQYXRocygpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkUGF0aHMgPSB0aGlzLm5vdGVTZWxlY3Rpb25TZXJ2aWNlLmdldFNlbGVjdGVkTm90ZVBhdGhzKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSBhd2FpdCB0aGlzLm5vdGVTZWxlY3Rpb25TZXJ2aWNlLnZhbGlkYXRlU2VsZWN0aW9uKCk7XHJcbiAgICAgICAgaWYgKCF2YWxpZGF0aW9uLmlzVmFsaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NlZDogMCxcclxuICAgICAgICAgICAgICAgIHNraXBwZWQ6IHNlbGVjdGVkUGF0aHMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgdG90YWw6IHNlbGVjdGVkUGF0aHMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgYmF0Y2hDb3VudDogMCxcclxuICAgICAgICAgICAgICAgIG5vZGVUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgIGVkZ2VUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBTZWxlY3Rpb24gdmFsaWRhdGlvbiBmYWlsZWQ6ICR7dmFsaWRhdGlvbi5lcnJvcnMuam9pbignLCAnKX1gLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2FsbCB0aGUgbmV3IHNlcXVlbnRpYWwgc3luYyBtZXRob2Qgd2l0aCBwcm9ncmVzcyBjYWxsYmFja1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuc3luY05vdGVzU2VxdWVudGlhbGx5KG9uUHJvZ3Jlc3MsIHNvdXJjZV9kZXNjcmlwdGlvbik7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFNZTkNfQ09NUExFVEU6IHN5bmNTZWxlY3RlZE5vdGVzKCkgZmluaXNoZWQgLSBzdGF0dXM6ICR7cmVzdWx0LnN0YXR1c30sIHByb2Nlc3NlZDogJHtyZXN1bHQucHJvY2Vzc2VkfSwgc2tpcHBlZDogJHtyZXN1bHQuc2tpcHBlZH0sIHRvdGFsOiAke3Jlc3VsdC50b3RhbH1gKTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUXVpY2sgc3luYyB3aXRoIGF1dG8tc2VsZWN0aW9uIHVzaW5nIGZpbHRlciBjcml0ZXJpYVxyXG4gICAgICovXHJcbiAgICBhc3luYyBxdWlja1N5bmMoXHJcbiAgICAgICAgY3JpdGVyaWE6IE5vdGVGaWx0ZXJDcml0ZXJpYSxcclxuICAgICAgICBvblByb2dyZXNzPzogKHByb2dyZXNzOiBTeW5jUHJvZ3Jlc3MpID0+IHZvaWRcclxuICAgICk6IFByb21pc2U8U3luY1Jlc3VsdD4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIEF1dG8tc2VsZWN0IG5vdGVzIGJhc2VkIG9uIGNyaXRlcmlhXHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkQ291bnQgPSBhd2FpdCB0aGlzLm5vdGVTZWxlY3Rpb25TZXJ2aWNlLnNlbGVjdEFsbE1hdGNoaW5nKGNyaXRlcmlhKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZENvdW50ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgc2tpcHBlZDogMCxcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbDogMCxcclxuICAgICAgICAgICAgICAgICAgICBiYXRjaENvdW50OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGVUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgICAgICBlZGdlVHlwZXNMb2FkZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ05vIG5vdGVzIG1hdGNoZWQgdGhlIGZpbHRlciBjcml0ZXJpYSdcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFN5bmMgc2VsZWN0ZWQgbm90ZXNcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3luY1NlbGVjdGVkTm90ZXMob25Qcm9ncmVzcyk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicsXHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICBza2lwcGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgdG90YWw6IDAsXHJcbiAgICAgICAgICAgICAgICBiYXRjaENvdW50OiAwLFxyXG4gICAgICAgICAgICAgICAgbm9kZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgZWRnZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHN5bmMgc3RhdGlzdGljcyBhbmQgZXN0aW1hdGVzXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGdldFN5bmNTdGF0aXN0aWNzKCk6IFByb21pc2U8e1xyXG4gICAgICAgIHN1bW1hcnk6IGFueTtcclxuICAgICAgICB2YWxpZGF0aW9uOiBhbnk7XHJcbiAgICAgICAgYXZhaWxhYmxlVHlwZXM6IHN0cmluZ1tdO1xyXG4gICAgICAgIGF2YWlsYWJsZVRhZ3M6IHN0cmluZ1tdO1xyXG4gICAgfT4ge1xyXG4gICAgICAgIGNvbnN0IFtzdW1tYXJ5LCB2YWxpZGF0aW9uLCBhdmFpbGFibGVUeXBlcywgYXZhaWxhYmxlVGFnc10gPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbiAgICAgICAgICAgIHRoaXMubm90ZVNlbGVjdGlvblNlcnZpY2UuZ2V0U2VsZWN0aW9uU3VtbWFyeSgpLFxyXG4gICAgICAgICAgICB0aGlzLm5vdGVTZWxlY3Rpb25TZXJ2aWNlLnZhbGlkYXRlU2VsZWN0aW9uKCksXHJcbiAgICAgICAgICAgIHRoaXMubm90ZVNlbGVjdGlvblNlcnZpY2UuZ2V0QXZhaWxhYmxlVHlwZXMoKSxcclxuICAgICAgICAgICAgdGhpcy5ub3RlU2VsZWN0aW9uU2VydmljZS5nZXRBdmFpbGFibGVUYWdzKClcclxuICAgICAgICBdKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc3VtbWFyeSxcclxuICAgICAgICAgICAgdmFsaWRhdGlvbixcclxuICAgICAgICAgICAgYXZhaWxhYmxlVHlwZXMsXHJcbiAgICAgICAgICAgIGF2YWlsYWJsZVRhZ3NcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2FuY2VsIG9uZ29pbmcgc3luYyBvcGVyYXRpb25cclxuICAgICAqL1xyXG4gICAgY2FuY2VsU3luYygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdbQ0FOQ0VMXSBDYW5jZWxsaW5nIHN5bmMgb3BlcmF0aW9uIC0ga2lsbGluZyBhbGwgUHl0aG9uIHByb2Nlc3NlcycpO1xyXG4gICAgICAgIHRoaXMuaXNDYW5jZWxsZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAvLyBLaWxsIGFsbCB0cmFja2VkIGFjdGl2ZSBwcm9jZXNzZXNcclxuICAgICAgICB0aGlzLmFjdGl2ZVByb2Nlc3Nlcy5mb3JFYWNoKHByb2Nlc3MgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXByb2Nlc3Mua2lsbGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW0NBTkNFTF0gS2lsbGluZyB0cmFja2VkIFB5dGhvbiBwcm9jZXNzJywgeyBwaWQ6IHByb2Nlc3MucGlkIH0pO1xyXG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5raWxsKCdTSUdURVJNJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFjdGl2ZVByb2Nlc3Nlcy5jbGVhcigpO1xyXG5cclxuICAgICAgICAvLyBBbHNvIGtpbGwgbWFpbiBweXRob24gcHJvY2VzcyBpZiBpdCBleGlzdHNcclxuICAgICAgICBpZiAodGhpcy5weXRob25Qcm9jZXNzKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbQ0FOQ0VMXSBLaWxsaW5nIG1haW4gUHl0aG9uIHByb2Nlc3MnLCB7IHBpZDogdGhpcy5weXRob25Qcm9jZXNzLnBpZCB9KTtcclxuICAgICAgICAgICAgdGhpcy5weXRob25Qcm9jZXNzLmtpbGwoJ1NJR1RFUk0nKTtcclxuICAgICAgICAgICAgdGhpcy5weXRob25Qcm9jZXNzID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGFic29sdXRlIHBhdGggdG8gdGhlIHBsdWdpbidzIHJvb3QgZGlyZWN0b3J5LlxyXG4gICAgICogVGhpcyBtZXRob2Qgbm93IHNlcnZlcyBhcyBhIHNpbXBsZSBnZXR0ZXIsIHJlbHlpbmcgb24gdGhlIGNhY2hlZCBvciByZXNvbHZlZCBgVmF1bHRQYXRoc2BcclxuICAgICAqIG9iamVjdCBwcm92aWRlZCBieSBgZ2V0VmF1bHRBd2FyZVBhdGhzYCBmb3IgY29uc29saWRhdGVkIHBhdGggbWFuYWdlbWVudC5cclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBhYnNvbHV0ZSBwYXRoIHRvIHRoZSBwbHVnaW4ncyByb290IGRpcmVjdG9yeS5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFBsdWdpbkRpcmVjdG9yeSgpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IHZhdWx0UGF0aHMgPSB0aGlzLmdldFZhdWx0QXdhcmVQYXRocygpO1xyXG4gICAgICAgIHJldHVybiB2YXVsdFBhdGhzLnBsdWdpbkRpcjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciBtZXRob2QgdG8gZGV0ZWN0IGFuZCBmaXggZHVwbGljYXRlZCBwYXRoIHNlZ21lbnRzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZmluZER1cGxpY2F0ZVBhdGhTZWdtZW50cyhwYXRoU2VnbWVudHM6IHN0cmluZ1tdKTogbnVtYmVyIHtcclxuICAgICAgICAvLyBMb29rIGZvciBwYXR0ZXJucyB3aGVyZSB0aGUgcGF0aCBpcyBkdXBsaWNhdGVkXHJcbiAgICAgICAgLy8gRXhhbXBsZTogWydFOicsICdHSVQnLCAnTE9DQUwnLCAnb2JzaWRpYW4tZ3JhcGhpdGktbWNwJywgJ3Rlc3QtdmF1bHQnLCAnRTonLCAnR0lUJywgJ0xPQ0FMJywgJ29ic2lkaWFuLWdyYXBoaXRpLW1jcCcsICd0ZXN0LXZhdWx0J11cclxuXHJcbiAgICAgICAgY29uc3QgaGFsZkxlbmd0aCA9IE1hdGguZmxvb3IocGF0aFNlZ21lbnRzLmxlbmd0aCAvIDIpO1xyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgZmlyc3QgaGFsZiBtYXRjaGVzIHRoZSBzZWNvbmQgaGFsZiAoZXhhY3QgZHVwbGljYXRpb24pXHJcbiAgICAgICAgaWYgKGhhbGZMZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGxldCBpc0R1cGxpY2F0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhhbGZMZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGhTZWdtZW50c1tpXSAhPT0gcGF0aFNlZ21lbnRzW2kgKyBoYWxmTGVuZ3RoXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzRHVwbGljYXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoaXNEdXBsaWNhdGVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFsZkxlbmd0aDsgLy8gUmV0dXJuIHdoZXJlIHRoZSBkdXBsaWNhdGlvbiBzdGFydHNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIHBhcnRpYWwgZHVwbGljYXRpb25zIChmaW5kIHJlcGVhdGVkIHNlcXVlbmNlcylcclxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHBhdGhTZWdtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBwYXRoU2VnbWVudHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgYSByZXBlYXRpbmcgcGF0dGVybiBzdGFydGluZyBhdCBpXHJcbiAgICAgICAgICAgICAgICBpZiAocGF0aFNlZ21lbnRzW2ldID09PSBwYXRoU2VnbWVudHNbal0pIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBob3cgbG9uZyB0aGUgcGF0dGVybiBjb250aW51ZXNcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcGF0dGVybkxlbmd0aCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGkgKyBwYXR0ZXJuTGVuZ3RoIDwgaiAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBqICsgcGF0dGVybkxlbmd0aCA8IHBhdGhTZWdtZW50cy5sZW5ndGggJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aFNlZ21lbnRzW2kgKyBwYXR0ZXJuTGVuZ3RoXSA9PT0gcGF0aFNlZ21lbnRzW2ogKyBwYXR0ZXJuTGVuZ3RoXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuTGVuZ3RoKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBmb3VuZCBhIHNpZ25pZmljYW50IHBhdHRlcm4gKGF0IGxlYXN0IDIgc2VnbWVudHMpLCBjb25zaWRlciBpdCBhIGR1cGxpY2F0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdHRlcm5MZW5ndGggPj0gMiAmJiBqICsgcGF0dGVybkxlbmd0aCA+PSBwYXRoU2VnbWVudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBqOyAvLyBSZXR1cm4gd2hlcmUgdGhlIHNlY29uZCBvY2N1cnJlbmNlIHN0YXJ0c1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIC0xOyAvLyBObyBkdXBsaWNhdGlvbiBmb3VuZFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0cmlldmVzIHRoZSBhYnNvbHV0ZSBwYXRoIHRvIHRoZSBjdXJyZW50bHkgYWN0aXZlIE9ic2lkaWFuIHZhdWx0LlxyXG4gICAgICogVGhpcyBtZXRob2QgYWN0cyBhcyBhIGRpcmVjdCBhY2Nlc3Nvciwgb2J0YWluaW5nIHRoZSB2YXVsdCBwYXRoIGZyb20gdGhlXHJcbiAgICAgKiBjZW50cmFsaXplZCBgZ2V0VmF1bHRBd2FyZVBhdGhzYCBzeXN0ZW0sIHdoaWNoIGVuc3VyZXMgdGhhdCB0aGUgcGF0aFxyXG4gICAgICogaXMgYWx3YXlzIHZhdWx0LWF3YXJlLCBjYWNoZWQsIGFuZCB1cC10by1kYXRlLlxyXG4gICAgICogQHJldHVybnMge3N0cmluZ30gVGhlIGFic29sdXRlIHBhdGggdG8gdGhlIGN1cnJlbnQgT2JzaWRpYW4gdmF1bHQuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRWYXVsdFBhdGhGYWxsYmFjaygpOiBzdHJpbmcge1xyXG5cclxuICAgICAgICAvLyBVc2UgdGhlIG5ldyB2YXVsdC1hd2FyZSBwYXRocyBtZXRob2QgdG8gZ2V0IHZhdWx0IHBhdGhcclxuICAgICAgICBjb25zdCB2YXVsdFBhdGhzID0gdGhpcy5nZXRWYXVsdEF3YXJlUGF0aHMobnVsbCk7XHJcblxyXG4gICAgICAgIC8vIExvZyB0aGUgcmVzb2x2ZWQgdmF1bHQgcGF0aCBmb3IgZGVidWdnaW5nXHJcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1ZhdWx0IFBhdGggRmFsbGJhY2sgUmVzb2x1dGlvbicsIHtcclxuICAgICAgICAgICAgdmF1bHRQYXRoOiB2YXVsdFBhdGhzLnZhdWx0UGF0aCxcclxuICAgICAgICAgICAgcGx1Z2luRGlyOiB2YXVsdFBhdGhzLnBsdWdpbkRpcixcclxuICAgICAgICAgICAgcmVzb2x2ZWRBdDogdmF1bHRQYXRocy5yZXNvbHZlZEF0XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFJldHVybiB0aGUgdmF1bHQgcGF0aCBmcm9tIHRoZSByZXNvbHZlZCBwYXRoc1xyXG4gICAgICAgIHJldHVybiB2YXVsdFBhdGhzLnZhdWx0UGF0aDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHJpZXZlcyB2YXVsdC1hd2FyZSBmaWxlIHBhdGhzLCB1dGlsaXppbmcgYSBjYWNoZSBmb3IgcGVyZm9ybWFuY2UuXHJcbiAgICAgKiBJZiB0aGUgcGF0aHMgZm9yIHRoZSBjdXJyZW50IHZhdWx0IGFyZSBhbHJlYWR5IGluIHRoZSBjYWNoZSwgdGhleSBhcmUgcmV0dXJuZWQgaW1tZWRpYXRlbHkgKGNhY2hlIGhpdCkuXHJcbiAgICAgKiBPdGhlcndpc2UgKGNhY2hlIG1pc3MpLCB0aGUgcGF0aHMgYXJlIHJlc29sdmVkIHVzaW5nIGByZXNvbHZlUGF0aHNGb3JWYXVsdGAsIHN0b3JlZCBpbiB0aGUgY2FjaGUsIGFuZCB0aGVuIHJldHVybmVkLlxyXG4gICAgICogQ2FjaGUgbWV0cmljcyAoaGl0cyBhbmQgbWlzc2VzKSBhcmUgdHJhY2tlZCBhbmQgbG9nZ2VkIHBlcmlvZGljYWxseS5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgbnVsbH0gW3ZhdWx0SWRdIC0gVGhlIElEIG9mIHRoZSB2YXVsdCBmb3Igd2hpY2ggdG8gcmVzb2x2ZSBwYXRocy4gRGVmYXVsdHMgdG8gdGhlIGFjdGl2ZSB2YXVsdCBJRC5cclxuICAgICAqIEByZXR1cm5zIHtWYXVsdFBhdGhzfSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgcmVzb2x2ZWQgcGF0aHMgZm9yIHRoZSBzcGVjaWZpZWQgdmF1bHQuXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFZhdWx0QXdhcmVQYXRocyh2YXVsdElkPzogc3RyaW5nIHwgbnVsbCk6IFZhdWx0UGF0aHMge1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpOyAvLyBTdGFydCB0aW1pbmdcclxuXHJcbiAgICAgICAgLy8gRGV0ZXJtaW5lIGN1cnJlbnQgdmF1bHQgY29udGV4dFxyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRWYXVsdElkID0gdmF1bHRJZCB8fFxyXG4gICAgICAgICAgICB0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlLmdldEFjdGl2ZVZhdWx0SWQoKSB8fFxyXG4gICAgICAgICAgICAnZGVmYXVsdCc7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGNhY2hlIGZpcnN0IGZvciBleGlzdGluZyBwYXRoc1xyXG4gICAgICAgIGlmICh0aGlzLnBhdGhDYWNoZS5oYXMoY3VycmVudFZhdWx0SWQpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlZCA9IHRoaXMucGF0aENhY2hlLmdldChjdXJyZW50VmF1bHRJZCkhO1xyXG4gICAgICAgICAgICB0aGlzLmNhY2hlSGl0cysrO1xyXG4gICAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9IChwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZSkudG9GaXhlZCgyKTtcclxuICAgICAgICAgICAgLy8gQ29uc2lkZXIgYWRkaW5nIGEgcmFyZSBpbmZvIGxvZyBpZiBjYWNoZSBoaXQgcmF0aW8gaXMgY29uc2lzdGVudGx5IHZlcnkgbG93IGZvciBhIGxvbmcgdGltZVxyXG4gICAgICAgICAgICAvLyBGb3Igbm93LCBzdXBwcmVzcyB2ZXJib3NlIGhpdCBsb2dzLlxyXG4gICAgICAgICAgICB0aGlzLmxvZ0NhY2hlTWV0cmljcyhjdXJyZW50VmF1bHRJZCk7IC8vIExvZyBtZXRyaWNzIGFmdGVyIGhpdFxyXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVzb2x2ZSBwYXRocyBmb3IgdGhlIGN1cnJlbnQgdmF1bHRcclxuICAgICAgICB0aGlzLmNhY2hlTWlzc2VzKys7XHJcbiAgICAgICAgY29uc3QgcmVzb2x2ZWRQYXRocyA9IHRoaXMucmVzb2x2ZVBhdGhzRm9yVmF1bHQoY3VycmVudFZhdWx0SWQpO1xyXG5cclxuICAgICAgICAvLyBDYWNoZSB0aGUgcmVzb2x2ZWQgcGF0aHNcclxuICAgICAgICB0aGlzLnBhdGhDYWNoZS5zZXQoY3VycmVudFZhdWx0SWQsIHJlc29sdmVkUGF0aHMpO1xyXG5cclxuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IChwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZSkudG9GaXhlZCgyKTtcclxuICAgICAgICAvLyBMb2cgY2FjaGUgbWlzcyBhcyBpbmZvIHRvIGhpZ2hsaWdodCBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbiwgYnV0IG5vdCB0b28gb2Z0ZW4uXHJcbiAgICAgICAgLy8gVGhlIGBsb2dDYWNoZU1ldHJpY3NgIGZ1bmN0aW9uIHdpbGwgaGFuZGxlIHBlcmlvZGljIGNvbnNvbGlkYXRlZCBsb2dnaW5nLlxyXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBbQ0FDSEVfTUlTU10gVmF1bHQ6ICR7Y3VycmVudFZhdWx0SWR9LCBUaW1lOiAke2R1cmF0aW9ufW1zLiBQYXRocyByZXNvbHZlZC5gKTtcclxuICAgICAgICB0aGlzLmxvZ0NhY2hlTWV0cmljcyhjdXJyZW50VmF1bHRJZCk7IC8vIExvZyBtZXRyaWNzIGFmdGVyIG1pc3NcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc29sdmVkUGF0aHM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXNvbHZlcyBhbmQgcmV0dXJucyB0aGUgYWJzb2x1dGUgZmlsZSBzeXN0ZW0gcGF0aHMgZm9yIGEgc3BlY2lmaWMgdmF1bHQuXHJcbiAgICAgKiBUaGlzIG1ldGhvZCB1c2VzIGEgbXVsdGktc3RyYXRlZ3kgYXBwcm9hY2ggdG8gZGV0ZXJtaW5lIGNyaXRpY2FsXHJcbiAgICAgKiBkaXJlY3RvcmllcyBsaWtlIHRoZSBwbHVnaW4gZGlyZWN0b3J5LCB2YXVsdCBkaXJlY3RvcnksIGFuZCBicmlkZ2UgZGlyZWN0b3J5LlxyXG4gICAgICogSXQgYWxzbyBpbmNvcnBvcmF0ZXMgbG9naWMgdG8gaGFuZGxlIGR1cGxpY2F0ZSBwYXRoIHNlZ21lbnRzLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhdWx0SWQgLSBUaGUgSUQgb2YgdGhlIHZhdWx0IGZvciB3aGljaCB0byByZXNvbHZlIHBhdGhzLlxyXG4gICAgICogQHJldHVybnMge1ZhdWx0UGF0aHN9IEFuIG9iamVjdCBjb250YWluaW5nIHRoZSByZXNvbHZlZCBwYXRocyBmb3IgdGhlIHNwZWNpZmllZCB2YXVsdC5cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmVzb2x2ZVBhdGhzRm9yVmF1bHQodmF1bHRJZDogc3RyaW5nKTogVmF1bHRQYXRocyB7XHJcbiAgICAgICAgY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xyXG4gICAgICAgIGNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XHJcblxyXG4gICAgICAgIC8vIEBwdXJwb3NlOiBVc2UgYWRhcHRlci5iYXNlUGF0aCBkaXJlY3RseSAtIHZhdWx0IHJlZ2lzdHJ5IGlzIGZvciBNQ1AgY29vcmRpbmF0aW9uIG9ubHlcclxuICAgICAgICAvLyBAZGVwZW5kczogcGx1Z2luLmFwcC52YXVsdC5hZGFwdGVyLmJhc2VQYXRoXHJcbiAgICAgICAgLy8gQHJlc3VsdHM6IFJlbGlhYmxlIHZhdWx0IHBhdGggd2l0aG91dCByZWdpc3RyeSBkZXBlbmRlbmN5XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZSAtIGFjY2Vzc2luZyBpbnRlcm5hbCBBUElcclxuICAgICAgICBjb25zdCBjdXJyZW50VmF1bHRQYXRoID0gdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmFkYXB0ZXIuYmFzZVBhdGg7XHJcblxyXG4gICAgICAgIC8vIENSSVRJQ0FMIEZJWDogTm9ybWFsaXplIGFuZCBkZWR1cGxpY2F0ZSB2YXVsdCBwYXRoXHJcbiAgICAgICAgbGV0IG5vcm1hbGl6ZWRWYXVsdFBhdGggPSBwYXRoLm5vcm1hbGl6ZShjdXJyZW50VmF1bHRQYXRoKTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIHBhdGggZHVwbGljYXRpb24gcGF0dGVybnMgYW5kIGZpeCB0aGVtXHJcbiAgICAgICAgY29uc3QgcGF0aFNlZ21lbnRzID0gbm9ybWFsaXplZFZhdWx0UGF0aC5zcGxpdChwYXRoLnNlcCk7XHJcbiAgICAgICAgY29uc3QgZHVwbGljYXRlSW5kZXggPSB0aGlzLmZpbmREdXBsaWNhdGVQYXRoU2VnbWVudHMocGF0aFNlZ21lbnRzKTtcclxuXHJcbiAgICAgICAgaWYgKGR1cGxpY2F0ZUluZGV4ICE9PSAtMSkge1xyXG4gICAgICAgICAgICBub3JtYWxpemVkVmF1bHRQYXRoID0gcGF0aFNlZ21lbnRzLnNsaWNlKDAsIGR1cGxpY2F0ZUluZGV4KS5qb2luKHBhdGguc2VwKTtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2Fybign8J+UpyBGaXhlZCBkdXBsaWNhdGVkIHZhdWx0IHBhdGggZHVyaW5nIHJlc29sdXRpb24nLCB7XHJcbiAgICAgICAgICAgICAgICBvcmlnaW5hbDogY3VycmVudFZhdWx0UGF0aCxcclxuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWQ6IG5vcm1hbGl6ZWRWYXVsdFBhdGgsXHJcbiAgICAgICAgICAgICAgICBmaXhlZDogbm9ybWFsaXplZFZhdWx0UGF0aCxcclxuICAgICAgICAgICAgICAgIGR1cGxpY2F0ZVN0YXJ0SW5kZXg6IGR1cGxpY2F0ZUluZGV4XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHBsdWdpbkRpcjogc3RyaW5nIHwgbnVsbCA9IG51bGw7XHJcbiAgICAgICAgbGV0IGJyaWRnZURpcjogc3RyaW5nIHwgbnVsbCA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vIFN0cmF0ZWd5IDE6IFN0YW5kYXJkIHByb2R1Y3Rpb24gaW5zdGFsbGF0aW9uIGluIC5vYnNpZGlhbi9wbHVnaW5zXHJcbiAgICAgICAgY29uc3QgcGx1Z2luSWQgPSB0aGlzLnBsdWdpbi5tYW5pZmVzdC5pZCB8fCAnbWVnYW1lbS1tY3AnO1xyXG4gICAgICAgIGNvbnN0IHN0YW5kYXJkUGx1Z2luUGF0aCA9IGpvaW4obm9ybWFsaXplZFZhdWx0UGF0aCwgJy5vYnNpZGlhbicsICdwbHVnaW5zJywgcGx1Z2luSWQpO1xyXG4gICAgICAgIGNvbnN0IHN0YW5kYXJkQnJpZGdlUGF0aCA9IGpvaW4oc3RhbmRhcmRQbHVnaW5QYXRoLCAnZ3JhcGhpdGlfYnJpZGdlJyk7XHJcblxyXG4gICAgICAgIGlmIChmcy5leGlzdHNTeW5jKHN0YW5kYXJkQnJpZGdlUGF0aCkpIHtcclxuICAgICAgICAgICAgcGx1Z2luRGlyID0gc3RhbmRhcmRQbHVnaW5QYXRoO1xyXG4gICAgICAgICAgICBicmlkZ2VEaXIgPSBzdGFuZGFyZEJyaWRnZVBhdGg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTdHJhdGVneSAyOiBEZXZlbG9wbWVudCBtb2RlIC0gY2hlY2sgaWYgd2UncmUgaW4gYSBwcm9qZWN0IGRpcmVjdG9yeVxyXG4gICAgICAgIGlmICghcGx1Z2luRGlyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRldlByb2plY3RQYXRoID0gcGF0aC5yZXNvbHZlKG5vcm1hbGl6ZWRWYXVsdFBhdGgsICcuLicpO1xyXG4gICAgICAgICAgICBjb25zdCBkZXZCcmlkZ2VQYXRoID0gam9pbihkZXZQcm9qZWN0UGF0aCwgJ2dyYXBoaXRpX2JyaWRnZScpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmMoZGV2QnJpZGdlUGF0aCkpIHtcclxuICAgICAgICAgICAgICAgIHBsdWdpbkRpciA9IGRldlByb2plY3RQYXRoO1xyXG4gICAgICAgICAgICAgICAgYnJpZGdlRGlyID0gZGV2QnJpZGdlUGF0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU3RyYXRlZ3kgMzogQ2hlY2sgaWYgdmF1bHQgaXRzZWxmIGNvbnRhaW5zIGdyYXBoaXRpX2JyaWRnZSAodW51c3VhbCBzZXR1cClcclxuICAgICAgICBpZiAoIXBsdWdpbkRpcikge1xyXG4gICAgICAgICAgICBjb25zdCB2YXVsdEJyaWRnZVBhdGggPSBqb2luKG5vcm1hbGl6ZWRWYXVsdFBhdGgsICdncmFwaGl0aV9icmlkZ2UnKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChmcy5leGlzdHNTeW5jKHZhdWx0QnJpZGdlUGF0aCkpIHtcclxuICAgICAgICAgICAgICAgIHBsdWdpbkRpciA9IG5vcm1hbGl6ZWRWYXVsdFBhdGg7XHJcbiAgICAgICAgICAgICAgICBicmlkZ2VEaXIgPSB2YXVsdEJyaWRnZVBhdGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFN0cmF0ZWd5IDQ6IFVzZSBtYW5pZmVzdC5kaXIgaWYgYXZhaWxhYmxlIChsZWdhY3kgZmFsbGJhY2spXHJcbiAgICAgICAgaWYgKCFwbHVnaW5EaXIpIHtcclxuICAgICAgICAgICAgY29uc3QgcGx1Z2luSW5zdGFsbERpciA9IHRoaXMucGx1Z2luLm1hbmlmZXN0LmRpciB8fCAnJztcclxuICAgICAgICAgICAgaWYgKHBsdWdpbkluc3RhbGxEaXIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1hbmlmZXN0UGF0aCA9IHBsdWdpbkluc3RhbGxEaXI7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtYW5pZmVzdEJyaWRnZVBhdGggPSBqb2luKG1hbmlmZXN0UGF0aCwgJ2dyYXBoaXRpX2JyaWRnZScpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChmcy5leGlzdHNTeW5jKG1hbmlmZXN0QnJpZGdlUGF0aCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBwbHVnaW5EaXIgPSBtYW5pZmVzdFBhdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJpZGdlRGlyID0gbWFuaWZlc3RCcmlkZ2VQYXRoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDcml0aWNhbCBjaGVjazogaWYgcGx1Z2luRGlyIG9yIGJyaWRnZURpciBzdGlsbCBub3QgZm91bmQsIHRocm93IGFuIGVycm9yXHJcbiAgICAgICAgaWYgKCFwbHVnaW5EaXIgfHwgIWJyaWRnZURpcikge1xyXG4gICAgICAgICAgICBjb25zdCBlcnJvck1zZyA9IGBDcml0aWNhbCBwYXRoIHJlc29sdXRpb24gZmFpbHVyZSBmb3IgdmF1bHQgSUQgXCIke3ZhdWx0SWR9XCIuIENvdWxkIG5vdCBsb2NhdGUgcmVxdWlyZWQgcGx1Z2luIG9yIGJyaWRnZSBkaXJlY3Rvcmllcy5gO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihlcnJvck1zZywge1xyXG4gICAgICAgICAgICAgICAgdmF1bHRQYXRoOiBub3JtYWxpemVkVmF1bHRQYXRoLFxyXG4gICAgICAgICAgICAgICAgcGx1Z2luTWFuaWZlc3REaXI6IHRoaXMucGx1Z2luLm1hbmlmZXN0LmRpcixcclxuICAgICAgICAgICAgICAgIHBsdWdpbklkXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNc2cpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVmFsaWRhdGUgcGF0aHMgKG5vdyB1c2luZyB0aGUgcmVzb2x2ZWQgcGx1Z2luRGlyIGFuZCBicmlkZ2VEaXIpXHJcbiAgICAgICAgaWYgKCFmcy5leGlzdHNTeW5jKG5vcm1hbGl6ZWRWYXVsdFBhdGgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ1tQQVRIU10gVmF1bHQgcGF0aCBkb2VzIG5vdCBleGlzdCByZXNvbHZlZCBkdXJpbmcgZmluYWwgY2hlY2snLCB7IHZhdWx0UGF0aDogbm9ybWFsaXplZFZhdWx0UGF0aCB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFmcy5leGlzdHNTeW5jKHBsdWdpbkRpcikpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignW1BBVEhTXSBQbHVnaW4gZGlyZWN0b3J5IGRvZXMgbm90IGV4aXN0IHJlc29sdmVkIGR1cmluZyBmaW5hbCBjaGVjaycsIHsgcGx1Z2luRGlyIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWZzLmV4aXN0c1N5bmMoYnJpZGdlRGlyKSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdbUEFUSFNdIEJyaWRnZSBkaXJlY3RvcnkgZG9lcyBub3QgZXhpc3QgcmVzb2x2ZWQgZHVyaW5nIGZpbmFsIGNoZWNrJywgeyBicmlkZ2VEaXIgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDb25zdHJ1Y3QgVmF1bHRQYXRocyBvYmplY3RcclxuICAgICAgICBjb25zdCB2YXVsdFBhdGhzOiBWYXVsdFBhdGhzID0ge1xyXG4gICAgICAgICAgICBwbHVnaW5EaXIsXHJcbiAgICAgICAgICAgIHZhdWx0UGF0aDogbm9ybWFsaXplZFZhdWx0UGF0aCxcclxuICAgICAgICAgICAgYnJpZGdlRGlyLFxyXG4gICAgICAgICAgICByZXNvbHZlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBTdXBwcmVzcyB2ZXJib3NlIHBhdGggbG9nZ2luZy4gT25seSBsb2cgY3JpdGljYWwgcGF0aCByZXNvbHV0aW9uIGZhaWx1cmVzLlxyXG4gICAgICAgIC8vIENhY2hlIG1ldHJpY3Mgd2lsbCBwcm92aWRlIG92ZXJhcmNoaW5nIGluc2lnaHRzLlxyXG5cclxuICAgICAgICByZXR1cm4gdmF1bHRQYXRocztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNhbml0aXplQ29uZmlnRm9yTG9nZ2luZyhjZmc6IGFueSk6IGFueSB7XHJcbiAgICAgICAgY29uc3Qgc2FuaXRpemVkOiBhbnkgPSB7IC4uLmNmZyB9O1xyXG4gICAgICAgIGlmIChzYW5pdGl6ZWQubGxtX2FwaV9rZXkpIHNhbml0aXplZC5sbG1fYXBpX2tleSA9ICcqKionO1xyXG4gICAgICAgIGlmIChzYW5pdGl6ZWQuZW1iZWRkZXJfYXBpX2tleSkgc2FuaXRpemVkLmVtYmVkZGVyX2FwaV9rZXkgPSAnKioqJztcclxuICAgICAgICBpZiAoc2FuaXRpemVkLmFwaV9rZXlzKSB7XHJcbiAgICAgICAgICAgIHNhbml0aXplZC5hcGlfa2V5cyA9IE9iamVjdC5rZXlzKHNhbml0aXplZC5hcGlfa2V5cykucmVkdWNlKChhY2M6IGFueSwga2V5OiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgICAgIGFjY1trZXldID0gc2FuaXRpemVkLmFwaV9rZXlzW2tleV0gPyAnKioqJyA6IG51bGw7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgICB9LCB7fSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzYW5pdGl6ZWQuZGF0YWJhc2VfcGFzc3dvcmQpIHNhbml0aXplZC5kYXRhYmFzZV9wYXNzd29yZCA9ICcqKionO1xyXG4gICAgICAgIHJldHVybiBzYW5pdGl6ZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgQVBJIGtleSBmb3IgYSBzcGVjaWZpYyBwcm92aWRlclxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldEFwaUtleUZvclByb3ZpZGVyKHByb3ZpZGVyOiBzdHJpbmcpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xyXG4gICAgICAgIHN3aXRjaCAocHJvdmlkZXIpIHtcclxuICAgICAgICAgICAgY2FzZSAnb3BlbmFpJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLmFwaUtleXMub3BlbmFpO1xyXG4gICAgICAgICAgICBjYXNlICdhbnRocm9waWMnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MuYXBpS2V5cy5hbnRocm9waWM7XHJcbiAgICAgICAgICAgIGNhc2UgJ2dvb2dsZSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5hcGlLZXlzLmdvb2dsZTtcclxuICAgICAgICAgICAgY2FzZSAnYXp1cmUnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MuYXBpS2V5cy5henVyZTtcclxuICAgICAgICAgICAgY2FzZSAnZ3JvcSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5hcGlLZXlzLmdyb3E7XHJcbiAgICAgICAgICAgIGNhc2UgJ3ZveWFnZSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5hcGlLZXlzLnZveWFnZTtcclxuICAgICAgICAgICAgY2FzZSAndmVuaWNlJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLmFwaUtleXMudmVuaWNlO1xyXG4gICAgICAgICAgICBjYXNlICdvcGVucm91dGVyJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLmFwaUtleXMub3BlbnJvdXRlcjtcclxuICAgICAgICAgICAgY2FzZSAnb2xsYW1hJzpcclxuICAgICAgICAgICAgICAgIC8vIE9sbGFtYSBkb2Vzbid0IHJlcXVpcmUgQVBJIGtleXMgKGxvY2FsKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdub3QtcmVxdWlyZWQnO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgZGF0YWJhc2UgY29uZmlndXJhdGlvbiBiYXNlZCBvbiBkYXRhYmFzZSB0eXBlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0RGF0YWJhc2VDb25maWcoKTogYW55IHtcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5kYXRhYmFzZVR5cGUgPT09ICduZW80aicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MuZGF0YWJhc2VDb25maWdzLm5lbzRqO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zZXR0aW5ncy5kYXRhYmFzZVR5cGUgPT09ICdmYWxrb3JkYicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MuZGF0YWJhc2VDb25maWdzLmZhbGtvcmRiO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFByZXBhcmUgZGF0YWJhc2UgY29uZmlndXJhdGlvbiBmb3IgUHl0aG9uIGJyaWRnZSBiYXNlZCBvbiBkYXRhYmFzZSB0eXBlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcHJlcGFyZURhdGFiYXNlQ29uZmlnKCk6IGFueSB7XHJcbiAgICAgICAgY29uc3QgZGJDb25maWcgPSB0aGlzLmdldERhdGFiYXNlQ29uZmlnKCk7XHJcbiAgICAgICAgaWYgKCFkYkNvbmZpZykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGRhdGFiYXNlIGNvbmZpZ3VyYXRpb24gZm91bmQgZm9yIHR5cGU6ICR7dGhpcy5zZXR0aW5ncy5kYXRhYmFzZVR5cGV9YCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5kYXRhYmFzZVR5cGUgPT09ICduZW80aicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlX3VybDogZGJDb25maWcudXJpLFxyXG4gICAgICAgICAgICAgICAgZGF0YWJhc2VfdXNlcm5hbWU6IGRiQ29uZmlnLnVzZXJuYW1lLFxyXG4gICAgICAgICAgICAgICAgZGF0YWJhc2VfcGFzc3dvcmQ6IGRiQ29uZmlnLnBhc3N3b3JkLFxyXG4gICAgICAgICAgICAgICAgZGF0YWJhc2VfbmFtZTogZGJDb25maWcuZGF0YWJhc2VcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2V0dGluZ3MuZGF0YWJhc2VUeXBlID09PSAnZmFsa29yZGInKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBkYXRhYmFzZV91cmw6IGByZWRpczovLyR7ZGJDb25maWcuaG9zdH06JHtkYkNvbmZpZy5wb3J0fWAsXHJcbiAgICAgICAgICAgICAgICBkYXRhYmFzZV91c2VybmFtZTogZGJDb25maWcudXNlcm5hbWUgfHwgbnVsbCwgIC8vIEZhbGtvckRCOiB1bmRlZmluZWQgLT4gbnVsbFxyXG4gICAgICAgICAgICAgICAgZGF0YWJhc2VfcGFzc3dvcmQ6IGRiQ29uZmlnLnBhc3N3b3JkIHx8IG51bGwsICAvLyBGYWxrb3JEQjogdW5kZWZpbmVkIC0+IG51bGxcclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlX25hbWU6IGRiQ29uZmlnLmRhdGFiYXNlXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGRhdGFiYXNlIHR5cGU6ICR7dGhpcy5zZXR0aW5ncy5kYXRhYmFzZVR5cGV9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBWYWxpZGF0ZSBzeW5jIGNvbmZpZ3VyYXRpb25cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSB2YWxpZGF0ZVN5bmNDb25maWcoY29uZmlnOiBTeW5jQ29uZmlnKTogeyBpc1ZhbGlkOiBib29sZWFuOyBlcnJvcnM6IHN0cmluZ1tdIH0ge1xyXG4gICAgICAgIGNvbnN0IGVycm9yczogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKCFjb25maWcubm90ZXNQYXRocyB8fCBjb25maWcubm90ZXNQYXRocy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgZXJyb3JzLnB1c2goJ05vIG5vdGVzIHNlbGVjdGVkIGZvciBzeW5jJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY29uZmlnLmJhdGNoU2l6ZSA8PSAwKSB7XHJcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKCdCYXRjaCBzaXplIG11c3QgYmUgZ3JlYXRlciB0aGFuIDAnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFZhbGlkYXRlIHNldHRpbmdzXHJcbiAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLmxsbVByb3ZpZGVyKSB7XHJcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKCdMTE0gcHJvdmlkZXIgbm90IGNvbmZpZ3VyZWQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFZhbGlkYXRlIExMTSBBUEkga2V5IGZvciB0aGUgc2VsZWN0ZWQgcHJvdmlkZXJcclxuICAgICAgICBjb25zdCBsbG1BcGlLZXkgPSB0aGlzLmdldEFwaUtleUZvclByb3ZpZGVyKHRoaXMuc2V0dGluZ3MubGxtUHJvdmlkZXIpO1xyXG4gICAgICAgIGlmICghbGxtQXBpS2V5KSB7XHJcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKGBBUEkga2V5IG5vdCBjb25maWd1cmVkIGZvciBMTE0gcHJvdmlkZXI6ICR7dGhpcy5zZXR0aW5ncy5sbG1Qcm92aWRlcn1gKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5lbWJlZGRlclByb3ZpZGVyKSB7XHJcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKCdFbWJlZGRlciBwcm92aWRlciBub3QgY29uZmlndXJlZCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVmFsaWRhdGUgZGF0YWJhc2UgY29uZmlndXJhdGlvbiBiYXNlZCBvbiB0eXBlXHJcbiAgICAgICAgY29uc3QgZGJDb25maWcgPSB0aGlzLmdldERhdGFiYXNlQ29uZmlnKCk7XHJcbiAgICAgICAgaWYgKCFkYkNvbmZpZykge1xyXG4gICAgICAgICAgICBlcnJvcnMucHVzaChgRGF0YWJhc2UgY29uZmlndXJhdGlvbiBub3QgZm91bmQgZm9yIHR5cGU6ICR7dGhpcy5zZXR0aW5ncy5kYXRhYmFzZVR5cGV9YCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gVmFsaWRhdGUgTmVvNGogY29uZmlndXJhdGlvblxyXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5kYXRhYmFzZVR5cGUgPT09ICduZW80aicpIHtcclxuICAgICAgICAgICAgICAgIGlmICghZGJDb25maWcudXJpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goJ05lbzRqIFVSSSBub3QgY29uZmlndXJlZCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFZhbGlkYXRlIEZhbGtvckRCIGNvbmZpZ3VyYXRpb25cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5zZXR0aW5ncy5kYXRhYmFzZVR5cGUgPT09ICdmYWxrb3JkYicpIHtcclxuICAgICAgICAgICAgICAgIGlmICghZGJDb25maWcuaG9zdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKCdGYWxrb3JEQiBob3N0IG5vdCBjb25maWd1cmVkJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIWRiQ29uZmlnLnBvcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaCgnRmFsa29yREIgcG9ydCBub3QgY29uZmlndXJlZCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBpc1ZhbGlkOiBlcnJvcnMubGVuZ3RoID09PSAwLFxyXG4gICAgICAgICAgICBlcnJvcnNcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUHJlcGFyZSBjb25maWd1cmF0aW9uIGZvciBQeXRob24gYnJpZGdlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgYXN5bmMgcHJlcGFyZVN5bmNDb25maWcoY29uZmlnOiBTeW5jQ29uZmlnLCB2YXVsdFBhdGg/OiBzdHJpbmcsIHNvdXJjZV9kZXNjcmlwdGlvbj86IHN0cmluZyk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgLy8gTkVXIERZTkFNSUMgQVBQUk9BQ0g6IFVzZSB2YXVsdF9wYXRoIGZvciBkeW5hbWljIG1vZGVsIGxvYWRpbmcgaW5zdGVhZCBvZiBtb2RlbHNfcGF0aFxyXG4gICAgICAgIGNvbnN0IGZpbmFsVmF1bHRQYXRoID0gdmF1bHRQYXRoIHx8IHRoaXMuZ2V0VmF1bHRQYXRoRmFsbGJhY2soKTtcclxuXHJcbiAgICAgICAgLy8gRklOQUwgRklYOiBSZWFkIHRoZSBMQVRFU1Qgc2V0dGluZ3MgZGlyZWN0bHkgZnJvbSB0aGUgcGx1Z2luIGluc3RhbmNlXHJcbiAgICAgICAgY29uc3QgY3VycmVudFNldHRpbmdzID0gKHRoaXMucGx1Z2luIGFzIGFueSkuc2V0dGluZ3M7XHJcblxyXG5cclxuICAgICAgICAvLyBSZXRyaWV2ZSBwcmV2aW91cyBlcGlzb2RlIFVVSURzIGZvciBub3RlcyB0aGF0IGhhdmUgYmVlbiBzeW5jZWQgYmVmb3JlXHJcbiAgICAgICAgY29uc3QgcHJldmlvdXNfZXBpc29kZV91dWlkczogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBub3RlUGF0aCBvZiBjb25maWcubm90ZXNQYXRocykge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdmF1bHRJZCA9IHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXROYW1lKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ2Fub25pY2FsaXplIHRoZSBub3RlIHBhdGggaW50byBhIHZhdWx0LXJlbGF0aXZlIHBhdGggdXNpbmcgdGhlIHNhbWUgbm9ybWFsaXplciB0aGUgVUkgdXNlcy5cclxuICAgICAgICAgICAgICAgIGxldCB2YXVsdFJlbGF0aXZlUGF0aCA9IHRoaXMuc3luY1N0YXR1c01hbmFnZXIubm9ybWFsaXplTm90ZVBhdGgobm90ZVBhdGgsIGZpbmFsVmF1bHRQYXRoKTtcclxuICAgICAgICAgICAgICAgIC8vIElmIG5vcm1hbGl6ZSByZXR1cm5lZCBhbiBhYnNvbHV0ZSBwYXRoLCBjb252ZXJ0IHRvIHZhdWx0LXJlbGF0aXZlIHdoZW4gcG9zc2libGVcclxuICAgICAgICAgICAgICAgIGlmIChwYXRoLmlzQWJzb2x1dGUodmF1bHRSZWxhdGl2ZVBhdGgpICYmIGZpbmFsVmF1bHRQYXRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmF1bHRSZWxhdGl2ZVBhdGggPSBwYXRoLnJlbGF0aXZlKGZpbmFsVmF1bHRQYXRoLCB2YXVsdFJlbGF0aXZlUGF0aCkucmVwbGFjZSgvXFxcXC9nLCAnLycpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXVsdFJlbGF0aXZlUGF0aCA9IHZhdWx0UmVsYXRpdmVQYXRoLnJlcGxhY2UoL1xcXFwvZywgJy8nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDUklUSUNBTCBGSVg6IEdldCBURmlsZSBmaXJzdCB0byByZWFkIG1tX3VpZCBmcm9tIGZyb250bWF0dGVyXHJcbiAgICAgICAgICAgICAgICBjb25zdCBub3RlRmlsZSA9IHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgodmF1bHRSZWxhdGl2ZVBhdGgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vdGVGaWxlICYmIG5vdGVGaWxlIGluc3RhbmNlb2YgVEZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBSZWFkIG1tX3VpZCBkaXJlY3RseSBmcm9tIGZyb250bWF0dGVyXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW1VaWQgPSBhd2FpdCBGcm9udG1hdHRlclV0aWxzLnJlYWRNbVVpZCh0aGlzLnBsdWdpbi5hcHAsIG5vdGVGaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobW1VaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm91bmQgZXhpc3RpbmcgbW1fdWlkIC0gYWRkIHRvIHByZXZpb3VzIGVwaXNvZGVzIHRvIHByZXZlbnQgZHVwbGljYXRlIGNyZWF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzX2VwaXNvZGVfdXVpZHMucHVzaChtbVVpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdSZXRyaWV2ZWQgcHJldmlvdXMgZXBpc29kZSBVVUlEIGZyb20gZnJvbnRtYXR0ZXInLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RlUGF0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhdWx0UmVsYXRpdmVQYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW1VaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBObyBtbV91aWQgZm91bmQgaW4gZnJvbnRtYXR0ZXIgLSB0aGlzIGlzIGEgbmV3IG5vdGVcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdObyBwcmV2aW91cyBlcGlzb2RlIFVVSUQgZm91bmQgLSBuZXcgbm90ZSB3aWxsIGdldCBmcmVzaCBlcGlzb2RlJywge1xyXG4gICAgICAgICAgICAgICAgICAgIG5vdGVQYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhdWx0UmVsYXRpdmVQYXRoXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnRXJyb3IgcmV0cmlldmluZyBlcGlzb2RlIFVVSUQgZm9yIG5vdGUnLCB7IG5vdGVQYXRoLCBlcnJvciB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBAdmVzc2VsLWNsb3NlOk9kaW5cclxuXHJcbiAgICAgICAgY29uc3Qgc3luY0NvbmZpZyA9IHtcclxuICAgICAgICAgICAgLy8gTExNIENvbmZpZ3VyYXRpb25cclxuICAgICAgICAgICAgbGxtX3Byb3ZpZGVyOiBjdXJyZW50U2V0dGluZ3MubGxtUHJvdmlkZXIsXHJcbiAgICAgICAgICAgIGxsbV9hcGlfa2V5OiB0aGlzLmdldEFwaUtleUZvclByb3ZpZGVyKGN1cnJlbnRTZXR0aW5ncy5sbG1Qcm92aWRlciksXHJcbiAgICAgICAgICAgIGxsbV9tb2RlbDogY3VycmVudFNldHRpbmdzLmxsbU1vZGVsLFxyXG4gICAgICAgICAgICBsbG1fc21hbGxfbW9kZWw6IGN1cnJlbnRTZXR0aW5ncy5sbG1TbWFsbE1vZGVsLFxyXG4gICAgICAgICAgICBhenVyZV9lbmRwb2ludDogY3VycmVudFNldHRpbmdzLmF6dXJlRW5kcG9pbnQsXHJcbiAgICAgICAgICAgIGF6dXJlX2FwaV92ZXJzaW9uOiBjdXJyZW50U2V0dGluZ3MuYXp1cmVBcGlWZXJzaW9uLFxyXG4gICAgICAgICAgICBvbGxhbWFfYmFzZV91cmw6IGN1cnJlbnRTZXR0aW5ncy5vbGxhbWFCYXNlVXJsLFxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gT3BlblJvdXRlciBDb25maWd1cmF0aW9uXHJcbiAgICAgICAgICAgIG9wZW5yb3V0ZXJfcHJlc2V0X3NsdWc6IGN1cnJlbnRTZXR0aW5ncy5vcGVucm91dGVyUHJlc2V0U2x1ZyxcclxuICAgICAgICAgICAgb3BlbnJvdXRlcl91c2VfcHJlc2V0X3dpdGhfY3VzdG9tX21vZGVsOiBjdXJyZW50U2V0dGluZ3Mub3BlbnJvdXRlclVzZVByZXNldFdpdGhDdXN0b21Nb2RlbCxcclxuXHJcbiAgICAgICAgICAgIC8vIEVtYmVkZGVyIENvbmZpZ3VyYXRpb25cclxuICAgICAgICAgICAgZW1iZWRkZXJfcHJvdmlkZXI6IGN1cnJlbnRTZXR0aW5ncy5lbWJlZGRlclByb3ZpZGVyLFxyXG4gICAgICAgICAgICBlbWJlZGRlcl9hcGlfa2V5OiB0aGlzLmdldEFwaUtleUZvclByb3ZpZGVyKGN1cnJlbnRTZXR0aW5ncy5lbWJlZGRlclByb3ZpZGVyKSxcclxuICAgICAgICAgICAgZW1iZWRkaW5nX21vZGVsOiBjdXJyZW50U2V0dGluZ3MuZW1iZWRkaW5nTW9kZWwsXHJcblxyXG4gICAgICAgICAgICAvLyBORVcgRk9STUFUOiBBZGQgYXBpX2tleXMgb2JqZWN0IGZvciBjb21wYXRpYmlsaXR5IHdpdGggc3luYy5weSBmYWxsYmFjayBsb2dpY1xyXG4gICAgICAgICAgICBhcGlfa2V5czogY3VycmVudFNldHRpbmdzLmFwaUtleXMsXHJcblxyXG4gICAgICAgICAgICAvLyBEYXRhYmFzZSBDb25maWd1cmF0aW9uIC0gR2V0IGZyb20gYXBwcm9wcmlhdGUgY29uZmlnXHJcbiAgICAgICAgICAgIGRhdGFiYXNlX3R5cGU6IGN1cnJlbnRTZXR0aW5ncy5kYXRhYmFzZVR5cGUsXHJcbiAgICAgICAgICAgIC4uLnRoaXMucHJlcGFyZURhdGFiYXNlQ29uZmlnKCksXHJcblxyXG4gICAgICAgICAgICAvLyBFcGlzb2RlIGFuZCBPbnRvbG9neSBDb25maWd1cmF0aW9uXHJcbiAgICAgICAgICAgIHVzZV9jdXN0b21fb250b2xvZ3k6IGN1cnJlbnRTZXR0aW5ncy51c2VDdXN0b21PbnRvbG9neSxcclxuICAgICAgICAgICAgZGVmYXVsdF9uYW1lc3BhY2U6IGN1cnJlbnRTZXR0aW5ncy5kZWZhdWx0TmFtZXNwYWNlLFxyXG4gICAgICAgICAgICBlbmFibGVfZm9sZGVyX25hbWVzcGFjaW5nOiBjdXJyZW50U2V0dGluZ3MuZW5hYmxlRm9sZGVyTmFtZXNwYWNpbmcsXHJcbiAgICAgICAgICAgIGVuYWJsZV9wcm9wZXJ0eV9uYW1lc3BhY2luZzogY3VycmVudFNldHRpbmdzLmVuYWJsZVByb3BlcnR5TmFtZXNwYWNpbmcsXHJcbiAgICAgICAgICAgIG5hbWVzcGFjZV9zdHJhdGVneTogY3VycmVudFNldHRpbmdzLm5hbWVzcGFjZVN0cmF0ZWd5LFxyXG4gICAgICAgICAgICBmb2xkZXJfbmFtZXNwYWNlX21hcHBpbmdzOiBjdXJyZW50U2V0dGluZ3MuZm9sZGVyTmFtZXNwYWNlTWFwcGluZ3MsXHJcblxyXG4gICAgICAgICAgICAvLyBTeW5jIENvbmZpZ3VyYXRpb25cclxuICAgICAgICAgICAgbm90ZXM6IGNvbmZpZy5ub3Rlc1BhdGhzLFxyXG4gICAgICAgICAgICBiYXRjaF9zaXplOiBjb25maWcuYmF0Y2hTaXplLFxyXG4gICAgICAgICAgICBkZWJ1ZzogY3VycmVudFNldHRpbmdzLmVuYWJsZURlYnVnTG9nZ2luZywgLy8gVXNlIHRoZSBsaXZlIHNldHRpbmdcclxuICAgICAgICAgICAgdmF1bHRfcGF0aDogZmluYWxWYXVsdFBhdGgsICAvLyBORVc6IHZhdWx0X3BhdGggZm9yIGR5bmFtaWMgbW9kZWwgbG9hZGluZ1xyXG4gICAgICAgICAgICBzb3VyY2VfZGVzY3JpcHRpb246IHNvdXJjZV9kZXNjcmlwdGlvbiB8fCBjb25maWcuc291cmNlX2Rlc2NyaXB0aW9uIHx8ICdvYnNpZGlhbl9tbV9pbmRpdmlkdWFsJyxcclxuXHJcbiAgICAgICAgICAgIC8vIENyb3NzLWVuY29kZXIgQ29uZmlndXJhdGlvbiAtIENSSVRJQ0FMIEZJWCBmb3Igc3luYy5weSBjb21wYXRpYmlsaXR5XHJcbiAgICAgICAgICAgIGNyb3NzX2VuY29kZXJfY2xpZW50OiBjb25maWcuY3Jvc3NFbmNvZGVyQ2xpZW50IHx8IGN1cnJlbnRTZXR0aW5ncy5jcm9zc0VuY29kZXJDbGllbnQgfHwgJ25vbmUnLFxyXG4gICAgICAgICAgICBjcm9zc19lbmNvZGVyX21vZGVsOiAoY3VycmVudFNldHRpbmdzLmNyb3NzRW5jb2RlckNsaWVudCA9PT0gJ2JnZScgfHwgY3VycmVudFNldHRpbmdzLmNyb3NzRW5jb2RlckNsaWVudCA9PT0gJ25vbmUnKVxyXG4gICAgICAgICAgICAgICAgPyB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgIDogKGNvbmZpZy5jcm9zc0VuY29kZXJNb2RlbCB8fCBjdXJyZW50U2V0dGluZ3MuY3Jvc3NFbmNvZGVyTW9kZWwpLFxyXG5cclxuICAgICAgICAgICAgLy8gUHJldmlvdXMgZXBpc29kZSBVVUlEcyBmb3IgdmVyc2lvbiB0cmFja2luZ1xyXG4gICAgICAgICAgICBwcmV2aW91c19lcGlzb2RlX3V1aWRzOiBwcmV2aW91c19lcGlzb2RlX3V1aWRzXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhgU3luYyBjb25maWd1cmF0aW9uIHByZXBhcmVkOiBUb3RhbCBub3RlczogJHtjb25maWcubm90ZXNQYXRocy5sZW5ndGh9LCBQcmV2aW91cyBlcGlzb2RlczogJHtwcmV2aW91c19lcGlzb2RlX3V1aWRzLmxlbmd0aH0sIEZpcnN0IHRpbWUgc3luYzogJHtjb25maWcubm90ZXNQYXRocy5sZW5ndGggLSBwcmV2aW91c19lcGlzb2RlX3V1aWRzLmxlbmd0aH1gKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHN5bmNDb25maWc7XHJcbiAgICB9XHJcbiAgICAvLyBAdmVzc2VsLWNsb3NlOkZyaWdnXHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyBleGVjdXRlUHl0aG9uU3luYyhcclxuICAgICAgICBjb25maWc6IGFueSxcclxuICAgICAgICBvblByb2dyZXNzPzogKHByb2dyZXNzOiBTeW5jUHJvZ3Jlc3MpID0+IHZvaWRcclxuICAgICk6IFByb21pc2U8U3luY1Jlc3VsdD4ge1xyXG4gICAgICAgIC8vIEBwdXJwb3NlOiBSb3V0ZSB0byBkYWVtb24gb3IgdHJhZGl0aW9uYWwgc3luYyBiYXNlZCBvbiBleHBlcmltZW50YWxEYWVtb25Nb2RlIEBkZXBlbmRzOiBQeXRob25EYWVtb25CcmlkZ2UgQHJlc3VsdHM6IFBlcmZvcm1hbmNlIG9wdGltaXplZCBzeW5jXHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZXhwZXJpbWVudGFsRGFlbW9uTW9kZSAmJiAodGhpcy5wbHVnaW4gYXMgYW55KS5weXRob25EYWVtb25CcmlkZ2UpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnVXNpbmcgZGFlbW9uIG1vZGUgZm9yIHN5bmMnKTtcclxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZXhlY3V0ZURhZW1vblN5bmMoY29uZmlnLCBvblByb2dyZXNzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFRyYWRpdGlvbmFsIHN5bmMgcGF0aFxyXG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1VzaW5nIHRyYWRpdGlvbmFsIHN5bmMgbW9kZScpO1xyXG4gICAgICAgIGNvbnN0IHsgYnJpZGdlRGlyOiBicmlkZ2VQYXRoIH0gPSB0aGlzLmdldFZhdWx0QXdhcmVQYXRocygpO1xyXG4gICAgICAgIGNvbnN0IHN5bmNTY3JpcHQgPSBqb2luKGJyaWRnZVBhdGgsICdzeW5jLnB5Jyk7XHJcblxyXG4gICAgICAgIC8vIE5vcm1hbGl6ZSBub3RlcyBhcnJheSBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIGRpZmZlcmVudCBjb25maWcgc2hhcGVzXHJcbiAgICAgICAgbGV0IG5vdGVzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvbmZpZy5ub3RlcykgJiYgY29uZmlnLm5vdGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbm90ZXMgPSBjb25maWcubm90ZXM7XHJcbiAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNvbmZpZy5ub3Rlc1BhdGhzKSAmJiBjb25maWcubm90ZXNQYXRocy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIG5vdGVzID0gY29uZmlnLm5vdGVzUGF0aHM7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY29uZmlnLm5vdGVzID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBub3RlcyA9IFtjb25maWcubm90ZXNdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSGVscGVyIHRvIHJ1biBhIHNpbmdsZS1ub3RlIHB5dGhvbiBzeW5jIGFuZCByZXR1cm4gYSBwYXJzZWQgcmVzdWx0IG9yIGZhaWx1cmUgZGV0YWlsc1xyXG4gICAgICAgIGNvbnN0IHJ1blNpbmdsZVN5bmMgPSAoc2luZ2xlQ29uZmlnOiBhbnkpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgcmVzdWx0PzogYW55OyBzdGRvdXQ/OiBzdHJpbmc7IHN0ZGVycj86IHN0cmluZzsgZXhpdENvZGU/OiBudW1iZXIgfT4gPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHBsdWdpbiBkaXJlY3RvcnkgdG8gcGFzcyB0byBQeXRob24gZm9yIGRhdGEuanNvbiBsb2NhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgcGx1Z2luRGlyIH0gPSB0aGlzLmdldFZhdWx0QXdhcmVQYXRocygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBweXRob25DbWQgPSB0aGlzLmdldFB5dGhvbkV4ZWN1dGFibGUoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBweXRob25FbnYgPSB0aGlzLmdldFB5dGhvbkVudigpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEV4ZWN1dGUgc3luYy5weSBhcyBhIFB5dGhvbiBtb2R1bGUgdG8gc3VwcG9ydCByZWxhdGl2ZSBpbXBvcnRzIChwcm9kdWN0aW9uLXNhZmUpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5weXRob25Qcm9jZXNzID0gc3Bhd24ocHl0aG9uQ21kLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICctbScsICdncmFwaGl0aV9icmlkZ2Uuc3luYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICctLXZhdWx0LXBhdGgnLCBzaW5nbGVDb25maWcudmF1bHRfcGF0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJy0tcGx1Z2luLWRhdGEtcGF0aCcsIHBsdWdpbkRpclxyXG4gICAgICAgICAgICAgICAgICAgIF0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3dkOiBwbHVnaW5EaXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ZGlvOiBbJ3BpcGUnLCAncGlwZScsICdwaXBlJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudjogcHl0aG9uRW52XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRyYWNrIHByb2Nlc3MgZm9yIGNhbmNlbGxhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlUHJvY2Vzc2VzLmFkZCh0aGlzLnB5dGhvblByb2Nlc3MpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBXcml0ZSBpbnB1dCBhbmQgY2xvc2Ugc3RkaW5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnB5dGhvblByb2Nlc3Muc3RkaW4/LndyaXRlKEpTT04uc3RyaW5naWZ5KHNpbmdsZUNvbmZpZykpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHl0aG9uUHJvY2Vzcy5zdGRpbj8uZW5kKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBvdXQgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZXJyID0gJyc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHl0aG9uUHJvY2Vzcy5zdGRvdXQ/Lm9uKCdkYXRhJywgKGRhdGE6IEJ1ZmZlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gZGF0YS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXQgKz0gdGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSBsb2cgc3Rkb3V0IGluIGRlYnVnIG1vZGUgdG8gYXZvaWQgSlNPTiBzcGFtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmVuYWJsZURlYnVnTG9nZ2luZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nUHl0aG9uT3V0cHV0KCdzdGRvdXQnLCB0ZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnB5dGhvblByb2Nlc3Muc3RkZXJyPy5vbignZGF0YScsIChkYXRhOiBCdWZmZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGRhdGEudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyICs9IHRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsd2F5cyBsb2cgc3RkZXJyIChjb250YWlucyBlcnJvcnMvd2FybmluZ3MvZGVidWcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZ1B5dGhvbk91dHB1dCgnc3RkZXJyJywgdGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHl0aG9uUHJvY2Vzcy5vbignY2xvc2UnLCAoY29kZTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBmcm9tIGFjdGl2ZSBwcm9jZXNzZXMgYW5kIGNsZWFyIHJlZmVyZW5jZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZVByb2Nlc3Nlcy5kZWxldGUodGhpcy5weXRob25Qcm9jZXNzISk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHl0aG9uUHJvY2VzcyA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKG91dC50cmltKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIExvZyBQeXRob24gZGlhZ25vc3RpY3MgaWYgcHJlc2VudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWQuX2RpYWdub3N0aWNzICYmIEFycmF5LmlzQXJyYXkocGFyc2VkLl9kaWFnbm9zdGljcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBkaWFnbm9zdGljIG9mIHBhcnNlZC5fZGlhZ25vc3RpY3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oYFtQWVRIT04tRElBR05PU1RJQ1NdICR7ZGlhZ25vc3RpY31gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsgc3VjY2VzczogdHJ1ZSwgcmVzdWx0OiBwYXJzZWQsIHN0ZG91dDogb3V0LCBzdGRlcnI6IGVyciwgZXhpdENvZGU6IGNvZGUgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChwYXJzZUVycikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoeyBzdWNjZXNzOiBmYWxzZSwgc3Rkb3V0OiBvdXQsIHN0ZGVycjogZXJyIHx8IFN0cmluZyhwYXJzZUVyciksIGV4aXRDb2RlOiBjb2RlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7IHN1Y2Nlc3M6IGZhbHNlLCBzdGRvdXQ6IG91dCwgc3RkZXJyOiBlcnIsIGV4aXRDb2RlOiBjb2RlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHl0aG9uUHJvY2Vzcy5vbignZXJyb3InLCAoZXJyb3I6IEVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnB5dGhvblByb2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlUHJvY2Vzc2VzLmRlbGV0ZSh0aGlzLnB5dGhvblByb2Nlc3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHl0aG9uUHJvY2VzcyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoeyBzdWNjZXNzOiBmYWxzZSwgc3Rkb3V0OiB1bmRlZmluZWQsIHN0ZGVycjogZXJyb3IubWVzc2FnZSwgZXhpdENvZGU6IC0xIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnB5dGhvblByb2Nlc3MgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoeyBzdWNjZXNzOiBmYWxzZSwgc3Rkb3V0OiB1bmRlZmluZWQsIHN0ZGVycjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpLCBleGl0Q29kZTogLTEgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG9uZSBvciB6ZXJvIG5vdGVzLCBwcmVzZXJ2ZSBvcmlnaW5hbCBzaW5nbGUtY2FsbCBiZWhhdmlvciBhbmQgcmV0dXJuIFB5dGhvbidzIHJlc3VsdCBkaXJlY3RseVxyXG4gICAgICAgIGlmIChub3Rlcy5sZW5ndGggPD0gMSkge1xyXG4gICAgICAgICAgICBjb25zdCBub3RlUGF0aEZvckdyb3VwID0gbm90ZXMubGVuZ3RoID09PSAxXHJcbiAgICAgICAgICAgICAgICA/IG5vdGVzWzBdXHJcbiAgICAgICAgICAgICAgICA6IChBcnJheS5pc0FycmF5KGNvbmZpZy5ub3RlcykgJiYgY29uZmlnLm5vdGVzLmxlbmd0aCA+IDAgPyBjb25maWcubm90ZXNbMF0gOiB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICBsZXQgZ3JvdXBJZE92ZXJyaWRlOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIGlmIChub3RlUGF0aEZvckdyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwSWRPdmVycmlkZSA9IGF3YWl0IHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZS5nZW5lcmF0ZUdyb3VwSWQobm90ZVBhdGhGb3JHcm91cCwgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmdldE5hbWUoKSk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBiZXN0LWVmZm9ydDsgZmFsbCBiYWNrIHRvIFB5dGhvbiByZXNvbHV0aW9uIGlmIGdlbmVyYXRpb24gZmFpbHNcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBzaW5nbGVDb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICAuLi5jb25maWcsXHJcbiAgICAgICAgICAgICAgICAuLi4oZ3JvdXBJZE92ZXJyaWRlID8geyBncm91cF9pZDogZ3JvdXBJZE92ZXJyaWRlIH0gOiB7fSksXHJcbiAgICAgICAgICAgICAgICBub3Rlczogbm90ZXMubGVuZ3RoID09PSAxID8gbm90ZXMgOiBjb25maWcubm90ZXNcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgY29uc3QgciA9IGF3YWl0IHJ1blNpbmdsZVN5bmMoc2luZ2xlQ29uZmlnKTtcclxuICAgICAgICAgICAgaWYgKHIuc3VjY2VzcyAmJiByLnJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIHJhdGUgbGltaXRpbmcgaW4gc2luZ2xlLW5vdGUgc3luYyB3aXRoIGVuaGFuY2VkIGZlZWRiYWNrXHJcbiAgICAgICAgICAgICAgICBpZiAoci5yZXN1bHQuc3RhdHVzID09PSAncmF0ZV9saW1pdGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldHJ5QWZ0ZXIgPSByLnJlc3VsdC5yZXRyeV9hZnRlciB8fCA2MDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNldFRpbWUgPSByLnJlc3VsdC5yZXNldF90aW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyTWVzc2FnZSA9IHIucmVzdWx0LnByb3ZpZGVyX21lc3NhZ2UgfHwgJ0FQSSByYXRlIGxpbWl0IGV4Y2VlZGVkJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIHVzZXItZnJpZW5kbHkgbWVzc2FnZSB3aXRoIHRpbWluZ1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXVzZU1lc3NhZ2UgPSBgUmF0ZSBsaW1pdCBleGNlZWRlZCAtIHN5bmMgcGF1c2VkYDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzZXRUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc2V0RGF0ZSA9IG5ldyBEYXRlKHJlc2V0VGltZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdXNlTWVzc2FnZSArPSBgIHVudGlsICR7cmVzZXREYXRlLnRvTG9jYWxlU3RyaW5nKCl9YDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXVzZU1lc3NhZ2UgKz0gYCBmb3IgJHtNYXRoLnJvdW5kKHJldHJ5QWZ0ZXIgLyA2MCl9IG1pbnV0ZXNgO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignUmF0ZSBsaW1pdCBkZXRlY3RlZCBpbiBzaW5nbGUgc3luYyAtIHBhdXNpbmcnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHJ5QWZ0ZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0VGltZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJNZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXVzZU1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraXBwZWQ6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXRjaENvdW50OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlVHlwZXNMb2FkZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkZ2VUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcGF1c2VNZXNzYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIFJldHVybiB0aGUgcmF3IHBhcnNlZCBQeXRob24gcmVzdWx0IChtYWludGFpbnMgYmFja3dhcmQgY29tcGF0aWJpbGl0eSlcclxuICAgICAgICAgICAgICAgIHJldHVybiByLnJlc3VsdCBhcyBTeW5jUmVzdWx0O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGBQeXRob24gc3luYyBmYWlsZWQke3IuZXhpdENvZGUgIT09IHVuZGVmaW5lZCA/IGAgd2l0aCBleGl0IGNvZGUgJHtyLmV4aXRDb2RlfWAgOiAnJ306ICR7ci5zdGRlcnIgfHwgci5zdGRvdXQgfHwgJ1Vua25vd24gZXJyb3InfWA7XHJcbiAgICAgICAgICAgICAgICAvLyBUcnVuY2F0ZSBzdGRlcnIgdG8gZmlyc3QgbGluZSBmb3IgY2xlYW4gbG9nZ2luZ1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHJ1bmNhdGVkU3RkZXJyID0gci5zdGRlcnIgPyByLnN0ZGVyci5zcGxpdCgnXFxuJylbMF0gOiAnVW5rbm93biBlcnJvcic7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignUHl0aG9uIHN5bmMgcHJvY2VzcyBmYWlsZWQnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhpdENvZGU6IHIuZXhpdENvZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RkZXJyOiB0cnVuY2F0ZWRTdGRlcnIsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RkZXJyTGVuZ3RoOiByLnN0ZGVyciA/IHIuc3RkZXJyLmxlbmd0aCA6IDBcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHNraXBwZWQ6IG5vdGVzLmxlbmd0aCB8fCAxLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsOiBub3Rlcy5sZW5ndGggfHwgMSxcclxuICAgICAgICAgICAgICAgICAgICBiYXRjaENvdW50OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGVUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgICAgICBlZGdlVHlwZXNMb2FkZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBwcm9jZXNzIG5vdGVzIHNlcXVlbnRpYWxseSAob25lIFB5dGhvbiBwcm9jZXNzIHBlciBub3RlKVxyXG4gICAgICAgIGxldCBwcm9jZXNzZWQgPSAwO1xyXG4gICAgICAgIGxldCBza2lwcGVkID0gMDtcclxuICAgICAgICBsZXQgbm9kZVR5cGVzTG9hZGVkID0gMDtcclxuICAgICAgICBsZXQgZWRnZVR5cGVzTG9hZGVkID0gMDtcclxuICAgICAgICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgY29uc3Qgbm90ZVJlc3VsdHM6IGFueVtdID0gW107XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm90ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGNhbmNlbGxhdGlvbiBiZWZvcmUgcHJvY2Vzc2luZyBlYWNoIG5vdGVcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNDYW5jZWxsZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1tDQU5DRUxdIFNlcXVlbnRpYWwgc3luYyBjYW5jZWxsZWQgYnkgdXNlcicpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkLFxyXG4gICAgICAgICAgICAgICAgICAgIHNraXBwZWQ6IHNraXBwZWQgKyAobm90ZXMubGVuZ3RoIC0gaSksXHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWw6IG5vdGVzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICBiYXRjaENvdW50OiBub3Rlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZVR5cGVzTG9hZGVkLFxyXG4gICAgICAgICAgICAgICAgICAgIGVkZ2VUeXBlc0xvYWRlZCxcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcnM6IFsuLi5lcnJvcnMsICdTeW5jIGNhbmNlbGxlZCBieSB1c2VyJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgaGFzRXJyb3JzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG5vdGVzOiBub3RlUmVzdWx0c1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3Qgbm90ZSA9IG5vdGVzW2ldO1xyXG5cclxuICAgICAgICAgICAgb25Qcm9ncmVzcz8uKHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnQ6IGksXHJcbiAgICAgICAgICAgICAgICB0b3RhbDogbm90ZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogYFByb2Nlc3Npbmcgbm90ZSAke2kgKyAxfS8ke25vdGVzLmxlbmd0aH06ICR7bm90ZX1gLFxyXG4gICAgICAgICAgICAgICAgcGVyY2VudGFnZTogKGkgLyBub3Rlcy5sZW5ndGgpICogMTAwXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQnVpbGQgYSBzaW5nbGUtbm90ZSBjb25maWcgZm9yIHRoZSBQeXRob24gYnJpZGdlIChpbmNsdWRlIHJlc29sdmVkIGdyb3VwX2lkIG92ZXJyaWRlKVxyXG4gICAgICAgICAgICBsZXQgZ3JvdXBJZE92ZXJyaWRlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBncm91cElkT3ZlcnJpZGUgPSBhd2FpdCB0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UuZ2VuZXJhdGVHcm91cElkKG5vdGUsIHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXROYW1lKCkpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgICAgICAgIC8vIGJlc3QtZWZmb3J0OyBmYWxsIGJhY2sgdG8gUHl0aG9uIHJlc29sdXRpb24gaWYgZ2VuZXJhdGlvbiBmYWlsc1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHNpbmdsZUNvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgIC4uLmNvbmZpZyxcclxuICAgICAgICAgICAgICAgIC4uLihncm91cElkT3ZlcnJpZGUgPyB7IGdyb3VwX2lkOiBncm91cElkT3ZlcnJpZGUgfSA6IHt9KSxcclxuICAgICAgICAgICAgICAgIG5vdGVzOiBbbm90ZV0sXHJcbiAgICAgICAgICAgICAgICBiYXRjaF9zaXplOiAxLFxyXG4gICAgICAgICAgICAgICAgLy8ga2VlcCBiYWNrd2FyZC1jb21wYXRpYmxlIGtleSBuYW1lcyB1c2VkIGJ5IFB5dGhvbiBicmlkZ2VcclxuICAgICAgICAgICAgICAgIG5vdGVzUGF0aHM6IFtub3RlXVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0V3JhcHBlciA9IGF3YWl0IHJ1blNpbmdsZVN5bmMoc2luZ2xlQ29uZmlnKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyZXN1bHRXcmFwcGVyLnN1Y2Nlc3MgJiYgcmVzdWx0V3JhcHBlci5yZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlc3VsdFdyYXBwZXIucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIHJhdGUgbGltaXRpbmcgd2l0aCBlbmhhbmNlZCBwYXVzZSBsb2dpY1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09ICdyYXRlX2xpbWl0ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2tpcHBlZCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldHJ5QWZ0ZXIgPSByZXN1bHQucmV0cnlfYWZ0ZXIgfHwgNjA7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzZXRUaW1lID0gcmVzdWx0LnJlc2V0X3RpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvdmlkZXJNZXNzYWdlID0gcmVzdWx0LnByb3ZpZGVyX21lc3NhZ2UgfHwgJ0FQSSByYXRlIGxpbWl0IGV4Y2VlZGVkJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIHVzZXItZnJpZW5kbHkgbWVzc2FnZSB3aXRoIHRpbWluZ1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXVzZU1lc3NhZ2UgPSBgUmF0ZSBsaW1pdCBleGNlZWRlZCAtIHN5bmMgcGF1c2VkYDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzZXRUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc2V0RGF0ZSA9IG5ldyBEYXRlKHJlc2V0VGltZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdXNlTWVzc2FnZSArPSBgIHVudGlsICR7cmVzZXREYXRlLnRvTG9jYWxlU3RyaW5nKCl9YDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXVzZU1lc3NhZ2UgKz0gYCBmb3IgJHtNYXRoLnJvdW5kKHJldHJ5QWZ0ZXIgLyA2MCl9IG1pbnV0ZXNgO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goYE5vdGUgJHtub3RlfTogJHtwYXVzZU1lc3NhZ2V9YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEVuaGFuY2VkIGxvZ2dpbmcgd2l0aCByZXNldCB0aW1lIGluZm9ybWF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignUmF0ZSBsaW1pdCBkZXRlY3RlZCAtIHN5bmMgcGF1c2luZycsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm90ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0cnlBZnRlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRUaW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlck1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdXNlTWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgcHJvZ3Jlc3MgdG8gc2hvdyBwYXVzZSBzdGF0dXNcclxuICAgICAgICAgICAgICAgICAgICBvblByb2dyZXNzPy4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50OiBpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogbm90ZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBwYXVzZU1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2U6IChpIC8gbm90ZXMubGVuZ3RoKSAqIDEwMFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBub3RlUmVzdWx0cy5wdXNoKHJlc3VsdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEludGVsbGlnZW50IGRlbGF5OiBsb25nZXIgcGF1c2UgZm9yIGFjdHVhbCByYXRlIGxpbWl0cywgc2hvcnRlciBmb3IgdGVzdGluZ1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heERlbGF5ID0gcmV0cnlBZnRlciA+IDMwMCA/IDMwMDAwIDogTWF0aC5taW4ocmV0cnlBZnRlciAqIDEwMDAsIDEwMDAwKTsgLy8gTWF4IDMwcyBmb3IgbG9uZyBsaW1pdHMsIDEwcyBmb3Igc2hvcnRcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbWF4RGVsYXkpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQWZ0ZXIgZGVsYXksIHVwZGF0ZSBwcm9ncmVzcyB0byBzaG93IHJlc3VtaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgb25Qcm9ncmVzcz8uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudDogaSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWw6IG5vdGVzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYFJlc3VtaW5nIHN5bmMgYWZ0ZXIgcmF0ZSBsaW1pdCBwYXVzZS4uLmAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2U6IChpIC8gbm90ZXMubGVuZ3RoKSAqIDEwMFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gUmVzcGVjdCBQeXRob24ncyByZXN1bHQuc3RhdHVzIGlmIHByZXNlbnRcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3VsdC5zdGF0dXMgPT09ICdzdWNjZXNzJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZCsrO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBza2lwcGVkKys7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goYE5vdGUgJHtub3RlfTogJHtyZXN1bHQubWVzc2FnZSB8fCAnZmFpbGVkJ31gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVzdWx0Lm5vZGVUeXBlc0xvYWRlZCA9PT0gJ251bWJlcicpIG5vZGVUeXBlc0xvYWRlZCArPSByZXN1bHQubm9kZVR5cGVzTG9hZGVkO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQuZWRnZVR5cGVzTG9hZGVkID09PSAnbnVtYmVyJykgZWRnZVR5cGVzTG9hZGVkICs9IHJlc3VsdC5lZGdlVHlwZXNMb2FkZWQ7XHJcbiAgICAgICAgICAgICAgICBub3RlUmVzdWx0cy5wdXNoKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBza2lwcGVkKys7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJNc2cgPSBgUHl0aG9uIHN5bmMgZmFpbGVkIGZvciBub3RlICR7bm90ZX0gKGV4aXRDb2RlPSR7cmVzdWx0V3JhcHBlci5leGl0Q29kZX0pOiAke3Jlc3VsdFdyYXBwZXIuc3RkZXJyIHx8IHJlc3VsdFdyYXBwZXIuc3Rkb3V0IHx8ICcnfWA7XHJcbiAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChlcnJNc2cpO1xyXG4gICAgICAgICAgICAgICAgLy8gVHJ1bmNhdGUgc3RkZXJyIHRvIGZpcnN0IGxpbmUgZm9yIGNsZWFuIGxvZ2dpbmdcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRydW5jYXRlZFN0ZGVyciA9IHJlc3VsdFdyYXBwZXIuc3RkZXJyID8gcmVzdWx0V3JhcHBlci5zdGRlcnIuc3BsaXQoJ1xcbicpWzBdIDogJ1Vua25vd24gZXJyb3InO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1B5dGhvbiBzeW5jIGZhaWxlZCBmb3Igbm90ZScsIHtcclxuICAgICAgICAgICAgICAgICAgICBub3RlLFxyXG4gICAgICAgICAgICAgICAgICAgIGV4aXRDb2RlOiByZXN1bHRXcmFwcGVyLmV4aXRDb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0ZGVycjogdHJ1bmNhdGVkU3RkZXJyLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0ZGVyckxlbmd0aDogcmVzdWx0V3JhcHBlci5zdGRlcnIgPyByZXN1bHRXcmFwcGVyLnN0ZGVyci5sZW5ndGggOiAwXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgb25Qcm9ncmVzcz8uKHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnQ6IGkgKyAxLFxyXG4gICAgICAgICAgICAgICAgdG90YWw6IG5vdGVzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBDb21wbGV0ZWQgJHtub3RlfWAsXHJcbiAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiAoKGkgKyAxKSAvIG5vdGVzLmxlbmd0aCkgKiAxMDBcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBTbWFsbCBkZWxheSB0byByZWR1Y2UgcmlzayBvZiByYWNlIGNvbmRpdGlvbnMgLyBkdXBsaWNhdGUgZW50aXR5IGNyZWF0aW9uIGluIEdyYXBoaXRpXHJcbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXMpID0+IHNldFRpbWVvdXQocmVzLCA1MDApKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IHByb2Nlc3NlZCA+IDAgPyAnc3VjY2VzcycgOiAnZXJyb3InO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHN0YXR1cyxcclxuICAgICAgICAgICAgcHJvY2Vzc2VkLFxyXG4gICAgICAgICAgICBza2lwcGVkLFxyXG4gICAgICAgICAgICB0b3RhbDogbm90ZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICBiYXRjaENvdW50OiBub3Rlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgIG5vZGVUeXBlc0xvYWRlZCxcclxuICAgICAgICAgICAgZWRnZVR5cGVzTG9hZGVkLFxyXG4gICAgICAgICAgICBlcnJvcnMsXHJcbiAgICAgICAgICAgIGhhc0Vycm9yczogZXJyb3JzLmxlbmd0aCA+IDAsXHJcbiAgICAgICAgICAgIG5vdGVzOiBub3RlUmVzdWx0c1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFeGVjdXRlIHN5bmMgdXNpbmcgdGhlIGRhZW1vbiBicmlkZ2VcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBhc3luYyBleGVjdXRlRGFlbW9uU3luYyhcclxuICAgICAgICBjb25maWc6IGFueSxcclxuICAgICAgICBvblByb2dyZXNzPzogKHByb2dyZXNzOiBTeW5jUHJvZ3Jlc3MpID0+IHZvaWRcclxuICAgICk6IFByb21pc2U8U3luY1Jlc3VsdD4ge1xyXG4gICAgICAgIGNvbnN0IGRhZW1vbkJyaWRnZSA9ICh0aGlzLnBsdWdpbiBhcyBhbnkpLnB5dGhvbkRhZW1vbkJyaWRnZTtcclxuICAgICAgICBpZiAoIWRhZW1vbkJyaWRnZSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRGFlbW9uIGJyaWRnZSBub3QgYXZhaWxhYmxlLCBmYWxsaW5nIGJhY2sgdG8gdHJhZGl0aW9uYWwgc3luYycpO1xyXG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5leGVjdXRlVHJhZGl0aW9uYWxTeW5jKGNvbmZpZywgb25Qcm9ncmVzcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBOb3JtYWxpemUgbm90ZXMgYXJyYXkgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBkaWZmZXJlbnQgY29uZmlnIHNoYXBlc1xyXG4gICAgICAgIGxldCBub3Rlczogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb25maWcubm90ZXMpICYmIGNvbmZpZy5ub3Rlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIG5vdGVzID0gY29uZmlnLm5vdGVzO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjb25maWcubm90ZXNQYXRocykgJiYgY29uZmlnLm5vdGVzUGF0aHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBub3RlcyA9IGNvbmZpZy5ub3Rlc1BhdGhzO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbmZpZy5ub3RlcyA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgbm90ZXMgPSBbY29uZmlnLm5vdGVzXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChub3Rlcy5sZW5ndGggPD0gMSkge1xyXG4gICAgICAgICAgICAgICAgLy8gU2luZ2xlIG5vdGUgc3luY1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGFlbW9uQnJpZGdlLmV4ZWN1dGVEYWVtb25TeW5jKGNvbmZpZyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZURhZW1vblN5bmNSZXN1bHQocmVzdWx0KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIE11bHRpcGxlIG5vdGVzIC0gcHJvY2VzcyBzZXF1ZW50aWFsbHlcclxuICAgICAgICAgICAgICAgIGxldCBwcm9jZXNzZWQgPSAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNraXBwZWQgPSAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IG5vZGVUeXBlc0xvYWRlZCA9IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgZWRnZVR5cGVzTG9hZGVkID0gMDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yczogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5vdGVSZXN1bHRzOiBhbnlbXSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm90ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0NhbmNlbGxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2tpcHBlZDogc2tpcHBlZCArIChub3Rlcy5sZW5ndGggLSBpKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiBub3Rlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXRjaENvdW50OiBub3Rlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlVHlwZXNMb2FkZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGdlVHlwZXNMb2FkZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnM6IFsuLi5lcnJvcnMsICdTeW5jIGNhbmNlbGxlZCBieSB1c2VyJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNFcnJvcnM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3Rlczogbm90ZVJlc3VsdHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdGUgPSBub3Rlc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBvblByb2dyZXNzPy4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50OiBpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogbm90ZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgUHJvY2Vzc2luZyBub3RlICR7aSArIDF9LyR7bm90ZXMubGVuZ3RofTogJHtub3RlfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2U6IChpIC8gbm90ZXMubGVuZ3RoKSAqIDEwMFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaW5nbGVDb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmNvbmZpZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm90ZXM6IFtub3RlXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmF0Y2hfc2l6ZTogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm90ZXNQYXRoczogW25vdGVdXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGFlbW9uQnJpZGdlLmV4ZWN1dGVEYWVtb25TeW5jKHNpbmdsZUNvbmZpZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZFJlc3VsdCA9IHRoaXMucGFyc2VEYWVtb25TeW5jUmVzdWx0KHJlc3VsdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VkUmVzdWx0LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraXBwZWQrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGBOb3RlICR7bm90ZX06ICR7cGFyc2VkUmVzdWx0Lm1lc3NhZ2UgfHwgJ2ZhaWxlZCd9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcGFyc2VkUmVzdWx0Lm5vZGVUeXBlc0xvYWRlZCA9PT0gJ251bWJlcicpIG5vZGVUeXBlc0xvYWRlZCArPSBwYXJzZWRSZXN1bHQubm9kZVR5cGVzTG9hZGVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHBhcnNlZFJlc3VsdC5lZGdlVHlwZXNMb2FkZWQgPT09ICdudW1iZXInKSBlZGdlVHlwZXNMb2FkZWQgKz0gcGFyc2VkUmVzdWx0LmVkZ2VUeXBlc0xvYWRlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm90ZVJlc3VsdHMucHVzaChwYXJzZWRSZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraXBwZWQrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyTXNnID0gYERhZW1vbiBzeW5jIGZhaWxlZCBmb3Igbm90ZSAke25vdGV9OiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChlcnJNc2cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRGFlbW9uIHN5bmMgZmFpbGVkIGZvciBub3RlJywgeyBub3RlLCBlcnJvciB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG9uUHJvZ3Jlc3M/Lih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQ6IGkgKyAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogbm90ZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgQ29tcGxldGVkICR7bm90ZX1gLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiAoKGkgKyAxKSAvIG5vdGVzLmxlbmd0aCkgKiAxMDBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU21hbGwgZGVsYXkgdG8gcmVkdWNlIHJhY2UgY29uZGl0aW9uc1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXMpID0+IHNldFRpbWVvdXQocmVzLCA1MDApKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0dXMgPSBwcm9jZXNzZWQgPiAwID8gJ3N1Y2Nlc3MnIDogJ2Vycm9yJztcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZCxcclxuICAgICAgICAgICAgICAgICAgICBza2lwcGVkLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsOiBub3Rlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2hDb3VudDogbm90ZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGVUeXBlc0xvYWRlZCxcclxuICAgICAgICAgICAgICAgICAgICBlZGdlVHlwZXNMb2FkZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzLFxyXG4gICAgICAgICAgICAgICAgICAgIGhhc0Vycm9yczogZXJyb3JzLmxlbmd0aCA+IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbm90ZXM6IG5vdGVSZXN1bHRzXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0RhZW1vbiBzeW5jIGZhaWxlZCwgZmFsbGluZyBiYWNrIHRvIHRyYWRpdGlvbmFsIHN5bmMnLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmV4ZWN1dGVUcmFkaXRpb25hbFN5bmMoY29uZmlnLCBvblByb2dyZXNzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXJzZSBkYWVtb24gc3luYyByZXN1bHQgdG8gU3luY1Jlc3VsdCBmb3JtYXRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBwYXJzZURhZW1vblN5bmNSZXN1bHQocmVzdWx0OiBhbnkpOiBTeW5jUmVzdWx0IHtcclxuICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IEpTT04ucGFyc2UocmVzdWx0KTtcclxuICAgICAgICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgc2tpcHBlZDogMSxcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbDogMSxcclxuICAgICAgICAgICAgICAgICAgICBiYXRjaENvdW50OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGVUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgICAgICBlZGdlVHlwZXNMb2FkZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byBwYXJzZSBkYWVtb24gcmVzdWx0J1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc3RhdHVzOiByZXN1bHQuc3RhdHVzIHx8ICdlcnJvcicsXHJcbiAgICAgICAgICAgIHByb2Nlc3NlZDogcmVzdWx0LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnID8gMSA6IDAsXHJcbiAgICAgICAgICAgIHNraXBwZWQ6IHJlc3VsdC5zdGF0dXMgPT09ICdzdWNjZXNzJyA/IDAgOiAxLFxyXG4gICAgICAgICAgICB0b3RhbDogMSxcclxuICAgICAgICAgICAgYmF0Y2hDb3VudDogMSxcclxuICAgICAgICAgICAgbm9kZVR5cGVzTG9hZGVkOiByZXN1bHQubm9kZVR5cGVzTG9hZGVkIHx8IDAsXHJcbiAgICAgICAgICAgIGVkZ2VUeXBlc0xvYWRlZDogcmVzdWx0LmVkZ2VUeXBlc0xvYWRlZCB8fCAwLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSxcclxuICAgICAgICAgICAgbm90ZXM6IFtyZXN1bHRdXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEV4ZWN1dGUgdHJhZGl0aW9uYWwgc3luYyAoZXh0cmFjdGVkIGZyb20gb3JpZ2luYWwgZXhlY3V0ZVB5dGhvblN5bmMpXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgYXN5bmMgZXhlY3V0ZVRyYWRpdGlvbmFsU3luYyhcclxuICAgICAgICBjb25maWc6IGFueSxcclxuICAgICAgICBvblByb2dyZXNzPzogKHByb2dyZXNzOiBTeW5jUHJvZ3Jlc3MpID0+IHZvaWRcclxuICAgICk6IFByb21pc2U8U3luY1Jlc3VsdD4ge1xyXG4gICAgICAgIGNvbnN0IHsgYnJpZGdlRGlyOiBicmlkZ2VQYXRoIH0gPSB0aGlzLmdldFZhdWx0QXdhcmVQYXRocygpO1xyXG4gICAgICAgIGNvbnN0IHN5bmNTY3JpcHQgPSBqb2luKGJyaWRnZVBhdGgsICdzeW5jLnB5Jyk7XHJcblxyXG4gICAgICAgIC8vIE5vcm1hbGl6ZSBub3RlcyBhcnJheSBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIGRpZmZlcmVudCBjb25maWcgc2hhcGVzXHJcbiAgICAgICAgbGV0IG5vdGVzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvbmZpZy5ub3RlcykgJiYgY29uZmlnLm5vdGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbm90ZXMgPSBjb25maWcubm90ZXM7XHJcbiAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNvbmZpZy5ub3Rlc1BhdGhzKSAmJiBjb25maWcubm90ZXNQYXRocy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIG5vdGVzID0gY29uZmlnLm5vdGVzUGF0aHM7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY29uZmlnLm5vdGVzID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBub3RlcyA9IFtjb25maWcubm90ZXNdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSGVscGVyIHRvIHJ1biBhIHNpbmdsZS1ub3RlIHB5dGhvbiBzeW5jIGFuZCByZXR1cm4gYSBwYXJzZWQgcmVzdWx0IG9yIGZhaWx1cmUgZGV0YWlsc1xyXG4gICAgICAgIGNvbnN0IHJ1blNpbmdsZVN5bmMgPSAoc2luZ2xlQ29uZmlnOiBhbnkpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgcmVzdWx0PzogYW55OyBzdGRvdXQ/OiBzdHJpbmc7IHN0ZGVycj86IHN0cmluZzsgZXhpdENvZGU/OiBudW1iZXIgfT4gPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHBsdWdpbiBkaXJlY3RvcnkgdG8gcGFzcyB0byBQeXRob24gZm9yIGRhdGEuanNvbiBsb2NhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgcGx1Z2luRGlyIH0gPSB0aGlzLmdldFZhdWx0QXdhcmVQYXRocygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBweXRob25DbWQgPSB0aGlzLmdldFB5dGhvbkV4ZWN1dGFibGUoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBweXRob25FbnYgPSB0aGlzLmdldFB5dGhvbkVudigpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEV4ZWN1dGUgc3luYy5weSBhcyBhIFB5dGhvbiBtb2R1bGUgdG8gc3VwcG9ydCByZWxhdGl2ZSBpbXBvcnRzIChwcm9kdWN0aW9uLXNhZmUpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5weXRob25Qcm9jZXNzID0gc3Bhd24ocHl0aG9uQ21kLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICctbScsICdncmFwaGl0aV9icmlkZ2Uuc3luYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICctLXZhdWx0LXBhdGgnLCBzaW5nbGVDb25maWcudmF1bHRfcGF0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJy0tcGx1Z2luLWRhdGEtcGF0aCcsIHBsdWdpbkRpclxyXG4gICAgICAgICAgICAgICAgICAgIF0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3dkOiBwbHVnaW5EaXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ZGlvOiBbJ3BpcGUnLCAncGlwZScsICdwaXBlJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudjogcHl0aG9uRW52XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRyYWNrIHByb2Nlc3MgZm9yIGNhbmNlbGxhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlUHJvY2Vzc2VzLmFkZCh0aGlzLnB5dGhvblByb2Nlc3MpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBXcml0ZSBpbnB1dCBhbmQgY2xvc2Ugc3RkaW5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnB5dGhvblByb2Nlc3Muc3RkaW4/LndyaXRlKEpTT04uc3RyaW5naWZ5KHNpbmdsZUNvbmZpZykpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHl0aG9uUHJvY2Vzcy5zdGRpbj8uZW5kKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBvdXQgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZXJyID0gJyc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHl0aG9uUHJvY2Vzcy5zdGRvdXQ/Lm9uKCdkYXRhJywgKGRhdGE6IEJ1ZmZlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gZGF0YS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXQgKz0gdGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSBsb2cgc3Rkb3V0IGluIGRlYnVnIG1vZGUgdG8gYXZvaWQgSlNPTiBzcGFtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmVuYWJsZURlYnVnTG9nZ2luZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nUHl0aG9uT3V0cHV0KCdzdGRvdXQnLCB0ZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnB5dGhvblByb2Nlc3Muc3RkZXJyPy5vbignZGF0YScsIChkYXRhOiBCdWZmZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGRhdGEudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyICs9IHRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsd2F5cyBsb2cgc3RkZXJyIChjb250YWlucyBlcnJvcnMvd2FybmluZ3MvZGVidWcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZ1B5dGhvbk91dHB1dCgnc3RkZXJyJywgdGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHl0aG9uUHJvY2Vzcy5vbignY2xvc2UnLCAoY29kZTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBmcm9tIGFjdGl2ZSBwcm9jZXNzZXMgYW5kIGNsZWFyIHJlZmVyZW5jZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZVByb2Nlc3Nlcy5kZWxldGUodGhpcy5weXRob25Qcm9jZXNzISk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHl0aG9uUHJvY2VzcyA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKG91dC50cmltKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIExvZyBQeXRob24gZGlhZ25vc3RpY3MgaWYgcHJlc2VudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWQuX2RpYWdub3N0aWNzICYmIEFycmF5LmlzQXJyYXkocGFyc2VkLl9kaWFnbm9zdGljcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBkaWFnbm9zdGljIG9mIHBhcnNlZC5fZGlhZ25vc3RpY3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oYFtQWVRIT04tRElBR05PU1RJQ1NdICR7ZGlhZ25vc3RpY31gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsgc3VjY2VzczogdHJ1ZSwgcmVzdWx0OiBwYXJzZWQsIHN0ZG91dDogb3V0LCBzdGRlcnI6IGVyciwgZXhpdENvZGU6IGNvZGUgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChwYXJzZUVycikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoeyBzdWNjZXNzOiBmYWxzZSwgc3Rkb3V0OiBvdXQsIHN0ZGVycjogZXJyIHx8IFN0cmluZyhwYXJzZUVyciksIGV4aXRDb2RlOiBjb2RlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7IHN1Y2Nlc3M6IGZhbHNlLCBzdGRvdXQ6IG91dCwgc3RkZXJyOiBlcnIsIGV4aXRDb2RlOiBjb2RlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHl0aG9uUHJvY2Vzcy5vbignZXJyb3InLCAoZXJyb3I6IEVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnB5dGhvblByb2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlUHJvY2Vzc2VzLmRlbGV0ZSh0aGlzLnB5dGhvblByb2Nlc3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHl0aG9uUHJvY2VzcyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoeyBzdWNjZXNzOiBmYWxzZSwgc3Rkb3V0OiB1bmRlZmluZWQsIHN0ZGVycjogZXJyb3IubWVzc2FnZSwgZXhpdENvZGU6IC0xIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnB5dGhvblByb2Nlc3MgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoeyBzdWNjZXNzOiBmYWxzZSwgc3Rkb3V0OiB1bmRlZmluZWQsIHN0ZGVycjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpLCBleGl0Q29kZTogLTEgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG9uZSBvciB6ZXJvIG5vdGVzLCBwcmVzZXJ2ZSBvcmlnaW5hbCBzaW5nbGUtY2FsbCBiZWhhdmlvciBhbmQgcmV0dXJuIFB5dGhvbidzIHJlc3VsdCBkaXJlY3RseVxyXG4gICAgICAgIGlmIChub3Rlcy5sZW5ndGggPD0gMSkge1xyXG4gICAgICAgICAgICBjb25zdCBub3RlUGF0aEZvckdyb3VwID0gbm90ZXMubGVuZ3RoID09PSAxXHJcbiAgICAgICAgICAgICAgICA/IG5vdGVzWzBdXHJcbiAgICAgICAgICAgICAgICA6IChBcnJheS5pc0FycmF5KGNvbmZpZy5ub3RlcykgJiYgY29uZmlnLm5vdGVzLmxlbmd0aCA+IDAgPyBjb25maWcubm90ZXNbMF0gOiB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICBsZXQgZ3JvdXBJZE92ZXJyaWRlOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIGlmIChub3RlUGF0aEZvckdyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwSWRPdmVycmlkZSA9IGF3YWl0IHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZS5nZW5lcmF0ZUdyb3VwSWQobm90ZVBhdGhGb3JHcm91cCwgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmdldE5hbWUoKSk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBiZXN0LWVmZm9ydDsgZmFsbCBiYWNrIHRvIFB5dGhvbiByZXNvbHV0aW9uIGlmIGdlbmVyYXRpb24gZmFpbHNcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBzaW5nbGVDb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICAuLi5jb25maWcsXHJcbiAgICAgICAgICAgICAgICAuLi4oZ3JvdXBJZE92ZXJyaWRlID8geyBncm91cF9pZDogZ3JvdXBJZE92ZXJyaWRlIH0gOiB7fSksXHJcbiAgICAgICAgICAgICAgICBub3Rlczogbm90ZXMubGVuZ3RoID09PSAxID8gbm90ZXMgOiBjb25maWcubm90ZXNcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgY29uc3QgciA9IGF3YWl0IHJ1blNpbmdsZVN5bmMoc2luZ2xlQ29uZmlnKTtcclxuICAgICAgICAgICAgaWYgKHIuc3VjY2VzcyAmJiByLnJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIHJhdGUgbGltaXRpbmcgaW4gc2luZ2xlLW5vdGUgc3luYyB3aXRoIGVuaGFuY2VkIGZlZWRiYWNrXHJcbiAgICAgICAgICAgICAgICBpZiAoci5yZXN1bHQuc3RhdHVzID09PSAncmF0ZV9saW1pdGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldHJ5QWZ0ZXIgPSByLnJlc3VsdC5yZXRyeV9hZnRlciB8fCA2MDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNldFRpbWUgPSByLnJlc3VsdC5yZXNldF90aW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyTWVzc2FnZSA9IHIucmVzdWx0LnByb3ZpZGVyX21lc3NhZ2UgfHwgJ0FQSSByYXRlIGxpbWl0IGV4Y2VlZGVkJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIHVzZXItZnJpZW5kbHkgbWVzc2FnZSB3aXRoIHRpbWluZ1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXVzZU1lc3NhZ2UgPSBgUmF0ZSBsaW1pdCBleGNlZWRlZCAtIHN5bmMgcGF1c2VkYDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzZXRUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc2V0RGF0ZSA9IG5ldyBEYXRlKHJlc2V0VGltZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdXNlTWVzc2FnZSArPSBgIHVudGlsICR7cmVzZXREYXRlLnRvTG9jYWxlU3RyaW5nKCl9YDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXVzZU1lc3NhZ2UgKz0gYCBmb3IgJHtNYXRoLnJvdW5kKHJldHJ5QWZ0ZXIgLyA2MCl9IG1pbnV0ZXNgO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignUmF0ZSBsaW1pdCBkZXRlY3RlZCBpbiBzaW5nbGUgc3luYyAtIHBhdXNpbmcnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHJ5QWZ0ZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0VGltZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJNZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXVzZU1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraXBwZWQ6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXRjaENvdW50OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlVHlwZXNMb2FkZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkZ2VUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcGF1c2VNZXNzYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIFJldHVybiB0aGUgcmF3IHBhcnNlZCBQeXRob24gcmVzdWx0IChtYWludGFpbnMgYmFja3dhcmQgY29tcGF0aWJpbGl0eSlcclxuICAgICAgICAgICAgICAgIHJldHVybiByLnJlc3VsdCBhcyBTeW5jUmVzdWx0O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGBQeXRob24gc3luYyBmYWlsZWQke3IuZXhpdENvZGUgIT09IHVuZGVmaW5lZCA/IGAgd2l0aCBleGl0IGNvZGUgJHtyLmV4aXRDb2RlfWAgOiAnJ306ICR7ci5zdGRlcnIgfHwgci5zdGRvdXQgfHwgJ1Vua25vd24gZXJyb3InfWA7XHJcbiAgICAgICAgICAgICAgICAvLyBUcnVuY2F0ZSBzdGRlcnIgdG8gZmlyc3QgbGluZSBmb3IgY2xlYW4gbG9nZ2luZ1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHJ1bmNhdGVkU3RkZXJyID0gci5zdGRlcnIgPyByLnN0ZGVyci5zcGxpdCgnXFxuJylbMF0gOiAnVW5rbm93biBlcnJvcic7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignUHl0aG9uIHN5bmMgcHJvY2VzcyBmYWlsZWQnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhpdENvZGU6IHIuZXhpdENvZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RkZXJyOiB0cnVuY2F0ZWRTdGRlcnIsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RkZXJyTGVuZ3RoOiByLnN0ZGVyciA/IHIuc3RkZXJyLmxlbmd0aCA6IDBcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHNraXBwZWQ6IG5vdGVzLmxlbmd0aCB8fCAxLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsOiBub3Rlcy5sZW5ndGggfHwgMSxcclxuICAgICAgICAgICAgICAgICAgICBiYXRjaENvdW50OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGVUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgICAgICBlZGdlVHlwZXNMb2FkZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBwcm9jZXNzIG5vdGVzIHNlcXVlbnRpYWxseSAob25lIFB5dGhvbiBwcm9jZXNzIHBlciBub3RlKVxyXG4gICAgICAgIGxldCBwcm9jZXNzZWQgPSAwO1xyXG4gICAgICAgIGxldCBza2lwcGVkID0gMDtcclxuICAgICAgICBsZXQgbm9kZVR5cGVzTG9hZGVkID0gMDtcclxuICAgICAgICBsZXQgZWRnZVR5cGVzTG9hZGVkID0gMDtcclxuICAgICAgICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgY29uc3Qgbm90ZVJlc3VsdHM6IGFueVtdID0gW107XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm90ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGNhbmNlbGxhdGlvbiBiZWZvcmUgcHJvY2Vzc2luZyBlYWNoIG5vdGVcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNDYW5jZWxsZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1tDQU5DRUxdIFNlcXVlbnRpYWwgc3luYyBjYW5jZWxsZWQgYnkgdXNlcicpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkLFxyXG4gICAgICAgICAgICAgICAgICAgIHNraXBwZWQ6IHNraXBwZWQgKyAobm90ZXMubGVuZ3RoIC0gaSksXHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWw6IG5vdGVzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICBiYXRjaENvdW50OiBub3Rlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZVR5cGVzTG9hZGVkLFxyXG4gICAgICAgICAgICAgICAgICAgIGVkZ2VUeXBlc0xvYWRlZCxcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcnM6IFsuLi5lcnJvcnMsICdTeW5jIGNhbmNlbGxlZCBieSB1c2VyJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgaGFzRXJyb3JzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG5vdGVzOiBub3RlUmVzdWx0c1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3Qgbm90ZSA9IG5vdGVzW2ldO1xyXG5cclxuICAgICAgICAgICAgb25Qcm9ncmVzcz8uKHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnQ6IGksXHJcbiAgICAgICAgICAgICAgICB0b3RhbDogbm90ZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogYFByb2Nlc3Npbmcgbm90ZSAke2kgKyAxfS8ke25vdGVzLmxlbmd0aH06ICR7bm90ZX1gLFxyXG4gICAgICAgICAgICAgICAgcGVyY2VudGFnZTogKGkgLyBub3Rlcy5sZW5ndGgpICogMTAwXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQnVpbGQgYSBzaW5nbGUtbm90ZSBjb25maWcgZm9yIHRoZSBQeXRob24gYnJpZGdlIChpbmNsdWRlIHJlc29sdmVkIGdyb3VwX2lkIG92ZXJyaWRlKVxyXG4gICAgICAgICAgICBsZXQgZ3JvdXBJZE92ZXJyaWRlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBncm91cElkT3ZlcnJpZGUgPSBhd2FpdCB0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UuZ2VuZXJhdGVHcm91cElkKG5vdGUsIHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXROYW1lKCkpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgICAgICAgIC8vIGJlc3QtZWZmb3J0OyBmYWxsIGJhY2sgdG8gUHl0aG9uIHJlc29sdXRpb24gaWYgZ2VuZXJhdGlvbiBmYWlsc1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHNpbmdsZUNvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgIC4uLmNvbmZpZyxcclxuICAgICAgICAgICAgICAgIC4uLihncm91cElkT3ZlcnJpZGUgPyB7IGdyb3VwX2lkOiBncm91cElkT3ZlcnJpZGUgfSA6IHt9KSxcclxuICAgICAgICAgICAgICAgIG5vdGVzOiBbbm90ZV0sXHJcbiAgICAgICAgICAgICAgICBiYXRjaF9zaXplOiAxLFxyXG4gICAgICAgICAgICAgICAgLy8ga2VlcCBiYWNrd2FyZC1jb21wYXRpYmxlIGtleSBuYW1lcyB1c2VkIGJ5IFB5dGhvbiBicmlkZ2VcclxuICAgICAgICAgICAgICAgIG5vdGVzUGF0aHM6IFtub3RlXVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0V3JhcHBlciA9IGF3YWl0IHJ1blNpbmdsZVN5bmMoc2luZ2xlQ29uZmlnKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyZXN1bHRXcmFwcGVyLnN1Y2Nlc3MgJiYgcmVzdWx0V3JhcHBlci5yZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlc3VsdFdyYXBwZXIucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIHJhdGUgbGltaXRpbmcgd2l0aCBlbmhhbmNlZCBwYXVzZSBsb2dpY1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09ICdyYXRlX2xpbWl0ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2tpcHBlZCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldHJ5QWZ0ZXIgPSByZXN1bHQucmV0cnlfYWZ0ZXIgfHwgNjA7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzZXRUaW1lID0gcmVzdWx0LnJlc2V0X3RpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvdmlkZXJNZXNzYWdlID0gcmVzdWx0LnByb3ZpZGVyX21lc3NhZ2UgfHwgJ0FQSSByYXRlIGxpbWl0IGV4Y2VlZGVkJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIHVzZXItZnJpZW5kbHkgbWVzc2FnZSB3aXRoIHRpbWluZ1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXVzZU1lc3NhZ2UgPSBgUmF0ZSBsaW1pdCBleGNlZWRlZCAtIHN5bmMgcGF1c2VkYDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzZXRUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc2V0RGF0ZSA9IG5ldyBEYXRlKHJlc2V0VGltZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdXNlTWVzc2FnZSArPSBgIHVudGlsICR7cmVzZXREYXRlLnRvTG9jYWxlU3RyaW5nKCl9YDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXVzZU1lc3NhZ2UgKz0gYCBmb3IgJHtNYXRoLnJvdW5kKHJldHJ5QWZ0ZXIgLyA2MCl9IG1pbnV0ZXNgO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goYE5vdGUgJHtub3RlfTogJHtwYXVzZU1lc3NhZ2V9YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEVuaGFuY2VkIGxvZ2dpbmcgd2l0aCByZXNldCB0aW1lIGluZm9ybWF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignUmF0ZSBsaW1pdCBkZXRlY3RlZCAtIHN5bmMgcGF1c2luZycsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm90ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0cnlBZnRlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRUaW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlck1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdXNlTWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgcHJvZ3Jlc3MgdG8gc2hvdyBwYXVzZSBzdGF0dXNcclxuICAgICAgICAgICAgICAgICAgICBvblByb2dyZXNzPy4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50OiBpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogbm90ZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBwYXVzZU1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2U6IChpIC8gbm90ZXMubGVuZ3RoKSAqIDEwMFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBub3RlUmVzdWx0cy5wdXNoKHJlc3VsdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEludGVsbGlnZW50IGRlbGF5OiBsb25nZXIgcGF1c2UgZm9yIGFjdHVhbCByYXRlIGxpbWl0cywgc2hvcnRlciBmb3IgdGVzdGluZ1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heERlbGF5ID0gcmV0cnlBZnRlciA+IDMwMCA/IDMwMDAwIDogTWF0aC5taW4ocmV0cnlBZnRlciAqIDEwMDAsIDEwMDAwKTsgLy8gTWF4IDMwcyBmb3IgbG9uZyBsaW1pdHMsIDEwcyBmb3Igc2hvcnRcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbWF4RGVsYXkpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQWZ0ZXIgZGVsYXksIHVwZGF0ZSBwcm9ncmVzcyB0byBzaG93IHJlc3VtaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgb25Qcm9ncmVzcz8uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudDogaSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWw6IG5vdGVzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYFJlc3VtaW5nIHN5bmMgYWZ0ZXIgcmF0ZSBsaW1pdCBwYXVzZS4uLmAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2U6IChpIC8gbm90ZXMubGVuZ3RoKSAqIDEwMFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gUmVzcGVjdCBQeXRob24ncyByZXN1bHQuc3RhdHVzIGlmIHByZXNlbnRcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3VsdC5zdGF0dXMgPT09ICdzdWNjZXNzJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZCsrO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBza2lwcGVkKys7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goYE5vdGUgJHtub3RlfTogJHtyZXN1bHQubWVzc2FnZSB8fCAnZmFpbGVkJ31gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVzdWx0Lm5vZGVUeXBlc0xvYWRlZCA9PT0gJ251bWJlcicpIG5vZGVUeXBlc0xvYWRlZCArPSByZXN1bHQubm9kZVR5cGVzTG9hZGVkO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQuZWRnZVR5cGVzTG9hZGVkID09PSAnbnVtYmVyJykgZWRnZVR5cGVzTG9hZGVkICs9IHJlc3VsdC5lZGdlVHlwZXNMb2FkZWQ7XHJcbiAgICAgICAgICAgICAgICBub3RlUmVzdWx0cy5wdXNoKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBza2lwcGVkKys7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJNc2cgPSBgUHl0aG9uIHN5bmMgZmFpbGVkIGZvciBub3RlICR7bm90ZX0gKGV4aXRDb2RlPSR7cmVzdWx0V3JhcHBlci5leGl0Q29kZX0pOiAke3Jlc3VsdFdyYXBwZXIuc3RkZXJyIHx8IHJlc3VsdFdyYXBwZXIuc3Rkb3V0IHx8ICcnfWA7XHJcbiAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChlcnJNc2cpO1xyXG4gICAgICAgICAgICAgICAgLy8gVHJ1bmNhdGUgc3RkZXJyIHRvIGZpcnN0IGxpbmUgZm9yIGNsZWFuIGxvZ2dpbmdcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRydW5jYXRlZFN0ZGVyciA9IHJlc3VsdFdyYXBwZXIuc3RkZXJyID8gcmVzdWx0V3JhcHBlci5zdGRlcnIuc3BsaXQoJ1xcbicpWzBdIDogJ1Vua25vd24gZXJyb3InO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1B5dGhvbiBzeW5jIGZhaWxlZCBmb3Igbm90ZScsIHtcclxuICAgICAgICAgICAgICAgICAgICBub3RlLFxyXG4gICAgICAgICAgICAgICAgICAgIGV4aXRDb2RlOiByZXN1bHRXcmFwcGVyLmV4aXRDb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0ZGVycjogdHJ1bmNhdGVkU3RkZXJyLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0ZGVyckxlbmd0aDogcmVzdWx0V3JhcHBlci5zdGRlcnIgPyByZXN1bHRXcmFwcGVyLnN0ZGVyci5sZW5ndGggOiAwXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgb25Qcm9ncmVzcz8uKHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnQ6IGkgKyAxLFxyXG4gICAgICAgICAgICAgICAgdG90YWw6IG5vdGVzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBDb21wbGV0ZWQgJHtub3RlfWAsXHJcbiAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiAoKGkgKyAxKSAvIG5vdGVzLmxlbmd0aCkgKiAxMDBcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBTbWFsbCBkZWxheSB0byByZWR1Y2UgcmlzayBvZiByYWNlIGNvbmRpdGlvbnMgLyBkdXBsaWNhdGUgZW50aXR5IGNyZWF0aW9uIGluIEdyYXBoaXRpXHJcbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXMpID0+IHNldFRpbWVvdXQocmVzLCA1MDApKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IHByb2Nlc3NlZCA+IDAgPyAnc3VjY2VzcycgOiAnZXJyb3InO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHN0YXR1cyxcclxuICAgICAgICAgICAgcHJvY2Vzc2VkLFxyXG4gICAgICAgICAgICBza2lwcGVkLFxyXG4gICAgICAgICAgICB0b3RhbDogbm90ZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICBiYXRjaENvdW50OiBub3Rlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgIG5vZGVUeXBlc0xvYWRlZCxcclxuICAgICAgICAgICAgZWRnZVR5cGVzTG9hZGVkLFxyXG4gICAgICAgICAgICBlcnJvcnMsXHJcbiAgICAgICAgICAgIGhhc0Vycm9yczogZXJyb3JzLmxlbmd0aCA+IDAsXHJcbiAgICAgICAgICAgIG5vdGVzOiBub3RlUmVzdWx0c1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFeGVjdXRlIGEgc2ltcGxlIFB5dGhvbiBjb21tYW5kXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgYXN5bmMgZXhlY3V0ZVB5dGhvbkNvbW1hbmQoYXJnczogc3RyaW5nW10pOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgb3V0cHV0Pzogc3RyaW5nOyBlcnJvcj86IHN0cmluZyB9PiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHB5dGhvbkNtZCA9IHRoaXMuZ2V0UHl0aG9uRXhlY3V0YWJsZSgpO1xyXG4gICAgICAgICAgICBjb25zdCBweXRob25FbnYgPSB0aGlzLmdldFB5dGhvbkVudigpO1xyXG4gICAgICAgICAgICBjb25zdCBwcm9jZXNzID0gc3Bhd24ocHl0aG9uQ21kLCBhcmdzLCB7XHJcbiAgICAgICAgICAgICAgICBzdGRpbzogWydwaXBlJywgJ3BpcGUnLCAncGlwZSddLFxyXG4gICAgICAgICAgICAgICAgZW52OiBweXRob25FbnZcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgb3V0cHV0ID0gJyc7XHJcbiAgICAgICAgICAgIGxldCBlcnJvciA9ICcnO1xyXG5cclxuICAgICAgICAgICAgcHJvY2Vzcy5zdGRvdXQ/Lm9uKCdkYXRhJywgKGRhdGE6IEJ1ZmZlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0ICs9IGRhdGEudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBwcm9jZXNzLnN0ZGVycj8ub24oJ2RhdGEnLCAoZGF0YTogQnVmZmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlcnJvciArPSBkYXRhLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcHJvY2Vzcy5vbignY2xvc2UnLCAoY29kZTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHtcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBjb2RlID09PSAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dDogb3V0cHV0LnRyaW0oKSxcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IudHJpbSgpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBwcm9jZXNzLm9uKCdlcnJvcicsIChlcnI6IEVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHtcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyLm1lc3NhZ2VcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEV4ZWN1dGUgUHl0aG9uIGNvbm5lY3Rpb24gdGVzdFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGFzeW5jIGV4ZWN1dGVQeXRob25Db25uZWN0aW9uVGVzdChcclxuICAgIFx0dGVzdFR5cGU6ICdkYXRhYmFzZScgfCAnbGxtJyB8ICdlbWJlZGRpbmcnIHwgJ2NvbWJpbmF0aW9uJyB8ICdlbWJlZGRpbmctdGVzdCcgfCAnZXBpc29kZS10ZXN0JyB8ICdjb21iaW5hdGlvbi1waXBlbGluZScsXHJcbiAgICBcdGNvbmZpZzogYW55XHJcbiAgICApOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nOyBsYXRlbmN5PzogbnVtYmVyIH0+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIC8vIEdldCBwbHVnaW4gZGlyZWN0b3J5IGZvciBtb2R1bGUgZXhlY3V0aW9uXHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHBsdWdpbkRpciwgYnJpZGdlRGlyOiBicmlkZ2VQYXRoIH0gPSB0aGlzLmdldFZhdWx0QXdhcmVQYXRocygpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGVzdFNjcmlwdCA9IGpvaW4oYnJpZGdlUGF0aCwgJ3Rlc3RfY29ubmVjdGlvbnMucHknKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0ZXN0IHNjcmlwdCBleGlzdHNcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTtcclxuICAgICAgICAgICAgICAgIGlmICghZnMuZXhpc3RzU3luYyh0ZXN0U2NyaXB0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYFRlc3Qgc2NyaXB0IG5vdCBmb3VuZCBhdDogJHt0ZXN0U2NyaXB0fWBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnRXhlY3V0aW5nIGNvbm5lY3Rpb24gdGVzdCcsIHsgdGVzdFR5cGUgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU3Bhd24gUHl0aG9uIHByb2Nlc3MgZm9yIGNvbm5lY3Rpb24gdGVzdCAtIGV4ZWN1dGUgYXMgbW9kdWxlIGZvciByZWxhdGl2ZSBpbXBvcnRzXHJcbiAgICAgICAgICAgICAgICBjb25zdCBweXRob25DbWQgPSB0aGlzLmdldFB5dGhvbkV4ZWN1dGFibGUoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHB5dGhvbkVudiA9IHRoaXMuZ2V0UHl0aG9uRW52KCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9jZXNzID0gc3Bhd24ocHl0aG9uQ21kLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgJy1tJywgJ2dyYXBoaXRpX2JyaWRnZS50ZXN0X2Nvbm5lY3Rpb25zJyxcclxuICAgICAgICAgICAgICAgICAgICAnLS10ZXN0LXR5cGUnLCB0ZXN0VHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAnLS1jb25maWcnLCBKU09OLnN0cmluZ2lmeShjb25maWcpXHJcbiAgICAgICAgICAgICAgICBdLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3dkOiBwbHVnaW5EaXIsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RkaW86IFsncGlwZScsICdwaXBlJywgJ3BpcGUnXSxcclxuICAgICAgICAgICAgICAgICAgICBlbnY6IHB5dGhvbkVudlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IG91dHB1dEJ1ZmZlciA9ICcnO1xyXG4gICAgICAgICAgICAgICAgbGV0IGVycm9yQnVmZmVyID0gJyc7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIHN0ZG91dFxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5zdGRvdXQ/Lm9uKCdkYXRhJywgKGRhdGE6IEJ1ZmZlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBkYXRhLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0QnVmZmVyICs9IHRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nUHl0aG9uT3V0cHV0KCdzdGRvdXQnLCB0ZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBzdGRlcnJcclxuICAgICAgICAgICAgICAgIHByb2Nlc3Muc3RkZXJyPy5vbignZGF0YScsIChkYXRhOiBCdWZmZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gZGF0YS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yQnVmZmVyICs9IHRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nUHl0aG9uT3V0cHV0KCdzdGRlcnInLCB0ZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBwcm9jZXNzIGNvbXBsZXRpb25cclxuICAgICAgICAgICAgICAgIHByb2Nlc3Mub24oJ2Nsb3NlJywgKGNvZGU6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdDb25uZWN0aW9uIHRlc3QgcHJvY2VzcyBjb21wbGV0ZWQnLCB7IGV4aXRDb2RlOiBjb2RlIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUGFyc2UgSlNPTiByZXNwb25zZSBmcm9tIFB5dGhvbiBzY3JpcHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IEpTT04ucGFyc2Uob3V0cHV0QnVmZmVyLnRyaW0oKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZTogYW55ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHJlc3VsdC5zdWNjZXNzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdGVuY3k6IHJlc3VsdC5sYXRlbmN5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluY2x1ZGUgc3RydWN0dXJlZCBjcm9zc19lbmNvZGVyIGluZm8gaWYgYXZhaWxhYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNyb3NzX2VuY29kZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5jcm9zc19lbmNvZGVyID0gcmVzdWx0LmNyb3NzX2VuY29kZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gcGFyc2UgY29ubmVjdGlvbiB0ZXN0IHJlc3VsdCcsIGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYEZhaWxlZCB0byBwYXJzZSB0ZXN0IHJlc3VsdDogJHtvdXRwdXRCdWZmZXIgfHwgZXJyb3JCdWZmZXJ9YFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignQ29ubmVjdGlvbiB0ZXN0IGZhaWxlZCcsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXRDb2RlOiBjb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkZXJyOiBlcnJvckJ1ZmZlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZG91dDogb3V0cHV0QnVmZmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYENvbm5lY3Rpb24gdGVzdCBmYWlsZWQgKGV4aXQgY29kZSAke2NvZGV9KTogJHtlcnJvckJ1ZmZlciB8fCBvdXRwdXRCdWZmZXIgfHwgJ1Vua25vd24gZXJyb3InfWBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIHByb2Nlc3MgZXJyb3JzXHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzLm9uKCdlcnJvcicsIChlcnJvcjogRXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHN0YXJ0IGNvbm5lY3Rpb24gdGVzdCBwcm9jZXNzJywgZXJyb3IpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnRU5PRU5UJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gJ1B5dGhvbiBub3QgZm91bmQuIFBsZWFzZSBlbnN1cmUgUHl0aG9uIDMuMTArIGlzIGluc3RhbGxlZCBhbmQgaW4geW91ciBQQVRILic7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBGYWlsZWQgdG8gc3RhcnQgY29ubmVjdGlvbiB0ZXN0OiAke2Vycm9yTWVzc2FnZX1gXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignQ29ubmVjdGlvbiB0ZXN0IGV4Y2VwdGlvbicsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBDb25uZWN0aW9uIHRlc3QgZXJyb3I6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWBcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUZXN0IGRhdGFiYXNlIGNvbm5lY3Rpb25cclxuICAgICAqL1xyXG4gICAgYXN5bmMgdGVzdERhdGFiYXNlQ29ubmVjdGlvbigpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nOyBsYXRlbmN5PzogbnVtYmVyIH0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBjb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhYmFzZV90eXBlOiB0aGlzLnNldHRpbmdzLmRhdGFiYXNlVHlwZSxcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMucHJlcGFyZURhdGFiYXNlQ29uZmlnKClcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGRiQ29uZmlnID0gdGhpcy5nZXREYXRhYmFzZUNvbmZpZygpO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnVGVzdGluZyBkYXRhYmFzZSBjb25uZWN0aW9uJywge1xyXG4gICAgICAgICAgICAgICAgZGF0YWJhc2VUeXBlOiB0aGlzLnNldHRpbmdzLmRhdGFiYXNlVHlwZSxcclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlQ29uZmlnOiBkYkNvbmZpZyxcclxuICAgICAgICAgICAgICAgIGhhc1Bhc3N3b3JkOiAhIShkYkNvbmZpZz8ucGFzc3dvcmQpLFxyXG4gICAgICAgICAgICAgICAgcGFzc3dvcmRMZW5ndGg6IGRiQ29uZmlnPy5wYXNzd29yZD8ubGVuZ3RoIHx8IDBcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5leGVjdXRlUHl0aG9uQ29ubmVjdGlvblRlc3QoJ2RhdGFiYXNlJywgY29uZmlnKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRGF0YWJhc2UgY29ubmVjdGlvbiB0ZXN0IGVycm9yJywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgRGF0YWJhc2UgdGVzdCBlcnJvcjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRlc3QgTExNIGNvbm5lY3Rpb25cclxuICAgICAqL1xyXG4gICAgYXN5bmMgdGVzdExMTUNvbm5lY3Rpb24oKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZzsgbGF0ZW5jeT86IG51bWJlciB9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgY29uZmlnID0ge1xyXG4gICAgICAgICAgICAgICAgLy8gTExNIENvbmZpZ3VyYXRpb25cclxuICAgICAgICAgICAgICAgIGxsbV9wcm92aWRlcjogdGhpcy5zZXR0aW5ncy5sbG1Qcm92aWRlcixcclxuICAgICAgICAgICAgICAgIGFwaV9rZXlzOiB0aGlzLnNldHRpbmdzLmFwaUtleXMsICAvLyBTZW5kIHRoZSB3aG9sZSBhcGlLZXlzIG9iamVjdFxyXG4gICAgICAgICAgICAgICAgbGxtX21vZGVsOiB0aGlzLnNldHRpbmdzLmxsbU1vZGVsLFxyXG4gICAgICAgICAgICAgICAgYXp1cmVfZW5kcG9pbnQ6IHRoaXMuc2V0dGluZ3MuYXp1cmVFbmRwb2ludCxcclxuICAgICAgICAgICAgICAgIGF6dXJlX2FwaV92ZXJzaW9uOiB0aGlzLnNldHRpbmdzLmF6dXJlQXBpVmVyc2lvbixcclxuICAgICAgICAgICAgICAgIG9sbGFtYV9iYXNlX3VybDogdGhpcy5zZXR0aW5ncy5vbGxhbWFCYXNlVXJsLFxyXG5cclxuICAgICAgICAgICAgICAgIC8vIERhdGFiYXNlIENvbmZpZ3VyYXRpb24gLSBSZXF1aXJlZCBmb3IgR3JhcGhpdGkgaW5zdGFuY2VcclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlX3R5cGU6IHRoaXMuc2V0dGluZ3MuZGF0YWJhc2VUeXBlLFxyXG4gICAgICAgICAgICAgICAgLi4udGhpcy5wcmVwYXJlRGF0YWJhc2VDb25maWcoKVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1Rlc3RpbmcgTExNIGNvbm5lY3Rpb24nLCB7XHJcbiAgICAgICAgICAgICAgICBsbG1Qcm92aWRlcjogdGhpcy5zZXR0aW5ncy5sbG1Qcm92aWRlcixcclxuICAgICAgICAgICAgICAgIGhhc0FwaUtleXM6IE9iamVjdC5rZXlzKHRoaXMuc2V0dGluZ3MuYXBpS2V5cykubGVuZ3RoID4gMCxcclxuICAgICAgICAgICAgICAgIHNhbml0aXplZENvbmZpZzogdGhpcy5zYW5pdGl6ZUNvbmZpZ0ZvckxvZ2dpbmcoY29uZmlnKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZXhlY3V0ZVB5dGhvbkNvbm5lY3Rpb25UZXN0KCdsbG0nLCBjb25maWcpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdMTE0gY29ubmVjdGlvbiB0ZXN0IGVycm9yJywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgTExNIHRlc3QgZXJyb3I6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWBcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUZXN0IGVtYmVkZGluZyBjb25uZWN0aW9uXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHRlc3RFbWJlZGRpbmdDb25uZWN0aW9uKCk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmc7IGxhdGVuY3k/OiBudW1iZXIgfT4ge1xyXG4gICAgXHR0cnkge1xyXG4gICAgXHRcdGNvbnN0IGNvbmZpZyA9IHtcclxuICAgIFx0XHRcdC8vIEVtYmVkZGVyIENvbmZpZ3VyYXRpb25cclxuICAgIFx0XHRcdGVtYmVkZGVyX3Byb3ZpZGVyOiB0aGlzLnNldHRpbmdzLmVtYmVkZGVyUHJvdmlkZXIsXHJcbiAgICBcdFx0XHRhcGlfa2V5czogdGhpcy5zZXR0aW5ncy5hcGlLZXlzLCAgLy8gU2VuZCB0aGUgd2hvbGUgYXBpS2V5cyBvYmplY3RcclxuICAgIFx0XHRcdGVtYmVkZGluZ19tb2RlbDogdGhpcy5zZXR0aW5ncy5lbWJlZGRpbmdNb2RlbCxcclxuXHJcbiAgICBcdFx0XHQvLyBEYXRhYmFzZSBDb25maWd1cmF0aW9uIC0gUmVxdWlyZWQgZm9yIEdyYXBoaXRpIGluc3RhbmNlXHJcbiAgICBcdFx0XHRkYXRhYmFzZV90eXBlOiB0aGlzLnNldHRpbmdzLmRhdGFiYXNlVHlwZSxcclxuICAgIFx0XHRcdC4uLnRoaXMucHJlcGFyZURhdGFiYXNlQ29uZmlnKClcclxuICAgIFx0XHR9O1xyXG5cclxuICAgIFx0XHR0aGlzLmxvZ2dlci5kZWJ1ZygnVGVzdGluZyBlbWJlZGRpbmcgY29ubmVjdGlvbicsIHtcclxuICAgIFx0XHRcdGVtYmVkZGVyUHJvdmlkZXI6IHRoaXMuc2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlcixcclxuICAgIFx0XHRcdGVtYmVkZGluZ01vZGVsOiB0aGlzLnNldHRpbmdzLmVtYmVkZGluZ01vZGVsLFxyXG4gICAgXHRcdFx0aGFzQXBpS2V5czogT2JqZWN0LmtleXModGhpcy5zZXR0aW5ncy5hcGlLZXlzKS5sZW5ndGggPiAwLFxyXG4gICAgXHRcdFx0c2FuaXRpemVkQ29uZmlnOiB0aGlzLnNhbml0aXplQ29uZmlnRm9yTG9nZ2luZyhjb25maWcpXHJcbiAgICBcdFx0fSk7XHJcbiAgICBcdFx0cmV0dXJuIGF3YWl0IHRoaXMuZXhlY3V0ZVB5dGhvbkNvbm5lY3Rpb25UZXN0KCdlbWJlZGRpbmcnLCBjb25maWcpO1xyXG4gICAgXHR9IGNhdGNoIChlcnJvcikge1xyXG4gICAgXHRcdHRoaXMubG9nZ2VyLmVycm9yKCdFbWJlZGRpbmcgY29ubmVjdGlvbiB0ZXN0IGVycm9yJywgZXJyb3IpO1xyXG4gICAgXHRcdHJldHVybiB7XHJcbiAgICBcdFx0XHRzdWNjZXNzOiBmYWxzZSxcclxuICAgIFx0XHRcdG1lc3NhZ2U6IGBFbWJlZGRpbmcgdGVzdCBlcnJvcjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YFxyXG4gICAgXHRcdH07XHJcbiAgICBcdH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRlc3QgZW1iZWRkaW5nIGNvbm5lY3Rpb24gd2l0aCBhY3R1YWwgZW1iZWRkaW5nIGRpbWVuc2lvbnNcclxuICAgICAqL1xyXG4gICAgYXN5bmMgdGVzdEVtYmVkZGluZ1dpdGhEaW1lbnNpb25zKCk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmc7IGxhdGVuY3k/OiBudW1iZXIgfT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgIC8vIEVtYmVkZGVyIENvbmZpZ3VyYXRpb25cclxuICAgICAgICAgICAgICAgIGVtYmVkZGVyX3Byb3ZpZGVyOiB0aGlzLnNldHRpbmdzLmVtYmVkZGVyUHJvdmlkZXIsXHJcbiAgICAgICAgICAgICAgICBhcGlfa2V5czogdGhpcy5zZXR0aW5ncy5hcGlLZXlzLCAgLy8gU2VuZCB0aGUgd2hvbGUgYXBpS2V5cyBvYmplY3RcclxuICAgICAgICAgICAgICAgIGVtYmVkZGluZ19tb2RlbDogdGhpcy5zZXR0aW5ncy5lbWJlZGRpbmdNb2RlbCxcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBEYXRhYmFzZSBDb25maWd1cmF0aW9uIC0gUmVxdWlyZWQgZm9yIEdyYXBoaXRpIGluc3RhbmNlXHJcbiAgICAgICAgICAgICAgICBkYXRhYmFzZV90eXBlOiB0aGlzLnNldHRpbmdzLmRhdGFiYXNlVHlwZSxcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMucHJlcGFyZURhdGFiYXNlQ29uZmlnKClcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdUZXN0aW5nIGVtYmVkZGluZyBjb25uZWN0aW9uIHdpdGggZGltZW5zaW9ucycsIHtcclxuICAgICAgICAgICAgICAgIGVtYmVkZGVyUHJvdmlkZXI6IHRoaXMuc2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlcixcclxuICAgICAgICAgICAgICAgIGVtYmVkZGluZ01vZGVsOiB0aGlzLnNldHRpbmdzLmVtYmVkZGluZ01vZGVsLFxyXG4gICAgICAgICAgICAgICAgaGFzQXBpS2V5czogT2JqZWN0LmtleXModGhpcy5zZXR0aW5ncy5hcGlLZXlzKS5sZW5ndGggPiAwLFxyXG4gICAgICAgICAgICAgICAgc2FuaXRpemVkQ29uZmlnOiB0aGlzLnNhbml0aXplQ29uZmlnRm9yTG9nZ2luZyhjb25maWcpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5leGVjdXRlUHl0aG9uQ29ubmVjdGlvblRlc3QoJ2VtYmVkZGluZy10ZXN0JywgY29uZmlnKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRW5oYW5jZWQgZW1iZWRkaW5nIGNvbm5lY3Rpb24gdGVzdCBlcnJvcicsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogYEVuaGFuY2VkIGVtYmVkZGluZyB0ZXN0IGVycm9yOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGVzdCBwcm92aWRlciBjb21iaW5hdGlvbiAoTExNICsgRW1iZWRkaW5nIHdvcmtpbmcgdG9nZXRoZXIpXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHRlc3RQcm92aWRlckNvbWJpbmF0aW9uKCk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmc7IGxhdGVuY3k/OiBudW1iZXIgfT4ge1xyXG4gICAgXHR0cnkge1xyXG4gICAgXHRcdGNvbnN0IGNvbmZpZyA9IHtcclxuICAgIFx0XHRcdC8vIExMTSBDb25maWd1cmF0aW9uXHJcbiAgICBcdFx0XHRsbG1fcHJvdmlkZXI6IHRoaXMuc2V0dGluZ3MubGxtUHJvdmlkZXIsXHJcbiAgICBcdFx0XHRsbG1fbW9kZWw6IHRoaXMuc2V0dGluZ3MubGxtTW9kZWwsXHJcbiAgICBcdFx0XHRhenVyZV9lbmRwb2ludDogdGhpcy5zZXR0aW5ncy5henVyZUVuZHBvaW50LFxyXG4gICAgXHRcdFx0YXp1cmVfYXBpX3ZlcnNpb246IHRoaXMuc2V0dGluZ3MuYXp1cmVBcGlWZXJzaW9uLFxyXG4gICAgXHRcdFx0b2xsYW1hX2Jhc2VfdXJsOiB0aGlzLnNldHRpbmdzLm9sbGFtYUJhc2VVcmwsXHJcblxyXG4gICAgXHRcdFx0Ly8gRW1iZWRkZXIgQ29uZmlndXJhdGlvblxyXG4gICAgXHRcdFx0ZW1iZWRkZXJfcHJvdmlkZXI6IHRoaXMuc2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlcixcclxuICAgIFx0XHRcdGVtYmVkZGluZ19tb2RlbDogdGhpcy5zZXR0aW5ncy5lbWJlZGRpbmdNb2RlbCxcclxuXHJcbiAgICBcdFx0XHQvLyBBUEkga2V5cyBmb3IgYWxsIHByb3ZpZGVyc1xyXG4gICAgXHRcdFx0YXBpX2tleXM6IHRoaXMuc2V0dGluZ3MuYXBpS2V5cyxcclxuXHJcbiAgICBcdFx0XHQvLyBEYXRhYmFzZSBDb25maWd1cmF0aW9uIC0gUmVxdWlyZWQgZm9yIEdyYXBoaXRpIGluc3RhbmNlXHJcbiAgICBcdFx0XHRkYXRhYmFzZV90eXBlOiB0aGlzLnNldHRpbmdzLmRhdGFiYXNlVHlwZSxcclxuICAgIFx0XHRcdC4uLnRoaXMucHJlcGFyZURhdGFiYXNlQ29uZmlnKClcclxuICAgIFx0XHR9O1xyXG5cclxuICAgIFx0XHR0aGlzLmxvZ2dlci5kZWJ1ZygnVGVzdGluZyBwcm92aWRlciBjb21iaW5hdGlvbicsIHtcclxuICAgIFx0XHRcdGxsbVByb3ZpZGVyOiB0aGlzLnNldHRpbmdzLmxsbVByb3ZpZGVyLFxyXG4gICAgXHRcdFx0ZW1iZWRkZXJQcm92aWRlcjogdGhpcy5zZXR0aW5ncy5lbWJlZGRlclByb3ZpZGVyLFxyXG4gICAgXHRcdFx0bGxtTW9kZWw6IHRoaXMuc2V0dGluZ3MubGxtTW9kZWwsXHJcbiAgICBcdFx0XHRlbWJlZGRpbmdNb2RlbDogdGhpcy5zZXR0aW5ncy5lbWJlZGRpbmdNb2RlbCxcclxuICAgIFx0XHRcdGhhc0FwaUtleXM6IE9iamVjdC5rZXlzKHRoaXMuc2V0dGluZ3MuYXBpS2V5cykubGVuZ3RoID4gMCxcclxuICAgIFx0XHRcdHNhbml0aXplZENvbmZpZzogdGhpcy5zYW5pdGl6ZUNvbmZpZ0ZvckxvZ2dpbmcoY29uZmlnKVxyXG4gICAgXHRcdH0pO1xyXG4gICAgXHRcdHJldHVybiBhd2FpdCB0aGlzLmV4ZWN1dGVQeXRob25Db25uZWN0aW9uVGVzdCgnY29tYmluYXRpb24nLCBjb25maWcpO1xyXG4gICAgXHR9IGNhdGNoIChlcnJvcikge1xyXG4gICAgXHRcdHRoaXMubG9nZ2VyLmVycm9yKCdQcm92aWRlciBjb21iaW5hdGlvbiB0ZXN0IGVycm9yJywgZXJyb3IpO1xyXG4gICAgXHRcdHJldHVybiB7XHJcbiAgICBcdFx0XHRzdWNjZXNzOiBmYWxzZSxcclxuICAgIFx0XHRcdG1lc3NhZ2U6IGBQcm92aWRlciBjb21iaW5hdGlvbiB0ZXN0IGVycm9yOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gXHJcbiAgICBcdFx0fTtcclxuICAgIFx0fVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGVzdCBmdWxsIExMTSArIGVtYmVkZGluZyBwaXBlbGluZSB3aXRoIGFjdHVhbCBvcGVyYXRpb25zIGFuZCBtb2RlbCBkZXRhaWxzXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHRlc3RGdWxsUGlwZWxpbmUoKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZzsgbGF0ZW5jeT86IG51bWJlciB9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgY29uZmlnID0ge1xyXG4gICAgICAgICAgICAgICAgLy8gTExNIENvbmZpZ3VyYXRpb25cclxuICAgICAgICAgICAgICAgIGxsbV9wcm92aWRlcjogdGhpcy5zZXR0aW5ncy5sbG1Qcm92aWRlcixcclxuICAgICAgICAgICAgICAgIGFwaV9rZXlzOiB0aGlzLnNldHRpbmdzLmFwaUtleXMsICAvLyBTZW5kIHRoZSB3aG9sZSBhcGlLZXlzIG9iamVjdFxyXG4gICAgICAgICAgICAgICAgbGxtX21vZGVsOiB0aGlzLnNldHRpbmdzLmxsbU1vZGVsLFxyXG4gICAgICAgICAgICAgICAgYXp1cmVfZW5kcG9pbnQ6IHRoaXMuc2V0dGluZ3MuYXp1cmVFbmRwb2ludCxcclxuICAgICAgICAgICAgICAgIGF6dXJlX2FwaV92ZXJzaW9uOiB0aGlzLnNldHRpbmdzLmF6dXJlQXBpVmVyc2lvbixcclxuICAgICAgICAgICAgICAgIG9sbGFtYV9iYXNlX3VybDogdGhpcy5zZXR0aW5ncy5vbGxhbWFCYXNlVXJsLFxyXG5cclxuICAgICAgICAgICAgICAgIC8vIEVtYmVkZGVyIENvbmZpZ3VyYXRpb25cclxuICAgICAgICAgICAgICAgIGVtYmVkZGVyX3Byb3ZpZGVyOiB0aGlzLnNldHRpbmdzLmVtYmVkZGVyUHJvdmlkZXIsXHJcbiAgICAgICAgICAgICAgICBlbWJlZGRpbmdfbW9kZWw6IHRoaXMuc2V0dGluZ3MuZW1iZWRkaW5nTW9kZWwsXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ3Jvc3MtZW5jb2RlciBDb25maWd1cmF0aW9uXHJcbiAgICAgICAgICAgICAgICBjcm9zc19lbmNvZGVyX2NsaWVudDogdGhpcy5zZXR0aW5ncy5jcm9zc0VuY29kZXJDbGllbnQgfHwgJ25vbmUnLFxyXG4gICAgICAgICAgICAgICAgY3Jvc3NfZW5jb2Rlcl9tb2RlbDogKHRoaXMuc2V0dGluZ3MuY3Jvc3NFbmNvZGVyQ2xpZW50ID09PSAnYmdlJyB8fCB0aGlzLnNldHRpbmdzLmNyb3NzRW5jb2RlckNsaWVudCA9PT0gJ25vbmUnKVxyXG4gICAgICAgICAgICAgICAgICAgID8gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLnNldHRpbmdzLmNyb3NzRW5jb2Rlck1vZGVsLFxyXG5cclxuICAgICAgICAgICAgICAgIC8vIERhdGFiYXNlIENvbmZpZ3VyYXRpb24gLSBSZXF1aXJlZCBmb3IgR3JhcGhpdGkgaW5zdGFuY2VcclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlX3R5cGU6IHRoaXMuc2V0dGluZ3MuZGF0YWJhc2VUeXBlLFxyXG4gICAgICAgICAgICAgICAgLi4udGhpcy5wcmVwYXJlRGF0YWJhc2VDb25maWcoKVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1Rlc3RpbmcgZnVsbCBMTE0gKyBlbWJlZGRpbmcgcGlwZWxpbmUnLCB7XHJcbiAgICAgICAgICAgICAgICBsbG1Qcm92aWRlcjogdGhpcy5zZXR0aW5ncy5sbG1Qcm92aWRlcixcclxuICAgICAgICAgICAgICAgIGVtYmVkZGVyUHJvdmlkZXI6IHRoaXMuc2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlcixcclxuICAgICAgICAgICAgICAgIGxsbU1vZGVsOiB0aGlzLnNldHRpbmdzLmxsbU1vZGVsLFxyXG4gICAgICAgICAgICAgICAgZW1iZWRkaW5nTW9kZWw6IHRoaXMuc2V0dGluZ3MuZW1iZWRkaW5nTW9kZWwsXHJcbiAgICAgICAgICAgICAgICBoYXNBcGlLZXlzOiBPYmplY3Qua2V5cyh0aGlzLnNldHRpbmdzLmFwaUtleXMpLmxlbmd0aCA+IDAsXHJcbiAgICAgICAgICAgICAgICBzYW5pdGl6ZWRDb25maWc6IHRoaXMuc2FuaXRpemVDb25maWdGb3JMb2dnaW5nKGNvbmZpZylcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIFVzZSB0aGUgaGVhdmllciBlbmQtdG8tZW5kIHBpcGVsaW5lIHRlc3QgdGhhdCBwZXJmb3JtcyBhbiBhY3R1YWwgTExNIGNvbXBsZXRpb24gYW5kIGVtYmVkZGluZ1xyXG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5leGVjdXRlUHl0aG9uQ29ubmVjdGlvblRlc3QoJ2NvbWJpbmF0aW9uLXBpcGVsaW5lJywgY29uZmlnKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRnVsbCBwaXBlbGluZSB0ZXN0IGVycm9yJywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgUGlwZWxpbmUgdGVzdCBlcnJvcjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFZhbGlkYXRlIEFQSSBrZXlzIHdpdGhvdXQgdGVzdGluZyBtb2RlbHNcclxuICAgICAqL1xyXG4gICAgYXN5bmMgdmFsaWRhdGVBUElLZXlzKCk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmcgfT4ge1xyXG4gICAgXHR0cnkge1xyXG4gICAgXHRcdC8vIEJ1aWxkIHZhbGlkYXRpb24gcmVzdWx0c1xyXG4gICAgXHRcdGNvbnN0IHZhbGlkYXRpb25SZXN1bHRzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgXHRcdGNvbnN0IGVycm9yczogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgICBcdFx0Ly8gQ2hlY2sgTExNIHByb3ZpZGVyIEFQSSBrZXlcclxuICAgIFx0XHRjb25zdCBsbG1BcGlLZXkgPSB0aGlzLmdldEFwaUtleUZvclByb3ZpZGVyKHRoaXMuc2V0dGluZ3MubGxtUHJvdmlkZXIpO1xyXG4gICAgXHRcdGlmICh0aGlzLnNldHRpbmdzLmxsbVByb3ZpZGVyID09PSAnb2xsYW1hJykge1xyXG4gICAgXHRcdFx0dmFsaWRhdGlvblJlc3VsdHMucHVzaChgJHt0aGlzLnNldHRpbmdzLmxsbVByb3ZpZGVyfTogTG9jYWwgcHJvdmlkZXIgKG5vIEFQSSBrZXkgcmVxdWlyZWQpYCk7XHJcbiAgICBcdFx0fSBlbHNlIGlmICghbGxtQXBpS2V5KSB7XHJcbiAgICBcdFx0XHRlcnJvcnMucHVzaChgTWlzc2luZyBBUEkga2V5IGZvciBMTE0gcHJvdmlkZXI6ICR7dGhpcy5zZXR0aW5ncy5sbG1Qcm92aWRlcn1gKTtcclxuICAgIFx0XHR9IGVsc2UgaWYgKGxsbUFwaUtleS5sZW5ndGggPCAxMCkge1xyXG4gICAgXHRcdFx0ZXJyb3JzLnB1c2goYEFQSSBrZXkgZm9yICR7dGhpcy5zZXR0aW5ncy5sbG1Qcm92aWRlcn0gYXBwZWFycyB0b28gc2hvcnQgKCR7bGxtQXBpS2V5Lmxlbmd0aH0gY2hhcnMpYCk7XHJcbiAgICBcdFx0fSBlbHNlIHtcclxuICAgIFx0XHRcdHZhbGlkYXRpb25SZXN1bHRzLnB1c2goYCR7dGhpcy5zZXR0aW5ncy5sbG1Qcm92aWRlcn06IEFQSSBrZXkgcHJlc2VudCAoJHtsbG1BcGlLZXkubGVuZ3RofSBjaGFycylgKTtcclxuICAgIFx0XHR9XHJcblxyXG4gICAgXHRcdC8vIENoZWNrIGVtYmVkZGVyIHByb3ZpZGVyIEFQSSBrZXkgKGlmIGRpZmZlcmVudCBmcm9tIExMTSlcclxuICAgIFx0XHRpZiAodGhpcy5zZXR0aW5ncy5lbWJlZGRlclByb3ZpZGVyICE9PSB0aGlzLnNldHRpbmdzLmxsbVByb3ZpZGVyKSB7XHJcbiAgICBcdFx0XHRjb25zdCBlbWJlZGRlckFwaUtleSA9IHRoaXMuZ2V0QXBpS2V5Rm9yUHJvdmlkZXIodGhpcy5zZXR0aW5ncy5lbWJlZGRlclByb3ZpZGVyKTtcclxuICAgIFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLmVtYmVkZGVyUHJvdmlkZXIgPT09ICdvbGxhbWEnKSB7XHJcbiAgICBcdFx0XHRcdHZhbGlkYXRpb25SZXN1bHRzLnB1c2goYCR7dGhpcy5zZXR0aW5ncy5lbWJlZGRlclByb3ZpZGVyfTogTG9jYWwgcHJvdmlkZXIgKG5vIEFQSSBrZXkgcmVxdWlyZWQpYCk7XHJcbiAgICBcdFx0XHR9IGVsc2UgaWYgKCFlbWJlZGRlckFwaUtleSkge1xyXG4gICAgXHRcdFx0XHRlcnJvcnMucHVzaChgTWlzc2luZyBBUEkga2V5IGZvciBlbWJlZGRlciBwcm92aWRlcjogJHt0aGlzLnNldHRpbmdzLmVtYmVkZGVyUHJvdmlkZXJ9YCk7XHJcbiAgICBcdFx0XHR9IGVsc2UgaWYgKGVtYmVkZGVyQXBpS2V5Lmxlbmd0aCA8IDEwKSB7XHJcbiAgICBcdFx0XHRcdGVycm9ycy5wdXNoKGBBUEkga2V5IGZvciAke3RoaXMuc2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlcn0gYXBwZWFycyB0b28gc2hvcnQgKCR7ZW1iZWRkZXJBcGlLZXkubGVuZ3RofSBjaGFycylgKTtcclxuICAgIFx0XHRcdH0gZWxzZSB7XHJcbiAgICBcdFx0XHRcdHZhbGlkYXRpb25SZXN1bHRzLnB1c2goYCR7dGhpcy5zZXR0aW5ncy5lbWJlZGRlclByb3ZpZGVyfTogQVBJIGtleSBwcmVzZW50ICgke2VtYmVkZGVyQXBpS2V5Lmxlbmd0aH0gY2hhcnMpYCk7XHJcbiAgICBcdFx0XHR9XHJcbiAgICBcdFx0fVxyXG5cclxuICAgIFx0XHQvLyBCdWlsZCBmaW5hbCByZXN1bHRcclxuICAgIFx0XHRpZiAoZXJyb3JzLmxlbmd0aCA+IDApIHtcclxuICAgIFx0XHRcdHRoaXMubG9nZ2VyLmVycm9yKCdBUEkga2V5IHZhbGlkYXRpb24gZmFpbGVkJywgeyBlcnJvcnMsIHZhbGlkYXRpb25SZXN1bHRzIH0pO1xyXG4gICAgXHRcdFx0cmV0dXJuIHtcclxuICAgIFx0XHRcdFx0c3VjY2VzczogZmFsc2UsXHJcbiAgICBcdFx0XHRcdG1lc3NhZ2U6IGBWYWxpZGF0aW9uIGZhaWxlZDogJHtlcnJvcnMuam9pbignLCAnKX1gXHJcbiAgICBcdFx0XHR9O1xyXG4gICAgXHRcdH0gZWxzZSB7XHJcbiAgICBcdFx0XHR0aGlzLmxvZ2dlci5pbmZvKCdBUEkga2V5IHZhbGlkYXRpb24gc3VjY2Vzc2Z1bCcsIHsgdmFsaWRhdGlvblJlc3VsdHMgfSk7XHJcbiAgICBcdFx0XHRyZXR1cm4ge1xyXG4gICAgXHRcdFx0XHRzdWNjZXNzOiB0cnVlLFxyXG4gICAgXHRcdFx0XHRtZXNzYWdlOiBgQWxsIEFQSSBrZXlzIHZhbGlkOiAke3ZhbGlkYXRpb25SZXN1bHRzLmpvaW4oJywgJyl9YFxyXG4gICAgXHRcdFx0fTtcclxuICAgIFx0XHR9XHJcbiAgICBcdH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBcdFx0dGhpcy5sb2dnZXIuZXJyb3IoJ0FQSSBrZXkgdmFsaWRhdGlvbiBlcnJvcicsIGVycm9yKTtcclxuICAgIFx0XHRyZXR1cm4ge1xyXG4gICAgXHRcdFx0c3VjY2VzczogZmFsc2UsXHJcbiAgICBcdFx0XHRtZXNzYWdlOiBgVmFsaWRhdGlvbiBlcnJvcjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YFxyXG4gICAgXHRcdH07XHJcbiAgICBcdH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpemUgZGF0YWJhc2Ugc2NoZW1hIGZvciBHcmFwaGl0aVxyXG4gICAgICovXHJcbiAgICBhc3luYyBpbml0aWFsaXplRGF0YWJhc2VTY2hlbWEoKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZyB9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgY29uZmlnID0ge1xyXG4gICAgICAgICAgICAgICAgLy8gRGF0YWJhc2UgQ29uZmlndXJhdGlvblxyXG4gICAgICAgICAgICAgICAgZGF0YWJhc2VfdHlwZTogdGhpcy5zZXR0aW5ncy5kYXRhYmFzZVR5cGUsXHJcbiAgICAgICAgICAgICAgICAuLi50aGlzLnByZXBhcmVEYXRhYmFzZUNvbmZpZygpLFxyXG5cclxuICAgICAgICAgICAgICAgIC8vIExMTSBDb25maWd1cmF0aW9uIC0gQWxzbyByZXF1aXJlZCBmb3IgR3JhcGhpdGkgaW5zdGFuY2VcclxuICAgICAgICAgICAgICAgIGxsbV9wcm92aWRlcjogdGhpcy5zZXR0aW5ncy5sbG1Qcm92aWRlcixcclxuICAgICAgICAgICAgICAgIGFwaV9rZXlzOiB0aGlzLnNldHRpbmdzLmFwaUtleXMsXHJcbiAgICAgICAgICAgICAgICBsbG1fbW9kZWw6IHRoaXMuc2V0dGluZ3MubGxtTW9kZWwsXHJcbiAgICAgICAgICAgICAgICBhenVyZV9lbmRwb2ludDogdGhpcy5zZXR0aW5ncy5henVyZUVuZHBvaW50LFxyXG4gICAgICAgICAgICAgICAgYXp1cmVfYXBpX3ZlcnNpb246IHRoaXMuc2V0dGluZ3MuYXp1cmVBcGlWZXJzaW9uLFxyXG4gICAgICAgICAgICAgICAgb2xsYW1hX2Jhc2VfdXJsOiB0aGlzLnNldHRpbmdzLm9sbGFtYUJhc2VVcmxcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGRiQ29uZmlnID0gdGhpcy5nZXREYXRhYmFzZUNvbmZpZygpO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdJbml0aWFsaXppbmcgZGF0YWJhc2Ugc2NoZW1hJywge1xyXG4gICAgICAgICAgICAgICAgZGF0YWJhc2VUeXBlOiB0aGlzLnNldHRpbmdzLmRhdGFiYXNlVHlwZSxcclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlQ29uZmlnOiBkYkNvbmZpZyxcclxuICAgICAgICAgICAgICAgIGxsbVByb3ZpZGVyOiB0aGlzLnNldHRpbmdzLmxsbVByb3ZpZGVyXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZXhlY3V0ZVB5dGhvblNjaGVtYUluaXRpYWxpemF0aW9uKGNvbmZpZyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0RhdGFiYXNlIHNjaGVtYSBpbml0aWFsaXphdGlvbiBlcnJvcicsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogYFNjaGVtYSBpbml0aWFsaXphdGlvbiBlcnJvcjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEV4ZWN1dGUgUHl0aG9uIHNjaGVtYSBpbml0aWFsaXphdGlvblxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGFzeW5jIGV4ZWN1dGVQeXRob25TY2hlbWFJbml0aWFsaXphdGlvbihcclxuICAgICAgICBjb25maWc6IGFueVxyXG4gICAgKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZyB9PiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIHBsdWdpbidzIGRpcmVjdG9yeSBwYXRoIGZvciBtb2R1bGUgZXhlY3V0aW9uXHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHBsdWdpbkRpciwgYnJpZGdlRGlyOiBicmlkZ2VQYXRoIH0gPSB0aGlzLmdldFZhdWx0QXdhcmVQYXRocygpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGVzdFNjcmlwdCA9IGpvaW4oYnJpZGdlUGF0aCwgJ3Rlc3RfY29ubmVjdGlvbnMucHknKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0ZXN0IHNjcmlwdCBleGlzdHNcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTtcclxuICAgICAgICAgICAgICAgIGlmICghZnMuZXhpc3RzU3luYyh0ZXN0U2NyaXB0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYFRlc3Qgc2NyaXB0IG5vdCBmb3VuZCBhdDogJHt0ZXN0U2NyaXB0fWBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnRXhlY3V0aW5nIHNjaGVtYSBpbml0aWFsaXphdGlvbicpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNwYXduIFB5dGhvbiBwcm9jZXNzIGZvciBzY2hlbWEgaW5pdGlhbGl6YXRpb24gLSBleGVjdXRlIGFzIG1vZHVsZSBmb3IgcmVsYXRpdmUgaW1wb3J0c1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHl0aG9uQ21kID0gdGhpcy5nZXRQeXRob25FeGVjdXRhYmxlKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBweXRob25FbnYgPSB0aGlzLmdldFB5dGhvbkVudigpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvY2VzcyA9IHNwYXduKHB5dGhvbkNtZCwgW1xyXG4gICAgICAgICAgICAgICAgICAgICctbScsICdncmFwaGl0aV9icmlkZ2UudGVzdF9jb25uZWN0aW9ucycsXHJcbiAgICAgICAgICAgICAgICAgICAgJy0tdGVzdC10eXBlJywgJ3NjaGVtYS1pbml0JyxcclxuICAgICAgICAgICAgICAgICAgICAnLS1jb25maWcnLCBKU09OLnN0cmluZ2lmeShjb25maWcpXHJcbiAgICAgICAgICAgICAgICBdLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3dkOiBwbHVnaW5EaXIsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RkaW86IFsncGlwZScsICdwaXBlJywgJ3BpcGUnXSxcclxuICAgICAgICAgICAgICAgICAgICBlbnY6IHB5dGhvbkVudlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IG91dHB1dEJ1ZmZlciA9ICcnO1xyXG4gICAgICAgICAgICAgICAgbGV0IGVycm9yQnVmZmVyID0gJyc7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIHN0ZG91dFxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5zdGRvdXQ/Lm9uKCdkYXRhJywgKGRhdGE6IEJ1ZmZlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBkYXRhLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0QnVmZmVyICs9IHRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nUHl0aG9uT3V0cHV0KCdzdGRvdXQnLCB0ZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBzdGRlcnJcclxuICAgICAgICAgICAgICAgIHByb2Nlc3Muc3RkZXJyPy5vbignZGF0YScsIChkYXRhOiBCdWZmZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gZGF0YS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yQnVmZmVyICs9IHRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nUHl0aG9uT3V0cHV0KCdzdGRlcnInLCB0ZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBwcm9jZXNzIGNvbXBsZXRpb25cclxuICAgICAgICAgICAgICAgIHByb2Nlc3Mub24oJ2Nsb3NlJywgKGNvZGU6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdTY2hlbWEgaW5pdGlhbGl6YXRpb24gcHJvY2VzcyBjb21wbGV0ZWQnLCB7IGV4aXRDb2RlOiBjb2RlIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUGFyc2UgSlNPTiByZXNwb25zZSBmcm9tIFB5dGhvbiBzY3JpcHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IEpTT04ucGFyc2Uob3V0cHV0QnVmZmVyLnRyaW0oKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiByZXN1bHQuc3VjY2VzcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXN1bHQubWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gcGFyc2Ugc2NoZW1hIGluaXRpYWxpemF0aW9uIHJlc3VsdCcsIGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYEZhaWxlZCB0byBwYXJzZSBpbml0aWFsaXphdGlvbiByZXN1bHQ6ICR7b3V0cHV0QnVmZmVyIHx8IGVycm9yQnVmZmVyfWBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1NjaGVtYSBpbml0aWFsaXphdGlvbiBmYWlsZWQnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGl0Q29kZTogY29kZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZGVycjogZXJyb3JCdWZmZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGRvdXQ6IG91dHB1dEJ1ZmZlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBTY2hlbWEgaW5pdGlhbGl6YXRpb24gZmFpbGVkIChleGl0IGNvZGUgJHtjb2RlfSk6ICR7ZXJyb3JCdWZmZXIgfHwgb3V0cHV0QnVmZmVyIHx8ICdVbmtub3duIGVycm9yJ31gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBwcm9jZXNzIGVycm9yc1xyXG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5vbignZXJyb3InLCAoZXJyb3I6IEVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBzdGFydCBzY2hlbWEgaW5pdGlhbGl6YXRpb24gcHJvY2VzcycsIGVycm9yKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ0VOT0VOVCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9ICdQeXRob24gbm90IGZvdW5kLiBQbGVhc2UgZW5zdXJlIFB5dGhvbiAzLjEwKyBpcyBpbnN0YWxsZWQgYW5kIGluIHlvdXIgUEFUSC4nO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgRmFpbGVkIHRvIHN0YXJ0IHNjaGVtYSBpbml0aWFsaXphdGlvbjogJHtlcnJvck1lc3NhZ2V9YFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1NjaGVtYSBpbml0aWFsaXphdGlvbiBleGNlcHRpb24nLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHtcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgU2NoZW1hIGluaXRpYWxpemF0aW9uIGVycm9yOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgc2ltcGxlIG1hbnVhbCBzeW5jIHRlc3Qgd2l0aCBhIHNpbmdsZSBub3RlXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHRlc3RNYW51YWxTeW5jKG5vdGVGaWxlOiBzdHJpbmcsIHNvdXJjZV9kZXNjcmlwdGlvbjogc3RyaW5nID0gJ29ic2lkaWFuX21tX2luZGl2aWR1YWwnKTogUHJvbWlzZTxTeW5jUmVzdWx0PiB7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBTdGFydGluZyBtYW51YWwgc3luYyB0ZXN0IGZvciBmaWxlOiAke25vdGVGaWxlfSwgU291cmNlOiAke3NvdXJjZV9kZXNjcmlwdGlvbn1gKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFZhbGlkYXRlIGVtYmVkZGluZyBtb2RlbCBiZWZvcmUgdGVzdCBzeW5jIG9wZXJhdGlvbnNcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRFbWJlZGRpbmdNb2RlbCA9IHRoaXMuc2V0dGluZ3MuZW1iZWRkaW5nTW9kZWw7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50RGltZW5zaW9ucyA9IHRoaXMuZ2V0Q3VycmVudEVtYmVkZGluZ0RpbWVuc2lvbnMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNDaGFuZ2VkID0gYXdhaXQgdGhpcy52YXVsdFJlZ2lzdHJ5U2VydmljZS5oYXNFbWJlZGRpbmdNb2RlbENoYW5nZWQoXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEVtYmVkZGluZ01vZGVsLFxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnREaW1lbnNpb25zXHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChoYXNDaGFuZ2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWlzbWF0Y2hEZXRhaWxzID0gYXdhaXQgdGhpcy52YXVsdFJlZ2lzdHJ5U2VydmljZS5nZXRFbWJlZGRpbmdNb2RlbE1pc21hdGNoRGV0YWlscyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEVtYmVkZGluZ01vZGVsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RGltZW5zaW9uc1xyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ1tURVNUX1NZTkNdIEVtYmVkZGluZyBtb2RlbCBjaGFuZ2UgZGV0ZWN0ZWQgYmVmb3JlIHRlc3Qgc3luYycsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzQ2hhbmdlZDogaGFzQ2hhbmdlZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVkTW9kZWw6IG1pc21hdGNoRGV0YWlscz8uc3RvcmVkTW9kZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlZERpbWVuc2lvbnM6IG1pc21hdGNoRGV0YWlscz8uc3RvcmVkRGltZW5zaW9ucyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE1vZGVsOiBjdXJyZW50RW1iZWRkaW5nTW9kZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnREaW1lbnNpb25zOiBjdXJyZW50RGltZW5zaW9ucyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm90ZUZpbGVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU2hvdyB3YXJuaW5nIG5vdGlmaWNhdGlvbiBidXQgY29udGludWUgd2l0aCB0ZXN0IHN5bmNcclxuICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBkZXNjcmlwdGl2ZSBtZXNzYWdlIGZyb20gdGhlIG1pc21hdGNoIGRldGFpbHNcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB3YXJuaW5nTWVzc2FnZSA9IGBFbWJlZGRpbmcgbW9kZWwgY2hhbmdlZCBmcm9tICR7bWlzbWF0Y2hEZXRhaWxzPy5zdG9yZWRNb2RlbCB8fCAndW5rbm93bid9IHRvICR7Y3VycmVudEVtYmVkZGluZ01vZGVsfS4gVGhpcyBtYXkgYWZmZWN0IHZlY3RvciBzaW1pbGFyaXR5IGluIHlvdXIga25vd2xlZGdlIGdyYXBoLmA7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZSh3YXJuaW5nTWVzc2FnZSwgODAwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVtYmVkZGluZ1ZhbGlkYXRpb25FcnJvcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tURVNUX1NZTkNdIEZhaWxlZCB0byB2YWxpZGF0ZSBlbWJlZGRpbmcgbW9kZWwgKHRlc3Qgc3luYyBjb250aW51ZXMpJywge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBlbWJlZGRpbmdWYWxpZGF0aW9uRXJyb3IsXHJcbiAgICAgICAgICAgICAgICAgICAgbm90ZUZpbGVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBWYWxpZGF0ZSBub3RlIGZpbGUgZXhpc3RzXHJcbiAgICAgICAgICAgIGNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTtcclxuICAgICAgICAgICAgaWYgKCFmcy5leGlzdHNTeW5jKG5vdGVGaWxlKSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBOb3RlIGZpbGUgbm90IGZvdW5kOiAke25vdGVGaWxlfWApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgc3luYyBjb25maWcgZm9yIHNpbmdsZSBub3RlXHJcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZzogU3luY0NvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgIG5vdGVzUGF0aHM6IFtub3RlRmlsZV0sXHJcbiAgICAgICAgICAgICAgICBiYXRjaFNpemU6IDEsXHJcbiAgICAgICAgICAgICAgICBkZWJ1ZzogdGhpcy5zZXR0aW5ncy5lbmFibGVEZWJ1Z0xvZ2dpbmcsXHJcbiAgICAgICAgICAgICAgICBzb3VyY2VfZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICBjcm9zc0VuY29kZXJDbGllbnQ6IHRoaXMuc2V0dGluZ3MuY3Jvc3NFbmNvZGVyQ2xpZW50LFxyXG4gICAgICAgICAgICAgICAgY3Jvc3NFbmNvZGVyTW9kZWw6IHRoaXMuc2V0dGluZ3MuY3Jvc3NFbmNvZGVyTW9kZWwsXHJcbiAgICAgICAgICAgICAgICB1c2VfY3VzdG9tX29udG9sb2d5OiB0aGlzLnNldHRpbmdzLnVzZUN1c3RvbU9udG9sb2d5XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyBSdW4gc3luYyB3aXRoIHByb2dyZXNzIGNhbGxiYWNrXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuc3luY05vdGVzKGNvbmZpZywgKHByb2dyZXNzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnTWFudWFsIHN5bmMgcHJvZ3Jlc3MnLCBwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICBuZXcgTm90aWNlKGBNYW51YWwgc3luYzogJHtwcm9ncmVzcy5tZXNzYWdlfSAoJHtwcm9ncmVzcy5wZXJjZW50YWdlLnRvRml4ZWQoMSl9JSlgKTtcclxuICAgICAgICAgICAgfSwgc291cmNlX2Rlc2NyaXB0aW9uKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NpbmdUaW1lID1cclxuICAgICAgICAgICAgICAgIChyZXN1bHQgYXMgYW55KS5wcm9jZXNzaW5nX2R1cmF0aW9uX3NlY29uZHMgPz9cclxuICAgICAgICAgICAgICAgICgoKHJlc3VsdCBhcyBhbnkpLm5vdGVzICYmIEFycmF5LmlzQXJyYXkoKHJlc3VsdCBhcyBhbnkpLm5vdGVzKSAmJiAocmVzdWx0IGFzIGFueSkubm90ZXNbMF0/LnByb2Nlc3NpbmdfZHVyYXRpb25fc2Vjb25kcykgYXMgbnVtYmVyIHwgdW5kZWZpbmVkKSA/P1xyXG4gICAgICAgICAgICAgICAgTWF0aC5yb3VuZCgoRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSkgLyAxMDAwKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFJhdyByZXN1bHQgbG9nZ2luZyByZW1vdmVkIHRvIHByZXZlbnQgbWFzc2l2ZSBsb2cgb3V0cHV0XHJcblxyXG4gICAgICAgICAgICAvLyBIYW5kbGUgc2luZ2xlIG5vdGUgc3luYyByZXN1bHRzIHdoZXJlIHN1bW1hcnkgZGF0YSBtaWdodCBiZSBuZXN0ZWQgb3IgYWJzZW50IGZyb20gdG9wLWxldmVsXHJcbiAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NlZENvdW50ID0gMTsgLy8gRm9yIHNpbmdsZSBzeW5jLCBhbHdheXMgMSBwcm9jZXNzZWQgaWYgc3VjY2Vzc2Z1bFxyXG4gICAgICAgICAgICBjb25zdCBza2lwcGVkQ291bnQgPSAwOyAgIC8vIEZvciBzaW5nbGUgc3luYywgYWx3YXlzIDAgc2tpcHBlZCBpZiBzdWNjZXNzZnVsXHJcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsQ291bnQgPSAxOyAgICAgLy8gRm9yIHNpbmdsZSBzeW5jLCBhbHdheXMgMSB0b3RhbFxyXG4gICAgICAgICAgICBjb25zdCBiYXRjaENvdW50ID0gMTsgICAgIC8vIEZvciBzaW5nbGUgc3luYywgYWx3YXlzIDEgYmF0Y2hcclxuICAgICAgICAgICAgLy8gRXh0cmFjdCBkYXRhIGZyb20gYWN0dWFsIHJlc3BvbnNlIHN0cnVjdHVyZSAoZGFlbW9uIHJldHVybnMgbm90ZSBwYXlsb2FkIHVuZGVyIG5vdGVzWzBdKVxyXG4gICAgICAgICAgICBjb25zdCBmaXJzdE5vdGUgPSAocmVzdWx0IGFzIGFueSk/Lm5vdGVzICYmIEFycmF5LmlzQXJyYXkoKHJlc3VsdCBhcyBhbnkpLm5vdGVzKSA/IChyZXN1bHQgYXMgYW55KS5ub3Rlc1swXSA6IG51bGw7XHJcbiAgICAgICAgICAgIGNvbnN0IGVwaXNvZGVOYW1lID0gKHJlc3VsdCBhcyBhbnkpLm5vdGVfbmFtZSB8fCBmaXJzdE5vdGU/Lm5vdGVfbmFtZSB8fCAndW5rbm93bic7XHJcbiAgICAgICAgICAgIC8vIEBwdXJwb3NlOiBVc2UgZW5oYW5jZWQgZm9sZGVyIG5hbWVzcGFjaW5nIHRvIGdlbmVyYXRlIHByb3BlciBncm91cF9pZCBAZGVwZW5kczogU3luY1JlZ2lzdHJ5U2VydmljZS5nZW5lcmF0ZUdyb3VwSWQgQHJlc3VsdHM6IEN1c3RvbSBncm91cF9pZHMgYmFzZWQgb24gZm9sZGVyIG1hcHBpbmdzXHJcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwSWQgPSBhd2FpdCB0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UuZ2VuZXJhdGVHcm91cElkKG5vdGVGaWxlLCB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0TmFtZSgpKTtcclxuICAgICAgICAgICAgY29uc3QgdXVpZCA9IChyZXN1bHQgYXMgYW55KS5lcGlzb2RlX3V1aWQgfHwgZmlyc3ROb3RlPy5lcGlzb2RlX3V1aWQgfHwgJ3Vua25vd24nO1xyXG4gICAgICAgICAgICBjb25zdCBzdGF0dXMgPSAocmVzdWx0IGFzIGFueSkuc3RhdHVzIHx8IGZpcnN0Tm90ZT8uc3RhdHVzIHx8ICd1bmtub3duJztcclxuXHJcbiAgICAgICAgICAgIC8vIFZhdWx0IHJlZ2lzdHJ5IHVwZGF0ZXMgYXJlIGhhbmRsZWQgaW4gc2V0dGluZ3MgcGFuZWwgb25seSwgbm90IGR1cmluZyBzeW5jIG9wZXJhdGlvbnNcclxuXHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oYE1hbnVhbFN5bmNSZXN1bHQ6IG5vdGVfbmFtZToke2VwaXNvZGVOYW1lfSwgc3RhdHVzOiAke3N0YXR1c30sIHByb2Nlc3NlZDogJHtwcm9jZXNzZWRDb3VudH0sIHNraXBwZWQ6ICR7c2tpcHBlZENvdW50fSwgdG90YWw6ICR7dG90YWxDb3VudH0sIGJhdGNoZXM6ICR7YmF0Y2hDb3VudH0sIHByb2Nlc3NlZF9pbjogJHtwcm9jZXNzaW5nVGltZX1zLCBncm91cF9pZDogJHtncm91cElkfSwgdXVpZDogJHt1dWlkfSwgc291cmNlX2Rlc2NyaXB0aW9uOiAke3NvdXJjZV9kZXNjcmlwdGlvbn1gKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1tFUlJPUl0gTWFudWFsIHN5bmMgdGVzdCBmYWlsZWQnLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicsXHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICBza2lwcGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgdG90YWw6IDEsXHJcbiAgICAgICAgICAgICAgICBiYXRjaENvdW50OiAwLFxyXG4gICAgICAgICAgICAgICAgbm9kZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgZWRnZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogPT09IERBVEEuSlNPTiBNQU5BR0VNRU5UIEZVTkNUSU9OUyA9PT1cclxuICAgICAqIFB1cnBvc2U6IEdyYW51bGFyIGNvbnRyb2wgb3ZlciBkYXRhLmpzb24gZm9yIGVudGl0eSBhbmQgcHJvcGVydHkgZGVzY3JpcHRpb25zXHJcbiAgICAgKiBJbnRlZ3JhdGlvbjogV29ya3Mgd2l0aCBleGlzdGluZyBwbHVnaW4uc2V0dGluZ3MgcGF0dGVybiBhbmQgU2NoZW1hRGlzY292ZXJ5U2VydmljZVxyXG4gICAgICogTW9kZTogQ29kZSAtIERhdGEgbWFuYWdlbWVudCBmdW5jdGlvbnMgZm9yIFVJIFwiTG9hZCBBbGwgRGVmYXVsdHNcIiBidXR0b25zXHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBwbHVnaW4gaW5zdGFuY2UgdXNpbmcgdGhlIHNhbWUgcGF0dGVybiBhcyBTY2hlbWFNYW5hZ2VyXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0UGx1Z2luKCk6IGFueSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiAod2luZG93IGFzIGFueSkuYXBwICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICByZXR1cm4gKHdpbmRvdyBhcyBhbnkpLmFwcC5wbHVnaW5zLnBsdWdpbnNbJ21lZ2FtZW0tbWNwJ107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkIGEgbmV3IGVudGl0eSBkZWZpbml0aW9uIHRvIGRhdGEuanNvblxyXG4gICAgICovXHJcbiAgICBhc3luYyBhZGRFbnRpdHlEZWZpbml0aW9uKGVudGl0eU5hbWU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IHBsdWdpbiA9IHRoaXMuZ2V0UGx1Z2luKCk7XHJcbiAgICAgICAgaWYgKCFwbHVnaW4/LnNldHRpbmdzKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUGx1Z2luIHNldHRpbmdzIG5vdCBhdmFpbGFibGUnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEluaXRpYWxpemUgZW50aXR5RGVzY3JpcHRpb25zIGlmIG5vdCBleGlzdHNcclxuICAgICAgICBpZiAoIXBsdWdpbi5zZXR0aW5ncy5lbnRpdHlEZXNjcmlwdGlvbnMpIHtcclxuICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLmVudGl0eURlc2NyaXB0aW9ucyA9IHt9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQWRkIHRoZSBlbnRpdHkgZGVzY3JpcHRpb25cclxuICAgICAgICBwbHVnaW4uc2V0dGluZ3MuZW50aXR5RGVzY3JpcHRpb25zW2VudGl0eU5hbWVdID0ge1xyXG4gICAgICAgICAgICBjbGFzc05hbWU6IGVudGl0eU5hbWUucmVwbGFjZSgvXFxzKy9nLCAnJykucmVwbGFjZSgvW15hLXpBLVowLTldL2csICcnKSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICBpc1VzZXJEZWZpbmVkOiB0cnVlLFxyXG4gICAgICAgICAgICBzb3VyY2U6IFwidXNlclwiLFxyXG4gICAgICAgICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIFNhdmUgdG8gZGF0YS5qc29uXHJcbiAgICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0FkZGVkIGVudGl0eSBkZWZpbml0aW9uJywgeyBlbnRpdHlOYW1lIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIGFuIGVudGl0eSBkZWZpbml0aW9uIGZyb20gZGF0YS5qc29uXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHJlbW92ZUVudGl0eURlZmluaXRpb24oZW50aXR5TmFtZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgY29uc3QgcGx1Z2luID0gdGhpcy5nZXRQbHVnaW4oKTtcclxuICAgICAgICBpZiAoIXBsdWdpbj8uc2V0dGluZ3M/LmVudGl0eURlc2NyaXB0aW9ucykge1xyXG4gICAgICAgICAgICByZXR1cm47IC8vIE5vdGhpbmcgdG8gcmVtb3ZlXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkZWxldGUgcGx1Z2luLnNldHRpbmdzLmVudGl0eURlc2NyaXB0aW9uc1tlbnRpdHlOYW1lXTtcclxuICAgICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnUmVtb3ZlZCBlbnRpdHkgZGVmaW5pdGlvbicsIHsgZW50aXR5TmFtZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSBhbiBleGlzdGluZyBlbnRpdHkgZGVzY3JpcHRpb25cclxuICAgICAqL1xyXG4gICAgYXN5bmMgdXBkYXRlRW50aXR5RGVzY3JpcHRpb24oZW50aXR5TmFtZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgY29uc3QgcGx1Z2luID0gdGhpcy5nZXRQbHVnaW4oKTtcclxuICAgICAgICBpZiAoIXBsdWdpbj8uc2V0dGluZ3M/LmVudGl0eURlc2NyaXB0aW9ucz8uW2VudGl0eU5hbWVdKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRW50aXR5ICR7ZW50aXR5TmFtZX0gbm90IGZvdW5kYCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwbHVnaW4uc2V0dGluZ3MuZW50aXR5RGVzY3JpcHRpb25zW2VudGl0eU5hbWVdID0ge1xyXG4gICAgICAgICAgICAuLi5wbHVnaW4uc2V0dGluZ3MuZW50aXR5RGVzY3JpcHRpb25zW2VudGl0eU5hbWVdLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgIGxhc3RNb2RpZmllZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1VwZGF0ZWQgZW50aXR5IGRlc2NyaXB0aW9uJywgeyBlbnRpdHlOYW1lIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkIGEgbmV3IHByb3BlcnR5IGRlZmluaXRpb24gdG8gZGF0YS5qc29uXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGFkZFByb3BlcnR5RGVmaW5pdGlvbihlbnRpdHlOYW1lOiBzdHJpbmcsIHByb3BlcnR5TmFtZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgY29uc3QgcGx1Z2luID0gdGhpcy5nZXRQbHVnaW4oKTtcclxuICAgICAgICBpZiAoIXBsdWdpbj8uc2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbHVnaW4gc2V0dGluZ3Mgbm90IGF2YWlsYWJsZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBwcm9wZXJ0eURlc2NyaXB0aW9ucyBzdHJ1Y3R1cmUgaWYgbmVlZGVkXHJcbiAgICAgICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnMpIHtcclxuICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zW2VudGl0eU5hbWVdKSB7XHJcbiAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9uc1tlbnRpdHlOYW1lXSA9IHt9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQWRkIHRoZSBwcm9wZXJ0eSBkZXNjcmlwdGlvblxyXG4gICAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9uc1tlbnRpdHlOYW1lXVtwcm9wZXJ0eU5hbWVdID0ge1xyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgIGZpZWxkVHlwZTogXCJzdHJcIiwgLy8gRGVmYXVsdCBmaWVsZCB0eXBlLCBjYW4gYmUgdXBkYXRlZCBsYXRlclxyXG4gICAgICAgICAgICBpc1VzZXJEZWZpbmVkOiB0cnVlLFxyXG4gICAgICAgICAgICBzb3VyY2U6IFwidXNlclwiLFxyXG4gICAgICAgICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdBZGRlZCBwcm9wZXJ0eSBkZWZpbml0aW9uJywgeyBlbnRpdHlOYW1lLCBwcm9wZXJ0eU5hbWUgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgYSBwcm9wZXJ0eSBkZWZpbml0aW9uIGZyb20gZGF0YS5qc29uXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHJlbW92ZVByb3BlcnR5RGVmaW5pdGlvbihlbnRpdHlOYW1lOiBzdHJpbmcsIHByb3BlcnR5TmFtZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgY29uc3QgcGx1Z2luID0gdGhpcy5nZXRQbHVnaW4oKTtcclxuICAgICAgICBpZiAoIXBsdWdpbj8uc2V0dGluZ3M/LnByb3BlcnR5RGVzY3JpcHRpb25zPy5bZW50aXR5TmFtZV0pIHtcclxuICAgICAgICAgICAgcmV0dXJuOyAvLyBOb3RoaW5nIHRvIHJlbW92ZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZGVsZXRlIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9uc1tlbnRpdHlOYW1lXVtwcm9wZXJ0eU5hbWVdO1xyXG5cclxuICAgICAgICAvLyBDbGVhbiB1cCBlbXB0eSBlbnRpdHkgb2JqZWN0IGlmIG5vIHByb3BlcnRpZXMgcmVtYWluXHJcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9uc1tlbnRpdHlOYW1lXSkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnNbZW50aXR5TmFtZV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnUmVtb3ZlZCBwcm9wZXJ0eSBkZWZpbml0aW9uJywgeyBlbnRpdHlOYW1lLCBwcm9wZXJ0eU5hbWUgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUgYW4gZXhpc3RpbmcgcHJvcGVydHkgZGVzY3JpcHRpb25cclxuICAgICAqL1xyXG4gICAgYXN5bmMgdXBkYXRlUHJvcGVydHlEZXNjcmlwdGlvbihlbnRpdHlOYW1lOiBzdHJpbmcsIHByb3BlcnR5TmFtZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgY29uc3QgcGx1Z2luID0gdGhpcy5nZXRQbHVnaW4oKTtcclxuICAgICAgICBpZiAoIXBsdWdpbj8uc2V0dGluZ3M/LnByb3BlcnR5RGVzY3JpcHRpb25zPy5bZW50aXR5TmFtZV0/Lltwcm9wZXJ0eU5hbWVdKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUHJvcGVydHkgJHtlbnRpdHlOYW1lfS4ke3Byb3BlcnR5TmFtZX0gbm90IGZvdW5kYCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnNbZW50aXR5TmFtZV1bcHJvcGVydHlOYW1lXSA9IHtcclxuICAgICAgICAgICAgLi4ucGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zW2VudGl0eU5hbWVdW3Byb3BlcnR5TmFtZV0sXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgbGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnVXBkYXRlZCBwcm9wZXJ0eSBkZXNjcmlwdGlvbicsIHsgZW50aXR5TmFtZSwgcHJvcGVydHlOYW1lIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTG9hZCBhbGwgZGVmYXVsdCBlbnRpdHkgZGVzY3JpcHRpb25zIGZyb20gU2NoZW1hRGlzY292ZXJ5U2VydmljZVxyXG4gICAgICovXHJcbiAgICBhc3luYyBsb2FkQWxsRGVmYXVsdEVudGl0eURlc2NyaXB0aW9ucygpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBjb25zdCBwbHVnaW4gPSB0aGlzLmdldFBsdWdpbigpO1xyXG4gICAgICAgIGlmICghcGx1Z2luPy5zZXR0aW5ncykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsdWdpbiBzZXR0aW5ncyBub3QgYXZhaWxhYmxlJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJbml0aWFsaXplIGVudGl0eURlc2NyaXB0aW9ucyBpZiBub3QgZXhpc3RzXHJcbiAgICAgICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MuZW50aXR5RGVzY3JpcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5lbnRpdHlEZXNjcmlwdGlvbnMgPSB7fTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEdldCBhbGwgYXZhaWxhYmxlIGRlZmF1bHQgZW50aXR5IHR5cGVzIGZyb20gc2NoZW1hIHNlcnZpY2VcclxuICAgICAgICBjb25zdCBhdmFpbGFibGVFbnRpdHlUeXBlcyA9IHRoaXMuc2NoZW1hU2VydmljZS5nZXRBdmFpbGFibGVEZWZhdWx0RW50aXR5VHlwZXMoKTtcclxuICAgICAgICBsZXQgYWRkZWRDb3VudCA9IDA7XHJcbiAgICAgICAgbGV0IHVwZGF0ZWRDb3VudCA9IDA7XHJcblxyXG4gICAgICAgIC8vIEFkZC91cGRhdGUgZWFjaCBkZWZhdWx0IGVudGl0eSBkZXNjcmlwdGlvblxyXG4gICAgICAgIGZvciAoY29uc3QgZW50aXR5TmFtZSBvZiBhdmFpbGFibGVFbnRpdHlUeXBlcykge1xyXG4gICAgICAgICAgICAvLyBHZXQgdGhlIGRlc2NyaXB0aW9uIGZvciB0aGlzIHNwZWNpZmljIGVudGl0eSB0eXBlXHJcbiAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gdGhpcy5zY2hlbWFTZXJ2aWNlLmdldERlZmF1bHRFbnRpdHlEZXNjcmlwdGlvbihlbnRpdHlOYW1lKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghZGVzY3JpcHRpb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGlmIG5vIGRlZmF1bHQgZGVzY3JpcHRpb24gYXZhaWxhYmxlXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChwbHVnaW4uc2V0dGluZ3MuZW50aXR5RGVzY3JpcHRpb25zW2VudGl0eU5hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgZXhpc3Rpbmcgd2l0aCBkZWZhdWx0IGRlc2NyaXB0aW9uIGJ1dCBrZWVwIHVzZXIgc291cmNlIGlmIGl0IHdhcyB1c2VyLWRlZmluZWRcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gcGx1Z2luLnNldHRpbmdzLmVudGl0eURlc2NyaXB0aW9uc1tlbnRpdHlOYW1lXTtcclxuICAgICAgICAgICAgICAgIGlmIChleGlzdGluZy5zb3VyY2UgIT09ICd1c2VyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5lbnRpdHlEZXNjcmlwdGlvbnNbZW50aXR5TmFtZV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmV4aXN0aW5nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZTogXCJkaXNjb3ZlcnlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gQWRkIG5ldyBkZWZhdWx0IGVudGl0eSBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLmVudGl0eURlc2NyaXB0aW9uc1tlbnRpdHlOYW1lXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGVudGl0eU5hbWUucmVwbGFjZSgvXFxzKy9nLCAnJykucmVwbGFjZSgvW15hLXpBLVowLTldL2csICcnKSxcclxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgaXNVc2VyRGVmaW5lZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlOiBcImRpc2NvdmVyeVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RNb2RpZmllZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgYWRkZWRDb3VudCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnTG9hZGVkIGFsbCBkZWZhdWx0IGVudGl0eSBkZXNjcmlwdGlvbnMnLCB7IGFkZGVkQ291bnQsIHVwZGF0ZWRDb3VudCB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIExvYWQgYWxsIGRlZmF1bHQgcHJvcGVydHkgZGVzY3JpcHRpb25zIGZyb20gU2NoZW1hRGlzY292ZXJ5U2VydmljZVxyXG4gICAgICovXHJcbiAgICBhc3luYyBsb2FkQWxsRGVmYXVsdFByb3BlcnR5RGVzY3JpcHRpb25zKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IHBsdWdpbiA9IHRoaXMuZ2V0UGx1Z2luKCk7XHJcbiAgICAgICAgaWYgKCFwbHVnaW4/LnNldHRpbmdzKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUGx1Z2luIHNldHRpbmdzIG5vdCBhdmFpbGFibGUnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEluaXRpYWxpemUgcHJvcGVydHlEZXNjcmlwdGlvbnMgaWYgbm90IGV4aXN0c1xyXG4gICAgICAgIGlmICghcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9ucyA9IHt9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGFkZGVkQ291bnQgPSAwO1xyXG4gICAgICAgIGxldCB1cGRhdGVkQ291bnQgPSAwO1xyXG5cclxuICAgICAgICAvLyBHZXQgZGlzY292ZXJlZCBlbnRpdHkgdHlwZXMgdG8gYXBwbHkgcHJvcGVydHkgZGVzY3JpcHRpb25zIHRvXHJcbiAgICAgICAgY29uc3Qgc2NoZW1hcyA9IGF3YWl0IHRoaXMuc2NoZW1hU2VydmljZS5kaXNjb3ZlckFsbFNjaGVtYXMoKTtcclxuXHJcbiAgICAgICAgLy8gRm9yIGVhY2ggZGlzY292ZXJlZCBlbnRpdHkgdHlwZVxyXG4gICAgICAgIGZvciAoY29uc3Qgc2NoZW1hIG9mIHNjaGVtYXMpIHtcclxuICAgICAgICAgICAgY29uc3QgZW50aXR5TmFtZSA9IHNjaGVtYS50eXBlTmFtZTtcclxuXHJcbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgZW50aXR5IHByb3BlcnR5IGRlc2NyaXB0aW9ucyBpZiBub3QgZXhpc3RzXHJcbiAgICAgICAgICAgIGlmICghcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zW2VudGl0eU5hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnNbZW50aXR5TmFtZV0gPSB7fTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gRm9yIGVhY2ggcHJvcGVydHkgaW4gdGhlIHNjaGVtYVxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHByb3BlcnR5IG9mIHNjaGVtYS5wcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9wZXJ0eU5hbWUgPSBwcm9wZXJ0eS5uYW1lO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgYSBkZWZhdWx0IGRlc2NyaXB0aW9uIGZvciB0aGlzIHByb3BlcnR5IHVzaW5nIGV4aXN0aW5nIG1ldGhvZFxyXG4gICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdERlc2NyaXB0aW9uID0gdGhpcy5zY2hlbWFTZXJ2aWNlLmdldERlZmF1bHRQcm9wZXJ0eURlc2NyaXB0aW9uKHByb3BlcnR5TmFtZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdERlc2NyaXB0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9uc1tlbnRpdHlOYW1lXVtwcm9wZXJ0eU5hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyBwcm9wZXJ0eSBkZXNjcmlwdGlvbiBpZiBpdCdzIG5vdCB1c2VyLWRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnNbZW50aXR5TmFtZV1bcHJvcGVydHlOYW1lXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nLnNvdXJjZSAhPT0gJ3VzZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnNbZW50aXR5TmFtZV1bcHJvcGVydHlOYW1lXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5leGlzdGluZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVmYXVsdERlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZTogXCJkaXNjb3ZlcnlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIG5ldyBkZWZhdWx0IHByb3BlcnR5IGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9uc1tlbnRpdHlOYW1lXVtwcm9wZXJ0eU5hbWVdID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlZmF1bHREZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVHlwZTogcHJvcGVydHkuaW5mZXJyZWRUeXBlID09PSAnc3RyaW5nJyA/ICdzdHInIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eS5pbmZlcnJlZFR5cGUgPT09ICdudW1iZXInID8gJ2Zsb2F0JyA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHkuaW5mZXJyZWRUeXBlID09PSAnYm9vbGVhbicgPyAnYm9vbCcgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LmluZmVycmVkVHlwZSA9PT0gJ2RhdGUnID8gJ2RhdGV0aW1lJyA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHkuaW5mZXJyZWRUeXBlID09PSAnYXJyYXknID8gJ0xpc3Rbc3RyXScgOiAnc3RyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVXNlckRlZmluZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlOiBcImRpc2NvdmVyeVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkZWRDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0xvYWRlZCBhbGwgZGVmYXVsdCBwcm9wZXJ0eSBkZXNjcmlwdGlvbnMnLCB7IGFkZGVkQ291bnQsIHVwZGF0ZWRDb3VudCB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNhdmUgY3VycmVudCBkYXRhIHN0YXRlIHRvIGRhdGEuanNvbiAoY29udmVuaWVuY2UgbWV0aG9kKVxyXG4gICAgICovXHJcbiAgICBhc3luYyBzYXZlRGF0YSgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBjb25zdCBwbHVnaW4gPSB0aGlzLmdldFBsdWdpbigpO1xyXG4gICAgICAgIGlmICghcGx1Z2luPy5zZXR0aW5ncykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsdWdpbiBzZXR0aW5ncyBub3QgYXZhaWxhYmxlJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnU2F2ZWQgZGF0YSB0byBkYXRhLmpzb24nKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIExvZyBjYWNoZSBoZWFsdGggbWV0cmljcyBwZXJpb2RpY2FsbHlcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBsb2dDYWNoZU1ldHJpY3MoY3VycmVudFZhdWx0SWQ6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgICAgIGNvbnN0IHRpbWVTaW5jZUxhc3RMb2cgPSBub3cgLSB0aGlzLmxhc3RDYWNoZUxvZ1RpbWU7XHJcbiAgICAgICAgY29uc3QgTE9HX0lOVEVSVkFMX01TID0gNTAwMDsgLy8gTG9nIGV2ZXJ5IDUgc2Vjb25kcyBvciBhZnRlciAxMCBvcGVyYXRpb25zXHJcblxyXG4gICAgICAgIC8vIExvZyBpZiBlbm91Z2ggdGltZSBoYXMgcGFzc2VkIE9SIGlmIGEgc2lnbmlmaWNhbnQgbnVtYmVyIG9mIG9wZXJhdGlvbnMgb2NjdXJyZWRcclxuICAgICAgICBpZiAodGltZVNpbmNlTGFzdExvZyA+IExPR19JTlRFUlZBTF9NUyB8fCAodGhpcy5jYWNoZUhpdHMgKyB0aGlzLmNhY2hlTWlzc2VzKSAlIDEwID09PSAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsQWNjZXNzZXMgPSB0aGlzLmNhY2hlSGl0cyArIHRoaXMuY2FjaGVNaXNzZXM7XHJcbiAgICAgICAgICAgIGNvbnN0IGhpdFJhdGlvID0gdG90YWxBY2Nlc3NlcyA+IDAgPyAodGhpcy5jYWNoZUhpdHMgLyB0b3RhbEFjY2Vzc2VzICogMTAwKS50b0ZpeGVkKDIpIDogJzAuMDAnO1xyXG4gICAgICAgICAgICBjb25zdCBjYWNoZVNpemUgPSB0aGlzLnBhdGhDYWNoZS5zaXplO1xyXG5cclxuICAgICAgICAgICAgLy8gRXN0aW1hdGUgbWVtb3J5IHVzYWdlIChyb3VnaCBlc3RpbWF0ZSwgYWN0dWFsIG1lbW9yeSB1c2FnZSBpcyBjb21wbGV4KVxyXG4gICAgICAgICAgICAvLyBFYWNoIGVudHJ5IGluIHRoZSBtYXAgc3RvcmVzIGEgc3RyaW5nIGtleSBhbmQgYSBWYXVsdFBhdGhzIG9iamVjdC5cclxuICAgICAgICAgICAgLy8gVmF1bHRQYXRocyBjb250YWlucyBhIGZldyBzdHJpbmdzLiBBIHZlcnkgcm91Z2ggZXN0aW1hdGU6XHJcbiAgICAgICAgICAgIGNvbnN0IGVzdGltYXRlZEVudHJ5U2l6ZSA9IDIwMDsgLy8gYnl0ZXMgcGVyIGVudHJ5IChrZXkgKyBvYmplY3QgcHJvcGVydGllcylcclxuICAgICAgICAgICAgY29uc3QgZXN0aW1hdGVkTWVtb3J5VXNhZ2VLQiA9IChjYWNoZVNpemUgKiBlc3RpbWF0ZWRFbnRyeVNpemUgLyAxMDI0KS50b0ZpeGVkKDIpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFtDQUNIRV9IRUFMVEhdIFZhdWx0OiAke2N1cnJlbnRWYXVsdElkfSwgSGl0czogJHt0aGlzLmNhY2hlSGl0c30sIE1pc3NlczogJHt0aGlzLmNhY2hlTWlzc2VzfSwgSGl0IFJhdGlvOiAke2hpdFJhdGlvfSUsIENhY2hlIFNpemU6ICR7Y2FjaGVTaXplfSBlbnRyaWVzLCBFc3QuIE1lbW9yeTogJHtlc3RpbWF0ZWRNZW1vcnlVc2FnZUtCfSBLQmApO1xyXG5cclxuICAgICAgICAgICAgLy8gUmVzZXQgY291bnRlcnMgZm9yIHRoZSBuZXh0IGludGVydmFsXHJcbiAgICAgICAgICAgIHRoaXMuY2FjaGVIaXRzID0gMDtcclxuICAgICAgICAgICAgdGhpcy5jYWNoZU1pc3NlcyA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdENhY2hlTG9nVGltZSA9IG5vdztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcHVycG9zZTogR2VuZXJhdGUgdGV4dCB1c2luZyBjb25maWd1cmVkIExMTSAoc3R1YiBmb3IgU2ltcGxlTExNU2VydmljZSBpbnRlZ3JhdGlvbilcclxuICAgICAqIEBkZXBlbmRzOiBMTE0gcHJvdmlkZXIgc2V0dGluZ3MsIEFQSSBrZXlzXHJcbiAgICAgKiBAcmVzdWx0czogTExNLWdlbmVyYXRlZCB0ZXh0IHJlc3BvbnNlXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGdlbmVyYXRlV2l0aExMTShwcm9tcHQ6IHN0cmluZywgc3lzdGVtUHJvbXB0Pzogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgICAgICAvLyBUT0RPOiBSZXBsYWNlIHdpdGggYWN0dWFsIExMTSBjYWxsIHRvIFB5dGhvbiBiYWNrZW5kXHJcbiAgICAgICAgLy8gVGhpcyBzdHViIGVuYWJsZXMgVUkgdGVzdGluZyB3aGlsZSBiYWNrZW5kIGludGVncmF0aW9uIGlzIGRldmVsb3BlZFxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0xMTSBnZW5lcmF0aW9uIChzdHViKScsIHtcclxuICAgICAgICAgICAgcHJvbXB0TGVuZ3RoOiBwcm9tcHQubGVuZ3RoLFxyXG4gICAgICAgICAgICBoYXNTeXN0ZW1Qcm9tcHQ6ICEhc3lzdGVtUHJvbXB0LFxyXG4gICAgICAgICAgICBwcm92aWRlcjogdGhpcy5zZXR0aW5ncy5sbG1Qcm92aWRlclxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICByZXNwb25zZTogJ01vY2sgTExNIHJlc3BvbnNlIC0gYmFja2VuZCBpbnRlZ3JhdGlvbiBwZW5kaW5nJyxcclxuICAgICAgICAgICAgcHJvdmlkZXI6IHRoaXMuc2V0dGluZ3MubGxtUHJvdmlkZXIsXHJcbiAgICAgICAgICAgIG1vZGVsOiB0aGlzLnNldHRpbmdzLmxsbU1vZGVsLFxyXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTUNQIHNlcnZlciBwcm9jZXNzIGxpZmVjeWNsZSBtYW5hZ2VtZW50XHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0YXJ0IHRoZSBNQ1Agc2VydmVyIHByb2Nlc3NcclxuICAgICAqL1xyXG4gICAgYXN5bmMgc3RhcnRNY3BTZXJ2ZXIoKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZzsgcGlkPzogbnVtYmVyIH0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBzZXJ2ZXIgaXMgYWxyZWFkeSBydW5uaW5nXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm1jcFNlcnZlclByb2Nlc3MgJiYgIXRoaXMubWNwU2VydmVyUHJvY2Vzcy5raWxsZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ01DUCBzZXJ2ZXIgaXMgYWxyZWFkeSBydW5uaW5nJyxcclxuICAgICAgICAgICAgICAgICAgICBwaWQ6IHRoaXMubWNwU2VydmVyUHJvY2Vzcy5waWRcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHsgcGx1Z2luRGlyIH0gPSB0aGlzLmdldFZhdWx0QXdhcmVQYXRocygpO1xyXG4gICAgICAgICAgICBjb25zdCBtY3BTZXJ2ZXJQYXRoID0gam9pbihwbHVnaW5EaXIsICdtY3Atc2VydmVyJywgJ21lZ2FtZW1fbWNwX3NlcnZlci5weScpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgTUNQIHNlcnZlciBmaWxlIGV4aXN0c1xyXG4gICAgICAgICAgICBjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XHJcbiAgICAgICAgICAgIGlmICghZnMuZXhpc3RzU3luYyhtY3BTZXJ2ZXJQYXRoKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgTUNQIHNlcnZlciBub3QgZm91bmQgYXQ6ICR7bWNwU2VydmVyUGF0aH1gXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdTdGFydGluZyBNQ1Agc2VydmVyIHByb2Nlc3MnLCB7IG1jcFNlcnZlclBhdGggfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBTcGF3biBNQ1Agc2VydmVyIHByb2Nlc3NcclxuICAgICAgICAgICAgY29uc3QgcHl0aG9uQ21kID0gdGhpcy5nZXRQeXRob25FeGVjdXRhYmxlKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHB5dGhvbkVudiA9IHRoaXMuZ2V0UHl0aG9uRW52KCk7XHJcbiAgICAgICAgICAgIHRoaXMubWNwU2VydmVyUHJvY2VzcyA9IHNwYXduKHB5dGhvbkNtZCwgW21jcFNlcnZlclBhdGhdLCB7XHJcbiAgICAgICAgICAgICAgICBzdGRpbzogWydwaXBlJywgJ3BpcGUnLCAncGlwZSddLFxyXG4gICAgICAgICAgICAgICAgY3dkOiBqb2luKHBsdWdpbkRpciwgJ21jcC1zZXJ2ZXInKSxcclxuICAgICAgICAgICAgICAgIGVudjogcHl0aG9uRW52XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gSGFuZGxlIHByb2Nlc3Mgc3RhcnR1cFxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tY3BTZXJ2ZXJQcm9jZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWNwU2VydmVyUHJvY2Vzcy5raWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWNwU2VydmVyUHJvY2VzcyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ01DUCBzZXJ2ZXIgc3RhcnR1cCB0aW1lb3V0J1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSwgMTAwMDApOyAvLyAxMCBzZWNvbmQgdGltZW91dFxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubWNwU2VydmVyUHJvY2VzcyEub24oJ3NwYXduJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdNQ1Agc2VydmVyIHN0YXJ0ZWQgc3VjY2Vzc2Z1bGx5Jywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwaWQ6IHRoaXMubWNwU2VydmVyUHJvY2VzcyEucGlkXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdNQ1Agc2VydmVyIHN0YXJ0ZWQgc3VjY2Vzc2Z1bGx5JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGlkOiB0aGlzLm1jcFNlcnZlclByb2Nlc3MhLnBpZFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5tY3BTZXJ2ZXJQcm9jZXNzIS5vbignZXJyb3InLCAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tY3BTZXJ2ZXJQcm9jZXNzID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHN0YXJ0IE1DUCBzZXJ2ZXInLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgRmFpbGVkIHRvIHN0YXJ0IE1DUCBzZXJ2ZXI6ICR7ZXJyb3IubWVzc2FnZX1gXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1jcFNlcnZlclByb2Nlc3MhLm9uKCdleGl0JywgKGNvZGUsIHNpZ25hbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWNwU2VydmVyUHJvY2VzcyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignTUNQIHNlcnZlciBwcm9jZXNzIGV4aXRlZCcsIHsgY29kZSwgc2lnbmFsIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTG9nIHNlcnZlciBvdXRwdXRcclxuICAgICAgICAgICAgICAgIHRoaXMubWNwU2VydmVyUHJvY2VzcyEuc3Rkb3V0Py5vbignZGF0YScsIChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ01DUCBzZXJ2ZXIgc3Rkb3V0JywgeyBvdXRwdXQ6IGRhdGEudG9TdHJpbmcoKS50cmltKCkgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1jcFNlcnZlclByb2Nlc3MhLnN0ZGVycj8ub24oJ2RhdGEnLCAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ01DUCBzZXJ2ZXIgc3RkZXJyJywgeyBvdXRwdXQ6IGRhdGEudG9TdHJpbmcoKS50cmltKCkgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdFcnJvciBzdGFydGluZyBNQ1Agc2VydmVyJywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgRXJyb3Igc3RhcnRpbmcgTUNQIHNlcnZlcjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0b3AgdGhlIE1DUCBzZXJ2ZXIgcHJvY2Vzc1xyXG4gICAgICovXHJcbiAgICBhc3luYyBzdG9wTWNwU2VydmVyKCk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmcgfT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5tY3BTZXJ2ZXJQcm9jZXNzIHx8IHRoaXMubWNwU2VydmVyUHJvY2Vzcy5raWxsZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTUNQIHNlcnZlciBpcyBub3QgcnVubmluZydcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHBpZCA9IHRoaXMubWNwU2VydmVyUHJvY2Vzcy5waWQ7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1N0b3BwaW5nIE1DUCBzZXJ2ZXIgcHJvY2VzcycsIHsgcGlkIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gR3JhY2VmdWwgc2h1dGRvd24gd2l0aCB0aW1lb3V0XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ3JhY2VmdWxUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yY2Uga2lsbCBpZiBncmFjZWZ1bCBzaHV0ZG93biBkaWRuJ3Qgd29ya1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1jcFNlcnZlclByb2Nlc3MgJiYgIXRoaXMubWNwU2VydmVyUHJvY2Vzcy5raWxsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignRm9yY2Uga2lsbGluZyBNQ1Agc2VydmVyIHByb2Nlc3MnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tY3BTZXJ2ZXJQcm9jZXNzLmtpbGwoJ1NJR0tJTEwnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCA1MDAwKTsgLy8gNSBzZWNvbmQgdGltZW91dCBmb3IgZ3JhY2VmdWwgc2h1dGRvd25cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1jcFNlcnZlclByb2Nlc3MhLm9uKCdleGl0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChncmFjZWZ1bFRpbWVvdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWNwU2VydmVyUHJvY2VzcyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnTUNQIHNlcnZlciBzdG9wcGVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTUNQIHNlcnZlciBzdG9wcGVkIHN1Y2Nlc3NmdWxseSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNlbmQgU0lHVEVSTSBmb3IgZ3JhY2VmdWwgc2h1dGRvd25cclxuICAgICAgICAgICAgICAgIHRoaXMubWNwU2VydmVyUHJvY2Vzcz8ua2lsbCgnU0lHVEVSTScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0Vycm9yIHN0b3BwaW5nIE1DUCBzZXJ2ZXInLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBFcnJvciBzdG9wcGluZyBNQ1Agc2VydmVyOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgTUNQIHNlcnZlciBpcyBydW5uaW5nXHJcbiAgICAgKi9cclxuICAgIGlzTWNwU2VydmVyUnVubmluZygpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tY3BTZXJ2ZXJQcm9jZXNzICE9PSBudWxsICYmICF0aGlzLm1jcFNlcnZlclByb2Nlc3Mua2lsbGVkO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IE1DUCBzZXJ2ZXIgc3RhdHVzXHJcbiAgICAgKi9cclxuICAgIGdldE1jcFNlcnZlclN0YXR1cygpOiB7XHJcbiAgICAgICAgcnVubmluZzogYm9vbGVhbjtcclxuICAgICAgICBwaWQ/OiBudW1iZXI7XHJcbiAgICAgICAgc3RhdHVzOiAncnVubmluZycgfCAnc3RvcHBlZCcgfCAnZXJyb3InO1xyXG4gICAgICAgIG1lc3NhZ2U6IHN0cmluZztcclxuICAgIH0ge1xyXG4gICAgICAgIGlmICghdGhpcy5tY3BTZXJ2ZXJQcm9jZXNzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBydW5uaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHN0YXR1czogJ3N0b3BwZWQnLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ01DUCBzZXJ2ZXIgaXMgbm90IHJ1bm5pbmcnXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5tY3BTZXJ2ZXJQcm9jZXNzLmtpbGxlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcnVubmluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICdzdG9wcGVkJyxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdNQ1Agc2VydmVyIHByb2Nlc3Mgd2FzIGtpbGxlZCdcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJ1bm5pbmc6IHRydWUsXHJcbiAgICAgICAgICAgIHBpZDogdGhpcy5tY3BTZXJ2ZXJQcm9jZXNzLnBpZCxcclxuICAgICAgICAgICAgc3RhdHVzOiAncnVubmluZycsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IGBNQ1Agc2VydmVyIGlzIHJ1bm5pbmcgKFBJRDogJHt0aGlzLm1jcFNlcnZlclByb2Nlc3MucGlkfSlgXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlIENsYXVkZSBEZXNrdG9wIGNvbmZpZ3VyYXRpb24gZm9yIE1DUCBzZXJ2ZXJcclxuICAgICAqL1xyXG4gICAgZ2VuZXJhdGVDbGF1ZGVEZXNrdG9wQ29uZmlnKCk6IHtcclxuICAgICAgICBzdWNjZXNzOiBib29sZWFuO1xyXG4gICAgICAgIGNvbmZpZz86IGFueTtcclxuICAgICAgICBtZXNzYWdlOiBzdHJpbmc7XHJcbiAgICAgICAgY29uZmlnUGF0aD86IHN0cmluZztcclxuICAgIH0ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgcGx1Z2luRGlyIH0gPSB0aGlzLmdldFZhdWx0QXdhcmVQYXRocygpO1xyXG4gICAgICAgICAgICBjb25zdCBtY3BTZXJ2ZXJQYXRoID0gam9pbihwbHVnaW5EaXIsICdtY3Atc2VydmVyJywgJ21lZ2FtZW1fbWNwX3NlcnZlci5weScpO1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhSnNvblBhdGggPSBqb2luKHBsdWdpbkRpciwgJ2RhdGEuanNvbicpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgTUNQIHNlcnZlciBleGlzdHNcclxuICAgICAgICAgICAgY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xyXG4gICAgICAgICAgICBpZiAoIWZzLmV4aXN0c1N5bmMobWNwU2VydmVyUGF0aCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYE1DUCBzZXJ2ZXIgbm90IGZvdW5kIGF0OiAke21jcFNlcnZlclBhdGh9YFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgdmVudlB5dGhvblBhdGggPSB0aGlzLnB5dGhvbkluc3RhbGxlci5nZXRQeXRob25FeGVjdXRhYmxlKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHB5dGhvbkNvbW1hbmQgPSB2ZW52UHl0aG9uUGF0aCAmJiBmcy5leGlzdHNTeW5jKHZlbnZQeXRob25QYXRoKVxyXG4gICAgICAgICAgICAgICAgPyB2ZW52UHl0aG9uUGF0aC5yZXBsYWNlKC9cXFxcL2csICcvJylcclxuICAgICAgICAgICAgICAgIDogJ3B5dGhvbic7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICBcIm1lZ2FtZW1cIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIFwiY29tbWFuZFwiOiBweXRob25Db21tYW5kLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiYXJnc1wiOiBbbWNwU2VydmVyUGF0aC5yZXBsYWNlKC9cXFxcL2csICcvJyldLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiZW52XCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJPQlNJRElBTl9DT05GSUdfUEFUSFwiOiBkYXRhSnNvblBhdGgucmVwbGFjZSgvXFxcXC9nLCAnLycpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gR2V0IENsYXVkZSBEZXNrdG9wIGNvbmZpZyBwYXRoXHJcbiAgICAgICAgICAgIGNvbnN0IG9zID0gcmVxdWlyZSgnb3MnKTtcclxuICAgICAgICAgICAgY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcclxuICAgICAgICAgICAgY29uc3QgY2xhdWRlQ29uZmlnRGlyID0gcGF0aC5qb2luKG9zLmhvbWVkaXIoKSwgJ0FwcERhdGEnLCAnUm9hbWluZycsICdDbGF1ZGUnKTtcclxuICAgICAgICAgICAgY29uc3QgY2xhdWRlQ29uZmlnUGF0aCA9IHBhdGguam9pbihjbGF1ZGVDb25maWdEaXIsICdjbGF1ZGVfZGVza3RvcF9jb25maWcuanNvbicpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWcsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnQ2xhdWRlIERlc2t0b3AgY29uZmlndXJhdGlvbiBnZW5lcmF0ZWQgc3VjY2Vzc2Z1bGx5JyxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ1BhdGg6IGNsYXVkZUNvbmZpZ1BhdGhcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0Vycm9yIGdlbmVyYXRpbmcgQ2xhdWRlIERlc2t0b3AgY29uZmlnJywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgRXJyb3IgZ2VuZXJhdGluZyBjb25maWc6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWBcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBzcGF3biwgQ2hpbGRQcm9jZXNzIH0gZnJvbSAnY2hpbGRfcHJvY2Vzcyc7XG5pbXBvcnQgeyBQbHVnaW4sIE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IGpvaW4gfSBmcm9tICdwYXRoJztcbmltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgdHlwZSB7IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3MgfSBmcm9tICcuLi90eXBlcy9TZXR0aW5ncyc7XG5pbXBvcnQgeyBHcmFwaGl0aUxvZ2dlciB9IGZyb20gJy4uL3V0aWxzL0xvZ2dlcic7XG5pbXBvcnQgeyBWYXVsdFJlZ2lzdHJ5U2VydmljZSB9IGZyb20gJy4vVmF1bHRSZWdpc3RyeVNlcnZpY2UnO1xuaW1wb3J0IHsgUHl0aG9uSW5zdGFsbGVyIH0gZnJvbSAnLi9QeXRob25JbnN0YWxsZXInO1xuXG5leHBvcnQgaW50ZXJmYWNlIERhZW1vbkNvbW1hbmQge1xuICAgIGNvbW1hbmQ6IHN0cmluZztcbiAgICBjb25maWc/OiBhbnk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGFlbW9uUmVzcG9uc2Uge1xuICAgIHN0YXR1czogJ3N1Y2Nlc3MnIHwgJ2Vycm9yJztcbiAgICBkYXRhPzogYW55O1xuICAgIGVycm9yPzogc3RyaW5nO1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gICAgcHJvY2Vzc2VkPzogbnVtYmVyO1xuICAgIHNraXBwZWQ/OiBudW1iZXI7XG4gICAgdG90YWw/OiBudW1iZXI7XG4gICAgYmF0Y2hDb3VudD86IG51bWJlcjtcbiAgICBub2RlVHlwZXNMb2FkZWQ/OiBudW1iZXI7XG4gICAgZWRnZVR5cGVzTG9hZGVkPzogbnVtYmVyO1xuICAgIGVycm9ycz86IHN0cmluZ1tdO1xuICAgIGhhc0Vycm9ycz86IGJvb2xlYW47XG4gICAgbm90ZXM/OiBhbnlbXTtcbn1cblxuaW50ZXJmYWNlIFF1ZXVlZENvbW1hbmQge1xuICAgIGNvbW1hbmQ6IERhZW1vbkNvbW1hbmQ7XG4gICAgcmVzb2x2ZTogKHZhbHVlOiBEYWVtb25SZXNwb25zZSkgPT4gdm9pZDtcbiAgICByZWplY3Q6IChyZWFzb24/OiBhbnkpID0+IHZvaWQ7XG4gICAgdGltZW91dDogTm9kZUpTLlRpbWVvdXQ7XG59XG5cbi8qKlxuICogUHl0aG9uIERhZW1vbiBCcmlkZ2UgLSBNYW5hZ2VzIHBlcnNpc3RlbnQgUHl0aG9uIHByb2Nlc3MgZm9yIEJHRSBtb2RlbCBvcHRpbWl6YXRpb25cbiAqIEBwdXJwb3NlOiBFbGltaW5hdGUgMTctMjVzIEJHRSBtb2RlbCBsb2FkaW5nIG92ZXJoZWFkIGJ5IGtlZXBpbmcgcGVyc2lzdGVudCBQeXRob24gcHJvY2VzcyBAZGVwZW5kczogc3luY19kYWVtb24ucHkgQHJlc3VsdHM6IDYwJSBmYXN0ZXIgc3luYyBvcGVyYXRpb25zXG4gKi9cbmV4cG9ydCBjbGFzcyBQeXRob25EYWVtb25CcmlkZ2Uge1xuICAgIHByaXZhdGUgcGx1Z2luOiBQbHVnaW47XG4gICAgcHJpdmF0ZSBzZXR0aW5nczogR3JhcGhpdGlQbHVnaW5TZXR0aW5ncztcbiAgICBwcml2YXRlIGxvZ2dlcjogR3JhcGhpdGlMb2dnZXI7XG4gICAgcHJpdmF0ZSB2YXVsdFJlZ2lzdHJ5OiBWYXVsdFJlZ2lzdHJ5U2VydmljZTtcbiAgICBwcml2YXRlIHB5dGhvbkluc3RhbGxlcjogUHl0aG9uSW5zdGFsbGVyO1xuICAgIHByaXZhdGUgZGFlbW9uUHJvY2VzczogQ2hpbGRQcm9jZXNzIHwgbnVsbCA9IG51bGw7XG4gICAgcHJpdmF0ZSBjb21tYW5kUXVldWU6IFF1ZXVlZENvbW1hbmRbXSA9IFtdO1xuICAgIHByaXZhdGUgaXNQcm9jZXNzaW5nID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBpc1NodXR0aW5nRG93biA9IGZhbHNlO1xuICAgIHByaXZhdGUgc3RhcnR1cFByb21pc2U6IFByb21pc2U8dm9pZD4gfCBudWxsID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKHBsdWdpbjogUGx1Z2luLCBzZXR0aW5nczogR3JhcGhpdGlQbHVnaW5TZXR0aW5ncywgbG9nZ2VyOiBHcmFwaGl0aUxvZ2dlciwgdmF1bHRSZWdpc3RyeTogVmF1bHRSZWdpc3RyeVNlcnZpY2UpIHtcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7XG4gICAgICAgIHRoaXMudmF1bHRSZWdpc3RyeSA9IHZhdWx0UmVnaXN0cnk7XG4gICAgICAgIHRoaXMucHl0aG9uSW5zdGFsbGVyID0gbmV3IFB5dGhvbkluc3RhbGxlcihcbiAgICAgICAgICAgIHBsdWdpbixcbiAgICAgICAgICAgIHRoaXMuZ2V0UGx1Z2luRGlyZWN0b3J5KCksXG4gICAgICAgICAgICB7IHB5dGhvblBhdGg6IHNldHRpbmdzLnB5dGhvblBhdGggfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByZWxvYWQgZGFlbW9uIGZvciBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gLSBwdWJsaWMgaW50ZXJmYWNlIGZvciBwbHVnaW4gbGF1bmNoXG4gICAgICogQHB1cnBvc2U6IFB1YmxpYyBtZXRob2QgdG8gc3RhcnQgZGFlbW9uIGR1cmluZyBwbHVnaW4gaW5pdGlhbGl6YXRpb24gQGRlcGVuZHM6IHNldHRpbmdzIGZsYWdzIEByZXN1bHRzOiBGYXN0ZXIgZmlyc3Qgc3luY1xuICAgICAqL1xuICAgIGFzeW5jIHByZWxvYWREYWVtb24oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXJ0RGFlbW9uKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RhcnQgdGhlIGRhZW1vbiBwcm9jZXNzXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBzdGFydERhZW1vbigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKHRoaXMuZGFlbW9uUHJvY2VzcyAmJiAhdGhpcy5kYWVtb25Qcm9jZXNzLmtpbGxlZCkge1xuICAgICAgICAgICAgcmV0dXJuOyAvLyBBbHJlYWR5IHJ1bm5pbmdcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnN0YXJ0dXBQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGFydHVwUHJvbWlzZTsgLy8gQWxyZWFkeSBzdGFydGluZ1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdGFydHVwUHJvbWlzZSA9IHRoaXMuX3N0YXJ0RGFlbW9uSW50ZXJuYWwoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnR1cFByb21pc2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfc3RhcnREYWVtb25JbnRlcm5hbCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGx1Z2luRGlyID0gdGhpcy5nZXRQbHVnaW5EaXJlY3RvcnkoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBicmlkZ2VQYXRoID0gdGhpcy5nZXRCcmlkZ2VQYXRoKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGFlbW9uU2NyaXB0ID0gam9pbihicmlkZ2VQYXRoLCAnc3luY19kYWVtb24ucHknKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tEQUVNT05dIFJlc29sdmVkIHBhdGhzJywgeyBwbHVnaW5EaXIsIGJyaWRnZVBhdGgsIGRhZW1vblNjcmlwdCwgZXhpc3RzOiBmcy5leGlzdHNTeW5jKGRhZW1vblNjcmlwdCkgfSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdbREFFTU9OXSBTdGFydGluZyBQeXRob24gZGFlbW9uIHByb2Nlc3MnKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHB5dGhvbkNtZCA9IHRoaXMuZ2V0UHl0aG9uRXhlY3V0YWJsZSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VFbnYgPSB0aGlzLmdldFB5dGhvbkVudigpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVudiA9IHsgLi4uYmFzZUVudiB9O1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmxvZ1BlcmZvcm1hbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGVudi5HUkFQSElUSV9MT0dfUEVSRk9STUFOQ0UgPSAndHJ1ZSc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gRXhlY3V0ZSBkYWVtb24gYXMgUHl0aG9uIG1vZHVsZSB0byBzdXBwb3J0IHJlbGF0aXZlIGltcG9ydHMgKHByb2R1Y3Rpb24tc2FmZSlcbiAgICAgICAgICAgICAgICB0aGlzLmRhZW1vblByb2Nlc3MgPSBzcGF3bihweXRob25DbWQsIFsnLW0nLCAnZ3JhcGhpdGlfYnJpZGdlLnN5bmNfZGFlbW9uJ10sIHtcbiAgICAgICAgICAgICAgICAgICAgc3RkaW86IFsncGlwZScsICdwaXBlJywgJ3BpcGUnXSxcbiAgICAgICAgICAgICAgICAgICAgY3dkOiBwbHVnaW5EaXIsXG4gICAgICAgICAgICAgICAgICAgIGVudjogZW52XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgZGFlbW9uIHN0YXJ0dXBcbiAgICAgICAgICAgICAgICBsZXQgc3RhcnR1cENvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgLy8gQ29sZCBzdGFydCB3aXRoIEJHRSB3YXJtLXVwIGNhbiBleGNlZWQgMzBzIG9uIGZpcnN0IHJ1bjsgYWxsb3cgdXAgdG8gMTIwc1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0dXBUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc3RhcnR1cENvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignW0RBRU1PTl0gU3RhcnR1cCB0aW1lb3V0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdEYWVtb24gc3RhcnR1cCB0aW1lb3V0JykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgMTIwMDAwKTsgLy8gMTIwIHNlY29uZCB0aW1lb3V0IGZvciBCR0UgbG9hZGluZyAoY29sZCBzdGFydClcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW0RBRU1PTl0gV2FpdGluZyB1cCB0byAxMjBzIGZvciBkYWVtb24gcmVhZGluZXNzJyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRhZW1vblByb2Nlc3Muc3Rkb3V0Py5vbignZGF0YScsIChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG91dHB1dCA9IGRhdGEudG9TdHJpbmcoKS50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJvdXRlIGRhZW1vbiBzdGRvdXQgdGhyb3VnaCBzdGFuZGFyZGl6ZWQgUHl0aG9uIG91dHB1dCBsb2dnZXJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nUHl0aG9uT3V0cHV0KCdzdGRvdXQnLCBvdXRwdXQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChvdXRwdXQuaW5jbHVkZXMoJ1wic3RhdHVzXCI6IFwicmVhZHlcIicpICYmICFzdGFydHVwQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0dXBDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoc3RhcnR1cFRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnW0RBRU1PTl0gUHJvY2VzcyByZWFkeSAtIEJHRSBtb2RlbCBsb2FkZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnR1cFByb21pc2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRhZW1vblByb2Nlc3Muc3RkZXJyPy5vbignZGF0YScsIChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gZGF0YS50b1N0cmluZygpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gUm91dGUgZGFlbW9uIHN0ZGVyciB0aHJvdWdoIHN0YW5kYXJkaXplZCBQeXRob24gb3V0cHV0IGxvZ2dlclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2dQeXRob25PdXRwdXQoJ3N0ZGVycicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZGFlbW9uUHJvY2Vzcy5vbignZXJyb3InLCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1tEQUVNT05dIFByb2Nlc3MgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0dXBQcm9taXNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzdGFydHVwQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChzdGFydHVwVGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRhZW1vblByb2Nlc3Mub24oJ2V4aXQnLCAoY29kZSwgc2lnbmFsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oYFtEQUVNT05dIFByb2Nlc3MgZXhpdGVkIHdpdGggY29kZSAke2NvZGV9LCBzaWduYWwgJHtzaWduYWx9YCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGFlbW9uUHJvY2VzcyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnR1cFByb21pc2UgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghc3RhcnR1cENvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoc3RhcnR1cFRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgRGFlbW9uIHByb2Nlc3MgZXhpdGVkIHdpdGggY29kZSAke2NvZGV9YCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1tEQUVNT05dIEZhaWxlZCB0byBzdGFydCBwcm9jZXNzOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0dXBQcm9taXNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlIHN5bmMgY29tbWFuZCB0aHJvdWdoIGRhZW1vblxuICAgICAqL1xuICAgIGFzeW5jIGV4ZWN1dGVEYWVtb25TeW5jKGNvbmZpZzogYW55KTogUHJvbWlzZTxEYWVtb25SZXNwb25zZT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5zdGFydERhZW1vbigpO1xuXG4gICAgICAgICAgICAvLyBAcHVycG9zZTogSW5jbHVkZSBsb2dQZXJmb3JtYW5jZSBzZXR0aW5nIGluIGRhZW1vbiBjb25maWcgQGRlcGVuZHM6IHRoaXMuc2V0dGluZ3MgQHJlc3VsdHM6IFBlcmZvcm1hbmNlIHRpbWluZyBjb250cm9sbGVkIGJ5IFVJIHRvZ2dsZVxuICAgICAgICAgICAgY29uc3QgZW5oYW5jZWRDb25maWcgPSB7XG4gICAgICAgICAgICAgICAgLi4uY29uZmlnLFxuICAgICAgICAgICAgICAgIGxvZ1BlcmZvcm1hbmNlOiB0aGlzLnNldHRpbmdzLmxvZ1BlcmZvcm1hbmNlXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBjb21tYW5kOiBEYWVtb25Db21tYW5kID0ge1xuICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICdzeW5jJyxcbiAgICAgICAgICAgICAgICBjb25maWc6IGVuaGFuY2VkQ29uZmlnXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5leGVjdXRlQ29tbWFuZChjb21tYW5kKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdbREFFTU9OXSBTeW5jIGV4ZWN1dGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlIGNvbW1hbmQgdGhyb3VnaCBkYWVtb24gd2l0aCBxdWV1ZSBtYW5hZ2VtZW50XG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBleGVjdXRlQ29tbWFuZChjb21tYW5kOiBEYWVtb25Db21tYW5kKTogUHJvbWlzZTxEYWVtb25SZXNwb25zZT4ge1xuICAgICAgICBpZiAodGhpcy5pc1NodXR0aW5nRG93bikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEYWVtb24gaXMgc2h1dHRpbmcgZG93bicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdDb21tYW5kIHRpbWVvdXQgLSBkYWVtb24gbWF5IGJlIHVucmVzcG9uc2l2ZScpKTtcbiAgICAgICAgICAgIH0sIDYwMDAwMCk7IC8vIDEwIG1pbnV0ZSB0aW1lb3V0IGZvciBwcm9kdWN0aW9uIGZpbGVzXG5cbiAgICAgICAgICAgIGNvbnN0IHF1ZXVlZENvbW1hbmQ6IFF1ZXVlZENvbW1hbmQgPSB7XG4gICAgICAgICAgICAgICAgY29tbWFuZCxcbiAgICAgICAgICAgICAgICByZXNvbHZlOiAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlamVjdDogKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRpbWVvdXRcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuY29tbWFuZFF1ZXVlLnB1c2gocXVldWVkQ29tbWFuZCk7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NRdWV1ZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIGNvbW1hbmQgcXVldWUgc2VxdWVudGlhbGx5XG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBwcm9jZXNzUXVldWUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICh0aGlzLmlzUHJvY2Vzc2luZyB8fCB0aGlzLmNvbW1hbmRRdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNQcm9jZXNzaW5nID0gdHJ1ZTtcblxuICAgICAgICB3aGlsZSAodGhpcy5jb21tYW5kUXVldWUubGVuZ3RoID4gMCAmJiAhdGhpcy5pc1NodXR0aW5nRG93bikge1xuICAgICAgICAgICAgY29uc3QgcXVldWVkQ29tbWFuZCA9IHRoaXMuY29tbWFuZFF1ZXVlLnNoaWZ0KCkhO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kQ29tbWFuZFRvRGFlbW9uKHF1ZXVlZENvbW1hbmQuY29tbWFuZCk7XG4gICAgICAgICAgICAgICAgcXVldWVkQ29tbWFuZC5yZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcXVldWVkQ29tbWFuZC5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pc1Byb2Nlc3NpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGNvbW1hbmQgdG8gZGFlbW9uIHByb2Nlc3MgYW5kIHdhaXQgZm9yIHJlc3BvbnNlXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBzZW5kQ29tbWFuZFRvRGFlbW9uKGNvbW1hbmQ6IERhZW1vbkNvbW1hbmQpOiBQcm9taXNlPERhZW1vblJlc3BvbnNlPiB7XG4gICAgICAgIC8vIENhcHR1cmUgYSBzdGFibGUgcmVmZXJlbmNlIHRvIHNhdGlzZnkgVFMgYW5kIGF2b2lkIG51bGxhYmlsaXR5IGluIGNsb3N1cmVzXG4gICAgICAgIGNvbnN0IHByb2MgPSB0aGlzLmRhZW1vblByb2Nlc3M7XG4gICAgICAgIGlmICghcHJvYyB8fCBwcm9jLmtpbGxlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEYWVtb24gcHJvY2VzcyBub3QgYXZhaWxhYmxlJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgbGV0IHJlc3BvbnNlQnVmZmVyID0gJyc7XG4gICAgICAgICAgICBsZXQgcmVzcG9uc2VSZWNlaXZlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBjb25zdCBvbkRhdGEgPSAoZGF0YTogQnVmZmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2VCdWZmZXIgKz0gZGF0YS50b1N0cmluZygpO1xuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGNvbXBsZXRlIEpTT04gcmVzcG9uc2UgKG5ld2xpbmUtZGVsaW1pdGVkKVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gcmVzcG9uc2VCdWZmZXIuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW5lLnRyaW0oKSAmJiAhcmVzcG9uc2VSZWNlaXZlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gSlNPTi5wYXJzZShsaW5lLnRyaW0oKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VSZWNlaXZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvYy5zdGRvdXQ/LnJlbW92ZUxpc3RlbmVyKCdkYXRhJywgb25EYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlIGFzIERhZW1vblJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29udGludWUgYnVmZmVyaW5nIHVudGlsIHZhbGlkIEpTT04gaXMgcmVjZWl2ZWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBwcm9jLnN0ZG91dD8ub24oJ2RhdGEnLCBvbkRhdGEpO1xuXG4gICAgICAgICAgICAvLyBTZW5kIGNvbW1hbmRcbiAgICAgICAgICAgIGNvbnN0IGNvbW1hbmRKc29uID0gSlNPTi5zdHJpbmdpZnkoY29tbWFuZCkgKyAnXFxuJztcbiAgICAgICAgICAgIHByb2Muc3RkaW4/LndyaXRlKGNvbW1hbmRKc29uKTtcblxuICAgICAgICAgICAgLy8gU2V0dXAgdGltZW91dCAtIGluY3JlYXNlZCBmb3IgcHJvZHVjdGlvbiBmaWxlIHByb2Nlc3NpbmdcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2VSZWNlaXZlZCkge1xuICAgICAgICAgICAgICAgICAgICBwcm9jLnN0ZG91dD8ucmVtb3ZlTGlzdGVuZXIoJ2RhdGEnLCBvbkRhdGEpO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdDb21tYW5kIHJlc3BvbnNlIHRpbWVvdXQnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgNjAwMDAwKTsgLy8gMTAgbWludXRlIHRpbWVvdXQgZm9yIHByb2R1Y3Rpb24gZmlsZXNcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2h1dGRvd24gZGFlbW9uIHByb2Nlc3NcbiAgICAgKi9cbiAgICBhc3luYyBzaHV0ZG93bigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKHRoaXMuaXNTaHV0dGluZ0Rvd24pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNTaHV0dGluZ0Rvd24gPSB0cnVlO1xuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdbREFFTU9OXSBTaHV0dGluZyBkb3duIGRhZW1vbiBwcm9jZXNzJyk7XG5cbiAgICAgICAgLy8gQ2xlYXIgY29tbWFuZCBxdWV1ZVxuICAgICAgICB0aGlzLmNvbW1hbmRRdWV1ZS5mb3JFYWNoKGNtZCA9PiB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoY21kLnRpbWVvdXQpO1xuICAgICAgICAgICAgY21kLnJlamVjdChuZXcgRXJyb3IoJ0RhZW1vbiBzaHV0dGluZyBkb3duJykpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jb21tYW5kUXVldWUgPSBbXTtcblxuICAgICAgICAvLyBLaWxsIGRhZW1vbiBwcm9jZXNzIHdpdGggcmFjZSBjb25kaXRpb24gcHJvdGVjdGlvblxuICAgICAgICBjb25zdCBwcm9jZXNzUmVmID0gdGhpcy5kYWVtb25Qcm9jZXNzO1xuICAgICAgICBpZiAocHJvY2Vzc1JlZiAmJiAhcHJvY2Vzc1JlZi5raWxsZWQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gVHJ5IGdyYWNlZnVsIHNodXRkb3duIGZpcnN0XG4gICAgICAgICAgICAgICAgY29uc3Qgc2h1dGRvd25Db21tYW5kOiBEYWVtb25Db21tYW5kID0geyBjb21tYW5kOiAnc2h1dGRvd24nIH07XG4gICAgICAgICAgICAgICAgcHJvY2Vzc1JlZi5zdGRpbj8ud3JpdGUoSlNPTi5zdHJpbmdpZnkoc2h1dGRvd25Db21tYW5kKSArICdcXG4nKTtcblxuICAgICAgICAgICAgICAgIC8vIFdhaXQgYnJpZWZseSBmb3IgZ3JhY2VmdWwgc2h1dGRvd25cbiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMjAwMCkpO1xuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgcHJvY2VzcyBzdGlsbCBleGlzdHMgYW5kIGlzbid0IGtpbGxlZFxuICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzUmVmICYmICFwcm9jZXNzUmVmLmtpbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzUmVmLmtpbGwoJ1NJR1RFUk0nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdbREFFTU9OXSBFcnJvciBkdXJpbmcgc2h1dGRvd246JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzUmVmICYmICFwcm9jZXNzUmVmLmtpbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzUmVmLmtpbGwoJ1NJR0tJTEwnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRhZW1vblByb2Nlc3MgPSBudWxsO1xuICAgICAgICB0aGlzLmlzU2h1dHRpbmdEb3duID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RhcnR1cFByb21pc2UgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBicmlkZ2UgcGF0aCBmb3IgZGFlbW9uIHNjcmlwdCBsb2NhdGlvbiB1c2luZyB2YXVsdC1hd2FyZSBwYXRoIHJlc29sdXRpb25cbiAgICAgKiBAcHVycG9zZTogQ2xlYW4gcGF0aCByZXNvbHV0aW9uIHVzaW5nIFZhdWx0UmVnaXN0cnlTZXJ2aWNlIEBkZXBlbmRzOiBWYXVsdFJlZ2lzdHJ5U2VydmljZSBAcmVzdWx0czogQ29ycmVjdCBicmlkZ2UgcGF0aCBmb3IgY3VycmVudCB2YXVsdFxuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0QnJpZGdlUGF0aCgpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG5cbiAgICAgICAgLy8gVHJ5IHZhdWx0LWF3YXJlIHBhdGggcmVzb2x1dGlvbiBmaXJzdFxuICAgICAgICBsZXQgYWN0aXZlVmF1bHQgPSB0aGlzLnZhdWx0UmVnaXN0cnkuZ2V0QWN0aXZlVmF1bHQoKTtcbiAgICAgICAgaWYgKCFhY3RpdmVWYXVsdCkge1xuICAgICAgICAgICAgLy8gRW5zdXJlIGFjdGl2ZSB2YXVsdCBpcyBzZXQgaWYgbm90IGFscmVhZHkgZG9uZVxuICAgICAgICAgICAgdGhpcy52YXVsdFJlZ2lzdHJ5LmVuc3VyZUFjdGl2ZVZhdWx0KCk7XG4gICAgICAgICAgICBhY3RpdmVWYXVsdCA9IHRoaXMudmF1bHRSZWdpc3RyeS5nZXRBY3RpdmVWYXVsdCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhY3RpdmVWYXVsdD8ucGF0aCkge1xuICAgICAgICAgICAgY29uc3QgdmF1bHRCcmlkZ2VQYXRoID0gam9pbihhY3RpdmVWYXVsdC5wYXRoLCAnLm9ic2lkaWFuJywgJ3BsdWdpbnMnLCAnbWVnYW1lbS1tY3AnLCAnZ3JhcGhpdGlfYnJpZGdlJyk7XG4gICAgICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyhqb2luKHZhdWx0QnJpZGdlUGF0aCwgJ3N5bmNfZGFlbW9uLnB5JykpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tEQUVNT05dIFVzaW5nIHZhdWx0LWF3YXJlIGJyaWRnZSBwYXRoJywgeyBwYXRoOiB2YXVsdEJyaWRnZVBhdGggfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhdWx0QnJpZGdlUGF0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZhbGxiYWNrIHRvIHBsdWdpbiBtYW5pZmVzdCBkaXJlY3Rvcnkgd2l0aCBhYnNvbHV0ZSBwYXRoXG4gICAgICAgIGNvbnN0IG1hbmlmZXN0RGlyID0gKHRoaXMucGx1Z2luIGFzIGFueSk/Lm1hbmlmZXN0Py5kaXIgfHwgJyc7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRWYXVsdFBhdGggPSAoKHRoaXMucGx1Z2luIGFzIGFueSkuYXBwPy52YXVsdD8uYWRhcHRlciBhcyBhbnkpPy5iYXNlUGF0aCB8fCAnJztcbiAgICAgICAgY29uc3QgZmFsbGJhY2tQYXRoID0gY3VycmVudFZhdWx0UGF0aCA/IGpvaW4oY3VycmVudFZhdWx0UGF0aCwgbWFuaWZlc3REaXIsICdncmFwaGl0aV9icmlkZ2UnKSA6IGpvaW4obWFuaWZlc3REaXIsICdncmFwaGl0aV9icmlkZ2UnKTtcblxuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW0RBRU1PTl0gVXNpbmcgZmFsbGJhY2sgYnJpZGdlIHBhdGgnLCB7XG4gICAgICAgICAgICBwYXRoOiBmYWxsYmFja1BhdGgsXG4gICAgICAgICAgICB2YXVsdFBhdGg6IGFjdGl2ZVZhdWx0Py5wYXRoIHx8ICdub25lJyxcbiAgICAgICAgICAgIG1hbmlmZXN0RGlyLFxuICAgICAgICAgICAgY3VycmVudFZhdWx0UGF0aFxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZmFsbGJhY2tQYXRoO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0UGx1Z2luRGlyZWN0b3J5KCk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTtcbiAgICAgICAgbGV0IGFjdGl2ZVZhdWx0ID0gdGhpcy52YXVsdFJlZ2lzdHJ5LmdldEFjdGl2ZVZhdWx0KCk7XG4gICAgICAgIGlmICghYWN0aXZlVmF1bHQpIHtcbiAgICAgICAgICAgIHRoaXMudmF1bHRSZWdpc3RyeS5lbnN1cmVBY3RpdmVWYXVsdCgpO1xuICAgICAgICAgICAgYWN0aXZlVmF1bHQgPSB0aGlzLnZhdWx0UmVnaXN0cnkuZ2V0QWN0aXZlVmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWN0aXZlVmF1bHQ/LnBhdGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhdWx0UGx1Z2luUGF0aCA9IGpvaW4oYWN0aXZlVmF1bHQucGF0aCwgJy5vYnNpZGlhbicsICdwbHVnaW5zJywgJ21lZ2FtZW0tbWNwJyk7XG4gICAgICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyh2YXVsdFBsdWdpblBhdGgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhdWx0UGx1Z2luUGF0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtYW5pZmVzdERpciA9ICh0aGlzLnBsdWdpbiBhcyBhbnkpPy5tYW5pZmVzdD8uZGlyIHx8ICcnO1xuICAgICAgICBjb25zdCBjdXJyZW50VmF1bHRQYXRoID0gKCh0aGlzLnBsdWdpbiBhcyBhbnkpLmFwcD8udmF1bHQ/LmFkYXB0ZXIgYXMgYW55KT8uYmFzZVBhdGggfHwgJyc7XG4gICAgICAgIHJldHVybiBjdXJyZW50VmF1bHRQYXRoID8gam9pbihjdXJyZW50VmF1bHRQYXRoLCBtYW5pZmVzdERpcikgOiBtYW5pZmVzdERpcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFB5dGhvbkV4ZWN1dGFibGUoKTogc3RyaW5nIHtcbiAgICAgICAgLy8gVXNlIHRoZSBleGlzdGluZyBnZXRQeXRob25FbnYgbWV0aG9kIHdoaWNoIGlzIHN5bmNocm9ub3VzXG4gICAgICAgIGNvbnN0IGVudiA9IHRoaXMucHl0aG9uSW5zdGFsbGVyLmdldFB5dGhvbkVudigpO1xuICAgICAgICBjb25zdCBweXRob25QYXRoID0gZW52LlBZVEhPTl9FWEVDVVRBQkxFO1xuICAgICAgICBpZiAoIXB5dGhvblBhdGgpIHtcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoJ1B5dGhvbiBlbnZpcm9ubWVudCBub3QgY29uZmlndXJlZC4gUGxlYXNlIHJ1biBQeXRob24gaW5zdGFsbGF0aW9uIGZyb20gc2V0dGluZ3MuJyk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1B5dGhvbiBlbnZpcm9ubWVudCBub3QgY29uZmlndXJlZCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBweXRob25QYXRoO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0UHl0aG9uRW52KCk6IE5vZGVKUy5Qcm9jZXNzRW52IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHl0aG9uSW5zdGFsbGVyLmdldFB5dGhvbkVudigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGRhZW1vbiBpcyBydW5uaW5nXG4gICAgICovXG4gICAgaXNSdW5uaW5nKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gISEodGhpcy5kYWVtb25Qcm9jZXNzICYmICF0aGlzLmRhZW1vblByb2Nlc3Mua2lsbGVkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgZGFlbW9uIHN0YXR1cyBmb3IgbW9uaXRvcmluZ1xuICAgICAqL1xuICAgIGdldFN0YXR1cygpOiB7IHJ1bm5pbmc6IGJvb2xlYW47IHF1ZXVlTGVuZ3RoOiBudW1iZXI7IHByb2Nlc3Npbmc6IGJvb2xlYW4gfSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBydW5uaW5nOiB0aGlzLmlzUnVubmluZygpLFxuICAgICAgICAgICAgcXVldWVMZW5ndGg6IHRoaXMuY29tbWFuZFF1ZXVlLmxlbmd0aCxcbiAgICAgICAgICAgIHByb2Nlc3Npbmc6IHRoaXMuaXNQcm9jZXNzaW5nXG4gICAgICAgIH07XG4gICAgfVxufSIsIi8vIEBwdXJwb3NlOiBMTE0tYXNzaXN0ZWQgc2NoZW1hIGdlbmVyYXRpb24gc2VydmljZSBmb3IgQUktZW5oYW5jZWQgbW9kZWwgY3JlYXRpb25cbi8vIEBkZXBlbmRzOiBHcmFwaGl0aVBsdWdpbiwgU2V0dGluZ3MsIExMTUdlbmVyYXRpb24gdHlwZXNcbi8vIEByZXN1bHRzOiBBSS1wb3dlcmVkIGVudGl0eSBkZXNjcmlwdGlvbnMsIGVkZ2Ugc3VnZ2VzdGlvbnMsIGFuZCBjb21wbGV0ZSBvbnRvbG9neSBnZW5lcmF0aW9uXG5cbmltcG9ydCB7IFBsdWdpbiwgVEZpbGUsIHJlcXVlc3RVcmwgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgdHlwZSB7IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3MgfSBmcm9tICcuLi90eXBlcy9TZXR0aW5ncyc7XG5pbXBvcnQgdHlwZSB7IEVkZ2VUeXBlU3VnZ2VzdGlvbiwgRWRnZU1hcHBpbmdTdWdnZXN0aW9uLCBDb21wbGV0ZU9udG9sb2d5IH0gZnJvbSAnLi4vdHlwZXMvTExNR2VuZXJhdGlvbic7XG5pbXBvcnQgeyBHcmFwaGl0aUxvZ2dlciB9IGZyb20gJy4uL3V0aWxzL0xvZ2dlcic7XG5cbmludGVyZmFjZSBMTE1NZXNzYWdlIHtcbiAgICByb2xlOiAnc3lzdGVtJyB8ICd1c2VyJyB8ICdhc3Npc3RhbnQnO1xuICAgIGNvbnRlbnQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIFNpbXBsZUxMTVNlcnZpY2Uge1xuICAgIHByaXZhdGUgcGx1Z2luOiBQbHVnaW47XG4gICAgcHJpdmF0ZSBzZXR0aW5nczogR3JhcGhpdGlQbHVnaW5TZXR0aW5ncztcbiAgICBwcml2YXRlIGxvZ2dlcjogR3JhcGhpdGlMb2dnZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihwbHVnaW46IFBsdWdpbikge1xuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IChwbHVnaW4gYXMgYW55KS5zZXR0aW5ncztcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBuZXcgR3JhcGhpdGlMb2dnZXIocGx1Z2luLCB0aGlzLnNldHRpbmdzLmVuYWJsZURlYnVnTG9nZ2luZyk7XG4gICAgfVxuXG4gICAgLy8gQHB1cnBvc2U6IEdlbmVyYXRlIGVudGl0eSBkZXNjcmlwdGlvbiB1c2luZyBMTE1cbiAgICAvLyBAZGVwZW5kczogTExNIHByb3ZpZGVyIHNldHRpbmdzLCBBUEkga2V5c1xuICAgIC8vIEByZXN1bHRzOiBBSS1nZW5lcmF0ZWQgZW50aXR5IGRlc2NyaXB0aW9uXG4gICAgYXN5bmMgZ2VuZXJhdGVFbnRpdHlEZXNjcmlwdGlvbihlbnRpdHlOYW1lOiBzdHJpbmcsIHNhbXBsZURhdGE/OiBzdHJpbmdbXSk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIGlmICghdGhpcy52YWxpZGF0ZUFQSUtleSgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFQSSBrZXkgbm90IGNvbmZpZ3VyZWQgZm9yICR7dGhpcy5zZXR0aW5ncy5sbG1Qcm92aWRlcn1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN5c3RlbVByb21wdCA9IGBZb3UgYXJlIGEga25vd2xlZGdlIGdyYXBoIHNjaGVtYSBkZXNpZ25lci4gR2VuZXJhdGUgYSBjb25jaXNlLCBjbGVhciBkZXNjcmlwdGlvbiAoMS0yIHNlbnRlbmNlcykgZm9yIGVudGl0eSB0eXBlcy5gO1xuICAgICAgICBcbiAgICAgICAgbGV0IHVzZXJQcm9tcHQgPSBgR2VuZXJhdGUgYSBkZXNjcmlwdGlvbiBmb3IgdGhlIGVudGl0eSB0eXBlIFwiJHtlbnRpdHlOYW1lfVwiLmA7XG4gICAgICAgIGlmIChzYW1wbGVEYXRhICYmIHNhbXBsZURhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdXNlclByb21wdCArPSBgXFxuXFxuRXhhbXBsZSBpbnN0YW5jZXM6XFxuJHtzYW1wbGVEYXRhLnNsaWNlKDAsIDMpLmpvaW4oJ1xcbicpfWA7XG4gICAgICAgIH1cbiAgICAgICAgdXNlclByb21wdCArPSAnXFxuXFxuUmVzcG9uZCB3aXRoIG9ubHkgdGhlIGRlc2NyaXB0aW9uLCBubyBwcmVhbWJsZS4nO1xuXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNhbGxMTE0odXNlclByb21wdCwgc3lzdGVtUHJvbXB0KTtcbiAgICB9XG5cbiAgICAvLyBAcHVycG9zZTogR2VuZXJhdGUgcHJvcGVydHkgZGVzY3JpcHRpb24gdXNpbmcgTExNXG4gICAgLy8gQGRlcGVuZHM6IExMTSBwcm92aWRlciBzZXR0aW5ncywgZW50aXR5IGNvbnRleHRcbiAgICAvLyBAcmVzdWx0czogQUktZ2VuZXJhdGVkIHByb3BlcnR5IGRlc2NyaXB0aW9uXG4gICAgYXN5bmMgZ2VuZXJhdGVQcm9wZXJ0eURlc2NyaXB0aW9uKFxuICAgICAgICBlbnRpdHlUeXBlOiBzdHJpbmcsXG4gICAgICAgIHByb3BlcnR5TmFtZTogc3RyaW5nLFxuICAgICAgICBzYW1wbGVzPzogc3RyaW5nW11cbiAgICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgICAgICBpZiAoIXRoaXMudmFsaWRhdGVBUElLZXkoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBUEkga2V5IG5vdCBjb25maWd1cmVkIGZvciAke3RoaXMuc2V0dGluZ3MubGxtUHJvdmlkZXJ9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzeXN0ZW1Qcm9tcHQgPSBgWW91IGFyZSBhIGtub3dsZWRnZSBncmFwaCBzY2hlbWEgZGVzaWduZXIuIEdlbmVyYXRlIGNvbmNpc2UgZGVzY3JpcHRpb25zICgxIHNlbnRlbmNlKSBmb3IgZW50aXR5IHByb3BlcnRpZXMuYDtcbiAgICAgICAgXG4gICAgICAgIGxldCB1c2VyUHJvbXB0ID0gYEdlbmVyYXRlIGEgZGVzY3JpcHRpb24gZm9yIHRoZSBwcm9wZXJ0eSBcIiR7cHJvcGVydHlOYW1lfVwiIG9uIGVudGl0eSB0eXBlIFwiJHtlbnRpdHlUeXBlfVwiLmA7XG4gICAgICAgIGlmIChzYW1wbGVzICYmIHNhbXBsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdXNlclByb21wdCArPSBgXFxuXFxuRXhhbXBsZSB2YWx1ZXM6XFxuJHtzYW1wbGVzLnNsaWNlKDAsIDUpLmpvaW4oJ1xcbicpfWA7XG4gICAgICAgIH1cbiAgICAgICAgdXNlclByb21wdCArPSAnXFxuXFxuUmVzcG9uZCB3aXRoIG9ubHkgdGhlIGRlc2NyaXB0aW9uLCBubyBwcmVhbWJsZS4nO1xuXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNhbGxMTE0odXNlclByb21wdCwgc3lzdGVtUHJvbXB0KTtcbiAgICB9XG5cbiAgICAvLyBAcHVycG9zZTogU3VnZ2VzdCBlZGdlIHR5cGVzIGZvciBlbnRpdHkgcGFpclxuICAgIC8vIEBkZXBlbmRzOiBMTE0gcHJvdmlkZXIsIGVudGl0eSBjb250ZXh0XG4gICAgLy8gQHJlc3VsdHM6IExpc3Qgb2Ygc3VnZ2VzdGVkIGVkZ2UgdHlwZXMgd2l0aCBjb25maWRlbmNlIHNjb3Jlc1xuICAgIGFzeW5jIHN1Z2dlc3RFZGdlVHlwZXMoXG4gICAgICAgIHNvdXJjZUVudGl0eTogc3RyaW5nLFxuICAgICAgICB0YXJnZXRFbnRpdHk6IHN0cmluZ1xuICAgICk6IFByb21pc2U8RWRnZVR5cGVTdWdnZXN0aW9uW10+IHtcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlQVBJS2V5KCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQVBJIGtleSBub3QgY29uZmlndXJlZCBmb3IgJHt0aGlzLnNldHRpbmdzLmxsbVByb3ZpZGVyfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3lzdGVtUHJvbXB0ID0gYFlvdSBhcmUgYSBrbm93bGVkZ2UgZ3JhcGggZGVzaWduZXIuIFN1Z2dlc3QgZWRnZSB0eXBlcyB0aGF0IGNvdWxkIGNvbm5lY3QgdHdvIGVudGl0eSB0eXBlcy5gO1xuICAgICAgICBjb25zdCB1c2VyUHJvbXB0ID0gYFN1Z2dlc3QgMS0zIGVkZ2UgdHlwZXMgZnJvbSBcIiR7c291cmNlRW50aXR5fVwiIHRvIFwiJHt0YXJnZXRFbnRpdHl9XCIuXG5cblJlc3BvbmQgd2l0aCBKU09OIG9ubHkgKG5vIG1hcmtkb3duKTpcbltcbiAge1wiY2xhc3NOYW1lXCI6IFwiRWRnZU5hbWVcIiwgXCJkZXNjcmlwdGlvblwiOiBcIkJyaWVmIGRlc2NyaXB0aW9uXCIsIFwiY29uZmlkZW5jZVwiOiAwLjl9XG5dYDtcblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2FsbExMTSh1c2VyUHJvbXB0LCBzeXN0ZW1Qcm9tcHQpO1xuICAgICAgICBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNsZWFuZWQgPSByZXNwb25zZS5yZXBsYWNlKC9gYGBqc29uXFxuPy9nLCAnJykucmVwbGFjZSgvYGBgXFxuPy9nLCAnJykudHJpbSgpO1xuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoY2xlYW5lZCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHBhcnNlIGVkZ2UgdHlwZSBzdWdnZXN0aW9ucycsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEBwdXJwb3NlOiBTdWdnZXN0IGVkZ2UgbWFwcGluZ3MgZm9yIG11bHRpcGxlIGVudGl0aWVzXG4gICAgLy8gQGRlcGVuZHM6IExMTSBwcm92aWRlciwgZW50aXR5IHNjaGVtYVxuICAgIC8vIEByZXN1bHRzOiBDb21wbGV0ZSBlZGdlIG1hcHBpbmcgc3VnZ2VzdGlvbnNcbiAgICBhc3luYyBzdWdnZXN0RWRnZU1hcHBpbmdzKGVudGl0aWVzOiBzdHJpbmdbXSk6IFByb21pc2U8RWRnZU1hcHBpbmdTdWdnZXN0aW9uW10+IHtcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlQVBJS2V5KCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQVBJIGtleSBub3QgY29uZmlndXJlZCBmb3IgJHt0aGlzLnNldHRpbmdzLmxsbVByb3ZpZGVyfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3lzdGVtUHJvbXB0ID0gYFlvdSBhcmUgYSBrbm93bGVkZ2UgZ3JhcGggZGVzaWduZXIuIENyZWF0ZSByZWxhdGlvbnNoaXAgbWFwcGluZ3MgYmV0d2VlbiBlbnRpdHkgdHlwZXMuYDtcbiAgICAgICAgY29uc3QgdXNlclByb21wdCA9IGBDcmVhdGUgZWRnZSBtYXBwaW5ncyBmb3IgdGhlc2UgZW50aXR5IHR5cGVzOiAke2VudGl0aWVzLmpvaW4oJywgJyl9LlxuXG5SZXNwb25kIHdpdGggSlNPTiBvbmx5IChubyBtYXJrZG93bik6XG5bXG4gIHtcInNvdXJjZVwiOiBcIkVudGl0eUFcIiwgXCJ0YXJnZXRcIjogXCJFbnRpdHlCXCIsIFwiZWRnZVR5cGVzXCI6IFtcIkVkZ2VUeXBlMVwiLCBcIkVkZ2VUeXBlMlwiXX1cbl1gO1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jYWxsTExNKHVzZXJQcm9tcHQsIHN5c3RlbVByb21wdCk7XG4gICAgICAgIFxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY2xlYW5lZCA9IHJlc3BvbnNlLnJlcGxhY2UoL2BgYGpzb25cXG4/L2csICcnKS5yZXBsYWNlKC9gYGBcXG4/L2csICcnKS50cmltKCk7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShjbGVhbmVkKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gcGFyc2UgZWRnZSBtYXBwaW5ncycsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEBwdXJwb3NlOiBHZW5lcmF0ZSBjb21wbGV0ZSBvbnRvbG9neSBmcm9tIGVudGl0eSBsaXN0XG4gICAgLy8gQGRlcGVuZHM6IExMTSBwcm92aWRlciwgc2FtcGxlIG5vdGVzXG4gICAgLy8gQHJlc3VsdHM6IENvbXBsZXRlIG9udG9sb2d5IHdpdGggZW50aXRpZXMsIHByb3BlcnRpZXMsIGVkZ2VzXG4gICAgYXN5bmMgZ2VuZXJhdGVDb21wbGV0ZU9udG9sb2d5KGVudGl0aWVzOiBzdHJpbmdbXSk6IFByb21pc2U8Q29tcGxldGVPbnRvbG9neT4ge1xuICAgICAgICBpZiAoIXRoaXMudmFsaWRhdGVBUElLZXkoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBUEkga2V5IG5vdCBjb25maWd1cmVkIGZvciAke3RoaXMuc2V0dGluZ3MubGxtUHJvdmlkZXJ9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzeXN0ZW1Qcm9tcHQgPSBgWW91IGFyZSBhIGtub3dsZWRnZSBncmFwaCBhcmNoaXRlY3QuIERlc2lnbiBjb21wbGV0ZSBvbnRvbG9naWVzIHdpdGggZW50aXRpZXMsIHByb3BlcnRpZXMsIGFuZCByZWxhdGlvbnNoaXBzLmA7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB1c2VyUHJvbXB0ID0gYERlc2lnbiBhIGNvbXBsZXRlIG9udG9sb2d5IGZvciB0aGVzZSBlbnRpdHkgdHlwZXM6ICR7ZW50aXRpZXMuam9pbignLCAnKX0uXG5cbkZvciBlYWNoIGVudGl0eSwgcHJvdmlkZTpcbjEuIEEgZGVzY3JpcHRpb25cbjIuIENvbW1vbiBwcm9wZXJ0aWVzIHdpdGggZGVzY3JpcHRpb25zIGFuZCBmaWVsZCB0eXBlcyAoc3RyLCBpbnQsIGZsb2F0LCBib29sLCBkYXRldGltZSwgTGlzdFtzdHJdKVxuMy4gRWRnZSB0eXBlcyB0aGF0IGNvbm5lY3QgZW50aXRpZXNcbjQuIEVudGl0eS10by1lbnRpdHkgbWFwcGluZ3NcblxuUmVzcG9uZCB3aXRoIEpTT04gb25seSAobm8gbWFya2Rvd24pOlxue1xuICBcImVudGl0aWVzXCI6IHtcbiAgICBcIkVudGl0eU5hbWVcIjoge1wiZGVzY3JpcHRpb25cIjogXCIuLi5cIiwgXCJjb25maWRlbmNlXCI6IDAuOX1cbiAgfSxcbiAgXCJwcm9wZXJ0aWVzXCI6IHtcbiAgICBcIkVudGl0eU5hbWVcIjoge1xuICAgICAgXCJwcm9wZXJ0eU5hbWVcIjoge1wiZGVzY3JpcHRpb25cIjogXCIuLi5cIiwgXCJmaWVsZFR5cGVcIjogXCJzdHJcIiwgXCJjb25maWRlbmNlXCI6IDAuOX1cbiAgICB9XG4gIH0sXG4gIFwiZWRnZVR5cGVzXCI6IHtcbiAgICBcIkVkZ2VUeXBlTmFtZVwiOiB7XCJkZXNjcmlwdGlvblwiOiBcIi4uLlwiLCBcImNvbmZpZGVuY2VcIjogMC45fVxuICB9LFxuICBcIm1hcHBpbmdzXCI6IFtcbiAgICB7XCJzb3VyY2VcIjogXCJFbnRpdHkxXCIsIFwidGFyZ2V0XCI6IFwiRW50aXR5MlwiLCBcImVkZ2VUeXBlc1wiOiBbXCJFZGdlVHlwZVwiXX1cbiAgXVxufWA7XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNhbGxMTE0odXNlclByb21wdCwgc3lzdGVtUHJvbXB0KTtcbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjbGVhbmVkID0gcmVzcG9uc2UucmVwbGFjZSgvYGBganNvblxcbj8vZywgJycpLnJlcGxhY2UoL2BgYFxcbj8vZywgJycpLnRyaW0oKTtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGNsZWFuZWQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBwYXJzZSBjb21wbGV0ZSBvbnRvbG9neScsIGVycm9yKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGdlbmVyYXRlIG9udG9sb2d5OiBJbnZhbGlkIExMTSByZXNwb25zZSBmb3JtYXQnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEBwdXJwb3NlOiBDYWxsIExMTSB3aXRoIHByb21wdCB1c2luZyBwcm92aWRlci1zcGVjaWZpYyBBUElcbiAgICAvLyBAZGVwZW5kczogU2V0dGluZ3MubGxtUHJvdmlkZXIsIFNldHRpbmdzLmFwaUtleXNcbiAgICAvLyBAcmVzdWx0czogTExNIHJlc3BvbnNlIHRleHRcbiAgICBwcml2YXRlIGFzeW5jIGNhbGxMTE0ocHJvbXB0OiBzdHJpbmcsIHN5c3RlbVByb21wdD86IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIGNvbnN0IHByb3ZpZGVyID0gdGhpcy5zZXR0aW5ncy5sbG1Qcm92aWRlcjtcbiAgICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLnNldHRpbmdzLmxsbU1vZGVsO1xuICAgICAgICBjb25zdCBhcGlLZXkgPSBwcm92aWRlciA9PT0gJ29sbGFtYScgPyAnJyA6ICh0aGlzLnNldHRpbmdzLmFwaUtleXNbcHJvdmlkZXIgYXMga2V5b2YgdHlwZW9mIHRoaXMuc2V0dGluZ3MuYXBpS2V5c10gfHwgJycpO1xuXG4gICAgICAgIGlmICghYXBpS2V5ICYmIHByb3ZpZGVyICE9PSAnb2xsYW1hJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBBUEkga2V5IGNvbmZpZ3VyZWQgZm9yICR7cHJvdmlkZXJ9YCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnQ2FsbGluZyBMTE0nLCB7IHByb3ZpZGVyLCBtb2RlbCB9KTtcblxuICAgICAgICBjb25zdCBtZXNzYWdlczogTExNTWVzc2FnZVtdID0gW107XG4gICAgICAgIGlmIChzeXN0ZW1Qcm9tcHQpIHtcbiAgICAgICAgICAgIG1lc3NhZ2VzLnB1c2goeyByb2xlOiAnc3lzdGVtJywgY29udGVudDogc3lzdGVtUHJvbXB0IH0pO1xuICAgICAgICB9XG4gICAgICAgIG1lc3NhZ2VzLnB1c2goeyByb2xlOiAndXNlcicsIGNvbnRlbnQ6IHByb21wdCB9KTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc3dpdGNoIChwcm92aWRlcikge1xuICAgICAgICAgICAgICAgIGNhc2UgJ29wZW5haSc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNhbGxPcGVuQUkobWVzc2FnZXMsIG1vZGVsLCBhcGlLZXkpO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2FudGhyb3BpYyc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNhbGxBbnRocm9waWMobWVzc2FnZXMsIG1vZGVsLCBhcGlLZXkpO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2dvb2dsZSc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNhbGxHb29nbGUobWVzc2FnZXMsIG1vZGVsLCBhcGlLZXkpO1xuICAgICAgICAgICAgICAgIGNhc2UgJ29sbGFtYSc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNhbGxPbGxhbWEobWVzc2FnZXMsIG1vZGVsKTtcbiAgICAgICAgICAgICAgICBjYXNlICdvcGVucm91dGVyJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuY2FsbE9wZW5Sb3V0ZXIobWVzc2FnZXMsIG1vZGVsLCBhcGlLZXkpO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgTExNIHByb3ZpZGVyOiAke3Byb3ZpZGVyfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0xMTSBjYWxsIGZhaWxlZCcsIGVycm9yKTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQHB1cnBvc2U6IENhbGwgT3BlbkFJIEFQSVxuICAgIHByaXZhdGUgYXN5bmMgY2FsbE9wZW5BSShtZXNzYWdlczogTExNTWVzc2FnZVtdLCBtb2RlbDogc3RyaW5nLCBhcGlLZXk6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdFVybCh7XG4gICAgICAgICAgICB1cmw6ICdodHRwczovL2FwaS5vcGVuYWkuY29tL3YxL2NoYXQvY29tcGxldGlvbnMnLFxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHthcGlLZXl9YFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlcyxcbiAgICAgICAgICAgICAgICB0ZW1wZXJhdHVyZTogMC43LFxuICAgICAgICAgICAgICAgIG1heF90b2tlbnM6IDEwMDBcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBPcGVuQUkgQVBJIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS50ZXh0fWApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGF0YSA9IHJlc3BvbnNlLmpzb247XG4gICAgICAgIHJldHVybiBkYXRhLmNob2ljZXNbMF0ubWVzc2FnZS5jb250ZW50O1xuICAgIH1cblxuICAgIC8vIEBwdXJwb3NlOiBDYWxsIEFudGhyb3BpYyBDbGF1ZGUgQVBJXG4gICAgcHJpdmF0ZSBhc3luYyBjYWxsQW50aHJvcGljKG1lc3NhZ2VzOiBMTE1NZXNzYWdlW10sIG1vZGVsOiBzdHJpbmcsIGFwaUtleTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgY29uc3Qgc3lzdGVtTXNnID0gbWVzc2FnZXMuZmluZChtID0+IG0ucm9sZSA9PT0gJ3N5c3RlbScpO1xuICAgICAgICBjb25zdCB1c2VyTWVzc2FnZXMgPSBtZXNzYWdlcy5maWx0ZXIobSA9PiBtLnJvbGUgIT09ICdzeXN0ZW0nKTtcblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3RVcmwoe1xuICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkuYW50aHJvcGljLmNvbS92MS9tZXNzYWdlcycsXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICd4LWFwaS1rZXknOiBhcGlLZXksXG4gICAgICAgICAgICAgICAgJ2FudGhyb3BpYy12ZXJzaW9uJzogJzIwMjMtMDYtMDEnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIG1vZGVsLFxuICAgICAgICAgICAgICAgIG1heF90b2tlbnM6IDEwMDAsXG4gICAgICAgICAgICAgICAgc3lzdGVtOiBzeXN0ZW1Nc2c/LmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgbWVzc2FnZXM6IHVzZXJNZXNzYWdlc1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFudGhyb3BpYyBBUEkgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnRleHR9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkYXRhID0gcmVzcG9uc2UuanNvbjtcbiAgICAgICAgcmV0dXJuIGRhdGEuY29udGVudFswXS50ZXh0O1xuICAgIH1cblxuICAgIC8vIEBwdXJwb3NlOiBDYWxsIEdvb2dsZSBHZW1pbmkgQVBJXG4gICAgcHJpdmF0ZSBhc3luYyBjYWxsR29vZ2xlKG1lc3NhZ2VzOiBMTE1NZXNzYWdlW10sIG1vZGVsOiBzdHJpbmcsIGFwaUtleTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgY29uc3QgY29udGVudHMgPSBtZXNzYWdlcy5tYXAobXNnID0+ICh7XG4gICAgICAgICAgICByb2xlOiBtc2cucm9sZSA9PT0gJ3VzZXInID8gJ3VzZXInIDogJ21vZGVsJyxcbiAgICAgICAgICAgIHBhcnRzOiBbeyB0ZXh0OiBtc2cuY29udGVudCB9XVxuICAgICAgICB9KSk7XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0VXJsKHtcbiAgICAgICAgICAgIHVybDogYGh0dHBzOi8vZ2VuZXJhdGl2ZWxhbmd1YWdlLmdvb2dsZWFwaXMuY29tL3YxYmV0YS9tb2RlbHMvJHttb2RlbH06Z2VuZXJhdGVDb250ZW50P2tleT0ke2FwaUtleX1gLFxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBjb250ZW50cyxcbiAgICAgICAgICAgICAgICBnZW5lcmF0aW9uQ29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBlcmF0dXJlOiAwLjcsXG4gICAgICAgICAgICAgICAgICAgIG1heE91dHB1dFRva2VuczogMTAwMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBHb29nbGUgQVBJIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS50ZXh0fWApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGF0YSA9IHJlc3BvbnNlLmpzb247XG4gICAgICAgIHJldHVybiBkYXRhLmNhbmRpZGF0ZXNbMF0uY29udGVudC5wYXJ0c1swXS50ZXh0O1xuICAgIH1cblxuICAgIC8vIEBwdXJwb3NlOiBDYWxsIE9sbGFtYSBsb2NhbCBBUElcbiAgICBwcml2YXRlIGFzeW5jIGNhbGxPbGxhbWEobWVzc2FnZXM6IExMTU1lc3NhZ2VbXSwgbW9kZWw6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIGNvbnN0IGJhc2VVcmwgPSB0aGlzLnNldHRpbmdzLm9sbGFtYUJhc2VVcmwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6MTE0MzQnO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0VXJsKHtcbiAgICAgICAgICAgIHVybDogYCR7YmFzZVVybH0vYXBpL2NoYXRgLFxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlcyxcbiAgICAgICAgICAgICAgICBzdHJlYW06IGZhbHNlXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgT2xsYW1hIEFQSSBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2UudGV4dH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZS5qc29uO1xuICAgICAgICByZXR1cm4gZGF0YS5tZXNzYWdlLmNvbnRlbnQ7XG4gICAgfVxuXG4gICAgLy8gQHB1cnBvc2U6IENhbGwgT3BlblJvdXRlciBBUElcbiAgICBwcml2YXRlIGFzeW5jIGNhbGxPcGVuUm91dGVyKG1lc3NhZ2VzOiBMTE1NZXNzYWdlW10sIG1vZGVsOiBzdHJpbmcsIGFwaUtleTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0VXJsKHtcbiAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vb3BlbnJvdXRlci5haS9hcGkvdjEvY2hhdC9jb21wbGV0aW9ucycsXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke2FwaUtleX1gLFxuICAgICAgICAgICAgICAgICdIVFRQLVJlZmVyZXInOiAnaHR0cHM6Ly9vYnNpZGlhbi5tZCcsXG4gICAgICAgICAgICAgICAgJ1gtVGl0bGUnOiAnT2JzaWRpYW4gTWVnYU1lbSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgbW9kZWwsXG4gICAgICAgICAgICAgICAgbWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgdGVtcGVyYXR1cmU6IDAuNyxcbiAgICAgICAgICAgICAgICBtYXhfdG9rZW5zOiAxMDAwXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgT3BlblJvdXRlciBBUEkgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnRleHR9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkYXRhID0gcmVzcG9uc2UuanNvbjtcbiAgICAgICAgcmV0dXJuIGRhdGEuY2hvaWNlc1swXS5tZXNzYWdlLmNvbnRlbnQ7XG4gICAgfVxuXG4gICAgLy8gQHB1cnBvc2U6IFZhbGlkYXRlIEFQSSBrZXkgZXhpc3RzIGZvciBjdXJyZW50IHByb3ZpZGVyXG4gICAgLy8gQGRlcGVuZHM6IFNldHRpbmdzLmFwaUtleXMsIFNldHRpbmdzLmxsbVByb3ZpZGVyXG4gICAgLy8gQHJlc3VsdHM6IEJvb2xlYW4gaW5kaWNhdGluZyBrZXkgdmFsaWRpdHlcbiAgICBwcml2YXRlIHZhbGlkYXRlQVBJS2V5KCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBwcm92aWRlciA9IHRoaXMuc2V0dGluZ3MubGxtUHJvdmlkZXI7XG4gICAgICAgIFxuICAgICAgICBpZiAocHJvdmlkZXIgPT09ICdvbGxhbWEnKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGFwaUtleSA9IHRoaXMuc2V0dGluZ3MuYXBpS2V5c1twcm92aWRlcl07XG4gICAgICAgIHJldHVybiAhIWFwaUtleSAmJiBhcGlLZXkubGVuZ3RoID4gMDtcbiAgICB9XG5cbiAgICAvLyBAcHVycG9zZTogRXh0cmFjdCBzYW1wbGUgbm90ZXMgZnJvbSB2YXVsdFxuICAgIC8vIEBkZXBlbmRzOiBPYnNpZGlhbiB2YXVsdCBBUElcbiAgICAvLyBAcmVzdWx0czogQXJyYXkgb2Ygbm90ZSBjb250ZW50IHNhbXBsZXNcbiAgICBwcml2YXRlIGFzeW5jIGdldFNhbXBsZU5vdGVzKGVudGl0eVR5cGU/OiBzdHJpbmcsIGxpbWl0OiBudW1iZXIgPSA1KTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZmlsZXMgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xuICAgICAgICAgICAgY29uc3Qgc2FtcGxlczogc3RyaW5nW10gPSBbXTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNhbXBsZXMubGVuZ3RoID49IGxpbWl0KSBicmVhaztcblxuICAgICAgICAgICAgICAgIGlmIChlbnRpdHlUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5wbHVnaW4uYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmcm9udG1hdHRlciA9IGNhY2hlPy5mcm9udG1hdHRlcjtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChmcm9udG1hdHRlcj8udHlwZSA9PT0gZW50aXR5VHlwZSB8fCBmcm9udG1hdHRlcj8uZW50aXR5X3R5cGUgPT09IGVudGl0eVR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQucmVhZChmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhbXBsZXMucHVzaChjb250ZW50LnN1YnN0cmluZygwLCA1MDApKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQucmVhZChmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlcy5wdXNoKGNvbnRlbnQuc3Vic3RyaW5nKDAsIDUwMCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnRXh0cmFjdGVkIHNhbXBsZSBub3RlcycsIHsgZW50aXR5VHlwZSwgY291bnQ6IHNhbXBsZXMubGVuZ3RoIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHNhbXBsZXM7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGV4dHJhY3Qgc2FtcGxlIG5vdGVzJywgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQHB1cnBvc2U6IFVwZGF0ZSBzZXR0aW5ncyByZWZlcmVuY2Ugd2hlbiBjaGFuZ2VkXG4gICAgLy8gQGRlcGVuZHM6IFBsdWdpbiBzZXR0aW5ncyB1cGRhdGVzXG4gICAgLy8gQHJlc3VsdHM6IFVwZGF0ZWQgaW50ZXJuYWwgc2V0dGluZ3MgcmVmZXJlbmNlXG4gICAgdXBkYXRlU2V0dGluZ3Moc2V0dGluZ3M6IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3MpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgICAgICB0aGlzLmxvZ2dlci5zZXREZWJ1ZyhzZXR0aW5ncy5lbmFibGVEZWJ1Z0xvZ2dpbmcpO1xuICAgIH1cbn0iLCIvKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gbm9vcCgpIHt9XG5cbmV4cG9ydCBjb25zdCBpZGVudGl0eSA9ICh4KSA9PiB4O1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdGVtcGxhdGUgU1xuICogQHBhcmFtIHtUfSB0YXJcbiAqIEBwYXJhbSB7U30gc3JjXG4gKiBAcmV0dXJucyB7VCAmIFN9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ24odGFyLCBzcmMpIHtcblx0Ly8gQHRzLWlnbm9yZVxuXHRmb3IgKGNvbnN0IGsgaW4gc3JjKSB0YXJba10gPSBzcmNba107XG5cdHJldHVybiAvKiogQHR5cGUge1QgJiBTfSAqLyAodGFyKTtcbn1cblxuLy8gQWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS90aGVuL2lzLXByb21pc2UvYmxvYi9tYXN0ZXIvaW5kZXguanNcbi8vIERpc3RyaWJ1dGVkIHVuZGVyIE1JVCBMaWNlbnNlIGh0dHBzOi8vZ2l0aHViLmNvbS90aGVuL2lzLXByb21pc2UvYmxvYi9tYXN0ZXIvTElDRU5TRVxuLyoqXG4gKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAqIEByZXR1cm5zIHt2YWx1ZSBpcyBQcm9taXNlTGlrZTxhbnk+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNfcHJvbWlzZSh2YWx1ZSkge1xuXHRyZXR1cm4gKFxuXHRcdCEhdmFsdWUgJiZcblx0XHQodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpICYmXG5cdFx0dHlwZW9mICgvKiogQHR5cGUge2FueX0gKi8gKHZhbHVlKS50aGVuKSA9PT0gJ2Z1bmN0aW9uJ1xuXHQpO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gYWRkX2xvY2F0aW9uKGVsZW1lbnQsIGZpbGUsIGxpbmUsIGNvbHVtbiwgY2hhcikge1xuXHRlbGVtZW50Ll9fc3ZlbHRlX21ldGEgPSB7XG5cdFx0bG9jOiB7IGZpbGUsIGxpbmUsIGNvbHVtbiwgY2hhciB9XG5cdH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBydW4oZm4pIHtcblx0cmV0dXJuIGZuKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBibGFua19vYmplY3QoKSB7XG5cdHJldHVybiBPYmplY3QuY3JlYXRlKG51bGwpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RnVuY3Rpb25bXX0gZm5zXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJ1bl9hbGwoZm5zKSB7XG5cdGZucy5mb3JFYWNoKHJ1bik7XG59XG5cbi8qKlxuICogQHBhcmFtIHthbnl9IHRoaW5nXG4gKiBAcmV0dXJucyB7dGhpbmcgaXMgRnVuY3Rpb259XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19mdW5jdGlvbih0aGluZykge1xuXHRyZXR1cm4gdHlwZW9mIHRoaW5nID09PSAnZnVuY3Rpb24nO1xufVxuXG4vKiogQHJldHVybnMge2Jvb2xlYW59ICovXG5leHBvcnQgZnVuY3Rpb24gc2FmZV9ub3RfZXF1YWwoYSwgYikge1xuXHRyZXR1cm4gYSAhPSBhID8gYiA9PSBiIDogYSAhPT0gYiB8fCAoYSAmJiB0eXBlb2YgYSA9PT0gJ29iamVjdCcpIHx8IHR5cGVvZiBhID09PSAnZnVuY3Rpb24nO1xufVxuXG5sZXQgc3JjX3VybF9lcXVhbF9hbmNob3I7XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGVsZW1lbnRfc3JjXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNyY191cmxfZXF1YWwoZWxlbWVudF9zcmMsIHVybCkge1xuXHRpZiAoZWxlbWVudF9zcmMgPT09IHVybCkgcmV0dXJuIHRydWU7XG5cdGlmICghc3JjX3VybF9lcXVhbF9hbmNob3IpIHtcblx0XHRzcmNfdXJsX2VxdWFsX2FuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcblx0fVxuXHQvLyBUaGlzIGlzIGFjdHVhbGx5IGZhc3RlciB0aGFuIGRvaW5nIFVSTCguLikuaHJlZlxuXHRzcmNfdXJsX2VxdWFsX2FuY2hvci5ocmVmID0gdXJsO1xuXHRyZXR1cm4gZWxlbWVudF9zcmMgPT09IHNyY191cmxfZXF1YWxfYW5jaG9yLmhyZWY7XG59XG5cbi8qKiBAcGFyYW0ge3N0cmluZ30gc3Jjc2V0ICovXG5mdW5jdGlvbiBzcGxpdF9zcmNzZXQoc3Jjc2V0KSB7XG5cdHJldHVybiBzcmNzZXQuc3BsaXQoJywnKS5tYXAoKHNyYykgPT4gc3JjLnRyaW0oKS5zcGxpdCgnICcpLmZpbHRlcihCb29sZWFuKSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MU291cmNlRWxlbWVudCB8IEhUTUxJbWFnZUVsZW1lbnR9IGVsZW1lbnRfc3Jjc2V0XG4gKiBAcGFyYW0ge3N0cmluZyB8IHVuZGVmaW5lZCB8IG51bGx9IHNyY3NldFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcmNzZXRfdXJsX2VxdWFsKGVsZW1lbnRfc3Jjc2V0LCBzcmNzZXQpIHtcblx0Y29uc3QgZWxlbWVudF91cmxzID0gc3BsaXRfc3Jjc2V0KGVsZW1lbnRfc3Jjc2V0LnNyY3NldCk7XG5cdGNvbnN0IHVybHMgPSBzcGxpdF9zcmNzZXQoc3Jjc2V0IHx8ICcnKTtcblxuXHRyZXR1cm4gKFxuXHRcdHVybHMubGVuZ3RoID09PSBlbGVtZW50X3VybHMubGVuZ3RoICYmXG5cdFx0dXJscy5ldmVyeShcblx0XHRcdChbdXJsLCB3aWR0aF0sIGkpID0+XG5cdFx0XHRcdHdpZHRoID09PSBlbGVtZW50X3VybHNbaV1bMV0gJiZcblx0XHRcdFx0Ly8gV2UgbmVlZCB0byB0ZXN0IGJvdGggd2F5cyBiZWNhdXNlIFZpdGUgd2lsbCBjcmVhdGUgYW4gYSBmdWxsIFVSTCB3aXRoXG5cdFx0XHRcdC8vIGBuZXcgVVJMKGFzc2V0LCBpbXBvcnQubWV0YS51cmwpLmhyZWZgIGZvciB0aGUgY2xpZW50IHdoZW4gYGJhc2U6ICcuLydgLCBhbmQgdGhlXG5cdFx0XHRcdC8vIHJlbGF0aXZlIFVSTHMgaW5zaWRlIHNyY3NldCBhcmUgbm90IGF1dG9tYXRpY2FsbHkgcmVzb2x2ZWQgdG8gYWJzb2x1dGUgVVJMcyBieVxuXHRcdFx0XHQvLyBicm93c2VycyAoaW4gY29udHJhc3QgdG8gaW1nLnNyYykuIFRoaXMgbWVhbnMgYm90aCBTU1IgYW5kIERPTSBjb2RlIGNvdWxkXG5cdFx0XHRcdC8vIGNvbnRhaW4gcmVsYXRpdmUgb3IgYWJzb2x1dGUgVVJMcy5cblx0XHRcdFx0KHNyY191cmxfZXF1YWwoZWxlbWVudF91cmxzW2ldWzBdLCB1cmwpIHx8IHNyY191cmxfZXF1YWwodXJsLCBlbGVtZW50X3VybHNbaV1bMF0pKVxuXHRcdClcblx0KTtcbn1cblxuLyoqIEByZXR1cm5zIHtib29sZWFufSAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vdF9lcXVhbChhLCBiKSB7XG5cdHJldHVybiBhICE9IGEgPyBiID09IGIgOiBhICE9PSBiO1xufVxuXG4vKiogQHJldHVybnMge2Jvb2xlYW59ICovXG5leHBvcnQgZnVuY3Rpb24gaXNfZW1wdHkob2JqKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhvYmopLmxlbmd0aCA9PT0gMDtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlX3N0b3JlKHN0b3JlLCBuYW1lKSB7XG5cdGlmIChzdG9yZSAhPSBudWxsICYmIHR5cGVvZiBzdG9yZS5zdWJzY3JpYmUgIT09ICdmdW5jdGlvbicpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYCcke25hbWV9JyBpcyBub3QgYSBzdG9yZSB3aXRoIGEgJ3N1YnNjcmliZScgbWV0aG9kYCk7XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN1YnNjcmliZShzdG9yZSwgLi4uY2FsbGJhY2tzKSB7XG5cdGlmIChzdG9yZSA9PSBudWxsKSB7XG5cdFx0Zm9yIChjb25zdCBjYWxsYmFjayBvZiBjYWxsYmFja3MpIHtcblx0XHRcdGNhbGxiYWNrKHVuZGVmaW5lZCk7XG5cdFx0fVxuXHRcdHJldHVybiBub29wO1xuXHR9XG5cdGNvbnN0IHVuc3ViID0gc3RvcmUuc3Vic2NyaWJlKC4uLmNhbGxiYWNrcyk7XG5cdHJldHVybiB1bnN1Yi51bnN1YnNjcmliZSA/ICgpID0+IHVuc3ViLnVuc3Vic2NyaWJlKCkgOiB1bnN1Yjtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGN1cnJlbnQgdmFsdWUgZnJvbSBhIHN0b3JlIGJ5IHN1YnNjcmliaW5nIGFuZCBpbW1lZGlhdGVseSB1bnN1YnNjcmliaW5nLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1zdG9yZSNnZXRcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vc3RvcmUvcHVibGljLmpzJykuUmVhZGFibGU8VD59IHN0b3JlXG4gKiBAcmV0dXJucyB7VH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9zdG9yZV92YWx1ZShzdG9yZSkge1xuXHRsZXQgdmFsdWU7XG5cdHN1YnNjcmliZShzdG9yZSwgKF8pID0+ICh2YWx1ZSA9IF8pKSgpO1xuXHRyZXR1cm4gdmFsdWU7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wb25lbnRfc3Vic2NyaWJlKGNvbXBvbmVudCwgc3RvcmUsIGNhbGxiYWNrKSB7XG5cdGNvbXBvbmVudC4kJC5vbl9kZXN0cm95LnB1c2goc3Vic2NyaWJlKHN0b3JlLCBjYWxsYmFjaykpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX3Nsb3QoZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBmbikge1xuXHRpZiAoZGVmaW5pdGlvbikge1xuXHRcdGNvbnN0IHNsb3RfY3R4ID0gZ2V0X3Nsb3RfY29udGV4dChkZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGZuKTtcblx0XHRyZXR1cm4gZGVmaW5pdGlvblswXShzbG90X2N0eCk7XG5cdH1cbn1cblxuZnVuY3Rpb24gZ2V0X3Nsb3RfY29udGV4dChkZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGZuKSB7XG5cdHJldHVybiBkZWZpbml0aW9uWzFdICYmIGZuID8gYXNzaWduKCQkc2NvcGUuY3R4LnNsaWNlKCksIGRlZmluaXRpb25bMV0oZm4oY3R4KSkpIDogJCRzY29wZS5jdHg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRfc2xvdF9jaGFuZ2VzKGRlZmluaXRpb24sICQkc2NvcGUsIGRpcnR5LCBmbikge1xuXHRpZiAoZGVmaW5pdGlvblsyXSAmJiBmbikge1xuXHRcdGNvbnN0IGxldHMgPSBkZWZpbml0aW9uWzJdKGZuKGRpcnR5KSk7XG5cdFx0aWYgKCQkc2NvcGUuZGlydHkgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIGxldHM7XG5cdFx0fVxuXHRcdGlmICh0eXBlb2YgbGV0cyA9PT0gJ29iamVjdCcpIHtcblx0XHRcdGNvbnN0IG1lcmdlZCA9IFtdO1xuXHRcdFx0Y29uc3QgbGVuID0gTWF0aC5tYXgoJCRzY29wZS5kaXJ0eS5sZW5ndGgsIGxldHMubGVuZ3RoKTtcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpICs9IDEpIHtcblx0XHRcdFx0bWVyZ2VkW2ldID0gJCRzY29wZS5kaXJ0eVtpXSB8IGxldHNbaV07XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWVyZ2VkO1xuXHRcdH1cblx0XHRyZXR1cm4gJCRzY29wZS5kaXJ0eSB8IGxldHM7XG5cdH1cblx0cmV0dXJuICQkc2NvcGUuZGlydHk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVfc2xvdF9iYXNlKFxuXHRzbG90LFxuXHRzbG90X2RlZmluaXRpb24sXG5cdGN0eCxcblx0JCRzY29wZSxcblx0c2xvdF9jaGFuZ2VzLFxuXHRnZXRfc2xvdF9jb250ZXh0X2ZuXG4pIHtcblx0aWYgKHNsb3RfY2hhbmdlcykge1xuXHRcdGNvbnN0IHNsb3RfY29udGV4dCA9IGdldF9zbG90X2NvbnRleHQoc2xvdF9kZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGdldF9zbG90X2NvbnRleHRfZm4pO1xuXHRcdHNsb3QucChzbG90X2NvbnRleHQsIHNsb3RfY2hhbmdlcyk7XG5cdH1cbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZV9zbG90KFxuXHRzbG90LFxuXHRzbG90X2RlZmluaXRpb24sXG5cdGN0eCxcblx0JCRzY29wZSxcblx0ZGlydHksXG5cdGdldF9zbG90X2NoYW5nZXNfZm4sXG5cdGdldF9zbG90X2NvbnRleHRfZm5cbikge1xuXHRjb25zdCBzbG90X2NoYW5nZXMgPSBnZXRfc2xvdF9jaGFuZ2VzKHNsb3RfZGVmaW5pdGlvbiwgJCRzY29wZSwgZGlydHksIGdldF9zbG90X2NoYW5nZXNfZm4pO1xuXHR1cGRhdGVfc2xvdF9iYXNlKHNsb3QsIHNsb3RfZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBzbG90X2NoYW5nZXMsIGdldF9zbG90X2NvbnRleHRfZm4pO1xufVxuXG4vKiogQHJldHVybnMge2FueVtdIHwgLTF9ICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X2FsbF9kaXJ0eV9mcm9tX3Njb3BlKCQkc2NvcGUpIHtcblx0aWYgKCQkc2NvcGUuY3R4Lmxlbmd0aCA+IDMyKSB7XG5cdFx0Y29uc3QgZGlydHkgPSBbXTtcblx0XHRjb25zdCBsZW5ndGggPSAkJHNjb3BlLmN0eC5sZW5ndGggLyAzMjtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0XHRkaXJ0eVtpXSA9IC0xO1xuXHRcdH1cblx0XHRyZXR1cm4gZGlydHk7XG5cdH1cblx0cmV0dXJuIC0xO1xufVxuXG4vKiogQHJldHVybnMge3t9fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4Y2x1ZGVfaW50ZXJuYWxfcHJvcHMocHJvcHMpIHtcblx0Y29uc3QgcmVzdWx0ID0ge307XG5cdGZvciAoY29uc3QgayBpbiBwcm9wcykgaWYgKGtbMF0gIT09ICckJykgcmVzdWx0W2tdID0gcHJvcHNba107XG5cdHJldHVybiByZXN1bHQ7XG59XG5cbi8qKiBAcmV0dXJucyB7e319ICovXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZV9yZXN0X3Byb3BzKHByb3BzLCBrZXlzKSB7XG5cdGNvbnN0IHJlc3QgPSB7fTtcblx0a2V5cyA9IG5ldyBTZXQoa2V5cyk7XG5cdGZvciAoY29uc3QgayBpbiBwcm9wcykgaWYgKCFrZXlzLmhhcyhrKSAmJiBrWzBdICE9PSAnJCcpIHJlc3Rba10gPSBwcm9wc1trXTtcblx0cmV0dXJuIHJlc3Q7XG59XG5cbi8qKiBAcmV0dXJucyB7e319ICovXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZV9zbG90cyhzbG90cykge1xuXHRjb25zdCByZXN1bHQgPSB7fTtcblx0Zm9yIChjb25zdCBrZXkgaW4gc2xvdHMpIHtcblx0XHRyZXN1bHRba2V5XSA9IHRydWU7XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqIEByZXR1cm5zIHsodGhpczogYW55LCAuLi5hcmdzOiBhbnlbXSkgPT4gdm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBvbmNlKGZuKSB7XG5cdGxldCByYW4gPSBmYWxzZTtcblx0cmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG5cdFx0aWYgKHJhbikgcmV0dXJuO1xuXHRcdHJhbiA9IHRydWU7XG5cdFx0Zm4uY2FsbCh0aGlzLCAuLi5hcmdzKTtcblx0fTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG51bGxfdG9fZW1wdHkodmFsdWUpIHtcblx0cmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0X3N0b3JlX3ZhbHVlKHN0b3JlLCByZXQsIHZhbHVlKSB7XG5cdHN0b3JlLnNldCh2YWx1ZSk7XG5cdHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBjb25zdCBoYXNfcHJvcCA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xuXG5leHBvcnQgZnVuY3Rpb24gYWN0aW9uX2Rlc3Ryb3llcihhY3Rpb25fcmVzdWx0KSB7XG5cdHJldHVybiBhY3Rpb25fcmVzdWx0ICYmIGlzX2Z1bmN0aW9uKGFjdGlvbl9yZXN1bHQuZGVzdHJveSkgPyBhY3Rpb25fcmVzdWx0LmRlc3Ryb3kgOiBub29wO1xufVxuXG4vKiogQHBhcmFtIHtudW1iZXIgfCBzdHJpbmd9IHZhbHVlXG4gKiBAcmV0dXJucyB7W251bWJlciwgc3RyaW5nXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNwbGl0X2Nzc191bml0KHZhbHVlKSB7XG5cdGNvbnN0IHNwbGl0ID0gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiB2YWx1ZS5tYXRjaCgvXlxccyooLT9bXFxkLl0rKShbXlxcc10qKVxccyokLyk7XG5cdHJldHVybiBzcGxpdCA/IFtwYXJzZUZsb2F0KHNwbGl0WzFdKSwgc3BsaXRbMl0gfHwgJ3B4J10gOiBbLyoqIEB0eXBlIHtudW1iZXJ9ICovICh2YWx1ZSksICdweCddO1xufVxuXG5leHBvcnQgY29uc3QgY29udGVudGVkaXRhYmxlX3RydXRoeV92YWx1ZXMgPSBbJycsIHRydWUsIDEsICd0cnVlJywgJ2NvbnRlbnRlZGl0YWJsZSddO1xuIiwiaW1wb3J0IHsgY29udGVudGVkaXRhYmxlX3RydXRoeV92YWx1ZXMsIGhhc19wcm9wIH0gZnJvbSAnLi91dGlscy5qcyc7XG5cbmltcG9ydCB7IFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uIH0gZnJvbSAnLi9SZXNpemVPYnNlcnZlclNpbmdsZXRvbi5qcyc7XG5cbi8vIFRyYWNrIHdoaWNoIG5vZGVzIGFyZSBjbGFpbWVkIGR1cmluZyBoeWRyYXRpb24uIFVuY2xhaW1lZCBub2RlcyBjYW4gdGhlbiBiZSByZW1vdmVkIGZyb20gdGhlIERPTVxuLy8gYXQgdGhlIGVuZCBvZiBoeWRyYXRpb24gd2l0aG91dCB0b3VjaGluZyB0aGUgcmVtYWluaW5nIG5vZGVzLlxubGV0IGlzX2h5ZHJhdGluZyA9IGZhbHNlO1xuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRfaHlkcmF0aW5nKCkge1xuXHRpc19oeWRyYXRpbmcgPSB0cnVlO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5kX2h5ZHJhdGluZygpIHtcblx0aXNfaHlkcmF0aW5nID0gZmFsc2U7XG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IGxvd1xuICogQHBhcmFtIHtudW1iZXJ9IGhpZ2hcbiAqIEBwYXJhbSB7KGluZGV4OiBudW1iZXIpID0+IG51bWJlcn0ga2V5XG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIHVwcGVyX2JvdW5kKGxvdywgaGlnaCwga2V5LCB2YWx1ZSkge1xuXHQvLyBSZXR1cm4gZmlyc3QgaW5kZXggb2YgdmFsdWUgbGFyZ2VyIHRoYW4gaW5wdXQgdmFsdWUgaW4gdGhlIHJhbmdlIFtsb3csIGhpZ2gpXG5cdHdoaWxlIChsb3cgPCBoaWdoKSB7XG5cdFx0Y29uc3QgbWlkID0gbG93ICsgKChoaWdoIC0gbG93KSA+PiAxKTtcblx0XHRpZiAoa2V5KG1pZCkgPD0gdmFsdWUpIHtcblx0XHRcdGxvdyA9IG1pZCArIDE7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGhpZ2ggPSBtaWQ7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBsb3c7XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlRXh9IHRhcmdldFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIGluaXRfaHlkcmF0ZSh0YXJnZXQpIHtcblx0aWYgKHRhcmdldC5oeWRyYXRlX2luaXQpIHJldHVybjtcblx0dGFyZ2V0Lmh5ZHJhdGVfaW5pdCA9IHRydWU7XG5cdC8vIFdlIGtub3cgdGhhdCBhbGwgY2hpbGRyZW4gaGF2ZSBjbGFpbV9vcmRlciB2YWx1ZXMgc2luY2UgdGhlIHVuY2xhaW1lZCBoYXZlIGJlZW4gZGV0YWNoZWQgaWYgdGFyZ2V0IGlzIG5vdCA8aGVhZD5cblxuXHRsZXQgY2hpbGRyZW4gPSAvKiogQHR5cGUge0FycmF5TGlrZTxOb2RlRXgyPn0gKi8gKHRhcmdldC5jaGlsZE5vZGVzKTtcblx0Ly8gSWYgdGFyZ2V0IGlzIDxoZWFkPiwgdGhlcmUgbWF5IGJlIGNoaWxkcmVuIHdpdGhvdXQgY2xhaW1fb3JkZXJcblx0aWYgKHRhcmdldC5ub2RlTmFtZSA9PT0gJ0hFQUQnKSB7XG5cdFx0Y29uc3QgbXlfY2hpbGRyZW4gPSBbXTtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBub2RlID0gY2hpbGRyZW5baV07XG5cdFx0XHRpZiAobm9kZS5jbGFpbV9vcmRlciAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdG15X2NoaWxkcmVuLnB1c2gobm9kZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGNoaWxkcmVuID0gbXlfY2hpbGRyZW47XG5cdH1cblx0Lypcblx0ICogUmVvcmRlciBjbGFpbWVkIGNoaWxkcmVuIG9wdGltYWxseS5cblx0ICogV2UgY2FuIHJlb3JkZXIgY2xhaW1lZCBjaGlsZHJlbiBvcHRpbWFsbHkgYnkgZmluZGluZyB0aGUgbG9uZ2VzdCBzdWJzZXF1ZW5jZSBvZlxuXHQgKiBub2RlcyB0aGF0IGFyZSBhbHJlYWR5IGNsYWltZWQgaW4gb3JkZXIgYW5kIG9ubHkgbW92aW5nIHRoZSByZXN0LiBUaGUgbG9uZ2VzdFxuXHQgKiBzdWJzZXF1ZW5jZSBvZiBub2RlcyB0aGF0IGFyZSBjbGFpbWVkIGluIG9yZGVyIGNhbiBiZSBmb3VuZCBieVxuXHQgKiBjb21wdXRpbmcgdGhlIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSBvZiAuY2xhaW1fb3JkZXIgdmFsdWVzLlxuXHQgKlxuXHQgKiBUaGlzIGFsZ29yaXRobSBpcyBvcHRpbWFsIGluIGdlbmVyYXRpbmcgdGhlIGxlYXN0IGFtb3VudCBvZiByZW9yZGVyIG9wZXJhdGlvbnNcblx0ICogcG9zc2libGUuXG5cdCAqXG5cdCAqIFByb29mOlxuXHQgKiBXZSBrbm93IHRoYXQsIGdpdmVuIGEgc2V0IG9mIHJlb3JkZXJpbmcgb3BlcmF0aW9ucywgdGhlIG5vZGVzIHRoYXQgZG8gbm90IG1vdmVcblx0ICogYWx3YXlzIGZvcm0gYW4gaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSwgc2luY2UgdGhleSBkbyBub3QgbW92ZSBhbW9uZyBlYWNoIG90aGVyXG5cdCAqIG1lYW5pbmcgdGhhdCB0aGV5IG11c3QgYmUgYWxyZWFkeSBvcmRlcmVkIGFtb25nIGVhY2ggb3RoZXIuIFRodXMsIHRoZSBtYXhpbWFsXG5cdCAqIHNldCBvZiBub2RlcyB0aGF0IGRvIG5vdCBtb3ZlIGZvcm0gYSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2UuXG5cdCAqL1xuXHQvLyBDb21wdXRlIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZVxuXHQvLyBtOiBzdWJzZXF1ZW5jZSBsZW5ndGggaiA9PiBpbmRleCBrIG9mIHNtYWxsZXN0IHZhbHVlIHRoYXQgZW5kcyBhbiBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIGxlbmd0aCBqXG5cdGNvbnN0IG0gPSBuZXcgSW50MzJBcnJheShjaGlsZHJlbi5sZW5ndGggKyAxKTtcblx0Ly8gUHJlZGVjZXNzb3IgaW5kaWNlcyArIDFcblx0Y29uc3QgcCA9IG5ldyBJbnQzMkFycmF5KGNoaWxkcmVuLmxlbmd0aCk7XG5cdG1bMF0gPSAtMTtcblx0bGV0IGxvbmdlc3QgPSAwO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y29uc3QgY3VycmVudCA9IGNoaWxkcmVuW2ldLmNsYWltX29yZGVyO1xuXHRcdC8vIEZpbmQgdGhlIGxhcmdlc3Qgc3Vic2VxdWVuY2UgbGVuZ3RoIHN1Y2ggdGhhdCBpdCBlbmRzIGluIGEgdmFsdWUgbGVzcyB0aGFuIG91ciBjdXJyZW50IHZhbHVlXG5cdFx0Ly8gdXBwZXJfYm91bmQgcmV0dXJucyBmaXJzdCBncmVhdGVyIHZhbHVlLCBzbyB3ZSBzdWJ0cmFjdCBvbmVcblx0XHQvLyB3aXRoIGZhc3QgcGF0aCBmb3Igd2hlbiB3ZSBhcmUgb24gdGhlIGN1cnJlbnQgbG9uZ2VzdCBzdWJzZXF1ZW5jZVxuXHRcdGNvbnN0IHNlcV9sZW4gPVxuXHRcdFx0KGxvbmdlc3QgPiAwICYmIGNoaWxkcmVuW21bbG9uZ2VzdF1dLmNsYWltX29yZGVyIDw9IGN1cnJlbnRcblx0XHRcdFx0PyBsb25nZXN0ICsgMVxuXHRcdFx0XHQ6IHVwcGVyX2JvdW5kKDEsIGxvbmdlc3QsIChpZHgpID0+IGNoaWxkcmVuW21baWR4XV0uY2xhaW1fb3JkZXIsIGN1cnJlbnQpKSAtIDE7XG5cdFx0cFtpXSA9IG1bc2VxX2xlbl0gKyAxO1xuXHRcdGNvbnN0IG5ld19sZW4gPSBzZXFfbGVuICsgMTtcblx0XHQvLyBXZSBjYW4gZ3VhcmFudGVlIHRoYXQgY3VycmVudCBpcyB0aGUgc21hbGxlc3QgdmFsdWUuIE90aGVyd2lzZSwgd2Ugd291bGQgaGF2ZSBnZW5lcmF0ZWQgYSBsb25nZXIgc2VxdWVuY2UuXG5cdFx0bVtuZXdfbGVuXSA9IGk7XG5cdFx0bG9uZ2VzdCA9IE1hdGgubWF4KG5ld19sZW4sIGxvbmdlc3QpO1xuXHR9XG5cdC8vIFRoZSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2Ugb2Ygbm9kZXMgKGluaXRpYWxseSByZXZlcnNlZClcblxuXHQvKipcblx0ICogQHR5cGUge05vZGVFeDJbXX1cblx0ICovXG5cdGNvbnN0IGxpcyA9IFtdO1xuXHQvLyBUaGUgcmVzdCBvZiB0aGUgbm9kZXMsIG5vZGVzIHRoYXQgd2lsbCBiZSBtb3ZlZFxuXG5cdC8qKlxuXHQgKiBAdHlwZSB7Tm9kZUV4MltdfVxuXHQgKi9cblx0Y29uc3QgdG9fbW92ZSA9IFtdO1xuXHRsZXQgbGFzdCA9IGNoaWxkcmVuLmxlbmd0aCAtIDE7XG5cdGZvciAobGV0IGN1ciA9IG1bbG9uZ2VzdF0gKyAxOyBjdXIgIT0gMDsgY3VyID0gcFtjdXIgLSAxXSkge1xuXHRcdGxpcy5wdXNoKGNoaWxkcmVuW2N1ciAtIDFdKTtcblx0XHRmb3IgKDsgbGFzdCA+PSBjdXI7IGxhc3QtLSkge1xuXHRcdFx0dG9fbW92ZS5wdXNoKGNoaWxkcmVuW2xhc3RdKTtcblx0XHR9XG5cdFx0bGFzdC0tO1xuXHR9XG5cdGZvciAoOyBsYXN0ID49IDA7IGxhc3QtLSkge1xuXHRcdHRvX21vdmUucHVzaChjaGlsZHJlbltsYXN0XSk7XG5cdH1cblx0bGlzLnJldmVyc2UoKTtcblx0Ly8gV2Ugc29ydCB0aGUgbm9kZXMgYmVpbmcgbW92ZWQgdG8gZ3VhcmFudGVlIHRoYXQgdGhlaXIgaW5zZXJ0aW9uIG9yZGVyIG1hdGNoZXMgdGhlIGNsYWltIG9yZGVyXG5cdHRvX21vdmUuc29ydCgoYSwgYikgPT4gYS5jbGFpbV9vcmRlciAtIGIuY2xhaW1fb3JkZXIpO1xuXHQvLyBGaW5hbGx5LCB3ZSBtb3ZlIHRoZSBub2Rlc1xuXHRmb3IgKGxldCBpID0gMCwgaiA9IDA7IGkgPCB0b19tb3ZlLmxlbmd0aDsgaSsrKSB7XG5cdFx0d2hpbGUgKGogPCBsaXMubGVuZ3RoICYmIHRvX21vdmVbaV0uY2xhaW1fb3JkZXIgPj0gbGlzW2pdLmNsYWltX29yZGVyKSB7XG5cdFx0XHRqKys7XG5cdFx0fVxuXHRcdGNvbnN0IGFuY2hvciA9IGogPCBsaXMubGVuZ3RoID8gbGlzW2pdIDogbnVsbDtcblx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHRvX21vdmVbaV0sIGFuY2hvcik7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IHRhcmdldFxuICogQHBhcmFtIHtOb2RlfSBub2RlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZCh0YXJnZXQsIG5vZGUpIHtcblx0dGFyZ2V0LmFwcGVuZENoaWxkKG5vZGUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gdGFyZ2V0XG4gKiBAcGFyYW0ge3N0cmluZ30gc3R5bGVfc2hlZXRfaWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHlsZXNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kX3N0eWxlcyh0YXJnZXQsIHN0eWxlX3NoZWV0X2lkLCBzdHlsZXMpIHtcblx0Y29uc3QgYXBwZW5kX3N0eWxlc190byA9IGdldF9yb290X2Zvcl9zdHlsZSh0YXJnZXQpO1xuXHRpZiAoIWFwcGVuZF9zdHlsZXNfdG8uZ2V0RWxlbWVudEJ5SWQoc3R5bGVfc2hlZXRfaWQpKSB7XG5cdFx0Y29uc3Qgc3R5bGUgPSBlbGVtZW50KCdzdHlsZScpO1xuXHRcdHN0eWxlLmlkID0gc3R5bGVfc2hlZXRfaWQ7XG5cdFx0c3R5bGUudGV4dENvbnRlbnQgPSBzdHlsZXM7XG5cdFx0YXBwZW5kX3N0eWxlc2hlZXQoYXBwZW5kX3N0eWxlc190bywgc3R5bGUpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSBub2RlXG4gKiBAcmV0dXJucyB7U2hhZG93Um9vdCB8IERvY3VtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3Jvb3RfZm9yX3N0eWxlKG5vZGUpIHtcblx0aWYgKCFub2RlKSByZXR1cm4gZG9jdW1lbnQ7XG5cdGNvbnN0IHJvb3QgPSBub2RlLmdldFJvb3ROb2RlID8gbm9kZS5nZXRSb290Tm9kZSgpIDogbm9kZS5vd25lckRvY3VtZW50O1xuXHRpZiAocm9vdCAmJiAvKiogQHR5cGUge1NoYWRvd1Jvb3R9ICovIChyb290KS5ob3N0KSB7XG5cdFx0cmV0dXJuIC8qKiBAdHlwZSB7U2hhZG93Um9vdH0gKi8gKHJvb3QpO1xuXHR9XG5cdHJldHVybiBub2RlLm93bmVyRG9jdW1lbnQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSBub2RlXG4gKiBAcmV0dXJucyB7Q1NTU3R5bGVTaGVldH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZF9lbXB0eV9zdHlsZXNoZWV0KG5vZGUpIHtcblx0Y29uc3Qgc3R5bGVfZWxlbWVudCA9IGVsZW1lbnQoJ3N0eWxlJyk7XG5cdC8vIEZvciB0cmFuc2l0aW9ucyB0byB3b3JrIHdpdGhvdXQgJ3N0eWxlLXNyYzogdW5zYWZlLWlubGluZScgQ29udGVudCBTZWN1cml0eSBQb2xpY3ksXG5cdC8vIHRoZXNlIGVtcHR5IHRhZ3MgbmVlZCB0byBiZSBhbGxvd2VkIHdpdGggYSBoYXNoIGFzIGEgd29ya2Fyb3VuZCB1bnRpbCB3ZSBtb3ZlIHRvIHRoZSBXZWIgQW5pbWF0aW9ucyBBUEkuXG5cdC8vIFVzaW5nIHRoZSBoYXNoIGZvciB0aGUgZW1wdHkgc3RyaW5nIChmb3IgYW4gZW1wdHkgdGFnKSB3b3JrcyBpbiBhbGwgYnJvd3NlcnMgZXhjZXB0IFNhZmFyaS5cblx0Ly8gU28gYXMgYSB3b3JrYXJvdW5kIGZvciB0aGUgd29ya2Fyb3VuZCwgd2hlbiB3ZSBhcHBlbmQgZW1wdHkgc3R5bGUgdGFncyB3ZSBzZXQgdGhlaXIgY29udGVudCB0byAvKiBlbXB0eSAqLy5cblx0Ly8gVGhlIGhhc2ggJ3NoYTI1Ni05T2xOTzBETkVlYVZ6SEw0Ulp3Q0xzQkhBOFdCUTh0b0JwLzRGNVhWMm5jPScgd2lsbCB0aGVuIHdvcmsgZXZlbiBpbiBTYWZhcmkuXG5cdHN0eWxlX2VsZW1lbnQudGV4dENvbnRlbnQgPSAnLyogZW1wdHkgKi8nO1xuXHRhcHBlbmRfc3R5bGVzaGVldChnZXRfcm9vdF9mb3Jfc3R5bGUobm9kZSksIHN0eWxlX2VsZW1lbnQpO1xuXHRyZXR1cm4gc3R5bGVfZWxlbWVudC5zaGVldDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1NoYWRvd1Jvb3QgfCBEb2N1bWVudH0gbm9kZVxuICogQHBhcmFtIHtIVE1MU3R5bGVFbGVtZW50fSBzdHlsZVxuICogQHJldHVybnMge0NTU1N0eWxlU2hlZXR9XG4gKi9cbmZ1bmN0aW9uIGFwcGVuZF9zdHlsZXNoZWV0KG5vZGUsIHN0eWxlKSB7XG5cdGFwcGVuZCgvKiogQHR5cGUge0RvY3VtZW50fSAqLyAobm9kZSkuaGVhZCB8fCBub2RlLCBzdHlsZSk7XG5cdHJldHVybiBzdHlsZS5zaGVldDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGVFeH0gdGFyZ2V0XG4gKiBAcGFyYW0ge05vZGVFeH0gbm9kZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRfaHlkcmF0aW9uKHRhcmdldCwgbm9kZSkge1xuXHRpZiAoaXNfaHlkcmF0aW5nKSB7XG5cdFx0aW5pdF9oeWRyYXRlKHRhcmdldCk7XG5cdFx0aWYgKFxuXHRcdFx0dGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPT09IHVuZGVmaW5lZCB8fFxuXHRcdFx0KHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkICE9PSBudWxsICYmIHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkLnBhcmVudE5vZGUgIT09IHRhcmdldClcblx0XHQpIHtcblx0XHRcdHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkID0gdGFyZ2V0LmZpcnN0Q2hpbGQ7XG5cdFx0fVxuXHRcdC8vIFNraXAgbm9kZXMgb2YgdW5kZWZpbmVkIG9yZGVyaW5nXG5cdFx0d2hpbGUgKHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkICE9PSBudWxsICYmIHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkLmNsYWltX29yZGVyID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkID0gdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQubmV4dFNpYmxpbmc7XG5cdFx0fVxuXHRcdGlmIChub2RlICE9PSB0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCkge1xuXHRcdFx0Ly8gV2Ugb25seSBpbnNlcnQgaWYgdGhlIG9yZGVyaW5nIG9mIHRoaXMgbm9kZSBzaG91bGQgYmUgbW9kaWZpZWQgb3IgdGhlIHBhcmVudCBub2RlIGlzIG5vdCB0YXJnZXRcblx0XHRcdGlmIChub2RlLmNsYWltX29yZGVyICE9PSB1bmRlZmluZWQgfHwgbm9kZS5wYXJlbnROb2RlICE9PSB0YXJnZXQpIHtcblx0XHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShub2RlLCB0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkID0gbm9kZS5uZXh0U2libGluZztcblx0XHR9XG5cdH0gZWxzZSBpZiAobm9kZS5wYXJlbnROb2RlICE9PSB0YXJnZXQgfHwgbm9kZS5uZXh0U2libGluZyAhPT0gbnVsbCkge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChub2RlKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gdGFyZ2V0XG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEBwYXJhbSB7Tm9kZX0gW2FuY2hvcl1cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0KHRhcmdldCwgbm9kZSwgYW5jaG9yKSB7XG5cdHRhcmdldC5pbnNlcnRCZWZvcmUobm9kZSwgYW5jaG9yIHx8IG51bGwpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZUV4fSB0YXJnZXRcbiAqIEBwYXJhbSB7Tm9kZUV4fSBub2RlXG4gKiBAcGFyYW0ge05vZGVFeH0gW2FuY2hvcl1cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0X2h5ZHJhdGlvbih0YXJnZXQsIG5vZGUsIGFuY2hvcikge1xuXHRpZiAoaXNfaHlkcmF0aW5nICYmICFhbmNob3IpIHtcblx0XHRhcHBlbmRfaHlkcmF0aW9uKHRhcmdldCwgbm9kZSk7XG5cdH0gZWxzZSBpZiAobm9kZS5wYXJlbnROb2RlICE9PSB0YXJnZXQgfHwgbm9kZS5uZXh0U2libGluZyAhPSBhbmNob3IpIHtcblx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKG5vZGUsIGFuY2hvciB8fCBudWxsKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXRhY2gobm9kZSkge1xuXHRpZiAobm9kZS5wYXJlbnROb2RlKSB7XG5cdFx0bm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xuXHR9XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZGVzdHJveV9lYWNoKGl0ZXJhdGlvbnMsIGRldGFjaGluZykge1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IGl0ZXJhdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRpZiAoaXRlcmF0aW9uc1tpXSkgaXRlcmF0aW9uc1tpXS5kKGRldGFjaGluZyk7XG5cdH1cbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUge2tleW9mIEhUTUxFbGVtZW50VGFnTmFtZU1hcH0gS1xuICogQHBhcmFtIHtLfSBuYW1lXG4gKiBAcmV0dXJucyB7SFRNTEVsZW1lbnRUYWdOYW1lTWFwW0tdfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWxlbWVudChuYW1lKSB7XG5cdHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUpO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7a2V5b2YgSFRNTEVsZW1lbnRUYWdOYW1lTWFwfSBLXG4gKiBAcGFyYW0ge0t9IG5hbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBpc1xuICogQHJldHVybnMge0hUTUxFbGVtZW50VGFnTmFtZU1hcFtLXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVsZW1lbnRfaXMobmFtZSwgaXMpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSwgeyBpcyB9KTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHRlbXBsYXRlIHtrZXlvZiBUfSBLXG4gKiBAcGFyYW0ge1R9IG9ialxuICogQHBhcmFtIHtLW119IGV4Y2x1ZGVcbiAqIEByZXR1cm5zIHtQaWNrPFQsIEV4Y2x1ZGU8a2V5b2YgVCwgSz4+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gb2JqZWN0X3dpdGhvdXRfcHJvcGVydGllcyhvYmosIGV4Y2x1ZGUpIHtcblx0Y29uc3QgdGFyZ2V0ID0gLyoqIEB0eXBlIHtQaWNrPFQsIEV4Y2x1ZGU8a2V5b2YgVCwgSz4+fSAqLyAoe30pO1xuXHRmb3IgKGNvbnN0IGsgaW4gb2JqKSB7XG5cdFx0aWYgKFxuXHRcdFx0aGFzX3Byb3Aob2JqLCBrKSAmJlxuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0ZXhjbHVkZS5pbmRleE9mKGspID09PSAtMVxuXHRcdCkge1xuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0dGFyZ2V0W2tdID0gb2JqW2tdO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gdGFyZ2V0O1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7a2V5b2YgU1ZHRWxlbWVudFRhZ05hbWVNYXB9IEtcbiAqIEBwYXJhbSB7S30gbmFtZVxuICogQHJldHVybnMge1NWR0VsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdmdfZWxlbWVudChuYW1lKSB7XG5cdHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgbmFtZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGRhdGFcbiAqIEByZXR1cm5zIHtUZXh0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gdGV4dChkYXRhKSB7XG5cdHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShkYXRhKTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7VGV4dH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcGFjZSgpIHtcblx0cmV0dXJuIHRleHQoJyAnKTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7VGV4dH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbXB0eSgpIHtcblx0cmV0dXJuIHRleHQoJycpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50XG4gKiBAcmV0dXJucyB7Q29tbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbW1lbnQoY29udGVudCkge1xuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlQ29tbWVudChjb250ZW50KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSBub2RlXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7RXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdH0gaGFuZGxlclxuICogQHBhcmFtIHtib29sZWFuIHwgQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnMgfCBFdmVudExpc3RlbmVyT3B0aW9uc30gW29wdGlvbnNdXG4gKiBAcmV0dXJucyB7KCkgPT4gdm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpc3Rlbihub2RlLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucykge1xuXHRub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xuXHRyZXR1cm4gKCkgPT4gbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7KGV2ZW50OiBhbnkpID0+IGFueX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmV2ZW50X2RlZmF1bHQoZm4pIHtcblx0cmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdHJldHVybiBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcblx0fTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7KGV2ZW50OiBhbnkpID0+IGFueX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdG9wX3Byb3BhZ2F0aW9uKGZuKSB7XG5cdHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0cmV0dXJuIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuXHR9O1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHsoZXZlbnQ6IGFueSkgPT4gYW55fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0b3BfaW1tZWRpYXRlX3Byb3BhZ2F0aW9uKGZuKSB7XG5cdHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0cmV0dXJuIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuXHR9O1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHsoZXZlbnQ6IGFueSkgPT4gdm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxmKGZuKSB7XG5cdHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0aWYgKGV2ZW50LnRhcmdldCA9PT0gdGhpcykgZm4uY2FsbCh0aGlzLCBldmVudCk7XG5cdH07XG59XG5cbi8qKlxuICogQHJldHVybnMgeyhldmVudDogYW55KSA9PiB2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRydXN0ZWQoZm4pIHtcblx0cmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRpZiAoZXZlbnQuaXNUcnVzdGVkKSBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcblx0fTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBbdmFsdWVdXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGF0dHIobm9kZSwgYXR0cmlidXRlLCB2YWx1ZSkge1xuXHRpZiAodmFsdWUgPT0gbnVsbCkgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlKTtcblx0ZWxzZSBpZiAobm9kZS5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKSAhPT0gdmFsdWUpIG5vZGUuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgdmFsdWUpO1xufVxuLyoqXG4gKiBMaXN0IG9mIGF0dHJpYnV0ZXMgdGhhdCBzaG91bGQgYWx3YXlzIGJlIHNldCB0aHJvdWdoIHRoZSBhdHRyIG1ldGhvZCxcbiAqIGJlY2F1c2UgdXBkYXRpbmcgdGhlbSB0aHJvdWdoIHRoZSBwcm9wZXJ0eSBzZXR0ZXIgZG9lc24ndCB3b3JrIHJlbGlhYmx5LlxuICogSW4gdGhlIGV4YW1wbGUgb2YgYHdpZHRoYC9gaGVpZ2h0YCwgdGhlIHByb2JsZW0gaXMgdGhhdCB0aGUgc2V0dGVyIG9ubHlcbiAqIGFjY2VwdHMgbnVtZXJpYyB2YWx1ZXMsIGJ1dCB0aGUgYXR0cmlidXRlIGNhbiBhbHNvIGJlIHNldCB0byBhIHN0cmluZyBsaWtlIGA1MCVgLlxuICogSWYgdGhpcyBsaXN0IGJlY29tZXMgdG9vIGJpZywgcmV0aGluayB0aGlzIGFwcHJvYWNoLlxuICovXG5jb25zdCBhbHdheXNfc2V0X3Rocm91Z2hfc2V0X2F0dHJpYnV0ZSA9IFsnd2lkdGgnLCAnaGVpZ2h0J107XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBub2RlXG4gKiBAcGFyYW0ge3sgW3g6IHN0cmluZ106IHN0cmluZyB9fSBhdHRyaWJ1dGVzXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9hdHRyaWJ1dGVzKG5vZGUsIGF0dHJpYnV0ZXMpIHtcblx0Ly8gQHRzLWlnbm9yZVxuXHRjb25zdCBkZXNjcmlwdG9ycyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG5vZGUuX19wcm90b19fKTtcblx0Zm9yIChjb25zdCBrZXkgaW4gYXR0cmlidXRlcykge1xuXHRcdGlmIChhdHRyaWJ1dGVzW2tleV0gPT0gbnVsbCkge1xuXHRcdFx0bm9kZS5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcblx0XHR9IGVsc2UgaWYgKGtleSA9PT0gJ3N0eWxlJykge1xuXHRcdFx0bm9kZS5zdHlsZS5jc3NUZXh0ID0gYXR0cmlidXRlc1trZXldO1xuXHRcdH0gZWxzZSBpZiAoa2V5ID09PSAnX192YWx1ZScpIHtcblx0XHRcdC8qKiBAdHlwZSB7YW55fSAqLyAobm9kZSkudmFsdWUgPSBub2RlW2tleV0gPSBhdHRyaWJ1dGVzW2tleV07XG5cdFx0fSBlbHNlIGlmIChcblx0XHRcdGRlc2NyaXB0b3JzW2tleV0gJiZcblx0XHRcdGRlc2NyaXB0b3JzW2tleV0uc2V0ICYmXG5cdFx0XHRhbHdheXNfc2V0X3Rocm91Z2hfc2V0X2F0dHJpYnV0ZS5pbmRleE9mKGtleSkgPT09IC0xXG5cdFx0KSB7XG5cdFx0XHRub2RlW2tleV0gPSBhdHRyaWJ1dGVzW2tleV07XG5cdFx0fSBlbHNlIHtcblx0XHRcdGF0dHIobm9kZSwga2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudCAmIEVsZW1lbnRDU1NJbmxpbmVTdHlsZX0gbm9kZVxuICogQHBhcmFtIHt7IFt4OiBzdHJpbmddOiBzdHJpbmcgfX0gYXR0cmlidXRlc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfc3ZnX2F0dHJpYnV0ZXMobm9kZSwgYXR0cmlidXRlcykge1xuXHRmb3IgKGNvbnN0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG5cdFx0YXR0cihub2RlLCBrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIHVua25vd24+fSBkYXRhX21hcFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YV9tYXAobm9kZSwgZGF0YV9tYXApIHtcblx0T2JqZWN0LmtleXMoZGF0YV9tYXApLmZvckVhY2goKGtleSkgPT4ge1xuXHRcdHNldF9jdXN0b21fZWxlbWVudF9kYXRhKG5vZGUsIGtleSwgZGF0YV9tYXBba2V5XSk7XG5cdH0pO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9jdXN0b21fZWxlbWVudF9kYXRhKG5vZGUsIHByb3AsIHZhbHVlKSB7XG5cdGNvbnN0IGxvd2VyID0gcHJvcC50b0xvd2VyQ2FzZSgpOyAvLyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgd2l0aCBleGlzdGluZyBiZWhhdmlvciB3ZSBkbyBsb3dlcmNhc2UgZmlyc3Rcblx0aWYgKGxvd2VyIGluIG5vZGUpIHtcblx0XHRub2RlW2xvd2VyXSA9IHR5cGVvZiBub2RlW2xvd2VyXSA9PT0gJ2Jvb2xlYW4nICYmIHZhbHVlID09PSAnJyA/IHRydWUgOiB2YWx1ZTtcblx0fSBlbHNlIGlmIChwcm9wIGluIG5vZGUpIHtcblx0XHRub2RlW3Byb3BdID0gdHlwZW9mIG5vZGVbcHJvcF0gPT09ICdib29sZWFuJyAmJiB2YWx1ZSA9PT0gJycgPyB0cnVlIDogdmFsdWU7XG5cdH0gZWxzZSB7XG5cdFx0YXR0cihub2RlLCBwcm9wLCB2YWx1ZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfZHluYW1pY19lbGVtZW50X2RhdGEodGFnKSB7XG5cdHJldHVybiAvLS8udGVzdCh0YWcpID8gc2V0X2N1c3RvbV9lbGVtZW50X2RhdGFfbWFwIDogc2V0X2F0dHJpYnV0ZXM7XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB4bGlua19hdHRyKG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcblx0bm9kZS5zZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsIGF0dHJpYnV0ZSwgdmFsdWUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGVcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfc3ZlbHRlX2RhdGFzZXQobm9kZSkge1xuXHRyZXR1cm4gbm9kZS5kYXRhc2V0LnN2ZWx0ZUg7XG59XG5cbi8qKlxuICogQHJldHVybnMge3Vua25vd25bXX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfYmluZGluZ19ncm91cF92YWx1ZShncm91cCwgX192YWx1ZSwgY2hlY2tlZCkge1xuXHRjb25zdCB2YWx1ZSA9IG5ldyBTZXQoKTtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBncm91cC5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGlmIChncm91cFtpXS5jaGVja2VkKSB2YWx1ZS5hZGQoZ3JvdXBbaV0uX192YWx1ZSk7XG5cdH1cblx0aWYgKCFjaGVja2VkKSB7XG5cdFx0dmFsdWUuZGVsZXRlKF9fdmFsdWUpO1xuXHR9XG5cdHJldHVybiBBcnJheS5mcm9tKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxJbnB1dEVsZW1lbnRbXX0gZ3JvdXBcbiAqIEByZXR1cm5zIHt7IHAoLi4uaW5wdXRzOiBIVE1MSW5wdXRFbGVtZW50W10pOiB2b2lkOyByKCk6IHZvaWQ7IH19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0X2JpbmRpbmdfZ3JvdXAoZ3JvdXApIHtcblx0LyoqXG5cdCAqIEB0eXBlIHtIVE1MSW5wdXRFbGVtZW50W119ICovXG5cdGxldCBfaW5wdXRzO1xuXHRyZXR1cm4ge1xuXHRcdC8qIHB1c2ggKi8gcCguLi5pbnB1dHMpIHtcblx0XHRcdF9pbnB1dHMgPSBpbnB1dHM7XG5cdFx0XHRfaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiBncm91cC5wdXNoKGlucHV0KSk7XG5cdFx0fSxcblx0XHQvKiByZW1vdmUgKi8gcigpIHtcblx0XHRcdF9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IGdyb3VwLnNwbGljZShncm91cC5pbmRleE9mKGlucHV0KSwgMSkpO1xuXHRcdH1cblx0fTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcltdfSBpbmRleGVzXG4gKiBAcmV0dXJucyB7eyB1KG5ld19pbmRleGVzOiBudW1iZXJbXSk6IHZvaWQ7IHAoLi4uaW5wdXRzOiBIVE1MSW5wdXRFbGVtZW50W10pOiB2b2lkOyByOiAoKSA9PiB2b2lkOyB9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdF9iaW5kaW5nX2dyb3VwX2R5bmFtaWMoZ3JvdXAsIGluZGV4ZXMpIHtcblx0LyoqXG5cdCAqIEB0eXBlIHtIVE1MSW5wdXRFbGVtZW50W119ICovXG5cdGxldCBfZ3JvdXAgPSBnZXRfYmluZGluZ19ncm91cChncm91cCk7XG5cblx0LyoqXG5cdCAqIEB0eXBlIHtIVE1MSW5wdXRFbGVtZW50W119ICovXG5cdGxldCBfaW5wdXRzO1xuXG5cdGZ1bmN0aW9uIGdldF9iaW5kaW5nX2dyb3VwKGdyb3VwKSB7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBpbmRleGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRncm91cCA9IGdyb3VwW2luZGV4ZXNbaV1dID0gZ3JvdXBbaW5kZXhlc1tpXV0gfHwgW107XG5cdFx0fVxuXHRcdHJldHVybiBncm91cDtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0ZnVuY3Rpb24gcHVzaCgpIHtcblx0XHRfaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiBfZ3JvdXAucHVzaChpbnB1dCkpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiByZW1vdmUoKSB7XG5cdFx0X2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4gX2dyb3VwLnNwbGljZShfZ3JvdXAuaW5kZXhPZihpbnB1dCksIDEpKTtcblx0fVxuXHRyZXR1cm4ge1xuXHRcdC8qIHVwZGF0ZSAqLyB1KG5ld19pbmRleGVzKSB7XG5cdFx0XHRpbmRleGVzID0gbmV3X2luZGV4ZXM7XG5cdFx0XHRjb25zdCBuZXdfZ3JvdXAgPSBnZXRfYmluZGluZ19ncm91cChncm91cCk7XG5cdFx0XHRpZiAobmV3X2dyb3VwICE9PSBfZ3JvdXApIHtcblx0XHRcdFx0cmVtb3ZlKCk7XG5cdFx0XHRcdF9ncm91cCA9IG5ld19ncm91cDtcblx0XHRcdFx0cHVzaCgpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0LyogcHVzaCAqLyBwKC4uLmlucHV0cykge1xuXHRcdFx0X2lucHV0cyA9IGlucHV0cztcblx0XHRcdHB1c2goKTtcblx0XHR9LFxuXHRcdC8qIHJlbW92ZSAqLyByOiByZW1vdmVcblx0fTtcbn1cblxuLyoqIEByZXR1cm5zIHtudW1iZXJ9ICovXG5leHBvcnQgZnVuY3Rpb24gdG9fbnVtYmVyKHZhbHVlKSB7XG5cdHJldHVybiB2YWx1ZSA9PT0gJycgPyBudWxsIDogK3ZhbHVlO1xufVxuXG4vKiogQHJldHVybnMge2FueVtdfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRpbWVfcmFuZ2VzX3RvX2FycmF5KHJhbmdlcykge1xuXHRjb25zdCBhcnJheSA9IFtdO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGFycmF5LnB1c2goeyBzdGFydDogcmFuZ2VzLnN0YXJ0KGkpLCBlbmQ6IHJhbmdlcy5lbmQoaSkgfSk7XG5cdH1cblx0cmV0dXJuIGFycmF5O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybnMge0NoaWxkTm9kZVtdfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hpbGRyZW4oZWxlbWVudCkge1xuXHRyZXR1cm4gQXJyYXkuZnJvbShlbGVtZW50LmNoaWxkTm9kZXMpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gaW5pdF9jbGFpbV9pbmZvKG5vZGVzKSB7XG5cdGlmIChub2Rlcy5jbGFpbV9pbmZvID09PSB1bmRlZmluZWQpIHtcblx0XHRub2Rlcy5jbGFpbV9pbmZvID0geyBsYXN0X2luZGV4OiAwLCB0b3RhbF9jbGFpbWVkOiAwIH07XG5cdH1cbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUge0NoaWxkTm9kZUV4fSBSXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHBhcmFtIHsobm9kZTogQ2hpbGROb2RlRXgpID0+IG5vZGUgaXMgUn0gcHJlZGljYXRlXG4gKiBAcGFyYW0geyhub2RlOiBDaGlsZE5vZGVFeCkgPT4gQ2hpbGROb2RlRXggfCB1bmRlZmluZWR9IHByb2Nlc3Nfbm9kZVxuICogQHBhcmFtIHsoKSA9PiBSfSBjcmVhdGVfbm9kZVxuICogQHBhcmFtIHtib29sZWFufSBkb250X3VwZGF0ZV9sYXN0X2luZGV4XG4gKiBAcmV0dXJucyB7Un1cbiAqL1xuZnVuY3Rpb24gY2xhaW1fbm9kZShub2RlcywgcHJlZGljYXRlLCBwcm9jZXNzX25vZGUsIGNyZWF0ZV9ub2RlLCBkb250X3VwZGF0ZV9sYXN0X2luZGV4ID0gZmFsc2UpIHtcblx0Ly8gVHJ5IHRvIGZpbmQgbm9kZXMgaW4gYW4gb3JkZXIgc3VjaCB0aGF0IHdlIGxlbmd0aGVuIHRoZSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2Vcblx0aW5pdF9jbGFpbV9pbmZvKG5vZGVzKTtcblx0Y29uc3QgcmVzdWx0X25vZGUgPSAoKCkgPT4ge1xuXHRcdC8vIFdlIGZpcnN0IHRyeSB0byBmaW5kIGFuIGVsZW1lbnQgYWZ0ZXIgdGhlIHByZXZpb3VzIG9uZVxuXHRcdGZvciAobGV0IGkgPSBub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXg7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuXHRcdFx0aWYgKHByZWRpY2F0ZShub2RlKSkge1xuXHRcdFx0XHRjb25zdCByZXBsYWNlbWVudCA9IHByb2Nlc3Nfbm9kZShub2RlKTtcblx0XHRcdFx0aWYgKHJlcGxhY2VtZW50ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRub2Rlcy5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bm9kZXNbaV0gPSByZXBsYWNlbWVudDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIWRvbnRfdXBkYXRlX2xhc3RfaW5kZXgpIHtcblx0XHRcdFx0XHRub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXggPSBpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBub2RlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHQvLyBPdGhlcndpc2UsIHdlIHRyeSB0byBmaW5kIG9uZSBiZWZvcmVcblx0XHQvLyBXZSBpdGVyYXRlIGluIHJldmVyc2Ugc28gdGhhdCB3ZSBkb24ndCBnbyB0b28gZmFyIGJhY2tcblx0XHRmb3IgKGxldCBpID0gbm9kZXMuY2xhaW1faW5mby5sYXN0X2luZGV4IC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdGNvbnN0IG5vZGUgPSBub2Rlc1tpXTtcblx0XHRcdGlmIChwcmVkaWNhdGUobm9kZSkpIHtcblx0XHRcdFx0Y29uc3QgcmVwbGFjZW1lbnQgPSBwcm9jZXNzX25vZGUobm9kZSk7XG5cdFx0XHRcdGlmIChyZXBsYWNlbWVudCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0bm9kZXMuc3BsaWNlKGksIDEpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG5vZGVzW2ldID0gcmVwbGFjZW1lbnQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCFkb250X3VwZGF0ZV9sYXN0X2luZGV4KSB7XG5cdFx0XHRcdFx0bm9kZXMuY2xhaW1faW5mby5sYXN0X2luZGV4ID0gaTtcblx0XHRcdFx0fSBlbHNlIGlmIChyZXBsYWNlbWVudCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Ly8gU2luY2Ugd2Ugc3BsaWNlZCBiZWZvcmUgdGhlIGxhc3RfaW5kZXgsIHdlIGRlY3JlYXNlIGl0XG5cdFx0XHRcdFx0bm9kZXMuY2xhaW1faW5mby5sYXN0X2luZGV4LS07XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG5vZGU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdC8vIElmIHdlIGNhbid0IGZpbmQgYW55IG1hdGNoaW5nIG5vZGUsIHdlIGNyZWF0ZSBhIG5ldyBvbmVcblx0XHRyZXR1cm4gY3JlYXRlX25vZGUoKTtcblx0fSkoKTtcblx0cmVzdWx0X25vZGUuY2xhaW1fb3JkZXIgPSBub2Rlcy5jbGFpbV9pbmZvLnRvdGFsX2NsYWltZWQ7XG5cdG5vZGVzLmNsYWltX2luZm8udG90YWxfY2xhaW1lZCArPSAxO1xuXHRyZXR1cm4gcmVzdWx0X25vZGU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge3sgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9fSBhdHRyaWJ1dGVzXG4gKiBAcGFyYW0geyhuYW1lOiBzdHJpbmcpID0+IEVsZW1lbnQgfCBTVkdFbGVtZW50fSBjcmVhdGVfZWxlbWVudFxuICogQHJldHVybnMge0VsZW1lbnQgfCBTVkdFbGVtZW50fVxuICovXG5mdW5jdGlvbiBjbGFpbV9lbGVtZW50X2Jhc2Uobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMsIGNyZWF0ZV9lbGVtZW50KSB7XG5cdHJldHVybiBjbGFpbV9ub2RlKFxuXHRcdG5vZGVzLFxuXHRcdC8qKiBAcmV0dXJucyB7bm9kZSBpcyBFbGVtZW50IHwgU1ZHRWxlbWVudH0gKi9cblx0XHQobm9kZSkgPT4gbm9kZS5ub2RlTmFtZSA9PT0gbmFtZSxcblx0XHQvKiogQHBhcmFtIHtFbGVtZW50fSBub2RlICovXG5cdFx0KG5vZGUpID0+IHtcblx0XHRcdGNvbnN0IHJlbW92ZSA9IFtdO1xuXHRcdFx0Zm9yIChsZXQgaiA9IDA7IGogPCBub2RlLmF0dHJpYnV0ZXMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0Y29uc3QgYXR0cmlidXRlID0gbm9kZS5hdHRyaWJ1dGVzW2pdO1xuXHRcdFx0XHRpZiAoIWF0dHJpYnV0ZXNbYXR0cmlidXRlLm5hbWVdKSB7XG5cdFx0XHRcdFx0cmVtb3ZlLnB1c2goYXR0cmlidXRlLm5hbWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZW1vdmUuZm9yRWFjaCgodikgPT4gbm9kZS5yZW1vdmVBdHRyaWJ1dGUodikpO1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9LFxuXHRcdCgpID0+IGNyZWF0ZV9lbGVtZW50KG5hbWUpXG5cdCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge3sgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9fSBhdHRyaWJ1dGVzXG4gKiBAcmV0dXJucyB7RWxlbWVudCB8IFNWR0VsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFpbV9lbGVtZW50KG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzKSB7XG5cdHJldHVybiBjbGFpbV9lbGVtZW50X2Jhc2Uobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMsIGVsZW1lbnQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHt7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfX0gYXR0cmlidXRlc1xuICogQHJldHVybnMge0VsZW1lbnQgfCBTVkdFbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhaW1fc3ZnX2VsZW1lbnQobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMpIHtcblx0cmV0dXJuIGNsYWltX2VsZW1lbnRfYmFzZShub2RlcywgbmFtZSwgYXR0cmlidXRlcywgc3ZnX2VsZW1lbnQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcmV0dXJucyB7VGV4dH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX3RleHQobm9kZXMsIGRhdGEpIHtcblx0cmV0dXJuIGNsYWltX25vZGUoXG5cdFx0bm9kZXMsXG5cdFx0LyoqIEByZXR1cm5zIHtub2RlIGlzIFRleHR9ICovXG5cdFx0KG5vZGUpID0+IG5vZGUubm9kZVR5cGUgPT09IDMsXG5cdFx0LyoqIEBwYXJhbSB7VGV4dH0gbm9kZSAqL1xuXHRcdChub2RlKSA9PiB7XG5cdFx0XHRjb25zdCBkYXRhX3N0ciA9ICcnICsgZGF0YTtcblx0XHRcdGlmIChub2RlLmRhdGEuc3RhcnRzV2l0aChkYXRhX3N0cikpIHtcblx0XHRcdFx0aWYgKG5vZGUuZGF0YS5sZW5ndGggIT09IGRhdGFfc3RyLmxlbmd0aCkge1xuXHRcdFx0XHRcdHJldHVybiBub2RlLnNwbGl0VGV4dChkYXRhX3N0ci5sZW5ndGgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRub2RlLmRhdGEgPSBkYXRhX3N0cjtcblx0XHRcdH1cblx0XHR9LFxuXHRcdCgpID0+IHRleHQoZGF0YSksXG5cdFx0dHJ1ZSAvLyBUZXh0IG5vZGVzIHNob3VsZCBub3QgdXBkYXRlIGxhc3QgaW5kZXggc2luY2UgaXQgaXMgbGlrZWx5IG5vdCB3b3J0aCBpdCB0byBlbGltaW5hdGUgYW4gaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSBvZiBhY3R1YWwgZWxlbWVudHNcblx0KTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7VGV4dH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFpbV9zcGFjZShub2Rlcykge1xuXHRyZXR1cm4gY2xhaW1fdGV4dChub2RlcywgJyAnKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHJldHVybnMge0NvbW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFpbV9jb21tZW50KG5vZGVzLCBkYXRhKSB7XG5cdHJldHVybiBjbGFpbV9ub2RlKFxuXHRcdG5vZGVzLFxuXHRcdC8qKiBAcmV0dXJucyB7bm9kZSBpcyBDb21tZW50fSAqL1xuXHRcdChub2RlKSA9PiBub2RlLm5vZGVUeXBlID09PSA4LFxuXHRcdC8qKiBAcGFyYW0ge0NvbW1lbnR9IG5vZGUgKi9cblx0XHQobm9kZSkgPT4ge1xuXHRcdFx0bm9kZS5kYXRhID0gJycgKyBkYXRhO1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9LFxuXHRcdCgpID0+IGNvbW1lbnQoZGF0YSksXG5cdFx0dHJ1ZVxuXHQpO1xufVxuXG5mdW5jdGlvbiBnZXRfY29tbWVudF9pZHgobm9kZXMsIHRleHQsIHN0YXJ0KSB7XG5cdGZvciAobGV0IGkgPSBzdGFydDsgaSA8IG5vZGVzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0Y29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuXHRcdGlmIChub2RlLm5vZGVUeXBlID09PSA4IC8qIGNvbW1lbnQgbm9kZSAqLyAmJiBub2RlLnRleHRDb250ZW50LnRyaW0oKSA9PT0gdGV4dCkge1xuXHRcdFx0cmV0dXJuIGk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiAtMTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzX3N2Z1xuICogQHJldHVybnMge0h0bWxUYWdIeWRyYXRpb259XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFpbV9odG1sX3RhZyhub2RlcywgaXNfc3ZnKSB7XG5cdC8vIGZpbmQgaHRtbCBvcGVuaW5nIHRhZ1xuXHRjb25zdCBzdGFydF9pbmRleCA9IGdldF9jb21tZW50X2lkeChub2RlcywgJ0hUTUxfVEFHX1NUQVJUJywgMCk7XG5cdGNvbnN0IGVuZF9pbmRleCA9IGdldF9jb21tZW50X2lkeChub2RlcywgJ0hUTUxfVEFHX0VORCcsIHN0YXJ0X2luZGV4ICsgMSk7XG5cdGlmIChzdGFydF9pbmRleCA9PT0gLTEgfHwgZW5kX2luZGV4ID09PSAtMSkge1xuXHRcdHJldHVybiBuZXcgSHRtbFRhZ0h5ZHJhdGlvbihpc19zdmcpO1xuXHR9XG5cblx0aW5pdF9jbGFpbV9pbmZvKG5vZGVzKTtcblx0Y29uc3QgaHRtbF90YWdfbm9kZXMgPSBub2Rlcy5zcGxpY2Uoc3RhcnRfaW5kZXgsIGVuZF9pbmRleCAtIHN0YXJ0X2luZGV4ICsgMSk7XG5cdGRldGFjaChodG1sX3RhZ19ub2Rlc1swXSk7XG5cdGRldGFjaChodG1sX3RhZ19ub2Rlc1todG1sX3RhZ19ub2Rlcy5sZW5ndGggLSAxXSk7XG5cdGNvbnN0IGNsYWltZWRfbm9kZXMgPSBodG1sX3RhZ19ub2Rlcy5zbGljZSgxLCBodG1sX3RhZ19ub2Rlcy5sZW5ndGggLSAxKTtcblx0Zm9yIChjb25zdCBuIG9mIGNsYWltZWRfbm9kZXMpIHtcblx0XHRuLmNsYWltX29yZGVyID0gbm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkO1xuXHRcdG5vZGVzLmNsYWltX2luZm8udG90YWxfY2xhaW1lZCArPSAxO1xuXHR9XG5cdHJldHVybiBuZXcgSHRtbFRhZ0h5ZHJhdGlvbihpc19zdmcsIGNsYWltZWRfbm9kZXMpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7VGV4dH0gdGV4dFxuICogQHBhcmFtIHt1bmtub3dufSBkYXRhXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9kYXRhKHRleHQsIGRhdGEpIHtcblx0ZGF0YSA9ICcnICsgZGF0YTtcblx0aWYgKHRleHQuZGF0YSA9PT0gZGF0YSkgcmV0dXJuO1xuXHR0ZXh0LmRhdGEgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKGRhdGEpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7VGV4dH0gdGV4dFxuICogQHBhcmFtIHt1bmtub3dufSBkYXRhXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9kYXRhX2NvbnRlbnRlZGl0YWJsZSh0ZXh0LCBkYXRhKSB7XG5cdGRhdGEgPSAnJyArIGRhdGE7XG5cdGlmICh0ZXh0Lndob2xlVGV4dCA9PT0gZGF0YSkgcmV0dXJuO1xuXHR0ZXh0LmRhdGEgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKGRhdGEpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7VGV4dH0gdGV4dFxuICogQHBhcmFtIHt1bmtub3dufSBkYXRhXG4gKiBAcGFyYW0ge3N0cmluZ30gYXR0cl92YWx1ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfZGF0YV9tYXliZV9jb250ZW50ZWRpdGFibGUodGV4dCwgZGF0YSwgYXR0cl92YWx1ZSkge1xuXHRpZiAofmNvbnRlbnRlZGl0YWJsZV90cnV0aHlfdmFsdWVzLmluZGV4T2YoYXR0cl92YWx1ZSkpIHtcblx0XHRzZXRfZGF0YV9jb250ZW50ZWRpdGFibGUodGV4dCwgZGF0YSk7XG5cdH0gZWxzZSB7XG5cdFx0c2V0X2RhdGEodGV4dCwgZGF0YSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfaW5wdXRfdmFsdWUoaW5wdXQsIHZhbHVlKSB7XG5cdGlucHV0LnZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2lucHV0X3R5cGUoaW5wdXQsIHR5cGUpIHtcblx0dHJ5IHtcblx0XHRpbnB1dC50eXBlID0gdHlwZTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdC8vIGRvIG5vdGhpbmdcblx0fVxufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9zdHlsZShub2RlLCBrZXksIHZhbHVlLCBpbXBvcnRhbnQpIHtcblx0aWYgKHZhbHVlID09IG51bGwpIHtcblx0XHRub2RlLnN0eWxlLnJlbW92ZVByb3BlcnR5KGtleSk7XG5cdH0gZWxzZSB7XG5cdFx0bm9kZS5zdHlsZS5zZXRQcm9wZXJ0eShrZXksIHZhbHVlLCBpbXBvcnRhbnQgPyAnaW1wb3J0YW50JyA6ICcnKTtcblx0fVxufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdF9vcHRpb24oc2VsZWN0LCB2YWx1ZSwgbW91bnRpbmcpIHtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3Qub3B0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGNvbnN0IG9wdGlvbiA9IHNlbGVjdC5vcHRpb25zW2ldO1xuXHRcdGlmIChvcHRpb24uX192YWx1ZSA9PT0gdmFsdWUpIHtcblx0XHRcdG9wdGlvbi5zZWxlY3RlZCA9IHRydWU7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHR9XG5cdGlmICghbW91bnRpbmcgfHwgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHNlbGVjdC5zZWxlY3RlZEluZGV4ID0gLTE7IC8vIG5vIG9wdGlvbiBzaG91bGQgYmUgc2VsZWN0ZWRcblx0fVxufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdF9vcHRpb25zKHNlbGVjdCwgdmFsdWUpIHtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3Qub3B0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGNvbnN0IG9wdGlvbiA9IHNlbGVjdC5vcHRpb25zW2ldO1xuXHRcdG9wdGlvbi5zZWxlY3RlZCA9IH52YWx1ZS5pbmRleE9mKG9wdGlvbi5fX3ZhbHVlKTtcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0X3ZhbHVlKHNlbGVjdCkge1xuXHRjb25zdCBzZWxlY3RlZF9vcHRpb24gPSBzZWxlY3QucXVlcnlTZWxlY3RvcignOmNoZWNrZWQnKTtcblx0cmV0dXJuIHNlbGVjdGVkX29wdGlvbiAmJiBzZWxlY3RlZF9vcHRpb24uX192YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdF9tdWx0aXBsZV92YWx1ZShzZWxlY3QpIHtcblx0cmV0dXJuIFtdLm1hcC5jYWxsKHNlbGVjdC5xdWVyeVNlbGVjdG9yQWxsKCc6Y2hlY2tlZCcpLCAob3B0aW9uKSA9PiBvcHRpb24uX192YWx1ZSk7XG59XG4vLyB1bmZvcnR1bmF0ZWx5IHRoaXMgY2FuJ3QgYmUgYSBjb25zdGFudCBhcyB0aGF0IHdvdWxkbid0IGJlIHRyZWUtc2hha2VhYmxlXG4vLyBzbyB3ZSBjYWNoZSB0aGUgcmVzdWx0IGluc3RlYWRcblxuLyoqXG4gKiBAdHlwZSB7Ym9vbGVhbn0gKi9cbmxldCBjcm9zc29yaWdpbjtcblxuLyoqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19jcm9zc29yaWdpbigpIHtcblx0aWYgKGNyb3Nzb3JpZ2luID09PSB1bmRlZmluZWQpIHtcblx0XHRjcm9zc29yaWdpbiA9IGZhbHNlO1xuXHRcdHRyeSB7XG5cdFx0XHRpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnBhcmVudCkge1xuXHRcdFx0XHR2b2lkIHdpbmRvdy5wYXJlbnQuZG9jdW1lbnQ7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGNyb3Nzb3JpZ2luID0gdHJ1ZTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGNyb3Nzb3JpZ2luO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gZm5cbiAqIEByZXR1cm5zIHsoKSA9PiB2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkX2lmcmFtZV9yZXNpemVfbGlzdGVuZXIobm9kZSwgZm4pIHtcblx0Y29uc3QgY29tcHV0ZWRfc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuXHRpZiAoY29tcHV0ZWRfc3R5bGUucG9zaXRpb24gPT09ICdzdGF0aWMnKSB7XG5cdFx0bm9kZS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG5cdH1cblx0Y29uc3QgaWZyYW1lID0gZWxlbWVudCgnaWZyYW1lJyk7XG5cdGlmcmFtZS5zZXRBdHRyaWJ1dGUoXG5cdFx0J3N0eWxlJyxcblx0XHQnZGlzcGxheTogYmxvY2s7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAwOyBsZWZ0OiAwOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyAnICtcblx0XHRcdCdvdmVyZmxvdzogaGlkZGVuOyBib3JkZXI6IDA7IG9wYWNpdHk6IDA7IHBvaW50ZXItZXZlbnRzOiBub25lOyB6LWluZGV4OiAtMTsnXG5cdCk7XG5cdGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcblx0aWZyYW1lLnRhYkluZGV4ID0gLTE7XG5cdGNvbnN0IGNyb3Nzb3JpZ2luID0gaXNfY3Jvc3NvcmlnaW4oKTtcblxuXHQvKipcblx0ICogQHR5cGUgeygpID0+IHZvaWR9XG5cdCAqL1xuXHRsZXQgdW5zdWJzY3JpYmU7XG5cdGlmIChjcm9zc29yaWdpbikge1xuXHRcdGlmcmFtZS5zcmMgPSBcImRhdGE6dGV4dC9odG1sLDxzY3JpcHQ+b25yZXNpemU9ZnVuY3Rpb24oKXtwYXJlbnQucG9zdE1lc3NhZ2UoMCwnKicpfTwvc2NyaXB0PlwiO1xuXHRcdHVuc3Vic2NyaWJlID0gbGlzdGVuKFxuXHRcdFx0d2luZG93LFxuXHRcdFx0J21lc3NhZ2UnLFxuXHRcdFx0LyoqIEBwYXJhbSB7TWVzc2FnZUV2ZW50fSBldmVudCAqLyAoZXZlbnQpID0+IHtcblx0XHRcdFx0aWYgKGV2ZW50LnNvdXJjZSA9PT0gaWZyYW1lLmNvbnRlbnRXaW5kb3cpIGZuKCk7XG5cdFx0XHR9XG5cdFx0KTtcblx0fSBlbHNlIHtcblx0XHRpZnJhbWUuc3JjID0gJ2Fib3V0OmJsYW5rJztcblx0XHRpZnJhbWUub25sb2FkID0gKCkgPT4ge1xuXHRcdFx0dW5zdWJzY3JpYmUgPSBsaXN0ZW4oaWZyYW1lLmNvbnRlbnRXaW5kb3csICdyZXNpemUnLCBmbik7XG5cdFx0XHQvLyBtYWtlIHN1cmUgYW4gaW5pdGlhbCByZXNpemUgZXZlbnQgaXMgZmlyZWQgX2FmdGVyXyB0aGUgaWZyYW1lIGlzIGxvYWRlZCAod2hpY2ggaXMgYXN5bmNocm9ub3VzKVxuXHRcdFx0Ly8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9zdmVsdGVqcy9zdmVsdGUvaXNzdWVzLzQyMzNcblx0XHRcdGZuKCk7XG5cdFx0fTtcblx0fVxuXHRhcHBlbmQobm9kZSwgaWZyYW1lKTtcblx0cmV0dXJuICgpID0+IHtcblx0XHRpZiAoY3Jvc3NvcmlnaW4pIHtcblx0XHRcdHVuc3Vic2NyaWJlKCk7XG5cdFx0fSBlbHNlIGlmICh1bnN1YnNjcmliZSAmJiBpZnJhbWUuY29udGVudFdpbmRvdykge1xuXHRcdFx0dW5zdWJzY3JpYmUoKTtcblx0XHR9XG5cdFx0ZGV0YWNoKGlmcmFtZSk7XG5cdH07XG59XG5leHBvcnQgY29uc3QgcmVzaXplX29ic2VydmVyX2NvbnRlbnRfYm94ID0gLyogQF9fUFVSRV9fICovIG5ldyBSZXNpemVPYnNlcnZlclNpbmdsZXRvbih7XG5cdGJveDogJ2NvbnRlbnQtYm94J1xufSk7XG5leHBvcnQgY29uc3QgcmVzaXplX29ic2VydmVyX2JvcmRlcl9ib3ggPSAvKiBAX19QVVJFX18gKi8gbmV3IFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uKHtcblx0Ym94OiAnYm9yZGVyLWJveCdcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc2l6ZV9vYnNlcnZlcl9kZXZpY2VfcGl4ZWxfY29udGVudF9ib3ggPSAvKiBAX19QVVJFX18gKi8gbmV3IFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uKFxuXHR7IGJveDogJ2RldmljZS1waXhlbC1jb250ZW50LWJveCcgfVxuKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uIH07XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdG9nZ2xlX2NsYXNzKGVsZW1lbnQsIG5hbWUsIHRvZ2dsZSkge1xuXHQvLyBUaGUgYCEhYCBpcyByZXF1aXJlZCBiZWNhdXNlIGFuIGB1bmRlZmluZWRgIGZsYWcgbWVhbnMgZmxpcHBpbmcgdGhlIGN1cnJlbnQgc3RhdGUuXG5cdGVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShuYW1lLCAhIXRvZ2dsZSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge1R9IFtkZXRhaWxdXG4gKiBAcGFyYW0ge3sgYnViYmxlcz86IGJvb2xlYW4sIGNhbmNlbGFibGU/OiBib29sZWFuIH19IFtvcHRpb25zXVxuICogQHJldHVybnMge0N1c3RvbUV2ZW50PFQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3VzdG9tX2V2ZW50KHR5cGUsIGRldGFpbCwgeyBidWJibGVzID0gZmFsc2UsIGNhbmNlbGFibGUgPSBmYWxzZSB9ID0ge30pIHtcblx0cmV0dXJuIG5ldyBDdXN0b21FdmVudCh0eXBlLCB7IGRldGFpbCwgYnViYmxlcywgY2FuY2VsYWJsZSB9KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3JcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudFxuICogQHJldHVybnMge0NoaWxkTm9kZUFycmF5fVxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVlcnlfc2VsZWN0b3JfYWxsKHNlbGVjdG9yLCBwYXJlbnQgPSBkb2N1bWVudC5ib2R5KSB7XG5cdHJldHVybiBBcnJheS5mcm9tKHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IG5vZGVJZFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gaGVhZFxuICogQHJldHVybnMge2FueVtdfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGVhZF9zZWxlY3Rvcihub2RlSWQsIGhlYWQpIHtcblx0Y29uc3QgcmVzdWx0ID0gW107XG5cdGxldCBzdGFydGVkID0gMDtcblx0Zm9yIChjb25zdCBub2RlIG9mIGhlYWQuY2hpbGROb2Rlcykge1xuXHRcdGlmIChub2RlLm5vZGVUeXBlID09PSA4IC8qIGNvbW1lbnQgbm9kZSAqLykge1xuXHRcdFx0Y29uc3QgY29tbWVudCA9IG5vZGUudGV4dENvbnRlbnQudHJpbSgpO1xuXHRcdFx0aWYgKGNvbW1lbnQgPT09IGBIRUFEXyR7bm9kZUlkfV9FTkRgKSB7XG5cdFx0XHRcdHN0YXJ0ZWQgLT0gMTtcblx0XHRcdFx0cmVzdWx0LnB1c2gobm9kZSk7XG5cdFx0XHR9IGVsc2UgaWYgKGNvbW1lbnQgPT09IGBIRUFEXyR7bm9kZUlkfV9TVEFSVGApIHtcblx0XHRcdFx0c3RhcnRlZCArPSAxO1xuXHRcdFx0XHRyZXN1bHQucHVzaChub2RlKTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKHN0YXJ0ZWQgPiAwKSB7XG5cdFx0XHRyZXN1bHQucHVzaChub2RlKTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn1cbi8qKiAqL1xuZXhwb3J0IGNsYXNzIEh0bWxUYWcge1xuXHQvKipcblx0ICogQHByaXZhdGVcblx0ICogQGRlZmF1bHQgZmFsc2Vcblx0ICovXG5cdGlzX3N2ZyA9IGZhbHNlO1xuXHQvKiogcGFyZW50IGZvciBjcmVhdGluZyBub2RlICovXG5cdGUgPSB1bmRlZmluZWQ7XG5cdC8qKiBodG1sIHRhZyBub2RlcyAqL1xuXHRuID0gdW5kZWZpbmVkO1xuXHQvKiogdGFyZ2V0ICovXG5cdHQgPSB1bmRlZmluZWQ7XG5cdC8qKiBhbmNob3IgKi9cblx0YSA9IHVuZGVmaW5lZDtcblx0Y29uc3RydWN0b3IoaXNfc3ZnID0gZmFsc2UpIHtcblx0XHR0aGlzLmlzX3N2ZyA9IGlzX3N2Zztcblx0XHR0aGlzLmUgPSB0aGlzLm4gPSBudWxsO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0YyhodG1sKSB7XG5cdFx0dGhpcy5oKGh0bWwpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sXG5cdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnQgfCBTVkdFbGVtZW50fSB0YXJnZXRcblx0ICogQHBhcmFtIHtIVE1MRWxlbWVudCB8IFNWR0VsZW1lbnR9IGFuY2hvclxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdG0oaHRtbCwgdGFyZ2V0LCBhbmNob3IgPSBudWxsKSB7XG5cdFx0aWYgKCF0aGlzLmUpIHtcblx0XHRcdGlmICh0aGlzLmlzX3N2Zylcblx0XHRcdFx0dGhpcy5lID0gc3ZnX2VsZW1lbnQoLyoqIEB0eXBlIHtrZXlvZiBTVkdFbGVtZW50VGFnTmFtZU1hcH0gKi8gKHRhcmdldC5ub2RlTmFtZSkpO1xuXHRcdFx0LyoqICM3MzY0ICB0YXJnZXQgZm9yIDx0ZW1wbGF0ZT4gbWF5IGJlIHByb3ZpZGVkIGFzICNkb2N1bWVudC1mcmFnbWVudCgxMSkgKi8gZWxzZVxuXHRcdFx0XHR0aGlzLmUgPSBlbGVtZW50KFxuXHRcdFx0XHRcdC8qKiBAdHlwZSB7a2V5b2YgSFRNTEVsZW1lbnRUYWdOYW1lTWFwfSAqLyAoXG5cdFx0XHRcdFx0XHR0YXJnZXQubm9kZVR5cGUgPT09IDExID8gJ1RFTVBMQVRFJyA6IHRhcmdldC5ub2RlTmFtZVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KTtcblx0XHRcdHRoaXMudCA9XG5cdFx0XHRcdHRhcmdldC50YWdOYW1lICE9PSAnVEVNUExBVEUnXG5cdFx0XHRcdFx0PyB0YXJnZXRcblx0XHRcdFx0XHQ6IC8qKiBAdHlwZSB7SFRNTFRlbXBsYXRlRWxlbWVudH0gKi8gKHRhcmdldCkuY29udGVudDtcblx0XHRcdHRoaXMuYyhodG1sKTtcblx0XHR9XG5cdFx0dGhpcy5pKGFuY2hvcik7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRoKGh0bWwpIHtcblx0XHR0aGlzLmUuaW5uZXJIVE1MID0gaHRtbDtcblx0XHR0aGlzLm4gPSBBcnJheS5mcm9tKFxuXHRcdFx0dGhpcy5lLm5vZGVOYW1lID09PSAnVEVNUExBVEUnID8gdGhpcy5lLmNvbnRlbnQuY2hpbGROb2RlcyA6IHRoaXMuZS5jaGlsZE5vZGVzXG5cdFx0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0aShhbmNob3IpIHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubi5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0aW5zZXJ0KHRoaXMudCwgdGhpcy5uW2ldLCBhbmNob3IpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbFxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdHAoaHRtbCkge1xuXHRcdHRoaXMuZCgpO1xuXHRcdHRoaXMuaChodG1sKTtcblx0XHR0aGlzLmkodGhpcy5hKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0ZCgpIHtcblx0XHR0aGlzLm4uZm9yRWFjaChkZXRhY2gpO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBIdG1sVGFnSHlkcmF0aW9uIGV4dGVuZHMgSHRtbFRhZyB7XG5cdC8qKiBAdHlwZSB7RWxlbWVudFtdfSBoeWRyYXRpb24gY2xhaW1lZCBub2RlcyAqL1xuXHRsID0gdW5kZWZpbmVkO1xuXG5cdGNvbnN0cnVjdG9yKGlzX3N2ZyA9IGZhbHNlLCBjbGFpbWVkX25vZGVzKSB7XG5cdFx0c3VwZXIoaXNfc3ZnKTtcblx0XHR0aGlzLmUgPSB0aGlzLm4gPSBudWxsO1xuXHRcdHRoaXMubCA9IGNsYWltZWRfbm9kZXM7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRjKGh0bWwpIHtcblx0XHRpZiAodGhpcy5sKSB7XG5cdFx0XHR0aGlzLm4gPSB0aGlzLmw7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN1cGVyLmMoaHRtbCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRpKGFuY2hvcikge1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRpbnNlcnRfaHlkcmF0aW9uKHRoaXMudCwgdGhpcy5uW2ldLCBhbmNob3IpO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7TmFtZWROb2RlTWFwfSBhdHRyaWJ1dGVzXG4gKiBAcmV0dXJucyB7e319XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhdHRyaWJ1dGVfdG9fb2JqZWN0KGF0dHJpYnV0ZXMpIHtcblx0Y29uc3QgcmVzdWx0ID0ge307XG5cdGZvciAoY29uc3QgYXR0cmlidXRlIG9mIGF0dHJpYnV0ZXMpIHtcblx0XHRyZXN1bHRbYXR0cmlidXRlLm5hbWVdID0gYXR0cmlidXRlLnZhbHVlO1xuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybnMge3t9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X2N1c3RvbV9lbGVtZW50c19zbG90cyhlbGVtZW50KSB7XG5cdGNvbnN0IHJlc3VsdCA9IHt9O1xuXHRlbGVtZW50LmNoaWxkTm9kZXMuZm9yRWFjaChcblx0XHQvKiogQHBhcmFtIHtFbGVtZW50fSBub2RlICovIChub2RlKSA9PiB7XG5cdFx0XHRyZXN1bHRbbm9kZS5zbG90IHx8ICdkZWZhdWx0J10gPSB0cnVlO1xuXHRcdH1cblx0KTtcblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnN0cnVjdF9zdmVsdGVfY29tcG9uZW50KGNvbXBvbmVudCwgcHJvcHMpIHtcblx0cmV0dXJuIG5ldyBjb21wb25lbnQocHJvcHMpO1xufVxuXG4vKipcbiAqIEB0eXBlZGVmIHtOb2RlICYge1xuICogXHRjbGFpbV9vcmRlcj86IG51bWJlcjtcbiAqIFx0aHlkcmF0ZV9pbml0PzogdHJ1ZTtcbiAqIFx0YWN0dWFsX2VuZF9jaGlsZD86IE5vZGVFeDtcbiAqIFx0Y2hpbGROb2RlczogTm9kZUxpc3RPZjxOb2RlRXg+O1xuICogfX0gTm9kZUV4XG4gKi9cblxuLyoqIEB0eXBlZGVmIHtDaGlsZE5vZGUgJiBOb2RlRXh9IENoaWxkTm9kZUV4ICovXG5cbi8qKiBAdHlwZWRlZiB7Tm9kZUV4ICYgeyBjbGFpbV9vcmRlcjogbnVtYmVyIH19IE5vZGVFeDIgKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7Q2hpbGROb2RlRXhbXSAmIHtcbiAqIFx0Y2xhaW1faW5mbz86IHtcbiAqIFx0XHRsYXN0X2luZGV4OiBudW1iZXI7XG4gKiBcdFx0dG90YWxfY2xhaW1lZDogbnVtYmVyO1xuICogXHR9O1xuICogfX0gQ2hpbGROb2RlQXJyYXlcbiAqL1xuIiwiaW1wb3J0IHsgY3VzdG9tX2V2ZW50IH0gZnJvbSAnLi9kb20uanMnO1xuXG5leHBvcnQgbGV0IGN1cnJlbnRfY29tcG9uZW50O1xuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2N1cnJlbnRfY29tcG9uZW50KGNvbXBvbmVudCkge1xuXHRjdXJyZW50X2NvbXBvbmVudCA9IGNvbXBvbmVudDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldF9jdXJyZW50X2NvbXBvbmVudCgpIHtcblx0aWYgKCFjdXJyZW50X2NvbXBvbmVudCkgdGhyb3cgbmV3IEVycm9yKCdGdW5jdGlvbiBjYWxsZWQgb3V0c2lkZSBjb21wb25lbnQgaW5pdGlhbGl6YXRpb24nKTtcblx0cmV0dXJuIGN1cnJlbnRfY29tcG9uZW50O1xufVxuXG4vKipcbiAqIFNjaGVkdWxlcyBhIGNhbGxiYWNrIHRvIHJ1biBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyB1cGRhdGVkIGFmdGVyIGFueSBzdGF0ZSBjaGFuZ2UuXG4gKlxuICogVGhlIGZpcnN0IHRpbWUgdGhlIGNhbGxiYWNrIHJ1bnMgd2lsbCBiZSBiZWZvcmUgdGhlIGluaXRpYWwgYG9uTW91bnRgXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2JlZm9yZXVwZGF0ZVxuICogQHBhcmFtIHsoKSA9PiBhbnl9IGZuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJlZm9yZVVwZGF0ZShmbikge1xuXHRnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5iZWZvcmVfdXBkYXRlLnB1c2goZm4pO1xufVxuXG4vKipcbiAqIFRoZSBgb25Nb3VudGAgZnVuY3Rpb24gc2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGFzIHNvb24gYXMgdGhlIGNvbXBvbmVudCBoYXMgYmVlbiBtb3VudGVkIHRvIHRoZSBET00uXG4gKiBJdCBtdXN0IGJlIGNhbGxlZCBkdXJpbmcgdGhlIGNvbXBvbmVudCdzIGluaXRpYWxpc2F0aW9uIChidXQgZG9lc24ndCBuZWVkIHRvIGxpdmUgKmluc2lkZSogdGhlIGNvbXBvbmVudDtcbiAqIGl0IGNhbiBiZSBjYWxsZWQgZnJvbSBhbiBleHRlcm5hbCBtb2R1bGUpLlxuICpcbiAqIElmIGEgZnVuY3Rpb24gaXMgcmV0dXJuZWQgX3N5bmNocm9ub3VzbHlfIGZyb20gYG9uTW91bnRgLCBpdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgdW5tb3VudGVkLlxuICpcbiAqIGBvbk1vdW50YCBkb2VzIG5vdCBydW4gaW5zaWRlIGEgW3NlcnZlci1zaWRlIGNvbXBvbmVudF0oL2RvY3MjcnVuLXRpbWUtc2VydmVyLXNpZGUtY29tcG9uZW50LWFwaSkuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI29ubW91bnRcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0geygpID0+IGltcG9ydCgnLi9wcml2YXRlLmpzJykuTm90RnVuY3Rpb248VD4gfCBQcm9taXNlPGltcG9ydCgnLi9wcml2YXRlLmpzJykuTm90RnVuY3Rpb248VD4+IHwgKCgpID0+IGFueSl9IGZuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uTW91bnQoZm4pIHtcblx0Z2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQub25fbW91bnQucHVzaChmbik7XG59XG5cbi8qKlxuICogU2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gdXBkYXRlZC5cbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgcnVucyB3aWxsIGJlIGFmdGVyIHRoZSBpbml0aWFsIGBvbk1vdW50YFxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZSNhZnRlcnVwZGF0ZVxuICogQHBhcmFtIHsoKSA9PiBhbnl9IGZuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFmdGVyVXBkYXRlKGZuKSB7XG5cdGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmFmdGVyX3VwZGF0ZS5wdXNoKGZuKTtcbn1cblxuLyoqXG4gKiBTY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgdW5tb3VudGVkLlxuICpcbiAqIE91dCBvZiBgb25Nb3VudGAsIGBiZWZvcmVVcGRhdGVgLCBgYWZ0ZXJVcGRhdGVgIGFuZCBgb25EZXN0cm95YCwgdGhpcyBpcyB0aGVcbiAqIG9ubHkgb25lIHRoYXQgcnVucyBpbnNpZGUgYSBzZXJ2ZXItc2lkZSBjb21wb25lbnQuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI29uZGVzdHJveVxuICogQHBhcmFtIHsoKSA9PiBhbnl9IGZuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uRGVzdHJveShmbikge1xuXHRnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5vbl9kZXN0cm95LnB1c2goZm4pO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gZXZlbnQgZGlzcGF0Y2hlciB0aGF0IGNhbiBiZSB1c2VkIHRvIGRpc3BhdGNoIFtjb21wb25lbnQgZXZlbnRzXSgvZG9jcyN0ZW1wbGF0ZS1zeW50YXgtY29tcG9uZW50LWRpcmVjdGl2ZXMtb24tZXZlbnRuYW1lKS5cbiAqIEV2ZW50IGRpc3BhdGNoZXJzIGFyZSBmdW5jdGlvbnMgdGhhdCBjYW4gdGFrZSB0d28gYXJndW1lbnRzOiBgbmFtZWAgYW5kIGBkZXRhaWxgLlxuICpcbiAqIENvbXBvbmVudCBldmVudHMgY3JlYXRlZCB3aXRoIGBjcmVhdGVFdmVudERpc3BhdGNoZXJgIGNyZWF0ZSBhXG4gKiBbQ3VzdG9tRXZlbnRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DdXN0b21FdmVudCkuXG4gKiBUaGVzZSBldmVudHMgZG8gbm90IFtidWJibGVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvTGVhcm4vSmF2YVNjcmlwdC9CdWlsZGluZ19ibG9ja3MvRXZlbnRzI0V2ZW50X2J1YmJsaW5nX2FuZF9jYXB0dXJlKS5cbiAqIFRoZSBgZGV0YWlsYCBhcmd1bWVudCBjb3JyZXNwb25kcyB0byB0aGUgW0N1c3RvbUV2ZW50LmRldGFpbF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0N1c3RvbUV2ZW50L2RldGFpbClcbiAqIHByb3BlcnR5IGFuZCBjYW4gY29udGFpbiBhbnkgdHlwZSBvZiBkYXRhLlxuICpcbiAqIFRoZSBldmVudCBkaXNwYXRjaGVyIGNhbiBiZSB0eXBlZCB0byBuYXJyb3cgdGhlIGFsbG93ZWQgZXZlbnQgbmFtZXMgYW5kIHRoZSB0eXBlIG9mIHRoZSBgZGV0YWlsYCBhcmd1bWVudDpcbiAqIGBgYHRzXG4gKiBjb25zdCBkaXNwYXRjaCA9IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcjx7XG4gKiAgbG9hZGVkOiBuZXZlcjsgLy8gZG9lcyBub3QgdGFrZSBhIGRldGFpbCBhcmd1bWVudFxuICogIGNoYW5nZTogc3RyaW5nOyAvLyB0YWtlcyBhIGRldGFpbCBhcmd1bWVudCBvZiB0eXBlIHN0cmluZywgd2hpY2ggaXMgcmVxdWlyZWRcbiAqICBvcHRpb25hbDogbnVtYmVyIHwgbnVsbDsgLy8gdGFrZXMgYW4gb3B0aW9uYWwgZGV0YWlsIGFyZ3VtZW50IG9mIHR5cGUgbnVtYmVyXG4gKiB9PigpO1xuICogYGBgXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2NyZWF0ZWV2ZW50ZGlzcGF0Y2hlclxuICogQHRlbXBsYXRlIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBbRXZlbnRNYXA9YW55XVxuICogQHJldHVybnMge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5FdmVudERpc3BhdGNoZXI8RXZlbnRNYXA+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCkge1xuXHRjb25zdCBjb21wb25lbnQgPSBnZXRfY3VycmVudF9jb21wb25lbnQoKTtcblx0cmV0dXJuICh0eXBlLCBkZXRhaWwsIHsgY2FuY2VsYWJsZSA9IGZhbHNlIH0gPSB7fSkgPT4ge1xuXHRcdGNvbnN0IGNhbGxiYWNrcyA9IGNvbXBvbmVudC4kJC5jYWxsYmFja3NbdHlwZV07XG5cdFx0aWYgKGNhbGxiYWNrcykge1xuXHRcdFx0Ly8gVE9ETyBhcmUgdGhlcmUgc2l0dWF0aW9ucyB3aGVyZSBldmVudHMgY291bGQgYmUgZGlzcGF0Y2hlZFxuXHRcdFx0Ly8gaW4gYSBzZXJ2ZXIgKG5vbi1ET00pIGVudmlyb25tZW50P1xuXHRcdFx0Y29uc3QgZXZlbnQgPSBjdXN0b21fZXZlbnQoLyoqIEB0eXBlIHtzdHJpbmd9ICovICh0eXBlKSwgZGV0YWlsLCB7IGNhbmNlbGFibGUgfSk7XG5cdFx0XHRjYWxsYmFja3Muc2xpY2UoKS5mb3JFYWNoKChmbikgPT4ge1xuXHRcdFx0XHRmbi5jYWxsKGNvbXBvbmVudCwgZXZlbnQpO1xuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xufVxuXG4vKipcbiAqIEFzc29jaWF0ZXMgYW4gYXJiaXRyYXJ5IGBjb250ZXh0YCBvYmplY3Qgd2l0aCB0aGUgY3VycmVudCBjb21wb25lbnQgYW5kIHRoZSBzcGVjaWZpZWQgYGtleWBcbiAqIGFuZCByZXR1cm5zIHRoYXQgb2JqZWN0LiBUaGUgY29udGV4dCBpcyB0aGVuIGF2YWlsYWJsZSB0byBjaGlsZHJlbiBvZiB0aGUgY29tcG9uZW50XG4gKiAoaW5jbHVkaW5nIHNsb3R0ZWQgY29udGVudCkgd2l0aCBgZ2V0Q29udGV4dGAuXG4gKlxuICogTGlrZSBsaWZlY3ljbGUgZnVuY3Rpb25zLCB0aGlzIG11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI3NldGNvbnRleHRcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge2FueX0ga2V5XG4gKiBAcGFyYW0ge1R9IGNvbnRleHRcbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0Q29udGV4dChrZXksIGNvbnRleHQpIHtcblx0Z2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dC5zZXQoa2V5LCBjb250ZXh0KTtcblx0cmV0dXJuIGNvbnRleHQ7XG59XG5cbi8qKlxuICogUmV0cmlldmVzIHRoZSBjb250ZXh0IHRoYXQgYmVsb25ncyB0byB0aGUgY2xvc2VzdCBwYXJlbnQgY29tcG9uZW50IHdpdGggdGhlIHNwZWNpZmllZCBga2V5YC5cbiAqIE11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2dldGNvbnRleHRcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge2FueX0ga2V5XG4gKiBAcmV0dXJucyB7VH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbnRleHQoa2V5KSB7XG5cdHJldHVybiBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0LmdldChrZXkpO1xufVxuXG4vKipcbiAqIFJldHJpZXZlcyB0aGUgd2hvbGUgY29udGV4dCBtYXAgdGhhdCBiZWxvbmdzIHRvIHRoZSBjbG9zZXN0IHBhcmVudCBjb21wb25lbnQuXG4gKiBNdXN0IGJlIGNhbGxlZCBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uLiBVc2VmdWwsIGZvciBleGFtcGxlLCBpZiB5b3VcbiAqIHByb2dyYW1tYXRpY2FsbHkgY3JlYXRlIGEgY29tcG9uZW50IGFuZCB3YW50IHRvIHBhc3MgdGhlIGV4aXN0aW5nIGNvbnRleHQgdG8gaXQuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2dldGFsbGNvbnRleHRzXG4gKiBAdGVtcGxhdGUge01hcDxhbnksIGFueT59IFtUPU1hcDxhbnksIGFueT5dXG4gKiBAcmV0dXJucyB7VH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFsbENvbnRleHRzKCkge1xuXHRyZXR1cm4gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dDtcbn1cblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBhIGdpdmVuIGBrZXlgIGhhcyBiZWVuIHNldCBpbiB0aGUgY29udGV4dCBvZiBhIHBhcmVudCBjb21wb25lbnQuXG4gKiBNdXN0IGJlIGNhbGxlZCBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZSNoYXNjb250ZXh0XG4gKiBAcGFyYW0ge2FueX0ga2V5XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0NvbnRleHQoa2V5KSB7XG5cdHJldHVybiBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0LmhhcyhrZXkpO1xufVxuXG4vLyBUT0RPIGZpZ3VyZSBvdXQgaWYgd2Ugc3RpbGwgd2FudCB0byBzdXBwb3J0XG4vLyBzaG9ydGhhbmQgZXZlbnRzLCBvciBpZiB3ZSB3YW50IHRvIGltcGxlbWVudFxuLy8gYSByZWFsIGJ1YmJsaW5nIG1lY2hhbmlzbVxuLyoqXG4gKiBAcGFyYW0gY29tcG9uZW50XG4gKiBAcGFyYW0gZXZlbnRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYnViYmxlKGNvbXBvbmVudCwgZXZlbnQpIHtcblx0Y29uc3QgY2FsbGJhY2tzID0gY29tcG9uZW50LiQkLmNhbGxiYWNrc1tldmVudC50eXBlXTtcblx0aWYgKGNhbGxiYWNrcykge1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRjYWxsYmFja3Muc2xpY2UoKS5mb3JFYWNoKChmbikgPT4gZm4uY2FsbCh0aGlzLCBldmVudCkpO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBydW5fYWxsIH0gZnJvbSAnLi91dGlscy5qcyc7XG5pbXBvcnQgeyBjdXJyZW50X2NvbXBvbmVudCwgc2V0X2N1cnJlbnRfY29tcG9uZW50IH0gZnJvbSAnLi9saWZlY3ljbGUuanMnO1xuXG5leHBvcnQgY29uc3QgZGlydHlfY29tcG9uZW50cyA9IFtdO1xuZXhwb3J0IGNvbnN0IGludHJvcyA9IHsgZW5hYmxlZDogZmFsc2UgfTtcbmV4cG9ydCBjb25zdCBiaW5kaW5nX2NhbGxiYWNrcyA9IFtdO1xuXG5sZXQgcmVuZGVyX2NhbGxiYWNrcyA9IFtdO1xuXG5jb25zdCBmbHVzaF9jYWxsYmFja3MgPSBbXTtcblxuY29uc3QgcmVzb2x2ZWRfcHJvbWlzZSA9IC8qIEBfX1BVUkVfXyAqLyBQcm9taXNlLnJlc29sdmUoKTtcblxubGV0IHVwZGF0ZV9zY2hlZHVsZWQgPSBmYWxzZTtcblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlX3VwZGF0ZSgpIHtcblx0aWYgKCF1cGRhdGVfc2NoZWR1bGVkKSB7XG5cdFx0dXBkYXRlX3NjaGVkdWxlZCA9IHRydWU7XG5cdFx0cmVzb2x2ZWRfcHJvbWlzZS50aGVuKGZsdXNoKTtcblx0fVxufVxuXG4vKiogQHJldHVybnMge1Byb21pc2U8dm9pZD59ICovXG5leHBvcnQgZnVuY3Rpb24gdGljaygpIHtcblx0c2NoZWR1bGVfdXBkYXRlKCk7XG5cdHJldHVybiByZXNvbHZlZF9wcm9taXNlO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gYWRkX3JlbmRlcl9jYWxsYmFjayhmbikge1xuXHRyZW5kZXJfY2FsbGJhY2tzLnB1c2goZm4pO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gYWRkX2ZsdXNoX2NhbGxiYWNrKGZuKSB7XG5cdGZsdXNoX2NhbGxiYWNrcy5wdXNoKGZuKTtcbn1cblxuLy8gZmx1c2goKSBjYWxscyBjYWxsYmFja3MgaW4gdGhpcyBvcmRlcjpcbi8vIDEuIEFsbCBiZWZvcmVVcGRhdGUgY2FsbGJhY2tzLCBpbiBvcmRlcjogcGFyZW50cyBiZWZvcmUgY2hpbGRyZW5cbi8vIDIuIEFsbCBiaW5kOnRoaXMgY2FsbGJhY2tzLCBpbiByZXZlcnNlIG9yZGVyOiBjaGlsZHJlbiBiZWZvcmUgcGFyZW50cy5cbi8vIDMuIEFsbCBhZnRlclVwZGF0ZSBjYWxsYmFja3MsIGluIG9yZGVyOiBwYXJlbnRzIGJlZm9yZSBjaGlsZHJlbi4gRVhDRVBUXG4vLyAgICBmb3IgYWZ0ZXJVcGRhdGVzIGNhbGxlZCBkdXJpbmcgdGhlIGluaXRpYWwgb25Nb3VudCwgd2hpY2ggYXJlIGNhbGxlZCBpblxuLy8gICAgcmV2ZXJzZSBvcmRlcjogY2hpbGRyZW4gYmVmb3JlIHBhcmVudHMuXG4vLyBTaW5jZSBjYWxsYmFja3MgbWlnaHQgdXBkYXRlIGNvbXBvbmVudCB2YWx1ZXMsIHdoaWNoIGNvdWxkIHRyaWdnZXIgYW5vdGhlclxuLy8gY2FsbCB0byBmbHVzaCgpLCB0aGUgZm9sbG93aW5nIHN0ZXBzIGd1YXJkIGFnYWluc3QgdGhpczpcbi8vIDEuIER1cmluZyBiZWZvcmVVcGRhdGUsIGFueSB1cGRhdGVkIGNvbXBvbmVudHMgd2lsbCBiZSBhZGRlZCB0byB0aGVcbi8vICAgIGRpcnR5X2NvbXBvbmVudHMgYXJyYXkgYW5kIHdpbGwgY2F1c2UgYSByZWVudHJhbnQgY2FsbCB0byBmbHVzaCgpLiBCZWNhdXNlXG4vLyAgICB0aGUgZmx1c2ggaW5kZXggaXMga2VwdCBvdXRzaWRlIHRoZSBmdW5jdGlvbiwgdGhlIHJlZW50cmFudCBjYWxsIHdpbGwgcGlja1xuLy8gICAgdXAgd2hlcmUgdGhlIGVhcmxpZXIgY2FsbCBsZWZ0IG9mZiBhbmQgZ28gdGhyb3VnaCBhbGwgZGlydHkgY29tcG9uZW50cy4gVGhlXG4vLyAgICBjdXJyZW50X2NvbXBvbmVudCB2YWx1ZSBpcyBzYXZlZCBhbmQgcmVzdG9yZWQgc28gdGhhdCB0aGUgcmVlbnRyYW50IGNhbGwgd2lsbFxuLy8gICAgbm90IGludGVyZmVyZSB3aXRoIHRoZSBcInBhcmVudFwiIGZsdXNoKCkgY2FsbC5cbi8vIDIuIGJpbmQ6dGhpcyBjYWxsYmFja3MgY2Fubm90IHRyaWdnZXIgbmV3IGZsdXNoKCkgY2FsbHMuXG4vLyAzLiBEdXJpbmcgYWZ0ZXJVcGRhdGUsIGFueSB1cGRhdGVkIGNvbXBvbmVudHMgd2lsbCBOT1QgaGF2ZSB0aGVpciBhZnRlclVwZGF0ZVxuLy8gICAgY2FsbGJhY2sgY2FsbGVkIGEgc2Vjb25kIHRpbWU7IHRoZSBzZWVuX2NhbGxiYWNrcyBzZXQsIG91dHNpZGUgdGhlIGZsdXNoKClcbi8vICAgIGZ1bmN0aW9uLCBndWFyYW50ZWVzIHRoaXMgYmVoYXZpb3IuXG5jb25zdCBzZWVuX2NhbGxiYWNrcyA9IG5ldyBTZXQoKTtcblxubGV0IGZsdXNoaWR4ID0gMDsgLy8gRG8gKm5vdCogbW92ZSB0aGlzIGluc2lkZSB0aGUgZmx1c2goKSBmdW5jdGlvblxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZmx1c2goKSB7XG5cdC8vIERvIG5vdCByZWVudGVyIGZsdXNoIHdoaWxlIGRpcnR5IGNvbXBvbmVudHMgYXJlIHVwZGF0ZWQsIGFzIHRoaXMgY2FuXG5cdC8vIHJlc3VsdCBpbiBhbiBpbmZpbml0ZSBsb29wLiBJbnN0ZWFkLCBsZXQgdGhlIGlubmVyIGZsdXNoIGhhbmRsZSBpdC5cblx0Ly8gUmVlbnRyYW5jeSBpcyBvayBhZnRlcndhcmRzIGZvciBiaW5kaW5ncyBldGMuXG5cdGlmIChmbHVzaGlkeCAhPT0gMCkge1xuXHRcdHJldHVybjtcblx0fVxuXHRjb25zdCBzYXZlZF9jb21wb25lbnQgPSBjdXJyZW50X2NvbXBvbmVudDtcblx0ZG8ge1xuXHRcdC8vIGZpcnN0LCBjYWxsIGJlZm9yZVVwZGF0ZSBmdW5jdGlvbnNcblx0XHQvLyBhbmQgdXBkYXRlIGNvbXBvbmVudHNcblx0XHR0cnkge1xuXHRcdFx0d2hpbGUgKGZsdXNoaWR4IDwgZGlydHlfY29tcG9uZW50cy5sZW5ndGgpIHtcblx0XHRcdFx0Y29uc3QgY29tcG9uZW50ID0gZGlydHlfY29tcG9uZW50c1tmbHVzaGlkeF07XG5cdFx0XHRcdGZsdXNoaWR4Kys7XG5cdFx0XHRcdHNldF9jdXJyZW50X2NvbXBvbmVudChjb21wb25lbnQpO1xuXHRcdFx0XHR1cGRhdGUoY29tcG9uZW50LiQkKTtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHQvLyByZXNldCBkaXJ0eSBzdGF0ZSB0byBub3QgZW5kIHVwIGluIGEgZGVhZGxvY2tlZCBzdGF0ZSBhbmQgdGhlbiByZXRocm93XG5cdFx0XHRkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCA9IDA7XG5cdFx0XHRmbHVzaGlkeCA9IDA7XG5cdFx0XHR0aHJvdyBlO1xuXHRcdH1cblx0XHRzZXRfY3VycmVudF9jb21wb25lbnQobnVsbCk7XG5cdFx0ZGlydHlfY29tcG9uZW50cy5sZW5ndGggPSAwO1xuXHRcdGZsdXNoaWR4ID0gMDtcblx0XHR3aGlsZSAoYmluZGluZ19jYWxsYmFja3MubGVuZ3RoKSBiaW5kaW5nX2NhbGxiYWNrcy5wb3AoKSgpO1xuXHRcdC8vIHRoZW4sIG9uY2UgY29tcG9uZW50cyBhcmUgdXBkYXRlZCwgY2FsbFxuXHRcdC8vIGFmdGVyVXBkYXRlIGZ1bmN0aW9ucy4gVGhpcyBtYXkgY2F1c2Vcblx0XHQvLyBzdWJzZXF1ZW50IHVwZGF0ZXMuLi5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHJlbmRlcl9jYWxsYmFja3MubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdGNvbnN0IGNhbGxiYWNrID0gcmVuZGVyX2NhbGxiYWNrc1tpXTtcblx0XHRcdGlmICghc2Vlbl9jYWxsYmFja3MuaGFzKGNhbGxiYWNrKSkge1xuXHRcdFx0XHQvLyAuLi5zbyBndWFyZCBhZ2FpbnN0IGluZmluaXRlIGxvb3BzXG5cdFx0XHRcdHNlZW5fY2FsbGJhY2tzLmFkZChjYWxsYmFjayk7XG5cdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJlbmRlcl9jYWxsYmFja3MubGVuZ3RoID0gMDtcblx0fSB3aGlsZSAoZGlydHlfY29tcG9uZW50cy5sZW5ndGgpO1xuXHR3aGlsZSAoZmx1c2hfY2FsbGJhY2tzLmxlbmd0aCkge1xuXHRcdGZsdXNoX2NhbGxiYWNrcy5wb3AoKSgpO1xuXHR9XG5cdHVwZGF0ZV9zY2hlZHVsZWQgPSBmYWxzZTtcblx0c2Vlbl9jYWxsYmFja3MuY2xlYXIoKTtcblx0c2V0X2N1cnJlbnRfY29tcG9uZW50KHNhdmVkX2NvbXBvbmVudCk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmZ1bmN0aW9uIHVwZGF0ZSgkJCkge1xuXHRpZiAoJCQuZnJhZ21lbnQgIT09IG51bGwpIHtcblx0XHQkJC51cGRhdGUoKTtcblx0XHRydW5fYWxsKCQkLmJlZm9yZV91cGRhdGUpO1xuXHRcdGNvbnN0IGRpcnR5ID0gJCQuZGlydHk7XG5cdFx0JCQuZGlydHkgPSBbLTFdO1xuXHRcdCQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50LnAoJCQuY3R4LCBkaXJ0eSk7XG5cdFx0JCQuYWZ0ZXJfdXBkYXRlLmZvckVhY2goYWRkX3JlbmRlcl9jYWxsYmFjayk7XG5cdH1cbn1cblxuLyoqXG4gKiBVc2VmdWwgZm9yIGV4YW1wbGUgdG8gZXhlY3V0ZSByZW1haW5pbmcgYGFmdGVyVXBkYXRlYCBjYWxsYmFja3MgYmVmb3JlIGV4ZWN1dGluZyBgZGVzdHJveWAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9uW119IGZuc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbHVzaF9yZW5kZXJfY2FsbGJhY2tzKGZucykge1xuXHRjb25zdCBmaWx0ZXJlZCA9IFtdO1xuXHRjb25zdCB0YXJnZXRzID0gW107XG5cdHJlbmRlcl9jYWxsYmFja3MuZm9yRWFjaCgoYykgPT4gKGZucy5pbmRleE9mKGMpID09PSAtMSA/IGZpbHRlcmVkLnB1c2goYykgOiB0YXJnZXRzLnB1c2goYykpKTtcblx0dGFyZ2V0cy5mb3JFYWNoKChjKSA9PiBjKCkpO1xuXHRyZW5kZXJfY2FsbGJhY2tzID0gZmlsdGVyZWQ7XG59XG4iLCJpbXBvcnQgeyBpZGVudGl0eSBhcyBsaW5lYXIsIGlzX2Z1bmN0aW9uLCBub29wLCBydW5fYWxsIH0gZnJvbSAnLi91dGlscy5qcyc7XG5pbXBvcnQgeyBub3cgfSBmcm9tICcuL2Vudmlyb25tZW50LmpzJztcbmltcG9ydCB7IGxvb3AgfSBmcm9tICcuL2xvb3AuanMnO1xuaW1wb3J0IHsgY3JlYXRlX3J1bGUsIGRlbGV0ZV9ydWxlIH0gZnJvbSAnLi9zdHlsZV9tYW5hZ2VyLmpzJztcbmltcG9ydCB7IGN1c3RvbV9ldmVudCB9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7IGFkZF9yZW5kZXJfY2FsbGJhY2sgfSBmcm9tICcuL3NjaGVkdWxlci5qcyc7XG5cbi8qKlxuICogQHR5cGUge1Byb21pc2U8dm9pZD4gfCBudWxsfVxuICovXG5sZXQgcHJvbWlzZTtcblxuLyoqXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAqL1xuZnVuY3Rpb24gd2FpdCgpIHtcblx0aWYgKCFwcm9taXNlKSB7XG5cdFx0cHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuXHRcdHByb21pc2UudGhlbigoKSA9PiB7XG5cdFx0XHRwcm9taXNlID0gbnVsbDtcblx0XHR9KTtcblx0fVxuXHRyZXR1cm4gcHJvbWlzZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7SU5UUk8gfCBPVVRSTyB8IGJvb2xlYW59IGRpcmVjdGlvblxuICogQHBhcmFtIHsnc3RhcnQnIHwgJ2VuZCd9IGtpbmRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiBkaXNwYXRjaChub2RlLCBkaXJlY3Rpb24sIGtpbmQpIHtcblx0bm9kZS5kaXNwYXRjaEV2ZW50KGN1c3RvbV9ldmVudChgJHtkaXJlY3Rpb24gPyAnaW50cm8nIDogJ291dHJvJ30ke2tpbmR9YCkpO1xufVxuXG5jb25zdCBvdXRyb2luZyA9IG5ldyBTZXQoKTtcblxuLyoqXG4gKiBAdHlwZSB7T3V0cm99XG4gKi9cbmxldCBvdXRyb3M7XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZ3JvdXBfb3V0cm9zKCkge1xuXHRvdXRyb3MgPSB7XG5cdFx0cjogMCxcblx0XHRjOiBbXSxcblx0XHRwOiBvdXRyb3MgLy8gcGFyZW50IGdyb3VwXG5cdH07XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tfb3V0cm9zKCkge1xuXHRpZiAoIW91dHJvcy5yKSB7XG5cdFx0cnVuX2FsbChvdXRyb3MuYyk7XG5cdH1cblx0b3V0cm9zID0gb3V0cm9zLnA7XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLkZyYWdtZW50fSBibG9ja1xuICogQHBhcmFtIHswIHwgMX0gW2xvY2FsXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2l0aW9uX2luKGJsb2NrLCBsb2NhbCkge1xuXHRpZiAoYmxvY2sgJiYgYmxvY2suaSkge1xuXHRcdG91dHJvaW5nLmRlbGV0ZShibG9jayk7XG5cdFx0YmxvY2suaShsb2NhbCk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuRnJhZ21lbnR9IGJsb2NrXG4gKiBAcGFyYW0gezAgfCAxfSBsb2NhbFxuICogQHBhcmFtIHswIHwgMX0gW2RldGFjaF1cbiAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gW2NhbGxiYWNrXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2l0aW9uX291dChibG9jaywgbG9jYWwsIGRldGFjaCwgY2FsbGJhY2spIHtcblx0aWYgKGJsb2NrICYmIGJsb2NrLm8pIHtcblx0XHRpZiAob3V0cm9pbmcuaGFzKGJsb2NrKSkgcmV0dXJuO1xuXHRcdG91dHJvaW5nLmFkZChibG9jayk7XG5cdFx0b3V0cm9zLmMucHVzaCgoKSA9PiB7XG5cdFx0XHRvdXRyb2luZy5kZWxldGUoYmxvY2spO1xuXHRcdFx0aWYgKGNhbGxiYWNrKSB7XG5cdFx0XHRcdGlmIChkZXRhY2gpIGJsb2NrLmQoMSk7XG5cdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0YmxvY2subyhsb2NhbCk7XG5cdH0gZWxzZSBpZiAoY2FsbGJhY2spIHtcblx0XHRjYWxsYmFjaygpO1xuXHR9XG59XG5cbi8qKlxuICogQHR5cGUge2ltcG9ydCgnLi4vdHJhbnNpdGlvbi9wdWJsaWMuanMnKS5UcmFuc2l0aW9uQ29uZmlnfVxuICovXG5jb25zdCBudWxsX3RyYW5zaXRpb24gPSB7IGR1cmF0aW9uOiAwIH07XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBub2RlXG4gKiBAcGFyYW0ge1RyYW5zaXRpb25Gbn0gZm5cbiAqIEBwYXJhbSB7YW55fSBwYXJhbXNcbiAqIEByZXR1cm5zIHt7IHN0YXJ0KCk6IHZvaWQ7IGludmFsaWRhdGUoKTogdm9pZDsgZW5kKCk6IHZvaWQ7IH19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfaW5fdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zKSB7XG5cdC8qKlxuXHQgKiBAdHlwZSB7VHJhbnNpdGlvbk9wdGlvbnN9ICovXG5cdGNvbnN0IG9wdGlvbnMgPSB7IGRpcmVjdGlvbjogJ2luJyB9O1xuXHRsZXQgY29uZmlnID0gZm4obm9kZSwgcGFyYW1zLCBvcHRpb25zKTtcblx0bGV0IHJ1bm5pbmcgPSBmYWxzZTtcblx0bGV0IGFuaW1hdGlvbl9uYW1lO1xuXHRsZXQgdGFzaztcblx0bGV0IHVpZCA9IDA7XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiBjbGVhbnVwKCkge1xuXHRcdGlmIChhbmltYXRpb25fbmFtZSkgZGVsZXRlX3J1bGUobm9kZSwgYW5pbWF0aW9uX25hbWUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiBnbygpIHtcblx0XHRjb25zdCB7XG5cdFx0XHRkZWxheSA9IDAsXG5cdFx0XHRkdXJhdGlvbiA9IDMwMCxcblx0XHRcdGVhc2luZyA9IGxpbmVhcixcblx0XHRcdHRpY2sgPSBub29wLFxuXHRcdFx0Y3NzXG5cdFx0fSA9IGNvbmZpZyB8fCBudWxsX3RyYW5zaXRpb247XG5cdFx0aWYgKGNzcykgYW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShub2RlLCAwLCAxLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZywgY3NzLCB1aWQrKyk7XG5cdFx0dGljaygwLCAxKTtcblx0XHRjb25zdCBzdGFydF90aW1lID0gbm93KCkgKyBkZWxheTtcblx0XHRjb25zdCBlbmRfdGltZSA9IHN0YXJ0X3RpbWUgKyBkdXJhdGlvbjtcblx0XHRpZiAodGFzaykgdGFzay5hYm9ydCgpO1xuXHRcdHJ1bm5pbmcgPSB0cnVlO1xuXHRcdGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4gZGlzcGF0Y2gobm9kZSwgdHJ1ZSwgJ3N0YXJ0JykpO1xuXHRcdHRhc2sgPSBsb29wKChub3cpID0+IHtcblx0XHRcdGlmIChydW5uaW5nKSB7XG5cdFx0XHRcdGlmIChub3cgPj0gZW5kX3RpbWUpIHtcblx0XHRcdFx0XHR0aWNrKDEsIDApO1xuXHRcdFx0XHRcdGRpc3BhdGNoKG5vZGUsIHRydWUsICdlbmQnKTtcblx0XHRcdFx0XHRjbGVhbnVwKCk7XG5cdFx0XHRcdFx0cmV0dXJuIChydW5uaW5nID0gZmFsc2UpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChub3cgPj0gc3RhcnRfdGltZSkge1xuXHRcdFx0XHRcdGNvbnN0IHQgPSBlYXNpbmcoKG5vdyAtIHN0YXJ0X3RpbWUpIC8gZHVyYXRpb24pO1xuXHRcdFx0XHRcdHRpY2sodCwgMSAtIHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcnVubmluZztcblx0XHR9KTtcblx0fVxuXHRsZXQgc3RhcnRlZCA9IGZhbHNlO1xuXHRyZXR1cm4ge1xuXHRcdHN0YXJ0KCkge1xuXHRcdFx0aWYgKHN0YXJ0ZWQpIHJldHVybjtcblx0XHRcdHN0YXJ0ZWQgPSB0cnVlO1xuXHRcdFx0ZGVsZXRlX3J1bGUobm9kZSk7XG5cdFx0XHRpZiAoaXNfZnVuY3Rpb24oY29uZmlnKSkge1xuXHRcdFx0XHRjb25maWcgPSBjb25maWcob3B0aW9ucyk7XG5cdFx0XHRcdHdhaXQoKS50aGVuKGdvKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGdvKCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRpbnZhbGlkYXRlKCkge1xuXHRcdFx0c3RhcnRlZCA9IGZhbHNlO1xuXHRcdH0sXG5cdFx0ZW5kKCkge1xuXHRcdFx0aWYgKHJ1bm5pbmcpIHtcblx0XHRcdFx0Y2xlYW51cCgpO1xuXHRcdFx0XHRydW5uaW5nID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudCAmIEVsZW1lbnRDU1NJbmxpbmVTdHlsZX0gbm9kZVxuICogQHBhcmFtIHtUcmFuc2l0aW9uRm59IGZuXG4gKiBAcGFyYW0ge2FueX0gcGFyYW1zXG4gKiBAcmV0dXJucyB7eyBlbmQocmVzZXQ6IGFueSk6IHZvaWQ7IH19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfb3V0X3RyYW5zaXRpb24obm9kZSwgZm4sIHBhcmFtcykge1xuXHQvKiogQHR5cGUge1RyYW5zaXRpb25PcHRpb25zfSAqL1xuXHRjb25zdCBvcHRpb25zID0geyBkaXJlY3Rpb246ICdvdXQnIH07XG5cdGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMsIG9wdGlvbnMpO1xuXHRsZXQgcnVubmluZyA9IHRydWU7XG5cdGxldCBhbmltYXRpb25fbmFtZTtcblx0Y29uc3QgZ3JvdXAgPSBvdXRyb3M7XG5cdGdyb3VwLnIgKz0gMTtcblx0LyoqIEB0eXBlIHtib29sZWFufSAqL1xuXHRsZXQgb3JpZ2luYWxfaW5lcnRfdmFsdWU7XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiBnbygpIHtcblx0XHRjb25zdCB7XG5cdFx0XHRkZWxheSA9IDAsXG5cdFx0XHRkdXJhdGlvbiA9IDMwMCxcblx0XHRcdGVhc2luZyA9IGxpbmVhcixcblx0XHRcdHRpY2sgPSBub29wLFxuXHRcdFx0Y3NzXG5cdFx0fSA9IGNvbmZpZyB8fCBudWxsX3RyYW5zaXRpb247XG5cblx0XHRpZiAoY3NzKSBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIDEsIDAsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MpO1xuXG5cdFx0Y29uc3Qgc3RhcnRfdGltZSA9IG5vdygpICsgZGVsYXk7XG5cdFx0Y29uc3QgZW5kX3RpbWUgPSBzdGFydF90aW1lICsgZHVyYXRpb247XG5cdFx0YWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCBmYWxzZSwgJ3N0YXJ0JykpO1xuXG5cdFx0aWYgKCdpbmVydCcgaW4gbm9kZSkge1xuXHRcdFx0b3JpZ2luYWxfaW5lcnRfdmFsdWUgPSAvKiogQHR5cGUge0hUTUxFbGVtZW50fSAqLyAobm9kZSkuaW5lcnQ7XG5cdFx0XHRub2RlLmluZXJ0ID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRsb29wKChub3cpID0+IHtcblx0XHRcdGlmIChydW5uaW5nKSB7XG5cdFx0XHRcdGlmIChub3cgPj0gZW5kX3RpbWUpIHtcblx0XHRcdFx0XHR0aWNrKDAsIDEpO1xuXHRcdFx0XHRcdGRpc3BhdGNoKG5vZGUsIGZhbHNlLCAnZW5kJyk7XG5cdFx0XHRcdFx0aWYgKCEtLWdyb3VwLnIpIHtcblx0XHRcdFx0XHRcdC8vIHRoaXMgd2lsbCByZXN1bHQgaW4gYGVuZCgpYCBiZWluZyBjYWxsZWQsXG5cdFx0XHRcdFx0XHQvLyBzbyB3ZSBkb24ndCBuZWVkIHRvIGNsZWFuIHVwIGhlcmVcblx0XHRcdFx0XHRcdHJ1bl9hbGwoZ3JvdXAuYyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAobm93ID49IHN0YXJ0X3RpbWUpIHtcblx0XHRcdFx0XHRjb25zdCB0ID0gZWFzaW5nKChub3cgLSBzdGFydF90aW1lKSAvIGR1cmF0aW9uKTtcblx0XHRcdFx0XHR0aWNrKDEgLSB0LCB0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJ1bm5pbmc7XG5cdFx0fSk7XG5cdH1cblxuXHRpZiAoaXNfZnVuY3Rpb24oY29uZmlnKSkge1xuXHRcdHdhaXQoKS50aGVuKCgpID0+IHtcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGNvbmZpZyA9IGNvbmZpZyhvcHRpb25zKTtcblx0XHRcdGdvKCk7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0Z28oKTtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0ZW5kKHJlc2V0KSB7XG5cdFx0XHRpZiAocmVzZXQgJiYgJ2luZXJ0JyBpbiBub2RlKSB7XG5cdFx0XHRcdG5vZGUuaW5lcnQgPSBvcmlnaW5hbF9pbmVydF92YWx1ZTtcblx0XHRcdH1cblx0XHRcdGlmIChyZXNldCAmJiBjb25maWcudGljaykge1xuXHRcdFx0XHRjb25maWcudGljaygxLCAwKTtcblx0XHRcdH1cblx0XHRcdGlmIChydW5uaW5nKSB7XG5cdFx0XHRcdGlmIChhbmltYXRpb25fbmFtZSkgZGVsZXRlX3J1bGUobm9kZSwgYW5pbWF0aW9uX25hbWUpO1xuXHRcdFx0XHRydW5uaW5nID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudCAmIEVsZW1lbnRDU1NJbmxpbmVTdHlsZX0gbm9kZVxuICogQHBhcmFtIHtUcmFuc2l0aW9uRm59IGZuXG4gKiBAcGFyYW0ge2FueX0gcGFyYW1zXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGludHJvXG4gKiBAcmV0dXJucyB7eyBydW4oYjogMCB8IDEpOiB2b2lkOyBlbmQoKTogdm9pZDsgfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9iaWRpcmVjdGlvbmFsX3RyYW5zaXRpb24obm9kZSwgZm4sIHBhcmFtcywgaW50cm8pIHtcblx0LyoqXG5cdCAqIEB0eXBlIHtUcmFuc2l0aW9uT3B0aW9uc30gKi9cblx0Y29uc3Qgb3B0aW9ucyA9IHsgZGlyZWN0aW9uOiAnYm90aCcgfTtcblx0bGV0IGNvbmZpZyA9IGZuKG5vZGUsIHBhcmFtcywgb3B0aW9ucyk7XG5cdGxldCB0ID0gaW50cm8gPyAwIDogMTtcblxuXHQvKipcblx0ICogQHR5cGUge1Byb2dyYW0gfCBudWxsfSAqL1xuXHRsZXQgcnVubmluZ19wcm9ncmFtID0gbnVsbDtcblxuXHQvKipcblx0ICogQHR5cGUge1BlbmRpbmdQcm9ncmFtIHwgbnVsbH0gKi9cblx0bGV0IHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG5cdGxldCBhbmltYXRpb25fbmFtZSA9IG51bGw7XG5cblx0LyoqIEB0eXBlIHtib29sZWFufSAqL1xuXHRsZXQgb3JpZ2luYWxfaW5lcnRfdmFsdWU7XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiBjbGVhcl9hbmltYXRpb24oKSB7XG5cdFx0aWYgKGFuaW1hdGlvbl9uYW1lKSBkZWxldGVfcnVsZShub2RlLCBhbmltYXRpb25fbmFtZSk7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtQZW5kaW5nUHJvZ3JhbX0gcHJvZ3JhbVxuXHQgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb25cblx0ICogQHJldHVybnMge1Byb2dyYW19XG5cdCAqL1xuXHRmdW5jdGlvbiBpbml0KHByb2dyYW0sIGR1cmF0aW9uKSB7XG5cdFx0Y29uc3QgZCA9IC8qKiBAdHlwZSB7UHJvZ3JhbVsnZCddfSAqLyAocHJvZ3JhbS5iIC0gdCk7XG5cdFx0ZHVyYXRpb24gKj0gTWF0aC5hYnMoZCk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGE6IHQsXG5cdFx0XHRiOiBwcm9ncmFtLmIsXG5cdFx0XHRkLFxuXHRcdFx0ZHVyYXRpb24sXG5cdFx0XHRzdGFydDogcHJvZ3JhbS5zdGFydCxcblx0XHRcdGVuZDogcHJvZ3JhbS5zdGFydCArIGR1cmF0aW9uLFxuXHRcdFx0Z3JvdXA6IHByb2dyYW0uZ3JvdXBcblx0XHR9O1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7SU5UUk8gfCBPVVRST30gYlxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGZ1bmN0aW9uIGdvKGIpIHtcblx0XHRjb25zdCB7XG5cdFx0XHRkZWxheSA9IDAsXG5cdFx0XHRkdXJhdGlvbiA9IDMwMCxcblx0XHRcdGVhc2luZyA9IGxpbmVhcixcblx0XHRcdHRpY2sgPSBub29wLFxuXHRcdFx0Y3NzXG5cdFx0fSA9IGNvbmZpZyB8fCBudWxsX3RyYW5zaXRpb247XG5cblx0XHQvKipcblx0XHQgKiBAdHlwZSB7UGVuZGluZ1Byb2dyYW19ICovXG5cdFx0Y29uc3QgcHJvZ3JhbSA9IHtcblx0XHRcdHN0YXJ0OiBub3coKSArIGRlbGF5LFxuXHRcdFx0YlxuXHRcdH07XG5cblx0XHRpZiAoIWIpIHtcblx0XHRcdC8vIEB0cy1pZ25vcmUgdG9kbzogaW1wcm92ZSB0eXBpbmdzXG5cdFx0XHRwcm9ncmFtLmdyb3VwID0gb3V0cm9zO1xuXHRcdFx0b3V0cm9zLnIgKz0gMTtcblx0XHR9XG5cblx0XHRpZiAoJ2luZXJ0JyBpbiBub2RlKSB7XG5cdFx0XHRpZiAoYikge1xuXHRcdFx0XHRpZiAob3JpZ2luYWxfaW5lcnRfdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdC8vIGFib3J0ZWQvcmV2ZXJzZWQgb3V0cm8g4oCUIHJlc3RvcmUgcHJldmlvdXMgaW5lcnQgdmFsdWVcblx0XHRcdFx0XHRub2RlLmluZXJ0ID0gb3JpZ2luYWxfaW5lcnRfdmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG9yaWdpbmFsX2luZXJ0X3ZhbHVlID0gLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi8gKG5vZGUpLmluZXJ0O1xuXHRcdFx0XHRub2RlLmluZXJ0ID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAocnVubmluZ19wcm9ncmFtIHx8IHBlbmRpbmdfcHJvZ3JhbSkge1xuXHRcdFx0cGVuZGluZ19wcm9ncmFtID0gcHJvZ3JhbTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gaWYgdGhpcyBpcyBhbiBpbnRybywgYW5kIHRoZXJlJ3MgYSBkZWxheSwgd2UgbmVlZCB0byBkb1xuXHRcdFx0Ly8gYW4gaW5pdGlhbCB0aWNrIGFuZC9vciBhcHBseSBDU1MgYW5pbWF0aW9uIGltbWVkaWF0ZWx5XG5cdFx0XHRpZiAoY3NzKSB7XG5cdFx0XHRcdGNsZWFyX2FuaW1hdGlvbigpO1xuXHRcdFx0XHRhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIHQsIGIsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGIpIHRpY2soMCwgMSk7XG5cdFx0XHRydW5uaW5nX3Byb2dyYW0gPSBpbml0KHByb2dyYW0sIGR1cmF0aW9uKTtcblx0XHRcdGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4gZGlzcGF0Y2gobm9kZSwgYiwgJ3N0YXJ0JykpO1xuXHRcdFx0bG9vcCgobm93KSA9PiB7XG5cdFx0XHRcdGlmIChwZW5kaW5nX3Byb2dyYW0gJiYgbm93ID4gcGVuZGluZ19wcm9ncmFtLnN0YXJ0KSB7XG5cdFx0XHRcdFx0cnVubmluZ19wcm9ncmFtID0gaW5pdChwZW5kaW5nX3Byb2dyYW0sIGR1cmF0aW9uKTtcblx0XHRcdFx0XHRwZW5kaW5nX3Byb2dyYW0gPSBudWxsO1xuXHRcdFx0XHRcdGRpc3BhdGNoKG5vZGUsIHJ1bm5pbmdfcHJvZ3JhbS5iLCAnc3RhcnQnKTtcblx0XHRcdFx0XHRpZiAoY3NzKSB7XG5cdFx0XHRcdFx0XHRjbGVhcl9hbmltYXRpb24oKTtcblx0XHRcdFx0XHRcdGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUoXG5cdFx0XHRcdFx0XHRcdG5vZGUsXG5cdFx0XHRcdFx0XHRcdHQsXG5cdFx0XHRcdFx0XHRcdHJ1bm5pbmdfcHJvZ3JhbS5iLFxuXHRcdFx0XHRcdFx0XHRydW5uaW5nX3Byb2dyYW0uZHVyYXRpb24sXG5cdFx0XHRcdFx0XHRcdDAsXG5cdFx0XHRcdFx0XHRcdGVhc2luZyxcblx0XHRcdFx0XHRcdFx0Y29uZmlnLmNzc1xuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHJ1bm5pbmdfcHJvZ3JhbSkge1xuXHRcdFx0XHRcdGlmIChub3cgPj0gcnVubmluZ19wcm9ncmFtLmVuZCkge1xuXHRcdFx0XHRcdFx0dGljaygodCA9IHJ1bm5pbmdfcHJvZ3JhbS5iKSwgMSAtIHQpO1xuXHRcdFx0XHRcdFx0ZGlzcGF0Y2gobm9kZSwgcnVubmluZ19wcm9ncmFtLmIsICdlbmQnKTtcblx0XHRcdFx0XHRcdGlmICghcGVuZGluZ19wcm9ncmFtKSB7XG5cdFx0XHRcdFx0XHRcdC8vIHdlJ3JlIGRvbmVcblx0XHRcdFx0XHRcdFx0aWYgKHJ1bm5pbmdfcHJvZ3JhbS5iKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gaW50cm8g4oCUIHdlIGNhbiB0aWR5IHVwIGltbWVkaWF0ZWx5XG5cdFx0XHRcdFx0XHRcdFx0Y2xlYXJfYW5pbWF0aW9uKCk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gb3V0cm8g4oCUIG5lZWRzIHRvIGJlIGNvb3JkaW5hdGVkXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCEtLXJ1bm5pbmdfcHJvZ3JhbS5ncm91cC5yKSBydW5fYWxsKHJ1bm5pbmdfcHJvZ3JhbS5ncm91cC5jKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cnVubmluZ19wcm9ncmFtID0gbnVsbDtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKG5vdyA+PSBydW5uaW5nX3Byb2dyYW0uc3RhcnQpIHtcblx0XHRcdFx0XHRcdGNvbnN0IHAgPSBub3cgLSBydW5uaW5nX3Byb2dyYW0uc3RhcnQ7XG5cdFx0XHRcdFx0XHR0ID0gcnVubmluZ19wcm9ncmFtLmEgKyBydW5uaW5nX3Byb2dyYW0uZCAqIGVhc2luZyhwIC8gcnVubmluZ19wcm9ncmFtLmR1cmF0aW9uKTtcblx0XHRcdFx0XHRcdHRpY2sodCwgMSAtIHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gISEocnVubmluZ19wcm9ncmFtIHx8IHBlbmRpbmdfcHJvZ3JhbSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHtcblx0XHRydW4oYikge1xuXHRcdFx0aWYgKGlzX2Z1bmN0aW9uKGNvbmZpZykpIHtcblx0XHRcdFx0d2FpdCgpLnRoZW4oKCkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IG9wdHMgPSB7IGRpcmVjdGlvbjogYiA/ICdpbicgOiAnb3V0JyB9O1xuXHRcdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0XHRjb25maWcgPSBjb25maWcob3B0cyk7XG5cdFx0XHRcdFx0Z28oYik7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Z28oYik7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRlbmQoKSB7XG5cdFx0XHRjbGVhcl9hbmltYXRpb24oKTtcblx0XHRcdHJ1bm5pbmdfcHJvZ3JhbSA9IHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG5cdFx0fVxuXHR9O1xufVxuXG4vKiogQHR5cGVkZWYgezF9IElOVFJPICovXG4vKiogQHR5cGVkZWYgezB9IE9VVFJPICovXG4vKiogQHR5cGVkZWYge3sgZGlyZWN0aW9uOiAnaW4nIHwgJ291dCcgfCAnYm90aCcgfX0gVHJhbnNpdGlvbk9wdGlvbnMgKi9cbi8qKiBAdHlwZWRlZiB7KG5vZGU6IEVsZW1lbnQsIHBhcmFtczogYW55LCBvcHRpb25zOiBUcmFuc2l0aW9uT3B0aW9ucykgPT4gaW1wb3J0KCcuLi90cmFuc2l0aW9uL3B1YmxpYy5qcycpLlRyYW5zaXRpb25Db25maWd9IFRyYW5zaXRpb25GbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE91dHJvXG4gKiBAcHJvcGVydHkge251bWJlcn0gclxuICogQHByb3BlcnR5IHtGdW5jdGlvbltdfSBjXG4gKiBAcHJvcGVydHkge09iamVjdH0gcFxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUGVuZGluZ1Byb2dyYW1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzdGFydFxuICogQHByb3BlcnR5IHtJTlRST3xPVVRST30gYlxuICogQHByb3BlcnR5IHtPdXRyb30gW2dyb3VwXVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUHJvZ3JhbVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGFcbiAqIEBwcm9wZXJ0eSB7SU5UUk98T1VUUk99IGJcbiAqIEBwcm9wZXJ0eSB7MXwtMX0gZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGR1cmF0aW9uXG4gKiBAcHJvcGVydHkge251bWJlcn0gc3RhcnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBlbmRcbiAqIEBwcm9wZXJ0eSB7T3V0cm99IFtncm91cF1cbiAqL1xuIiwiaW1wb3J0IHsgaXNfcHJvbWlzZSB9IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHsgY2hlY2tfb3V0cm9zLCBncm91cF9vdXRyb3MsIHRyYW5zaXRpb25faW4sIHRyYW5zaXRpb25fb3V0IH0gZnJvbSAnLi90cmFuc2l0aW9ucy5qcyc7XG5pbXBvcnQgeyBmbHVzaCB9IGZyb20gJy4vc2NoZWR1bGVyLmpzJztcbmltcG9ydCB7IGdldF9jdXJyZW50X2NvbXBvbmVudCwgc2V0X2N1cnJlbnRfY29tcG9uZW50IH0gZnJvbSAnLi9saWZlY3ljbGUuanMnO1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1Byb21pc2U8VD59IHByb21pc2VcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5Qcm9taXNlSW5mbzxUPn0gaW5mb1xuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVfcHJvbWlzZShwcm9taXNlLCBpbmZvKSB7XG5cdGNvbnN0IHRva2VuID0gKGluZm8udG9rZW4gPSB7fSk7XG5cdC8qKlxuXHQgKiBAcGFyYW0ge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuRnJhZ21lbnRGYWN0b3J5fSB0eXBlXG5cdCAqIEBwYXJhbSB7MCB8IDEgfCAyfSBpbmRleFxuXHQgKiBAcGFyYW0ge251bWJlcn0gW2tleV1cblx0ICogQHBhcmFtIHthbnl9IFt2YWx1ZV1cblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRmdW5jdGlvbiB1cGRhdGUodHlwZSwgaW5kZXgsIGtleSwgdmFsdWUpIHtcblx0XHRpZiAoaW5mby50b2tlbiAhPT0gdG9rZW4pIHJldHVybjtcblx0XHRpbmZvLnJlc29sdmVkID0gdmFsdWU7XG5cdFx0bGV0IGNoaWxkX2N0eCA9IGluZm8uY3R4O1xuXHRcdGlmIChrZXkgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Y2hpbGRfY3R4ID0gY2hpbGRfY3R4LnNsaWNlKCk7XG5cdFx0XHRjaGlsZF9jdHhba2V5XSA9IHZhbHVlO1xuXHRcdH1cblx0XHRjb25zdCBibG9jayA9IHR5cGUgJiYgKGluZm8uY3VycmVudCA9IHR5cGUpKGNoaWxkX2N0eCk7XG5cdFx0bGV0IG5lZWRzX2ZsdXNoID0gZmFsc2U7XG5cdFx0aWYgKGluZm8uYmxvY2spIHtcblx0XHRcdGlmIChpbmZvLmJsb2Nrcykge1xuXHRcdFx0XHRpbmZvLmJsb2Nrcy5mb3JFYWNoKChibG9jaywgaSkgPT4ge1xuXHRcdFx0XHRcdGlmIChpICE9PSBpbmRleCAmJiBibG9jaykge1xuXHRcdFx0XHRcdFx0Z3JvdXBfb3V0cm9zKCk7XG5cdFx0XHRcdFx0XHR0cmFuc2l0aW9uX291dChibG9jaywgMSwgMSwgKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRpZiAoaW5mby5ibG9ja3NbaV0gPT09IGJsb2NrKSB7XG5cdFx0XHRcdFx0XHRcdFx0aW5mby5ibG9ja3NbaV0gPSBudWxsO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdGNoZWNrX291dHJvcygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpbmZvLmJsb2NrLmQoMSk7XG5cdFx0XHR9XG5cdFx0XHRibG9jay5jKCk7XG5cdFx0XHR0cmFuc2l0aW9uX2luKGJsb2NrLCAxKTtcblx0XHRcdGJsb2NrLm0oaW5mby5tb3VudCgpLCBpbmZvLmFuY2hvcik7XG5cdFx0XHRuZWVkc19mbHVzaCA9IHRydWU7XG5cdFx0fVxuXHRcdGluZm8uYmxvY2sgPSBibG9jaztcblx0XHRpZiAoaW5mby5ibG9ja3MpIGluZm8uYmxvY2tzW2luZGV4XSA9IGJsb2NrO1xuXHRcdGlmIChuZWVkc19mbHVzaCkge1xuXHRcdFx0Zmx1c2goKTtcblx0XHR9XG5cdH1cblx0aWYgKGlzX3Byb21pc2UocHJvbWlzZSkpIHtcblx0XHRjb25zdCBjdXJyZW50X2NvbXBvbmVudCA9IGdldF9jdXJyZW50X2NvbXBvbmVudCgpO1xuXHRcdHByb21pc2UudGhlbihcblx0XHRcdCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRzZXRfY3VycmVudF9jb21wb25lbnQoY3VycmVudF9jb21wb25lbnQpO1xuXHRcdFx0XHR1cGRhdGUoaW5mby50aGVuLCAxLCBpbmZvLnZhbHVlLCB2YWx1ZSk7XG5cdFx0XHRcdHNldF9jdXJyZW50X2NvbXBvbmVudChudWxsKTtcblx0XHRcdH0sXG5cdFx0XHQoZXJyb3IpID0+IHtcblx0XHRcdFx0c2V0X2N1cnJlbnRfY29tcG9uZW50KGN1cnJlbnRfY29tcG9uZW50KTtcblx0XHRcdFx0dXBkYXRlKGluZm8uY2F0Y2gsIDIsIGluZm8uZXJyb3IsIGVycm9yKTtcblx0XHRcdFx0c2V0X2N1cnJlbnRfY29tcG9uZW50KG51bGwpO1xuXHRcdFx0XHRpZiAoIWluZm8uaGFzQ2F0Y2gpIHtcblx0XHRcdFx0XHR0aHJvdyBlcnJvcjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdCk7XG5cdFx0Ly8gaWYgd2UgcHJldmlvdXNseSBoYWQgYSB0aGVuL2NhdGNoIGJsb2NrLCBkZXN0cm95IGl0XG5cdFx0aWYgKGluZm8uY3VycmVudCAhPT0gaW5mby5wZW5kaW5nKSB7XG5cdFx0XHR1cGRhdGUoaW5mby5wZW5kaW5nLCAwKTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRpZiAoaW5mby5jdXJyZW50ICE9PSBpbmZvLnRoZW4pIHtcblx0XHRcdHVwZGF0ZShpbmZvLnRoZW4sIDEsIGluZm8udmFsdWUsIHByb21pc2UpO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdGluZm8ucmVzb2x2ZWQgPSAvKiogQHR5cGUge1R9ICovIChwcm9taXNlKTtcblx0fVxufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlX2F3YWl0X2Jsb2NrX2JyYW5jaChpbmZvLCBjdHgsIGRpcnR5KSB7XG5cdGNvbnN0IGNoaWxkX2N0eCA9IGN0eC5zbGljZSgpO1xuXHRjb25zdCB7IHJlc29sdmVkIH0gPSBpbmZvO1xuXHRpZiAoaW5mby5jdXJyZW50ID09PSBpbmZvLnRoZW4pIHtcblx0XHRjaGlsZF9jdHhbaW5mby52YWx1ZV0gPSByZXNvbHZlZDtcblx0fVxuXHRpZiAoaW5mby5jdXJyZW50ID09PSBpbmZvLmNhdGNoKSB7XG5cdFx0Y2hpbGRfY3R4W2luZm8uZXJyb3JdID0gcmVzb2x2ZWQ7XG5cdH1cblx0aW5mby5ibG9jay5wKGNoaWxkX2N0eCwgZGlydHkpO1xufVxuIiwiaW1wb3J0IHsgdHJhbnNpdGlvbl9pbiwgdHJhbnNpdGlvbl9vdXQgfSBmcm9tICcuL3RyYW5zaXRpb25zLmpzJztcbmltcG9ydCB7IHJ1bl9hbGwgfSBmcm9tICcuL3V0aWxzLmpzJztcblxuLy8gZ2VuZXJhbCBlYWNoIGZ1bmN0aW9uczpcblxuZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZV9hcnJheV9saWtlKGFycmF5X2xpa2Vfb3JfaXRlcmF0b3IpIHtcblx0cmV0dXJuIGFycmF5X2xpa2Vfb3JfaXRlcmF0b3I/Lmxlbmd0aCAhPT0gdW5kZWZpbmVkXG5cdFx0PyBhcnJheV9saWtlX29yX2l0ZXJhdG9yXG5cdFx0OiBBcnJheS5mcm9tKGFycmF5X2xpa2Vfb3JfaXRlcmF0b3IpO1xufVxuXG4vLyBrZXllZCBlYWNoIGZ1bmN0aW9uczpcblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuXHRibG9jay5kKDEpO1xuXHRsb29rdXAuZGVsZXRlKGJsb2NrLmtleSk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBvdXRyb19hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG5cdHRyYW5zaXRpb25fb3V0KGJsb2NrLCAxLCAxLCAoKSA9PiB7XG5cdFx0bG9va3VwLmRlbGV0ZShibG9jay5rZXkpO1xuXHR9KTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpeF9hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG5cdGJsb2NrLmYoKTtcblx0ZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpeF9hbmRfb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuXHRibG9jay5mKCk7XG5cdG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApO1xufVxuXG4vKiogQHJldHVybnMge2FueVtdfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZV9rZXllZF9lYWNoKFxuXHRvbGRfYmxvY2tzLFxuXHRkaXJ0eSxcblx0Z2V0X2tleSxcblx0ZHluYW1pYyxcblx0Y3R4LFxuXHRsaXN0LFxuXHRsb29rdXAsXG5cdG5vZGUsXG5cdGRlc3Ryb3ksXG5cdGNyZWF0ZV9lYWNoX2Jsb2NrLFxuXHRuZXh0LFxuXHRnZXRfY29udGV4dFxuKSB7XG5cdGxldCBvID0gb2xkX2Jsb2Nrcy5sZW5ndGg7XG5cdGxldCBuID0gbGlzdC5sZW5ndGg7XG5cdGxldCBpID0gbztcblx0Y29uc3Qgb2xkX2luZGV4ZXMgPSB7fTtcblx0d2hpbGUgKGktLSkgb2xkX2luZGV4ZXNbb2xkX2Jsb2Nrc1tpXS5rZXldID0gaTtcblx0Y29uc3QgbmV3X2Jsb2NrcyA9IFtdO1xuXHRjb25zdCBuZXdfbG9va3VwID0gbmV3IE1hcCgpO1xuXHRjb25zdCBkZWx0YXMgPSBuZXcgTWFwKCk7XG5cdGNvbnN0IHVwZGF0ZXMgPSBbXTtcblx0aSA9IG47XG5cdHdoaWxlIChpLS0pIHtcblx0XHRjb25zdCBjaGlsZF9jdHggPSBnZXRfY29udGV4dChjdHgsIGxpc3QsIGkpO1xuXHRcdGNvbnN0IGtleSA9IGdldF9rZXkoY2hpbGRfY3R4KTtcblx0XHRsZXQgYmxvY2sgPSBsb29rdXAuZ2V0KGtleSk7XG5cdFx0aWYgKCFibG9jaykge1xuXHRcdFx0YmxvY2sgPSBjcmVhdGVfZWFjaF9ibG9jayhrZXksIGNoaWxkX2N0eCk7XG5cdFx0XHRibG9jay5jKCk7XG5cdFx0fSBlbHNlIGlmIChkeW5hbWljKSB7XG5cdFx0XHQvLyBkZWZlciB1cGRhdGVzIHVudGlsIGFsbCB0aGUgRE9NIHNodWZmbGluZyBpcyBkb25lXG5cdFx0XHR1cGRhdGVzLnB1c2goKCkgPT4gYmxvY2sucChjaGlsZF9jdHgsIGRpcnR5KSk7XG5cdFx0fVxuXHRcdG5ld19sb29rdXAuc2V0KGtleSwgKG5ld19ibG9ja3NbaV0gPSBibG9jaykpO1xuXHRcdGlmIChrZXkgaW4gb2xkX2luZGV4ZXMpIGRlbHRhcy5zZXQoa2V5LCBNYXRoLmFicyhpIC0gb2xkX2luZGV4ZXNba2V5XSkpO1xuXHR9XG5cdGNvbnN0IHdpbGxfbW92ZSA9IG5ldyBTZXQoKTtcblx0Y29uc3QgZGlkX21vdmUgPSBuZXcgU2V0KCk7XG5cdC8qKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0ZnVuY3Rpb24gaW5zZXJ0KGJsb2NrKSB7XG5cdFx0dHJhbnNpdGlvbl9pbihibG9jaywgMSk7XG5cdFx0YmxvY2subShub2RlLCBuZXh0KTtcblx0XHRsb29rdXAuc2V0KGJsb2NrLmtleSwgYmxvY2spO1xuXHRcdG5leHQgPSBibG9jay5maXJzdDtcblx0XHRuLS07XG5cdH1cblx0d2hpbGUgKG8gJiYgbikge1xuXHRcdGNvbnN0IG5ld19ibG9jayA9IG5ld19ibG9ja3NbbiAtIDFdO1xuXHRcdGNvbnN0IG9sZF9ibG9jayA9IG9sZF9ibG9ja3NbbyAtIDFdO1xuXHRcdGNvbnN0IG5ld19rZXkgPSBuZXdfYmxvY2sua2V5O1xuXHRcdGNvbnN0IG9sZF9rZXkgPSBvbGRfYmxvY2sua2V5O1xuXHRcdGlmIChuZXdfYmxvY2sgPT09IG9sZF9ibG9jaykge1xuXHRcdFx0Ly8gZG8gbm90aGluZ1xuXHRcdFx0bmV4dCA9IG5ld19ibG9jay5maXJzdDtcblx0XHRcdG8tLTtcblx0XHRcdG4tLTtcblx0XHR9IGVsc2UgaWYgKCFuZXdfbG9va3VwLmhhcyhvbGRfa2V5KSkge1xuXHRcdFx0Ly8gcmVtb3ZlIG9sZCBibG9ja1xuXHRcdFx0ZGVzdHJveShvbGRfYmxvY2ssIGxvb2t1cCk7XG5cdFx0XHRvLS07XG5cdFx0fSBlbHNlIGlmICghbG9va3VwLmhhcyhuZXdfa2V5KSB8fCB3aWxsX21vdmUuaGFzKG5ld19rZXkpKSB7XG5cdFx0XHRpbnNlcnQobmV3X2Jsb2NrKTtcblx0XHR9IGVsc2UgaWYgKGRpZF9tb3ZlLmhhcyhvbGRfa2V5KSkge1xuXHRcdFx0by0tO1xuXHRcdH0gZWxzZSBpZiAoZGVsdGFzLmdldChuZXdfa2V5KSA+IGRlbHRhcy5nZXQob2xkX2tleSkpIHtcblx0XHRcdGRpZF9tb3ZlLmFkZChuZXdfa2V5KTtcblx0XHRcdGluc2VydChuZXdfYmxvY2spO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR3aWxsX21vdmUuYWRkKG9sZF9rZXkpO1xuXHRcdFx0by0tO1xuXHRcdH1cblx0fVxuXHR3aGlsZSAoby0tKSB7XG5cdFx0Y29uc3Qgb2xkX2Jsb2NrID0gb2xkX2Jsb2Nrc1tvXTtcblx0XHRpZiAoIW5ld19sb29rdXAuaGFzKG9sZF9ibG9jay5rZXkpKSBkZXN0cm95KG9sZF9ibG9jaywgbG9va3VwKTtcblx0fVxuXHR3aGlsZSAobikgaW5zZXJ0KG5ld19ibG9ja3NbbiAtIDFdKTtcblx0cnVuX2FsbCh1cGRhdGVzKTtcblx0cmV0dXJuIG5ld19ibG9ja3M7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZV9lYWNoX2tleXMoY3R4LCBsaXN0LCBnZXRfY29udGV4dCwgZ2V0X2tleSkge1xuXHRjb25zdCBrZXlzID0gbmV3IE1hcCgpO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHRjb25zdCBrZXkgPSBnZXRfa2V5KGdldF9jb250ZXh0KGN0eCwgbGlzdCwgaSkpO1xuXHRcdGlmIChrZXlzLmhhcyhrZXkpKSB7XG5cdFx0XHRsZXQgdmFsdWUgPSAnJztcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHZhbHVlID0gYHdpdGggdmFsdWUgJyR7U3RyaW5nKGtleSl9JyBgO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHQvLyBjYW4ndCBzdHJpbmdpZnlcblx0XHRcdH1cblx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0YENhbm5vdCBoYXZlIGR1cGxpY2F0ZSBrZXlzIGluIGEga2V5ZWQgZWFjaDogS2V5cyBhdCBpbmRleCAke2tleXMuZ2V0KFxuXHRcdFx0XHRcdGtleVxuXHRcdFx0XHQpfSBhbmQgJHtpfSAke3ZhbHVlfWFyZSBkdXBsaWNhdGVzYFxuXHRcdFx0KTtcblx0XHR9XG5cdFx0a2V5cy5zZXQoa2V5LCBpKTtcblx0fVxufVxuIiwiaW1wb3J0IHtcblx0YWRkX3JlbmRlcl9jYWxsYmFjayxcblx0Zmx1c2gsXG5cdGZsdXNoX3JlbmRlcl9jYWxsYmFja3MsXG5cdHNjaGVkdWxlX3VwZGF0ZSxcblx0ZGlydHlfY29tcG9uZW50c1xufSBmcm9tICcuL3NjaGVkdWxlci5qcyc7XG5pbXBvcnQgeyBjdXJyZW50X2NvbXBvbmVudCwgc2V0X2N1cnJlbnRfY29tcG9uZW50IH0gZnJvbSAnLi9saWZlY3ljbGUuanMnO1xuaW1wb3J0IHsgYmxhbmtfb2JqZWN0LCBpc19lbXB0eSwgaXNfZnVuY3Rpb24sIHJ1biwgcnVuX2FsbCwgbm9vcCB9IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHtcblx0Y2hpbGRyZW4sXG5cdGRldGFjaCxcblx0c3RhcnRfaHlkcmF0aW5nLFxuXHRlbmRfaHlkcmF0aW5nLFxuXHRnZXRfY3VzdG9tX2VsZW1lbnRzX3Nsb3RzLFxuXHRpbnNlcnQsXG5cdGVsZW1lbnQsXG5cdGF0dHJcbn0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgdHJhbnNpdGlvbl9pbiB9IGZyb20gJy4vdHJhbnNpdGlvbnMuanMnO1xuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gYmluZChjb21wb25lbnQsIG5hbWUsIGNhbGxiYWNrKSB7XG5cdGNvbnN0IGluZGV4ID0gY29tcG9uZW50LiQkLnByb3BzW25hbWVdO1xuXHRpZiAoaW5kZXggIT09IHVuZGVmaW5lZCkge1xuXHRcdGNvbXBvbmVudC4kJC5ib3VuZFtpbmRleF0gPSBjYWxsYmFjaztcblx0XHRjYWxsYmFjayhjb21wb25lbnQuJCQuY3R4W2luZGV4XSk7XG5cdH1cbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9jb21wb25lbnQoYmxvY2spIHtcblx0YmxvY2sgJiYgYmxvY2suYygpO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gY2xhaW1fY29tcG9uZW50KGJsb2NrLCBwYXJlbnRfbm9kZXMpIHtcblx0YmxvY2sgJiYgYmxvY2subChwYXJlbnRfbm9kZXMpO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gbW91bnRfY29tcG9uZW50KGNvbXBvbmVudCwgdGFyZ2V0LCBhbmNob3IpIHtcblx0Y29uc3QgeyBmcmFnbWVudCwgYWZ0ZXJfdXBkYXRlIH0gPSBjb21wb25lbnQuJCQ7XG5cdGZyYWdtZW50ICYmIGZyYWdtZW50Lm0odGFyZ2V0LCBhbmNob3IpO1xuXHQvLyBvbk1vdW50IGhhcHBlbnMgYmVmb3JlIHRoZSBpbml0aWFsIGFmdGVyVXBkYXRlXG5cdGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4ge1xuXHRcdGNvbnN0IG5ld19vbl9kZXN0cm95ID0gY29tcG9uZW50LiQkLm9uX21vdW50Lm1hcChydW4pLmZpbHRlcihpc19mdW5jdGlvbik7XG5cdFx0Ly8gaWYgdGhlIGNvbXBvbmVudCB3YXMgZGVzdHJveWVkIGltbWVkaWF0ZWx5XG5cdFx0Ly8gaXQgd2lsbCB1cGRhdGUgdGhlIGAkJC5vbl9kZXN0cm95YCByZWZlcmVuY2UgdG8gYG51bGxgLlxuXHRcdC8vIHRoZSBkZXN0cnVjdHVyZWQgb25fZGVzdHJveSBtYXkgc3RpbGwgcmVmZXJlbmNlIHRvIHRoZSBvbGQgYXJyYXlcblx0XHRpZiAoY29tcG9uZW50LiQkLm9uX2Rlc3Ryb3kpIHtcblx0XHRcdGNvbXBvbmVudC4kJC5vbl9kZXN0cm95LnB1c2goLi4ubmV3X29uX2Rlc3Ryb3kpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBFZGdlIGNhc2UgLSBjb21wb25lbnQgd2FzIGRlc3Ryb3llZCBpbW1lZGlhdGVseSxcblx0XHRcdC8vIG1vc3QgbGlrZWx5IGFzIGEgcmVzdWx0IG9mIGEgYmluZGluZyBpbml0aWFsaXNpbmdcblx0XHRcdHJ1bl9hbGwobmV3X29uX2Rlc3Ryb3kpO1xuXHRcdH1cblx0XHRjb21wb25lbnQuJCQub25fbW91bnQgPSBbXTtcblx0fSk7XG5cdGFmdGVyX3VwZGF0ZS5mb3JFYWNoKGFkZF9yZW5kZXJfY2FsbGJhY2spO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZGVzdHJveV9jb21wb25lbnQoY29tcG9uZW50LCBkZXRhY2hpbmcpIHtcblx0Y29uc3QgJCQgPSBjb21wb25lbnQuJCQ7XG5cdGlmICgkJC5mcmFnbWVudCAhPT0gbnVsbCkge1xuXHRcdGZsdXNoX3JlbmRlcl9jYWxsYmFja3MoJCQuYWZ0ZXJfdXBkYXRlKTtcblx0XHRydW5fYWxsKCQkLm9uX2Rlc3Ryb3kpO1xuXHRcdCQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50LmQoZGV0YWNoaW5nKTtcblx0XHQvLyBUT0RPIG51bGwgb3V0IG90aGVyIHJlZnMsIGluY2x1ZGluZyBjb21wb25lbnQuJCQgKGJ1dCBuZWVkIHRvXG5cdFx0Ly8gcHJlc2VydmUgZmluYWwgc3RhdGU/KVxuXHRcdCQkLm9uX2Rlc3Ryb3kgPSAkJC5mcmFnbWVudCA9IG51bGw7XG5cdFx0JCQuY3R4ID0gW107XG5cdH1cbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZnVuY3Rpb24gbWFrZV9kaXJ0eShjb21wb25lbnQsIGkpIHtcblx0aWYgKGNvbXBvbmVudC4kJC5kaXJ0eVswXSA9PT0gLTEpIHtcblx0XHRkaXJ0eV9jb21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcblx0XHRzY2hlZHVsZV91cGRhdGUoKTtcblx0XHRjb21wb25lbnQuJCQuZGlydHkuZmlsbCgwKTtcblx0fVxuXHRjb21wb25lbnQuJCQuZGlydHlbKGkgLyAzMSkgfCAwXSB8PSAxIDw8IGkgJSAzMTtcbn1cblxuLy8gVE9ETzogRG9jdW1lbnQgdGhlIG90aGVyIHBhcmFtc1xuLyoqXG4gKiBAcGFyYW0ge1N2ZWx0ZUNvbXBvbmVudH0gY29tcG9uZW50XG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5Db21wb25lbnRDb25zdHJ1Y3Rvck9wdGlvbnN9IG9wdGlvbnNcbiAqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi91dGlscy5qcycpWydub3RfZXF1YWwnXX0gbm90X2VxdWFsIFVzZWQgdG8gY29tcGFyZSBwcm9wcyBhbmQgc3RhdGUgdmFsdWVzLlxuICogQHBhcmFtIHsodGFyZ2V0OiBFbGVtZW50IHwgU2hhZG93Um9vdCkgPT4gdm9pZH0gW2FwcGVuZF9zdHlsZXNdIEZ1bmN0aW9uIHRoYXQgYXBwZW5kcyBzdHlsZXMgdG8gdGhlIERPTSB3aGVuIHRoZSBjb21wb25lbnQgaXMgZmlyc3QgaW5pdGlhbGlzZWQuXG4gKiBUaGlzIHdpbGwgYmUgdGhlIGBhZGRfY3NzYCBmdW5jdGlvbiBmcm9tIHRoZSBjb21waWxlZCBjb21wb25lbnQuXG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0KFxuXHRjb21wb25lbnQsXG5cdG9wdGlvbnMsXG5cdGluc3RhbmNlLFxuXHRjcmVhdGVfZnJhZ21lbnQsXG5cdG5vdF9lcXVhbCxcblx0cHJvcHMsXG5cdGFwcGVuZF9zdHlsZXMgPSBudWxsLFxuXHRkaXJ0eSA9IFstMV1cbikge1xuXHRjb25zdCBwYXJlbnRfY29tcG9uZW50ID0gY3VycmVudF9jb21wb25lbnQ7XG5cdHNldF9jdXJyZW50X2NvbXBvbmVudChjb21wb25lbnQpO1xuXHQvKiogQHR5cGUge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuVCQkfSAqL1xuXHRjb25zdCAkJCA9IChjb21wb25lbnQuJCQgPSB7XG5cdFx0ZnJhZ21lbnQ6IG51bGwsXG5cdFx0Y3R4OiBbXSxcblx0XHQvLyBzdGF0ZVxuXHRcdHByb3BzLFxuXHRcdHVwZGF0ZTogbm9vcCxcblx0XHRub3RfZXF1YWwsXG5cdFx0Ym91bmQ6IGJsYW5rX29iamVjdCgpLFxuXHRcdC8vIGxpZmVjeWNsZVxuXHRcdG9uX21vdW50OiBbXSxcblx0XHRvbl9kZXN0cm95OiBbXSxcblx0XHRvbl9kaXNjb25uZWN0OiBbXSxcblx0XHRiZWZvcmVfdXBkYXRlOiBbXSxcblx0XHRhZnRlcl91cGRhdGU6IFtdLFxuXHRcdGNvbnRleHQ6IG5ldyBNYXAob3B0aW9ucy5jb250ZXh0IHx8IChwYXJlbnRfY29tcG9uZW50ID8gcGFyZW50X2NvbXBvbmVudC4kJC5jb250ZXh0IDogW10pKSxcblx0XHQvLyBldmVyeXRoaW5nIGVsc2Vcblx0XHRjYWxsYmFja3M6IGJsYW5rX29iamVjdCgpLFxuXHRcdGRpcnR5LFxuXHRcdHNraXBfYm91bmQ6IGZhbHNlLFxuXHRcdHJvb3Q6IG9wdGlvbnMudGFyZ2V0IHx8IHBhcmVudF9jb21wb25lbnQuJCQucm9vdFxuXHR9KTtcblx0YXBwZW5kX3N0eWxlcyAmJiBhcHBlbmRfc3R5bGVzKCQkLnJvb3QpO1xuXHRsZXQgcmVhZHkgPSBmYWxzZTtcblx0JCQuY3R4ID0gaW5zdGFuY2Vcblx0XHQ/IGluc3RhbmNlKGNvbXBvbmVudCwgb3B0aW9ucy5wcm9wcyB8fCB7fSwgKGksIHJldCwgLi4ucmVzdCkgPT4ge1xuXHRcdFx0XHRjb25zdCB2YWx1ZSA9IHJlc3QubGVuZ3RoID8gcmVzdFswXSA6IHJldDtcblx0XHRcdFx0aWYgKCQkLmN0eCAmJiBub3RfZXF1YWwoJCQuY3R4W2ldLCAoJCQuY3R4W2ldID0gdmFsdWUpKSkge1xuXHRcdFx0XHRcdGlmICghJCQuc2tpcF9ib3VuZCAmJiAkJC5ib3VuZFtpXSkgJCQuYm91bmRbaV0odmFsdWUpO1xuXHRcdFx0XHRcdGlmIChyZWFkeSkgbWFrZV9kaXJ0eShjb21wb25lbnQsIGkpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0ICB9KVxuXHRcdDogW107XG5cdCQkLnVwZGF0ZSgpO1xuXHRyZWFkeSA9IHRydWU7XG5cdHJ1bl9hbGwoJCQuYmVmb3JlX3VwZGF0ZSk7XG5cdC8vIGBmYWxzZWAgYXMgYSBzcGVjaWFsIGNhc2Ugb2Ygbm8gRE9NIGNvbXBvbmVudFxuXHQkJC5mcmFnbWVudCA9IGNyZWF0ZV9mcmFnbWVudCA/IGNyZWF0ZV9mcmFnbWVudCgkJC5jdHgpIDogZmFsc2U7XG5cdGlmIChvcHRpb25zLnRhcmdldCkge1xuXHRcdGlmIChvcHRpb25zLmh5ZHJhdGUpIHtcblx0XHRcdHN0YXJ0X2h5ZHJhdGluZygpO1xuXHRcdFx0Ly8gVE9ETzogd2hhdCBpcyB0aGUgY29ycmVjdCB0eXBlIGhlcmU/XG5cdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0XHRjb25zdCBub2RlcyA9IGNoaWxkcmVuKG9wdGlvbnMudGFyZ2V0KTtcblx0XHRcdCQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50Lmwobm9kZXMpO1xuXHRcdFx0bm9kZXMuZm9yRWFjaChkZXRhY2gpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuXHRcdFx0JCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQuYygpO1xuXHRcdH1cblx0XHRpZiAob3B0aW9ucy5pbnRybykgdHJhbnNpdGlvbl9pbihjb21wb25lbnQuJCQuZnJhZ21lbnQpO1xuXHRcdG1vdW50X2NvbXBvbmVudChjb21wb25lbnQsIG9wdGlvbnMudGFyZ2V0LCBvcHRpb25zLmFuY2hvcik7XG5cdFx0ZW5kX2h5ZHJhdGluZygpO1xuXHRcdGZsdXNoKCk7XG5cdH1cblx0c2V0X2N1cnJlbnRfY29tcG9uZW50KHBhcmVudF9jb21wb25lbnQpO1xufVxuXG5leHBvcnQgbGV0IFN2ZWx0ZUVsZW1lbnQ7XG5cbmlmICh0eXBlb2YgSFRNTEVsZW1lbnQgPT09ICdmdW5jdGlvbicpIHtcblx0U3ZlbHRlRWxlbWVudCA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuXHRcdC8qKiBUaGUgU3ZlbHRlIGNvbXBvbmVudCBjb25zdHJ1Y3RvciAqL1xuXHRcdCQkY3Rvcjtcblx0XHQvKiogU2xvdHMgKi9cblx0XHQkJHM7XG5cdFx0LyoqIFRoZSBTdmVsdGUgY29tcG9uZW50IGluc3RhbmNlICovXG5cdFx0JCRjO1xuXHRcdC8qKiBXaGV0aGVyIG9yIG5vdCB0aGUgY3VzdG9tIGVsZW1lbnQgaXMgY29ubmVjdGVkICovXG5cdFx0JCRjbiA9IGZhbHNlO1xuXHRcdC8qKiBDb21wb25lbnQgcHJvcHMgZGF0YSAqL1xuXHRcdCQkZCA9IHt9O1xuXHRcdC8qKiBgdHJ1ZWAgaWYgY3VycmVudGx5IGluIHRoZSBwcm9jZXNzIG9mIHJlZmxlY3RpbmcgY29tcG9uZW50IHByb3BzIGJhY2sgdG8gYXR0cmlidXRlcyAqL1xuXHRcdCQkciA9IGZhbHNlO1xuXHRcdC8qKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgQ3VzdG9tRWxlbWVudFByb3BEZWZpbml0aW9uPn0gUHJvcHMgZGVmaW5pdGlvbiAobmFtZSwgcmVmbGVjdGVkLCB0eXBlIGV0YykgKi9cblx0XHQkJHBfZCA9IHt9O1xuXHRcdC8qKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgRnVuY3Rpb25bXT59IEV2ZW50IGxpc3RlbmVycyAqL1xuXHRcdCQkbCA9IHt9O1xuXHRcdC8qKiBAdHlwZSB7TWFwPEZ1bmN0aW9uLCBGdW5jdGlvbj59IEV2ZW50IGxpc3RlbmVyIHVuc3Vic2NyaWJlIGZ1bmN0aW9ucyAqL1xuXHRcdCQkbF91ID0gbmV3IE1hcCgpO1xuXG5cdFx0Y29uc3RydWN0b3IoJCRjb21wb25lbnRDdG9yLCAkJHNsb3RzLCB1c2Vfc2hhZG93X2RvbSkge1xuXHRcdFx0c3VwZXIoKTtcblx0XHRcdHRoaXMuJCRjdG9yID0gJCRjb21wb25lbnRDdG9yO1xuXHRcdFx0dGhpcy4kJHMgPSAkJHNsb3RzO1xuXHRcdFx0aWYgKHVzZV9zaGFkb3dfZG9tKSB7XG5cdFx0XHRcdHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcblx0XHRcdC8vIFdlIGNhbid0IGRldGVybWluZSB1cGZyb250IGlmIHRoZSBldmVudCBpcyBhIGN1c3RvbSBldmVudCBvciBub3QsIHNvIHdlIGhhdmUgdG9cblx0XHRcdC8vIGxpc3RlbiB0byBib3RoLiBJZiBzb21lb25lIHVzZXMgYSBjdXN0b20gZXZlbnQgd2l0aCB0aGUgc2FtZSBuYW1lIGFzIGEgcmVndWxhclxuXHRcdFx0Ly8gYnJvd3NlciBldmVudCwgdGhpcyBmaXJlcyB0d2ljZSAtIHdlIGNhbid0IGF2b2lkIHRoYXQuXG5cdFx0XHR0aGlzLiQkbFt0eXBlXSA9IHRoaXMuJCRsW3R5cGVdIHx8IFtdO1xuXHRcdFx0dGhpcy4kJGxbdHlwZV0ucHVzaChsaXN0ZW5lcik7XG5cdFx0XHRpZiAodGhpcy4kJGMpIHtcblx0XHRcdFx0Y29uc3QgdW5zdWIgPSB0aGlzLiQkYy4kb24odHlwZSwgbGlzdGVuZXIpO1xuXHRcdFx0XHR0aGlzLiQkbF91LnNldChsaXN0ZW5lciwgdW5zdWIpO1xuXHRcdFx0fVxuXHRcdFx0c3VwZXIuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0cmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuXHRcdFx0c3VwZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG5cdFx0XHRpZiAodGhpcy4kJGMpIHtcblx0XHRcdFx0Y29uc3QgdW5zdWIgPSB0aGlzLiQkbF91LmdldChsaXN0ZW5lcik7XG5cdFx0XHRcdGlmICh1bnN1Yikge1xuXHRcdFx0XHRcdHVuc3ViKCk7XG5cdFx0XHRcdFx0dGhpcy4kJGxfdS5kZWxldGUobGlzdGVuZXIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0YXN5bmMgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG5cdFx0XHR0aGlzLiQkY24gPSB0cnVlO1xuXHRcdFx0aWYgKCF0aGlzLiQkYykge1xuXHRcdFx0XHQvLyBXZSB3YWl0IG9uZSB0aWNrIHRvIGxldCBwb3NzaWJsZSBjaGlsZCBzbG90IGVsZW1lbnRzIGJlIGNyZWF0ZWQvbW91bnRlZFxuXHRcdFx0XHRhd2FpdCBQcm9taXNlLnJlc29sdmUoKTtcblx0XHRcdFx0aWYgKCF0aGlzLiQkY24pIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0ZnVuY3Rpb24gY3JlYXRlX3Nsb3QobmFtZSkge1xuXHRcdFx0XHRcdHJldHVybiAoKSA9PiB7XG5cdFx0XHRcdFx0XHRsZXQgbm9kZTtcblx0XHRcdFx0XHRcdGNvbnN0IG9iaiA9IHtcblx0XHRcdFx0XHRcdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0XHRcdFx0XHRcdG5vZGUgPSBlbGVtZW50KCdzbG90Jyk7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKG5hbWUgIT09ICdkZWZhdWx0Jykge1xuXHRcdFx0XHRcdFx0XHRcdFx0YXR0cihub2RlLCAnbmFtZScsIG5hbWUpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0LyoqXG5cdFx0XHRcdFx0XHRcdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldFxuXHRcdFx0XHRcdFx0XHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBbYW5jaG9yXVxuXHRcdFx0XHRcdFx0XHQgKi9cblx0XHRcdFx0XHRcdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdFx0XHRcdFx0XHRpbnNlcnQodGFyZ2V0LCBub2RlLCBhbmNob3IpO1xuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0XHRcdFx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGRldGFjaChub2RlKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRyZXR1cm4gb2JqO1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29uc3QgJCRzbG90cyA9IHt9O1xuXHRcdFx0XHRjb25zdCBleGlzdGluZ19zbG90cyA9IGdldF9jdXN0b21fZWxlbWVudHNfc2xvdHModGhpcyk7XG5cdFx0XHRcdGZvciAoY29uc3QgbmFtZSBvZiB0aGlzLiQkcykge1xuXHRcdFx0XHRcdGlmIChuYW1lIGluIGV4aXN0aW5nX3Nsb3RzKSB7XG5cdFx0XHRcdFx0XHQkJHNsb3RzW25hbWVdID0gW2NyZWF0ZV9zbG90KG5hbWUpXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0Zm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgdGhpcy5hdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdFx0Ly8gdGhpcy4kJGRhdGEgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIHRoaXMuYXR0cmlidXRlc1xuXHRcdFx0XHRcdGNvbnN0IG5hbWUgPSB0aGlzLiQkZ19wKGF0dHJpYnV0ZS5uYW1lKTtcblx0XHRcdFx0XHRpZiAoIShuYW1lIGluIHRoaXMuJCRkKSkge1xuXHRcdFx0XHRcdFx0dGhpcy4kJGRbbmFtZV0gPSBnZXRfY3VzdG9tX2VsZW1lbnRfdmFsdWUobmFtZSwgYXR0cmlidXRlLnZhbHVlLCB0aGlzLiQkcF9kLCAndG9Qcm9wJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuJCRjID0gbmV3IHRoaXMuJCRjdG9yKHtcblx0XHRcdFx0XHR0YXJnZXQ6IHRoaXMuc2hhZG93Um9vdCB8fCB0aGlzLFxuXHRcdFx0XHRcdHByb3BzOiB7XG5cdFx0XHRcdFx0XHQuLi50aGlzLiQkZCxcblx0XHRcdFx0XHRcdCQkc2xvdHMsXG5cdFx0XHRcdFx0XHQkJHNjb3BlOiB7XG5cdFx0XHRcdFx0XHRcdGN0eDogW11cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdC8vIFJlZmxlY3QgY29tcG9uZW50IHByb3BzIGFzIGF0dHJpYnV0ZXNcblx0XHRcdFx0Y29uc3QgcmVmbGVjdF9hdHRyaWJ1dGVzID0gKCkgPT4ge1xuXHRcdFx0XHRcdHRoaXMuJCRyID0gdHJ1ZTtcblx0XHRcdFx0XHRmb3IgKGNvbnN0IGtleSBpbiB0aGlzLiQkcF9kKSB7XG5cdFx0XHRcdFx0XHR0aGlzLiQkZFtrZXldID0gdGhpcy4kJGMuJCQuY3R4W3RoaXMuJCRjLiQkLnByb3BzW2tleV1dO1xuXHRcdFx0XHRcdFx0aWYgKHRoaXMuJCRwX2Rba2V5XS5yZWZsZWN0KSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGF0dHJpYnV0ZV92YWx1ZSA9IGdldF9jdXN0b21fZWxlbWVudF92YWx1ZShcblx0XHRcdFx0XHRcdFx0XHRrZXksXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy4kJGRba2V5XSxcblx0XHRcdFx0XHRcdFx0XHR0aGlzLiQkcF9kLFxuXHRcdFx0XHRcdFx0XHRcdCd0b0F0dHJpYnV0ZSdcblx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0aWYgKGF0dHJpYnV0ZV92YWx1ZSA9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5yZW1vdmVBdHRyaWJ1dGUodGhpcy4kJHBfZFtrZXldLmF0dHJpYnV0ZSB8fCBrZXkpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuc2V0QXR0cmlidXRlKHRoaXMuJCRwX2Rba2V5XS5hdHRyaWJ1dGUgfHwga2V5LCBhdHRyaWJ1dGVfdmFsdWUpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHRoaXMuJCRyID0gZmFsc2U7XG5cdFx0XHRcdH07XG5cdFx0XHRcdHRoaXMuJCRjLiQkLmFmdGVyX3VwZGF0ZS5wdXNoKHJlZmxlY3RfYXR0cmlidXRlcyk7XG5cdFx0XHRcdHJlZmxlY3RfYXR0cmlidXRlcygpOyAvLyBvbmNlIGluaXRpYWxseSBiZWNhdXNlIGFmdGVyX3VwZGF0ZSBpcyBhZGRlZCB0b28gbGF0ZSBmb3IgZmlyc3QgcmVuZGVyXG5cblx0XHRcdFx0Zm9yIChjb25zdCB0eXBlIGluIHRoaXMuJCRsKSB7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLiQkbFt0eXBlXSkge1xuXHRcdFx0XHRcdFx0Y29uc3QgdW5zdWIgPSB0aGlzLiQkYy4kb24odHlwZSwgbGlzdGVuZXIpO1xuXHRcdFx0XHRcdFx0dGhpcy4kJGxfdS5zZXQobGlzdGVuZXIsIHVuc3ViKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy4kJGwgPSB7fTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBXZSBkb24ndCBuZWVkIHRoaXMgd2hlbiB3b3JraW5nIHdpdGhpbiBTdmVsdGUgY29kZSwgYnV0IGZvciBjb21wYXRpYmlsaXR5IG9mIHBlb3BsZSB1c2luZyB0aGlzIG91dHNpZGUgb2YgU3ZlbHRlXG5cdFx0Ly8gYW5kIHNldHRpbmcgYXR0cmlidXRlcyB0aHJvdWdoIHNldEF0dHJpYnV0ZSBldGMsIHRoaXMgaXMgaGVscGZ1bFxuXHRcdGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhhdHRyLCBfb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG5cdFx0XHRpZiAodGhpcy4kJHIpIHJldHVybjtcblx0XHRcdGF0dHIgPSB0aGlzLiQkZ19wKGF0dHIpO1xuXHRcdFx0dGhpcy4kJGRbYXR0cl0gPSBnZXRfY3VzdG9tX2VsZW1lbnRfdmFsdWUoYXR0ciwgbmV3VmFsdWUsIHRoaXMuJCRwX2QsICd0b1Byb3AnKTtcblx0XHRcdHRoaXMuJCRjPy4kc2V0KHsgW2F0dHJdOiB0aGlzLiQkZFthdHRyXSB9KTtcblx0XHR9XG5cblx0XHRkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcblx0XHRcdHRoaXMuJCRjbiA9IGZhbHNlO1xuXHRcdFx0Ly8gSW4gYSBtaWNyb3Rhc2ssIGJlY2F1c2UgdGhpcyBjb3VsZCBiZSBhIG1vdmUgd2l0aGluIHRoZSBET01cblx0XHRcdFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuXHRcdFx0XHRpZiAoIXRoaXMuJCRjbikge1xuXHRcdFx0XHRcdHRoaXMuJCRjLiRkZXN0cm95KCk7XG5cdFx0XHRcdFx0dGhpcy4kJGMgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdCQkZ19wKGF0dHJpYnV0ZV9uYW1lKSB7XG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRPYmplY3Qua2V5cyh0aGlzLiQkcF9kKS5maW5kKFxuXHRcdFx0XHRcdChrZXkpID0+XG5cdFx0XHRcdFx0XHR0aGlzLiQkcF9kW2tleV0uYXR0cmlidXRlID09PSBhdHRyaWJ1dGVfbmFtZSB8fFxuXHRcdFx0XHRcdFx0KCF0aGlzLiQkcF9kW2tleV0uYXR0cmlidXRlICYmIGtleS50b0xvd2VyQ2FzZSgpID09PSBhdHRyaWJ1dGVfbmFtZSlcblx0XHRcdFx0KSB8fCBhdHRyaWJ1dGVfbmFtZVxuXHRcdFx0KTtcblx0XHR9XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBDdXN0b21FbGVtZW50UHJvcERlZmluaXRpb24+fSBwcm9wc19kZWZpbml0aW9uXG4gKiBAcGFyYW0geyd0b0F0dHJpYnV0ZScgfCAndG9Qcm9wJ30gW3RyYW5zZm9ybV1cbiAqL1xuZnVuY3Rpb24gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKHByb3AsIHZhbHVlLCBwcm9wc19kZWZpbml0aW9uLCB0cmFuc2Zvcm0pIHtcblx0Y29uc3QgdHlwZSA9IHByb3BzX2RlZmluaXRpb25bcHJvcF0/LnR5cGU7XG5cdHZhbHVlID0gdHlwZSA9PT0gJ0Jvb2xlYW4nICYmIHR5cGVvZiB2YWx1ZSAhPT0gJ2Jvb2xlYW4nID8gdmFsdWUgIT0gbnVsbCA6IHZhbHVlO1xuXHRpZiAoIXRyYW5zZm9ybSB8fCAhcHJvcHNfZGVmaW5pdGlvbltwcm9wXSkge1xuXHRcdHJldHVybiB2YWx1ZTtcblx0fSBlbHNlIGlmICh0cmFuc2Zvcm0gPT09ICd0b0F0dHJpYnV0ZScpIHtcblx0XHRzd2l0Y2ggKHR5cGUpIHtcblx0XHRcdGNhc2UgJ09iamVjdCc6XG5cdFx0XHRjYXNlICdBcnJheSc6XG5cdFx0XHRcdHJldHVybiB2YWx1ZSA9PSBudWxsID8gbnVsbCA6IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcblx0XHRcdGNhc2UgJ0Jvb2xlYW4nOlxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPyAnJyA6IG51bGw7XG5cdFx0XHRjYXNlICdOdW1iZXInOlxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/IG51bGwgOiB2YWx1ZTtcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0c3dpdGNoICh0eXBlKSB7XG5cdFx0XHRjYXNlICdPYmplY3QnOlxuXHRcdFx0Y2FzZSAnQXJyYXknOlxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgJiYgSlNPTi5wYXJzZSh2YWx1ZSk7XG5cdFx0XHRjYXNlICdCb29sZWFuJzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlOyAvLyBjb252ZXJzaW9uIGFscmVhZHkgaGFuZGxlZCBhYm92ZVxuXHRcdFx0Y2FzZSAnTnVtYmVyJzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlICE9IG51bGwgPyArdmFsdWUgOiB2YWx1ZTtcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqXG4gKiBUdXJuIGEgU3ZlbHRlIGNvbXBvbmVudCBpbnRvIGEgY3VzdG9tIGVsZW1lbnQuXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5Db21wb25lbnRUeXBlfSBDb21wb25lbnQgIEEgU3ZlbHRlIGNvbXBvbmVudCBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBDdXN0b21FbGVtZW50UHJvcERlZmluaXRpb24+fSBwcm9wc19kZWZpbml0aW9uICBUaGUgcHJvcHMgdG8gb2JzZXJ2ZVxuICogQHBhcmFtIHtzdHJpbmdbXX0gc2xvdHMgIFRoZSBzbG90cyB0byBjcmVhdGVcbiAqIEBwYXJhbSB7c3RyaW5nW119IGFjY2Vzc29ycyAgT3RoZXIgYWNjZXNzb3JzIGJlc2lkZXMgdGhlIG9uZXMgZm9yIHByb3BzIHRoZSBjb21wb25lbnQgaGFzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHVzZV9zaGFkb3dfZG9tICBXaGV0aGVyIHRvIHVzZSBzaGFkb3cgRE9NXG4gKiBAcGFyYW0geyhjZTogbmV3ICgpID0+IEhUTUxFbGVtZW50KSA9PiBuZXcgKCkgPT4gSFRNTEVsZW1lbnR9IFtleHRlbmRdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfY3VzdG9tX2VsZW1lbnQoXG5cdENvbXBvbmVudCxcblx0cHJvcHNfZGVmaW5pdGlvbixcblx0c2xvdHMsXG5cdGFjY2Vzc29ycyxcblx0dXNlX3NoYWRvd19kb20sXG5cdGV4dGVuZFxuKSB7XG5cdGxldCBDbGFzcyA9IGNsYXNzIGV4dGVuZHMgU3ZlbHRlRWxlbWVudCB7XG5cdFx0Y29uc3RydWN0b3IoKSB7XG5cdFx0XHRzdXBlcihDb21wb25lbnQsIHNsb3RzLCB1c2Vfc2hhZG93X2RvbSk7XG5cdFx0XHR0aGlzLiQkcF9kID0gcHJvcHNfZGVmaW5pdGlvbjtcblx0XHR9XG5cdFx0c3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XG5cdFx0XHRyZXR1cm4gT2JqZWN0LmtleXMocHJvcHNfZGVmaW5pdGlvbikubWFwKChrZXkpID0+XG5cdFx0XHRcdChwcm9wc19kZWZpbml0aW9uW2tleV0uYXR0cmlidXRlIHx8IGtleSkudG9Mb3dlckNhc2UoKVxuXHRcdFx0KTtcblx0XHR9XG5cdH07XG5cdE9iamVjdC5rZXlzKHByb3BzX2RlZmluaXRpb24pLmZvckVhY2goKHByb3ApID0+IHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2xhc3MucHJvdG90eXBlLCBwcm9wLCB7XG5cdFx0XHRnZXQoKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLiQkYyAmJiBwcm9wIGluIHRoaXMuJCRjID8gdGhpcy4kJGNbcHJvcF0gOiB0aGlzLiQkZFtwcm9wXTtcblx0XHRcdH0sXG5cdFx0XHRzZXQodmFsdWUpIHtcblx0XHRcdFx0dmFsdWUgPSBnZXRfY3VzdG9tX2VsZW1lbnRfdmFsdWUocHJvcCwgdmFsdWUsIHByb3BzX2RlZmluaXRpb24pO1xuXHRcdFx0XHR0aGlzLiQkZFtwcm9wXSA9IHZhbHVlO1xuXHRcdFx0XHR0aGlzLiQkYz8uJHNldCh7IFtwcm9wXTogdmFsdWUgfSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xuXHRhY2Nlc3NvcnMuZm9yRWFjaCgoYWNjZXNzb3IpID0+IHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2xhc3MucHJvdG90eXBlLCBhY2Nlc3Nvciwge1xuXHRcdFx0Z2V0KCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy4kJGM/LlthY2Nlc3Nvcl07XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xuXHRpZiAoZXh0ZW5kKSB7XG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvciAtIGFzc2lnbmluZyBoZXJlIGlzIGZpbmVcblx0XHRDbGFzcyA9IGV4dGVuZChDbGFzcyk7XG5cdH1cblx0Q29tcG9uZW50LmVsZW1lbnQgPSAvKiogQHR5cGUge2FueX0gKi8gKENsYXNzKTtcblx0cmV0dXJuIENsYXNzO1xufVxuXG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIFN2ZWx0ZSBjb21wb25lbnRzLiBVc2VkIHdoZW4gZGV2PWZhbHNlLlxuICpcbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gW1Byb3BzPWFueV1cbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gW0V2ZW50cz1hbnldXG4gKi9cbmV4cG9ydCBjbGFzcyBTdmVsdGVDb21wb25lbnQge1xuXHQvKipcblx0ICogIyMjIFBSSVZBVEUgQVBJXG5cdCAqXG5cdCAqIERvIG5vdCB1c2UsIG1heSBjaGFuZ2UgYXQgYW55IHRpbWVcblx0ICpcblx0ICogQHR5cGUge2FueX1cblx0ICovXG5cdCQkID0gdW5kZWZpbmVkO1xuXHQvKipcblx0ICogIyMjIFBSSVZBVEUgQVBJXG5cdCAqXG5cdCAqIERvIG5vdCB1c2UsIG1heSBjaGFuZ2UgYXQgYW55IHRpbWVcblx0ICpcblx0ICogQHR5cGUge2FueX1cblx0ICovXG5cdCQkc2V0ID0gdW5kZWZpbmVkO1xuXG5cdC8qKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0JGRlc3Ryb3koKSB7XG5cdFx0ZGVzdHJveV9jb21wb25lbnQodGhpcywgMSk7XG5cdFx0dGhpcy4kZGVzdHJveSA9IG5vb3A7XG5cdH1cblxuXHQvKipcblx0ICogQHRlbXBsYXRlIHtFeHRyYWN0PGtleW9mIEV2ZW50cywgc3RyaW5nPn0gS1xuXHQgKiBAcGFyYW0ge0t9IHR5cGVcblx0ICogQHBhcmFtIHsoKGU6IEV2ZW50c1tLXSkgPT4gdm9pZCkgfCBudWxsIHwgdW5kZWZpbmVkfSBjYWxsYmFja1xuXHQgKiBAcmV0dXJucyB7KCkgPT4gdm9pZH1cblx0ICovXG5cdCRvbih0eXBlLCBjYWxsYmFjaykge1xuXHRcdGlmICghaXNfZnVuY3Rpb24oY2FsbGJhY2spKSB7XG5cdFx0XHRyZXR1cm4gbm9vcDtcblx0XHR9XG5cdFx0Y29uc3QgY2FsbGJhY2tzID0gdGhpcy4kJC5jYWxsYmFja3NbdHlwZV0gfHwgKHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdID0gW10pO1xuXHRcdGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcblx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0Y29uc3QgaW5kZXggPSBjYWxsYmFja3MuaW5kZXhPZihjYWxsYmFjayk7XG5cdFx0XHRpZiAoaW5kZXggIT09IC0xKSBjYWxsYmFja3Muc3BsaWNlKGluZGV4LCAxKTtcblx0XHR9O1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7UGFydGlhbDxQcm9wcz59IHByb3BzXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0JHNldChwcm9wcykge1xuXHRcdGlmICh0aGlzLiQkc2V0ICYmICFpc19lbXB0eShwcm9wcykpIHtcblx0XHRcdHRoaXMuJCQuc2tpcF9ib3VuZCA9IHRydWU7XG5cdFx0XHR0aGlzLiQkc2V0KHByb3BzKTtcblx0XHRcdHRoaXMuJCQuc2tpcF9ib3VuZCA9IGZhbHNlO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEN1c3RvbUVsZW1lbnRQcm9wRGVmaW5pdGlvblxuICogQHByb3BlcnR5IHtzdHJpbmd9IFthdHRyaWJ1dGVdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtyZWZsZWN0XVxuICogQHByb3BlcnR5IHsnU3RyaW5nJ3wnQm9vbGVhbid8J051bWJlcid8J0FycmF5J3wnT2JqZWN0J30gW3R5cGVdXG4gKi9cbiIsIi8vIGdlbmVyYXRlZCBkdXJpbmcgcmVsZWFzZSwgZG8gbm90IG1vZGlmeVxuXG4vKipcbiAqIFRoZSBjdXJyZW50IHZlcnNpb24sIGFzIHNldCBpbiBwYWNrYWdlLmpzb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLWNvbXBpbGVyI3N2ZWx0ZS12ZXJzaW9uXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgVkVSU0lPTiA9ICc0LjIuMic7XG5leHBvcnQgY29uc3QgUFVCTElDX1ZFUlNJT04gPSAnNCc7XG4iLCJpbXBvcnQgeyBQVUJMSUNfVkVSU0lPTiB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZC92ZXJzaW9uLmpzJztcblxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKVxuXHQvLyBAdHMtaWdub3JlXG5cdCh3aW5kb3cuX19zdmVsdGUgfHwgKHdpbmRvdy5fX3N2ZWx0ZSA9IHsgdjogbmV3IFNldCgpIH0pKS52LmFkZChQVUJMSUNfVkVSU0lPTik7XG4iLCI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuICBpbXBvcnQgeyBvbk1vdW50LCBvbkRlc3Ryb3kgfSBmcm9tICdzdmVsdGUnO1xuICBpbXBvcnQgeyBzZXRJY29uLCB0eXBlIEljb25OYW1lIH0gZnJvbSAnb2JzaWRpYW4nO1xuICBcbiAgZXhwb3J0IGxldCBpY29uOiBJY29uTmFtZTtcbiAgZXhwb3J0IGxldCBzaXplOiAnc21hbGwnIHwgJ21lZGl1bScgfCAnbGFyZ2UnIHwgJ2luaGVyaXQnID0gJ21lZGl1bSc7XG4gIGV4cG9ydCBsZXQgZXh0cmFDbGFzc2VzOiBzdHJpbmcgPSAnJztcbiAgXG4gIGxldCBpY29uRWw6IEhUTUxFbGVtZW50O1xuICBsZXQgb2JzZXJ2ZXI6IE11dGF0aW9uT2JzZXJ2ZXIgfCBudWxsID0gbnVsbDtcblxuICBjb25zdCBzaXplQ2xhc3NlcyA9IHtcbiAgICBzbWFsbDogJ3ctMyBoLTMnLFxuICAgIG1lZGl1bTogJ3ctNCBoLTQnLFxuICAgIGxhcmdlOiAndy01IGgtNScsXG4gICAgaW5oZXJpdDogJycgLy8gRm9yICdpbmhlcml0Jywgbm8gZml4ZWQgc2l6ZSBpcyBhcHBsaWVkIGhlcmUsIHJlbHlpbmcgb24gcGFyZW50J3MgZm9udCBzaXplIG9yIGN1c3RvbSBDU1NcbiAgfTtcblxuICBmdW5jdGlvbiB1cGRhdGVJY29uKCkge1xuICAgIGlmIChpY29uRWwgJiYgaWNvbikge1xuICAgICAgc2V0SWNvbihpY29uRWwsIGljb24pO1xuICAgICAgaWYgKHNpemUgPT09ICdpbmhlcml0Jykge1xuICAgICAgICBpY29uRWwuc3R5bGUud2lkdGggPSAnMWVtJztcbiAgICAgICAgaWNvbkVsLnN0eWxlLmhlaWdodCA9ICcxZW0nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWNvbkVsLnN0eWxlLndpZHRoID0gJyc7IC8vIENsZWFyIGlubGluZSBzdHlsZSBpZiBub3QgJ2luaGVyaXQnXG4gICAgICAgIGljb25FbC5zdHlsZS5oZWlnaHQgPSAnJzsgXG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxuICBvbk1vdW50KCgpID0+IHtcbiAgICB1cGRhdGVJY29uKCk7XG5cbiAgICAvLyBPYnNlcnZlIGNoYW5nZXMgdG8gdGhlIGljb24gcHJvcGVydHkgb3IgcGFyZW50IGVsZW1lbnQgZm9yIHRoZW1lIGNoYW5nZXNcbiAgICAvLyBUaGlzIGlzIHVzZWZ1bCBpZiB0aGUgaWNvbiBuZWVkcyB0byByZS1yZW5kZXIgZHVlIHRvIGV4dGVybmFsIENTUyBjaGFuZ2VzIG9yIHBhcmVudCByZXNpemluZ1xuICAgIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9ucykgPT4ge1xuICAgICAgbXV0YXRpb25zLmZvckVhY2goKG11dGF0aW9uKSA9PiB7XG4gICAgICAgIGlmIChtdXRhdGlvbi50eXBlID09PSAnYXR0cmlidXRlcycgJiYgKG11dGF0aW9uLmF0dHJpYnV0ZU5hbWUgPT09ICdjbGFzcycgfHwgbXV0YXRpb24uYXR0cmlidXRlTmFtZSA9PT0gJ3N0eWxlJykpIHtcbiAgICAgICAgICAvLyBSZS1hcHBseSBpY29uIHRvIGVuc3VyZSBpdCBwaWNrcyB1cCBhbnkgbmV3IHN0eWxpbmcgY29udGV4dCBpZiBuZWVkZWRcbiAgICAgICAgICB1cGRhdGVJY29uKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaWYgKGljb25FbCkge1xuICAgICAgLy8gT2JzZXJ2ZSBhdHRyaWJ1dGVzIG9uIHRoZSBlbGVtZW50IGl0c2VsZiBmb3Igc2l6ZS9zdHlsZSBjaGFuZ2VzXG4gICAgICBvYnNlcnZlci5vYnNlcnZlKGljb25FbCwgeyBhdHRyaWJ1dGVzOiB0cnVlIH0pO1xuICAgICAgLy8gT3B0aW9uYWxseSBvYnNlcnZlIHBhcmVudCBmb3IgaW5oZXJpdGVkIHN0eWxlcyB0aGF0IG1pZ2h0IGFmZmVjdCAnaW5oZXJpdCcgc2l6ZVxuICAgICAgaWYgKGljb25FbC5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUoaWNvbkVsLnBhcmVudEVsZW1lbnQsIHsgYXR0cmlidXRlczogdHJ1ZSB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIG9uRGVzdHJveSgoKSA9PiB7XG4gICAgb2JzZXJ2ZXI/LmRpc2Nvbm5lY3QoKTtcbiAgfSk7XG5cbiAgLy8gUmVhY3RpdmUgc3RhdGVtZW50IHRvIHVwZGF0ZSBpY29uIHdoZW4gJ2ljb24nIG9yICdzaXplJyBwcm9wZXJ0eSBjaGFuZ2VzXG4gICQ6IHtcbiAgICB1cGRhdGVJY29uKCk7XG4gIH1cbjwvc2NyaXB0PlxuXG48c3BhbiBcbiAgYmluZDp0aGlzPXtpY29uRWx9XG4gIGNsYXNzPVwib2JzaWRpYW4taWNvbiBpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIge3NpemVDbGFzc2VzW3NpemVdfSB7ZXh0cmFDbGFzc2VzfVwiXG4gIGFyaWEtaGlkZGVuPVwidHJ1ZVwiXG4vPiIsIjwhLS0gPT09IFZFU1NFTCBPUEVOID09PSAtLT5cclxuPCEtLSBQdXJwb3NlOiBTY2hlbWEgbWFuYWdlbWVudCBVSSBmb3IgZGlzY292ZXJ5LWJhc2VkIGFwcHJvYWNoIC0tPlxyXG48IS0tIEludGVncmF0aW9uOiBSZXBsYWNlcyBHcmFwaGl0aU1hbmFnZXIuc3ZlbHRlIHdpdGggZGlzY292ZXJ5IGZ1bmN0aW9uYWxpdHkgLS0+XHJcbjwhLS0gTW9kZTogQ29kZSAtIFN2ZWx0ZSBjb21wb25lbnQgZm9yIHNjaGVtYSBkaXNjb3ZlcnkgYW5kIFB5ZGFudGljIGdlbmVyYXRpb24gLS0+XHJcblxyXG48c2NyaXB0IGxhbmc9XCJ0c1wiPlxyXG4gIGltcG9ydCB7IG9uTW91bnQsIG9uRGVzdHJveSB9IGZyb20gXCJzdmVsdGVcIjtcclxuICBpbXBvcnQgdHlwZSB7IFNjaGVtYURpc2NvdmVyeVNlcnZpY2UgfSBmcm9tIFwiLi4vc2VydmljZXMvU2NoZW1hRGlzY292ZXJ5U2VydmljZVwiO1xyXG4gIGltcG9ydCB7IEdyYXBoaXRpU2VydmljZSB9IGZyb20gXCIuLi9zZXJ2aWNlcy9HcmFwaGl0aVNlcnZpY2VcIjtcclxuICBpbXBvcnQgdHlwZSB7IFNpbXBsZUxMTVNlcnZpY2UgfSBmcm9tIFwiLi4vc2VydmljZXMvU2ltcGxlTExNU2VydmljZVwiO1xyXG4gIGltcG9ydCB0eXBlIHsgVHlwZVNjaGVtYSwgUHJvcGVydHlTY2hlbWEgfSBmcm9tIFwiLi4vdHlwZXMvU2NoZW1hXCI7XHJcbiAgaW1wb3J0IE9ic2lkaWFuSWNvbiBmcm9tIFwiLi9PYnNpZGlhbkljb24uc3ZlbHRlXCI7XHJcbiAgaW1wb3J0IHR5cGUge1xyXG4gICAgRW50aXR5RGVzY3JpcHRpb24sXHJcbiAgICBQcm9wZXJ0eURlc2NyaXB0aW9uLFxyXG4gICAgRWRnZVR5cGUsXHJcbiAgICBFZGdlVHlwZU1hcHBpbmcsXHJcbiAgICBFZGdlVHlwZVByb3BlcnR5LFxyXG4gICAgTExNU2NoZW1hU2V0dGluZ3MsXHJcbiAgfSBmcm9tIFwiLi4vdHlwZXMvU2V0dGluZ3NcIjtcclxuICBpbXBvcnQgeyBOb3RpY2UgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuICBpbXBvcnQgeyBHcmFwaGl0aUxvZ2dlciB9IGZyb20gXCIuLi91dGlscy9Mb2dnZXJcIjtcclxuXHJcbiAgZXhwb3J0IGxldCBzY2hlbWFTZXJ2aWNlOiBTY2hlbWFEaXNjb3ZlcnlTZXJ2aWNlO1xyXG4gIGV4cG9ydCBsZXQgbGxtU2VydmljZTogU2ltcGxlTExNU2VydmljZTtcclxuXHJcbiAgLy8gR2V0IHBsdWdpbiBpbnN0YW5jZSBmb3IgZGF0YSBwZXJzaXN0ZW5jZVxyXG4gIGxldCBwbHVnaW46IGFueTtcclxuICBsZXQgcGx1Z2luU2V0dGluZ3M6IGFueSA9IHt9O1xyXG4gIGxldCBncmFwaGl0aVNlcnZpY2U6IEdyYXBoaXRpU2VydmljZTtcclxuXHJcbiAgJDoge1xyXG4gICAgaWYgKHR5cGVvZiAod2luZG93IGFzIGFueSkuYXBwICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgIHBsdWdpbiA9ICh3aW5kb3cgYXMgYW55KS5hcHAucGx1Z2lucy5wbHVnaW5zW1wibWVnYW1lbS1tY3BcIl07XHJcbiAgICAgIHBsdWdpblNldHRpbmdzID0gcGx1Z2luPy5zZXR0aW5ncyB8fCB7fTtcclxuXHJcbiAgICAgIC8vIEluaXRpYWxpemUgR3JhcGhpdGlTZXJ2aWNlIHdoZW4gcGx1Z2luIGlzIGF2YWlsYWJsZVxyXG4gICAgICBpZiAocGx1Z2luICYmIHBsdWdpbi5zZXR0aW5ncyAmJiAhZ3JhcGhpdGlTZXJ2aWNlKSB7XHJcbiAgICAgICAgLy8gSW5qZWN0IHJlcXVpcmVkIHNlcnZpY2VzXHJcbiAgICAgICAgY29uc3Qgc3luY1JlZ2lzdHJ5U2VydmljZSA9IHBsdWdpbi5zeW5jUmVnaXN0cnlTZXJ2aWNlO1xyXG4gICAgICAgIGNvbnN0IHN5bmNTdGF0dXNNYW5hZ2VyID0gcGx1Z2luLnN5bmNTdGF0dXNNYW5hZ2VyO1xyXG4gICAgICAgIGNvbnN0IHZhdWx0UmVnaXN0cnlTZXJ2aWNlID0gcGx1Z2luLnZhdWx0UmVnaXN0cnlTZXJ2aWNlO1xyXG5cclxuICAgICAgICBncmFwaGl0aVNlcnZpY2UgPSBuZXcgR3JhcGhpdGlTZXJ2aWNlKFxyXG4gICAgICAgICAgcGx1Z2luLFxyXG4gICAgICAgICAgcGx1Z2luLnNldHRpbmdzLFxyXG4gICAgICAgICAgc3luY1JlZ2lzdHJ5U2VydmljZSxcclxuICAgICAgICAgIHN5bmNTdGF0dXNNYW5hZ2VyLFxyXG4gICAgICAgICAgdmF1bHRSZWdpc3RyeVNlcnZpY2VcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBsZXQgc2NoZW1hczogVHlwZVNjaGVtYVtdID0gW107XHJcbiAgbGV0IHNlbGVjdGVkVHlwZTogc3RyaW5nID0gXCJcIjtcclxuICBsZXQgbG9hZGluZyA9IHRydWU7XHJcbiAgbGV0IGdlbmVyYXRlZE1vZGVscyA9IFwiXCI7XHJcblxyXG4gIC8vIERlYnVnIGZ1bmN0aW9uIHRvIHRyYWNrIHRhYiBjaGFuZ2VzXHJcbiAgZnVuY3Rpb24gaGFuZGxlVGFiQ2hhbmdlKFxyXG4gICAgbmV3VGFiOiBcImVudGl0aWVzXCIgfCBcInByb3BlcnRpZXNcIiB8IFwiZWRnZXNcIiB8IFwibWFwcGluZ3NcIlxyXG4gICkge1xyXG4gICAgY29uc29sZS5sb2coXHJcbiAgICAgIGBTd2l0Y2hpbmcgdG8gdGFiOiAke25ld1RhYn0sIHNjaGVtYXMubGVuZ3RoOiAke3NjaGVtYXMubGVuZ3RofSwgZWRnZVR5cGVzOiAke09iamVjdC5rZXlzKGVkZ2VUeXBlcykubGVuZ3RofWBcclxuICAgICk7XHJcbiAgICBhY3RpdmVUYWIgPSBuZXdUYWI7XHJcbiAgfVxyXG5cclxuICAvLyA9PT0gRU5IQU5DRUQgU0NIRU1BIE1BTkFHRU1FTlQgU1RBVEUgPT09XHJcbiAgLy8gUHVycG9zZTogU3RhdGUgbWFuYWdlbWVudCBmb3IgdGFiYmVkIG9udG9sb2d5IGludGVyZmFjZVxyXG4gIC8vIEludGVncmF0aW9uOiBNYW5hZ2VzIGVudGl0eSBkZXNjcmlwdGlvbnMsIGVkZ2UgdHlwZXMsIGFuZCBMTE0gc3VnZ2VzdGlvbnNcclxuICAvLyBNb2RlOiBDb2RlIC0gVUkgc3RhdGUgZm9yIGVuaGFuY2VkIHNjaGVtYSBhdXRob3JpbmdcclxuXHJcbiAgbGV0IGFjdGl2ZVRhYjogXCJlbnRpdGllc1wiIHwgXCJwcm9wZXJ0aWVzXCIgfCBcImVkZ2VzXCIgfCBcIm1hcHBpbmdzXCIgPSBcImVudGl0aWVzXCI7XHJcbiAgLy8gPT09IFJFQUNUSVZFIFJFRkVSRU5DRVMgVE8gUExVR0lOIFNFVFRJTkdTID09PVxyXG4gIC8vIFB1cnBvc2U6IFNpbmdsZSBzb3VyY2Ugb2YgdHJ1dGggLSBhbGwgZGF0YSBjb21lcyBkaXJlY3RseSBmcm9tIHBsdWdpbi5zZXR0aW5nc1xyXG4gIC8vIEludGVncmF0aW9uOiBFbGltaW5hdGVzIGxvY2FsIHN0YXRlIGNvcGllcywgZW5hYmxlcyByZWFsLXRpbWUgc3luYyB3aXRoIGRhdGEuanNvblxyXG4gIC8vIE1vZGU6IENvZGUgLSBSZWFjdGl2ZSByZWZlcmVuY2VzIGZvciBzaW5nbGUtc291cmNlLW9mLXRydXRoIGFyY2hpdGVjdHVyZVxyXG5cclxuICAkOiBlbnRpdHlEZXNjcmlwdGlvbnMgPSBwbHVnaW4/LnNldHRpbmdzPy5lbnRpdHlEZXNjcmlwdGlvbnMgfHwge307XHJcbiAgJDogcHJvcGVydHlEZXNjcmlwdGlvbnMgPSBwbHVnaW4/LnNldHRpbmdzPy5wcm9wZXJ0eURlc2NyaXB0aW9ucyB8fCB7fTtcclxuICAkOiBlZGdlVHlwZXMgPSBwbHVnaW4/LnNldHRpbmdzPy5lZGdlVHlwZXMgfHwge307XHJcbiAgJDogZWRnZVR5cGVNYXAgPSBwbHVnaW4/LnNldHRpbmdzPy5lZGdlVHlwZU1hcCB8fCBbXTtcclxuICAkOiBsbG1TY2hlbWFTZXR0aW5ncyA9IHBsdWdpbj8uc2V0dGluZ3M/LmxsbVNjaGVtYVNldHRpbmdzIHx8IHtcclxuICAgIGF1dG9TdWdnZXN0RW50aXR5RGVzY3JpcHRpb25zOiBmYWxzZSxcclxuICAgIGF1dG9TdWdnZXN0UHJvcGVydHlEZXNjcmlwdGlvbnM6IGZhbHNlLFxyXG4gICAgYXV0b1N1Z2dlc3RFZGdlVHlwZXM6IGZhbHNlLFxyXG4gICAgYXV0b1N1Z2dlc3RFZGdlVHlwZU1hcHBpbmdzOiBmYWxzZSxcclxuICAgIGVuYWJsZUJ1bGtHZW5lcmF0aW9uOiBmYWxzZSxcclxuICAgIHN1Z2dlc3Rpb25BcHByb3ZhbFJlcXVpcmVkOiB0cnVlLFxyXG4gIH07XHJcblxyXG4gIC8vIEFjY29yZGlvbiBzdGF0ZSBtYW5hZ2VtZW50XHJcbiAgbGV0IGV4cGFuZGVkQWNjb3JkaW9uczogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7XHJcblxyXG4gIC8vIEVudGl0eSBkZXNjcmlwdGlvbiBlZGl0aW5nIHN0YXRlXHJcbiAgbGV0IGVkaXRpbmdFbnRpdHlEZXNjcmlwdGlvbjogc3RyaW5nIHwgbnVsbCA9IG51bGw7XHJcbiAgbGV0IHRlbXBFbnRpdHlEZXNjcmlwdGlvbnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcclxuICBsZXQgZW50aXR5RGVzY3JpcHRpb25Tb3VyY2U6IFJlY29yZDxzdHJpbmcsIFwidXNlclwiIHwgXCJsbG1cIiB8IFwiZGVmYXVsdFwiPiA9IHt9O1xyXG5cclxuICAvLyBFZGdlIFR5cGVzIHN0YXRlIG1hbmFnZW1lbnRcclxuICBsZXQgc2hvd0FkZEVkZ2VGb3JtID0gZmFsc2U7XHJcbiAgbGV0IG5ld0VkZ2VUeXBlTmFtZSA9IFwiXCI7XHJcbiAgbGV0IG5ld0VkZ2VUeXBlRGVzY3JpcHRpb24gPSBcIlwiO1xyXG4gIGxldCBlZGl0aW5nRWRnZVR5cGU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xyXG4gIGxldCB0ZW1wRWRnZVR5cGVOYW1lID0gXCJcIjtcclxuICBsZXQgdGVtcEVkZ2VUeXBlRGVzY3JpcHRpb24gPSBcIlwiO1xyXG5cclxuICAvLyBFZGdlIFR5cGUgU3VnZ2VzdGlvbnMgc3RhdGVcclxuICBsZXQgZWRnZVR5cGVTdWdnZXN0aW9uczogYW55W10gPSBbXTtcclxuICBsZXQgc2hvd0VkZ2VTdWdnZXN0aW9ucyA9IGZhbHNlO1xyXG5cclxuICAvLyBDb21wbGV0ZSBPbnRvbG9neSBHZW5lcmF0aW9uIHN0YXRlXHJcbiAgbGV0IGlzR2VuZXJhdGluZ09udG9sb2d5ID0gZmFsc2U7XHJcbiAgbGV0IG9udG9sb2d5UHJvZ3Jlc3MgPSB7IGN1cnJlbnQ6IDAsIHRvdGFsOiAwLCBzdGVwOiBcIlwiIH07XHJcblxyXG4gIC8vIEluZGl2aWR1YWwgTExNIGJ1dHRvbiBsb2FkaW5nIHN0YXRlc1xyXG4gIGxldCBnZW5lcmF0aW5nRW50aXR5RGVzYyA9IFwiXCI7XHJcbiAgbGV0IGdlbmVyYXRpbmdQcm9wZXJ0eURlc2MgPSBcIlwiO1xyXG4gIGxldCBnZW5lcmF0aW5nRWRnZVByb3BlcnR5RGVzYyA9IFwiXCI7XHJcblxyXG4gIC8vIExMTSBHZW5lcmF0aW9uIE1vZGFsIHN0YXRlXHJcbiAgbGV0IHNob3dHZW5lcmF0aW9uTW9kYWwgPSBmYWxzZTtcclxuICBsZXQgbW9kYWxHZW5lcmF0aW9uVHlwZTpcclxuICAgIHwgXCJlbnRpdGllc1wiXHJcbiAgICB8IFwicHJvcGVydGllc1wiXHJcbiAgICB8IFwiY29tcGxldGVcIlxyXG4gICAgfCBcImxvYWRfZGVmYXVsdF9lbnRpdGllc1wiXHJcbiAgICB8IFwibG9hZF9kZWZhdWx0X3Byb3BlcnRpZXNcIlxyXG4gICAgfCBudWxsID0gbnVsbDtcclxuICBsZXQgc2VsZWN0ZWRHZW5lcmF0aW9uTW9kZTogXCJyZWdlbmVyYXRlX2FsbFwiIHwgXCJza2lwX3VzZXJcIiB8IFwibmV3X29ubHlcIiA9XHJcbiAgICBcInNraXBfdXNlclwiO1xyXG5cclxuICAvLyBFZGdlIE1hcHBpbmcgU3VnZ2VzdGlvbnMgc3RhdGVcclxuICBsZXQgZWRnZU1hcHBpbmdTdWdnZXN0aW9uczogYW55W10gPSBbXTtcclxuICBsZXQgc2hvd01hcHBpbmdTdWdnZXN0aW9ucyA9IGZhbHNlO1xyXG5cclxuICAvLyBFZGdlIFByb3BlcnR5IE1hbmFnZW1lbnRcclxuICBsZXQgYWRkaW5nUHJvcGVydHlUb0VkZ2U6IHN0cmluZyB8IG51bGwgPSBudWxsO1xyXG4gIGxldCBuZXdQcm9wZXJ0eU5hbWUgPSBcIlwiO1xyXG4gIGxldCBuZXdQcm9wZXJ0eVR5cGUgPSBcInN0clwiO1xyXG4gIGxldCBuZXdQcm9wZXJ0eURlc2NyaXB0aW9uID0gXCJcIjtcclxuICBsZXQgbmV3UHJvcGVydHlSZXF1aXJlZCA9IGZhbHNlO1xyXG5cclxuICAvLyBFZGdlIE1hcHBpbmdzIHN0YXRlIG1hbmFnZW1lbnRcclxuICBsZXQgc2hvd0FkZE1hcHBpbmdGb3JtID0gZmFsc2U7XHJcbiAgbGV0IG5ld01hcHBpbmdTb3VyY2VFbnRpdHkgPSBcIlwiO1xyXG4gIGxldCBuZXdNYXBwaW5nVGFyZ2V0RW50aXR5ID0gXCJcIjtcclxuICBsZXQgbmV3TWFwcGluZ0FsbG93ZWRFZGdlczogc3RyaW5nW10gPSBbXTtcclxuICBsZXQgZWRpdGluZ01hcHBpbmdJbmRleDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XHJcbiAgbGV0IHRlbXBFZGl0TWFwcGluZ1NvdXJjZUVudGl0eSA9IFwiXCI7XHJcbiAgbGV0IHRlbXBFZGl0TWFwcGluZ1RhcmdldEVudGl0eSA9IFwiXCI7XHJcbiAgbGV0IHRlbXBFZGl0TWFwcGluZ0FsbG93ZWRFZGdlczogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgLy8gRWRnZSB0eXBlcyBkYXRhIHByb2Nlc3NpbmdcclxuICAkOiBlZGdlVHlwZXNEYXRhID0gZWRnZVR5cGVzIHx8IHt9O1xyXG4gICQ6IGVkZ2VUeXBlc0xpc3QgPSBPYmplY3Qua2V5cyhlZGdlVHlwZXNEYXRhKTtcclxuXHJcbiAgLy8gRW50aXR5IHR5cGVzIGZvciBlZGdlIG1hcHBpbmdzXHJcbiAgJDogZW50aXR5VHlwZXNMaXN0ID0gc2NoZW1hcy5tYXAoKHMpID0+IHMudHlwZU5hbWUpO1xyXG4gICQ6IGFsbEVudGl0eVR5cGVzID0gWy4uLmVudGl0eVR5cGVzTGlzdCwgXCJFbnRpdHlcIl07IC8vIEluY2x1ZGUgZ2VuZXJpYyBFbnRpdHkgdHlwZVxyXG5cclxuICAvLyBVbnVzZWQgZGVmYXVsdHMgcHJvY2Vzc2luZ1xyXG4gICQ6IHVudXNlZEVkZ2VUeXBlcyA9IHNjaGVtYVNlcnZpY2UuZ2V0VW51c2VkRGVmYXVsdEVkZ2VUeXBlcyhlZGdlVHlwZXNEYXRhKTtcclxuICAkOiBzdWdnZXN0ZWRNYXBwaW5ncyA9IHNjaGVtYVNlcnZpY2UuZ2V0U3VnZ2VzdGVkRGVmYXVsdE1hcHBpbmdzKFxyXG4gICAgZW50aXR5VHlwZXNMaXN0LFxyXG4gICAgZWRnZVR5cGVNYXBcclxuICApO1xyXG5cclxuICAvLyBTYWZlIHByb3BlcnR5IGluZm8gaGVscGVyIHdpdGggcnVudGltZSBndWFyZFxyXG4gIGZ1bmN0aW9uIGdldFByb3BlcnR5SW5mbyhwcm9wRGVmOiB1bmtub3duKSB7XHJcbiAgICAvLyBOYXJyb3cgdW5rbm93biAtPiBFZGdlVHlwZVByb3BlcnR5IHNhZmVseVxyXG4gICAgY29uc3QgcHJvcCA9IChwcm9wRGVmIGFzIFBhcnRpYWw8RWRnZVR5cGVQcm9wZXJ0eT4gfCB1bmRlZmluZWQpID8/IHt9O1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZmllbGRUeXBlOiAocHJvcC5maWVsZFR5cGUgYXMgc3RyaW5nKSB8fCBcInVua25vd25cIixcclxuICAgICAgcmVxdWlyZWQ6ICEhcHJvcC5yZXF1aXJlZCxcclxuICAgICAgZGVzY3JpcHRpb246IChwcm9wLmRlc2NyaXB0aW9uIGFzIHN0cmluZykgfHwgXCJcIixcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB0b2dnbGVBY2NvcmRpb24oZW50aXR5VHlwZTogc3RyaW5nKSB7XHJcbiAgICBpZiAoZXhwYW5kZWRBY2NvcmRpb25zLmhhcyhlbnRpdHlUeXBlKSkge1xyXG4gICAgICBleHBhbmRlZEFjY29yZGlvbnMuZGVsZXRlKGVudGl0eVR5cGUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZXhwYW5kZWRBY2NvcmRpb25zLmFkZChlbnRpdHlUeXBlKTtcclxuICAgIH1cclxuICAgIGV4cGFuZGVkQWNjb3JkaW9ucyA9IG5ldyBTZXQoZXhwYW5kZWRBY2NvcmRpb25zKTsgLy8gVHJpZ2dlciByZWFjdGl2aXR5XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBuYXZpZ2F0ZVRvRW50aXR5UHJvcGVydGllcyhlbnRpdHlUeXBlOiBzdHJpbmcpIHtcclxuICAgIGFjdGl2ZVRhYiA9IFwicHJvcGVydGllc1wiO1xyXG4gICAgZXhwYW5kZWRBY2NvcmRpb25zLmNsZWFyKCk7XHJcbiAgICBleHBhbmRlZEFjY29yZGlvbnMuYWRkKGVudGl0eVR5cGUpO1xyXG4gICAgZXhwYW5kZWRBY2NvcmRpb25zID0gbmV3IFNldChleHBhbmRlZEFjY29yZGlvbnMpO1xyXG5cclxuICAgIC8vIFNjcm9sbCB0byB0aGUgZW50aXR5IGFmdGVyIHRhYiBjaGFuZ2VcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGFjY29yZGlvbi0ke2VudGl0eVR5cGV9YCk7XHJcbiAgICAgIGlmIChlbGVtZW50KSB7XHJcbiAgICAgICAgZWxlbWVudC5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiBcInNtb290aFwiLCBibG9jazogXCJzdGFydFwiIH0pO1xyXG4gICAgICB9XHJcbiAgICB9LCAxMDApO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc3RhcnRFZGl0aW5nRW50aXR5RGVzY3JpcHRpb24oZW50aXR5VHlwZTogc3RyaW5nKSB7XHJcbiAgICBlZGl0aW5nRW50aXR5RGVzY3JpcHRpb24gPSBlbnRpdHlUeXBlO1xyXG4gICAgLy8gSW5pdGlhbGl6ZSB3aXRoIGN1cnJlbnQgZGVzY3JpcHRpb24sIGRlZmF1bHQgZGVzY3JpcHRpb24sIG9yIGZhbGxiYWNrXHJcbiAgICBpZiAoZW50aXR5RGVzY3JpcHRpb25zW2VudGl0eVR5cGVdPy5kZXNjcmlwdGlvbikge1xyXG4gICAgICB0ZW1wRW50aXR5RGVzY3JpcHRpb25zW2VudGl0eVR5cGVdID1cclxuICAgICAgICBlbnRpdHlEZXNjcmlwdGlvbnNbZW50aXR5VHlwZV0uZGVzY3JpcHRpb247XHJcbiAgICAgIGVudGl0eURlc2NyaXB0aW9uU291cmNlW2VudGl0eVR5cGVdID1cclxuICAgICAgICBlbnRpdHlEZXNjcmlwdGlvbnNbZW50aXR5VHlwZV0uc291cmNlIHx8IFwidXNlclwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgZGVmYXVsdERlc2NyaXB0aW9uID1cclxuICAgICAgICBzY2hlbWFTZXJ2aWNlLmdldERlZmF1bHRFbnRpdHlEZXNjcmlwdGlvbihlbnRpdHlUeXBlKTtcclxuICAgICAgdGVtcEVudGl0eURlc2NyaXB0aW9uc1tlbnRpdHlUeXBlXSA9XHJcbiAgICAgICAgZGVmYXVsdERlc2NyaXB0aW9uIHx8IGBDdXN0b20gJHtlbnRpdHlUeXBlfSBlbnRpdHkuYDtcclxuICAgICAgZW50aXR5RGVzY3JpcHRpb25Tb3VyY2VbZW50aXR5VHlwZV0gPSBcInVzZXJcIjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIHNhdmVFbnRpdHlEZXNjcmlwdGlvbihlbnRpdHlUeXBlOiBzdHJpbmcpIHtcclxuICAgIGlmICh0ZW1wRW50aXR5RGVzY3JpcHRpb25zW2VudGl0eVR5cGVdICYmIHBsdWdpbj8uc2V0dGluZ3MpIHtcclxuICAgICAgLy8gUHJlc2VydmUgc291cmNlIGZyb20gbGFzdCBhY3Rpb24gKGxsbS9kZWZhdWx0L3VzZXIpXHJcbiAgICAgIGNvbnN0IHNvdXJjZSA9IGVudGl0eURlc2NyaXB0aW9uU291cmNlW2VudGl0eVR5cGVdIHx8IFwidXNlclwiO1xyXG5cclxuICAgICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MuZW50aXR5RGVzY3JpcHRpb25zKSB7XHJcbiAgICAgICAgcGx1Z2luLnNldHRpbmdzLmVudGl0eURlc2NyaXB0aW9ucyA9IHt9O1xyXG4gICAgICB9XHJcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5lbnRpdHlEZXNjcmlwdGlvbnNbZW50aXR5VHlwZV0gPSB7XHJcbiAgICAgICAgY2xhc3NOYW1lOiBlbnRpdHlUeXBlLnJlcGxhY2UoL1xccysvZywgXCJcIikucmVwbGFjZSgvW15hLXpBLVowLTldL2csIFwiXCIpLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiB0ZW1wRW50aXR5RGVzY3JpcHRpb25zW2VudGl0eVR5cGVdLFxyXG4gICAgICAgIGlzVXNlckRlZmluZWQ6IHRydWUsXHJcbiAgICAgICAgc291cmNlOiBzb3VyY2UsXHJcbiAgICAgICAgbGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIH07XHJcbiAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgIH1cclxuICAgIGVkaXRpbmdFbnRpdHlEZXNjcmlwdGlvbiA9IG51bGw7XHJcbiAgICBkZWxldGUgZW50aXR5RGVzY3JpcHRpb25Tb3VyY2VbZW50aXR5VHlwZV07XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjYW5jZWxFZGl0aW5nRW50aXR5RGVzY3JpcHRpb24oKSB7XHJcbiAgICBlZGl0aW5nRW50aXR5RGVzY3JpcHRpb24gPSBudWxsO1xyXG4gICAgdGVtcEVudGl0eURlc2NyaXB0aW9ucyA9IHt9O1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ2V0RW50aXR5RGVzY3JpcHRpb24oZW50aXR5VHlwZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIC8vIEZpcnN0IGNoZWNrIGlmIHdlIGhhdmUgYSB1c2VyLWRlZmluZWQgZGVzY3JpcHRpb25cclxuICAgIGlmIChlbnRpdHlEZXNjcmlwdGlvbnNbZW50aXR5VHlwZV0/LmRlc2NyaXB0aW9uKSB7XHJcbiAgICAgIHJldHVybiBlbnRpdHlEZXNjcmlwdGlvbnNbZW50aXR5VHlwZV0uZGVzY3JpcHRpb247XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVGhlbiBjaGVjayBpZiB3ZSBoYXZlIGEgZGVmYXVsdCBkZXNjcmlwdGlvblxyXG4gICAgY29uc3QgZGVmYXVsdERlc2NyaXB0aW9uID1cclxuICAgICAgc2NoZW1hU2VydmljZS5nZXREZWZhdWx0RW50aXR5RGVzY3JpcHRpb24oZW50aXR5VHlwZSk7XHJcbiAgICBpZiAoZGVmYXVsdERlc2NyaXB0aW9uKSB7XHJcbiAgICAgIHJldHVybiBkZWZhdWx0RGVzY3JpcHRpb247XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRmluYWxseSBmYWxsIGJhY2sgdG8gY3VzdG9tIGVudGl0eSB0eXBlXHJcbiAgICByZXR1cm4gYEN1c3RvbSAke2VudGl0eVR5cGV9IGVudGl0eS5gO1xyXG4gIH1cclxuXHJcbiAgLy8gRGVmYXVsdCBkZXNjcmlwdGlvbiBmdW5jdGlvbnNcclxuICBmdW5jdGlvbiBoYXNEZWZhdWx0RW50aXR5RGVzY3JpcHRpb24oZW50aXR5VHlwZTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gc2NoZW1hU2VydmljZS5oYXNEZWZhdWx0RW50aXR5RGVzY3JpcHRpb24oZW50aXR5VHlwZSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBsb2FkRGVmYXVsdEVudGl0eURlc2NyaXB0aW9uKGVudGl0eVR5cGU6IHN0cmluZykge1xyXG4gICAgY29uc3QgZGVmYXVsdERlc2NyaXB0aW9uID1cclxuICAgICAgc2NoZW1hU2VydmljZS5nZXREZWZhdWx0RW50aXR5RGVzY3JpcHRpb24oZW50aXR5VHlwZSk7XHJcbiAgICBpZiAoZGVmYXVsdERlc2NyaXB0aW9uICYmIHBsdWdpbj8uc2V0dGluZ3MpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICB0ZW1wRW50aXR5RGVzY3JpcHRpb25zW2VudGl0eVR5cGVdID0gZGVmYXVsdERlc2NyaXB0aW9uO1xyXG4gICAgICAgIGVudGl0eURlc2NyaXB0aW9uU291cmNlW2VudGl0eVR5cGVdID0gXCJkZWZhdWx0XCI7XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSBlbnRpdHkgZGVzY3JpcHRpb24gaW4gcGx1Z2luIHNldHRpbmdzIHdpdGggc291cmNlIFwiZGVmYXVsdFwiXHJcbiAgICAgICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MuZW50aXR5RGVzY3JpcHRpb25zKSB7XHJcbiAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MuZW50aXR5RGVzY3JpcHRpb25zID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBsdWdpbi5zZXR0aW5ncy5lbnRpdHlEZXNjcmlwdGlvbnNbZW50aXR5VHlwZV0gPSB7XHJcbiAgICAgICAgICBjbGFzc05hbWU6IGVudGl0eVR5cGVcclxuICAgICAgICAgICAgLnJlcGxhY2UoL1xccysvZywgXCJcIilcclxuICAgICAgICAgICAgLnJlcGxhY2UoL1teYS16QS1aMC05XS9nLCBcIlwiKSxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZWZhdWx0RGVzY3JpcHRpb24sXHJcbiAgICAgICAgICBpc1VzZXJEZWZpbmVkOiB0cnVlLFxyXG4gICAgICAgICAgc291cmNlOiBcImRlZmF1bHRcIixcclxuICAgICAgICAgIGxhc3RNb2RpZmllZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHJcbiAgICAgICAgLy8gRm9yY2UgU3ZlbHRlIHJlYWN0aXZpdHlcclxuICAgICAgICBjb25zdCBwbHVnaW5SZWYgPSBwbHVnaW47XHJcbiAgICAgICAgcGx1Z2luID0gbnVsbDtcclxuICAgICAgICBwbHVnaW4gPSBwbHVnaW5SZWY7XHJcbiAgICAgICAgcGx1Z2luU2V0dGluZ3MgPSB7IC4uLnBsdWdpbi5zZXR0aW5ncyB9O1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gdXBkYXRlIGVudGl0eSBkZXNjcmlwdGlvbjpcIiwgZXJyb3IpO1xyXG4gICAgICAgIC8vIFN0aWxsIHVwZGF0ZSB0aGUgVUkgZXZlbiBpZiBzYXZlIGZhaWxzXHJcbiAgICAgICAgdGVtcEVudGl0eURlc2NyaXB0aW9uc1tlbnRpdHlUeXBlXSA9IGRlZmF1bHREZXNjcmlwdGlvbjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaGFzRGVmYXVsdFByb3BlcnR5RGVzY3JpcHRpb24ocHJvcGVydHlOYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIHJldHVybiBzY2hlbWFTZXJ2aWNlLmhhc0RlZmF1bHRQcm9wZXJ0eURlc2NyaXB0aW9uKHByb3BlcnR5TmFtZSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBsb2FkRGVmYXVsdFByb3BlcnR5RGVzY3JpcHRpb24oXHJcbiAgICBlbnRpdHlUeXBlOiBzdHJpbmcsXHJcbiAgICBwcm9wZXJ0eU5hbWU6IHN0cmluZ1xyXG4gICkge1xyXG4gICAgY29uc3QgZGVmYXVsdERlc2NyaXB0aW9uID1cclxuICAgICAgc2NoZW1hU2VydmljZS5nZXREZWZhdWx0UHJvcGVydHlEZXNjcmlwdGlvbihwcm9wZXJ0eU5hbWUpO1xyXG4gICAgaWYgKGRlZmF1bHREZXNjcmlwdGlvbiAmJiBwbHVnaW4/LnNldHRpbmdzKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgLy8gRmluZCB0aGUgc2NoZW1hIGFuZCBwcm9wZXJ0eSB0byB1cGRhdGVcclxuICAgICAgICBjb25zdCBzY2hlbWEgPSBzY2hlbWFzLmZpbmQoKHMpID0+IHMudHlwZU5hbWUgPT09IGVudGl0eVR5cGUpO1xyXG4gICAgICAgIGlmIChzY2hlbWEpIHtcclxuICAgICAgICAgIGNvbnN0IHByb3BJbmRleCA9IHNjaGVtYS5wcm9wZXJ0aWVzLmZpbmRJbmRleChcclxuICAgICAgICAgICAgKHApID0+IHAubmFtZSA9PT0gcHJvcGVydHlOYW1lXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgaWYgKHByb3BJbmRleCAhPT0gLTEpIHtcclxuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBVSSBpbW1lZGlhdGVseVxyXG4gICAgICAgICAgICB1cGRhdGVQcm9wZXJ0eShcclxuICAgICAgICAgICAgICBzY2hlbWFzLmluZGV4T2Yoc2NoZW1hKSxcclxuICAgICAgICAgICAgICBwcm9wSW5kZXgsXHJcbiAgICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiLFxyXG4gICAgICAgICAgICAgIGRlZmF1bHREZXNjcmlwdGlvblxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgLy8gVXBkYXRlIHByb3BlcnR5IGRlc2NyaXB0aW9uIGluIHBsdWdpbiBzZXR0aW5ncyB3aXRoIHNvdXJjZSBcImRlZmF1bHRcIlxyXG4gICAgICAgICAgICBpZiAoIXBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9ucykge1xyXG4gICAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9ucyA9IHt9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zW2VudGl0eVR5cGVdKSB7XHJcbiAgICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zW2VudGl0eVR5cGVdID0ge307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zW2VudGl0eVR5cGVdW3Byb3BlcnR5TmFtZV0gPSB7XHJcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlZmF1bHREZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICBmaWVsZFR5cGU6IFwic3RyXCIsXHJcbiAgICAgICAgICAgICAgaXNVc2VyRGVmaW5lZDogdHJ1ZSxcclxuICAgICAgICAgICAgICBzb3VyY2U6IFwiZGVmYXVsdFwiLFxyXG4gICAgICAgICAgICAgIGxhc3RNb2RpZmllZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cclxuICAgICAgICAgICAgLy8gRm9yY2UgU3ZlbHRlIHJlYWN0aXZpdHlcclxuICAgICAgICAgICAgY29uc3QgcGx1Z2luUmVmID0gcGx1Z2luO1xyXG4gICAgICAgICAgICBwbHVnaW4gPSBudWxsO1xyXG4gICAgICAgICAgICBwbHVnaW4gPSBwbHVnaW5SZWY7XHJcbiAgICAgICAgICAgIHBsdWdpblNldHRpbmdzID0geyAuLi5wbHVnaW4uc2V0dGluZ3MgfTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byB1cGRhdGUgcHJvcGVydHkgZGVzY3JpcHRpb246XCIsIGVycm9yKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gRWRnZSBUeXBlcyBtYW5hZ2VtZW50IGZ1bmN0aW9uc1xyXG4gIGFzeW5jIGZ1bmN0aW9uIHNhdmVOZXdFZGdlVHlwZSgpIHtcclxuICAgIGlmICghbmV3RWRnZVR5cGVOYW1lLnRyaW0oKSB8fCAhcGx1Z2luPy5zZXR0aW5ncykgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGRlc2NyaXB0aW9uID1cclxuICAgICAgbmV3RWRnZVR5cGVEZXNjcmlwdGlvbiB8fCBgJHtuZXdFZGdlVHlwZU5hbWV9IHJlbGF0aW9uc2hpcCB0eXBlYDtcclxuXHJcbiAgICAvLyBJbml0aWFsaXplIGVkZ2VUeXBlcyBpZiBub3QgZXhpc3RzXHJcbiAgICBpZiAoIXBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZXMpIHtcclxuICAgICAgcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlcyA9IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIHBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZXNbbmV3RWRnZVR5cGVOYW1lXSA9IHtcclxuICAgICAgY2xhc3NOYW1lOiBuZXdFZGdlVHlwZU5hbWUsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcclxuICAgICAgcHJvcGVydGllczoge30sXHJcbiAgICAgIGlzVXNlckRlZmluZWQ6IHRydWUsXHJcbiAgICAgIHNvdXJjZTogXCJ1c2VyXCIsXHJcbiAgICAgIGxhc3RNb2RpZmllZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBTYXZlIGltbWVkaWF0ZWx5XHJcbiAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblxyXG4gICAgLy8gUmVzZXQgZm9ybVxyXG4gICAgbmV3RWRnZVR5cGVOYW1lID0gXCJcIjtcclxuICAgIG5ld0VkZ2VUeXBlRGVzY3JpcHRpb24gPSBcIlwiO1xyXG4gICAgc2hvd0FkZEVkZ2VGb3JtID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjYW5jZWxBZGRFZGdlVHlwZSgpIHtcclxuICAgIG5ld0VkZ2VUeXBlTmFtZSA9IFwiXCI7XHJcbiAgICBuZXdFZGdlVHlwZURlc2NyaXB0aW9uID0gXCJcIjtcclxuICAgIHNob3dBZGRFZGdlRm9ybSA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc3RhcnRFZGl0RWRnZVR5cGUoZWRnZVR5cGVOYW1lOiBzdHJpbmcpIHtcclxuICAgIGVkaXRpbmdFZGdlVHlwZSA9IGVkZ2VUeXBlTmFtZTtcclxuICAgIHRlbXBFZGdlVHlwZU5hbWUgPSBlZGdlVHlwZU5hbWU7XHJcbiAgICB0ZW1wRWRnZVR5cGVEZXNjcmlwdGlvbiA9IGVkZ2VUeXBlc1tlZGdlVHlwZU5hbWVdPy5kZXNjcmlwdGlvbiB8fCBcIlwiO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gc2F2ZUVkZ2VUeXBlRWRpdCgpIHtcclxuICAgIGlmICghdGVtcEVkZ2VUeXBlTmFtZS50cmltKCkgfHwgIWVkaXRpbmdFZGdlVHlwZSB8fCAhcGx1Z2luPy5zZXR0aW5ncylcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGVkZ2VUeXBlRGF0YSA9IHBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZXM/LltlZGl0aW5nRWRnZVR5cGVdO1xyXG4gICAgaWYgKGVkZ2VUeXBlRGF0YSkge1xyXG4gICAgICAvLyBJbml0aWFsaXplIGVkZ2VUeXBlcyBpZiBub3QgZXhpc3RzXHJcbiAgICAgIGlmICghcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlcykge1xyXG4gICAgICAgIHBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZXMgPSB7fTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWYgbmFtZSBjaGFuZ2VkLCBtb3ZlIHRvIG5ldyBrZXlcclxuICAgICAgaWYgKHRlbXBFZGdlVHlwZU5hbWUgIT09IGVkaXRpbmdFZGdlVHlwZSkge1xyXG4gICAgICAgIGRlbGV0ZSBwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVzW2VkaXRpbmdFZGdlVHlwZV07XHJcbiAgICAgICAgcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlc1t0ZW1wRWRnZVR5cGVOYW1lXSA9IHtcclxuICAgICAgICAgIC4uLmVkZ2VUeXBlRGF0YSxcclxuICAgICAgICAgIGNsYXNzTmFtZTogdGVtcEVkZ2VUeXBlTmFtZSxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiB0ZW1wRWRnZVR5cGVEZXNjcmlwdGlvbixcclxuICAgICAgICAgIGxhc3RNb2RpZmllZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgIH07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gSnVzdCB1cGRhdGUgZGVzY3JpcHRpb25cclxuICAgICAgICBwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVzW2VkaXRpbmdFZGdlVHlwZV0gPSB7XHJcbiAgICAgICAgICAuLi5lZGdlVHlwZURhdGEsXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogdGVtcEVkZ2VUeXBlRGVzY3JpcHRpb24sXHJcbiAgICAgICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2F2ZSBpbW1lZGlhdGVseVxyXG4gICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgY2FuY2VsRWRnZVR5cGVFZGl0KCk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjYW5jZWxFZGdlVHlwZUVkaXQoKSB7XHJcbiAgICBlZGl0aW5nRWRnZVR5cGUgPSBudWxsO1xyXG4gICAgdGVtcEVkZ2VUeXBlTmFtZSA9IFwiXCI7XHJcbiAgICB0ZW1wRWRnZVR5cGVEZXNjcmlwdGlvbiA9IFwiXCI7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBkZWxldGVFZGdlVHlwZShlZGdlVHlwZU5hbWU6IHN0cmluZykge1xyXG4gICAgaWYgKCFwbHVnaW4/LnNldHRpbmdzPy5lZGdlVHlwZXMpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCB1cGRhdGVkRWRnZVR5cGVzID0geyAuLi5wbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVzIH07XHJcbiAgICBkZWxldGUgdXBkYXRlZEVkZ2VUeXBlc1tlZGdlVHlwZU5hbWVdO1xyXG4gICAgcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlcyA9IHVwZGF0ZWRFZGdlVHlwZXM7XHJcbiAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblxyXG4gICAgLy8gRm9yY2UgU3ZlbHRlIHJlYWN0aXZpdHlcclxuICAgIGNvbnN0IHBsdWdpblJlZiA9IHBsdWdpbjtcclxuICAgIHBsdWdpbiA9IG51bGw7XHJcbiAgICBwbHVnaW4gPSBwbHVnaW5SZWY7XHJcbiAgICBwbHVnaW5TZXR0aW5ncyA9IHsgLi4ucGx1Z2luLnNldHRpbmdzIH07XHJcblxyXG4gICAgbmV3IE5vdGljZShgRGVsZXRlZCBlZGdlIHR5cGU6ICR7ZWRnZVR5cGVOYW1lfWApO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ2V0RWRnZVR5cGVEZXNjcmlwdGlvbihlZGdlVHlwZU5hbWU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gZWRnZVR5cGVzW2VkZ2VUeXBlTmFtZV0/LmRlc2NyaXB0aW9uIHx8IFwiXCI7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBxdWlja0FkZEVkZ2VUeXBlKGVkZ2VUeXBlTmFtZTogc3RyaW5nKSB7XHJcbiAgICBpZiAoIXBsdWdpbj8uc2V0dGluZ3MpIHJldHVybjtcclxuXHJcbiAgICAvLyBJbml0aWFsaXplIGVkZ2VUeXBlcyBpZiBub3QgZXhpc3RzXHJcbiAgICBpZiAoIXBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZXMpIHtcclxuICAgICAgcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlcyA9IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVzW2VkZ2VUeXBlTmFtZV0pIHJldHVybjsgLy8gQWxyZWFkeSBleGlzdHNcclxuXHJcbiAgICAvLyBHZXQgZGVmYXVsdCBkZXNjcmlwdGlvbiBhbmQgcHJvcGVydGllc1xyXG4gICAgY29uc3QgYXZhaWxhYmxlRGVmYXVsdHMgPSBzY2hlbWFTZXJ2aWNlLmdldEF2YWlsYWJsZURlZmF1bHRFZGdlVHlwZXMoKTtcclxuICAgIGNvbnN0IGRlZmF1bHRQcm9wZXJ0aWVzID0gc2NoZW1hU2VydmljZS5nZXREZWZhdWx0RWRnZVR5cGVQcm9wZXJ0aWVzKCk7XHJcblxyXG4gICAgY29uc3QgZGVzY3JpcHRpb24gPVxyXG4gICAgICBhdmFpbGFibGVEZWZhdWx0c1tlZGdlVHlwZU5hbWVdIHx8IGAke2VkZ2VUeXBlTmFtZX0gcmVsYXRpb25zaGlwIHR5cGVgO1xyXG4gICAgY29uc3QgcHJvcGVydGllcyA9IGRlZmF1bHRQcm9wZXJ0aWVzW2VkZ2VUeXBlTmFtZV0gfHwge307XHJcblxyXG4gICAgcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlc1tlZGdlVHlwZU5hbWVdID0ge1xyXG4gICAgICBjbGFzc05hbWU6IGVkZ2VUeXBlTmFtZSxcclxuICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxyXG4gICAgICBwcm9wZXJ0aWVzOiBwcm9wZXJ0aWVzLFxyXG4gICAgICBpc1VzZXJEZWZpbmVkOiB0cnVlLFxyXG4gICAgICBzb3VyY2U6IFwidXNlclwiLFxyXG4gICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgIH07XHJcblxyXG4gICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gIH1cclxuXHJcbiAgLy8gRWRnZSBQcm9wZXJ0eSBNYW5hZ2VtZW50IEZ1bmN0aW9uc1xyXG4gIGFzeW5jIGZ1bmN0aW9uIGFkZFByb3BlcnR5VG9FZGdlVHlwZShlZGdlVHlwZU5hbWU6IHN0cmluZykge1xyXG4gICAgaWYgKCFuZXdQcm9wZXJ0eU5hbWUudHJpbSgpIHx8ICFwbHVnaW4/LnNldHRpbmdzPy5lZGdlVHlwZXM/LltlZGdlVHlwZU5hbWVdKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlc1tlZGdlVHlwZU5hbWVdLnByb3BlcnRpZXNbbmV3UHJvcGVydHlOYW1lXSA9IHtcclxuICAgICAgZGVzY3JpcHRpb246IG5ld1Byb3BlcnR5RGVzY3JpcHRpb24gfHwgYCR7bmV3UHJvcGVydHlOYW1lfSBwcm9wZXJ0eWAsXHJcbiAgICAgIGZpZWxkVHlwZTogbmV3UHJvcGVydHlUeXBlLFxyXG4gICAgICByZXF1aXJlZDogbmV3UHJvcGVydHlSZXF1aXJlZCxcclxuICAgIH07XHJcblxyXG4gICAgLy8gU2F2ZSBpbW1lZGlhdGVseVxyXG4gICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cclxuICAgIC8vIFJlc2V0IGZvcm1cclxuICAgIG5ld1Byb3BlcnR5TmFtZSA9IFwiXCI7XHJcbiAgICBuZXdQcm9wZXJ0eURlc2NyaXB0aW9uID0gXCJcIjtcclxuICAgIG5ld1Byb3BlcnR5VHlwZSA9IFwic3RyXCI7XHJcbiAgICBuZXdQcm9wZXJ0eVJlcXVpcmVkID0gZmFsc2U7XHJcbiAgICBhZGRpbmdQcm9wZXJ0eVRvRWRnZSA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiByZW1vdmVQcm9wZXJ0eUZyb21FZGdlVHlwZShcclxuICAgIGVkZ2VUeXBlTmFtZTogc3RyaW5nLFxyXG4gICAgcHJvcGVydHlOYW1lOiBzdHJpbmdcclxuICApIHtcclxuICAgIGlmIChwbHVnaW4/LnNldHRpbmdzPy5lZGdlVHlwZXM/LltlZGdlVHlwZU5hbWVdPy5wcm9wZXJ0aWVzKSB7XHJcbiAgICAgIGRlbGV0ZSBwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVzW2VkZ2VUeXBlTmFtZV0ucHJvcGVydGllc1twcm9wZXJ0eU5hbWVdO1xyXG4gICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiB1cGRhdGVQcm9wZXJ0eURlc2NyaXB0aW9uKFxyXG4gICAgZWRnZVR5cGVOYW1lOiBzdHJpbmcsXHJcbiAgICBwcm9wZXJ0eU5hbWU6IHN0cmluZyxcclxuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmdcclxuICApIHtcclxuICAgIGlmIChcclxuICAgICAgcGx1Z2luPy5zZXR0aW5ncz8uZWRnZVR5cGVzPy5bZWRnZVR5cGVOYW1lXT8ucHJvcGVydGllcz8uW3Byb3BlcnR5TmFtZV1cclxuICAgICkge1xyXG4gICAgICBwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVzW2VkZ2VUeXBlTmFtZV0ucHJvcGVydGllc1tcclxuICAgICAgICBwcm9wZXJ0eU5hbWVcclxuICAgICAgXS5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xyXG4gICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVFZGdlUHJvcGVydHlEZXNjcmlwdGlvbklucHV0KFxyXG4gICAgZWRnZVR5cGVOYW1lOiBzdHJpbmcsXHJcbiAgICBwcm9wZXJ0eU5hbWU6IHN0cmluZyxcclxuICAgIGV2ZW50OiBFdmVudFxyXG4gICkge1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICBhd2FpdCB1cGRhdGVQcm9wZXJ0eURlc2NyaXB0aW9uKGVkZ2VUeXBlTmFtZSwgcHJvcGVydHlOYW1lLCB0YXJnZXQudmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlRWRnZVR5cGVEZXNjcmlwdGlvbklucHV0KFxyXG4gICAgZWRnZVR5cGVOYW1lOiBzdHJpbmcsXHJcbiAgICBldmVudDogRXZlbnRcclxuICApIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MVGV4dEFyZWFFbGVtZW50O1xyXG4gICAgY29uc3QgbmV3RGVzY3JpcHRpb24gPSB0YXJnZXQudmFsdWU7XHJcblxyXG4gICAgaWYgKHBsdWdpbj8uc2V0dGluZ3M/LmVkZ2VUeXBlcz8uW2VkZ2VUeXBlTmFtZV0pIHtcclxuICAgICAgcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlc1tlZGdlVHlwZU5hbWVdID0ge1xyXG4gICAgICAgIC4uLnBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZXNbZWRnZVR5cGVOYW1lXSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogbmV3RGVzY3JpcHRpb24sXHJcbiAgICAgICAgbGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIH07XHJcbiAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEVkZ2UgTWFwcGluZ3MgbWFuYWdlbWVudCBmdW5jdGlvbnNcclxuICBhc3luYyBmdW5jdGlvbiBzYXZlTmV3TWFwcGluZygpIHtcclxuICAgIGlmIChcclxuICAgICAgIW5ld01hcHBpbmdTb3VyY2VFbnRpdHkgfHxcclxuICAgICAgIW5ld01hcHBpbmdUYXJnZXRFbnRpdHkgfHxcclxuICAgICAgbmV3TWFwcGluZ0FsbG93ZWRFZGdlcy5sZW5ndGggPT09IDAgfHxcclxuICAgICAgIXBsdWdpbj8uc2V0dGluZ3NcclxuICAgIClcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IG5ld01hcHBpbmcgPSB7XHJcbiAgICAgIHNvdXJjZUVudGl0eTogbmV3TWFwcGluZ1NvdXJjZUVudGl0eSxcclxuICAgICAgdGFyZ2V0RW50aXR5OiBuZXdNYXBwaW5nVGFyZ2V0RW50aXR5LFxyXG4gICAgICBhbGxvd2VkRWRnZXM6IFsuLi5uZXdNYXBwaW5nQWxsb3dlZEVkZ2VzXSxcclxuICAgICAgaXNVc2VyRGVmaW5lZDogdHJ1ZSxcclxuICAgICAgc291cmNlOiBcInVzZXJcIiBhcyBjb25zdCxcclxuICAgICAgbGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEluaXRpYWxpemUgZWRnZVR5cGVNYXAgaWYgbm90IGV4aXN0c1xyXG4gICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVNYXApIHtcclxuICAgICAgcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlTWFwID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlTWFwID0gWy4uLnBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZU1hcCwgbmV3TWFwcGluZ107XHJcblxyXG4gICAgLy8gU2F2ZSBpbW1lZGlhdGVseVxyXG4gICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cclxuICAgIC8vIFJlc2V0IGZvcm1cclxuICAgIG5ld01hcHBpbmdTb3VyY2VFbnRpdHkgPSBcIlwiO1xyXG4gICAgbmV3TWFwcGluZ1RhcmdldEVudGl0eSA9IFwiXCI7XHJcbiAgICBuZXdNYXBwaW5nQWxsb3dlZEVkZ2VzID0gW107XHJcbiAgICBzaG93QWRkTWFwcGluZ0Zvcm0gPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNhbmNlbEFkZE1hcHBpbmcoKSB7XHJcbiAgICBuZXdNYXBwaW5nU291cmNlRW50aXR5ID0gXCJcIjtcclxuICAgIG5ld01hcHBpbmdUYXJnZXRFbnRpdHkgPSBcIlwiO1xyXG4gICAgbmV3TWFwcGluZ0FsbG93ZWRFZGdlcyA9IFtdO1xyXG4gICAgc2hvd0FkZE1hcHBpbmdGb3JtID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiByZW1vdmVNYXBwaW5nKGluZGV4OiBudW1iZXIpIHtcclxuICAgIGlmICghcGx1Z2luPy5zZXR0aW5ncykgcmV0dXJuO1xyXG4gICAgcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlTWFwID0gcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlTWFwLmZpbHRlcihcclxuICAgICAgKF86IEVkZ2VUeXBlTWFwcGluZywgaTogbnVtYmVyKSA9PiBpICE9PSBpbmRleFxyXG4gICAgKTtcclxuICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHRvZ2dsZUVkZ2VUeXBlKGVkZ2VUeXBlTmFtZTogc3RyaW5nKSB7XHJcbiAgICBpZiAobmV3TWFwcGluZ0FsbG93ZWRFZGdlcy5pbmNsdWRlcyhlZGdlVHlwZU5hbWUpKSB7XHJcbiAgICAgIG5ld01hcHBpbmdBbGxvd2VkRWRnZXMgPSBuZXdNYXBwaW5nQWxsb3dlZEVkZ2VzLmZpbHRlcihcclxuICAgICAgICAoZSkgPT4gZSAhPT0gZWRnZVR5cGVOYW1lXHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBuZXdNYXBwaW5nQWxsb3dlZEVkZ2VzID0gWy4uLm5ld01hcHBpbmdBbGxvd2VkRWRnZXMsIGVkZ2VUeXBlTmFtZV07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBxdWlja0FkZE1hcHBpbmcoXHJcbiAgICBzb3VyY2VFbnRpdHk6IHN0cmluZyxcclxuICAgIHRhcmdldEVudGl0eTogc3RyaW5nLFxyXG4gICAgYWxsb3dlZEVkZ2VzOiBzdHJpbmdbXVxyXG4gICkge1xyXG4gICAgaWYgKCFwbHVnaW4/LnNldHRpbmdzKSByZXR1cm47XHJcblxyXG4gICAgLy8gSW5pdGlhbGl6ZSBlZGdlVHlwZU1hcCBpZiBub3QgZXhpc3RzXHJcbiAgICBpZiAoIXBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZU1hcCkge1xyXG4gICAgICBwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVNYXAgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayBpZiBtYXBwaW5nIGFscmVhZHkgZXhpc3RzXHJcbiAgICBjb25zdCBleGlzdHMgPSBwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVNYXAuc29tZShcclxuICAgICAgKG06IEVkZ2VUeXBlTWFwcGluZykgPT5cclxuICAgICAgICBtLnNvdXJjZUVudGl0eSA9PT0gc291cmNlRW50aXR5ICYmIG0udGFyZ2V0RW50aXR5ID09PSB0YXJnZXRFbnRpdHlcclxuICAgICk7XHJcbiAgICBpZiAoZXhpc3RzKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgbmV3TWFwcGluZyA9IHtcclxuICAgICAgc291cmNlRW50aXR5LFxyXG4gICAgICB0YXJnZXRFbnRpdHksXHJcbiAgICAgIGFsbG93ZWRFZGdlczogWy4uLmFsbG93ZWRFZGdlc10sXHJcbiAgICAgIGlzVXNlckRlZmluZWQ6IHRydWUsXHJcbiAgICAgIHNvdXJjZTogXCJ1c2VyXCIgYXMgY29uc3QsXHJcbiAgICAgIGxhc3RNb2RpZmllZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgfTtcclxuXHJcbiAgICBwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVNYXAgPSBbLi4ucGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlTWFwLCBuZXdNYXBwaW5nXTtcclxuICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICB9XHJcblxyXG4gIC8vIEBAdmVzc2VsLXByb3RvY29sOlR5ciBnb3Zlcm5zOmZlYXR1cmUgY29udGV4dDpBZGQgYWxsIHVudXNlZCBkZWZhdWx0IGVkZ2UgdHlwZXMgYXQgb25jZVxyXG4gIGFzeW5jIGZ1bmN0aW9uIGFkZEFsbFVudXNlZEVkZ2VUeXBlcygpIHtcclxuICAgIGlmICghcGx1Z2luPy5zZXR0aW5ncyB8fCBPYmplY3Qua2V5cyh1bnVzZWRFZGdlVHlwZXMpLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIEFkZCBlYWNoIHVudXNlZCBlZGdlIHR5cGUgdXNpbmcgdGhlIGV4aXN0aW5nIHF1aWNrQWRkRWRnZVR5cGUgZnVuY3Rpb25cclxuICAgICAgZm9yIChjb25zdCBlZGdlVHlwZU5hbWUgb2YgT2JqZWN0LmtleXModW51c2VkRWRnZVR5cGVzKSkge1xyXG4gICAgICAgIGF3YWl0IHF1aWNrQWRkRWRnZVR5cGUoZWRnZVR5cGVOYW1lKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRm9yY2UgU3ZlbHRlIHJlYWN0aXZpdHkgYnkgcmVhc3NpZ25pbmcgcGx1Z2luIHJlZmVyZW5jZSAtIHNhbWUgYXMgYXV0by1yZWZyZXNoIHBhdHRlcm5cclxuICAgICAgY29uc3QgcGx1Z2luUmVmID0gcGx1Z2luO1xyXG4gICAgICBwbHVnaW4gPSBudWxsO1xyXG4gICAgICBwbHVnaW4gPSBwbHVnaW5SZWY7XHJcblxyXG4gICAgICAvLyBVcGRhdGUgcmVhY3RpdmUgdmFyaWFibGUgdG8gZW5zdXJlIFVJIHVwZGF0ZXNcclxuICAgICAgcGx1Z2luU2V0dGluZ3MgPSB7IC4uLnBsdWdpbi5zZXR0aW5ncyB9O1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBhZGQgYWxsIHVudXNlZCBlZGdlIHR5cGVzOlwiLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBAQHZlc3NlbC1wcm90b2NvbDpUeXIgZ292ZXJuczpmZWF0dXJlIGNvbnRleHQ6QWRkIGFsbCBzdWdnZXN0ZWQgZWRnZSBtYXBwaW5ncyBhdCBvbmNlXHJcbiAgYXN5bmMgZnVuY3Rpb24gYWRkQWxsU3VnZ2VzdGVkTWFwcGluZ3MoKSB7XHJcbiAgICBpZiAoIXBsdWdpbj8uc2V0dGluZ3MgfHwgc3VnZ2VzdGVkTWFwcGluZ3MubGVuZ3RoID09PSAwKSByZXR1cm47XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gQWRkIGVhY2ggc3VnZ2VzdGVkIG1hcHBpbmcgdXNpbmcgdGhlIGV4aXN0aW5nIHF1aWNrQWRkTWFwcGluZyBmdW5jdGlvblxyXG4gICAgICBmb3IgKGNvbnN0IHN1Z2dlc3Rpb24gb2Ygc3VnZ2VzdGVkTWFwcGluZ3MpIHtcclxuICAgICAgICBhd2FpdCBxdWlja0FkZE1hcHBpbmcoXHJcbiAgICAgICAgICBzdWdnZXN0aW9uLnNvdXJjZUVudGl0eSxcclxuICAgICAgICAgIHN1Z2dlc3Rpb24udGFyZ2V0RW50aXR5LFxyXG4gICAgICAgICAgc3VnZ2VzdGlvbi5hbGxvd2VkRWRnZXNcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBGb3JjZSBTdmVsdGUgcmVhY3Rpdml0eSBieSByZWFzc2lnbmluZyBwbHVnaW4gcmVmZXJlbmNlIC0gc2FtZSBhcyBhdXRvLXJlZnJlc2ggcGF0dGVyblxyXG4gICAgICBjb25zdCBwbHVnaW5SZWYgPSBwbHVnaW47XHJcbiAgICAgIHBsdWdpbiA9IG51bGw7XHJcbiAgICAgIHBsdWdpbiA9IHBsdWdpblJlZjtcclxuXHJcbiAgICAgIC8vIFVwZGF0ZSByZWFjdGl2ZSB2YXJpYWJsZSB0byBlbnN1cmUgVUkgdXBkYXRlc1xyXG4gICAgICBwbHVnaW5TZXR0aW5ncyA9IHsgLi4ucGx1Z2luLnNldHRpbmdzIH07XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGFkZCBhbGwgc3VnZ2VzdGVkIG1hcHBpbmdzOlwiLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBzdGFydEVkaXRNYXBwaW5nKGluZGV4OiBudW1iZXIpIHtcclxuICAgIGlmICghcGx1Z2luPy5zZXR0aW5ncz8uZWRnZVR5cGVNYXApIHJldHVybjtcclxuICAgIGVkaXRpbmdNYXBwaW5nSW5kZXggPSBpbmRleDtcclxuICAgIGNvbnN0IG1hcHBpbmcgPSBwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVNYXBbaW5kZXhdO1xyXG4gICAgdGVtcEVkaXRNYXBwaW5nU291cmNlRW50aXR5ID0gbWFwcGluZy5zb3VyY2VFbnRpdHk7XHJcbiAgICB0ZW1wRWRpdE1hcHBpbmdUYXJnZXRFbnRpdHkgPSBtYXBwaW5nLnRhcmdldEVudGl0eTtcclxuICAgIHRlbXBFZGl0TWFwcGluZ0FsbG93ZWRFZGdlcyA9IFsuLi5tYXBwaW5nLmFsbG93ZWRFZGdlc107XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBzYXZlRWRpdE1hcHBpbmcoKSB7XHJcbiAgICBpZiAoXHJcbiAgICAgIGVkaXRpbmdNYXBwaW5nSW5kZXggPT09IG51bGwgfHxcclxuICAgICAgIXRlbXBFZGl0TWFwcGluZ1NvdXJjZUVudGl0eSB8fFxyXG4gICAgICAhdGVtcEVkaXRNYXBwaW5nVGFyZ2V0RW50aXR5IHx8XHJcbiAgICAgIHRlbXBFZGl0TWFwcGluZ0FsbG93ZWRFZGdlcy5sZW5ndGggPT09IDAgfHxcclxuICAgICAgIXBsdWdpbj8uc2V0dGluZ3M/LmVkZ2VUeXBlTWFwXHJcbiAgICApXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICBwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVNYXBbZWRpdGluZ01hcHBpbmdJbmRleF0gPSB7XHJcbiAgICAgIC4uLnBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZU1hcFtlZGl0aW5nTWFwcGluZ0luZGV4XSxcclxuICAgICAgc291cmNlRW50aXR5OiB0ZW1wRWRpdE1hcHBpbmdTb3VyY2VFbnRpdHksXHJcbiAgICAgIHRhcmdldEVudGl0eTogdGVtcEVkaXRNYXBwaW5nVGFyZ2V0RW50aXR5LFxyXG4gICAgICBhbGxvd2VkRWRnZXM6IFsuLi50ZW1wRWRpdE1hcHBpbmdBbGxvd2VkRWRnZXNdLFxyXG4gICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgIH07XHJcblxyXG4gICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgY2FuY2VsRWRpdE1hcHBpbmcoKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNhbmNlbEVkaXRNYXBwaW5nKCkge1xyXG4gICAgZWRpdGluZ01hcHBpbmdJbmRleCA9IG51bGw7XHJcbiAgICB0ZW1wRWRpdE1hcHBpbmdTb3VyY2VFbnRpdHkgPSBcIlwiO1xyXG4gICAgdGVtcEVkaXRNYXBwaW5nVGFyZ2V0RW50aXR5ID0gXCJcIjtcclxuICAgIHRlbXBFZGl0TWFwcGluZ0FsbG93ZWRFZGdlcyA9IFtdO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gdG9nZ2xlRWRpdEVkZ2VUeXBlKGVkZ2VUeXBlTmFtZTogc3RyaW5nKSB7XHJcbiAgICBpZiAodGVtcEVkaXRNYXBwaW5nQWxsb3dlZEVkZ2VzLmluY2x1ZGVzKGVkZ2VUeXBlTmFtZSkpIHtcclxuICAgICAgdGVtcEVkaXRNYXBwaW5nQWxsb3dlZEVkZ2VzID0gdGVtcEVkaXRNYXBwaW5nQWxsb3dlZEVkZ2VzLmZpbHRlcihcclxuICAgICAgICAoZSkgPT4gZSAhPT0gZWRnZVR5cGVOYW1lXHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0ZW1wRWRpdE1hcHBpbmdBbGxvd2VkRWRnZXMgPSBbXHJcbiAgICAgICAgLi4udGVtcEVkaXRNYXBwaW5nQWxsb3dlZEVkZ2VzLFxyXG4gICAgICAgIGVkZ2VUeXBlTmFtZSxcclxuICAgICAgXTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEBwdXJwb3NlOiBHZW5lcmF0ZSBlZGdlIHR5cGUgc3VnZ2VzdGlvbnMgdXNpbmcgU2ltcGxlTExNU2VydmljZVxyXG4gIC8vIEBkZXBlbmRzOiBsbG1TZXJ2aWNlXHJcbiAgLy8gQHJlc3VsdHM6IFVwZGF0ZXMgZWRnZVR5cGVTdWdnZXN0aW9ucyBzdGF0ZSB3aXRoIExMTS1nZW5lcmF0ZWQgc3VnZ2VzdGlvbnNcclxuICBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUVkZ2VUeXBlU3VnZ2VzdGlvbnMoXHJcbiAgICBzb3VyY2VFbnRpdHk/OiBzdHJpbmcsXHJcbiAgICB0YXJnZXRFbnRpdHk/OiBzdHJpbmdcclxuICApIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGlmICghc291cmNlRW50aXR5IHx8ICF0YXJnZXRFbnRpdHkpIHtcclxuICAgICAgICBlZGdlVHlwZVN1Z2dlc3Rpb25zID0gYXdhaXQgbGxtU2VydmljZS5zdWdnZXN0RWRnZVR5cGVzKFxyXG4gICAgICAgICAgXCJFbnRpdHlcIixcclxuICAgICAgICAgIFwiRW50aXR5XCJcclxuICAgICAgICApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGVkZ2VUeXBlU3VnZ2VzdGlvbnMgPSBhd2FpdCBsbG1TZXJ2aWNlLnN1Z2dlc3RFZGdlVHlwZXMoXHJcbiAgICAgICAgICBzb3VyY2VFbnRpdHksXHJcbiAgICAgICAgICB0YXJnZXRFbnRpdHlcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzaG93RWRnZVN1Z2dlc3Rpb25zID0gdHJ1ZTtcclxuICAgICAgbmV3IE5vdGljZShcclxuICAgICAgICBgR2VuZXJhdGVkICR7ZWRnZVR5cGVTdWdnZXN0aW9ucy5sZW5ndGh9IGVkZ2UgdHlwZSBzdWdnZXN0aW9uc2BcclxuICAgICAgKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHBsdWdpbj8ubG9nZ2VyPy5lcnJvcihcIkZhaWxlZCB0byBnZW5lcmF0ZSBlZGdlIHR5cGUgc3VnZ2VzdGlvbnNcIiwgZXJyb3IpO1xyXG4gICAgICBuZXcgTm90aWNlKFwiRmFpbGVkIHRvIGdlbmVyYXRlIGVkZ2UgdHlwZSBzdWdnZXN0aW9uc1wiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEBwdXJwb3NlOiBBY2NlcHQgYW4gZWRnZSB0eXBlIHN1Z2dlc3Rpb24gYW5kIGFkZCB0byBwbHVnaW4gc2V0dGluZ3NcclxuICAvLyBAZGVwZW5kczogcGx1Z2luLnNldHRpbmdzXHJcbiAgLy8gQHJlc3VsdHM6IEFkZHMgZWRnZSB0eXBlIHRvIGRhdGEuanNvbiwgcmVtb3ZlcyBmcm9tIHN1Z2dlc3Rpb25zXHJcbiAgYXN5bmMgZnVuY3Rpb24gYWNjZXB0RWRnZVR5cGVTdWdnZXN0aW9uKHN1Z2dlc3Rpb246IGFueSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKHBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZXNbc3VnZ2VzdGlvbi5jbGFzc05hbWVdKSB7XHJcbiAgICAgICAgbmV3IE5vdGljZShgRWRnZSB0eXBlIFwiJHtzdWdnZXN0aW9uLmNsYXNzTmFtZX1cIiBhbHJlYWR5IGV4aXN0c2ApO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlc1tzdWdnZXN0aW9uLmNsYXNzTmFtZV0gPSB7XHJcbiAgICAgICAgY2xhc3NOYW1lOiBzdWdnZXN0aW9uLmNsYXNzTmFtZSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogc3VnZ2VzdGlvbi5kZXNjcmlwdGlvbixcclxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcclxuICAgICAgICBpc1VzZXJEZWZpbmVkOiBmYWxzZSxcclxuICAgICAgICBzb3VyY2U6IFwibGxtXCIsXHJcbiAgICAgICAgbGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgIHBsdWdpblNldHRpbmdzID0geyAuLi5wbHVnaW4uc2V0dGluZ3MgfTtcclxuXHJcbiAgICAgIGVkZ2VUeXBlU3VnZ2VzdGlvbnMgPSBlZGdlVHlwZVN1Z2dlc3Rpb25zLmZpbHRlcihcclxuICAgICAgICAocykgPT4gcy5jbGFzc05hbWUgIT09IHN1Z2dlc3Rpb24uY2xhc3NOYW1lXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBuZXcgTm90aWNlKGBBZGRlZCBlZGdlIHR5cGU6ICR7c3VnZ2VzdGlvbi5jbGFzc05hbWV9YCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBwbHVnaW4/LmxvZ2dlcj8uZXJyb3IoXCJGYWlsZWQgdG8gYWNjZXB0IGVkZ2UgdHlwZSBzdWdnZXN0aW9uXCIsIGVycm9yKTtcclxuICAgICAgbmV3IE5vdGljZShcIkZhaWxlZCB0byBhZGQgZWRnZSB0eXBlXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQHB1cnBvc2U6IEdlbmVyYXRlIGVkZ2UgbWFwcGluZyBzdWdnZXN0aW9ucyB1c2luZyBTaW1wbGVMTE1TZXJ2aWNlXHJcbiAgLy8gQGRlcGVuZHM6IGxsbVNlcnZpY2UsIGFsbCBlbnRpdHkgdHlwZXNcclxuICAvLyBAcmVzdWx0czogVXBkYXRlcyBlZGdlTWFwcGluZ1N1Z2dlc3Rpb25zIHN0YXRlIHdpdGggTExNLWdlbmVyYXRlZCBzdWdnZXN0aW9uc1xyXG4gIGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlRWRnZU1hcHBpbmdTdWdnZXN0aW9ucygpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGVudGl0aWVzID0gT2JqZWN0LmtleXMocGx1Z2luU2V0dGluZ3MuZW50aXR5RGVzY3JpcHRpb25zIHx8IHt9KTtcclxuXHJcbiAgICAgIGlmIChlbnRpdGllcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICBuZXcgTm90aWNlKFwiTm8gZW50aXR5IHR5cGVzIGZvdW5kLiBDcmVhdGUgZW50aXRpZXMgZmlyc3QuXCIpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgZWRnZU1hcHBpbmdTdWdnZXN0aW9ucyA9IGF3YWl0IGxsbVNlcnZpY2Uuc3VnZ2VzdEVkZ2VNYXBwaW5ncyhlbnRpdGllcyk7XHJcbiAgICAgIHNob3dNYXBwaW5nU3VnZ2VzdGlvbnMgPSB0cnVlO1xyXG5cclxuICAgICAgbmV3IE5vdGljZShcclxuICAgICAgICBgR2VuZXJhdGVkICR7ZWRnZU1hcHBpbmdTdWdnZXN0aW9ucy5sZW5ndGh9IGVkZ2UgbWFwcGluZyBzdWdnZXN0aW9uc2BcclxuICAgICAgKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHBsdWdpbj8ubG9nZ2VyPy5lcnJvcihcclxuICAgICAgICBcIkZhaWxlZCB0byBnZW5lcmF0ZSBlZGdlIG1hcHBpbmcgc3VnZ2VzdGlvbnNcIixcclxuICAgICAgICBlcnJvclxyXG4gICAgICApO1xyXG4gICAgICBuZXcgTm90aWNlKFwiRmFpbGVkIHRvIGdlbmVyYXRlIG1hcHBpbmcgc3VnZ2VzdGlvbnNcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBAcHVycG9zZTogQWNjZXB0IGFuIGVkZ2UgbWFwcGluZyBzdWdnZXN0aW9uIGFuZCBhZGQgdG8gcGx1Z2luIHNldHRpbmdzXHJcbiAgLy8gQGRlcGVuZHM6IHBsdWdpbi5zZXR0aW5nc1xyXG4gIC8vIEByZXN1bHRzOiBBZGRzIG1hcHBpbmcgdG8gZGF0YS5qc29uLCByZW1vdmVzIGZyb20gc3VnZ2VzdGlvbnNcclxuICBhc3luYyBmdW5jdGlvbiBhY2NlcHRFZGdlTWFwcGluZ1N1Z2dlc3Rpb24oc3VnZ2VzdGlvbjogYW55KSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBleGlzdGluZ01hcHBpbmcgPSBwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVNYXA/LmZpbmQoXHJcbiAgICAgICAgKG06IEVkZ2VUeXBlTWFwcGluZykgPT5cclxuICAgICAgICAgIG0uc291cmNlRW50aXR5ID09PSBzdWdnZXN0aW9uLnNvdXJjZSAmJlxyXG4gICAgICAgICAgbS50YXJnZXRFbnRpdHkgPT09IHN1Z2dlc3Rpb24udGFyZ2V0XHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAoZXhpc3RpbmdNYXBwaW5nKSB7XHJcbiAgICAgICAgbmV3IE5vdGljZShcclxuICAgICAgICAgIGBNYXBwaW5nICR7c3VnZ2VzdGlvbi5zb3VyY2V9IOKGkiAke3N1Z2dlc3Rpb24udGFyZ2V0fSBhbHJlYWR5IGV4aXN0c2BcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVNYXApIHtcclxuICAgICAgICBwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVNYXAgPSBbXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlTWFwLnB1c2goe1xyXG4gICAgICAgIHNvdXJjZUVudGl0eTogc3VnZ2VzdGlvbi5zb3VyY2UsXHJcbiAgICAgICAgdGFyZ2V0RW50aXR5OiBzdWdnZXN0aW9uLnRhcmdldCxcclxuICAgICAgICBhbGxvd2VkRWRnZXM6IHN1Z2dlc3Rpb24uZWRnZVR5cGVzLFxyXG4gICAgICAgIGlzVXNlckRlZmluZWQ6IGZhbHNlLFxyXG4gICAgICAgIHNvdXJjZTogXCJsbG1cIixcclxuICAgICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgIHBsdWdpblNldHRpbmdzID0geyAuLi5wbHVnaW4uc2V0dGluZ3MgfTtcclxuXHJcbiAgICAgIGVkZ2VNYXBwaW5nU3VnZ2VzdGlvbnMgPSBlZGdlTWFwcGluZ1N1Z2dlc3Rpb25zLmZpbHRlcihcclxuICAgICAgICAoczogYW55KSA9PlxyXG4gICAgICAgICAgIShzLnNvdXJjZSA9PT0gc3VnZ2VzdGlvbi5zb3VyY2UgJiYgcy50YXJnZXQgPT09IHN1Z2dlc3Rpb24udGFyZ2V0KVxyXG4gICAgICApO1xyXG5cclxuICAgICAgbmV3IE5vdGljZShgQWRkZWQgbWFwcGluZzogJHtzdWdnZXN0aW9uLnNvdXJjZX0g4oaSICR7c3VnZ2VzdGlvbi50YXJnZXR9YCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBwbHVnaW4/LmxvZ2dlcj8uZXJyb3IoXCJGYWlsZWQgdG8gYWNjZXB0IGVkZ2UgbWFwcGluZyBzdWdnZXN0aW9uXCIsIGVycm9yKTtcclxuICAgICAgbmV3IE5vdGljZShcIkZhaWxlZCB0byBhZGQgbWFwcGluZ1wiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGxldCByZWZyZXNoSW50ZXJ2YWw6IE5vZGVKUy5UaW1lb3V0O1xyXG5cclxuICAvLyBJbml0aWFsaXplIGljb24gY29udGFpbmVyIHJlZnMgKHVzZWQgaW4gdGVtcGxhdGUpIHRvIGF2b2lkIFwidXNlZCBiZWZvcmUgYXNzaWduZWRcIiBUUyBlcnJvcnMuXHJcbiAgLy8gVGhlc2UgbWF5IGJlIGFzc2lnbmVkIGJ5IFN2ZWx0ZSB2aWEgYmluZDp0aGlzIGluIGZ1dHVyZSBpdGVyYXRpb25zOyBmb3Igbm93IGluaXRpYWxpemUgdG8gbnVsbC5cclxuICBsZXQgZW50aXRpZXNJY29uQ29udGFpbmVyOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xyXG4gIGxldCBwcm9wZXJ0aWVzSWNvbkNvbnRhaW5lcjogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcclxuICBsZXQgZWRnZXNJY29uQ29udGFpbmVyOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xyXG4gIGxldCBtYXBwaW5nc0ljb25Db250YWluZXI6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XHJcblxyXG4gIG9uTW91bnQoYXN5bmMgKCkgPT4ge1xyXG4gICAgYXdhaXQgcmVmcmVzaFNjaGVtYXMoKTtcclxuXHJcbiAgICAvLyBTZXQgdXAgcGVyaW9kaWMgcmVmcmVzaCB0byBkZXRlY3QgbWFudWFsIGRhdGEuanNvbiBjaGFuZ2VzXHJcbiAgICByZWZyZXNoSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XHJcbiAgICAgIGlmIChwbHVnaW4/LnNldHRpbmdzKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIC8vIFN0b3JlIHByZXZpb3VzIHNldHRpbmdzIGZvciBjb21wYXJpc29uXHJcbiAgICAgICAgICBjb25zdCBwcmV2aW91c1NldHRpbmdzU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkocGx1Z2luLnNldHRpbmdzKTtcclxuXHJcbiAgICAgICAgICAvLyBGb3JjZSBwbHVnaW4gdG8gcmVsb2FkIHNldHRpbmdzIGZyb20gZmlsZVxyXG4gICAgICAgICAgYXdhaXQgcGx1Z2luLmxvYWRTZXR0aW5ncygpO1xyXG5cclxuICAgICAgICAgIC8vIENvbXBhcmUgd2l0aCByZWxvYWRlZCBzZXR0aW5nc1xyXG4gICAgICAgICAgY29uc3QgY3VycmVudFNldHRpbmdzU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkocGx1Z2luLnNldHRpbmdzKTtcclxuXHJcbiAgICAgICAgICBpZiAoY3VycmVudFNldHRpbmdzU3RyaW5nICE9PSBwcmV2aW91c1NldHRpbmdzU3RyaW5nKSB7XHJcbiAgICAgICAgICAgIC8vIFVzZSBHcmFwaGl0aUxvZ2dlciBpZiBhdmFpbGFibGUsIGZhbGxiYWNrIHRvIGNvbnNvbGVcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAocGx1Z2luPy5sb2dnZXIgPz8gY29uc29sZSkuaW5mbz8uKFxyXG4gICAgICAgICAgICAgICAgXCJEZXRlY3RlZCBtYW51YWwgZGF0YS5qc29uIGNoYW5nZXMsIHRyaWdnZXJpbmcgVUkgcmVmcmVzaFwiXHJcbiAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgICAgICAgLy8gaWdub3JlXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEZvcmNlIFN2ZWx0ZSByZWFjdGl2aXR5IGJ5IHJlYXNzaWduaW5nIHBsdWdpbiByZWZlcmVuY2VcclxuICAgICAgICAgICAgY29uc3QgcGx1Z2luUmVmID0gcGx1Z2luO1xyXG4gICAgICAgICAgICBwbHVnaW4gPSBudWxsO1xyXG4gICAgICAgICAgICBwbHVnaW4gPSBwbHVnaW5SZWY7XHJcblxyXG4gICAgICAgICAgICAvLyBVcGRhdGUgcmVhY3RpdmUgdmFyaWFibGUgdG8gZW5zdXJlIFVJIHVwZGF0ZXNcclxuICAgICAgICAgICAgcGx1Z2luU2V0dGluZ3MgPSB7IC4uLnBsdWdpbi5zZXR0aW5ncyB9O1xyXG5cclxuICAgICAgICAgICAgLy8gRm9yY2Ugc2NoZW1hIHJlZnJlc2ggdG8gcGljayB1cCBhbnkgbmV3IG1hcHBpbmdzXHJcbiAgICAgICAgICAgIGF3YWl0IHJlZnJlc2hTY2hlbWFzKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkdXJpbmcgYXV0by1yZWZyZXNoOlwiLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LCAyMDAwKTsgLy8gQ2hlY2sgZXZlcnkgMiBzZWNvbmRzXHJcbiAgfSk7XHJcblxyXG4gIG9uRGVzdHJveSgoKSA9PiB7XHJcbiAgICBpZiAocmVmcmVzaEludGVydmFsKSB7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwocmVmcmVzaEludGVydmFsKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgLy8gPT09IFJFTU9WRUQ6IGxvYWRFeGlzdGluZ0RhdGEoKSBhbmQgc2F2ZURhdGFUb1BsdWdpbigpID09PVxyXG4gIC8vIFB1cnBvc2U6IE5vIGxvbmdlciBuZWVkZWQgd2l0aCByZWFjdGl2ZSByZWZlcmVuY2VzIHRvIHBsdWdpbi5zZXR0aW5nc1xyXG4gIC8vIEludGVncmF0aW9uOiBBbGwgZGF0YSBub3cgY29tZXMgZGlyZWN0bHkgZnJvbSBwbHVnaW4uc2V0dGluZ3MgdmlhIHJlYWN0aXZlIHN0YXRlbWVudHNcclxuICAvLyBNb2RlOiBDb2RlIC0gU2luZ2xlLXNvdXJjZS1vZi10cnV0aCBhcmNoaXRlY3R1cmUgcmVtb3ZlcyBuZWVkIGZvciBzeW5jIGZ1bmN0aW9uc1xyXG5cclxuICBhc3luYyBmdW5jdGlvbiByZWZyZXNoU2NoZW1hcygpIHtcclxuICAgIGxvYWRpbmcgPSB0cnVlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgc2NoZW1hcyA9IGF3YWl0IHNjaGVtYVNlcnZpY2UuZGlzY292ZXJBbGxTY2hlbWFzKCk7XHJcbiAgICAgIGF3YWl0IGluaXRpYWxpemVQcm9wZXJ0eVNlbGVjdGlvbnMoKTtcclxuICAgICAgYXdhaXQgZ2VuZXJhdGVBbGxNb2RlbHMoKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkaXNjb3ZlcmluZyBzY2hlbWFzOlwiLCBlcnJvcik7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyA9PT0gUFJPUEVSVFkgTUFQUElORyBIRUxQRVIgRlVOQ1RJT05TID09PVxyXG4gIC8vIFB1cnBvc2U6IEhhbmRsZSBwcm9wZXJ0eSBuYW1lIG1hcHBpbmcgZnJvbSBvcmlnaW5hbCB0byBzbmFrZV9jYXNlXHJcbiAgLy8gSW50ZWdyYXRpb246IFVzZXMgcHJvcGVydHlNYXBwaW5ncyBmcm9tIHBsdWdpbiBzZXR0aW5nc1xyXG4gIC8vIE1vZGU6IENvZGUgLSBVdGlsaXR5IGZ1bmN0aW9ucyBmb3IgcHJvcGVydHkgbmFtZSByZXNvbHV0aW9uXHJcblxyXG4gIGZ1bmN0aW9uIGdldE1hcHBlZFByb3BlcnR5TmFtZShcclxuICAgIGVudGl0eVR5cGU6IHN0cmluZyxcclxuICAgIG9yaWdpbmFsTmFtZTogc3RyaW5nXHJcbiAgKTogc3RyaW5nIHtcclxuICAgIGlmICghcGx1Z2luU2V0dGluZ3M/LnByb3BlcnR5TWFwcGluZ3MpIHtcclxuICAgICAgcmV0dXJuIG9yaWdpbmFsTmFtZTtcclxuICAgIH1cclxuICAgIGNvbnN0IGVudGl0eU1hcHBpbmdzID0gcGx1Z2luU2V0dGluZ3MucHJvcGVydHlNYXBwaW5nc1tlbnRpdHlUeXBlXTtcclxuICAgIGlmICghZW50aXR5TWFwcGluZ3MpIHtcclxuICAgICAgcmV0dXJuIG9yaWdpbmFsTmFtZTtcclxuICAgIH1cclxuICAgIGNvbnN0IG1hcHBlZE5hbWUgPSBlbnRpdHlNYXBwaW5nc1tvcmlnaW5hbE5hbWVdO1xyXG4gICAgcmV0dXJuIG1hcHBlZE5hbWUgfHwgb3JpZ2luYWxOYW1lO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ2V0T3JpZ2luYWxQcm9wZXJ0eU5hbWUoXHJcbiAgICBlbnRpdHlUeXBlOiBzdHJpbmcsXHJcbiAgICBjdXJyZW50TmFtZTogc3RyaW5nXHJcbiAgKTogc3RyaW5nIHtcclxuICAgIGlmICghcGx1Z2luU2V0dGluZ3M/LnByb3BlcnR5TWFwcGluZ3M/LltlbnRpdHlUeXBlXSkgcmV0dXJuIGN1cnJlbnROYW1lO1xyXG4gICAgY29uc3QgZW50aXR5TWFwcGluZ3MgPSBwbHVnaW5TZXR0aW5ncy5wcm9wZXJ0eU1hcHBpbmdzW2VudGl0eVR5cGVdO1xyXG5cclxuICAgIC8vIEZpbmQgdGhlIG9yaWdpbmFsIG5hbWUgdGhhdCBtYXBzIHRvIHRoaXMgY3VycmVudCBuYW1lXHJcbiAgICBmb3IgKGNvbnN0IFtvcmlnaW5hbE5hbWUsIG1hcHBlZFZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhlbnRpdHlNYXBwaW5ncykpIHtcclxuICAgICAgaWYgKG1hcHBlZFZhbHVlID09PSBjdXJyZW50TmFtZSkge1xyXG4gICAgICAgIHJldHVybiBvcmlnaW5hbE5hbWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY3VycmVudE5hbWU7IC8vIE5vIG1hcHBpbmcgZm91bmQsIHJldHVybiB0aGUgbmFtZSBhcy1pc1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaXNQcm9wZXJ0eU1hcHBlZChlbnRpdHlUeXBlOiBzdHJpbmcsIGN1cnJlbnROYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIGlmICghcGx1Z2luU2V0dGluZ3M/LnByb3BlcnR5TWFwcGluZ3M/LltlbnRpdHlUeXBlXSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBjb25zdCBlbnRpdHlNYXBwaW5ncyA9IHBsdWdpblNldHRpbmdzLnByb3BlcnR5TWFwcGluZ3NbZW50aXR5VHlwZV07XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgdGhpcyBjdXJyZW50IG5hbWUgaXMgdGhlIHJlc3VsdCBvZiBhIG1hcHBpbmdcclxuICAgIGZvciAoY29uc3QgW29yaWdpbmFsTmFtZSwgbWFwcGVkVmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGVudGl0eU1hcHBpbmdzKSkge1xyXG4gICAgICBpZiAobWFwcGVkVmFsdWUgPT09IGN1cnJlbnROYW1lICYmIG9yaWdpbmFsTmFtZSAhPT0gY3VycmVudE5hbWUpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIHNhdmVQcm9wZXJ0eVNlbGVjdGlvblRvUGx1Z2luKFxyXG4gICAgZW50aXR5VHlwZTogc3RyaW5nLFxyXG4gICAgcHJvcGVydHlOYW1lOiBzdHJpbmcsXHJcbiAgICBlbmFibGVkOiBib29sZWFuXHJcbiAgKSB7XHJcbiAgICBpZiAoIXBsdWdpbj8uc2V0dGluZ3MpIHJldHVybjtcclxuXHJcbiAgICAvLyBJbml0aWFsaXplIHByb3BlcnR5U2VsZWN0aW9ucyBzdHJ1Y3R1cmUgaWYgbmVlZGVkXHJcbiAgICBpZiAoIXBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnMpIHtcclxuICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9ucyA9IHt9O1xyXG4gICAgfVxyXG4gICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlTZWxlY3Rpb25zW2VudGl0eVR5cGVdKSB7XHJcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnNbZW50aXR5VHlwZV0gPSB7fTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDbGVhbiB1cCBhbnkgZHVwbGljYXRlIGVudHJpZXMgKG9yaWdpbmFsIG5hbWUgdnMgbWFwcGVkIG5hbWUpXHJcbiAgICBjb25zdCBvcmlnaW5hbFByb3BlcnR5ID0gT2JqZWN0LmtleXMoXHJcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eU1hcHBpbmdzPy5bZW50aXR5VHlwZV0gfHwge31cclxuICAgICkuZmluZChcclxuICAgICAgKG9yaWcpID0+XHJcbiAgICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5TWFwcGluZ3NbZW50aXR5VHlwZV1bb3JpZ10gPT09IHByb3BlcnR5TmFtZVxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAob3JpZ2luYWxQcm9wZXJ0eSAmJiBvcmlnaW5hbFByb3BlcnR5ICE9PSBwcm9wZXJ0eU5hbWUpIHtcclxuICAgICAgLy8gUmVtb3ZlIHRoZSBvcmlnaW5hbCAodW5tYXBwZWQpIG5hbWUgaWYgaXQgZXhpc3RzXHJcbiAgICAgIGRlbGV0ZSBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlTZWxlY3Rpb25zW2VudGl0eVR5cGVdW29yaWdpbmFsUHJvcGVydHldO1xyXG4gICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICBgQ2xlYW5lZCB1cCBkdXBsaWNhdGUgcHJvcGVydHk6IHJlbW92ZWQgJHtlbnRpdHlUeXBlfS4ke29yaWdpbmFsUHJvcGVydHl9LCBrZXB0ICR7ZW50aXR5VHlwZX0uJHtwcm9wZXJ0eU5hbWV9YFxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNhdmUgd2l0aCB0aGUgY29ycmVjdCBwcm9wZXJ0eSBuYW1lIChtYXBwZWQgaWYgYXBwbGljYWJsZSlcclxuICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnNbZW50aXR5VHlwZV1bcHJvcGVydHlOYW1lXSA9IGVuYWJsZWQ7XHJcblxyXG4gICAgLy8gU2F2ZSB0byBwbHVnaW5cclxuICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHJcbiAgICAvLyBVcGRhdGUgcmVhY3RpdmUgdmFyaWFibGUgdG8gdHJpZ2dlciBVSSB1cGRhdGVzXHJcbiAgICBwbHVnaW5TZXR0aW5ncyA9IHsgLi4ucGx1Z2luLnNldHRpbmdzIH07XHJcbiAgfVxyXG5cclxuICAvLyA9PT0gUFJPUEVSVFkgSU5JVElBTElaQVRJT04gRlVOQ1RJT04gPT09XHJcbiAgLy8gUHVycG9zZTogRW5zdXJlIGFsbCBwcm9wZXJ0aWVzIGV4aXN0IGluIHByb3BlcnR5U2VsZWN0aW9ucyB3aXRoIGNvcnJlY3QgZGVmYXVsdHNcclxuICAvLyBJbnRlZ3JhdGlvbjogQ2FsbGVkIG9uIGNvbXBvbmVudCBtb3VudCB0byBzeW5jIFVJIHdpdGggZGF0YS5qc29uXHJcbiAgLy8gTW9kZTogQ29kZSAtIFJlYWN0aXZlIHN0YXRlIGluaXRpYWxpemF0aW9uXHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGluaXRpYWxpemVQcm9wZXJ0eVNlbGVjdGlvbnMoKSB7XHJcbiAgICBpZiAoIXBsdWdpbj8uc2V0dGluZ3MpIHJldHVybjtcclxuXHJcbiAgICAvLyBJbml0aWFsaXplIHByb3BlcnR5U2VsZWN0aW9ucyBpZiBub3QgZXhpc3RzXHJcbiAgICBpZiAoIXBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnMpIHtcclxuICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9ucyA9IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBuZWVkc1NhdmUgPSBmYWxzZTtcclxuXHJcbiAgICAvLyBQcm9jZXNzIGVhY2ggc2NoZW1hIHRvIGVuc3VyZSBhbGwgcHJvcGVydGllcyBhcmUgdHJhY2tlZFxyXG4gICAgc2NoZW1hcy5mb3JFYWNoKChzY2hlbWEpID0+IHtcclxuICAgICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlTZWxlY3Rpb25zW3NjaGVtYS50eXBlTmFtZV0pIHtcclxuICAgICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlTZWxlY3Rpb25zW3NjaGVtYS50eXBlTmFtZV0gPSB7fTtcclxuICAgICAgICBuZWVkc1NhdmUgPSB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBFbnN1cmUgYWxsIHByb3BlcnRpZXMgZXhpc3QgaW4gcHJvcGVydHlTZWxlY3Rpb25zIChkZWZhdWx0IHRvIGZhbHNlKVxyXG4gICAgICBzY2hlbWEucHJvcGVydGllcy5mb3JFYWNoKChwcm9wKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbWFwcGVkTmFtZSA9IGdldE1hcHBlZFByb3BlcnR5TmFtZShzY2hlbWEudHlwZU5hbWUsIHByb3AubmFtZSk7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgIShtYXBwZWROYW1lIGluIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnNbc2NoZW1hLnR5cGVOYW1lXSlcclxuICAgICAgICApIHtcclxuICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnNbc2NoZW1hLnR5cGVOYW1lXVttYXBwZWROYW1lXSA9XHJcbiAgICAgICAgICAgIGZhbHNlO1xyXG4gICAgICAgICAgbmVlZHNTYXZlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKG5lZWRzU2F2ZSkge1xyXG4gICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUFsbE1vZGVscygpIHtcclxuICAgIGdlbmVyYXRlZE1vZGVscyA9IGF3YWl0IHNjaGVtYVNlcnZpY2UuZ2VuZXJhdGVQeWRhbnRpY01vZGVscyhzY2hlbWFzKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdlbmVyYXRlUHlkYW50aWNNb2RlbChzY2hlbWE6IFR5cGVTY2hlbWEpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgY2xhc3NOYW1lID0gc2NoZW1hLnR5cGVOYW1lXHJcbiAgICAgIC5yZXBsYWNlKC9cXHMrL2csIFwiXCIpXHJcbiAgICAgIC5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZywgXCJcIik7XHJcblxyXG4gICAgLy8gRmlsdGVyIG91dCBwcm90ZWN0ZWQgYXR0cmlidXRlcyBhbmQgdXNlIHN1Z2dlc3RlZCBuYW1lc1xyXG4gICAgY29uc3QgdmFsaWRQcm9wZXJ0aWVzID0gc2NoZW1hLnByb3BlcnRpZXNcclxuICAgICAgLmZpbHRlcigocCkgPT4gcC5lbmFibGVkICE9PSBmYWxzZSAmJiAhcC5pc1Byb3RlY3RlZClcclxuICAgICAgLm1hcCgocHJvcCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHB5dGhvblR5cGUgPSBnZXRQeXRob25UeXBlKHByb3ApO1xyXG4gICAgICAgIGNvbnN0IGZpZWxkTmFtZSA9IHByb3Auc3VnZ2VzdGVkTmFtZSB8fCBwcm9wLm5hbWU7XHJcblxyXG4gICAgICAgIC8vIFVzZSBlbmhhbmNlZCBkZXNjcmlwdGlvbiAoc2ltcGxpZmllZCB2ZXJzaW9uIGZvciBpbmRpdmlkdWFsIG1vZGVsIGRpc3BsYXkpXHJcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPVxyXG4gICAgICAgICAgcHJvcC5kZXNjcmlwdGlvbiB8fFxyXG4gICAgICAgICAgYCR7ZmllbGROYW1lLnJlcGxhY2UoL18vZywgXCIgXCIpfSBwcm9wZXJ0eSBmb3IgJHtzY2hlbWEudHlwZU5hbWV9IGVudGl0aWVzYDtcclxuXHJcbiAgICAgICAgLy8gQWxsIGZpZWxkcyBhcmUgT3B0aW9uYWwgYnkgZGVmYXVsdCAoUGhhc2UgMSByZXF1aXJlbWVudClcclxuICAgICAgICByZXR1cm4gYCAgICAke2ZpZWxkTmFtZX06IE9wdGlvbmFsWyR7cHl0aG9uVHlwZX1dID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCIke2Rlc2NyaXB0aW9ufVwiKWA7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIC8vIEFkZCBjb21tZW50cyBmb3IgcHJvdGVjdGVkIGF0dHJpYnV0ZXNcclxuICAgIGNvbnN0IHByb3RlY3RlZENvbW1lbnRzID0gc2NoZW1hLnByb3BlcnRpZXNcclxuICAgICAgLmZpbHRlcigocCkgPT4gcC5pc1Byb3RlY3RlZClcclxuICAgICAgLm1hcChcclxuICAgICAgICAocHJvcCkgPT5cclxuICAgICAgICAgIGAgICAgIyBTS0lQUEVEOiAnJHtwcm9wLm5hbWV9JyAtIHByb3RlY3RlZCBhdHRyaWJ1dGUgKHVzZSAnJHtwcm9wLnN1Z2dlc3RlZE5hbWV9JyBpbnN0ZWFkKWBcclxuICAgICAgKTtcclxuXHJcbiAgICBjb25zdCBhbGxMaW5lcyA9IFsuLi52YWxpZFByb3BlcnRpZXMsIC4uLnByb3RlY3RlZENvbW1lbnRzXTtcclxuICAgIGNvbnN0IHByb3BlcnRpZXMgPSBhbGxMaW5lcy5sZW5ndGggPiAwID8gYWxsTGluZXMuam9pbihcIlxcblwiKSA6IFwiICAgIHBhc3NcIjtcclxuXHJcbiAgICAvLyBFbmhhbmNlZCBjbGFzcyBkb2N1bWVudGF0aW9uXHJcbiAgICBjb25zdCBjbGFzc0RvYyA9IGAke2NsYXNzTmFtZX0gZW50aXR5IGZvciBrbm93bGVkZ2UgZ3JhcGggcHJvY2Vzc2luZy5cXG4gICAgXFxuICAgIEluaGVyaXRzIGNvcmUgcHJvcGVydGllcyBmcm9tIEJhc2VFbnRpdHkgKHR5cGUsIHRhZ3MsIGNyZWF0ZWQpIGFuZCBleHRlbmRzXFxuICAgIHdpdGggJHtjbGFzc05hbWV9LXNwZWNpZmljIGF0dHJpYnV0ZXMgZGlzY292ZXJlZCBmcm9tIE9ic2lkaWFuIHZhdWx0IGFuYWx5c2lzLmA7XHJcblxyXG4gICAgcmV0dXJuIGBjbGFzcyAke2NsYXNzTmFtZX0oQmFzZUVudGl0eSk6XHJcbiAgICBcIlwiXCJcclxuICAgICR7Y2xhc3NEb2N9XHJcbiAgICBcIlwiXCJcclxuJHtwcm9wZXJ0aWVzfWA7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnZXRQeXRob25UeXBlKHByb3A6IFByb3BlcnR5U2NoZW1hKTogc3RyaW5nIHtcclxuICAgIHN3aXRjaCAocHJvcC5pbmZlcnJlZFR5cGUpIHtcclxuICAgICAgY2FzZSBcInN0cmluZ1wiOlxyXG4gICAgICAgIHJldHVybiBcInN0clwiO1xyXG4gICAgICBjYXNlIFwibnVtYmVyXCI6XHJcbiAgICAgICAgcmV0dXJuIFwiZmxvYXRcIjtcclxuICAgICAgY2FzZSBcImJvb2xlYW5cIjpcclxuICAgICAgICByZXR1cm4gXCJib29sXCI7XHJcbiAgICAgIGNhc2UgXCJkYXRlXCI6XHJcbiAgICAgICAgcmV0dXJuIFwiZGF0ZXRpbWVcIjtcclxuICAgICAgY2FzZSBcImFycmF5XCI6XHJcbiAgICAgICAgcmV0dXJuIFwiTGlzdFtzdHJdXCI7XHJcbiAgICAgIGNhc2UgXCJvYmplY3RcIjpcclxuICAgICAgICByZXR1cm4gXCJEaWN0W3N0ciwgQW55XVwiO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiBcInN0clwiO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gY29weVRvQ2xpcGJvYXJkKHRleHQ6IHN0cmluZykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGV4dCk7XHJcbiAgICAgIC8vIFlvdSBjb3VsZCBhZGQgYSB0b2FzdCBub3RpZmljYXRpb24gaGVyZVxyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gY29weTpcIiwgZXJyKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHVwZGF0ZVByb3BlcnR5KFxyXG4gICAgc2NoZW1hSW5kZXg6IG51bWJlcixcclxuICAgIHByb3BJbmRleDogbnVtYmVyLFxyXG4gICAgZmllbGQ6IGtleW9mIFByb3BlcnR5U2NoZW1hLFxyXG4gICAgdmFsdWU6IGFueVxyXG4gICkge1xyXG4gICAgKHNjaGVtYXNbc2NoZW1hSW5kZXhdLnByb3BlcnRpZXNbcHJvcEluZGV4XSBhcyBhbnkpW2ZpZWxkXSA9IHZhbHVlO1xyXG4gICAgc2NoZW1hcyA9IFsuLi5zY2hlbWFzXTsgLy8gVHJpZ2dlciByZWFjdGl2aXR5XHJcbiAgICBnZW5lcmF0ZUFsbE1vZGVscygpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlQ2hlY2tib3hDaGFuZ2UoXHJcbiAgICBzY2hlbWFJbmRleDogbnVtYmVyLFxyXG4gICAgcHJvcEluZGV4OiBudW1iZXIsXHJcbiAgICBldmVudDogRXZlbnRcclxuICApIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgY29uc3Qgc2NoZW1hID0gc2NoZW1hc1tzY2hlbWFJbmRleF07XHJcbiAgICBjb25zdCBwcm9wID0gc2NoZW1hLnByb3BlcnRpZXNbcHJvcEluZGV4XTtcclxuXHJcbiAgICAvLyBVc2UgbWFwcGVkIHByb3BlcnR5IG5hbWUgZm9yIHNhdmluZ1xyXG4gICAgY29uc3QgbWFwcGVkTmFtZSA9IGdldE1hcHBlZFByb3BlcnR5TmFtZShzY2hlbWEudHlwZU5hbWUsIHByb3AubmFtZSk7XHJcblxyXG4gICAgLy8gU2F2ZSB0aGUgc2VsZWN0aW9uIHBlcnNpc3RlbnRseSB1c2luZyBtYXBwZWQgbmFtZVxyXG4gICAgYXdhaXQgc2F2ZVByb3BlcnR5U2VsZWN0aW9uVG9QbHVnaW4oXHJcbiAgICAgIHNjaGVtYS50eXBlTmFtZSxcclxuICAgICAgbWFwcGVkTmFtZSxcclxuICAgICAgdGFyZ2V0LmNoZWNrZWRcclxuICAgICk7XHJcblxyXG4gICAgLy8gVXBkYXRlIHRoZSBVSVxyXG4gICAgdXBkYXRlUHJvcGVydHkoc2NoZW1hSW5kZXgsIHByb3BJbmRleCwgXCJlbmFibGVkXCIsIHRhcmdldC5jaGVja2VkKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZURlc2NyaXB0aW9uSW5wdXQoXHJcbiAgICBzY2hlbWFJbmRleDogbnVtYmVyLFxyXG4gICAgcHJvcEluZGV4OiBudW1iZXIsXHJcbiAgICBldmVudDogRXZlbnRcclxuICApIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgY29uc3Qgc2NoZW1hID0gc2NoZW1hc1tzY2hlbWFJbmRleF07XHJcbiAgICBjb25zdCBwcm9wID0gc2NoZW1hLnByb3BlcnRpZXNbcHJvcEluZGV4XTtcclxuXHJcbiAgICAvLyBVcGRhdGUgdGhlIFVJIGltbWVkaWF0ZWx5XHJcbiAgICB1cGRhdGVQcm9wZXJ0eShzY2hlbWFJbmRleCwgcHJvcEluZGV4LCBcImRlc2NyaXB0aW9uXCIsIHRhcmdldC52YWx1ZSk7XHJcblxyXG4gICAgLy8gU2F2ZSB0byBwbHVnaW4gc2V0dGluZ3MgcHJvcGVydHlEZXNjcmlwdGlvbnNcclxuICAgIGF3YWl0IHNhdmVQcm9wZXJ0eURlc2NyaXB0aW9uVG9QbHVnaW4oXHJcbiAgICAgIHNjaGVtYS50eXBlTmFtZSxcclxuICAgICAgcHJvcC5uYW1lLFxyXG4gICAgICB0YXJnZXQudmFsdWVcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBzYXZlUHJvcGVydHlEZXNjcmlwdGlvblRvUGx1Z2luKFxyXG4gICAgZW50aXR5VHlwZTogc3RyaW5nLFxyXG4gICAgcHJvcGVydHlOYW1lOiBzdHJpbmcsXHJcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nXHJcbiAgKSB7XHJcbiAgICBpZiAoIXBsdWdpbj8uc2V0dGluZ3MpIHJldHVybjtcclxuXHJcbiAgICAvLyBJbml0aWFsaXplIHByb3BlcnR5RGVzY3JpcHRpb25zIHN0cnVjdHVyZSBpZiBuZWVkZWRcclxuICAgIGlmICghcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zKSB7XHJcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9ucyA9IHt9O1xyXG4gICAgfVxyXG4gICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnNbZW50aXR5VHlwZV0pIHtcclxuICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zW2VudGl0eVR5cGVdID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2F2ZSB0aGUgcHJvcGVydHkgZGVzY3JpcHRpb25cclxuICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9uc1tlbnRpdHlUeXBlXVtwcm9wZXJ0eU5hbWVdID0ge1xyXG4gICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXHJcbiAgICAgIGZpZWxkVHlwZTogXCJzdHJcIiwgLy8gVXNlIFB5dGhvbiB0eXBlIG5hbWVzIGZvciBQeWRhbnRpYyBnZW5lcmF0aW9uIGNvbnNpc3RlbmN5XHJcbiAgICAgIGlzVXNlckRlZmluZWQ6IHRydWUsXHJcbiAgICAgIHNvdXJjZTogXCJ1c2VyXCIsXHJcbiAgICAgIGxhc3RNb2RpZmllZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBTYXZlIHRvIHBsdWdpblxyXG4gICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ2V0UHJvcGVydHlEZXNjcmlwdGlvbihcclxuICAgIGVudGl0eVR5cGU6IHN0cmluZyxcclxuICAgIHByb3BlcnR5TmFtZTogc3RyaW5nLFxyXG4gICAgZmFsbGJhY2tEZXNjcmlwdGlvbjogc3RyaW5nXHJcbiAgKTogc3RyaW5nIHtcclxuICAgIC8vIENoZWNrIHBsdWdpbiBzZXR0aW5ncyBmaXJzdCAodXNlci1kZWZpbmVkIGRlc2NyaXB0aW9ucylcclxuICAgIGNvbnN0IHNhdmVkRGVzY3JpcHRpb24gPVxyXG4gICAgICBwbHVnaW4/LnNldHRpbmdzPy5wcm9wZXJ0eURlc2NyaXB0aW9ucz8uW2VudGl0eVR5cGVdPy5bcHJvcGVydHlOYW1lXVxyXG4gICAgICAgID8uZGVzY3JpcHRpb247XHJcbiAgICBpZiAoc2F2ZWREZXNjcmlwdGlvbikge1xyXG4gICAgICByZXR1cm4gc2F2ZWREZXNjcmlwdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBGYWxsIGJhY2sgdG8gZGlzY292ZXJlZCBkZXNjcmlwdGlvblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgZmFsbGJhY2tEZXNjcmlwdGlvbiB8fFxyXG4gICAgICBgJHtwcm9wZXJ0eU5hbWUucmVwbGFjZSgvXy9nLCBcIiBcIil9IHByb3BlcnR5IGZvciAke2VudGl0eVR5cGV9IGVudGl0aWVzYFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGFwcGx5TmFtaW5nU3VnZ2VzdGlvbihzY2hlbWFJbmRleDogbnVtYmVyLCBwcm9wSW5kZXg6IG51bWJlcikge1xyXG4gICAgY29uc3Qgc2NoZW1hID0gc2NoZW1hc1tzY2hlbWFJbmRleF07XHJcbiAgICBjb25zdCBwcm9wID0gc2NoZW1hLnByb3BlcnRpZXNbcHJvcEluZGV4XTtcclxuICAgIGNvbnN0IG9yaWdpbmFsTmFtZSA9IHByb3AubmFtZTtcclxuICAgIGNvbnN0IHN1Z2dlc3RlZE5hbWUgPSBwcm9wLnN1Z2dlc3RlZE5hbWU7XHJcblxyXG4gICAgLy8gU2F2ZSB0aGUgbWFwcGluZyBwZXJzaXN0ZW50bHlcclxuICAgIGF3YWl0IHNjaGVtYVNlcnZpY2Uuc2F2ZVByb3BlcnR5TWFwcGluZyhcclxuICAgICAgc2NoZW1hLnR5cGVOYW1lLFxyXG4gICAgICBvcmlnaW5hbE5hbWUsXHJcbiAgICAgIHN1Z2dlc3RlZE5hbWVcclxuICAgICk7XHJcblxyXG4gICAgLy8gVXBkYXRlIHRoZSBVSVxyXG4gICAgdXBkYXRlUHJvcGVydHkoc2NoZW1hSW5kZXgsIHByb3BJbmRleCwgXCJuYW1lXCIsIHN1Z2dlc3RlZE5hbWUpO1xyXG4gICAgLy8gQ2xlYXIgbmFtaW5nIGlzc3VlcyBzaW5jZSB3ZSBhcHBsaWVkIHRoZSBzdWdnZXN0aW9uXHJcbiAgICB1cGRhdGVQcm9wZXJ0eShzY2hlbWFJbmRleCwgcHJvcEluZGV4LCBcIm5hbWluZ0lzc3Vlc1wiLCBbXSk7XHJcbiAgICB1cGRhdGVQcm9wZXJ0eShzY2hlbWFJbmRleCwgcHJvcEluZGV4LCBcImNvbXBsaWFuY2VTdGF0dXNcIiwgXCJ2YWxpZFwiKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldENvbXBsaWFuY2VTdGF0cyhzY2hlbWE6IFR5cGVTY2hlbWEpIHtcclxuICAgIGNvbnN0IHRvdGFsID0gc2NoZW1hLnByb3BlcnRpZXMubGVuZ3RoO1xyXG4gICAgY29uc3QgdmFsaWQgPSBzY2hlbWEucHJvcGVydGllcy5maWx0ZXIoXHJcbiAgICAgIChwKSA9PiBwLmNvbXBsaWFuY2VTdGF0dXMgPT09IFwidmFsaWRcIlxyXG4gICAgKS5sZW5ndGg7XHJcbiAgICBjb25zdCB3YXJuaW5ncyA9IHNjaGVtYS5wcm9wZXJ0aWVzLmZpbHRlcihcclxuICAgICAgKHApID0+IHAuY29tcGxpYW5jZVN0YXR1cyA9PT0gXCJ3YXJuaW5nXCJcclxuICAgICkubGVuZ3RoO1xyXG4gICAgY29uc3QgcHJvdGVjdGVkQ291bnQgPSBzY2hlbWEucHJvcGVydGllcy5maWx0ZXIoXHJcbiAgICAgIChwKSA9PiBwLmNvbXBsaWFuY2VTdGF0dXMgPT09IFwicHJvdGVjdGVkXCJcclxuICAgICkubGVuZ3RoO1xyXG4gICAgY29uc3Qgc2NvcmUgPSB0b3RhbCA+IDAgPyBNYXRoLnJvdW5kKCh2YWxpZCAvIHRvdGFsKSAqIDEwMCkgOiAxMDA7XHJcblxyXG4gICAgcmV0dXJuIHsgdG90YWwsIHZhbGlkLCB3YXJuaW5ncywgcHJvdGVjdGVkQ291bnQsIHNjb3JlIH07XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnZXRPdmVyYWxsQ29tcGxpYW5jZVN0YXRzKCkge1xyXG4gICAgY29uc3QgYWxsUHJvcGVydGllcyA9IHNjaGVtYXMuZmxhdE1hcCgocykgPT4gcy5wcm9wZXJ0aWVzKTtcclxuICAgIGNvbnN0IHRvdGFsID0gYWxsUHJvcGVydGllcy5sZW5ndGg7XHJcbiAgICBjb25zdCB2YWxpZCA9IGFsbFByb3BlcnRpZXMuZmlsdGVyKFxyXG4gICAgICAocCkgPT4gcC5jb21wbGlhbmNlU3RhdHVzID09PSBcInZhbGlkXCJcclxuICAgICkubGVuZ3RoO1xyXG4gICAgY29uc3Qgd2FybmluZ3MgPSBhbGxQcm9wZXJ0aWVzLmZpbHRlcihcclxuICAgICAgKHApID0+IHAuY29tcGxpYW5jZVN0YXR1cyA9PT0gXCJ3YXJuaW5nXCJcclxuICAgICkubGVuZ3RoO1xyXG4gICAgY29uc3QgcHJvdGVjdGVkQ291bnQgPSBhbGxQcm9wZXJ0aWVzLmZpbHRlcihcclxuICAgICAgKHApID0+IHAuY29tcGxpYW5jZVN0YXR1cyA9PT0gXCJwcm90ZWN0ZWRcIlxyXG4gICAgKS5sZW5ndGg7XHJcbiAgICBjb25zdCBzY29yZSA9IHRvdGFsID4gMCA/IE1hdGgucm91bmQoKHZhbGlkIC8gdG90YWwpICogMTAwKSA6IDEwMDtcclxuXHJcbiAgICByZXR1cm4geyB0b3RhbCwgdmFsaWQsIHdhcm5pbmdzLCBwcm90ZWN0ZWRDb3VudCwgc2NvcmUgfTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGFwcGx5QWxsU3VnZ2VzdGlvbnMoKSB7XHJcbiAgICBmb3IgKGxldCBzY2hlbWFJbmRleCA9IDA7IHNjaGVtYUluZGV4IDwgc2NoZW1hcy5sZW5ndGg7IHNjaGVtYUluZGV4KyspIHtcclxuICAgICAgY29uc3Qgc2NoZW1hID0gc2NoZW1hc1tzY2hlbWFJbmRleF07XHJcbiAgICAgIGZvciAoXHJcbiAgICAgICAgbGV0IHByb3BJbmRleCA9IDA7XHJcbiAgICAgICAgcHJvcEluZGV4IDwgc2NoZW1hLnByb3BlcnRpZXMubGVuZ3RoO1xyXG4gICAgICAgIHByb3BJbmRleCsrXHJcbiAgICAgICkge1xyXG4gICAgICAgIGNvbnN0IHByb3AgPSBzY2hlbWEucHJvcGVydGllc1twcm9wSW5kZXhdO1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIHByb3AuY29tcGxpYW5jZVN0YXR1cyA9PT0gXCJ3YXJuaW5nXCIgJiZcclxuICAgICAgICAgIHByb3Auc3VnZ2VzdGVkTmFtZSAhPT0gcHJvcC5uYW1lXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBhd2FpdCBhcHBseU5hbWluZ1N1Z2dlc3Rpb24oc2NoZW1hSW5kZXgsIHByb3BJbmRleCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyA9PT0gRU5USVRZIERFRklOSVRJT04gTUFOQUdFTUVOVCBGVU5DVElPTlMgPT09XHJcbiAgLy8gUHVycG9zZTogTWFuYWdlIGVudGl0eSBkZWZpbml0aW9ucyBpbiBkYXRhLmpzb24gdXNpbmcgR3JhcGhpdGlTZXJ2aWNlXHJcbiAgLy8gSW50ZWdyYXRpb246IEVuYWJsZS9kaXNhYmxlIGVudGl0eSB0eXBlcyBhbmQgbG9hZCBkZWZhdWx0c1xyXG4gIC8vIE1vZGU6IENvZGUgLSBFbnRpdHkgbWFuYWdlbWVudCB3aXRoIGRhdGEgc3luY1xyXG5cclxuICBmdW5jdGlvbiBpc0VudGl0eUVuYWJsZWQoZW50aXR5VHlwZTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gISFlbnRpdHlEZXNjcmlwdGlvbnNbZW50aXR5VHlwZV07XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiB0b2dnbGVFbnRpdHlEZWZpbml0aW9uKGVudGl0eVR5cGU6IHN0cmluZykge1xyXG4gICAgaWYgKCFwbHVnaW4/LnNldHRpbmdzKSByZXR1cm47XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKGlzRW50aXR5RW5hYmxlZChlbnRpdHlUeXBlKSkge1xyXG4gICAgICAgIC8vIFJlbW92ZSBlbnRpdHkgZGVmaW5pdGlvbiAtIHNhbWUgcGF0dGVybiBhcyBFZGdlIE1hcHBpbmdzIHdpdGggcmVhc3NpZ25tZW50XHJcbiAgICAgICAgY29uc3QgdXBkYXRlZERlc2NyaXB0aW9ucyA9IHsgLi4ucGx1Z2luLnNldHRpbmdzLmVudGl0eURlc2NyaXB0aW9ucyB9O1xyXG4gICAgICAgIGRlbGV0ZSB1cGRhdGVkRGVzY3JpcHRpb25zW2VudGl0eVR5cGVdO1xyXG4gICAgICAgIHBsdWdpbi5zZXR0aW5ncy5lbnRpdHlEZXNjcmlwdGlvbnMgPSB1cGRhdGVkRGVzY3JpcHRpb25zO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEFkZCBlbnRpdHkgZGVmaW5pdGlvbiAtIHNhbWUgcGF0dGVybiBhcyBFZGdlIE1hcHBpbmdzIHdpdGggcmVhc3NpZ25tZW50XHJcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPVxyXG4gICAgICAgICAgc2NoZW1hU2VydmljZS5nZXREZWZhdWx0RW50aXR5RGVzY3JpcHRpb24oZW50aXR5VHlwZSkgfHxcclxuICAgICAgICAgIGBDdXN0b20gJHtlbnRpdHlUeXBlfSBlbnRpdHkuYDtcclxuICAgICAgICBwbHVnaW4uc2V0dGluZ3MuZW50aXR5RGVzY3JpcHRpb25zID0ge1xyXG4gICAgICAgICAgLi4ucGx1Z2luLnNldHRpbmdzLmVudGl0eURlc2NyaXB0aW9ucyxcclxuICAgICAgICAgIFtlbnRpdHlUeXBlXToge1xyXG4gICAgICAgICAgICBjbGFzc05hbWU6IGVudGl0eVR5cGVcclxuICAgICAgICAgICAgICAucmVwbGFjZSgvXFxzKy9nLCBcIlwiKVxyXG4gICAgICAgICAgICAgIC5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZywgXCJcIiksXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgaXNVc2VyRGVmaW5lZDogdHJ1ZSxcclxuICAgICAgICAgICAgc291cmNlOiBcInVzZXJcIixcclxuICAgICAgICAgICAgbGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFNhdmUgc2V0dGluZ3MgLSBzYW1lIHBhdHRlcm4gYXMgRWRnZSBNYXBwaW5nc1xyXG4gICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgIGBGYWlsZWQgdG8gdG9nZ2xlIGVudGl0eSBkZWZpbml0aW9uIGZvciAke2VudGl0eVR5cGV9OmAsXHJcbiAgICAgICAgZXJyb3JcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGxvYWRBbGxEZWZhdWx0RW50aXR5RGVzY3JpcHRpb25zKFxyXG4gICAgbW9kZTogXCJyZWdlbmVyYXRlX2FsbFwiIHwgXCJza2lwX3VzZXJcIiB8IFwibmV3X29ubHlcIiA9IFwibmV3X29ubHlcIlxyXG4gICkge1xyXG4gICAgaWYgKCFwbHVnaW4/LnNldHRpbmdzKSByZXR1cm47XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgdXBkYXRlZERlc2NyaXB0aW9ucyA9IHsgLi4ucGx1Z2luLnNldHRpbmdzLmVudGl0eURlc2NyaXB0aW9ucyB9O1xyXG4gICAgICBsZXQgdXBkYXRlZCA9IDA7XHJcblxyXG4gICAgICBzY2hlbWFzLmZvckVhY2goKHNjaGVtYSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGVudGl0eVR5cGUgPSBzY2hlbWEudHlwZU5hbWU7XHJcbiAgICAgICAgY29uc3QgZXhpc3RpbmcgPSB1cGRhdGVkRGVzY3JpcHRpb25zW2VudGl0eVR5cGVdO1xyXG4gICAgICAgIGNvbnN0IGRlZmF1bHREZXNjcmlwdGlvbiA9XHJcbiAgICAgICAgICBzY2hlbWFTZXJ2aWNlLmdldERlZmF1bHRFbnRpdHlEZXNjcmlwdGlvbihlbnRpdHlUeXBlKTtcclxuXHJcbiAgICAgICAgaWYgKCFkZWZhdWx0RGVzY3JpcHRpb24pIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gQXBwbHkgZmlsdGVyIGxvZ2ljIGJhc2VkIG9uIG1vZGVcclxuICAgICAgICBpZiAobW9kZSA9PT0gXCJuZXdfb25seVwiICYmIGV4aXN0aW5nPy5kZXNjcmlwdGlvbikge1xyXG4gICAgICAgICAgcmV0dXJuOyAvLyBTa2lwIC0gYWxyZWFkeSBoYXMgZGVzY3JpcHRpb25cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG1vZGUgPT09IFwic2tpcF91c2VyXCIgJiYgZXhpc3Rpbmc/LnNvdXJjZSA9PT0gXCJ1c2VyXCIpIHtcclxuICAgICAgICAgIHJldHVybjsgLy8gU2tpcCAtIHVzZXItZGVmaW5lZFxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyAncmVnZW5lcmF0ZV9hbGwnIC0gbm8gc2tpcCBjb25kaXRpb25zXHJcblxyXG4gICAgICAgIHVwZGF0ZWREZXNjcmlwdGlvbnNbZW50aXR5VHlwZV0gPSB7XHJcbiAgICAgICAgICBjbGFzc05hbWU6IGVudGl0eVR5cGVcclxuICAgICAgICAgICAgLnJlcGxhY2UoL1xccysvZywgXCJcIilcclxuICAgICAgICAgICAgLnJlcGxhY2UoL1teYS16QS1aMC05XS9nLCBcIlwiKSxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZWZhdWx0RGVzY3JpcHRpb24sXHJcbiAgICAgICAgICBpc1VzZXJEZWZpbmVkOiBmYWxzZSxcclxuICAgICAgICAgIHNvdXJjZTogXCJkZWZhdWx0XCIsXHJcbiAgICAgICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHVwZGF0ZWQrKztcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBwbHVnaW4uc2V0dGluZ3MuZW50aXR5RGVzY3JpcHRpb25zID0gdXBkYXRlZERlc2NyaXB0aW9ucztcclxuICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cclxuICAgICAgY29uc3QgcGx1Z2luUmVmID0gcGx1Z2luO1xyXG4gICAgICBwbHVnaW4gPSBudWxsO1xyXG4gICAgICBwbHVnaW4gPSBwbHVnaW5SZWY7XHJcbiAgICAgIHBsdWdpblNldHRpbmdzID0geyAuLi5wbHVnaW4uc2V0dGluZ3MgfTtcclxuXHJcbiAgICAgIG5ldyBOb3RpY2UoYExvYWRlZCAke3VwZGF0ZWR9IGRlZmF1bHQgZW50aXR5IGRlc2NyaXB0aW9uc2ApO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBsb2FkIGFsbCBkZWZhdWx0IGVudGl0eSBkZXNjcmlwdGlvbnM6XCIsIGVycm9yKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGxvYWRBbGxEZWZhdWx0UHJvcGVydHlEZXNjcmlwdGlvbnMoXHJcbiAgICBtb2RlOiBcInJlZ2VuZXJhdGVfYWxsXCIgfCBcInNraXBfdXNlclwiIHwgXCJuZXdfb25seVwiID0gXCJuZXdfb25seVwiXHJcbiAgKSB7XHJcbiAgICBpZiAoIXBsdWdpbj8uc2V0dGluZ3MpIHJldHVybjtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB1cGRhdGVkRGVzY3JpcHRpb25zID0geyAuLi5wbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnMgfTtcclxuICAgICAgbGV0IHVwZGF0ZWQgPSAwO1xyXG5cclxuICAgICAgc2NoZW1hcy5mb3JFYWNoKChzY2hlbWEpID0+IHtcclxuICAgICAgICBjb25zdCBlbnRpdHlUeXBlID0gc2NoZW1hLnR5cGVOYW1lO1xyXG4gICAgICAgIGlmICghdXBkYXRlZERlc2NyaXB0aW9uc1tlbnRpdHlUeXBlXSkge1xyXG4gICAgICAgICAgdXBkYXRlZERlc2NyaXB0aW9uc1tlbnRpdHlUeXBlXSA9IHt9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2NoZW1hLnByb3BlcnRpZXMuZm9yRWFjaCgocHJvcCkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgcHJvcGVydHlOYW1lID0gcHJvcC5uYW1lO1xyXG4gICAgICAgICAgaWYgKHNjaGVtYVNlcnZpY2UuaGFzRGVmYXVsdFByb3BlcnR5RGVzY3JpcHRpb24ocHJvcGVydHlOYW1lKSkge1xyXG4gICAgICAgICAgICBjb25zdCBleGlzdGluZyA9IHVwZGF0ZWREZXNjcmlwdGlvbnNbZW50aXR5VHlwZV1bcHJvcGVydHlOYW1lXTtcclxuICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPVxyXG4gICAgICAgICAgICAgIHNjaGVtYVNlcnZpY2UuZ2V0RGVmYXVsdFByb3BlcnR5RGVzY3JpcHRpb24ocHJvcGVydHlOYW1lKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghZGVzY3JpcHRpb24pIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIC8vIEFwcGx5IGZpbHRlciBsb2dpYyBiYXNlZCBvbiBtb2RlXHJcbiAgICAgICAgICAgIGlmIChtb2RlID09PSBcIm5ld19vbmx5XCIgJiYgZXhpc3Rpbmc/LmRlc2NyaXB0aW9uKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuOyAvLyBTa2lwIC0gYWxyZWFkeSBoYXMgZGVzY3JpcHRpb25cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobW9kZSA9PT0gXCJza2lwX3VzZXJcIiAmJiBleGlzdGluZz8uc291cmNlID09PSBcInVzZXJcIikge1xyXG4gICAgICAgICAgICAgIHJldHVybjsgLy8gU2tpcCAtIHVzZXItZGVmaW5lZFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICdyZWdlbmVyYXRlX2FsbCcgLSBubyBza2lwIGNvbmRpdGlvbnNcclxuXHJcbiAgICAgICAgICAgIHVwZGF0ZWREZXNjcmlwdGlvbnNbZW50aXR5VHlwZV1bcHJvcGVydHlOYW1lXSA9IHtcclxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgZmllbGRUeXBlOiBcInN0clwiLFxyXG4gICAgICAgICAgICAgIGlzVXNlckRlZmluZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgIHNvdXJjZTogXCJkZWZhdWx0XCIsXHJcbiAgICAgICAgICAgICAgbGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHVwZGF0ZWQrKztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnMgPSB1cGRhdGVkRGVzY3JpcHRpb25zO1xyXG4gICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblxyXG4gICAgICBjb25zdCBwbHVnaW5SZWYgPSBwbHVnaW47XHJcbiAgICAgIHBsdWdpbiA9IG51bGw7XHJcbiAgICAgIHBsdWdpbiA9IHBsdWdpblJlZjtcclxuICAgICAgcGx1Z2luU2V0dGluZ3MgPSB7IC4uLnBsdWdpbi5zZXR0aW5ncyB9O1xyXG5cclxuICAgICAgbmV3IE5vdGljZShgTG9hZGVkICR7dXBkYXRlZH0gZGVmYXVsdCBwcm9wZXJ0eSBkZXNjcmlwdGlvbnNgKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gbG9hZCBhbGwgZGVmYXVsdCBwcm9wZXJ0eSBkZXNjcmlwdGlvbnM6XCIsIGVycm9yKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEBwdXJwb3NlOiBHZW5lcmF0ZSBBSSBlbnRpdHkgZGVzY3JpcHRpb24gdXNpbmcgU2ltcGxlTExNU2VydmljZSAobWF0Y2hlcyBcIkxvYWQgRGVmYXVsdFwiIHBhdHRlcm4pXHJcbiAgLy8gQGRlcGVuZHM6IGxsbVNlcnZpY2UsIHBsdWdpbi5zZXR0aW5nc1xyXG4gIC8vIEByZXN1bHRzOiBVcGRhdGVzIGVudGl0eSBkZXNjcmlwdGlvbiBpbiBkYXRhLmpzb24gQU5EIHRleHRhcmVhIHdpdGggTExNLWdlbmVyYXRlZCBjb250ZW50XHJcbiAgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVFbnRpdHlEZXNjKGVudGl0eU5hbWU6IHN0cmluZykge1xyXG4gICAgZ2VuZXJhdGluZ0VudGl0eURlc2MgPSBlbnRpdHlOYW1lO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZGVzY3JpcHRpb24gPVxyXG4gICAgICAgIGF3YWl0IGxsbVNlcnZpY2UuZ2VuZXJhdGVFbnRpdHlEZXNjcmlwdGlvbihlbnRpdHlOYW1lKTtcclxuXHJcbiAgICAgIC8vIFVQREFURSBURVhUQVJFQSBGSVJTVCAobGlrZSBcIkxvYWQgRGVmYXVsdFwiIGRvZXMpXHJcbiAgICAgIHRlbXBFbnRpdHlEZXNjcmlwdGlvbnNbZW50aXR5TmFtZV0gPSBkZXNjcmlwdGlvbjtcclxuICAgICAgZW50aXR5RGVzY3JpcHRpb25Tb3VyY2VbZW50aXR5TmFtZV0gPSBcImxsbVwiO1xyXG5cclxuICAgICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MuZW50aXR5RGVzY3JpcHRpb25zKSB7XHJcbiAgICAgICAgcGx1Z2luLnNldHRpbmdzLmVudGl0eURlc2NyaXB0aW9ucyA9IHt9O1xyXG4gICAgICB9XHJcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5lbnRpdHlEZXNjcmlwdGlvbnNbZW50aXR5TmFtZV0gPSB7XHJcbiAgICAgICAgY2xhc3NOYW1lOiBlbnRpdHlOYW1lLnJlcGxhY2UoL1xccysvZywgXCJcIikucmVwbGFjZSgvW15hLXpBLVowLTldL2csIFwiXCIpLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcclxuICAgICAgICBpc1VzZXJEZWZpbmVkOiB0cnVlLFxyXG4gICAgICAgIHNvdXJjZTogXCJsbG1cIixcclxuICAgICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHJcbiAgICAgIC8vIEZvcmNlIFN2ZWx0ZSByZWFjdGl2aXR5IC0gc2FtZSBhcyBcIkxvYWQgRGVmYXVsdFwiIHBhdHRlcm5cclxuICAgICAgY29uc3QgcGx1Z2luUmVmID0gcGx1Z2luO1xyXG4gICAgICBwbHVnaW4gPSBudWxsO1xyXG4gICAgICBwbHVnaW4gPSBwbHVnaW5SZWY7XHJcbiAgICAgIHBsdWdpblNldHRpbmdzID0geyAuLi5wbHVnaW4uc2V0dGluZ3MgfTtcclxuXHJcbiAgICAgIG5ldyBOb3RpY2UoXCJFbnRpdHkgZGVzY3JpcHRpb24gZ2VuZXJhdGVkXCIpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgcGx1Z2luPy5sb2dnZXI/LmVycm9yKFwiRmFpbGVkIHRvIGdlbmVyYXRlIGVudGl0eSBkZXNjcmlwdGlvblwiLCBlcnJvcik7XHJcbiAgICAgIG5ldyBOb3RpY2UoXCJGYWlsZWQgdG8gZ2VuZXJhdGUgZGVzY3JpcHRpb25cIik7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBnZW5lcmF0aW5nRW50aXR5RGVzYyA9IFwiXCI7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBAcHVycG9zZTogR2VuZXJhdGUgQUkgcHJvcGVydHkgZGVzY3JpcHRpb24gdXNpbmcgU2ltcGxlTExNU2VydmljZSAobWF0Y2hlcyBcIkxvYWQgRGVmYXVsdFwiIHBhdHRlcm4pXHJcbiAgLy8gQGRlcGVuZHM6IGxsbVNlcnZpY2UsIHBsdWdpbi5zZXR0aW5nc1xyXG4gIC8vIEByZXN1bHRzOiBVcGRhdGVzIHByb3BlcnR5IGRlc2NyaXB0aW9uIGluIGRhdGEuanNvbiBBTkQgaW5wdXQgZmllbGQgd2l0aCBMTE0tZ2VuZXJhdGVkIGNvbnRlbnRcclxuICBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZVByb3BlcnR5RGVzYyhcclxuICAgIGVudGl0eVR5cGU6IHN0cmluZyxcclxuICAgIHByb3BlcnR5TmFtZTogc3RyaW5nXHJcbiAgKSB7XHJcbiAgICBnZW5lcmF0aW5nUHJvcGVydHlEZXNjID0gYCR7ZW50aXR5VHlwZX0uJHtwcm9wZXJ0eU5hbWV9YDtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gYXdhaXQgbGxtU2VydmljZS5nZW5lcmF0ZVByb3BlcnR5RGVzY3JpcHRpb24oXHJcbiAgICAgICAgZW50aXR5VHlwZSxcclxuICAgICAgICBwcm9wZXJ0eU5hbWVcclxuICAgICAgKTtcclxuXHJcbiAgICAgIC8vIFVQREFURSBJTlBVVCBGSUVMRCBGSVJTVCAobGlrZSBcIkxvYWQgRGVmYXVsdFwiIGRvZXMpXHJcbiAgICAgIGNvbnN0IHNjaGVtYSA9IHNjaGVtYXMuZmluZCgocykgPT4gcy50eXBlTmFtZSA9PT0gZW50aXR5VHlwZSk7XHJcbiAgICAgIGlmIChzY2hlbWEpIHtcclxuICAgICAgICBjb25zdCBwcm9wSW5kZXggPSBzY2hlbWEucHJvcGVydGllcy5maW5kSW5kZXgoXHJcbiAgICAgICAgICAocCkgPT4gcC5uYW1lID09PSBwcm9wZXJ0eU5hbWVcclxuICAgICAgICApO1xyXG4gICAgICAgIGlmIChwcm9wSW5kZXggIT09IC0xKSB7XHJcbiAgICAgICAgICB1cGRhdGVQcm9wZXJ0eShcclxuICAgICAgICAgICAgc2NoZW1hcy5pbmRleE9mKHNjaGVtYSksXHJcbiAgICAgICAgICAgIHByb3BJbmRleCxcclxuICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFRoZW4gc2F2ZSB0byBwbHVnaW4gc2V0dGluZ3NcclxuICAgICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnMpIHtcclxuICAgICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnMgPSB7fTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIXBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9uc1tlbnRpdHlUeXBlXSkge1xyXG4gICAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9uc1tlbnRpdHlUeXBlXSA9IHt9O1xyXG4gICAgICB9XHJcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9uc1tlbnRpdHlUeXBlXVtwcm9wZXJ0eU5hbWVdID0ge1xyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcclxuICAgICAgICBmaWVsZFR5cGU6IFwic3RyXCIsXHJcbiAgICAgICAgaXNVc2VyRGVmaW5lZDogdHJ1ZSxcclxuICAgICAgICBzb3VyY2U6IFwibGxtXCIsXHJcbiAgICAgICAgbGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblxyXG4gICAgICAvLyBGb3JjZSBTdmVsdGUgcmVhY3Rpdml0eSAtIHNhbWUgYXMgXCJMb2FkIERlZmF1bHRcIiBwYXR0ZXJuXHJcbiAgICAgIGNvbnN0IHBsdWdpblJlZiA9IHBsdWdpbjtcclxuICAgICAgcGx1Z2luID0gbnVsbDtcclxuICAgICAgcGx1Z2luID0gcGx1Z2luUmVmO1xyXG4gICAgICBwbHVnaW5TZXR0aW5ncyA9IHsgLi4ucGx1Z2luLnNldHRpbmdzIH07XHJcblxyXG4gICAgICBuZXcgTm90aWNlKFwiUHJvcGVydHkgZGVzY3JpcHRpb24gZ2VuZXJhdGVkXCIpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgcGx1Z2luPy5sb2dnZXI/LmVycm9yKFwiRmFpbGVkIHRvIGdlbmVyYXRlIHByb3BlcnR5IGRlc2NyaXB0aW9uXCIsIGVycm9yKTtcclxuICAgICAgbmV3IE5vdGljZShcIkZhaWxlZCB0byBnZW5lcmF0ZSBkZXNjcmlwdGlvblwiKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIGdlbmVyYXRpbmdQcm9wZXJ0eURlc2MgPSBcIlwiO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQHB1cnBvc2U6IEdlbmVyYXRlIGVkZ2UgcHJvcGVydHkgZGVzY3JpcHRpb24gdXNpbmcgU2ltcGxlTExNU2VydmljZVxyXG4gIC8vIEBkZXBlbmRzOiBsbG1TZXJ2aWNlLCBwbHVnaW4uc2V0dGluZ3NcclxuICAvLyBAcmVzdWx0czogVXBkYXRlcyBlZGdlIHByb3BlcnR5IGRlc2NyaXB0aW9uIHdpdGggTExNLWdlbmVyYXRlZCBjb250ZW50XHJcbiAgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVFZGdlUHJvcGVydHlEZXNjKFxyXG4gICAgZWRnZVR5cGVOYW1lOiBzdHJpbmcsXHJcbiAgICBwcm9wZXJ0eU5hbWU6IHN0cmluZ1xyXG4gICkge1xyXG4gICAgZ2VuZXJhdGluZ0VkZ2VQcm9wZXJ0eURlc2MgPSBgJHtlZGdlVHlwZU5hbWV9LiR7cHJvcGVydHlOYW1lfWA7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGF3YWl0IGxsbVNlcnZpY2UuZ2VuZXJhdGVQcm9wZXJ0eURlc2NyaXB0aW9uKFxyXG4gICAgICAgIGVkZ2VUeXBlTmFtZSxcclxuICAgICAgICBwcm9wZXJ0eU5hbWVcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlmIChcclxuICAgICAgICAhcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlcz8uW2VkZ2VUeXBlTmFtZV0/LnByb3BlcnRpZXM/Lltwcm9wZXJ0eU5hbWVdXHJcbiAgICAgICkge1xyXG4gICAgICAgIG5ldyBOb3RpY2UoXCJFZGdlIHByb3BlcnR5IG5vdCBmb3VuZFwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZXNbZWRnZVR5cGVOYW1lXS5wcm9wZXJ0aWVzW1xyXG4gICAgICAgIHByb3BlcnR5TmFtZVxyXG4gICAgICBdLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XHJcblxyXG4gICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblxyXG4gICAgICAvLyBGb3JjZSBTdmVsdGUgcmVhY3Rpdml0eVxyXG4gICAgICBjb25zdCBwbHVnaW5SZWYgPSBwbHVnaW47XHJcbiAgICAgIHBsdWdpbiA9IG51bGw7XHJcbiAgICAgIHBsdWdpbiA9IHBsdWdpblJlZjtcclxuICAgICAgcGx1Z2luU2V0dGluZ3MgPSB7IC4uLnBsdWdpbi5zZXR0aW5ncyB9O1xyXG5cclxuICAgICAgbmV3IE5vdGljZShcIkVkZ2UgcHJvcGVydHkgZGVzY3JpcHRpb24gZ2VuZXJhdGVkXCIpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgcGx1Z2luPy5sb2dnZXI/LmVycm9yKFxyXG4gICAgICAgIFwiRmFpbGVkIHRvIGdlbmVyYXRlIGVkZ2UgcHJvcGVydHkgZGVzY3JpcHRpb25cIixcclxuICAgICAgICBlcnJvclxyXG4gICAgICApO1xyXG4gICAgICBuZXcgTm90aWNlKFwiRmFpbGVkIHRvIGdlbmVyYXRlIGRlc2NyaXB0aW9uXCIpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgZ2VuZXJhdGluZ0VkZ2VQcm9wZXJ0eURlc2MgPSBcIlwiO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQHB1cnBvc2U6IEdlbmVyYXRlIGFsbCBlZGdlIHByb3BlcnR5IGRlc2NyaXB0aW9uc1xyXG4gIC8vIEBkZXBlbmRzOiBsbG1TZXJ2aWNlLCBwbHVnaW4uc2V0dGluZ3NcclxuICAvLyBAcmVzdWx0czogVXBkYXRlcyBhbGwgZWRnZSBwcm9wZXJ0eSBkZXNjcmlwdGlvbnMgd2l0aCBMTE0tZ2VuZXJhdGVkIGNvbnRlbnRcclxuICBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUFsbEVkZ2VQcm9wZXJ0eURlc2NyaXB0aW9ucygpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGlzR2VuZXJhdGluZ09udG9sb2d5ID0gdHJ1ZTtcclxuICAgICAgbGV0IHVwZGF0ZWQgPSAwO1xyXG5cclxuICAgICAgY29uc3QgdXBkYXRlZEVkZ2VUeXBlcyA9IHsgLi4ucGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlcyB9O1xyXG5cclxuICAgICAgZm9yIChjb25zdCBlZGdlVHlwZU5hbWUgb2YgT2JqZWN0LmtleXModXBkYXRlZEVkZ2VUeXBlcyB8fCB7fSkpIHtcclxuICAgICAgICBjb25zdCBlZGdlVHlwZSA9IHVwZGF0ZWRFZGdlVHlwZXNbZWRnZVR5cGVOYW1lXTtcclxuICAgICAgICBpZiAoZWRnZVR5cGUucHJvcGVydGllcykge1xyXG4gICAgICAgICAgY29uc3QgdXBkYXRlZFByb3BlcnRpZXMgPSB7IC4uLmVkZ2VUeXBlLnByb3BlcnRpZXMgfTtcclxuICAgICAgICAgIGZvciAoY29uc3QgcHJvcGVydHlOYW1lIG9mIE9iamVjdC5rZXlzKHVwZGF0ZWRQcm9wZXJ0aWVzKSkge1xyXG4gICAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGF3YWl0IGxsbVNlcnZpY2UuZ2VuZXJhdGVQcm9wZXJ0eURlc2NyaXB0aW9uKFxyXG4gICAgICAgICAgICAgIGVkZ2VUeXBlTmFtZSxcclxuICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWVcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgdXBkYXRlZFByb3BlcnRpZXNbcHJvcGVydHlOYW1lXSA9IHtcclxuICAgICAgICAgICAgICAuLi51cGRhdGVkUHJvcGVydGllc1twcm9wZXJ0eU5hbWVdLFxyXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdXBkYXRlZCsrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdXBkYXRlZEVkZ2VUeXBlc1tlZGdlVHlwZU5hbWVdID0ge1xyXG4gICAgICAgICAgICAuLi5lZGdlVHlwZSxcclxuICAgICAgICAgICAgcHJvcGVydGllczogdXBkYXRlZFByb3BlcnRpZXMsXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlcyA9IHVwZGF0ZWRFZGdlVHlwZXM7XHJcbiAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHJcbiAgICAgIGNvbnN0IHBsdWdpblJlZiA9IHBsdWdpbjtcclxuICAgICAgcGx1Z2luID0gbnVsbDtcclxuICAgICAgcGx1Z2luID0gcGx1Z2luUmVmO1xyXG4gICAgICBwbHVnaW5TZXR0aW5ncyA9IHsgLi4ucGx1Z2luLnNldHRpbmdzIH07XHJcblxyXG4gICAgICBuZXcgTm90aWNlKGBHZW5lcmF0ZWQgJHt1cGRhdGVkfSBlZGdlIHByb3BlcnR5IGRlc2NyaXB0aW9uc2ApO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgcGx1Z2luPy5sb2dnZXI/LmVycm9yKFxyXG4gICAgICAgIFwiRmFpbGVkIHRvIGdlbmVyYXRlIGVkZ2UgcHJvcGVydHkgZGVzY3JpcHRpb25zXCIsXHJcbiAgICAgICAgZXJyb3JcclxuICAgICAgKTtcclxuICAgICAgbmV3IE5vdGljZShcIkZhaWxlZCB0byBnZW5lcmF0ZSBlZGdlIHByb3BlcnR5IGRlc2NyaXB0aW9uc1wiKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIGlzR2VuZXJhdGluZ09udG9sb2d5ID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBvcGVuR2VuZXJhdGlvbk1vZGFsKFxyXG4gICAgdHlwZTpcclxuICAgICAgfCBcImVudGl0aWVzXCJcclxuICAgICAgfCBcInByb3BlcnRpZXNcIlxyXG4gICAgICB8IFwiY29tcGxldGVcIlxyXG4gICAgICB8IFwibG9hZF9kZWZhdWx0X2VudGl0aWVzXCJcclxuICAgICAgfCBcImxvYWRfZGVmYXVsdF9wcm9wZXJ0aWVzXCJcclxuICApIHtcclxuICAgIG1vZGFsR2VuZXJhdGlvblR5cGUgPSB0eXBlO1xyXG4gICAgc2hvd0dlbmVyYXRpb25Nb2RhbCA9IHRydWU7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjbG9zZUdlbmVyYXRpb25Nb2RhbCgpIHtcclxuICAgIHNob3dHZW5lcmF0aW9uTW9kYWwgPSBmYWxzZTtcclxuICAgIG1vZGFsR2VuZXJhdGlvblR5cGUgPSBudWxsO1xyXG4gICAgc2VsZWN0ZWRHZW5lcmF0aW9uTW9kZSA9IFwic2tpcF91c2VyXCI7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBjb25maXJtR2VuZXJhdGlvbigpIHtcclxuICAgIHNob3dHZW5lcmF0aW9uTW9kYWwgPSBmYWxzZTtcclxuXHJcbiAgICBpZiAobW9kYWxHZW5lcmF0aW9uVHlwZSA9PT0gXCJlbnRpdGllc1wiKSB7XHJcbiAgICAgIGF3YWl0IGdlbmVyYXRlQWxsRW50aXR5RGVzY3JpcHRpb25zKHNlbGVjdGVkR2VuZXJhdGlvbk1vZGUpO1xyXG4gICAgfSBlbHNlIGlmIChtb2RhbEdlbmVyYXRpb25UeXBlID09PSBcInByb3BlcnRpZXNcIikge1xyXG4gICAgICBhd2FpdCBnZW5lcmF0ZUFsbFByb3BlcnR5RGVzY3JpcHRpb25zKHNlbGVjdGVkR2VuZXJhdGlvbk1vZGUpO1xyXG4gICAgfSBlbHNlIGlmIChtb2RhbEdlbmVyYXRpb25UeXBlID09PSBcImNvbXBsZXRlXCIpIHtcclxuICAgICAgYXdhaXQgZ2VuZXJhdGVDb21wbGV0ZU9udG9sb2d5KCk7XHJcbiAgICB9IGVsc2UgaWYgKG1vZGFsR2VuZXJhdGlvblR5cGUgPT09IFwibG9hZF9kZWZhdWx0X2VudGl0aWVzXCIpIHtcclxuICAgICAgYXdhaXQgbG9hZEFsbERlZmF1bHRFbnRpdHlEZXNjcmlwdGlvbnMoc2VsZWN0ZWRHZW5lcmF0aW9uTW9kZSk7XHJcbiAgICB9IGVsc2UgaWYgKG1vZGFsR2VuZXJhdGlvblR5cGUgPT09IFwibG9hZF9kZWZhdWx0X3Byb3BlcnRpZXNcIikge1xyXG4gICAgICBhd2FpdCBsb2FkQWxsRGVmYXVsdFByb3BlcnR5RGVzY3JpcHRpb25zKHNlbGVjdGVkR2VuZXJhdGlvbk1vZGUpO1xyXG4gICAgfVxyXG5cclxuICAgIG1vZGFsR2VuZXJhdGlvblR5cGUgPSBudWxsO1xyXG4gICAgc2VsZWN0ZWRHZW5lcmF0aW9uTW9kZSA9IFwic2tpcF91c2VyXCI7XHJcbiAgfVxyXG5cclxuICAvLyBAcHVycG9zZTogR2VuZXJhdGUgYWxsIGVudGl0eSBkZXNjcmlwdGlvbnMgdXNpbmcgU2ltcGxlTExNU2VydmljZSB3aXRoIG1vZGFsIG9wdGlvbnNcclxuICAvLyBAZGVwZW5kczogbGxtU2VydmljZSwgc2NoZW1hc1xyXG4gIC8vIEByZXN1bHRzOiBVcGRhdGVzIGVudGl0eSBkZXNjcmlwdGlvbnMgaW4gZGF0YS5qc29uIGJhc2VkIG9uIHNlbGVjdGVkIG1vZGVcclxuICBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUFsbEVudGl0eURlc2NyaXB0aW9ucyhcclxuICAgIG1vZGU6IFwicmVnZW5lcmF0ZV9hbGxcIiB8IFwic2tpcF91c2VyXCIgfCBcIm5ld19vbmx5XCIgPSBcInNraXBfdXNlclwiXHJcbiAgKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBpc0dlbmVyYXRpbmdPbnRvbG9neSA9IHRydWU7XHJcbiAgICAgIGxldCB1cGRhdGVkID0gMDtcclxuXHJcbiAgICAgIGNvbnN0IHVwZGF0ZWREZXNjcmlwdGlvbnMgPSB7IC4uLnBsdWdpbi5zZXR0aW5ncy5lbnRpdHlEZXNjcmlwdGlvbnMgfTtcclxuXHJcbiAgICAgIGZvciAoY29uc3Qgc2NoZW1hIG9mIHNjaGVtYXMpIHtcclxuICAgICAgICBjb25zdCBleGlzdGluZyA9IHVwZGF0ZWREZXNjcmlwdGlvbnNbc2NoZW1hLnR5cGVOYW1lXTtcclxuXHJcbiAgICAgICAgLy8gQXBwbHkgZmlsdGVyIGxvZ2ljIGJhc2VkIG9uIG1vZGVcclxuICAgICAgICBpZiAobW9kZSA9PT0gXCJuZXdfb25seVwiICYmIGV4aXN0aW5nPy5kZXNjcmlwdGlvbikge1xyXG4gICAgICAgICAgY29udGludWU7IC8vIFNraXAgLSBhbHJlYWR5IGhhcyBkZXNjcmlwdGlvblxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobW9kZSA9PT0gXCJza2lwX3VzZXJcIiAmJiBleGlzdGluZz8uc291cmNlID09PSBcInVzZXJcIikge1xyXG4gICAgICAgICAgY29udGludWU7IC8vIFNraXAgLSB1c2VyLWRlZmluZWRcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gJ3JlZ2VuZXJhdGVfYWxsJyAtIG5vIHNraXAgY29uZGl0aW9uc1xyXG5cclxuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGF3YWl0IGxsbVNlcnZpY2UuZ2VuZXJhdGVFbnRpdHlEZXNjcmlwdGlvbihcclxuICAgICAgICAgIHNjaGVtYS50eXBlTmFtZVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHVwZGF0ZWREZXNjcmlwdGlvbnNbc2NoZW1hLnR5cGVOYW1lXSA9IHtcclxuICAgICAgICAgIGNsYXNzTmFtZTogc2NoZW1hLnR5cGVOYW1lXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXHMrL2csIFwiXCIpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZywgXCJcIiksXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICBpc1VzZXJEZWZpbmVkOiB0cnVlLFxyXG4gICAgICAgICAgc291cmNlOiBcImxsbVwiLFxyXG4gICAgICAgICAgbGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgfTtcclxuICAgICAgICB1cGRhdGVkKys7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5lbnRpdHlEZXNjcmlwdGlvbnMgPSB1cGRhdGVkRGVzY3JpcHRpb25zO1xyXG4gICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblxyXG4gICAgICBjb25zdCBwbHVnaW5SZWYgPSBwbHVnaW47XHJcbiAgICAgIHBsdWdpbiA9IG51bGw7XHJcbiAgICAgIHBsdWdpbiA9IHBsdWdpblJlZjtcclxuICAgICAgcGx1Z2luU2V0dGluZ3MgPSB7IC4uLnBsdWdpbi5zZXR0aW5ncyB9O1xyXG5cclxuICAgICAgbmV3IE5vdGljZShgR2VuZXJhdGVkICR7dXBkYXRlZH0gZW50aXR5IGRlc2NyaXB0aW9uc2ApO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgcGx1Z2luPy5sb2dnZXI/LmVycm9yKFwiRmFpbGVkIHRvIGdlbmVyYXRlIGVudGl0eSBkZXNjcmlwdGlvbnNcIiwgZXJyb3IpO1xyXG4gICAgICBuZXcgTm90aWNlKFwiRmFpbGVkIHRvIGdlbmVyYXRlIGVudGl0eSBkZXNjcmlwdGlvbnNcIik7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBpc0dlbmVyYXRpbmdPbnRvbG9neSA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQHB1cnBvc2U6IEdlbmVyYXRlIGFsbCBwcm9wZXJ0eSBkZXNjcmlwdGlvbnMgdXNpbmcgU2ltcGxlTExNU2VydmljZSB3aXRoIG1vZGFsIG9wdGlvbnNcclxuICAvLyBAZGVwZW5kczogbGxtU2VydmljZSwgc2NoZW1hc1xyXG4gIC8vIEByZXN1bHRzOiBVcGRhdGVzIHByb3BlcnR5IGRlc2NyaXB0aW9ucyBpbiBkYXRhLmpzb24gYmFzZWQgb24gc2VsZWN0ZWQgbW9kZVxyXG4gIGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlQWxsUHJvcGVydHlEZXNjcmlwdGlvbnMoXHJcbiAgICBtb2RlOiBcInJlZ2VuZXJhdGVfYWxsXCIgfCBcInNraXBfdXNlclwiIHwgXCJuZXdfb25seVwiID0gXCJza2lwX3VzZXJcIlxyXG4gICkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgaXNHZW5lcmF0aW5nT250b2xvZ3kgPSB0cnVlO1xyXG4gICAgICBsZXQgdXBkYXRlZCA9IDA7XHJcblxyXG4gICAgICAvLyBHZXQgb25seSBFTkFCTEVEIGVudGl0aWVzXHJcbiAgICAgIGNvbnN0IGVuYWJsZWRFbnRpdGllcyA9IE9iamVjdC5rZXlzKFxyXG4gICAgICAgIHBsdWdpbi5zZXR0aW5ncy5lbnRpdHlEZXNjcmlwdGlvbnMgfHwge31cclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlmIChlbmFibGVkRW50aXRpZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgbmV3IE5vdGljZShcIk5vIGVudGl0aWVzIGFyZSBlbmFibGVkLiBFbmFibGUgZW50aXRpZXMgZmlyc3QuXCIpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgdXBkYXRlZERlc2NyaXB0aW9ucyA9IHsgLi4ucGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zIH07XHJcblxyXG4gICAgICBmb3IgKGNvbnN0IHNjaGVtYSBvZiBzY2hlbWFzKSB7XHJcbiAgICAgICAgLy8gU2tpcCBpZiB0aGlzIGVudGl0eSBpcyBub3QgZW5hYmxlZFxyXG4gICAgICAgIGlmICghZW5hYmxlZEVudGl0aWVzLmluY2x1ZGVzKHNjaGVtYS50eXBlTmFtZSkpIHtcclxuICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF1cGRhdGVkRGVzY3JpcHRpb25zW3NjaGVtYS50eXBlTmFtZV0pIHtcclxuICAgICAgICAgIHVwZGF0ZWREZXNjcmlwdGlvbnNbc2NoZW1hLnR5cGVOYW1lXSA9IHt9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBwcm9wIG9mIHNjaGVtYS5wcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICBpZiAoIXByb3AuaXNQcm90ZWN0ZWQpIHtcclxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmcgPSB1cGRhdGVkRGVzY3JpcHRpb25zW3NjaGVtYS50eXBlTmFtZV0/Lltwcm9wLm5hbWVdO1xyXG5cclxuICAgICAgICAgICAgLy8gQXBwbHkgZmlsdGVyIGxvZ2ljIGJhc2VkIG9uIG1vZGVcclxuICAgICAgICAgICAgaWYgKG1vZGUgPT09IFwibmV3X29ubHlcIiAmJiBleGlzdGluZz8uZGVzY3JpcHRpb24pIHtcclxuICAgICAgICAgICAgICBjb250aW51ZTsgLy8gU2tpcCAtIGFscmVhZHkgaGFzIGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG1vZGUgPT09IFwic2tpcF91c2VyXCIgJiYgZXhpc3Rpbmc/LnNvdXJjZSA9PT0gXCJ1c2VyXCIpIHtcclxuICAgICAgICAgICAgICBjb250aW51ZTsgLy8gU2tpcCAtIHVzZXItZGVmaW5lZFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICdyZWdlbmVyYXRlX2FsbCcgLSBubyBza2lwIGNvbmRpdGlvbnNcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gYXdhaXQgbGxtU2VydmljZS5nZW5lcmF0ZVByb3BlcnR5RGVzY3JpcHRpb24oXHJcbiAgICAgICAgICAgICAgc2NoZW1hLnR5cGVOYW1lLFxyXG4gICAgICAgICAgICAgIHByb3AubmFtZVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgdXBkYXRlZERlc2NyaXB0aW9uc1tzY2hlbWEudHlwZU5hbWVdW3Byb3AubmFtZV0gPSB7XHJcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgIGZpZWxkVHlwZTogXCJzdHJcIixcclxuICAgICAgICAgICAgICBpc1VzZXJEZWZpbmVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgIHNvdXJjZTogXCJsbG1cIixcclxuICAgICAgICAgICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFsc28gdXBkYXRlIFVJIGZpZWxkXHJcbiAgICAgICAgICAgIGNvbnN0IHByb3BJbmRleCA9IHNjaGVtYS5wcm9wZXJ0aWVzLmZpbmRJbmRleChcclxuICAgICAgICAgICAgICAocCkgPT4gcC5uYW1lID09PSBwcm9wLm5hbWVcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgaWYgKHByb3BJbmRleCAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICB1cGRhdGVQcm9wZXJ0eShcclxuICAgICAgICAgICAgICAgIHNjaGVtYXMuaW5kZXhPZihzY2hlbWEpLFxyXG4gICAgICAgICAgICAgICAgcHJvcEluZGV4LFxyXG4gICAgICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb25cclxuICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB1cGRhdGVkKys7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnMgPSB1cGRhdGVkRGVzY3JpcHRpb25zO1xyXG4gICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblxyXG4gICAgICBjb25zdCBwbHVnaW5SZWYgPSBwbHVnaW47XHJcbiAgICAgIHBsdWdpbiA9IG51bGw7XHJcbiAgICAgIHBsdWdpbiA9IHBsdWdpblJlZjtcclxuICAgICAgcGx1Z2luU2V0dGluZ3MgPSB7IC4uLnBsdWdpbi5zZXR0aW5ncyB9O1xyXG5cclxuICAgICAgbmV3IE5vdGljZShcclxuICAgICAgICBgR2VuZXJhdGVkICR7dXBkYXRlZH0gcHJvcGVydHkgZGVzY3JpcHRpb25zIGFjcm9zcyAke2VuYWJsZWRFbnRpdGllcy5sZW5ndGh9IGVuYWJsZWQgZW50aXRpZXNgXHJcbiAgICAgICk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBwbHVnaW4/LmxvZ2dlcj8uZXJyb3IoXCJGYWlsZWQgdG8gZ2VuZXJhdGUgcHJvcGVydHkgZGVzY3JpcHRpb25zXCIsIGVycm9yKTtcclxuICAgICAgbmV3IE5vdGljZShcIkZhaWxlZCB0byBnZW5lcmF0ZSBwcm9wZXJ0eSBkZXNjcmlwdGlvbnNcIik7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBpc0dlbmVyYXRpbmdPbnRvbG9neSA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQHB1cnBvc2U6IEdlbmVyYXRlIGNvbXBsZXRlIG9udG9sb2d5IHVzaW5nIFNpbXBsZUxMTVNlcnZpY2VcclxuICAvLyBAZGVwZW5kczogbGxtU2VydmljZSwgcGx1Z2luLnNldHRpbmdzLCBhbGwgZW50aXR5IHR5cGVzXHJcbiAgLy8gQHJlc3VsdHM6IFVwZGF0ZXMgYWxsIG9udG9sb2d5IGNvbXBvbmVudHMgaW4gZGF0YS5qc29uIHdpdGggTExNLWdlbmVyYXRlZCBjb250ZW50XHJcbiAgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVDb21wbGV0ZU9udG9sb2d5KCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgaXNHZW5lcmF0aW5nT250b2xvZ3kgPSB0cnVlO1xyXG4gICAgICBvbnRvbG9neVByb2dyZXNzID0geyBjdXJyZW50OiAwLCB0b3RhbDogMSwgc3RlcDogXCJJbml0aWFsaXppbmcuLi5cIiB9O1xyXG5cclxuICAgICAgY29uc3QgZW50aXRpZXMgPSBPYmplY3Qua2V5cyhwbHVnaW5TZXR0aW5ncy5lbnRpdHlEZXNjcmlwdGlvbnMgfHwge30pO1xyXG5cclxuICAgICAgaWYgKGVudGl0aWVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIG5ldyBOb3RpY2UoXCJObyBlbnRpdGllcyBmb3VuZC4gRGVmaW5lIGVudGl0aWVzIGZpcnN0LlwiKTtcclxuICAgICAgICBpc0dlbmVyYXRpbmdPbnRvbG9neSA9IGZhbHNlO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgb250b2xvZ3lQcm9ncmVzcyA9IHtcclxuICAgICAgICBjdXJyZW50OiAxLFxyXG4gICAgICAgIHRvdGFsOiA1LFxyXG4gICAgICAgIHN0ZXA6IFwiR2VuZXJhdGluZyBvbnRvbG9neS4uLlwiLFxyXG4gICAgICB9O1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBsbG1TZXJ2aWNlLmdlbmVyYXRlQ29tcGxldGVPbnRvbG9neShlbnRpdGllcyk7XHJcblxyXG4gICAgICBsZXQgdXBkYXRlZCA9IDA7XHJcblxyXG4gICAgICBjb25zdCB1cGRhdGVkRW50aXR5RGVzY3JpcHRpb25zID0ge1xyXG4gICAgICAgIC4uLnBsdWdpbi5zZXR0aW5ncy5lbnRpdHlEZXNjcmlwdGlvbnMsXHJcbiAgICAgIH07XHJcbiAgICAgIGNvbnN0IHVwZGF0ZWRQcm9wZXJ0eURlc2NyaXB0aW9ucyA9IHtcclxuICAgICAgICAuLi5wbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnMsXHJcbiAgICAgIH07XHJcbiAgICAgIGNvbnN0IHVwZGF0ZWRFZGdlVHlwZXMgPSB7IC4uLnBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZXMgfTtcclxuICAgICAgY29uc3QgdXBkYXRlZEVkZ2VUeXBlTWFwID0gWy4uLihwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVNYXAgfHwgW10pXTtcclxuXHJcbiAgICAgIG9udG9sb2d5UHJvZ3Jlc3MgPSB7XHJcbiAgICAgICAgY3VycmVudDogMixcclxuICAgICAgICB0b3RhbDogNSxcclxuICAgICAgICBzdGVwOiBcIlByb2Nlc3NpbmcgZW50aXRpZXMuLi5cIixcclxuICAgICAgfTtcclxuICAgICAgZm9yIChjb25zdCBbZW50aXR5TmFtZSwgZW50aXR5RGF0YV0gb2YgT2JqZWN0LmVudHJpZXMocmVzdWx0LmVudGl0aWVzKSkge1xyXG4gICAgICAgIGlmICghdXBkYXRlZEVudGl0eURlc2NyaXB0aW9uc1tlbnRpdHlOYW1lXSkge1xyXG4gICAgICAgICAgdXBkYXRlZEVudGl0eURlc2NyaXB0aW9uc1tlbnRpdHlOYW1lXSA9IHtcclxuICAgICAgICAgICAgY2xhc3NOYW1lOiBlbnRpdHlOYW1lLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJcIixcclxuICAgICAgICAgICAgaXNVc2VyRGVmaW5lZDogZmFsc2UsXHJcbiAgICAgICAgICAgIHNvdXJjZTogXCJsbG1cIixcclxuICAgICAgICAgICAgbGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB1cGRhdGVkRW50aXR5RGVzY3JpcHRpb25zW2VudGl0eU5hbWVdID0ge1xyXG4gICAgICAgICAgLi4udXBkYXRlZEVudGl0eURlc2NyaXB0aW9uc1tlbnRpdHlOYW1lXSxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBlbnRpdHlEYXRhLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgc291cmNlOiBcImxsbVwiLFxyXG4gICAgICAgICAgbGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgfTtcclxuICAgICAgICB1cGRhdGVkKys7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG9udG9sb2d5UHJvZ3Jlc3MgPSB7XHJcbiAgICAgICAgY3VycmVudDogMyxcclxuICAgICAgICB0b3RhbDogNSxcclxuICAgICAgICBzdGVwOiBcIlByb2Nlc3NpbmcgcHJvcGVydGllcy4uLlwiLFxyXG4gICAgICB9O1xyXG4gICAgICBmb3IgKGNvbnN0IFtlbnRpdHlUeXBlLCBwcm9wZXJ0aWVzXSBvZiBPYmplY3QuZW50cmllcyhcclxuICAgICAgICByZXN1bHQucHJvcGVydGllc1xyXG4gICAgICApKSB7XHJcbiAgICAgICAgaWYgKCF1cGRhdGVkUHJvcGVydHlEZXNjcmlwdGlvbnNbZW50aXR5VHlwZV0pIHtcclxuICAgICAgICAgIHVwZGF0ZWRQcm9wZXJ0eURlc2NyaXB0aW9uc1tlbnRpdHlUeXBlXSA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGNvbnN0IFtwcm9wZXJ0eU5hbWUsIHByb3BEYXRhXSBvZiBPYmplY3QuZW50cmllcyhcclxuICAgICAgICAgIHByb3BlcnRpZXMgYXMgUmVjb3JkPFxyXG4gICAgICAgICAgICBzdHJpbmcsXHJcbiAgICAgICAgICAgIHsgZGVzY3JpcHRpb246IHN0cmluZzsgZmllbGRUeXBlOiBzdHJpbmc7IGNvbmZpZGVuY2U6IG51bWJlciB9XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgKSkge1xyXG4gICAgICAgICAgdXBkYXRlZFByb3BlcnR5RGVzY3JpcHRpb25zW2VudGl0eVR5cGVdW3Byb3BlcnR5TmFtZV0gPSB7XHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBwcm9wRGF0YS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgZmllbGRUeXBlOiBwcm9wRGF0YS5maWVsZFR5cGUgfHwgXCJzdHJcIixcclxuICAgICAgICAgICAgaXNVc2VyRGVmaW5lZDogZmFsc2UsXHJcbiAgICAgICAgICAgIHNvdXJjZTogXCJsbG1cIixcclxuICAgICAgICAgICAgbGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgdXBkYXRlZCsrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgb250b2xvZ3lQcm9ncmVzcyA9IHtcclxuICAgICAgICBjdXJyZW50OiA0LFxyXG4gICAgICAgIHRvdGFsOiA1LFxyXG4gICAgICAgIHN0ZXA6IFwiUHJvY2Vzc2luZyBlZGdlIHR5cGVzLi4uXCIsXHJcbiAgICAgIH07XHJcbiAgICAgIGZvciAoY29uc3QgW2VkZ2VUeXBlTmFtZSwgZWRnZVR5cGVEYXRhXSBvZiBPYmplY3QuZW50cmllcyhcclxuICAgICAgICByZXN1bHQuZWRnZVR5cGVzXHJcbiAgICAgICkpIHtcclxuICAgICAgICBpZiAoIXVwZGF0ZWRFZGdlVHlwZXNbZWRnZVR5cGVOYW1lXSkge1xyXG4gICAgICAgICAgdXBkYXRlZEVkZ2VUeXBlc1tlZGdlVHlwZU5hbWVdID0ge1xyXG4gICAgICAgICAgICBjbGFzc05hbWU6IGVkZ2VUeXBlTmFtZSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGVkZ2VUeXBlRGF0YS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgcHJvcGVydGllczoge30sXHJcbiAgICAgICAgICAgIGlzVXNlckRlZmluZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBzb3VyY2U6IFwibGxtXCIsXHJcbiAgICAgICAgICAgIGxhc3RNb2RpZmllZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHVwZGF0ZWQrKztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG9udG9sb2d5UHJvZ3Jlc3MgPSB7XHJcbiAgICAgICAgY3VycmVudDogNSxcclxuICAgICAgICB0b3RhbDogNSxcclxuICAgICAgICBzdGVwOiBcIlByb2Nlc3NpbmcgZWRnZSBtYXBwaW5ncy4uLlwiLFxyXG4gICAgICB9O1xyXG4gICAgICBmb3IgKGNvbnN0IG1hcHBpbmcgb2YgcmVzdWx0Lm1hcHBpbmdzKSB7XHJcbiAgICAgICAgY29uc3QgZXhpc3RzID0gdXBkYXRlZEVkZ2VUeXBlTWFwLmZpbmQoXHJcbiAgICAgICAgICAobTogRWRnZVR5cGVNYXBwaW5nKSA9PlxyXG4gICAgICAgICAgICBtLnNvdXJjZUVudGl0eSA9PT0gbWFwcGluZy5zb3VyY2UgJiZcclxuICAgICAgICAgICAgbS50YXJnZXRFbnRpdHkgPT09IG1hcHBpbmcudGFyZ2V0XHJcbiAgICAgICAgKTtcclxuICAgICAgICBpZiAoIWV4aXN0cykge1xyXG4gICAgICAgICAgdXBkYXRlZEVkZ2VUeXBlTWFwLnB1c2goe1xyXG4gICAgICAgICAgICBzb3VyY2VFbnRpdHk6IG1hcHBpbmcuc291cmNlLFxyXG4gICAgICAgICAgICB0YXJnZXRFbnRpdHk6IG1hcHBpbmcudGFyZ2V0LFxyXG4gICAgICAgICAgICBhbGxvd2VkRWRnZXM6IG1hcHBpbmcuZWRnZVR5cGVzLFxyXG4gICAgICAgICAgICBpc1VzZXJEZWZpbmVkOiBmYWxzZSxcclxuICAgICAgICAgICAgc291cmNlOiBcImxsbVwiLFxyXG4gICAgICAgICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgdXBkYXRlZCsrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcGx1Z2luLnNldHRpbmdzLmVudGl0eURlc2NyaXB0aW9ucyA9IHVwZGF0ZWRFbnRpdHlEZXNjcmlwdGlvbnM7XHJcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9ucyA9IHVwZGF0ZWRQcm9wZXJ0eURlc2NyaXB0aW9ucztcclxuICAgICAgcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlcyA9IHVwZGF0ZWRFZGdlVHlwZXM7XHJcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZU1hcCA9IHVwZGF0ZWRFZGdlVHlwZU1hcDtcclxuXHJcbiAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHJcbiAgICAgIGNvbnN0IHBsdWdpblJlZiA9IHBsdWdpbjtcclxuICAgICAgcGx1Z2luID0gbnVsbDtcclxuICAgICAgcGx1Z2luID0gcGx1Z2luUmVmO1xyXG4gICAgICBwbHVnaW5TZXR0aW5ncyA9IHsgLi4ucGx1Z2luLnNldHRpbmdzIH07XHJcblxyXG4gICAgICBuZXcgTm90aWNlKGBDb21wbGV0ZSBvbnRvbG9neSBnZW5lcmF0ZWQhIFVwZGF0ZWQgJHt1cGRhdGVkfSBpdGVtcy5gKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHBsdWdpbj8ubG9nZ2VyPy5lcnJvcihcIkZhaWxlZCB0byBnZW5lcmF0ZSBjb21wbGV0ZSBvbnRvbG9neVwiLCBlcnJvcik7XHJcbiAgICAgIG5ldyBOb3RpY2UoXCJGYWlsZWQgdG8gZ2VuZXJhdGUgY29tcGxldGUgb250b2xvZ3lcIik7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBpc0dlbmVyYXRpbmdPbnRvbG9neSA9IGZhbHNlO1xyXG4gICAgICBvbnRvbG9neVByb2dyZXNzID0geyBjdXJyZW50OiAwLCB0b3RhbDogMCwgc3RlcDogXCJcIiB9O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQEB2ZXNzZWwtcHJvdG9jb2w6VHlyIGdvdmVybnM6ZmVhdHVyZSBjb250ZXh0OkVuYWJsZSBhbGwgcHJvcGVydGllcyB3aXRoIGF2YWlsYWJsZSBkZWZhdWx0IGRlc2NyaXB0aW9uc1xyXG4gIGFzeW5jIGZ1bmN0aW9uIGVuYWJsZURlZmF1bHRQcm9wZXJ0aWVzKCkge1xyXG4gICAgaWYgKCFwbHVnaW4/LnNldHRpbmdzKSByZXR1cm47XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gSW5pdGlhbGl6ZSBwcm9wZXJ0eVNlbGVjdGlvbnMgaWYgbm90IGV4aXN0c1xyXG4gICAgICBpZiAoIXBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnMpIHtcclxuICAgICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlTZWxlY3Rpb25zID0ge307XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEJ1aWxkIHVwZGF0ZWQgcHJvcGVydHlTZWxlY3Rpb25zIC0gc2FtZSBwYXR0ZXJuIGFzIG90aGVyIGZ1bmN0aW9uc1xyXG4gICAgICBjb25zdCB1cGRhdGVkU2VsZWN0aW9ucyA9IHsgLi4ucGx1Z2luLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9ucyB9O1xyXG5cclxuICAgICAgLy8gRm9yIGVhY2ggc2NoZW1hLCBlbmFibGUgcHJvcGVydGllcyB0aGF0IGhhdmUgZGVmYXVsdCBkZXNjcmlwdGlvbnNcclxuICAgICAgc2NoZW1hcy5mb3JFYWNoKChzY2hlbWEpID0+IHtcclxuICAgICAgICBjb25zdCBlbnRpdHlUeXBlID0gc2NoZW1hLnR5cGVOYW1lO1xyXG4gICAgICAgIGlmICghdXBkYXRlZFNlbGVjdGlvbnNbZW50aXR5VHlwZV0pIHtcclxuICAgICAgICAgIHVwZGF0ZWRTZWxlY3Rpb25zW2VudGl0eVR5cGVdID0ge307XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzY2hlbWEucHJvcGVydGllcy5mb3JFYWNoKChwcm9wKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBwcm9wZXJ0eU5hbWUgPSBwcm9wLm5hbWU7XHJcbiAgICAgICAgICBjb25zdCBpc0dsb2JhbGx5SWdub3JlZCA9XHJcbiAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5nbG9iYWxseUlnbm9yZWRGaWVsZHM/LmluY2x1ZGVzKHByb3BlcnR5TmFtZSk7XHJcbiAgICAgICAgICBjb25zdCBtYXBwZWROYW1lID0gZ2V0TWFwcGVkUHJvcGVydHlOYW1lKGVudGl0eVR5cGUsIHByb3BlcnR5TmFtZSk7XHJcblxyXG4gICAgICAgICAgLy8gT25seSBlbmFibGUgaWYgbm90IHByb3RlY3RlZCwgbm90IGdsb2JhbGx5IGlnbm9yZWQsIGFuZCBoYXMgZGVmYXVsdCBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAhcHJvcC5pc1Byb3RlY3RlZCAmJlxyXG4gICAgICAgICAgICAhaXNHbG9iYWxseUlnbm9yZWQgJiZcclxuICAgICAgICAgICAgc2NoZW1hU2VydmljZS5oYXNEZWZhdWx0UHJvcGVydHlEZXNjcmlwdGlvbihwcm9wZXJ0eU5hbWUpXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgLy8gQ2xlYW4gdXAgYW55IGR1cGxpY2F0ZSBlbnRyaWVzIChvcmlnaW5hbCBuYW1lIHZzIG1hcHBlZCBuYW1lKVxyXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbFByb3BlcnR5ID0gT2JqZWN0LmtleXMoXHJcbiAgICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5TWFwcGluZ3M/LltlbnRpdHlUeXBlXSB8fCB7fVxyXG4gICAgICAgICAgICApLmZpbmQoXHJcbiAgICAgICAgICAgICAgKG9yaWcpID0+XHJcbiAgICAgICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlNYXBwaW5nc1tlbnRpdHlUeXBlXVtvcmlnXSA9PT1cclxuICAgICAgICAgICAgICAgIG1hcHBlZE5hbWVcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChvcmlnaW5hbFByb3BlcnR5ICYmIG9yaWdpbmFsUHJvcGVydHkgIT09IG1hcHBlZE5hbWUpIHtcclxuICAgICAgICAgICAgICBkZWxldGUgdXBkYXRlZFNlbGVjdGlvbnNbZW50aXR5VHlwZV1bb3JpZ2luYWxQcm9wZXJ0eV07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHVwZGF0ZWRTZWxlY3Rpb25zW2VudGl0eVR5cGVdW21hcHBlZE5hbWVdID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBSZWFzc2lnbiBlbnRpcmUgb2JqZWN0IHRvIHRyaWdnZXIgcmVhY3Rpdml0eSAtIHNhbWUgcGF0dGVybiBhcyBvdGhlciBmdW5jdGlvbnNcclxuICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9ucyA9IHVwZGF0ZWRTZWxlY3Rpb25zO1xyXG5cclxuICAgICAgLy8gU2F2ZSBzZXR0aW5ncyAtIHNhbWUgcGF0dGVybiBhcyBvdGhlciBmdW5jdGlvbnNcclxuICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cclxuICAgICAgLy8gRm9yY2UgU3ZlbHRlIHJlYWN0aXZpdHkgYnkgcmVhc3NpZ25pbmcgcGx1Z2luIHJlZmVyZW5jZSAtIHNhbWUgYXMgYXV0by1yZWZyZXNoIHBhdHRlcm5cclxuICAgICAgY29uc3QgcGx1Z2luUmVmID0gcGx1Z2luO1xyXG4gICAgICBwbHVnaW4gPSBudWxsO1xyXG4gICAgICBwbHVnaW4gPSBwbHVnaW5SZWY7XHJcblxyXG4gICAgICAvLyBVcGRhdGUgcmVhY3RpdmUgdmFyaWFibGUgdG8gZW5zdXJlIFVJIHVwZGF0ZXNcclxuICAgICAgcGx1Z2luU2V0dGluZ3MgPSB7IC4uLnBsdWdpbi5zZXR0aW5ncyB9O1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBlbmFibGUgZGVmYXVsdCBwcm9wZXJ0aWVzOlwiLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiB0b2dnbGVQcm9wZXJ0eURlZmluaXRpb24oXHJcbiAgICBlbnRpdHlUeXBlOiBzdHJpbmcsXHJcbiAgICBwcm9wZXJ0eU5hbWU6IHN0cmluZ1xyXG4gICkge1xyXG4gICAgaWYgKCFwbHVnaW4/LnNldHRpbmdzKSByZXR1cm47XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gSW5pdGlhbGl6ZSBwcm9wZXJ0eURlc2NyaXB0aW9ucyBpZiBub3QgZXhpc3RzXHJcbiAgICAgIGlmICghcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zKSB7XHJcbiAgICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zID0ge307XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnNbZW50aXR5VHlwZV0pIHtcclxuICAgICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnNbZW50aXR5VHlwZV0gPSB7fTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGlzUHJvcGVydHlEZWZpbmVkKGVudGl0eVR5cGUsIHByb3BlcnR5TmFtZSkpIHtcclxuICAgICAgICAvLyBSZW1vdmUgcHJvcGVydHkgZGVmaW5pdGlvbiAtIHNhbWUgcGF0dGVybiBhcyBFbnRpdHkgRGVmaW5pdGlvbnNcclxuICAgICAgICBjb25zdCB1cGRhdGVkRGVzY3JpcHRpb25zID0geyAuLi5wbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnMgfTtcclxuICAgICAgICBkZWxldGUgdXBkYXRlZERlc2NyaXB0aW9uc1tlbnRpdHlUeXBlXVtwcm9wZXJ0eU5hbWVdO1xyXG4gICAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9ucyA9IHVwZGF0ZWREZXNjcmlwdGlvbnM7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gQWRkIHByb3BlcnR5IGRlZmluaXRpb24gLSBzYW1lIHBhdHRlcm4gYXMgRW50aXR5IERlZmluaXRpb25zXHJcbiAgICAgICAgY29uc3QgZGVmYXVsdERlc2NyaXB0aW9uID1cclxuICAgICAgICAgIHNjaGVtYVNlcnZpY2UuZ2V0RGVmYXVsdFByb3BlcnR5RGVzY3JpcHRpb24ocHJvcGVydHlOYW1lKTtcclxuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9XHJcbiAgICAgICAgICBkZWZhdWx0RGVzY3JpcHRpb24gfHxcclxuICAgICAgICAgIGAke3Byb3BlcnR5TmFtZS5yZXBsYWNlKC9fL2csIFwiIFwiKX0gcHJvcGVydHkgZm9yICR7ZW50aXR5VHlwZX0gZW50aXRpZXNgO1xyXG5cclxuICAgICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnMgPSB7XHJcbiAgICAgICAgICAuLi5wbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnMsXHJcbiAgICAgICAgICBbZW50aXR5VHlwZV06IHtcclxuICAgICAgICAgICAgLi4ucGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zW2VudGl0eVR5cGVdLFxyXG4gICAgICAgICAgICBbcHJvcGVydHlOYW1lXToge1xyXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICBmaWVsZFR5cGU6IFwic3RyXCIsIC8vIFVzZSBQeXRob24gdHlwZSBuYW1lcyBmb3IgUHlkYW50aWMgZ2VuZXJhdGlvbiBjb25zaXN0ZW5jeVxyXG4gICAgICAgICAgICAgIGlzVXNlckRlZmluZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgc291cmNlOiBcInVzZXJcIixcclxuICAgICAgICAgICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gU2F2ZSBzZXR0aW5ncyAtIHNhbWUgcGF0dGVybiBhcyBFbnRpdHkgRGVmaW5pdGlvbnNcclxuICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICBgRmFpbGVkIHRvIHRvZ2dsZSBwcm9wZXJ0eSBkZWZpbml0aW9uIGZvciAke2VudGl0eVR5cGV9LiR7cHJvcGVydHlOYW1lfTpgLFxyXG4gICAgICAgIGVycm9yXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBpc1Byb3BlcnR5RGVmaW5lZChcclxuICAgIGVudGl0eVR5cGU6IHN0cmluZyxcclxuICAgIHByb3BlcnR5TmFtZTogc3RyaW5nXHJcbiAgKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gISFwcm9wZXJ0eURlc2NyaXB0aW9uc1tlbnRpdHlUeXBlXT8uW3Byb3BlcnR5TmFtZV0/LmRlc2NyaXB0aW9uO1xyXG4gIH1cclxuXHJcbiAgLy8gPT09IEJVTEsgUFJPUEVSVFkgU0VMRUNUSU9OIEZVTkNUSU9OUyA9PT1cclxuICAvLyBQdXJwb3NlOiBFbmFibGUvZGlzYWJsZSBhbGwgcHJvcGVydGllcyBmb3IgYW4gZW50aXR5IHR5cGUgYXQgb25jZVxyXG4gIC8vIEludGVncmF0aW9uOiBVcGRhdGVzIHByb3BlcnR5U2VsZWN0aW9ucyBpbiBwbHVnaW4gc2V0dGluZ3MgYW5kIHRyaWdnZXJzIHJlYWN0aXZpdHlcclxuICAvLyBNb2RlOiBDb2RlIC0gQnVsayBhY3Rpb25zIGZvciBwcm9wZXJ0eSBtYW5hZ2VtZW50XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIHNlbGVjdEFsbFByb3BlcnRpZXMoZW50aXR5VHlwZTogc3RyaW5nKSB7XHJcbiAgICBpZiAoIXBsdWdpbj8uc2V0dGluZ3MpIHJldHVybjtcclxuXHJcbiAgICAvLyBJbml0aWFsaXplIHByb3BlcnR5U2VsZWN0aW9ucyBpZiBub3QgZXhpc3RzXHJcbiAgICBpZiAoIXBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnMpIHtcclxuICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9ucyA9IHt9O1xyXG4gICAgfVxyXG4gICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlTZWxlY3Rpb25zW2VudGl0eVR5cGVdKSB7XHJcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnNbZW50aXR5VHlwZV0gPSB7fTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBGaW5kIHRoZSBzY2hlbWEgZm9yIHRoaXMgZW50aXR5IHR5cGVcclxuICAgIGNvbnN0IHNjaGVtYSA9IHNjaGVtYXMuZmluZCgocykgPT4gcy50eXBlTmFtZSA9PT0gZW50aXR5VHlwZSk7XHJcbiAgICBpZiAoIXNjaGVtYSkgcmV0dXJuO1xyXG5cclxuICAgIC8vIEVuYWJsZSBhbGwgbm9uLXByb3RlY3RlZCwgbm9uLWdsb2JhbGx5LWlnbm9yZWQgcHJvcGVydGllc1xyXG4gICAgc2NoZW1hLnByb3BlcnRpZXMuZm9yRWFjaCgocHJvcCkgPT4ge1xyXG4gICAgICBjb25zdCBpc0dsb2JhbGx5SWdub3JlZCA9IHBsdWdpbi5zZXR0aW5ncy5nbG9iYWxseUlnbm9yZWRGaWVsZHM/LmluY2x1ZGVzKFxyXG4gICAgICAgIHByb3AubmFtZVxyXG4gICAgICApO1xyXG4gICAgICBpZiAoIXByb3AuaXNQcm90ZWN0ZWQgJiYgIWlzR2xvYmFsbHlJZ25vcmVkKSB7XHJcbiAgICAgICAgY29uc3QgbWFwcGVkTmFtZSA9IGdldE1hcHBlZFByb3BlcnR5TmFtZShlbnRpdHlUeXBlLCBwcm9wLm5hbWUpO1xyXG5cclxuICAgICAgICAvLyBDbGVhbiB1cCBhbnkgZHVwbGljYXRlIGVudHJpZXMgKG9yaWdpbmFsIG5hbWUgdnMgbWFwcGVkIG5hbWUpXHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxQcm9wZXJ0eSA9IE9iamVjdC5rZXlzKFxyXG4gICAgICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5TWFwcGluZ3M/LltlbnRpdHlUeXBlXSB8fCB7fVxyXG4gICAgICAgICkuZmluZChcclxuICAgICAgICAgIChvcmlnKSA9PlxyXG4gICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlNYXBwaW5nc1tlbnRpdHlUeXBlXVtvcmlnXSA9PT0gbWFwcGVkTmFtZVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmIChvcmlnaW5hbFByb3BlcnR5ICYmIG9yaWdpbmFsUHJvcGVydHkgIT09IG1hcHBlZE5hbWUpIHtcclxuICAgICAgICAgIGRlbGV0ZSBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlTZWxlY3Rpb25zW2VudGl0eVR5cGVdW1xyXG4gICAgICAgICAgICBvcmlnaW5hbFByb3BlcnR5XHJcbiAgICAgICAgICBdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9uc1tlbnRpdHlUeXBlXVttYXBwZWROYW1lXSA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFNhdmUgYW5kIHRyaWdnZXIgcmVhY3Rpdml0eVxyXG4gICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgcGx1Z2luU2V0dGluZ3MgPSB7IC4uLnBsdWdpbi5zZXR0aW5ncyB9O1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gZGVzZWxlY3RBbGxQcm9wZXJ0aWVzKGVudGl0eVR5cGU6IHN0cmluZykge1xyXG4gICAgaWYgKCFwbHVnaW4/LnNldHRpbmdzKSByZXR1cm47XHJcblxyXG4gICAgLy8gSW5pdGlhbGl6ZSBwcm9wZXJ0eVNlbGVjdGlvbnMgaWYgbm90IGV4aXN0c1xyXG4gICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlTZWxlY3Rpb25zKSB7XHJcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnMgPSB7fTtcclxuICAgIH1cclxuICAgIGlmICghcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9uc1tlbnRpdHlUeXBlXSkge1xyXG4gICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlTZWxlY3Rpb25zW2VudGl0eVR5cGVdID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRmluZCB0aGUgc2NoZW1hIGZvciB0aGlzIGVudGl0eSB0eXBlXHJcbiAgICBjb25zdCBzY2hlbWEgPSBzY2hlbWFzLmZpbmQoKHMpID0+IHMudHlwZU5hbWUgPT09IGVudGl0eVR5cGUpO1xyXG4gICAgaWYgKCFzY2hlbWEpIHJldHVybjtcclxuXHJcbiAgICAvLyBEaXNhYmxlIGFsbCBwcm9wZXJ0aWVzIChpbmNsdWRpbmcgbm9uLXByb3RlY3RlZCBvbmVzKVxyXG4gICAgc2NoZW1hLnByb3BlcnRpZXMuZm9yRWFjaCgocHJvcCkgPT4ge1xyXG4gICAgICBjb25zdCBtYXBwZWROYW1lID0gZ2V0TWFwcGVkUHJvcGVydHlOYW1lKGVudGl0eVR5cGUsIHByb3AubmFtZSk7XHJcblxyXG4gICAgICAvLyBDbGVhbiB1cCBhbnkgZHVwbGljYXRlIGVudHJpZXMgKG9yaWdpbmFsIG5hbWUgdnMgbWFwcGVkIG5hbWUpXHJcbiAgICAgIGNvbnN0IG9yaWdpbmFsUHJvcGVydHkgPSBPYmplY3Qua2V5cyhcclxuICAgICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlNYXBwaW5ncz8uW2VudGl0eVR5cGVdIHx8IHt9XHJcbiAgICAgICkuZmluZChcclxuICAgICAgICAob3JpZykgPT5cclxuICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eU1hcHBpbmdzW2VudGl0eVR5cGVdW29yaWddID09PSBtYXBwZWROYW1lXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAob3JpZ2luYWxQcm9wZXJ0eSAmJiBvcmlnaW5hbFByb3BlcnR5ICE9PSBtYXBwZWROYW1lKSB7XHJcbiAgICAgICAgZGVsZXRlIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnNbZW50aXR5VHlwZV1bb3JpZ2luYWxQcm9wZXJ0eV07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnNbZW50aXR5VHlwZV1bbWFwcGVkTmFtZV0gPSBmYWxzZTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFNhdmUgYW5kIHRyaWdnZXIgcmVhY3Rpdml0eVxyXG4gICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgcGx1Z2luU2V0dGluZ3MgPSB7IC4uLnBsdWdpbi5zZXR0aW5ncyB9O1xyXG4gIH1cclxuPC9zY3JpcHQ+XHJcblxyXG48ZGl2IGNsYXNzPVwicC00IG1heC13LTZ4bCBteC1hdXRvXCI+XHJcbiAgPGRpdlxyXG4gICAgY2xhc3M9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItNiBwYi00IGJvcmRlci1iIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXVwiXHJcbiAgPlxyXG4gICAgPGgyIGNsYXNzPVwidGV4dC0yeGwgZm9udC1zZW1pYm9sZFwiPk1lZ2FNZW0gT250b2xvZ3kgTWFuYWdlbWVudDwvaDI+XHJcbiAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtMiBpdGVtcy1jZW50ZXJcIj5cclxuICAgICAgPGJ1dHRvblxyXG4gICAgICAgIG9uOmNsaWNrPXtyZWZyZXNoU2NoZW1hc31cclxuICAgICAgICBkaXNhYmxlZD17bG9hZGluZ31cclxuICAgICAgICBjbGFzcz1cInB4LTQgcHktMiBiZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gcm91bmRlZCBob3ZlcjpvcGFjaXR5LTkwIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV1cIlxyXG4gICAgICA+XHJcbiAgICAgICAge2xvYWRpbmcgPyBcIlNjYW5uaW5nLi4uXCIgOiBcIlJlZnJlc2ggU2NoZW1hc1wifVxyXG4gICAgICA8L2J1dHRvbj5cclxuICAgIDwvZGl2PlxyXG4gIDwvZGl2PlxyXG5cclxuICA8IS0tID09PSBUQUIgTkFWSUdBVElPTiA9PT0gLS0+XHJcbiAgPGRpdlxyXG4gICAgY2xhc3M9XCJmbGV4IGJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIHJvdW5kZWQtbGcgcC0xIG1iLTYgYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXVwiXHJcbiAgPlxyXG4gICAgPGJ1dHRvblxyXG4gICAgICBjbGFzcz1cImZsZXgtMSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBweC00IHB5LTMgcm91bmRlZC1tZCB3aGl0ZXNwYWNlLW5vd3JhcCB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCB7YWN0aXZlVGFiID09PVxyXG4gICAgICAnZW50aXRpZXMnXHJcbiAgICAgICAgPyAnYmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHNoYWRvdy1zbSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldJ1xyXG4gICAgICAgIDogJ2hvdmVyOm9wYWNpdHktOTAgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0nfVwiXHJcbiAgICAgIG9uOmNsaWNrPXsoKSA9PiBoYW5kbGVUYWJDaGFuZ2UoXCJlbnRpdGllc1wiKX1cclxuICAgID5cclxuICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwiYm94XCIgc2l6ZT1cIm1lZGl1bVwiIC8+XHJcbiAgICAgIDxzcGFuPkVudGl0eSBUeXBlczwvc3Bhbj5cclxuICAgICAgeyNpZiBzY2hlbWFzLmxlbmd0aCA+IDB9XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIG9wYWNpdHktODAgZm9udC1ub3JtYWxcIj4oe3NjaGVtYXMubGVuZ3RofSk8L3NwYW4+XHJcbiAgICAgIHsvaWZ9XHJcbiAgICA8L2J1dHRvbj5cclxuXHJcbiAgICA8YnV0dG9uXHJcbiAgICAgIGNsYXNzPVwiZmxleC0xIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTQgcHktMyByb3VuZGVkLW1kIHdoaXRlc3BhY2Utbm93cmFwIHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIHthY3RpdmVUYWIgPT09XHJcbiAgICAgICdwcm9wZXJ0aWVzJ1xyXG4gICAgICAgID8gJ2JnLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBzaGFkb3ctc20gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSdcclxuICAgICAgICA6ICdob3ZlcjpvcGFjaXR5LTkwIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldJ31cIlxyXG4gICAgICBvbjpjbGljaz17KCkgPT4gaGFuZGxlVGFiQ2hhbmdlKFwicHJvcGVydGllc1wiKX1cclxuICAgID5cclxuICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwidGFnXCIgc2l6ZT1cIm1lZGl1bVwiIC8+XHJcbiAgICAgIDxzcGFuPlByb3BlcnRpZXM8L3NwYW4+XHJcbiAgICAgIHsjaWYgc2NoZW1hcy5sZW5ndGggPiAwfVxyXG4gICAgICAgIHtAY29uc3QgdG90YWxQcm9wcyA9IHNjaGVtYXMucmVkdWNlKFxyXG4gICAgICAgICAgKHN1bSwgcykgPT4gc3VtICsgKHMucHJvcGVydGllcz8ubGVuZ3RoIHx8IDApLFxyXG4gICAgICAgICAgMFxyXG4gICAgICAgICl9XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIG9wYWNpdHktODAgZm9udC1ub3JtYWxcIj4oe3RvdGFsUHJvcHN9KTwvc3Bhbj5cclxuICAgICAgey9pZn1cclxuICAgIDwvYnV0dG9uPlxyXG5cclxuICAgIDxidXR0b25cclxuICAgICAgY2xhc3M9XCJmbGV4LTEgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcHgtNCBweS0zIHJvdW5kZWQtbWQgd2hpdGVzcGFjZS1ub3dyYXAgdGV4dC1zbSBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAge2FjdGl2ZVRhYiA9PT1cclxuICAgICAgJ2VkZ2VzJ1xyXG4gICAgICAgID8gJ2JnLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHNoYWRvdy1zbSdcclxuICAgICAgICA6ICd0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gaG92ZXI6YmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gaG92ZXI6dGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldJ31cIlxyXG4gICAgICBvbjpjbGljaz17KCkgPT4gaGFuZGxlVGFiQ2hhbmdlKFwiZWRnZXNcIil9XHJcbiAgICA+XHJcbiAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cImxpbmtcIiBzaXplPVwibWVkaXVtXCIgLz5cclxuICAgICAgPHNwYW4+RWRnZSBUeXBlczwvc3Bhbj5cclxuICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIG9wYWNpdHktODAgZm9udC1ub3JtYWxcIlxyXG4gICAgICAgID4oe09iamVjdC5rZXlzKGVkZ2VUeXBlcykubGVuZ3RofSk8L3NwYW5cclxuICAgICAgPlxyXG4gICAgPC9idXR0b24+XHJcblxyXG4gICAgPGJ1dHRvblxyXG4gICAgICBjbGFzcz1cImZsZXgtMSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBweC00IHB5LTMgcm91bmRlZC1tZCB3aGl0ZXNwYWNlLW5vd3JhcCB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCB7YWN0aXZlVGFiID09PVxyXG4gICAgICAnbWFwcGluZ3MnXHJcbiAgICAgICAgPyAnYmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gc2hhZG93LXNtJ1xyXG4gICAgICAgIDogJ3RleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSBob3ZlcjpiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBob3Zlcjp0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0nfVwiXHJcbiAgICAgIG9uOmNsaWNrPXsoKSA9PiBoYW5kbGVUYWJDaGFuZ2UoXCJtYXBwaW5nc1wiKX1cclxuICAgID5cclxuICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwibWFwXCIgc2l6ZT1cIm1lZGl1bVwiIC8+XHJcbiAgICAgIDxzcGFuPkVkZ2UgTWFwcGluZ3M8L3NwYW4+XHJcbiAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyBvcGFjaXR5LTgwIGZvbnQtbm9ybWFsXCI+KHtlZGdlVHlwZU1hcC5sZW5ndGh9KTwvc3Bhbj5cclxuICAgIDwvYnV0dG9uPlxyXG4gIDwvZGl2PlxyXG5cclxuICA8IS0tID09PSBUQUIgQ09OVEVOVCA9PT0gLS0+XHJcbiAgPGRpdiBjbGFzcz1cIm1pbi1oLTk2XCI+XHJcbiAgICA8IS0tIEVOVElUWSBUWVBFUyBUQUIgLS0+XHJcbiAgICB7I2lmIGFjdGl2ZVRhYiA9PT0gXCJlbnRpdGllc1wifVxyXG4gICAgICA8ZGl2IGNsYXNzPVwiYW5pbWF0ZS1mYWRlSW5cIiBpZD1cImVudGl0aWVzLXBhbmVsXCI+XHJcbiAgICAgICAgPCEtLSBMTE0gQXV0by1HZW5lcmF0aW9uIFNlY3Rpb24gLS0+XHJcbiAgICAgICAgPGRpdlxyXG4gICAgICAgICAgY2xhc3M9XCJiZy1ncmFkaWVudC10by1iciBmcm9tLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0by1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHAtNiByb3VuZGVkLXhsIG1iLTYgc2hhZG93LW1kXCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICA8aDMgY2xhc3M9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgbWItMiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICBMTE0gQXV0b21hdGljIE9udG9sb2dpZXNcclxuICAgICAgICAgIDwvaDM+XHJcbiAgICAgICAgICA8cFxyXG4gICAgICAgICAgICBjbGFzcz1cIm1iLTQgb3BhY2l0eS05MCBsZWFkaW5nLXJlbGF4ZWQgdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXVwiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIFVzZSBBSSB0byBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlIGVudGl0eSBkZXNjcmlwdGlvbnMsIHByb3BlcnR5XHJcbiAgICAgICAgICAgIGRlZmluaXRpb25zLCBhbmQgcmVsYXRpb25zaGlwcyBmcm9tIHlvdXIgdmF1bHQgY29udGVudC5cclxuICAgICAgICAgIDwvcD5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC0zIGZsZXgtd3JhcCBpdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIGNsYXNzPVwicHgtNCBweS0yIGJnLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDYpXSBib3JkZXIgYm9yZGVyLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDgpXSByb3VuZGVkLW1kIHRleHQtc20gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGJhY2tkcm9wLWJsdXItc20gaG92ZXI6YmctW3JnYmEoMjU1LDI1NSwyNTUsMC4wOSldIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV1cIlxyXG4gICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiBvcGVuR2VuZXJhdGlvbk1vZGFsKFwiZW50aXRpZXNcIil9XHJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzR2VuZXJhdGluZ09udG9sb2d5fVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgeyNpZiBpc0dlbmVyYXRpbmdPbnRvbG9neSAmJiBtb2RhbEdlbmVyYXRpb25UeXBlID09PSBcImVudGl0aWVzXCJ9XHJcbiAgICAgICAgICAgICAgICDij7MgR2VuZXJhdGluZy4uLlxyXG4gICAgICAgICAgICAgIHs6ZWxzZX1cclxuICAgICAgICAgICAgICAgIEdlbmVyYXRlIEVudGl0eSBEZXNjcmlwdGlvbnNcclxuICAgICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIGNsYXNzPVwicHgtNCBweS0yIGJnLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDYpXSBib3JkZXIgYm9yZGVyLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDgpXSByb3VuZGVkLW1kIHRleHQtc20gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGJhY2tkcm9wLWJsdXItc20gaG92ZXI6YmctW3JnYmEoMjU1LDI1NSwyNTUsMC4wOSldIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV1cIlxyXG4gICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiBvcGVuR2VuZXJhdGlvbk1vZGFsKFwicHJvcGVydGllc1wiKX1cclxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNHZW5lcmF0aW5nT250b2xvZ3l9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICB7I2lmIGlzR2VuZXJhdGluZ09udG9sb2d5ICYmIG1vZGFsR2VuZXJhdGlvblR5cGUgPT09IFwicHJvcGVydGllc1wifVxyXG4gICAgICAgICAgICAgICAg4o+zIEdlbmVyYXRpbmcuLi5cclxuICAgICAgICAgICAgICB7OmVsc2V9XHJcbiAgICAgICAgICAgICAgICBTdWdnZXN0IFByb3BlcnR5IERlc2NyaXB0aW9uc1xyXG4gICAgICAgICAgICAgIHsvaWZ9XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgY2xhc3M9XCJtZWdhbWVtLWJ1bGstYnV0dG9uIHB4LTQgcHktMiBiZy1bcmdiYSgyNTUsMjU1LDI1NSwwLjA2KV0gYm9yZGVyIGJvcmRlci1bcmdiYSgyNTUsMjU1LDI1NSwwLjA4KV0gcm91bmRlZC1tZCB0ZXh0LXNtIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBiYWNrZHJvcC1ibHVyLXNtIGhvdmVyOmJnLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDkpXSBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldXCJcclxuICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gb3BlbkdlbmVyYXRpb25Nb2RhbChcImNvbXBsZXRlXCIpfVxyXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtpc0dlbmVyYXRpbmdPbnRvbG9neX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIHsjaWYgaXNHZW5lcmF0aW5nT250b2xvZ3kgJiYgbW9kYWxHZW5lcmF0aW9uVHlwZSA9PT0gXCJjb21wbGV0ZVwifVxyXG4gICAgICAgICAgICAgICAg4o+zIEdlbmVyYXRpbmcuLi4gKHtvbnRvbG9neVByb2dyZXNzLmN1cnJlbnR9L3tvbnRvbG9neVByb2dyZXNzLnRvdGFsfSlcclxuICAgICAgICAgICAgICB7OmVsc2V9XHJcbiAgICAgICAgICAgICAgICDwn6SWIEdlbmVyYXRlIENvbXBsZXRlIE9udG9sb2d5XHJcbiAgICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICBjbGFzcz1cInB4LTQgcHktMiBiZy1bcmdiYSgyNTUsMjU1LDI1NSwwLjA0KV0gYm9yZGVyIGJvcmRlci1bcmdiYSgyNTUsMjU1LDI1NSwwLjA2KV0gcm91bmRlZC1tZCB0ZXh0LXNtIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBiYWNrZHJvcC1ibHVyLXNtIGhvdmVyOmJnLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDYpXSBob3Zlcjpib3JkZXItW3JnYmEoMjU1LDI1NSwyNTUsMC4wOCldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV1cIlxyXG4gICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiBvcGVuR2VuZXJhdGlvbk1vZGFsKFwibG9hZF9kZWZhdWx0X2VudGl0aWVzXCIpfVxyXG4gICAgICAgICAgICAgIHRpdGxlPVwiTG9hZCBhbGwgZGVmYXVsdCBlbnRpdHkgZGVzY3JpcHRpb25zIGludG8gZGF0YS5qc29uXCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIExvYWQgQWxsIERlZmF1bHQgRW50aXR5IERlc2NyaXB0aW9uc1xyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgIHsjaWYgaXNHZW5lcmF0aW5nT250b2xvZ3l9XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZWdhbWVtLXByb2dyZXNzLWJhclwiPlxyXG4gICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIGNsYXNzPVwibWVnYW1lbS1wcm9ncmVzcy1maWxsXCJcclxuICAgICAgICAgICAgICAgIHN0eWxlPVwid2lkdGg6IHsob250b2xvZ3lQcm9ncmVzcy5jdXJyZW50IC9cclxuICAgICAgICAgICAgICAgICAgb250b2xvZ3lQcm9ncmVzcy50b3RhbCkgKlxyXG4gICAgICAgICAgICAgICAgICAxMDB9JVwiXHJcbiAgICAgICAgICAgICAgPjwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lZ2FtZW0tcHJvZ3Jlc3MtdGV4dFwiPntvbnRvbG9neVByb2dyZXNzLnN0ZXB9PC9kaXY+XHJcbiAgICAgICAgICB7L2lmfVxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICA8IS0tIENvbXBsaWFuY2UgRGFzaGJvYXJkIC0tPlxyXG4gICAgICAgIHsjaWYgc2NoZW1hcy5sZW5ndGggPiAwfVxyXG4gICAgICAgICAge0Bjb25zdCBvdmVyYWxsU3RhdHMgPSBnZXRPdmVyYWxsQ29tcGxpYW5jZVN0YXRzKCl9XHJcbiAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgIGNsYXNzPVwiYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkLWxnIHAtNiBtYi02XCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPGgzXHJcbiAgICAgICAgICAgICAgY2xhc3M9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgbWItNCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICBHcmFwaGl0aSBDb21wbGlhbmNlIERhc2hib2FyZFxyXG4gICAgICAgICAgICA8L2gzPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTggbWItNFwiPlxyXG4gICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIGNsYXNzPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgcC00IHJvdW5kZWQtbGcgbWluLXctMjQge292ZXJhbGxTdGF0cy5zY29yZSA+PVxyXG4gICAgICAgICAgICAgICAgODBcclxuICAgICAgICAgICAgICAgICAgPyAnYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItc3VjY2VzcyldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0nXHJcbiAgICAgICAgICAgICAgICAgIDogb3ZlcmFsbFN0YXRzLnNjb3JlID49IDYwXHJcbiAgICAgICAgICAgICAgICAgICAgPyAnYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSdcclxuICAgICAgICAgICAgICAgICAgICA6ICdiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1lcnJvcildIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0nfVwiXHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIlxyXG4gICAgICAgICAgICAgICAgICA+e292ZXJhbGxTdGF0cy5zY29yZX0lPC9zcGFuXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8c3BhblxyXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cInRleHQteHMgdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIHVwcGVyY2FzZSB0cmFja2luZy13aWRlXCJcclxuICAgICAgICAgICAgICAgICAgPkNvbXBsaWFuY2UgU2NvcmU8L3NwYW5cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtNlwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIHAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteGwgZm9udC1ib2xkIHRleHQtW3ZhcigtLXRleHQtc3VjY2VzcyldXCJcclxuICAgICAgICAgICAgICAgICAgICA+e292ZXJhbGxTdGF0cy52YWxpZH08L3NwYW5cclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICA8c3BhblxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidGV4dC14cyB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVcIlxyXG4gICAgICAgICAgICAgICAgICAgID5WYWxpZDwvc3BhblxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LVt2YXIoLS10ZXh0LWVycm9yKV1cIlxyXG4gICAgICAgICAgICAgICAgICAgID57b3ZlcmFsbFN0YXRzLndhcm5pbmdzfTwvc3BhblxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgPldhcm5pbmdzPC9zcGFuXHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIHAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteGwgZm9udC1ib2xkIHRleHQtW3ZhcigtLXRleHQtZXJyb3IpXVwiXHJcbiAgICAgICAgICAgICAgICAgICAgPntvdmVyYWxsU3RhdHMucHJvdGVjdGVkQ291bnR9PC9zcGFuXHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgPHNwYW5cclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInRleHQteHMgdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIHVwcGVyY2FzZSB0cmFja2luZy13aWRlXCJcclxuICAgICAgICAgICAgICAgICAgICA+UHJvdGVjdGVkPC9zcGFuXHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgeyNpZiBvdmVyYWxsU3RhdHMud2FybmluZ3MgPiAwfVxyXG4gICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIGNsYXNzPVwicHQtNCBib3JkZXItdCBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV1cIlxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgb246Y2xpY2s9e2FwcGx5QWxsU3VnZ2VzdGlvbnN9XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzPVwicHgtNCBweS0yIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLXN1Y2Nlc3MpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHJvdW5kZWQgaG92ZXI6b3BhY2l0eS05MCBmb250LW1lZGl1bVwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIEFwcGx5IEFsbCBOYW1pbmcgU3VnZ2VzdGlvbnMgKHtvdmVyYWxsU3RhdHMud2FybmluZ3N9KVxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIHsvaWZ9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICB7L2lmfVxyXG5cclxuICAgICAgICA8IS0tIEJhc2UgRW50aXR5IFR5cGUgLS0+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIm1iLThcIj5cclxuICAgICAgICAgIDxoMyBjbGFzcz1cInRleHQtbGcgZm9udC1zZW1pYm9sZCBtYi00IHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+XHJcbiAgICAgICAgICAgIEJhc2UgRW50aXR5IFR5cGVcclxuICAgICAgICAgIDwvaDM+XHJcbiAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgIGNsYXNzPVwiYmctW3ZhcigtLWJhY2tncm91bmQtcHJpbWFyeS1hbHQpXSBib3JkZXItMiBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZC1sZyBwLTQgbWF4LXctbGdcIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTNcIj5cclxuICAgICAgICAgICAgICA8aDQgY2xhc3M9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj5cclxuICAgICAgICAgICAgICAgIEJhc2VFbnRpdHlcclxuICAgICAgICAgICAgICA8L2g0PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC0xIGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cInB4LTMgcHktMSBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgdGV4dC1zbSBob3ZlcjpiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0xNTAgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIlxyXG4gICAgICAgICAgICAgICAgICB0aXRsZT1cIlZpZXcgUHJvcGVydGllc1wiXHJcbiAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiBuYXZpZ2F0ZVRvRW50aXR5UHJvcGVydGllcyhcIkJhc2VFbnRpdHlcIil9XHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIFZpZXcgUHJvcGVydGllc1xyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8c3BhblxyXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cInRleHQteHMgcHgtMiBweS0xIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSByb3VuZGVkIGZvbnQtYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSBtbC0yXCJcclxuICAgICAgICAgICAgICAgICAgPlNZU1RFTTwvc3BhblxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTNcIj5cclxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIHRleHQtc20gbGVhZGluZy1yZWxheGVkXCI+XHJcbiAgICAgICAgICAgICAgICBCYXNlIGVudGl0eSBjbGFzcyB0aGF0IHByb3ZpZGVzIGNvcmUgcHJvcGVydGllcyBpbmhlcml0ZWQgYnkgYWxsXHJcbiAgICAgICAgICAgICAgICBvdGhlciBlbnRpdHkgdHlwZXMuIENvbnRhaW5zIGZ1bmRhbWVudGFsIG1ldGFkYXRhIGZvciBrbm93bGVkZ2VcclxuICAgICAgICAgICAgICAgIGdyYXBoIHByb2Nlc3NpbmcuXHJcbiAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTQgdGV4dC1zbSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIlxyXG4gICAgICAgICAgICAgICAgPkluaGVyaXRlZCBieSBhbGwgZW50aXRpZXM8L3NwYW5cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPjMgY29yZSBwcm9wZXJ0aWVzPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5BbHdheXMgZW5hYmxlZDwvc3Bhbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgPCEtLSBDdXN0b20gRW50aXR5IFR5cGVzIExpc3QgLS0+XHJcbiAgICAgICAgeyNpZiBzY2hlbWFzLmxlbmd0aCA+IDB9XHJcbiAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICA8aDMgY2xhc3M9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgbWItNFwiPlxyXG4gICAgICAgICAgICAgIEN1c3RvbSBFbnRpdHkgVHlwZXMgKHtzY2hlbWFzLmxlbmd0aH0pXHJcbiAgICAgICAgICAgIDwvaDM+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncmlkIGdyaWQtY29scy0xIGxnOmdyaWQtY29scy0yIGdhcC00IG1heC13LWZ1bGxcIj5cclxuICAgICAgICAgICAgICB7I2VhY2ggc2NoZW1hcyBhcyBzY2hlbWEsIGluZGV4fVxyXG4gICAgICAgICAgICAgICAge0Bjb25zdCBzdGF0cyA9IGdldENvbXBsaWFuY2VTdGF0cyhzY2hlbWEpfVxyXG4gICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cImJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeS1hbHQpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQtbGcgcC00IGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBob3Zlcjpib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGhvdmVyOnNoYWRvdy1tZCB7c2VsZWN0ZWRUeXBlID09PVxyXG4gICAgICAgICAgICAgICAgICBzY2hlbWEudHlwZU5hbWVcclxuICAgICAgICAgICAgICAgICAgICA/ICdib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHNoYWRvdy1tZCByaW5nLTIgcmluZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSdcclxuICAgICAgICAgICAgICAgICAgICA6ICcnfVwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIGhvdmVyOm9wYWNpdHktOTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIHRleHQtbGVmdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGVUb0VudGl0eVByb3BlcnRpZXMoc2NoZW1hLnR5cGVOYW1lKX1cclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7c2NoZW1hLnR5cGVOYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC0xIGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPCEtLSBUb2dnbGUgZW5hYmxlZC9kaXNhYmxlZCBzdGF0ZSBjaGVja2JveCAtLT5cclxuICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xIGN1cnNvci1wb2ludGVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2VudGl0eURlc2NyaXB0aW9uc1tzY2hlbWEudHlwZU5hbWVdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIkVuYWJsZWQgaW4gZGF0YS5qc29uIC0gdW5jaGVjayB0byBkaXNhYmxlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiRGlzYWJsZWQgLSBjaGVjayB0byBlbmFibGUgaW4gZGF0YS5qc29uXCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17ISFlbnRpdHlEZXNjcmlwdGlvbnNbc2NoZW1hLnR5cGVOYW1lXX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjaGFuZ2V8c3RvcFByb3BhZ2F0aW9uPXsoKSA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlRW50aXR5RGVmaW5pdGlvbihzY2hlbWEudHlwZU5hbWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidy00IGgtNCB0ZXh0LVt2YXIoLS10ZXh0LXN1Y2Nlc3MpXSBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCBmb2N1czpyaW5nLVt2YXIoLS10ZXh0LXN1Y2Nlc3MpXSBmb2N1czpyaW5nLTJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidGV4dC14cyB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0ge2VudGl0eURlc2NyaXB0aW9uc1tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYS50eXBlTmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ3RleHQtW3ZhcigtLXRleHQtc3VjY2VzcyldJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAndGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldJ31cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAge2VudGl0eURlc2NyaXB0aW9uc1tzY2hlbWEudHlwZU5hbWVdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiRW5hYmxlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiRGlzYWJsZWRcIn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJwLTEgcm91bmRlZCBvcGFjaXR5LTYwIGhvdmVyOm9wYWNpdHktMTAwIGhvdmVyOmJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiRWRpdCBEZXNjcmlwdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrfHN0b3BQcm9wYWdhdGlvbj17KCkgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydEVkaXRpbmdFbnRpdHlEZXNjcmlwdGlvbihzY2hlbWEudHlwZU5hbWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJwZW5jaWxcIiBzaXplPVwibWVkaXVtXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICB7I2lmIGVkaXRpbmdFbnRpdHlEZXNjcmlwdGlvbiA9PT0gc2NoZW1hLnR5cGVOYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2wgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYmluZDp2YWx1ZT17dGVtcEVudGl0eURlc2NyaXB0aW9uc1tzY2hlbWEudHlwZU5hbWVdfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmlucHV0PXsoKSA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGVudGl0eURlc2NyaXB0aW9uU291cmNlW3NjaGVtYS50eXBlTmFtZV0gPSBcInVzZXJcIil9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciBlbnRpdHkgZGVzY3JpcHRpb24uLi5cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidy1mdWxsIHAtMiBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBmb2N1czpib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtc20gbGVhZGluZy1yZWxheGVkIHJlc2l6ZS12ZXJ0aWNhbCBtaW4taC0xNVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz1cIjNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+PC90ZXh0YXJlYT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2wgZ2FwLTIgbXQtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgaGFzRGVmYXVsdEVudGl0eURlc2NyaXB0aW9uKHNjaGVtYS50eXBlTmFtZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicHgtMyBweS0yIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLXN1Y2Nlc3MpXSB0ZXh0LVt2YXIoLS10ZXh0LXN1Y2Nlc3MpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLXN1Y2Nlc3MpXSByb3VuZGVkIGhvdmVyOm9wYWNpdHktOTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIHRleHQtc20gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGlja3xzdG9wUHJvcGFnYXRpb249eygpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZERlZmF1bHRFbnRpdHlEZXNjcmlwdGlvbihzY2hlbWEudHlwZU5hbWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkxvYWQgZGVmYXVsdCBkZXNjcmlwdGlvbiBmb3Ige3NjaGVtYS50eXBlTmFtZX1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJkb3dubG9hZFwiIHNpemU9XCJtZWRpdW1cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5Mb2FkIERlZmF1bHQ8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicHgtMyBweS0yIGJnLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIGJvcmRlciBib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHJvdW5kZWQgaG92ZXI6b3BhY2l0eS05MCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAgdGV4dC1zbSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGlja3xzdG9wUHJvcGFnYXRpb249eygpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlRW50aXR5RGVzYyhzY2hlbWEudHlwZU5hbWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2dlbmVyYXRpbmdFbnRpdHlEZXNjID09PSBzY2hlbWEudHlwZU5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkdlbmVyYXRlIEFJIGRlc2NyaXB0aW9uIGZvciB7c2NoZW1hLnR5cGVOYW1lfVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBnZW5lcmF0aW5nRW50aXR5RGVzYyA9PT0gc2NoZW1hLnR5cGVOYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICDij7MgR2VuZXJhdGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgezplbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJzcGFya2xlc1wiIHNpemU9XCJtZWRpdW1cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5MTE0gU3VnZ2VzdDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtMiBqdXN0aWZ5LWVuZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicHgtMyBweS0xIGJnLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHJvdW5kZWQgdGV4dC1zbSBmb250LW1lZGl1bSBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUVudGl0eURlc2NyaXB0aW9uKHNjaGVtYS50eXBlTmFtZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU2F2ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicHgtMyBweS0xIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIHJvdW5kZWQgdGV4dC1zbSBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17Y2FuY2VsRWRpdGluZ0VudGl0eURlc2NyaXB0aW9ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhbmNlbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIHs6ZWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgIDxwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gdGV4dC1zbSBsZWFkaW5nLXJlbGF4ZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7Z2V0RW50aXR5RGVzY3JpcHRpb24oc2NoZW1hLnR5cGVOYW1lKX1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTQgdGV4dC1zbSB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCJcclxuICAgICAgICAgICAgICAgICAgICAgID5GaWxlczoge3NjaGVtYS5maWxlQ291bnR9PC9zcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgPlByb3BzOiB7c2NoZW1hLnByb3BlcnRpZXMubGVuZ3RofTwvc3BhblxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhblxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSB7c3RhdHMuc2NvcmUgPj0gODBcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyAndGV4dC1bdmFyKC0tdGV4dC1zdWNjZXNzKV0nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogc3RhdHMuc2NvcmUgPj0gNjBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA/ICd0ZXh0LVt2YXIoLS10ZXh0LXdhcm5pbmcpXSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA6ICd0ZXh0LVt2YXIoLS10ZXh0LWVycm9yKV0nfVwiXHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAge3N0YXRzLnNjb3JlfSUgY29tcGxpYW50XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIHsvZWFjaH1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICB7L2lmfVxyXG4gICAgICA8L2Rpdj5cclxuICAgIHsvaWZ9XHJcblxyXG4gICAgPCEtLSBQUk9QRVJUSUVTIFRBQiAtLT5cclxuICAgIHsjaWYgYWN0aXZlVGFiID09PSBcInByb3BlcnRpZXNcIn1cclxuICAgICAgPGRpdiBjbGFzcz1cImFuaW1hdGUtZmFkZUluXCIgaWQ9XCJwcm9wZXJ0aWVzLXBhbmVsXCI+XHJcbiAgICAgICAgPCEtLSBMTE0gQXV0by1HZW5lcmF0aW9uIFNlY3Rpb24gLS0+XHJcbiAgICAgICAgPGRpdlxyXG4gICAgICAgICAgY2xhc3M9XCJiZy1ncmFkaWVudC10by1iciBmcm9tLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0by1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHAtNiByb3VuZGVkLXhsIG1iLTYgc2hhZG93LW1kXCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICA8aDMgY2xhc3M9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgbWItMiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJzcGFya2xlc1wiIC8+XHJcbiAgICAgICAgICAgIDxzcGFuPkxMTSBBdXRvbWF0aWMgUHJvcGVydHkgRGVzY3JpcHRpb25zPC9zcGFuPlxyXG4gICAgICAgICAgPC9oMz5cclxuICAgICAgICAgIDxwIGNsYXNzPVwibWItNCBvcGFjaXR5LTkwIGxlYWRpbmctcmVsYXhlZFwiPlxyXG4gICAgICAgICAgICBVc2UgQUkgdG8gYXV0b21hdGljYWxseSBnZW5lcmF0ZSBwcm9wZXJ0eSBkZXNjcmlwdGlvbnMgYW5kIGNvbmZpZ3VyZVxyXG4gICAgICAgICAgICBwcm9wZXJ0eSBzZXR0aW5ncyBmb3IgYWxsIGVudGl0aWVzLlxyXG4gICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTMgZmxleC13cmFwIGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgY2xhc3M9XCJweC00IHB5LTIgYmctW3JnYmEoMjU1LDI1NSwyNTUsMC4wNildIGJvcmRlciBib3JkZXItW3JnYmEoMjU1LDI1NSwyNTUsMC4wOCldIHJvdW5kZWQtbWQgdGV4dC1zbSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgYmFja2Ryb3AtYmx1ci1zbSBob3ZlcjpiZy1bcmdiYSgyNTUsMjU1LDI1NSwwLjA5KV0gZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXVwiXHJcbiAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IG9wZW5HZW5lcmF0aW9uTW9kYWwoXCJwcm9wZXJ0aWVzXCIpfVxyXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtpc0dlbmVyYXRpbmdPbnRvbG9neX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIHsjaWYgaXNHZW5lcmF0aW5nT250b2xvZ3kgJiYgbW9kYWxHZW5lcmF0aW9uVHlwZSA9PT0gXCJwcm9wZXJ0aWVzXCJ9XHJcbiAgICAgICAgICAgICAgICDij7MgR2VuZXJhdGluZy4uLlxyXG4gICAgICAgICAgICAgIHs6ZWxzZX1cclxuICAgICAgICAgICAgICAgIEdlbmVyYXRlIEFsbCBQcm9wZXJ0eSBEZXNjcmlwdGlvbnNcclxuICAgICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIGNsYXNzPVwicHgtNCBweS0yIGJnLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDQpXSBib3JkZXIgYm9yZGVyLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDYpXSByb3VuZGVkLW1kIHRleHQtc20gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGJhY2tkcm9wLWJsdXItc20gaG92ZXI6YmctW3JnYmEoMjU1LDI1NSwyNTUsMC4wNildIGhvdmVyOmJvcmRlci1bcmdiYSgyNTUsMjU1LDI1NSwwLjA4KV1cIlxyXG4gICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiBvcGVuR2VuZXJhdGlvbk1vZGFsKFwibG9hZF9kZWZhdWx0X3Byb3BlcnRpZXNcIil9XHJcbiAgICAgICAgICAgICAgdGl0bGU9XCJMb2FkIGFsbCBkZWZhdWx0IHByb3BlcnR5IGRlc2NyaXB0aW9ucyBpbnRvIGRhdGEuanNvblwiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICBMb2FkIERlZmF1bHQgRGVzY3JpcHRpb25zXHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgY2xhc3M9XCJweC00IHB5LTIgYmctW3JnYmEoMjU1LDI1NSwyNTUsMC4wNCldIGJvcmRlciBib3JkZXItW3JnYmEoMjU1LDI1NSwyNTUsMC4wNildIHJvdW5kZWQtbWQgdGV4dC1zbSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgYmFja2Ryb3AtYmx1ci1zbSBob3ZlcjpiZy1bcmdiYSgyNTUsMjU1LDI1NSwwLjA2KV0gaG92ZXI6Ym9yZGVyLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDgpXVwiXHJcbiAgICAgICAgICAgICAgb246Y2xpY2s9e2VuYWJsZURlZmF1bHRQcm9wZXJ0aWVzfVxyXG4gICAgICAgICAgICAgIHRpdGxlPVwiRW5hYmxlIGFsbCBwcm9wZXJ0aWVzIGZvciB3aGljaCB3ZSBoYXZlIGRlZmF1bHQgZGVzY3JpcHRpb25zXCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIEVuYWJsZSBEZWZhdWx0IFByb3BlcnRpZXNcclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgPGRpdj5cclxuICAgICAgICAgIDxoMyBjbGFzcz1cInRleHQtbGcgZm9udC1zZW1pYm9sZCBtYi0yIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+XHJcbiAgICAgICAgICAgIEFsbCBFbnRpdHkgUHJvcGVydGllc1xyXG4gICAgICAgICAgPC9oMz5cclxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIG1iLTZcIj5cclxuICAgICAgICAgICAgQ29uZmlndXJlIHByb3BlcnR5IG1hcHBpbmdzLCBkZXNjcmlwdGlvbnMsIGFuZCBmaWVsZCB0eXBlcyBmb3IgYWxsXHJcbiAgICAgICAgICAgIGVudGl0eSB0eXBlcy5cclxuICAgICAgICAgIDwvcD5cclxuXHJcbiAgICAgICAgICB7I2lmIHNjaGVtYXMubGVuZ3RoID4gMH1cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2wgZ2FwLTRcIj5cclxuICAgICAgICAgICAgICA8IS0tIEJhc2UgRW50aXR5IFByb3BlcnRpZXMgLS0+XHJcbiAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJiZy1bdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5LWFsdCldIGJvcmRlci0yIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkLWxnIG92ZXJmbG93LWhpZGRlblwiXHJcbiAgICAgICAgICAgICAgICBpZD1cImFjY29yZGlvbi1CYXNlRW50aXR5XCJcclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIHctZnVsbCBwLTQgYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gYm9yZGVyLW5vbmUge2V4cGFuZGVkQWNjb3JkaW9ucy5oYXMoXHJcbiAgICAgICAgICAgICAgICAgICAgJ0Jhc2VFbnRpdHknXHJcbiAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICA/ICdib3JkZXItYiBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0nXHJcbiAgICAgICAgICAgICAgICAgICAgOiAnJ31cIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmbGV4LTEgZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIHRleHQtbGVmdCBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAgaG92ZXI6b3BhY2l0eS05MFwiXHJcbiAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IHRvZ2dsZUFjY29yZGlvbihcIkJhc2VFbnRpdHlcIil9XHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICBCYXNlRW50aXR5IDxzcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidGV4dC14cyBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gcHgtMiBweS0xIHJvdW5kZWQgbWwtMlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5TWVNURU08L3NwYW5cclxuICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8L2g0PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSBweC0yIHB5LTEgcm91bmRlZC1mdWxsXCJcclxuICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgMyBvZiAzIGVuYWJsZWRcclxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidGV4dC1sZyB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gZm9udC1ib2xkIG1sLTRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7I2lmIGV4cGFuZGVkQWNjb3JkaW9ucy5oYXMoXCJCYXNlRW50aXR5XCIpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cImNoZXZyb24tZG93blwiIHNpemU9XCJtZWRpdW1cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7OmVsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwiY2hldnJvbi1yaWdodFwiIHNpemU9XCJtZWRpdW1cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgIHsjaWYgZXhwYW5kZWRBY2NvcmRpb25zLmhhcyhcIkJhc2VFbnRpdHlcIil9XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwLTQgYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5LWFsdCldXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2wgZ2FwLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwhLS0gVHlwZSBQcm9wZXJ0eSAtLT5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmbGV4IGZsZXgtY29sIGdhcC0yIHAtMyBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQtbWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgZmxleC13cmFwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJyb3VuZGVkIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSB0ZXh0LVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBmb2N1czpyaW5nLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkJhc2UgRW50aXR5IHByb3BlcnRpZXMgYXJlIGFsd2F5cyBlbmFibGVkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZm9udC1tZWRpdW0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPnR5cGU8L3NwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gdGV4dC1zbVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+KHN0cmluZyk8L3NwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidGV4dC14cyBweC0yIHB5LTEgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIHJvdW5kZWQgZm9udC1ib2xkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIG1sLWF1dG9cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlNZU1RFTTwvc3BhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCJFbnRpdHkgdHlwZSBpZGVudGlmaWVyIGZvciBjbGFzc2lmaWNhdGlvbiBhbmQgbW9kZWwgc2VsZWN0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmbGV4LTEgcHgtMyBweS0yIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGZvY3VzOmJvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1zbSBtaW4tdy00OCBkaXNhYmxlZDpvcGFjaXR5LTUwIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicHgtMiBweS0yIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCB0ZXh0LXNtIG9wYWNpdHktNTAgY3Vyc29yLW5vdC1hbGxvd2VkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiU3lzdGVtIHByb3BlcnRpZXMgY2Fubm90IGJlIGVkaXRlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cImxvY2tcIiBzaXplPVwibWVkaXVtXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICA8IS0tIFRhZ3MgUHJvcGVydHkgLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZmxleCBmbGV4LWNvbCBnYXAtMiBwLTMgYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkLW1kXCJcclxuICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIGZsZXgtd3JhcFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicm91bmRlZCBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gZm9jdXM6cmluZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJCYXNlIEVudGl0eSBwcm9wZXJ0aWVzIGFyZSBhbHdheXMgZW5hYmxlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZvbnQtbWVkaXVtIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID50YWdzPC9zcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIHRleHQtc21cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPihMaXN0W3N0cl0pPC9zcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInRleHQteHMgcHgtMiBweS0xIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSByb3VuZGVkIGZvbnQtYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSBtbC1hdXRvXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5TWVNURU08L3NwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwiVGFncyBhbmQgbGFiZWxzIGZvciBjYXRlZ29yaXphdGlvbiBhbmQgb3JnYW5pemF0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmbGV4LTEgcHgtMyBweS0yIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGZvY3VzOmJvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1zbSBtaW4tdy00OCBkaXNhYmxlZDpvcGFjaXR5LTUwIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicHgtMiBweS0yIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCB0ZXh0LXNtIG9wYWNpdHktNTAgY3Vyc29yLW5vdC1hbGxvd2VkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiU3lzdGVtIHByb3BlcnRpZXMgY2Fubm90IGJlIGVkaXRlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cImxvY2tcIiBzaXplPVwibWVkaXVtXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICA8IS0tIENyZWF0ZWQgUHJvcGVydHkgLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZmxleCBmbGV4LWNvbCBnYXAtMiBwLTMgYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkLW1kXCJcclxuICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIGZsZXgtd3JhcFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicm91bmRlZCBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gZm9jdXM6cmluZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJCYXNlIEVudGl0eSBwcm9wZXJ0aWVzIGFyZSBhbHdheXMgZW5hYmxlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZvbnQtbWVkaXVtIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5jcmVhdGVkPC9zcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIHRleHQtc21cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPihkYXRldGltZSk8L3NwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidGV4dC14cyBweC0yIHB5LTEgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIHJvdW5kZWQgZm9udC1ib2xkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIG1sLWF1dG9cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlNZU1RFTTwvc3BhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCJUaW1lc3RhbXAgd2hlbiB0aGUgZW50aXR5IHdhcyBmaXJzdCBjcmVhdGVkIG9yIGRpc2NvdmVyZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImZsZXgtMSBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gZm9jdXM6Ym9yZGVyLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LXNtIG1pbi13LTQ4IGRpc2FibGVkOm9wYWNpdHktNTAgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJweC0yIHB5LTIgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIHRleHQtc20gb3BhY2l0eS01MCBjdXJzb3Itbm90LWFsbG93ZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJTeXN0ZW0gcHJvcGVydGllcyBjYW5ub3QgYmUgZWRpdGVkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwibG9ja1wiIHNpemU9XCJtZWRpdW1cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8IS0tIEJhc2UgRW50aXR5IFN0YXR1cyBNZXNzYWdlIC0tPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibXQtNCBwLTMgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIHRleHQtc20gbGVhZGluZy1yZWxheGVkIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCJcclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJpbmZvXCIgc2l6ZT1cIm1lZGl1bVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPkJhc2UgRW50aXR5IFByb3BlcnRpZXM6PC9zdHJvbmc+XHJcbiAgICAgICAgICAgICAgICAgICAgICBUaGVzZSBjb3JlIHByb3BlcnRpZXMgYXJlIGluaGVyaXRlZCBieSBhbGwgY3VzdG9tIGVudGl0eSB0eXBlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgYW5kIGFyZSBhbHdheXMgZW5hYmxlZC5cclxuICAgICAgICAgICAgICAgICAgICAgIDxiciAvPjxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+QWxsIGdlbmVyYXRlZCBQeWRhbnRpYyBtb2RlbHMgYXV0b21hdGljYWxseSBpbmNsdWRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoZXNlIGZvdW5kYXRpb25hbCBmaWVsZHMuPC9zcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgeyNlYWNoIHNjaGVtYXMgYXMgc2NoZW1hLCBzY2hlbWFJbmRleH1cclxuICAgICAgICAgICAgICAgIHtAY29uc3QgZW5hYmxlZFByb3BlcnRpZXMgPVxyXG4gICAgICAgICAgICAgICAgICBzY2hlbWEucHJvcGVydGllcz8uZmlsdGVyKChwcm9wKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNHbG9iYWxseUlnbm9yZWQgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgcGx1Z2luU2V0dGluZ3M/Lmdsb2JhbGx5SWdub3JlZEZpZWxkcz8uaW5jbHVkZXMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3AubmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXBwZWROYW1lID0gZ2V0TWFwcGVkUHJvcGVydHlOYW1lKFxyXG4gICAgICAgICAgICAgICAgICAgICAgc2NoZW1hLnR5cGVOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgcHJvcC5uYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1Byb3BlcnR5RW5hYmxlZCA9XHJcbiAgICAgICAgICAgICAgICAgICAgICBwbHVnaW5TZXR0aW5ncz8ucHJvcGVydHlTZWxlY3Rpb25zPy5bc2NoZW1hLnR5cGVOYW1lXT8uW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXBwZWROYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICBdID8/IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAhcHJvcC5pc1Byb3RlY3RlZCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgIWlzR2xvYmFsbHlJZ25vcmVkICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICBpc1Byb3BlcnR5RW5hYmxlZFxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgIH0pIHx8IFtdfVxyXG4gICAgICAgICAgICAgICAge0Bjb25zdCB0b3RhbFByb3BlcnRpZXMgPSBzY2hlbWEucHJvcGVydGllcz8ubGVuZ3RoIHx8IDB9XHJcbiAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5LWFsdCldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZC1sZyBvdmVyZmxvdy1oaWRkZW5cIlxyXG4gICAgICAgICAgICAgICAgICBpZD1cImFjY29yZGlvbi17c2NoZW1hLnR5cGVOYW1lfVwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciB3LWZ1bGwgcC00IGJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlci1ub25lIHtleHBhbmRlZEFjY29yZGlvbnMuaGFzKFxyXG4gICAgICAgICAgICAgICAgICAgICAgc2NoZW1hLnR5cGVOYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgPyAnYm9yZGVyLWIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgOiAnJ31cIlxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmbGV4LTEgZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIHRleHQtbGVmdCBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAgaG92ZXI6b3BhY2l0eS05MFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gdG9nZ2xlQWNjb3JkaW9uKHNjaGVtYS50eXBlTmFtZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzcz1cImZvbnQtc2VtaWJvbGQgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7c2NoZW1hLnR5cGVOYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2g0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8IS0tIEVudGl0eSBlbmFibGVkL2Rpc2FibGVkIHN0YXRlIGluZGljYXRvciAtLT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBjdXJzb3ItcG9pbnRlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2VudGl0eURlc2NyaXB0aW9uc1tzY2hlbWEudHlwZU5hbWVdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiRW50aXR5IGVuYWJsZWQgaW4gZGF0YS5qc29uIC0gdW5jaGVjayB0byBkaXNhYmxlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJFbnRpdHkgZGlzYWJsZWQgLSBjaGVjayB0byBlbmFibGUgaW4gZGF0YS5qc29uXCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXshIWVudGl0eURlc2NyaXB0aW9uc1tzY2hlbWEudHlwZU5hbWVdfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2hhbmdlfHN0b3BQcm9wYWdhdGlvbj17KCkgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlRW50aXR5RGVmaW5pdGlvbihzY2hlbWEudHlwZU5hbWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ3LTQgaC00IHRleHQtW3ZhcigtLXRleHQtc3VjY2VzcyldIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIGZvY3VzOnJpbmctW3ZhcigtLXRleHQtc3VjY2VzcyldIGZvY3VzOnJpbmctMlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ0ZXh0LXhzIHtlbnRpdHlEZXNjcmlwdGlvbnNbc2NoZW1hLnR5cGVOYW1lXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICd0ZXh0LVt2YXIoLS10ZXh0LXN1Y2Nlc3MpXSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAndGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldJ31cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtlbnRpdHlEZXNjcmlwdGlvbnNbc2NoZW1hLnR5cGVOYW1lXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiRW50aXR5IEVuYWJsZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiRW50aXR5IERpc2FibGVkXCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInRleHQteHMgdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIHB4LTIgcHktMSByb3VuZGVkLWZ1bGxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAge2VuYWJsZWRQcm9wZXJ0aWVzLmxlbmd0aH0gb2Yge3RvdGFsUHJvcGVydGllc30gZW5hYmxlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ0ZXh0LWxnIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSBmb250LWJvbGQgbWwtNFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIGV4cGFuZGVkQWNjb3JkaW9ucy5oYXMoc2NoZW1hLnR5cGVOYW1lKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cImNoZXZyb24tZG93blwiIHNpemU9XCJtZWRpdW1cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHs6ZWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cImNoZXZyb24tcmlnaHRcIiBzaXplPVwibWVkaXVtXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLSBCdWxrIEFjdGlvbnMgLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgeyNpZiBleHBhbmRlZEFjY29yZGlvbnMuaGFzKHNjaGVtYS50eXBlTmFtZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtMiBtbC00XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInB4LTIgcHktMSB0ZXh0LXhzIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLXN1Y2Nlc3MpXSB0ZXh0LVt2YXIoLS10ZXh0LXN1Y2Nlc3MpXSBib3JkZXIgYm9yZGVyLWdyZWVuLTMwMCByb3VuZGVkIGhvdmVyOmJnLWdyZWVuLTIwMCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrfHN0b3BQcm9wYWdhdGlvbj17KCkgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdEFsbFByb3BlcnRpZXMoc2NoZW1hLnR5cGVOYW1lKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkVuYWJsZSBhbGwgbm9uLXByb3RlY3RlZCwgbm9uLWlnbm9yZWQgcHJvcGVydGllc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBTZWxlY3QgQWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJweC0yIHB5LTEgdGV4dC14cyBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1lcnJvcildIHRleHQtW3ZhcigtLXRleHQtZXJyb3IpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWVycm9yKV0gcm91bmRlZCBob3ZlcjpiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1lcnJvcildIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2t8c3RvcFByb3BhZ2F0aW9uPXsoKSA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzZWxlY3RBbGxQcm9wZXJ0aWVzKHNjaGVtYS50eXBlTmFtZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJEaXNhYmxlIGFsbCBwcm9wZXJ0aWVzXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIERlc2VsZWN0IEFsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIHsvaWZ9XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgeyNpZiBleHBhbmRlZEFjY29yZGlvbnMuaGFzKHNjaGVtYS50eXBlTmFtZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInAtNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgeyNpZiBzY2hlbWEucHJvcGVydGllcyAmJiBzY2hlbWEucHJvcGVydGllcy5sZW5ndGggPiAwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbCBnYXAtM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsjZWFjaCBzY2hlbWEucHJvcGVydGllcyBhcyBwcm9wLCBwcm9wSW5kZXh9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QGNvbnN0IGlzR2xvYmFsbHlJZ25vcmVkID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGx1Z2luU2V0dGluZ3M/Lmdsb2JhbGx5SWdub3JlZEZpZWxkcz8uaW5jbHVkZXMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcD8ubmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge0Bjb25zdCBtYXBwZWROYW1lID0gZ2V0TWFwcGVkUHJvcGVydHlOYW1lKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2hlbWEudHlwZU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3A/Lm5hbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QGNvbnN0IGlzUHJvcGVydHlFbmFibGVkID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGx1Z2luU2V0dGluZ3M/LnByb3BlcnR5U2VsZWN0aW9ucz8uW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYS50eXBlTmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdPy5bbWFwcGVkTmFtZV0gPz8gZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QGNvbnN0IGlzTWFwcGVkUHJvcGVydHkgPSBpc1Byb3BlcnR5TWFwcGVkKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2hlbWEudHlwZU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3A/Lm5hbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QGNvbnN0IG9yaWdpbmFsTmFtZSA9IGdldE9yaWdpbmFsUHJvcGVydHlOYW1lKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2hlbWEudHlwZU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3A/Lm5hbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QGNvbnN0IGhhc0Rlc2NyaXB0aW9uSW5EYXRhSnNvbiA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICEhcHJvcGVydHlEZXNjcmlwdGlvbnNbc2NoZW1hLnR5cGVOYW1lXT8uW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3A/Lm5hbWUgfHwgXCJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdPy5kZXNjcmlwdGlvbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmbGV4IGZsZXgtY29sIGdhcC0yIHAtMyBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQtbWQge3Byb3A/LmlzUHJvdGVjdGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYm9yZGVyLWwtNCBib3JkZXItbC1bdmFyKC0tdGV4dC1lcnJvcildIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWVycm9yKV0nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBwcm9wPy5jb21wbGlhbmNlU3RhdHVzID09PSAnd2FybmluZydcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JvcmRlci1sLTQgYm9yZGVyLWwtW3ZhcigtLXRleHQtd2FybmluZyldIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLXdhcm5pbmcpXSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaXNHbG9iYWxseUlnbm9yZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYm9yZGVyLWwtNCBib3JkZXItbC1bdmFyKC0tdGV4dC1tdXRlZCldIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICcnfVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBmbGV4LXdyYXBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIFByb3BlcnR5IEVuYWJsZS9EaXNhYmxlIENoZWNrYm94IC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2lzUHJvcGVydHlFbmFibGVkICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFpc0dsb2JhbGx5SWdub3JlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtwcm9wPy5pc1Byb3RlY3RlZCB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0dsb2JhbGx5SWdub3JlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNoYW5nZT17KGUpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUNoZWNrYm94Q2hhbmdlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYUluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BJbmRleCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInJvdW5kZWQgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRleHQtW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGZvY3VzOnJpbmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtpc0dsb2JhbGx5SWdub3JlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiVGhpcyBwcm9wZXJ0eSBpcyBnbG9iYWxseSBpZ25vcmVkIGFuZCBjYW5ub3QgYmUgZW5hYmxlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcHJvcD8uaXNQcm90ZWN0ZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiUHJvdGVjdGVkIHByb3BlcnRpZXMgY2Fubm90IGJlIGVuYWJsZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJFbmFibGUvZGlzYWJsZSB0aGlzIHByb3BlcnR5IGZvciBQeWRhbnRpYyBtb2RlbCBnZW5lcmF0aW9uXCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZm9udC1tZWRpdW0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0ge2lzR2xvYmFsbHlJZ25vcmVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ3RleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSBsaW5lLXRocm91Z2gnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJyd9XCI+e3Byb3A/Lm5hbWUgfHwgXCJVbmtub3duXCJ9PC9zcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIHRleHQtc21cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPih7cHJvcD8uaW5mZXJyZWRUeXBlIHx8IFwic3RyaW5nXCJ9KTwvc3BhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBQcm9wZXJ0eSBNYXBwaW5nIEluZGljYXRvciAtLT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIGlzTWFwcGVkUHJvcGVydHl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInRleHQteHMgcHgtMiBweS0xIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSByb3VuZGVkIGZvbnQtbWVkaXVtXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJUaGlzIHByb3BlcnR5IGlzIHRoZSByZXN1bHQgb2YgYSBtYXBwaW5nIGZyb206IHtvcmlnaW5hbE5hbWV9XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTUFQUEVEIEZST006IHtvcmlnaW5hbE5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBQcm9wZXJ0eSBEZWZpbml0aW9uIENoZWNrYm94IC0gc2FtZSBzdHlsZSBhcyBFbnRpdHkgRW5hYmxlZCAtLT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmICFwcm9wPy5pc1Byb3RlY3RlZCAmJiAhaXNHbG9iYWxseUlnbm9yZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBjdXJzb3ItcG9pbnRlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtoYXNEZXNjcmlwdGlvbkluRGF0YUpzb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiUHJvcGVydHkgZGVmaW5lZCBpbiBkYXRhLmpzb24gLSB1bmNoZWNrIHRvIHJlbW92ZSBkZWZpbml0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiUHJvcGVydHkgbm90IGRlZmluZWQgLSBjaGVjayB0byBhZGQgZGVmaW5pdGlvbiB0byBkYXRhLmpzb25cIn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtoYXNEZXNjcmlwdGlvbkluRGF0YUpzb259XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2hhbmdlfHN0b3BQcm9wYWdhdGlvbj17KCkgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZVByb3BlcnR5RGVmaW5pdGlvbihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NoZW1hLnR5cGVOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wPy5uYW1lIHx8IFwiXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ3LTQgaC00IHRleHQtW3ZhcigtLXRleHQtc3VjY2VzcyldIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIGZvY3VzOnJpbmctW3ZhcigtLXRleHQtc3VjY2VzcyldIGZvY3VzOnJpbmctMlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ0ZXh0LXhzIHtoYXNEZXNjcmlwdGlvbkluRGF0YUpzb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ3RleHQtW3ZhcigtLXRleHQtc3VjY2VzcyldJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAndGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldJ31cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2hhc0Rlc2NyaXB0aW9uSW5EYXRhSnNvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlByb3BlcnR5IERlZmluZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlByb3BlcnR5IE5vdCBEZWZpbmVkXCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBTdGF0dXMgSW5kaWNhdG9ycyAtLT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIHByb3A/LmlzUHJvdGVjdGVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ0ZXh0LXhzIHB4LTIgcHktMSBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1lcnJvcildIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gcm91bmRlZCBmb250LWJvbGQgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgbWwtYXV0b1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5QUk9URUNURUQ8L3NwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7OmVsc2UgaWYgaXNHbG9iYWxseUlnbm9yZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInRleHQteHMgcHgtMiBweS0xIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSByb3VuZGVkIGZvbnQtYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSBtbC1hdXRvXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPklHTk9SRUQ8L3NwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7OmVsc2UgaWYgcHJvcD8uY29tcGxpYW5jZVN0YXR1cyA9PT0gXCJ3YXJuaW5nXCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInRleHQteHMgcHgtMiBweS0xIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLXdhcm5pbmcpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHJvdW5kZWQgZm9udC1ib2xkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIG1sLWF1dG9cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+TkFNSU5HPC9zcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgezplbHNlIGlmIGlzUHJvcGVydHlFbmFibGVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ0ZXh0LXhzIHB4LTIgcHktMSBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1zdWNjZXNzKV0gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSByb3VuZGVkIGZvbnQtYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSBtbC1hdXRvXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPkVOQUJMRUQ8L3NwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7OmVsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInRleHQteHMgcHgtMiBweS0xIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSByb3VuZGVkIGZvbnQtYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSBtbC1hdXRvXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPkRJU0FCTEVEPC9zcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIERlc2NyaXB0aW9uIGlucHV0IC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2dldFByb3BlcnR5RGVzY3JpcHRpb24oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYS50eXBlTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcD8ubmFtZSB8fCBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wPy5kZXNjcmlwdGlvbiB8fCBcIlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246aW5wdXQ9eyhlKSA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVEZXNjcmlwdGlvbklucHV0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYUluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BJbmRleCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlByb3BlcnR5IGRlc2NyaXB0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZmxleC0xIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBmb2N1czpib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtc20gbWluLXctNDggZGlzYWJsZWQ6b3BhY2l0eS01MCB7aXNHbG9iYWxseUlnbm9yZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJyd9XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtwcm9wPy5pc1Byb3RlY3RlZCB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0dsb2JhbGx5SWdub3JlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmICFwcm9wPy5pc1Byb3RlY3RlZCAmJiAhaXNHbG9iYWxseUlnbm9yZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIGhhc0RlZmF1bHRQcm9wZXJ0eURlc2NyaXB0aW9uKHByb3A/Lm5hbWUgfHwgXCJcIil9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInB4LTIgcHktMiBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1zdWNjZXNzKV0gdGV4dC1bdmFyKC0tdGV4dC1zdWNjZXNzKV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1zdWNjZXNzKV0gcm91bmRlZCBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMCB0ZXh0LXNtIHdoaXRlc3BhY2Utbm93cmFwIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWREZWZhdWx0UHJvcGVydHlEZXNjcmlwdGlvbihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NoZW1hLnR5cGVOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wPy5uYW1lIHx8IFwiXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJMb2FkIGRlZmF1bHQgZGVzY3JpcHRpb24gZm9yIHtwcm9wPy5uYW1lfVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uPVwiZG93bmxvYWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cIm1lZGl1bVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5Mb2FkIERlZmF1bHQ8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJweC0yIHB5LTIgYmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gcm91bmRlZCBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMCB0ZXh0LXNtIHdoaXRlc3BhY2Utbm93cmFwIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVQcm9wZXJ0eURlc2MoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2hlbWEudHlwZU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wPy5uYW1lIHx8IFwiXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17Z2VuZXJhdGluZ1Byb3BlcnR5RGVzYyA9PT1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtzY2hlbWEudHlwZU5hbWV9LiR7cHJvcD8ubmFtZSB8fCBcIlwifWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiR2VuZXJhdGUgQUkgZGVzY3JpcHRpb24gZm9yIHtwcm9wPy5uYW1lfVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgZ2VuZXJhdGluZ1Byb3BlcnR5RGVzYyA9PT0gYCR7c2NoZW1hLnR5cGVOYW1lfS4ke3Byb3A/Lm5hbWUgfHwgXCJcIn1gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKPsyBHZW5lcmF0aW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHs6ZWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uPVwic3BhcmtsZXNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cIm1lZGl1bVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5MTE0gU3VnZ2VzdDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBWYWxpZGF0aW9uIFdhcm5pbmdzIGFuZCBTdGF0dXMgTWVzc2FnZXMgLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgcHJvcD8uaXNQcm90ZWN0ZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtdC0yIHAtMyBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1lcnJvcildIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCB0ZXh0LXNtIGxlYWRpbmctcmVsYXhlZCB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249XCJhbGVydC10cmlhbmdsZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJtZWRpdW1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz4gPHN0cm9uZz5Qcm90ZWN0ZWQgQXR0cmlidXRlOjwvc3Ryb25nPiBUaGlzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcyBhIHJlc2VydmVkIEdyYXBoaXRpIGF0dHJpYnV0ZSBhbmQgY2Fubm90IGJlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VkLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBwcm9wPy5zdWdnZXN0ZWROYW1lICYmIHByb3Auc3VnZ2VzdGVkTmFtZSAhPT0gcHJvcC5uYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnIgLz5Db25zaWRlciB1c2luZzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJnLWJsYWNrLzEwIHB4LTEgcHktMC41IHJvdW5kZWQgZm9udC1tb25vIHRleHQteHNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID57cHJvcC5zdWdnZXN0ZWROYW1lfTwvY29kZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7OmVsc2UgaWYgaXNHbG9iYWxseUlnbm9yZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtdC0yIHAtMyBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgdGV4dC1zbSBsZWFkaW5nLXJlbGF4ZWQgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+8J+aqyBHbG9iYWxseSBJZ25vcmVkIEZpZWxkOjwvc3Ryb25nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhpcyBwcm9wZXJ0eSBpcyBpbiB0aGUgZ2xvYmFsbHkgaWdub3JlZCBmaWVsZHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgYW5kIHdpbGwgYmUgYXV0b21hdGljYWxseSBleGNsdWRlZCBmcm9tIFB5ZGFudGljXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbCBnZW5lcmF0aW9uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyIC8+PHNwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5HbG9iYWxseSBpZ25vcmVkIGZpZWxkczoge3BsdWdpblNldHRpbmdzPy5nbG9iYWxseUlnbm9yZWRGaWVsZHM/LmpvaW4oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIsIFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgfHwgXCJub25lXCJ9PC9zcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHs6ZWxzZSBpZiBwcm9wPy5uYW1pbmdJc3N1ZXMgJiYgcHJvcC5uYW1pbmdJc3N1ZXMubGVuZ3RoID4gMH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm10LTIgcC0zIGJnLW9yYW5nZS0xMDAgYm9yZGVyIGJvcmRlci1vcmFuZ2UtMjAwIHJvdW5kZWQgdGV4dC1zbSBsZWFkaW5nLXJlbGF4ZWQgdGV4dC1ncmF5LTkwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PE9ic2lkaWFuSWNvbiBpY29uPVwibGlnaHRidWxiXCIgLz4gTmFtaW5nIFN1Z2dlc3Rpb246PC9zdHJvbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwcm9wLm5hbWluZ0lzc3Vlcy5qb2luKFwiLCBcIil9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtdC0yIHB4LTMgcHktMSBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci13YXJuaW5nKV0gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSByb3VuZGVkIHRleHQteHMgZm9udC1tZWRpdW0gaG92ZXI6b3BhY2l0eS05MCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBseU5hbWluZ1N1Z2dlc3Rpb24oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2hlbWFJbmRleCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BJbmRleFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFwcGx5OiB7cHJvcD8uc3VnZ2VzdGVkTmFtZSB8fCBcIlN1Z2dlc3Rpb25cIn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7OmVsc2UgaWYgIWlzUHJvcGVydHlFbmFibGVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibXQtMiBwLTMgYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIHRleHQtc20gbGVhZGluZy1yZWxheGVkIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJpbmZvXCIgc2l6ZT1cIm1lZGl1bVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPlByb3BlcnR5IERpc2FibGVkOjwvc3Ryb25nPiBUaGlzIHByb3BlcnR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcyBjdXJyZW50bHkgZGlzYWJsZWQgYW5kIHdpbGwgbm90IGJlIGluY2x1ZGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbiB0aGUgZ2VuZXJhdGVkIFB5ZGFudGljIG1vZGVsLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBwcm9wPy5leGFtcGxlcyAmJiBwcm9wLmV4YW1wbGVzLmxlbmd0aCA+IDB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSBpdGFsaWMgbXQtMVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5FeGFtcGxlczo8L3N0cm9uZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwcm9wLmV4YW1wbGVzLnNsaWNlKDAsIDMpLmpvaW4oXCIsIFwiKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgcHJvcC5leGFtcGxlcy5sZW5ndGggPiAzfS4uLnsvaWZ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7L2VhY2h9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgezplbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8cFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIGl0YWxpYyB0ZXh0LWNlbnRlciBweS00XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIE5vIHByb3BlcnRpZXMgZm91bmQgZm9yIHRoaXMgZW50aXR5IHR5cGUuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgPCEtLSBQcm9wZXJ0eSBTZWxlY3Rpb24gVmFsaWRhdGlvbiBNZXNzYWdlcyAtLT5cclxuICAgICAgICAgICAgICAgICAgICAgIHsjaWYgc2NoZW1hLnByb3BlcnRpZXMgJiYgc2NoZW1hLnByb3BlcnRpZXMubGVuZ3RoID4gMH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBlbmFibGVkUHJvcGVydGllcy5sZW5ndGggPT09IDB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtdC00IHAtMyBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci13YXJuaW5nKV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIHRleHQtc20gbGVhZGluZy1yZWxheGVkIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJhbGVydC10cmlhbmdsZVwiIHNpemU9XCJtZWRpdW1cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5ObyBQcm9wZXJ0aWVzIFNlbGVjdGVkOjwvc3Ryb25nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhpcyBlbnRpdHkgdHlwZSBoYXMgbm8gZW5hYmxlZCBwcm9wZXJ0aWVzIGFuZCB3aWxsIGJlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGNsdWRlZCBmcm9tIFB5ZGFudGljIG1vZGVsIGdlbmVyYXRpb24uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnIgLz48c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPkVuYWJsZSBhdCBsZWFzdCBvbmUgcHJvcGVydHkgdXNpbmcgdGhlIGNoZWNrYm94ZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWJvdmUsIG9yIHRoaXMgZW50aXR5IHR5cGUgd29uJ3QgYXBwZWFyIGluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlZCBtb2RlbHMuPC9zcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHs6ZWxzZSBpZiBlbmFibGVkUHJvcGVydGllcy5sZW5ndGggPCB0b3RhbFByb3BlcnRpZXN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtdC00IHAtMyBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgdGV4dC1zbSBsZWFkaW5nLXJlbGF4ZWQgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+W0lORk9dIFBhcnRpYWwgU2VsZWN0aW9uOjwvc3Ryb25nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2VuYWJsZWRQcm9wZXJ0aWVzLmxlbmd0aH0gb2Yge3RvdGFsUHJvcGVydGllc30gcHJvcGVydGllc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlZCBmb3IgUHlkYW50aWMgbW9kZWwgZ2VuZXJhdGlvbi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiciAvPjxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+e3RvdGFsUHJvcGVydGllcyAtIGVuYWJsZWRQcm9wZXJ0aWVzLmxlbmd0aH0gcHJvcGVydGllc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWxsIGJlIGV4Y2x1ZGVkIGZyb20gdGhlIGdlbmVyYXRlZCBtb2RlbC48L3NwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgezplbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibXQtNCBwLTMgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItc3VjY2VzcyldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCB0ZXh0LXNtIGxlYWRpbmctcmVsYXhlZCB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJjaGVjay1jaXJjbGVcIiBzaXplPVwibWVkaXVtXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+QWxsIFByb3BlcnRpZXMgRW5hYmxlZDo8L3N0cm9uZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtlbmFibGVkUHJvcGVydGllcy5sZW5ndGh9IHByb3BlcnR7ZW5hYmxlZFByb3BlcnRpZXMubGVuZ3RoID09PVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwieVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJpZXNcIn0gcmVhZHkgZm9yIFB5ZGFudGljIG1vZGVsIGdlbmVyYXRpb24uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnIgLz48c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlRoaXMgZW50aXR5IHR5cGUgaXMgZnVsbHkgY29uZmlndXJlZCBhbmQgcmVhZHkgdG9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlLjwvc3BhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIHsvZWFjaH1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICB7OmVsc2V9XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlciBweS04IHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXVwiPlxyXG4gICAgICAgICAgICAgIDxwPk5vIGVudGl0eSB0eXBlcyBmb3VuZC4gUnVuIHNjaGVtYSBkaXNjb3ZlcnkgZmlyc3QuPC9wPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIHsvaWZ9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgey9pZn1cclxuXHJcbiAgICA8IS0tIEVER0UgVFlQRVMgVEFCIC0tPlxyXG4gICAgeyNpZiBhY3RpdmVUYWIgPT09IFwiZWRnZXNcIn1cclxuICAgICAgPGRpdiBjbGFzcz1cImFuaW1hdGUtZmFkZUluXCI+XHJcbiAgICAgICAgPCEtLSBMTE0gQXV0by1HZW5lcmF0aW9uIEJhbm5lciAtLT5cclxuICAgICAgICA8ZGl2XHJcbiAgICAgICAgICBjbGFzcz1cImJnLWdyYWRpZW50LXRvLWJyIGZyb20tW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRvLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gcC02IHJvdW5kZWQteGwgbWItNiBzaGFkb3ctbWRcIlxyXG4gICAgICAgID5cclxuICAgICAgICAgIDxoMyBjbGFzcz1cInRleHQteGwgZm9udC1zZW1pYm9sZCBtYi0yIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cInNwYXJrbGVzXCIgLz5cclxuICAgICAgICAgICAgPHNwYW4+TExNIEVkZ2UgVHlwZSBHZW5lcmF0aW9uPC9zcGFuPlxyXG4gICAgICAgICAgPC9oMz5cclxuICAgICAgICAgIDxwIGNsYXNzPVwibWItNCBvcGFjaXR5LTkwIGxlYWRpbmctcmVsYXhlZFwiPlxyXG4gICAgICAgICAgICBVc2UgQUkgdG8gYXV0b21hdGljYWxseSBnZW5lcmF0ZSBlZGdlIHR5cGUgc3VnZ2VzdGlvbnMgYW5kIHByb3BlcnR5XHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9ucyBmb3IgcmVsYXRpb25zaGlwcy5cclxuICAgICAgICAgIDwvcD5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC0zIGZsZXgtd3JhcCBpdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIGNsYXNzPVwicHgtNCBweS0yIGJnLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDYpXSBib3JkZXIgYm9yZGVyLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDgpXSByb3VuZGVkLW1kIHRleHQtc20gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGJhY2tkcm9wLWJsdXItc20gaG92ZXI6YmctW3JnYmEoMjU1LDI1NSwyNTUsMC4wOSldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV1cIlxyXG4gICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiBnZW5lcmF0ZUVkZ2VUeXBlU3VnZ2VzdGlvbnMoKX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIEdlbmVyYXRlIEVkZ2UgVHlwZSBTdWdnZXN0aW9uc1xyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIGNsYXNzPVwicHgtNCBweS0yIGJnLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDYpXSBib3JkZXIgYm9yZGVyLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDgpXSByb3VuZGVkLW1kIHRleHQtc20gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGJhY2tkcm9wLWJsdXItc20gaG92ZXI6YmctW3JnYmEoMjU1LDI1NSwyNTUsMC4wOSldIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV1cIlxyXG4gICAgICAgICAgICAgIG9uOmNsaWNrPXtnZW5lcmF0ZUFsbEVkZ2VQcm9wZXJ0eURlc2NyaXB0aW9uc31cclxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNHZW5lcmF0aW5nT250b2xvZ3l9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICB7I2lmIGlzR2VuZXJhdGluZ09udG9sb2d5fVxyXG4gICAgICAgICAgICAgICAg4o+zIEdlbmVyYXRpbmcuLi5cclxuICAgICAgICAgICAgICB7OmVsc2V9XHJcbiAgICAgICAgICAgICAgICBHZW5lcmF0ZSBFZGdlIFByb3BlcnR5IERlc2NyaXB0aW9uc1xyXG4gICAgICAgICAgICAgIHsvaWZ9XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDwhLS0gTExNIEVkZ2UgVHlwZSBTdWdnZXN0aW9ucyBTZWN0aW9uIC0tPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtZWdhbWVtLXNldHRpbmdzLXNlY3Rpb24gbWItNlwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1lZ2FtZW0tc2VjdGlvbi1oZWFkZXIgbWItNFwiPlxyXG4gICAgICAgICAgICA8aDNcclxuICAgICAgICAgICAgICBjbGFzcz1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJsaWdodGJ1bGJcIiAvPiBTdWdnZXN0ZWQgRWRnZSBUeXBlc1xyXG4gICAgICAgICAgICA8L2gzPlxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgeyNpZiBzaG93RWRnZVN1Z2dlc3Rpb25zICYmIGVkZ2VUeXBlU3VnZ2VzdGlvbnMubGVuZ3RoID4gMH1cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lZ2FtZW0tc3VnZ2VzdGlvbnMtY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgICAgeyNlYWNoIGVkZ2VUeXBlU3VnZ2VzdGlvbnMgYXMgc3VnZ2VzdGlvbn1cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZWdhbWVtLXN1Z2dlc3Rpb24taXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWVnYW1lbS1zdWdnZXN0aW9uLWluZm9cIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPntzdWdnZXN0aW9uLmNsYXNzTmFtZX08L3N0cm9uZz5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1lZ2FtZW0tY29uZmlkZW5jZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAge01hdGgucm91bmQoc3VnZ2VzdGlvbi5jb25maWRlbmNlICogMTAwKX0lIGNvbmZpZGVuY2VcclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWVnYW1lbS1zdWdnZXN0aW9uLWRlc2NyaXB0aW9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAge3N1Z2dlc3Rpb24uZGVzY3JpcHRpb259XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZWdhbWVtLWJ1dHRvbi1zbWFsbCBtZWdhbWVtLWFjY2VwdC1idXR0b25cIlxyXG4gICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiBhY2NlcHRFZGdlVHlwZVN1Z2dlc3Rpb24oc3VnZ2VzdGlvbil9XHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICArIEFkZCB0byBTY2hlbWFcclxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICB7L2VhY2h9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgezplbHNlIGlmIHNob3dFZGdlU3VnZ2VzdGlvbnN9XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZWdhbWVtLWluZm8tbWVzc2FnZVwiPlxyXG4gICAgICAgICAgICAgIE5vIHN1Z2dlc3Rpb25zIGF2YWlsYWJsZS4gVHJ5IGdlbmVyYXRpbmcgd2l0aCBzcGVjaWZpYyBlbnRpdHlcclxuICAgICAgICAgICAgICB0eXBlcy5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICB7L2lmfVxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgPGgzXHJcbiAgICAgICAgICAgIGNsYXNzPVwidGV4dC1sZyBmb250LXNlbWlib2xkIG1iLTIgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJsaW5rLTJcIiAvPiBFZGdlIFR5cGVzIE1hbmFnZW1lbnRcclxuICAgICAgICAgIDwvaDM+XHJcbiAgICAgICAgICA8cCBjbGFzcz1cInRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSBtYi02XCI+XHJcbiAgICAgICAgICAgIERlZmluZSByZWxhdGlvbnNoaXAgdHlwZXMgYmV0d2VlbiBlbnRpdGllcyB3aXRoIGN1c3RvbSBwcm9wZXJ0aWVzXHJcbiAgICAgICAgICAgIGZvciBQeWRhbnRpYyBtb2RlbCBnZW5lcmF0aW9uLlxyXG4gICAgICAgICAgPC9wPlxyXG5cclxuICAgICAgICAgIHsjaWYgZWRnZVR5cGVzTGlzdCAmJiBlZGdlVHlwZXNMaXN0Lmxlbmd0aCA+IDB9XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sIGdhcC00XCI+XHJcbiAgICAgICAgICAgICAgeyNlYWNoIGVkZ2VUeXBlc0xpc3QgYXMgZWRnZVR5cGVOYW1lfVxyXG4gICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cImJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeS1hbHQpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQtbGcgb3ZlcmZsb3ctaGlkZGVuXCJcclxuICAgICAgICAgICAgICAgICAgaWQ9XCJhY2NvcmRpb24tZWRnZS17ZWRnZVR5cGVOYW1lfVwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciB3LWZ1bGwgcC00IGJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlci1ub25lIHtleHBhbmRlZEFjY29yZGlvbnMuaGFzKFxyXG4gICAgICAgICAgICAgICAgICAgICAgYGVkZ2UtJHtlZGdlVHlwZU5hbWV9YFxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgID8gJ2JvcmRlci1iIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSdcclxuICAgICAgICAgICAgICAgICAgICAgIDogJyd9XCJcclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZmxleC0xIGZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciB0ZXh0LWxlZnQgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIGhvdmVyOm9wYWNpdHktOTBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IHRvZ2dsZUFjY29yZGlvbihgZWRnZS0ke2VkZ2VUeXBlTmFtZX1gKX1cclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtlZGdlVHlwZU5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2g0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC00XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSBweC0yIHB5LTEgcm91bmRlZC1mdWxsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA+e09iamVjdC5rZXlzKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRnZVR5cGVzW2VkZ2VUeXBlTmFtZV0/LnByb3BlcnRpZXMgfHwge31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICApLmxlbmd0aH0gcHJvcGVydGllczwvc3BhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ0ZXh0LWxnIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSBmb250LWJvbGQgbWwtNFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIGV4cGFuZGVkQWNjb3JkaW9ucy5oYXMoYGVkZ2UtJHtlZGdlVHlwZU5hbWV9YCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJjaGV2cm9uLWRvd25cIiBzaXplPVwibWVkaXVtXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7OmVsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJjaGV2cm9uLXJpZ2h0XCIgc2l6ZT1cIm1lZGl1bVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtbC0yIHB4LTIgcHktMSBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1lcnJvcildIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIGhvdmVyOm9wYWNpdHktOTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIHRleHQteHNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2t8c3RvcFByb3BhZ2F0aW9uPXsoKSA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVFZGdlVHlwZShlZGdlVHlwZU5hbWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJEZWxldGUge2VkZ2VUeXBlTmFtZX0gZWRnZSB0eXBlXCJcclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJ0cmFzaC0yXCIgc2l6ZT1cIm1lZGl1bVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgeyNpZiBleHBhbmRlZEFjY29yZGlvbnMuaGFzKGBlZGdlLSR7ZWRnZVR5cGVOYW1lfWApfVxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwLTRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwhLS0gRWRnZSBUeXBlIERlc2NyaXB0aW9uIC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidGV4dC1zbSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSBibG9jayBtYi0yXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA+RGVzY3JpcHRpb246PC9zdHJvbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Z2V0RWRnZVR5cGVEZXNjcmlwdGlvbihlZGdlVHlwZU5hbWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmlucHV0PXsoZSkgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUVkZ2VUeXBlRGVzY3JpcHRpb25JbnB1dChlZGdlVHlwZU5hbWUsIGUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidy1mdWxsIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBmb2N1czpib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtc20gbGVhZGluZy1yZWxheGVkIHJlc2l6ZS12ZXJ0aWNhbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJEZXNjcmliZSB0aGlzIHJlbGF0aW9uc2hpcCB0eXBlLi4uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPVwiMlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID48L3RleHRhcmVhPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgPCEtLSBFZGdlIFByb3BlcnRpZXMgTGlzdCAtLT5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmcgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5Qcm9wZXJ0aWVzOjwvc3Ryb25nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicHgtMiBweS0xIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCB0ZXh0LXhzIGhvdmVyOm9wYWNpdHktOTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoYWRkaW5nUHJvcGVydHlUb0VkZ2UgPSBlZGdlVHlwZU5hbWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cImNoZXZyb24tcmlnaHRcIiBzaXplPVwibWVkaXVtXCIgLz4gQWRkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9wZXJ0eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgT2JqZWN0LmtleXMoZWRnZVR5cGVzW2VkZ2VUeXBlTmFtZV0/LnByb3BlcnRpZXMgfHwge30pLmxlbmd0aCA+IDB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2wgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjZWFjaCBPYmplY3QuZW50cmllcyhlZGdlVHlwZXNbZWRnZVR5cGVOYW1lXS5wcm9wZXJ0aWVzKSBhcyBbcHJvcE5hbWUsIHByb3BEZWZdfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmbGV4IGZsZXgtY29sIGdhcC0yIHAtMyBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIGZsZXgtd3JhcFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmb250LW1lZGl1bSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID57cHJvcE5hbWV9PC9zcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSB0ZXh0LXNtXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPih7Z2V0UHJvcGVydHlJbmZvKHByb3BEZWYpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpZWxkVHlwZX0pPC9zcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIGdldFByb3BlcnR5SW5mbyhwcm9wRGVmKS5yZXF1aXJlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInRleHQteHMgcHgtMiBweS0xIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLXdhcm5pbmcpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHJvdW5kZWQgZm9udC1ib2xkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIG1sLWF1dG9cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5SRVFVSVJFRDwvc3BhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtnZXRQcm9wZXJ0eUluZm8ocHJvcERlZikuZGVzY3JpcHRpb259XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmlucHV0PXsoZSkgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVFZGdlUHJvcGVydHlEZXNjcmlwdGlvbklucHV0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRnZVR5cGVOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQcm9wZXJ0eSBkZXNjcmlwdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZmxleC0xIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBmb2N1czpib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtc20gbWluLXctNDhcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJweC0yIHB5LTIgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItZXJyb3IpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZVByb3BlcnR5RnJvbUVkZ2VUeXBlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRnZVR5cGVOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcE5hbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbj1cInRyYXNoLTJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJtZWRpdW1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicHgtMiBweS0yIGJnLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIGJvcmRlciBib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHJvdW5kZWQgaG92ZXI6b3BhY2l0eS05MCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAgdGV4dC1zbSB3aGl0ZXNwYWNlLW5vd3JhcCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiR2VuZXJhdGUgQUkgZGVzY3JpcHRpb24gZm9yIGVkZ2UgcHJvcGVydHlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUVkZ2VQcm9wZXJ0eURlc2MoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGdlVHlwZU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wTmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtnZW5lcmF0aW5nRWRnZVByb3BlcnR5RGVzYyA9PT1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtlZGdlVHlwZU5hbWV9LiR7cHJvcE5hbWV9YH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBnZW5lcmF0aW5nRWRnZVByb3BlcnR5RGVzYyA9PT0gYCR7ZWRnZVR5cGVOYW1lfS4ke3Byb3BOYW1lfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4o+zIEdlbmVyYXRpbmcuLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgezplbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxPYnNpZGlhbkljb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249XCJzcGFya2xlc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwibWVkaXVtXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkxMTSBTdWdnZXN0PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey9lYWNofVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7OmVsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIGl0YWxpYyB0ZXh0LWNlbnRlciBweS0yIHRleHQtc21cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vIHByb3BlcnRpZXMgZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gQWRkIFByb3BlcnR5IEZvcm0gLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgYWRkaW5nUHJvcGVydHlUb0VkZ2UgPT09IGVkZ2VUeXBlTmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm10LTQgcC00IGJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTIgbWItM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmluZDp2YWx1ZT17bmV3UHJvcGVydHlOYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUHJvcGVydHkgbmFtZSAoZS5nLiwgam9iVGl0bGUsIHNlbnRpbWVudClcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZmxleC0xIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBmb2N1czpib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtc21cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmluZDp2YWx1ZT17bmV3UHJvcGVydHlUeXBlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicHgtMyBweS0yIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGZvY3VzOmJvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1zbSBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBhcHBlYXJhbmNlLW5vbmUgY3Vyc29yLXBvaW50ZXIgaG92ZXI6b3BhY2l0eS05MCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAgbWluLXctMzJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInN0clwiPlN0cmluZzwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJpbnRcIj5JbnRlZ2VyPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImRhdGV0aW1lXCI+RGF0ZVRpbWU8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiYm9vbFwiPkJvb2xlYW48L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiZmxvYXRcIj5GbG9hdDwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJMaXN0W3N0cl1cIj5MaXN0PC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmluZDp2YWx1ZT17bmV3UHJvcGVydHlEZXNjcmlwdGlvbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlByb3BlcnR5IGRlc2NyaXB0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gZm9jdXM6Ym9yZGVyLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LXNtXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicHgtMyBweS0yIGJnLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHJvdW5kZWQgdGV4dC1zbSBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRQcm9wZXJ0eVRvRWRnZVR5cGUoZWRnZVR5cGVOYW1lKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+QWRkIFByb3BlcnR5PC9idXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJweC0zIHB5LTIgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gcm91bmRlZCB0ZXh0LXNtIGhvdmVyOm9wYWNpdHktOTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gKGFkZGluZ1Byb3BlcnR5VG9FZGdlID0gbnVsbCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPkNhbmNlbDwvYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIHsvaWZ9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICB7L2VhY2h9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgezplbHNlfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1jZW50ZXIgcHktMTYgdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldXCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtNnhsIG1iLTUgb3BhY2l0eS01MFwiPlxyXG4gICAgICAgICAgICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwibGluay0yXCIgLz5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8aDQgY2xhc3M9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgbWItMyB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPlxyXG4gICAgICAgICAgICAgICAgTm8gRWRnZSBUeXBlcyBEZWZpbmVkXHJcbiAgICAgICAgICAgICAgPC9oND5cclxuICAgICAgICAgICAgICA8cFxyXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJtYi0xMCBtYXgtdy1sZyBteC1hdXRvIGxlYWRpbmctcmVsYXhlZCB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIlxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIENyZWF0ZSByZWxhdGlvbnNoaXAgdHlwZXMgbGlrZSBcIldvcmtzRm9yXCIsIFwiVXNlc1wiLCBvciBcIkNyZWF0ZXNcIlxyXG4gICAgICAgICAgICAgICAgd2l0aCBjdXN0b20gcHJvcGVydGllcy5cclxuICAgICAgICAgICAgICA8L3A+XHJcblxyXG4gICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIGNsYXNzPVwibXQtMTAgcHQtOCBib3JkZXItdCBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV1cIlxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxoNVxyXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZCBtYi01IHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgUXVpY2sgQWRkIENvbW1vbiBUeXBlczpcclxuICAgICAgICAgICAgICAgIDwvaDU+XHJcbiAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZ3JpZCBncmlkLWNvbHMtMiBtZDpncmlkLWNvbHMtMyBnYXAtMyBtYXgtdy0yeGwgbXgtYXV0b1wiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gcHgtNCBweS0zIHJvdW5kZWQtbGcgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGhvdmVyOm9wYWNpdHktOTAgaG92ZXI6Ym9yZGVyLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBob3ZlcjpzaGFkb3ctbWQgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1zbSBmb250LW1lZGl1bVwiXHJcbiAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IHF1aWNrQWRkRWRnZVR5cGUoXCJXb3Jrc0ZvclwiKX1cclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1iYXNlIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCJcclxuICAgICAgICAgICAgICAgICAgICAgID5Xb3Jrc0Zvcjwvc3BhblxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gcHgtNCBweS0zIHJvdW5kZWQtbGcgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGhvdmVyOm9wYWNpdHktOTAgaG92ZXI6Ym9yZGVyLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBob3ZlcjpzaGFkb3ctbWQgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1zbSBmb250LW1lZGl1bVwiXHJcbiAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IHF1aWNrQWRkRWRnZVR5cGUoXCJVc2VzXCIpfVxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LWJhc2UgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgPlVzZXM8L3NwYW5cclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIHB4LTQgcHktMyByb3VuZGVkLWxnIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBob3ZlcjpvcGFjaXR5LTkwIGhvdmVyOmJvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gaG92ZXI6c2hhZG93LW1kIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtc20gZm9udC1tZWRpdW1cIlxyXG4gICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiBxdWlja0FkZEVkZ2VUeXBlKFwiQ3JlYXRlc1wiKX1cclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1iYXNlIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCJcclxuICAgICAgICAgICAgICAgICAgICAgID48T2JzaWRpYW5JY29uIGljb249XCJzcGFya2xlc1wiIC8+PC9zcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgPiBDcmVhdGVzXHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIHB4LTQgcHktMyByb3VuZGVkLWxnIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBob3ZlcjpvcGFjaXR5LTkwIGhvdmVyOmJvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gaG92ZXI6c2hhZG93LW1kIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtc20gZm9udC1tZWRpdW1cIlxyXG4gICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiBxdWlja0FkZEVkZ2VUeXBlKFwiTWVtYmVyT2ZcIil9XHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtYmFzZSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICA+PE9ic2lkaWFuSWNvbiBpY29uPVwidXNlcnNcIiAvPjwvc3BhblxyXG4gICAgICAgICAgICAgICAgICAgID4gTWVtYmVyT2ZcclxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gcHgtNCBweS0zIHJvdW5kZWQtbGcgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGhvdmVyOm9wYWNpdHktOTAgaG92ZXI6Ym9yZGVyLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBob3ZlcjpzaGFkb3ctbWQgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1zbSBmb250LW1lZGl1bVwiXHJcbiAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IHF1aWNrQWRkRWRnZVR5cGUoXCJNYW5hZ2VzXCIpfVxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LWJhc2UgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgPjxPYnNpZGlhbkljb24gaWNvbj1cImJhci1jaGFydC0yXCIgLz48L3NwYW5cclxuICAgICAgICAgICAgICAgICAgICA+IE1hbmFnZXNcclxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gcHgtNCBweS0zIHJvdW5kZWQtbGcgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGhvdmVyOm9wYWNpdHktOTAgaG92ZXI6Ym9yZGVyLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBob3ZlcjpzaGFkb3ctbWQgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1zbSBmb250LW1lZGl1bVwiXHJcbiAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IHF1aWNrQWRkRWRnZVR5cGUoXCJDb250YWluc1wiKX1cclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1iYXNlIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCJcclxuICAgICAgICAgICAgICAgICAgICAgID48T2JzaWRpYW5JY29uIGljb249XCJwYWNrYWdlXCIgLz48L3NwYW5cclxuICAgICAgICAgICAgICAgICAgICA+IENvbnRhaW5zXHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgey9pZn1cclxuXHJcbiAgICAgICAgICA8IS0tIFVudXNlZCBEZWZhdWx0IEVkZ2UgVHlwZXMgU2VjdGlvbiAtLT5cclxuICAgICAgICAgIHsjaWYgT2JqZWN0LmtleXModW51c2VkRWRnZVR5cGVzKS5sZW5ndGggPiAwfVxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgY2xhc3M9XCJtdC04IHB0LTggYm9yZGVyLXQgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildXCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItNFwiPlxyXG4gICAgICAgICAgICAgICAgPGg0XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwiY2xpcGJvYXJkLWxpc3RcIiAvPiBBdmFpbGFibGUgRGVmYXVsdCBFZGdlIFR5cGVzXHJcbiAgICAgICAgICAgICAgICA8L2g0PlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cInB4LTMgcHktMiBiZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSByb3VuZGVkIGhvdmVyOm9wYWNpdHktOTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIHRleHQtc20gZm9udC1tZWRpdW1cIlxyXG4gICAgICAgICAgICAgICAgICBvbjpjbGljaz17YWRkQWxsVW51c2VkRWRnZVR5cGVzfVxyXG4gICAgICAgICAgICAgICAgICB0aXRsZT1cIkFkZCBhbGwgdW51c2VkIGRlZmF1bHQgZWRnZSB0eXBlcyBhdCBvbmNlXCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgQWRkIEFsbFxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gbWItNFwiPlxyXG4gICAgICAgICAgICAgICAgQ29tbW9uIGVkZ2UgdHlwZXMgeW91IGNhbiBhZGQgd2l0aCBvbmUgY2xpY2suIFRoZXNlIGluY2x1ZGVcclxuICAgICAgICAgICAgICAgIHN0YW5kYXJkIHByb3BlcnRpZXMgYW5kIGRlc2NyaXB0aW9ucy5cclxuICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgZ2FwLTNcIj5cclxuICAgICAgICAgICAgICAgIHsjZWFjaCBPYmplY3QuZW50cmllcyh1bnVzZWRFZGdlVHlwZXMpIGFzIFtlZGdlVHlwZU5hbWUsIGRlc2NyaXB0aW9uXX1cclxuICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSBwLTQgcm91bmRlZC1sZ1wiXHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtc3RhcnQgbWItMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzPVwiZm9udC1zZW1pYm9sZCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZWRnZVR5cGVOYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9oNT5cclxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJweC0yIHB5LTEgYmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gcm91bmRlZCB0ZXh0LXhzIGhvdmVyOm9wYWNpdHktOTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IHF1aWNrQWRkRWRnZVR5cGUoZWRnZVR5cGVOYW1lKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJBZGQge2VkZ2VUeXBlTmFtZX0gZWRnZSB0eXBlXCJcclxuICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwiY2hldnJvbi1yaWdodFwiIHNpemU9XCJtZWRpdW1cIiAvPiBBZGRcclxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIHRleHQtc20gbGVhZGluZy1yZWxheGVkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7ZGVzY3JpcHRpb259XHJcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIHsvZWFjaH1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICB7L2lmfVxyXG5cclxuICAgICAgICAgIDwhLS0gQWRkIE5ldyBFZGdlIFR5cGUgQnV0dG9uIC0tPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm10LTZcIj5cclxuICAgICAgICAgICAgeyNpZiBzaG93QWRkRWRnZUZvcm19XHJcbiAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnktYWx0KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkLWxnIHAtNlwiXHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPGg0XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzPVwidGV4dC1sZyBmb250LXNlbWlib2xkIG1iLTQgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICBBZGQgTmV3IEVkZ2UgVHlwZVxyXG4gICAgICAgICAgICAgICAgPC9oND5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYi00XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICBiaW5kOnZhbHVlPXtuZXdFZGdlVHlwZU5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFZGdlIHR5cGUgbmFtZSAoZS5nLiwgV29ya3NGb3IsIFVzZXMsIENyZWF0ZXMpXCJcclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gZm9jdXM6Ym9yZGVyLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LXNtXCJcclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTRcIj5cclxuICAgICAgICAgICAgICAgICAgPHRleHRhcmVhXHJcbiAgICAgICAgICAgICAgICAgICAgYmluZDp2YWx1ZT17bmV3RWRnZVR5cGVEZXNjcmlwdGlvbn1cclxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkRlc2NyaXB0aW9uIG9mIHRoaXMgcmVsYXRpb25zaGlwIHR5cGVcIlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidy1mdWxsIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBmb2N1czpib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtc20gbGVhZGluZy1yZWxheGVkIHJlc2l6ZS12ZXJ0aWNhbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgcm93cz1cIjJcIlxyXG4gICAgICAgICAgICAgICAgICA+PC90ZXh0YXJlYT5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicHgtNCBweS0yIGJnLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHJvdW5kZWQgaG92ZXI6b3BhY2l0eS05MCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDBcIlxyXG4gICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXtzYXZlTmV3RWRnZVR5cGV9PlNhdmUgRWRnZSBUeXBlPC9idXR0b25cclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJweC00IHB5LTIgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gcm91bmRlZCBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9e2NhbmNlbEFkZEVkZ2VUeXBlfT5DYW5jZWw8L2J1dHRvblxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgezplbHNlfVxyXG4gICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgIGNsYXNzPVwicHgtNCBweS0yIGJnLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHJvdW5kZWQgaG92ZXI6b3BhY2l0eS05MCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDBcIlxyXG4gICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IChzaG93QWRkRWRnZUZvcm0gPSB0cnVlKX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJjaGV2cm9uLXJpZ2h0XCIgc2l6ZT1cIm1lZGl1bVwiIC8+IEFkZCBFZGdlIFR5cGVcclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIHsvaWZ9XHJcblxyXG4gICAgPCEtLSBFREdFIE1BUFBJTkdTIFRBQiAtLT5cclxuICAgIHsjaWYgYWN0aXZlVGFiID09PSBcIm1hcHBpbmdzXCJ9XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJhbmltYXRlLWZhZGVJblwiPlxyXG4gICAgICAgIDwhLS0gTExNIEF1dG8tR2VuZXJhdGlvbiBCYW5uZXIgLS0+XHJcbiAgICAgICAgPGRpdlxyXG4gICAgICAgICAgY2xhc3M9XCJiZy1ncmFkaWVudC10by1iciBmcm9tLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0by1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHAtNiByb3VuZGVkLXhsIG1iLTYgc2hhZG93LW1kXCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICA8aDMgY2xhc3M9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgbWItMiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJzcGFya2xlc1wiIC8+XHJcbiAgICAgICAgICAgIDxzcGFuPkxMTSBFZGdlIE1hcHBpbmcgR2VuZXJhdGlvbjwvc3Bhbj5cclxuICAgICAgICAgIDwvaDM+XHJcbiAgICAgICAgICA8cCBjbGFzcz1cIm1iLTQgb3BhY2l0eS05MCBsZWFkaW5nLXJlbGF4ZWRcIj5cclxuICAgICAgICAgICAgVXNlIEFJIHRvIGF1dG9tYXRpY2FsbHkgc3VnZ2VzdCB3aGljaCBlbnRpdHkgdHlwZXMgY2FuIGNvbm5lY3QgdXNpbmdcclxuICAgICAgICAgICAgd2hpY2ggZWRnZSB0eXBlcy5cclxuICAgICAgICAgIDwvcD5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC0zIGZsZXgtd3JhcCBpdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIGNsYXNzPVwicHgtNCBweS0yIGJnLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDYpXSBib3JkZXIgYm9yZGVyLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDgpXSByb3VuZGVkLW1kIHRleHQtc20gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGJhY2tkcm9wLWJsdXItc20gaG92ZXI6YmctW3JnYmEoMjU1LDI1NSwyNTUsMC4wOSldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV1cIlxyXG4gICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiBnZW5lcmF0ZUVkZ2VNYXBwaW5nU3VnZ2VzdGlvbnMoKX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIEdlbmVyYXRlIEVkZ2UgTWFwcGluZyBTdWdnZXN0aW9uc1xyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICA8IS0tIExMTSBFZGdlIE1hcHBpbmcgU3VnZ2VzdGlvbnMgU2VjdGlvbiAtLT5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwibWVnYW1lbS1zZXR0aW5ncy1zZWN0aW9uIG1iLTZcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZWdhbWVtLXNlY3Rpb24taGVhZGVyIG1iLTRcIj5cclxuICAgICAgICAgICAgPGgzXHJcbiAgICAgICAgICAgICAgY2xhc3M9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwibGlnaHRidWxiXCIgLz4gU3VnZ2VzdGVkIEVkZ2UgTWFwcGluZ3NcclxuICAgICAgICAgICAgPC9oMz5cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgIHsjaWYgc2hvd01hcHBpbmdTdWdnZXN0aW9ucyAmJiBlZGdlTWFwcGluZ1N1Z2dlc3Rpb25zLmxlbmd0aCA+IDB9XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZWdhbWVtLWJ1bGstYWN0aW9ucyBtYi0zXCI+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJweC0zIHB5LTIgYmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gcm91bmRlZCBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMCB0ZXh0LXNtXCJcclxuICAgICAgICAgICAgICAgIG9uOmNsaWNrPXthc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3VnZ2VzdGlvbiBvZiBlZGdlTWFwcGluZ1N1Z2dlc3Rpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgYWNjZXB0RWRnZU1hcHBpbmdTdWdnZXN0aW9uKHN1Z2dlc3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIEFjY2VwdCBBbGwgKHtlZGdlTWFwcGluZ1N1Z2dlc3Rpb25zLmxlbmd0aH0pXHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWVnYW1lbS1zdWdnZXN0aW9ucy1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgICB7I2VhY2ggZWRnZU1hcHBpbmdTdWdnZXN0aW9ucyBhcyBzdWdnZXN0aW9ufVxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lZ2FtZW0tc3VnZ2VzdGlvbi1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZWdhbWVtLXN1Z2dlc3Rpb24taW5mb1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+e3N1Z2dlc3Rpb24uc291cmNlfTwvc3Ryb25nPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPuKGkjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPntzdWdnZXN0aW9uLnRhcmdldH08L3N0cm9uZz5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZWdhbWVtLXN1Z2dlc3Rpb24tZGVzY3JpcHRpb25cIj5cclxuICAgICAgICAgICAgICAgICAgICBTdWdnZXN0ZWQgZWRnZSB0eXBlczoge3N1Z2dlc3Rpb24uZWRnZVR5cGVzLmpvaW4oXCIsIFwiKX1cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1lZ2FtZW0tYnV0dG9uLXNtYWxsIG1lZ2FtZW0tYWNjZXB0LWJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IGFjY2VwdEVkZ2VNYXBwaW5nU3VnZ2VzdGlvbihzdWdnZXN0aW9uKX1cclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICsgQWRkIHRvIFNjaGVtYVxyXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIHsvZWFjaH1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICB7OmVsc2UgaWYgc2hvd01hcHBpbmdTdWdnZXN0aW9uc31cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lZ2FtZW0taW5mby1tZXNzYWdlXCI+XHJcbiAgICAgICAgICAgICAgTm8gbWFwcGluZyBzdWdnZXN0aW9ucyBhdmFpbGFibGUuIENyZWF0ZSBtb3JlIGVudGl0aWVzIGFuZCBlZGdlXHJcbiAgICAgICAgICAgICAgdHlwZXMgZmlyc3QuXHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgey9pZn1cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgPGRpdj5cclxuICAgICAgICAgIDxoMyBjbGFzcz1cInRleHQtbGcgZm9udC1zZW1pYm9sZCBtYi0yIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cIm1hcFwiIC8+IEVkZ2UgVHlwZSBNYXBwaW5nc1xyXG4gICAgICAgICAgPC9oMz5cclxuICAgICAgICAgIDxwIGNsYXNzPVwibWItNlwiPlxyXG4gICAgICAgICAgICBEZWZpbmUgd2hpY2ggZWRnZSB0eXBlcyBjYW4gY29ubmVjdCB3aGljaCBlbnRpdHkgdHlwZXMuIENvbnRyb2xzXHJcbiAgICAgICAgICAgIHJlbGF0aW9uc2hpcCB2YWxpZGF0aW9uIGluIHlvdXIga25vd2xlZGdlIGdyYXBoLlxyXG4gICAgICAgICAgPC9wPlxyXG5cclxuICAgICAgICAgIHsjaWYgZWRnZVR5cGVNYXAgJiYgZWRnZVR5cGVNYXAubGVuZ3RoID4gMH1cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2wgZ2FwLTRcIj5cclxuICAgICAgICAgICAgICB7I2VhY2ggZWRnZVR5cGVNYXAgYXMgbWFwcGluZywgaW5kZXh9XHJcbiAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5LWFsdCldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZC1sZyBvdmVyZmxvdy1oaWRkZW5cIlxyXG4gICAgICAgICAgICAgICAgICBpZD1cIm1hcHBpbmcte2luZGV4fVwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIHsjaWYgZWRpdGluZ01hcHBpbmdJbmRleCA9PT0gaW5kZXh9XHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLSBFZGl0IEZvcm0gLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJwLTQgYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5LWFsdCldIGJvcmRlci1ub25lXCJcclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8aDRcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgbWItNCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEVkaXQgRWRnZSBNYXBwaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2g0PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTQgbWItNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiZWRpdC1zb3VyY2UtZW50aXR5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSBtYi0yXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5Tb3VyY2UgRW50aXR5IFR5cGU8L2xhYmVsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwiZWRpdC1zb3VyY2UtZW50aXR5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpbmQ6dmFsdWU9e3RlbXBFZGl0TWFwcGluZ1NvdXJjZUVudGl0eX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidy1mdWxsIHB4LTMgcHktMSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBmb2N1czpib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtc20gbGVhZGluZy1ub3JtYWwgYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gbWluLXctNDhcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5TZWxlY3Qgc291cmNlIGVudGl0eS4uLjwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNlYWNoIGFsbEVudGl0eVR5cGVzIGFzIGVudGl0eVR5cGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9e2VudGl0eVR5cGV9PntlbnRpdHlUeXBlfTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey9lYWNofVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJlZGl0LXRhcmdldC1lbnRpdHlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIG1iLTJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlRhcmdldCBFbnRpdHkgVHlwZTwvbGFiZWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJlZGl0LXRhcmdldC1lbnRpdHlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmluZDp2YWx1ZT17dGVtcEVkaXRNYXBwaW5nVGFyZ2V0RW50aXR5fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ3LWZ1bGwgcHgtMyBweS0xIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGZvY3VzOmJvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1zbSBsZWFkaW5nLW5vcm1hbCBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBtaW4tdy00OFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPlNlbGVjdCB0YXJnZXQgZW50aXR5Li4uPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2VhY2ggYWxsRW50aXR5VHlwZXMgYXMgZW50aXR5VHlwZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT17ZW50aXR5VHlwZX0+e2VudGl0eVR5cGV9PC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2VhY2h9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gbWItMlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPkFsbG93ZWQgRWRnZSBUeXBlczwvc3BhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgZWRnZVR5cGVzTGlzdC5sZW5ndGggPiAwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncmlkIGdyaWQtY29scy0yIG1kOmdyaWQtY29scy0zIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2VhY2ggZWRnZVR5cGVzTGlzdCBhcyBlZGdlVHlwZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBwLTIgYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIGhvdmVyOm9wYWNpdHktOTAgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3RlbXBFZGl0TWFwcGluZ0FsbG93ZWRFZGdlcy5pbmNsdWRlcyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRnZVR5cGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjaGFuZ2U9eygpID0+IHRvZ2dsZUVkaXRFZGdlVHlwZShlZGdlVHlwZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInJvdW5kZWQgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRleHQtW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGZvY3VzOnJpbmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1zbSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+e2VkZ2VUeXBlfTwvc3BhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvZWFjaH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgezplbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gaXRhbGljXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBObyBlZGdlIHR5cGVzIGRlZmluZWQuIENyZWF0ZSBlZGdlIHR5cGVzIGZpcnN0LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInB4LTQgcHktMiBiZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSByb3VuZGVkIGhvdmVyOm9wYWNpdHktOTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17c2F2ZUVkaXRNYXBwaW5nfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshdGVtcEVkaXRNYXBwaW5nU291cmNlRW50aXR5IHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhdGVtcEVkaXRNYXBwaW5nVGFyZ2V0RW50aXR5IHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wRWRpdE1hcHBpbmdBbGxvd2VkRWRnZXMubGVuZ3RoID09PSAwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgU2F2ZSBDaGFuZ2VzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJweC00IHB5LTIgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gcm91bmRlZCBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9e2NhbmNlbEVkaXRNYXBwaW5nfT5DYW5jZWw8L2J1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgezplbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgIDwhLS0gRGlzcGxheSBNb2RlIC0tPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicC00IGJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeS1hbHQpXSBib3JkZXItbm9uZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZm9udC1zZW1pYm9sZCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID57bWFwcGluZy5zb3VyY2VFbnRpdHl9PC9zcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXVwiPuKGkjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZm9udC1zZW1pYm9sZCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID57bWFwcGluZy50YXJnZXRFbnRpdHl9PC9zcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTEgZmxleC13cmFwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2VhY2ggbWFwcGluZy5hbGxvd2VkRWRnZXMgYXMgZWRnZVR5cGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ0ZXh0LXhzIHB4LTIgcHktMSBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gcm91bmRlZC1mdWxsIGZvbnQtbWVkaXVtXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+e2VkZ2VUeXBlfTwvc3BhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2VhY2h9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSBweC0yIHB5LTEgcm91bmRlZC1mdWxsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bWFwcGluZy5pc1VzZXJEZWZpbmVkID8gXCJVc2VyXCIgOiBcIkF1dG9cIn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJwLTEgdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIGhvdmVyOm9wYWNpdHktOTAgaG92ZXI6YmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IHN0YXJ0RWRpdE1hcHBpbmcoaW5kZXgpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJFZGl0IE1hcHBpbmdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cInBlbmNpbFwiIHNpemU9XCJtZWRpdW1cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicHgtMiBweS0xIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWVycm9yKV0gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgaG92ZXI6b3BhY2l0eS05MCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAgdGV4dC14c1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gcmVtb3ZlTWFwcGluZyhpbmRleCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwidHJhc2gtMlwiIHNpemU9XCJtZWRpdW1cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgey9lYWNofVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIHs6ZWxzZX1cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtY2VudGVyIHB5LTE2IHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXVwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LTZ4bCBtYi01IG9wYWNpdHktNTBcIj5cclxuICAgICAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cIm1hcFwiIC8+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPGg0IGNsYXNzPVwidGV4dC1sZyBmb250LXNlbWlib2xkIG1iLTMgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj5cclxuICAgICAgICAgICAgICAgIE5vIEVkZ2UgTWFwcGluZ3MgRGVmaW5lZFxyXG4gICAgICAgICAgICAgIDwvaDQ+XHJcbiAgICAgICAgICAgICAgPHBcclxuICAgICAgICAgICAgICAgIGNsYXNzPVwibWItMTAgbWF4LXctbGcgbXgtYXV0byBsZWFkaW5nLXJlbGF4ZWQgdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldXCJcclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICBDcmVhdGUgbWFwcGluZ3MgdG8gZGVmaW5lIHdoaWNoIHJlbGF0aW9uc2hpcHMgY2FuIGV4aXN0IGJldHdlZW5cclxuICAgICAgICAgICAgICAgIGVudGl0eSB0eXBlcy5cclxuICAgICAgICAgICAgICA8L3A+XHJcblxyXG4gICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIGNsYXNzPVwibXQtMTAgcHQtOCBib3JkZXItdCBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV1cIlxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxoNVxyXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZCBtYi01IHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgUXVpY2sgQWRkIENvbW1vbiBNYXBwaW5nczpcclxuICAgICAgICAgICAgICAgIDwvaDU+XHJcbiAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBnYXAtMyBtYXgtdy0yeGwgbXgtYXV0b1wiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gcC00IHJvdW5kZWQtbGcgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGhvdmVyOm9wYWNpdHktOTAgaG92ZXI6Ym9yZGVyLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBob3ZlcjpzaGFkb3ctbWQgdGV4dC1zbSBmb250LW1lZGl1bVwiXHJcbiAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICBxdWlja0FkZE1hcHBpbmcoXCJQZXJzb25cIiwgXCJUZWNobm9sb2d5XCIsIFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJVc2VzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiUmVsYXRlc1RvXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICBdKX1cclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb250LXNlbWlib2xkIG1iLTEgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cInVzZXJcIiAvPiBQZXJzb24g4oaSIDxPYnNpZGlhbkljb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbj1cIm1vbml0b3JcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgLz4gVGVjaG5vbG9neVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgVXNlcywgUmVsYXRlc1RvXHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIHAtNCByb3VuZGVkLWxnIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBob3ZlcjpvcGFjaXR5LTkwIGhvdmVyOmJvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gaG92ZXI6c2hhZG93LW1kIHRleHQtc20gZm9udC1tZWRpdW1cIlxyXG4gICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgcXVpY2tBZGRNYXBwaW5nKFwiUGVyc29uXCIsIFwiUHJvamVjdFwiLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiV29ya3NPblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIk1hbmFnZXNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJSZWxhdGVzVG9cIixcclxuICAgICAgICAgICAgICAgICAgICAgIF0pfVxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvbnQtc2VtaWJvbGQgbWItMSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwidXNlclwiIC8+IFBlcnNvbiDihpIgPE9ic2lkaWFuSWNvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uPVwiZm9sZGVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgIC8+IFByb2plY3RcclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC14cyB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgIFdvcmtzT24sIE1hbmFnZXMsIFJlbGF0ZXNUb1xyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSBwLTQgcm91bmRlZC1sZyBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgaG92ZXI6b3BhY2l0eS05MCBob3Zlcjpib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGhvdmVyOnNoYWRvdy1tZCB0ZXh0LXNtIGZvbnQtbWVkaXVtXCJcclxuICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT5cclxuICAgICAgICAgICAgICAgICAgICAgIHF1aWNrQWRkTWFwcGluZyhcIkVudGl0eVwiLCBcIkVudGl0eVwiLCBbXCJSZWxhdGVzVG9cIl0pfVxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvbnQtc2VtaWJvbGQgbWItMSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwibGluay0yXCIgLz4gRW50aXR5IOKGkiBFbnRpdHlcclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC14cyB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgIFJlbGF0ZXNUbyAoR2VuZXJpYylcclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gcC00IHJvdW5kZWQtbGcgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGhvdmVyOm9wYWNpdHktOTAgaG92ZXI6Ym9yZGVyLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBob3ZlcjpzaGFkb3ctbWQgdGV4dC1zbSBmb250LW1lZGl1bVwiXHJcbiAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICBxdWlja0FkZE1hcHBpbmcoXCJQcm9qZWN0XCIsIFwiVGVjaG5vbG9neVwiLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiVXNlc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkRlcGVuZHNPblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlJlbGF0ZXNUb1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXSl9XHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9udC1zZW1pYm9sZCBtYi0xIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJmb2xkZXJcIiAvPiBQcm9qZWN0IOKGkiA8T2JzaWRpYW5JY29uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb249XCJtb25pdG9yXCJcclxuICAgICAgICAgICAgICAgICAgICAgIC8+IFRlY2hub2xvZ3lcclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC14cyB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgIFVzZXMsIERlcGVuZHNPbiwgUmVsYXRlc1RvXHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgey9pZn1cclxuXHJcbiAgICAgICAgICA8IS0tIFN1Z2dlc3RlZCBEZWZhdWx0IE1hcHBpbmdzIFNlY3Rpb24gLS0+XHJcbiAgICAgICAgICB7I2lmIHN1Z2dlc3RlZE1hcHBpbmdzLmxlbmd0aCA+IDB9XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICBjbGFzcz1cIm10LTggcHQtOCBib3JkZXItdCBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV1cIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi00XCI+XHJcbiAgICAgICAgICAgICAgICA8aDRcclxuICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJsaWdodGJ1bGJcIiAvPiBTdWdnZXN0ZWQgRWRnZSBNYXBwaW5nc1xyXG4gICAgICAgICAgICAgICAgPC9oND5cclxuICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgY2xhc3M9XCJweC0zIHB5LTIgYmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gcm91bmRlZCBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMCB0ZXh0LXNtIGZvbnQtbWVkaXVtXCJcclxuICAgICAgICAgICAgICAgICAgb246Y2xpY2s9e2FkZEFsbFN1Z2dlc3RlZE1hcHBpbmdzfVxyXG4gICAgICAgICAgICAgICAgICB0aXRsZT1cIkFkZCBhbGwgc3VnZ2VzdGVkIGVkZ2UgbWFwcGluZ3MgYXQgb25jZVwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIEFkZCBBbGxcclxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIG1iLTRcIj5cclxuICAgICAgICAgICAgICAgIFJlY29tbWVuZGVkIG1hcHBpbmdzIGJhc2VkIG9uIHlvdXIgZGlzY292ZXJlZCBlbnRpdHkgdHlwZXMuIEFkZFxyXG4gICAgICAgICAgICAgICAgdGhlc2UgdG8gZW5hYmxlIGNvbW1vbiByZWxhdGlvbnNoaXBzLlxyXG4gICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JpZCBncmlkLWNvbHMtMSBnYXAtM1wiPlxyXG4gICAgICAgICAgICAgICAgeyNlYWNoIHN1Z2dlc3RlZE1hcHBpbmdzIGFzIHN1Z2dlc3Rpb259XHJcbiAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeS1hbHQpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHAtNCByb3VuZGVkLWxnXCJcclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1zdGFydCBtYi0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA+e3N1Z2dlc3Rpb24uc291cmNlRW50aXR5fTwvc3BhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldXCI+4oaSPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZvbnQtc2VtaWJvbGQgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID57c3VnZ2VzdGlvbi50YXJnZXRFbnRpdHl9PC9zcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTEgbWwtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsjZWFjaCBzdWdnZXN0aW9uLmFsbG93ZWRFZGdlcyBhcyBlZGdlVHlwZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidGV4dC14cyBweC0yIHB5LTEgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItc3VjY2VzcyldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gcm91bmRlZC1mdWxsIGZvbnQtbWVkaXVtXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPntlZGdlVHlwZX08L3NwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7L2VhY2h9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicHgtMiBweS0xIGJnLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHJvdW5kZWQgdGV4dC14cyBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHF1aWNrQWRkTWFwcGluZyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Z2dlc3Rpb24uc291cmNlRW50aXR5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdGlvbi50YXJnZXRFbnRpdHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWdnZXN0aW9uLmFsbG93ZWRFZGdlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiQWRkIHRoaXMgbWFwcGluZ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFkZFxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gdGV4dC1zbSBsZWFkaW5nLXJlbGF4ZWRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIHtzdWdnZXN0aW9uLmRlc2NyaXB0aW9ufVxyXG4gICAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICB7L2VhY2h9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgey9pZn1cclxuXHJcbiAgICAgICAgICA8IS0tIEFkZCBOZXcgTWFwcGluZyBCdXR0b24gLS0+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibXQtNlwiPlxyXG4gICAgICAgICAgICB7I2lmIHNob3dBZGRNYXBwaW5nRm9ybX1cclxuICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICBjbGFzcz1cImJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeS1hbHQpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQtbGcgcC02XCJcclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8aDRcclxuICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgbWItNCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIEFkZCBOZXcgRWRnZSBNYXBwaW5nXHJcbiAgICAgICAgICAgICAgICA8L2g0PlxyXG5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTQgbWItNFwiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbFxyXG4gICAgICAgICAgICAgICAgICAgICAgZm9yPVwibmV3LXNvdXJjZS1lbnRpdHlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIG1iLTJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgPlNvdXJjZSBFbnRpdHkgVHlwZTwvbGFiZWxcclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNlbGVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgaWQ9XCJuZXctc291cmNlLWVudGl0eVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBiaW5kOnZhbHVlPXtuZXdNYXBwaW5nU291cmNlRW50aXR5fVxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ3LWZ1bGwgcHgtMyBweS0xIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGZvY3VzOmJvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1zbSBsZWFkaW5nLW5vcm1hbCBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBtaW4tdy00OFwiXHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPlNlbGVjdCBzb3VyY2UgZW50aXR5Li4uPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7I2VhY2ggYWxsRW50aXR5VHlwZXMgYXMgZW50aXR5VHlwZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT17ZW50aXR5VHlwZX0+e2VudGl0eVR5cGV9PC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7L2VhY2h9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWxcclxuICAgICAgICAgICAgICAgICAgICAgIGZvcj1cIm5ldy10YXJnZXQtZW50aXR5XCJcclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSBtYi0yXCJcclxuICAgICAgICAgICAgICAgICAgICAgID5UYXJnZXQgRW50aXR5IFR5cGU8L2xhYmVsXHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzZWxlY3RcclxuICAgICAgICAgICAgICAgICAgICAgIGlkPVwibmV3LXRhcmdldC1lbnRpdHlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgYmluZDp2YWx1ZT17bmV3TWFwcGluZ1RhcmdldEVudGl0eX1cclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidy1mdWxsIHB4LTMgcHktMSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBmb2N1czpib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtc20gbGVhZGluZy1ub3JtYWwgYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gbWluLXctNDhcIlxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5TZWxlY3QgdGFyZ2V0IGVudGl0eS4uLjwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgeyNlYWNoIGFsbEVudGl0eVR5cGVzIGFzIGVudGl0eVR5cGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9e2VudGl0eVR5cGV9PntlbnRpdHlUeXBlfTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgey9lYWNofVxyXG4gICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYi00XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIG1iLTJcIlxyXG4gICAgICAgICAgICAgICAgICAgID5BbGxvd2VkIEVkZ2UgVHlwZXM8L3NwYW5cclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICB7I2lmIGVkZ2VUeXBlc0xpc3QubGVuZ3RoID4gMH1cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JpZCBncmlkLWNvbHMtMiBtZDpncmlkLWNvbHMtMyBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgeyNlYWNoIGVkZ2VUeXBlc0xpc3QgYXMgZWRnZVR5cGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcC0yIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCBob3ZlcjpvcGFjaXR5LTkwIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdNYXBwaW5nQWxsb3dlZEVkZ2VzLmluY2x1ZGVzKGVkZ2VUeXBlKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNoYW5nZT17KCkgPT4gdG9nZ2xlRWRnZVR5cGUoZWRnZVR5cGUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJyb3VuZGVkIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSB0ZXh0LVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBmb2N1czpyaW5nLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtc20gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPntlZGdlVHlwZX08L3NwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7L2VhY2h9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIHs6ZWxzZX1cclxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIGl0YWxpY1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgTm8gZWRnZSB0eXBlcyBkZWZpbmVkLiBDcmVhdGUgZWRnZSB0eXBlcyBmaXJzdC5cclxuICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgIHsvaWZ9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJweC00IHB5LTIgYmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gcm91bmRlZCBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9e3NhdmVOZXdNYXBwaW5nfVxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshbmV3TWFwcGluZ1NvdXJjZUVudGl0eSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgIW5ld01hcHBpbmdUYXJnZXRFbnRpdHkgfHxcclxuICAgICAgICAgICAgICAgICAgICAgIG5ld01hcHBpbmdBbGxvd2VkRWRnZXMubGVuZ3RoID09PSAwfVxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgU2F2ZSBNYXBwaW5nXHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJweC00IHB5LTIgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gcm91bmRlZCBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9e2NhbmNlbEFkZE1hcHBpbmd9PkNhbmNlbDwvYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICB7OmVsc2V9XHJcbiAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJweC00IHB5LTIgYmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gcm91bmRlZCBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMFwiXHJcbiAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gKHNob3dBZGRNYXBwaW5nRm9ybSA9IHRydWUpfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cImNoZXZyb24tcmlnaHRcIiBzaXplPVwibWVkaXVtXCIgLz4gQWRkIEVkZ2UgTWFwcGluZ1xyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgey9pZn1cclxuICA8L2Rpdj5cclxuXHJcbiAgPCEtLSA9PT0gR0xPQkFMIENPTlRFTlQgKG91dHNpZGUgdGFicykgPT09IC0tPlxyXG4gIHsjaWYgbG9hZGluZ31cclxuICAgIDxkaXZcclxuICAgICAgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBqdXN0aWZ5LWNlbnRlciBweS04IHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXVwiXHJcbiAgICA+XHJcbiAgICAgIDxkaXZcclxuICAgICAgICBjbGFzcz1cInctNCBoLTQgYm9yZGVyLTIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIGJvcmRlci10LVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1zcGluXCJcclxuICAgICAgPjwvZGl2PlxyXG4gICAgICBEaXNjb3ZlcmluZyBzY2hlbWFzIGZyb20gdmF1bHQuLi5cclxuICAgIDwvZGl2PlxyXG4gIHs6ZWxzZSBpZiBzY2hlbWFzLmxlbmd0aCA9PT0gMH1cclxuICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlciBweS04IHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXVwiPlxyXG4gICAgICA8cCBjbGFzcz1cIm1iLTJcIj5ObyB0eXBlZCBub3RlcyBmb3VuZCBpbiB5b3VyIHZhdWx0LjwvcD5cclxuICAgICAgPHA+XHJcbiAgICAgICAgQWRkIGEgPGNvZGVcclxuICAgICAgICAgIGNsYXNzPVwiYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcHgtMiBweS0xIHJvdW5kZWQgZm9udC1tb25vIHRleHQtc21cIlxyXG4gICAgICAgICAgPnR5cGU8L2NvZGVcclxuICAgICAgICA+IHByb3BlcnR5IHRvIHlvdXIgZnJvbnRtYXR0ZXIgdG8gZ2V0IHN0YXJ0ZWQuXHJcbiAgICAgIDwvcD5cclxuICAgIDwvZGl2PlxyXG4gIHs6ZWxzZX1cclxuICAgIDxkaXZcclxuICAgICAgY2xhc3M9XCJiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQtbGcgcC00IG1iLTRcIlxyXG4gICAgPlxyXG4gICAgICA8cCBjbGFzcz1cInRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIHRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgRm91bmQgPHN0cm9uZyBjbGFzcz1cInRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCJcclxuICAgICAgICAgID57c2NoZW1hcy5sZW5ndGh9PC9zdHJvbmdcclxuICAgICAgICA+XHJcbiAgICAgICAgdHlwZXMgYWNyb3NzXHJcbiAgICAgICAgPHN0cm9uZyBjbGFzcz1cInRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCJcclxuICAgICAgICAgID57c2NoZW1hcy5yZWR1Y2UoKHN1bSwgcykgPT4gc3VtICsgcy5maWxlQ291bnQsIDApfTwvc3Ryb25nXHJcbiAgICAgICAgPiBmaWxlc1xyXG4gICAgICA8L3A+XHJcbiAgICA8L2Rpdj5cclxuICB7L2lmfVxyXG48L2Rpdj5cclxuXHJcbjwhLS0gTExNIEdlbmVyYXRpb24gQ29uZmlybWF0aW9uIE1vZGFsIC0tPlxyXG57I2lmIHNob3dHZW5lcmF0aW9uTW9kYWx9XHJcbiAgPCEtLSBUcmFwIGZvY3VzIHdpdGhpbiBtb2RhbCB3aGVuIG9wZW4gLS0+XHJcbiAgPGRpdlxyXG4gICAgY2xhc3M9XCJtZWdhbWVtLW1vZGFsLW92ZXJsYXlcIlxyXG4gICAgcm9sZT1cInByZXNlbnRhdGlvblwiXHJcbiAgICBvbjptb3VzZWRvd258c2VsZj17Y2xvc2VHZW5lcmF0aW9uTW9kYWx9XHJcbiAgPlxyXG4gICAgPGRpdlxyXG4gICAgICBjbGFzcz1cIm1lZ2FtZW0tbW9kYWwtY29udGVudFwiXHJcbiAgICAgIHJvbGU9XCJkaWFsb2dcIlxyXG4gICAgICBhcmlhLW1vZGFsPVwidHJ1ZVwiXHJcbiAgICAgIGFyaWEtbGFiZWw9XCJMTE0gZ2VuZXJhdGlvbiBvcHRpb25zXCJcclxuICAgICAgYXJpYS1kZXNjcmliZWRieT1cIm1vZGFsLWRlc2NyaXB0aW9uXCJcclxuICAgICAgdGFiaW5kZXg9XCItMVwiXHJcbiAgICA+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJtZWdhbWVtLW1vZGFsLWhlYWRlclwiPlxyXG4gICAgICAgIDxoMz5cclxuICAgICAgICAgIHsjaWYgbW9kYWxHZW5lcmF0aW9uVHlwZSA9PT0gXCJlbnRpdGllc1wifVxyXG4gICAgICAgICAgICBHZW5lcmF0ZSBFbnRpdHkgRGVzY3JpcHRpb25zXHJcbiAgICAgICAgICB7OmVsc2UgaWYgbW9kYWxHZW5lcmF0aW9uVHlwZSA9PT0gXCJwcm9wZXJ0aWVzXCJ9XHJcbiAgICAgICAgICAgIEdlbmVyYXRlIFByb3BlcnR5IERlc2NyaXB0aW9uc1xyXG4gICAgICAgICAgezplbHNlIGlmIG1vZGFsR2VuZXJhdGlvblR5cGUgPT09IFwibG9hZF9kZWZhdWx0X2VudGl0aWVzXCJ9XHJcbiAgICAgICAgICAgIExvYWQgRGVmYXVsdCBFbnRpdHkgRGVzY3JpcHRpb25zXHJcbiAgICAgICAgICB7OmVsc2UgaWYgbW9kYWxHZW5lcmF0aW9uVHlwZSA9PT0gXCJsb2FkX2RlZmF1bHRfcHJvcGVydGllc1wifVxyXG4gICAgICAgICAgICBMb2FkIERlZmF1bHQgUHJvcGVydHkgRGVzY3JpcHRpb25zXHJcbiAgICAgICAgICB7OmVsc2V9XHJcbiAgICAgICAgICAgIEdlbmVyYXRlIENvbXBsZXRlIE9udG9sb2d5XHJcbiAgICAgICAgICB7L2lmfVxyXG4gICAgICAgIDwvaDM+XHJcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm1lZ2FtZW0tbW9kYWwtY2xvc2VcIiBvbjpjbGljaz17Y2xvc2VHZW5lcmF0aW9uTW9kYWx9XHJcbiAgICAgICAgICA+w5c8L2J1dHRvblxyXG4gICAgICAgID5cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICA8ZGl2IGNsYXNzPVwibWVnYW1lbS1tb2RhbC1ib2R5XCI+XHJcbiAgICAgICAgPHAgY2xhc3M9XCJtZWdhbWVtLW1vZGFsLXdhcm5pbmdcIj5cclxuICAgICAgICAgIHsjaWYgbW9kYWxHZW5lcmF0aW9uVHlwZSA9PT0gXCJsb2FkX2RlZmF1bHRfZW50aXRpZXNcIiB8fCBtb2RhbEdlbmVyYXRpb25UeXBlID09PSBcImxvYWRfZGVmYXVsdF9wcm9wZXJ0aWVzXCJ9XHJcbiAgICAgICAgICAgIExvYWQgYnVpbHQtaW4gZGVmYXVsdCBkZXNjcmlwdGlvbnMuIENob29zZSBob3cgdG8gaGFuZGxlIGV4aXN0aW5nXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6XHJcbiAgICAgICAgICB7OmVsc2V9XHJcbiAgICAgICAgICAgIFRoaXMgd2lsbCB1c2UgeW91ciBjb25maWd1cmVkIExMTSB0byBnZW5lcmF0ZSBkZXNjcmlwdGlvbnMuIENob29zZVxyXG4gICAgICAgICAgICBob3cgdG8gaGFuZGxlIGV4aXN0aW5nIGNvbnRlbnQ6XHJcbiAgICAgICAgICB7L2lmfVxyXG4gICAgICAgIDwvcD5cclxuXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIm1lZ2FtZW0tcmFkaW8tZ3JvdXBcIj5cclxuICAgICAgICAgIDxsYWJlbCBjbGFzcz1cIm1lZ2FtZW0tcmFkaW8tb3B0aW9uXCI+XHJcbiAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXHJcbiAgICAgICAgICAgICAgYmluZDpncm91cD17c2VsZWN0ZWRHZW5lcmF0aW9uTW9kZX1cclxuICAgICAgICAgICAgICB2YWx1ZT1cInNraXBfdXNlclwiXHJcbiAgICAgICAgICAgICAgY2hlY2tlZFxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWVnYW1lbS1yYWRpby1sYWJlbFwiPlxyXG4gICAgICAgICAgICAgIDxzdHJvbmc+U2tpcCBVc2VyIERlZmluZWQ8L3N0cm9uZz5cclxuICAgICAgICAgICAgICA8c3BhblxyXG4gICAgICAgICAgICAgICAgPk9ubHkgZ2VuZXJhdGUgZm9yIGl0ZW1zIHdpdGhvdXQgZGVzY3JpcHRpb25zIG9yIHdpdGggc291cmNlICE9XHJcbiAgICAgICAgICAgICAgICAndXNlcic8L3NwYW5cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9sYWJlbD5cclxuXHJcbiAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJtZWdhbWVtLXJhZGlvLW9wdGlvblwiPlxyXG4gICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICB0eXBlPVwicmFkaW9cIlxyXG4gICAgICAgICAgICAgIGJpbmQ6Z3JvdXA9e3NlbGVjdGVkR2VuZXJhdGlvbk1vZGV9XHJcbiAgICAgICAgICAgICAgdmFsdWU9XCJuZXdfb25seVwiXHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZWdhbWVtLXJhZGlvLWxhYmVsXCI+XHJcbiAgICAgICAgICAgICAgPHN0cm9uZz5OZXcgT25seTwvc3Ryb25nPlxyXG4gICAgICAgICAgICAgIDxzcGFuPk9ubHkgZ2VuZXJhdGUgZm9yIGNvbXBsZXRlbHkgbWlzc2luZyBkZXNjcmlwdGlvbnM8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9sYWJlbD5cclxuXHJcbiAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJtZWdhbWVtLXJhZGlvLW9wdGlvblwiPlxyXG4gICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICB0eXBlPVwicmFkaW9cIlxyXG4gICAgICAgICAgICAgIGJpbmQ6Z3JvdXA9e3NlbGVjdGVkR2VuZXJhdGlvbk1vZGV9XHJcbiAgICAgICAgICAgICAgdmFsdWU9XCJyZWdlbmVyYXRlX2FsbFwiXHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZWdhbWVtLXJhZGlvLWxhYmVsXCI+XHJcbiAgICAgICAgICAgICAgPHN0cm9uZz5SZWdlbmVyYXRlIEFsbDwvc3Ryb25nPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC13YXJuaW5nXCJcclxuICAgICAgICAgICAgICAgID5PdmVyd3JpdGVzIEFMTCBleGlzdGluZyBkZXNjcmlwdGlvbnMgaW5jbHVkaW5nIHVzZXItZGVmaW5lZDwvc3BhblxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIDxkaXYgY2xhc3M9XCJtZWdhbWVtLW1vZGFsLWZvb3RlclwiPlxyXG4gICAgICAgIDxidXR0b25cclxuICAgICAgICAgIGNsYXNzPVwibWVnYW1lbS1idXR0b24tc2Vjb25kYXJ5XCJcclxuICAgICAgICAgIG9uOmNsaWNrPXtjbG9zZUdlbmVyYXRpb25Nb2RhbH1cclxuICAgICAgICA+XHJcbiAgICAgICAgICBDYW5jZWxcclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwibWVnYW1lbS1idXR0b24tcHJpbWFyeVwiIG9uOmNsaWNrPXtjb25maXJtR2VuZXJhdGlvbn0+XHJcbiAgICAgICAgICBHZW5lcmF0ZVxyXG4gICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gIDwvZGl2PlxyXG57L2lmfVxyXG5cclxuPCEtLSA9PT0gVkVTU0VMIENMT1NFID09PSAtLT5cclxuXHJcbjxzdHlsZT5cclxuICAubWVnYW1lbS1zdWdnZXN0aW9ucy1jb250YWluZXIge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBnYXA6IDAuNXJlbTtcclxuICAgIG1hcmdpbi10b3A6IDAuNXJlbTtcclxuICB9XHJcblxyXG4gIC5tZWdhbWVtLXN1Z2dlc3Rpb24taXRlbSB7XHJcbiAgICBwYWRkaW5nOiAwLjc1cmVtO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xyXG4gIH1cclxuXHJcbiAgLm1lZ2FtZW0tc3VnZ2VzdGlvbi1pbmZvIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMC4yNXJlbTtcclxuICB9XHJcblxyXG4gIC5tZWdhbWVtLWNvbmZpZGVuY2Uge1xyXG4gICAgZm9udC1zaXplOiAwLjg1ZW07XHJcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XHJcbiAgfVxyXG5cclxuICAubWVnYW1lbS1zdWdnZXN0aW9uLWRlc2NyaXB0aW9uIHtcclxuICAgIGZvbnQtc2l6ZTogMC45ZW07XHJcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMC41cmVtO1xyXG4gIH1cclxuXHJcbiAgLm1lZ2FtZW0tYnV0dG9uLXNtYWxsIHtcclxuICAgIHBhZGRpbmc6IDAuNHJlbSAwLjhyZW07XHJcbiAgICBmb250LXNpemU6IDAuODVlbTtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4ycztcclxuICB9XHJcblxyXG4gIC5tZWdhbWVtLWJ1dHRvbi1zbWFsbDpob3ZlciB7XHJcbiAgICBvcGFjaXR5OiAwLjk7XHJcbiAgfVxyXG5cclxuICAubWVnYW1lbS1hY2NlcHQtYnV0dG9uIHtcclxuICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XHJcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1vbi1hY2NlbnQpO1xyXG4gIH1cclxuXHJcbiAgLm1lZ2FtZW0taW5mby1tZXNzYWdlIHtcclxuICAgIHBhZGRpbmc6IDAuNzVyZW07XHJcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XHJcbiAgICBmb250LXN0eWxlOiBpdGFsaWM7XHJcbiAgfVxyXG5cclxuICAubWVnYW1lbS1idWxrLWFjdGlvbnMge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGdhcDogMC41cmVtO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuICB9XHJcblxyXG4gIC5tZWdhbWVtLXByb2dyZXNzLWJhciB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogNHB4O1xyXG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMnB4O1xyXG4gICAgbWFyZ2luLXRvcDogMC41cmVtO1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICB9XHJcblxyXG4gIC5tZWdhbWVtLXByb2dyZXNzLWZpbGwge1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcclxuICAgIHRyYW5zaXRpb246IHdpZHRoIDAuM3MgZWFzZTtcclxuICB9XHJcblxyXG4gIC5tZWdhbWVtLXByb2dyZXNzLXRleHQge1xyXG4gICAgZm9udC1zaXplOiAwLjg1ZW07XHJcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XHJcbiAgICBtYXJnaW4tdG9wOiAwLjI1cmVtO1xyXG4gICAgZm9udC1zdHlsZTogaXRhbGljO1xyXG4gIH1cclxuXHJcbiAgLm1lZ2FtZW0tYnVsay1idXR0b24ge1xyXG4gICAgbWluLXdpZHRoOiAyMDBweDtcclxuICB9XHJcblxyXG4gIC5tZWdhbWVtLW1vZGFsLW92ZXJsYXkge1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgbGVmdDogMDtcclxuICAgIHJpZ2h0OiAwO1xyXG4gICAgYm90dG9tOiAwO1xyXG4gICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjUpO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIHotaW5kZXg6IDEwMDA7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgfVxyXG5cclxuICAubWVnYW1lbS1tb2RhbC1vdmVybGF5OjpiZWZvcmUge1xyXG4gICAgY29udGVudDogXCJcIjtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMDtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICByaWdodDogMDtcclxuICAgIGJvdHRvbTogMDtcclxuICAgIHotaW5kZXg6IDA7XHJcbiAgfVxyXG5cclxuICAubWVnYW1lbS1tb2RhbC1jb250ZW50IHtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIHotaW5kZXg6IDE7XHJcbiAgICBjdXJzb3I6IGRlZmF1bHQ7XHJcbiAgfVxyXG5cclxuICAubWVnYW1lbS1tb2RhbC1jb250ZW50IHtcclxuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XHJcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgICBtYXgtd2lkdGg6IDUwMHB4O1xyXG4gICAgd2lkdGg6IDkwJTtcclxuICAgIG1heC1oZWlnaHQ6IDgwdmg7XHJcbiAgICBvdmVyZmxvdzogYXV0bztcclxuICAgIGJveC1zaGFkb3c6IDAgNHB4IDZweCByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbiAgfVxyXG5cclxuICAubWVnYW1lbS1tb2RhbC1oZWFkZXIge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBwYWRkaW5nOiAxcmVtIDEuNXJlbTtcclxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XHJcbiAgfVxyXG5cclxuICAubWVnYW1lbS1tb2RhbC1oZWFkZXIgaDMge1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgZm9udC1zaXplOiAxLjI1cmVtO1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XHJcbiAgfVxyXG5cclxuICAubWVnYW1lbS1tb2RhbC1jbG9zZSB7XHJcbiAgICBiYWNrZ3JvdW5kOiBub25lO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgZm9udC1zaXplOiAxLjVyZW07XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG4gICAgd2lkdGg6IDJyZW07XHJcbiAgICBoZWlnaHQ6IDJyZW07XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIH1cclxuXHJcbiAgLm1lZ2FtZW0tbW9kYWwtY2xvc2U6aG92ZXIge1xyXG4gICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcclxuICB9XHJcblxyXG4gIC5tZWdhbWVtLW1vZGFsLWJvZHkge1xyXG4gICAgcGFkZGluZzogMS41cmVtO1xyXG4gIH1cclxuXHJcbiAgLm1lZ2FtZW0tbW9kYWwtd2FybmluZyB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxLjVyZW07XHJcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XHJcbiAgICBsaW5lLWhlaWdodDogMS41O1xyXG4gIH1cclxuXHJcbiAgLm1lZ2FtZW0tcmFkaW8tZ3JvdXAge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBnYXA6IDAuNzVyZW07XHJcbiAgfVxyXG5cclxuICAubWVnYW1lbS1yYWRpby1vcHRpb24ge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xyXG4gICAgZ2FwOiAwLjc1cmVtO1xyXG4gICAgcGFkZGluZzogMC43NXJlbTtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIHRyYW5zaXRpb246IGFsbCAwLjJzO1xyXG4gIH1cclxuXHJcbiAgLm1lZ2FtZW0tcmFkaW8tb3B0aW9uOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpO1xyXG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xyXG4gIH1cclxuXHJcbiAgLm1lZ2FtZW0tcmFkaW8tb3B0aW9uIGlucHV0W3R5cGU9XCJyYWRpb1wiXSB7XHJcbiAgICBtYXJnaW4tdG9wOiAwLjI1cmVtO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIH1cclxuXHJcbiAgLm1lZ2FtZW0tcmFkaW8tbGFiZWwge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBnYXA6IDAuMjVyZW07XHJcbiAgICBmbGV4OiAxO1xyXG4gIH1cclxuXHJcbiAgLm1lZ2FtZW0tcmFkaW8tbGFiZWwgc3Ryb25nIHtcclxuICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XHJcbiAgICBmb250LXdlaWdodDogNjAwO1xyXG4gIH1cclxuXHJcbiAgLm1lZ2FtZW0tcmFkaW8tbGFiZWwgc3BhbiB7XHJcbiAgICBmb250LXNpemU6IDAuODVlbTtcclxuICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcclxuICB9XHJcblxyXG4gIC5tZWdhbWVtLXJhZGlvLWxhYmVsIC50ZXh0LXdhcm5pbmcge1xyXG4gICAgY29sb3I6IHZhcigtLXRleHQtZXJyb3IpO1xyXG4gIH1cclxuXHJcbiAgLm1lZ2FtZW0tbW9kYWwtZm9vdGVyIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xyXG4gICAgZ2FwOiAwLjVyZW07XHJcbiAgICBwYWRkaW5nOiAxcmVtIDEuNXJlbTtcclxuICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XHJcbiAgfVxyXG5cclxuICAubWVnYW1lbS1idXR0b24tcHJpbWFyeSB7XHJcbiAgICBwYWRkaW5nOiAwLjVyZW0gMXJlbTtcclxuICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XHJcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1vbi1hY2NlbnQpO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4ycztcclxuICB9XHJcblxyXG4gIC5tZWdhbWVtLWJ1dHRvbi1wcmltYXJ5OmhvdmVyIHtcclxuICAgIG9wYWNpdHk6IDAuOTtcclxuICB9XHJcblxyXG4gIC5tZWdhbWVtLWJ1dHRvbi1zZWNvbmRhcnkge1xyXG4gICAgcGFkZGluZzogMC41cmVtIDFyZW07XHJcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XHJcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjJzO1xyXG4gIH1cclxuXHJcbiAgLm1lZ2FtZW0tYnV0dG9uLXNlY29uZGFyeTpob3ZlciB7XHJcbiAgICBvcGFjaXR5OiAwLjk7XHJcbiAgfVxyXG48L3N0eWxlPlxyXG4iLCIvLyA9PT0gVkVTU0VMIE9QRU4gPT09XHJcbi8vIFB1cnBvc2U6IFNjaGVtYSBNYW5hZ2VyIHZpZXcgZm9yIGRpc2NvdmVyeS1iYXNlZCBzY2hlbWEgbWFuYWdlbWVudFxyXG4vLyBJbnRlZ3JhdGlvbjogUmVwbGFjZXMgR3JhcGhpdGlWaWV3IHdpdGggbmV3IGRpc2NvdmVyeSBmdW5jdGlvbmFsaXR5XHJcbi8vIE1vZGU6IENvZGUgLSBWaWV3IGNsYXNzIGZvciBzY2hlbWEgZGlzY292ZXJ5IGFuZCBQeWRhbnRpYyBnZW5lcmF0aW9uXHJcblxyXG5pbXBvcnQgeyBJdGVtVmlldywgV29ya3NwYWNlTGVhZiB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgdHlwZSB7IFNjaGVtYURpc2NvdmVyeVNlcnZpY2UgfSBmcm9tIFwiLi4vc2VydmljZXMvU2NoZW1hRGlzY292ZXJ5U2VydmljZVwiO1xyXG5pbXBvcnQgU2NoZW1hTWFuYWdlciBmcm9tIFwiLi4vY29tcG9uZW50cy9TY2hlbWFNYW5hZ2VyLnN2ZWx0ZVwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IFNDSEVNQV9NQU5BR0VSX1ZJRVdfVFlQRSA9IFwic2NoZW1hLW1hbmFnZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTY2hlbWFNYW5hZ2VyVmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcclxuICBjb21wb25lbnQ/OiBTY2hlbWFNYW5hZ2VyO1xyXG5cclxuICBjb25zdHJ1Y3RvcihsZWFmOiBXb3Jrc3BhY2VMZWFmLCBwcml2YXRlIHNjaGVtYVNlcnZpY2U6IFNjaGVtYURpc2NvdmVyeVNlcnZpY2UsIHByaXZhdGUgcGx1Z2luOiBhbnkpIHtcclxuICAgIHN1cGVyKGxlYWYpO1xyXG4gIH1cclxuXHJcbiAgZ2V0Vmlld1R5cGUoKSB7XHJcbiAgICByZXR1cm4gU0NIRU1BX01BTkFHRVJfVklFV19UWVBFO1xyXG4gIH1cclxuXHJcbiAgZ2V0RGlzcGxheVRleHQoKSB7XHJcbiAgICByZXR1cm4gXCJTY2hlbWEgTWFuYWdlclwiO1xyXG4gIH1cclxuICBnZXRJY29uKCkge1xyXG4gICAgcmV0dXJuIFwiZGF0YWJhc2VcIjtcclxuICB9XHJcblxyXG5cclxuICBhc3luYyBvbk9wZW4oKSB7XHJcbiAgICB0aGlzLmNvbXBvbmVudCA9IG5ldyBTY2hlbWFNYW5hZ2VyKHtcclxuICAgICAgdGFyZ2V0OiB0aGlzLmNvbnRlbnRFbCxcclxuICAgICAgcHJvcHM6IHtcclxuICAgICAgICBzY2hlbWFTZXJ2aWNlOiB0aGlzLnNjaGVtYVNlcnZpY2UsXHJcbiAgICAgICAgbGxtU2VydmljZTogdGhpcy5wbHVnaW4ubGxtU2VydmljZVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFzeW5jIG9uQ2xvc2UoKSB7XHJcbiAgICBpZiAodGhpcy5jb21wb25lbnQpIHtcclxuICAgICAgdGhpcy5jb21wb25lbnQuJGRlc3Ryb3koKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vID09PSBWRVNTRUwgQ0xPU0UgPT09IiwiPCEtLVxuPT09IFZFU1NFTCBPUEVOID09PVxuUHVycG9zZTogRW5oYW5jZWQgc3luYyBtb2RhbCB1c2luZyBTdmVsdGUgZm9yIGJldHRlciBtYWludGFpbmFiaWxpdHkgYW5kIHVzZXIgZXhwZXJpZW5jZVxuSW50ZWdyYXRpb246IFVzZXMgZXhpc3RpbmcgR3JhcGhpdGlTZXJ2aWNlLCBTeW5jUmVnaXN0cnlTZXJ2aWNlLCBTeW5jU3RhdHVzTWFuYWdlciBmb3Igb3JjaGVzdHJhdGVkIHN5bmMgb3BlcmF0aW9uc1xuTW9kZTogQ29kZSAtIENvbXBsZXRlIHN5bmMgaW50ZXJmYWNlIHdpdGggcHJvZ3Jlc3MgdHJhY2tpbmcsIGJ1bGsgb3B0aW9ucywgYW5kIHVzZXIgc2V0dGluZyBvdmVycmlkZXNcbi0tPlxuXG48c2NyaXB0IGxhbmc9XCJ0c1wiPlxuICBpbXBvcnQgeyBvbk1vdW50IH0gZnJvbSBcInN2ZWx0ZVwiO1xuICBpbXBvcnQgeyBNb2RhbCB9IGZyb20gXCJvYnNpZGlhblwiO1xuICBpbXBvcnQgdHlwZSB7XG4gICAgR3JhcGhpdGlTZXJ2aWNlLFxuICAgIFN5bmNQcm9ncmVzcyxcbiAgICBTeW5jUmVzdWx0LFxuICB9IGZyb20gXCIuLi9zZXJ2aWNlcy9HcmFwaGl0aVNlcnZpY2VcIjtcbiAgaW1wb3J0IHR5cGUge1xuICAgIE5vdGVTZWxlY3Rpb25TZXJ2aWNlLFxuICAgIE5vdGVGaWx0ZXJDcml0ZXJpYSxcbiAgICBOb3RlU2VsZWN0aW9uUmVzdWx0LFxuICB9IGZyb20gXCIuLi9zZXJ2aWNlcy9Ob3RlU2VsZWN0aW9uU2VydmljZVwiO1xuICBpbXBvcnQgdHlwZSB7IFN5bmNSZWdpc3RyeVNlcnZpY2UgfSBmcm9tIFwiLi4vc2VydmljZXMvU3luY1JlZ2lzdHJ5U2VydmljZVwiO1xuICBpbXBvcnQgdHlwZSB7IFN5bmNTdGF0dXNNYW5hZ2VyIH0gZnJvbSBcIi4uL3NlcnZpY2VzL1N5bmNTdGF0dXNNYW5hZ2VyXCI7XG4gIGltcG9ydCB0eXBlIHsgR3JhcGhpdGlQbHVnaW5TZXR0aW5ncyB9IGZyb20gXCIuLi90eXBlcy9TZXR0aW5nc1wiO1xuICBpbXBvcnQgdHlwZSB7IEdyYXBoaXRpTG9nZ2VyIH0gZnJvbSBcIi4uL3V0aWxzL0xvZ2dlclwiO1xuXG4gIC8vIEB2ZXNzZWwtcHJvdG9jb2w6SGVpbWRhbGwgZ292ZXJuczplcnJvci1oYW5kbGluZyBjb250ZXh0OlJvYnVzdCBlcnJvciBjYXB0dXJlIGZvciBpbmRpdmlkdWFsIHN5bmMgc3RhdHVzIGNoZWNrcyBpbiBQcm9taXNlLmFsbFxuICAvLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbaXNTeW5jZWQoKSwgY29tcHV0ZVF1aWNrU3luY1N0YXRzKCldXG4gIC8vIEBwdXJwb3NlOiBFbnN1cmUgdGhhdCBpbmRpdmlkdWFsIGZhaWx1cmVzIGluIHN5bmMgc3RhdHVzIGFzc2Vzc21lbnRzIGRvIG5vdCBjYXVzZSB0aGUgZW50aXJlIFByb21pc2UuYWxsIHRvIGZhaWwsIGFsbG93aW5nIHBhcnRpYWwgc3VjY2VzcyByZXBvcnRpbmcgYW5kIGJldHRlciBkZWJ1Z2dpbmcuXG4gIC8vIEByZXN1bHQ6IFRoZSBxdWljayBzeW5jIHRhYmxlIHdpbGwgZGlzcGxheSBhY2N1cmF0ZSBjb3VudHMgZXZlbiBpZiBzb21lIG5vdGVzIGZhaWwgc3luYyBzdGF0dXMgY2hlY2tzLCBpbXByb3ZpbmcgVUkgc3RhYmlsaXR5IGFuZCBlcnJvciB2aXNpYmlsaXR5LlxuICAvLyBAc2lnbmVkOiBDLkJqw7hyblxuICAvLyBMb2NhbCB0eXBlIGRlZmluaXRpb25zIHRvIGhhbmRsZSBleHBvcnQgaXNzdWVzXG5cbiAgdHlwZSBTeW5jU3RhdHVzQ2hlY2tSZXN1bHQgPSB7XG4gICAgbm90ZVBhdGg6IHN0cmluZztcbiAgICBpc1N5bmNlZDogYm9vbGVhbjtcbiAgICBlcnJvcjogYm9vbGVhbjtcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICB9O1xuXG4gIHR5cGUgU3luY1JlY29yZEVudHJ5ID0ge1xuICAgIGVwaXNvZGVfdXVpZDogc3RyaW5nO1xuICAgIGxhc3Rfc3luYzogc3RyaW5nO1xuICB9O1xuXG4gIHR5cGUgU3luY1JlY29yZCA9IHtcbiAgICBzeW5jczogU3luY1JlY29yZEVudHJ5W107XG4gIH07XG5cbiAgLy8gUHJvcHNcbiAgZXhwb3J0IGxldCBncmFwaGl0aVNlcnZpY2U6IEdyYXBoaXRpU2VydmljZTtcbiAgZXhwb3J0IGxldCBzeW5jUmVnaXN0cnlTZXJ2aWNlOiBTeW5jUmVnaXN0cnlTZXJ2aWNlO1xuICBsZXQgc2V0dGluZ3M6IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3M7XG4gIGV4cG9ydCBsZXQgbG9nZ2VyOiBHcmFwaGl0aUxvZ2dlcjtcblxuICAvLyBTZXJ2aWNlc1xuICBsZXQgbm90ZVNlbGVjdGlvblNlcnZpY2U6IE5vdGVTZWxlY3Rpb25TZXJ2aWNlIHwgdW5kZWZpbmVkO1xuICBsZXQgYXBwOiBhbnk7XG5cbiAgLy8gVUkgU3RhdGVcbiAgbGV0IGFjdGl2ZVRhYjogXCJxdWlja1wiIHwgXCJhZHZhbmNlZFwiID0gXCJxdWlja1wiO1xuICBsZXQgbG9hZGluZyA9IGZhbHNlO1xuICBsZXQgc3luY0luUHJvZ3Jlc3MgPSBmYWxzZTtcblxuICAvLyBRdWljayBTeW5jIFN0YXRlXG4gIGxldCBxdWlja1N5bmNUYWJsZURhdGE6IEFycmF5PHtcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgdG90YWw6IG51bWJlcjtcbiAgICBzeW5jZWQ6IG51bWJlcjtcbiAgICBwcml2YXRlOiBudW1iZXI7XG4gICAgcmVhZHk6IG51bWJlcjtcbiAgICByZWFkeVBhdGhzOiBzdHJpbmdbXTtcbiAgICB1cGRhdGVkOiBudW1iZXI7XG4gICAgdXBkYXRlZFBhdGhzOiBzdHJpbmdbXTtcbiAgfT4gPSBbXTtcbiAgbGV0IHRhYmxlTG9hZGluZzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8vIEFkdmFuY2VkIFNlbGVjdGlvbiBTdGF0ZVxuICBsZXQgc2VsZWN0ZWROb3Rlc0VsOiBhbnk7XG4gIGxldCBzdW1tYXJ5RWw6IGFueTtcbiAgbGV0IGZpbHRlckNyaXRlcmlhOiBOb3RlRmlsdGVyQ3JpdGVyaWEgPSB7fTtcblxuICAvLyBBZHZhbmNlZCBmaWx0ZXJpbmcgc3RhdGVcbiAgbGV0IGF2YWlsYWJsZVR5cGVzOiBzdHJpbmdbXSA9IFtdO1xuICBsZXQgYXZhaWxhYmxlVGFnczogc3RyaW5nW10gPSBbXTtcbiAgbGV0IGF2YWlsYWJsZUZvbGRlcnM6IHN0cmluZ1tdID0gW107XG4gIGxldCBmaWx0ZXJlZE5vdGVzOiBOb3RlU2VsZWN0aW9uUmVzdWx0W10gPSBbXTtcbiAgbGV0IHNlbGVjdGVkTm90ZXNQYXRoczogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7XG4gIGxldCBhZHZhbmNlZExvYWRpbmcgPSBmYWxzZTtcbiAgbGV0IHNob3dQcmV2aWV3ID0gZmFsc2U7XG4gIGxldCBzZWxlY3Rpb25TdW1tYXJ5OiBhbnkgPSBudWxsO1xuICBsZXQgc2VsZWN0QWxsQ2hlY2tlZCA9IGZhbHNlO1xuICBsZXQgcHJvcGVydHlGaWx0ZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gIGxldCBhdmFpbGFibGVQcm9wZXJ0aWVzOiBzdHJpbmdbXSA9IFtdO1xuICBsZXQgc2VsZWN0ZWRUeXBlczogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7XG4gIGxldCBzZWxlY3RlZFRhZ3M6IFNldDxzdHJpbmc+ID0gbmV3IFNldCgpO1xuICBsZXQgc2VsZWN0ZWRGb2xkZXJzOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQoKTtcblxuICAvLyBQcm9ncmVzcyBTdGF0ZVxuICBsZXQgc3luY1Byb2dyZXNzOiBTeW5jUHJvZ3Jlc3MgfCBudWxsID0gbnVsbDtcbiAgbGV0IHN5bmNSZXN1bHQ6IFN5bmNSZXN1bHQgfCBudWxsID0gbnVsbDtcbiAgbGV0IHN5bmNQaGFzZTogXCJwcmVwYXJhdGlvblwiIHwgXCJhbmFseXNpc1wiIHwgXCJzeW5jXCIgfCBcImNsZWFudXBcIiA9XG4gICAgXCJwcmVwYXJhdGlvblwiO1xuICBsZXQgbmV3Tm90ZXNDb3VudCA9IDA7XG4gIGxldCBleGlzdGluZ05vdGVzQ291bnQgPSAwO1xuICBsZXQgc2tpcHBlZE5vdGVzQ291bnQgPSAwO1xuICBsZXQgZXJyb3JDb3VudCA9IDA7XG4gIGxldCBlc3RpbWF0ZWRUaW1lUmVtYWluaW5nID0gXCJcIjtcblxuICAvLyBTdGF0aXN0aWNzXG4gIGxldCB2YXVsdFN0YXRpc3RpY3M6IGFueSA9IG51bGw7XG5cbiAgJDoge1xuICAgIGlmICh0eXBlb2YgKHdpbmRvdyBhcyBhbnkpLmFwcCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgYXBwID0gKHdpbmRvdyBhcyBhbnkpLmFwcDtcbiAgICAgIGlmIChncmFwaGl0aVNlcnZpY2UpIHtcbiAgICAgICAgbm90ZVNlbGVjdGlvblNlcnZpY2UgPSBncmFwaGl0aVNlcnZpY2UuZ2V0Tm90ZVNlbGVjdGlvblNlcnZpY2UoKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZSAtIEFjY2Vzc2luZyBwcml2YXRlIG1lbWJlciBmb3Igbm93XG4gICAgICAgIHNldHRpbmdzID0gZ3JhcGhpdGlTZXJ2aWNlLnNldHRpbmdzO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG9uTW91bnQoYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGluaXRpYWxpemVNb2RhbCgpO1xuICB9KTtcblxuICBhc3luYyBmdW5jdGlvbiBpbml0aWFsaXplTW9kYWwoKSB7XG4gICAgLy8gQHZlc3NlbC1wcm90b2NvbDpCYWxkciBnb3Zlcm5zOltkZWJ1Z10gY29udGV4dDpEaWFnbm9zaXMgb2YgaW5pdGlhbGl6YXRpb24gbG9nZ2luZ1xuICAgIC8vIEBpbnRlci1kZXBlbmRlbmNpZXM6IFtjb21wdXRlUXVpY2tTeW5jU3RhdHNdXG4gICAgLy8gQHB1cnBvc2U6IFJlZHVjZSBpbml0aWFsaXphdGlvbiBsb2cgbm9pc2VcbiAgICAvLyBAcmVzdWx0OiBDbGVhbmVyIG1vZGFsIHN0YXJ0dXAgbG9nZ2luZ1xuICAgIC8vIEBzaWduZWQ6IEMuQmrDuHJuXG4gICAgbG9nZ2VyLmRlYnVnKFwiW1NNLUlOSVRdIFN5bmNNb2RhbCBpbml0aWFsaXppbmcuLi5cIik7XG4gICAgYXdhaXQgY29tcHV0ZVF1aWNrU3luY1N0YXRzKCk7XG5cbiAgICAvLyBJbml0aWFsaXplIGFkdmFuY2VkIHRhYiBkYXRhIHdoZW4gc3dpdGNoaW5nIHRvIGl0XG4gICAgaWYgKGFjdGl2ZVRhYiA9PT0gXCJhZHZhbmNlZFwiICYmIG5vdGVTZWxlY3Rpb25TZXJ2aWNlKSB7XG4gICAgICBhd2FpdCBpbml0aWFsaXplQWR2YW5jZWRUYWIoKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBpbml0aWFsaXplQWR2YW5jZWRUYWIoKSB7XG4gICAgaWYgKCFub3RlU2VsZWN0aW9uU2VydmljZSkgcmV0dXJuO1xuICAgIGF2YWlsYWJsZVR5cGVzID0gYXdhaXQgbm90ZVNlbGVjdGlvblNlcnZpY2UuZ2V0QXZhaWxhYmxlVHlwZXMoKTtcbiAgICBhdmFpbGFibGVUYWdzID0gYXdhaXQgbm90ZVNlbGVjdGlvblNlcnZpY2UuZ2V0QXZhaWxhYmxlVGFncygpO1xuICAgIGF3YWl0IGRpc2NvdmVyQXZhaWxhYmxlRm9sZGVycygpO1xuICAgIGZpbHRlcmVkTm90ZXMgPSBhd2FpdCBub3RlU2VsZWN0aW9uU2VydmljZS5nZXRBbGxTeW5jYWJsZU5vdGVzKCk7XG4gICAgYXdhaXQgZGlzY292ZXJBdmFpbGFibGVQcm9wZXJ0aWVzKCk7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBkaXNjb3ZlckF2YWlsYWJsZUZvbGRlcnMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3Qgcm9vdCA9IGFwcC52YXVsdC5nZXRSb290KCk7XG4gICAgY29uc3QgZm9sZGVycyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgIGNvbnN0IGNvbGxlY3RGb2xkZXJzID0gKGZvbGRlcjogYW55KSA9PiB7XG4gICAgICBmb2xkZXIuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQ6IGFueSkgPT4ge1xuICAgICAgICBpZiAoY2hpbGQuY2hpbGRyZW4pIHtcbiAgICAgICAgICBmb2xkZXJzLmFkZChjaGlsZC5wYXRoKTtcbiAgICAgICAgICBjb2xsZWN0Rm9sZGVycyhjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gICAgY29sbGVjdEZvbGRlcnMocm9vdCk7XG4gICAgYXZhaWxhYmxlRm9sZGVycyA9IEFycmF5LmZyb20oZm9sZGVycykuc29ydCgpO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gY29tcHV0ZVF1aWNrU3luY1N0YXRzKCkge1xuICAgIHRyeSB7XG4gICAgICB0YWJsZUxvYWRpbmcgPSB0cnVlO1xuXG4gICAgICBpZiAoIW5vdGVTZWxlY3Rpb25TZXJ2aWNlKSB7XG4gICAgICAgIGxvZ2dlci53YXJuKFwiW1NNLVdBUk5dIE5vdGUgc2VsZWN0aW9uIHNlcnZpY2Ugbm90IGF2YWlsYWJsZVwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBAdmVzc2VsLXByb3RvY29sOkJhbGRyIGdvdmVybnM6W2RlYnVnXSBjb250ZXh0OkRpYWdub3NpcyBvZiBzeW5jIHN0YXRzIGV4cGxvc2lvblxuICAgICAgLy8gQGludGVyLWRlcGVuZGVuY2llczogW2lzU3luY2VkLCBnZXRTeW5jUmVjb3JkXVxuICAgICAgLy8gQHB1cnBvc2U6IFRyYWNrIHN5bmMgc3RhdHVzIGNoZWNrIHZvbHVtZSBjYXVzaW5nIGxvZyBleHBsb3Npb25cbiAgICAgIC8vIEByZXN1bHQ6IENsZWFyIGV2aWRlbmNlIG9mIGxvb3Agc2l6ZSBjYXVzaW5nIGV4Y2Vzc2l2ZSBsb2dnaW5nXG4gICAgICAvLyBAc2lnbmVkOiBDLkJqw7hyblxuICAgICAgY29uc3QgYWxsU3luY2FibGVOb3Rlc0J5VHlwZSA9XG4gICAgICAgIGF3YWl0IG5vdGVTZWxlY3Rpb25TZXJ2aWNlLmdldE5vdGVzQnlUeXBlKCk7XG4gICAgICBjb25zdCBhbGxQcml2YXRlTm90ZXMgPVxuICAgICAgICBhd2FpdCBub3RlU2VsZWN0aW9uU2VydmljZS5nZXRQcml2YXRlTm90ZXNCeUZvbGRlcigpO1xuICAgICAgY29uc3QgYXZhaWxhYmxlVHlwZXMgPSBhd2FpdCBub3RlU2VsZWN0aW9uU2VydmljZS5nZXRBdmFpbGFibGVUeXBlcygpO1xuICAgICAgY29uc3QgbmV3RGF0YSA9IFtdO1xuXG4gICAgICBsZXQgdG90YWxTeW5jQ2hlY2tzID0gMDtcblxuICAgICAgZm9yIChjb25zdCB0eXBlIG9mIGF2YWlsYWJsZVR5cGVzKSB7XG4gICAgICAgIGNvbnN0IHN5bmNhYmxlTm90ZXNGb3JUeXBlID0gYWxsU3luY2FibGVOb3Rlc0J5VHlwZVt0eXBlXSB8fCBbXTtcbiAgICAgICAgY29uc3QgcHJpdmF0ZU5vdGVzRm9yVHlwZSA9IGFsbFByaXZhdGVOb3Rlcy5maWx0ZXIoXG4gICAgICAgICAgKG5vdGUpID0+IG5vdGUudHlwZSA9PT0gdHlwZVxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IHRvdGFsID0gc3luY2FibGVOb3Rlc0ZvclR5cGUubGVuZ3RoICsgcHJpdmF0ZU5vdGVzRm9yVHlwZS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHByaXZhdGVDb3VudCA9IHByaXZhdGVOb3Rlc0ZvclR5cGUubGVuZ3RoO1xuXG4gICAgICAgIHRvdGFsU3luY0NoZWNrcyArPSBzeW5jYWJsZU5vdGVzRm9yVHlwZS5sZW5ndGg7XG5cbiAgICAgICAgY29uc3Qgc3luY2VkU3RhdHVzUmVzdWx0czogU3luY1N0YXR1c0NoZWNrUmVzdWx0W10gPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgICBzeW5jYWJsZU5vdGVzRm9yVHlwZS5tYXAoYXN5bmMgKG4pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGlzU3luY2VkKG4ucGF0aCk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBub3RlUGF0aDogbi5wYXRoLFxuICAgICAgICAgICAgICBpc1N5bmNlZDogcmVzdWx0LmlzU3luY2VkLFxuICAgICAgICAgICAgICBlcnJvcjogcmVzdWx0LmVycm9yLFxuICAgICAgICAgICAgICBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBzeW5jZWRDb3VudCA9IHN5bmNlZFN0YXR1c1Jlc3VsdHMuZmlsdGVyKFxuICAgICAgICAgIChyKSA9PiByLmlzU3luY2VkICYmICFyLmVycm9yXG4gICAgICAgICkubGVuZ3RoO1xuXG4gICAgICAgIGNvbnN0IHJlYWR5UGF0aHMgPSBzeW5jZWRTdGF0dXNSZXN1bHRzXG4gICAgICAgICAgLmZpbHRlcigocikgPT4gIXIuaXNTeW5jZWQgJiYgIXIuZXJyb3IpXG4gICAgICAgICAgLm1hcCgocikgPT4gci5ub3RlUGF0aCk7XG4gICAgICAgIGNvbnN0IHJlYWR5Q291bnQgPSByZWFkeVBhdGhzLmxlbmd0aDtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgdXBkYXRlZCBub3RlcyAobm90ZXMgdGhhdCBoYXZlIGJlZW4gc3luY2VkIGJlZm9yZSBidXQgaGF2ZSBjaGFuZ2VzKVxuICAgICAgICBjb25zdCB1cGRhdGVkTm90ZXMgPSBhd2FpdCBub3RlU2VsZWN0aW9uU2VydmljZS5nZXRVcGRhdGVkTm90ZXMoXG4gICAgICAgICAgc3luY2FibGVOb3Rlc0ZvclR5cGUubWFwKChub3RlKSA9PiAoe1xuICAgICAgICAgICAgZmlsZTogbm90ZS5maWxlLFxuICAgICAgICAgICAgcGF0aDogbm90ZS5wYXRoLFxuICAgICAgICAgICAgdHlwZTogbm90ZS50eXBlIHx8IHR5cGUsXG4gICAgICAgICAgICB0YWdzOiBbXSxcbiAgICAgICAgICAgIGZyb250bWF0dGVyOiB7IHR5cGU6IG5vdGUudHlwZSB8fCB0eXBlIH0sXG4gICAgICAgICAgICBjb250ZW50TGVuZ3RoOiAwLFxuICAgICAgICAgICAgY3JlYXRlZDogbmV3IERhdGUobm90ZS5maWxlLnN0YXQuY3RpbWUpLFxuICAgICAgICAgICAgbW9kaWZpZWQ6IG5ldyBEYXRlKG5vdGUuZmlsZS5zdGF0Lm10aW1lKSxcbiAgICAgICAgICAgIHNlbGVjdGVkOiBmYWxzZSxcbiAgICAgICAgICB9KSlcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgdXBkYXRlZFBhdGhzID0gdXBkYXRlZE5vdGVzLm1hcCgobikgPT4gbi5wYXRoKTtcbiAgICAgICAgY29uc3QgdXBkYXRlZENvdW50ID0gdXBkYXRlZFBhdGhzLmxlbmd0aDtcblxuICAgICAgICBuZXdEYXRhLnB1c2goe1xuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgdG90YWwsXG4gICAgICAgICAgc3luY2VkOiBzeW5jZWRDb3VudCxcbiAgICAgICAgICBwcml2YXRlOiBwcml2YXRlQ291bnQsXG4gICAgICAgICAgcmVhZHk6IHJlYWR5Q291bnQsXG4gICAgICAgICAgcmVhZHlQYXRocyxcbiAgICAgICAgICB1cGRhdGVkOiB1cGRhdGVkQ291bnQsXG4gICAgICAgICAgdXBkYXRlZFBhdGhzLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcXVpY2tTeW5jVGFibGVEYXRhID0gbmV3RGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKFwiRmFpbGVkIHRvIGNvbXB1dGUgcXVpY2sgc3luYyBzdGF0czpcIiwgZXJyb3IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0YWJsZUxvYWRpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvLyBAdmVzc2VsLXByb3RvY29sOk9kaW4gZ292ZXJuczpbbWVtb3J5LXN5bmN8cmVmYWN0b3JdIGNvbnRleHQ6TU1fVUlELWJhc2VkIHN5bmMgc3RhdHVzIGRldGVjdGlvbiBmb3IgU3luY01vZGFsIFVJXG4gIC8vIEBpbnRlci1kZXBlbmRlbmNpZXM6IFtGcm9udG1hdHRlclV0aWxzLCBTeW5jUmVnaXN0cnlTZXJ2aWNlLCBtbV91aWQgc3lzdGVtXVxuICAvLyBAcHVycG9zZTogRW5hYmxlIGFjY3VyYXRlIHN5bmMgc3RhdHVzIGRldGVjdGlvbiBpbiBVSSB1c2luZyBtbV91aWQgYXMgcHJpbWFyeSBpZGVudGlmaWVyXG4gIC8vIEByZXN1bHQ6IFN5bmNNb2RhbCBjb3JyZWN0bHkgY291bnRzIGFuZCBkaXNwbGF5cyBzeW5jZWQgcmVjb3JkcyB1c2luZyBtbV91aWQgYXJjaGl0ZWN0dXJlXG4gIC8vIEBzaWduZWQ6IEMuQmrDuHJuXG4gIGFzeW5jIGZ1bmN0aW9uIGlzU3luY2VkKFxuICAgIG5vdGVQYXRoOiBzdHJpbmdcbiAgKTogUHJvbWlzZTx7IGlzU3luY2VkOiBib29sZWFuOyBlcnJvcjogYm9vbGVhbjsgbWVzc2FnZT86IHN0cmluZyB9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCB0aGUgZmlsZSBmcm9tIHRoZSBwYXRoXG4gICAgICBjb25zdCBmaWxlID0gYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChub3RlUGF0aCk7XG4gICAgICBpZiAoIWZpbGUpIHtcbiAgICAgICAgcmV0dXJuIHsgaXNTeW5jZWQ6IGZhbHNlLCBlcnJvcjogZmFsc2UsIG1lc3NhZ2U6IFwiRmlsZSBub3QgZm91bmRcIiB9O1xuICAgICAgfVxuXG4gICAgICAvLyBHZXQgbW1fdWlkIGZyb20gZnJvbnRtYXR0ZXIgLSB1c2UgbWV0YWRhdGEgY2FjaGUgZm9yIHBlcmZvcm1hbmNlXG4gICAgICBjb25zdCBjYWNoZSA9IGFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShmaWxlKTtcbiAgICAgIGNvbnN0IG1tVWlkID0gY2FjaGU/LmZyb250bWF0dGVyPy5tbV91aWQ7XG5cbiAgICAgIC8vIElmIG5vIG1tX3VpZCwgbm90ZSBoYXMgbmV2ZXIgYmVlbiBzeW5jZWRcbiAgICAgIGlmICghbW1VaWQgfHwgdHlwZW9mIG1tVWlkICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiB7IGlzU3luY2VkOiBmYWxzZSwgZXJyb3I6IGZhbHNlLCBtZXNzYWdlOiBcIk5vIG1tX3VpZCBmb3VuZFwiIH07XG4gICAgICB9XG5cbiAgICAgIC8vIFVzZSBtbV91aWQtYmFzZWQgbG9va3VwXG4gICAgICBjb25zdCB2YXVsdElkID0gYXBwLnZhdWx0LmdldE5hbWUoKTtcbiAgICAgIGNvbnN0IHN5bmNSZWNvcmQgPSBzeW5jUmVnaXN0cnlTZXJ2aWNlLmdldFN5bmNSZWNvcmQobW1VaWQsIHZhdWx0SWQpO1xuXG4gICAgICBpZiAoIXN5bmNSZWNvcmQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpc1N5bmNlZDogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IGZhbHNlLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiTm8gc3luYyByZWNvcmQgZm91bmQgZm9yIG1tX3VpZFwiLFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICAvLyBDaGVjayBpZiB0aGVyZSBhcmUgdmFsaWQgc3luYyBlbnRyaWVzIGZvciBjdXJyZW50IGRhdGFiYXNlXG4gICAgICBjb25zdCBjdXJyZW50RGJUeXBlID0gXCJuZW80alwiOyAvLyBEZWZhdWx0IGRhdGFiYXNlIHR5cGUgLSBzaG91bGQgbWF0Y2ggc2V0dGluZ3NcbiAgICAgIGNvbnN0IGN1cnJlbnREYlN5bmMgPSBzeW5jUmVjb3JkLnN5bmNzLmZpbmQoXG4gICAgICAgIChzeW5jKSA9PiBzeW5jLmRhdGFiYXNlX2lkID09PSBjdXJyZW50RGJUeXBlXG4gICAgICApO1xuXG4gICAgICBpZiAoY3VycmVudERiU3luYyAmJiAhY3VycmVudERiU3luYy5lcnJvcl9tZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB7IGlzU3luY2VkOiB0cnVlLCBlcnJvcjogZmFsc2UgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXNTeW5jZWQ6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZmFsc2UsXG4gICAgICAgIG1lc3NhZ2U6IFwiTm8gdmFsaWQgc3luYyBmb3VuZCBmb3IgY3VycmVudCBkYXRhYmFzZVwiLFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgIGxvZ2dlci53YXJuKFxuICAgICAgICBgW1dBUk5dIEZhaWxlZCB0byBkZXRlcm1pbmUgc3luYyBzdGF0dXMgZm9yIG5vdGUgJHtub3RlUGF0aH06ICR7ZS5tZXNzYWdlfWBcbiAgICAgICk7XG4gICAgICByZXR1cm4geyBpc1N5bmNlZDogZmFsc2UsIGVycm9yOiB0cnVlLCBtZXNzYWdlOiBlLm1lc3NhZ2UgfTtcbiAgICB9XG4gIH1cbiAgLy8gQHZlc3NlbC1jbG9zZTpPZGluXG5cbiAgYXN5bmMgZnVuY3Rpb24gc3RhcnRDYXRlZ29yeVN5bmModHlwZTogc3RyaW5nLCByZWFkeVBhdGhzOiBzdHJpbmdbXSkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIW5vdGVTZWxlY3Rpb25TZXJ2aWNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdGUgc2VsZWN0aW9uIHNlcnZpY2Ugbm90IGF2YWlsYWJsZVwiKTtcbiAgICAgIH1cblxuICAgICAgc3luY0luUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgc3luY1Byb2dyZXNzID0gbnVsbDtcbiAgICAgIHN5bmNSZXN1bHQgPSBudWxsO1xuXG4gICAgICAvLyBBZGQgY2F0ZWdvcnkgbm90ZXMgdG8gc2VsZWN0aW9uIHF1ZXVlIC0gcHJvY2Vzc2VkIG5vdGVzIHdpbGwgYmUgcmVtb3ZlZCBieSBHcmFwaGl0aVNlcnZpY2VcbiAgICAgIGF3YWl0IG5vdGVTZWxlY3Rpb25TZXJ2aWNlLnNlbGVjdE5vdGVzKHJlYWR5UGF0aHMpO1xuICAgICAgYXdhaXQgYW5hbHl6ZVNlbGVjdGVkTm90ZXMoKTtcblxuICAgICAgbG9nZ2VyLmRlYnVnKFxuICAgICAgICBcIltTWU5DLU1PREFMXSBTdGFydGluZyBjYXRlZ29yeSBzeW5jIHZpYSBzeW5jU2VsZWN0ZWROb3RlcygpXCJcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4ZWN1dGVFbmhhbmNlZFN5bmMoYFN5bmMgJHt0eXBlfSBOb3Rlc2ApO1xuICAgICAgc3luY1Jlc3VsdCA9IHJlc3VsdDtcblxuICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwic3VjY2Vzc1wiKSB7XG4gICAgICAgIHNob3dTeW5jTm90aWZpY2F0aW9uKHJlc3VsdCwgYCR7dHlwZX0gTm90ZXNgKTtcbiAgICAgICAgYXdhaXQgY29tcHV0ZVF1aWNrU3luY1N0YXRzKCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcihcIkNhdGVnb3J5IHN5bmMgZmFpbGVkOlwiLCBlcnJvcik7XG4gICAgICBzeW5jUmVzdWx0ID0ge1xuICAgICAgICBzdGF0dXM6IFwiZXJyb3JcIixcbiAgICAgICAgcHJvY2Vzc2VkOiAwLFxuICAgICAgICBza2lwcGVkOiAwLFxuICAgICAgICB0b3RhbDogMCxcbiAgICAgICAgYmF0Y2hDb3VudDogMCxcbiAgICAgICAgbm9kZVR5cGVzTG9hZGVkOiAwLFxuICAgICAgICBlZGdlVHlwZXNMb2FkZWQ6IDAsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSxcbiAgICAgIH07XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHN5bmNJblByb2dyZXNzID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gc3RhcnRBZHZhbmNlZFN5bmMoKSB7XG4gICAgaWYgKHN5bmNJblByb2dyZXNzIHx8ICFub3RlU2VsZWN0aW9uU2VydmljZSkgcmV0dXJuO1xuXG4gICAgLy8gUmVnaXN0ZXIgc2VsZWN0ZWQgbm90ZXMgd2l0aCB0aGUgc2VydmljZSBiZWZvcmUgdmFsaWRhdGlvblxuICAgIGF3YWl0IG5vdGVTZWxlY3Rpb25TZXJ2aWNlLnNlbGVjdE5vdGVzKEFycmF5LmZyb20oc2VsZWN0ZWROb3Rlc1BhdGhzKSk7XG5cbiAgICBjb25zdCB2YWxpZGF0aW9uID0gYXdhaXQgbm90ZVNlbGVjdGlvblNlcnZpY2UudmFsaWRhdGVTZWxlY3Rpb24oKTtcbiAgICBpZiAoIXZhbGlkYXRpb24uaXNWYWxpZCkge1xuICAgICAgYWxlcnQoYENhbm5vdCBzeW5jOiAke3ZhbGlkYXRpb24uZXJyb3JzLmpvaW4oXCIsIFwiKX1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzeW5jSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgc3luY1Jlc3VsdCA9IG51bGw7XG4gICAgc3luY1Byb2dyZXNzID0gbnVsbDtcblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBhbmFseXplU2VsZWN0ZWROb3RlcygpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhlY3V0ZUVuaGFuY2VkU3luYyhcIkFkdmFuY2VkIFNlbGVjdGlvbiBTeW5jXCIpO1xuICAgICAgc3luY1Jlc3VsdCA9IHJlc3VsdDtcblxuICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwic3VjY2Vzc1wiKSB7XG4gICAgICAgIHNob3dTeW5jTm90aWZpY2F0aW9uKHJlc3VsdCwgXCJTZWxlY3RlZCBOb3Rlc1wiKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKFwiQWR2YW5jZWQgc3luYyBmYWlsZWQ6XCIsIGVycm9yKTtcbiAgICAgIHN5bmNSZXN1bHQgPSB7XG4gICAgICAgIHN0YXR1czogXCJlcnJvclwiLFxuICAgICAgICBwcm9jZXNzZWQ6IDAsXG4gICAgICAgIHNraXBwZWQ6IDAsXG4gICAgICAgIHRvdGFsOiAwLFxuICAgICAgICBiYXRjaENvdW50OiAwLFxuICAgICAgICBub2RlVHlwZXNMb2FkZWQ6IDAsXG4gICAgICAgIGVkZ2VUeXBlc0xvYWRlZDogMCxcbiAgICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpLFxuICAgICAgfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc3luY0luUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvLyBAdmVzc2VsLXByb3RvY29sOkhlaW1kYWxsIGdvdmVybnM6W2Vycm9yLWhhbmRsaW5nfGZpeF0gY29udGV4dDpSb2J1c3QgZXJyb3IgaGFuZGxpbmcgZm9yIFN5bmNNb2RhbCBzeW5jIG9wZXJhdGlvbnMgd2l0aCBzY2hlbWEgdmFsaWRhdGlvbiBhbmQgdW5yZWNvZ25pemVkIG5vdGUgdHlwZXNcbiAgLy8gQGludGVyLWRlcGVuZGVuY2llczogW0dyYXBoaXRpU2VydmljZS5zeW5jU2VsZWN0ZWROb3Rlcywgc3RhcnRDYXRlZ29yeVN5bmMsIHN0YXJ0QWR2YW5jZWRTeW5jXVxuICAvLyBAcHVycG9zZTogRW5zdXJlIFN5bmNNb2RhbCBvcGVyYXRpb25zIGhhbmRsZSBzY2hlbWEgdmFsaWRhdGlvbiBmYWlsdXJlcyBncmFjZWZ1bGx5IGFuZCB1c2UgY29ycmVjdCBzb3VyY2VfZGVzY3JpcHRpb24gZm9yIHF1aWNrc3luYyBvcGVyYXRpb25zXG4gIC8vIEByZXN1bHQ6IFRoZSBzeXN0ZW0gbm93IHByb3Blcmx5IGhhbmRsZXMgZWRnZSBjYXNlcyBpbiBTeW5jTW9kYWwgb3BlcmF0aW9ucywgcHJvdmlkaW5nIGNsZWFyIGVycm9yIG1lc3NhZ2VzIGFuZCB1c2luZyBvYnNpZGlhbl9tbV9xdWlja3N5bmMgc291cmNlIHRyYWNraW5nXG4gIC8vIEBzaWduZWQ6IEMuQmrDuHJuXG4gIGFzeW5jIGZ1bmN0aW9uIGV4ZWN1dGVFbmhhbmNlZFN5bmMob3BlcmF0aW9uOiBzdHJpbmcpOiBQcm9taXNlPFN5bmNSZXN1bHQ+IHtcbiAgICB0cnkge1xuICAgICAgbG9nZ2VyLmRlYnVnKFxuICAgICAgICBgW1NNLUVOSEFOQ0VELVNZTkNdIFN0YXJ0aW5nICR7b3BlcmF0aW9ufSB3aXRoIHNvdXJjZV9kZXNjcmlwdGlvbjogb2JzaWRpYW5fbW1fcXVpY2tzeW5jYFxuICAgICAgKTtcblxuICAgICAgLy8gQ2FsbCBzeW5jU2VsZWN0ZWROb3RlcyB3aXRoIGFwcHJvcHJpYXRlIHNvdXJjZV9kZXNjcmlwdGlvbiBmb3IgcXVpY2tzeW5jIG9wZXJhdGlvbnNcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdyYXBoaXRpU2VydmljZS5zeW5jU2VsZWN0ZWROb3RlcygocHJvZ3Jlc3MpID0+IHtcbiAgICAgICAgdXBkYXRlU3luY1Byb2dyZXNzKHByb2dyZXNzKTtcbiAgICAgIH0sIFwib2JzaWRpYW5fbW1fcXVpY2tzeW5jXCIpO1xuXG4gICAgICBsb2dnZXIuZGVidWcoXG4gICAgICAgIGBbU00tRU5IQU5DRUQtU1lOQ10gJHtvcGVyYXRpb259IGNvbXBsZXRlZCBzdWNjZXNzZnVsbHk6ICR7cmVzdWx0LnByb2Nlc3NlZH0gbm90ZXMgcHJvY2Vzc2VkYFxuICAgICAgKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcihgW1NNLUVOSEFOQ0VELVNZTkNdICR7b3BlcmF0aW9ufSBmYWlsZWQ6YCwgZXJyb3IpO1xuXG4gICAgICAvLyBIYW5kbGUgc3BlY2lmaWMgZXJyb3IgdHlwZXMgZm9yIGJldHRlciB1c2VyIGV4cGVyaWVuY2VcbiAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcik7XG5cbiAgICAgIC8vIENoZWNrIGZvciBzY2hlbWEgdmFsaWRhdGlvbiBmYWlsdXJlc1xuICAgICAgaWYgKFxuICAgICAgICBlcnJvck1lc3NhZ2UuaW5jbHVkZXMoXCJzY2hlbWEgdmFsaWRhdGlvblwiKSB8fFxuICAgICAgICBlcnJvck1lc3NhZ2UuaW5jbHVkZXMoXCJ1bnJlY29nbml6ZWQgdHlwZVwiKSB8fFxuICAgICAgICBlcnJvck1lc3NhZ2UuaW5jbHVkZXMoXCJpbnZhbGlkIG5vdGUgdHlwZVwiKVxuICAgICAgKSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IGBTY2hlbWEgdmFsaWRhdGlvbiBmYWlsZWQ6ICR7ZXJyb3JNZXNzYWdlfS4gUGxlYXNlIGNoZWNrIHlvdXIgbm90ZSB0eXBlcyBhbmQgdHJ5IGFnYWluLmA7XG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIGZvciBuZXR3b3JrL2Nvbm5lY3Rpb24gaXNzdWVzXG4gICAgICBpZiAoXG4gICAgICAgIGVycm9yTWVzc2FnZS5pbmNsdWRlcyhcIm5ldHdvcmtcIikgfHxcbiAgICAgICAgZXJyb3JNZXNzYWdlLmluY2x1ZGVzKFwiY29ubmVjdGlvblwiKSB8fFxuICAgICAgICBlcnJvck1lc3NhZ2UuaW5jbHVkZXMoXCJ0aW1lb3V0XCIpXG4gICAgICApIHtcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gYENvbm5lY3Rpb24gaXNzdWU6ICR7ZXJyb3JNZXNzYWdlfS4gUGxlYXNlIGNoZWNrIHlvdXIgbmV0d29yayBhbmQgdHJ5IGFnYWluLmA7XG4gICAgICB9XG5cbiAgICAgIC8vIFJldHVybiBzdHJ1Y3R1cmVkIGVycm9yIHJlc3VsdFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhdHVzOiBcImVycm9yXCIsXG4gICAgICAgIHByb2Nlc3NlZDogMCxcbiAgICAgICAgc2tpcHBlZDogMCxcbiAgICAgICAgdG90YWw6IDAsXG4gICAgICAgIGJhdGNoQ291bnQ6IDAsXG4gICAgICAgIG5vZGVUeXBlc0xvYWRlZDogMCxcbiAgICAgICAgZWRnZVR5cGVzTG9hZGVkOiAwLFxuICAgICAgICBtZXNzYWdlOiBlcnJvck1lc3NhZ2UsXG4gICAgICB9O1xuICAgIH1cbiAgfVxuICAvLyBAdmVzc2VsLWNsb3NlOkhlaW1kYWxsXG5cbiAgYXN5bmMgZnVuY3Rpb24gYW5hbHl6ZVNlbGVjdGVkTm90ZXMoKSB7XG4gICAgaWYgKCFub3RlU2VsZWN0aW9uU2VydmljZSkgcmV0dXJuO1xuICAgIGNvbnN0IHNlbGVjdGVkUGF0aHMgPSBub3RlU2VsZWN0aW9uU2VydmljZS5nZXRTZWxlY3RlZE5vdGVQYXRocygpO1xuICAgIGF3YWl0IGFuYWx5emVOb3Rlc0xpc3Qoc2VsZWN0ZWRQYXRocyk7XG4gIH1cblxuICAvLyBVcGRhdGVkIHRvIHVzZSBtbV91aWQtYmFzZWQgbG9va3VwcyBmb3IgY29uc2lzdGVuY3kgd2l0aCB0aGUgbmV3IGFyY2hpdGVjdHVyZVxuICBhc3luYyBmdW5jdGlvbiBhbmFseXplTm90ZXNMaXN0KG5vdGVzUGF0aHM6IHN0cmluZ1tdKSB7XG4gICAgbmV3Tm90ZXNDb3VudCA9IDA7XG4gICAgZXhpc3RpbmdOb3Rlc0NvdW50ID0gMDtcbiAgICBza2lwcGVkTm90ZXNDb3VudCA9IDA7XG4gICAgZXJyb3JDb3VudCA9IDA7XG5cbiAgICBmb3IgKGNvbnN0IG5vdGVQYXRoIG9mIG5vdGVzUGF0aHMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGZpbGUgPSBhcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG5vdGVQYXRoKTtcbiAgICAgICAgaWYgKCFmaWxlKSB7XG4gICAgICAgICAgc2tpcHBlZE5vdGVzQ291bnQrKztcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCBtbV91aWQgZnJvbSBmcm9udG1hdHRlciAtIHVzZSBtZXRhZGF0YSBjYWNoZSBmb3IgcGVyZm9ybWFuY2VcbiAgICAgICAgY29uc3QgY2FjaGUgPSBhcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoZmlsZSk7XG4gICAgICAgIGNvbnN0IG1tVWlkID0gY2FjaGU/LmZyb250bWF0dGVyPy5tbV91aWQ7XG5cbiAgICAgICAgaWYgKCFtbVVpZCB8fCB0eXBlb2YgbW1VaWQgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAvLyBObyBtbV91aWQgbWVhbnMgaXQncyBhIG5ldyBub3RlIHRoYXQgaGFzbid0IGJlZW4gc3luY2VkXG4gICAgICAgICAgbmV3Tm90ZXNDb3VudCsrO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdmF1bHRJZCA9IGFwcC52YXVsdC5nZXROYW1lKCk7XG4gICAgICAgIGNvbnN0IHN5bmNSZWNvcmQgPSBzeW5jUmVnaXN0cnlTZXJ2aWNlLmdldFN5bmNSZWNvcmQobW1VaWQsIHZhdWx0SWQpO1xuXG4gICAgICAgIGlmIChzeW5jUmVjb3JkICYmIHN5bmNSZWNvcmQuc3luY3MgJiYgc3luY1JlY29yZC5zeW5jcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgbGF0ZXN0U3luYyA9IHN5bmNSZWNvcmQuc3luY3Nbc3luY1JlY29yZC5zeW5jcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBsYXRlc3RTeW5jLmVwaXNvZGVfdXVpZCAmJlxuICAgICAgICAgICAgIWxhdGVzdFN5bmMuZXBpc29kZV91dWlkLnN0YXJ0c1dpdGgoXCJtY3AtXCIpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zdCBsYXN0TW9kaWZpZWQgPSAoZmlsZSBhcyBhbnkpLnN0YXQ/Lm10aW1lIHx8IDA7XG4gICAgICAgICAgICBjb25zdCBsYXN0U3luY1RpbWUgPSBuZXcgRGF0ZShsYXRlc3RTeW5jLmxhc3Rfc3luYykuZ2V0VGltZSgpO1xuXG4gICAgICAgICAgICBpZiAobGFzdFN5bmNUaW1lID4gbGFzdE1vZGlmaWVkKSB7XG4gICAgICAgICAgICAgIHNraXBwZWROb3Rlc0NvdW50Kys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBleGlzdGluZ05vdGVzQ291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3Tm90ZXNDb3VudCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBIYXMgbW1fdWlkIGJ1dCBubyBzeW5jIHJlY29yZCAtIGluY29uc2lzdGVudCBzdGF0ZSwgdHJlYXQgYXMgbmV3XG4gICAgICAgICAgbmV3Tm90ZXNDb3VudCsrO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBsb2dnZXIuZXJyb3IoYEVycm9yIGFuYWx5emluZyBub3RlICR7bm90ZVBhdGh9OmAsIGVycm9yKTtcbiAgICAgICAgZXJyb3JDb3VudCsrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGxldCBzeW5jU3RhcnRUaW1lID0gMDtcblxuICBmdW5jdGlvbiB1cGRhdGVTeW5jUHJvZ3Jlc3MocHJvZ3Jlc3M6IFN5bmNQcm9ncmVzcykge1xuICAgIC8vIEB2ZXNzZWwtcHJvdG9jb2w6QmFsZHIgZ292ZXJuczpbZml4XSBjb250ZXh0OkVycm9uZW91cyB0aW1lIHJlbWFpbmluZyBkaXNwbGF5IGluIFN5bmNNb2RhbFxuICAgIC8vIEBpbnRlci1kZXBlbmRlbmNpZXM6IFtHcmFwaGl0aVNlcnZpY2Uuc3luY1NlbGVjdGVkTm90ZXNdXG4gICAgLy8gQHB1cnBvc2U6IFByZXZlbnQgZGlzcGxheWluZyBhc3Ryb25vbWljYWxseSBsYXJnZSAnbWludXRlcyByZW1haW5pbmcnIHdoZW4gc3luYyBwcm9ncmVzcyBpcyB2ZXJ5IGxvd1xuICAgIC8vIEByZXN1bHQ6IFRoZSBlc3RpbWF0ZWQgdGltZSByZW1haW5pbmcgZGlzcGxheSB3aWxsIGJlIHN0YWJsZSBhbmQgbWVhbmluZ2Z1bCB0aHJvdWdob3V0IHRoZSBzeW5jIHByb2Nlc3MsIHNob3dpbmcgJ0NhbGN1bGF0aW5nLi4uJyBkdXJpbmcgZWFybHkgc3RhZ2VzLlxuICAgIC8vIEBzaWduZWQ6IEMuQmrDuHJuXG4gICAgbG9nZ2VyLmRlYnVnKFxuICAgICAgYFtTTS1ESUFHTk9TSVNdIFByb2dyZXNzIHVwZGF0ZSBmcmVxdWVuY3k6ICR7cHJvZ3Jlc3MuY3VycmVudH0vJHtwcm9ncmVzcy50b3RhbH0gKCR7cHJvZ3Jlc3MucGVyY2VudGFnZX0lKWBcbiAgICApO1xuXG4gICAgc3luY1Byb2dyZXNzID0gcHJvZ3Jlc3M7XG5cbiAgICAvLyBJbml0aWFsaXplIHN5bmMgc3RhcnQgdGltZSBvbiB0aGUgZmlyc3QgcHJvZ3Jlc3MgdXBkYXRlIChjdXJyZW50ID09PSAwIG1lYW5zIG5vIG5vdGVzIHByb2Nlc3NlZCB5ZXQsXG4gICAgLy8gYnV0IHRoZSBvdmVyYWxsIHN5bmMgcHJvY2VzcyBoYXMgYmVndW4pLlxuICAgIGlmIChwcm9ncmVzcy5jdXJyZW50ID09PSAwICYmIHN5bmNTdGFydFRpbWUgPT09IDApIHtcbiAgICAgIHN5bmNTdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIH1cblxuICAgIC8vIE9ubHkgY2FsY3VsYXRlIGVzdGltYXRlZCB0aW1lIGlmIHRoZXJlJ3MgYWN0dWFsIHBlcmNlbnRhZ2UgcHJvZ3Jlc3NcbiAgICAvLyBvciBpZiBzb21lIG5vdGVzIGhhdmUgYmVlbiBwcm9jZXNzZWQuXG4gICAgaWYgKHByb2dyZXNzLnBlcmNlbnRhZ2UgPiAwIHx8IHByb2dyZXNzLmN1cnJlbnQgPiAwKSB7XG4gICAgICAvLyBTYWZlZ3VhcmQgYWdhaW5zdCBkaXZpc2lvbiBieSBuZWFyLXplcm8gcGVyY2VudGFnZXMsIHdoaWNoIGNhbiBsZWFkIHRvXG4gICAgICAvLyBleHRyZW1lbHkgbGFyZ2UgYW5kIGluY29ycmVjdCB0aW1lIGVzdGltYXRlcyBkdXJpbmcgdGhlIHZlcnkgZWFybHkgc3RhZ2VzIG9mIHN5bmMuXG4gICAgICAvLyBJZiBwZXJjZW50YWdlIGlzIGxlc3MgdGhhbiAwLjAxJSAoMC4wMDAxIGFzIGEgZGVjaW1hbCksIGRpc3BsYXkgXCJDYWxjdWxhdGluZy4uLlwiLlxuICAgICAgaWYgKHByb2dyZXNzLnBlcmNlbnRhZ2UgPCAwLjAwMDEpIHtcbiAgICAgICAgZXN0aW1hdGVkVGltZVJlbWFpbmluZyA9IFwiQ2FsY3VsYXRpbmcuLi5cIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGVsYXBzZWQgPSBEYXRlLm5vdygpIC0gc3luY1N0YXJ0VGltZTtcbiAgICAgICAgLy8gQWRkIDUwMG1zIHBlciByZW1haW5pbmcgbm90ZSB0byBhY2NvdW50IGZvciBwcm9jZXNzaW5nIGRlbGF5XG4gICAgICAgIGNvbnN0IG5vdGVzUmVtYWluaW5nID0gcHJvZ3Jlc3MudG90YWwgLSBwcm9ncmVzcy5jdXJyZW50O1xuICAgICAgICBjb25zdCBkZWxheUFkanVzdG1lbnQgPSBub3Rlc1JlbWFpbmluZyAqIHNldHRpbmdzLnByb2Nlc3NpbmdEZWxheU1zO1xuXG4gICAgICAgIC8vIFJlY2FsY3VsYXRlIHRvdGFsIGVzdGltYXRlZCB0aW1lIGNvbnNpc3RlbnRseS5cbiAgICAgICAgLy8gVXNpbmcgYHByb2dyZXNzLnBlcmNlbnRhZ2UgLyAxMDBgIGNvbnZlcnRzIHRoZSAwLTEwMCBwZXJjZW50YWdlIHRvIGEgMC0xIGRlY2ltYWwuXG4gICAgICAgIGNvbnN0IHRvdGFsRXN0aW1hdGVkID1cbiAgICAgICAgICBlbGFwc2VkIC8gKHByb2dyZXNzLnBlcmNlbnRhZ2UgLyAxMDApICsgZGVsYXlBZGp1c3RtZW50O1xuICAgICAgICBjb25zdCByZW1haW5pbmcgPSB0b3RhbEVzdGltYXRlZCAtIGVsYXBzZWQ7XG5cbiAgICAgICAgaWYgKHJlbWFpbmluZyA8IDEwMDApIHtcbiAgICAgICAgICBlc3RpbWF0ZWRUaW1lUmVtYWluaW5nID0gXCJBbG1vc3QgZG9uZVwiO1xuICAgICAgICB9IGVsc2UgaWYgKHJlbWFpbmluZyA8IDYwMDAwKSB7XG4gICAgICAgICAgZXN0aW1hdGVkVGltZVJlbWFpbmluZyA9IGAke01hdGgucm91bmQocmVtYWluaW5nIC8gMTAwMCl9cyByZW1haW5pbmdgO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVzdGltYXRlZFRpbWVSZW1haW5pbmcgPSBgJHtNYXRoLnJvdW5kKHJlbWFpbmluZyAvIDYwMDAwKX1tIHJlbWFpbmluZ2A7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgbm8gcHJvZ3Jlc3MgaGFzIGJlZW4gbWFkZSB5ZXQsIGRpc3BsYXkgXCJDYWxjdWxhdGluZy4uLlwiLlxuICAgICAgZXN0aW1hdGVkVGltZVJlbWFpbmluZyA9IFwiQ2FsY3VsYXRpbmcuLi5cIjtcbiAgICB9XG5cbiAgICAvLyBPbmx5IGxvZyBzaWduaWZpY2FudCBwcm9ncmVzcyBtaWxlc3RvbmVzIHRvIHJlZHVjZSBsb2cgc3BhbVxuICAgIGlmIChcbiAgICAgIHByb2dyZXNzLmN1cnJlbnQgPT09IDAgfHxcbiAgICAgIHByb2dyZXNzLmN1cnJlbnQgPT09IHByb2dyZXNzLnRvdGFsIHx8XG4gICAgICBwcm9ncmVzcy5jdXJyZW50ICUgNSA9PT0gMFxuICAgICkge1xuICAgICAgbG9nZ2VyLmRlYnVnKFxuICAgICAgICBgW1NNLVBST0dSRVNTXSBNaWxlc3RvbmU6ICR7cHJvZ3Jlc3MuY3VycmVudH0vJHtwcm9ncmVzcy50b3RhbH0gLSAke2VzdGltYXRlZFRpbWVSZW1haW5pbmd9YFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzaG93U3luY05vdGlmaWNhdGlvbihyZXN1bHQ6IFN5bmNSZXN1bHQsIHN5bmNUeXBlOiBzdHJpbmcpIHtcbiAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJzdWNjZXNzXCIpIHtcbiAgICAgIG5ldyAod2luZG93IGFzIGFueSkuTm90aWNlKFxuICAgICAgICBg4pyFICR7c3luY1R5cGV9IGNvbXBsZXRlZDogJHtyZXN1bHQucHJvY2Vzc2VkfSBub3RlcyBwcm9jZXNzZWRgXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXcgKHdpbmRvdyBhcyBhbnkpLk5vdGljZShg4p2MICR7c3luY1R5cGV9IGZhaWxlZDogJHtyZXN1bHQubWVzc2FnZX1gKTtcbiAgICB9XG4gIH1cblxuICAvLyBUaGUgcHJvY2Vzc0J1bGtTeW5jUmVzdWx0cyBmdW5jdGlvbiwgdXBkYXRlTm90ZUZyb250bWF0dGVyLCBhbmQgc2VyaWFsaXplRnJvbnRtYXR0ZXIgYXJlIG5vdyBpbiBHcmFwaGl0aVNlcnZpY2UudHNcbiAgLy8gVGhpcyBoZWxwcyBkZWNvdXBsZSB0aGUgVUkgZnJvbSB0aGUgcGVyc2lzdGVuY2UgbGF5ZXIuXG5cbiAgJDogaWYgKHN5bmNSZWdpc3RyeVNlcnZpY2UpIHtcbiAgICBzeW5jUmVnaXN0cnlTZXJ2aWNlLm9uKFwiY2hhbmdlZFwiLCAoKSA9PiB7XG4gICAgICBpZiAoYWN0aXZlVGFiID09PSBcInF1aWNrXCIpIHtcbiAgICAgICAgY29tcHV0ZVF1aWNrU3luY1N0YXRzKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVUYWJDaGFuZ2UobmV3VGFiOiBcInF1aWNrXCIgfCBcImFkdmFuY2VkXCIpIHtcbiAgICBhY3RpdmVUYWIgPSBuZXdUYWI7XG4gICAgaWYgKFxuICAgICAgbmV3VGFiID09PSBcImFkdmFuY2VkXCIgJiZcbiAgICAgIG5vdGVTZWxlY3Rpb25TZXJ2aWNlICYmXG4gICAgICBmaWx0ZXJlZE5vdGVzLmxlbmd0aCA9PT0gMFxuICAgICkge1xuICAgICAgYXdhaXQgaW5pdGlhbGl6ZUFkdmFuY2VkVGFiKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2FuY2VsU3luYygpIHtcbiAgICBpZiAoZ3JhcGhpdGlTZXJ2aWNlICYmIHN5bmNJblByb2dyZXNzKSB7XG4gICAgICBncmFwaGl0aVNlcnZpY2UuY2FuY2VsU3luYygpO1xuICAgICAgc3luY0luUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgIHN5bmNQcm9ncmVzcyA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLy8gQHB1cnBvc2U6IEFkdmFuY2VkIHRhYiBmaWx0ZXJpbmcgZnVuY3Rpb25zIEBkZXBlbmRzOiBOb3RlU2VsZWN0aW9uU2VydmljZSBAcmVzdWx0czogRmlsdGVyZWQgbm90ZSBsaXN0IHdpdGggc2VsZWN0aW9uXG4gIGFzeW5jIGZ1bmN0aW9uIGRpc2NvdmVyQXZhaWxhYmxlUHJvcGVydGllcygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIW5vdGVTZWxlY3Rpb25TZXJ2aWNlKSByZXR1cm47XG4gICAgY29uc3Qgc3luY2FibGVOb3RlcyA9IGF3YWl0IG5vdGVTZWxlY3Rpb25TZXJ2aWNlLmdldEFsbFN5bmNhYmxlTm90ZXMoKTtcbiAgICBjb25zdCBwcm9wc1NldCA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgIHN5bmNhYmxlTm90ZXMuZm9yRWFjaCgobm90ZSkgPT4ge1xuICAgICAgT2JqZWN0LmtleXMobm90ZS5mcm9udG1hdHRlcikuZm9yRWFjaCgoa2V5KSA9PiBwcm9wc1NldC5hZGQoa2V5KSk7XG4gICAgfSk7XG4gICAgYXZhaWxhYmxlUHJvcGVydGllcyA9IEFycmF5LmZyb20ocHJvcHNTZXQpLnNvcnQoKTtcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGFwcGx5QWR2YW5jZWRGaWx0ZXJzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghbm90ZVNlbGVjdGlvblNlcnZpY2UpIHJldHVybjtcbiAgICBhZHZhbmNlZExvYWRpbmcgPSB0cnVlO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjcml0ZXJpYTogTm90ZUZpbHRlckNyaXRlcmlhID0ge1xuICAgICAgICBpbmNsdWRlVHlwZXM6XG4gICAgICAgICAgc2VsZWN0ZWRUeXBlcy5zaXplID4gMCA/IEFycmF5LmZyb20oc2VsZWN0ZWRUeXBlcykgOiB1bmRlZmluZWQsXG4gICAgICAgIGluY2x1ZGVUYWdzOlxuICAgICAgICAgIHNlbGVjdGVkVGFncy5zaXplID4gMCA/IEFycmF5LmZyb20oc2VsZWN0ZWRUYWdzKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgaW5jbHVkZVBhdGhzOlxuICAgICAgICAgIHNlbGVjdGVkRm9sZGVycy5zaXplID4gMCA/IEFycmF5LmZyb20oc2VsZWN0ZWRGb2xkZXJzKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgY3JlYXRlZEFmdGVyOiBmaWx0ZXJDcml0ZXJpYS5jcmVhdGVkQWZ0ZXIsXG4gICAgICAgIGNyZWF0ZWRCZWZvcmU6IGZpbHRlckNyaXRlcmlhLmNyZWF0ZWRCZWZvcmUsXG4gICAgICAgIG1vZGlmaWVkQWZ0ZXI6IGZpbHRlckNyaXRlcmlhLm1vZGlmaWVkQWZ0ZXIsXG4gICAgICAgIG1vZGlmaWVkQmVmb3JlOiBmaWx0ZXJDcml0ZXJpYS5tb2RpZmllZEJlZm9yZSxcbiAgICAgIH07XG5cbiAgICAgIGZpbHRlcmVkTm90ZXMgPSBhd2FpdCBub3RlU2VsZWN0aW9uU2VydmljZS5maWx0ZXJOb3Rlcyhjcml0ZXJpYSk7XG5cbiAgICAgIGlmIChPYmplY3Qua2V5cyhwcm9wZXJ0eUZpbHRlcnMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZmlsdGVyZWROb3RlcyA9IGZpbHRlcmVkTm90ZXMuZmlsdGVyKChub3RlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHByb3BlcnR5RmlsdGVycykuZXZlcnkoKFtwcm9wLCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiBub3RlLmZyb250bWF0dGVyW3Byb3BdPy50b1N0cmluZygpLmluY2x1ZGVzKHZhbHVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHNlbGVjdGVkTm90ZXNQYXRocy5jbGVhcigpO1xuICAgICAgc2VsZWN0ZWROb3Rlc1BhdGhzID0gc2VsZWN0ZWROb3Rlc1BhdGhzO1xuICAgICAgc2hvd1ByZXZpZXcgPSBmYWxzZTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgYWR2YW5jZWRMb2FkaW5nID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdG9nZ2xlTm90ZVNlbGVjdGlvbihub3RlUGF0aDogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKHNlbGVjdGVkTm90ZXNQYXRocy5oYXMobm90ZVBhdGgpKSB7XG4gICAgICBzZWxlY3RlZE5vdGVzUGF0aHMuZGVsZXRlKG5vdGVQYXRoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZWN0ZWROb3Rlc1BhdGhzLmFkZChub3RlUGF0aCk7XG4gICAgfVxuICAgIHNlbGVjdGVkTm90ZXNQYXRocyA9IHNlbGVjdGVkTm90ZXNQYXRocztcbiAgICBzZWxlY3RBbGxDaGVja2VkID0gc2VsZWN0ZWROb3Rlc1BhdGhzLnNpemUgPT09IGZpbHRlcmVkTm90ZXMubGVuZ3RoO1xuICAgIHNob3dQcmV2aWV3ID0gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiB0b2dnbGVTZWxlY3RBbGwoKTogdm9pZCB7XG4gICAgaWYgKHNlbGVjdEFsbENoZWNrZWQpIHtcbiAgICAgIHNlbGVjdGVkTm90ZXNQYXRocy5jbGVhcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmaWx0ZXJlZE5vdGVzLmZvckVhY2goKG5vdGUpID0+IHNlbGVjdGVkTm90ZXNQYXRocy5hZGQobm90ZS5wYXRoKSk7XG4gICAgfVxuICAgIHNlbGVjdGVkTm90ZXNQYXRocyA9IHNlbGVjdGVkTm90ZXNQYXRocztcbiAgICBzZWxlY3RBbGxDaGVja2VkID0gIXNlbGVjdEFsbENoZWNrZWQ7XG4gICAgc2hvd1ByZXZpZXcgPSBmYWxzZTtcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlUHJldmlldygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIW5vdGVTZWxlY3Rpb25TZXJ2aWNlIHx8IHNlbGVjdGVkTm90ZXNQYXRocy5zaXplID09PSAwKSByZXR1cm47XG4gICAgYXdhaXQgbm90ZVNlbGVjdGlvblNlcnZpY2Uuc2VsZWN0Tm90ZXMoQXJyYXkuZnJvbShzZWxlY3RlZE5vdGVzUGF0aHMpKTtcbiAgICBzZWxlY3Rpb25TdW1tYXJ5ID0gYXdhaXQgbm90ZVNlbGVjdGlvblNlcnZpY2UuZ2V0U2VsZWN0aW9uU3VtbWFyeSgpO1xuICAgIHNob3dQcmV2aWV3ID0gdHJ1ZTtcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIHN0YXJ0QWR2YW5jZWRTeW5jV2l0aFByZXZpZXcoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCFub3RlU2VsZWN0aW9uU2VydmljZSB8fCBzZWxlY3RlZE5vdGVzUGF0aHMuc2l6ZSA9PT0gMCkgcmV0dXJuO1xuICAgIGF3YWl0IG5vdGVTZWxlY3Rpb25TZXJ2aWNlLnNlbGVjdE5vdGVzKEFycmF5LmZyb20oc2VsZWN0ZWROb3Rlc1BhdGhzKSk7XG4gICAgYXdhaXQgc3RhcnRBZHZhbmNlZFN5bmMoKTtcbiAgICBhd2FpdCBhcHBseUFkdmFuY2VkRmlsdGVycygpO1xuICB9XG4gIC8vIEBwdXJwb3NlOiBIZWxwZXIgdG8gZGV0ZXJtaW5lIG5vdGUgc3luYyBzdGF0dXMgZm9yIEFkdmFuY2VkIHRhYiB0YWJsZSBAZGVwZW5kczogaXNTeW5jZWQgZnVuY3Rpb24gQHJlc3VsdHM6IFN0YXR1cyBsYWJlbFxuICBhc3luYyBmdW5jdGlvbiBnZXROb3RlU3RhdHVzKG5vdGU6IE5vdGVTZWxlY3Rpb25SZXN1bHQpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGNvbnN0IHNldHRpbmdzID0gKGdyYXBoaXRpU2VydmljZSBhcyBhbnkpLnNldHRpbmdzO1xuICAgIGlmICghc2V0dGluZ3MuaW5jbHVkZWRGb2xkZXJzIHx8IHNldHRpbmdzLmV4Y2x1ZGVkRm9sZGVycykge1xuICAgICAgY29uc3Qgc2hvdWxkSW5jbHVkZSA9IG5vdGVTZWxlY3Rpb25TZXJ2aWNlPy5zaG91bGRJbmNsdWRlRmlsZShcbiAgICAgICAgbm90ZS5wYXRoLFxuICAgICAgICBzZXR0aW5ncy5pbmNsdWRlZEZvbGRlcnMgfHwgW10sXG4gICAgICAgIHNldHRpbmdzLmV4Y2x1ZGVkRm9sZGVycyB8fCBbXVxuICAgICAgKTtcbiAgICAgIGlmICghc2hvdWxkSW5jbHVkZSkgcmV0dXJuIFwiUHJpdmF0ZVwiO1xuICAgIH1cblxuICAgIGNvbnN0IHN5bmNTdGF0dXMgPSBhd2FpdCBpc1N5bmNlZChub3RlLnBhdGgpO1xuICAgIGlmIChzeW5jU3RhdHVzLmlzU3luY2VkKSByZXR1cm4gXCJTeW5jZWRcIjtcblxuICAgIGNvbnN0IGNhY2hlID0gYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKG5vdGUuZmlsZSk7XG4gICAgY29uc3QgbW1VaWQgPSBjYWNoZT8uZnJvbnRtYXR0ZXI/Lm1tX3VpZDtcbiAgICBpZiAobW1VaWQpIHJldHVybiBcIlVwZGF0ZWRcIjtcblxuICAgIHJldHVybiBcIk5ld1wiO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gc2VsZWN0TmV3KCkge1xuICAgIHNlbGVjdGVkTm90ZXNQYXRocy5jbGVhcigpO1xuICAgIGZvciAoY29uc3Qgbm90ZSBvZiBmaWx0ZXJlZE5vdGVzKSB7XG4gICAgICBjb25zdCBzdGF0dXMgPSBhd2FpdCBnZXROb3RlU3RhdHVzKG5vdGUpO1xuICAgICAgaWYgKHN0YXR1cyA9PT0gXCJOZXdcIikge1xuICAgICAgICBzZWxlY3RlZE5vdGVzUGF0aHMuYWRkKG5vdGUucGF0aCk7XG4gICAgICB9XG4gICAgfVxuICAgIHNlbGVjdGVkTm90ZXNQYXRocyA9IHNlbGVjdGVkTm90ZXNQYXRocztcbiAgICBzZWxlY3RBbGxDaGVja2VkID0gc2VsZWN0ZWROb3Rlc1BhdGhzLnNpemUgPT09IGZpbHRlcmVkTm90ZXMubGVuZ3RoO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gc2VsZWN0VXBkYXRlZCgpIHtcbiAgICBzZWxlY3RlZE5vdGVzUGF0aHMuY2xlYXIoKTtcbiAgICBmb3IgKGNvbnN0IG5vdGUgb2YgZmlsdGVyZWROb3Rlcykge1xuICAgICAgY29uc3Qgc3RhdHVzID0gYXdhaXQgZ2V0Tm90ZVN0YXR1cyhub3RlKTtcbiAgICAgIGlmIChzdGF0dXMgPT09IFwiVXBkYXRlZFwiKSB7XG4gICAgICAgIHNlbGVjdGVkTm90ZXNQYXRocy5hZGQobm90ZS5wYXRoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2VsZWN0ZWROb3Rlc1BhdGhzID0gc2VsZWN0ZWROb3Rlc1BhdGhzO1xuICAgIHNlbGVjdEFsbENoZWNrZWQgPSBzZWxlY3RlZE5vdGVzUGF0aHMuc2l6ZSA9PT0gZmlsdGVyZWROb3Rlcy5sZW5ndGg7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBzZWxlY3ROZXdBbmRVcGRhdGVkKCkge1xuICAgIHNlbGVjdGVkTm90ZXNQYXRocy5jbGVhcigpO1xuICAgIGZvciAoY29uc3Qgbm90ZSBvZiBmaWx0ZXJlZE5vdGVzKSB7XG4gICAgICBjb25zdCBzdGF0dXMgPSBhd2FpdCBnZXROb3RlU3RhdHVzKG5vdGUpO1xuICAgICAgaWYgKHN0YXR1cyA9PT0gXCJOZXdcIiB8fCBzdGF0dXMgPT09IFwiVXBkYXRlZFwiKSB7XG4gICAgICAgIHNlbGVjdGVkTm90ZXNQYXRocy5hZGQobm90ZS5wYXRoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2VsZWN0ZWROb3Rlc1BhdGhzID0gc2VsZWN0ZWROb3Rlc1BhdGhzO1xuICAgIHNlbGVjdEFsbENoZWNrZWQgPSBzZWxlY3RlZE5vdGVzUGF0aHMuc2l6ZSA9PT0gZmlsdGVyZWROb3Rlcy5sZW5ndGg7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRUeXBlKHR5cGU6IHN0cmluZykge1xuICAgIGlmICh0eXBlICYmICFzZWxlY3RlZFR5cGVzLmhhcyh0eXBlKSkge1xuICAgICAgc2VsZWN0ZWRUeXBlcy5hZGQodHlwZSk7XG4gICAgICBzZWxlY3RlZFR5cGVzID0gc2VsZWN0ZWRUeXBlcztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVUeXBlKHR5cGU6IHN0cmluZykge1xuICAgIHNlbGVjdGVkVHlwZXMuZGVsZXRlKHR5cGUpO1xuICAgIHNlbGVjdGVkVHlwZXMgPSBzZWxlY3RlZFR5cGVzO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkVGFnKHRhZzogc3RyaW5nKSB7XG4gICAgaWYgKHRhZyAmJiAhc2VsZWN0ZWRUYWdzLmhhcyh0YWcpKSB7XG4gICAgICBzZWxlY3RlZFRhZ3MuYWRkKHRhZyk7XG4gICAgICBzZWxlY3RlZFRhZ3MgPSBzZWxlY3RlZFRhZ3M7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlVGFnKHRhZzogc3RyaW5nKSB7XG4gICAgc2VsZWN0ZWRUYWdzLmRlbGV0ZSh0YWcpO1xuICAgIHNlbGVjdGVkVGFncyA9IHNlbGVjdGVkVGFncztcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZEZvbGRlcihmb2xkZXI6IHN0cmluZykge1xuICAgIGlmIChmb2xkZXIgJiYgIXNlbGVjdGVkRm9sZGVycy5oYXMoZm9sZGVyKSkge1xuICAgICAgc2VsZWN0ZWRGb2xkZXJzLmFkZChmb2xkZXIpO1xuICAgICAgc2VsZWN0ZWRGb2xkZXJzID0gc2VsZWN0ZWRGb2xkZXJzO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUZvbGRlcihmb2xkZXI6IHN0cmluZykge1xuICAgIHNlbGVjdGVkRm9sZGVycy5kZWxldGUoZm9sZGVyKTtcbiAgICBzZWxlY3RlZEZvbGRlcnMgPSBzZWxlY3RlZEZvbGRlcnM7XG4gIH1cbjwvc2NyaXB0PlxuXG48ZGl2XG4gIGNsYXNzPVwiZmxleCBmbGV4LWNvbCBoLWZ1bGwgYmctW3ZhcigtLWJhY2tncm91bmQtcHJpbWFyeSldIG92ZXJmbG93LWhpZGRlblwiXG4+XG4gIDxkaXZcbiAgICBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBwLTQgYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gYm9yZGVyLWIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildXCJcbiAgPlxuICAgIDxoMiBjbGFzcz1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPlxuICAgICAgTWVnYU1lbSBTeW5jIE1hbmFnZXJcbiAgICA8L2gyPlxuICA8L2Rpdj5cblxuICA8ZGl2XG4gICAgY2xhc3M9XCJmbGV4IGJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlci1iIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSBzdGlja3kgdG9wLTAgei0xMFwiXG4gID5cbiAgICA8YnV0dG9uXG4gICAgICBjbGFzcz1cImZsZXgtMSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBweC00IHB5LTIgdGV4dC1zbSBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAgZWFzZS1pbi1vdXRcbiAgICAgICAgICAgIHthY3RpdmVUYWIgPT09ICdxdWljaydcbiAgICAgICAgPyAnYmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gcm91bmRlZC10LWxnJ1xuICAgICAgICA6ICd0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gaG92ZXI6dGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gaG92ZXI6YmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpXSBob3ZlcjpvcGFjaXR5LTkwIHJvdW5kZWQtdC1sZyd9XCJcbiAgICAgIG9uOmNsaWNrPXsoKSA9PiBoYW5kbGVUYWJDaGFuZ2UoXCJxdWlja1wiKX1cbiAgICAgIGFyaWEtbGFiZWw9XCJRdWljayBTeW5jIFRhYlwiXG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3M9XCJtci0yXCI+4pqhPC9zcGFuPiBRdWljayBTeW5jXG4gICAgPC9idXR0b24+XG4gICAgPGJ1dHRvblxuICAgICAgY2xhc3M9XCJmbGV4LTEgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcHgtNCBweS0yIHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIGVhc2UtaW4tb3V0XG4gICAgICAgICAgICB7YWN0aXZlVGFiID09PSAnYWR2YW5jZWQnXG4gICAgICAgID8gJ2JnLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHJvdW5kZWQtdC1sZydcbiAgICAgICAgOiAndGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIGhvdmVyOnRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIGhvdmVyOmJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKV0gaG92ZXI6b3BhY2l0eS05MCByb3VuZGVkLXQtbGcnfVwiXG4gICAgICBvbjpjbGljaz17KCkgPT4gaGFuZGxlVGFiQ2hhbmdlKFwiYWR2YW5jZWRcIil9XG4gICAgICBhcmlhLWxhYmVsPVwiQWR2YW5jZWQgU3luYyBUYWJcIlxuICAgID5cbiAgICAgIDxzcGFuIGNsYXNzPVwibXItMlwiPvCfjpvvuI88L3NwYW4+IEFkdmFuY2VkXG4gICAgPC9idXR0b24+XG4gIDwvZGl2PlxuXG4gIDwhLS0gU3luYyBQcm9ncmVzcyAoYXBwZWFycyByaWdodCBhZnRlciB0YWJzIHdoZW4gYWN0aXZlKSAtLT5cbiAgeyNpZiBzeW5jSW5Qcm9ncmVzc31cbiAgICA8ZGl2XG4gICAgICBjbGFzcz1cImJnLVt2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpXSBib3JkZXItYiBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcC0zIHNwYWNlLXktMyBhbmltYXRlLWZhZGUtaW4tdXBcIlxuICAgID5cbiAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgPGgzIGNsYXNzPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+XG4gICAgICAgICAgU3luYyBpbiBQcm9ncmVzcy4uLlxuICAgICAgICA8L2gzPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb246Y2xpY2s9e2NhbmNlbFN5bmN9XG4gICAgICAgICAgY2xhc3M9XCJ0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gaG92ZXI6dGV4dC1bdmFyKC0tdGV4dC1lcnJvcildIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICBhcmlhLWxhYmVsPVwiQ2FuY2VsIHN5bmNcIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhsXCI+w5c8L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsjaWYgc3luY1Byb2dyZXNzfVxuICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1zbSB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIj5cbiAgICAgICAgICB7c3luY1Byb2dyZXNzLm1lc3NhZ2V9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ3LWZ1bGwgYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gcm91bmRlZC1mdWxsIGgtMi41XCI+XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3M9XCJiZy1ncmFkaWVudC10by1yIGZyb20tW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRvLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQtaG92ZXIpXSBoLTIuNSByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwXCJcbiAgICAgICAgICAgIHN0eWxlPVwid2lkdGg6IHtNYXRoLnJvdW5kKHN5bmNQcm9ncmVzcy5wZXJjZW50YWdlIC8gMikgKiAyfSVcIlxuICAgICAgICAgID48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHRleHQteHMgdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICA+e01hdGgucm91bmQoc3luY1Byb2dyZXNzLnBlcmNlbnRhZ2UgLyAyKSAqIDJ9JSAoe3N5bmNQcm9ncmVzcy5jdXJyZW50fS97c3luY1Byb2dyZXNzLnRvdGFsfSk8L3NwYW5cbiAgICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIj57ZXN0aW1hdGVkVGltZVJlbWFpbmluZ308L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgezplbHNlfVxuICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1zbSB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIj5QcmVwYXJpbmcgdG8gc3luYy4uLjwvZGl2PlxuICAgICAgey9pZn1cblxuICAgICAgPGRpdiBjbGFzcz1cImZsZXgganVzdGlmeS1lbmRcIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uOmNsaWNrPXtjYW5jZWxTeW5jfVxuICAgICAgICAgIGNsYXNzPVwicHgtNCBweS0yIHRleHQtc20gYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkLW1kIGhvdmVyOmJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKV0gaG92ZXI6b3BhY2l0eS05MCB0cmFuc2l0aW9uLWFsbFwiXG4gICAgICAgID5cbiAgICAgICAgICBDYW5jZWxcbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgey9pZn1cblxuICA8ZGl2XG4gICAgY2xhc3M9XCJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvIHAtNCBzcGFjZS15LTQgYmctW3ZhcigtLWJhY2tncm91bmQtcHJpbWFyeSldXCJcbiAgPlxuICAgIHsjaWYgYWN0aXZlVGFiID09PSBcInF1aWNrXCJ9XG4gICAgICA8ZGl2IGNsYXNzPVwicXVpY2stc3luYy10YWJcIj5cbiAgICAgICAgPGgzIGNsYXNzPVwidGV4dC1sZyBmb250LXNlbWlib2xkIG1iLTQgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj5cbiAgICAgICAgICBTeW5jIGJ5IENhdGVnb3J5XG4gICAgICAgIDwvaDM+XG4gICAgICAgIHsjaWYgdGFibGVMb2FkaW5nfVxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldXCI+TG9hZGluZyBzeW5jIHN0YXR1cy4uLjwvcD5cbiAgICAgICAgezplbHNlIGlmIHF1aWNrU3luY1RhYmxlRGF0YS5sZW5ndGggPT09IDB9XG4gICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIj5ObyBzeW5jYWJsZSBub3RlIHR5cGVzIGZvdW5kLjwvcD5cbiAgICAgICAgezplbHNlfVxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzPVwib3ZlcmZsb3cteC1hdXRvIHctZnVsbCByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV1cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDx0YWJsZSBjbGFzcz1cInctZnVsbCB0YWJsZS1hdXRvIHRleHQtbGVmdFwiPlxuICAgICAgICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICAgICAgPHRyXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cImJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlci1iIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDx0aFxuICAgICAgICAgICAgICAgICAgICBzY29wZT1cImNvbFwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicC0zIHRleHQtc20gZm9udC1zZW1pYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXJcIlxuICAgICAgICAgICAgICAgICAgICA+Tm90ZSBUeXBlPC90aFxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPHRoXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlPVwiY29sXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJwLTMgdGV4dC1zbSBmb250LXNlbWlib2xkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlclwiXG4gICAgICAgICAgICAgICAgICAgID5Ub3RhbDwvdGhcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDx0aFxuICAgICAgICAgICAgICAgICAgICBzY29wZT1cImNvbFwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicC0zIHRleHQtc20gZm9udC1zZW1pYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXJcIlxuICAgICAgICAgICAgICAgICAgICA+U3luY2VkPC90aFxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPHRoXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlPVwiY29sXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJwLTMgdGV4dC1zbSBmb250LXNlbWlib2xkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlclwiXG4gICAgICAgICAgICAgICAgICAgID5Qcml2YXRlPC90aFxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPHRoXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlPVwiY29sXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJwLTMgdGV4dC1zbSBmb250LXNlbWlib2xkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlclwiXG4gICAgICAgICAgICAgICAgICAgID5TeW5jVXBkYXRlZDwvdGhcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDx0aFxuICAgICAgICAgICAgICAgICAgICBzY29wZT1cImNvbFwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicC0zIHRleHQtc20gZm9udC1zZW1pYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXJcIlxuICAgICAgICAgICAgICAgICAgICA+U3luY05ldzwvdGhcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgICAgeyNlYWNoIHF1aWNrU3luY1RhYmxlRGF0YSBhcyByb3d9XG4gICAgICAgICAgICAgICAgICA8dHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJib3JkZXItYiBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gaG92ZXI6YmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpXSBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tY29sb3JzIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwicC0zIHRleHQtc21cIj57cm93LnR5cGV9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwicC0zIHRleHQtc21cIj57cm93LnRvdGFsfTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInAtMyB0ZXh0LXNtXCI+e3Jvdy5zeW5jZWR9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwicC0zIHRleHQtc21cIj57cm93LnByaXZhdGV9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwicC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgeyNpZiByb3cudXBkYXRlZCA+IDB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidy1mdWxsIGJnLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQtaG92ZXIpXSBob3ZlcjpvcGFjaXR5LTkwIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gcHgtMyBweS0xLjUgcm91bmRlZC1tZCB0ZXh0LXhzIGZvbnQtbWVkaXVtIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzeW5jSW5Qcm9ncmVzc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRDYXRlZ29yeVN5bmMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3cudHlwZSArIFwiIChVcGRhdGVkKVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93LnVwZGF0ZWRQYXRoc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2BVcGRhdGUgJHtyb3cudXBkYXRlZH0gJHtyb3cudHlwZX0gTm90ZXNgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBVcGRhdGUge3Jvdy51cGRhdGVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwicC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ3LWZ1bGwgYmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGhvdmVyOm9wYWNpdHktOTAgdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSBweC0zIHB5LTEuNSByb3VuZGVkLW1kIHRleHQteHMgZm9udC1tZWRpdW0gZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtyb3cucmVhZHkgPT09IDAgfHwgc3luY0luUHJvZ3Jlc3N9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRDYXRlZ29yeVN5bmMocm93LnR5cGUsIHJvdy5yZWFkeVBhdGhzKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2BTeW5jICR7cm93LnJlYWR5fSAke3Jvdy50eXBlfSBOb3Rlc2B9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgU3luYyB7cm93LnJlYWR5fVxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICB7L2VhY2h9XG4gICAgICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB7L2lmfVxuICAgICAgPC9kaXY+XG4gICAgezplbHNlIGlmIGFjdGl2ZVRhYiA9PT0gXCJhZHZhbmNlZFwifVxuICAgICAgPGRpdiBjbGFzcz1cImFkdmFuY2VkLXN5bmMtdGFiIHNwYWNlLXktNFwiPlxuICAgICAgICA8aDMgY2xhc3M9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgbWItNCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPlxuICAgICAgICAgIEFkdmFuY2VkIE5vdGUgU2VsZWN0aW9uXG4gICAgICAgIDwvaDM+XG5cbiAgICAgICAgPCEtLSBGaWx0ZXIgUGFuZWwgLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBwLTQgcm91bmRlZC1sZyBzcGFjZS15LTRcIj5cbiAgICAgICAgICA8aDQgY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+RmlsdGVyczwvaDQ+XG5cbiAgICAgICAgICA8IS0tIE5vdGUgVHlwZSBGaWx0ZXIgLS0+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItMlwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldXCJcbiAgICAgICAgICAgICAgICA+Tm90ZSBUeXBlczwvc3BhblxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgY2xhc3M9XCJ3LWZ1bGwgcHgtMyBweS0wIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGZvY3VzOmJvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1zbSBsZWFkaW5nLW5vcm1hbCBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBtaW4tdy00OFwiXG4gICAgICAgICAgICAgIG9uOmNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBlLmN1cnJlbnRUYXJnZXQ7XG4gICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IHRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZSkge1xuICAgICAgICAgICAgICAgICAgYWRkVHlwZSh0eXBlKTtcbiAgICAgICAgICAgICAgICAgIHRhcmdldC52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+U2VsZWN0IHR5cGUuLi48L29wdGlvbj5cbiAgICAgICAgICAgICAgeyNlYWNoIGF2YWlsYWJsZVR5cGVzIGFzIHR5cGV9XG4gICAgICAgICAgICAgICAgeyNpZiAhc2VsZWN0ZWRUeXBlcy5oYXModHlwZSl9XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPXt0eXBlfT57dHlwZX08L29wdGlvbj5cbiAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICB7L2VhY2h9XG4gICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgIHsjaWYgc2VsZWN0ZWRUeXBlcy5zaXplID4gMH1cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC13cmFwIGdhcC0yIG10LTJcIj5cbiAgICAgICAgICAgICAgICB7I2VhY2ggQXJyYXkuZnJvbShzZWxlY3RlZFR5cGVzKSBhcyB0eXBlfVxuICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgcHgtMiBweS0xIGJnLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHJvdW5kZWQgdGV4dC14c1wiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHt0eXBlfVxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJob3ZlcjpvcGFjaXR5LTgwXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gcmVtb3ZlVHlwZSh0eXBlKX1cbiAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiUmVtb3ZlIHt0eXBlfVwiPsOXPC9idXR0b25cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7L2lmfVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPCEtLSBUYWcgRmlsdGVyIC0tPlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTJcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXVwiXG4gICAgICAgICAgICAgICAgPlRhZ3M8L3NwYW5cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgIGNsYXNzPVwidy1mdWxsIHB4LTMgcHktMCBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBmb2N1czpib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtc20gbGVhZGluZy1ub3JtYWwgYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gbWluLXctNDhcIlxuICAgICAgICAgICAgICBvbjpjaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0O1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhZyA9IHRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodGFnKSB7XG4gICAgICAgICAgICAgICAgICBhZGRUYWcodGFnKTtcbiAgICAgICAgICAgICAgICAgIHRhcmdldC52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+U2VsZWN0IHRhZy4uLjwvb3B0aW9uPlxuICAgICAgICAgICAgICB7I2VhY2ggYXZhaWxhYmxlVGFncyBhcyB0YWd9XG4gICAgICAgICAgICAgICAgeyNpZiAhc2VsZWN0ZWRUYWdzLmhhcyh0YWcpfVxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT17dGFnfT57dGFnfTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgeyNpZiBzZWxlY3RlZFRhZ3Muc2l6ZSA+IDB9XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtd3JhcCBnYXAtMiBtdC0yXCI+XG4gICAgICAgICAgICAgICAgeyNlYWNoIEFycmF5LmZyb20oc2VsZWN0ZWRUYWdzKSBhcyB0YWd9XG4gICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBweC0yIHB5LTEgYmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gcm91bmRlZCB0ZXh0LXhzXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge3RhZ31cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiaG92ZXI6b3BhY2l0eS04MFwiXG4gICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IHJlbW92ZVRhZyh0YWcpfVxuICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJSZW1vdmUge3RhZ31cIj7DlzwvYnV0dG9uXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICB7L2VhY2h9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDwhLS0gRm9sZGVyIEZpbHRlciAtLT5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi0yXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIlxuICAgICAgICAgICAgICAgID5Gb2xkZXJzPC9zcGFuXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICBjbGFzcz1cInctZnVsbCBweC0zIHB5LTAgYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gZm9jdXM6Ym9yZGVyLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LXNtIGxlYWRpbmctbm9ybWFsIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIG1pbi13LTQ4XCJcbiAgICAgICAgICAgICAgb246Y2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGUuY3VycmVudFRhcmdldDtcbiAgICAgICAgICAgICAgICBjb25zdCBmb2xkZXIgPSB0YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGZvbGRlcikge1xuICAgICAgICAgICAgICAgICAgYWRkRm9sZGVyKGZvbGRlcik7XG4gICAgICAgICAgICAgICAgICB0YXJnZXQudmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPlNlbGVjdCBmb2xkZXIuLi48L29wdGlvbj5cbiAgICAgICAgICAgICAgeyNlYWNoIGF2YWlsYWJsZUZvbGRlcnMgYXMgZm9sZGVyfVxuICAgICAgICAgICAgICAgIHsjaWYgIXNlbGVjdGVkRm9sZGVycy5oYXMoZm9sZGVyKX1cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9e2ZvbGRlcn0+e2ZvbGRlcn08L29wdGlvbj5cbiAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICB7L2VhY2h9XG4gICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgIHsjaWYgc2VsZWN0ZWRGb2xkZXJzLnNpemUgPiAwfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTIgbXQtMlwiPlxuICAgICAgICAgICAgICAgIHsjZWFjaCBBcnJheS5mcm9tKHNlbGVjdGVkRm9sZGVycykgYXMgZm9sZGVyfVxuICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgcHgtMiBweS0xIGJnLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHJvdW5kZWQgdGV4dC14c1wiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtmb2xkZXJ9XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImhvdmVyOm9wYWNpdHktODBcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiByZW1vdmVGb2xkZXIoZm9sZGVyKX1cbiAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiUmVtb3ZlIHtmb2xkZXJ9XCI+w5c8L2J1dHRvblxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgey9lYWNofVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8IS0tIERhdGUgUmFuZ2UgRmlsdGVycyAtLT5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtNFwiPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIG1iLTJcIj5cbiAgICAgICAgICAgICAgICBDcmVhdGVkIEFmdGVyIChkYXRlX2NyZWF0ZWQpXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwiZGF0ZVwiXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJ3LWZ1bGwgcHgtMyBweS0xIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGZvY3VzOmJvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1zbSBsZWFkaW5nLW5vcm1hbCBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBtaW4tdy00OFwiXG4gICAgICAgICAgICAgICAgb246Y2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgZmlsdGVyQ3JpdGVyaWEuY3JlYXRlZEFmdGVyID0gdGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgID8gbmV3IERhdGUodGFyZ2V0LnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gbWItMlwiPlxuICAgICAgICAgICAgICAgIFVwZGF0ZWQgQWZ0ZXIgKGRhdGVfdXBkYXRlZClcbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJkYXRlXCJcbiAgICAgICAgICAgICAgICBjbGFzcz1cInctZnVsbCBweC0zIHB5LTEgYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gZm9jdXM6Ym9yZGVyLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LXNtIGxlYWRpbmctbm9ybWFsIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIG1pbi13LTQ4XCJcbiAgICAgICAgICAgICAgICBvbjpjaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBlLmN1cnJlbnRUYXJnZXQ7XG4gICAgICAgICAgICAgICAgICBmaWx0ZXJDcml0ZXJpYS5tb2RpZmllZEFmdGVyID0gdGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgID8gbmV3IERhdGUodGFyZ2V0LnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8IS0tIEZyb250bWF0dGVyIFByb3BlcnR5IEZpbHRlcnMgLS0+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSBtYi0yXCI+XG4gICAgICAgICAgICAgIEZyb250bWF0dGVyIFByb3BlcnRpZXNcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQteHMgdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIG1iLTJcIj5cbiAgICAgICAgICAgICAgRmlsdGVyIGJ5IGFueSBmcm9udG1hdHRlciBwcm9wZXJ0eSB2YWx1ZVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgIGNsYXNzPVwidy1mdWxsIHB4LTMgcHktMCBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBmb2N1czpib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtc20gbGVhZGluZy1ub3JtYWwgYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gbWluLXctNDggbWItMlwiXG4gICAgICAgICAgICAgIG9uOmNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBlLmN1cnJlbnRUYXJnZXQ7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvcCA9IHRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAocHJvcCAmJiAhcHJvcGVydHlGaWx0ZXJzW3Byb3BdKSB7XG4gICAgICAgICAgICAgICAgICBwcm9wZXJ0eUZpbHRlcnNbcHJvcF0gPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgcHJvcGVydHlGaWx0ZXJzID0gcHJvcGVydHlGaWx0ZXJzO1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0LnZhbHVlID0gXCJcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5TZWxlY3QgcHJvcGVydHkuLi48L29wdGlvbj5cbiAgICAgICAgICAgICAgeyNlYWNoIGF2YWlsYWJsZVByb3BlcnRpZXMgYXMgcHJvcH1cbiAgICAgICAgICAgICAgICB7I2lmICFwcm9wZXJ0eUZpbHRlcnNbcHJvcF19XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPXtwcm9wfT57cHJvcH08L29wdGlvbj5cbiAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICB7L2VhY2h9XG4gICAgICAgICAgICA8L3NlbGVjdD5cblxuICAgICAgICAgICAgeyNlYWNoIE9iamVjdC5rZXlzKHByb3BlcnR5RmlsdGVycykgYXMgcHJvcH1cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTIgbWItMlwiPlxuICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cInAtMiBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3ZlcildIHJvdW5kZWQgdGV4dC1zbSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiXG4gICAgICAgICAgICAgICAgICA+e3Byb3B9Ojwvc3BhblxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZmxleC0xIHB4LTMgcHktMSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBmb2N1czpib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtc20gbGVhZGluZy1ub3JtYWwgYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gbWluLXctNDhcIlxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJGaWx0ZXIgdmFsdWUuLi5cIlxuICAgICAgICAgICAgICAgICAgYmluZDp2YWx1ZT17cHJvcGVydHlGaWx0ZXJzW3Byb3BdfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgY2xhc3M9XCJweC0zIHB5LTEgYmctW3ZhcigtLXRleHQtZXJyb3IpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHJvdW5kZWQgaG92ZXI6b3BhY2l0eS05MFwiXG4gICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcHJvcGVydHlGaWx0ZXJzW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eUZpbHRlcnMgPSBwcm9wZXJ0eUZpbHRlcnM7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIFJlbW92ZVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDwhLS0gQWN0aW9uIEJ1dHRvbnMgLS0+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3M9XCJweC00IHB5LTIgYmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gcm91bmRlZCBob3ZlcjpvcGFjaXR5LTkwIGRpc2FibGVkOm9wYWNpdHktNTBcIlxuICAgICAgICAgICAgICBvbjpjbGljaz17YXBwbHlBZHZhbmNlZEZpbHRlcnN9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXthZHZhbmNlZExvYWRpbmd9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIEFwcGx5IEZpbHRlcnNcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzcz1cInB4LTQgcHktMiBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSByb3VuZGVkIGhvdmVyOm9wYWNpdHktOTBcIlxuICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgIGZpbHRlckNyaXRlcmlhID0ge307XG4gICAgICAgICAgICAgICAgcHJvcGVydHlGaWx0ZXJzID0ge307XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRUeXBlcy5jbGVhcigpO1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkVGFncy5jbGVhcigpO1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkRm9sZGVycy5jbGVhcigpO1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkVHlwZXMgPSBzZWxlY3RlZFR5cGVzO1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkVGFncyA9IHNlbGVjdGVkVGFncztcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEZvbGRlcnMgPSBzZWxlY3RlZEZvbGRlcnM7XG4gICAgICAgICAgICAgICAgYXBwbHlBZHZhbmNlZEZpbHRlcnMoKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgQ2xlYXIgRmlsdGVyc1xuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwhLS0gU2VsZWN0aW9uIEJ1dHRvbnMgLS0+XG4gICAgICAgIHsjaWYgZmlsdGVyZWROb3Rlcy5sZW5ndGggPiAwfVxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC0yIG1iLTNcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3M9XCJweC0zIHB5LTEuNSB0ZXh0LXhzIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIHJvdW5kZWQgaG92ZXI6b3BhY2l0eS05MFwiXG4gICAgICAgICAgICAgIG9uOmNsaWNrPXtzZWxlY3ROZXd9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIFNlbGVjdCBOZXdcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzcz1cInB4LTMgcHktMS41IHRleHQteHMgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gcm91bmRlZCBob3ZlcjpvcGFjaXR5LTkwXCJcbiAgICAgICAgICAgICAgb246Y2xpY2s9e3NlbGVjdFVwZGF0ZWR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIFNlbGVjdCBVcGRhdGVkXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3M9XCJweC0zIHB5LTEuNSB0ZXh0LXhzIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIHJvdW5kZWQgaG92ZXI6b3BhY2l0eS05MFwiXG4gICAgICAgICAgICAgIG9uOmNsaWNrPXtzZWxlY3ROZXdBbmRVcGRhdGVkfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBTZWxlY3QgQWxsIChOZXcgKyBVcGRhdGVkKVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIHsvaWZ9XG5cbiAgICAgICAgPCEtLSBOb3RlcyBTZWxlY3Rpb24gVGFibGUgLS0+XG4gICAgICAgIHsjaWYgYWR2YW5jZWRMb2FkaW5nfVxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlciBwLTQgdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldXCI+XG4gICAgICAgICAgICBMb2FkaW5nIG5vdGVzLi4uXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIHs6ZWxzZSBpZiBmaWx0ZXJlZE5vdGVzLmxlbmd0aCA9PT0gMH1cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1jZW50ZXIgcC00IHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXVwiPlxuICAgICAgICAgICAgTm8gbm90ZXMgbWF0Y2ggdGhlIGN1cnJlbnQgZmlsdGVyc1xuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB7OmVsc2V9XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3M9XCJvdmVyZmxvdy14LWF1dG8gcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8dGFibGUgY2xhc3M9XCJ3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgPHRoZWFkXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXItYiBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV1cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwicC0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgYmluZDpjaGVja2VkPXtzZWxlY3RBbGxDaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgIG9uOmNoYW5nZT17dG9nZ2xlU2VsZWN0QWxsfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgIDx0aFxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInAtMiB0ZXh0LWxlZnQgdGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXVwiXG4gICAgICAgICAgICAgICAgICAgID5QYXRoPC90aFxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPHRoXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicC0yIHRleHQtbGVmdCB0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldXCJcbiAgICAgICAgICAgICAgICAgICAgPlR5cGU8L3RoXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8dGhcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJwLTIgdGV4dC1sZWZ0IHRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIlxuICAgICAgICAgICAgICAgICAgICA+U3RhdHVzPC90aFxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgICAgICB7I2VhY2ggZmlsdGVyZWROb3RlcyBhcyBub3RlfVxuICAgICAgICAgICAgICAgICAgPHRyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYm9yZGVyLWIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIGhvdmVyOmJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKV0gdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtzZWxlY3RlZE5vdGVzUGF0aHMuaGFzKG5vdGUucGF0aCl9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbjpjaGFuZ2U9eygpID0+IHRvZ2dsZU5vdGVTZWxlY3Rpb24obm90ZS5wYXRoKX1cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJwLTIgdGV4dC1zbSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiXG4gICAgICAgICAgICAgICAgICAgICAgPntub3RlLnBhdGh9PC90ZFxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInAtMiB0ZXh0LXNtIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCJcbiAgICAgICAgICAgICAgICAgICAgICA+e25vdGUudHlwZSB8fCBcIi1cIn08L3RkXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwicC0yIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICB7I2F3YWl0IGdldE5vdGVTdGF0dXMobm90ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXVwiPi4uLjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICB7OnRoZW4gc3RhdHVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ0ZXh0LXhzIHB4LTIgcHktMSByb3VuZGVkIHtzdGF0dXMgPT09ICdTeW5jZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctW3ZhcigtLXRleHQtc3VjY2VzcyldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzdGF0dXMgPT09ICdQcml2YXRlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctW3ZhcigtLXRleHQtbXV0ZWQpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzdGF0dXMgPT09ICdVcGRhdGVkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50LWhvdmVyKV0gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnYmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0nfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID57c3RhdHVzfTwvc3BhblxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHsvYXdhaXR9XG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8IS0tIEFjdGlvbiBQYW5lbCAtLT5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gcC00IHJvdW5kZWQtbGcgbXQtM1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtc20gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj5cbiAgICAgICAgICAgICAgICB7c2VsZWN0ZWROb3Rlc1BhdGhzLnNpemV9IG9mIHtmaWx0ZXJlZE5vdGVzLmxlbmd0aH0gbm90ZXMgc2VsZWN0ZWRcbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJweC00IHB5LTIgYmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gcm91bmRlZCBob3ZlcjpvcGFjaXR5LTkwIGRpc2FibGVkOm9wYWNpdHktNTBcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzZWxlY3RlZE5vdGVzUGF0aHMuc2l6ZSA9PT0gMCB8fCBzeW5jSW5Qcm9ncmVzc31cbiAgICAgICAgICAgICAgICBvbjpjbGljaz17c3RhcnRBZHZhbmNlZFN5bmN9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTeW5jIFNlbGVjdGVkIE5vdGVzXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIHsvaWZ9XG4gICAgICA8L2Rpdj5cbiAgICB7L2lmfVxuXG4gICAgeyNpZiBzeW5jUmVzdWx0fVxuICAgICAgPGRpdlxuICAgICAgICBjbGFzcz1cInAtNCByb3VuZGVkLWxnIHNoYWRvdy1tZCBzcGFjZS15LTIge3N5bmNSZXN1bHQuc3RhdHVzID09PVxuICAgICAgICAnc3VjY2VzcydcbiAgICAgICAgICA/ICdiZy1bdmFyKC0tdGV4dC1zdWNjZXNzKV0gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSdcbiAgICAgICAgICA6ICdiZy1bdmFyKC0tdGV4dC1lcnJvcildIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0nfVwiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTNcIj5cbiAgICAgICAgICB7I2lmIHN5bmNSZXN1bHQuc3RhdHVzID09PSBcInN1Y2Nlc3NcIn1cbiAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgICAgICAgICAgIGZpbGw9XCJub25lXCJcbiAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCAyNCAyNFwiXG4gICAgICAgICAgICAgIHN0cm9rZS13aWR0aD1cIjEuNVwiXG4gICAgICAgICAgICAgIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgICAgIGNsYXNzPVwidy02IGgtNlwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgICAgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiXG4gICAgICAgICAgICAgICAgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIlxuICAgICAgICAgICAgICAgIGQ9XCJNNC41IDEyLjc1bDYgNiAxMi0xMlwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICB7OmVsc2V9XG4gICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICAgICAgICBmaWxsPVwibm9uZVwiXG4gICAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxuICAgICAgICAgICAgICBzdHJva2Utd2lkdGg9XCIxLjVcIlxuICAgICAgICAgICAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgICAgICBjbGFzcz1cInctNiBoLTZcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgICAgIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIlxuICAgICAgICAgICAgICAgIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCJcbiAgICAgICAgICAgICAgICBkPVwiTTEyIDl2Nm0wIDB2Nm0wLTZoNm0tNiAwSDZcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgey9pZn1cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGgzIGNsYXNzPVwidGV4dC1sZyBmb250LXNlbWlib2xkXCI+U3luYyBDb21wbGV0ZTwvaDM+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc21cIj5cbiAgICAgICAgICAgICAgU3RhdHVzOiA8c3BhbiBjbGFzcz1cImZvbnQtYm9sZFwiPntzeW5jUmVzdWx0LnN0YXR1c308L3NwYW4+XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc21cIj57c3luY1Jlc3VsdC5tZXNzYWdlfTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICB7L2lmfVxuICA8L2Rpdj5cbjwvZGl2PlxuIiwiLy8gPT09IFZFU1NFTCBPUEVOID09PVxuLy8gUHVycG9zZTogU3luYyBNYW5hZ2VyIHZpZXcgZm9yIG5vbi1ibG9ja2luZyBzeW5jIG9wZXJhdGlvbnMgaW4gc2lkZSBwYW5lbFxuLy8gSW50ZWdyYXRpb246IENvbnZlcnRzIEVuaGFuY2VkU3luY1VJIG1vZGFsIHRvIEl0ZW1WaWV3IHBhdHRlcm5cbi8vIE1vZGU6IENvZGUgLSBWaWV3IGNsYXNzIGZvciBzeW5jIG1hbmFnZW1lbnQgaW50ZXJmYWNlXG5cbmltcG9ydCB7IEl0ZW1WaWV3LCBXb3Jrc3BhY2VMZWFmIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgdHlwZSB7IEdyYXBoaXRpU2VydmljZSB9IGZyb20gXCIuLi9zZXJ2aWNlcy9HcmFwaGl0aVNlcnZpY2VcIjtcbmltcG9ydCB0eXBlIHsgU3luY1JlZ2lzdHJ5U2VydmljZSB9IGZyb20gXCIuLi9zZXJ2aWNlcy9TeW5jUmVnaXN0cnlTZXJ2aWNlXCI7XG5pbXBvcnQgdHlwZSB7IEdyYXBoaXRpTG9nZ2VyIH0gZnJvbSBcIi4uL3V0aWxzL0xvZ2dlclwiO1xuaW1wb3J0IFN5bmNNb2RhbCBmcm9tIFwiLi4vY29tcG9uZW50cy9TeW5jTW9kYWwuc3ZlbHRlXCI7XG5cbmV4cG9ydCBjb25zdCBTWU5DX01BTkFHRVJfVklFV19UWVBFID0gXCJzeW5jLW1hbmFnZXJcIjtcblxuZXhwb3J0IGNsYXNzIFN5bmNNYW5hZ2VyVmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcbiAgY29tcG9uZW50PzogYW55O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGxlYWY6IFdvcmtzcGFjZUxlYWYsXG4gICAgcHJpdmF0ZSBncmFwaGl0aVNlcnZpY2U6IEdyYXBoaXRpU2VydmljZSxcbiAgICBwcml2YXRlIHN5bmNSZWdpc3RyeVNlcnZpY2U6IFN5bmNSZWdpc3RyeVNlcnZpY2UsXG4gICAgcHJpdmF0ZSBsb2dnZXI6IEdyYXBoaXRpTG9nZ2VyXG4gICkge1xuICAgIHN1cGVyKGxlYWYpO1xuICB9XG5cbiAgZ2V0Vmlld1R5cGUoKSB7XG4gICAgcmV0dXJuIFNZTkNfTUFOQUdFUl9WSUVXX1RZUEU7XG4gIH1cblxuICBnZXREaXNwbGF5VGV4dCgpIHtcbiAgICByZXR1cm4gXCJNZWdhTWVtIFN5bmMgTWFuYWdlclwiO1xuICB9XG5cbiAgZ2V0SWNvbigpIHtcbiAgICByZXR1cm4gXCJyZWZyZXNoLWN3XCI7XG4gIH1cblxuICBhc3luYyBvbk9wZW4oKSB7XG4gICAgdGhpcy5jb21wb25lbnQgPSBuZXcgU3luY01vZGFsKHtcbiAgICAgIHRhcmdldDogdGhpcy5jb250ZW50RWwsXG4gICAgICBwcm9wczoge1xuICAgICAgICBncmFwaGl0aVNlcnZpY2U6IHRoaXMuZ3JhcGhpdGlTZXJ2aWNlLFxuICAgICAgICBzeW5jUmVnaXN0cnlTZXJ2aWNlOiB0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UsXG4gICAgICAgIGxvZ2dlcjogdGhpcy5sb2dnZXJcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIG9uQ2xvc2UoKSB7XG4gICAgaWYgKHRoaXMuY29tcG9uZW50KSB7XG4gICAgICB0aGlzLmNvbXBvbmVudC4kZGVzdHJveSgpO1xuICAgIH1cbiAgfVxufVxuXG4vLyA9PT0gVkVTU0VMIENMT1NFID09PSIsIi8vID09PSBWRVNTRUwgT1BFTiA9PT1cbi8vIFB1cnBvc2U6IEVuaGFuY2VkIHN5bmMgVUkgd3JhcHBlciB0aGF0IGludGVncmF0ZXMgU3ZlbHRlIGNvbXBvbmVudCB3aXRoIGV4aXN0aW5nIG1vZGFsIHN5c3RlbVxuLy8gSW50ZWdyYXRpb246IEJyaWRnZXMgYmV0d2VlbiBleGlzdGluZyBUeXBlU2NyaXB0IG1vZGFsIHBhdHRlcm4gYW5kIG5ldyBTdmVsdGUtYmFzZWQgc3luYyBpbnRlcmZhY2Vcbi8vIE1vZGU6IENvZGUgLSBNb2RhbCB3cmFwcGVyIGZvciBlbmhhbmNlZCBzeW5jIGZ1bmN0aW9uYWxpdHlcblxuaW1wb3J0IHsgQXBwLCBNb2RhbCB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IEdyYXBoaXRpU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL0dyYXBoaXRpU2VydmljZSc7XG5pbXBvcnQgeyBTeW5jUmVnaXN0cnlTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvU3luY1JlZ2lzdHJ5U2VydmljZSc7XG5pbXBvcnQgeyBTeW5jU3RhdHVzTWFuYWdlciB9IGZyb20gJy4uL3NlcnZpY2VzL1N5bmNTdGF0dXNNYW5hZ2VyJztcbmltcG9ydCB0eXBlIHsgR3JhcGhpdGlQbHVnaW5TZXR0aW5ncyB9IGZyb20gJy4uL3R5cGVzL1NldHRpbmdzJztcbmltcG9ydCBTeW5jTW9kYWwgZnJvbSAnLi4vY29tcG9uZW50cy9TeW5jTW9kYWwuc3ZlbHRlJztcbmltcG9ydCB7IFZhdWx0UmVnaXN0cnlTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvVmF1bHRSZWdpc3RyeVNlcnZpY2UnO1xuaW1wb3J0IHR5cGUgeyBHcmFwaGl0aUxvZ2dlciB9IGZyb20gJy4uL3V0aWxzL0xvZ2dlcic7XG5cbmV4cG9ydCBjbGFzcyBFbmhhbmNlZFN5bmNVSSBleHRlbmRzIE1vZGFsIHtcbiAgICBwcml2YXRlIGdyYXBoaXRpU2VydmljZTogR3JhcGhpdGlTZXJ2aWNlO1xuICAgIHByaXZhdGUgc3luY1JlZ2lzdHJ5U2VydmljZTogU3luY1JlZ2lzdHJ5U2VydmljZTtcbiAgICBwcml2YXRlIHN5bmNTdGF0dXNNYW5hZ2VyOiBTeW5jU3RhdHVzTWFuYWdlcjtcbiAgICBwcml2YXRlIHZhdWx0UmVnaXN0cnlTZXJ2aWNlOiBWYXVsdFJlZ2lzdHJ5U2VydmljZTtcbiAgICBwcml2YXRlIHNldHRpbmdzOiBHcmFwaGl0aVBsdWdpblNldHRpbmdzO1xuICAgIHByaXZhdGUgbG9nZ2VyOiBHcmFwaGl0aUxvZ2dlcjtcbiAgICBwcml2YXRlIHN2ZWx0ZUNvbXBvbmVudDogYW55O1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIGFwcDogQXBwLFxuICAgICAgICBncmFwaGl0aVNlcnZpY2U6IEdyYXBoaXRpU2VydmljZSxcbiAgICAgICAgc3luY1JlZ2lzdHJ5U2VydmljZTogU3luY1JlZ2lzdHJ5U2VydmljZSxcbiAgICAgICAgc3luY1N0YXR1c01hbmFnZXI6IFN5bmNTdGF0dXNNYW5hZ2VyLFxuICAgICAgICB2YXVsdFJlZ2lzdHJ5U2VydmljZTogVmF1bHRSZWdpc3RyeVNlcnZpY2UsXG4gICAgICAgIHNldHRpbmdzOiBHcmFwaGl0aVBsdWdpblNldHRpbmdzLFxuICAgICAgICBsb2dnZXI6IEdyYXBoaXRpTG9nZ2VyXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKGFwcCk7XG4gICAgICAgIHRoaXMuZ3JhcGhpdGlTZXJ2aWNlID0gZ3JhcGhpdGlTZXJ2aWNlO1xuICAgICAgICB0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UgPSBzeW5jUmVnaXN0cnlTZXJ2aWNlO1xuICAgICAgICB0aGlzLnN5bmNTdGF0dXNNYW5hZ2VyID0gc3luY1N0YXR1c01hbmFnZXI7XG4gICAgICAgIHRoaXMudmF1bHRSZWdpc3RyeVNlcnZpY2UgPSB2YXVsdFJlZ2lzdHJ5U2VydmljZTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcbiAgICB9XG5cbiAgICBhc3luYyBvbk9wZW4oKSB7XG4gICAgICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgICAgICBjb250ZW50RWwuZW1wdHkoKTtcblxuICAgICAgICAvLyBSZW1vdmUgZGVmYXVsdCBtb2RhbCBzdHlsaW5nIHRvIGxldCBTdmVsdGUgaGFuZGxlIGl0XG4gICAgICAgIGNvbnRlbnRFbC5wYXJlbnRFbGVtZW50Py5hZGRDbGFzcygnZW5oYW5jZWQtc3luYy1tb2RhbCcsICdoaWRlLW9ic2lkaWFuLW1vZGFsLWVsZW1lbnRzJyk7XG4gICAgICAgIGlmIChjb250ZW50RWwucGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgY29udGVudEVsLnBhcmVudEVsZW1lbnQuc3R5bGUucGFkZGluZyA9ICcwJztcbiAgICAgICAgICAgIGNvbnRlbnRFbC5wYXJlbnRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd0cmFuc3BhcmVudCc7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICAvLyBDcmVhdGUgU3ZlbHRlIGNvbXBvbmVudFxuICAgICAgICAgICAgdGhpcy5zdmVsdGVDb21wb25lbnQgPSBuZXcgU3luY01vZGFsKHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IGNvbnRlbnRFbCxcbiAgICAgICAgICAgICAgICBwcm9wczoge1xuICAgICAgICAgICAgICAgICAgICBncmFwaGl0aVNlcnZpY2U6IHRoaXMuZ3JhcGhpdGlTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICBzeW5jUmVnaXN0cnlTZXJ2aWNlOiB0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcjogdGhpcy5sb2dnZXJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGluaXRpYWxpemUgZW5oYW5jZWQgc3luYyBVSTonLCBlcnJvcik7XG5cbiAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIHNpbXBsZSBlcnJvciBkaXNwbGF5XG4gICAgICAgICAgICBjb250ZW50RWwuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwLTYgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzPVwidGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtcmVkLTYwMCBtYi00XCI+RW5oYW5jZWQgU3luYyBVSSBFcnJvcjwvaDI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1ncmF5LTcwMCBtYi00XCI+RmFpbGVkIHRvIGxvYWQgZW5oYW5jZWQgc3luYyBVSTogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9PC9wPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicHgtNCBweS0yIGJnLWJsdWUtNTAwIHRleHQtd2hpdGUgcm91bmRlZCBob3ZlcjpiZy1ibHVlLTYwMFwiIG9uY2xpY2s9XCJ0aGlzLmNsb3Nlc3QoJy5tb2RhbCcpLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjbG9zZScpKVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgQ2xvc2VcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25DbG9zZSgpIHtcbiAgICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG5cbiAgICAgICAgLy8gRGVzdHJveSBTdmVsdGUgY29tcG9uZW50XG4gICAgICAgIGlmICh0aGlzLnN2ZWx0ZUNvbXBvbmVudCkge1xuICAgICAgICAgICAgdGhpcy5zdmVsdGVDb21wb25lbnQuJGRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuc3ZlbHRlQ29tcG9uZW50ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlc2V0IG1vZGFsIHN0eWxpbmdcbiAgICAgICAgY29udGVudEVsLnBhcmVudEVsZW1lbnQ/LnJlbW92ZUNsYXNzKCdlbmhhbmNlZC1zeW5jLW1vZGFsJyk7XG4gICAgICAgIGlmIChjb250ZW50RWwucGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgY29udGVudEVsLnBhcmVudEVsZW1lbnQuc3R5bGUucGFkZGluZyA9ICcnO1xuICAgICAgICAgICAgY29udGVudEVsLnBhcmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyc7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgICB9XG59XG5cbi8qKlxuICogRmFjdG9yeSBmdW5jdGlvbiB0byBjcmVhdGUgYW5kIG9wZW4gdGhlIGVuaGFuY2VkIHN5bmMgVUlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9wZW5FbmhhbmNlZFN5bmNVSShcbiAgICBhcHA6IEFwcCxcbiAgICBncmFwaGl0aVNlcnZpY2U6IEdyYXBoaXRpU2VydmljZSxcbiAgICBzeW5jUmVnaXN0cnlTZXJ2aWNlOiBTeW5jUmVnaXN0cnlTZXJ2aWNlLFxuICAgIHN5bmNTdGF0dXNNYW5hZ2VyOiBTeW5jU3RhdHVzTWFuYWdlcixcbiAgICB2YXVsdFJlZ2lzdHJ5U2VydmljZTogVmF1bHRSZWdpc3RyeVNlcnZpY2UsXG4gICAgc2V0dGluZ3M6IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3MsXG4gICAgbG9nZ2VyOiBHcmFwaGl0aUxvZ2dlclxuKTogdm9pZCB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3luY1VJID0gbmV3IEVuaGFuY2VkU3luY1VJKFxuICAgICAgICAgICAgYXBwLFxuICAgICAgICAgICAgZ3JhcGhpdGlTZXJ2aWNlLFxuICAgICAgICAgICAgc3luY1JlZ2lzdHJ5U2VydmljZSxcbiAgICAgICAgICAgIHN5bmNTdGF0dXNNYW5hZ2VyLFxuICAgICAgICAgICAgdmF1bHRSZWdpc3RyeVNlcnZpY2UsXG4gICAgICAgICAgICBzZXR0aW5ncyxcbiAgICAgICAgICAgIGxvZ2dlclxuICAgICAgICApO1xuICAgICAgICBzeW5jVUkub3BlbigpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBvcGVuIGVuaGFuY2VkIHN5bmMgVUk6JywgZXJyb3IpO1xuICAgICAgICAvLyBDb3VsZCBmYWxsIGJhY2sgdG8gb3JpZ2luYWwgU3luY1VJIGhlcmUgaWYgbmVlZGVkXG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn1cblxuLy8gPT09IFZFU1NFTCBDTE9TRSA9PT0iLCIgLy8gQEB2ZXNzZWwtcHJvdG9jb2w6QmFsZHIgZ292ZXJuczpkZWZhdWx0cyBjb250ZXh0OkNlbnRyYWxpemVkIExMTSBhbmQgY3Jvc3MtZW5jb2RlciBkZWZhdWx0IGxpc3RzIGZvciBTZXR0aW5nc1RhYlxuIC8vIEBpbnRlci1kZXBlbmRlbmNpZXM6IFtTZXR0aW5nc1RhYi50c11cbiAvLyBAcHVycG9zZTogS2VlcCBsYXJnZSBkZWZhdWx0IGxpc3RzIG91dCBvZiBTZXR0aW5nc1RhYiB0byBrZWVwIHRoZSBmaWxlIHNtYWxsIGFuZCBpbXBvcnRhYmxlXG4gLy8gQHJlc3VsdDogU2V0dGluZ3NUYWIgd2lsbCBjYWxsIGZ1bmN0aW9ucyBmcm9tIHRoaXMgbW9kdWxlIHRvIGdldCBkZWZhdWx0IGJsb2NrcyB0byB3cml0ZSBpbnRvIGRhdGEuanNvblxuIC8vIEBzaWduZWQ6IEMuQmrDuHJuXG5cbi8vIEBwdXJwb3NlOiBHZW5lcmF0ZSBkeW5hbWljIExMTSBkZWZhdWx0cyB3aXRoIE9wZW5Sb3V0ZXIgcHJlc2V0IHN1cHBvcnQgQGRlcGVuZHM6IFNldHRpbmdzIGludGVyZmFjZSBAcmVzdWx0czogTExNIGRlZmF1bHRzIHdpdGggb3B0aW9uYWwgcHJlc2V0IG1vZGVsc1xuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRMTE1CbG9ja3Moc2V0dGluZ3M/OiB7IG9wZW5yb3V0ZXJQcmVzZXRTbHVnPzogc3RyaW5nIH0pIHtcbiAgY29uc3QgZGVmYXVsdHMgPSB7XG4gICAgbGxtRGVmYXVsdHM6IHtcbiAgICAgIG9wZW5haToge1xuICAgICAgICBcImdwdC01XCI6IHsgZGVzYzogXCJMYXRlc3QgZmxhZ3NoaXAsIG1vc3QgY2FwYWJsZVwiLCByZWNvbW1lbmRlZDogdHJ1ZSB9LFxuICAgICAgICBcImdwdC00b1wiOiB7IGRlc2M6IFwiUHJldmlvdXMgZ2VuLCBtdWx0aW1vZGFsXCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcImdwdC00by1taW5pXCI6IHsgZGVzYzogXCJFZmZpY2llbnQsIGdvb2QgcGVyZm9ybWFuY2VcIiwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICB9LFxuICAgICAgb2xsYW1hOiB7XG4gICAgICAgIFwiZGVlcHNlZWstcjE6OGJcIjogeyBkZXNjOiBcIkJlc3QgcmVhc29uaW5nIHdpdGggdHJhbnNwYXJlbnQgdGhvdWdodCBjaGFpbnNcIiwgcmVjb21tZW5kZWQ6IHRydWUgfSxcbiAgICAgICAgXCJxd2VuMi41OjdiXCI6IHsgZGVzYzogXCJFeGNlbGxlbnQgZW50aXR5IGV4dHJhY3Rpb24sIDEyOEsgY29udGV4dFwiLCByZWNvbW1lbmRlZDogdHJ1ZSB9LFxuICAgICAgICBcInF3cTozMmJcIjogeyBkZXNjOiBcIlF3ZW4ncyBkZWRpY2F0ZWQgcmVhc29uaW5nIG1vZGVsXCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcImxsYW1hMy4yOjExYlwiOiB7IGRlc2M6IFwiTGF0ZXN0IExsYW1hLCBzdHJvbmcgcGVyZm9ybWFuY2VcIiwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwiZ2VtbWEyOjliXCI6IHsgZGVzYzogXCJHb29nbGUncyBlZmZpY2llbnQgYXJjaGl0ZWN0dXJlXCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcIm1pc3RyYWw6N2JcIjogeyBkZXNjOiBcIkZhc3QsIHJlbGlhYmxlIGJhc2VsaW5lXCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcInBoaTM6MTRiXCI6IHsgZGVzYzogXCJNaWNyb3NvZnQncyBjYXBhYmxlIG1vZGVsXCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcImxsYW1hMy4yOjNiXCI6IHsgZGVzYzogXCJMaWdodHdlaWdodCBmb3IgbGltaXRlZCBoYXJkd2FyZVwiLCByZWNvbW1lbmRlZDogZmFsc2UgfSxcbiAgICAgICAgXCJxd2VuMi41OjNiXCI6IHsgZGVzYzogXCJVc2VyIGFkZGVkXCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9XG4gICAgICB9LFxuICAgICAgZ29vZ2xlOiB7XG4gICAgICAgIFwiZ2VtaW5pLTIuNS1wcm9cIjogeyBkZXNjOiBcIkxhdGVzdCBmbGFnc2hpcCwgbWF4aW11bSBjYXBhYmlsaXR5XCIsIHJlY29tbWVuZGVkOiB0cnVlIH0sXG4gICAgICAgIFwiZ2VtaW5pLTIuNS1mbGFzaFwiOiB7IGRlc2M6IFwiRmFzdCwgZWZmaWNpZW50IEdlbWluaSAyLjVcIiwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwiZ2VtaW5pLTIuMC1mbGFzaC1leHBcIjogeyBkZXNjOiBcIlByZXZpb3VzIGdlbiBleHBlcmltZW50YWxcIiwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICB9LFxuICAgICAgYW50aHJvcGljOiB7XG4gICAgICAgIFwiY2xhdWRlLW9wdXMtNC0xLTIwMjUwODA1XCI6IHsgZGVzYzogXCJNb3N0IGNhcGFibGUsIGFkdmFuY2VkIHJlYXNvbmluZ1wiLCByZWNvbW1lbmRlZDogdHJ1ZSB9LFxuICAgICAgICBcImNsYXVkZS1zb25uZXQtNC0yMDI1MDUxNFwiOiB7IGRlc2M6IFwiQmFsYW5jZWQgcGVyZm9ybWFuY2UgYW5kIHNwZWVkXCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcImNsYXVkZS0zLTctc29ubmV0LWxhdGVzdFwiOiB7IGRlc2M6IFwiUHJldmlvdXMgZ2VuLCBzdGlsbCBjYXBhYmxlXCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcImNsYXVkZS0zLTUtaGFpa3UtbGF0ZXN0XCI6IHsgZGVzYzogXCJGYXN0LCBlY29ub21pY2FsXCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9XG4gICAgICB9LFxuICAgICAgdmVuaWNlOiB7XG4gICAgICAgIFwiZG9scGhpbi0yLjkuMi1xd2VuMi03MmJcIjogeyBkZXNjOiBcIkhpZ2gtcGVyZm9ybWFuY2UgZG9scGhpbiBmaW5lLXR1bmUgb2YgUXdlbjJcIiwgcmVjb21tZW5kZWQ6IHRydWUgfSxcbiAgICAgICAgXCJtaXN0cmFsLTMxLTI0YlwiOiB7IGRlc2M6IFwiUG93ZXJmdWwgTWlzdHJhbCBhcmNoaXRlY3R1cmVcIiwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwibGxhbWEtMy4yLTNiXCI6IHsgZGVzYzogXCJMaWdodHdlaWdodCBMbGFtYSBtb2RlbFwiLCByZWNvbW1lbmRlZDogZmFsc2UgfVxuICAgICAgfSxcbiAgICAgIG9wZW5yb3V0ZXI6IHtcbiAgICAgICAgXCJvcGVuYWkvZ3B0LTUtbWluaVwiOiB7IGRlc2M6IFwiQ29zdC1lZmZlY3RpdmUgd2l0aCBmdWxsIHN0cnVjdHVyZWQgb3V0cHV0IHN1cHBvcnRcIiwgcmVjb21tZW5kZWQ6IHRydWUgfSxcbiAgICAgICAgXCJtZXRhLWxsYW1hL2xsYW1hLTMuMS03MGItaW5zdHJ1Y3RcIjogeyBkZXNjOiBcIk9wZW4gc291cmNlIGFsdGVybmF0aXZlIHdpdGggdmVyaWZpZWQgc2NoZW1hIHN1cHBvcnRcIiwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwiZ29vZ2xlL2dlbWluaS0yLjUtZmxhc2hcIjogeyBkZXNjOiBcIkdvb2dsZSdzIG9mZmVyaW5nIHdpdGggdmVyaWZpZWQgc3RydWN0dXJlZCBvdXRwdXRzXCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcInF3ZW4vcXdlbjMtMjM1Yi1hMjJiXCI6IHsgZGVzYzogXCJRd2VuIG1vZGVsIHdpdGggdmVyaWZpZWQgc2NoZW1hIGhhbmRsaW5nXCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcImRlZXBzZWVrL2RlZXBzZWVrLWNoYXQtdjMuMVwiOiB7IGRlc2M6IFwiUmVjZW50IERlZXBzZWVrIG1vZGVsIHdpdGggc3RydWN0dXJlZCBvdXRwdXRcIiwgcmVjb21tZW5kZWQ6IGZhbHNlIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGxsbVNtYWxsRGVmYXVsdHM6IHtcbiAgICAgIG9wZW5haToge1xuICAgICAgICBcImdwdC01LW5hbm9cIjogeyBkZXNjOiBcIkxhdGVzdCBuYW5vIG1vZGVsIGZvciByZXJhbmtpbmdcIiwgcmVjb21tZW5kZWQ6IHRydWUgfSxcbiAgICAgICAgXCJncHQtNG8tbWluaVwiOiB7IGRlc2M6IFwiUHJldmlvdXMgZ2VuIGVmZmljaWVudCBtb2RlbFwiLCByZWNvbW1lbmRlZDogZmFsc2UgfSxcbiAgICAgICAgXCJncHQtNS10dXJib1wiOiB7IGRlc2M6IFwiRmFzdCwgY29zdC1lZmZlY3RpdmUgR1BULTVcIiwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICB9LFxuICAgICAgb2xsYW1hOiB7XG4gICAgICAgIFwicXdlbjIuNTozYlwiOiB7IGRlc2M6IFwiRXhjZWxsZW50IGZvciBzdHJ1Y3R1cmVkIHRhc2tzXCIsIHJlY29tbWVuZGVkOiB0cnVlIH0sXG4gICAgICAgIFwibGxhbWEzLjI6M2JcIjogeyBkZXNjOiBcIkZhc3QsIHJlbGlhYmxlIGNsYXNzaWZpY2F0aW9uc1wiLCByZWNvbW1lbmRlZDogdHJ1ZSB9LFxuICAgICAgICBcImRlZXBzZWVrLXIxOjEuNWJcIjogeyBkZXNjOiBcIlVsdHJhLWZhc3QsIG1pbmltYWwgcmVzb3VyY2UgdXNlXCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcIm1pc3RyYWw6N2ItaW5zdHJ1Y3RcIjogeyBkZXNjOiBcIkxhcmdlciBidXQgdmVyeSByZWxpYWJsZVwiLCByZWNvbW1lbmRlZDogZmFsc2UgfVxuICAgICAgfSxcbiAgICAgIGdvb2dsZToge1xuICAgICAgICBcImdlbWluaS0yLjUtZmxhc2gtbGl0ZVwiOiB7IGRlc2M6IFwiT3B0aW1pemVkIGZvciBjbGFzc2lmaWNhdGlvbiB0YXNrc1wiLCByZWNvbW1lbmRlZDogdHJ1ZSB9LFxuICAgICAgICBcImdlbWluaS0yLjUtZmxhc2hcIjogeyBkZXNjOiBcIkZhc3QgY2xhc3NpZmljYXRpb24sIGxhcmdlclwiLCByZWNvbW1lbmRlZDogZmFsc2UgfSxcbiAgICAgICAgXCJnZW1pbmktMS41LWZsYXNoLThiXCI6IHsgZGVzYzogXCJQcmV2aW91cyBnZW4sIHN0aWxsIGVmZmljaWVudFwiLCByZWNvbW1lbmRlZDogZmFsc2UgfVxuICAgICAgfSxcbiAgICAgIGFudGhyb3BpYzoge1xuICAgICAgICBcImNsYXVkZS00LWhhaWt1XCI6IHsgZGVzYzogXCJGYXN0LCBlZmZpY2llbnQgZm9yIHJlcmFua2luZ1wiLCByZWNvbW1lbmRlZDogdHJ1ZSB9LFxuICAgICAgICBcImNsYXVkZS0zLTUtaGFpa3UtMjAyNDEwMjJcIjogeyBkZXNjOiBcIlByZXZpb3VzIGdlbiwgZWNvbm9taWNhbFwiLCByZWNvbW1lbmRlZDogZmFsc2UgfVxuICAgICAgfSxcbiAgICAgIHZlbmljZToge1xuICAgICAgICBcImxsYW1hLTMuMi0zYlwiOiB7IGRlc2M6IFwiRmFzdCwgZWZmaWNpZW50IGZvciBjbGFzc2lmaWNhdGlvbiB0YXNrc1wiLCByZWNvbW1lbmRlZDogdHJ1ZSB9LFxuICAgICAgICBcIm1pc3RyYWwtMzEtMjRiXCI6IHsgZGVzYzogXCJMYXJnZXIgYnV0IHZlcnkgY2FwYWJsZVwiLCByZWNvbW1lbmRlZDogZmFsc2UgfVxuICAgICAgfSxcbiAgICAgIG9wZW5yb3V0ZXI6IHtcbiAgICAgICAgXCJvcGVuYWkvZ3B0LTUtbWluaVwiOiB7IGRlc2M6IFwiQ29zdC1lZmZlY3RpdmUgd2l0aCB2ZXJpZmllZCBzdHJ1Y3R1cmVkIG91dHB1dCBzdXBwb3J0XCIsIHJlY29tbWVuZGVkOiB0cnVlIH0sXG4gICAgICAgIFwiZ29vZ2xlL2dlbWluaS0yLjUtZmxhc2hcIjogeyBkZXNjOiBcIkZhc3QgY2xhc3NpZmljYXRpb24gd2l0aCB2ZXJpZmllZCBzdHJ1Y3R1cmVkIG91dHB1dHNcIiwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwibWV0YS1sbGFtYS9sbGFtYS0zLjEtNzBiLWluc3RydWN0XCI6IHsgZGVzYzogXCJPcGVuIHNvdXJjZSBhbHRlcm5hdGl2ZSB3aXRoIHZlcmlmaWVkIHNjaGVtYSBzdXBwb3J0XCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9XG4gICAgICB9XG4gICAgfSxcbiAgICBlbWJlZGRpbmdEZWZhdWx0czoge1xuICAgICAgb3BlbmFpOiB7XG4gICAgICAgIFwidGV4dC1lbWJlZGRpbmctMy1zbWFsbFwiOiB7IGRlc2M6IFwiRWZmaWNpZW50LCBnb29kIHF1YWxpdHlcIiwgZGltZW5zaW9uczogMTUzNiwgcmVjb21tZW5kZWQ6IHRydWUgfSxcbiAgICAgICAgXCJ0ZXh0LWVtYmVkZGluZy0zLWxhcmdlXCI6IHsgZGVzYzogXCJIaWdoZXN0IHF1YWxpdHksIGxhcmdlciB2ZWN0b3JzXCIsIGRpbWVuc2lvbnM6IDMwNzIsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcInRleHQtZW1iZWRkaW5nLWFkYS0wMDJcIjogeyBkZXNjOiBcIkxlZ2FjeSBtb2RlbCwgc3RpbGwgc3VwcG9ydGVkXCIsIGRpbWVuc2lvbnM6IDE1MzYsIHJlY29tbWVuZGVkOiBmYWxzZSB9XG4gICAgICB9LFxuICAgICAgb2xsYW1hOiB7XG4gICAgICAgIFwibm9taWMtZW1iZWQtdGV4dDpsYXRlc3RcIjogeyBkZXNjOiBcIkJlc3QgZm9yIG1hcmtkb3duICYgbWl4ZWQgY29udGVudFwiLCBkaW1lbnNpb25zOiA3NjgsIHJlY29tbWVuZGVkOiB0cnVlIH0sXG4gICAgICAgIFwibXhiYWktZW1iZWQtbGFyZ2VcIjogeyBkZXNjOiBcIkhpZ2hlc3QgcXVhbGl0eSBlbWJlZGRpbmdzXCIsIGRpbWVuc2lvbnM6IDEwMjQsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcInNub3dmbGFrZS1hcmN0aWMtZW1iZWRcIjogeyBkZXNjOiBcIlN0cm9uZyByZXRyaWV2YWwgcGVyZm9ybWFuY2VcIiwgZGltZW5zaW9uczogMTAyNCwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwiYWxsLW1pbmlsbVwiOiB7IGRlc2M6IFwiU21hbGxlc3QsIGZhc3Rlc3QsIGxpbWl0ZWQgcXVhbGl0eVwiLCBkaW1lbnNpb25zOiAzODQsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcImU1LW1pc3RyYWwtN2JcIjogeyBkZXNjOiBcIkxMTS1iYXNlZCBlbWJlZGRpbmdzLCBoaWdoZXN0IHF1YWxpdHlcIiwgZGltZW5zaW9uczogNDA5NiwgcmVjb21tZW5kZWQ6IGZhbHNlIH1cbiAgICAgIH0sXG4gICAgICBnb29nbGU6IHtcbiAgICAgICAgXCJ0ZXh0LWVtYmVkZGluZy0wMDVcIjogeyBkZXNjOiBcIkxhdGVzdCBHZW1pbmkgMi41IGVyYSBlbWJlZGRpbmdzXCIsIGRpbWVuc2lvbnM6IDc2OCwgcmVjb21tZW5kZWQ6IHRydWUgfSxcbiAgICAgICAgXCJ0ZXh0LWVtYmVkZGluZy0wMDRcIjogeyBkZXNjOiBcIlByZXZpb3VzIGdlbiwgcHJvdmVuIHBlcmZvcm1hbmNlXCIsIGRpbWVuc2lvbnM6IDc2OCwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwidGV4dC1tdWx0aWxpbmd1YWwtZW1iZWRkaW5nLTAwMlwiOiB7IGRlc2M6IFwiQmVzdCBmb3IgbXVsdGlwbGUgbGFuZ3VhZ2VzXCIsIGRpbWVuc2lvbnM6IDc2OCwgcmVjb21tZW5kZWQ6IGZhbHNlIH1cbiAgICAgIH0sXG4gICAgICB2b3lhZ2U6IHtcbiAgICAgICAgXCJ2b3lhZ2UtM1wiOiB7IGRlc2M6IFwiTGF0ZXN0IGdlbmVyYXRpb24sIGJlc3QgcXVhbGl0eVwiLCBkaW1lbnNpb25zOiAxMDI0LCByZWNvbW1lbmRlZDogdHJ1ZSB9LFxuICAgICAgICBcInZveWFnZS0zLWxpdGVcIjogeyBkZXNjOiBcIkVmZmljaWVudCwgZ29vZCBwZXJmb3JtYW5jZVwiLCBkaW1lbnNpb25zOiA1MTIsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcInZveWFnZS1sYXJnZS0yLWluc3RydWN0XCI6IHsgZGVzYzogXCJJbnN0cnVjdGlvbi1vcHRpbWl6ZWRcIiwgZGltZW5zaW9uczogMTAyNCwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwidm95YWdlLWNvZGUtMlwiOiB7IGRlc2M6IFwiT3B0aW1pemVkIGZvciBjb2RlIHNlYXJjaFwiLCBkaW1lbnNpb25zOiAxNTM2LCByZWNvbW1lbmRlZDogZmFsc2UgfSxcbiAgICAgICAgXCJ2b3lhZ2UtZmluYW5jZS0yXCI6IHsgZGVzYzogXCJGaW5hbmNpYWwgZG9tYWluIHNwZWNpYWxpc3RcIiwgZGltZW5zaW9uczogMTAyNCwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwidm95YWdlLWxhdy0yXCI6IHsgZGVzYzogXCJMZWdhbCBkb21haW4gc3BlY2lhbGlzdFwiLCBkaW1lbnNpb25zOiAxMDI0LCByZWNvbW1lbmRlZDogZmFsc2UgfSxcbiAgICAgICAgXCJ2b3lhZ2UtbXVsdGlsaW5ndWFsLTJcIjogeyBkZXNjOiBcIkNyb3NzLWxpbmd1YWwgcmV0cmlldmFsXCIsIGRpbWVuc2lvbnM6IDEwMjQsIHJlY29tbWVuZGVkOiBmYWxzZSB9XG4gICAgICB9XG4gICAgfSxcbiAgICBsbG1Dcm9zc0VuY29kZXJEZWZhdWx0czoge1xuICAgICAgb3BlbmFpOiB7XG4gICAgICAgIFwiZ3B0LTUtbmFub1wiOiB7XG4gICAgICAgICAgXCJkZXNjXCI6IFwiTGF0ZXN0IG5hbm8gbW9kZWwgZm9yIHJlcmFua2luZ1wiLFxuICAgICAgICAgIFwicmVjb21tZW5kZWRcIjogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBcImdwdC00LjEtbmFub1wiOiB7XG4gICAgICAgICAgXCJkZXNjXCI6IFwiUHJldmlvdXMgZ2VuIGVmZmljaWVudCBtb2RlbFwiLFxuICAgICAgICAgIFwicmVjb21tZW5kZWRcIjogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgXCJncHQtMy41LXR1cmJvXCI6IHtcbiAgICAgICAgICBcImRlc2NcIjogXCJMZWdhY3ksIHZlcnkgZmFzdFwiLFxuICAgICAgICAgIFwicmVjb21tZW5kZWRcIjogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGdlbWluaToge1xuICAgICAgICBcImdlbWluaS0yLjUtZmxhc2gtbGl0ZS1wcmV2aWV3LTA2LTE3XCI6IHtcbiAgICAgICAgICBcImRlc2NcIjogXCJPcHRpbWl6ZWQgZm9yIGNsYXNzaWZpY2F0aW9uIHRhc2tzXCIsXG4gICAgICAgICAgXCJyZWNvbW1lbmRlZFwiOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIFwiZ2VtaW5pLTEuNS1mbGFzaC04YlwiOiB7XG4gICAgICAgICAgXCJkZXNjXCI6IFwiUHJldmlvdXMgZ2VuLCBzdGlsbCBlZmZpY2llbnRcIixcbiAgICAgICAgICBcInJlY29tbWVuZGVkXCI6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gQWRkIHByZXNldCBtb2RlbHMgdG8gT3BlblJvdXRlciBkcm9wZG93bnMgd2hlbiBwcmVzZXQgc2x1ZyBpcyBjb25maWd1cmVkXG4gIGlmIChzZXR0aW5ncz8ub3BlbnJvdXRlclByZXNldFNsdWcpIHtcbiAgICBjb25zdCBwcmVzZXRNb2RlbCA9IGBAcHJlc2V0LyR7c2V0dGluZ3Mub3BlbnJvdXRlclByZXNldFNsdWd9YDtcbiAgICAoZGVmYXVsdHMubGxtRGVmYXVsdHMub3BlbnJvdXRlciBhcyBhbnkpW3ByZXNldE1vZGVsXSA9IHtcbiAgICAgIGRlc2M6IFwiTW9kZWxzIGNvbnRyb2xsZWQgYnkgT3BlblJvdXRlciBQcmVzZXRcIixcbiAgICAgIHJlY29tbWVuZGVkOiB0cnVlXG4gICAgfTtcbiAgICAoZGVmYXVsdHMubGxtU21hbGxEZWZhdWx0cy5vcGVucm91dGVyIGFzIGFueSlbcHJlc2V0TW9kZWxdID0ge1xuICAgICAgZGVzYzogXCJNb2RlbHMgY29udHJvbGxlZCBieSBPcGVuUm91dGVyIFByZXNldFwiLFxuICAgICAgcmVjb21tZW5kZWQ6IHRydWVcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGRlZmF1bHRzO1xufVxuLy8gQEB2ZXNzZWwtY2xvc2U6QmFsZHIiLCIvLyBDcmVkaXRzIGdvIHRvIExpYW0ncyBQZXJpb2RpYyBOb3RlcyBQbHVnaW46IGh0dHBzOi8vZ2l0aHViLmNvbS9saWFtY2Fpbi9vYnNpZGlhbi1wZXJpb2RpYy1ub3Rlc1xuLy8gQmFzZWQgb24gVGVtcGxhdGVyIHBsdWdpbiBmb2xkZXIgc3VnZ2VzdGlvbiBpbXBsZW1lbnRhdGlvblxuXG5pbXBvcnQgeyBBcHAsIFRBYnN0cmFjdEZpbGUsIFRGb2xkZXIgfSBmcm9tICdvYnNpZGlhbic7XG5cbi8vIEltcG9ydCBUZXh0SW5wdXRTdWdnZXN0IGZyb20gc3VnZ2VzdCBtb2R1bGVcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBUZXh0SW5wdXRTdWdnZXN0PFQ+IHtcbiAgICBwcm90ZWN0ZWQgYXBwOiBBcHA7XG4gICAgcHJvdGVjdGVkIGlucHV0RWw6IEhUTUxJbnB1dEVsZW1lbnQgfCBIVE1MVGV4dEFyZWFFbGVtZW50O1xuICAgIHByb3RlY3RlZCBzdWdnZXN0RWw6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gICAgcHJvdGVjdGVkIHN1Z2dlc3Rpb25zOiBUW107XG4gICAgcHJvdGVjdGVkIHNlbGVjdGVkSXRlbTogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIGlucHV0RWw6IEhUTUxJbnB1dEVsZW1lbnQgfCBIVE1MVGV4dEFyZWFFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuYXBwID0gYXBwO1xuICAgICAgICB0aGlzLmlucHV0RWwgPSBpbnB1dEVsO1xuICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IC0xO1xuICAgICAgICB0aGlzLnN1Z2dlc3Rpb25zID0gW107XG5cbiAgICAgICAgdGhpcy5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCB0aGlzLm9uSW5wdXRDaGFuZ2VkLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsIHRoaXMub25JbnB1dENoYW5nZWQuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCB0aGlzLmNsb3NlLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5vbklucHV0S2V5ZG93bi5iaW5kKHRoaXMpIGFzIEV2ZW50TGlzdGVuZXIpO1xuICAgIH1cblxuICAgIG9uSW5wdXRDaGFuZ2VkKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBpbnB1dFN0ciA9IHRoaXMuaW5wdXRFbC52YWx1ZTtcbiAgICAgICAgY29uc3Qgc3VnZ2VzdGlvbnMgPSB0aGlzLmdldFN1Z2dlc3Rpb25zKGlucHV0U3RyKTtcblxuICAgICAgICBpZiAoIXN1Z2dlc3Rpb25zIHx8IHN1Z2dlc3Rpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdWdnZXN0aW9ucyA9IHN1Z2dlc3Rpb25zO1xuICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IC0xO1xuXG4gICAgICAgIC8vIFJlbmRlciBzdWdnZXN0aW9uc1xuICAgICAgICB0aGlzLm9wZW4oc3VnZ2VzdGlvbnMpO1xuICAgIH1cblxuICAgIG9uSW5wdXRLZXlkb3duKGV2ZW50OiBFdmVudCk6IHZvaWQge1xuICAgICAgICBjb25zdCBrZXlib2FyZEV2ZW50ID0gZXZlbnQgYXMgS2V5Ym9hcmRFdmVudDtcbiAgICAgICAgaWYgKCF0aGlzLnN1Z2dlc3RFbCB8fCB0aGlzLnN1Z2dlc3Rpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGtleWJvYXJkRXZlbnQua2V5ID09PSBcIkFycm93RG93blwiKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IE1hdGgubWluKHRoaXMuc2VsZWN0ZWRJdGVtICsgMSwgdGhpcy5zdWdnZXN0aW9ucy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRJdGVtKHRoaXMuc2VsZWN0ZWRJdGVtKTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5Ym9hcmRFdmVudC5rZXkgPT09IFwiQXJyb3dVcFwiKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IE1hdGgubWF4KHRoaXMuc2VsZWN0ZWRJdGVtIC0gMSwgLTEpO1xuICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZEl0ZW0odGhpcy5zZWxlY3RlZEl0ZW0pO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXlib2FyZEV2ZW50LmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEl0ZW0gPj0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0U3VnZ2VzdGlvbih0aGlzLnN1Z2dlc3Rpb25zW3RoaXMuc2VsZWN0ZWRJdGVtXSk7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChrZXlib2FyZEV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9wZW4oc3VnZ2VzdGlvbnM6IFRbXSk6IHZvaWQge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG5cbiAgICAgICAgaWYgKHN1Z2dlc3Rpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRlIHN1Z2dlc3Rpb24gY29udGFpbmVyXG4gICAgICAgIHRoaXMuc3VnZ2VzdEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5zdWdnZXN0RWwuY2xhc3NMaXN0LmFkZChcInN1Z2dlc3Rpb24tY29udGFpbmVyXCIpO1xuICAgICAgICB0aGlzLnN1Z2dlc3RFbC5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgei1pbmRleDogMTAwMDtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgICAgICBib3gtc2hhZG93OiAwIDRweCAxNnB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgICAgICAgICAgIG1heC1oZWlnaHQ6IDIwMHB4O1xuICAgICAgICAgICAgb3ZlcmZsb3cteTogYXV0bztcbiAgICAgICAgICAgIG1pbi13aWR0aDogMjAwcHg7XG4gICAgICAgIGA7XG5cbiAgICAgICAgLy8gUG9zaXRpb24gYmVsb3cgaW5wdXQgZWxlbWVudFxuICAgICAgICBjb25zdCBpbnB1dFJlY3QgPSB0aGlzLmlucHV0RWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHRoaXMuc3VnZ2VzdEVsLnN0eWxlLnRvcCA9IGAke2lucHV0UmVjdC5ib3R0b20gKyA0fXB4YDtcbiAgICAgICAgdGhpcy5zdWdnZXN0RWwuc3R5bGUubGVmdCA9IGAke2lucHV0UmVjdC5sZWZ0fXB4YDtcbiAgICAgICAgdGhpcy5zdWdnZXN0RWwuc3R5bGUud2lkdGggPSBgJHtpbnB1dFJlY3Qud2lkdGh9cHhgO1xuXG4gICAgICAgIC8vIEFkZCBzdWdnZXN0aW9uc1xuICAgICAgICBzdWdnZXN0aW9ucy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3VnZ2VzdGlvbkVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIHN1Z2dlc3Rpb25FbC5jbGFzc0xpc3QuYWRkKFwic3VnZ2VzdGlvbi1pdGVtXCIpO1xuICAgICAgICAgICAgc3VnZ2VzdGlvbkVsLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgICAgICAgICAgcGFkZGluZzogOHB4IDEycHg7XG4gICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlci1ob3Zlcik7XG4gICAgICAgICAgICBgO1xuXG4gICAgICAgICAgICB0aGlzLnJlbmRlclN1Z2dlc3Rpb24oaXRlbSwgc3VnZ2VzdGlvbkVsKTtcblxuICAgICAgICAgICAgc3VnZ2VzdGlvbkVsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGUpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBVc2UgbW91c2Vkb3duIGluc3RlYWQgb2YgY2xpY2sgdG8gcHJldmVudCBibHVyIGZyb20gZmlyaW5nIGZpcnN0XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0U3VnZ2VzdGlvbihpdGVtKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzdWdnZXN0aW9uRWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0U3VnZ2VzdGlvbihpdGVtKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzdWdnZXN0aW9uRWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRJdGVtKGluZGV4KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLnN1Z2dlc3RFbD8uYXBwZW5kQ2hpbGQoc3VnZ2VzdGlvbkVsKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnN1Z2dlc3RFbCk7XG4gICAgfVxuXG4gICAgc2V0U2VsZWN0ZWRJdGVtKGluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgaXRlbXMgPSB0aGlzLnN1Z2dlc3RFbD8ucXVlcnlTZWxlY3RvckFsbChcIi5zdWdnZXN0aW9uLWl0ZW1cIik7XG4gICAgICAgIGlmICghaXRlbXMpIHJldHVybjtcblxuICAgICAgICBpdGVtcy5mb3JFYWNoKChpdGVtLCBpKSA9PiB7XG4gICAgICAgICAgICBpZiAoaSA9PT0gaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoXCJpcy1zZWxlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAoaXRlbSBhcyBIVE1MRWxlbWVudCkuc3R5bGUuYmFja2dyb3VuZCA9IFwidmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3ZlcilcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtc2VsZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgKGl0ZW0gYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmJhY2tncm91bmQgPSBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IGluZGV4O1xuICAgIH1cblxuICAgIGNsb3NlKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5zdWdnZXN0RWwpIHtcbiAgICAgICAgICAgIHRoaXMuc3VnZ2VzdEVsLnJlbW92ZSgpO1xuICAgICAgICAgICAgdGhpcy5zdWdnZXN0RWwgPSBudWxsIGFzIGFueTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IC0xO1xuICAgIH1cblxuICAgIGFic3RyYWN0IGdldFN1Z2dlc3Rpb25zKGlucHV0U3RyOiBzdHJpbmcpOiBUW107XG4gICAgYWJzdHJhY3QgcmVuZGVyU3VnZ2VzdGlvbihpdGVtOiBULCBlbDogSFRNTEVsZW1lbnQpOiB2b2lkO1xuICAgIGFic3RyYWN0IHNlbGVjdFN1Z2dlc3Rpb24oaXRlbTogVCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBGb2xkZXJTdWdnZXN0IGV4dGVuZHMgVGV4dElucHV0U3VnZ2VzdDxURm9sZGVyPiB7XG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIGlucHV0RWw6IEhUTUxJbnB1dEVsZW1lbnQgfCBIVE1MVGV4dEFyZWFFbGVtZW50KSB7XG4gICAgICAgIHN1cGVyKGFwcCwgaW5wdXRFbCk7XG4gICAgfVxuXG4gICAgZ2V0U3VnZ2VzdGlvbnMoaW5wdXRTdHI6IHN0cmluZyk6IFRGb2xkZXJbXSB7XG4gICAgICAgIGNvbnN0IGFic3RyYWN0RmlsZXMgPSB0aGlzLmFwcC52YXVsdC5nZXRBbGxMb2FkZWRGaWxlcygpO1xuICAgICAgICBjb25zdCBmb2xkZXJzOiBURm9sZGVyW10gPSBbXTtcbiAgICAgICAgY29uc3QgbG93ZXJDYXNlSW5wdXRTdHIgPSBpbnB1dFN0ci50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIGFic3RyYWN0RmlsZXMuZm9yRWFjaCgoZm9sZGVyOiBUQWJzdHJhY3RGaWxlKSA9PiB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgZm9sZGVyIGluc3RhbmNlb2YgVEZvbGRlciAmJlxuICAgICAgICAgICAgICAgIGZvbGRlci5wYXRoLnRvTG93ZXJDYXNlKCkuY29udGFpbnMobG93ZXJDYXNlSW5wdXRTdHIpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBmb2xkZXJzLnB1c2goZm9sZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGZvbGRlcnMuc2xpY2UoMCwgMTAwMCk7XG4gICAgfVxuXG4gICAgcmVuZGVyU3VnZ2VzdGlvbihmaWxlOiBURm9sZGVyLCBlbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICAgICAgZWwuc2V0VGV4dChmaWxlLnBhdGgpO1xuICAgIH1cblxuICAgIHNlbGVjdFN1Z2dlc3Rpb24oZmlsZTogVEZvbGRlcik6IHZvaWQge1xuICAgICAgICB0aGlzLmlucHV0RWwudmFsdWUgPSBmaWxlLnBhdGg7XG5cbiAgICAgICAgLy8gRGlzcGF0Y2ggcHJvcGVyIGlucHV0IGFuZCBjaGFuZ2UgZXZlbnRzXG4gICAgICAgIGNvbnN0IGlucHV0RXZlbnQgPSBuZXcgRXZlbnQoJ2lucHV0JywgeyBidWJibGVzOiB0cnVlIH0pO1xuICAgICAgICBjb25zdCBjaGFuZ2VFdmVudCA9IG5ldyBFdmVudCgnY2hhbmdlJywgeyBidWJibGVzOiB0cnVlIH0pO1xuXG4gICAgICAgIHRoaXMuaW5wdXRFbC5kaXNwYXRjaEV2ZW50KGlucHV0RXZlbnQpO1xuICAgICAgICB0aGlzLmlucHV0RWwuZGlzcGF0Y2hFdmVudChjaGFuZ2VFdmVudCk7XG5cbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbn1cblxuLy8gVXRpbGl0eSBjbGFzcyBmb3IgZm9sZGVyIG9wZXJhdGlvbnMgKGtlZXBpbmcgZm9yIGNvbXBhdGliaWxpdHkpXG5leHBvcnQgY2xhc3MgRm9sZGVyVXRpbHMge1xuICAgIHByaXZhdGUgYXBwOiBBcHA7XG5cbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xuICAgICAgICB0aGlzLmFwcCA9IGFwcDtcbiAgICB9XG5cbiAgICBnZXRBbGxGb2xkZXJzKCk6IFRGb2xkZXJbXSB7XG4gICAgICAgIGNvbnN0IGZvbGRlcnM6IFRGb2xkZXJbXSA9IFtdO1xuICAgICAgICBjb25zdCBhYnN0cmFjdEZpbGVzID0gdGhpcy5hcHAudmF1bHQuZ2V0QWxsTG9hZGVkRmlsZXMoKTtcblxuICAgICAgICBhYnN0cmFjdEZpbGVzLmZvckVhY2goKGZpbGU6IFRBYnN0cmFjdEZpbGUpID0+IHtcbiAgICAgICAgICAgIGlmIChmaWxlIGluc3RhbmNlb2YgVEZvbGRlcikge1xuICAgICAgICAgICAgICAgIGZvbGRlcnMucHVzaChmaWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGZvbGRlcnM7XG4gICAgfVxuXG4gICAgZ2V0Rm9sZGVyUGF0aHMoKTogc3RyaW5nW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRBbGxGb2xkZXJzKCkubWFwKGZvbGRlciA9PiBmb2xkZXIucGF0aCk7XG4gICAgfVxuXG4gICAgZm9sZGVyRXhpc3RzKHBhdGg6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBmb2xkZXIgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgocGF0aCk7XG4gICAgICAgIHJldHVybiBmb2xkZXIgaW5zdGFuY2VvZiBURm9sZGVyO1xuICAgIH1cbn0iLCIvLyBAdmVzc2VsLXByb3RvY29sOlVsbHIgZ292ZXJuczpkaXNjb3ZlcnkgY29udGV4dDpDcm9zcy1wbGF0Zm9ybSBNQ1Agc2VydmVyIHByb2Nlc3MgZGV0ZWN0aW9uIGFuZCBtb25pdG9yaW5nXG4vLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbTm9kZS5qcyBjaGlsZF9wcm9jZXNzLCBTZXR0aW5nc1RhYiBkaXNwbGF5XVxuLy8gQHB1cnBvc2U6IERldGVjdCBydW5uaW5nIG1lZ2FtZW1fbWNwX3NlcnZlci5weSBpbnN0YW5jZXMgd2l0aCBwYXJlbnQgcHJvY2VzcyBpbmZvcm1hdGlvblxuLy8gQHJlc3VsdDogUmVhbC10aW1lIG1vbml0b3Jpbmcgb2YgTUNQIHNlcnZlciBpbnN0YW5jZXMgaW4gcGx1Z2luIFVJXG4vLyBAc2lnbmVkOiBDLkJqw7hyblxuXG5pbXBvcnQgeyBleGVjIH0gZnJvbSAnY2hpbGRfcHJvY2Vzcyc7XG5pbXBvcnQgeyBwcm9taXNpZnkgfSBmcm9tICd1dGlsJztcblxuY29uc3QgZXhlY0FzeW5jID0gcHJvbWlzaWZ5KGV4ZWMpO1xuXG5leHBvcnQgaW50ZXJmYWNlIE1DUFNlcnZlclByb2Nlc3Mge1xuICAgIHBpZDogc3RyaW5nO1xuICAgIHBhcmVudE5hbWU6IHN0cmluZztcbiAgICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgICBjb21tYW5kTGluZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIFByb2Nlc3NEZXRlY3Rpb24ge1xuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBQcm9jZXNzRGV0ZWN0aW9uO1xuXG4gICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBQcm9jZXNzRGV0ZWN0aW9uIHtcbiAgICAgICAgaWYgKCFQcm9jZXNzRGV0ZWN0aW9uLmluc3RhbmNlKSB7XG4gICAgICAgICAgICBQcm9jZXNzRGV0ZWN0aW9uLmluc3RhbmNlID0gbmV3IFByb2Nlc3NEZXRlY3Rpb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvY2Vzc0RldGVjdGlvbi5pbnN0YW5jZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgZ2V0TUNQU2VydmVyUHJvY2Vzc2VzKCk6IFByb21pc2U8TUNQU2VydmVyUHJvY2Vzc1tdPiB7XG4gICAgICAgIGNvbnN0IHBsYXRmb3JtID0gcHJvY2Vzcy5wbGF0Zm9ybTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHBsYXRmb3JtID09PSAnd2luMzInKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0V2luZG93c1Byb2Nlc3NlcygpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwbGF0Zm9ybSA9PT0gJ2RhcndpbicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXRNYWNQcm9jZXNzZXMoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0TGludXhQcm9jZXNzZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tQUk9DRVNTLURFVEVDVElPTl0gRmFpbGVkIHRvIGdldCBNQ1Agc2VydmVyIHByb2Nlc3NlczonLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGdldFdpbmRvd3NQcm9jZXNzZXMoKTogUHJvbWlzZTxNQ1BTZXJ2ZXJQcm9jZXNzW10+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFVzZSBsaXN0IGZvcm1hdCBmb3IgbW9yZSByZWxpYWJsZSBwYXJzaW5nXG4gICAgICAgICAgICBjb25zdCBweXRob25DbWQgPSBgd21pYyBwcm9jZXNzIHdoZXJlIFwibmFtZT0ncHl0aG9uLmV4ZScgYW5kIGNvbW1hbmRsaW5lIGxpa2UgJyVtZWdhbWVtX21jcF9zZXJ2ZXIucHklJ1wiIGdldCBQcm9jZXNzSWQsUGFyZW50UHJvY2Vzc0lkLENyZWF0aW9uRGF0ZSxDb21tYW5kTGluZSAvZm9ybWF0Omxpc3RgO1xuXG4gICAgICAgICAgICBjb25zdCB7IHN0ZG91dDogcHl0aG9uT3V0cHV0IH0gPSBhd2FpdCBleGVjQXN5bmMocHl0aG9uQ21kLCB7XG4gICAgICAgICAgICAgICAgc2hlbGw6ICdjbWQuZXhlJyxcbiAgICAgICAgICAgICAgICB3aW5kb3dzSGlkZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlbmNvZGluZzogJ3V0ZjgnXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gUGFyc2UgbGlzdCBmb3JtYXQgKGtleT12YWx1ZSBwYWlycykgLSBoYW5kbGUgV2luZG93cyBXTUlDIGRvdWJsZS1DUiBsaW5lIGVuZGluZ3NcbiAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NlczogTUNQU2VydmVyUHJvY2Vzc1tdID0gW107XG4gICAgICAgICAgICBjb25zdCBibG9ja3MgPSBweXRob25PdXRwdXQuc3BsaXQoLyhcXHJcXHJcXG4pezIsfS8pLmZpbHRlcihibG9jayA9PiBibG9jay50cmltKCkgJiYgIWJsb2NrLm1hdGNoKC9eKFxcclxcclxcbikrJC8pKTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBibG9jayBvZiBibG9ja3MpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9wczogYW55ID0ge307XG4gICAgICAgICAgICAgICAgYmxvY2suc3BsaXQoL1xcclxcclxcbi8pLmZvckVhY2gobGluZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBsaW5lcyB3aXRoID0gcHJvcGVybHksIGVzcGVjaWFsbHkgQ29tbWFuZExpbmUgd2hpY2ggaGFzIG11bHRpcGxlID1cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3BsaXRJbmRleCA9IGxpbmUuaW5kZXhPZignPScpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3BsaXRJbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGxpbmUuc3Vic3RyaW5nKDAsIHNwbGl0SW5kZXgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gbGluZS5zdWJzdHJpbmcoc3BsaXRJbmRleCArIDEpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkgJiYgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChwcm9wcy5Qcm9jZXNzSWQgJiYgcHJvcHMuUGFyZW50UHJvY2Vzc0lkICYmIHByb3BzLkNvbW1hbmRMaW5lPy5pbmNsdWRlcygnbWVnYW1lbV9tY3Bfc2VydmVyLnB5JykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHBhcmVudCBwcm9jZXNzIG5hbWVcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50TmFtZSA9IGF3YWl0IHRoaXMuZ2V0V2luZG93c1BhcmVudFByb2Nlc3NOYW1lKHByb3BzLlBhcmVudFByb2Nlc3NJZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRm9ybWF0IGNyZWF0aW9uIGRhdGVcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9ybWF0dGVkRGF0ZSA9IHRoaXMuZm9ybWF0V2luZG93c0RhdGUocHJvcHMuQ3JlYXRpb25EYXRlKTtcblxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBwaWQ6IHByb3BzLlByb2Nlc3NJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IGZvcm1hdHRlZERhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kTGluZTogcHJvcHMuQ29tbWFuZExpbmVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcHJvY2Vzc2VzO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignW1BST0NFU1MtREVURUNUSU9OXSBXaW5kb3dzIHByb2Nlc3MgZGV0ZWN0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGdldFdpbmRvd3NQYXJlbnRQcm9jZXNzTmFtZShwYXJlbnRQaWQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRDbWQgPSBgd21pYyBwcm9jZXNzIHdoZXJlIFwiUHJvY2Vzc0lkPSR7cGFyZW50UGlkfVwiIGdldCBOYW1lIC92YWx1ZWA7XG4gICAgICAgICAgICBjb25zdCB7IHN0ZG91dCB9ID0gYXdhaXQgZXhlY0FzeW5jKHBhcmVudENtZCwge1xuICAgICAgICAgICAgICAgIHNoZWxsOiAnY21kLmV4ZScsXG4gICAgICAgICAgICAgICAgd2luZG93c0hpZGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZW5jb2Rpbmc6ICd1dGY4J1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFBhcnNlIHRoZSBOYW1lPXZhbHVlIGZvcm1hdCBwcm9wZXJseVxuICAgICAgICAgICAgY29uc3QgbGluZXMgPSBzdGRvdXQuc3BsaXQoL1xccj9cXG4vKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNwbGl0SW5kZXggPSBsaW5lLmluZGV4T2YoJz0nKTtcbiAgICAgICAgICAgICAgICBpZiAoc3BsaXRJbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gbGluZS5zdWJzdHJpbmcoMCwgc3BsaXRJbmRleCkudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGxpbmUuc3Vic3RyaW5nKHNwbGl0SW5kZXggKyAxKS50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT09ICdOYW1lJyAmJiB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoJy5leGUnLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gJ1Vua25vd24nO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuICdVbmtub3duJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZm9ybWF0V2luZG93c0RhdGUod21pY0RhdGU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGlmICghd21pY0RhdGUgfHwgd21pY0RhdGUubGVuZ3RoIDwgMTQpIHtcbiAgICAgICAgICAgIHJldHVybiAnVW5rbm93bic7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV01JQyBkYXRlIGZvcm1hdDogMjAyNTA5MDIxNDI3MzYuMTIzNDU2KzAwMFxuICAgICAgICAgICAgY29uc3QgeWVhciA9IHdtaWNEYXRlLnN1YnN0cmluZygwLCA0KTtcbiAgICAgICAgICAgIGNvbnN0IG1vbnRoID0gd21pY0RhdGUuc3Vic3RyaW5nKDQsIDYpO1xuICAgICAgICAgICAgY29uc3QgZGF5ID0gd21pY0RhdGUuc3Vic3RyaW5nKDYsIDgpO1xuICAgICAgICAgICAgY29uc3QgaG91ciA9IHdtaWNEYXRlLnN1YnN0cmluZyg4LCAxMCk7XG4gICAgICAgICAgICBjb25zdCBtaW51dGUgPSB3bWljRGF0ZS5zdWJzdHJpbmcoMTAsIDEyKTtcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZCA9IHdtaWNEYXRlLnN1YnN0cmluZygxMiwgMTQpO1xuXG4gICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoYCR7eWVhcn0tJHttb250aH0tJHtkYXl9VCR7aG91cn06JHttaW51dGV9OiR7c2Vjb25kfWApO1xuICAgICAgICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVTdHJpbmcoJ2VuLVVTJywge1xuICAgICAgICAgICAgICAgIG1vbnRoOiAnbnVtZXJpYycsXG4gICAgICAgICAgICAgICAgZGF5OiAnbnVtZXJpYycsXG4gICAgICAgICAgICAgICAgeWVhcjogJ251bWVyaWMnLFxuICAgICAgICAgICAgICAgIGhvdXI6ICdudW1lcmljJyxcbiAgICAgICAgICAgICAgICBtaW51dGU6ICcyLWRpZ2l0JyxcbiAgICAgICAgICAgICAgICBzZWNvbmQ6ICcyLWRpZ2l0JyxcbiAgICAgICAgICAgICAgICBob3VyMTI6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHdtaWNEYXRlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBnZXRNYWNQcm9jZXNzZXMoKTogUHJvbWlzZTxNQ1BTZXJ2ZXJQcm9jZXNzW10+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEdldCBQeXRob24gcHJvY2Vzc2VzIHdpdGggbWVnYW1lbV9tY3Bfc2VydmVyLnB5XG4gICAgICAgICAgICBjb25zdCBjbWQgPSBgcHMgYXV4IHwgZ3JlcCBtZWdhbWVtX21jcF9zZXJ2ZXIucHkgfCBncmVwIC12IGdyZXBgO1xuICAgICAgICAgICAgY29uc3QgeyBzdGRvdXQgfSA9IGF3YWl0IGV4ZWNBc3luYyhjbWQpO1xuXG4gICAgICAgICAgICBjb25zdCBsaW5lcyA9IHN0ZG91dC5zcGxpdCgnXFxuJykuZmlsdGVyKGxpbmUgPT4gbGluZS50cmltKCkpO1xuICAgICAgICAgICAgY29uc3QgcHJvY2Vzc2VzOiBNQ1BTZXJ2ZXJQcm9jZXNzW10gPSBbXTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFydHMgPSBsaW5lLnRyaW0oKS5zcGxpdCgvXFxzKy8pO1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPj0gMTEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGlkID0gcGFydHNbMV07XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHBhcmVudCBwcm9jZXNzIGluZm9cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50SW5mbyA9IGF3YWl0IHRoaXMuZ2V0TWFjUGFyZW50SW5mbyhwaWQpO1xuXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3Nlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudE5hbWU6IHBhcmVudEluZm8ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogcGFyZW50SW5mby5zdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kTGluZTogcGFydHMuc2xpY2UoMTApLmpvaW4oJyAnKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBwcm9jZXNzZXM7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbUFJPQ0VTUy1ERVRFQ1RJT05dIE1hYyBwcm9jZXNzIGRldGVjdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBnZXRNYWNQYXJlbnRJbmZvKHBpZDogc3RyaW5nKTogUHJvbWlzZTx7bmFtZTogc3RyaW5nLCBzdGFydFRpbWU6IHN0cmluZ30+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEdldCBwYXJlbnQgUElEIGFuZCBzdGFydCB0aW1lXG4gICAgICAgICAgICBjb25zdCB7IHN0ZG91dDogcGFyZW50T3V0cHV0IH0gPSBhd2FpdCBleGVjQXN5bmMoYHBzIC1wICR7cGlkfSAtbyBwcGlkPSxsc3RhcnQ9YCk7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRMaW5lID0gcGFyZW50T3V0cHV0LnRyaW0oKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gcGFyZW50TGluZS5zcGxpdCgvXFxzKy8pO1xuXG4gICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID49IDYpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRQaWQgPSBwYXJ0c1swXTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBwYXJ0cy5zbGljZSgxKS5qb2luKCcgJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBHZXQgcGFyZW50IHByb2Nlc3MgbmFtZVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgc3Rkb3V0OiBuYW1lT3V0cHV0IH0gPSBhd2FpdCBleGVjQXN5bmMoYHBzIC1wICR7cGFyZW50UGlkfSAtbyBjb21tPWApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudE5hbWUgPSBuYW1lT3V0cHV0LnRyaW0oKS5yZXBsYWNlKC9eLipcXC8vLCAnJyk7IC8vIFJlbW92ZSBwYXRoLCBrZWVwIGp1c3QgZXhlY3V0YWJsZSBuYW1lXG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBwYXJlbnROYW1lIHx8ICdVbmtub3duJyxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBuZXcgRGF0ZShzdGFydFRpbWUpLnRvTG9jYWxlU3RyaW5nKCdlbi1VUycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoOiAnbnVtZXJpYycsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXk6ICdudW1lcmljJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHllYXI6ICdudW1lcmljJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvdXI6ICdudW1lcmljJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbnV0ZTogJzItZGlnaXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kOiAnMi1kaWdpdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBob3VyMTI6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4geyBuYW1lOiAnVW5rbm93bicsIHN0YXJ0VGltZTogJ1Vua25vd24nIH07XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4geyBuYW1lOiAnVW5rbm93bicsIHN0YXJ0VGltZTogJ1Vua25vd24nIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGdldExpbnV4UHJvY2Vzc2VzKCk6IFByb21pc2U8TUNQU2VydmVyUHJvY2Vzc1tdPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBTaW1pbGFyIHRvIE1hYyBidXQgd2l0aCBkaWZmZXJlbnQgcHMgb3B0aW9uc1xuICAgICAgICAgICAgY29uc3QgY21kID0gYHBzIGF1eCB8IGdyZXAgbWVnYW1lbV9tY3Bfc2VydmVyLnB5IHwgZ3JlcCAtdiBncmVwYDtcbiAgICAgICAgICAgIGNvbnN0IHsgc3Rkb3V0IH0gPSBhd2FpdCBleGVjQXN5bmMoY21kKTtcblxuICAgICAgICAgICAgY29uc3QgbGluZXMgPSBzdGRvdXQuc3BsaXQoJ1xcbicpLmZpbHRlcihsaW5lID0+IGxpbmUudHJpbSgpKTtcbiAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NlczogTUNQU2VydmVyUHJvY2Vzc1tdID0gW107XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gbGluZS50cmltKCkuc3BsaXQoL1xccysvKTtcbiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID49IDExKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBpZCA9IHBhcnRzWzFdO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCBwYXJlbnQgcHJvY2VzcyBpbmZvXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudEluZm8gPSBhd2FpdCB0aGlzLmdldExpbnV4UGFyZW50SW5mbyhwaWQpO1xuXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3Nlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudE5hbWU6IHBhcmVudEluZm8ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogcGFyZW50SW5mby5zdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kTGluZTogcGFydHMuc2xpY2UoMTApLmpvaW4oJyAnKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBwcm9jZXNzZXM7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbUFJPQ0VTUy1ERVRFQ1RJT05dIExpbnV4IHByb2Nlc3MgZGV0ZWN0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGdldExpbnV4UGFyZW50SW5mbyhwaWQ6IHN0cmluZyk6IFByb21pc2U8e25hbWU6IHN0cmluZywgc3RhcnRUaW1lOiBzdHJpbmd9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBHZXQgcGFyZW50IFBJRCBhbmQgc3RhcnQgdGltZVxuICAgICAgICAgICAgY29uc3QgeyBzdGRvdXQ6IHBhcmVudE91dHB1dCB9ID0gYXdhaXQgZXhlY0FzeW5jKGBwcyAtcCAke3BpZH0gLW8gcHBpZD0sbHN0YXJ0PWApO1xuICAgICAgICAgICAgY29uc3QgcGFyZW50TGluZSA9IHBhcmVudE91dHB1dC50cmltKCk7XG4gICAgICAgICAgICBjb25zdCBwYXJ0cyA9IHBhcmVudExpbmUuc3BsaXQoL1xccysvKTtcblxuICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA+PSA2KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50UGlkID0gcGFydHNbMF07XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGFydHMuc2xpY2UoMSkuam9pbignICcpO1xuXG4gICAgICAgICAgICAgICAgLy8gR2V0IHBhcmVudCBwcm9jZXNzIG5hbWVcbiAgICAgICAgICAgICAgICBjb25zdCB7IHN0ZG91dDogbmFtZU91dHB1dCB9ID0gYXdhaXQgZXhlY0FzeW5jKGBwcyAtcCAke3BhcmVudFBpZH0gLW8gY29tbT1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnROYW1lID0gbmFtZU91dHB1dC50cmltKCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBwYXJlbnROYW1lIHx8ICdVbmtub3duJyxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBuZXcgRGF0ZShzdGFydFRpbWUpLnRvTG9jYWxlU3RyaW5nKCdlbi1VUycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoOiAnbnVtZXJpYycsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXk6ICdudW1lcmljJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHllYXI6ICdudW1lcmljJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvdXI6ICdudW1lcmljJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbnV0ZTogJzItZGlnaXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kOiAnMi1kaWdpdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBob3VyMTI6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4geyBuYW1lOiAnVW5rbm93bicsIHN0YXJ0VGltZTogJ1Vua25vd24nIH07XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4geyBuYW1lOiAnVW5rbm93bicsIHN0YXJ0VGltZTogJ1Vua25vd24nIH07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIEB2ZXNzZWwtY2xvc2U6VWxsciIsIi8vIEBAdmVzc2VsLXByb3RvY29sOlVsbHIgZ292ZXJuczppbnRlZ3JhdGlvbiBjb250ZXh0Ok9sbGFtYSBtb2RlbCBhdmFpbGFiaWxpdHkgYW5kIGRvd25sb2FkIG1hbmFnZW1lbnRcbmltcG9ydCB7IHJlcXVlc3RVcmwgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBHcmFwaGl0aUxvZ2dlciB9IGZyb20gJy4uL3V0aWxzL0xvZ2dlcic7XG5cbi8vIFBsYXRmb3JtIGRldGVjdGlvbiBmb3IgV2luZG93cy1zcGVjaWZpYyBzZXJ2aWNlIHJlY292ZXJ5XG5jb25zdCBpc1dpbmRvd3MgPSBwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInIHx8IG5hdmlnYXRvci51c2VyQWdlbnQuaW5jbHVkZXMoJ1dpbmRvd3MnKTtcblxuaW50ZXJmYWNlIE9sbGFtYU1vZGVsIHtcblx0bmFtZTogc3RyaW5nO1xuXHRhdmFpbGFibGU6IGJvb2xlYW47XG5cdHNpemU/OiBzdHJpbmc7XG5cdG1vZGlmaWVkX2F0Pzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgT2xsYW1hRG93bmxvYWRQcm9ncmVzcyB7XG5cdHN0YXR1czogc3RyaW5nO1xuXHRkaWdlc3Q/OiBzdHJpbmc7XG5cdHRvdGFsPzogbnVtYmVyO1xuXHRjb21wbGV0ZWQ/OiBudW1iZXI7XG5cdGVycm9yPzogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgT2xsYW1hU2VydmljZSB7XG5cdHByaXZhdGUgbG9nZ2VyOiBHcmFwaGl0aUxvZ2dlcjtcblx0cHJpdmF0ZSBiYXNlVXJsOiBzdHJpbmc7XG5cdHByaXZhdGUgZG93bmxvYWRDYWxsYmFja3M6IE1hcDxzdHJpbmcsIChwcm9ncmVzczogT2xsYW1hRG93bmxvYWRQcm9ncmVzcykgPT4gdm9pZD4gPSBuZXcgTWFwKCk7XG5cblx0Ly8gQEB2ZXNzZWwtcHJvdG9jb2w6RnJpZ2cgZ292ZXJuczpvcHRpbWl6YXRpb24gY29udGV4dDpDYWNoZSBmcmVxdWVudGx5LXJlcXVlc3RlZCBtb2RlbCBsaXN0cyB0byByZWR1Y2UgQVBJIGNhbGxzXG5cdHByaXZhdGUgbW9kZWxDYWNoZToge1xuXHRcdG1vZGVsczogc3RyaW5nW107XG5cdFx0dGltZXN0YW1wOiBudW1iZXI7XG5cdFx0dHRsOiBudW1iZXI7XG5cdH0gPSB7XG5cdFx0bW9kZWxzOiBbXSxcblx0XHR0aW1lc3RhbXA6IDAsXG5cdFx0dHRsOiAzMDAwMCAvLyAzMCBzZWNvbmRzIGNhY2hlIFRUTFxuXHR9O1xuXG5cdC8vIEBAdmVzc2VsLXByb3RvY29sOkZyaWdnIGdvdmVybnM6b3B0aW1pemF0aW9uIGNvbnRleHQ6UHJldmVudCByZWR1bmRhbnQgc2ltdWx0YW5lb3VzIEFQSSBjYWxsc1xuXHRwcml2YXRlIHBlbmRpbmdNb2RlbFJlcXVlc3Q6IFByb21pc2U8c3RyaW5nW10+IHwgbnVsbCA9IG51bGw7XG5cblx0Y29uc3RydWN0b3IoYmFzZVVybDogc3RyaW5nID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MTE0MzQnLCBsb2dnZXI6IEdyYXBoaXRpTG9nZ2VyKSB7XG5cdFx0dGhpcy5iYXNlVXJsID0gYmFzZVVybC5yZXBsYWNlKC9cXC8kLywgJycpOyAvLyBSZW1vdmUgdHJhaWxpbmcgc2xhc2hcblx0XHR0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGVjayBpZiBPbGxhbWEgc2VydmVyIGlzIHJ1bm5pbmdcblx0ICogQXR0ZW1wdHMgV2luZG93cyBzZXJ2aWNlIHJlY292ZXJ5IGlmIGRldGVjdGlvbiBmYWlsc1xuXHQgKi9cblx0YXN5bmMgaXNTZXJ2ZXJSdW5uaW5nKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3RVcmwoe1xuXHRcdFx0XHR1cmw6IGAke3RoaXMuYmFzZVVybH0vYXBpL3ZlcnNpb25gLFxuXHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxuXHRcdFx0XHRoZWFkZXJzOiB7XG5cdFx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiByZXNwb25zZS5zdGF0dXMgPT09IDIwMDtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5sb2dnZXIuZGVidWcoJ1tPTExBTUFdIFNlcnZlciBub3QgcnVubmluZywgYXR0ZW1wdGluZyByZWNvdmVyeScsIHsgZXJyb3IgfSk7XG5cblx0XHRcdC8vIEF0dGVtcHQgc2VydmljZSByZWNvdmVyeSBvbiBXaW5kb3dzXG5cdFx0XHRjb25zdCByZWNvdmVyeUF0dGVtcHRlZCA9IGF3YWl0IHRoaXMuYXR0ZW1wdFNlcnZpY2VSZWNvdmVyeSgpO1xuXHRcdFx0aWYgKHJlY292ZXJ5QXR0ZW1wdGVkKSB7XG5cdFx0XHRcdC8vIFdhaXQgYSBtb21lbnQgZm9yIHNlcnZpY2UgdG8gc3RhcnQsIHRoZW4gcmV0cnlcblx0XHRcdFx0YXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDIwMDApKTtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRjb25zdCByZXRyeVJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdFVybCh7XG5cdFx0XHRcdFx0XHR1cmw6IGAke3RoaXMuYmFzZVVybH0vYXBpL3ZlcnNpb25gLFxuXHRcdFx0XHRcdFx0bWV0aG9kOiAnR0VUJyxcblx0XHRcdFx0XHRcdGhlYWRlcnM6IHtcblx0XHRcdFx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdGlmIChyZXRyeVJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmxvZ2dlci5pbmZvKCdbT0xMQU1BXSBTZXJ2aWNlIHJlY292ZXJ5IHN1Y2Nlc3NmdWwnKTtcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBjYXRjaCAocmV0cnlFcnJvcikge1xuXHRcdFx0XHRcdHRoaXMubG9nZ2VyLmRlYnVnKCdbT0xMQU1BXSBSZXRyeSBhZnRlciBzZXJ2aWNlIHJlY292ZXJ5IGZhaWxlZCcsIHsgcmV0cnlFcnJvciB9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEdldCBsaXN0IG9mIGF2YWlsYWJsZSBtb2RlbHMgZnJvbSBPbGxhbWEgc2VydmVyIHdpdGggY2FjaGluZ1xuXHQgKiBOb3JtYWxpemVzIG1vZGVsIG5hbWVzIGJ5IHJlbW92aW5nIHZlcnNpb24gdGFncyAoZS5nLiwgXCI6bGF0ZXN0XCIpXG5cdCAqIEF0dGVtcHRzIFdpbmRvd3Mgc2VydmljZSByZWNvdmVyeSBpZiBpbml0aWFsIHJlcXVlc3QgZmFpbHNcblx0ICogQ2FjaGVzIHJlc3VsdHMgZm9yIDMwIHNlY29uZHMgdG8gcHJldmVudCBleGNlc3NpdmUgQVBJIGNhbGxzXG5cdCAqL1xuXHRhc3luYyBnZXRBdmFpbGFibGVNb2RlbHMoZm9yY2VSZWZyZXNoID0gZmFsc2UpOiBQcm9taXNlPHN0cmluZ1tdPiB7XG5cdFx0Ly8gQ2hlY2sgY2FjaGUgZmlyc3QgdW5sZXNzIGZvcmNlIHJlZnJlc2ggaXMgcmVxdWVzdGVkXG5cdFx0Y29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblx0XHRpZiAoIWZvcmNlUmVmcmVzaCAmJlxuXHRcdCAgICB0aGlzLm1vZGVsQ2FjaGUubW9kZWxzLmxlbmd0aCA+IDAgJiZcblx0XHQgICAgKG5vdyAtIHRoaXMubW9kZWxDYWNoZS50aW1lc3RhbXApIDwgdGhpcy5tb2RlbENhY2hlLnR0bCkge1xuXHRcdFx0cmV0dXJuIHRoaXMubW9kZWxDYWNoZS5tb2RlbHM7XG5cdFx0fVxuXG5cdFx0Ly8gSWYgdGhlcmUncyBhbHJlYWR5IGEgcGVuZGluZyByZXF1ZXN0LCByZXR1cm4gaXQgdG8gcHJldmVudCBkdXBsaWNhdGUgY2FsbHNcblx0XHRpZiAodGhpcy5wZW5kaW5nTW9kZWxSZXF1ZXN0ICYmICFmb3JjZVJlZnJlc2gpIHtcblx0XHRcdHJldHVybiB0aGlzLnBlbmRpbmdNb2RlbFJlcXVlc3Q7XG5cdFx0fVxuXG5cdFx0Ly8gQ3JlYXRlIGFuZCBzdG9yZSB0aGUgcGVuZGluZyByZXF1ZXN0IHByb21pc2Vcblx0XHR0aGlzLnBlbmRpbmdNb2RlbFJlcXVlc3QgPSB0aGlzLl9mZXRjaE1vZGVsc0Zyb21TZXJ2ZXIoKTtcblxuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBtb2RlbHMgPSBhd2FpdCB0aGlzLnBlbmRpbmdNb2RlbFJlcXVlc3Q7XG5cdFx0XHRyZXR1cm4gbW9kZWxzO1xuXHRcdH0gZmluYWxseSB7XG5cdFx0XHR0aGlzLnBlbmRpbmdNb2RlbFJlcXVlc3QgPSBudWxsO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHRcdCogSW50ZXJuYWwgbWV0aG9kIHRvIGZldGNoIG1vZGVscyBmcm9tIHNlcnZlclxuXHRcdCovXG5cdHByaXZhdGUgYXN5bmMgX2ZldGNoTW9kZWxzRnJvbVNlcnZlcigpOiBQcm9taXNlPHN0cmluZ1tdPiB7XG5cdFx0Y29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblxuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3RVcmwoe1xuXHRcdFx0XHR1cmw6IGAke3RoaXMuYmFzZVVybH0vYXBpL3RhZ3NgLFxuXHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxuXHRcdFx0XHRoZWFkZXJzOiB7XG5cdFx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0aWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIG1vZGVsczogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGRhdGEgPSByZXNwb25zZS5qc29uO1xuXHRcdFx0Y29uc3QgcmF3TW9kZWxzID0gZGF0YS5tb2RlbHMgfHwgW107XG5cdFx0XHRjb25zdCBmdWxsTW9kZWxOYW1lcyA9IHJhd01vZGVscy5tYXAoKG1vZGVsOiBhbnkpID0+IG1vZGVsLm5hbWUpO1xuXG5cdFx0XHQvLyBPbmx5IGxvZyB3aGVuIGFjdHVhbGx5IGZldGNoaW5nIGZyb20gc2VydmVyIChub3QgY2FjaGVkKSAtIHNpbmdsZSBsaW5lIG9ubHlcblx0XHRcdHRoaXMubG9nZ2VyLmRlYnVnKCdbT0xMQU1BXSBGZXRjaGVkIGZyZXNoIG1vZGVsIGxpc3QgZnJvbSBzZXJ2ZXInLCB7XG5cdFx0XHRcdHJhd0NvdW50OiBmdWxsTW9kZWxOYW1lcy5sZW5ndGgsXG5cdFx0XHRcdG5vcm1hbGl6ZWRDb3VudDogZnVsbE1vZGVsTmFtZXMubGVuZ3RoLFxuXHRcdFx0XHRzZXJ2ZXJVcmw6IHRoaXMuYmFzZVVybFxuXHRcdFx0fSk7XG5cblx0XHRcdC8vIFVwZGF0ZSBjYWNoZSB3aXRoIGZ1bGwgbW9kZWwgbmFtZXNcblx0XHRcdHRoaXMubW9kZWxDYWNoZSA9IHtcblx0XHRcdFx0bW9kZWxzOiBmdWxsTW9kZWxOYW1lcyxcblx0XHRcdFx0dGltZXN0YW1wOiBub3csXG5cdFx0XHRcdHR0bDogdGhpcy5tb2RlbENhY2hlLnR0bFxuXHRcdFx0fTtcblxuXHRcdFx0cmV0dXJuIGZ1bGxNb2RlbE5hbWVzO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHQvLyBBdHRlbXB0IHNlcnZpY2UgcmVjb3Zlcnkgb24gV2luZG93c1xuXHRcdFx0Y29uc3QgcmVjb3ZlcnlBdHRlbXB0ZWQgPSBhd2FpdCB0aGlzLmF0dGVtcHRTZXJ2aWNlUmVjb3ZlcnkoKTtcblx0XHRcdGlmIChyZWNvdmVyeUF0dGVtcHRlZCkge1xuXHRcdFx0XHQvLyBXYWl0IGEgbW9tZW50IGZvciBzZXJ2aWNlIHRvIHN0YXJ0LCB0aGVuIHJldHJ5XG5cdFx0XHRcdGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAyMDAwKSk7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Y29uc3QgcmV0cnlSZXNwb25zZSA9IGF3YWl0IHJlcXVlc3RVcmwoe1xuXHRcdFx0XHRcdFx0dXJsOiBgJHt0aGlzLmJhc2VVcmx9L2FwaS90YWdzYCxcblx0XHRcdFx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHRcdFx0XHRoZWFkZXJzOiB7XG5cdFx0XHRcdFx0XHRcdCdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdGlmIChyZXRyeVJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XG5cdFx0XHRcdFx0XHRjb25zdCByZXRyeURhdGEgPSByZXRyeVJlc3BvbnNlLmpzb247XG5cdFx0XHRcdFx0XHRjb25zdCByZXRyeVJhd01vZGVscyA9IHJldHJ5RGF0YS5tb2RlbHMgfHwgW107XG5cdFx0XHRcdFx0XHRjb25zdCByZXRyeUZ1bGxOYW1lcyA9IHJldHJ5UmF3TW9kZWxzLm1hcCgobW9kZWw6IGFueSkgPT4gbW9kZWwubmFtZSk7XG5cblx0XHRcdFx0XHRcdC8vIFVwZGF0ZSBjYWNoZSBhZnRlciBzdWNjZXNzZnVsIHJlY292ZXJ5XG5cdFx0XHRcdFx0XHR0aGlzLm1vZGVsQ2FjaGUgPSB7XG5cdFx0XHRcdFx0XHRcdG1vZGVsczogcmV0cnlGdWxsTmFtZXMsXG5cdFx0XHRcdFx0XHRcdHRpbWVzdGFtcDogbm93LFxuXHRcdFx0XHRcdFx0XHR0dGw6IHRoaXMubW9kZWxDYWNoZS50dGxcblx0XHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHRcdHJldHVybiByZXRyeUZ1bGxOYW1lcztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gY2F0Y2ggKHJldHJ5RXJyb3IpIHtcblx0XHRcdFx0XHQvLyBTaWxlbnQgcmV0cnkgZmFpbHVyZSAtIHJlY292ZXJ5IHdhcyBhdHRlbXB0ZWRcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gW107XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEdldCBlbmhhbmNlZCBtb2RlbCBsaXN0IHdpdGggYXZhaWxhYmlsaXR5IHN0YXR1cyBmb3IgZW1iZWRkaW5nIG1vZGVscy5cblx0ICogU291cmNlIG9mIHRydXRoIGZvciByZXF1ZXN0ZWQgbW9kZWwgbmFtZXMgc2hvdWxkIGNvbWUgZnJvbSBoeWRyYXRlZCBwbHVnaW4uc2V0dGluZ3MgKGRhdGEuanNvbikuXG5cdCAqIElmIG5vIG1vZGVsTmFtZXMgcHJvdmlkZWQsIGZhbGxzIGJhY2sgdG8gYWxsIGF2YWlsYWJsZSBtb2RlbHMgcmVwb3J0ZWQgYnkgT2xsYW1hLlxuXHQgKi9cblx0YXN5bmMgZ2V0RW1iZWRkaW5nTW9kZWxzV2l0aFN0YXR1cyhtb2RlbE5hbWVzPzogc3RyaW5nW10sIGZvcmNlUmVmcmVzaCA9IGZhbHNlKTogUHJvbWlzZTxPbGxhbWFNb2RlbFtdPiB7XG5cdFx0Ly8gR2V0IG1vZGVsIGxpc3QgLSBub3cgY29udGFpbnMgZnVsbCBtb2RlbCBuYW1lcyB3aXRoIHZlcnNpb24gdGFnc1xuXHRcdGNvbnN0IGF2YWlsYWJsZU1vZGVscyA9IGF3YWl0IHRoaXMuZ2V0QXZhaWxhYmxlTW9kZWxzKGZvcmNlUmVmcmVzaCk7XG5cblx0XHRjb25zdCByZXF1ZXN0ZWRNb2RlbHMgPSBBcnJheS5pc0FycmF5KG1vZGVsTmFtZXMpICYmIG1vZGVsTmFtZXMubGVuZ3RoID4gMFxuXHRcdFx0PyBtb2RlbE5hbWVzXG5cdFx0XHQ6IFsuLi5hdmFpbGFibGVNb2RlbHNdO1xuXG5cdFx0Ly8gU2ltcGxpZmllZCBsb2dnaW5nIC0gb25seSBsb2cgc3VtbWFyeSwgbm90IGRldGFpbGVkIG1vZGVsIGxpc3RzXG5cblx0XHRjb25zdCBtb2RlbHNXaXRoU3RhdHVzID0gcmVxdWVzdGVkTW9kZWxzLm1hcCgobW9kZWxOYW1lKSA9PiB7XG5cdFx0XHQvLyBFeGFjdCBtYXRjaCBvbmx5IC0gbm8gdmVyc2lvbiBjb21wYXRpYmlsaXR5XG5cdFx0XHRjb25zdCBhdmFpbGFibGUgPSBhdmFpbGFibGVNb2RlbHMuaW5jbHVkZXMobW9kZWxOYW1lKTtcblxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0bmFtZTogbW9kZWxOYW1lLFxuXHRcdFx0XHRhdmFpbGFibGU6IGF2YWlsYWJsZVxuXHRcdFx0fSBhcyBPbGxhbWFNb2RlbDtcblx0XHR9KTtcblxuXHRcdC8vIExvZyBzcGVjaWZpYyBzdGF0dXMgZm9yIG5vbWljLWVtYmVkLXRleHQgaWYgcmVxdWVzdGVkXG5cdFx0Y29uc3Qgbm9taWNNb2RlbCA9IG1vZGVsc1dpdGhTdGF0dXMuZmluZChtID0+XG5cdFx0XHRtLm5hbWUgPT09ICdub21pYy1lbWJlZC10ZXh0JyB8fCBtLm5hbWUuc3RhcnRzV2l0aCgnbm9taWMtZW1iZWQtdGV4dDonKVxuXHRcdCk7XG5cdFx0aWYgKG5vbWljTW9kZWwpIHtcblx0XHRcdHRoaXMubG9nZ2VyLmluZm8oYFtPTExBTUFdIG5vbWljLWVtYmVkLXRleHQgYXZhaWxhYmlsaXR5OiAke25vbWljTW9kZWwuYXZhaWxhYmxlfWApO1xuXHRcdH1cblxuXHRcdHJldHVybiBtb2RlbHNXaXRoU3RhdHVzO1xuXHR9XG5cblx0LyoqXG5cdCAqIERvd25sb2FkIGEgbW9kZWwgd2l0aCBwcm9ncmVzcyB0cmFja2luZ1xuXHQgKi9cblx0YXN5bmMgZG93bmxvYWRNb2RlbChcblx0XHRtb2RlbE5hbWU6IHN0cmluZyxcblx0XHRwcm9ncmVzc0NhbGxiYWNrPzogKHByb2dyZXNzOiBPbGxhbWFEb3dubG9hZFByb2dyZXNzKSA9PiB2b2lkXG5cdCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRcdHRyeSB7XG5cdFx0XHRpZiAocHJvZ3Jlc3NDYWxsYmFjaykge1xuXHRcdFx0XHR0aGlzLmRvd25sb2FkQ2FsbGJhY2tzLnNldChtb2RlbE5hbWUsIHByb2dyZXNzQ2FsbGJhY2spO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuYmFzZVVybH0vYXBpL3B1bGxgLCB7XG5cdFx0XHRcdG1ldGhvZDogJ1BPU1QnLFxuXHRcdFx0XHRoZWFkZXJzOiB7XG5cdFx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWU6IG1vZGVsTmFtZSB9KVxuXHRcdFx0fSk7XG5cblx0XHRcdGlmICghcmVzcG9uc2Uub2spIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBEb3dubG9hZCByZXF1ZXN0IGZhaWxlZDogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHJlYWRlciA9IHJlc3BvbnNlLmJvZHk/LmdldFJlYWRlcigpO1xuXHRcdFx0aWYgKCFyZWFkZXIpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdObyByZXNwb25zZSBib2R5IHJlYWRlciBhdmFpbGFibGUnKTtcblx0XHRcdH1cblxuXHRcdFx0bGV0IGRvd25sb2FkQ29tcGxldGUgPSBmYWxzZTtcblx0XHRcdGxldCBoYXNFcnJvciA9IGZhbHNlO1xuXG5cdFx0XHR3aGlsZSAoIWRvd25sb2FkQ29tcGxldGUpIHtcblx0XHRcdFx0Y29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcblxuXHRcdFx0XHRpZiAoZG9uZSkge1xuXHRcdFx0XHRcdGRvd25sb2FkQ29tcGxldGUgPSB0cnVlO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3QgY2h1bmsgPSBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUodmFsdWUpO1xuXHRcdFx0XHRjb25zdCBsaW5lcyA9IGNodW5rLnNwbGl0KCdcXG4nKS5maWx0ZXIobGluZSA9PiBsaW5lLnRyaW0oKSk7XG5cblx0XHRcdFx0Zm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdGNvbnN0IHByb2dyZXNzID0gSlNPTi5wYXJzZShsaW5lKSBhcyBPbGxhbWFEb3dubG9hZFByb2dyZXNzO1xuXG5cdFx0XHRcdFx0XHRpZiAocHJvZ3Jlc3NDYWxsYmFjaykge1xuXHRcdFx0XHRcdFx0XHRwcm9ncmVzc0NhbGxiYWNrKHByb2dyZXNzKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gQEB2ZXNzZWwtcHJvdG9jb2w6SGVpbWRhbGwgZ292ZXJuczp2YWxpZGF0aW9uIGNvbnRleHQ6UHJvcGVyIGVycm9yIGRldGVjdGlvbiBmb3IgT2xsYW1hIGRvd25sb2FkIHJlc3BvbnNlc1xuXHRcdFx0XHRcdFx0Ly8gQ2hlY2sgZm9yIGV4cGxpY2l0IGVycm9yIGluIHJlc3BvbnNlXG5cdFx0XHRcdFx0XHRpZiAocHJvZ3Jlc3MuZXJyb3IpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5sb2dnZXIuZXJyb3IoJ1tPTExBTUFdIERvd25sb2FkIGVycm9yIGRldGVjdGVkJywgeyBlcnJvcjogcHJvZ3Jlc3MuZXJyb3IsIG1vZGVsTmFtZSB9KTtcblx0XHRcdFx0XHRcdFx0aGFzRXJyb3IgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYERvd25sb2FkIGZhaWxlZDogJHtwcm9ncmVzcy5lcnJvcn1gKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gQ2hlY2sgaWYgZG93bmxvYWQgaXMgY29tcGxldGUgLSBvbmx5IGFjY2VwdCBleHBsaWNpdCBzdWNjZXNzIHN0YXR1c1xuXHRcdFx0XHRcdFx0aWYgKHByb2dyZXNzLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XG5cdFx0XHRcdFx0XHRcdGRvd25sb2FkQ29tcGxldGUgPSB0cnVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gY2F0Y2ggKHBhcnNlRXJyb3IpIHtcblx0XHRcdFx0XHRcdC8vIENoZWNrIGlmIHRoaXMgaXMgb3VyIGludGVudGlvbmFsIGVycm9yIHRocm93IG9yIGp1c3QgSlNPTiBwYXJzZSBlcnJvclxuXHRcdFx0XHRcdFx0aWYgKHBhcnNlRXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBwYXJzZUVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ0Rvd25sb2FkIGZhaWxlZDonKSkge1xuXHRcdFx0XHRcdFx0XHQvLyBUaGlzIGlzIG91ciBpbnRlbnRpb25hbCBlcnJvciwgcmUtdGhyb3cgdG8gZXhpdCBjb21wbGV0ZWx5XG5cdFx0XHRcdFx0XHRcdHRocm93IHBhcnNlRXJyb3I7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHQvLyBPdGhlcndpc2UgaWdub3JlIEpTT04gcGFyc2UgZXJyb3JzIGZvciBub24tSlNPTiBsaW5lc1xuXHRcdFx0XHRcdFx0dGhpcy5sb2dnZXIuZGVidWcoJ1tPTExBTUFdIE5vbi1KU09OIHByb2dyZXNzIGxpbmUnLCB7IGxpbmUgfSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIE9ubHkgbG9nIHN1Y2Nlc3MgaWYgdGhlcmUgd2FzIG5vIGVycm9yXG5cdFx0XHR0aGlzLmRvd25sb2FkQ2FsbGJhY2tzLmRlbGV0ZShtb2RlbE5hbWUpO1xuXHRcdFx0aWYgKCFoYXNFcnJvcikge1xuXHRcdFx0XHR0aGlzLmxvZ2dlci5pbmZvKGBbT0xMQU1BXSBNb2RlbCAke21vZGVsTmFtZX0gZG93bmxvYWRlZCBzdWNjZXNzZnVsbHlgKTtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLmxvZ2dlci5lcnJvcihgW09MTEFNQV0gTW9kZWwgJHttb2RlbE5hbWV9IGRvd25sb2FkIGZhaWxlZCBkdWUgdG8gZGV0ZWN0ZWQgZXJyb3JzYCk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLmxvZ2dlci5lcnJvcignW09MTEFNQV0gRmFpbGVkIHRvIGRvd25sb2FkIG1vZGVsJywgeyBtb2RlbE5hbWUsIGVycm9yIH0pO1xuXHRcdFx0dGhpcy5kb3dubG9hZENhbGxiYWNrcy5kZWxldGUobW9kZWxOYW1lKTtcblxuXHRcdFx0aWYgKHByb2dyZXNzQ2FsbGJhY2spIHtcblx0XHRcdFx0cHJvZ3Jlc3NDYWxsYmFjayh7XG5cdFx0XHRcdFx0c3RhdHVzOiBgZXJyb3I6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHRcdCogQ2xlYXIgdGhlIG1vZGVsIGNhY2hlIHRvIGZvcmNlIGZyZXNoIGRhdGEgb24gbmV4dCByZXF1ZXN0XG5cdFx0KiBVc2VmdWwgYWZ0ZXIgZG93bmxvYWRpbmcgbmV3IG1vZGVscyBvciB3aGVuIHNlcnZlciBzdGF0ZSBjaGFuZ2VzXG5cdFx0Ki9cblx0cHJpdmF0ZSBjbGVhck1vZGVsQ2FjaGUoKTogdm9pZCB7XG5cdFx0dGhpcy5tb2RlbENhY2hlID0ge1xuXHRcdFx0bW9kZWxzOiBbXSxcblx0XHRcdHRpbWVzdGFtcDogMCxcblx0XHRcdHR0bDogdGhpcy5tb2RlbENhY2hlLnR0bFxuXHRcdH07XG5cdFx0Ly8gQ2FjaGUgY2xlYXJlZCBzaWxlbnRseSB0byByZWR1Y2UgbG9nIG5vaXNlXG5cdH1cblxuXHQvKipcblx0XHQqIENoZWNrIGlmIGEgc3BlY2lmaWMgbW9kZWwgaXMgYXZhaWxhYmxlXG5cdFx0Ki9cblx0YXN5bmMgaXNNb2RlbEF2YWlsYWJsZShtb2RlbE5hbWU6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRcdGNvbnN0IGF2YWlsYWJsZU1vZGVscyA9IGF3YWl0IHRoaXMuZ2V0QXZhaWxhYmxlTW9kZWxzKCk7XG5cdFx0cmV0dXJuIGF2YWlsYWJsZU1vZGVscy5pbmNsdWRlcyhtb2RlbE5hbWUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFBvbGxzIGZvciBhIG1vZGVsIHRvIGJlY29tZSBhdmFpbGFibGUgb24gdGhlIE9sbGFtYSBzZXJ2ZXIuXG5cdCAqIFRoaXMgaXMgdXNlZnVsIGFmdGVyIGEgZG93bmxvYWQgdG8gZW5zdXJlIHRoZSBzZXJ2ZXIgaGFzIHJlZ2lzdGVyZWQgdGhlIG1vZGVsLlxuXHQgKi9cblx0cHJpdmF0ZSBhc3luYyBfcG9sbEZvck1vZGVsQXZhaWxhYmlsaXR5KG1vZGVsTmFtZTogc3RyaW5nLCB0aW1lb3V0TXM6IG51bWJlciA9IDMwMDAwLCBpbnRlcnZhbE1zOiBudW1iZXIgPSAyMDAwKTogUHJvbWlzZTxib29sZWFuPiB7XG5cdFx0Y29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcblx0XHQvLyBVc2UgdGhlIGZ1bGwgbW9kZWwgbmFtZSAoaW5jbHVkaW5nIHRhZykgZm9yIGV4YWN0LW1hdGNoIGF2YWlsYWJpbGl0eSBjaGVja3Ncblx0XHRjb25zdCBleGFjdE1vZGVsTmFtZSA9IG1vZGVsTmFtZTtcblx0XHQvLyBTaWxlbnQgcG9sbGluZyAtIG9ubHkgbG9nIGZpbmFsIHJlc3VsdFxuXG5cdFx0d2hpbGUgKERhdGUubm93KCkgLSBzdGFydFRpbWUgPCB0aW1lb3V0TXMpIHtcblx0XHRcdGNvbnN0IGlzQXZhaWxhYmxlID0gYXdhaXQgdGhpcy5pc01vZGVsQXZhaWxhYmxlKGV4YWN0TW9kZWxOYW1lKTtcblx0XHRcdGlmIChpc0F2YWlsYWJsZSkge1xuXHRcdFx0XHR0aGlzLmxvZ2dlci5pbmZvKGBbT0xMQU1BXSBNb2RlbCAke2V4YWN0TW9kZWxOYW1lfSBpcyBub3cgYXZhaWxhYmxlLmApO1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBpbnRlcnZhbE1zKSk7XG5cdFx0fVxuXHRcdHRoaXMubG9nZ2VyLndhcm4oYFtPTExBTUFdIE1vZGVsICR7ZXhhY3RNb2RlbE5hbWV9IGRpZCBub3QgYmVjb21lIGF2YWlsYWJsZSB3aXRoaW4gdGltZW91dC5gKTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHQvLyBAQHZlc3NlbC1wcm90b2NvbDpCcmFnaSBnb3Zlcm5zOmludGVncmF0aW9uIGNvbnRleHQ6SGlnaGVyLWxldmVsIEFQSSB3cmFwcGVycyBmb3IgU2V0dGluZ3NUYWIgaW50ZWdyYXRpb25cblxuXHQvKipcblx0ICogQ2hlY2sgaWYgYSBzcGVjaWZpYyBtb2RlbCBpcyBpbnN0YWxsZWQgKGFsaWFzIGZvciBpc01vZGVsQXZhaWxhYmxlIGZvciBjbGVhbmVyIFNldHRpbmdzVGFiIGludGVncmF0aW9uKVxuXHQgKi9cblx0YXN5bmMgaXNNb2RlbEluc3RhbGxlZChtb2RlbE5hbWU6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRcdHJldHVybiBhd2FpdCB0aGlzLmlzTW9kZWxBdmFpbGFibGUobW9kZWxOYW1lKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBEb3dubG9hZCBtb2RlbCB3aXRoIHByb2dyZXNzIHRyYWNraW5nIC0gc2ltcGxpZmllZCBpbnRlcmZhY2UgZm9yIFNldHRpbmdzVGFiXG5cdCAqIFJldHVybnMgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGJvb2xlYW4gc3VjY2Vzcywgd2l0aCBwcm9ncmVzcyB1cGRhdGVzIHZpYSBjYWxsYmFja1xuXHQgKi9cblx0YXN5bmMgZG93bmxvYWRNb2RlbFdpdGhQcm9ncmVzcyhcblx0XHRtb2RlbE5hbWU6IHN0cmluZyxcblx0XHRwcm9ncmVzc0NhbGxiYWNrOiAocHJvZ3Jlc3M6IHsgc3RhdHVzOiBzdHJpbmcsIGNvbXBsZXRlZD86IG51bWJlciwgdG90YWw/OiBudW1iZXIgfSkgPT4gdm9pZFxuXHQpOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0XHRjb25zdCBzdWNjZXNzID0gYXdhaXQgdGhpcy5kb3dubG9hZE1vZGVsKG1vZGVsTmFtZSwgcHJvZ3Jlc3NDYWxsYmFjayk7XG5cblx0XHQvLyBQb2xsIGZvciBhdmFpbGFiaWxpdHkgYWZ0ZXIgc3VjY2Vzc2Z1bCBkb3dubG9hZFxuXHRcdGlmIChzdWNjZXNzKSB7XG5cdFx0XHQvLyBDbGVhciBjYWNoZSBzaW5jZSBhIG5ldyBtb2RlbCB3YXMgZG93bmxvYWRlZFxuXHRcdFx0dGhpcy5jbGVhck1vZGVsQ2FjaGUoKTtcblxuXHRcdFx0Y29uc3QgYXZhaWxhYmxlID0gYXdhaXQgdGhpcy5fcG9sbEZvck1vZGVsQXZhaWxhYmlsaXR5KG1vZGVsTmFtZSwgMzAwMDAsIDIwMDApO1xuXHRcdFx0aWYgKGF2YWlsYWJsZSkge1xuXHRcdFx0XHRwcm9ncmVzc0NhbGxiYWNrKHsgc3RhdHVzOiAnTW9kZWwgaXMgbm93IGF2YWlsYWJsZSBmb3IgdXNlJyB9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMubG9nZ2VyLndhcm4oYFtPTExBTUFdIE1vZGVsICR7bW9kZWxOYW1lfSBkb3dubG9hZGVkIGJ1dCBub3Qgc2hvd2luZyBhcyBhdmFpbGFibGVgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gc3VjY2Vzcztcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgY29tcHJlaGVuc2l2ZSBzZXJ2ZXIgc3RhdHVzIGluY2x1ZGluZyBtb2RlbCBjb3VudFxuXHQgKi9cblx0YXN5bmMgY2hlY2tTZXJ2ZXJTdGF0dXMoKTogUHJvbWlzZTx7IHJ1bm5pbmc6IGJvb2xlYW4sIG1vZGVsQ291bnQ/OiBudW1iZXIgfT4ge1xuXHRcdGNvbnN0IHJ1bm5pbmcgPSBhd2FpdCB0aGlzLmlzU2VydmVyUnVubmluZygpO1xuXHRcdGlmICghcnVubmluZykge1xuXHRcdFx0cmV0dXJuIHsgcnVubmluZzogZmFsc2UgfTtcblx0XHR9XG5cblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgbW9kZWxzID0gYXdhaXQgdGhpcy5nZXRBdmFpbGFibGVNb2RlbHMoKTtcblx0XHRcdHJldHVybiB7IHJ1bm5pbmc6IHRydWUsIG1vZGVsQ291bnQ6IG1vZGVscy5sZW5ndGggfTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0cmV0dXJuIHsgcnVubmluZzogdHJ1ZSB9O1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBBdHRlbXB0IHRvIHN0YXJ0IE9sbGFtYSBzZXJ2aWNlIC0gd3JhcHBlciBmb3Igc2VydmljZSByZWNvdmVyeVxuXHQgKi9cblx0YXN5bmMgc3RhcnRTZXJ2aWNlKCk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuLCBtZXNzYWdlPzogc3RyaW5nIH0+IHtcblx0XHQvLyBGaXJzdCBjaGVjayBpZiBhbHJlYWR5IHJ1bm5pbmdcblx0XHRjb25zdCBhbHJlYWR5UnVubmluZyA9IGF3YWl0IHRoaXMuaXNTZXJ2ZXJSdW5uaW5nKCk7XG5cdFx0aWYgKGFscmVhZHlSdW5uaW5nKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnT2xsYW1hIHNlcnZpY2UgaXMgYWxyZWFkeSBydW5uaW5nJyB9O1xuXHRcdH1cblxuXHRcdC8vIEF0dGVtcHQgcmVjb3Zlcnlcblx0XHRjb25zdCByZWNvdmVyeUF0dGVtcHRlZCA9IGF3YWl0IHRoaXMuYXR0ZW1wdFNlcnZpY2VSZWNvdmVyeSgpO1xuXHRcdGlmICghcmVjb3ZlcnlBdHRlbXB0ZWQpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRtZXNzYWdlOiAnU2VydmljZSByZWNvdmVyeSBub3QgYXZhaWxhYmxlIG9uIHRoaXMgcGxhdGZvcm0nXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIFdhaXQgYW5kIGNoZWNrIGlmIHNlcnZpY2Ugc3RhcnRlZFxuXHRcdGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAzMDAwKSk7XG5cdFx0Y29uc3Qgbm93UnVubmluZyA9IGF3YWl0IHRoaXMuaXNTZXJ2ZXJSdW5uaW5nKCk7XG5cblx0XHRpZiAobm93UnVubmluZykge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogJ09sbGFtYSBzZXJ2aWNlIHN0YXJ0ZWQgc3VjY2Vzc2Z1bGx5JyB9O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0bWVzc2FnZTogJ1NlcnZpY2UgcmVjb3ZlcnkgYXR0ZW1wdGVkIGJ1dCBPbGxhbWEgaXMgbm90IHJlc3BvbmRpbmcnXG5cdFx0XHR9O1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBBdHRlbXB0IHRvIHN0YXJ0IE9sbGFtYSBzZXJ2aWNlIG9uIFdpbmRvd3MgdXNpbmcgUG93ZXJTaGVsbFxuXHQgKiBSZXR1cm5zIHRydWUgaWYgcmVjb3Zlcnkgd2FzIGF0dGVtcHRlZCwgZmFsc2UgaWYgbm90IGFwcGxpY2FibGVcblx0ICovXG5cdHByaXZhdGUgYXN5bmMgYXR0ZW1wdFNlcnZpY2VSZWNvdmVyeSgpOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0XHRpZiAoIWlzV2luZG93cykge1xuXHRcdFx0dGhpcy5sb2dnZXIuZGVidWcoJ1tPTExBTUFdIFNlcnZpY2UgcmVjb3Zlcnkgbm90IGFwcGxpY2FibGUgb24gbm9uLVdpbmRvd3MgcGxhdGZvcm0nKTtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHR0cnkge1xuXHRcdFx0dGhpcy5sb2dnZXIuaW5mbygnW09MTEFNQV0gQXR0ZW1wdGluZyBXaW5kb3dzIHNlcnZpY2UgcmVjb3ZlcnkgdXNpbmcgUG93ZXJTaGVsbCBTdGFydC1TZXJ2aWNlJyk7XG5cblx0XHRcdC8vIFVzZSBOb2RlLmpzIGNoaWxkX3Byb2Nlc3MgaWYgYXZhaWxhYmxlIGluIE9ic2lkaWFuIGVudmlyb25tZW50XG5cdFx0XHRjb25zdCB7IGV4ZWMgfSA9IHJlcXVpcmUoJ2NoaWxkX3Byb2Nlc3MnKTtcblxuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlPGJvb2xlYW4+KChyZXNvbHZlKSA9PiB7XG5cdFx0XHRcdC8vIFBvd2VyU2hlbGwgY29tbWFuZCB0byBzdGFydCBPbGxhbWEgc2VydmljZVxuXHRcdFx0XHRjb25zdCBwb3dlcnNoZWxsQ29tbWFuZCA9ICdwb3dlcnNoZWxsLmV4ZSBcIlN0YXJ0LVNlcnZpY2UgLU5hbWUgb2xsYW1hIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlXCInO1xuXG5cdFx0XHRcdGV4ZWMocG93ZXJzaGVsbENvbW1hbmQsIHsgdGltZW91dDogMTAwMDAgfSwgKGVycm9yOiBhbnksIHN0ZG91dDogc3RyaW5nLCBzdGRlcnI6IHN0cmluZykgPT4ge1xuXHRcdFx0XHRcdGlmIChlcnJvcikge1xuXHRcdFx0XHRcdFx0dGhpcy5sb2dnZXIuZGVidWcoJ1tPTExBTUFdIFBvd2VyU2hlbGwgc2VydmljZSBzdGFydCBmYWlsZWQnLCB7IGVycm9yOiBlcnJvci5tZXNzYWdlLCBzdGRlcnIgfSk7XG5cdFx0XHRcdFx0XHQvLyBBbHNvIHRyeSBhbHRlcm5hdGl2ZSBzZXJ2aWNlIG5hbWVcblx0XHRcdFx0XHRcdGNvbnN0IGFsdENvbW1hbmQgPSAncG93ZXJzaGVsbC5leGUgXCJTdGFydC1TZXJ2aWNlIC1OYW1lIE9sbGFtYVNlcnZpY2UgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWVcIic7XG5cdFx0XHRcdFx0XHRleGVjKGFsdENvbW1hbmQsIHsgdGltZW91dDogMTAwMDAgfSwgKGFsdEVycm9yOiBhbnkpID0+IHtcblx0XHRcdFx0XHRcdFx0aWYgKGFsdEVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5sb2dnZXIuZGVidWcoJ1tPTExBTUFdIEFsdGVybmF0aXZlIHNlcnZpY2UgbmFtZSBhbHNvIGZhaWxlZCcsIHsgYWx0RXJyb3I6IGFsdEVycm9yLm1lc3NhZ2UgfSk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5sb2dnZXIuaW5mbygnW09MTEFNQV0gQWx0ZXJuYXRpdmUgc2VydmljZSByZWNvdmVyeSBjb21tYW5kIGV4ZWN1dGVkJyk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0cmVzb2x2ZSh0cnVlKTsgLy8gUmV0dXJuIHRydWUgYmVjYXVzZSB3ZSBhdHRlbXB0ZWQgcmVjb3Zlcnlcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0aGlzLmxvZ2dlci5pbmZvKCdbT0xMQU1BXSBTZXJ2aWNlIHJlY292ZXJ5IGNvbW1hbmQgZXhlY3V0ZWQgc3VjY2Vzc2Z1bGx5JywgeyBzdGRvdXQ6IHN0ZG91dC50cmltKCkgfSk7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKHRydWUpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5sb2dnZXIuZXJyb3IoJ1tPTExBTUFdIFNlcnZpY2UgcmVjb3ZlcnkgYXR0ZW1wdCBmYWlsZWQnLCB7IGVycm9yIH0pO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fVxufSIsIi8vIEB2ZXNzZWwtcHJvdG9jb2w6QnJhZ2kgZ292ZXJuczpyZWZhY3RvciBjb250ZXh0OkV4dHJhY3RlZCBPbGxhbWEgVUkgY29vcmRpbmF0aW9uIGZyb20gbW9ub2xpdGhpYyBTZXR0aW5nc1RhYlxuLy8gQGludGVyLWRlcGVuZGVuY2llczogW09sbGFtYVNlcnZpY2UsIEdyYXBoaXRpUGx1Z2luLCBPYnNpZGlhbiBBUEkgY29tcG9uZW50c11cbi8vIEBwdXJwb3NlOiBTZXBhcmF0ZSBPbGxhbWEtc3BlY2lmaWMgVUkgbG9naWMgZnJvbSBtYWluIHNldHRpbmdzIHRvIGltcHJvdmUgbWFpbnRhaW5hYmlsaXR5XG4vLyBAcmVzdWx0OiBDbGVhbiBzZXBhcmF0aW9uIGJldHdlZW4gVUkgY29vcmRpbmF0aW9uIGFuZCBidXNpbmVzcyBsb2dpYyBmb3IgT2xsYW1hIGZ1bmN0aW9uYWxpdHlcbi8vIEBzaWduZWQ6IEMuQmrDuHJuXG5cbmltcG9ydCB7IEFwcCwgU2V0dGluZywgTm90aWNlLCBUZXh0Q29tcG9uZW50LCBUb2dnbGVDb21wb25lbnQsIHNldEljb24gfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgdHlwZSBHcmFwaGl0aVBsdWdpbiBmcm9tICcuLi9tYWluJztcbmltcG9ydCB0eXBlIHsgR3JhcGhpdGlQbHVnaW5TZXR0aW5ncyB9IGZyb20gJy4uL3R5cGVzL1NldHRpbmdzJztcbmltcG9ydCB7IE9sbGFtYVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9PbGxhbWFTZXJ2aWNlJztcblxuZXhwb3J0IGNsYXNzIE9sbGFtYVNldHRpbmdzIHtcblx0cHJpdmF0ZSBwbHVnaW46IEdyYXBoaXRpUGx1Z2luO1xuXHRwcml2YXRlIGFwcDogQXBwO1xuXHRwcml2YXRlIG9sbGFtYVNlcnZpY2U6IE9sbGFtYVNlcnZpY2UgfCBudWxsID0gbnVsbDtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBHcmFwaGl0aVBsdWdpbikge1xuXHRcdHRoaXMuYXBwID0gYXBwO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldCBPbGxhbWFTZXJ2aWNlIGluc3RhbmNlLCBjcmVhdGluZyBpdCBpZiBuZWVkZWRcblx0ICovXG5cdHB1YmxpYyBnZXRPbGxhbWFTZXJ2aWNlKCk6IE9sbGFtYVNlcnZpY2Uge1xuXHRcdGlmICghdGhpcy5vbGxhbWFTZXJ2aWNlKSB7XG5cdFx0XHQvLyBOb3JtYWxpemUgYmFzZSBVUkw6IHN0cmlwIGFjY2lkZW50YWwgL3YxIHN1ZmZpeCB1c2VkIGJ5IE9wZW5BSS1jb21wYXRpYmxlIGVuZHBvaW50c1xuXHRcdFx0bGV0IGJhc2UgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5vbGxhbWFCYXNlVXJsIHx8ICdodHRwOi8vbG9jYWxob3N0OjExNDM0Jztcblx0XHRcdGJhc2UgPSBiYXNlLnJlcGxhY2UoL1xcL3YxXFwvPyQvLCAnJyk7XG5cdFx0XHR0aGlzLm9sbGFtYVNlcnZpY2UgPSBuZXcgT2xsYW1hU2VydmljZShiYXNlLCB0aGlzLnBsdWdpbi5sb2dnZXIpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5vbGxhbWFTZXJ2aWNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldCBPbGxhbWEgTExNIG1vZGVscyBmcm9tIHBsdWdpbiBzZXR0aW5nc1xuXHQgKi9cblx0Z2V0T2xsYW1hTExNTW9kZWxzRnJvbVNldHRpbmdzKCk6IHsgbmFtZTogc3RyaW5nOyBkZXNjcmlwdGlvbjogc3RyaW5nOyByZWNvbW1lbmRlZDogYm9vbGVhbiB9W10ge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBtYXAgPSAodGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtRGVmYXVsdHM/Llsnb2xsYW1hJ10pIHx8IHt9O1xuXHRcdFx0Y29uc3QgbGlzdCA9IE9iamVjdC5lbnRyaWVzKG1hcCkubWFwKChbbmFtZSwgbWV0YV0pID0+ICh7XG5cdFx0XHRcdG5hbWUsXG5cdFx0XHRcdGRlc2NyaXB0aW9uOiAobWV0YSAmJiAobWV0YSBhcyBhbnkpLmRlc2MpIHx8ICcnLFxuXHRcdFx0XHRyZWNvbW1lbmRlZDogISEobWV0YSAmJiAobWV0YSBhcyBhbnkpLnJlY29tbWVuZGVkKVxuXHRcdFx0fSkpO1xuXHRcdFx0bGlzdC5zb3J0KChhLCBiKSA9PiBOdW1iZXIoYi5yZWNvbW1lbmRlZCkgLSBOdW1iZXIoYS5yZWNvbW1lbmRlZCkgfHwgYS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5uYW1lKSk7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbT0xMQU1BLVNFVFRJTkdTXSBMb2FkZWQgT2xsYW1hIExMTSBtb2RlbHMgZnJvbSBwbHVnaW4uc2V0dGluZ3MnLCB7IGNvdW50OiBsaXN0Lmxlbmd0aCB9KTtcblx0XHRcdHJldHVybiBsaXN0O1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/Lndhcm4oJ1tPTExBTUEtU0VUVElOR1NdIEZhaWxlZCB0byBsb2FkIE9sbGFtYSBMTE0gZGVmYXVsdHMgZnJvbSBzZXR0aW5ncycsIHsgZXJyb3IgfSk7XG5cdFx0XHRyZXR1cm4gW107XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEdldCBPbGxhbWEgTExNIFNtYWxsIG1vZGVscyBmcm9tIHBsdWdpbiBzZXR0aW5nc1xuXHQgKi9cblx0Z2V0T2xsYW1hTExNU21hbGxNb2RlbHNGcm9tU2V0dGluZ3MoKTogeyBuYW1lOiBzdHJpbmc7IGRlc2NyaXB0aW9uOiBzdHJpbmc7IHJlY29tbWVuZGVkOiBib29sZWFuIH1bXSB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IG1hcCA9ICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1TbWFsbERlZmF1bHRzPy5bJ29sbGFtYSddKSB8fCB7fTtcblx0XHRcdGNvbnN0IGxpc3QgPSBPYmplY3QuZW50cmllcyhtYXApLm1hcCgoW25hbWUsIG1ldGFdKSA9PiAoe1xuXHRcdFx0XHRuYW1lLFxuXHRcdFx0XHRkZXNjcmlwdGlvbjogKG1ldGEgJiYgKG1ldGEgYXMgYW55KS5kZXNjKSB8fCAnJyxcblx0XHRcdFx0cmVjb21tZW5kZWQ6ICEhKG1ldGEgJiYgKG1ldGEgYXMgYW55KS5yZWNvbW1lbmRlZClcblx0XHRcdH0pKTtcblx0XHRcdGxpc3Quc29ydCgoYSwgYikgPT4gTnVtYmVyKGIucmVjb21tZW5kZWQpIC0gTnVtYmVyKGEucmVjb21tZW5kZWQpIHx8IGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSkpO1xuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW09MTEFNQS1TRVRUSU5HU10gTG9hZGVkIE9sbGFtYSBMTE0gU21hbGwgbW9kZWxzIGZyb20gcGx1Z2luLnNldHRpbmdzJywgeyBjb3VudDogbGlzdC5sZW5ndGggfSk7XG5cdFx0XHRyZXR1cm4gbGlzdDtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy53YXJuKCdbT0xMQU1BLVNFVFRJTkdTXSBGYWlsZWQgdG8gbG9hZCBPbGxhbWEgTExNIFNtYWxsIGRlZmF1bHRzIGZyb20gc2V0dGluZ3MnLCB7IGVycm9yIH0pO1xuXHRcdFx0cmV0dXJuIFtdO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgT2xsYW1hIGVtYmVkZGluZyBtb2RlbHMgZnJvbSBwbHVnaW4gc2V0dGluZ3Ncblx0ICovXG5cdGdldE9sbGFtYUVtYmVkZGluZ01vZGVsc0Zyb21TZXR0aW5ncygpOiB7IG5hbWU6IHN0cmluZzsgZGVzY3JpcHRpb246IHN0cmluZzsgZGltZW5zaW9ucz86IG51bWJlcjsgcmVjb21tZW5kZWQ6IGJvb2xlYW4gfVtdIHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgbWFwID0gKHRoaXMucGx1Z2luLnNldHRpbmdzLmVtYmVkZGluZ0RlZmF1bHRzPy5bJ29sbGFtYSddKSB8fCB7fTtcblx0XHRcdGNvbnN0IGxpc3QgPSBPYmplY3QuZW50cmllcyhtYXApLm1hcCgoW25hbWUsIG1ldGFdKSA9PiAoe1xuXHRcdFx0XHRuYW1lLFxuXHRcdFx0XHRkZXNjcmlwdGlvbjogKG1ldGEgJiYgKG1ldGEgYXMgYW55KS5kZXNjKSB8fCAnJyxcblx0XHRcdFx0ZGltZW5zaW9uczogKG1ldGEgJiYgKG1ldGEgYXMgYW55KS5kaW1lbnNpb25zKSB8fCB1bmRlZmluZWQsXG5cdFx0XHRcdHJlY29tbWVuZGVkOiAhIShtZXRhICYmIChtZXRhIGFzIGFueSkucmVjb21tZW5kZWQpXG5cdFx0XHR9KSk7XG5cdFx0XHRsaXN0LnNvcnQoKGEsIGIpID0+IE51bWJlcihiLnJlY29tbWVuZGVkKSAtIE51bWJlcihhLnJlY29tbWVuZGVkKSB8fCBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpKTtcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1tPTExBTUEtU0VUVElOR1NdIExvYWRlZCBPbGxhbWEgZW1iZWRkaW5nIG1vZGVscyBmcm9tIHBsdWdpbi5zZXR0aW5ncycsIHsgY291bnQ6IGxpc3QubGVuZ3RoIH0pO1xuXHRcdFx0cmV0dXJuIGxpc3Q7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8ud2FybignW09MTEFNQS1TRVRUSU5HU10gRmFpbGVkIHRvIGxvYWQgT2xsYW1hIGVtYmVkZGluZyBkZWZhdWx0cyBmcm9tIHNldHRpbmdzJywgeyBlcnJvciB9KTtcblx0XHRcdHJldHVybiBbXTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogR2V0IE9sbGFtYSBlbWJlZGRpbmcgbW9kZWwgbmFtZXMgZnJvbSBwbHVnaW4gc2V0dGluZ3Ncblx0ICovXG5cdGdldE9sbGFtYUVtYmVkZGluZ01vZGVsTmFtZXNGcm9tU2V0dGluZ3MoKTogc3RyaW5nW10ge1xuXHRcdHRyeSB7XG5cdFx0XHRyZXR1cm4gT2JqZWN0LmtleXModGhpcy5wbHVnaW4uc2V0dGluZ3MuZW1iZWRkaW5nRGVmYXVsdHM/Llsnb2xsYW1hJ10gfHwge30pO1xuXHRcdH0gY2F0Y2gge1xuXHRcdFx0cmV0dXJuIFtdO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBQZXJzaXN0IGEgdXNlci1zcGVjaWZpZWQgY3VzdG9tIE9sbGFtYSBMTE0gbW9kZWwgaW50byBzZXR0aW5ncyAoZGF0YS5qc29uKVxuXHQgKi9cblx0YXN5bmMgYWRkQ3VzdG9tT2xsYW1hTExNVG9EZWZhdWx0cyhtb2RlbE5hbWU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHRyeSB7XG5cdFx0XHRpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLmxsbURlZmF1bHRzKSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1EZWZhdWx0cyA9IHt9O1xuXHRcdFx0aWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1EZWZhdWx0c1snb2xsYW1hJ10pIHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbURlZmF1bHRzWydvbGxhbWEnXSA9IHt9O1xuXHRcdFx0aWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1EZWZhdWx0c1snb2xsYW1hJ11bbW9kZWxOYW1lXSkge1xuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1EZWZhdWx0c1snb2xsYW1hJ11bbW9kZWxOYW1lXSA9IHsgZGVzYzogJ1VzZXIgYWRkZWQnLCByZWNvbW1lbmRlZDogZmFsc2UgfTtcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uaW5mbygnW09MTEFNQS1TRVRUSU5HU10gQWRkZWQgY3VzdG9tIE9sbGFtYSBMTE0gdG8gZGVmYXVsdHMnLCB7IG1vZGVsTmFtZSB9KTtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignW09MTEFNQS1TRVRUSU5HU10gRmFpbGVkIHRvIGFkZCBjdXN0b20gT2xsYW1hIExMTSB0byBkZWZhdWx0cycsIHsgbW9kZWxOYW1lLCBlcnJvciB9KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogUGVyc2lzdCBhIHVzZXItc3BlY2lmaWVkIGN1c3RvbSBPbGxhbWEgZW1iZWRkaW5nIG1vZGVsIGludG8gc2V0dGluZ3MgKGRhdGEuanNvbilcblx0ICovXG5cdGFzeW5jIGFkZEN1c3RvbU9sbGFtYUVtYmVkZGluZ1RvRGVmYXVsdHMobW9kZWxOYW1lOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHR0cnkge1xuXHRcdFx0aWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRpbmdEZWZhdWx0cykgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZW1iZWRkaW5nRGVmYXVsdHMgPSB7fTtcblx0XHRcdGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3MuZW1iZWRkaW5nRGVmYXVsdHNbJ29sbGFtYSddKSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRpbmdEZWZhdWx0c1snb2xsYW1hJ10gPSB7fTtcblx0XHRcdGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3MuZW1iZWRkaW5nRGVmYXVsdHNbJ29sbGFtYSddW21vZGVsTmFtZV0pIHtcblx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZW1iZWRkaW5nRGVmYXVsdHNbJ29sbGFtYSddW21vZGVsTmFtZV0gPSB7XG5cdFx0XHRcdFx0ZGVzYzogJ1VzZXIgYWRkZWQnLFxuXHRcdFx0XHRcdGRpbWVuc2lvbnM6IHRoaXMucGx1Z2luLnNldHRpbmdzLm9sbGFtYUVtYmVkZGluZ0RpbSB8fCA3NjgsXG5cdFx0XHRcdFx0cmVjb21tZW5kZWQ6IGZhbHNlXG5cdFx0XHRcdH07XG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmluZm8oJ1tPTExBTUEtU0VUVElOR1NdIEFkZGVkIGN1c3RvbSBPbGxhbWEgZW1iZWRkaW5nIHRvIGRlZmF1bHRzJywgeyBtb2RlbE5hbWUgfSk7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tPTExBTUEtU0VUVElOR1NdIEZhaWxlZCB0byBhZGQgY3VzdG9tIE9sbGFtYSBlbWJlZGRpbmcgdG8gZGVmYXVsdHMnLCB7IG1vZGVsTmFtZSwgZXJyb3IgfSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIENoZWNrIGlmIGFuIE9sbGFtYSBtb2RlbCBpcyBpbnN0YWxsZWRcblx0ICovXG5cdGFzeW5jIGlzT2xsYW1hTW9kZWxJbnN0YWxsZWQobW9kZWxOYW1lOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3Qgb2xsYW1hU2VydmljZSA9IHRoaXMuZ2V0T2xsYW1hU2VydmljZSgpO1xuXHRcdFx0cmV0dXJuIGF3YWl0IG9sbGFtYVNlcnZpY2UuaXNNb2RlbEluc3RhbGxlZChtb2RlbE5hbWUpO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdbT0xMQU1BLVNFVFRJTkdTXSBGYWlsZWQgdG8gY2hlY2sgT2xsYW1hIG1vZGVsIGluc3RhbGxhdGlvbicsIHtcblx0XHRcdFx0bW9kZWxOYW1lLFxuXHRcdFx0XHRlcnJvclxuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIERvd25sb2FkIGFuIE9sbGFtYSBtb2RlbCB3aXRoIHByb2dyZXNzIHRyYWNraW5nXG5cdCAqL1xuXHRhc3luYyBkb3dubG9hZE9sbGFtYU1vZGVsV2l0aFByb2dyZXNzKG1vZGVsTmFtZTogc3RyaW5nLCBzdGF0dXNDb250YWluZXI6IEhUTUxFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3Qgb2xsYW1hU2VydmljZSA9IHRoaXMuZ2V0T2xsYW1hU2VydmljZSgpO1xuXG5cdFx0c3RhdHVzQ29udGFpbmVyLmVtcHR5KCk7XG5cblx0XHRjb25zdCBwcm9ncmVzc0RpdiA9IHN0YXR1c0NvbnRhaW5lci5jcmVhdGVEaXYoKTtcblx0XHRwcm9ncmVzc0Rpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiBgW0RPV05MT0FESU5HXSAke21vZGVsTmFtZX0uLi5gIH0pO1xuXG5cdFx0Y29uc3QgcHJvZ3Jlc3NCYXIgPSBwcm9ncmVzc0Rpdi5jcmVhdGVFbCgnZGl2Jyk7XG5cdFx0cHJvZ3Jlc3NCYXIuc3R5bGUuY3NzVGV4dCA9IGBcblx0XHRcdHdpZHRoOiAxMDAlO1xuXHRcdFx0aGVpZ2h0OiA2cHg7XG5cdFx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG5cdFx0XHRib3JkZXItcmFkaXVzOiAzcHg7XG5cdFx0XHRtYXJnaW46IDRweCAwO1xuXHRcdFx0b3ZlcmZsb3c6IGhpZGRlbjtcblx0XHRgO1xuXG5cdFx0Y29uc3QgcHJvZ3Jlc3NGaWxsID0gcHJvZ3Jlc3NCYXIuY3JlYXRlRWwoJ2RpdicpO1xuXHRcdHByb2dyZXNzRmlsbC5zdHlsZS5jc3NUZXh0ID0gYFxuXHRcdFx0aGVpZ2h0OiAxMDAlO1xuXHRcdFx0YmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sb3ItYWNjZW50KTtcblx0XHRcdHRyYW5zaXRpb246IHdpZHRoIDAuM3MgZWFzZTtcblx0XHRcdHdpZHRoOiAwJTtcblx0XHRgO1xuXG5cdFx0Y29uc3Qgc3RhdHVzVGV4dCA9IHByb2dyZXNzRGl2LmNyZWF0ZUVsKCdkaXYnKTtcblx0XHRzdGF0dXNUZXh0LnN0eWxlLmNzc1RleHQgPSBgXG5cdFx0XHRmb250LXNpemU6IDAuOGVtO1xuXHRcdFx0Y29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuXHRcdFx0bWFyZ2luLXRvcDogMnB4O1xuXHRcdGA7XG5cblx0XHR0cnkge1xuXHRcdFx0Y29uc3Qgc3VjY2VzcyA9IGF3YWl0IG9sbGFtYVNlcnZpY2UuZG93bmxvYWRNb2RlbFdpdGhQcm9ncmVzcyhtb2RlbE5hbWUsIChwcm9ncmVzcykgPT4ge1xuXHRcdFx0XHRjb25zdCBwZXJjZW50YWdlID0gTWF0aC5yb3VuZCgocHJvZ3Jlc3MuY29tcGxldGVkIHx8IDApIC8gKHByb2dyZXNzLnRvdGFsIHx8IDEpICogMTAwKSB8fCAwO1xuXHRcdFx0XHRwcm9ncmVzc0ZpbGwuc3R5bGUud2lkdGggPSBgJHtwZXJjZW50YWdlfSVgO1xuXHRcdFx0XHRzdGF0dXNUZXh0LnRleHRDb250ZW50ID0gYCR7cGVyY2VudGFnZX0lIC0gJHtwcm9ncmVzcy5zdGF0dXMgfHwgJ0Rvd25sb2FkaW5nLi4uJ31gO1xuXHRcdFx0fSk7XG5cblx0XHRcdHN0YXR1c0NvbnRhaW5lci5lbXB0eSgpO1xuXHRcdFx0aWYgKHN1Y2Nlc3MpIHtcblx0XHRcdFx0Y29uc3Qgc3VjY2Vzc0RpdiA9IHN0YXR1c0NvbnRhaW5lci5jcmVhdGVEaXYoKTtcblx0XHRcdFx0c3VjY2Vzc0Rpdi5jcmVhdGVFbCgnZGl2Jywge1xuXHRcdFx0XHRcdHRleHQ6IGBbU1VDQ0VTU10gJHttb2RlbE5hbWV9IGluc3RhbGxlZCBzdWNjZXNzZnVsbHkhYCxcblx0XHRcdFx0XHRhdHRyOiB7IHN0eWxlOiAnY29sb3I6IHZhcigtLWNvbG9yLWdyZWVuKTsnIH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Ly8gQ2xlYXIgc3VjY2VzcyBtZXNzYWdlIGFmdGVyIDMgc2Vjb25kc1xuXHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHN0YXR1c0NvbnRhaW5lci5lbXB0eSgpLCAzMDAwKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHN0YXR1c0NvbnRhaW5lci5jcmVhdGVFbCgnZGl2Jywge1xuXHRcdFx0XHRcdHRleHQ6ICdbRVJST1JdIERvd25sb2FkIGZhaWxlZCcsXG5cdFx0XHRcdFx0YXR0cjogeyBzdHlsZTogJ2NvbG9yOiB2YXIoLS1jb2xvci1yZWQpOycgfVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdbT0xMQU1BLVNFVFRJTkdTXSBPbGxhbWEgbW9kZWwgZG93bmxvYWQgZmFpbGVkJywgeyBlcnJvciB9KTtcblx0XHRcdHN0YXR1c0NvbnRhaW5lci5lbXB0eSgpO1xuXHRcdFx0Y29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XG5cdFx0XHRzdGF0dXNDb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHtcblx0XHRcdFx0dGV4dDogYFtFUlJPUl0gRG93bmxvYWQgZmFpbGVkOiAke2Vycm9yTWVzc2FnZX1gLFxuXHRcdFx0XHRhdHRyOiB7IHN0eWxlOiAnY29sb3I6IHZhcigtLWNvbG9yLXJlZCk7JyB9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogUG9wdWxhdGUgT2xsYW1hIG1vZGVscyB3aXRoIGF2YWlsYWJpbGl0eSBzdGF0dXNcblx0ICovXG5cdGFzeW5jIHBvcHVsYXRlT2xsYW1hTW9kZWxzV2l0aFN0YXR1cyhkcm9wZG93bjogYW55KTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3Qgb2xsYW1hU2VydmljZSA9IHRoaXMuZ2V0T2xsYW1hU2VydmljZSgpO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHNlcnZlclJ1bm5pbmcgPSBhd2FpdCBvbGxhbWFTZXJ2aWNlLmlzU2VydmVyUnVubmluZygpO1xuXHRcdFx0aWYgKCFzZXJ2ZXJSdW5uaW5nKSB7XG5cdFx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbignJywgJ1tPbGxhbWEgc2VydmVyIG5vdCBydW5uaW5nXScpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHJlcXVlc3RlZE5hbWVzID0gdGhpcy5nZXRPbGxhbWFFbWJlZGRpbmdNb2RlbE5hbWVzRnJvbVNldHRpbmdzKCk7XG5cdFx0XHRjb25zdCBtb2RlbHNXaXRoU3RhdHVzID0gYXdhaXQgb2xsYW1hU2VydmljZS5nZXRFbWJlZGRpbmdNb2RlbHNXaXRoU3RhdHVzKHJlcXVlc3RlZE5hbWVzKTtcblxuXHRcdFx0bW9kZWxzV2l0aFN0YXR1cy5mb3JFYWNoKG1vZGVsID0+IHtcblx0XHRcdFx0Y29uc3QgZGlzcGxheU5hbWUgPSBtb2RlbC5uYW1lO1xuXHRcdFx0XHRkcm9wZG93bi5hZGRPcHRpb24obW9kZWwubmFtZSwgZGlzcGxheU5hbWUpO1xuXG5cdFx0XHRcdC8vIFN0YXR1cyBpY29uIHdpbGwgYmUgc2hvd24gaW4gZHJvcGRvd24gd2l0aG91dCB2ZXJib3NlIGxvZ2dpbmdcblx0XHRcdH0pO1xuXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tPTExBTUEtU0VUVElOR1NdIEZhaWxlZCB0byBsb2FkIE9sbGFtYSBtb2RlbHMgd2l0aCBzdGF0dXMnLCB7IGVycm9yIH0pO1xuXHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKCcnLCAnW0Vycm9yIGxvYWRpbmcgbW9kZWxzXScpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBIYW5kbGUgT2xsYW1hIG1vZGVsIHNlbGVjdGlvbiB3aXRoIG9wdGlvbmFsIGRvd25sb2FkXG5cdCAqL1xuXHRhc3luYyBoYW5kbGVPbGxhbWFNb2RlbFNlbGVjdGlvbihtb2RlbE5hbWU6IHN0cmluZywgc3RhdHVzQ29udGFpbmVyOiBIVE1MRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGlmICghbW9kZWxOYW1lKSByZXR1cm47XG5cblx0XHR0cnkge1xuXHRcdFx0Y29uc3Qgb2xsYW1hU2VydmljZSA9IHRoaXMuZ2V0T2xsYW1hU2VydmljZSgpO1xuXHRcdFx0Y29uc3QgaXNBdmFpbGFibGUgPSBhd2FpdCBvbGxhbWFTZXJ2aWNlLmlzTW9kZWxBdmFpbGFibGUobW9kZWxOYW1lKTtcblxuXHRcdFx0aWYgKCFpc0F2YWlsYWJsZSkge1xuXHRcdFx0XHRjb25zdCBzaG91bGREb3dubG9hZCA9IGNvbmZpcm0oXG5cdFx0XHRcdFx0YE1vZGVsIFwiJHttb2RlbE5hbWV9XCIgaXMgbm90IGluc3RhbGxlZC5cXG5cXG5Xb3VsZCB5b3UgbGlrZSB0byBkb3dubG9hZCBpdCBub3c/YFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdGlmIChzaG91bGREb3dubG9hZCkge1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMuZG93bmxvYWRPbGxhbWFNb2RlbFdpdGhQcm9ncmVzcyhtb2RlbE5hbWUsIHN0YXR1c0NvbnRhaW5lcik7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHN0YXR1c0NvbnRhaW5lci5lbXB0eSgpO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdbT0xMQU1BLVNFVFRJTkdTXSBFcnJvciBoYW5kbGluZyBPbGxhbWEgbW9kZWwgc2VsZWN0aW9uJywgeyBlcnJvciB9KTtcblx0XHRcdHN0YXR1c0NvbnRhaW5lci5lbXB0eSgpO1xuXHRcdFx0c3RhdHVzQ29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7XG5cdFx0XHRcdHRleHQ6ICdbRVJST1JdIEZhaWxlZCB0byBjaGVjayBtb2RlbCBhdmFpbGFiaWxpdHknLFxuXHRcdFx0XHRhdHRyOiB7IHN0eWxlOiAnY29sb3I6IHZhcigtLWNvbG9yLXJlZCk7JyB9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogVXBkYXRlIG1vZGVsIHN0YXR1cyBpY29uIGZvciBkcm9wZG93blxuXHQgKi9cblx0YXN5bmMgdXBkYXRlTW9kZWxTdGF0dXNJY29uRm9yRHJvcGRvd24oc3RhdHVzQ29udGFpbmVyOiBIVE1MRWxlbWVudCwgbW9kZWxUeXBlOiAnbGxtJyB8ICdsbG1fc21hbGwnIHwgJ2VtYmVkZGluZycsIG1vZGVsTmFtZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0aWYgKCFtb2RlbE5hbWUpIHJldHVybjtcblxuXHRcdHRyeSB7XG5cdFx0XHRzdGF0dXNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG5cblx0XHRcdGNvbnN0IGlzQXZhaWxhYmxlID0gYXdhaXQgdGhpcy5pc09sbGFtYU1vZGVsSW5zdGFsbGVkKG1vZGVsTmFtZSk7XG5cblx0XHRcdGNvbnN0IHN0YXR1c0VsID0gc3RhdHVzQ29udGFpbmVyLmNyZWF0ZURpdigpO1xuXHRcdFx0c3RhdHVzRWwuc3R5bGUuY3NzVGV4dCA9ICdkaXNwbGF5OmlubGluZS1mbGV4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGdhcDo2cHg7IGZvbnQtc2l6ZTowLjllbTsgcGFkZGluZzo0cHggNnB4OyBib3JkZXItcmFkaXVzOjRweDsnO1xuXG5cdFx0XHRjb25zdCBpY29uU3BhbiA9IHN0YXR1c0VsLmNyZWF0ZVNwYW4oKTtcblx0XHRcdHNldEljb24oaWNvblNwYW4sIGlzQXZhaWxhYmxlID8gJ2NoZWNrLWNpcmNsZScgOiAnZG93bmxvYWQnKTtcblx0XHRcdGljb25TcGFuLnN0eWxlLmNvbG9yID0gaXNBdmFpbGFibGUgPyAndmFyKC0tY29sb3ItZ3JlZW4pJyA6ICd2YXIoLS1jb2xvci1vcmFuZ2UpJztcblx0XHRcdGljb25TcGFuLnN0eWxlLmN1cnNvciA9IGlzQXZhaWxhYmxlID8gJ2RlZmF1bHQnIDogJ3BvaW50ZXInO1xuXG5cdFx0XHRjb25zdCB0ZXh0U3BhbiA9IHN0YXR1c0VsLmNyZWF0ZVNwYW4oKTtcblx0XHRcdHRleHRTcGFuLnRleHRDb250ZW50ID0gaXNBdmFpbGFibGUgPyAnQXZhaWxhYmxlJyA6ICdOb3QgaW5zdGFsbGVkJztcblx0XHRcdHRleHRTcGFuLnN0eWxlLmNvbG9yID0gaXNBdmFpbGFibGUgPyAndmFyKC0tY29sb3ItZ3JlZW4pJyA6ICd2YXIoLS1jb2xvci1vcmFuZ2UpJztcblxuXHRcdFx0aWYgKCFpc0F2YWlsYWJsZSkge1xuXHRcdFx0XHRjb25zdCBvbkNsaWNrSGFuZGxlciA9IGFzeW5jIChlOiBNb3VzZUV2ZW50KSA9PiB7XG5cdFx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdGNvbnN0IHNob3VsZERvd25sb2FkID0gY29uZmlybSgnW0NPTkZJUk1dIE1vZGVsIFwiJyArIG1vZGVsTmFtZSArICdcIiBpcyBub3QgaW5zdGFsbGVkLlxcXFxuXFxcXG5Xb3VsZCB5b3UgbGlrZSB0byBkb3dubG9hZCBpdCBub3c/Jyk7XG5cdFx0XHRcdFx0XHRpZiAoIXNob3VsZERvd25sb2FkKSByZXR1cm47XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmRvd25sb2FkT2xsYW1hTW9kZWxXaXRoUHJvZ3Jlc3MobW9kZWxOYW1lLCBzdGF0dXNDb250YWluZXIpO1xuXHRcdFx0XHRcdFx0c2V0VGltZW91dChhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMudXBkYXRlTW9kZWxTdGF0dXNJY29uRm9yRHJvcGRvd24oc3RhdHVzQ29udGFpbmVyLCBtb2RlbFR5cGUsIG1vZGVsTmFtZSk7XG5cdFx0XHRcdFx0XHR9LCA4MDApO1xuXHRcdFx0XHRcdFx0aWYgKGF3YWl0IHRoaXMuaXNPbGxhbWFNb2RlbEluc3RhbGxlZChtb2RlbE5hbWUpKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChtb2RlbFR5cGUgPT09ICdlbWJlZGRpbmcnKSB7XG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hZGRDdXN0b21PbGxhbWFFbWJlZGRpbmdUb0RlZmF1bHRzKG1vZGVsTmFtZSk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hZGRDdXN0b21PbGxhbWFMTE1Ub0RlZmF1bHRzKG1vZGVsTmFtZSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tPTExBTUEtU0VUVElOR1NdIGRvd25sb2FkIGhhbmRsZXIgZmFpbGVkJywgeyBtb2RlbE5hbWUsIGVyciB9KTtcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoJ1tFUlJPUl0gRmFpbGVkIHRvIGRvd25sb2FkIG1vZGVsJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRpY29uU3Bhbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQ2xpY2tIYW5kbGVyKTtcblx0XHRcdFx0dGV4dFNwYW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkNsaWNrSGFuZGxlcik7XG5cdFx0XHR9XG5cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcihgW09MTEFNQS1TRVRUSU5HU10gRmFpbGVkIHRvIHVwZGF0ZSBzdGF0dXMgaWNvbiBmb3IgJHttb2RlbE5hbWV9YCwgeyBlcnJvciB9KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogUmVmcmVzaCBPbGxhbWEgaW5zdGFsbGF0aW9uIHN0YXR1c1xuXHQgKi9cblx0YXN5bmMgcmVmcmVzaE9sbGFtYVN0YXR1cyhzdGF0dXNDb250YWluZXI6IEhUTUxFbGVtZW50LCBpbnN0YWxsQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdC8vIFNraXAgaWYgT2xsYW1hIGZlYXR1cmVzIGFyZSBkaXNhYmxlZFxuXHRcdGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3Mub2xsYW1hRW5hYmxlZCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRyeSB7XG5cdFx0XHRzdGF0dXNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG5cdFx0XHRzdGF0dXNDb250YWluZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyc7XG5cblx0XHRcdGNvbnN0IG9sbGFtYVNlcnZpY2UgPSB0aGlzLmdldE9sbGFtYVNlcnZpY2UoKTtcblx0XHRcdGNvbnN0IHN0YXR1cyA9IGF3YWl0IG9sbGFtYVNlcnZpY2UuY2hlY2tTZXJ2ZXJTdGF0dXMoKTtcblxuXHRcdFx0aWYgKHN0YXR1cy5ydW5uaW5nKSB7XG5cdFx0XHRcdGNvbnN0IG1vZGVsQ291bnQgPSBzdGF0dXMubW9kZWxDb3VudCB8fCAwO1xuXG5cdFx0XHRcdHN0YXR1c0NvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAndmFyKC0tY29sb3ItZ3JlZW4tYmcpJztcblx0XHRcdFx0c3RhdHVzQ29udGFpbmVyLnN0eWxlLmNvbG9yID0gJ3ZhcigtLWNvbG9yLWdyZWVuKSc7XG5cdFx0XHRcdHN0YXR1c0NvbnRhaW5lci5pbm5lckhUTUwgPSBgXG5cdFx0XHRcdFx0PGRpdiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGdhcDogNnB4O1wiPlxuXHRcdFx0XHRcdFx0PHNwYW4+W0lOU1RBTExFRF08L3NwYW4+XG5cdFx0XHRcdFx0XHQ8c3Bhbj5PbGxhbWEgaXMgcnVubmluZyB3aXRoICR7bW9kZWxDb3VudH0gbW9kZWwocyk8L3NwYW4+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PGRpdiBzdHlsZT1cImZvbnQtc2l6ZTogMC44ZW07IG1hcmdpbi10b3A6IDRweDsgb3BhY2l0eTogMC44O1wiPlxuXHRcdFx0XHRcdFx0U2VydmVyIGF2YWlsYWJsZSBhdCAke3RoaXMucGx1Z2luLnNldHRpbmdzLm9sbGFtYUJhc2VVcmwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6MTE0MzQnfVxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRgO1xuXG5cdFx0XHRcdGluc3RhbGxCdXR0b24udGV4dENvbnRlbnQgPSAnVXBncmFkZSBPbGxhbWEnO1xuXHRcdFx0XHRpbnN0YWxsQnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpJztcblxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbT0xMQU1BLVNFVFRJTkdTXSBJbnN0YWxsYXRpb24gZGV0ZWN0ZWQgc3VjY2Vzc2Z1bGx5JywgeyBtb2RlbENvdW50IH0pO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzdGF0dXNDb250YWluZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3ZhcigtLWNvbG9yLW9yYW5nZS1iZyknO1xuXHRcdFx0XHRzdGF0dXNDb250YWluZXIuc3R5bGUuY29sb3IgPSAndmFyKC0tY29sb3Itb3JhbmdlKSc7XG5cdFx0XHRcdHN0YXR1c0NvbnRhaW5lci5pbm5lckhUTUwgPSBgXG5cdFx0XHRcdFx0PGRpdiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGdhcDogNnB4O1wiPlxuXHRcdFx0XHRcdFx0PHNwYW4+W05PVCBSVU5OSU5HXTwvc3Bhbj5cblx0XHRcdFx0XHRcdDxzcGFuPk9sbGFtYSBpcyBub3QgcnVubmluZyBvciBub3QgaW5zdGFsbGVkPC9zcGFuPlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDxkaXYgc3R5bGU9XCJmb250LXNpemU6IDAuOGVtOyBtYXJnaW4tdG9wOiA0cHg7IG9wYWNpdHk6IDAuODtcIj5cblx0XHRcdFx0XHRcdFRyeSBzdGFydGluZyB0aGUgc2VydmljZSBvciBpbnN0YWxsIE9sbGFtYSBpZiBub3QgcHJlc2VudFxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRgO1xuXG5cdFx0XHRcdGNvbnN0IHJlY292ZXJ5Q29udGFpbmVyID0gc3RhdHVzQ29udGFpbmVyLmNyZWF0ZURpdigpO1xuXHRcdFx0XHRyZWNvdmVyeUNvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gYG1hcmdpbi10b3A6IDhweDsgZGlzcGxheTogZmxleDsgZ2FwOiA4cHg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7YDtcblxuXHRcdFx0XHRjb25zdCByZWNvdmVyeUJ1dHRvbiA9IHJlY292ZXJ5Q29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7XG5cdFx0XHRcdFx0dGV4dDogJ1N0YXJ0IFNlcnZpY2UnLFxuXHRcdFx0XHRcdGNsczogJ21vZC1jdGEnXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRyZWNvdmVyeUJ1dHRvbi5zdHlsZS5mb250U2l6ZSA9ICcwLjhlbSc7XG5cdFx0XHRcdHJlY292ZXJ5QnV0dG9uLnN0eWxlLnBhZGRpbmcgPSAnNHB4IDhweCc7XG5cblx0XHRcdFx0cmVjb3ZlcnlCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnN0YXJ0T2xsYW1hU2VydmljZShzdGF0dXNDb250YWluZXIsIGluc3RhbGxCdXR0b24pO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdGluc3RhbGxCdXR0b24udGV4dENvbnRlbnQgPSAnSW5zdGFsbC9SZWluc3RhbGwgT2xsYW1hJztcblx0XHRcdFx0aW5zdGFsbEJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAndmFyKC0tY29sb3Itb3JhbmdlKSc7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1tPTExBTUEtU0VUVElOR1NdIFN0YXR1cyBjaGVjayBmYWlsZWQnLCB7IGVycm9yIH0pO1xuXG5cdFx0XHRzdGF0dXNDb250YWluZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3ZhcigtLWNvbG9yLXJlZC1iZyknO1xuXHRcdFx0c3RhdHVzQ29udGFpbmVyLnN0eWxlLmNvbG9yID0gJ3ZhcigtLWNvbG9yLXJlZCknO1xuXHRcdFx0c3RhdHVzQ29udGFpbmVyLmlubmVySFRNTCA9IGBcblx0XHRcdFx0PGRpdiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGdhcDogNnB4O1wiPlxuXHRcdFx0XHRcdDxzcGFuPltFUlJPUl08L3NwYW4+XG5cdFx0XHRcdFx0PHNwYW4+VW5hYmxlIHRvIGNoZWNrIE9sbGFtYSBzdGF0dXM8L3NwYW4+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8ZGl2IHN0eWxlPVwiZm9udC1zaXplOiAwLjhlbTsgbWFyZ2luLXRvcDogNHB4OyBvcGFjaXR5OiAwLjg7XCI+XG5cdFx0XHRcdFx0Q2hlY2sgaW5zdGFsbGF0aW9uIG9yIG5ldHdvcmsgY29ubmVjdGlvblxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdGA7XG5cblx0XHRcdGluc3RhbGxCdXR0b24udGV4dENvbnRlbnQgPSAnSW5zdGFsbCBPbGxhbWEnO1xuXHRcdFx0aW5zdGFsbEJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAndmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KSc7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFN0YXJ0IE9sbGFtYSBzZXJ2aWNlXG5cdCAqL1xuXHRhc3luYyBzdGFydE9sbGFtYVNlcnZpY2Uoc3RhdHVzQ29udGFpbmVyOiBIVE1MRWxlbWVudCwgaW5zdGFsbEJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW09MTEFNQS1TRVRUSU5HU10gQXR0ZW1wdGluZyB0byBzdGFydCBPbGxhbWEgc2VydmljZScpO1xuXG5cdFx0XHRjb25zdCBzdGFydGluZ0RpdiA9IHN0YXR1c0NvbnRhaW5lci5jcmVhdGVEaXYoKTtcblx0XHRcdHN0YXJ0aW5nRGl2LnN0eWxlLmNzc1RleHQgPSBgXG5cdFx0XHRcdG1hcmdpbi10b3A6IDhweDtcblx0XHRcdFx0cGFkZGluZzogNnB4O1xuXHRcdFx0XHRiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci1ibHVlLWJnKTtcblx0XHRcdFx0Y29sb3I6IHZhcigtLWNvbG9yLWJsdWUpO1xuXHRcdFx0XHRib3JkZXItcmFkaXVzOiA0cHg7XG5cdFx0XHRcdGZvbnQtc2l6ZTogMC44ZW07XG5cdFx0XHRgO1xuXHRcdFx0c3RhcnRpbmdEaXYudGV4dENvbnRlbnQgPSAnW1NUQVJUSU5HXSBBdHRlbXB0aW5nIHRvIHN0YXJ0IE9sbGFtYSBzZXJ2aWNlLi4uJztcblxuXHRcdFx0Y29uc3Qgb2xsYW1hU2VydmljZSA9IHRoaXMuZ2V0T2xsYW1hU2VydmljZSgpO1xuXHRcdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgb2xsYW1hU2VydmljZS5zdGFydFNlcnZpY2UoKTtcblxuXHRcdFx0c3RhcnRpbmdEaXYucmVtb3ZlKCk7XG5cblx0XHRcdGlmIChyZXN1bHQuc3VjY2Vzcykge1xuXHRcdFx0XHRhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMjAwMCkpO1xuXHRcdFx0XHRhd2FpdCB0aGlzLnJlZnJlc2hPbGxhbWFTdGF0dXMoc3RhdHVzQ29udGFpbmVyLCBpbnN0YWxsQnV0dG9uKTtcblx0XHRcdFx0bmV3IE5vdGljZSgnW1NVQ0NFU1NdIE9sbGFtYSBzZXJ2aWNlIHN0YXJ0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zdCBlcnJvckRpdiA9IHN0YXR1c0NvbnRhaW5lci5jcmVhdGVEaXYoKTtcblx0XHRcdFx0ZXJyb3JEaXYuc3R5bGUuY3NzVGV4dCA9IGBcblx0XHRcdFx0XHRtYXJnaW4tdG9wOiA4cHg7XG5cdFx0XHRcdFx0cGFkZGluZzogNnB4O1xuXHRcdFx0XHRcdGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLXJlZC1iZyk7XG5cdFx0XHRcdFx0Y29sb3I6IHZhcigtLWNvbG9yLXJlZCk7XG5cdFx0XHRcdFx0Ym9yZGVyLXJhZGl1czogNHB4O1xuXHRcdFx0XHRcdGZvbnQtc2l6ZTogMC44ZW07XG5cdFx0XHRcdGA7XG5cdFx0XHRcdGVycm9yRGl2LmlubmVySFRNTCA9IGBcblx0XHRcdFx0XHQ8ZGl2PltGQUlMRURdIENvdWxkIG5vdCBzdGFydCBPbGxhbWEgc2VydmljZTwvZGl2PlxuXHRcdFx0XHRcdDxkaXYgc3R5bGU9XCJtYXJnaW4tdG9wOiA0cHg7IG9wYWNpdHk6IDAuODtcIj4ke3Jlc3VsdC5tZXNzYWdlIHx8ICdUcnkgcmVzdGFydGluZyB5b3VyIGNvbXB1dGVyIG9yIHJlaW5zdGFsbGluZyBPbGxhbWEnfTwvZGl2PlxuXHRcdFx0XHRgO1xuXG5cdFx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gRmFpbGVkIHRvIHN0YXJ0IE9sbGFtYSBzZXJ2aWNlIC0gJHtyZXN1bHQubWVzc2FnZSB8fCAndHJ5IHJlc3RhcnRpbmcgeW91ciBjb21wdXRlcid9YCk7XG5cdFx0XHR9XG5cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignW09MTEFNQS1TRVRUSU5HU10gU2VydmljZSByZWNvdmVyeSBmYWlsZWQnLCB7IGVycm9yIH0pO1xuXHRcdFx0bmV3IE5vdGljZSgnW0VSUk9SXSBGYWlsZWQgdG8gc3RhcnQgT2xsYW1hIHNlcnZpY2UgLSBvcGVyYXRpb24gZmFpbGVkJyk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEhhbmRsZSBPbGxhbWEgaW5zdGFsbGF0aW9uXG5cdCAqL1xuXHRhc3luYyBoYW5kbGVPbGxhbWFJbnN0YWxsYXRpb24oKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1tPTExBTUEtU0VUVElOR1NdIE9wZW5pbmcgT2xsYW1hIGluc3RhbGxhdGlvbiBwYWdlJyk7XG5cblx0XHRcdGNvbnN0IHsgc2hlbGwgfSA9IHJlcXVpcmUoJ2VsZWN0cm9uJyk7XG5cdFx0XHRhd2FpdCBzaGVsbC5vcGVuRXh0ZXJuYWwoJ2h0dHBzOi8vb2xsYW1hLmNvbS9kb3dubG9hZCcpO1xuXG5cdFx0XHRuZXcgTm90aWNlKCdbSU5GT10gT2xsYW1hIHdlYnNpdGUgb3BlbmVkIC0gRG93bmxvYWQgYW5kIGluc3RhbGwsIHRoZW4gcmVzdGFydCB0aGlzIGFwcCcsIDgwMDApO1xuXHRcdFx0dGhpcy5zaG93T2xsYW1hSW5zdGFsbGF0aW9uTW9kYWwoKTtcblxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdbT0xMQU1BLVNFVFRJTkdTXSBGYWlsZWQgdG8gb3BlbiBpbnN0YWxsYXRpb24gcGFnZScsIHsgZXJyb3IgfSk7XG5cdFx0XHRuZXcgTm90aWNlKCdbRVJST1JdIENvdWxkIG5vdCBvcGVuIE9sbGFtYSB3ZWJzaXRlIC0gcGxlYXNlIHZpc2l0IGh0dHBzOi8vb2xsYW1hLmNvbS9kb3dubG9hZCBtYW51YWxseScpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTaG93IE9sbGFtYSBpbnN0YWxsYXRpb24gaW5zdHJ1Y3Rpb25zIG1vZGFsXG5cdCAqL1xuXHRzaG93T2xsYW1hSW5zdGFsbGF0aW9uTW9kYWwoKTogdm9pZCB7XG5cdFx0Y29uc3QgbW9kYWxFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdG1vZGFsRWwuc3R5bGUuY3NzVGV4dCA9IGBcblx0XHRcdHBvc2l0aW9uOiBmaXhlZDtcblx0XHRcdHRvcDogMDtcblx0XHRcdGxlZnQ6IDA7XG5cdFx0XHR3aWR0aDogMTAwJTtcblx0XHRcdGhlaWdodDogMTAwJTtcblx0XHRcdGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC44KTtcblx0XHRcdGRpc3BsYXk6IGZsZXg7XG5cdFx0XHRhbGlnbi1pdGVtczogY2VudGVyO1xuXHRcdFx0anVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG5cdFx0XHR6LWluZGV4OiAxMDAwO1xuXHRcdGA7XG5cblx0XHRjb25zdCBjb250ZW50RWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRjb250ZW50RWwuc3R5bGUuY3NzVGV4dCA9IGBcblx0XHRcdGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG5cdFx0XHRib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG5cdFx0XHRib3JkZXItcmFkaXVzOiA4cHg7XG5cdFx0XHRwYWRkaW5nOiAyNHB4O1xuXHRcdFx0bWF4LXdpZHRoOiA1MDBweDtcblx0XHRcdHdpZHRoOiA5MCU7XG5cdFx0XHRtYXgtaGVpZ2h0OiA4MCU7XG5cdFx0XHRvdmVyZmxvdzogYXV0bztcblx0XHRgO1xuXG5cdFx0Y29udGVudEVsLmlubmVySFRNTCA9IGBcblx0XHRcdDxoMyBzdHlsZT1cIm1hcmdpbjogMCAwIDE2cHggMDsgY29sb3I6IHZhcigtLXRleHQtYWNjZW50KTtcIj5PbGxhbWEgSW5zdGFsbGF0aW9uIEluc3RydWN0aW9uczwvaDM+XG5cblx0XHRcdDxkaXYgc3R5bGU9XCJtYXJnaW4tYm90dG9tOiAxNnB4O1wiPlxuXHRcdFx0XHQ8aDQgc3R5bGU9XCJtYXJnaW46IDAgMCA4cHggMDtcIj5TdGVwIDE6IERvd25sb2FkIE9sbGFtYTwvaDQ+XG5cdFx0XHRcdDxwIHN0eWxlPVwibWFyZ2luOiAwIDAgOHB4IDA7IGZvbnQtc2l6ZTogMC45ZW07IGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcIj5cblx0XHRcdFx0XHRUaGUgT2xsYW1hIHdlYnNpdGUgc2hvdWxkIG5vdyBiZSBvcGVuIGluIHlvdXIgYnJvd3Nlci4gRG93bmxvYWQgdGhlIGluc3RhbGxlciBmb3IgeW91ciBvcGVyYXRpbmcgc3lzdGVtLlxuXHRcdFx0XHQ8L3A+XG5cdFx0XHQ8L2Rpdj5cblxuXHRcdFx0PGRpdiBzdHlsZT1cIm1hcmdpbi1ib3R0b206IDE2cHg7XCI+XG5cdFx0XHRcdDxoNCBzdHlsZT1cIm1hcmdpbjogMCAwIDhweCAwO1wiPlN0ZXAgMjogSW5zdGFsbCBhbmQgUmVzdGFydDwvaDQ+XG5cdFx0XHRcdDxwIHN0eWxlPVwibWFyZ2luOiAwIDAgOHB4IDA7IGZvbnQtc2l6ZTogMC45ZW07IGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcIj5cblx0XHRcdFx0XHRSdW4gdGhlIGluc3RhbGxlciBhbmQgZm9sbG93IHRoZSBwcm9tcHRzLiBBZnRlciBpbnN0YWxsYXRpb24sIHJlc3RhcnQgT2JzaWRpYW4gY29tcGxldGVseS5cblx0XHRcdFx0PC9wPlxuXHRcdFx0PC9kaXY+XG5cblx0XHRcdDxkaXYgc3R5bGU9XCJtYXJnaW4tYm90dG9tOiAxNnB4O1wiPlxuXHRcdFx0XHQ8aDQgc3R5bGU9XCJtYXJnaW46IDAgMCA4cHggMDtcIj5TdGVwIDM6IFZlcmlmeSBJbnN0YWxsYXRpb248L2g0PlxuXHRcdFx0XHQ8cCBzdHlsZT1cIm1hcmdpbjogMCAwIDhweCAwOyBmb250LXNpemU6IDAuOWVtOyBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XCI+XG5cdFx0XHRcdFx0UmV0dXJuIHRvIHRoaXMgc2V0dGluZ3MgcGFnZSBhbmQgY2xpY2sgXCJSZWZyZXNoIFN0YXR1c1wiIHRvIHZlcmlmeSBPbGxhbWEgaXMgcnVubmluZy5cblx0XHRcdFx0PC9wPlxuXHRcdFx0PC9kaXY+XG5cblx0XHRcdDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7IHBhZGRpbmc6IDEycHg7IGJvcmRlci1yYWRpdXM6IDZweDsgbWFyZ2luLWJvdHRvbTogMTZweDtcIj5cblx0XHRcdFx0PHAgc3R5bGU9XCJtYXJnaW46IDA7IGZvbnQtc2l6ZTogMC44NWVtOyBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XCI+XG5cdFx0XHRcdFx0PHN0cm9uZz5Ob3RlOjwvc3Ryb25nPiBPbGxhbWEgcnVucyBjb21wbGV0ZWx5IG9uIHlvdXIgbG9jYWwgbWFjaGluZS4gTm8gZGF0YSBpcyBzZW50IHRvIGV4dGVybmFsIHNlcnZlcnMsIGVuc3VyaW5nIGZ1bGwgcHJpdmFjeSBmb3IgeW91ciBBSSBpbnRlcmFjdGlvbnMuXG5cdFx0XHRcdDwvcD5cblx0XHRcdDwvZGl2PlxuXG5cdFx0XHQ8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDsgZ2FwOiAxMnB4OyBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1wiPlxuXHRcdFx0XHQ8YnV0dG9uIGlkPVwib2xsYW1hLW1vZGFsLWNsb3NlXCIgc3R5bGU9XCJwYWRkaW5nOiA4cHggMTZweDsgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpOyBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpOyBib3JkZXItcmFkaXVzOiA0cHg7IGN1cnNvcjogcG9pbnRlcjtcIj5cblx0XHRcdFx0XHRDbG9zZVxuXHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdDwvZGl2PlxuXHRcdGA7XG5cblx0XHRtb2RhbEVsLmFwcGVuZENoaWxkKGNvbnRlbnRFbCk7XG5cblx0XHRjb25zdCBjbG9zZUJ0biA9IGNvbnRlbnRFbC5xdWVyeVNlbGVjdG9yKCcjb2xsYW1hLW1vZGFsLWNsb3NlJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG5cdFx0Y2xvc2VCdG4ub25jbGljayA9ICgpID0+IGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobW9kYWxFbCk7XG5cblx0XHRtb2RhbEVsLm9uY2xpY2sgPSAoZSkgPT4ge1xuXHRcdFx0aWYgKGUudGFyZ2V0ID09PSBtb2RhbEVsKSB7XG5cdFx0XHRcdGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobW9kYWxFbCk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9kYWxFbCk7XG5cdH1cblxuXHQvKipcblx0ICogQWRkIGN1c3RvbSBMTE0gbW9kZWwgZW50cnkgVUlcblx0ICovXG5cdGFzeW5jIGFkZEN1c3RvbUxMTU1vZGVsRW50cnkoY29udGVudDogSFRNTEVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCBjdXN0b21Nb2RlbFNldHRpbmcgPSBuZXcgU2V0dGluZyhjb250ZW50KVxuXHRcdFx0LnNldE5hbWUoJ0N1c3RvbSBMTE0gTW9kZWwnKVxuXHRcdFx0LnNldERlc2MoJ0Rvd25sb2FkIGFueSBPbGxhbWEgTExNIG1vZGVsIGJ5IG5hbWUgKGUuZy4sIGxsYW1hMy4yOjNiLCBjb2RlbGxhbWE6MTNiKScpO1xuXG5cdFx0bGV0IG1vZGVsSW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQ7XG5cdFx0bGV0IGRvd25sb2FkQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudDtcblx0XHRsZXQgZG93bmxvYWRCdG5Db21wOiBhbnk7XG5cdFx0Ly8gQ3JlYXRlIHN0YXR1cyBjb250YWluZXIgZWFybHkgc28gdGhlIGNsaWNrIGhhbmRsZXIgYWx3YXlzIGhhcyBpdFxuXHRcdGNvbnN0IHN0YXR1c0NvbnRhaW5lciA9IGN1c3RvbU1vZGVsU2V0dGluZy5zZXR0aW5nRWwuY3JlYXRlRGl2KCk7XG5cdFx0c3RhdHVzQ29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgXG5cdFx0XHRtYXJnaW4tdG9wOiA4cHg7XG5cdFx0XHRwYWRkaW5nOiA4cHg7XG5cdFx0XHRib3JkZXItcmFkaXVzOiA0cHg7XG5cdFx0XHRmb250LXNpemU6IDAuOWVtO1xuXHRcdFx0bWluLWhlaWdodDogMjBweDtcblx0XHRgO1xuXG5cdFx0Y3VzdG9tTW9kZWxTZXR0aW5nLmFkZFRleHQodGV4dCA9PiB7XG5cdFx0XHRtb2RlbElucHV0ID0gdGV4dC5pbnB1dEVsO1xuXHRcdFx0dGV4dC5zZXRQbGFjZWhvbGRlcignRW50ZXIgbW9kZWwgbmFtZSAoZS5nLiwgbGxhbWEzLjI6M2IpJylcblx0XHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IGhhc1ZhbHVlID0gISF2YWx1ZS50cmltKCk7XG5cdFx0XHRcdFx0Ly8gUHJlZmVyIGNvbXBvbmVudCBBUEkgdG8gdG9nZ2xlIGRpc2FibGVkIHN0YXRlXG5cdFx0XHRcdFx0aWYgKGRvd25sb2FkQnRuQ29tcCAmJiB0eXBlb2YgZG93bmxvYWRCdG5Db21wLnNldERpc2FibGVkID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRkb3dubG9hZEJ0bkNvbXAuc2V0RGlzYWJsZWQoIWhhc1ZhbHVlKTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGRvd25sb2FkQnV0dG9uKSB7XG5cdFx0XHRcdFx0XHRkb3dubG9hZEJ1dHRvbi5kaXNhYmxlZCA9ICFoYXNWYWx1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0Y3VzdG9tTW9kZWxTZXR0aW5nLmFkZEJ1dHRvbihidXR0b24gPT4ge1xuXHRcdFx0ZG93bmxvYWRCdG5Db21wID0gYnV0dG9uO1xuXHRcdFx0ZG93bmxvYWRCdXR0b24gPSBidXR0b24uYnV0dG9uRWw7XG5cdFx0XHRidXR0b25cblx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ+KshyBEb3dubG9hZCcpXG5cdFx0XHRcdC5zZXRUb29sdGlwKCdEb3dubG9hZCB0aGlzIG1vZGVsIGZyb20gT2xsYW1hIHJlZ2lzdHJ5Jylcblx0XHRcdFx0LnNldERpc2FibGVkKHRydWUpXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRjb25zdCBtb2RlbE5hbWUgPSAobW9kZWxJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKTtcblx0XHRcdFx0XHRpZiAoIW1vZGVsTmFtZSkge1xuXHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnW0VSUk9SXSBQbGVhc2UgZW50ZXIgYSBtb2RlbCBuYW1lJyk7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uaW5mbygnW09MTEFNQS1TRVRUSU5HU10gQ3VzdG9tIExMTSBkb3dubG9hZCByZXF1ZXN0ZWQnLCB7IG1vZGVsTmFtZSB9KTtcblx0XHRcdFx0XHRcdGRvd25sb2FkQnRuQ29tcD8uc2V0RGlzYWJsZWQodHJ1ZSk7XG5cdFx0XHRcdFx0XHRzdGF0dXNDb250YWluZXIuZW1wdHkoKTtcblx0XHRcdFx0XHRcdHN0YXR1c0NvbnRhaW5lci5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiBgW1NUQVJUXSBEb3dubG9hZGluZyAke21vZGVsTmFtZX0uLi5gIH0pO1xuXG5cdFx0XHRcdFx0XHRjb25zdCBvbGxhbWFTZXJ2aWNlID0gdGhpcy5nZXRPbGxhbWFTZXJ2aWNlKCk7XG5cdFx0XHRcdFx0XHRjb25zdCBpc0F2YWlsYWJsZSA9IGF3YWl0IG9sbGFtYVNlcnZpY2UuaXNNb2RlbEF2YWlsYWJsZShtb2RlbE5hbWUpO1xuXHRcdFx0XHRcdFx0aWYgKGlzQXZhaWxhYmxlKSB7XG5cdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYFtJTkZPXSBNb2RlbCAke21vZGVsTmFtZX0gaXMgYWxyZWFkeSBpbnN0YWxsZWRgKTtcblx0XHRcdFx0XHRcdFx0c3RhdHVzQ29udGFpbmVyLmVtcHR5KCk7XG5cdFx0XHRcdFx0XHRcdHN0YXR1c0NvbnRhaW5lci5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiBgW0lORk9dICR7bW9kZWxOYW1lfSBhbHJlYWR5IGF2YWlsYWJsZWAgfSk7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5kb3dubG9hZE9sbGFtYU1vZGVsV2l0aFByb2dyZXNzKG1vZGVsTmFtZSwgc3RhdHVzQ29udGFpbmVyKTtcblxuXHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgaW5zdGFsbGVkID0gYXdhaXQgb2xsYW1hU2VydmljZS5pc01vZGVsQXZhaWxhYmxlKG1vZGVsTmFtZSk7XG5cdFx0XHRcdFx0XHRcdGlmIChpbnN0YWxsZWQpIHtcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFkZEN1c3RvbU9sbGFtYUxMTVRvRGVmYXVsdHMobW9kZWxOYW1lKTtcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnJlZnJlc2hMTE1Ecm9wZG93bnMoKTtcblx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBbU1VDQ0VTU10gJHttb2RlbE5hbWV9IGRvd25sb2FkZWQgYW5kIGFkZGVkIHRvIExMTSBtb2RlbHMuYCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gY2F0Y2ggKHBlcnNpc3RFcnIpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy53YXJuKCdbT0xMQU1BLVNFVFRJTkdTXSBQb3N0LWRvd25sb2FkIGF2YWlsYWJpbGl0eSBjaGVjayBmYWlsZWQnLCB7IGVycm9yOiBwZXJzaXN0RXJyLCBtb2RlbE5hbWUgfSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdG1vZGVsSW5wdXQudmFsdWUgPSAnJztcblx0XHRcdFx0XHRcdGRvd25sb2FkQnRuQ29tcD8uc2V0RGlzYWJsZWQodHJ1ZSk7XG5cblx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignW09MTEFNQS1TRVRUSU5HU10gRG93bmxvYWQgZmFpbGVkJywgeyBlcnJvciwgbW9kZWxOYW1lIH0pO1xuXHRcdFx0XHRcdFx0Y29uc3QgZXJyb3JNc2cgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gRmFpbGVkIHRvIGRvd25sb2FkICR7bW9kZWxOYW1lfTogJHtlcnJvck1zZ31gKTtcblx0XHRcdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHRcdFx0Ly8gUmVjb21wdXRlIGVuYWJsZWQgc3RhdGUgYmFzZWQgb24gY3VycmVudCBpbnB1dFxuXHRcdFx0XHRcdFx0Y29uc3QgaGFzVmFsdWUgPSAhIShtb2RlbElucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuXHRcdFx0XHRcdFx0ZG93bmxvYWRCdG5Db21wPy5zZXREaXNhYmxlZCghaGFzVmFsdWUpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogQWRkIGN1c3RvbSBlbWJlZGRpbmcgbW9kZWwgZW50cnkgVUlcblx0ICovXG5cdGFzeW5jIGFkZEN1c3RvbUVtYmVkZGluZ01vZGVsRW50cnkoY29udGVudDogSFRNTEVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCBjdXN0b21Nb2RlbFNldHRpbmcgPSBuZXcgU2V0dGluZyhjb250ZW50KVxuXHRcdFx0LnNldE5hbWUoJ0N1c3RvbSBFbWJlZGRpbmcgTW9kZWwnKVxuXHRcdFx0LnNldERlc2MoJ0Rvd25sb2FkIGFueSBPbGxhbWEgZW1iZWRkaW5nIG1vZGVsIGJ5IG5hbWUgKGUuZy4sIG5vbWljLWVtYmVkLXRleHQsIG14YmFpLWVtYmVkLWxhcmdlKScpO1xuXG5cdFx0bGV0IG1vZGVsSW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQ7XG5cdFx0bGV0IGRvd25sb2FkQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudDtcblx0XHRsZXQgZG93bmxvYWRCdG5Db21wOiBhbnk7XG5cdFx0Y29uc3Qgc3RhdHVzQ29udGFpbmVyID0gY3VzdG9tTW9kZWxTZXR0aW5nLnNldHRpbmdFbC5jcmVhdGVEaXYoKTtcblx0XHRzdGF0dXNDb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IGBcblx0XHRcdG1hcmdpbi10b3A6IDhweDtcblx0XHRcdHBhZGRpbmc6IDhweDtcblx0XHRcdGJvcmRlci1yYWRpdXM6IDRweDtcblx0XHRcdGZvbnQtc2l6ZTogMC45ZW07XG5cdFx0XHRtaW4taGVpZ2h0OiAyMHB4O1xuXHRcdGA7XG5cblx0XHRjdXN0b21Nb2RlbFNldHRpbmcuYWRkVGV4dCh0ZXh0ID0+IHtcblx0XHRcdG1vZGVsSW5wdXQgPSB0ZXh0LmlucHV0RWw7XG5cdFx0XHR0ZXh0LnNldFBsYWNlaG9sZGVyKCdFbnRlciBlbWJlZGRpbmcgbW9kZWwgbmFtZScpXG5cdFx0XHRcdC5vbkNoYW5nZSgodmFsdWUpID0+IHtcblx0XHRcdFx0XHRjb25zdCBoYXNWYWx1ZSA9ICEhdmFsdWUudHJpbSgpO1xuXHRcdFx0XHRcdGlmIChkb3dubG9hZEJ0bkNvbXAgJiYgdHlwZW9mIGRvd25sb2FkQnRuQ29tcC5zZXREaXNhYmxlZCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0ZG93bmxvYWRCdG5Db21wLnNldERpc2FibGVkKCFoYXNWYWx1ZSk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChkb3dubG9hZEJ1dHRvbikge1xuXHRcdFx0XHRcdFx0ZG93bmxvYWRCdXR0b24uZGlzYWJsZWQgPSAhaGFzVmFsdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdGN1c3RvbU1vZGVsU2V0dGluZy5hZGRCdXR0b24oYnV0dG9uID0+IHtcblx0XHRcdGRvd25sb2FkQnRuQ29tcCA9IGJ1dHRvbjtcblx0XHRcdGRvd25sb2FkQnV0dG9uID0gYnV0dG9uLmJ1dHRvbkVsO1xuXHRcdFx0YnV0dG9uXG5cdFx0XHRcdC5zZXRCdXR0b25UZXh0KCfirIcgRG93bmxvYWQnKVxuXHRcdFx0XHQuc2V0VG9vbHRpcCgnRG93bmxvYWQgdGhpcyBlbWJlZGRpbmcgbW9kZWwgZnJvbSBPbGxhbWEgcmVnaXN0cnknKVxuXHRcdFx0XHQuc2V0RGlzYWJsZWQodHJ1ZSlcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IG1vZGVsTmFtZSA9IChtb2RlbElucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuXHRcdFx0XHRcdGlmICghbW9kZWxOYW1lKSB7XG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdbRVJST1JdIFBsZWFzZSBlbnRlciBhIG1vZGVsIG5hbWUnKTtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5pbmZvKCdbT0xMQU1BLVNFVFRJTkdTXSBDdXN0b20gZW1iZWRkaW5nIGRvd25sb2FkIHJlcXVlc3RlZCcsIHsgbW9kZWxOYW1lIH0pO1xuXHRcdFx0XHRcdFx0ZG93bmxvYWRCdG5Db21wPy5zZXREaXNhYmxlZCh0cnVlKTtcblx0XHRcdFx0XHRcdHN0YXR1c0NvbnRhaW5lci5lbXB0eSgpO1xuXHRcdFx0XHRcdFx0c3RhdHVzQ29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IGBbU1RBUlRdIERvd25sb2FkaW5nICR7bW9kZWxOYW1lfS4uLmAgfSk7XG5cblx0XHRcdFx0XHRcdGNvbnN0IG9sbGFtYVNlcnZpY2UgPSB0aGlzLmdldE9sbGFtYVNlcnZpY2UoKTtcblx0XHRcdFx0XHRcdGNvbnN0IGlzQXZhaWxhYmxlID0gYXdhaXQgb2xsYW1hU2VydmljZS5pc01vZGVsQXZhaWxhYmxlKG1vZGVsTmFtZSk7XG5cdFx0XHRcdFx0XHRpZiAoaXNBdmFpbGFibGUpIHtcblx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgW0lORk9dIE1vZGVsICR7bW9kZWxOYW1lfSBpcyBhbHJlYWR5IGluc3RhbGxlZGApO1xuXHRcdFx0XHRcdFx0XHRzdGF0dXNDb250YWluZXIuZW1wdHkoKTtcblx0XHRcdFx0XHRcdFx0c3RhdHVzQ29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IGBbSU5GT10gJHttb2RlbE5hbWV9IGFscmVhZHkgYXZhaWxhYmxlYCB9KTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmRvd25sb2FkT2xsYW1hTW9kZWxXaXRoUHJvZ3Jlc3MobW9kZWxOYW1lLCBzdGF0dXNDb250YWluZXIpO1xuXG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBpbnN0YWxsZWQgPSBhd2FpdCBvbGxhbWFTZXJ2aWNlLmlzTW9kZWxBdmFpbGFibGUobW9kZWxOYW1lKTtcblx0XHRcdFx0XHRcdFx0aWYgKGluc3RhbGxlZCkge1xuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYWRkQ3VzdG9tT2xsYW1hRW1iZWRkaW5nVG9EZWZhdWx0cyhtb2RlbE5hbWUpO1xuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucmVmcmVzaEVtYmVkZGluZ0Ryb3Bkb3ducygpO1xuXHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYFtTVUNDRVNTXSAke21vZGVsTmFtZX0gZG93bmxvYWRlZCBhbmQgYWRkZWQgdG8gZW1iZWRkaW5nIG1vZGVscy5gKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBjYXRjaCAocGVyc2lzdEVycikge1xuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/Lndhcm4oJ1tPTExBTUEtU0VUVElOR1NdIFBvc3QtZG93bmxvYWQgYXZhaWxhYmlsaXR5IGNoZWNrIGZhaWxlZCcsIHsgZXJyb3I6IHBlcnNpc3RFcnIsIG1vZGVsTmFtZSB9KTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0bW9kZWxJbnB1dC52YWx1ZSA9ICcnO1xuXHRcdFx0XHRcdFx0ZG93bmxvYWRCdG5Db21wPy5zZXREaXNhYmxlZCh0cnVlKTtcblxuXHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdbT0xMQU1BLVNFVFRJTkdTXSBEb3dubG9hZCBmYWlsZWQnLCB7IGVycm9yLCBtb2RlbE5hbWUgfSk7XG5cdFx0XHRcdFx0XHRjb25zdCBlcnJvck1zZyA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xuXHRcdFx0XHRcdFx0bmV3IE5vdGljZShgW0VSUk9SXSBGYWlsZWQgdG8gZG93bmxvYWQgJHttb2RlbE5hbWV9OiAke2Vycm9yTXNnfWApO1xuXHRcdFx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdFx0XHRjb25zdCBoYXNWYWx1ZSA9ICEhKG1vZGVsSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG5cdFx0XHRcdFx0XHRkb3dubG9hZEJ0bkNvbXA/LnNldERpc2FibGVkKCFoYXNWYWx1ZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHRcdCogUmVmcmVzaCBlbWJlZGRpbmcgbW9kZWwgZHJvcGRvd25zIGFmdGVyIGFkZGluZyBuZXcgbW9kZWxzXG5cdFx0Ki9cblx0YXN5bmMgcmVmcmVzaEVtYmVkZGluZ0Ryb3Bkb3ducygpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHR0cnkge1xuXHRcdFx0Ly8gRm9yY2UgcmVmcmVzaCBvZiBhdmFpbGFibGUgbW9kZWxzIGNhY2hlXG5cdFx0XHRjb25zdCBvbGxhbWFTZXJ2aWNlID0gdGhpcy5nZXRPbGxhbWFTZXJ2aWNlKCk7XG5cdFx0XHRhd2FpdCBvbGxhbWFTZXJ2aWNlLmdldEF2YWlsYWJsZU1vZGVscyh0cnVlKTtcblxuXHRcdFx0Ly8gRmluZCBhbmQgcmVmcmVzaCBlbWJlZGRpbmcgbW9kZWwgZHJvcGRvd25zXG5cdFx0XHRjb25zdCBkcm9wZG93bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzZWxlY3QnKTtcblx0XHRcdGZvciAoY29uc3QgZHJvcGRvd24gb2YgZHJvcGRvd25zKSB7XG5cdFx0XHRcdGNvbnN0IHBhcmVudENvbnRhaW5lciA9IGRyb3Bkb3duLmNsb3Nlc3QoJy5zZXR0aW5nLWl0ZW0nKTtcblx0XHRcdFx0aWYgKHBhcmVudENvbnRhaW5lcikge1xuXHRcdFx0XHRcdGNvbnN0IGxhYmVsID0gcGFyZW50Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5zZXR0aW5nLWl0ZW0tbmFtZScpO1xuXHRcdFx0XHRcdGlmIChsYWJlbCAmJiBsYWJlbC50ZXh0Q29udGVudD8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZW1iZWRkaW5nJykpIHtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucG9wdWxhdGVPbGxhbWFNb2RlbHNXaXRoU3RhdHVzKGRyb3Bkb3duKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW09MTEFNQS1TRVRUSU5HU10gRXJyb3IgcmVmcmVzaGluZyBlbWJlZGRpbmcgZHJvcGRvd25zJywgeyBlcnJvciB9KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0XHQqIFJlZnJlc2ggTExNIG1vZGVsIGRyb3Bkb3ducyBhZnRlciBhZGRpbmcgbmV3IG1vZGVsc1xuXHRcdCovXG5cdGFzeW5jIHJlZnJlc2hMTE1Ecm9wZG93bnMoKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0dHJ5IHtcblx0XHRcdC8vIEZvcmNlIHJlZnJlc2ggb2YgYXZhaWxhYmxlIG1vZGVscyBjYWNoZVxuXHRcdFx0Y29uc3Qgb2xsYW1hU2VydmljZSA9IHRoaXMuZ2V0T2xsYW1hU2VydmljZSgpO1xuXHRcdFx0YXdhaXQgb2xsYW1hU2VydmljZS5nZXRBdmFpbGFibGVNb2RlbHModHJ1ZSk7XG5cblx0XHRcdC8vIEZpbmQgYW5kIHJlZnJlc2ggTExNIG1vZGVsIGRyb3Bkb3duc1xuXHRcdFx0Y29uc3QgZHJvcGRvd25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2VsZWN0Jyk7XG5cdFx0XHRmb3IgKGNvbnN0IGRyb3Bkb3duIG9mIGRyb3Bkb3ducykge1xuXHRcdFx0XHRjb25zdCBwYXJlbnRDb250YWluZXIgPSBkcm9wZG93bi5jbG9zZXN0KCcuc2V0dGluZy1pdGVtJyk7XG5cdFx0XHRcdGlmIChwYXJlbnRDb250YWluZXIpIHtcblx0XHRcdFx0XHRjb25zdCBsYWJlbCA9IHBhcmVudENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2V0dGluZy1pdGVtLW5hbWUnKTtcblx0XHRcdFx0XHRpZiAobGFiZWwgJiYgKGxhYmVsLnRleHRDb250ZW50Py50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdsbG0nKSB8fCBsYWJlbC50ZXh0Q29udGVudD8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnbW9kZWwnKSkpIHtcblx0XHRcdFx0XHRcdC8vIFNraXAgZW1iZWRkaW5nIGRyb3Bkb3duc1xuXHRcdFx0XHRcdFx0aWYgKCFsYWJlbC50ZXh0Q29udGVudD8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZW1iZWRkaW5nJykpIHtcblx0XHRcdFx0XHRcdFx0Y29uc3Qgb3B0aW9ucyA9IEFycmF5LmZyb20oZHJvcGRvd24ub3B0aW9ucyk7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGN1cnJlbnRWYWx1ZSA9IGRyb3Bkb3duLnZhbHVlO1xuXG5cdFx0XHRcdFx0XHRcdC8vIENsZWFyIGFuZCByZXBvcHVsYXRlIGRyb3Bkb3duXG5cdFx0XHRcdFx0XHRcdGRyb3Bkb3duLmlubmVySFRNTCA9ICcnO1xuXG5cdFx0XHRcdFx0XHRcdC8vIEFkZCBtb2RlbHMgZnJvbSBzZXR0aW5nc1xuXHRcdFx0XHRcdFx0XHRjb25zdCBsbG1Nb2RlbHMgPSB0aGlzLmdldE9sbGFtYUxMTU1vZGVsc0Zyb21TZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0XHRsbG1Nb2RlbHMuZm9yRWFjaChtb2RlbCA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG5cdFx0XHRcdFx0XHRcdFx0b3B0aW9uLnZhbHVlID0gbW9kZWwubmFtZTtcblx0XHRcdFx0XHRcdFx0XHRvcHRpb24udGV4dENvbnRlbnQgPSBtb2RlbC5uYW1lO1xuXHRcdFx0XHRcdFx0XHRcdGRyb3Bkb3duLmFwcGVuZENoaWxkKG9wdGlvbik7XG5cdFx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRcdC8vIFJlc3RvcmUgc2VsZWN0aW9uIGlmIGl0IHN0aWxsIGV4aXN0c1xuXHRcdFx0XHRcdFx0XHRpZiAoQXJyYXkuZnJvbShkcm9wZG93bi5vcHRpb25zKS5zb21lKG9wdCA9PiBvcHQudmFsdWUgPT09IGN1cnJlbnRWYWx1ZSkpIHtcblx0XHRcdFx0XHRcdFx0XHRkcm9wZG93bi52YWx1ZSA9IGN1cnJlbnRWYWx1ZTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbT0xMQU1BLVNFVFRJTkdTXSBFcnJvciByZWZyZXNoaW5nIExMTSBkcm9wZG93bnMnLCB7IGVycm9yIH0pO1xuXHRcdH1cblx0fVxufVxuXG4vLyBAdmVzc2VsLWNsb3NlOkJyYWdpIiwiLy8gQHZlc3NlbC1wcm90b2NvbDpCcmFnaSBnb3Zlcm5zOnJlZmFjdG9yIGNvbnRleHQ6RXh0cmFjdGVkIE1DUCBUb29scyBVSSBjb29yZGluYXRpb24gZnJvbSBtb25vbGl0aGljIFNldHRpbmdzVGFiXG4vLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbR3JhcGhpdGlQbHVnaW4sIE9ic2lkaWFuIEFQSSBjb21wb25lbnRzLCBGb2xkZXJTdWdnZXN0XVxuLy8gQHB1cnBvc2U6IFNlcGFyYXRlIE1DUCBUb29scyBVSSBsb2dpYyBmcm9tIG1haW4gc2V0dGluZ3MgdG8gaW1wcm92ZSBtYWludGFpbmFiaWxpdHlcbi8vIEByZXN1bHQ6IENsZWFuIHNlcGFyYXRpb24gYmV0d2VlbiBVSSBjb29yZGluYXRpb24gYW5kIGJ1c2luZXNzIGxvZ2ljIGZvciBNQ1AgVG9vbHMgZnVuY3Rpb25hbGl0eVxuLy8gQHNpZ25lZDogQy5CasO4cm5cblxuaW1wb3J0IHsgQXBwLCBTZXR0aW5nLCBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgdHlwZSBHcmFwaGl0aVBsdWdpbiBmcm9tICcuLi9tYWluJztcbmltcG9ydCB7IEZvbGRlclN1Z2dlc3QgfSBmcm9tICcuLi91dGlscy9Gb2xkZXJTdWdnZXN0JztcblxuZXhwb3J0IGNsYXNzIE1DUFRvb2xTZXR0aW5ncyB7XG5cdHByaXZhdGUgcGx1Z2luOiBHcmFwaGl0aVBsdWdpbjtcblx0cHJpdmF0ZSBhcHA6IEFwcDtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBHcmFwaGl0aVBsdWdpbikge1xuXHRcdHRoaXMuYXBwID0gYXBwO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cblxuXHQvKipcblx0ICogQWRkIG1haW4gTUNQIFRvb2xzIGFjY29yZGlvbiBzZWN0aW9uXG5cdCAqL1xuXHRhZGRNQ1BUb29sc0FjY29yZGlvbihjb250ZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xuXHRcdHRyeSB7XG5cdFx0XHQvLyBEZXNjcmlwdGlvblxuXHRcdFx0Y29udGVudC5jcmVhdGVFbCgncCcsIHtcblx0XHRcdFx0dGV4dDogJ0NvbmZpZ3VyZSBNQ1AgKE1vZGVsIENvbnRleHQgUHJvdG9jb2wpIHRvb2xzIGludGVncmF0aW9uLCBkZWZhdWx0IG5vdGUgZm9sZGVycywgYW5kIHRoaXJkLXBhcnR5IHBsdWdpbiBjb25uZWN0aW9ucy4nLFxuXHRcdFx0XHRjbHM6ICdzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24nXG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gRGVmYXVsdHMgU2VjdGlvbiAtIFNpbXBsZSBpbXBsZW1lbnRhdGlvbiBmaXJzdFxuXHRcdFx0dGhpcy5hZGRNQ1BEZWZhdWx0c1NlY3Rpb24oY29udGVudCk7XG5cblx0XHRcdC8vIDNyZCBQYXJ0eSBJbnRlZ3JhdGlvbnMgU2VjdGlvblxuXHRcdFx0dGhpcy5hZGRNQ1BJbnRlZ3JhdGlvbnNTZWN0aW9uKGNvbnRlbnQpO1xuXG5cdFx0XHQvLyBUb29sIERlZmluaXRpb25zIFNlY3Rpb25cblx0XHRcdHRoaXMuYWRkTUNQVG9vbERlZmluaXRpb25zU2VjdGlvbihjb250ZW50KTtcblxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdDcml0aWNhbCBlcnJvciBpbiBNQ1AgVG9vbHMgYWNjb3JkaW9uJywge1xuXHRcdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpLFxuXHRcdFx0XHRzdGFjazogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLnN0YWNrIDogdW5kZWZpbmVkXG5cdFx0XHR9KTtcblx0XHRcdGNvbnRlbnQuY3JlYXRlRWwoJ2RpdicsIHtcblx0XHRcdFx0dGV4dDogYE1DUCBUb29scyBzZWN0aW9uIGZhaWxlZCB0byBsb2FkOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWAsXG5cdFx0XHRcdGNsczogJ3NldHRpbmctaXRlbS1kZXNjcmlwdGlvbidcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBBZGQgTUNQIERlZmF1bHRzIHNlY3Rpb25cblx0ICovXG5cdHByaXZhdGUgYWRkTUNQRGVmYXVsdHNTZWN0aW9uKGNvbnRlbnQ6IEhUTUxFbGVtZW50KTogdm9pZCB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnRlbnQuY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnRGVmYXVsdHMnLCBjbHM6ICdzZXR0aW5nLWl0ZW0tbmFtZScgfSk7XG5cblx0XHRcdC8vIExpdmUgZm9sZGVyIHNlYXJjaCB3aXRoIHN1Z2dlc3Rpb25zXG5cdFx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxuXHRcdFx0XHQuc2V0TmFtZSgnRGVmYXVsdCBmb2xkZXIgZm9yIE1DUCBub3RlcycgKVxuXHRcdFx0XHQuc2V0RGVzYygnRGVmYXVsdCBmb2xkZXIgd2hlcmUgTUNQLWdlbmVyYXRlZCBub3RlcyB3aWxsIGJlIGNyZWF0ZWQuIFN0YXJ0IHR5cGluZyB0byBzZWUgZm9sZGVyIHN1Z2dlc3Rpb25zLicpXG5cdFx0XHRcdC5hZGRTZWFyY2goKGNiKSA9PiB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdC8vIEluaXRpYWxpemUgRm9sZGVyU3VnZ2VzdCBmb3IgbGl2ZSBzdWdnZXN0aW9uc1xuXHRcdFx0XHRcdFx0bmV3IEZvbGRlclN1Z2dlc3QodGhpcy5hcHAsIGNiLmlucHV0RWwpO1xuXG5cdFx0XHRcdFx0XHRjYi5zZXRQbGFjZWhvbGRlcignZS5nLiwgTUNQIE5vdGVzLCBLbm93bGVkZ2UvTUNQLCBvciBsZWF2ZSBlbXB0eSBmb3IgdmF1bHQgcm9vdCcpXG5cdFx0XHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5tY3BUb29scz8uZGVmYXVsdHM/LmluYm94Rm9sZGVyIHx8ICcnKVxuXHRcdFx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRcdC8vIEZvbGxvdyBleGlzdGluZyBzZXR0aW5ncyBwYXR0ZXJuIC0gZGlyZWN0IGFzc2lnbm1lbnQgdG8gcGx1Z2luLnNldHRpbmdzXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLm1jcFRvb2xzKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm1jcFRvb2xzID0ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlZmF1bHRzOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpbmJveEZvbGRlcjogJycsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRlbmFibGVTbWFydEZvbGRlclJlc29sdXRpb246IHRydWVcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGludGVncmF0aW9uczoge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGVtcGxhdGVyOiB7IGRldGVjdGVkOiBmYWxzZSwgZW5hYmxlZDogZmFsc2UsIHVzZVRlbXBsYXRlRm9sZGVyczogZmFsc2UgfSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHBlcmlvZGljTm90ZXM6IHsgZGV0ZWN0ZWQ6IGZhbHNlLCBlbmFibGVkOiBmYWxzZSwgdXNlUGVyaW9kaWNGb2xkZXJzOiBmYWxzZSB9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0b29sczogW11cblx0XHRcdFx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3MubWNwVG9vbHMuZGVmYXVsdHMpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubWNwVG9vbHMuZGVmYXVsdHMgPSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aW5ib3hGb2xkZXI6ICcnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVuYWJsZVNtYXJ0Rm9sZGVyUmVzb2x1dGlvbjogdHJ1ZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubWNwVG9vbHMuZGVmYXVsdHMuaW5ib3hGb2xkZXIgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXG5cdFx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoc2F2ZUVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdFcnJvciBzYXZpbmcgTUNQIGRlZmF1bHQgZm9sZGVyIHNldHRpbmcnLCB7IGVycm9yOiBzYXZlRXJyb3IgfSk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdH0gY2F0Y2ggKHNldHVwRXJyb3IpIHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ0Vycm9yIHNldHRpbmcgdXAgZm9sZGVyIHNlYXJjaCBpbnB1dCcsIHsgZXJyb3I6IHNldHVwRXJyb3IgfSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignRXJyb3IgaW4gRGVmYXVsdHMgc2VjdGlvbicsIHtcblx0XHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKVxuXHRcdFx0fSk7XG5cdFx0XHRjb250ZW50LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICdFcnJvciBsb2FkaW5nIERlZmF1bHRzIHNlY3Rpb24nLCBjbHM6ICdzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24nIH0pO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBBZGQgTUNQIEludGVncmF0aW9ucyBzZWN0aW9uXG5cdCAqL1xuXHRwcml2YXRlIGFkZE1DUEludGVncmF0aW9uc1NlY3Rpb24oY29udGVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcblx0XHR0cnkge1xuXHRcdFx0Y29udGVudC5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICczcmQgUGFydHkgSW50ZWdyYXRpb25zJywgY2xzOiAnc2V0dGluZy1pdGVtLW5hbWUnIH0pO1xuXG5cdFx0XHQvLyBUZW1wbGF0ZXIgSW50ZWdyYXRpb24gLSBzaW1wbGUgZGV0ZWN0aW9uIHVzaW5nIE9ic2lkaWFuIEFQSVxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29uc3QgdGVtcGxhdGVyRGV0ZWN0ZWQgPSAhISh0aGlzLmFwcCBhcyBhbnkpLnBsdWdpbnMucGx1Z2luc1tcInRlbXBsYXRlci1vYnNpZGlhblwiXTtcblx0XHRcdFx0Y29uc3QgdGVtcGxhdGVyRW5hYmxlZCA9IHRoaXMucGx1Z2luLnNldHRpbmdzLm1jcFRvb2xzPy5pbnRlZ3JhdGlvbnM/LnRlbXBsYXRlcj8uZW5hYmxlZCB8fCBmYWxzZTtcblxuXHRcdFx0XHRjb25zdCB0ZW1wbGF0ZXJTZXR0aW5nID0gbmV3IFNldHRpbmcoY29udGVudClcblx0XHRcdFx0XHQuc2V0TmFtZSgnVGVtcGxhdGVyIFBsdWdpbiBJbnRlZ3JhdGlvbicgKVxuXHRcdFx0XHRcdC5zZXREZXNjKCdJbnRlZ3JhdGUgd2l0aCBUZW1wbGF0ZXIgcGx1Z2luIGZvciBlbmhhbmNlZCBub3RlIGNyZWF0aW9uJyk7XG5cblx0XHRcdFx0Ly8gQWRkIHNpbXBsZSBncmVlbiBjaGVjayBvciByZWQgeCB0byB0aGUgbGVmdFxuXHRcdFx0XHRjb25zdCBzdGF0dXNJY29uID0gdGVtcGxhdGVyU2V0dGluZy5uYW1lRWwuY3JlYXRlU3Bhbih7XG5cdFx0XHRcdFx0Y2xzOiAnbWNwLXN0YXR1cy1pY29uJyxcblx0XHRcdFx0XHR0ZXh0OiB0ZW1wbGF0ZXJEZXRlY3RlZCA/ICcg4pyTJyA6ICcg4pyXJ1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0c3RhdHVzSWNvbi5zdHlsZS5jc3NUZXh0ID0gYFxuXHRcdFx0XHRcdGNvbG9yOiAke3RlbXBsYXRlckRldGVjdGVkID8gJ3ZhcigtLWNvbG9yLWdyZWVuKScgOiAndmFyKC0tY29sb3ItcmVkKSd9O1xuXHRcdFx0XHRcdGZvbnQtd2VpZ2h0OiBib2xkO1xuXHRcdFx0XHRcdG1hcmdpbi1yaWdodDogNHB4O1xuXHRcdFx0XHRgO1xuXG5cdFx0XHRcdHRlbXBsYXRlclNldHRpbmcuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB7XG5cdFx0XHRcdFx0dG9nZ2xlLnNldFZhbHVlKHRlbXBsYXRlckVuYWJsZWQpXG5cdFx0XHRcdFx0XHQuc2V0RGlzYWJsZWQoIXRlbXBsYXRlckRldGVjdGVkKVxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3MubWNwVG9vbHMpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm1jcFRvb2xzID0ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRkZWZhdWx0czogeyBpbmJveEZvbGRlcjogJycsIGVuYWJsZVNtYXJ0Rm9sZGVyUmVzb2x1dGlvbjogdHJ1ZSB9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpbnRlZ3JhdGlvbnM6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0ZW1wbGF0ZXI6IHsgZGV0ZWN0ZWQ6IGZhbHNlLCBlbmFibGVkOiBmYWxzZSwgdXNlVGVtcGxhdGVGb2xkZXJzOiBmYWxzZSB9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHBlcmlvZGljTm90ZXM6IHsgZGV0ZWN0ZWQ6IGZhbHNlLCBlbmFibGVkOiBmYWxzZSwgdXNlUGVyaW9kaWNGb2xkZXJzOiBmYWxzZSB9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRvb2xzOiBbXVxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubWNwVG9vbHMuaW50ZWdyYXRpb25zLnRlbXBsYXRlci5lbmFibGVkID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnVGVtcGxhdGVyIGludGVncmF0aW9uIHRvZ2dsZWQnLCB7IGVuYWJsZWQ6IHZhbHVlIH0pO1xuXHRcdFx0XHRcdFx0XHR9IGNhdGNoIChzYXZlRXJyb3IpIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdGYWlsZWQgdG8gc2F2ZSBUZW1wbGF0ZXIgc2V0dGluZycsIHsgZXJyb3I6IHNhdmVFcnJvciB9KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGlmICghdGVtcGxhdGVyRGV0ZWN0ZWQpIHtcblx0XHRcdFx0XHR0ZW1wbGF0ZXJTZXR0aW5nLmRlc2NFbC5hcHBlbmRUZXh0KCcgKFBsdWdpbiBub3QgZGV0ZWN0ZWQgLSBpbnN0YWxsIFRlbXBsYXRlciB0byBlbmFibGUgdGhpcyBpbnRlZ3JhdGlvbiknKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCAodGVtcGxhdGVyRXJyb3IpIHtcblx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignRXJyb3Igc2V0dGluZyB1cCBUZW1wbGF0ZXIgaW50ZWdyYXRpb24nLCB7IGVycm9yOiB0ZW1wbGF0ZXJFcnJvciB9KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUGVyaW9kaWMgTm90ZXMgSW50ZWdyYXRpb24gLSBzaW1wbGUgZGV0ZWN0aW9uIHVzaW5nIE9ic2lkaWFuIEFQSVxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29uc3QgcGVyaW9kaWNOb3Rlc0RldGVjdGVkID0gISEodGhpcy5hcHAgYXMgYW55KS5wbHVnaW5zLnBsdWdpbnNbXCJwZXJpb2RpYy1ub3Rlc1wiXTtcblx0XHRcdFx0Y29uc3QgcGVyaW9kaWNOb3Rlc0VuYWJsZWQgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5tY3BUb29scz8uaW50ZWdyYXRpb25zPy5wZXJpb2RpY05vdGVzPy5lbmFibGVkIHx8IGZhbHNlO1xuXG5cdFx0XHRcdGNvbnN0IHBlcmlvZGljTm90ZXNTZXR0aW5nID0gbmV3IFNldHRpbmcoY29udGVudClcblx0XHRcdFx0XHQuc2V0TmFtZSgnUGVyaW9kaWMgTm90ZXMgUGx1Z2luIEludGVncmF0aW9uJyApXG5cdFx0XHRcdFx0LnNldERlc2MoJ0ludGVncmF0ZSB3aXRoIFBlcmlvZGljIE5vdGVzIHBsdWdpbiBmb3IgdGltZS1iYXNlZCBub3RlIG9yZ2FuaXphdGlvbicpO1xuXG5cdFx0XHRcdC8vIEFkZCBzaW1wbGUgZ3JlZW4gY2hlY2sgb3IgcmVkIHggdG8gdGhlIGxlZnRcblx0XHRcdFx0Y29uc3Qgc3RhdHVzSWNvbiA9IHBlcmlvZGljTm90ZXNTZXR0aW5nLm5hbWVFbC5jcmVhdGVTcGFuKHtcblx0XHRcdFx0XHRjbHM6ICdtY3Atc3RhdHVzLWljb24nLFxuXHRcdFx0XHRcdHRleHQ6IHBlcmlvZGljTm90ZXNEZXRlY3RlZCA/ICcg4pyTJyA6ICcg4pyXJ1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0c3RhdHVzSWNvbi5zdHlsZS5jc3NUZXh0ID0gYFxuXHRcdFx0XHRcdGNvbG9yOiAke3BlcmlvZGljTm90ZXNEZXRlY3RlZCA/ICd2YXIoLS1jb2xvci1ncmVlbiknIDogJ3ZhcigtLWNvbG9yLXJlZCknfTtcblx0XHRcdFx0XHRmb250LXdlaWdodDogYm9sZDtcblx0XHRcdFx0XHRtYXJnaW4tcmlnaHQ6IDRweDtcblx0XHRcdFx0YDtcblxuXHRcdFx0XHRwZXJpb2RpY05vdGVzU2V0dGluZy5hZGRUb2dnbGUodG9nZ2xlID0+IHtcblx0XHRcdFx0XHR0b2dnbGUuc2V0VmFsdWUocGVyaW9kaWNOb3Rlc0VuYWJsZWQpXG5cdFx0XHRcdFx0XHQuc2V0RGlzYWJsZWQoIXBlcmlvZGljTm90ZXNEZXRlY3RlZClcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLm1jcFRvb2xzKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5tY3BUb29scyA9IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZGVmYXVsdHM6IHsgaW5ib3hGb2xkZXI6ICcnLCBlbmFibGVTbWFydEZvbGRlclJlc29sdXRpb246IHRydWUgfSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0aW50ZWdyYXRpb25zOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGVtcGxhdGVyOiB7IGRldGVjdGVkOiBmYWxzZSwgZW5hYmxlZDogZmFsc2UsIHVzZVRlbXBsYXRlRm9sZGVyczogZmFsc2UgfSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwZXJpb2RpY05vdGVzOiB7IGRldGVjdGVkOiBmYWxzZSwgZW5hYmxlZDogZmFsc2UsIHVzZVBlcmlvZGljRm9sZGVyczogZmFsc2UgfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0b29sczogW11cblx0XHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm1jcFRvb2xzLmludGVncmF0aW9ucy5wZXJpb2RpY05vdGVzLmVuYWJsZWQgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdQZXJpb2RpYyBOb3RlcyBpbnRlZ3JhdGlvbiB0b2dnbGVkJywgeyBlbmFibGVkOiB2YWx1ZSB9KTtcblx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoc2F2ZUVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignRmFpbGVkIHRvIHNhdmUgUGVyaW9kaWMgTm90ZXMgc2V0dGluZycsIHsgZXJyb3I6IHNhdmVFcnJvciB9KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGlmICghcGVyaW9kaWNOb3Rlc0RldGVjdGVkKSB7XG5cdFx0XHRcdFx0cGVyaW9kaWNOb3Rlc1NldHRpbmcuZGVzY0VsLmFwcGVuZFRleHQoJyAoUGx1Z2luIG5vdCBkZXRlY3RlZCAtIGluc3RhbGwgUGVyaW9kaWMgTm90ZXMgdG8gZW5hYmxlIHRoaXMgaW50ZWdyYXRpb24pJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKHBlcmlvZGljRXJyb3IpIHtcblx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignRXJyb3Igc2V0dGluZyB1cCBQZXJpb2RpYyBOb3RlcyBpbnRlZ3JhdGlvbicsIHsgZXJyb3I6IHBlcmlvZGljRXJyb3IgfSk7XG5cdFx0XHR9XG5cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignRXJyb3IgaW4gM3JkIFBhcnR5IEludGVncmF0aW9ucyBzZWN0aW9uJywge1xuXHRcdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpXG5cdFx0XHR9KTtcblx0XHRcdGNvbnRlbnQuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ0Vycm9yIGxvYWRpbmcgM3JkIFBhcnR5IEludGVncmF0aW9ucyBzZWN0aW9uJywgY2xzOiAnc2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uJyB9KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQWRkIE1DUCBUb29sIERlZmluaXRpb25zIHNlY3Rpb25cblx0ICovXG5cdHByaXZhdGUgYWRkTUNQVG9vbERlZmluaXRpb25zU2VjdGlvbihjb250ZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xuXHRcdHRyeSB7XG5cdFx0XHRjb250ZW50LmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ1Rvb2wgRGVmaW5pdGlvbnMnLCBjbHM6ICdzZXR0aW5nLWl0ZW0tbmFtZScgfSk7XG5cblx0XHRcdC8vIEF2YWlsYWJsZSBNQ1AgVG9vbHMgdGl0bGVcblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXG5cdFx0XHRcdC5zZXROYW1lKCdBdmFpbGFibGUgTUNQIFRvb2xzJyApXG5cdFx0XHRcdC5zZXREZXNjKCdDdXJyZW50bHkgYXZhaWxhYmxlIE1DUCB0b29scyBmcm9tIG1lZ2FtZW1fbWNwX3NlcnZlci5weScpO1xuXG5cdFx0XHQvLyBDcmVhdGUgdG9vbHMgZGlzcGxheSBjb250YWluZXIgYmVsb3cgdGhlIHNldHRpbmdcblx0XHRcdGNvbnN0IHRvb2xzQ29udGFpbmVyID0gY29udGVudC5jcmVhdGVEaXYoJ21jcC10b29scy1kaXNwbGF5Jyk7XG5cdFx0XHR0b29sc0NvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gYFxuXHRcdFx0XHRtYXJnaW46IDE2cHggMDtcblx0XHRcdFx0Ym9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuXHRcdFx0XHRib3JkZXItcmFkaXVzOiA2cHg7XG5cdFx0XHRcdG1heC1oZWlnaHQ6IDQwMHB4O1xuXHRcdFx0XHRvdmVyZmxvdy15OiBhdXRvO1xuXHRcdFx0YDtcblxuXHRcdFx0Ly8gR3JhcGhpdGkgVG9vbHMgU2VjdGlvblxuXHRcdFx0Y29uc3QgZ3JhcGhpdGlIZWFkZXIgPSB0b29sc0NvbnRhaW5lci5jcmVhdGVEaXYoKTtcblx0XHRcdGdyYXBoaXRpSGVhZGVyLnN0eWxlLmNzc1RleHQgPSBgXG5cdFx0XHRcdGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpO1xuXHRcdFx0XHRwYWRkaW5nOiA4cHggMTJweDtcblx0XHRcdFx0Zm9udC13ZWlnaHQ6IDYwMDtcblx0XHRcdFx0Ym9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcblx0XHRcdGA7XG5cdFx0XHRncmFwaGl0aUhlYWRlci50ZXh0Q29udGVudCA9ICdHcmFwaGl0aSBNZW1vcnkgVG9vbHMgKDkgdG9vbHMpJztcblxuXHRcdFx0Y29uc3QgZ3JhcGhpdGlUb29scyA9IFtcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6ICdhZGRfbWVtb3J5Jyxcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogJ0FkZCBhIG1lbW9yeS9lcGlzb2RlIHRvIHRoZSBncmFwaCAoYWxpYXNlczogbW0sIG1lZ2FtZW0sIG1lbW9yeSknXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRuYW1lOiAnc2VhcmNoX21lbW9yeV9ub2RlcycsXG5cdFx0XHRcdFx0ZGVzY3JpcHRpb246ICdTZWFyY2ggZm9yIG5vZGVzIGluIHRoZSBtZW1vcnkgZ3JhcGggKGFsaWFzZXM6IG1tLCBtZWdhbWVtLCBtZW1vcnkpJ1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogJ3NlYXJjaF9tZW1vcnlfZmFjdHMnLFxuXHRcdFx0XHRcdGRlc2NyaXB0aW9uOiAnU2VhcmNoIGZvciBmYWN0cy9yZWxhdGlvbnNoaXBzIGluIHRoZSBtZW1vcnkgZ3JhcGggKGFsaWFzZXM6IG1tLCBtZWdhbWVtLCBtZW1vcnkpJ1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogJ2dldF9lcGlzb2RlcycsXG5cdFx0XHRcdFx0ZGVzY3JpcHRpb246ICdHZXQgZXBpc29kZXMgZnJvbSB0aGUgbWVtb3J5IGdyYXBoIChhbGlhc2VzOiBtbSwgbWVnYW1lbSwgbWVtb3J5KSdcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6ICdjbGVhcl9ncmFwaCcsXG5cdFx0XHRcdFx0ZGVzY3JpcHRpb246ICdDbGVhciB0aGUgZW50aXJlIG1lbW9yeSBncmFwaCAoYWxpYXNlczogbW0sIG1lZ2FtZW0sIG1lbW9yeSknXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRuYW1lOiAnZ2V0X2VudGl0eV9lZGdlJyxcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogJ0dldCBlbnRpdHkgZWRnZXMgZnJvbSB0aGUgZ3JhcGggKGFsaWFzZXM6IG1tLCBtZWdhbWVtLCBtZW1vcnkpJ1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogJ2RlbGV0ZV9lbnRpdHlfZWRnZScsXG5cdFx0XHRcdFx0ZGVzY3JpcHRpb246ICdEZWxldGUgZW50aXR5IGVkZ2VzIGZyb20gdGhlIGdyYXBoIChhbGlhc2VzOiBtbSwgbWVnYW1lbSwgbWVtb3J5KSdcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6ICdkZWxldGVfZXBpc29kZScsXG5cdFx0XHRcdFx0ZGVzY3JpcHRpb246ICdEZWxldGUgYW4gZXBpc29kZSBmcm9tIHRoZSBncmFwaCAoYWxpYXNlczogbW0sIG1lZ2FtZW0sIG1lbW9yeSknXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRuYW1lOiAnbGlzdF9ncm91cF9pZHMnLFxuXHRcdFx0XHRcdGRlc2NyaXB0aW9uOiAnTGlzdCBhbGwgYXZhaWxhYmxlIGdyb3VwIElEcyAobmFtZXNwYWNlcykgaW4gdGhlIHZhdWx0IChhbGlhc2VzOiBtbSwgbWVnYW1lbSwgbWVtb3J5KSdcblx0XHRcdFx0fVxuXHRcdFx0XTtcblxuXHRcdFx0Z3JhcGhpdGlUb29scy5mb3JFYWNoKHRvb2wgPT4ge1xuXHRcdFx0XHRjb25zdCB0b29sSXRlbSA9IHRvb2xzQ29udGFpbmVyLmNyZWF0ZURpdigpO1xuXHRcdFx0XHR0b29sSXRlbS5zdHlsZS5jc3NUZXh0ID0gYFxuXHRcdFx0XHRcdHBhZGRpbmc6IDhweCAxMnB4O1xuXHRcdFx0XHRcdGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlci1ob3Zlcik7XG5cdFx0XHRcdGA7XG5cblx0XHRcdFx0Y29uc3QgdG9vbE5hbWUgPSB0b29sSXRlbS5jcmVhdGVEaXYoKTtcblx0XHRcdFx0dG9vbE5hbWUuc3R5bGUuY3NzVGV4dCA9IGBcblx0XHRcdFx0XHRmb250LXdlaWdodDogNTAwO1xuXHRcdFx0XHRcdGNvbG9yOiB2YXIoLS10ZXh0LWFjY2VudCk7XG5cdFx0XHRcdFx0Zm9udC1mYW1pbHk6IHZhcigtLWZvbnQtbW9ub3NwYWNlKTtcblx0XHRcdFx0XHRmb250LXNpemU6IDEzcHg7XG5cdFx0XHRcdGA7XG5cdFx0XHRcdHRvb2xOYW1lLnRleHRDb250ZW50ID0gdG9vbC5uYW1lO1xuXG5cdFx0XHRcdGNvbnN0IHRvb2xEZXNjID0gdG9vbEl0ZW0uY3JlYXRlRGl2KCk7XG5cdFx0XHRcdHRvb2xEZXNjLnN0eWxlLmNzc1RleHQgPSBgXG5cdFx0XHRcdFx0Zm9udC1zaXplOiAxMnB4O1xuXHRcdFx0XHRcdGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcblx0XHRcdFx0XHRtYXJnaW4tdG9wOiAycHg7XG5cdFx0XHRcdGA7XG5cdFx0XHRcdHRvb2xEZXNjLnRleHRDb250ZW50ID0gdG9vbC5kZXNjcmlwdGlvbjtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBPYnNpZGlhbiBUb29scyBTZWN0aW9uXG5cdFx0XHRjb25zdCBvYnNpZGlhbkhlYWRlciA9IHRvb2xzQ29udGFpbmVyLmNyZWF0ZURpdigpO1xuXHRcdFx0b2JzaWRpYW5IZWFkZXIuc3R5bGUuY3NzVGV4dCA9IGBcblx0XHRcdFx0YmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG5cdFx0XHRcdHBhZGRpbmc6IDhweCAxMnB4O1xuXHRcdFx0XHRmb250LXdlaWdodDogNjAwO1xuXHRcdFx0XHRib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuXHRcdFx0XHRtYXJnaW4tdG9wOiA0cHg7XG5cdFx0XHRgO1xuXHRcdFx0b2JzaWRpYW5IZWFkZXIudGV4dENvbnRlbnQgPSAnT2JzaWRpYW4gVmF1bHQgVG9vbHMgKDcgdG9vbHMpJztcblxuXHRcdFx0Y29uc3Qgb2JzaWRpYW5Ub29scyA9IFtcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6ICdzZWFyY2hfb2JzaWRpYW5fbm90ZXMnLFxuXHRcdFx0XHRcdGRlc2NyaXB0aW9uOiAnU2VhcmNoIGZvciBub3RlcyBpbiBPYnNpZGlhbiB2YXVsdCBieSBmaWxlbmFtZSBhbmQvb3IgY29udGVudCAoYWxpYXNlczogbXYsIG15IHZhdWx0LCBvYnNpZGlhbiknXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRuYW1lOiAncmVhZF9vYnNpZGlhbl9ub3RlJyxcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogJ1JlYWQgYSBzcGVjaWZpYyBub3RlIGZyb20gT2JzaWRpYW4gKGFsaWFzZXM6IG12LCBteSB2YXVsdCwgb2JzaWRpYW4pJ1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogJ3VwZGF0ZV9vYnNpZGlhbl9ub3RlJyxcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogJ1VwZGF0ZSBjb250ZW50IG9mIGFuIGV4aXN0aW5nIG5vdGUgKGFsaWFzZXM6IG12LCBteSB2YXVsdCwgb2JzaWRpYW4pJ1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogJ2NyZWF0ZV9vYnNpZGlhbl9ub3RlJyxcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogJ0NyZWF0ZSBhIG5ldyBub3RlIGluIE9ic2lkaWFuIChhbGlhc2VzOiBtdiwgbXkgdmF1bHQsIG9ic2lkaWFuKSdcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6ICdsaXN0X29ic2lkaWFuX3ZhdWx0cycsXG5cdFx0XHRcdFx0ZGVzY3JpcHRpb246ICdMaXN0IGFsbCBhdmFpbGFibGUgT2JzaWRpYW4gdmF1bHRzIChhbGlhc2VzOiBtdiwgbXkgdmF1bHQsIG9ic2lkaWFuKSdcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6ICdleHBsb3JlX3ZhdWx0X2ZvbGRlcnMnLFxuXHRcdFx0XHRcdGRlc2NyaXB0aW9uOiAnRXhwbG9yZSBmb2xkZXIgc3RydWN0dXJlIGluIGFuIE9ic2lkaWFuIHZhdWx0IChxdWVyeSBieSBuYXR1cmFsIGxhbmd1YWdlIG9yIHBhdGgpJ1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogJ2NyZWF0ZV9ub3RlX3dpdGhfdGVtcGxhdGUnLFxuXHRcdFx0XHRcdGRlc2NyaXB0aW9uOiAnQ3JlYXRlIGEgbmV3IG5vdGUgdXNpbmcgYSB0ZW1wbGF0ZXIgdGVtcGxhdGUgKGZ1enp5LW1hdGNoKSBpbiB0aGUgdmF1bHQnXG5cdFx0XHRcdH1cblx0XHRcdF07XG5cblx0XHRcdG9ic2lkaWFuVG9vbHMuZm9yRWFjaCh0b29sID0+IHtcblx0XHRcdFx0Y29uc3QgdG9vbEl0ZW0gPSB0b29sc0NvbnRhaW5lci5jcmVhdGVEaXYoKTtcblx0XHRcdFx0dG9vbEl0ZW0uc3R5bGUuY3NzVGV4dCA9IGBcblx0XHRcdFx0XHRwYWRkaW5nOiA4cHggMTJweDtcblx0XHRcdFx0XHRib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXItaG92ZXIpO1xuXHRcdFx0XHRgO1xuXG5cdFx0XHRcdGNvbnN0IHRvb2xOYW1lID0gdG9vbEl0ZW0uY3JlYXRlRGl2KCk7XG5cdFx0XHRcdHRvb2xOYW1lLnN0eWxlLmNzc1RleHQgPSBgXG5cdFx0XHRcdFx0Zm9udC13ZWlnaHQ6IDUwMDtcblx0XHRcdFx0XHRjb2xvcjogdmFyKC0tdGV4dC1hY2NlbnQpO1xuXHRcdFx0XHRcdGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LW1vbm9zcGFjZSk7XG5cdFx0XHRcdFx0Zm9udC1zaXplOiAxM3B4O1xuXHRcdFx0XHRgO1xuXHRcdFx0XHR0b29sTmFtZS50ZXh0Q29udGVudCA9IHRvb2wubmFtZTtcblxuXHRcdFx0XHRjb25zdCB0b29sRGVzYyA9IHRvb2xJdGVtLmNyZWF0ZURpdigpO1xuXHRcdFx0XHR0b29sRGVzYy5zdHlsZS5jc3NUZXh0ID0gYFxuXHRcdFx0XHRcdGZvbnQtc2l6ZTogMTJweDtcblx0XHRcdFx0XHRjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG5cdFx0XHRcdFx0bWFyZ2luLXRvcDogMnB4O1xuXHRcdFx0XHRgO1xuXHRcdFx0XHR0b29sRGVzYy50ZXh0Q29udGVudCA9IHRvb2wuZGVzY3JpcHRpb247XG5cdFx0XHR9KTtcblxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdFcnJvciBpbiBUb29sIERlZmluaXRpb25zIHNlY3Rpb24nLCB7XG5cdFx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcilcblx0XHRcdH0pO1xuXHRcdFx0Y29udGVudC5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnRXJyb3IgbG9hZGluZyBUb29sIERlZmluaXRpb25zIHNlY3Rpb24nLCBjbHM6ICdzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24nIH0pO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBBdXRvLWRldGVjdCBwbHVnaW5zXG5cdCAqL1xuXHRhc3luYyBhdXRvRGV0ZWN0UGx1Z2lucygpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnUnVubmluZyBhdXRvLWRldGVjdGlvbiBmb3IgYWxsIHBsdWdpbnMnKTtcblxuXHRcdFx0Ly8gR2V0IHZhdWx0IGJhc2UgcGF0aCBmb3IgZGV0ZWN0aW9uXG5cdFx0XHQvLyBAdHMtaWdub3JlIHZhdWx0IGFkYXB0ZXJcblx0XHRcdGNvbnN0IGFkYXB0ZXIgPSAodGhpcy5hcHAudmF1bHQuYWRhcHRlciBhcyBhbnkpO1xuXHRcdFx0Y29uc3QgdmF1bHRQYXRoID0gYWRhcHRlcj8uYmFzZVBhdGg7XG5cblx0XHRcdC8vIERldGVjdCBwbHVnaW5zXG5cdFx0XHRjb25zdCB0ZW1wbGF0ZXJEZXRlY3RlZCA9ICEhKHRoaXMuYXBwIGFzIGFueSkucGx1Z2lucy5wbHVnaW5zW1widGVtcGxhdGVyLW9ic2lkaWFuXCJdO1xuXHRcdFx0Y29uc3QgcGVyaW9kaWNOb3Rlc0RldGVjdGVkID0gISEodGhpcy5hcHAgYXMgYW55KS5wbHVnaW5zLnBsdWdpbnNbXCJwZXJpb2RpYy1ub3Rlc1wiXTtcblxuXHRcdFx0Ly8gRW5zdXJlIE1DUCB0b29scyBzZXR0aW5ncyBzdHJ1Y3R1cmUgZXhpc3RzXG5cdFx0XHR0aGlzLmVuc3VyZU1DUFRvb2xzU2V0dGluZ3MoKTtcblxuXHRcdFx0Ly8gVXBkYXRlIGRldGVjdGlvbiBzdGF0dXMgaW4gc2V0dGluZ3Ncblx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm1jcFRvb2xzLmludGVncmF0aW9ucy50ZW1wbGF0ZXIuZGV0ZWN0ZWQgPSB0ZW1wbGF0ZXJEZXRlY3RlZDtcblx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm1jcFRvb2xzLmludGVncmF0aW9ucy5wZXJpb2RpY05vdGVzLmRldGVjdGVkID0gcGVyaW9kaWNOb3Rlc0RldGVjdGVkO1xuXG5cdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnQXV0by1kZXRlY3Rpb24gY29tcGxldGVkJywge1xuXHRcdFx0XHR0ZW1wbGF0ZXI6IHRlbXBsYXRlckRldGVjdGVkLFxuXHRcdFx0XHRwZXJpb2RpY05vdGVzOiBwZXJpb2RpY05vdGVzRGV0ZWN0ZWRcblx0XHRcdH0pO1xuXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ0F1dG8tZGV0ZWN0aW9uIGZhaWxlZCcsIHsgZXJyb3IgfSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIENoZWNrIGlmIHBsdWdpbiBpcyBkZXRlY3RlZFxuXHQgKi9cblx0aXNQbHVnaW5EZXRlY3RlZChwbHVnaW5OYW1lOiAndGVtcGxhdGVyJyB8ICdwZXJpb2RpY05vdGVzJyk6IGJvb2xlYW4ge1xuXHRcdHRyeSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5wbHVnaW4uc2V0dGluZ3MubWNwVG9vbHM/LmludGVncmF0aW9ucz8uW3BsdWdpbk5hbWVdPy5kZXRlY3RlZCB8fCBmYWxzZTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignRXJyb3IgY2hlY2tpbmcgcGx1Z2luIGRldGVjdGlvbiBzdGF0dXMnLCB7IHBsdWdpbk5hbWUsIGVycm9yIH0pO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBFbnN1cmUgTUNQIFRvb2xzIHNldHRpbmdzIHN0cnVjdHVyZSBleGlzdHNcblx0ICovXG5cdGVuc3VyZU1DUFRvb2xzU2V0dGluZ3MoKTogdm9pZCB7XG5cdFx0dHJ5IHtcblx0XHRcdGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3MubWNwVG9vbHMpIHtcblx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubWNwVG9vbHMgPSB7XG5cdFx0XHRcdFx0ZGVmYXVsdHM6IHtcblx0XHRcdFx0XHRcdGluYm94Rm9sZGVyOiAnJyxcblx0XHRcdFx0XHRcdGVuYWJsZVNtYXJ0Rm9sZGVyUmVzb2x1dGlvbjogdHJ1ZVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0aW50ZWdyYXRpb25zOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZXI6IHsgZGV0ZWN0ZWQ6IGZhbHNlLCBlbmFibGVkOiBmYWxzZSwgdXNlVGVtcGxhdGVGb2xkZXJzOiBmYWxzZSB9LFxuXHRcdFx0XHRcdFx0cGVyaW9kaWNOb3RlczogeyBkZXRlY3RlZDogZmFsc2UsIGVuYWJsZWQ6IGZhbHNlLCB1c2VQZXJpb2RpY0ZvbGRlcnM6IGZhbHNlIH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHRvb2xzOiBbXVxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBFbnN1cmUgc3ViLXNlY3Rpb25zIGV4aXN0XG5cdFx0XHRpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLm1jcFRvb2xzLmRlZmF1bHRzKSB7XG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm1jcFRvb2xzLmRlZmF1bHRzID0ge1xuXHRcdFx0XHRcdGluYm94Rm9sZGVyOiAnJyxcblx0XHRcdFx0XHRlbmFibGVTbWFydEZvbGRlclJlc29sdXRpb246IHRydWVcblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5tY3BUb29scy5pbnRlZ3JhdGlvbnMpIHtcblx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubWNwVG9vbHMuaW50ZWdyYXRpb25zID0ge1xuXHRcdFx0XHRcdHRlbXBsYXRlcjogeyBkZXRlY3RlZDogZmFsc2UsIGVuYWJsZWQ6IGZhbHNlLCB1c2VUZW1wbGF0ZUZvbGRlcnM6IGZhbHNlIH0sXG5cdFx0XHRcdFx0cGVyaW9kaWNOb3RlczogeyBkZXRlY3RlZDogZmFsc2UsIGVuYWJsZWQ6IGZhbHNlLCB1c2VQZXJpb2RpY0ZvbGRlcnM6IGZhbHNlIH1cblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5tY3BUb29scy50b29scykge1xuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5tY3BUb29scy50b29scyA9IFtdO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdNQ1AgdG9vbHMgc2V0dGluZ3Mgc3RydWN0dXJlIGVuc3VyZWQnKTtcblxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdFcnJvciBlbnN1cmluZyBNQ1AgdG9vbHMgc2V0dGluZ3MnLCB7IGVycm9yIH0pO1xuXHRcdH1cblx0fVxufVxuXG4vLyBAdmVzc2VsLWNsb3NlOkJyYWdpIiwiaW1wb3J0IHsgQXBwLCBNb2RhbCB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IFB5dGhvbkluc3RhbGxlciwgdHlwZSBEZXBlbmRlbmN5U3RhdHVzIH0gZnJvbSAnLi4vc2VydmljZXMvUHl0aG9uSW5zdGFsbGVyJztcbmltcG9ydCB7IEdyYXBoaXRpTG9nZ2VyIH0gZnJvbSAnLi4vdXRpbHMvTG9nZ2VyJztcblxuZXhwb3J0IGNsYXNzIERlcGVuZGVuY3lTdGF0dXNNb2RhbCBleHRlbmRzIE1vZGFsIHtcblx0cHJpdmF0ZSBpbnN0YWxsZXI6IFB5dGhvbkluc3RhbGxlcjtcblx0cHJpdmF0ZSBwbHVnaW46IGFueTtcblx0cHJpdmF0ZSBvbkNvbXBsZXRlPzogKCkgPT4gdm9pZDtcblx0cHJpdmF0ZSBsb2dnZXI6IEdyYXBoaXRpTG9nZ2VyO1xuXG5cdHByaXZhdGUgc3RhdHVzRWw/OiBIVE1MRWxlbWVudDtcblx0cHJpdmF0ZSBsb2dFbD86IEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG5cdHByaXZhdGUgaW5zdGFsbEJ1dHRvbj86IEhUTUxCdXR0b25FbGVtZW50O1xuXHRwcml2YXRlIGlzSW5zdGFsbGluZyA9IGZhbHNlO1xuXHRwcml2YXRlIHVzZVV2ID0gZmFsc2U7XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0YXBwOiBBcHAsXG5cdFx0cGx1Z2luOiBhbnksXG5cdFx0aW5zdGFsbGVyOiBQeXRob25JbnN0YWxsZXIsXG5cdFx0b25Db21wbGV0ZT86ICgpID0+IHZvaWRcblx0KSB7XG5cdFx0c3VwZXIoYXBwKTtcblx0XHR0aGlzLmluc3RhbGxlciA9IGluc3RhbGxlcjtcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcblx0XHR0aGlzLm9uQ29tcGxldGUgPSBvbkNvbXBsZXRlO1xuXHRcdHRoaXMubG9nZ2VyID0gbmV3IEdyYXBoaXRpTG9nZ2VyKHBsdWdpbiwgZmFsc2UpO1xuXHR9XG5cblx0YXN5bmMgb25PcGVuKCkge1xuXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuXHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xuXG5cdFx0Y29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ1B5dGhvbiBEZXBlbmRlbmNpZXMgU3RhdHVzJyB9KTtcblxuXHRcdHRoaXMuc3RhdHVzRWwgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnZGVwZW5kZW5jeS1zdGF0dXMtY29udGFpbmVyJyB9KTtcblxuXHRcdGNvbnN0IHN0YXR1cyA9IGF3YWl0IHRoaXMuaW5zdGFsbGVyLmNoZWNrQWxsRGVwZW5kZW5jaWVzKCk7XG5cdFx0dGhpcy5kaXNwbGF5U3RhdHVzKHN0YXR1cyk7XG5cblx0XHRjb25zdCBsb2dDb250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnZGVwZW5kZW5jeS1sb2ctY29udGFpbmVyJyB9KTtcblx0XHRsb2dDb250YWluZXIuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnSW5zdGFsbGF0aW9uIExvZycgfSk7XG5cdFx0dGhpcy5sb2dFbCA9IGxvZ0NvbnRhaW5lci5jcmVhdGVFbCgndGV4dGFyZWEnLCB7XG5cdFx0XHRjbHM6ICdkZXBlbmRlbmN5LWxvZy1jb250ZW50Jyxcblx0XHRcdGF0dHI6IHsgcmVhZG9ubHk6ICd0cnVlJywgcm93czogJzEwJyB9XG5cdFx0fSkgYXMgSFRNTFRleHRBcmVhRWxlbWVudDtcblxuXHRcdGNvbnN0IGluc3RhbGxPcHRpb25zQ29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZURpdih7IGNsczogJ2RlcGVuZGVuY3ktaW5zdGFsbC1vcHRpb25zJyB9KTtcblx0XHRpbnN0YWxsT3B0aW9uc0NvbnRhaW5lci5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdJbnN0YWxsYXRpb24gTWV0aG9kJyB9KTtcblxuXHRcdGNvbnN0IHN5c3RlbU9wdGlvbiA9IGluc3RhbGxPcHRpb25zQ29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2RlcGVuZGVuY3ktcmFkaW8tb3B0aW9uJyB9KTtcblx0XHRjb25zdCBzeXN0ZW1SYWRpbyA9IHN5c3RlbU9wdGlvbi5jcmVhdGVFbCgnaW5wdXQnLCB7XG5cdFx0XHR0eXBlOiAncmFkaW8nLFxuXHRcdFx0YXR0cjogeyBuYW1lOiAnaW5zdGFsbC1tZXRob2QnLCB2YWx1ZTogJ3N5c3RlbScsIGNoZWNrZWQ6ICdjaGVja2VkJyB9XG5cdFx0fSkgYXMgSFRNTElucHV0RWxlbWVudDtcblx0XHRzeXN0ZW1SYWRpby5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG5cdFx0XHR0aGlzLnVzZVV2ID0gZmFsc2U7XG5cdFx0fSk7XG5cdFx0c3lzdGVtT3B0aW9uLmNyZWF0ZUVsKCdsYWJlbCcsIHsgdGV4dDogJyBJbnN0YWxsIHdpdGggU3lzdGVtIFB5dGhvbiAoZGVmYXVsdCknIH0pO1xuXG5cdFx0Y29uc3QgdXZPcHRpb24gPSBpbnN0YWxsT3B0aW9uc0NvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdkZXBlbmRlbmN5LXJhZGlvLW9wdGlvbicgfSk7XG5cdFx0Y29uc3QgdXZSYWRpbyA9IHV2T3B0aW9uLmNyZWF0ZUVsKCdpbnB1dCcsIHtcblx0XHRcdHR5cGU6ICdyYWRpbycsXG5cdFx0XHRhdHRyOiB7IG5hbWU6ICdpbnN0YWxsLW1ldGhvZCcsIHZhbHVlOiAndXYnIH1cblx0XHR9KSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuXHRcdHV2UmFkaW8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuXHRcdFx0dGhpcy51c2VVdiA9IHRydWU7XG5cdFx0fSk7XG5cdFx0dXZPcHRpb24uY3JlYXRlRWwoJ2xhYmVsJywgeyB0ZXh0OiAnIEluc3RhbGwgd2l0aCBVViBQYWNrYWdlIE1hbmFnZXInIH0pO1xuXG5cdFx0Y29uc3QgdXZEZXNjcmlwdGlvbiA9IGluc3RhbGxPcHRpb25zQ29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2RlcGVuZGVuY3ktb3B0aW9uLWRlc2MnIH0pO1xuXHRcdHV2RGVzY3JpcHRpb24uc2V0VGV4dCgnVVYgaXMgZmFzdGVyIGJ1dCBleHBlcmltZW50YWwuIFN5c3RlbSBQeXRob24gaXMgcmVjb21tZW5kZWQgZm9yIG1vc3QgdXNlcnMuJyk7XG5cblx0XHRjb25zdCBidXR0b25Db250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnZGVwZW5kZW5jeS1idXR0b24tY29udGFpbmVyJyB9KTtcblxuXHRcdHRoaXMuaW5zdGFsbEJ1dHRvbiA9IGJ1dHRvbkNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywge1xuXHRcdFx0dGV4dDogJ0luc3RhbGwgRGVwZW5kZW5jaWVzJyxcblx0XHRcdGNsczogJ21vZC1jdGEnXG5cdFx0fSk7XG5cdFx0dGhpcy5pbnN0YWxsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5oYW5kbGVJbnN0YWxsKCkpO1xuXG5cdFx0Y29uc3QgY2xvc2VCdXR0b24gPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0Nsb3NlJyB9KTtcblx0XHRjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuY2xvc2UoKSk7XG5cblx0XHR0aGlzLmFkZEN1c3RvbVN0eWxlcygpO1xuXHR9XG5cblx0ZGlzcGxheVN0YXR1cyhzdGF0dXM6IERlcGVuZGVuY3lTdGF0dXMpIHtcblx0XHRpZiAoIXRoaXMuc3RhdHVzRWwpIHJldHVybjtcblxuXHRcdHRoaXMuc3RhdHVzRWwuZW1wdHkoKTtcblxuXHRcdGNvbnN0IGl0ZW1zID0gW1xuXHRcdFx0e1xuXHRcdFx0XHRsYWJlbDogJ1N5c3RlbSBQeXRob24nLFxuXHRcdFx0XHRzdGF0dXM6IHN0YXR1cy5zeXN0ZW1QeXRob24gPyAnW09LXScgOiAnW1hdJyxcblx0XHRcdFx0ZGV0YWlsOiBzdGF0dXMuc3lzdGVtUHl0aG9uID8gYCR7c3RhdHVzLnN5c3RlbVB5dGhvbi52ZXJzaW9ufSBhdCAke3N0YXR1cy5zeXN0ZW1QeXRob24ucGF0aH1gIDogJ05vdCBmb3VuZCcsXG5cdFx0XHRcdHN1Y2Nlc3M6ICEhc3RhdHVzLnN5c3RlbVB5dGhvblxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0bGFiZWw6ICdVViBQYWNrYWdlIE1hbmFnZXInLFxuXHRcdFx0XHRzdGF0dXM6IHN0YXR1cy51dkluc3RhbGxlZCA/ICdbT0tdJyA6ICdbWF0nLFxuXHRcdFx0XHRkZXRhaWw6IHN0YXR1cy51dkluc3RhbGxlZCA/ICdJbnN0YWxsZWQnIDogJ05vdCBpbnN0YWxsZWQnLFxuXHRcdFx0XHRzdWNjZXNzOiBzdGF0dXMudXZJbnN0YWxsZWRcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGxhYmVsOiAnVmlydHVhbCBFbnZpcm9ubWVudCcsXG5cdFx0XHRcdHN0YXR1czogc3RhdHVzLnZlbnZFeGlzdHMgPyAnW09LXScgOiAnW1hdJyxcblx0XHRcdFx0ZGV0YWlsOiBzdGF0dXMudmVudkV4aXN0cyA/IHN0YXR1cy52ZW52UGF0aCA6ICdOb3QgY3JlYXRlZCcsXG5cdFx0XHRcdHN1Y2Nlc3M6IHN0YXR1cy52ZW52RXhpc3RzXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRsYWJlbDogJ0dyYXBoaXRpIERlcGVuZGVuY2llcycsXG5cdFx0XHRcdHN0YXR1czogc3RhdHVzLmdyYXBoaXRpSW5zdGFsbGVkID8gJ1tPS10nIDogJ1tYXScsXG5cdFx0XHRcdGRldGFpbDogc3RhdHVzLmdyYXBoaXRpSW5zdGFsbGVkXG5cdFx0XHRcdFx0PyAoc3RhdHVzLmdyYXBoaXRpVmVyc2lvbiA/IGB2JHtzdGF0dXMuZ3JhcGhpdGlWZXJzaW9ufWAgOiAnSW5zdGFsbGVkJylcblx0XHRcdFx0XHQ6ICdOb3QgaW5zdGFsbGVkJyxcblx0XHRcdFx0c3VjY2Vzczogc3RhdHVzLmdyYXBoaXRpSW5zdGFsbGVkXG5cdFx0XHR9XG5cdFx0XTtcblxuXHRcdGl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG5cdFx0XHRjb25zdCBpdGVtRWwgPSB0aGlzLnN0YXR1c0VsIS5jcmVhdGVEaXYoeyBjbHM6ICdkZXBlbmRlbmN5LXN0YXR1cy1pdGVtJyB9KTtcblx0XHRcdGNvbnN0IHN0YXR1c1NwYW4gPSBpdGVtRWwuY3JlYXRlU3Bhbih7XG5cdFx0XHRcdHRleHQ6IGl0ZW0uc3RhdHVzLFxuXHRcdFx0XHRjbHM6IGl0ZW0uc3VjY2VzcyA/ICdzdGF0dXMtc3VjY2VzcycgOiAnc3RhdHVzLWVycm9yJ1xuXHRcdFx0fSk7XG5cdFx0XHRpdGVtRWwuY3JlYXRlU3Bhbih7IHRleHQ6IGAgJHtpdGVtLmxhYmVsfTogYCwgY2xzOiAnZGVwZW5kZW5jeS1sYWJlbCcgfSk7XG5cdFx0XHRpdGVtRWwuY3JlYXRlU3Bhbih7IHRleHQ6IGl0ZW0uZGV0YWlsLCBjbHM6ICdkZXBlbmRlbmN5LWRldGFpbCcgfSk7XG5cdFx0fSk7XG5cblx0XHRpZiAoc3RhdHVzLm1pc21hdGNoLmRldGVjdGVkKSB7XG5cdFx0XHRjb25zdCB3YXJuaW5nRWwgPSB0aGlzLnN0YXR1c0VsLmNyZWF0ZURpdih7IGNsczogJ2RlcGVuZGVuY3ktd2FybmluZycgfSk7XG5cdFx0XHR3YXJuaW5nRWwuY3JlYXRlU3Bhbih7IHRleHQ6ICdbV0FSTklOR10gJyB9KTtcblx0XHRcdHdhcm5pbmdFbC5jcmVhdGVTcGFuKHsgdGV4dDogc3RhdHVzLm1pc21hdGNoLmRlc2NyaXB0aW9uIH0pO1xuXHRcdH1cblx0fVxuXG5cdGFzeW5jIGhhbmRsZUluc3RhbGwoKSB7XG5cdFx0aWYgKHRoaXMuaXNJbnN0YWxsaW5nKSByZXR1cm47XG5cblx0XHR0aGlzLmlzSW5zdGFsbGluZyA9IHRydWU7XG5cdFx0aWYgKHRoaXMuaW5zdGFsbEJ1dHRvbikge1xuXHRcdFx0dGhpcy5pbnN0YWxsQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcblx0XHRcdHRoaXMuaW5zdGFsbEJ1dHRvbi5zZXRUZXh0KCdJbnN0YWxsaW5nLi4uJyk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgbWV0aG9kID0gdGhpcy51c2VVdiA/ICd1dicgOiAnc3lzdGVtJztcblx0XHR0aGlzLmFkZExvZyhgW0lORk9dIFN0YXJ0aW5nIGluc3RhbGxhdGlvbiB1c2luZyAke21ldGhvZH0uLi5gKTtcblxuXHRcdHRyeSB7XG5cdFx0XHRhd2FpdCB0aGlzLmluc3RhbGxlci5pbnN0YWxsRGVwZW5kZW5jaWVzKG1ldGhvZCwgKHN0YXR1c01zZzogc3RyaW5nLCBwZXJjZW50OiBudW1iZXIpID0+IHtcblx0XHRcdFx0dGhpcy5hZGRMb2coYFtJTkZPXSAke3N0YXR1c01zZ30gKCR7cGVyY2VudH0lKWApO1xuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMuYWRkTG9nKCdbU1VDQ0VTU10gSW5zdGFsbGF0aW9uIGNvbXBsZXRlIScpO1xuXG5cdFx0XHRjb25zdCB2ZW52UHl0aG9uUGF0aCA9IHRoaXMuaW5zdGFsbGVyLmdldFB5dGhvbkV4ZWN1dGFibGUoKTtcblx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnB5dGhvblBhdGggPSB2ZW52UHl0aG9uUGF0aDtcblx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0dGhpcy5sb2dnZXIuaW5mbygnW0lOU1RBTExdIFNhdmVkIFB5dGhvbiBwYXRoIHRvIHNldHRpbmdzJywgeyBweXRob25QYXRoOiB2ZW52UHl0aG9uUGF0aCB9KTtcblxuXHRcdFx0Y29uc3Qgc3RhdHVzID0gYXdhaXQgdGhpcy5pbnN0YWxsZXIuY2hlY2tBbGxEZXBlbmRlbmNpZXMoKTtcblx0XHRcdHRoaXMuZGlzcGxheVN0YXR1cyhzdGF0dXMpO1xuXHRcdFx0XG5cdFx0XHR0aGlzLmFkZExvZygnW0lORk9dIFNldHRpbmdzIHVwZGF0ZWQgLSBjbG9zZSBhbmQgcmVvcGVuIFNldHRpbmdzIHRhYiB0byBzZWUgY2hhbmdlcycpO1xuXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGNvbnN0IGVycm9yTXNnID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpO1xuXHRcdFx0dGhpcy5hZGRMb2coYFtFUlJPUl0gSW5zdGFsbGF0aW9uIGZhaWxlZDogJHtlcnJvck1zZ31gKTtcblx0XHRcdHRoaXMubG9nZ2VyLmVycm9yKCdJbnN0YWxsYXRpb24gZmFpbGVkJywgZXJyb3IgYXMgRXJyb3IpO1xuXHRcdH0gZmluYWxseSB7XG5cdFx0XHR0aGlzLmlzSW5zdGFsbGluZyA9IGZhbHNlO1xuXHRcdFx0aWYgKHRoaXMuaW5zdGFsbEJ1dHRvbikge1xuXHRcdFx0XHR0aGlzLmluc3RhbGxCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcblx0XHRcdFx0dGhpcy5pbnN0YWxsQnV0dG9uLnNldFRleHQoJ0luc3RhbGwgRGVwZW5kZW5jaWVzJyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBhZGRMb2cobWVzc2FnZTogc3RyaW5nKSB7XG5cdFx0aWYgKCF0aGlzLmxvZ0VsKSByZXR1cm47XG5cblx0XHRjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygpO1xuXHRcdGNvbnN0IGxvZ01lc3NhZ2UgPSBgWyR7dGltZXN0YW1wfV0gJHttZXNzYWdlfVxcbmA7XG5cdFx0dGhpcy5sb2dFbC52YWx1ZSArPSBsb2dNZXNzYWdlO1xuXHRcdHRoaXMubG9nRWwuc2Nyb2xsVG9wID0gdGhpcy5sb2dFbC5zY3JvbGxIZWlnaHQ7XG5cdH1cblxuXHRwcml2YXRlIGFkZEN1c3RvbVN0eWxlcygpIHtcblx0XHRjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG5cdFx0c3R5bGUudGV4dENvbnRlbnQgPSBgXG5cdFx0XHQuZGVwZW5kZW5jeS1zdGF0dXMtY29udGFpbmVyIHtcblx0XHRcdFx0bWFyZ2luOiAyMHB4IDA7XG5cdFx0XHRcdHBhZGRpbmc6IDE1cHg7XG5cdFx0XHRcdGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcblx0XHRcdFx0Ym9yZGVyLXJhZGl1czogNHB4O1xuXHRcdFx0fVxuXG5cdFx0XHQuZGVwZW5kZW5jeS1zdGF0dXMtaXRlbSB7XG5cdFx0XHRcdG1hcmdpbjogOHB4IDA7XG5cdFx0XHRcdGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LW1vbm9zcGFjZSk7XG5cdFx0XHRcdGZvbnQtc2l6ZTogMTNweDtcblx0XHRcdH1cblxuXHRcdFx0LnN0YXR1cy1zdWNjZXNzIHtcblx0XHRcdFx0Y29sb3I6IHZhcigtLXRleHQtc3VjY2Vzcyk7XG5cdFx0XHRcdGZvbnQtd2VpZ2h0OiA2MDA7XG5cdFx0XHR9XG5cblx0XHRcdC5zdGF0dXMtZXJyb3Ige1xuXHRcdFx0XHRjb2xvcjogdmFyKC0tdGV4dC1lcnJvcik7XG5cdFx0XHRcdGZvbnQtd2VpZ2h0OiA2MDA7XG5cdFx0XHR9XG5cblx0XHRcdC5kZXBlbmRlbmN5LWxhYmVsIHtcblx0XHRcdFx0Zm9udC13ZWlnaHQ6IDUwMDtcblx0XHRcdFx0Y29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcblx0XHRcdH1cblxuXHRcdFx0LmRlcGVuZGVuY3ktZGV0YWlsIHtcblx0XHRcdFx0Y29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuXHRcdFx0fVxuXG5cdFx0XHQuZGVwZW5kZW5jeS13YXJuaW5nIHtcblx0XHRcdFx0bWFyZ2luLXRvcDogMTVweDtcblx0XHRcdFx0cGFkZGluZzogMTBweDtcblx0XHRcdFx0YmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1lcnJvcik7XG5cdFx0XHRcdGJvcmRlci1yYWRpdXM6IDRweDtcblx0XHRcdFx0Y29sb3I6IHZhcigtLXRleHQtd2FybmluZyk7XG5cdFx0XHRcdGZvbnQtc2l6ZTogMTNweDtcblx0XHRcdH1cblxuXHRcdFx0LmRlcGVuZGVuY3ktaW5zdGFsbC1vcHRpb25zIHtcblx0XHRcdFx0bWFyZ2luOiAyMHB4IDA7XG5cdFx0XHRcdHBhZGRpbmc6IDE1cHg7XG5cdFx0XHRcdGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcblx0XHRcdFx0Ym9yZGVyLXJhZGl1czogNHB4O1xuXHRcdFx0fVxuXG5cdFx0XHQuZGVwZW5kZW5jeS1pbnN0YWxsLW9wdGlvbnMgaDMge1xuXHRcdFx0XHRtYXJnaW46IDAgMCAxMHB4IDA7XG5cdFx0XHRcdGZvbnQtc2l6ZTogMTRweDtcblx0XHRcdFx0Zm9udC13ZWlnaHQ6IDYwMDtcblx0XHRcdH1cblxuXHRcdFx0LmRlcGVuZGVuY3ktcmFkaW8tb3B0aW9uIHtcblx0XHRcdFx0bWFyZ2luOiA4cHggMDtcblx0XHRcdFx0ZGlzcGxheTogZmxleDtcblx0XHRcdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcblx0XHRcdFx0Zm9udC1zaXplOiAxM3B4O1xuXHRcdFx0fVxuXG5cdFx0XHQuZGVwZW5kZW5jeS1yYWRpby1vcHRpb24gaW5wdXRbdHlwZT1cInJhZGlvXCJdIHtcblx0XHRcdFx0bWFyZ2luLXJpZ2h0OiA4cHg7XG5cdFx0XHRcdGN1cnNvcjogcG9pbnRlcjtcblx0XHRcdH1cblxuXHRcdFx0LmRlcGVuZGVuY3ktcmFkaW8tb3B0aW9uIGxhYmVsIHtcblx0XHRcdFx0Y3Vyc29yOiBwb2ludGVyO1xuXHRcdFx0XHR1c2VyLXNlbGVjdDogbm9uZTtcblx0XHRcdH1cblxuXHRcdFx0LmRlcGVuZGVuY3ktb3B0aW9uLWRlc2Mge1xuXHRcdFx0XHRtYXJnaW4tdG9wOiAxMHB4O1xuXHRcdFx0XHRwYWRkaW5nOiA4cHg7XG5cdFx0XHRcdGZvbnQtc2l6ZTogMTJweDtcblx0XHRcdFx0Y29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuXHRcdFx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuXHRcdFx0XHRib3JkZXItcmFkaXVzOiA0cHg7XG5cdFx0XHR9XG5cblx0XHRcdC5kZXBlbmRlbmN5LWxvZy1jb250YWluZXIge1xuXHRcdFx0XHRtYXJnaW4tdG9wOiAyMHB4O1xuXHRcdFx0fVxuXG5cdFx0XHQuZGVwZW5kZW5jeS1sb2ctY29udGFpbmVyIGgzIHtcblx0XHRcdFx0bWFyZ2luOiAwIDAgMTBweCAwO1xuXHRcdFx0XHRmb250LXNpemU6IDE0cHg7XG5cdFx0XHR9XG5cblx0XHRcdC5kZXBlbmRlbmN5LWxvZy1jb250ZW50IHtcblx0XHRcdFx0d2lkdGg6IDEwMCU7XG5cdFx0XHRcdG1pbi1oZWlnaHQ6IDE1MHB4O1xuXHRcdFx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG5cdFx0XHRcdGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcblx0XHRcdFx0Ym9yZGVyLXJhZGl1czogNHB4O1xuXHRcdFx0XHRwYWRkaW5nOiAxMHB4O1xuXHRcdFx0XHRmb250LWZhbWlseTogdmFyKC0tZm9udC1tb25vc3BhY2UpO1xuXHRcdFx0XHRmb250LXNpemU6IDEycHg7XG5cdFx0XHRcdHJlc2l6ZTogdmVydGljYWw7XG5cdFx0XHRcdGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG5cdFx0XHR9XG5cblx0XHRcdC5kZXBlbmRlbmN5LWJ1dHRvbi1jb250YWluZXIge1xuXHRcdFx0XHRtYXJnaW4tdG9wOiAyMHB4O1xuXHRcdFx0XHRkaXNwbGF5OiBmbGV4O1xuXHRcdFx0XHRnYXA6IDEwcHg7XG5cdFx0XHRcdGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG5cdFx0XHR9XG5cblx0XHRcdC5kZXBlbmRlbmN5LWJ1dHRvbi1jb250YWluZXIgYnV0dG9uIHtcblx0XHRcdFx0cGFkZGluZzogOHB4IDE2cHg7XG5cdFx0XHRcdGJvcmRlci1yYWRpdXM6IDRweDtcblx0XHRcdFx0Zm9udC1zaXplOiAxNHB4O1xuXHRcdFx0fVxuXHRcdGA7XG5cdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH1cblxuXHRvbkNsb3NlKCkge1xuXHRcdGlmICh0aGlzLm9uQ29tcGxldGUpIHtcblx0XHRcdHRoaXMub25Db21wbGV0ZSgpO1xuXHRcdH1cblx0fVxufSIsImltcG9ydCB7IEFwcCwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZywgTm90aWNlLCBUZXh0Q29tcG9uZW50LCBUb2dnbGVDb21wb25lbnQsIHNldEljb24gfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCBHcmFwaGl0aVBsdWdpbiBmcm9tICcuLi9tYWluJztcclxuaW1wb3J0IHR5cGUgeyBHcmFwaGl0aVBsdWdpblNldHRpbmdzLCBDb25uZWN0aW9uVGVzdFJlc3VsdCB9IGZyb20gJy4uL3R5cGVzL1NldHRpbmdzJztcclxuaW1wb3J0IHsgZ2V0RGVmYXVsdExMTUJsb2NrcyB9IGZyb20gJy4vTExNRGVmYXVsdHMnO1xyXG5pbXBvcnQgeyBqb2luIH0gZnJvbSAncGF0aCc7XHJcbmltcG9ydCB7IGRlYm91bmNlIH0gZnJvbSAnLi4vdXRpbHMvZGVib3VuY2UnO1xyXG5pbXBvcnQgeyBGb2xkZXJTdWdnZXN0IH0gZnJvbSAnLi4vdXRpbHMvRm9sZGVyU3VnZ2VzdCc7XHJcbmltcG9ydCB7IFByb2Nlc3NEZXRlY3Rpb24gfSBmcm9tICcuLi91dGlscy9Qcm9jZXNzRGV0ZWN0aW9uJztcclxuaW1wb3J0IHR5cGUgeyBNQ1BTZXJ2ZXJQcm9jZXNzIH0gZnJvbSAnLi4vdXRpbHMvUHJvY2Vzc0RldGVjdGlvbic7XHJcbmltcG9ydCB7IE9sbGFtYVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9PbGxhbWFTZXJ2aWNlJztcclxuaW1wb3J0IHsgT2xsYW1hU2V0dGluZ3MgfSBmcm9tICcuL09sbGFtYVNldHRpbmdzJztcclxuaW1wb3J0IHsgTUNQVG9vbFNldHRpbmdzIH0gZnJvbSAnLi9NQ1BUb29sU2V0dGluZ3MnO1xyXG5pbXBvcnQgeyBQeXRob25JbnN0YWxsZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9QeXRob25JbnN0YWxsZXInO1xyXG5pbXBvcnQgeyBEZXBlbmRlbmN5U3RhdHVzTW9kYWwgfSBmcm9tICcuLi91aS9EZXBlbmRlbmN5U3RhdHVzTW9kYWwnO1xyXG5cclxuLy8gVGVtcG9yYXJ5IHR5cGUtZ3VhcmQgZXh0ZW5zaW9ucyBmb3Igc2V0dGluZ3Mgc2VjdGlvbnMgd2UgdXBkYXRlIGZyb20gVUkgc2NhbnMuXHJcbi8vIFRoZXNlIGtlZXAgVHlwZVNjcmlwdCBoYXBweSBmb3IgdGhlIGxpZ2h0d2VpZ2h0IGRldGVjdGlvbiB3aXJpbmcgaGVyZS5cclxudHlwZSBQYXJ0aWFsTUNQVG9vbHMgPSB7XHJcblx0bWNwVG9vbHM/OiB7XHJcblx0XHRkZWZhdWx0Rm9sZGVyPzogc3RyaW5nO1xyXG5cdFx0aW50ZWdyYXRpb25zPzogUmVjb3JkPHN0cmluZywgYW55PjtcclxuXHR9O1xyXG59O1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBHcmFwaGl0aVNldHRpbmdzVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XHJcblx0cGx1Z2luOiBHcmFwaGl0aVBsdWdpbjtcclxuXHQvLyBTdG9yZSByZWZlcmVuY2VzIHRvIFVJIGNvbXBvbmVudHMgdGhhdCBuZWVkIHRvIGJlIHVwZGF0ZWQgZHluYW1pY2FsbHlcclxuXHRwcml2YXRlIGNvbm5lY3Rpb25TdGF0dXNUZXh0OiBhbnk7XHJcblx0cHJpdmF0ZSBkZWZhdWx0TmFtZXNwYWNlSW5wdXQ6IFRleHRDb21wb25lbnQgfCBudWxsID0gbnVsbDtcclxuXHRwcml2YXRlIGZvbGRlclRvZ2dsZTogVG9nZ2xlQ29tcG9uZW50IHwgbnVsbCA9IG51bGw7XHJcblx0cHJpdmF0ZSBwcm9wZXJ0eVRvZ2dsZTogVG9nZ2xlQ29tcG9uZW50IHwgbnVsbCA9IG51bGw7XHJcblx0cHJpdmF0ZSBwcmV2aW91c0Nvbm5lY3Rpb25TdGF0dXM6IHN0cmluZyA9ICcnO1xyXG5cdHByaXZhdGUgb2xsYW1hU2V0dGluZ3M6IE9sbGFtYVNldHRpbmdzO1xyXG5cdHByaXZhdGUgbWNwVG9vbFNldHRpbmdzOiBNQ1BUb29sU2V0dGluZ3M7XHJcblxyXG5cdHByaXZhdGUgX3NoYXJlZFRleHREZWJvdW5jZT86ICh2OiBzdHJpbmcpID0+IHZvaWQ7XHJcblx0cHJpdmF0ZSBfc2V0dGluZ3NEZWJvdW5jZVRpbWVyOiBhbnk7IC8vIEZvciBnZW5lcmFsIHNldHRpbmdzIGNoYW5nZXMgKGUuZy4sIGF1dG9TeW5jIHRvZ2dsZSlcclxuXHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IEdyYXBoaXRpUGx1Z2luKSB7XHJcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHRcdHRoaXMub2xsYW1hU2V0dGluZ3MgPSBuZXcgT2xsYW1hU2V0dGluZ3MoYXBwLCBwbHVnaW4pO1xyXG5cdFx0dGhpcy5tY3BUb29sU2V0dGluZ3MgPSBuZXcgTUNQVG9vbFNldHRpbmdzKGFwcCwgcGx1Z2luKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgX2luaXRTaGFyZWRUZXh0RGVib3VuY2UoKTogdm9pZCB7XHJcblx0XHRpZiAodGhpcy5fc2hhcmVkVGV4dERlYm91bmNlKSByZXR1cm47IC8vIEFscmVhZHkgaW5pdGlhbGl6ZWRcclxuXHJcblx0XHRsZXQgdGltZXI6IGFueTtcclxuXHRcdHRoaXMuX3NoYXJlZFRleHREZWJvdW5jZSA9IChwYXlsb2FkOiBzdHJpbmcpID0+IHtcclxuXHRcdFx0aWYgKHRpbWVyKSBjbGVhclRpbWVvdXQodGltZXIpO1xyXG5cdFx0XHR0aW1lciA9IHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHBheWxvYWQpO1xyXG5cdFx0XHRcdFx0c3dpdGNoIChwYXJzZWQua2V5KSB7XHJcblx0XHRcdFx0XHRcdGNhc2UgJ2luY2x1ZGVkRm9sZGVycyc6XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5jbHVkZWRGb2xkZXJzID0gcGFyc2VkLnZhbHVlLnNwbGl0KCdcXG4nKS5tYXAoKHM6IHN0cmluZykgPT4gcy50cmltKCkpLmZpbHRlcigoczogc3RyaW5nKSA9PiBzLmxlbmd0aCA+IDApO1xyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHRjYXNlICdleGNsdWRlZEZvbGRlcnMnOlxyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmV4Y2x1ZGVkRm9sZGVycyA9IHBhcnNlZC52YWx1ZS5zcGxpdCgnXFxuJykubWFwKChzOiBzdHJpbmcpID0+IHMudHJpbSgpKS5maWx0ZXIoKHM6IHN0cmluZykgPT4gcy5sZW5ndGggPiAwKTtcclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0Y2FzZSAnZ2xvYmFsbHlJZ25vcmVkRmllbGRzJzpcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5nbG9iYWxseUlnbm9yZWRGaWVsZHMgPSBwYXJzZWQudmFsdWUuc3BsaXQoJ1xcbicpLm1hcCgoczogc3RyaW5nKSA9PiBzLnRyaW0oKSkuZmlsdGVyKChzOiBzdHJpbmcpID0+IHMubGVuZ3RoID4gMCk7XHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdGNhc2UgJ2RlZmF1bHROYW1lc3BhY2UnOlxyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHROYW1lc3BhY2UgPSBwYXJzZWQudmFsdWU7XHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdC8vIEFkZCBtb3JlIGNhc2VzIGZvciBvdGhlciBkZWJvdW5jZWQgdGV4dCBpbnB1dHMgYXMgbmVlZGVkXHJcblx0XHRcdFx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy53YXJuKCdbU0VUVElOR1NdIFVua25vd24ga2V5IHJlY2VpdmVkIGJ5IHNoYXJlZFRleHREZWJvdW5jZScsIHsga2V5OiBwYXJzZWQua2V5LCBwYXlsb2FkIH0pO1xyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbU0VUVElOR1NdIFNoYXJlZCBkZWJvdW5jZWQgc2F2ZSBleGVjdXRlZCcsIHsga2V5OiBwYXJzZWQua2V5IH0pO1xyXG5cdFx0XHRcdH0gY2F0Y2ggKGVycikge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignW1NFVFRJTkdTXSBTaGFyZWQgZGVib3VuY2VkIHNhdmUgZXJyb3InLCB7IGVycm9yOiBlcnIsIHBheWxvYWQgfSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LCAyMDAwKTsgLy8gMjAwMG1zIGRlYm91bmNlIGRlbGF5IGFzIGNvbmZpcm1lZFxyXG5cdFx0fTtcclxuXHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1tTRVRUSU5HU10gU2hhcmVkIHRleHQgZGVib3VuY2VyIGluaXRpYWxpemVkJyk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGVuc3VyZVNoYXJlZERlYm91bmNlSW5pdGlhbGl6ZWQoKTogdm9pZCB7XHJcblx0XHR0aGlzLl9pbml0U2hhcmVkVGV4dERlYm91bmNlKCk7XHJcblx0fVxyXG5cclxuXHRkaXNwbGF5KCk6IHZvaWQge1xyXG5cdFx0Y29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcclxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XHJcblxyXG5cdFx0Ly8gRW5zdXJlIHRoZSBzaGFyZWQgdGV4dCBkZWJvdW5jZXIgaXMgaW5pdGlhbGl6ZWQgd2hlbiB0aGUgc2V0dGluZ3MgdGFiIGlzIGRpc3BsYXllZFxyXG5cdFx0dGhpcy5lbnN1cmVTaGFyZWREZWJvdW5jZUluaXRpYWxpemVkKCk7XHJcblxyXG5cdFx0Ly8gSGVhZGVyXHJcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnaDEnLCB7IHRleHQ6ICdNZWdhTWVtIFBsdWdpbiBTZXR0aW5ncycgfSk7XHJcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgncCcsIHtcclxuXHRcdFx0dGV4dDogJ0NvbmZpZ3VyZSB5b3VyIGtub3dsZWRnZSBncmFwaCBzeW5jcm9uaXphdGlvbiBhbmQgbWNwIHNlcnZlci4nLFxyXG5cdFx0XHRjbHM6ICdzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24nXHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBBZGQgQ1NTIGZvciBhY2NvcmRpb24gc3R5bGluZ1xyXG5cdFx0dGhpcy5hZGRBY2NvcmRpb25TdHlsZXMoY29udGFpbmVyRWwpO1xyXG5cclxuXHRcdC8vIEFkZCBhY2NvcmRpb24tYmFzZWQgb3JnYW5pemF0aW9uIHdpdGggZXJyb3IgaGFuZGxpbmcgZm9yIGVhY2ggc2VjdGlvblxyXG5cdFx0dGhpcy5hZGRBY2NvcmRpb25TZWN0aW9uU2FmZWx5KGNvbnRhaW5lckVsLCAnQVBJIEtleXMnLCAoY29udGVudCkgPT4gdGhpcy5hZGRBUElLZXlzQWNjb3JkaW9uKGNvbnRlbnQpLCBmYWxzZSk7XHJcblx0XHR0aGlzLmFkZEFjY29yZGlvblNlY3Rpb25TYWZlbHkoY29udGFpbmVyRWwsICdMTE0gQ29uZmlndXJhdGlvbicsIChjb250ZW50KSA9PiB0aGlzLmFkZExMTUFjY29yZGlvbihjb250ZW50KSwgZmFsc2UpO1xyXG5cdFx0dGhpcy5hZGRBY2NvcmRpb25TZWN0aW9uU2FmZWx5KGNvbnRhaW5lckVsLCAnRGF0YWJhc2UgQ29uZmlndXJhdGlvbicsIChjb250ZW50KSA9PiB0aGlzLmFkZERhdGFiYXNlQWNjb3JkaW9uKGNvbnRlbnQpLCBmYWxzZSk7XHJcblx0XHR0aGlzLmFkZEFjY29yZGlvblNlY3Rpb25TYWZlbHkoY29udGFpbmVyRWwsICdQeXRob24gRW52aXJvbm1lbnQnLCAoY29udGVudCkgPT4gdGhpcy5hZGRQeXRob25BY2NvcmRpb24oY29udGVudCksIGZhbHNlKTtcclxuXHRcdHRoaXMuYWRkQWNjb3JkaW9uU2VjdGlvblNhZmVseShjb250YWluZXJFbCwgJ1N5bmMgQ29uZmlndXJhdGlvbicsIChjb250ZW50KSA9PiB0aGlzLmFkZFN5bmNBY2NvcmRpb24oY29udGVudCksIGZhbHNlKTtcclxuXHRcdHRoaXMuYWRkQWNjb3JkaW9uU2VjdGlvblNhZmVseShjb250YWluZXJFbCwgJ0tub3dsZWRnZSBOYW1lc3BhY2luZycsIChjb250ZW50KSA9PiB0aGlzLmFkZEtub3dsZWRnZU5hbWVzcGFjaW5nQWNjb3JkaW9uKGNvbnRlbnQpLCBmYWxzZSk7XHJcblx0XHR0aGlzLmFkZEFjY29yZGlvblNlY3Rpb25TYWZlbHkoY29udGFpbmVyRWwsICdTZXJ2ZXJzJywgKGNvbnRlbnQpID0+IHRoaXMuYWRkU2VydmVyc0FjY29yZGlvbihjb250ZW50KSwgZmFsc2UpO1xyXG5cdFx0dGhpcy5hZGRBY2NvcmRpb25TZWN0aW9uU2FmZWx5KGNvbnRhaW5lckVsLCAnTUNQIFRvb2xzJywgKGNvbnRlbnQpID0+IHRoaXMubWNwVG9vbFNldHRpbmdzLmFkZE1DUFRvb2xzQWNjb3JkaW9uKGNvbnRlbnQpLCBmYWxzZSk7XHJcblx0XHR0aGlzLmFkZEFjY29yZGlvblNlY3Rpb25TYWZlbHkoY29udGFpbmVyRWwsICdBZHZhbmNlZCBTZXR0aW5ncycsIChjb250ZW50KSA9PiB0aGlzLmFkZEFkdmFuY2VkQWNjb3JkaW9uKGNvbnRlbnQpLCBmYWxzZSk7XHJcblx0XHR0aGlzLmFkZEFjY29yZGlvblNlY3Rpb25TYWZlbHkoY29udGFpbmVyRWwsICdBY3Rpb25zJywgKGNvbnRlbnQpID0+IHRoaXMuYWRkQWN0aW9uc0FjY29yZGlvbihjb250ZW50KSwgZmFsc2UpO1xyXG5cdFx0dGhpcy5hZGRBY2NvcmRpb25TZWN0aW9uU2FmZWx5KGNvbnRhaW5lckVsLCAnRGV2ZWxvcG1lbnQgT3B0aW9ucycsIChjb250ZW50KSA9PiB0aGlzLmFkZERldmVsb3BtZW50QWNjb3JkaW9uKGNvbnRlbnQpLCBmYWxzZSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFkZEFjY29yZGlvblN0eWxlcyhjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuXHRcdGNvbnN0IHN0eWxlID0gY29udGFpbmVyRWwuY3JlYXRlRWwoJ3N0eWxlJyk7XHJcblx0XHRzdHlsZS50ZXh0Q29udGVudCA9IGBcclxuXHRcdFx0LmdyYXBoaXRpLWFjY29yZGlvbiB7XHJcblx0XHRcdFx0bWFyZ2luLWJvdHRvbTogMTBweDtcclxuXHRcdFx0XHRib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XHJcblx0XHRcdFx0Ym9yZGVyLXJhZGl1czogNnB4O1xyXG5cdFx0XHR9XHJcblx0XHRcdC5ncmFwaGl0aS1hY2NvcmRpb24taGVhZGVyIHtcclxuXHRcdFx0XHRwYWRkaW5nOiAxMnB4IDE2cHg7XHJcblx0XHRcdFx0YmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XHJcblx0XHRcdFx0Y3Vyc29yOiBwb2ludGVyO1xyXG5cdFx0XHRcdHVzZXItc2VsZWN0OiBub25lO1xyXG5cdFx0XHRcdGRpc3BsYXk6IGZsZXg7XHJcblx0XHRcdFx0anVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG5cdFx0XHRcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcblx0XHRcdFx0Zm9udC13ZWlnaHQ6IDUwMDtcclxuXHRcdFx0XHRib3JkZXItcmFkaXVzOiA2cHggNnB4IDAgMDtcclxuXHRcdFx0fVxyXG5cdFx0XHQuZ3JhcGhpdGktYWNjb3JkaW9uLWhlYWRlcjpob3ZlciB7XHJcblx0XHRcdFx0YmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xyXG5cdFx0XHR9XHJcblx0XHRcdC5ncmFwaGl0aS1hY2NvcmRpb24tY29udGVudCB7XHJcblx0XHRcdFx0cGFkZGluZzogMTZweCAxNnB4IDE2cHggMTZweDtcclxuXHRcdFx0XHRib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xyXG5cdFx0XHR9XHJcblx0XHRcdC5ncmFwaGl0aS1hY2NvcmRpb24tYXJyb3cge1xyXG5cdFx0XHRcdGZvbnQtc2l6ZTogMTJweDtcclxuXHRcdFx0XHR0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4ycyBlYXNlO1xyXG5cdFx0XHR9XHJcblx0XHRgO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhY2NvcmRpb25TdGF0ZXM6IE1hcDxzdHJpbmcsIGJvb2xlYW4+ID0gbmV3IE1hcCgpO1xyXG5cclxuXHRwcml2YXRlIGFkZEFjY29yZGlvblNlY3Rpb24oY29udGFpbmVyRWw6IEhUTUxFbGVtZW50LCB0aXRsZTogc3RyaW5nLCBjb250ZW50Q2FsbGJhY2s6IChjb250ZW50OiBIVE1MRWxlbWVudCkgPT4gdm9pZCwgZGVmYXVsdE9wZW4gPSBmYWxzZSk6IHZvaWQge1xyXG5cdFx0Y29uc3QgYWNjb3JkaW9uQ29udGFpbmVyID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KCdncmFwaGl0aS1hY2NvcmRpb24nKTtcclxuXHJcblx0XHQvLyBCdWlsZCBoZWFkZXIgd2l0aCBzZXBhcmF0ZSB0aXRsZSBhbmQgY29udHJvbHMgc28gb25seSB0aGUgYXJyb3cgdG9nZ2xlcyB0aGUgYWNjb3JkaW9uLlxyXG5cdFx0Y29uc3QgaGVhZGVyID0gYWNjb3JkaW9uQ29udGFpbmVyLmNyZWF0ZURpdignZ3JhcGhpdGktYWNjb3JkaW9uLWhlYWRlcicpO1xyXG5cdFx0Y29uc3QgdGl0bGVTcGFuID0gaGVhZGVyLmNyZWF0ZVNwYW4oJ2dyYXBoaXRpLWFjY29yZGlvbi10aXRsZScpO1xyXG5cdFx0dGl0bGVTcGFuLnRleHRDb250ZW50ID0gdGl0bGU7XHJcblxyXG5cdFx0Y29uc3QgY29udHJvbHNXcmFwID0gaGVhZGVyLmNyZWF0ZURpdignZ3JhcGhpdGktYWNjb3JkaW9uLWNvbnRyb2xzJyk7XHJcblx0XHRjb250cm9sc1dyYXAuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuXHRcdGNvbnRyb2xzV3JhcC5zdHlsZS5hbGlnbkl0ZW1zID0gJ2NlbnRlcic7XHJcblx0XHRjb250cm9sc1dyYXAuc3R5bGUuZ2FwID0gJzhweCc7XHJcblxyXG5cdFx0Y29uc3QgY29udGVudCA9IGFjY29yZGlvbkNvbnRhaW5lci5jcmVhdGVEaXYoJ2dyYXBoaXRpLWFjY29yZGlvbi1jb250ZW50Jyk7XHJcblxyXG5cdFx0Ly8gRGV0ZXJtaW5lIGluaXRpYWwgb3BlbiBzdGF0ZSB1c2luZyBwZXJzaXN0ZWQgc3RhdGUgbWFwLCBmYWxsaW5nIGJhY2sgdG8gZGVmYXVsdE9wZW5cclxuXHRcdGNvbnN0IHNhdmVkID0gdGhpcy5hY2NvcmRpb25TdGF0ZXMuZ2V0KHRpdGxlKTtcclxuXHRcdGNvbnN0IGlzT3BlbkluaXRpYWwgPSB0eXBlb2Ygc2F2ZWQgPT09ICdib29sZWFuJyA/IHNhdmVkIDogZGVmYXVsdE9wZW47XHJcblx0XHRjb250ZW50LnN0eWxlLmRpc3BsYXkgPSBpc09wZW5Jbml0aWFsID8gJ2Jsb2NrJyA6ICdub25lJztcclxuXHJcblx0XHQvLyBBcnJvdyBsaXZlcyBpbiBjb250cm9sc1dyYXAgYW5kIGlzIHRoZSBvbmx5IHRvZ2dsZSB0YXJnZXQuXHJcblx0XHRjb25zdCBhcnJvdyA9IGNvbnRyb2xzV3JhcC5jcmVhdGVTcGFuKCdncmFwaGl0aS1hY2NvcmRpb24tYXJyb3cnKTtcclxuXHRcdGFycm93LnRleHRDb250ZW50ID0gaXNPcGVuSW5pdGlhbCA/ICfilrwnIDogJ+KWtic7XHJcblx0XHRhcnJvdy5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XHJcblx0XHRhcnJvdy5zZXRBdHRyKCdyb2xlJywgJ2J1dHRvbicpO1xyXG5cclxuXHRcdC8vIFRvZ2dsZSBvbmx5IHdoZW4gdGhlIGFycm93IGlzIGNsaWNrZWQuIFBlcnNpc3Qgc3RhdGUgaW4gYWNjb3JkaW9uU3RhdGVzLlxyXG5cdFx0YXJyb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRcdGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdGNvbnN0IGlzT3BlbiA9IGNvbnRlbnQuc3R5bGUuZGlzcGxheSAhPT0gJ25vbmUnO1xyXG5cdFx0XHRjb25zdCBuZXdJc09wZW4gPSAhaXNPcGVuO1xyXG5cdFx0XHRjb250ZW50LnN0eWxlLmRpc3BsYXkgPSBuZXdJc09wZW4gPyAnYmxvY2snIDogJ25vbmUnO1xyXG5cdFx0XHRhcnJvdy50ZXh0Q29udGVudCA9IG5ld0lzT3BlbiA/ICfilrwnIDogJ+KWtic7XHJcblx0XHRcdHRoaXMuYWNjb3JkaW9uU3RhdGVzLnNldCh0aXRsZSwgbmV3SXNPcGVuKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIElNUE9SVEFOVDogRG8gTk9UIGFkZCBhbnkgb3RoZXIgaGVhZGVyIGNsaWNrIGhhbmRsZXJzIG9yIHN0b3BQcm9wYWdhdGlvbiBoYWNrcy5cclxuXHRcdC8vIEludGVyYWN0aXZlIGNvbnRyb2xzIGluc2lkZSB0aGUgY29udGVudCBzaG91bGQgbm90IHJlcXVpcmUgc3BlY2lhbCBwcm9wYWdhdGlvbiBndWFyZHMuXHJcblx0XHQvLyBLZWVwIHRoZSBjb250ZW50Q2FsbGJhY2sgZm9jdXNlZCBvbiBidWlsZGluZyBjb250cm9scyBmb3IgdGhlIHNlY3Rpb24uXHJcblx0XHRjb250ZW50Q2FsbGJhY2suY2FsbCh0aGlzLCBjb250ZW50KTtcclxuXHR9XHJcblxyXG5cdC8vIFNhZmUgd3JhcHBlciB0aGF0IGVuc3VyZXMgb25lIGJyb2tlbiBhY2NvcmRpb24gZG9lc24ndCBwcmV2ZW50IG90aGVycyBmcm9tIHJlbmRlcmluZ1xyXG5cdHByaXZhdGUgYWRkQWNjb3JkaW9uU2VjdGlvblNhZmVseShjb250YWluZXJFbDogSFRNTEVsZW1lbnQsIHRpdGxlOiBzdHJpbmcsIGNvbnRlbnRDYWxsYmFjazogKGNvbnRlbnQ6IEhUTUxFbGVtZW50KSA9PiB2b2lkLCBkZWZhdWx0T3BlbiA9IGZhbHNlKTogdm9pZCB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHR0aGlzLmFkZEFjY29yZGlvblNlY3Rpb24oY29udGFpbmVyRWwsIHRpdGxlLCBjb250ZW50Q2FsbGJhY2ssIGRlZmF1bHRPcGVuKTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoYFtTRVRUSU5HU10gRXJyb3IgcmVuZGVyaW5nICR7dGl0bGV9IGFjY29yZGlvbmAsIHsgZXJyb3IgfSk7XHJcblx0XHRcdC8vIENyZWF0ZSBhIG1pbmltYWwgZXJyb3IgYWNjb3JkaW9uXHJcblx0XHRcdGNvbnN0IGFjY29yZGlvbkNvbnRhaW5lciA9IGNvbnRhaW5lckVsLmNyZWF0ZURpdignZ3JhcGhpdGktYWNjb3JkaW9uJyk7XHJcblx0XHRcdGNvbnN0IGhlYWRlciA9IGFjY29yZGlvbkNvbnRhaW5lci5jcmVhdGVEaXYoJ2dyYXBoaXRpLWFjY29yZGlvbi1oZWFkZXInKTtcclxuXHRcdFx0aGVhZGVyLnRleHRDb250ZW50ID0gYCR7dGl0bGV9IChFcnJvcilgO1xyXG5cdFx0XHRjb25zdCBjb250ZW50ID0gYWNjb3JkaW9uQ29udGFpbmVyLmNyZWF0ZURpdignZ3JhcGhpdGktYWNjb3JkaW9uLWNvbnRlbnQnKTtcclxuXHRcdFx0Y29udGVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cdFx0XHRjb250ZW50LmNyZWF0ZUVsKCdkaXYnLCB7XHJcblx0XHRcdFx0dGV4dDogYEVycm9yIGxvYWRpbmcgJHt0aXRsZX0gc2VjdGlvbi4gQ2hlY2sgY29uc29sZSBmb3IgZGV0YWlscy5gLFxyXG5cdFx0XHRcdGNsczogJ3NldHRpbmctaXRlbS1kZXNjcmlwdGlvbidcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFkZEFQSUtleXNBY2NvcmRpb24oY29udGVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuXHJcblx0XHQvLyBTaG93IEFMTCBhdmFpbGFibGUgQVBJIGtleSBmaWVsZHMsIG5vdCBqdXN0IHNlbGVjdGVkIHByb3ZpZGVyc1xyXG5cdFx0Y29uc3QgYWxsUHJvdmlkZXJzID0gWydvcGVuYWknLCAnYW50aHJvcGljJywgJ2dvb2dsZScsICdhenVyZScsICd2b3lhZ2UnLCAndmVuaWNlJywgJ29wZW5yb3V0ZXInXTtcclxuXHJcblx0XHQvLyBDcmVhdGUgQVBJIGtleSBmaWVsZHMgZm9yIGFsbCBwcm92aWRlcnNcclxuXHRcdGZvciAoY29uc3QgcHJvdmlkZXIgb2YgYWxsUHJvdmlkZXJzKSB7XHJcblx0XHRcdGNvbnN0IHByb3ZpZGVyTmFtZSA9IHRoaXMuZ2V0UHJvdmlkZXJEaXNwbGF5TmFtZShwcm92aWRlcik7XHJcblxyXG5cdFx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHRcdC5zZXROYW1lKGAke3Byb3ZpZGVyTmFtZX0gQVBJIEtleWAgKVxyXG5cdFx0XHRcdC5zZXREZXNjKGBBUEkga2V5IGZvciAke3Byb3ZpZGVyTmFtZX0gc2VydmljZXNgKVxyXG5cdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4ge1xyXG5cdFx0XHRcdFx0dGV4dC5pbnB1dEVsLnR5cGUgPSAncGFzc3dvcmQnO1xyXG5cdFx0XHRcdFx0dGV4dC5zZXRQbGFjZWhvbGRlcihgRW50ZXIgJHtwcm92aWRlck5hbWV9IEFQSSBrZXlgKVxyXG5cdFx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYXBpS2V5c1twcm92aWRlciBhcyBrZXlvZiB0eXBlb2YgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYXBpS2V5c10gfHwgJycpXHJcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5hcGlLZXlzW3Byb3ZpZGVyIGFzIGtleW9mIHR5cGVvZiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hcGlLZXlzXSA9IHZhbHVlIHx8IHVuZGVmaW5lZDtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cclxuXHRcdC8vIE9sbGFtYSBMb2NhbCBNb2RlbHMgU2VjdGlvblxyXG5cdFx0Y29udGVudC5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdMb2NhbCBBSSBNb2RlbHMnLCBjbHM6ICdzZXR0aW5nLWl0ZW0tbmFtZScgfSk7XHJcblxyXG5cdFx0Ly8gQHB1cnBvc2U6IE1hc3RlciB0b2dnbGUgZm9yIE9sbGFtYSBmZWF0dXJlcyBAZGVwZW5kczogb2xsYW1hRW5hYmxlZCBzZXR0aW5nIEByZXN1bHRzOiBDb21wbGV0ZSBoaWRlL2Rpc2FibGUgb2YgT2xsYW1hIFVJIGFuZCBzZXJ2aWNlIGNoZWNrc1xyXG5cdFx0bGV0IG9sbGFtYUNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnRW5hYmxlIE9sbGFtYSBGZWF0dXJlcycpXHJcblx0XHRcdC5zZXREZXNjKCdFbmFibGUgbG9jYWwgQUkgbW9kZWwgZmVhdHVyZXMgdXNpbmcgT2xsYW1hLiBXaGVuIGRpc2FibGVkLCBhbGwgT2xsYW1hIHNldHRpbmdzIGFuZCBzZXJ2aWNlIGNoZWNrcyBhcmUgaGlkZGVuLicpXHJcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5vbGxhbWFFbmFibGVkIHx8IGZhbHNlKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm9sbGFtYUVuYWJsZWQgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0aWYgKG9sbGFtYUNvbnRhaW5lcikge1xyXG5cdFx0XHRcdFx0XHRvbGxhbWFDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IHZhbHVlID8gJ2Jsb2NrJyA6ICdub25lJztcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0Ly8gQ29udGFpbmVyIGZvciBhbGwgT2xsYW1hIHNldHRpbmdzIC0gY29uZGl0aW9uYWxseSB2aXNpYmxlXHJcblx0XHRvbGxhbWFDb250YWluZXIgPSBjb250ZW50LmNyZWF0ZURpdigpO1xyXG5cdFx0b2xsYW1hQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAodGhpcy5wbHVnaW4uc2V0dGluZ3Mub2xsYW1hRW5hYmxlZCB8fCBmYWxzZSkgPyAnYmxvY2snIDogJ25vbmUnO1xyXG5cdFx0b2xsYW1hQ29udGFpbmVyLnN0eWxlLm1hcmdpbkxlZnQgPSAnMjRweCc7XHJcblx0XHRvbGxhbWFDb250YWluZXIuc3R5bGUubWFyZ2luVG9wID0gJzhweCc7XHJcblxyXG5cdFx0Ly8gT2xsYW1hIEluc3RhbGxhdGlvbiBEZXRlY3Rpb24gYW5kIE1hbmFnZW1lbnRcclxuXHRcdGNvbnN0IG9sbGFtYVNldHRpbmcgPSBuZXcgU2V0dGluZyhvbGxhbWFDb250YWluZXIpXHJcblx0XHRcdC5zZXROYW1lKCdPbGxhbWEgLSBGdWxseSBQcml2YXRlIExvY2FsIE1vZGVscycpXHJcblx0XHRcdC5zZXREZXNjKCdSdW4gQUkgbW9kZWxzIGxvY2FsbHkgb24geW91ciBtYWNoaW5lIHdpdGhvdXQgc2VuZGluZyBkYXRhIHRvIGV4dGVybmFsIHNlcnZpY2VzJyk7XHJcblxyXG5cdFx0Ly8gSW5zdGFsbC9VcGdyYWRlIGJ1dHRvbiBjb250YWluZXIgLSBrZWVwIGJ1dHRvbnMgb24gdGhlIHNhbWUgcm93IGFzIHRoZSBzZXR0aW5nXHJcblx0XHRjb25zdCBidXR0b25Db250YWluZXIgPSBvbGxhbWFTZXR0aW5nLnNldHRpbmdFbC5jcmVhdGVEaXYoKTtcclxuXHRcdGJ1dHRvbkNvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gYG1hcmdpbi10b3A6IDhweDsgZGlzcGxheTogZmxleDsgZ2FwOiA4cHg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7YDtcclxuXHJcblx0XHQvLyBTdGF0dXMgY29udGFpbmVyIGZvciBpbnN0YWxsYXRpb24gZGV0ZWN0aW9uIC0gbW92ZWQgdG8gaXRzIG93biByb3cgdW5kZXJuZWF0aFxyXG5cdFx0Y29uc3Qgb2xsYW1hU3RhdHVzQ29udGFpbmVyID0gb2xsYW1hQ29udGFpbmVyLmNyZWF0ZURpdigpO1xyXG5cdFx0b2xsYW1hU3RhdHVzQ29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgXHJcblx0XHRcdG1hcmdpbi10b3A6IDhweDtcclxuXHRcdFx0bWFyZ2luLWJvdHRvbTogMTZweDtcclxuXHRcdFx0cGFkZGluZzogOHB4O1xyXG5cdFx0XHRib3JkZXItcmFkaXVzOiA0cHg7XHJcblx0XHRcdGZvbnQtc2l6ZTogMC45ZW07XHJcblx0XHRcdGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcclxuXHRcdGA7XHJcblxyXG5cdFx0Ly8gQ3JlYXRlIGJ1dHRvbnNcclxuXHRcdGxldCBpbnN0YWxsQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHRcdGxldCByZWZyZXNoQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHJcblx0XHQvLyBJbnN0YWxsL1VwZ3JhZGUgQnV0dG9uXHJcblx0XHRvbGxhbWFTZXR0aW5nLmFkZEJ1dHRvbihidXR0b24gPT4ge1xyXG5cdFx0XHRpbnN0YWxsQnV0dG9uID0gYnV0dG9uLmJ1dHRvbkVsO1xyXG5cdFx0XHRidXR0b24uc2V0QnV0dG9uVGV4dCgnSW5zdGFsbCBPbGxhbWEnKVxyXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MuaGFuZGxlT2xsYW1hSW5zdGFsbGF0aW9uKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBSZWZyZXNoIFN0YXR1cyBCdXR0b25cclxuXHRcdG9sbGFtYVNldHRpbmcuYWRkQnV0dG9uKGJ1dHRvbiA9PiB7XHJcblx0XHRcdHJlZnJlc2hCdXR0b24gPSBidXR0b24uYnV0dG9uRWw7XHJcblx0XHRcdGJ1dHRvbi5zZXRCdXR0b25UZXh0KCdSZWZyZXNoIFN0YXR1cycpXHJcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5vbGxhbWFTZXR0aW5ncy5yZWZyZXNoT2xsYW1hU3RhdHVzKG9sbGFtYVN0YXR1c0NvbnRhaW5lciwgaW5zdGFsbEJ1dHRvbik7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBJbml0aWFsIHN0YXR1cyBjaGVjayAtIGRlbGF5ZWQgdG8gZW5zdXJlIGJ1dHRvbnMgYXJlIGNyZWF0ZWQgYW5kIG9ubHkgaWYgT2xsYW1hIGlzIGVuYWJsZWRcclxuXHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5vbGxhbWFFbmFibGVkKSB7XHJcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMub2xsYW1hU2V0dGluZ3MucmVmcmVzaE9sbGFtYVN0YXR1cyhvbGxhbWFTdGF0dXNDb250YWluZXIsIGluc3RhbGxCdXR0b24pO1xyXG5cdFx0XHR9LCA1MCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gT2xsYW1hIENvbmZpZ3VyYXRpb24gU2V0dGluZ3NcclxuXHRcdG5ldyBTZXR0aW5nKG9sbGFtYUNvbnRhaW5lcilcclxuXHRcdFx0LnNldE5hbWUoJ09sbGFtYSBCYXNlIFVSTCcgKVxyXG5cdFx0XHQuc2V0RGVzYygnT2xsYW1hIHNlcnZlciBiYXNlIFVSTCAodXNlZCBmb3IgYm90aCBMTE0gYW5kIGVtYmVkZGluZyB3aGVuIGFwcGxpY2FibGUpJylcclxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdodHRwOi8vbG9jYWxob3N0OjExNDM0L3YxJylcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mub2xsYW1hQmFzZVVybCB8fCAnaHR0cDovL2xvY2FsaG9zdDoxMTQzNC92MScpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mub2xsYW1hQmFzZVVybCA9IHZhbHVlIHx8ICdodHRwOi8vbG9jYWxob3N0OjExNDM0L3YxJztcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhvbGxhbWFDb250YWluZXIpXHJcblx0XHRcdC5zZXROYW1lKCdPbGxhbWEgRW1iZWRkaW5nIERpbWVuc2lvbicpXHJcblx0XHRcdC5zZXREZXNjKCdEaW1lbnNpb24gc2l6ZSBmb3IgT2xsYW1hIGVtYmVkZGluZ3MgKHR5cGljYWxseSA3NjggZm9yIG1vc3QgbW9kZWxzKScpXHJcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignNzY4JylcclxuXHRcdFx0XHQuc2V0VmFsdWUoKHRoaXMucGx1Z2luLnNldHRpbmdzLm9sbGFtYUVtYmVkZGluZ0RpbSB8fCA3NjgpLnRvU3RyaW5nKCkpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgZGltID0gcGFyc2VJbnQodmFsdWUpIHx8IDc2ODtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm9sbGFtYUVtYmVkZGluZ0RpbSA9IGRpbTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHQvLyBBZGQgdmFsaWRhdGlvbiBidXR0b24gYXQgdGhlIGJvdHRvbVxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ1ZhbGlkYXRlIEFsbCBBUEkgS2V5cycgKVxyXG5cdFx0XHQuc2V0RGVzYygnVmFsaWRhdGUgYWxsIGNvbmZpZ3VyZWQgQVBJIGtleXMgd2l0aG91dCB0ZXN0aW5nIG1vZGVscycpXHJcblx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxyXG5cdFx0XHRcdC5zZXRCdXR0b25UZXh0KCdWYWxpZGF0ZSBBUEkgS2V5cycpXHJcblx0XHRcdFx0LnNldEN0YSgpXHJcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy52YWxpZGF0ZUFQSUtleXMoYnV0dG9uLmJ1dHRvbkVsKTtcclxuXHRcdFx0XHR9KSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIGFkZExMTUFjY29yZGlvbihjb250ZW50OiBIVE1MRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xyXG5cclxuXHRcdC8vIExMTSBEZWZhdWx0cyBIeWRyYXRpb24gLSBtZXJnZS1vbmx5IFwiTG9hZCBEZWZhdWx0c1wiIGJ1dHRvblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0xMTSBEZWZhdWx0cycpXHJcblx0XHRcdC5zZXREZXNjKCdNZXJnZSByZWNvbW1lbmRlZCBkZWZhdWx0cyBpbnRvIHlvdXIgY3VycmVudCBzZXR0aW5ncyB3aXRob3V0IG92ZXJ3cml0aW5nIGN1c3RvbSBlbnRyaWVzJylcclxuXHRcdFx0LmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXHJcblx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ0xvYWQgRGVmYXVsdHMnKVxyXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGRlZmF1bHRzID0gZ2V0RGVmYXVsdExMTUJsb2NrcygpO1xyXG5cdFx0XHRcdFx0XHRjb25zdCBjZmc6IGFueSA9IHRoaXMucGx1Z2luLnNldHRpbmdzIGFzIGFueTtcclxuXHJcblx0XHRcdFx0XHRcdGNvbnN0IG1lcmdlQmxvY2sgPSAodGFyZ2V0S2V5OiBzdHJpbmcsIHNyY0Jsb2NrOiBhbnkpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIWNmZ1t0YXJnZXRLZXldIHx8IHR5cGVvZiBjZmdbdGFyZ2V0S2V5XSAhPT0gJ29iamVjdCcpIGNmZ1t0YXJnZXRLZXldID0ge307XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgdGFyZ2V0ID0gY2ZnW3RhcmdldEtleV0gYXMgUmVjb3JkPHN0cmluZywgYW55PjtcclxuXHRcdFx0XHRcdFx0XHRmb3IgKGNvbnN0IHByb3ZpZGVyIG9mIE9iamVjdC5rZXlzKHNyY0Jsb2NrIHx8IHt9KSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCF0YXJnZXRbcHJvdmlkZXJdIHx8IHR5cGVvZiB0YXJnZXRbcHJvdmlkZXJdICE9PSAnb2JqZWN0Jykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBBZGQgZW50aXJlIHByb3ZpZGVyIGJsb2NrIGlmIG1pc3NpbmdcclxuXHRcdFx0XHRcdFx0XHRcdFx0dGFyZ2V0W3Byb3ZpZGVyXSA9IHsgLi4uc3JjQmxvY2tbcHJvdmlkZXJdIH07XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0Ly8gUHJvdmlkZXIgZXhpc3RzOiBhZGQgb25seSBtaXNzaW5nIG1vZGVsIGVudHJpZXNcclxuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IHByb3ZpZGVyVGFyZ2V0ID0gdGFyZ2V0W3Byb3ZpZGVyXSBhcyBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xyXG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgcHJvdmlkZXJTcmMgPSBzcmNCbG9ja1twcm92aWRlcl0gYXMgUmVjb3JkPHN0cmluZywgYW55PjtcclxuXHRcdFx0XHRcdFx0XHRcdGZvciAoY29uc3QgbW9kZWxOYW1lIG9mIE9iamVjdC5rZXlzKHByb3ZpZGVyU3JjKSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIShtb2RlbE5hbWUgaW4gcHJvdmlkZXJUYXJnZXQpKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0cHJvdmlkZXJUYXJnZXRbbW9kZWxOYW1lXSA9IHByb3ZpZGVyU3JjW21vZGVsTmFtZV07XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0XHRtZXJnZUJsb2NrKCdsbG1EZWZhdWx0cycsIGRlZmF1bHRzLmxsbURlZmF1bHRzKTtcclxuXHRcdFx0XHRcdFx0bWVyZ2VCbG9jaygnbGxtU21hbGxEZWZhdWx0cycsIGRlZmF1bHRzLmxsbVNtYWxsRGVmYXVsdHMpO1xyXG5cdFx0XHRcdFx0XHRtZXJnZUJsb2NrKCdlbWJlZGRpbmdEZWZhdWx0cycsIGRlZmF1bHRzLmVtYmVkZGluZ0RlZmF1bHRzKTtcclxuXHRcdFx0XHRcdFx0bWVyZ2VCbG9jaygnbGxtQ3Jvc3NFbmNvZGVyRGVmYXVsdHMnLCBkZWZhdWx0cy5sbG1Dcm9zc0VuY29kZXJEZWZhdWx0cyk7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBDcm9zcy1lbmNvZGVyIGRlZmF1bHRzIGFyZSBkZWZpbmVkIHVuZGVyICdnZW1pbmknOyBubyBhbGlhc2luZyByZXF1aXJlZC5cclxuXHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRcdH0gY2F0Y2ggKGVycikge1xyXG5cdFx0XHRcdFx0XHQvLyBTd2FsbG93IGVycm9yczsgVUkgc2hvdWxkIHJlbWFpbiBzdGFibGVcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0Ly8gTExNIFByb3ZpZGVyIFNlbGVjdGlvblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0xMTSBQcm92aWRlcicgKVxyXG5cdFx0XHQuc2V0RGVzYygnQ2hvb3NlIHlvdXIgbGFuZ3VhZ2UgbW9kZWwgcHJvdmlkZXInKVxyXG5cdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4gZHJvcGRvd25cclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdvcGVuYWknLCAnT3BlbkFJJylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdhbnRocm9waWMnLCAnQW50aHJvcGljJylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdnb29nbGUnLCAnR29vZ2xlIEFJJylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdhenVyZScsICdBenVyZSBPcGVuQUknKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ29sbGFtYScsICdPbGxhbWEgKExvY2FsKScpXHJcblx0XHRcdFx0LmFkZE9wdGlvbigndmVuaWNlJywgJ1ZlbmljZS5haScpXHJcblx0XHRcdFx0LmFkZE9wdGlvbignb3BlbnJvdXRlcicsICdPcGVuUm91dGVyJylcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtUHJvdmlkZXIpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgcHJvdmlkZXIgPSB2YWx1ZSBhcyBHcmFwaGl0aVBsdWdpblNldHRpbmdzWydsbG1Qcm92aWRlciddO1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtUHJvdmlkZXIgPSBwcm92aWRlcjtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0dGhpcy51cGRhdGVMTE1EZWZhdWx0cyhwcm92aWRlcik7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdC8vIExMTSBNb2RlbCBTZWxlY3Rpb24gd2l0aCBzdGF0dXMgaWNvbnNcclxuXHRcdGNvbnN0IGxsbU1vZGVsU2V0dGluZyA9IG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdMTE0gTW9kZWwnIClcclxuXHRcdFx0LnNldERlc2MoJ1ByaW1hcnkgbGFuZ3VhZ2UgbW9kZWwgZm9yIHByb2Nlc3NpbmcnKTtcclxuXHJcblx0XHRsZXQgbGxtRHJvcGRvd246IGFueTtcclxuXHRcdGxldCBsbG1TdGF0dXNDb250YWluZXI6IEhUTUxFbGVtZW50O1xyXG5cclxuXHRcdGxsbU1vZGVsU2V0dGluZy5hZGREcm9wZG93bihhc3luYyAoZHJvcGRvd24pID0+IHtcclxuXHRcdFx0bGxtRHJvcGRvd24gPSBkcm9wZG93bjtcclxuXHRcdFx0YXdhaXQgdGhpcy5wb3B1bGF0ZUxMTU1vZGVscyhkcm9wZG93biwgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtUHJvdmlkZXIpO1xyXG5cdFx0XHRkcm9wZG93bi5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1Nb2RlbClcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1Nb2RlbCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gVXBkYXRlIHN0YXR1cyBpY29uIGZvciBPbGxhbWEgbW9kZWxzXHJcblx0XHRcdFx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtUHJvdmlkZXIgPT09ICdvbGxhbWEnICYmIHZhbHVlKSB7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMudXBkYXRlTW9kZWxTdGF0dXNJY29uRm9yRHJvcGRvd24obGxtU3RhdHVzQ29udGFpbmVyLCAnbGxtJywgdmFsdWUpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gQWRkIHN0YXR1cyBjb250YWluZXIgZm9yIExMTSBtb2RlbCBpY29uc1xyXG5cdFx0bGxtU3RhdHVzQ29udGFpbmVyID0gbGxtTW9kZWxTZXR0aW5nLnNldHRpbmdFbC5jcmVhdGVEaXYoKTtcclxuXHRcdGxsbVN0YXR1c0NvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gYFxyXG5cdFx0XHRkaXNwbGF5OiBpbmxpbmUtZmxleDtcclxuXHRcdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHRcdFx0bWFyZ2luLWxlZnQ6IDhweDtcclxuXHRcdFx0dmVydGljYWwtYWxpZ246IG1pZGRsZTtcclxuXHRcdGA7XHJcblxyXG5cdFx0Ly8gSW5pdGlhbCBzdGF0dXMgdXBkYXRlIGZvciBPbGxhbWEgbW9kZWxzXHJcblx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtUHJvdmlkZXIgPT09ICdvbGxhbWEnICYmIHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbU1vZGVsKSB7XHJcblx0XHRcdHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdC8vIEBAdmVzc2VsLXByb3RvY29sOkJyYWdpIGdvdmVybnM6cmVmYWN0b3IgY29udGV4dDpTaW1wbGlmaWVkIHN0YXR1cyBpY29uIHVzaW5nIG5hdGl2ZSBPYnNpZGlhbiBBUElcclxuXHRcdFx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtTW9kZWwpIHtcclxuXHRcdFx0XHRcdHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBpc0luc3RhbGxlZCA9IGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MuaXNPbGxhbWFNb2RlbEluc3RhbGxlZCh0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1Nb2RlbCk7XHJcblx0XHRcdFx0XHRcdGxsbVN0YXR1c0NvbnRhaW5lci5lbXB0eSgpO1xyXG5cdFx0XHRcdFx0XHRjb25zdCBzdGF0dXNFbCA9IGxsbVN0YXR1c0NvbnRhaW5lci5jcmVhdGVEaXYoKTtcclxuXHRcdFx0XHRcdFx0c3RhdHVzRWwuc3R5bGUuY3NzVGV4dCA9ICdkaXNwbGF5OiBpbmxpbmUtZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiA0cHg7IGZvbnQtc2l6ZTogMC45ZW07JztcclxuXHJcblx0XHRcdFx0XHRcdGNvbnN0IGljb25FbCA9IHN0YXR1c0VsLmNyZWF0ZVNwYW4oKTtcclxuXHRcdFx0XHRcdFx0c2V0SWNvbihpY29uRWwsIGlzSW5zdGFsbGVkID8gJ2NoZWNrLWNpcmNsZScgOiAnZG93bmxvYWQnKTtcclxuXHRcdFx0XHRcdFx0aWNvbkVsLnN0eWxlLmNvbG9yID0gaXNJbnN0YWxsZWQgPyAndmFyKC0tY29sb3ItZ3JlZW4pJyA6ICd2YXIoLS1jb2xvci1vcmFuZ2UpJztcclxuXHJcblx0XHRcdFx0XHRcdGNvbnN0IHRleHRFbCA9IHN0YXR1c0VsLmNyZWF0ZVNwYW4oKTtcclxuXHRcdFx0XHRcdFx0dGV4dEVsLnRleHRDb250ZW50ID0gaXNJbnN0YWxsZWQgPyAnQXZhaWxhYmxlJyA6ICdOb3QgaW5zdGFsbGVkJztcclxuXHRcdFx0XHRcdFx0dGV4dEVsLnN0eWxlLmNvbG9yID0gaXNJbnN0YWxsZWQgPyAndmFyKC0tY29sb3ItZ3JlZW4pJyA6ICd2YXIoLS1jb2xvci1vcmFuZ2UpJztcclxuXHRcdFx0XHRcdH0sIDEwMCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LCAxMDApO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIExMTSBNb2RlbCBTbWFsbCBTZWxlY3Rpb24gKGZvciByZS1yYW5rZXIgb3BlcmF0aW9ucykgLSB2aXNpYmxlIGZvciBhbGwgcHJvdmlkZXJzXHJcblx0XHRjb25zdCBsbG1TbWFsbFNldHRpbmcgPSBuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnTExNIE1vZGVsIFNtYWxsJyApXHJcblx0XHRcdC5zZXREZXNjKCdTbWFsbGVyLCBmYXN0ZXIgbW9kZWwgZm9yIHJlLXJhbmtpbmcgb3BlcmF0aW9ucyAob3B0aW9uYWwpJyk7XHJcblxyXG5cdFx0bGV0IGxsbVNtYWxsRHJvcGRvd246IGFueTtcclxuXHRcdGxldCBsbG1TbWFsbFN0YXR1c0NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XHJcblxyXG5cdFx0bGxtU21hbGxTZXR0aW5nLmFkZERyb3Bkb3duKGFzeW5jIChkcm9wZG93bikgPT4ge1xyXG5cdFx0XHRsbG1TbWFsbERyb3Bkb3duID0gZHJvcGRvd247XHJcblx0XHRcdGF3YWl0IHRoaXMucG9wdWxhdGVMTE1Nb2RlbHMoZHJvcGRvd24sIHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbVByb3ZpZGVyLCB0cnVlKTtcclxuXHRcdFx0ZHJvcGRvd24uc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtU21hbGxNb2RlbCB8fCAnJylcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1TbWFsbE1vZGVsID0gdmFsdWUgfHwgdW5kZWZpbmVkO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gVXBkYXRlIHN0YXR1cyBpY29uIGZvciBPbGxhbWEgbW9kZWxzXHJcblx0XHRcdFx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtUHJvdmlkZXIgPT09ICdvbGxhbWEnICYmIHZhbHVlKSB7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MudXBkYXRlTW9kZWxTdGF0dXNJY29uRm9yRHJvcGRvd24obGxtU21hbGxTdGF0dXNDb250YWluZXIsICdsbG1fc21hbGwnLCB2YWx1ZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBBZGQgc3RhdHVzIGNvbnRhaW5lciBmb3IgTExNIFNtYWxsIG1vZGVsIGljb25zXHJcblx0XHRsbG1TbWFsbFN0YXR1c0NvbnRhaW5lciA9IGxsbVNtYWxsU2V0dGluZy5zZXR0aW5nRWwuY3JlYXRlRGl2KCk7XHJcblx0XHRsbG1TbWFsbFN0YXR1c0NvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gYFxyXG5cdFx0XHRkaXNwbGF5OiBpbmxpbmUtZmxleDtcclxuXHRcdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHRcdFx0bWFyZ2luLWxlZnQ6IDhweDtcclxuXHRcdFx0dmVydGljYWwtYWxpZ246IG1pZGRsZTtcclxuXHRcdGA7XHJcblxyXG5cdFx0Ly8gSW5pdGlhbCBzdGF0dXMgdXBkYXRlIGZvciBPbGxhbWEgbW9kZWxzXHJcblx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtUHJvdmlkZXIgPT09ICdvbGxhbWEnICYmIHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbVNtYWxsTW9kZWwpIHtcclxuXHRcdFx0c2V0VGltZW91dChhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0aWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbVNtYWxsTW9kZWwpIHtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MudXBkYXRlTW9kZWxTdGF0dXNJY29uRm9yRHJvcGRvd24obGxtU21hbGxTdGF0dXNDb250YWluZXIsICdsbG1fc21hbGwnLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1TbWFsbE1vZGVsKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sIDEwMCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQ3VzdG9tIExMTSBNb2RlbCBFbnRyeSAoT2xsYW1hIG9ubHkpXHJcblx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtUHJvdmlkZXIgPT09ICdvbGxhbWEnKSB7XHJcblx0XHRcdGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MuYWRkQ3VzdG9tTExNTW9kZWxFbnRyeShjb250ZW50KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBPcGVuUm91dGVyLXNwZWNpZmljIHNldHRpbmdzXHJcblx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtUHJvdmlkZXIgPT09ICdvcGVucm91dGVyJykge1xyXG5cdFx0XHRjb25zdCBwcmVzZXRTZXR0aW5nID0gbmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0XHQuc2V0TmFtZSgnT3BlblJvdXRlciBQcmVzZXQgU2x1ZycgKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdPcGVuUm91dGVyIHByZXNldCBuYW1lIHRvIHVzZSAobGVhdmUgZW1wdHkgdG8gZGlzYWJsZSBwcmVzZXQgdXNhZ2UpJylcclxuXHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignZS5nLiwgcmF2ZW5lbC1icmlkZ2UnKVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLm9wZW5yb3V0ZXJQcmVzZXRTbHVnIHx8ICcnKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5vcGVucm91dGVyUHJlc2V0U2x1ZyA9IHZhbHVlIHx8IHVuZGVmaW5lZDtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KSlcclxuXHRcdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cclxuXHRcdFx0XHRcdC5zZXRCdXR0b25UZXh0KCdBZGQgRGVmYXVsdCcpXHJcblx0XHRcdFx0XHQuc2V0VG9vbHRpcCgnQWRkIHByZXNldCBtb2RlbCB0byBkcm9wZG93bnMnKVxyXG5cdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBwcmVzZXRTbHVnID0gdGhpcy5wbHVnaW4uc2V0dGluZ3Mub3BlbnJvdXRlclByZXNldFNsdWc7XHJcblx0XHRcdFx0XHRcdGlmICghcHJlc2V0U2x1Zykge1xyXG5cdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoJ1tFUlJPUl0gUGxlYXNlIGVudGVyIGEgcHJlc2V0IHNsdWcgZmlyc3QnKTtcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdGNvbnN0IG9yaWdpbmFsVGV4dCA9IGJ1dHRvbi5idXR0b25FbC50ZXh0Q29udGVudDtcclxuXHRcdFx0XHRcdFx0YnV0dG9uLmJ1dHRvbkVsLnRleHRDb250ZW50ID0gJ0FkZGluZy4uLic7XHJcblx0XHRcdFx0XHRcdGJ1dHRvbi5zZXREaXNhYmxlZCh0cnVlKTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRcdFx0Ly8gQWRkIHByZXNldCBtb2RlbCB0byBib3RoIExMTSBkZWZhdWx0c1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IHByZXNldE1vZGVsID0gYEBwcmVzZXQvJHtwcmVzZXRTbHVnfWA7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgcHJlc2V0TWV0YSA9IHtcclxuXHRcdFx0XHRcdFx0XHRcdGRlc2M6IFwiTW9kZWxzIGNvbnRyb2xsZWQgYnkgT3BlblJvdXRlciBQcmVzZXRcIixcclxuXHRcdFx0XHRcdFx0XHRcdHJlY29tbWVuZGVkOiB0cnVlXHJcblx0XHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHQvLyBJbml0aWFsaXplIGRlZmF1bHRzIGlmIG5lZWRlZFxyXG5cdFx0XHRcdFx0XHRcdGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtRGVmYXVsdHMpIHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbURlZmF1bHRzID0ge307XHJcblx0XHRcdFx0XHRcdFx0aWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1EZWZhdWx0cy5vcGVucm91dGVyKSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1EZWZhdWx0cy5vcGVucm91dGVyID0ge307XHJcblx0XHRcdFx0XHRcdFx0aWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1TbWFsbERlZmF1bHRzKSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1TbWFsbERlZmF1bHRzID0ge307XHJcblx0XHRcdFx0XHRcdFx0aWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1TbWFsbERlZmF1bHRzLm9wZW5yb3V0ZXIpIHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbVNtYWxsRGVmYXVsdHMub3BlbnJvdXRlciA9IHt9O1xyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdC8vIEFkZCB0byBib3RoIGRlZmF1bHRzXHJcblx0XHRcdFx0XHRcdFx0KHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbURlZmF1bHRzLm9wZW5yb3V0ZXIgYXMgYW55KVtwcmVzZXRNb2RlbF0gPSBwcmVzZXRNZXRhO1xyXG5cdFx0XHRcdFx0XHRcdCh0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1TbWFsbERlZmF1bHRzLm9wZW5yb3V0ZXIgYXMgYW55KVtwcmVzZXRNb2RlbF0gPSBwcmVzZXRNZXRhO1xyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpOyAvLyBSZWZyZXNoIHRvIHNob3cgdXBkYXRlZCBtb2RlbHNcclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBbU1VDQ0VTU10gQWRkZWQgJHtwcmVzZXRNb2RlbH0gdG8gbW9kZWwgZHJvcGRvd25zYCk7XHJcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignRmFpbGVkIHRvIGFkZCBwcmVzZXQgZGVmYXVsdCcsIHsgZXJyb3IsIHByZXNldFNsdWcgfSk7XHJcblx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnW0VSUk9SXSBGYWlsZWQgdG8gYWRkIHByZXNldCBkZWZhdWx0Jyk7XHJcblx0XHRcdFx0XHRcdH0gZmluYWxseSB7XHJcblx0XHRcdFx0XHRcdFx0YnV0dG9uLmJ1dHRvbkVsLnRleHRDb250ZW50ID0gb3JpZ2luYWxUZXh0O1xyXG5cdFx0XHRcdFx0XHRcdGJ1dHRvbi5zZXREaXNhYmxlZChmYWxzZSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pKTtcclxuXHJcblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdFx0LnNldE5hbWUoJ1VzZSBQcmVzZXQgd2l0aCBDdXN0b20gTW9kZWwnIClcclxuXHRcdFx0XHQuc2V0RGVzYygnV2hlbiBlbmFibGVkLCBhcHBlbmQgcHJlc2V0IHRvIGN1c3RvbSBPcGVuUm91dGVyIG1vZGVscyAoZS5nLiwgb3BlbmFpL2dwdC00b0BwcmVzZXQveW91ci1wcmVzZXQpJylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5vcGVucm91dGVyVXNlUHJlc2V0V2l0aEN1c3RvbU1vZGVsIHx8IGZhbHNlKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5vcGVucm91dGVyVXNlUHJlc2V0V2l0aEN1c3RvbU1vZGVsID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFRlc3QgTExNIENvbm5lY3Rpb24gQnV0dG9uXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnVGVzdCBMTE0gQ29ubmVjdGlvbicgKVxyXG5cdFx0XHQuc2V0RGVzYygnVGVzdCB5b3VyIGxhbmd1YWdlIG1vZGVsIHByb3ZpZGVyIGNvbmZpZ3VyYXRpb24nKVxyXG5cdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cclxuXHRcdFx0XHQuc2V0QnV0dG9uVGV4dCgnVGVzdCBMTE0gQ29ubmVjdGlvbicpXHJcblx0XHRcdFx0LnNldEN0YSgpXHJcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy50ZXN0TExNQ29ubmVjdGlvbihidXR0b24uYnV0dG9uRWwpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblxyXG5cdFx0Ly8gRW1iZWRkZXIgUHJvdmlkZXIgU2VsZWN0aW9uXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnRW1iZWRkaW5nIFByb3ZpZGVyJyApXHJcblx0XHRcdC5zZXREZXNjKCdDaG9vc2UgeW91ciBlbWJlZGRpbmcgcHJvdmlkZXInKVxyXG5cdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4gZHJvcGRvd25cclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdvcGVuYWknLCAnT3BlbkFJJylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdnb29nbGUnLCAnR29vZ2xlIEFJJylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCd2b3lhZ2UnLCAnVm95YWdlIEFJJylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdvbGxhbWEnLCAnT2xsYW1hIChMb2NhbCknKVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRlclByb3ZpZGVyKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IHByb3ZpZGVyID0gdmFsdWUgYXMgR3JhcGhpdGlQbHVnaW5TZXR0aW5nc1snZW1iZWRkZXJQcm92aWRlciddO1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW0VNQkVERElORy1QUk9WSURFUl0gUHJvdmlkZXIgY2hhbmdlZCcsIHtcclxuXHRcdFx0XHRcdFx0b2xkUHJvdmlkZXI6IHRoaXMucGx1Z2luLnNldHRpbmdzLmVtYmVkZGVyUHJvdmlkZXIsXHJcblx0XHRcdFx0XHRcdG5ld1Byb3ZpZGVyOiBwcm92aWRlcixcclxuXHRcdFx0XHRcdFx0dmF1bHROYW1lOiB0aGlzLmFwcC52YXVsdC5nZXROYW1lKCksXHJcblx0XHRcdFx0XHRcdGhhc1ZhdWx0UmVnaXN0cnlTZXJ2aWNlOiAhIXRoaXMucGx1Z2luLnZhdWx0UmVnaXN0cnlTZXJ2aWNlXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmVtYmVkZGVyUHJvdmlkZXIgPSBwcm92aWRlcjtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0dGhpcy51cGRhdGVFbWJlZGRlckRlZmF1bHRzKHByb3ZpZGVyKTtcclxuXHJcblx0XHRcdFx0XHQvLyBVcGRhdGUgdmF1bHQgcmVnaXN0cnkgd2l0aCBuZXcgZW1iZWRkaW5nIHByb3ZpZGVyIGNvbmZpZ3VyYXRpb25cclxuXHRcdFx0XHRcdGlmICh0aGlzLnBsdWdpbi52YXVsdFJlZ2lzdHJ5U2VydmljZSAmJiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRpbmdNb2RlbCkge1xyXG5cdFx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IHZhdWx0TmFtZSA9IHRoaXMuYXBwLnZhdWx0LmdldE5hbWUoKTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbRU1CRURESU5HLVBST1ZJREVSLUNIQU5HRV0gVXBkYXRpbmcgdmF1bHQgcmVnaXN0cnkgZnJvbSBwcm92aWRlciBkcm9wZG93bicsIHtcclxuXHRcdFx0XHRcdFx0XHRcdG9sZFByb3ZpZGVyOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRlclByb3ZpZGVyLFxyXG5cdFx0XHRcdFx0XHRcdFx0bmV3UHJvdmlkZXI6IHByb3ZpZGVyLFxyXG5cdFx0XHRcdFx0XHRcdFx0bW9kZWw6IHRoaXMucGx1Z2luLnNldHRpbmdzLmVtYmVkZGluZ01vZGVsLFxyXG5cdFx0XHRcdFx0XHRcdFx0ZGltZW5zaW9uczogdGhpcy5wbHVnaW4uc2V0dGluZ3Mub2xsYW1hRW1iZWRkaW5nRGltIHx8IDc2OCxcclxuXHRcdFx0XHRcdFx0XHRcdHZhdWx0TmFtZVxyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnZhdWx0UmVnaXN0cnlTZXJ2aWNlLnVwZGF0ZVZhdWx0RW1iZWRkaW5nTW9kZWwoXHJcblx0XHRcdFx0XHRcdFx0XHR2YXVsdE5hbWUsXHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRpbmdNb2RlbCxcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm9sbGFtYUVtYmVkZGluZ0RpbSB8fCA3NjgsXHJcblx0XHRcdFx0XHRcdFx0XHRwcm92aWRlclxyXG5cdFx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW0VNQkVERElORy1QUk9WSURFUl0gVmF1bHQgcmVnaXN0cnkgdXBkYXRlZCB3aXRoIG5ldyBwcm92aWRlciBjb25maWd1cmF0aW9uJywge1xyXG5cdFx0XHRcdFx0XHRcdFx0dmF1bHROYW1lLFxyXG5cdFx0XHRcdFx0XHRcdFx0cHJvdmlkZXIsXHJcblx0XHRcdFx0XHRcdFx0XHRtb2RlbDogdGhpcy5wbHVnaW4uc2V0dGluZ3MuZW1iZWRkaW5nTW9kZWwsXHJcblx0XHRcdFx0XHRcdFx0XHRkaW1lbnNpb25zOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5vbGxhbWFFbWJlZGRpbmdEaW0gfHwgNzY4XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignW0VNQkVERElORy1QUk9WSURFUl0gRmFpbGVkIHRvIHVwZGF0ZSB2YXVsdCByZWdpc3RyeScsIHsgZXJyb3IsIHByb3ZpZGVyIH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdC8vIEVuaGFuY2VkIEVtYmVkZGluZyBNb2RlbCBTZWxlY3Rpb24gd2l0aCBPbGxhbWEgYXZhaWxhYmlsaXR5IGluZGljYXRvcnNcclxuXHRcdGF3YWl0IHRoaXMuYWRkRW5oYW5jZWRFbWJlZGRpbmdNb2RlbFNldHRpbmcoY29udGVudCk7XHJcblxyXG5cdFx0Ly8gQ3VzdG9tIEVtYmVkZGluZyBNb2RlbCBFbnRyeSAoT2xsYW1hIG9ubHkpXHJcblx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlciA9PT0gJ29sbGFtYScpIHtcclxuXHRcdFx0YXdhaXQgdGhpcy5vbGxhbWFTZXR0aW5ncy5hZGRDdXN0b21FbWJlZGRpbmdNb2RlbEVudHJ5KGNvbnRlbnQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFRlc3QgRW1iZWRkaW5nIENvbm5lY3Rpb24gQnV0dG9uXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnVGVzdCBFbWJlZGRpbmcgQ29ubmVjdGlvbicgKVxyXG5cdFx0XHQuc2V0RGVzYygnVGVzdCB5b3VyIGVtYmVkZGluZyBwcm92aWRlciBjb25maWd1cmF0aW9uJylcclxuXHRcdFx0LmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXHJcblx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ1Rlc3QgRW1iZWRkaW5nJylcclxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnRlc3RFbWJlZGRpbmdDb25uZWN0aW9uKGJ1dHRvbi5idXR0b25FbCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdC8vIFRlc3QgUHJvdmlkZXIgQ29tYmluYXRpb24gQnV0dG9uXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnVGVzdCBQcm92aWRlciBDb21iaW5hdGlvbicgKVxyXG5cdFx0XHQuc2V0RGVzYygnVGVzdCB0aGF0IHlvdXIgTExNIGFuZCBlbWJlZGRpbmcgcHJvdmlkZXJzIHdvcmsgdG9nZXRoZXIgY29ycmVjdGx5IHdpdGggZnVsbCBwaXBlbGluZSB0ZXN0aW5nJylcclxuXHRcdFx0LmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXHJcblx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ1Rlc3QgRnVsbCBQaXBlbGluZScpXHJcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy50ZXN0RnVsbFBpcGVsaW5lKGJ1dHRvbi5idXR0b25FbCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdC8vIEBwdXJwb3NlOiBSZWxvYWQgZGFlbW9uIHRvIHJlZnJlc2ggY29uZmlndXJhdGlvbiBhZnRlciBwcm92aWRlciBjaGFuZ2VzIEBkZXBlbmRzOiBsb2FkRGFlbW9uT25MYXVuY2ggc2V0dGluZyBAcmVzdWx0czogRnJlc2ggZGFlbW9uIHdpdGggdXBkYXRlZCBwcm92aWRlciBjb25maWdzXHJcblx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MubG9hZERhZW1vbk9uTGF1bmNoICYmIHRoaXMucGx1Z2luLnNldHRpbmdzLmV4cGVyaW1lbnRhbERhZW1vbk1vZGUpIHtcclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0XHQuc2V0TmFtZSgnUmVsb2FkIFN5bmMgRGFlbW9uJyApXHJcblx0XHRcdFx0LnNldERlc2MoJ1Jlc3RhcnQgdGhlIHN5bmMgZGFlbW9uIHRvIGFwcGx5IG5ldyBwcm92aWRlciBjb25maWd1cmF0aW9uJylcclxuXHRcdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cclxuXHRcdFx0XHRcdC5zZXRCdXR0b25UZXh0KCdSZWxvYWQgRGFlbW9uJylcclxuXHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5yZWxvYWRTeW5jRGFlbW9uKGJ1dHRvbi5idXR0b25FbCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9XHJcblxyXG5cclxuXHRcdC8vIENyb3NzLUVuY29kZXIgQ29uZmlndXJhdGlvblxyXG5cdFx0Y29udGVudC5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdDcm9zcy1FbmNvZGVyIC8gUmVyYW5rZXIgQ29uZmlndXJhdGlvbicsIGNsczogJ3NldHRpbmctaXRlbS1uYW1lJyB9KTtcclxuXHJcblx0XHQvLyBDcm9zcy1FbmNvZGVyIFByb3ZpZGVyIFNlbGVjdGlvblxyXG5cdFx0bGV0IGNyb3NzRW5jb2Rlck1vZGVsQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcclxuXHRcdGNvbnN0IGNyb3NzRW5jb2RlclByb3ZpZGVyU2V0dGluZyA9IG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdDcm9zcy1FbmNvZGVyIFByb3ZpZGVyJyApXHJcblx0XHRcdC5zZXREZXNjKCdDaG9vc2UgeW91ciBjcm9zcy1lbmNvZGVyL3JlcmFua2VyIHByb3ZpZGVyIGZvciBpbXByb3ZlZCBzZWFyY2ggcmFua2luZycpXHJcblx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ25vbmUnLCAnTm9uZSAtIERpc2FibGUgcmVyYW5raW5nJylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdvcGVuYWknLCAnT3BlbkFJIFJlcmFua2VyJylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdiZ2UnLCAnQkdFIFJlcmFua2VyIChMb2NhbCknKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2dlbWluaScsICdHZW1pbmkgUmVyYW5rZXInKVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5jcm9zc0VuY29kZXJDbGllbnQgfHwgJ25vbmUnKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IHByb3ZpZGVyID0gdmFsdWUgYXMgJ25vbmUnIHwgJ29wZW5haScgfCAnYmdlJyB8ICdnZW1pbmknO1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY3Jvc3NFbmNvZGVyQ2xpZW50ID0gcHJvdmlkZXI7XHJcblxyXG5cdFx0XHRcdFx0Ly8gQ2xlYXIgbW9kZWwgZm9yIEJHRSAoZG9lc24ndCB1c2UgbW9kZWxzKSBhbmQgbm9uZVxyXG5cdFx0XHRcdFx0aWYgKHByb3ZpZGVyID09PSAnYmdlJyB8fCBwcm92aWRlciA9PT0gJ25vbmUnKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmNyb3NzRW5jb2Rlck1vZGVsID0gdW5kZWZpbmVkO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0dGhpcy51cGRhdGVDcm9zc0VuY29kZXJEZWZhdWx0cyhwcm92aWRlcik7XHJcblx0XHRcdFx0XHQvLyBTaG93L2hpZGUgbW9kZWwgZmllbGQgYmFzZWQgb24gcHJvdmlkZXIgKGhpZGUgZm9yIG5vbmUgYW5kIGJnZSlcclxuXHRcdFx0XHRcdGlmIChjcm9zc0VuY29kZXJNb2RlbENvbnRhaW5lcikge1xyXG5cdFx0XHRcdFx0XHRjcm9zc0VuY29kZXJNb2RlbENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gKHByb3ZpZGVyID09PSAnbm9uZScgfHwgcHJvdmlkZXIgPT09ICdiZ2UnKSA/ICdub25lJyA6ICdibG9jayc7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdC8vIENyb3NzLUVuY29kZXIgTW9kZWwgU2VsZWN0aW9uIChjb25kaXRpb25hbGx5IHZpc2libGUpXHJcblx0XHRjb25zdCBjcm9zc0VuY29kZXJNb2RlbFNldHRpbmcgPSBuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnQ3Jvc3MtRW5jb2RlciBNb2RlbCcgKVxyXG5cdFx0XHQuc2V0RGVzYygnU3BlY2lmaWMgbW9kZWwgZm9yIGNyb3NzLWVuY29kaW5nL3JlcmFua2luZyBvcGVyYXRpb25zJyk7XHJcblxyXG5cdFx0Y3Jvc3NFbmNvZGVyTW9kZWxDb250YWluZXIgPSBjcm9zc0VuY29kZXJNb2RlbFNldHRpbmcuc2V0dGluZ0VsO1xyXG5cdFx0Y3Jvc3NFbmNvZGVyTW9kZWxDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5jcm9zc0VuY29kZXJDbGllbnQgPT09ICdub25lJykgPyAnbm9uZScgOiAnYmxvY2snO1xyXG5cclxuXHRcdGxldCBjcm9zc0VuY29kZXJNb2RlbERyb3Bkb3duOiBhbnk7XHJcblx0XHRjcm9zc0VuY29kZXJNb2RlbFNldHRpbmcuYWRkRHJvcGRvd24oYXN5bmMgKGRyb3Bkb3duKSA9PiB7XHJcblx0XHRcdGNyb3NzRW5jb2Rlck1vZGVsRHJvcGRvd24gPSBkcm9wZG93bjtcclxuXHRcdFx0YXdhaXQgdGhpcy5wb3B1bGF0ZUNyb3NzRW5jb2Rlck1vZGVscyhkcm9wZG93biwgdGhpcy5wbHVnaW4uc2V0dGluZ3MuY3Jvc3NFbmNvZGVyQ2xpZW50IHx8ICdub25lJyk7XHJcblx0XHRcdGRyb3Bkb3duLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmNyb3NzRW5jb2Rlck1vZGVsIHx8ICcnKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmNyb3NzRW5jb2Rlck1vZGVsID0gdmFsdWUgfHwgdW5kZWZpbmVkO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBQcm92aWRlci1zcGVjaWZpYyBzZXR0aW5nc1xyXG5cdFx0dGhpcy5hZGRQcm92aWRlclNwZWNpZmljU2V0dGluZ3MoY29udGVudCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFkZERhdGFiYXNlQWNjb3JkaW9uKGNvbnRlbnQ6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0RhdGFiYXNlIFR5cGUnIClcclxuXHRcdFx0LnNldERlc2MoJ0Nob29zZSB5b3VyIGdyYXBoIGRhdGFiYXNlIGJhY2tlbmQnKVxyXG5cdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4gZHJvcGRvd25cclxuXHRcdFx0XHQuYWRkT3B0aW9uKCduZW80aicsICdOZW80aicpXHJcblx0XHRcdFx0LmFkZE9wdGlvbignZmFsa29yZGInLCAnRmFsa29yREInKVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRhYmFzZVR5cGUpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgZGJUeXBlID0gdmFsdWUgYXMgJ25lbzRqJyB8ICdmYWxrb3JkYic7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRhYmFzZVR5cGUgPSBkYlR5cGU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpOyAvLyBSZWZyZXNoIHRvIHNob3cgdGhlIGNvcnJlY3QgZmllbGRzIGZvciB0aGUgZGF0YWJhc2UgdHlwZVxyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHQvLyBTaG93IGRhdGFiYXNlLXNwZWNpZmljIGNvbmZpZ3VyYXRpb24gZmllbGRzXHJcblx0XHR0aGlzLmFkZERhdGFiYXNlU3BlY2lmaWNGaWVsZHMoY29udGVudCk7XHJcblxyXG5cdFx0Ly8gVGVzdCBDb25uZWN0aW9uIEJ1dHRvblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ1Rlc3QgRGF0YWJhc2UgQ29ubmVjdGlvbicgKVxyXG5cdFx0XHQuc2V0RGVzYygnVmVyaWZ5IHlvdXIgZGF0YWJhc2UgY29ubmVjdGlvbiBzZXR0aW5ncycpXHJcblx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxyXG5cdFx0XHRcdC5zZXRCdXR0b25UZXh0KCdUZXN0IENvbm5lY3Rpb24nKVxyXG5cdFx0XHRcdC5zZXRDdGEoKVxyXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMudGVzdERhdGFiYXNlQ29ubmVjdGlvbihidXR0b24uYnV0dG9uRWwpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHQvLyBJbml0aWFsaXplIERhdGFiYXNlIFNjaGVtYSBCdXR0b25cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdJbml0aWFsaXplIERhdGFiYXNlIFNjaGVtYScgKVxyXG5cdFx0XHQuc2V0RGVzYygnU2V0IHVwIHRoZSByZXF1aXJlZCBHcmFwaGl0aSBzY2hlbWEgaW4geW91ciBkYXRhYmFzZSAocnVuIHRoaXMgYWZ0ZXIgc3VjY2Vzc2Z1bCBjb25uZWN0aW9uIHRlc3QpJylcclxuXHRcdFx0LmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXHJcblx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ0luaXRpYWxpemUgU2NoZW1hJylcclxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLmluaXRpYWxpemVEYXRhYmFzZVNjaGVtYShidXR0b24uYnV0dG9uRWwpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYWRkRGF0YWJhc2VTcGVjaWZpY0ZpZWxkcyhjb250ZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG5cdFx0Y29uc3QgZGJUeXBlID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGF0YWJhc2VUeXBlO1xyXG5cclxuXHRcdGlmIChkYlR5cGUgPT09ICduZW80aicpIHtcclxuXHRcdFx0Ly8gTmVvNGotc3BlY2lmaWMgZmllbGRzXHJcblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdFx0LnNldE5hbWUoJ05lbzRqIFVSSScgKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdOZW80aiBjb25uZWN0aW9uIFVSSSAoZS5nLiwgYm9sdDovL2xvY2FsaG9zdDo3Njg3KScpXHJcblx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ2JvbHQ6Ly9sb2NhbGhvc3Q6NzY4NycpXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGF0YWJhc2VDb25maWdzLm5lbzRqLnVyaSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZGF0YWJhc2VDb25maWdzLm5lbzRqLnVyaSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHJcblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdFx0LnNldE5hbWUoJ05lbzRqIFVzZXJuYW1lJyApXHJcblx0XHRcdFx0LnNldERlc2MoJ05lbzRqIGRhdGFiYXNlIHVzZXJuYW1lJylcclxuXHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignbmVvNGonKVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRhdGFiYXNlQ29uZmlncy5uZW80ai51c2VybmFtZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZGF0YWJhc2VDb25maWdzLm5lbzRqLnVzZXJuYW1lID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0XHQuc2V0TmFtZSgnTmVvNGogUGFzc3dvcmQnIClcclxuXHRcdFx0XHQuc2V0RGVzYygnTmVvNGogZGF0YWJhc2UgcGFzc3dvcmQnKVxyXG5cdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4ge1xyXG5cdFx0XHRcdFx0dGV4dC5pbnB1dEVsLnR5cGUgPSAncGFzc3dvcmQnO1xyXG5cdFx0XHRcdFx0dGV4dC5zZXRQbGFjZWhvbGRlcignRW50ZXIgcGFzc3dvcmQnKVxyXG5cdFx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGF0YWJhc2VDb25maWdzLm5lbzRqLnBhc3N3b3JkKVxyXG5cdFx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZGF0YWJhc2VDb25maWdzLm5lbzRqLnBhc3N3b3JkID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0XHQuc2V0TmFtZSgnTmVvNGogRGF0YWJhc2UgTmFtZScgKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdOYW1lIG9mIHRoZSBOZW80aiBkYXRhYmFzZSB0byB1c2UnKVxyXG5cdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCduZW80aicpXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGF0YWJhc2VDb25maWdzLm5lbzRqLmRhdGFiYXNlKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRhYmFzZUNvbmZpZ3MubmVvNGouZGF0YWJhc2UgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0fSBlbHNlIGlmIChkYlR5cGUgPT09ICdmYWxrb3JkYicpIHtcclxuXHRcdFx0Ly8gRmFsa29yREItc3BlY2lmaWMgZmllbGRzXHJcblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdFx0LnNldE5hbWUoJ0ZhbGtvckRCIEhvc3QnIClcclxuXHRcdFx0XHQuc2V0RGVzYygnRmFsa29yREIgaG9zdCBhZGRyZXNzJylcclxuXHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignbG9jYWxob3N0JylcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRhYmFzZUNvbmZpZ3MuZmFsa29yZGIuaG9zdClcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZGF0YWJhc2VDb25maWdzLmZhbGtvcmRiLmhvc3QgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHRcdC5zZXROYW1lKCdGYWxrb3JEQiBQb3J0JyApXHJcblx0XHRcdFx0LnNldERlc2MoJ0ZhbGtvckRCIHBvcnQgbnVtYmVyJylcclxuXHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignNjM3OScpXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGF0YWJhc2VDb25maWdzLmZhbGtvcmRiLnBvcnQudG9TdHJpbmcoKSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgcG9ydCA9IHBhcnNlSW50KHZhbHVlKTtcclxuXHRcdFx0XHRcdFx0aWYgKCFpc05hTihwb3J0KSAmJiBwb3J0ID4gMCAmJiBwb3J0IDwgNjU1MzYpIHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRhYmFzZUNvbmZpZ3MuZmFsa29yZGIucG9ydCA9IHBvcnQ7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pKTtcclxuXHJcblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdFx0LnNldE5hbWUoJ0ZhbGtvckRCIFVzZXJuYW1lIChPcHRpb25hbCknIClcclxuXHRcdFx0XHQuc2V0RGVzYygnRmFsa29yREIgdXNlcm5hbWUgKGxlYXZlIGVtcHR5IGlmIG5vdCB1c2luZyBhdXRoZW50aWNhdGlvbiknKVxyXG5cdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdPcHRpb25hbCcpXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGF0YWJhc2VDb25maWdzLmZhbGtvcmRiLnVzZXJuYW1lIHx8ICcnKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRhYmFzZUNvbmZpZ3MuZmFsa29yZGIudXNlcm5hbWUgPSB2YWx1ZSB8fCB1bmRlZmluZWQ7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0XHQuc2V0TmFtZSgnRmFsa29yREIgUGFzc3dvcmQgKE9wdGlvbmFsKScgKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdGYWxrb3JEQiBwYXNzd29yZCAobGVhdmUgZW1wdHkgaWYgbm90IHVzaW5nIGF1dGhlbnRpY2F0aW9uKScpXHJcblx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB7XHJcblx0XHRcdFx0XHR0ZXh0LmlucHV0RWwudHlwZSA9ICdwYXNzd29yZCc7XHJcblx0XHRcdFx0XHR0ZXh0LnNldFBsYWNlaG9sZGVyKCdPcHRpb25hbCcpXHJcblx0XHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRhYmFzZUNvbmZpZ3MuZmFsa29yZGIucGFzc3dvcmQgfHwgJycpXHJcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRhYmFzZUNvbmZpZ3MuZmFsa29yZGIucGFzc3dvcmQgPSB2YWx1ZSB8fCB1bmRlZmluZWQ7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0XHQuc2V0TmFtZSgnRmFsa29yREIgRGF0YWJhc2UgTmFtZScgKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdOYW1lIG9mIHRoZSBGYWxrb3JEQiBkYXRhYmFzZSB0byB1c2UnKVxyXG5cdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdkZWZhdWx0X2RiJylcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRhYmFzZUNvbmZpZ3MuZmFsa29yZGIuZGF0YWJhc2UpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRhdGFiYXNlQ29uZmlncy5mYWxrb3JkYi5kYXRhYmFzZSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYWRkUHl0aG9uQWNjb3JkaW9uKGNvbnRlbnQ6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcblx0XHRjb250ZW50LmNyZWF0ZUVsKCdwJywge1xyXG5cdFx0XHR0ZXh0OiAnQ29uZmlndXJlIFB5dGhvbiBpbnN0YWxsYXRpb24gYW5kIGRlcGVuZGVuY2llcyBmb3IgTWVnYU1lbScsXHJcblx0XHRcdGNsczogJ3NldHRpbmctaXRlbS1kZXNjcmlwdGlvbidcclxuXHRcdH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdDdXN0b20gUHl0aG9uIFBhdGgnKVxyXG5cdFx0XHQuc2V0RGVzYygnTGVhdmUgZW1wdHkgdG8gYXV0by1kZXRlY3QgUHl0aG9uLiBTcGVjaWZ5IGZ1bGwgcGF0aCB0byBweXRob24gZXhlY3V0YWJsZSBpZiBuZWVkZWQuJylcclxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdBdXRvLWRldGVjdCcpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnB5dGhvblBhdGggfHwgJycpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucHl0aG9uUGF0aCA9IHZhbHVlIHx8IHVuZGVmaW5lZDtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHRjb25zdCBzdGF0dXNDb250YWluZXIgPSBjb250ZW50LmNyZWF0ZURpdigpO1xyXG5cdFx0c3RhdHVzQ29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgXHJcblx0XHRcdG1hcmdpbjogMTZweCAwO1xyXG5cdFx0XHRwYWRkaW5nOiAxMnB4O1xyXG5cdFx0XHRib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XHJcblx0XHRcdGJvcmRlci1yYWRpdXM6IDZweDtcclxuXHRcdFx0YmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xyXG5cdFx0XHRmb250LWZhbWlseTogdmFyKC0tZm9udC1tb25vc3BhY2UpO1xyXG5cdFx0XHRmb250LXNpemU6IDAuOWVtO1xyXG5cdFx0YDtcclxuXHJcblx0XHRjb25zdCB1cGRhdGVEZXBlbmRlbmN5U3RhdHVzID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRzdGF0dXNDb250YWluZXIuZW1wdHkoKTtcclxuXHRcdFx0c3RhdHVzQ29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICdDaGVja2luZyBkZXBlbmRlbmNpZXMuLi4nLCBhdHRyOiB7IHN0eWxlOiAnY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpOycgfSB9KTtcclxuXHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0Ly8gR2V0IGFic29sdXRlIHBsdWdpbiBwYXRoIHVzaW5nIHZhdWx0IGFkYXB0ZXJcclxuXHRcdFx0XHRjb25zdCBhZGFwdGVyID0gdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmFkYXB0ZXI7XHJcblx0XHRcdFx0Y29uc3QgdmF1bHRQYXRoID0gKGFkYXB0ZXIgYXMgYW55KS5iYXNlUGF0aDtcclxuXHRcdFx0XHRjb25zdCBwbHVnaW5EaXIgPSBqb2luKHZhdWx0UGF0aCwgJy5vYnNpZGlhbicsICdwbHVnaW5zJywgJ21lZ2FtZW0tbWNwJyk7XHJcblx0XHRcdFx0Y29uc3QgcHl0aG9uSW5zdGFsbGVyID0gbmV3IFB5dGhvbkluc3RhbGxlcih0aGlzLnBsdWdpbiwgcGx1Z2luRGlyLCB0aGlzLnBsdWdpbi5zZXR0aW5ncyk7XHJcblx0XHRcdFx0Y29uc3Qgc3RhdHVzID0gYXdhaXQgcHl0aG9uSW5zdGFsbGVyLmNoZWNrQWxsRGVwZW5kZW5jaWVzKCk7XHJcblxyXG5cdFx0XHRcdHN0YXR1c0NvbnRhaW5lci5lbXB0eSgpO1xyXG5cclxuXHRcdFx0XHRjb25zdCBzeXN0ZW1QeXRob25MaW5lID0gc3RhdHVzQ29udGFpbmVyLmNyZWF0ZURpdigpO1xyXG5cdFx0XHRcdHN5c3RlbVB5dGhvbkxpbmUudGV4dENvbnRlbnQgPSBzdGF0dXMuc3lzdGVtUHl0aG9uXHJcblx0XHRcdFx0XHQ/IGBbT0tdIFN5c3RlbSBQeXRob246ICR7c3RhdHVzLnN5c3RlbVB5dGhvbi52ZXJzaW9ufSBhdCAke3N0YXR1cy5zeXN0ZW1QeXRob24ucGF0aH1gXHJcblx0XHRcdFx0XHQ6ICdbWF0gU3lzdGVtIFB5dGhvbjogTm90IGZvdW5kJztcclxuXHRcdFx0XHRzeXN0ZW1QeXRob25MaW5lLnN0eWxlLmNvbG9yID0gc3RhdHVzLnN5c3RlbVB5dGhvbiA/ICd2YXIoLS1jb2xvci1ncmVlbiknIDogJ3ZhcigtLWNvbG9yLXJlZCknO1xyXG5cclxuXHRcdFx0XHRjb25zdCB1dkxpbmUgPSBzdGF0dXNDb250YWluZXIuY3JlYXRlRGl2KCk7XHJcblx0XHRcdFx0dXZMaW5lLnRleHRDb250ZW50ID0gc3RhdHVzLnV2SW5zdGFsbGVkXHJcblx0XHRcdFx0XHQ/IGBbT0tdIHV2IGluc3RhbGxlZDogJHtzdGF0dXMudXZQeXRob25QYXRoIHx8ICdZZXMnfWBcclxuXHRcdFx0XHRcdDogJ1tYXSB1djogTm90IGluc3RhbGxlZCc7XHJcblx0XHRcdFx0dXZMaW5lLnN0eWxlLmNvbG9yID0gc3RhdHVzLnV2SW5zdGFsbGVkID8gJ3ZhcigtLWNvbG9yLWdyZWVuKScgOiAndmFyKC0tY29sb3Itb3JhbmdlKSc7XHJcblxyXG5cdFx0XHRcdGNvbnN0IHZlbnZMaW5lID0gc3RhdHVzQ29udGFpbmVyLmNyZWF0ZURpdigpO1xyXG5cdFx0XHRcdHZlbnZMaW5lLnRleHRDb250ZW50ID0gc3RhdHVzLnZlbnZFeGlzdHNcclxuXHRcdFx0XHRcdD8gYFtPS10gVmlydHVhbCBlbnZpcm9ubWVudDogJHtzdGF0dXMudmVudlBhdGggfHwgJ0V4aXN0cyd9YFxyXG5cdFx0XHRcdFx0OiAnW1hdIFZpcnR1YWwgZW52aXJvbm1lbnQ6IE5vdCBmb3VuZCc7XHJcblx0XHRcdFx0dmVudkxpbmUuc3R5bGUuY29sb3IgPSBzdGF0dXMudmVudkV4aXN0cyA/ICd2YXIoLS1jb2xvci1ncmVlbiknIDogJ3ZhcigtLWNvbG9yLW9yYW5nZSknO1xyXG5cclxuXHRcdFx0XHRjb25zdCBncmFwaGl0aUxpbmUgPSBzdGF0dXNDb250YWluZXIuY3JlYXRlRGl2KCk7XHJcblx0XHRcdFx0Y29uc3QgdmVyc2lvblRleHQgPSBzdGF0dXMuZ3JhcGhpdGlWZXJzaW9uID8gYCB2JHtzdGF0dXMuZ3JhcGhpdGlWZXJzaW9ufWAgOiAnJztcclxuXHRcdFx0XHRncmFwaGl0aUxpbmUudGV4dENvbnRlbnQgPSBzdGF0dXMuZ3JhcGhpdGlJbnN0YWxsZWRcclxuXHRcdFx0XHRcdD8gYFtPS10gR3JhcGhpdGk6IEluc3RhbGxlZCR7dmVyc2lvblRleHR9YFxyXG5cdFx0XHRcdFx0OiAnW1hdIEdyYXBoaXRpOiBOb3QgaW5zdGFsbGVkJztcclxuXHRcdFx0XHRncmFwaGl0aUxpbmUuc3R5bGUuY29sb3IgPSBzdGF0dXMuZ3JhcGhpdGlJbnN0YWxsZWQgPyAndmFyKC0tY29sb3ItZ3JlZW4pJyA6ICd2YXIoLS1jb2xvci1yZWQpJztcclxuXHJcblx0XHRcdFx0aWYgKHN0YXR1cy5taXNtYXRjaC5kZXRlY3RlZCkge1xyXG5cdFx0XHRcdFx0Y29uc3QgbWlzbWF0Y2hMaW5lID0gc3RhdHVzQ29udGFpbmVyLmNyZWF0ZURpdigpO1xyXG5cdFx0XHRcdFx0bWlzbWF0Y2hMaW5lLnRleHRDb250ZW50ID0gYFtXQVJOSU5HXSAke3N0YXR1cy5taXNtYXRjaC5kZXNjcmlwdGlvbn1gO1xyXG5cdFx0XHRcdFx0bWlzbWF0Y2hMaW5lLnN0eWxlLmNvbG9yID0gJ3ZhcigtLWNvbG9yLW9yYW5nZSknO1xyXG5cdFx0XHRcdFx0bWlzbWF0Y2hMaW5lLnN0eWxlLm1hcmdpblRvcCA9ICc4cHgnO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0c3RhdHVzQ29udGFpbmVyLmVtcHR5KCk7XHJcblx0XHRcdFx0Y29uc3QgZXJyb3JMaW5lID0gc3RhdHVzQ29udGFpbmVyLmNyZWF0ZURpdigpO1xyXG5cdFx0XHRcdGVycm9yTGluZS50ZXh0Q29udGVudCA9ICdbRVJST1JdIEZhaWxlZCB0byBjaGVjayBkZXBlbmRlbmNpZXMnO1xyXG5cdFx0XHRcdGVycm9yTGluZS5zdHlsZS5jb2xvciA9ICd2YXIoLS1jb2xvci1yZWQpJztcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdbUFlUSE9OLUFDQ09SRElPTl0gRmFpbGVkIHRvIGNoZWNrIGRlcGVuZGVuY2llcycsIHsgZXJyb3IgfSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ01hbmFnZSBEZXBlbmRlbmNpZXMnKVxyXG5cdFx0XHQuc2V0RGVzYygnQ2hlY2sgc3RhdHVzIGFuZCBpbnN0YWxsIFB5dGhvbiBkZXBlbmRlbmNpZXMnKVxyXG5cdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cclxuXHRcdFx0XHQuc2V0QnV0dG9uVGV4dCgnTWFuYWdlIERlcGVuZGVuY2llcycpXHJcblx0XHRcdFx0LnNldEN0YSgpXHJcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgYWRhcHRlciA9IHRoaXMucGx1Z2luLmFwcC52YXVsdC5hZGFwdGVyO1xyXG5cdFx0XHRcdFx0Y29uc3QgdmF1bHRQYXRoID0gKGFkYXB0ZXIgYXMgYW55KS5iYXNlUGF0aDtcclxuXHRcdFx0XHRcdGNvbnN0IHBsdWdpbkRpciA9IGpvaW4odmF1bHRQYXRoLCAnLm9ic2lkaWFuJywgJ3BsdWdpbnMnLCAnbWVnYW1lbS1tY3AnKTtcclxuXHRcdFx0XHRcdGNvbnN0IHB5dGhvbkluc3RhbGxlciA9IG5ldyBQeXRob25JbnN0YWxsZXIodGhpcy5wbHVnaW4sIHBsdWdpbkRpciwgdGhpcy5wbHVnaW4uc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRjb25zdCBtb2RhbCA9IG5ldyBEZXBlbmRlbmN5U3RhdHVzTW9kYWwoXHJcblx0XHRcdFx0XHRcdHRoaXMuYXBwLFxyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbixcclxuXHRcdFx0XHRcdFx0cHl0aG9uSW5zdGFsbGVyLFxyXG5cdFx0XHRcdFx0XHRhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdXBkYXRlRGVwZW5kZW5jeVN0YXR1cygpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0bW9kYWwub3BlbigpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHVwZGF0ZURlcGVuZGVuY3lTdGF0dXMoKSwgMTAwKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYWRkU3luY0FjY29yZGlvbihjb250ZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG5cclxuXHRcdGxldCBhdXRvU3luY1RvZ2dsZTogVG9nZ2xlQ29tcG9uZW50IHwgbnVsbCA9IG51bGw7XHJcblx0XHRsZXQgc3luY09wdGlvbnNDb250YWluZXI6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XHJcblxyXG5cdFx0Y29uc3QgYXV0b1N5bmNTZXR0aW5nID0gbmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0XHRcdC5zZXROYW1lKCdBdXRvbWF0aWNhbGx5IHN5bmMgbm90ZXMgYXQgc2NoZWR1bGVkIGludGVydmFscycgKVxyXG5cdFx0XHRcdFx0LnNldERlc2MoJ0F1dG9tYXRpY2FsbHkgc3luYyBub3RlcyB3aGVuIHRoZXkgYXJlIHNhdmVkIG9yIGF0IHJlZ3VsYXIgaW50ZXJ2YWxzLiBCZSBjYXJlZnVsIHdpdGggdGhpcywgaXQgaXMgbm90IGZ1bGx5IHRlc3RlZC4nIClcclxuXHRcdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHtcclxuXHRcdFx0XHRcdFx0YXV0b1N5bmNUb2dnbGUgPSB0b2dnbGU7XHJcblx0XHRcdFx0XHRcdHRvZ2dsZVxyXG5cdFx0XHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdXRvU3luYylcclxuXHRcdFx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHQvLyBEZWJvdW5jZSByYXBpZCBzZXR0aW5ncyBjaGFuZ2VzIHRvIHJlZHVjZSBsb2cgc3BhbVxyXG5cdFx0XHRcdFx0XHRcdFx0Y29uc3Qgc2VsZjogYW55ID0gdGhpcztcclxuXHRcdFx0XHRcdFx0XHRcdGlmIChzZWxmLl9zZXR0aW5nc0RlYm91bmNlVGltZXIpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHNlbGYuX3NldHRpbmdzRGVib3VuY2VUaW1lcik7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRzZWxmLl9zZXR0aW5nc0RlYm91bmNlVGltZXIgPSBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0c2VsZi5wbHVnaW4uc2V0dGluZ3MuYXV0b1N5bmMgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0YXdhaXQgc2VsZi5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdC8vIFNob3cvaGlkZSBzeW5jIG9wdGlvbnMgYmFzZWQgb24gYXV0byBzeW5jIHNldHRpbmdcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKHN5bmNPcHRpb25zQ29udGFpbmVyKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0c3luY09wdGlvbnNDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IHZhbHVlID8gJ2Jsb2NrJyA6ICdub25lJztcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fSwgMTAwMCk7XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHQvLyBTeW5jIE9wdGlvbnMgZHJvcGRvd24gLSBjb25kaXRpb25hbGx5IHZpc2libGVcclxuXHRcdHN5bmNPcHRpb25zQ29udGFpbmVyID0gY29udGVudC5jcmVhdGVEaXYoKTtcclxuXHRcdHN5bmNPcHRpb25zQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdXRvU3luYyA/ICdibG9jaycgOiAnbm9uZSc7XHJcblx0XHRzeW5jT3B0aW9uc0NvbnRhaW5lci5zdHlsZS5tYXJnaW5MZWZ0ID0gJzI0cHgnOyAvLyBJbmRlbnQgdG8gc2hvdyBpdCdzIGEgc3ViLW9wdGlvblxyXG5cdFx0c3luY09wdGlvbnNDb250YWluZXIuc3R5bGUubWFyZ2luVG9wID0gJzhweCc7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoc3luY09wdGlvbnNDb250YWluZXIpXHJcblx0XHRcdC5zZXROYW1lKCdTeW5jIE9wdGlvbnMnIClcclxuXHRcdFx0LnNldERlc2MoJ0Nob29zZSB3aGljaCBub3RlcyB0byBpbmNsdWRlIGluIGF1dG9tYXRpYyBzeW5jIG9wZXJhdGlvbnMnKVxyXG5cdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4gZHJvcGRvd25cclxuXHRcdFx0XHQuYWRkT3B0aW9uKCduZXdfb25seScsICdOZXcgbm90ZXMgb25seSAtIFN5bmMgb25seSBuZXdseSBjcmVhdGVkIG5vdGVzJylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCduZXdfYW5kX3VwZGF0ZWQnLCAnTmV3IGFuZCB1cGRhdGVkIG5vdGVzIC0gU3luYyBib3RoIG5ldyBhbmQgbW9kaWZpZWQgbm90ZXMnKVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zeW5jT3B0aW9ucylcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5zeW5jT3B0aW9ucyA9IHZhbHVlIGFzICduZXdfb25seScgfCAnbmV3X2FuZF91cGRhdGVkJztcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnU3luYyBJbnRlcnZhbCcgKVxyXG5cdFx0XHQuc2V0RGVzYygnQXV0b21hdGljIHN5bmMgaW50ZXJ2YWwgaW4gbWludXRlcyAoMCB0byBkaXNhYmxlKScgKVxyXG5cdFx0XHQuYWRkU2xpZGVyKHNsaWRlciA9PiBzbGlkZXJcclxuXHRcdFx0XHQuc2V0TGltaXRzKDAsIDYwLCAxKVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zeW5jSW50ZXJ2YWwpXHJcblx0XHRcdFx0LnNldER5bmFtaWNUb29sdGlwKClcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5zeW5jSW50ZXJ2YWwgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHQvLyBCYXRjaCBTaXplIGNvbnRyb2wgcGVybWFuZW50bHkgaGlkZGVuIGZvciBzY2hlZHVsZXItb25seSBBdXRvU3luY1xyXG5cdFx0Ly8gU2VxdWVudGlhbCBwZXItbm90ZSBwcm9jZXNzaW5nIGVsaW1pbmF0ZXMgbmVlZCBmb3IgYmF0Y2ggY29uZmlndXJhdGlvblxyXG5cclxuXHJcblx0XHQvLyBGb2xkZXIgQ29uZmlndXJhdGlvbiBzdWJzZWN0aW9uXHJcblx0XHRjb250ZW50LmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ0ZvbGRlciBDb25maWd1cmF0aW9uJywgY2xzOiAnc2V0dGluZy1pdGVtLW5hbWUnIH0pO1xyXG5cclxuXHRcdC8vIEluY2x1ZGVkIEZvbGRlcnMgLSBzaW1wbGUgVGVtcGxhdGVyIHBhdHRlcm5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdJbmNsdWRlZCBGb2xkZXJzJyApXHJcblx0XHRcdC5zZXREZXNjKCdGb2xkZXJzIHRvIGluY2x1ZGUgaW4gc3luYy4gTGVhdmUgZW1wdHkgdG8gaW5jbHVkZSBhbGwgZm9sZGVycy4nKTtcclxuXHJcblx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbmNsdWRlZEZvbGRlcnMuZm9yRWFjaCgoZm9sZGVyLCBpbmRleCkgPT4ge1xyXG5cdFx0XHRjb25zdCBzID0gbmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0XHQuYWRkU2VhcmNoKChjYikgPT4ge1xyXG5cdFx0XHRcdFx0bmV3IEZvbGRlclN1Z2dlc3QodGhpcy5hcHAsIGNiLmlucHV0RWwpO1xyXG5cdFx0XHRcdFx0Ly8gUHJldmVudCBjbGlja3MgaW5zaWRlIHRoZSBzZWFyY2ggaW5wdXQgZnJvbSBjb2xsYXBzaW5nIHRoZSBhY2NvcmRpb25cclxuXHRcdFx0XHRcdGNiLmlucHV0RWwub25tb3VzZWRvd24gPSAoZXZ0OiBNb3VzZUV2ZW50KSA9PiBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0XHRjYi5zZXRQbGFjZWhvbGRlcihcIlNlbGVjdCBmb2xkZXIgb3IgdHlwZSBwYXRoLi4uXCIpXHJcblx0XHRcdFx0XHRcdC5zZXRWYWx1ZShmb2xkZXIpXHJcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAobmV3Rm9sZGVyKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5jbHVkZWRGb2xkZXJzW2luZGV4XSA9IG5ld0ZvbGRlcjtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQuYWRkRXh0cmFCdXR0b24oKGNiKSA9PiB7XHJcblx0XHRcdFx0XHRjYi5zZXRJY29uKFwiY3Jvc3NcIilcclxuXHRcdFx0XHRcdFx0LnNldFRvb2x0aXAoXCJEZWxldGVcIilcclxuXHRcdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKGV2dD86IE1vdXNlRXZlbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoZXZ0KSBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5jbHVkZWRGb2xkZXJzLnNwbGljZShpbmRleCwgMSk7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHQvLyBBbHNvIHByZXZlbnQgaW5mbyBhcmVhIGNsaWNrcyBmcm9tIGJ1YmJsaW5nXHJcblx0XHRcdHMuaW5mb0VsLnJlbW92ZSgpO1xyXG5cdFx0XHRzLmNvbnRyb2xFbC5vbm1vdXNlZG93biA9IChlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LmFkZEJ1dHRvbigoY2IpID0+IHtcclxuXHRcdFx0XHRjYi5zZXRCdXR0b25UZXh0KFwiQWRkIEZvbGRlclwiKVxyXG5cdFx0XHRcdFx0LnNldEN0YSgpXHJcblx0XHRcdFx0XHQub25DbGljayhhc3luYyAoZXZ0PzogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoZXZ0KSBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmluY2x1ZGVkRm9sZGVycy5wdXNoKFwiXCIpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHQvLyBQcmV2ZW50IHRoZSBpbnRlcm5hbCBidXR0b24gZWxlbWVudCBmcm9tIGJ1YmJsaW5nXHJcblx0XHRcdFx0Y2IuYnV0dG9uRWwub25tb3VzZWRvd24gPSAoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0Ly8gRXhjbHVkZWQgRm9sZGVycyAtIHNpbXBsZSBUZW1wbGF0ZXIgcGF0dGVyblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0V4Y2x1ZGVkIEZvbGRlcnMnIClcclxuXHRcdFx0LnNldERlc2MoJ0ZvbGRlcnMgdG8gZXhjbHVkZSBmcm9tIHN5bmMgKGUuZy4sIC5vYnNpZGlhbiwgLnRyYXNoKS4nKTtcclxuXHJcblx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5leGNsdWRlZEZvbGRlcnMuZm9yRWFjaCgoZm9sZGVyLCBpbmRleCkgPT4ge1xyXG5cdFx0XHRjb25zdCBzID0gbmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0XHQuYWRkU2VhcmNoKChjYikgPT4ge1xyXG5cdFx0XHRcdFx0bmV3IEZvbGRlclN1Z2dlc3QodGhpcy5hcHAsIGNiLmlucHV0RWwpO1xyXG5cdFx0XHRcdFx0Ly8gUHJldmVudCBjbGlja3MgaW5zaWRlIHRoZSBzZWFyY2ggaW5wdXQgZnJvbSBjb2xsYXBzaW5nIHRoZSBhY2NvcmRpb25cclxuXHRcdFx0XHRcdGNiLmlucHV0RWwub25tb3VzZWRvd24gPSAoZXZ0OiBNb3VzZUV2ZW50KSA9PiBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0XHRjYi5zZXRQbGFjZWhvbGRlcihcIlNlbGVjdCBmb2xkZXIgb3IgdHlwZSBwYXRoLi4uXCIpXHJcblx0XHRcdFx0XHRcdC5zZXRWYWx1ZShmb2xkZXIpXHJcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAobmV3Rm9sZGVyKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZXhjbHVkZWRGb2xkZXJzW2luZGV4XSA9IG5ld0ZvbGRlcjtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQuYWRkRXh0cmFCdXR0b24oKGNiKSA9PiB7XHJcblx0XHRcdFx0XHRjYi5zZXRJY29uKFwiY3Jvc3NcIilcclxuXHRcdFx0XHRcdFx0LnNldFRvb2x0aXAoXCJEZWxldGVcIilcclxuXHRcdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKGV2dD86IE1vdXNlRXZlbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoZXZ0KSBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZXhjbHVkZWRGb2xkZXJzLnNwbGljZShpbmRleCwgMSk7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRzLmluZm9FbC5yZW1vdmUoKTtcclxuXHRcdFx0cy5jb250cm9sRWwub25tb3VzZWRvd24gPSAoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5hZGRCdXR0b24oKGNiKSA9PiB7XHJcblx0XHRcdFx0Y2Iuc2V0QnV0dG9uVGV4dChcIkFkZCBGb2xkZXJcIilcclxuXHRcdFx0XHRcdC5zZXRDdGEoKVxyXG5cdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKGV2dD86IE1vdXNlRXZlbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKGV2dCkgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5leGNsdWRlZEZvbGRlcnMucHVzaChcIlwiKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0Y2IuYnV0dG9uRWwub25tb3VzZWRvd24gPSAoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0Ly8gR2xvYmFsbHkgSWdub3JlZCBGaWVsZHMgLSBzaW1wbGUgVGVtcGxhdGVyIHBhdHRlcm5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdHbG9iYWxseSBJZ25vcmVkIEZpZWxkcycgKVxyXG5cdFx0XHQuc2V0RGVzYygnWUFNTCBmcm9udG1hdHRlciBmaWVsZHMgdG8gaWdub3JlIGdsb2JhbGx5IGFjcm9zcyBhbGwgbm90ZXMuJyk7XHJcblxyXG5cdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2xvYmFsbHlJZ25vcmVkRmllbGRzLmZvckVhY2goKGZpZWxkLCBpbmRleCkgPT4ge1xyXG5cdFx0XHRjb25zdCBzID0gbmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0XHQuYWRkVGV4dCgoY2IpID0+IHtcclxuXHRcdFx0XHRcdC8vIFByZXZlbnQgY2xpY2tzIHdpdGhpbiB0aGUgdGV4dCBpbnB1dCBmcm9tIGNvbGxhcHNpbmcgdGhlIGFjY29yZGlvblxyXG5cdFx0XHRcdFx0Y2IuaW5wdXRFbC5vbm1vdXNlZG93biA9IChldnQ6IE1vdXNlRXZlbnQpID0+IGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRcdGNiLnNldFBsYWNlaG9sZGVyKFwiRW50ZXIgZmllbGQgbmFtZSAoZS5nLiwgY3NzY2xhc3MsIHRhZ3MpLi4uXCIpXHJcblx0XHRcdFx0XHRcdC5zZXRWYWx1ZShmaWVsZClcclxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jIChuZXdGaWVsZCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmdsb2JhbGx5SWdub3JlZEZpZWxkc1tpbmRleF0gPSBuZXdGaWVsZDtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQuYWRkRXh0cmFCdXR0b24oKGNiKSA9PiB7XHJcblx0XHRcdFx0XHRjYi5zZXRJY29uKFwiY3Jvc3NcIilcclxuXHRcdFx0XHRcdFx0LnNldFRvb2x0aXAoXCJEZWxldGVcIilcclxuXHRcdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKGV2dD86IE1vdXNlRXZlbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoZXZ0KSBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2xvYmFsbHlJZ25vcmVkRmllbGRzLnNwbGljZShpbmRleCwgMSk7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRzLmluZm9FbC5yZW1vdmUoKTtcclxuXHRcdFx0cy5jb250cm9sRWwub25tb3VzZWRvd24gPSAoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5hZGRCdXR0b24oKGNiKSA9PiB7XHJcblx0XHRcdFx0Y2Iuc2V0QnV0dG9uVGV4dChcIkFkZCBGaWVsZFwiKVxyXG5cdFx0XHRcdFx0LnNldEN0YSgpXHJcblx0XHRcdFx0XHQub25DbGljayhhc3luYyAoZXZ0PzogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoZXZ0KSBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmdsb2JhbGx5SWdub3JlZEZpZWxkcy5wdXNoKFwiXCIpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRjYi5idXR0b25FbC5vbm1vdXNlZG93biA9IChlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYWRkS25vd2xlZGdlTmFtZXNwYWNpbmdBY2NvcmRpb24oY29udGVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuXHJcblx0XHQvLyBEZXNjcmlwdGlvblxyXG5cdFx0Y29udGVudC5jcmVhdGVFbCgncCcsIHtcclxuXHRcdFx0dGV4dDogJ0NvbmZpZ3VyZSBob3cga25vd2xlZGdlIGlzIG9yZ2FuaXplZCBhbmQgbmFtZXNwYWNlZCBpbiB5b3VyIGdyYXBoIGRhdGFiYXNlLicsXHJcblx0XHRcdGNsczogJ3NldHRpbmctaXRlbS1kZXNjcmlwdGlvbidcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIE9udG9sb2d5IENvbmZpZ3VyYXRpb24gc3Vic2VjdGlvblxyXG5cdFx0Y29udGVudC5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdPbnRvbG9neSBDb25maWd1cmF0aW9uJywgY2xzOiAnc2V0dGluZy1pdGVtLW5hbWUnIH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdVc2UgQ3VzdG9tIE9udG9sb2d5JyApXHJcblx0XHRcdC5zZXREZXNjKCdFbmFibGUgY3VzdG9tIGVudGl0eSB0eXBlcyB3aXRoIHByZS1leGlzdGluZyBQeWRhbnRpYyBtb2RlbHMuIFdoZW4gZGlzYWJsZWQsIHVzZXMgZ2VuZXJpYyB0ZXh0IGVwaXNvZGVzLicpXHJcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy51c2VDdXN0b21PbnRvbG9neSlcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy51c2VDdXN0b21PbnRvbG9neSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdC8vIE5hbWVzcGFjaW5nIFN0cmF0ZWd5IHN1YnNlY3Rpb25cclxuXHRcdGNvbnRlbnQuY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnTmFtZXNwYWNpbmcgU3RyYXRlZ3knLCBjbHM6ICdzZXR0aW5nLWl0ZW0tbmFtZScgfSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ05hbWVzcGFjZSBTdHJhdGVneScgKVxyXG5cdFx0XHQuc2V0RGVzYygnUHJpbWFyeSBzdHJhdGVneSBmb3Igb3JnYW5pemluZyBrbm93bGVkZ2UgaW4gdGhlIGdyYXBoJylcclxuXHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IGRyb3Bkb3duXHJcblx0XHRcdFx0LmFkZE9wdGlvbigndmF1bHQnLCAnVmF1bHQgTmFtZSAtIFVzZSB2YXVsdCBhcyBuYW1lc3BhY2UnKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2ZvbGRlcicsICdGb2xkZXIgUGF0aCAtIFVzZSBub3RlIGZvbGRlciBhcyBuYW1lc3BhY2UnKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ3Byb3BlcnR5JywgJ1Byb3BlcnR5IFZhbHVlIC0gVXNlIGdfZ3JvdXBfaWQgcHJvcGVydHknKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2N1c3RvbScsICdDdXN0b20gVmFsdWUgLSBVc2UgZGVmYXVsdCBuYW1lc3BhY2Ugc2V0dGluZycpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLm5hbWVzcGFjZVN0cmF0ZWd5KVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHQgICAgY29uc3Qgc3RyYXRlZ3kgPSB2YWx1ZSBhcyAndmF1bHQnIHwgJ2ZvbGRlcicgfCAncHJvcGVydHknIHwgJ2N1c3RvbSc7XHJcblx0XHRcdFx0ICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLm5hbWVzcGFjZVN0cmF0ZWd5ID0gc3RyYXRlZ3k7XHJcblxyXG5cdFx0XHRcdCAgICAvLyBVcGRhdGUgb3RoZXIgVUkgY29udHJvbHMgYmFzZWQgb24gc3RyYXRlZ3lcclxuXHRcdFx0XHQgICAgaWYgKHN0cmF0ZWd5ID09PSAndmF1bHQnKSB7XHJcblx0XHRcdFx0ICAgICAgICAvLyBTZXQgZGVmYXVsdCBuYW1lc3BhY2UgdG8gdmF1bHQgbmFtZVxyXG5cdFx0XHRcdCAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdE5hbWVzcGFjZSA9IHRoaXMuYXBwLnZhdWx0LmdldE5hbWUoKTtcclxuXHRcdFx0XHQgICAgICAgIGlmICh0aGlzLmRlZmF1bHROYW1lc3BhY2VJbnB1dCkge1xyXG5cdFx0XHRcdCAgICAgICAgICAgIHRoaXMuZGVmYXVsdE5hbWVzcGFjZUlucHV0LnNldFZhbHVlKHRoaXMuYXBwLnZhdWx0LmdldE5hbWUoKSk7XHJcblx0XHRcdFx0ICAgICAgICB9XHJcblx0XHRcdFx0ICAgIH0gZWxzZSBpZiAoc3RyYXRlZ3kgPT09ICdmb2xkZXInKSB7XHJcblx0XHRcdFx0ICAgICAgICAvLyBFbmFibGUgZm9sZGVyIG5hbWVzcGFjaW5nXHJcblx0XHRcdFx0ICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVGb2xkZXJOYW1lc3BhY2luZyA9IHRydWU7XHJcblx0XHRcdFx0ICAgICAgICBpZiAodGhpcy5mb2xkZXJUb2dnbGUpIHtcclxuXHRcdFx0XHQgICAgICAgICAgICB0aGlzLmZvbGRlclRvZ2dsZS5zZXRWYWx1ZSh0cnVlKTtcclxuXHRcdFx0XHQgICAgICAgIH1cclxuXHRcdFx0XHQgICAgfSBlbHNlIGlmIChzdHJhdGVneSA9PT0gJ3Byb3BlcnR5Jykge1xyXG5cdFx0XHRcdCAgICAgICAgLy8gRW5hYmxlIHByb3BlcnR5IG5hbWVzcGFjaW5nXHJcblx0XHRcdFx0ICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVQcm9wZXJ0eU5hbWVzcGFjaW5nID0gdHJ1ZTtcclxuXHRcdFx0XHQgICAgICAgIGlmICh0aGlzLnByb3BlcnR5VG9nZ2xlKSB7XHJcblx0XHRcdFx0ICAgICAgICAgICAgdGhpcy5wcm9wZXJ0eVRvZ2dsZS5zZXRWYWx1ZSh0cnVlKTtcclxuXHRcdFx0XHQgICAgICAgIH1cclxuXHRcdFx0XHQgICAgfVxyXG5cdFx0XHRcdCAgICAvLyBGb3IgJ2N1c3RvbScsIGRvbid0IGNoYW5nZSBhbnkgb3RoZXIgY29udHJvbHNcclxuXHJcblx0XHRcdFx0ICAgIC8vIEFmdGVyIHVwZGF0aW5nLCBzYXZlIHRoZSBzZXR0aW5nc1xyXG5cdFx0XHRcdCAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0RlZmF1bHQgTmFtZXNwYWNlJyApXHJcblx0XHRcdC5zZXREZXNjKCdEZWZhdWx0IG5hbWVzcGFjZSB3aGVuIHN0cmF0ZWd5IGlzIFwiY3VzdG9tXCIgb3Igd2hlbiBvdGhlciBzdHJhdGVnaWVzIGZhaWwnKVxyXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHtcclxuXHRcdFx0XHR0aGlzLmRlZmF1bHROYW1lc3BhY2VJbnB1dCA9IHRleHQ7XHJcblx0XHRcdFx0dGV4dC5zZXRQbGFjZWhvbGRlcignbXktdmF1bHQnKVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHROYW1lc3BhY2UpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UodmFsdWUgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLmVuc3VyZVNoYXJlZERlYm91bmNlSW5pdGlhbGl6ZWQoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5fc2hhcmVkVGV4dERlYm91bmNlPy4oSlNPTi5zdHJpbmdpZnkoeyBrZXk6ICdkZWZhdWx0TmFtZXNwYWNlJywgdmFsdWUgfSkpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdFbmFibGUgRm9sZGVyIE5hbWVzcGFjaW5nJyApXHJcblx0XHRcdC5zZXREZXNjKCdVc2UgdG9wLWxldmVsIGZvbGRlciBuYW1lcyBhcyBuYW1lc3BhY2VzLiBTdWJmb2xkZXJzIGFyZSBub3Qgc3VwcG9ydGVkLicpXHJcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHtcclxuXHRcdFx0XHR0aGlzLmZvbGRlclRvZ2dsZSA9IHRvZ2dsZTtcclxuXHRcdFx0XHR0b2dnbGUuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlRm9sZGVyTmFtZXNwYWNpbmcpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZUZvbGRlck5hbWVzcGFjaW5nID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdC8vIEdlbmVyYXRlIGJ1dHRvbiBkaXJlY3RseSBiZW5lYXRoIFwiRW5hYmxlIEZvbGRlciBOYW1lc3BhY2luZ1wiXHJcblx0XHRjb25zdCBmb2xkZXJOYW1lc3BhY2VzU2V0dGluZyA9IG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdHZW5lcmF0ZSBGb2xkZXIgTmFtZXNwYWNlcycgKVxyXG5cdFx0XHQuc2V0RGVzYygnQ2xpY2sgdG8gc2NhbiB2YXVsdCBmb2xkZXJzIGFuZCBnZW5lcmF0ZSB0aGUgbGlzdCBvZiBhdmFpbGFibGUgbmFtZXNwYWNlcy4nKTtcclxuXHJcblx0XHQvLyBBZGQgY3VycmVudCBuYW1lc3BhY2VzIGRpc3BsYXlcclxuXHRcdGNvbnN0IG5hbWVzcGFjZXNEaXNwbGF5ID0gZm9sZGVyTmFtZXNwYWNlc1NldHRpbmcuZGVzY0VsLmNyZWF0ZURpdigpO1xyXG5cdFx0bmFtZXNwYWNlc0Rpc3BsYXkuc3R5bGUubWFyZ2luVG9wID0gJzhweCc7XHJcblx0XHRuYW1lc3BhY2VzRGlzcGxheS5zdHlsZS5mb250U2l6ZSA9ICcwLjllbSc7XHJcblx0XHRuYW1lc3BhY2VzRGlzcGxheS5zdHlsZS5jb2xvciA9ICd2YXIoLS10ZXh0LW11dGVkKSc7XHJcblxyXG5cdFx0Y29uc3QgdXBkYXRlTmFtZXNwYWNlc0Rpc3BsYXkgPSAoKSA9PiB7XHJcblx0XHRcdGNvbnN0IG5hbWVzcGFjZXMgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdmFpbGFibGVOYW1lc3BhY2VzIHx8IFtdO1xyXG5cdFx0XHRpZiAobmFtZXNwYWNlcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0bmFtZXNwYWNlc0Rpc3BsYXkudGV4dENvbnRlbnQgPSBgQ3VycmVudCBuYW1lc3BhY2VzOiAke25hbWVzcGFjZXMuam9pbignLCAnKX1gO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdG5hbWVzcGFjZXNEaXNwbGF5LnRleHRDb250ZW50ID0gJ05vIG5hbWVzcGFjZXMgZGlzY292ZXJlZCB5ZXQuIENsaWNrIFwiR2VuZXJhdGVcIiB0byBzY2FuIHRoZSB2YXVsdC4nO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIEluaXRpYWwgZGlzcGxheVxyXG5cdFx0dXBkYXRlTmFtZXNwYWNlc0Rpc3BsYXkoKTtcclxuXHJcblx0XHRmb2xkZXJOYW1lc3BhY2VzU2V0dGluZy5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxyXG5cdFx0XHQuc2V0QnV0dG9uVGV4dCgnR2VuZXJhdGUnKVxyXG5cdFx0XHQuc2V0Q3RhKClcclxuXHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IG9yaWdpbmFsVGV4dCA9IGJ1dHRvbi5idXR0b25FbC50ZXh0Q29udGVudDtcclxuXHRcdFx0XHRidXR0b24uYnV0dG9uRWwudGV4dENvbnRlbnQgPSAnR2VuZXJhdGluZy4uLic7XHJcblx0XHRcdFx0YnV0dG9uLnNldERpc2FibGVkKHRydWUpO1xyXG5cclxuXHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4udXBkYXRlQXZhaWxhYmxlTmFtZXNwYWNlcygpO1xyXG5cdFx0XHRcdFx0dXBkYXRlTmFtZXNwYWNlc0Rpc3BsYXkoKTtcclxuXHRcdFx0XHRcdG5ldyBOb3RpY2UoJ1tTVUNDRVNTXSBOYW1lc3BhY2VzIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcblx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRcdGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xyXG5cdFx0XHRcdFx0bmV3IE5vdGljZShgW0VSUk9SXSBGYWlsZWQgdG8gdXBkYXRlIG5hbWVzcGFjZXM6ICR7ZXJyb3JNZXNzYWdlfWApO1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignRmFpbGVkIHRvIHVwZGF0ZSBuYW1lc3BhY2VzJywgeyBlcnJvciB9KTtcclxuXHRcdFx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHRcdFx0YnV0dG9uLmJ1dHRvbkVsLnRleHRDb250ZW50ID0gb3JpZ2luYWxUZXh0O1xyXG5cdFx0XHRcdFx0YnV0dG9uLnNldERpc2FibGVkKGZhbHNlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pKTtcclxuXHJcblx0XHQvLyBDdXN0b20gRm9sZGVyIE1hcHBpbmdzIC0gbm93IGl0cyBvd24gc2VjdGlvbiAobm90IGEgY2hpbGQpXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnQ3VzdG9tIEZvbGRlciBNYXBwaW5ncycgKVxyXG5cdFx0XHQuc2V0RGVzYygnTWFwIHNwZWNpZmljIGZvbGRlcnMgdG8gY3VzdG9tIGdyb3VwX2lkIG5hbWVzcGFjZXMuIExlYXZlIGVtcHR5IHRvIHVzZSBhdXRvbWF0aWMgZm9sZGVyIG5hbWVzLicpO1xyXG5cclxuXHRcdC8vIERpc3BsYXkgZXhpc3RpbmcgZm9sZGVyIG1hcHBpbmdzXHJcblx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb2xkZXJOYW1lc3BhY2VNYXBwaW5ncy5mb3JFYWNoKChtYXBwaW5nLCBpbmRleCkgPT4ge1xyXG5cdFx0XHRjb25zdCBzID0gbmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0XHQuYWRkU2VhcmNoKChjYikgPT4ge1xyXG5cdFx0XHRcdFx0bmV3IEZvbGRlclN1Z2dlc3QodGhpcy5hcHAsIGNiLmlucHV0RWwpO1xyXG5cdFx0XHRcdFx0Y2IuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZ0OiBNb3VzZUV2ZW50KSA9PiBldnQuc3RvcFByb3BhZ2F0aW9uKCkpO1xyXG5cdFx0XHRcdFx0Y2Iuc2V0UGxhY2Vob2xkZXIoXCJTZWxlY3QgZm9sZGVyIG9yIHR5cGUgcGF0aC4uLlwiKVxyXG5cdFx0XHRcdFx0XHQuc2V0VmFsdWUobWFwcGluZy5mb2xkZXJQYXRoKVxyXG5cdFx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKG5ld0ZvbGRlclBhdGgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb2xkZXJOYW1lc3BhY2VNYXBwaW5nc1tpbmRleF0uZm9sZGVyUGF0aCA9IG5ld0ZvbGRlclBhdGg7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdC8vIEF1dG8tcG9wdWxhdGUgZ3JvdXBfaWQgb25seSB3aGVuIHVzZXIgZmluaXNoZXMgdHlwaW5nIChvbiBibHVyKVxyXG5cdFx0XHRcdFx0Y2IuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBjdXJyZW50Rm9sZGVyUGF0aCA9IGNiLmdldFZhbHVlKCk7XHJcblx0XHRcdFx0XHRcdC8vIE9ubHkgYXV0by1wb3B1bGF0ZSBpZiBncm91cF9pZCBpcyBlbXB0eSBhbmQgd2UgaGF2ZSBhIGZvbGRlciBwYXRoXHJcblx0XHRcdFx0XHRcdGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9sZGVyTmFtZXNwYWNlTWFwcGluZ3NbaW5kZXhdLmdyb3VwSWQgJiYgY3VycmVudEZvbGRlclBhdGgudHJpbSgpKSB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9sZGVyTmFtZXNwYWNlTWFwcGluZ3NbaW5kZXhdLmdyb3VwSWQgPSBjdXJyZW50Rm9sZGVyUGF0aC5yZXBsYWNlKC9cXC8vZywgJ18nKTtcclxuXHRcdFx0XHRcdFx0XHQvLyBVcGRhdGUgdGhlIGdyb3VwX2lkIGZpZWxkIGRpcmVjdGx5XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgZ3JvdXBJZElucHV0ID0gcy5jb250cm9sRWwucXVlcnlTZWxlY3RvcignaW5wdXRbcGxhY2Vob2xkZXI9XCJFbnRlciBncm91cF9pZC4uLlwiXScpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGdyb3VwSWRJbnB1dCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0Z3JvdXBJZElucHV0LnZhbHVlID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9sZGVyTmFtZXNwYWNlTWFwcGluZ3NbaW5kZXhdLmdyb3VwSWQ7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdC5hZGRUZXh0KChjYikgPT4ge1xyXG5cdFx0XHRcdFx0Y2IuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZ0OiBNb3VzZUV2ZW50KSA9PiBldnQuc3RvcFByb3BhZ2F0aW9uKCkpO1xyXG5cdFx0XHRcdFx0Y2IuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChldnQ6IEV2ZW50KSA9PiBldnQuc3RvcFByb3BhZ2F0aW9uKCkpO1xyXG5cdFx0XHRcdFx0Y2IuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2dDogS2V5Ym9hcmRFdmVudCkgPT4gZXZ0LnN0b3BQcm9wYWdhdGlvbigpKTtcclxuXHRcdFx0XHRcdGNiLmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZXZ0OiBLZXlib2FyZEV2ZW50KSA9PiBldnQuc3RvcFByb3BhZ2F0aW9uKCkpO1xyXG5cdFx0XHRcdFx0Y2IuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIChldnQ6IEZvY3VzRXZlbnQpID0+IGV2dC5zdG9wUHJvcGFnYXRpb24oKSk7XHJcblx0XHRcdFx0XHRjYi5zZXRQbGFjZWhvbGRlcihcIkVudGVyIGdyb3VwX2lkLi4uXCIpXHJcblx0XHRcdFx0XHRcdC5zZXRWYWx1ZShtYXBwaW5nLmdyb3VwSWQpXHJcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAobmV3R3JvdXBJZCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmZvbGRlck5hbWVzcGFjZU1hcHBpbmdzW2luZGV4XS5ncm91cElkID0gbmV3R3JvdXBJZDtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQuYWRkRXh0cmFCdXR0b24oKGNiKSA9PiB7XHJcblx0XHRcdFx0XHRjYi5zZXRJY29uKFwiY3Jvc3NcIilcclxuXHRcdFx0XHRcdFx0LnNldFRvb2x0aXAoXCJEZWxldGVcIilcclxuXHRcdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKGV2dD86IE1vdXNlRXZlbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoZXZ0KSB7XHJcblx0XHRcdFx0XHRcdFx0XHRldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9sZGVyTmFtZXNwYWNlTWFwcGluZ3Muc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRjYi5leHRyYVNldHRpbmdzRWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2dDogTW91c2VFdmVudCkgPT4gZXZ0LnN0b3BQcm9wYWdhdGlvbigpKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0cy5pbmZvRWwucmVtb3ZlKCk7XHJcblx0XHRcdHMuY29udHJvbEVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5hZGRCdXR0b24oKGNiKSA9PiB7XHJcblx0XHRcdFx0Y2Iuc2V0QnV0dG9uVGV4dChcIkFkZCBGb2xkZXIgTWFwcGluZ1wiKVxyXG5cdFx0XHRcdFx0LnNldEN0YSgpXHJcblx0XHRcdFx0XHQub25DbGljayhhc3luYyAoZXZ0PzogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoZXZ0KSBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmZvbGRlck5hbWVzcGFjZU1hcHBpbmdzLnB1c2goe1xyXG5cdFx0XHRcdFx0XHRcdGZvbGRlclBhdGg6IFwiXCIsXHJcblx0XHRcdFx0XHRcdFx0Z3JvdXBJZDogXCJcIlxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0Y2IuYnV0dG9uRWwub25tb3VzZWRvd24gPSAoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0VuYWJsZSBQcm9wZXJ0eSBOYW1lc3BhY2luZycgKVxyXG5cdFx0XHQuc2V0RGVzYygnVXNlIGdfZ3JvdXBfaWQgZnJvbnRtYXR0ZXIgcHJvcGVydHkgYXMgbmFtZXNwYWNlIHdoZW4gYXZhaWxhYmxlJylcclxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4ge1xyXG5cdFx0XHRcdHRoaXMucHJvcGVydHlUb2dnbGUgPSB0b2dnbGU7XHJcblx0XHRcdFx0dG9nZ2xlLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZVByb3BlcnR5TmFtZXNwYWNpbmcpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZVByb3BlcnR5TmFtZXNwYWNpbmcgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0Ly8gTXVsdGktVmF1bHQgQ29uZmlndXJhdGlvbiBzdWJzZWN0aW9uXHJcblx0XHRjb250ZW50LmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ011bHRpLVZhdWx0IENvbmZpZ3VyYXRpb24nLCBjbHM6ICdzZXR0aW5nLWl0ZW0tbmFtZScgfSk7XHJcblx0XHRjb250ZW50LmNyZWF0ZUVsKCdwJywge1xyXG5cdFx0XHR0ZXh0OiAnQmUgY2FyZWZ1bCB3aXRoIHRoaXMsIGl0IGlzIG5vdCBmdWxseSB0ZXN0ZWQuJyxcclxuXHRcdFx0Y2xzOiAnc2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uJyxcclxuXHRcdFx0YXR0cjogeyBzdHlsZTogJ2NvbG9yOiB2YXIoLS10ZXh0LXdhcm5pbmcpOyBmb250LXdlaWdodDogNTAwOyBtYXJnaW4tYm90dG9tOiAxNnB4OycgfVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0VuYWJsZSBNdWx0aS1WYXVsdCBNb2RlJyApXHJcblx0XHRcdC5zZXREZXNjKCdFbmFibGUgYWR2YW5jZWQgZmVhdHVyZXMgZm9yIG1hbmFnaW5nIG11bHRpcGxlIE9ic2lkaWFuIHZhdWx0cycgKVxyXG5cdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlTXVsdGlWYXVsdE1vZGUpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlTXVsdGlWYXVsdE1vZGUgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnQ3VycmVudCBWYXVsdCBQcmlvcml0eScgKVxyXG5cdFx0XHQuc2V0RGVzYygnUHJpb3JpdHkgbGV2ZWwgZm9yIHRoaXMgdmF1bHQgaW4gbXVsdGktdmF1bHQgc2NlbmFyaW9zIChoaWdoZXIgbnVtYmVycyA9IGhpZ2hlciBwcmlvcml0eSknKVxyXG5cdFx0XHQuYWRkU2xpZGVyKHNsaWRlciA9PiBzbGlkZXJcclxuXHRcdFx0XHQuc2V0TGltaXRzKDEsIDEwLCAxKVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdXJyZW50VmF1bHRQcmlvcml0eSlcclxuXHRcdFx0XHQuc2V0RHluYW1pY1Rvb2x0aXAoKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmN1cnJlbnRWYXVsdFByaW9yaXR5ID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0Ly8gRGlzcGxheSBjdXJyZW50IHZhdWx0IGNvbmZpZ3VyYXRpb24gc3RhdHVzXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnVmF1bHQgQ29uZmlndXJhdGlvbnMnKVxyXG5cdFx0XHQuc2V0RGVzYygnVmlldyBhbmQgbWFuYWdlIHZhdWx0IHJlZ2lzdHJ5IGNvbmZpZ3VyYXRpb24gZnJvbSB2YXVsdHMuanNvbicpXHJcblx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxyXG5cdFx0XHRcdC5zZXRCdXR0b25UZXh0KCdNYW5hZ2UgVmF1bHRzJylcclxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnNob3dWYXVsdE1hbmFnZW1lbnRNb2RhbCgpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYWRkU2VydmVyc0FjY29yZGlvbihjb250ZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG5cclxuXHRcdC8vIFVwZGF0ZWQgYXJjaGl0ZWN0dXJlIGRlc2NyaXB0aW9uXHJcblx0XHRjb250ZW50LmNyZWF0ZUVsKCdwJywge1xyXG5cdFx0XHR0ZXh0OiAnU2VydmVyIGFyY2hpdGVjdHVyZTogVGhlIGZpcnN0IE1DUCBwcm9jZXNzIGF1dG9tYXRpY2FsbHkgc3RhcnRzIHRoZSBzaGFyZWQgV2ViU29ja2V0IHNlcnZlci4gU3Vic2VxdWVudCBwcm9jZXNzZXMgY29ubmVjdCBhcyBjbGllbnRzLiBTZXJ2ZXIgb3duZXJzaGlwIHRyYW5zZmVycyBhdXRvbWF0aWNhbGx5IHdoZW4gdGhlIGhvc3QgcHJvY2VzcyBleGl0cy4nLFxyXG5cdFx0XHRjbHM6ICdzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24nXHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBXZWJTb2NrZXQgU2VydmVyIFNlY3Rpb25cclxuXHRcdGNvbnRlbnQuY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnU2hhcmVkIFdlYlNvY2tldCBTZXJ2ZXInLCBjbHM6ICdzZXR0aW5nLWl0ZW0tbmFtZScgfSk7XHJcblx0XHJcblx0XHQvLyBXZWJTb2NrZXQgU2VydmVyIEVuYWJsZS9EaXNhYmxlIFRvZ2dsZVxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0VuYWJsZSBXZWJTb2NrZXQgU2VydmVyJylcclxuXHRcdFx0LnNldERlc2MoJ0VuYWJsZSBXZWJTb2NrZXQgc2VydmVyIGZvciBNQ1AgY29tbXVuaWNhdGlvbi4gUmVxdWlyZWQgZm9yIE1DUCB0b29scyB0byB3b3JrLicpXHJcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy53c0VuYWJsZWQpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mud3NFbmFibGVkID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly8gU3RhcnQgb3Igc3RvcCBXZWJTb2NrZXQgc2VydmljZSBiYXNlZCBvbiB0b2dnbGVcclxuXHRcdFx0XHRcdGlmICh2YWx1ZSkge1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi53c1NlcnZpY2Uuc3RhcnQoKTtcclxuXHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnW0lORk9dIFdlYlNvY2tldCBzZXJ2ZXIgc3RhcnRlZCcpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4ud3NTZXJ2aWNlLnN0b3AoKTtcclxuXHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnW0lORk9dIFdlYlNvY2tldCBzZXJ2ZXIgc3RvcHBlZCcpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pKTtcclxuXHRcclxuXHRcdC8vIFNlcnZlciBvd25lcnNoaXAgZXhwbGFuYXRpb25cclxuXHRcdGNvbnRlbnQuY3JlYXRlRWwoJ3AnLCB7XHJcblx0XHRcdHRleHQ6ICdTZXJ2ZXIgbGlmZWN5Y2xlIGlzIG1hbmFnZWQgYXV0b21hdGljYWxseSBieSBNQ1AgcHJvY2Vzc2VzLiBNYW51YWwgY29udHJvbCBpcyBub3QgbmVlZGVkLicsXHJcblx0XHRcdGNsczogJ3NldHRpbmctaXRlbS1kZXNjcmlwdGlvbicsXHJcblx0XHRcdGF0dHI6IHsgc3R5bGU6ICdmb250LXNpemU6IDAuOWVtOyBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7IG1hcmdpbi1ib3R0b206IDE2cHg7JyB9XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBXZWJTb2NrZXQgUG9ydCBDb25maWd1cmF0aW9uIChyZWFkLW9ubHkpXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnV2ViU29ja2V0IFBvcnQnIClcclxuXHRcdFx0LnNldERlc2MoJ1BvcnQgbnVtYmVyIGZvciB0aGUgc2hhcmVkIFdlYlNvY2tldCBzZXJ2ZXIgKGNvbmZpZ3VyZWQgdmlhIE1DUCknKVxyXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJzg3NjUnKVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy53c1BvcnQudG9TdHJpbmcoKSlcclxuXHRcdFx0XHQuc2V0RGlzYWJsZWQodHJ1ZSkpO1xyXG5cclxuXHRcdC8vIERpc3BsYXkgV2ViU29ja2V0IEF1dGggVG9rZW4gKHJlYWQtb25seSB3aXRoIGNvcHkpXHJcblx0XHRjb25zdCBhdXRoVG9rZW5TZXR0aW5nID0gbmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0F1dGhlbnRpY2F0aW9uIFRva2VuJyApXHJcblx0XHRcdC5zZXREZXNjKCdBdXRoZW50aWNhdGlvbiB0b2tlbiBmb3Igc2VjdXJlIFdlYlNvY2tldCBjb25uZWN0aW9ucyAobWFuYWdlZCBieSBNQ1ApJyk7XHJcblxyXG5cdFx0bGV0IGF1dGhUb2tlblRleHQ6IGFueTtcclxuXHRcdGF1dGhUb2tlblNldHRpbmcuYWRkVGV4dCh0ZXh0ID0+IHtcclxuXHRcdFx0YXV0aFRva2VuVGV4dCA9IHRleHQ7XHJcblx0XHRcdHRleHQuc2V0RGlzYWJsZWQodHJ1ZSlcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mud3NBdXRoVG9rZW4pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gQ29weSBUb2tlbiBCdXR0b25cclxuXHRcdGF1dGhUb2tlblNldHRpbmcuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cclxuXHRcdFx0LnNldEJ1dHRvblRleHQoJ0NvcHknKVxyXG5cdFx0XHQub25DbGljayhhc3luYyAoZXZlbnQpID0+IHtcclxuXHRcdFx0XHRldmVudD8uc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0YXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGhpcy5wbHVnaW4uc2V0dGluZ3Mud3NBdXRoVG9rZW4pO1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoJ0F1dGggdG9rZW4gY29waWVkIHRvIGNsaXBib2FyZCcpO1xyXG5cdFx0XHR9KSk7XHJcblxyXG5cdFx0Ly8gQ3VycmVudCBDb25uZWN0aW9ucyBTdGF0dXNcclxuXHRcdGNvbnN0IGNvbm5lY3Rpb25zQ29udGFpbmVyID0gY29udGVudC5jcmVhdGVEaXYoKTtcclxuXHRcdGNvbm5lY3Rpb25zQ29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgXHJcblx0XHRcdG1hcmdpbjogMTZweCAwO1xyXG5cdFx0XHRwYWRkaW5nOiAxMnB4O1xyXG5cdFx0XHRib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XHJcblx0XHRcdGJvcmRlci1yYWRpdXM6IDZweDtcclxuXHRcdFx0YmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xyXG5cdFx0YDtcclxuXHJcblx0XHRjb25zdCBjb25uZWN0aW9uc1RpdGxlID0gY29ubmVjdGlvbnNDb250YWluZXIuY3JlYXRlRWwoJ2g1Jywge1xyXG5cdFx0XHR0ZXh0OiAnQ3VycmVudCBDb25uZWN0aW9ucycsXHJcblx0XHRcdGF0dHI6IHsgc3R5bGU6ICdtYXJnaW46IDAgMCA4cHggMDsgZm9udC1zaXplOiAwLjllbTsgZm9udC13ZWlnaHQ6IDYwMDsnIH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIENvbm5lY3Rpb24gc3RhdHVzIGRpc3BsYXkgKHVwZGF0ZWQgcGVyaW9kaWNhbGx5KVxyXG5cdFx0Y29uc3QgY29ubmVjdGlvbnNTdGF0dXMgPSBjb25uZWN0aW9uc0NvbnRhaW5lci5jcmVhdGVEaXYoKTtcclxuXHRcdGNvbm5lY3Rpb25zU3RhdHVzLnN0eWxlLmNzc1RleHQgPSBgXHJcblx0XHRcdGZvbnQtc2l6ZTogMC44ZW07XHJcblx0XHRcdGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcclxuXHRcdFx0bGluZS1oZWlnaHQ6IDEuNDtcclxuXHRcdGA7XHJcblxyXG5cdFx0Y29uc3QgdXBkYXRlQ29ubmVjdGlvbnNEaXNwbGF5ID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHQvLyBPbmx5IHBlcmZvcm0gaGVhbHRoIGNoZWNrcyB3aGVuIGRlYnVnIGxvZ2dpbmcgZW5hYmxlZFxyXG5cdFx0XHRpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZURlYnVnTG9nZ2luZykge1xyXG5cdFx0XHRcdGNvbnN0IHBvcnQgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy53c1BvcnQgfHwgODc2NTtcclxuXHRcdFx0XHRjb25uZWN0aW9uc1N0YXR1cy50ZXh0Q29udGVudCA9IGBIZWFsdGggY2hlY2tzIGRpc2FibGVkIChwb3J0ICR7cG9ydH0pYDtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNvbnN0IHBvcnQgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy53c1BvcnQgfHwgODc2NTtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRjb25zdCBoZWFsdGhSZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwOi8vMTI3LjAuMC4xOiR7cG9ydH0vaGVhbHRoYCwge1xyXG5cdFx0XHRcdFx0aGVhZGVyczogeyAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0aGlzLnBsdWdpbi5zZXR0aW5ncy53c0F1dGhUb2tlbiB8fCAnJ31gIH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRpZiAoaGVhbHRoUmVzcG9uc2Uub2spIHtcclxuXHRcdFx0XHRcdGNvbm5lY3Rpb25zU3RhdHVzLnRleHRDb250ZW50ID0gYENvbm5lY3RlZCB0byBwb3J0ICR7cG9ydH1gO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRjb25uZWN0aW9uc1N0YXR1cy50ZXh0Q29udGVudCA9IGBGYWlsZWQgdG8gY29ubmVjdCB0byBwb3J0ICR7cG9ydH1gO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRjb25uZWN0aW9uc1N0YXR1cy50ZXh0Q29udGVudCA9IGBUcnlpbmcgdG8gY29ubmVjdCB0byBwb3J0ICR7cG9ydH1gO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIEluaXRpYWwgdXBkYXRlXHJcblx0XHR1cGRhdGVDb25uZWN0aW9uc0Rpc3BsYXkoKTtcclxuXHJcblx0XHQvLyBVcGRhdGUgZXZlcnkgNSBzZWNvbmRzXHJcblx0XHRjb25zdCBjb25uZWN0aW9uVXBkYXRlSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh1cGRhdGVDb25uZWN0aW9uc0Rpc3BsYXksIDUwMDApO1xyXG5cclxuXHRcdC8vIFN0b3JlIGludGVydmFsIHJlZmVyZW5jZSBmb3IgY2xlYW51cFxyXG5cdFx0KHRoaXMgYXMgYW55KS5jb25uZWN0aW9uVXBkYXRlSW50ZXJ2YWwgPSBjb25uZWN0aW9uVXBkYXRlSW50ZXJ2YWw7XHJcblxyXG5cdFx0Ly8gTUNQIFNlcnZlciBTZWN0aW9uXHJcblx0XHRjb250ZW50LmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ01DUCBTZXJ2ZXInLCBjbHM6ICdzZXR0aW5nLWl0ZW0tbmFtZScgfSk7XHJcblxyXG5cdFx0Ly8gQ3VycmVudCBJbnN0YW5jZXMgU3RhdHVzXHJcblx0XHRjb25zdCBpbnN0YW5jZXNDb250YWluZXIgPSBjb250ZW50LmNyZWF0ZURpdigpO1xyXG5cdFx0aW5zdGFuY2VzQ29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgXHJcblx0XHRcdG1hcmdpbjogMTZweCAwO1xyXG5cdFx0XHRwYWRkaW5nOiAxMnB4O1xyXG5cdFx0XHRib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XHJcblx0XHRcdGJvcmRlci1yYWRpdXM6IDZweDtcclxuXHRcdFx0YmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xyXG5cdFx0YDtcclxuXHJcblx0XHRjb25zdCBpbnN0YW5jZXNUaXRsZSA9IGluc3RhbmNlc0NvbnRhaW5lci5jcmVhdGVFbCgnaDUnLCB7XHJcblx0XHRcdHRleHQ6ICdDdXJyZW50IEluc3RhbmNlcycsXHJcblx0XHRcdGF0dHI6IHsgc3R5bGU6ICdtYXJnaW46IDAgMCA4cHggMDsgZm9udC1zaXplOiAwLjllbTsgZm9udC13ZWlnaHQ6IDYwMDsnIH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIEluc3RhbmNlIHN0YXR1cyBkaXNwbGF5ICh1cGRhdGVkIHBlcmlvZGljYWxseSlcclxuXHRcdGNvbnN0IGluc3RhbmNlc1N0YXR1cyA9IGluc3RhbmNlc0NvbnRhaW5lci5jcmVhdGVEaXYoKTtcclxuXHRcdGluc3RhbmNlc1N0YXR1cy5zdHlsZS5jc3NUZXh0ID0gYFxyXG5cdFx0XHRmb250LXNpemU6IDAuOGVtO1xyXG5cdFx0XHRjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XHJcblx0XHRcdGxpbmUtaGVpZ2h0OiAxLjQ7XHJcblx0XHRgO1xyXG5cclxuXHRcdGNvbnN0IHVwZGF0ZUluc3RhbmNlc0Rpc3BsYXkgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0Ly8gVXNlIFByb2Nlc3NEZXRlY3Rpb24gdG8gZ2V0IGFjdHVhbCBydW5uaW5nIE1DUCBwcm9jZXNzZXNcclxuXHRcdFx0XHRjb25zdCBwcm9jZXNzRGV0ZWN0aW9uID0gUHJvY2Vzc0RldGVjdGlvbi5nZXRJbnN0YW5jZSgpO1xyXG5cdFx0XHRcdGNvbnN0IG1jcFByb2Nlc3NlcyA9IGF3YWl0IHByb2Nlc3NEZXRlY3Rpb24uZ2V0TUNQU2VydmVyUHJvY2Vzc2VzKCk7XHJcblxyXG5cdFx0XHRcdGlmIChtY3BQcm9jZXNzZXMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0Y29uc3QgcHJvY2Vzc0xpbmVzID0gbWNwUHJvY2Vzc2VzLm1hcChwcm9jID0+XHJcblx0XHRcdFx0XHRcdGBQcm9jZXNzICR7cHJvYy5waWR9IHwgJHtwcm9jLnBhcmVudE5hbWV9IHwgJHtwcm9jLmNyZWF0ZWRBdH1gXHJcblx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0aW5zdGFuY2VzU3RhdHVzLmlubmVySFRNTCA9IHByb2Nlc3NMaW5lcy5qb2luKCc8YnI+Jyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGluc3RhbmNlc1N0YXR1cy50ZXh0Q29udGVudCA9IGBObyBhY3RpdmUgaW5zdGFuY2VzIGRldGVjdGVkYDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0aW5zdGFuY2VzU3RhdHVzLnRleHRDb250ZW50ID0gYFN0YXR1cyBjaGVjayBmYWlsZWRgO1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ0ZhaWxlZCB0byB1cGRhdGUgaW5zdGFuY2VzIGRpc3BsYXknLCB7IGVycm9yIH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIEluaXRpYWwgdXBkYXRlXHJcblx0XHR1cGRhdGVJbnN0YW5jZXNEaXNwbGF5KCk7XHJcblxyXG5cdFx0Ly8gVXBkYXRlIGV2ZXJ5IDUgc2Vjb25kc1xyXG5cdFx0Y29uc3QgaW5zdGFuY2VVcGRhdGVJbnRlcnZhbCA9IHNldEludGVydmFsKHVwZGF0ZUluc3RhbmNlc0Rpc3BsYXksIDUwMDApO1xyXG5cclxuXHRcdC8vIFN0b3JlIGludGVydmFsIHJlZmVyZW5jZSBmb3IgY2xlYW51cFxyXG5cdFx0KHRoaXMgYXMgYW55KS5pbnN0YW5jZVVwZGF0ZUludGVydmFsID0gaW5zdGFuY2VVcGRhdGVJbnRlcnZhbDtcclxuXHJcblx0XHQvLyBHZW5lcmF0ZSBNQ1AgQ29uZmlnIEJ1dHRvblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0dlbmVyYXRlIE1DUCBDb25maWcnIClcclxuXHRcdFx0LnNldERlc2MoJ0dlbmVyYXRlIGNvbmZpZ3VyYXRpb24gZm9yIE1DUCBjbGllbnRzIHRvIGNvbm5lY3QgdG8gdGhlIE1DUCBzZXJ2ZXInKVxyXG5cdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cclxuXHRcdFx0XHQuc2V0QnV0dG9uVGV4dCgnR2VuZXJhdGUgQ29uZmlnJylcclxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLmdlbmVyYXRlTWNwQ29uZmlnKGJ1dHRvbi5idXR0b25FbCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cdH1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHRwcml2YXRlIGFkZEFkdmFuY2VkQWNjb3JkaW9uKGNvbnRlbnQ6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcblxyXG5cdFx0Ly8gVmlldyBMb2dzIEJ1dHRvblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ1ZpZXcgTG9ncycgKVxyXG5cdFx0XHQuc2V0RGVzYygnT3BlbiB0aGUgcGx1Z2luIGxvZ3MgZGlyZWN0b3J5JylcclxuXHRcdFx0LmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXHJcblx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ1ZpZXcgTG9ncycpXHJcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy52aWV3TG9nRmlsZSgpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnTWF4IFJldHJ5IEF0dGVtcHRzJyApXHJcblx0XHRcdC5zZXREZXNjKCdNYXhpbXVtIG51bWJlciBvZiByZXRyeSBhdHRlbXB0cyBmb3IgZmFpbGVkIG9wZXJhdGlvbnMnKVxyXG5cdFx0XHQuYWRkU2xpZGVyKHNsaWRlciA9PiBzbGlkZXJcclxuXHRcdFx0XHQuc2V0TGltaXRzKDEsIDEwLCAxKVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5tYXhSZXRyeUF0dGVtcHRzKVxyXG5cdFx0XHRcdC5zZXREeW5hbWljVG9vbHRpcCgpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubWF4UmV0cnlBdHRlbXB0cyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdDb25uZWN0aW9uIFRpbWVvdXQnIClcclxuXHRcdFx0LnNldERlc2MoJ0Nvbm5lY3Rpb24gdGltZW91dCBpbiBzZWNvbmRzJylcclxuXHRcdFx0LmFkZFNsaWRlcihzbGlkZXIgPT4gc2xpZGVyXHJcblx0XHRcdFx0LnNldExpbWl0cyg1LCAxMjAsIDUpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmNvbm5lY3Rpb25UaW1lb3V0KVxyXG5cdFx0XHRcdC5zZXREeW5hbWljVG9vbHRpcCgpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY29ubmVjdGlvblRpbWVvdXQgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHQvLyBTY2hlbWEgRGlzY292ZXJ5IHN1YnNlY3Rpb25cclxuXHRcdGNvbnRlbnQuY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnU2NoZW1hIERpc2NvdmVyeSBPcHRpb25zJywgY2xzOiAnc2V0dGluZy1pdGVtLW5hbWUnIH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdBdXRvLWRpc2NvdmVyIFNjaGVtYXMnIClcclxuXHRcdFx0LnNldERlc2MoJ0F1dG9tYXRpY2FsbHkgc2NhbiB2YXVsdCBmb3Igc2NoZW1hIHBhdHRlcm5zJyApXHJcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdXRvRGlzY292ZXJTY2hlbWFzKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmF1dG9EaXNjb3ZlclNjaGVtYXMgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnVmFsaWRhdGUgTmFtaW5nIENvbnZlbnRpb25zJyApXHJcblx0XHRcdC5zZXREZXNjKCdDaGVjayBwcm9wZXJ0eSBuYW1lcyBhZ2FpbnN0IEdyYXBoaXRpIGJlc3QgcHJhY3RpY2VzJyApXHJcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy52YWxpZGF0ZU5hbWluZ0NvbnZlbnRpb25zKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnZhbGlkYXRlTmFtaW5nQ29udmVudGlvbnMgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnU3VnZ2VzdCBQcm9wZXJ0eSBEZXNjcmlwdGlvbnMnIClcclxuXHRcdFx0LnNldERlc2MoJ0F1dG8tZ2VuZXJhdGUgZGVzY3JpcHRpb25zIGZvciBjb21tb24gcHJvcGVydHkgbmFtZXMnIClcclxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnN1Z2dlc3RQcm9wZXJ0eURlc2NyaXB0aW9ucylcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5zdWdnZXN0UHJvcGVydHlEZXNjcmlwdGlvbnMgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnUHJvdGVjdGVkIEF0dHJpYnV0ZSBXYXJuaW5ncycgKVxyXG5cdFx0XHQuc2V0RGVzYygnU2hvdyB3YXJuaW5ncyBmb3IgR3JhcGhpdGkgcHJvdGVjdGVkIGF0dHJpYnV0ZSBuYW1lcycgKVxyXG5cdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlUHJvdGVjdGVkQXR0cmlidXRlV2FybmluZ3MpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlUHJvdGVjdGVkQXR0cmlidXRlV2FybmluZ3MgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHQvLyBVSSBQcmVmZXJlbmNlcyBzdWJzZWN0aW9uXHJcblx0XHRjb250ZW50LmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ1VJIFByZWZlcmVuY2VzJywgY2xzOiAnc2V0dGluZy1pdGVtLW5hbWUnIH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdTaG93IFN5bmMgU3RhdHVzJyApXHJcblx0XHRcdC5zZXREZXNjKCdEaXNwbGF5IHN5bmMgc3RhdHVzIGluIHRoZSBzdGF0dXMgYmFyJyApXHJcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93U3luY1N0YXR1cylcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93U3luY1N0YXR1cyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdTaG93IE5vdGlmaWNhdGlvbnMnIClcclxuXHRcdFx0LnNldERlc2MoJ0Rpc3BsYXkgbm90aWZpY2F0aW9ucyBmb3Igc3luYyBvcGVyYXRpb25zJyApXHJcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93Tm90aWZpY2F0aW9ucylcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93Tm90aWZpY2F0aW9ucyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYWRkQWN0aW9uc0FjY29yZGlvbihjb250ZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdFeHBvcnQgU2V0dGluZ3MnIClcclxuXHRcdFx0LnNldERlc2MoJ0V4cG9ydCB5b3VyIGN1cnJlbnQgc2V0dGluZ3MgdG8gYSBmaWxlJylcclxuXHRcdFx0LmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXHJcblx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ0V4cG9ydCBTZXR0aW5ncycpXHJcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5leHBvcnRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnSW1wb3J0IFNldHRpbmdzJyApXHJcblx0XHRcdC5zZXREZXNjKCdJbXBvcnQgc2V0dGluZ3MgZnJvbSBhIGZpbGUnIClcclxuXHRcdFx0LmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXHJcblx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ0ltcG9ydCBTZXR0aW5ncycpXHJcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5pbXBvcnRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnUmVzZXQgdG8gRGVmYXVsdHMnIClcclxuXHRcdFx0LnNldERlc2MoJ1Jlc2V0IGFsbCBzZXR0aW5ncyB0byB0aGVpciBkZWZhdWx0IHZhbHVlcycpXHJcblx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxyXG5cdFx0XHRcdC5zZXRCdXR0b25UZXh0KCdSZXNldCB0byBEZWZhdWx0cycpXHJcblx0XHRcdFx0LnNldFdhcm5pbmcoKVxyXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucmVzZXRUb0RlZmF1bHRzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cdH1cclxuXHJcblx0Ly8gTWV0aG9kIHJlbW92ZWQgLSBNQ1Agc2VydmVyIGNvbnRyb2xzIG5vdyBjb25zb2xpZGF0ZWQgaW4gYWRkU2VydmVyc0FjY29yZGlvbigpXHJcblxyXG5cdHByaXZhdGUgYXN5bmMgZ2VuZXJhdGVNY3BDb25maWcoYnV0dG9uRWw6IEhUTUxFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRjb25zdCBvcmlnaW5hbFRleHQgPSBidXR0b25FbC50ZXh0Q29udGVudDtcclxuXHRcdGJ1dHRvbkVsLnRleHRDb250ZW50ID0gJ0dlbmVyYXRpbmcuLi4nO1xyXG5cdFx0YnV0dG9uRWwuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICd0cnVlJyk7XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW01DUC1DT05GSUddIEdlbmVyYXRpbmcgTUNQIGNvbmZpZ3VyYXRpb24nKTtcclxuXHJcblx0XHRcdGlmICh0aGlzLnBsdWdpbi5ncmFwaGl0aVNlcnZpY2UpIHtcclxuXHRcdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnBsdWdpbi5ncmFwaGl0aVNlcnZpY2UuZ2VuZXJhdGVDbGF1ZGVEZXNrdG9wQ29uZmlnKCk7XHJcblx0XHRcdFx0Y29uc3QgY29uZmlnSnNvbiA9IEpTT04uc3RyaW5naWZ5KHJlc3VsdC5jb25maWcsIG51bGwsIDIpO1xyXG5cclxuXHRcdFx0XHQvLyBDcmVhdGUgYSBzaW1wbGUgbW9kYWwgdXNpbmcgT2JzaWRpYW4ncyBuYXRpdmUgbW9kYWwgYXBwcm9hY2hcclxuXHRcdFx0XHRjb25zdCBtb2RhbEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRcdFx0bW9kYWxFbC5zdHlsZS5jc3NUZXh0ID0gYFxyXG5cdFx0XHRcdFx0cG9zaXRpb246IGZpeGVkO1xyXG5cdFx0XHRcdFx0dG9wOiAwO1xyXG5cdFx0XHRcdFx0bGVmdDogMDtcclxuXHRcdFx0XHRcdHdpZHRoOiAxMDAlO1xyXG5cdFx0XHRcdFx0aGVpZ2h0OiAxMDAlO1xyXG5cdFx0XHRcdFx0YmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjgpO1xyXG5cdFx0XHRcdFx0ZGlzcGxheTogZmxleDtcclxuXHRcdFx0XHRcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcblx0XHRcdFx0XHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuXHRcdFx0XHRcdHotaW5kZXg6IDEwMDA7XHJcblx0XHRcdFx0YDtcclxuXHJcblx0XHRcdFx0Y29uc3QgY29udGVudEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRcdFx0Y29udGVudEVsLnN0eWxlLmNzc1RleHQgPSBgXHJcblx0XHRcdFx0XHRiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xyXG5cdFx0XHRcdFx0Ym9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xyXG5cdFx0XHRcdFx0Ym9yZGVyLXJhZGl1czogOHB4O1xyXG5cdFx0XHRcdFx0cGFkZGluZzogMjBweDtcclxuXHRcdFx0XHRcdG1heC13aWR0aDogNjAwcHg7XHJcblx0XHRcdFx0XHR3aWR0aDogOTAlO1xyXG5cdFx0XHRcdFx0bWF4LWhlaWdodDogODAlO1xyXG5cdFx0XHRcdFx0b3ZlcmZsb3c6IGF1dG87XHJcblx0XHRcdFx0YDtcclxuXHJcblx0XHRcdFx0Y29uc3QgaGVhZGVyRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xyXG5cdFx0XHRcdGhlYWRlckVsLnRleHRDb250ZW50ID0gJ01DUCBDb25maWd1cmF0aW9uJztcclxuXHRcdFx0XHRoZWFkZXJFbC5zdHlsZS5tYXJnaW4gPSAnMCAwIDE1cHggMCc7XHJcblxyXG5cdFx0XHRcdGNvbnN0IGRlc2NFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuXHRcdFx0XHRkZXNjRWwudGV4dENvbnRlbnQgPSAnQ29weSB0aGlzIGNvbmZpZ3VyYXRpb24gZm9yIHlvdXIgTUNQIGNsaWVudDonO1xyXG5cdFx0XHRcdGRlc2NFbC5zdHlsZS5tYXJnaW4gPSAnMCAwIDEwcHggMCc7XHJcblxyXG5cdFx0XHRcdGNvbnN0IHRleHRBcmVhRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xyXG5cdFx0XHRcdHRleHRBcmVhRWwudmFsdWUgPSBjb25maWdKc29uO1xyXG5cdFx0XHRcdHRleHRBcmVhRWwucmVhZE9ubHkgPSB0cnVlO1xyXG5cdFx0XHRcdHRleHRBcmVhRWwuc3R5bGUuY3NzVGV4dCA9IGBcclxuXHRcdFx0XHRcdHdpZHRoOiAxMDAlO1xyXG5cdFx0XHRcdFx0aGVpZ2h0OiAzMDBweDtcclxuXHRcdFx0XHRcdGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LW1vbm9zcGFjZSk7XHJcblx0XHRcdFx0XHRmb250LXNpemU6IDEycHg7XHJcblx0XHRcdFx0XHRiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XHJcblx0XHRcdFx0XHRib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XHJcblx0XHRcdFx0XHRib3JkZXItcmFkaXVzOiA0cHg7XHJcblx0XHRcdFx0XHRwYWRkaW5nOiA4cHg7XHJcblx0XHRcdFx0XHRyZXNpemU6IHZlcnRpY2FsO1xyXG5cdFx0XHRcdFx0Ym94LXNpemluZzogYm9yZGVyLWJveDtcclxuXHRcdFx0XHRgO1xyXG5cclxuXHRcdFx0XHRjb25zdCBidXR0b25Db250YWluZXJFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0XHRcdGJ1dHRvbkNvbnRhaW5lckVsLnN0eWxlLmNzc1RleHQgPSBgXHJcblx0XHRcdFx0XHRtYXJnaW4tdG9wOiAxNXB4O1xyXG5cdFx0XHRcdFx0ZGlzcGxheTogZmxleDtcclxuXHRcdFx0XHRcdGdhcDogMTBweDtcclxuXHRcdFx0XHRcdGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XHJcblx0XHRcdFx0YDtcclxuXHJcblx0XHRcdFx0Y29uc3QgY29weUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG5cdFx0XHRcdGNvcHlCdG4udGV4dENvbnRlbnQgPSAnQ29weSc7XHJcblx0XHRcdFx0Y29weUJ0bi5jbGFzc05hbWUgPSAnbW9kLWN0YSc7XHJcblx0XHRcdFx0Y29weUJ0bi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0YXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoY29uZmlnSnNvbik7XHJcblx0XHRcdFx0XHRcdGNvbnN0IG9yaWdpbmFsVGV4dCA9IGNvcHlCdG4udGV4dENvbnRlbnQ7XHJcblx0XHRcdFx0XHRcdGNvcHlCdG4udGV4dENvbnRlbnQgPSAnQ29waWVkISc7XHJcblx0XHRcdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4gY29weUJ0bi50ZXh0Q29udGVudCA9IG9yaWdpbmFsVGV4dCwgMjAwMCk7XHJcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoJ1tTVUNDRVNTXSBNQ1AgY29uZmlndXJhdGlvbiBjb3BpZWQgdG8gY2xpcGJvYXJkJyk7XHJcblx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdFx0XHR0ZXh0QXJlYUVsLnNlbGVjdCgpO1xyXG5cdFx0XHRcdFx0XHRkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpO1xyXG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdbU1VDQ0VTU10gTUNQIGNvbmZpZ3VyYXRpb24gY29waWVkIHRvIGNsaXBib2FyZCcpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdGNvbnN0IGNsb3NlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcblx0XHRcdFx0Y2xvc2VCdG4udGV4dENvbnRlbnQgPSAnQ2xvc2UnO1xyXG5cdFx0XHRcdGNsb3NlQnRuLm9uY2xpY2sgPSAoKSA9PiBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG1vZGFsRWwpO1xyXG5cclxuXHRcdFx0XHQvLyBBc3NlbWJsZSBtb2RhbFxyXG5cdFx0XHRcdGJ1dHRvbkNvbnRhaW5lckVsLmFwcGVuZChjb3B5QnRuLCBjbG9zZUJ0bik7XHJcblx0XHRcdFx0Y29udGVudEVsLmFwcGVuZChoZWFkZXJFbCwgZGVzY0VsLCB0ZXh0QXJlYUVsLCBidXR0b25Db250YWluZXJFbCk7XHJcblx0XHRcdFx0bW9kYWxFbC5hcHBlbmRDaGlsZChjb250ZW50RWwpO1xyXG5cclxuXHRcdFx0XHQvLyBDbG9zZSBvbiBiYWNrZ3JvdW5kIGNsaWNrXHJcblx0XHRcdFx0bW9kYWxFbC5vbmNsaWNrID0gKGUpID0+IHtcclxuXHRcdFx0XHRcdGlmIChlLnRhcmdldCA9PT0gbW9kYWxFbCkge1xyXG5cdFx0XHRcdFx0XHRkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG1vZGFsRWwpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdC8vIFNob3cgbW9kYWxcclxuXHRcdFx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1vZGFsRWwpO1xyXG5cclxuXHRcdFx0XHQvLyBBdXRvLXNlbGVjdCB0ZXh0XHJcblx0XHRcdFx0dGV4dEFyZWFFbC5mb2N1cygpO1xyXG5cdFx0XHRcdHRleHRBcmVhRWwuc2VsZWN0KCk7XHJcblxyXG5cdFx0XHRcdG5ldyBOb3RpY2UoJ1tTVUNDRVNTXSBNQ1AgY29uZmlndXJhdGlvbiBnZW5lcmF0ZWQnKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRuZXcgTm90aWNlKCdbRVJST1JdIEdyYXBoaXRpU2VydmljZSBub3QgYXZhaWxhYmxlJyk7XHJcblx0XHRcdH1cclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tNQ1AtQ09ORklHXSBGYWlsZWQgdG8gZ2VuZXJhdGUgTUNQIGNvbmZpZycsIHsgZXJyb3IgfSk7XHJcblx0XHRcdGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xyXG5cdFx0XHRuZXcgTm90aWNlKGBbRVJST1JdIEZhaWxlZCB0byBnZW5lcmF0ZSBjb25maWc6ICR7ZXJyb3JNZXNzYWdlfWApO1xyXG5cdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0YnV0dG9uRWwudGV4dENvbnRlbnQgPSBvcmlnaW5hbFRleHQ7XHJcblx0XHRcdGJ1dHRvbkVsLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYWRkRGV2ZWxvcG1lbnRBY2NvcmRpb24oY29udGVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnRGVidWcgTG9nZ2luZycgKVxyXG5cdFx0XHQuc2V0RGVzYygnRW5hYmxlIGRldGFpbGVkIGxvZ2dpbmcgZm9yIHRyb3VibGVzaG9vdGluZycpXHJcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVEZWJ1Z0xvZ2dpbmcpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlRGVidWdMb2dnaW5nID0gdmFsdWU7XHJcblx0XHRcdFx0XHQvLyBEaXJlY3RseSB1cGRhdGUgdGhlIGxvZ2dlciBzdGF0ZSB3aGVuIHRoZSBzZXR0aW5nIGNoYW5nZXNcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlci5zZXREZWJ1Zyh2YWx1ZSk7XHJcblx0XHRcdFx0XHQvLyBFeHBsaWNpdGx5IGxvZyB0aGUgZGVidWcgbW9kZSBjaGFuZ2UgZnJvbSB0aGUgc2V0dGluZ3MgdGFiXHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXIuaW5mbyhgRGVidWcgbW9kZSAke3ZhbHVlID8gJ2VuYWJsZWQnIDogJ2Rpc2FibGVkJ30gZnJvbSBzZXR0aW5nc2ApO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdFeHBlcmltZW50YWwgRGFlbW9uIE1vZGUnIClcclxuXHRcdFx0LnNldERlc2MoJ1VzZSBwZXJzaXN0ZW50IFB5dGhvbiBkYWVtb24gdG8gZWxpbWluYXRlIEJHRSBtb2RlbCBsb2FkaW5nIG92ZXJoZWFkIChyZWR1Y2VzIHN5bmMgdGltZSBieSB+NjAlKScpXHJcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5leHBlcmltZW50YWxEYWVtb25Nb2RlKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmV4cGVyaW1lbnRhbERhZW1vbk1vZGUgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnTG9hZCBEYWVtb24gb24gTGF1bmNoJyApXHJcblx0XHRcdC5zZXREZXNjKCdTdGFydCBQeXRob24gZGFlbW9uIHdoZW4gcGx1Z2luIGxvYWRzIHRvIGVsaW1pbmF0ZSBmaXJzdC1zeW5jIGRlbGF5IChyZXF1aXJlcyBFeHBlcmltZW50YWwgRGFlbW9uIE1vZGUpJylcclxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmxvYWREYWVtb25PbkxhdW5jaClcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5sb2FkRGFlbW9uT25MYXVuY2ggPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnTG9nIFBlcmZvcm1hbmNlJyApXHJcblx0XHRcdC5zZXREZXNjKCdFbmFibGUgZGV0YWlsZWQgdGltaW5nIGFuYWx5c2lzIGZvciBzeW5jIHBlcmZvcm1hbmNlIGRlYnVnZ2luZycpXHJcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5sb2dQZXJmb3JtYW5jZSlcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5sb2dQZXJmb3JtYW5jZSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cdH1cclxuXHJcblxyXG5cdHByaXZhdGUgZ2V0UHJvdmlkZXJEaXNwbGF5TmFtZShwcm92aWRlcjogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdGNvbnN0IGRpc3BsYXlOYW1lczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcclxuXHRcdFx0J29wZW5haSc6ICdPcGVuQUknLFxyXG5cdFx0XHQnYW50aHJvcGljJzogJ0FudGhyb3BpYycsXHJcblx0XHRcdCdnb29nbGUnOiAnR29vZ2xlJyxcclxuXHRcdFx0J2F6dXJlJzogJ0F6dXJlIE9wZW5BSScsXHJcblx0XHRcdCd2b3lhZ2UnOiAnVm95YWdlIEFJJyxcclxuXHRcdFx0J3ZlbmljZSc6ICdWZW5pY2UuYWknXHJcblx0XHR9O1xyXG5cdFx0cmV0dXJuIGRpc3BsYXlOYW1lc1twcm92aWRlcl0gfHwgcHJvdmlkZXI7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFkZFByb3ZpZGVyU3BlY2lmaWNTZXR0aW5ncyhjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuXHRcdGNvbnN0IHByb3ZpZGVyID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtUHJvdmlkZXI7XHJcblxyXG5cdFx0Ly8gQXp1cmUtc3BlY2lmaWMgc2V0dGluZ3NcclxuXHRcdGlmIChwcm92aWRlciA9PT0gJ2F6dXJlJykge1xyXG5cdFx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZSgnQXp1cmUgRW5kcG9pbnQnIClcclxuXHRcdFx0XHQuc2V0RGVzYygnWW91ciBBenVyZSBPcGVuQUkgZW5kcG9pbnQgVVJMJylcclxuXHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignaHR0cHM6Ly95b3VyLXJlc291cmNlLm9wZW5haS5henVyZS5jb20vJylcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5henVyZUVuZHBvaW50IHx8ICcnKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5henVyZUVuZHBvaW50ID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUoJ0F6dXJlIEFQSSBWZXJzaW9uJyApXHJcblx0XHRcdFx0LnNldERlc2MoJ0F6dXJlIE9wZW5BSSBBUEkgdmVyc2lvbicpXHJcblx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJzIwMjQtMDItMDEnKVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmF6dXJlQXBpVmVyc2lvbiB8fCAnJylcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuYXp1cmVBcGlWZXJzaW9uID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIE9sbGFtYS1zcGVjaWZpYyBzZXR0aW5ncyBtb3ZlZCB0byBBUEkgS2V5cyBzZWN0aW9uXHJcblx0XHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgcG9wdWxhdGVMTE1Nb2RlbHMoZHJvcGRvd246IGFueSwgcHJvdmlkZXI6IHN0cmluZywgaW5jbHVkZUVtcHR5ID0gZmFsc2UpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGRyb3Bkb3duLnNlbGVjdEVsLmVtcHR5KCk7XHJcblxyXG5cdFx0aWYgKGluY2x1ZGVFbXB0eSkge1xyXG5cdFx0XHRkcm9wZG93bi5hZGRPcHRpb24oJycsICdOb25lJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IG1vZGVsT3B0aW9uczogc3RyaW5nW10gPSBbXTtcclxuXHJcblx0XHQvLyBSZWFkIGZyb20gcGx1Z2luLnNldHRpbmdzIChoeWRyYXRlZCBmcm9tIGRhdGEuanNvbikgaW5zdGVhZCBvZiBkaXJlY3QgZmlsZSBhY2Nlc3NcclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IGNmZzogYW55ID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MgYXMgYW55O1xyXG5cdFx0XHRjb25zdCBzb3VyY2VLZXkgPSBpbmNsdWRlRW1wdHkgPyAnbGxtU21hbGxEZWZhdWx0cycgOiAnbGxtRGVmYXVsdHMnO1xyXG5cdFx0XHRjb25zdCBzcmMgPSBjZmc/Lltzb3VyY2VLZXldPy5bcHJvdmlkZXJdO1xyXG5cdFx0XHRpZiAoc3JjICYmIHR5cGVvZiBzcmMgPT09ICdvYmplY3QnKSB7XHJcblx0XHRcdFx0Y29uc3QgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKHNyYyBhcyBSZWNvcmQ8c3RyaW5nLCBhbnk+KTtcclxuXHRcdFx0XHQvLyBSZWNvbW1lbmRlZC1maXJzdCBvcmRlcmluZywgdGhlbiBhbHBoYWJldGljYWxcclxuXHRcdFx0XHRlbnRyaWVzLnNvcnQoKGEsIGIpID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IHJhID0gKGFbMV0gJiYgYVsxXS5yZWNvbW1lbmRlZCkgPyAxIDogMDtcclxuXHRcdFx0XHRcdGNvbnN0IHJiID0gKGJbMV0gJiYgYlsxXS5yZWNvbW1lbmRlZCkgPyAxIDogMDtcclxuXHRcdFx0XHRcdHJldHVybiByYiAtIHJhIHx8IGFbMF0ubG9jYWxlQ29tcGFyZShiWzBdKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRtb2RlbE9wdGlvbnMgPSBlbnRyaWVzLm1hcCgoW25hbWVdKSA9PiBuYW1lKTtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKGBbU0VUVElOR1NdIFVzaW5nICR7c291cmNlS2V5fSBmcm9tIHBsdWdpbi5zZXR0aW5ncyBmb3IgJHtwcm92aWRlcn1gLCB7IGNvdW50OiBtb2RlbE9wdGlvbnMubGVuZ3RoIH0pO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGluY2x1ZGVFbXB0eSAmJiBjZmc/LmxsbURlZmF1bHRzPy5bcHJvdmlkZXJdKSB7XHJcblx0XHRcdFx0Y29uc3QgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKGNmZy5sbG1EZWZhdWx0c1twcm92aWRlcl0gYXMgUmVjb3JkPHN0cmluZywgYW55Pik7XHJcblx0XHRcdFx0ZW50cmllcy5zb3J0KChhLCBiKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCByYSA9IChhWzFdICYmIGFbMV0ucmVjb21tZW5kZWQpID8gMSA6IDA7XHJcblx0XHRcdFx0XHRjb25zdCByYiA9IChiWzFdICYmIGJbMV0ucmVjb21tZW5kZWQpID8gMSA6IDA7XHJcblx0XHRcdFx0XHRyZXR1cm4gcmIgLSByYSB8fCBhWzBdLmxvY2FsZUNvbXBhcmUoYlswXSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0bW9kZWxPcHRpb25zID0gZW50cmllcy5tYXAoKFtuYW1lXSkgPT4gbmFtZSk7XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZyhgW1NFVFRJTkdTXSBGYWxsYmFjayB0byBsbG1EZWZhdWx0cyBmcm9tIHBsdWdpbi5zZXR0aW5ncyBmb3IgJHtwcm92aWRlcn1gLCB7IGNvdW50OiBtb2RlbE9wdGlvbnMubGVuZ3RoIH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/Lndhcm4oJ1tTRVRUSU5HU10gRmFpbGVkIHJlYWRpbmcgTExNIGRlZmF1bHRzIGZyb20gcGx1Z2luLnNldHRpbmdzJywgeyBlcnJvciB9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBObyBoYXJkY29kZWQgbW9kZWwgbGlzdHMgZm9yIG5vbi1PbGxhbWEgcHJvdmlkZXJzLlxyXG5cdFx0Ly8gSWYgc2V0dGluZ3MgYXJlIG5vdCB5ZXQgaHlkcmF0ZWQsIGxlYXZlIHRoZSBkcm9wZG93biBlbXB0eSBhbmQgcmVseSBvbiBoeWRyYXRpb24gKyBkZWZhdWx0cyBzZWxlY3Rpb24uXHJcblx0XHRpZiAobW9kZWxPcHRpb25zLmxlbmd0aCA9PT0gMCAmJiBwcm92aWRlciAhPT0gJ29sbGFtYScpIHtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZyhgW1NFVFRJTkdTXSBObyBMTE0gZGVmYXVsdHMgZm91bmQgaW4gcGx1Z2luLnNldHRpbmdzIGZvciAke3Byb3ZpZGVyfTsgbGVhdmluZyBkcm9wZG93biBlbXB0eWApO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEZvciBPbGxhbWEgcHJvdmlkZXIsIHVzZSBPTkxZIHNldHRpbmdzLWRyaXZlbiBsaXN0cyBwZXIgdHlwZSAobm8gc2VydmVyLWFwcGVuZClcclxuXHRcdGlmIChwcm92aWRlciA9PT0gJ29sbGFtYScpIHtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHQvLyBDaG9vc2UgY29ycmVjdCBzZXR0aW5ncyBzb3VyY2U6IGxsbURlZmF1bHRzIGZvciBwcmltYXJ5LCBsbG1TbWFsbERlZmF1bHRzIGZvciBTbWFsbFxyXG5cdFx0XHRcdGNvbnN0IHNldHRpbmdzTW9kZWxzID0gaW5jbHVkZUVtcHR5XHJcblx0XHRcdFx0XHQ/IHRoaXMub2xsYW1hU2V0dGluZ3MuZ2V0T2xsYW1hTExNU21hbGxNb2RlbHNGcm9tU2V0dGluZ3MoKVxyXG5cdFx0XHRcdFx0OiB0aGlzLm9sbGFtYVNldHRpbmdzLmdldE9sbGFtYUxMTU1vZGVsc0Zyb21TZXR0aW5ncygpO1xyXG5cclxuXHRcdFx0XHRmb3IgKGNvbnN0IG1vZGVsIG9mIHNldHRpbmdzTW9kZWxzKSB7XHJcblx0XHRcdFx0XHRjb25zdCBkZXNjID0gbW9kZWwuZGVzY3JpcHRpb24gfHwgJyc7XHJcblx0XHRcdFx0XHRjb25zdCBzaG9ydERlc2MgPSBkZXNjLmxlbmd0aCA+IDUwID8gZGVzYy5zdWJzdHJpbmcoMCwgNTApICsgJy4uLicgOiBkZXNjO1xyXG5cdFx0XHRcdFx0Y29uc3QgZGlzcGxheU5hbWUgPSBzaG9ydERlc2MgPyBgJHttb2RlbC5uYW1lfSAtICR7c2hvcnREZXNjfWAgOiBtb2RlbC5uYW1lO1xyXG5cdFx0XHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKG1vZGVsLm5hbWUsIGRpc3BsYXlOYW1lKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignW1NFVFRJTkdTXSBGYWlsZWQgdG8gbG9hZCBPbGxhbWEgTExNIG1vZGVscyBmcm9tIHNldHRpbmdzJywgeyBlcnJvciB9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gRm9yIG90aGVyIHByb3ZpZGVycywgdXNlIHRoZSBtb2RlbHMgYXJyYXkgd2UgcHJlcGFyZWRcclxuXHRcdFx0bW9kZWxPcHRpb25zLmZvckVhY2goKG1vZGVsOiBzdHJpbmcpID0+IGRyb3Bkb3duLmFkZE9wdGlvbihtb2RlbCwgbW9kZWwpKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgcG9wdWxhdGVFbWJlZGRpbmdNb2RlbHMoZHJvcGRvd246IGFueSwgcHJvdmlkZXI6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0ZHJvcGRvd24uc2VsZWN0RWwuZW1wdHkoKTtcclxuXHJcblx0XHRsZXQgbW9kZWxPcHRpb25zOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuXHRcdC8vIFJlYWQgZnJvbSBwbHVnaW4uc2V0dGluZ3MgKGh5ZHJhdGVkIGZyb20gZGF0YS5qc29uKSBpbnN0ZWFkIG9mIGRpcmVjdCBmaWxlIGFjY2Vzc1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgY2ZnOiBhbnkgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncyBhcyBhbnk7XHJcblx0XHRcdGNvbnN0IGVTcmMgPSBjZmc/LmVtYmVkZGluZ0RlZmF1bHRzPy5bcHJvdmlkZXJdO1xyXG5cdFx0XHRpZiAoZVNyYyAmJiB0eXBlb2YgZVNyYyA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0XHRjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoZVNyYyBhcyBSZWNvcmQ8c3RyaW5nLCBhbnk+KTtcclxuXHRcdFx0XHQvLyBSZWNvbW1lbmRlZC1maXJzdCBvcmRlcmluZywgdGhlbiBhbHBoYWJldGljYWxcclxuXHRcdFx0XHRlbnRyaWVzLnNvcnQoKGEsIGIpID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IHJhID0gKGFbMV0gJiYgYVsxXS5yZWNvbW1lbmRlZCkgPyAxIDogMDtcclxuXHRcdFx0XHRcdGNvbnN0IHJiID0gKGJbMV0gJiYgYlsxXS5yZWNvbW1lbmRlZCkgPyAxIDogMDtcclxuXHRcdFx0XHRcdHJldHVybiByYiAtIHJhIHx8IGFbMF0ubG9jYWxlQ29tcGFyZShiWzBdKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRtb2RlbE9wdGlvbnMgPSBlbnRyaWVzLm1hcCgoW25hbWVdKSA9PiBuYW1lKTtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKGBbU0VUVElOR1NdIFVzaW5nIGVtYmVkZGluZ0RlZmF1bHRzIGZyb20gcGx1Z2luLnNldHRpbmdzIGZvciAke3Byb3ZpZGVyfWAsIHsgY291bnQ6IG1vZGVsT3B0aW9ucy5sZW5ndGggfSk7XHJcblx0XHRcdH1cclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8ud2FybignW1NFVFRJTkdTXSBGYWlsZWQgcmVhZGluZyBlbWJlZGRpbmcgZGVmYXVsdHMgZnJvbSBwbHVnaW4uc2V0dGluZ3MnLCB7IGVycm9yIH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIE5vIGhhcmRjb2RlZCBtb2RlbCBsaXN0cyBmb3Igbm9uLU9sbGFtYSBwcm92aWRlcnMuXHJcblx0XHQvLyBJZiBzZXR0aW5ncyBhcmUgbm90IHlldCBoeWRyYXRlZCwgbGVhdmUgdGhlIGRyb3Bkb3duIGVtcHR5IGFuZCByZWx5IG9uIGh5ZHJhdGlvbiArIGRlZmF1bHRzIHNlbGVjdGlvbi5cclxuXHRcdGlmIChtb2RlbE9wdGlvbnMubGVuZ3RoID09PSAwICYmIHByb3ZpZGVyICE9PSAnb2xsYW1hJykge1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKGBbU0VUVElOR1NdIE5vIGVtYmVkZGluZyBkZWZhdWx0cyBmb3VuZCBpbiBwbHVnaW4uc2V0dGluZ3MgZm9yICR7cHJvdmlkZXJ9OyBsZWF2aW5nIGRyb3Bkb3duIGVtcHR5YCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gRm9yIE9sbGFtYSBwcm92aWRlciwgZGVyaXZlIG1vZGVsIGxpc3QgZnJvbSBoeWRyYXRlZCBzZXR0aW5ncyBhbmQgc2hvdyBhdmFpbGFiaWxpdHktYXdhcmUgbGFiZWxzXHJcblx0XHRpZiAocHJvdmlkZXIgPT09ICdvbGxhbWEnKSB7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0Ly8gTmFtZXMgdG8gY2hlY2sgYW5kIHNldHRpbmdzIG1ldGFkYXRhXHJcblx0XHRcdFx0Y29uc3QgcmVxdWVzdGVkTmFtZXMgPSB0aGlzLm9sbGFtYVNldHRpbmdzLmdldE9sbGFtYUVtYmVkZGluZ01vZGVsTmFtZXNGcm9tU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRjb25zdCBzZXR0aW5nc01vZGVscyA9IHRoaXMub2xsYW1hU2V0dGluZ3MuZ2V0T2xsYW1hRW1iZWRkaW5nTW9kZWxzRnJvbVNldHRpbmdzKCk7XHJcblxyXG5cdFx0XHRcdC8vIFF1ZXJ5IGF2YWlsYWJpbGl0eSBmb3IgcmVxdWVzdGVkIG1vZGVsc1xyXG5cdFx0XHRcdGNvbnN0IHdpdGhTdGF0dXMgPSBhd2FpdCB0aGlzLm9sbGFtYVNldHRpbmdzLmdldE9sbGFtYVNlcnZpY2UoKS5nZXRFbWJlZGRpbmdNb2RlbHNXaXRoU3RhdHVzKHJlcXVlc3RlZE5hbWVzKSB8fCBbXTtcclxuXHRcdFx0XHRjb25zdCBzdGF0dXNNYXAgPSBuZXcgTWFwPHN0cmluZywgYm9vbGVhbj4oKTtcclxuXHRcdFx0XHRmb3IgKGNvbnN0IHMgb2Ygd2l0aFN0YXR1cykgc3RhdHVzTWFwLnNldChzLm5hbWUsICEhcy5hdmFpbGFibGUpO1xyXG5cclxuXHRcdFx0XHQvLyBBZGQgc2V0dGluZ3MgbW9kZWxzIGZpcnN0IChyZWNvbW1lbmRlZC1maXJzdCBvcmRlcmluZyBoYW5kbGVkIGJ5IGdldHRlcilcclxuXHRcdFx0XHRmb3IgKGNvbnN0IG1vZGVsIG9mIHNldHRpbmdzTW9kZWxzKSB7XHJcblx0XHRcdFx0XHRjb25zdCBpc0F2YWlsYWJsZSA9IHN0YXR1c01hcC5nZXQobW9kZWwubmFtZSkgfHwgZmFsc2U7XHJcblx0XHRcdFx0XHRjb25zdCBkaW1zID0gdHlwZW9mIG1vZGVsLmRpbWVuc2lvbnMgPT09ICdudW1iZXInID8gbW9kZWwuZGltZW5zaW9ucyA6ICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5vbGxhbWFFbWJlZGRpbmdEaW0gfHwgNzY4KTtcclxuXHRcdFx0XHRcdGNvbnN0IGRlc2MgPSBtb2RlbC5kZXNjcmlwdGlvbiB8fCAnJztcclxuXHRcdFx0XHRcdGNvbnN0IHNob3J0RGVzYyA9IGRlc2MubGVuZ3RoID4gMzUgPyBkZXNjLnN1YnN0cmluZygwLCAzNSkgKyAnLi4uJyA6IGRlc2M7XHJcblx0XHRcdFx0XHRjb25zdCBkaXNwbGF5TmFtZSA9IGAke21vZGVsLm5hbWV9ICgke2RpbXN9ZCkgLSAke3Nob3J0RGVzY31gO1xyXG5cdFx0XHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKG1vZGVsLm5hbWUsIGRpc3BsYXlOYW1lKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIE9wdGlvbmFsbHkgYXBwZW5kIGFueSBleHRyYSBkZXRlY3RlZCBlbWJlZGRpbmctbGlrZSBtb2RlbHMgbm90IGluIHNldHRpbmdzXHJcblx0XHRcdFx0Ly8gU2tpcHBlZCBoZXJlIHRvIGF2b2lkIG1pc2NsYXNzaWZ5aW5nIG5vbi1lbWJlZGRpbmcgbW9kZWxzOyBlbmhhbmNlZCBVSSBoYW5kbGVzIGRldGVjdGlvbiArIGljb25zLlxyXG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tTRVRUSU5HU10gRmFpbGVkIHRvIGxvYWQgT2xsYW1hIGVtYmVkZGluZyBtb2RlbHMnLCB7IGVycm9yIH0pO1xyXG5cdFx0XHRcdC8vIEZhbGxiYWNrIHRvIHNldHRpbmdzIG1vZGVscyBvbmx5XHJcblx0XHRcdFx0Y29uc3Qgc2V0dGluZ3NNb2RlbHMgPSB0aGlzLm9sbGFtYVNldHRpbmdzLmdldE9sbGFtYUVtYmVkZGluZ01vZGVsc0Zyb21TZXR0aW5ncygpO1xyXG5cdFx0XHRcdGZvciAoY29uc3QgbW9kZWwgb2Ygc2V0dGluZ3NNb2RlbHMpIHtcclxuXHRcdFx0XHRcdGNvbnN0IGRpbXMgPSB0eXBlb2YgbW9kZWwuZGltZW5zaW9ucyA9PT0gJ251bWJlcicgPyBtb2RlbC5kaW1lbnNpb25zIDogKHRoaXMucGx1Z2luLnNldHRpbmdzLm9sbGFtYUVtYmVkZGluZ0RpbSB8fCA3NjgpO1xyXG5cdFx0XHRcdFx0Y29uc3QgZGVzYyA9IG1vZGVsLmRlc2NyaXB0aW9uIHx8ICcnO1xyXG5cdFx0XHRcdFx0Y29uc3Qgc2hvcnREZXNjID0gZGVzYy5sZW5ndGggPiA0MCA/IGRlc2Muc3Vic3RyaW5nKDAsIDQwKSArICcuLi4nIDogZGVzYztcclxuXHRcdFx0XHRcdGNvbnN0IGRpc3BsYXlOYW1lID0gYCR7bW9kZWwubmFtZX0gKCR7ZGltc31kKSAtICR7c2hvcnREZXNjfWA7XHJcblx0XHRcdFx0XHRkcm9wZG93bi5hZGRPcHRpb24obW9kZWwubmFtZSwgZGlzcGxheU5hbWUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gRm9yIG90aGVyIHByb3ZpZGVycywgdXNlIHN0YW5kYXJkIG1vZGVsIGxpc3RcclxuXHRcdFx0bW9kZWxPcHRpb25zLmZvckVhY2goKG1vZGVsOiBzdHJpbmcpID0+IGRyb3Bkb3duLmFkZE9wdGlvbihtb2RlbCwgbW9kZWwpKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgYWRkRW5oYW5jZWRFbWJlZGRpbmdNb2RlbFNldHRpbmcoY29udGVudDogSFRNTEVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdC8vIEZvciBPbGxhbWEgcHJvdmlkZXIsIGNyZWF0ZSBlbmhhbmNlZCBkcm9wZG93biB3aXRoIGNsaWNrYWJsZSBhdmFpbGFiaWxpdHkgaW5kaWNhdG9yc1xyXG5cdFx0aWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmVtYmVkZGVyUHJvdmlkZXIgPT09ICdvbGxhbWEnKSB7XHJcblx0XHRcdGNvbnN0IHNldHRpbmcgPSBuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHRcdC5zZXROYW1lKCdFbWJlZGRpbmcgTW9kZWwnIClcclxuXHRcdFx0XHQuc2V0RGVzYygnTW9kZWwgZm9yIGdlbmVyYXRpbmcgZW1iZWRkaW5ncyB3aXRoIGF2YWlsYWJpbGl0eSBjaGVja2luZycpO1xyXG5cclxuXHRcdFx0bGV0IGRyb3Bkb3duOiBhbnk7XHJcblx0XHRcdGxldCBzdGF0dXNDb250YWluZXI6IEhUTUxFbGVtZW50O1xyXG5cclxuXHRcdFx0c2V0dGluZy5hZGREcm9wZG93bihhc3luYyAoZHJvcGRvd25Db21wb25lbnQpID0+IHtcclxuXHRcdFx0XHRkcm9wZG93biA9IGRyb3Bkb3duQ29tcG9uZW50O1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MucG9wdWxhdGVPbGxhbWFNb2RlbHNXaXRoU3RhdHVzKGRyb3Bkb3duKTtcclxuXHJcblx0XHRcdFx0ZHJvcGRvd24uc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZW1iZWRkaW5nTW9kZWwpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlOiBzdHJpbmcpID0+IHtcclxuXHRcdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0XHQvLyBDaGVjayBpZiB0aGlzIGlzIGNoYW5naW5nIGZyb20gYSBwcmV2aW91c2x5IHNldCBlbWJlZGRpbmcgbW9kZWxcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBoYXNDaGFuZ2VkID0gYXdhaXQgdGhpcy5wbHVnaW4udmF1bHRSZWdpc3RyeVNlcnZpY2UuaGFzRW1iZWRkaW5nTW9kZWxDaGFuZ2VkKFxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUsXHJcblx0XHRcdFx0XHRcdFx0XHRTdHJpbmcodGhpcy5wbHVnaW4uc2V0dGluZ3Mub2xsYW1hRW1iZWRkaW5nRGltIHx8IDc2OClcclxuXHRcdFx0XHRcdFx0XHQpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRpZiAoaGFzQ2hhbmdlZCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShcIllvdSBhcmUgY2hhbmdpbmcgdGhlIGVtYmVkZGluZyBtb2RlbCBmb3IgdGhpcyB2YXVsdC4gWW91IG11c3QgY2xlYXIgdGhlIGRhdGFiYXNlIHRvIGF2b2lkIGNvbmZsaWN0cy5cIik7XHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXIud2FybihcIltTRVRUSU5HU10gRW1iZWRkaW5nIG1vZGVsIGNoYW5nZSBkZXRlY3RlZFwiLCB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdG5ld01vZGVsOiB2YWx1ZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0bmV3RGltZW5zaW9uczogdGhpcy5wbHVnaW4uc2V0dGluZ3Mub2xsYW1hRW1iZWRkaW5nRGltIHx8IDc2OFxyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRpbmdNb2RlbCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHQvLyBVcGRhdGUgdmF1bHQgcmVnaXN0cnkgd2l0aCBuZXcgZW1iZWRkaW5nIG1vZGVsIGluY2x1ZGluZyBwcm92aWRlclxyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1tPTExBTUEtRU1CRURESU5HLU1PREVMLUNIQU5HRV0gVXBkYXRpbmcgdmF1bHQgcmVnaXN0cnkgZnJvbSBPbGxhbWEgbW9kZWwgZHJvcGRvd24nLCB7XHJcblx0XHRcdFx0XHRcdFx0XHRtb2RlbDogdmFsdWUsXHJcblx0XHRcdFx0XHRcdFx0XHRkaW1lbnNpb25zOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5vbGxhbWFFbWJlZGRpbmdEaW0gfHwgNzY4LFxyXG5cdFx0XHRcdFx0XHRcdFx0cHJvdmlkZXI6ICdvbGxhbWEnLFxyXG5cdFx0XHRcdFx0XHRcdFx0dmF1bHROYW1lOiB0aGlzLmFwcC52YXVsdC5nZXROYW1lKClcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi52YXVsdFJlZ2lzdHJ5U2VydmljZS51cGRhdGVWYXVsdEVtYmVkZGluZ01vZGVsKFxyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5hcHAudmF1bHQuZ2V0TmFtZSgpLFxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUsXHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5vbGxhbWFFbWJlZGRpbmdEaW0gfHwgNzY4LFxyXG5cdFx0XHRcdFx0XHRcdFx0J29sbGFtYSdcclxuXHRcdFx0XHRcdFx0XHQpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHQvLyBVcGRhdGUgc3RhdHVzIGljb24gZm9yIHRoZSBzZWxlY3RlZCBtb2RlbCB3aXRob3V0IHRyaWdnZXJpbmcgZG93bmxvYWRzXHJcblx0XHRcdFx0XHRcdFx0aWYgKHZhbHVlKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLm9sbGFtYVNldHRpbmdzLnVwZGF0ZU1vZGVsU3RhdHVzSWNvbkZvckRyb3Bkb3duKHN0YXR1c0NvbnRhaW5lciwgJ2VtYmVkZGluZycsIHZhbHVlKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyLmVycm9yKFwiW1NFVFRJTkdTXSBFcnJvciBoYW5kbGluZyBPbGxhbWEgZW1iZWRkaW5nIG1vZGVsIGNoYW5nZVwiLCB7IGVycm9yIH0pO1xyXG5cdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoXCJFcnJvciBjaGVja2luZyBlbWJlZGRpbmcgbW9kZWwgY29uZmlndXJhdGlvblwiKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gQWRkIHN0YXR1cyBjb250YWluZXIgZm9yIGRvd25sb2FkIHByb2dyZXNzIGFuZCBjbGlja2FibGUgaWNvbnNcclxuXHRcdFx0c3RhdHVzQ29udGFpbmVyID0gc2V0dGluZy5zZXR0aW5nRWwuY3JlYXRlRGl2KCk7XHJcblx0XHRcdHN0YXR1c0NvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gYFxyXG5cdFx0XHRcdG1hcmdpbi10b3A6IDhweDtcclxuXHRcdFx0XHRwYWRkaW5nOiA4cHg7XHJcblx0XHRcdFx0Ym9yZGVyLXJhZGl1czogNHB4O1xyXG5cdFx0XHRcdGZvbnQtc2l6ZTogMC45ZW07XHJcblx0XHRcdGA7XHJcblxyXG5cdFx0XHQvLyBJbml0aWFsIHN0YXR1cyBpY29uIHVwZGF0ZVxyXG5cdFx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuZW1iZWRkaW5nTW9kZWwpIHtcclxuXHRcdFx0XHRzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MudXBkYXRlTW9kZWxTdGF0dXNJY29uRm9yRHJvcGRvd24oc3RhdHVzQ29udGFpbmVyLCAnZW1iZWRkaW5nJywgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZW1iZWRkaW5nTW9kZWwpO1xyXG5cdFx0XHRcdH0sIDEwMCk7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIFVzZSBzdGFuZGFyZCBlbWJlZGRpbmcgbW9kZWwgZHJvcGRvd24gZm9yIG5vbi1PbGxhbWEgcHJvdmlkZXJzXHJcblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdFx0LnNldE5hbWUoJ0VtYmVkZGluZyBNb2RlbCcgKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdNb2RlbCBmb3IgZ2VuZXJhdGluZyBlbWJlZGRpbmdzJylcclxuXHRcdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wb3B1bGF0ZUVtYmVkZGluZ01vZGVscyhkcm9wZG93biwgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlcik7XHJcblx0XHRcdFx0XHRkcm9wZG93bi5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRpbmdNb2RlbClcclxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdC8vIENoZWNrIGZvciBlbWJlZGRpbmcgbW9kZWwgY2hhbmdlcyB1c2luZyBWYXVsdFJlZ2lzdHJ5U2VydmljZVxyXG5cdFx0XHRcdFx0XHRcdGlmICh0aGlzLnBsdWdpbi52YXVsdFJlZ2lzdHJ5U2VydmljZSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgaGFzQ2hhbmdlZCA9IGF3YWl0IHRoaXMucGx1Z2luLnZhdWx0UmVnaXN0cnlTZXJ2aWNlLmhhc0VtYmVkZGluZ01vZGVsQ2hhbmdlZChcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRTdHJpbmcodGhpcy5wbHVnaW4uc2V0dGluZ3Mub2xsYW1hRW1iZWRkaW5nRGltIHx8IDc2OClcclxuXHRcdFx0XHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGhhc0NoYW5nZWQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdZb3UgYXJlIGNoYW5naW5nIHRoZSBlbWJlZGRpbmcgbW9kZWwgZm9yIHRoaXMgdmF1bHQuIFlvdSBtdXN0IGNsZWFyIHRoZSBkYXRhYmFzZSB0byBhdm9pZCBjb25mbGljdHMuJyk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy53YXJuKCdbRU1CRURESU5HLVdBUk5JTkddIEVtYmVkZGluZyBtb2RlbCBjaGFuZ2VkIGZvciB2YXVsdCcsIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9sZE1vZGVsOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRpbmdNb2RlbCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG5ld01vZGVsOiB2YWx1ZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhdWx0TmFtZTogdGhpcy5hcHAudmF1bHQuZ2V0TmFtZSgpXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tFTUJFRERJTkctV0FSTklOR10gRmFpbGVkIHRvIGNoZWNrIGVtYmVkZGluZyBtb2RlbCBjaGFuZ2VzJywgeyBlcnJvciB9KTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmVtYmVkZGluZ01vZGVsID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdC8vIFVwZGF0ZSB2YXVsdCByZWdpc3RyeSB3aXRoIG5ldyBlbWJlZGRpbmcgbW9kZWwgZm9yIG5vbi1PbGxhbWEgcHJvdmlkZXJzXHJcblx0XHRcdFx0XHRcdFx0aWYgKHRoaXMucGx1Z2luLnZhdWx0UmVnaXN0cnlTZXJ2aWNlKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zdCB2YXVsdE5hbWUgPSB0aGlzLmFwcC52YXVsdC5nZXROYW1lKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1tOT04tT0xMQU1BLUVNQkVERElORy1NT0RFTC1DSEFOR0VdIFVwZGF0aW5nIHZhdWx0IHJlZ2lzdHJ5IGZyb20gZW1iZWRkaW5nIG1vZGVsIGRyb3Bkb3duJywge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1vZGVsOiB2YWx1ZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRkaW1lbnNpb25zOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5vbGxhbWFFbWJlZGRpbmdEaW0gfHwgNzY4LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHByb3ZpZGVyOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRlclByb3ZpZGVyLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhdWx0TmFtZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4udmF1bHRSZWdpc3RyeVNlcnZpY2UudXBkYXRlVmF1bHRFbWJlZGRpbmdNb2RlbChcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXVsdE5hbWUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFsdWUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mub2xsYW1hRW1iZWRkaW5nRGltIHx8IDc2OCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRlclByb3ZpZGVyXHJcblx0XHRcdFx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdbTk9OLU9MTEFNQS1FTUJFRERJTkctTU9ERUxdIEZhaWxlZCB0byB1cGRhdGUgdmF1bHQgcmVnaXN0cnknLCB7IGVycm9yLCBtb2RlbDogdmFsdWUgfSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgcG9wdWxhdGVPbGxhbWFNb2RlbHNXaXRoU3RhdHVzKGRyb3Bkb3duOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MucG9wdWxhdGVPbGxhbWFNb2RlbHNXaXRoU3RhdHVzKGRyb3Bkb3duKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgaGFuZGxlT2xsYW1hTW9kZWxTZWxlY3Rpb24obW9kZWxOYW1lOiBzdHJpbmcsIHN0YXR1c0NvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MuaGFuZGxlT2xsYW1hTW9kZWxTZWxlY3Rpb24obW9kZWxOYW1lLCBzdGF0dXNDb250YWluZXIpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBkb3dubG9hZE9sbGFtYU1vZGVsV2l0aFByb2dyZXNzKG1vZGVsTmFtZTogc3RyaW5nLCBzdGF0dXNDb250YWluZXI6IEhUTUxFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRhd2FpdCB0aGlzLm9sbGFtYVNldHRpbmdzLmRvd25sb2FkT2xsYW1hTW9kZWxXaXRoUHJvZ3Jlc3MobW9kZWxOYW1lLCBzdGF0dXNDb250YWluZXIpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBpc09sbGFtYU1vZGVsSW5zdGFsbGVkKG1vZGVsTmFtZTogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcblx0XHRyZXR1cm4gYXdhaXQgdGhpcy5vbGxhbWFTZXR0aW5ncy5pc09sbGFtYU1vZGVsSW5zdGFsbGVkKG1vZGVsTmFtZSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIHVwZGF0ZUxMTU1vZGVsU3RhdHVzSWNvbihjb250YWluZXJFbDogSFRNTEVsZW1lbnQsIG1vZGVsTmFtZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRhd2FpdCB0aGlzLm9sbGFtYVNldHRpbmdzLnVwZGF0ZU1vZGVsU3RhdHVzSWNvbkZvckRyb3Bkb3duKGNvbnRhaW5lckVsLCAnbGxtX3NtYWxsJywgbW9kZWxOYW1lKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgYWRkQ3VzdG9tTExNTW9kZWxFbnRyeShjb250ZW50OiBIVE1MRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0Y29uc3QgY3VzdG9tTW9kZWxTZXR0aW5nID0gbmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0N1c3RvbSBMTE0gTW9kZWwnIClcclxuXHRcdFx0LnNldERlc2MoJ0Rvd25sb2FkIGFueSBPbGxhbWEgTExNIG1vZGVsIGJ5IG5hbWUgKGUuZy4sIGxsYW1hMy4yOjNiLCBjb2RlbGxhbWE6MTNiKScpO1xyXG5cclxuXHRcdGxldCBtb2RlbElucHV0OiBIVE1MSW5wdXRFbGVtZW50O1xyXG5cdFx0bGV0IGRvd25sb2FkQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHRcdGxldCBzdGF0dXNDb250YWluZXI6IEhUTUxFbGVtZW50O1xyXG5cclxuXHRcdC8vIEFkZCB0ZXh0IGlucHV0IGZvciBtb2RlbCBuYW1lXHJcblx0XHRjdXN0b21Nb2RlbFNldHRpbmcuYWRkVGV4dCh0ZXh0ID0+IHtcclxuXHRcdFx0bW9kZWxJbnB1dCA9IHRleHQuaW5wdXRFbDtcclxuXHRcdFx0dGV4dC5zZXRQbGFjZWhvbGRlcignRW50ZXIgbW9kZWwgbmFtZSAoZS5nLiwgbGxhbWEzLjI6M2IpJylcclxuXHRcdFx0XHQub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHQvLyBFbmFibGUvZGlzYWJsZSBkb3dubG9hZCBidXR0b24gYmFzZWQgb24gaW5wdXRcclxuXHRcdFx0XHRcdGlmIChkb3dubG9hZEJ1dHRvbikge1xyXG5cdFx0XHRcdFx0XHRkb3dubG9hZEJ1dHRvbi5kaXNhYmxlZCA9ICF2YWx1ZS50cmltKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBBZGQgZG93bmxvYWQgYnV0dG9uIHdpdGggaWNvblxyXG5cdFx0Y3VzdG9tTW9kZWxTZXR0aW5nLmFkZEJ1dHRvbihidXR0b24gPT4ge1xyXG5cdFx0XHRkb3dubG9hZEJ1dHRvbiA9IGJ1dHRvbi5idXR0b25FbDtcclxuXHRcdFx0YnV0dG9uLnNldEJ1dHRvblRleHQoJ+KshyBEb3dubG9hZCcpXHJcblx0XHRcdFx0LnNldFRvb2x0aXAoJ0Rvd25sb2FkIHRoaXMgbW9kZWwgZnJvbSBPbGxhbWEgcmVnaXN0cnknKVxyXG5cdFx0XHRcdC5zZXREaXNhYmxlZCh0cnVlKVxyXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IG1vZGVsTmFtZSA9IG1vZGVsSW5wdXQudmFsdWUudHJpbSgpO1xyXG5cdFx0XHRcdFx0aWYgKCFtb2RlbE5hbWUpIHtcclxuXHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnW0VSUk9SXSBQbGVhc2UgZW50ZXIgYSBtb2RlbCBuYW1lJyk7XHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHQvLyBDaGVjayBpZiBhbHJlYWR5IGF2YWlsYWJsZVxyXG5cdFx0XHRcdFx0XHRjb25zdCBpc0F2YWlsYWJsZSA9IGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MuaXNPbGxhbWFNb2RlbEluc3RhbGxlZChtb2RlbE5hbWUpO1xyXG5cdFx0XHRcdFx0XHRpZiAoaXNBdmFpbGFibGUpIHtcclxuXHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBbSU5GT10gTW9kZWwgJHttb2RlbE5hbWV9IGlzIGFscmVhZHkgaW5zdGFsbGVkYCk7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBTdGFydCBkb3dubG9hZCB1c2luZyBPbGxhbWFTZXR0aW5ncyBtZXRob2RcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5vbGxhbWFTZXR0aW5ncy5kb3dubG9hZE9sbGFtYU1vZGVsV2l0aFByb2dyZXNzKG1vZGVsTmFtZSwgc3RhdHVzQ29udGFpbmVyKTtcclxuXHJcblx0XHRcdFx0XHRcdC8vIFBlcnNpc3QgY3VzdG9tIG1vZGVsIGludG8gc2V0dGluZ3MgaWYgbm93IGluc3RhbGxlZFxyXG5cdFx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGluc3RhbGxlZCA9IGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MuaXNPbGxhbWFNb2RlbEluc3RhbGxlZChtb2RlbE5hbWUpO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChpbnN0YWxsZWQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MuYWRkQ3VzdG9tT2xsYW1hTExNVG9EZWZhdWx0cyhtb2RlbE5hbWUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0Ly8gUmVmcmVzaCBVSSB1c2luZyBPbGxhbWFTZXR0aW5ncyBtZXRob2RcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MucmVmcmVzaExMTURyb3Bkb3ducygpO1xyXG5cdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgW1NVQ0NFU1NdICR7bW9kZWxOYW1lfSBkb3dubG9hZGVkIGFuZCBhZGRlZCB0byBMTE0gbW9kZWxzLmApO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSBjYXRjaCAocGVyc2lzdEVycikge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8ud2FybignW0NVU1RPTS1MTE1dIFBvc3QtZG93bmxvYWQgYXZhaWxhYmlsaXR5IGNoZWNrIGZhaWxlZCcsIHsgZXJyb3I6IHBlcnNpc3RFcnIsIG1vZGVsTmFtZSB9KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0Ly8gQ2xlYXIgaW5wdXQgYWZ0ZXIgc3VjY2Vzc2Z1bCBkb3dubG9hZFxyXG5cdFx0XHRcdFx0XHRtb2RlbElucHV0LnZhbHVlID0gJyc7XHJcblx0XHRcdFx0XHRcdGRvd25sb2FkQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuXHJcblx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdbQ1VTVE9NLUxMTV0gRG93bmxvYWQgZmFpbGVkJywgeyBlcnJvciwgbW9kZWxOYW1lIH0pO1xyXG5cdFx0XHRcdFx0XHRjb25zdCBlcnJvck1zZyA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xyXG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBbRVJST1JdIEZhaWxlZCB0byBkb3dubG9hZCAke21vZGVsTmFtZX06ICR7ZXJyb3JNc2d9YCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBBZGQgc3RhdHVzIGNvbnRhaW5lciBmb3IgcHJvZ3Jlc3MgdHJhY2tpbmdcclxuXHRcdHN0YXR1c0NvbnRhaW5lciA9IGN1c3RvbU1vZGVsU2V0dGluZy5zZXR0aW5nRWwuY3JlYXRlRGl2KCk7XHJcblx0XHRzdGF0dXNDb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IGBcclxuXHRcdFx0bWFyZ2luLXRvcDogOHB4O1xyXG5cdFx0XHRwYWRkaW5nOiA4cHg7XHJcblx0XHRcdGJvcmRlci1yYWRpdXM6IDRweDtcclxuXHRcdFx0Zm9udC1zaXplOiAwLjllbTtcclxuXHRcdFx0bWluLWhlaWdodDogMjBweDtcclxuXHRcdGA7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIGFkZEN1c3RvbUVtYmVkZGluZ01vZGVsRW50cnkoY29udGVudDogSFRNTEVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGNvbnN0IGN1c3RvbU1vZGVsU2V0dGluZyA9IG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdDdXN0b20gRW1iZWRkaW5nIE1vZGVsJyApXHJcblx0XHRcdC5zZXREZXNjKCdEb3dubG9hZCBhbnkgT2xsYW1hIGVtYmVkZGluZyBtb2RlbCBieSBuYW1lIChlLmcuLCBub21pYy1lbWJlZC10ZXh0LCBteGJhaS1lbWJlZC1sYXJnZSknKTtcclxuXHJcblx0XHRsZXQgbW9kZWxJbnB1dDogSFRNTElucHV0RWxlbWVudDtcclxuXHRcdGxldCBkb3dubG9hZEJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblx0XHRsZXQgc3RhdHVzQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcclxuXHJcblx0XHQvLyBBZGQgdGV4dCBpbnB1dCBmb3IgbW9kZWwgbmFtZVxyXG5cdFx0Y3VzdG9tTW9kZWxTZXR0aW5nLmFkZFRleHQodGV4dCA9PiB7XHJcblx0XHRcdG1vZGVsSW5wdXQgPSB0ZXh0LmlucHV0RWw7XHJcblx0XHRcdHRleHQuc2V0UGxhY2Vob2xkZXIoJ0VudGVyIGVtYmVkZGluZyBtb2RlbCBuYW1lJylcclxuXHRcdFx0XHQub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHQvLyBFbmFibGUvZGlzYWJsZSBkb3dubG9hZCBidXR0b24gYmFzZWQgb24gaW5wdXRcclxuXHRcdFx0XHRcdGlmIChkb3dubG9hZEJ1dHRvbikge1xyXG5cdFx0XHRcdFx0XHRkb3dubG9hZEJ1dHRvbi5kaXNhYmxlZCA9ICF2YWx1ZS50cmltKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBBZGQgZG93bmxvYWQgYnV0dG9uIHdpdGggaWNvblxyXG5cdFx0Y3VzdG9tTW9kZWxTZXR0aW5nLmFkZEJ1dHRvbihidXR0b24gPT4ge1xyXG5cdFx0XHRkb3dubG9hZEJ1dHRvbiA9IGJ1dHRvbi5idXR0b25FbDtcclxuXHRcdFx0YnV0dG9uLnNldEJ1dHRvblRleHQoJ+KshyBEb3dubG9hZCcpXHJcblx0XHRcdFx0LnNldFRvb2x0aXAoJ0Rvd25sb2FkIHRoaXMgZW1iZWRkaW5nIG1vZGVsIGZyb20gT2xsYW1hIHJlZ2lzdHJ5JylcclxuXHRcdFx0XHQuc2V0RGlzYWJsZWQodHJ1ZSlcclxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBtb2RlbE5hbWUgPSBtb2RlbElucHV0LnZhbHVlLnRyaW0oKTtcclxuXHRcdFx0XHRcdGlmICghbW9kZWxOYW1lKSB7XHJcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoJ1tFUlJPUl0gUGxlYXNlIGVudGVyIGEgbW9kZWwgbmFtZScpO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0Ly8gQ2hlY2sgaWYgYWxyZWFkeSBhdmFpbGFibGVcclxuXHRcdFx0XHRcdFx0Y29uc3QgaXNBdmFpbGFibGUgPSBhd2FpdCB0aGlzLm9sbGFtYVNldHRpbmdzLmlzT2xsYW1hTW9kZWxJbnN0YWxsZWQobW9kZWxOYW1lKTtcclxuXHRcdFx0XHRcdFx0aWYgKGlzQXZhaWxhYmxlKSB7XHJcblx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgW0lORk9dIE1vZGVsICR7bW9kZWxOYW1lfSBpcyBhbHJlYWR5IGluc3RhbGxlZGApO1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0Ly8gU3RhcnQgZG93bmxvYWRcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5kb3dubG9hZE9sbGFtYU1vZGVsV2l0aFByb2dyZXNzKG1vZGVsTmFtZSwgc3RhdHVzQ29udGFpbmVyKTtcclxuXHJcblx0XHRcdFx0XHRcdC8vIFBlcnNpc3QgY3VzdG9tIGVtYmVkZGluZyBtb2RlbCBpbnRvIHNldHRpbmdzIGlmIG5vdyBpbnN0YWxsZWRcclxuXHRcdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBpbnN0YWxsZWQgPSBhd2FpdCB0aGlzLm9sbGFtYVNldHRpbmdzLmlzT2xsYW1hTW9kZWxJbnN0YWxsZWQobW9kZWxOYW1lKTtcclxuXHRcdFx0XHRcdFx0XHRpZiAoaW5zdGFsbGVkKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLm9sbGFtYVNldHRpbmdzLmFkZEN1c3RvbU9sbGFtYUVtYmVkZGluZ1RvRGVmYXVsdHMobW9kZWxOYW1lKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKHBlcnNpc3RFcnIpIHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/Lndhcm4oJ1tDVVNUT00tRU1CRURESU5HXSBQb3N0LWRvd25sb2FkIGF2YWlsYWJpbGl0eSBjaGVjayBmYWlsZWQnLCB7IGVycm9yOiBwZXJzaXN0RXJyLCBtb2RlbE5hbWUgfSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdC8vIENsZWFyIGlucHV0IGFmdGVyIHN1Y2Nlc3NmdWwgZG93bmxvYWRcclxuXHRcdFx0XHRcdFx0bW9kZWxJbnB1dC52YWx1ZSA9ICcnO1xyXG5cdFx0XHRcdFx0XHRkb3dubG9hZEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcblxyXG5cdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignW0NVU1RPTS1FTUJFRERJTkddIERvd25sb2FkIGZhaWxlZCcsIHsgZXJyb3IsIG1vZGVsTmFtZSB9KTtcclxuXHRcdFx0XHRcdFx0Y29uc3QgZXJyb3JNc2cgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcclxuXHRcdFx0XHRcdFx0bmV3IE5vdGljZShgW0VSUk9SXSBGYWlsZWQgdG8gZG93bmxvYWQgJHttb2RlbE5hbWV9OiAke2Vycm9yTXNnfWApO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gQWRkIHN0YXR1cyBjb250YWluZXIgZm9yIHByb2dyZXNzIHRyYWNraW5nXHJcblx0XHRzdGF0dXNDb250YWluZXIgPSBjdXN0b21Nb2RlbFNldHRpbmcuc2V0dGluZ0VsLmNyZWF0ZURpdigpO1xyXG5cdFx0c3RhdHVzQ29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgXHJcblx0XHRcdG1hcmdpbi10b3A6IDhweDtcclxuXHRcdFx0cGFkZGluZzogOHB4O1xyXG5cdFx0XHRib3JkZXItcmFkaXVzOiA0cHg7XHJcblx0XHRcdGZvbnQtc2l6ZTogMC45ZW07XHJcblx0XHRcdG1pbi1oZWlnaHQ6IDIwcHg7XHJcblx0XHRgO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyByZWZyZXNoT2xsYW1hRHJvcGRvd25BbmRTdGF0dXMoKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHQvLyBGb3JjZSBhIGRpc3BsYXkgcmVmcmVzaCB0byB1cGRhdGUgdGhlIGRyb3Bkb3duIHdpdGggbmV3IG1vZGVsIHN0YXR1c2VzXHJcblx0XHQvLyBUaGlzIGlzIGEgbGlnaHR3ZWlnaHQgYXBwcm9hY2ggdGhhdCByZWJ1aWxkcyB0aGUgc2V0dGluZ3MgVUlcclxuXHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdH1cclxuXHJcblxyXG5cdHByaXZhdGUgdXBkYXRlTExNRGVmYXVsdHMocHJvdmlkZXI6IHN0cmluZyk6IHZvaWQge1xyXG5cdFx0Y29uc3QgY2ZnOiBhbnkgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncyBhcyBhbnk7XHJcblx0XHRsZXQgcHJpbWFyeTogc3RyaW5nIHwgdW5kZWZpbmVkO1xyXG5cdFx0bGV0IHNtYWxsOiBzdHJpbmcgfCB1bmRlZmluZWQ7XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgbGxtU3JjID0gY2ZnPy5sbG1EZWZhdWx0cz8uW3Byb3ZpZGVyXTtcclxuXHRcdFx0aWYgKGxsbVNyYyAmJiB0eXBlb2YgbGxtU3JjID09PSAnb2JqZWN0Jykge1xyXG5cdFx0XHRcdGNvbnN0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhsbG1TcmMgYXMgUmVjb3JkPHN0cmluZywgYW55Pik7XHJcblx0XHRcdFx0Y29uc3QgcmVjb21tZW5kZWQgPSBlbnRyaWVzLmZpbmQoKFssIG1ldGFdKSA9PiBtZXRhICYmIG1ldGEucmVjb21tZW5kZWQpO1xyXG5cdFx0XHRcdHByaW1hcnkgPSAocmVjb21tZW5kZWQgJiYgcmVjb21tZW5kZWRbMF0pIHx8IE9iamVjdC5rZXlzKGxsbVNyYylbMF07XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW1NFVFRJTkdTXSBTZWxlY3RlZCBMTE0gZGVmYXVsdCBmcm9tIHBsdWdpbi5zZXR0aW5ncycsIHsgcHJvdmlkZXIsIG1vZGVsOiBwcmltYXJ5IH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCBzbWFsbFNyYyA9IGNmZz8ubGxtU21hbGxEZWZhdWx0cz8uW3Byb3ZpZGVyXTtcclxuXHRcdFx0aWYgKHNtYWxsU3JjICYmIHR5cGVvZiBzbWFsbFNyYyA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0XHRjb25zdCBlbnRyaWVzUyA9IE9iamVjdC5lbnRyaWVzKHNtYWxsU3JjIGFzIFJlY29yZDxzdHJpbmcsIGFueT4pO1xyXG5cdFx0XHRcdGNvbnN0IHJlY29tbWVuZGVkUyA9IGVudHJpZXNTLmZpbmQoKFssIG1ldGFdKSA9PiBtZXRhICYmIG1ldGEucmVjb21tZW5kZWQpO1xyXG5cdFx0XHRcdHNtYWxsID0gKHJlY29tbWVuZGVkUyAmJiByZWNvbW1lbmRlZFNbMF0pIHx8IE9iamVjdC5rZXlzKHNtYWxsU3JjKVswXTtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbU0VUVElOR1NdIFNlbGVjdGVkIExMTSBTbWFsbCBkZWZhdWx0IGZyb20gcGx1Z2luLnNldHRpbmdzJywgeyBwcm92aWRlciwgbW9kZWw6IHNtYWxsIH0pO1xyXG5cdFx0XHR9IGVsc2UgaWYgKCFzbWFsbCAmJiBjZmc/LmxsbURlZmF1bHRzPy5bcHJvdmlkZXJdKSB7XHJcblx0XHRcdFx0c21hbGwgPSBPYmplY3Qua2V5cyhjZmcubGxtRGVmYXVsdHNbcHJvdmlkZXJdKVswXTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy53YXJuKCdbU0VUVElOR1NdIEZhaWxlZCBkZXJpdmluZyBMTE0gZGVmYXVsdHMgZnJvbSBwbHVnaW4uc2V0dGluZ3MnLCB7IGVycm9yIH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghcHJpbWFyeSkge1xyXG5cdFx0XHRjb25zdCBkZWZhdWx0czogUmVjb3JkPHN0cmluZywgeyBtb2RlbDogc3RyaW5nOyBzbWFsbE1vZGVsPzogc3RyaW5nIH0+ID0ge1xyXG5cdFx0XHRcdG9wZW5haTogeyBtb2RlbDogJ2dwdC00bycsIHNtYWxsTW9kZWw6ICdncHQtNG8tbWluaScgfSxcclxuXHRcdFx0XHRhbnRocm9waWM6IHsgbW9kZWw6ICdjbGF1ZGUtc29ubmV0LTQtMjAyNTA1MTQnLCBzbWFsbE1vZGVsOiAnY2xhdWRlLTMtNS1oYWlrdS0yMDI0MTAyMicgfSxcclxuXHRcdFx0XHRnb29nbGU6IHsgbW9kZWw6ICdnZW1pbmktMi4wLWZsYXNoJywgc21hbGxNb2RlbDogJ2dlbWluaS0yLjAtZmxhc2gtZXhwJyB9LFxyXG5cdFx0XHRcdGF6dXJlOiB7IG1vZGVsOiAnZ3B0LTRvJywgc21hbGxNb2RlbDogJ2dwdC00by1taW5pJyB9LFxyXG5cdFx0XHRcdG9sbGFtYTogeyBtb2RlbDogJ2RlZXBzZWVrLXIxOjdiJywgc21hbGxNb2RlbDogJ2xsYW1hMy4xOjhiJyB9XHJcblx0XHRcdH07XHJcblx0XHRcdHByaW1hcnkgPSBkZWZhdWx0c1twcm92aWRlcl0/Lm1vZGVsO1xyXG5cdFx0XHRzbWFsbCA9IHNtYWxsIHx8IGRlZmF1bHRzW3Byb3ZpZGVyXT8uc21hbGxNb2RlbDtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW1NFVFRJTkdTXSBGYWxsaW5nIGJhY2sgdG8gaW50ZXJuYWwgTExNIGRlZmF1bHRzJywgeyBwcm92aWRlciwgbW9kZWw6IHByaW1hcnksIHNtYWxsIH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChwcmltYXJ5KSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1Nb2RlbCA9IHByaW1hcnk7XHJcblx0XHRpZiAoc21hbGwpIHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbVNtYWxsTW9kZWwgPSBzbWFsbDtcclxuXHJcblx0XHR0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdHRoaXMuZGlzcGxheSgpOyAvLyBSZWZyZXNoIHRvIHNob3cgdXBkYXRlZCBtb2RlbHNcclxuXHR9XHJcblxyXG5cdC8vIEBAdmVzc2VsLXByb3RvY29sOkJyYWdpIGdvdmVybnM6ZmVhdHVyZSBjb250ZXh0OkNyb3NzLWVuY29kZXIgcHJvdmlkZXIgY29uZmlndXJhdGlvbiBhbmQgbW9kZWwgc2VsZWN0aW9uXHJcblx0cHJpdmF0ZSB1cGRhdGVDcm9zc0VuY29kZXJEZWZhdWx0cyhwcm92aWRlcjogJ25vbmUnIHwgJ29wZW5haScgfCAnYmdlJyB8ICdnZW1pbmknKTogdm9pZCB7XHJcblx0XHQvLyBDbGVhciBtb2RlbCB3aGVuIHVzZXIgY2hvb3NlcyAnbm9uZScgb3IgJ2JnZScgKEJHRSBkb2Vzbid0IHVzZSBjb25maWd1cmFibGUgbW9kZWxzKVxyXG5cdFx0aWYgKHByb3ZpZGVyID09PSAnbm9uZScgfHwgcHJvdmlkZXIgPT09ICdiZ2UnKSB7XHJcblx0XHRcdCh0aGlzLnBsdWdpbi5zZXR0aW5ncyBhcyBhbnkpLmNyb3NzRW5jb2Rlck1vZGVsID0gdW5kZWZpbmVkO1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0dGhpcy5kaXNwbGF5KCk7IC8vIFJlZnJlc2ggdG8gY2xlYXIgbW9kZWwgZHJvcGRvd25cclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFByZWZlciB2YWx1ZXMgY29taW5nIGZyb20gaHlkcmF0ZWQgcGx1Z2luLnNldHRpbmdzLmxsbUNyb3NzRW5jb2RlckRlZmF1bHRzXHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCBjZmc6IGFueSA9IHRoaXMucGx1Z2luLnNldHRpbmdzIGFzIGFueTtcclxuXHRcdFx0Y29uc3Qgc3JjID0gY2ZnPy5sbG1Dcm9zc0VuY29kZXJEZWZhdWx0cz8uW3Byb3ZpZGVyXTtcclxuXHRcdFx0aWYgKHNyYyAmJiB0eXBlb2Ygc3JjID09PSAnb2JqZWN0Jykge1xyXG5cdFx0XHRcdC8vIElmIGEgcmVjb21tZW5kZWQgZW50cnkgZXhpc3RzLCBwaWNrIGl0OyBvdGhlcndpc2UgdXNlIHRoZSBmaXJzdCBrZXlcclxuXHRcdFx0XHRjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoc3JjIGFzIFJlY29yZDxzdHJpbmcsIGFueT4pO1xyXG5cdFx0XHRcdGNvbnN0IHJlY29tbWVuZGVkID0gZW50cmllcy5maW5kKChbLCBtZXRhXSkgPT4gbWV0YSAmJiBtZXRhLnJlY29tbWVuZGVkKTtcclxuXHRcdFx0XHRjb25zdCBjaG9zZW4gPSAocmVjb21tZW5kZWQgJiYgcmVjb21tZW5kZWRbMF0pIHx8IGVudHJpZXNbMF0/LlswXTtcclxuXHRcdFx0XHRpZiAoY2hvc2VuKSB7XHJcblx0XHRcdFx0XHQodGhpcy5wbHVnaW4uc2V0dGluZ3MgYXMgYW55KS5jcm9zc0VuY29kZXJNb2RlbCA9IGNob3NlbjtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1tTRVRUSU5HU10gU2VsZWN0ZWQgY3Jvc3MtZW5jb2RlciBkZWZhdWx0IGZyb20gcGx1Z2luLnNldHRpbmdzJywgeyBwcm92aWRlciwgbW9kZWw6IGNob3NlbiB9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8ud2FybignW1NFVFRJTkdTXSBGYWlsZWQgZGVyaXZpbmcgY3Jvc3MtZW5jb2RlciBkZWZhdWx0cyBmcm9tIHBsdWdpbi5zZXR0aW5ncycsIHsgZXJyb3IgfSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gRG8gTk9UIGludmVudCBwcm92aWRlci1zcGVjaWZpYyBkZWZhdWx0cyBoZXJlLiBJZiBub3RoaW5nIHdhcyBzZXQgYWJvdmUsXHJcblx0XHQvLyBsZWF2ZSBwbHVnaW4uc2V0dGluZ3MuY3Jvc3NFbmNvZGVyTW9kZWwgYXMtaXMgKHVzZXIgbWF5IHNldCBpdCBtYW51YWxseSkuXHJcblx0XHR0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdHRoaXMuZGlzcGxheSgpOyAvLyBSZWZyZXNoIHRvIHNob3cgdXBkYXRlZCBtb2RlbHNcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgcG9wdWxhdGVDcm9zc0VuY29kZXJNb2RlbHMoZHJvcGRvd246IGFueSwgcHJvdmlkZXI6ICdub25lJyB8ICdvcGVuYWknIHwgJ2JnZScgfCAnZ2VtaW5pJyk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0ZHJvcGRvd24uc2VsZWN0RWwuZW1wdHkoKTtcclxuXHJcblx0XHRpZiAocHJvdmlkZXIgPT09ICdub25lJykge1xyXG5cdFx0XHRkcm9wZG93bi5hZGRPcHRpb24oJycsICdObyByZXJhbmtpbmcgbW9kZWwgbmVlZGVkJyk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBQcmVmZXIgcmVhZGluZyBtb2RlbCBsaXN0cyBmcm9tIHBsdWdpbi5zZXR0aW5ncy5sbG1Dcm9zc0VuY29kZXJEZWZhdWx0cyAoaHlkcmF0ZWQgZnJvbSBkYXRhLmpzb24pXHJcblx0XHRsZXQgbW9kZWxPcHRpb25zOiBzdHJpbmdbXSA9IFtdO1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgY2ZnOiBhbnkgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncyBhcyBhbnk7XHJcblx0XHRcdGNvbnN0IHNyYyA9IGNmZz8ubGxtQ3Jvc3NFbmNvZGVyRGVmYXVsdHM/Lltwcm92aWRlcl07XHJcblx0XHRcdGlmIChzcmMgJiYgdHlwZW9mIHNyYyA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0XHRjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoc3JjIGFzIFJlY29yZDxzdHJpbmcsIGFueT4pO1xyXG5cdFx0XHRcdC8vIFJlY29tbWVuZGVkLWZpcnN0IG9yZGVyaW5nLCB0aGVuIGFscGhhYmV0aWNhbFxyXG5cdFx0XHRcdGVudHJpZXMuc29ydCgoYSwgYikgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgcmEgPSAoYVsxXSAmJiBhWzFdLnJlY29tbWVuZGVkKSA/IDEgOiAwO1xyXG5cdFx0XHRcdFx0Y29uc3QgcmIgPSAoYlsxXSAmJiBiWzFdLnJlY29tbWVuZGVkKSA/IDEgOiAwO1xyXG5cdFx0XHRcdFx0cmV0dXJuIHJiIC0gcmEgfHwgYVswXS5sb2NhbGVDb21wYXJlKGJbMF0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdG1vZGVsT3B0aW9ucyA9IGVudHJpZXMubWFwKChbbmFtZV0pID0+IG5hbWUpO1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1tTRVRUSU5HU10gVXNpbmcgbGxtQ3Jvc3NFbmNvZGVyRGVmYXVsdHMgZnJvbSBwbHVnaW4uc2V0dGluZ3MgZm9yICcgKyBwcm92aWRlciwgeyBjb3VudDogbW9kZWxPcHRpb25zLmxlbmd0aCB9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy53YXJuKCdbU0VUVElOR1NdIEZhaWxlZCByZWFkaW5nIGNyb3NzLWVuY29kZXIgZGVmYXVsdHMgZnJvbSBwbHVnaW4uc2V0dGluZ3MnLCB7IGVycm9yIH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIElmIHByb3ZpZGVyIGlzICdiZ2UnIGFuZCBubyBzZXR0aW5ncy1kcml2ZW4gbGlzdCBleGlzdHMsIHN0aWxsIGFsbG93IHRoZSB1c2VyIHRvIGVudGVyL2Nob29zZSBtYW51YWxseS5cclxuXHRcdC8vIERvIG5vdCBpbnZlbnQgaGFyZGNvZGVkIGRlZmF1bHRzIGhlcmU7IGxlYXZlIGRyb3Bkb3duIGVtcHR5IHNvIHBsdWdpbiBoeWRyYXRpb24gb3IgdXNlciBpbnB1dCBjb250cm9scyBzZWxlY3Rpb24uXHJcblx0XHRpZiAobW9kZWxPcHRpb25zLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHRkcm9wZG93bi5hZGRPcHRpb24oJycsIGBObyBtb2RlbHMgY29uZmlndXJlZCBmb3IgJHtwcm92aWRlcn1gKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdG1vZGVsT3B0aW9ucy5mb3JFYWNoKChtb2RlbDogc3RyaW5nKSA9PiB7XHJcblx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbihtb2RlbCwgbW9kZWwpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHVwZGF0ZUVtYmVkZGVyRGVmYXVsdHMocHJvdmlkZXI6IHN0cmluZyk6IHZvaWQge1xyXG5cdFx0Y29uc3QgY2ZnOiBhbnkgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncyBhcyBhbnk7XHJcblx0XHRsZXQgY2hvc2VuOiBzdHJpbmcgfCB1bmRlZmluZWQ7XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgZVNyYyA9IGNmZz8uZW1iZWRkaW5nRGVmYXVsdHM/Lltwcm92aWRlcl07XHJcblx0XHRcdGlmIChlU3JjICYmIHR5cGVvZiBlU3JjID09PSAnb2JqZWN0Jykge1xyXG5cdFx0XHRcdGNvbnN0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhlU3JjIGFzIFJlY29yZDxzdHJpbmcsIGFueT4pO1xyXG5cdFx0XHRcdGNvbnN0IHJlY29tbWVuZGVkID0gZW50cmllcy5maW5kKChbLCBtZXRhXSkgPT4gbWV0YSAmJiBtZXRhLnJlY29tbWVuZGVkKTtcclxuXHRcdFx0XHRjaG9zZW4gPSAocmVjb21tZW5kZWQgJiYgcmVjb21tZW5kZWRbMF0pIHx8IE9iamVjdC5rZXlzKGVTcmMpWzBdO1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1tTRVRUSU5HU10gU2VsZWN0ZWQgRW1iZWRkaW5nIGRlZmF1bHQgZnJvbSBwbHVnaW4uc2V0dGluZ3MnLCB7IHByb3ZpZGVyLCBtb2RlbDogY2hvc2VuIH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/Lndhcm4oJ1tTRVRUSU5HU10gRmFpbGVkIGRlcml2aW5nIGVtYmVkZGluZyBkZWZhdWx0cyBmcm9tIHBsdWdpbi5zZXR0aW5ncycsIHsgZXJyb3IgfSk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFjaG9zZW4pIHtcclxuXHRcdFx0Y29uc3QgZGVmYXVsdHM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XHJcblx0XHRcdFx0b3BlbmFpOiAndGV4dC1lbWJlZGRpbmctMy1zbWFsbCcsXHJcblx0XHRcdFx0Z29vZ2xlOiAndGV4dC1lbWJlZGRpbmctMDA0JyxcclxuXHRcdFx0XHR2b3lhZ2U6ICd2b3lhZ2UtMy41LWxpdGUnLFxyXG5cdFx0XHRcdG9sbGFtYTogJ25vbWljLWVtYmVkLXRleHQnXHJcblx0XHRcdH07XHJcblx0XHRcdGNob3NlbiA9IGRlZmF1bHRzW3Byb3ZpZGVyXTtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW1NFVFRJTkdTXSBGYWxsaW5nIGJhY2sgdG8gaW50ZXJuYWwgZW1iZWRkaW5nIGRlZmF1bHRzJywgeyBwcm92aWRlciwgbW9kZWw6IGNob3NlbiB9KTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoY2hvc2VuKSB7XHJcblx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmVtYmVkZGluZ01vZGVsID0gY2hvc2VuO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHR0aGlzLmRpc3BsYXkoKTsgLy8gUmVmcmVzaCB0byBzaG93IHVwZGF0ZWQgbW9kZWxzXHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIHRlc3RMTE1Db25uZWN0aW9uKGJ1dHRvbkVsOiBIVE1MRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0Y29uc3Qgb3JpZ2luYWxUZXh0ID0gYnV0dG9uRWwudGV4dENvbnRlbnQ7XHJcblx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9ICdUZXN0aW5nLi4uJztcclxuXHRcdGJ1dHRvbkVsLmFkZENsYXNzKCdpcy1sb2FkaW5nJyk7XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnVGVzdGluZyBMTE0gY29ubmVjdGlvbicpO1xyXG5cdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnBsdWdpbi5ncmFwaGl0aVNlcnZpY2UudGVzdExMTUNvbm5lY3Rpb24oKTtcclxuXHJcblx0XHRcdGlmIChyZXN1bHQuc3VjY2Vzcykge1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ0xMTSBjb25uZWN0aW9uIHRlc3Qgc3VjY2Vzc2Z1bCcsIHsgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UsIGxhdGVuY3k6IHJlc3VsdC5sYXRlbmN5IH0pO1xyXG5cdFx0XHRcdGNvbnN0IGxhdGVuY3lUZXh0ID0gcmVzdWx0LmxhdGVuY3kgPyBgICgke3Jlc3VsdC5sYXRlbmN5fW1zKWAgOiAnJztcclxuXHRcdFx0XHRuZXcgTm90aWNlKGBbU1VDQ0VTU10gTExNIGNvbm5lY3Rpb24gc3VjY2Vzc2Z1bCR7bGF0ZW5jeVRleHR9YCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignTExNIGNvbm5lY3Rpb24gdGVzdCBmYWlsZWQnLCB7IG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlIH0pO1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gTExNIGNvbm5lY3Rpb24gZmFpbGVkOiAke3Jlc3VsdC5tZXNzYWdlfWApO1xyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdMTE0gY29ubmVjdGlvbiB0ZXN0IGVycm9yJywgeyBlcnJvciB9KTtcclxuXHRcdFx0Y29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XHJcblx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gTExNIGNvbm5lY3Rpb24gZmFpbGVkOiAke2Vycm9yTWVzc2FnZX1gKTtcclxuXHRcdH0gZmluYWxseSB7XHJcblx0XHRcdGJ1dHRvbkVsLnRleHRDb250ZW50ID0gb3JpZ2luYWxUZXh0O1xyXG5cdFx0XHRidXR0b25FbC5yZW1vdmVDbGFzcygnaXMtbG9hZGluZycpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyB0ZXN0RW1iZWRkaW5nQ29ubmVjdGlvbihidXR0b25FbDogSFRNTEVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGNvbnN0IG9yaWdpbmFsVGV4dCA9IGJ1dHRvbkVsLnRleHRDb250ZW50O1xyXG5cdFx0YnV0dG9uRWwudGV4dENvbnRlbnQgPSAnVGVzdGluZy4uLic7XHJcblx0XHRidXR0b25FbC5hZGRDbGFzcygnaXMtbG9hZGluZycpO1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1Rlc3RpbmcgZW1iZWRkaW5nIGNvbm5lY3Rpb24nKTtcclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5wbHVnaW4uZ3JhcGhpdGlTZXJ2aWNlLnRlc3RFbWJlZGRpbmdDb25uZWN0aW9uKCk7XHJcblxyXG5cdFx0XHRpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdFbWJlZGRpbmcgY29ubmVjdGlvbiB0ZXN0IHN1Y2Nlc3NmdWwnLCB7IG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlLCBsYXRlbmN5OiByZXN1bHQubGF0ZW5jeSB9KTtcclxuXHRcdFx0XHRjb25zdCBsYXRlbmN5VGV4dCA9IHJlc3VsdC5sYXRlbmN5ID8gYCAoJHtyZXN1bHQubGF0ZW5jeX1tcylgIDogJyc7XHJcblx0XHRcdFx0bmV3IE5vdGljZShgW1NVQ0NFU1NdIEVtYmVkZGluZyBjb25uZWN0aW9uIHN1Y2Nlc3NmdWwke2xhdGVuY3lUZXh0fWApO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ0VtYmVkZGluZyBjb25uZWN0aW9uIHRlc3QgZmFpbGVkJywgeyBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSB9KTtcclxuXHRcdFx0XHRuZXcgTm90aWNlKGBbRVJST1JdIEVtYmVkZGluZyBjb25uZWN0aW9uIGZhaWxlZDogJHtyZXN1bHQubWVzc2FnZX1gKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignRW1iZWRkaW5nIGNvbm5lY3Rpb24gdGVzdCBlcnJvcicsIHsgZXJyb3IgfSk7XHJcblx0XHRcdGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xyXG5cdFx0XHRuZXcgTm90aWNlKGBbRVJST1JdIEVtYmVkZGluZyBjb25uZWN0aW9uIGZhaWxlZDogJHtlcnJvck1lc3NhZ2V9YCk7XHJcblx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9IG9yaWdpbmFsVGV4dDtcclxuXHRcdFx0YnV0dG9uRWwucmVtb3ZlQ2xhc3MoJ2lzLWxvYWRpbmcnKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgdGVzdFByb3ZpZGVyQ29tYmluYXRpb24oYnV0dG9uRWw6IEhUTUxFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRjb25zdCBvcmlnaW5hbFRleHQgPSBidXR0b25FbC50ZXh0Q29udGVudDtcclxuXHRcdGJ1dHRvbkVsLnRleHRDb250ZW50ID0gJ1Rlc3RpbmcuLi4nO1xyXG5cdFx0YnV0dG9uRWwuYWRkQ2xhc3MoJ2lzLWxvYWRpbmcnKTtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdUZXN0aW5nIHByb3ZpZGVyIGNvbWJpbmF0aW9uJyk7XHJcblx0XHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucGx1Z2luLmdyYXBoaXRpU2VydmljZS50ZXN0UHJvdmlkZXJDb21iaW5hdGlvbigpO1xyXG5cclxuXHRcdFx0aWYgKHJlc3VsdC5zdWNjZXNzKSB7XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnUHJvdmlkZXIgY29tYmluYXRpb24gdGVzdCBzdWNjZXNzZnVsJywgeyBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSwgbGF0ZW5jeTogcmVzdWx0LmxhdGVuY3kgfSk7XHJcblx0XHRcdFx0Y29uc3QgbGF0ZW5jeVRleHQgPSByZXN1bHQubGF0ZW5jeSA/IGAgKCR7cmVzdWx0LmxhdGVuY3l9bXMpYCA6ICcnO1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoYFtTVUNDRVNTXSBQcm92aWRlciBjb21iaW5hdGlvbiB3b3JraW5nJHtsYXRlbmN5VGV4dH1gKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdQcm92aWRlciBjb21iaW5hdGlvbiB0ZXN0IGZhaWxlZCcsIHsgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UgfSk7XHJcblx0XHRcdFx0bmV3IE5vdGljZShgW0VSUk9SXSBQcm92aWRlciBjb21iaW5hdGlvbiBmYWlsZWQ6ICR7cmVzdWx0Lm1lc3NhZ2V9YCk7XHJcblx0XHRcdH1cclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1Byb3ZpZGVyIGNvbWJpbmF0aW9uIHRlc3QgZXJyb3InLCB7IGVycm9yIH0pO1xyXG5cdFx0XHRjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcclxuXHRcdFx0bmV3IE5vdGljZShgW0VSUk9SXSBQcm92aWRlciBjb21iaW5hdGlvbiBmYWlsZWQ6ICR7ZXJyb3JNZXNzYWdlfWApO1xyXG5cdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0YnV0dG9uRWwudGV4dENvbnRlbnQgPSBvcmlnaW5hbFRleHQ7XHJcblx0XHRcdGJ1dHRvbkVsLnJlbW92ZUNsYXNzKCdpcy1sb2FkaW5nJyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIHRlc3RGdWxsUGlwZWxpbmUoYnV0dG9uRWw6IEhUTUxFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRjb25zdCBvcmlnaW5hbFRleHQgPSBidXR0b25FbC50ZXh0Q29udGVudDtcclxuXHRcdGJ1dHRvbkVsLnRleHRDb250ZW50ID0gJ1Rlc3RpbmcuLi4nO1xyXG5cdFx0YnV0dG9uRWwuYWRkQ2xhc3MoJ2lzLWxvYWRpbmcnKTtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnBsdWdpbi5ncmFwaGl0aVNlcnZpY2UudGVzdEZ1bGxQaXBlbGluZSgpO1xyXG5cclxuXHRcdFx0aWYgKHJlc3VsdC5zdWNjZXNzKSB7XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnRnVsbCBwaXBlbGluZSB0ZXN0IHN1Y2Nlc3NmdWwnLCB7IG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlLCBsYXRlbmN5OiByZXN1bHQubGF0ZW5jeSB9KTtcclxuXHRcdFx0XHRjb25zdCBsYXRlbmN5VGV4dCA9IHJlc3VsdC5sYXRlbmN5ID8gYCAoJHtyZXN1bHQubGF0ZW5jeX1tcylgIDogJyc7XHJcblx0XHRcdFx0bmV3IE5vdGljZShgW1NVQ0NFU1NdIEZ1bGwgcGlwZWxpbmUgdGVzdCBzdWNjZXNzZnVsJHtsYXRlbmN5VGV4dH1gKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdGdWxsIHBpcGVsaW5lIHRlc3QgZmFpbGVkJywgeyBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSB9KTtcclxuXHRcdFx0XHRuZXcgTm90aWNlKGBbRVJST1JdIEZ1bGwgcGlwZWxpbmUgdGVzdCBmYWlsZWQ6ICR7cmVzdWx0Lm1lc3NhZ2V9YCk7XHJcblx0XHRcdH1cclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ0Z1bGwgcGlwZWxpbmUgdGVzdCBlcnJvcicsIHsgZXJyb3IgfSk7XHJcblx0XHRcdGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xyXG5cdFx0XHRuZXcgTm90aWNlKGBbRVJST1JdIEZ1bGwgcGlwZWxpbmUgdGVzdCBmYWlsZWQ6ICR7ZXJyb3JNZXNzYWdlfWApO1xyXG5cdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0YnV0dG9uRWwudGV4dENvbnRlbnQgPSBvcmlnaW5hbFRleHQ7XHJcblx0XHRcdGJ1dHRvbkVsLnJlbW92ZUNsYXNzKCdpcy1sb2FkaW5nJyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIHZhbGlkYXRlQVBJS2V5cyhidXR0b25FbDogSFRNTEVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGNvbnN0IG9yaWdpbmFsVGV4dCA9IGJ1dHRvbkVsLnRleHRDb250ZW50O1xyXG5cdFx0YnV0dG9uRWwudGV4dENvbnRlbnQgPSAnVmFsaWRhdGluZy4uLic7XHJcblx0XHRidXR0b25FbC5hZGRDbGFzcygnaXMtbG9hZGluZycpO1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1ZhbGlkYXRpbmcgQVBJIGtleXMnKTtcclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5wbHVnaW4uZ3JhcGhpdGlTZXJ2aWNlLnZhbGlkYXRlQVBJS2V5cygpO1xyXG5cclxuXHRcdFx0aWYgKHJlc3VsdC5zdWNjZXNzKSB7XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnQVBJIGtleSB2YWxpZGF0aW9uIHN1Y2Nlc3NmdWwnLCB7IG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlIH0pO1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoYFtTVUNDRVNTXSBBUEkga2V5cyB2YWxpZDogJHtyZXN1bHQubWVzc2FnZX1gKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdBUEkga2V5IHZhbGlkYXRpb24gZmFpbGVkJywgeyBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSB9KTtcclxuXHRcdFx0XHRuZXcgTm90aWNlKGBbRVJST1JdIEFQSSBrZXkgdmFsaWRhdGlvbiBmYWlsZWQ6ICR7cmVzdWx0Lm1lc3NhZ2V9YCk7XHJcblx0XHRcdH1cclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ0FQSSBrZXkgdmFsaWRhdGlvbiBlcnJvcicsIHsgZXJyb3IgfSk7XHJcblx0XHRcdGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xyXG5cdFx0XHRuZXcgTm90aWNlKGBbRVJST1JdIEFQSSBrZXkgdmFsaWRhdGlvbiBmYWlsZWQ6ICR7ZXJyb3JNZXNzYWdlfWApO1xyXG5cdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0YnV0dG9uRWwudGV4dENvbnRlbnQgPSBvcmlnaW5hbFRleHQ7XHJcblx0XHRcdGJ1dHRvbkVsLnJlbW92ZUNsYXNzKCdpcy1sb2FkaW5nJyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHVwZGF0ZURhdGFiYXNlRGVmYXVsdHMoZGF0YWJhc2VUeXBlOiAnbmVvNGonIHwgJ2ZhbGtvcmRiJyk6IHZvaWQge1xyXG5cdFx0Ly8gVGhlIG5ldyBpbmRlcGVuZGVudCBjb25maWdzIG1lYW4gd2UgZG9uJ3QgbmVlZCB0byByZXNldCBkZWZhdWx0cyB3aGVuIHN3aXRjaGluZ1xyXG5cdFx0Ly8gRWFjaCBkYXRhYmFzZSB0eXBlIG1haW50YWlucyBpdHMgb3duIGNvbmZpZ3VyYXRpb25cclxuXHRcdHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0dGhpcy5kaXNwbGF5KCk7IC8vIFJlZnJlc2ggdGhlIGRpc3BsYXkgdG8gc2hvdyB0aGUgY29ycmVjdCBmaWVsZHNcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgdGVzdERhdGFiYXNlQ29ubmVjdGlvbihidXR0b25FbDogSFRNTEVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGNvbnN0IG9yaWdpbmFsVGV4dCA9IGJ1dHRvbkVsLnRleHRDb250ZW50O1xyXG5cdFx0YnV0dG9uRWwudGV4dENvbnRlbnQgPSAnVGVzdGluZy4uLic7XHJcblx0XHRidXR0b25FbC5hZGRDbGFzcygnaXMtbG9hZGluZycpO1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHQgdGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW0RBVEFCQVNFXSBUZXN0aW5nIGRhdGFiYXNlIGNvbm5lY3Rpb24uLi4nKTtcclxuXHRcdCBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnBsdWdpbi5ncmFwaGl0aVNlcnZpY2UudGVzdERhdGFiYXNlQ29ubmVjdGlvbigpO1xyXG5cclxuXHRcdCBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcclxuXHRcdCAgdGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW0RBVEFCQVNFXSBEYXRhYmFzZSBjb25uZWN0aW9uIHRlc3Qgc3VjY2Vzc2Z1bCcsIHsgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UsIGxhdGVuY3k6IHJlc3VsdC5sYXRlbmN5IH0pO1xyXG5cdFx0ICBjb25zdCBsYXRlbmN5VGV4dCA9IHJlc3VsdC5sYXRlbmN5ID8gYCAoJHtyZXN1bHQubGF0ZW5jeX1tcylgIDogJyc7XHJcblx0XHQgIG5ldyBOb3RpY2UoYFtTVUNDRVNTXSBEYXRhYmFzZSBjb25uZWN0aW9uIHN1Y2Nlc3NmdWwke2xhdGVuY3lUZXh0fWApO1xyXG5cdFx0IH0gZWxzZSB7XHJcblx0XHQgIHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tEQVRBQkFTRV0gRGF0YWJhc2UgY29ubmVjdGlvbiB0ZXN0IGZhaWxlZCcsIHsgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UgfSk7XHJcblx0XHQgIG5ldyBOb3RpY2UoYFtFUlJPUl0gRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQ6ICR7cmVzdWx0Lm1lc3NhZ2V9YCk7XHJcblx0XHQgfVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdCB0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdbREFUQUJBU0VdIERhdGFiYXNlIGNvbm5lY3Rpb24gdGVzdCBlcnJvcicsIHsgZXJyb3IgfSk7XHJcblx0XHQgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XHJcblx0XHQgbmV3IE5vdGljZShgW0VSUk9SXSBEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZDogJHtlcnJvck1lc3NhZ2V9YCk7XHJcblx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9IG9yaWdpbmFsVGV4dDtcclxuXHRcdFx0YnV0dG9uRWwucmVtb3ZlQ2xhc3MoJ2lzLWxvYWRpbmcnKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgaW5pdGlhbGl6ZURhdGFiYXNlU2NoZW1hKGJ1dHRvbkVsOiBIVE1MRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0Y29uc3Qgb3JpZ2luYWxUZXh0ID0gYnV0dG9uRWwudGV4dENvbnRlbnQ7XHJcblx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9ICdJbml0aWFsaXppbmcuLi4nO1xyXG5cdFx0YnV0dG9uRWwuYWRkQ2xhc3MoJ2lzLWxvYWRpbmcnKTtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0IHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1tEQVRBQkFTRV0gSW5pdGlhbGl6aW5nIGRhdGFiYXNlIHNjaGVtYS4uLicpO1xyXG5cdFx0IGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucGx1Z2luLmdyYXBoaXRpU2VydmljZS5pbml0aWFsaXplRGF0YWJhc2VTY2hlbWEoKTtcclxuXHJcblx0XHQgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XHJcblx0XHQgIHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1tEQVRBQkFTRV0gRGF0YWJhc2Ugc2NoZW1hIGluaXRpYWxpemF0aW9uIHN1Y2Nlc3NmdWwnLCB7IG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlIH0pO1xyXG5cdFx0ICBuZXcgTm90aWNlKGBbU1VDQ0VTU10gRGF0YWJhc2Ugc2NoZW1hIGluaXRpYWxpemVkIHN1Y2Nlc3NmdWxseWApO1xyXG5cdFx0IH0gZWxzZSB7XHJcblx0XHQgIHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tEQVRBQkFTRV0gRGF0YWJhc2Ugc2NoZW1hIGluaXRpYWxpemF0aW9uIGZhaWxlZCcsIHsgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UgfSk7XHJcblx0XHQgIG5ldyBOb3RpY2UoYFtFUlJPUl0gU2NoZW1hIGluaXRpYWxpemF0aW9uIGZhaWxlZDogJHtyZXN1bHQubWVzc2FnZX1gKTtcclxuXHRcdCB9XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0IHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tEQVRBQkFTRV0gRGF0YWJhc2Ugc2NoZW1hIGluaXRpYWxpemF0aW9uIGVycm9yJywgeyBlcnJvciB9KTtcclxuXHRcdCBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcclxuXHRcdCBuZXcgTm90aWNlKGBbRVJST1JdIFNjaGVtYSBpbml0aWFsaXphdGlvbiBmYWlsZWQ6ICR7ZXJyb3JNZXNzYWdlfWApO1xyXG5cdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0YnV0dG9uRWwudGV4dENvbnRlbnQgPSBvcmlnaW5hbFRleHQ7XHJcblx0XHRcdGJ1dHRvbkVsLnJlbW92ZUNsYXNzKCdpcy1sb2FkaW5nJyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIHRlc3RNQ1BDb25uZWN0aW9uKGJ1dHRvbkVsOiBIVE1MRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0Y29uc3Qgb3JpZ2luYWxUZXh0ID0gYnV0dG9uRWwudGV4dENvbnRlbnQ7XHJcblx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9ICdUZXN0aW5nLi4uJztcclxuXHRcdGJ1dHRvbkVsLmFkZENsYXNzKCdpcy1sb2FkaW5nJyk7XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdCB0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbTUNQXSBUZXN0aW5nIE1DUCBzZXJ2ZXIgY29ubmVjdGlvbi4uLicpO1xyXG5cdFx0IC8vIFRPRE86IEltcGxlbWVudCBhY3R1YWwgTUNQIHNlcnZlciBjb25uZWN0aW9uIHRlc3RcclxuXHRcdCBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCkpO1xyXG5cclxuXHRcdCBjb25zdCByZXN1bHQ6IENvbm5lY3Rpb25UZXN0UmVzdWx0ID0ge1xyXG5cdFx0ICBzdWNjZXNzOiB0cnVlLFxyXG5cdFx0ICBtZXNzYWdlOiAnTUNQIHNlcnZlciByZXNwb25kaW5nIFtNT0NLXScsXHJcblx0XHQgIGxhdGVuY3k6IDIzXHJcblx0XHQgfTtcclxuXHJcblx0XHQgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XHJcblx0XHQgIHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1tNQ1BdIE1DUCBzZXJ2ZXIgY29ubmVjdGlvbiB0ZXN0IHN1Y2Nlc3NmdWwnLCB7IG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlLCBsYXRlbmN5OiByZXN1bHQubGF0ZW5jeSB9KTtcclxuXHRcdCAgbmV3IE5vdGljZShgW1NVQ0NFU1NdIE1DUCBzZXJ2ZXIgY29ubmVjdGlvbiBzdWNjZXNzZnVsICgke3Jlc3VsdC5sYXRlbmN5fW1zKWApO1xyXG5cdFx0IH0gZWxzZSB7XHJcblx0XHQgIHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tNQ1BdIE1DUCBzZXJ2ZXIgY29ubmVjdGlvbiB0ZXN0IGZhaWxlZCcsIHsgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UgfSk7XHJcblx0XHQgIG5ldyBOb3RpY2UoYFtFUlJPUl0gTUNQIHNlcnZlciBjb25uZWN0aW9uIGZhaWxlZDogJHtyZXN1bHQubWVzc2FnZX1gKTtcclxuXHRcdCB9XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0IHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tNQ1BdIE1DUCBzZXJ2ZXIgY29ubmVjdGlvbiB0ZXN0IGVycm9yJywgeyBlcnJvciB9KTtcclxuXHRcdCBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcclxuXHRcdCBuZXcgTm90aWNlKGBbRVJST1JdIE1DUCBzZXJ2ZXIgY29ubmVjdGlvbiBmYWlsZWQ6ICR7ZXJyb3JNZXNzYWdlfWApO1xyXG5cdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0YnV0dG9uRWwudGV4dENvbnRlbnQgPSBvcmlnaW5hbFRleHQ7XHJcblx0XHRcdGJ1dHRvbkVsLnJlbW92ZUNsYXNzKCdpcy1sb2FkaW5nJyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIGV4cG9ydFNldHRpbmdzKCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3Qgc2V0dGluZ3NKc29uID0gSlNPTi5zdHJpbmdpZnkodGhpcy5wbHVnaW4uc2V0dGluZ3MsIG51bGwsIDIpO1xyXG5cdFx0XHRjb25zdCBibG9iID0gbmV3IEJsb2IoW3NldHRpbmdzSnNvbl0sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nIH0pO1xyXG5cdFx0XHRjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xyXG5cclxuXHRcdFx0Y29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuXHRcdFx0YS5ocmVmID0gdXJsO1xyXG5cdFx0XHRhLmRvd25sb2FkID0gJ2dyYXBoaXRpLXBsdWdpbi1zZXR0aW5ncy5qc29uJztcclxuXHRcdFx0YS5jbGljaygpO1xyXG5cclxuXHRcdFx0VVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xyXG5cdFx0XHRuZXcgTm90aWNlKCdbU1VDQ0VTU10gU2V0dGluZ3MgZXhwb3J0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcclxuXHRcdFx0bmV3IE5vdGljZShgW0VSUk9SXSBGYWlsZWQgdG8gZXhwb3J0IHNldHRpbmdzOiAke2Vycm9yTWVzc2FnZX1gKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgaW1wb3J0U2V0dGluZ3MoKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcblx0XHRcdGlucHV0LnR5cGUgPSAnZmlsZSc7XHJcblx0XHRcdGlucHV0LmFjY2VwdCA9ICcuanNvbic7XHJcblxyXG5cdFx0XHRpbnB1dC5vbmNoYW5nZSA9IGFzeW5jIChlKSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgZmlsZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS5maWxlcz8uWzBdO1xyXG5cdFx0XHRcdGlmICghZmlsZSkgcmV0dXJuO1xyXG5cclxuXHRcdFx0XHRjb25zdCB0ZXh0ID0gYXdhaXQgZmlsZS50ZXh0KCk7XHJcblx0XHRcdFx0Y29uc3QgaW1wb3J0ZWRTZXR0aW5ncyA9IEpTT04ucGFyc2UodGV4dCk7XHJcblxyXG5cdFx0XHRcdC8vIFZhbGlkYXRlIGltcG9ydGVkIHNldHRpbmdzIHN0cnVjdHVyZVxyXG5cdFx0XHRcdC8vIFRPRE86IEFkZCBwcm9wZXIgdmFsaWRhdGlvblxyXG5cclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncyA9IHsgLi4udGhpcy5wbHVnaW4uc2V0dGluZ3MsIC4uLmltcG9ydGVkU2V0dGluZ3MgfTtcclxuXHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR0aGlzLmRpc3BsYXkoKTsgLy8gUmVmcmVzaCB0aGUgZGlzcGxheVxyXG5cclxuXHRcdFx0XHRuZXcgTm90aWNlKCdbU1VDQ0VTU10gU2V0dGluZ3MgaW1wb3J0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRpbnB1dC5jbGljaygpO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Y29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XHJcblx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gRmFpbGVkIHRvIGltcG9ydCBzZXR0aW5nczogJHtlcnJvck1lc3NhZ2V9YCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIHJlc2V0VG9EZWZhdWx0cygpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGNvbnN0IGNvbmZpcm1lZCA9IGF3YWl0IHRoaXMuY29uZmlybVJlc2V0KCk7XHJcblx0XHRpZiAoIWNvbmZpcm1lZCkgcmV0dXJuO1xyXG5cclxuXHRcdGF3YWl0IHRoaXMucGx1Z2luLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0dGhpcy5kaXNwbGF5KCk7IC8vIFJlZnJlc2ggdGhlIGRpc3BsYXlcclxuXHRcdG5ldyBOb3RpY2UoJ1tJTkZPXSBTZXR0aW5ncyByZXNldCB0byBkZWZhdWx0cycpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBjb25maXJtUmVzZXQoKTogUHJvbWlzZTxib29sZWFuPiB7XHJcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuXHRcdFx0Y29uc3QgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdFx0bW9kYWwuY2xhc3NOYW1lID0gJ21vZGFsJztcclxuXHRcdFx0bW9kYWwuaW5uZXJIVE1MID0gYFxyXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJtb2RhbC1jb250YWluZXJcIj5cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtb2RhbC1iZ1wiPjwvZGl2PlxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxyXG5cdFx0XHRcdFx0XHRcdDxoMz5SZXNldCBTZXR0aW5nczwvaDM+XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPlxyXG5cdFx0XHRcdFx0XHRcdDxwPkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZXNldCBhbGwgc2V0dGluZ3MgdG8gdGhlaXIgZGVmYXVsdCB2YWx1ZXM/IFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUuPC9wPlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPlxyXG5cdFx0XHRcdFx0XHRcdDxidXR0b24gY2xhc3M9XCJtb2QtY3RhXCIgaWQ9XCJjb25maXJtLXJlc2V0XCI+UmVzZXQ8L2J1dHRvbj5cclxuXHRcdFx0XHRcdFx0XHQ8YnV0dG9uIGlkPVwiY2FuY2VsLXJlc2V0XCI+Q2FuY2VsPC9idXR0b24+XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdGA7XHJcblxyXG5cdFx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1vZGFsKTtcclxuXHJcblx0XHRcdGNvbnN0IGNvbmZpcm1CdG4gPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCcjY29uZmlybS1yZXNldCcpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG5cdFx0XHRjb25zdCBjYW5jZWxCdG4gPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCcjY2FuY2VsLXJlc2V0JykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblxyXG5cdFx0XHRjb25maXJtQnRuLm9uY2xpY2sgPSAoKSA9PiB7XHJcblx0XHRcdFx0ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChtb2RhbCk7XHJcblx0XHRcdFx0cmVzb2x2ZSh0cnVlKTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGNhbmNlbEJ0bi5vbmNsaWNrID0gKCkgPT4ge1xyXG5cdFx0XHRcdGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobW9kYWwpO1xyXG5cdFx0XHRcdHJlc29sdmUoZmFsc2UpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0bW9kYWwub25jbGljayA9IChlKSA9PiB7XHJcblx0XHRcdFx0aWYgKGUudGFyZ2V0ID09PSBtb2RhbCB8fCBlLnRhcmdldCA9PT0gbW9kYWwucXVlcnlTZWxlY3RvcignLm1vZGFsLWJnJykpIHtcclxuXHRcdFx0XHRcdGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobW9kYWwpO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZShmYWxzZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIGNoZWNrUHl0aG9uRGVwZW5kZW5jaWVzKGJ1dHRvbkVsOiBIVE1MRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0Y29uc3Qgb3JpZ2luYWxUZXh0ID0gYnV0dG9uRWwudGV4dENvbnRlbnQ7XHJcblx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9ICdDaGVja2luZy4uLic7XHJcblx0XHRidXR0b25FbC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ3RydWUnKTtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdDaGVja2luZyBQeXRob24gZGVwZW5kZW5jaWVzJyk7XHJcblx0XHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucGx1Z2luLmdyYXBoaXRpU2VydmljZS50ZXN0Q29ubmVjdGlvbigpO1xyXG5cclxuXHRcdFx0aWYgKHJlc3VsdC5zdWNjZXNzKSB7XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnUHl0aG9uIGRlcGVuZGVuY2llcyBjaGVjayBzdWNjZXNzZnVsJywgeyBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSB9KTtcclxuXHRcdFx0XHRuZXcgTm90aWNlKCdbU1VDQ0VTU10gUHl0aG9uIGRlcGVuZGVuY2llcyBhcmUgaW5zdGFsbGVkIGFuZCB1cCB0byBkYXRlJyk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignUHl0aG9uIGRlcGVuZGVuY2llcyBjaGVjayBmYWlsZWQnLCB7IG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlIH0pO1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gRGVwZW5kZW5jaWVzIG1pc3Npbmcgb3Igb3V0ZGF0ZWQ6ICR7cmVzdWx0Lm1lc3NhZ2V9YCwgNTAwMCk7XHJcblx0XHRcdH1cclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ0ZhaWxlZCB0byBjaGVjayBQeXRob24gZGVwZW5kZW5jaWVzJywgeyBlcnJvciB9KTtcclxuXHRcdFx0Y29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XHJcblx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gRmFpbGVkIHRvIGNoZWNrIGRlcGVuZGVuY2llczogJHtlcnJvck1lc3NhZ2V9YCwgNTAwMCk7XHJcblx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9IG9yaWdpbmFsVGV4dDtcclxuXHRcdFx0YnV0dG9uRWwucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyB2aWV3TG9nRmlsZSgpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdHRyeSB7XHJcblx0XHQgLy8gQHRzLWlnbm9yZSAtIGFjY2Vzc2luZyBpbnRlcm5hbCBBUElcclxuXHRcdCBjb25zdCBhZGFwdGVyID0gdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmFkYXB0ZXI7XHJcblx0XHQgLy8gQHRzLWlnbm9yZVxyXG5cdFx0IGNvbnN0IHZhdWx0UGF0aCA9IGFkYXB0ZXIuYmFzZVBhdGg7XHJcblx0XHQgY29uc3QgcGx1Z2luUGF0aCA9IGpvaW4odmF1bHRQYXRoLCAnLm9ic2lkaWFuJywgJ3BsdWdpbnMnLCAnbWVnYW1lbS1tY3AnKTtcclxuXHRcdCBjb25zdCBsb2dzRGlyID0gam9pbihwbHVnaW5QYXRoLCAnbG9ncycpO1xyXG5cclxuXHRcdCAvLyBPcGVuIHRoZSBsb2dzIGRpcmVjdG9yeSBpbiB0aGUgc3lzdGVtIGZpbGUgZXhwbG9yZXJcclxuXHRcdCBjb25zdCB7IHNoZWxsIH0gPSByZXF1aXJlKCdlbGVjdHJvbicpO1xyXG5cdFx0IHNoZWxsLm9wZW5QYXRoKGxvZ3NEaXIpO1xyXG5cclxuXHRcdCBuZXcgTm90aWNlKCdbSU5GT10gTG9nIGZpbGVzIGRpcmVjdG9yeSBvcGVuZWQgaW4gZmlsZSBleHBsb3JlcicpO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdCB0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdbTE9HU10gRmFpbGVkIHRvIG9wZW4gbG9nIGRpcmVjdG9yeScsIHsgZXJyb3IgfSk7XHJcblx0XHQgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XHJcblx0XHQgbmV3IE5vdGljZShgW0VSUk9SXSBGYWlsZWQgdG8gb3BlbiBsb2cgZGlyZWN0b3J5OiAke2Vycm9yTWVzc2FnZX1gKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgaW5zdGFsbFB5dGhvbkRlcGVuZGVuY2llcyhidXR0b25FbDogSFRNTEVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGNvbnN0IG9yaWdpbmFsVGV4dCA9IGJ1dHRvbkVsLnRleHRDb250ZW50O1xyXG5cdFx0YnV0dG9uRWwudGV4dENvbnRlbnQgPSAnSW5zdGFsbGluZy4uLic7XHJcblx0XHRidXR0b25FbC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ3RydWUnKTtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdJbnN0YWxsaW5nIFB5dGhvbiBkZXBlbmRlbmNpZXMnKTtcclxuXHJcblx0XHRcdC8vIEFkZCBwcm9ncmVzcyBjYWxsYmFjayB3aXRoIHJlYWwtdGltZSBVSSB1cGRhdGVzXHJcblx0XHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucGx1Z2luLmdyYXBoaXRpU2VydmljZS5pbnN0YWxsRGVwZW5kZW5jaWVzKChtZXNzYWdlOiBzdHJpbmcpID0+IHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdJbnN0YWxsYXRpb24gcHJvZ3Jlc3MnLCB7IG1lc3NhZ2UgfSk7XHJcblxyXG5cdFx0XHRcdC8vIFVwZGF0ZSBidXR0b24gdGV4dCB3aXRoIGN1cnJlbnQgcHJvZ3Jlc3NcclxuXHRcdFx0XHRjb25zdCBkaXNwbGF5TWVzc2FnZSA9IG1lc3NhZ2UubGVuZ3RoID4gMzAgPyBtZXNzYWdlLnN1YnN0cmluZygwLCAzMCkgKyAnLi4uJyA6IG1lc3NhZ2U7XHJcblx0XHRcdFx0YnV0dG9uRWwudGV4dENvbnRlbnQgPSBkaXNwbGF5TWVzc2FnZTtcclxuXHJcblx0XHRcdFx0Ly8gU2hvdyBwcm9ncmVzcyBub3RpY2UgKEFTQ0lJLW9ubHkpXHJcblx0XHRcdFx0bmV3IE5vdGljZShgW0lORk9dICR7bWVzc2FnZX1gLCAyMDAwKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdQeXRob24gZGVwZW5kZW5jaWVzIGluc3RhbGxhdGlvbiBzdWNjZXNzZnVsJywgeyBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSB9KTtcclxuXHRcdFx0XHRuZXcgTm90aWNlKCdbU1VDQ0VTU10gUHl0aG9uIGRlcGVuZGVuY2llcyBpbnN0YWxsZWQgc3VjY2Vzc2Z1bGx5JywgNTAwMCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignUHl0aG9uIGRlcGVuZGVuY2llcyBpbnN0YWxsYXRpb24gZmFpbGVkJywgeyBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSB9KTtcclxuXHRcdFx0XHRuZXcgTm90aWNlKGBbRVJST1JdIEluc3RhbGxhdGlvbiBmYWlsZWQ6ICR7cmVzdWx0Lm1lc3NhZ2V9YCwgODAwMCk7XHJcblx0XHRcdH1cclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ0ZhaWxlZCB0byBpbnN0YWxsIFB5dGhvbiBkZXBlbmRlbmNpZXMnLCB7IGVycm9yIH0pO1xyXG5cdFx0XHRjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcclxuXHRcdFx0bmV3IE5vdGljZShgW0VSUk9SXSBJbnN0YWxsYXRpb24gZmFpbGVkOiAke2Vycm9yTWVzc2FnZX1gLCA4MDAwKTtcclxuXHRcdH0gZmluYWxseSB7XHJcblx0XHRcdGJ1dHRvbkVsLnRleHRDb250ZW50ID0gb3JpZ2luYWxUZXh0O1xyXG5cdFx0XHRidXR0b25FbC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIHJ1bk1hbnVhbFN5bmNUZXN0KGJ1dHRvbkVsOiBIVE1MRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0Y29uc3Qgb3JpZ2luYWxUZXh0ID0gYnV0dG9uRWwudGV4dENvbnRlbnQ7XHJcblx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9ICdTZWxlY3RpbmcgTm90ZS4uLic7XHJcblx0XHRidXR0b25FbC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ3RydWUnKTtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHQvLyBHZXQgYWxsIG1hcmtkb3duIGZpbGVzIGluIHRoZSB2YXVsdFxyXG5cdFx0XHRjb25zdCBtYXJrZG93bkZpbGVzID0gdGhpcy5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xyXG5cclxuXHRcdFx0aWYgKG1hcmtkb3duRmlsZXMubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdFx0bmV3IE5vdGljZSgnW0lORk9dIE5vIG1hcmtkb3duIGZpbGVzIGZvdW5kIGluIHZhdWx0Jyk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBDcmVhdGUgYSBzaW1wbGUgZmlsZSBwaWNrZXIgbW9kYWxcclxuXHRcdFx0Y29uc3Qgbm90ZUZpbGUgPSBhd2FpdCB0aGlzLnNlbGVjdE5vdGVGb3JTeW5jKG1hcmtkb3duRmlsZXMpO1xyXG5cdFx0XHRpZiAoIW5vdGVGaWxlKSB7XHJcblx0XHRcdFx0bmV3IE5vdGljZSgnW0lORk9dIE5vIG5vdGUgc2VsZWN0ZWQgZm9yIHN5bmMgdGVzdCcpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0YnV0dG9uRWwudGV4dENvbnRlbnQgPSAnU3luY2luZy4uLic7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1N0YXJ0aW5nIG1hbnVhbCBzeW5jIHRlc3QgZm9yIG5vdGUnLCB7IHBhdGg6IG5vdGVGaWxlLnBhdGggfSk7XHJcblxyXG5cdFx0XHQvLyBHZXQgdGhlIGZ1bGwgZmlsZSBwYXRoXHJcblx0XHRcdGNvbnN0IGZ1bGxQYXRoID0gKHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIgYXMgYW55KS5wYXRoLnJlc29sdmUoXHJcblx0XHRcdFx0KHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIgYXMgYW55KS5iYXNlUGF0aCxcclxuXHRcdFx0XHRub3RlRmlsZS5wYXRoXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0XHQvLyBSdW4gdGhlIG1hbnVhbCBzeW5jIHRlc3RcclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5wbHVnaW4uZ3JhcGhpdGlTZXJ2aWNlLnRlc3RNYW51YWxTeW5jKGZ1bGxQYXRoKTtcclxuXHJcblx0XHRcdGlmIChyZXN1bHQuc3RhdHVzID09PSAnc3VjY2VzcycpIHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdNYW51YWwgc3luYyB0ZXN0IHN1Y2Nlc3NmdWwnLCByZXN1bHQpO1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoYFtTVUNDRVNTXSBNYW51YWwgc3luYyBzdWNjZXNzZnVsISBQcm9jZXNzZWQgJHtyZXN1bHQucHJvY2Vzc2VkfSBub3RlKHMpLCAke3Jlc3VsdC5ub2RlVHlwZXNMb2FkZWR9IG5vZGUgdHlwZXMsICR7cmVzdWx0LmVkZ2VUeXBlc0xvYWRlZH0gZWRnZSB0eXBlc2AsIDgwMDApO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ01hbnVhbCBzeW5jIHRlc3QgZmFpbGVkJywgcmVzdWx0KTtcclxuXHRcdFx0XHRuZXcgTm90aWNlKGBbRVJST1JdIE1hbnVhbCBzeW5jIGZhaWxlZDogJHtyZXN1bHQubWVzc2FnZX1gLCA4MDAwKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignTWFudWFsIHN5bmMgdGVzdCBlcnJvcicsIHsgZXJyb3IgfSk7XHJcblx0XHRcdGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xyXG5cdFx0XHRuZXcgTm90aWNlKGBbRVJST1JdIE1hbnVhbCBzeW5jIHRlc3QgZmFpbGVkOiAke2Vycm9yTWVzc2FnZX1gLCA4MDAwKTtcclxuXHRcdH0gZmluYWxseSB7XHJcblx0XHRcdGJ1dHRvbkVsLnRleHRDb250ZW50ID0gb3JpZ2luYWxUZXh0O1xyXG5cdFx0XHRidXR0b25FbC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIHNlbGVjdE5vdGVGb3JTeW5jKG1hcmtkb3duRmlsZXM6IGFueVtdKTogUHJvbWlzZTxhbnk+IHtcclxuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG5cdFx0XHQvLyBDcmVhdGUgYSBzaW1wbGUgbW9kYWwgZm9yIGZpbGUgc2VsZWN0aW9uXHJcblx0XHRcdGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRcdG1vZGFsLmNsYXNzTmFtZSA9ICdtb2RhbCc7XHJcblx0XHRcdG1vZGFsLmlubmVySFRNTCA9IGBcclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwibW9kYWwtY29udGFpbmVyXCI+XHJcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibW9kYWwtYmdcIj48L2Rpdj5cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50XCI+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj5cclxuXHRcdFx0XHRcdFx0XHQ8aDM+U2VsZWN0IE5vdGUgZm9yIE1hbnVhbCBTeW5jIFRlc3Q8L2gzPlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj5cclxuXHRcdFx0XHRcdFx0XHQ8cD5DaG9vc2UgYSBub3RlIHRvIHRlc3QgdGhlIG1hbnVhbCBzeW5jIHByb2Nlc3M6PC9wPlxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgc3R5bGU9XCJtYXgtaGVpZ2h0OiAzMDBweDsgb3ZlcmZsb3cteTogYXV0bztcIj5cclxuXHRcdFx0XHRcdFx0XHRcdCR7bWFya2Rvd25GaWxlcy5tYXAoKGZpbGUsIGluZGV4KSA9PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRgPGRpdiBzdHlsZT1cInBhZGRpbmc6IDhweDsgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpOyBtYXJnaW46IDRweCAwOyBjdXJzb3I6IHBvaW50ZXI7IGJvcmRlci1yYWRpdXM6IDRweDtcIiBkYXRhLWZpbGUtaW5kZXg9XCIke2luZGV4fVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxzdHJvbmc+JHtmaWxlLmJhc2VuYW1lfTwvc3Ryb25nPjxicj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8c21hbGwgc3R5bGU9XCJjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XCI+JHtmaWxlLnBhdGh9PC9zbWFsbD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+YFxyXG5cdFx0XHRcdFx0XHRcdFx0KS5qb2luKCcnKX1cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj5cclxuXHRcdFx0XHRcdFx0XHQ8YnV0dG9uIGlkPVwiY2FuY2VsLXNlbGVjdFwiPkNhbmNlbDwvYnV0dG9uPlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRgO1xyXG5cclxuXHRcdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtb2RhbCk7XHJcblxyXG5cdFx0XHQvLyBBZGQgY2xpY2sgaGFuZGxlcnMgZm9yIGZpbGUgc2VsZWN0aW9uXHJcblx0XHRcdGNvbnN0IGZpbGVFbGVtZW50cyA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWZpbGUtaW5kZXhdJyk7XHJcblx0XHRcdGZpbGVFbGVtZW50cy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XHJcblx0XHRcdFx0ZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IGluZGV4ID0gcGFyc2VJbnQoKGVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpLmdldEF0dHJpYnV0ZSgnZGF0YS1maWxlLWluZGV4JykgfHwgJzAnKTtcclxuXHRcdFx0XHRcdGNvbnN0IHNlbGVjdGVkRmlsZSA9IG1hcmtkb3duRmlsZXNbaW5kZXhdO1xyXG5cdFx0XHRcdFx0ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChtb2RhbCk7XHJcblx0XHRcdFx0XHRyZXNvbHZlKHNlbGVjdGVkRmlsZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Y29uc3QgY2FuY2VsQnRuID0gbW9kYWwucXVlcnlTZWxlY3RvcignI2NhbmNlbC1zZWxlY3QnKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHRcdFx0Y2FuY2VsQnRuLm9uY2xpY2sgPSAoKSA9PiB7XHJcblx0XHRcdFx0ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChtb2RhbCk7XHJcblx0XHRcdFx0cmVzb2x2ZShudWxsKTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdG1vZGFsLm9uY2xpY2sgPSAoZSkgPT4ge1xyXG5cdFx0XHRcdGlmIChlLnRhcmdldCA9PT0gbW9kYWwgfHwgZS50YXJnZXQgPT09IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1iZycpKSB7XHJcblx0XHRcdFx0XHRkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG1vZGFsKTtcclxuXHRcdFx0XHRcdHJlc29sdmUobnVsbCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cdFx0fSk7XHJcblx0Ly8gTWluaW1hbCBNQ1AgVG9vbHMgVUkgc3R1YiBtb3ZlZDogaW1wbGVtZW50IGEgY2xlYW4sIHNtYWxsIG1ldGhvZCBpbi1jbGFzcy5cclxuXHQvLyBXZSdsbCBhZGQgYSBjb21wYWN0LCBzYWZlIGltcGxlbWVudGF0aW9uIGJlbG93IHRoZSBhZGRTZXJ2ZXJzQWNjb3JkaW9uIG1ldGhvZC5cclxuXHR9XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHRwcml2YXRlIGFzeW5jIHVwZGF0ZU1vZGVsU3RhdHVzSWNvbkZvckRyb3Bkb3duKHN0YXR1c0NvbnRhaW5lcjogSFRNTEVsZW1lbnQsIG1vZGVsVHlwZTogJ2xsbScgfCAnbGxtX3NtYWxsJyB8ICdlbWJlZGRpbmcnLCBtb2RlbE5hbWU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0YXdhaXQgdGhpcy5vbGxhbWFTZXR0aW5ncy51cGRhdGVNb2RlbFN0YXR1c0ljb25Gb3JEcm9wZG93bihzdGF0dXNDb250YWluZXIsIG1vZGVsVHlwZSwgbW9kZWxOYW1lKTtcclxuXHR9XHJcblxyXG5cdC8vIFJlbW92ZWQgbWV0aG9kcyB0aGF0IGFyZSBub3cgZGVsZWdhdGVkIHRvIG9sbGFtYVNldHRpbmdzXHJcblx0cHJpdmF0ZSBhc3luYyByZWZyZXNoT2xsYW1hU3RhdHVzKHN0YXR1c0NvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGluc3RhbGxCdXR0b246IEhUTUxCdXR0b25FbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRhd2FpdCB0aGlzLm9sbGFtYVNldHRpbmdzLnJlZnJlc2hPbGxhbWFTdGF0dXMoc3RhdHVzQ29udGFpbmVyLCBpbnN0YWxsQnV0dG9uKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgc3RhcnRPbGxhbWFTZXJ2aWNlKHN0YXR1c0NvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGluc3RhbGxCdXR0b246IEhUTUxCdXR0b25FbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRhd2FpdCB0aGlzLm9sbGFtYVNldHRpbmdzLnN0YXJ0T2xsYW1hU2VydmljZShzdGF0dXNDb250YWluZXIsIGluc3RhbGxCdXR0b24pO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBoYW5kbGVPbGxhbWFJbnN0YWxsYXRpb24oKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRhd2FpdCB0aGlzLm9sbGFtYVNldHRpbmdzLmhhbmRsZU9sbGFtYUluc3RhbGxhdGlvbigpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzaG93T2xsYW1hSW5zdGFsbGF0aW9uTW9kYWwoKTogdm9pZCB7XHJcblx0XHR0aGlzLm9sbGFtYVNldHRpbmdzLnNob3dPbGxhbWFJbnN0YWxsYXRpb25Nb2RhbCgpO1xyXG5cdH1cclxuXHJcblx0Ly8gQHB1cnBvc2U6IFJlbG9hZCBkYWVtb24gdG8gYXBwbHkgbmV3IHByb3ZpZGVyIGNvbmZpZ3VyYXRpb24gQGRlcGVuZHM6IFB5dGhvbkRhZW1vbkJyaWRnZSBAcmVzdWx0czogRnJlc2ggZGFlbW9uIHdpdGggdXBkYXRlZCBzZXR0aW5nc1xyXG5cdHByaXZhdGUgYXN5bmMgcmVsb2FkU3luY0RhZW1vbihidXR0b25FbDogSFRNTEVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGNvbnN0IG9yaWdpbmFsVGV4dCA9IGJ1dHRvbkVsLnRleHRDb250ZW50O1xyXG5cdFx0YnV0dG9uRWwudGV4dENvbnRlbnQgPSAnUmVsb2FkaW5nLi4uJztcclxuXHRcdGJ1dHRvbkVsLmFkZENsYXNzKCdpcy1sb2FkaW5nJyk7XHJcblx0XHRidXR0b25FbC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ3RydWUnKTtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmluZm8oJ1tEQUVNT04tUkVMT0FEXSBTdGFydGluZyBkYWVtb24gcmVsb2FkJyk7XHJcblxyXG5cdFx0XHQvLyBFbmhhbmNlZCB2YWxpZGF0aW9uIHdpdGggZGlhZ25vc3RpYyBsb2dnaW5nXHJcblx0XHRcdGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3MubG9hZERhZW1vbk9uTGF1bmNoIHx8ICF0aGlzLnBsdWdpbi5zZXR0aW5ncy5leHBlcmltZW50YWxEYWVtb25Nb2RlKSB7XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignW0RBRU1PTi1SRUxPQURdIERhZW1vbiBwcmVsb2FkaW5nIG5vdCBlbmFibGVkJywge1xyXG5cdFx0XHRcdFx0bG9hZERhZW1vbk9uTGF1bmNoOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sb2FkRGFlbW9uT25MYXVuY2gsXHJcblx0XHRcdFx0XHRleHBlcmltZW50YWxEYWVtb25Nb2RlOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5leHBlcmltZW50YWxEYWVtb25Nb2RlXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0bmV3IE5vdGljZSgnW0VSUk9SXSBEYWVtb24gcHJlbG9hZGluZyBpcyBub3QgZW5hYmxlZCcpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gQWNjZXNzIGRhZW1vbiBicmlkZ2UgZGlyZWN0bHkgZnJvbSBwbHVnaW4gLSBjb25maXJtZWQgdGhpcyBpcyB0aGUgY29ycmVjdCBwYXR0ZXJuXHJcblx0XHRcdGNvbnN0IGRhZW1vbkJyaWRnZSA9ICh0aGlzLnBsdWdpbiBhcyBhbnkpLnB5dGhvbkRhZW1vbkJyaWRnZTtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW0RBRU1PTi1SRUxPQURdIEJyaWRnZSBhY2Nlc3MgY2hlY2snLCB7XHJcblx0XHRcdFx0YnJpZGdlRXhpc3RzOiAhIWRhZW1vbkJyaWRnZSxcclxuXHRcdFx0XHRicmlkZ2VSdW5uaW5nOiBkYWVtb25CcmlkZ2U/LmlzUnVubmluZygpXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0aWYgKCFkYWVtb25CcmlkZ2UpIHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdbREFFTU9OLVJFTE9BRF0gRGFlbW9uIGJyaWRnZSBub3QgYXZhaWxhYmxlJywge1xyXG5cdFx0XHRcdFx0cGx1Z2luS2V5czogT2JqZWN0LmtleXModGhpcy5wbHVnaW4gYXMgYW55KS5maWx0ZXIoayA9PiBrLmluY2x1ZGVzKCdkYWVtb24nKSB8fCBrLmluY2x1ZGVzKCdicmlkZ2UnKSlcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRuZXcgTm90aWNlKCdbRVJST1JdIERhZW1vbiBicmlkZ2Ugbm90IGF2YWlsYWJsZScpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gQ2hlY2sgZGFlbW9uIHN0YXR1cyBiZWZvcmUgcHJvY2VlZGluZ1xyXG5cdFx0XHRjb25zdCBzdGF0dXMgPSBkYWVtb25CcmlkZ2UuZ2V0U3RhdHVzKCk7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uaW5mbygnW0RBRU1PTi1SRUxPQURdIEN1cnJlbnQgZGFlbW9uIHN0YXR1cycsIHN0YXR1cyk7XHJcblxyXG5cdFx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9ICdTdG9wcGluZyBkYWVtb24uLi4nO1xyXG5cclxuXHRcdFx0Ly8gU3RvcCBjdXJyZW50IGRhZW1vbiB3aXRoIGVuaGFuY2VkIGxvZ2dpbmdcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5pbmZvKCdbREFFTU9OLVJFTE9BRF0gSW5pdGlhdGluZyBkYWVtb24gc2h1dGRvd24nKTtcclxuXHRcdFx0YXdhaXQgZGFlbW9uQnJpZGdlLnNodXRkb3duKCk7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uaW5mbygnW0RBRU1PTi1SRUxPQURdIERhZW1vbiBzaHV0ZG93biBjb21wbGV0ZScpO1xyXG5cclxuXHRcdFx0YnV0dG9uRWwudGV4dENvbnRlbnQgPSAnU3RhcnRpbmcgZGFlbW9uLi4uJztcclxuXHJcblx0XHRcdC8vIEJyaWVmIGRlbGF5IHRvIGVuc3VyZSBjbGVhbiBzaHV0ZG93blxyXG5cdFx0XHRhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCkpO1xyXG5cclxuXHRcdFx0Ly8gUmVzdGFydCBkYWVtb24gd2l0aCBmcmVzaCBjb25maWd1cmF0aW9uXHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uaW5mbygnW0RBRU1PTi1SRUxPQURdIEluaXRpYXRpbmcgZGFlbW9uIHByZWxvYWQnKTtcclxuXHRcdFx0YXdhaXQgZGFlbW9uQnJpZGdlLnByZWxvYWREYWVtb24oKTtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5pbmZvKCdbREFFTU9OLVJFTE9BRF0gRGFlbW9uIHByZWxvYWQgY29tcGxldGUnKTtcclxuXHJcblx0XHRcdC8vIFZlcmlmeSBkYWVtb24gaXMgcnVubmluZ1xyXG5cdFx0XHRjb25zdCBuZXdTdGF0dXMgPSBkYWVtb25CcmlkZ2UuZ2V0U3RhdHVzKCk7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uaW5mbygnW0RBRU1PTi1SRUxPQURdIE5ldyBkYWVtb24gc3RhdHVzJywgbmV3U3RhdHVzKTtcclxuXHJcblx0XHRcdG5ldyBOb3RpY2UoJ1tTVUNDRVNTXSBTeW5jIGRhZW1vbiByZWxvYWRlZCBzdWNjZXNzZnVsbHknKTtcclxuXHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdbREFFTU9OLVJFTE9BRF0gRmFpbGVkIHRvIHJlbG9hZCBkYWVtb24nLCB7IGVycm9yIH0pO1xyXG5cdFx0XHRjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcclxuXHRcdFx0bmV3IE5vdGljZShgW0VSUk9SXSBGYWlsZWQgdG8gcmVsb2FkIGRhZW1vbjogJHtlcnJvck1lc3NhZ2V9YCk7XHJcblx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9IG9yaWdpbmFsVGV4dDtcclxuXHRcdFx0YnV0dG9uRWwucmVtb3ZlQ2xhc3MoJ2lzLWxvYWRpbmcnKTtcclxuXHRcdFx0YnV0dG9uRWwucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gQHB1cnBvc2U6IERpc3BsYXkgdmF1bHQgcmVnaXN0cnkgY29uZmlndXJhdGlvbiBmcm9tIHZhdWx0cy5qc29uIEBkZXBlbmRzOiBWYXVsdFJlZ2lzdHJ5U2VydmljZSBAcmVzdWx0czogUmVhZC1vbmx5IG1vZGFsIHNob3dpbmcgdmF1bHQgY29uZmlnc1xyXG5cdHByaXZhdGUgYXN5bmMgc2hvd1ZhdWx0TWFuYWdlbWVudE1vZGFsKCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgdmF1bHRzID0gdGhpcy5wbHVnaW4udmF1bHRSZWdpc3RyeVNlcnZpY2UuZ2V0QWxsVmF1bHRzKCk7XHJcblx0XHRcdFxyXG5cdFx0XHRjb25zdCBtb2RhbEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRcdG1vZGFsRWwuc3R5bGUuY3NzVGV4dCA9IGBcclxuXHRcdFx0XHRwb3NpdGlvbjogZml4ZWQ7XHJcblx0XHRcdFx0dG9wOiAwO1xyXG5cdFx0XHRcdGxlZnQ6IDA7XHJcblx0XHRcdFx0d2lkdGg6IDEwMCU7XHJcblx0XHRcdFx0aGVpZ2h0OiAxMDAlO1xyXG5cdFx0XHRcdGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC44KTtcclxuXHRcdFx0XHRkaXNwbGF5OiBmbGV4O1xyXG5cdFx0XHRcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcblx0XHRcdFx0anVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcblx0XHRcdFx0ei1pbmRleDogMTAwMDtcclxuXHRcdFx0YDtcclxuXHJcblx0XHRcdGNvbnN0IGNvbnRlbnRFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0XHRjb250ZW50RWwuc3R5bGUuY3NzVGV4dCA9IGBcclxuXHRcdFx0XHRiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xyXG5cdFx0XHRcdGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcclxuXHRcdFx0XHRib3JkZXItcmFkaXVzOiA4cHg7XHJcblx0XHRcdFx0cGFkZGluZzogMjRweDtcclxuXHRcdFx0XHRtYXgtd2lkdGg6IDgwMHB4O1xyXG5cdFx0XHRcdHdpZHRoOiA5MCU7XHJcblx0XHRcdFx0bWF4LWhlaWdodDogODAlO1xyXG5cdFx0XHRcdG92ZXJmbG93OiBhdXRvO1xyXG5cdFx0XHRgO1xyXG5cclxuXHRcdFx0Y29udGVudEVsLmlubmVySFRNTCA9IGBcclxuXHRcdFx0XHQ8aDMgc3R5bGU9XCJtYXJnaW46IDAgMCAxNnB4IDA7XCI+VmF1bHQgUmVnaXN0cnkgKHZhdWx0cy5qc29uKTwvaDM+XHJcblx0XHRcdFx0PHAgc3R5bGU9XCJtYXJnaW46IDAgMCAxNnB4IDA7IGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTsgZm9udC1zaXplOiAwLjllbTtcIj5cclxuXHRcdFx0XHRcdEN1cnJlbnQgdmF1bHQgY29uZmlndXJhdGlvbiBmcm9tIHZhdWx0cy5qc29uLiBUaGlzIGZpbGUgaXMgYXV0by1nZW5lcmF0ZWQgYW5kIG1hbmFnZWQgYnkgdGhlIHBsdWdpbi5cclxuXHRcdFx0XHQ8L3A+XHJcblx0XHRcdGA7XHJcblxyXG5cdFx0XHRpZiAodmF1bHRzLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHRcdGNvbnRlbnRFbC5pbm5lckhUTUwgKz0gYFxyXG5cdFx0XHRcdFx0PGRpdiBzdHlsZT1cInBhZGRpbmc6IDE2cHg7IGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTsgYm9yZGVyLXJhZGl1czogNnB4OyBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XCI+XHJcblx0XHRcdFx0XHRcdE5vIHZhdWx0cyByZWdpc3RlcmVkIHlldC4gVGhlIGN1cnJlbnQgdmF1bHQgd2lsbCBiZSBhdXRvLXJlZ2lzdGVyZWQgd2hlbiBXZWJTb2NrZXQgY29ubmVjdHMuXHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRgO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHZhdWx0cy5mb3JFYWNoKHZhdWx0ID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IHZhdWx0Q2FyZCA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoKTtcclxuXHRcdFx0XHRcdHZhdWx0Q2FyZC5zdHlsZS5jc3NUZXh0ID0gYFxyXG5cdFx0XHRcdFx0XHRwYWRkaW5nOiAxMnB4O1xyXG5cdFx0XHRcdFx0XHRtYXJnaW4tYm90dG9tOiAxMnB4O1xyXG5cdFx0XHRcdFx0XHRiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XHJcblx0XHRcdFx0XHRcdGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcclxuXHRcdFx0XHRcdFx0Ym9yZGVyLXJhZGl1czogNnB4O1xyXG5cdFx0XHRcdFx0YDtcclxuXHJcblx0XHRcdFx0XHR2YXVsdENhcmQuaW5uZXJIVE1MID0gYFxyXG5cdFx0XHRcdFx0XHQ8ZGl2IHN0eWxlPVwiZm9udC13ZWlnaHQ6IDYwMDsgbWFyZ2luLWJvdHRvbTogOHB4O1wiPiR7dmF1bHQubmFtZX08L2Rpdj5cclxuXHRcdFx0XHRcdFx0PGRpdiBzdHlsZT1cImZvbnQtc2l6ZTogMC45ZW07IGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTsgbGluZS1oZWlnaHQ6IDEuNjtcIj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2PjxzdHJvbmc+UGF0aDo8L3N0cm9uZz4gJHt2YXVsdC5wYXRofTwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdDxkaXY+PHN0cm9uZz5EYXRhYmFzZTo8L3N0cm9uZz4gJHt2YXVsdC5jb25maWd1cmF0aW9uLmRhdGFiYXNlLnR5cGV9ICgke3ZhdWx0LmNvbmZpZ3VyYXRpb24uZGF0YWJhc2UuaG9zdH06JHt2YXVsdC5jb25maWd1cmF0aW9uLmRhdGFiYXNlLnBvcnR9LyR7dmF1bHQuY29uZmlndXJhdGlvbi5kYXRhYmFzZS5kYXRhYmFzZX0pPC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0PGRpdj48c3Ryb25nPkVtYmVkZGluZzo8L3N0cm9uZz4gJHt2YXVsdC5jb25maWd1cmF0aW9uLmVtYmVkZGluZz8ucHJvdmlkZXIgfHwgJ25vdCBzZXQnfSAtICR7dmF1bHQuY29uZmlndXJhdGlvbi5lbWJlZGRpbmc/Lm1vZGVsIHx8ICdub3Qgc2V0J308L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2PjxzdHJvbmc+U3RhdHVzOjwvc3Ryb25nPiAke3ZhdWx0LnN0YXR1cy5jb25uZWN0ZWQgPyAnQ29ubmVjdGVkJyA6ICdEaXNjb25uZWN0ZWQnfTwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdGA7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNvbnN0IGJ1dHRvbkNvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoKTtcclxuXHRcdFx0YnV0dG9uQ29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgXHJcblx0XHRcdFx0bWFyZ2luLXRvcDogMTZweDtcclxuXHRcdFx0XHRkaXNwbGF5OiBmbGV4O1xyXG5cdFx0XHRcdGdhcDogMTJweDtcclxuXHRcdFx0XHRqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xyXG5cdFx0XHRgO1xyXG5cclxuXHRcdFx0Y29uc3QgY2xvc2VCdG4gPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0Nsb3NlJyB9KTtcclxuXHRcdFx0Y2xvc2VCdG4uY2xhc3NOYW1lID0gJ21vZC1jdGEnO1xyXG5cdFx0XHRjbG9zZUJ0bi5vbmNsaWNrID0gKCkgPT4gZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChtb2RhbEVsKTtcclxuXHJcblx0XHRcdG1vZGFsRWwuYXBwZW5kQ2hpbGQoY29udGVudEVsKTtcclxuXHRcdFx0bW9kYWxFbC5vbmNsaWNrID0gKGUpID0+IHtcclxuXHRcdFx0XHRpZiAoZS50YXJnZXQgPT09IG1vZGFsRWwpIHtcclxuXHRcdFx0XHRcdGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobW9kYWxFbCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtb2RhbEVsKTtcclxuXHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdbVkFVTFQtTU9EQUxdIEZhaWxlZCB0byBzaG93IHZhdWx0IG1hbmFnZW1lbnQgbW9kYWwnLCB7IGVycm9yIH0pO1xyXG5cdFx0XHRuZXcgTm90aWNlKCdbRVJST1JdIEZhaWxlZCB0byBsb2FkIHZhdWx0IGNvbmZpZ3VyYXRpb24nKTtcclxuXHRcdH1cclxuXHR9XHJcbn0iLCIvLyBEYXRhYmFzZS1zcGVjaWZpYyBjb25maWd1cmF0aW9uIGludGVyZmFjZXNcclxuZXhwb3J0IGludGVyZmFjZSBOZW80akNvbmZpZyB7XHJcblx0dXJpOiBzdHJpbmc7ICAgICAgICAgICAvLyBOZW80aiB1c2VzICd1cmknIChlLmcuLCBib2x0Oi8vbG9jYWxob3N0Ojc2ODcpXHJcblx0dXNlcm5hbWU6IHN0cmluZztcclxuXHRwYXNzd29yZDogc3RyaW5nO1xyXG5cdGRhdGFiYXNlOiBzdHJpbmc7ICAgICAgLy8gTmVvNGogZGF0YWJhc2UgbmFtZSAoZGVmYXVsdDogJ25lbzRqJylcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBGYWxrb3JEQkNvbmZpZyB7XHJcblx0aG9zdDogc3RyaW5nOyAgICAgICAgICAvLyBGYWxrb3JEQiB1c2VzICdob3N0JyAoZS5nLiwgbG9jYWxob3N0KVxyXG5cdHBvcnQ6IG51bWJlcjsgICAgICAgICAgLy8gRmFsa29yREIgdXNlcyBzZXBhcmF0ZSAncG9ydCcgKGUuZy4sIDYzNzkpXHJcblx0dXNlcm5hbWU/OiBzdHJpbmc7ICAgICAvLyBGYWxrb3JEQiB1c2VybmFtZSAob3B0aW9uYWwpXHJcblx0cGFzc3dvcmQ/OiBzdHJpbmc7ICAgICAvLyBGYWxrb3JEQiBwYXNzd29yZCAob3B0aW9uYWwpXHJcblx0ZGF0YWJhc2U6IHN0cmluZzsgICAgICAvLyBGYWxrb3JEQiBkYXRhYmFzZSBuYW1lIChkZWZhdWx0OiAnZGVmYXVsdF9kYicpXHJcbn1cclxuXHJcbi8vID09PSBGT0xERVIgTkFNRVNQQUNJTkcgSU5URVJGQUNFID09PVxyXG4vLyBAcHVycG9zZTogRGVmaW5lIG1hcHBpbmcgYmV0d2VlbiBmb2xkZXIgcGF0aHMgYW5kIGN1c3RvbSBncm91cF9pZCBuYW1lc3BhY2VzXHJcbi8vIEBkZXBlbmRzOiBVc2VyIGNvbmZpZ3VyYXRpb24gaW4gc2V0dGluZ3MgVUlcclxuLy8gQHJlc3VsdHM6IEN1c3RvbSBuYW1lc3BhY2UgYXNzaWdubWVudHMgZm9yIHN5bmMgb3BlcmF0aW9uc1xyXG5leHBvcnQgaW50ZXJmYWNlIEZvbGRlck5hbWVzcGFjZU1hcHBpbmcge1xyXG5cdGZvbGRlclBhdGg6IHN0cmluZzsgICAgLy8gRnVsbCBmb2xkZXIgcGF0aCAoc3VwcG9ydHMgYm90aCB0b3AtbGV2ZWwgYW5kIHN1Yi1mb2xkZXJzKVxyXG5cdGdyb3VwSWQ6IHN0cmluZzsgICAgICAgLy8gQ3VzdG9tIG5hbWVzcGFjZSBpZGVudGlmaWVyIGZvciB0aGlzIGZvbGRlclxyXG59XHJcblxyXG4vLyA9PT0gRU5IQU5DRUQgU0NIRU1BIE1BTkFHRU1FTlQgSU5URVJGQUNFUyA9PT1cclxuLy8gUHVycG9zZTogQ29tcGxldGUgY3VzdG9tIG9udG9sb2d5IG1hbmFnZW1lbnQgd2l0aCBMTE0gaW50ZWdyYXRpb24gYXJjaGl0ZWN0dXJlXHJcbi8vIEludGVncmF0aW9uOiBTdXBwb3J0cyBlbnRpdHkgZGVzY3JpcHRpb25zLCBlZGdlIHR5cGVzLCBhbmQgZWRnZSBtYXBwaW5ncyBmb3IgUHlkYW50aWMgbW9kZWwgZ2VuZXJhdGlvblxyXG4vLyBNb2RlOiBDb2RlIC0gQ29yZSBkYXRhIHN0cnVjdHVyZXMgZm9yIGN1c3RvbSBvbnRvbG9neSBhdXRob3JpbmdcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUHJvcGVydHlEZXNjcmlwdGlvbiB7XHJcblx0ZGVzY3JpcHRpb246IHN0cmluZzsgICAgICAgICAvLyBGaWVsZCBkZXNjcmlwdGlvbiBmb3IgUHlkYW50aWMgRmllbGQoKVxyXG5cdGZpZWxkVHlwZTogc3RyaW5nOyAgICAgICAgICAvLyBcInN0clwiLCBcImRhdGV0aW1lXCIsIFwiTGlzdFtzdHJdXCIsIGV0Yy5cclxuXHRyZXF1aXJlZDogYm9vbGVhbjsgICAgICAgICAgLy8gV2hldGhlciBmaWVsZCBpcyByZXF1aXJlZFxyXG5cdGlzVXNlckRlZmluZWQ6IGJvb2xlYW47ICAgICAvLyB2cyBhdXRvLWRpc2NvdmVyZWRcclxuXHRzb3VyY2U6IFwidXNlclwiIHwgXCJsbG1cIiB8IFwiZGlzY292ZXJ5XCI7IC8vIFNvdXJjZSBvZiB0aGlzIGNvbmZpZ3VyYXRpb25cclxuXHRsYXN0TW9kaWZpZWQ/OiBzdHJpbmc7ICAgICAgLy8gSVNPIHRpbWVzdGFtcFxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEVudGl0eURlc2NyaXB0aW9uIHtcclxuXHRjbGFzc05hbWU6IHN0cmluZzsgICAgICAgICAgIC8vIFwiV2ViUGFnZVwiLCBcIlBlcnNvblwiLCBldGMuXHJcblx0ZGVzY3JpcHRpb246IHN0cmluZzsgICAgICAgICAvLyBDbGFzcyBkZXNjcmlwdGlvbiBmb3IgZG9jdW1lbnRhdGlvbiBhbmQgbW9kZWwgZ2VuZXJhdGlvblxyXG5cdGlzVXNlckRlZmluZWQ6IGJvb2xlYW47ICAgICAvLyB2cyBhdXRvLWRpc2NvdmVyZWRcclxuXHRzb3VyY2U6IFwidXNlclwiIHwgXCJsbG1cIiB8IFwiZGlzY292ZXJ5XCI7IC8vIFNvdXJjZSBvZiB0aGlzIGNvbmZpZ3VyYXRpb25cclxuXHRsYXN0TW9kaWZpZWQ/OiBzdHJpbmc7ICAgICAgLy8gSVNPIHRpbWVzdGFtcFxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEVkZ2VUeXBlUHJvcGVydHkge1xyXG5cdGRlc2NyaXB0aW9uOiBzdHJpbmc7ICAgICAgICAgLy8gUHJvcGVydHkgZGVzY3JpcHRpb25cclxuXHRmaWVsZFR5cGU6IHN0cmluZzsgICAgICAgICAgLy8gXCJzdHJcIiwgXCJkYXRldGltZVwiLCBldGMuXHJcblx0cmVxdWlyZWQ6IGJvb2xlYW47ICAgICAgICAgIC8vIFdoZXRoZXIgcHJvcGVydHkgaXMgcmVxdWlyZWRcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBFZGdlVHlwZSB7XHJcblx0Y2xhc3NOYW1lOiBzdHJpbmc7ICAgICAgICAgICAvLyBcIldvcmtzRm9yXCIsIFwiVXNlc1wiLCBldGMuXHJcblx0ZGVzY3JpcHRpb246IHN0cmluZzsgICAgICAgICAvLyBFZGdlIHR5cGUgZGVzY3JpcHRpb24gZm9yIGRvY3VtZW50YXRpb24gYW5kIG1vZGVsIGdlbmVyYXRpb25cclxuXHRwcm9wZXJ0aWVzOiBSZWNvcmQ8c3RyaW5nLCBFZGdlVHlwZVByb3BlcnR5PjsgLy8gRWRnZSB0eXBlIHByb3BlcnRpZXNcclxuXHRpc1VzZXJEZWZpbmVkOiBib29sZWFuOyAgICAgLy8gdnMgYXV0by1kaXNjb3ZlcmVkXHJcblx0c291cmNlOiBcInVzZXJcIiB8IFwibGxtXCIgfCBcImRpc2NvdmVyeVwiOyAvLyBTb3VyY2Ugb2YgdGhpcyBjb25maWd1cmF0aW9uXHJcblx0bGFzdE1vZGlmaWVkPzogc3RyaW5nOyAgICAgIC8vIElTTyB0aW1lc3RhbXBcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBFZGdlVHlwZU1hcHBpbmcge1xyXG5cdHNvdXJjZUVudGl0eTogc3RyaW5nOyAgICAgICAgLy8gXCJQZXJzb25cIlxyXG5cdHRhcmdldEVudGl0eTogc3RyaW5nOyAgICAgICAgLy8gXCJPcmdhbml6YXRpb25cIlxyXG5cdGFsbG93ZWRFZGdlczogc3RyaW5nW107ICAgICAgLy8gW1wiV29ya3NGb3JcIiwgXCJNZW1iZXJPZlwiXVxyXG5cdGlzVXNlckRlZmluZWQ6IGJvb2xlYW47ICAgICAvLyB2cyBhdXRvLWRpc2NvdmVyZWRcclxuXHRzb3VyY2U6IFwidXNlclwiIHwgXCJsbG1cIiB8IFwiZGlzY292ZXJ5XCI7IC8vIFNvdXJjZSBvZiB0aGlzIGNvbmZpZ3VyYXRpb25cclxuXHRsYXN0TW9kaWZpZWQ/OiBzdHJpbmc7ICAgICAgLy8gSVNPIHRpbWVzdGFtcFxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIExMTVNjaGVtYVNldHRpbmdzIHtcclxuXHRhdXRvU3VnZ2VzdEVudGl0eURlc2NyaXB0aW9uczogYm9vbGVhbjtcclxuXHRhdXRvU3VnZ2VzdFByb3BlcnR5RGVzY3JpcHRpb25zOiBib29sZWFuO1xyXG5cdGF1dG9TdWdnZXN0RWRnZVR5cGVzOiBib29sZWFuO1xyXG5cdGF1dG9TdWdnZXN0RWRnZVR5cGVNYXBwaW5nczogYm9vbGVhbjtcclxuXHRsYXN0TExNU3VnZ2VzdGlvbkRhdGU/OiBzdHJpbmc7IC8vIElTTyB0aW1lc3RhbXBcclxuXHRsbG1Nb2RlbD86IHN0cmluZzsgICAgICAgICAgLy8gV2hpY2ggbW9kZWwgd2FzIHVzZWQgZm9yIHN1Z2dlc3Rpb25zXHJcblx0ZW5hYmxlQnVsa0dlbmVyYXRpb246IGJvb2xlYW47IC8vIEFsbG93IGJ1bGsgc2NoZW1hIGdlbmVyYXRpb25cclxuXHRzdWdnZXN0aW9uQXBwcm92YWxSZXF1aXJlZDogYm9vbGVhbjsgLy8gUmVxdWlyZSB1c2VyIGFwcHJvdmFsIGZvciBMTE0gc3VnZ2VzdGlvbnNcclxufVxyXG5cclxuXHJcbi8vIE11bHRpLVZhdWx0IENvbmZpZ3VyYXRpb24gaW50ZXJmYWNlXHJcbmV4cG9ydCBpbnRlcmZhY2UgVmF1bHRDb25maWd1cmF0aW9uIHtcclxuXHR2YXVsdE5hbWU6IHN0cmluZztcclxuXHRuYW1lc3BhY2U6IHN0cmluZztcclxuXHRlbmFibGVkOiBib29sZWFuO1xyXG5cdHByaW9yaXR5OiBudW1iZXI7IC8vIEZvciBkZXRlcm1pbmluZyBwcmVjZWRlbmNlIGluIG11bHRpLXZhdWx0IHNjZW5hcmlvc1xyXG5cdGN1c3RvbVNldHRpbmdzPzoge1xyXG5cdFx0c3luY09uU2F2ZT86IGJvb2xlYW47XHJcblx0XHRpbmNsdWRlZEZvbGRlcnM/OiBzdHJpbmdbXTtcclxuXHRcdGV4Y2x1ZGVkRm9sZGVycz86IHN0cmluZ1tdO1xyXG5cdFx0Z2xvYmFsbHlJZ25vcmVkRmllbGRzPzogc3RyaW5nW107XHJcblx0XHRuYW1lc3BhY2VTdHJhdGVneT86ICd2YXVsdCcgfCAnZm9sZGVyJyB8ICdwcm9wZXJ0eScgfCAnY3VzdG9tJztcclxuXHRcdGRlZmF1bHROYW1lc3BhY2U/OiBzdHJpbmc7XHJcblx0fTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBNQ1BUb29sRGVmaW5pdGlvbiB7XHJcblx0bmFtZTogc3RyaW5nO1xyXG5cdGRlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVGVtcGxhdGVySW50ZWdyYXRpb25Db25maWcge1xyXG5cdGRldGVjdGVkOiBib29sZWFuO1xyXG5cdGVuYWJsZWQ6IGJvb2xlYW47XHJcblx0dXNlVGVtcGxhdGVGb2xkZXJzOiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFBlcmlvZGljTm90ZXNJbnRlZ3JhdGlvbkNvbmZpZyB7XHJcblx0ZGV0ZWN0ZWQ6IGJvb2xlYW47XHJcblx0ZW5hYmxlZDogYm9vbGVhbjtcclxuXHR1c2VQZXJpb2RpY0ZvbGRlcnM6IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTUNQVG9vbHNTZXR0aW5ncyB7XHJcbiAgZGVmYXVsdHM6IHtcclxuICAgIGluYm94Rm9sZGVyOiBzdHJpbmc7XHJcbiAgICBlbmFibGVTbWFydEZvbGRlclJlc29sdXRpb246IGJvb2xlYW47XHJcbiAgfTtcclxuICBpbnRlZ3JhdGlvbnM6IHtcclxuICAgIHRlbXBsYXRlcjogVGVtcGxhdGVySW50ZWdyYXRpb25Db25maWc7XHJcbiAgICBwZXJpb2RpY05vdGVzOiBQZXJpb2RpY05vdGVzSW50ZWdyYXRpb25Db25maWc7XHJcbiAgfTtcclxuICB0b29sczogTUNQVG9vbERlZmluaXRpb25bXTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBMTE1Nb2RlbE1ldGEge1xyXG5cdGRlc2M/OiBzdHJpbmc7XHJcblx0cmVjb21tZW5kZWQ/OiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEVtYmVkZGluZ01vZGVsTWV0YSB7XHJcblx0ZGVzYz86IHN0cmluZztcclxuXHRkaW1lbnNpb25zPzogbnVtYmVyO1xyXG5cdHJlY29tbWVuZGVkPzogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBHcmFwaGl0aVBsdWdpblNldHRpbmdzIHtcclxuXHQvLyBEYXRhYmFzZSBDb25maWd1cmF0aW9uIC0gSW5kZXBlbmRlbnQgY29uZmlncyBmb3IgZWFjaCBkYXRhYmFzZSB0eXBlXHJcblx0ZGF0YWJhc2VUeXBlOiAnbmVvNGonIHwgJ2ZhbGtvcmRiJztcclxuXHRkYXRhYmFzZUNvbmZpZ3M6IHtcclxuXHRcdG5lbzRqOiBOZW80akNvbmZpZztcclxuXHRcdGZhbGtvcmRiOiBGYWxrb3JEQkNvbmZpZztcclxuXHR9O1xyXG5cclxuXHQvLyBMTE0gUHJvdmlkZXIgQ29uZmlndXJhdGlvblxyXG5cdGxsbVByb3ZpZGVyOiAnb3BlbmFpJyB8ICdhbnRocm9waWMnIHwgJ2dvb2dsZScgfCAnYXp1cmUnIHwgJ2dyb3EnIHwgJ29sbGFtYScgfCAndmVuaWNlJyB8ICdvcGVucm91dGVyJztcclxuXHRsbG1Nb2RlbDogc3RyaW5nO1xyXG5cdGxsbVNtYWxsTW9kZWw/OiBzdHJpbmc7IC8vIE9wdGlvbmFsIHNtYWxsZXIgbW9kZWwgZm9yIGVmZmljaWVuY3lcclxuXHJcblx0Ly8gQ3Jvc3MtRW5jb2RlciBDb25maWd1cmF0aW9uXHJcblx0Y3Jvc3NFbmNvZGVyQ2xpZW50PzogJ25vbmUnIHwgJ29wZW5haScgfCAnYmdlJyB8ICdnZW1pbmknOyAvLyBDcm9zcy1lbmNvZGVyL3JlcmFua2VyIHByb3ZpZGVyXHJcblx0Y3Jvc3NFbmNvZGVyTW9kZWw/OiBzdHJpbmc7IC8vIENyb3NzLWVuY29kZXIvcmVyYW5rZXIgbW9kZWxcclxuXHJcblx0Ly8gUHJvdmlkZXItc3BlY2lmaWMgQVBJIEtleXNcclxuXHRhcGlLZXlzOiB7XHJcblx0XHRvcGVuYWk/OiBzdHJpbmc7XHJcblx0XHRhbnRocm9waWM/OiBzdHJpbmc7XHJcblx0XHRnb29nbGU/OiBzdHJpbmc7XHJcblx0XHRhenVyZT86IHN0cmluZztcclxuXHRcdGdyb3E/OiBzdHJpbmc7XHJcblx0XHR2b3lhZ2U/OiBzdHJpbmc7XHJcblx0XHR2ZW5pY2U/OiBzdHJpbmc7XHJcblx0XHRvcGVucm91dGVyPzogc3RyaW5nO1xyXG5cdFx0Ly8gTm90ZTogb2xsYW1hIGRvZXNuJ3QgcmVxdWlyZSBBUEkga2V5cyAobG9jYWwpXHJcblx0fTtcclxuXHJcblx0Ly8gRW1iZWRkZXIgQ29uZmlndXJhdGlvblxyXG5cdGVtYmVkZGVyUHJvdmlkZXI6ICdvcGVuYWknIHwgJ2dvb2dsZScgfCAndm95YWdlJyB8ICdvbGxhbWEnO1xyXG5cdGVtYmVkZGluZ01vZGVsOiBzdHJpbmc7XHJcblxyXG5cdC8vIE1vZGVsIERlZmF1bHRzIGxvYWRlZCBmcm9tIHNldHRpbmdzIChoeWRyYXRlZCBmcm9tIGRhdGEuanNvbilcclxuXHRsbG1EZWZhdWx0cz86IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIExMTU1vZGVsTWV0YT4+O1xyXG5cdGxsbVNtYWxsRGVmYXVsdHM/OiBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCBMTE1Nb2RlbE1ldGE+PjtcclxuXHRlbWJlZGRpbmdEZWZhdWx0cz86IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIEVtYmVkZGluZ01vZGVsTWV0YT4+O1xyXG5cclxuXHQvLyBQcm92aWRlci1zcGVjaWZpYyBzZXR0aW5nc1xyXG5cdGF6dXJlRW5kcG9pbnQ/OiBzdHJpbmc7IC8vIEZvciBBenVyZSBPcGVuQUlcclxuXHRhenVyZUFwaVZlcnNpb24/OiBzdHJpbmc7XHJcblx0b2xsYW1hRW5hYmxlZD86IGJvb2xlYW47IC8vIE1hc3RlciB0b2dnbGUgZm9yIE9sbGFtYSBmZWF0dXJlc1xyXG5cdG9sbGFtYUJhc2VVcmw/OiBzdHJpbmc7IC8vIEZvciBsb2NhbCBPbGxhbWFcclxuXHRvbGxhbWFFbWJlZGRpbmdEaW0/OiBudW1iZXI7IC8vIEZvciBPbGxhbWEgZW1iZWRkaW5nIGRpbWVuc2lvbnNcclxuXHRvcGVucm91dGVyUHJlc2V0U2x1Zz86IHN0cmluZzsgLy8gRm9yIE9wZW5Sb3V0ZXIgcHJlc2V0IGNvbmZpZ3VyYXRpb25cclxuXHRvcGVucm91dGVyVXNlUHJlc2V0V2l0aEN1c3RvbU1vZGVsPzogYm9vbGVhbjsgLy8gRW5hYmxlIHByZXNldCBhcHBlbmRpbmcgdG8gY3VzdG9tIG1vZGVsc1xyXG5cclxuXHQvLyBQeXRob24gRW52aXJvbm1lbnRcclxuXHRweXRob25QYXRoPzogc3RyaW5nO1xyXG5cclxuXHQvLyBNQ1AgU2VydmVyIENvbmZpZ3VyYXRpb24gKExlZ2FjeSBjb21wYXRpYmlsaXR5KVxyXG5cdG1jcFNlcnZlclVybDogc3RyaW5nO1xyXG5cdG1jcFNlcnZlclBvcnQ6IG51bWJlcjtcclxuXHRtY3BTZXJ2ZXJFbmFibGVkOiBib29sZWFuO1xyXG5cdG1jcEF1dGhUb2tlbjogc3RyaW5nO1xyXG5cdG1jcFNlcnZlckFwaUtleTogc3RyaW5nOyAvLyBMZWdhY3kgY29tcGF0aWJpbGl0eVxyXG5cclxuXHQvLyBTeW5jIENvbmZpZ3VyYXRpb25cclxuXHRpbmNsdWRlZEZvbGRlcnM6IHN0cmluZ1tdO1xyXG5cdGV4Y2x1ZGVkRm9sZGVyczogc3RyaW5nW107XHJcblx0Z2xvYmFsbHlJZ25vcmVkRmllbGRzOiBzdHJpbmdbXTtcclxuXHRhdXRvU3luYzogYm9vbGVhbjsgLy8gUmVuYW1lZCBmcm9tIHN5bmNPblNhdmUgLSBlbmFibGVzIGF1dG9tYXRpYyBzeW5jIG9wZXJhdGlvbnNcclxuXHRzeW5jT3B0aW9uczogJ25ld19vbmx5JyB8ICduZXdfYW5kX3VwZGF0ZWQnOyAvLyBDb250cm9scyB3aGljaCBub3RlcyBhcmUgaW5jbHVkZWQgaW4gYXV0by1zeW5jXHJcblx0c3luY0ludGVydmFsOiBudW1iZXI7IC8vIG1pbnV0ZXNcclxuXHRiYXRjaFNpemU6IG51bWJlcjtcclxuXHRwcm9jZXNzaW5nRGVsYXlNczogbnVtYmVyO1xyXG5cclxuXHQvLyBBZHZhbmNlZCBPcHRpb25zXHJcblx0ZW5hYmxlRGVidWdMb2dnaW5nOiBib29sZWFuO1xyXG5cdGVuYWJsZVBlcmZvcm1hbmNlTWV0cmljczogYm9vbGVhbjtcclxuXHRtYXhSZXRyeUF0dGVtcHRzOiBudW1iZXI7XHJcblx0Y29ubmVjdGlvblRpbWVvdXQ6IG51bWJlcjsgLy8gc2Vjb25kc1xyXG5cclxuXHQvLyBQZXJmb3JtYW5jZSBPcHRpbWl6YXRpb25cclxuXHRleHBlcmltZW50YWxEYWVtb25Nb2RlOiBib29sZWFuOyAvLyBFbmFibGUgcGVyc2lzdGVudCBQeXRob24gZGFlbW9uIGZvciBCR0UgbW9kZWwgb3B0aW1pemF0aW9uXHJcblx0bG9hZERhZW1vbk9uTGF1bmNoOiBib29sZWFuOyAvLyBTdGFydCBkYWVtb24gd2hlbiBwbHVnaW4gbG9hZHMgdG8gZWxpbWluYXRlIGZpcnN0LXN5bmMgZGVsYXlcclxuXHRsb2dQZXJmb3JtYW5jZTogYm9vbGVhbjsgLy8gRW5hYmxlIGRldGFpbGVkIHRpbWluZyBhbmFseXNpcyBmb3Igc3luYyBwZXJmb3JtYW5jZSBkZWJ1Z2dpbmdcclxuXHJcblx0Ly8gVUkgUHJlZmVyZW5jZXNcclxuXHRzaG93U3luY1N0YXR1czogYm9vbGVhbjtcclxuXHRzaG93Tm90aWZpY2F0aW9uczogYm9vbGVhbjtcclxuXHRjb21wYWN0TW9kZTogYm9vbGVhbjtcclxuXHRzaG93U2NoZW1hVmFsaWRhdGlvbjogYm9vbGVhbjsgLy8gTGVnYWN5IGNvbXBhdGliaWxpdHlcclxuXHJcblx0Ly8gU2NoZW1hIERpc2NvdmVyeSBPcHRpb25zXHJcblx0YXV0b0Rpc2NvdmVyU2NoZW1hczogYm9vbGVhbjtcclxuXHR2YWxpZGF0ZU5hbWluZ0NvbnZlbnRpb25zOiBib29sZWFuO1xyXG5cdHN1Z2dlc3RQcm9wZXJ0eURlc2NyaXB0aW9uczogYm9vbGVhbjtcclxuXHRlbmFibGVQcm90ZWN0ZWRBdHRyaWJ1dGVXYXJuaW5nczogYm9vbGVhbjtcclxuXHJcblx0Ly8gRGV2ZWxvcG1lbnQgT3B0aW9ucyAocmVtb3ZlZCBzaG93RGV2ZWxvcG1lbnRJbmRpY2F0b3JzKVxyXG5cclxuXHQvLyA9PT0gVkVTU0VMIE9QRU4gPT09XHJcblx0Ly8gUHVycG9zZTogT250b2xvZ3kgYW5kIE5hbWVzcGFjaW5nIENvbmZpZ3VyYXRpb25cclxuXHQvLyBJbnRlZ3JhdGlvbjogRW5hYmxlcyBnZW5lcmljIHZzIGN1c3RvbSBlbnRpdHkgZXBpc29kZXMgYW5kIGtub3dsZWRnZSBzZWdtZW50YXRpb25cclxuXHQvLyBNb2RlOiBDb2RlIC0gQ3JpdGljYWwgYXJjaGl0ZWN0dXJhbCBzZXR0aW5nc1xyXG5cclxuXHQvLyBPbnRvbG9neSBDb25maWd1cmF0aW9uXHJcblx0dXNlQ3VzdG9tT250b2xvZ3k6IGJvb2xlYW47IC8vIFRvZ2dsZSBiZXR3ZWVuIGdlbmVyaWMgdnMgY3VzdG9tIGVudGl0eSBlcGlzb2Rlc1xyXG5cclxuXHQvLyBOYW1lc3BhY2luZyBDb25maWd1cmF0aW9uXHJcblx0ZGVmYXVsdE5hbWVzcGFjZTogc3RyaW5nOyAvLyBEZWZhdWx0IG5hbWVzcGFjZSAodmF1bHQgbmFtZSByZWNvbW1lbmRlZClcclxuXHRlbmFibGVGb2xkZXJOYW1lc3BhY2luZzogYm9vbGVhbjsgLy8gVXNlIGZvbGRlciBhcyBuYW1lc3BhY2VcclxuXHRlbmFibGVQcm9wZXJ0eU5hbWVzcGFjaW5nOiBib29sZWFuOyAvLyBVc2UgZ19ncm91cF9pZCBwcm9wZXJ0eSBhcyBuYW1lc3BhY2VcclxuXHRuYW1lc3BhY2VTdHJhdGVneTogJ3ZhdWx0JyB8ICdmb2xkZXInIHwgJ3Byb3BlcnR5JyB8ICdjdXN0b20nOyAvLyBQcmltYXJ5IG5hbWVzcGFjZSBzdHJhdGVneVxyXG5cdGZvbGRlck5hbWVzcGFjZU1hcHBpbmdzOiBGb2xkZXJOYW1lc3BhY2VNYXBwaW5nW107IC8vIEN1c3RvbSBmb2xkZXIgdG8gZ3JvdXBfaWQgbWFwcGluZ3NcclxuXHJcblx0Ly8gTXVsdGktVmF1bHQgQ29uZmlndXJhdGlvblxyXG5cdHZhdWx0Q29uZmlndXJhdGlvbnM6IFZhdWx0Q29uZmlndXJhdGlvbltdOyAvLyBDb25maWd1cmF0aW9uIGZvciBtdWx0aXBsZSB2YXVsdHNcclxuXHRlbmFibGVNdWx0aVZhdWx0TW9kZTogYm9vbGVhbjsgLy8gRW5hYmxlIG11bHRpLXZhdWx0IG1hbmFnZW1lbnQgZmVhdHVyZXNcclxuXHRjdXJyZW50VmF1bHRQcmlvcml0eTogbnVtYmVyOyAvLyBDdXJyZW50IHZhdWx0J3MgcHJpb3JpdHkgaW4gbXVsdGktdmF1bHQgc2V0dXBcclxuXHJcblx0Ly8gTkVXOiBBdmFpbGFibGUgbmFtZXNwYWNlcyBkaXNjb3ZlcmVkIGJ5IHRoZSBwbHVnaW5cclxuXHRhdmFpbGFibGVOYW1lc3BhY2VzOiBzdHJpbmdbXTsgLy8gTGlzdCBvZiBkaXNjb3ZlcmVkIHVuaXF1ZSBuYW1lc3BhY2VzXHJcblxyXG5cdC8vIE1DUCBUb29scyBDb25maWd1cmF0aW9uXHJcblx0bWNwVG9vbHM6IE1DUFRvb2xzU2V0dGluZ3M7XHJcblxyXG5cdC8vID09PSBWRVNTRUwgQ0xPU0UgPT09XHJcblxyXG5cdC8vIFdlYlNvY2tldCBDb25maWd1cmF0aW9uIGZvciBNQ1AgU2VydmVyIENvbW11bmljYXRpb25cclxuXHR3c0VuYWJsZWQ6IGJvb2xlYW47XHJcblx0d3NQb3J0OiBudW1iZXI7XHJcblx0d3NBdXRoVG9rZW46IHN0cmluZztcclxuXHJcblx0Ly8gUHJvcGVydHkgTWFuYWdlbWVudCAoTGVnYWN5IGNvbXBhdGliaWxpdHkpXHJcblx0cHJvcGVydHlNYXBwaW5nczogUmVjb3JkPHN0cmluZywgUmVjb3JkPHN0cmluZywgc3RyaW5nPj47IC8vIHsgXCJFbnRpdHlUeXBlXCI6IHsgXCJvcmlnaW5hbE5hbWVcIjogXCJtYXBwZWROYW1lXCIgfSB9XHJcblx0cHJvcGVydHlTZWxlY3Rpb25zOiBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPj47IC8vIHsgXCJFbnRpdHlUeXBlXCI6IHsgXCJwcm9wZXJ0eU5hbWVcIjogZW5hYmxlZCB9IH1cclxuXHJcblx0Ly8gPT09IEVOSEFOQ0VEIFNDSEVNQSBNQU5BR0VNRU5UIERBVEEgPT09XHJcblx0Ly8gUHVycG9zZTogQ29tcGxldGUgY3VzdG9tIG9udG9sb2d5IGRhdGEgZm9yIFB5ZGFudGljIG1vZGVsIGdlbmVyYXRpb25cclxuXHQvLyBJbnRlZ3JhdGlvbjogU3RvcmVzIGVudGl0eSBkZXNjcmlwdGlvbnMsIHByb3BlcnR5IGRlc2NyaXB0aW9ucywgZWRnZSB0eXBlcywgYW5kIG1hcHBpbmdzXHJcblx0Ly8gTW9kZTogQ29kZSAtIEVuaGFuY2VkIGRhdGEgc3RydWN0dXJlIGZvciBjdXN0b20gb250b2xvZ3kgYXV0aG9yaW5nXHJcblxyXG5cdC8vIEJhc2UgRW50aXR5IHByb3BlcnRpZXMgKHNoYXJlZCBieSBhbGwgZW50aXR5IHR5cGVzKVxyXG5cdGJhc2VFbnRpdHlQcm9wZXJ0aWVzOiBzdHJpbmdbXTtcclxuXHJcblx0Ly8gRW50aXR5IGNsYXNzIG1ldGFkYXRhXHJcblx0ZW50aXR5RGVzY3JpcHRpb25zOiBSZWNvcmQ8c3RyaW5nLCBFbnRpdHlEZXNjcmlwdGlvbj47XHJcblxyXG5cdC8vIFByb3BlcnR5IGRlc2NyaXB0aW9uc1xyXG5cdHByb3BlcnR5RGVzY3JpcHRpb25zOiBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCBQcm9wZXJ0eURlc2NyaXB0aW9uPj47XHJcblxyXG5cdC8vIEVkZ2UgdHlwZXNcclxuXHRlZGdlVHlwZXM6IFJlY29yZDxzdHJpbmcsIEVkZ2VUeXBlPjtcclxuXHJcblx0Ly8gRWRnZSB0eXBlIG1hcHBpbmdzXHJcblx0ZWRnZVR5cGVNYXA6IEVkZ2VUeXBlTWFwcGluZ1tdO1xyXG5cclxuXHQvLyBMTE0gaW50ZWdyYXRpb24gc2V0dGluZ3NcclxuXHRsbG1TY2hlbWFTZXR0aW5nczogTExNU2NoZW1hU2V0dGluZ3M7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBHcmFwaGl0aVBsdWdpblNldHRpbmdzID0ge1xyXG5cdC8vIERhdGFiYXNlIENvbmZpZ3VyYXRpb24gLSBJbmRlcGVuZGVudCBjb25maWdzIHByZXNlcnZlZCB3aGVuIHN3aXRjaGluZ1xyXG5cdGRhdGFiYXNlVHlwZTogJ25lbzRqJyxcclxuXHRkYXRhYmFzZUNvbmZpZ3M6IHtcclxuXHRcdG5lbzRqOiB7XHJcblx0XHRcdHVyaTogJ2JvbHQ6Ly9sb2NhbGhvc3Q6NzY4NycsXHJcblx0XHRcdHVzZXJuYW1lOiAnbmVvNGonLFxyXG5cdFx0XHRwYXNzd29yZDogJycsXHJcblx0XHRcdGRhdGFiYXNlOiAnbmVvNGonXHJcblx0XHR9LFxyXG5cdFx0ZmFsa29yZGI6IHtcclxuXHRcdFx0aG9zdDogJ2xvY2FsaG9zdCcsXHJcblx0XHRcdHBvcnQ6IDYzNzksXHJcblx0XHRcdHVzZXJuYW1lOiB1bmRlZmluZWQsICAvLyBPcHRpb25hbCBmb3IgRmFsa29yREJcclxuXHRcdFx0cGFzc3dvcmQ6IHVuZGVmaW5lZCwgIC8vIE9wdGlvbmFsIGZvciBGYWxrb3JEQlxyXG5cdFx0XHRkYXRhYmFzZTogJ2RlZmF1bHRfZGInICAvLyBPZmZpY2lhbCBGYWxrb3JEQiBkZWZhdWx0XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0Ly8gTExNIFByb3ZpZGVyIENvbmZpZ3VyYXRpb25cclxuXHRsbG1Qcm92aWRlcjogJ29wZW5haScsXHJcblx0bGxtTW9kZWw6ICdncHQtNG8nLFxyXG5cdGxsbVNtYWxsTW9kZWw6ICdncHQtNG8tbWluaScsXHJcblxyXG5cdC8vIENyb3NzLUVuY29kZXIgQ29uZmlndXJhdGlvblxyXG5cdGNyb3NzRW5jb2RlckNsaWVudDogJ29wZW5haScsIC8vIERlZmF1bHQgdG8gT3BlbkFJIFJlcmFua2VyIGFzIHBlciBwbGFuXHJcblx0Y3Jvc3NFbmNvZGVyTW9kZWw6ICdncHQtNG8tbWluaScsIC8vIERlZmF1bHQgT3BlbkFJIHJlcmFua2VyIG1vZGVsIChvbW5pLXJlcmFua2VyLXYxIGRvZXNuJ3QgZXhpc3QpXHJcblxyXG5cdC8vIFByb3ZpZGVyLXNwZWNpZmljIEFQSSBLZXlzXHJcblx0YXBpS2V5czoge1xyXG5cdFx0b3BlbmFpOiAnJyxcclxuXHRcdGFudGhyb3BpYzogJycsXHJcblx0XHRnb29nbGU6ICcnLFxyXG5cdFx0YXp1cmU6ICcnLFxyXG5cdFx0Z3JvcTogJycsXHJcblx0XHR2b3lhZ2U6ICcnLFxyXG5cdFx0dmVuaWNlOiAnJyxcclxuXHRcdG9wZW5yb3V0ZXI6ICcnLFxyXG5cdH0sXHJcblxyXG5cdC8vIEVtYmVkZGVyIENvbmZpZ3VyYXRpb25cclxuXHRlbWJlZGRlclByb3ZpZGVyOiAnb3BlbmFpJyxcclxuXHRlbWJlZGRpbmdNb2RlbDogJ3RleHQtZW1iZWRkaW5nLTMtc21hbGwnLFxyXG5cclxuXHQvLyBNb2RlbCBEZWZhdWx0cyBsb2FkZWQgZnJvbSBzZXR0aW5ncyAoaHlkcmF0ZWQgZnJvbSBkYXRhLmpzb24pXHJcblx0bGxtRGVmYXVsdHM6IHt9LFxyXG5cdGxsbVNtYWxsRGVmYXVsdHM6IHt9LFxyXG5cdGVtYmVkZGluZ0RlZmF1bHRzOiB7fSxcclxuXHJcblx0Ly8gUHJvdmlkZXItc3BlY2lmaWMgc2V0dGluZ3NcclxuXHRhenVyZUVuZHBvaW50OiAnJyxcclxuXHRhenVyZUFwaVZlcnNpb246ICcyMDI0LTAyLTAxJyxcclxuXHRvbGxhbWFFbmFibGVkOiBmYWxzZSxcclxuXHRvbGxhbWFCYXNlVXJsOiAnaHR0cDovL2xvY2FsaG9zdDoxMTQzNCcsXHJcblx0b2xsYW1hRW1iZWRkaW5nRGltOiA3NjgsXHJcblx0b3BlbnJvdXRlclByZXNldFNsdWc6ICcnLFxyXG5cdG9wZW5yb3V0ZXJVc2VQcmVzZXRXaXRoQ3VzdG9tTW9kZWw6IGZhbHNlLFxyXG5cclxuXHQvLyBQeXRob24gRW52aXJvbm1lbnRcclxuXHRweXRob25QYXRoOiAnJyxcclxuXHJcblx0Ly8gTUNQIFNlcnZlciBDb25maWd1cmF0aW9uIChMZWdhY3kgY29tcGF0aWJpbGl0eSlcclxuXHRtY3BTZXJ2ZXJVcmw6ICdodHRwOi8vbG9jYWxob3N0JyxcclxuXHRtY3BTZXJ2ZXJQb3J0OiA4MDAwLFxyXG5cdG1jcFNlcnZlckVuYWJsZWQ6IHRydWUsXHJcblx0bWNwQXV0aFRva2VuOiAnJyxcclxuXHRtY3BTZXJ2ZXJBcGlLZXk6ICcnLCAvLyBMZWdhY3kgY29tcGF0aWJpbGl0eVxyXG5cclxuXHQvLyBTeW5jIENvbmZpZ3VyYXRpb25cclxuXHRpbmNsdWRlZEZvbGRlcnM6IFtdLFxyXG5cdGV4Y2x1ZGVkRm9sZGVyczogWycub2JzaWRpYW4nLCAnLnRyYXNoJ10sXHJcblx0Z2xvYmFsbHlJZ25vcmVkRmllbGRzOiBbJ2Nzc2NsYXNzJywgJ21tX3VpZCddLFxyXG5cdGF1dG9TeW5jOiBmYWxzZSwgLy8gQENSSVRJQ0FMOiBORVZFUiBlbmFibGUgYnkgZGVmYXVsdCAtIHJlcXVpcmVzIHVzZXIgY29uZmlndXJhdGlvbiAoZGF0YWJhc2UsIEFQSSBrZXlzLCBldGMuKVxyXG5cdHN5bmNPcHRpb25zOiAnbmV3X2FuZF91cGRhdGVkJywgLy8gRGVmYXVsdCB0byBtb3JlIGluY2x1c2l2ZSBzeW5jIG9wdGlvblxyXG5cdHN5bmNJbnRlcnZhbDogNSxcclxuXHRiYXRjaFNpemU6IDEwLFxyXG5cdHByb2Nlc3NpbmdEZWxheU1zOiA1MDAsIC8vIERlZmF1bHQgcHJvY2Vzc2luZyBkZWxheSBpbiBtaWxsaXNlY29uZHNcclxuXHJcblx0Ly8gQWR2YW5jZWQgT3B0aW9uc1xyXG5cdGVuYWJsZURlYnVnTG9nZ2luZzogZmFsc2UsXHJcblx0ZW5hYmxlUGVyZm9ybWFuY2VNZXRyaWNzOiBmYWxzZSxcclxuXHRtYXhSZXRyeUF0dGVtcHRzOiAzLFxyXG5cdGNvbm5lY3Rpb25UaW1lb3V0OiAzMCxcclxuXHJcblx0Ly8gUGVyZm9ybWFuY2UgT3B0aW1pemF0aW9uXHJcblx0ZXhwZXJpbWVudGFsRGFlbW9uTW9kZTogZmFsc2UsIC8vIERpc2FibGVkIGJ5IGRlZmF1bHQgZm9yIHNhZmUgcm9sbGJhY2tcclxuXHRsb2FkRGFlbW9uT25MYXVuY2g6IGZhbHNlLCAvLyBEaXNhYmxlZCBieSBkZWZhdWx0IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XHJcblx0bG9nUGVyZm9ybWFuY2U6IGZhbHNlLCAvLyBEaXNhYmxlZCBieSBkZWZhdWx0IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XHJcblxyXG5cdC8vIFVJIFByZWZlcmVuY2VzXHJcblx0c2hvd1N5bmNTdGF0dXM6IHRydWUsXHJcblx0c2hvd05vdGlmaWNhdGlvbnM6IHRydWUsXHJcblx0Y29tcGFjdE1vZGU6IGZhbHNlLFxyXG5cdHNob3dTY2hlbWFWYWxpZGF0aW9uOiB0cnVlLCAvLyBMZWdhY3kgY29tcGF0aWJpbGl0eVxyXG5cclxuXHQvLyBTY2hlbWEgRGlzY292ZXJ5IE9wdGlvbnNcclxuXHRhdXRvRGlzY292ZXJTY2hlbWFzOiB0cnVlLFxyXG5cdHZhbGlkYXRlTmFtaW5nQ29udmVudGlvbnM6IHRydWUsXHJcblx0c3VnZ2VzdFByb3BlcnR5RGVzY3JpcHRpb25zOiB0cnVlLFxyXG5cdGVuYWJsZVByb3RlY3RlZEF0dHJpYnV0ZVdhcm5pbmdzOiB0cnVlLFxyXG5cclxuXHQvLyBEZXZlbG9wbWVudCBPcHRpb25zIChyZW1vdmVkIHNob3dEZXZlbG9wbWVudEluZGljYXRvcnMpXHJcblxyXG5cdC8vID09PSBWRVNTRUwgT1BFTiA9PT1cclxuXHQvLyBQdXJwb3NlOiBEZWZhdWx0IHZhbHVlcyBmb3Igb250b2xvZ3kgYW5kIG5hbWVzcGFjaW5nIHNldHRpbmdzXHJcblx0Ly8gSW50ZWdyYXRpb246IFNhZmUgZGVmYXVsdHMgZm9yIG5ldyBhcmNoaXRlY3R1cmFsIGZlYXR1cmVzXHJcblx0Ly8gTW9kZTogQ29kZSAtIERlZmF1bHQgY29uZmlndXJhdGlvbiB2YWx1ZXNcclxuXHJcblx0Ly8gT250b2xvZ3kgQ29uZmlndXJhdGlvblxyXG5cdHVzZUN1c3RvbU9udG9sb2d5OiBmYWxzZSwgLy8gU3RhcnQgd2l0aCBnZW5lcmljIGVwaXNvZGVzIGZvciBzYWZldHlcclxuXHJcblx0Ly8gTmFtZXNwYWNpbmcgQ29uZmlndXJhdGlvblxyXG5cdGRlZmF1bHROYW1lc3BhY2U6ICdteS12YXVsdCcsIC8vIFdpbGwgYmUgdXBkYXRlZCB0byBhY3R1YWwgdmF1bHQgbmFtZSBvbiBmaXJzdCBydW5cclxuXHRlbmFibGVGb2xkZXJOYW1lc3BhY2luZzogZmFsc2UsIC8vIERpc2FibGVkIGJ5IGRlZmF1bHRcclxuXHRlbmFibGVQcm9wZXJ0eU5hbWVzcGFjaW5nOiBmYWxzZSwgLy8gRGlzYWJsZWQgYnkgZGVmYXVsdFxyXG5cdG5hbWVzcGFjZVN0cmF0ZWd5OiAndmF1bHQnLCAvLyBVc2UgdmF1bHQgYXMgZGVmYXVsdCBzdHJhdGVneVxyXG5cdGZvbGRlck5hbWVzcGFjZU1hcHBpbmdzOiBbXSwgLy8gRW1wdHkgYXJyYXkgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcclxuXHJcblx0Ly8gTXVsdGktVmF1bHQgQ29uZmlndXJhdGlvblxyXG5cdHZhdWx0Q29uZmlndXJhdGlvbnM6IFtdLCAvLyBFbXB0eSBhcnJheSBmb3IgbmV3IGluc3RhbGxhdGlvbnNcclxuXHRlbmFibGVNdWx0aVZhdWx0TW9kZTogZmFsc2UsIC8vIERpc2FibGVkIGJ5IGRlZmF1bHRcclxuXHRjdXJyZW50VmF1bHRQcmlvcml0eTogMSwgLy8gRGVmYXVsdCBwcmlvcml0eSBmb3IgY3VycmVudCB2YXVsdFxyXG5cclxuLy8gTkVXOiBEZWZhdWx0IGVtcHR5IGFycmF5IGZvciBhdmFpbGFibGUgbmFtZXNwYWNlc1xyXG5hdmFpbGFibGVOYW1lc3BhY2VzOiBbXSxcclxuLy8gTUNQIFRvb2xzIHNldHRpbmdzIChQaGFzZSAxKVxyXG5tY3BUb29sczoge1xyXG5cdGRlZmF1bHRzOiB7XHJcblx0XHRpbmJveEZvbGRlcjogJycsXHJcblx0XHRlbmFibGVTbWFydEZvbGRlclJlc29sdXRpb246IHRydWVcclxuXHR9LFxyXG5cdGludGVncmF0aW9uczoge1xyXG5cdFx0dGVtcGxhdGVyOiB7IGRldGVjdGVkOiBmYWxzZSwgZW5hYmxlZDogZmFsc2UsIHVzZVRlbXBsYXRlRm9sZGVyczogZmFsc2UgfSxcclxuXHRcdHBlcmlvZGljTm90ZXM6IHsgZGV0ZWN0ZWQ6IGZhbHNlLCBlbmFibGVkOiBmYWxzZSwgdXNlUGVyaW9kaWNGb2xkZXJzOiBmYWxzZSB9XHJcblx0fSxcclxuXHR0b29sczogW11cclxufSxcclxuXHJcblx0Ly8gPT09IFZFU1NFTCBDTE9TRSA9PT1cclxuXHJcblx0Ly8gV2ViU29ja2V0IENvbmZpZ3VyYXRpb24gZm9yIE1DUCBTZXJ2ZXIgQ29tbXVuaWNhdGlvblxyXG5cdHdzRW5hYmxlZDogdHJ1ZSwgLy8gQENSSVRJQ0FMOiBNdXN0IGJlIGVuYWJsZWQgZm9yIE1DUCBzZXJ2ZXIgY29tbXVuaWNhdGlvblxyXG5cdHdzUG9ydDogNDE0ODQsXHJcblx0d3NBdXRoVG9rZW46ICcnLFxyXG5cclxuXHQvLyBQcm9wZXJ0eSBNYW5hZ2VtZW50IChMZWdhY3kgY29tcGF0aWJpbGl0eSlcclxuXHRwcm9wZXJ0eU1hcHBpbmdzOiB7fSxcclxuXHRwcm9wZXJ0eVNlbGVjdGlvbnM6IHt9LFxyXG5cclxuXHQvLyA9PT0gRU5IQU5DRUQgU0NIRU1BIE1BTkFHRU1FTlQgREVGQVVMVFMgPT09XHJcblx0Ly8gUHVycG9zZTogRGVmYXVsdCB2YWx1ZXMgZm9yIGVuaGFuY2VkIGN1c3RvbSBvbnRvbG9neSBkYXRhXHJcblx0Ly8gSW50ZWdyYXRpb246IFNhZmUgZGVmYXVsdHMgZm9yIG5ldyBzY2hlbWEgbWFuYWdlbWVudCBmZWF0dXJlc1xyXG5cdC8vIE1vZGU6IENvZGUgLSBEZWZhdWx0IGNvbmZpZ3VyYXRpb24gdmFsdWVzXHJcblxyXG5cdC8vIEJhc2UgRW50aXR5IHByb3BlcnRpZXMgKHNoYXJlZCBieSBhbGwgZW50aXR5IHR5cGVzKVxyXG5cdGJhc2VFbnRpdHlQcm9wZXJ0aWVzOiBbJ3R5cGUnLCAndGFncycsICdjcmVhdGVkJ10sXHJcblxyXG5cdC8vIEVudGl0eSBjbGFzcyBtZXRhZGF0YVxyXG5cdGVudGl0eURlc2NyaXB0aW9uczoge30sXHJcblxyXG5cdC8vIFByb3BlcnR5IGRlc2NyaXB0aW9uc1xyXG5cdHByb3BlcnR5RGVzY3JpcHRpb25zOiB7fSxcclxuXHJcblx0Ly8gRWRnZSB0eXBlc1xyXG5cdGVkZ2VUeXBlczoge30sXHJcblxyXG5cdC8vIEVkZ2UgdHlwZSBtYXBwaW5nc1xyXG5cdGVkZ2VUeXBlTWFwOiBbXSxcclxuXHJcblx0Ly8gTExNIGludGVncmF0aW9uIHNldHRpbmdzXHJcbmxsbVNjaGVtYVNldHRpbmdzOiB7XHJcblx0YXV0b1N1Z2dlc3RFbnRpdHlEZXNjcmlwdGlvbnM6IGZhbHNlLFxyXG5cdGF1dG9TdWdnZXN0UHJvcGVydHlEZXNjcmlwdGlvbnM6IGZhbHNlLFxyXG5cdGF1dG9TdWdnZXN0RWRnZVR5cGVzOiBmYWxzZSxcclxuXHRhdXRvU3VnZ2VzdEVkZ2VUeXBlTWFwcGluZ3M6IGZhbHNlLFxyXG5cdGVuYWJsZUJ1bGtHZW5lcmF0aW9uOiBmYWxzZSxcclxuXHRzdWdnZXN0aW9uQXBwcm92YWxSZXF1aXJlZDogdHJ1ZSxcclxufSxcclxufTtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29ubmVjdGlvblRlc3RSZXN1bHQge1xyXG5cdHN1Y2Nlc3M6IGJvb2xlYW47XHJcblx0bWVzc2FnZTogc3RyaW5nO1xyXG5cdGRldGFpbHM/OiBzdHJpbmc7XHJcblx0bGF0ZW5jeT86IG51bWJlcjtcclxufSIsImltcG9ydCB7IFBsdWdpbiwgVEZpbGUsIFRGb2xkZXIsIE5vdGljZSwgTWFya2Rvd25WaWV3LCBzZXRJY29uLCBub3JtYWxpemVQYXRoIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgam9pbiB9IGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgR3JhcGhpdGlMb2dnZXIgfSBmcm9tICcuL3V0aWxzL0xvZ2dlcic7XG5pbXBvcnQgeyBkZWJvdW5jZSB9IGZyb20gJy4vdXRpbHMvZGVib3VuY2UnO1xuaW1wb3J0IHsgV2ViU29ja2V0U2VydmljZSB9IGZyb20gJy4vc2VydmljZXMvV2ViU29ja2V0U2VydmljZSc7XG5pbXBvcnQgeyBTeW5jUmVnaXN0cnlTZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlcy9TeW5jUmVnaXN0cnlTZXJ2aWNlJztcbmltcG9ydCB7IFZhdWx0UmVnaXN0cnlTZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlcy9WYXVsdFJlZ2lzdHJ5U2VydmljZSc7XG5pbXBvcnQgeyBHcmFwaGl0aVNlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL0dyYXBoaXRpU2VydmljZSc7XG5pbXBvcnQgeyBQeXRob25EYWVtb25CcmlkZ2UgfSBmcm9tICcuL3NlcnZpY2VzL1B5dGhvbkRhZW1vbkJyaWRnZSc7XG5pbXBvcnQgeyBQeXRob25JbnN0YWxsZXIgfSBmcm9tICcuL3NlcnZpY2VzL1B5dGhvbkluc3RhbGxlcic7XG5pbXBvcnQgeyBTY2hlbWFEaXNjb3ZlcnlTZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlcy9TY2hlbWFEaXNjb3ZlcnlTZXJ2aWNlJztcbmltcG9ydCB7IFN5bmNTdGF0dXNNYW5hZ2VyIH0gZnJvbSAnLi9zZXJ2aWNlcy9TeW5jU3RhdHVzTWFuYWdlcic7XG5pbXBvcnQgeyBTaW1wbGVMTE1TZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlcy9TaW1wbGVMTE1TZXJ2aWNlJztcbmltcG9ydCB7IFNjaGVtYU1hbmFnZXJWaWV3LCBTQ0hFTUFfTUFOQUdFUl9WSUVXX1RZUEUgfSBmcm9tICcuL3ZpZXdzL1NjaGVtYU1hbmFnZXJWaWV3JztcbmltcG9ydCB7IFN5bmNNYW5hZ2VyVmlldywgU1lOQ19NQU5BR0VSX1ZJRVdfVFlQRSB9IGZyb20gJy4vdmlld3MvU3luY01hbmFnZXJWaWV3JztcbmltcG9ydCB7IG9wZW5FbmhhbmNlZFN5bmNVSSB9IGZyb20gJy4vdWkvRW5oYW5jZWRTeW5jVUknO1xuaW1wb3J0IHsgR3JhcGhpdGlTZXR0aW5nc1RhYiB9IGZyb20gJy4vc2V0dGluZ3MvU2V0dGluZ3NUYWInO1xuaW1wb3J0IHR5cGUgeyBHcmFwaGl0aVBsdWdpblNldHRpbmdzIH0gZnJvbSAnLi90eXBlcy9TZXR0aW5ncyc7XG5pbXBvcnQgeyBERUZBVUxUX1NFVFRJTkdTIH0gZnJvbSAnLi90eXBlcy9TZXR0aW5ncyc7XG5pbXBvcnQgXCJ2aXJ0dWFsOnVuby5jc3NcIjtcbmltcG9ydCBcIi4vc3R5bGVzL3N5bmMtc3RhdHVzLWljb25zLmNzc1wiO1xuXG4vKlxuIEB2ZXNzZWwtcHJvdG9jb2w6VWxsciBnb3Zlcm5zOmV4cGxvcmUtdmF1bHQgY29udGV4dDpWYXVsdCBmb2xkZXIgZXhwbG9yYXRpb24gaGVscGVycyBhbmQgTUNQIHRvb2wgaW50ZWdyYXRpb25cbiBAaW50ZXItZGVwZW5kZW5jaWVzOiBbT2JzaWRpYW4gYXBwLnZhdWx0IEFQSXMsIG5vcm1hbGl6ZVBhdGgsIFRGb2xkZXJdXG4gQHB1cnBvc2U6IFByb3ZpZGUgaGVscGVyIGZ1bmN0aW9ucyBmb3IgaW50ZWxsaWdlbnQgdmF1bHQgZm9sZGVyIGV4cGxvcmF0aW9uIHVzZWQgYnkgTUNQIHNlcnZlciB0b29sc1xuIEByZXN1bHQ6IEltcGxlbWVudCBleHBsb3JlX3ZhdWx0X2ZvbGRlcnMgYmVoYXZpb3IgaW5saW5lIGZvciBxdWljayBpbnRlZ3JhdGlvbiBhbmQgdGVzdGluZ1xuIEBzaWduZWQ6IEMuQmrDuHJuXG4qL1xudHlwZSBFeHBsb3JlRm9ybWF0ID0gJ3RyZWUnIHwgJ2ZsYXQnIHwgJ3BhdGhzJyB8ICdzbWFydCc7XG5cbmludGVyZmFjZSBFeHBsb3JlUmVzdWx0SXRlbSB7XG4gICAgcGF0aDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBwYXJlbnRQYXRoPzogc3RyaW5nO1xuICAgIGNoaWxkcmVuPzogRXhwbG9yZVJlc3VsdEl0ZW1bXTtcbiAgICBtYXRjaFJlYXNvbj86IHN0cmluZztcbiAgICBoaWdobGlnaHRNYXRjaD86IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIEV4cGxvcmVSZXNwb25zZSB7XG4gICAgcmVzdWx0czogRXhwbG9yZVJlc3VsdEl0ZW1bXTtcbiAgICB0b3RhbEZvbGRlcnM6IG51bWJlcjtcbiAgICBzZWFyY2hRdWVyeT86IHN0cmluZztcbiAgICBmb3JtYXQ6IHN0cmluZztcbn1cblxuZnVuY3Rpb24gc2FmZU5vcm1hbGl6ZShwPzogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAoIXApIHJldHVybiAnJztcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gbm9ybWFsaXplUGF0aChwKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIHAucmVwbGFjZSgvXFxcXFxcXFwvZywgJy8nKS5yZXBsYWNlKC9cXFxcL2csICcvJyk7XG4gICAgfVxufVxuXG4vKipcbiAqIENvbGxlY3QgYWxsIGZvbGRlcnMgdW5kZXIgYSByb290IFRGb2xkZXIgKGl0ZXJhdGl2ZSB0byBhdm9pZCByZWN1cnNpb24gbGltaXRzKVxuICovXG5mdW5jdGlvbiBjb2xsZWN0QWxsRm9sZGVycyhyb290OiBURm9sZGVyKTogVEZvbGRlcltdIHtcbiAgICBjb25zdCBvdXQ6IFRGb2xkZXJbXSA9IFtdO1xuICAgIGNvbnN0IHN0YWNrOiBURm9sZGVyW10gPSBbcm9vdF07XG4gICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgZiA9IHN0YWNrLnBvcCgpITtcbiAgICAgICAgb3V0LnB1c2goZik7XG4gICAgICAgIGZvciAoY29uc3QgYyBvZiBmLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAoYyBpbnN0YW5jZW9mIFRGb2xkZXIpIHtcbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQnVpbGQgYSBkZXB0aC1saW1pdGVkIHRyZWUgZnJvbSBhIGZvbGRlclxuICovXG5mdW5jdGlvbiBidWlsZEZvbGRlclRyZWUoZm9sZGVyOiBURm9sZGVyLCBkZXB0aDogbnVtYmVyKTogRXhwbG9yZVJlc3VsdEl0ZW0ge1xuICAgIGNvbnN0IG5vZGU6IEV4cGxvcmVSZXN1bHRJdGVtID0ge1xuICAgICAgICBwYXRoOiBmb2xkZXIucGF0aCxcbiAgICAgICAgbmFtZTogZm9sZGVyLm5hbWUsXG4gICAgICAgIHBhcmVudFBhdGg6IChmb2xkZXIucGFyZW50ICYmIChmb2xkZXIucGFyZW50IGFzIGFueSkucGF0aCkgfHwgJydcbiAgICB9O1xuXG4gICAgaWYgKGRlcHRoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cblxuICAgIGNvbnN0IGNoaWxkcmVuOiBFeHBsb3JlUmVzdWx0SXRlbVtdID0gW107XG4gICAgZm9sZGVyLmNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4ge1xuICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBURm9sZGVyKSB7XG4gICAgICAgICAgICBjaGlsZHJlbi5wdXNoKGJ1aWxkRm9sZGVyVHJlZShjaGlsZCwgZGVwdGggPiAwID8gZGVwdGggLSAxIDogZGVwdGgpKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDApIG5vZGUuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICByZXR1cm4gbm9kZTtcbn1cblxuLyoqXG4gKiBGbGF0dGVuIGFycmF5IG9mIFRGb2xkZXIgaW50byBFeHBsb3JlUmVzdWx0SXRlbVxuICovXG5mdW5jdGlvbiBmb2xkZXJUb0l0ZW0oZm9sZGVyOiBURm9sZGVyKTogRXhwbG9yZVJlc3VsdEl0ZW0ge1xuICAgIHJldHVybiB7XG4gICAgICAgIHBhdGg6IGZvbGRlci5wYXRoLFxuICAgICAgICBuYW1lOiBmb2xkZXIubmFtZSxcbiAgICAgICAgcGFyZW50UGF0aDogKGZvbGRlci5wYXJlbnQgJiYgKGZvbGRlci5wYXJlbnQgYXMgYW55KS5wYXRoKSB8fCAnJ1xuICAgIH07XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgZm9sZGVyIG1hdGNoZXMgcXVlcnkgKGNhc2UtaW5zZW5zaXRpdmUgcGFydGlhbCBvbiBuYW1lIG9yIHBhdGgpXG4gKi9cbmZ1bmN0aW9uIGZvbGRlck1hdGNoZXNRdWVyeShmb2xkZXI6IFRGb2xkZXIsIHF1ZXJ5OiBzdHJpbmcpOiB7IG1hdGNoZWQ6IGJvb2xlYW47IHJlYXNvbj86IHN0cmluZzsgaGlnaGxpZ2h0Pzogc3RyaW5nIH0ge1xuICAgIGNvbnN0IHEgPSBxdWVyeS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAoIXEpIHJldHVybiB7IG1hdGNoZWQ6IGZhbHNlIH07XG5cbiAgICBjb25zdCBuYW1lID0gZm9sZGVyLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBwYXRoID0gZm9sZGVyLnBhdGgudG9Mb3dlckNhc2UoKTtcblxuICAgIGlmIChuYW1lLmluY2x1ZGVzKHEpKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gZm9sZGVyLm5hbWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKHEpO1xuICAgICAgICBjb25zdCBoaWdobGlnaHQgPSBmb2xkZXIubmFtZS5zdWJzdHJpbmcoc3RhcnQsIHN0YXJ0ICsgcS5sZW5ndGgpO1xuICAgICAgICByZXR1cm4geyBtYXRjaGVkOiB0cnVlLCByZWFzb246ICduYW1lJywgaGlnaGxpZ2h0IH07XG4gICAgfVxuXG4gICAgaWYgKHBhdGguaW5jbHVkZXMocSkpIHtcbiAgICAgICAgY29uc3Qgc3RhcnRJZHggPSBmb2xkZXIucGF0aC50b0xvd2VyQ2FzZSgpLmluZGV4T2YocSk7XG4gICAgICAgIGNvbnN0IGhpZ2hsaWdodCA9IGZvbGRlci5wYXRoLnN1YnN0cmluZyhzdGFydElkeCwgc3RhcnRJZHggKyBxLmxlbmd0aCk7XG4gICAgICAgIHJldHVybiB7IG1hdGNoZWQ6IHRydWUsIHJlYXNvbjogJ3BhdGgnLCBoaWdobGlnaHQgfTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBtYXRjaGVkOiBmYWxzZSB9O1xufVxuXG4vKipcbiAqIERlY2lkZSBmb3JtYXQgd2hlbiAnc21hcnQnIGlzIHJlcXVlc3RlZFxuICovXG5mdW5jdGlvbiBzZWxlY3RTbWFydEZvcm1hdChxdWVyeT86IHN0cmluZywgcGF0aD86IHN0cmluZyk6IEV4cGxvcmVGb3JtYXQge1xuICAgIGlmICghcXVlcnkgJiYgcGF0aCkgcmV0dXJuICd0cmVlJztcbiAgICBpZiAoIXF1ZXJ5ICYmICFwYXRoKSByZXR1cm4gJ3RyZWUnO1xuICAgIC8vIElmIHF1ZXJ5IGxvb2tzIGxpa2UgYSBsb2NhdGlvbiByZXF1ZXN0IChjb250YWlucyBzbGFzaCBvciB3b3JkcyAnd2hlcmUnLydwYXRoJyksIHByZWZlciBwYXRoc1xuICAgIGNvbnN0IHFMb3dlciA9IChxdWVyeSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAocUxvd2VyLmluY2x1ZGVzKCcvJykgfHwgcUxvd2VyLmluY2x1ZGVzKCd3aGVyZScpIHx8IHFMb3dlci5pbmNsdWRlcygncGF0aCcpIHx8IHFMb3dlci5zdGFydHNXaXRoKCdmaW5kICcpKSB7XG4gICAgICAgIHJldHVybiAncGF0aHMnO1xuICAgIH1cbiAgICAvLyBvdGhlcndpc2UgcHJlZmVyIGZsYXQgc2VhcmNoIHJlc3VsdHMgZm9yIHF1ZXJpZXNcbiAgICByZXR1cm4gJ2ZsYXQnO1xufVxuLy8gQHZlc3NlbC1jbG9zZTpVbGxyXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyYXBoaXRpUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcbiAgICBzZXR0aW5ncyE6IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3M7XG4gICAgbG9nZ2VyITogR3JhcGhpdGlMb2dnZXI7XG4gICAgd3NTZXJ2aWNlITogV2ViU29ja2V0U2VydmljZTtcbiAgICBzeW5jUmVnaXN0cnlTZXJ2aWNlITogU3luY1JlZ2lzdHJ5U2VydmljZTtcbiAgICB2YXVsdFJlZ2lzdHJ5U2VydmljZSE6IFZhdWx0UmVnaXN0cnlTZXJ2aWNlO1xuICAgIGdyYXBoaXRpU2VydmljZSE6IEdyYXBoaXRpU2VydmljZTtcbiAgICBweXRob25EYWVtb25CcmlkZ2UhOiBQeXRob25EYWVtb25CcmlkZ2U7XG4gICAgc2NoZW1hU2VydmljZSE6IFNjaGVtYURpc2NvdmVyeVNlcnZpY2U7XG4gICAgc3luY1N0YXR1c01hbmFnZXIhOiBTeW5jU3RhdHVzTWFuYWdlcjtcbiAgICBsbG1TZXJ2aWNlITogU2ltcGxlTExNU2VydmljZTtcbiAgICBzZXJ2aWNlczogYW55W10gPSBbXTtcbiAgICAvLyBTeW5jIHNjaGVkdWxpbmcgKHNjaGVkdWxlci1vbmx5LCBubyBwZXItbm90ZSBkZWJvdW5jZSlcbiAgICBwcml2YXRlIHN5bmNJbnRlcnZhbElkOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgICBwcml2YXRlIHN5bmNKc29uV2F0Y2hlcjogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgZGVib3VuY2VkU3luY0N1cnJlbnROb3RlPzogKCkgPT4gdm9pZDtcbiAgICBwcml2YXRlIG5lZWRzRGVmYXVsdHNQZXJzaXN0OiBib29sZWFuID0gZmFsc2U7XG5cblxuICAgIC8vIEB2ZXNzZWwtcHJvdG9jb2w6TG9raSBnb3Zlcm5zOm1pZ3JhdGlvbiBjb250ZXh0OkxlZ2FjeSBzeW5jT25TYXZlIHRvIGF1dG9TeW5jIHNldHRpbmdzIHRyYW5zaXRpb25cbiAgICAvLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbU2V0dGluZ3MudHMsIFNldHRpbmdzVGFiLnRzXVxuICAgIC8vIEBwdXJwb3NlOiBTZWFtbGVzc2x5IG1pZ3JhdGUgdXNlcnMgZnJvbSBvbGQgc3luY09uU2F2ZSBwcm9wZXJ0eSB0byBuZXcgYXV0b1N5bmMgd2l0aCBlbmhhbmNlZCBmdW5jdGlvbmFsaXR5XG4gICAgLy8gQHJlc3VsdDogVXNlcnMgZXhwZXJpZW5jZSBubyBkaXNydXB0aW9uIHdoaWxlIGdhaW5pbmcgYWNjZXNzIHRvIG5ldyBzeW5jIGZpbHRlcmluZyBvcHRpb25zXG4gICAgLy8gQHNpZ25lZDogQy5CasO4cm5cbiAgICBhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG4gICAgICAgIGNvbnN0IHJhd1NldHRpbmdzID0gYXdhaXQgdGhpcy5sb2FkRGF0YSgpO1xuICAgICAgICBcbiAgICAgICAgLy8gQHB1cnBvc2U6IFByb3RlY3QgYWdhaW5zdCBkYXRhLmpzb24gY29ycnVwdGlvbi9yZXNldCAtIGxvZyB3aGVuIHJhd1NldHRpbmdzIGlzIG51bGwvZW1wdHlcbiAgICAgICAgLy8gQGRlcGVuZHM6IEdyYXBoaXRpTG9nZ2VyIChtYXkgbm90IGJlIGluaXRpYWxpemVkIHlldClcbiAgICAgICAgLy8gQHJlc3VsdHM6IERpYWdub3N0aWMgaW5mbyB0byBwcmV2ZW50IGNhdGFzdHJvcGhpYyBzZXR0aW5ncyBsb3NzXG4gICAgICAgIGlmICghcmF3U2V0dGluZ3MgfHwgT2JqZWN0LmtleXMocmF3U2V0dGluZ3MpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBgW0NSSVRJQ0FMXSBkYXRhLmpzb24gd2FzICR7IXJhd1NldHRpbmdzID8gJ251bGwnIDogJ2VtcHR5J30gLSBsb2FkaW5nIGRlZmF1bHRzLiBUaGlzIHNob3VsZCBORVZFUiBoYXBwZW4gaW4gcHJvZHVjdGlvbi5gO1xuICAgICAgICAgICAgaWYgKHRoaXMubG9nZ2VyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoZXJyb3JNc2csIHtcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHZhdWx0TmFtZTogdGhpcy5hcHAudmF1bHQuZ2V0TmFtZSgpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3JNc2cpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgcmF3U2V0dGluZ3MpO1xuXG4gICAgICAgIC8vIEh5ZHJhdGUgTExNL0VtYmVkZGluZyBkZWZhdWx0cyBmcm9tIGRhdGEuanNvbiBpbnRvIHRvcC1sZXZlbCBzZXR0aW5ncyBmb3IgVUkgY29uc3VtcHRpb25cbiAgICAgICAgLy8gQWNjZXB0IGJvdGggdG9wLWxldmVsIGFuZCBuZXN0ZWQgKG1jcFNlcnZlcnMuKikgc291cmNlcyBhbmQgbm9ybWFsaXplIFwiZW1iZWRkZXJEZWZhdWx0c1wiIC0+IFwiZW1iZWRkaW5nRGVmYXVsdHNcIlxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcnM6IGFueSA9IHJhd1NldHRpbmdzIHx8IHt9O1xuICAgICAgICAgICAgY29uc3QgczogYW55ID0gdGhpcy5zZXR0aW5ncyBhcyBhbnk7XG4gICAgICAgICAgICBjb25zdCBpc0VtcHR5ID0gKG9iajogYW55KSA9PiAhb2JqIHx8ICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBPYmplY3Qua2V5cyhvYmopLmxlbmd0aCA9PT0gMCk7XG4gICAgICAgICAgICBsZXQgZGlkSHlkcmF0ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBsbG1EZWZhdWx0c1xuICAgICAgICAgICAgaWYgKGlzRW1wdHkocy5sbG1EZWZhdWx0cykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b3AgPSBycy5sbG1EZWZhdWx0cztcbiAgICAgICAgICAgICAgICBjb25zdCBuZXN0ZWQgPSBycy5tY3BTZXJ2ZXJzPy5sbG1EZWZhdWx0cztcbiAgICAgICAgICAgICAgICBpZiAoIWlzRW1wdHkodG9wKSkge1xuICAgICAgICAgICAgICAgICAgICBzLmxsbURlZmF1bHRzID0gdG9wO1xuICAgICAgICAgICAgICAgICAgICBkaWRIeWRyYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFpc0VtcHR5KG5lc3RlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcy5sbG1EZWZhdWx0cyA9IG5lc3RlZDtcbiAgICAgICAgICAgICAgICAgICAgZGlkSHlkcmF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBsbG1TbWFsbERlZmF1bHRzXG4gICAgICAgICAgICBpZiAoaXNFbXB0eShzLmxsbVNtYWxsRGVmYXVsdHMpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9wID0gcnMubGxtU21hbGxEZWZhdWx0cztcbiAgICAgICAgICAgICAgICBjb25zdCBuZXN0ZWQgPSBycy5tY3BTZXJ2ZXJzPy5sbG1TbWFsbERlZmF1bHRzO1xuICAgICAgICAgICAgICAgIGlmICghaXNFbXB0eSh0b3ApKSB7XG4gICAgICAgICAgICAgICAgICAgIHMubGxtU21hbGxEZWZhdWx0cyA9IHRvcDtcbiAgICAgICAgICAgICAgICAgICAgZGlkSHlkcmF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghaXNFbXB0eShuZXN0ZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHMubGxtU21hbGxEZWZhdWx0cyA9IG5lc3RlZDtcbiAgICAgICAgICAgICAgICAgICAgZGlkSHlkcmF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBlbWJlZGRpbmdEZWZhdWx0cyAobm9ybWFsaXplIGFsdGVybmF0ZSBrZXkgXCJlbWJlZGRlckRlZmF1bHRzXCIpXG4gICAgICAgICAgICBpZiAoaXNFbXB0eShzLmVtYmVkZGluZ0RlZmF1bHRzKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvcCA9IHJzLmVtYmVkZGluZ0RlZmF1bHRzO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5lc3RlZEEgPSBycy5tY3BTZXJ2ZXJzPy5lbWJlZGRpbmdEZWZhdWx0cztcbiAgICAgICAgICAgICAgICBjb25zdCBuZXN0ZWRCID0gcnMubWNwU2VydmVycz8uZW1iZWRkZXJEZWZhdWx0cztcbiAgICAgICAgICAgICAgICBpZiAoIWlzRW1wdHkodG9wKSkge1xuICAgICAgICAgICAgICAgICAgICBzLmVtYmVkZGluZ0RlZmF1bHRzID0gdG9wO1xuICAgICAgICAgICAgICAgICAgICBkaWRIeWRyYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFpc0VtcHR5KG5lc3RlZEEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHMuZW1iZWRkaW5nRGVmYXVsdHMgPSBuZXN0ZWRBO1xuICAgICAgICAgICAgICAgICAgICBkaWRIeWRyYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFpc0VtcHR5KG5lc3RlZEIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHMuZW1iZWRkaW5nRGVmYXVsdHMgPSBuZXN0ZWRCO1xuICAgICAgICAgICAgICAgICAgICBkaWRIeWRyYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFBlcnNpc3QgaW1tZWRpYXRlbHkgc28gU2V0dGluZ3NUYWIgc2VlcyBoeWRyYXRlZCBkZWZhdWx0cyBvbiBmaXJzdCByZW5kZXJcbiAgICAgICAgICAgIGlmIChkaWRIeWRyYXRlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZWVkc0RlZmF1bHRzUGVyc2lzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBwZXJzaXN0ZW5jZSBmYWlscyAoZS5nLiwgZHVyaW5nIHZlcnkgZWFybHkgbG9hZCksIG1hcmsgZm9yIGxhdGVyIHBlcnNpc3RlbmNlIGFmdGVyIGxvZ2dlciBpbml0XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmVlZHNEZWZhdWx0c1BlcnNpc3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAvLyBJbnRlbnRpb25hbGx5IHNpbGVudCAtIGh5ZHJhdGlvbiBpcyBiZXN0LWVmZm9ydCBhbmQgVUkgaGFzIGludGVybmFsIGZhbGxiYWNrc1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTWlncmF0aW9uIGxvZ2ljOiBIYW5kbGUgdHJhbnNpdGlvbiBmcm9tIHN5bmNPblNhdmUgdG8gYXV0b1N5bmNcbiAgICAgICAgaWYgKHJhd1NldHRpbmdzICYmICdzeW5jT25TYXZlJyBpbiByYXdTZXR0aW5ncyAmJiAhKCdhdXRvU3luYycgaW4gcmF3U2V0dGluZ3MpKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlcj8uZGVidWcoJ01pZ3JhdGluZyBzeW5jT25TYXZlIHNldHRpbmcgdG8gYXV0b1N5bmMnLCB7XG4gICAgICAgICAgICAgICAgb2xkVmFsdWU6IChyYXdTZXR0aW5ncyBhcyBhbnkpLnN5bmNPblNhdmVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBQcmVzZXJ2ZSB1c2VyJ3MgZXhpc3Rpbmcgc3luYyBiZWhhdmlvclxuICAgICAgICAgICAgKHRoaXMuc2V0dGluZ3MgYXMgYW55KS5hdXRvU3luYyA9IChyYXdTZXR0aW5ncyBhcyBhbnkpLnN5bmNPblNhdmU7XG5cbiAgICAgICAgICAgIC8vIFNldCBkZWZhdWx0IHN5bmMgb3B0aW9ucyBiYXNlZCBvbiBsZWdhY3kgYmVoYXZpb3JcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3Muc3luY09wdGlvbnMgPSAnbmV3X2FuZF91cGRhdGVkJzsgLy8gTGVnYWN5IGJlaGF2aW9yIHdhcyB0byBzeW5jIGFsbCBjaGFuZ2VzXG5cbiAgICAgICAgICAgIC8vIFNhdmUgbWlncmF0ZWQgc2V0dGluZ3MgYW5kIHJlbW92ZSBvbGQgcHJvcGVydHlcbiAgICAgICAgICAgIGRlbGV0ZSAocmF3U2V0dGluZ3MgYXMgYW55KS5zeW5jT25TYXZlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcblxuICAgICAgICAgICAgdGhpcy5sb2dnZXI/LmluZm8oJ1N1Y2Nlc3NmdWxseSBtaWdyYXRlZCBzeW5jIHNldHRpbmdzJywge1xuICAgICAgICAgICAgICAgIGF1dG9TeW5jOiB0aGlzLnNldHRpbmdzLmF1dG9TeW5jLFxuICAgICAgICAgICAgICAgIHN5bmNPcHRpb25zOiB0aGlzLnNldHRpbmdzLnN5bmNPcHRpb25zXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBAdmVzc2VsLWNsb3NlOkxva2lcblxuICAgIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblxuICAgICAgICAvLyBVcGRhdGUgbG9nZ2VyIGRlYnVnIHN0YXRlXG4gICAgICAgIGlmICh0aGlzLmxvZ2dlcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuc2V0RGVidWcodGhpcy5zZXR0aW5ncy5lbmFibGVEZWJ1Z0xvZ2dpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIHN5bmMgc2NoZWR1bGluZyB3aGVuIHNldHRpbmdzIGNoYW5nZVxuICAgICAgICBpZiAodGhpcy5ncmFwaGl0aVNlcnZpY2UpIHtcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpdGlTZXJ2aWNlLnVwZGF0ZVNldHRpbmdzKHRoaXMuc2V0dGluZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc3luY1N0YXR1c01hbmFnZXIpIHtcbiAgICAgICAgICAgIHRoaXMuc3luY1N0YXR1c01hbmFnZXIudXBkYXRlU2V0dGluZ3ModGhpcy5zZXR0aW5ncyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBAcHVycG9zZTogQ2xvc2UgU2NoZW1hIE1hbmFnZXIgd2hlbiBjdXN0b20gb250b2xvZ3kgZGlzYWJsZWQgQGRlcGVuZHM6IHNldHRpbmdzLnVzZUN1c3RvbU9udG9sb2d5IEByZXN1bHRzOiBDbGVhbiBVSSBzdGF0ZVxuICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3MudXNlQ3VzdG9tT250b2xvZ3kpIHtcbiAgICAgICAgICAgIGNvbnN0IGxlYXZlcyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoU0NIRU1BX01BTkFHRVJfVklFV19UWVBFKTtcbiAgICAgICAgICAgIGxlYXZlcy5mb3JFYWNoKGxlYWYgPT4gbGVhZi5kZXRhY2goKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGUgc3luYyBzY2hlZHVsaW5nXG4gICAgICAgIHRoaXMudXBkYXRlU3luY1NjaGVkdWxpbmcoKTtcbiAgICB9XG5cbiAgICBhc3luYyBvbmxvYWQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXG4gICAgICAgICAgICAvLyBTZXQgdmF1bHQgbmFtZSBhcyBkZWZhdWx0IG5hbWVzcGFjZSBvbiBmaXJzdCBydW5cbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmRlZmF1bHROYW1lc3BhY2UgPT09ICdteS12YXVsdCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLmRlZmF1bHROYW1lc3BhY2UgPSB0aGlzLmFwcC52YXVsdC5nZXROYW1lKCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gR2VuZXJhdGUgYXV0aCB0b2tlbiBvbiBmaXJzdCBydW5cbiAgICAgICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy53c0F1dGhUb2tlbikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3Mud3NBdXRoVG9rZW4gPSBjcnlwdG8ucmFuZG9tVVVJRCgpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgYWxsIHNlcnZpY2VzIChXZWJTb2NrZXQgKyBvcmlnaW5hbCBzZXJ2aWNlcylcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyID0gbmV3IEdyYXBoaXRpTG9nZ2VyKHRoaXMsIHRoaXMuc2V0dGluZ3MuZW5hYmxlRGVidWdMb2dnaW5nKTtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluaXQoKTsgLy8gSW5pdGlhbGl6ZSBsb2dnZXIgYWZ0ZXIgcGx1Z2luIGlzIGxvYWRlZFxuXG4gICAgICAgICAgICAvLyBEaWFnbm9zdGljczogcmVwb3J0IGRpc2NvdmVyZWQgZGVmYXVsdHMgcHJvdmlkZXJzIHNvIFVJIGF2b2lkcyBmYWxsYmFja3NcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzOiBhbnkgPSB0aGlzLnNldHRpbmdzIGFzIGFueTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb3VudHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGxsbVByb3ZpZGVyczogcz8ubGxtRGVmYXVsdHMgPyBPYmplY3Qua2V5cyhzLmxsbURlZmF1bHRzKS5sZW5ndGggOiAwLFxuICAgICAgICAgICAgICAgICAgICBsbG1TbWFsbFByb3ZpZGVyczogcz8ubGxtU21hbGxEZWZhdWx0cyA/IE9iamVjdC5rZXlzKHMubGxtU21hbGxEZWZhdWx0cykubGVuZ3RoIDogMCxcbiAgICAgICAgICAgICAgICAgICAgZW1iZWRkaW5nUHJvdmlkZXJzOiBzPy5lbWJlZGRpbmdEZWZhdWx0cyA/IE9iamVjdC5rZXlzKHMuZW1iZWRkaW5nRGVmYXVsdHMpLmxlbmd0aCA6IDBcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbU0VUVElOR1NdIERlZmF1bHRzIHByb3ZpZGVycyBkaXNjb3ZlcmVkJywgY291bnRzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUGVyc2lzdCBtaWdyYXRlZCBkZWZhdWx0cyBpZiB3ZSBoeWRyYXRlZCB0aGVtIGZyb20gbGVnYWN5IGxvY2F0aW9uc1xuICAgICAgICAgICAgaWYgKHRoaXMubmVlZHNEZWZhdWx0c1BlcnNpc3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW1NFVFRJTkdTXSBQZXJzaXN0aW5nIG1pZ3JhdGVkIGRlZmF1bHRzIHRvIHRvcC1sZXZlbCcpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5uZWVkc0RlZmF1bHRzUGVyc2lzdCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UgPSBuZXcgU3luY1JlZ2lzdHJ5U2VydmljZSh0aGlzLmFwcCwgdGhpcywgdGhpcy5sb2dnZXIpO1xuICAgICAgICAgICAgdGhpcy52YXVsdFJlZ2lzdHJ5U2VydmljZSA9IG5ldyBWYXVsdFJlZ2lzdHJ5U2VydmljZSh0aGlzLmFwcCwgdGhpcywgdGhpcy5sb2dnZXIpO1xuICAgICAgICAgICAgdGhpcy5zY2hlbWFTZXJ2aWNlID0gbmV3IFNjaGVtYURpc2NvdmVyeVNlcnZpY2UodGhpcy5hcHAsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5sbG1TZXJ2aWNlID0gbmV3IFNpbXBsZUxMTVNlcnZpY2UodGhpcyk7XG5cbiAgICAgICAgICAgIC8vIEBwdXJwb3NlOiBJbml0aWFsaXplIFB5dGhvbiBkYWVtb24gYnJpZGdlIGZvciBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb25cbiAgICAgICAgICAgIC8vIEBkZXBlbmRzOiBzZXR0aW5ncy5leHBlcmltZW50YWxEYWVtb25Nb2RlLCBsb2dnZXIsIHZhdWx0UmVnaXN0cnlTZXJ2aWNlXG4gICAgICAgICAgICAvLyBAcmVzdWx0czogUGVyc2lzdGVudCBQeXRob24gcHJvY2VzcyBmb3IgQkdFIG1vZGVsIGxvYWRpbmdcbiAgICAgICAgICAgIHRoaXMucHl0aG9uRGFlbW9uQnJpZGdlID0gbmV3IFB5dGhvbkRhZW1vbkJyaWRnZSh0aGlzLCB0aGlzLnNldHRpbmdzLCB0aGlzLmxvZ2dlciwgdGhpcy52YXVsdFJlZ2lzdHJ5U2VydmljZSk7XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBHcmFwaGl0aVNlcnZpY2UgZmlyc3QsIHRoZW4gU3luY1N0YXR1c01hbmFnZXJcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpdGlTZXJ2aWNlID0gbmV3IEdyYXBoaXRpU2VydmljZShcbiAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgdGhpcy5zeW5jUmVnaXN0cnlTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIG51bGwgYXMgYW55LCAvLyBUZW1wb3JhcnkgbnVsbCBmb3Igc3luY1N0YXR1c01hbmFnZXJcbiAgICAgICAgICAgICAgICB0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5zeW5jU3RhdHVzTWFuYWdlciA9IG5ldyBTeW5jU3RhdHVzTWFuYWdlcihcbiAgICAgICAgICAgICAgICB0aGlzLmFwcCxcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLFxuICAgICAgICAgICAgICAgIHRoaXMuZ3JhcGhpdGlTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZSxcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlclxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIC8vIE5vdyB1cGRhdGUgR3JhcGhpdGlTZXJ2aWNlIHdpdGggdGhlIHN5bmNTdGF0dXNNYW5hZ2VyIHJlZmVyZW5jZVxuICAgICAgICAgICAgKHRoaXMuZ3JhcGhpdGlTZXJ2aWNlIGFzIGFueSkuc3luY1N0YXR1c01hbmFnZXIgPSB0aGlzLnN5bmNTdGF0dXNNYW5hZ2VyO1xuICAgICAgICAgICAgdGhpcy5kZWJvdW5jZWRTeW5jQ3VycmVudE5vdGUgPSBkZWJvdW5jZSgoKSA9PiB0aGlzLnN5bmNDdXJyZW50Tm90ZSgpLCAxMDAwKTtcblxuICAgICAgICAgICAgdGhpcy53c1NlcnZpY2UgPSBuZXcgV2ViU29ja2V0U2VydmljZSh0aGlzLCB0aGlzLnNldHRpbmdzLCB0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UsIHRoaXMudmF1bHRSZWdpc3RyeVNlcnZpY2UpO1xuXG4gICAgICAgICAgICAvLyBBZGQgc2VydmljZXMgdG8gdGhlIHNlcnZpY2VzIGFycmF5IGZvciBsaWZlY3ljbGUgbWFuYWdlbWVudFxuICAgICAgICAgICAgdGhpcy5zZXJ2aWNlcyA9IFt0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UsIHRoaXMudmF1bHRSZWdpc3RyeVNlcnZpY2UsIHRoaXMud3NTZXJ2aWNlLCB0aGlzLnB5dGhvbkRhZW1vbkJyaWRnZV07XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZS5sb2FkKCk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlLmxvYWQoKTtcblxuICAgICAgICAgICAgLy8gT25seSBzdGFydCBXZWJTb2NrZXQgc2VydmljZSBpZiBlbmFibGVkIGluIHNldHRpbmdzXG4gICAgICAgICAgICAvLyBWYXVsdCBhdXRvLXJlZ2lzdHJhdGlvbiB3aWxsIG5vdyBiZSB0cmlnZ2VyZWQgYnkgc3VjY2Vzc2Z1bCBXZWJTb2NrZXQgY29ubmVjdGlvblxuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3Mud3NFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tQTFVHSU5dIFN0YXJ0aW5nIFdlYlNvY2tldCBzZXJ2aWNlIC0gdmF1bHQgcmVnaXN0cmF0aW9uIHdpbGwgb2NjdXIgb24gY29ubmVjdGlvbicpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud3NTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbUExVR0lOXSBXZWJTb2NrZXQgZGlzYWJsZWQgaW4gc2V0dGluZ3MgLSBubyBhdXRvbWF0aWMgdmF1bHQgcmVnaXN0cmF0aW9uJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlZ2lzdGVyIHRoZSBTY2hlbWEgTWFuYWdlciB2aWV3XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyVmlldyhTQ0hFTUFfTUFOQUdFUl9WSUVXX1RZUEUsIChsZWFmKSA9PiBuZXcgU2NoZW1hTWFuYWdlclZpZXcobGVhZiwgdGhpcy5zY2hlbWFTZXJ2aWNlLCB0aGlzKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFJlZ2lzdGVyIHRoZSBTeW5jIE1hbmFnZXIgdmlld1xuICAgICAgICAgICAgdGhpcy5yZWdpc3RlclZpZXcoU1lOQ19NQU5BR0VSX1ZJRVdfVFlQRSwgKGxlYWYpID0+XG4gICAgICAgICAgICAgICAgbmV3IFN5bmNNYW5hZ2VyVmlldyhsZWFmLCB0aGlzLmdyYXBoaXRpU2VydmljZSwgdGhpcy5zeW5jUmVnaXN0cnlTZXJ2aWNlLCB0aGlzLmxvZ2dlcilcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIEFkZCBzZXR0aW5ncyB0YWJcbiAgICAgICAgICAgIHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgR3JhcGhpdGlTZXR0aW5nc1RhYih0aGlzLmFwcCwgdGhpcykpO1xuXG4gICAgICAgICAgICAvLyBBZGQgcmliYm9uIGljb25zXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy51c2VDdXN0b21PbnRvbG9neSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkUmliYm9uSWNvbihcImRhdGFiYXNlXCIsIFwiT3BlbiBTY2hlbWEgTWFuYWdlclwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVWaWV3KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYWRkUmliYm9uSWNvbihcInJlZnJlc2gtY3dcIiwgXCJPcGVuIEdyYXBoaXRpIFN5bmNcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVTeW5jVmlldygpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIEFkZCBjb21tYW5kc1xuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MudXNlQ3VzdG9tT250b2xvZ3kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgICAgICAgICAgICAgICBpZDogJ29wZW4tc2NoZW1hLW1hbmFnZXInLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnT3BlbiBTY2hlbWEgTWFuYWdlcicsXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGl2YXRlVmlldygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICAgICAgICAgICAgaWQ6ICdkaXNjb3Zlci1zY2hlbWFzJyxcbiAgICAgICAgICAgICAgICBuYW1lOiAnRGlzY292ZXIgU2NoZW1hcyBmcm9tIFZhdWx0JyxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2NvdmVyU2NoZW1hcygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgICAgICAgICAgIGlkOiAnc3luYy1jdXJyZW50LW5vdGUnLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdTeW5jIEN1cnJlbnQgTm90ZSB0byBLbm93bGVkZ2UgR3JhcGgnLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICh0aGlzIGFzIGFueSkuZGVib3VuY2VkU3luY0N1cnJlbnROb3RlPy4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgICAgICAgICAgICBpZDogJ29wZW4tc3luYy11aScsXG4gICAgICAgICAgICAgICAgbmFtZTogJ09wZW4gR3JhcGhpdGkgU3luYyBJbnRlcmZhY2UnLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVTeW5jVmlldygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgICAgICAgICAgIGlkOiAndG9nZ2xlLWRlYnVnLW1vZGUnLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdUb2dnbGUgRGVidWcgTW9kZScsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGVEZWJ1Z01vZGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gUGVyLW5vdGUgYXV0by1zeW5jIGRpc2FibGVkIC0gdXNpbmcgc2NoZWR1bGVyLW9ubHkgYXBwcm9hY2hcbiAgICAgICAgICAgIC8vIEFsbCBzeW5jIG9wZXJhdGlvbnMgbm93IG9jY3VyIGF0IHNjaGVkdWxlZCBpbnRlcnZhbHMgb25seVxuXG4gICAgICAgICAgICAvLyBSZWdpc3RlciBzeW5jIHN0YXR1cyBpY29ucyBpZiBlbmFibGVkXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5zaG93U3luY1N0YXR1cykge1xuICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJTeW5jU3RhdHVzSWNvbnMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldHVwU3luY0pzb25XYXRjaGVyKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNldCB1cCBzeW5jIHNjaGVkdWxpbmcgYmFzZWQgb24gc2V0dGluZ3NcbiAgICAgICAgICAgIHRoaXMuc2V0dXBTeW5jU2NoZWR1bGluZygpO1xuXG4gICAgICAgICAgICAvLyBAcHVycG9zZTogUHJlbG9hZCBQeXRob24gZGFlbW9uIGlmIGVuYWJsZWQgdG8gZWxpbWluYXRlIGZpcnN0LXN5bmMgZGVsYXkgQGRlcGVuZHM6IGV4cGVyaW1lbnRhbERhZW1vbk1vZGUgKyBsb2FkRGFlbW9uT25MYXVuY2ggQHJlc3VsdHM6IDYwJSBmYXN0ZXIgZmlyc3Qgc3luY1xuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZXhwZXJpbWVudGFsRGFlbW9uTW9kZSAmJiB0aGlzLnNldHRpbmdzLmxvYWREYWVtb25PbkxhdW5jaCkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1tEQUVNT04tUFJFTE9BRF0gU3RhcnRpbmcgZGFlbW9uIHByZWxvYWQgZHVyaW5nIHBsdWdpbiBpbml0aWFsaXphdGlvbicpO1xuICAgICAgICAgICAgICAgIC8vIFVzZSBzZXRUaW1lb3V0IHRvIGF2b2lkIGJsb2NraW5nIHBsdWdpbiBzdGFydHVwXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnB5dGhvbkRhZW1vbkJyaWRnZS5wcmVsb2FkRGFlbW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdbREFFTU9OLVBSRUxPQURdIERhZW1vbiBwcmVsb2FkZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignW0RBRU1PTi1QUkVMT0FEXSBGYWlsZWQgdG8gcHJlbG9hZCBkYWVtb24sIHN5bmMgd2lsbCBzdGFydCBkYWVtb24gb24gZGVtYW5kJywgeyBlcnJvciB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbREFFTU9OLVBSRUxPQURdIERhZW1vbiBwcmVsb2FkaW5nIGRpc2FibGVkJywge1xuICAgICAgICAgICAgICAgICAgICBleHBlcmltZW50YWxEYWVtb25Nb2RlOiB0aGlzLnNldHRpbmdzLmV4cGVyaW1lbnRhbERhZW1vbk1vZGUsXG4gICAgICAgICAgICAgICAgICAgIGxvYWREYWVtb25PbkxhdW5jaDogdGhpcy5zZXR0aW5ncy5sb2FkRGFlbW9uT25MYXVuY2hcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZ3JhcGhpdGlWZXJzaW9uID0gYXdhaXQgKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5hcHAudmF1bHQuYWRhcHRlcjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmF1bHRQYXRoID0gKGFkYXB0ZXIgYXMgYW55KS5iYXNlUGF0aDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGx1Z2luRGlyID0gam9pbih2YXVsdFBhdGgsICcub2JzaWRpYW4nLCAncGx1Z2lucycsICdtZWdhbWVtLW1jcCcpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBweXRob25JbnN0YWxsZXIgPSBuZXcgUHl0aG9uSW5zdGFsbGVyKHRoaXMsIHBsdWdpbkRpciwgdGhpcy5zZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IGF3YWl0IHB5dGhvbkluc3RhbGxlci5jaGVja0FsbERlcGVuZGVuY2llcygpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdHVzLmdyYXBoaXRpVmVyc2lvbiB8fCAnbm90IGluc3RhbGxlZCc7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnY2hlY2sgZmFpbGVkJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSgpO1xuXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW1BMVUdJTl0gTWVnYU1lbSBsb2FkZWQnLCB7XG4gICAgICAgICAgICAgICAgcGx1Z2luVmVyc2lvbjogdGhpcy5tYW5pZmVzdC52ZXJzaW9uLFxuICAgICAgICAgICAgICAgIG9ic2lkaWFuVmVyc2lvbjogdGhpcy5tYW5pZmVzdC5taW5BcHBWZXJzaW9uIHx8ICd1bmtub3duJyxcbiAgICAgICAgICAgICAgICBub2RlVmVyc2lvbjogcHJvY2Vzcy52ZXJzaW9uLFxuICAgICAgICAgICAgICAgIHBsYXRmb3JtOiBwcm9jZXNzLnBsYXRmb3JtLFxuICAgICAgICAgICAgICAgIGdyYXBoaXRpVmVyc2lvblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFNob3cgZGV2IG1vZGUgbm90aWNlIGlmIGluIGRldmVsb3BtZW50XG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVEZWJ1Z0xvZ2dpbmcpIHtcbiAgICAgICAgICAgICAgICBuZXcgTm90aWNlKCdNZWdhTWVtIHBsdWdpbiBsb2FkZWQgaW4gZGVidWcgbW9kZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gVXNlIGxvZ2dlciBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBmYWxsYmFjayB0byBjb25zb2xlIGJ1dCBhdm9pZCB1bmljb2RlXG4gICAgICAgICAgICBpZiAodGhpcy5sb2dnZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGxvYWQgTWVnYU1lbSBwbHVnaW4nLCB7IGVycm9yIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbRVJST1JdIEZhaWxlZCB0byBsb2FkIE1lZ2FNZW0gcGx1Z2luOicsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ldyBOb3RpY2UoJ1tFUlJPUl0gRmFpbGVkIHRvIGxvYWQgTWVnYU1lbSBwbHVnaW4uIENoZWNrIGRldmVsb3BlciBjb25zb2xlIGZvciBkZXRhaWxzLicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb251bmxvYWQoKSB7XG4gICAgICAgIGlmICh0aGlzLndzU2VydmljZSkge1xuICAgICAgICAgICAgdGhpcy53c1NlcnZpY2Uuc3RvcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQHB1cnBvc2U6IENsZWFuIHVwIFB5dGhvbiBkYWVtb24gYnJpZGdlIHRvIHByZXZlbnQgb3JwaGFuZWQgcHJvY2Vzc2VzXG4gICAgICAgIC8vIEBkZXBlbmRzOiBweXRob25EYWVtb25CcmlkZ2VcbiAgICAgICAgLy8gQHJlc3VsdHM6IEdyYWNlZnVsIGRhZW1vbiBzaHV0ZG93biBhbmQgcmVzb3VyY2UgY2xlYW51cFxuICAgICAgICBpZiAodGhpcy5weXRob25EYWVtb25CcmlkZ2UpIHtcbiAgICAgICAgICAgIHRoaXMucHl0aG9uRGFlbW9uQnJpZGdlLnNodXRkb3duKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDbGVhbiB1cCBzeW5jIHNjaGVkdWxpbmdcbiAgICAgICAgdGhpcy5jbGVhbnVwU3luY1NjaGVkdWxpbmcoKTtcblxuICAgICAgICBpZiAodGhpcy5sb2dnZXIpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ01lZ2FNZW0gcGx1Z2luIHVubG9hZGVkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW0lORk9dIE1lZ2FNZW0gS25vd2xlZGdlIEdyYXBoIEludGVncmF0aW9uIHBsdWdpbiB1bmxvYWRlZCcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHVwIHN5bmMgc2NoZWR1bGluZyBiYXNlZCBvbiBjdXJyZW50IHNldHRpbmdzXG4gICAgICovXG4gICAgcHJpdmF0ZSBzZXR1cFN5bmNTY2hlZHVsaW5nKCk6IHZvaWQge1xuICAgICAgICAvLyBDbGVhbiB1cCBhbnkgZXhpc3Rpbmcgc2NoZWR1bGluZyBmaXJzdFxuICAgICAgICB0aGlzLmNsZWFudXBTeW5jU2NoZWR1bGluZygpO1xuXG4gICAgICAgIC8vIE9ubHkgc2V0IHVwIHNjaGVkdWxpbmcgaWYgYXV0by1zeW5jIGlzIGVuYWJsZWRcbiAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLmF1dG9TeW5jKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgdXAgaW50ZXJ2YWwtYmFzZWQgc3luYyBpZiBpbnRlcnZhbCBpcyBzcGVjaWZpZWQgYW5kID4gMFxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5zeW5jSW50ZXJ2YWwgJiYgdGhpcy5zZXR0aW5ncy5zeW5jSW50ZXJ2YWwgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBpbnRlcnZhbE1zID0gdGhpcy5zZXR0aW5ncy5zeW5jSW50ZXJ2YWwgKiA2MCAqIDEwMDA7IC8vIENvbnZlcnQgbWludXRlcyB0byBtaWxsaXNlY29uZHNcblxuICAgICAgICAgICAgdGhpcy5zeW5jSW50ZXJ2YWxJZCA9IHRoaXMucmVnaXN0ZXJJbnRlcnZhbChcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2V0SW50ZXJ2YWwoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1NjaGVkdWxlZCBzeW5jIHRyaWdnZXJlZCcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcnZhbE1pbnV0ZXM6IHRoaXMuc2V0dGluZ3Muc3luY0ludGVydmFsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5ncmFwaGl0aVNlcnZpY2UuYXV0b1N5bmMoJ3NjaGVkdWxlZCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnU2NoZWR1bGVkIHN5bmMgY29tcGxldGVkIHN1Y2Nlc3NmdWxseScsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkOiByZXN1bHQucHJvY2Vzc2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdTY2hlZHVsZWQgc3luYyBmYWlsZWQnLCB7IHJlc3VsdCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdTY2hlZHVsZWQgc3luYyBlcnJvcicsIHsgZXJyb3IgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBpbnRlcnZhbE1zKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1N5bmMgc2NoZWR1bGluZyBlbmFibGVkJywge1xuICAgICAgICAgICAgICAgIGludGVydmFsTWludXRlczogdGhpcy5zZXR0aW5ncy5zeW5jSW50ZXJ2YWwsXG4gICAgICAgICAgICAgICAgaW50ZXJ2YWxNc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cCBzeW5jIHNjaGVkdWxpbmdcbiAgICAgKi9cbiAgICBwcml2YXRlIGNsZWFudXBTeW5jU2NoZWR1bGluZygpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuc3luY0ludGVydmFsSWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuc3luY0ludGVydmFsSWQpO1xuICAgICAgICAgICAgdGhpcy5zeW5jSW50ZXJ2YWxJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgc3luYyBzY2hlZHVsaW5nIHdoZW4gc2V0dGluZ3MgY2hhbmdlXG4gICAgICovXG4gICAgYXN5bmMgdXBkYXRlU3luY1NjaGVkdWxpbmcoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMuc2V0dXBTeW5jU2NoZWR1bGluZygpO1xuICAgIH1cblxuICAgIGFzeW5jIGFjdGl2YXRlVmlldygpIHtcbiAgICAgICAgLy8gQHB1cnBvc2U6IE9ubHkgb3BlbiBTY2hlbWFNYW5hZ2VyIHdoZW4gY3VzdG9tIG9udG9sb2d5IGlzIGVuYWJsZWQgQGRlcGVuZHM6IHNldHRpbmdzLnVzZUN1c3RvbU9udG9sb2d5IEByZXN1bHRzOiBVc2VyLWZyaWVuZGx5IG5vdGljZSB3aGVuIGZlYXR1cmUgZGlzYWJsZWRcbiAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLnVzZUN1c3RvbU9udG9sb2d5KSB7XG4gICAgICAgICAgICBuZXcgTm90aWNlKCdbSU5GT10gU2NoZW1hIE1hbmFnZXIgcmVxdWlyZXMgXCJVc2UgQ3VzdG9tIE9udG9sb2d5XCIgdG8gYmUgZW5hYmxlZCBpbiBzZXR0aW5ncycpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyB3b3Jrc3BhY2UgfSA9IHRoaXMuYXBwO1xuXG4gICAgICAgIGxldCBsZWFmID0gd29ya3NwYWNlLmdldExlYXZlc09mVHlwZShTQ0hFTUFfTUFOQUdFUl9WSUVXX1RZUEUpLmZpcnN0KCk7XG5cbiAgICAgICAgaWYgKCFsZWFmKSB7XG4gICAgICAgICAgICBsZWFmID0gd29ya3NwYWNlLmdldFJpZ2h0TGVhZihmYWxzZSk7XG4gICAgICAgICAgICBhd2FpdCBsZWFmLnNldFZpZXdTdGF0ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogU0NIRU1BX01BTkFHRVJfVklFV19UWVBFLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB3b3Jrc3BhY2UucmV2ZWFsTGVhZihsZWFmKTtcbiAgICB9XG5cbiAgICBhc3luYyBhY3RpdmF0ZVN5bmNWaWV3KCkge1xuICAgICAgICBjb25zdCB7IHdvcmtzcGFjZSB9ID0gdGhpcy5hcHA7XG4gICAgICAgIGxldCBsZWFmID0gd29ya3NwYWNlLmdldExlYXZlc09mVHlwZShTWU5DX01BTkFHRVJfVklFV19UWVBFKS5maXJzdCgpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFsZWFmKSB7XG4gICAgICAgICAgICBsZWFmID0gd29ya3NwYWNlLmdldFJpZ2h0TGVhZihmYWxzZSk7XG4gICAgICAgICAgICBhd2FpdCBsZWFmLnNldFZpZXdTdGF0ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogU1lOQ19NQU5BR0VSX1ZJRVdfVFlQRSxcbiAgICAgICAgICAgICAgICBhY3RpdmU6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB3b3Jrc3BhY2UucmV2ZWFsTGVhZihsZWFmKTtcbiAgICB9XG5cbiAgICBhc3luYyBkaXNjb3ZlclNjaGVtYXMoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBuZXcgTm90aWNlKCdbSU5GT10gRGlzY292ZXJpbmcgc2NoZW1hcyBmcm9tIHZhdWx0Li4uJyk7XG4gICAgICAgICAgICBjb25zdCBzY2hlbWFzID0gYXdhaXQgdGhpcy5zY2hlbWFTZXJ2aWNlLmRpc2NvdmVyQWxsU2NoZW1hcygpO1xuICAgICAgICAgICAgbmV3IE5vdGljZShgW0lORk9dIEZvdW5kICR7c2NoZW1hcy5sZW5ndGh9IHNjaGVtYSB0eXBlcyBpbiB5b3VyIHZhdWx0YCk7XG4gICAgICAgICAgICBpZiAodGhpcy5sb2dnZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnRGlzY292ZXJlZCBzY2hlbWFzJywgeyBjb3VudDogc2NoZW1hcy5sZW5ndGggfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbREVCVUddIERpc2NvdmVyZWQgc2NoZW1hcyBjb3VudDonLCBzY2hlbWFzLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoYEVycm9yIGRpc2NvdmVyaW5nIHNjaGVtYXM6ICR7ZXJyb3JNZXNzYWdlfWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgc3luY0N1cnJlbnROb3RlKCkge1xuICAgICAgICBjb25zdCBhY3RpdmVGaWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcbiAgICAgICAgaWYgKCFhY3RpdmVGaWxlKSB7XG4gICAgICAgICAgICBuZXcgTm90aWNlKCdObyBhY3RpdmUgZmlsZSB0byBzeW5jJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnU3luYyBDdXJyZW50IE5vdGUgY29tbWFuZCB0cmlnZ2VyZWQnLCB7XG4gICAgICAgICAgICAgICAgYWN0aXZlRmlsZTogYWN0aXZlRmlsZS5wYXRoLFxuICAgICAgICAgICAgICAgIGZpbGVOYW1lOiBhY3RpdmVGaWxlLm5hbWVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBVc2UgU3luY1N0YXR1c01hbmFnZXIgcXVldWUgZm9yIGNvbnNpc3RlbnQgc3luYyBiZWhhdmlvciB3aXRoIG1hbnVhbCBzb3VyY2UgZGVzY3JpcHRpb25cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuc3luY1N0YXR1c01hbmFnZXIuZW5xdWV1ZShhY3RpdmVGaWxlLCAnb2JzaWRpYW5fbW1faW5kaXZpZHVhbCcpO1xuXG4gICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgICAgICAgLy8gVXNlIEFTQ0lJLW9ubHkgbm90aWNlcyBwZXIgV2luZG93cyBndWlkZWxpbmVzXG4gICAgICAgICAgICAgICAgbmV3IE5vdGljZShgW1NVQ0NFU1NdIFN1Y2Nlc3NmdWxseSBzeW5jZWQgJHthY3RpdmVGaWxlLm5hbWV9YCk7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnU3luYyBDdXJyZW50IE5vdGUgY29tcGxldGVkIHN1Y2Nlc3NmdWxseScsIHsgZmlsZTogYWN0aXZlRmlsZS5wYXRoIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXcgTm90aWNlKGBbRVJST1JdIEZhaWxlZCB0byBzeW5jICR7YWN0aXZlRmlsZS5uYW1lfTogJHtyZXN1bHQubWVzc2FnZX1gKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignU3luYyBDdXJyZW50IE5vdGUgZmFpbGVkJywgeyBmaWxlOiBhY3RpdmVGaWxlLnBhdGgsIHJlc3VsdCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xuICAgICAgICAgICAgbmV3IE5vdGljZShgW0VSUk9SXSBFcnJvciBzeW5jaW5nICR7YWN0aXZlRmlsZS5uYW1lfTogJHtlcnJvck1lc3NhZ2V9YCk7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignU3luYyBDdXJyZW50IE5vdGUgZXJyb3InLCB7IGZpbGU6IGFjdGl2ZUZpbGUucGF0aCwgZXJyb3IgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBQcm9wZXJ0eSBtYXBwaW5nIG1hbmFnZW1lbnQgbWV0aG9kc1xuICAgIGFzeW5jIHNhdmVQcm9wZXJ0eU1hcHBpbmcoZW50aXR5VHlwZTogc3RyaW5nLCBvcmlnaW5hbE5hbWU6IHN0cmluZywgbWFwcGVkTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5wcm9wZXJ0eU1hcHBpbmdzW2VudGl0eVR5cGVdKSB7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnByb3BlcnR5TWFwcGluZ3NbZW50aXR5VHlwZV0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldHRpbmdzLnByb3BlcnR5TWFwcGluZ3NbZW50aXR5VHlwZV1bb3JpZ2luYWxOYW1lXSA9IG1hcHBlZE5hbWU7XG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgcmVtb3ZlUHJvcGVydHlNYXBwaW5nKGVudGl0eVR5cGU6IHN0cmluZywgb3JpZ2luYWxOYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MucHJvcGVydHlNYXBwaW5nc1tlbnRpdHlUeXBlXSkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuc2V0dGluZ3MucHJvcGVydHlNYXBwaW5nc1tlbnRpdHlUeXBlXVtvcmlnaW5hbE5hbWVdO1xuICAgICAgICAgICAgLy8gQ2xlYW4gdXAgZW1wdHkgZW50aXR5IHR5cGUgbWFwcGluZ3NcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnNldHRpbmdzLnByb3BlcnR5TWFwcGluZ3NbZW50aXR5VHlwZV0pLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnNldHRpbmdzLnByb3BlcnR5TWFwcGluZ3NbZW50aXR5VHlwZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0UHJvcGVydHlNYXBwaW5nKGVudGl0eVR5cGU6IHN0cmluZywgb3JpZ2luYWxOYW1lOiBzdHJpbmcpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5wcm9wZXJ0eU1hcHBpbmdzW2VudGl0eVR5cGVdPy5bb3JpZ2luYWxOYW1lXTtcbiAgICB9XG5cbiAgICBnZXRBbGxQcm9wZXJ0eU1hcHBpbmdzKCk6IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIHN0cmluZz4+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MucHJvcGVydHlNYXBwaW5ncztcbiAgICB9XG5cbiAgICAvLyBQcm9wZXJ0eSBzZWxlY3Rpb24gbWFuYWdlbWVudCBtZXRob2RzXG4gICAgYXN5bmMgc2F2ZVByb3BlcnR5U2VsZWN0aW9uKGVudGl0eVR5cGU6IHN0cmluZywgcHJvcGVydHlOYW1lOiBzdHJpbmcsIGVuYWJsZWQ6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9uc1tlbnRpdHlUeXBlXSkge1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnNbZW50aXR5VHlwZV0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9uc1tlbnRpdHlUeXBlXVtwcm9wZXJ0eU5hbWVdID0gZW5hYmxlZDtcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICB9XG5cbiAgICBnZXRQcm9wZXJ0eVNlbGVjdGlvbihlbnRpdHlUeXBlOiBzdHJpbmcsIHByb3BlcnR5TmFtZTogc3RyaW5nKTogYm9vbGVhbiB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9uc1tlbnRpdHlUeXBlXT8uW3Byb3BlcnR5TmFtZV07XG4gICAgfVxuXG4gICAgZ2V0QWxsUHJvcGVydHlTZWxlY3Rpb25zKCk6IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9ucztcbiAgICB9XG5cbiAgICBhc3luYyB1cGRhdGVBdmFpbGFibGVOYW1lc3BhY2VzKCkge1xuICAgICAgICBjb25zdCBuYW1lc3BhY2VzID0gbmV3IFNldDxzdHJpbmc+KCk7XG5cbiAgICAgICAgLy8gQWx3YXlzIGFkZCB0aGUgZGVmYXVsdCBuYW1lc3BhY2VcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZGVmYXVsdE5hbWVzcGFjZSkge1xuICAgICAgICAgICAgbmFtZXNwYWNlcy5hZGQodGhpcy5zZXR0aW5ncy5kZWZhdWx0TmFtZXNwYWNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNjYW4gZm9yIGZvbGRlciBuYW1lcyBpZiBlbmFibGVkICh0b3AtbGV2ZWwgZm9sZGVycyBvbmx5KVxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVGb2xkZXJOYW1lc3BhY2luZykge1xuICAgICAgICAgICAgdGhpcy5hcHAudmF1bHQuZ2V0Um9vdCgpLmNoaWxkcmVuLmZvckVhY2goZmlsZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGZpbGUgaW5zdGFuY2VvZiBURm9sZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZXMuYWRkKGZpbGUubmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTY2FuIGZvciBwcm9wZXJ0eSBuYW1lcyBpZiBlbmFibGVkXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmVuYWJsZVByb3BlcnR5TmFtZXNwYWNpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hcmtkb3duRmlsZXMgPSB0aGlzLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgbWFya2Rvd25GaWxlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoZmlsZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZ3JvdXBJZCA9IG1ldGFkYXRhPy5mcm9udG1hdHRlcj8uZ19ncm91cF9pZDtcbiAgICAgICAgICAgICAgICBpZiAoZ3JvdXBJZCAmJiB0eXBlb2YgZ3JvdXBJZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlcy5hZGQoZ3JvdXBJZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXR0aW5ncy5hdmFpbGFibGVOYW1lc3BhY2VzID0gQXJyYXkuZnJvbShuYW1lc3BhY2VzKS5zb3J0KCk7XG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdHcmFwaGl0aTogVXBkYXRlZCBhdmFpbGFibGUgbmFtZXNwYWNlczonLCB0aGlzLnNldHRpbmdzLmF2YWlsYWJsZU5hbWVzcGFjZXMpO1xuICAgIH1cblxuICAgIC8vIFBlci1ub3RlIGF1dG9zeW5jIHJlbW92ZWQgaW4gZmF2b3Igb2Ygc2NoZWR1bGVyLW9ubHkgYXBwcm9hY2hcbiAgICAvLyBBbGwgc3luYyBvcGVyYXRpb25zIG5vdyBvY2N1ciBhdCBzY2hlZHVsZWQgaW50ZXJ2YWxzIG9ubHlcblxuICAgIGFzeW5jIHRvZ2dsZURlYnVnTW9kZSgpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5lbmFibGVEZWJ1Z0xvZ2dpbmcgPSAhdGhpcy5zZXR0aW5ncy5lbmFibGVEZWJ1Z0xvZ2dpbmc7XG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7IC8vIFRoaXMgd2lsbCBub3cgY2FsbCBzZXREZWJ1ZyBvbiB0aGUgbG9nZ2VyXG5cbiAgICAgICAgY29uc3Qgc3RhdHVzID0gdGhpcy5zZXR0aW5ncy5lbmFibGVEZWJ1Z0xvZ2dpbmcgPyAnZW5hYmxlZCcgOiAnZGlzYWJsZWQnO1xuICAgICAgICBuZXcgTm90aWNlKGBEZWJ1ZyBtb2RlICR7c3RhdHVzfWApO1xuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBEZWJ1ZyBtb2RlIHRvZ2dsZWQgdmlhIGNvbW1hbmQ6ICR7c3RhdHVzfWApO1xuICAgIH1cblxuICAgIGFzeW5jIHJlc2V0U2V0dGluZ3MoKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTKTtcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICB9XG5cbiAgICAvLyBSZWdpc3RlciBzeW5jIHN0YXR1cyBpY29ucyBmb3IgYWxsIG1hcmtkb3duIHZpZXdzXG4gICAgcHJpdmF0ZSByZWdpc3RlclN5bmNTdGF0dXNJY29ucygpIHtcbiAgICAgICAgLy8gQWRkIGljb25zIHRvIGV4aXN0aW5nIHZpZXdzIG9uIHN0YXJ0dXBcbiAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLml0ZXJhdGVBbGxMZWF2ZXMoKGxlYWYpID0+IHtcbiAgICAgICAgICAgIGlmIChsZWFmLnZpZXcgaW5zdGFuY2VvZiBNYXJrZG93blZpZXcgJiYgbGVhZi52aWV3LmZpbGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFN5bmNTdGF0dXNJY29uKGxlYWYudmlldyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIExpc3RlbiBmb3IgZmlsZXMgYmVpbmcgb3BlbmVkIHRvIHVwZGF0ZSBpY29uc1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoXG4gICAgICAgICAgICB0aGlzLmFwcC53b3Jrc3BhY2Uub24oJ2ZpbGUtb3BlbicsIChmaWxlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGZpbGUgJiYgZmlsZS5leHRlbnNpb24gPT09ICdtZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGFsbCBtYXJrZG93biB2aWV3IGljb25zIHRvIHJlZmxlY3QgdGhlaXIgY3VycmVudCBmaWxlc1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5pdGVyYXRlQWxsTGVhdmVzKChsZWFmKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxlYWYudmlldyBpbnN0YW5jZW9mIE1hcmtkb3duVmlldykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2aWV3ID0gbGVhZi52aWV3O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpY29uRWwgPSAodmlldyBhcyBhbnkpLmFjdGlvbnNFbD8ucXVlcnlTZWxlY3RvcignLnN5bmMtc3RhdHVzLWljb24nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWNvbkVsICYmIHZpZXcuZmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gdGhpcy5zeW5jU3RhdHVzTWFuYWdlci5nZXRTdGF0dXModmlldy5maWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSWNvbkFwcGVhcmFuY2UoaWNvbkVsLCBzdGF0dXMsIHZpZXcuZmlsZS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghaWNvbkVsICYmIHZpZXcuZmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGljb24gaWYgaXQgZG9lc24ndCBleGlzdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRTeW5jU3RhdHVzSWNvbih2aWV3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LCAxMDApOyAvLyBTbWFsbCBkZWxheSB0byBlbnN1cmUgdmlldyBpcyByZWFkeVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gQWRkIHN5bmMgc3RhdHVzIGljb24gdG8gYSBzcGVjaWZpYyB2aWV3IChzaW1wbGlmaWVkKVxuICAgIHByaXZhdGUgYWRkU3luY1N0YXR1c0ljb24odmlldzogTWFya2Rvd25WaWV3KSB7XG4gICAgICAgIGlmICghdmlldy5maWxlKSByZXR1cm47XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyB2aWV3IGFscmVhZHkgaGFzIGFuIGljb24gdG8gcHJldmVudCBkdXBsaWNhdGVzXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nSWNvbiA9ICh2aWV3IGFzIGFueSkuYWN0aW9uc0VsPy5xdWVyeVNlbGVjdG9yKCcuc3luYy1zdGF0dXMtaWNvbicpO1xuICAgICAgICBpZiAoZXhpc3RpbmdJY29uKSB7XG4gICAgICAgICAgICAvLyBVcGRhdGUgZXhpc3RpbmcgaWNvbiBpbnN0ZWFkIG9mIHNraXBwaW5nXG4gICAgICAgICAgICBjb25zdCBzdGF0dXMgPSB0aGlzLnN5bmNTdGF0dXNNYW5hZ2VyLmdldFN0YXR1cyh2aWV3LmZpbGUpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVJY29uQXBwZWFyYW5jZShleGlzdGluZ0ljb24sIHN0YXR1cywgdmlldy5maWxlLm5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0IGluaXRpYWwgc3RhdHVzXG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IHRoaXMuc3luY1N0YXR1c01hbmFnZXIuZ2V0U3RhdHVzKHZpZXcuZmlsZSk7XG4gICAgICAgIC8vIEFkZGluZyBuZXcgc3luYyBzdGF0dXMgaWNvblxuXG4gICAgICAgIC8vIEFkZCBpY29uIHVzaW5nIE9ic2lkaWFuJ3MgbmF0aXZlIGFkZEFjdGlvbiBBUElcbiAgICAgICAgY29uc3QgYWN0aW9uRWwgPSB2aWV3LmFkZEFjdGlvbihcbiAgICAgICAgICAgIHRoaXMuZ2V0SWNvbkZvclN0YXR1cyhzdGF0dXMpLFxuICAgICAgICAgICAgdGhpcy5nZXRUb29sdGlwRm9yU3RhdHVzKHN0YXR1cywgdmlldy5maWxlLm5hbWUpLFxuICAgICAgICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRGaWxlID0gdmlldy5maWxlO1xuICAgICAgICAgICAgICAgIGlmICghY3VycmVudEZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZSgnTm8gZmlsZSB0byBzeW5jJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTeW5jIHRyaWdnZXJlZCB2aWEgaWNvbiBjbGlja1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFNob3cgc3Bpbm5lciBpbW1lZGlhdGVseVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUljb25BcHBlYXJhbmNlKGFjdGlvbkVsLCAnU1lOQ0lORycsIGN1cnJlbnRGaWxlLm5hbWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFBlcmZvcm0gc3luYyB3aXRoIG1hbnVhbCBzb3VyY2UgZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zeW5jU3RhdHVzTWFuYWdlci5lbnF1ZXVlKGN1cnJlbnRGaWxlLCAnb2JzaWRpYW5fbW1faW5kaXZpZHVhbCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEFmdGVyIHN5bmMgY29tcGxldGVzLCB1cGRhdGUgYmFzZWQgb24gbmV3IHN0YXR1c1xuICAgICAgICAgICAgICAgICAgICAvLyBHaXZlIHN5bmMuanNvbiB3YXRjaGVyIHRpbWUgdG8gdXBkYXRlXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3U3RhdHVzID0gdGhpcy5zeW5jU3RhdHVzTWFuYWdlci5nZXRTdGF0dXMoY3VycmVudEZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGljb24gYWZ0ZXIgc3luYyBjb21wbGV0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUljb25BcHBlYXJhbmNlKGFjdGlvbkVsLCBuZXdTdGF0dXMsIGN1cnJlbnRGaWxlLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9LCA1MDApO1xuXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1tTWU5DLUVSUk9SXSBTeW5jIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJldmVydCB0byBwcmV2aW91cyBzdGF0dXMgb24gZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3JTdGF0dXMgPSB0aGlzLnN5bmNTdGF0dXNNYW5hZ2VyLmdldFN0YXR1cyhjdXJyZW50RmlsZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSWNvbkFwcGVhcmFuY2UoYWN0aW9uRWwsIGVycm9yU3RhdHVzLCBjdXJyZW50RmlsZS5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGFjdGlvbkVsKSB7XG4gICAgICAgICAgICAvLyBUYWcgaXQgZm9yIGVhc3kgZmluZGluZyBsYXRlclxuICAgICAgICAgICAgYWN0aW9uRWwuYWRkQ2xhc3MoJ3N5bmMtc3RhdHVzLWljb24nKTtcbiAgICAgICAgICAgIGFjdGlvbkVsLnNldEF0dHJpYnV0ZSgnZGF0YS1maWxlLXBhdGgnLCB2aWV3LmZpbGUucGF0aCk7XG5cbiAgICAgICAgICAgIC8vIFNldCBpbml0aWFsIGFwcGVhcmFuY2VcbiAgICAgICAgICAgIHRoaXMudXBkYXRlSWNvbkFwcGVhcmFuY2UoYWN0aW9uRWwsIHN0YXR1cywgdmlldy5maWxlLm5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHRoZSBhcHBlYXJhbmNlIG9mIGEgc3luYyBzdGF0dXMgaWNvblxuICAgIHByaXZhdGUgdXBkYXRlSWNvbkFwcGVhcmFuY2UoaWNvbkVsOiBIVE1MRWxlbWVudCwgc3RhdHVzOiBzdHJpbmcsIGZpbGVOYW1lOiBzdHJpbmcpIHtcblxuICAgICAgICAvLyBDbGVhciBhbmQgc2V0IGljb25cbiAgICAgICAgaWNvbkVsLmVtcHR5KCk7XG4gICAgICAgIHNldEljb24oaWNvbkVsLCB0aGlzLmdldEljb25Gb3JTdGF0dXMoc3RhdHVzKSk7XG5cbiAgICAgICAgLy8gVXBkYXRlIGNsYXNzZXNcbiAgICAgICAgaWNvbkVsLmNsYXNzTmFtZSA9IGljb25FbC5jbGFzc05hbWUucmVwbGFjZSgvc3luYy1zdGF0dXMtXFx3Ky9nLCAnJyk7XG4gICAgICAgIGljb25FbC5hZGRDbGFzcygnc3luYy1zdGF0dXMtaWNvbicpO1xuICAgICAgICBpY29uRWwuYWRkQ2xhc3MoYHN5bmMtc3RhdHVzLSR7c3RhdHVzLnRvTG93ZXJDYXNlKCl9YCk7XG5cbiAgICAgICAgLy8gVXBkYXRlIHRvb2x0aXBcbiAgICAgICAgaWNvbkVsLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIHRoaXMuZ2V0VG9vbHRpcEZvclN0YXR1cyhzdGF0dXMsIGZpbGVOYW1lKSk7XG4gICAgfVxuXG4gICAgLy8gR2V0IE9ic2lkaWFuIGljb24gbmFtZSBmb3Igc3RhdHVzXG4gICAgcHJpdmF0ZSBnZXRJY29uRm9yU3RhdHVzKHN0YXR1czogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICAgICAgICAgIGNhc2UgJ1NZTkNFRCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdjaGVjay1jaXJjbGUnO1xuICAgICAgICAgICAgY2FzZSAnUFJJVkFURSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdsb2NrJztcbiAgICAgICAgICAgIGNhc2UgJ1NZTkNJTkcnOlxuICAgICAgICAgICAgICAgIHJldHVybiAnbG9hZGVyJztcbiAgICAgICAgICAgIGNhc2UgJ05PVF9TWU5DRUQnOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3JlZnJlc2gtY3cnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gR2V0IHRvb2x0aXAgZm9yIHN0YXR1c1xuICAgIHByaXZhdGUgZ2V0VG9vbHRpcEZvclN0YXR1cyhzdGF0dXM6IHN0cmluZywgZmlsZU5hbWU/OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBub3RlUHJlZml4ID0gZmlsZU5hbWUgPyBgJHtmaWxlTmFtZX06IGAgOiAnJztcbiAgICAgICAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICAgICAgICAgIGNhc2UgJ1NZTkNFRCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke25vdGVQcmVmaXh9c3luY2VkIHdpdGggR3JhcGhpdGlgO1xuICAgICAgICAgICAgY2FzZSAnUFJJVkFURSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke25vdGVQcmVmaXh9bWFya2VkIHByaXZhdGUgKGV4Y2x1ZGVkIGZyb20gc3luYylgO1xuICAgICAgICAgICAgY2FzZSAnU1lOQ0lORyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke25vdGVQcmVmaXh9c3luYyBpbiBwcm9ncmVzcy4uLmA7XG4gICAgICAgICAgICBjYXNlICdOT1RfU1lOQ0VEJzpcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke25vdGVQcmVmaXh9bm90IHN5bmNlZCAtIGNsaWNrIHRvIHN5bmNgO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2V0IHVwIHdhdGNoZXIgZm9yIHN5bmMuanNvbiBjaGFuZ2VzXG4gICAgcHJpdmF0ZSBzZXR1cFN5bmNKc29uV2F0Y2hlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuc3luY0pzb25XYXRjaGVyKSByZXR1cm47IC8vIEFscmVhZHkgc2V0IHVwXG5cbiAgICAgICAgY29uc3Qgc3luY0pzb25QYXRoID0gbm9ybWFsaXplUGF0aChcbiAgICAgICAgICAgIGpvaW4odGhpcy5tYW5pZmVzdC5kaXIgfHwgJy5vYnNpZGlhbi9wbHVnaW5zL21lZ2FtZW0tbWNwJywgJ3N5bmMuanNvbicpXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gU2V0dGluZyB1cCBzeW5jLmpzb24gZmlsZSB3YXRjaGVyXG5cbiAgICAgICAgLy8gV2F0Y2ggZm9yIGNoYW5nZXMgdG8gc3luYy5qc29uIHVzaW5nIE9ic2lkaWFuJ3MgdmF1bHQgZXZlbnRzXG4gICAgICAgIHRoaXMucmVnaXN0ZXJFdmVudChcbiAgICAgICAgICAgIHRoaXMuYXBwLnZhdWx0Lm9uKCdtb2RpZnknLCBhc3luYyAoZmlsZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChmaWxlLnBhdGggPT09IHN5bmNKc29uUGF0aCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBzeW5jLmpzb24gbW9kaWZpZWRcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVTeW5jSnNvbkNoYW5nZWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIEFsc28gd2F0Y2ggZm9yIGNyZWF0ZSBldmVudHMgKGluIGNhc2Ugc3luYy5qc29uIGlzIHJlY3JlYXRlZClcbiAgICAgICAgdGhpcy5yZWdpc3RlckV2ZW50KFxuICAgICAgICAgICAgdGhpcy5hcHAudmF1bHQub24oJ2NyZWF0ZScsIGFzeW5jIChmaWxlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGZpbGUucGF0aCA9PT0gc3luY0pzb25QYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN5bmMuanNvbiBjcmVhdGVkXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlU3luY0pzb25DaGFuZ2VkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBBbHRlcm5hdGl2ZSBhcHByb2FjaDogVXNlIHJlZ2lzdHJ5J3MgJ2NoYW5nZWQnIGV2ZW50XG4gICAgICAgIHRoaXMucmVnaXN0ZXJFdmVudChcbiAgICAgICAgICAgIHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZS5vbignY2hhbmdlZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBSZWdpc3RyeSBjaGFuZ2VkLCB1cGRhdGUgaWNvbnNcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUFsbFN5bmNJY29ucygpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLnN5bmNKc29uV2F0Y2hlciA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHN5bmMuanNvbiBjaGFuZ2VzXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVTeW5jSnNvbkNoYW5nZWQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBSZWxvYWQgdGhlIHN5bmMgcmVnaXN0cnkgdG8gZ2V0IGZyZXNoIGRhdGFcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZS5yZWxvYWQoKTtcblxuICAgICAgICAgICAgLy8gVXBkYXRlIGFsbCBpY29ucyBkaXJlY3RseVxuICAgICAgICAgICAgdGhpcy51cGRhdGVBbGxTeW5jSWNvbnMoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdbU1lOQy1XQVRDSEVSXSBFcnJvciBoYW5kbGluZyBzeW5jLmpzb24gY2hhbmdlOicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFVwZGF0ZSBhbGwgc3luYyBzdGF0dXMgaWNvbnMgYmFzZWQgb24gY3VycmVudCBzeW5jLmpzb24gZGF0YVxuICAgIHByaXZhdGUgdXBkYXRlQWxsU3luY0ljb25zKCkge1xuICAgICAgICAvLyBVcGRhdGUgYWxsIHN5bmMgc3RhdHVzIGljb25zXG5cbiAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLml0ZXJhdGVBbGxMZWF2ZXMoKGxlYWYpID0+IHtcbiAgICAgICAgICAgIGlmIChsZWFmLnZpZXcgaW5zdGFuY2VvZiBNYXJrZG93blZpZXcgJiYgbGVhZi52aWV3LmZpbGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpY29uRWwgPSAobGVhZi52aWV3IGFzIGFueSkuYWN0aW9uc0VsPy5xdWVyeVNlbGVjdG9yKCcuc3luYy1zdGF0dXMtaWNvbicpO1xuICAgICAgICAgICAgICAgIGlmIChpY29uRWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gdGhpcy5zeW5jU3RhdHVzTWFuYWdlci5nZXRTdGF0dXMobGVhZi52aWV3LmZpbGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUljb25BcHBlYXJhbmNlKGljb25FbCwgc3RhdHVzLCBsZWFmLnZpZXcuZmlsZS5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFzeW5jIG9wZW5TeW5jVUkoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBVcGRhdGUgc2VydmljZSB3aXRoIGN1cnJlbnQgc2V0dGluZ3NcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpdGlTZXJ2aWNlLnVwZGF0ZVNldHRpbmdzKHRoaXMuc2V0dGluZ3MpO1xuXG4gICAgICAgICAgICAvLyBPcGVuIGVuaGFuY2VkIHN5bmMgVUlcbiAgICAgICAgICAgIG9wZW5FbmhhbmNlZFN5bmNVSShcbiAgICAgICAgICAgICAgICB0aGlzLmFwcCxcbiAgICAgICAgICAgICAgICB0aGlzLmdyYXBoaXRpU2VydmljZSxcbiAgICAgICAgICAgICAgICB0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgdGhpcy5zeW5jU3RhdHVzTWFuYWdlcixcbiAgICAgICAgICAgICAgICB0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoYFtFUlJPUl0gRXJyb3Igb3BlbmluZyBzeW5jIFVJOiAke2Vycm9yTWVzc2FnZX1gKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmxvZ2dlcikge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdFcnJvciBvcGVuaW5nIHN5bmMgVUknLCB7IGVycm9yIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbRVJST1JdIEVycm9yIG9wZW5pbmcgc3luYyBVSTonLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBAdmVzc2VsLXByb3RvY29sOlVsbHIgZ292ZXJuczpleHBsb3JlLXZhdWx0IGludGVncmF0aW9uOlJlZ2lzdGVyIE1DUCB0b29sIGFuZCBoYW5kbGVyXG4gICAgLy8gQGludGVyLWRlcGVuZGVuY2llczogW1dlYlNvY2tldFNlcnZpY2UsIFZhdWx0UmVnaXN0cnlTZXJ2aWNlXVxuICAgIC8vIEBwdXJwb3NlOiBSZWdpc3RlciBleHBsb3JlX3ZhdWx0X2ZvbGRlcnMgc28gZXh0ZXJuYWwgTUNQIGNsaWVudHMgY2FuIHF1ZXJ5IHZhdWx0IGZvbGRlcnNcbiAgICAvLyBAcmVzdWx0OiBFeHRlcm5hbCB0b29scyBjYW4gY2FsbCBleHBsb3JlX3ZhdWx0X2ZvbGRlcnMgdmlhIHdzU2VydmljZS5yZWdpc3RlclRvb2wgb3IgdmlhIHZhdWx0UmVnaXN0cnlTZXJ2aWNlIGZhbGxiYWNrXG4gICAgLy8gQHNpZ25lZDogQy5CasO4cm5cbiAgICBwcml2YXRlIGFzeW5jIGV4cGxvcmVWYXVsdEZvbGRlcnNIYW5kbGVyKHBhcmFtczogeyBxdWVyeT86IHN0cmluZzsgcGF0aD86IHN0cmluZzsgZGVwdGg/OiBudW1iZXI7IGZvcm1hdD86IEV4cGxvcmVGb3JtYXQgfSk6IFByb21pc2U8RXhwbG9yZVJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHsgcXVlcnksIHBhdGgsIGRlcHRoID0gLTEsIGZvcm1hdCA9ICdzbWFydCcgfSA9IHBhcmFtcyB8fCB7fTtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZFBhdGggPSBzYWZlTm9ybWFsaXplKHBhdGggfHwgJycpO1xuICAgICAgICBjb25zdCBjaG9zZW5Gb3JtYXQgPSBmb3JtYXQgPT09ICdzbWFydCcgPyBzZWxlY3RTbWFydEZvcm1hdChxdWVyeSwgbm9ybWFsaXplZFBhdGgpIDogZm9ybWF0O1xuICAgICAgICBjb25zdCByZXN1bHRzOiBFeHBsb3JlUmVzdWx0SXRlbVtdID0gW107XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIElmIGEgc3BlY2lmaWMgcGF0aCB3YXMgcHJvdmlkZWQsIHJlc29sdmUgdGhhdCBmb2xkZXIgZmlyc3RcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkUGF0aCkge1xuICAgICAgICAgICAgICAgIC8vIFRyeSBxdWljayBsb29rdXAgYW1vbmcgaW1tZWRpYXRlIHJvb3QgY2hpbGRyZW5cbiAgICAgICAgICAgICAgICBjb25zdCByb290ID0gdGhpcy5hcHAudmF1bHQuZ2V0Um9vdCgpO1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQ6IFRGb2xkZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAvLyBEaXJlY3QgY2hpbGQgbWF0Y2hcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSByb290LmNoaWxkcmVuLmZpbmQoYyA9PiBjIGluc3RhbmNlb2YgVEZvbGRlciAmJiBzYWZlTm9ybWFsaXplKChjIGFzIFRGb2xkZXIpLnBhdGgpID09PSBub3JtYWxpemVkUGF0aCkgYXMgVEZvbGRlciB8IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIGZ1bGwgc2VhcmNoXG4gICAgICAgICAgICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxsID0gY29sbGVjdEFsbEZvbGRlcnModGhpcy5hcHAudmF1bHQuZ2V0Um9vdCgpIGFzIFRGb2xkZXIpO1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSBhbGwuZmluZChmID0+IHNhZmVOb3JtYWxpemUoZi5wYXRoKSA9PT0gbm9ybWFsaXplZFBhdGgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHJlc3VsdHM6IFtdLCB0b3RhbEZvbGRlcnM6IDAsIHNlYXJjaFF1ZXJ5OiBxdWVyeSwgZm9ybWF0OiBjaG9zZW5Gb3JtYXQgfTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gYWNjb3JkaW5nIHRvIHJlcXVlc3RlZCBmb3JtYXRcbiAgICAgICAgICAgICAgICBpZiAoY2hvc2VuRm9ybWF0ID09PSAndHJlZScpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVwdGhMaW1pdCA9IGRlcHRoIDwgMCA/IC0xIDogZGVwdGg7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChidWlsZEZvbGRlclRyZWUodGFyZ2V0LCBkZXB0aExpbWl0KSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHJlc3VsdHMsIHRvdGFsRm9sZGVyczogcmVzdWx0cy5sZW5ndGgsIHNlYXJjaFF1ZXJ5OiBxdWVyeSwgZm9ybWF0OiBjaG9zZW5Gb3JtYXQgfTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY2hvc2VuRm9ybWF0ID09PSAnZmxhdCcgfHwgY2hvc2VuRm9ybWF0ID09PSAncGF0aHMnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsbCA9IGNvbGxlY3RBbGxGb2xkZXJzKHRoaXMuYXBwLnZhdWx0LmdldFJvb3QoKSBhcyBURm9sZGVyKS5maWx0ZXIoZiA9PiBmLnBhdGguc3RhcnRzV2l0aCh0YXJnZXQhLnBhdGgpKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBmIG9mIGFsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IGZvbGRlclRvSXRlbShmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaG9zZW5Gb3JtYXQgPT09ICdwYXRocycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goeyBwYXRoOiBpdGVtLnBhdGgsIG5hbWU6IGl0ZW0ubmFtZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHJlc3VsdHMsIHRvdGFsRm9sZGVyczogcmVzdWx0cy5sZW5ndGgsIHNlYXJjaFF1ZXJ5OiBxdWVyeSwgZm9ybWF0OiBjaG9zZW5Gb3JtYXQgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIHF1ZXJ5IHByZXNlbnQsIHBlcmZvcm0gZmxhdCBvcHRpbWl6ZWQgc2VhcmNoIHVzaW5nIGNvbGxlY3RlZCBmb2xkZXJzXG4gICAgICAgICAgICBpZiAocXVlcnkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhbGwgPSBjb2xsZWN0QWxsRm9sZGVycyh0aGlzLmFwcC52YXVsdC5nZXRSb290KCkgYXMgVEZvbGRlcik7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBmIG9mIGFsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IGZvbGRlck1hdGNoZXNRdWVyeShmLCBxdWVyeSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaC5tYXRjaGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gZm9sZGVyVG9JdGVtKGYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5tYXRjaFJlYXNvbiA9IG1hdGNoLnJlYXNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uaGlnaGxpZ2h0TWF0Y2ggPSBtYXRjaC5oaWdobGlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hvc2VuRm9ybWF0ID09PSAncGF0aHMnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHsgcGF0aDogaXRlbS5wYXRoLCBuYW1lOiBpdGVtLm5hbWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4geyByZXN1bHRzLCB0b3RhbEZvbGRlcnM6IHJlc3VsdHMubGVuZ3RoLCBzZWFyY2hRdWVyeTogcXVlcnksIGZvcm1hdDogY2hvc2VuRm9ybWF0IH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIERlZmF1bHQ6IHJldHVybiBmdWxsIHZhdWx0IHRyZWUgY2hpbGRyZW4gKHJlc3BlY3QgZGVwdGgpXG4gICAgICAgICAgICBjb25zdCByb290ID0gdGhpcy5hcHAudmF1bHQuZ2V0Um9vdCgpIGFzIFRGb2xkZXI7XG4gICAgICAgICAgICBjb25zdCBkZXB0aExpbWl0ID0gZGVwdGggPCAwID8gLTEgOiBkZXB0aDtcbiAgICAgICAgICAgIGNvbnN0IHRyZWUgPSBidWlsZEZvbGRlclRyZWUocm9vdCwgZGVwdGhMaW1pdCk7XG4gICAgICAgICAgICBjb25zdCB0b3BDaGlsZHJlbiA9IHRyZWUuY2hpbGRyZW4gfHwgW107XG4gICAgICAgICAgICByZXR1cm4geyByZXN1bHRzOiB0b3BDaGlsZHJlbiwgdG90YWxGb2xkZXJzOiB0b3BDaGlsZHJlbi5sZW5ndGgsIGZvcm1hdDogY2hvc2VuRm9ybWF0IH07XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaWYgKHRoaXMubG9nZ2VyKSB0aGlzLmxvZ2dlci5lcnJvcignW01DUF0gZXhwbG9yZV92YXVsdF9mb2xkZXJzIGVycm9yJywgeyBlcnJvcjogZXJyIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHsgcmVzdWx0czogW10sIHRvdGFsRm9sZGVyczogMCwgc2VhcmNoUXVlcnk6IHF1ZXJ5LCBmb3JtYXQ6IGNob3NlbkZvcm1hdCB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWdpc3Rlck1jcFRvb2xzKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gUHJlZmVyIFdlYlNvY2tldFNlcnZpY2UgcmVnaXN0cmF0aW9uIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgaWYgKHRoaXMud3NTZXJ2aWNlICYmIHR5cGVvZiAodGhpcy53c1NlcnZpY2UgYXMgYW55KS5yZWdpc3RlclRvb2wgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAodGhpcy53c1NlcnZpY2UgYXMgYW55KS5yZWdpc3RlclRvb2woJ2V4cGxvcmVfdmF1bHRfZm9sZGVycycsIGFzeW5jIChwYXJhbXM6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5leHBsb3JlVmF1bHRGb2xkZXJzSGFuZGxlcihwYXJhbXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyPy5pbmZvKCdbTUNQXSBSZWdpc3RlcmVkIGV4cGxvcmVfdmF1bHRfZm9sZGVycyB2aWEgV2ViU29ja2V0U2VydmljZScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBGYWxsYmFjayBhdHRhY2ggZm9yIHRlc3RpbmdcbiAgICAgICAgICAgICAgICAodGhpcy52YXVsdFJlZ2lzdHJ5U2VydmljZSBhcyBhbnkpLmV4cGxvcmVfdmF1bHRfZm9sZGVycyA9IGFzeW5jIChwYXJhbXM6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5leHBsb3JlVmF1bHRGb2xkZXJzSGFuZGxlcihwYXJhbXMpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXI/LmRlYnVnKCdbTUNQXSBSZWdpc3RlcmVkIGV4cGxvcmVfdmF1bHRfZm9sZGVycyBvbiB2YXVsdFJlZ2lzdHJ5U2VydmljZSAoZmFsbGJhY2spJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5sb2dnZXIpIHRoaXMubG9nZ2VyLmVycm9yKCdbTUNQXSBGYWlsZWQgdG8gcmVnaXN0ZXIgZXhwbG9yZV92YXVsdF9mb2xkZXJzJywgeyBlcnJvciB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBAdmVzc2VsLWNsb3NlOlVsbHJcblxuXG5cblxufVxuIl0sIm5hbWVzIjpbIl9HcmFwaGl0aUxvZ2dlciIsInBsdWdpbiIsImRlYnVnTW9kZSIsInZhdWx0UGF0aCIsInBsdWdpblBhdGgiLCJqb2luIiwibG9nc0RpciIsImV4aXN0c1N5bmMiLCJta2RpclN5bmMiLCJlcnJvciIsInJlYWRGaWxlU3luYyIsIndyaXRlRmlsZVN5bmMiLCJsaW5lcyIsImtlcHQiLCJtZXNzYWdlIiwidGltZXN0YW1wIiwiYXBwZW5kRmlsZVN5bmMiLCJsZXZlbCIsImRhdGEiLCJmb3JtYXR0ZWRNZXNzYWdlIiwiZm9ybWF0dGVkIiwiZW5hYmxlZCIsInNvdXJjZSIsImxpbmUiLCJ0cnVuY2F0ZWRMaW5lIiwiZ3JhcGhpdGlWZXJzaW9uIiwiX2EiLCJyZXNvbHZlIiwicmVqZWN0Iiwic3Bhd24iLCJwcm9jZXNzIiwib3V0cHV0IiwiY29kZSIsImVyciIsIkdyYXBoaXRpTG9nZ2VyIiwiZGVib3VuY2UiLCJmbiIsImRlbGF5IiwidGltZXIiLCJhcmdzIiwiZ2V0RnVuY3Rpb25hbExvZ2dlciIsImFwcEluc3RhbmNlIiwicGx1Z2luSW5zdGFuY2UiLCJwbHVnaW5EYXRhUGF0aCIsInBsdWdpbklkIiwic2FmZVJlYWRKc29uRmlsZSIsImFkYXB0ZXIiLCJwYXRoIiwibG9nZ2VyIiwidGV4dCIsInJlYWRUZW1wbGF0ZXJDb25maWciLCJhcHAiLCJjdXJyZW50TG9nZ2VyIiwiZGVmYXVsdFJlc3VsdCIsInJhdyIsImFueVJhdyIsInJhd0ZvbGRlclRlbXBsYXRlc0NhbmRpZGF0ZSIsIm5vcm1hbGl6ZVRlbXBsYXRlS2V5IiwidCIsImZvbGRlclRlbXBsYXRlcyIsImsiLCJrZXkiLCJpdGVtIiwiZm9sZGVyIiwidGVtcGxhdGVQYXRoIiwidGVtcGxhdGVzRm9sZGVyIiwidXNlVGVtcGxhdGVGb2xkZXJzIiwicGx1Z2lucyIsInJlc3VsdCIsInJlYWRQZXJpb2RpY05vdGVzQ29uZmlnIiwicGVyaW9kaWMiLCJyZWFkU2VjdGlvbiIsInNlY3Rpb24iLCJkYWlseSIsIndlZWtseSIsIm1vbnRobHkiLCJnZXRUZW1wbGF0ZXJDb25maWciLCJnZXRQZXJpb2RpY05vdGVzQ29uZmlnIiwiV2ViU29ja2V0U2VydmljZSIsInNldHRpbmdzIiwic3luY1JlZ2lzdHJ5U2VydmljZSIsInZhdWx0UmVnaXN0cnlTZXJ2aWNlIiwibXMiLCJhdHRlbXB0IiwiYmFzZURlbGF5IiwiZXhwb25lbnRpYWxEZWxheSIsImppdHRlciIsImZpbmFsRGVsYXkiLCJ3c1VybCIsImNvbm5lY3RUaW1lb3V0IiwicmVnaXN0ZXJlZFZhdWx0IiwiZXZlbnQiLCJhY3RpdmVWYXVsdElkIiwibWVzc2FnZVN0ciIsInZhdWx0SW5mbyIsInJlZ2lzdHJhdGlvbk1lc3NhZ2UiLCJwYXlsb2FkIiwiZmlsZSIsIlRGaWxlIiwiY29udGVudCIsInJlc3BvbnNlIiwicXVlcnkiLCJzZWFyY2hNb2RlIiwibWF4UmVzdWx0cyIsImluY2x1ZGVDb250ZXh0IiwiY29udGV4dFJhZGl1cyIsIm1vZGUiLCJyZXN1bHRzIiwiYWxsRmlsZXMiLCJxTG93ZXIiLCJmaWxlbmFtZU1hdGNoZXMiLCJmIiwic2VhcmNoRm4iLCJhZGRlZFBhdGhzIiwiciIsIm1hdGNoZWQiLCJzY29yZSIsIm1hdGNoZXMiLCJzZWFyY2hSZXN1bHQiLCJlIiwiY29udGV4dE1hdGNoZXMiLCJhIiwiYiIsInNhIiwic2IiLCJsb3dlciIsInEiLCJpZHgiLCJmb3VuZCIsImNvbnRleHRSZXN1bHRzIiwiYWRkZWRMaW5lcyIsInN0YXJ0IiwiZW5kIiwiY2hhckNvdW50IiwibGluZU51bSIsImkiLCJsaW5lTGVuZ3RoIiwibGluZVN0YXJ0IiwibWF0Y2hTdGFydEluTGluZSIsIm1hdGNoRW5kSW5MaW5lIiwiY29udGV4dFN0YXJ0IiwiY29udGV4dEVuZCIsImNvbnRleHRUZXh0IiwidmF1bHRzIiwiX2IiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckNvZGUiLCJtZXNzYWdlSWQiLCJwbHVnaW5BbnkiLCJyb290IiwiY2hpbGRyZW4iLCJjIiwiZmFsbGJhY2tSZXNwb25zZSIsImZvbGRlclBhdGgiLCJub3JtYWxpemVkUGF0aCIsIm5vcm1hbGl6ZVBhdGgiLCJvbGRQYXRoIiwibmV3UGF0aCIsIm5vcm1hbGl6ZWRPbGRQYXRoIiwibm9ybWFsaXplZE5ld1BhdGgiLCJURm9sZGVyIiwiZm9yY2UiLCJ0ZW1wbGF0ZXJQbHVnaW4iLCJ0ZW1wbGF0ZUZvbGRlciIsIl9jIiwibm9ybWFsaXplZEZvbGRlciIsInRlbXBsYXRlcyIsInRlbXBsYXRlTWFwcGluZ3MiLCJ0ZW1wbGF0ZXJDb25maWciLCJwZXJpb2RpY0NvbmZpZyIsIm1vbWVudCIsInRvZGF5IiwiY2FsY3VsYXRlUGVyaW9kaWNQYXRoIiwiYmFzZUZvbGRlciIsImZvcm1hdCIsImRhdGVPYmoiLCJkIiwiYmFzZSIsInBhcnRzIiwicCIsImZvbGRlclNlZ21lbnRzIiwiZm9sZGVyUGFydHMiLCJwYXJ0Iiwic2VnIiwiZm9ybWF0RGF0ZVRva2VuIiwic2luZ2xlRm9ybWF0IiwieWVhciIsIm1vbnRoIiwidG9rZW4iLCJmYWxsYmFja0RhdGVGb3JtYXQiLCJub3ciLCJkZWZhdWx0Rm9sZGVyIiwiX2UiLCJfZCIsInRlbXBsYXRlIiwidGVtcGxhdGVOYW1lIiwidGVtcGxhdGVLZXkiLCJfZiIsIl9nIiwiX2giLCJzZWFyY2hUZXJtIiwiZmlsZU5hbWUiLCJ0YXJnZXRGb2xkZXIiLCJ1c2VyQ29udGVudCIsImFsbFRlbXBsYXRlcyIsInNlYXJjaExvd2VyIiwic2VsZWN0ZWRUZW1wbGF0ZSIsInRlbXBsYXRlTGlzdCIsInRlbXBsYXRlciIsImZpbGVOYW1lTm9FeHQiLCJuZXdGaWxlIiwidGVtcGxhdGVyRXJyb3IiLCJ0ZW1wbGF0ZUNvbnRlbnQiLCJmaWxlTmFtZVdpdGhFeHQiLCJmaW5hbENvbnRlbnQiLCJmcm9udG1hdHRlclVwZGF0ZXMiLCJuZXdDb250ZW50IiwiZnJvbnRtYXR0ZXJTdGFydCIsImZyb250bWF0dGVyRW5kIiwiZnJvbnRtYXR0ZXJMaW5lcyIsImNvbnRlbnRMaW5lcyIsInZhbHVlIiwiZXhpc3RpbmdJbmRleCIsImNvbG9uSW5kZXgiLCJmb3JtYXR0ZWRWYWx1ZSIsIm5ld0xpbmUiLCJzdGFydExpbmUiLCJlbmRMaW5lIiwibmV3TGluZXMiLCJhY3RpdmVWaWV3IiwiTWFya2Rvd25WaWV3IiwicHJvY2Vzc2VkIiwiZWRpdG9yIiwib3BlcmF0aW9uIiwibGFzdExpbmUiLCJwb3MiLCJmcm9tUG9zIiwidG9Qb3MiLCJoZWFkaW5nVG9GaW5kIiwidG90YWxMaW5lcyIsImluc2VydExpbmUiLCJjdXJyZW50Q29udGVudCIsImluc2VydExpbmVJbmRleCIsImN1cnJlbnRMaW5lIiwiYmVmb3JlIiwiYWZ0ZXIiLCJmcm9tTGluZSIsInRvTGluZSIsImZpcnN0TGluZSIsInJlc3BvbnNlVHlwZSIsIm5ld1NldHRpbmdzIiwiU3luY1JlZ2lzdHJ5U2VydmljZSIsIkV2ZW50cyIsInJlZ2lzdHJ5IiwibW1VaWQiLCJ2YXVsdElkIiwiY29udGV4dCIsInJlY29yZCIsIm5vdGVQYXRoIiwic3luY0VudHJ5IiwiZXhpc3RpbmdFbnRyeUluZGV4Iiwic3luYyIsIm5ld1JlY29yZCIsInV1aWQiLCJlbnRyeSIsInZhdWx0UmVsYXRpdmVQYXRoIiwidmF1bHRBYnNQYXRoIiwiaXNBYnNvbHV0ZSIsInJlbGF0aXZlIiwiY2FjaGUiLCJmbSIsInByb3AiLCJjdXN0b20iLCJtYXBwaW5ncyIsInNvcnRlZE1hcHBpbmdzIiwicGF0aFBhcnRzIiwibm90ZUZvbGRlclBhdGgiLCJtYXBwaW5nIiwibm9ybWFsaXplZEZvbGRlclBhdGgiLCJkYXRhYmFzZUlkIiwiZ3JvdXBJZCIsImluaXRpYWxMZW5ndGgiLCJyZWNvcmRzIiwiZGF0YWJhc2VDb3VudHMiLCJ0b3RhbFN5bmNzIiwibGFzdFN5bmMiLCJkYXRlU3RyaW5nIiwic2VlbiIsInVuaXF1ZVJlY29yZHMiLCJ2YXVsdElkcyIsImRhdGFiYXNlSWRzIiwiZ3JvdXBJZHMiLCJWYXVsdFJlZ2lzdHJ5U2VydmljZSIsIkV2ZW50RW1pdHRlciIsImlkIiwidmF1bHQiLCJzdGF0dXMiLCJ2IiwibGF0ZXN0IiwiZnMiLCJ2YXVsdE5hbWUiLCJvbGRBY3RpdmVWYXVsdElkIiwiY3VycmVudFZhdWx0TmFtZSIsImN1cnJlbnRWYXVsdFBhdGgiLCJmb3VuZFZhdWx0SWQiLCJwYXRoMSIsInBhdGgyIiwibm9ybWFsaXplIiwibXVsdGlWYXVsdEVuYWJsZWQiLCJ3c1NlcnZpY2UiLCJleGlzdGluZ1ZhdWx0IiwiZnJlc2hEYXRhYmFzZUNvbmZpZyIsImxpc3RlbmVyIiwiY29ubmVjdGVkIiwiYXV0aFRva2VuIiwibW9kZWwiLCJkaW1lbnNpb25zIiwicHJvdmlkZXIiLCJwcm92aWRlckluZm8iLCJkaW1lbnNpb25zSW5mbyIsImN1cnJlbnRNb2RlbCIsImN1cnJlbnREaW1lbnNpb25zIiwiY3VycmVudFByb3ZpZGVyIiwic3RvcmVkQ29uZmlnIiwiY29uZmlnIiwiZGF0YWJhc2VUeXBlIiwibmVvNGpDb25maWciLCJ1cmlNYXRjaCIsInBhcnNlZFBvcnQiLCJkZWZhdWx0SG9zdCIsImRlZmF1bHRQb3J0IiwiZmFsa29yQ29uZmlnIiwiUFJPVEVDVEVEX0FUVFJJQlVURVMiLCJERUZBVUxUX0VOVElUWV9ERVNDUklQVElPTlMiLCJERUZBVUxUX1BST1BFUlRZX0RFU0NSSVBUSU9OUyIsIlNjaGVtYURpc2NvdmVyeVNlcnZpY2UiLCJuYW1lIiwiaXNzdWVzIiwic3VnZ2VzdGVkTmFtZSIsImNvbXBsaWFuY2VMZXZlbCIsInZhbHVlcyIsImlzUHJvdGVjdGVkIiwibmFtaW5nSXNzdWVzIiwiY29tcGxpYW5jZVN0YXR1cyIsImVudGl0eVR5cGUiLCJvcmlnaW5hbE5hbWUiLCJtYXBwZWROYW1lIiwicHJvcGVydHlOYW1lIiwiY3VycmVudEVkZ2VUeXBlcyIsImF2YWlsYWJsZURlZmF1bHRzIiwidW51c2VkIiwiZWRnZVR5cGUiLCJkZXNjcmlwdGlvbiIsImVudGl0eVR5cGVzIiwiY3VycmVudE1hcHBpbmdzIiwic3VnZ2VzdGlvbnMiLCJleGlzdGluZ01hcHBpbmdzIiwibSIsInR5cGUiLCJjb250ZW50VHlwZSIsInR5cGVNYXAiLCJmaWxlcyIsIm1ldGFkYXRhIiwiZnJvbnRtYXR0ZXIiLCJ0eXBlRGF0YSIsInR5cGVOYW1lIiwicHJvcE5hbWUiLCJhbmFseXNpcyIsImhhc01hcHBpbmciLCJmaW5hbE5hbWUiLCJmaW5hbE5hbWluZ0lzc3VlcyIsImZpbmFsQ29tcGxpYW5jZVN0YXR1cyIsInNhdmVkU2VsZWN0aW9uIiwiZGVmYXVsdEVuYWJsZWQiLCJmaW5hbEVuYWJsZWQiLCJub25OdWxsVmFsdWVzIiwic2FtcGxlIiwiZGVzY3JpcHRpb25zIiwiY2xlYW5Qcm9wTmFtZSIsInNjaGVtYXMiLCJtb2R1bGVEb2MiLCJpbXBvcnRzIiwiYmFzZUVudGl0eSIsIm1vZGVscyIsInNjaGVtYSIsImVkZ2VUeXBlcyIsImVkZ2VUeXBlTWFwIiwiY2xhc3NOYW1lIiwidmFsaWRQcm9wZXJ0aWVzIiwicHl0aG9uVHlwZSIsImZpZWxkTmFtZSIsInByb3RlY3RlZENvbW1lbnRzIiwiYWxsTGluZXMiLCJwcm9wZXJ0aWVzIiwiY2xhc3NEb2MiLCJzIiwiZWRnZU1hcEVudHJpZXMiLCJwbHVnaW5EaXIiLCJweWRhbnRpY0NvZGUiLCJtb2RlbHNEaXIiLCJtb2RlbFBhdGgiLCJzdGF0IiwibW9kZWxNYXRjaGVzIiwiTm90ZVNlbGVjdGlvblNlcnZpY2UiLCJmaWxlUGF0aCIsImluY2x1ZGVkRm9sZGVycyIsImV4Y2x1ZGVkRm9sZGVycyIsImV4Y2x1ZGVkRm9sZGVyIiwiaXNJbmNsdWRlZCIsImluY2x1ZGVkRm9sZGVyIiwidGFncyIsInN5bmNPcHRpb25zIiwiYWxsTm90ZXMiLCJmaW5hbFN5bmNPcHRpb25zIiwibmV3Tm90ZXMiLCJ1cGRhdGVkTm90ZXMiLCJjb21iaW5lZFBhdGhzIiwiY29tYmluZWROb3RlcyIsIm5vdGUiLCJub3RlcyIsInN5bmNSZWdpc3RyeSIsImN1cnJlbnREYlR5cGUiLCJzeW5jUmVjb3JkIiwiY3VycmVudERiU3luYyIsImxhc3RTeW5jVGltZSIsImZpbGVNb2RUaW1lIiwiU1lOQ19UT0xFUkFOQ0VfTVMiLCJwcml2YXRlTm90ZXMiLCJjcml0ZXJpYSIsInRhZyIsInR5cGVzIiwibm90ZVBhdGhzIiwicGF0aHMiLCJzZWxlY3RlZFBhdGhzIiwibm90ZXNCeVR5cGUiLCJzZWxlY3RlZEJ5VHlwZSIsInNlbGVjdGVkQ291bnQiLCJlc3RpbWF0ZWRNaW51dGVzIiwiZXN0aW1hdGVkU3luY1RpbWUiLCJieVR5cGUiLCJwcmVzZXRzIiwid2FybmluZ3MiLCJlcnJvcnMiLCJtaXNzaW5nRmlsZXMiLCJsYXJnZUZpbGVzIiwiZnJvbnRtYXR0ZXJUYWdzIiwiaXNOb3RoaW5nIiwic3ViamVjdCIsImlzT2JqZWN0IiwidG9BcnJheSIsInNlcXVlbmNlIiwiZXh0ZW5kIiwidGFyZ2V0IiwiaW5kZXgiLCJsZW5ndGgiLCJzb3VyY2VLZXlzIiwicmVwZWF0Iiwic3RyaW5nIiwiY291bnQiLCJjeWNsZSIsImlzTmVnYXRpdmVaZXJvIiwibnVtYmVyIiwiaXNOb3RoaW5nXzEiLCJpc09iamVjdF8xIiwidG9BcnJheV8xIiwicmVwZWF0XzEiLCJpc05lZ2F0aXZlWmVyb18xIiwiZXh0ZW5kXzEiLCJjb21tb24iLCJmb3JtYXRFcnJvciIsImV4Y2VwdGlvbiIsImNvbXBhY3QiLCJ3aGVyZSIsIllBTUxFeGNlcHRpb24kMSIsInJlYXNvbiIsIm1hcmsiLCJnZXRMaW5lIiwiYnVmZmVyIiwibGluZUVuZCIsInBvc2l0aW9uIiwibWF4TGluZUxlbmd0aCIsImhlYWQiLCJ0YWlsIiwibWF4SGFsZkxlbmd0aCIsInBhZFN0YXJ0IiwibWF4IiwibWFrZVNuaXBwZXQiLCJvcHRpb25zIiwicmUiLCJsaW5lU3RhcnRzIiwibGluZUVuZHMiLCJtYXRjaCIsImZvdW5kTGluZU5vIiwibGluZU5vTGVuZ3RoIiwic25pcHBldCIsIlRZUEVfQ09OU1RSVUNUT1JfT1BUSU9OUyIsIllBTUxfTk9ERV9LSU5EUyIsImNvbXBpbGVTdHlsZUFsaWFzZXMiLCJtYXAiLCJzdHlsZSIsImFsaWFzIiwiVHlwZSQxIiwiY29tcGlsZUxpc3QiLCJjdXJyZW50VHlwZSIsIm5ld0luZGV4IiwicHJldmlvdXNUeXBlIiwicHJldmlvdXNJbmRleCIsImNvbXBpbGVNYXAiLCJjb2xsZWN0VHlwZSIsIlNjaGVtYSQxIiwiZGVmaW5pdGlvbiIsImltcGxpY2l0IiwiZXhwbGljaXQiLCJ0eXBlJDEiLCJzdHIiLCJzZXEiLCJmYWlsc2FmZSIsInJlc29sdmVZYW1sTnVsbCIsImNvbnN0cnVjdFlhbWxOdWxsIiwiaXNOdWxsIiwib2JqZWN0IiwiX251bGwiLCJyZXNvbHZlWWFtbEJvb2xlYW4iLCJjb25zdHJ1Y3RZYW1sQm9vbGVhbiIsImlzQm9vbGVhbiIsImJvb2wiLCJpc0hleENvZGUiLCJpc09jdENvZGUiLCJpc0RlY0NvZGUiLCJyZXNvbHZlWWFtbEludGVnZXIiLCJoYXNEaWdpdHMiLCJjaCIsImNvbnN0cnVjdFlhbWxJbnRlZ2VyIiwic2lnbiIsImlzSW50ZWdlciIsImludCIsIm9iaiIsIllBTUxfRkxPQVRfUEFUVEVSTiIsInJlc29sdmVZYW1sRmxvYXQiLCJjb25zdHJ1Y3RZYW1sRmxvYXQiLCJTQ0lFTlRJRklDX1dJVEhPVVRfRE9UIiwicmVwcmVzZW50WWFtbEZsb2F0IiwicmVzIiwiaXNGbG9hdCIsImZsb2F0IiwianNvbiIsImNvcmUiLCJZQU1MX0RBVEVfUkVHRVhQIiwiWUFNTF9USU1FU1RBTVBfUkVHRVhQIiwicmVzb2x2ZVlhbWxUaW1lc3RhbXAiLCJjb25zdHJ1Y3RZYW1sVGltZXN0YW1wIiwiZGF5IiwiaG91ciIsIm1pbnV0ZSIsInNlY29uZCIsImZyYWN0aW9uIiwiZGVsdGEiLCJ0el9ob3VyIiwidHpfbWludXRlIiwiZGF0ZSIsInJlcHJlc2VudFlhbWxUaW1lc3RhbXAiLCJyZXNvbHZlWWFtbE1lcmdlIiwibWVyZ2UiLCJCQVNFNjRfTUFQIiwicmVzb2x2ZVlhbWxCaW5hcnkiLCJiaXRsZW4iLCJjb25zdHJ1Y3RZYW1sQmluYXJ5IiwidGFpbGJpdHMiLCJpbnB1dCIsImJpdHMiLCJyZXByZXNlbnRZYW1sQmluYXJ5IiwiaXNCaW5hcnkiLCJiaW5hcnkiLCJfaGFzT3duUHJvcGVydHkkMyIsIl90b1N0cmluZyQyIiwicmVzb2x2ZVlhbWxPbWFwIiwib2JqZWN0S2V5cyIsInBhaXIiLCJwYWlyS2V5IiwicGFpckhhc0tleSIsImNvbnN0cnVjdFlhbWxPbWFwIiwib21hcCIsIl90b1N0cmluZyQxIiwicmVzb2x2ZVlhbWxQYWlycyIsImtleXMiLCJjb25zdHJ1Y3RZYW1sUGFpcnMiLCJwYWlycyIsIl9oYXNPd25Qcm9wZXJ0eSQyIiwicmVzb2x2ZVlhbWxTZXQiLCJjb25zdHJ1Y3RZYW1sU2V0Iiwic2V0IiwiX2RlZmF1bHQiLCJfaGFzT3duUHJvcGVydHkkMSIsIkNPTlRFWFRfRkxPV19JTiIsIkNPTlRFWFRfRkxPV19PVVQiLCJDT05URVhUX0JMT0NLX0lOIiwiQ09OVEVYVF9CTE9DS19PVVQiLCJDSE9NUElOR19DTElQIiwiQ0hPTVBJTkdfU1RSSVAiLCJDSE9NUElOR19LRUVQIiwiUEFUVEVSTl9OT05fUFJJTlRBQkxFIiwiUEFUVEVSTl9OT05fQVNDSUlfTElORV9CUkVBS1MiLCJQQVRURVJOX0ZMT1dfSU5ESUNBVE9SUyIsIlBBVFRFUk5fVEFHX0hBTkRMRSIsIlBBVFRFUk5fVEFHX1VSSSIsIl9jbGFzcyIsImlzX0VPTCIsImlzX1dISVRFX1NQQUNFIiwiaXNfV1NfT1JfRU9MIiwiaXNfRkxPV19JTkRJQ0FUT1IiLCJmcm9tSGV4Q29kZSIsImxjIiwiZXNjYXBlZEhleExlbiIsImZyb21EZWNpbWFsQ29kZSIsInNpbXBsZUVzY2FwZVNlcXVlbmNlIiwiY2hhckZyb21Db2RlcG9pbnQiLCJzaW1wbGVFc2NhcGVDaGVjayIsInNpbXBsZUVzY2FwZU1hcCIsIlN0YXRlJDEiLCJnZW5lcmF0ZUVycm9yIiwic3RhdGUiLCJ0aHJvd0Vycm9yIiwidGhyb3dXYXJuaW5nIiwiZGlyZWN0aXZlSGFuZGxlcnMiLCJtYWpvciIsIm1pbm9yIiwiaGFuZGxlIiwicHJlZml4IiwiY2FwdHVyZVNlZ21lbnQiLCJjaGVja0pzb24iLCJfcG9zaXRpb24iLCJfbGVuZ3RoIiwiX2NoYXJhY3RlciIsIl9yZXN1bHQiLCJtZXJnZU1hcHBpbmdzIiwiZGVzdGluYXRpb24iLCJvdmVycmlkYWJsZUtleXMiLCJxdWFudGl0eSIsInN0b3JlTWFwcGluZ1BhaXIiLCJrZXlUYWciLCJrZXlOb2RlIiwidmFsdWVOb2RlIiwic3RhcnRMaW5lU3RhcnQiLCJzdGFydFBvcyIsInJlYWRMaW5lQnJlYWsiLCJza2lwU2VwYXJhdGlvblNwYWNlIiwiYWxsb3dDb21tZW50cyIsImNoZWNrSW5kZW50IiwibGluZUJyZWFrcyIsInRlc3REb2N1bWVudFNlcGFyYXRvciIsIndyaXRlRm9sZGVkTGluZXMiLCJyZWFkUGxhaW5TY2FsYXIiLCJub2RlSW5kZW50Iiwid2l0aGluRmxvd0NvbGxlY3Rpb24iLCJwcmVjZWRpbmciLCJmb2xsb3dpbmciLCJjYXB0dXJlU3RhcnQiLCJjYXB0dXJlRW5kIiwiaGFzUGVuZGluZ0NvbnRlbnQiLCJfbGluZSIsIl9saW5lU3RhcnQiLCJfbGluZUluZGVudCIsIl9raW5kIiwicmVhZFNpbmdsZVF1b3RlZFNjYWxhciIsInJlYWREb3VibGVRdW90ZWRTY2FsYXIiLCJoZXhMZW5ndGgiLCJoZXhSZXN1bHQiLCJ0bXAiLCJyZWFkRmxvd0NvbGxlY3Rpb24iLCJyZWFkTmV4dCIsIl9wb3MiLCJfdGFnIiwiX2FuY2hvciIsInRlcm1pbmF0b3IiLCJpc1BhaXIiLCJpc0V4cGxpY2l0UGFpciIsImlzTWFwcGluZyIsImNvbXBvc2VOb2RlIiwicmVhZEJsb2NrU2NhbGFyIiwiZm9sZGluZyIsImNob21waW5nIiwiZGlkUmVhZENvbnRlbnQiLCJkZXRlY3RlZEluZGVudCIsInRleHRJbmRlbnQiLCJlbXB0eUxpbmVzIiwiYXRNb3JlSW5kZW50ZWQiLCJyZWFkQmxvY2tTZXF1ZW5jZSIsImRldGVjdGVkIiwicmVhZEJsb2NrTWFwcGluZyIsImZsb3dJbmRlbnQiLCJhbGxvd0NvbXBhY3QiLCJfa2V5TGluZSIsIl9rZXlMaW5lU3RhcnQiLCJfa2V5UG9zIiwiYXRFeHBsaWNpdEtleSIsInJlYWRUYWdQcm9wZXJ0eSIsImlzVmVyYmF0aW0iLCJpc05hbWVkIiwidGFnSGFuZGxlIiwidGFnTmFtZSIsInJlYWRBbmNob3JQcm9wZXJ0eSIsInJlYWRBbGlhcyIsInBhcmVudEluZGVudCIsIm5vZGVDb250ZXh0IiwiYWxsb3dUb1NlZWsiLCJhbGxvd0Jsb2NrU3R5bGVzIiwiYWxsb3dCbG9ja1NjYWxhcnMiLCJhbGxvd0Jsb2NrQ29sbGVjdGlvbnMiLCJpbmRlbnRTdGF0dXMiLCJhdE5ld0xpbmUiLCJoYXNDb250ZW50IiwidHlwZUluZGV4IiwidHlwZVF1YW50aXR5IiwidHlwZUxpc3QiLCJibG9ja0luZGVudCIsInJlYWREb2N1bWVudCIsImRvY3VtZW50U3RhcnQiLCJkaXJlY3RpdmVOYW1lIiwiZGlyZWN0aXZlQXJncyIsImhhc0RpcmVjdGl2ZXMiLCJsb2FkRG9jdW1lbnRzIiwibnVsbHBvcyIsImxvYWRBbGwkMSIsIml0ZXJhdG9yIiwiZG9jdW1lbnRzIiwibG9hZCQxIiwibG9hZEFsbF8xIiwibG9hZF8xIiwibG9hZGVyIiwiX3RvU3RyaW5nIiwiX2hhc093blByb3BlcnR5IiwiQ0hBUl9CT00iLCJDSEFSX1RBQiIsIkNIQVJfTElORV9GRUVEIiwiQ0hBUl9DQVJSSUFHRV9SRVRVUk4iLCJDSEFSX1NQQUNFIiwiQ0hBUl9FWENMQU1BVElPTiIsIkNIQVJfRE9VQkxFX1FVT1RFIiwiQ0hBUl9TSEFSUCIsIkNIQVJfUEVSQ0VOVCIsIkNIQVJfQU1QRVJTQU5EIiwiQ0hBUl9TSU5HTEVfUVVPVEUiLCJDSEFSX0FTVEVSSVNLIiwiQ0hBUl9DT01NQSIsIkNIQVJfTUlOVVMiLCJDSEFSX0NPTE9OIiwiQ0hBUl9FUVVBTFMiLCJDSEFSX0dSRUFURVJfVEhBTiIsIkNIQVJfUVVFU1RJT04iLCJDSEFSX0NPTU1FUkNJQUxfQVQiLCJDSEFSX0xFRlRfU1FVQVJFX0JSQUNLRVQiLCJDSEFSX1JJR0hUX1NRVUFSRV9CUkFDS0VUIiwiQ0hBUl9HUkFWRV9BQ0NFTlQiLCJDSEFSX0xFRlRfQ1VSTFlfQlJBQ0tFVCIsIkNIQVJfVkVSVElDQUxfTElORSIsIkNIQVJfUklHSFRfQ1VSTFlfQlJBQ0tFVCIsIkVTQ0FQRV9TRVFVRU5DRVMiLCJERVBSRUNBVEVEX0JPT0xFQU5TX1NZTlRBWCIsIkRFUFJFQ0FURURfQkFTRTYwX1NZTlRBWCIsImNvbXBpbGVTdHlsZU1hcCIsImVuY29kZUhleCIsImNoYXJhY3RlciIsIlFVT1RJTkdfVFlQRV9TSU5HTEUiLCJRVU9USU5HX1RZUEVfRE9VQkxFIiwiU3RhdGUiLCJpbmRlbnRTdHJpbmciLCJzcGFjZXMiLCJpbmQiLCJuZXh0IiwiZ2VuZXJhdGVOZXh0TGluZSIsInRlc3RJbXBsaWNpdFJlc29sdmluZyIsImlzV2hpdGVzcGFjZSIsImlzUHJpbnRhYmxlIiwiaXNOc0NoYXJPcldoaXRlc3BhY2UiLCJpc1BsYWluU2FmZSIsInByZXYiLCJpbmJsb2NrIiwiY0lzTnNDaGFyT3JXaGl0ZXNwYWNlIiwiY0lzTnNDaGFyIiwiaXNQbGFpblNhZmVGaXJzdCIsImlzUGxhaW5TYWZlTGFzdCIsImNvZGVQb2ludEF0IiwiZmlyc3QiLCJuZWVkSW5kZW50SW5kaWNhdG9yIiwibGVhZGluZ1NwYWNlUmUiLCJTVFlMRV9QTEFJTiIsIlNUWUxFX1NJTkdMRSIsIlNUWUxFX0xJVEVSQUwiLCJTVFlMRV9GT0xERUQiLCJTVFlMRV9ET1VCTEUiLCJjaG9vc2VTY2FsYXJTdHlsZSIsInNpbmdsZUxpbmVPbmx5IiwiaW5kZW50UGVyTGV2ZWwiLCJsaW5lV2lkdGgiLCJ0ZXN0QW1iaWd1b3VzVHlwZSIsInF1b3RpbmdUeXBlIiwiZm9yY2VRdW90ZXMiLCJjaGFyIiwicHJldkNoYXIiLCJoYXNMaW5lQnJlYWsiLCJoYXNGb2xkYWJsZUxpbmUiLCJzaG91bGRUcmFja1dpZHRoIiwicHJldmlvdXNMaW5lQnJlYWsiLCJwbGFpbiIsIndyaXRlU2NhbGFyIiwiaXNrZXkiLCJpbmRlbnQiLCJ0ZXN0QW1iaWd1aXR5IiwiYmxvY2tIZWFkZXIiLCJkcm9wRW5kaW5nTmV3bGluZSIsImZvbGRTdHJpbmciLCJlc2NhcGVTdHJpbmciLCJpbmRlbnRJbmRpY2F0b3IiLCJjbGlwIiwia2VlcCIsImNob21wIiwid2lkdGgiLCJsaW5lUmUiLCJuZXh0TEYiLCJmb2xkTGluZSIsInByZXZNb3JlSW5kZW50ZWQiLCJtb3JlSW5kZW50ZWQiLCJicmVha1JlIiwiY3VyciIsImVzY2FwZVNlcSIsIndyaXRlRmxvd1NlcXVlbmNlIiwid3JpdGVOb2RlIiwid3JpdGVCbG9ja1NlcXVlbmNlIiwid3JpdGVGbG93TWFwcGluZyIsIm9iamVjdEtleUxpc3QiLCJvYmplY3RLZXkiLCJvYmplY3RWYWx1ZSIsInBhaXJCdWZmZXIiLCJ3cml0ZUJsb2NrTWFwcGluZyIsImV4cGxpY2l0UGFpciIsImRldGVjdFR5cGUiLCJibG9jayIsImlzYmxvY2tzZXEiLCJ0YWdTdHIiLCJvYmplY3RPckFycmF5IiwiZHVwbGljYXRlSW5kZXgiLCJkdXBsaWNhdGUiLCJnZXREdXBsaWNhdGVSZWZlcmVuY2VzIiwib2JqZWN0cyIsImR1cGxpY2F0ZXNJbmRleGVzIiwiaW5zcGVjdE5vZGUiLCJkdW1wJDEiLCJkdW1wXzEiLCJkdW1wZXIiLCJERUZBVUxUX1NDSEVNQSIsImxvYWQiLCJkdW1wIiwiTU1fVUlEX0tFWSIsInNwbGl0RnJvbnRtYXR0ZXIiLCJlbmRJZHgiLCJib2R5IiwicGFyc2VGcm9udG1hdHRlciIsImZyb250TWF0dGVyVGV4dCIsInBhcnNlZCIsInlhbWwubG9hZCIsImR1bXBGcm9udG1hdHRlciIsInlhbWwuZHVtcCIsInlhbWwuREVGQVVMVF9TQ0hFTUEiLCJyZWFkTW1VaWQiLCJ2YWwiLCJtbSIsIndyaXRlTW1VaWQiLCJmbU9iaiIsIlN5bmNTdGF0dXMiLCJTeW5jU3RhdHVzTWFuYWdlciIsImdyYXBoaXRpU2VydmljZSIsInNvdXJjZV9kZXNjcmlwdGlvbiIsInF1ZXVlSXRlbSIsIkZyb250bWF0dGVyVXRpbHMucmVhZE1tVWlkIiwic3luY1R5cGVJbmZvIiwib3RoZXJEYXRhYmFzZXMiLCJzeW5jUmVzdWx0IiwiYWJzb2x1dGVGaWxlUGF0aCIsIk5vdGljZSIsInJlZ2lzdHJ5RXJyb3IiLCJwcm92aWRlZE1tVWlkIiwiZXhpc3RpbmdNbVVpZCIsIm5ld01tVWlkIiwic3luY2VkVGltZSIsIkZyb250bWF0dGVyVXRpbHMud3JpdGVNbVVpZCIsImVwaXNvZGVJZCIsInJhbmRvbSIsImZhbGxiYWNrSWQiLCJlbmRJbmRleCIsImJvZHlDb250ZW50IiwieWFtbCIsImlucHV0UGF0aCIsImFic29sdXRlUGF0aCIsInVuaXF1ZVBhcnRzIiwiTUNQRm9sZGVyUmVzb2x2ZXIiLCJub3RlVHlwZSIsImlzVmFsaWQiLCJub3JtYWxpemVkIiwiZm9sZGVyRXhpc3RzIiwic2VnbWVudHMiLCJjdXJyZW50UGF0aCIsImNyZWF0ZWRBbnkiLCJleGlzdHNOb3ciLCJVVl9WRVJTSU9OIiwiVVZfVVJMUyIsIlVWX0NIRUNLU1VNUyIsIlB5dGhvbkluc3RhbGxlciIsImFwcERhdGEiLCJ2ZW52UGF0aCIsInZlbnZQeXRob25QYXRoIiwic3lzdGVtUHl0aG9uIiwidXZJbnN0YWxsZWQiLCJkYXRhSnNvblB5dGhvbiIsInZlbnZFeGlzdHMiLCJ2ZW52VmFsaWQiLCJncmFwaGl0aUluc3RhbGxlZCIsIm1pc21hdGNoIiwibWV0aG9kIiwib25Qcm9ncmVzcyIsImhhc1NwYWNlIiwiZnNQcm9taXNlcyIsInB5dGhvblBhdGgiLCJjYW5kaWRhdGVzIiwiY2FuZGlkYXRlIiwidmVyc2lvblN0ciIsImJhc2VQeXRob24iLCJob21lIiwib3MiLCJwbGF0Zm9ybSIsInV2UGF0aCIsImJpbkRpciIsImFyY2giLCJ1cmwiLCJpc1ppcCIsImRvd25sb2FkUGF0aCIsImV4cGVjdGVkQ2hlY2tzdW0iLCJjb21tYW5kIiwiY2hpbGQiLCJzdGRvdXQiLCJzdGRlcnIiLCJkZXN0UGF0aCIsImh0dHBzIiwiZmlsZVN5c3RlbSIsImZpbGVTdHJlYW0iLCJ6aXBQYXRoIiwiZGVzdERpciIsImV4ZWMiLCJwcm9taXNpZnkiLCJleGVjQXN5bmMiLCJ0YXJQYXRoIiwiZXhwZWN0ZWRTaGEyNTYiLCJoYXNoIiwiY3J5cHRvIiwic3RyZWFtIiwidGFyZ2V0UGF0aCIsInJlcXVpcmVkTUIiLCJjaGVja1BhdGgiLCJkcml2ZSIsImZyZWVTcGFjZSIsImhhc0Vub3VnaFNwYWNlIiwicmVxUGF0aCIsInZlcnNpb24iLCJ2ZW52QmluRGlyIiwiR3JhcGhpdGlTZXJ2aWNlIiwic3luY1N0YXR1c01hbmFnZXIiLCJuZXdWYXVsdElkIiwibm90ZXNQYXRocyIsIm5vdGVzVG9TeW5jIiwidHJpZ2dlclR5cGUiLCJub3Rlc0ZvclN5bmMiLCJwcm9ncmVzcyIsImJyaWRnZVBhdGgiLCJpbnN0YWxsUGF0aCIsInB5dGhvbkNtZCIsInB5dGhvbkVudiIsIm91dHB1dEJ1ZmZlciIsImVycm9yQnVmZmVyIiwibGFzdFByb2dyZXNzVGltZSIsImVycm9yTXNnIiwidGltZW91dElkIiwiY3VycmVudEVtYmVkZGluZ01vZGVsIiwiZGV0YWlscyIsImVtYmVkZGluZ1ZhbGlkYXRpb25FcnJvciIsInZhbGlkYXRpb24iLCJzeW5jQ29uZmlnIiwicHJvY2Vzc2VkQ291bnQiLCJza2lwcGVkQ291bnQiLCJub3RlUmVzdWx0cyIsInJlbGF0aXZlUGF0aCIsIm5vdGVGaWxlIiwiZmluYWxTdGF0dXMiLCJmaW5hbFJlc3VsdCIsIm5vdGVTdW1tYXJpZXMiLCJuIiwicGF0aFZhbCIsInN0YXR1c1ZhbCIsImVwaXNvZGVWYWwiLCJzdW1tYXJ5IiwiYXZhaWxhYmxlVHlwZXMiLCJhdmFpbGFibGVUYWdzIiwicGF0aFNlZ21lbnRzIiwiaGFsZkxlbmd0aCIsImlzRHVwbGljYXRlZCIsImoiLCJwYXR0ZXJuTGVuZ3RoIiwidmF1bHRQYXRocyIsInN0YXJ0VGltZSIsInBlcmZvcm1hbmNlIiwiY3VycmVudFZhdWx0SWQiLCJjYWNoZWQiLCJyZXNvbHZlZFBhdGhzIiwiZHVyYXRpb24iLCJub3JtYWxpemVkVmF1bHRQYXRoIiwiYnJpZGdlRGlyIiwic3RhbmRhcmRQbHVnaW5QYXRoIiwic3RhbmRhcmRCcmlkZ2VQYXRoIiwiZGV2UHJvamVjdFBhdGgiLCJkZXZCcmlkZ2VQYXRoIiwidmF1bHRCcmlkZ2VQYXRoIiwicGx1Z2luSW5zdGFsbERpciIsIm1hbmlmZXN0UGF0aCIsIm1hbmlmZXN0QnJpZGdlUGF0aCIsImNmZyIsInNhbml0aXplZCIsImFjYyIsImRiQ29uZmlnIiwiZmluYWxWYXVsdFBhdGgiLCJjdXJyZW50U2V0dGluZ3MiLCJwcmV2aW91c19lcGlzb2RlX3V1aWRzIiwicnVuU2luZ2xlU3luYyIsInNpbmdsZUNvbmZpZyIsIm91dCIsImRpYWdub3N0aWMiLCJwYXJzZUVyciIsIm5vdGVQYXRoRm9yR3JvdXAiLCJncm91cElkT3ZlcnJpZGUiLCJyZXRyeUFmdGVyIiwicmVzZXRUaW1lIiwicHJvdmlkZXJNZXNzYWdlIiwicGF1c2VNZXNzYWdlIiwicmVzZXREYXRlIiwidHJ1bmNhdGVkU3RkZXJyIiwic2tpcHBlZCIsIm5vZGVUeXBlc0xvYWRlZCIsImVkZ2VUeXBlc0xvYWRlZCIsInJlc3VsdFdyYXBwZXIiLCJtYXhEZWxheSIsImVyck1zZyIsImRhZW1vbkJyaWRnZSIsInBhcnNlZFJlc3VsdCIsInRlc3RUeXBlIiwidGVzdFNjcmlwdCIsInZhbGlkYXRpb25SZXN1bHRzIiwibGxtQXBpS2V5IiwiZW1iZWRkZXJBcGlLZXkiLCJoYXNDaGFuZ2VkIiwibWlzbWF0Y2hEZXRhaWxzIiwid2FybmluZ01lc3NhZ2UiLCJwcm9jZXNzaW5nVGltZSIsInRvdGFsQ291bnQiLCJiYXRjaENvdW50IiwiZmlyc3ROb3RlIiwiZXBpc29kZU5hbWUiLCJlbnRpdHlOYW1lIiwiYXZhaWxhYmxlRW50aXR5VHlwZXMiLCJhZGRlZENvdW50IiwidXBkYXRlZENvdW50IiwiZXhpc3RpbmciLCJwcm9wZXJ0eSIsImRlZmF1bHREZXNjcmlwdGlvbiIsInRvdGFsQWNjZXNzZXMiLCJoaXRSYXRpbyIsImNhY2hlU2l6ZSIsImVzdGltYXRlZE1lbW9yeVVzYWdlS0IiLCJwcm9tcHQiLCJzeXN0ZW1Qcm9tcHQiLCJtY3BTZXJ2ZXJQYXRoIiwidGltZW91dCIsInNpZ25hbCIsInBpZCIsImdyYWNlZnVsVGltZW91dCIsImRhdGFKc29uUGF0aCIsImNsYXVkZUNvbmZpZ0RpciIsImNsYXVkZUNvbmZpZ1BhdGgiLCJQeXRob25EYWVtb25CcmlkZ2UiLCJ2YXVsdFJlZ2lzdHJ5IiwiZGFlbW9uU2NyaXB0IiwiZW52Iiwic3RhcnR1cENvbXBsZXRlIiwic3RhcnR1cFRpbWVvdXQiLCJxdWV1ZWRDb21tYW5kIiwicHJvYyIsInJlc3BvbnNlQnVmZmVyIiwicmVzcG9uc2VSZWNlaXZlZCIsIm9uRGF0YSIsImNvbW1hbmRKc29uIiwiY21kIiwicHJvY2Vzc1JlZiIsInNodXRkb3duQ29tbWFuZCIsImFjdGl2ZVZhdWx0IiwibWFuaWZlc3REaXIiLCJmYWxsYmFja1BhdGgiLCJ2YXVsdFBsdWdpblBhdGgiLCJTaW1wbGVMTE1TZXJ2aWNlIiwic2FtcGxlRGF0YSIsInVzZXJQcm9tcHQiLCJzYW1wbGVzIiwic291cmNlRW50aXR5IiwidGFyZ2V0RW50aXR5IiwiY2xlYW5lZCIsImVudGl0aWVzIiwiYXBpS2V5IiwibWVzc2FnZXMiLCJyZXF1ZXN0VXJsIiwic3lzdGVtTXNnIiwidXNlck1lc3NhZ2VzIiwiY29udGVudHMiLCJtc2ciLCJiYXNlVXJsIiwibGltaXQiLCJub29wIiwiaXNfcHJvbWlzZSIsInJ1biIsImJsYW5rX29iamVjdCIsInJ1bl9hbGwiLCJmbnMiLCJpc19mdW5jdGlvbiIsInRoaW5nIiwic2FmZV9ub3RfZXF1YWwiLCJpc19lbXB0eSIsImFwcGVuZCIsIm5vZGUiLCJpbnNlcnQiLCJhbmNob3IiLCJkZXRhY2giLCJkZXN0cm95X2VhY2giLCJpdGVyYXRpb25zIiwiZGV0YWNoaW5nIiwiZWxlbWVudCIsInN2Z19lbGVtZW50Iiwic3BhY2UiLCJlbXB0eSIsImxpc3RlbiIsImhhbmRsZXIiLCJzdG9wX3Byb3BhZ2F0aW9uIiwic2VsZiIsImF0dHIiLCJhdHRyaWJ1dGUiLCJpbml0X2JpbmRpbmdfZ3JvdXAiLCJncm91cCIsIl9pbnB1dHMiLCJpbnB1dHMiLCJzZXRfZGF0YSIsInNldF9pbnB1dF92YWx1ZSIsInNldF9zdHlsZSIsImltcG9ydGFudCIsInNlbGVjdF9vcHRpb24iLCJzZWxlY3QiLCJtb3VudGluZyIsIm9wdGlvbiIsInNlbGVjdF92YWx1ZSIsInNlbGVjdGVkX29wdGlvbiIsImN1cnJlbnRfY29tcG9uZW50Iiwic2V0X2N1cnJlbnRfY29tcG9uZW50IiwiY29tcG9uZW50IiwiZ2V0X2N1cnJlbnRfY29tcG9uZW50Iiwib25Nb3VudCIsIm9uRGVzdHJveSIsImRpcnR5X2NvbXBvbmVudHMiLCJiaW5kaW5nX2NhbGxiYWNrcyIsInJlbmRlcl9jYWxsYmFja3MiLCJmbHVzaF9jYWxsYmFja3MiLCJyZXNvbHZlZF9wcm9taXNlIiwidXBkYXRlX3NjaGVkdWxlZCIsInNjaGVkdWxlX3VwZGF0ZSIsImZsdXNoIiwiYWRkX3JlbmRlcl9jYWxsYmFjayIsInNlZW5fY2FsbGJhY2tzIiwiZmx1c2hpZHgiLCJzYXZlZF9jb21wb25lbnQiLCJ1cGRhdGUiLCJjYWxsYmFjayIsIiQkIiwiZGlydHkiLCJmbHVzaF9yZW5kZXJfY2FsbGJhY2tzIiwiZmlsdGVyZWQiLCJ0YXJnZXRzIiwib3V0cm9pbmciLCJvdXRyb3MiLCJncm91cF9vdXRyb3MiLCJjaGVja19vdXRyb3MiLCJ0cmFuc2l0aW9uX2luIiwibG9jYWwiLCJ0cmFuc2l0aW9uX291dCIsImhhbmRsZV9wcm9taXNlIiwicHJvbWlzZSIsImluZm8iLCJjaGlsZF9jdHgiLCJuZWVkc19mbHVzaCIsInVwZGF0ZV9hd2FpdF9ibG9ja19icmFuY2giLCJjdHgiLCJyZXNvbHZlZCIsImVuc3VyZV9hcnJheV9saWtlIiwiYXJyYXlfbGlrZV9vcl9pdGVyYXRvciIsImNyZWF0ZV9jb21wb25lbnQiLCJtb3VudF9jb21wb25lbnQiLCJmcmFnbWVudCIsImFmdGVyX3VwZGF0ZSIsIm5ld19vbl9kZXN0cm95IiwiZGVzdHJveV9jb21wb25lbnQiLCJtYWtlX2RpcnR5IiwiaW5pdCIsImluc3RhbmNlIiwiY3JlYXRlX2ZyYWdtZW50Iiwibm90X2VxdWFsIiwicHJvcHMiLCJhcHBlbmRfc3R5bGVzIiwicGFyZW50X2NvbXBvbmVudCIsInJlYWR5IiwicmV0IiwicmVzdCIsIm5vZGVzIiwiU3ZlbHRlQ29tcG9uZW50IiwiX19wdWJsaWNGaWVsZCIsImNhbGxiYWNrcyIsIlBVQkxJQ19WRVJTSU9OIiwic3BhbiIsImljb24iLCIkJHByb3BzIiwic2l6ZSIsImV4dHJhQ2xhc3NlcyIsImljb25FbCIsIm9ic2VydmVyIiwic2l6ZUNsYXNzZXMiLCJ1cGRhdGVJY29uIiwic2V0SWNvbiIsIiQkaW52YWxpZGF0ZSIsIm11dGF0aW9ucyIsIm11dGF0aW9uIiwiJCR2YWx1ZSIsImNvbnN0YW50c18xIiwiY29uc3RhbnRzXzAiLCJjb25zdGFudHNfMyIsImNvbnN0YW50c180IiwiX2kiLCJfbCIsIl9rIiwiX2oiLCJnZXRDb21wbGlhbmNlU3RhdHMiLCJzdW0iLCJ0MV92YWx1ZSIsInQxIiwiY3JlYXRlX2lmX2Jsb2NrXzY4IiwiY3JlYXRlX2lmX2Jsb2NrXzY3IiwiY3JlYXRlX2lmX2Jsb2NrXzY2IiwiY3JlYXRlX2lmX2Jsb2NrXzY1IiwiY3JlYXRlX2lmX2Jsb2NrXzYzIiwiZ2V0X2lmX2N0eCIsImNyZWF0ZV9pZl9ibG9ja181OSIsImRpdjgiLCJkaXYxIiwiaDMwIiwicDAiLCJkaXYwIiwiYnV0dG9uMCIsImJ1dHRvbjEiLCJidXR0b24yIiwiYnV0dG9uMyIsImRpdjciLCJoMzEiLCJkaXY2IiwiZGl2MyIsImg0IiwiZGl2MiIsImJ1dHRvbjQiLCJzcGFuMCIsImRpdjQiLCJkaXY1IiwidDNfdmFsdWUiLCJ0MyIsImNyZWF0ZV9pZl9ibG9ja182NCIsInNwYW4yIiwic3BhbjQiLCJzcGFuNiIsImgzIiwic3BhbjEiLCJzcGFuMyIsInNwYW41Iiwic3BhbjciLCJpZl9ibG9jayIsImJ1dHRvbiIsImRpdiIsImN1cnJlbnQiLCJlYWNoX2Jsb2NrcyIsInRfdmFsdWUiLCJidXR0b24wX3RpdGxlX3ZhbHVlIiwidGV4dGFyZWEiLCJidXR0b25fdGl0bGVfdmFsdWUiLCJ0MF92YWx1ZSIsInQ4X3ZhbHVlIiwidDEzX3ZhbHVlIiwic2VsZWN0ZWRUeXBlIiwibGFiZWwiLCJ0MCIsInQ4IiwidDExIiwidDExX3ZhbHVlIiwidDEzIiwiY3JlYXRlX2lmX2Jsb2NrXzU3IiwicDEiLCJkaXYxMSIsImRpdjkiLCJpbnB1dDEiLCJpbnB1dDMiLCJpbnB1dDUiLCJkaXYxMCIsInN0cm9uZyIsImJyIiwic3BhbjkiLCJjcmVhdGVfaWZfYmxvY2tfMzMiLCJlYWNoX3ZhbHVlXzE2Iiwic2hvd19pZiIsInQyX3ZhbHVlIiwidDIiLCJ0NiIsInQ2X3ZhbHVlIiwiY3JlYXRlX2lmX2Jsb2NrXzQwIiwiY3JlYXRlX2lmX2Jsb2NrXzM4IiwiY3JlYXRlX2lmX2Jsb2NrXzUyIiwiY3JlYXRlX2lmX2Jsb2NrXzUxIiwiY3JlYXRlX2lmX2Jsb2NrXzQ3IiwiY3JlYXRlX2lmX2Jsb2NrXzQ4IiwiY3JlYXRlX2lmX2Jsb2NrXzQ5IiwiY3JlYXRlX2lmX2Jsb2NrXzUwIiwiY3JlYXRlX2lmX2Jsb2NrXzQ0IiwiY3JlYXRlX2lmX2Jsb2NrXzM3IiwiaW5wdXQwIiwiaW5wdXQwX2NoZWNrZWRfdmFsdWUiLCJpbnB1dDFfdmFsdWVfdmFsdWUiLCJkaXYyX2NsYXNzX3ZhbHVlIiwidDQiLCJ0NF92YWx1ZSIsInQ1IiwidDVfdmFsdWUiLCJzaG93X2lmXzEiLCJzaG93X2lmXzIiLCJkaXYzX2lkX3ZhbHVlIiwidDciLCJ0N192YWx1ZSIsImNyZWF0ZV9pZl9ibG9ja18yOSIsImNyZWF0ZV9pZl9ibG9ja18yNyIsImNyZWF0ZV9pZl9ibG9ja18yOCIsImgzMiIsImg1IiwiYnV0dG9uNSIsImlmX2Jsb2NrMSIsImNyZWF0ZV9pZl9ibG9ja18yMiIsInRleHRhcmVhX3ZhbHVlX3ZhbHVlIiwic3Ryb25nMCIsInN0cm9uZzEiLCJlYWNoX3ZhbHVlXzEzIiwiZ2V0UHJvcGVydHlJbmZvIiwiaW5wdXRfdmFsdWVfdmFsdWUiLCJvcHRpb24wIiwib3B0aW9uMSIsIm9wdGlvbjIiLCJvcHRpb24zIiwib3B0aW9uNCIsIm9wdGlvbjUiLCJjcmVhdGVfaWZfYmxvY2tfMTUiLCJjcmVhdGVfaWZfYmxvY2tfMTYiLCJjcmVhdGVfaWZfYmxvY2tfMTEiLCJlYWNoX3ZhbHVlXzkiLCJjcmVhdGVfaWZfYmxvY2tfMTQiLCJzZWxlY3QwIiwic2VsZWN0MSIsImJ1dHRvbjBfZGlzYWJsZWRfdmFsdWUiLCJsYWJlbDAiLCJsYWJlbDEiLCJ0OV92YWx1ZSIsImVhY2hfdmFsdWVfNCIsInQ5IiwiY3JlYXRlX2lmX2Jsb2NrXzEwIiwiZnVuY18yIiwiY3JlYXRlX2lmX2Jsb2NrXzIiLCJjcmVhdGVfaWZfYmxvY2tfMyIsImNyZWF0ZV9pZl9ibG9ja180IiwiY3JlYXRlX2lmX2Jsb2NrXzUiLCJjcmVhdGVfaWZfYmxvY2tfMSIsImxhYmVsMiIsImlucHV0MiIsInQxNl92YWx1ZSIsInQyM192YWx1ZSIsImNyZWF0ZV9pZl9ibG9ja183MCIsImNyZWF0ZV9pZl9ibG9ja182OSIsImdldF9pZl9jdHhfMSIsImlmX2Jsb2NrMiIsImNyZWF0ZV9pZl9ibG9ja181OCIsImlmX2Jsb2NrMyIsImNyZWF0ZV9pZl9ibG9ja18zMCIsImlmX2Jsb2NrNCIsImNyZWF0ZV9pZl9ibG9ja18xNyIsImlmX2Jsb2NrNSIsImNyZWF0ZV9pZl9ibG9ja184IiwiY3JlYXRlX2lmX2Jsb2NrXzYiLCJjcmVhdGVfaWZfYmxvY2tfNyIsImNyZWF0ZV9pZl9ibG9jayIsImJ1dHRvbjFfY2xhc3NfdmFsdWUiLCJidXR0b24yX2NsYXNzX3ZhbHVlIiwiYnV0dG9uM19jbGFzc192YWx1ZSIsImJ1dHRvbjRfY2xhc3NfdmFsdWUiLCJoMiIsInQxNiIsInQyMyIsInByb3BEZWYiLCJ0b3RhbCIsInZhbGlkIiwicHJvdGVjdGVkQ291bnQiLCJzY2hlbWFTZXJ2aWNlIiwibGxtU2VydmljZSIsInBsdWdpblNldHRpbmdzIiwibG9hZGluZyIsImhhbmRsZVRhYkNoYW5nZSIsIm5ld1RhYiIsImFjdGl2ZVRhYiIsImV4cGFuZGVkQWNjb3JkaW9ucyIsImVkaXRpbmdFbnRpdHlEZXNjcmlwdGlvbiIsInRlbXBFbnRpdHlEZXNjcmlwdGlvbnMiLCJlbnRpdHlEZXNjcmlwdGlvblNvdXJjZSIsInNob3dBZGRFZGdlRm9ybSIsIm5ld0VkZ2VUeXBlTmFtZSIsIm5ld0VkZ2VUeXBlRGVzY3JpcHRpb24iLCJlZGdlVHlwZVN1Z2dlc3Rpb25zIiwic2hvd0VkZ2VTdWdnZXN0aW9ucyIsImlzR2VuZXJhdGluZ09udG9sb2d5Iiwib250b2xvZ3lQcm9ncmVzcyIsImdlbmVyYXRpbmdFbnRpdHlEZXNjIiwiZ2VuZXJhdGluZ1Byb3BlcnR5RGVzYyIsImdlbmVyYXRpbmdFZGdlUHJvcGVydHlEZXNjIiwic2hvd0dlbmVyYXRpb25Nb2RhbCIsIm1vZGFsR2VuZXJhdGlvblR5cGUiLCJzZWxlY3RlZEdlbmVyYXRpb25Nb2RlIiwiZWRnZU1hcHBpbmdTdWdnZXN0aW9ucyIsInNob3dNYXBwaW5nU3VnZ2VzdGlvbnMiLCJhZGRpbmdQcm9wZXJ0eVRvRWRnZSIsIm5ld1Byb3BlcnR5TmFtZSIsIm5ld1Byb3BlcnR5VHlwZSIsIm5ld1Byb3BlcnR5RGVzY3JpcHRpb24iLCJuZXdQcm9wZXJ0eVJlcXVpcmVkIiwic2hvd0FkZE1hcHBpbmdGb3JtIiwibmV3TWFwcGluZ1NvdXJjZUVudGl0eSIsIm5ld01hcHBpbmdUYXJnZXRFbnRpdHkiLCJuZXdNYXBwaW5nQWxsb3dlZEVkZ2VzIiwiZWRpdGluZ01hcHBpbmdJbmRleCIsInRlbXBFZGl0TWFwcGluZ1NvdXJjZUVudGl0eSIsInRlbXBFZGl0TWFwcGluZ1RhcmdldEVudGl0eSIsInRlbXBFZGl0TWFwcGluZ0FsbG93ZWRFZGdlcyIsInRvZ2dsZUFjY29yZGlvbiIsIm5hdmlnYXRlVG9FbnRpdHlQcm9wZXJ0aWVzIiwic3RhcnRFZGl0aW5nRW50aXR5RGVzY3JpcHRpb24iLCJlbnRpdHlEZXNjcmlwdGlvbnMiLCJzYXZlRW50aXR5RGVzY3JpcHRpb24iLCJjYW5jZWxFZGl0aW5nRW50aXR5RGVzY3JpcHRpb24iLCJnZXRFbnRpdHlEZXNjcmlwdGlvbiIsImhhc0RlZmF1bHRFbnRpdHlEZXNjcmlwdGlvbiIsImxvYWREZWZhdWx0RW50aXR5RGVzY3JpcHRpb24iLCJwbHVnaW5SZWYiLCJoYXNEZWZhdWx0UHJvcGVydHlEZXNjcmlwdGlvbiIsImxvYWREZWZhdWx0UHJvcGVydHlEZXNjcmlwdGlvbiIsInByb3BJbmRleCIsInVwZGF0ZVByb3BlcnR5Iiwic2F2ZU5ld0VkZ2VUeXBlIiwiY2FuY2VsQWRkRWRnZVR5cGUiLCJkZWxldGVFZGdlVHlwZSIsImVkZ2VUeXBlTmFtZSIsInVwZGF0ZWRFZGdlVHlwZXMiLCJnZXRFZGdlVHlwZURlc2NyaXB0aW9uIiwicXVpY2tBZGRFZGdlVHlwZSIsImRlZmF1bHRQcm9wZXJ0aWVzIiwiYWRkUHJvcGVydHlUb0VkZ2VUeXBlIiwicmVtb3ZlUHJvcGVydHlGcm9tRWRnZVR5cGUiLCJ1cGRhdGVQcm9wZXJ0eURlc2NyaXB0aW9uIiwiaGFuZGxlRWRnZVByb3BlcnR5RGVzY3JpcHRpb25JbnB1dCIsImhhbmRsZUVkZ2VUeXBlRGVzY3JpcHRpb25JbnB1dCIsIm5ld0Rlc2NyaXB0aW9uIiwic2F2ZU5ld01hcHBpbmciLCJuZXdNYXBwaW5nIiwiY2FuY2VsQWRkTWFwcGluZyIsInJlbW92ZU1hcHBpbmciLCJfIiwidG9nZ2xlRWRnZVR5cGUiLCJxdWlja0FkZE1hcHBpbmciLCJhbGxvd2VkRWRnZXMiLCJhZGRBbGxVbnVzZWRFZGdlVHlwZXMiLCJ1bnVzZWRFZGdlVHlwZXMiLCJhZGRBbGxTdWdnZXN0ZWRNYXBwaW5ncyIsInN1Z2dlc3RlZE1hcHBpbmdzIiwic3VnZ2VzdGlvbiIsInN0YXJ0RWRpdE1hcHBpbmciLCJzYXZlRWRpdE1hcHBpbmciLCJjYW5jZWxFZGl0TWFwcGluZyIsInRvZ2dsZUVkaXRFZGdlVHlwZSIsImdlbmVyYXRlRWRnZVR5cGVTdWdnZXN0aW9ucyIsImFjY2VwdEVkZ2VUeXBlU3VnZ2VzdGlvbiIsImdlbmVyYXRlRWRnZU1hcHBpbmdTdWdnZXN0aW9ucyIsImFjY2VwdEVkZ2VNYXBwaW5nU3VnZ2VzdGlvbiIsInJlZnJlc2hJbnRlcnZhbCIsInJlZnJlc2hTY2hlbWFzIiwicHJldmlvdXNTZXR0aW5nc1N0cmluZyIsImluaXRpYWxpemVQcm9wZXJ0eVNlbGVjdGlvbnMiLCJnZW5lcmF0ZUFsbE1vZGVscyIsImdldE1hcHBlZFByb3BlcnR5TmFtZSIsImVudGl0eU1hcHBpbmdzIiwiZ2V0T3JpZ2luYWxQcm9wZXJ0eU5hbWUiLCJjdXJyZW50TmFtZSIsIm1hcHBlZFZhbHVlIiwiaXNQcm9wZXJ0eU1hcHBlZCIsInNhdmVQcm9wZXJ0eVNlbGVjdGlvblRvUGx1Z2luIiwib3JpZ2luYWxQcm9wZXJ0eSIsIm9yaWciLCJuZWVkc1NhdmUiLCJzY2hlbWFJbmRleCIsImZpZWxkIiwiaGFuZGxlQ2hlY2tib3hDaGFuZ2UiLCJoYW5kbGVEZXNjcmlwdGlvbklucHV0Iiwic2F2ZVByb3BlcnR5RGVzY3JpcHRpb25Ub1BsdWdpbiIsImdldFByb3BlcnR5RGVzY3JpcHRpb24iLCJmYWxsYmFja0Rlc2NyaXB0aW9uIiwic2F2ZWREZXNjcmlwdGlvbiIsImFwcGx5TmFtaW5nU3VnZ2VzdGlvbiIsImdldE92ZXJhbGxDb21wbGlhbmNlU3RhdHMiLCJhbGxQcm9wZXJ0aWVzIiwiYXBwbHlBbGxTdWdnZXN0aW9ucyIsImlzRW50aXR5RW5hYmxlZCIsInRvZ2dsZUVudGl0eURlZmluaXRpb24iLCJ1cGRhdGVkRGVzY3JpcHRpb25zIiwibG9hZEFsbERlZmF1bHRFbnRpdHlEZXNjcmlwdGlvbnMiLCJ1cGRhdGVkIiwibG9hZEFsbERlZmF1bHRQcm9wZXJ0eURlc2NyaXB0aW9ucyIsImdlbmVyYXRlRW50aXR5RGVzYyIsImdlbmVyYXRlUHJvcGVydHlEZXNjIiwiZ2VuZXJhdGVFZGdlUHJvcGVydHlEZXNjIiwiZ2VuZXJhdGVBbGxFZGdlUHJvcGVydHlEZXNjcmlwdGlvbnMiLCJ1cGRhdGVkUHJvcGVydGllcyIsIm9wZW5HZW5lcmF0aW9uTW9kYWwiLCJjbG9zZUdlbmVyYXRpb25Nb2RhbCIsImNvbmZpcm1HZW5lcmF0aW9uIiwiZ2VuZXJhdGVBbGxFbnRpdHlEZXNjcmlwdGlvbnMiLCJnZW5lcmF0ZUFsbFByb3BlcnR5RGVzY3JpcHRpb25zIiwiZ2VuZXJhdGVDb21wbGV0ZU9udG9sb2d5IiwiZW5hYmxlZEVudGl0aWVzIiwidXBkYXRlZEVudGl0eURlc2NyaXB0aW9ucyIsInVwZGF0ZWRQcm9wZXJ0eURlc2NyaXB0aW9ucyIsInVwZGF0ZWRFZGdlVHlwZU1hcCIsImVudGl0eURhdGEiLCJwcm9wRGF0YSIsImVkZ2VUeXBlRGF0YSIsImVuYWJsZURlZmF1bHRQcm9wZXJ0aWVzIiwidXBkYXRlZFNlbGVjdGlvbnMiLCJpc0dsb2JhbGx5SWdub3JlZCIsInRvZ2dsZVByb3BlcnR5RGVmaW5pdGlvbiIsImlzUHJvcGVydHlEZWZpbmVkIiwicHJvcGVydHlEZXNjcmlwdGlvbnMiLCJzZWxlY3RBbGxQcm9wZXJ0aWVzIiwiZGVzZWxlY3RBbGxQcm9wZXJ0aWVzIiwiY2xpY2tfaGFuZGxlciIsImNsaWNrX2hhbmRsZXJfMSIsImNsaWNrX2hhbmRsZXJfMiIsImNsaWNrX2hhbmRsZXJfMyIsImNsaWNrX2hhbmRsZXJfNCIsImNsaWNrX2hhbmRsZXJfNSIsImNsaWNrX2hhbmRsZXJfNiIsImNsaWNrX2hhbmRsZXJfNyIsImNsaWNrX2hhbmRsZXJfOCIsImlucHV0X2hhbmRsZXIiLCJjbGlja19oYW5kbGVyXzE0IiwiY2xpY2tfaGFuZGxlcl8xNSIsImNsaWNrX2hhbmRsZXJfMTYiLCJjaGFuZ2VfaGFuZGxlcl8yIiwiaW5wdXRfaGFuZGxlcl8xIiwiaXNQcm9wZXJ0eUVuYWJsZWQiLCJjbGlja19oYW5kbGVyXzI0IiwiY2xpY2tfaGFuZGxlcl8yNSIsImNsaWNrX2hhbmRsZXJfMjYiLCJpbnB1dF9oYW5kbGVyXzIiLCJjbGlja19oYW5kbGVyXzI3IiwiaW5wdXRfaGFuZGxlcl8zIiwiY2xpY2tfaGFuZGxlcl8zMCIsImNsaWNrX2hhbmRsZXJfMzEiLCJjbGlja19oYW5kbGVyXzMyIiwiY2xpY2tfaGFuZGxlcl8zMyIsImNsaWNrX2hhbmRsZXJfMzQiLCJjbGlja19oYW5kbGVyXzM1IiwiY2xpY2tfaGFuZGxlcl8zNiIsImNsaWNrX2hhbmRsZXJfMzciLCJjbGlja19oYW5kbGVyXzM4IiwiY2xpY2tfaGFuZGxlcl8zOSIsImNsaWNrX2hhbmRsZXJfNDIiLCJjaGFuZ2VfaGFuZGxlcl80IiwiY2xpY2tfaGFuZGxlcl80MyIsImNsaWNrX2hhbmRsZXJfNDQiLCJjbGlja19oYW5kbGVyXzQ1IiwiY2xpY2tfaGFuZGxlcl80NyIsImNoYW5nZV9oYW5kbGVyXzUiLCJjbGlja19oYW5kbGVyXzUwIiwiZWRnZVR5cGVzRGF0YSIsImVkZ2VUeXBlc0xpc3QiLCJlbnRpdHlUeXBlc0xpc3QiLCJhbGxFbnRpdHlUeXBlcyIsIlNDSEVNQV9NQU5BR0VSX1ZJRVdfVFlQRSIsIlNjaGVtYU1hbmFnZXJWaWV3IiwiSXRlbVZpZXciLCJsZWFmIiwiU2NoZW1hTWFuYWdlciIsImNyZWF0ZV9pZl9ibG9ja18xOCIsImNyZWF0ZV9pZl9ibG9ja18xMyIsImNyZWF0ZV9pZl9ibG9ja185IiwiZGl2MTYiLCJkaXYxNSIsInNlbGVjdDIiLCJkaXYxMyIsImRpdjEyIiwic2VsZWN0MyIsImRpdjE0IiwidDEwX3ZhbHVlIiwiYnV0dG9uX2Rpc2FibGVkX3ZhbHVlIiwidGFibGUiLCJ0aGVhZCIsInRyIiwidGgwIiwidGgxIiwidGgyIiwidGgzIiwidGJvZHkiLCJ0MTAiLCJzcGFuX2NsYXNzX3ZhbHVlIiwiaW5wdXRfY2hlY2tlZF92YWx1ZSIsInRkMCIsInRkMSIsInRkMiIsInRkMyIsImJ1dHRvbl9hcmlhX2xhYmVsX3ZhbHVlIiwidGQ0IiwidGQ1Iiwic3ZnIiwiYnV0dG9uMF9jbGFzc192YWx1ZSIsInNob3dTeW5jTm90aWZpY2F0aW9uIiwic3luY1R5cGUiLCJub3RlU2VsZWN0aW9uU2VydmljZSIsInN5bmNJblByb2dyZXNzIiwicXVpY2tTeW5jVGFibGVEYXRhIiwidGFibGVMb2FkaW5nIiwiZmlsdGVyQ3JpdGVyaWEiLCJhdmFpbGFibGVGb2xkZXJzIiwiZmlsdGVyZWROb3RlcyIsInNlbGVjdGVkTm90ZXNQYXRocyIsImFkdmFuY2VkTG9hZGluZyIsInNob3dQcmV2aWV3Iiwic2VsZWN0QWxsQ2hlY2tlZCIsInByb3BlcnR5RmlsdGVycyIsImF2YWlsYWJsZVByb3BlcnRpZXMiLCJzZWxlY3RlZFR5cGVzIiwic2VsZWN0ZWRUYWdzIiwic2VsZWN0ZWRGb2xkZXJzIiwic3luY1Byb2dyZXNzIiwibmV3Tm90ZXNDb3VudCIsImV4aXN0aW5nTm90ZXNDb3VudCIsInNraXBwZWROb3Rlc0NvdW50IiwiZXN0aW1hdGVkVGltZVJlbWFpbmluZyIsImluaXRpYWxpemVNb2RhbCIsImNvbXB1dGVRdWlja1N5bmNTdGF0cyIsImluaXRpYWxpemVBZHZhbmNlZFRhYiIsImRpc2NvdmVyQXZhaWxhYmxlRm9sZGVycyIsImRpc2NvdmVyQXZhaWxhYmxlUHJvcGVydGllcyIsImZvbGRlcnMiLCJjb2xsZWN0Rm9sZGVycyIsImFsbFN5bmNhYmxlTm90ZXNCeVR5cGUiLCJhbGxQcml2YXRlTm90ZXMiLCJuZXdEYXRhIiwidG90YWxTeW5jQ2hlY2tzIiwic3luY2FibGVOb3Rlc0ZvclR5cGUiLCJwcml2YXRlTm90ZXNGb3JUeXBlIiwicHJpdmF0ZUNvdW50Iiwic3luY2VkU3RhdHVzUmVzdWx0cyIsImlzU3luY2VkIiwic3luY2VkQ291bnQiLCJyZWFkeVBhdGhzIiwicmVhZHlDb3VudCIsInVwZGF0ZWRQYXRocyIsInN0YXJ0Q2F0ZWdvcnlTeW5jIiwiYW5hbHl6ZVNlbGVjdGVkTm90ZXMiLCJleGVjdXRlRW5oYW5jZWRTeW5jIiwic3RhcnRBZHZhbmNlZFN5bmMiLCJ1cGRhdGVTeW5jUHJvZ3Jlc3MiLCJhbmFseXplTm90ZXNMaXN0IiwibGF0ZXN0U3luYyIsImxhc3RNb2RpZmllZCIsInN5bmNTdGFydFRpbWUiLCJlbGFwc2VkIiwiZGVsYXlBZGp1c3RtZW50IiwicmVtYWluaW5nIiwiY2FuY2VsU3luYyIsInN5bmNhYmxlTm90ZXMiLCJwcm9wc1NldCIsImFwcGx5QWR2YW5jZWRGaWx0ZXJzIiwidG9nZ2xlTm90ZVNlbGVjdGlvbiIsInRvZ2dsZVNlbGVjdEFsbCIsImdldE5vdGVTdGF0dXMiLCJzZWxlY3ROZXciLCJzZWxlY3RVcGRhdGVkIiwic2VsZWN0TmV3QW5kVXBkYXRlZCIsImFkZFR5cGUiLCJyZW1vdmVUeXBlIiwiYWRkVGFnIiwicmVtb3ZlVGFnIiwiYWRkRm9sZGVyIiwicmVtb3ZlRm9sZGVyIiwicm93IiwiU1lOQ19NQU5BR0VSX1ZJRVdfVFlQRSIsIlN5bmNNYW5hZ2VyVmlldyIsIlN5bmNNb2RhbCIsIkVuaGFuY2VkU3luY1VJIiwiTW9kYWwiLCJjb250ZW50RWwiLCJvcGVuRW5oYW5jZWRTeW5jVUkiLCJnZXREZWZhdWx0TExNQmxvY2tzIiwiZGVmYXVsdHMiLCJwcmVzZXRNb2RlbCIsIlRleHRJbnB1dFN1Z2dlc3QiLCJpbnB1dEVsIiwiaW5wdXRTdHIiLCJrZXlib2FyZEV2ZW50IiwiaW5wdXRSZWN0Iiwic3VnZ2VzdGlvbkVsIiwiaXRlbXMiLCJGb2xkZXJTdWdnZXN0IiwiYWJzdHJhY3RGaWxlcyIsImxvd2VyQ2FzZUlucHV0U3RyIiwiZWwiLCJpbnB1dEV2ZW50IiwiY2hhbmdlRXZlbnQiLCJQcm9jZXNzRGV0ZWN0aW9uIiwicHl0aG9uT3V0cHV0IiwicHJvY2Vzc2VzIiwiYmxvY2tzIiwic3BsaXRJbmRleCIsInBhcmVudE5hbWUiLCJmb3JtYXR0ZWREYXRlIiwicGFyZW50UGlkIiwicGFyZW50Q21kIiwid21pY0RhdGUiLCJwYXJlbnRJbmZvIiwicGFyZW50T3V0cHV0IiwibmFtZU91dHB1dCIsImlzV2luZG93cyIsIk9sbGFtYVNlcnZpY2UiLCJyZXRyeUVycm9yIiwiZm9yY2VSZWZyZXNoIiwiZnVsbE1vZGVsTmFtZXMiLCJyZXRyeVJlc3BvbnNlIiwicmV0cnlGdWxsTmFtZXMiLCJtb2RlbE5hbWVzIiwiYXZhaWxhYmxlTW9kZWxzIiwibW9kZWxzV2l0aFN0YXR1cyIsIm1vZGVsTmFtZSIsImF2YWlsYWJsZSIsIm5vbWljTW9kZWwiLCJwcm9ncmVzc0NhbGxiYWNrIiwicmVhZGVyIiwiZG93bmxvYWRDb21wbGV0ZSIsImhhc0Vycm9yIiwiZG9uZSIsInBhcnNlRXJyb3IiLCJ0aW1lb3V0TXMiLCJpbnRlcnZhbE1zIiwiZXhhY3RNb2RlbE5hbWUiLCJzdWNjZXNzIiwiYWx0RXJyb3IiLCJPbGxhbWFTZXR0aW5ncyIsImxpc3QiLCJtZXRhIiwic3RhdHVzQ29udGFpbmVyIiwib2xsYW1hU2VydmljZSIsInByb2dyZXNzRGl2IiwicHJvZ3Jlc3NCYXIiLCJwcm9ncmVzc0ZpbGwiLCJzdGF0dXNUZXh0IiwicGVyY2VudGFnZSIsImRyb3Bkb3duIiwicmVxdWVzdGVkTmFtZXMiLCJkaXNwbGF5TmFtZSIsIm1vZGVsVHlwZSIsImlzQXZhaWxhYmxlIiwic3RhdHVzRWwiLCJpY29uU3BhbiIsInRleHRTcGFuIiwib25DbGlja0hhbmRsZXIiLCJpbnN0YWxsQnV0dG9uIiwibW9kZWxDb3VudCIsInJlY292ZXJ5Q29udGFpbmVyIiwicmVjb3ZlcnlCdXR0b24iLCJzdGFydGluZ0RpdiIsImVycm9yRGl2Iiwic2hlbGwiLCJtb2RhbEVsIiwiY2xvc2VCdG4iLCJjdXN0b21Nb2RlbFNldHRpbmciLCJTZXR0aW5nIiwibW9kZWxJbnB1dCIsImRvd25sb2FkQnV0dG9uIiwiZG93bmxvYWRCdG5Db21wIiwiaGFzVmFsdWUiLCJwZXJzaXN0RXJyIiwiZHJvcGRvd25zIiwicGFyZW50Q29udGFpbmVyIiwiY3VycmVudFZhbHVlIiwib3B0IiwiTUNQVG9vbFNldHRpbmdzIiwiY2IiLCJzYXZlRXJyb3IiLCJzZXR1cEVycm9yIiwidGVtcGxhdGVyRGV0ZWN0ZWQiLCJ0ZW1wbGF0ZXJFbmFibGVkIiwidGVtcGxhdGVyU2V0dGluZyIsInN0YXR1c0ljb24iLCJ0b2dnbGUiLCJwZXJpb2RpY05vdGVzRGV0ZWN0ZWQiLCJwZXJpb2RpY05vdGVzRW5hYmxlZCIsInBlcmlvZGljTm90ZXNTZXR0aW5nIiwicGVyaW9kaWNFcnJvciIsInRvb2xzQ29udGFpbmVyIiwiZ3JhcGhpdGlIZWFkZXIiLCJ0b29sIiwidG9vbEl0ZW0iLCJ0b29sTmFtZSIsInRvb2xEZXNjIiwib2JzaWRpYW5IZWFkZXIiLCJwbHVnaW5OYW1lIiwiRGVwZW5kZW5jeVN0YXR1c01vZGFsIiwiaW5zdGFsbGVyIiwib25Db21wbGV0ZSIsImxvZ0NvbnRhaW5lciIsImluc3RhbGxPcHRpb25zQ29udGFpbmVyIiwic3lzdGVtT3B0aW9uIiwidXZPcHRpb24iLCJidXR0b25Db250YWluZXIiLCJpdGVtRWwiLCJ3YXJuaW5nRWwiLCJzdGF0dXNNc2ciLCJwZXJjZW50IiwibG9nTWVzc2FnZSIsIkdyYXBoaXRpU2V0dGluZ3NUYWIiLCJQbHVnaW5TZXR0aW5nVGFiIiwiY29udGFpbmVyRWwiLCJ0aXRsZSIsImNvbnRlbnRDYWxsYmFjayIsImRlZmF1bHRPcGVuIiwiYWNjb3JkaW9uQ29udGFpbmVyIiwiaGVhZGVyIiwidGl0bGVTcGFuIiwiY29udHJvbHNXcmFwIiwic2F2ZWQiLCJpc09wZW5Jbml0aWFsIiwiYXJyb3ciLCJldnQiLCJuZXdJc09wZW4iLCJhbGxQcm92aWRlcnMiLCJwcm92aWRlck5hbWUiLCJvbGxhbWFDb250YWluZXIiLCJvbGxhbWFTZXR0aW5nIiwib2xsYW1hU3RhdHVzQ29udGFpbmVyIiwiZGltIiwibWVyZ2VCbG9jayIsInRhcmdldEtleSIsInNyY0Jsb2NrIiwicHJvdmlkZXJUYXJnZXQiLCJwcm92aWRlclNyYyIsImxsbU1vZGVsU2V0dGluZyIsImxsbVN0YXR1c0NvbnRhaW5lciIsImlzSW5zdGFsbGVkIiwidGV4dEVsIiwibGxtU21hbGxTZXR0aW5nIiwibGxtU21hbGxTdGF0dXNDb250YWluZXIiLCJwcmVzZXRTbHVnIiwib3JpZ2luYWxUZXh0IiwicHJlc2V0TWV0YSIsImNyb3NzRW5jb2Rlck1vZGVsQ29udGFpbmVyIiwiY3Jvc3NFbmNvZGVyTW9kZWxTZXR0aW5nIiwiZGJUeXBlIiwicG9ydCIsInVwZGF0ZURlcGVuZGVuY3lTdGF0dXMiLCJzeXN0ZW1QeXRob25MaW5lIiwidXZMaW5lIiwidmVudkxpbmUiLCJncmFwaGl0aUxpbmUiLCJ2ZXJzaW9uVGV4dCIsIm1pc21hdGNoTGluZSIsImVycm9yTGluZSIsInB5dGhvbkluc3RhbGxlciIsInN5bmNPcHRpb25zQ29udGFpbmVyIiwic2xpZGVyIiwibmV3Rm9sZGVyIiwibmV3RmllbGQiLCJzdHJhdGVneSIsImZvbGRlck5hbWVzcGFjZXNTZXR0aW5nIiwibmFtZXNwYWNlc0Rpc3BsYXkiLCJ1cGRhdGVOYW1lc3BhY2VzRGlzcGxheSIsIm5hbWVzcGFjZXMiLCJuZXdGb2xkZXJQYXRoIiwiY3VycmVudEZvbGRlclBhdGgiLCJncm91cElkSW5wdXQiLCJuZXdHcm91cElkIiwiYXV0aFRva2VuU2V0dGluZyIsImNvbm5lY3Rpb25zQ29udGFpbmVyIiwiY29ubmVjdGlvbnNTdGF0dXMiLCJ1cGRhdGVDb25uZWN0aW9uc0Rpc3BsYXkiLCJjb25uZWN0aW9uVXBkYXRlSW50ZXJ2YWwiLCJpbnN0YW5jZXNDb250YWluZXIiLCJpbnN0YW5jZXNTdGF0dXMiLCJ1cGRhdGVJbnN0YW5jZXNEaXNwbGF5IiwibWNwUHJvY2Vzc2VzIiwicHJvY2Vzc0xpbmVzIiwiaW5zdGFuY2VVcGRhdGVJbnRlcnZhbCIsImJ1dHRvbkVsIiwiY29uZmlnSnNvbiIsImhlYWRlckVsIiwiZGVzY0VsIiwidGV4dEFyZWFFbCIsImJ1dHRvbkNvbnRhaW5lckVsIiwiY29weUJ0biIsImluY2x1ZGVFbXB0eSIsIm1vZGVsT3B0aW9ucyIsInNvdXJjZUtleSIsInNyYyIsImVudHJpZXMiLCJyYSIsInNldHRpbmdzTW9kZWxzIiwiZGVzYyIsInNob3J0RGVzYyIsImVTcmMiLCJ3aXRoU3RhdHVzIiwic3RhdHVzTWFwIiwiZGltcyIsInNldHRpbmciLCJkcm9wZG93bkNvbXBvbmVudCIsInByaW1hcnkiLCJzbWFsbCIsImxsbVNyYyIsInJlY29tbWVuZGVkIiwic21hbGxTcmMiLCJyZWNvbW1lbmRlZFMiLCJjaG9zZW4iLCJsYXRlbmN5VGV4dCIsInNldHRpbmdzSnNvbiIsImJsb2IiLCJpbXBvcnRlZFNldHRpbmdzIiwibW9kYWwiLCJjb25maXJtQnRuIiwiY2FuY2VsQnRuIiwiZGlzcGxheU1lc3NhZ2UiLCJtYXJrZG93bkZpbGVzIiwiZnVsbFBhdGgiLCJzZWxlY3RlZEZpbGUiLCJuZXdTdGF0dXMiLCJ2YXVsdENhcmQiLCJERUZBVUxUX1NFVFRJTkdTIiwic2FmZU5vcm1hbGl6ZSIsImNvbGxlY3RBbGxGb2xkZXJzIiwic3RhY2siLCJidWlsZEZvbGRlclRyZWUiLCJkZXB0aCIsImZvbGRlclRvSXRlbSIsImZvbGRlck1hdGNoZXNRdWVyeSIsInN0YXJ0SWR4Iiwic2VsZWN0U21hcnRGb3JtYXQiLCJHcmFwaGl0aVBsdWdpbiIsIlBsdWdpbiIsInJhd1NldHRpbmdzIiwicnMiLCJpc0VtcHR5IiwiZGlkSHlkcmF0ZSIsInRvcCIsIm5lc3RlZCIsIm5lc3RlZEEiLCJuZXN0ZWRCIiwiY291bnRzIiwid29ya3NwYWNlIiwiYWN0aXZlRmlsZSIsInZpZXciLCJleGlzdGluZ0ljb24iLCJhY3Rpb25FbCIsImN1cnJlbnRGaWxlIiwiZXJyb3JTdGF0dXMiLCJub3RlUHJlZml4Iiwic3luY0pzb25QYXRoIiwicGFyYW1zIiwiY2hvc2VuRm9ybWF0IiwiZGVwdGhMaW1pdCIsImFsbCIsInRvcENoaWxkcmVuIl0sIm1hcHBpbmdzIjoiK3FCQU9hQSxHQUFOLE1BQU1BLEVBQWUsQ0FPeEIsWUFBWUMsRUFBZ0JDLEVBQXFCLEdBQU8sQ0FMeEQsS0FBUSxvQkFBOEIsR0FFdEMsS0FBUSxjQUFnQixXQUlwQixLQUFLLE9BQVNELEVBQ2QsS0FBSyxVQUFZQyxDQUNyQixDQUVPLE1BQWEsQ0FDaEIsS0FBSywwQkFBMEIsQ0FDbkMsQ0FHUSwyQkFBa0MsQ0FDbEMsR0FBQSxDQUNJLEdBQUEsQ0FBQyxLQUFLLE9BQU8sS0FBTyxDQUFDLEtBQUssT0FBTyxJQUFJLE1BQ3JDLGNBQVEsTUFBTSxHQUFHLEtBQUssYUFBYSwyRUFBMkUsRUFDeEcsSUFBSSxN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QUFRLE9BQVEsWUFBYU4sRUFBTyxPQUFRdTJELEVBQ2hGLENBQ0osQ0FHQSxHQUFJdjJELEVBQU8sQ0FDUCxNQUFNeTJELEVBQU0vQixHQUFrQixLQUFLLElBQUksTUFBTSxTQUFvQixFQUNqRSxVQUFXaDBELEtBQUsrMUQsRUFBSyxDQUNYLE1BQUFuK0MsRUFBUXk4QyxHQUFtQnIwRCxFQUFHVixDQUFLLEVBQ3pDLEdBQUlzWSxFQUFNLFFBQVMsQ0FDVCxNQUFBN2EsRUFBT3EzRCxHQUFhcDBELENBQUMsRUFDM0JqRCxFQUFLLFlBQWM2YSxFQUFNLE9BQ3pCN2EsRUFBSyxlQUFpQjZhLEVBQU0sVUFDeEJpK0MsSUFBaUIsUUFDVGoyRCxFQUFBLEtBQUssQ0FBRSxLQUFNN0MsRUFBSyxLQUFNLEtBQU1BLEVBQUssS0FBTSxFQUVqRDZDLEVBQVEsS0FBSzdDLENBQUksQ0FFekIsQ0FDSixDQUNPLE1BQUEsQ0FBRSxRQUFBNkMsRUFBUyxhQUFjQSxFQUFRLE9BQVEsWUFBYU4sRUFBTyxPQUFRdTJELEVBQ2hGLENBR0EsTUFBTXZ6RCxFQUFPLEtBQUssSUFBSSxNQUFNLFFBQVEsRUFDOUJ3ekQsRUFBYTNCLEVBQVEsRUFBSSxHQUFLQSxFQUU5QjZCLEVBRE85QixHQUFnQjV4RCxFQUFNd3pELENBQVUsRUFDcEIsVUFBWSxHQUNyQyxNQUFPLENBQUUsUUFBU0UsRUFBYSxhQUFjQSxFQUFZLE9BQVEsT0FBUUgsU0FDcEUzNkQsRUFBSyxDQUNWLE9BQUksS0FBSyxRQUFRLEtBQUssT0FBTyxNQUFNLG9DQUFxQyxDQUFFLE1BQU9BLEVBQUssRUFDL0UsQ0FBRSxRQUFTLENBQUMsRUFBRyxhQUFjLEVBQUcsWUFBYW9FLEVBQU8sT0FBUXUyRCxFQUN2RSxDQUNKLENBRVEsa0JBQW1CLFNBQ25CLEdBQUEsQ0FFSSxLQUFLLFdBQWEsT0FBUSxLQUFLLFVBQWtCLGNBQWlCLFlBQ2pFLEtBQUssVUFBa0IsYUFBYSx3QkFBeUIsTUFBT0QsR0FDMUQsTUFBTSxLQUFLLDJCQUEyQkEsQ0FBTSxDQUN0RCxHQUNJajdELEVBQUEsS0FBQSxTQUFBLE1BQUFBLEVBQVEsS0FBSyxpRUFHakIsS0FBSyxxQkFBNkIsc0JBQXdCLE1BQU9pN0QsR0FDdkQsTUFBTSxLQUFLLDJCQUEyQkEsQ0FBTSxHQUVsRDN6RCxFQUFBLEtBQUEsU0FBQSxNQUFBQSxFQUFRLE1BQU0sb0ZBRWxCdkksRUFBTyxDQUNSLEtBQUssUUFBUSxLQUFLLE9BQU8sTUFBTSxpREFBa0QsQ0FBRSxNQUFBQSxDQUFPLENBQUEsQ0FDbEcsQ0FDSixDQU1KIiwieF9nb29nbGVfaWdub3JlTGlzdCI6WzgsMTcsMTgsMTksMjAsMjEsMjIsMjMsMjQsMjUsMjZdfQ==
