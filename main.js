"use strict";var mo=Object.defineProperty;var yo=(n,e,t)=>e in n?mo(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ln=(n,e,t)=>(yo(n,typeof e!="symbol"?e+"":e,t),t);const C=require("obsidian"),Se=require("path"),Xe=require("fs"),bo=require("events"),ot=require("child_process"),Yt=require("perf_hooks"),vo=require("os"),wo=require("crypto"),So=require("util");function kn(n){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(n){for(const t in n)if(t!=="default"){const i=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,i.get?i:{enumerable:!0,get:()=>n[t]})}}return e.default=n,Object.freeze(e)}const $e=kn(Se),_o=kn(vo),xo=kn(wo);class Nt{constructor(e,t=!1){this.consolidatedLogPath="",this.consolePrefix="MegaMem:",this.plugin=e,this.debugMode=t}init(){this.initializeConsolidatedLog()}initializeConsolidatedLog(){try{if(!this.plugin.app||!this.plugin.app.vault)throw console.error(`${this.consolePrefix} [ERROR] this.plugin.app.vault is undefined during logger initialization.`),new Error("Plugin app.vault not available during logger initialization");const t=this.plugin.app.vault.adapter.basePath,i=Se.join(t,".obsidian","plugins","megamem-mcp"),s=Se.join(i,"logs");Xe.existsSync(s)||Xe.mkdirSync(s,{recursive:!0}),this.consolidatedLogPath=Se.join(s,"consolidated.log"),this.writeToConsolidatedLog(`
`+"=".repeat(80)),this.writeToConsolidatedLog(`NEW SESSION: ${new Date().toISOString()}`),this.writeToConsolidatedLog("=".repeat(80))}catch(e){console.error(`${this.consolePrefix} Failed to initialize consolidated log:`,e)}}writeToFile(e){try{const t=new Date().toISOString();this.writeToConsolidatedLog(`[${t}] ${e}`)}catch(t){console.error(`${this.consolePrefix} Failed to write to log file:`,t)}}writeToConsolidatedLog(e){try{this.consolidatedLogPath&&Xe.appendFileSync(this.consolidatedLogPath,e+`
`)}catch{}}formatMessage(e,t,i){let s=`[${e}] ${t}`;return i!==void 0&&(i instanceof Error?s+=`
  Error: ${i.message}
  Stack: ${i.stack}`:typeof i=="object"?s+=`
  Data: ${JSON.stringify(i,null,2)}`:s+=`
`).filter(s=>s.trim());for(const s of i){if(e==="stderr"&&this.shouldFilterErrorLine(s))continue;const r=s.length>1e3?s.substring(0,1e3)+"[TRUNCATED]":s;this.writeToFile(`[PYTHON-${e.toUpperCase()}] ${r}`)}}shouldFilterErrorLine(e){return e.includes("LLM generation failed parsing as JSON")?(this.writeToFile("[PYTHON-STDERR] [ERROR] LLM JSON parsing failed - object dump filtered for log readability"),!1):!!(e.includes("Input messages:")||e.includes('"parts":')||e.includes('"video_metadata":')||e.includes('"thought":')||e.includes('"inline_data":')||e.includes('"file_data":')||e.includes('"function_call":')||e.includes('"function_response":')||e.trim().startsWith("{")&&e.includes('"')||e.trim().startsWith("[")&&e.includes('"'))}logSystemInfo(){try{this.getGraphitiVersion().then(e=>{var t;this.debug("System Information:",{platform:process.platform,nodeVersion:process.version,obsidianVersion:((t=this.plugin.app.vault.config)==null?void 0:t.version)||"unknown",pluginVersion:this.plugin.manifest.version,pluginId:this.plugin.manifest.id,GraphitiVersion:e})}).catch(e=>{var t;this.debug("System Information:",{platform:process.platform,nodeVersion:process.version,obsidianVersion:((t=this.plugin.app.vault.config)==null?void 0:t.version)||"unknown",pluginVersion:this.plugin.manifest.version,pluginId:this.plugin.manifest.id,GraphitiVersion:"detection failed"}),this.error("Failed to detect graphiti version",e)})}catch(e){this.error("Failed to log system info",e)}}async getGraphitiVersion(){return new Promise((e,t)=>{var i,s;try{const{spawn:r}=require("child_process"),a=r("python",["-c",`
import sys
version = None

try:
    import importlib.metadata
    version = importlib.metadata.version('graphiti-core')
except:
    pass

if not version:
    try:
        import pkg_resources
        version = pkg_resources.get_distribution('graphiti-core').version
    except:
        pass

if not version:
    try:
        import graphiti_core
        version = getattr(graphiti_core, '__version__', None)
        if not version:
            version = '0.18.0'
    except:
        pass

if not version:
    version = 'unknown'

# Print only the final version result
print(version)
`],{stdio:["pipe","pipe","pipe"]});let l="",c="";(i=a.stdout)==null||i.on("data",u=>{l+=u.toString()}),(s=a.stderr)==null||s.on("data",u=>{c+=u.toString()}),a.on("close",u=>{u===0&&l.trim()?e(l.trim()):t(new Error(`Python process failed (code ${u}): ${c||"No output"}`))}),a.on("error",u=>{t(new Error(`Failed to start Python process: ${u.message}`))})}catch(r){t(new Error(`Exception in getGraphitiVersion: ${r instanceof Error?r.message:String(r)}`))}})}}function Eo(n,e){let t;return(...i)=>{t&&clearTimeout(t),t=setTimeout(()=>n(...i),e)}}const vs=n=>{var e;try{if(n&&n.plugins&&n.plugins.plugins){const t=n.plugins.plugins["megamem-mcp"];if(t){const i=((e=t.settings)==null?void 0:e.enableDebugLogging)||!1;return new Nt(t,i)}}}catch(t){console.error("Failed to initialize GraphitiLogger in PluginDetectionHelper:",t)}return{info:()=>{},debug:()=>{},warn:()=>{},error:()=>{}}};function ws(n){return`.obsidian/plugins/${n}/data.json`}async function Ss(n,e,t){try{if(!await n.exists(e))return t.debug(`[PluginDetection] file not found: ${e}`),null;const s=await n.read(e);try{return JSON.parse(s)}catch(r){return t.warn(`[PluginDetection] Failed to parse JSON at ${e}: ${String(r)}`),null}}catch(i){return t.error(`[PluginDetection] Error reading ${e}: ${String(i)}`),null}}async function Co(n){const e=vs(n),t=n.vault&&n.vault.adapter,i="templater-obsidian",s=ws(i),r={detected:!1,enabled:!1,useTemplateFolders:!1,templatesFolder:null,folderTemplates:{},raw:null};if(!t)return e.warn("[PluginDetection] app.vault.adapter not available when reading Templater config"),r;const o=await Ss(t,s,e);if(!o)return r;const a=o,l=a.folder_templates||a.settings&&a.settings.folder_templates||a.folderTemplates||a.folder_templates_array||null,c=f=>f?(f.split("/").pop()||f).replace(/\.md$/i,"").trim().toLowerCase():"",u={};if(l&&typeof l=="object"&&!Array.isArray(l))for(const[f,b]of Object.entries(l)){const w=c(f);w&&(u[w]=typeof b=="string"?b:String(b||""))}if(Array.isArray(l))for(const f of l)try{const b=(f==null?void 0:f.folder)||(f==null?void 0:f.folderPath)||"",w=(f==null?void 0:f.template)||(f==null?void 0:f.templatePath)||"",S=c(w);S&&(u[S]=b)}catch{}const g=a.templates_folder||a.settings&&a.settings.templates_folder||null,m=!!Object.keys(u||{}).length||!!(a.settings&&a.settings.use_templates_folder);let h=!1;try{const f=n.plugins&&n.plugins.plugins;f&&f[i]&&(h=!!f[i].enabled)}catch(f){e.debug(`[PluginDetection] could not determine templater enabled state: ${String(f)}`)}const d={detected:!0,enabled:h,useTemplateFolders:m,templatesFolder:g||null,folderTemplates:u||{},raw:o};return e.debug("[PluginDetection] readTemplaterConfig result",{...d,raw:void 0}),d}async function ko(n){const e=vs(n),t=n.vault&&n.vault.adapter,i="periodic-notes",s=ws(i),r={detected:!1,enabled:!1,raw:null};if(!t)return e.warn("[PluginDetection] app.vault.adapter not available when reading Periodic Notes config"),r;const o=await Ss(t,s,e);if(!o)return r;const a=o;function l(d){return d?{enabled:!!d.enabled,folder:d.folder||null,format:d.format||null}:{enabled:!1,folder:null,format:null}}const c=l(a.daily),u=l(a.weekly),g=l(a.monthly);let m=!!(c.enabled||u.enabled||g.enabled);try{const d=n.plugins&&n.plugins.plugins;d&&d[i]&&(m=m||!!d[i].enabled)}catch(d){e.debug(`[PluginDetection] could not determine periodic-notes enabled state: ${String(d)}`)}const h={detected:!0,enabled:m,daily:c,weekly:u,monthly:g,raw:o};return e.debug("[PluginDetection] readPeriodicNotesConfig result",{detected:!0,enabled:m,daily:c,weekly:u,monthly:g}),h}const Po=Co,Do=ko;class To{constructor(e,t,i,s){this.client=null,this.reconnectAttempts=0,this.baseReconnectDelay=1e3,this.maxReconnectDelay=3e4,this.isRetrying=!1,this.lastConnectionStatus=null,this.plugin=e,this.settings=t,this.syncRegistryService=i,this.vaultRegistryService=s,this.logger=new Nt(e,t.enableDebugLogging)}sleep(e){return new Promise(t=>setTimeout(t,e))}calculateBackoffDelay(e){const t=this.reconnectAttempts;let i=this.baseReconnectDelay;(e==null?void 0:e.code)==="ECONNREFUSED"?i=this.baseReconnectDelay*2:((e==null?void 0:e.code)==="ECONNRESET"||(e==null?void 0:e.code)==="EPIPE")&&(i=this.baseReconnectDelay*.5);const s=i*Math.pow(1.5,Math.min(t,10)),r=Math.random()*.3+.85,o=Math.min(s*r,this.maxReconnectDelay);return Math.floor(o)}async connectWithRetry(){for(this.isRetrying=!0;this.settings.wsEnabled&&!this.client;)try{await this.connectOnce(),this.reconnectAttempts=0,this.isRetrying=!1;return}catch(e){if(this.reconnectAttempts++,(this.reconnectAttempts===1||this.reconnectAttempts%20===0)&&this.logger.error(`[WEBSOCKET] Connection failed (attempt ${this.reconnectAttempts}):`,e),!this.settings.wsEnabled){this.isRetrying=!1;return}const t=this.calculateBackoffDelay(e);await this.sleep(t)}this.isRetrying=!1}async connectOnce(){return new Promise((e,t)=>{try{const i=`ws://localhost:${this.settings.wsPort}?token=${this.settings.wsAuthToken}`;this.client=new WebSocket(i);const s=setTimeout(()=>{this.client&&(this.client.close(),this.client=null),t(new Error("Connection timeout"))},1e4);this.client.onopen=async()=>{if(clearTimeout(s),this.logger.debug("[WEBSOCKET] Connection established successfully"),this.lastConnectionStatus=!0,await new Promise(r=>setTimeout(r,100)),this.vaultRegistryService){this.logger.debug("[WEBSOCKET] Triggering vault auto-registration...");const r=await this.vaultRegistryService.autoRegisterCurrentVault(!1,this);r?this.logger.debug(`[WEBSOCKET] Vault auto-registration successful: ${r.name} (${r.id})`):this.logger.error("[WEBSOCKET] Vault auto-registration failed")}else this.logger.warn("[WEBSOCKET] No vault registry service available");e()},this.client.onmessage=r=>{this.handleMessage(r.data)},this.client.onclose=r=>{if(clearTimeout(s),this.client=null,this.vaultRegistryService&&this.lastConnectionStatus!==!1){const o=this.vaultRegistryService.getActiveVaultId();o&&(this.vaultRegistryService.updateVaultConnection(o,!1),this.lastConnectionStatus=!1)}r.code!==1e3&&this.settings.wsEnabled&&!this.isRetrying&&this.connectWithRetry()},this.client.onerror=r=>{clearTimeout(s),this.client&&(this.client.close(),this.client=null),t(r)}}catch(i){t(i)}})}async start(){if(!this.settings.wsEnabled){this.logger.debug("[WEBSOCKET] Service disabled in settings");return}this.logger.debug("[WEBSOCKET] Service enabled in settings - connecting..."),this.connect()}connect(){this.isRetrying||this.connectWithRetry()}async stop(){this.logger.debug("[WEBSOCKET] Stopping WebSocket service"),this.isRetrying=!1,this.reconnectTimer&&(window.clearTimeout(this.reconnectTimer),this.reconnectTimer=void 0),this.client&&(this.logger.debug("[WEBSOCKET] Closing WebSocket connection"),this.client.close(1e3,"Client shutdown"),this.client=null),this.reconnectAttempts=0}sendMessage(e){if(!this.client){this.logger.error("[WEBSOCKET] ERROR: No WebSocket client instance");return}if(this.client.readyState===WebSocket.OPEN)try{const t=JSON.stringify(e);this.logger.debug(`[WEBSOCKET] Sending message type: ${e.type}`),this.client.send(t)}catch(t){this.logger.error("[WEBSOCKET] ERROR sending message:",t)}else this.logger.warn(`[WEBSOCKET] Cannot send message - WebSocket not connected. ReadyState: ${this.client.readyState}`)}sendVaultRegistration(e){if(!this.client||this.client.readyState!==WebSocket.OPEN)return this.logger.warn("[WEBSOCKET] Cannot send vault registration - WebSocket not connected"),!1;const t={type:"register",payload:{vaultName:e.name,vaultPath:e.path,vaultId:e.id,pluginVersion:this.plugin.manifest.version,authToken:this.settings.wsAuthToken}};return this.logger.debug(`[WEBSOCKET] Sending vault registration to server: ${e.name} (${e.id})`),this.sendMessage(t),!0}isConnected(){return this.client!==null&&this.client.readyState===WebSocket.OPEN}async handleMessage(e){try{const t=JSON.parse(e);switch(this.logger.debug("Received WebSocket message:",t.type),t.type){case"connected":this.handleConnected(t);break;case"registered":this.handleRegistered(t);break;case"file:read":await this.handleFileRead(t);break;case"file:write":await this.handleFileWrite(t);break;case"file:create":await this.handleFileCreate(t);break;case"file:delete":await this.handleFileDelete(t);break;case"file:rename":await this.handleFileRename(t);break;case"file:search":this.handleFileSearch(t);break;case"vault:list":this.handleVaultList(t);break;case"vault:info":this.handleVaultInfo(t);break;case"ping":this.handlePing(t);break;case"folder:explore":await this.handleFolderExplore(t);break;case"folder:create":await this.handleFolderCreate(t);break;case"folder:rename":await this.handleFolderRename(t);break;case"folder:delete":await this.handleFolderDelete(t);break;case"templater:check":await this.handleTemplaterCheck(t);break;case"file:create_with_template":await this.handleCreateWithTemplate(t);break;case"file:frontmatter_edit":await this.handleFrontmatterEdit(t);break;case"file:append":await this.handleAppendEdit(t);break;case"file:range_edit":await this.handleRangeEdit(t);break;case"file:editor_edit":await this.handleEditorEdit(t);break;case"error":this.handleError(t);break;default:this.handleUnknownMessage(t)}}catch(t){this.logger.error("Error handling WebSocket message:",t),this.sendErrorResponse("error","Invalid message format")}}async handleFileRead(e){this.logger.debug("Handling file:read request",{path:e.payload.path});try{const t=e.payload;if(!(t!=null&&t.path)){this.sendErrorResponse("file:read:response","Missing file path parameter",e.id);return}const i=this.plugin.app.vault.getAbstractFileByPath(t.path);if(!i||!(i instanceof C.TFile)){this.sendErrorResponse("file:read:response","File not found",e.id);return}const s=await this.plugin.app.vault.read(i),r={id:e.id,type:"file:read:response",success:!0,timestamp:new Date().toISOString(),payload:{content:s,path:t.path,metadata:{size:s.length,lastModified:new Date().toISOString()}}};this.sendMessage(r)}catch{this.sendErrorResponse("file:read:response","Failed to read file",e.id)}}async handleFileWrite(e){this.logger.debug("Handling file:write request",{path:e.payload.path});try{const t=e.payload;if(!(t!=null&&t.path)||t.content===void 0){this.sendErrorResponse("file:write:response","Missing file path or content parameter",e.id);return}const i=this.plugin.app.vault.getAbstractFileByPath(t.path);if(!i||!(i instanceof C.TFile)){this.sendErrorResponse("file:write:response","File not found",e.id);return}await this.plugin.app.vault.modify(i,t.content);const s={id:e.id,type:"file:write:response",success:!0,timestamp:new Date().toISOString(),payload:{path:t.path,message:"File successfully written"}};this.sendMessage(s)}catch{this.sendErrorResponse("file:write:response","Failed to write file",e.id)}}async handleFileCreate(e){this.logger.debug("Handling file:create request",{path:e.payload.path});try{const t=e.payload;if(!(t!=null&&t.path)||t.content===void 0){this.sendErrorResponse("file:create:response","Missing file path or content parameter",e.id);return}await this.plugin.app.vault.create(t.path,t.content);const i={id:e.id,type:"file:create:response",success:!0,timestamp:new Date().toISOString(),payload:{path:t.path,created:!0,message:"File successfully created"}};this.sendMessage(i)}catch{this.sendErrorResponse("file:create:response","Failed to create file",e.id)}}async handleFileDelete(e){this.logger.debug("Handling file:delete request",{path:e.payload.path});try{const t=e.payload;if(!(t!=null&&t.path)){this.sendErrorResponse("file:delete:response","Missing file path parameter",e.id);return}const i=this.plugin.app.vault.getAbstractFileByPath(t.path);if(!i){this.sendErrorResponse("file:delete:response","File not found",e.id);return}await this.plugin.app.vault.delete(i,!1);const s={id:e.id,type:"file:delete:response",success:!0,timestamp:new Date().toISOString(),payload:{path:t.path,message:"File successfully deleted"}};this.sendMessage(s)}catch{this.sendErrorResponse("file:delete:response","Failed to delete file",e.id)}}async handleFileRename(e){this.logger.debug("Handling file:rename request",{oldPath:e.payload.path,newPath:e.payload.newPath});try{const t=e.payload;if(!(t!=null&&t.path)||!(t!=null&&t.newPath)){this.sendErrorResponse("file:rename:response","Missing file path or newPath parameter",e.id);return}const i=this.plugin.app.vault.getAbstractFileByPath(t.path);if(!i){this.sendErrorResponse("file:rename:response","File not found",e.id);return}await this.plugin.app.fileManager.renameFile(i,t.newPath);const s={id:e.id,type:"file:rename:response",success:!0,timestamp:new Date().toISOString(),payload:{oldPath:t.path,newPath:t.newPath,message:"File successfully renamed"}};this.sendMessage(s)}catch{this.sendErrorResponse("file:rename:response","Failed to rename file",e.id)}}async handleFileSearch(e){var t;this.logger.debug("[WEBSOCKET] Handling file:search request",{query:(t=e.payload)==null?void 0:t.query});try{const i=e.payload||{},s=(i.query||"").toString();if(!s){this.sendErrorResponse("file:search:response","Missing search query parameter",e.id);return}const r=(i.search_mode||i.searchMode||"both").toString().toLowerCase(),o=Number(i.max_results??i.maxResults??100),a=i.include_context!==void 0?!!i.include_context:i.includeContext!==void 0?!!i.includeContext:!0,l=Number(i.contextRadius??50),u=new Set(["filename","content","both"]).has(r)?r:"both";this.logger.debug("[WEBSOCKET] Search parameters",{query:s,mode:u,maxResults:o,includeContext:a});const g=[],m=this.plugin.app.vault.getMarkdownFiles();if(u==="filename"||u==="both"){const d=s.toLowerCase(),f=m.filter(b=>b.path.toLowerCase().includes(d)||b.basename.toLowerCase().includes(d));for(const b of f)if(g.push({path:b.path,name:b.name,basename:b.basename,extension:b.extension,matchType:"filename",score:100}),g.length>=o&&u==="filename")break}if((u==="content"||u==="both")&&Math.max(0,o-g.length)>0){let f=null;try{f=window.prepareSimpleSearch?window.prepareSimpleSearch(s):null}catch{f=null}const b=new Set(g.map(w=>w.path));for(const w of m)if(!b.has(w.path))try{const S=typeof this.plugin.app.vault.cachedRead=="function"?await this.plugin.app.vault.cachedRead(w):await this.plugin.app.vault.read(w);let x=!1,E=0,D;if(f)try{const P=f(S);P&&P.score>0&&(x=!0,E=Number(P.score)||1,P.matches&&(D=Array.isArray(P.matches)?P.matches:void 0))}catch(P){this.logger.warn("[WEBSOCKET] prepareSimpleSearch failed, falling back",{file:w.path,error:P})}if(x||S&&S.toLowerCase().includes(s.toLowerCase())&&(x=!0,E=10),x){const P={path:w.path,name:w.name,basename:w.basename,extension:w.extension,matchType:"content",score:E};if(a)try{const I=this.extractContextFromMatches(S,D||this._findAllMatches(S,s),s,l);I&&I.length&&(P.matches=I)}catch(I){this.logger.warn("[WEBSOCKET] Context extraction failed",{file:w.path,error:I})}if(g.push(P),b.add(w.path),g.length>=o)break}}catch(S){this.logger.warn("[WEBSOCKET] Failed to search content of file",{path:w.path,error:S})}}g.sort((d,f)=>{const b=Number(d.score||0),w=Number(f.score||0);return w!==b?w-b:d.matchType==="filename"&&f.matchType!=="filename"?-1:f.matchType==="filename"&&d.matchType!=="filename"?1:d.path.localeCompare(f.path)});const h={id:e.id,type:"file:search:response",success:!0,timestamp:new Date().toISOString(),payload:{results:g.slice(0,o),totalResults:g.length,query:s,searchMode:u}};this.sendMessage(h)}catch(i){this.logger.error("[WEBSOCKET] file:search handler error",{error:i}),this.sendErrorResponse("file:search:response","Failed to search files",e.id)}}_findAllMatches(e,t){const i=[];if(!e||!t)return i;const s=e.toLowerCase(),r=t.toLowerCase();let o=0;for(;;){const a=s.indexOf(r,o);if(a===-1)break;i.push([a,a+r.length]),o=a+r.length}return i}extractContextFromMatches(e,t,i,s=50){const r=(e||"").split(`
`),o=[],a=new Set;for(const[l,c]of t){let u=0,g=0;for(let x=0;x<r.length;x++){const E=r[x].length+1;if(u+E>l){g=x;break}u+=E}if(a.has(g))continue;a.add(g);const m=r[g]||"",h=u,d=Math.max(0,l-h),f=Math.min(m.length,c-h),b=Math.max(0,d-s),w=Math.min(m.length,f+s);let S=m.substring(b,w);if(b>0&&(S="..."+S),w<m.length&&(S=S+"..."),o.push({line:g+1,text:S.trim(),highlight:m.substring(d,f)}),o.length>=5)break}return o}handleVaultList(e){var t;this.logger.debug("Handling vault:list request");try{const i=((t=this.vaultRegistryService)==null?void 0:t.getAllVaults())||[],s={id:e.id,type:"vault:list:response",success:!0,timestamp:new Date().toISOString(),payload:{vaults:i,totalVaults:i.length}};this.sendMessage(s)}catch{this.sendErrorResponse("vault:list:response","Failed to list vaults",e.id)}}handleVaultInfo(e){var t,i;this.logger.debug("Handling vault:info request",{vaultId:e.payload.vaultId});try{const r={id:((t=e.payload)==null?void 0:t.vaultId)||((i=this.vaultRegistryService)==null?void 0:i.getActiveVaultId())||this.plugin.app.vault.getName(),name:this.plugin.app.vault.getName(),path:this.plugin.app.vault.adapter.basePath||"",files:this.plugin.app.vault.getMarkdownFiles().length},o={id:e.id,type:"vault:info:response",success:!0,timestamp:new Date().toISOString(),payload:r};this.sendMessage(o)}catch{this.sendErrorResponse("vault:info:response","Failed to get vault info",e.id)}}handlePing(e){this.logger.debug("Handling ping request");const t={id:e.id,type:"pong",success:!0,timestamp:new Date().toISOString(),payload:{vaultName:this.plugin.app.vault.getName(),version:this.plugin.manifest.version,timestamp:new Date().toISOString()}};this.sendMessage(t)}handleError(e){var r,o;if(!e||!e.payload){this.logger.error("Received malformed error message from server",e);return}this.logger.error("Received error message from server",{error:e.payload.error});const t=e.error||((r=e.payload)==null?void 0:r.error)||"Unknown error from server",i=e.errorCode||((o=e.payload)==null?void 0:o.errorCode)||"UNKNOWN_ERROR",s=e.id||"no-id";this.logger.error(`WebSocket server error (ID: ${s}, Code: ${i}): ${t}`,e)}handleUnknownMessage(e){this.logger.warn("Received unknown message type:",e.type)}async handleFolderExplore(e){try{this.logger.debug("Handling folder:explore request",{payload:e.payload});const t=e.payload||{},i=this.plugin;if(i&&typeof i.exploreVaultFoldersHandler=="function"){const a=await i.exploreVaultFoldersHandler({query:t.query,path:t.path,depth:typeof t.depth=="number"?t.depth:-1,format:t.format||"smart"}),l={id:e.id,type:"folder:explore:response",success:!0,timestamp:new Date().toISOString(),payload:a};this.sendMessage(l);return}const s=this.plugin.app.vault.getRoot();if(!s){this.sendErrorResponse("folder:explore:response","Vault root not available",e.id);return}const r=(s.children||[]).filter(a=>a&&a.constructor&&a.constructor.name==="TFolder").map(a=>({path:a.path,name:a.name})),o={id:e.id,type:"folder:explore:response",success:!0,timestamp:new Date().toISOString(),payload:{results:r,totalFolders:r.length,searchQuery:t.query||null,format:t.format||"flat"}};this.sendMessage(o)}catch(t){this.logger.error("[WEBSOCKET] folder:explore handler error",{error:t}),this.sendErrorResponse("folder:explore:response","Failed to explore folders",e.id)}}async handleFolderCreate(e){this.logger.debug("[WEBSOCKET] Handling folder:create request",{payload:e.payload});try{const t=e.payload||{},i=t.folderPath||t.path;if(!i||typeof i!="string"){this.sendErrorResponse("folder:create:response","Missing or invalid folder path parameter",e.id);return}const s=C.normalizePath(i.trim());if(this.plugin.app.vault.getAbstractFileByPath(s)){this.sendErrorResponse("folder:create:response","Folder already exists",e.id);return}await this.plugin.app.vault.createFolder(s);const o={id:e.id,type:"folder:create:response",success:!0,timestamp:new Date().toISOString(),payload:{path:s,created:!0,message:"Folder successfully created"}};this.sendMessage(o)}catch(t){this.logger.error("[WEBSOCKET] folder:create handler error",{error:t}),this.sendErrorResponse("folder:create:response","Failed to create folder",e.id)}}async handleFolderRename(e){this.logger.debug("[WEBSOCKET] Handling folder:rename request",{payload:e.payload});try{const t=e.payload||{},i=t.oldPath||t.sourcePath,s=t.newPath||t.targetPath;if(!i||typeof i!="string"){this.sendErrorResponse("folder:rename:response","Missing or invalid oldPath parameter",e.id);return}if(!s||typeof s!="string"){this.sendErrorResponse("folder:rename:response","Missing or invalid newPath parameter",e.id);return}const r=C.normalizePath(i.trim()),o=C.normalizePath(s.trim()),a=this.plugin.app.vault.getAbstractFileByPath(r);if(!a||!(a instanceof C.TFolder)){this.sendErrorResponse("folder:rename:response","Source folder not found",e.id);return}if(this.plugin.app.vault.getAbstractFileByPath(o)){this.sendErrorResponse("folder:rename:response","Target path already exists",e.id);return}await this.plugin.app.fileManager.renameFile(a,o);const c={id:e.id,type:"folder:rename:response",success:!0,timestamp:new Date().toISOString(),payload:{oldPath:r,newPath:o,renamed:!0,message:"Folder successfully renamed/moved"}};this.sendMessage(c)}catch(t){this.logger.error("[WEBSOCKET] folder:rename handler error",{error:t}),this.sendErrorResponse("folder:rename:response","Failed to rename folder",e.id)}}async handleFolderDelete(e){this.logger.debug("[WEBSOCKET] Handling folder:delete request",{payload:e.payload});try{const t=e.payload||{},i=t.folderPath||t.path,s=t.force||!1;if(!i||typeof i!="string"){this.sendErrorResponse("folder:delete:response","Missing or invalid folder path parameter",e.id);return}const r=C.normalizePath(i.trim()),o=this.plugin.app.vault.getAbstractFileByPath(r);if(!o||!(o instanceof C.TFolder)){this.sendErrorResponse("folder:delete:response","Folder not found",e.id);return}if(!s&&o.children&&o.children.length>0){this.sendErrorResponse("folder:delete:response","Folder is not empty. Use force=true to delete non-empty folders",e.id);return}await this.plugin.app.vault.delete(o,s);const a={id:e.id,type:"folder:delete:response",success:!0,timestamp:new Date().toISOString(),payload:{path:r,deleted:!0,message:"Folder successfully deleted"}};this.sendMessage(a)}catch(t){this.logger.error("[WEBSOCKET] folder:delete handler error",{error:t}),this.sendErrorResponse("folder:delete:response","Failed to delete folder",e.id)}}async handleTemplaterCheck(e){var t,i,s,r,o,a,l,c;try{const u=(i=(t=this.plugin.app.plugins)==null?void 0:t.plugins)==null?void 0:i["templater-obsidian"];if(!u)return this.sendMessage({id:e.id,type:"templater:check:response",success:!0,payload:{isInstalled:!1,templates:[],templateMappings:{}}});const g=((s=u.settings)==null?void 0:s.templates_folder)||"";if(!g)return this.sendMessage({id:e.id,type:"templater:check:response",success:!0,payload:{isInstalled:!0,templateFolder:"",templates:[],templateMappings:{}}});const m=C.normalizePath(g),d=this.plugin.app.vault.getMarkdownFiles().filter(T=>T.path.startsWith(m)).map(T=>({path:T.path,name:T.name,basename:T.basename})),f={},b=await Po(this.plugin.app),w=await Do(this.plugin.app),S=window.moment,x=S?S():new Date,E=(T,L,A)=>{if(!T)return"";if(!L)return T;const j=A||(S?S():null);try{const U=T.replace(/\/+$/g,""),B=(L||"").split("/").map(X=>X.trim()).filter(Boolean),W=[];if(B.length>1){const X=B.slice(0,B.length-1);for(const K of X){let $=D(K,j);$&&W.push($)}}else{const X=B[0]||L;if(/YYYY/.test(X)){const K=D("YYYY",j);if(K&&W.push(K),/MM/.test(X)){const $=D("MM",j);$&&W.push($)}}}return W.length>0?`${U}/${W.join("/")}`:U}catch(U){return this.logger.warn("Error calculating periodic path",{error:U,baseFolder:T,format:L}),T}},D=(T,L)=>{if(!T)return"";let A=T;if(L&&typeof L.format=="function")try{A=L.format(T)}catch{A=P(T)}else A=P(T);return A=A.replace(/\[.*?\]/g,"").trim(),A=A.replace(/[<>:"|?*]/g,"").trim(),A},P=T=>{const L=new Date,A=L.getFullYear().toString(),j=String(L.getMonth()+1).padStart(2,"0");return T.replace(/YYYY/g,A).replace(/yyyy/g,A).replace(/MM/g,j).replace(/gggg/g,A)},I=((o=(r=this.settings.mcpTools)==null?void 0:r.defaults)==null?void 0:o.inboxFolder)||g||"",M=T=>T?((T||"").toString().split("/").pop()||T).replace(/\.md$/i,"").trim().toLowerCase():"";for(const T of d){const L=T.basename,A=M(L);b.detected&&b.folderTemplates&&b.folderTemplates[A]?f[L]=b.folderTemplates[A]:f[L]=I}if(w.detected&&w.enabled){if((a=w.daily)!=null&&a.enabled&&w.daily.folder){const T=E(w.daily.folder,w.daily.format||"YYYY-MM-DD");f["TPL Daily Note"]=T}if((l=w.weekly)!=null&&l.enabled&&w.weekly.folder){const T=E(w.weekly.folder,w.weekly.format||"YYYY-[W]ww");f["TPL Weekly Note"]=T}if((c=w.monthly)!=null&&c.enabled&&w.monthly.folder){const T=E(w.monthly.folder,w.monthly.format||"YYYY-MM");f["TPL Monthly Note"]=T}}const N={id:e.id,type:"templater:check:response",success:!0,timestamp:new Date().toISOString(),payload:{isInstalled:!0,templateFolder:m,templates:d,templateMappings:f}};this.sendMessage(N)}catch(u){this.logger.error("[WEBSOCKET] templater:check handler error",{error:u}),this.sendErrorResponse("templater:check:response","Failed to check templater",e.id)}}async handleCreateWithTemplate(e){var t,i,s;try{const r=e.payload||{},o=(r.searchTerm||"").toString().trim(),a=(r.fileName||"").toString().trim(),l=(r.targetFolder||"").toString(),c=(r.userContent||"").toString();if(!a){this.sendErrorResponse("file:create_with_template:response","Missing fileName",e.id);return}const u=(i=(t=this.plugin.app.plugins)==null?void 0:t.plugins)==null?void 0:i["templater-obsidian"];if(!u||!((s=u.settings)!=null&&s.templates_folder)){this.sendErrorResponse("file:create_with_template:response","Templater not configured",e.id);return}const g=this.plugin.app.vault.getMarkdownFiles().filter(d=>d.path.startsWith(u.settings.templates_folder));if(g.length===0){this.sendErrorResponse("file:create_with_template:response","No templates found",e.id);return}const m=o.toLowerCase();let h=g.find(d=>d.basename.toLowerCase()===m);if(!h){const d=g.map(f=>f.basename).sort();this.sendMessage({id:e.id,type:"file:create_with_template:response",success:!1,timestamp:new Date().toISOString(),requiresSelection:!0,availableTemplates:d,error:`No exact match for '${o}'. Please specify exact template name from availableTemplates.`,payload:{availableTemplates:d,searchTerm:o}});return}try{const d=u.templater;if(d&&d.create_new_note_from_template){const f=l||"",b=a.replace(/\.md$/,""),w=await d.create_new_note_from_template(h,f,b);if(w){const S=await this.plugin.app.vault.read(w);if(S.trim()===h.path)throw await this.plugin.app.vault.delete(w),new Error("Templater API returned path instead of content");c&&await this.plugin.app.vault.modify(w,S+`

`+c),this.sendMessage({id:e.id,type:"file:create_with_template:response",success:!0,timestamp:new Date().toISOString(),payload:{path:w.path,templateUsed:h.basename,message:"Created file using Templater API"}});return}}throw new Error("Templater API not available")}catch(d){this.logger.warn("[WEBSOCKET] Templater API failed, using fallback",{error:d});const f=await this.plugin.app.vault.read(h),b=a.endsWith(".md")?a:`${a}.md`,w=l?`${l.replace(/\/$/,"")}/${b}`:b;let S=f;c&&(S=S+`

`+c);const x=await this.plugin.app.vault.create(w,S);this.sendMessage({id:e.id,type:"file:create_with_template:response",success:!0,timestamp:new Date().toISOString(),payload:{path:x.path,templateUsed:h.basename,message:"Created file by copying template (Templater syntax not processed)",warning:"Templater commands were not processed"}})}}catch(r){this.logger.error("[WEBSOCKET] file:create_with_template handler error",{error:r}),this.sendErrorResponse("file:create_with_template:response","Failed to create file with template",e.id)}}async handleFrontmatterEdit(e){var t;this.logger.debug("Handling file:frontmatter_edit request",{path:(t=e.payload)==null?void 0:t.path});try{const i=e.payload;if(!(i!=null&&i.path)){this.sendErrorResponse("file:frontmatter_edit:response","Missing file path parameter",e.id);return}const s=this.plugin.app.vault.getAbstractFileByPath(i.path);if(!s||!(s instanceof C.TFile)){this.sendErrorResponse("file:frontmatter_edit:response","File not found",e.id);return}const r=await this.plugin.app.vault.read(s),o=i.frontmatterChanges||{};if(this.logger.debug("[FRONTMATTER] Processing updates:",o),!o||Object.keys(o).length===0){this.sendErrorResponse("file:frontmatter_edit:response","No frontmatter changes provided",e.id);return}let a=r;const l=r.split(`
`);let c=-1,u=-1;for(let f=0;f<l.length;f++)if(l[f].trim()==="---")if(c===-1)c=f;else{u=f;break}let g=[],m=[];c===0&&u>0?(g=l.slice(c+1,u),m=l.slice(u+1)):(g=[],m=l);for(const[f,b]of Object.entries(o)){const w=g.findIndex(E=>{const D=E.indexOf(":");return D>0&&E.substring(0,D).trim()===f});let S;Array.isArray(b)?S=JSON.stringify(b):typeof b=="string"?S=`"${b}"`:S=String(b);const x=`${f}: ${S}`;w>=0?g[w]=x:g.push(x)}a=["---",...g,"---",...m].join(`
`),this.logger.debug(`[FRONTMATTER] Updated content length: ${a.length} (was ${r.length})`),await this.plugin.app.vault.modify(s,a);const d={id:e.id,type:"file:frontmatter_edit:response",success:!0,timestamp:new Date().toISOString(),payload:{path:i.path,message:"Frontmatter updated successfully"}};this.sendMessage(d)}catch{this.sendErrorResponse("file:frontmatter_edit:response","Failed to edit frontmatter",e.id)}}async handleAppendEdit(e){var t;this.logger.debug("Handling file:append request",{path:(t=e.payload)==null?void 0:t.path});try{const i=e.payload;if(!(i!=null&&i.path)||i.appendContent===void 0){this.sendErrorResponse("file:append:response","Missing file path or content parameter",e.id);return}const s=this.plugin.app.vault.getAbstractFileByPath(i.path);if(!s||!(s instanceof C.TFile)){this.sendErrorResponse("file:append:response","File not found",e.id);return}const o=await this.plugin.app.vault.read(s)+`
`+i.appendContent;await this.plugin.app.vault.modify(s,o);const a={id:e.id,type:"file:append:response",success:!0,timestamp:new Date().toISOString(),payload:{path:i.path,message:"Content appended successfully"}};this.sendMessage(a)}catch{this.sendErrorResponse("file:append:response","Failed to append content",e.id)}}async handleRangeEdit(e){var t;this.logger.debug("Handling file:range_edit request",{path:(t=e.payload)==null?void 0:t.path});try{const i=e.payload;if(!(i!=null&&i.path)||i.replacementContent===void 0){this.sendErrorResponse("file:range_edit:response","Missing file path or content parameter",e.id);return}const s=this.plugin.app.vault.getAbstractFileByPath(i.path);if(!s||!(s instanceof C.TFile)){this.sendErrorResponse("file:range_edit:response","File not found",e.id);return}const o=(await this.plugin.app.vault.read(s)).split(`
`),a=Math.max(0,(i.rangeStartLine||1)-1),l=Math.min(o.length,i.rangeEndLine||a+1),c=i.replacementContent.split(`
`);o.splice(a,l-a,...c);const u=o.join(`
`);await this.plugin.app.vault.modify(s,u);const g={id:e.id,type:"file:range_edit:response",success:!0,timestamp:new Date().toISOString(),payload:{path:i.path,message:"Range edited successfully"}};this.sendMessage(g)}catch{this.sendErrorResponse("file:range_edit:response","Failed to edit range",e.id)}}async handleEditorEdit(e){var t,i;this.logger.debug("Handling file:editor_edit request",{path:(t=e.payload)==null?void 0:t.path});try{const s=e.payload;if(!(s!=null&&s.path)){this.sendErrorResponse("file:editor_edit:response","Missing file path parameter",e.id);return}const r=this.plugin.app.vault.getAbstractFileByPath(s.path);if(!r||!(r instanceof C.TFile)){this.sendErrorResponse("file:editor_edit:response","File not found",e.id);return}const o=this.plugin.app.workspace.getActiveViewOfType(C.MarkdownView);let a=!1;if(o&&((i=o.file)==null?void 0:i.path)===s.path){const c=o.editor,u=s.editorMethod||"replace";switch(this.logger.debug(`[EDITOR] Processing editor operation: ${u} with payload:`,s),u){case"replace":s.content!==void 0&&(c.setValue(s.content),a=!0);break;case"append":if(s.content!==void 0){const g=c.lastLine();c.replaceRange(`
`+s.content,{line:g,ch:c.getLine(g).length}),a=!0}break;case"prepend":s.content!==void 0&&(c.replaceRange(s.content+`
`,{line:0,ch:0}),a=!0);break;case"insert":if(s.content!==void 0&&s.line!==void 0){const g=Math.max(0,s.line-1);c.replaceRange(s.content+`
`,{line:g,ch:0}),a=!0}break;case"replace_line":if(s.content!==void 0&&s.line!==void 0){const g=Math.max(0,s.line-1);g<c.lineCount()?(c.setLine(g,s.content),a=!0,this.logger.debug(`[EDITOR] Replaced line ${s.line} with new content`)):this.logger.warn(`[EDITOR] Line ${s.line} does not exist (file has ${c.lineCount()} lines)`)}break;case"replace_selection":s.content!==void 0&&(c.getSelection()?(c.replaceSelection(s.content),a=!0,this.logger.debug("[EDITOR] Replaced selected text with new content")):this.logger.warn("[EDITOR] No text currently selected for replacement"));break;case"insert_at":if(s.content!==void 0&&s.line!==void 0&&s.char!==void 0){const g={line:s.line-1,ch:s.char};c.replaceRange(s.content,g),a=!0,this.logger.debug(`[EDITOR] Inserted content at position ${s.line}:${s.char}`)}break;case"replace_range":if(s.content!==void 0&&s.fromLine!==void 0&&s.fromChar!==void 0&&s.toLine!==void 0&&s.toChar!==void 0){const g={line:s.fromLine-1,ch:s.fromChar},m={line:s.toLine-1,ch:s.toChar};c.replaceRange(s.content,g,m),a=!0,this.logger.debug(`[EDITOR] Replaced range from ${s.fromLine}:${s.fromChar} to ${s.toLine}:${s.toChar}`)}break;case"insert_after_heading":if(s.content!==void 0&&s.heading!==void 0){const g=s.heading,m=c.lineCount();let h=-1;for(let d=0;d<m;d++){const f=c.getLine(d);if(f.startsWith("#")&&f.includes(g)){h=d+1;break}if(f.toLowerCase().includes(g.toLowerCase())){h=d+1;break}}if(h>=0&&h<=m)c.replaceRange(`
`+s.content+`
`,{line:h,ch:0}),a=!0,this.logger.debug(`[EDITOR] Inserted content after heading "${g}" at line ${h}`);else{this.logger.warn(`[EDITOR] Heading "${g}" not found in document`);const d=c.lastLine();c.replaceRange(`

`+s.content,{line:d,ch:c.getLine(d).length}),a=!0,this.logger.debug("[EDITOR] Heading not found, appended content to end instead")}}break}}if(!a){const c=await this.plugin.app.vault.read(r);let u=c;const g=s.editorMethod||"replace";switch(this.logger.debug(`[EDITOR] Fallback to vault API for operation: ${g} with payload:`,s),g){case"replace":s.content!==void 0&&(u=s.content);break;case"append":s.content!==void 0&&(u=c+`
`+s.content);break;case"prepend":s.content!==void 0&&(u=s.content+`
`+c);break;case"insert":if(s.content!==void 0&&s.line!==void 0){const m=c.split(`
`),h=Math.max(0,s.line-1);m.splice(h,0,s.content),u=m.join(`
`)}break;case"insert_after_heading":if(s.content!==void 0&&s.heading!==void 0){const m=c.split(`
`),h=s.heading;let d=-1;for(let f=0;f<m.length;f++){const b=m[f];if(b.startsWith("#")&&b.includes(h)){d=f+1;break}if(b.toLowerCase().includes(h.toLowerCase())){d=f+1;break}}d>=0?(m.splice(d,0,"",s.content),u=m.join(`
`),this.logger.debug(`[EDITOR] Inserted content after heading "${h}" at line ${d}`)):(u=c+`

`+s.content,this.logger.debug(`[EDITOR] Heading "${h}" not found, appended to end instead`))}case"insert_at":if(s.content!==void 0&&s.line!==void 0&&s.char!==void 0){const m=c.split(`
`),h=Math.max(0,s.line-1);if(h<m.length){const d=m[h],f=d.substring(0,s.char),b=d.substring(s.char);m[h]=f+s.content+b,u=m.join(`
`),this.logger.debug(`[EDITOR] Vault API: Inserted content at position ${s.line}:${s.char}`)}else this.logger.warn(`[EDITOR] Line ${s.line} does not exist (file has ${m.length} lines)`)}break;case"replace_range":if(s.content!==void 0&&s.fromLine!==void 0&&s.fromChar!==void 0&&s.toLine!==void 0&&s.toChar!==void 0){const m=c.split(`
`),h=Math.max(0,s.fromLine-1),d=Math.max(0,s.toLine-1);if(h===d){const f=m[h]||"",b=f.substring(0,s.fromChar),w=f.substring(s.toChar);m[h]=b+s.content+w}else{const f=m[h]||"",b=m[d]||"",w=f.substring(0,s.fromChar),S=b.substring(s.toChar),x=s.content.split(`
`);x[0]=w+x[0],x[x.length-1]=x[x.length-1]+S,m.splice(h,d-h+1,...x)}u=m.join(`
`),this.logger.debug(`[EDITOR] Vault API: Replaced range from ${s.fromLine}:${s.fromChar} to ${s.toLine}:${s.toChar}`)}break;case"replace_line":if(s.content!==void 0&&s.line!==void 0){const m=c.split(`
`),h=Math.max(0,s.line-1);h<m.length?(m[h]=s.content,u=m.join(`
`),this.logger.debug(`[EDITOR] Vault API: Replaced line ${s.line} with new content`)):this.logger.warn(`[EDITOR] Line ${s.line} does not exist (file has ${m.length} lines)`)}break;case"replace_selection":s.content!==void 0&&(u=s.content,this.logger.debug("[EDITOR] Vault API: Replace selection fallback - replaced entire content (no active editor)"));break}await this.plugin.app.vault.modify(r,u)}const l={id:e.id,type:"file:editor_edit:response",success:!0,timestamp:new Date().toISOString(),payload:{path:s.path,operation:s.editorMethod||"replace",message:"Editor edit completed successfully"}};this.sendMessage(l)}catch{this.sendErrorResponse("file:editor_edit:response","Failed to perform editor edit",e.id)}}handleConnected(e){}handleRegistered(e){if(this.logger.info("[WEBSOCKET] Successfully registered with server"),this.vaultRegistryService){const t=this.vaultRegistryService.getActiveVaultId();t&&this.vaultRegistryService.updateVaultConnection(t,!0)}}sendErrorResponse(e,t,i){const s={id:i,type:e,success:!1,timestamp:new Date().toISOString(),error:t,errorCode:"OPERATION_FAILED"};this.sendMessage(s)}getStatus(){return this.settings.wsEnabled?this.client&&this.client.readyState===WebSocket.OPEN?`Connected to port ${this.settings.wsPort}`:this.reconnectTimer?`Reconnecting... (attempt ${this.reconnectAttempts})`:"Disconnected":"Disabled"}async restart(){this.logger.debug("[WEBSOCKET] Restarting WebSocket service..."),await this.stop(),this.settings.wsEnabled?(this.logger.debug("[WEBSOCKET] Settings enabled - starting WebSocket service"),await this.start()):this.logger.debug("[WEBSOCKET] Settings disabled - WebSocket service will remain stopped")}updateSettings(e){this.settings=e,this.logger.setDebug(e.enableDebugLogging),this.logger.debug("[WEBSOCKET] Updating service settings")}}class Mo extends C.Events{constructor(e,t,i){super(),this.syncRecords=[],this.isLoaded=!1,this.saveTimeout=null,this.SAVE_DEBOUNCE_MS=300,this.app=e,this.plugin=t,this.logger=i,this.registryPath=C.normalizePath(Se.join(t.manifest.dir||".obsidian/plugins/megamem-mcp","sync.json"))}async load(){if(!await this.app.vault.adapter.exists(this.registryPath)){this.logger.debug("[DEBUG] sync.json does not exist, creating new one"),this.logger.info("[SYNC-REGISTRY] No existing sync registry found, creating new one"),this.syncRecords=[],await this.save(),this.isLoaded=!0;return}try{const t=await this.app.vault.adapter.read(this.registryPath),s=JSON.parse(t);this.syncRecords=s.sync_records||[],this.logger.info(`[SYNC-REGISTRY] Loaded sync registry with ${this.syncRecords.length} records.`),this.isLoaded=!0}catch(t){this.logger.error("[DEBUG] Error loading sync.json:",t),this.logger.error("[SYNC-REGISTRY] CRITICAL ERROR: Registry file is corrupt and cannot be parsed. Loading empty registry in memory without overwriting file.",t),this.syncRecords=[],this.isLoaded=!0}}async save(){return this.saveTimeout&&clearTimeout(this.saveTimeout),new Promise((e,t)=>{this.saveTimeout=setTimeout(async()=>{try{await this.performSave(),e()}catch(i){t(i)}finally{this.saveTimeout=null}},this.SAVE_DEBOUNCE_MS)})}async saveImmediate(){this.saveTimeout&&(clearTimeout(this.saveTimeout),this.saveTimeout=null),await this.performSave()}async performSave(){try{const e={version:"1.0",sync_records:this.syncRecords},t=JSON.stringify(e,null,2);await this.app.vault.adapter.write(this.registryPath,t),this.trigger("changed")}catch(e){const t=e instanceof Error?e.message:String(e);throw this.logger.error("[SYNC-REGISTRY] Failed to save sync registry:",{error:t,path:this.registryPath,timestamp:new Date().toISOString()}),new Error(`Failed to save sync registry: ${t}`)}}getSyncRecord(e,t,i){if(!e||typeof e!="string"){this.logger.warn("[SYNC-REGISTRY] getSyncRecord called without mm_uid",{vaultId:t,context:i});return}return this.syncRecords.find(r=>r.mm_uid===e&&r.vault_id===t)}getSyncRecordByPath(e,t){if(!(!e||typeof e!="string"))return this.syncRecords.find(i=>i.vault_id===t&&i.note_path===e)}async addOrUpdateSyncRecord(e){const{mmUid:t,notePath:i,vaultId:s,syncEntry:r}=e;if(!t||typeof t!="string")throw this.logger.error("[SYNC-REGISTRY] addOrUpdateSyncRecord missing mm_uid",{notePath:i,vaultId:s}),new Error("mm_uid is required to add or update a sync record");if(!this.isValidUUID(t))throw this.logger.error("[SYNC-REGISTRY] addOrUpdateSyncRecord received invalid mm_uid format",{mmUid:t,notePath:i,vaultId:s}),new Error("Invalid mm_uid format - must be a valid UUID");let o=this.getSyncRecord(t,s);if(o){const a=o.syncs.findIndex(l=>l.database_id===r.database_id);a>=0?(o.syncs[a]=r,this.logger.info("[SYNC-REGISTRY] Updated sync entry",{mm_uid:t,vault_id:s,database:r.database_id})):(o.syncs.push(r),this.logger.info("[SYNC-REGISTRY] Added new sync entry",{mm_uid:t,vault_id:s,database:r.database_id})),o.note_modified=new Date().toISOString(),i&&typeof i=="string"&&(o.note_path=i)}else{const a={mm_uid:t,note_path:i||"",vault_id:s,note_modified:new Date().toISOString(),syncs:[r]};this.syncRecords.push(a),this.logger.info("[SYNC-REGISTRY] Created new sync record",{mm_uid:t,vault_id:s})}await this.save()}findNoteByEpisodeUuid(e){for(const t of this.syncRecords)for(const i of t.syncs)if(i.episode_uuid===e)return{record:t,entry:i}}async generateGroupId(e,t){var r;const i=this.plugin.settings;let s=e.replace(/\\/g,"/");try{const o=((r=this.app.vault.adapter)==null?void 0:r.basePath)??"";o&&Se.isAbsolute(e)&&(s=Se.relative(o,e).replace(/\\/g,"/"))}catch{s=e.replace(/\\/g,"/")}if(i.enablePropertyNamespacing){const o=this.app.metadataCache.getCache(s),a=o==null?void 0:o.frontmatter,l=a==null?void 0:a.g_group_id;if(typeof l=="string"&&l.trim().length>0)return l.trim();if(typeof l=="number")return String(l)}if(i.enableFolderNamespacing){const o=this.getCustomGroupId(s,i.folderNamespaceMappings||[]);if(o)return o}return i.namespaceStrategy==="custom"&&i.defaultNamespace||t}getCustomGroupId(e,t){if(!t||t.length===0)return null;const i=[...t].sort((a,l)=>l.folderPath.length-a.folderPath.length),r=e.replace(/\\/g,"/").split("/").filter(a=>a.length>0),o=r.length>1?r.slice(0,-1).join("/"):"";for(const a of i){const l=a.folderPath.replace(/\\/g,"/");if(l&&(o===l||o.startsWith(l+"/")))return a.groupId}return null}getVaultSyncRecords(e){return this.syncRecords.filter(t=>t.vault_id===e)}getDatabaseSyncRecords(e){return this.syncRecords.filter(t=>t.syncs.some(i=>i.database_id===e))}getGroupIdSyncRecords(e){return this.syncRecords.filter(t=>t.syncs.some(i=>i.group_id===e))}async removeSyncRecord(e,t){if(!e||typeof e!="string")return!1;const i=this.syncRecords.length;return this.syncRecords=this.syncRecords.filter(s=>!(s.mm_uid===e&&s.vault_id===t)),this.syncRecords.length<i?(await this.save(),this.logger.info("[SYNC-REGISTRY] Removed sync record",{mm_uid:e,vault_id:t}),!0):!1}async removeSyncEntry(e,t,i){const s=this.getSyncRecord(e,t);if(!s)return!1;const r=s.syncs.length;return s.syncs=s.syncs.filter(o=>o.database_id!==i),s.syncs.length<r?(s.syncs.length===0?await this.removeSyncRecord(e,t):await this.save(),this.logger.info("[SYNC-REGISTRY] Removed sync entry",{mm_uid:e,vault_id:t,database:i}),!0):!1}getSyncStats(e){const t=e?this.getVaultSyncRecords(e):this.syncRecords,i={};let s=0,r;for(const o of t)for(const a of o.syncs)i[a.database_id]=(i[a.database_id]||0)+1,s++,(!r||a.last_sync>r)&&(r=a.last_sync);return{totalRecords:t.length,totalSyncs:s,databaseCounts:i,lastSync:r}}validateSyncRecord(e){if(!e||typeof e!="object")return!1;if(!e.mm_uid||typeof e.mm_uid!="string"){if(!e.note_path||typeof e.note_path!="string")return!1}else if(!this.isValidUUID(e.mm_uid))return!1;if(!e.vault_id||typeof e.vault_id!="string"||!Array.isArray(e.syncs))return!1;for(const t of e.syncs)if(!this.validateSyncEntry(t))return!1;return!(e.note_modified&&!this.isValidISODate(e.note_modified))}validateSyncEntry(e){return!(!e||typeof e!="object"||!e.database_id||typeof e.database_id!="string"||!e.group_id||typeof e.group_id!="string"||!e.episode_uuid||typeof e.episode_uuid!="string"||e.episode_uuid!==null&&!this.isValidUUID(e.episode_uuid)||!e.last_sync||typeof e.last_sync!="string"||!this.isValidISODate(e.last_sync)||e.sync_hash&&typeof e.sync_hash!="string")}isValidUUID(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}isValidISODate(e){try{return new Date(e).toISOString()===e}catch{return!1}}removeDuplicateRecords(e){const t=new Set,i=[];for(const s of e){const r=s.mm_uid?`${s.vault_id}:mm:${s.mm_uid}`:`${s.vault_id}:path:${s.note_path}`;t.has(r)?this.logger.warn("[SYNC-REGISTRY] Removing duplicate record",{vault_id:s.vault_id,mm_uid:s.mm_uid,note_path:s.note_path}):(t.add(r),i.push(s))}return i}isRegistryLoaded(){return this.isLoaded}getVaultIds(){const e=new Set(this.syncRecords.map(t=>t.vault_id));return Array.from(e)}getDatabaseIds(){const e=new Set;for(const t of this.syncRecords)for(const i of t.syncs)e.add(i.database_id);return Array.from(e)}getGroupIds(){const e=new Set;for(const t of this.syncRecords)for(const i of t.syncs)e.add(i.group_id);return Array.from(e)}getAllSyncRecords(){return[...this.syncRecords]}async reload(){await this.load(),this.trigger("changed")}}class No extends bo.EventEmitter{constructor(e,t,i){super(),this.isLoaded=!1,this.activeVaultId=null,this.app=e,this.plugin=t,this.logger=i,this.registry=new Map,this.registryPath=C.normalizePath(Se.join(t.manifest.dir||".obsidian/plugins/megamem-mcp","vaults.json"))}async load(){if(!await this.app.vault.adapter.exists(this.registryPath)){this.logger.debug("[VAULT-REGISTRY] No existing vault registry found, creating new one"),this.registry=new Map,await this.save(),this.isLoaded=!0;return}try{const t=await this.app.vault.adapter.read(this.registryPath),i=JSON.parse(t);this.registry.clear();for(const[s,r]of Object.entries(i))this.registry.set(s,r);this.logger.info(`[VAULT-REGISTRY] Loaded vault registry with ${this.registry.size} vaults.`),this.isLoaded=!0}catch(t){this.logger.error("[VAULT-REGISTRY] CRITICAL ERROR: Registry file is corrupt and cannot be parsed. Loading empty registry in memory without overwriting file.",t),this.registry=new Map,this.isLoaded=!0}}async save(){try{const e=Object.fromEntries(this.registry),t=JSON.stringify(e,null,2);await this.app.vault.adapter.write(this.registryPath,t),this.emit("registry-update")}catch(e){const t=e instanceof Error?e.message:String(e);throw this.logger.error("[VAULT-REGISTRY] Failed to save vault registry:",{error:t,path:this.registryPath,timestamp:new Date().toISOString()}),new Error(`Failed to save vault registry: ${t}`)}}async addVault(e){const t={...e,id:e.name};return this.registry.set(e.name,t),await this.save(),this.logger.info(`[VAULT-REGISTRY] Added vault: ${e.name}.`),t}getVault(e){return this.registry.get(e)}getAllVaults(){return Array.from(this.registry.values())}async removeVault(e){if(this.registry.has(e)){const t=this.registry.get(e);return this.registry.delete(e),await this.save(),this.logger.info(`[VAULT-REGISTRY] Removed vault: ${t==null?void 0:t.name}.`),!0}return!1}async updateVaultStatus(e,t){const i=this.registry.get(e);return i?(i.status={...i.status,...t},await this.save(),!0):!1}queryVaults(e){let t=Array.from(this.registry.values());return e.vault_id&&(t=t.filter(i=>i.id===e.vault_id)),e.status!==void 0&&(t=t.filter(i=>i.status.connected===e.status)),t}getVaultStats(){const e=this.getAllVaults();return{total_connected:e.filter(t=>t.status.connected).length,total_syncing:e.filter(t=>t.status.syncing).length,total_errors:e.filter(t=>t.status.error_message).length,last_sync:e.reduce((t,i)=>i.status.last_sync>t?i.status.last_sync:t,"")}}isRegistryLoaded(){return this.isLoaded}getActiveVaultId(){return this.isLoaded||this.loadRegistrySynchronously(),this.activeVaultId||this.ensureActiveVault(),this.activeVaultId}loadRegistrySynchronously(){try{const e=require("fs");if(e.existsSync(this.registryPath)){const t=e.readFileSync(this.registryPath,"utf8"),i=JSON.parse(t);if(this.registry.clear(),typeof i=="object"&&!Array.isArray(i))for(const[s,r]of Object.entries(i))this.registry.set(s,r);this.isLoaded=!0,this.logger.debug(`[VAULT-REGISTRY] Loaded registry synchronously with ${this.registry.size} vaults`)}}catch(e){this.logger.warn("[VAULT-REGISTRY] Failed to load registry synchronously",e)}}setActiveVaultId(e){if(e&&!this.registry.has(e))return this.logger.warn(`[VAULT-REGISTRY] Cannot set active vault - vault not found: ${e}`),!1;const t=this.activeVaultId;return this.activeVaultId=e,t!==e&&this.emit("active-vault-change",e),!0}getActiveVault(){return this.activeVaultId&&this.getVault(this.activeVaultId)||null}ensureActiveVault(){if(!this.activeVaultId){const e=this.app.vault.getName(),t=this.app.vault.adapter.basePath||"";let i=null;for(const[s,r]of this.registry.entries())if(r.name===e||this.pathsMatch(r.path,t)){i=s;break}this.activeVaultId=i||e,this.logger.info(`[VAULT-REGISTRY] Auto-set active vault to: ${this.activeVaultId}${i?" (found in registry)":" (fallback to name)"}`)}}pathsMatch(e,t){const i=s=>s.replace(/\\\\/g,"/").toLowerCase().replace(/\/$/,"");return i(e)===i(t)}async autoRegisterCurrentVault(e=!1,t){var l,c;const i=this.app.vault.getName(),s=this.app.vault.adapter.basePath||"",r=this.registry.get(i);if(r&&r.path===s){this.setActiveVaultId(i);const u=this.createVaultDatabaseConfig();return JSON.stringify(r.configuration.database)!==JSON.stringify(u)?(this.logger.info(`[VAULT-REGISTRY] Updating database configuration for existing vault: ${i}`),r.configuration.database=u,await this.save(),this.logger.debug("[VAULT-REGISTRY] Database configuration updated for existing vault.",{vaultName:i,newConfig:u})):this.logger.debug("[VAULT-REGISTRY] Existing vault database configuration is already up-to-date.",{vaultName:i}),t&&t.isConnected()&&(t.sendVaultRegistration({name:r.name,path:r.path,id:r.name})?await this.updateVaultConnection(i,!0,(c=(l=r.connection)==null?void 0:l.auth)==null?void 0:c.token):this.logger.warn("[VAULT-REGISTRY] Failed to send existing vault registration to MCP server.")),r}const o=new Date().toISOString(),a={name:i,description:`Auto-registered vault: ${i}`,path:s,type:"obsidian",connection:{host:"localhost",port:this.plugin.settings.wsPort,auth:{token:""}},configuration:{database:this.createVaultDatabaseConfig(),sync:{enabled:!0,interval:300,last_sync:o}},status:{connected:!1,syncing:!1,last_sync:o}};try{const u=await this.addVault(a);return this.setActiveVaultId(i),this.logger.info(`[VAULT-REGISTRY] Created local vault registry entry for: ${i}.`),t&&t.isConnected()&&(t.sendVaultRegistration({name:u.name,path:u.path,id:i})?await this.updateVaultConnection(i,!0,a.connection.auth.token):this.logger.warn("[VAULT-REGISTRY] Failed to send vault registration to MCP server.")),u}catch(u){return this.logger.error(`[VAULT-REGISTRY] Failed to auto-register current vault: ${i}`,u),null}}onActiveVaultChange(e){this.on("active-vault-change",e)}onRegistryUpdate(e){this.on("registry-update",e)}async updateVaultConnection(e,t,i){const s=this.registry.get(e);return s?(s.status.connected=t,s.status.last_sync=new Date().toISOString(),i&&(s.connection.auth.token=i),t||(s.status.syncing=!1,s.status.error_message=void 0),await this.save(),this.logger.info(`[VAULT-REGISTRY] Updated vault connection status for ${s.name}: Connected: ${t}.`),!0):!1}async updateVaultEmbeddingModel(e,t,i,s){const r=this.registry.get(e);if(!r)return this.logger.warn(`[VAULT-REGISTRY] Cannot update embedding model - vault not found: ${e}`),!1;r.configuration.embedding||(r.configuration.embedding={}),r.configuration.embedding.model=t,i!==void 0&&(r.configuration.embedding.dimensions=i),s!==void 0&&(r.configuration.embedding.provider=s),await this.save();const o=s?` (${s})`:"",a=i?` (${i}d)`:"";return this.logger.info(`[VAULT-REGISTRY] Updated embedding model for vault ${e}: ${t}${o}${a}`),!0}getVaultEmbeddingModel(e){const t=this.registry.get(e);return t?t.configuration.embedding||{}:null}hasEmbeddingModelChanged(e,t,i,s){const r=this.getVaultEmbeddingModel(e);return!r||!r.model?!1:r.model!==t||s!==void 0&&r.provider!==void 0&&r.provider!==s||i!==void 0&&r.dimensions!==void 0&&r.dimensions!==i}validateEmbeddingModelConfig(e){const t=this.getVaultEmbeddingModel(e);return!t||!t.model?{isValid:!1}:{isValid:!0,config:t}}getEmbeddingModelMismatchDetails(e,t,i,s){const r=this.getVaultEmbeddingModel(e);return{hasChanged:this.hasEmbeddingModelChanged(e,t,i,s),storedProvider:r==null?void 0:r.provider,storedModel:r==null?void 0:r.model,storedDimensions:r==null?void 0:r.dimensions,currentProvider:s,currentModel:t,currentDimensions:i}}createVaultDatabaseConfig(){var i,s;const e=this.plugin.settings,t=e.databaseType||"neo4j";if(t==="neo4j"&&((i=e.databaseConfigs)!=null&&i.neo4j)){const r=e.databaseConfigs.neo4j;if(r.uri){const l=r.uri.match(/bolt:\/\/([^:]+):(\d+)/);if(l){const c=parseInt(l[2]);return{type:"neo4j",host:l[1]||"localhost",port:c||7687,database:r.database||"neo4j",username:r.username,password:r.password}}}const o="localhost",a=7687;return this.logger.warn("[VAULT-REGISTRY] URI match failed or URI not provided for Neo4j. Using defaults/fallback values."),{type:"neo4j",host:o,port:a,database:r.database||"neo4j",username:r.username,password:r.password}}else if(t==="falkordb"&&((s=e.databaseConfigs)!=null&&s.falkordb)){const r=e.databaseConfigs.falkordb;return this.logger.debug("[VAULT-REGISTRY] FalkorDB config found in settings.databaseConfigs:",{host:r.host,port:r.port,database:r.database}),{type:"neo4j",host:r.host||"localhost",port:r.port||6379,database:r.database||"falkor",username:r.username,password:r.password}}return this.logger.warn(`[VAULT-REGISTRY] No database configuration found for type: ${t}. Using final defaults.`),{type:"neo4j",host:"localhost",port:7687,database:"neo4j"}}}const Ao=["id","uuid","name","type","subtype","summary","description","created_at","updated_at","fact_uuid","fact_name","fact_type","fact_subtype","fact_summary","fact_description","fact_created_at","fact_updated_at","edge_uuid","edge_name","edge_type","edge_subtype","edge_summary","edge_description","edge_created_at","edge_updated_at","source_uuid","target_uuid","source_name","target_name","source_type","target_type","valid_at","invalid_at","metadata"],Gt={Person:"Individual human being with personal and professional attributes, relationships, and activities within the knowledge domain.",Organization:"Business entity, company, institution, or group with structured operations and relationships within the professional ecosystem.",Technology:"Software, programming language, framework, tool, or technical system used in development and business operations.",Product:"Software product, service, platform, or offering created by organizations for users and customers.",Project:"Organized effort with defined goals, timeline, and deliverables undertaken by individuals or organizations.",WebPage:"Individual web page or URL with specific content, purpose, and relationships within the broader web ecosystem.",Website:"Complete web domain or site containing multiple pages and serving as a unified web presence.",Note:"Personal knowledge note, documentation, or idea captured for reference and knowledge management purposes.",Article:"Published content piece such as blog post, tutorial, or informational article with specific topic focus.",Music:"Musical work, song, album, or audio content with artistic and cultural significance, including metadata about creation and performance.",Film:"Movie, video content, or visual media production with narrative or documentary purpose, including cast, crew, and production details.",Event:"Organized gathering, conference, meeting, or occasion with specific time, location, and participants for knowledge sharing or collaboration.",Place:"Physical location, venue, or geographic entity with address and spatial context relevant to activities and relationships.",Quote:"Memorable statement, saying, or excerpt attributed to a specific source with context and meaning for reference and inspiration.",Expression:"Idiom, concept, principle, or linguistic construct that conveys meaning within cultural or professional contexts.",Personal:"Private individual content including goals, identity information, preferences, and personal development material for self-organization.",Journal:"Time-based personal entry or log recording thoughts, experiences, and reflections for tracking personal growth and memories.",Book:"Published literary work, reference material, or educational text with structured content for knowledge sharing and learning.",ProjectDoc:"Technical documentation, specifications, or project-related materials that support project development and collaboration."},qt={duration:'Length of the art work in minutes and seconds, typically formatted as "MM:SS" (e.g., "3:42", "1:15:30")',record_label:"Music label or company responsible for producing, distributing, or promoting the musical work",artist:"Musical performer, band, or creator responsible for the artistic creation and performance of the musical work",album:"Collection or record release that contains this musical work as part of a larger artistic statement",track_number:"Position of this song within an album or collection for organization and reference",composer:"Person who created the musical composition, melody, and structure of the work",lyricist:"Person who wrote the words, lyrics, or text content of the musical work",director:"Primary director or filmmaker credited as the main creative leader of the film or video content",cast:"List of actors and performers who appeared in the film or video content",studio:"Production studio or company responsible for creating and distributing the film",date_start:"Starting date of the event or scheduled activity in YYYY-MM-DD format",date_end:"Ending date of the event or scheduled activity in YYYY-MM-DD format",location:'Physical venue, address, or virtual platform where the event takes place (e.g., "Madison Square Garden", "Zoom", "123 Main St")',organizer:"Person, organization, or entity responsible for planning and hosting the event",event_type:`Classification of the event's purpose and format (e.g., "conference", "meeting", "celebration", "workshop", "webinar")`,coordinates:'Geographic coordinates in latitude, longitude format for precise location identification (e.g., "37.7749, -122.4194")',city:"Municipality, city, or urban area that contains or represents the place for regional identification",postal_code:"ZIP code, postal code, or area code for mail delivery and regional classification",place_type:`Classification of the place's purpose and characteristics (e.g., "venue", "office", "landmark", "residential", "commercial")`,region:"Geographic region, state, or province where the place is located for broader geographic context",title:"Primary name, headline, or official title that identifies and represents the entity",c_name:"Complete legal name, official title, or canonical name as formally recognized",aliases:"Alternative names, nicknames, abbreviations, or other identifiers by which this entity is also known",url:"Complete web address or URL where this entity can be accessed or referenced online",same_as:"URIs or URLs that identify this same entity on other platforms, databases, or knowledge systems for linking",tags:"Keywords, labels, or categorical markers used for organizing, filtering, and discovering related content",author:"Person or organization who created, wrote, or is primarily responsible for this content",organization:"Company, institution, or group associated with or responsible for this entity",about:"Subject matter, topic, or theme that this content covers or discusses in detail",category:"Primary classification, type, or domain that categorizes this entity's purpose and characteristics",status:'Current state, phase, or condition of the entity in its lifecycle (e.g., "active", "completed", "planning")',date_published:"Date when this article or content was officially published or released in YYYY-MM-DD format",identity_type:`Classification of the person's identity status (e.g., "natural_person", "public_figure", "pseudonym", "character")`,given_name:"First name or given name as commonly used for personal identification and introductions",family_name:"Last name, surname, or family name used for formal identification and heritage",date_of_birth:"Date when the person was born, formatted as YYYY-MM-DD for biographical reference",date_of_death:"Date when the person passed away, formatted as YYYY-MM-DD if applicable for biographical completion",address:"Physical address, location, or primary residence where the person is based",email:"Primary email address for professional or personal communication and contact",works_for:"Organization, company, or institution where the person is currently employed",job_title:"Professional role, position, or title that describes the person's current responsibilities",needs:"Resources, skills, connections, or support that the person requires to achieve their goals",offers:"Skills, services, knowledge, or value that the person can provide to others or contribute to projects",links:"URLs or web addresses associated with the person's online presence or professional profiles",relationship_type:"Nature of the relationship or connection this person has to other entities or people",date_founded:"Date when the organization was officially established, incorporated, or founded in YYYY-MM-DD format",org_type:'Legal structure or classification of the organization (e.g., "LLC", "Corporation", "Non-profit", "Partnership")',project_type:`Classification of the project's nature, scope, and methodology (e.g., "software", "research", "startup", "community")`,collaborators:"People, teams, or organizations working together on this project or contributing to its development",public_repo:"URL or reference to the public code repository where the project's source code is hosted and accessible",offering_type:'Business model and delivery method of the product (e.g., "SaaS", "API", "physical_product", "service", "platform")',article_type:'Genre or format classification of the article (e.g., "blog_post", "tutorial", "analysis", "news", "review")',note_type:`Classification of the note's purpose and content type (e.g., "idea", "meeting_notes", "reference", "analysis")`,subtitle:"Secondary title or explanatory subtitle that provides additional context about the book's content",categories:"Subject categories, genres, or classification tags that describe the book's content and target audience",authors:"List of people who wrote, edited, or contributed to the creation of the book",published_on:"Date when the book was officially published or released in YYYY-MM-DD format",link:"URL or web address where the book can be accessed, purchased, or referenced online",project:"Name or identifier of the project that this documentation relates to or supports",team:"Group of people or organizational unit responsible for creating and maintaining this documentation",genre:"Category, style, or classification that describes the artistic approach, subject matter, or target audience",country:"Nation or country of origin where the entity was created, produced, or primarily operates"};class _s{constructor(e,t){this.app=e,this.plugin=t}get logger(){try{return this.plugin&&this.plugin.logger?this.plugin.logger:void 0}catch{return}}isProtectedAttribute(e){return Ao.includes(e.toLowerCase())}convertToSnakeCase(e){return e.replace(/([A-Z])/g,"_$1").toLowerCase().replace(/^_/,"")}validateEntityTypeName(e){const t=[];let i=e;/^[A-Z][a-zA-Z0-9]*$/.test(e)||(t.push("Entity type should be PascalCase (e.g., Person, TechCompany)"),i=e.charAt(0).toUpperCase()+e.slice(1).replace(/[^a-zA-Z0-9]/g,""));const s=t.length===0?"excellent":"needs_improvement";return{isValid:t.length===0,issues:t,suggestedName:i,complianceLevel:s}}analyzeProperty(e,t){const i=this.convertToSnakeCase(e),s=this.isProtectedAttribute(e),r=[];s&&r.push("Uses protected attribute name reserved by Graphiti"),e!==i&&!s&&r.push("Should use snake_case naming convention");const o=s?"protected":r.length>0?"warning":"valid";return{originalName:e,suggestedName:s?`${i}_custom`:i,isProtected:s,namingIssues:r,complianceStatus:o}}applyPropertyMapping(e,t){return this.plugin&&this.plugin.getPropertyMapping(e,t)||t}async savePropertyMapping(e,t,i){this.plugin&&await this.plugin.savePropertyMapping(e,t,i)}async removePropertyMapping(e,t){this.plugin&&await this.plugin.removePropertyMapping(e,t)}async savePropertySelection(e,t,i){this.plugin&&await this.plugin.savePropertySelection(e,t,i)}getPropertySelection(e,t){if(this.plugin)return this.plugin.getPropertySelection(e,t)}getDefaultEntityDescription(e){return Gt[e]||null}hasDefaultEntityDescription(e){return e in Gt}getAvailableDefaultEntityTypes(){return Object.keys(Gt)}getDefaultPropertyDescription(e){return qt[e]||null}hasDefaultPropertyDescription(e){return e in qt}get defaultPropertyDescriptions(){return qt}getAvailableDefaultProperties(){return Object.keys(qt)}getAvailableDefaultEdgeTypes(){return{WorksFor:"Person employed by Organization",Uses:"Person/Organization uses Technology/Product",Creates:"Person/Organization creates Technology/Product/Project",Knows:"Person knows Person (personal or professional relationship)",MemberOf:"Person/Organization is member of Organization",PartnersWith:"Person/Organization partners with Person/Organization",DependsOn:"Technology/Product depends on Technology",IntegratedWith:"Product/Technology has built-in integration with Product/Technology",About:"WebPage/Note/Article about Entity",IsPartOf:"WebPage part of Website/Domain",Tags:"Entity is tagged with another Entity",PerformedBy:"Musical work performed by Artist/Person",InfluencedBy:"Entity influenced or inspired by another Entity",CollaboratesWith:"Person/Organization actively collaborates with Person/Organization",OrganizedBy:"Event organized and managed by Person/Organization",AttendedBy:"Event attended or participated in by Person",PartOfSeries:"Entity that belongs to or continues a series/sequence",LeadBy:"Project/Organization/Initiative led or directed by Person",SponsoredBy:"Entity sponsored, funded, or supported by Organization",CompetesWith:"Organization/Product in competition or rivalry with Organization/Product"}}getDefaultEdgeTypeProperties(){return{WorksFor:{job_title:{description:"Current professional role, position, or title that describes responsibilities and level within an organization",fieldType:"str",required:!1},employment_type:{description:"Employment classification such as full-time, part-time, contractor, consultant, advisor, or intern",fieldType:"str",required:!1},start_date:{description:"Date when the employment relationship began in YYYY-MM-DD format",fieldType:"datetime",required:!1}},Uses:{sentiment:{description:"User's attitude or feeling toward the technology (positive, negative, neutral, love, hate)",fieldType:"str",required:!1},proficiency:{description:"User's skill level or expertise with the technology (beginner, intermediate, advanced, expert)",fieldType:"str",required:!1},usage_context:{description:"Context or environment where the technology is used (development, production, personal, testing)",fieldType:"str",required:!1},status:{description:"Current usage status (active, inactive, trial, paid_account, evaluating)",fieldType:"str",required:!1},start_date:{description:"Date when usage began in YYYY-MM-DD format",fieldType:"datetime",required:!1}},Creates:{role:{description:"Creator's role in the creation process (founder, lead_developer, contributor, designer, architect)",fieldType:"str",required:!1},contribution_type:{description:"Type of contribution made (code, design, strategy, funding, documentation, testing)",fieldType:"str",required:!1}},Knows:{relationship_type:{description:"Nature of the relationship (colleague, mentor, friend, collaborator, acquaintance)",fieldType:"str",required:!1},context:{description:"Context or setting where they know each other (work, school, industry, personal)",fieldType:"str",required:!1}},MemberOf:{role:{description:"Member's role or position within the organization (employee, volunteer, board_member, customer, partner)",fieldType:"str",required:!1},start_date:{description:"Date when membership began in YYYY-MM-DD format",fieldType:"datetime",required:!1},status:{description:"Current membership status (active, inactive, suspended, trial, paid)",fieldType:"str",required:!1}},PartnersWith:{partnership_type:{description:"Type of partnership (strategic, supplier, investment, consulting, advisory, joint_venture)",fieldType:"str",required:!1},start_date:{description:"Date when partnership began in YYYY-MM-DD format",fieldType:"datetime",required:!1},status:{description:"Current partnership status (active, inactive, completed, negotiating)",fieldType:"str",required:!1}},DependsOn:{dependency_type:{description:"Type of dependency (runtime, build_time, development, infrastructure, optional)",fieldType:"str",required:!1},version:{description:"Required version or version range for the dependency",fieldType:"str",required:!1}},IntegratedWith:{integration_type:{description:"Type of integration (native, plugin, API, webhook, SDK, embedded)",fieldType:"str",required:!1},bidirectional:{description:"Whether the integration works in both directions between the technologies",fieldType:"bool",required:!1}},About:{coverage_type:{description:"Depth of coverage (comprehensive, mention, analysis, tutorial, review)",fieldType:"str",required:!1},authority:{description:"Source authority level (official, community, expert_analysis, user_generated)",fieldType:"str",required:!1}},IsPartOf:{relationship_type:{description:"Type of relationship (page, article, documentation, section, subdomain)",fieldType:"str",required:!1}},Tags:{},PerformedBy:{performance_type:{description:"Type of performance relationship (original_artist, cover_version, live_performance, collaboration, featured_artist)",fieldType:"str",required:!1},role:{description:"Specific role in the performance (lead_vocals, instrumentalist, producer, featured, backing_vocals)",fieldType:"str",required:!1},performance_date:{description:"Date when this performance or recording took place in YYYY-MM-DD format",fieldType:"datetime",required:!1}},InfluencedBy:{influence_type:{description:"Nature of the influence relationship (artistic, intellectual, methodological, philosophical, technical)",fieldType:"str",required:!1},description:{description:"Specific ways this entity was influenced, including concepts, techniques, or approaches adopted",fieldType:"str",required:!1},strength:{description:"Degree of influence impact (minor, moderate, major, foundational, transformative)",fieldType:"str",required:!1}},CollaboratesWith:{collaboration_type:{description:"Nature of the collaborative relationship (project_partner, co_author, joint_venture, research_partner, creative_partner)",fieldType:"str",required:!1},collaboration_status:{description:"Current state of the collaboration (active, completed, planned, on_hold, recurring)",fieldType:"str",required:!1},start_date:{description:"Date when the collaboration began in YYYY-MM-DD format",fieldType:"datetime",required:!1}},OrganizedBy:{organizational_role:{description:"Specific role in organizing the event (lead_organizer, co_organizer, event_manager, logistics_coordinator, program_director)",fieldType:"str",required:!1},responsibilities:{description:"Specific duties and areas of responsibility in event organization (logistics, programming, marketing, sponsorships)",fieldType:"str",required:!1}},AttendedBy:{attendance_type:{description:"Nature of attendance or participation (presenter, attendee, keynote_speaker, panelist, sponsor, volunteer)",fieldType:"str",required:!1},participation_level:{description:"Degree of involvement in the event (active_participant, passive_attendee, featured_speaker, organizer)",fieldType:"str",required:!1}},PartOfSeries:{sequence_position:{description:"Position or order within the series (episode_1, part_2, volume_3, season_1_episode_5)",fieldType:"str",required:!1},series_relationship:{description:"Type of relationship to the series (sequel, prequel, spin_off, continuation, part_of_collection)",fieldType:"str",required:!1}},LeadBy:{leadership_role:{description:"Specific leadership position and authority (ceo, project_manager, team_lead, creative_director, principal_investigator)",fieldType:"str",required:!1},leadership_start_date:{description:"Date when leadership role began in YYYY-MM-DD format",fieldType:"datetime",required:!1},leadership_scope:{description:"Areas of responsibility and decision-making authority (strategic, operational, creative, technical, administrative)",fieldType:"str",required:!1}},SponsoredBy:{sponsorship_type:{description:"Nature of sponsorship relationship (financial, in_kind, promotional, strategic, title_sponsor, presenting_sponsor)",fieldType:"str",required:!1},sponsorship_level:{description:"Degree or tier of sponsorship support (platinum, gold, silver, bronze, major, minor)",fieldType:"str",required:!1},support_details:{description:"Specific ways sponsor provides support (funding, resources, expertise, marketing, venue)",fieldType:"str",required:!1}},CompetesWith:{competition_type:{description:"Nature of competitive relationship (direct_competitor, market_rival, alternative_solution, industry_peer)",fieldType:"str",required:!1},market_context:{description:"Market or domain where competition occurs (same_market, adjacent_market, substitute_product, feature_competition)",fieldType:"str",required:!1},competitive_advantage:{description:"Key differentiating factors in the competitive relationship (price, features, market_share, brand_recognition)",fieldType:"str",required:!1}}}}getUnusedDefaultEdgeTypes(e){const t=this.getAvailableDefaultEdgeTypes(),i={};return Object.entries(t).forEach(([s,r])=>{e[s]||(i[s]=r)}),i}getSuggestedDefaultMappings(e,t){const i=[],s=new Set(t.map(o=>`${o.sourceEntity}->${o.targetEntity}`));return e.includes("Person")&&(e.includes("Organization")&&!s.has("Person->Organization")&&i.push({sourceEntity:"Person",targetEntity:"Organization",allowedEdges:["WorksFor","MemberOf","PartnersWith"],description:"People working for or being members of organizations"}),e.includes("Technology")&&!s.has("Person->Technology")&&i.push({sourceEntity:"Person",targetEntity:"Technology",allowedEdges:["Creates","Uses"],description:"People creating or using technologies"}),e.includes("Product")&&!s.has("Person->Product")&&i.push({sourceEntity:"Person",targetEntity:"Product",allowedEdges:["Creates","Uses"],description:"People creating or using products"}),e.includes("Project")&&!s.has("Person->Project")&&i.push({sourceEntity:"Person",targetEntity:"Project",allowedEdges:["Creates","MemberOf"],description:"People creating or being part of projects"}),s.has("Person->Person")||i.push({sourceEntity:"Person",targetEntity:"Person",allowedEdges:["Knows"],description:"Professional and personal relationships between people"})),e.includes("Organization")&&(e.includes("Technology")&&!s.has("Organization->Technology")&&i.push({sourceEntity:"Organization",targetEntity:"Technology",allowedEdges:["Creates","Uses","DependsOn"],description:"Organizations creating, using, or depending on technologies"}),e.includes("Product")&&!s.has("Organization->Product")&&i.push({sourceEntity:"Organization",targetEntity:"Product",allowedEdges:["Creates","Uses","DependsOn"],description:"Organizations creating, using, or depending on products"}),s.has("Organization->Organization")||i.push({sourceEntity:"Organization",targetEntity:"Organization",allowedEdges:["PartnersWith","MemberOf"],description:"Partnerships and memberships between organizations"})),e.includes("Technology")&&(s.has("Technology->Technology")||i.push({sourceEntity:"Technology",targetEntity:"Technology",allowedEdges:["DependsOn","IntegratedWith"],description:"Dependencies and integrations between technologies"}),e.includes("Product")&&!s.has("Technology->Product")&&i.push({sourceEntity:"Technology",targetEntity:"Product",allowedEdges:["IntegratedWith"],description:"Technologies integrated with products"})),["WebPage","Note","Article"].filter(o=>e.includes(o)).forEach(o=>{s.has(`${o}->Entity`)||i.push({sourceEntity:o,targetEntity:"Entity",allowedEdges:["About"],description:`${o} content about other entities`})}),e.includes("Person")&&e.includes("Music")&&!s.has("Person->Music")&&i.push({sourceEntity:"Person",targetEntity:"Music",allowedEdges:["PerformedBy","InfluencedBy","Creates"],description:"People performing, creating, or influenced by musical works"}),e.includes("Person")&&e.includes("Film")&&!s.has("Person->Film")&&i.push({sourceEntity:"Person",targetEntity:"Film",allowedEdges:["PerformedBy","InfluencedBy","Creates"],description:"People acting in, creating, or influenced by films"}),e.includes("Person")&&e.includes("Event")&&!s.has("Person->Event")&&i.push({sourceEntity:"Person",targetEntity:"Event",allowedEdges:["OrganizedBy","AttendedBy","LeadBy"],description:"People organizing, attending, or leading events"}),e.includes("Person")&&e.includes("Place")&&!s.has("Person->Place")&&i.push({sourceEntity:"Person",targetEntity:"Place",allowedEdges:["Tags","About"],description:"People associated with or documenting places"}),e.includes("Music")&&!s.has("Music->Music")&&i.push({sourceEntity:"Music",targetEntity:"Music",allowedEdges:["InfluencedBy","PartOfSeries"],description:"Musical works influenced by or part of series with other music"}),e.includes("Film")&&!s.has("Film->Film")&&i.push({sourceEntity:"Film",targetEntity:"Film",allowedEdges:["InfluencedBy","PartOfSeries","CompetesWith"],description:"Films influenced by, part of series, or competing with other films"}),e.includes("Organization")&&e.includes("Event")&&!s.has("Organization->Event")&&i.push({sourceEntity:"Organization",targetEntity:"Event",allowedEdges:["OrganizedBy","SponsoredBy"],description:"Organizations organizing or sponsoring events"}),e.includes("Organization")&&e.includes("Music")&&!s.has("Organization->Music")&&i.push({sourceEntity:"Organization",targetEntity:"Music",allowedEdges:["SponsoredBy","Creates"],description:"Organizations sponsoring or creating musical works (labels, studios)"}),e.includes("Organization")&&e.includes("Film")&&!s.has("Organization->Film")&&i.push({sourceEntity:"Organization",targetEntity:"Film",allowedEdges:["SponsoredBy","Creates"],description:"Organizations sponsoring or creating films (studios, distributors)"}),e.includes("Quote")&&e.includes("Person")&&!s.has("Quote->Person")&&i.push({sourceEntity:"Quote",targetEntity:"Person",allowedEdges:["About","Tags"],description:"Quotes attributed to or about specific people"}),e.includes("Expression")&&!s.has("Expression->Expression")&&i.push({sourceEntity:"Expression",targetEntity:"Expression",allowedEdges:["InfluencedBy","Tags"],description:"Expressions influenced by or related to other expressions"}),e.includes("Personal")&&e.includes("Person")&&!s.has("Personal->Person")&&i.push({sourceEntity:"Personal",targetEntity:"Person",allowedEdges:["About","Tags"],description:"Personal content about or relating to specific people"}),e.includes("Journal")&&e.includes("Person")&&!s.has("Journal->Person")&&i.push({sourceEntity:"Journal",targetEntity:"Person",allowedEdges:["About","Tags"],description:"Journal entries about or mentioning specific people"}),e.includes("Project")&&e.includes("Event")&&!s.has("Project->Event")&&i.push({sourceEntity:"Project",targetEntity:"Event",allowedEdges:["OrganizedBy","PartOfSeries"],description:"Projects organizing events or as part of event series"}),e.includes("Technology")&&e.includes("Music")&&!s.has("Technology->Music")&&i.push({sourceEntity:"Technology",targetEntity:"Music",allowedEdges:["Creates","Uses"],description:"Technologies used to create or distribute music"}),e.includes("Technology")&&e.includes("Film")&&!s.has("Technology->Film")&&i.push({sourceEntity:"Technology",targetEntity:"Film",allowedEdges:["Creates","Uses"],description:"Technologies used in film production or distribution"}),i.length===0&&!s.has("Entity->Entity")&&i.push({sourceEntity:"Entity",targetEntity:"Entity",allowedEdges:["Tags"],description:"Generic tagging relationships between any entities"}),i}async discoverAllSchemas(){const e=new Map,t=this.app.vault.getMarkdownFiles();for(const i of t){const s=this.app.metadataCache.getFileCache(i),r=s==null?void 0:s.frontmatter;if(!(r!=null&&r.type))continue;const o=r.type;e.has(o)||e.set(o,{properties:new Map,files:[]});const a=e.get(o);a.files.push(i.path),Object.entries(r).forEach(([l,c])=>{l!=="type"&&(a.properties.has(l)||a.properties.set(l,[]),a.properties.get(l).push(c))})}return Array.from(e.entries()).map(([i,s])=>({typeName:i,fileCount:s.files.length,files:s.files,properties:Array.from(s.properties.entries()).map(([r,o])=>{const a=this.analyzeProperty(r,o),l=this.applyPropertyMapping(i,r),c=l!==r,u=c?l:r,g=c?[]:a.namingIssues,m=c?"valid":a.complianceStatus,h=this.getPropertySelection(i,r),d=!a.isProtected,f=h!==void 0?h:d;return{name:u,inferredType:this.inferType(o),isOptional:o.some(b=>b==null),description:this.generateDescription(r,i),examples:Array.from(new Set(o)).slice(0,3),enabled:f,isProtected:a.isProtected,namingIssues:g,suggestedName:a.suggestedName,complianceStatus:m}})}))}inferType(e){const t=e.filter(s=>s!=null);if(t.length===0)return"string";const i=t[0];return Array.isArray(i)?"array":typeof i=="boolean"?"boolean":typeof i=="number"?"number":this.isDateLike(i)?"date":typeof i=="object"?"object":"string"}isDateLike(e){return typeof e!="string"?!1:/^\d{4}-\d{2}-\d{2}/.test(e)||!isNaN(Date.parse(e))}generateDescription(e,t){const i={c_name:"Complete legal name or official title as recognized by authorities or in formal documentation",given_name:"Given name or first name as commonly used in introductions and personal identification",family_name:"Family name, surname, or last name used for formal identification and family lineage",aliases:"Alternative names, nicknames, professional names, or pseudonyms by which the entity is also known",url:"Complete web address or URL where the resource can be accessed on the internet",same_as:"URIs or URLs that identify the same entity on other platforms, databases, or knowledge systems for entity linking",permalink:"Permanent link or stable identifier that remains constant over time",created:"Timestamp when the note or entity record was first created in the Obsidian vault for tracking and organizational purposes",created_date:"Date when the content was originally created or when the ideas were first captured in YYYY-MM-DD format",published_date:"Date when the content was officially published or made publicly available in YYYY-MM-DD format",birth_date:"Date when the person was born in YYYY-MM-DD format for biographical and age calculation purposes",founding_date:"Date when the organization was officially established, incorporated, or founded in YYYY-MM-DD format",title:"Primary title, headline, or name that identifies and represents the entity",description:"Detailed explanation or summary that describes the purpose, content, or characteristics of the entity",abstract:"Brief summary or overview that captures the essential points and main ideas",summary:"Concise overview that highlights the key information and important details",type:"Entity type classification (WebPage, Person, Organization, Product, Technology, Project, Article, Film, Music, Book, Event, Note, etc.)",category:"Primary classification or market segment that describes the entity's purpose and target domain",tags:"Topic keywords, classification labels, or categorical tags used for organizing and filtering content within the knowledge base",status:"Current state or phase in the entity's lifecycle (active, completed, planning, etc.)",author:'Person or organization who created, wrote, or is credited as the primary creator of the content (e.g., "Jane Smith", "MIT Research Lab")',job_title:'Current professional role, position, or title that describes responsibilities and level within an organization (e.g., "CEO", "Senior Developer", "Research Scientist")',works_for:'Organization where person is employed (e.g., "Apple Inc.", "Google", "Stanford University")',org_type:'Legal or Lawful structure and registration type of the organization (e.g., "LLC", "Inc", "Partnership", "501c3", "Government Agency")',email:"Primary email address used for professional or personal communication and contact purposes",address:"Physical address, city, state, or geographic location where the entity is primarily based or located",needs:"Specific resources, skills, connections, or support that the entity requires to achieve goals or be successful",offers:"Skills, services, knowledge, resources, or value that the entity can provide to others or contribute to projects",project_type:"Classification of the project's primary purpose and methodology (research, development, initiative, startup, etc.)",article_type:"Genre or format classification of the published content (essay, blog_post, analysis, tutorial, whitepaper, etc.)",note_type:"Classification of the note's purpose and content structure (idea, analysis, reflection, meeting_notes, etc.)",offering_type:"Primary business model and delivery method of the offering (product, service, platform, SaaS, API, etc.)",identity_type:"Classification of person's legal and social identity status (natural_person, national_identity, pseudonym)",thumbnail:"Thumbnail or preview image URL that provides a visual representation of the content",primary_image:"Primary image URL that serves as the main visual element for the entity"};if(i[e])return i[e];if(e.includes("date")||e.includes("time"))return`Date or timestamp for ${t} entities (e.g., "2024-01-15", "2023-12-31T10:30:00Z")`;if(e.includes("url")||e.includes("link"))return`Web address or URL associated with ${t} entities (e.g., "https://example.com", "https://docs.company.com")`;if(e.includes("name")||e.includes("title"))return`Name or title that identifies ${t} entities (e.g., "John Smith", "Project Alpha", "Company Inc.")`;if(e.includes("type")||e.includes("category"))return`Classification that categorizes ${t} entities (e.g., "software", "hardware", "service")`;const s=e.replace(/_/g," ");return`${s.charAt(0).toUpperCase()+s.slice(1)} associated with ${t} entities`}async generatePydanticModels(e){const t=`"""
Pydantic models for Obsidian-Graphiti knowledge graph entities.

This module contains automatically generated Pydantic models based on schema discovery
from Obsidian vault notes. These models are designed to work with the Graphiti
knowledge graph framework for entity extraction and relationship mapping.

Generated models inherit from BaseEntity which provides core properties required
by Graphiti for knowledge graph processing including type classification, tags,
and creation timestamps.

Usage:
    from graphiti_models import Person, Organization, Project

    # Create entity instances
    person = Person(
        c_name="John Doe",
        job_title="Software Engineer",
        email="john@example.com"
    )

    # All entities have core BaseEntity properties
    person.type = "Person"
    person.tags = ["professional", "contact"]
    person.created = datetime.now()

Note: This file is automatically generated. Manual edits will be overwritten
during the next schema discovery process.
"""`,i=["from typing import Optional, List, Dict, Any","from pydantic import BaseModel, Field","from datetime import datetime",""],s=`class BaseEntity(BaseModel):
    """
    Base class for all Graphiti knowledge graph entities.

    Provides core properties required by Graphiti for entity processing,
    relationship mapping, and knowledge graph construction.
    """
    tags: Optional[List[str]] = Field(None, description="Topic keywords, classification labels, or categorical tags used for organizing and filtering content within the knowledge base")
`,r=[];for(let c=0;c<e.length;c+=50){e.slice(c,c+50).forEach(g=>r.push(this.generateSingleModel(g)));try{await new Promise(g=>setTimeout(g,0))}catch{}}const a=this.generateEdgeTypes(),l=this.generateEdgeTypeMap(e);return[t,"",...i,s,...r,a,l].join(`
`)}generateSingleModel(e){const t=e.typeName.replace(/\s+/g,"").replace(/[^a-zA-Z0-9]/g,""),i=e.properties.filter(c=>c.enabled!==!1&&!c.isProtected).map(c=>{const u=this.getPythonType(c),g=c.suggestedName||c.name,m=this.generateDescription(c.name,e.typeName);return`    ${g}: Optional[${u}] = Field(None, description="${m}")`}),s=e.properties.filter(c=>c.isProtected).map(c=>`    # SKIPPED: '${c.name}' - protected attribute (use '${c.suggestedName}' instead)`),r=[...i,...s],o=r.length>0?r.join(`
`):"    pass",l=Gt[t]||`Custom ${t} entity.
    
    Use this entity type for ${t} content that doesn't match
    the standard entity types in your knowledge domain.`;return`class ${t}(BaseEntity):
    """
    ${l}
    """
${o}

`}generateEdgeTypes(){return`
# Edge Types - Relationship Models
class WorksFor(BaseModel):
    """Person employed by Organization"""
    job_title: Optional[str] = Field(None, description="Current professional role, position, or title that describes responsibilities and level within an organization")
    employment_type: Optional[str] = Field(None, description="Employment classification such as full-time, part-time, contractor, consultant, advisor, or intern")
    start_date: Optional[datetime] = Field(None, description="Date when the employment relationship began in YYYY-MM-DD format")

class Uses(BaseModel):
    """Person/Organization uses Technology/Product"""
    sentiment: Optional[str] = Field(None, description="User's attitude or feeling toward the technology (positive, negative, neutral, love, hate)")
    proficiency: Optional[str] = Field(None, description="User's skill level or expertise with the technology (beginner, intermediate, advanced, expert)")
    usage_context: Optional[str] = Field(None, description="Context or environment where the technology is used (development, production, personal, testing)")
    status: Optional[str] = Field(None, description="Current usage status (active, inactive, trial, paid_account, evaluating)")
    start_date: Optional[datetime] = Field(None, description="Date when usage began in YYYY-MM-DD format")

class Creates(BaseModel):
    """Person/Organization creates Technology/Product/Project"""
    role: Optional[str] = Field(None, description="Creator's role in the creation process (founder, lead_developer, contributor, designer, architect)")
    contribution_type: Optional[str] = Field(None, description="Type of contribution made (code, design, strategy, funding, documentation, testing)")

class Knows(BaseModel):
    """Person knows Person (personal or professional relationship)"""
    relationship_type: Optional[str] = Field(None, description="Nature of the relationship (colleague, mentor, friend, collaborator, acquaintance)")
    context: Optional[str] = Field(None, description="Context or setting where they know each other (work, school, industry, personal)")

class MemberOf(BaseModel):
    """Person/Organization is member of Organization"""
    role: Optional[str] = Field(None, description="Member's role or position within the organization (employee, volunteer, board_member, customer, partner)")
    start_date: Optional[datetime] = Field(None, description="Date when membership began in YYYY-MM-DD format")
    status: Optional[str] = Field(None, description="Current membership status (active, inactive, suspended, trial, paid)")

class PartnersWith(BaseModel):
    """Person/Organization partners with Person/Organization"""
    partnership_type: Optional[str] = Field(None, description="Type of partnership (strategic, supplier, investment, consulting, advisory, joint_venture)")
    start_date: Optional[datetime] = Field(None, description="Date when partnership began in YYYY-MM-DD format")
    status: Optional[str] = Field(None, description="Current partnership status (active, inactive, completed, negotiating)")

class DependsOn(BaseModel):
    """Technology/Product depends on Technology"""
    dependency_type: Optional[str] = Field(None, description="Type of dependency (runtime, build_time, development, infrastructure, optional)")
    version: Optional[str] = Field(None, description="Required version or version range for the dependency")

class IntegratedWith(BaseModel):
    """Product/Technology has built-in integration with Product/Technology"""
    integration_type: Optional[str] = Field(None, description="Type of integration (native, plugin, API, webhook, SDK, embedded)")
    bidirectional: Optional[bool] = Field(None, description="Whether the integration works in both directions between the technologies")

class About(BaseModel):
    """WebPage/Note/Article about Entity"""
    coverage_type: Optional[str] = Field(None, description="Depth of coverage (comprehensive, mention, analysis, tutorial, review)")
    authority: Optional[str] = Field(None, description="Source authority level (official, community, expert_analysis, user_generated)")

class IsPartOf(BaseModel):
    """WebPage part of Website/Domain"""
    relationship_type: Optional[str] = Field(None, description="Type of relationship (page, article, documentation, section, subdomain)")

class Tags(BaseModel):
    """Entity is tagged with another Entity"""
    pass

# New edge types
class PerformedBy(BaseModel):
    """Musical work performed by Artist/Person"""
    performance_type: Optional[str] = Field(None, description="Type of performance relationship (original_artist, cover_version, live_performance, collaboration, featured_artist)")
    role: Optional[str] = Field(None, description="Specific role in the performance (lead_vocals, instrumentalist, producer, featured, backing_vocals)")
    performance_date: Optional[datetime] = Field(None, description="Date when this performance or recording took place in YYYY-MM-DD format")

class InfluencedBy(BaseModel):
    """Entity influenced or inspired by another Entity"""
    influence_type: Optional[str] = Field(None, description="Nature of the influence relationship (artistic, intellectual, methodological, philosophical, technical)")
    description: Optional[str] = Field(None, description="Specific ways this entity was influenced, including concepts, techniques, or approaches adopted")
    strength: Optional[str] = Field(None, description="Degree of influence impact (minor, moderate, major, foundational, transformative)")

class CollaboratesWith(BaseModel):
    """Person/Organization actively collaborates with Person/Organization"""
    collaboration_type: Optional[str] = Field(None, description="Nature of the collaborative relationship (project_partner, co_author, joint_venture, research_partner, creative_partner)")
    collaboration_status: Optional[str] = Field(None, description="Current state of the collaboration (active, completed, planned, on_hold, recurring)")
    start_date: Optional[datetime] = Field(None, description="Date when the collaboration began in YYYY-MM-DD format")

class OrganizedBy(BaseModel):
    """Event organized and managed by Person/Organization"""
    organizational_role: Optional[str] = Field(None, description="Specific role in organizing the event (lead_organizer, co_organizer, event_manager, logistics_coordinator, program_director)")
    responsibilities: Optional[str] = Field(None, description="Specific duties and areas of responsibility in event organization (logistics, programming, marketing, sponsorships)")

class AttendedBy(BaseModel):
    """Event attended or participated in by Person"""
    attendance_type: Optional[str] = Field(None, description="Nature of attendance or participation (presenter, attendee, keynote_speaker, panelist, sponsor, volunteer)")
    participation_level: Optional[str] = Field(None, description="Degree of involvement in the event (active_participant, passive_attendee, featured_speaker, organizer)")

class PartOfSeries(BaseModel):
    """Entity that belongs to or continues a series/sequence"""
    sequence_position: Optional[str] = Field(None, description="Position or order within the series (episode_1, part_2, volume_3, season_1_episode_5)")
    series_relationship: Optional[str] = Field(None, description="Type of relationship to the series (sequel, prequel, spin_off, continuation, part_of_collection)")

class LeadBy(BaseModel):
    """Project/Organization/Initiative led or directed by Person"""
    leadership_role: Optional[str] = Field(None, description="Specific leadership position and authority (ceo, project_manager, team_lead, creative_director, principal_investigator)")
    leadership_start_date: Optional[datetime] = Field(None, description="Date when leadership role began in YYYY-MM-DD format")
    leadership_scope: Optional[str] = Field(None, description="Areas of responsibility and decision-making authority (strategic, operational, creative, technical, administrative)")

class SponsoredBy(BaseModel):
    """Entity sponsored, funded, or supported by Organization"""
    sponsorship_type: Optional[str] = Field(None, description="Nature of sponsorship relationship (financial, in_kind, promotional, strategic, title_sponsor, presenting_sponsor)")
    sponsorship_level: Optional[str] = Field(None, description="Degree or tier of sponsorship support (platinum, gold, silver, bronze, major, minor)")
    support_details: Optional[str] = Field(None, description="Specific ways sponsor provides support (funding, resources, expertise, marketing, venue)")

class CompetesWith(BaseModel):
    """Organization/Product in competition or rivalry with Organization/Product"""
    competition_type: Optional[str] = Field(None, description="Nature of competitive relationship (direct_competitor, market_rival, alternative_solution, industry_peer)")
    market_context: Optional[str] = Field(None, description="Market or domain where competition occurs (same_market, adjacent_market, substitute_product, feature_competition)")
    competitive_advantage: Optional[str] = Field(None, description="Key differentiating factors in the competitive relationship (price, features, market_share, brand_recognition)")

`}generateEdgeTypeMap(e){const t=e.map(r=>r.typeName.replace(/\s+/g,"").replace(/[^a-zA-Z0-9]/g,"")),i=[];return t.forEach(r=>{r==="Person"&&(i.push('    ("Person", "Organization"): ["WorksFor", "MemberOf", "PartnersWith"],'),i.push('    ("Person", "Technology"): ["Creates", "Uses"],'),i.push('    ("Person", "Product"): ["Creates", "Uses"],'),i.push('    ("Person", "Project"): ["Creates", "MemberOf"],'),i.push('    ("Person", "Person"): ["Knows", "CollaboratesWith"],'),i.push('    ("Person", "Music"): ["PerformedBy"],')),r==="Music"&&(i.push('    ("Music", "Person"): ["PerformedBy", "CreatedBy", "InfluencedBy"],'),i.push('    ("Music", "Music"): ["InfluencedBy", "PartOfSeries"],')),r==="Film"&&i.push('    ("Film", "Person"): ["CreatedBy", "PerformedBy", "InfluencedBy"],'),r==="Organization"&&(i.push('    ("Organization", "Organization"): ["PartnersWith", "MemberOf"],'),i.push('    ("Organization", "Technology"): ["Creates", "Uses", "DependsOn"],'),i.push('    ("Organization", "Product"): ["Creates", "Uses", "DependsOn"],'),i.push('    ("Organization", "Project"): ["Creates", "PartnersWith"],'),i.push('    ("Organization", "Person"): ["PartnersWith"],')),r==="Technology"&&(i.push('    ("Technology", "Technology"): ["DependsOn", "IntegratedWith"],'),i.push('    ("Technology", "Product"): ["IntegratedWith"],'),i.push('    ("Technology", "Project"): ["IntegratedWith"],')),r==="Product"&&(i.push('    ("Product", "Technology"): ["IntegratedWith", "Uses", "DependsOn"],'),i.push('    ("Product", "Product"): ["IntegratedWith"],'),i.push('    ("Product", "Organization"): ["MemberOf"],'),i.push('    ("Product", "Project"): ["IntegratedWith"],')),r==="Project"&&(i.push('    ("Project", "Technology"): ["Uses", "Creates", "DependsOn"],'),i.push('    ("Project", "Product"): ["Creates", "Uses"],'),i.push('    ("Project", "Organization"): ["PartnersWith"],'),i.push('    ("Project", "Project"): ["PartnersWith", "DependsOn"],')),["WebPage","Note","Article"].includes(r)&&i.push(`    ("${r}", "Entity"): ["About"],`)}),i.push('    ("Entity", "Entity"): ["Tags", "Knows"],'),`
# Edge Type Map - Defines allowed relationships between entity types
edge_type_map = {
${Array.from(new Set(i)).join(`
`)}

`+n.mark.snippet),i+" "+t):i}function Lt(n,e){Error.call(this),this.name="YAMLException",this.reason=n,this.mark=e,this.message=Es(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Lt.prototype=Object.create(Error.prototype);Lt.prototype.constructor=Lt;Lt.prototype.toString=function(e){return this.name+": "+Es(this,e)};var Je=Lt;function cn(n,e,t,i,s){var r="",o="",a=Math.floor(s/2)-1;return i-e>a&&(r=" ... ",e=i-a+r.length),t-i>a&&(o=" ...",t=i+a-o.length),{str:r+n.slice(e,t).replace(/\t/g,"")+o,pos:i-e+r.length}}function dn(n,e){return Ye.repeat(" ",e-n.length)+n}function Go(n,e){if(e=Object.create(e||null),!n.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var t=/\r?\n|\r|\0/g,i=[0],s=[],r,o=-1;r=t.exec(n.buffer);)s.push(r.index),i.push(r.index+r[0].length),n.position<=r.index&&o<0&&(o=i.length-2);o<0&&(o=i.length-1);var a="",l,c,u=Math.min(n.line+e.linesAfter,s.length).toString().length,g=e.maxLength-(e.indent+u+3);for(l=1;l<=e.linesBefore&&!(o-l<0);l++)c=cn(n.buffer,i[o-l],s[o-l],n.position-(i[o]-i[o-l]),g),a=Ye.repeat(" ",e.indent)+dn((n.line-l+1).toString(),u)+" | "+c.str+`
`+a;for(c=cn(n.buffer,i[o],s[o],n.position,g),a+=Ye.repeat(" ",e.indent)+dn((n.line+1).toString(),u)+" | "+c.str+`
`,a+=Ye.repeat("-",e.indent+u+3+c.pos)+`^
`,l=1;l<=e.linesAfter&&!(o+l>=s.length);l++)c=cn(n.buffer,i[o+l],s[o+l],n.position-(i[o]-i[o+l]),g),a+=Ye.repeat(" ",e.indent)+dn((n.line+l+1).toString(),u)+" | "+c.str+`
`;return a.replace(/\n$/,"")}var qo=Go,Wo=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Ko=["scalar","sequence","mapping"];function Ho(n){var e={};return n!==null&&Object.keys(n).forEach(function(t){n[t].forEach(function(i){e[String(i)]=t})}),e}function Jo(n,e){if(e=e||{},Object.keys(e).forEach(function(t){if(Wo.indexOf(t)===-1)throw new Je('Unknown option "'+t+'" is met in definition of "'+n+'" YAML type.')}),this.options=e,this.tag=n,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(t){return t},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=Ho(e.styleAliases||null),Ko.indexOf(this.kind)===-1)throw new Je('Unknown kind "'+this.kind+'" is specified for "'+n+'" YAML type.')}var We=Jo;function Yn(n,e){var t=[];return n[e].forEach(function(i){var s=t.length;t.forEach(function(r,o){r.tag===i.tag&&r.kind===i.kind&&r.multi===i.multi&&(s=o)}),t[s]=i}),t}function Qo(){var n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,t;function i(s){s.multi?(n.multi[s.kind].push(s),n.multi.fallback.push(s)):n[s.kind][s.tag]=n.fallback[s.tag]=s}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(i);return n}function yn(n){return this.extend(n)}yn.prototype.extend=function(e){var t=[],i=[];if(e instanceof We)i.push(e);else if(Array.isArray(e))i=i.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(i=i.concat(e.explicit));else throw new Je("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.forEach(function(r){if(!(r instanceof We))throw new Je("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(r.loadKind&&r.loadKind!=="scalar")throw new Je("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(r.multi)throw new Je("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(r){if(!(r instanceof We))throw new Je("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var s=Object.create(yn.prototype);return s.implicit=(this.implicit||[]).concat(t),s.explicit=(this.explicit||[]).concat(i),s.compiledImplicit=Yn(s,"implicit"),s.compiledExplicit=Yn(s,"explicit"),s.compiledTypeMap=Qo(s.compiledImplicit,s.compiledExplicit),s};var Zo=yn,Xo=new We("tag:yaml.org,2002:str",{kind:"scalar",construct:function(n){return n!==null?n:""}}),ea=new We("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(n){return n!==null?n:[]}}),ta=new We("tag:yaml.org,2002:map",{kind:"mapping",construct:function(n){return n!==null?n:{}}}),na=new Zo({explicit:[Xo,ea,ta]});function ia(n){if(n===null)return!0;var e=n.length;return e===1&&n==="~"||e===4&&(n==="null"||n==="Null"||n==="NULL")}function sa(){return null}function ra(n){return n===null}var oa=new We("tag:yaml.org,2002:null",{kind:"scalar",resolve:ia,construct:sa,predicate:ra,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function aa(n){if(n===null)return!1;var e=n.length;return e===4&&(n==="true"||n==="True"||n==="TRUE")||e===5&&(n==="false"||n==="False"||n==="FALSE")}function la(n){return n==="true"||n==="True"||n==="TRUE"}function ca(n){return Object.prototype.toString.call(n)==="[object Boolean]"}var da=new We("tag:yaml.org,2002:bool",{kind:"scalar",resolve:aa,construct:la,predicate:ca,represent:{lowercase:function(n){return n?"true":"false"},uppercase:function(n){return n?"TRUE":"FALSE"},camelcase:function(n){return n?"True":"False"}},defaultStyle:"lowercase"});function ua(n){return 48<=n&&n<=57||65<=n&&n<=70||97<=n&&n<=102}function pa(n){return 48<=n&&n<=55}function ga(n){return 48<=n&&n<=57}function ha(n){if(n===null)return!1;var e=n.length,t=0,i=!1,s;if(!e)return!1;if(s=n[t],(s==="-"||s==="+")&&(s=n[++t]),s==="0"){if(t+1===e)return!0;if(s=n[++t],s==="b"){for(t++;t<e;t++)if(s=n[t],s!=="_"){if(s!=="0"&&s!=="1")return!1;i=!0}return i&&s!=="_"}if(s==="x"){for(t++;t<e;t++)if(s=n[t],s!=="_"){if(!ua(n.charCodeAt(t)))return!1;i=!0}return i&&s!=="_"}if(s==="o"){for(t++;t<e;t++)if(s=n[t],s!=="_"){if(!pa(n.charCodeAt(t)))return!1;i=!0}return i&&s!=="_"}}if(s==="_")return!1;for(;t<e;t++)if(s=n[t],s!=="_"){if(!ga(n.charCodeAt(t)))return!1;i=!0}return!(!i||s==="_")}function fa(n){var e=n,t=1,i;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),i=e[0],(i==="-"||i==="+")&&(i==="-"&&(t=-1),e=e.slice(1),i=e[0]),e==="0")return 0;if(i==="0"){if(e[1]==="b")return t*parseInt(e.slice(2),2);if(e[1]==="x")return t*parseInt(e.slice(2),16);if(e[1]==="o")return t*parseInt(e.slice(2),8)}return t*parseInt(e,10)}function ma(n){return Object.prototype.toString.call(n)==="[object Number]"&&n%1===0&&!Ye.isNegativeZero(n)}var ya=new We("tag:yaml.org,2002:int",{kind:"scalar",resolve:ha,construct:fa,predicate:ma,represent:{binary:function(n){return n>=0?"0b"+n.toString(2):"-0b"+n.toString(2).slice(1)},octal:function(n){return n>=0?"0o"+n.toString(8):"-0o"+n.toString(8).slice(1)},decimal:function(n){return n.toString(10)},hexadecimal:function(n){return n>=0?"0x"+n.toString(16).toUpperCase():"-0x"+n.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),ba=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function va(n){return!(n===null||!ba.test(n)||n[n.length-1]==="_")}function wa(n){var e,t;return e=n.replace(/_/g,"").toLowerCase(),t=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?t===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:t*parseFloat(e,10)}var Sa=/^[-+]?[0-9]+e/;function _a(n,e){var t;if(isNaN(n))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===n)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===n)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ye.isNegativeZero(n))return"-0.0";return t=n.toString(10),Sa.test(t)?t.replace("e",".e"):t}function xa(n){return Object.prototype.toString.call(n)==="[object Number]"&&(n%1!==0||Ye.isNegativeZero(n))}var Ea=new We("tag:yaml.org,2002:float",{kind:"scalar",resolve:va,construct:wa,predicate:xa,represent:_a,defaultStyle:"lowercase"}),Ca=na.extend({implicit:[oa,da,ya,Ea]}),ka=Ca,Cs=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),ks=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Pa(n){return n===null?!1:Cs.exec(n)!==null||ks.exec(n)!==null}function Da(n){var e,t,i,s,r,o,a,l=0,c=null,u,g,m;if(e=Cs.exec(n),e===null&&(e=ks.exec(n)),e===null)throw new Error("Date resolve error");if(t=+e[1],i=+e[2]-1,s=+e[3],!e[4])return new Date(Date.UTC(t,i,s));if(r=+e[4],o=+e[5],a=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(u=+e[10],g=+(e[11]||0),c=(u*60+g)*6e4,e[9]==="-"&&(c=-c)),m=new Date(Date.UTC(t,i,s,r,o,a,l)),c&&m.setTime(m.getTime()-c),m}function Ta(n){return n.toISOString()}var Ma=new We("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Pa,construct:Da,instanceOf:Date,represent:Ta});function Na(n){return n==="<<"||n===null}var Aa=new We("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Na}),Pn=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Oa(n){if(n===null)return!1;var e,t,i=0,s=n.length,r=Pn;for(t=0;t<s;t++)if(e=r.indexOf(n.charAt(t)),!(e>64)){if(e<0)return!1;i+=6}return i%8===0}function Ia(n){var e,t,i=n.replace(/[\r\n=]/g,""),s=i.length,r=Pn,o=0,a=[];for(e=0;e<s;e++)e%4===0&&e&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|r.indexOf(i.charAt(e));return t=s%4*6,t===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):t===18?(a.push(o>>10&255),a.push(o>>2&255)):t===12&&a.push(o>>4&255),new Uint8Array(a)}function Ra(n){var e="",t=0,i,s,r=n.length,o=Pn;for(i=0;i<r;i++)i%3===0&&i&&(e+=o[t>>18&63],e+=o[t>>12&63],e+=o[t>>6&63],e+=o[t&63]),t=(t<<8)+n[i];return s=r%3,s===0?(e+=o[t>>18&63],e+=o[t>>12&63],e+=o[t>>6&63],e+=o[t&63]):s===2?(e+=o[t>>10&63],e+=o[t>>4&63],e+=o[t<<2&63],e+=o[64]):s===1&&(e+=o[t>>2&63],e+=o[t<<4&63],e+=o[64],e+=o[64]),e}function La(n){return Object.prototype.toString.call(n)==="[object Uint8Array]"}var Fa=new We("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Oa,construct:Ia,predicate:La,represent:Ra}),$a=Object.prototype.hasOwnProperty,Ua=Object.prototype.toString;function ja(n){if(n===null)return!0;var e=[],t,i,s,r,o,a=n;for(t=0,i=a.length;t<i;t+=1){if(s=a[t],o=!1,Ua.call(s)!=="[object Object]")return!1;for(r in s)if($a.call(s,r))if(!o)o=!0;else return!1;if(!o)return!1;if(e.indexOf(r)===-1)e.push(r);else return!1}return!0}function za(n){return n!==null?n:[]}var Ba=new We("tag:yaml.org,2002:omap",{kind:"sequence",resolve:ja,construct:za}),Va=Object.prototype.toString;function Ya(n){if(n===null)return!0;var e,t,i,s,r,o=n;for(r=new Array(o.length),e=0,t=o.length;e<t;e+=1){if(i=o[e],Va.call(i)!=="[object Object]"||(s=Object.keys(i),s.length!==1))return!1;r[e]=[s[0],i[s[0]]]}return!0}function Ga(n){if(n===null)return[];var e,t,i,s,r,o=n;for(r=new Array(o.length),e=0,t=o.length;e<t;e+=1)i=o[e],s=Object.keys(i),r[e]=[s[0],i[s[0]]];return r}var qa=new We("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Ya,construct:Ga}),Wa=Object.prototype.hasOwnProperty;function Ka(n){if(n===null)return!0;var e,t=n;for(e in t)if(Wa.call(t,e)&&t[e]!==null)return!1;return!0}function Ha(n){return n!==null?n:{}}var Ja=new We("tag:yaml.org,2002:set",{kind:"mapping",resolve:Ka,construct:Ha}),Dn=ka.extend({implicit:[Ma,Aa],explicit:[Fa,Ba,qa,Ja]}),pt=Object.prototype.hasOwnProperty,Qt=1,Ps=2,Ds=3,Zt=4,un=1,Qa=2,Gn=3,Za=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Xa=/[\x85\u2028\u2029]/,el=/[,\[\]\{\}]/,Ts=/^(?:!|!!|![a-z\-]+!)$/i,Ms=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function qn(n){return Object.prototype.toString.call(n)}function it(n){return n===10||n===13}function mt(n){return n===9||n===32}function Qe(n){return n===9||n===32||n===10||n===13}function kt(n){return n===44||n===91||n===93||n===123||n===125}function tl(n){var e;return 48<=n&&n<=57?n-48:(e=n|32,97<=e&&e<=102?e-97+10:-1)}function nl(n){return n===120?2:n===117?4:n===85?8:0}function il(n){return 48<=n&&n<=57?n-48:-1}function Wn(n){return n===48?"\0":n===97?"\x07":n===98?"\b":n===116||n===9?"	":n===110?`
`:n===118?"\v":n===102?"\f":n===114?"\r":n===101?"\x1B":n===32?" ":n===34?'"':n===47?"/":n===92?"\\":n===78?"":n===95?"":n===76?"\u2028":n===80?"\u2029":""}function sl(n){return n<=65535?String.fromCharCode(n):String.fromCharCode((n-65536>>10)+55296,(n-65536&1023)+56320)}var Ns=new Array(256),As=new Array(256);for(var wt=0;wt<256;wt++)Ns[wt]=Wn(wt)?1:0,As[wt]=Wn(wt);function rl(n,e){this.input=n,this.filename=e.filename||null,this.schema=e.schema||Dn,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=n.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Os(n,e){var t={name:n.filename,buffer:n.input.slice(0,-1),position:n.position,line:n.line,column:n.position-n.lineStart};return t.snippet=qo(t),new Je(e,t)}function se(n,e){throw Os(n,e)}function Xt(n,e){n.onWarning&&n.onWarning.call(null,Os(n,e))}var Kn={YAML:function(e,t,i){var s,r,o;e.version!==null&&se(e,"duplication of %YAML directive"),i.length!==1&&se(e,"YAML directive accepts exactly one argument"),s=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),s===null&&se(e,"ill-formed argument of the YAML directive"),r=parseInt(s[1],10),o=parseInt(s[2],10),r!==1&&se(e,"unacceptable YAML version of the document"),e.version=i[0],e.checkLineBreaks=o<2,o!==1&&o!==2&&Xt(e,"unsupported YAML version of the document")},TAG:function(e,t,i){var s,r;i.length!==2&&se(e,"TAG directive accepts exactly two arguments"),s=i[0],r=i[1],Ts.test(s)||se(e,"ill-formed tag handle (first argument) of the TAG directive"),pt.call(e.tagMap,s)&&se(e,'there is a previously declared suffix for "'+s+'" tag handle'),Ms.test(r)||se(e,"ill-formed tag prefix (second argument) of the TAG directive");try{r=decodeURIComponent(r)}catch{se(e,"tag prefix is malformed: "+r)}e.tagMap[s]=r}};function ut(n,e,t,i){var s,r,o,a;if(e<t){if(a=n.input.slice(e,t),i)for(s=0,r=a.length;s<r;s+=1)o=a.charCodeAt(s),o===9||32<=o&&o<=1114111||se(n,"expected valid JSON character");else Za.test(a)&&se(n,"the stream contains non-printable characters");n.result+=a}}function Hn(n,e,t,i){var s,r,o,a;for(Ye.isObject(t)||se(n,"cannot merge mappings; the provided source object is unacceptable"),s=Object.keys(t),o=0,a=s.length;o<a;o+=1)r=s[o],pt.call(e,r)||(e[r]=t[r],i[r]=!0)}function Pt(n,e,t,i,s,r,o,a,l){var c,u;if(Array.isArray(s))for(s=Array.prototype.slice.call(s),c=0,u=s.length;c<u;c+=1)Array.isArray(s[c])&&se(n,"nested arrays are not supported inside keys"),typeof s=="object"&&qn(s[c])==="[object Object]"&&(s[c]="[object Object]");if(typeof s=="object"&&qn(s)==="[object Object]"&&(s="[object Object]"),s=String(s),e===null&&(e={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(r))for(c=0,u=r.length;c<u;c+=1)Hn(n,e,r[c],t);else Hn(n,e,r,t);else!n.json&&!pt.call(t,s)&&pt.call(e,s)&&(n.line=o||n.line,n.lineStart=a||n.lineStart,n.position=l||n.position,se(n,"duplicated mapping key")),s==="__proto__"?Object.defineProperty(e,s,{configurable:!0,enumerable:!0,writable:!0,value:r}):e[s]=r,delete t[s];return e}function Tn(n){var e;e=n.input.charCodeAt(n.position),e===10?n.position++:e===13?(n.position++,n.input.charCodeAt(n.position)===10&&n.position++):se(n,"a line break is expected"),n.line+=1,n.lineStart=n.position,n.firstTabInLine=-1}function Be(n,e,t){for(var i=0,s=n.input.charCodeAt(n.position);s!==0;){for(;mt(s);)s===9&&n.firstTabInLine===-1&&(n.firstTabInLine=n.position),s=n.input.charCodeAt(++n.position);if(e&&s===35)do s=n.input.charCodeAt(++n.position);while(s!==10&&s!==13&&s!==0);if(it(s))for(Tn(n),s=n.input.charCodeAt(n.position),i++,n.lineIndent=0;s===32;)n.lineIndent++,s=n.input.charCodeAt(++n.position);else break}return t!==-1&&i!==0&&n.lineIndent<t&&Xt(n,"deficient indentation"),i}function sn(n){var e=n.position,t;return t=n.input.charCodeAt(e),!!((t===45||t===46)&&t===n.input.charCodeAt(e+1)&&t===n.input.charCodeAt(e+2)&&(e+=3,t=n.input.charCodeAt(e),t===0||Qe(t)))}function Mn(n,e){e===1?n.result+=" ":e>1&&(n.result+=Ye.repeat(`
`,e-1))}function ol(n,e,t){var i,s,r,o,a,l,c,u,g=n.kind,m=n.result,h;if(h=n.input.charCodeAt(n.position),Qe(h)||kt(h)||h===35||h===38||h===42||h===33||h===124||h===62||h===39||h===34||h===37||h===64||h===96||(h===63||h===45)&&(s=n.input.charCodeAt(n.position+1),Qe(s)||t&&kt(s)))return!1;for(n.kind="scalar",n.result="",r=o=n.position,a=!1;h!==0;){if(h===58){if(s=n.input.charCodeAt(n.position+1),Qe(s)||t&&kt(s))break}else if(h===35){if(i=n.input.charCodeAt(n.position-1),Qe(i))break}else{if(n.position===n.lineStart&&sn(n)||t&&kt(h))break;if(it(h))if(l=n.line,c=n.lineStart,u=n.lineIndent,Be(n,!1,-1),n.lineIndent>=e){a=!0,h=n.input.charCodeAt(n.position);continue}else{n.position=o,n.line=l,n.lineStart=c,n.lineIndent=u;break}}a&&(ut(n,r,o,!1),Mn(n,n.line-l),r=o=n.position,a=!1),mt(h)||(o=n.position+1),h=n.input.charCodeAt(++n.position)}return ut(n,r,o,!1),n.result?!0:(n.kind=g,n.result=m,!1)}function al(n,e){var t,i,s;if(t=n.input.charCodeAt(n.position),t!==39)return!1;for(n.kind="scalar",n.result="",n.position++,i=s=n.position;(t=n.input.charCodeAt(n.position))!==0;)if(t===39)if(ut(n,i,n.position,!0),t=n.input.charCodeAt(++n.position),t===39)i=n.position,n.position++,s=n.position;else return!0;else it(t)?(ut(n,i,s,!0),Mn(n,Be(n,!1,e)),i=s=n.position):n.position===n.lineStart&&sn(n)?se(n,"unexpected end of the document within a single quoted scalar"):(n.position++,s=n.position);se(n,"unexpected end of the stream within a single quoted scalar")}function ll(n,e){var t,i,s,r,o,a;if(a=n.input.charCodeAt(n.position),a!==34)return!1;for(n.kind="scalar",n.result="",n.position++,t=i=n.position;(a=n.input.charCodeAt(n.position))!==0;){if(a===34)return ut(n,t,n.position,!0),n.position++,!0;if(a===92){if(ut(n,t,n.position,!0),a=n.input.charCodeAt(++n.position),it(a))Be(n,!1,e);else if(a<256&&Ns[a])n.result+=As[a],n.position++;else if((o=nl(a))>0){for(s=o,r=0;s>0;s--)a=n.input.charCodeAt(++n.position),(o=tl(a))>=0?r=(r<<4)+o:se(n,"expected hexadecimal character");n.result+=sl(r),n.position++}else se(n,"unknown escape sequence");t=i=n.position}else it(a)?(ut(n,t,i,!0),Mn(n,Be(n,!1,e)),t=i=n.position):n.position===n.lineStart&&sn(n)?se(n,"unexpected end of the document within a double quoted scalar"):(n.position++,i=n.position)}se(n,"unexpected end of the stream within a double quoted scalar")}function cl(n,e){var t=!0,i,s,r,o=n.tag,a,l=n.anchor,c,u,g,m,h,d=Object.create(null),f,b,w,S;if(S=n.input.charCodeAt(n.position),S===91)u=93,h=!1,a=[];else if(S===123)u=125,h=!0,a={};else return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=a),S=n.input.charCodeAt(++n.position);S!==0;){if(Be(n,!0,e),S=n.input.charCodeAt(n.position),S===u)return n.position++,n.tag=o,n.anchor=l,n.kind=h?"mapping":"sequence",n.result=a,!0;t?S===44&&se(n,"expected the node content, but found ','"):se(n,"missed comma between flow collection entries"),b=f=w=null,g=m=!1,S===63&&(c=n.input.charCodeAt(n.position+1),Qe(c)&&(g=m=!0,n.position++,Be(n,!0,e))),i=n.line,s=n.lineStart,r=n.position,Mt(n,e,Qt,!1,!0),b=n.tag,f=n.result,Be(n,!0,e),S=n.input.charCodeAt(n.position),(m||n.line===i)&&S===58&&(g=!0,S=n.input.charCodeAt(++n.position),Be(n,!0,e),Mt(n,e,Qt,!1,!0),w=n.result),h?Pt(n,a,d,b,f,w,i,s,r):g?a.push(Pt(n,null,d,b,f,w,i,s,r)):a.push(f),Be(n,!0,e),S=n.input.charCodeAt(n.position),S===44?(t=!0,S=n.input.charCodeAt(++n.position)):t=!1}se(n,"unexpected end of the stream within a flow collection")}function dl(n,e){var t,i,s=un,r=!1,o=!1,a=e,l=0,c=!1,u,g;if(g=n.input.charCodeAt(n.position),g===124)i=!1;else if(g===62)i=!0;else return!1;for(n.kind="scalar",n.result="";g!==0;)if(g=n.input.charCodeAt(++n.position),g===43||g===45)un===s?s=g===43?Gn:Qa:se(n,"repeat of a chomping mode identifier");else if((u=il(g))>=0)u===0?se(n,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?se(n,"repeat of an indentation width identifier"):(a=e+u-1,o=!0);else break;if(mt(g)){do g=n.input.charCodeAt(++n.position);while(mt(g));if(g===35)do g=n.input.charCodeAt(++n.position);while(!it(g)&&g!==0)}for(;g!==0;){for(Tn(n),n.lineIndent=0,g=n.input.charCodeAt(n.position);(!o||n.lineIndent<a)&&g===32;)n.lineIndent++,g=n.input.charCodeAt(++n.position);if(!o&&n.lineIndent>a&&(a=n.lineIndent),it(g)){l++;continue}if(n.lineIndent<a){s===Gn?n.result+=Ye.repeat(`
`,r?1+l:l):s===un&&r&&(n.result+=`
`);break}for(i?mt(g)?(c=!0,n.result+=Ye.repeat(`
`,r?1+l:l)):c?(c=!1,n.result+=Ye.repeat(`
`,l+1)):l===0?r&&(n.result+=" "):n.result+=Ye.repeat(`
`,l):n.result+=Ye.repeat(`
`,r?1+l:l),r=!0,o=!0,l=0,t=n.position;!it(g)&&g!==0;)g=n.input.charCodeAt(++n.position);ut(n,t,n.position,!1)}return!0}function Jn(n,e){var t,i=n.tag,s=n.anchor,r=[],o,a=!1,l;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=r),l=n.input.charCodeAt(n.position);l!==0&&(n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,se(n,"tab characters must not be used in indentation")),!(l!==45||(o=n.input.charCodeAt(n.position+1),!Qe(o))));){if(a=!0,n.position++,Be(n,!0,-1)&&n.lineIndent<=e){r.push(null),l=n.input.charCodeAt(n.position);continue}if(t=n.line,Mt(n,e,Ds,!1,!0),r.push(n.result),Be(n,!0,-1),l=n.input.charCodeAt(n.position),(n.line===t||n.lineIndent>e)&&l!==0)se(n,"bad indentation of a sequence entry");else if(n.lineIndent<e)break}return a?(n.tag=i,n.anchor=s,n.kind="sequence",n.result=r,!0):!1}function ul(n,e,t){var i,s,r,o,a,l,c=n.tag,u=n.anchor,g={},m=Object.create(null),h=null,d=null,f=null,b=!1,w=!1,S;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=g),S=n.input.charCodeAt(n.position);S!==0;){if(!b&&n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,se(n,"tab characters must not be used in indentation")),i=n.input.charCodeAt(n.position+1),r=n.line,(S===63||S===58)&&Qe(i))S===63?(b&&(Pt(n,g,m,h,d,null,o,a,l),h=d=f=null),w=!0,b=!0,s=!0):b?(b=!1,s=!0):se(n,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),n.position+=1,S=i;else{if(o=n.line,a=n.lineStart,l=n.position,!Mt(n,t,Ps,!1,!0))break;if(n.line===r){for(S=n.input.charCodeAt(n.position);mt(S);)S=n.input.charCodeAt(++n.position);if(S===58)S=n.input.charCodeAt(++n.position),Qe(S)||se(n,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(Pt(n,g,m,h,d,null,o,a,l),h=d=f=null),w=!0,b=!1,s=!1,h=n.tag,d=n.result;else if(w)se(n,"can not read an implicit mapping pair; a colon is missed");else return n.tag=c,n.anchor=u,!0}else if(w)se(n,"can not read a block mapping entry; a multiline key may not be an implicit key");else return n.tag=c,n.anchor=u,!0}if((n.line===r||n.lineIndent>e)&&(b&&(o=n.line,a=n.lineStart,l=n.position),Mt(n,e,Zt,!0,s)&&(b?d=n.result:f=n.result),b||(Pt(n,g,m,h,d,f,o,a,l),h=d=f=null),Be(n,!0,-1),S=n.input.charCodeAt(n.position)),(n.line===r||n.lineIndent>e)&&S!==0)se(n,"bad indentation of a mapping entry");else if(n.lineIndent<e)break}return b&&Pt(n,g,m,h,d,null,o,a,l),w&&(n.tag=c,n.anchor=u,n.kind="mapping",n.result=g),w}function pl(n){var e,t=!1,i=!1,s,r,o;if(o=n.input.charCodeAt(n.position),o!==33)return!1;if(n.tag!==null&&se(n,"duplication of a tag property"),o=n.input.charCodeAt(++n.position),o===60?(t=!0,o=n.input.charCodeAt(++n.position)):o===33?(i=!0,s="!!",o=n.input.charCodeAt(++n.position)):s="!",e=n.position,t){do o=n.input.charCodeAt(++n.position);while(o!==0&&o!==62);n.position<n.length?(r=n.input.slice(e,n.position),o=n.input.charCodeAt(++n.position)):se(n,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Qe(o);)o===33&&(i?se(n,"tag suffix cannot contain exclamation marks"):(s=n.input.slice(e-1,n.position+1),Ts.test(s)||se(n,"named tag handle cannot contain such characters"),i=!0,e=n.position+1)),o=n.input.charCodeAt(++n.position);r=n.input.slice(e,n.position),el.test(r)&&se(n,"tag suffix cannot contain flow indicator characters")}r&&!Ms.test(r)&&se(n,"tag name cannot contain such characters: "+r);try{r=decodeURIComponent(r)}catch{se(n,"tag name is malformed: "+r)}return t?n.tag=r:pt.call(n.tagMap,s)?n.tag=n.tagMap[s]+r:s==="!"?n.tag="!"+r:s==="!!"?n.tag="tag:yaml.org,2002:"+r:se(n,'undeclared tag handle "'+s+'"'),!0}function gl(n){var e,t;if(t=n.input.charCodeAt(n.position),t!==38)return!1;for(n.anchor!==null&&se(n,"duplication of an anchor property"),t=n.input.charCodeAt(++n.position),e=n.position;t!==0&&!Qe(t)&&!kt(t);)t=n.input.charCodeAt(++n.position);return n.position===e&&se(n,"name of an anchor node must contain at least one character"),n.anchor=n.input.slice(e,n.position),!0}function hl(n){var e,t,i;if(i=n.input.charCodeAt(n.position),i!==42)return!1;for(i=n.input.charCodeAt(++n.position),e=n.position;i!==0&&!Qe(i)&&!kt(i);)i=n.input.charCodeAt(++n.position);return n.position===e&&se(n,"name of an alias node must contain at least one character"),t=n.input.slice(e,n.position),pt.call(n.anchorMap,t)||se(n,'unidentified alias "'+t+'"'),n.result=n.anchorMap[t],Be(n,!0,-1),!0}function Mt(n,e,t,i,s){var r,o,a,l=1,c=!1,u=!1,g,m,h,d,f,b;if(n.listener!==null&&n.listener("open",n),n.tag=null,n.anchor=null,n.kind=null,n.result=null,r=o=a=Zt===t||Ds===t,i&&Be(n,!0,-1)&&(c=!0,n.lineIndent>e?l=1:n.lineIndent===e?l=0:n.lineIndent<e&&(l=-1)),l===1)for(;pl(n)||gl(n);)Be(n,!0,-1)?(c=!0,a=r,n.lineIndent>e?l=1:n.lineIndent===e?l=0:n.lineIndent<e&&(l=-1)):a=!1;if(a&&(a=c||s),(l===1||Zt===t)&&(Qt===t||Ps===t?f=e:f=e+1,b=n.position-n.lineStart,l===1?a&&(Jn(n,b)||ul(n,b,f))||cl(n,f)?u=!0:(o&&dl(n,f)||al(n,f)||ll(n,f)?u=!0:hl(n)?(u=!0,(n.tag!==null||n.anchor!==null)&&se(n,"alias node should not have any properties")):ol(n,f,Qt===t)&&(u=!0,n.tag===null&&(n.tag="?")),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):l===0&&(u=a&&Jn(n,b))),n.tag===null)n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);else if(n.tag==="?"){for(n.result!==null&&n.kind!=="scalar"&&se(n,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+n.kind+'"'),g=0,m=n.implicitTypes.length;g<m;g+=1)if(d=n.implicitTypes[g],d.resolve(n.result)){n.result=d.construct(n.result),n.tag=d.tag,n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);break}}else if(n.tag!=="!"){if(pt.call(n.typeMap[n.kind||"fallback"],n.tag))d=n.typeMap[n.kind||"fallback"][n.tag];else for(d=null,h=n.typeMap.multi[n.kind||"fallback"],g=0,m=h.length;g<m;g+=1)if(n.tag.slice(0,h[g].tag.length)===h[g].tag){d=h[g];break}d||se(n,"unknown tag !<"+n.tag+">"),n.result!==null&&d.kind!==n.kind&&se(n,"unacceptable node kind for !<"+n.tag+'> tag; it should be "'+d.kind+'", not "'+n.kind+'"'),d.resolve(n.result,n.tag)?(n.result=d.construct(n.result,n.tag),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):se(n,"cannot resolve a node with !<"+n.tag+"> explicit tag")}return n.listener!==null&&n.listener("close",n),n.tag!==null||n.anchor!==null||u}function fl(n){var e=n.position,t,i,s,r=!1,o;for(n.version=null,n.checkLineBreaks=n.legacy,n.tagMap=Object.create(null),n.anchorMap=Object.create(null);(o=n.input.charCodeAt(n.position))!==0&&(Be(n,!0,-1),o=n.input.charCodeAt(n.position),!(n.lineIndent>0||o!==37));){for(r=!0,o=n.input.charCodeAt(++n.position),t=n.position;o!==0&&!Qe(o);)o=n.input.charCodeAt(++n.position);for(i=n.input.slice(t,n.position),s=[],i.length<1&&se(n,"directive name must not be less than one character in length");o!==0;){for(;mt(o);)o=n.input.charCodeAt(++n.position);if(o===35){do o=n.input.charCodeAt(++n.position);while(o!==0&&!it(o));break}if(it(o))break;for(t=n.position;o!==0&&!Qe(o);)o=n.input.charCodeAt(++n.position);s.push(n.input.slice(t,n.position))}o!==0&&Tn(n),pt.call(Kn,i)?Kn[i](n,i,s):Xt(n,'unknown document directive "'+i+'"')}if(Be(n,!0,-1),n.lineIndent===0&&n.input.charCodeAt(n.position)===45&&n.input.charCodeAt(n.position+1)===45&&n.input.charCodeAt(n.position+2)===45?(n.position+=3,Be(n,!0,-1)):r&&se(n,"directives end mark is expected"),Mt(n,n.lineIndent-1,Zt,!1,!0),Be(n,!0,-1),n.checkLineBreaks&&Xa.test(n.input.slice(e,n.position))&&Xt(n,"non-ASCII line breaks are interpreted as content"),n.documents.push(n.result),n.position===n.lineStart&&sn(n)){n.input.charCodeAt(n.position)===46&&(n.position+=3,Be(n,!0,-1));return}if(n.position<n.length-1)se(n,"end of the stream or a document separator is expected");else return}function Is(n,e){n=String(n),e=e||{},n.length!==0&&(n.charCodeAt(n.length-1)!==10&&n.charCodeAt(n.length-1)!==13&&(n+=`
`),n.charCodeAt(0)===65279&&(n=n.slice(1)));var t=new rl(n,e),i=n.indexOf("\0");for(i!==-1&&(t.position=i,se(t,"null byte is not allowed in input")),t.input+="\0";t.input.charCodeAt(t.position)===32;)t.lineIndent+=1,t.position+=1;for(;t.position<t.length-1;)fl(t);return t.documents}function ml(n,e,t){e!==null&&typeof e=="object"&&typeof t>"u"&&(t=e,e=null);var i=Is(n,t);if(typeof e!="function")return i;for(var s=0,r=i.length;s<r;s+=1)e(i[s])}function yl(n,e){var t=Is(n,e);if(t.length!==0){if(t.length===1)return t[0];throw new Je("expected a single document in the stream, but found more")}}var bl=ml,vl=yl,wl={loadAll:bl,load:vl},Rs=Object.prototype.toString,Ls=Object.prototype.hasOwnProperty,Nn=65279,Sl=9,Ft=10,_l=13,xl=32,El=33,Cl=34,bn=35,kl=37,Pl=38,Dl=39,Tl=42,Fs=44,Ml=45,en=58,Nl=61,Al=62,Ol=63,Il=64,$s=91,Us=93,Rl=96,js=123,Ll=124,zs=125,Ke={};Ke[0]="\\0";Ke[7]="\\a";Ke[8]="\\b";Ke[9]="\\t";Ke[10]="\\n";Ke[11]="\\v";Ke[12]="\\f";Ke[13]="\\r";Ke[27]="\\e";Ke[34]='\\"';Ke[92]="\\\\";Ke[133]="\\N";Ke[160]="\\_";Ke[8232]="\\L";Ke[8233]="\\P";var Fl=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],$l=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Ul(n,e){var t,i,s,r,o,a,l;if(e===null)return{};for(t={},i=Object.keys(e),s=0,r=i.length;s<r;s+=1)o=i[s],a=String(e[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=n.compiledTypeMap.fallback[o],l&&Ls.call(l.styleAliases,a)&&(a=l.styleAliases[a]),t[o]=a;return t}function jl(n){var e,t,i;if(e=n.toString(16).toUpperCase(),n<=255)t="x",i=2;else if(n<=65535)t="u",i=4;else if(n<=4294967295)t="U",i=8;else throw new Je("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+t+Ye.repeat("0",i-e.length)+e}var zl=1,$t=2;function Bl(n){this.schema=n.schema||Dn,this.indent=Math.max(1,n.indent||2),this.noArrayIndent=n.noArrayIndent||!1,this.skipInvalid=n.skipInvalid||!1,this.flowLevel=Ye.isNothing(n.flowLevel)?-1:n.flowLevel,this.styleMap=Ul(this.schema,n.styles||null),this.sortKeys=n.sortKeys||!1,this.lineWidth=n.lineWidth||80,this.noRefs=n.noRefs||!1,this.noCompatMode=n.noCompatMode||!1,this.condenseFlow=n.condenseFlow||!1,this.quotingType=n.quotingType==='"'?$t:zl,this.forceQuotes=n.forceQuotes||!1,this.replacer=typeof n.replacer=="function"?n.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Qn(n,e){for(var t=Ye.repeat(" ",e),i=0,s=-1,r="",o,a=n.length;i<a;)s=n.indexOf(`
`,i),s===-1?(o=n.slice(i),i=a):(o=n.slice(i,s+1),i=s+1),o.length&&o!==`
`&&(r+=t),r+=o;return r}function vn(n,e){return`
`+Ye.repeat(" ",n.indent*e)}function Vl(n,e){var t,i,s;for(t=0,i=n.implicitTypes.length;t<i;t+=1)if(s=n.implicitTypes[t],s.resolve(e))return!0;return!1}function tn(n){return n===xl||n===Sl}function Ut(n){return 32<=n&&n<=126||161<=n&&n<=55295&&n!==8232&&n!==8233||57344<=n&&n<=65533&&n!==Nn||65536<=n&&n<=1114111}function Zn(n){return Ut(n)&&n!==Nn&&n!==_l&&n!==Ft}function Xn(n,e,t){var i=Zn(n),s=i&&!tn(n);return(t?i:i&&n!==Fs&&n!==$s&&n!==Us&&n!==js&&n!==zs)&&n!==bn&&!(e===en&&!s)||Zn(e)&&!tn(e)&&n===bn||e===en&&s}function Yl(n){return Ut(n)&&n!==Nn&&!tn(n)&&n!==Ml&&n!==Ol&&n!==en&&n!==Fs&&n!==$s&&n!==Us&&n!==js&&n!==zs&&n!==bn&&n!==Pl&&n!==Tl&&n!==El&&n!==Ll&&n!==Nl&&n!==Al&&n!==Dl&&n!==Cl&&n!==kl&&n!==Il&&n!==Rl}function Gl(n){return!tn(n)&&n!==en}function It(n,e){var t=n.charCodeAt(e),i;return t>=55296&&t<=56319&&e+1<n.length&&(i=n.charCodeAt(e+1),i>=56320&&i<=57343)?(t-55296)*1024+i-56320+65536:t}function Bs(n){var e=/^\n* /;return e.test(n)}var Vs=1,wn=2,Ys=3,Gs=4,Et=5;function ql(n,e,t,i,s,r,o,a){var l,c=0,u=null,g=!1,m=!1,h=i!==-1,d=-1,f=Yl(It(n,0))&&Gl(It(n,n.length-1));if(e||o)for(l=0;l<n.length;c>=65536?l+=2:l++){if(c=It(n,l),!Ut(c))return Et;f=f&&Xn(c,u,a),u=c}else{for(l=0;l<n.length;c>=65536?l+=2:l++){if(c=It(n,l),c===Ft)g=!0,h&&(m=m||l-d-1>i&&n[d+1]!==" ",d=l);else if(!Ut(c))return Et;f=f&&Xn(c,u,a),u=c}m=m||h&&l-d-1>i&&n[d+1]!==" "}return!g&&!m?f&&!o&&!s(n)?Vs:r===$t?Et:wn:t>9&&Bs(n)?Et:o?r===$t?Et:wn:m?Gs:Ys}function Wl(n,e,t,i,s){n.dump=function(){if(e.length===0)return n.quotingType===$t?'""':"''";if(!n.noCompatMode&&(Fl.indexOf(e)!==-1||$l.test(e)))return n.quotingType===$t?'"'+e+'"':"'"+e+"'";var r=n.indent*Math.max(1,t),o=n.lineWidth===-1?-1:Math.max(Math.min(n.lineWidth,40),n.lineWidth-r),a=i||n.flowLevel>-1&&t>=n.flowLevel;function l(c){return Vl(n,c)}switch(ql(e,a,n.indent,o,l,n.quotingType,n.forceQuotes&&!i,s)){case Vs:return e;case wn:return"'"+e.replace(/'/g,"''")+"'";case Ys:return"|"+ei(e,n.indent)+ti(Qn(e,r));case Gs:return">"+ei(e,n.indent)+ti(Qn(Kl(e,o),r));case Et:return'"'+Hl(e)+'"';default:throw new Je("impossible error: invalid scalar style")}}()}function ei(n,e){var t=Bs(n)?String(e):"",i=n[n.length-1]===`
`,s=i&&(n[n.length-2]===`
`||n===`
`),r=s?"+":i?"":"-";return t+r+`
`}function ti(n){return n[n.length-1]===`
`?n.slice(0,-1):n}function Kl(n,e){for(var t=/(\n+)([^\n]*)/g,i=function(){var c=n.indexOf(`
`);return c=c!==-1?c:n.length,t.lastIndex=c,ni(n.slice(0,c),e)}(),s=n[0]===`
`||n[0]===" ",r,o;o=t.exec(n);){var a=o[1],l=o[2];r=l[0]===" ",i+=a+(!s&&!r&&l!==""?`
`:"")+ni(l,e),s=r}return i}function ni(n,e){if(n===""||n[0]===" ")return n;for(var t=/ [^ ]/g,i,s=0,r,o=0,a=0,l="";i=t.exec(n);)a=i.index,a-s>e&&(r=o>s?o:a,l+=`
`+n.slice(s,r),s=r+1),o=a;return l+=`
`,n.length-s>e&&o>s?l+=n.slice(s,o)+`
`+n.slice(o+1):l+=n.slice(s),l.slice(1)}function Hl(n){for(var e="",t=0,i,s=0;s<n.length;t>=65536?s+=2:s++)t=It(n,s),i=Ke[t],!i&&Ut(t)?(e+=n[s],t>=65536&&(e+=n[s+1])):e+=i||jl(t);return e}function Jl(n,e,t){var i="",s=n.tag,r,o,a;for(r=0,o=t.length;r<o;r+=1)a=t[r],n.replacer&&(a=n.replacer.call(t,String(r),a)),(at(n,e,a,!1,!1)||typeof a>"u"&&at(n,e,null,!1,!1))&&(i!==""&&(i+=","+(n.condenseFlow?"":" ")),i+=n.dump);n.tag=s,n.dump="["+i+"]"}function ii(n,e,t,i){var s="",r=n.tag,o,a,l;for(o=0,a=t.length;o<a;o+=1)l=t[o],n.replacer&&(l=n.replacer.call(t,String(o),l)),(at(n,e+1,l,!0,!0,!1,!0)||typeof l>"u"&&at(n,e+1,null,!0,!0,!1,!0))&&((!i||s!=="")&&(s+=vn(n,e)),n.dump&&Ft===n.dump.charCodeAt(0)?s+="-":s+="- ",s+=n.dump);n.tag=r,n.dump=s||"[]"}function Ql(n,e,t){var i="",s=n.tag,r=Object.keys(t),o,a,l,c,u;for(o=0,a=r.length;o<a;o+=1)u="",i!==""&&(u+=", "),n.condenseFlow&&(u+='"'),l=r[o],c=t[l],n.replacer&&(c=n.replacer.call(t,l,c)),at(n,e,l,!1,!1)&&(n.dump.length>1024&&(u+="? "),u+=n.dump+(n.condenseFlow?'"':"")+":"+(n.condenseFlow?"":" "),at(n,e,c,!1,!1)&&(u+=n.dump,i+=u));n.tag=s,n.dump="{"+i+"}"}function Zl(n,e,t,i){var s="",r=n.tag,o=Object.keys(t),a,l,c,u,g,m;if(n.sortKeys===!0)o.sort();else if(typeof n.sortKeys=="function")o.sort(n.sortKeys);else if(n.sortKeys)throw new Je("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)m="",(!i||s!=="")&&(m+=vn(n,e)),c=o[a],u=t[c],n.replacer&&(u=n.replacer.call(t,c,u)),at(n,e+1,c,!0,!0,!0)&&(g=n.tag!==null&&n.tag!=="?"||n.dump&&n.dump.length>1024,g&&(n.dump&&Ft===n.dump.charCodeAt(0)?m+="?":m+="? "),m+=n.dump,g&&(m+=vn(n,e)),at(n,e+1,u,!0,g)&&(n.dump&&Ft===n.dump.charCodeAt(0)?m+=":":m+=": ",m+=n.dump,s+=m));n.tag=r,n.dump=s||"{}"}function si(n,e,t){var i,s,r,o,a,l;for(s=t?n.explicitTypes:n.implicitTypes,r=0,o=s.length;r<o;r+=1)if(a=s[r],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof e=="object"&&e instanceof a.instanceOf)&&(!a.predicate||a.predicate(e))){if(t?a.multi&&a.representName?n.tag=a.representName(e):n.tag=a.tag:n.tag="?",a.represent){if(l=n.styleMap[a.tag]||a.defaultStyle,Rs.call(a.represent)==="[object Function]")i=a.represent(e,l);else if(Ls.call(a.represent,l))i=a.represent[l](e,l);else throw new Je("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');n.dump=i}return!0}return!1}function at(n,e,t,i,s,r,o){n.tag=null,n.dump=t,si(n,t,!1)||si(n,t,!0);var a=Rs.call(n.dump),l=i,c;i&&(i=n.flowLevel<0||n.flowLevel>e);var u=a==="[object Object]"||a==="[object Array]",g,m;if(u&&(g=n.duplicates.indexOf(t),m=g!==-1),(n.tag!==null&&n.tag!=="?"||m||n.indent!==2&&e>0)&&(s=!1),m&&n.usedDuplicates[g])n.dump="*ref_"+g;else{if(u&&m&&!n.usedDuplicates[g]&&(n.usedDuplicates[g]=!0),a==="[object Object]")i&&Object.keys(n.dump).length!==0?(Zl(n,e,n.dump,s),m&&(n.dump="&ref_"+g+n.dump)):(Ql(n,e,n.dump),m&&(n.dump="&ref_"+g+" "+n.dump));else if(a==="[object Array]")i&&n.dump.length!==0?(n.noArrayIndent&&!o&&e>0?ii(n,e-1,n.dump,s):ii(n,e,n.dump,s),m&&(n.dump="&ref_"+g+n.dump)):(Jl(n,e,n.dump),m&&(n.dump="&ref_"+g+" "+n.dump));else if(a==="[object String]")n.tag!=="?"&&Wl(n,n.dump,e,r,l);else{if(a==="[object Undefined]")return!1;if(n.skipInvalid)return!1;throw new Je("unacceptable kind of an object to dump "+a)}n.tag!==null&&n.tag!=="?"&&(c=encodeURI(n.tag[0]==="!"?n.tag.slice(1):n.tag).replace(/!/g,"%21"),n.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",n.dump=c+" "+n.dump)}return!0}function Xl(n,e){var t=[],i=[],s,r;for(Sn(n,t,i),s=0,r=i.length;s<r;s+=1)e.duplicates.push(t[i[s]]);e.usedDuplicates=new Array(r)}function Sn(n,e,t){var i,s,r;if(n!==null&&typeof n=="object")if(s=e.indexOf(n),s!==-1)t.indexOf(s)===-1&&t.push(s);else if(e.push(n),Array.isArray(n))for(s=0,r=n.length;s<r;s+=1)Sn(n[s],e,t);else for(i=Object.keys(n),s=0,r=i.length;s<r;s+=1)Sn(n[i[s]],e,t)}function ec(n,e){e=e||{};var t=new Bl(e);t.noRefs||Xl(n,t);var i=n;return t.replacer&&(i=t.replacer.call({"":i},"",i)),at(t,0,i,!0,!0)?t.dump+`
---`,3);if(e!==-1){const t=n.slice(3,e+1),i=n.slice(e+4);return{frontmatter:t,body:i}}}return{frontmatter:null,body:n}}function Ws(n){if(!n)return null;try{const e=sc(n);return typeof e=="object"&&e!==null?e:{}}catch(e){throw dt.error("[FrontmatterUtils] YAML parse failed:",String(e)),new Error("Malformed frontmatter: "+String(e))}}function oc(n){return rc(n,{schema:ic,noRefs:!0,sortKeys:!1})}async function Wt(n,e){try{try{const o=n.metadataCache.getFileCache(e);if(o&&o.frontmatter&&typeof o.frontmatter=="object"){const a=o.frontmatter[_n];if(typeof a=="string")return a;if(a!=null)return String(a)}}catch(o){dt.debug("[FrontmatterUtils] metadataCache read failed, falling back to file read.",String(o))}const t=await n.vault.read(e),{frontmatter:i}=qs(t);if(!i)return null;const s=Ws(i);if(!s)return null;const r=s[_n];return typeof r=="string"?r:r!=null?String(r):null}catch(t){return dt.error("[FrontmatterUtils] Failed to read mm_uid for file:",e.path,String(t)),null}}async function ac(n,e,t){try{const i=await n.vault.read(e),{frontmatter:s,body:r}=qs(i);let o={};if(s)try{o=Ws(s)||{}}catch(c){throw dt.error("[FrontmatterUtils] Malformed frontmatter when writing mm_uid for",e.path,String(c)),c}o[_n]=t;const l=`---
${oc(o).trimEnd()}
---
${r}`;if(n.vault&&typeof n.vault.modify=="function"){await n.vault.modify(e,l),dt.info("[FrontmatterUtils] Wrote mm_uid to",e.path);return}if(n.vault&&n.vault.adapter&&typeof n.vault.adapter.write=="function"){await n.vault.adapter.write(e.path,l),dt.info("[FrontmatterUtils] Wrote mm_uid to (adapter) ",e.path);return}await Xe.promises.writeFile(e.path,l,{encoding:"utf8"}),dt.info("[FrontmatterUtils] Wrote mm_uid to (fs) ",e.path)}catch(i){throw dt.error("[FrontmatterUtils] Failed to write mm_uid for file:",e.path,String(i)),i}}var rt=(n=>(n.NOT_SYNCED="not-synced",n.SYNCED="synced",n.PRIVATE="private",n.SYNCING="syncing",n.ERROR="error",n))(rt||{});class lc{constructor(e,t,i,s,r){this.activeSyncs=new Map,this.syncQueue=[],this.isProcessingQueue=!1,this.app=e,this.settings=t,this.graphitiService=i,this.syncRegistryService=s,this.logger=r,this.logger.info("SyncStatusManager initialized")}async enqueue(e,t="obsidian_mm_individual"){return new Promise((i,s)=>{const r={file:e,source_description:t,resolve:i,reject:s};this.syncQueue.push(r),this.syncQueue.length===1?this.logger.info(`Starting sync for ${e.name}`):this.logger.info(`Sync queued for ${e.name} (position ${this.syncQueue.length} in queue)`),this.processQueue()})}async processQueue(){if(!(this.isProcessingQueue||this.syncQueue.length===0)){for(this.isProcessingQueue=!0;this.syncQueue.length>0;){const e=this.syncQueue.shift();try{const t=await this.syncNote(e.file,e.source_description);e.resolve(t)}catch(t){e.reject(t)}}this.isProcessingQueue=!1}}updateSettings(e){this.settings=e,this.logger.setDebug(e.enableDebugLogging),this.logger.debug("SyncStatusManager settings updated")}async getNoteSyncStatus(e){var t;try{if(this.activeSyncs.has(e.path))return{status:rt.SYNCING,reason:"Sync operation in progress"};if(this.isNotePrivate(e))return{status:rt.PRIVATE,reason:"Note is marked private or in excluded folder"};const i=await Wt(this.app,e);if(!i)return{status:rt.NOT_SYNCED,reason:"Note has no mm_uid - has not been synced to Graphiti"};const s=this.app.vault.getName(),r=this.getCurrentDatabaseType(),o=this.syncRegistryService.getSyncRecord(i,s);if(o){const a=o.syncs.find(c=>c.database_id===r);if(a){if(a.error_message)return{status:rt.ERROR,reason:`Last sync failed: ${a.error_message}`,lastSynced:a.last_sync,episodeId:a.episode_uuid,syncType:a.source_description};const c=(t=a.source_description)!=null&&t.includes("individual")?"individual sync":"sync";return{status:rt.SYNCED,reason:`Note has been synced to Graphiti (${c})`,lastSynced:a.last_sync,episodeId:a.episode_uuid,syncType:a.source_description}}const l=o.syncs.map(c=>c.database_id).join(", ");return{status:rt.NOT_SYNCED,reason:`Note was synced to other databases (${l}) but not current database (${r})`}}return{status:rt.NOT_SYNCED,reason:`Note has mm_uid (${i}) but no sync record found - may need re-sync`}}catch(i){return this.logger.error("Error determining sync status",{file:e.path,error:i}),{status:rt.ERROR,reason:`Error determining status: ${i instanceof Error?i.message:String(i)}`}}}getStatus(e){var t;try{if(this.activeSyncs.has(e.path))return"SYNCING";if(this.isNotePrivate(e))return"PRIVATE";const i=this.app.metadataCache.getFileCache(e),s=(t=i==null?void 0:i.frontmatter)==null?void 0:t.mm_uid;if(!s||typeof s!="string")return"NOT_SYNCED";const r=this.app.vault.getName(),o=this.getCurrentDatabaseType(),a=this.syncRegistryService.getSyncRecord(s,r);if(a){const l=a.syncs.find(c=>c.database_id===o);return l?l.error_message?"ERROR":"SYNCED":"NOT_SYNCED"}return"NOT_SYNCED"}catch(i){return this.logger.error("Error getting sync status",{file:e.path,error:i}),"ERROR"}}extractMmUidFromSyncResult(e){var t,i,s,r;try{if(e.episode_uuid&&typeof e.episode_uuid=="string")return this.logger.debug(`Extracted mm_uid from top-level episode_uuid: ${e.episode_uuid}`),e.episode_uuid;if(e.notes&&Array.isArray(e.notes))for(const o of e.notes){if(o.episode_uuid&&typeof o.episode_uuid=="string")return this.logger.debug("Extracted mm_uid from notes array episode_uuid",{mmUid:o.episode_uuid}),o.episode_uuid;if((i=(t=o.graphiti_response)==null?void 0:t.episode)!=null&&i.uuid&&typeof o.graphiti_response.episode.uuid=="string")return this.logger.debug("Extracted mm_uid from graphiti_response.episode.uuid",{mmUid:o.graphiti_response.episode.uuid}),o.graphiti_response.episode.uuid}if(e.pythonStdout&&typeof e.pythonStdout=="string"){const o=e.pythonStdout.split(`
`);for(const a of o)if(a.trim())try{const l=JSON.parse(a);if(l.episode_uuid&&typeof l.episode_uuid=="string")return this.logger.debug("Extracted mm_uid from Python stdout top-level",{mmUid:l.episode_uuid}),l.episode_uuid;if(l.notes&&Array.isArray(l.notes))for(const c of l.notes){if(c.episode_uuid&&typeof c.episode_uuid=="string")return this.logger.debug(`Extracted mm_uid from Python stdout notes array: ${c.episode_uuid}`),c.episode_uuid;if((r=(s=c.graphiti_response)==null?void 0:s.episode)!=null&&r.uuid&&typeof c.graphiti_response.episode.uuid=="string")return this.logger.debug(`Extracted mm_uid from Python stdout graphiti_response: ${c.graphiti_response.episode.uuid}`),c.graphiti_response.episode.uuid}}catch{continue}}return this.logger.warn("Could not extract mm_uid from sync result",{result:e}),null}catch(o){return this.logger.error("Error extracting mm_uid from sync result",{error:o,result:e}),null}}isNotePrivate(e){var t;try{if(this.settings.excludedFolders.some(r=>e.path.startsWith(r.endsWith("/")?r:r+"/")))return this.logger.debug("Note is in excluded folder",{file:e.path,excludedFolders:this.settings.excludedFolders}),!0;if(this.settings.includedFolders.length>0&&!this.settings.includedFolders.some(o=>e.path.startsWith(o.endsWith("/")?o:o+"/")))return this.logger.debug("Note is not in included folders",{file:e.path,includedFolders:this.settings.includedFolders}),!0;const s=this.app.metadataCache.getFileCache(e);return((t=s==null?void 0:s.frontmatter)==null?void 0:t.private)===!0?(this.logger.debug("Note marked as private in frontmatter",{file:e.path}),!0):!1}catch(i){return this.logger.error("Error checking if note is private",{file:e.path,error:i}),!1}}getCurrentDatabaseType(){return this.settings.databaseType||"neo4j"}async syncNote(e,t="obsidian_mm_individual"){this.logger.debug("[SYNC-DIAGNOSIS] SyncStatusManager.syncNote() called - this path INCLUDES registry recording");const i=e.path;try{if(this.activeSyncs.has(i))throw new Error("Note is already being synced");if(this.isNotePrivate(e))throw new Error("Cannot sync private note");this.logger.info(`Starting sync for file: ${i}`),this.activeSyncs.set(i,!0);const r=this.app.vault.adapter.basePath,o=this.normalizeNotePath(i,r);this.logger.debug("[SYNC-DIAGNOSIS] Initiating individual note sync",{file:o,vaultPath:r});const a=await this.graphitiService.testManualSync(o,t);if(a.status==="success"){const l=this.extractMmUidFromSyncResult(a);l||this.logger.warn("Sync completed but no mm_uid extracted from result",{file:i,result:a}),await this.updateNoteProperties(e,a,t,l||void 0),this.settings.showNotifications&&new C.Notice(`[SUCCESS] ${e.name} synced successfully`)}else{const l=await Wt(this.app,e),c=this.app.vault.getName(),u=this.getCurrentDatabaseType(),g=a.message||"Sync failed";try{l?await this.syncRegistryService.addOrUpdateSyncRecord({mmUid:l,notePath:e.path,vaultId:c,syncEntry:{database_id:u,group_id:await this.syncRegistryService.generateGroupId(e.path,c),episode_uuid:l,last_sync:new Date().toISOString(),source_description:t,error_message:g}}):await this.syncRegistryService.addOrUpdateSyncRecord({mmUid:`error-${Date.now()}`,notePath:e.path,vaultId:c,syncEntry:{database_id:u,group_id:await this.syncRegistryService.generateGroupId(e.path,c),episode_uuid:`error-${Date.now()}`,last_sync:new Date().toISOString(),source_description:t,error_message:g}})}catch(m){this.logger.error("Failed to record sync error in registry",{error:m,file:i,mmUid:l||"none"})}this.settings.showNotifications&&new C.Notice(`[ERROR] Failed to sync ${e.name}: ${g}`),this.logger.error(`Note sync failed for ${i}: ${a.message||"Unknown error"}`,{mmUid:l||"none"})}return a}catch(s){const r=s instanceof Error?s.message:String(s);return this.settings.showNotifications&&new C.Notice(`[ERROR] Sync error for ${e.name}: ${r}`),this.logger.error("Note sync error",{file:i,error:s}),{status:"error",processed:0,skipped:0,total:1,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:r}}finally{this.activeSyncs.has(i)&&(this.activeSyncs.delete(i),this.logger.debug("[RACE-FIX] Cleaned up activeSyncs in finally block (error case)",{file:i}))}}async updateNoteProperties(e,t,i="obsidian_manual",s){const r=e.path;try{const o=await Wt(this.app,e),a=s||this.extractMmUidFromSyncResult(t);if(!a){this.logger.warn("No mm_uid found in sync result for note properties update",{file:e.path,result:t});return}this.activeSyncs.delete(r);const l=this.app.vault.getName(),c=this.getCurrentDatabaseType(),u=new Date().toISOString();o?(this.logger.debug(`Note already has mm_uid in frontmatter: ${o}, preserving original`),await this.syncRegistryService.addOrUpdateSyncRecord({mmUid:o,notePath:e.path,vaultId:l,syncEntry:{database_id:c,group_id:await this.syncRegistryService.generateGroupId(e.path,l),episode_uuid:a,last_sync:u,source_description:i}}),this.logger.info(`Updated existing sync record for ${e.path} with preserved mm_uid: ${o}`)):(await ac(this.app,e,a),this.logger.debug(`Written mm_uid to frontmatter: ${e.path} -> ${a}`),await this.syncRegistryService.addOrUpdateSyncRecord({mmUid:a,notePath:e.path,vaultId:l,syncEntry:{database_id:c,group_id:await this.syncRegistryService.generateGroupId(e.path,l),episode_uuid:a,last_sync:u,source_description:i}}),this.logger.info(`Created new sync record and frontmatter for ${e.path} with mm_uid: ${a}`))}catch(o){throw this.logger.error(`Failed to update note properties for ${e.path}`,{error:o,mmUid:s||this.extractMmUidFromSyncResult(t)||"none"}),o}}generateEpisodeId(e){if(e.episode_uuid)return this.logger.debug("Generated Episode ID: Top-level episode_uuid found.",{episodeId:e.episode_uuid}),e.episode_uuid;if(e.notes&&Array.isArray(e.notes))for(const r of e.notes){if(r.episode_uuid)return this.logger.debug("Extracted episode UUID from result.notes",{episodeId:r.episode_uuid}),r.episode_uuid;if(r.graphiti_response&&r.graphiti_response.episode&&r.graphiti_response.episode.uuid)return this.logger.debug("Extracted episode UUID from graphiti_response.episode.uuid",{episodeId:r.graphiti_response.episode.uuid}),r.graphiti_response.episode.uuid}if(e.pythonStdout)try{const r=e.pythonStdout.split(`
`);for(const o of r)if(o.trim())try{const a=JSON.parse(o);if(a.notes&&Array.isArray(a.notes))for(const l of a.notes){if(l.episode_uuid)return this.logger.debug("Generated Episode ID: Extracted from Python stdout notes array.",{episodeId:l.episode_uuid}),l.episode_uuid;if(l.graphiti_response&&l.graphiti_response.episode&&l.graphiti_response.episode.uuid)return this.logger.debug("Generated Episode ID: Extracted from Python stdout graphiti_response.episode.uuid in notes array.",{episodeId:l.graphiti_response.episode.uuid}),l.graphiti_response.episode.uuid}if(a.episode_uuid||a.episodeId){const l=a.episode_uuid||a.episodeId;return this.logger.debug("Generated Episode ID: Extracted from Python stdout top-level.",{episodeId:l}),l}}catch{this.logger.debug("generateEpisodeId: Could not parse Python stdout line as JSON (skipping)",{line:o});continue}}catch(r){this.logger.debug("generateEpisodeId: Could not parse episode UUID from Python stdout (overall error).",{error:r})}const t=Date.now(),i=Math.random().toString(36).substring(2,8),s=`episode-${t}-${i}`;return this.logger.warn("Generated Episode ID: Fallback ID generated (UUID not found in result).",{fallbackId:s,originalResult:e}),s}updateFrontmatter(e,t){const i=e.split(`
`);if(i[0]==="---"){let r=-1;for(let o=1;o<i.length;o++)if(i[o]==="---"){r=o;break}if(r!==-1){const o=i.slice(r+1).join(`
`);return`---
${this.serializeFrontmatter(t)}---
${o}`}}return`---
${this.serializeFrontmatter(t)}---
${bodyContent}`}serializeFrontmatter(e){let t="";for(const[i,s]of Object.entries(e))typeof s=="string"?t+=`${i}: "${s}"
`:t+=`${i}: ${s}
`;return t}getActiveSync(e){return this.activeSyncs.has(e)}getActiveSyncs(){return Array.from(this.activeSyncs.keys())}normalizeNotePath(e,t=null){let i=$e.normalize(e);process.platform==="win32"&&i.startsWith("/")&&(i=i.substring(1)),i=i.replace(/\\/g,"/");const s=this.app.vault.getName();if(i.startsWith(s+"/")&&(i=i.substring(s.length+1)),t){let r=$e.resolve(t,i);r=r.replace(/\\/g,"/");const o=r.split("/"),a=[],l=new Set;for(const c of o)c!==""&&(l.has(c)?a[a.length-1]!==c&&a.push(c):(a.push(c),l.add(c)));return r=a.join("/"),process.platform!=="win32"&&!r.startsWith("/")?r=`/${r}`:process.platform==="win32"&&/^[a-zA-Z]:\//.test(r),$e.normalize(r).replace(/\\/g,"/")}return i}destroy(){this.activeSyncs.clear(),this.logger.info("SyncStatusManager destroyed")}}class cc{constructor(e,t,i){this.settings=e,this.app=t,this.logger=i}async resolveFolderForNote(e,t,i){try{if(i){const o=await this.validateAndCreateFolder(i,this.app.vault);return{success:o,folderPath:i,message:o?"Target folder validated":"Failed to validate target folder",created:!1}}const s=this.settings.mcpTools.defaults.inboxFolder||"",r=await this.validateAndCreateFolder(s,this.app.vault);return{success:r,folderPath:s,message:r?"Default folder resolved":"Failed to resolve default folder",created:!1}}catch(s){return this.logger.error("Error resolving folder for note",s),{success:!1,folderPath:"",message:`Error: ${s instanceof Error?s.message:String(s)}`}}}async validateAndCreateFolder(e,t){try{if(!e||e.trim()==="")return this.logger.debug("validateAndCreateFolder: empty folderPath, using vault root"),!0;const i=e.replace(/\\/g,"/").replace(/^\/+|\/+$/g,""),s=t==null?void 0:t.adapter;let r=!1;if(s&&typeof s.exists=="function")try{r=await s.exists(i)}catch(c){this.logger.warn("validateAndCreateFolder: adapter.exists threw, falling back to vault.getAbstractFileByPath",c),r=!1}if(!r)try{r=!!t.getAbstractFileByPath(i)}catch{r=!1}if(r)return this.logger.debug("validateAndCreateFolder: folder exists",{folderPath:i}),!0;const o=i.split("/").filter(Boolean);let a="",l=!1;for(const c of o){a=a?`${a}/${c}`:c;try{let u=!1;s&&typeof s.exists=="function"&&(u=await s.exists(a)),u||(typeof t.createFolder=="function"?(await t.createFolder(a),l=!0,this.logger.info("validateAndCreateFolder: created folder",{path:a})):s&&typeof s.mkdir=="function"?(await s.mkdir(a),l=!0,this.logger.info("validateAndCreateFolder: created folder via adapter.mkdir",{path:a})):this.logger.warn("validateAndCreateFolder: no method to create folder found",{path:a}))}catch(u){return this.logger.error("validateAndCreateFolder: failed to create folder segment",{path:a,error:u}),!1}}return this.logger.debug("validateAndCreateFolder: validation complete",{folderPath:i,created:l}),!0}catch(i){return this.logger.error("validateAndCreateFolder: unexpected error",i),!1}}generatePeriodicNotePath(e,t){const i=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${i}-${s}-${r}.md`}}const St="0.9.5",dc={win32:{x64:`https://github.com/astral-sh/uv/releases/download/${St}/uv-x86_64-pc-windows-msvc.zip`,arm64:`https://github.com/astral-sh/uv/releases/download/${St}/uv-aarch64-pc-windows-msvc.zip`},darwin:{x64:`https://github.com/astral-sh/uv/releases/download/${St}/uv-x86_64-apple-darwin.tar.gz`,arm64:`https://github.com/astral-sh/uv/releases/download/${St}/uv-aarch64-apple-darwin.tar.gz`},linux:{x64:`https://github.com/astral-sh/uv/releases/download/${St}/uv-x86_64-unknown-linux-gnu.tar.gz`,arm64:`https://github.com/astral-sh/uv/releases/download/${St}/uv-aarch64-unknown-linux-gnu.tar.gz`}},uc={win32:{x64:"",arm64:""},darwin:{x64:"",arm64:""},linux:{x64:"",arm64:""}};class jt{constructor(e,t,i){this.plugin=e,this.pluginDir=t,this.settings=i,this.installInProgress=!1,this.logger=new Nt(e,!1),this.logger.init()}async checkAllDependencies(){const e=this.getAppDataPath(),t=$e.join(e,"venv"),i=this.getVenvPython(t),s=await this.findSystemPython(),r=await this.isUvInstalled(),o=this.settings.pythonPath||null,a=await this.pathExists(t),l=a?await this.testVenv(i):!1,c=l;let u=null;if(l)try{u=await this.exec(i,["-c","import importlib.metadata; print(importlib.metadata.version('graphiti-core'))"]),u=u.trim()}catch{u=null}const g=this.detectMismatch({dataJsonPython:o,venvExists:a,venvValid:l,venvPath:i});return{systemPython:s,uvInstalled:r,uvPythonPath:null,dataJsonPython:o,dataJsonMethod:null,venvPath:t,venvExists:a,venvPythonPath:i,venvValid:l,graphitiInstalled:c,graphitiVersion:u,mismatch:g}}async installDependencies(e,t){if(this.installInProgress)throw new Error("Installation already in progress");this.installInProgress=!0;try{const i=this.getAppDataPath(),s=$e.join(i,"venv");this.logger.info("[INFO] Checking disk space",{path:i,requiredMB:500});const r=await this.checkDiskSpace(i,500);if(this.logger.info("[INFO] Disk space check result",{hasSpace:r,path:i}),!r)throw new Error("Insufficient disk space (500MB required)");if(await Xe.promises.mkdir(i,{recursive:!0}),e==="system"){t==null||t("Finding system Python...",10);const l=await this.findSystemPython();if(!l)throw new Error("No Python 3.11+ found on system");this.logger.info("[INFO] Using system Python",{path:l.path,version:l.version}),t==null||t("Creating virtual environment...",30),await this.createVenv(l.path,s)}else t==null||t("Downloading uv package manager...",10),await this.installUv(i),t==null||t("Installing Python 3.11 via uv...",30),await this.runUv(i,["python","install","3.11"]),t==null||t("Creating virtual environment...",50),await this.runUv(i,["venv",s,"--python","3.11","--clear"]);const o=this.getVenvPython(s);if(t==null||t("Installing dependencies...",70),await this.installDeps(e,i,o),t==null||t("Verifying installation...",90),!await this.testVenv(o))throw new Error("Installation validation failed");return t==null||t("Installation complete!",100),this.logger.info("[SUCCESS] Python environment installed",{path:o}),o}catch(i){const s=$e.join(this.getAppDataPath(),"venv");throw await this.pathExists(s)&&(await Xe.promises.rm(s,{recursive:!0,force:!0}),this.logger.info("[INFO] Cleaned up partial installation")),this.logger.error("[ERROR] Installation failed",i),i}finally{this.installInProgress=!1}}async findSystemPython(){const e=this.getPythonCandidates();for(const t of e)try{const i=await this.exec(t,["--version"]),s=i.match(/Python (\d+)\.(\d+)\.(\d+)/);if(s){const[,r,o]=s.map(Number);if(r===3&&o>=11)return{path:t,version:i.trim()}}}catch{continue}return null}async testVenv(e){try{return(await this.exec(e,["-c",'import graphiti_core; print("OK")'])).trim()==="OK"}catch{return!1}}async createVenv(e,t){await this.exec(e,["-m","venv",t])}getVenvPython(e){return process.platform==="win32"?$e.join(e,"Scripts","python.exe"):$e.join(e,"bin","python")}getAppDataPath(){const e=_o.homedir(),t=process.platform;let i;return t==="win32"?i=process.env.LOCALAPPDATA||$e.join(e,"AppData","Local"):t==="darwin"?i=$e.join(e,"Library","Application Support"):i=$e.join(e,".local","share"),$e.join(i,"MegaMem","python")}async isUvInstalled(){const e=this.getAppDataPath(),t=this.getUvPath(e);return await this.pathExists(t)}async installUv(e){var c,u;const t=$e.join(e,"bin");await Xe.promises.mkdir(t,{recursive:!0});const i=process.platform,s=process.arch==="arm64"?"arm64":"x64",r=(c=dc[i])==null?void 0:c[s];if(!r)throw new Error(`Unsupported platform: ${i} ${s}`);const o=r.endsWith(".zip"),a=$e.join(e,o?"uv.zip":"uv.tar.gz");this.logger.info("[INFO] Downloading uv",{url:r}),await this.downloadFile(r,a);const l=(u=uc[i])==null?void 0:u[s];if(l){if(!await this.verifyChecksum(a,l))throw await Xe.promises.unlink(a),new Error("Checksum verification failed for uv download");this.logger.info("[SUCCESS] UV checksum verified")}else this.logger.warn("[WARNING] UV checksum not configured - skipping verification (security risk)");if(o?await this.extractZip(a,t):await this.extractTar(a,t),await Xe.promises.unlink(a),i!=="win32"){const g=this.getUvPath(e);await Xe.promises.chmod(g,493)}this.logger.info("[SUCCESS] uv installed")}async runUv(e,t){const i=this.getUvPath(e);return await this.exec(i,t)}getUvPath(e){const t=process.platform,i=$e.join(e,"bin");return t==="win32"?$e.join(i,"uv.exe"):$e.join(i,"uv")}async exec(e,t){return new Promise((i,s)=>{var l,c;const r=ot.spawn(e,t,{stdio:["ignore","pipe","pipe"]});let o="",a="";(l=r.stdout)==null||l.on("data",u=>{o+=u.toString()}),(c=r.stderr)==null||c.on("data",u=>{a+=u.toString()}),r.on("close",u=>{u===0?i(o):s(new Error(`Command failed: ${e} ${t.join(" ")}
${a}`))}),r.on("error",u=>{s(u)})})}async pathExists(e){try{return await Xe.promises.access(e),!0}catch{return!1}}detectMismatch(e){return e.venvExists?e.venvValid?e.dataJsonPython&&e.dataJsonPython!==e.venvPath?{detected:!0,description:"Configured Python path does not match venv path"}:{detected:!1,description:""}:{detected:!0,description:"Virtual environment exists but is invalid"}:{detected:!1,description:""}}getPythonCandidates(){return process.platform==="win32"?["py","python","python3"]:["python3","python"]}async downloadFile(e,t){const i=require("https"),s=require("fs");return new Promise((r,o)=>{i.get(e,a=>{if(a.statusCode===301||a.statusCode===302)return this.downloadFile(a.headers.location,t).then(r).catch(o);const l=s.createWriteStream(t);a.pipe(l),l.on("finish",()=>{l.close(),r()}),l.on("error",c=>{s.unlink(t,()=>{}),o(c)})}).on("error",o)})}async extractZip(e,t){const{exec:i}=require("child_process"),{promisify:s}=require("util"),r=s(i);process.platform==="win32"?await r(`powershell -command "Expand-Archive -Path '${e}' -DestinationPath '${t}' -Force"`):await r(`unzip -o "${e}" -d "${t}"`)}async extractTar(e,t){await require("tar").x({file:e,cwd:t})}async verifyChecksum(e,t){return new Promise((i,s)=>{const r=xo.createHash("sha256"),a=require("fs").createReadStream(e);a.on("data",l=>r.update(l)),a.on("end",()=>i(r.digest("hex")===t)),a.on("error",s)})}async checkDiskSpace(e,t){try{const i=process.platform,r=await Xe.promises.stat(e).catch(()=>null)?e:$e.dirname(e);if(i==="win32"){const o=await this.exec("wmic",["logicaldisk","get","freespace,caption"]),a=r.charAt(0).toUpperCase();this.logger.info("[INFO] Checking disk space on Windows",{drive:a,checkPath:r});const l=o.split(`
`);for(const c of l)if(c.includes(a+":")){const u=c.trim().split(/\s+/);this.logger.info("[INFO] Found drive line",{line:c,parts:u});const g=parseInt(u[u.length===2?1:0]),m=g>=t*1024*1024;return this.logger.info("[INFO] Disk space calculation",{freeSpace:g,requiredBytes:t*1024*1024,hasEnoughSpace:m}),m}}else{const a=(await this.exec("df",["-k",r])).split(`
`);if(a.length>1){const l=a[1].trim().split(/\s+/);return parseInt(l[3])>=t*1024}}}catch(i){this.logger.warn("[WARNING] Could not check disk space",{error:i})}return!0}async installDeps(e,t,i){const s=$e.resolve(this.pluginDir,"mcp-server","requirements.txt");this.logger.info("[INFO] Installing dependencies",{reqPath:s,pythonPath:i,method:e}),e==="uv"?await this.runUv(t,["pip","install","--python",i,"-r",s]):(await this.exec(i,["-m","pip","install","--upgrade","pip"]),await this.exec(i,["-m","pip","install","-r",s]));try{const r=await this.exec(i,["-c","import importlib.metadata; print(importlib.metadata.version('graphiti-core'))"]);this.logger.info("[SUCCESS] graphiti-core installed",{version:r.trim()})}catch{this.logger.warn("[WARNING] Could not determine graphiti-core version")}}getPythonEnv(){const e=this.getAppDataPath(),t=$e.join(e,"venv"),i=process.platform==="win32"?$e.join(t,"Scripts"):$e.join(t,"bin"),s=this.pluginDir+$e.delimiter+(process.env.PYTHONPATH||"");return{...process.env,PATH:`${i}${$e.delimiter}${process.env.PATH}`,PYTHONPATH:s,PYTHON_EXECUTABLE:this.getVenvPython(t)}}getPythonExecutable(){const e=this.getAppDataPath(),t=$e.join(e,"venv");return this.getVenvPython(t)}}class Ks{constructor(e,t,i,s,r){this.pythonProcess=null,this.mcpServerProcess=null,this.activeProcesses=new Set,this.isCancelled=!1,this.pathCache=new Map,this.cacheHits=0,this.cacheMisses=0,this.lastCacheLogTime=0,this.plugin=e,this.settings=t,this.schemaService=new _s(e.app),this.logger=new Nt(e,t.enableDebugLogging),this.noteSelectionService=new Oo(e.app,e,this.logger),this.syncRegistryService=i,this.syncStatusManager=s,this.vaultRegistryService=r,this.pythonInstaller=new jt(e,this.getPluginDirectory(),{pythonPath:t.pythonPath}),this.logger.info("GraphitiService initialized"),this.logger.logSystemInfo()}invalidatePathCache(e){e?(this.pathCache.delete(e),this.logger.debug(`[PATHS] Invalidated cache for vault: ${e}`)):(this.pathCache.clear(),this.logger.debug("[PATHS] Cleared entire path cache"))}updateSettings(e){this.settings=e,this.logger.setDebug(e.enableDebugLogging),this.logger.debug("Settings updated in GraphitiService",{debugMode:e.enableDebugLogging})}getCurrentEmbeddingDimensions(){return this.settings.embedderProvider==="ollama"?String(this.settings.ollamaEmbeddingDim||768):"1536"}async initialize(){this.vaultRegistryService.onActiveVaultChange(t=>{t?this.invalidatePathCache(t):this.invalidatePathCache(),this.getVaultAwarePaths(t)}),this.vaultRegistryService.onRegistryUpdate(()=>{this.invalidatePathCache()});const e=this.vaultRegistryService.getActiveVaultId();e?this.getVaultAwarePaths(e):this.getVaultAwarePaths(null),this.initializeMCPToolsServices()}initializeMCPToolsServices(){this.mcpFolderResolver=new cc(this.settings,this.plugin.app,this.logger),this.logger.debug("MCP tools services initialized")}getPythonExecutable(){return this.pythonInstaller.getPythonEnv().PYTHON_EXECUTABLE||"python"}getPythonEnv(){return this.pythonInstaller.getPythonEnv()}async resolveMCPNoteFolder(e,t,i){return this.mcpFolderResolver||this.initializeMCPToolsServices(),await this.mcpFolderResolver.resolveFolderForNote(e,t,i)}async syncNotesWithSettings(e,t,i="obsidian_mm_individual"){try{let s;if(e?s=e:this.settings.syncOptions==="new_only"?s=(await this.noteSelectionService.getNotesForAutoSync()).map(l=>l.path):s=(await this.noteSelectionService.getFilteredSyncableNotes()).map(l=>l.path),s.length===0)return{status:"error",processed:0,skipped:0,total:0,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:"No notes available for sync after applying settings filters"};const r={notesPaths:s,batchSize:this.settings.batchSize||10,debug:this.settings.enableDebugLogging,source_description:i,crossEncoderClient:this.settings.crossEncoderClient,crossEncoderModel:this.settings.crossEncoderModel,use_custom_ontology:this.settings.useCustomOntology};this.logger.info("Starting settings-based sync",{totalNotes:s.length,batchSize:r.batchSize,includedFolders:this.settings.includedFolders,excludedFolders:this.settings.excludedFolders});const o=await this.syncNotes(r,t,i);return this.logger.debug(`SYNC_COMPLETE: syncNotesWithSettings() finished - status: ${o.status}, processed: ${o.processed}, skipped: ${o.skipped}, total: ${o.total}, batches: ${o.batchCount}`),o}catch(s){return this.logger.error("Settings-based sync failed",s),{status:"error",processed:0,skipped:0,total:0,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:s instanceof Error?s.message:String(s)}}}async autoSync(e){if(!this.settings.autoSync&&e!=="manual")return{status:"error",processed:0,skipped:0,total:0,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:"Auto-sync is disabled in settings"};let t;e==="manual"?t="obsidian_mm_individual":this.settings.syncOptions==="new_only"?t="obsidian_auto_new":t="obsidian_auto_updated",this.logger.debug("Enhanced auto-sync triggered",{triggerType:e,source_description:t,autoSyncEnabled:this.settings.autoSync,syncOptions:this.settings.syncOptions,syncInterval:this.settings.syncInterval});const i=await this.noteSelectionService.getNotesForAutoSync(this.settings.syncOptions);if(i.length===0)return this.logger.debug("No notes found for auto-sync based on current sync options",{syncOptions:this.settings.syncOptions,triggerType:e,source_description:t}),{status:"success",processed:0,skipped:0,total:0,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:"No notes to sync based on current sync options"};const s=i.map(r=>r.path);return this.logger.debug("Auto-sync processing notes",{triggerType:e,source_description:t,totalNotes:s.length,syncOptions:this.settings.syncOptions,notesSample:s.slice(0,3)}),await this.noteSelectionService.selectNotes(s),this.logger.debug("Auto-sync selected notes into queue for sequential processing",{selectedCount:s.length}),await this.syncSelectedNotes(r=>{this.logger.debug("Enhanced auto-sync progress",{triggerType:e,source_description:t,syncOptions:this.settings.syncOptions,progress:r})},t)}async testConnection(){try{const e=await this.executePythonCommand(["-c",'import sys; import graphiti_core; print(f"Python {sys.version_info.major}.{sys.version_info.minor}, Graphiti installed")']);return e.success&&e.output?{success:!0,message:` Connection successful: ${e.output.trim()}`}:{success:!1,message:` Connection failed: ${e.error||"Unknown error"}`}}catch(e){return{success:!1,message:` Connection test failed: ${e instanceof Error?e.message:String(e)}`}}}async installDependencies(e){return new Promise(t=>{var i,s;try{this.logger.info("Starting dependency installation process");const{pluginDir:r,bridgeDir:o}=this.getVaultAwarePaths(),a=Se.join(o,"install.py");if(this.logger.debug("Installation paths:",{pluginDir:r,bridgePath:o,installPath:a}),!require("fs").existsSync(a)){const x=`Install script not found at: ${a}`;this.logger.error(x),t({success:!1,message:` ${x}`});return}e==null||e("Starting Python dependency installation..."),this.logger.info("Executing Python install script");const c="python",u=[a,"--llm-provider",this.settings.llmProvider,"--embedder-provider",this.settings.embedderProvider];this.logger.debug("Command:",{command:c,args:u});const{spawn:g}=require("child_process"),m=this.getPythonExecutable(),h=this.getPythonEnv(),d=g(m,u,{stdio:["pipe","pipe","pipe"],cwd:o,env:h});let f="",b="",w=Date.now();(i=d.stdout)==null||i.on("data",x=>{const E=x.toString();f+=E,this.logger.logPythonOutput("stdout",E);const D=E.split(`
`);for(const P of D)if(P.trim()){const I=Date.now();I-w>100&&(P.includes("Installing")?e==null||e(`Installing: ${P.trim()}`):P.includes("Downloading")?e==null||e(`Downloading: ${P.trim()}`):P.includes("Collecting")?e==null||e(`Collecting: ${P.trim()}`):P.includes("Building")?e==null||e(`Building: ${P.trim()}`):P.includes("Successfully")?e==null||e(` ${P.trim()}`):P.includes("Requirement already satisfied")?e==null||e(` ${P.trim()}`):P.trim().length>0&&(e==null||e(` ${P.trim()}`)),w=I)}}),(s=d.stderr)==null||s.on("data",x=>{const E=x.toString();b+=E,this.logger.logPythonOutput("stderr",E),E.includes("%")||E.includes("Downloading")||E.includes("Installing")?e==null||e(` ${E.trim()}`):(E.includes("ERROR")||E.includes("error"))&&(this.logger.error("Python error output:",E),e==null||e(` Error: ${E.trim()}`))}),d.on("close",x=>{if(this.logger.debug("Process closed",{exitCode:x}),x===0)e==null||e(" Installation completed successfully!"),this.logger.info("Installation completed successfully"),t({success:!0,message:" Dependencies installed successfully"});else{const E=`Installation failed with code ${x}`;this.logger.error(E,{exitCode:x,stderr:b,stdout:f}),t({success:!1,message:` ${E}: ${b||f||"Unknown error"}`})}}),d.on("error",x=>{this.logger.error("Failed to start Python process",x);let E=x.message;x.message.includes("ENOENT")&&(E="Python not found. Please ensure Python 3.10+ is installed and in your PATH."),t({success:!1,message:` Failed to start installation: ${E}`})});const S=setTimeout(()=>{d.killed||(this.logger.error("Installation timeout - killing process"),d.kill(),t({success:!1,message:" Installation timed out after 10 minutes"}))},6e5);d.on("exit",()=>{clearTimeout(S)})}catch(r){this.logger.error("Installation exception",r),t({success:!1,message:` Installation error: ${r instanceof Error?r.message:String(r)}`})}})}async syncNotes(e,t,i){try{this.logger.debug("SYNC_START: syncNotes() called",{notesCount:e.notesPaths.length,batchSize:e.batchSize,debugMode:e.debug,notesSample:e.notesPaths.slice(0,3),fullNotesPathsCount:e.notesPaths.length});try{const l=this.settings.embeddingModel,c=this.getCurrentEmbeddingDimensions();if(await this.vaultRegistryService.hasEmbeddingModelChanged(l,c)){const g=await this.vaultRegistryService.getEmbeddingModelMismatchDetails(l,c);this.logger.warn("[SYNC] Embedding model change detected before sync",{currentModel:l,currentDimensions:c,storedModel:g==null?void 0:g.storedModel,storedDimensions:g==null?void 0:g.storedDimensions})}}catch(l){this.logger.debug("[SYNC] Embedding model validation error (continuing)",l)}const s=this.validateSyncConfig(e);if(!s.isValid)throw new Error(`Configuration error: ${s.errors.join(", ")}`);const{vaultPath:r}=this.getVaultAwarePaths();this.settings.useCustomOntology?t==null||t({current:5,total:100,message:"Preparing dynamic custom ontology sync...",percentage:5}):t==null||t({current:5,total:100,message:"Using generic episode sync (custom ontology disabled)...",percentage:5});const o=await this.prepareSyncConfig(e,r,i),a=await this.executePythonSync(o,t);return this.logger.debug(`SYNC_COMPLETE: syncNotes() finished - status: ${a.status}, processed: ${a.processed}, skipped: ${a.skipped}, total: ${a.total}, batches: ${a.batchCount}`),a}catch(s){return{status:"error",processed:0,skipped:0,total:e.notesPaths.length,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:s instanceof Error?s.message:String(s)}}}getNoteSelectionService(){return this.noteSelectionService}async syncNotesSequentially(e,t="obsidian_mm_individual"){this.logger.debug("Starting sequential sync"),this.isCancelled=!1;const i=this.noteSelectionService.getSelectedNotePaths();if(!i||i.length===0)return this.logger.warn("No notes found in selection"),{status:"error",processed:0,skipped:0,total:0,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:"No notes selected for sync"};this.logger.debug(`Processing ${i.length} notes sequentially`);let s=0,r=0;const o=[],a=[],{vaultPath:l}=this.getVaultAwarePaths();for(let m=0;m<i.length;m++){if(this.isCancelled)return this.logger.info("[CANCEL] Sequential sync cancelled by user"),{status:"error",processed:s,skipped:r+(i.length-m),total:i.length,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:"Sync cancelled by user"};const h=i[m];e==null||e({current:m,total:i.length,message:`Processing note ${m+1}/${i.length}: ${h}`,percentage:m/i.length*100});try{this.logger.debug(`Processing note ${m+1}/${i.length}: ${h}`);const f=require("path").join(l,h),b=this.plugin.app.vault.getAbstractFileByPath(h);if(!b||!(b instanceof C.TFile)){this.logger.error(`Could not find TFile for path: ${h}`),r++;continue}const w=await this.syncStatusManager.syncNote(b,t);o.push(w),w.status==="success"?(s++,this.logger.info(`Successfully synced note: ${h}`),this.noteSelectionService.deselectNotes([h])):(r++,this.logger.warn(`Failed to sync note: ${h}. Status: ${w.status}, Message: ${w.message}`),w.message&&a.push(`Note '${h}': ${w.message}`))}catch(d){r++;const f=d instanceof Error?d.message:String(d);a.push(`Note '${h}': ${f}`),this.logger.error(`Error syncing note ${h}`,d)}e==null||e({current:m+1,total:i.length,message:`Completed ${h}`,percentage:(m+1)/i.length*100})}const c=s>0?"success":"error",u={status:c,processed:s,skipped:r,total:i.length,batchCount:i.length,nodeTypesLoaded:0,edgeTypesLoaded:0,notes:o,errors:a,hasErrors:a.length>0,message:`Sequential sync completed. Processed: ${s}, Skipped: ${r}.`},g=o.slice(0,5).map(m=>{const h=(m==null?void 0:m.note_path)??(m==null?void 0:m.path)??"",d=(m==null?void 0:m.status)??"unknown",f=(m==null?void 0:m.episode_uuid)??(m==null?void 0:m.episode_id)??"";return{note:h,status:d,episode_uuid:f}});return this.logger.debug("Sequential auto-sync completed",{finalStatus:c,processed:s,skipped:r,total:i.length,notesSample:g}),u}async syncSelectedNotes(e,t="obsidian_mm_quicksync"){this.logger.debug("SYNC_START: syncSelectedNotes() called",{selectedPaths:this.noteSelectionService.getSelectedNotePaths()});const i=this.noteSelectionService.getSelectedNotePaths(),s=await this.noteSelectionService.validateSelection();if(!s.isValid)return{status:"error",processed:0,skipped:i.length,total:i.length,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:`Selection validation failed: ${s.errors.join(", ")}`};const r=await this.syncNotesSequentially(e,t);return this.logger.debug(`SYNC_COMPLETE: syncSelectedNotes() finished - status: ${r.status}, processed: ${r.processed}, skipped: ${r.skipped}, total: ${r.total}`),r}async quickSync(e,t){try{return await this.noteSelectionService.selectAllMatching(e)===0?{status:"error",processed:0,skipped:0,total:0,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:"No notes matched the filter criteria"}:this.syncSelectedNotes(t)}catch(i){return{status:"error",processed:0,skipped:0,total:0,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:i instanceof Error?i.message:String(i)}}}async getSyncStatistics(){const[e,t,i,s]=await Promise.all([this.noteSelectionService.getSelectionSummary(),this.noteSelectionService.validateSelection(),this.noteSelectionService.getAvailableTypes(),this.noteSelectionService.getAvailableTags()]);return{summary:e,validation:t,availableTypes:i,availableTags:s}}cancelSync(){this.logger.info("[CANCEL] Cancelling sync operation - killing all Python processes"),this.isCancelled=!0,this.activeProcesses.forEach(e=>{e.killed||(this.logger.debug("[CANCEL] Killing tracked Python process",{pid:e.pid}),e.kill("SIGTERM"))}),this.activeProcesses.clear(),this.pythonProcess&&(this.logger.debug("[CANCEL] Killing main Python process",{pid:this.pythonProcess.pid}),this.pythonProcess.kill("SIGTERM"),this.pythonProcess=null)}getPluginDirectory(){return this.getVaultAwarePaths().pluginDir}findDuplicatePathSegments(e){const t=Math.floor(e.length/2);if(t>0){let i=!0;for(let s=0;s<t;s++)if(e[s]!==e[s+t]){i=!1;break}if(i)return t}for(let i=1;i<e.length;i++)for(let s=i+1;s<e.length;s++)if(e[i]===e[s]){let r=1;for(;i+r<s&&s+r<e.length&&e[i+r]===e[s+r];)r++;if(r>=2&&s+r>=e.length)return s}return-1}getVaultPathFallback(){const e=this.getVaultAwarePaths(null);return this.logger.debug("Vault Path Fallback Resolution",{vaultPath:e.vaultPath,pluginDir:e.pluginDir,resolvedAt:e.resolvedAt}),e.vaultPath}getVaultAwarePaths(e){const t=Yt.performance.now(),i=e||this.vaultRegistryService.getActiveVaultId()||"default";if(this.pathCache.has(i)){const o=this.pathCache.get(i);return this.cacheHits++,(Yt.performance.now()-t).toFixed(2),this.logCacheMetrics(i),o}this.cacheMisses++;const s=this.resolvePathsForVault(i);this.pathCache.set(i,s);const r=(Yt.performance.now()-t).toFixed(2);return this.logger.debug(`[CACHE_MISS] Vault: ${i}, Time: ${r}ms. Paths resolved.`),this.logCacheMetrics(i),s}resolvePathsForVault(e){const t=require("fs"),i=require("path");if(!e)throw this.logger.error("[PATHS] Invalid vault ID provided for path resolution"),new Error("Cannot resolve paths: Invalid vault ID");const s=this.vaultRegistryService.getVault(e);let r;s!=null&&s.path?(r=s.path,this.logger.debug("[PATHS] Vault path resolved from registry/fallback for vault ID: "+e+".")):(r=this.plugin.app.vault.adapter.basePath,this.logger.warn("[PATHS] Using internal adapter.basePath as fallback for vault path. Vault not found in registry.",{vaultId:e,path:r}));let o=i.normalize(r);const a=o.split(i.sep),l=this.findDuplicatePathSegments(a);l!==-1&&(o=a.slice(0,l).join(i.sep),this.logger.warn(" Fixed duplicated vault path during resolution",{original:r,normalized:o,fixed:o,duplicateStartIndex:l}));let c=null,u=null;const g=this.plugin.manifest.id||"megamem-mcp",m=Se.join(o,".obsidian","plugins",g),h=Se.join(m,"graphiti_bridge");if(t.existsSync(h)&&(c=m,u=h),!c){const f=i.resolve(o,".."),b=Se.join(f,"graphiti_bridge");t.existsSync(b)&&(c=f,u=b)}if(!c){const f=Se.join(o,"graphiti_bridge");t.existsSync(f)&&(c=o,u=f)}if(!c){const f=this.plugin.manifest.dir||"";if(f){const b=f,w=Se.join(b,"graphiti_bridge");t.existsSync(w)&&(c=b,u=w)}}if(!c||!u){const f=` Critical path resolution failure for vault ID "${e}". Could not locate required plugin or bridge directories.`;throw this.logger.error(f,{vaultPath:o,pluginManifestDir:this.plugin.manifest.dir,pluginId:g,activeVaultDetails:s}),new Error(f)}return t.existsSync(o)||this.logger.warn("[PATHS] Vault path does not exist resolved during final check",{vaultPath:o}),t.existsSync(c)||this.logger.warn("[PATHS] Plugin directory does not exist resolved during final check",{pluginDir:c}),t.existsSync(u)||this.logger.warn("[PATHS] Bridge directory does not exist resolved during final check",{bridgeDir:u}),{pluginDir:c,vaultPath:o,bridgeDir:u,resolvedAt:new Date().toISOString()}}sanitizeConfigForLogging(e){const t={...e};return t.llm_api_key&&(t.llm_api_key="***"),t.embedder_api_key&&(t.embedder_api_key="***"),t.api_keys&&(t.api_keys=Object.keys(t.api_keys).reduce((i,s)=>(i[s]=t.api_keys[s]?"***":null,i),{})),t.database_password&&(t.database_password="***"),t}getApiKeyForProvider(e){switch(e){case"openai":return this.settings.apiKeys.openai;case"anthropic":return this.settings.apiKeys.anthropic;case"google":return this.settings.apiKeys.google;case"azure":return this.settings.apiKeys.azure;case"groq":return this.settings.apiKeys.groq;case"voyage":return this.settings.apiKeys.voyage;case"venice":return this.settings.apiKeys.venice;case"openrouter":return this.settings.apiKeys.openrouter;case"ollama":return"not-required";default:return}}getDatabaseConfig(){return this.settings.databaseType==="neo4j"?this.settings.databaseConfigs.neo4j:this.settings.databaseType==="falkordb"?this.settings.databaseConfigs.falkordb:null}prepareDatabaseConfig(){const e=this.getDatabaseConfig();if(!e)throw new Error(`No database configuration found for type: ${this.settings.databaseType}`);if(this.settings.databaseType==="neo4j")return{database_url:e.uri,database_username:e.username,database_password:e.password,database_name:e.database};if(this.settings.databaseType==="falkordb")return{database_url:`redis://${e.host}:${e.port}`,database_username:e.username||null,database_password:e.password||null,database_name:e.database};throw new Error(`Unsupported database type: ${this.settings.databaseType}`)}validateSyncConfig(e){const t=[];(!e.notesPaths||e.notesPaths.length===0)&&t.push("No notes selected for sync"),e.batchSize<=0&&t.push("Batch size must be greater than 0"),this.settings.llmProvider||t.push("LLM provider not configured"),this.getApiKeyForProvider(this.settings.llmProvider)||t.push(`API key not configured for LLM provider: ${this.settings.llmProvider}`),this.settings.embedderProvider||t.push("Embedder provider not configured");const s=this.getDatabaseConfig();return s?this.settings.databaseType==="neo4j"?s.uri||t.push("Neo4j URI not configured"):this.settings.databaseType==="falkordb"&&(s.host||t.push("FalkorDB host not configured"),s.port||t.push("FalkorDB port not configured")):t.push(`Database configuration not found for type: ${this.settings.databaseType}`),{isValid:t.length===0,errors:t}}async prepareSyncConfig(e,t,i){const s=t||this.getVaultPathFallback(),r=this.plugin.settings,o=[];for(const l of e.notesPaths)try{const c=this.plugin.app.vault.getName();let u=this.syncStatusManager.normalizeNotePath(l,s);$e.isAbsolute(u)&&s?u=$e.relative(s,u).replace(/\\/g,"/"):u=u.replace(/\\/g,"/");const g=this.plugin.app.vault.getAbstractFileByPath(u);if(g&&g instanceof C.TFile){const m=await Wt(this.plugin.app,g);if(m){o.push(m),this.logger.debug("Retrieved previous episode UUID from frontmatter",{notePath:l,vaultRelativePath:u,mmUid:m});continue}}this.logger.debug("No previous episode UUID found - new note will get fresh episode",{notePath:l,vaultRelativePath:u})}catch(c){this.logger.debug("Error retrieving episode UUID for note",{notePath:l,error:c})}const a={llm_provider:r.llmProvider,llm_api_key:this.getApiKeyForProvider(r.llmProvider),llm_model:r.llmModel,llm_small_model:r.llmSmallModel,azure_endpoint:r.azureEndpoint,azure_api_version:r.azureApiVersion,ollama_base_url:r.ollamaBaseUrl,openrouter_preset_slug:r.openrouterPresetSlug,openrouter_use_preset_with_custom_model:r.openrouterUsePresetWithCustomModel,embedder_provider:r.embedderProvider,embedder_api_key:this.getApiKeyForProvider(r.embedderProvider),embedding_model:r.embeddingModel,api_keys:r.apiKeys,database_type:r.databaseType,...this.prepareDatabaseConfig(),use_custom_ontology:r.useCustomOntology,default_namespace:r.defaultNamespace,enable_folder_namespacing:r.enableFolderNamespacing,enable_property_namespacing:r.enablePropertyNamespacing,namespace_strategy:r.namespaceStrategy,folder_namespace_mappings:r.folderNamespaceMappings,notes:e.notesPaths,batch_size:e.batchSize,debug:r.enableDebugLogging,vault_path:s,source_description:i||e.source_description||"obsidian_mm_individual",cross_encoder_client:e.crossEncoderClient||r.crossEncoderClient||"none",cross_encoder_model:r.crossEncoderClient==="bge"||r.crossEncoderClient==="none"?void 0:e.crossEncoderModel||r.crossEncoderModel,previous_episode_uuids:o};return this.logger.info(`Sync configuration prepared: Total notes: ${e.notesPaths.length}, Previous episodes: ${o.length}, First time sync: ${e.notesPaths.length-o.length}`),a}async executePythonSync(e,t){if(this.settings.experimentalDaemonMode&&this.plugin.pythonDaemonBridge)return this.logger.info("Using daemon mode for sync"),await this.executeDaemonSync(e,t);this.logger.info("Using traditional sync mode");const{bridgeDir:i}=this.getVaultAwarePaths();Se.join(i,"sync.py");let s=[];Array.isArray(e.notes)&&e.notes.length>0?s=e.notes:Array.isArray(e.notesPaths)&&e.notesPaths.length>0?s=e.notesPaths:typeof e.notes=="string"&&(s=[e.notes]);const r=h=>new Promise(d=>{var f,b,w,S;try{const{pluginDir:x}=this.getVaultAwarePaths(),E=this.getPythonExecutable(),D=this.getPythonEnv();this.pythonProcess=ot.spawn(E,["-m","graphiti_bridge.sync","--vault-path",h.vault_path,"--plugin-data-path",x],{cwd:x,stdio:["pipe","pipe","pipe"],env:D}),this.activeProcesses.add(this.pythonProcess),(f=this.pythonProcess.stdin)==null||f.write(JSON.stringify(h)),(b=this.pythonProcess.stdin)==null||b.end();let P="",I="";(w=this.pythonProcess.stdout)==null||w.on("data",M=>{const N=M.toString();P+=N,this.settings.enableDebugLogging&&this.logger.logPythonOutput("stdout",N)}),(S=this.pythonProcess.stderr)==null||S.on("data",M=>{const N=M.toString();I+=N,this.logger.logPythonOutput("stderr",N)}),this.pythonProcess.on("close",M=>{if(this.activeProcesses.delete(this.pythonProcess),this.pythonProcess=null,M===0)try{const N=JSON.parse(P.trim());if(N._diagnostics&&Array.isArray(N._diagnostics))for(const T of N._diagnostics)this.logger.info(`[PYTHON-DIAGNOSTICS] ${T}`);d({success:!0,result:N,stdout:P,stderr:I,exitCode:M})}catch(N){d({success:!1,stdout:P,stderr:I||String(N),exitCode:M})}else d({success:!1,stdout:P,stderr:I,exitCode:M})}),this.pythonProcess.on("error",M=>{this.pythonProcess&&this.activeProcesses.delete(this.pythonProcess),this.pythonProcess=null,d({success:!1,stdout:void 0,stderr:M.message,exitCode:-1})})}catch(x){this.pythonProcess=null,d({success:!1,stdout:void 0,stderr:x instanceof Error?x.message:String(x),exitCode:-1})}});if(s.length<=1){const h=s.length===1?s[0]:Array.isArray(e.notes)&&e.notes.length>0?e.notes[0]:void 0;let d;if(h)try{d=await this.syncRegistryService.generateGroupId(h,this.plugin.app.vault.getName())}catch{}const f={...e,...d?{group_id:d}:{},notes:s.length===1?s:e.notes},b=await r(f);if(b.success&&b.result){if(b.result.status==="rate_limited"){const w=b.result.retry_after||60,S=b.result.reset_time,x=b.result.provider_message||"API rate limit exceeded";let E="Rate limit exceeded - sync paused";if(S){const D=new Date(S);E+=` until ${D.toLocaleString()}`}else E+=` for ${Math.round(w/60)} minutes`;return this.logger.warn("Rate limit detected in single sync - pausing",{retryAfter:w,resetTime:S,providerMessage:x,pauseMessage:E}),{status:"error",processed:0,skipped:1,total:1,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:E}}return b.result}else{const w=`Python sync failed${b.exitCode!==void 0?` with exit code ${b.exitCode}`:""}: ${b.stderr||b.stdout||"Unknown error"}`,S=b.stderr?b.stderr.split(`
`)[0]:"Unknown error";return this.logger.error("Python sync process failed",{exitCode:b.exitCode,stderr:S,stderrLength:b.stderr?b.stderr.length:0}),{status:"error",processed:0,skipped:s.length||1,total:s.length||1,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:w}}}let o=0,a=0,l=0,c=0;const u=[],g=[];for(let h=0;h<s.length;h++){if(this.isCancelled)return this.logger.info("[CANCEL] Sequential sync cancelled by user"),{status:"error",processed:o,skipped:a+(s.length-h),total:s.length,batchCount:s.length,nodeTypesLoaded:l,edgeTypesLoaded:c,errors:[...u,"Sync cancelled by user"],hasErrors:!0,notes:g};const d=s[h];t==null||t({current:h,total:s.length,message:`Processing note ${h+1}/${s.length}: ${d}`,percentage:h/s.length*100});let f;try{f=await this.syncRegistryService.generateGroupId(d,this.plugin.app.vault.getName())}catch{}const b={...e,...f?{group_id:f}:{},notes:[d],batch_size:1,notesPaths:[d]},w=await r(b);if(w.success&&w.result){const S=w.result;if(S.status==="rate_limited"){a++;const x=S.retry_after||60,E=S.reset_time,D=S.provider_message||"API rate limit exceeded";let P="Rate limit exceeded - sync paused";if(E){const M=new Date(E);P+=` until ${M.toLocaleString()}`}else P+=` for ${Math.round(x/60)} minutes`;u.push(`Note ${d}: ${P}`),this.logger.warn("Rate limit detected - sync pausing",{note:d,retryAfter:x,resetTime:E,providerMessage:D,pauseMessage:P}),t==null||t({current:h,total:s.length,message:P,percentage:h/s.length*100}),g.push(S);const I=x>300?3e4:Math.min(x*1e3,1e4);await new Promise(M=>setTimeout(M,I)),t==null||t({current:h,total:s.length,message:"Resuming sync after rate limit pause...",percentage:h/s.length*100})}else S.status==="success"?o++:(a++,u.push(`Note ${d}: ${S.message||"failed"}`));typeof S.nodeTypesLoaded=="number"&&(l+=S.nodeTypesLoaded),typeof S.edgeTypesLoaded=="number"&&(c+=S.edgeTypesLoaded),g.push(S)}else{a++;const S=`Python sync failed for note ${d} (exitCode=${w.exitCode}): ${w.stderr||w.stdout||""}`;u.push(S);const x=w.stderr?w.stderr.split(`
`)[0]:"Unknown error";this.logger.error("Python sync failed for note",{note:d,exitCode:w.exitCode,stderr:x,stderrLength:w.stderr?w.stderr.length:0})}t==null||t({current:h+1,total:s.length,message:`Completed ${d}`,percentage:(h+1)/s.length*100}),await new Promise(S=>setTimeout(S,500))}return{status:o>0?"success":"error",processed:o,skipped:a,total:s.length,batchCount:s.length,nodeTypesLoaded:l,edgeTypesLoaded:c,errors:u,hasErrors:u.length>0,notes:g}}async executeDaemonSync(e,t){const i=this.plugin.pythonDaemonBridge;if(!i)return this.logger.error("Daemon bridge not available, falling back to traditional sync"),await this.executeTraditionalSync(e,t);let s=[];Array.isArray(e.notes)&&e.notes.length>0?s=e.notes:Array.isArray(e.notesPaths)&&e.notesPaths.length>0?s=e.notesPaths:typeof e.notes=="string"&&(s=[e.notes]);try{if(s.length<=1){const r=await i.executeDaemonSync(e);return this.parseDaemonSyncResult(r)}else{let r=0,o=0,a=0,l=0;const c=[],u=[];for(let m=0;m<s.length;m++){if(this.isCancelled)return{status:"error",processed:r,skipped:o+(s.length-m),total:s.length,batchCount:s.length,nodeTypesLoaded:a,edgeTypesLoaded:l,errors:[...c,"Sync cancelled by user"],hasErrors:!0,notes:u};const h=s[m];t==null||t({current:m,total:s.length,message:`Processing note ${m+1}/${s.length}: ${h}`,percentage:m/s.length*100});const d={...e,notes:[h],batch_size:1,notesPaths:[h]};try{const f=await i.executeDaemonSync(d),b=this.parseDaemonSyncResult(f);b.status==="success"?r++:(o++,c.push(`Note ${h}: ${b.message||"failed"}`)),typeof b.nodeTypesLoaded=="number"&&(a+=b.nodeTypesLoaded),typeof b.edgeTypesLoaded=="number"&&(l+=b.edgeTypesLoaded),u.push(b)}catch(f){o++;const b=`Daemon sync failed for note ${h}: ${f instanceof Error?f.message:String(f)}`;c.push(b),this.logger.error("Daemon sync failed for note",{note:h,error:f})}t==null||t({current:m+1,total:s.length,message:`Completed ${h}`,percentage:(m+1)/s.length*100}),await new Promise(f=>setTimeout(f,500))}return{status:r>0?"success":"error",processed:r,skipped:o,total:s.length,batchCount:s.length,nodeTypesLoaded:a,edgeTypesLoaded:l,errors:c,hasErrors:c.length>0,notes:u}}}catch(r){return this.logger.error("Daemon sync failed, falling back to traditional sync",r),await this.executeTraditionalSync(e,t)}}parseDaemonSyncResult(e){if(typeof e=="string")try{e=JSON.parse(e)}catch{return{status:"error",processed:0,skipped:1,total:1,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:"Failed to parse daemon result"}}return{status:e.status||"error",processed:e.status==="success"?1:0,skipped:e.status==="success"?0:1,total:1,batchCount:1,nodeTypesLoaded:e.nodeTypesLoaded||0,edgeTypesLoaded:e.edgeTypesLoaded||0,message:e.message,notes:[e]}}async executeTraditionalSync(e,t){const{bridgeDir:i}=this.getVaultAwarePaths();Se.join(i,"sync.py");let s=[];Array.isArray(e.notes)&&e.notes.length>0?s=e.notes:Array.isArray(e.notesPaths)&&e.notesPaths.length>0?s=e.notesPaths:typeof e.notes=="string"&&(s=[e.notes]);const r=h=>new Promise(d=>{var f,b,w,S;try{const{pluginDir:x}=this.getVaultAwarePaths(),E=this.getPythonExecutable(),D=this.getPythonEnv();this.pythonProcess=ot.spawn(E,["-m","graphiti_bridge.sync","--vault-path",h.vault_path,"--plugin-data-path",x],{cwd:x,stdio:["pipe","pipe","pipe"],env:D}),this.activeProcesses.add(this.pythonProcess),(f=this.pythonProcess.stdin)==null||f.write(JSON.stringify(h)),(b=this.pythonProcess.stdin)==null||b.end();let P="",I="";(w=this.pythonProcess.stdout)==null||w.on("data",M=>{const N=M.toString();P+=N,this.settings.enableDebugLogging&&this.logger.logPythonOutput("stdout",N)}),(S=this.pythonProcess.stderr)==null||S.on("data",M=>{const N=M.toString();I+=N,this.logger.logPythonOutput("stderr",N)}),this.pythonProcess.on("close",M=>{if(this.activeProcesses.delete(this.pythonProcess),this.pythonProcess=null,M===0)try{const N=JSON.parse(P.trim());if(N._diagnostics&&Array.isArray(N._diagnostics))for(const T of N._diagnostics)this.logger.info(`[PYTHON-DIAGNOSTICS] ${T}`);d({success:!0,result:N,stdout:P,stderr:I,exitCode:M})}catch(N){d({success:!1,stdout:P,stderr:I||String(N),exitCode:M})}else d({success:!1,stdout:P,stderr:I,exitCode:M})}),this.pythonProcess.on("error",M=>{this.pythonProcess&&this.activeProcesses.delete(this.pythonProcess),this.pythonProcess=null,d({success:!1,stdout:void 0,stderr:M.message,exitCode:-1})})}catch(x){this.pythonProcess=null,d({success:!1,stdout:void 0,stderr:x instanceof Error?x.message:String(x),exitCode:-1})}});if(s.length<=1){const h=s.length===1?s[0]:Array.isArray(e.notes)&&e.notes.length>0?e.notes[0]:void 0;let d;if(h)try{d=await this.syncRegistryService.generateGroupId(h,this.plugin.app.vault.getName())}catch{}const f={...e,...d?{group_id:d}:{},notes:s.length===1?s:e.notes},b=await r(f);if(b.success&&b.result){if(b.result.status==="rate_limited"){const w=b.result.retry_after||60,S=b.result.reset_time,x=b.result.provider_message||"API rate limit exceeded";let E="Rate limit exceeded - sync paused";if(S){const D=new Date(S);E+=` until ${D.toLocaleString()}`}else E+=` for ${Math.round(w/60)} minutes`;return this.logger.warn("Rate limit detected in single sync - pausing",{retryAfter:w,resetTime:S,providerMessage:x,pauseMessage:E}),{status:"error",processed:0,skipped:1,total:1,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:E}}return b.result}else{const w=`Python sync failed${b.exitCode!==void 0?` with exit code ${b.exitCode}`:""}: ${b.stderr||b.stdout||"Unknown error"}`,S=b.stderr?b.stderr.split(`
`)[0]:"Unknown error";return this.logger.error("Python sync process failed",{exitCode:b.exitCode,stderr:S,stderrLength:b.stderr?b.stderr.length:0}),{status:"error",processed:0,skipped:s.length||1,total:s.length||1,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:w}}}let o=0,a=0,l=0,c=0;const u=[],g=[];for(let h=0;h<s.length;h++){if(this.isCancelled)return this.logger.info("[CANCEL] Sequential sync cancelled by user"),{status:"error",processed:o,skipped:a+(s.length-h),total:s.length,batchCount:s.length,nodeTypesLoaded:l,edgeTypesLoaded:c,errors:[...u,"Sync cancelled by user"],hasErrors:!0,notes:g};const d=s[h];t==null||t({current:h,total:s.length,message:`Processing note ${h+1}/${s.length}: ${d}`,percentage:h/s.length*100});let f;try{f=await this.syncRegistryService.generateGroupId(d,this.plugin.app.vault.getName())}catch{}const b={...e,...f?{group_id:f}:{},notes:[d],batch_size:1,notesPaths:[d]},w=await r(b);if(w.success&&w.result){const S=w.result;if(S.status==="rate_limited"){a++;const x=S.retry_after||60,E=S.reset_time,D=S.provider_message||"API rate limit exceeded";let P="Rate limit exceeded - sync paused";if(E){const M=new Date(E);P+=` until ${M.toLocaleString()}`}else P+=` for ${Math.round(x/60)} minutes`;u.push(`Note ${d}: ${P}`),this.logger.warn("Rate limit detected - sync pausing",{note:d,retryAfter:x,resetTime:E,providerMessage:D,pauseMessage:P}),t==null||t({current:h,total:s.length,message:P,percentage:h/s.length*100}),g.push(S);const I=x>300?3e4:Math.min(x*1e3,1e4);await new Promise(M=>setTimeout(M,I)),t==null||t({current:h,total:s.length,message:"Resuming sync after rate limit pause...",percentage:h/s.length*100})}else S.status==="success"?o++:(a++,u.push(`Note ${d}: ${S.message||"failed"}`));typeof S.nodeTypesLoaded=="number"&&(l+=S.nodeTypesLoaded),typeof S.edgeTypesLoaded=="number"&&(c+=S.edgeTypesLoaded),g.push(S)}else{a++;const S=`Python sync failed for note ${d} (exitCode=${w.exitCode}): ${w.stderr||w.stdout||""}`;u.push(S);const x=w.stderr?w.stderr.split(`
`)[0]:"Unknown error";this.logger.error("Python sync failed for note",{note:d,exitCode:w.exitCode,stderr:x,stderrLength:w.stderr?w.stderr.length:0})}t==null||t({current:h+1,total:s.length,message:`Completed ${d}`,percentage:(h+1)/s.length*100}),await new Promise(S=>setTimeout(S,500))}return{status:o>0?"success":"error",processed:o,skipped:a,total:s.length,batchCount:s.length,nodeTypesLoaded:l,edgeTypesLoaded:c,errors:u,hasErrors:u.length>0,notes:g}}async executePythonCommand(e){return new Promise(t=>{var l,c;const i=this.getPythonExecutable(),s=this.getPythonEnv(),r=ot.spawn(i,e,{stdio:["pipe","pipe","pipe"],env:s});let o="",a="";(l=r.stdout)==null||l.on("data",u=>{o+=u.toString()}),(c=r.stderr)==null||c.on("data",u=>{a+=u.toString()}),r.on("close",u=>{t({success:u===0,output:o.trim(),error:a.trim()})}),r.on("error",u=>{t({success:!1,error:u.message})})})}async executePythonConnectionTest(e,t){return new Promise(i=>{var s,r;try{const{pluginDir:o,bridgeDir:a}=this.getVaultAwarePaths(),l=Se.join(a,"test_connections.py");if(!require("fs").existsSync(l)){i({success:!1,message:`Test script not found at: ${l}`});return}this.logger.info("Executing connection test",{testType:e});const u=this.getPythonExecutable(),g=this.getPythonEnv(),m=ot.spawn(u,["-m","graphiti_bridge.test_connections","--test-type",e,"--config",JSON.stringify(t)],{cwd:o,stdio:["pipe","pipe","pipe"],env:g});let h="",d="";(s=m.stdout)==null||s.on("data",f=>{const b=f.toString();h+=b,this.logger.logPythonOutput("stdout",b)}),(r=m.stderr)==null||r.on("data",f=>{const b=f.toString();d+=b,this.logger.logPythonOutput("stderr",b)}),m.on("close",f=>{if(this.logger.debug("Connection test process completed",{exitCode:f}),f===0)try{const b=JSON.parse(h.trim()),w={success:b.success,message:b.message,latency:b.latency};b.cross_encoder&&(w.cross_encoder=b.cross_encoder),i(w)}catch(b){this.logger.error("Failed to parse connection test result",b),i({success:!1,message:`Failed to parse test result: ${h||d}`})}else this.logger.error("Connection test failed",{exitCode:f,stderr:d,stdout:h}),i({success:!1,message:`Connection test failed (exit code ${f}): ${d||h||"Unknown error"}`})}),m.on("error",f=>{this.logger.error("Failed to start connection test process",f);let b=f.message;f.message.includes("ENOENT")&&(b="Python not found. Please ensure Python 3.10+ is installed and in your PATH."),i({success:!1,message:`Failed to start connection test: ${b}`})})}catch(o){this.logger.error("Connection test exception",o),i({success:!1,message:`Connection test error: ${o instanceof Error?o.message:String(o)}`})}})}async testDatabaseConnection(){var e;try{const t={database_type:this.settings.databaseType,...this.prepareDatabaseConfig()},i=this.getDatabaseConfig();return this.logger.debug("Testing database connection",{databaseType:this.settings.databaseType,databaseConfig:i,hasPassword:!!(i!=null&&i.password),passwordLength:((e=i==null?void 0:i.password)==null?void 0:e.length)||0}),await this.executePythonConnectionTest("database",t)}catch(t){return this.logger.error("Database connection test error",t),{success:!1,message:`Database test error: ${t instanceof Error?t.message:String(t)}`}}}async testLLMConnection(){try{const e={llm_provider:this.settings.llmProvider,api_keys:this.settings.apiKeys,llm_model:this.settings.llmModel,azure_endpoint:this.settings.azureEndpoint,azure_api_version:this.settings.azureApiVersion,ollama_base_url:this.settings.ollamaBaseUrl,database_type:this.settings.databaseType,...this.prepareDatabaseConfig()};return this.logger.debug("Testing LLM connection",{llmProvider:this.settings.llmProvider,hasApiKeys:Object.keys(this.settings.apiKeys).length>0,sanitizedConfig:this.sanitizeConfigForLogging(e)}),await this.executePythonConnectionTest("llm",e)}catch(e){return this.logger.error("LLM connection test error",e),{success:!1,message:`LLM test error: ${e instanceof Error?e.message:String(e)}`}}}async testEmbeddingConnection(){try{const e={embedder_provider:this.settings.embedderProvider,api_keys:this.settings.apiKeys,embedding_model:this.settings.embeddingModel,database_type:this.settings.databaseType,...this.prepareDatabaseConfig()};return this.logger.debug("Testing embedding connection",{embedderProvider:this.settings.embedderProvider,embeddingModel:this.settings.embeddingModel,hasApiKeys:Object.keys(this.settings.apiKeys).length>0,sanitizedConfig:this.sanitizeConfigForLogging(e)}),await this.executePythonConnectionTest("embedding",e)}catch(e){return this.logger.error("Embedding connection test error",e),{success:!1,message:`Embedding test error: ${e instanceof Error?e.message:String(e)}`}}}async testEmbeddingWithDimensions(){try{const e={embedder_provider:this.settings.embedderProvider,api_keys:this.settings.apiKeys,embedding_model:this.settings.embeddingModel,database_type:this.settings.databaseType,...this.prepareDatabaseConfig()};return this.logger.debug("Testing embedding connection with dimensions",{embedderProvider:this.settings.embedderProvider,embeddingModel:this.settings.embeddingModel,hasApiKeys:Object.keys(this.settings.apiKeys).length>0,sanitizedConfig:this.sanitizeConfigForLogging(e)}),await this.executePythonConnectionTest("embedding-test",e)}catch(e){return this.logger.error("Enhanced embedding connection test error",e),{success:!1,message:`Enhanced embedding test error: ${e instanceof Error?e.message:String(e)}`}}}async testProviderCombination(){try{const e={llm_provider:this.settings.llmProvider,llm_model:this.settings.llmModel,azure_endpoint:this.settings.azureEndpoint,azure_api_version:this.settings.azureApiVersion,ollama_base_url:this.settings.ollamaBaseUrl,embedder_provider:this.settings.embedderProvider,embedding_model:this.settings.embeddingModel,api_keys:this.settings.apiKeys,database_type:this.settings.databaseType,...this.prepareDatabaseConfig()};return this.logger.debug("Testing provider combination",{llmProvider:this.settings.llmProvider,embedderProvider:this.settings.embedderProvider,llmModel:this.settings.llmModel,embeddingModel:this.settings.embeddingModel,hasApiKeys:Object.keys(this.settings.apiKeys).length>0,sanitizedConfig:this.sanitizeConfigForLogging(e)}),await this.executePythonConnectionTest("combination",e)}catch(e){return this.logger.error("Provider combination test error",e),{success:!1,message:`Provider combination test error: ${e instanceof Error?e.message:String(e)}`}}}async testFullPipeline(){try{const e={llm_provider:this.settings.llmProvider,api_keys:this.settings.apiKeys,llm_model:this.settings.llmModel,azure_endpoint:this.settings.azureEndpoint,azure_api_version:this.settings.azureApiVersion,ollama_base_url:this.settings.ollamaBaseUrl,embedder_provider:this.settings.embedderProvider,embedding_model:this.settings.embeddingModel,cross_encoder_client:this.settings.crossEncoderClient||"none",cross_encoder_model:this.settings.crossEncoderClient==="bge"||this.settings.crossEncoderClient==="none"?void 0:this.settings.crossEncoderModel,database_type:this.settings.databaseType,...this.prepareDatabaseConfig()};return this.logger.debug("Testing full LLM + embedding pipeline",{llmProvider:this.settings.llmProvider,embedderProvider:this.settings.embedderProvider,llmModel:this.settings.llmModel,embeddingModel:this.settings.embeddingModel,hasApiKeys:Object.keys(this.settings.apiKeys).length>0,sanitizedConfig:this.sanitizeConfigForLogging(e)}),await this.executePythonConnectionTest("combination-pipeline",e)}catch(e){return this.logger.error("Full pipeline test error",e),{success:!1,message:`Pipeline test error: ${e instanceof Error?e.message:String(e)}`}}}async validateAPIKeys(){try{const e=[],t=[],i=this.getApiKeyForProvider(this.settings.llmProvider);if(this.settings.llmProvider==="ollama"?e.push(`${this.settings.llmProvider}: Local provider (no API key required)`):i?i.length<10?t.push(`API key for ${this.settings.llmProvider} appears too short (${i.length} chars)`):e.push(`${this.settings.llmProvider}: API key present (${i.length} chars)`):t.push(`Missing API key for LLM provider: ${this.settings.llmProvider}`),this.settings.embedderProvider!==this.settings.llmProvider){const s=this.getApiKeyForProvider(this.settings.embedderProvider);this.settings.embedderProvider==="ollama"?e.push(`${this.settings.embedderProvider}: Local provider (no API key required)`):s?s.length<10?t.push(`API key for ${this.settings.embedderProvider} appears too short (${s.length} chars)`):e.push(`${this.settings.embedderProvider}: API key present (${s.length} chars)`):t.push(`Missing API key for embedder provider: ${this.settings.embedderProvider}`)}return t.length>0?(this.logger.error("API key validation failed",{errors:t,validationResults:e}),{success:!1,message:`Validation failed: ${t.join(", ")}`}):(this.logger.info("API key validation successful",{validationResults:e}),{success:!0,message:`All API keys valid: ${e.join(", ")}`})}catch(e){return this.logger.error("API key validation error",e),{success:!1,message:`Validation error: ${e instanceof Error?e.message:String(e)}`}}}async initializeDatabaseSchema(){try{const e={database_type:this.settings.databaseType,...this.prepareDatabaseConfig(),llm_provider:this.settings.llmProvider,api_keys:this.settings.apiKeys,llm_model:this.settings.llmModel,azure_endpoint:this.settings.azureEndpoint,azure_api_version:this.settings.azureApiVersion,ollama_base_url:this.settings.ollamaBaseUrl},t=this.getDatabaseConfig();return this.logger.info("Initializing database schema",{databaseType:this.settings.databaseType,databaseConfig:t,llmProvider:this.settings.llmProvider}),await this.executePythonSchemaInitialization(e)}catch(e){return this.logger.error("Database schema initialization error",e),{success:!1,message:`Schema initialization error: ${e instanceof Error?e.message:String(e)}`}}}async executePythonSchemaInitialization(e){return new Promise(t=>{var i,s;try{const{pluginDir:r,bridgeDir:o}=this.getVaultAwarePaths(),a=Se.join(o,"test_connections.py");if(!require("fs").existsSync(a)){t({success:!1,message:`Test script not found at: ${a}`});return}this.logger.info("Executing schema initialization");const c=this.getPythonExecutable(),u=this.getPythonEnv(),g=ot.spawn(c,["-m","graphiti_bridge.test_connections","--test-type","schema-init","--config",JSON.stringify(e)],{cwd:r,stdio:["pipe","pipe","pipe"],env:u});let m="",h="";(i=g.stdout)==null||i.on("data",d=>{const f=d.toString();m+=f,this.logger.logPythonOutput("stdout",f)}),(s=g.stderr)==null||s.on("data",d=>{const f=d.toString();h+=f,this.logger.logPythonOutput("stderr",f)}),g.on("close",d=>{if(this.logger.debug("Schema initialization process completed",{exitCode:d}),d===0)try{const f=JSON.parse(m.trim());t({success:f.success,message:f.message})}catch(f){this.logger.error("Failed to parse schema initialization result",f),t({success:!1,message:`Failed to parse initialization result: ${m||h}`})}else this.logger.error("Schema initialization failed",{exitCode:d,stderr:h,stdout:m}),t({success:!1,message:`Schema initialization failed (exit code ${d}): ${h||m||"Unknown error"}`})}),g.on("error",d=>{this.logger.error("Failed to start schema initialization process",d);let f=d.message;d.message.includes("ENOENT")&&(f="Python not found. Please ensure Python 3.10+ is installed and in your PATH."),t({success:!1,message:`Failed to start schema initialization: ${f}`})})}catch(r){this.logger.error("Schema initialization exception",r),t({success:!1,message:`Schema initialization error: ${r instanceof Error?r.message:String(r)}`})}})}async testManualSync(e,t="obsidian_mm_individual"){var s;const i=Date.now();try{this.logger.info(`Starting manual sync test for file: ${e}, Source: ${t}`);try{const S=this.settings.embeddingModel,x=this.getCurrentEmbeddingDimensions(),E=await this.vaultRegistryService.hasEmbeddingModelChanged(S,x);if(E){const D=await this.vaultRegistryService.getEmbeddingModelMismatchDetails(S,x);this.logger.warn("[TEST_SYNC] Embedding model change detected before test sync",{hasChanged:E,storedModel:D==null?void 0:D.storedModel,storedDimensions:D==null?void 0:D.storedDimensions,currentModel:S,currentDimensions:x,noteFile:e});const P=`Embedding model changed from ${(D==null?void 0:D.storedModel)||"unknown"} to ${S}. This may affect vector similarity in your knowledge graph.`;new C.Notice(P,8e3)}}catch(S){this.logger.debug("[TEST_SYNC] Failed to validate embedding model (test sync continues)",{error:S,noteFile:e})}if(!require("fs").existsSync(e))throw new Error(`Note file not found: ${e}`);const o={notesPaths:[e],batchSize:1,debug:this.settings.enableDebugLogging,source_description:t,crossEncoderClient:this.settings.crossEncoderClient,crossEncoderModel:this.settings.crossEncoderModel,use_custom_ontology:this.settings.useCustomOntology},a=await this.syncNotes(o,S=>{this.logger.debug("Manual sync progress",S),new C.Notice(`Manual sync: ${S.message} (${S.percentage.toFixed(1)}%)`)},t),l=a.processing_duration_seconds??(a.notes&&Array.isArray(a.notes)&&((s=a.notes[0])==null?void 0:s.processing_duration_seconds))??Math.round((Date.now()-i)/1e3),c=1,u=0,g=1,m=1,h=a!=null&&a.notes&&Array.isArray(a.notes)?a.notes[0]:null,d=a.note_name||(h==null?void 0:h.note_name)||"unknown",f=await this.syncRegistryService.generateGroupId(e,this.plugin.app.vault.getName()),b=a.episode_uuid||(h==null?void 0:h.episode_uuid)||"unknown",w=a.status||(h==null?void 0:h.status)||"unknown";return this.logger.info(`ManualSyncResult: note_name:${d}, status: ${w}, processed: ${c}, skipped: ${u}, total: ${g}, batches: ${m}, processed_in: ${l}s, group_id: ${f}, uuid: ${b}, source_description: ${t}`),a}catch(r){return this.logger.error("[ERROR] Manual sync test failed",r),{status:"error",processed:0,skipped:0,total:1,batchCount:0,nodeTypesLoaded:0,edgeTypesLoaded:0,message:r instanceof Error?r.message:String(r)}}}getPlugin(){return typeof window.app<"u"?window.app.plugins.plugins["megamem-mcp"]:null}async addEntityDefinition(e,t){const i=this.getPlugin();if(!(i!=null&&i.settings))throw new Error("Plugin settings not available");i.settings.entityDescriptions||(i.settings.entityDescriptions={}),i.settings.entityDescriptions[e]={className:e.replace(/\s+/g,"").replace(/[^a-zA-Z0-9]/g,""),description:t,isUserDefined:!0,source:"user",lastModified:new Date().toISOString()},await i.saveSettings(),this.logger.info("Added entity definition",{entityName:e})}async removeEntityDefinition(e){var i;const t=this.getPlugin();(i=t==null?void 0:t.settings)!=null&&i.entityDescriptions&&(delete t.settings.entityDescriptions[e],await t.saveSettings(),this.logger.info("Removed entity definition",{entityName:e}))}async updateEntityDescription(e,t){var s,r;const i=this.getPlugin();if(!((r=(s=i==null?void 0:i.settings)==null?void 0:s.entityDescriptions)!=null&&r[e]))throw new Error(`Entity ${e} not found`);i.settings.entityDescriptions[e]={...i.settings.entityDescriptions[e],description:t,lastModified:new Date().toISOString()},await i.saveSettings(),this.logger.info("Updated entity description",{entityName:e})}async addPropertyDefinition(e,t,i){const s=this.getPlugin();if(!(s!=null&&s.settings))throw new Error("Plugin settings not available");s.settings.propertyDescriptions||(s.settings.propertyDescriptions={}),s.settings.propertyDescriptions[e]||(s.settings.propertyDescriptions[e]={}),s.settings.propertyDescriptions[e][t]={description:i,fieldType:"str",isUserDefined:!0,source:"user",lastModified:new Date().toISOString()},await s.saveSettings(),this.logger.info("Added property definition",{entityName:e,propertyName:t})}async removePropertyDefinition(e,t){var s,r;const i=this.getPlugin();(r=(s=i==null?void 0:i.settings)==null?void 0:s.propertyDescriptions)!=null&&r[e]&&(delete i.settings.propertyDescriptions[e][t],Object.keys(i.settings.propertyDescriptions[e]).length===0&&delete i.settings.propertyDescriptions[e],await i.saveSettings(),this.logger.info("Removed property definition",{entityName:e,propertyName:t}))}async updatePropertyDescription(e,t,i){var r,o,a;const s=this.getPlugin();if(!((a=(o=(r=s==null?void 0:s.settings)==null?void 0:r.propertyDescriptions)==null?void 0:o[e])!=null&&a[t]))throw new Error(`Property ${e}.${t} not found`);s.settings.propertyDescriptions[e][t]={...s.settings.propertyDescriptions[e][t],description:i,lastModified:new Date().toISOString()},await s.saveSettings(),this.logger.info("Updated property description",{entityName:e,propertyName:t})}async loadAllDefaultEntityDescriptions(){const e=this.getPlugin();if(!(e!=null&&e.settings))throw new Error("Plugin settings not available");e.settings.entityDescriptions||(e.settings.entityDescriptions={});const t=this.schemaService.getAvailableDefaultEntityTypes();let i=0,s=0;for(const r of t){const o=this.schemaService.getDefaultEntityDescription(r);if(o)if(e.settings.entityDescriptions[r]){const a=e.settings.entityDescriptions[r];a.source!=="user"&&(e.settings.entityDescriptions[r]={...a,description:o,source:"discovery",lastModified:new Date().toISOString()},s++)}else e.settings.entityDescriptions[r]={className:r.replace(/\s+/g,"").replace(/[^a-zA-Z0-9]/g,""),description:o,isUserDefined:!1,source:"discovery",lastModified:new Date().toISOString()},i++}await e.saveSettings(),this.logger.info("Loaded all default entity descriptions",{addedCount:i,updatedCount:s})}async loadAllDefaultPropertyDescriptions(){const e=this.getPlugin();if(!(e!=null&&e.settings))throw new Error("Plugin settings not available");e.settings.propertyDescriptions||(e.settings.propertyDescriptions={});let t=0,i=0;const s=await this.schemaService.discoverAllSchemas();for(const r of s){const o=r.typeName;e.settings.propertyDescriptions[o]||(e.settings.propertyDescriptions[o]={});for(const a of r.properties){const l=a.name,c=this.schemaService.getDefaultPropertyDescription(l);if(c)if(e.settings.propertyDescriptions[o][l]){const u=e.settings.propertyDescriptions[o][l];u.source!=="user"&&(e.settings.propertyDescriptions[o][l]={...u,description:c,source:"discovery",lastModified:new Date().toISOString()},i++)}else e.settings.propertyDescriptions[o][l]={description:c,fieldType:a.inferredType==="string"?"str":a.inferredType==="number"?"float":a.inferredType==="boolean"?"bool":a.inferredType==="date"?"datetime":a.inferredType==="array"?"List[str]":"str",isUserDefined:!1,source:"discovery",lastModified:new Date().toISOString()},t++}}await e.saveSettings(),this.logger.info("Loaded all default property descriptions",{addedCount:t,updatedCount:i})}async saveData(){const e=this.getPlugin();if(!(e!=null&&e.settings))throw new Error("Plugin settings not available");await e.saveSettings(),this.logger.info("Saved data to data.json")}logCacheMetrics(e){const t=Yt.performance.now();if(t-this.lastCacheLogTime>5e3||(this.cacheHits+this.cacheMisses)%10===0){const r=this.cacheHits+this.cacheMisses,o=r>0?(this.cacheHits/r*100).toFixed(2):"0.00",a=this.pathCache.size,c=(a*200/1024).toFixed(2);this.logger.debug(`[CACHE_HEALTH] Vault: ${e}, Hits: ${this.cacheHits}, Misses: ${this.cacheMisses}, Hit Ratio: ${o}%, Cache Size: ${a} entries, Est. Memory: ${c} KB`),this.cacheHits=0,this.cacheMisses=0,this.lastCacheLogTime=t}}async startMcpServer(){try{if(this.mcpServerProcess&&!this.mcpServerProcess.killed)return{success:!1,message:"MCP server is already running",pid:this.mcpServerProcess.pid};const{pluginDir:e}=this.getVaultAwarePaths(),t=Se.join(e,"mcp-server","megamem_mcp_server.py");if(!require("fs").existsSync(t))return{success:!1,message:`MCP server not found at: ${t}`};this.logger.info("Starting MCP server process",{mcpServerPath:t});const s=this.getPythonExecutable(),r=this.getPythonEnv();return this.mcpServerProcess=ot.spawn(s,[t],{stdio:["pipe","pipe","pipe"],cwd:Se.join(e,"mcp-server"),env:r}),new Promise(o=>{var l,c;const a=setTimeout(()=>{this.mcpServerProcess&&(this.mcpServerProcess.kill(),this.mcpServerProcess=null),o({success:!1,message:"MCP server startup timeout"})},1e4);this.mcpServerProcess.on("spawn",()=>{clearTimeout(a),this.logger.info("MCP server started successfully",{pid:this.mcpServerProcess.pid}),o({success:!0,message:"MCP server started successfully",pid:this.mcpServerProcess.pid})}),this.mcpServerProcess.on("error",u=>{clearTimeout(a),this.mcpServerProcess=null,this.logger.error("Failed to start MCP server",u),o({success:!1,message:`Failed to start MCP server: ${u.message}`})}),this.mcpServerProcess.on("exit",(u,g)=>{this.mcpServerProcess=null,this.logger.warn("MCP server process exited",{code:u,signal:g})}),(l=this.mcpServerProcess.stdout)==null||l.on("data",u=>{this.logger.debug("MCP server stdout",{output:u.toString().trim()})}),(c=this.mcpServerProcess.stderr)==null||c.on("data",u=>{this.logger.warn("MCP server stderr",{output:u.toString().trim()})})})}catch(e){return this.logger.error("Error starting MCP server",e),{success:!1,message:`Error starting MCP server: ${e instanceof Error?e.message:String(e)}`}}}async stopMcpServer(){try{if(!this.mcpServerProcess||this.mcpServerProcess.killed)return{success:!0,message:"MCP server is not running"};const e=this.mcpServerProcess.pid;return this.logger.info("Stopping MCP server process",{pid:e}),new Promise(t=>{var s;const i=setTimeout(()=>{this.mcpServerProcess&&!this.mcpServerProcess.killed&&(this.logger.warn("Force killing MCP server process"),this.mcpServerProcess.kill("SIGKILL"))},5e3);this.mcpServerProcess.on("exit",()=>{clearTimeout(i),this.mcpServerProcess=null,this.logger.info("MCP server stopped successfully"),t({success:!0,message:"MCP server stopped successfully"})}),(s=this.mcpServerProcess)==null||s.kill("SIGTERM")})}catch(e){return this.logger.error("Error stopping MCP server",e),{success:!1,message:`Error stopping MCP server: ${e instanceof Error?e.message:String(e)}`}}}isMcpServerRunning(){return this.mcpServerProcess!==null&&!this.mcpServerProcess.killed}getMcpServerStatus(){return this.mcpServerProcess?this.mcpServerProcess.killed?{running:!1,status:"stopped",message:"MCP server process was killed"}:{running:!0,pid:this.mcpServerProcess.pid,status:"running",message:`MCP server is running (PID: ${this.mcpServerProcess.pid})`}:{running:!1,status:"stopped",message:"MCP server is not running"}}generateClaudeDesktopConfig(){try{const{pluginDir:e}=this.getVaultAwarePaths(),t=Se.join(e,"mcp-server","megamem_mcp_server.py"),i=Se.join(e,"data.json"),s=require("fs");if(!s.existsSync(t))return{success:!1,message:`MCP server not found at: ${t}`};const r=this.pythonInstaller.getPythonExecutable(),a={megamem:{command:r&&s.existsSync(r)?r.replace(/\\/g,"/"):"python",args:[t.replace(/\\/g,"/")],env:{OBSIDIAN_CONFIG_PATH:i.replace(/\\/g,"/")}}},l=require("os"),c=require("path"),u=c.join(l.homedir(),"AppData","Roaming","Claude"),g=c.join(u,"claude_desktop_config.json");return{success:!0,config:a,message:"Claude Desktop configuration generated successfully",configPath:g}}catch(e){return this.logger.error("Error generating Claude Desktop config",e),{success:!1,message:`Error generating config: ${e instanceof Error?e.message:String(e)}`}}}}class pc{constructor(e,t,i,s){this.daemonProcess=null,this.commandQueue=[],this.isProcessing=!1,this.isShuttingDown=!1,this.startupPromise=null,this.plugin=e,this.settings=t,this.logger=i,this.vaultRegistry=s,this.pythonInstaller=new jt(e,this.getPluginDirectory(),{pythonPath:t.pythonPath})}async preloadDaemon(){return this.startDaemon()}async startDaemon(){if(!(this.daemonProcess&&!this.daemonProcess.killed))return this.startupPromise?this.startupPromise:(this.startupPromise=this._startDaemonInternal(),this.startupPromise)}async _startDaemonInternal(){return new Promise((e,t)=>{var i,s;try{const r=this.getPluginDirectory(),o=this.getBridgePath(),a=Se.join(o,"sync_daemon.py"),l=require("fs");this.logger.debug("[DAEMON] Resolved paths",{pluginDir:r,bridgePath:o,daemonScript:a,exists:l.existsSync(a)}),this.logger.info("[DAEMON] Starting Python daemon process");const c=this.getPythonExecutable(),g={...this.getPythonEnv()};this.settings.logPerformance&&(g.GRAPHITI_LOG_PERFORMANCE="true"),this.daemonProcess=ot.spawn(c,["-m","graphiti_bridge.sync_daemon"],{stdio:["pipe","pipe","pipe"],cwd:r,env:g});let m=!1;const h=setTimeout(()=>{m||(this.logger.error("[DAEMON] Startup timeout"),t(new Error("Daemon startup timeout")))},12e4);this.logger.debug("[DAEMON] Waiting up to 120s for daemon readiness"),(i=this.daemonProcess.stdout)==null||i.on("data",d=>{const f=d.toString().trim();this.logger.logPythonOutput("stdout",f),f.includes('"status": "ready"')&&!m&&(m=!0,clearTimeout(h),this.logger.info("[DAEMON] Process ready - BGE model loaded"),this.startupPromise=null,e())}),(s=this.daemonProcess.stderr)==null||s.on("data",d=>{const f=d.toString().trim();this.logger.logPythonOutput("stderr",f)}),this.daemonProcess.on("error",d=>{this.logger.error("[DAEMON] Process error:",d),this.startupPromise=null,m||(clearTimeout(h),t(d))}),this.daemonProcess.on("exit",(d,f)=>{this.logger.info(`[DAEMON] Process exited with code ${d}, signal ${f}`),this.daemonProcess=null,this.startupPromise=null,m||(clearTimeout(h),t(new Error(`Daemon process exited with code ${d}`)))})}catch(r){this.logger.error("[DAEMON] Failed to start process:",r),this.startupPromise=null,t(r)}})}async executeDaemonSync(e){try{await this.startDaemon();const i={command:"sync",config:{...e,logPerformance:this.settings.logPerformance}};return await this.executeCommand(i)}catch(t){throw this.logger.error("[DAEMON] Sync execution failed:",t),t}}async executeCommand(e){if(this.isShuttingDown)throw new Error("Daemon is shutting down");return new Promise((t,i)=>{const s=setTimeout(()=>{i(new Error("Command timeout - daemon may be unresponsive"))},6e5),r={command:e,resolve:o=>{clearTimeout(s),t(o)},reject:o=>{clearTimeout(s),i(o)},timeout:s};this.commandQueue.push(r),this.processQueue()})}async processQueue(){if(!(this.isProcessing||this.commandQueue.length===0)){for(this.isProcessing=!0;this.commandQueue.length>0&&!this.isShuttingDown;){const e=this.commandQueue.shift();try{const t=await this.sendCommandToDaemon(e.command);e.resolve(t)}catch(t){e.reject(t)}}this.isProcessing=!1}}async sendCommandToDaemon(e){const t=this.daemonProcess;if(!t||t.killed)throw new Error("Daemon process not available");return new Promise((i,s)=>{var c,u;let r="",o=!1;const a=g=>{var m;r+=g.toString();try{const h=r.split(`
`);for(const d of h)if(d.trim()&&!o){const f=JSON.parse(d.trim());o=!0,(m=t.stdout)==null||m.removeListener("data",a),i(f);return}}catch{}};(c=t.stdout)==null||c.on("data",a);const l=JSON.stringify(e)+`
`;(u=t.stdin)==null||u.write(l),setTimeout(()=>{var g;o||((g=t.stdout)==null||g.removeListener("data",a),s(new Error("Command response timeout")))},6e5)})}async shutdown(){var t;if(this.isShuttingDown)return;this.isShuttingDown=!0,this.logger.info("[DAEMON] Shutting down daemon process"),this.commandQueue.forEach(i=>{clearTimeout(i.timeout),i.reject(new Error("Daemon shutting down"))}),this.commandQueue=[];const e=this.daemonProcess;if(e&&!e.killed)try{const i={command:"shutdown"};(t=e.stdin)==null||t.write(JSON.stringify(i)+`
`),await new Promise(s=>setTimeout(s,2e3)),e&&!e.killed&&e.kill("SIGTERM")}catch(i){this.logger.error("[DAEMON] Error during shutdown:",i),e&&!e.killed&&e.kill("SIGKILL")}this.daemonProcess=null,this.isShuttingDown=!1,this.startupPromise=null}getBridgePath(){var o,a,l,c,u;const e=require("fs");let t=this.vaultRegistry.getActiveVault();if(t||(this.vaultRegistry.ensureActiveVault(),t=this.vaultRegistry.getActiveVault()),t!=null&&t.path){const g=Se.join(t.path,".obsidian","plugins","megamem-mcp","graphiti_bridge");if(e.existsSync(Se.join(g,"sync_daemon.py")))return this.logger.debug("[DAEMON] Using vault-aware bridge path",{path:g}),g}const i=((a=(o=this.plugin)==null?void 0:o.manifest)==null?void 0:a.dir)||"",s=((u=(c=(l=this.plugin.app)==null?void 0:l.vault)==null?void 0:c.adapter)==null?void 0:u.basePath)||"",r=s?Se.join(s,i,"graphiti_bridge"):Se.join(i,"graphiti_bridge");return this.logger.debug("[DAEMON] Using fallback bridge path",{path:r,vaultPath:(t==null?void 0:t.path)||"none",manifestDir:i,currentVaultPath:s}),r}getPluginDirectory(){var r,o,a,l,c;const e=require("fs");let t=this.vaultRegistry.getActiveVault();if(t||(this.vaultRegistry.ensureActiveVault(),t=this.vaultRegistry.getActiveVault()),t!=null&&t.path){const u=Se.join(t.path,".obsidian","plugins","megamem-mcp");if(e.existsSync(u))return u}const i=((o=(r=this.plugin)==null?void 0:r.manifest)==null?void 0:o.dir)||"",s=((c=(l=(a=this.plugin.app)==null?void 0:a.vault)==null?void 0:l.adapter)==null?void 0:c.basePath)||"";return s?Se.join(s,i):i}getPythonExecutable(){const t=this.pythonInstaller.getPythonEnv().PYTHON_EXECUTABLE;if(!t)throw new C.Notice("Python environment not configured. Please run Python installation from settings."),new Error("Python environment not configured");return t}getPythonEnv(){return this.pythonInstaller.getPythonEnv()}isRunning(){return!!(this.daemonProcess&&!this.daemonProcess.killed)}getStatus(){return{running:this.isRunning(),queueLength:this.commandQueue.length,processing:this.isProcessing}}}function fe(){}function Hs(n){return n()}function ri(){return Object.create(null)}function Ue(n){n.forEach(Hs)}function An(n){return typeof n=="function"}function On(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function gc(n){return Object.keys(n).length===0}function p(n,e){n.appendChild(e)}function Q(n,e,t){n.insertBefore(e,t||null)}function J(n){n.parentNode&&n.parentNode.removeChild(n)}function Ge(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function v(n){return document.createElement(n)}function nn(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function V(n){return document.createTextNode(n)}function k(){return V(" ")}function hc(){return V("")}function ee(n,e,t,i){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t,i)}function gt(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function y(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function fc(n){return Array.from(n.childNodes)}function ne(n,e){e=""+e,n.data!==e&&(n.data=e)}function Ie(n,e){n.value=e??""}function oi(n,e,t,i){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,i?"important":"")}function nt(n,e,t){for(let i=0;i<n.options.length;i+=1){const s=n.options[i];if(s.__value===e){s.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function Ot(n){const e=n.querySelector(":checked");return e&&e.__value}let zt;function Rt(n){zt=n}function Js(){if(!zt)throw new Error("Function called outside component initialization");return zt}function In(n){Js().$$.on_mount.push(n)}function Qs(n){Js().$$.on_destroy.push(n)}const Ct=[],xn=[];let Tt=[];const ai=[],mc=Promise.resolve();let En=!1;function yc(){En||(En=!0,mc.then(Zs))}function ht(n){Tt.push(n)}const pn=new Set;let _t=0;function Zs(){if(_t!==0)return;const n=zt;do{try{for(;_t<Ct.length;){const e=Ct[_t];_t++,Rt(e),bc(e.$$)}}catch(e){throw Ct.length=0,_t=0,e}for(Rt(null),Ct.length=0,_t=0;xn.length;)xn.pop()();for(let e=0;e<Tt.length;e+=1){const t=Tt[e];pn.has(t)||(pn.add(t),t())}Tt.length=0}while(Ct.length);for(;ai.length;)ai.pop()();En=!1,pn.clear(),Rt(n)}function bc(n){if(n.fragment!==null){n.update(),Ue(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(ht)}}function vc(n){const e=[],t=[];Tt.forEach(i=>n.indexOf(i)===-1?e.push(i):t.push(i)),t.forEach(i=>i()),Tt=e}const Kt=new Set;let ft;function Ce(){ft={r:0,c:[],p:ft}}function ke(){ft.r||Ue(ft.c),ft=ft.p}function z(n,e){n&&n.i&&(Kt.delete(n),n.i(e))}function G(n,e,t,i){if(n&&n.o){if(Kt.has(n))return;Kt.add(n),ft.c.push(()=>{Kt.delete(n),i&&(t&&n.d(1),i())}),n.o(e)}else i&&i()}function Pe(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function le(n){n&&n.c()}function re(n,e,t){const{fragment:i,after_update:s}=n.$$;i&&i.m(e,t),ht(()=>{const r=n.$$.on_mount.map(Hs).filter(An);n.$$.on_destroy?n.$$.on_destroy.push(...r):Ue(r),n.$$.on_mount=[]}),s.forEach(ht)}function oe(n,e){const t=n.$$;t.fragment!==null&&(vc(t.after_update),Ue(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function wc(n,e){n.$$.dirty[0]===-1&&(Ct.push(n),yc(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Rn(n,e,t,i,s,r,o=null,a=[-1]){const l=zt;Rt(n);const c=n.$$={fragment:null,ctx:[],props:r,update:fe,not_equal:s,bound:ri(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:ri(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};o&&o(c.root);let u=!1;if(c.ctx=t?t(n,e.props||{},(g,m,...h)=>{const d=h.length?h[0]:m;return c.ctx&&s(c.ctx[g],c.ctx[g]=d)&&(!c.skip_bound&&c.bound[g]&&c.bound[g](d),u&&wc(n,g)),m}):[],c.update(),u=!0,Ue(c.before_update),c.fragment=i?i(c.ctx):!1,e.target){if(e.hydrate){const g=fc(e.target);c.fragment&&c.fragment.l(g),g.forEach(J)}else c.fragment&&c.fragment.c();e.intro&&z(n.$$.fragment),re(n,e.target,e.anchor),Zs()}Rt(l)}class Ln{constructor(){ln(this,"$$");ln(this,"$$set")}$destroy(){oe(this,1),this.$destroy=fe}$on(e,t){if(!An(t))return fe;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}$set(e){this.$$set&&!gc(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Sc="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Sc);function _c(n){let e,t;return{c(){e=v("span"),y(e,"class",t="obsidian-icon inline-flex items-center justify-center "+n[3][n[0]]+" "+n[1]),y(e,"aria-hidden","true")},m(i,s){Q(i,e,s),n[5](e)},p(i,[s]){s&3&&t!==(t="obsidian-icon inline-flex items-center justify-center "+i[3][i[0]]+" "+i[1])&&y(e,"class",t)},i:fe,o:fe,d(i){i&&J(e),n[5](null)}}}function xc(n,e,t){let{icon:i}=e,{size:s="medium"}=e,{extraClasses:r=""}=e,o,a=null;const l={small:"w-3 h-3",medium:"w-4 h-4",large:"w-5 h-5",inherit:""};function c(){o&&i&&(C.setIcon(o,i),s==="inherit"?(t(2,o.style.width="1em",o),t(2,o.style.height="1em",o)):(t(2,o.style.width="",o),t(2,o.style.height="",o)))}In(()=>{c(),a=new MutationObserver(g=>{g.forEach(m=>{m.type==="attributes"&&(m.attributeName==="class"||m.attributeName==="style")&&c()})}),o&&(a.observe(o,{attributes:!0}),o.parentElement&&a.observe(o.parentElement,{attributes:!0}))}),Qs(()=>{a==null||a.disconnect()});function u(g){xn[g?"unshift":"push"](()=>{o=g,t(2,o)})}return n.$$set=g=>{"icon"in g&&t(4,i=g.icon),"size"in g&&t(0,s=g.size),"extraClasses"in g&&t(1,r=g.extraClasses)},c(),[s,r,o,l,i,u]}class ce extends Ln{constructor(e){super(),Rn(this,e,xc,_c,On,{icon:4,size:0,extraClasses:1})}}function li(n,e,t){const i=n.slice();return i[158]=e[t],i}function ci(n,e,t){const i=n.slice();return i[161]=e[t],i}function di(n,e,t){const i=n.slice();return i[161]=e[t],i}function ui(n,e,t){const i=n.slice();return i[166]=e[t],i}function pi(n,e,t){const i=n.slice();return i[158]=e[t],i}function gi(n,e,t){const i=n.slice();return i[171]=e[t],i[173]=t,i}function hi(n,e,t){const i=n.slice();return i[158]=e[t],i}function fi(n,e,t){const i=n.slice();return i[158]=e[t],i}function mi(n,e,t){const i=n.slice();return i[161]=e[t],i}function yi(n,e,t){const i=n.slice();return i[161]=e[t],i}function bi(n,e,t){const i=n.slice();return i[182]=e[t][0],i[183]=e[t][1],i}function vi(n,e,t){const i=n.slice();return i[182]=e[t],i}function wi(n,e,t){const i=n.slice();return i[188]=e[t][0],i[189]=e[t][1],i}function Si(n,e,t){var o,a;const i=n.slice();i[192]=e[t],i[196]=t;const s=((o=i[192].properties)==null?void 0:o.filter(function(...c){return n[104](i[192],...c)}))||[];i[193]=s;const r=((a=i[192].properties)==null?void 0:a.length)||0;return i[194]=r,i}function _i(n,e,t){var u,g,m,h,d,f,b,w,S,x,E,D;const i=n.slice();i[197]=e[t],i[205]=t;const s=(m=(u=i[3])==null?void 0:u.globallyIgnoredFields)==null?void 0:m.includes((g=i[197])==null?void 0:g.name);i[198]=s;const r=i[62](i[192].typeName,(h=i[197])==null?void 0:h.name);i[199]=r;const o=((b=(f=(d=i[3])==null?void 0:d.propertySelections)==null?void 0:f[i[192].typeName])==null?void 0:b[i[199]])??!1;i[200]=o;const a=i[64](i[192].typeName,(w=i[197])==null?void 0:w.name);i[201]=a;const l=i[63](i[192].typeName,(S=i[197])==null?void 0:S.name);i[202]=l;const c=!!((D=(E=i[24][i[192].typeName])==null?void 0:E[((x=i[197])==null?void 0:x.name)||""])!=null&&D.description);return i[203]=c,i}function xi(n,e,t){const i=n.slice();i[192]=e[t],i[207]=e,i[173]=t;const s=fd(i[192]);return i[206]=s,i}function gn(n){const e=n.slice(),t=e[69]();return e[208]=t,e}function hn(n){const e=n.slice(),t=e[0].reduce((i,s)=>{var r;return i+(((r=s.properties)==null?void 0:r.length)||0)},0);return e[209]=t,e}function Ei(n){let e,t,i=n[0].length+"",s,r;return{c(){e=v("span"),t=V("("),s=V(i),r=V(")"),y(e,"class","text-xs opacity-80 font-normal")},m(o,a){Q(o,e,a),p(e,t),p(e,s),p(e,r)},p(o,a){a[0]&1&&i!==(i=o[0].length+"")&&ne(s,i)},d(o){o&&J(e)}}}function Ci(n){let e,t,i=n[209]+"",s,r;return{c(){e=v("span"),t=V("("),s=V(i),r=V(")"),y(e,"class","text-xs opacity-80 font-normal")},m(o,a){Q(o,e,a),p(e,t),p(e,s),p(e,r)},p(o,a){a[0]&1&&i!==(i=o[209]+"")&&ne(s,i)},d(o){o&&J(e)}}}function ki(n){let e,t,i,s,r,o,a,l,c,u,g,m,h,d,f,b,w,S,x,E,D,P,I,M,N,T,L,A,j,U,B,W,X,K,$,R,q,O=n[0].length>0&&Pi(gn(n)),Y=n[0].length>0&&Di(n);return{c(){e=v("div"),t=v("div"),i=v("h3"),i.textContent="LLM Automatic Ontologies",s=k(),r=v("p"),r.textContent="Use AI to automatically generate entity descriptions, property definitions, and relationships from your vault content.",o=k(),a=v("div"),l=v("button"),l.textContent="Generate Entity Descriptions",c=k(),u=v("button"),u.textContent="Suggest Property Descriptions",g=k(),m=v("button"),m.textContent="Generate Complete Ontology",h=k(),d=v("button"),d.textContent="Load All Default Entity Descriptions",f=k(),b=v("span"),b.textContent="LLM integration coming soon",w=k(),O&&O.c(),S=k(),x=v("div"),E=v("h3"),E.textContent="Base Entity Type",D=k(),P=v("div"),I=v("div"),M=v("h4"),M.textContent="BaseEntity",N=k(),T=v("div"),L=v("button"),L.textContent="View Properties",A=k(),j=v("span"),j.textContent="SYSTEM",U=k(),B=v("div"),B.innerHTML='<p class="text-[var(--text-default)] text-sm leading-relaxed">Base entity class that provides core properties inherited by all other entity types. Contains fundamental metadata for knowledge graph processing.</p>',W=k(),X=v("div"),X.innerHTML='<span class="flex items-center gap-1">Inherited by all entities</span> <span class="flex items-center gap-1">3 core properties</span> <span class="flex items-center gap-1">Always enabled</span>',K=k(),Y&&Y.c(),y(i,"class","text-xl font-semibold mb-2 flex items-center gap-2"),y(r,"class","mb-4 opacity-90 leading-relaxed text-[var(--text-on-accent)]"),y(l,"class","px-4 py-2 bg-[rgba(255,255,255,0.06)] border border-[rgba(255,255,255,0.08)] rounded-md text-sm transition-all duration-200 backdrop-blur-sm hover:bg-[rgba(255,255,255,0.09)] disabled:opacity-50 disabled:cursor-not-allowed text-[var(--text-on-accent)]"),l.disabled=!0,y(u,"class","px-4 py-2 bg-[rgba(255,255,255,0.06)] border border-[rgba(255,255,255,0.08)] rounded-md text-sm transition-all duration-200 backdrop-blur-sm hover:bg-[rgba(255,255,255,0.09)] disabled:opacity-50 disabled:cursor-not-allowed text-[var(--text-on-accent)]"),u.disabled=!0,y(m,"class","px-4 py-2 bg-[rgba(255,255,255,0.06)] border border-[rgba(255,255,255,0.08)] rounded-md text-sm transition-all duration-200 backdrop-blur-sm hover:bg-[rgba(255,255,255,0.09)] disabled:opacity-50 disabled:cursor-not-allowed text-[var(--text-on-accent)]"),m.disabled=!0,y(d,"class","px-4 py-2 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.06)] rounded-md text-sm transition-all duration-200 backdrop-blur-sm hover:bg-[rgba(255,255,255,0.06)] hover:border-[rgba(255,255,255,0.08)] text-[var(--text-on-accent)]"),y(d,"title","Load all default entity descriptions into data.json"),y(b,"class","text-xs opacity-70 italic text-[var(--text-on-accent)]"),y(a,"class","flex gap-3 flex-wrap items-center"),y(t,"class","bg-gradient-to-br from-[var(--interactive-accent)] to-[var(--background-secondary)] text-[var(--text-on-accent)] p-6 rounded-xl mb-6 shadow-md"),y(E,"class","text-lg font-semibold mb-4 text-[var(--text-default)]"),y(M,"class","text-lg font-semibold text-[var(--text-default)]"),y(L,"class","px-3 py-1 bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded text-sm hover:bg-[var(--background-modifier-border)] transition-colors duration-150 text-[var(--text-default)]"),y(L,"title","View Properties"),y(j,"class","text-xs px-2 py-1 bg-[var(--background-modifier-border)] text-[var(--text-muted)] rounded font-bold uppercase tracking-wide ml-2"),y(T,"class","flex gap-1 items-center"),y(I,"class","flex justify-between items-center mb-3"),y(B,"class","mb-3"),y(X,"class","flex gap-4 text-sm text-[var(--text-default)]"),y(P,"class","bg-[var(--background-primary-alt)] border-2 border-[var(--background-modifier-border)] rounded-lg p-4 max-w-lg"),y(x,"class","mb-8"),y(e,"class","animate-fadeIn"),y(e,"id","entities-panel")},m(te,_e){Q(te,e,_e),p(e,t),p(t,i),p(t,s),p(t,r),p(t,o),p(t,a),p(a,l),p(a,c),p(a,u),p(a,g),p(a,m),p(a,h),p(a,d),p(a,f),p(a,b),p(e,w),O&&O.m(e,null),p(e,S),p(e,x),p(x,E),p(x,D),p(x,P),p(P,I),p(I,M),p(I,N),p(I,T),p(T,L),p(T,A),p(T,j),p(P,U),p(P,B),p(P,W),p(P,X),p(e,K),Y&&Y.m(e,null),$=!0,R||(q=[ee(d,"click",n[72]),ee(L,"click",n[87])],R=!0)},p(te,_e){te[0].length>0?O?O.p(gn(te),_e):(O=Pi(gn(te)),O.c(),O.m(e,S)):O&&(O.d(1),O=null),te[0].length>0?Y?(Y.p(te,_e),_e[0]&1&&z(Y,1)):(Y=Di(te),Y.c(),z(Y,1),Y.m(e,null)):Y&&(Ce(),G(Y,1,1,()=>{Y=null}),ke())},i(te){$||(z(Y),$=!0)},o(te){G(Y),$=!1},d(te){te&&J(e),O&&O.d(),Y&&Y.d(),R=!1,Ue(q)}}}function Pi(n){let e,t,i,s,r,o,a,l,c,u,g,m,h,d,f,b,w,S,x,E,D,P,I,M,N,T=n[208].warnings>0&&Ec(n);return{c(){e=v("div"),t=v("h3"),t.textContent="Graphiti Compliance Dashboard",i=k(),s=v("div"),r=v("div"),o=v("span"),o.textContent=`${n[208].score}%`,a=k(),l=v("span"),l.textContent="Compliance Score",c=k(),u=v("div"),g=v("div"),m=v("span"),m.textContent=`${n[208].valid}`,h=k(),d=v("span"),d.textContent="Valid",f=k(),b=v("div"),w=v("span"),w.textContent=`${n[208].warnings}`,S=k(),x=v("span"),x.textContent="Warnings",E=k(),D=v("div"),P=v("span"),P.textContent=`${n[208].protectedCount}`,I=k(),M=v("span"),M.textContent="Protected",N=k(),T&&T.c(),y(t,"class","text-lg font-semibold mb-4 text-[var(--text-default)] flex items-center gap-2"),y(o,"class","text-2xl font-bold text-[var(--text-default)]"),y(l,"class","text-xs text-[var(--text-muted)] uppercase tracking-wide"),y(r,"class","flex flex-col items-center p-4 rounded-lg min-w-24 "+(n[208].score>=80?"bg-[var(--background-modifier-success)] border border-[var(--background-modifier-border)]":n[208].score>=60?"bg-[var(--background-modifier-border)] border border-[var(--background-modifier-border)]":"bg-[var(--background-modifier-error)] border border-[var(--background-modifier-border)]")),y(m,"class","text-xl font-bold text-[var(--text-success)]"),y(d,"class","text-xs text-[var(--text-muted)] uppercase tracking-wide"),y(g,"class","flex flex-col items-center p-2"),y(w,"class","text-xl font-bold text-[var(--text-error)]"),y(x,"class","text-xs text-[var(--text-muted)] uppercase tracking-wide"),y(b,"class","flex flex-col items-center p-2"),y(P,"class","text-xl font-bold text-[var(--text-error)]"),y(M,"class","text-xs text-[var(--text-muted)] uppercase tracking-wide"),y(D,"class","flex flex-col items-center p-2"),y(u,"class","flex gap-6"),y(s,"class","flex items-center gap-8 mb-4"),y(e,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded-lg p-6 mb-6")},m(L,A){Q(L,e,A),p(e,t),p(e,i),p(e,s),p(s,r),p(r,o),p(r,a),p(r,l),p(s,c),p(s,u),p(u,g),p(g,m),p(g,h),p(g,d),p(u,f),p(u,b),p(b,w),p(b,S),p(b,x),p(u,E),p(u,D),p(D,P),p(D,I),p(D,M),p(e,N),T&&T.m(e,null)},p(L,A){L[208].warnings>0&&T.p(L,A)},d(L){L&&J(e),T&&T.d()}}}function Ec(n){let e,t,i,s;return{c(){e=v("div"),t=v("button"),t.textContent=`Apply All Naming Suggestions (${n[208].warnings})`,y(t,"class","px-4 py-2 bg-[var(--background-modifier-success)] text-[var(--text-on-accent)] rounded hover:opacity-90 font-medium"),y(e,"class","pt-4 border-t border-[var(--background-modifier-border)]")},m(r,o){Q(r,e,o),p(e,t),i||(s=ee(t,"click",n[70]),i=!0)},p:fe,d(r){r&&J(e),i=!1,s()}}}function Di(n){let e,t,i,s=n[0].length+"",r,o,a,l,c,u=Pe(n[0]),g=[];for(let h=0;h<u.length;h+=1)g[h]=Mi(xi(n,u,h));const m=h=>G(g[h],1,1,()=>{g[h]=null});return{c(){e=v("div"),t=v("h3"),i=V("Custom Entity Types ("),r=V(s),o=V(")"),a=k(),l=v("div");for(let h=0;h<g.length;h+=1)g[h].c();y(t,"class","text-lg font-semibold mb-4"),y(l,"class","grid grid-cols-1 lg:grid-cols-2 gap-4 max-w-full")},m(h,d){Q(h,e,d),p(e,t),p(t,i),p(t,r),p(t,o),p(e,a),p(e,l);for(let f=0;f<g.length;f+=1)g[f]&&g[f].m(l,null);c=!0},p(h,d){if((!c||d[0]&1)&&s!==(s=h[0].length+"")&&ne(r,s),d[0]&33554817|d[1]&254|d[2]&512){u=Pe(h[0]);let f;for(f=0;f<u.length;f+=1){const b=xi(h,u,f);g[f]?(g[f].p(b,d),z(g[f],1)):(g[f]=Mi(b),g[f].c(),z(g[f],1),g[f].m(l,null))}for(Ce(),f=u.length;f<g.length;f+=1)m(f);ke()}},i(h){if(!c){for(let d=0;d<u.length;d+=1)z(g[d]);c=!0}},o(h){g=g.filter(Boolean);for(let d=0;d<g.length;d+=1)G(g[d]);c=!1},d(h){h&&J(e),Ge(g,h)}}}function Cc(n){let e,t=n[36](n[192].typeName)+"",i;return{c(){e=v("p"),i=V(t),y(e,"class","text-[var(--text-default)] text-sm leading-relaxed")},m(s,r){Q(s,e,r),p(e,i)},p(s,r){r[0]&1&&t!==(t=s[36](s[192].typeName)+"")&&ne(i,t)},i:fe,o:fe,d(s){s&&J(e)}}}function kc(n){let e,t,i,s,r=n[37](n[192].typeName),o,a,l,c,u,g,m,h;function d(){n[91].call(i,n[192])}let f=r&&Ti(n);function b(){return n[93](n[192])}return{c(){e=v("div"),t=v("div"),i=v("textarea"),s=k(),f&&f.c(),o=k(),a=v("div"),l=v("button"),l.textContent="Save",c=k(),u=v("button"),u.textContent="Cancel",y(i,"placeholder","Enter entity description..."),y(i,"class","flex-1 p-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm leading-relaxed resize-vertical min-h-15"),y(i,"rows","3"),y(t,"class","flex gap-2"),y(l,"class","px-3 py-1 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded text-sm font-medium hover:opacity-90 transition-colors duration-200"),y(u,"class","px-3 py-1 bg-[var(--background-modifier-border)] text-[var(--text-default)] rounded text-sm hover:opacity-90 transition-colors duration-200"),y(a,"class","flex gap-2 justify-end"),y(e,"class","flex flex-col gap-2")},m(w,S){Q(w,e,S),p(e,t),p(t,i),Ie(i,n[8][n[192].typeName]),p(t,s),f&&f.m(t,null),p(e,o),p(e,a),p(a,l),p(a,c),p(a,u),g=!0,m||(h=[ee(i,"input",d),ee(l,"click",b),ee(u,"click",n[35])],m=!0)},p(w,S){n=w,S[0]&257&&Ie(i,n[8][n[192].typeName]),S[0]&1&&(r=n[37](n[192].typeName)),r?f?(f.p(n,S),S[0]&1&&z(f,1)):(f=Ti(n),f.c(),z(f,1),f.m(t,null)):f&&(Ce(),G(f,1,1,()=>{f=null}),ke())},i(w){g||(z(f),g=!0)},o(w){G(f),g=!1},d(w){w&&J(e),f&&f.d(),m=!1,Ue(h)}}}function Ti(n){let e,t,i,s,r,o,a,l;t=new ce({props:{icon:"download",size:"medium"}});function c(){return n[92](n[192])}return{c(){e=v("button"),le(t.$$.fragment),i=k(),s=v("span"),s.textContent="Load Default",y(e,"class","px-2 py-2 bg-[var(--background-modifier-success)] text-[var(--text-success)] border border-[var(--background-modifier-success)] rounded hover:opacity-90 transition-colors duration-200 text-sm whitespace-nowrap flex items-center gap-1"),y(e,"title",r="Load default description for "+n[192].typeName)},m(u,g){Q(u,e,g),re(t,e,null),p(e,i),p(e,s),o=!0,a||(l=ee(e,"click",gt(c)),a=!0)},p(u,g){n=u,(!o||g[0]&1&&r!==(r="Load default description for "+n[192].typeName))&&y(e,"title",r)},i(u){o||(z(t.$$.fragment,u),o=!0)},o(u){G(t.$$.fragment,u),o=!1},d(u){u&&J(e),oe(t),a=!1,l()}}}function Mi(n){let e,t,i,s=n[192].typeName+"",r,o,a,l,c,u,g,m,h=n[25][n[192].typeName]?"Enabled":"Disabled",d,f,b,w,S,x,E,D,P,I,M,N,T,L,A,j,U,B=n[192].fileCount+"",W,X,K,$,R=n[192].properties.length+"",q,O,Y,te=n[206].score+"",_e,be,me,De,Re,ve,xe,de;function pe(){return n[88](n[192])}function we(){return n[89](n[192])}x=new ce({props:{icon:"pencil",size:"medium"}});function Le(){return n[90](n[192])}P=new ce({props:{icon:"sparkles",size:"medium"}});const ge=[kc,Cc],ze=[];function Ve(je,Ee){return je[7]===je[192].typeName?0:1}return N=Ve(n),T=ze[N]=ge[N](n),{c(){e=v("div"),t=v("div"),i=v("button"),r=V(s),o=k(),a=v("div"),l=v("label"),c=v("input"),g=k(),m=v("span"),d=V(h),w=k(),S=v("button"),le(x.$$.fragment),E=k(),D=v("button"),le(P.$$.fragment),I=k(),M=v("div"),T.c(),L=k(),A=v("div"),j=v("span"),U=V("Files: "),W=V(B),X=k(),K=v("span"),$=V("Props: "),q=V(R),O=k(),Y=v("span"),_e=V(te),be=V("% compliant"),De=k(),y(i,"class","text-lg font-semibold text-[var(--text-default)] hover:opacity-90 transition-colors duration-200 text-left"),y(c,"type","checkbox"),c.checked=u=!!n[25][n[192].typeName],y(c,"class","w-4 h-4 text-[var(--text-success)] bg-[var(--background-secondary)] border-[var(--background-modifier-border)] rounded focus:ring-[var(--text-success)] focus:ring-2"),y(m,"class",f="text-xs text-[var(--text-muted)] "+(n[25][n[192].typeName]?"text-[var(--text-success)]":"text-[var(--text-muted)]")),y(l,"class","flex items-center gap-1 cursor-pointer"),y(l,"title",b=n[25][n[192].typeName]?"Enabled in data.json - uncheck to disable":"Disabled - check to enable in data.json"),y(S,"class","p-1 rounded opacity-60 hover:opacity-100 hover:bg-[var(--background-modifier-border)] transition-all duration-200"),y(S,"title","Edit Description"),y(D,"class","p-1 rounded opacity-50 cursor-not-allowed"),y(D,"title","LLM Suggest"),D.disabled=!0,y(a,"class","flex gap-1 items-center"),y(t,"class","flex justify-between items-center mb-3"),y(M,"class","mb-3"),y(j,"class","flex items-center gap-1"),y(K,"class","flex items-center gap-1"),y(Y,"class",me="flex items-center gap-1 "+(n[206].score>=80?"text-[var(--text-success)]":n[206].score>=60?"text-[var(--text-warning)]":"text-[var(--text-error)]")),y(A,"class","flex gap-4 text-sm text-[var(--text-muted)]"),y(e,"class",Re="bg-[var(--background-secondary-alt)] border border-[var(--background-modifier-border)] rounded-lg p-4 cursor-pointer transition-all duration-200 hover:border-[var(--interactive-accent)] hover:shadow-md "+(ds===n[192].typeName?"border-[var(--interactive-accent)] shadow-md ring-2 ring-[var(--background-modifier-border)]":""))},m(je,Ee){Q(je,e,Ee),p(e,t),p(t,i),p(i,r),p(t,o),p(t,a),p(a,l),p(l,c),p(l,g),p(l,m),p(m,d),p(a,w),p(a,S),re(x,S,null),p(a,E),p(a,D),re(P,D,null),p(e,I),p(e,M),ze[N].m(M,null),p(e,L),p(e,A),p(A,j),p(j,U),p(j,W),p(A,X),p(A,K),p(K,$),p(K,q),p(A,O),p(A,Y),p(Y,_e),p(Y,be),p(e,De),ve=!0,xe||(de=[ee(i,"click",pe),ee(c,"change",gt(we)),ee(S,"click",gt(Le))],xe=!0)},p(je,Ee){n=je,(!ve||Ee[0]&1)&&s!==(s=n[192].typeName+"")&&ne(r,s),(!ve||Ee[0]&33554433&&u!==(u=!!n[25][n[192].typeName]))&&(c.checked=u),(!ve||Ee[0]&33554433)&&h!==(h=n[25][n[192].typeName]?"Enabled":"Disabled")&&ne(d,h),(!ve||Ee[0]&33554433&&f!==(f="text-xs text-[var(--text-muted)] "+(n[25][n[192].typeName]?"text-[var(--text-success)]":"text-[var(--text-muted)]")))&&y(m,"class",f),(!ve||Ee[0]&33554433&&b!==(b=n[25][n[192].typeName]?"Enabled in data.json - uncheck to disable":"Disabled - check to enable in data.json"))&&y(l,"title",b);let Ze=N;N=Ve(n),N===Ze?ze[N].p(n,Ee):(Ce(),G(ze[Ze],1,1,()=>{ze[Ze]=null}),ke(),T=ze[N],T?T.p(n,Ee):(T=ze[N]=ge[N](n),T.c()),z(T,1),T.m(M,null)),(!ve||Ee[0]&1)&&B!==(B=n[192].fileCount+"")&&ne(W,B),(!ve||Ee[0]&1)&&R!==(R=n[192].properties.length+"")&&ne(q,R),(!ve||Ee[0]&1)&&te!==(te=n[206].score+"")&&ne(_e,te),(!ve||Ee[0]&1&&me!==(me="flex items-center gap-1 "+(n[206].score>=80?"text-[var(--text-success)]":n[206].score>=60?"text-[var(--text-warning)]":"text-[var(--text-error)]")))&&y(Y,"class",me),(!ve||Ee[0]&1&&Re!==(Re="bg-[var(--background-secondary-alt)] border border-[var(--background-modifier-border)] rounded-lg p-4 cursor-pointer transition-all duration-200 hover:border-[var(--interactive-accent)] hover:shadow-md "+(ds===n[192].typeName?"border-[var(--interactive-accent)] shadow-md ring-2 ring-[var(--background-modifier-border)]":"")))&&y(e,"class",Re)},i(je){ve||(z(x.$$.fragment,je),z(P.$$.fragment,je),z(T),ve=!0)},o(je){G(x.$$.fragment,je),G(P.$$.fragment,je),G(T),ve=!1},d(je){je&&J(e),oe(x),oe(P),ze[N].d(),xe=!1,Ue(de)}}}function Ni(n){let e,t,i,s,r,o,a,l,c,u,g,m,h,d,f,b,w,S,x,E,D,P,I,M,N,T,L,A,j,U;s=new ce({props:{icon:"sparkles"}});const B=[Dc,Pc],W=[];function X(K,$){return K[0].length>0?0:1}return T=X(n),L=W[T]=B[T](n),{c(){e=v("div"),t=v("div"),i=v("h3"),le(s.$$.fragment),r=k(),o=v("span"),o.textContent="LLM Automatic Property Descriptions",a=k(),l=v("p"),l.textContent="Use AI to automatically generate property descriptions and configure property settings for all entities.",c=k(),u=v("div"),g=v("button"),g.textContent="Generate All Property Descriptions (disabled)",m=k(),h=v("button"),h.textContent="Suggest Property Types (disabled)",d=k(),f=v("button"),f.textContent="Load Default Descriptions",b=k(),w=v("button"),w.textContent="Enable Default Properties",S=k(),x=v("span"),x.textContent="LLM integration coming soon",E=k(),D=v("div"),P=v("h3"),P.textContent="All Entity Properties",I=k(),M=v("p"),M.textContent="Configure property mappings, descriptions, and field types for all entity types.",N=k(),L.c(),y(i,"class","text-xl font-semibold mb-2 flex items-center gap-2"),y(l,"class","mb-4 opacity-90 leading-relaxed"),y(g,"class","px-4 py-2 bg-[rgba(255,255,255,0.06)] border border-[rgba(255,255,255,0.08)] rounded-md text-sm transition-all duration-200 backdrop-blur-sm hover:bg-[rgba(255,255,255,0.09)] disabled:opacity-50 disabled:cursor-not-allowed"),g.disabled=!0,y(h,"class","px-4 py-2 bg-[rgba(255,255,255,0.06)] border border-[rgba(255,255,255,0.08)] rounded-md text-sm transition-all duration-200 backdrop-blur-sm hover:bg-[rgba(255,255,255,0.09)] disabled:opacity-50 disabled:cursor-not-allowed"),h.disabled=!0,y(f,"class","px-4 py-2 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.06)] rounded-md text-sm transition-all duration-200 backdrop-blur-sm hover:bg-[rgba(255,255,255,0.06)] hover:border-[rgba(255,255,255,0.08)]"),y(f,"title","Load all default property descriptions into data.json"),y(w,"class","px-4 py-2 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.06)] rounded-md text-sm transition-all duration-200 backdrop-blur-sm hover:bg-[rgba(255,255,255,0.06)] hover:border-[rgba(255,255,255,0.08)]"),y(w,"title","Enable all properties for which we have default descriptions"),y(x,"class","text-xs opacity-70 italic"),y(u,"class","flex gap-3 flex-wrap items-center"),y(t,"class","bg-gradient-to-br from-[var(--interactive-accent)] to-[var(--background-secondary)] text-[var(--text-on-accent)] p-6 rounded-xl mb-6 shadow-md"),y(P,"class","text-lg font-semibold mb-2 text-[var(--text-default)]"),y(M,"class","text-[var(--text-muted)] mb-6"),y(e,"class","animate-fadeIn"),y(e,"id","properties-panel")},m(K,$){Q(K,e,$),p(e,t),p(t,i),re(s,i,null),p(i,r),p(i,o),p(t,a),p(t,l),p(t,c),p(t,u),p(u,g),p(u,m),p(u,h),p(u,d),p(u,f),p(u,b),p(u,w),p(u,S),p(u,x),p(e,E),p(e,D),p(D,P),p(D,I),p(D,M),p(D,N),W[T].m(D,null),A=!0,j||(U=[ee(f,"click",n[73]),ee(w,"click",n[74])],j=!0)},p(K,$){let R=T;T=X(K),T===R?W[T].p(K,$):(Ce(),G(W[R],1,1,()=>{W[R]=null}),ke(),L=W[T],L?L.p(K,$):(L=W[T]=B[T](K),L.c()),z(L,1),L.m(D,null))},i(K){A||(z(s.$$.fragment,K),z(L),A=!0)},o(K){G(s.$$.fragment,K),G(L),A=!1},d(K){K&&J(e),oe(s),W[T].d(),j=!1,Ue(U)}}}function Pc(n){let e;return{c(){e=v("div"),e.innerHTML="<p>No entity types found. Run schema discovery first.</p>",y(e,"class","text-center py-8 text-[var(--text-muted)]")},m(t,i){Q(t,e,i)},p:fe,i:fe,o:fe,d(t){t&&J(e)}}}function Dc(n){let e,t,i,s,r,o,a,l,c,u,g,m,h,d,f,b=n[6].has("BaseEntity"),w,S,x,E;const D=[Mc,Tc],P=[];function I(A,j){return j[0]&64&&(g=null),g==null&&(g=!!A[6].has("BaseEntity")),g?0:1}m=I(n,[-1,-1,-1,-1,-1,-1,-1]),h=P[m]=D[m](n);let M=b&&Ai(),N=Pe(n[0]),T=[];for(let A=0;A<N.length;A+=1)T[A]=Vi(Si(n,N,A));const L=A=>G(T[A],1,1,()=>{T[A]=null});return{c(){e=v("div"),t=v("div"),i=v("div"),s=v("button"),r=v("h4"),r.innerHTML='BaseEntity <span class="text-xs bg-[var(--background-modifier-border)] text-[var(--text-muted)] px-2 py-1 rounded ml-2">SYSTEM</span>',o=k(),a=v("div"),l=v("span"),l.textContent="3 of 3 enabled",c=k(),u=v("span"),h.c(),f=k(),M&&M.c(),w=k();for(let A=0;A<T.length;A+=1)T[A].c();y(r,"class","font-semibold text-[var(--text-default)]"),y(l,"class","text-xs text-[var(--text-muted)] bg-[var(--background-modifier-border)] px-2 py-1 rounded-full"),y(u,"class","text-lg text-[var(--text-muted)] font-bold ml-4"),y(a,"class","flex items-center gap-4"),y(s,"class","flex-1 flex justify-between items-center text-left cursor-pointer transition-colors duration-200 hover:opacity-90"),y(i,"class",d="flex justify-between items-center w-full p-4 bg-[var(--background-secondary)] border-none "+(n[6].has("BaseEntity")?"border-b border-[var(--background-modifier-border)]":"")),y(t,"class","bg-[var(--background-primary-alt)] border-2 border-[var(--background-modifier-border)] rounded-lg overflow-hidden"),y(t,"id","accordion-BaseEntity"),y(e,"class","flex flex-col gap-4")},m(A,j){Q(A,e,j),p(e,t),p(t,i),p(i,s),p(s,r),p(s,o),p(s,a),p(a,l),p(a,c),p(a,u),P[m].m(u,null),p(t,f),M&&M.m(t,null),p(e,w);for(let U=0;U<T.length;U+=1)T[U]&&T[U].m(e,null);S=!0,x||(E=ee(s,"click",n[94]),x=!0)},p(A,j){let U=m;if(m=I(A,j),m!==U&&(Ce(),G(P[U],1,1,()=>{P[U]=null}),ke(),h=P[m],h||(h=P[m]=D[m](A),h.c()),z(h,1),h.m(u,null)),(!S||j[0]&64&&d!==(d="flex justify-between items-center w-full p-4 bg-[var(--background-secondary)] border-none "+(A[6].has("BaseEntity")?"border-b border-[var(--background-modifier-border)]":"")))&&y(i,"class",d),j[0]&64&&(b=A[6].has("BaseEntity")),b?M?j[0]&64&&z(M,1):(M=Ai(),M.c(),z(M,1),M.m(t,null)):M&&(Ce(),G(M,1,1,()=>{M=null}),ke()),j[0]&50331721|j[1]&769|j[2]&57983){N=Pe(A[0]);let B;for(B=0;B<N.length;B+=1){const W=Si(A,N,B);T[B]?(T[B].p(W,j),z(T[B],1)):(T[B]=Vi(W),T[B].c(),z(T[B],1),T[B].m(e,null))}for(Ce(),B=N.length;B<T.length;B+=1)L(B);ke()}},i(A){if(!S){z(h),z(M);for(let j=0;j<N.length;j+=1)z(T[j]);S=!0}},o(A){G(h),G(M),T=T.filter(Boolean);for(let j=0;j<T.length;j+=1)G(T[j]);S=!1},d(A){A&&J(e),P[m].d(),M&&M.d(),Ge(T,A),x=!1,E()}}}function Tc(n){let e,t;return e=new ce({props:{icon:"chevron-right",size:"medium"}}),{c(){le(e.$$.fragment)},m(i,s){re(e,i,s),t=!0},i(i){t||(z(e.$$.fragment,i),t=!0)},o(i){G(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function Mc(n){let e,t;return e=new ce({props:{icon:"chevron-down",size:"medium"}}),{c(){le(e.$$.fragment)},m(i,s){re(e,i,s),t=!0},i(i){t||(z(e.$$.fragment,i),t=!0)},o(i){G(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function Ai(n){let e,t,i,s,r,o,a,l,c,u,g,m,h,d,f,b,w,S,x,E,D,P,I,M,N,T,L,A,j,U,B,W,X,K,$,R,q;return u=new ce({props:{icon:"lock",size:"medium"}}),x=new ce({props:{icon:"lock",size:"medium"}}),A=new ce({props:{icon:"lock",size:"medium"}}),B=new ce({props:{icon:"info",size:"medium"}}),{c(){e=v("div"),t=v("div"),i=v("div"),s=v("div"),s.innerHTML=`<input type="checkbox" checked="${!0}" disabled="${!0}" class="rounded border-[var(--background-modifier-border)] text-[var(--interactive-accent)] focus:ring-[var(--interactive-accent)] disabled:opacity-50 disabled:cursor-not-allowed" title="Base Entity properties are always enabled"/> <span class="font-medium text-[var(--text-default)]">type</span> <span class="text-[var(--text-muted)] text-sm">(string)</span> <span class="text-xs px-2 py-1 bg-[var(--background-modifier-border)] text-[var(--text-muted)] rounded font-bold uppercase tracking-wide ml-auto">SYSTEM</span>`,r=k(),o=v("div"),a=v("input"),l=k(),c=v("button"),le(u.$$.fragment),g=k(),m=v("div"),h=v("div"),h.innerHTML=`<input type="checkbox" checked="${!0}" disabled="${!0}" class="rounded border-[var(--background-modifier-border)] text-[var(--interactive-accent)] focus:ring-[var(--interactive-accent)] disabled:opacity-50 disabled:cursor-not-allowed" title="Base Entity properties are always enabled"/> <span class="font-medium text-[var(--text-default)]">tags</span> <span class="text-[var(--text-muted)] text-sm">(List[str])</span> <span class="text-xs px-2 py-1 bg-[var(--background-modifier-border)] text-[var(--text-muted)] rounded font-bold uppercase tracking-wide ml-auto">SYSTEM</span>`,d=k(),f=v("div"),b=v("input"),w=k(),S=v("button"),le(x.$$.fragment),E=k(),D=v("div"),P=v("div"),P.innerHTML=`<input type="checkbox" checked="${!0}" disabled="${!0}" class="rounded border-[var(--background-modifier-border)] text-[var(--interactive-accent)] focus:ring-[var(--interactive-accent)] disabled:opacity-50 disabled:cursor-not-allowed" title="Base Entity properties are always enabled"/> <span class="font-medium text-[var(--text-default)]">created</span> <span class="text-[var(--text-muted)] text-sm">(datetime)</span> <span class="text-xs px-2 py-1 bg-[var(--background-modifier-border)] text-[var(--text-muted)] rounded font-bold uppercase tracking-wide ml-auto">SYSTEM</span>`,I=k(),M=v("div"),N=v("input"),T=k(),L=v("button"),le(A.$$.fragment),j=k(),U=v("div"),le(B.$$.fragment),W=k(),X=v("strong"),X.textContent="Base Entity Properties:",K=V(` These core properties are inherited by all custom entity types and are always enabled.\r
                      `),$=v("br"),R=v("span"),R.textContent="All generated Pydantic models automatically include these foundational fields.",y(s,"class","flex items-center gap-2 flex-wrap"),y(a,"type","text"),a.value="Entity type identifier for classification and model selection",a.disabled=!0,y(a,"class","flex-1 px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm min-w-48 disabled:opacity-50 bg-[var(--background-modifier-border)]"),y(c,"class","px-2 py-2 bg-[var(--background-modifier-border)] border border-[var(--background-modifier-border)] rounded text-sm opacity-50 cursor-not-allowed"),y(c,"title","System properties cannot be edited"),c.disabled=!0,y(o,"class","flex items-center gap-2"),y(i,"class","flex flex-col gap-2 p-3 bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded-md"),y(h,"class","flex items-center gap-2 flex-wrap"),y(b,"type","text"),b.value="Tags and labels for categorization and organization",b.disabled=!0,y(b,"class","flex-1 px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm min-w-48 disabled:opacity-50 bg-[var(--background-modifier-border)]"),y(S,"class","px-2 py-2 bg-[var(--background-modifier-border)] border border-[var(--background-modifier-border)] rounded text-sm opacity-50 cursor-not-allowed"),y(S,"title","System properties cannot be edited"),S.disabled=!0,y(f,"class","flex items-center gap-2"),y(m,"class","flex flex-col gap-2 p-3 bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded-md"),y(P,"class","flex items-center gap-2 flex-wrap"),y(N,"type","text"),N.value="Timestamp when the entity was first created or discovered",N.disabled=!0,y(N,"class","flex-1 px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm min-w-48 disabled:opacity-50 bg-[var(--background-modifier-border)]"),y(L,"class","px-2 py-2 bg-[var(--background-modifier-border)] border border-[var(--background-modifier-border)] rounded text-sm opacity-50 cursor-not-allowed"),y(L,"title","System properties cannot be edited"),L.disabled=!0,y(M,"class","flex items-center gap-2"),y(D,"class","flex flex-col gap-2 p-3 bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded-md"),y(t,"class","flex flex-col gap-3"),y(R,"class","text-xs text-[var(--text-muted)]"),y(U,"class","mt-4 p-3 bg-[var(--background-modifier-border)] border border-[var(--background-modifier-border)] rounded text-sm leading-relaxed text-[var(--text-default)] flex items-center gap-2"),y(e,"class","p-4 bg-[var(--background-secondary-alt)]")},m(O,Y){Q(O,e,Y),p(e,t),p(t,i),p(i,s),p(i,r),p(i,o),p(o,a),p(o,l),p(o,c),re(u,c,null),p(t,g),p(t,m),p(m,h),p(m,d),p(m,f),p(f,b),p(f,w),p(f,S),re(x,S,null),p(t,E),p(t,D),p(D,P),p(D,I),p(D,M),p(M,N),p(M,T),p(M,L),re(A,L,null),p(e,j),p(e,U),re(B,U,null),p(U,W),p(U,X),p(U,K),p(U,$),p(U,R),q=!0},i(O){q||(z(u.$$.fragment,O),z(x.$$.fragment,O),z(A.$$.fragment,O),z(B.$$.fragment,O),q=!0)},o(O){G(u.$$.fragment,O),G(x.$$.fragment,O),G(A.$$.fragment,O),G(B.$$.fragment,O),q=!1},d(O){O&&J(e),oe(u),oe(x),oe(A),oe(B)}}}function Nc(n){let e,t;return e=new ce({props:{icon:"chevron-right",size:"medium"}}),{c(){le(e.$$.fragment)},m(i,s){re(e,i,s),t=!0},i(i){t||(z(e.$$.fragment,i),t=!0)},o(i){G(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function Ac(n){let e,t;return e=new ce({props:{icon:"chevron-down",size:"medium"}}),{c(){le(e.$$.fragment)},m(i,s){re(e,i,s),t=!0},i(i){t||(z(e.$$.fragment,i),t=!0)},o(i){G(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function Oi(n){let e,t,i,s,r,o;function a(){return n[97](n[192])}function l(){return n[98](n[192])}return{c(){e=v("div"),t=v("button"),t.textContent="Select All",i=k(),s=v("button"),s.textContent="Deselect All",y(t,"class","px-2 py-1 text-xs bg-[var(--background-modifier-success)] text-[var(--text-success)] border border-green-300 rounded hover:bg-green-200 transition-colors duration-200"),y(t,"title","Enable all non-protected, non-ignored properties"),y(s,"class","px-2 py-1 text-xs bg-[var(--background-modifier-error)] text-[var(--text-error)] border border-[var(--background-modifier-error)] rounded hover:bg-[var(--background-modifier-error)] transition-colors duration-200"),y(s,"title","Disable all properties"),y(e,"class","flex gap-2 ml-4")},m(c,u){Q(c,e,u),p(e,t),p(e,i),p(e,s),r||(o=[ee(t,"click",gt(a)),ee(s,"click",gt(l))],r=!0)},p(c,u){n=c},d(c){c&&J(e),r=!1,Ue(o)}}}function Ii(n){let e,t,i,s,r;const o=[Ic,Oc],a=[];function l(u,g){return u[192].properties&&u[192].properties.length>0?0:1}t=l(n),i=a[t]=o[t](n);let c=n[192].properties&&n[192].properties.length>0&&Bi(n);return{c(){e=v("div"),i.c(),s=k(),c&&c.c(),y(e,"class","p-4")},m(u,g){Q(u,e,g),a[t].m(e,null),p(e,s),c&&c.m(e,null),r=!0},p(u,g){let m=t;t=l(u),t===m?a[t].p(u,g):(Ce(),G(a[m],1,1,()=>{a[m]=null}),ke(),i=a[t],i?i.p(u,g):(i=a[t]=o[t](u),i.c()),z(i,1),i.m(e,s)),u[192].properties&&u[192].properties.length>0?c?(c.p(u,g),g[0]&1&&z(c,1)):(c=Bi(u),c.c(),z(c,1),c.m(e,null)):c&&(Ce(),G(c,1,1,()=>{c=null}),ke())},i(u){r||(z(i),z(c),r=!0)},o(u){G(i),G(c),r=!1},d(u){u&&J(e),a[t].d(),c&&c.d()}}}function Oc(n){let e;return{c(){e=v("p"),e.textContent="No properties found for this entity type.",y(e,"class","text-[var(--text-muted)] italic text-center py-4")},m(t,i){Q(t,e,i)},p:fe,i:fe,o:fe,d(t){t&&J(e)}}}function Ic(n){let e,t,i=Pe(n[192].properties),s=[];for(let o=0;o<i.length;o+=1)s[o]=zi(_i(n,i,o));const r=o=>G(s[o],1,1,()=>{s[o]=null});return{c(){e=v("div");for(let o=0;o<s.length;o+=1)s[o].c();y(e,"class","flex flex-col gap-3")},m(o,a){Q(o,e,a);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(e,null);t=!0},p(o,a){if(a[0]&16777225|a[1]&768|a[2]&8319){i=Pe(o[192].properties);let l;for(l=0;l<i.length;l+=1){const c=_i(o,i,l);s[l]?(s[l].p(c,a),z(s[l],1)):(s[l]=zi(c),s[l].c(),z(s[l],1),s[l].m(e,null))}for(Ce(),l=i.length;l<s.length;l+=1)r(l);ke()}},i(o){if(!t){for(let a=0;a<i.length;a+=1)z(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)G(s[a]);t=!1},d(o){o&&J(e),Ge(s,o)}}}function Ri(n){let e,t,i=n[202]+"",s,r;return{c(){e=v("span"),t=V("MAPPED FROM: "),s=V(i),y(e,"class","text-xs px-2 py-1 bg-[var(--background-modifier-border)] text-[var(--text-muted)] rounded font-medium"),y(e,"title",r="This property is the result of a mapping from: "+n[202])},m(o,a){Q(o,e,a),p(e,t),p(e,s)},p(o,a){a[0]&1&&i!==(i=o[202]+"")&&ne(s,i),a[0]&1&&r!==(r="This property is the result of a mapping from: "+o[202])&&y(e,"title",r)},d(o){o&&J(e)}}}function Li(n){let e,t,i,s,r,o=n[203]?"Property Defined":"Property Not Defined",a,l,c,u,g;function m(){return n[100](n[192],n[197])}return{c(){e=v("label"),t=v("input"),s=k(),r=v("span"),a=V(o),y(t,"type","checkbox"),t.checked=i=n[203],y(t,"class","w-4 h-4 text-[var(--text-success)] bg-[var(--background-secondary)] border-[var(--background-modifier-border)] rounded focus:ring-[var(--text-success)] focus:ring-2"),y(r,"class",l="text-xs "+(n[203]?"text-[var(--text-success)]":"text-[var(--text-muted)]")),y(e,"class","flex items-center gap-1 cursor-pointer"),y(e,"title",c=n[203]?"Property defined in data.json - uncheck to remove definition":"Property not defined - check to add definition to data.json")},m(h,d){Q(h,e,d),p(e,t),p(e,s),p(e,r),p(r,a),u||(g=ee(t,"change",gt(m)),u=!0)},p(h,d){n=h,d[0]&16777217&&i!==(i=n[203])&&(t.checked=i),d[0]&16777217&&o!==(o=n[203]?"Property Defined":"Property Not Defined")&&ne(a,o),d[0]&16777217&&l!==(l="text-xs "+(n[203]?"text-[var(--text-success)]":"text-[var(--text-muted)]"))&&y(r,"class",l),d[0]&16777217&&c!==(c=n[203]?"Property defined in data.json - uncheck to remove definition":"Property not defined - check to add definition to data.json")&&y(e,"title",c)},d(h){h&&J(e),u=!1,g()}}}function Rc(n){let e;return{c(){e=v("span"),e.textContent="DISABLED",y(e,"class","text-xs px-2 py-1 bg-[var(--background-modifier-border)] text-[var(--text-muted)] rounded font-bold uppercase tracking-wide ml-auto")},m(t,i){Q(t,e,i)},d(t){t&&J(e)}}}function Lc(n){let e;return{c(){e=v("span"),e.textContent="ENABLED",y(e,"class","text-xs px-2 py-1 bg-[var(--background-modifier-success)] text-[var(--text-on-accent)] rounded font-bold uppercase tracking-wide ml-auto")},m(t,i){Q(t,e,i)},d(t){t&&J(e)}}}function Fc(n){let e;return{c(){e=v("span"),e.textContent="NAMING",y(e,"class","text-xs px-2 py-1 bg-[var(--background-modifier-warning)] text-[var(--text-on-accent)] rounded font-bold uppercase tracking-wide ml-auto")},m(t,i){Q(t,e,i)},d(t){t&&J(e)}}}function $c(n){let e;return{c(){e=v("span"),e.textContent="IGNORED",y(e,"class","text-xs px-2 py-1 bg-[var(--background-modifier-border)] text-[var(--text-muted)] rounded font-bold uppercase tracking-wide ml-auto")},m(t,i){Q(t,e,i)},d(t){t&&J(e)}}}function Uc(n){let e;return{c(){e=v("span"),e.textContent="PROTECTED",y(e,"class","text-xs px-2 py-1 bg-[var(--background-modifier-error)] text-[var(--text-on-accent)] rounded font-bold uppercase tracking-wide ml-auto")},m(t,i){Q(t,e,i)},d(t){t&&J(e)}}}function Fi(n){let e,t,i,s,r,o;t=new ce({props:{icon:"download",size:"medium"}});function a(){return n[102](n[192],n[197])}return{c(){var l;e=v("button"),le(t.$$.fragment),y(e,"class","px-2 py-2 bg-[var(--background-modifier-success)] text-[var(--text-on-accent)] border border-[var(--background-modifier-border)] rounded hover:opacity-90 transition-colors duration-200 text-sm whitespace-nowrap"),y(e,"title",i="Load default description for "+((l=n[197])==null?void 0:l.name))},m(l,c){Q(l,e,c),re(t,e,null),s=!0,r||(o=ee(e,"click",a),r=!0)},p(l,c){var u;n=l,(!s||c[0]&1&&i!==(i="Load default description for "+((u=n[197])==null?void 0:u.name)))&&y(e,"title",i)},i(l){s||(z(t.$$.fragment,l),s=!0)},o(l){G(t.$$.fragment,l),s=!1},d(l){l&&J(e),oe(t),r=!1,o()}}}function jc(n){let e,t,i,s,r,o;return t=new ce({props:{icon:"info",size:"medium"}}),{c(){e=v("div"),le(t.$$.fragment),i=k(),s=v("strong"),s.textContent="Property Disabled:",r=V(" This property is currently disabled and will not be included in the generated Pydantic model."),y(e,"class","mt-2 p-3 bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded text-sm leading-relaxed text-[var(--text-default)] flex items-center gap-2")},m(a,l){Q(a,e,l),re(t,e,null),p(e,i),p(e,s),p(e,r),o=!0},p:fe,i(a){o||(z(t.$$.fragment,a),o=!0)},o(a){G(t.$$.fragment,a),o=!1},d(a){a&&J(e),oe(t)}}}function zc(n){var x;let e,t,i,s,r,o=n[197].namingIssues.join(", ")+"",a,l,c,u,g,m,h=(((x=n[197])==null?void 0:x.suggestedName)||"Suggestion")+"",d,f,b,w;i=new ce({props:{icon:"lightbulb"}});function S(){return n[103](n[196],n[205])}return{c(){e=v("div"),t=v("strong"),le(i.$$.fragment),s=V(" Naming Suggestion:"),r=k(),a=V(o),l=k(),c=v("br"),u=k(),g=v("button"),m=V("Apply: "),d=V(h),y(g,"class","mt-2 px-3 py-1 bg-[var(--background-modifier-warning)] text-[var(--text-on-accent)] rounded text-xs font-medium hover:opacity-90 transition-colors duration-200"),y(e,"class","mt-2 p-3 bg-orange-100 border border-orange-200 rounded text-sm leading-relaxed text-gray-900")},m(E,D){Q(E,e,D),p(e,t),re(i,t,null),p(t,s),p(e,r),p(e,a),p(e,l),p(e,c),p(e,u),p(e,g),p(g,m),p(g,d),f=!0,b||(w=ee(g,"click",S),b=!0)},p(E,D){var P;n=E,(!f||D[0]&1)&&o!==(o=n[197].namingIssues.join(", ")+"")&&ne(a,o),(!f||D[0]&1)&&h!==(h=(((P=n[197])==null?void 0:P.suggestedName)||"Suggestion")+"")&&ne(d,h)},i(E){f||(z(i.$$.fragment,E),f=!0)},o(E){G(i.$$.fragment,E),f=!1},d(E){E&&J(e),oe(i),b=!1,w()}}}function Bc(n){var c,u;let e,t,i,s,r,o,a=(((u=(c=n[3])==null?void 0:c.globallyIgnoredFields)==null?void 0:u.join(", "))||"none")+"",l;return{c(){e=v("div"),t=v("strong"),t.textContent=" Globally Ignored Field:",i=V(` This property is in the globally ignored fields list and will be automatically excluded from Pydantic model generation.\r
                                  `),s=v("br"),r=v("span"),o=V("Globally ignored fields: "),l=V(a),y(r,"class","text-xs text-[var(--text-muted)]"),y(e,"class","mt-2 p-3 bg-[var(--background-modifier-border)] border border-[var(--background-modifier-border)] rounded text-sm leading-relaxed text-[var(--text-default)]")},m(g,m){Q(g,e,m),p(e,t),p(e,i),p(e,s),p(e,r),p(r,o),p(r,l)},p(g,m){var h,d;m[0]&8&&a!==(a=(((d=(h=g[3])==null?void 0:h.globallyIgnoredFields)==null?void 0:d.join(", "))||"none")+"")&&ne(l,a)},i:fe,o:fe,d(g){g&&J(e)}}}function Vc(n){var l;let e,t,i,s,r,o;t=new ce({props:{icon:"alert-triangle",size:"medium"}});let a=((l=n[197])==null?void 0:l.suggestedName)&&n[197].suggestedName!==n[197].name&&$i(n);return{c(){e=v("div"),le(t.$$.fragment),i=k(),s=v("strong"),s.textContent="Protected Attribute:",r=V(` This is a reserved Graphiti attribute and cannot be used.\r
                                  `),a&&a.c(),y(e,"class","mt-2 p-3 bg-[var(--background-modifier-error)] border border-[var(--background-modifier-border)] rounded text-sm leading-relaxed text-[var(--text-on-accent)] flex items-center gap-2")},m(c,u){Q(c,e,u),re(t,e,null),p(e,i),p(e,s),p(e,r),a&&a.m(e,null),o=!0},p(c,u){var g;(g=c[197])!=null&&g.suggestedName&&c[197].suggestedName!==c[197].name?a?a.p(c,u):(a=$i(c),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(c){o||(z(t.$$.fragment,c),o=!0)},o(c){G(t.$$.fragment,c),o=!1},d(c){c&&J(e),oe(t),a&&a.d()}}}function $i(n){let e,t,i,s=n[197].suggestedName+"",r;return{c(){e=v("br"),t=V("Consider using: "),i=v("code"),r=V(s),y(i,"class","bg-black/10 px-1 py-0.5 rounded font-mono text-xs")},m(o,a){Q(o,e,a),Q(o,t,a),Q(o,i,a),p(i,r)},p(o,a){a[0]&1&&s!==(s=o[197].suggestedName+"")&&ne(r,s)},d(o){o&&(J(e),J(t),J(i))}}}function Ui(n){let e,t,i,s=n[197].examples.slice(0,3).join(", ")+"",r,o,a=n[197].examples.length>3&&ji();return{c(){e=v("div"),t=v("strong"),t.textContent="Examples:",i=k(),r=V(s),o=k(),a&&a.c(),y(e,"class","text-xs text-[var(--text-muted)] italic mt-1")},m(l,c){Q(l,e,c),p(e,t),p(e,i),p(e,r),p(e,o),a&&a.m(e,null)},p(l,c){c[0]&1&&s!==(s=l[197].examples.slice(0,3).join(", ")+"")&&ne(r,s),l[197].examples.length>3?a||(a=ji(),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(l){l&&J(e),a&&a.d()}}}function ji(n){let e;return{c(){e=V("...")},m(t,i){Q(t,e,i)},d(t){t&&J(e)}}}function zi(n){var ze,Ve,je,Ee,Ze,lt;let e,t,i,s,r,o,a,l,c=(((ze=n[197])==null?void 0:ze.name)||"Unknown")+"",u,g,m,h,d,f=(((Ve=n[197])==null?void 0:Ve.inferredType)||"string")+"",b,w,S,x,E,D,P,I,M,N,T,L,A=n[39](((je=n[197])==null?void 0:je.name)||"")&&!((Ee=n[197])!=null&&Ee.isProtected)&&!n[198],j,U,B,W,X,K,$,R,q,O,Y,te;function _e(...he){return n[99](n[196],n[205],...he)}let be=n[201]&&Ri(n),me=!((Ze=n[197])!=null&&Ze.isProtected)&&!n[198]&&Li(n);function De(he,ye){var Te,Me;return(Te=he[197])!=null&&Te.isProtected?Uc:he[198]?$c:((Me=he[197])==null?void 0:Me.complianceStatus)==="warning"?Fc:he[200]?Lc:Rc}let Re=De(n),ve=Re(n);function xe(...he){return n[101](n[196],n[205],...he)}let de=A&&Fi(n);B=new ce({props:{icon:"sparkles",size:"medium"}});const pe=[Vc,Bc,zc,jc],we=[];function Le(he,ye){var Te,Me;return(Te=he[197])!=null&&Te.isProtected?0:he[198]?1:(Me=he[197])!=null&&Me.namingIssues&&he[197].namingIssues.length>0?2:he[200]?-1:3}~(X=Le(n))&&(K=we[X]=pe[X](n));let ge=((lt=n[197])==null?void 0:lt.examples)&&n[197].examples.length>0&&Ui(n);return{c(){var he,ye,Te,Me,Fe,Ne,et;e=v("div"),t=v("div"),i=v("input"),a=k(),l=v("span"),u=V(c),m=k(),h=v("span"),d=V("("),b=V(f),w=V(")"),S=k(),be&&be.c(),x=k(),me&&me.c(),E=k(),ve.c(),D=k(),P=v("div"),I=v("input"),L=k(),de&&de.c(),j=k(),U=v("button"),le(B.$$.fragment),W=k(),K&&K.c(),$=k(),ge&&ge.c(),R=k(),y(i,"type","checkbox"),i.checked=s=n[200]&&!n[198],i.disabled=r=((he=n[197])==null?void 0:he.isProtected)||n[198],y(i,"class","rounded border-[var(--background-modifier-border)] text-[var(--interactive-accent)] focus:ring-[var(--interactive-accent)] disabled:opacity-50 disabled:cursor-not-allowed"),y(i,"title",o=n[198]?"This property is globally ignored and cannot be enabled":(ye=n[197])!=null&&ye.isProtected?"Protected properties cannot be enabled":"Enable/disable this property for Pydantic model generation"),y(l,"class",g="font-medium text-[var(--text-default)] "+(n[198]?"text-[var(--text-muted)] line-through":"")),y(h,"class","text-[var(--text-muted)] text-sm"),y(t,"class","flex items-center gap-2 flex-wrap"),y(I,"type","text"),I.value=M=n[67](n[192].typeName,((Te=n[197])==null?void 0:Te.name)||"",((Me=n[197])==null?void 0:Me.description)||""),y(I,"placeholder","Property description"),y(I,"class",N="flex-1 px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm min-w-48 disabled:opacity-50 "+(n[198]?"bg-[var(--background-modifier-border)]":"")),I.disabled=T=((Fe=n[197])==null?void 0:Fe.isProtected)||n[198],y(U,"class","px-2 py-2 bg-[var(--background-modifier-border)] border border-[var(--background-modifier-border)] rounded text-sm opacity-50 cursor-not-allowed"),y(U,"title","LLM Suggest Description"),U.disabled=!0,y(P,"class","flex items-center gap-2"),y(e,"class",q="flex flex-col gap-2 p-3 bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded-md "+((Ne=n[197])!=null&&Ne.isProtected?"border-l-4 border-l-[var(--text-error)] bg-[var(--background-modifier-error)]":((et=n[197])==null?void 0:et.complianceStatus)==="warning"?"border-l-4 border-l-[var(--text-warning)] bg-[var(--background-modifier-warning)]":n[198]?"border-l-4 border-l-[var(--text-muted)] bg-[var(--background-modifier-border)]":""))},m(he,ye){Q(he,e,ye),p(e,t),p(t,i),p(t,a),p(t,l),p(l,u),p(t,m),p(t,h),p(h,d),p(h,b),p(h,w),p(t,S),be&&be.m(t,null),p(t,x),me&&me.m(t,null),p(t,E),ve.m(t,null),p(e,D),p(e,P),p(P,I),p(P,L),de&&de.m(P,null),p(P,j),p(P,U),re(B,U,null),p(e,W),~X&&we[X].m(e,null),p(e,$),ge&&ge.m(e,null),p(e,R),O=!0,Y||(te=[ee(i,"change",_e),ee(I,"input",xe)],Y=!0)},p(he,ye){var Me,Fe,Ne,et,st,qe,ae,Oe,At,yt,bt,tt,Bt;n=he,(!O||ye[0]&9&&s!==(s=n[200]&&!n[198]))&&(i.checked=s),(!O||ye[0]&9&&r!==(r=((Me=n[197])==null?void 0:Me.isProtected)||n[198]))&&(i.disabled=r),(!O||ye[0]&9&&o!==(o=n[198]?"This property is globally ignored and cannot be enabled":(Fe=n[197])!=null&&Fe.isProtected?"Protected properties cannot be enabled":"Enable/disable this property for Pydantic model generation"))&&y(i,"title",o),(!O||ye[0]&1)&&c!==(c=(((Ne=n[197])==null?void 0:Ne.name)||"Unknown")+"")&&ne(u,c),(!O||ye[0]&9&&g!==(g="font-medium text-[var(--text-default)] "+(n[198]?"text-[var(--text-muted)] line-through":"")))&&y(l,"class",g),(!O||ye[0]&1)&&f!==(f=(((et=n[197])==null?void 0:et.inferredType)||"string")+"")&&ne(b,f),n[201]?be?be.p(n,ye):(be=Ri(n),be.c(),be.m(t,x)):be&&(be.d(1),be=null),!((st=n[197])!=null&&st.isProtected)&&!n[198]?me?me.p(n,ye):(me=Li(n),me.c(),me.m(t,E)):me&&(me.d(1),me=null),Re!==(Re=De(n))&&(ve.d(1),ve=Re(n),ve&&(ve.c(),ve.m(t,null))),(!O||ye[0]&1&&M!==(M=n[67](n[192].typeName,((qe=n[197])==null?void 0:qe.name)||"",((ae=n[197])==null?void 0:ae.description)||""))&&I.value!==M)&&(I.value=M),(!O||ye[0]&9&&N!==(N="flex-1 px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm min-w-48 disabled:opacity-50 "+(n[198]?"bg-[var(--background-modifier-border)]":"")))&&y(I,"class",N),(!O||ye[0]&9&&T!==(T=((Oe=n[197])==null?void 0:Oe.isProtected)||n[198]))&&(I.disabled=T),ye[0]&9&&(A=n[39](((At=n[197])==null?void 0:At.name)||"")&&!((yt=n[197])!=null&&yt.isProtected)&&!n[198]),A?de?(de.p(n,ye),ye[0]&9&&z(de,1)):(de=Fi(n),de.c(),z(de,1),de.m(P,j)):de&&(Ce(),G(de,1,1,()=>{de=null}),ke());let Te=X;X=Le(n),X===Te?~X&&we[X].p(n,ye):(K&&(Ce(),G(we[Te],1,1,()=>{we[Te]=null}),ke()),~X?(K=we[X],K?K.p(n,ye):(K=we[X]=pe[X](n),K.c()),z(K,1),K.m(e,$)):K=null),(bt=n[197])!=null&&bt.examples&&n[197].examples.length>0?ge?ge.p(n,ye):(ge=Ui(n),ge.c(),ge.m(e,R)):ge&&(ge.d(1),ge=null),(!O||ye[0]&9&&q!==(q="flex flex-col gap-2 p-3 bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded-md "+((tt=n[197])!=null&&tt.isProtected?"border-l-4 border-l-[var(--text-error)] bg-[var(--background-modifier-error)]":((Bt=n[197])==null?void 0:Bt.complianceStatus)==="warning"?"border-l-4 border-l-[var(--text-warning)] bg-[var(--background-modifier-warning)]":n[198]?"border-l-4 border-l-[var(--text-muted)] bg-[var(--background-modifier-border)]":"")))&&y(e,"class",q)},i(he){O||(z(de),z(B.$$.fragment,he),z(K),O=!0)},o(he){G(de),G(B.$$.fragment,he),G(K),O=!1},d(he){he&&J(e),be&&be.d(),me&&me.d(),ve.d(),de&&de.d(),oe(B),~X&&we[X].d(),ge&&ge.d(),Y=!1,Ue(te)}}}function Bi(n){let e,t,i,s;const r=[qc,Gc,Yc],o=[];function a(l,c){return l[193].length===0?0:l[193].length<l[194]?1:2}return e=a(n),t=o[e]=r[e](n),{c(){t.c(),i=hc()},m(l,c){o[e].m(l,c),Q(l,i,c),s=!0},p(l,c){let u=e;e=a(l),e===u?o[e].p(l,c):(Ce(),G(o[u],1,1,()=>{o[u]=null}),ke(),t=o[e],t?t.p(l,c):(t=o[e]=r[e](l),t.c()),z(t,1),t.m(i.parentNode,i))},i(l){s||(z(t),s=!0)},o(l){G(t),s=!1},d(l){l&&J(i),o[e].d(l)}}}function Yc(n){let e,t,i,s,r,o=n[193].length+"",a,l,c=n[193].length===1?"y":"ies",u,g,m,h,d;return t=new ce({props:{icon:"check-circle",size:"medium"}}),{c(){e=v("div"),le(t.$$.fragment),i=k(),s=v("strong"),s.textContent="All Properties Enabled:",r=k(),a=V(o),l=V(" propert"),u=V(c),g=V(` ready for Pydantic model generation.\r
                            `),m=v("br"),h=v("span"),h.textContent="This entity type is fully configured and ready to use.",y(h,"class","text-xs text-[var(--text-muted)]"),y(e,"class","mt-4 p-3 bg-[var(--background-modifier-success)] border border-[var(--background-modifier-border)] rounded text-sm leading-relaxed text-[var(--text-on-accent)] flex items-center gap-2")},m(f,b){Q(f,e,b),re(t,e,null),p(e,i),p(e,s),p(e,r),p(e,a),p(e,l),p(e,u),p(e,g),p(e,m),p(e,h),d=!0},p(f,b){(!d||b[0]&9)&&o!==(o=f[193].length+"")&&ne(a,o),(!d||b[0]&9)&&c!==(c=f[193].length===1?"y":"ies")&&ne(u,c)},i(f){d||(z(t.$$.fragment,f),d=!0)},o(f){G(t.$$.fragment,f),d=!1},d(f){f&&J(e),oe(t)}}}function Gc(n){let e,t,i,s=n[193].length+"",r,o,a=n[194]+"",l,c,u,g,m=n[194]-n[193].length+"",h,d;return{c(){e=v("div"),t=v("strong"),t.textContent="[INFO] Partial Selection:",i=k(),r=V(s),o=V(" of "),l=V(a),c=V(` properties enabled for Pydantic model generation.\r
                            `),u=v("br"),g=v("span"),h=V(m),d=V(" properties will be excluded from the generated model."),y(g,"class","text-xs text-[var(--text-muted)]"),y(e,"class","mt-4 p-3 bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded text-sm leading-relaxed text-[var(--text-default)]")},m(f,b){Q(f,e,b),p(e,t),p(e,i),p(e,r),p(e,o),p(e,l),p(e,c),p(e,u),p(e,g),p(g,h),p(g,d)},p(f,b){b[0]&9&&s!==(s=f[193].length+"")&&ne(r,s),b[0]&1&&a!==(a=f[194]+"")&&ne(l,a),b[0]&9&&m!==(m=f[194]-f[193].length+"")&&ne(h,m)},i:fe,o:fe,d(f){f&&J(e)}}}function qc(n){let e,t,i,s,r,o,a,l;return t=new ce({props:{icon:"alert-triangle",size:"medium"}}),{c(){e=v("div"),le(t.$$.fragment),i=k(),s=v("strong"),s.textContent="No Properties Selected:",r=V(` This entity type has no enabled properties and will be excluded from Pydantic model generation.\r
                            `),o=v("br"),a=v("span"),a.textContent="Enable at least one property using the checkboxes above, or this entity type won't appear in generated models.",y(a,"class","text-xs text-[var(--text-muted)]"),y(e,"class","mt-4 p-3 bg-[var(--background-modifier-warning)] border border-[var(--background-modifier-border)] rounded text-sm leading-relaxed text-[var(--text-default)] flex items-center gap-2")},m(c,u){Q(c,e,u),re(t,e,null),p(e,i),p(e,s),p(e,r),p(e,o),p(e,a),l=!0},p:fe,i(c){l||(z(t.$$.fragment,c),l=!0)},o(c){G(t.$$.fragment,c),l=!1},d(c){c&&J(e),oe(t)}}}function Vi(n){let e,t,i,s,r,o=n[192].typeName+"",a,l,c,u,g,m,h,d=n[25][n[192].typeName]?"Entity Enabled":"Entity Disabled",f,b,w,S,x,E,D=n[193].length+"",P,I,M=n[194]+"",N,T,L,A,j,U,B,W,X=n[6].has(n[192].typeName),K,$,R=n[6].has(n[192].typeName),q,O,Y,te,_e;function be(){return n[95](n[192])}const me=[Ac,Nc],De=[];function Re(pe,we){return we[0]&65&&(j=null),j==null&&(j=!!pe[6].has(pe[192].typeName)),j?0:1}U=Re(n,[-1,-1,-1,-1,-1,-1,-1]),B=De[U]=me[U](n);function ve(){return n[96](n[192])}let xe=X&&Oi(n),de=R&&Ii(n);return{c(){e=v("div"),t=v("div"),i=v("button"),s=v("div"),r=v("h4"),a=V(o),l=k(),c=v("label"),u=v("input"),m=k(),h=v("span"),f=V(d),S=k(),x=v("div"),E=v("span"),P=V(D),I=V(" of "),N=V(M),T=V(" enabled"),L=k(),A=v("span"),B.c(),W=k(),xe&&xe.c(),$=k(),de&&de.c(),q=k(),y(r,"class","font-semibold text-[var(--text-default)]"),y(u,"type","checkbox"),u.checked=g=!!n[25][n[192].typeName],y(u,"class","w-4 h-4 text-[var(--text-success)] bg-[var(--background-secondary)] border-[var(--background-modifier-border)] rounded focus:ring-[var(--text-success)] focus:ring-2"),y(h,"class",b="text-xs "+(n[25][n[192].typeName]?"text-[var(--text-success)]":"text-[var(--text-muted)]")),y(c,"class","flex items-center gap-1 cursor-pointer"),y(c,"title",w=n[25][n[192].typeName]?"Entity enabled in data.json - uncheck to disable":"Entity disabled - check to enable in data.json"),y(s,"class","flex items-center gap-3"),y(E,"class","text-xs text-[var(--text-muted)] bg-[var(--background-secondary)] px-2 py-1 rounded-full"),y(A,"class","text-lg text-[var(--text-muted)] font-bold ml-4"),y(x,"class","flex items-center gap-4"),y(i,"class","flex-1 flex justify-between items-center text-left cursor-pointer transition-colors duration-200 hover:opacity-90"),y(t,"class",K="flex justify-between items-center w-full p-4 bg-[var(--background-secondary)] border-none "+(n[6].has(n[192].typeName)?"border-b border-[var(--background-modifier-border)]":"")),y(e,"class","bg-[var(--background-secondary-alt)] border border-[var(--background-modifier-border)] rounded-lg overflow-hidden"),y(e,"id",O="accordion-"+n[192].typeName)},m(pe,we){Q(pe,e,we),p(e,t),p(t,i),p(i,s),p(s,r),p(r,a),p(s,l),p(s,c),p(c,u),p(c,m),p(c,h),p(h,f),p(i,S),p(i,x),p(x,E),p(E,P),p(E,I),p(E,N),p(E,T),p(x,L),p(x,A),De[U].m(A,null),p(t,W),xe&&xe.m(t,null),p(e,$),de&&de.m(e,null),p(e,q),Y=!0,te||(_e=[ee(u,"change",gt(be)),ee(i,"click",ve)],te=!0)},p(pe,we){n=pe,(!Y||we[0]&1)&&o!==(o=n[192].typeName+"")&&ne(a,o),(!Y||we[0]&33554433&&g!==(g=!!n[25][n[192].typeName]))&&(u.checked=g),(!Y||we[0]&33554433)&&d!==(d=n[25][n[192].typeName]?"Entity Enabled":"Entity Disabled")&&ne(f,d),(!Y||we[0]&33554433&&b!==(b="text-xs "+(n[25][n[192].typeName]?"text-[var(--text-success)]":"text-[var(--text-muted)]")))&&y(h,"class",b),(!Y||we[0]&33554433&&w!==(w=n[25][n[192].typeName]?"Entity enabled in data.json - uncheck to disable":"Entity disabled - check to enable in data.json"))&&y(c,"title",w),(!Y||we[0]&9)&&D!==(D=n[193].length+"")&&ne(P,D),(!Y||we[0]&1)&&M!==(M=n[194]+"")&&ne(N,M);let Le=U;U=Re(n,we),U!==Le&&(Ce(),G(De[Le],1,1,()=>{De[Le]=null}),ke(),B=De[U],B||(B=De[U]=me[U](n),B.c()),z(B,1),B.m(A,null)),we[0]&65&&(X=n[6].has(n[192].typeName)),X?xe?xe.p(n,we):(xe=Oi(n),xe.c(),xe.m(t,null)):xe&&(xe.d(1),xe=null),(!Y||we[0]&65&&K!==(K="flex justify-between items-center w-full p-4 bg-[var(--background-secondary)] border-none "+(n[6].has(n[192].typeName)?"border-b border-[var(--background-modifier-border)]":"")))&&y(t,"class",K),we[0]&65&&(R=n[6].has(n[192].typeName)),R?de?(de.p(n,we),we[0]&65&&z(de,1)):(de=Ii(n),de.c(),z(de,1),de.m(e,q)):de&&(Ce(),G(de,1,1,()=>{de=null}),ke()),(!Y||we[0]&1&&O!==(O="accordion-"+n[192].typeName))&&y(e,"id",O)},i(pe){Y||(z(B),z(de),Y=!0)},o(pe){G(B),G(de),Y=!1},d(pe){pe&&J(e),De[U].d(),xe&&xe.d(),de&&de.d(),te=!1,Ue(_e)}}}function Yi(n){let e,t,i,s,r,o,a,l,c,u,g,m=Object.keys(n[27]).length>0,h,d,f,b,w;s=new ce({props:{icon:"link-2"}});const S=[Kc,Wc],x=[];function E(N,T){return N[29]&&N[29].length>0?0:1}c=E(n),u=x[c]=S[c](n);let D=m&&Ji(n);const P=[ed,Xc],I=[];function M(N,T){return N[9]?0:1}return f=M(n),b=I[f]=P[f](n),{c(){e=v("div"),t=v("div"),i=v("h3"),le(s.$$.fragment),r=V(" Edge Types Management"),o=k(),a=v("p"),a.textContent="Define relationship types between entities with custom properties for Pydantic model generation.",l=k(),u.c(),g=k(),D&&D.c(),h=k(),d=v("div"),b.c(),y(i,"class","text-lg font-semibold mb-2 text-[var(--text-default)] flex items-center gap-2"),y(a,"class","text-[var(--text-muted)] mb-6"),y(d,"class","mt-6"),y(e,"class","animate-fadeIn")},m(N,T){Q(N,e,T),p(e,t),p(t,i),re(s,i,null),p(i,r),p(t,o),p(t,a),p(t,l),x[c].m(t,null),p(t,g),D&&D.m(t,null),p(t,h),p(t,d),I[f].m(d,null),w=!0},p(N,T){let L=c;c=E(N),c===L?x[c].p(N,T):(Ce(),G(x[L],1,1,()=>{x[L]=null}),ke(),u=x[c],u?u.p(N,T):(u=x[c]=S[c](N),u.c()),z(u,1),u.m(t,g)),T[0]&134217728&&(m=Object.keys(N[27]).length>0),m?D?(D.p(N,T),T[0]&134217728&&z(D,1)):(D=Ji(N),D.c(),z(D,1),D.m(t,h)):D&&(Ce(),G(D,1,1,()=>{D=null}),ke());let A=f;f=M(N),f===A?I[f].p(N,T):(Ce(),G(I[A],1,1,()=>{I[A]=null}),ke(),b=I[f],b?b.p(N,T):(b=I[f]=P[f](N),b.c()),z(b,1),b.m(d,null))},i(N){w||(z(s.$$.fragment,N),z(u),z(D),z(b),w=!0)},o(N){G(s.$$.fragment,N),G(u),G(D),G(b),w=!1},d(N){N&&J(e),oe(s),x[c].d(),D&&D.d(),I[f].d()}}}function Wc(n){let e,t,i,s,r,o,a,l,c,u,g,m,h,d,f,b,w,S,x,E,D,P,I,M,N,T,L,A,j,U,B,W,X,K,$,R,q,O;return i=new ce({props:{icon:"link-2"}}),x=new ce({props:{icon:"sparkles"}}),M=new ce({props:{icon:"users"}}),j=new ce({props:{icon:"bar-chart-2"}}),K=new ce({props:{icon:"package"}}),{c(){e=v("div"),t=v("div"),le(i.$$.fragment),s=k(),r=v("h4"),r.textContent="No Edge Types Defined",o=k(),a=v("p"),a.textContent='Create relationship types like "WorksFor", "Uses", or "Creates" with custom properties.',l=k(),c=v("div"),u=v("h5"),u.textContent="Quick Add Common Types:",g=k(),m=v("div"),h=v("button"),h.innerHTML='<span class="text-base text-[var(--text-default)]">WorksFor</span>',d=k(),f=v("button"),f.innerHTML='<span class="text-base text-[var(--text-default)]">Uses</span>',b=k(),w=v("button"),S=v("span"),le(x.$$.fragment),E=V(" Creates"),D=k(),P=v("button"),I=v("span"),le(M.$$.fragment),N=V(" MemberOf"),T=k(),L=v("button"),A=v("span"),le(j.$$.fragment),U=V(" Manages"),B=k(),W=v("button"),X=v("span"),le(K.$$.fragment),$=V(" Contains"),y(t,"class","text-6xl mb-5 opacity-50"),y(r,"class","text-lg font-semibold mb-3 text-[var(--text-default)]"),y(a,"class","mb-10 max-w-lg mx-auto leading-relaxed text-[var(--text-muted)]"),y(u,"class","text-sm font-semibold mb-5 text-[var(--text-default)]"),y(h,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] text-[var(--text-default)] px-4 py-3 rounded-lg cursor-pointer transition-all duration-200 hover:opacity-90 hover:border-[var(--interactive-accent)] hover:shadow-md flex items-center gap-2 text-sm font-medium"),y(f,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] text-[var(--text-default)] px-4 py-3 rounded-lg cursor-pointer transition-all duration-200 hover:opacity-90 hover:border-[var(--interactive-accent)] hover:shadow-md flex items-center gap-2 text-sm font-medium"),y(S,"class","text-base text-[var(--text-default)]"),y(w,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] text-[var(--text-default)] px-4 py-3 rounded-lg cursor-pointer transition-all duration-200 hover:opacity-90 hover:border-[var(--interactive-accent)] hover:shadow-md flex items-center gap-2 text-sm font-medium"),y(I,"class","text-base text-[var(--text-default)]"),y(P,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] text-[var(--text-default)] px-4 py-3 rounded-lg cursor-pointer transition-all duration-200 hover:opacity-90 hover:border-[var(--interactive-accent)] hover:shadow-md flex items-center gap-2 text-sm font-medium"),y(A,"class","text-base text-[var(--text-default)]"),y(L,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] text-[var(--text-default)] px-4 py-3 rounded-lg cursor-pointer transition-all duration-200 hover:opacity-90 hover:border-[var(--interactive-accent)] hover:shadow-md flex items-center gap-2 text-sm font-medium"),y(X,"class","text-base text-[var(--text-default)]"),y(W,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] text-[var(--text-default)] px-4 py-3 rounded-lg cursor-pointer transition-all duration-200 hover:opacity-90 hover:border-[var(--interactive-accent)] hover:shadow-md flex items-center gap-2 text-sm font-medium"),y(m,"class","grid grid-cols-2 md:grid-cols-3 gap-3 max-w-2xl mx-auto"),y(c,"class","mt-10 pt-8 border-t border-[var(--background-modifier-border)]"),y(e,"class","text-center py-16 text-[var(--text-muted)]")},m(Y,te){Q(Y,e,te),p(e,t),re(i,t,null),p(e,s),p(e,r),p(e,o),p(e,a),p(e,l),p(e,c),p(c,u),p(c,g),p(c,m),p(m,h),p(m,d),p(m,f),p(m,b),p(m,w),p(w,S),re(x,S,null),p(w,E),p(m,D),p(m,P),p(P,I),re(M,I,null),p(P,N),p(m,T),p(m,L),p(L,A),re(j,A,null),p(L,U),p(m,B),p(m,W),p(W,X),re(K,X,null),p(W,$),R=!0,q||(O=[ee(h,"click",n[116]),ee(f,"click",n[117]),ee(w,"click",n[118]),ee(P,"click",n[119]),ee(L,"click",n[120]),ee(W,"click",n[121])],q=!0)},p:fe,i(Y){R||(z(i.$$.fragment,Y),z(x.$$.fragment,Y),z(M.$$.fragment,Y),z(j.$$.fragment,Y),z(K.$$.fragment,Y),R=!0)},o(Y){G(i.$$.fragment,Y),G(x.$$.fragment,Y),G(M.$$.fragment,Y),G(j.$$.fragment,Y),G(K.$$.fragment,Y),R=!1},d(Y){Y&&J(e),oe(i),oe(x),oe(M),oe(j),oe(K),q=!1,Ue(O)}}}function Kc(n){let e,t,i=Pe(n[29]),s=[];for(let o=0;o<i.length;o+=1)s[o]=Hi(vi(n,i,o));const r=o=>G(s[o],1,1,()=>{s[o]=null});return{c(){e=v("div");for(let o=0;o<s.length;o+=1)s[o].c();y(e,"class","flex flex-col gap-4")},m(o,a){Q(o,e,a);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(e,null);t=!0},p(o,a){if(a[0]&536932418|a[1]&503809){i=Pe(o[29]);let l;for(l=0;l<i.length;l+=1){const c=vi(o,i,l);s[l]?(s[l].p(c,a),z(s[l],1)):(s[l]=Hi(c),s[l].c(),z(s[l],1),s[l].m(e,null))}for(Ce(),l=i.length;l<s.length;l+=1)r(l);ke()}},i(o){if(!t){for(let a=0;a<i.length;a+=1)z(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)G(s[a]);t=!1},d(o){o&&J(e),Ge(s,o)}}}function Hc(n){let e,t;return e=new ce({props:{icon:"chevron-right",size:"medium"}}),{c(){le(e.$$.fragment)},m(i,s){re(e,i,s),t=!0},i(i){t||(z(e.$$.fragment,i),t=!0)},o(i){G(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function Jc(n){let e,t;return e=new ce({props:{icon:"chevron-down",size:"medium"}}),{c(){le(e.$$.fragment)},m(i,s){re(e,i,s),t=!0},i(i){t||(z(e.$$.fragment,i),t=!0)},o(i){G(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function Gi(n){let e,t,i,s,r,o,a,l,c,u,g,m,h,d,f,b,w,S,x,E,D,P;function I(...j){return n[107](n[182],...j)}h=new ce({props:{icon:"chevron-right",size:"medium"}});function M(){return n[108](n[182])}const N=[Zc,Qc],T=[];function L(j,U){var B;return U[0]&536870914&&(b=null),b==null&&(b=Object.keys(((B=j[1][j[182]])==null?void 0:B.properties)||{}).length>0),b?0:1}w=L(n,[-1,-1,-1,-1,-1,-1,-1]),S=T[w]=N[w](n);let A=n[12]===n[182]&&Ki(n);return{c(){e=v("div"),t=v("div"),i=v("strong"),i.textContent="Description:",s=k(),r=v("textarea"),a=k(),l=v("div"),c=v("div"),u=v("strong"),u.textContent="Properties:",g=k(),m=v("button"),le(h.$$.fragment),d=V(" Add Property"),f=k(),S.c(),x=k(),A&&A.c(),y(i,"class","text-sm text-[var(--text-default)] block mb-2"),r.value=o=n[44](n[182]),y(r,"class","w-full px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm leading-relaxed resize-vertical"),y(r,"placeholder","Describe this relationship type..."),y(r,"rows","2"),y(t,"class","mb-4"),y(u,"class","text-sm text-[var(--text-default)]"),y(m,"class","px-2 py-1 bg-[var(--background-modifier-border)] border border-[var(--background-modifier-border)] rounded text-xs hover:opacity-90 transition-colors duration-200"),y(c,"class","flex justify-between items-center mb-3"),y(e,"class","p-4")},m(j,U){Q(j,e,U),p(e,t),p(t,i),p(t,s),p(t,r),p(e,a),p(e,l),p(l,c),p(c,u),p(c,g),p(c,m),re(h,m,null),p(m,d),p(l,f),T[w].m(l,null),p(l,x),A&&A.m(l,null),E=!0,D||(P=[ee(r,"input",I),ee(m,"click",M)],D=!0)},p(j,U){n=j,(!E||U[0]&536870912&&o!==(o=n[44](n[182])))&&(r.value=o);let B=w;w=L(n,U),w===B?T[w].p(n,U):(Ce(),G(T[B],1,1,()=>{T[B]=null}),ke(),S=T[w],S?S.p(n,U):(S=T[w]=N[w](n),S.c()),z(S,1),S.m(l,x)),n[12]===n[182]?A?A.p(n,U):(A=Ki(n),A.c(),A.m(l,null)):A&&(A.d(1),A=null)},i(j){E||(z(h.$$.fragment,j),z(S),E=!0)},o(j){G(h.$$.fragment,j),G(S),E=!1},d(j){j&&J(e),oe(h),T[w].d(),A&&A.d(),D=!1,Ue(P)}}}function Qc(n){let e;return{c(){e=v("p"),e.textContent="No properties defined",y(e,"class","text-[var(--text-muted)] italic text-center py-2 text-sm")},m(t,i){Q(t,e,i)},p:fe,i:fe,o:fe,d(t){t&&J(e)}}}function Zc(n){let e,t,i=Pe(Object.entries(n[1][n[182]].properties)),s=[];for(let o=0;o<i.length;o+=1)s[o]=Wi(wi(n,i,o));const r=o=>G(s[o],1,1,()=>{s[o]=null});return{c(){e=v("div");for(let o=0;o<s.length;o+=1)s[o].c();y(e,"class","flex flex-col gap-2")},m(o,a){Q(o,e,a);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(e,null);t=!0},p(o,a){if(a[0]&536870914|a[1]&196608){i=Pe(Object.entries(o[1][o[182]].properties));let l;for(l=0;l<i.length;l+=1){const c=wi(o,i,l);s[l]?(s[l].p(c,a),z(s[l],1)):(s[l]=Wi(c),s[l].c(),z(s[l],1),s[l].m(e,null))}for(Ce(),l=i.length;l<s.length;l+=1)r(l);ke()}},i(o){if(!t){for(let a=0;a<i.length;a+=1)z(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)G(s[a]);t=!1},d(o){o&&J(e),Ge(s,o)}}}function qi(n){let e;return{c(){e=v("span"),e.textContent="REQUIRED",y(e,"class","text-xs px-2 py-1 bg-[var(--background-modifier-warning)] text-[var(--text-on-accent)] rounded font-bold uppercase tracking-wide ml-auto")},m(t,i){Q(t,e,i)},d(t){t&&J(e)}}}function Wi(n){let e,t,i,s=n[188]+"",r,o,a,l,c=xt(n[189]).fieldType+"",u,g,m,h=xt(n[189]).required,d,f,b,w,S,x,E,D,P,I,M,N,T,L,A=h&&qi();function j(...B){return n[109](n[182],n[188],...B)}E=new ce({props:{icon:"trash-2",size:"medium"}});function U(){return n[110](n[182],n[188])}return I=new ce({props:{icon:"sparkles"}}),{c(){e=v("div"),t=v("div"),i=v("span"),r=V(s),o=k(),a=v("span"),l=V("("),u=V(c),g=V(")"),m=k(),A&&A.c(),d=k(),f=v("div"),b=v("input"),S=k(),x=v("button"),le(E.$$.fragment),D=k(),P=v("button"),le(I.$$.fragment),M=k(),y(i,"class","font-medium text-[var(--text-default)]"),y(a,"class","text-[var(--text-muted)] text-sm"),y(t,"class","flex items-center gap-2 flex-wrap"),y(b,"type","text"),b.value=w=xt(n[189]).description,y(b,"placeholder","Property description"),y(b,"class","flex-1 px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm min-w-48"),y(x,"class","px-2 py-2 bg-[var(--background-modifier-error)] text-[var(--text-on-accent)] border border-[var(--background-modifier-border)] rounded hover:opacity-90 transition-colors duration-200"),y(P,"class","px-2 py-2 bg-[var(--background-modifier-border)] border border-[var(--background-modifier-border)] rounded text-sm opacity-50 cursor-not-allowed"),y(P,"title","LLM Suggest Description"),P.disabled=!0,y(f,"class","flex items-center gap-2"),y(e,"class","flex flex-col gap-2 p-3 bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded")},m(B,W){Q(B,e,W),p(e,t),p(t,i),p(i,r),p(t,o),p(t,a),p(a,l),p(a,u),p(a,g),p(t,m),A&&A.m(t,null),p(e,d),p(e,f),p(f,b),p(f,S),p(f,x),re(E,x,null),p(f,D),p(f,P),re(I,P,null),p(e,M),N=!0,T||(L=[ee(b,"input",j),ee(x,"click",U)],T=!0)},p(B,W){n=B,(!N||W[0]&536870914)&&s!==(s=n[188]+"")&&ne(r,s),(!N||W[0]&536870914)&&c!==(c=xt(n[189]).fieldType+"")&&ne(u,c),W[0]&536870914&&(h=xt(n[189]).required),h?A||(A=qi(),A.c(),A.m(t,null)):A&&(A.d(1),A=null),(!N||W[0]&536870914&&w!==(w=xt(n[189]).description)&&b.value!==w)&&(b.value=w)},i(B){N||(z(E.$$.fragment,B),z(I.$$.fragment,B),N=!0)},o(B){G(E.$$.fragment,B),G(I.$$.fragment,B),N=!1},d(B){B&&J(e),A&&A.d(),oe(E),oe(I),T=!1,Ue(L)}}}function Ki(n){let e,t,i,s,r,o,a,l,c,u,g,m,h,d,f,b,w,S,x,E,D;function P(){return n[114](n[182])}return{c(){e=v("div"),t=v("div"),i=v("input"),s=k(),r=v("select"),o=v("option"),o.textContent="String",a=v("option"),a.textContent="Integer",l=v("option"),l.textContent="DateTime",c=v("option"),c.textContent="Boolean",u=v("option"),u.textContent="Float",g=v("option"),g.textContent="List",m=k(),h=v("div"),d=v("input"),f=k(),b=v("div"),w=v("button"),w.textContent="Add Property",S=k(),x=v("button"),x.textContent="Cancel",y(i,"type","text"),y(i,"placeholder","Property name (e.g., jobTitle, sentiment)"),y(i,"class","flex-1 px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm"),o.__value="str",Ie(o,o.__value),a.__value="int",Ie(a,a.__value),l.__value="datetime",Ie(l,l.__value),c.__value="bool",Ie(c,c.__value),u.__value="float",Ie(u,u.__value),g.__value="List[str]",Ie(g,g.__value),y(r,"class","px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm bg-[var(--background-secondary)] appearance-none cursor-pointer hover:opacity-90 transition-colors duration-200 min-w-32"),n[14]===void 0&&ht(()=>n[112].call(r)),y(t,"class","flex gap-2 mb-3"),y(d,"type","text"),y(d,"placeholder","Property description"),y(d,"class","w-full px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm"),y(h,"class","mb-3"),y(w,"class","px-3 py-2 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded text-sm hover:opacity-90 transition-colors duration-200"),y(x,"class","px-3 py-2 bg-[var(--background-modifier-border)] text-[var(--text-default)] rounded text-sm hover:opacity-90 transition-colors duration-200"),y(b,"class","flex gap-2"),y(e,"class","mt-4 p-4 bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded")},m(I,M){Q(I,e,M),p(e,t),p(t,i),Ie(i,n[13]),p(t,s),p(t,r),p(r,o),p(r,a),p(r,l),p(r,c),p(r,u),p(r,g),nt(r,n[14],!0),p(e,m),p(e,h),p(h,d),Ie(d,n[15]),p(e,f),p(e,b),p(b,w),p(b,S),p(b,x),E||(D=[ee(i,"input",n[111]),ee(r,"change",n[112]),ee(d,"input",n[113]),ee(w,"click",P),ee(x,"click",n[115])],E=!0)},p(I,M){n=I,M[0]&8192&&i.value!==n[13]&&Ie(i,n[13]),M[0]&16384&&nt(r,n[14]),M[0]&32768&&d.value!==n[15]&&Ie(d,n[15])},d(I){I&&J(e),E=!1,Ue(D)}}}function Hi(n){var R;let e,t,i,s,r=n[182]+"",o,a,l,c,u=Object.keys(((R=n[1][n[182]])==null?void 0:R.properties)||{}).length+"",g,m,h,d,f,b,w,S,x,E,D,P,I,M=n[6].has(`edge-${n[182]}`),N,T,L,A,j;const U=[Jc,Hc],B=[];function W(q,O){return O[0]&536870976&&(f=null),f==null&&(f=!!q[6].has(`edge-${q[182]}`)),f?0:1}b=W(n,[-1,-1,-1,-1,-1,-1,-1]),w=B[b]=U[b](n);function X(){return n[105](n[182])}E=new ce({props:{icon:"trash-2",size:"medium"}});function K(){return n[106](n[182])}let $=M&&Gi(n);return{c(){e=v("div"),t=v("div"),i=v("button"),s=v("h4"),o=V(r),a=k(),l=v("div"),c=v("span"),g=V(u),m=V(" properties"),h=k(),d=v("span"),w.c(),S=k(),x=v("button"),le(E.$$.fragment),I=k(),$&&$.c(),N=k(),y(s,"class","font-semibold text-[var(--text-default)]"),y(c,"class","text-xs text-[var(--text-muted)] bg-[var(--background-modifier-border)] px-2 py-1 rounded-full"),y(d,"class","text-lg text-[var(--text-muted)] font-bold ml-4"),y(l,"class","flex items-center gap-4"),y(i,"class","flex-1 flex justify-between items-center text-left cursor-pointer transition-colors duration-200 hover:opacity-90"),y(x,"class","ml-2 px-2 py-1 bg-[var(--background-modifier-error)] text-[var(--text-on-accent)] border border-[var(--background-modifier-border)] rounded hover:opacity-90 transition-colors duration-200 text-xs"),y(x,"title",D="Delete "+n[182]+" edge type"),y(t,"class",P="flex justify-between items-center w-full p-4 bg-[var(--background-secondary)] border-none "+(n[6].has(`edge-${n[182]}`)?"border-b border-[var(--background-modifier-border)]":"")),y(e,"class","bg-[var(--background-secondary-alt)] border border-[var(--background-modifier-border)] rounded-lg overflow-hidden"),y(e,"id",T="accordion-edge-"+n[182])},m(q,O){Q(q,e,O),p(e,t),p(t,i),p(i,s),p(s,o),p(i,a),p(i,l),p(l,c),p(c,g),p(c,m),p(l,h),p(l,d),B[b].m(d,null),p(t,S),p(t,x),re(E,x,null),p(e,I),$&&$.m(e,null),p(e,N),L=!0,A||(j=[ee(i,"click",X),ee(x,"click",gt(K))],A=!0)},p(q,O){var te;n=q,(!L||O[0]&536870912)&&r!==(r=n[182]+"")&&ne(o,r),(!L||O[0]&536870914)&&u!==(u=Object.keys(((te=n[1][n[182]])==null?void 0:te.properties)||{}).length+"")&&ne(g,u);let Y=b;b=W(n,O),b!==Y&&(Ce(),G(B[Y],1,1,()=>{B[Y]=null}),ke(),w=B[b],w||(w=B[b]=U[b](n),w.c()),z(w,1),w.m(d,null)),(!L||O[0]&536870912&&D!==(D="Delete "+n[182]+" edge type"))&&y(x,"title",D),(!L||O[0]&536870976&&P!==(P="flex justify-between items-center w-full p-4 bg-[var(--background-secondary)] border-none "+(n[6].has(`edge-${n[182]}`)?"border-b border-[var(--background-modifier-border)]":"")))&&y(t,"class",P),O[0]&536870976&&(M=n[6].has(`edge-${n[182]}`)),M?$?($.p(n,O),O[0]&536870976&&z($,1)):($=Gi(n),$.c(),z($,1),$.m(e,N)):$&&(Ce(),G($,1,1,()=>{$=null}),ke()),(!L||O[0]&536870912&&T!==(T="accordion-edge-"+n[182]))&&y(e,"id",T)},i(q){L||(z(w),z(E.$$.fragment,q),z($),L=!0)},o(q){G(w),G(E.$$.fragment,q),G($),L=!1},d(q){q&&J(e),B[b].d(),oe(E),$&&$.d(),A=!1,Ue(j)}}}function Ji(n){let e,t,i,s,r,o,a,l,c,u,g,m,h,d;s=new ce({props:{icon:"clipboard-list"}});let f=Pe(Object.entries(n[27])),b=[];for(let S=0;S<f.length;S+=1)b[S]=Qi(bi(n,f,S));const w=S=>G(b[S],1,1,()=>{b[S]=null});return{c(){e=v("div"),t=v("div"),i=v("h4"),le(s.$$.fragment),r=V(" Available Default Edge Types"),o=k(),a=v("button"),a.textContent="Add All",l=k(),c=v("p"),c.textContent="Common edge types you can add with one click. These include standard properties and descriptions.",u=k(),g=v("div");for(let S=0;S<b.length;S+=1)b[S].c();y(i,"class","text-lg font-semibold text-[var(--text-default)] flex items-center gap-2"),y(a,"class","px-3 py-2 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded hover:opacity-90 transition-colors duration-200 text-sm font-medium"),y(a,"title","Add all unused default edge types at once"),y(t,"class","flex justify-between items-center mb-4"),y(c,"class","text-[var(--text-muted)] mb-4"),y(g,"class","grid grid-cols-1 md:grid-cols-2 gap-3"),y(e,"class","mt-8 pt-8 border-t border-[var(--background-modifier-border)]")},m(S,x){Q(S,e,x),p(e,t),p(t,i),re(s,i,null),p(i,r),p(t,o),p(t,a),p(e,l),p(e,c),p(e,u),p(e,g);for(let E=0;E<b.length;E+=1)b[E]&&b[E].m(g,null);m=!0,h||(d=ee(a,"click",n[55]),h=!0)},p(S,x){if(x[0]&134217728|x[1]&16384){f=Pe(Object.entries(S[27]));let E;for(E=0;E<f.length;E+=1){const D=bi(S,f,E);b[E]?(b[E].p(D,x),z(b[E],1)):(b[E]=Qi(D),b[E].c(),z(b[E],1),b[E].m(g,null))}for(Ce(),E=f.length;E<b.length;E+=1)w(E);ke()}},i(S){if(!m){z(s.$$.fragment,S);for(let x=0;x<f.length;x+=1)z(b[x]);m=!0}},o(S){G(s.$$.fragment,S),b=b.filter(Boolean);for(let x=0;x<b.length;x+=1)G(b[x]);m=!1},d(S){S&&J(e),oe(s),Ge(b,S),h=!1,d()}}}function Qi(n){let e,t,i,s=n[182]+"",r,o,a,l,c,u,g,m,h=n[183]+"",d,f,b,w,S;l=new ce({props:{icon:"chevron-right",size:"medium"}});function x(){return n[122](n[182])}return{c(){e=v("div"),t=v("div"),i=v("h5"),r=V(s),o=k(),a=v("button"),le(l.$$.fragment),c=V(" Add"),g=k(),m=v("p"),d=V(h),f=k(),y(i,"class","font-semibold text-[var(--text-default)]"),y(a,"class","px-2 py-1 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded text-xs hover:opacity-90 transition-colors duration-200"),y(a,"title",u="Add "+n[182]+" edge type"),y(t,"class","flex justify-between items-start mb-2"),y(m,"class","text-[var(--text-muted)] text-sm leading-relaxed"),y(e,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] p-4 rounded-lg")},m(E,D){Q(E,e,D),p(e,t),p(t,i),p(i,r),p(t,o),p(t,a),re(l,a,null),p(a,c),p(e,g),p(e,m),p(m,d),p(e,f),b=!0,w||(S=ee(a,"click",x),w=!0)},p(E,D){n=E,(!b||D[0]&134217728)&&s!==(s=n[182]+"")&&ne(r,s),(!b||D[0]&134217728&&u!==(u="Add "+n[182]+" edge type"))&&y(a,"title",u),(!b||D[0]&134217728)&&h!==(h=n[183]+"")&&ne(d,h)},i(E){b||(z(l.$$.fragment,E),b=!0)},o(E){G(l.$$.fragment,E),b=!1},d(E){E&&J(e),oe(l),w=!1,S()}}}function Xc(n){let e,t,i,s,r,o;return t=new ce({props:{icon:"chevron-right",size:"medium"}}),{c(){e=v("button"),le(t.$$.fragment),i=V(" Add Edge Type"),y(e,"class","px-4 py-2 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded hover:opacity-90 transition-colors duration-200")},m(a,l){Q(a,e,l),re(t,e,null),p(e,i),s=!0,r||(o=ee(e,"click",n[125]),r=!0)},p:fe,i(a){s||(z(t.$$.fragment,a),s=!0)},o(a){G(t.$$.fragment,a),s=!1},d(a){a&&J(e),oe(t),r=!1,o()}}}function ed(n){let e,t,i,s,r,o,a,l,c,u,g,m,h,d,f;return{c(){e=v("div"),t=v("h4"),t.textContent="Add New Edge Type",i=k(),s=v("div"),r=v("input"),o=k(),a=v("div"),l=v("textarea"),c=k(),u=v("div"),g=v("button"),g.textContent="Save Edge Type",m=k(),h=v("button"),h.textContent="Cancel",y(t,"class","text-lg font-semibold mb-4 text-[var(--text-default)]"),y(r,"type","text"),y(r,"placeholder","Edge type name (e.g., WorksFor, Uses, Creates)"),y(r,"class","w-full px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm"),y(s,"class","mb-4"),y(l,"placeholder","Description of this relationship type"),y(l,"class","w-full px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm leading-relaxed resize-vertical"),y(l,"rows","2"),y(a,"class","mb-4"),y(g,"class","px-4 py-2 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded hover:opacity-90 transition-colors duration-200"),y(h,"class","px-4 py-2 bg-[var(--background-modifier-border)] text-[var(--text-default)] rounded hover:opacity-90 transition-colors duration-200"),y(u,"class","flex gap-2"),y(e,"class","bg-[var(--background-secondary-alt)] border border-[var(--background-modifier-border)] rounded-lg p-6")},m(b,w){Q(b,e,w),p(e,t),p(e,i),p(e,s),p(s,r),Ie(r,n[10]),p(e,o),p(e,a),p(a,l),Ie(l,n[11]),p(e,c),p(e,u),p(u,g),p(u,m),p(u,h),d||(f=[ee(r,"input",n[123]),ee(l,"input",n[124]),ee(g,"click",n[41]),ee(h,"click",n[42])],d=!0)},p(b,w){w[0]&1024&&r.value!==b[10]&&Ie(r,b[10]),w[0]&2048&&Ie(l,b[11])},i:fe,o:fe,d(b){b&&J(e),d=!1,Ue(f)}}}function Zi(n){let e,t,i,s,r,o,a,l,c,u,g,m,h,d,f,b;s=new ce({props:{icon:"map"}});const w=[nd,td],S=[];function x(M,N){return M[2]&&M[2].length>0?0:1}c=x(n),u=S[c]=w[c](n);let E=n[26].length>0&&ss(n);const D=[ld,ad],P=[];function I(M,N){return M[16]?0:1}return d=I(n),f=P[d]=D[d](n),{c(){e=v("div"),t=v("div"),i=v("h3"),le(s.$$.fragment),r=V(" Edge Type Mappings"),o=k(),a=v("p"),a.textContent="Define which edge types can connect which entity types. Controls relationship validation in your knowledge graph.",l=k(),u.c(),g=k(),E&&E.c(),m=k(),h=v("div"),f.c(),y(i,"class","text-lg font-semibold mb-2 flex items-center gap-2"),y(a,"class","mb-6"),y(h,"class","mt-6"),y(e,"class","animate-fadeIn")},m(M,N){Q(M,e,N),p(e,t),p(t,i),re(s,i,null),p(i,r),p(t,o),p(t,a),p(t,l),S[c].m(t,null),p(t,g),E&&E.m(t,null),p(t,m),p(t,h),P[d].m(h,null),b=!0},p(M,N){let T=c;c=x(M),c===T?S[c].p(M,N):(Ce(),G(S[T],1,1,()=>{S[T]=null}),ke(),u=S[c],u?u.p(M,N):(u=S[c]=w[c](M),u.c()),z(u,1),u.m(t,g)),M[26].length>0?E?(E.p(M,N),N[0]&67108864&&z(E,1)):(E=ss(M),E.c(),z(E,1),E.m(t,m)):E&&(Ce(),G(E,1,1,()=>{E=null}),ke());let L=d;d=I(M),d===L?P[d].p(M,N):(Ce(),G(P[L],1,1,()=>{P[L]=null}),ke(),f=P[d],f?f.p(M,N):(f=P[d]=D[d](M),f.c()),z(f,1),f.m(h,null))},i(M){b||(z(s.$$.fragment,M),z(u),z(E),z(f),b=!0)},o(M){G(s.$$.fragment,M),G(u),G(E),G(f),b=!1},d(M){M&&J(e),oe(s),S[c].d(),E&&E.d(),P[d].d()}}}function td(n){let e,t,i,s,r,o,a,l,c,u,g,m,h,d,f,b,w,S,x,E,D,P,I,M,N,T,L,A,j,U,B,W,X,K,$,R,q,O,Y,te,_e,be,me,De,Re,ve,xe,de;return i=new ce({props:{icon:"map"}}),f=new ce({props:{icon:"user"}}),w=new ce({props:{icon:"monitor"}}),M=new ce({props:{icon:"user"}}),T=new ce({props:{icon:"folder"}}),X=new ce({props:{icon:"link-2"}}),te=new ce({props:{icon:"folder"}}),be=new ce({props:{icon:"monitor"}}),{c(){e=v("div"),t=v("div"),le(i.$$.fragment),s=k(),r=v("h4"),r.textContent="No Edge Mappings Defined",o=k(),a=v("p"),a.textContent="Create mappings to define which relationships can exist between entity types.",l=k(),c=v("div"),u=v("h5"),u.textContent="Quick Add Common Mappings:",g=k(),m=v("div"),h=v("button"),d=v("div"),le(f.$$.fragment),b=V(" Person  "),le(w.$$.fragment),S=V(" Technology"),x=k(),E=v("div"),E.textContent="Uses, RelatesTo",D=k(),P=v("button"),I=v("div"),le(M.$$.fragment),N=V(" Person  "),le(T.$$.fragment),L=V(" Project"),A=k(),j=v("div"),j.textContent="WorksOn, Manages, RelatesTo",U=k(),B=v("button"),W=v("div"),le(X.$$.fragment),K=V(" Entity  Entity"),$=k(),R=v("div"),R.textContent="RelatesTo (Generic)",q=k(),O=v("button"),Y=v("div"),le(te.$$.fragment),_e=V(" Project  "),le(be.$$.fragment),me=V(" Technology"),De=k(),Re=v("div"),Re.textContent="Uses, DependsOn, RelatesTo",y(t,"class","text-6xl mb-5 opacity-50"),y(r,"class","text-lg font-semibold mb-3 text-[var(--text-default)]"),y(a,"class","mb-10 max-w-lg mx-auto leading-relaxed text-[var(--text-muted)]"),y(u,"class","text-sm font-semibold mb-5 text-[var(--text-default)]"),y(d,"class","font-semibold mb-1 text-[var(--text-default)]"),y(E,"class","text-xs text-[var(--text-muted)]"),y(h,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] text-[var(--text-default)] p-4 rounded-lg cursor-pointer transition-all duration-200 hover:opacity-90 hover:border-[var(--interactive-accent)] hover:shadow-md text-sm font-medium"),y(I,"class","font-semibold mb-1 text-[var(--text-default)]"),y(j,"class","text-xs text-[var(--text-muted)]"),y(P,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] text-[var(--text-default)] p-4 rounded-lg cursor-pointer transition-all duration-200 hover:opacity-90 hover:border-[var(--interactive-accent)] hover:shadow-md text-sm font-medium"),y(W,"class","font-semibold mb-1 text-[var(--text-default)]"),y(R,"class","text-xs text-[var(--text-muted)]"),y(B,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] text-[var(--text-default)] p-4 rounded-lg cursor-pointer transition-all duration-200 hover:opacity-90 hover:border-[var(--interactive-accent)] hover:shadow-md text-sm font-medium"),y(Y,"class","font-semibold mb-1 text-[var(--text-default)]"),y(Re,"class","text-xs text-[var(--text-muted)]"),y(O,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] text-[var(--text-default)] p-4 rounded-lg cursor-pointer transition-all duration-200 hover:opacity-90 hover:border-[var(--interactive-accent)] hover:shadow-md text-sm font-medium"),y(m,"class","grid grid-cols-1 md:grid-cols-2 gap-3 max-w-2xl mx-auto"),y(c,"class","mt-10 pt-8 border-t border-[var(--background-modifier-border)]"),y(e,"class","text-center py-16 text-[var(--text-muted)]")},m(pe,we){Q(pe,e,we),p(e,t),re(i,t,null),p(e,s),p(e,r),p(e,o),p(e,a),p(e,l),p(e,c),p(c,u),p(c,g),p(c,m),p(m,h),p(h,d),re(f,d,null),p(d,b),re(w,d,null),p(d,S),p(h,x),p(h,E),p(m,D),p(m,P),p(P,I),re(M,I,null),p(I,N),re(T,I,null),p(I,L),p(P,A),p(P,j),p(m,U),p(m,B),p(B,W),re(X,W,null),p(W,K),p(B,$),p(B,R),p(m,q),p(m,O),p(O,Y),re(te,Y,null),p(Y,_e),re(be,Y,null),p(Y,me),p(O,De),p(O,Re),ve=!0,xe||(de=[ee(h,"click",n[131]),ee(P,"click",n[132]),ee(B,"click",n[133]),ee(O,"click",n[134])],xe=!0)},p:fe,i(pe){ve||(z(i.$$.fragment,pe),z(f.$$.fragment,pe),z(w.$$.fragment,pe),z(M.$$.fragment,pe),z(T.$$.fragment,pe),z(X.$$.fragment,pe),z(te.$$.fragment,pe),z(be.$$.fragment,pe),ve=!0)},o(pe){G(i.$$.fragment,pe),G(f.$$.fragment,pe),G(w.$$.fragment,pe),G(M.$$.fragment,pe),G(T.$$.fragment,pe),G(X.$$.fragment,pe),G(te.$$.fragment,pe),G(be.$$.fragment,pe),ve=!1},d(pe){pe&&J(e),oe(i),oe(f),oe(w),oe(M),oe(T),oe(X),oe(te),oe(be),xe=!1,Ue(de)}}}function nd(n){let e,t,i=Pe(n[2]),s=[];for(let o=0;o<i.length;o+=1)s[o]=is(gi(n,i,o));const r=o=>G(s[o],1,1,()=>{s[o]=null});return{c(){e=v("div");for(let o=0;o<s.length;o+=1)s[o].c();y(e,"class","flex flex-col gap-4")},m(o,a){Q(o,e,a);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(e,null);t=!0},p(o,a){if(a[0]&821035012|a[1]&1008730112){i=Pe(o[2]);let l;for(l=0;l<i.length;l+=1){const c=gi(o,i,l);s[l]?(s[l].p(c,a),z(s[l],1)):(s[l]=is(c),s[l].c(),z(s[l],1),s[l].m(e,null))}for(Ce(),l=i.length;l<s.length;l+=1)r(l);ke()}},i(o){if(!t){for(let a=0;a<i.length;a+=1)z(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)G(s[a]);t=!1},d(o){o&&J(e),Ge(s,o)}}}function id(n){let e,t,i,s,r,o=n[171].sourceEntity+"",a,l,c,u,g,m=n[171].targetEntity+"",h,d,f,b,w,S,x=n[171].isUserDefined?"User":"Auto",E,D,P,I,M,N,T,L,A,j,U=Pe(n[171].allowedEdges),B=[];for(let K=0;K<U.length;K+=1)B[K]=Xi(hi(n,U,K));I=new ce({props:{icon:"pencil",size:"medium"}});function W(){return n[129](n[173])}T=new ce({props:{icon:"trash-2",size:"medium"}});function X(){return n[130](n[173])}return{c(){e=v("div"),t=v("div"),i=v("div"),s=v("div"),r=v("span"),a=V(o),l=k(),c=v("span"),c.textContent="",u=k(),g=v("span"),h=V(m),d=k(),f=v("div");for(let K=0;K<B.length;K+=1)B[K].c();b=k(),w=v("div"),S=v("span"),E=V(x),D=k(),P=v("button"),le(I.$$.fragment),M=k(),N=v("button"),le(T.$$.fragment),y(r,"class","font-semibold text-[var(--text-default)]"),y(c,"class","text-[var(--text-muted)]"),y(g,"class","font-semibold text-[var(--text-default)]"),y(s,"class","flex items-center gap-2"),y(f,"class","flex gap-1 flex-wrap"),y(i,"class","flex items-center gap-4"),y(S,"class","text-xs text-[var(--text-muted)] bg-[var(--background-modifier-border)] px-2 py-1 rounded-full"),y(P,"class","p-1 text-[var(--text-muted)] hover:opacity-90 hover:bg-[var(--background-modifier-border)] rounded transition-all duration-200"),y(P,"title","Edit Mapping"),y(N,"class","px-2 py-1 bg-[var(--background-modifier-error)] text-[var(--text-on-accent)] border border-[var(--background-modifier-border)] rounded hover:opacity-90 transition-colors duration-200 text-xs"),y(w,"class","flex items-center gap-2"),y(t,"class","flex justify-between items-center"),y(e,"class","p-4 bg-[var(--background-secondary-alt)] border-none")},m(K,$){Q(K,e,$),p(e,t),p(t,i),p(i,s),p(s,r),p(r,a),p(s,l),p(s,c),p(s,u),p(s,g),p(g,h),p(i,d),p(i,f);for(let R=0;R<B.length;R+=1)B[R]&&B[R].m(f,null);p(t,b),p(t,w),p(w,S),p(S,E),p(w,D),p(w,P),re(I,P,null),p(w,M),p(w,N),re(T,N,null),L=!0,A||(j=[ee(P,"click",W),ee(N,"click",X)],A=!0)},p(K,$){if(n=K,(!L||$[0]&4)&&o!==(o=n[171].sourceEntity+"")&&ne(a,o),(!L||$[0]&4)&&m!==(m=n[171].targetEntity+"")&&ne(h,m),$[0]&4){U=Pe(n[171].allowedEdges);let R;for(R=0;R<U.length;R+=1){const q=hi(n,U,R);B[R]?B[R].p(q,$):(B[R]=Xi(q),B[R].c(),B[R].m(f,null))}for(;R<B.length;R+=1)B[R].d(1);B.length=U.length}(!L||$[0]&4)&&x!==(x=n[171].isUserDefined?"User":"Auto")&&ne(E,x)},i(K){L||(z(I.$$.fragment,K),z(T.$$.fragment,K),L=!0)},o(K){G(I.$$.fragment,K),G(T.$$.fragment,K),L=!1},d(K){K&&J(e),Ge(B,K),oe(I),oe(T),A=!1,Ue(j)}}}function sd(n){let e,t,i,s,r,o,a,l,c,u,g,m,h,d,f,b,w,S,x,E,D,P,I,M,N,T,L,A,j=Pe(n[28]),U=[];for(let R=0;R<j.length;R+=1)U[R]=es(yi(n,j,R));let B=Pe(n[28]),W=[];for(let R=0;R<B.length;R+=1)W[R]=ts(mi(n,B,R));function X(R,q){return R[29].length>0?od:rd}let K=X(n),$=K(n);return{c(){e=v("div"),t=v("h4"),t.textContent="Edit Edge Mapping",i=k(),s=v("div"),r=v("div"),o=v("label"),o.textContent="Source Entity Type",a=k(),l=v("select"),c=v("option"),c.textContent="Select source entity...";for(let R=0;R<U.length;R+=1)U[R].c();u=k(),g=v("div"),m=v("label"),m.textContent="Target Entity Type",h=k(),d=v("select"),f=v("option"),f.textContent="Select target entity...";for(let R=0;R<W.length;R+=1)W[R].c();b=k(),w=v("div"),S=v("span"),S.textContent="Allowed Edge Types",x=k(),$.c(),E=k(),D=v("div"),P=v("button"),I=V("Save Changes"),N=k(),T=v("button"),T.textContent="Cancel",y(t,"class","text-lg font-semibold mb-4 text-[var(--text-default)]"),y(o,"for","edit-source-entity"),y(o,"class","block text-sm font-medium text-[var(--text-default)] mb-2"),c.__value="",Ie(c,c.__value),y(l,"id","edit-source-entity"),y(l,"class","w-full px-3 py-1 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm leading-normal bg-[var(--background-secondary)] min-w-48"),n[21]===void 0&&ht(()=>n[126].call(l)),y(m,"for","edit-target-entity"),y(m,"class","block text-sm font-medium text-[var(--text-default)] mb-2"),f.__value="",Ie(f,f.__value),y(d,"id","edit-target-entity"),y(d,"class","w-full px-3 py-1 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm leading-normal bg-[var(--background-secondary)] min-w-48"),n[22]===void 0&&ht(()=>n[127].call(d)),y(s,"class","space-y-4 mb-4"),y(S,"class","block text-sm font-medium text-[var(--text-default)] mb-2"),y(w,"class","mb-4"),y(P,"class","px-4 py-2 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded hover:opacity-90 transition-colors duration-200"),P.disabled=M=!n[21]||!n[22]||n[23].length===0,y(T,"class","px-4 py-2 bg-[var(--background-modifier-border)] text-[var(--text-default)] rounded hover:opacity-90 transition-colors duration-200"),y(D,"class","flex gap-2"),y(e,"class","p-4 bg-[var(--background-secondary-alt)] border-none")},m(R,q){Q(R,e,q),p(e,t),p(e,i),p(e,s),p(s,r),p(r,o),p(r,a),p(r,l),p(l,c);for(let O=0;O<U.length;O+=1)U[O]&&U[O].m(l,null);nt(l,n[21],!0),p(s,u),p(s,g),p(g,m),p(g,h),p(g,d),p(d,f);for(let O=0;O<W.length;O+=1)W[O]&&W[O].m(d,null);nt(d,n[22],!0),p(e,b),p(e,w),p(w,S),p(w,x),$.m(w,null),p(e,E),p(e,D),p(D,P),p(P,I),p(D,N),p(D,T),L||(A=[ee(l,"change",n[126]),ee(d,"change",n[127]),ee(P,"click",n[58]),ee(T,"click",n[59])],L=!0)},p(R,q){if(q[0]&268435456){j=Pe(R[28]);let O;for(O=0;O<j.length;O+=1){const Y=yi(R,j,O);U[O]?U[O].p(Y,q):(U[O]=es(Y),U[O].c(),U[O].m(l,null))}for(;O<U.length;O+=1)U[O].d(1);U.length=j.length}if(q[0]&270532608&&nt(l,R[21]),q[0]&268435456){B=Pe(R[28]);let O;for(O=0;O<B.length;O+=1){const Y=mi(R,B,O);W[O]?W[O].p(Y,q):(W[O]=ts(Y),W[O].c(),W[O].m(d,null))}for(;O<W.length;O+=1)W[O].d(1);W.length=B.length}q[0]&272629760&&nt(d,R[22]),K===(K=X(R))&&$?$.p(R,q):($.d(1),$=K(R),$&&($.c(),$.m(w,null))),q[0]&283115520&&M!==(M=!R[21]||!R[22]||R[23].length===0)&&(P.disabled=M)},i:fe,o:fe,d(R){R&&J(e),Ge(U,R),Ge(W,R),$.d(),L=!1,Ue(A)}}}function Xi(n){let e,t=n[158]+"",i;return{c(){e=v("span"),i=V(t),y(e,"class","text-xs px-2 py-1 bg-[var(--background-modifier-border)] text-[var(--text-muted)] rounded-full font-medium")},m(s,r){Q(s,e,r),p(e,i)},p(s,r){r[0]&4&&t!==(t=s[158]+"")&&ne(i,t)},d(s){s&&J(e)}}}function es(n){let e,t=n[161]+"",i,s;return{c(){e=v("option"),i=V(t),e.__value=s=n[161],Ie(e,e.__value)},m(r,o){Q(r,e,o),p(e,i)},p(r,o){o[0]&268435456&&t!==(t=r[161]+"")&&ne(i,t),o[0]&268435456&&s!==(s=r[161])&&(e.__value=s,Ie(e,e.__value))},d(r){r&&J(e)}}}function ts(n){let e,t=n[161]+"",i,s;return{c(){e=v("option"),i=V(t),e.__value=s=n[161],Ie(e,e.__value)},m(r,o){Q(r,e,o),p(e,i)},p(r,o){o[0]&268435456&&t!==(t=r[161]+"")&&ne(i,t),o[0]&268435456&&s!==(s=r[161])&&(e.__value=s,Ie(e,e.__value))},d(r){r&&J(e)}}}function rd(n){let e;return{c(){e=v("p"),e.textContent="No edge types defined. Create edge types first.",y(e,"class","text-sm text-[var(--text-muted)] italic")},m(t,i){Q(t,e,i)},p:fe,d(t){t&&J(e)}}}function od(n){let e,t=Pe(n[29]),i=[];for(let s=0;s<t.length;s+=1)i[s]=ns(fi(n,t,s));return{c(){e=v("div");for(let s=0;s<i.length;s+=1)i[s].c();y(e,"class","grid grid-cols-2 md:grid-cols-3 gap-2")},m(s,r){Q(s,e,r);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(e,null)},p(s,r){if(r[0]&545259520|r[1]&536870912){t=Pe(s[29]);let o;for(o=0;o<t.length;o+=1){const a=fi(s,t,o);i[o]?i[o].p(a,r):(i[o]=ns(a),i[o].c(),i[o].m(e,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=t.length}},d(s){s&&J(e),Ge(i,s)}}}function ns(n){let e,t,i,s,r,o=n[158]+"",a,l,c,u;function g(){return n[128](n[158])}return{c(){e=v("label"),t=v("input"),s=k(),r=v("span"),a=V(o),l=k(),y(t,"type","checkbox"),t.checked=i=n[23].includes(n[158]),y(t,"class","rounded border-[var(--background-modifier-border)] text-[var(--interactive-accent)] focus:ring-[var(--interactive-accent)]"),y(r,"class","text-sm text-[var(--text-default)]"),y(e,"class","flex items-center gap-2 p-2 border border-[var(--background-modifier-border)] rounded hover:opacity-90 cursor-pointer transition-colors duration-200")},m(m,h){Q(m,e,h),p(e,t),p(e,s),p(e,r),p(r,a),p(e,l),c||(u=ee(t,"change",g),c=!0)},p(m,h){n=m,h[0]&545259520&&i!==(i=n[23].includes(n[158]))&&(t.checked=i),h[0]&536870912&&o!==(o=n[158]+"")&&ne(a,o)},d(m){m&&J(e),c=!1,u()}}}function is(n){let e,t,i,s,r;const o=[sd,id],a=[];function l(c,u){return c[20]===c[173]?0:1}return t=l(n),i=a[t]=o[t](n),{c(){e=v("div"),i.c(),s=k(),y(e,"class","bg-[var(--background-secondary-alt)] border border-[var(--background-modifier-border)] rounded-lg overflow-hidden"),y(e,"id","mapping-"+n[173])},m(c,u){Q(c,e,u),a[t].m(e,null),p(e,s),r=!0},p(c,u){let g=t;t=l(c),t===g?a[t].p(c,u):(Ce(),G(a[g],1,1,()=>{a[g]=null}),ke(),i=a[t],i?i.p(c,u):(i=a[t]=o[t](c),i.c()),z(i,1),i.m(e,s))},i(c){r||(z(i),r=!0)},o(c){G(i),r=!1},d(c){c&&J(e),a[t].d()}}}function ss(n){let e,t,i,s,r,o,a,l,c,u,g,m,h,d;s=new ce({props:{icon:"lightbulb"}});let f=Pe(n[26]),b=[];for(let w=0;w<f.length;w+=1)b[w]=os(ui(n,f,w));return{c(){e=v("div"),t=v("div"),i=v("h4"),le(s.$$.fragment),r=V(" Suggested Edge Mappings"),o=k(),a=v("button"),a.textContent="Add All",l=k(),c=v("p"),c.textContent="Recommended mappings based on your discovered entity types. Add these to enable common relationships.",u=k(),g=v("div");for(let w=0;w<b.length;w+=1)b[w].c();y(i,"class","text-lg font-semibold text-[var(--text-default)] flex items-center gap-2"),y(a,"class","px-3 py-2 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded hover:opacity-90 transition-colors duration-200 text-sm font-medium"),y(a,"title","Add all suggested edge mappings at once"),y(t,"class","flex justify-between items-center mb-4"),y(c,"class","text-[var(--text-muted)] mb-4"),y(g,"class","grid grid-cols-1 gap-3"),y(e,"class","mt-8 pt-8 border-t border-[var(--background-modifier-border)]")},m(w,S){Q(w,e,S),p(e,t),p(t,i),re(s,i,null),p(i,r),p(t,o),p(t,a),p(e,l),p(e,c),p(e,u),p(e,g);for(let x=0;x<b.length;x+=1)b[x]&&b[x].m(g,null);m=!0,h||(d=ee(a,"click",n[56]),h=!0)},p(w,S){if(S[0]&67108864|S[1]&8388608){f=Pe(w[26]);let x;for(x=0;x<f.length;x+=1){const E=ui(w,f,x);b[x]?b[x].p(E,S):(b[x]=os(E),b[x].c(),b[x].m(g,null))}for(;x<b.length;x+=1)b[x].d(1);b.length=f.length}},i(w){m||(z(s.$$.fragment,w),m=!0)},o(w){G(s.$$.fragment,w),m=!1},d(w){w&&J(e),oe(s),Ge(b,w),h=!1,d()}}}function rs(n){let e,t=n[158]+"",i;return{c(){e=v("span"),i=V(t),y(e,"class","text-xs px-2 py-1 bg-[var(--background-modifier-success)] text-[var(--text-on-accent)] rounded-full font-medium")},m(s,r){Q(s,e,r),p(e,i)},p(s,r){r[0]&67108864&&t!==(t=s[158]+"")&&ne(i,t)},d(s){s&&J(e)}}}function os(n){let e,t,i,s,r=n[166].sourceEntity+"",o,a,l,c,u,g=n[166].targetEntity+"",m,h,d,f,b,w,S,x=n[166].description+"",E,D,P,I,M=Pe(n[166].allowedEdges),N=[];for(let L=0;L<M.length;L+=1)N[L]=rs(pi(n,M,L));function T(){return n[135](n[166])}return{c(){e=v("div"),t=v("div"),i=v("div"),s=v("span"),o=V(r),a=k(),l=v("span"),l.textContent="",c=k(),u=v("span"),m=V(g),h=k(),d=v("div");for(let L=0;L<N.length;L+=1)N[L].c();f=k(),b=v("button"),b.textContent="Add",w=k(),S=v("p"),E=V(x),D=k(),y(s,"class","font-semibold text-[var(--text-default)]"),y(l,"class","text-[var(--text-muted)]"),y(u,"class","font-semibold text-[var(--text-default)]"),y(d,"class","flex gap-1 ml-2"),y(i,"class","flex items-center gap-2"),y(b,"class","px-2 py-1 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded text-xs hover:opacity-90 transition-colors duration-200"),y(b,"title","Add this mapping"),y(t,"class","flex justify-between items-start mb-2"),y(S,"class","text-[var(--text-muted)] text-sm leading-relaxed"),y(e,"class","bg-[var(--background-secondary-alt)] border border-[var(--background-modifier-border)] p-4 rounded-lg")},m(L,A){Q(L,e,A),p(e,t),p(t,i),p(i,s),p(s,o),p(i,a),p(i,l),p(i,c),p(i,u),p(u,m),p(i,h),p(i,d);for(let j=0;j<N.length;j+=1)N[j]&&N[j].m(d,null);p(t,f),p(t,b),p(e,w),p(e,S),p(S,E),p(e,D),P||(I=ee(b,"click",T),P=!0)},p(L,A){if(n=L,A[0]&67108864&&r!==(r=n[166].sourceEntity+"")&&ne(o,r),A[0]&67108864&&g!==(g=n[166].targetEntity+"")&&ne(m,g),A[0]&67108864){M=Pe(n[166].allowedEdges);let j;for(j=0;j<M.length;j+=1){const U=pi(n,M,j);N[j]?N[j].p(U,A):(N[j]=rs(U),N[j].c(),N[j].m(d,null))}for(;j<N.length;j+=1)N[j].d(1);N.length=M.length}A[0]&67108864&&x!==(x=n[166].description+"")&&ne(E,x)},d(L){L&&J(e),Ge(N,L),P=!1,I()}}}function ad(n){let e,t,i,s,r,o;return t=new ce({props:{icon:"chevron-right",size:"medium"}}),{c(){e=v("button"),le(t.$$.fragment),i=V(" Add Edge Mapping"),y(e,"class","px-4 py-2 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded hover:opacity-90 transition-colors duration-200")},m(a,l){Q(a,e,l),re(t,e,null),p(e,i),s=!0,r||(o=ee(e,"click",n[139]),r=!0)},p:fe,i(a){s||(z(t.$$.fragment,a),s=!0)},o(a){G(t.$$.fragment,a),s=!1},d(a){a&&J(e),oe(t),r=!1,o()}}}function ld(n){let e,t,i,s,r,o,a,l,c,u,g,m,h,d,f,b,w,S,x,E,D,P,I,M,N,T,L,A,j=Pe(n[28]),U=[];for(let R=0;R<j.length;R+=1)U[R]=as(di(n,j,R));let B=Pe(n[28]),W=[];for(let R=0;R<B.length;R+=1)W[R]=ls(ci(n,B,R));function X(R,q){return R[29].length>0?dd:cd}let K=X(n),$=K(n);return{c(){e=v("div"),t=v("h4"),t.textContent="Add New Edge Mapping",i=k(),s=v("div"),r=v("div"),o=v("label"),o.textContent="Source Entity Type",a=k(),l=v("select"),c=v("option"),c.textContent="Select source entity...";for(let R=0;R<U.length;R+=1)U[R].c();u=k(),g=v("div"),m=v("label"),m.textContent="Target Entity Type",h=k(),d=v("select"),f=v("option"),f.textContent="Select target entity...";for(let R=0;R<W.length;R+=1)W[R].c();b=k(),w=v("div"),S=v("span"),S.textContent="Allowed Edge Types",x=k(),$.c(),E=k(),D=v("div"),P=v("button"),I=V("Save Mapping"),N=k(),T=v("button"),T.textContent="Cancel",y(t,"class","text-lg font-semibold mb-4 text-[var(--text-default)]"),y(o,"for","new-source-entity"),y(o,"class","block text-sm font-medium text-[var(--text-default)] mb-2"),c.__value="",Ie(c,c.__value),y(l,"id","new-source-entity"),y(l,"class","w-full px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm bg-[var(--background-secondary)] min-w-48"),n[17]===void 0&&ht(()=>n[136].call(l)),y(m,"for","new-target-entity"),y(m,"class","block text-sm font-medium text-[var(--text-default)] mb-2"),f.__value="",Ie(f,f.__value),y(d,"id","new-target-entity"),y(d,"class","w-full px-3 py-2 border border-[var(--background-modifier-border)] rounded focus:outline-none focus:ring-2 focus:ring-[var(--interactive-accent)] focus:border-[var(--interactive-accent)] text-sm bg-[var(--background-secondary)] min-w-48"),n[18]===void 0&&ht(()=>n[137].call(d)),y(s,"class","space-y-4 mb-4"),y(S,"class","block text-sm font-medium text-[var(--text-default)] mb-2"),y(w,"class","mb-4"),y(P,"class","px-4 py-2 bg-[var(--interactive-accent)] text-[var(--text-on-accent)] rounded hover:opacity-90 transition-colors duration-200"),P.disabled=M=!n[17]||!n[18]||n[19].length===0,y(T,"class","px-4 py-2 bg-[var(--background-modifier-border)] text-[var(--text-default)] rounded hover:opacity-90 transition-colors duration-200"),y(D,"class","flex gap-2"),y(e,"class","bg-[var(--background-secondary-alt)] border border-[var(--background-modifier-border)] rounded-lg p-6")},m(R,q){Q(R,e,q),p(e,t),p(e,i),p(e,s),p(s,r),p(r,o),p(r,a),p(r,l),p(l,c);for(let O=0;O<U.length;O+=1)U[O]&&U[O].m(l,null);nt(l,n[17],!0),p(s,u),p(s,g),p(g,m),p(g,h),p(g,d),p(d,f);for(let O=0;O<W.length;O+=1)W[O]&&W[O].m(d,null);nt(d,n[18],!0),p(e,b),p(e,w),p(w,S),p(w,x),$.m(w,null),p(e,E),p(e,D),p(D,P),p(P,I),p(D,N),p(D,T),L||(A=[ee(l,"change",n[136]),ee(d,"change",n[137]),ee(P,"click",n[50]),ee(T,"click",n[51])],L=!0)},p(R,q){if(q[0]&268435456){j=Pe(R[28]);let O;for(O=0;O<j.length;O+=1){const Y=di(R,j,O);U[O]?U[O].p(Y,q):(U[O]=as(Y),U[O].c(),U[O].m(l,null))}for(;O<U.length;O+=1)U[O].d(1);U.length=j.length}if(q[0]&268566528&&nt(l,R[17]),q[0]&268435456){B=Pe(R[28]);let O;for(O=0;O<B.length;O+=1){const Y=ci(R,B,O);W[O]?W[O].p(Y,q):(W[O]=ls(Y),W[O].c(),W[O].m(d,null))}for(;O<W.length;O+=1)W[O].d(1);W.length=B.length}q[0]&268697600&&nt(d,R[18]),K===(K=X(R))&&$?$.p(R,q):($.d(1),$=K(R),$&&($.c(),$.m(w,null))),q[0]&269352960&&M!==(M=!R[17]||!R[18]||R[19].length===0)&&(P.disabled=M)},i:fe,o:fe,d(R){R&&J(e),Ge(U,R),Ge(W,R),$.d(),L=!1,Ue(A)}}}function as(n){let e,t=n[161]+"",i,s;return{c(){e=v("option"),i=V(t),e.__value=s=n[161],Ie(e,e.__value)},m(r,o){Q(r,e,o),p(e,i)},p(r,o){o[0]&268435456&&t!==(t=r[161]+"")&&ne(i,t),o[0]&268435456&&s!==(s=r[161])&&(e.__value=s,Ie(e,e.__value))},d(r){r&&J(e)}}}function ls(n){let e,t=n[161]+"",i,s;return{c(){e=v("option"),i=V(t),e.__value=s=n[161],Ie(e,e.__value)},m(r,o){Q(r,e,o),p(e,i)},p(r,o){o[0]&268435456&&t!==(t=r[161]+"")&&ne(i,t),o[0]&268435456&&s!==(s=r[161])&&(e.__value=s,Ie(e,e.__value))},d(r){r&&J(e)}}}function cd(n){let e;return{c(){e=v("p"),e.textContent="No edge types defined. Create edge types first.",y(e,"class","text-sm text-[var(--text-muted)] italic")},m(t,i){Q(t,e,i)},p:fe,d(t){t&&J(e)}}}function dd(n){let e,t=Pe(n[29]),i=[];for(let s=0;s<t.length;s+=1)i[s]=cs(li(n,t,s));return{c(){e=v("div");for(let s=0;s<i.length;s+=1)i[s].c();y(e,"class","grid grid-cols-2 md:grid-cols-3 gap-2")},m(s,r){Q(s,e,r);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(e,null)},p(s,r){if(r[0]&537395200|r[1]&4194304){t=Pe(s[29]);let o;for(o=0;o<t.length;o+=1){const a=li(s,t,o);i[o]?i[o].p(a,r):(i[o]=cs(a),i[o].c(),i[o].m(e,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=t.length}},d(s){s&&J(e),Ge(i,s)}}}function cs(n){let e,t,i,s,r,o=n[158]+"",a,l,c,u;function g(){return n[138](n[158])}return{c(){e=v("label"),t=v("input"),s=k(),r=v("span"),a=V(o),l=k(),y(t,"type","checkbox"),t.checked=i=n[19].includes(n[158]),y(t,"class","rounded border-[var(--background-modifier-border)] text-[var(--interactive-accent)] focus:ring-[var(--interactive-accent)]"),y(r,"class","text-sm text-[var(--text-default)]"),y(e,"class","flex items-center gap-2 p-2 border border-[var(--background-modifier-border)] rounded hover:opacity-90 cursor-pointer transition-colors duration-200")},m(m,h){Q(m,e,h),p(e,t),p(e,s),p(e,r),p(r,a),p(e,l),c||(u=ee(t,"change",g),c=!0)},p(m,h){n=m,h[0]&537395200&&i!==(i=n[19].includes(n[158]))&&(t.checked=i),h[0]&536870912&&o!==(o=n[158]+"")&&ne(a,o)},d(m){m&&J(e),c=!1,u()}}}function ud(n){let e,t,i,s,r=n[0].length+"",o,a,l,c=n[0].reduce(us,0)+"",u,g;return{c(){e=v("div"),t=v("p"),i=V("Found "),s=v("strong"),o=V(r),a=V(" types across "),l=v("strong"),u=V(c),g=V(" files"),y(s,"class","text-[var(--text-default)]"),y(l,"class","text-[var(--text-default)]"),y(t,"class","text-[var(--text-default)] text-center"),y(e,"class","bg-[var(--background-secondary)] border border-[var(--background-modifier-border)] rounded-lg p-4 mb-4")},m(m,h){Q(m,e,h),p(e,t),p(t,i),p(t,s),p(s,o),p(t,a),p(t,l),p(l,u),p(t,g)},p(m,h){h[0]&1&&r!==(r=m[0].length+"")&&ne(o,r),h[0]&1&&c!==(c=m[0].reduce(us,0)+"")&&ne(u,c)},d(m){m&&J(e)}}}function pd(n){let e;return{c(){e=v("div"),e.innerHTML='<p class="mb-2">No typed notes found in your vault.</p> <p>Add a <code class="bg-[var(--background-modifier-border)] px-2 py-1 rounded font-mono text-sm">type</code> property to your frontmatter to get started.</p>',y(e,"class","text-center py-8 text-[var(--text-muted)]")},m(t,i){Q(t,e,i)},p:fe,d(t){t&&J(e)}}}function gd(n){let e;return{c(){e=v("div"),e.innerHTML=`<div class="w-4 h-4 border-2 border-[var(--background-modifier-border)] border-t-[var(--interactive-accent)] rounded-full animate-spin"></div>
                <div class="p-6 text-center">
                    <h2 class="text-xl font-semibold text-red-600 mb-4">Enhanced Sync UI Error</h2>
                    <p class="text-gray-700 mb-4">Failed to load enhanced sync UI: ${i instanceof Error?i.message:String(i)}</p>
                    <button class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600" onclick="this.closest('.modal').dispatchEvent(new Event('close'))">
                        Close
                    </button>
                </div>
            `}}onClose(){var t;const{contentEl:e}=this;this.svelteComponent&&(this.svelteComponent.$destroy(),this.svelteComponent=null),(t=e.parentElement)==null||t.removeClass("enhanced-sync-modal"),e.parentElement&&(e.parentElement.style.padding="",e.parentElement.style.backgroundColor=""),e.empty()}}function Od(n,e,t,i,s,r,o){try{new Ad(n,e,t,i,s,r,o).open()}catch(a){throw console.error("Failed to open enhanced sync UI:",a),a}}function Id(n){const e={llmDefaults:{openai:{"gpt-5":{desc:"Latest flagship, most capable",recommended:!0},"gpt-4o":{desc:"Previous gen, multimodal",recommended:!1},"gpt-4o-mini":{desc:"Efficient, good performance",recommended:!1}},ollama:{"deepseek-r1:8b":{desc:"Best reasoning with transparent thought chains",recommended:!0},"qwen2.5:7b":{desc:"Excellent entity extraction, 128K context",recommended:!0},"qwq:32b":{desc:"Qwen's dedicated reasoning model",recommended:!1},"llama3.2:11b":{desc:"Latest Llama, strong performance",recommended:!1},"gemma2:9b":{desc:"Google's efficient architecture",recommended:!1},"mistral:7b":{desc:"Fast, reliable baseline",recommended:!1},"phi3:14b":{desc:"Microsoft's capable model",recommended:!1},"llama3.2:3b":{desc:"Lightweight for limited hardware",recommended:!1},"qwen2.5:3b":{desc:"User added",recommended:!1}},google:{"gemini-2.5-pro":{desc:"Latest flagship, maximum capability",recommended:!0},"gemini-2.5-flash":{desc:"Fast, efficient Gemini 2.5",recommended:!1},"gemini-2.0-flash-exp":{desc:"Previous gen experimental",recommended:!1}},anthropic:{"claude-opus-4-1-20250805":{desc:"Most capable, advanced reasoning",recommended:!0},"claude-sonnet-4-20250514":{desc:"Balanced performance and speed",recommended:!1},"claude-3-7-sonnet-latest":{desc:"Previous gen, still capable",recommended:!1},"claude-3-5-haiku-latest":{desc:"Fast, economical",recommended:!1}},venice:{"dolphin-2.9.2-qwen2-72b":{desc:"High-performance dolphin fine-tune of Qwen2",recommended:!0},"mistral-31-24b":{desc:"Powerful Mistral architecture",recommended:!1},"llama-3.2-3b":{desc:"Lightweight Llama model",recommended:!1}},openrouter:{"openai/gpt-5-mini":{desc:"Cost-effective with full structured output support",recommended:!0},"meta-llama/llama-3.1-70b-instruct":{desc:"Open source alternative with verified schema support",recommended:!1},"google/gemini-2.5-flash":{desc:"Google's offering with verified structured outputs",recommended:!1},"qwen/qwen3-235b-a22b":{desc:"Qwen model with verified schema handling",recommended:!1},"deepseek/deepseek-chat-v3.1":{desc:"Recent Deepseek model with structured output",recommended:!1}}},llmSmallDefaults:{openai:{"gpt-5-nano":{desc:"Latest nano model for reranking",recommended:!0},"gpt-4o-mini":{desc:"Previous gen efficient model",recommended:!1},"gpt-5-turbo":{desc:"Fast, cost-effective GPT-5",recommended:!1}},ollama:{"qwen2.5:3b":{desc:"Excellent for structured tasks",recommended:!0},"llama3.2:3b":{desc:"Fast, reliable classifications",recommended:!0},"deepseek-r1:1.5b":{desc:"Ultra-fast, minimal resource use",recommended:!1},"mistral:7b-instruct":{desc:"Larger but very reliable",recommended:!1}},google:{"gemini-2.5-flash-lite":{desc:"Optimized for classification tasks",recommended:!0},"gemini-2.5-flash":{desc:"Fast classification, larger",recommended:!1},"gemini-1.5-flash-8b":{desc:"Previous gen, still efficient",recommended:!1}},anthropic:{"claude-4-haiku":{desc:"Fast, efficient for reranking",recommended:!0},"claude-3-5-haiku-20241022":{desc:"Previous gen, economical",recommended:!1}},venice:{"llama-3.2-3b":{desc:"Fast, efficient for classification tasks",recommended:!0},"mistral-31-24b":{desc:"Larger but very capable",recommended:!1}},openrouter:{"openai/gpt-5-mini":{desc:"Cost-effective with verified structured output support",recommended:!0},"google/gemini-2.5-flash":{desc:"Fast classification with verified structured outputs",recommended:!1},"meta-llama/llama-3.1-70b-instruct":{desc:"Open source alternative with verified schema support",recommended:!1}}},embeddingDefaults:{openai:{"text-embedding-3-small":{desc:"Efficient, good quality",dimensions:1536,recommended:!0},"text-embedding-3-large":{desc:"Highest quality, larger vectors",dimensions:3072,recommended:!1},"text-embedding-ada-002":{desc:"Legacy model, still supported",dimensions:1536,recommended:!1}},ollama:{"nomic-embed-text:latest":{desc:"Best for markdown & mixed content",dimensions:768,recommended:!0},"mxbai-embed-large":{desc:"Highest quality embeddings",dimensions:1024,recommended:!1},"snowflake-arctic-embed":{desc:"Strong retrieval performance",dimensions:1024,recommended:!1},"all-minilm":{desc:"Smallest, fastest, limited quality",dimensions:384,recommended:!1},"e5-mistral-7b":{desc:"LLM-based embeddings, highest quality",dimensions:4096,recommended:!1}},google:{"text-embedding-005":{desc:"Latest Gemini 2.5 era embeddings",dimensions:768,recommended:!0},"text-embedding-004":{desc:"Previous gen, proven performance",dimensions:768,recommended:!1},"text-multilingual-embedding-002":{desc:"Best for multiple languages",dimensions:768,recommended:!1}},voyage:{"voyage-3":{desc:"Latest generation, best quality",dimensions:1024,recommended:!0},"voyage-3-lite":{desc:"Efficient, good performance",dimensions:512,recommended:!1},"voyage-large-2-instruct":{desc:"Instruction-optimized",dimensions:1024,recommended:!1},"voyage-code-2":{desc:"Optimized for code search",dimensions:1536,recommended:!1},"voyage-finance-2":{desc:"Financial domain specialist",dimensions:1024,recommended:!1},"voyage-law-2":{desc:"Legal domain specialist",dimensions:1024,recommended:!1},"voyage-multilingual-2":{desc:"Cross-lingual retrieval",dimensions:1024,recommended:!1}}},llmCrossEncoderDefaults:{openai:{"gpt-5-nano":{desc:"Latest nano model for reranking",recommended:!0},"gpt-4.1-nano":{desc:"Previous gen efficient model",recommended:!1},"gpt-3.5-turbo":{desc:"Legacy, very fast",recommended:!1}},gemini:{"gemini-2.5-flash-lite-preview-06-17":{desc:"Optimized for classification tasks",recommended:!0},"gemini-1.5-flash-8b":{desc:"Previous gen, still efficient",recommended:!1}}}};if(n!=null&&n.openrouterPresetSlug){const t=`@preset/${n.openrouterPresetSlug}`;e.llmDefaults.openrouter[t]={desc:"Models controlled by OpenRouter Preset",recommended:!0},e.llmSmallDefaults.openrouter[t]={desc:"Models controlled by OpenRouter Preset",recommended:!0}}return e}class Rd{constructor(e,t){this.suggestEl=null,this.app=e,this.inputEl=t,this.selectedItem=-1,this.suggestions=[],this.inputEl.addEventListener("input",this.onInputChanged.bind(this)),this.inputEl.addEventListener("focus",this.onInputChanged.bind(this)),this.inputEl.addEventListener("blur",this.close.bind(this)),this.inputEl.addEventListener("keydown",this.onInputKeydown.bind(this))}onInputChanged(){const e=this.inputEl.value,t=this.getSuggestions(e);if(!t||t.length===0){this.close();return}this.suggestions=t,this.selectedItem=-1,this.open(t)}onInputKeydown(e){const t=e;!this.suggestEl||this.suggestions.length===0||(t.key==="ArrowDown"?(this.selectedItem=Math.min(this.selectedItem+1,this.suggestions.length-1),this.setSelectedItem(this.selectedItem),e.preventDefault()):t.key==="ArrowUp"?(this.selectedItem=Math.max(this.selectedItem-1,-1),this.setSelectedItem(this.selectedItem),e.preventDefault()):t.key==="Enter"?this.selectedItem>=0&&(this.selectSuggestion(this.suggestions[this.selectedItem]),e.preventDefault()):t.key==="Escape"&&(this.close(),e.preventDefault()))}open(e){if(this.close(),e.length===0)return;this.suggestEl=document.createElement("div"),this.suggestEl.classList.add("suggestion-container"),this.suggestEl.style.cssText=`
            position: absolute;
            z-index: 1000;
            background: var(--background-primary);
            border: 1px solid var(--background-modifier-border);
            border-radius: 8px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
            max-height: 200px;
            overflow-y: auto;
            min-width: 200px;
        `;const t=this.inputEl.getBoundingClientRect();this.suggestEl.style.top=`${t.bottom+4}px`,this.suggestEl.style.left=`${t.left}px`,this.suggestEl.style.width=`${t.width}px`,e.forEach((i,s)=>{var o;const r=document.createElement("div");r.classList.add("suggestion-item"),r.style.cssText=`
                padding: 8px 12px;
                cursor: pointer;
                border-bottom: 1px solid var(--background-modifier-border-hover);
            `,this.renderSuggestion(i,r),r.addEventListener("mousedown",a=>{a.preventDefault(),this.selectSuggestion(i)}),r.addEventListener("click",a=>{a.preventDefault(),this.selectSuggestion(i)}),r.addEventListener("mouseenter",()=>{this.setSelectedItem(s)}),(o=this.suggestEl)==null||o.appendChild(r)}),document.body.appendChild(this.suggestEl)}setSelectedItem(e){var i;const t=(i=this.suggestEl)==null?void 0:i.querySelectorAll(".suggestion-item");t&&(t.forEach((s,r)=>{r===e?(s.classList.add("is-selected"),s.style.background="var(--background-modifier-hover)"):(s.classList.remove("is-selected"),s.style.background="")}),this.selectedItem=e)}close(){this.suggestEl&&(this.suggestEl.remove(),this.suggestEl=null),this.selectedItem=-1}}class Jt extends Rd{constructor(e,t){super(e,t)}getSuggestions(e){const t=this.app.vault.getAllLoadedFiles(),i=[],s=e.toLowerCase();return t.forEach(r=>{r instanceof C.TFolder&&r.path.toLowerCase().contains(s)&&i.push(r)}),i.slice(0,1e3)}renderSuggestion(e,t){t.setText(e.path)}selectSuggestion(e){this.inputEl.value=e.path;const t=new Event("input",{bubbles:!0}),i=new Event("change",{bubbles:!0});this.inputEl.dispatchEvent(t),this.inputEl.dispatchEvent(i),this.close()}}const ct=So.promisify(ot.exec);class Dt{static getInstance(){return Dt.instance||(Dt.instance=new Dt),Dt.instance}async getMCPServerProcesses(){const e=process.platform;try{return e==="win32"?await this.getWindowsProcesses():e==="darwin"?await this.getMacProcesses():await this.getLinuxProcesses()}catch(t){return console.error("[PROCESS-DETECTION] Failed to get MCP server processes:",t),[]}}async getWindowsProcesses(){var e;try{const t=`wmic process where "name='python.exe' and commandline like '%megamem_mcp_server.py%'" get ProcessId,ParentProcessId,CreationDate,CommandLine /format:list`,{stdout:i}=await ct(t,{shell:"cmd.exe",windowsHide:!0,encoding:"utf8"}),s=[],r=i.split(/(\r\r\n){2,}/).filter(o=>o.trim()&&!o.match(/^(\r\r\n)+$/));for(const o of r){const a={};if(o.split(/\r\r\n/).forEach(l=>{const c=l.indexOf("=");if(c>0){const u=l.substring(0,c).trim(),g=l.substring(c+1).trim();u&&g&&(a[u]=g)}}),a.ProcessId&&a.ParentProcessId&&((e=a.CommandLine)!=null&&e.includes("megamem_mcp_server.py"))){const l=await this.getWindowsParentProcessName(a.ParentProcessId),c=this.formatWindowsDate(a.CreationDate);s.push({pid:a.ProcessId,parentName:l,createdAt:c,commandLine:a.CommandLine})}}return s}catch(t){return console.error("[PROCESS-DETECTION] Windows process detection failed:",t),[]}}async getWindowsParentProcessName(e){try{const t=`wmic process where "ProcessId=${e}" get Name /value`,{stdout:i}=await ct(t,{shell:"cmd.exe",windowsHide:!0,encoding:"utf8"}),s=i.split(/\r?\n/);for(const r of s){const o=r.indexOf("=");if(o>0){const a=r.substring(0,o).trim(),l=r.substring(o+1).trim();if(a==="Name"&&l)return l.replace(".exe","")}}return"Unknown"}catch{return"Unknown"}}formatWindowsDate(e){if(!e||e.length<14)return"Unknown";try{const t=e.substring(0,4),i=e.substring(4,6),s=e.substring(6,8),r=e.substring(8,10),o=e.substring(10,12),a=e.substring(12,14);return new Date(`${t}-${i}-${s}T${r}:${o}:${a}`).toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}catch{return e}}async getMacProcesses(){try{const e="ps aux | grep megamem_mcp_server.py | grep -v grep",{stdout:t}=await ct(e),i=t.split(`
`).filter(r=>r.trim()),s=[];for(const r of i){const o=r.trim().split(/\s+/);if(o.length>=11){const a=o[1],l=await this.getMacParentInfo(a);s.push({pid:a,parentName:l.name,createdAt:l.startTime,commandLine:o.slice(10).join(" ")})}}return s}catch(e){return console.error("[PROCESS-DETECTION] Mac process detection failed:",e),[]}}async getMacParentInfo(e){try{const{stdout:t}=await ct(`ps -p ${e} -o ppid=,lstart=`),s=t.trim().split(/\s+/);if(s.length>=6){const r=s[0],o=s.slice(1).join(" "),{stdout:a}=await ct(`ps -p ${r} -o comm=`);return{name:a.trim().replace(/^.*\//,"")||"Unknown",startTime:new Date(o).toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}}return{name:"Unknown",startTime:"Unknown"}}catch{return{name:"Unknown",startTime:"Unknown"}}}async getLinuxProcesses(){try{const e="ps aux | grep megamem_mcp_server.py | grep -v grep",{stdout:t}=await ct(e),i=t.split(`
`).filter(r=>r.trim()),s=[];for(const r of i){const o=r.trim().split(/\s+/);if(o.length>=11){const a=o[1],l=await this.getLinuxParentInfo(a);s.push({pid:a,parentName:l.name,createdAt:l.startTime,commandLine:o.slice(10).join(" ")})}}return s}catch(e){return console.error("[PROCESS-DETECTION] Linux process detection failed:",e),[]}}async getLinuxParentInfo(e){try{const{stdout:t}=await ct(`ps -p ${e} -o ppid=,lstart=`),s=t.trim().split(/\s+/);if(s.length>=6){const r=s[0],o=s.slice(1).join(" "),{stdout:a}=await ct(`ps -p ${r} -o comm=`);return{name:a.trim()||"Unknown",startTime:new Date(o).toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}}return{name:"Unknown",startTime:"Unknown"}}catch{return{name:"Unknown",startTime:"Unknown"}}}}const Ld=process.platform==="win32"||navigator.userAgent.includes("Windows");class Fd{constructor(e="http://localhost:11434",t){this.downloadCallbacks=new Map,this.modelCache={models:[],timestamp:0,ttl:3e4},this.pendingModelRequest=null,this.baseUrl=e.replace(/\/$/,""),this.logger=t}async isServerRunning(){try{return(await C.requestUrl({url:`${this.baseUrl}/api/version`,method:"GET",headers:{"Content-Type":"application/json"}})).status===200}catch(e){if(this.logger.debug("[OLLAMA] Server not running, attempting recovery",{error:e}),await this.attemptServiceRecovery()){await new Promise(i=>setTimeout(i,2e3));try{if((await C.requestUrl({url:`${this.baseUrl}/api/version`,method:"GET",headers:{"Content-Type":"application/json"}})).status===200)return this.logger.info("[OLLAMA] Service recovery successful"),!0}catch(i){this.logger.debug("[OLLAMA] Retry after service recovery failed",{retryError:i})}}return!1}}async getAvailableModels(e=!1){const t=Date.now();if(!e&&this.modelCache.models.length>0&&t-this.modelCache.timestamp<this.modelCache.ttl)return this.modelCache.models;if(this.pendingModelRequest&&!e)return this.pendingModelRequest;this.pendingModelRequest=this._fetchModelsFromServer();try{return await this.pendingModelRequest}finally{this.pendingModelRequest=null}}async _fetchModelsFromServer(){const e=Date.now();try{const t=await C.requestUrl({url:`${this.baseUrl}/api/tags`,method:"GET",headers:{"Content-Type":"application/json"}});if(t.status!==200)throw new Error(`Failed to fetch models: ${t.status}`);const r=(t.json.models||[]).map(o=>o.name);return this.logger.debug("[OLLAMA] Fetched fresh model list from server",{rawCount:r.length,normalizedCount:r.length,serverUrl:this.baseUrl}),this.modelCache={models:r,timestamp:e,ttl:this.modelCache.ttl},r}catch{if(await this.attemptServiceRecovery()){await new Promise(s=>setTimeout(s,2e3));try{const s=await C.requestUrl({url:`${this.baseUrl}/api/tags`,method:"GET",headers:{"Content-Type":"application/json"}});if(s.status===200){const a=(s.json.models||[]).map(l=>l.name);return this.modelCache={models:a,timestamp:e,ttl:this.modelCache.ttl},a}}catch{}}return[]}}async getEmbeddingModelsWithStatus(e,t=!1){const i=await this.getAvailableModels(t),r=(Array.isArray(e)&&e.length>0?e:[...i]).map(a=>{const l=i.includes(a);return{name:a,available:l}}),o=r.find(a=>a.name==="nomic-embed-text"||a.name.startsWith("nomic-embed-text:"));return o&&this.logger.info(`[OLLAMA] nomic-embed-text availability: ${o.available}`),r}async downloadModel(e,t){var i;try{t&&this.downloadCallbacks.set(e,t);const s=await fetch(`${this.baseUrl}/api/pull`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e})});if(!s.ok)throw new Error(`Download request failed: ${s.status}`);const r=(i=s.body)==null?void 0:i.getReader();if(!r)throw new Error("No response body reader available");let o=!1,a=!1;for(;!o;){const{done:l,value:c}=await r.read();if(l){o=!0;break}const g=new TextDecoder().decode(c).split(`
`).filter(m=>m.trim());for(const m of g)try{const h=JSON.parse(m);if(t&&t(h),h.error)throw this.logger.error("[OLLAMA] Download error detected",{error:h.error,modelName:e}),a=!0,new Error(`Download failed: ${h.error}`);h.status==="success"&&(o=!0)}catch(h){if(h instanceof Error&&h.message.includes("Download failed:"))throw h;this.logger.debug("[OLLAMA] Non-JSON progress line",{line:m})}}return this.downloadCallbacks.delete(e),a?(this.logger.error(`[OLLAMA] Model ${e} download failed due to detected errors`),!1):(this.logger.info(`[OLLAMA] Model ${e} downloaded successfully`),!0)}catch(s){return this.logger.error("[OLLAMA] Failed to download model",{modelName:e,error:s}),this.downloadCallbacks.delete(e),t&&t({status:`error: ${s instanceof Error?s.message:"Unknown error"}`}),!1}}clearModelCache(){this.modelCache={models:[],timestamp:0,ttl:this.modelCache.ttl}}async isModelAvailable(e){return(await this.getAvailableModels()).includes(e)}async _pollForModelAvailability(e,t=3e4,i=2e3){const s=Date.now(),r=e;for(;Date.now()-s<t;){if(await this.isModelAvailable(r))return this.logger.info(`[OLLAMA] Model ${r} is now available.`),!0;await new Promise(a=>setTimeout(a,i))}return this.logger.warn(`[OLLAMA] Model ${r} did not become available within timeout.`),!1}async isModelInstalled(e){return await this.isModelAvailable(e)}async downloadModelWithProgress(e,t){const i=await this.downloadModel(e,t);return i&&(this.clearModelCache(),await this._pollForModelAvailability(e,3e4,2e3)?t({status:"Model is now available for use"}):this.logger.warn(`[OLLAMA] Model ${e} downloaded but not showing as available`)),i}async checkServerStatus(){if(!await this.isServerRunning())return{running:!1};try{return{running:!0,modelCount:(await this.getAvailableModels()).length}}catch{return{running:!0}}}async startService(){return await this.isServerRunning()?{success:!0,message:"Ollama service is already running"}:await this.attemptServiceRecovery()?(await new Promise(s=>setTimeout(s,3e3)),await this.isServerRunning()?{success:!0,message:"Ollama service started successfully"}:{success:!1,message:"Service recovery attempted but Ollama is not responding"}):{success:!1,message:"Service recovery not available on this platform"}}async attemptServiceRecovery(){if(!Ld)return this.logger.debug("[OLLAMA] Service recovery not applicable on non-Windows platform"),!1;try{this.logger.info("[OLLAMA] Attempting Windows service recovery using PowerShell Start-Service");const{exec:e}=require("child_process");return new Promise(t=>{e('powershell.exe "Start-Service -Name ollama -ErrorAction SilentlyContinue"',{timeout:1e4},(s,r,o)=>{s?(this.logger.debug("[OLLAMA] PowerShell service start failed",{error:s.message,stderr:o}),e('powershell.exe "Start-Service -Name OllamaService -ErrorAction SilentlyContinue"',{timeout:1e4},l=>{l?this.logger.debug("[OLLAMA] Alternative service name also failed",{altError:l.message}):this.logger.info("[OLLAMA] Alternative service recovery command executed"),t(!0)})):(this.logger.info("[OLLAMA] Service recovery command executed successfully",{stdout:r.trim()}),t(!0))})})}catch(e){return this.logger.error("[OLLAMA] Service recovery attempt failed",{error:e}),!1}}}class $d{constructor(e,t){this.ollamaService=null,this.app=e,this.plugin=t}getOllamaService(){if(!this.ollamaService){let e=this.plugin.settings.ollamaBaseUrl||"http://localhost:11434";e=e.replace(/\/v1\/?$/,""),this.ollamaService=new Fd(e,this.plugin.logger)}return this.ollamaService}getOllamaLLMModelsFromSettings(){var e,t,i;try{const s=((e=this.plugin.settings.llmDefaults)==null?void 0:e.ollama)||{},r=Object.entries(s).map(([o,a])=>({name:o,description:a&&a.desc||"",recommended:!!(a&&a.recommended)}));return r.sort((o,a)=>Number(a.recommended)-Number(o.recommended)||o.name.localeCompare(a.name)),(t=this.plugin.logger)==null||t.debug("[OLLAMA-SETTINGS] Loaded Ollama LLM models from plugin.settings",{count:r.length}),r}catch(s){return(i=this.plugin.logger)==null||i.warn("[OLLAMA-SETTINGS] Failed to load Ollama LLM defaults from settings",{error:s}),[]}}getOllamaLLMSmallModelsFromSettings(){var e,t,i;try{const s=((e=this.plugin.settings.llmSmallDefaults)==null?void 0:e.ollama)||{},r=Object.entries(s).map(([o,a])=>({name:o,description:a&&a.desc||"",recommended:!!(a&&a.recommended)}));return r.sort((o,a)=>Number(a.recommended)-Number(o.recommended)||o.name.localeCompare(a.name)),(t=this.plugin.logger)==null||t.debug("[OLLAMA-SETTINGS] Loaded Ollama LLM Small models from plugin.settings",{count:r.length}),r}catch(s){return(i=this.plugin.logger)==null||i.warn("[OLLAMA-SETTINGS] Failed to load Ollama LLM Small defaults from settings",{error:s}),[]}}getOllamaEmbeddingModelsFromSettings(){var e,t,i;try{const s=((e=this.plugin.settings.embeddingDefaults)==null?void 0:e.ollama)||{},r=Object.entries(s).map(([o,a])=>({name:o,description:a&&a.desc||"",dimensions:a&&a.dimensions||void 0,recommended:!!(a&&a.recommended)}));return r.sort((o,a)=>Number(a.recommended)-Number(o.recommended)||o.name.localeCompare(a.name)),(t=this.plugin.logger)==null||t.debug("[OLLAMA-SETTINGS] Loaded Ollama embedding models from plugin.settings",{count:r.length}),r}catch(s){return(i=this.plugin.logger)==null||i.warn("[OLLAMA-SETTINGS] Failed to load Ollama embedding defaults from settings",{error:s}),[]}}getOllamaEmbeddingModelNamesFromSettings(){var e;try{return Object.keys(((e=this.plugin.settings.embeddingDefaults)==null?void 0:e.ollama)||{})}catch{return[]}}async addCustomOllamaLLMToDefaults(e){var t,i;try{this.plugin.settings.llmDefaults||(this.plugin.settings.llmDefaults={}),this.plugin.settings.llmDefaults.ollama||(this.plugin.settings.llmDefaults.ollama={}),this.plugin.settings.llmDefaults.ollama[e]||(this.plugin.settings.llmDefaults.ollama[e]={desc:"User added",recommended:!1},await this.plugin.saveSettings(),(t=this.plugin.logger)==null||t.info("[OLLAMA-SETTINGS] Added custom Ollama LLM to defaults",{modelName:e}))}catch(s){(i=this.plugin.logger)==null||i.error("[OLLAMA-SETTINGS] Failed to add custom Ollama LLM to defaults",{modelName:e,error:s})}}async addCustomOllamaEmbeddingToDefaults(e){var t,i;try{this.plugin.settings.embeddingDefaults||(this.plugin.settings.embeddingDefaults={}),this.plugin.settings.embeddingDefaults.ollama||(this.plugin.settings.embeddingDefaults.ollama={}),this.plugin.settings.embeddingDefaults.ollama[e]||(this.plugin.settings.embeddingDefaults.ollama[e]={desc:"User added",dimensions:this.plugin.settings.ollamaEmbeddingDim||768,recommended:!1},await this.plugin.saveSettings(),(t=this.plugin.logger)==null||t.info("[OLLAMA-SETTINGS] Added custom Ollama embedding to defaults",{modelName:e}))}catch(s){(i=this.plugin.logger)==null||i.error("[OLLAMA-SETTINGS] Failed to add custom Ollama embedding to defaults",{modelName:e,error:s})}}async isOllamaModelInstalled(e){var t;try{return await this.getOllamaService().isModelInstalled(e)}catch(i){return(t=this.plugin.logger)==null||t.error("[OLLAMA-SETTINGS] Failed to check Ollama model installation",{modelName:e,error:i}),!1}}async downloadOllamaModelWithProgress(e,t){var l;const i=this.getOllamaService();t.empty();const s=t.createDiv();s.createEl("div",{text:`[DOWNLOADING] ${e}...`});const r=s.createEl("div");r.style.cssText=`
			width: 100%;
			height: 6px;
			background-color: var(--background-modifier-border);
			border-radius: 3px;
			margin: 4px 0;
			overflow: hidden;
		`;const o=r.createEl("div");o.style.cssText=`
			height: 100%;
			background-color: var(--color-accent);
			transition: width 0.3s ease;
			width: 0%;
		`;const a=s.createEl("div");a.style.cssText=`
			font-size: 0.8em;
			color: var(--text-muted);
			margin-top: 2px;
		`;try{const c=await i.downloadModelWithProgress(e,u=>{const g=Math.round((u.completed||0)/(u.total||1)*100)||0;o.style.width=`${g}%`,a.textContent=`${g}% - ${u.status||"Downloading..."}`});t.empty(),c?(t.createDiv().createEl("div",{text:`[SUCCESS] ${e} installed successfully!`,attr:{style:"color: var(--color-green);"}}),setTimeout(()=>t.empty(),3e3)):t.createEl("div",{text:"[ERROR] Download failed",attr:{style:"color: var(--color-red);"}})}catch(c){(l=this.plugin.logger)==null||l.error("[OLLAMA-SETTINGS] Ollama model download failed",{error:c}),t.empty();const u=c instanceof Error?c.message:"Unknown error";t.createEl("div",{text:`[ERROR] Download failed: ${u}`,attr:{style:"color: var(--color-red);"}})}}async populateOllamaModelsWithStatus(e){var i;const t=this.getOllamaService();try{if(!await t.isServerRunning()){e.addOption("","[Ollama server not running]");return}const r=this.getOllamaEmbeddingModelNamesFromSettings();(await t.getEmbeddingModelsWithStatus(r)).forEach(a=>{const l=a.name;e.addOption(a.name,l)})}catch(s){(i=this.plugin.logger)==null||i.error("[OLLAMA-SETTINGS] Failed to load Ollama models with status",{error:s}),e.addOption("","[Error loading models]")}}async handleOllamaModelSelection(e,t){var i;if(e)try{await this.getOllamaService().isModelAvailable(e)?t.empty():confirm(`Model "${e}" is not installed.

Would you like to download it now?`)&&await this.downloadOllamaModelWithProgress(e,t)}catch(s){(i=this.plugin.logger)==null||i.error("[OLLAMA-SETTINGS] Error handling Ollama model selection",{error:s}),t.empty(),t.createEl("div",{text:"[ERROR] Failed to check model availability",attr:{style:"color: var(--color-red);"}})}}async updateModelStatusIconForDropdown(e,t,i){var s;if(i)try{e.innerHTML="";const r=await this.isOllamaModelInstalled(i),o=e.createDiv();o.style.cssText="display:inline-flex; align-items:center; gap:6px; font-size:0.9em; padding:4px 6px; border-radius:4px;";const a=o.createSpan();C.setIcon(a,r?"check-circle":"download"),a.style.color=r?"var(--color-green)":"var(--color-orange)",a.style.cursor=r?"default":"pointer";const l=o.createSpan();if(l.textContent=r?"Available":"Not installed",l.style.color=r?"var(--color-green)":"var(--color-orange)",!r){const c=async u=>{var g;u.stopPropagation(),u.preventDefault();try{if(!confirm('[CONFIRM] Model "'+i+'" is not installed.\\n\\nWould you like to download it now?'))return;await this.downloadOllamaModelWithProgress(i,e),setTimeout(async()=>{await this.updateModelStatusIconForDropdown(e,t,i)},800),await this.isOllamaModelInstalled(i)&&(t==="embedding"?await this.addCustomOllamaEmbeddingToDefaults(i):await this.addCustomOllamaLLMToDefaults(i))}catch(m){(g=this.plugin.logger)==null||g.error("[OLLAMA-SETTINGS] download handler failed",{modelName:i,err:m}),new C.Notice("[ERROR] Failed to download model")}};a.addEventListener("click",c),l.addEventListener("click",c)}}catch(r){(s=this.plugin.logger)==null||s.error(`[OLLAMA-SETTINGS] Failed to update status icon for ${i}`,{error:r})}}async refreshOllamaStatus(e,t){var i,s,r;try{(i=this.plugin.logger)==null||i.debug("[OLLAMA-SETTINGS] Checking Ollama installation status"),e.innerHTML="",e.style.backgroundColor="";const a=await this.getOllamaService().checkServerStatus();if(a.running){const l=a.modelCount||0;e.style.backgroundColor="var(--color-green-bg)",e.style.color="var(--color-green)",e.innerHTML=`
					<div style="display: flex; align-items: center; gap: 6px;">
						<span>[INSTALLED]</span>
						<span>Ollama is running with ${l} model(s)</span>
					</div>
					<div style="font-size: 0.8em; margin-top: 4px; opacity: 0.8;">
						Server available at ${this.plugin.settings.ollamaBaseUrl||"http://localhost:11434"}
					</div>
				`,t.textContent="Upgrade Ollama",t.style.backgroundColor="var(--interactive-accent)",(s=this.plugin.logger)==null||s.debug("[OLLAMA-SETTINGS] Installation detected successfully",{modelCount:l})}else{e.style.backgroundColor="var(--color-orange-bg)",e.style.color="var(--color-orange)",e.innerHTML=`
					<div style="display: flex; align-items: center; gap: 6px;">
						<span>[NOT RUNNING]</span>
						<span>Ollama is not running or not installed</span>
					</div>
					<div style="font-size: 0.8em; margin-top: 4px; opacity: 0.8;">
						Try starting the service or install Ollama if not present
					</div>
				`;const l=e.createDiv();l.style.cssText="margin-top: 8px; display: flex; gap: 8px; align-items: center;";const c=l.createEl("button",{text:"Start Service",cls:"mod-cta"});c.style.fontSize="0.8em",c.style.padding="4px 8px",c.onclick=async()=>{await this.startOllamaService(e,t)},t.textContent="Install/Reinstall Ollama",t.style.backgroundColor="var(--color-orange)"}}catch(o){(r=this.plugin.logger)==null||r.debug("[OLLAMA-SETTINGS] Status check failed",{error:o}),e.style.backgroundColor="var(--color-red-bg)",e.style.color="var(--color-red)",e.innerHTML=`
				<div style="display: flex; align-items: center; gap: 6px;">
					<span>[ERROR]</span>
					<span>Unable to check Ollama status</span>
				</div>
				<div style="font-size: 0.8em; margin-top: 4px; opacity: 0.8;">
					Check installation or network connection
				</div>
			`,t.textContent="Install Ollama",t.style.backgroundColor="var(--interactive-accent)"}}async startOllamaService(e,t){var i,s;try{(i=this.plugin.logger)==null||i.debug("[OLLAMA-SETTINGS] Attempting to start Ollama service");const r=e.createDiv();r.style.cssText=`
				margin-top: 8px;
				padding: 6px;
				background: var(--color-blue-bg);
				color: var(--color-blue);
				border-radius: 4px;
				font-size: 0.8em;
			`,r.textContent="[STARTING] Attempting to start Ollama service...";const a=await this.getOllamaService().startService();if(r.remove(),a.success)await new Promise(l=>setTimeout(l,2e3)),await this.refreshOllamaStatus(e,t),new C.Notice("[SUCCESS] Ollama service started successfully");else{const l=e.createDiv();l.style.cssText=`
					margin-top: 8px;
					padding: 6px;
					background: var(--color-red-bg);
					color: var(--color-red);
					border-radius: 4px;
					font-size: 0.8em;
				`,l.innerHTML=`
					<div>[FAILED] Could not start Ollama service</div>
					<div style="margin-top: 4px; opacity: 0.8;">${a.message||"Try restarting your computer or reinstalling Ollama"}</div>
				`,new C.Notice(`[ERROR] Failed to start Ollama service - ${a.message||"try restarting your computer"}`)}}catch(r){(s=this.plugin.logger)==null||s.error("[OLLAMA-SETTINGS] Service recovery failed",{error:r}),new C.Notice("[ERROR] Failed to start Ollama service - operation failed")}}async handleOllamaInstallation(){var e,t;try{(e=this.plugin.logger)==null||e.debug("[OLLAMA-SETTINGS] Opening Ollama installation page");const{shell:i}=require("electron");await i.openExternal("https://ollama.com/download"),new C.Notice("[INFO] Ollama website opened - Download and install, then restart this app",8e3),this.showOllamaInstallationModal()}catch(i){(t=this.plugin.logger)==null||t.error("[OLLAMA-SETTINGS] Failed to open installation page",{error:i}),new C.Notice("[ERROR] Could not open Ollama website - please visit https://ollama.com/download manually")}}showOllamaInstallationModal(){const e=document.createElement("div");e.style.cssText=`
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: rgba(0, 0, 0, 0.8);
			display: flex;
			align-items: center;
			justify-content: center;
			z-index: 1000;
		`;const t=document.createElement("div");t.style.cssText=`
			background: var(--background-primary);
			border: 1px solid var(--background-modifier-border);
			border-radius: 8px;
			padding: 24px;
			max-width: 500px;
			width: 90%;
			max-height: 80%;
			overflow: auto;
		`,t.innerHTML=`
			<h3 style="margin: 0 0 16px 0; color: var(--text-accent);">Ollama Installation Instructions</h3>

			<div style="margin-bottom: 16px;">
				<h4 style="margin: 0 0 8px 0;">Step 1: Download Ollama</h4>
				<p style="margin: 0 0 8px 0; font-size: 0.9em; color: var(--text-muted);">
					The Ollama website should now be open in your browser. Download the installer for your operating system.
				</p>
			</div>

			<div style="margin-bottom: 16px;">
				<h4 style="margin: 0 0 8px 0;">Step 2: Install and Restart</h4>
				<p style="margin: 0 0 8px 0; font-size: 0.9em; color: var(--text-muted);">
					Run the installer and follow the prompts. After installation, restart Obsidian completely.
				</p>
			</div>

			<div style="margin-bottom: 16px;">
				<h4 style="margin: 0 0 8px 0;">Step 3: Verify Installation</h4>
				<p style="margin: 0 0 8px 0; font-size: 0.9em; color: var(--text-muted);">
					Return to this settings page and click "Refresh Status" to verify Ollama is running.
				</p>
			</div>

			<div style="background: var(--background-secondary); padding: 12px; border-radius: 6px; margin-bottom: 16px;">
				<p style="margin: 0; font-size: 0.85em; color: var(--text-muted);">
					<strong>Note:</strong> Ollama runs completely on your local machine. No data is sent to external servers, ensuring full privacy for your AI interactions.
				</p>
			</div>

			<div style="display: flex; gap: 12px; justify-content: flex-end;">
				<button id="ollama-modal-close" style="padding: 8px 16px; border: 1px solid var(--background-modifier-border); background: var(--background-primary); border-radius: 4px; cursor: pointer;">
					Close
				</button>
			</div>
		`,e.appendChild(t);const i=t.querySelector("#ollama-modal-close");i.onclick=()=>document.body.removeChild(e),e.onclick=s=>{s.target===e&&document.body.removeChild(e)},document.body.appendChild(e)}async addCustomLLMModelEntry(e){const t=new C.Setting(e).setName("Custom LLM Model").setDesc("Download any Ollama LLM model by name (e.g., llama3.2:3b, codellama:13b)");let i,s,r;const o=t.settingEl.createDiv();o.style.cssText=`
			margin-top: 8px;
			padding: 8px;
			border-radius: 4px;
			font-size: 0.9em;
			min-height: 20px;
		`,t.addText(a=>{i=a.inputEl,a.setPlaceholder("Enter model name (e.g., llama3.2:3b)").onChange(l=>{const c=!!l.trim();r&&typeof r.setDisabled=="function"?r.setDisabled(!c):s&&(s.disabled=!c)})}),t.addButton(a=>{r=a,s=a.buttonEl,a.setButtonText(" Download").setTooltip("Download this model from Ollama registry").setDisabled(!0).onClick(async()=>{var c,u,g;const l=((i==null?void 0:i.value)||"").trim();if(!l){new C.Notice("[ERROR] Please enter a model name");return}try{(c=this.plugin.logger)==null||c.info("[OLLAMA-SETTINGS] Custom LLM download requested",{modelName:l}),r==null||r.setDisabled(!0),o.empty(),o.createEl("div",{text:`[START] Downloading ${l}...`});const m=this.getOllamaService();if(await m.isModelAvailable(l)){new C.Notice(`[INFO] Model ${l} is already installed`),o.empty(),o.createEl("div",{text:`[INFO] ${l} already available`});return}await this.downloadOllamaModelWithProgress(l,o);try{await m.isModelAvailable(l)&&(await this.addCustomOllamaLLMToDefaults(l),await this.refreshLLMDropdowns(),new C.Notice(`[SUCCESS] ${l} downloaded and added to LLM models.`))}catch(d){(u=this.plugin.logger)==null||u.warn("[OLLAMA-SETTINGS] Post-download availability check failed",{error:d,modelName:l})}i.value="",r==null||r.setDisabled(!0)}catch(m){(g=this.plugin.logger)==null||g.error("[OLLAMA-SETTINGS] Download failed",{error:m,modelName:l});const h=m instanceof Error?m.message:"Unknown error";new C.Notice(`[ERROR] Failed to download ${l}: ${h}`)}finally{const m=!!((i==null?void 0:i.value)||"").trim();r==null||r.setDisabled(!m)}})})}async addCustomEmbeddingModelEntry(e){const t=new C.Setting(e).setName("Custom Embedding Model").setDesc("Download any Ollama embedding model by name (e.g., nomic-embed-text, mxbai-embed-large)");let i,s,r;const o=t.settingEl.createDiv();o.style.cssText=`
			margin-top: 8px;
			padding: 8px;
			border-radius: 4px;
			font-size: 0.9em;
			min-height: 20px;
		`,t.addText(a=>{i=a.inputEl,a.setPlaceholder("Enter embedding model name").onChange(l=>{const c=!!l.trim();r&&typeof r.setDisabled=="function"?r.setDisabled(!c):s&&(s.disabled=!c)})}),t.addButton(a=>{r=a,s=a.buttonEl,a.setButtonText(" Download").setTooltip("Download this embedding model from Ollama registry").setDisabled(!0).onClick(async()=>{var c,u,g;const l=((i==null?void 0:i.value)||"").trim();if(!l){new C.Notice("[ERROR] Please enter a model name");return}try{(c=this.plugin.logger)==null||c.info("[OLLAMA-SETTINGS] Custom embedding download requested",{modelName:l}),r==null||r.setDisabled(!0),o.empty(),o.createEl("div",{text:`[START] Downloading ${l}...`});const m=this.getOllamaService();if(await m.isModelAvailable(l)){new C.Notice(`[INFO] Model ${l} is already installed`),o.empty(),o.createEl("div",{text:`[INFO] ${l} already available`});return}await this.downloadOllamaModelWithProgress(l,o);try{await m.isModelAvailable(l)&&(await this.addCustomOllamaEmbeddingToDefaults(l),await this.refreshEmbeddingDropdowns(),new C.Notice(`[SUCCESS] ${l} downloaded and added to embedding models.`))}catch(d){(u=this.plugin.logger)==null||u.warn("[OLLAMA-SETTINGS] Post-download availability check failed",{error:d,modelName:l})}i.value="",r==null||r.setDisabled(!0)}catch(m){(g=this.plugin.logger)==null||g.error("[OLLAMA-SETTINGS] Download failed",{error:m,modelName:l});const h=m instanceof Error?m.message:"Unknown error";new C.Notice(`[ERROR] Failed to download ${l}: ${h}`)}finally{const m=!!((i==null?void 0:i.value)||"").trim();r==null||r.setDisabled(!m)}})})}async refreshEmbeddingDropdowns(){var e,t;try{await this.getOllamaService().getAvailableModels(!0);const s=document.querySelectorAll("select");for(const r of s){const o=r.closest(".setting-item");if(o){const a=o.querySelector(".setting-item-name");a&&((e=a.textContent)!=null&&e.toLowerCase().includes("embedding"))&&await this.populateOllamaModelsWithStatus(r)}}}catch(i){(t=this.plugin.logger)==null||t.debug("[OLLAMA-SETTINGS] Error refreshing embedding dropdowns",{error:i})}}async refreshLLMDropdowns(){var e,t,i,s;try{await this.getOllamaService().getAvailableModels(!0);const o=document.querySelectorAll("select");for(const a of o){const l=a.closest(".setting-item");if(l){const c=l.querySelector(".setting-item-name");if(c&&((e=c.textContent)!=null&&e.toLowerCase().includes("llm")||(t=c.textContent)!=null&&t.toLowerCase().includes("model"))&&!((i=c.textContent)!=null&&i.toLowerCase().includes("embedding"))){const u=Array.from(a.options),g=a.value;a.innerHTML="",this.getOllamaLLMModelsFromSettings().forEach(h=>{const d=document.createElement("option");d.value=h.name,d.textContent=h.name,a.appendChild(d)}),Array.from(a.options).some(h=>h.value===g)&&(a.value=g)}}}}catch(r){(s=this.plugin.logger)==null||s.debug("[OLLAMA-SETTINGS] Error refreshing LLM dropdowns",{error:r})}}}class Ud{constructor(e,t){this.app=e,this.plugin=t}addMCPToolsAccordion(e){var t;try{e.createEl("p",{text:"Configure MCP (Model Context Protocol) tools integration, default note folders, and third-party plugin connections.",cls:"setting-item-description"}),this.addMCPDefaultsSection(e),this.addMCPIntegrationsSection(e),this.addMCPToolDefinitionsSection(e)}catch(i){(t=this.plugin.logger)==null||t.error("Critical error in MCP Tools accordion",{error:i instanceof Error?i.message:String(i),stack:i instanceof Error?i.stack:void 0}),e.createEl("div",{text:`MCP Tools section failed to load: ${i instanceof Error?i.message:"Unknown error"}`,cls:"setting-item-description"})}}addMCPDefaultsSection(e){var t;try{e.createEl("h4",{text:"Defaults",cls:"setting-item-name"}),new C.Setting(e).setName("Default folder for MCP notes").setDesc("Default folder where MCP-generated notes will be created. Start typing to see folder suggestions.").addSearch(i=>{var s,r,o;try{new Jt(this.app,i.inputEl),i.setPlaceholder("e.g., MCP Notes, Knowledge/MCP, or leave empty for vault root").setValue(((r=(s=this.plugin.settings.mcpTools)==null?void 0:s.defaults)==null?void 0:r.inboxFolder)||"").onChange(async a=>{var l;try{this.plugin.settings.mcpTools||(this.plugin.settings.mcpTools={defaults:{inboxFolder:"",enableSmartFolderResolution:!0},integrations:{templater:{detected:!1,enabled:!1,useTemplateFolders:!1},periodicNotes:{detected:!1,enabled:!1,usePeriodicFolders:!1}},tools:[]}),this.plugin.settings.mcpTools.defaults||(this.plugin.settings.mcpTools.defaults={inboxFolder:"",enableSmartFolderResolution:!0}),this.plugin.settings.mcpTools.defaults.inboxFolder=a,await this.plugin.saveSettings()}catch(c){(l=this.plugin.logger)==null||l.error("Error saving MCP default folder setting",{error:c})}})}catch(a){(o=this.plugin.logger)==null||o.error("Error setting up folder search input",{error:a})}})}catch(i){(t=this.plugin.logger)==null||t.error("Error in Defaults section",{error:i instanceof Error?i.message:String(i)}),e.createEl("div",{text:"Error loading Defaults section",cls:"setting-item-description"})}}addMCPIntegrationsSection(e){var t,i,s,r,o,a,l,c,u;try{e.createEl("h4",{text:"3rd Party Integrations",cls:"setting-item-name"});try{const g=!!this.app.plugins.plugins["templater-obsidian"],m=((s=(i=(t=this.plugin.settings.mcpTools)==null?void 0:t.integrations)==null?void 0:i.templater)==null?void 0:s.enabled)||!1,h=new C.Setting(e).setName("Templater Plugin Integration").setDesc("Integrate with Templater plugin for enhanced note creation"),d=h.nameEl.createSpan({cls:"mcp-status-icon",text:g?" ":" "});d.style.cssText=`
					color: ${g?"var(--color-green)":"var(--color-red)"};
					font-weight: bold;
					margin-right: 4px;
				`,h.addToggle(f=>{f.setValue(m).setDisabled(!g).onChange(async b=>{var w,S;try{this.plugin.settings.mcpTools||(this.plugin.settings.mcpTools={defaults:{inboxFolder:"",enableSmartFolderResolution:!0},integrations:{templater:{detected:!1,enabled:!1,useTemplateFolders:!1},periodicNotes:{detected:!1,enabled:!1,usePeriodicFolders:!1}},tools:[]}),this.plugin.settings.mcpTools.integrations.templater.enabled=b,await this.plugin.saveSettings(),(w=this.plugin.logger)==null||w.debug("Templater integration toggled",{enabled:b})}catch(x){(S=this.plugin.logger)==null||S.error("Failed to save Templater setting",{error:x})}})}),g||h.descEl.appendText(" (Plugin not detected - install Templater to enable this integration)")}catch(g){(r=this.plugin.logger)==null||r.error("Error setting up Templater integration",{error:g})}try{const g=!!this.app.plugins.plugins["periodic-notes"],m=((l=(a=(o=this.plugin.settings.mcpTools)==null?void 0:o.integrations)==null?void 0:a.periodicNotes)==null?void 0:l.enabled)||!1,h=new C.Setting(e).setName("Periodic Notes Plugin Integration").setDesc("Integrate with Periodic Notes plugin for time-based note organization"),d=h.nameEl.createSpan({cls:"mcp-status-icon",text:g?" ":" "});d.style.cssText=`
					color: ${g?"var(--color-green)":"var(--color-red)"};
					font-weight: bold;
					margin-right: 4px;
				`,h.addToggle(f=>{f.setValue(m).setDisabled(!g).onChange(async b=>{var w,S;try{this.plugin.settings.mcpTools||(this.plugin.settings.mcpTools={defaults:{inboxFolder:"",enableSmartFolderResolution:!0},integrations:{templater:{detected:!1,enabled:!1,useTemplateFolders:!1},periodicNotes:{detected:!1,enabled:!1,usePeriodicFolders:!1}},tools:[]}),this.plugin.settings.mcpTools.integrations.periodicNotes.enabled=b,await this.plugin.saveSettings(),(w=this.plugin.logger)==null||w.debug("Periodic Notes integration toggled",{enabled:b})}catch(x){(S=this.plugin.logger)==null||S.error("Failed to save Periodic Notes setting",{error:x})}})}),g||h.descEl.appendText(" (Plugin not detected - install Periodic Notes to enable this integration)")}catch(g){(c=this.plugin.logger)==null||c.error("Error setting up Periodic Notes integration",{error:g})}}catch(g){(u=this.plugin.logger)==null||u.error("Error in 3rd Party Integrations section",{error:g instanceof Error?g.message:String(g)}),e.createEl("div",{text:"Error loading 3rd Party Integrations section",cls:"setting-item-description"})}}addMCPToolDefinitionsSection(e){var t,i;try{(t=this.plugin.logger)==null||t.debug("Adding MCP Tool Definitions section"),e.createEl("h4",{text:"Tool Definitions",cls:"setting-item-name"}),new C.Setting(e).setName("Available MCP Tools").setDesc("Currently available MCP tools from megamem_mcp_server.py");const s=e.createDiv("mcp-tools-display");s.style.cssText=`
				margin: 16px 0;
				border: 1px solid var(--background-modifier-border);
				border-radius: 6px;
				max-height: 400px;
				overflow-y: auto;
			`;const r=s.createDiv();r.style.cssText=`
				background: var(--background-modifier-hover);
				padding: 8px 12px;
				font-weight: 600;
				border-bottom: 1px solid var(--background-modifier-border);
			`,r.textContent="Graphiti Memory Tools (9 tools)",[{name:"add_memory",description:"Add a memory/episode to the graph (aliases: mm, megamem, memory)"},{name:"search_memory_nodes",description:"Search for nodes in the memory graph (aliases: mm, megamem, memory)"},{name:"search_memory_facts",description:"Search for facts/relationships in the memory graph (aliases: mm, megamem, memory)"},{name:"get_episodes",description:"Get episodes from the memory graph (aliases: mm, megamem, memory)"},{name:"clear_graph",description:"Clear the entire memory graph (aliases: mm, megamem, memory)"},{name:"get_entity_edge",description:"Get entity edges from the graph (aliases: mm, megamem, memory)"},{name:"delete_entity_edge",description:"Delete entity edges from the graph (aliases: mm, megamem, memory)"},{name:"delete_episode",description:"Delete an episode from the graph (aliases: mm, megamem, memory)"},{name:"list_group_ids",description:"List all available group IDs (namespaces) in the vault (aliases: mm, megamem, memory)"}].forEach(c=>{const u=s.createDiv();u.style.cssText=`
					padding: 8px 12px;
					border-bottom: 1px solid var(--background-modifier-border-hover);
				`;const g=u.createDiv();g.style.cssText=`
					font-weight: 500;
					color: var(--text-accent);
					font-family: var(--font-monospace);
					font-size: 13px;
				`,g.textContent=c.name;const m=u.createDiv();m.style.cssText=`
					font-size: 12px;
					color: var(--text-muted);
					margin-top: 2px;
				`,m.textContent=c.description});const a=s.createDiv();a.style.cssText=`
				background: var(--background-modifier-hover);
				padding: 8px 12px;
				font-weight: 600;
				border-bottom: 1px solid var(--background-modifier-border);
				margin-top: 4px;
			`,a.textContent="Obsidian Vault Tools (7 tools)",[{name:"search_obsidian_notes",description:"Search for notes in Obsidian vault by filename and/or content (aliases: mv, my vault, obsidian)"},{name:"read_obsidian_note",description:"Read a specific note from Obsidian (aliases: mv, my vault, obsidian)"},{name:"update_obsidian_note",description:"Update content of an existing note (aliases: mv, my vault, obsidian)"},{name:"create_obsidian_note",description:"Create a new note in Obsidian (aliases: mv, my vault, obsidian)"},{name:"list_obsidian_vaults",description:"List all available Obsidian vaults (aliases: mv, my vault, obsidian)"},{name:"explore_vault_folders",description:"Explore folder structure in an Obsidian vault (query by natural language or path)"},{name:"create_note_with_template",description:"Create a new note using a templater template (fuzzy-match) in the vault"}].forEach(c=>{const u=s.createDiv();u.style.cssText=`
					padding: 8px 12px;
					border-bottom: 1px solid var(--background-modifier-border-hover);
				`;const g=u.createDiv();g.style.cssText=`
					font-weight: 500;
					color: var(--text-accent);
					font-family: var(--font-monospace);
					font-size: 13px;
				`,g.textContent=c.name;const m=u.createDiv();m.style.cssText=`
					font-size: 12px;
					color: var(--text-muted);
					margin-top: 2px;
				`,m.textContent=c.description})}catch(s){(i=this.plugin.logger)==null||i.error("Error in Tool Definitions section",{error:s instanceof Error?s.message:String(s)}),e.createEl("div",{text:"Error loading Tool Definitions section",cls:"setting-item-description"})}}async autoDetectPlugins(){var e,t,i;try{(e=this.plugin.logger)==null||e.debug("Running auto-detection for all plugins");const s=this.app.vault.adapter,r=s==null?void 0:s.basePath,o=!!this.app.plugins.plugins["templater-obsidian"],a=!!this.app.plugins.plugins["periodic-notes"];this.ensureMCPToolsSettings(),this.plugin.settings.mcpTools.integrations.templater.detected=o,this.plugin.settings.mcpTools.integrations.periodicNotes.detected=a,await this.plugin.saveSettings(),(t=this.plugin.logger)==null||t.debug("Auto-detection completed",{templater:o,periodicNotes:a})}catch(s){(i=this.plugin.logger)==null||i.error("Auto-detection failed",{error:s})}}isPluginDetected(e){var t,i,s,r;try{return((s=(i=(t=this.plugin.settings.mcpTools)==null?void 0:t.integrations)==null?void 0:i[e])==null?void 0:s.detected)||!1}catch(o){return(r=this.plugin.logger)==null||r.error("Error checking plugin detection status",{pluginName:e,error:o}),!1}}ensureMCPToolsSettings(){var e,t;try{this.plugin.settings.mcpTools||(this.plugin.settings.mcpTools={defaults:{inboxFolder:"",enableSmartFolderResolution:!0},integrations:{templater:{detected:!1,enabled:!1,useTemplateFolders:!1},periodicNotes:{detected:!1,enabled:!1,usePeriodicFolders:!1}},tools:[]}),this.plugin.settings.mcpTools.defaults||(this.plugin.settings.mcpTools.defaults={inboxFolder:"",enableSmartFolderResolution:!0}),this.plugin.settings.mcpTools.integrations||(this.plugin.settings.mcpTools.integrations={templater:{detected:!1,enabled:!1,useTemplateFolders:!1},periodicNotes:{detected:!1,enabled:!1,usePeriodicFolders:!1}}),this.plugin.settings.mcpTools.tools||(this.plugin.settings.mcpTools.tools=[]),(e=this.plugin.logger)==null||e.debug("MCP tools settings structure ensured")}catch(i){(t=this.plugin.logger)==null||t.error("Error ensuring MCP tools settings",{error:i})}}}class jd extends C.Modal{constructor(e,t,i,s){super(e),this.isInstalling=!1,this.useUv=!1,this.installer=i,this.plugin=t,this.onComplete=s,this.logger=new Nt(t,!1)}async onOpen(){const{contentEl:e}=this;e.empty(),e.createEl("h2",{text:"Python Dependencies Status"}),this.statusEl=e.createDiv({cls:"dependency-status-container"});const t=await this.installer.checkAllDependencies();this.displayStatus(t);const i=e.createDiv({cls:"dependency-log-container"});i.createEl("h3",{text:"Installation Log"}),this.logEl=i.createEl("textarea",{cls:"dependency-log-content",attr:{readonly:"true",rows:"10"}});const s=e.createDiv({cls:"dependency-install-options"});s.createEl("h3",{text:"Installation Method"});const r=s.createDiv({cls:"dependency-radio-option"});r.createEl("input",{type:"radio",attr:{name:"install-method",value:"system",checked:"checked"}}).addEventListener("change",()=>{this.useUv=!1}),r.createEl("label",{text:" Install with System Python (default)"});const a=s.createDiv({cls:"dependency-radio-option"});a.createEl("input",{type:"radio",attr:{name:"install-method",value:"uv"}}).addEventListener("change",()=>{this.useUv=!0}),a.createEl("label",{text:" Install with UV Package Manager"}),s.createDiv({cls:"dependency-option-desc"}).setText("UV is faster but experimental. System Python is recommended for most users.");const u=e.createDiv({cls:"dependency-button-container"});this.installButton=u.createEl("button",{text:"Install Dependencies",cls:"mod-cta"}),this.installButton.addEventListener("click",()=>this.handleInstall()),u.createEl("button",{text:"Close"}).addEventListener("click",()=>this.close()),this.addCustomStyles()}displayStatus(e){if(!this.statusEl)return;if(this.statusEl.empty(),[{label:"System Python",status:e.systemPython?"[OK]":"[X]",detail:e.systemPython?`${e.systemPython.version} at ${e.systemPython.path}`:"Not found",success:!!e.systemPython},{label:"UV Package Manager",status:e.uvInstalled?"[OK]":"[X]",detail:e.uvInstalled?"Installed":"Not installed",success:e.uvInstalled},{label:"Virtual Environment",status:e.venvExists?"[OK]":"[X]",detail:e.venvExists?e.venvPath:"Not created",success:e.venvExists},{label:"Graphiti Dependencies",status:e.graphitiInstalled?"[OK]":"[X]",detail:e.graphitiInstalled?e.graphitiVersion?`v${e.graphitiVersion}`:"Installed":"Not installed",success:e.graphitiInstalled}].forEach(i=>{const s=this.statusEl.createDiv({cls:"dependency-status-item"});s.createSpan({text:i.status,cls:i.success?"status-success":"status-error"}),s.createSpan({text:` ${i.label}: `,cls:"dependency-label"}),s.createSpan({text:i.detail,cls:"dependency-detail"})}),e.mismatch.detected){const i=this.statusEl.createDiv({cls:"dependency-warning"});i.createSpan({text:"[WARNING] "}),i.createSpan({text:e.mismatch.description})}}async handleInstall(){if(this.isInstalling)return;this.isInstalling=!0,this.installButton&&(this.installButton.disabled=!0,this.installButton.setText("Installing..."));const e=this.useUv?"uv":"system";this.addLog(`[INFO] Starting installation using ${e}...`);try{await this.installer.installDependencies(e,(s,r)=>{this.addLog(`[INFO] ${s} (${r}%)`)}),this.addLog("[SUCCESS] Installation complete!");const t=this.installer.getPythonExecutable();this.plugin.settings.pythonPath=t,await this.plugin.saveSettings(),this.logger.info("[INSTALL] Saved Python path to settings",{pythonPath:t});const i=await this.installer.checkAllDependencies();this.displayStatus(i),this.addLog("[INFO] Settings updated - close and reopen Settings tab to see changes")}catch(t){const i=t instanceof Error?t.message:String(t);this.addLog(`[ERROR] Installation failed: ${i}`),this.logger.error("Installation failed",t)}finally{this.isInstalling=!1,this.installButton&&(this.installButton.disabled=!1,this.installButton.setText("Install Dependencies"))}}addLog(e){if(!this.logEl)return;const i=`[${new Date().toLocaleTimeString()}] ${e}
`;this.logEl.value+=i,this.logEl.scrollTop=this.logEl.scrollHeight}addCustomStyles(){const e=document.createElement("style");e.textContent=`
			.dependency-status-container {
				margin: 20px 0;
				padding: 15px;
				background-color: var(--background-secondary);
				border-radius: 4px;
			}

			.dependency-status-item {
				margin: 8px 0;
				font-family: var(--font-monospace);
				font-size: 13px;
			}

			.status-success {
				color: var(--text-success);
				font-weight: 600;
			}

			.status-error {
				color: var(--text-error);
				font-weight: 600;
			}

			.dependency-label {
				font-weight: 500;
				color: var(--text-normal);
			}

			.dependency-detail {
				color: var(--text-muted);
			}

			.dependency-warning {
				margin-top: 15px;
				padding: 10px;
				background-color: var(--background-modifier-error);
				border-radius: 4px;
				color: var(--text-warning);
				font-size: 13px;
			}

			.dependency-install-options {
				margin: 20px 0;
				padding: 15px;
				background-color: var(--background-secondary);
				border-radius: 4px;
			}

			.dependency-install-options h3 {
				margin: 0 0 10px 0;
				font-size: 14px;
				font-weight: 600;
			}

			.dependency-radio-option {
				margin: 8px 0;
				display: flex;
				align-items: center;
				font-size: 13px;
			}

			.dependency-radio-option input[type="radio"] {
				margin-right: 8px;
				cursor: pointer;
			}

			.dependency-radio-option label {
				cursor: pointer;
				user-select: none;
			}

			.dependency-option-desc {
				margin-top: 10px;
				padding: 8px;
				font-size: 12px;
				color: var(--text-muted);
				background-color: var(--background-primary);
				border-radius: 4px;
			}

			.dependency-log-container {
				margin-top: 20px;
			}

			.dependency-log-container h3 {
				margin: 0 0 10px 0;
				font-size: 14px;
			}

			.dependency-log-content {
				width: 100%;
				min-height: 150px;
				background-color: var(--background-secondary);
				border: 1px solid var(--background-modifier-border);
				border-radius: 4px;
				padding: 10px;
				font-family: var(--font-monospace);
				font-size: 12px;
				resize: vertical;
				color: var(--text-normal);
			}

			.dependency-button-container {
				margin-top: 20px;
				display: flex;
				gap: 10px;
				justify-content: flex-end;
			}

			.dependency-button-container button {
				padding: 8px 16px;
				border-radius: 4px;
				font-size: 14px;
			}
		`,document.head.appendChild(e)}onClose(){this.onComplete&&this.onComplete()}}class zd extends C.PluginSettingTab{constructor(e,t){super(e,t),this.defaultNamespaceInput=null,this.folderToggle=null,this.propertyToggle=null,this.previousConnectionStatus="",this.accordionStates=new Map,this.plugin=t,this.ollamaSettings=new $d(e,t),this.mcpToolSettings=new Ud(e,t)}_initSharedTextDebounce(){var t;if(this._sharedTextDebounce)return;let e;this._sharedTextDebounce=i=>{e&&clearTimeout(e),e=setTimeout(async()=>{var s,r,o;try{const a=JSON.parse(i);switch(a.key){case"includedFolders":this.plugin.settings.includedFolders=a.value.split(`
`).map(l=>l.trim()).filter(l=>l.length>0);break;case"excludedFolders":this.plugin.settings.excludedFolders=a.value.split(`
`).map(l=>l.trim()).filter(l=>l.length>0);break;case"globallyIgnoredFields":this.plugin.settings.globallyIgnoredFields=a.value.split(`
`).map(l=>l.trim()).filter(l=>l.length>0);break;case"defaultNamespace":this.plugin.settings.defaultNamespace=a.value;break;default:(s=this.plugin.logger)==null||s.warn("[SETTINGS] Unknown key received by sharedTextDebounce",{key:a.key,payload:i});break}await this.plugin.saveSettings(),(r=this.plugin.logger)==null||r.debug("[SETTINGS] Shared debounced save executed",{key:a.key})}catch(a){(o=this.plugin.logger)==null||o.error("[SETTINGS] Shared debounced save error",{error:a,payload:i})}},2e3)},(t=this.plugin.logger)==null||t.debug("[SETTINGS] Shared text debouncer initialized")}ensureSharedDebounceInitialized(){this._initSharedTextDebounce()}display(){const{containerEl:e}=this;e.empty(),this.ensureSharedDebounceInitialized(),e.createEl("h1",{text:"MegaMem Plugin Settings"}),e.createEl("p",{text:"Configure your knowledge graph syncronization and mcp server.",cls:"setting-item-description"}),this.addAccordionStyles(e),this.addAccordionSectionSafely(e,"API Keys",t=>this.addAPIKeysAccordion(t),!1),this.addAccordionSectionSafely(e,"LLM Configuration",t=>this.addLLMAccordion(t),!1),this.addAccordionSectionSafely(e,"Database Configuration",t=>this.addDatabaseAccordion(t),!1),this.addAccordionSectionSafely(e,"Python Environment",t=>this.addPythonAccordion(t),!1),this.addAccordionSectionSafely(e,"Sync Configuration",t=>this.addSyncAccordion(t),!1),this.addAccordionSectionSafely(e,"Knowledge Namespacing",t=>this.addKnowledgeNamespacingAccordion(t),!1),this.addAccordionSectionSafely(e,"Servers",t=>this.addServersAccordion(t),!1),this.addAccordionSectionSafely(e,"MCP Tools",t=>this.mcpToolSettings.addMCPToolsAccordion(t),!1),this.addAccordionSectionSafely(e,"Advanced Settings",t=>this.addAdvancedAccordion(t),!1),this.addAccordionSectionSafely(e,"Actions",t=>this.addActionsAccordion(t),!1),this.addAccordionSectionSafely(e,"Development Options",t=>this.addDevelopmentAccordion(t),!1)}addAccordionStyles(e){const t=e.createEl("style");t.textContent=`
			.graphiti-accordion {
				margin-bottom: 10px;
				border: 1px solid var(--background-modifier-border);
				border-radius: 6px;
			}
			.graphiti-accordion-header {
				padding: 12px 16px;
				background: var(--background-modifier-hover);
				cursor: pointer;
				user-select: none;
				display: flex;
				justify-content: space-between;
				align-items: center;
				font-weight: 500;
				border-radius: 6px 6px 0 0;
			}
			.graphiti-accordion-header:hover {
				background: var(--background-modifier-border);
			}
			.graphiti-accordion-content {
				padding: 16px 16px 16px 16px;
				border-top: 1px solid var(--background-modifier-border);
			}
			.graphiti-accordion-arrow {
				font-size: 12px;
				transition: transform 0.2s ease;
			}
		`}addAccordionSection(e,t,i,s=!1){const r=e.createDiv("graphiti-accordion"),o=r.createDiv("graphiti-accordion-header"),a=o.createSpan("graphiti-accordion-title");a.textContent=t;const l=o.createDiv("graphiti-accordion-controls");l.style.display="flex",l.style.alignItems="center",l.style.gap="8px";const c=r.createDiv("graphiti-accordion-content"),u=this.accordionStates.get(t),g=typeof u=="boolean"?u:s;c.style.display=g?"block":"none";const m=l.createSpan("graphiti-accordion-arrow");m.textContent=g?"":"",m.style.cursor="pointer",m.setAttr("role","button"),m.addEventListener("click",h=>{h.stopPropagation(),h.preventDefault();const f=!(c.style.display!=="none");c.style.display=f?"block":"none",m.textContent=f?"":"",this.accordionStates.set(t,f)}),i.call(this,c)}addAccordionSectionSafely(e,t,i,s=!1){var r;try{this.addAccordionSection(e,t,i,s)}catch(o){(r=this.plugin.logger)==null||r.error(`[SETTINGS] Error rendering ${t} accordion`,{error:o});const a=e.createDiv("graphiti-accordion"),l=a.createDiv("graphiti-accordion-header");l.textContent=`${t} (Error)`;const c=a.createDiv("graphiti-accordion-content");c.style.display="none",c.createEl("div",{text:`Error loading ${t} section. Check console for details.`,cls:"setting-item-description"})}}addAPIKeysAccordion(e){const t=["openai","anthropic","google","azure","voyage","venice","openrouter"];for(const a of t){const l=this.getProviderDisplayName(a);new C.Setting(e).setName(`${l} API Key`).setDesc(`API key for ${l} services`).addText(c=>{c.inputEl.type="password",c.setPlaceholder(`Enter ${l} API key`).setValue(this.plugin.settings.apiKeys[a]||"").onChange(async u=>{this.plugin.settings.apiKeys[a]=u||void 0,await this.plugin.saveSettings()})})}e.createEl("h4",{text:"Local AI Models",cls:"setting-item-name"});const i=new C.Setting(e).setName("Ollama - Fully Private Local Models").setDesc("Run AI models locally on your machine without sending data to external services"),s=i.settingEl.createDiv();s.style.cssText="margin-top: 8px; display: flex; gap: 8px; align-items: center;";const r=e.createDiv();r.style.cssText=`
			margin-top: 8px;
			margin-bottom: 16px;
			padding: 8px;
			border-radius: 4px;
			font-size: 0.9em;
			border: 1px solid var(--background-modifier-border);
		`;let o;i.addButton(a=>{o=a.buttonEl,a.setButtonText("Install Ollama").onClick(async()=>{await this.ollamaSettings.handleOllamaInstallation()})}),i.addButton(a=>{a.buttonEl,a.setButtonText("Refresh Status").onClick(async()=>{await this.ollamaSettings.refreshOllamaStatus(r,o)})}),setTimeout(()=>{this.ollamaSettings.refreshOllamaStatus(r,o)},50),new C.Setting(e).setName("Ollama Base URL").setDesc("Ollama server base URL (used for both LLM and embedding when applicable)").addText(a=>a.setPlaceholder("http://localhost:11434/v1").setValue(this.plugin.settings.ollamaBaseUrl||"http://localhost:11434/v1").onChange(async l=>{this.plugin.settings.ollamaBaseUrl=l||"http://localhost:11434/v1",await this.plugin.saveSettings()})),new C.Setting(e).setName("Ollama Embedding Dimension").setDesc("Dimension size for Ollama embeddings (typically 768 for most models)").addText(a=>a.setPlaceholder("768").setValue((this.plugin.settings.ollamaEmbeddingDim||768).toString()).onChange(async l=>{const c=parseInt(l)||768;this.plugin.settings.ollamaEmbeddingDim=c,await this.plugin.saveSettings()})),new C.Setting(e).setName("Validate All API Keys").setDesc("Validate all configured API keys without testing models").addButton(a=>a.setButtonText("Validate API Keys").setCta().onClick(async()=>{await this.validateAPIKeys(a.buttonEl)}))}async addLLMAccordion(e){new C.Setting(e).setName("LLM Defaults").setDesc("Merge recommended defaults into your current settings without overwriting custom entries").addButton(l=>l.setButtonText("Load Defaults").onClick(async()=>{try{const c=Id(),u=this.plugin.settings,g=(m,h)=>{(!u[m]||typeof u[m]!="object")&&(u[m]={});const d=u[m];for(const f of Object.keys(h||{})){if(!d[f]||typeof d[f]!="object"){d[f]={...h[f]};continue}const b=d[f],w=h[f];for(const S of Object.keys(w))S in b||(b[S]=w[S])}};g("llmDefaults",c.llmDefaults),g("llmSmallDefaults",c.llmSmallDefaults),g("embeddingDefaults",c.embeddingDefaults),g("llmCrossEncoderDefaults",c.llmCrossEncoderDefaults),await this.plugin.saveSettings(),this.display()}catch{}})),new C.Setting(e).setName("LLM Provider").setDesc("Choose your language model provider").addDropdown(l=>l.addOption("openai","OpenAI").addOption("anthropic","Anthropic").addOption("google","Google AI").addOption("azure","Azure OpenAI").addOption("ollama","Ollama (Local)").addOption("venice","Venice.ai").addOption("openrouter","OpenRouter").setValue(this.plugin.settings.llmProvider).onChange(async c=>{const u=c;this.plugin.settings.llmProvider=u,await this.plugin.saveSettings(),this.updateLLMDefaults(u)}));const t=new C.Setting(e).setName("LLM Model").setDesc("Primary language model for processing");let i;t.addDropdown(async l=>{await this.populateLLMModels(l,this.plugin.settings.llmProvider),l.setValue(this.plugin.settings.llmModel).onChange(async c=>{this.plugin.settings.llmModel=c,await this.plugin.saveSettings(),this.plugin.settings.llmProvider==="ollama"&&c&&await this.updateModelStatusIconForDropdown(i,"llm",c)})}),i=t.settingEl.createDiv(),i.style.cssText=`
			display: inline-flex;
			align-items: center;
			margin-left: 8px;
			vertical-align: middle;
		`,this.plugin.settings.llmProvider==="ollama"&&this.plugin.settings.llmModel&&setTimeout(async()=>{this.plugin.settings.llmModel&&setTimeout(async()=>{const l=await this.ollamaSettings.isOllamaModelInstalled(this.plugin.settings.llmModel);i.empty();const c=i.createDiv();c.style.cssText="display: inline-flex; align-items: center; gap: 4px; font-size: 0.9em;";const u=c.createSpan();C.setIcon(u,l?"check-circle":"download"),u.style.color=l?"var(--color-green)":"var(--color-orange)";const g=c.createSpan();g.textContent=l?"Available":"Not installed",g.style.color=l?"var(--color-green)":"var(--color-orange)"},100)},100);const s=new C.Setting(e).setName("LLM Model Small").setDesc("Smaller, faster model for re-ranking operations (optional)");let r;s.addDropdown(async l=>{await this.populateLLMModels(l,this.plugin.settings.llmProvider,!0),l.setValue(this.plugin.settings.llmSmallModel||"").onChange(async c=>{this.plugin.settings.llmSmallModel=c||void 0,await this.plugin.saveSettings(),this.plugin.settings.llmProvider==="ollama"&&c&&await this.ollamaSettings.updateModelStatusIconForDropdown(r,"llm_small",c)})}),r=s.settingEl.createDiv(),r.style.cssText=`
			display: inline-flex;
			align-items: center;
			margin-left: 8px;
			vertical-align: middle;
		`,this.plugin.settings.llmProvider==="ollama"&&this.plugin.settings.llmSmallModel&&setTimeout(async()=>{this.plugin.settings.llmSmallModel&&await this.ollamaSettings.updateModelStatusIconForDropdown(r,"llm_small",this.plugin.settings.llmSmallModel)},100),this.plugin.settings.llmProvider==="ollama"&&await this.ollamaSettings.addCustomLLMModelEntry(e),this.plugin.settings.llmProvider==="openrouter"&&(new C.Setting(e).setName("OpenRouter Preset Slug").setDesc("OpenRouter preset name to use (leave empty to disable preset usage)").addText(l=>l.setPlaceholder("e.g., ravenel-bridge").setValue(this.plugin.settings.openrouterPresetSlug||"").onChange(async c=>{this.plugin.settings.openrouterPresetSlug=c||void 0,await this.plugin.saveSettings()})).addButton(l=>l.setButtonText("Add Default").setTooltip("Add preset model to dropdowns").onClick(async()=>{var g;const c=this.plugin.settings.openrouterPresetSlug;if(!c){new C.Notice("[ERROR] Please enter a preset slug first");return}const u=l.buttonEl.textContent;l.buttonEl.textContent="Adding...",l.setDisabled(!0);try{const m=`@preset/${c}`,h={desc:"Models controlled by OpenRouter Preset",recommended:!0};this.plugin.settings.llmDefaults||(this.plugin.settings.llmDefaults={}),this.plugin.settings.llmDefaults.openrouter||(this.plugin.settings.llmDefaults.openrouter={}),this.plugin.settings.llmSmallDefaults||(this.plugin.settings.llmSmallDefaults={}),this.plugin.settings.llmSmallDefaults.openrouter||(this.plugin.settings.llmSmallDefaults.openrouter={}),this.plugin.settings.llmDefaults.openrouter[m]=h,this.plugin.settings.llmSmallDefaults.openrouter[m]=h,await this.plugin.saveSettings(),this.display(),new C.Notice(`[SUCCESS] Added ${m} to model dropdowns`)}catch(m){(g=this.plugin.logger)==null||g.error("Failed to add preset default",{error:m,presetSlug:c}),new C.Notice("[ERROR] Failed to add preset default")}finally{l.buttonEl.textContent=u,l.setDisabled(!1)}})),new C.Setting(e).setName("Use Preset with Custom Model").setDesc("When enabled, append preset to custom OpenRouter models (e.g., openai/gpt-4o@preset/your-preset)").addToggle(l=>l.setValue(this.plugin.settings.openrouterUsePresetWithCustomModel||!1).onChange(async c=>{this.plugin.settings.openrouterUsePresetWithCustomModel=c,await this.plugin.saveSettings()}))),new C.Setting(e).setName("Test LLM Connection").setDesc("Test your language model provider configuration").addButton(l=>l.setButtonText("Test LLM Connection").setCta().onClick(async()=>{await this.testLLMConnection(l.buttonEl)})),new C.Setting(e).setName("Embedding Provider").setDesc("Choose your embedding provider").addDropdown(l=>l.addOption("openai","OpenAI").addOption("google","Google AI").addOption("voyage","Voyage AI").addOption("ollama","Ollama (Local)").setValue(this.plugin.settings.embedderProvider).onChange(async c=>{var g,m,h,d;const u=c;if((g=this.plugin.logger)==null||g.debug("[EMBEDDING-PROVIDER] Provider changed",{oldProvider:this.plugin.settings.embedderProvider,newProvider:u,vaultName:this.app.vault.getName(),hasVaultRegistryService:!!this.plugin.vaultRegistryService}),this.plugin.settings.embedderProvider=u,await this.plugin.saveSettings(),this.updateEmbedderDefaults(u),this.plugin.vaultRegistryService&&this.plugin.settings.embeddingModel)try{const f=this.app.vault.getName();(m=this.plugin.logger)==null||m.debug("[EMBEDDING-PROVIDER-CHANGE] Updating vault registry from provider dropdown",{oldProvider:this.plugin.settings.embedderProvider,newProvider:u,model:this.plugin.settings.embeddingModel,dimensions:this.plugin.settings.ollamaEmbeddingDim||768,vaultName:f}),await this.plugin.vaultRegistryService.updateVaultEmbeddingModel(f,this.plugin.settings.embeddingModel,this.plugin.settings.ollamaEmbeddingDim||768,u),(h=this.plugin.logger)==null||h.debug("[EMBEDDING-PROVIDER] Vault registry updated with new provider configuration",{vaultName:f,provider:u,model:this.plugin.settings.embeddingModel,dimensions:this.plugin.settings.ollamaEmbeddingDim||768})}catch(f){(d=this.plugin.logger)==null||d.error("[EMBEDDING-PROVIDER] Failed to update vault registry",{error:f,provider:u})}})),await this.addEnhancedEmbeddingModelSetting(e),this.plugin.settings.embedderProvider==="ollama"&&await this.ollamaSettings.addCustomEmbeddingModelEntry(e),new C.Setting(e).setName("Test Embedding Connection").setDesc("Test your embedding provider configuration").addButton(l=>l.setButtonText("Test Embedding").onClick(async()=>{await this.testEmbeddingConnection(l.buttonEl)})),new C.Setting(e).setName("Test Provider Combination").setDesc("Test that your LLM and embedding providers work together correctly with full pipeline testing").addButton(l=>l.setButtonText("Test Full Pipeline").onClick(async()=>{await this.testFullPipeline(l.buttonEl)})),this.plugin.settings.loadDaemonOnLaunch&&this.plugin.settings.experimentalDaemonMode&&new C.Setting(e).setName("Reload Sync Daemon").setDesc("Restart the sync daemon to apply new provider configuration").addButton(l=>l.setButtonText("Reload Daemon").onClick(async()=>{await this.reloadSyncDaemon(l.buttonEl)})),e.createEl("h4",{text:"Cross-Encoder / Reranker Configuration",cls:"setting-item-name"});let o;new C.Setting(e).setName("Cross-Encoder Provider").setDesc("Choose your cross-encoder/reranker provider for improved search ranking").addDropdown(l=>l.addOption("none","None - Disable reranking").addOption("openai","OpenAI Reranker").addOption("bge","BGE Reranker (Local)").addOption("gemini","Gemini Reranker").setValue(this.plugin.settings.crossEncoderClient||"none").onChange(async c=>{const u=c;this.plugin.settings.crossEncoderClient=u,(u==="bge"||u==="none")&&(this.plugin.settings.crossEncoderModel=void 0),await this.plugin.saveSettings(),this.updateCrossEncoderDefaults(u),o&&(o.style.display=u==="none"||u==="bge"?"none":"block")}));const a=new C.Setting(e).setName("Cross-Encoder Model").setDesc("Specific model for cross-encoding/reranking operations");o=a.settingEl,o.style.display=this.plugin.settings.crossEncoderClient==="none"?"none":"block",a.addDropdown(async l=>{await this.populateCrossEncoderModels(l,this.plugin.settings.crossEncoderClient||"none"),l.setValue(this.plugin.settings.crossEncoderModel||"").onChange(async c=>{this.plugin.settings.crossEncoderModel=c||void 0,await this.plugin.saveSettings()})}),this.addProviderSpecificSettings(e)}addDatabaseAccordion(e){new C.Setting(e).setName("Database Type").setDesc("Choose your graph database backend").addDropdown(t=>t.addOption("neo4j","Neo4j").addOption("falkordb","FalkorDB").setValue(this.plugin.settings.databaseType).onChange(async i=>{const s=i;this.plugin.settings.databaseType=s,await this.plugin.saveSettings(),this.display()})),this.addDatabaseSpecificFields(e),new C.Setting(e).setName("Test Database Connection").setDesc("Verify your database connection settings").addButton(t=>t.setButtonText("Test Connection").setCta().onClick(async()=>{await this.testDatabaseConnection(t.buttonEl)})),new C.Setting(e).setName("Initialize Database Schema").setDesc("Set up the required Graphiti schema in your database (run this after successful connection test)").addButton(t=>t.setButtonText("Initialize Schema").onClick(async()=>{await this.initializeDatabaseSchema(t.buttonEl)}))}addDatabaseSpecificFields(e){const t=this.plugin.settings.databaseType;t==="neo4j"?(new C.Setting(e).setName("Neo4j URI").setDesc("Neo4j connection URI (e.g., bolt://localhost:7687)").addText(i=>i.setPlaceholder("bolt://localhost:7687").setValue(this.plugin.settings.databaseConfigs.neo4j.uri).onChange(async s=>{this.plugin.settings.databaseConfigs.neo4j.uri=s,await this.plugin.saveSettings()})),new C.Setting(e).setName("Neo4j Username").setDesc("Neo4j database username").addText(i=>i.setPlaceholder("neo4j").setValue(this.plugin.settings.databaseConfigs.neo4j.username).onChange(async s=>{this.plugin.settings.databaseConfigs.neo4j.username=s,await this.plugin.saveSettings()})),new C.Setting(e).setName("Neo4j Password").setDesc("Neo4j database password").addText(i=>{i.inputEl.type="password",i.setPlaceholder("Enter password").setValue(this.plugin.settings.databaseConfigs.neo4j.password).onChange(async s=>{this.plugin.settings.databaseConfigs.neo4j.password=s,await this.plugin.saveSettings()})}),new C.Setting(e).setName("Neo4j Database Name").setDesc("Name of the Neo4j database to use").addText(i=>i.setPlaceholder("neo4j").setValue(this.plugin.settings.databaseConfigs.neo4j.database).onChange(async s=>{this.plugin.settings.databaseConfigs.neo4j.database=s,await this.plugin.saveSettings()}))):t==="falkordb"&&(new C.Setting(e).setName("FalkorDB Host").setDesc("FalkorDB host address").addText(i=>i.setPlaceholder("localhost").setValue(this.plugin.settings.databaseConfigs.falkordb.host).onChange(async s=>{this.plugin.settings.databaseConfigs.falkordb.host=s,await this.plugin.saveSettings()})),new C.Setting(e).setName("FalkorDB Port").setDesc("FalkorDB port number").addText(i=>i.setPlaceholder("6379").setValue(this.plugin.settings.databaseConfigs.falkordb.port.toString()).onChange(async s=>{const r=parseInt(s);!isNaN(r)&&r>0&&r<65536&&(this.plugin.settings.databaseConfigs.falkordb.port=r,await this.plugin.saveSettings())})),new C.Setting(e).setName("FalkorDB Username (Optional)").setDesc("FalkorDB username (leave empty if not using authentication)").addText(i=>i.setPlaceholder("Optional").setValue(this.plugin.settings.databaseConfigs.falkordb.username||"").onChange(async s=>{this.plugin.settings.databaseConfigs.falkordb.username=s||void 0,await this.plugin.saveSettings()})),new C.Setting(e).setName("FalkorDB Password (Optional)").setDesc("FalkorDB password (leave empty if not using authentication)").addText(i=>{i.inputEl.type="password",i.setPlaceholder("Optional").setValue(this.plugin.settings.databaseConfigs.falkordb.password||"").onChange(async s=>{this.plugin.settings.databaseConfigs.falkordb.password=s||void 0,await this.plugin.saveSettings()})}),new C.Setting(e).setName("FalkorDB Database Name").setDesc("Name of the FalkorDB database to use").addText(i=>i.setPlaceholder("default_db").setValue(this.plugin.settings.databaseConfigs.falkordb.database).onChange(async s=>{this.plugin.settings.databaseConfigs.falkordb.database=s,await this.plugin.saveSettings()})))}addPythonAccordion(e){e.createEl("p",{text:"Configure Python installation and dependencies for MegaMem",cls:"setting-item-description"}),new C.Setting(e).setName("Custom Python Path").setDesc("Leave empty to auto-detect Python. Specify full path to python executable if needed.").addText(s=>s.setPlaceholder("Auto-detect").setValue(this.plugin.settings.pythonPath||"").onChange(async r=>{this.plugin.settings.pythonPath=r||void 0,await this.plugin.saveSettings()}));const t=e.createDiv();t.style.cssText=`
			margin: 16px 0;
			padding: 12px;
			border: 1px solid var(--background-modifier-border);
			border-radius: 6px;
			background: var(--background-secondary);
			font-family: var(--font-monospace);
			font-size: 0.9em;
		`;const i=async()=>{var s;t.empty(),t.createEl("div",{text:"Checking dependencies...",attr:{style:"color: var(--text-muted);"}});try{const o=this.plugin.app.vault.adapter.basePath,a=Se.join(o,".obsidian","plugins","megamem-mcp"),c=await new jt(this.plugin,a,this.plugin.settings).checkAllDependencies();t.empty();const u=t.createDiv();u.textContent=c.systemPython?`[OK] System Python: ${c.systemPython.version} at ${c.systemPython.path}`:"[X] System Python: Not found",u.style.color=c.systemPython?"var(--color-green)":"var(--color-red)";const g=t.createDiv();g.textContent=c.uvInstalled?`[OK] uv installed: ${c.uvPythonPath||"Yes"}`:"[X] uv: Not installed",g.style.color=c.uvInstalled?"var(--color-green)":"var(--color-orange)";const m=t.createDiv();m.textContent=c.venvExists?`[OK] Virtual environment: ${c.venvPath||"Exists"}`:"[X] Virtual environment: Not found",m.style.color=c.venvExists?"var(--color-green)":"var(--color-orange)";const h=t.createDiv(),d=c.graphitiVersion?` v${c.graphitiVersion}`:"";if(h.textContent=c.graphitiInstalled?`[OK] Graphiti: Installed${d}`:"[X] Graphiti: Not installed",h.style.color=c.graphitiInstalled?"var(--color-green)":"var(--color-red)",c.mismatch.detected){const f=t.createDiv();f.textContent=`[WARNING] ${c.mismatch.description}`,f.style.color="var(--color-orange)",f.style.marginTop="8px"}}catch(r){t.empty();const o=t.createDiv();o.textContent="[ERROR] Failed to check dependencies",o.style.color="var(--color-red)",(s=this.plugin.logger)==null||s.error("[PYTHON-ACCORDION] Failed to check dependencies",{error:r})}};new C.Setting(e).setName("Manage Dependencies").setDesc("Check status and install Python dependencies").addButton(s=>s.setButtonText("Manage Dependencies").setCta().onClick(async()=>{const o=this.plugin.app.vault.adapter.basePath,a=Se.join(o,".obsidian","plugins","megamem-mcp"),l=new jt(this.plugin,a,this.plugin.settings);new jd(this.app,this.plugin,l,async()=>{await i()}).open()})),setTimeout(()=>i(),100)}addSyncAccordion(e){let t=null;new C.Setting(e).setName("Automatically sync notes at scheduled intervals").setDesc("Automatically sync notes when they are saved or at regular intervals. Be careful with this, it is not fully tested.").addToggle(i=>{i.setValue(this.plugin.settings.autoSync).onChange(async s=>{const r=this;r._settingsDebounceTimer&&clearTimeout(r._settingsDebounceTimer),r._settingsDebounceTimer=setTimeout(async()=>{r.plugin.settings.autoSync=s,await r.plugin.saveSettings(),t&&(t.style.display=s?"block":"none")},1e3)})}),t=e.createDiv(),t.style.display=this.plugin.settings.autoSync?"block":"none",t.style.marginLeft="24px",t.style.marginTop="8px",new C.Setting(t).setName("Sync Options").setDesc("Choose which notes to include in automatic sync operations").addDropdown(i=>i.addOption("new_only","New notes only - Sync only newly created notes").addOption("new_and_updated","New and updated notes - Sync both new and modified notes").setValue(this.plugin.settings.syncOptions).onChange(async s=>{this.plugin.settings.syncOptions=s,await this.plugin.saveSettings()})),new C.Setting(e).setName("Sync Interval").setDesc("Automatic sync interval in minutes (0 to disable)").addSlider(i=>i.setLimits(0,60,1).setValue(this.plugin.settings.syncInterval).setDynamicTooltip().onChange(async s=>{this.plugin.settings.syncInterval=s,await this.plugin.saveSettings()})),e.createEl("h4",{text:"Folder Configuration",cls:"setting-item-name"}),new C.Setting(e).setName("Included Folders").setDesc("Folders to include in sync. Leave empty to include all folders."),this.plugin.settings.includedFolders.forEach((i,s)=>{const r=new C.Setting(e).addSearch(o=>{new Jt(this.app,o.inputEl),o.inputEl.onmousedown=a=>a.stopPropagation(),o.setPlaceholder("Select folder or type path...").setValue(i).onChange(async a=>{this.plugin.settings.includedFolders[s]=a,await this.plugin.saveSettings()})}).addExtraButton(o=>{o.setIcon("cross").setTooltip("Delete").onClick(async a=>{a&&a.stopPropagation(),this.plugin.settings.includedFolders.splice(s,1),await this.plugin.saveSettings(),this.display()})});r.infoEl.remove(),r.controlEl.onmousedown=o=>o.stopPropagation()}),new C.Setting(e).addButton(i=>{i.setButtonText("Add Folder").setCta().onClick(async s=>{s&&s.stopPropagation(),this.plugin.settings.includedFolders.push(""),await this.plugin.saveSettings(),this.display()}),i.buttonEl.onmousedown=s=>s.stopPropagation()}),new C.Setting(e).setName("Excluded Folders").setDesc("Folders to exclude from sync (e.g., .obsidian, .trash)."),this.plugin.settings.excludedFolders.forEach((i,s)=>{const r=new C.Setting(e).addSearch(o=>{new Jt(this.app,o.inputEl),o.inputEl.onmousedown=a=>a.stopPropagation(),o.setPlaceholder("Select folder or type path...").setValue(i).onChange(async a=>{this.plugin.settings.excludedFolders[s]=a,await this.plugin.saveSettings()})}).addExtraButton(o=>{o.setIcon("cross").setTooltip("Delete").onClick(async a=>{a&&a.stopPropagation(),this.plugin.settings.excludedFolders.splice(s,1),await this.plugin.saveSettings(),this.display()})});r.infoEl.remove(),r.controlEl.onmousedown=o=>o.stopPropagation()}),new C.Setting(e).addButton(i=>{i.setButtonText("Add Folder").setCta().onClick(async s=>{s&&s.stopPropagation(),this.plugin.settings.excludedFolders.push(""),await this.plugin.saveSettings(),this.display()}),i.buttonEl.onmousedown=s=>s.stopPropagation()}),new C.Setting(e).setName("Globally Ignored Fields").setDesc("YAML frontmatter fields to ignore globally across all notes."),this.plugin.settings.globallyIgnoredFields.forEach((i,s)=>{const r=new C.Setting(e).addText(o=>{o.inputEl.onmousedown=a=>a.stopPropagation(),o.setPlaceholder("Enter field name (e.g., cssclass, tags)...").setValue(i).onChange(async a=>{this.plugin.settings.globallyIgnoredFields[s]=a,await this.plugin.saveSettings()})}).addExtraButton(o=>{o.setIcon("cross").setTooltip("Delete").onClick(async a=>{a&&a.stopPropagation(),this.plugin.settings.globallyIgnoredFields.splice(s,1),await this.plugin.saveSettings(),this.display()})});r.infoEl.remove(),r.controlEl.onmousedown=o=>o.stopPropagation()}),new C.Setting(e).addButton(i=>{i.setButtonText("Add Field").setCta().onClick(async s=>{s&&s.stopPropagation(),this.plugin.settings.globallyIgnoredFields.push(""),await this.plugin.saveSettings(),this.display()}),i.buttonEl.onmousedown=s=>s.stopPropagation()})}addKnowledgeNamespacingAccordion(e){e.createEl("p",{text:"Configure how knowledge is organized and namespaced in your graph database.",cls:"setting-item-description"}),e.createEl("h4",{text:"Ontology Configuration",cls:"setting-item-name"}),new C.Setting(e).setName("Use Custom Ontology").setDesc("Enable custom entity types with pre-existing Pydantic models. When disabled, uses generic text episodes.").addToggle(o=>o.setValue(this.plugin.settings.useCustomOntology).onChange(async a=>{this.plugin.settings.useCustomOntology=a,await this.plugin.saveSettings()})),e.createEl("h4",{text:"Namespacing Strategy",cls:"setting-item-name"}),new C.Setting(e).setName("Namespace Strategy").setDesc("Primary strategy for organizing knowledge in the graph").addDropdown(o=>o.addOption("vault","Vault Name - Use vault as namespace").addOption("folder","Folder Path - Use note folder as namespace").addOption("property","Property Value - Use g_group_id property").addOption("custom","Custom Value - Use default namespace setting").setValue(this.plugin.settings.namespaceStrategy).onChange(async a=>{const l=a;this.plugin.settings.namespaceStrategy=l,l==="vault"?(this.plugin.settings.defaultNamespace=this.app.vault.getName(),this.defaultNamespaceInput&&this.defaultNamespaceInput.setValue(this.app.vault.getName())):l==="folder"?(this.plugin.settings.enableFolderNamespacing=!0,this.folderToggle&&this.folderToggle.setValue(!0)):l==="property"&&(this.plugin.settings.enablePropertyNamespacing=!0,this.propertyToggle&&this.propertyToggle.setValue(!0)),await this.plugin.saveSettings()})),new C.Setting(e).setName("Default Namespace").setDesc('Default namespace when strategy is "custom" or when other strategies fail').addText(o=>{this.defaultNamespaceInput=o,o.setPlaceholder("my-vault").setValue(this.plugin.settings.defaultNamespace).onChange(a=>{var l;this.ensureSharedDebounceInitialized(),(l=this._sharedTextDebounce)==null||l.call(this,JSON.stringify({key:"defaultNamespace",value:a}))})});let t;new C.Setting(e).setName("Enable Folder Namespacing").setDesc("Use top-level folder names as namespaces. Subfolders are not supported.").addToggle(o=>{this.folderToggle=o,o.setValue(this.plugin.settings.enableFolderNamespacing).onChange(async a=>{this.plugin.settings.enableFolderNamespacing=a,await this.plugin.saveSettings(),t&&(t.style.display=a?"block":"none")})}),t=e.createDiv(),t.style.display=this.plugin.settings.enableFolderNamespacing?"block":"none",t.style.marginLeft="24px",t.style.marginTop="8px",new C.Setting(t).setName("Custom Folder Mappings").setDesc("Map specific folders to custom group_id namespaces. Leave empty to use automatic folder names."),this.plugin.settings.folderNamespaceMappings.forEach((o,a)=>{const l=new C.Setting(t).addSearch(c=>{new Jt(this.app,c.inputEl),c.inputEl.addEventListener("mousedown",u=>u.stopPropagation()),c.setPlaceholder("Select folder or type path...").setValue(o.folderPath).onChange(async u=>{this.plugin.settings.folderNamespaceMappings[a].folderPath=u,await this.plugin.saveSettings()}),c.inputEl.addEventListener("blur",async()=>{const u=c.getValue();if(!this.plugin.settings.folderNamespaceMappings[a].groupId&&u.trim()){this.plugin.settings.folderNamespaceMappings[a].groupId=u.replace(/\//g,"_");const g=l.controlEl.querySelector('input[placeholder="Enter group_id..."]');g&&(g.value=this.plugin.settings.folderNamespaceMappings[a].groupId),await this.plugin.saveSettings()}})}).addText(c=>{c.inputEl.addEventListener("mousedown",u=>u.stopPropagation()),c.inputEl.addEventListener("input",u=>u.stopPropagation()),c.inputEl.addEventListener("keydown",u=>u.stopPropagation()),c.inputEl.addEventListener("keyup",u=>u.stopPropagation()),c.inputEl.addEventListener("focus",u=>u.stopPropagation()),c.setPlaceholder("Enter group_id...").setValue(o.groupId).onChange(async u=>{this.plugin.settings.folderNamespaceMappings[a].groupId=u,await this.plugin.saveSettings()})}).addExtraButton(c=>{c.setIcon("cross").setTooltip("Delete").onClick(async u=>{u&&(u.stopPropagation(),u.preventDefault()),this.plugin.settings.folderNamespaceMappings.splice(a,1),await this.plugin.saveSettings(),this.display()}),c.extraSettingsEl.addEventListener("mousedown",u=>u.stopPropagation())});l.infoEl.remove(),l.controlEl.addEventListener("mousedown",c=>c.stopPropagation())}),new C.Setting(t).addButton(o=>{o.setButtonText("Add Folder Mapping").setCta().onClick(async a=>{a&&a.stopPropagation(),this.plugin.settings.folderNamespaceMappings.push({folderPath:"",groupId:""}),await this.plugin.saveSettings(),this.display()}),o.buttonEl.onmousedown=a=>a.stopPropagation()}),new C.Setting(e).setName("Enable Property Namespacing").setDesc("Use g_group_id frontmatter property as namespace when available").addToggle(o=>{this.propertyToggle=o,o.setValue(this.plugin.settings.enablePropertyNamespacing).onChange(async a=>{this.plugin.settings.enablePropertyNamespacing=a,await this.plugin.saveSettings()})});const i=new C.Setting(e).setName("Discover Namespaces").setDesc("Click to scan the vault and generate the list of available namespaces based on the settings above."),s=i.descEl.createDiv();s.style.marginTop="8px",s.style.fontSize="0.9em",s.style.color="var(--text-muted)";const r=()=>{const o=this.plugin.settings.availableNamespaces||[];o.length>0?s.textContent=`Current namespaces: ${o.join(", ")}`:s.textContent='No namespaces discovered yet. Click "Generate" to scan the vault.'};r(),i.addButton(o=>o.setButtonText("Generate").setCta().onClick(async()=>{var l;const a=o.buttonEl.textContent;o.buttonEl.textContent="Generating...",o.setDisabled(!0);try{await this.plugin.updateAvailableNamespaces(),r(),new C.Notice("[SUCCESS] Namespaces updated successfully")}catch(c){const u=c instanceof Error?c.message:"Unknown error";new C.Notice(`[ERROR] Failed to update namespaces: ${u}`),(l=this.plugin.logger)==null||l.error("Failed to update namespaces",{error:c})}finally{o.buttonEl.textContent=a,o.setDisabled(!1)}})),e.createEl("h4",{text:"Multi-Vault Configuration",cls:"setting-item-name"}),e.createEl("p",{text:"Be careful with this, it is not fully tested.",cls:"setting-item-description",attr:{style:"color: var(--text-warning); font-weight: 500; margin-bottom: 16px;"}}),new C.Setting(e).setName("Enable Multi-Vault Mode").setDesc("Enable advanced features for managing multiple Obsidian vaults").addToggle(o=>o.setValue(this.plugin.settings.enableMultiVaultMode).onChange(async a=>{this.plugin.settings.enableMultiVaultMode=a,await this.plugin.saveSettings()})),new C.Setting(e).setName("Current Vault Priority").setDesc("Priority level for this vault in multi-vault scenarios (higher numbers = higher priority)").addSlider(o=>o.setLimits(1,10,1).setValue(this.plugin.settings.currentVaultPriority).setDynamicTooltip().onChange(async a=>{this.plugin.settings.currentVaultPriority=a,await this.plugin.saveSettings()})),new C.Setting(e).setName("Vault Configurations").setDesc(`Currently tracking ${this.plugin.settings.vaultConfigurations.length} vault(s). Advanced vault management features coming soon.`).addButton(o=>o.setButtonText("Manage Vaults").setDisabled(!0).onClick(async()=>{new C.Notice("Multi-vault management features are planned for a future release")}))}addServersAccordion(e){e.createEl("p",{text:"Server architecture: The first MCP process automatically starts the shared WebSocket server. Subsequent processes connect as clients. Server ownership transfers automatically when the host process exits.",cls:"setting-item-description"}),e.createEl("h4",{text:"Shared WebSocket Server",cls:"setting-item-name"}),e.createEl("p",{text:"Server lifecycle is managed automatically by MCP processes. Manual control is not needed.",cls:"setting-item-description",attr:{style:"font-size: 0.9em; color: var(--text-muted); margin-bottom: 16px;"}}),new C.Setting(e).setName("WebSocket Port").setDesc("Port number for the shared WebSocket server (configured via MCP)").addText(g=>g.setPlaceholder("8765").setValue(this.plugin.settings.wsPort.toString()).setDisabled(!0));const t=new C.Setting(e).setName("Authentication Token").setDesc("Authentication token for secure WebSocket connections (managed by MCP)");t.addText(g=>{g.setDisabled(!0).setValue(this.plugin.settings.wsAuthToken)}),t.addButton(g=>g.setButtonText("Copy").onClick(async m=>{m==null||m.stopPropagation(),await navigator.clipboard.writeText(this.plugin.settings.wsAuthToken),new C.Notice("Auth token copied to clipboard")}));const i=e.createDiv();i.style.cssText=`
			margin: 16px 0;
			padding: 12px;
			border: 1px solid var(--background-modifier-border);
			border-radius: 6px;
			background: var(--background-secondary);
		`,i.createEl("h5",{text:"Current Connections",attr:{style:"margin: 0 0 8px 0; font-size: 0.9em; font-weight: 600;"}});const s=i.createDiv();s.style.cssText=`
			font-size: 0.8em;
			color: var(--text-muted);
			line-height: 1.4;
		`;const r=async()=>{const g=this.plugin.settings.wsPort||8765;try{(await fetch(`http://127.0.0.1:${g}/health`,{headers:{Authorization:`Bearer ${this.plugin.settings.wsAuthToken||""}`}})).ok?s.textContent=`Connected to port ${g}`:s.textContent=`Failed to connect to port ${g}`}catch{s.textContent=`Trying to connect to port ${g}`}};r();const o=setInterval(r,5e3);this.connectionUpdateInterval=o,e.createEl("h4",{text:"MCP Server",cls:"setting-item-name"});const a=e.createDiv();a.style.cssText=`
			margin: 16px 0;
			padding: 12px;
			border: 1px solid var(--background-modifier-border);
			border-radius: 6px;
			background: var(--background-secondary);
		`,a.createEl("h5",{text:"Current Instances",attr:{style:"margin: 0 0 8px 0; font-size: 0.9em; font-weight: 600;"}});const l=a.createDiv();l.style.cssText=`
			font-size: 0.8em;
			color: var(--text-muted);
			line-height: 1.4;
		`;const c=async()=>{var g;try{const h=await Dt.getInstance().getMCPServerProcesses();if(h.length>0){const d=h.map(f=>`Process ${f.pid} | ${f.parentName} | ${f.createdAt}`);l.innerHTML=d.join("<br>")}else l.textContent="No active instances detected"}catch(m){l.textContent="Status check failed",(g=this.plugin.logger)==null||g.error("Failed to update instances display",{error:m})}};c();const u=setInterval(c,5e3);this.instanceUpdateInterval=u,new C.Setting(e).setName("Generate MCP Config").setDesc("Generate configuration for MCP clients to connect to the MCP server").addButton(g=>g.setButtonText("Generate Config").onClick(async()=>{await this.generateMcpConfig(g.buttonEl)}))}addAdvancedAccordion(e){new C.Setting(e).setName("View Logs").setDesc("Open the plugin logs directory").addButton(t=>t.setButtonText("View Logs").onClick(async()=>{await this.viewLogFile()})),new C.Setting(e).setName("Max Retry Attempts").setDesc("Maximum number of retry attempts for failed operations").addSlider(t=>t.setLimits(1,10,1).setValue(this.plugin.settings.maxRetryAttempts).setDynamicTooltip().onChange(async i=>{this.plugin.settings.maxRetryAttempts=i,await this.plugin.saveSettings()})),new C.Setting(e).setName("Connection Timeout").setDesc("Connection timeout in seconds").addSlider(t=>t.setLimits(5,120,5).setValue(this.plugin.settings.connectionTimeout).setDynamicTooltip().onChange(async i=>{this.plugin.settings.connectionTimeout=i,await this.plugin.saveSettings()})),e.createEl("h4",{text:"Schema Discovery Options",cls:"setting-item-name"}),new C.Setting(e).setName("Auto-discover Schemas").setDesc("Automatically scan vault for schema patterns").addToggle(t=>t.setValue(this.plugin.settings.autoDiscoverSchemas).onChange(async i=>{this.plugin.settings.autoDiscoverSchemas=i,await this.plugin.saveSettings()})),new C.Setting(e).setName("Validate Naming Conventions").setDesc("Check property names against Graphiti best practices").addToggle(t=>t.setValue(this.plugin.settings.validateNamingConventions).onChange(async i=>{this.plugin.settings.validateNamingConventions=i,await this.plugin.saveSettings()})),new C.Setting(e).setName("Suggest Property Descriptions").setDesc("Auto-generate descriptions for common property names").addToggle(t=>t.setValue(this.plugin.settings.suggestPropertyDescriptions).onChange(async i=>{this.plugin.settings.suggestPropertyDescriptions=i,await this.plugin.saveSettings()})),new C.Setting(e).setName("Protected Attribute Warnings").setDesc("Show warnings for Graphiti protected attribute names").addToggle(t=>t.setValue(this.plugin.settings.enableProtectedAttributeWarnings).onChange(async i=>{this.plugin.settings.enableProtectedAttributeWarnings=i,await this.plugin.saveSettings()})),e.createEl("h4",{text:"UI Preferences",cls:"setting-item-name"}),new C.Setting(e).setName("Show Sync Status").setDesc("Display sync status in the status bar").addToggle(t=>t.setValue(this.plugin.settings.showSyncStatus).onChange(async i=>{this.plugin.settings.showSyncStatus=i,await this.plugin.saveSettings()})),new C.Setting(e).setName("Show Notifications").setDesc("Display notifications for sync operations").addToggle(t=>t.setValue(this.plugin.settings.showNotifications).onChange(async i=>{this.plugin.settings.showNotifications=i,await this.plugin.saveSettings()}))}addActionsAccordion(e){new C.Setting(e).setName("Export Settings").setDesc("Export your current settings to a file").addButton(t=>t.setButtonText("Export Settings").onClick(async()=>{await this.exportSettings()})),new C.Setting(e).setName("Import Settings").setDesc("Import settings from a file").addButton(t=>t.setButtonText("Import Settings").onClick(async()=>{await this.importSettings()})),new C.Setting(e).setName("Reset to Defaults").setDesc("Reset all settings to their default values").addButton(t=>t.setButtonText("Reset to Defaults").setWarning().onClick(async()=>{await this.resetToDefaults()}))}async generateMcpConfig(e){var i,s;const t=e.textContent;e.textContent="Generating...",e.setAttribute("disabled","true");try{if((i=this.plugin.logger)==null||i.debug("[MCP-CONFIG] Generating MCP configuration"),this.plugin.graphitiService){const r=await this.plugin.graphitiService.generateClaudeDesktopConfig(),o=JSON.stringify(r.config,null,2),a=document.createElement("div");a.style.cssText=`
					position: fixed;
					top: 0;
					left: 0;
					width: 100%;
					height: 100%;
					background: rgba(0, 0, 0, 0.8);
					display: flex;
					align-items: center;
					justify-content: center;
					z-index: 1000;
				`;const l=document.createElement("div");l.style.cssText=`
					background: var(--background-primary);
					border: 1px solid var(--background-modifier-border);
					border-radius: 8px;
					padding: 20px;
					max-width: 600px;
					width: 90%;
					max-height: 80%;
					overflow: auto;
				`;const c=document.createElement("h3");c.textContent="MCP Configuration",c.style.margin="0 0 15px 0";const u=document.createElement("p");u.textContent="Copy this configuration for your MCP client:",u.style.margin="0 0 10px 0";const g=document.createElement("textarea");g.value=o,g.readOnly=!0,g.style.cssText=`
					width: 100%;
					height: 300px;
					font-family: var(--font-monospace);
					font-size: 12px;
					background: var(--background-secondary);
					border: 1px solid var(--background-modifier-border);
					border-radius: 4px;
					padding: 8px;
					resize: vertical;
					box-sizing: border-box;
				`;const m=document.createElement("div");m.style.cssText=`
					margin-top: 15px;
					display: flex;
					gap: 10px;
					justify-content: flex-end;
				`;const h=document.createElement("button");h.textContent="Copy",h.className="mod-cta",h.onclick=async()=>{try{await navigator.clipboard.writeText(o);const f=h.textContent;h.textContent="Copied!",setTimeout(()=>h.textContent=f,2e3),new C.Notice("[SUCCESS] MCP configuration copied to clipboard")}catch{g.select(),document.execCommand("copy"),new C.Notice("[SUCCESS] MCP configuration copied to clipboard")}};const d=document.createElement("button");d.textContent="Close",d.onclick=()=>document.body.removeChild(a),m.append(h,d),l.append(c,u,g,m),a.appendChild(l),a.onclick=f=>{f.target===a&&document.body.removeChild(a)},document.body.appendChild(a),g.focus(),g.select(),new C.Notice("[SUCCESS] MCP configuration generated")}else new C.Notice("[ERROR] GraphitiService not available")}catch(r){(s=this.plugin.logger)==null||s.error("[MCP-CONFIG] Failed to generate MCP config",{error:r});const o=r instanceof Error?r.message:"Unknown error";new C.Notice(`[ERROR] Failed to generate config: ${o}`)}finally{e.textContent=t,e.removeAttribute("disabled")}}addDevelopmentAccordion(e){new C.Setting(e).setName("Debug Logging").setDesc("Enable detailed logging for troubleshooting").addToggle(t=>t.setValue(this.plugin.settings.enableDebugLogging).onChange(async i=>{this.plugin.settings.enableDebugLogging=i,this.plugin.logger.setDebug(i),this.plugin.logger.info(`Debug mode ${i?"enabled":"disabled"} from settings`),await this.plugin.saveSettings()})),new C.Setting(e).setName("Experimental Daemon Mode").setDesc("Use persistent Python daemon to eliminate BGE model loading overhead (reduces sync time by ~60%)").addToggle(t=>t.setValue(this.plugin.settings.experimentalDaemonMode).onChange(async i=>{this.plugin.settings.experimentalDaemonMode=i,await this.plugin.saveSettings()})),new C.Setting(e).setName("Load Daemon on Launch").setDesc("Start Python daemon when plugin loads to eliminate first-sync delay (requires Experimental Daemon Mode)").addToggle(t=>t.setValue(this.plugin.settings.loadDaemonOnLaunch).onChange(async i=>{this.plugin.settings.loadDaemonOnLaunch=i,await this.plugin.saveSettings()})),new C.Setting(e).setName("Log Performance").setDesc("Enable detailed timing analysis for sync performance debugging").addToggle(t=>t.setValue(this.plugin.settings.logPerformance).onChange(async i=>{this.plugin.settings.logPerformance=i,await this.plugin.saveSettings()}))}getProviderDisplayName(e){return{openai:"OpenAI",anthropic:"Anthropic",google:"Google",azure:"Azure OpenAI",voyage:"Voyage AI",venice:"Venice.ai"}[e]||e}addProviderSpecificSettings(e){this.plugin.settings.llmProvider==="azure"&&(new C.Setting(e).setName("Azure Endpoint").setDesc("Your Azure OpenAI endpoint URL").addText(i=>i.setPlaceholder("https://your-resource.openai.azure.com/").setValue(this.plugin.settings.azureEndpoint||"").onChange(async s=>{this.plugin.settings.azureEndpoint=s,await this.plugin.saveSettings()})),new C.Setting(e).setName("Azure API Version").setDesc("Azure OpenAI API version").addText(i=>i.setPlaceholder("2024-02-01").setValue(this.plugin.settings.azureApiVersion||"").onChange(async s=>{this.plugin.settings.azureApiVersion=s,await this.plugin.saveSettings()})))}async populateLLMModels(e,t,i=!1){var r,o,a,l,c,u,g;e.selectEl.empty(),i&&e.addOption("","None");let s=[];try{const m=this.plugin.settings,h=i?"llmSmallDefaults":"llmDefaults",d=(r=m==null?void 0:m[h])==null?void 0:r[t];if(d&&typeof d=="object"){const f=Object.entries(d);f.sort((b,w)=>{const S=b[1]&&b[1].recommended?1:0;return(w[1]&&w[1].recommended?1:0)-S||b[0].localeCompare(w[0])}),s=f.map(([b])=>b),(o=this.plugin.logger)==null||o.debug(`[SETTINGS] Using ${h} from plugin.settings for ${t}`,{count:s.length})}else if(i&&((a=m==null?void 0:m.llmDefaults)!=null&&a[t])){const f=Object.entries(m.llmDefaults[t]);f.sort((b,w)=>{const S=b[1]&&b[1].recommended?1:0;return(w[1]&&w[1].recommended?1:0)-S||b[0].localeCompare(w[0])}),s=f.map(([b])=>b),(l=this.plugin.logger)==null||l.debug(`[SETTINGS] Fallback to llmDefaults from plugin.settings for ${t}`,{count:s.length})}}catch(m){(c=this.plugin.logger)==null||c.warn("[SETTINGS] Failed reading LLM defaults from plugin.settings",{error:m})}if(s.length===0&&t!=="ollama"&&((u=this.plugin.logger)==null||u.debug(`[SETTINGS] No LLM defaults found in plugin.settings for ${t}; leaving dropdown empty`)),t==="ollama")try{const m=i?this.ollamaSettings.getOllamaLLMSmallModelsFromSettings():this.ollamaSettings.getOllamaLLMModelsFromSettings();for(const h of m){const d=h.description||"",f=d.length>50?d.substring(0,50)+"...":d,b=f?`${h.name} - ${f}`:h.name;e.addOption(h.name,b)}}catch(m){(g=this.plugin.logger)==null||g.error("[SETTINGS] Failed to load Ollama LLM models from settings",{error:m})}else s.forEach(m=>e.addOption(m,m))}async populateEmbeddingModels(e,t){var s,r,o,a,l;e.selectEl.empty();let i=[];try{const c=this.plugin.settings,u=(s=c==null?void 0:c.embeddingDefaults)==null?void 0:s[t];if(u&&typeof u=="object"){const g=Object.entries(u);g.sort((m,h)=>{const d=m[1]&&m[1].recommended?1:0;return(h[1]&&h[1].recommended?1:0)-d||m[0].localeCompare(h[0])}),i=g.map(([m])=>m),(r=this.plugin.logger)==null||r.debug(`[SETTINGS] Using embeddingDefaults from plugin.settings for ${t}`,{count:i.length})}}catch(c){(o=this.plugin.logger)==null||o.warn("[SETTINGS] Failed reading embedding defaults from plugin.settings",{error:c})}if(i.length===0&&t!=="ollama"&&((a=this.plugin.logger)==null||a.debug(`[SETTINGS] No embedding defaults found in plugin.settings for ${t}; leaving dropdown empty`)),t==="ollama")try{const c=this.ollamaSettings.getOllamaEmbeddingModelNamesFromSettings(),u=this.ollamaSettings.getOllamaEmbeddingModelsFromSettings(),g=await this.ollamaSettings.getOllamaService().getEmbeddingModelsWithStatus(c)||[],m=new Map;for(const h of g)m.set(h.name,!!h.available);for(const h of u){const d=m.get(h.name)||!1,f=typeof h.dimensions=="number"?h.dimensions:this.plugin.settings.ollamaEmbeddingDim||768,b=h.description||"",w=b.length>35?b.substring(0,35)+"...":b,S=`${h.name} (${f}d) - ${w}`;e.addOption(h.name,S)}}catch(c){(l=this.plugin.logger)==null||l.error("[SETTINGS] Failed to load Ollama embedding models",{error:c});const u=this.ollamaSettings.getOllamaEmbeddingModelsFromSettings();for(const g of u){const m=typeof g.dimensions=="number"?g.dimensions:this.plugin.settings.ollamaEmbeddingDim||768,h=g.description||"",d=h.length>40?h.substring(0,40)+"...":h,f=`${g.name} (${m}d) - ${d}`;e.addOption(g.name,f)}}else i.forEach(c=>e.addOption(c,c))}async addEnhancedEmbeddingModelSetting(e){if(this.plugin.settings.embedderProvider==="ollama"){const t=new C.Setting(e).setName("Embedding Model").setDesc("Model for generating embeddings with availability checking");let i,s;t.addDropdown(async r=>{i=r,await this.ollamaSettings.populateOllamaModelsWithStatus(i),i.setValue(this.plugin.settings.embeddingModel).onChange(async o=>{var a;try{await this.plugin.vaultRegistryService.hasEmbeddingModelChanged(o,String(this.plugin.settings.ollamaEmbeddingDim||768))&&(new C.Notice("You are changing the embedding model for this vault. You must clear the database to avoid conflicts."),this.plugin.logger.warn("[SETTINGS] Embedding model change detected",{newModel:o,newDimensions:this.plugin.settings.ollamaEmbeddingDim||768})),this.plugin.settings.embeddingModel=o,await this.plugin.saveSettings(),(a=this.plugin.logger)==null||a.debug("[OLLAMA-EMBEDDING-MODEL-CHANGE] Updating vault registry from Ollama model dropdown",{model:o,dimensions:this.plugin.settings.ollamaEmbeddingDim||768,provider:"ollama",vaultName:this.app.vault.getName()}),await this.plugin.vaultRegistryService.updateVaultEmbeddingModel(this.app.vault.getName(),o,this.plugin.settings.ollamaEmbeddingDim||768,"ollama"),o&&await this.ollamaSettings.updateModelStatusIconForDropdown(s,"embedding",o)}catch(l){this.plugin.logger.error("[SETTINGS] Error handling Ollama embedding model change",{error:l}),new C.Notice("Error checking embedding model configuration")}})}),s=t.settingEl.createDiv(),s.style.cssText=`
				margin-top: 8px;
				padding: 8px;
				border-radius: 4px;
				font-size: 0.9em;
			`,this.plugin.settings.embeddingModel&&setTimeout(async()=>{await this.ollamaSettings.updateModelStatusIconForDropdown(s,"embedding",this.plugin.settings.embeddingModel)},100)}else new C.Setting(e).setName("Embedding Model").setDesc("Model for generating embeddings").addDropdown(t=>{this.populateEmbeddingModels(t,this.plugin.settings.embedderProvider),t.setValue(this.plugin.settings.embeddingModel).onChange(async i=>{var s,r,o,a;if(this.plugin.vaultRegistryService)try{await this.plugin.vaultRegistryService.hasEmbeddingModelChanged(i,String(this.plugin.settings.ollamaEmbeddingDim||768))&&(new C.Notice("You are changing the embedding model for this vault. You must clear the database to avoid conflicts."),(s=this.plugin.logger)==null||s.warn("[EMBEDDING-WARNING] Embedding model changed for vault",{oldModel:this.plugin.settings.embeddingModel,newModel:i,vaultName:this.app.vault.getName()}))}catch(l){(r=this.plugin.logger)==null||r.error("[EMBEDDING-WARNING] Failed to check embedding model changes",{error:l})}if(this.plugin.settings.embeddingModel=i,await this.plugin.saveSettings(),this.plugin.vaultRegistryService)try{const l=this.app.vault.getName();(o=this.plugin.logger)==null||o.debug("[NON-OLLAMA-EMBEDDING-MODEL-CHANGE] Updating vault registry from embedding model dropdown",{model:i,dimensions:this.plugin.settings.ollamaEmbeddingDim||768,provider:this.plugin.settings.embedderProvider,vaultName:l}),await this.plugin.vaultRegistryService.updateVaultEmbeddingModel(l,i,this.plugin.settings.ollamaEmbeddingDim||768,this.plugin.settings.embedderProvider)}catch(l){(a=this.plugin.logger)==null||a.error("[NON-OLLAMA-EMBEDDING-MODEL] Failed to update vault registry",{error:l,model:i})}})})}async populateOllamaModelsWithStatus(e){await this.ollamaSettings.populateOllamaModelsWithStatus(e)}async handleOllamaModelSelection(e,t){await this.ollamaSettings.handleOllamaModelSelection(e,t)}async downloadOllamaModelWithProgress(e,t){await this.ollamaSettings.downloadOllamaModelWithProgress(e,t)}async isOllamaModelInstalled(e){return await this.ollamaSettings.isOllamaModelInstalled(e)}async updateLLMModelStatusIcon(e,t){await this.ollamaSettings.updateModelStatusIconForDropdown(e,"llm_small",t)}async addCustomLLMModelEntry(e){const t=new C.Setting(e).setName("Custom LLM Model").setDesc("Download any Ollama LLM model by name (e.g., llama3.2:3b, codellama:13b)");let i,s,r;t.addText(o=>{i=o.inputEl,o.setPlaceholder("Enter model name (e.g., llama3.2:3b)").onChange(a=>{s&&(s.disabled=!a.trim())})}),t.addButton(o=>{s=o.buttonEl,o.setButtonText(" Download").setTooltip("Download this model from Ollama registry").setDisabled(!0).onClick(async()=>{var l,c;const a=i.value.trim();if(!a){new C.Notice("[ERROR] Please enter a model name");return}try{if(await this.ollamaSettings.isOllamaModelInstalled(a)){new C.Notice(`[INFO] Model ${a} is already installed`);return}await this.ollamaSettings.downloadOllamaModelWithProgress(a,r);try{await this.ollamaSettings.isOllamaModelInstalled(a)&&(await this.ollamaSettings.addCustomOllamaLLMToDefaults(a),await this.ollamaSettings.refreshLLMDropdowns(),new C.Notice(`[SUCCESS] ${a} downloaded and added to LLM models.`))}catch(g){(l=this.plugin.logger)==null||l.warn("[CUSTOM-LLM] Post-download availability check failed",{error:g,modelName:a})}i.value="",s.disabled=!0}catch(u){(c=this.plugin.logger)==null||c.error("[CUSTOM-LLM] Download failed",{error:u,modelName:a});const g=u instanceof Error?u.message:"Unknown error";new C.Notice(`[ERROR] Failed to download ${a}: ${g}`)}})}),r=t.settingEl.createDiv(),r.style.cssText=`
			margin-top: 8px;
			padding: 8px;
			border-radius: 4px;
			font-size: 0.9em;
			min-height: 20px;
		`}async addCustomEmbeddingModelEntry(e){const t=new C.Setting(e).setName("Custom Embedding Model").setDesc("Download any Ollama embedding model by name (e.g., nomic-embed-text, mxbai-embed-large)");let i,s,r;t.addText(o=>{i=o.inputEl,o.setPlaceholder("Enter embedding model name").onChange(a=>{s&&(s.disabled=!a.trim())})}),t.addButton(o=>{s=o.buttonEl,o.setButtonText(" Download").setTooltip("Download this embedding model from Ollama registry").setDisabled(!0).onClick(async()=>{var l,c;const a=i.value.trim();if(!a){new C.Notice("[ERROR] Please enter a model name");return}try{if(await this.ollamaSettings.isOllamaModelInstalled(a)){new C.Notice(`[INFO] Model ${a} is already installed`);return}await this.downloadOllamaModelWithProgress(a,r);try{await this.ollamaSettings.isOllamaModelInstalled(a)&&await this.ollamaSettings.addCustomOllamaEmbeddingToDefaults(a)}catch(g){(l=this.plugin.logger)==null||l.warn("[CUSTOM-EMBEDDING] Post-download availability check failed",{error:g,modelName:a})}i.value="",s.disabled=!0}catch(u){(c=this.plugin.logger)==null||c.error("[CUSTOM-EMBEDDING] Download failed",{error:u,modelName:a});const g=u instanceof Error?u.message:"Unknown error";new C.Notice(`[ERROR] Failed to download ${a}: ${g}`)}})}),r=t.settingEl.createDiv(),r.style.cssText=`
			margin-top: 8px;
			padding: 8px;
			border-radius: 4px;
			font-size: 0.9em;
			min-height: 20px;
		`}async refreshOllamaDropdownAndStatus(){this.display()}updateLLMDefaults(e){var r,o,a,l,c,u,g,m,h;const t=this.plugin.settings;let i,s;try{const d=(r=t==null?void 0:t.llmDefaults)==null?void 0:r[e];if(d&&typeof d=="object"){const w=Object.entries(d).find(([,S])=>S&&S.recommended);i=w&&w[0]||Object.keys(d)[0],(o=this.plugin.logger)==null||o.debug("[SETTINGS] Selected LLM default from plugin.settings",{provider:e,model:i})}const f=(a=t==null?void 0:t.llmSmallDefaults)==null?void 0:a[e];if(f&&typeof f=="object"){const w=Object.entries(f).find(([,S])=>S&&S.recommended);s=w&&w[0]||Object.keys(f)[0],(l=this.plugin.logger)==null||l.debug("[SETTINGS] Selected LLM Small default from plugin.settings",{provider:e,model:s})}else!s&&((c=t==null?void 0:t.llmDefaults)!=null&&c[e])&&(s=Object.keys(t.llmDefaults[e])[0])}catch(d){(u=this.plugin.logger)==null||u.warn("[SETTINGS] Failed deriving LLM defaults from plugin.settings",{error:d})}if(!i){const d={openai:{model:"gpt-4o",smallModel:"gpt-4o-mini"},anthropic:{model:"claude-sonnet-4-20250514",smallModel:"claude-3-5-haiku-20241022"},google:{model:"gemini-2.0-flash",smallModel:"gemini-2.0-flash-exp"},azure:{model:"gpt-4o",smallModel:"gpt-4o-mini"},ollama:{model:"deepseek-r1:7b",smallModel:"llama3.1:8b"}};i=(g=d[e])==null?void 0:g.model,s=s||((m=d[e])==null?void 0:m.smallModel),(h=this.plugin.logger)==null||h.debug("[SETTINGS] Falling back to internal LLM defaults",{provider:e,model:i,small:s})}i&&(this.plugin.settings.llmModel=i),s&&(this.plugin.settings.llmSmallModel=s),this.plugin.saveSettings(),this.display()}updateCrossEncoderDefaults(e){var t,i,s,r;if(e==="none"||e==="bge"){this.plugin.settings.crossEncoderModel=void 0,this.plugin.saveSettings(),this.display();return}try{const o=this.plugin.settings,a=(t=o==null?void 0:o.llmCrossEncoderDefaults)==null?void 0:t[e];if(a&&typeof a=="object"){const l=Object.entries(a),c=l.find(([,g])=>g&&g.recommended),u=c&&c[0]||((i=l[0])==null?void 0:i[0]);u&&(this.plugin.settings.crossEncoderModel=u,(s=this.plugin.logger)==null||s.debug("[SETTINGS] Selected cross-encoder default from plugin.settings",{provider:e,model:u}))}}catch(o){(r=this.plugin.logger)==null||r.warn("[SETTINGS] Failed deriving cross-encoder defaults from plugin.settings",{error:o})}this.plugin.saveSettings(),this.display()}async populateCrossEncoderModels(e,t){var s,r,o;if(e.selectEl.empty(),t==="none"){e.addOption("","No reranking model needed");return}let i=[];try{const a=this.plugin.settings,l=(s=a==null?void 0:a.llmCrossEncoderDefaults)==null?void 0:s[t];if(l&&typeof l=="object"){const c=Object.entries(l);c.sort((u,g)=>{const m=u[1]&&u[1].recommended?1:0;return(g[1]&&g[1].recommended?1:0)-m||u[0].localeCompare(g[0])}),i=c.map(([u])=>u),(r=this.plugin.logger)==null||r.debug("[SETTINGS] Using llmCrossEncoderDefaults from plugin.settings for "+t,{count:i.length})}}catch(a){(o=this.plugin.logger)==null||o.warn("[SETTINGS] Failed reading cross-encoder defaults from plugin.settings",{error:a})}if(i.length===0){e.addOption("",`No models configured for ${t}`);return}i.forEach(a=>{e.addOption(a,a)})}updateEmbedderDefaults(e){var s,r,o,a;const t=this.plugin.settings;let i;try{const l=(s=t==null?void 0:t.embeddingDefaults)==null?void 0:s[e];if(l&&typeof l=="object"){const u=Object.entries(l).find(([,g])=>g&&g.recommended);i=u&&u[0]||Object.keys(l)[0],(r=this.plugin.logger)==null||r.debug("[SETTINGS] Selected Embedding default from plugin.settings",{provider:e,model:i})}}catch(l){(o=this.plugin.logger)==null||o.warn("[SETTINGS] Failed deriving embedding defaults from plugin.settings",{error:l})}i||(i={openai:"text-embedding-3-small",google:"text-embedding-004",voyage:"voyage-3.5-lite",ollama:"nomic-embed-text"}[e],(a=this.plugin.logger)==null||a.debug("[SETTINGS] Falling back to internal embedding defaults",{provider:e,model:i})),i&&(this.plugin.settings.embeddingModel=i),this.plugin.saveSettings(),this.display()}async testLLMConnection(e){var i,s,r,o;const t=e.textContent;e.textContent="Testing...",e.addClass("is-loading");try{(i=this.plugin.logger)==null||i.debug("Testing LLM connection");const a=await this.plugin.graphitiService.testLLMConnection();if(a.success){(s=this.plugin.logger)==null||s.debug("LLM connection test successful",{message:a.message,latency:a.latency});const l=a.latency?` (${a.latency}ms)`:"";new C.Notice(`[SUCCESS] LLM connection successful${l}`)}else(r=this.plugin.logger)==null||r.error("LLM connection test failed",{message:a.message}),new C.Notice(`[ERROR] LLM connection failed: ${a.message}`)}catch(a){(o=this.plugin.logger)==null||o.error("LLM connection test error",{error:a});const l=a instanceof Error?a.message:"Unknown error";new C.Notice(`[ERROR] LLM connection failed: ${l}`)}finally{e.textContent=t,e.removeClass("is-loading")}}async testEmbeddingConnection(e){var i,s,r,o;const t=e.textContent;e.textContent="Testing...",e.addClass("is-loading");try{(i=this.plugin.logger)==null||i.debug("Testing embedding connection");const a=await this.plugin.graphitiService.testEmbeddingConnection();if(a.success){(s=this.plugin.logger)==null||s.debug("Embedding connection test successful",{message:a.message,latency:a.latency});const l=a.latency?` (${a.latency}ms)`:"";new C.Notice(`[SUCCESS] Embedding connection successful${l}`)}else(r=this.plugin.logger)==null||r.error("Embedding connection test failed",{message:a.message}),new C.Notice(`[ERROR] Embedding connection failed: ${a.message}`)}catch(a){(o=this.plugin.logger)==null||o.error("Embedding connection test error",{error:a});const l=a instanceof Error?a.message:"Unknown error";new C.Notice(`[ERROR] Embedding connection failed: ${l}`)}finally{e.textContent=t,e.removeClass("is-loading")}}async testProviderCombination(e){var i,s,r,o;const t=e.textContent;e.textContent="Testing...",e.addClass("is-loading");try{(i=this.plugin.logger)==null||i.debug("Testing provider combination");const a=await this.plugin.graphitiService.testProviderCombination();if(a.success){(s=this.plugin.logger)==null||s.debug("Provider combination test successful",{message:a.message,latency:a.latency});const l=a.latency?` (${a.latency}ms)`:"";new C.Notice(`[SUCCESS] Provider combination working${l}`)}else(r=this.plugin.logger)==null||r.error("Provider combination test failed",{message:a.message}),new C.Notice(`[ERROR] Provider combination failed: ${a.message}`)}catch(a){(o=this.plugin.logger)==null||o.error("Provider combination test error",{error:a});const l=a instanceof Error?a.message:"Unknown error";new C.Notice(`[ERROR] Provider combination failed: ${l}`)}finally{e.textContent=t,e.removeClass("is-loading")}}async testFullPipeline(e){var i,s,r;const t=e.textContent;e.textContent="Testing...",e.addClass("is-loading");try{const o=await this.plugin.graphitiService.testFullPipeline();if(o.success){(i=this.plugin.logger)==null||i.debug("Full pipeline test successful",{message:o.message,latency:o.latency});const a=o.latency?` (${o.latency}ms)`:"";new C.Notice(`[SUCCESS] Full pipeline test successful${a}`)}else(s=this.plugin.logger)==null||s.error("Full pipeline test failed",{message:o.message}),new C.Notice(`[ERROR] Full pipeline test failed: ${o.message}`)}catch(o){(r=this.plugin.logger)==null||r.error("Full pipeline test error",{error:o});const a=o instanceof Error?o.message:"Unknown error";new C.Notice(`[ERROR] Full pipeline test failed: ${a}`)}finally{e.textContent=t,e.removeClass("is-loading")}}async validateAPIKeys(e){var i,s,r,o;const t=e.textContent;e.textContent="Validating...",e.addClass("is-loading");try{(i=this.plugin.logger)==null||i.debug("Validating API keys");const a=await this.plugin.graphitiService.validateAPIKeys();a.success?((s=this.plugin.logger)==null||s.debug("API key validation successful",{message:a.message}),new C.Notice(`[SUCCESS] API keys valid: ${a.message}`)):((r=this.plugin.logger)==null||r.error("API key validation failed",{message:a.message}),new C.Notice(`[ERROR] API key validation failed: ${a.message}`))}catch(a){(o=this.plugin.logger)==null||o.error("API key validation error",{error:a});const l=a instanceof Error?a.message:"Unknown error";new C.Notice(`[ERROR] API key validation failed: ${l}`)}finally{e.textContent=t,e.removeClass("is-loading")}}updateDatabaseDefaults(e){this.plugin.saveSettings(),this.display()}async testDatabaseConnection(e){var i,s,r,o;const t=e.textContent;e.textContent="Testing...",e.addClass("is-loading");try{(i=this.plugin.logger)==null||i.debug("[DATABASE] Testing database connection...");const a=await this.plugin.graphitiService.testDatabaseConnection();if(a.success){(s=this.plugin.logger)==null||s.debug("[DATABASE] Database connection test successful",{message:a.message,latency:a.latency});const l=a.latency?` (${a.latency}ms)`:"";new C.Notice(`[SUCCESS] Database connection successful${l}`)}else(r=this.plugin.logger)==null||r.error("[DATABASE] Database connection test failed",{message:a.message}),new C.Notice(`[ERROR] Database connection failed: ${a.message}`)}catch(a){(o=this.plugin.logger)==null||o.error("[DATABASE] Database connection test error",{error:a});const l=a instanceof Error?a.message:"Unknown error";new C.Notice(`[ERROR] Database connection failed: ${l}`)}finally{e.textContent=t,e.removeClass("is-loading")}}async initializeDatabaseSchema(e){var i,s,r,o;const t=e.textContent;e.textContent="Initializing...",e.addClass("is-loading");try{(i=this.plugin.logger)==null||i.debug("[DATABASE] Initializing database schema...");const a=await this.plugin.graphitiService.initializeDatabaseSchema();a.success?((s=this.plugin.logger)==null||s.debug("[DATABASE] Database schema initialization successful",{message:a.message}),new C.Notice("[SUCCESS] Database schema initialized successfully")):((r=this.plugin.logger)==null||r.error("[DATABASE] Database schema initialization failed",{message:a.message}),new C.Notice(`[ERROR] Schema initialization failed: ${a.message}`))}catch(a){(o=this.plugin.logger)==null||o.error("[DATABASE] Database schema initialization error",{error:a});const l=a instanceof Error?a.message:"Unknown error";new C.Notice(`[ERROR] Schema initialization failed: ${l}`)}finally{e.textContent=t,e.removeClass("is-loading")}}async testMCPConnection(e){var i,s,r;const t=e.textContent;e.textContent="Testing...",e.addClass("is-loading");try{(i=this.plugin.logger)==null||i.debug("[MCP] Testing MCP server connection..."),await new Promise(a=>setTimeout(a,1e3));const o={success:!0,message:"MCP server responding [MOCK]",latency:23};o.success&&((s=this.plugin.logger)==null||s.debug("[MCP] MCP server connection test successful",{message:o.message,latency:o.latency}),new C.Notice(`[SUCCESS] MCP server connection successful (${o.latency}ms)`))}catch(o){(r=this.plugin.logger)==null||r.error("[MCP] MCP server connection test error",{error:o});const a=o instanceof Error?o.message:"Unknown error";new C.Notice(`[ERROR] MCP server connection failed: ${a}`)}finally{e.textContent=t,e.removeClass("is-loading")}}async exportSettings(){try{const e=JSON.stringify(this.plugin.settings,null,2),t=new Blob([e],{type:"application/json"}),i=URL.createObjectURL(t),s=document.createElement("a");s.href=i,s.download="graphiti-plugin-settings.json",s.click(),URL.revokeObjectURL(i),new C.Notice("[SUCCESS] Settings exported successfully")}catch(e){const t=e instanceof Error?e.message:"Unknown error";new C.Notice(`[ERROR] Failed to export settings: ${t}`)}}async importSettings(){try{const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=async t=>{var o;const i=(o=t.target.files)==null?void 0:o[0];if(!i)return;const s=await i.text(),r=JSON.parse(s);this.plugin.settings={...this.plugin.settings,...r},await this.plugin.saveSettings(),this.display(),new C.Notice("[SUCCESS] Settings imported successfully")},e.click()}catch(e){const t=e instanceof Error?e.message:"Unknown error";new C.Notice(`[ERROR] Failed to import settings: ${t}`)}}async resetToDefaults(){await this.confirmReset()&&(await this.plugin.loadSettings(),this.display(),new C.Notice("[INFO] Settings reset to defaults"))}async confirmReset(){return new Promise(e=>{const t=document.createElement("div");t.className="modal",t.innerHTML=`
				<div class="modal-container">
					<div class="modal-bg"></div>
					<div class="modal-content">
						<div class="modal-header">
							<h3>Reset Settings</h3>
						</div>
						<div class="modal-body">
							<p>Are you sure you want to reset all settings to their default values? This action cannot be undone.</p>
						</div>
						<div class="modal-footer">
							<button class="mod-cta" id="confirm-reset">Reset</button>
							<button id="cancel-reset">Cancel</button>
						</div>
					</div>
				</div>
			`,document.body.appendChild(t);const i=t.querySelector("#confirm-reset"),s=t.querySelector("#cancel-reset");i.onclick=()=>{document.body.removeChild(t),e(!0)},s.onclick=()=>{document.body.removeChild(t),e(!1)},t.onclick=r=>{(r.target===t||r.target===t.querySelector(".modal-bg"))&&(document.body.removeChild(t),e(!1))}})}async checkPythonDependencies(e){var i,s,r,o;const t=e.textContent;e.textContent="Checking...",e.setAttribute("disabled","true");try{(i=this.plugin.logger)==null||i.debug("Checking Python dependencies");const a=await this.plugin.graphitiService.testConnection();a.success?((s=this.plugin.logger)==null||s.debug("Python dependencies check successful",{message:a.message}),new C.Notice("[SUCCESS] Python dependencies are installed and up to date")):((r=this.plugin.logger)==null||r.error("Python dependencies check failed",{message:a.message}),new C.Notice(`[ERROR] Dependencies missing or outdated: ${a.message}`,5e3))}catch(a){(o=this.plugin.logger)==null||o.error("Failed to check Python dependencies",{error:a});const l=a instanceof Error?a.message:"Unknown error";new C.Notice(`[ERROR] Failed to check dependencies: ${l}`,5e3)}finally{e.textContent=t,e.removeAttribute("disabled")}}async viewLogFile(){var e;try{const i=this.plugin.app.vault.adapter.basePath,s=Se.join(i,".obsidian","plugins","megamem-mcp"),r=Se.join(s,"logs"),{shell:o}=require("electron");o.openPath(r),new C.Notice("[INFO] Log files directory opened in file explorer")}catch(t){(e=this.plugin.logger)==null||e.error("[LOGS] Failed to open log directory",{error:t});const i=t instanceof Error?t.message:"Unknown error";new C.Notice(`[ERROR] Failed to open log directory: ${i}`)}}async installPythonDependencies(e){var i,s,r,o;const t=e.textContent;e.textContent="Installing...",e.setAttribute("disabled","true");try{(i=this.plugin.logger)==null||i.debug("Installing Python dependencies");const a=await this.plugin.graphitiService.installDependencies(l=>{var u;(u=this.plugin.logger)==null||u.debug("Installation progress",{message:l});const c=l.length>30?l.substring(0,30)+"...":l;e.textContent=c,new C.Notice(`[INFO] ${l}`,2e3)});a.success?((s=this.plugin.logger)==null||s.debug("Python dependencies installation successful",{message:a.message}),new C.Notice("[SUCCESS] Python dependencies installed successfully",5e3)):((r=this.plugin.logger)==null||r.error("Python dependencies installation failed",{message:a.message}),new C.Notice(`[ERROR] Installation failed: ${a.message}`,8e3))}catch(a){(o=this.plugin.logger)==null||o.error("Failed to install Python dependencies",{error:a});const l=a instanceof Error?a.message:"Unknown error";new C.Notice(`[ERROR] Installation failed: ${l}`,8e3)}finally{e.textContent=t,e.removeAttribute("disabled")}}async runManualSyncTest(e){var i,s,r,o;const t=e.textContent;e.textContent="Selecting Note...",e.setAttribute("disabled","true");try{const a=this.app.vault.getMarkdownFiles();if(a.length===0){new C.Notice("[INFO] No markdown files found in vault");return}const l=await this.selectNoteForSync(a);if(!l){new C.Notice("[INFO] No note selected for sync test");return}e.textContent="Syncing...",(i=this.plugin.logger)==null||i.debug("Starting manual sync test for note",{path:l.path});const c=this.app.vault.adapter.path.resolve(this.app.vault.adapter.basePath,l.path),u=await this.plugin.graphitiService.testManualSync(c);u.status==="success"?((s=this.plugin.logger)==null||s.debug("Manual sync test successful",u),new C.Notice(`[SUCCESS] Manual sync successful! Processed ${u.processed} note(s), ${u.nodeTypesLoaded} node types, ${u.edgeTypesLoaded} edge types`,8e3)):((r=this.plugin.logger)==null||r.error("Manual sync test failed",u),new C.Notice(`[ERROR] Manual sync failed: ${u.message}`,8e3))}catch(a){(o=this.plugin.logger)==null||o.error("Manual sync test error",{error:a});const l=a instanceof Error?a.message:"Unknown error";new C.Notice(`[ERROR] Manual sync test failed: ${l}`,8e3)}finally{e.textContent=t,e.removeAttribute("disabled")}}async selectNoteForSync(e){return new Promise(t=>{const i=document.createElement("div");i.className="modal",i.innerHTML=`
				<div class="modal-container">
					<div class="modal-bg"></div>
					<div class="modal-content">
						<div class="modal-header">
							<h3>Select Note for Manual Sync Test</h3>
						</div>
						<div class="modal-body">
							<p>Choose a note to test the manual sync process:</p>
							<div style="max-height: 300px; overflow-y: auto;">
								${e.map((o,a)=>`<div style="padding: 8px; border: 1px solid var(--background-modifier-border); margin: 4px 0; cursor: pointer; border-radius: 4px;" data-file-index="${a}">
										<strong>${o.basename}</strong><br>
										<small style="color: var(--text-muted);">${o.path}</small>
									</div>`).join("")}
							</div>
						</div>
						<div class="modal-footer">
							<button id="cancel-select">Cancel</button>
						</div>
					</div>
				</div>
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsiLi4vc3JjL3V0aWxzL0xvZ2dlci50cyIsIi4uL3NyYy91dGlscy9kZWJvdW5jZS50cyIsIi4uL3NyYy91dGlscy9QbHVnaW5EZXRlY3Rpb25IZWxwZXIudHMiLCIuLi9zcmMvc2VydmljZXMvV2ViU29ja2V0U2VydmljZS50cyIsIi4uL3NyYy9zZXJ2aWNlcy9TeW5jUmVnaXN0cnlTZXJ2aWNlLnRzIiwiLi4vc3JjL3NlcnZpY2VzL1ZhdWx0UmVnaXN0cnlTZXJ2aWNlLnRzIiwiLi4vc3JjL3NlcnZpY2VzL1NjaGVtYURpc2NvdmVyeVNlcnZpY2UudHMiLCIuLi9zcmMvc2VydmljZXMvTm90ZVNlbGVjdGlvblNlcnZpY2UudHMiLCIuLi9ub2RlX21vZHVsZXMvanMteWFtbC9kaXN0L2pzLXlhbWwubWpzIiwiLi4vc3JjL3V0aWxzL0Zyb250bWF0dGVyVXRpbHMudHMiLCIuLi9zcmMvdHlwZXMvU3luY1N0YXR1cy50cyIsIi4uL3NyYy9zZXJ2aWNlcy9TeW5jU3RhdHVzTWFuYWdlci50cyIsIi4uL3NyYy9zZXJ2aWNlcy9NQ1BGb2xkZXJSZXNvbHZlci50cyIsIi4uL3NyYy9zZXJ2aWNlcy9QeXRob25JbnN0YWxsZXIudHMiLCIuLi9zcmMvc2VydmljZXMvR3JhcGhpdGlTZXJ2aWNlLnRzIiwiLi4vc3JjL3NlcnZpY2VzL1B5dGhvbkRhZW1vbkJyaWRnZS50cyIsIi4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvdXRpbHMuanMiLCIuLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL2RvbS5qcyIsIi4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvbGlmZWN5Y2xlLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC9zY2hlZHVsZXIuanMiLCIuLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL3RyYW5zaXRpb25zLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC9lYWNoLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC9Db21wb25lbnQuanMiLCIuLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9zaGFyZWQvdmVyc2lvbi5qcyIsIi4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvZGlzY2xvc2UtdmVyc2lvbi9pbmRleC5qcyIsIi4uL3NyYy9jb21wb25lbnRzL09ic2lkaWFuSWNvbi5zdmVsdGUiLCIuLi9zcmMvY29tcG9uZW50cy9TY2hlbWFNYW5hZ2VyLnN2ZWx0ZSIsIi4uL3NyYy92aWV3cy9TY2hlbWFNYW5hZ2VyVmlldy50cyIsIi4uL3NyYy9jb21wb25lbnRzL1N5bmNNb2RhbC5zdmVsdGUiLCIuLi9zcmMvdWkvRW5oYW5jZWRTeW5jVUkudHMiLCIuLi9zcmMvc2V0dGluZ3MvTExNRGVmYXVsdHMudHMiLCIuLi9zcmMvdXRpbHMvRm9sZGVyU3VnZ2VzdC50cyIsIi4uL3NyYy91dGlscy9Qcm9jZXNzRGV0ZWN0aW9uLnRzIiwiLi4vc3JjL3NlcnZpY2VzL09sbGFtYVNlcnZpY2UudHMiLCIuLi9zcmMvc2V0dGluZ3MvT2xsYW1hU2V0dGluZ3MudHMiLCIuLi9zcmMvc2V0dGluZ3MvTUNQVG9vbFNldHRpbmdzLnRzIiwiLi4vc3JjL3VpL0RlcGVuZGVuY3lTdGF0dXNNb2RhbC50cyIsIi4uL3NyYy9zZXR0aW5ncy9TZXR0aW5nc1RhYi50cyIsIi4uL3NyYy90eXBlcy9TZXR0aW5ncy50cyIsIi4uL3NyYy9tYWluLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBsdWdpbiwgbm9ybWFsaXplUGF0aCB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IHsgYXBwZW5kRmlsZVN5bmMsIGV4aXN0c1N5bmMsIG1rZGlyU3luYyB9IGZyb20gJ2ZzJztcclxuaW1wb3J0IHsgam9pbiB9IGZyb20gJ3BhdGgnO1xyXG5cclxuLyoqXHJcbiAqIExvZ2dlciBjbGFzcyBmb3IgR3JhcGhpdGkgcGx1Z2luIHdpdGggZmlsZS1iYXNlZCBsb2dnaW5nXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgR3JhcGhpdGlMb2dnZXIge1xyXG4gICAgcHJpdmF0ZSBwbHVnaW46IFBsdWdpbjtcclxuICAgIHByaXZhdGUgY29uc29saWRhdGVkTG9nUGF0aDogc3RyaW5nID0gJyc7XHJcbiAgICBwcml2YXRlIGRlYnVnTW9kZTogYm9vbGVhbjtcclxuICAgIHByaXZhdGUgY29uc29sZVByZWZpeCA9ICdNZWdhTWVtOic7XHJcblxyXG4gICAgY29uc3RydWN0b3IocGx1Z2luOiBQbHVnaW4sIGRlYnVnTW9kZTogYm9vbGVhbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcbiAgICAgICAgdGhpcy5kZWJ1Z01vZGUgPSBkZWJ1Z01vZGU7XHJcblxyXG4gICAgICAgIC8vIEluaXRpYWxpemF0aW9uIHdpbGwgYmUgY2FsbGVkIGV4cGxpY2l0bHkgYWZ0ZXIgcGx1Z2luIGlzIGxvYWRlZCB2aWEgaW5pdCgpXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGluaXQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsaXplQ29uc29saWRhdGVkTG9nKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpbml0aWFsaXplQ29uc29saWRhdGVkTG9nKCk6IHZvaWQge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIEFkZCBhIHRlbXBvcmFyeSBsb2cgdG8gdmFsaWRhdGUgdGhlIGh5cG90aGVzaXNcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnBsdWdpbi5hcHAgfHwgIXRoaXMucGx1Z2luLmFwcC52YXVsdCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgJHt0aGlzLmNvbnNvbGVQcmVmaXh9IFtFUlJPUl0gdGhpcy5wbHVnaW4uYXBwLnZhdWx0IGlzIHVuZGVmaW5lZCBkdXJpbmcgbG9nZ2VyIGluaXRpYWxpemF0aW9uLmApO1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbHVnaW4gYXBwLnZhdWx0IG5vdCBhdmFpbGFibGUgZHVyaW5nIGxvZ2dlciBpbml0aWFsaXphdGlvbicpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIC0gYWNjZXNzaW5nIGludGVybmFsIEFQSVxyXG4gICAgICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmFkYXB0ZXI7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgY29uc3QgdmF1bHRQYXRoID0gYWRhcHRlci5iYXNlUGF0aDtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBsb2dzIGRpcmVjdG9yeSBpbiB0aGUgcGx1Z2luIGZvbGRlclxyXG4gICAgICAgICAgICBjb25zdCBwbHVnaW5QYXRoID0gam9pbih2YXVsdFBhdGgsICcub2JzaWRpYW4nLCAncGx1Z2lucycsICdtZWdhbWVtLW1jcCcpO1xyXG4gICAgICAgICAgICBjb25zdCBsb2dzRGlyID0gam9pbihwbHVnaW5QYXRoLCAnbG9ncycpO1xyXG5cclxuICAgICAgICAgICAgLy8gRW5zdXJlIGxvZ3MgZGlyZWN0b3J5IGV4aXN0c1xyXG4gICAgICAgICAgICBpZiAoIWV4aXN0c1N5bmMobG9nc0RpcikpIHtcclxuICAgICAgICAgICAgICAgIG1rZGlyU3luYyhsb2dzRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXRlIGNvbnNvbGlkYXRlZCBsb2cgZmlsZVxyXG4gICAgICAgICAgICB0aGlzLmNvbnNvbGlkYXRlZExvZ1BhdGggPSBqb2luKGxvZ3NEaXIsICdjb25zb2xpZGF0ZWQubG9nJyk7XHJcblxyXG4gICAgICAgICAgICAvLyBXcml0ZSBzZXNzaW9uIGhlYWRlciB0byBjb25zb2xpZGF0ZWQgbG9nXHJcbiAgICAgICAgICAgIHRoaXMud3JpdGVUb0NvbnNvbGlkYXRlZExvZygnXFxuJyArICc9Jy5yZXBlYXQoODApKTtcclxuICAgICAgICAgICAgdGhpcy53cml0ZVRvQ29uc29saWRhdGVkTG9nKGBORVcgU0VTU0lPTjogJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9YCk7XHJcbiAgICAgICAgICAgIHRoaXMud3JpdGVUb0NvbnNvbGlkYXRlZExvZygnPScucmVwZWF0KDgwKSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYCR7dGhpcy5jb25zb2xlUHJlZml4fSBGYWlsZWQgdG8gaW5pdGlhbGl6ZSBjb25zb2xpZGF0ZWQgbG9nOmAsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB3cml0ZVRvRmlsZShtZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIC8vIE9ubHkgd3JpdGUgdG8gY29uc29saWRhdGVkIGxvZyAtIG5vIGluZGl2aWR1YWwgdGltZXN0YW1wZWQgZmlsZXNcclxuICAgICAgICAgICAgdGhpcy53cml0ZVRvQ29uc29saWRhdGVkTG9nKGBbJHt0aW1lc3RhbXB9XSAke21lc3NhZ2V9YCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gY29uc29sZSBpZiBmaWxlIHdyaXRpbmcgZmFpbHNcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgJHt0aGlzLmNvbnNvbGVQcmVmaXh9IEZhaWxlZCB0byB3cml0ZSB0byBsb2cgZmlsZTpgLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgd3JpdGVUb0NvbnNvbGlkYXRlZExvZyhtZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb25zb2xpZGF0ZWRMb2dQYXRoKSB7XHJcbiAgICAgICAgICAgICAgICBhcHBlbmRGaWxlU3luYyh0aGlzLmNvbnNvbGlkYXRlZExvZ1BhdGgsIG1lc3NhZ2UgKyAnXFxuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAvLyBGYWlsIHNpbGVudGx5IGZvciBjb25zb2xpZGF0ZWQgbG9nIHRvIGF2b2lkIHJlY3Vyc2lvblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGZvcm1hdE1lc3NhZ2UobGV2ZWw6IHN0cmluZywgbWVzc2FnZTogc3RyaW5nLCBkYXRhPzogYW55KTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgZm9ybWF0dGVkTWVzc2FnZSA9IGBbJHtsZXZlbH1dICR7bWVzc2FnZX1gO1xyXG4gICAgICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgZm9ybWF0dGVkTWVzc2FnZSArPSBgXFxuICBFcnJvcjogJHtkYXRhLm1lc3NhZ2V9XFxuICBTdGFjazogJHtkYXRhLnN0YWNrfWA7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGRhdGEgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWRNZXNzYWdlICs9IGBcXG4gIERhdGE6ICR7SlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMil9YDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZvcm1hdHRlZE1lc3NhZ2UgKz0gYFxcbiAgRGF0YTogJHtkYXRhfWA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZvcm1hdHRlZE1lc3NhZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgaW5mbyhtZXNzYWdlOiBzdHJpbmcsIGRhdGE/OiBhbnkpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBmb3JtYXR0ZWQgPSB0aGlzLmZvcm1hdE1lc3NhZ2UoJ0lORk8nLCBtZXNzYWdlLCBkYXRhKTtcclxuICAgICAgICBpZiAoZGF0YSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke3RoaXMuY29uc29sZVByZWZpeH0gJHttZXNzYWdlfWAsIGRhdGEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke3RoaXMuY29uc29sZVByZWZpeH0gJHttZXNzYWdlfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLndyaXRlVG9GaWxlKGZvcm1hdHRlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVidWcobWVzc2FnZTogc3RyaW5nLCBkYXRhPzogYW55KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmRlYnVnTW9kZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZCA9IHRoaXMuZm9ybWF0TWVzc2FnZSgnREVCVUcnLCBtZXNzYWdlLCBkYXRhKTtcclxuICAgICAgICBpZiAoZGF0YSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYCR7dGhpcy5jb25zb2xlUHJlZml4fSBbREVCVUddICR7bWVzc2FnZX1gLCBkYXRhKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGAke3RoaXMuY29uc29sZVByZWZpeH0gW0RFQlVHXSAke21lc3NhZ2V9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMud3JpdGVUb0ZpbGUoZm9ybWF0dGVkKTtcclxuICAgIH1cclxuXHJcbiAgICB3YXJuKG1lc3NhZ2U6IHN0cmluZywgZGF0YT86IGFueSk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZCA9IHRoaXMuZm9ybWF0TWVzc2FnZSgnV0FSTicsIG1lc3NhZ2UsIGRhdGEpO1xyXG4gICAgICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGAke3RoaXMuY29uc29sZVByZWZpeH0gW1dBUk5dICR7bWVzc2FnZX1gLCBkYXRhKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYCR7dGhpcy5jb25zb2xlUHJlZml4fSBbV0FSTl0gJHttZXNzYWdlfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLndyaXRlVG9GaWxlKGZvcm1hdHRlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZXJyb3IobWVzc2FnZTogc3RyaW5nLCBlcnJvcj86IEVycm9yIHwgYW55KTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgZm9ybWF0dGVkID0gdGhpcy5mb3JtYXRNZXNzYWdlKCdFUlJPUicsIG1lc3NhZ2UsIGVycm9yKTtcclxuICAgICAgICBpZiAoZXJyb3IgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGAke3RoaXMuY29uc29sZVByZWZpeH0gW0VSUk9SXSAke21lc3NhZ2V9YCwgZXJyb3IpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYCR7dGhpcy5jb25zb2xlUHJlZml4fSBbRVJST1JdICR7bWVzc2FnZX1gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy53cml0ZVRvRmlsZShmb3JtYXR0ZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldERlYnVnKGVuYWJsZWQ6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmRlYnVnTW9kZSA9IGVuYWJsZWQ7XHJcbiAgICAgICAgLy8gVGhlIGxvZ2dlcidzIGRlYnVnIG1vZGUgaXMgbm93IHNldC5cclxuICAgICAgICAvLyBJdCBpcyB1cCB0byB0aGUgY2FsbGVyIChlLmcuLCBTZXR0aW5nc1RhYikgdG8gbG9nIHRoZSBzdGF0ZSBjaGFuZ2UgaWYgZGVzaXJlZC5cclxuICAgICAgICAvLyBUaGlzIHByZXZlbnRzIHJlcGV0aXRpdmUgbG9nZ2luZyBkdXJpbmcgcGx1Z2luIGluaXRpYWxpemF0aW9uIG9yIGludGVybmFsIHVwZGF0ZXMuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGdldExvZ0ZpbGVQYXRoKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc29saWRhdGVkTG9nUGF0aDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBIZWxwZXIgbWV0aG9kIHRvIGxvZyBQeXRob24gcHJvY2VzcyBvdXRwdXRcclxuICAgIGxvZ1B5dGhvbk91dHB1dChzb3VyY2U6ICdzdGRvdXQnIHwgJ3N0ZGVycicsIGRhdGE6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGxpbmVzID0gZGF0YS5zcGxpdCgnXFxuJykuZmlsdGVyKGxpbmUgPT4gbGluZS50cmltKCkpO1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcclxuICAgICAgICAgICAgLy8gUFJPRFVDVElPTiBGSVg6IFByZXZlbnQgbWFzc2l2ZSBMTE0gZXJyb3Igb2JqZWN0IGR1bXBzIGluIGxvZ3NcclxuICAgICAgICAgICAgaWYgKHNvdXJjZSA9PT0gJ3N0ZGVycicgJiYgdGhpcy5zaG91bGRGaWx0ZXJFcnJvckxpbmUobGluZSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIG1hc3NpdmUgZXJyb3IgZHVtcHNcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gVHJ1bmNhdGUgZXh0cmVtZWx5IGxvbmcgbGluZXMgdG8gcHJldmVudCBsb2cgYmxvYXRcclxuICAgICAgICAgICAgY29uc3QgdHJ1bmNhdGVkTGluZSA9IGxpbmUubGVuZ3RoID4gMTAwMCA/IGxpbmUuc3Vic3RyaW5nKDAsIDEwMDApICsgJ1tUUlVOQ0FURURdJyA6IGxpbmU7XHJcbiAgICAgICAgICAgIHRoaXMud3JpdGVUb0ZpbGUoYFtQWVRIT04tJHtzb3VyY2UudG9VcHBlckNhc2UoKX1dICR7dHJ1bmNhdGVkTGluZX1gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzaG91bGRGaWx0ZXJFcnJvckxpbmUobGluZTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgLy8gRmlsdGVyIG91dCBtYXNzaXZlIExMTSBlcnJvciBvYmplY3QgZHVtcHNcclxuICAgICAgICBpZiAobGluZS5pbmNsdWRlcygnTExNIGdlbmVyYXRpb24gZmFpbGVkIHBhcnNpbmcgYXMgSlNPTicpKSB7XHJcbiAgICAgICAgICAgIC8vIExvZyBvbmx5IHRoZSBlcnJvciBtZXNzYWdlLCBub3QgdGhlIG1hc3NpdmUgb2JqZWN0IGR1bXAgdGhhdCBmb2xsb3dzXHJcbiAgICAgICAgICAgIHRoaXMud3JpdGVUb0ZpbGUoYFtQWVRIT04tU1RERVJSXSBbRVJST1JdIExMTSBKU09OIHBhcnNpbmcgZmFpbGVkIC0gb2JqZWN0IGR1bXAgZmlsdGVyZWQgZm9yIGxvZyByZWFkYWJpbGl0eWApO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIEFsbG93IHRoaXMgbGluZSBidXQgc3RhcnQgZmlsdGVyaW5nIHRoZSBkdW1wXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBGaWx0ZXIgbGluZXMgdGhhdCBhcmUgcGFydCBvZiBtYXNzaXZlIEpTT04gb2JqZWN0IGR1bXBzXHJcbiAgICAgICAgaWYgKGxpbmUuaW5jbHVkZXMoJ0lucHV0IG1lc3NhZ2VzOicpIHx8XHJcbiAgICAgICAgICAgIGxpbmUuaW5jbHVkZXMoJ1wicGFydHNcIjonKSB8fFxyXG4gICAgICAgICAgICBsaW5lLmluY2x1ZGVzKCdcInZpZGVvX21ldGFkYXRhXCI6JykgfHxcclxuICAgICAgICAgICAgbGluZS5pbmNsdWRlcygnXCJ0aG91Z2h0XCI6JykgfHxcclxuICAgICAgICAgICAgbGluZS5pbmNsdWRlcygnXCJpbmxpbmVfZGF0YVwiOicpIHx8XHJcbiAgICAgICAgICAgIGxpbmUuaW5jbHVkZXMoJ1wiZmlsZV9kYXRhXCI6JykgfHxcclxuICAgICAgICAgICAgbGluZS5pbmNsdWRlcygnXCJmdW5jdGlvbl9jYWxsXCI6JykgfHxcclxuICAgICAgICAgICAgbGluZS5pbmNsdWRlcygnXCJmdW5jdGlvbl9yZXNwb25zZVwiOicpIHx8XHJcbiAgICAgICAgICAgIChsaW5lLnRyaW0oKS5zdGFydHNXaXRoKCd7JykgJiYgbGluZS5pbmNsdWRlcygnXCInKSkgfHxcclxuICAgICAgICAgICAgKGxpbmUudHJpbSgpLnN0YXJ0c1dpdGgoJ1snKSAmJiBsaW5lLmluY2x1ZGVzKCdcIicpKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gRmlsdGVyIG91dCB0aGVzZSBvYmplY3QgZHVtcCBsaW5lc1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBLZWVwIGFsbCBvdGhlciBzdGRlcnIgbGluZXNcclxuICAgIH1cclxuXHJcbiAgICAvLyBIZWxwZXIgbWV0aG9kIHRvIGxvZyBzeXN0ZW0gaW5mb3JtYXRpb25cclxuICAgIGxvZ1N5c3RlbUluZm8oKTogdm9pZCB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gR2V0IGdyYXBoaXRpIHZlcnNpb24gYXN5bmNocm9ub3VzbHlcclxuICAgICAgICAgICAgdGhpcy5nZXRHcmFwaGl0aVZlcnNpb24oKS50aGVuKGdyYXBoaXRpVmVyc2lvbiA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlYnVnKCdTeXN0ZW0gSW5mb3JtYXRpb246Jywge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXRmb3JtOiBwcm9jZXNzLnBsYXRmb3JtLFxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGVWZXJzaW9uOiBwcm9jZXNzLnZlcnNpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgICAgIG9ic2lkaWFuVmVyc2lvbjogdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmNvbmZpZz8udmVyc2lvbiB8fCAndW5rbm93bicsXHJcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luVmVyc2lvbjogdGhpcy5wbHVnaW4ubWFuaWZlc3QudmVyc2lvbixcclxuICAgICAgICAgICAgICAgICAgICBwbHVnaW5JZDogdGhpcy5wbHVnaW4ubWFuaWZlc3QuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgR3JhcGhpdGlWZXJzaW9uOiBncmFwaGl0aVZlcnNpb25cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBMb2cgc3lzdGVtIGluZm8gd2l0aG91dCBncmFwaGl0aSB2ZXJzaW9uIGlmIGRldGVjdGlvbiBmYWlsc1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWJ1ZygnU3lzdGVtIEluZm9ybWF0aW9uOicsIHtcclxuICAgICAgICAgICAgICAgICAgICBwbGF0Zm9ybTogcHJvY2Vzcy5wbGF0Zm9ybSxcclxuICAgICAgICAgICAgICAgICAgICBub2RlVmVyc2lvbjogcHJvY2Vzcy52ZXJzaW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgICAgICBvYnNpZGlhblZlcnNpb246IHRoaXMucGx1Z2luLmFwcC52YXVsdC5jb25maWc/LnZlcnNpb24gfHwgJ3Vua25vd24nLFxyXG4gICAgICAgICAgICAgICAgICAgIHBsdWdpblZlcnNpb246IHRoaXMucGx1Z2luLm1hbmlmZXN0LnZlcnNpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luSWQ6IHRoaXMucGx1Z2luLm1hbmlmZXN0LmlkLFxyXG4gICAgICAgICAgICAgICAgICAgIEdyYXBoaXRpVmVyc2lvbjogJ2RldGVjdGlvbiBmYWlsZWQnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IoJ0ZhaWxlZCB0byBkZXRlY3QgZ3JhcGhpdGkgdmVyc2lvbicsIGVycm9yKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5lcnJvcignRmFpbGVkIHRvIGxvZyBzeXN0ZW0gaW5mbycsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSGVscGVyIG1ldGhvZCB0byBnZXQgYWN0dWFsIGluc3RhbGxlZCBncmFwaGl0aS1jb3JlIHZlcnNpb25cclxuICAgIHByaXZhdGUgYXN5bmMgZ2V0R3JhcGhpdGlWZXJzaW9uKCk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgc3Bhd24gfSA9IHJlcXVpcmUoJ2NoaWxkX3Byb2Nlc3MnKTtcclxuICAgICAgICAgICAgICAgIC8vIFRyeSBtdWx0aXBsZSBtZXRob2RzIHRvIGdldCB0aGUgdmVyc2lvbiAob25seSBwcmludCBmaW5hbCByZXN1bHQpXHJcbiAgICAgICAgICAgICAgICBjb25zdCB2ZXJzaW9uU2NyaXB0ID0gYFxyXG5pbXBvcnQgc3lzXHJcbnZlcnNpb24gPSBOb25lXHJcblxyXG50cnk6XHJcbiAgICBpbXBvcnQgaW1wb3J0bGliLm1ldGFkYXRhXHJcbiAgICB2ZXJzaW9uID0gaW1wb3J0bGliLm1ldGFkYXRhLnZlcnNpb24oJ2dyYXBoaXRpLWNvcmUnKVxyXG5leGNlcHQ6XHJcbiAgICBwYXNzXHJcblxyXG5pZiBub3QgdmVyc2lvbjpcclxuICAgIHRyeTpcclxuICAgICAgICBpbXBvcnQgcGtnX3Jlc291cmNlc1xyXG4gICAgICAgIHZlcnNpb24gPSBwa2dfcmVzb3VyY2VzLmdldF9kaXN0cmlidXRpb24oJ2dyYXBoaXRpLWNvcmUnKS52ZXJzaW9uXHJcbiAgICBleGNlcHQ6XHJcbiAgICAgICAgcGFzc1xyXG5cclxuaWYgbm90IHZlcnNpb246XHJcbiAgICB0cnk6XHJcbiAgICAgICAgaW1wb3J0IGdyYXBoaXRpX2NvcmVcclxuICAgICAgICB2ZXJzaW9uID0gZ2V0YXR0cihncmFwaGl0aV9jb3JlLCAnX192ZXJzaW9uX18nLCBOb25lKVxyXG4gICAgICAgIGlmIG5vdCB2ZXJzaW9uOlxyXG4gICAgICAgICAgICB2ZXJzaW9uID0gJzAuMTguMCdcclxuICAgIGV4Y2VwdDpcclxuICAgICAgICBwYXNzXHJcblxyXG5pZiBub3QgdmVyc2lvbjpcclxuICAgIHZlcnNpb24gPSAndW5rbm93bidcclxuXHJcbiMgUHJpbnQgb25seSB0aGUgZmluYWwgdmVyc2lvbiByZXN1bHRcclxucHJpbnQodmVyc2lvbilcclxuYDtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9jZXNzID0gc3Bhd24oJ3B5dGhvbicsIFsnLWMnLCB2ZXJzaW9uU2NyaXB0XSwge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0ZGlvOiBbJ3BpcGUnLCAncGlwZScsICdwaXBlJ11cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBvdXRwdXQgPSAnJztcclxuICAgICAgICAgICAgICAgIGxldCBlcnJvciA9ICcnO1xyXG5cclxuICAgICAgICAgICAgICAgIHByb2Nlc3Muc3Rkb3V0Py5vbignZGF0YScsIChkYXRhOiBCdWZmZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQgKz0gZGF0YS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5zdGRlcnI/Lm9uKCdkYXRhJywgKGRhdGE6IEJ1ZmZlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yICs9IGRhdGEudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHByb2Nlc3Mub24oJ2Nsb3NlJywgKGNvZGU6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2RlID09PSAwICYmIG91dHB1dC50cmltKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShvdXRwdXQudHJpbSgpKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGBQeXRob24gcHJvY2VzcyBmYWlsZWQgKGNvZGUgJHtjb2RlfSk6ICR7ZXJyb3IgfHwgJ05vIG91dHB1dCd9YCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHByb2Nlc3Mub24oJ2Vycm9yJywgKGVycjogRXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGBGYWlsZWQgdG8gc3RhcnQgUHl0aG9uIHByb2Nlc3M6ICR7ZXJyLm1lc3NhZ2V9YCkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgRXhjZXB0aW9uIGluIGdldEdyYXBoaXRpVmVyc2lvbjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZnVuY3Rpb24gZGVib3VuY2U8VCBleHRlbmRzICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZD4oZm46IFQsIGRlbGF5OiBudW1iZXIpOiAoLi4uYXJnczogUGFyYW1ldGVyczxUPikgPT4gdm9pZCB7XG4gIGxldCB0aW1lcjogYW55O1xuICByZXR1cm4gKC4uLmFyZ3M6IFBhcmFtZXRlcnM8VD4pID0+IHtcbiAgICBpZiAodGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgfVxuICAgIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiBmbiguLi5hcmdzKSwgZGVsYXkpO1xuICB9O1xufSIsIi8vIEB2ZXNzZWwtcHJvdG9jb2w6QmFsZHIgZ292ZXJuczpbcGx1Z2luLWRldGVjdGlvbnxmZWF0dXJlXSBjb250ZXh0OkNvbnNvbGlkYXRlIHBsdWdpbiBkZXRlY3Rpb24gYW5kIGNvbmZpZyByZWFkaW5nIGZvciBUZW1wbGF0ZXIgYW5kIFBlcmlvZGljIE5vdGVzXG4vLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbc3JjL3V0aWxzL0xvZ2dlci50cywgc3JjL3R5cGVzL1NldHRpbmdzLnRzXVxuLy8gQHB1cnBvc2U6IENlbnRyYWxpemUgZGV0ZWN0aW9uIGFuZCBjb25maWctcmVhZGluZyBmb3IgT2JzaWRpYW4gcGx1Z2lucyBzbyBmb2xkZXIgcmVzb2x1dGlvbiBhbmQgb3RoZXIgc2VydmljZXMgY2FuIHJldXNlIGl0LlxuLy8gQHJlc3VsdDogUHJvdmlkZXMgZGV0ZWN0UGx1Z2lucygpLCByZWFkVGVtcGxhdGVyQ29uZmlnKCksIHJlYWRQZXJpb2RpY05vdGVzQ29uZmlnKCkgd2l0aCBzYWZlIGRlZmF1bHRzIGFuZCByb2J1c3QgZXJyb3IgaGFuZGxpbmdcbi8vIEBzaWduZWQ6IEMuQmrDuHJuXG5cbi8qKlxuICogUGx1Z2luRGV0ZWN0aW9uSGVscGVyXG4gKlxuICogVXRpbGl0aWVzIHRvIGRldGVjdCBpbnN0YWxsZWQgT2JzaWRpYW4gcGx1Z2lucyAodGVtcGxhdGVyIGFuZCBwZXJpb2RpYy1ub3RlcylcbiAqIGFuZCByZWFkIHRoZWlyIGNvbmZpZ3VyYXRpb24gZnJvbSB0aGUgcGx1Z2luIGRhdGEuanNvbiBmaWxlcyBpbiB0aGUgdmF1bHQuXG4gKlxuICogRnVuY3Rpb25zOlxuICogIC0gZGV0ZWN0UGx1Z2lucyhhcHAsIHNldHRpbmdzKVxuICogIC0gcmVhZFRlbXBsYXRlckNvbmZpZyhhcHApXG4gKiAgLSByZWFkUGVyaW9kaWNOb3Rlc0NvbmZpZyhhcHApXG4gKlxuICogVGhlIGZ1bmN0aW9ucyB1c2UgYGFwcC52YXVsdC5hZGFwdGVyYCB0byByZWFkIGAub2JzaWRpYW4vcGx1Z2lucy97cGx1Z2luLWlkfS9kYXRhLmpzb25gLlxuICogQWxsIGxvZ2dpbmcgdXNlcyBHcmFwaGl0aUxvZ2dlci5cbiAqXG4gKiBOb3RlOiBUaGlzIGZpbGUgc2hvdWxkIHJlbWFpbiBwdXJlIHV0aWxpdHkgY29kZSBhbmQgbm90IHBlcmZvcm0gc2lkZS1lZmZlY3RzIG90aGVyIHRoYW4gcmVhZGluZyBwbHVnaW4gZmlsZXMuXG4gKi9cblxuaW1wb3J0IHR5cGUgeyBBcHAgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBHcmFwaGl0aUxvZ2dlciB9IGZyb20gJy4vTG9nZ2VyJztcbmltcG9ydCB0eXBlIHtcblx0VGVtcGxhdGVySW50ZWdyYXRpb25Db25maWdcbn0gZnJvbSAnLi4vdHlwZXMvU2V0dGluZ3MnO1xuXG4vLyBAdmVzc2VsLXByb3RvY29sOkJhbGRyIGdvdmVybnM6W3BsdWdpbi1kZXRlY3Rpb258ZmVhdHVyZV0gY29udGV4dDpDb25zb2xpZGF0ZSBwbHVnaW4gZGV0ZWN0aW9uIGFuZCBjb25maWcgcmVhZGluZyBmb3IgVGVtcGxhdGVyIGFuZCBQZXJpb2RpYyBOb3Rlc1xuLy8gQGludGVyLWRlcGVuZGVuY2llczogW3NyYy91dGlscy9Mb2dnZXIudHMsIHNyYy90eXBlcy9TZXR0aW5ncy50c11cbi8vIEBwdXJwb3NlOiBDZW50cmFsaXplIGRldGVjdGlvbiBhbmQgY29uZmlnLXJlYWRpbmcgZm9yIE9ic2lkaWFuIHBsdWdpbnMgc28gZm9sZGVyIHJlc29sdXRpb24gYW5kIG90aGVyIHNlcnZpY2VzIGNhbiByZXVzZSBpdC5cbi8vIEByZXN1bHQ6IFByb3ZpZGVzIGRldGVjdFBsdWdpbnMoKSwgcmVhZFRlbXBsYXRlckNvbmZpZygpLCByZWFkUGVyaW9kaWNOb3Rlc0NvbmZpZygpIHdpdGggc2FmZSBkZWZhdWx0cyBhbmQgcm9idXN0IGVycm9yIGhhbmRsaW5nXG4vLyBAc2lnbmVkOiBDLkJqw7hyblxuXG4vKipcbiAqIFBsdWdpbkRldGVjdGlvbkhlbHBlclxuICpcbiAqIFV0aWxpdGllcyB0byBkZXRlY3QgaW5zdGFsbGVkIE9ic2lkaWFuIHBsdWdpbnMgKHRlbXBsYXRlciBhbmQgcGVyaW9kaWMtbm90ZXMpXG4gKiBhbmQgcmVhZCB0aGVpciBjb25maWd1cmF0aW9uIGZyb20gdGhlIHBsdWdpbiBkYXRhLmpzb24gZmlsZXMgaW4gdGhlIHZhdWx0LlxuICpcbiAqIEZ1bmN0aW9uczpcbiAqICAtIGRldGVjdFBsdWdpbnMoYXBwLCBzZXR0aW5ncylcbiAqICAtIHJlYWRUZW1wbGF0ZXJDb25maWcoYXBwKVxuICogIC0gcmVhZFBlcmlvZGljTm90ZXNDb25maWcoYXBwKVxuICpcbiAqIFRoZSBmdW5jdGlvbnMgdXNlIGBhcHAudmF1bHQuYWRhcHRlcmAgdG8gcmVhZCBgLm9ic2lkaWFuL3BsdWdpbnMve3BsdWdpbi1pZH0vZGF0YS5qc29uYC5cbiAqIEFsbCBsb2dnaW5nIHVzZXMgR3JhcGhpdGlMb2dnZXIuXG4gKlxuICogTm90ZTogVGhpcyBmaWxlIHNob3VsZCByZW1haW4gcHVyZSB1dGlsaXR5IGNvZGUgYW5kIG5vdCBwZXJmb3JtIHNpZGUtZWZmZWN0cyBvdGhlciB0aGFuIHJlYWRpbmcgcGx1Z2luIGZpbGVzLlxuICovXG5cblxuLyoqXG4gKiBSZXR1cm5zIGEgR3JhcGhpdGlMb2dnZXIgaW5zdGFuY2UgaWYgdGhlIHBsdWdpbiBjb250ZXh0IGlzIGF2YWlsYWJsZSxcbiAqIG90aGVyd2lzZSByZXR1cm5zIGEgbm8tb3Agc2hpbSBsb2dnZXIuXG4gKiBUaGlzIGZ1bmN0aW9uIGhhbmRsZXMgdGhlIGR5bmFtaWMgbmF0dXJlIG9mIHBsdWdpbiBhdmFpbGFiaWxpdHkgaW4gdXRpbGl0eSBjb250ZXh0cy5cbiAqIEl0IGlzIGRlZmluZWQgYXMgYSBsb2NhbCBoZWxwZXIgdG8gYXZvaWQgY29uZmxpY3RzIHdpdGggXCJubyBhZGRpbmcgbmV3IGhlbHBlcnNcIiBydWxlLlxuICovXG5jb25zdCBnZXRGdW5jdGlvbmFsTG9nZ2VyID0gKGFwcEluc3RhbmNlPzogQXBwKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKGFwcEluc3RhbmNlICYmIChhcHBJbnN0YW5jZSBhcyBhbnkpLnBsdWdpbnMgJiYgKGFwcEluc3RhbmNlIGFzIGFueSkucGx1Z2lucy5wbHVnaW5zKSB7XG4gICAgICAgICAgICBjb25zdCBwbHVnaW5JbnN0YW5jZSA9IChhcHBJbnN0YW5jZSBhcyBhbnkpLnBsdWdpbnMucGx1Z2luc1snbWVnYW1lbS1tY3AnXTtcbiAgICAgICAgICAgIGlmIChwbHVnaW5JbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIC8vIEFzc3VtaW5nIGRlYnVnIG1vZGUgc2hvdWxkIGJlIGRlcml2ZWQgZnJvbSBwbHVnaW4gc2V0dGluZ3MgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgLy8gRm9yIGEgdXRpbGl0eSBmaWxlLCBhIHNlbnNpYmxlIGRlZmF1bHQgbWlnaHQgYmUgZmFsc2UgaWYgbm90IGV4cGxpY2l0bHkgcGFzc2VkXG4gICAgICAgICAgICAgICAgY29uc3QgZGVidWdNb2RlID0gcGx1Z2luSW5zdGFuY2Uuc2V0dGluZ3M/LmVuYWJsZURlYnVnTG9nZ2luZyB8fCBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEdyYXBoaXRpTG9nZ2VyKHBsdWdpbkluc3RhbmNlLCBkZWJ1Z01vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIEZhbGxiYWNrIHRvIGNvbnNvbGUgb3Igc2lsZW50IGVycm9yIGZvciBsb2dnZXIgaW5pdGlhbGl6YXRpb24gZmFpbHVyZXNcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGluaXRpYWxpemUgR3JhcGhpdGlMb2dnZXIgaW4gUGx1Z2luRGV0ZWN0aW9uSGVscGVyOicsIGVycik7XG4gICAgfVxuICAgIC8vIEZhbGxiYWNrIHRvIG5vLW9wIGxvZ2dlciBpZiBwbHVnaW4gY29udGV4dCBpcyBub3QgYXZhaWxhYmxlXG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5mbzogKCkgPT4ge30sXG4gICAgICAgIGRlYnVnOiAoKSA9PiB7fSxcbiAgICAgICAgd2FybjogKCkgPT4ge30sXG4gICAgICAgIGVycm9yOiAoKSA9PiB7fSxcbiAgICB9O1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBUZW1wbGF0ZXJDb25maWdSYXcge1xuXHQvLyBtYXRjaGVzIHN0cnVjdHVyZSBmb3VuZCBpbiB0ZW1wbGF0ZXItb2JzaWRpYW4vZGF0YS5qc29uIChiZXN0LWVmZm9ydClcblx0Zm9sZGVyX3RlbXBsYXRlcz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47IC8vIHRlbXBsYXRlIG5hbWUgLT4gZm9sZGVyIHBhdGhcblx0dGVtcGxhdGVzX2ZvbGRlcj86IHN0cmluZzsgLy8gZ2xvYmFsIHRlbXBsYXRlcyBmb2xkZXIgcGF0aFxuXHRzZXR0aW5ncz86IHtcblx0XHR1c2VfdGVtcGxhdGVzX2ZvbGRlcj86IGJvb2xlYW47XG5cdFx0dGVtcGxhdGVzX2ZvbGRlcj86IHN0cmluZztcblx0fTtcblx0Ly8gYWxsb3cgb3RoZXIgZmllbGRzXG5cdFtrZXk6IHN0cmluZ106IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUZW1wbGF0ZXJDb25maWcge1xuXHRkZXRlY3RlZDogYm9vbGVhbjtcblx0ZW5hYmxlZDogYm9vbGVhbjtcblx0dXNlVGVtcGxhdGVGb2xkZXJzOiBib29sZWFuO1xuXHR0ZW1wbGF0ZXNGb2xkZXI6IHN0cmluZyB8IG51bGw7XG5cdGZvbGRlclRlbXBsYXRlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPjsgLy8gbm9ybWFsaXplZCBtYXBcblx0cmF3PzogVGVtcGxhdGVyQ29uZmlnUmF3IHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQZXJpb2RpY05vdGVzQ29uZmlnUmF3IHtcblx0Ly8gbWF0Y2hlcyBzdHJ1Y3R1cmUgZm91bmQgaW4gcGVyaW9kaWMtbm90ZXMvZGF0YS5qc29uIChiZXN0LWVmZm9ydClcblx0cGVyaW9kaWM/OiB7XG5cdFx0ZGFpbHk/OiB7XG5cdFx0XHRmb2xkZXI/OiBzdHJpbmc7XG5cdFx0XHRmb3JtYXQ/OiBzdHJpbmc7XG5cdFx0XHRlbmFibGVkPzogYm9vbGVhbjtcblx0XHR9O1xuXHRcdHdlZWtseT86IHtcblx0XHRcdGZvbGRlcj86IHN0cmluZztcblx0XHRcdGZvcm1hdD86IHN0cmluZztcblx0XHRcdGVuYWJsZWQ/OiBib29sZWFuO1xuXHRcdH07XG5cdFx0bW9udGhseT86IHtcblx0XHRcdGZvbGRlcj86IHN0cmluZztcblx0XHRcdGZvcm1hdD86IHN0cmluZztcblx0XHRcdGVuYWJsZWQ/OiBib29sZWFuO1xuXHRcdH07XG5cdH07XG5cdC8vIGFsbG93IG90aGVyIGZpZWxkc1xuXHRba2V5OiBzdHJpbmddOiBhbnk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGVyaW9kaWNOb3Rlc0NvbmZpZyB7XG5cdGRldGVjdGVkOiBib29sZWFuO1xuXHRlbmFibGVkOiBib29sZWFuO1xuXHRkYWlseT86IHsgZW5hYmxlZDogYm9vbGVhbjsgZm9sZGVyPzogc3RyaW5nIHwgbnVsbDsgZm9ybWF0Pzogc3RyaW5nIHwgbnVsbCB9O1xuXHR3ZWVrbHk/OiB7IGVuYWJsZWQ6IGJvb2xlYW47IGZvbGRlcj86IHN0cmluZyB8IG51bGw7IGZvcm1hdD86IHN0cmluZyB8IG51bGwgfTtcblx0bW9udGhseT86IHsgZW5hYmxlZDogYm9vbGVhbjsgZm9sZGVyPzogc3RyaW5nIHwgbnVsbDsgZm9ybWF0Pzogc3RyaW5nIHwgbnVsbCB9O1xuXHRyYXc/OiBQZXJpb2RpY05vdGVzQ29uZmlnUmF3IHwgbnVsbDtcbn1cblxuZnVuY3Rpb24gcGx1Z2luRGF0YVBhdGgocGx1Z2luSWQ6IHN0cmluZyk6IHN0cmluZyB7XG5cdC8vIHBsdWdpbiBkYXRhLmpzb24gcGF0aCByZWxhdGl2ZSB0byB2YXVsdCByb290XG5cdHJldHVybiBgLm9ic2lkaWFuL3BsdWdpbnMvJHtwbHVnaW5JZH0vZGF0YS5qc29uYDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gc2FmZVJlYWRKc29uRmlsZShhZGFwdGVyOiBhbnksIHBhdGg6IHN0cmluZywgbG9nZ2VyOiBSZXR1cm5UeXBlPHR5cGVvZiBnZXRGdW5jdGlvbmFsTG9nZ2VyPik6IFByb21pc2U8YW55IHwgbnVsbD4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGV4aXN0cyA9IGF3YWl0IGFkYXB0ZXIuZXhpc3RzKHBhdGgpO1xuICAgICAgICBpZiAoIWV4aXN0cykge1xuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKGBbUGx1Z2luRGV0ZWN0aW9uXSBmaWxlIG5vdCBmb3VuZDogJHtwYXRofWApO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IGFkYXB0ZXIucmVhZChwYXRoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKGBbUGx1Z2luRGV0ZWN0aW9uXSBGYWlsZWQgdG8gcGFyc2UgSlNPTiBhdCAke3BhdGh9OiAke1N0cmluZyhlcnIpfWApO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgbG9nZ2VyLmVycm9yKGBbUGx1Z2luRGV0ZWN0aW9uXSBFcnJvciByZWFkaW5nICR7cGF0aH06ICR7U3RyaW5nKGVycil9YCk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuLyoqXG4gKiBkZXRlY3RQbHVnaW5zXG4gKiAtIEluc3BlY3QgYXBwLnBsdWdpbnMucGx1Z2lucyBmb3IgcHJlc2VuY2Ugb2YgdGVtcGxhdGVyIGFuZCBwZXJpb2RpYy1ub3Rlc1xuICogLSBSZWFkIHBsdWdpbiBlbmFibGVkIGZsYWcgaWYgcHJlc2VudFxuICogLSBSZXR1cm5zIGEgc21hbGwgb2JqZWN0IGRlc2NyaWJpbmcgZGV0ZWN0aW9uXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZXRlY3RQbHVnaW5zKGFwcDogQXBwLCBzZXR0aW5ncz86IGFueSk6IFByb21pc2U8e1xuXHR0ZW1wbGF0ZXI6IHsgcHJlc2VudDogYm9vbGVhbjsgZW5hYmxlZDogYm9vbGVhbjsgcGx1Z2luSWQ6IHN0cmluZyB9O1xuXHRwZXJpb2RpY05vdGVzOiB7IHByZXNlbnQ6IGJvb2xlYW47IGVuYWJsZWQ6IGJvb2xlYW47IHBsdWdpbklkOiBzdHJpbmcgfTtcbn0+IHtcblx0Y29uc3QgY3VycmVudExvZ2dlciA9IGdldEZ1bmN0aW9uYWxMb2dnZXIoYXBwKTtcblx0Y29uc3QgdGVtcGxhdGVySWQgPSAndGVtcGxhdGVyLW9ic2lkaWFuJztcblx0Y29uc3QgcGVyaW9kaWNJZCA9ICdwZXJpb2RpYy1ub3Rlcyc7XG5cblx0dHJ5IHtcblx0XHRjb25zdCBwbHVnaW5zID0gKGFwcCAmJiAoYXBwIGFzIGFueSkucGx1Z2lucyAmJiAoYXBwIGFzIGFueSkucGx1Z2lucy5wbHVnaW5zKSB8fCB7fTtcblx0XHRjb25zdCB0ZW1wbGF0ZXJQbHVnaW4gPSBwbHVnaW5zW3RlbXBsYXRlcklkXTtcblx0XHRjb25zdCBwZXJpb2RpY1BsdWdpbiA9IHBsdWdpbnNbcGVyaW9kaWNJZF07XG5cblx0XHRjb25zdCB0ZW1wbGF0ZXJQcmVzZW50ID0gISF0ZW1wbGF0ZXJQbHVnaW47XG5cdFx0Y29uc3QgcGVyaW9kaWNQcmVzZW50ID0gISFwZXJpb2RpY1BsdWdpbjtcblxuXHRcdGNvbnN0IHRlbXBsYXRlckVuYWJsZWQgPSB0ZW1wbGF0ZXJQbHVnaW4gPyAhIXRlbXBsYXRlclBsdWdpbi5lbmFibGVkIDogZmFsc2U7XG5cdFx0Y29uc3QgcGVyaW9kaWNFbmFibGVkID0gcGVyaW9kaWNQbHVnaW4gPyAhIXBlcmlvZGljUGx1Z2luLmVuYWJsZWQgOiBmYWxzZTtcblxuXHRcdGN1cnJlbnRMb2dnZXIuaW5mbyhgW1BsdWdpbkRldGVjdGlvbl0gdGVtcGxhdGVyIHByZXNlbnQ9JHt0ZW1wbGF0ZXJQcmVzZW50fSBlbmFibGVkPSR7dGVtcGxhdGVyRW5hYmxlZH1gKTtcblx0XHRjdXJyZW50TG9nZ2VyLmluZm8oYFtQbHVnaW5EZXRlY3Rpb25dIHBlcmlvZGljLW5vdGVzIHByZXNlbnQ9JHtwZXJpb2RpY1ByZXNlbnR9IGVuYWJsZWQ9JHtwZXJpb2RpY0VuYWJsZWR9YCk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0dGVtcGxhdGVyOiB7IHByZXNlbnQ6IHRlbXBsYXRlclByZXNlbnQsIGVuYWJsZWQ6IHRlbXBsYXRlckVuYWJsZWQsIHBsdWdpbklkOiB0ZW1wbGF0ZXJJZCB9LFxuXHRcdFx0cGVyaW9kaWNOb3RlczogeyBwcmVzZW50OiBwZXJpb2RpY1ByZXNlbnQsIGVuYWJsZWQ6IHBlcmlvZGljRW5hYmxlZCwgcGx1Z2luSWQ6IHBlcmlvZGljSWQgfSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHRjdXJyZW50TG9nZ2VyLmVycm9yKGBbUGx1Z2luRGV0ZWN0aW9uXSBkZXRlY3RQbHVnaW5zIGZhaWxlZDogJHtTdHJpbmcoZXJyKX1gKTtcblx0XHQvLyByZXR1cm4gY29uc2VydmF0aXZlIGRlZmF1bHRzXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRlbXBsYXRlcjogeyBwcmVzZW50OiBmYWxzZSwgZW5hYmxlZDogZmFsc2UsIHBsdWdpbklkOiAndGVtcGxhdGVyLW9ic2lkaWFuJyB9LFxuXHRcdFx0cGVyaW9kaWNOb3RlczogeyBwcmVzZW50OiBmYWxzZSwgZW5hYmxlZDogZmFsc2UsIHBsdWdpbklkOiAncGVyaW9kaWMtbm90ZXMnIH0sXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIHJlYWRUZW1wbGF0ZXJDb25maWdcbiAqIC0gUmVhZHMgYC5vYnNpZGlhbi9wbHVnaW5zL3RlbXBsYXRlci1vYnNpZGlhbi9kYXRhLmpzb25gXG4gKiAtIEV4dHJhY3RzIGZvbGRlcl90ZW1wbGF0ZXMgYW5kIHRlbXBsYXRlc19mb2xkZXIgKHdpdGggZmFsbGJhY2tzKVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVhZFRlbXBsYXRlckNvbmZpZyhhcHA6IEFwcCk6IFByb21pc2U8VGVtcGxhdGVyQ29uZmlnPiB7XG5cdGNvbnN0IGN1cnJlbnRMb2dnZXIgPSBnZXRGdW5jdGlvbmFsTG9nZ2VyKGFwcCk7XG5cdGNvbnN0IGFkYXB0ZXIgPSAoYXBwIGFzIGFueSkudmF1bHQgJiYgKGFwcCBhcyBhbnkpLnZhdWx0LmFkYXB0ZXI7XG5cdGNvbnN0IHBsdWdpbklkID0gJ3RlbXBsYXRlci1vYnNpZGlhbic7XG5cdGNvbnN0IHBhdGggPSBwbHVnaW5EYXRhUGF0aChwbHVnaW5JZCk7XG5cblx0Y29uc3QgZGVmYXVsdFJlc3VsdDogVGVtcGxhdGVyQ29uZmlnID0ge1xuXHRcdGRldGVjdGVkOiBmYWxzZSxcblx0XHRlbmFibGVkOiBmYWxzZSxcblx0XHR1c2VUZW1wbGF0ZUZvbGRlcnM6IGZhbHNlLFxuXHRcdHRlbXBsYXRlc0ZvbGRlcjogbnVsbCxcblx0XHRmb2xkZXJUZW1wbGF0ZXM6IHt9LFxuXHRcdHJhdzogbnVsbCxcblx0fTtcblxuXHRpZiAoIWFkYXB0ZXIpIHtcblx0XHRjdXJyZW50TG9nZ2VyLndhcm4oJ1tQbHVnaW5EZXRlY3Rpb25dIGFwcC52YXVsdC5hZGFwdGVyIG5vdCBhdmFpbGFibGUgd2hlbiByZWFkaW5nIFRlbXBsYXRlciBjb25maWcnKTtcblx0XHRyZXR1cm4gZGVmYXVsdFJlc3VsdDtcblx0fVxuXG5cdGNvbnN0IHJhdyA9IChhd2FpdCBzYWZlUmVhZEpzb25GaWxlKGFkYXB0ZXIsIHBhdGgsIGN1cnJlbnRMb2dnZXIpKSBhcyBUZW1wbGF0ZXJDb25maWdSYXcgfCBudWxsO1xuXHRpZiAoIXJhdykge1xuXHRcdHJldHVybiBkZWZhdWx0UmVzdWx0O1xuXHR9XG5cblx0Ly8gbm9ybWFsaXNlXG5cdC8vIFNhZmVseSBhY2Nlc3MgZm9sZGVyX3RlbXBsYXRlcyB3aGljaCBtYXkgZXhpc3Qgb24gdGhlIHRvcC1sZXZlbCByYXcgb2JqZWN0IG9yIHdpdGhpbiByYXcuc2V0dGluZ3MuXG5cdC8vIFRlbXBsYXRlciBzdG9yZXMgZm9sZGVyIHRlbXBsYXRlcyBlaXRoZXIgYXMgYSBtYXAgeyBcIlRQTCBOYW1lXCI6IFwiZm9sZGVyXCIgfSBPUiBhcyBhbiBhcnJheVxuXHQvLyBbeyBmb2xkZXI6IFwiLi4uXCIsIHRlbXBsYXRlOiBcInBhdGgvdG8vVFBMIE5hbWUubWRcIiB9LCAuLi5dLiBIYW5kbGUgYm90aCBzaGFwZXMgYW5kIG5vcm1hbGl6ZSBrZXlzLlxuXHRjb25zdCBhbnlSYXcgPSByYXcgYXMgYW55O1xuXG5cdC8vIEdhdGhlciByYXcgZm9sZGVyIHRlbXBsYXRlcyBjYW5kaWRhdGUgKGNvdWxkIGJlIG9iamVjdCBvciBhcnJheSlcblx0Y29uc3QgcmF3Rm9sZGVyVGVtcGxhdGVzQ2FuZGlkYXRlID0gYW55UmF3LmZvbGRlcl90ZW1wbGF0ZXMgfHwgKGFueVJhdy5zZXR0aW5ncyAmJiBhbnlSYXcuc2V0dGluZ3MuZm9sZGVyX3RlbXBsYXRlcykgfHwgYW55UmF3LmZvbGRlclRlbXBsYXRlcyB8fCBhbnlSYXcuZm9sZGVyX3RlbXBsYXRlc19hcnJheSB8fCBudWxsO1xuXG5cdC8vIEhlbHBlcjogbm9ybWFsaXplIGEgdGVtcGxhdGUgbmFtZSB0byBhIGNhbm9uaWNhbCBrZXkgdXNlZCBieSBsb29rdXBzIChiYXNlbmFtZSwgdHJpbW1lZCwgbG93ZXJjYXNlKVxuXHRjb25zdCBub3JtYWxpemVUZW1wbGF0ZUtleSA9ICh0OiBzdHJpbmcpID0+IHtcblx0XHRpZiAoIXQpIHJldHVybiAnJztcblx0XHQvLyBFeHRyYWN0IGJhc2VuYW1lIGlmIGdpdmVuIGEgcGF0aCwgcmVtb3ZlIGV4dGVuc2lvbiwgdHJpbSBhbmQgbG93ZXItY2FzZSBmb3Igcm9idXN0IG1hdGNoaW5nXG5cdFx0Y29uc3QgcGFydHMgPSB0LnNwbGl0KCcvJykucG9wKCkgfHwgdDtcblx0XHRyZXR1cm4gcGFydHMucmVwbGFjZSgvXFwubWQkL2ksICcnKS50cmltKCkudG9Mb3dlckNhc2UoKTtcblx0fTtcblxuXHRjb25zdCBmb2xkZXJUZW1wbGF0ZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblxuXHQvLyBJZiB0ZW1wbGF0ZXIgc3RvcmVkIGEgbWFwICh0ZW1wbGF0ZU5hbWUgLT4gZm9sZGVyKVxuXHRpZiAocmF3Rm9sZGVyVGVtcGxhdGVzQ2FuZGlkYXRlICYmIHR5cGVvZiByYXdGb2xkZXJUZW1wbGF0ZXNDYW5kaWRhdGUgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHJhd0ZvbGRlclRlbXBsYXRlc0NhbmRpZGF0ZSkpIHtcblx0XHRmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhyYXdGb2xkZXJUZW1wbGF0ZXNDYW5kaWRhdGUgYXMgUmVjb3JkPHN0cmluZywgYW55PikpIHtcblx0XHRcdGNvbnN0IGtleSA9IG5vcm1hbGl6ZVRlbXBsYXRlS2V5KGspO1xuXHRcdFx0aWYgKGtleSkgZm9sZGVyVGVtcGxhdGVzW2tleV0gPSB0eXBlb2YgdiA9PT0gJ3N0cmluZycgPyB2IDogU3RyaW5nKHYgfHwgJycpO1xuXHRcdH1cblx0fVxuXG5cdC8vIElmIHRlbXBsYXRlciBzdG9yZWQgYW4gYXJyYXkgb2YgeyBmb2xkZXIsIHRlbXBsYXRlIH0gb2JqZWN0cyAoY29tbW9uKVxuXHRpZiAoQXJyYXkuaXNBcnJheShyYXdGb2xkZXJUZW1wbGF0ZXNDYW5kaWRhdGUpKSB7XG5cdFx0Zm9yIChjb25zdCBpdGVtIG9mIChyYXdGb2xkZXJUZW1wbGF0ZXNDYW5kaWRhdGUgYXMgYW55W10pKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBmb2xkZXIgPSBpdGVtPy5mb2xkZXIgfHwgaXRlbT8uZm9sZGVyUGF0aCB8fCAnJztcblx0XHRcdFx0Y29uc3QgdGVtcGxhdGVQYXRoID0gaXRlbT8udGVtcGxhdGUgfHwgaXRlbT8udGVtcGxhdGVQYXRoIHx8ICcnO1xuXHRcdFx0XHRjb25zdCBrZXkgPSBub3JtYWxpemVUZW1wbGF0ZUtleSh0ZW1wbGF0ZVBhdGgpO1xuXHRcdFx0XHRpZiAoa2V5KSB7XG5cdFx0XHRcdFx0Zm9sZGVyVGVtcGxhdGVzW2tleV0gPSBmb2xkZXI7XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0Ly8gaWdub3JlIG1hbGZvcm1lZCBlbnRyaWVzXG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Y29uc3QgdGVtcGxhdGVzRm9sZGVyID0gKGFueVJhdy50ZW1wbGF0ZXNfZm9sZGVyIHx8IChhbnlSYXcuc2V0dGluZ3MgJiYgYW55UmF3LnNldHRpbmdzLnRlbXBsYXRlc19mb2xkZXIpKSB8fCBudWxsO1xuXHRjb25zdCB1c2VUZW1wbGF0ZUZvbGRlcnMgPSBCb29sZWFuKE9iamVjdC5rZXlzKGZvbGRlclRlbXBsYXRlcyB8fCB7fSkubGVuZ3RoKSB8fCAhIShhbnlSYXcuc2V0dGluZ3MgJiYgYW55UmF3LnNldHRpbmdzLnVzZV90ZW1wbGF0ZXNfZm9sZGVyKTtcblxuXHQvLyBEZXRlcm1pbmUgZW5hYmxlZDogcGx1Z2luIGluc3RhbGxhdGlvbiBkb2Vzbid0IGd1YXJhbnRlZSBlbmFibGVkIGZsYWcgaGVyZTsgY2hlY2sgYXBwLnBsdWdpbnMgaWYgcG9zc2libGVcblx0bGV0IGVuYWJsZWQgPSBmYWxzZTtcblx0dHJ5IHtcblx0XHRjb25zdCBwbHVnaW5zID0gKGFwcCBhcyBhbnkpLnBsdWdpbnMgJiYgKGFwcCBhcyBhbnkpLnBsdWdpbnMucGx1Z2lucztcblx0XHRpZiAocGx1Z2lucyAmJiBwbHVnaW5zW3BsdWdpbklkXSkge1xuXHRcdFx0ZW5hYmxlZCA9ICEhcGx1Z2luc1twbHVnaW5JZF0uZW5hYmxlZDtcblx0XHR9XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdGN1cnJlbnRMb2dnZXIuZGVidWcoYFtQbHVnaW5EZXRlY3Rpb25dIGNvdWxkIG5vdCBkZXRlcm1pbmUgdGVtcGxhdGVyIGVuYWJsZWQgc3RhdGU6ICR7U3RyaW5nKGVycil9YCk7XG5cdH1cblxuXHRjb25zdCByZXN1bHQ6IFRlbXBsYXRlckNvbmZpZyA9IHtcblx0XHRkZXRlY3RlZDogdHJ1ZSxcblx0XHRlbmFibGVkLFxuXHRcdHVzZVRlbXBsYXRlRm9sZGVycyxcblx0XHR0ZW1wbGF0ZXNGb2xkZXI6IHRlbXBsYXRlc0ZvbGRlciB8fCBudWxsLFxuXHRcdGZvbGRlclRlbXBsYXRlczogZm9sZGVyVGVtcGxhdGVzIHx8IHt9LFxuXHRcdHJhdyxcblx0fTtcblxuXHRjdXJyZW50TG9nZ2VyLmRlYnVnKCdbUGx1Z2luRGV0ZWN0aW9uXSByZWFkVGVtcGxhdGVyQ29uZmlnIHJlc3VsdCcsIHsgLi4ucmVzdWx0LCByYXc6IHVuZGVmaW5lZCB9KTtcblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiByZWFkUGVyaW9kaWNOb3Rlc0NvbmZpZ1xuICogLSBSZWFkcyBgLm9ic2lkaWFuL3BsdWdpbnMvcGVyaW9kaWMtbm90ZXMvZGF0YS5qc29uYFxuICogLSBFeHRyYWN0cyBkYWlseS93ZWVrbHkvbW9udGhseSBmb2xkZXIgYW5kIGZvcm1hdCBzZXR0aW5nc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVhZFBlcmlvZGljTm90ZXNDb25maWcoYXBwOiBBcHApOiBQcm9taXNlPFBlcmlvZGljTm90ZXNDb25maWc+IHtcblx0Y29uc3QgY3VycmVudExvZ2dlciA9IGdldEZ1bmN0aW9uYWxMb2dnZXIoYXBwKTtcblx0Y29uc3QgYWRhcHRlciA9IChhcHAgYXMgYW55KS52YXVsdCAmJiAoYXBwIGFzIGFueSkudmF1bHQuYWRhcHRlcjtcblx0Y29uc3QgcGx1Z2luSWQgPSAncGVyaW9kaWMtbm90ZXMnO1xuXHRjb25zdCBwYXRoID0gcGx1Z2luRGF0YVBhdGgocGx1Z2luSWQpO1xuXG5cdGNvbnN0IGRlZmF1bHRSZXN1bHQ6IFBlcmlvZGljTm90ZXNDb25maWcgPSB7XG5cdFx0ZGV0ZWN0ZWQ6IGZhbHNlLFxuXHRcdGVuYWJsZWQ6IGZhbHNlLFxuXHRcdHJhdzogbnVsbCxcblx0fTtcblxuXHRpZiAoIWFkYXB0ZXIpIHtcblx0XHRjdXJyZW50TG9nZ2VyLndhcm4oJ1tQbHVnaW5EZXRlY3Rpb25dIGFwcC52YXVsdC5hZGFwdGVyIG5vdCBhdmFpbGFibGUgd2hlbiByZWFkaW5nIFBlcmlvZGljIE5vdGVzIGNvbmZpZycpO1xuXHRcdHJldHVybiBkZWZhdWx0UmVzdWx0O1xuXHR9XG5cblx0Y29uc3QgcmF3ID0gKGF3YWl0IHNhZmVSZWFkSnNvbkZpbGUoYWRhcHRlciwgcGF0aCwgY3VycmVudExvZ2dlcikpIGFzIFBlcmlvZGljTm90ZXNDb25maWdSYXcgfCBudWxsO1xuXHRpZiAoIXJhdykge1xuXHRcdHJldHVybiBkZWZhdWx0UmVzdWx0O1xuXHR9XG5cblx0Y29uc3QgcGVyaW9kaWMgPSByYXc7IC8vIGRhaWx5LCB3ZWVrbHksIG1vbnRobHkgYXJlIGRpcmVjdGx5IG9uIHRoZSByb290IG9iamVjdCwgbm90IG5lc3RlZCB1bmRlciAncGVyaW9kaWMnXG5cblx0ZnVuY3Rpb24gcmVhZFNlY3Rpb24oc2VjdGlvbjogYW55KSB7XG5cdFx0aWYgKCFzZWN0aW9uKSByZXR1cm4geyBlbmFibGVkOiBmYWxzZSwgZm9sZGVyOiBudWxsLCBmb3JtYXQ6IG51bGwgfTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZW5hYmxlZDogQm9vbGVhbihzZWN0aW9uLmVuYWJsZWQpLFxuXHRcdFx0Zm9sZGVyOiBzZWN0aW9uLmZvbGRlciB8fCBudWxsLFxuXHRcdFx0Zm9ybWF0OiBzZWN0aW9uLmZvcm1hdCB8fCBudWxsLFxuXHRcdH07XG5cdH1cblxuXHRjb25zdCBkYWlseSA9IHJlYWRTZWN0aW9uKHBlcmlvZGljLmRhaWx5KTtcblx0Y29uc3Qgd2Vla2x5ID0gcmVhZFNlY3Rpb24ocGVyaW9kaWMud2Vla2x5KTtcblx0Y29uc3QgbW9udGhseSA9IHJlYWRTZWN0aW9uKHBlcmlvZGljLm1vbnRobHkpO1xuXG5cdC8vIERldGVybWluZSBlbmFibGVkIG92ZXJhbGwgYnkgY2hlY2tpbmcgcHJlc2VuY2Ugb2YgcGVyaW9kaWMgc2VjdGlvbnMgb3IgYXBwLnBsdWdpbnMgZmxhZ1xuXHRsZXQgZW5hYmxlZCA9ICEhKGRhaWx5LmVuYWJsZWQgfHwgd2Vla2x5LmVuYWJsZWQgfHwgbW9udGhseS5lbmFibGVkKTtcblx0dHJ5IHtcblx0XHRjb25zdCBwbHVnaW5zID0gKGFwcCBhcyBhbnkpLnBsdWdpbnMgJiYgKGFwcCBhcyBhbnkpLnBsdWdpbnMucGx1Z2lucztcblx0XHRpZiAocGx1Z2lucyAmJiBwbHVnaW5zW3BsdWdpbklkXSkge1xuXHRcdFx0ZW5hYmxlZCA9IGVuYWJsZWQgfHwgISFwbHVnaW5zW3BsdWdpbklkXS5lbmFibGVkO1xuXHRcdH1cblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0Y3VycmVudExvZ2dlci5kZWJ1ZyhgW1BsdWdpbkRldGVjdGlvbl0gY291bGQgbm90IGRldGVybWluZSBwZXJpb2RpYy1ub3RlcyBlbmFibGVkIHN0YXRlOiAke1N0cmluZyhlcnIpfWApO1xuXHR9XG5cblx0Y29uc3QgcmVzdWx0OiBQZXJpb2RpY05vdGVzQ29uZmlnID0ge1xuXHRcdGRldGVjdGVkOiB0cnVlLFxuXHRcdGVuYWJsZWQsXG5cdFx0ZGFpbHksXG5cdFx0d2Vla2x5LFxuXHRcdG1vbnRobHksXG5cdFx0cmF3LFxuXHR9O1xuXG5cdGN1cnJlbnRMb2dnZXIuZGVidWcoJ1tQbHVnaW5EZXRlY3Rpb25dIHJlYWRQZXJpb2RpY05vdGVzQ29uZmlnIHJlc3VsdCcsIHsgZGV0ZWN0ZWQ6IHRydWUsIGVuYWJsZWQsIGRhaWx5LCB3ZWVrbHksIG1vbnRobHkgfSk7XG5cdHJldHVybiByZXN1bHQ7XG59XG5cbi8vIEV4cG9ydCBkZWZhdWx0IGFzIHV0aWxpdHkgb2JqZWN0IHRvbyAob3B0aW9uYWwpXG5jb25zdCBQbHVnaW5EZXRlY3Rpb25IZWxwZXIgPSB7XG5cdGRldGVjdFBsdWdpbnMsXG5cdHJlYWRUZW1wbGF0ZXJDb25maWcsXG5cdHJlYWRQZXJpb2RpY05vdGVzQ29uZmlnLFxufTtcblxuLy8gUHJvdmlkZSBhbGlhcyBleHBvcnRzIGV4cGVjdGVkIGJ5IGNhbGxlcnMgZWxzZXdoZXJlIGluIHRoZSBjb2RlYmFzZVxuZXhwb3J0IGNvbnN0IGdldFRlbXBsYXRlckNvbmZpZyA9IHJlYWRUZW1wbGF0ZXJDb25maWc7XG5leHBvcnQgY29uc3QgZ2V0UGVyaW9kaWNOb3Rlc0NvbmZpZyA9IHJlYWRQZXJpb2RpY05vdGVzQ29uZmlnO1xuXG5leHBvcnQgZGVmYXVsdCBQbHVnaW5EZXRlY3Rpb25IZWxwZXI7XG5cbi8vIEB2ZXNzZWwtY2xvc2U6QmFsZHIiLCJpbXBvcnQgdHlwZSB7IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3MgfSBmcm9tICcuLi90eXBlcy9TZXR0aW5ncyc7XG5pbXBvcnQgeyBHcmFwaGl0aUxvZ2dlciB9IGZyb20gJy4uL3V0aWxzL0xvZ2dlcic7XG5pbXBvcnQgdHlwZSB7IFBsdWdpbiB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IFRGaWxlLCBURm9sZGVyLCBub3JtYWxpemVQYXRoLCBNYXJrZG93blZpZXcgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgdHlwZSB7IFN5bmNSZWdpc3RyeVNlcnZpY2UgfSBmcm9tICcuL1N5bmNSZWdpc3RyeVNlcnZpY2UnO1xuaW1wb3J0IHR5cGUgeyBWYXVsdFJlZ2lzdHJ5U2VydmljZSB9IGZyb20gJy4vVmF1bHRSZWdpc3RyeVNlcnZpY2UnO1xuaW1wb3J0IHsgZ2V0VGVtcGxhdGVyQ29uZmlnLCBnZXRQZXJpb2RpY05vdGVzQ29uZmlnIH0gZnJvbSAnLi4vdXRpbHMvUGx1Z2luRGV0ZWN0aW9uSGVscGVyJztcblxuZXhwb3J0IGNsYXNzIFdlYlNvY2tldFNlcnZpY2Uge1xuICAgIHByaXZhdGUgY2xpZW50OiBXZWJTb2NrZXQgfCBudWxsID0gbnVsbDtcbiAgICBwcml2YXRlIHNldHRpbmdzOiBHcmFwaGl0aVBsdWdpblNldHRpbmdzO1xuICAgIHByaXZhdGUgbG9nZ2VyOiBHcmFwaGl0aUxvZ2dlcjtcbiAgICBwcml2YXRlIHBsdWdpbjogUGx1Z2luO1xuICAgIHByaXZhdGUgc3luY1JlZ2lzdHJ5U2VydmljZT86IFN5bmNSZWdpc3RyeVNlcnZpY2U7XG4gICAgcHJpdmF0ZSB2YXVsdFJlZ2lzdHJ5U2VydmljZT86IFZhdWx0UmVnaXN0cnlTZXJ2aWNlO1xuICAgIHByaXZhdGUgcmVjb25uZWN0VGltZXI/OiBudW1iZXI7XG4gICAgcHJpdmF0ZSByZWNvbm5lY3RBdHRlbXB0cyA9IDA7XG4gICAgcHJpdmF0ZSBiYXNlUmVjb25uZWN0RGVsYXkgPSAxMDAwO1xuICAgIHByaXZhdGUgbWF4UmVjb25uZWN0RGVsYXkgPSAzMDAwMDtcbiAgICBwcml2YXRlIGlzUmV0cnlpbmcgPSBmYWxzZTtcbiAgICBwcml2YXRlIGxhc3RDb25uZWN0aW9uU3RhdHVzOiBib29sZWFuIHwgbnVsbCA9IG51bGw7IC8vIFRyYWNrIGNvbm5lY3Rpb24gc3RhdGUgY2hhbmdlc1xuXG4gICAgY29uc3RydWN0b3IocGx1Z2luOiBQbHVnaW4sIHNldHRpbmdzOiBHcmFwaGl0aVBsdWdpblNldHRpbmdzLCBzeW5jUmVnaXN0cnlTZXJ2aWNlPzogU3luY1JlZ2lzdHJ5U2VydmljZSwgdmF1bHRSZWdpc3RyeVNlcnZpY2U/OiBWYXVsdFJlZ2lzdHJ5U2VydmljZSkge1xuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgICAgICB0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UgPSBzeW5jUmVnaXN0cnlTZXJ2aWNlO1xuICAgICAgICB0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlID0gdmF1bHRSZWdpc3RyeVNlcnZpY2U7XG4gICAgICAgIC8vIEB2ZXNzZWwtcHJvdG9jb2w6QmFsZHIgZ292ZXJuczpbZGVidWctZml4fGxvZ2dlcl0gY29udGV4dDpVc2Ugc2V0dGluZ3MgZGVidWcgdmFsdWUgaW5zdGVhZCBvZiBoYXJkY29kZWQgZmFsc2VcbiAgICAgICAgLy8gQGludGVyLWRlcGVuZGVuY2llczogW0dyYXBoaXRpTG9nZ2VyLCBzZXR0aW5ncy1lbmFibGVEZWJ1Z0xvZ2dpbmddXG4gICAgICAgIC8vIEBwdXJwb3NlOiBJbml0aWFsaXplIGxvZ2dlciB3aXRoIGNvcnJlY3QgZGVidWcgc3RhdGUgZnJvbSBzZXR0aW5nc1xuICAgICAgICAvLyBAcmVzdWx0OiBXZWJTb2NrZXQgbG9nZ2VyIHJlc3BlY3RzIGluaXRpYWwgZGVidWcgc2V0dGluZyBmcm9tIHBsdWdpbiBzZXR0aW5nc1xuICAgICAgICAvLyBAc2lnbmVkOiBDLkJqw7hyblxuICAgICAgICB0aGlzLmxvZ2dlciA9IG5ldyBHcmFwaGl0aUxvZ2dlcihwbHVnaW4sIHNldHRpbmdzLmVuYWJsZURlYnVnTG9nZ2luZyk7XG4gICAgfVxuXG4gICAgLy8gQHB1cnBvc2U6IEFzeW5jIHNsZWVwIHV0aWxpdHkgZm9yIGJhY2tvZmYgZGVsYXlzIEBkZXBlbmRzOiBub25lIEByZXN1bHRzOiBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgYWZ0ZXIgc3BlY2lmaWVkIG1zXG4gICAgcHJpdmF0ZSBzbGVlcChtczogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTtcbiAgICB9XG5cbiAgICAvLyBAcHVycG9zZTogU21hcnQgYmFja29mZiBjYWxjdWxhdGlvbiBiYXNlZCBvbiBlcnJvciB0eXBlIEBkZXBlbmRzOiBlcnJvciBvYmplY3QgQHJlc3VsdHM6IGRlbGF5IGluIG1pbGxpc2Vjb25kc1xuICAgIHByaXZhdGUgY2FsY3VsYXRlQmFja29mZkRlbGF5KGVycm9yPzogYW55KTogbnVtYmVyIHtcbiAgICAgICAgY29uc3QgYXR0ZW1wdCA9IHRoaXMucmVjb25uZWN0QXR0ZW1wdHM7XG4gICAgICAgIGxldCBiYXNlRGVsYXkgPSB0aGlzLmJhc2VSZWNvbm5lY3REZWxheTtcblxuICAgICAgICAvLyBTbWFydCBiYWNrb2ZmIGJhc2VkIG9uIGVycm9yIHR5cGVzXG4gICAgICAgIGlmIChlcnJvcj8uY29kZSA9PT0gJ0VDT05OUkVGVVNFRCcpIHtcbiAgICAgICAgICAgIGJhc2VEZWxheSA9IHRoaXMuYmFzZVJlY29ubmVjdERlbGF5ICogMjtcbiAgICAgICAgfSBlbHNlIGlmIChlcnJvcj8uY29kZSA9PT0gJ0VDT05OUkVTRVQnIHx8IGVycm9yPy5jb2RlID09PSAnRVBJUEUnKSB7XG4gICAgICAgICAgICBiYXNlRGVsYXkgPSB0aGlzLmJhc2VSZWNvbm5lY3REZWxheSAqIDAuNTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEV4cG9uZW50aWFsIGJhY2tvZmYgd2l0aCBqaXR0ZXJcbiAgICAgICAgY29uc3QgZXhwb25lbnRpYWxEZWxheSA9IGJhc2VEZWxheSAqIE1hdGgucG93KDEuNSwgTWF0aC5taW4oYXR0ZW1wdCwgMTApKTtcbiAgICAgICAgY29uc3Qgaml0dGVyID0gTWF0aC5yYW5kb20oKSAqIDAuMyArIDAuODU7IC8vIDg1LTExNSUgb2YgY2FsY3VsYXRlZCBkZWxheVxuICAgICAgICBjb25zdCBmaW5hbERlbGF5ID0gTWF0aC5taW4oZXhwb25lbnRpYWxEZWxheSAqIGppdHRlciwgdGhpcy5tYXhSZWNvbm5lY3REZWxheSk7XG5cbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoZmluYWxEZWxheSk7XG4gICAgfVxuXG4gICAgLy8gQHB1cnBvc2U6IEluZmluaXRlIHJldHJ5IGNvbm5lY3Rpb24gd2l0aCBzbWFydCBiYWNrb2ZmIEBkZXBlbmRzOiBub25lIEByZXN1bHRzOiBQcm9taXNlIHRoYXQgbmV2ZXIgcmVqZWN0cywga2VlcHMgcmV0cnlpbmdcbiAgICBwcml2YXRlIGFzeW5jIGNvbm5lY3RXaXRoUmV0cnkoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMuaXNSZXRyeWluZyA9IHRydWU7XG5cbiAgICAgICAgd2hpbGUgKHRoaXMuc2V0dGluZ3Mud3NFbmFibGVkICYmICF0aGlzLmNsaWVudCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNvbm5lY3RPbmNlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3RBdHRlbXB0cyA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1JldHJ5aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY29ubmVjdEF0dGVtcHRzKys7XG5cbiAgICAgICAgICAgICAgICAvLyBPbmx5IGxvZyBjcml0aWNhbCBjb25uZWN0aW9uIGZhaWx1cmVzIHRvIHJlZHVjZSBub2lzZVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlY29ubmVjdEF0dGVtcHRzID09PSAxIHx8IHRoaXMucmVjb25uZWN0QXR0ZW1wdHMgJSAyMCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihgW1dFQlNPQ0tFVF0gQ29ubmVjdGlvbiBmYWlsZWQgKGF0dGVtcHQgJHt0aGlzLnJlY29ubmVjdEF0dGVtcHRzfSk6YCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy53c0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1JldHJ5aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBkZWxheSA9IHRoaXMuY2FsY3VsYXRlQmFja29mZkRlbGF5KGVycm9yKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNsZWVwKGRlbGF5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNSZXRyeWluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgY29ubmVjdE9uY2UoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdzVXJsID0gYHdzOi8vbG9jYWxob3N0OiR7dGhpcy5zZXR0aW5ncy53c1BvcnR9P3Rva2VuPSR7dGhpcy5zZXR0aW5ncy53c0F1dGhUb2tlbn1gO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50ID0gbmV3IFdlYlNvY2tldCh3c1VybCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjb25uZWN0VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jbGllbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsaWVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignQ29ubmVjdGlvbiB0aW1lb3V0JykpO1xuICAgICAgICAgICAgICAgIH0sIDEwMDAwKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50Lm9ub3BlbiA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNvbm5lY3RUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tXRUJTT0NLRVRdIENvbm5lY3Rpb24gZXN0YWJsaXNoZWQgc3VjY2Vzc2Z1bGx5Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGNvbm5lY3Rpb24gc3RhdHVzIHRyYWNraW5nXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdENvbm5lY3Rpb25TdGF0dXMgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEJyaWVmIGRlbGF5IHRvIGVuc3VyZSBjb25uZWN0aW9uIGlzIHJlYWR5XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDApKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBUcmlnZ2VyIHZhdWx0IGF1dG8tcmVnaXN0cmF0aW9uXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW1dFQlNPQ0tFVF0gVHJpZ2dlcmluZyB2YXVsdCBhdXRvLXJlZ2lzdHJhdGlvbi4uLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVnaXN0ZXJlZFZhdWx0ID0gYXdhaXQgdGhpcy52YXVsdFJlZ2lzdHJ5U2VydmljZS5hdXRvUmVnaXN0ZXJDdXJyZW50VmF1bHQoZmFsc2UsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlZ2lzdGVyZWRWYXVsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBbV0VCU09DS0VUXSBWYXVsdCBhdXRvLXJlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsOiAke3JlZ2lzdGVyZWRWYXVsdC5uYW1lfSAoJHtyZWdpc3RlcmVkVmF1bHQuaWR9KWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignW1dFQlNPQ0tFVF0gVmF1bHQgYXV0by1yZWdpc3RyYXRpb24gZmFpbGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdbV0VCU09DS0VUXSBObyB2YXVsdCByZWdpc3RyeSBzZXJ2aWNlIGF2YWlsYWJsZScpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNsaWVudC5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVNZXNzYWdlKGV2ZW50LmRhdGEpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNsaWVudC5vbmNsb3NlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChjb25uZWN0VGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHVwZGF0ZSB2YXVsdCByZWdpc3RyeSBjb25uZWN0aW9uIHN0YXR1cyBpZiBzdGF0dXMgYWN0dWFsbHkgY2hhbmdlZFxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy52YXVsdFJlZ2lzdHJ5U2VydmljZSAmJiB0aGlzLmxhc3RDb25uZWN0aW9uU3RhdHVzICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlVmF1bHRJZCA9IHRoaXMudmF1bHRSZWdpc3RyeVNlcnZpY2UuZ2V0QWN0aXZlVmF1bHRJZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZVZhdWx0SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlLnVwZGF0ZVZhdWx0Q29ubmVjdGlvbihhY3RpdmVWYXVsdElkLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0Q29ubmVjdGlvblN0YXR1cyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgaW5maW5pdGUgcmV0cnkgaWYgbm90IG1hbnVhbGx5IGNsb3NlZCBhbmQgbm90IGFscmVhZHkgcmV0cnlpbmdcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmNvZGUgIT09IDEwMDAgJiYgdGhpcy5zZXR0aW5ncy53c0VuYWJsZWQgJiYgIXRoaXMuaXNSZXRyeWluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0V2l0aFJldHJ5KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jbGllbnQub25lcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoY29ubmVjdFRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jbGllbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsaWVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFzeW5jIHN0YXJ0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3Mud3NFbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW1dFQlNPQ0tFVF0gU2VydmljZSBkaXNhYmxlZCBpbiBzZXR0aW5ncycpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tXRUJTT0NLRVRdIFNlcnZpY2UgZW5hYmxlZCBpbiBzZXR0aW5ncyAtIGNvbm5lY3RpbmcuLi4nKTtcbiAgICAgICAgdGhpcy5jb25uZWN0KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb25uZWN0KCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuaXNSZXRyeWluZykge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0V2l0aFJldHJ5KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBAcHVycG9zZTogRW5oYW5jZWQgc3RvcCBtZXRob2QgZm9yIGdyYWNlZnVsIHNodXRkb3duIEBkZXBlbmRzOiBub25lIEByZXN1bHRzOiBDbGVhbiBzZXJ2aWNlIHNodXRkb3duXG4gICAgYXN5bmMgc3RvcCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tXRUJTT0NLRVRdIFN0b3BwaW5nIFdlYlNvY2tldCBzZXJ2aWNlJyk7XG4gICAgICAgIHRoaXMuaXNSZXRyeWluZyA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdFRpbWVyKSB7XG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMucmVjb25uZWN0VGltZXIpO1xuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3RUaW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNsaWVudCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tXRUJTT0NLRVRdIENsb3NpbmcgV2ViU29ja2V0IGNvbm5lY3Rpb24nKTtcbiAgICAgICAgICAgIHRoaXMuY2xpZW50LmNsb3NlKDEwMDAsICdDbGllbnQgc2h1dGRvd24nKTtcbiAgICAgICAgICAgIHRoaXMuY2xpZW50ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVjb25uZWN0QXR0ZW1wdHMgPSAwO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2VuZE1lc3NhZ2UobWVzc2FnZTogYW55KTogdm9pZCB7XG4gICAgICAgIC8vIEB2ZXNzZWwtcHJvdG9jb2w6QmFsZHIgZ292ZXJuczpbbG9nZ2luZy1vcHRpbWl6YXRpb25dIGNvbnRleHQ6Q29uc29saWRhdGUgV2ViU29ja2V0IG1lc3NhZ2UgbG9nZ2luZ1xuICAgICAgICBpZiAoIXRoaXMuY2xpZW50KSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignW1dFQlNPQ0tFVF0gRVJST1I6IE5vIFdlYlNvY2tldCBjbGllbnQgaW5zdGFuY2UnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNsaWVudC5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlU3RyID0gSlNPTi5zdHJpbmdpZnkobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFtXRUJTT0NLRVRdIFNlbmRpbmcgbWVzc2FnZSB0eXBlOiAke21lc3NhZ2UudHlwZX1gKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNsaWVudC5zZW5kKG1lc3NhZ2VTdHIpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignW1dFQlNPQ0tFVF0gRVJST1Igc2VuZGluZyBtZXNzYWdlOicsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oYFtXRUJTT0NLRVRdIENhbm5vdCBzZW5kIG1lc3NhZ2UgLSBXZWJTb2NrZXQgbm90IGNvbm5lY3RlZC4gUmVhZHlTdGF0ZTogJHt0aGlzLmNsaWVudC5yZWFkeVN0YXRlfWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHVibGljIG1ldGhvZCB0byBzZW5kIHZhdWx0IHJlZ2lzdHJhdGlvbiBtZXNzYWdlIHRvIE1DUCBzZXJ2ZXJcbiAgICAgKiBDYWxsZWQgYnkgVmF1bHRSZWdpc3RyeVNlcnZpY2Ugd2hlbiBhdXRvLXJlZ2lzdGVyaW5nIHZhdWx0XG4gICAgICovXG4gICAgc2VuZFZhdWx0UmVnaXN0cmF0aW9uKHZhdWx0SW5mbzogeyBuYW1lOiBzdHJpbmc7IHBhdGg6IHN0cmluZzsgaWQ6IHN0cmluZyB9KTogYm9vbGVhbiB7XG4gICAgICAgIGlmICghdGhpcy5jbGllbnQgfHwgdGhpcy5jbGllbnQucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ1tXRUJTT0NLRVRdIENhbm5vdCBzZW5kIHZhdWx0IHJlZ2lzdHJhdGlvbiAtIFdlYlNvY2tldCBub3QgY29ubmVjdGVkJyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZWdpc3RyYXRpb25NZXNzYWdlID0ge1xuICAgICAgICAgICAgdHlwZTogJ3JlZ2lzdGVyJyxcbiAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICB2YXVsdE5hbWU6IHZhdWx0SW5mby5uYW1lLFxuICAgICAgICAgICAgICAgIHZhdWx0UGF0aDogdmF1bHRJbmZvLnBhdGgsXG4gICAgICAgICAgICAgICAgdmF1bHRJZDogdmF1bHRJbmZvLmlkLFxuICAgICAgICAgICAgICAgIHBsdWdpblZlcnNpb246IHRoaXMucGx1Z2luLm1hbmlmZXN0LnZlcnNpb24sXG4gICAgICAgICAgICAgICAgYXV0aFRva2VuOiB0aGlzLnNldHRpbmdzLndzQXV0aFRva2VuXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFtXRUJTT0NLRVRdIFNlbmRpbmcgdmF1bHQgcmVnaXN0cmF0aW9uIHRvIHNlcnZlcjogJHt2YXVsdEluZm8ubmFtZX0gKCR7dmF1bHRJbmZvLmlkfSlgKTtcblxuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHJlZ2lzdHJhdGlvbk1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBXZWJTb2NrZXQgaXMgY3VycmVudGx5IGNvbm5lY3RlZCBhbmQgcmVhZHlcbiAgICAgKi9cbiAgICBpc0Nvbm5lY3RlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xpZW50ICE9PSBudWxsICYmIHRoaXMuY2xpZW50LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaGFuZGxlTWVzc2FnZShkYXRhOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1JlY2VpdmVkIFdlYlNvY2tldCBtZXNzYWdlOicsIG1lc3NhZ2UudHlwZSk7XG5cbiAgICAgICAgICAgIC8vIFJvdXRlIG1lc3NhZ2UgdG8gYXBwcm9wcmlhdGUgaGFuZGxlclxuICAgICAgICAgICAgc3dpdGNoIChtZXNzYWdlLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdjb25uZWN0ZWQnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUNvbm5lY3RlZChtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncmVnaXN0ZXJlZCc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlUmVnaXN0ZXJlZChtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZmlsZTpyZWFkJzpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVGaWxlUmVhZChtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZmlsZTp3cml0ZSc6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlRmlsZVdyaXRlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmaWxlOmNyZWF0ZSc6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlRmlsZUNyZWF0ZShtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZmlsZTpkZWxldGUnOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZUZpbGVEZWxldGUobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ZpbGU6cmVuYW1lJzpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVGaWxlUmVuYW1lKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmaWxlOnNlYXJjaCc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRmlsZVNlYXJjaChtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAndmF1bHQ6bGlzdCc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlVmF1bHRMaXN0KG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd2YXVsdDppbmZvJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVWYXVsdEluZm8obWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3BpbmcnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVBpbmcobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ZvbGRlcjpleHBsb3JlJzpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVGb2xkZXJFeHBsb3JlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmb2xkZXI6Y3JlYXRlJzpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVGb2xkZXJDcmVhdGUobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ZvbGRlcjpyZW5hbWUnOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZUZvbGRlclJlbmFtZShtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZm9sZGVyOmRlbGV0ZSc6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlRm9sZGVyRGVsZXRlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd0ZW1wbGF0ZXI6Y2hlY2snOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZVRlbXBsYXRlckNoZWNrKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmaWxlOmNyZWF0ZV93aXRoX3RlbXBsYXRlJzpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVDcmVhdGVXaXRoVGVtcGxhdGUobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ZpbGU6ZnJvbnRtYXR0ZXJfZWRpdCc6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlRnJvbnRtYXR0ZXJFZGl0KG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmaWxlOmFwcGVuZCc6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlQXBwZW5kRWRpdChtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZmlsZTpyYW5nZV9lZGl0JzpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVSYW5nZUVkaXQobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ZpbGU6ZWRpdG9yX2VkaXQnOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZUVkaXRvckVkaXQobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVVbmtub3duTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdFcnJvciBoYW5kbGluZyBXZWJTb2NrZXQgbWVzc2FnZTonLCBlcnJvcik7XG4gICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdlcnJvcicsICdJbnZhbGlkIG1lc3NhZ2UgZm9ybWF0Jyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGhhbmRsZUZpbGVSZWFkKG1lc3NhZ2U6IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnSGFuZGxpbmcgZmlsZTpyZWFkIHJlcXVlc3QnLCB7IHBhdGg6IG1lc3NhZ2UucGF5bG9hZC5wYXRoIH0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IG1lc3NhZ2UucGF5bG9hZDtcbiAgICAgICAgICAgIGlmICghcGF5bG9hZD8ucGF0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZpbGU6cmVhZDpyZXNwb25zZScsICdNaXNzaW5nIGZpbGUgcGF0aCBwYXJhbWV0ZXInLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlYWQgZmlsZSB1c2luZyBPYnNpZGlhbiBWYXVsdCBBUElcbiAgICAgICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHBheWxvYWQucGF0aCk7XG4gICAgICAgICAgICBpZiAoIWZpbGUgfHwgIShmaWxlIGluc3RhbmNlb2YgVEZpbGUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpyZWFkOnJlc3BvbnNlJywgJ0ZpbGUgbm90IGZvdW5kJywgbWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LnJlYWQoZmlsZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdmaWxlOnJlYWQ6cmVzcG9uc2UnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBjb250ZW50LFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYXlsb2FkLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBjb250ZW50Lmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RNb2RpZmllZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShyZXNwb25zZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmaWxlOnJlYWQ6cmVzcG9uc2UnLCAnRmFpbGVkIHRvIHJlYWQgZmlsZScsIG1lc3NhZ2UuaWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVGaWxlV3JpdGUobWVzc2FnZTogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdIYW5kbGluZyBmaWxlOndyaXRlIHJlcXVlc3QnLCB7IHBhdGg6IG1lc3NhZ2UucGF5bG9hZC5wYXRoIH0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IG1lc3NhZ2UucGF5bG9hZDtcbiAgICAgICAgICAgIGlmICghcGF5bG9hZD8ucGF0aCB8fCBwYXlsb2FkLmNvbnRlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZpbGU6d3JpdGU6cmVzcG9uc2UnLCAnTWlzc2luZyBmaWxlIHBhdGggb3IgY29udGVudCBwYXJhbWV0ZXInLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIExvY2F0ZSB0aGUgZmlsZSB1c2luZyBPYnNpZGlhbiBWYXVsdCBBUElcbiAgICAgICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHBheWxvYWQucGF0aCk7XG4gICAgICAgICAgICBpZiAoIWZpbGUgfHwgIShmaWxlIGluc3RhbmNlb2YgVEZpbGUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTp3cml0ZTpyZXNwb25zZScsICdGaWxlIG5vdCBmb3VuZCcsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gV3JpdGUgdG8gZmlsZSB1c2luZyBPYnNpZGlhbiBWYXVsdCBBUElcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5tb2RpZnkoZmlsZSwgcGF5bG9hZC5jb250ZW50KTtcblxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2ZpbGU6d3JpdGU6cmVzcG9uc2UnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYXlsb2FkLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdGaWxlIHN1Y2Nlc3NmdWxseSB3cml0dGVuJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHJlc3BvbnNlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZpbGU6d3JpdGU6cmVzcG9uc2UnLCAnRmFpbGVkIHRvIHdyaXRlIGZpbGUnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaGFuZGxlRmlsZUNyZWF0ZShtZXNzYWdlOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0hhbmRsaW5nIGZpbGU6Y3JlYXRlIHJlcXVlc3QnLCB7IHBhdGg6IG1lc3NhZ2UucGF5bG9hZC5wYXRoIH0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IG1lc3NhZ2UucGF5bG9hZDtcbiAgICAgICAgICAgIGlmICghcGF5bG9hZD8ucGF0aCB8fCBwYXlsb2FkLmNvbnRlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZpbGU6Y3JlYXRlOnJlc3BvbnNlJywgJ01pc3NpbmcgZmlsZSBwYXRoIG9yIGNvbnRlbnQgcGFyYW1ldGVyJywgbWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDcmVhdGUgZmlsZSB1c2luZyBPYnNpZGlhbiBWYXVsdCBBUElcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5jcmVhdGUocGF5bG9hZC5wYXRoLCBwYXlsb2FkLmNvbnRlbnQpO1xuXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiAnZmlsZTpjcmVhdGU6cmVzcG9uc2UnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYXlsb2FkLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdGaWxlIHN1Y2Nlc3NmdWxseSBjcmVhdGVkJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHJlc3BvbnNlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZpbGU6Y3JlYXRlOnJlc3BvbnNlJywgJ0ZhaWxlZCB0byBjcmVhdGUgZmlsZScsIG1lc3NhZ2UuaWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVGaWxlRGVsZXRlKG1lc3NhZ2U6IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnSGFuZGxpbmcgZmlsZTpkZWxldGUgcmVxdWVzdCcsIHsgcGF0aDogbWVzc2FnZS5wYXlsb2FkLnBhdGggfSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gbWVzc2FnZS5wYXlsb2FkO1xuICAgICAgICAgICAgaWYgKCFwYXlsb2FkPy5wYXRoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpkZWxldGU6cmVzcG9uc2UnLCAnTWlzc2luZyBmaWxlIHBhdGggcGFyYW1ldGVyJywgbWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBmaWxlID0gdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChwYXlsb2FkLnBhdGgpO1xuICAgICAgICAgICAgaWYgKCFmaWxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpkZWxldGU6cmVzcG9uc2UnLCAnRmlsZSBub3QgZm91bmQnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5kZWxldGUoZmlsZSwgZmFsc2UpO1xuXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiAnZmlsZTpkZWxldGU6cmVzcG9uc2UnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYXlsb2FkLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdGaWxlIHN1Y2Nlc3NmdWxseSBkZWxldGVkJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHJlc3BvbnNlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZpbGU6ZGVsZXRlOnJlc3BvbnNlJywgJ0ZhaWxlZCB0byBkZWxldGUgZmlsZScsIG1lc3NhZ2UuaWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVGaWxlUmVuYW1lKG1lc3NhZ2U6IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnSGFuZGxpbmcgZmlsZTpyZW5hbWUgcmVxdWVzdCcsIHsgb2xkUGF0aDogbWVzc2FnZS5wYXlsb2FkLnBhdGgsIG5ld1BhdGg6IG1lc3NhZ2UucGF5bG9hZC5uZXdQYXRoIH0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IG1lc3NhZ2UucGF5bG9hZDtcbiAgICAgICAgICAgIGlmICghcGF5bG9hZD8ucGF0aCB8fCAhcGF5bG9hZD8ubmV3UGF0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZpbGU6cmVuYW1lOnJlc3BvbnNlJywgJ01pc3NpbmcgZmlsZSBwYXRoIG9yIG5ld1BhdGggcGFyYW1ldGVyJywgbWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBmaWxlID0gdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChwYXlsb2FkLnBhdGgpO1xuICAgICAgICAgICAgaWYgKCFmaWxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpyZW5hbWU6cmVzcG9uc2UnLCAnRmlsZSBub3QgZm91bmQnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFwcC5maWxlTWFuYWdlci5yZW5hbWVGaWxlKGZpbGUsIHBheWxvYWQubmV3UGF0aCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdmaWxlOnJlbmFtZTpyZXNwb25zZScsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgIG9sZFBhdGg6IHBheWxvYWQucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgbmV3UGF0aDogcGF5bG9hZC5uZXdQYXRoLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRmlsZSBzdWNjZXNzZnVsbHkgcmVuYW1lZCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShyZXNwb25zZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmaWxlOnJlbmFtZTpyZXNwb25zZScsICdGYWlsZWQgdG8gcmVuYW1lIGZpbGUnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaGFuZGxlRmlsZVNlYXJjaChtZXNzYWdlOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gQHZlc3NlbC1wcm90b2NvbDpVbGxyIGdvdmVybnM6W3NlYXJjaC1lbmhhbmNlbWVudHxmZWF0dXJlXSBjb250ZXh0OkV4dGVuZCBmaWxlIHNlYXJjaCB0byBzdXBwb3J0IGZpbGVuYW1lL2NvbnRlbnQvYm90aCB3aXRoIGNvbnRleHQgc25pcHBldHNcbiAgICAgICAgLy8gQGludGVyLWRlcGVuZGVuY2llczogW3ByZXBhcmVTaW1wbGVTZWFyY2gsIHZhdWx0LmNhY2hlZFJlYWQsIEdyYXBoaXRpTG9nZ2VyXVxuICAgICAgICAvLyBAcHVycG9zZTogUHJvdmlkZSBmdWxsLXRleHQgYW5kIGZpbGVuYW1lIHNlYXJjaCB0byBNQ1AgY2xpZW50cyB3aXRoIHNjb3JpbmcgYW5kIGNvbnRleHRcbiAgICAgICAgLy8gQHJlc3VsdDogTUNQIHNlYXJjaCB0b29sIHJldHVybnMgcmFua2VkIHJlc3VsdHMgd2l0aCBvcHRpb25hbCBjb250ZXh0IHNuaXBwZXRzXG4gICAgICAgIC8vIEBzaWduZWQ6IEMuQmrDuHJuXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbV0VCU09DS0VUXSBIYW5kbGluZyBmaWxlOnNlYXJjaCByZXF1ZXN0JywgeyBxdWVyeTogbWVzc2FnZS5wYXlsb2FkPy5xdWVyeSB9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBtZXNzYWdlLnBheWxvYWQgfHwge307XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9IChwYXlsb2FkLnF1ZXJ5IHx8ICcnKS50b1N0cmluZygpO1xuICAgICAgICAgICAgaWYgKCFxdWVyeSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZpbGU6c2VhcmNoOnJlc3BvbnNlJywgJ01pc3Npbmcgc2VhcmNoIHF1ZXJ5IHBhcmFtZXRlcicsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTmV3IHBhcmFtZXRlcnMgd2l0aCBzZW5zaWJsZSBkZWZhdWx0c1xuICAgICAgICAgICAgY29uc3Qgc2VhcmNoTW9kZSA9IChwYXlsb2FkLnNlYXJjaF9tb2RlIHx8IHBheWxvYWQuc2VhcmNoTW9kZSB8fCAnYm90aCcpLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKTsgLy8gZmlsZW5hbWUgfCBjb250ZW50IHwgYm90aFxuICAgICAgICAgICAgY29uc3QgbWF4UmVzdWx0cyA9IE51bWJlcihwYXlsb2FkLm1heF9yZXN1bHRzID8/IHBheWxvYWQubWF4UmVzdWx0cyA/PyAxMDApO1xuICAgICAgICAgICAgY29uc3QgaW5jbHVkZUNvbnRleHQgPSBwYXlsb2FkLmluY2x1ZGVfY29udGV4dCAhPT0gdW5kZWZpbmVkID8gQm9vbGVhbihwYXlsb2FkLmluY2x1ZGVfY29udGV4dCkgOiAocGF5bG9hZC5pbmNsdWRlQ29udGV4dCAhPT0gdW5kZWZpbmVkID8gQm9vbGVhbihwYXlsb2FkLmluY2x1ZGVDb250ZXh0KSA6IHRydWUpO1xuICAgICAgICAgICAgY29uc3QgY29udGV4dFJhZGl1cyA9IE51bWJlcihwYXlsb2FkLmNvbnRleHRSYWRpdXMgPz8gNTApO1xuXG4gICAgICAgICAgICAvLyBWYWxpZGF0ZSBzZWFyY2hNb2RlXG4gICAgICAgICAgICBjb25zdCB2YWxpZE1vZGVzID0gbmV3IFNldChbJ2ZpbGVuYW1lJywgJ2NvbnRlbnQnLCAnYm90aCddKTtcbiAgICAgICAgICAgIGNvbnN0IG1vZGUgPSB2YWxpZE1vZGVzLmhhcyhzZWFyY2hNb2RlKSA/IHNlYXJjaE1vZGUgOiAnYm90aCc7XG5cbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbV0VCU09DS0VUXSBTZWFyY2ggcGFyYW1ldGVycycsIHsgcXVlcnksIG1vZGUsIG1heFJlc3VsdHMsIGluY2x1ZGVDb250ZXh0IH0pO1xuXG4gICAgICAgICAgICBjb25zdCByZXN1bHRzOiBhbnlbXSA9IFtdO1xuICAgICAgICAgICAgY29uc3QgYWxsRmlsZXMgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xuXG4gICAgICAgICAgICAvLyBQaGFzZSAxOiBGaWxlbmFtZSBzZWFyY2hcbiAgICAgICAgICAgIGlmIChtb2RlID09PSAnZmlsZW5hbWUnIHx8IG1vZGUgPT09ICdib3RoJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHFMb3dlciA9IHF1ZXJ5LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZW5hbWVNYXRjaGVzID0gYWxsRmlsZXMuZmlsdGVyKGYgPT5cbiAgICAgICAgICAgICAgICAgICAgZi5wYXRoLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocUxvd2VyKSB8fFxuICAgICAgICAgICAgICAgICAgICBmLmJhc2VuYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocUxvd2VyKVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZW5hbWVNYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBmaWxlLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBmaWxlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlbmFtZTogZmlsZS5iYXNlbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbjogZmlsZS5leHRlbnNpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFR5cGU6ICdmaWxlbmFtZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29yZTogMTAwXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+PSBtYXhSZXN1bHRzICYmIG1vZGUgPT09ICdmaWxlbmFtZScpIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUGhhc2UgMjogQ29udGVudCBzZWFyY2hcbiAgICAgICAgICAgIGlmIChtb2RlID09PSAnY29udGVudCcgfHwgbW9kZSA9PT0gJ2JvdGgnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nID0gTWF0aC5tYXgoMCwgbWF4UmVzdWx0cyAtIHJlc3VsdHMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBpZiAocmVtYWluaW5nID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBVc2UgT2JzaWRpYW4ncyBzaW1wbGUgc2VhcmNoIGhlbHBlciB3aGVuIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICBsZXQgc2VhcmNoRm46ICgodGV4dDogc3RyaW5nKSA9PiBhbnkpIHwgbnVsbCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlIC0gcHJlcGFyZVNpbXBsZVNlYXJjaCBleGlzdHMgaW4gT2JzaWRpYW4gQVBJXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hGbiA9ICh3aW5kb3cgYXMgYW55KS5wcmVwYXJlU2ltcGxlU2VhcmNoID8gKHdpbmRvdyBhcyBhbnkpLnByZXBhcmVTaW1wbGVTZWFyY2gocXVlcnkpIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgcHJlcGFyZVNpbXBsZVNlYXJjaCBub3QgYXZhaWxhYmxlLCBmYWxsIGJhY2sgdG8gYmFzaWMgaW5jbHVkZXMtYmFzZWQgbWF0Y2hpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaEZuID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkZGVkUGF0aHMgPSBuZXcgU2V0KHJlc3VsdHMubWFwKHIgPT4gci5wYXRoKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGFsbEZpbGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWRkZWRQYXRocy5oYXMoZmlsZS5wYXRoKSkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIGNhY2hlZFJlYWQgZm9yIHBlcmZvcm1hbmNlIHdoZXJlIHBvc3NpYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgY2FjaGVkUmVhZCBleGlzdHMgb24gdmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gdHlwZW9mIHRoaXMucGx1Z2luLmFwcC52YXVsdC5jYWNoZWRSZWFkID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYXdhaXQgKHRoaXMucGx1Z2luLmFwcC52YXVsdCBhcyBhbnkpLmNhY2hlZFJlYWQoZmlsZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQucmVhZChmaWxlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXRjaGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNjb3JlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWF0Y2hlczogQXJyYXk8W251bWJlciwgbnVtYmVyXT4gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VhcmNoRm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlYXJjaFJlc3VsdCA9IHNlYXJjaEZuKGNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlYXJjaFJlc3VsdCAmJiBzZWFyY2hSZXN1bHQuc2NvcmUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmUgPSBOdW1iZXIoc2VhcmNoUmVzdWx0LnNjb3JlKSB8fCAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWFyY2hSZXN1bHQubWF0Y2hlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVzID0gQXJyYXkuaXNBcnJheShzZWFyY2hSZXN1bHQubWF0Y2hlcykgPyBzZWFyY2hSZXN1bHQubWF0Y2hlcyA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ1tXRUJTT0NLRVRdIHByZXBhcmVTaW1wbGVTZWFyY2ggZmFpbGVkLCBmYWxsaW5nIGJhY2snLCB7IGZpbGU6IGZpbGUucGF0aCwgZXJyb3I6IGUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1hdGNoZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQgJiYgY29udGVudC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHF1ZXJ5LnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlID0gMTA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtOiBhbnkgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBmaWxlLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBmaWxlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlbmFtZTogZmlsZS5iYXNlbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbjogZmlsZS5leHRlbnNpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFR5cGU6ICdjb250ZW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlOiBzY29yZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmNsdWRlQ29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZXh0TWF0Y2hlcyA9IHRoaXMuZXh0cmFjdENvbnRleHRGcm9tTWF0Y2hlcyhjb250ZW50LCBtYXRjaGVzIHx8IHRoaXMuX2ZpbmRBbGxNYXRjaGVzKGNvbnRlbnQsIHF1ZXJ5KSwgcXVlcnksIGNvbnRleHRSYWRpdXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZXh0TWF0Y2hlcyAmJiBjb250ZXh0TWF0Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5tYXRjaGVzID0gY29udGV4dE1hdGNoZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ1tXRUJTT0NLRVRdIENvbnRleHQgZXh0cmFjdGlvbiBmYWlsZWQnLCB7IGZpbGU6IGZpbGUucGF0aCwgZXJyb3I6IGUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZGVkUGF0aHMuYWRkKGZpbGUucGF0aCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoID49IG1heFJlc3VsdHMpIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignW1dFQlNPQ0tFVF0gRmFpbGVkIHRvIHNlYXJjaCBjb250ZW50IG9mIGZpbGUnLCB7IHBhdGg6IGZpbGUucGF0aCwgZXJyb3IgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNvcnQgcmVzdWx0cyBieSBzY29yZSBkZXNjLCB0aGVuIGZpbGVuYW1lIG1hdGNoIGZpcnN0IGZvciBlcXVhbCBzY29yZXNcbiAgICAgICAgICAgIHJlc3VsdHMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNhID0gTnVtYmVyKGEuc2NvcmUgfHwgMCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2IgPSBOdW1iZXIoYi5zY29yZSB8fCAwKTtcbiAgICAgICAgICAgICAgICBpZiAoc2IgIT09IHNhKSByZXR1cm4gc2IgLSBzYTtcbiAgICAgICAgICAgICAgICBpZiAoYS5tYXRjaFR5cGUgPT09ICdmaWxlbmFtZScgJiYgYi5tYXRjaFR5cGUgIT09ICdmaWxlbmFtZScpIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICBpZiAoYi5tYXRjaFR5cGUgPT09ICdmaWxlbmFtZScgJiYgYS5tYXRjaFR5cGUgIT09ICdmaWxlbmFtZScpIHJldHVybiAxO1xuICAgICAgICAgICAgICAgIHJldHVybiBhLnBhdGgubG9jYWxlQ29tcGFyZShiLnBhdGgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdmaWxlOnNlYXJjaDpyZXNwb25zZScsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHM6IHJlc3VsdHMuc2xpY2UoMCwgbWF4UmVzdWx0cyksXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsUmVzdWx0czogcmVzdWx0cy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeSxcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoTW9kZTogbW9kZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UocmVzcG9uc2UpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1tXRUJTT0NLRVRdIGZpbGU6c2VhcmNoIGhhbmRsZXIgZXJyb3InLCB7IGVycm9yIH0pO1xuICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpzZWFyY2g6cmVzcG9uc2UnLCAnRmFpbGVkIHRvIHNlYXJjaCBmaWxlcycsIG1lc3NhZ2UuaWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGVscGVyOiBmYWxsYmFjayBzaW1wbGUgbWF0Y2ggZmluZGVyIHJldHVybmluZyBhcnJheSBvZiBbc3RhcnQsZW5kXSByYW5nZXNcbiAgICAgKi9cbiAgICBwcml2YXRlIF9maW5kQWxsTWF0Y2hlcyhjb250ZW50OiBzdHJpbmcsIHF1ZXJ5OiBzdHJpbmcpOiBBcnJheTxbbnVtYmVyLCBudW1iZXJdPiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHM6IEFycmF5PFtudW1iZXIsIG51bWJlcl0+ID0gW107XG4gICAgICAgIGlmICghY29udGVudCB8fCAhcXVlcnkpIHJldHVybiByZXN1bHRzO1xuICAgICAgICBjb25zdCBsb3dlciA9IGNvbnRlbnQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY29uc3QgcSA9IHF1ZXJ5LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGxldCBpZHggPSAwO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgY29uc3QgZm91bmQgPSBsb3dlci5pbmRleE9mKHEsIGlkeCk7XG4gICAgICAgICAgICBpZiAoZm91bmQgPT09IC0xKSBicmVhaztcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChbZm91bmQsIGZvdW5kICsgcS5sZW5ndGhdKTtcbiAgICAgICAgICAgIGlkeCA9IGZvdW5kICsgcS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdCBjb250ZXh0IHNuaXBwZXRzIGZyb20gc2VhcmNoIG1hdGNoZXNcbiAgICAgKi9cbiAgICBwcml2YXRlIGV4dHJhY3RDb250ZXh0RnJvbU1hdGNoZXMoXG4gICAgICAgIGNvbnRlbnQ6IHN0cmluZyxcbiAgICAgICAgbWF0Y2hlczogQXJyYXk8W251bWJlciwgbnVtYmVyXT4sXG4gICAgICAgIHF1ZXJ5OiBzdHJpbmcsXG4gICAgICAgIGNvbnRleHRSYWRpdXM6IG51bWJlciA9IDUwXG4gICAgKTogQXJyYXk8eyBsaW5lOiBudW1iZXIsIHRleHQ6IHN0cmluZywgaGlnaGxpZ2h0OiBzdHJpbmcgfT4ge1xuICAgICAgICBjb25zdCBsaW5lcyA9IChjb250ZW50IHx8ICcnKS5zcGxpdCgnXFxuJyk7XG4gICAgICAgIGNvbnN0IGNvbnRleHRSZXN1bHRzOiBBcnJheTx7IGxpbmU6IG51bWJlciwgdGV4dDogc3RyaW5nLCBoaWdobGlnaHQ6IHN0cmluZyB9PiA9IFtdO1xuICAgICAgICBjb25zdCBhZGRlZExpbmVzID0gbmV3IFNldDxudW1iZXI+KCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBbc3RhcnQsIGVuZF0gb2YgbWF0Y2hlcykge1xuICAgICAgICAgICAgLy8gRmluZCBsaW5lIGNvbnRhaW5pbmcgbWF0Y2hcbiAgICAgICAgICAgIGxldCBjaGFyQ291bnQgPSAwO1xuICAgICAgICAgICAgbGV0IGxpbmVOdW0gPSAwO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVMZW5ndGggPSBsaW5lc1tpXS5sZW5ndGggKyAxOyAvLyBpbmNsdWRlIG5ld2xpbmVcbiAgICAgICAgICAgICAgICBpZiAoY2hhckNvdW50ICsgbGluZUxlbmd0aCA+IHN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVOdW0gPSBpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2hhckNvdW50ICs9IGxpbmVMZW5ndGg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhZGRlZExpbmVzLmhhcyhsaW5lTnVtKSkgY29udGludWU7XG4gICAgICAgICAgICBhZGRlZExpbmVzLmFkZChsaW5lTnVtKTtcblxuICAgICAgICAgICAgY29uc3QgbGluZSA9IGxpbmVzW2xpbmVOdW1dIHx8ICcnO1xuICAgICAgICAgICAgY29uc3QgbGluZVN0YXJ0ID0gY2hhckNvdW50O1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hTdGFydEluTGluZSA9IE1hdGgubWF4KDAsIHN0YXJ0IC0gbGluZVN0YXJ0KTtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoRW5kSW5MaW5lID0gTWF0aC5taW4obGluZS5sZW5ndGgsIGVuZCAtIGxpbmVTdGFydCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHRTdGFydCA9IE1hdGgubWF4KDAsIG1hdGNoU3RhcnRJbkxpbmUgLSBjb250ZXh0UmFkaXVzKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHRFbmQgPSBNYXRoLm1pbihsaW5lLmxlbmd0aCwgbWF0Y2hFbmRJbkxpbmUgKyBjb250ZXh0UmFkaXVzKTtcblxuICAgICAgICAgICAgbGV0IGNvbnRleHRUZXh0ID0gbGluZS5zdWJzdHJpbmcoY29udGV4dFN0YXJ0LCBjb250ZXh0RW5kKTtcbiAgICAgICAgICAgIGlmIChjb250ZXh0U3RhcnQgPiAwKSBjb250ZXh0VGV4dCA9ICcuLi4nICsgY29udGV4dFRleHQ7XG4gICAgICAgICAgICBpZiAoY29udGV4dEVuZCA8IGxpbmUubGVuZ3RoKSBjb250ZXh0VGV4dCA9IGNvbnRleHRUZXh0ICsgJy4uLic7XG5cbiAgICAgICAgICAgIGNvbnRleHRSZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICAgIGxpbmU6IGxpbmVOdW0gKyAxLFxuICAgICAgICAgICAgICAgIHRleHQ6IGNvbnRleHRUZXh0LnRyaW0oKSxcbiAgICAgICAgICAgICAgICBoaWdobGlnaHQ6IGxpbmUuc3Vic3RyaW5nKG1hdGNoU3RhcnRJbkxpbmUsIG1hdGNoRW5kSW5MaW5lKVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChjb250ZXh0UmVzdWx0cy5sZW5ndGggPj0gNSkgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29udGV4dFJlc3VsdHM7XG4gICAgfVxuXG4vLyBAdmVzc2VsLWNsb3NlOlVsbHJcblxuICAgIHByaXZhdGUgaGFuZGxlVmF1bHRMaXN0KG1lc3NhZ2U6IGFueSk6IHZvaWQge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnSGFuZGxpbmcgdmF1bHQ6bGlzdCByZXF1ZXN0Jyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB2YXVsdHMgPSB0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlPy5nZXRBbGxWYXVsdHMoKSB8fCBbXTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6ICd2YXVsdDpsaXN0OnJlc3BvbnNlJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdmF1bHRzOiB2YXVsdHMsXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsVmF1bHRzOiB2YXVsdHMubGVuZ3RoXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UocmVzcG9uc2UpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgndmF1bHQ6bGlzdDpyZXNwb25zZScsICdGYWlsZWQgdG8gbGlzdCB2YXVsdHMnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlVmF1bHRJbmZvKG1lc3NhZ2U6IGFueSk6IHZvaWQge1xuICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdIYW5kbGluZyB2YXVsdDppbmZvIHJlcXVlc3QnLCB7IHZhdWx0SWQ6IG1lc3NhZ2UucGF5bG9hZC52YXVsdElkIH0pO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHZhdWx0SWQgPSBtZXNzYWdlLnBheWxvYWQ/LnZhdWx0SWQgfHwgdGhpcy52YXVsdFJlZ2lzdHJ5U2VydmljZT8uZ2V0QWN0aXZlVmF1bHRJZCgpIHx8IHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXROYW1lKCk7XG4gICAgICAgIGNvbnN0IHZhdWx0SW5mbyA9IHtcbiAgICAgICAgICAgIGlkOiB2YXVsdElkLFxuICAgICAgICAgICAgbmFtZTogdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmdldE5hbWUoKSxcbiAgICAgICAgICAgIHBhdGg6ICh0aGlzLnBsdWdpbi5hcHAudmF1bHQuYWRhcHRlciBhcyBhbnkpLmJhc2VQYXRoIHx8ICcnLFxuICAgICAgICAgICAgZmlsZXM6IHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCkubGVuZ3RoXG4gICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6ICd2YXVsdDppbmZvOnJlc3BvbnNlJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHZhdWx0SW5mb1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UocmVzcG9uc2UpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgndmF1bHQ6aW5mbzpyZXNwb25zZScsICdGYWlsZWQgdG8gZ2V0IHZhdWx0IGluZm8nLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlUGluZyhtZXNzYWdlOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0hhbmRsaW5nIHBpbmcgcmVxdWVzdCcpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgdHlwZTogJ3BvbmcnLFxuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgIHZhdWx0TmFtZTogdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmdldE5hbWUoKSxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiB0aGlzLnBsdWdpbi5tYW5pZmVzdC52ZXJzaW9uLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UocmVzcG9uc2UpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlRXJyb3IobWVzc2FnZTogYW55KTogdm9pZCB7XG4gICAgICAgIGlmICghbWVzc2FnZSB8fCAhbWVzc2FnZS5wYXlsb2FkKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignUmVjZWl2ZWQgbWFsZm9ybWVkIGVycm9yIG1lc3NhZ2UgZnJvbSBzZXJ2ZXInLCBtZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdSZWNlaXZlZCBlcnJvciBtZXNzYWdlIGZyb20gc2VydmVyJywgeyBlcnJvcjogbWVzc2FnZS5wYXlsb2FkLmVycm9yIH0pO1xuXG4gICAgICAgIC8vIEV4dHJhY3QgZXJyb3IgZGV0YWlscyBmcm9tIHRoZSBtZXNzYWdlXG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IG1lc3NhZ2UuZXJyb3IgfHwgbWVzc2FnZS5wYXlsb2FkPy5lcnJvciB8fCAnVW5rbm93biBlcnJvciBmcm9tIHNlcnZlcic7XG4gICAgICAgIGNvbnN0IGVycm9yQ29kZSA9IG1lc3NhZ2UuZXJyb3JDb2RlIHx8IG1lc3NhZ2UucGF5bG9hZD8uZXJyb3JDb2RlIHx8ICdVTktOT1dOX0VSUk9SJztcbiAgICAgICAgY29uc3QgbWVzc2FnZUlkID0gbWVzc2FnZS5pZCB8fCAnbm8taWQnO1xuXG4gICAgICAgIC8vIExvZyB0aGUgZXJyb3Igd2l0aCBmdWxsIGNvbnRleHRcbiAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoYFdlYlNvY2tldCBzZXJ2ZXIgZXJyb3IgKElEOiAke21lc3NhZ2VJZH0sIENvZGU6ICR7ZXJyb3JDb2RlfSk6ICR7ZXJyb3JNZXNzYWdlfWAsIG1lc3NhZ2UpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlVW5rbm93bk1lc3NhZ2UobWVzc2FnZTogYW55KTogdm9pZCB7XG4gICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ1JlY2VpdmVkIHVua25vd24gbWVzc2FnZSB0eXBlOicsIG1lc3NhZ2UudHlwZSk7XG4gICAgICAgIC8vIERvIG5vdCBzZW5kIGFuIGVycm9yIHJlc3BvbnNlIGZvciB1bmtub3duIHR5cGVzIHRvIHByZXZlbnQgbG9vcHMuXG4gICAgICAgIC8vIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2Vycm9yJywgYFVua25vd24gbWVzc2FnZSB0eXBlOiAke21lc3NhZ2UudHlwZX1gLCBtZXNzYWdlLmlkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVyIGZvciBmb2xkZXIgZXhwbG9yYXRpb24gcmVxdWVzdHMgY29taW5nIGZyb20gTUNQIHNlcnZlci5cbiAgICAgKiBCcmlkZ2VzIHRvIHBsdWdpbi1sZXZlbCBoZWxwZXIgKGlmIGF2YWlsYWJsZSkgYnkgY2FsbGluZyB0aGUgcGx1Z2luJ3MgZXhwbG9yZSBoYW5kbGVyLlxuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgaGFuZGxlRm9sZGVyRXhwbG9yZShtZXNzYWdlOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdIYW5kbGluZyBmb2xkZXI6ZXhwbG9yZSByZXF1ZXN0JywgeyBwYXlsb2FkOiBtZXNzYWdlLnBheWxvYWQgfSk7XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gbWVzc2FnZS5wYXlsb2FkIHx8IHt9O1xuICAgICAgICAgICAgLy8gSWYgcGx1Z2luIGV4cG9zZXMgYSBoYW5kbGVyIChHcmFwaGl0aVBsdWdpbi5leHBsb3JlVmF1bHRGb2xkZXJzSGFuZGxlciAvIHJlZ2lzdGVyTWNwVG9vbHMpLFxuICAgICAgICAgICAgLy8gcHJlZmVyIGNhbGxpbmcgdGhhdCB0byByZXVzZSBsb2dpYyBpbXBsZW1lbnRlZCBpbiBzcmMvbWFpbi50cy5cbiAgICAgICAgICAgIC8vIERlZmVuc2l2ZTogY29uZmlybSBzaGFwZXMgYmVmb3JlIGNhbGxpbmcuXG4gICAgICAgICAgICBjb25zdCBwbHVnaW5Bbnk6IGFueSA9ICh0aGlzLnBsdWdpbiBhcyBhbnkpO1xuICAgICAgICAgICAgaWYgKHBsdWdpbkFueSAmJiB0eXBlb2YgcGx1Z2luQW55LmV4cGxvcmVWYXVsdEZvbGRlcnNIYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2FsbCBwbHVnaW4gaGFuZGxlciBkaXJlY3RseSBhbmQgZm9yd2FyZCByZXNwb25zZVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBsdWdpbkFueS5leHBsb3JlVmF1bHRGb2xkZXJzSGFuZGxlcih7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBwYXlsb2FkLnF1ZXJ5LFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYXlsb2FkLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIGRlcHRoOiB0eXBlb2YgcGF5bG9hZC5kZXB0aCA9PT0gJ251bWJlcicgPyBwYXlsb2FkLmRlcHRoIDogLTEsXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogcGF5bG9hZC5mb3JtYXQgfHwgJ3NtYXJ0J1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZvbGRlcjpleHBsb3JlOnJlc3BvbnNlJyxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHJlc3VsdFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRmFsbGJhY2s6IHBlcmZvcm0gbWluaW1hbCBleHBsb3JhdGlvbiB1c2luZyBWYXVsdCBBUElzIGhlcmVcbiAgICAgICAgICAgIGNvbnN0IHJvb3QgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0Um9vdCgpIGFzIGFueTtcbiAgICAgICAgICAgIGlmICghcm9vdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZvbGRlcjpleHBsb3JlOnJlc3BvbnNlJywgJ1ZhdWx0IHJvb3Qgbm90IGF2YWlsYWJsZScsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNpbXBsZSBmYWxsYmFjazogbGlzdCB0b3AtbGV2ZWwgZm9sZGVyc1xuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSAocm9vdC5jaGlsZHJlbiB8fCBbXSkuZmlsdGVyKChjOiBhbnkpID0+IGMgJiYgYy5jb25zdHJ1Y3RvciAmJiBjLmNvbnN0cnVjdG9yLm5hbWUgPT09ICdURm9sZGVyJykubWFwKChmOiBhbnkpID0+ICh7XG4gICAgICAgICAgICAgICAgcGF0aDogZi5wYXRoLFxuICAgICAgICAgICAgICAgIG5hbWU6IGYubmFtZVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgY29uc3QgZmFsbGJhY2tSZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiAnZm9sZGVyOmV4cGxvcmU6cmVzcG9uc2UnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRzOiBjaGlsZHJlbixcbiAgICAgICAgICAgICAgICAgICAgdG90YWxGb2xkZXJzOiBjaGlsZHJlbi5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIHNlYXJjaFF1ZXJ5OiBwYXlsb2FkLnF1ZXJ5IHx8IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogcGF5bG9hZC5mb3JtYXQgfHwgJ2ZsYXQnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoZmFsbGJhY2tSZXNwb25zZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignW1dFQlNPQ0tFVF0gZm9sZGVyOmV4cGxvcmUgaGFuZGxlciBlcnJvcicsIHsgZXJyb3IgfSk7XG4gICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmb2xkZXI6ZXhwbG9yZTpyZXNwb25zZScsICdGYWlsZWQgdG8gZXhwbG9yZSBmb2xkZXJzJywgbWVzc2FnZS5pZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBAdmVzc2VsLXByb3RvY29sOlR5ciBnb3Zlcm5zOltmb2xkZXItbWFuYWdlbWVudHxmZWF0dXJlXSBjb250ZXh0OlVuaWZpZWQgZm9sZGVyIG9wZXJhdGlvbnMgZm9yIE1DUCBjbGllbnRzIHZpYSBXZWJTb2NrZXQgY29tbXVuaWNhdGlvblxuICAgIC8vIEBpbnRlci1kZXBlbmRlbmNpZXM6IFtPYnNpZGlhbiBURm9sZGVyIEFQSSwgbm9ybWFsaXplUGF0aCwgR3JhcGhpdGlMb2dnZXJdXG4gICAgLy8gQHB1cnBvc2U6IEVuYWJsZSBNQ1AgY2xpZW50cyB0byBjcmVhdGUsIHJlbmFtZSwgYW5kIGRlbGV0ZSBmb2xkZXJzIGluIE9ic2lkaWFuIHZhdWx0c1xuICAgIC8vIEByZXN1bHQ6IENvbXBsZXRlIGZvbGRlciBtYW5hZ2VtZW50IGZ1bmN0aW9uYWxpdHkgYWNjZXNzaWJsZSB0aHJvdWdoIE1DUCB0b29sc1xuICAgIC8vIEBzaWduZWQ6IEMuQmrDuHJuXG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVyIGZvciBmb2xkZXIgY3JlYXRpb24gcmVxdWVzdHMgZnJvbSBNQ1Agc2VydmVyXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVGb2xkZXJDcmVhdGUobWVzc2FnZTogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbV0VCU09DS0VUXSBIYW5kbGluZyBmb2xkZXI6Y3JlYXRlIHJlcXVlc3QnLCB7IHBheWxvYWQ6IG1lc3NhZ2UucGF5bG9hZCB9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBtZXNzYWdlLnBheWxvYWQgfHwge307XG4gICAgICAgICAgICBjb25zdCBmb2xkZXJQYXRoID0gcGF5bG9hZC5mb2xkZXJQYXRoIHx8IHBheWxvYWQucGF0aDtcblxuICAgICAgICAgICAgaWYgKCFmb2xkZXJQYXRoIHx8IHR5cGVvZiBmb2xkZXJQYXRoICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZvbGRlcjpjcmVhdGU6cmVzcG9uc2UnLCAnTWlzc2luZyBvciBpbnZhbGlkIGZvbGRlciBwYXRoIHBhcmFtZXRlcicsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTm9ybWFsaXplIHRoZSBmb2xkZXIgcGF0aFxuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZFBhdGggPSBub3JtYWxpemVQYXRoKGZvbGRlclBhdGgudHJpbSgpKTtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZm9sZGVyIGFscmVhZHkgZXhpc3RzXG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ0ZvbGRlciA9IHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgobm9ybWFsaXplZFBhdGgpO1xuICAgICAgICAgICAgaWYgKGV4aXN0aW5nRm9sZGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZm9sZGVyOmNyZWF0ZTpyZXNwb25zZScsICdGb2xkZXIgYWxyZWFkeSBleGlzdHMnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgZm9sZGVyIHVzaW5nIE9ic2lkaWFuIFZhdWx0IEFQSVxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmNyZWF0ZUZvbGRlcihub3JtYWxpemVkUGF0aCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdmb2xkZXI6Y3JlYXRlOnJlc3BvbnNlJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogbm9ybWFsaXplZFBhdGgsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdGb2xkZXIgc3VjY2Vzc2Z1bGx5IGNyZWF0ZWQnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UocmVzcG9uc2UpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1tXRUJTT0NLRVRdIGZvbGRlcjpjcmVhdGUgaGFuZGxlciBlcnJvcicsIHsgZXJyb3IgfSk7XG4gICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmb2xkZXI6Y3JlYXRlOnJlc3BvbnNlJywgJ0ZhaWxlZCB0byBjcmVhdGUgZm9sZGVyJywgbWVzc2FnZS5pZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVyIGZvciBmb2xkZXIgcmVuYW1lL21vdmUgcmVxdWVzdHMgZnJvbSBNQ1Agc2VydmVyXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVGb2xkZXJSZW5hbWUobWVzc2FnZTogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbV0VCU09DS0VUXSBIYW5kbGluZyBmb2xkZXI6cmVuYW1lIHJlcXVlc3QnLCB7IHBheWxvYWQ6IG1lc3NhZ2UucGF5bG9hZCB9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBtZXNzYWdlLnBheWxvYWQgfHwge307XG4gICAgICAgICAgICBjb25zdCBvbGRQYXRoID0gcGF5bG9hZC5vbGRQYXRoIHx8IHBheWxvYWQuc291cmNlUGF0aDtcbiAgICAgICAgICAgIGNvbnN0IG5ld1BhdGggPSBwYXlsb2FkLm5ld1BhdGggfHwgcGF5bG9hZC50YXJnZXRQYXRoO1xuXG4gICAgICAgICAgICBpZiAoIW9sZFBhdGggfHwgdHlwZW9mIG9sZFBhdGggIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZm9sZGVyOnJlbmFtZTpyZXNwb25zZScsICdNaXNzaW5nIG9yIGludmFsaWQgb2xkUGF0aCBwYXJhbWV0ZXInLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghbmV3UGF0aCB8fCB0eXBlb2YgbmV3UGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmb2xkZXI6cmVuYW1lOnJlc3BvbnNlJywgJ01pc3Npbmcgb3IgaW52YWxpZCBuZXdQYXRoIHBhcmFtZXRlcicsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTm9ybWFsaXplIHBhdGhzXG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkT2xkUGF0aCA9IG5vcm1hbGl6ZVBhdGgob2xkUGF0aC50cmltKCkpO1xuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZE5ld1BhdGggPSBub3JtYWxpemVQYXRoKG5ld1BhdGgudHJpbSgpKTtcblxuICAgICAgICAgICAgLy8gRmluZCB0aGUgZXhpc3RpbmcgZm9sZGVyXG4gICAgICAgICAgICBjb25zdCBmb2xkZXIgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG5vcm1hbGl6ZWRPbGRQYXRoKTtcbiAgICAgICAgICAgIGlmICghZm9sZGVyIHx8ICEoZm9sZGVyIGluc3RhbmNlb2YgVEZvbGRlcikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmb2xkZXI6cmVuYW1lOnJlc3BvbnNlJywgJ1NvdXJjZSBmb2xkZXIgbm90IGZvdW5kJywgbWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0YXJnZXQgcGF0aCBhbHJlYWR5IGV4aXN0c1xuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdUYXJnZXQgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG5vcm1hbGl6ZWROZXdQYXRoKTtcbiAgICAgICAgICAgIGlmIChleGlzdGluZ1RhcmdldCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZvbGRlcjpyZW5hbWU6cmVzcG9uc2UnLCAnVGFyZ2V0IHBhdGggYWxyZWFkeSBleGlzdHMnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlbmFtZS9tb3ZlIHRoZSBmb2xkZXIgdXNpbmcgT2JzaWRpYW4gVmF1bHQgQVBJXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5hcHAuZmlsZU1hbmFnZXIucmVuYW1lRmlsZShmb2xkZXIsIG5vcm1hbGl6ZWROZXdQYXRoKTtcblxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2ZvbGRlcjpyZW5hbWU6cmVzcG9uc2UnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICBvbGRQYXRoOiBub3JtYWxpemVkT2xkUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgbmV3UGF0aDogbm9ybWFsaXplZE5ld1BhdGgsXG4gICAgICAgICAgICAgICAgICAgIHJlbmFtZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdGb2xkZXIgc3VjY2Vzc2Z1bGx5IHJlbmFtZWQvbW92ZWQnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UocmVzcG9uc2UpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1tXRUJTT0NLRVRdIGZvbGRlcjpyZW5hbWUgaGFuZGxlciBlcnJvcicsIHsgZXJyb3IgfSk7XG4gICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmb2xkZXI6cmVuYW1lOnJlc3BvbnNlJywgJ0ZhaWxlZCB0byByZW5hbWUgZm9sZGVyJywgbWVzc2FnZS5pZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVyIGZvciBmb2xkZXIgZGVsZXRpb24gcmVxdWVzdHMgZnJvbSBNQ1Agc2VydmVyXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVGb2xkZXJEZWxldGUobWVzc2FnZTogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbV0VCU09DS0VUXSBIYW5kbGluZyBmb2xkZXI6ZGVsZXRlIHJlcXVlc3QnLCB7IHBheWxvYWQ6IG1lc3NhZ2UucGF5bG9hZCB9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBtZXNzYWdlLnBheWxvYWQgfHwge307XG4gICAgICAgICAgICBjb25zdCBmb2xkZXJQYXRoID0gcGF5bG9hZC5mb2xkZXJQYXRoIHx8IHBheWxvYWQucGF0aDtcbiAgICAgICAgICAgIGNvbnN0IGZvcmNlID0gcGF5bG9hZC5mb3JjZSB8fCBmYWxzZTsgLy8gV2hldGhlciB0byBkZWxldGUgbm9uLWVtcHR5IGZvbGRlcnNcblxuICAgICAgICAgICAgaWYgKCFmb2xkZXJQYXRoIHx8IHR5cGVvZiBmb2xkZXJQYXRoICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZvbGRlcjpkZWxldGU6cmVzcG9uc2UnLCAnTWlzc2luZyBvciBpbnZhbGlkIGZvbGRlciBwYXRoIHBhcmFtZXRlcicsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTm9ybWFsaXplIHRoZSBmb2xkZXIgcGF0aFxuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZFBhdGggPSBub3JtYWxpemVQYXRoKGZvbGRlclBhdGgudHJpbSgpKTtcblxuICAgICAgICAgICAgLy8gRmluZCB0aGUgZm9sZGVyXG4gICAgICAgICAgICBjb25zdCBmb2xkZXIgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG5vcm1hbGl6ZWRQYXRoKTtcbiAgICAgICAgICAgIGlmICghZm9sZGVyIHx8ICEoZm9sZGVyIGluc3RhbmNlb2YgVEZvbGRlcikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmb2xkZXI6ZGVsZXRlOnJlc3BvbnNlJywgJ0ZvbGRlciBub3QgZm91bmQnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGZvbGRlciBpcyBlbXB0eSB1bmxlc3MgZm9yY2UgaXMgdHJ1ZVxuICAgICAgICAgICAgaWYgKCFmb3JjZSAmJiBmb2xkZXIuY2hpbGRyZW4gJiYgZm9sZGVyLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmb2xkZXI6ZGVsZXRlOnJlc3BvbnNlJywgJ0ZvbGRlciBpcyBub3QgZW1wdHkuIFVzZSBmb3JjZT10cnVlIHRvIGRlbGV0ZSBub24tZW1wdHkgZm9sZGVycycsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRGVsZXRlIHRoZSBmb2xkZXIgdXNpbmcgT2JzaWRpYW4gVmF1bHQgQVBJXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZGVsZXRlKGZvbGRlciwgZm9yY2UpO1xuXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiAnZm9sZGVyOmRlbGV0ZTpyZXNwb25zZScsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IG5vcm1hbGl6ZWRQYXRoLFxuICAgICAgICAgICAgICAgICAgICBkZWxldGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRm9sZGVyIHN1Y2Nlc3NmdWxseSBkZWxldGVkJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHJlc3BvbnNlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdbV0VCU09DS0VUXSBmb2xkZXI6ZGVsZXRlIGhhbmRsZXIgZXJyb3InLCB7IGVycm9yIH0pO1xuICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZm9sZGVyOmRlbGV0ZTpyZXNwb25zZScsICdGYWlsZWQgdG8gZGVsZXRlIGZvbGRlcicsIG1lc3NhZ2UuaWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEB2ZXNzZWwtY2xvc2U6VHlyXG5cbiAgICAvLyBAdmVzc2VsLXByb3RvY29sOlVsbHIgZ292ZXJuczpbdGVtcGxhdGVyLWludGVncmF0aW9ufGZlYXR1cmVdIGNvbnRleHQ6RW5oYW5jZWQgdGVtcGxhdGUgZGV0ZWN0aW9uIHdpdGggZm9sZGVyIG1hcHBpbmcgZm9yIE1DUCBub3RlIGNyZWF0aW9uXG4gICAgLy8gQGludGVyLWRlcGVuZGVuY2llczogW3RlbXBsYXRlciBwbHVnaW4sIHBlcmlvZGljLW5vdGVzIHBsdWdpbiwgUGx1Z2luRGV0ZWN0aW9uSGVscGVyLCBtb21lbnQuanMsIHNldHRpbmdzLm1jcFRvb2xzXVxuICAgIC8vIEBwdXJwb3NlOiBQcm92aWRlIE1DUCBjbGllbnRzIHdpdGggdGVtcGxhdGUtdG8tZm9sZGVyIG1hcHBpbmdzIGluY2x1ZGluZyBjYWxjdWxhdGVkIHBhdGhzIGZvciBwZXJpb2RpYyBub3Rlc1xuICAgIC8vIEByZXN1bHQ6IE1DUCB0b29scyBjYW4gY3JlYXRlIG5vdGVzIGluIGFwcHJvcHJpYXRlIGZvbGRlcnMgYmFzZWQgb24gdGVtcGxhdGVzIGFuZCBkYXRlIGNhbGN1bGF0aW9uc1xuICAgIC8vIEBzaWduZWQ6IEMuQmrDuHJuXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVUZW1wbGF0ZXJDaGVjayhtZXNzYWdlOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlclBsdWdpbiA9ICh0aGlzLnBsdWdpbi5hcHAgYXMgYW55KS5wbHVnaW5zPy5wbHVnaW5zPy5bJ3RlbXBsYXRlci1vYnNpZGlhbiddO1xuXG4gICAgICAgICAgICBpZiAoIXRlbXBsYXRlclBsdWdpbikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZW1wbGF0ZXI6Y2hlY2s6cmVzcG9uc2UnLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0luc3RhbGxlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVNYXBwaW5nczoge31cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBHZXQgdGVtcGxhdGUgZm9sZGVyIGZyb20gc2V0dGluZ3NcbiAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlRm9sZGVyID0gdGVtcGxhdGVyUGx1Z2luLnNldHRpbmdzPy50ZW1wbGF0ZXNfZm9sZGVyIHx8IFwiXCI7XG4gICAgICAgICAgICBpZiAoIXRlbXBsYXRlRm9sZGVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RlbXBsYXRlcjpjaGVjazpyZXNwb25zZScsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzSW5zdGFsbGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVGb2xkZXI6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVNYXBwaW5nczoge31cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSZXNvbHZlIGFuZCBsaXN0IHRlbXBsYXRlcyAocmVjdXJzaXZlKVxuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZEZvbGRlciA9IG5vcm1hbGl6ZVBhdGgodGVtcGxhdGVGb2xkZXIpO1xuICAgICAgICAgICAgY29uc3QgYWxsRmlsZXMgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xuICAgICAgICAgICAgY29uc3QgdGVtcGxhdGVzID0gYWxsRmlsZXNcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGYgPT4gZi5wYXRoLnN0YXJ0c1dpdGgobm9ybWFsaXplZEZvbGRlcikpXG4gICAgICAgICAgICAgICAgLm1hcChmID0+ICh7IHBhdGg6IGYucGF0aCwgbmFtZTogZi5uYW1lLCBiYXNlbmFtZTogZi5iYXNlbmFtZSB9KSk7XG5cbiAgICAgICAgICAgIC8vIEJ1aWxkIHRlbXBsYXRlIG1hcHBpbmdzXG4gICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZU1hcHBpbmdzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG5cbiAgICAgICAgICAgIC8vIEdldCBjb25maWd1cmF0aW9ucyB1c2luZyBQbHVnaW5EZXRlY3Rpb25IZWxwZXJcbiAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlckNvbmZpZyA9IGF3YWl0IGdldFRlbXBsYXRlckNvbmZpZyh0aGlzLnBsdWdpbi5hcHApO1xuICAgICAgICAgICAgY29uc3QgcGVyaW9kaWNDb25maWcgPSBhd2FpdCBnZXRQZXJpb2RpY05vdGVzQ29uZmlnKHRoaXMucGx1Z2luLmFwcCk7XG5cbiAgICAgICAgICAgIC8vIEFjY2VzcyBtb21lbnQuanMgZm9yIGRhdGUgY2FsY3VsYXRpb25zXG4gICAgICAgICAgICBjb25zdCBtb21lbnQgPSAod2luZG93IGFzIGFueSkubW9tZW50O1xuICAgICAgICAgICAgY29uc3QgdG9kYXkgPSBtb21lbnQgPyBtb21lbnQoKSA6IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgICAgIC8vIEB2ZXNzZWwtcHJvdG9jb2w6RnJpZ2cgZ292ZXJuczpbcGVyaW9kaWMtcGF0aHxmaXhdIGNvbnRleHQ6RW5oYW5jZWQgY2FsY3VsYXRpb24gb2YgcGVyaW9kaWMgbm90ZSBmb2xkZXIgcGF0aHMgd2l0aCBwcm9wZXIgZGF0ZSBleHBhbnNpb25cbiAgICAgICAgICAgIC8vIEBpbnRlci1kZXBlbmRlbmNpZXM6IFttb21lbnQsIHBlcmlvZGljQ29uZmlnLCBHcmFwaGl0aUxvZ2dlcl1cbiAgICAgICAgICAgIC8vIEBwdXJwb3NlOiBHaXZlbiBhIGJhc2VGb2xkZXIgYW5kIHBlcmlvZGljIGZvcm1hdCBzdHJpbmcsIHByb2R1Y2UgdGhlIGRhdGUtZXhwYW5kZWQgZm9sZGVyIHBhdGggKGZvbGRlcnMgb25seSwgbm8gZmlsZW5hbWUpXG4gICAgICAgICAgICAvLyBAcmVzdWx0OiB0ZW1wbGF0ZU1hcHBpbmdzIGNvbnRhaW4gZnVsbCBmb2xkZXIgcGF0aHMgbGlrZSBcIjAyX0pvdXJuYWwvRGFpbHkgTm90ZXMvMjAyNS8wOFwiXG4gICAgICAgICAgICAvLyBAc2lnbmVkOiBDLkJqw7hyblxuICAgICAgICAgICAgY29uc3QgY2FsY3VsYXRlUGVyaW9kaWNQYXRoID0gKGJhc2VGb2xkZXI6IHN0cmluZywgZm9ybWF0OiBzdHJpbmcsIGRhdGVPYmo/OiBhbnkpOiBzdHJpbmcgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghYmFzZUZvbGRlcikgcmV0dXJuICcnO1xuICAgICAgICAgICAgICAgIGlmICghZm9ybWF0KSByZXR1cm4gYmFzZUZvbGRlcjtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGQgPSBkYXRlT2JqIHx8IChtb21lbnQgPyBtb21lbnQoKSA6IG51bGwpO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFzZSA9IGJhc2VGb2xkZXIucmVwbGFjZSgvXFwvKyQvZywgJycpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJ0cyA9IChmb3JtYXQgfHwgJycpLnNwbGl0KCcvJykubWFwKHAgPT4gcC50cmltKCkpLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9sZGVyU2VnbWVudHM6IHN0cmluZ1tdID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE11bHRpcGxlIHBhcnRzIC0gdHJlYXQgYWxsIGJ1dCBsYXN0IGFzIGZvbGRlciBwYXJ0c1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9sZGVyUGFydHMgPSBwYXJ0cy5zbGljZSgwLCBwYXJ0cy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBmb2xkZXJQYXJ0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzZWcgPSBmb3JtYXREYXRlVG9rZW4ocGFydCwgZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlZykgZm9sZGVyU2VnbWVudHMucHVzaChzZWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2luZ2xlIHBhcnQgZm9ybWF0IC0gZXh0cmFjdCB5ZWFyL21vbnRoIGZvciBmb2xkZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzaW5nbGVGb3JtYXQgPSBwYXJ0c1swXSB8fCBmb3JtYXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoL1lZWVkvLnRlc3Qoc2luZ2xlRm9ybWF0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHllYXIgPSBmb3JtYXREYXRlVG9rZW4oJ1lZWVknLCBkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeWVhcikgZm9sZGVyU2VnbWVudHMucHVzaCh5ZWFyKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvTU0vLnRlc3Qoc2luZ2xlRm9ybWF0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb250aCA9IGZvcm1hdERhdGVUb2tlbignTU0nLCBkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vbnRoKSBmb2xkZXJTZWdtZW50cy5wdXNoKG1vbnRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm9sZGVyU2VnbWVudHMubGVuZ3RoID4gMCA/IGAke2Jhc2V9LyR7Zm9sZGVyU2VnbWVudHMuam9pbignLycpfWAgOiBiYXNlO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ0Vycm9yIGNhbGN1bGF0aW5nIHBlcmlvZGljIHBhdGgnLCB7IGVycm9yLCBiYXNlRm9sZGVyLCBmb3JtYXQgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiYXNlRm9sZGVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIEhlbHBlciBmdW5jdGlvbiB0byBmb3JtYXQgaW5kaXZpZHVhbCBkYXRlIHRva2Vuc1xuICAgICAgICAgICAgY29uc3QgZm9ybWF0RGF0ZVRva2VuID0gKHRva2VuOiBzdHJpbmcsIGRhdGVPYmo6IGFueSk6IHN0cmluZyA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0b2tlbikgcmV0dXJuICcnO1xuXG4gICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHRva2VuO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGVPYmogJiYgdHlwZW9mIGRhdGVPYmouZm9ybWF0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBkYXRlT2JqLmZvcm1hdCh0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbGxiYWNrRGF0ZUZvcm1hdCh0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxsYmFja0RhdGVGb3JtYXQodG9rZW4pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENsZWFuIHVwIGFueSBsaXRlcmFsIGJyYWNrZXQgbWFya2VycyBhbmQgdW5zYWZlIGNoYXJhY3RlcnNcbiAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZSgvXFxbLio/XFxdL2csICcnKS50cmltKCk7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoL1s8PjpcInw/Kl0vZywgJycpLnRyaW0oKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBGYWxsYmFjayBkYXRlIGZvcm1hdHRpbmcgZm9yIHdoZW4gbW9tZW50LmpzIGlzIG5vdCBhdmFpbGFibGVcbiAgICAgICAgICAgIGNvbnN0IGZhbGxiYWNrRGF0ZUZvcm1hdCA9ICh0b2tlbjogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHllYXIgPSBub3cuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vbnRoID0gU3RyaW5nKG5vdy5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0b2tlblxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvWVlZWS9nLCB5ZWFyKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgveXl5eS9nLCB5ZWFyKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvTU0vZywgbW9udGgpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9nZ2dnL2csIHllYXIpOyAvLyBJU08gd2VlayB5ZWFyIGZhbGxiYWNrXG4gICAgICAgICAgICB9O1xuIC8vIEB2ZXNzZWwtY2xvc2U6RnJpZ2dcblxuICAgICAgICAgICAgLy8gQWRkIHJlZ3VsYXIgdGVtcGxhdGVzIHRvIG1hcHBpbmdzICh1c2UgaW5ib3ggZm9sZGVyIG9yIHRlbXBsYXRlIGZvbGRlciBhcyBkZWZhdWx0KVxuICAgICAgICAgICAgY29uc3QgZGVmYXVsdEZvbGRlciA9IHRoaXMuc2V0dGluZ3MubWNwVG9vbHM/LmRlZmF1bHRzPy5pbmJveEZvbGRlciB8fCB0ZW1wbGF0ZUZvbGRlciB8fCAnJztcbiAgICAgICAgICAgIC8vIE5vcm1hbGl6ZXIgbXVzdCBtYXRjaCBQbHVnaW5EZXRlY3Rpb25IZWxwZXIubm9ybWFsaXplVGVtcGxhdGVLZXkgYmVoYXZpb3VyXG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVUZW1wbGF0ZUtleSA9ICh0OiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXQpIHJldHVybiAnJztcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJ0cyA9ICh0IHx8ICcnKS50b1N0cmluZygpLnNwbGl0KCcvJykucG9wKCkgfHwgdDtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFydHMucmVwbGFjZSgvXFwubWQkL2ksICcnKS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRlbXBsYXRlIG9mIHRlbXBsYXRlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlTmFtZSA9IHRlbXBsYXRlLmJhc2VuYW1lO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlS2V5ID0gbm9ybWFsaXplVGVtcGxhdGVLZXkodGVtcGxhdGVOYW1lKTtcblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgdGVtcGxhdGUgaGFzIGEgc3BlY2lmaWMgZm9sZGVyIG1hcHBpbmcgaW4gVGVtcGxhdGVyIGNvbmZpZ1xuICAgICAgICAgICAgICAgIGlmICh0ZW1wbGF0ZXJDb25maWcuZGV0ZWN0ZWQgJiYgdGVtcGxhdGVyQ29uZmlnLmZvbGRlclRlbXBsYXRlcyAmJiB0ZW1wbGF0ZXJDb25maWcuZm9sZGVyVGVtcGxhdGVzW3RlbXBsYXRlS2V5XSkge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZU1hcHBpbmdzW3RlbXBsYXRlTmFtZV0gPSB0ZW1wbGF0ZXJDb25maWcuZm9sZGVyVGVtcGxhdGVzW3RlbXBsYXRlS2V5XTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZU1hcHBpbmdzW3RlbXBsYXRlTmFtZV0gPSBkZWZhdWx0Rm9sZGVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQWRkIHBlcmlvZGljIG5vdGUgdGVtcGxhdGVzIHdpdGggY2FsY3VsYXRlZCBwYXRoc1xuICAgICAgICAgICAgaWYgKHBlcmlvZGljQ29uZmlnLmRldGVjdGVkICYmIHBlcmlvZGljQ29uZmlnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBEYWlseSBub3Rlc1xuICAgICAgICAgICAgICAgIGlmIChwZXJpb2RpY0NvbmZpZy5kYWlseT8uZW5hYmxlZCAmJiBwZXJpb2RpY0NvbmZpZy5kYWlseS5mb2xkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9sZGVyUGF0aCA9IGNhbGN1bGF0ZVBlcmlvZGljUGF0aChcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcmlvZGljQ29uZmlnLmRhaWx5LmZvbGRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcmlvZGljQ29uZmlnLmRhaWx5LmZvcm1hdCB8fCAnWVlZWS1NTS1ERCdcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVNYXBwaW5nc1snVFBMIERhaWx5IE5vdGUnXSA9IGZvbGRlclBhdGg7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gV2Vla2x5IG5vdGVzXG4gICAgICAgICAgICAgICAgaWYgKHBlcmlvZGljQ29uZmlnLndlZWtseT8uZW5hYmxlZCAmJiBwZXJpb2RpY0NvbmZpZy53ZWVrbHkuZm9sZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvbGRlclBhdGggPSBjYWxjdWxhdGVQZXJpb2RpY1BhdGgoXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJpb2RpY0NvbmZpZy53ZWVrbHkuZm9sZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGVyaW9kaWNDb25maWcud2Vla2x5LmZvcm1hdCB8fCAnWVlZWS1bV113dydcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVNYXBwaW5nc1snVFBMIFdlZWtseSBOb3RlJ10gPSBmb2xkZXJQYXRoO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE1vbnRobHkgbm90ZXNcbiAgICAgICAgICAgICAgICBpZiAocGVyaW9kaWNDb25maWcubW9udGhseT8uZW5hYmxlZCAmJiBwZXJpb2RpY0NvbmZpZy5tb250aGx5LmZvbGRlcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb2xkZXJQYXRoID0gY2FsY3VsYXRlUGVyaW9kaWNQYXRoKFxuICAgICAgICAgICAgICAgICAgICAgICAgcGVyaW9kaWNDb25maWcubW9udGhseS5mb2xkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJpb2RpY0NvbmZpZy5tb250aGx5LmZvcm1hdCB8fCAnWVlZWS1NTSdcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVNYXBwaW5nc1snVFBMIE1vbnRobHkgTm90ZSddID0gZm9sZGVyUGF0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6ICd0ZW1wbGF0ZXI6Y2hlY2s6cmVzcG9uc2UnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICBpc0luc3RhbGxlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVGb2xkZXI6IG5vcm1hbGl6ZWRGb2xkZXIsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlczogdGVtcGxhdGVzLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZU1hcHBpbmdzOiB0ZW1wbGF0ZU1hcHBpbmdzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UocmVzcG9uc2UpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1tXRUJTT0NLRVRdIHRlbXBsYXRlcjpjaGVjayBoYW5kbGVyIGVycm9yJywgeyBlcnJvciB9KTtcbiAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ3RlbXBsYXRlcjpjaGVjazpyZXNwb25zZScsICdGYWlsZWQgdG8gY2hlY2sgdGVtcGxhdGVyJywgbWVzc2FnZS5pZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGhhbmRsZUNyZWF0ZVdpdGhUZW1wbGF0ZShtZXNzYWdlOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBtZXNzYWdlLnBheWxvYWQgfHwge307XG4gICAgICAgICAgICBjb25zdCBzZWFyY2hUZXJtOiBzdHJpbmcgPSAocGF5bG9hZC5zZWFyY2hUZXJtIHx8ICcnKS50b1N0cmluZygpLnRyaW0oKTtcbiAgICAgICAgICAgIGNvbnN0IGZpbGVOYW1lOiBzdHJpbmcgPSAocGF5bG9hZC5maWxlTmFtZSB8fCAnJykudG9TdHJpbmcoKS50cmltKCk7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRGb2xkZXI6IHN0cmluZyA9IChwYXlsb2FkLnRhcmdldEZvbGRlciB8fCAnJykudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJDb250ZW50OiBzdHJpbmcgPSAocGF5bG9hZC51c2VyQ29udGVudCB8fCAnJykudG9TdHJpbmcoKTtcblxuICAgICAgICAgICAgaWYgKCFmaWxlTmFtZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZpbGU6Y3JlYXRlX3dpdGhfdGVtcGxhdGU6cmVzcG9uc2UnLCAnTWlzc2luZyBmaWxlTmFtZScsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdGVtcGxhdGVyUGx1Z2luID0gKHRoaXMucGx1Z2luLmFwcCBhcyBhbnkpLnBsdWdpbnM/LnBsdWdpbnM/LlsndGVtcGxhdGVyLW9ic2lkaWFuJ107XG4gICAgICAgICAgICBpZiAoIXRlbXBsYXRlclBsdWdpbiB8fCAhdGVtcGxhdGVyUGx1Z2luLnNldHRpbmdzPy50ZW1wbGF0ZXNfZm9sZGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpjcmVhdGVfd2l0aF90ZW1wbGF0ZTpyZXNwb25zZScsICdUZW1wbGF0ZXIgbm90IGNvbmZpZ3VyZWQnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEdldCBhbGwgdGVtcGxhdGVzXG4gICAgICAgICAgICBjb25zdCBhbGxUZW1wbGF0ZXMgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmID0+IGYucGF0aC5zdGFydHNXaXRoKHRlbXBsYXRlclBsdWdpbi5zZXR0aW5ncy50ZW1wbGF0ZXNfZm9sZGVyKSk7XG5cbiAgICAgICAgICAgIGlmIChhbGxUZW1wbGF0ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpjcmVhdGVfd2l0aF90ZW1wbGF0ZTpyZXNwb25zZScsICdObyB0ZW1wbGF0ZXMgZm91bmQnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGZvciBleGFjdCBtYXRjaCBmaXJzdCAoY2FzZS1pbnNlbnNpdGl2ZSlcbiAgICAgICAgICAgIGNvbnN0IHNlYXJjaExvd2VyID0gc2VhcmNoVGVybS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgbGV0IHNlbGVjdGVkVGVtcGxhdGUgPSBhbGxUZW1wbGF0ZXMuZmluZCh0ID0+XG4gICAgICAgICAgICAgICAgdC5iYXNlbmFtZS50b0xvd2VyQ2FzZSgpID09PSBzZWFyY2hMb3dlclxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy8gSWYgbm8gZXhhY3QgbWF0Y2gsIHJldHVybiBsaXN0IG9mIGF2YWlsYWJsZSB0ZW1wbGF0ZXMgZm9yIENsYXVkZSB0byBjaG9vc2VcbiAgICAgICAgICAgIGlmICghc2VsZWN0ZWRUZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlTGlzdCA9IGFsbFRlbXBsYXRlcy5tYXAodCA9PiB0LmJhc2VuYW1lKS5zb3J0KCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmaWxlOmNyZWF0ZV93aXRoX3RlbXBsYXRlOnJlc3BvbnNlJyxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlc1NlbGVjdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmxlVGVtcGxhdGVzOiB0ZW1wbGF0ZUxpc3QsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBgTm8gZXhhY3QgbWF0Y2ggZm9yICcke3NlYXJjaFRlcm19Jy4gUGxlYXNlIHNwZWNpZnkgZXhhY3QgdGVtcGxhdGUgbmFtZSBmcm9tIGF2YWlsYWJsZVRlbXBsYXRlcy5gLFxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVUZW1wbGF0ZXM6IHRlbXBsYXRlTGlzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaFRlcm06IHNlYXJjaFRlcm1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ3JlYXRlIGZpbGUgd2l0aCB0aGUgc2VsZWN0ZWQgdGVtcGxhdGVcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGVtcGxhdGVyID0gdGVtcGxhdGVyUGx1Z2luLnRlbXBsYXRlcjtcblxuICAgICAgICAgICAgICAgIC8vIFRyeSB1c2luZyBUZW1wbGF0ZXIncyBBUEkgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgaWYgKHRlbXBsYXRlciAmJiB0ZW1wbGF0ZXIuY3JlYXRlX25ld19ub3RlX2Zyb21fdGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9sZGVyID0gdGFyZ2V0Rm9sZGVyIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVOYW1lTm9FeHQgPSBmaWxlTmFtZS5yZXBsYWNlKC9cXC5tZCQvLCAnJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3RmlsZSA9IGF3YWl0IHRlbXBsYXRlci5jcmVhdGVfbmV3X25vdGVfZnJvbV90ZW1wbGF0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkVGVtcGxhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb2xkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlTmFtZU5vRXh0XG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVmVyaWZ5IGZpbGUgd2FzIGNyZWF0ZWQgYW5kIGhhcyBhY3R1YWwgY29udGVudFxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3RmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5yZWFkKG5ld0ZpbGUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBjb250ZW50IGlzIGp1c3QgdGhlIHRlbXBsYXRlIHBhdGggKEFQSSBmYWlsdXJlIHN5bXB0b20pXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudC50cmltKCkgPT09IHNlbGVjdGVkVGVtcGxhdGUucGF0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFQSSBmYWlsZWQsIGRlbGV0ZSB0aGUgYmFkIGZpbGUgYW5kIHVzZSBmYWxsYmFja1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5kZWxldGUobmV3RmlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUZW1wbGF0ZXIgQVBJIHJldHVybmVkIHBhdGggaW5zdGVhZCBvZiBjb250ZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFwcGVuZCB1c2VyIGNvbnRlbnQgaWYgcHJvdmlkZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c2VyQ29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5tb2RpZnkobmV3RmlsZSwgY29udGVudCArICdcXG5cXG4nICsgdXNlckNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZmlsZTpjcmVhdGVfd2l0aF90ZW1wbGF0ZTpyZXNwb25zZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IG5ld0ZpbGUucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVc2VkOiBzZWxlY3RlZFRlbXBsYXRlLmJhc2VuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnQ3JlYXRlZCBmaWxlIHVzaW5nIFRlbXBsYXRlciBBUEknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUZW1wbGF0ZXIgQVBJIG5vdCBhdmFpbGFibGUnKTtcblxuICAgICAgICAgICAgfSBjYXRjaCAodGVtcGxhdGVyRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdbV0VCU09DS0VUXSBUZW1wbGF0ZXIgQVBJIGZhaWxlZCwgdXNpbmcgZmFsbGJhY2snLCB7IGVycm9yOiB0ZW1wbGF0ZXJFcnJvciB9KTtcblxuICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrOiBDb3B5IHRlbXBsYXRlIGNvbnRlbnQgbWFudWFsbHlcbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZUNvbnRlbnQgPSBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQucmVhZChzZWxlY3RlZFRlbXBsYXRlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlTmFtZVdpdGhFeHQgPSBmaWxlTmFtZS5lbmRzV2l0aCgnLm1kJykgPyBmaWxlTmFtZSA6IGAke2ZpbGVOYW1lfS5tZGA7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3UGF0aCA9IHRhcmdldEZvbGRlclxuICAgICAgICAgICAgICAgICAgICA/IGAke3RhcmdldEZvbGRlci5yZXBsYWNlKC9cXC8kLywgJycpfS8ke2ZpbGVOYW1lV2l0aEV4dH1gXG4gICAgICAgICAgICAgICAgICAgIDogZmlsZU5hbWVXaXRoRXh0O1xuXG4gICAgICAgICAgICAgICAgbGV0IGZpbmFsQ29udGVudCA9IHRlbXBsYXRlQ29udGVudDtcbiAgICAgICAgICAgICAgICBpZiAodXNlckNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmluYWxDb250ZW50ID0gZmluYWxDb250ZW50ICsgJ1xcblxcbicgKyB1c2VyQ29udGVudDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBuZXdGaWxlID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmNyZWF0ZShuZXdQYXRoLCBmaW5hbENvbnRlbnQpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZmlsZTpjcmVhdGVfd2l0aF90ZW1wbGF0ZTpyZXNwb25zZScsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBuZXdGaWxlLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVzZWQ6IHNlbGVjdGVkVGVtcGxhdGUuYmFzZW5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnQ3JlYXRlZCBmaWxlIGJ5IGNvcHlpbmcgdGVtcGxhdGUgKFRlbXBsYXRlciBzeW50YXggbm90IHByb2Nlc3NlZCknLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2FybmluZzogJ1RlbXBsYXRlciBjb21tYW5kcyB3ZXJlIG5vdCBwcm9jZXNzZWQnXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdbV0VCU09DS0VUXSBmaWxlOmNyZWF0ZV93aXRoX3RlbXBsYXRlIGhhbmRsZXIgZXJyb3InLCB7IGVycm9yIH0pO1xuICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpjcmVhdGVfd2l0aF90ZW1wbGF0ZTpyZXNwb25zZScsICdGYWlsZWQgdG8gY3JlYXRlIGZpbGUgd2l0aCB0ZW1wbGF0ZScsIG1lc3NhZ2UuaWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVGcm9udG1hdHRlckVkaXQobWVzc2FnZTogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdIYW5kbGluZyBmaWxlOmZyb250bWF0dGVyX2VkaXQgcmVxdWVzdCcsIHsgcGF0aDogbWVzc2FnZS5wYXlsb2FkPy5wYXRoIH0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IG1lc3NhZ2UucGF5bG9hZDtcbiAgICAgICAgICAgIGlmICghcGF5bG9hZD8ucGF0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZpbGU6ZnJvbnRtYXR0ZXJfZWRpdDpyZXNwb25zZScsICdNaXNzaW5nIGZpbGUgcGF0aCBwYXJhbWV0ZXInLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHBheWxvYWQucGF0aCk7XG4gICAgICAgICAgICBpZiAoIWZpbGUgfHwgIShmaWxlIGluc3RhbmNlb2YgVEZpbGUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpmcm9udG1hdHRlcl9lZGl0OnJlc3BvbnNlJywgJ0ZpbGUgbm90IGZvdW5kJywgbWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LnJlYWQoZmlsZSk7XG4gICAgICAgICAgICBjb25zdCBmcm9udG1hdHRlclVwZGF0ZXMgPSBwYXlsb2FkLmZyb250bWF0dGVyQ2hhbmdlcyB8fCB7fTtcblxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFtGUk9OVE1BVFRFUl0gUHJvY2Vzc2luZyB1cGRhdGVzOmAsIGZyb250bWF0dGVyVXBkYXRlcyk7XG5cbiAgICAgICAgICAgIC8vIFZhbGlkYXRlIHRoYXQgd2UgaGF2ZSB1cGRhdGVzIHRvIG1ha2VcbiAgICAgICAgICAgIGlmICghZnJvbnRtYXR0ZXJVcGRhdGVzIHx8IE9iamVjdC5rZXlzKGZyb250bWF0dGVyVXBkYXRlcykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpmcm9udG1hdHRlcl9lZGl0OnJlc3BvbnNlJywgJ05vIGZyb250bWF0dGVyIGNoYW5nZXMgcHJvdmlkZWQnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFByb2Nlc3MgZnJvbnRtYXR0ZXIgdXBkYXRlc1xuICAgICAgICAgICAgbGV0IG5ld0NvbnRlbnQgPSBjb250ZW50O1xuICAgICAgICAgICAgY29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgIGxldCBmcm9udG1hdHRlclN0YXJ0ID0gLTE7XG4gICAgICAgICAgICBsZXQgZnJvbnRtYXR0ZXJFbmQgPSAtMTtcblxuICAgICAgICAgICAgLy8gRmluZCBleGlzdGluZyBmcm9udG1hdHRlciBib3VuZGFyaWVzXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxpbmVzW2ldLnRyaW0oKSA9PT0gJy0tLScpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZyb250bWF0dGVyU3RhcnQgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9udG1hdHRlclN0YXJ0ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb250bWF0dGVyRW5kID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgZnJvbnRtYXR0ZXJMaW5lczogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgICAgIGxldCBjb250ZW50TGluZXM6IHN0cmluZ1tdID0gW107XG5cbiAgICAgICAgICAgIGlmIChmcm9udG1hdHRlclN0YXJ0ID09PSAwICYmIGZyb250bWF0dGVyRW5kID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIEV4aXN0aW5nIGZyb250bWF0dGVyIGZvdW5kXG4gICAgICAgICAgICAgICAgZnJvbnRtYXR0ZXJMaW5lcyA9IGxpbmVzLnNsaWNlKGZyb250bWF0dGVyU3RhcnQgKyAxLCBmcm9udG1hdHRlckVuZCk7XG4gICAgICAgICAgICAgICAgY29udGVudExpbmVzID0gbGluZXMuc2xpY2UoZnJvbnRtYXR0ZXJFbmQgKyAxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTm8gZXhpc3RpbmcgZnJvbnRtYXR0ZXJcbiAgICAgICAgICAgICAgICBmcm9udG1hdHRlckxpbmVzID0gW107XG4gICAgICAgICAgICAgICAgY29udGVudExpbmVzID0gbGluZXM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEFwcGx5IHVwZGF0ZXMgdG8gZnJvbnRtYXR0ZXJcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGZyb250bWF0dGVyVXBkYXRlcykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ0luZGV4ID0gZnJvbnRtYXR0ZXJMaW5lcy5maW5kSW5kZXgobGluZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9uSW5kZXggPSBsaW5lLmluZGV4T2YoJzonKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9uSW5kZXggPiAwICYmIGxpbmUuc3Vic3RyaW5nKDAsIGNvbG9uSW5kZXgpLnRyaW0oKSA9PT0ga2V5O1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gRm9ybWF0IHZhbHVlIHByb3Blcmx5IGZvciBZQU1MXG4gICAgICAgICAgICAgICAgbGV0IGZvcm1hdHRlZFZhbHVlOiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IGBcIiR7dmFsdWV9XCJgO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlID0gU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBuZXdMaW5lID0gYCR7a2V5fTogJHtmb3JtYXR0ZWRWYWx1ZX1gO1xuXG4gICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nSW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICBmcm9udG1hdHRlckxpbmVzW2V4aXN0aW5nSW5kZXhdID0gbmV3TGluZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmcm9udG1hdHRlckxpbmVzLnB1c2gobmV3TGluZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSZWJ1aWxkIGNvbnRlbnQgd2l0aCB1cGRhdGVkIGZyb250bWF0dGVyXG4gICAgICAgICAgICBjb25zdCBuZXdMaW5lcyA9IFsnLS0tJywgLi4uZnJvbnRtYXR0ZXJMaW5lcywgJy0tLScsIC4uLmNvbnRlbnRMaW5lc107XG4gICAgICAgICAgICBuZXdDb250ZW50ID0gbmV3TGluZXMuam9pbignXFxuJyk7XG5cbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBbRlJPTlRNQVRURVJdIFVwZGF0ZWQgY29udGVudCBsZW5ndGg6ICR7bmV3Q29udGVudC5sZW5ndGh9ICh3YXMgJHtjb250ZW50Lmxlbmd0aH0pYCk7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5tb2RpZnkoZmlsZSwgbmV3Q29udGVudCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdmaWxlOmZyb250bWF0dGVyX2VkaXQ6cmVzcG9uc2UnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYXlsb2FkLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdGcm9udG1hdHRlciB1cGRhdGVkIHN1Y2Nlc3NmdWxseSdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShyZXNwb25zZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmaWxlOmZyb250bWF0dGVyX2VkaXQ6cmVzcG9uc2UnLCAnRmFpbGVkIHRvIGVkaXQgZnJvbnRtYXR0ZXInLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaGFuZGxlQXBwZW5kRWRpdChtZXNzYWdlOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0hhbmRsaW5nIGZpbGU6YXBwZW5kIHJlcXVlc3QnLCB7IHBhdGg6IG1lc3NhZ2UucGF5bG9hZD8ucGF0aCB9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBtZXNzYWdlLnBheWxvYWQ7XG4gICAgICAgICAgICBpZiAoIXBheWxvYWQ/LnBhdGggfHwgcGF5bG9hZC5hcHBlbmRDb250ZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmaWxlOmFwcGVuZDpyZXNwb25zZScsICdNaXNzaW5nIGZpbGUgcGF0aCBvciBjb250ZW50IHBhcmFtZXRlcicsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZmlsZSA9IHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgocGF5bG9hZC5wYXRoKTtcbiAgICAgICAgICAgIGlmICghZmlsZSB8fCAhKGZpbGUgaW5zdGFuY2VvZiBURmlsZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmaWxlOmFwcGVuZDpyZXNwb25zZScsICdGaWxlIG5vdCBmb3VuZCcsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgY3VycmVudENvbnRlbnQgPSBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQucmVhZChmaWxlKTtcbiAgICAgICAgICAgIGNvbnN0IG5ld0NvbnRlbnQgPSBjdXJyZW50Q29udGVudCArICdcXG4nICsgcGF5bG9hZC5hcHBlbmRDb250ZW50O1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0Lm1vZGlmeShmaWxlLCBuZXdDb250ZW50KTtcblxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2ZpbGU6YXBwZW5kOnJlc3BvbnNlJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogcGF5bG9hZC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnQ29udGVudCBhcHBlbmRlZCBzdWNjZXNzZnVsbHknXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UocmVzcG9uc2UpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTphcHBlbmQ6cmVzcG9uc2UnLCAnRmFpbGVkIHRvIGFwcGVuZCBjb250ZW50JywgbWVzc2FnZS5pZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGhhbmRsZVJhbmdlRWRpdChtZXNzYWdlOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0hhbmRsaW5nIGZpbGU6cmFuZ2VfZWRpdCByZXF1ZXN0JywgeyBwYXRoOiBtZXNzYWdlLnBheWxvYWQ/LnBhdGggfSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gbWVzc2FnZS5wYXlsb2FkO1xuICAgICAgICAgICAgaWYgKCFwYXlsb2FkPy5wYXRoIHx8IHBheWxvYWQucmVwbGFjZW1lbnRDb250ZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmaWxlOnJhbmdlX2VkaXQ6cmVzcG9uc2UnLCAnTWlzc2luZyBmaWxlIHBhdGggb3IgY29udGVudCBwYXJhbWV0ZXInLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHBheWxvYWQucGF0aCk7XG4gICAgICAgICAgICBpZiAoIWZpbGUgfHwgIShmaWxlIGluc3RhbmNlb2YgVEZpbGUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpyYW5nZV9lZGl0OnJlc3BvbnNlJywgJ0ZpbGUgbm90IGZvdW5kJywgbWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Q29udGVudCA9IGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xuICAgICAgICAgICAgY29uc3QgbGluZXMgPSBjdXJyZW50Q29udGVudC5zcGxpdCgnXFxuJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0TGluZSA9IE1hdGgubWF4KDAsIChwYXlsb2FkLnJhbmdlU3RhcnRMaW5lIHx8IDEpIC0gMSk7IC8vIENvbnZlcnQgdG8gMC1iYXNlZFxuICAgICAgICAgICAgY29uc3QgZW5kTGluZSA9IE1hdGgubWluKGxpbmVzLmxlbmd0aCwgcGF5bG9hZC5yYW5nZUVuZExpbmUgfHwgKHN0YXJ0TGluZSArIDEpKTsgLy8gMS1iYXNlZCBpbmNsdXNpdmUgYmVjb21lcyAwLWJhc2VkIGV4Y2x1c2l2ZVxuXG4gICAgICAgICAgICBjb25zdCBuZXdMaW5lcyA9IHBheWxvYWQucmVwbGFjZW1lbnRDb250ZW50LnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgIGxpbmVzLnNwbGljZShzdGFydExpbmUsIGVuZExpbmUgLSBzdGFydExpbmUsIC4uLm5ld0xpbmVzKTtcblxuICAgICAgICAgICAgY29uc3QgbmV3Q29udGVudCA9IGxpbmVzLmpvaW4oJ1xcbicpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0Lm1vZGlmeShmaWxlLCBuZXdDb250ZW50KTtcblxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2ZpbGU6cmFuZ2VfZWRpdDpyZXNwb25zZScsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHBheWxvYWQucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1JhbmdlIGVkaXRlZCBzdWNjZXNzZnVsbHknXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UocmVzcG9uc2UpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3JSZXNwb25zZSgnZmlsZTpyYW5nZV9lZGl0OnJlc3BvbnNlJywgJ0ZhaWxlZCB0byBlZGl0IHJhbmdlJywgbWVzc2FnZS5pZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGhhbmRsZUVkaXRvckVkaXQobWVzc2FnZTogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdIYW5kbGluZyBmaWxlOmVkaXRvcl9lZGl0IHJlcXVlc3QnLCB7IHBhdGg6IG1lc3NhZ2UucGF5bG9hZD8ucGF0aCB9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBtZXNzYWdlLnBheWxvYWQ7XG4gICAgICAgICAgICBpZiAoIXBheWxvYWQ/LnBhdGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmaWxlOmVkaXRvcl9lZGl0OnJlc3BvbnNlJywgJ01pc3NpbmcgZmlsZSBwYXRoIHBhcmFtZXRlcicsIG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZmlsZSA9IHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgocGF5bG9hZC5wYXRoKTtcbiAgICAgICAgICAgIGlmICghZmlsZSB8fCAhKGZpbGUgaW5zdGFuY2VvZiBURmlsZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFcnJvclJlc3BvbnNlKCdmaWxlOmVkaXRvcl9lZGl0OnJlc3BvbnNlJywgJ0ZpbGUgbm90IGZvdW5kJywgbWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBHZXQgdGhlIGFjdGl2ZSBlZGl0b3IgaWYgdGhpcyBmaWxlIGlzIG9wZW5cbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZVZpZXcgPSB0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcbiAgICAgICAgICAgIGxldCBwcm9jZXNzZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKGFjdGl2ZVZpZXcgJiYgYWN0aXZlVmlldy5maWxlPy5wYXRoID09PSBwYXlsb2FkLnBhdGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlZGl0b3IgPSBhY3RpdmVWaWV3LmVkaXRvcjtcbiAgICAgICAgICAgICAgICBjb25zdCBvcGVyYXRpb24gPSBwYXlsb2FkLmVkaXRvck1ldGhvZCB8fCAncmVwbGFjZSc7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgW0VESVRPUl0gUHJvY2Vzc2luZyBlZGl0b3Igb3BlcmF0aW9uOiAke29wZXJhdGlvbn0gd2l0aCBwYXlsb2FkOmAsIHBheWxvYWQpO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoIChvcGVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmVwbGFjZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5jb250ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3Iuc2V0VmFsdWUocGF5bG9hZC5jb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2FwcGVuZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5jb250ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0TGluZSA9IGVkaXRvci5sYXN0TGluZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5yZXBsYWNlUmFuZ2UoJ1xcbicgKyBwYXlsb2FkLmNvbnRlbnQsIHsgbGluZTogbGFzdExpbmUsIGNoOiBlZGl0b3IuZ2V0TGluZShsYXN0TGluZSkubGVuZ3RoIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncHJlcGVuZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5jb250ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IucmVwbGFjZVJhbmdlKHBheWxvYWQuY29udGVudCArICdcXG4nLCB7IGxpbmU6IDAsIGNoOiAwIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaW5zZXJ0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLmNvbnRlbnQgIT09IHVuZGVmaW5lZCAmJiBwYXlsb2FkLmxpbmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBNYXRoLm1heCgwLCBwYXlsb2FkLmxpbmUgLSAxKTsgLy8gQ29udmVydCB0byAwLWJhc2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnJlcGxhY2VSYW5nZShwYXlsb2FkLmNvbnRlbnQgKyAnXFxuJywgeyBsaW5lLCBjaDogMCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlcGxhY2VfbGluZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5jb250ZW50ICE9PSB1bmRlZmluZWQgJiYgcGF5bG9hZC5saW5lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5lID0gTWF0aC5tYXgoMCwgcGF5bG9hZC5saW5lIC0gMSk7IC8vIENvbnZlcnQgdG8gMC1iYXNlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW5lIDwgZWRpdG9yLmxpbmVDb3VudCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFQSSBleHBlY3RzOiBzZXRMaW5lKG46IG51bWJlciwgdGV4dDogc3RyaW5nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3Iuc2V0TGluZShsaW5lLCBwYXlsb2FkLmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgW0VESVRPUl0gUmVwbGFjZWQgbGluZSAke3BheWxvYWQubGluZX0gd2l0aCBuZXcgY29udGVudGApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oYFtFRElUT1JdIExpbmUgJHtwYXlsb2FkLmxpbmV9IGRvZXMgbm90IGV4aXN0IChmaWxlIGhhcyAke2VkaXRvci5saW5lQ291bnQoKX0gbGluZXMpYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlcGxhY2Vfc2VsZWN0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLmNvbnRlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFQSSBleHBlY3RzOiByZXBsYWNlU2VsZWN0aW9uKHJlcGxhY2VtZW50OiBzdHJpbmcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5yZXBsYWNlU2VsZWN0aW9uKHBheWxvYWQuY29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBbRURJVE9SXSBSZXBsYWNlZCBzZWxlY3RlZCB0ZXh0IHdpdGggbmV3IGNvbnRlbnRgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGBbRURJVE9SXSBObyB0ZXh0IGN1cnJlbnRseSBzZWxlY3RlZCBmb3IgcmVwbGFjZW1lbnRgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaW5zZXJ0X2F0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLmNvbnRlbnQgIT09IHVuZGVmaW5lZCAmJiBwYXlsb2FkLmxpbmUgIT09IHVuZGVmaW5lZCAmJiBwYXlsb2FkLmNoYXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvcyA9IHsgbGluZTogcGF5bG9hZC5saW5lIC0gMSwgY2g6IHBheWxvYWQuY2hhciB9OyAvLyBDb252ZXJ0IHRvIDAtYmFzZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBUEkgZXhwZWN0czogcmVwbGFjZVJhbmdlKHJlcGxhY2VtZW50OiBzdHJpbmcsIGZyb206IEVkaXRvclBvc2l0aW9uLCB0bz86IEVkaXRvclBvc2l0aW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5yZXBsYWNlUmFuZ2UocGF5bG9hZC5jb250ZW50LCBwb3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFtFRElUT1JdIEluc2VydGVkIGNvbnRlbnQgYXQgcG9zaXRpb24gJHtwYXlsb2FkLmxpbmV9OiR7cGF5bG9hZC5jaGFyfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlcGxhY2VfcmFuZ2UnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuY29udGVudCAhPT0gdW5kZWZpbmVkICYmIHBheWxvYWQuZnJvbUxpbmUgIT09IHVuZGVmaW5lZCAmJiBwYXlsb2FkLmZyb21DaGFyICE9PSB1bmRlZmluZWQgJiYgcGF5bG9hZC50b0xpbmUgIT09IHVuZGVmaW5lZCAmJiBwYXlsb2FkLnRvQ2hhciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJvbVBvcyA9IHsgbGluZTogcGF5bG9hZC5mcm9tTGluZSAtIDEsIGNoOiBwYXlsb2FkLmZyb21DaGFyIH07IC8vIENvbnZlcnQgdG8gMC1iYXNlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvUG9zID0geyBsaW5lOiBwYXlsb2FkLnRvTGluZSAtIDEsIGNoOiBwYXlsb2FkLnRvQ2hhciB9OyAvLyBDb252ZXJ0IHRvIDAtYmFzZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBUEkgZXhwZWN0czogcmVwbGFjZVJhbmdlKHJlcGxhY2VtZW50OiBzdHJpbmcsIGZyb206IEVkaXRvclBvc2l0aW9uLCB0bz86IEVkaXRvclBvc2l0aW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5yZXBsYWNlUmFuZ2UocGF5bG9hZC5jb250ZW50LCBmcm9tUG9zLCB0b1Bvcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgW0VESVRPUl0gUmVwbGFjZWQgcmFuZ2UgZnJvbSAke3BheWxvYWQuZnJvbUxpbmV9OiR7cGF5bG9hZC5mcm9tQ2hhcn0gdG8gJHtwYXlsb2FkLnRvTGluZX06JHtwYXlsb2FkLnRvQ2hhcn1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdpbnNlcnRfYWZ0ZXJfaGVhZGluZyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5jb250ZW50ICE9PSB1bmRlZmluZWQgJiYgcGF5bG9hZC5oZWFkaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGaW5kIHRoZSBoZWFkaW5nIGluIHRoZSBkb2N1bWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRpbmdUb0ZpbmQgPSBwYXlsb2FkLmhlYWRpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG90YWxMaW5lcyA9IGVkaXRvci5saW5lQ291bnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5zZXJ0TGluZSA9IC0xO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbExpbmVzOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluZSA9IGVkaXRvci5nZXRMaW5lKGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgbWFya2Rvd24gaGVhZGluZyAoIyBIZWFkaW5nIG9yICMjIEhlYWRpbmcsIGV0Yy4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW5lLnN0YXJ0c1dpdGgoJyMnKSAmJiBsaW5lLmluY2x1ZGVzKGhlYWRpbmdUb0ZpbmQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRMaW5lID0gaSArIDE7IC8vIEluc2VydCBhZnRlciB0aGUgaGVhZGluZyBsaW5lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbHNvIGNoZWNrIGZvciBjb250ZW50IHRoYXQgbWF0Y2hlcyB0aGUgaGVhZGluZyAoY2FzZS1pbnNlbnNpdGl2ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhoZWFkaW5nVG9GaW5kLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRMaW5lID0gaSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnNlcnRMaW5lID49IDAgJiYgaW5zZXJ0TGluZSA8PSB0b3RhbExpbmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5yZXBsYWNlUmFuZ2UoJ1xcbicgKyBwYXlsb2FkLmNvbnRlbnQgKyAnXFxuJywgeyBsaW5lOiBpbnNlcnRMaW5lLCBjaDogMCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFtFRElUT1JdIEluc2VydGVkIGNvbnRlbnQgYWZ0ZXIgaGVhZGluZyBcIiR7aGVhZGluZ1RvRmluZH1cIiBhdCBsaW5lICR7aW5zZXJ0TGluZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGBbRURJVE9SXSBIZWFkaW5nIFwiJHtoZWFkaW5nVG9GaW5kfVwiIG5vdCBmb3VuZCBpbiBkb2N1bWVudGApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGYWxsYmFjazogYXBwZW5kIHRvIGVuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0TGluZSA9IGVkaXRvci5sYXN0TGluZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IucmVwbGFjZVJhbmdlKCdcXG5cXG4nICsgcGF5bG9hZC5jb250ZW50LCB7IGxpbmU6IGxhc3RMaW5lLCBjaDogZWRpdG9yLmdldExpbmUobGFzdExpbmUpLmxlbmd0aCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFtFRElUT1JdIEhlYWRpbmcgbm90IGZvdW5kLCBhcHBlbmRlZCBjb250ZW50IHRvIGVuZCBpbnN0ZWFkYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBGYWxsYmFjayB0byB2YXVsdCBBUEkgaWYgZWRpdG9yIG5vdCBhdmFpbGFibGVcbiAgICAgICAgICAgIGlmICghcHJvY2Vzc2VkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudENvbnRlbnQgPSBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQucmVhZChmaWxlKTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3Q29udGVudCA9IGN1cnJlbnRDb250ZW50O1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gcGF5bG9hZC5lZGl0b3JNZXRob2QgfHwgJ3JlcGxhY2UnO1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBbRURJVE9SXSBGYWxsYmFjayB0byB2YXVsdCBBUEkgZm9yIG9wZXJhdGlvbjogJHtvcGVyYXRpb259IHdpdGggcGF5bG9hZDpgLCBwYXlsb2FkKTtcblxuICAgICAgICAgICAgICAgIHN3aXRjaCAob3BlcmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlcGxhY2UnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuY29udGVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q29udGVudCA9IHBheWxvYWQuY29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdhcHBlbmQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuY29udGVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q29udGVudCA9IGN1cnJlbnRDb250ZW50ICsgJ1xcbicgKyBwYXlsb2FkLmNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncHJlcGVuZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5jb250ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDb250ZW50ID0gcGF5bG9hZC5jb250ZW50ICsgJ1xcbicgKyBjdXJyZW50Q29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdpbnNlcnQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuY29udGVudCAhPT0gdW5kZWZpbmVkICYmIHBheWxvYWQubGluZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluZXMgPSBjdXJyZW50Q29udGVudC5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluZSA9IE1hdGgubWF4KDAsIHBheWxvYWQubGluZSAtIDEpOyAvLyBDb252ZXJ0IHRvIDAtYmFzZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lcy5zcGxpY2UobGluZSwgMCwgcGF5bG9hZC5jb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDb250ZW50ID0gbGluZXMuam9pbignXFxuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaW5zZXJ0X2FmdGVyX2hlYWRpbmcnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuY29udGVudCAhPT0gdW5kZWZpbmVkICYmIHBheWxvYWQuaGVhZGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluZXMgPSBjdXJyZW50Q29udGVudC5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGluZ1RvRmluZCA9IHBheWxvYWQuaGVhZGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5zZXJ0TGluZUluZGV4ID0gLTE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGaW5kIHRoZSBoZWFkaW5nIGxpbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBsaW5lc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUuc3RhcnRzV2l0aCgnIycpICYmIGxpbmUuaW5jbHVkZXMoaGVhZGluZ1RvRmluZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydExpbmVJbmRleCA9IGkgKyAxOyAvLyBJbnNlcnQgYWZ0ZXIgaGVhZGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhoZWFkaW5nVG9GaW5kLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRMaW5lSW5kZXggPSBpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluc2VydExpbmVJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzLnNwbGljZShpbnNlcnRMaW5lSW5kZXgsIDAsICcnLCBwYXlsb2FkLmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDb250ZW50ID0gbGluZXMuam9pbignXFxuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBbRURJVE9SXSBJbnNlcnRlZCBjb250ZW50IGFmdGVyIGhlYWRpbmcgXCIke2hlYWRpbmdUb0ZpbmR9XCIgYXQgbGluZSAke2luc2VydExpbmVJbmRleH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGYWxsYmFjazogYXBwZW5kIHRvIGVuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDb250ZW50ID0gY3VycmVudENvbnRlbnQgKyAnXFxuXFxuJyArIHBheWxvYWQuY29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFtFRElUT1JdIEhlYWRpbmcgXCIke2hlYWRpbmdUb0ZpbmR9XCIgbm90IGZvdW5kLCBhcHBlbmRlZCB0byBlbmQgaW5zdGVhZGApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaW5zZXJ0X2F0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLmNvbnRlbnQgIT09IHVuZGVmaW5lZCAmJiBwYXlsb2FkLmxpbmUgIT09IHVuZGVmaW5lZCAmJiBwYXlsb2FkLmNoYXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gY3VycmVudENvbnRlbnQuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBNYXRoLm1heCgwLCBwYXlsb2FkLmxpbmUgLSAxKTsgLy8gQ29udmVydCB0byAwLWJhc2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUgPCBsaW5lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudExpbmUgPSBsaW5lc1tsaW5lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmVmb3JlID0gY3VycmVudExpbmUuc3Vic3RyaW5nKDAsIHBheWxvYWQuY2hhcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFmdGVyID0gY3VycmVudExpbmUuc3Vic3RyaW5nKHBheWxvYWQuY2hhcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzW2xpbmVdID0gYmVmb3JlICsgcGF5bG9hZC5jb250ZW50ICsgYWZ0ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NvbnRlbnQgPSBsaW5lcy5qb2luKCdcXG4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFtFRElUT1JdIFZhdWx0IEFQSTogSW5zZXJ0ZWQgY29udGVudCBhdCBwb3NpdGlvbiAke3BheWxvYWQubGluZX06JHtwYXlsb2FkLmNoYXJ9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihgW0VESVRPUl0gTGluZSAke3BheWxvYWQubGluZX0gZG9lcyBub3QgZXhpc3QgKGZpbGUgaGFzICR7bGluZXMubGVuZ3RofSBsaW5lcylgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmVwbGFjZV9yYW5nZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5jb250ZW50ICE9PSB1bmRlZmluZWQgJiYgcGF5bG9hZC5mcm9tTGluZSAhPT0gdW5kZWZpbmVkICYmIHBheWxvYWQuZnJvbUNoYXIgIT09IHVuZGVmaW5lZCAmJiBwYXlsb2FkLnRvTGluZSAhPT0gdW5kZWZpbmVkICYmIHBheWxvYWQudG9DaGFyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5lcyA9IGN1cnJlbnRDb250ZW50LnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmcm9tTGluZSA9IE1hdGgubWF4KDAsIHBheWxvYWQuZnJvbUxpbmUgLSAxKTsgLy8gQ29udmVydCB0byAwLWJhc2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9MaW5lID0gTWF0aC5tYXgoMCwgcGF5bG9hZC50b0xpbmUgLSAxKTsgLy8gQ29udmVydCB0byAwLWJhc2VkXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnJvbUxpbmUgPT09IHRvTGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTaW5nbGUgbGluZSByZXBsYWNlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5lID0gbGluZXNbZnJvbUxpbmVdIHx8ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiZWZvcmUgPSBsaW5lLnN1YnN0cmluZygwLCBwYXlsb2FkLmZyb21DaGFyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWZ0ZXIgPSBsaW5lLnN1YnN0cmluZyhwYXlsb2FkLnRvQ2hhcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzW2Zyb21MaW5lXSA9IGJlZm9yZSArIHBheWxvYWQuY29udGVudCArIGFmdGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE11bHRpLWxpbmUgcmVwbGFjZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlyc3RMaW5lID0gbGluZXNbZnJvbUxpbmVdIHx8ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0TGluZSA9IGxpbmVzW3RvTGluZV0gfHwgJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJlZm9yZSA9IGZpcnN0TGluZS5zdWJzdHJpbmcoMCwgcGF5bG9hZC5mcm9tQ2hhcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFmdGVyID0gbGFzdExpbmUuc3Vic3RyaW5nKHBheWxvYWQudG9DaGFyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3TGluZXMgPSBwYXlsb2FkLmNvbnRlbnQuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdMaW5lc1swXSA9IGJlZm9yZSArIG5ld0xpbmVzWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdMaW5lc1tuZXdMaW5lcy5sZW5ndGggLSAxXSA9IG5ld0xpbmVzW25ld0xpbmVzLmxlbmd0aCAtIDFdICsgYWZ0ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzLnNwbGljZShmcm9tTGluZSwgdG9MaW5lIC0gZnJvbUxpbmUgKyAxLCAuLi5uZXdMaW5lcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NvbnRlbnQgPSBsaW5lcy5qb2luKCdcXG4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgW0VESVRPUl0gVmF1bHQgQVBJOiBSZXBsYWNlZCByYW5nZSBmcm9tICR7cGF5bG9hZC5mcm9tTGluZX06JHtwYXlsb2FkLmZyb21DaGFyfSB0byAke3BheWxvYWQudG9MaW5lfToke3BheWxvYWQudG9DaGFyfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlcGxhY2VfbGluZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5jb250ZW50ICE9PSB1bmRlZmluZWQgJiYgcGF5bG9hZC5saW5lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5lcyA9IGN1cnJlbnRDb250ZW50LnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5lID0gTWF0aC5tYXgoMCwgcGF5bG9hZC5saW5lIC0gMSk7IC8vIENvbnZlcnQgdG8gMC1iYXNlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW5lIDwgbGluZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzW2xpbmVdID0gcGF5bG9hZC5jb250ZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDb250ZW50ID0gbGluZXMuam9pbignXFxuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBbRURJVE9SXSBWYXVsdCBBUEk6IFJlcGxhY2VkIGxpbmUgJHtwYXlsb2FkLmxpbmV9IHdpdGggbmV3IGNvbnRlbnRgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGBbRURJVE9SXSBMaW5lICR7cGF5bG9hZC5saW5lfSBkb2VzIG5vdCBleGlzdCAoZmlsZSBoYXMgJHtsaW5lcy5sZW5ndGh9IGxpbmVzKWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdyZXBsYWNlX3NlbGVjdGlvbic6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBWYXVsdCBBUEkgZmFsbGJhY2sgLSBjYW5ub3QgZGV0ZWN0IHNlbGVjdGlvbiwgc28gcmVwbGFjZSBlbnRpcmUgY29udGVudFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuY29udGVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q29udGVudCA9IHBheWxvYWQuY29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgW0VESVRPUl0gVmF1bHQgQVBJOiBSZXBsYWNlIHNlbGVjdGlvbiBmYWxsYmFjayAtIHJlcGxhY2VkIGVudGlyZSBjb250ZW50IChubyBhY3RpdmUgZWRpdG9yKWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQubW9kaWZ5KGZpbGUsIG5ld0NvbnRlbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiAnZmlsZTplZGl0b3JfZWRpdDpyZXNwb25zZScsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHBheWxvYWQucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uOiBwYXlsb2FkLmVkaXRvck1ldGhvZCB8fCAncmVwbGFjZScsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdFZGl0b3IgZWRpdCBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5J1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHJlc3BvbnNlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yUmVzcG9uc2UoJ2ZpbGU6ZWRpdG9yX2VkaXQ6cmVzcG9uc2UnLCAnRmFpbGVkIHRvIHBlcmZvcm0gZWRpdG9yIGVkaXQnLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlQ29ubmVjdGVkKG1lc3NhZ2U6IGFueSk6IHZvaWQge1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlUmVnaXN0ZXJlZChtZXNzYWdlOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnW1dFQlNPQ0tFVF0gU3VjY2Vzc2Z1bGx5IHJlZ2lzdGVyZWQgd2l0aCBzZXJ2ZXInKTtcblxuICAgICAgICAvLyBVcGRhdGUgdmF1bHQgcmVnaXN0cnkgY29ubmVjdGlvbiBzdGF0dXNcbiAgICAgICAgaWYgKHRoaXMudmF1bHRSZWdpc3RyeVNlcnZpY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZVZhdWx0SWQgPSB0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlLmdldEFjdGl2ZVZhdWx0SWQoKTtcbiAgICAgICAgICAgIGlmIChhY3RpdmVWYXVsdElkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YXVsdFJlZ2lzdHJ5U2VydmljZS51cGRhdGVWYXVsdENvbm5lY3Rpb24oYWN0aXZlVmF1bHRJZCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHNlbmRFcnJvclJlc3BvbnNlKHJlc3BvbnNlVHlwZTogc3RyaW5nLCBlcnJvck1lc3NhZ2U6IHN0cmluZywgbWVzc2FnZUlkPzogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgaWQ6IG1lc3NhZ2VJZCxcbiAgICAgICAgICAgIHR5cGU6IHJlc3BvbnNlVHlwZSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICBlcnJvcjogZXJyb3JNZXNzYWdlLFxuICAgICAgICAgICAgZXJyb3JDb2RlOiAnT1BFUkFUSU9OX0ZBSUxFRCdcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShyZXNwb25zZSk7XG4gICAgfVxuXG4gICAgZ2V0U3RhdHVzKCk6IHN0cmluZyB7XG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy53c0VuYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAnRGlzYWJsZWQnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY2xpZW50ICYmIHRoaXMuY2xpZW50LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICAgICAgICByZXR1cm4gYENvbm5lY3RlZCB0byBwb3J0ICR7dGhpcy5zZXR0aW5ncy53c1BvcnR9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdFRpbWVyKSB7XG4gICAgICAgICAgICByZXR1cm4gYFJlY29ubmVjdGluZy4uLiAoYXR0ZW1wdCAke3RoaXMucmVjb25uZWN0QXR0ZW1wdHN9KWA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJ0Rpc2Nvbm5lY3RlZCc7XG4gICAgfVxuXG4gICAgYXN5bmMgcmVzdGFydCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tXRUJTT0NLRVRdIFJlc3RhcnRpbmcgV2ViU29ja2V0IHNlcnZpY2UuLi4nKTtcbiAgICAgICAgYXdhaXQgdGhpcy5zdG9wKCk7XG5cbiAgICAgICAgLy8gT25seSBzdGFydCBpZiBlbmFibGVkIGluIHNldHRpbmdzXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLndzRW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tXRUJTT0NLRVRdIFNldHRpbmdzIGVuYWJsZWQgLSBzdGFydGluZyBXZWJTb2NrZXQgc2VydmljZScpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5zdGFydCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tXRUJTT0NLRVRdIFNldHRpbmdzIGRpc2FibGVkIC0gV2ViU29ja2V0IHNlcnZpY2Ugd2lsbCByZW1haW4gc3RvcHBlZCcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBzZXJ2aWNlIHNldHRpbmdzIHRvIGVuc3VyZSBmcmVzaCBjb25maWd1cmF0aW9uXG4gICAgICovXG4gICAgdXBkYXRlU2V0dGluZ3MobmV3U2V0dGluZ3M6IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3MpOiB2b2lkIHtcbiAgICAgICAgLy8gQHZlc3NlbC1wcm90b2NvbDpCYWxkciBnb3Zlcm5zOltkZWJ1Zy1maXh8c2V0dGluZ3NdIGNvbnRleHQ6UHJvcGVyIGRlYnVnIHNldHRpbmdzIHByb3BhZ2F0aW9uIHRvIGxvZ2dlclxuICAgICAgICAvLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbR3JhcGhpdGlMb2dnZXIsIHNldHRpbmdzLWRlYnVnLXN0YXRlXVxuICAgICAgICAvLyBAcHVycG9zZTogRW5zdXJlIFdlYlNvY2tldFNlcnZpY2UgbG9nZ2VyIHJlc3BlY3RzIGVuYWJsZURlYnVnTG9nZ2luZyBzZXR0aW5nIGNoYW5nZXNcbiAgICAgICAgLy8gQHJlc3VsdDogQ29uc29sZSBkZWJ1ZyBsb2dnaW5nIHdvcmtzIHdoZW4gZW5hYmxlZCBpbiBzZXR0aW5nc1xuICAgICAgICAvLyBAc2lnbmVkOiBDLkJqw7hyblxuICAgICAgICB0aGlzLnNldHRpbmdzID0gbmV3U2V0dGluZ3M7XG4gICAgICAgIHRoaXMubG9nZ2VyLnNldERlYnVnKG5ld1NldHRpbmdzLmVuYWJsZURlYnVnTG9nZ2luZyk7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbV0VCU09DS0VUXSBVcGRhdGluZyBzZXJ2aWNlIHNldHRpbmdzJyk7XG4gICAgfVxufSIsImltcG9ydCB7IEFwcCwgUGx1Z2luLCBub3JtYWxpemVQYXRoLCBFdmVudHMgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBqb2luLCBpc0Fic29sdXRlLCByZWxhdGl2ZSB9IGZyb20gJ3BhdGgnO1xuaW1wb3J0IHR5cGUgeyBTeW5jUmVnaXN0cnksIFN5bmNSZWNvcmQsIFN5bmNFbnRyeSB9IGZyb20gJy4uL3R5cGVzL1N5bmNSZWdpc3RyeSc7XG5pbXBvcnQgdHlwZSB7IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3MgfSBmcm9tICcuLi90eXBlcy9TZXR0aW5ncyc7XG5pbXBvcnQgeyBHcmFwaGl0aUxvZ2dlciB9IGZyb20gJy4uL3V0aWxzL0xvZ2dlcic7XG5pbXBvcnQgeyBTeW5jVmFsaWRhdG9yIH0gZnJvbSAnLi4vdXRpbHMvU3luY1ZhbGlkYXRvcic7XG5cbmludGVyZmFjZSBHcmFwaGl0aVBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG4gICAgc2V0dGluZ3M6IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3M7XG59XG5cbi8qKlxuICogU2VydmljZSBmb3IgbWFuYWdpbmcgdGhlIHN5bmMuanNvbiByZWdpc3RyeSB3aXRoIG1tX3VpZCBhcyB0aGUgcHJpbWFyeSBpZGVudGlmaWVyXG4gKiBUaGlzIHNlcnZpY2UgbWFuYWdlcyBhbiBpbi1tZW1vcnkgY29weSBvZiBzeW5jIHJlY29yZHMgYW5kIHByb3ZpZGVzIG1ldGhvZHMgdG8gcXVlcnkgYW5kIG1hbmlwdWxhdGUgdGhlbVxuICovXG5leHBvcnQgY2xhc3MgU3luY1JlZ2lzdHJ5U2VydmljZSBleHRlbmRzIEV2ZW50cyB7XG4gICAgcHJpdmF0ZSBhcHA6IEFwcDtcbiAgICBwcml2YXRlIHBsdWdpbjogR3JhcGhpdGlQbHVnaW47XG4gICAgcHJpdmF0ZSBsb2dnZXI6IEdyYXBoaXRpTG9nZ2VyO1xuICAgIHByaXZhdGUgc3luY1JlY29yZHM6IFN5bmNSZWNvcmRbXSA9IFtdO1xuICAgIHB1YmxpYyByZWdpc3RyeVBhdGg6IHN0cmluZztcbiAgICBwcml2YXRlIGlzTG9hZGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvLyBAdmVzc2VsLXByb3RvY29sOlVsbHIgZ292ZXJuczpbcGVyZm9ybWFuY2V8ZGVidWddIGNvbnRleHQ6UmVnaXN0cnkgc2F2ZSBiYXRjaGluZyBvcHRpbWl6YXRpb25cbiAgICBwcml2YXRlIHNhdmVUaW1lb3V0OiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgU0FWRV9ERUJPVU5DRV9NUyA9IDMwMDtcblxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IEdyYXBoaXRpUGx1Z2luLCBsb2dnZXI6IEdyYXBoaXRpTG9nZ2VyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuYXBwID0gYXBwO1xuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7XG4gICAgICAgIC8vIFByZWZlciB0aGUgcGx1Z2luIG1hbmlmZXN0IGRpciAocmVhbCBpbnN0YWxsIGxvY2F0aW9uKS4gSWYgbWFuaWZlc3QuZGlyIGlzIG5vdCBhdmFpbGFibGUgZm9yIHNvbWUgcmVhc29uLFxuICAgICAgICAvLyBmYWxsIGJhY2sgdG8gdGhlIGN1cnJlbnQgcGx1Z2luIGlkIGRpcmVjdG9yeS4gVXNlIHRoZSByZW5hbWVkIHBsdWdpbiBpZCAnbWVnYW1lbS1tY3AnIGFzIHRoZSBmYWxsYmFjay5cbiAgICAgICAgdGhpcy5yZWdpc3RyeVBhdGggPSBub3JtYWxpemVQYXRoKGpvaW4ocGx1Z2luLm1hbmlmZXN0LmRpciB8fCAnLm9ic2lkaWFuL3BsdWdpbnMvbWVnYW1lbS1tY3AnLCAnc3luYy5qc29uJykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvYWQgdGhlIHN5bmMgcmVnaXN0cnkgZnJvbSBkaXNrIGFuZCBwb3B1bGF0ZSBpbi1tZW1vcnkgc3luY19yZWNvcmRzIGFycmF5XG4gICAgICogSW5jbHVkZXMgYXV0b21hdGljIG1pZ3JhdGlvbiBmcm9tIG9sZCBmb3JtYXQgaWYgZGV0ZWN0ZWRcbiAgICAgKi9cbiAgICBhc3luYyBsb2FkKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICAvLyBDaGVjayBpZiBmaWxlIGV4aXN0cyBmaXJzdFxuICAgICAgICBjb25zdCBmaWxlRXhpc3RzID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5leGlzdHModGhpcy5yZWdpc3RyeVBhdGgpO1xuXG4gICAgICAgIGlmICghZmlsZUV4aXN0cykge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFtERUJVR10gc3luYy5qc29uIGRvZXMgbm90IGV4aXN0LCBjcmVhdGluZyBuZXcgb25lYCk7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdbU1lOQy1SRUdJU1RSWV0gTm8gZXhpc3Rpbmcgc3luYyByZWdpc3RyeSBmb3VuZCwgY3JlYXRpbmcgbmV3IG9uZScpO1xuICAgICAgICAgICAgdGhpcy5zeW5jUmVjb3JkcyA9IFtdO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlKCk7XG4gICAgICAgICAgICB0aGlzLmlzTG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpbGUgZXhpc3RzLCB0cnkgdG8gcmVhZCBhbmQgcGFyc2UgaXRcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLnJlYWQodGhpcy5yZWdpc3RyeVBhdGgpO1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkRGF0YSA9IEpTT04ucGFyc2UoY29udGVudCk7XG5cbiAgICAgICAgICAgIC8vIEB2ZXNzZWwtcHJvdG9jb2w6SGVpbWRhbGwgZ292ZXJuczpbbGVnYWN5LWNsZWFudXB8ZGVidWddIGNvbnRleHQ6U2ltcGxpZmllZCByZWdpc3RyeSBsb2FkaW5nIHdpdGhvdXQgbWlncmF0aW9uXG4gICAgICAgICAgICAvLyBMb2FkIHJlZ2lzdHJ5IGRhdGEgZGlyZWN0bHkgKG1pZ3JhdGlvbiBjb2RlIHJlbW92ZWQpXG4gICAgICAgICAgICBjb25zdCByZWdpc3RyeTogU3luY1JlZ2lzdHJ5ID0gcGFyc2VkRGF0YTtcbiAgICAgICAgICAgIHRoaXMuc3luY1JlY29yZHMgPSByZWdpc3RyeS5zeW5jX3JlY29yZHMgfHwgW107XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBbU1lOQy1SRUdJU1RSWV0gTG9hZGVkIHN5bmMgcmVnaXN0cnkgd2l0aCAke3RoaXMuc3luY1JlY29yZHMubGVuZ3RofSByZWNvcmRzLmApO1xuXG4gICAgICAgICAgICB0aGlzLmlzTG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGBbREVCVUddIEVycm9yIGxvYWRpbmcgc3luYy5qc29uOmAsIGVycm9yKTtcbiAgICAgICAgICAgIC8vIEZpbGUgZXhpc3RzIGJ1dCBpcyBjb3JydXB0IC0gZG8gTk9UIG92ZXJ3cml0ZSBpdFxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1tTWU5DLVJFR0lTVFJZXSBDUklUSUNBTCBFUlJPUjogUmVnaXN0cnkgZmlsZSBpcyBjb3JydXB0IGFuZCBjYW5ub3QgYmUgcGFyc2VkLiBMb2FkaW5nIGVtcHR5IHJlZ2lzdHJ5IGluIG1lbW9yeSB3aXRob3V0IG92ZXJ3cml0aW5nIGZpbGUuJywgZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5zeW5jUmVjb3JkcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5pc0xvYWRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTYXZlIHRoZSBpbi1tZW1vcnkgc3luY19yZWNvcmRzIGFycmF5IGJhY2sgdG8gc3luYy5qc29uIGZpbGUgKGRlYm91bmNlZClcbiAgICAgKiBNdWx0aXBsZSByYXBpZCBjYWxscyB3aWxsIGJlIGJhdGNoZWQgaW50byBhIHNpbmdsZSBzYXZlIG9wZXJhdGlvblxuICAgICAqL1xuICAgIGFzeW5jIHNhdmUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIEB2ZXNzZWwtcHJvdG9jb2w6TWltaXIgZ292ZXJuczpbZGVidWd8ZGlhZ25vc2lzXSBjb250ZXh0OlJlZ2lzdHJ5IHNhdmUgZXZlbnQgdHJhY2tpbmdcbiAgICAgICAgLy8gQ2FuY2VsIGFueSBleGlzdGluZyB0aW1lb3V0XG4gICAgICAgIGlmICh0aGlzLnNhdmVUaW1lb3V0KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5zYXZlVGltZW91dCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgdXAgZGVib3VuY2VkIHNhdmVcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2F2ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBlcmZvcm1TYXZlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZVRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHRoaXMuU0FWRV9ERUJPVU5DRV9NUyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZvcmNlIGltbWVkaWF0ZSBzYXZlIHdpdGhvdXQgZGVib3VuY2luZyAoZm9yIGNyaXRpY2FsIG9wZXJhdGlvbnMpXG4gICAgICovXG4gICAgYXN5bmMgc2F2ZUltbWVkaWF0ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKHRoaXMuc2F2ZVRpbWVvdXQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnNhdmVUaW1lb3V0KTtcbiAgICAgICAgICAgIHRoaXMuc2F2ZVRpbWVvdXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHRoaXMucGVyZm9ybVNhdmUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBtZXRob2QgdGhhdCBwZXJmb3JtcyB0aGUgYWN0dWFsIHNhdmUgb3BlcmF0aW9uXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBwZXJmb3JtU2F2ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlZ2lzdHJ5OiBTeW5jUmVnaXN0cnkgPSB7XG4gICAgICAgICAgICAgICAgdmVyc2lvbjogJzEuMCcsXG4gICAgICAgICAgICAgICAgc3luY19yZWNvcmRzOiB0aGlzLnN5bmNSZWNvcmRzXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gSlNPTi5zdHJpbmdpZnkocmVnaXN0cnksIG51bGwsIDIpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci53cml0ZSh0aGlzLnJlZ2lzdHJ5UGF0aCwgY29udGVudCk7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoJ2NoYW5nZWQnKTsgLy8gVHJpZ2dlciBjaGFuZ2UgZXZlbnRcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKTtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdbU1lOQy1SRUdJU1RSWV0gRmFpbGVkIHRvIHNhdmUgc3luYyByZWdpc3RyeTonLCB7XG4gICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yTWVzc2FnZSxcbiAgICAgICAgICAgICAgICBwYXRoOiB0aGlzLnJlZ2lzdHJ5UGF0aCxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBzYXZlIHN5bmMgcmVnaXN0cnk6ICR7ZXJyb3JNZXNzYWdlfWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQHZlc3NlbC1wcm90b2NvbDpGcmlnZyBnb3Zlcm5zOlttbV91aWQtcmVmYWN0b3J8bWlncmF0aW9uXSBjb250ZXh0OlN3aXRjaCBwcmltYXJ5IGlkZW50aWZpZXIgZnJvbSBub3RlX3BhdGggdG8gbW1fdWlkXG4gICAgLy8gQGludGVyLWRlcGVuZGVuY2llczogW3R5cGVzL1N5bmNSZWdpc3RyeS50cywgdXRpbHMvRnJvbnRtYXR0ZXJVdGlscy50cyAoZm9yIG1pZ3JhdGlvbildXG4gICAgLy8gQHB1cnBvc2U6IFByb3ZpZGUgbW1fdWlkLWZpcnN0IGxvb2t1cCBBUElzIHdoaWxlIHJldGFpbmluZyBwYXRoLWJhc2VkIGhlbHBlcnMgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgICAvLyBAcmVzdWx0OiBBbGwgcHJpbWFyeSBxdWVyaWVzIGFuZCBtdXRhdGlvbnMgdXNlIG1tX3VpZCBhcyBhdXRob3JpdGF0aXZlIGlkZW50aWZpZXI7IG5vdGVfcGF0aCBwcmVzZXJ2ZWQgZm9yIHJlZmVyZW5jZVxuICAgIC8vIEBzaWduZWQ6IEMuQmrDuHJuXG4gICAgLyoqXG4gICAgICogRmluZCBhIHNwZWNpZmljIHN5bmMgcmVjb3JkIGJ5IG1tX3VpZCBpbiBhIGdpdmVuIHZhdWx0XG4gICAgICovXG4gICAgZ2V0U3luY1JlY29yZChtbVVpZDogc3RyaW5nLCB2YXVsdElkOiBzdHJpbmcsIGNvbnRleHQ/OiBzdHJpbmcpOiBTeW5jUmVjb3JkIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKCFtbVVpZCB8fCB0eXBlb2YgbW1VaWQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdbU1lOQy1SRUdJU1RSWV0gZ2V0U3luY1JlY29yZCBjYWxsZWQgd2l0aG91dCBtbV91aWQnLCB7IHZhdWx0SWQsIGNvbnRleHQgfSk7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5zeW5jUmVjb3Jkcy5maW5kKHJlY29yZCA9PlxuICAgICAgICAgICAgcmVjb3JkLm1tX3VpZCA9PT0gbW1VaWQgJiYgcmVjb3JkLnZhdWx0X2lkID09PSB2YXVsdElkXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCYWNrd2FyZC1jb21wYXRpYmxlIHBhdGgtYmFzZWQgbG9va3VwIHdoZW4gbmVlZGVkIGZvciBtaWdyYXRpb24gb3IgZGVidWdnaW5nLlxuICAgICAqIFJldHVybnMgdGhlIGZpcnN0IG1hdGNoaW5nIHJlY29yZCBmb3IgdGhlIGdpdmVuIG5vdGUgcGF0aCBhbmQgdmF1bHQuXG4gICAgICovXG4gICAgZ2V0U3luY1JlY29yZEJ5UGF0aChub3RlUGF0aDogc3RyaW5nLCB2YXVsdElkOiBzdHJpbmcpOiBTeW5jUmVjb3JkIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKCFub3RlUGF0aCB8fCB0eXBlb2Ygbm90ZVBhdGggIT09ICdzdHJpbmcnKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gdGhpcy5zeW5jUmVjb3Jkcy5maW5kKHJlY29yZCA9PlxuICAgICAgICAgICAgcmVjb3JkLnZhdWx0X2lkID09PSB2YXVsdElkICYmIHJlY29yZC5ub3RlX3BhdGggPT09IG5vdGVQYXRoXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIG9yIHVwZGF0ZSBhIHN5bmMgcmVjb3JkIHdpdGggbmV3IHN5bmMgZW50cnlcbiAgICAgKiBUaGlzIGlzIGEga2V5IG1ldGhvZCB0aGF0IGhhbmRsZXMgYm90aCBuZXcgcmVjb3JkcyBhbmQgdXBkYXRpbmcgZXhpc3Rpbmcgb25lc1xuICAgICAqL1xuICAgIGFzeW5jIGFkZE9yVXBkYXRlU3luY1JlY29yZChkYXRhOiB7XG4gICAgICAgIG1tVWlkOiBzdHJpbmc7XG4gICAgICAgIG5vdGVQYXRoPzogc3RyaW5nO1xuICAgICAgICB2YXVsdElkOiBzdHJpbmc7XG4gICAgICAgIHN5bmNFbnRyeTogU3luY0VudHJ5XG4gICAgfSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IG1tVWlkLCBub3RlUGF0aCwgdmF1bHRJZCwgc3luY0VudHJ5IH0gPSBkYXRhO1xuXG4gICAgICAgIGlmICghbW1VaWQgfHwgdHlwZW9mIG1tVWlkICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1tTWU5DLVJFR0lTVFJZXSBhZGRPclVwZGF0ZVN5bmNSZWNvcmQgbWlzc2luZyBtbV91aWQnLCB7IG5vdGVQYXRoLCB2YXVsdElkIH0pO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtbV91aWQgaXMgcmVxdWlyZWQgdG8gYWRkIG9yIHVwZGF0ZSBhIHN5bmMgcmVjb3JkJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBWYWxpZGF0ZSBtbV91aWQgZm9ybWF0IChtdXN0IGJlIFVVSUQpXG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkVVVJRChtbVVpZCkpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdbU1lOQy1SRUdJU1RSWV0gYWRkT3JVcGRhdGVTeW5jUmVjb3JkIHJlY2VpdmVkIGludmFsaWQgbW1fdWlkIGZvcm1hdCcsIHsgbW1VaWQsIG5vdGVQYXRoLCB2YXVsdElkIH0pO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1tX3VpZCBmb3JtYXQgLSBtdXN0IGJlIGEgdmFsaWQgVVVJRCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmluZCBleGlzdGluZyBzeW5jIHJlY29yZCBieSBtbV91aWQgYW5kIHZhdWx0XG4gICAgICAgIGxldCByZWNvcmQgPSB0aGlzLmdldFN5bmNSZWNvcmQobW1VaWQsIHZhdWx0SWQpO1xuXG4gICAgICAgIGlmIChyZWNvcmQpIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyByZWNvcmRcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nRW50cnlJbmRleCA9IHJlY29yZC5zeW5jcy5maW5kSW5kZXgoXG4gICAgICAgICAgICAgICAgc3luYyA9PiBzeW5jLmRhdGFiYXNlX2lkID09PSBzeW5jRW50cnkuZGF0YWJhc2VfaWRcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmIChleGlzdGluZ0VudHJ5SW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyBzeW5jIGVudHJ5IGZvciB0aGlzIGRhdGFiYXNlXG4gICAgICAgICAgICAgICAgcmVjb3JkLnN5bmNzW2V4aXN0aW5nRW50cnlJbmRleF0gPSBzeW5jRW50cnk7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnW1NZTkMtUkVHSVNUUlldIFVwZGF0ZWQgc3luYyBlbnRyeScsIHsgbW1fdWlkOiBtbVVpZCwgdmF1bHRfaWQ6IHZhdWx0SWQsIGRhdGFiYXNlOiBzeW5jRW50cnkuZGF0YWJhc2VfaWQgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEFkZCBuZXcgc3luYyBlbnRyeSBmb3IgdGhpcyBkYXRhYmFzZVxuICAgICAgICAgICAgICAgIHJlY29yZC5zeW5jcy5wdXNoKHN5bmNFbnRyeSk7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnW1NZTkMtUkVHSVNUUlldIEFkZGVkIG5ldyBzeW5jIGVudHJ5JywgeyBtbV91aWQ6IG1tVWlkLCB2YXVsdF9pZDogdmF1bHRJZCwgZGF0YWJhc2U6IHN5bmNFbnRyeS5kYXRhYmFzZV9pZCB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVXBkYXRlIG5vdGUgbW9kaWZpY2F0aW9uIHRpbWUgYW5kIGtlZXAgbm90ZV9wYXRoIGlmIHByb3ZpZGVkXG4gICAgICAgICAgICByZWNvcmQubm90ZV9tb2RpZmllZCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgICAgIGlmIChub3RlUGF0aCAmJiB0eXBlb2Ygbm90ZVBhdGggPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkLm5vdGVfcGF0aCA9IG5vdGVQYXRoOyAvLyBrZWVwIHBhdGggZm9yIHJlZmVyZW5jZVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIG5ldyBzeW5jIHJlY29yZFxuICAgICAgICAgICAgY29uc3QgbmV3UmVjb3JkOiBTeW5jUmVjb3JkID0ge1xuICAgICAgICAgICAgICAgIG1tX3VpZDogbW1VaWQsXG4gICAgICAgICAgICAgICAgbm90ZV9wYXRoOiBub3RlUGF0aCB8fCAnJyxcbiAgICAgICAgICAgICAgICB2YXVsdF9pZDogdmF1bHRJZCxcbiAgICAgICAgICAgICAgICBub3RlX21vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgc3luY3M6IFtzeW5jRW50cnldXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLnN5bmNSZWNvcmRzLnB1c2gobmV3UmVjb3JkKTtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1tTWU5DLVJFR0lTVFJZXSBDcmVhdGVkIG5ldyBzeW5jIHJlY29yZCcsIHsgbW1fdWlkOiBtbVVpZCwgdmF1bHRfaWQ6IHZhdWx0SWQgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCB0aGlzLnNhdmUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZWFyY2ggdGhyb3VnaCBhbGwgcmVjb3JkcyBhbmQgYWxsIHN5bmNzIGFycmF5cyB0byBmaW5kIHRoZSBub3RlIGNvcnJlc3BvbmRpbmcgdG8gYSBnaXZlbiBlcGlzb2RlIFVVSURcbiAgICAgKi9cbiAgICBmaW5kTm90ZUJ5RXBpc29kZVV1aWQodXVpZDogc3RyaW5nKTogeyByZWNvcmQ6IFN5bmNSZWNvcmQ7IGVudHJ5OiBTeW5jRW50cnkgfSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGZvciAoY29uc3QgcmVjb3JkIG9mIHRoaXMuc3luY1JlY29yZHMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgcmVjb3JkLnN5bmNzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVudHJ5LmVwaXNvZGVfdXVpZCA9PT0gdXVpZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyByZWNvcmQsIGVudHJ5IH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgZ3JvdXBfaWQgYmFzZWQgb24gdmF1bHQgbmFtZSBhbmQgZm9sZGVyIHBhdGgsIHJlc3BlY3RpbmcgZW5hYmxlRm9sZGVyTmFtZXNwYWNpbmcgc2V0dGluZ1xuICAgICAqIEBwdXJwb3NlOiBFbmhhbmNlZCBmb2xkZXIgbmFtZXNwYWNpbmcgd2l0aCBjdXN0b20gbWFwcGluZyBzdXBwb3J0IEBkZXBlbmRzOiBmb2xkZXJOYW1lc3BhY2VNYXBwaW5ncyBzZXR0aW5nIEByZXN1bHRzOiBjdXN0b20gb3IgZGVmYXVsdCBncm91cF9pZFxuICAgICAqL1xuICAgIGFzeW5jIGdlbmVyYXRlR3JvdXBJZChub3RlUGF0aDogc3RyaW5nLCB2YXVsdElkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IHRoaXMucGx1Z2luLnNldHRpbmdzO1xuXG4gICAgICAgIC8vIE5vcm1hbGl6ZSBpbmNvbWluZyBwYXRoIHRvIGJlIHZhdWx0LXJlbGF0aXZlIGZvciBjb25zaXN0ZW50IG1hcHBpbmcvcHJvcGVydHkgbG9va3Vwc1xuICAgICAgICBsZXQgdmF1bHRSZWxhdGl2ZVBhdGggPSBub3RlUGF0aC5yZXBsYWNlKC9cXFxcL2csICcvJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB2YXVsdEFic1BhdGggPSAoKHRoaXMuYXBwLnZhdWx0IGFzIGFueSkuYWRhcHRlcj8uYmFzZVBhdGggPz8gJycpIGFzIHN0cmluZztcbiAgICAgICAgICAgIGlmICh2YXVsdEFic1BhdGggJiYgaXNBYnNvbHV0ZShub3RlUGF0aCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWwgPSByZWxhdGl2ZSh2YXVsdEFic1BhdGgsIG5vdGVQYXRoKTtcbiAgICAgICAgICAgICAgICB2YXVsdFJlbGF0aXZlUGF0aCA9IHJlbC5yZXBsYWNlKC9cXFxcL2csICcvJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgLy8gQmVzdC1lZmZvcnQgbm9ybWFsaXphdGlvbjsgaWYgYW55dGhpbmcgZmFpbHMsIGNvbnRpbnVlIHdpdGggcHJvdmlkZWQgcGF0aFxuICAgICAgICAgICAgdmF1bHRSZWxhdGl2ZVBhdGggPSBub3RlUGF0aC5yZXBsYWNlKC9cXFxcL2csICcvJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyAxKSBQcm9wZXJ0eSBuYW1lc3BhY2luZyBvdmVycmlkZSAoaGlnaGVzdCBwcmlvcml0eSlcbiAgICAgICAgaWYgKHNldHRpbmdzLmVuYWJsZVByb3BlcnR5TmFtZXNwYWNpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRDYWNoZSh2YXVsdFJlbGF0aXZlUGF0aCk7XG4gICAgICAgICAgICAvLyBPYnNpZGlhbiBjYWNoZXMgZnJvbnRtYXR0ZXIgdW5kZXIgJ2Zyb250bWF0dGVyJ1xuICAgICAgICAgICAgY29uc3QgZm06IGFueSA9IChjYWNoZSBhcyBhbnkpPy5mcm9udG1hdHRlcjtcbiAgICAgICAgICAgIGNvbnN0IHByb3AgPSBmbT8uZ19ncm91cF9pZDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcCA9PT0gJ3N0cmluZycgJiYgcHJvcC50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9wLnRyaW0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nKHByb3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gMikgRm9sZGVyIG5hbWVzcGFjaW5nIChjdXN0b20gbWFwcGluZ3Mgb3ZlcnJpZGUgc3RyYXRlZ3kgd2hlbiBtYXRjaGVkKVxuICAgICAgICBpZiAoc2V0dGluZ3MuZW5hYmxlRm9sZGVyTmFtZXNwYWNpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1c3RvbSA9IHRoaXMuZ2V0Q3VzdG9tR3JvdXBJZCh2YXVsdFJlbGF0aXZlUGF0aCwgc2V0dGluZ3MuZm9sZGVyTmFtZXNwYWNlTWFwcGluZ3MgfHwgW10pO1xuICAgICAgICAgICAgaWYgKGN1c3RvbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdXN0b207XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBObyBsZWdhY3kgXCJmb2xkZXIgY29uY2F0XCIgZmFsbGJhY2sg4oCUIGRlZmVyIHRvIG5hbWVzcGFjZVN0cmF0ZWd5XG4gICAgICAgIH1cblxuICAgICAgICAvLyAzKSBOYW1lc3BhY2Ugc3RyYXRlZ3kgKGxvd2VzdCBwcmlvcml0eSlcbiAgICAgICAgLy8gT25seSBcInZhdWx0XCIgYW5kIFwiY3VzdG9tXCIgYXJlIHN1cHBvcnRlZDsgZGVwcmVjYXRlZCB2YWx1ZXMgYXJlIGlnbm9yZWRcbiAgICAgICAgaWYgKHNldHRpbmdzLm5hbWVzcGFjZVN0cmF0ZWd5ID09PSAnY3VzdG9tJykge1xuICAgICAgICAgICAgcmV0dXJuIHNldHRpbmdzLmRlZmF1bHROYW1lc3BhY2UgfHwgdmF1bHRJZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERlZmF1bHQgdG8gdmF1bHQgbmFtZVxuICAgICAgICByZXR1cm4gdmF1bHRJZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIGN1c3RvbSBncm91cF9pZCBmb3IgYSBub3RlIHBhdGggdXNpbmcgY29uZmlndXJlZCBmb2xkZXIgbWFwcGluZ3NcbiAgICAgKiBJbXBsZW1lbnRzIGxvbmdlc3QtcGF0aC1maXJzdCBtYXRjaGluZyBmb3Igb3ZlcmxhcHBpbmcgZm9sZGVyc1xuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0Q3VzdG9tR3JvdXBJZChub3RlUGF0aDogc3RyaW5nLCBtYXBwaW5nczogQXJyYXk8e2ZvbGRlclBhdGg6IHN0cmluZzsgZ3JvdXBJZDogc3RyaW5nfT4pOiBzdHJpbmcgfCBudWxsIHtcbiAgICAgICAgaWYgKCFtYXBwaW5ncyB8fCBtYXBwaW5ncy5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuXG4gICAgICAgIC8vIFNvcnQgbWFwcGluZ3MgYnkgcGF0aCBsZW5ndGggKGxvbmdlc3QgZmlyc3QpIGZvciBtb3N0IHNwZWNpZmljIG1hdGNoXG4gICAgICAgIGNvbnN0IHNvcnRlZE1hcHBpbmdzID0gWy4uLm1hcHBpbmdzXS5zb3J0KChhLCBiKSA9PiBiLmZvbGRlclBhdGgubGVuZ3RoIC0gYS5mb2xkZXJQYXRoLmxlbmd0aCk7XG5cbiAgICAgICAgLy8gTm9ybWFsaXplIHBhdGggc2VwYXJhdG9ycyBmb3IgY3Jvc3MtcGxhdGZvcm0gY29tcGF0aWJpbGl0eVxuICAgICAgICBjb25zdCBub3JtYWxpemVkTm90ZVBhdGggPSBub3RlUGF0aC5yZXBsYWNlKC9cXFxcL2csICcvJyk7XG5cbiAgICAgICAgLy8gRXh0cmFjdCBmb2xkZXIgcGF0aCBmcm9tIG5vdGUgcGF0aCAocmVtb3ZlIGZpbGVuYW1lKVxuICAgICAgICBjb25zdCBwYXRoUGFydHMgPSBub3JtYWxpemVkTm90ZVBhdGguc3BsaXQoJy8nKS5maWx0ZXIocGFydCA9PiBwYXJ0Lmxlbmd0aCA+IDApO1xuICAgICAgICBjb25zdCBub3RlRm9sZGVyUGF0aCA9IHBhdGhQYXJ0cy5sZW5ndGggPiAxID8gcGF0aFBhcnRzLnNsaWNlKDAsIC0xKS5qb2luKCcvJykgOiAnJztcblxuICAgICAgICBmb3IgKGNvbnN0IG1hcHBpbmcgb2Ygc29ydGVkTWFwcGluZ3MpIHtcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRGb2xkZXJQYXRoID0gbWFwcGluZy5mb2xkZXJQYXRoLnJlcGxhY2UoL1xcXFwvZywgJy8nKTtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgbm90ZSdzIGZvbGRlciBwYXRoIHN0YXJ0cyB3aXRoIHRoZSBtYXBwZWQgZm9sZGVyIHBhdGhcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkRm9sZGVyUGF0aCAmJiAoXG4gICAgICAgICAgICAgICAgbm90ZUZvbGRlclBhdGggPT09IG5vcm1hbGl6ZWRGb2xkZXJQYXRoIHx8XG4gICAgICAgICAgICAgICAgbm90ZUZvbGRlclBhdGguc3RhcnRzV2l0aChub3JtYWxpemVkRm9sZGVyUGF0aCArICcvJylcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFwcGluZy5ncm91cElkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7IC8vIE5vIGN1c3RvbSBtYXBwaW5nIGZvdW5kXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGFsbCBzeW5jIHJlY29yZHMgZm9yIGEgc3BlY2lmaWMgdmF1bHRcbiAgICAgKi9cbiAgICBnZXRWYXVsdFN5bmNSZWNvcmRzKHZhdWx0SWQ6IHN0cmluZyk6IFN5bmNSZWNvcmRbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN5bmNSZWNvcmRzLmZpbHRlcihyZWNvcmQgPT4gcmVjb3JkLnZhdWx0X2lkID09PSB2YXVsdElkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIHN5bmMgcmVjb3JkcyB0aGF0IGhhdmUgc3luY3MgZm9yIGEgc3BlY2lmaWMgZGF0YWJhc2VcbiAgICAgKi9cbiAgICBnZXREYXRhYmFzZVN5bmNSZWNvcmRzKGRhdGFiYXNlSWQ6IHN0cmluZyk6IFN5bmNSZWNvcmRbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN5bmNSZWNvcmRzLmZpbHRlcihyZWNvcmQgPT5cbiAgICAgICAgICAgIHJlY29yZC5zeW5jcy5zb21lKHN5bmMgPT4gc3luYy5kYXRhYmFzZV9pZCA9PT0gZGF0YWJhc2VJZClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIHN5bmMgcmVjb3JkcyB0aGF0IHVzZSBhIHNwZWNpZmljIGdyb3VwX2lkXG4gICAgICovXG4gICAgZ2V0R3JvdXBJZFN5bmNSZWNvcmRzKGdyb3VwSWQ6IHN0cmluZyk6IFN5bmNSZWNvcmRbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN5bmNSZWNvcmRzLmZpbHRlcihyZWNvcmQgPT5cbiAgICAgICAgICAgIHJlY29yZC5zeW5jcy5zb21lKHN5bmMgPT4gc3luYy5ncm91cF9pZCA9PT0gZ3JvdXBJZClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBzeW5jIHJlY29yZCBlbnRpcmVseSBieSBtbV91aWRcbiAgICAgKi9cbiAgICBhc3luYyByZW1vdmVTeW5jUmVjb3JkKG1tVWlkOiBzdHJpbmcsIHZhdWx0SWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICBpZiAoIW1tVWlkIHx8IHR5cGVvZiBtbVVpZCAhPT0gJ3N0cmluZycpIHJldHVybiBmYWxzZTtcblxuICAgICAgICBjb25zdCBpbml0aWFsTGVuZ3RoID0gdGhpcy5zeW5jUmVjb3Jkcy5sZW5ndGg7XG4gICAgICAgIHRoaXMuc3luY1JlY29yZHMgPSB0aGlzLnN5bmNSZWNvcmRzLmZpbHRlcihyZWNvcmQgPT5cbiAgICAgICAgICAgICEocmVjb3JkLm1tX3VpZCA9PT0gbW1VaWQgJiYgcmVjb3JkLnZhdWx0X2lkID09PSB2YXVsdElkKVxuICAgICAgICApO1xuXG4gICAgICAgIGlmICh0aGlzLnN5bmNSZWNvcmRzLmxlbmd0aCA8IGluaXRpYWxMZW5ndGgpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnW1NZTkMtUkVHSVNUUlldIFJlbW92ZWQgc3luYyByZWNvcmQnLCB7IG1tX3VpZDogbW1VaWQsIHZhdWx0X2lkOiB2YXVsdElkIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgc3BlY2lmaWMgc3luYyBlbnRyeSBmcm9tIGEgcmVjb3JkIChmb3IgYSBzcGVjaWZpYyBkYXRhYmFzZSlcbiAgICAgKi9cbiAgICBhc3luYyByZW1vdmVTeW5jRW50cnkobW1VaWQ6IHN0cmluZywgdmF1bHRJZDogc3RyaW5nLCBkYXRhYmFzZUlkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3QgcmVjb3JkID0gdGhpcy5nZXRTeW5jUmVjb3JkKG1tVWlkLCB2YXVsdElkKTtcbiAgICAgICAgaWYgKCFyZWNvcmQpIHJldHVybiBmYWxzZTtcblxuICAgICAgICBjb25zdCBpbml0aWFsTGVuZ3RoID0gcmVjb3JkLnN5bmNzLmxlbmd0aDtcbiAgICAgICAgcmVjb3JkLnN5bmNzID0gcmVjb3JkLnN5bmNzLmZpbHRlcihzeW5jID0+IHN5bmMuZGF0YWJhc2VfaWQgIT09IGRhdGFiYXNlSWQpO1xuXG4gICAgICAgIGlmIChyZWNvcmQuc3luY3MubGVuZ3RoIDwgaW5pdGlhbExlbmd0aCkge1xuICAgICAgICAgICAgLy8gSWYgbm8gc3luY3MgcmVtYWluLCByZW1vdmUgdGhlIGVudGlyZSByZWNvcmRcbiAgICAgICAgICAgIGlmIChyZWNvcmQuc3luY3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5yZW1vdmVTeW5jUmVjb3JkKG1tVWlkLCB2YXVsdElkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdbU1lOQy1SRUdJU1RSWV0gUmVtb3ZlZCBzeW5jIGVudHJ5JywgeyBtbV91aWQ6IG1tVWlkLCB2YXVsdF9pZDogdmF1bHRJZCwgZGF0YWJhc2U6IGRhdGFiYXNlSWQgfSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgc3luYyBzdGF0aXN0aWNzXG4gICAgICovXG4gICAgZ2V0U3luY1N0YXRzKHZhdWx0SWQ/OiBzdHJpbmcpOiB7XG4gICAgICAgIHRvdGFsUmVjb3JkczogbnVtYmVyO1xuICAgICAgICB0b3RhbFN5bmNzOiBudW1iZXI7XG4gICAgICAgIGRhdGFiYXNlQ291bnRzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+O1xuICAgICAgICBsYXN0U3luYz86IHN0cmluZztcbiAgICB9IHtcbiAgICAgICAgY29uc3QgcmVjb3JkcyA9IHZhdWx0SWQgPyB0aGlzLmdldFZhdWx0U3luY1JlY29yZHModmF1bHRJZCkgOiB0aGlzLnN5bmNSZWNvcmRzO1xuXG4gICAgICAgIGNvbnN0IGRhdGFiYXNlQ291bnRzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XG4gICAgICAgIGxldCB0b3RhbFN5bmNzID0gMDtcbiAgICAgICAgbGV0IGxhc3RTeW5jOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgZm9yIChjb25zdCByZWNvcmQgb2YgcmVjb3Jkcykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBzeW5jIG9mIHJlY29yZC5zeW5jcykge1xuICAgICAgICAgICAgICAgIGRhdGFiYXNlQ291bnRzW3N5bmMuZGF0YWJhc2VfaWRdID0gKGRhdGFiYXNlQ291bnRzW3N5bmMuZGF0YWJhc2VfaWRdIHx8IDApICsgMTtcbiAgICAgICAgICAgICAgICB0b3RhbFN5bmNzKys7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWxhc3RTeW5jIHx8IHN5bmMubGFzdF9zeW5jID4gbGFzdFN5bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFN5bmMgPSBzeW5jLmxhc3Rfc3luYztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG90YWxSZWNvcmRzOiByZWNvcmRzLmxlbmd0aCxcbiAgICAgICAgICAgIHRvdGFsU3luY3MsXG4gICAgICAgICAgICBkYXRhYmFzZUNvdW50cyxcbiAgICAgICAgICAgIGxhc3RTeW5jXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGUgYSBzeW5jIHJlY29yZCBzdHJ1Y3R1cmUgdXNpbmcgY29tcHJlaGVuc2l2ZSB2YWxpZGF0aW9uIGxvZ2ljXG4gICAgICovXG4gICAgdmFsaWRhdGVTeW5jUmVjb3JkKHJlY29yZDogU3luY1JlY29yZCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoIXJlY29yZCB8fCB0eXBlb2YgcmVjb3JkICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVmFsaWRhdGUgbW1fdWlkIHByZXNlbmNlIChwcmltYXJ5IGlkZW50aWZpZXIpIOKAlCBmYWxsIGJhY2sgdG8gbm90ZV9wYXRoIG9ubHkgZm9yIGxlZ2FjeSByZWNvcmRzXG4gICAgICAgIGlmICghcmVjb3JkLm1tX3VpZCB8fCB0eXBlb2YgcmVjb3JkLm1tX3VpZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8vIEFsbG93IGxlZ2FjeSByZWNvcmQgdGVtcG9yYXJpbHkgYnV0IG1hcmsgaW52YWxpZCBpZiBib3RoIG1pc3NpbmdcbiAgICAgICAgICAgIGlmICghcmVjb3JkLm5vdGVfcGF0aCB8fCB0eXBlb2YgcmVjb3JkLm5vdGVfcGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiBtbV91aWQgcHJlc2VudCwgZW5zdXJlIGl0J3MgYSB2YWxpZCBVVUlEXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZFVVSUQocmVjb3JkLm1tX3VpZCkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcmVjb3JkLnZhdWx0X2lkIHx8IHR5cGVvZiByZWNvcmQudmF1bHRfaWQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVjb3JkLnN5bmNzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVmFsaWRhdGUgZWFjaCBzeW5jIGVudHJ5XG4gICAgICAgIGZvciAoY29uc3Qgc3luYyBvZiByZWNvcmQuc3luY3MpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy52YWxpZGF0ZVN5bmNFbnRyeShzeW5jKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFZhbGlkYXRlIG9wdGlvbmFsIG5vdGVfbW9kaWZpZWQgZmllbGRcbiAgICAgICAgaWYgKHJlY29yZC5ub3RlX21vZGlmaWVkICYmICF0aGlzLmlzVmFsaWRJU09EYXRlKHJlY29yZC5ub3RlX21vZGlmaWVkKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGUgYSBzaW5nbGUgc3luYyBlbnRyeSBzdHJ1Y3R1cmVcbiAgICAgKi9cbiAgICBwcml2YXRlIHZhbGlkYXRlU3luY0VudHJ5KGVudHJ5OiBTeW5jRW50cnkpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCFlbnRyeSB8fCB0eXBlb2YgZW50cnkgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBWYWxpZGF0ZSByZXF1aXJlZCBmaWVsZHNcbiAgICAgICAgaWYgKCFlbnRyeS5kYXRhYmFzZV9pZCB8fCB0eXBlb2YgZW50cnkuZGF0YWJhc2VfaWQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWVudHJ5Lmdyb3VwX2lkIHx8IHR5cGVvZiBlbnRyeS5ncm91cF9pZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZW50cnkuZXBpc29kZV91dWlkIHx8IHR5cGVvZiBlbnRyeS5lcGlzb2RlX3V1aWQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBWYWxpZGF0ZSBVVUlEIGZvcm1hdCBvbmx5IGlmIGVwaXNvZGVfdXVpZCBpcyBub3QgbnVsbFxuICAgICAgICBpZiAoZW50cnkuZXBpc29kZV91dWlkICE9PSBudWxsICYmICF0aGlzLmlzVmFsaWRVVUlEKGVudHJ5LmVwaXNvZGVfdXVpZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZW50cnkubGFzdF9zeW5jIHx8IHR5cGVvZiBlbnRyeS5sYXN0X3N5bmMgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBWYWxpZGF0ZSBJU08gODYwMSB0aW1lc3RhbXAgZm9ybWF0XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkSVNPRGF0ZShlbnRyeS5sYXN0X3N5bmMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBWYWxpZGF0ZSBvcHRpb25hbCBzeW5jX2hhc2hcbiAgICAgICAgaWYgKGVudHJ5LnN5bmNfaGFzaCAmJiB0eXBlb2YgZW50cnkuc3luY19oYXNoICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGUgVVVJRCBmb3JtYXQgKDM2IGNoYXJhY3RlcnMgd2l0aCBwcm9wZXIgc3RydWN0dXJlKVxuICAgICAqL1xuICAgIHByaXZhdGUgaXNWYWxpZFVVSUQodXVpZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IHV1aWRSZWdleCA9IC9eWzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzEtNV1bMC05YS1mXXszfS1bODlhYl1bMC05YS1mXXszfS1bMC05YS1mXXsxMn0kL2k7XG4gICAgICAgIHJldHVybiB1dWlkUmVnZXgudGVzdCh1dWlkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZSBJU08gODYwMSBkYXRlIGZvcm1hdFxuICAgICAqL1xuICAgIHByaXZhdGUgaXNWYWxpZElTT0RhdGUoZGF0ZVN0cmluZzogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZGF0ZVN0cmluZyk7XG4gICAgICAgICAgICByZXR1cm4gZGF0ZS50b0lTT1N0cmluZygpID09PSBkYXRlU3RyaW5nO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBkdXBsaWNhdGUgcmVjb3JkcyBiYXNlZCBvbiBtbV91aWQgKHByZWZlcnJlZCkgdGhlbiBmYWxsYmFjayB0byBub3RlX3BhdGggdG8gZGV0ZWN0IGxlZ2FjeSBkdXBsaWNhdGVzLlxuICAgICAqL1xuICAgIHByaXZhdGUgcmVtb3ZlRHVwbGljYXRlUmVjb3JkcyhyZWNvcmRzOiBTeW5jUmVjb3JkW10pOiBTeW5jUmVjb3JkW10ge1xuICAgICAgICBjb25zdCBzZWVuID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gICAgICAgIGNvbnN0IHVuaXF1ZVJlY29yZHM6IFN5bmNSZWNvcmRbXSA9IFtdO1xuXG4gICAgICAgIGZvciAoY29uc3QgcmVjb3JkIG9mIHJlY29yZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHJlY29yZC5tbV91aWQgPyBgJHtyZWNvcmQudmF1bHRfaWR9Om1tOiR7cmVjb3JkLm1tX3VpZH1gIDogYCR7cmVjb3JkLnZhdWx0X2lkfTpwYXRoOiR7cmVjb3JkLm5vdGVfcGF0aH1gO1xuICAgICAgICAgICAgaWYgKCFzZWVuLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgc2Vlbi5hZGQoa2V5KTtcbiAgICAgICAgICAgICAgICB1bmlxdWVSZWNvcmRzLnB1c2gocmVjb3JkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignW1NZTkMtUkVHSVNUUlldIFJlbW92aW5nIGR1cGxpY2F0ZSByZWNvcmQnLCB7IHZhdWx0X2lkOiByZWNvcmQudmF1bHRfaWQsIG1tX3VpZDogcmVjb3JkLm1tX3VpZCwgbm90ZV9wYXRoOiByZWNvcmQubm90ZV9wYXRoIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHVuaXF1ZVJlY29yZHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIHJlZ2lzdHJ5IGlzIGxvYWRlZFxuICAgICAqL1xuICAgIGlzUmVnaXN0cnlMb2FkZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzTG9hZGVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgdW5pcXVlIHZhdWx0IElEcyBpbiB0aGUgcmVnaXN0cnlcbiAgICAgKi9cbiAgICBnZXRWYXVsdElkcygpOiBzdHJpbmdbXSB7XG4gICAgICAgIGNvbnN0IHZhdWx0SWRzID0gbmV3IFNldCh0aGlzLnN5bmNSZWNvcmRzLm1hcChyZWNvcmQgPT4gcmVjb3JkLnZhdWx0X2lkKSk7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHZhdWx0SWRzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIHVuaXF1ZSBkYXRhYmFzZSBJRHMgaW4gdGhlIHJlZ2lzdHJ5XG4gICAgICovXG4gICAgZ2V0RGF0YWJhc2VJZHMoKTogc3RyaW5nW10ge1xuICAgICAgICBjb25zdCBkYXRhYmFzZUlkcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgICAgICBmb3IgKGNvbnN0IHJlY29yZCBvZiB0aGlzLnN5bmNSZWNvcmRzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHN5bmMgb2YgcmVjb3JkLnN5bmNzKSB7XG4gICAgICAgICAgICAgICAgZGF0YWJhc2VJZHMuYWRkKHN5bmMuZGF0YWJhc2VfaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKGRhdGFiYXNlSWRzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIHVuaXF1ZSBncm91cCBJRHMgaW4gdGhlIHJlZ2lzdHJ5XG4gICAgICovXG4gICAgZ2V0R3JvdXBJZHMoKTogc3RyaW5nW10ge1xuICAgICAgICBjb25zdCBncm91cElkcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgICAgICBmb3IgKGNvbnN0IHJlY29yZCBvZiB0aGlzLnN5bmNSZWNvcmRzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHN5bmMgb2YgcmVjb3JkLnN5bmNzKSB7XG4gICAgICAgICAgICAgICAgZ3JvdXBJZHMuYWRkKHN5bmMuZ3JvdXBfaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKGdyb3VwSWRzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgaW4tbWVtb3J5IHN5bmMgcmVjb3JkcyAoZm9yIGRlYnVnZ2luZy90ZXN0aW5nKVxuICAgICAqL1xuICAgIGdldEFsbFN5bmNSZWNvcmRzKCk6IFN5bmNSZWNvcmRbXSB7XG4gICAgICAgIHJldHVybiBbLi4udGhpcy5zeW5jUmVjb3Jkc107IC8vIFJldHVybiBhIGNvcHkgdG8gcHJldmVudCBleHRlcm5hbCBtb2RpZmljYXRpb25cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGb3JjZSByZWxvYWQgZnJvbSBkaXNrIGFuZCBlbWl0IGNoYW5nZSBldmVudFxuICAgICAqL1xuICAgIGFzeW5jIHJlbG9hZCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5sb2FkKCk7XG4gICAgICAgIHRoaXMudHJpZ2dlcignY2hhbmdlZCcpO1xuICAgIH1cbn1cbi8vIEB2ZXNzZWwtY2xvc2U6RnJpZ2ciLCJpbXBvcnQgeyBBcHAsIFRGaWxlLCBQbHVnaW4sIG5vcm1hbGl6ZVBhdGggfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IGpvaW4gfSBmcm9tICdwYXRoJztcclxuaW1wb3J0IHR5cGUgeyBWYXVsdEluZm8sIFZhdWx0Q29ubmVjdGlvbiwgVmF1bHRRdWVyeSwgVmF1bHRTdGF0cyB9IGZyb20gJy4uL3R5cGVzL1ZhdWx0UmVnaXN0cnknO1xyXG5pbXBvcnQgdHlwZSB7IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3MgfSBmcm9tICcuLi90eXBlcy9TZXR0aW5ncyc7XHJcbmltcG9ydCB7IEdyYXBoaXRpTG9nZ2VyIH0gZnJvbSAnLi4vdXRpbHMvTG9nZ2VyJztcclxuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnZXZlbnRzJzsgLy8gSW1wb3J0IEV2ZW50RW1pdHRlclxyXG5cclxuaW50ZXJmYWNlIEdyYXBoaXRpUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcclxuICAgIHNldHRpbmdzOiBHcmFwaGl0aVBsdWdpblNldHRpbmdzO1xyXG4gICAgd3NTZXJ2aWNlPzogYW55O1xyXG59XHJcblxyXG4vLyBFeHRlbmQgRXZlbnRFbWl0dGVyIHRvIGFsbG93IGZvciBjdXN0b20gZXZlbnRzXHJcbmV4cG9ydCBjbGFzcyBWYXVsdFJlZ2lzdHJ5U2VydmljZSBleHRlbmRzIEV2ZW50RW1pdHRlciB7XHJcbiAgICBwcml2YXRlIGFwcDogQXBwO1xyXG4gICAgcHJpdmF0ZSBwbHVnaW46IEdyYXBoaXRpUGx1Z2luO1xyXG4gICAgcHJpdmF0ZSBsb2dnZXI6IEdyYXBoaXRpTG9nZ2VyO1xyXG4gICAgcHJpdmF0ZSByZWdpc3RyeTogTWFwPHN0cmluZywgVmF1bHRJbmZvPjtcclxuICAgIHByaXZhdGUgcmVnaXN0cnlQYXRoOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIGlzTG9hZGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIGFjdGl2ZVZhdWx0SWQ6IHN0cmluZyB8IG51bGwgPSBudWxsOyAvLyBOb3cgc3RvcmVzIHZhdWx0IG5hbWUgaW5zdGVhZCBvZiBnZW5lcmF0ZWQgSURcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBHcmFwaGl0aVBsdWdpbiwgbG9nZ2VyOiBHcmFwaGl0aUxvZ2dlcikge1xyXG4gICAgICAgIHN1cGVyKCk7IC8vIENhbGwgdGhlIEV2ZW50RW1pdHRlciBjb25zdHJ1Y3RvclxyXG4gICAgICAgIHRoaXMuYXBwID0gYXBwO1xyXG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xyXG4gICAgICAgIHRoaXMucmVnaXN0cnkgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5yZWdpc3RyeVBhdGggPSBub3JtYWxpemVQYXRoKGpvaW4ocGx1Z2luLm1hbmlmZXN0LmRpciB8fCAnLm9ic2lkaWFuL3BsdWdpbnMvbWVnYW1lbS1tY3AnLCAndmF1bHRzLmpzb24nKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2FkIHRoZSB2YXVsdCByZWdpc3RyeSBmcm9tIGRpc2tcclxuICAgICAqL1xyXG4gICAgYXN5bmMgbG9hZCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICAvLyBDaGVjayBpZiBmaWxlIGV4aXN0cyBmaXJzdFxyXG4gICAgICAgIGNvbnN0IGZpbGVFeGlzdHMgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLmV4aXN0cyh0aGlzLnJlZ2lzdHJ5UGF0aCk7XHJcblxyXG4gICAgICAgIGlmICghZmlsZUV4aXN0cykge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW1ZBVUxULVJFR0lTVFJZXSBObyBleGlzdGluZyB2YXVsdCByZWdpc3RyeSBmb3VuZCwgY3JlYXRpbmcgbmV3IG9uZScpO1xyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5ID0gbmV3IE1hcCgpO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNhdmUoKTtcclxuICAgICAgICAgICAgdGhpcy5pc0xvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEZpbGUgZXhpc3RzLCB0cnkgdG8gcmVhZCBhbmQgcGFyc2UgaXRcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5yZWFkKHRoaXMucmVnaXN0cnlQYXRoKTtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoY29udGVudCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2lkLCB2YXVsdF0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0cnkuc2V0KGlkLCB2YXVsdCBhcyBWYXVsdEluZm8pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBbVkFVTFQtUkVHSVNUUlldIExvYWRlZCB2YXVsdCByZWdpc3RyeSB3aXRoICR7dGhpcy5yZWdpc3RyeS5zaXplfSB2YXVsdHMuYCk7XHJcbiAgICAgICAgICAgIHRoaXMuaXNMb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIC8vIEZpbGUgZXhpc3RzIGJ1dCBpcyBjb3JydXB0IC0gZG8gTk9UIG92ZXJ3cml0ZSBpdFxyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignW1ZBVUxULVJFR0lTVFJZXSBDUklUSUNBTCBFUlJPUjogUmVnaXN0cnkgZmlsZSBpcyBjb3JydXB0IGFuZCBjYW5ub3QgYmUgcGFyc2VkLiBMb2FkaW5nIGVtcHR5IHJlZ2lzdHJ5IGluIG1lbW9yeSB3aXRob3V0IG92ZXJ3cml0aW5nIGZpbGUuJywgZXJyb3IpO1xyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5ID0gbmV3IE1hcCgpO1xyXG4gICAgICAgICAgICB0aGlzLmlzTG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTYXZlIHRoZSB2YXVsdCByZWdpc3RyeSB0byBkaXNrIGF0b21pY2FsbHlcclxuICAgICAqL1xyXG4gICAgYXN5bmMgc2F2ZSgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBDb252ZXJ0IE1hcCB0byBPYmplY3QgZm9yIEpTT04gc2VyaWFsaXphdGlvblxyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gT2JqZWN0LmZyb21FbnRyaWVzKHRoaXMucmVnaXN0cnkpO1xyXG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gSlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMik7XHJcblxyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLndyaXRlKHRoaXMucmVnaXN0cnlQYXRoLCBjb250ZW50KTtcclxuICAgICAgICAgICAgdGhpcy5lbWl0KCdyZWdpc3RyeS11cGRhdGUnKTsgLy8gRW1pdCByZWdpc3RyeSB1cGRhdGUgZXZlbnRcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcik7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdbVkFVTFQtUkVHSVNUUlldIEZhaWxlZCB0byBzYXZlIHZhdWx0IHJlZ2lzdHJ5OicsIHtcclxuICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvck1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICBwYXRoOiB0aGlzLnJlZ2lzdHJ5UGF0aCxcclxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBzYXZlIHZhdWx0IHJlZ2lzdHJ5OiAke2Vycm9yTWVzc2FnZX1gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgb3IgdXBkYXRlIGEgdmF1bHRcclxuICAgICAqL1xyXG4gICAgYXN5bmMgYWRkVmF1bHQodmF1bHQ6IE9taXQ8VmF1bHRJbmZvLCAnaWQnPik6IFByb21pc2U8VmF1bHRJbmZvPiB7XHJcbiAgICAgICAgY29uc3QgdmF1bHRJbmZvOiBWYXVsdEluZm8gPSB7IC4uLnZhdWx0LCBpZDogdmF1bHQubmFtZSB9O1xyXG5cclxuICAgICAgICB0aGlzLnJlZ2lzdHJ5LnNldCh2YXVsdC5uYW1lLCB2YXVsdEluZm8pO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBbVkFVTFQtUkVHSVNUUlldIEFkZGVkIHZhdWx0OiAke3ZhdWx0Lm5hbWV9LmApO1xyXG4gICAgICAgIHJldHVybiB2YXVsdEluZm87XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYSB2YXVsdCBieSBJRFxyXG4gICAgICovXHJcbiAgICBnZXRWYXVsdChpZDogc3RyaW5nKTogVmF1bHRJbmZvIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RyeS5nZXQoaWQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGFsbCB2YXVsdHNcclxuICAgICAqL1xyXG4gICAgZ2V0QWxsVmF1bHRzKCk6IFZhdWx0SW5mb1tdIHtcclxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnJlZ2lzdHJ5LnZhbHVlcygpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSBhIHZhdWx0XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHJlbW92ZVZhdWx0KGlkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgICAgICBpZiAodGhpcy5yZWdpc3RyeS5oYXMoaWQpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhdWx0ID0gdGhpcy5yZWdpc3RyeS5nZXQoaWQpO1xyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5LmRlbGV0ZShpZCk7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBbVkFVTFQtUkVHSVNUUlldIFJlbW92ZWQgdmF1bHQ6ICR7dmF1bHQ/Lm5hbWV9LmApO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlIHZhdWx0IHN0YXR1c1xyXG4gICAgICovXHJcbiAgICBhc3luYyB1cGRhdGVWYXVsdFN0YXR1cyhpZDogc3RyaW5nLCBzdGF0dXM6IFBhcnRpYWw8VmF1bHRJbmZvWydzdGF0dXMnXT4pOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgICAgICBjb25zdCB2YXVsdCA9IHRoaXMucmVnaXN0cnkuZ2V0KGlkKTtcclxuICAgICAgICBpZiAoIXZhdWx0KSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIHZhdWx0LnN0YXR1cyA9IHsgLi4udmF1bHQuc3RhdHVzLCAuLi5zdGF0dXMgfTtcclxuICAgICAgICBhd2FpdCB0aGlzLnNhdmUoKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFF1ZXJ5IHZhdWx0cyBiYXNlZCBvbiBjcml0ZXJpYVxyXG4gICAgICovXHJcbiAgICBxdWVyeVZhdWx0cyhxdWVyeTogVmF1bHRRdWVyeSk6IFZhdWx0SW5mb1tdIHtcclxuICAgICAgICBsZXQgcmVzdWx0cyA9IEFycmF5LmZyb20odGhpcy5yZWdpc3RyeS52YWx1ZXMoKSk7XHJcblxyXG4gICAgICAgIGlmIChxdWVyeS52YXVsdF9pZCkge1xyXG4gICAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5maWx0ZXIodiA9PiB2LmlkID09PSBxdWVyeS52YXVsdF9pZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocXVlcnkuc3RhdHVzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuZmlsdGVyKHYgPT4gdi5zdGF0dXMuY29ubmVjdGVkID09PSBxdWVyeS5zdGF0dXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdmF1bHQgc3RhdGlzdGljc1xyXG4gICAgICovXHJcbiAgICBnZXRWYXVsdFN0YXRzKCk6IFZhdWx0U3RhdHMge1xyXG4gICAgICAgIGNvbnN0IHZhdWx0cyA9IHRoaXMuZ2V0QWxsVmF1bHRzKCk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdG90YWxfY29ubmVjdGVkOiB2YXVsdHMuZmlsdGVyKHYgPT4gdi5zdGF0dXMuY29ubmVjdGVkKS5sZW5ndGgsXHJcbiAgICAgICAgICAgIHRvdGFsX3N5bmNpbmc6IHZhdWx0cy5maWx0ZXIodiA9PiB2LnN0YXR1cy5zeW5jaW5nKS5sZW5ndGgsXHJcbiAgICAgICAgICAgIHRvdGFsX2Vycm9yczogdmF1bHRzLmZpbHRlcih2ID0+IHYuc3RhdHVzLmVycm9yX21lc3NhZ2UpLmxlbmd0aCxcclxuICAgICAgICAgICAgbGFzdF9zeW5jOiB2YXVsdHMucmVkdWNlKChsYXRlc3QsIHYpID0+XHJcbiAgICAgICAgICAgICAgICB2LnN0YXR1cy5sYXN0X3N5bmMgPiBsYXRlc3QgPyB2LnN0YXR1cy5sYXN0X3N5bmMgOiBsYXRlc3QsICcnKVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiByZWdpc3RyeSBpcyBsb2FkZWRcclxuICAgICAqL1xyXG4gICAgaXNSZWdpc3RyeUxvYWRlZCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pc0xvYWRlZDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgY3VycmVudGx5IGFjdGl2ZSB2YXVsdCBuYW1lICh1c2VkIGFzIElEKVxyXG4gICAgICovXHJcbiAgICBnZXRBY3RpdmVWYXVsdElkKCk6IHN0cmluZyB8IG51bGwge1xyXG4gICAgICAgIC8vIEVuc3VyZSByZWdpc3RyeSBpcyBsb2FkZWQgc3luY2hyb25vdXNseSBpZiBwb3NzaWJsZVxyXG4gICAgICAgIGlmICghdGhpcy5pc0xvYWRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRSZWdpc3RyeVN5bmNocm9ub3VzbHkoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIHN0aWxsIG5vIGFjdGl2ZSB2YXVsdCwgZGV0ZXJtaW5lIGl0IGZyb20gY3VycmVudCBjb250ZXh0XHJcbiAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZVZhdWx0SWQpIHtcclxuICAgICAgICAgICAgdGhpcy5lbnN1cmVBY3RpdmVWYXVsdCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlVmF1bHRJZDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFN5bmNocm9ub3VzIHJlZ2lzdHJ5IGxvYWRpbmcgZmFsbGJhY2tcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBsb2FkUmVnaXN0cnlTeW5jaHJvbm91c2x5KCk6IHZvaWQge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTtcclxuICAgICAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmModGhpcy5yZWdpc3RyeVBhdGgpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gZnMucmVhZEZpbGVTeW5jKHRoaXMucmVnaXN0cnlQYXRoLCAndXRmOCcpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoY29udGVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RyeS5jbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIGJvdGggT2JqZWN0IGZvcm1hdCAoY3VycmVudCB2YXVsdHMuanNvbikgYW5kIE1hcCBmb3JtYXRcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkoZGF0YSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtpZCwgdmF1bHRdIG9mIE9iamVjdC5lbnRyaWVzKGRhdGEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0cnkuc2V0KGlkLCB2YXVsdCBhcyBWYXVsdEluZm8pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBbVkFVTFQtUkVHSVNUUlldIExvYWRlZCByZWdpc3RyeSBzeW5jaHJvbm91c2x5IHdpdGggJHt0aGlzLnJlZ2lzdHJ5LnNpemV9IHZhdWx0c2ApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignW1ZBVUxULVJFR0lTVFJZXSBGYWlsZWQgdG8gbG9hZCByZWdpc3RyeSBzeW5jaHJvbm91c2x5JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgYWN0aXZlIHZhdWx0IGJ5IG5hbWUgKHVzZWQgYXMgSUQpXHJcbiAgICAgKi9cclxuICAgIHNldEFjdGl2ZVZhdWx0SWQodmF1bHROYW1lOiBzdHJpbmcgfCBudWxsKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKHZhdWx0TmFtZSAmJiAhdGhpcy5yZWdpc3RyeS5oYXModmF1bHROYW1lKSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGBbVkFVTFQtUkVHSVNUUlldIENhbm5vdCBzZXQgYWN0aXZlIHZhdWx0IC0gdmF1bHQgbm90IGZvdW5kOiAke3ZhdWx0TmFtZX1gKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgb2xkQWN0aXZlVmF1bHRJZCA9IHRoaXMuYWN0aXZlVmF1bHRJZDtcclxuICAgICAgICB0aGlzLmFjdGl2ZVZhdWx0SWQgPSB2YXVsdE5hbWU7XHJcblxyXG4gICAgICAgIGlmIChvbGRBY3RpdmVWYXVsdElkICE9PSB2YXVsdE5hbWUpIHtcclxuICAgICAgICAgICAgdGhpcy5lbWl0KCdhY3RpdmUtdmF1bHQtY2hhbmdlJywgdmF1bHROYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGFjdGl2ZSB2YXVsdCBpbmZvXHJcbiAgICAgKi9cclxuICAgIGdldEFjdGl2ZVZhdWx0KCk6IFZhdWx0SW5mbyB8IG51bGwge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFjdGl2ZVZhdWx0SWQgPyB0aGlzLmdldFZhdWx0KHRoaXMuYWN0aXZlVmF1bHRJZCkgfHwgbnVsbCA6IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBdXRvLXNldCBhY3RpdmUgdmF1bHQgdG8gY3VycmVudCB2YXVsdCBpZiBub25lIGlzIHNldFxyXG4gICAgICovXHJcbiAgICBlbnN1cmVBY3RpdmVWYXVsdCgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXRoaXMuYWN0aXZlVmF1bHRJZCkge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VmF1bHROYW1lID0gdGhpcy5hcHAudmF1bHQuZ2V0TmFtZSgpO1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VmF1bHRQYXRoID0gKHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIgYXMgYW55KS5iYXNlUGF0aCB8fCAnJztcclxuXHJcbiAgICAgICAgICAgIC8vIFRyeSB0byBmaW5kIHRoZSB2YXVsdCBpbiB0aGUgbG9hZGVkIHJlZ2lzdHJ5XHJcbiAgICAgICAgICAgIGxldCBmb3VuZFZhdWx0SWQgPSBudWxsO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFt2YXVsdElkLCB2YXVsdEluZm9dIG9mIHRoaXMucmVnaXN0cnkuZW50cmllcygpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB2YXVsdCBtYXRjaGVzIGJ5IG5hbWUgb3IgcGF0aFxyXG4gICAgICAgICAgICAgICAgaWYgKHZhdWx0SW5mby5uYW1lID09PSBjdXJyZW50VmF1bHROYW1lIHx8IHRoaXMucGF0aHNNYXRjaCh2YXVsdEluZm8ucGF0aCwgY3VycmVudFZhdWx0UGF0aCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3VuZFZhdWx0SWQgPSB2YXVsdElkO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBVc2UgZm91bmQgdmF1bHQgSUQgb3IgZmFsbGJhY2sgdG8gdmF1bHQgbmFtZVxyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZVZhdWx0SWQgPSBmb3VuZFZhdWx0SWQgfHwgY3VycmVudFZhdWx0TmFtZTtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhgW1ZBVUxULVJFR0lTVFJZXSBBdXRvLXNldCBhY3RpdmUgdmF1bHQgdG86ICR7dGhpcy5hY3RpdmVWYXVsdElkfSR7Zm91bmRWYXVsdElkID8gJyAoZm91bmQgaW4gcmVnaXN0cnkpJyA6ICcgKGZhbGxiYWNrIHRvIG5hbWUpJ31gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIZWxwZXIgbWV0aG9kIHRvIGNvbXBhcmUgcGF0aHMgd2l0aCBub3JtYWxpemF0aW9uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcGF0aHNNYXRjaChwYXRoMTogc3RyaW5nLCBwYXRoMjogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplID0gKHA6IHN0cmluZykgPT4gcC5yZXBsYWNlKC9cXFxcXFxcXC9nLCAnLycpLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFwvJC8sICcnKTtcclxuICAgICAgICByZXR1cm4gbm9ybWFsaXplKHBhdGgxKSA9PT0gbm9ybWFsaXplKHBhdGgyKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEF1dG9tYXRpY2FsbHkgcmVnaXN0ZXIgdGhlIGN1cnJlbnQgdmF1bHQgaWYgaXQncyBub3QgYWxyZWFkeSByZWdpc3RlcmVkXHJcbiAgICAgKiBUaGlzIGlzIGNhbGxlZCBkdXJpbmcgcGx1Z2luIHN0YXJ0dXAgdG8gZW5zdXJlIHRoZSBjdXJyZW50IHZhdWx0IGlzIGF2YWlsYWJsZSB0byB0aGUgTUNQIHNlcnZlclxyXG4gICAgICovXHJcbiAgICBhc3luYyBhdXRvUmVnaXN0ZXJDdXJyZW50VmF1bHQobXVsdGlWYXVsdEVuYWJsZWQ6IGJvb2xlYW4gPSBmYWxzZSwgd3NTZXJ2aWNlPzogYW55KTogUHJvbWlzZTxWYXVsdEluZm8gfCBudWxsPiB7XHJcbiAgICAgICAgY29uc3QgY3VycmVudFZhdWx0TmFtZSA9IHRoaXMuYXBwLnZhdWx0LmdldE5hbWUoKTtcclxuICAgICAgICBjb25zdCBjdXJyZW50VmF1bHRQYXRoID0gKHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIgYXMgYW55KS5iYXNlUGF0aCB8fCAnJztcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgY3VycmVudCB2YXVsdCBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQgYnkgbmFtZVxyXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nVmF1bHQgPSB0aGlzLnJlZ2lzdHJ5LmdldChjdXJyZW50VmF1bHROYW1lKTtcclxuXHJcbiAgICAgICAgaWYgKGV4aXN0aW5nVmF1bHQgJiYgZXhpc3RpbmdWYXVsdC5wYXRoID09PSBjdXJyZW50VmF1bHRQYXRoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0QWN0aXZlVmF1bHRJZChjdXJyZW50VmF1bHROYW1lKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEB2ZXNzZWwtcHJvdG9jb2w6RnJpZ2cgZ292ZXJuczpjb25maWctcmVmcmVzaCBjb250ZXh0OkVuc3VyZSBleGlzdGluZyB2YXVsdCdzIGRhdGFiYXNlIGNvbmZpZyBpcyBhbHdheXMgY3VycmVudCB3aXRoIHBsdWdpbiBzZXR0aW5nc1xyXG4gICAgICAgICAgICAvLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbcGx1Z2luLnNldHRpbmdzLCBjcmVhdGVWYXVsdERhdGFiYXNlQ29uZmlnXVxyXG4gICAgICAgICAgICAvLyBAcHVycG9zZTogUHJldmVudCBzdGFsZSBkYXRhYmFzZSBjb25maWd1cmF0aW9ucyBpbiB2YXVsdHMuanNvbiBieSByZWZyZXNoaW5nIGZyb20gY3VycmVudCBkYXRhLmpzb24gc2V0dGluZ3NcclxuICAgICAgICAgICAgLy8gQHJlc3VsdDogVGhlIE1DUCBzZXJ2ZXIgd2lsbCBhbHdheXMgYXR0ZW1wdCB0byBjb25uZWN0IHVzaW5nIHRoZSB1c2VyJ3MgbGF0ZXN0IGNvbmZpZ3VyZWQgZGF0YWJhc2Ugc2V0dGluZ3NcclxuICAgICAgICAgICAgLy8gQHNpZ25lZDogQy5CasO4cm5cclxuICAgICAgICAgICAgY29uc3QgZnJlc2hEYXRhYmFzZUNvbmZpZyA9IHRoaXMuY3JlYXRlVmF1bHREYXRhYmFzZUNvbmZpZygpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZXhpc3RpbmcgY29uZmlnIGRpZmZlcnMgZnJvbSBmcmVzaCBjb25maWdcclxuICAgICAgICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KGV4aXN0aW5nVmF1bHQuY29uZmlndXJhdGlvbi5kYXRhYmFzZSkgIT09IEpTT04uc3RyaW5naWZ5KGZyZXNoRGF0YWJhc2VDb25maWcpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBbVkFVTFQtUkVHSVNUUlldIFVwZGF0aW5nIGRhdGFiYXNlIGNvbmZpZ3VyYXRpb24gZm9yIGV4aXN0aW5nIHZhdWx0OiAke2N1cnJlbnRWYXVsdE5hbWV9YCk7XHJcbiAgICAgICAgICAgICAgICBleGlzdGluZ1ZhdWx0LmNvbmZpZ3VyYXRpb24uZGF0YWJhc2UgPSBmcmVzaERhdGFiYXNlQ29uZmlnO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlKCk7IC8vIFNhdmUgdGhlIHVwZGF0ZWQgdmF1bHQgY29uZmlnXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW1ZBVUxULVJFR0lTVFJZXSBEYXRhYmFzZSBjb25maWd1cmF0aW9uIHVwZGF0ZWQgZm9yIGV4aXN0aW5nIHZhdWx0LicsIHsgdmF1bHROYW1lOiBjdXJyZW50VmF1bHROYW1lLCBuZXdDb25maWc6IGZyZXNoRGF0YWJhc2VDb25maWcgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW1ZBVUxULVJFR0lTVFJZXSBFeGlzdGluZyB2YXVsdCBkYXRhYmFzZSBjb25maWd1cmF0aW9uIGlzIGFscmVhZHkgdXAtdG8tZGF0ZS4nLCB7IHZhdWx0TmFtZTogY3VycmVudFZhdWx0TmFtZSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBAdmVzc2VsLWNsb3NlOkZyaWdnXHJcblxyXG4gICAgICAgICAgICAvLyBBTFdBWVMgc2VuZCByZWdpc3RyYXRpb24gdG8gV2ViU29ja2V0IHNlcnZlciB3aGVuIGNvbm5lY3RlZCwgZXZlbiBmb3IgZXhpc3RpbmcgdmF1bHRzXHJcbiAgICAgICAgICAgIC8vIFRoaXMgaGFuZGxlcyBzZXJ2ZXIgcmVzdGFydHMgd2hlcmUgbG9jYWwgcmVnaXN0cnkgZXhpc3RzIGJ1dCBzZXJ2ZXIgaGFzIG5vIGtub3dsZWRnZVxyXG4gICAgICAgICAgICBpZiAod3NTZXJ2aWNlICYmIHdzU2VydmljZS5pc0Nvbm5lY3RlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZWdpc3RyYXRpb25TZW50ID0gd3NTZXJ2aWNlLnNlbmRWYXVsdFJlZ2lzdHJhdGlvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogZXhpc3RpbmdWYXVsdC5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGV4aXN0aW5nVmF1bHQucGF0aCxcclxuICAgICAgICAgICAgICAgICAgICBpZDogZXhpc3RpbmdWYXVsdC5uYW1lXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocmVnaXN0cmF0aW9uU2VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBjb25uZWN0aW9uIHN0YXR1cyBzaW5jZSB3ZSBzZW50IHJlZ2lzdHJhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlVmF1bHRDb25uZWN0aW9uKGN1cnJlbnRWYXVsdE5hbWUsIHRydWUsIGV4aXN0aW5nVmF1bHQuY29ubmVjdGlvbj8uYXV0aD8udG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGBbVkFVTFQtUkVHSVNUUlldIEZhaWxlZCB0byBzZW5kIGV4aXN0aW5nIHZhdWx0IHJlZ2lzdHJhdGlvbiB0byBNQ1Agc2VydmVyLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZXhpc3RpbmdWYXVsdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSB2YXVsdCByZWdpc3RyYXRpb24gZm9yIGN1cnJlbnQgdmF1bHRcclxuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XHJcbiAgICAgICAgY29uc3QgdmF1bHRJbmZvOiBPbWl0PFZhdWx0SW5mbywgJ2lkJz4gPSB7XHJcbiAgICAgICAgICAgIG5hbWU6IGN1cnJlbnRWYXVsdE5hbWUsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgQXV0by1yZWdpc3RlcmVkIHZhdWx0OiAke2N1cnJlbnRWYXVsdE5hbWV9YCxcclxuICAgICAgICAgICAgcGF0aDogY3VycmVudFZhdWx0UGF0aCxcclxuICAgICAgICAgICAgdHlwZTogJ29ic2lkaWFuJyxcclxuICAgICAgICAgICAgY29ubmVjdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgaG9zdDogJ2xvY2FsaG9zdCcsXHJcbiAgICAgICAgICAgICAgICBwb3J0OiB0aGlzLnBsdWdpbi5zZXR0aW5ncy53c1BvcnQsIC8vIFVzZSBhY3R1YWwgV2ViU29ja2V0IHBvcnQgZnJvbSBzZXR0aW5nc1xyXG4gICAgICAgICAgICAgICAgYXV0aDoge1xyXG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiAnJyAvLyBXaWxsIGJlIHBvcHVsYXRlZCBieSBXZWJTb2NrZXQgc2VydmljZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICBkYXRhYmFzZTogdGhpcy5jcmVhdGVWYXVsdERhdGFiYXNlQ29uZmlnKCksXHJcbiAgICAgICAgICAgICAgICBzeW5jOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBpbnRlcnZhbDogMzAwLCAvLyA1IG1pbnV0ZXNcclxuICAgICAgICAgICAgICAgICAgICBsYXN0X3N5bmM6IG5vd1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdGF0dXM6IHtcclxuICAgICAgICAgICAgICAgIGNvbm5lY3RlZDogZmFsc2UsIC8vIFdpbGwgYmUgdXBkYXRlZCB3aGVuIFdlYlNvY2tldCBjb25uZWN0c1xyXG4gICAgICAgICAgICAgICAgc3luY2luZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBsYXN0X3N5bmM6IG5vd1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gRmlyc3QgY3JlYXRlIHRoZSBsb2NhbCB2YXVsdCByZWdpc3RyeSBlbnRyeVxyXG4gICAgICAgICAgICBjb25zdCByZWdpc3RlcmVkVmF1bHQgPSBhd2FpdCB0aGlzLmFkZFZhdWx0KHZhdWx0SW5mbyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0QWN0aXZlVmF1bHRJZChjdXJyZW50VmF1bHROYW1lKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oYFtWQVVMVC1SRUdJU1RSWV0gQ3JlYXRlZCBsb2NhbCB2YXVsdCByZWdpc3RyeSBlbnRyeSBmb3I6ICR7Y3VycmVudFZhdWx0TmFtZX0uYCk7XHJcblxyXG4gICAgICAgICAgICAvLyBJZiBXZWJTb2NrZXQgc2VydmljZSBpcyBwcm92aWRlZCBhbmQgY29ubmVjdGVkLCBzZW5kIHJlZ2lzdHJhdGlvbiB0byBzZXJ2ZXJcclxuICAgICAgICAgICAgaWYgKHdzU2VydmljZSAmJiB3c1NlcnZpY2UuaXNDb25uZWN0ZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVnaXN0cmF0aW9uU2VudCA9IHdzU2VydmljZS5zZW5kVmF1bHRSZWdpc3RyYXRpb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHJlZ2lzdGVyZWRWYXVsdC5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHJlZ2lzdGVyZWRWYXVsdC5wYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgIGlkOiBjdXJyZW50VmF1bHROYW1lXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocmVnaXN0cmF0aW9uU2VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBjb25uZWN0aW9uIHN0YXR1cyBzaW5jZSB3ZSBzZW50IHJlZ2lzdHJhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlVmF1bHRDb25uZWN0aW9uKGN1cnJlbnRWYXVsdE5hbWUsIHRydWUsIHZhdWx0SW5mby5jb25uZWN0aW9uLmF1dGgudG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGBbVkFVTFQtUkVHSVNUUlldIEZhaWxlZCB0byBzZW5kIHZhdWx0IHJlZ2lzdHJhdGlvbiB0byBNQ1Agc2VydmVyLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVnaXN0ZXJlZFZhdWx0O1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGBbVkFVTFQtUkVHSVNUUlldIEZhaWxlZCB0byBhdXRvLXJlZ2lzdGVyIGN1cnJlbnQgdmF1bHQ6ICR7Y3VycmVudFZhdWx0TmFtZX1gLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlZ2lzdGVyIGEgY2FsbGJhY2sgZm9yIGFjdGl2ZSB2YXVsdCBjaGFuZ2VzLlxyXG4gICAgICogQHBhcmFtIGxpc3RlbmVyIFRoZSBjYWxsYmFjayBmdW5jdGlvbiB0byBleGVjdXRlIHdoZW4gdGhlIGFjdGl2ZSB2YXVsdCBjaGFuZ2VzLlxyXG4gICAgICovXHJcbiAgICBvbkFjdGl2ZVZhdWx0Q2hhbmdlKGxpc3RlbmVyOiAobmV3VmF1bHRJZDogc3RyaW5nIHwgbnVsbCkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMub24oJ2FjdGl2ZS12YXVsdC1jaGFuZ2UnLCBsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RlciBhIGNhbGxiYWNrIGZvciBhbnkgcmVnaXN0cnkgdXBkYXRlcyAoYWRkLCByZW1vdmUsIHNhdmUpLlxyXG4gICAgICogQHBhcmFtIGxpc3RlbmVyIFRoZSBjYWxsYmFjayBmdW5jdGlvbiB0byBleGVjdXRlIHdoZW4gdGhlIHJlZ2lzdHJ5IHVwZGF0ZXMuXHJcbiAgICAgKi9cclxuICAgIG9uUmVnaXN0cnlVcGRhdGUobGlzdGVuZXI6ICgpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm9uKCdyZWdpc3RyeS11cGRhdGUnLCBsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUgdmF1bHQgY29ubmVjdGlvbiBzdGF0dXMgKHR5cGljYWxseSBjYWxsZWQgd2hlbiBXZWJTb2NrZXQgY29ubmVjdHMvZGlzY29ubmVjdHMpXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHVwZGF0ZVZhdWx0Q29ubmVjdGlvbih2YXVsdE5hbWU6IHN0cmluZywgY29ubmVjdGVkOiBib29sZWFuLCBhdXRoVG9rZW4/OiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgICAgICBjb25zdCB2YXVsdCA9IHRoaXMucmVnaXN0cnkuZ2V0KHZhdWx0TmFtZSk7XHJcbiAgICAgICAgaWYgKCF2YXVsdCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICB2YXVsdC5zdGF0dXMuY29ubmVjdGVkID0gY29ubmVjdGVkO1xyXG4gICAgICAgIHZhdWx0LnN0YXR1cy5sYXN0X3N5bmMgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XHJcblxyXG4gICAgICAgIGlmIChhdXRoVG9rZW4pIHtcclxuICAgICAgICAgICAgdmF1bHQuY29ubmVjdGlvbi5hdXRoLnRva2VuID0gYXV0aFRva2VuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFjb25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgdmF1bHQuc3RhdHVzLnN5bmNpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgdmF1bHQuc3RhdHVzLmVycm9yX21lc3NhZ2UgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhd2FpdCB0aGlzLnNhdmUoKTtcclxuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBbVkFVTFQtUkVHSVNUUlldIFVwZGF0ZWQgdmF1bHQgY29ubmVjdGlvbiBzdGF0dXMgZm9yICR7dmF1bHQubmFtZX06IENvbm5lY3RlZDogJHtjb25uZWN0ZWR9LmApO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHZlc3NlbC1wcm90b2NvbDpPZGluIGdvdmVybnM6ZW1iZWRkaW5nLW1vZGVsLXN0b3JhZ2UgY29udGV4dDpQZXItdmF1bHQgZW1iZWRkaW5nIG1vZGVsIGNvbmZpZ3VyYXRpb24gbWFuYWdlbWVudFxyXG4gICAgICogQGludGVyLWRlcGVuZGVuY2llczogW1ZhdWx0SW5mby5jb25maWd1cmF0aW9uLmVtYmVkZGluZywgc2F2ZSwgbG9nZ2VyXVxyXG4gICAgICogQHB1cnBvc2U6IFN0b3JlIGFuZCB2YWxpZGF0ZSBlbWJlZGRpbmcgbW9kZWwgY29uZmlndXJhdGlvbiBmb3IgZWFjaCB2YXVsdCB0byBwcmV2ZW50IG1vZGVsIG1pc21hdGNoZXNcclxuICAgICAqIEByZXN1bHQ6IEVhY2ggdmF1bHQgbWFpbnRhaW5zIGl0cyBvd24gZW1iZWRkaW5nIG1vZGVsIGNvbmZpZ3VyYXRpb24gd2l0aCBjaGFuZ2UgZGV0ZWN0aW9uIGNhcGFiaWxpdGllc1xyXG4gICAgICogQHNpZ25lZDogQy5CasO4cm5cclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlIHZhdWx0IGVtYmVkZGluZyBtb2RlbCBjb25maWd1cmF0aW9uXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHVwZGF0ZVZhdWx0RW1iZWRkaW5nTW9kZWwodmF1bHRJZDogc3RyaW5nLCBtb2RlbDogc3RyaW5nLCBkaW1lbnNpb25zPzogbnVtYmVyLCBwcm92aWRlcj86IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgICAgIGNvbnN0IHZhdWx0ID0gdGhpcy5yZWdpc3RyeS5nZXQodmF1bHRJZCk7XHJcbiAgICAgICAgaWYgKCF2YXVsdCkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGBbVkFVTFQtUkVHSVNUUlldIENhbm5vdCB1cGRhdGUgZW1iZWRkaW5nIG1vZGVsIC0gdmF1bHQgbm90IGZvdW5kOiAke3ZhdWx0SWR9YCk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEluaXRpYWxpemUgZW1iZWRkaW5nIGNvbmZpZ3VyYXRpb24gaWYgaXQgZG9lc24ndCBleGlzdFxyXG4gICAgICAgIGlmICghdmF1bHQuY29uZmlndXJhdGlvbi5lbWJlZGRpbmcpIHtcclxuICAgICAgICAgICAgdmF1bHQuY29uZmlndXJhdGlvbi5lbWJlZGRpbmcgPSB7fTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhdWx0LmNvbmZpZ3VyYXRpb24uZW1iZWRkaW5nLm1vZGVsID0gbW9kZWw7XHJcbiAgICAgICAgaWYgKGRpbWVuc2lvbnMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB2YXVsdC5jb25maWd1cmF0aW9uLmVtYmVkZGluZy5kaW1lbnNpb25zID0gZGltZW5zaW9ucztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHByb3ZpZGVyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdmF1bHQuY29uZmlndXJhdGlvbi5lbWJlZGRpbmcucHJvdmlkZXIgPSBwcm92aWRlcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xyXG4gICAgICAgIGNvbnN0IHByb3ZpZGVySW5mbyA9IHByb3ZpZGVyID8gYCAoJHtwcm92aWRlcn0pYCA6ICcnO1xyXG4gICAgICAgIGNvbnN0IGRpbWVuc2lvbnNJbmZvID0gZGltZW5zaW9ucyA/IGAgKCR7ZGltZW5zaW9uc31kKWAgOiAnJztcclxuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBbVkFVTFQtUkVHSVNUUlldIFVwZGF0ZWQgZW1iZWRkaW5nIG1vZGVsIGZvciB2YXVsdCAke3ZhdWx0SWR9OiAke21vZGVsfSR7cHJvdmlkZXJJbmZvfSR7ZGltZW5zaW9uc0luZm99YCk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdmF1bHQgZW1iZWRkaW5nIG1vZGVsIGNvbmZpZ3VyYXRpb25cclxuICAgICAqL1xyXG4gICAgZ2V0VmF1bHRFbWJlZGRpbmdNb2RlbCh2YXVsdElkOiBzdHJpbmcpOiB7IHByb3ZpZGVyPzogc3RyaW5nOyBtb2RlbD86IHN0cmluZzsgZGltZW5zaW9ucz86IG51bWJlciB9IHwgbnVsbCB7XHJcbiAgICAgICAgY29uc3QgdmF1bHQgPSB0aGlzLnJlZ2lzdHJ5LmdldCh2YXVsdElkKTtcclxuICAgICAgICBpZiAoIXZhdWx0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHZhdWx0LmNvbmZpZ3VyYXRpb24uZW1iZWRkaW5nIHx8IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgY3VycmVudCBlbWJlZGRpbmcgbW9kZWwgZGlmZmVycyBmcm9tIHN0b3JlZCB2YXVsdCBjb25maWd1cmF0aW9uXHJcbiAgICAgKi9cclxuICAgIGhhc0VtYmVkZGluZ01vZGVsQ2hhbmdlZCh2YXVsdElkOiBzdHJpbmcsIGN1cnJlbnRNb2RlbDogc3RyaW5nLCBjdXJyZW50RGltZW5zaW9ucz86IG51bWJlciwgY3VycmVudFByb3ZpZGVyPzogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgY29uc3Qgc3RvcmVkQ29uZmlnID0gdGhpcy5nZXRWYXVsdEVtYmVkZGluZ01vZGVsKHZhdWx0SWQpO1xyXG5cclxuICAgICAgICBpZiAoIXN0b3JlZENvbmZpZyB8fCAhc3RvcmVkQ29uZmlnLm1vZGVsKSB7XHJcbiAgICAgICAgICAgIC8vIE5vIHN0b3JlZCBjb25maWcgbWVhbnMgdGhpcyBpcyBmaXJzdCB0aW1lIC0gbm90IGEgY2hhbmdlXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIG1vZGVsIG5hbWUgY2hhbmdlZFxyXG4gICAgICAgIGlmIChzdG9yZWRDb25maWcubW9kZWwgIT09IGN1cnJlbnRNb2RlbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHByb3ZpZGVyIGNoYW5nZWQgKGlmIGJvdGggYXJlIGRlZmluZWQpXHJcbiAgICAgICAgaWYgKGN1cnJlbnRQcm92aWRlciAhPT0gdW5kZWZpbmVkICYmIHN0b3JlZENvbmZpZy5wcm92aWRlciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmIChzdG9yZWRDb25maWcucHJvdmlkZXIgIT09IGN1cnJlbnRQcm92aWRlcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIGRpbWVuc2lvbnMgY2hhbmdlZCAoaWYgYm90aCBhcmUgZGVmaW5lZClcclxuICAgICAgICBpZiAoY3VycmVudERpbWVuc2lvbnMgIT09IHVuZGVmaW5lZCAmJiBzdG9yZWRDb25maWcuZGltZW5zaW9ucyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmIChzdG9yZWRDb25maWcuZGltZW5zaW9ucyAhPT0gY3VycmVudERpbWVuc2lvbnMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBWYWxpZGF0ZSB0aGF0IHZhdWx0IGhhcyBlbWJlZGRpbmcgbW9kZWwgY29uZmlndXJhdGlvblxyXG4gICAgICovXHJcbiAgICB2YWxpZGF0ZUVtYmVkZGluZ01vZGVsQ29uZmlnKHZhdWx0SWQ6IHN0cmluZyk6IHsgaXNWYWxpZDogYm9vbGVhbjsgY29uZmlnPzogeyBwcm92aWRlcj86IHN0cmluZzsgbW9kZWw/OiBzdHJpbmc7IGRpbWVuc2lvbnM/OiBudW1iZXIgfSB9IHtcclxuICAgICAgICBjb25zdCBjb25maWcgPSB0aGlzLmdldFZhdWx0RW1iZWRkaW5nTW9kZWwodmF1bHRJZCk7XHJcblxyXG4gICAgICAgIGlmICghY29uZmlnIHx8ICFjb25maWcubW9kZWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgaXNWYWxpZDogZmFsc2UgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7IGlzVmFsaWQ6IHRydWUsIGNvbmZpZyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGVtYmVkZGluZyBtb2RlbCBtaXNtYXRjaCBkZXRhaWxzIGZvciB3YXJuaW5nIG1lc3NhZ2VzXHJcbiAgICAgKi9cclxuICAgIGdldEVtYmVkZGluZ01vZGVsTWlzbWF0Y2hEZXRhaWxzKHZhdWx0SWQ6IHN0cmluZywgY3VycmVudE1vZGVsOiBzdHJpbmcsIGN1cnJlbnREaW1lbnNpb25zPzogbnVtYmVyLCBjdXJyZW50UHJvdmlkZXI/OiBzdHJpbmcpOiB7XHJcbiAgICAgICAgaGFzQ2hhbmdlZDogYm9vbGVhbjtcclxuICAgICAgICBzdG9yZWRQcm92aWRlcj86IHN0cmluZztcclxuICAgICAgICBzdG9yZWRNb2RlbD86IHN0cmluZztcclxuICAgICAgICBzdG9yZWREaW1lbnNpb25zPzogbnVtYmVyO1xyXG4gICAgICAgIGN1cnJlbnRQcm92aWRlcj86IHN0cmluZztcclxuICAgICAgICBjdXJyZW50TW9kZWw6IHN0cmluZztcclxuICAgICAgICBjdXJyZW50RGltZW5zaW9ucz86IG51bWJlcjtcclxuICAgIH0ge1xyXG4gICAgICAgIGNvbnN0IHN0b3JlZENvbmZpZyA9IHRoaXMuZ2V0VmF1bHRFbWJlZGRpbmdNb2RlbCh2YXVsdElkKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaGFzQ2hhbmdlZDogdGhpcy5oYXNFbWJlZGRpbmdNb2RlbENoYW5nZWQodmF1bHRJZCwgY3VycmVudE1vZGVsLCBjdXJyZW50RGltZW5zaW9ucywgY3VycmVudFByb3ZpZGVyKSxcclxuICAgICAgICAgICAgc3RvcmVkUHJvdmlkZXI6IHN0b3JlZENvbmZpZz8ucHJvdmlkZXIsXHJcbiAgICAgICAgICAgIHN0b3JlZE1vZGVsOiBzdG9yZWRDb25maWc/Lm1vZGVsLFxyXG4gICAgICAgICAgICBzdG9yZWREaW1lbnNpb25zOiBzdG9yZWRDb25maWc/LmRpbWVuc2lvbnMsXHJcbiAgICAgICAgICAgIGN1cnJlbnRQcm92aWRlcixcclxuICAgICAgICAgICAgY3VycmVudE1vZGVsLFxyXG4gICAgICAgICAgICBjdXJyZW50RGltZW5zaW9uc1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICAvLyBAdmVzc2VsLWNsb3NlOk9kaW5cclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBkYXRhYmFzZSBjb25maWd1cmF0aW9uIGZvciB2YXVsdCByZWdpc3RyYXRpb24gZnJvbSBwbHVnaW4gc2V0dGluZ3NcclxuICAgICAqIEB2ZXNzZWwtcHJvdG9jb2w6SGVpbWRhbGwgZ292ZXJuczp2YWxpZGF0aW9uIGNvbnRleHQ6RGF0YWJhc2UgY29uZmlndXJhdGlvbiBleHRyYWN0aW9uIGZyb20gcGx1Z2luIHNldHRpbmdzIGZvciB2YXVsdCByZWdpc3RyeVxyXG4gICAgICogQGludGVyLWRlcGVuZGVuY2llczogcGx1Z2luLnNldHRpbmdzLCBWYXVsdEluZm8gaW50ZXJmYWNlXHJcbiAgICAgKiBAcHVycG9zZTogRXh0cmFjdCBjb3JyZWN0IGRhdGFiYXNlIGNvbmZpZ3VyYXRpb24gZnJvbSBwbHVnaW4gZGF0YS5qc29uIGluc3RlYWQgb2YgdXNpbmcgaGFyZGNvZGVkIGRlZmF1bHRzXHJcbiAgICAgKiBAcmVzdWx0OiBWYXVsdCByZWdpc3RyeSBlbnRyaWVzIHVzZSBhY3R1YWwgZGF0YWJhc2Ugc2V0dGluZ3MgKHBvcnQgNzc4OCwgZGF0YWJhc2UgXCJNZWdhTWVtXCIpIGZyb20gcGx1Z2luIGNvbmZpZ3VyYXRpb25cclxuICAgICAqIEBzaWduZWQ6IEMuQmrDuHJuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgY3JlYXRlVmF1bHREYXRhYmFzZUNvbmZpZygpOiBWYXVsdEluZm9bJ2NvbmZpZ3VyYXRpb24nXVsnZGF0YWJhc2UnXSB7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncztcclxuXHJcbiAgICAgICAgLy8gR2V0IGRhdGFiYXNlIHR5cGUgZnJvbSBzZXR0aW5ncyAoZGVmYXVsdCB0byBuZW80ailcclxuICAgICAgICBjb25zdCBkYXRhYmFzZVR5cGUgPSBzZXR0aW5ncy5kYXRhYmFzZVR5cGUgfHwgJ25lbzRqJztcclxuXHJcbiAgICAgICAgLy8gRXh0cmFjdCBkYXRhYmFzZSBjb25maWd1cmF0aW9uIGJhc2VkIG9uIHR5cGVcclxuICAgICAgICBpZiAoZGF0YWJhc2VUeXBlID09PSAnbmVvNGonICYmIHNldHRpbmdzLmRhdGFiYXNlQ29uZmlncz8ubmVvNGopIHtcclxuICAgICAgICAgICAgY29uc3QgbmVvNGpDb25maWcgPSBzZXR0aW5ncy5kYXRhYmFzZUNvbmZpZ3MubmVvNGo7XHJcblxyXG4gICAgICAgICAgICAvLyBQYXJzZSBVUkkgdG8gZXh0cmFjdCBob3N0IGFuZCBwb3J0IGlmIGF2YWlsYWJsZVxyXG4gICAgICAgICAgICBpZiAobmVvNGpDb25maWcudXJpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1cmlNYXRjaCA9IG5lbzRqQ29uZmlnLnVyaS5tYXRjaCgvYm9sdDpcXC9cXC8oW146XSspOihcXGQrKS8pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh1cmlNYXRjaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZFBvcnQgPSBwYXJzZUludCh1cmlNYXRjaFsyXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ25lbzRqJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaG9zdDogdXJpTWF0Y2hbMV0gfHwgJ2xvY2FsaG9zdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcnQ6IHBhcnNlZFBvcnQgfHwgNzY4NywgLy8gRmFsbGJhY2sgZm9yIHBhcnNlSW50IGZhaWx1cmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2U6IG5lbzRqQ29uZmlnLmRhdGFiYXNlIHx8ICduZW80aicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBuZW80akNvbmZpZy51c2VybmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IG5lbzRqQ29uZmlnLnBhc3N3b3JkXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gRmFsbGJhY2sgLSBleHRyYWN0IGZyb20gVVJJIG9yIHVzZSBkZWZhdWx0c1xyXG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0SG9zdCA9ICdsb2NhbGhvc3QnO1xyXG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0UG9ydCA9IDc2ODc7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oYFtWQVVMVC1SRUdJU1RSWV0gVVJJIG1hdGNoIGZhaWxlZCBvciBVUkkgbm90IHByb3ZpZGVkIGZvciBOZW80ai4gVXNpbmcgZGVmYXVsdHMvZmFsbGJhY2sgdmFsdWVzLmApO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ25lbzRqJyxcclxuICAgICAgICAgICAgICAgIGhvc3Q6IGRlZmF1bHRIb3N0LFxyXG4gICAgICAgICAgICAgICAgcG9ydDogZGVmYXVsdFBvcnQsXHJcbiAgICAgICAgICAgICAgICBkYXRhYmFzZTogbmVvNGpDb25maWcuZGF0YWJhc2UgfHwgJ25lbzRqJyxcclxuICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBuZW80akNvbmZpZy51c2VybmFtZSxcclxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBuZW80akNvbmZpZy5wYXNzd29yZFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YWJhc2VUeXBlID09PSAnZmFsa29yZGInICYmIHNldHRpbmdzLmRhdGFiYXNlQ29uZmlncz8uZmFsa29yZGIpIHtcclxuICAgICAgICAgICAgY29uc3QgZmFsa29yQ29uZmlnID0gc2V0dGluZ3MuZGF0YWJhc2VDb25maWdzLmZhbGtvcmRiO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW1ZBVUxULVJFR0lTVFJZXSBGYWxrb3JEQiBjb25maWcgZm91bmQgaW4gc2V0dGluZ3MuZGF0YWJhc2VDb25maWdzOicsIHtcclxuICAgICAgICAgICAgICAgIGhvc3Q6IGZhbGtvckNvbmZpZy5ob3N0LFxyXG4gICAgICAgICAgICAgICAgcG9ydDogZmFsa29yQ29uZmlnLnBvcnQsXHJcbiAgICAgICAgICAgICAgICBkYXRhYmFzZTogZmFsa29yQ29uZmlnLmRhdGFiYXNlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyBGYWxrb3JEQiB1c2VzIG5lbzRqIHR5cGUgZm9yIHZhdWx0IHJlZ2lzdHJ5IChWYXVsdEluZm8gaW50ZXJmYWNlIGxpbWl0YXRpb24pXHJcbiAgICAgICAgICAgIC8vIGJ1dCB3aXRoIEZhbGtvckRCLXNwZWNpZmljIGNvbm5lY3Rpb24gZGV0YWlsc1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ25lbzRqJyxcclxuICAgICAgICAgICAgICAgIGhvc3Q6IGZhbGtvckNvbmZpZy5ob3N0IHx8ICdsb2NhbGhvc3QnLFxyXG4gICAgICAgICAgICAgICAgcG9ydDogZmFsa29yQ29uZmlnLnBvcnQgfHwgNjM3OSxcclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlOiBmYWxrb3JDb25maWcuZGF0YWJhc2UgfHwgJ2ZhbGtvcicsXHJcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogZmFsa29yQ29uZmlnLnVzZXJuYW1lLFxyXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6IGZhbGtvckNvbmZpZy5wYXNzd29yZFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRmluYWwgZmFsbGJhY2sgdG8gZGVmYXVsdHMgd2l0aCB3YXJuaW5nXHJcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybihgW1ZBVUxULVJFR0lTVFJZXSBObyBkYXRhYmFzZSBjb25maWd1cmF0aW9uIGZvdW5kIGZvciB0eXBlOiAke2RhdGFiYXNlVHlwZX0uIFVzaW5nIGZpbmFsIGRlZmF1bHRzLmApO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHR5cGU6ICduZW80aicsXHJcbiAgICAgICAgICAgIGhvc3Q6ICdsb2NhbGhvc3QnLFxyXG4gICAgICAgICAgICBwb3J0OiA3Njg3LFxyXG4gICAgICAgICAgICBkYXRhYmFzZTogJ25lbzRqJ1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICAvLyBAdmVzc2VsLWNsb3NlOkhlaW1kYWxsXHJcbn0iLCIvLyBAdmVzc2VsLXByb3RvY29sOlR5ciBnb3Zlcm5zOnNjaGVtYS1kaXNjb3ZlcnkgY29udGV4dDpFbnRpdHkgdHlwZSBkaXNjb3ZlcnkgYW5kIFB5ZGFudGljIG1vZGVsIGdlbmVyYXRpb24gZm9yIGtub3dsZWRnZSBncmFwaCBlbnRpdGllc1xyXG5pbXBvcnQgeyBBcHAgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IGpvaW4gfSBmcm9tICdwYXRoJztcclxuaW1wb3J0IHR5cGUgeyBQcm9wZXJ0eVNjaGVtYSB9IGZyb20gJy4uL3R5cGVzL1NjaGVtYSc7XHJcblxyXG4vLyBDb3JlIGludGVyZmFjZXMgZm9yIHNjaGVtYSBkaXNjb3ZlcnlcclxuXHJcbmludGVyZmFjZSBUeXBlU2NoZW1hIHtcclxuICB0eXBlTmFtZTogc3RyaW5nO1xyXG4gIGZpbGVDb3VudDogbnVtYmVyO1xyXG4gIGZpbGVzOiBzdHJpbmdbXTtcclxuICBwcm9wZXJ0aWVzOiBQcm9wZXJ0eVNjaGVtYVtdO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgUHJvcGVydHlBbmFseXNpcyB7XHJcbiAgb3JpZ2luYWxOYW1lOiBzdHJpbmc7XHJcbiAgc3VnZ2VzdGVkTmFtZTogc3RyaW5nO1xyXG4gIGlzUHJvdGVjdGVkOiBib29sZWFuO1xyXG4gIG5hbWluZ0lzc3Vlczogc3RyaW5nW107XHJcbiAgY29tcGxpYW5jZVN0YXR1czogJ3ZhbGlkJyB8ICd3YXJuaW5nJyB8ICdwcm90ZWN0ZWQnO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgTmFtaW5nVmFsaWRhdGlvblJlc3VsdCB7XHJcbiAgaXNWYWxpZDogYm9vbGVhbjtcclxuICBpc3N1ZXM6IHN0cmluZ1tdO1xyXG4gIHN1Z2dlc3RlZE5hbWU6IHN0cmluZztcclxuICBjb21wbGlhbmNlTGV2ZWw6ICdleGNlbGxlbnQnIHwgJ2dvb2QnIHwgJ25lZWRzX2ltcHJvdmVtZW50JyB8ICdwb29yJztcclxufVxyXG5cclxuLy8gUHJvdGVjdGVkIGF0dHJpYnV0ZXMgcmVzZXJ2ZWQgYnkgR3JhcGhpdGlcclxuY29uc3QgUFJPVEVDVEVEX0FUVFJJQlVURVMgPSBbXHJcbiAgJ2lkJywgJ3V1aWQnLCAnbmFtZScsICd0eXBlJywgJ3N1YnR5cGUnLCAnc3VtbWFyeScsICdkZXNjcmlwdGlvbicsXHJcbiAgJ2NyZWF0ZWRfYXQnLCAndXBkYXRlZF9hdCcsICdmYWN0X3V1aWQnLCAnZmFjdF9uYW1lJywgJ2ZhY3RfdHlwZScsXHJcbiAgJ2ZhY3Rfc3VidHlwZScsICdmYWN0X3N1bW1hcnknLCAnZmFjdF9kZXNjcmlwdGlvbicsICdmYWN0X2NyZWF0ZWRfYXQnLFxyXG4gICdmYWN0X3VwZGF0ZWRfYXQnLCAnZWRnZV91dWlkJywgJ2VkZ2VfbmFtZScsICdlZGdlX3R5cGUnLCAnZWRnZV9zdWJ0eXBlJyxcclxuICAnZWRnZV9zdW1tYXJ5JywgJ2VkZ2VfZGVzY3JpcHRpb24nLCAnZWRnZV9jcmVhdGVkX2F0JywgJ2VkZ2VfdXBkYXRlZF9hdCcsXHJcbiAgJ3NvdXJjZV91dWlkJywgJ3RhcmdldF91dWlkJywgJ3NvdXJjZV9uYW1lJywgJ3RhcmdldF9uYW1lJywgJ3NvdXJjZV90eXBlJyxcclxuICAndGFyZ2V0X3R5cGUnLCAndmFsaWRfYXQnLCAnaW52YWxpZF9hdCcsICdtZXRhZGF0YSdcclxuXTtcclxuXHJcbi8vIERlZmF1bHQgZW50aXR5IGRlc2NyaXB0aW9ucyBmb3IgY29tbW9uIHR5cGVzXHJcbmNvbnN0IERFRkFVTFRfRU5USVRZX0RFU0NSSVBUSU9OUzogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcclxuICBcIlBlcnNvblwiOiBcIkluZGl2aWR1YWwgaHVtYW4gYmVpbmcgd2l0aCBwZXJzb25hbCBhbmQgcHJvZmVzc2lvbmFsIGF0dHJpYnV0ZXMsIHJlbGF0aW9uc2hpcHMsIGFuZCBhY3Rpdml0aWVzIHdpdGhpbiB0aGUga25vd2xlZGdlIGRvbWFpbi5cIixcclxuICBcIk9yZ2FuaXphdGlvblwiOiBcIkJ1c2luZXNzIGVudGl0eSwgY29tcGFueSwgaW5zdGl0dXRpb24sIG9yIGdyb3VwIHdpdGggc3RydWN0dXJlZCBvcGVyYXRpb25zIGFuZCByZWxhdGlvbnNoaXBzIHdpdGhpbiB0aGUgcHJvZmVzc2lvbmFsIGVjb3N5c3RlbS5cIixcclxuICBcIlRlY2hub2xvZ3lcIjogXCJTb2Z0d2FyZSwgcHJvZ3JhbW1pbmcgbGFuZ3VhZ2UsIGZyYW1ld29yaywgdG9vbCwgb3IgdGVjaG5pY2FsIHN5c3RlbSB1c2VkIGluIGRldmVsb3BtZW50IGFuZCBidXNpbmVzcyBvcGVyYXRpb25zLlwiLFxyXG4gIFwiUHJvZHVjdFwiOiBcIlNvZnR3YXJlIHByb2R1Y3QsIHNlcnZpY2UsIHBsYXRmb3JtLCBvciBvZmZlcmluZyBjcmVhdGVkIGJ5IG9yZ2FuaXphdGlvbnMgZm9yIHVzZXJzIGFuZCBjdXN0b21lcnMuXCIsXHJcbiAgXCJQcm9qZWN0XCI6IFwiT3JnYW5pemVkIGVmZm9ydCB3aXRoIGRlZmluZWQgZ29hbHMsIHRpbWVsaW5lLCBhbmQgZGVsaXZlcmFibGVzIHVuZGVydGFrZW4gYnkgaW5kaXZpZHVhbHMgb3Igb3JnYW5pemF0aW9ucy5cIixcclxuICBcIldlYlBhZ2VcIjogXCJJbmRpdmlkdWFsIHdlYiBwYWdlIG9yIFVSTCB3aXRoIHNwZWNpZmljIGNvbnRlbnQsIHB1cnBvc2UsIGFuZCByZWxhdGlvbnNoaXBzIHdpdGhpbiB0aGUgYnJvYWRlciB3ZWIgZWNvc3lzdGVtLlwiLFxyXG4gIFwiV2Vic2l0ZVwiOiBcIkNvbXBsZXRlIHdlYiBkb21haW4gb3Igc2l0ZSBjb250YWluaW5nIG11bHRpcGxlIHBhZ2VzIGFuZCBzZXJ2aW5nIGFzIGEgdW5pZmllZCB3ZWIgcHJlc2VuY2UuXCIsXHJcbiAgXCJOb3RlXCI6IFwiUGVyc29uYWwga25vd2xlZGdlIG5vdGUsIGRvY3VtZW50YXRpb24sIG9yIGlkZWEgY2FwdHVyZWQgZm9yIHJlZmVyZW5jZSBhbmQga25vd2xlZGdlIG1hbmFnZW1lbnQgcHVycG9zZXMuXCIsXHJcbiAgXCJBcnRpY2xlXCI6IFwiUHVibGlzaGVkIGNvbnRlbnQgcGllY2Ugc3VjaCBhcyBibG9nIHBvc3QsIHR1dG9yaWFsLCBvciBpbmZvcm1hdGlvbmFsIGFydGljbGUgd2l0aCBzcGVjaWZpYyB0b3BpYyBmb2N1cy5cIixcclxuICBcIk11c2ljXCI6IFwiTXVzaWNhbCB3b3JrLCBzb25nLCBhbGJ1bSwgb3IgYXVkaW8gY29udGVudCB3aXRoIGFydGlzdGljIGFuZCBjdWx0dXJhbCBzaWduaWZpY2FuY2UsIGluY2x1ZGluZyBtZXRhZGF0YSBhYm91dCBjcmVhdGlvbiBhbmQgcGVyZm9ybWFuY2UuXCIsXHJcbiAgXCJGaWxtXCI6IFwiTW92aWUsIHZpZGVvIGNvbnRlbnQsIG9yIHZpc3VhbCBtZWRpYSBwcm9kdWN0aW9uIHdpdGggbmFycmF0aXZlIG9yIGRvY3VtZW50YXJ5IHB1cnBvc2UsIGluY2x1ZGluZyBjYXN0LCBjcmV3LCBhbmQgcHJvZHVjdGlvbiBkZXRhaWxzLlwiLFxyXG4gIFwiRXZlbnRcIjogXCJPcmdhbml6ZWQgZ2F0aGVyaW5nLCBjb25mZXJlbmNlLCBtZWV0aW5nLCBvciBvY2Nhc2lvbiB3aXRoIHNwZWNpZmljIHRpbWUsIGxvY2F0aW9uLCBhbmQgcGFydGljaXBhbnRzIGZvciBrbm93bGVkZ2Ugc2hhcmluZyBvciBjb2xsYWJvcmF0aW9uLlwiLFxyXG4gIFwiUGxhY2VcIjogXCJQaHlzaWNhbCBsb2NhdGlvbiwgdmVudWUsIG9yIGdlb2dyYXBoaWMgZW50aXR5IHdpdGggYWRkcmVzcyBhbmQgc3BhdGlhbCBjb250ZXh0IHJlbGV2YW50IHRvIGFjdGl2aXRpZXMgYW5kIHJlbGF0aW9uc2hpcHMuXCIsXHJcbiAgXCJRdW90ZVwiOiBcIk1lbW9yYWJsZSBzdGF0ZW1lbnQsIHNheWluZywgb3IgZXhjZXJwdCBhdHRyaWJ1dGVkIHRvIGEgc3BlY2lmaWMgc291cmNlIHdpdGggY29udGV4dCBhbmQgbWVhbmluZyBmb3IgcmVmZXJlbmNlIGFuZCBpbnNwaXJhdGlvbi5cIixcclxuICBcIkV4cHJlc3Npb25cIjogXCJJZGlvbSwgY29uY2VwdCwgcHJpbmNpcGxlLCBvciBsaW5ndWlzdGljIGNvbnN0cnVjdCB0aGF0IGNvbnZleXMgbWVhbmluZyB3aXRoaW4gY3VsdHVyYWwgb3IgcHJvZmVzc2lvbmFsIGNvbnRleHRzLlwiLFxyXG4gIFwiUGVyc29uYWxcIjogXCJQcml2YXRlIGluZGl2aWR1YWwgY29udGVudCBpbmNsdWRpbmcgZ29hbHMsIGlkZW50aXR5IGluZm9ybWF0aW9uLCBwcmVmZXJlbmNlcywgYW5kIHBlcnNvbmFsIGRldmVsb3BtZW50IG1hdGVyaWFsIGZvciBzZWxmLW9yZ2FuaXphdGlvbi5cIixcclxuICBcIkpvdXJuYWxcIjogXCJUaW1lLWJhc2VkIHBlcnNvbmFsIGVudHJ5IG9yIGxvZyByZWNvcmRpbmcgdGhvdWdodHMsIGV4cGVyaWVuY2VzLCBhbmQgcmVmbGVjdGlvbnMgZm9yIHRyYWNraW5nIHBlcnNvbmFsIGdyb3d0aCBhbmQgbWVtb3JpZXMuXCIsXHJcbiAgXCJCb29rXCI6IFwiUHVibGlzaGVkIGxpdGVyYXJ5IHdvcmssIHJlZmVyZW5jZSBtYXRlcmlhbCwgb3IgZWR1Y2F0aW9uYWwgdGV4dCB3aXRoIHN0cnVjdHVyZWQgY29udGVudCBmb3Iga25vd2xlZGdlIHNoYXJpbmcgYW5kIGxlYXJuaW5nLlwiLFxyXG4gIFwiUHJvamVjdERvY1wiOiBcIlRlY2huaWNhbCBkb2N1bWVudGF0aW9uLCBzcGVjaWZpY2F0aW9ucywgb3IgcHJvamVjdC1yZWxhdGVkIG1hdGVyaWFscyB0aGF0IHN1cHBvcnQgcHJvamVjdCBkZXZlbG9wbWVudCBhbmQgY29sbGFib3JhdGlvbi5cIlxyXG59O1xyXG5cclxuLy8gRGVmYXVsdCBwcm9wZXJ0eSBkZXNjcmlwdGlvbnMgZm9yIGNvbW1vbiBmaWVsZHNcclxuY29uc3QgREVGQVVMVF9QUk9QRVJUWV9ERVNDUklQVElPTlM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XHJcbiAgLy8gTXVzaWMtc3BlY2lmaWMgcHJvcGVydGllc1xyXG4gIFwiZHVyYXRpb25cIjogXCJMZW5ndGggb2YgdGhlIGFydCB3b3JrIGluIG1pbnV0ZXMgYW5kIHNlY29uZHMsIHR5cGljYWxseSBmb3JtYXR0ZWQgYXMgXFxcIk1NOlNTXFxcIiAoZS5nLiwgXFxcIjM6NDJcXFwiLCBcXFwiMToxNTozMFxcXCIpXCIsXHJcbiAgXCJyZWNvcmRfbGFiZWxcIjogXCJNdXNpYyBsYWJlbCBvciBjb21wYW55IHJlc3BvbnNpYmxlIGZvciBwcm9kdWNpbmcsIGRpc3RyaWJ1dGluZywgb3IgcHJvbW90aW5nIHRoZSBtdXNpY2FsIHdvcmtcIixcclxuICBcImFydGlzdFwiOiBcIk11c2ljYWwgcGVyZm9ybWVyLCBiYW5kLCBvciBjcmVhdG9yIHJlc3BvbnNpYmxlIGZvciB0aGUgYXJ0aXN0aWMgY3JlYXRpb24gYW5kIHBlcmZvcm1hbmNlIG9mIHRoZSBtdXNpY2FsIHdvcmtcIixcclxuICBcImFsYnVtXCI6IFwiQ29sbGVjdGlvbiBvciByZWNvcmQgcmVsZWFzZSB0aGF0IGNvbnRhaW5zIHRoaXMgbXVzaWNhbCB3b3JrIGFzIHBhcnQgb2YgYSBsYXJnZXIgYXJ0aXN0aWMgc3RhdGVtZW50XCIsXHJcbiAgXCJ0cmFja19udW1iZXJcIjogXCJQb3NpdGlvbiBvZiB0aGlzIHNvbmcgd2l0aGluIGFuIGFsYnVtIG9yIGNvbGxlY3Rpb24gZm9yIG9yZ2FuaXphdGlvbiBhbmQgcmVmZXJlbmNlXCIsXHJcbiAgXCJjb21wb3NlclwiOiBcIlBlcnNvbiB3aG8gY3JlYXRlZCB0aGUgbXVzaWNhbCBjb21wb3NpdGlvbiwgbWVsb2R5LCBhbmQgc3RydWN0dXJlIG9mIHRoZSB3b3JrXCIsXHJcbiAgXCJseXJpY2lzdFwiOiBcIlBlcnNvbiB3aG8gd3JvdGUgdGhlIHdvcmRzLCBseXJpY3MsIG9yIHRleHQgY29udGVudCBvZiB0aGUgbXVzaWNhbCB3b3JrXCIsXHJcblxyXG4gIC8vIEZpbG0tc3BlY2lmaWMgcHJvcGVydGllc1xyXG4gIFwiZGlyZWN0b3JcIjogXCJQcmltYXJ5IGRpcmVjdG9yIG9yIGZpbG1tYWtlciBjcmVkaXRlZCBhcyB0aGUgbWFpbiBjcmVhdGl2ZSBsZWFkZXIgb2YgdGhlIGZpbG0gb3IgdmlkZW8gY29udGVudFwiLFxyXG4gIFwiY2FzdFwiOiBcIkxpc3Qgb2YgYWN0b3JzIGFuZCBwZXJmb3JtZXJzIHdobyBhcHBlYXJlZCBpbiB0aGUgZmlsbSBvciB2aWRlbyBjb250ZW50XCIsXHJcbiAgXCJzdHVkaW9cIjogXCJQcm9kdWN0aW9uIHN0dWRpbyBvciBjb21wYW55IHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyBhbmQgZGlzdHJpYnV0aW5nIHRoZSBmaWxtXCIsXHJcblxyXG4gIC8vIEV2ZW50LXNwZWNpZmljIHByb3BlcnRpZXNcclxuICBcImRhdGVfc3RhcnRcIjogXCJTdGFydGluZyBkYXRlIG9mIHRoZSBldmVudCBvciBzY2hlZHVsZWQgYWN0aXZpdHkgaW4gWVlZWS1NTS1ERCBmb3JtYXRcIixcclxuICBcImRhdGVfZW5kXCI6IFwiRW5kaW5nIGRhdGUgb2YgdGhlIGV2ZW50IG9yIHNjaGVkdWxlZCBhY3Rpdml0eSBpbiBZWVlZLU1NLUREIGZvcm1hdFwiLFxyXG4gIFwibG9jYXRpb25cIjogXCJQaHlzaWNhbCB2ZW51ZSwgYWRkcmVzcywgb3IgdmlydHVhbCBwbGF0Zm9ybSB3aGVyZSB0aGUgZXZlbnQgdGFrZXMgcGxhY2UgKGUuZy4sIFxcXCJNYWRpc29uIFNxdWFyZSBHYXJkZW5cXFwiLCBcXFwiWm9vbVxcXCIsIFxcXCIxMjMgTWFpbiBTdFxcXCIpXCIsXHJcbiAgXCJvcmdhbml6ZXJcIjogXCJQZXJzb24sIG9yZ2FuaXphdGlvbiwgb3IgZW50aXR5IHJlc3BvbnNpYmxlIGZvciBwbGFubmluZyBhbmQgaG9zdGluZyB0aGUgZXZlbnRcIixcclxuICBcImV2ZW50X3R5cGVcIjogXCJDbGFzc2lmaWNhdGlvbiBvZiB0aGUgZXZlbnQncyBwdXJwb3NlIGFuZCBmb3JtYXQgKGUuZy4sIFxcXCJjb25mZXJlbmNlXFxcIiwgXFxcIm1lZXRpbmdcXFwiLCBcXFwiY2VsZWJyYXRpb25cXFwiLCBcXFwid29ya3Nob3BcXFwiLCBcXFwid2ViaW5hclxcXCIpXCIsXHJcblxyXG4gIC8vIFBsYWNlLXNwZWNpZmljIHByb3BlcnRpZXNcclxuICBcImNvb3JkaW5hdGVzXCI6IFwiR2VvZ3JhcGhpYyBjb29yZGluYXRlcyBpbiBsYXRpdHVkZSwgbG9uZ2l0dWRlIGZvcm1hdCBmb3IgcHJlY2lzZSBsb2NhdGlvbiBpZGVudGlmaWNhdGlvbiAoZS5nLiwgXFxcIjM3Ljc3NDksIC0xMjIuNDE5NFxcXCIpXCIsXHJcbiAgXCJjaXR5XCI6IFwiTXVuaWNpcGFsaXR5LCBjaXR5LCBvciB1cmJhbiBhcmVhIHRoYXQgY29udGFpbnMgb3IgcmVwcmVzZW50cyB0aGUgcGxhY2UgZm9yIHJlZ2lvbmFsIGlkZW50aWZpY2F0aW9uXCIsXHJcbiAgXCJwb3N0YWxfY29kZVwiOiBcIlpJUCBjb2RlLCBwb3N0YWwgY29kZSwgb3IgYXJlYSBjb2RlIGZvciBtYWlsIGRlbGl2ZXJ5IGFuZCByZWdpb25hbCBjbGFzc2lmaWNhdGlvblwiLFxyXG4gIFwicGxhY2VfdHlwZVwiOiBcIkNsYXNzaWZpY2F0aW9uIG9mIHRoZSBwbGFjZSdzIHB1cnBvc2UgYW5kIGNoYXJhY3RlcmlzdGljcyAoZS5nLiwgXFxcInZlbnVlXFxcIiwgXFxcIm9mZmljZVxcXCIsIFxcXCJsYW5kbWFya1xcXCIsIFxcXCJyZXNpZGVudGlhbFxcXCIsIFxcXCJjb21tZXJjaWFsXFxcIilcIixcclxuICBcInJlZ2lvblwiOiBcIkdlb2dyYXBoaWMgcmVnaW9uLCBzdGF0ZSwgb3IgcHJvdmluY2Ugd2hlcmUgdGhlIHBsYWNlIGlzIGxvY2F0ZWQgZm9yIGJyb2FkZXIgZ2VvZ3JhcGhpYyBjb250ZXh0XCIsXHJcblxyXG4gIC8vIENvbW1vbiBlbnRpdHkgcHJvcGVydGllcyAodXNlZCBhY3Jvc3MgbXVsdGlwbGUgZW50aXR5IHR5cGVzKVxyXG4gIFwidGl0bGVcIjogXCJQcmltYXJ5IG5hbWUsIGhlYWRsaW5lLCBvciBvZmZpY2lhbCB0aXRsZSB0aGF0IGlkZW50aWZpZXMgYW5kIHJlcHJlc2VudHMgdGhlIGVudGl0eVwiLFxyXG4gIFwiY19uYW1lXCI6IFwiQ29tcGxldGUgbGVnYWwgbmFtZSwgb2ZmaWNpYWwgdGl0bGUsIG9yIGNhbm9uaWNhbCBuYW1lIGFzIGZvcm1hbGx5IHJlY29nbml6ZWRcIixcclxuICBcImFsaWFzZXNcIjogXCJBbHRlcm5hdGl2ZSBuYW1lcywgbmlja25hbWVzLCBhYmJyZXZpYXRpb25zLCBvciBvdGhlciBpZGVudGlmaWVycyBieSB3aGljaCB0aGlzIGVudGl0eSBpcyBhbHNvIGtub3duXCIsXHJcbiAgXCJ1cmxcIjogXCJDb21wbGV0ZSB3ZWIgYWRkcmVzcyBvciBVUkwgd2hlcmUgdGhpcyBlbnRpdHkgY2FuIGJlIGFjY2Vzc2VkIG9yIHJlZmVyZW5jZWQgb25saW5lXCIsXHJcbiAgXCJzYW1lX2FzXCI6IFwiVVJJcyBvciBVUkxzIHRoYXQgaWRlbnRpZnkgdGhpcyBzYW1lIGVudGl0eSBvbiBvdGhlciBwbGF0Zm9ybXMsIGRhdGFiYXNlcywgb3Iga25vd2xlZGdlIHN5c3RlbXMgZm9yIGxpbmtpbmdcIixcclxuICBcInRhZ3NcIjogXCJLZXl3b3JkcywgbGFiZWxzLCBvciBjYXRlZ29yaWNhbCBtYXJrZXJzIHVzZWQgZm9yIG9yZ2FuaXppbmcsIGZpbHRlcmluZywgYW5kIGRpc2NvdmVyaW5nIHJlbGF0ZWQgY29udGVudFwiLFxyXG4gIFwiYXV0aG9yXCI6IFwiUGVyc29uIG9yIG9yZ2FuaXphdGlvbiB3aG8gY3JlYXRlZCwgd3JvdGUsIG9yIGlzIHByaW1hcmlseSByZXNwb25zaWJsZSBmb3IgdGhpcyBjb250ZW50XCIsXHJcbiAgXCJvcmdhbml6YXRpb25cIjogXCJDb21wYW55LCBpbnN0aXR1dGlvbiwgb3IgZ3JvdXAgYXNzb2NpYXRlZCB3aXRoIG9yIHJlc3BvbnNpYmxlIGZvciB0aGlzIGVudGl0eVwiLFxyXG4gIFwiYWJvdXRcIjogXCJTdWJqZWN0IG1hdHRlciwgdG9waWMsIG9yIHRoZW1lIHRoYXQgdGhpcyBjb250ZW50IGNvdmVycyBvciBkaXNjdXNzZXMgaW4gZGV0YWlsXCIsXHJcbiAgXCJjYXRlZ29yeVwiOiBcIlByaW1hcnkgY2xhc3NpZmljYXRpb24sIHR5cGUsIG9yIGRvbWFpbiB0aGF0IGNhdGVnb3JpemVzIHRoaXMgZW50aXR5J3MgcHVycG9zZSBhbmQgY2hhcmFjdGVyaXN0aWNzXCIsXHJcbiAgXCJzdGF0dXNcIjogXCJDdXJyZW50IHN0YXRlLCBwaGFzZSwgb3IgY29uZGl0aW9uIG9mIHRoZSBlbnRpdHkgaW4gaXRzIGxpZmVjeWNsZSAoZS5nLiwgXFxcImFjdGl2ZVxcXCIsIFxcXCJjb21wbGV0ZWRcXFwiLCBcXFwicGxhbm5pbmdcXFwiKVwiLFxyXG4gIFwiZGF0ZV9wdWJsaXNoZWRcIjogXCJEYXRlIHdoZW4gdGhpcyBhcnRpY2xlIG9yIGNvbnRlbnQgd2FzIG9mZmljaWFsbHkgcHVibGlzaGVkIG9yIHJlbGVhc2VkIGluIFlZWVktTU0tREQgZm9ybWF0XCIsXHJcblxyXG4gIC8vIFBlcnNvbi1zcGVjaWZpYyBwcm9wZXJ0aWVzXHJcbiAgXCJpZGVudGl0eV90eXBlXCI6IFwiQ2xhc3NpZmljYXRpb24gb2YgdGhlIHBlcnNvbidzIGlkZW50aXR5IHN0YXR1cyAoZS5nLiwgXFxcIm5hdHVyYWxfcGVyc29uXFxcIiwgXFxcInB1YmxpY19maWd1cmVcXFwiLCBcXFwicHNldWRvbnltXFxcIiwgXFxcImNoYXJhY3RlclxcXCIpXCIsXHJcbiAgXCJnaXZlbl9uYW1lXCI6IFwiRmlyc3QgbmFtZSBvciBnaXZlbiBuYW1lIGFzIGNvbW1vbmx5IHVzZWQgZm9yIHBlcnNvbmFsIGlkZW50aWZpY2F0aW9uIGFuZCBpbnRyb2R1Y3Rpb25zXCIsXHJcbiAgXCJmYW1pbHlfbmFtZVwiOiBcIkxhc3QgbmFtZSwgc3VybmFtZSwgb3IgZmFtaWx5IG5hbWUgdXNlZCBmb3IgZm9ybWFsIGlkZW50aWZpY2F0aW9uIGFuZCBoZXJpdGFnZVwiLFxyXG4gIFwiZGF0ZV9vZl9iaXJ0aFwiOiBcIkRhdGUgd2hlbiB0aGUgcGVyc29uIHdhcyBib3JuLCBmb3JtYXR0ZWQgYXMgWVlZWS1NTS1ERCBmb3IgYmlvZ3JhcGhpY2FsIHJlZmVyZW5jZVwiLFxyXG4gIFwiZGF0ZV9vZl9kZWF0aFwiOiBcIkRhdGUgd2hlbiB0aGUgcGVyc29uIHBhc3NlZCBhd2F5LCBmb3JtYXR0ZWQgYXMgWVlZWS1NTS1ERCBpZiBhcHBsaWNhYmxlIGZvciBiaW9ncmFwaGljYWwgY29tcGxldGlvblwiLFxyXG4gIFwiYWRkcmVzc1wiOiBcIlBoeXNpY2FsIGFkZHJlc3MsIGxvY2F0aW9uLCBvciBwcmltYXJ5IHJlc2lkZW5jZSB3aGVyZSB0aGUgcGVyc29uIGlzIGJhc2VkXCIsXHJcbiAgXCJlbWFpbFwiOiBcIlByaW1hcnkgZW1haWwgYWRkcmVzcyBmb3IgcHJvZmVzc2lvbmFsIG9yIHBlcnNvbmFsIGNvbW11bmljYXRpb24gYW5kIGNvbnRhY3RcIixcclxuICBcIndvcmtzX2ZvclwiOiBcIk9yZ2FuaXphdGlvbiwgY29tcGFueSwgb3IgaW5zdGl0dXRpb24gd2hlcmUgdGhlIHBlcnNvbiBpcyBjdXJyZW50bHkgZW1wbG95ZWRcIixcclxuICBcImpvYl90aXRsZVwiOiBcIlByb2Zlc3Npb25hbCByb2xlLCBwb3NpdGlvbiwgb3IgdGl0bGUgdGhhdCBkZXNjcmliZXMgdGhlIHBlcnNvbidzIGN1cnJlbnQgcmVzcG9uc2liaWxpdGllc1wiLFxyXG4gIFwibmVlZHNcIjogXCJSZXNvdXJjZXMsIHNraWxscywgY29ubmVjdGlvbnMsIG9yIHN1cHBvcnQgdGhhdCB0aGUgcGVyc29uIHJlcXVpcmVzIHRvIGFjaGlldmUgdGhlaXIgZ29hbHNcIixcclxuICBcIm9mZmVyc1wiOiBcIlNraWxscywgc2VydmljZXMsIGtub3dsZWRnZSwgb3IgdmFsdWUgdGhhdCB0aGUgcGVyc29uIGNhbiBwcm92aWRlIHRvIG90aGVycyBvciBjb250cmlidXRlIHRvIHByb2plY3RzXCIsXHJcbiAgXCJsaW5rc1wiOiBcIlVSTHMgb3Igd2ViIGFkZHJlc3NlcyBhc3NvY2lhdGVkIHdpdGggdGhlIHBlcnNvbidzIG9ubGluZSBwcmVzZW5jZSBvciBwcm9mZXNzaW9uYWwgcHJvZmlsZXNcIixcclxuICBcInJlbGF0aW9uc2hpcF90eXBlXCI6IFwiTmF0dXJlIG9mIHRoZSByZWxhdGlvbnNoaXAgb3IgY29ubmVjdGlvbiB0aGlzIHBlcnNvbiBoYXMgdG8gb3RoZXIgZW50aXRpZXMgb3IgcGVvcGxlXCIsXHJcblxyXG4gIC8vIE9yZ2FuaXphdGlvbi1zcGVjaWZpYyBwcm9wZXJ0aWVzXHJcbiAgXCJkYXRlX2ZvdW5kZWRcIjogXCJEYXRlIHdoZW4gdGhlIG9yZ2FuaXphdGlvbiB3YXMgb2ZmaWNpYWxseSBlc3RhYmxpc2hlZCwgaW5jb3Jwb3JhdGVkLCBvciBmb3VuZGVkIGluIFlZWVktTU0tREQgZm9ybWF0XCIsXHJcbiAgXCJvcmdfdHlwZVwiOiBcIkxlZ2FsIHN0cnVjdHVyZSBvciBjbGFzc2lmaWNhdGlvbiBvZiB0aGUgb3JnYW5pemF0aW9uIChlLmcuLCBcXFwiTExDXFxcIiwgXFxcIkNvcnBvcmF0aW9uXFxcIiwgXFxcIk5vbi1wcm9maXRcXFwiLCBcXFwiUGFydG5lcnNoaXBcXFwiKVwiLFxyXG5cclxuICAvLyBQcm9qZWN0LXNwZWNpZmljIHByb3BlcnRpZXNcclxuICBcInByb2plY3RfdHlwZVwiOiBcIkNsYXNzaWZpY2F0aW9uIG9mIHRoZSBwcm9qZWN0J3MgbmF0dXJlLCBzY29wZSwgYW5kIG1ldGhvZG9sb2d5IChlLmcuLCBcXFwic29mdHdhcmVcXFwiLCBcXFwicmVzZWFyY2hcXFwiLCBcXFwic3RhcnR1cFxcXCIsIFxcXCJjb21tdW5pdHlcXFwiKVwiLFxyXG4gIFwiY29sbGFib3JhdG9yc1wiOiBcIlBlb3BsZSwgdGVhbXMsIG9yIG9yZ2FuaXphdGlvbnMgd29ya2luZyB0b2dldGhlciBvbiB0aGlzIHByb2plY3Qgb3IgY29udHJpYnV0aW5nIHRvIGl0cyBkZXZlbG9wbWVudFwiLFxyXG4gIFwicHVibGljX3JlcG9cIjogXCJVUkwgb3IgcmVmZXJlbmNlIHRvIHRoZSBwdWJsaWMgY29kZSByZXBvc2l0b3J5IHdoZXJlIHRoZSBwcm9qZWN0J3Mgc291cmNlIGNvZGUgaXMgaG9zdGVkIGFuZCBhY2Nlc3NpYmxlXCIsXHJcblxyXG4gIC8vIFRlY2hub2xvZ3ktc3BlY2lmaWMgcHJvcGVydGllcyAtIG5vIGFkZGl0aW9uYWwgc3BlY2lmaWMgb25lcyBiZXlvbmQgY29tbW9uIHByb3BlcnRpZXNcclxuXHJcbiAgLy8gUHJvZHVjdC1zcGVjaWZpYyBwcm9wZXJ0aWVzXHJcbiAgXCJvZmZlcmluZ190eXBlXCI6IFwiQnVzaW5lc3MgbW9kZWwgYW5kIGRlbGl2ZXJ5IG1ldGhvZCBvZiB0aGUgcHJvZHVjdCAoZS5nLiwgXFxcIlNhYVNcXFwiLCBcXFwiQVBJXFxcIiwgXFxcInBoeXNpY2FsX3Byb2R1Y3RcXFwiLCBcXFwic2VydmljZVxcXCIsIFxcXCJwbGF0Zm9ybVxcXCIpXCIsXHJcblxyXG4gIC8vIEFydGljbGUtc3BlY2lmaWMgcHJvcGVydGllc1xyXG4gIFwiYXJ0aWNsZV90eXBlXCI6IFwiR2VucmUgb3IgZm9ybWF0IGNsYXNzaWZpY2F0aW9uIG9mIHRoZSBhcnRpY2xlIChlLmcuLCBcXFwiYmxvZ19wb3N0XFxcIiwgXFxcInR1dG9yaWFsXFxcIiwgXFxcImFuYWx5c2lzXFxcIiwgXFxcIm5ld3NcXFwiLCBcXFwicmV2aWV3XFxcIilcIixcclxuXHJcbiAgLy8gTm90ZS1zcGVjaWZpYyBwcm9wZXJ0aWVzXHJcbiAgXCJub3RlX3R5cGVcIjogXCJDbGFzc2lmaWNhdGlvbiBvZiB0aGUgbm90ZSdzIHB1cnBvc2UgYW5kIGNvbnRlbnQgdHlwZSAoZS5nLiwgXFxcImlkZWFcXFwiLCBcXFwibWVldGluZ19ub3Rlc1xcXCIsIFxcXCJyZWZlcmVuY2VcXFwiLCBcXFwiYW5hbHlzaXNcXFwiKVwiLFxyXG5cclxuICAvLyBCb29rLXNwZWNpZmljIHByb3BlcnRpZXNcclxuICBcInN1YnRpdGxlXCI6IFwiU2Vjb25kYXJ5IHRpdGxlIG9yIGV4cGxhbmF0b3J5IHN1YnRpdGxlIHRoYXQgcHJvdmlkZXMgYWRkaXRpb25hbCBjb250ZXh0IGFib3V0IHRoZSBib29rJ3MgY29udGVudFwiLFxyXG4gIFwiY2F0ZWdvcmllc1wiOiBcIlN1YmplY3QgY2F0ZWdvcmllcywgZ2VucmVzLCBvciBjbGFzc2lmaWNhdGlvbiB0YWdzIHRoYXQgZGVzY3JpYmUgdGhlIGJvb2sncyBjb250ZW50IGFuZCB0YXJnZXQgYXVkaWVuY2VcIixcclxuICBcImF1dGhvcnNcIjogXCJMaXN0IG9mIHBlb3BsZSB3aG8gd3JvdGUsIGVkaXRlZCwgb3IgY29udHJpYnV0ZWQgdG8gdGhlIGNyZWF0aW9uIG9mIHRoZSBib29rXCIsXHJcbiAgXCJwdWJsaXNoZWRfb25cIjogXCJEYXRlIHdoZW4gdGhlIGJvb2sgd2FzIG9mZmljaWFsbHkgcHVibGlzaGVkIG9yIHJlbGVhc2VkIGluIFlZWVktTU0tREQgZm9ybWF0XCIsXHJcbiAgXCJsaW5rXCI6IFwiVVJMIG9yIHdlYiBhZGRyZXNzIHdoZXJlIHRoZSBib29rIGNhbiBiZSBhY2Nlc3NlZCwgcHVyY2hhc2VkLCBvciByZWZlcmVuY2VkIG9ubGluZVwiLFxyXG5cclxuICAvLyBQcm9qZWN0RG9jLXNwZWNpZmljIHByb3BlcnRpZXNcclxuICBcInByb2plY3RcIjogXCJOYW1lIG9yIGlkZW50aWZpZXIgb2YgdGhlIHByb2plY3QgdGhhdCB0aGlzIGRvY3VtZW50YXRpb24gcmVsYXRlcyB0byBvciBzdXBwb3J0c1wiLFxyXG4gIFwidGVhbVwiOiBcIkdyb3VwIG9mIHBlb3BsZSBvciBvcmdhbml6YXRpb25hbCB1bml0IHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyBhbmQgbWFpbnRhaW5pbmcgdGhpcyBkb2N1bWVudGF0aW9uXCIsXHJcblxyXG4gIC8vIENyb3NzLWVudGl0eSBjb3JyZWN0aW9ucyBmb3IgRmlsbSBwcm9wZXJ0aWVzIHRoYXQgd2VyZSBpbmNvcnJlY3RseSB1c2luZyBNdXNpYyBkZXNjcmlwdGlvbnNcclxuICBcImdlbnJlXCI6IFwiQ2F0ZWdvcnksIHN0eWxlLCBvciBjbGFzc2lmaWNhdGlvbiB0aGF0IGRlc2NyaWJlcyB0aGUgYXJ0aXN0aWMgYXBwcm9hY2gsIHN1YmplY3QgbWF0dGVyLCBvciB0YXJnZXQgYXVkaWVuY2VcIixcclxuICBcImNvdW50cnlcIjogXCJOYXRpb24gb3IgY291bnRyeSBvZiBvcmlnaW4gd2hlcmUgdGhlIGVudGl0eSB3YXMgY3JlYXRlZCwgcHJvZHVjZWQsIG9yIHByaW1hcmlseSBvcGVyYXRlc1wiXHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgU2NoZW1hRGlzY292ZXJ5U2VydmljZSB7XHJcbiAgcHJpdmF0ZSBwbHVnaW46IGFueTsgLy8gUGx1Z2luIGluc3RhbmNlIGZvciBhY2Nlc3Npbmcgc2V0dGluZ3NcclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBhcHA6IEFwcCwgcGx1Z2luPzogYW55KSB7XHJcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuICB9XHJcblxyXG4gIC8vIFNhZmUgbG9nZ2VyIGFjY2Vzc29yOiBwcmVmZXIgcGx1Z2luLmxvZ2dlciB3aGVuIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIHVuZGVmaW5lZC5cclxuICAvLyBVc2UgQVNDSUktb25seSBtZXNzYWdlcyBwZXIgcHJvamVjdCBydWxlcy5cclxuICBwcml2YXRlIGdldCBsb2dnZXIoKTogYW55IHwgdW5kZWZpbmVkIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnBsdWdpbiAmJiB0aGlzLnBsdWdpbi5sb2dnZXIgPyB0aGlzLnBsdWdpbi5sb2dnZXIgOiB1bmRlZmluZWQ7XHJcbiAgICB9IGNhdGNoIChfKSB7XHJcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVjayBpZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdGVjdGVkIGJ5IEdyYXBoaXRpXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBpc1Byb3RlY3RlZEF0dHJpYnV0ZShuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIHJldHVybiBQUk9URUNURURfQVRUUklCVVRFUy5pbmNsdWRlcyhuYW1lLnRvTG93ZXJDYXNlKCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29udmVydCBjYW1lbENhc2Ugb3IgUGFzY2FsQ2FzZSB0byBzbmFrZV9jYXNlXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBjb252ZXJ0VG9TbmFrZUNhc2UobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBuYW1lXHJcbiAgICAgIC5yZXBsYWNlKC8oW0EtWl0pL2csICdfJDEnKVxyXG4gICAgICAudG9Mb3dlckNhc2UoKVxyXG4gICAgICAucmVwbGFjZSgvXl8vLCAnJyk7IC8vIFJlbW92ZSBsZWFkaW5nIHVuZGVyc2NvcmVcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFZhbGlkYXRlIGVudGl0eSB0eXBlIG5hbWUgKHNob3VsZCBiZSBQYXNjYWxDYXNlKVxyXG4gICAqL1xyXG4gIHByaXZhdGUgdmFsaWRhdGVFbnRpdHlUeXBlTmFtZShuYW1lOiBzdHJpbmcpOiBOYW1pbmdWYWxpZGF0aW9uUmVzdWx0IHtcclxuICAgIGNvbnN0IGlzc3Vlczogc3RyaW5nW10gPSBbXTtcclxuICAgIGxldCBzdWdnZXN0ZWROYW1lID0gbmFtZTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiBpdCdzIFBhc2NhbENhc2VcclxuICAgIGlmICghL15bQS1aXVthLXpBLVowLTldKiQvLnRlc3QobmFtZSkpIHtcclxuICAgICAgaXNzdWVzLnB1c2goJ0VudGl0eSB0eXBlIHNob3VsZCBiZSBQYXNjYWxDYXNlIChlLmcuLCBQZXJzb24sIFRlY2hDb21wYW55KScpO1xyXG4gICAgICAvLyBDb252ZXJ0IHRvIFBhc2NhbENhc2VcclxuICAgICAgc3VnZ2VzdGVkTmFtZSA9IG5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnNsaWNlKDEpLnJlcGxhY2UoL1teYS16QS1aMC05XS9nLCAnJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY29tcGxpYW5jZUxldmVsID0gaXNzdWVzLmxlbmd0aCA9PT0gMCA/ICdleGNlbGxlbnQnIDogJ25lZWRzX2ltcHJvdmVtZW50JztcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpc1ZhbGlkOiBpc3N1ZXMubGVuZ3RoID09PSAwLFxyXG4gICAgICBpc3N1ZXMsXHJcbiAgICAgIHN1Z2dlc3RlZE5hbWUsXHJcbiAgICAgIGNvbXBsaWFuY2VMZXZlbFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFuYWx5emUgYSBwcm9wZXJ0eSBmb3IgbmFtaW5nIGFuZCBwcm90ZWN0aW9uIGlzc3Vlc1xyXG4gICAqL1xyXG4gIHByaXZhdGUgYW5hbHl6ZVByb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWVzOiBhbnlbXSk6IFByb3BlcnR5QW5hbHlzaXMge1xyXG4gICAgY29uc3Qgc3VnZ2VzdGVkTmFtZSA9IHRoaXMuY29udmVydFRvU25ha2VDYXNlKG5hbWUpO1xyXG4gICAgY29uc3QgaXNQcm90ZWN0ZWQgPSB0aGlzLmlzUHJvdGVjdGVkQXR0cmlidXRlKG5hbWUpO1xyXG4gICAgY29uc3QgbmFtaW5nSXNzdWVzOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICAgIGlmIChpc1Byb3RlY3RlZCkge1xyXG4gICAgICBuYW1pbmdJc3N1ZXMucHVzaCgnVXNlcyBwcm90ZWN0ZWQgYXR0cmlidXRlIG5hbWUgcmVzZXJ2ZWQgYnkgR3JhcGhpdGknKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobmFtZSAhPT0gc3VnZ2VzdGVkTmFtZSAmJiAhaXNQcm90ZWN0ZWQpIHtcclxuICAgICAgbmFtaW5nSXNzdWVzLnB1c2goJ1Nob3VsZCB1c2Ugc25ha2VfY2FzZSBuYW1pbmcgY29udmVudGlvbicpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNvbXBsaWFuY2VTdGF0dXM6ICd2YWxpZCcgfCAnd2FybmluZycgfCAncHJvdGVjdGVkJyA9XHJcbiAgICAgIGlzUHJvdGVjdGVkID8gJ3Byb3RlY3RlZCcgOlxyXG4gICAgICBuYW1pbmdJc3N1ZXMubGVuZ3RoID4gMCA/ICd3YXJuaW5nJyA6ICd2YWxpZCc7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgb3JpZ2luYWxOYW1lOiBuYW1lLFxyXG4gICAgICBzdWdnZXN0ZWROYW1lOiBpc1Byb3RlY3RlZCA/IGAke3N1Z2dlc3RlZE5hbWV9X2N1c3RvbWAgOiBzdWdnZXN0ZWROYW1lLFxyXG4gICAgICBpc1Byb3RlY3RlZCxcclxuICAgICAgbmFtaW5nSXNzdWVzLFxyXG4gICAgICBjb21wbGlhbmNlU3RhdHVzXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQXBwbHkgc2F2ZWQgcHJvcGVydHkgbWFwcGluZ3MgdG8gYSBwcm9wZXJ0eSBuYW1lXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBhcHBseVByb3BlcnR5TWFwcGluZyhlbnRpdHlUeXBlOiBzdHJpbmcsIG9yaWdpbmFsTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGlmICghdGhpcy5wbHVnaW4pIHJldHVybiBvcmlnaW5hbE5hbWU7XHJcblxyXG4gICAgY29uc3QgbWFwcGluZyA9IHRoaXMucGx1Z2luLmdldFByb3BlcnR5TWFwcGluZyhlbnRpdHlUeXBlLCBvcmlnaW5hbE5hbWUpO1xyXG4gICAgcmV0dXJuIG1hcHBpbmcgfHwgb3JpZ2luYWxOYW1lO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2F2ZSBhIHByb3BlcnR5IG1hcHBpbmcgcGVyc2lzdGVudGx5XHJcbiAgICovXHJcbiAgYXN5bmMgc2F2ZVByb3BlcnR5TWFwcGluZyhlbnRpdHlUeXBlOiBzdHJpbmcsIG9yaWdpbmFsTmFtZTogc3RyaW5nLCBtYXBwZWROYW1lOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGlmICh0aGlzLnBsdWdpbikge1xyXG4gICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlUHJvcGVydHlNYXBwaW5nKGVudGl0eVR5cGUsIG9yaWdpbmFsTmFtZSwgbWFwcGVkTmFtZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZW1vdmUgYSBwcm9wZXJ0eSBtYXBwaW5nXHJcbiAgICovXHJcbiAgYXN5bmMgcmVtb3ZlUHJvcGVydHlNYXBwaW5nKGVudGl0eVR5cGU6IHN0cmluZywgb3JpZ2luYWxOYW1lOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGlmICh0aGlzLnBsdWdpbikge1xyXG4gICAgICBhd2FpdCB0aGlzLnBsdWdpbi5yZW1vdmVQcm9wZXJ0eU1hcHBpbmcoZW50aXR5VHlwZSwgb3JpZ2luYWxOYW1lKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNhdmUgYSBwcm9wZXJ0eSBzZWxlY3Rpb24gKGVuYWJsZWQvZGlzYWJsZWQgc3RhdGUpIHBlcnNpc3RlbnRseVxyXG4gICAqL1xyXG4gIGFzeW5jIHNhdmVQcm9wZXJ0eVNlbGVjdGlvbihlbnRpdHlUeXBlOiBzdHJpbmcsIHByb3BlcnR5TmFtZTogc3RyaW5nLCBlbmFibGVkOiBib29sZWFuKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBpZiAodGhpcy5wbHVnaW4pIHtcclxuICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVByb3BlcnR5U2VsZWN0aW9uKGVudGl0eVR5cGUsIHByb3BlcnR5TmFtZSwgZW5hYmxlZCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgc2F2ZWQgcHJvcGVydHkgc2VsZWN0aW9uIHN0YXRlXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBnZXRQcm9wZXJ0eVNlbGVjdGlvbihlbnRpdHlUeXBlOiBzdHJpbmcsIHByb3BlcnR5TmFtZTogc3RyaW5nKTogYm9vbGVhbiB8IHVuZGVmaW5lZCB7XHJcbiAgICBpZiAoIXRoaXMucGx1Z2luKSByZXR1cm4gdW5kZWZpbmVkO1xyXG5cclxuICAgIHJldHVybiB0aGlzLnBsdWdpbi5nZXRQcm9wZXJ0eVNlbGVjdGlvbihlbnRpdHlUeXBlLCBwcm9wZXJ0eU5hbWUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGRlZmF1bHQgZGVzY3JpcHRpb24gZm9yIGEga25vd24gZW50aXR5IHR5cGVcclxuICAgKi9cclxuICBnZXREZWZhdWx0RW50aXR5RGVzY3JpcHRpb24oZW50aXR5VHlwZTogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XHJcbiAgICByZXR1cm4gREVGQVVMVF9FTlRJVFlfREVTQ1JJUFRJT05TW2VudGl0eVR5cGVdIHx8IG51bGw7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVjayBpZiB3ZSBoYXZlIGEgZGVmYXVsdCBkZXNjcmlwdGlvbiBmb3IgdGhpcyBlbnRpdHkgdHlwZVxyXG4gICAqL1xyXG4gIGhhc0RlZmF1bHRFbnRpdHlEZXNjcmlwdGlvbihlbnRpdHlUeXBlOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIHJldHVybiBlbnRpdHlUeXBlIGluIERFRkFVTFRfRU5USVRZX0RFU0NSSVBUSU9OUztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBhbGwgYXZhaWxhYmxlIGRlZmF1bHQgZW50aXR5IHR5cGVzXHJcbiAgICovXHJcbiAgZ2V0QXZhaWxhYmxlRGVmYXVsdEVudGl0eVR5cGVzKCk6IHN0cmluZ1tdIHtcclxuICAgIHJldHVybiBPYmplY3Qua2V5cyhERUZBVUxUX0VOVElUWV9ERVNDUklQVElPTlMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGRlZmF1bHQgZGVzY3JpcHRpb24gZm9yIGEgcHJvcGVydHlcclxuICAgKi9cclxuICBnZXREZWZhdWx0UHJvcGVydHlEZXNjcmlwdGlvbihwcm9wZXJ0eU5hbWU6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xyXG4gICAgcmV0dXJuIERFRkFVTFRfUFJPUEVSVFlfREVTQ1JJUFRJT05TW3Byb3BlcnR5TmFtZV0gfHwgbnVsbDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIHdlIGhhdmUgYSBkZWZhdWx0IGRlc2NyaXB0aW9uIGZvciB0aGlzIHByb3BlcnR5XHJcbiAgICovXHJcbiAgaGFzRGVmYXVsdFByb3BlcnR5RGVzY3JpcHRpb24ocHJvcGVydHlOYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIHJldHVybiBwcm9wZXJ0eU5hbWUgaW4gREVGQVVMVF9QUk9QRVJUWV9ERVNDUklQVElPTlM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgZGlyZWN0IGFjY2VzcyB0byBkZWZhdWx0IHByb3BlcnR5IGRlc2NyaXB0aW9uc1xyXG4gICAqL1xyXG4gIGdldCBkZWZhdWx0UHJvcGVydHlEZXNjcmlwdGlvbnMoKTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiB7XHJcbiAgICByZXR1cm4gREVGQVVMVF9QUk9QRVJUWV9ERVNDUklQVElPTlM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgYWxsIGF2YWlsYWJsZSBkZWZhdWx0IHByb3BlcnR5IG5hbWVzXHJcbiAgICovXHJcbiAgZ2V0QXZhaWxhYmxlRGVmYXVsdFByb3BlcnRpZXMoKTogc3RyaW5nW10ge1xyXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKERFRkFVTFRfUFJPUEVSVFlfREVTQ1JJUFRJT05TKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBhbGwgYXZhaWxhYmxlIGRlZmF1bHQgZWRnZSB0eXBlcyB3aXRoIGRlc2NyaXB0aW9uc1xyXG4gICAqL1xyXG4gIGdldEF2YWlsYWJsZURlZmF1bHRFZGdlVHlwZXMoKTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAnV29ya3NGb3InOiAnUGVyc29uIGVtcGxveWVkIGJ5IE9yZ2FuaXphdGlvbicsXHJcbiAgICAgICdVc2VzJzogJ1BlcnNvbi9Pcmdhbml6YXRpb24gdXNlcyBUZWNobm9sb2d5L1Byb2R1Y3QnLFxyXG4gICAgICAnQ3JlYXRlcyc6ICdQZXJzb24vT3JnYW5pemF0aW9uIGNyZWF0ZXMgVGVjaG5vbG9neS9Qcm9kdWN0L1Byb2plY3QnLFxyXG4gICAgICAnS25vd3MnOiAnUGVyc29uIGtub3dzIFBlcnNvbiAocGVyc29uYWwgb3IgcHJvZmVzc2lvbmFsIHJlbGF0aW9uc2hpcCknLFxyXG4gICAgICAnTWVtYmVyT2YnOiAnUGVyc29uL09yZ2FuaXphdGlvbiBpcyBtZW1iZXIgb2YgT3JnYW5pemF0aW9uJyxcclxuICAgICAgJ1BhcnRuZXJzV2l0aCc6ICdQZXJzb24vT3JnYW5pemF0aW9uIHBhcnRuZXJzIHdpdGggUGVyc29uL09yZ2FuaXphdGlvbicsXHJcbiAgICAgICdEZXBlbmRzT24nOiAnVGVjaG5vbG9neS9Qcm9kdWN0IGRlcGVuZHMgb24gVGVjaG5vbG9neScsXHJcbiAgICAgICdJbnRlZ3JhdGVkV2l0aCc6ICdQcm9kdWN0L1RlY2hub2xvZ3kgaGFzIGJ1aWx0LWluIGludGVncmF0aW9uIHdpdGggUHJvZHVjdC9UZWNobm9sb2d5JyxcclxuICAgICAgJ0Fib3V0JzogJ1dlYlBhZ2UvTm90ZS9BcnRpY2xlIGFib3V0IEVudGl0eScsXHJcbiAgICAgICdJc1BhcnRPZic6ICdXZWJQYWdlIHBhcnQgb2YgV2Vic2l0ZS9Eb21haW4nLFxyXG4gICAgICAnVGFncyc6ICdFbnRpdHkgaXMgdGFnZ2VkIHdpdGggYW5vdGhlciBFbnRpdHknLFxyXG4gICAgICAvLyBOZXcgZWRnZSB0eXBlcyBmb3IgbWVkaWEsIGV2ZW50cywgYW5kIHJlbGF0aW9uc2hpcHNcclxuICAgICAgJ1BlcmZvcm1lZEJ5JzogJ011c2ljYWwgd29yayBwZXJmb3JtZWQgYnkgQXJ0aXN0L1BlcnNvbicsXHJcbiAgICAgICdJbmZsdWVuY2VkQnknOiAnRW50aXR5IGluZmx1ZW5jZWQgb3IgaW5zcGlyZWQgYnkgYW5vdGhlciBFbnRpdHknLFxyXG4gICAgICAnQ29sbGFib3JhdGVzV2l0aCc6ICdQZXJzb24vT3JnYW5pemF0aW9uIGFjdGl2ZWx5IGNvbGxhYm9yYXRlcyB3aXRoIFBlcnNvbi9Pcmdhbml6YXRpb24nLFxyXG4gICAgICAnT3JnYW5pemVkQnknOiAnRXZlbnQgb3JnYW5pemVkIGFuZCBtYW5hZ2VkIGJ5IFBlcnNvbi9Pcmdhbml6YXRpb24nLFxyXG4gICAgICAnQXR0ZW5kZWRCeSc6ICdFdmVudCBhdHRlbmRlZCBvciBwYXJ0aWNpcGF0ZWQgaW4gYnkgUGVyc29uJyxcclxuICAgICAgJ1BhcnRPZlNlcmllcyc6ICdFbnRpdHkgdGhhdCBiZWxvbmdzIHRvIG9yIGNvbnRpbnVlcyBhIHNlcmllcy9zZXF1ZW5jZScsXHJcbiAgICAgICdMZWFkQnknOiAnUHJvamVjdC9Pcmdhbml6YXRpb24vSW5pdGlhdGl2ZSBsZWQgb3IgZGlyZWN0ZWQgYnkgUGVyc29uJyxcclxuICAgICAgJ1Nwb25zb3JlZEJ5JzogJ0VudGl0eSBzcG9uc29yZWQsIGZ1bmRlZCwgb3Igc3VwcG9ydGVkIGJ5IE9yZ2FuaXphdGlvbicsXHJcbiAgICAgICdDb21wZXRlc1dpdGgnOiAnT3JnYW5pemF0aW9uL1Byb2R1Y3QgaW4gY29tcGV0aXRpb24gb3Igcml2YWxyeSB3aXRoIE9yZ2FuaXphdGlvbi9Qcm9kdWN0J1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBkZWZhdWx0IHByb3BlcnRpZXMgZm9yIGtub3duIGVkZ2UgdHlwZXNcclxuICAgKi9cclxuICBnZXREZWZhdWx0RWRnZVR5cGVQcm9wZXJ0aWVzKCk6IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIHsgZGVzY3JpcHRpb246IHN0cmluZzsgZmllbGRUeXBlOiBzdHJpbmc7IHJlcXVpcmVkOiBib29sZWFuIH0+PiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAnV29ya3NGb3InOiB7XHJcbiAgICAgICAgJ2pvYl90aXRsZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQ3VycmVudCBwcm9mZXNzaW9uYWwgcm9sZSwgcG9zaXRpb24sIG9yIHRpdGxlIHRoYXQgZGVzY3JpYmVzIHJlc3BvbnNpYmlsaXRpZXMgYW5kIGxldmVsIHdpdGhpbiBhbiBvcmdhbml6YXRpb24nLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ2VtcGxveW1lbnRfdHlwZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRW1wbG95bWVudCBjbGFzc2lmaWNhdGlvbiBzdWNoIGFzIGZ1bGwtdGltZSwgcGFydC10aW1lLCBjb250cmFjdG9yLCBjb25zdWx0YW50LCBhZHZpc29yLCBvciBpbnRlcm4nLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ3N0YXJ0X2RhdGUnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0RhdGUgd2hlbiB0aGUgZW1wbG95bWVudCByZWxhdGlvbnNoaXAgYmVnYW4gaW4gWVlZWS1NTS1ERCBmb3JtYXQnLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnZGF0ZXRpbWUnLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICAnVXNlcyc6IHtcclxuICAgICAgICAnc2VudGltZW50Jzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdVc2VyXFwncyBhdHRpdHVkZSBvciBmZWVsaW5nIHRvd2FyZCB0aGUgdGVjaG5vbG9neSAocG9zaXRpdmUsIG5lZ2F0aXZlLCBuZXV0cmFsLCBsb3ZlLCBoYXRlKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAncHJvZmljaWVuY3knOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1VzZXJcXCdzIHNraWxsIGxldmVsIG9yIGV4cGVydGlzZSB3aXRoIHRoZSB0ZWNobm9sb2d5IChiZWdpbm5lciwgaW50ZXJtZWRpYXRlLCBhZHZhbmNlZCwgZXhwZXJ0KScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAndXNhZ2VfY29udGV4dCc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQ29udGV4dCBvciBlbnZpcm9ubWVudCB3aGVyZSB0aGUgdGVjaG5vbG9neSBpcyB1c2VkIChkZXZlbG9wbWVudCwgcHJvZHVjdGlvbiwgcGVyc29uYWwsIHRlc3RpbmcpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgICdzdGF0dXMnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0N1cnJlbnQgdXNhZ2Ugc3RhdHVzIChhY3RpdmUsIGluYWN0aXZlLCB0cmlhbCwgcGFpZF9hY2NvdW50LCBldmFsdWF0aW5nKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnc3RhcnRfZGF0ZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRGF0ZSB3aGVuIHVzYWdlIGJlZ2FuIGluIFlZWVktTU0tREQgZm9ybWF0JyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ2RhdGV0aW1lJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgJ0NyZWF0ZXMnOiB7XHJcbiAgICAgICAgJ3JvbGUnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0NyZWF0b3JcXCdzIHJvbGUgaW4gdGhlIGNyZWF0aW9uIHByb2Nlc3MgKGZvdW5kZXIsIGxlYWRfZGV2ZWxvcGVyLCBjb250cmlidXRvciwgZGVzaWduZXIsIGFyY2hpdGVjdCknLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ2NvbnRyaWJ1dGlvbl90eXBlJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdUeXBlIG9mIGNvbnRyaWJ1dGlvbiBtYWRlIChjb2RlLCBkZXNpZ24sIHN0cmF0ZWd5LCBmdW5kaW5nLCBkb2N1bWVudGF0aW9uLCB0ZXN0aW5nKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICAnS25vd3MnOiB7XHJcbiAgICAgICAgJ3JlbGF0aW9uc2hpcF90eXBlJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdOYXR1cmUgb2YgdGhlIHJlbGF0aW9uc2hpcCAoY29sbGVhZ3VlLCBtZW50b3IsIGZyaWVuZCwgY29sbGFib3JhdG9yLCBhY3F1YWludGFuY2UpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgICdjb250ZXh0Jzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdDb250ZXh0IG9yIHNldHRpbmcgd2hlcmUgdGhleSBrbm93IGVhY2ggb3RoZXIgKHdvcmssIHNjaG9vbCwgaW5kdXN0cnksIHBlcnNvbmFsKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICAnTWVtYmVyT2YnOiB7XHJcbiAgICAgICAgJ3JvbGUnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ01lbWJlclxcJ3Mgcm9sZSBvciBwb3NpdGlvbiB3aXRoaW4gdGhlIG9yZ2FuaXphdGlvbiAoZW1wbG95ZWUsIHZvbHVudGVlciwgYm9hcmRfbWVtYmVyLCBjdXN0b21lciwgcGFydG5lciknLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ3N0YXJ0X2RhdGUnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0RhdGUgd2hlbiBtZW1iZXJzaGlwIGJlZ2FuIGluIFlZWVktTU0tREQgZm9ybWF0JyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ2RhdGV0aW1lJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ3N0YXR1cyc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQ3VycmVudCBtZW1iZXJzaGlwIHN0YXR1cyAoYWN0aXZlLCBpbmFjdGl2ZSwgc3VzcGVuZGVkLCB0cmlhbCwgcGFpZCknLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgJ1BhcnRuZXJzV2l0aCc6IHtcclxuICAgICAgICAncGFydG5lcnNoaXBfdHlwZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVHlwZSBvZiBwYXJ0bmVyc2hpcCAoc3RyYXRlZ2ljLCBzdXBwbGllciwgaW52ZXN0bWVudCwgY29uc3VsdGluZywgYWR2aXNvcnksIGpvaW50X3ZlbnR1cmUpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgICdzdGFydF9kYXRlJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdEYXRlIHdoZW4gcGFydG5lcnNoaXAgYmVnYW4gaW4gWVlZWS1NTS1ERCBmb3JtYXQnLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnZGF0ZXRpbWUnLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnc3RhdHVzJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdDdXJyZW50IHBhcnRuZXJzaGlwIHN0YXR1cyAoYWN0aXZlLCBpbmFjdGl2ZSwgY29tcGxldGVkLCBuZWdvdGlhdGluZyknLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgJ0RlcGVuZHNPbic6IHtcclxuICAgICAgICAnZGVwZW5kZW5jeV90eXBlJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdUeXBlIG9mIGRlcGVuZGVuY3kgKHJ1bnRpbWUsIGJ1aWxkX3RpbWUsIGRldmVsb3BtZW50LCBpbmZyYXN0cnVjdHVyZSwgb3B0aW9uYWwpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgICd2ZXJzaW9uJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdSZXF1aXJlZCB2ZXJzaW9uIG9yIHZlcnNpb24gcmFuZ2UgZm9yIHRoZSBkZXBlbmRlbmN5JyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgICdJbnRlZ3JhdGVkV2l0aCc6IHtcclxuICAgICAgICAnaW50ZWdyYXRpb25fdHlwZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVHlwZSBvZiBpbnRlZ3JhdGlvbiAobmF0aXZlLCBwbHVnaW4sIEFQSSwgd2ViaG9vaywgU0RLLCBlbWJlZGRlZCknLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ2JpZGlyZWN0aW9uYWwnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1doZXRoZXIgdGhlIGludGVncmF0aW9uIHdvcmtzIGluIGJvdGggZGlyZWN0aW9ucyBiZXR3ZWVuIHRoZSB0ZWNobm9sb2dpZXMnLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnYm9vbCcsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgICdBYm91dCc6IHtcclxuICAgICAgICAnY292ZXJhZ2VfdHlwZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRGVwdGggb2YgY292ZXJhZ2UgKGNvbXByZWhlbnNpdmUsIG1lbnRpb24sIGFuYWx5c2lzLCB0dXRvcmlhbCwgcmV2aWV3KScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnYXV0aG9yaXR5Jzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdTb3VyY2UgYXV0aG9yaXR5IGxldmVsIChvZmZpY2lhbCwgY29tbXVuaXR5LCBleHBlcnRfYW5hbHlzaXMsIHVzZXJfZ2VuZXJhdGVkKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICAnSXNQYXJ0T2YnOiB7XHJcbiAgICAgICAgJ3JlbGF0aW9uc2hpcF90eXBlJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdUeXBlIG9mIHJlbGF0aW9uc2hpcCAocGFnZSwgYXJ0aWNsZSwgZG9jdW1lbnRhdGlvbiwgc2VjdGlvbiwgc3ViZG9tYWluKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICAnVGFncyc6IHtcclxuICAgICAgICAvLyBObyBkZWZhdWx0IHByb3BlcnRpZXMgZm9yIFRhZ3MgZWRnZSB0eXBlXHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvLyBOZXcgZWRnZSB0eXBlcyBmb3IgRGF5IDE3XHJcbiAgICAgICdQZXJmb3JtZWRCeSc6IHtcclxuICAgICAgICAncGVyZm9ybWFuY2VfdHlwZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVHlwZSBvZiBwZXJmb3JtYW5jZSByZWxhdGlvbnNoaXAgKG9yaWdpbmFsX2FydGlzdCwgY292ZXJfdmVyc2lvbiwgbGl2ZV9wZXJmb3JtYW5jZSwgY29sbGFib3JhdGlvbiwgZmVhdHVyZWRfYXJ0aXN0KScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAncm9sZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnU3BlY2lmaWMgcm9sZSBpbiB0aGUgcGVyZm9ybWFuY2UgKGxlYWRfdm9jYWxzLCBpbnN0cnVtZW50YWxpc3QsIHByb2R1Y2VyLCBmZWF0dXJlZCwgYmFja2luZ192b2NhbHMpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgICdwZXJmb3JtYW5jZV9kYXRlJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdEYXRlIHdoZW4gdGhpcyBwZXJmb3JtYW5jZSBvciByZWNvcmRpbmcgdG9vayBwbGFjZSBpbiBZWVlZLU1NLUREIGZvcm1hdCcsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdkYXRldGltZScsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgICdJbmZsdWVuY2VkQnknOiB7XHJcbiAgICAgICAgJ2luZmx1ZW5jZV90eXBlJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdOYXR1cmUgb2YgdGhlIGluZmx1ZW5jZSByZWxhdGlvbnNoaXAgKGFydGlzdGljLCBpbnRlbGxlY3R1YWwsIG1ldGhvZG9sb2dpY2FsLCBwaGlsb3NvcGhpY2FsLCB0ZWNobmljYWwpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgICdkZXNjcmlwdGlvbic6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnU3BlY2lmaWMgd2F5cyB0aGlzIGVudGl0eSB3YXMgaW5mbHVlbmNlZCwgaW5jbHVkaW5nIGNvbmNlcHRzLCB0ZWNobmlxdWVzLCBvciBhcHByb2FjaGVzIGFkb3B0ZWQnLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ3N0cmVuZ3RoJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdEZWdyZWUgb2YgaW5mbHVlbmNlIGltcGFjdCAobWlub3IsIG1vZGVyYXRlLCBtYWpvciwgZm91bmRhdGlvbmFsLCB0cmFuc2Zvcm1hdGl2ZSknLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgJ0NvbGxhYm9yYXRlc1dpdGgnOiB7XHJcbiAgICAgICAgJ2NvbGxhYm9yYXRpb25fdHlwZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnTmF0dXJlIG9mIHRoZSBjb2xsYWJvcmF0aXZlIHJlbGF0aW9uc2hpcCAocHJvamVjdF9wYXJ0bmVyLCBjb19hdXRob3IsIGpvaW50X3ZlbnR1cmUsIHJlc2VhcmNoX3BhcnRuZXIsIGNyZWF0aXZlX3BhcnRuZXIpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgICdjb2xsYWJvcmF0aW9uX3N0YXR1cyc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQ3VycmVudCBzdGF0ZSBvZiB0aGUgY29sbGFib3JhdGlvbiAoYWN0aXZlLCBjb21wbGV0ZWQsIHBsYW5uZWQsIG9uX2hvbGQsIHJlY3VycmluZyknLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ3N0YXJ0X2RhdGUnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0RhdGUgd2hlbiB0aGUgY29sbGFib3JhdGlvbiBiZWdhbiBpbiBZWVlZLU1NLUREIGZvcm1hdCcsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdkYXRldGltZScsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgICdPcmdhbml6ZWRCeSc6IHtcclxuICAgICAgICAnb3JnYW5pemF0aW9uYWxfcm9sZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnU3BlY2lmaWMgcm9sZSBpbiBvcmdhbml6aW5nIHRoZSBldmVudCAobGVhZF9vcmdhbml6ZXIsIGNvX29yZ2FuaXplciwgZXZlbnRfbWFuYWdlciwgbG9naXN0aWNzX2Nvb3JkaW5hdG9yLCBwcm9ncmFtX2RpcmVjdG9yKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAncmVzcG9uc2liaWxpdGllcyc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnU3BlY2lmaWMgZHV0aWVzIGFuZCBhcmVhcyBvZiByZXNwb25zaWJpbGl0eSBpbiBldmVudCBvcmdhbml6YXRpb24gKGxvZ2lzdGljcywgcHJvZ3JhbW1pbmcsIG1hcmtldGluZywgc3BvbnNvcnNoaXBzKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICAnQXR0ZW5kZWRCeSc6IHtcclxuICAgICAgICAnYXR0ZW5kYW5jZV90eXBlJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdOYXR1cmUgb2YgYXR0ZW5kYW5jZSBvciBwYXJ0aWNpcGF0aW9uIChwcmVzZW50ZXIsIGF0dGVuZGVlLCBrZXlub3RlX3NwZWFrZXIsIHBhbmVsaXN0LCBzcG9uc29yLCB2b2x1bnRlZXIpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgICdwYXJ0aWNpcGF0aW9uX2xldmVsJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdEZWdyZWUgb2YgaW52b2x2ZW1lbnQgaW4gdGhlIGV2ZW50IChhY3RpdmVfcGFydGljaXBhbnQsIHBhc3NpdmVfYXR0ZW5kZWUsIGZlYXR1cmVkX3NwZWFrZXIsIG9yZ2FuaXplciknLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgJ1BhcnRPZlNlcmllcyc6IHtcclxuICAgICAgICAnc2VxdWVuY2VfcG9zaXRpb24nOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1Bvc2l0aW9uIG9yIG9yZGVyIHdpdGhpbiB0aGUgc2VyaWVzIChlcGlzb2RlXzEsIHBhcnRfMiwgdm9sdW1lXzMsIHNlYXNvbl8xX2VwaXNvZGVfNSknLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnc3RyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ3Nlcmllc19yZWxhdGlvbnNoaXAnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1R5cGUgb2YgcmVsYXRpb25zaGlwIHRvIHRoZSBzZXJpZXMgKHNlcXVlbCwgcHJlcXVlbCwgc3Bpbl9vZmYsIGNvbnRpbnVhdGlvbiwgcGFydF9vZl9jb2xsZWN0aW9uKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICAnTGVhZEJ5Jzoge1xyXG4gICAgICAgICdsZWFkZXJzaGlwX3JvbGUnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1NwZWNpZmljIGxlYWRlcnNoaXAgcG9zaXRpb24gYW5kIGF1dGhvcml0eSAoY2VvLCBwcm9qZWN0X21hbmFnZXIsIHRlYW1fbGVhZCwgY3JlYXRpdmVfZGlyZWN0b3IsIHByaW5jaXBhbF9pbnZlc3RpZ2F0b3IpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgICdsZWFkZXJzaGlwX3N0YXJ0X2RhdGUnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0RhdGUgd2hlbiBsZWFkZXJzaGlwIHJvbGUgYmVnYW4gaW4gWVlZWS1NTS1ERCBmb3JtYXQnLFxyXG4gICAgICAgICAgZmllbGRUeXBlOiAnZGF0ZXRpbWUnLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnbGVhZGVyc2hpcF9zY29wZSc6IHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQXJlYXMgb2YgcmVzcG9uc2liaWxpdHkgYW5kIGRlY2lzaW9uLW1ha2luZyBhdXRob3JpdHkgKHN0cmF0ZWdpYywgb3BlcmF0aW9uYWwsIGNyZWF0aXZlLCB0ZWNobmljYWwsIGFkbWluaXN0cmF0aXZlKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICAnU3BvbnNvcmVkQnknOiB7XHJcbiAgICAgICAgJ3Nwb25zb3JzaGlwX3R5cGUnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ05hdHVyZSBvZiBzcG9uc29yc2hpcCByZWxhdGlvbnNoaXAgKGZpbmFuY2lhbCwgaW5fa2luZCwgcHJvbW90aW9uYWwsIHN0cmF0ZWdpYywgdGl0bGVfc3BvbnNvciwgcHJlc2VudGluZ19zcG9uc29yKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnc3BvbnNvcnNoaXBfbGV2ZWwnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0RlZ3JlZSBvciB0aWVyIG9mIHNwb25zb3JzaGlwIHN1cHBvcnQgKHBsYXRpbnVtLCBnb2xkLCBzaWx2ZXIsIGJyb256ZSwgbWFqb3IsIG1pbm9yKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnc3VwcG9ydF9kZXRhaWxzJzoge1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdTcGVjaWZpYyB3YXlzIHNwb25zb3IgcHJvdmlkZXMgc3VwcG9ydCAoZnVuZGluZywgcmVzb3VyY2VzLCBleHBlcnRpc2UsIG1hcmtldGluZywgdmVudWUpJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgICdDb21wZXRlc1dpdGgnOiB7XHJcbiAgICAgICAgJ2NvbXBldGl0aW9uX3R5cGUnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ05hdHVyZSBvZiBjb21wZXRpdGl2ZSByZWxhdGlvbnNoaXAgKGRpcmVjdF9jb21wZXRpdG9yLCBtYXJrZXRfcml2YWwsIGFsdGVybmF0aXZlX3NvbHV0aW9uLCBpbmR1c3RyeV9wZWVyKScsXHJcbiAgICAgICAgICBmaWVsZFR5cGU6ICdzdHInLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnbWFya2V0X2NvbnRleHQnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ01hcmtldCBvciBkb21haW4gd2hlcmUgY29tcGV0aXRpb24gb2NjdXJzIChzYW1lX21hcmtldCwgYWRqYWNlbnRfbWFya2V0LCBzdWJzdGl0dXRlX3Byb2R1Y3QsIGZlYXR1cmVfY29tcGV0aXRpb24pJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgICdjb21wZXRpdGl2ZV9hZHZhbnRhZ2UnOiB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0tleSBkaWZmZXJlbnRpYXRpbmcgZmFjdG9ycyBpbiB0aGUgY29tcGV0aXRpdmUgcmVsYXRpb25zaGlwIChwcmljZSwgZmVhdHVyZXMsIG1hcmtldF9zaGFyZSwgYnJhbmRfcmVjb2duaXRpb24pJyxcclxuICAgICAgICAgIGZpZWxkVHlwZTogJ3N0cicsXHJcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgdW51c2VkIGRlZmF1bHQgZWRnZSB0eXBlcyAoYXZhaWxhYmxlIGRlZmF1bHRzIG5vdCBjdXJyZW50bHkgZGVmaW5lZClcclxuICAgKi9cclxuICBnZXRVbnVzZWREZWZhdWx0RWRnZVR5cGVzKGN1cnJlbnRFZGdlVHlwZXM6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHtcclxuICAgIGNvbnN0IGF2YWlsYWJsZURlZmF1bHRzID0gdGhpcy5nZXRBdmFpbGFibGVEZWZhdWx0RWRnZVR5cGVzKCk7XHJcbiAgICBjb25zdCB1bnVzZWQ6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcclxuXHJcbiAgICBPYmplY3QuZW50cmllcyhhdmFpbGFibGVEZWZhdWx0cykuZm9yRWFjaCgoW2VkZ2VUeXBlLCBkZXNjcmlwdGlvbl0pID0+IHtcclxuICAgICAgaWYgKCFjdXJyZW50RWRnZVR5cGVzW2VkZ2VUeXBlXSkge1xyXG4gICAgICAgIHVudXNlZFtlZGdlVHlwZV0gPSBkZXNjcmlwdGlvbjtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHVudXNlZDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBzdWdnZXN0ZWQgZGVmYXVsdCBlZGdlIG1hcHBpbmdzIGJhc2VkIG9uIGRpc2NvdmVyZWQgZW50aXR5IHR5cGVzXHJcbiAgICovXHJcbiAgZ2V0U3VnZ2VzdGVkRGVmYXVsdE1hcHBpbmdzKGVudGl0eVR5cGVzOiBzdHJpbmdbXSwgY3VycmVudE1hcHBpbmdzOiBhbnlbXSk6IEFycmF5PHtcclxuICAgIHNvdXJjZUVudGl0eTogc3RyaW5nO1xyXG4gICAgdGFyZ2V0RW50aXR5OiBzdHJpbmc7XHJcbiAgICBhbGxvd2VkRWRnZXM6IHN0cmluZ1tdO1xyXG4gICAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICB9PiB7XHJcbiAgICBjb25zdCBzdWdnZXN0aW9uczogQXJyYXk8e1xyXG4gICAgICBzb3VyY2VFbnRpdHk6IHN0cmluZztcclxuICAgICAgdGFyZ2V0RW50aXR5OiBzdHJpbmc7XHJcbiAgICAgIGFsbG93ZWRFZGdlczogc3RyaW5nW107XHJcbiAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgICB9PiA9IFtdO1xyXG5cclxuICAgIC8vIENyZWF0ZSBhIHNldCBvZiBleGlzdGluZyBtYXBwaW5ncyBmb3IgcXVpY2sgbG9va3VwXHJcbiAgICBjb25zdCBleGlzdGluZ01hcHBpbmdzID0gbmV3IFNldChcclxuICAgICAgY3VycmVudE1hcHBpbmdzLm1hcChtID0+IGAke20uc291cmNlRW50aXR5fS0+JHttLnRhcmdldEVudGl0eX1gKVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBQZXJzb24gcmVsYXRpb25zaGlwc1xyXG4gICAgaWYgKGVudGl0eVR5cGVzLmluY2x1ZGVzKCdQZXJzb24nKSkge1xyXG4gICAgICBpZiAoZW50aXR5VHlwZXMuaW5jbHVkZXMoJ09yZ2FuaXphdGlvbicpICYmICFleGlzdGluZ01hcHBpbmdzLmhhcygnUGVyc29uLT5Pcmdhbml6YXRpb24nKSkge1xyXG4gICAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgICAgc291cmNlRW50aXR5OiAnUGVyc29uJyxcclxuICAgICAgICAgIHRhcmdldEVudGl0eTogJ09yZ2FuaXphdGlvbicsXHJcbiAgICAgICAgICBhbGxvd2VkRWRnZXM6IFsnV29ya3NGb3InLCAnTWVtYmVyT2YnLCAnUGFydG5lcnNXaXRoJ10sXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1Blb3BsZSB3b3JraW5nIGZvciBvciBiZWluZyBtZW1iZXJzIG9mIG9yZ2FuaXphdGlvbnMnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGVudGl0eVR5cGVzLmluY2x1ZGVzKCdUZWNobm9sb2d5JykgJiYgIWV4aXN0aW5nTWFwcGluZ3MuaGFzKCdQZXJzb24tPlRlY2hub2xvZ3knKSkge1xyXG4gICAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgICAgc291cmNlRW50aXR5OiAnUGVyc29uJyxcclxuICAgICAgICAgIHRhcmdldEVudGl0eTogJ1RlY2hub2xvZ3knLFxyXG4gICAgICAgICAgYWxsb3dlZEVkZ2VzOiBbJ0NyZWF0ZXMnLCAnVXNlcyddLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdQZW9wbGUgY3JlYXRpbmcgb3IgdXNpbmcgdGVjaG5vbG9naWVzJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChlbnRpdHlUeXBlcy5pbmNsdWRlcygnUHJvZHVjdCcpICYmICFleGlzdGluZ01hcHBpbmdzLmhhcygnUGVyc29uLT5Qcm9kdWN0JykpIHtcclxuICAgICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICAgIHNvdXJjZUVudGl0eTogJ1BlcnNvbicsXHJcbiAgICAgICAgICB0YXJnZXRFbnRpdHk6ICdQcm9kdWN0JyxcclxuICAgICAgICAgIGFsbG93ZWRFZGdlczogWydDcmVhdGVzJywgJ1VzZXMnXSxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnUGVvcGxlIGNyZWF0aW5nIG9yIHVzaW5nIHByb2R1Y3RzJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChlbnRpdHlUeXBlcy5pbmNsdWRlcygnUHJvamVjdCcpICYmICFleGlzdGluZ01hcHBpbmdzLmhhcygnUGVyc29uLT5Qcm9qZWN0JykpIHtcclxuICAgICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICAgIHNvdXJjZUVudGl0eTogJ1BlcnNvbicsXHJcbiAgICAgICAgICB0YXJnZXRFbnRpdHk6ICdQcm9qZWN0JyxcclxuICAgICAgICAgIGFsbG93ZWRFZGdlczogWydDcmVhdGVzJywgJ01lbWJlck9mJ10sXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1Blb3BsZSBjcmVhdGluZyBvciBiZWluZyBwYXJ0IG9mIHByb2plY3RzJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICghZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ1BlcnNvbi0+UGVyc29uJykpIHtcclxuICAgICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICAgIHNvdXJjZUVudGl0eTogJ1BlcnNvbicsXHJcbiAgICAgICAgICB0YXJnZXRFbnRpdHk6ICdQZXJzb24nLFxyXG4gICAgICAgICAgYWxsb3dlZEVkZ2VzOiBbJ0tub3dzJ10sXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1Byb2Zlc3Npb25hbCBhbmQgcGVyc29uYWwgcmVsYXRpb25zaGlwcyBiZXR3ZWVuIHBlb3BsZSdcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIE9yZ2FuaXphdGlvbiByZWxhdGlvbnNoaXBzXHJcbiAgICBpZiAoZW50aXR5VHlwZXMuaW5jbHVkZXMoJ09yZ2FuaXphdGlvbicpKSB7XHJcbiAgICAgIGlmIChlbnRpdHlUeXBlcy5pbmNsdWRlcygnVGVjaG5vbG9neScpICYmICFleGlzdGluZ01hcHBpbmdzLmhhcygnT3JnYW5pemF0aW9uLT5UZWNobm9sb2d5JykpIHtcclxuICAgICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICAgIHNvdXJjZUVudGl0eTogJ09yZ2FuaXphdGlvbicsXHJcbiAgICAgICAgICB0YXJnZXRFbnRpdHk6ICdUZWNobm9sb2d5JyxcclxuICAgICAgICAgIGFsbG93ZWRFZGdlczogWydDcmVhdGVzJywgJ1VzZXMnLCAnRGVwZW5kc09uJ10sXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ09yZ2FuaXphdGlvbnMgY3JlYXRpbmcsIHVzaW5nLCBvciBkZXBlbmRpbmcgb24gdGVjaG5vbG9naWVzJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChlbnRpdHlUeXBlcy5pbmNsdWRlcygnUHJvZHVjdCcpICYmICFleGlzdGluZ01hcHBpbmdzLmhhcygnT3JnYW5pemF0aW9uLT5Qcm9kdWN0JykpIHtcclxuICAgICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICAgIHNvdXJjZUVudGl0eTogJ09yZ2FuaXphdGlvbicsXHJcbiAgICAgICAgICB0YXJnZXRFbnRpdHk6ICdQcm9kdWN0JyxcclxuICAgICAgICAgIGFsbG93ZWRFZGdlczogWydDcmVhdGVzJywgJ1VzZXMnLCAnRGVwZW5kc09uJ10sXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ09yZ2FuaXphdGlvbnMgY3JlYXRpbmcsIHVzaW5nLCBvciBkZXBlbmRpbmcgb24gcHJvZHVjdHMnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFleGlzdGluZ01hcHBpbmdzLmhhcygnT3JnYW5pemF0aW9uLT5Pcmdhbml6YXRpb24nKSkge1xyXG4gICAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgICAgc291cmNlRW50aXR5OiAnT3JnYW5pemF0aW9uJyxcclxuICAgICAgICAgIHRhcmdldEVudGl0eTogJ09yZ2FuaXphdGlvbicsXHJcbiAgICAgICAgICBhbGxvd2VkRWRnZXM6IFsnUGFydG5lcnNXaXRoJywgJ01lbWJlck9mJ10sXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1BhcnRuZXJzaGlwcyBhbmQgbWVtYmVyc2hpcHMgYmV0d2VlbiBvcmdhbml6YXRpb25zJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVGVjaG5vbG9neSByZWxhdGlvbnNoaXBzXHJcbiAgICBpZiAoZW50aXR5VHlwZXMuaW5jbHVkZXMoJ1RlY2hub2xvZ3knKSkge1xyXG4gICAgICBpZiAoIWV4aXN0aW5nTWFwcGluZ3MuaGFzKCdUZWNobm9sb2d5LT5UZWNobm9sb2d5JykpIHtcclxuICAgICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICAgIHNvdXJjZUVudGl0eTogJ1RlY2hub2xvZ3knLFxyXG4gICAgICAgICAgdGFyZ2V0RW50aXR5OiAnVGVjaG5vbG9neScsXHJcbiAgICAgICAgICBhbGxvd2VkRWRnZXM6IFsnRGVwZW5kc09uJywgJ0ludGVncmF0ZWRXaXRoJ10sXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0RlcGVuZGVuY2llcyBhbmQgaW50ZWdyYXRpb25zIGJldHdlZW4gdGVjaG5vbG9naWVzJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChlbnRpdHlUeXBlcy5pbmNsdWRlcygnUHJvZHVjdCcpICYmICFleGlzdGluZ01hcHBpbmdzLmhhcygnVGVjaG5vbG9neS0+UHJvZHVjdCcpKSB7XHJcbiAgICAgICAgc3VnZ2VzdGlvbnMucHVzaCh7XHJcbiAgICAgICAgICBzb3VyY2VFbnRpdHk6ICdUZWNobm9sb2d5JyxcclxuICAgICAgICAgIHRhcmdldEVudGl0eTogJ1Byb2R1Y3QnLFxyXG4gICAgICAgICAgYWxsb3dlZEVkZ2VzOiBbJ0ludGVncmF0ZWRXaXRoJ10sXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1RlY2hub2xvZ2llcyBpbnRlZ3JhdGVkIHdpdGggcHJvZHVjdHMnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDb250ZW50IHJlbGF0aW9uc2hpcHNcclxuICAgIGNvbnN0IGNvbnRlbnRUeXBlcyA9IFsnV2ViUGFnZScsICdOb3RlJywgJ0FydGljbGUnXS5maWx0ZXIodHlwZSA9PiBlbnRpdHlUeXBlcy5pbmNsdWRlcyh0eXBlKSk7XHJcbiAgICBjb250ZW50VHlwZXMuZm9yRWFjaChjb250ZW50VHlwZSA9PiB7XHJcbiAgICAgIGlmICghZXhpc3RpbmdNYXBwaW5ncy5oYXMoYCR7Y29udGVudFR5cGV9LT5FbnRpdHlgKSkge1xyXG4gICAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgICAgc291cmNlRW50aXR5OiBjb250ZW50VHlwZSxcclxuICAgICAgICAgIHRhcmdldEVudGl0eTogJ0VudGl0eScsXHJcbiAgICAgICAgICBhbGxvd2VkRWRnZXM6IFsnQWJvdXQnXSxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBgJHtjb250ZW50VHlwZX0gY29udGVudCBhYm91dCBvdGhlciBlbnRpdGllc2BcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gTmV3IGVudGl0eSB0eXBlIHJlbGF0aW9uc2hpcHMgZm9yIERheSAxN1xyXG4gICAgaWYgKGVudGl0eVR5cGVzLmluY2x1ZGVzKCdQZXJzb24nKSAmJiBlbnRpdHlUeXBlcy5pbmNsdWRlcygnTXVzaWMnKSAmJiAhZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ1BlcnNvbi0+TXVzaWMnKSkge1xyXG4gICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICBzb3VyY2VFbnRpdHk6ICdQZXJzb24nLFxyXG4gICAgICAgIHRhcmdldEVudGl0eTogJ011c2ljJyxcclxuICAgICAgICBhbGxvd2VkRWRnZXM6IFsnUGVyZm9ybWVkQnknLCAnSW5mbHVlbmNlZEJ5JywgJ0NyZWF0ZXMnXSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1Blb3BsZSBwZXJmb3JtaW5nLCBjcmVhdGluZywgb3IgaW5mbHVlbmNlZCBieSBtdXNpY2FsIHdvcmtzJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZW50aXR5VHlwZXMuaW5jbHVkZXMoJ1BlcnNvbicpICYmIGVudGl0eVR5cGVzLmluY2x1ZGVzKCdGaWxtJykgJiYgIWV4aXN0aW5nTWFwcGluZ3MuaGFzKCdQZXJzb24tPkZpbG0nKSkge1xyXG4gICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICBzb3VyY2VFbnRpdHk6ICdQZXJzb24nLFxyXG4gICAgICAgIHRhcmdldEVudGl0eTogJ0ZpbG0nLFxyXG4gICAgICAgIGFsbG93ZWRFZGdlczogWydQZXJmb3JtZWRCeScsICdJbmZsdWVuY2VkQnknLCAnQ3JlYXRlcyddLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUGVvcGxlIGFjdGluZyBpbiwgY3JlYXRpbmcsIG9yIGluZmx1ZW5jZWQgYnkgZmlsbXMnXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChlbnRpdHlUeXBlcy5pbmNsdWRlcygnUGVyc29uJykgJiYgZW50aXR5VHlwZXMuaW5jbHVkZXMoJ0V2ZW50JykgJiYgIWV4aXN0aW5nTWFwcGluZ3MuaGFzKCdQZXJzb24tPkV2ZW50JykpIHtcclxuICAgICAgc3VnZ2VzdGlvbnMucHVzaCh7XHJcbiAgICAgICAgc291cmNlRW50aXR5OiAnUGVyc29uJyxcclxuICAgICAgICB0YXJnZXRFbnRpdHk6ICdFdmVudCcsXHJcbiAgICAgICAgYWxsb3dlZEVkZ2VzOiBbJ09yZ2FuaXplZEJ5JywgJ0F0dGVuZGVkQnknLCAnTGVhZEJ5J10sXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdQZW9wbGUgb3JnYW5pemluZywgYXR0ZW5kaW5nLCBvciBsZWFkaW5nIGV2ZW50cydcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVudGl0eVR5cGVzLmluY2x1ZGVzKCdQZXJzb24nKSAmJiBlbnRpdHlUeXBlcy5pbmNsdWRlcygnUGxhY2UnKSAmJiAhZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ1BlcnNvbi0+UGxhY2UnKSkge1xyXG4gICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICBzb3VyY2VFbnRpdHk6ICdQZXJzb24nLFxyXG4gICAgICAgIHRhcmdldEVudGl0eTogJ1BsYWNlJyxcclxuICAgICAgICBhbGxvd2VkRWRnZXM6IFsnVGFncycsICdBYm91dCddLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUGVvcGxlIGFzc29jaWF0ZWQgd2l0aCBvciBkb2N1bWVudGluZyBwbGFjZXMnXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChlbnRpdHlUeXBlcy5pbmNsdWRlcygnTXVzaWMnKSAmJiAhZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ011c2ljLT5NdXNpYycpKSB7XHJcbiAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgIHNvdXJjZUVudGl0eTogJ011c2ljJyxcclxuICAgICAgICB0YXJnZXRFbnRpdHk6ICdNdXNpYycsXHJcbiAgICAgICAgYWxsb3dlZEVkZ2VzOiBbJ0luZmx1ZW5jZWRCeScsICdQYXJ0T2ZTZXJpZXMnXSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ011c2ljYWwgd29ya3MgaW5mbHVlbmNlZCBieSBvciBwYXJ0IG9mIHNlcmllcyB3aXRoIG90aGVyIG11c2ljJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZW50aXR5VHlwZXMuaW5jbHVkZXMoJ0ZpbG0nKSAmJiAhZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ0ZpbG0tPkZpbG0nKSkge1xyXG4gICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICBzb3VyY2VFbnRpdHk6ICdGaWxtJyxcclxuICAgICAgICB0YXJnZXRFbnRpdHk6ICdGaWxtJyxcclxuICAgICAgICBhbGxvd2VkRWRnZXM6IFsnSW5mbHVlbmNlZEJ5JywgJ1BhcnRPZlNlcmllcycsICdDb21wZXRlc1dpdGgnXSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ0ZpbG1zIGluZmx1ZW5jZWQgYnksIHBhcnQgb2Ygc2VyaWVzLCBvciBjb21wZXRpbmcgd2l0aCBvdGhlciBmaWxtcydcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVudGl0eVR5cGVzLmluY2x1ZGVzKCdPcmdhbml6YXRpb24nKSAmJiBlbnRpdHlUeXBlcy5pbmNsdWRlcygnRXZlbnQnKSAmJiAhZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ09yZ2FuaXphdGlvbi0+RXZlbnQnKSkge1xyXG4gICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICBzb3VyY2VFbnRpdHk6ICdPcmdhbml6YXRpb24nLFxyXG4gICAgICAgIHRhcmdldEVudGl0eTogJ0V2ZW50JyxcclxuICAgICAgICBhbGxvd2VkRWRnZXM6IFsnT3JnYW5pemVkQnknLCAnU3BvbnNvcmVkQnknXSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ09yZ2FuaXphdGlvbnMgb3JnYW5pemluZyBvciBzcG9uc29yaW5nIGV2ZW50cydcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVudGl0eVR5cGVzLmluY2x1ZGVzKCdPcmdhbml6YXRpb24nKSAmJiBlbnRpdHlUeXBlcy5pbmNsdWRlcygnTXVzaWMnKSAmJiAhZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ09yZ2FuaXphdGlvbi0+TXVzaWMnKSkge1xyXG4gICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICBzb3VyY2VFbnRpdHk6ICdPcmdhbml6YXRpb24nLFxyXG4gICAgICAgIHRhcmdldEVudGl0eTogJ011c2ljJyxcclxuICAgICAgICBhbGxvd2VkRWRnZXM6IFsnU3BvbnNvcmVkQnknLCAnQ3JlYXRlcyddLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnT3JnYW5pemF0aW9ucyBzcG9uc29yaW5nIG9yIGNyZWF0aW5nIG11c2ljYWwgd29ya3MgKGxhYmVscywgc3R1ZGlvcyknXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChlbnRpdHlUeXBlcy5pbmNsdWRlcygnT3JnYW5pemF0aW9uJykgJiYgZW50aXR5VHlwZXMuaW5jbHVkZXMoJ0ZpbG0nKSAmJiAhZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ09yZ2FuaXphdGlvbi0+RmlsbScpKSB7XHJcbiAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgIHNvdXJjZUVudGl0eTogJ09yZ2FuaXphdGlvbicsXHJcbiAgICAgICAgdGFyZ2V0RW50aXR5OiAnRmlsbScsXHJcbiAgICAgICAgYWxsb3dlZEVkZ2VzOiBbJ1Nwb25zb3JlZEJ5JywgJ0NyZWF0ZXMnXSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ09yZ2FuaXphdGlvbnMgc3BvbnNvcmluZyBvciBjcmVhdGluZyBmaWxtcyAoc3R1ZGlvcywgZGlzdHJpYnV0b3JzKSdcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVudGl0eVR5cGVzLmluY2x1ZGVzKCdRdW90ZScpICYmIGVudGl0eVR5cGVzLmluY2x1ZGVzKCdQZXJzb24nKSAmJiAhZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ1F1b3RlLT5QZXJzb24nKSkge1xyXG4gICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICBzb3VyY2VFbnRpdHk6ICdRdW90ZScsXHJcbiAgICAgICAgdGFyZ2V0RW50aXR5OiAnUGVyc29uJyxcclxuICAgICAgICBhbGxvd2VkRWRnZXM6IFsnQWJvdXQnLCAnVGFncyddLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUXVvdGVzIGF0dHJpYnV0ZWQgdG8gb3IgYWJvdXQgc3BlY2lmaWMgcGVvcGxlJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZW50aXR5VHlwZXMuaW5jbHVkZXMoJ0V4cHJlc3Npb24nKSAmJiAhZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ0V4cHJlc3Npb24tPkV4cHJlc3Npb24nKSkge1xyXG4gICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICBzb3VyY2VFbnRpdHk6ICdFeHByZXNzaW9uJyxcclxuICAgICAgICB0YXJnZXRFbnRpdHk6ICdFeHByZXNzaW9uJyxcclxuICAgICAgICBhbGxvd2VkRWRnZXM6IFsnSW5mbHVlbmNlZEJ5JywgJ1RhZ3MnXSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ0V4cHJlc3Npb25zIGluZmx1ZW5jZWQgYnkgb3IgcmVsYXRlZCB0byBvdGhlciBleHByZXNzaW9ucydcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVudGl0eVR5cGVzLmluY2x1ZGVzKCdQZXJzb25hbCcpICYmIGVudGl0eVR5cGVzLmluY2x1ZGVzKCdQZXJzb24nKSAmJiAhZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ1BlcnNvbmFsLT5QZXJzb24nKSkge1xyXG4gICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICBzb3VyY2VFbnRpdHk6ICdQZXJzb25hbCcsXHJcbiAgICAgICAgdGFyZ2V0RW50aXR5OiAnUGVyc29uJyxcclxuICAgICAgICBhbGxvd2VkRWRnZXM6IFsnQWJvdXQnLCAnVGFncyddLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUGVyc29uYWwgY29udGVudCBhYm91dCBvciByZWxhdGluZyB0byBzcGVjaWZpYyBwZW9wbGUnXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChlbnRpdHlUeXBlcy5pbmNsdWRlcygnSm91cm5hbCcpICYmIGVudGl0eVR5cGVzLmluY2x1ZGVzKCdQZXJzb24nKSAmJiAhZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ0pvdXJuYWwtPlBlcnNvbicpKSB7XHJcbiAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgIHNvdXJjZUVudGl0eTogJ0pvdXJuYWwnLFxyXG4gICAgICAgIHRhcmdldEVudGl0eTogJ1BlcnNvbicsXHJcbiAgICAgICAgYWxsb3dlZEVkZ2VzOiBbJ0Fib3V0JywgJ1RhZ3MnXSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ0pvdXJuYWwgZW50cmllcyBhYm91dCBvciBtZW50aW9uaW5nIHNwZWNpZmljIHBlb3BsZSdcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVudGl0eVR5cGVzLmluY2x1ZGVzKCdQcm9qZWN0JykgJiYgZW50aXR5VHlwZXMuaW5jbHVkZXMoJ0V2ZW50JykgJiYgIWV4aXN0aW5nTWFwcGluZ3MuaGFzKCdQcm9qZWN0LT5FdmVudCcpKSB7XHJcbiAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgIHNvdXJjZUVudGl0eTogJ1Byb2plY3QnLFxyXG4gICAgICAgIHRhcmdldEVudGl0eTogJ0V2ZW50JyxcclxuICAgICAgICBhbGxvd2VkRWRnZXM6IFsnT3JnYW5pemVkQnknLCAnUGFydE9mU2VyaWVzJ10sXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdQcm9qZWN0cyBvcmdhbml6aW5nIGV2ZW50cyBvciBhcyBwYXJ0IG9mIGV2ZW50IHNlcmllcydcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVudGl0eVR5cGVzLmluY2x1ZGVzKCdUZWNobm9sb2d5JykgJiYgZW50aXR5VHlwZXMuaW5jbHVkZXMoJ011c2ljJykgJiYgIWV4aXN0aW5nTWFwcGluZ3MuaGFzKCdUZWNobm9sb2d5LT5NdXNpYycpKSB7XHJcbiAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgIHNvdXJjZUVudGl0eTogJ1RlY2hub2xvZ3knLFxyXG4gICAgICAgIHRhcmdldEVudGl0eTogJ011c2ljJyxcclxuICAgICAgICBhbGxvd2VkRWRnZXM6IFsnQ3JlYXRlcycsICdVc2VzJ10sXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdUZWNobm9sb2dpZXMgdXNlZCB0byBjcmVhdGUgb3IgZGlzdHJpYnV0ZSBtdXNpYydcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVudGl0eVR5cGVzLmluY2x1ZGVzKCdUZWNobm9sb2d5JykgJiYgZW50aXR5VHlwZXMuaW5jbHVkZXMoJ0ZpbG0nKSAmJiAhZXhpc3RpbmdNYXBwaW5ncy5oYXMoJ1RlY2hub2xvZ3ktPkZpbG0nKSkge1xyXG4gICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICBzb3VyY2VFbnRpdHk6ICdUZWNobm9sb2d5JyxcclxuICAgICAgICB0YXJnZXRFbnRpdHk6ICdGaWxtJyxcclxuICAgICAgICBhbGxvd2VkRWRnZXM6IFsnQ3JlYXRlcycsICdVc2VzJ10sXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdUZWNobm9sb2dpZXMgdXNlZCBpbiBmaWxtIHByb2R1Y3Rpb24gb3IgZGlzdHJpYnV0aW9uJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZW5lcmljIGZhbGxiYWNrIGlmIG5vIG90aGVyIG1hcHBpbmdzIGV4aXN0XHJcbiAgICBpZiAoc3VnZ2VzdGlvbnMubGVuZ3RoID09PSAwICYmICFleGlzdGluZ01hcHBpbmdzLmhhcygnRW50aXR5LT5FbnRpdHknKSkge1xyXG4gICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcclxuICAgICAgICBzb3VyY2VFbnRpdHk6ICdFbnRpdHknLFxyXG4gICAgICAgIHRhcmdldEVudGl0eTogJ0VudGl0eScsXHJcbiAgICAgICAgYWxsb3dlZEVkZ2VzOiBbJ1RhZ3MnXSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ0dlbmVyaWMgdGFnZ2luZyByZWxhdGlvbnNoaXBzIGJldHdlZW4gYW55IGVudGl0aWVzJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc3VnZ2VzdGlvbnM7XHJcbiAgfVxyXG5cclxuICBhc3luYyBkaXNjb3ZlckFsbFNjaGVtYXMoKTogUHJvbWlzZTxUeXBlU2NoZW1hW10+IHtcclxuICAgIGNvbnN0IHR5cGVNYXAgPSBuZXcgTWFwPHN0cmluZywge1xyXG4gICAgICBwcm9wZXJ0aWVzOiBNYXA8c3RyaW5nLCBhbnlbXT4sXHJcbiAgICAgIGZpbGVzOiBzdHJpbmdbXVxyXG4gICAgfT4oKTtcclxuXHJcbiAgICAvLyBHZXQgYWxsIG1hcmtkb3duIGZpbGVzXHJcbiAgICBjb25zdCBmaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZXMpIHtcclxuICAgICAgY29uc3QgbWV0YWRhdGEgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShmaWxlKTtcclxuICAgICAgY29uc3QgZnJvbnRtYXR0ZXIgPSBtZXRhZGF0YT8uZnJvbnRtYXR0ZXI7XHJcblxyXG4gICAgICBpZiAoIWZyb250bWF0dGVyPy50eXBlKSBjb250aW51ZTtcclxuXHJcbiAgICAgIGNvbnN0IHR5cGUgPSBmcm9udG1hdHRlci50eXBlO1xyXG5cclxuICAgICAgaWYgKCF0eXBlTWFwLmhhcyh0eXBlKSkge1xyXG4gICAgICAgIHR5cGVNYXAuc2V0KHR5cGUsIHtcclxuICAgICAgICAgIHByb3BlcnRpZXM6IG5ldyBNYXAoKSxcclxuICAgICAgICAgIGZpbGVzOiBbXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCB0eXBlRGF0YSA9IHR5cGVNYXAuZ2V0KHR5cGUpITtcclxuICAgICAgdHlwZURhdGEuZmlsZXMucHVzaChmaWxlLnBhdGgpO1xyXG5cclxuICAgICAgLy8gQ29sbGVjdCBhbGwgcHJvcGVydGllcyBmb3IgdGhpcyB0eXBlXHJcbiAgICAgIE9iamVjdC5lbnRyaWVzKGZyb250bWF0dGVyKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcclxuICAgICAgICBpZiAoa2V5ID09PSAndHlwZScpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKCF0eXBlRGF0YS5wcm9wZXJ0aWVzLmhhcyhrZXkpKSB7XHJcbiAgICAgICAgICB0eXBlRGF0YS5wcm9wZXJ0aWVzLnNldChrZXksIFtdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdHlwZURhdGEucHJvcGVydGllcy5nZXQoa2V5KSEucHVzaCh2YWx1ZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbnZlcnQgdG8gVHlwZVNjaGVtYSBmb3JtYXRcclxuICAgIHJldHVybiBBcnJheS5mcm9tKHR5cGVNYXAuZW50cmllcygpKS5tYXAoKFt0eXBlTmFtZSwgZGF0YV0pID0+ICh7XHJcbiAgICAgIHR5cGVOYW1lLFxyXG4gICAgICBmaWxlQ291bnQ6IGRhdGEuZmlsZXMubGVuZ3RoLFxyXG4gICAgICBmaWxlczogZGF0YS5maWxlcyxcclxuICAgICAgcHJvcGVydGllczogQXJyYXkuZnJvbShkYXRhLnByb3BlcnRpZXMuZW50cmllcygpKS5tYXAoKFtwcm9wTmFtZSwgdmFsdWVzXSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGFuYWx5c2lzID0gdGhpcy5hbmFseXplUHJvcGVydHkocHJvcE5hbWUsIHZhbHVlcyk7XHJcblxyXG4gICAgICAgIC8vIEFwcGx5IHNhdmVkIHByb3BlcnR5IG1hcHBpbmcgaWYgaXQgZXhpc3RzXHJcbiAgICAgICAgY29uc3QgbWFwcGVkTmFtZSA9IHRoaXMuYXBwbHlQcm9wZXJ0eU1hcHBpbmcodHlwZU5hbWUsIHByb3BOYW1lKTtcclxuICAgICAgICBjb25zdCBoYXNNYXBwaW5nID0gbWFwcGVkTmFtZSAhPT0gcHJvcE5hbWU7XHJcblxyXG4gICAgICAgIC8vIElmIHdlIGhhdmUgYSBzYXZlZCBtYXBwaW5nLCB1cGRhdGUgdGhlIHByb3BlcnR5IG5hbWUgYW5kIGNsZWFyIGlzc3Vlc1xyXG4gICAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IGhhc01hcHBpbmcgPyBtYXBwZWROYW1lIDogcHJvcE5hbWU7XHJcbiAgICAgICAgY29uc3QgZmluYWxOYW1pbmdJc3N1ZXMgPSBoYXNNYXBwaW5nID8gW10gOiBhbmFseXNpcy5uYW1pbmdJc3N1ZXM7XHJcbiAgICAgICAgY29uc3QgZmluYWxDb21wbGlhbmNlU3RhdHVzID0gaGFzTWFwcGluZyA/ICd2YWxpZCcgOiBhbmFseXNpcy5jb21wbGlhbmNlU3RhdHVzO1xyXG5cclxuICAgICAgICAvLyBBcHBseSBzYXZlZCBwcm9wZXJ0eSBzZWxlY3Rpb24gc3RhdGUsIHdpdGggZmFsbGJhY2sgdG8gZGVmYXVsdCBiZWhhdmlvclxyXG4gICAgICAgIGNvbnN0IHNhdmVkU2VsZWN0aW9uID0gdGhpcy5nZXRQcm9wZXJ0eVNlbGVjdGlvbih0eXBlTmFtZSwgcHJvcE5hbWUpO1xyXG4gICAgICAgIGNvbnN0IGRlZmF1bHRFbmFibGVkID0gIWFuYWx5c2lzLmlzUHJvdGVjdGVkOyAvLyBEaXNhYmxlIHByb3RlY3RlZCBhdHRyaWJ1dGVzIGJ5IGRlZmF1bHRcclxuICAgICAgICBjb25zdCBmaW5hbEVuYWJsZWQgPSBzYXZlZFNlbGVjdGlvbiAhPT0gdW5kZWZpbmVkID8gc2F2ZWRTZWxlY3Rpb24gOiBkZWZhdWx0RW5hYmxlZDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIG5hbWU6IGZpbmFsTmFtZSxcclxuICAgICAgICAgIGluZmVycmVkVHlwZTogdGhpcy5pbmZlclR5cGUodmFsdWVzKSxcclxuICAgICAgICAgIGlzT3B0aW9uYWw6IHZhbHVlcy5zb21lKHYgPT4gdiA9PT0gbnVsbCB8fCB2ID09PSB1bmRlZmluZWQpLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuZ2VuZXJhdGVEZXNjcmlwdGlvbihwcm9wTmFtZSwgdHlwZU5hbWUpLFxyXG4gICAgICAgICAgZXhhbXBsZXM6IEFycmF5LmZyb20obmV3IFNldCh2YWx1ZXMpKS5zbGljZSgwLCAzKSxcclxuICAgICAgICAgIGVuYWJsZWQ6IGZpbmFsRW5hYmxlZCxcclxuICAgICAgICAgIC8vIEdyYXBoaXRpIHZhbGlkYXRpb24gZmllbGRzXHJcbiAgICAgICAgICBpc1Byb3RlY3RlZDogYW5hbHlzaXMuaXNQcm90ZWN0ZWQsXHJcbiAgICAgICAgICBuYW1pbmdJc3N1ZXM6IGZpbmFsTmFtaW5nSXNzdWVzLFxyXG4gICAgICAgICAgc3VnZ2VzdGVkTmFtZTogYW5hbHlzaXMuc3VnZ2VzdGVkTmFtZSxcclxuICAgICAgICAgIGNvbXBsaWFuY2VTdGF0dXM6IGZpbmFsQ29tcGxpYW5jZVN0YXR1c1xyXG4gICAgICAgIH07XHJcbiAgICAgIH0pXHJcbiAgICB9KSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGluZmVyVHlwZSh2YWx1ZXM6IGFueVtdKTogUHJvcGVydHlTY2hlbWFbJ2luZmVycmVkVHlwZSddIHtcclxuICAgIGNvbnN0IG5vbk51bGxWYWx1ZXMgPSB2YWx1ZXMuZmlsdGVyKHYgPT4gdiAhPSBudWxsKTtcclxuICAgIGlmIChub25OdWxsVmFsdWVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuICdzdHJpbmcnO1xyXG5cclxuICAgIGNvbnN0IHNhbXBsZSA9IG5vbk51bGxWYWx1ZXNbMF07XHJcblxyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc2FtcGxlKSkgcmV0dXJuICdhcnJheSc7XHJcbiAgICBpZiAodHlwZW9mIHNhbXBsZSA9PT0gJ2Jvb2xlYW4nKSByZXR1cm4gJ2Jvb2xlYW4nO1xyXG4gICAgaWYgKHR5cGVvZiBzYW1wbGUgPT09ICdudW1iZXInKSByZXR1cm4gJ251bWJlcic7XHJcbiAgICBpZiAodGhpcy5pc0RhdGVMaWtlKHNhbXBsZSkpIHJldHVybiAnZGF0ZSc7XHJcbiAgICBpZiAodHlwZW9mIHNhbXBsZSA9PT0gJ29iamVjdCcpIHJldHVybiAnb2JqZWN0JztcclxuXHJcbiAgICByZXR1cm4gJ3N0cmluZyc7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGlzRGF0ZUxpa2UodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xyXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHJldHVybiBmYWxzZTtcclxuICAgIHJldHVybiAvXlxcZHs0fS1cXGR7Mn0tXFxkezJ9Ly50ZXN0KHZhbHVlKSB8fCAhaXNOYU4oRGF0ZS5wYXJzZSh2YWx1ZSkpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZW5lcmF0ZURlc2NyaXB0aW9uKHByb3BOYW1lOiBzdHJpbmcsIHR5cGVOYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgLy8gRW5oYW5jZWQgZGVzY3JpcHRpb24gZ2VuZXJhdGlvbiB3aXRoIHJpY2ggY29udGV4dFxyXG4gICAgY29uc3QgZGVzY3JpcHRpb25zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xyXG4gICAgICAvLyBDb3JlIGlkZW50aXR5IGZpZWxkc1xyXG4gICAgICAnY19uYW1lJzogJ0NvbXBsZXRlIGxlZ2FsIG5hbWUgb3Igb2ZmaWNpYWwgdGl0bGUgYXMgcmVjb2duaXplZCBieSBhdXRob3JpdGllcyBvciBpbiBmb3JtYWwgZG9jdW1lbnRhdGlvbicsXHJcbiAgICAgICdnaXZlbl9uYW1lJzogJ0dpdmVuIG5hbWUgb3IgZmlyc3QgbmFtZSBhcyBjb21tb25seSB1c2VkIGluIGludHJvZHVjdGlvbnMgYW5kIHBlcnNvbmFsIGlkZW50aWZpY2F0aW9uJyxcclxuICAgICAgJ2ZhbWlseV9uYW1lJzogJ0ZhbWlseSBuYW1lLCBzdXJuYW1lLCBvciBsYXN0IG5hbWUgdXNlZCBmb3IgZm9ybWFsIGlkZW50aWZpY2F0aW9uIGFuZCBmYW1pbHkgbGluZWFnZScsXHJcbiAgICAgICdhbGlhc2VzJzogJ0FsdGVybmF0aXZlIG5hbWVzLCBuaWNrbmFtZXMsIHByb2Zlc3Npb25hbCBuYW1lcywgb3IgcHNldWRvbnltcyBieSB3aGljaCB0aGUgZW50aXR5IGlzIGFsc28ga25vd24nLFxyXG5cclxuICAgICAgLy8gV2ViIGFuZCBkaWdpdGFsIGZpZWxkc1xyXG4gICAgICAndXJsJzogJ0NvbXBsZXRlIHdlYiBhZGRyZXNzIG9yIFVSTCB3aGVyZSB0aGUgcmVzb3VyY2UgY2FuIGJlIGFjY2Vzc2VkIG9uIHRoZSBpbnRlcm5ldCcsXHJcbiAgICAgICdzYW1lX2FzJzogJ1VSSXMgb3IgVVJMcyB0aGF0IGlkZW50aWZ5IHRoZSBzYW1lIGVudGl0eSBvbiBvdGhlciBwbGF0Zm9ybXMsIGRhdGFiYXNlcywgb3Iga25vd2xlZGdlIHN5c3RlbXMgZm9yIGVudGl0eSBsaW5raW5nJyxcclxuICAgICAgJ3Blcm1hbGluayc6ICdQZXJtYW5lbnQgbGluayBvciBzdGFibGUgaWRlbnRpZmllciB0aGF0IHJlbWFpbnMgY29uc3RhbnQgb3ZlciB0aW1lJyxcclxuXHJcbiAgICAgIC8vIFRlbXBvcmFsIGZpZWxkc1xyXG4gICAgICAnY3JlYXRlZCc6ICdUaW1lc3RhbXAgd2hlbiB0aGUgbm90ZSBvciBlbnRpdHkgcmVjb3JkIHdhcyBmaXJzdCBjcmVhdGVkIGluIHRoZSBPYnNpZGlhbiB2YXVsdCBmb3IgdHJhY2tpbmcgYW5kIG9yZ2FuaXphdGlvbmFsIHB1cnBvc2VzJyxcclxuICAgICAgJ2NyZWF0ZWRfZGF0ZSc6ICdEYXRlIHdoZW4gdGhlIGNvbnRlbnQgd2FzIG9yaWdpbmFsbHkgY3JlYXRlZCBvciB3aGVuIHRoZSBpZGVhcyB3ZXJlIGZpcnN0IGNhcHR1cmVkIGluIFlZWVktTU0tREQgZm9ybWF0JyxcclxuICAgICAgJ3B1Ymxpc2hlZF9kYXRlJzogJ0RhdGUgd2hlbiB0aGUgY29udGVudCB3YXMgb2ZmaWNpYWxseSBwdWJsaXNoZWQgb3IgbWFkZSBwdWJsaWNseSBhdmFpbGFibGUgaW4gWVlZWS1NTS1ERCBmb3JtYXQnLFxyXG4gICAgICAnYmlydGhfZGF0ZSc6ICdEYXRlIHdoZW4gdGhlIHBlcnNvbiB3YXMgYm9ybiBpbiBZWVlZLU1NLUREIGZvcm1hdCBmb3IgYmlvZ3JhcGhpY2FsIGFuZCBhZ2UgY2FsY3VsYXRpb24gcHVycG9zZXMnLFxyXG4gICAgICAnZm91bmRpbmdfZGF0ZSc6ICdEYXRlIHdoZW4gdGhlIG9yZ2FuaXphdGlvbiB3YXMgb2ZmaWNpYWxseSBlc3RhYmxpc2hlZCwgaW5jb3Jwb3JhdGVkLCBvciBmb3VuZGVkIGluIFlZWVktTU0tREQgZm9ybWF0JyxcclxuXHJcbiAgICAgIC8vIENvbnRlbnQgYW5kIGRlc2NyaXB0aW9uIGZpZWxkc1xyXG4gICAgICAndGl0bGUnOiAnUHJpbWFyeSB0aXRsZSwgaGVhZGxpbmUsIG9yIG5hbWUgdGhhdCBpZGVudGlmaWVzIGFuZCByZXByZXNlbnRzIHRoZSBlbnRpdHknLFxyXG4gICAgICAnZGVzY3JpcHRpb24nOiAnRGV0YWlsZWQgZXhwbGFuYXRpb24gb3Igc3VtbWFyeSB0aGF0IGRlc2NyaWJlcyB0aGUgcHVycG9zZSwgY29udGVudCwgb3IgY2hhcmFjdGVyaXN0aWNzIG9mIHRoZSBlbnRpdHknLFxyXG4gICAgICAnYWJzdHJhY3QnOiAnQnJpZWYgc3VtbWFyeSBvciBvdmVydmlldyB0aGF0IGNhcHR1cmVzIHRoZSBlc3NlbnRpYWwgcG9pbnRzIGFuZCBtYWluIGlkZWFzJyxcclxuICAgICAgJ3N1bW1hcnknOiAnQ29uY2lzZSBvdmVydmlldyB0aGF0IGhpZ2hsaWdodHMgdGhlIGtleSBpbmZvcm1hdGlvbiBhbmQgaW1wb3J0YW50IGRldGFpbHMnLFxyXG5cclxuICAgICAgLy8gQ2xhc3NpZmljYXRpb24gYW5kIGNhdGVnb3JpemF0aW9uXHJcbiAgICAgICd0eXBlJzogJ0VudGl0eSB0eXBlIGNsYXNzaWZpY2F0aW9uIChXZWJQYWdlLCBQZXJzb24sIE9yZ2FuaXphdGlvbiwgUHJvZHVjdCwgVGVjaG5vbG9neSwgUHJvamVjdCwgQXJ0aWNsZSwgRmlsbSwgTXVzaWMsIEJvb2ssIEV2ZW50LCBOb3RlLCBldGMuKScsXHJcbiAgICAgICdjYXRlZ29yeSc6ICdQcmltYXJ5IGNsYXNzaWZpY2F0aW9uIG9yIG1hcmtldCBzZWdtZW50IHRoYXQgZGVzY3JpYmVzIHRoZSBlbnRpdHlcXCdzIHB1cnBvc2UgYW5kIHRhcmdldCBkb21haW4nLFxyXG4gICAgICAndGFncyc6ICdUb3BpYyBrZXl3b3JkcywgY2xhc3NpZmljYXRpb24gbGFiZWxzLCBvciBjYXRlZ29yaWNhbCB0YWdzIHVzZWQgZm9yIG9yZ2FuaXppbmcgYW5kIGZpbHRlcmluZyBjb250ZW50IHdpdGhpbiB0aGUga25vd2xlZGdlIGJhc2UnLFxyXG4gICAgICAnc3RhdHVzJzogJ0N1cnJlbnQgc3RhdGUgb3IgcGhhc2UgaW4gdGhlIGVudGl0eVxcJ3MgbGlmZWN5Y2xlIChhY3RpdmUsIGNvbXBsZXRlZCwgcGxhbm5pbmcsIGV0Yy4pJyxcclxuXHJcbiAgICAgIC8vIFByb2Zlc3Npb25hbCBhbmQgb3JnYW5pemF0aW9uYWxcclxuICAgICAgJ2F1dGhvcic6ICdQZXJzb24gb3Igb3JnYW5pemF0aW9uIHdobyBjcmVhdGVkLCB3cm90ZSwgb3IgaXMgY3JlZGl0ZWQgYXMgdGhlIHByaW1hcnkgY3JlYXRvciBvZiB0aGUgY29udGVudCAoZS5nLiwgXCJKYW5lIFNtaXRoXCIsIFwiTUlUIFJlc2VhcmNoIExhYlwiKScsXHJcbiAgICAgICdqb2JfdGl0bGUnOiAnQ3VycmVudCBwcm9mZXNzaW9uYWwgcm9sZSwgcG9zaXRpb24sIG9yIHRpdGxlIHRoYXQgZGVzY3JpYmVzIHJlc3BvbnNpYmlsaXRpZXMgYW5kIGxldmVsIHdpdGhpbiBhbiBvcmdhbml6YXRpb24gKGUuZy4sIFwiQ0VPXCIsIFwiU2VuaW9yIERldmVsb3BlclwiLCBcIlJlc2VhcmNoIFNjaWVudGlzdFwiKScsXHJcbiAgICAgICd3b3Jrc19mb3InOiAnT3JnYW5pemF0aW9uIHdoZXJlIHBlcnNvbiBpcyBlbXBsb3llZCAoZS5nLiwgXCJBcHBsZSBJbmMuXCIsIFwiR29vZ2xlXCIsIFwiU3RhbmZvcmQgVW5pdmVyc2l0eVwiKScsXHJcbiAgICAgICdvcmdfdHlwZSc6ICdMZWdhbCBvciBMYXdmdWwgc3RydWN0dXJlIGFuZCByZWdpc3RyYXRpb24gdHlwZSBvZiB0aGUgb3JnYW5pemF0aW9uIChlLmcuLCBcIkxMQ1wiLCBcIkluY1wiLCBcIlBhcnRuZXJzaGlwXCIsIFwiNTAxYzNcIiwgXCJHb3Zlcm5tZW50IEFnZW5jeVwiKScsXHJcblxyXG4gICAgICAvLyBDb250YWN0IGFuZCBsb2NhdGlvblxyXG4gICAgICAnZW1haWwnOiAnUHJpbWFyeSBlbWFpbCBhZGRyZXNzIHVzZWQgZm9yIHByb2Zlc3Npb25hbCBvciBwZXJzb25hbCBjb21tdW5pY2F0aW9uIGFuZCBjb250YWN0IHB1cnBvc2VzJyxcclxuICAgICAgJ2FkZHJlc3MnOiAnUGh5c2ljYWwgYWRkcmVzcywgY2l0eSwgc3RhdGUsIG9yIGdlb2dyYXBoaWMgbG9jYXRpb24gd2hlcmUgdGhlIGVudGl0eSBpcyBwcmltYXJpbHkgYmFzZWQgb3IgbG9jYXRlZCcsXHJcblxyXG4gICAgICAvLyBSZWxhdGlvbnNoaXBzIGFuZCBjb25uZWN0aW9uc1xyXG4gICAgICAnbmVlZHMnOiAnU3BlY2lmaWMgcmVzb3VyY2VzLCBza2lsbHMsIGNvbm5lY3Rpb25zLCBvciBzdXBwb3J0IHRoYXQgdGhlIGVudGl0eSByZXF1aXJlcyB0byBhY2hpZXZlIGdvYWxzIG9yIGJlIHN1Y2Nlc3NmdWwnLFxyXG4gICAgICAnb2ZmZXJzJzogJ1NraWxscywgc2VydmljZXMsIGtub3dsZWRnZSwgcmVzb3VyY2VzLCBvciB2YWx1ZSB0aGF0IHRoZSBlbnRpdHkgY2FuIHByb3ZpZGUgdG8gb3RoZXJzIG9yIGNvbnRyaWJ1dGUgdG8gcHJvamVjdHMnLFxyXG5cclxuICAgICAgLy8gVGVjaG5pY2FsIGFuZCBzcGVjaWFsaXplZFxyXG4gICAgICAncHJvamVjdF90eXBlJzogJ0NsYXNzaWZpY2F0aW9uIG9mIHRoZSBwcm9qZWN0XFwncyBwcmltYXJ5IHB1cnBvc2UgYW5kIG1ldGhvZG9sb2d5IChyZXNlYXJjaCwgZGV2ZWxvcG1lbnQsIGluaXRpYXRpdmUsIHN0YXJ0dXAsIGV0Yy4pJyxcclxuICAgICAgJ2FydGljbGVfdHlwZSc6ICdHZW5yZSBvciBmb3JtYXQgY2xhc3NpZmljYXRpb24gb2YgdGhlIHB1Ymxpc2hlZCBjb250ZW50IChlc3NheSwgYmxvZ19wb3N0LCBhbmFseXNpcywgdHV0b3JpYWwsIHdoaXRlcGFwZXIsIGV0Yy4pJyxcclxuICAgICAgJ25vdGVfdHlwZSc6ICdDbGFzc2lmaWNhdGlvbiBvZiB0aGUgbm90ZVxcJ3MgcHVycG9zZSBhbmQgY29udGVudCBzdHJ1Y3R1cmUgKGlkZWEsIGFuYWx5c2lzLCByZWZsZWN0aW9uLCBtZWV0aW5nX25vdGVzLCBldGMuKScsXHJcbiAgICAgICdvZmZlcmluZ190eXBlJzogJ1ByaW1hcnkgYnVzaW5lc3MgbW9kZWwgYW5kIGRlbGl2ZXJ5IG1ldGhvZCBvZiB0aGUgb2ZmZXJpbmcgKHByb2R1Y3QsIHNlcnZpY2UsIHBsYXRmb3JtLCBTYWFTLCBBUEksIGV0Yy4pJyxcclxuICAgICAgJ2lkZW50aXR5X3R5cGUnOiAnQ2xhc3NpZmljYXRpb24gb2YgcGVyc29uXFwncyBsZWdhbCBhbmQgc29jaWFsIGlkZW50aXR5IHN0YXR1cyAobmF0dXJhbF9wZXJzb24sIG5hdGlvbmFsX2lkZW50aXR5LCBwc2V1ZG9ueW0pJyxcclxuXHJcbiAgICAgIC8vIE1lZGlhIGFuZCB2aXN1YWxcclxuICAgICAgJ3RodW1ibmFpbCc6ICdUaHVtYm5haWwgb3IgcHJldmlldyBpbWFnZSBVUkwgdGhhdCBwcm92aWRlcyBhIHZpc3VhbCByZXByZXNlbnRhdGlvbiBvZiB0aGUgY29udGVudCcsXHJcbiAgICAgICdwcmltYXJ5X2ltYWdlJzogJ1ByaW1hcnkgaW1hZ2UgVVJMIHRoYXQgc2VydmVzIGFzIHRoZSBtYWluIHZpc3VhbCBlbGVtZW50IGZvciB0aGUgZW50aXR5J1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBSZXR1cm4gZW5oYW5jZWQgZGVzY3JpcHRpb24gb3IgZ2VuZXJhdGUgY29udGV4dHVhbCBmYWxsYmFja1xyXG4gICAgaWYgKGRlc2NyaXB0aW9uc1twcm9wTmFtZV0pIHtcclxuICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uc1twcm9wTmFtZV07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2VuZXJhdGUgY29udGV4dHVhbCBkZXNjcmlwdGlvbiBiYXNlZCBvbiBwcm9wZXJ0eSBuYW1lIHBhdHRlcm5zXHJcbiAgICBpZiAocHJvcE5hbWUuaW5jbHVkZXMoJ2RhdGUnKSB8fCBwcm9wTmFtZS5pbmNsdWRlcygndGltZScpKSB7XHJcbiAgICAgIHJldHVybiBgRGF0ZSBvciB0aW1lc3RhbXAgZm9yICR7dHlwZU5hbWV9IGVudGl0aWVzIChlLmcuLCBcIjIwMjQtMDEtMTVcIiwgXCIyMDIzLTEyLTMxVDEwOjMwOjAwWlwiKWA7XHJcbiAgICB9XHJcbiAgICBpZiAocHJvcE5hbWUuaW5jbHVkZXMoJ3VybCcpIHx8IHByb3BOYW1lLmluY2x1ZGVzKCdsaW5rJykpIHtcclxuICAgICAgcmV0dXJuIGBXZWIgYWRkcmVzcyBvciBVUkwgYXNzb2NpYXRlZCB3aXRoICR7dHlwZU5hbWV9IGVudGl0aWVzIChlLmcuLCBcImh0dHBzOi8vZXhhbXBsZS5jb21cIiwgXCJodHRwczovL2RvY3MuY29tcGFueS5jb21cIilgO1xyXG4gICAgfVxyXG4gICAgaWYgKHByb3BOYW1lLmluY2x1ZGVzKCduYW1lJykgfHwgcHJvcE5hbWUuaW5jbHVkZXMoJ3RpdGxlJykpIHtcclxuICAgICAgcmV0dXJuIGBOYW1lIG9yIHRpdGxlIHRoYXQgaWRlbnRpZmllcyAke3R5cGVOYW1lfSBlbnRpdGllcyAoZS5nLiwgXCJKb2huIFNtaXRoXCIsIFwiUHJvamVjdCBBbHBoYVwiLCBcIkNvbXBhbnkgSW5jLlwiKWA7XHJcbiAgICB9XHJcbiAgICBpZiAocHJvcE5hbWUuaW5jbHVkZXMoJ3R5cGUnKSB8fCBwcm9wTmFtZS5pbmNsdWRlcygnY2F0ZWdvcnknKSkge1xyXG4gICAgICByZXR1cm4gYENsYXNzaWZpY2F0aW9uIHRoYXQgY2F0ZWdvcml6ZXMgJHt0eXBlTmFtZX0gZW50aXRpZXMgKGUuZy4sIFwic29mdHdhcmVcIiwgXCJoYXJkd2FyZVwiLCBcInNlcnZpY2VcIilgO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdlbmVyYXRlIG1vcmUgc3BlY2lmaWMgZmFsbGJhY2sgYmFzZWQgb24gcHJvcGVydHkgbmFtZSBwYXR0ZXJuc1xyXG4gICAgY29uc3QgY2xlYW5Qcm9wTmFtZSA9IHByb3BOYW1lLnJlcGxhY2UoL18vZywgJyAnKTtcclxuICAgIHJldHVybiBgJHtjbGVhblByb3BOYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgY2xlYW5Qcm9wTmFtZS5zbGljZSgxKX0gYXNzb2NpYXRlZCB3aXRoICR7dHlwZU5hbWV9IGVudGl0aWVzYDtcclxuICB9XHJcblxyXG4gIGFzeW5jIGdlbmVyYXRlUHlkYW50aWNNb2RlbHMoc2NoZW1hczogVHlwZVNjaGVtYVtdKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuXHJcbiAgICAvLyBNb2R1bGUgZG9jdW1lbnRhdGlvblxyXG4gICAgY29uc3QgbW9kdWxlRG9jID0gYFwiXCJcIlxyXG5QeWRhbnRpYyBtb2RlbHMgZm9yIE9ic2lkaWFuLUdyYXBoaXRpIGtub3dsZWRnZSBncmFwaCBlbnRpdGllcy5cclxuXHJcblRoaXMgbW9kdWxlIGNvbnRhaW5zIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIFB5ZGFudGljIG1vZGVscyBiYXNlZCBvbiBzY2hlbWEgZGlzY292ZXJ5XHJcbmZyb20gT2JzaWRpYW4gdmF1bHQgbm90ZXMuIFRoZXNlIG1vZGVscyBhcmUgZGVzaWduZWQgdG8gd29yayB3aXRoIHRoZSBHcmFwaGl0aVxyXG5rbm93bGVkZ2UgZ3JhcGggZnJhbWV3b3JrIGZvciBlbnRpdHkgZXh0cmFjdGlvbiBhbmQgcmVsYXRpb25zaGlwIG1hcHBpbmcuXHJcblxyXG5HZW5lcmF0ZWQgbW9kZWxzIGluaGVyaXQgZnJvbSBCYXNlRW50aXR5IHdoaWNoIHByb3ZpZGVzIGNvcmUgcHJvcGVydGllcyByZXF1aXJlZFxyXG5ieSBHcmFwaGl0aSBmb3Iga25vd2xlZGdlIGdyYXBoIHByb2Nlc3NpbmcgaW5jbHVkaW5nIHR5cGUgY2xhc3NpZmljYXRpb24sIHRhZ3MsXHJcbmFuZCBjcmVhdGlvbiB0aW1lc3RhbXBzLlxyXG5cclxuVXNhZ2U6XHJcbiAgICBmcm9tIGdyYXBoaXRpX21vZGVscyBpbXBvcnQgUGVyc29uLCBPcmdhbml6YXRpb24sIFByb2plY3RcclxuXHJcbiAgICAjIENyZWF0ZSBlbnRpdHkgaW5zdGFuY2VzXHJcbiAgICBwZXJzb24gPSBQZXJzb24oXHJcbiAgICAgICAgY19uYW1lPVwiSm9obiBEb2VcIixcclxuICAgICAgICBqb2JfdGl0bGU9XCJTb2Z0d2FyZSBFbmdpbmVlclwiLFxyXG4gICAgICAgIGVtYWlsPVwiam9obkBleGFtcGxlLmNvbVwiXHJcbiAgICApXHJcblxyXG4gICAgIyBBbGwgZW50aXRpZXMgaGF2ZSBjb3JlIEJhc2VFbnRpdHkgcHJvcGVydGllc1xyXG4gICAgcGVyc29uLnR5cGUgPSBcIlBlcnNvblwiXHJcbiAgICBwZXJzb24udGFncyA9IFtcInByb2Zlc3Npb25hbFwiLCBcImNvbnRhY3RcIl1cclxuICAgIHBlcnNvbi5jcmVhdGVkID0gZGF0ZXRpbWUubm93KClcclxuXHJcbk5vdGU6IFRoaXMgZmlsZSBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZC4gTWFudWFsIGVkaXRzIHdpbGwgYmUgb3ZlcndyaXR0ZW5cclxuZHVyaW5nIHRoZSBuZXh0IHNjaGVtYSBkaXNjb3ZlcnkgcHJvY2Vzcy5cclxuXCJcIlwiYDtcclxuXHJcbiAgICBjb25zdCBpbXBvcnRzID0gW1xyXG4gICAgICAnZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsLCBMaXN0LCBEaWN0LCBBbnknLFxyXG4gICAgICAnZnJvbSBweWRhbnRpYyBpbXBvcnQgQmFzZU1vZGVsLCBGaWVsZCcsXHJcbiAgICAgICdmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZScsXHJcbiAgICAgICcnXHJcbiAgICBdO1xyXG5cclxuICAgIC8vIEJhc2VFbnRpdHkgY2xhc3Mgd2l0aCB1bml2ZXJzYWwgcHJvcGVydGllc1xyXG4gICAgY29uc3QgYmFzZUVudGl0eSA9IGBjbGFzcyBCYXNlRW50aXR5KEJhc2VNb2RlbCk6XHJcbiAgICBcIlwiXCJcclxuICAgIEJhc2UgY2xhc3MgZm9yIGFsbCBHcmFwaGl0aSBrbm93bGVkZ2UgZ3JhcGggZW50aXRpZXMuXHJcblxyXG4gICAgUHJvdmlkZXMgY29yZSBwcm9wZXJ0aWVzIHJlcXVpcmVkIGJ5IEdyYXBoaXRpIGZvciBlbnRpdHkgcHJvY2Vzc2luZyxcclxuICAgIHJlbGF0aW9uc2hpcCBtYXBwaW5nLCBhbmQga25vd2xlZGdlIGdyYXBoIGNvbnN0cnVjdGlvbi5cclxuICAgIFwiXCJcIlxyXG4gICAgdGFnczogT3B0aW9uYWxbTGlzdFtzdHJdXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiVG9waWMga2V5d29yZHMsIGNsYXNzaWZpY2F0aW9uIGxhYmVscywgb3IgY2F0ZWdvcmljYWwgdGFncyB1c2VkIGZvciBvcmdhbml6aW5nIGFuZCBmaWx0ZXJpbmcgY29udGVudCB3aXRoaW4gdGhlIGtub3dsZWRnZSBiYXNlXCIpXHJcbmA7XHJcblxyXG4gICAgLy8gZ2VuZXJhdGUgbW9kZWxzIGluIGNvYXJzZS1ncmFpbmVkIGNodW5rcyBhbmQgeWllbGQgdG8gZXZlbnQgbG9vcCB0byBhdm9pZCBibG9ja2luZyByZW5kZXJlclxyXG4gICAgY29uc3QgbW9kZWxzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgY29uc3QgQ0hVTktfU0laRSA9IDUwO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY2hlbWFzLmxlbmd0aDsgaSArPSBDSFVOS19TSVpFKSB7XHJcbiAgICAgIGNvbnN0IGNodW5rID0gc2NoZW1hcy5zbGljZShpLCBpICsgQ0hVTktfU0laRSk7XHJcbiAgICAgIGNodW5rLmZvckVhY2goc2NoZW1hID0+IG1vZGVscy5wdXNoKHRoaXMuZ2VuZXJhdGVTaW5nbGVNb2RlbChzY2hlbWEpKSk7XHJcblxyXG4gICAgICAvLyB5aWVsZCB0byBldmVudCBsb29wIHRvIGF2b2lkIGJsb2NraW5nIHJlbmRlcmVyXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocikgPT4gc2V0VGltZW91dChyLCAwKSk7XHJcbiAgICAgIH0gY2F0Y2ggKF8pIHtcclxuICAgICAgICAvLyBlbnZpcm9ubWVudCBtYXkgbm90IHN1cHBvcnQgeWllbGRpbmcgLSBpZ25vcmVcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEFkZCBFZGdlIFR5cGVzIChyZWxhdGlvbnNoaXAgbW9kZWxzKVxyXG4gICAgY29uc3QgZWRnZVR5cGVzID0gdGhpcy5nZW5lcmF0ZUVkZ2VUeXBlcygpO1xyXG5cclxuICAgIC8vIEFkZCBFZGdlIFR5cGUgTWFwXHJcbiAgICBjb25zdCBlZGdlVHlwZU1hcCA9IHRoaXMuZ2VuZXJhdGVFZGdlVHlwZU1hcChzY2hlbWFzKTtcclxuXHJcbiAgICByZXR1cm4gW21vZHVsZURvYywgJycsIC4uLmltcG9ydHMsIGJhc2VFbnRpdHksIC4uLm1vZGVscywgZWRnZVR5cGVzLCBlZGdlVHlwZU1hcF0uam9pbignXFxuJyk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdlbmVyYXRlU2luZ2xlTW9kZWwoc2NoZW1hOiBUeXBlU2NoZW1hKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IGNsYXNzTmFtZSA9IHNjaGVtYS50eXBlTmFtZS5yZXBsYWNlKC9cXHMrL2csICcnKS5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZywgJycpO1xyXG5cclxuICAgIC8vIEZpbHRlciBvdXQgcHJvdGVjdGVkIGF0dHJpYnV0ZXMgYW5kIHVzZSBzdWdnZXN0ZWQgbmFtZXNcclxuICAgIGNvbnN0IHZhbGlkUHJvcGVydGllcyA9IHNjaGVtYS5wcm9wZXJ0aWVzXHJcbiAgICAgIC5maWx0ZXIocCA9PiBwLmVuYWJsZWQgIT09IGZhbHNlICYmICFwLmlzUHJvdGVjdGVkKVxyXG4gICAgICAubWFwKHByb3AgPT4ge1xyXG4gICAgICAgIGNvbnN0IHB5dGhvblR5cGUgPSB0aGlzLmdldFB5dGhvblR5cGUocHJvcCk7XHJcbiAgICAgICAgY29uc3QgZmllbGROYW1lID0gcHJvcC5zdWdnZXN0ZWROYW1lIHx8IHByb3AubmFtZTtcclxuXHJcbiAgICAgICAgLy8gVXNlIGVuaGFuY2VkIGRlc2NyaXB0aW9uIGdlbmVyYXRpb25cclxuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IHRoaXMuZ2VuZXJhdGVEZXNjcmlwdGlvbihwcm9wLm5hbWUsIHNjaGVtYS50eXBlTmFtZSk7XHJcblxyXG4gICAgICAgIC8vIEFsbCBmaWVsZHMgYXJlIE9wdGlvbmFsIGJ5IGRlZmF1bHQgKFBoYXNlIDEgcmVxdWlyZW1lbnQpXHJcbiAgICAgICAgcmV0dXJuIGAgICAgJHtmaWVsZE5hbWV9OiBPcHRpb25hbFske3B5dGhvblR5cGV9XSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiJHtkZXNjcmlwdGlvbn1cIilgO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAvLyBBZGQgY29tbWVudHMgZm9yIHByb3RlY3RlZCBhdHRyaWJ1dGVzIHRoYXQgd2VyZSBza2lwcGVkXHJcbiAgICBjb25zdCBwcm90ZWN0ZWRDb21tZW50cyA9IHNjaGVtYS5wcm9wZXJ0aWVzXHJcbiAgICAgIC5maWx0ZXIocCA9PiBwLmlzUHJvdGVjdGVkKVxyXG4gICAgICAubWFwKHByb3AgPT4gYCAgICAjIFNLSVBQRUQ6ICcke3Byb3AubmFtZX0nIC0gcHJvdGVjdGVkIGF0dHJpYnV0ZSAodXNlICcke3Byb3Auc3VnZ2VzdGVkTmFtZX0nIGluc3RlYWQpYCk7XHJcblxyXG4gICAgY29uc3QgYWxsTGluZXMgPSBbLi4udmFsaWRQcm9wZXJ0aWVzLCAuLi5wcm90ZWN0ZWRDb21tZW50c107XHJcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0gYWxsTGluZXMubGVuZ3RoID4gMCA/IGFsbExpbmVzLmpvaW4oJ1xcbicpIDogJyAgICBwYXNzJztcclxuXHJcbiAgICAvLyBVc2UgZGVmYXVsdCBkZXNjcmlwdGlvbiBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSB1c2UgY3VzdG9tIGZhbGxiYWNrXHJcbiAgICBjb25zdCBkZWZhdWx0RGVzY3JpcHRpb24gPSBERUZBVUxUX0VOVElUWV9ERVNDUklQVElPTlNbY2xhc3NOYW1lXTtcclxuICAgIGNvbnN0IGNsYXNzRG9jID0gZGVmYXVsdERlc2NyaXB0aW9uIHx8IGBDdXN0b20gJHtjbGFzc05hbWV9IGVudGl0eS5cXG4gICAgXFxuICAgIFVzZSB0aGlzIGVudGl0eSB0eXBlIGZvciAke2NsYXNzTmFtZX0gY29udGVudCB0aGF0IGRvZXNuJ3QgbWF0Y2hcXG4gICAgdGhlIHN0YW5kYXJkIGVudGl0eSB0eXBlcyBpbiB5b3VyIGtub3dsZWRnZSBkb21haW4uYDtcclxuXHJcbiAgICByZXR1cm4gYGNsYXNzICR7Y2xhc3NOYW1lfShCYXNlRW50aXR5KTpcclxuICAgIFwiXCJcIlxyXG4gICAgJHtjbGFzc0RvY31cclxuICAgIFwiXCJcIlxyXG4ke3Byb3BlcnRpZXN9XHJcblxyXG5gO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZW5lcmF0ZUVkZ2VUeXBlcygpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGBcclxuIyBFZGdlIFR5cGVzIC0gUmVsYXRpb25zaGlwIE1vZGVsc1xyXG5jbGFzcyBXb3Jrc0ZvcihCYXNlTW9kZWwpOlxyXG4gICAgXCJcIlwiUGVyc29uIGVtcGxveWVkIGJ5IE9yZ2FuaXphdGlvblwiXCJcIlxyXG4gICAgam9iX3RpdGxlOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJDdXJyZW50IHByb2Zlc3Npb25hbCByb2xlLCBwb3NpdGlvbiwgb3IgdGl0bGUgdGhhdCBkZXNjcmliZXMgcmVzcG9uc2liaWxpdGllcyBhbmQgbGV2ZWwgd2l0aGluIGFuIG9yZ2FuaXphdGlvblwiKVxyXG4gICAgZW1wbG95bWVudF90eXBlOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJFbXBsb3ltZW50IGNsYXNzaWZpY2F0aW9uIHN1Y2ggYXMgZnVsbC10aW1lLCBwYXJ0LXRpbWUsIGNvbnRyYWN0b3IsIGNvbnN1bHRhbnQsIGFkdmlzb3IsIG9yIGludGVyblwiKVxyXG4gICAgc3RhcnRfZGF0ZTogT3B0aW9uYWxbZGF0ZXRpbWVdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJEYXRlIHdoZW4gdGhlIGVtcGxveW1lbnQgcmVsYXRpb25zaGlwIGJlZ2FuIGluIFlZWVktTU0tREQgZm9ybWF0XCIpXHJcblxyXG5jbGFzcyBVc2VzKEJhc2VNb2RlbCk6XHJcbiAgICBcIlwiXCJQZXJzb24vT3JnYW5pemF0aW9uIHVzZXMgVGVjaG5vbG9neS9Qcm9kdWN0XCJcIlwiXHJcbiAgICBzZW50aW1lbnQ6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIlVzZXIncyBhdHRpdHVkZSBvciBmZWVsaW5nIHRvd2FyZCB0aGUgdGVjaG5vbG9neSAocG9zaXRpdmUsIG5lZ2F0aXZlLCBuZXV0cmFsLCBsb3ZlLCBoYXRlKVwiKVxyXG4gICAgcHJvZmljaWVuY3k6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIlVzZXIncyBza2lsbCBsZXZlbCBvciBleHBlcnRpc2Ugd2l0aCB0aGUgdGVjaG5vbG9neSAoYmVnaW5uZXIsIGludGVybWVkaWF0ZSwgYWR2YW5jZWQsIGV4cGVydClcIilcclxuICAgIHVzYWdlX2NvbnRleHQ6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIkNvbnRleHQgb3IgZW52aXJvbm1lbnQgd2hlcmUgdGhlIHRlY2hub2xvZ3kgaXMgdXNlZCAoZGV2ZWxvcG1lbnQsIHByb2R1Y3Rpb24sIHBlcnNvbmFsLCB0ZXN0aW5nKVwiKVxyXG4gICAgc3RhdHVzOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJDdXJyZW50IHVzYWdlIHN0YXR1cyAoYWN0aXZlLCBpbmFjdGl2ZSwgdHJpYWwsIHBhaWRfYWNjb3VudCwgZXZhbHVhdGluZylcIilcclxuICAgIHN0YXJ0X2RhdGU6IE9wdGlvbmFsW2RhdGV0aW1lXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiRGF0ZSB3aGVuIHVzYWdlIGJlZ2FuIGluIFlZWVktTU0tREQgZm9ybWF0XCIpXHJcblxyXG5jbGFzcyBDcmVhdGVzKEJhc2VNb2RlbCk6XHJcbiAgICBcIlwiXCJQZXJzb24vT3JnYW5pemF0aW9uIGNyZWF0ZXMgVGVjaG5vbG9neS9Qcm9kdWN0L1Byb2plY3RcIlwiXCJcclxuICAgIHJvbGU6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIkNyZWF0b3IncyByb2xlIGluIHRoZSBjcmVhdGlvbiBwcm9jZXNzIChmb3VuZGVyLCBsZWFkX2RldmVsb3BlciwgY29udHJpYnV0b3IsIGRlc2lnbmVyLCBhcmNoaXRlY3QpXCIpXHJcbiAgICBjb250cmlidXRpb25fdHlwZTogT3B0aW9uYWxbc3RyXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiVHlwZSBvZiBjb250cmlidXRpb24gbWFkZSAoY29kZSwgZGVzaWduLCBzdHJhdGVneSwgZnVuZGluZywgZG9jdW1lbnRhdGlvbiwgdGVzdGluZylcIilcclxuXHJcbmNsYXNzIEtub3dzKEJhc2VNb2RlbCk6XHJcbiAgICBcIlwiXCJQZXJzb24ga25vd3MgUGVyc29uIChwZXJzb25hbCBvciBwcm9mZXNzaW9uYWwgcmVsYXRpb25zaGlwKVwiXCJcIlxyXG4gICAgcmVsYXRpb25zaGlwX3R5cGU6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIk5hdHVyZSBvZiB0aGUgcmVsYXRpb25zaGlwIChjb2xsZWFndWUsIG1lbnRvciwgZnJpZW5kLCBjb2xsYWJvcmF0b3IsIGFjcXVhaW50YW5jZSlcIilcclxuICAgIGNvbnRleHQ6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIkNvbnRleHQgb3Igc2V0dGluZyB3aGVyZSB0aGV5IGtub3cgZWFjaCBvdGhlciAod29yaywgc2Nob29sLCBpbmR1c3RyeSwgcGVyc29uYWwpXCIpXHJcblxyXG5jbGFzcyBNZW1iZXJPZihCYXNlTW9kZWwpOlxyXG4gICAgXCJcIlwiUGVyc29uL09yZ2FuaXphdGlvbiBpcyBtZW1iZXIgb2YgT3JnYW5pemF0aW9uXCJcIlwiXHJcbiAgICByb2xlOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJNZW1iZXIncyByb2xlIG9yIHBvc2l0aW9uIHdpdGhpbiB0aGUgb3JnYW5pemF0aW9uIChlbXBsb3llZSwgdm9sdW50ZWVyLCBib2FyZF9tZW1iZXIsIGN1c3RvbWVyLCBwYXJ0bmVyKVwiKVxyXG4gICAgc3RhcnRfZGF0ZTogT3B0aW9uYWxbZGF0ZXRpbWVdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJEYXRlIHdoZW4gbWVtYmVyc2hpcCBiZWdhbiBpbiBZWVlZLU1NLUREIGZvcm1hdFwiKVxyXG4gICAgc3RhdHVzOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJDdXJyZW50IG1lbWJlcnNoaXAgc3RhdHVzIChhY3RpdmUsIGluYWN0aXZlLCBzdXNwZW5kZWQsIHRyaWFsLCBwYWlkKVwiKVxyXG5cclxuY2xhc3MgUGFydG5lcnNXaXRoKEJhc2VNb2RlbCk6XHJcbiAgICBcIlwiXCJQZXJzb24vT3JnYW5pemF0aW9uIHBhcnRuZXJzIHdpdGggUGVyc29uL09yZ2FuaXphdGlvblwiXCJcIlxyXG4gICAgcGFydG5lcnNoaXBfdHlwZTogT3B0aW9uYWxbc3RyXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiVHlwZSBvZiBwYXJ0bmVyc2hpcCAoc3RyYXRlZ2ljLCBzdXBwbGllciwgaW52ZXN0bWVudCwgY29uc3VsdGluZywgYWR2aXNvcnksIGpvaW50X3ZlbnR1cmUpXCIpXHJcbiAgICBzdGFydF9kYXRlOiBPcHRpb25hbFtkYXRldGltZV0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIkRhdGUgd2hlbiBwYXJ0bmVyc2hpcCBiZWdhbiBpbiBZWVlZLU1NLUREIGZvcm1hdFwiKVxyXG4gICAgc3RhdHVzOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJDdXJyZW50IHBhcnRuZXJzaGlwIHN0YXR1cyAoYWN0aXZlLCBpbmFjdGl2ZSwgY29tcGxldGVkLCBuZWdvdGlhdGluZylcIilcclxuXHJcbmNsYXNzIERlcGVuZHNPbihCYXNlTW9kZWwpOlxyXG4gICAgXCJcIlwiVGVjaG5vbG9neS9Qcm9kdWN0IGRlcGVuZHMgb24gVGVjaG5vbG9neVwiXCJcIlxyXG4gICAgZGVwZW5kZW5jeV90eXBlOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJUeXBlIG9mIGRlcGVuZGVuY3kgKHJ1bnRpbWUsIGJ1aWxkX3RpbWUsIGRldmVsb3BtZW50LCBpbmZyYXN0cnVjdHVyZSwgb3B0aW9uYWwpXCIpXHJcbiAgICB2ZXJzaW9uOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJSZXF1aXJlZCB2ZXJzaW9uIG9yIHZlcnNpb24gcmFuZ2UgZm9yIHRoZSBkZXBlbmRlbmN5XCIpXHJcblxyXG5jbGFzcyBJbnRlZ3JhdGVkV2l0aChCYXNlTW9kZWwpOlxyXG4gICAgXCJcIlwiUHJvZHVjdC9UZWNobm9sb2d5IGhhcyBidWlsdC1pbiBpbnRlZ3JhdGlvbiB3aXRoIFByb2R1Y3QvVGVjaG5vbG9neVwiXCJcIlxyXG4gICAgaW50ZWdyYXRpb25fdHlwZTogT3B0aW9uYWxbc3RyXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiVHlwZSBvZiBpbnRlZ3JhdGlvbiAobmF0aXZlLCBwbHVnaW4sIEFQSSwgd2ViaG9vaywgU0RLLCBlbWJlZGRlZClcIilcclxuICAgIGJpZGlyZWN0aW9uYWw6IE9wdGlvbmFsW2Jvb2xdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJXaGV0aGVyIHRoZSBpbnRlZ3JhdGlvbiB3b3JrcyBpbiBib3RoIGRpcmVjdGlvbnMgYmV0d2VlbiB0aGUgdGVjaG5vbG9naWVzXCIpXHJcblxyXG5jbGFzcyBBYm91dChCYXNlTW9kZWwpOlxyXG4gICAgXCJcIlwiV2ViUGFnZS9Ob3RlL0FydGljbGUgYWJvdXQgRW50aXR5XCJcIlwiXHJcbiAgICBjb3ZlcmFnZV90eXBlOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJEZXB0aCBvZiBjb3ZlcmFnZSAoY29tcHJlaGVuc2l2ZSwgbWVudGlvbiwgYW5hbHlzaXMsIHR1dG9yaWFsLCByZXZpZXcpXCIpXHJcbiAgICBhdXRob3JpdHk6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIlNvdXJjZSBhdXRob3JpdHkgbGV2ZWwgKG9mZmljaWFsLCBjb21tdW5pdHksIGV4cGVydF9hbmFseXNpcywgdXNlcl9nZW5lcmF0ZWQpXCIpXHJcblxyXG5jbGFzcyBJc1BhcnRPZihCYXNlTW9kZWwpOlxyXG4gICAgXCJcIlwiV2ViUGFnZSBwYXJ0IG9mIFdlYnNpdGUvRG9tYWluXCJcIlwiXHJcbiAgICByZWxhdGlvbnNoaXBfdHlwZTogT3B0aW9uYWxbc3RyXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiVHlwZSBvZiByZWxhdGlvbnNoaXAgKHBhZ2UsIGFydGljbGUsIGRvY3VtZW50YXRpb24sIHNlY3Rpb24sIHN1YmRvbWFpbilcIilcclxuXHJcbmNsYXNzIFRhZ3MoQmFzZU1vZGVsKTpcclxuICAgIFwiXCJcIkVudGl0eSBpcyB0YWdnZWQgd2l0aCBhbm90aGVyIEVudGl0eVwiXCJcIlxyXG4gICAgcGFzc1xyXG5cclxuIyBOZXcgZWRnZSB0eXBlc1xyXG5jbGFzcyBQZXJmb3JtZWRCeShCYXNlTW9kZWwpOlxyXG4gICAgXCJcIlwiTXVzaWNhbCB3b3JrIHBlcmZvcm1lZCBieSBBcnRpc3QvUGVyc29uXCJcIlwiXHJcbiAgICBwZXJmb3JtYW5jZV90eXBlOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJUeXBlIG9mIHBlcmZvcm1hbmNlIHJlbGF0aW9uc2hpcCAob3JpZ2luYWxfYXJ0aXN0LCBjb3Zlcl92ZXJzaW9uLCBsaXZlX3BlcmZvcm1hbmNlLCBjb2xsYWJvcmF0aW9uLCBmZWF0dXJlZF9hcnRpc3QpXCIpXHJcbiAgICByb2xlOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJTcGVjaWZpYyByb2xlIGluIHRoZSBwZXJmb3JtYW5jZSAobGVhZF92b2NhbHMsIGluc3RydW1lbnRhbGlzdCwgcHJvZHVjZXIsIGZlYXR1cmVkLCBiYWNraW5nX3ZvY2FscylcIilcclxuICAgIHBlcmZvcm1hbmNlX2RhdGU6IE9wdGlvbmFsW2RhdGV0aW1lXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiRGF0ZSB3aGVuIHRoaXMgcGVyZm9ybWFuY2Ugb3IgcmVjb3JkaW5nIHRvb2sgcGxhY2UgaW4gWVlZWS1NTS1ERCBmb3JtYXRcIilcclxuXHJcbmNsYXNzIEluZmx1ZW5jZWRCeShCYXNlTW9kZWwpOlxyXG4gICAgXCJcIlwiRW50aXR5IGluZmx1ZW5jZWQgb3IgaW5zcGlyZWQgYnkgYW5vdGhlciBFbnRpdHlcIlwiXCJcclxuICAgIGluZmx1ZW5jZV90eXBlOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJOYXR1cmUgb2YgdGhlIGluZmx1ZW5jZSByZWxhdGlvbnNoaXAgKGFydGlzdGljLCBpbnRlbGxlY3R1YWwsIG1ldGhvZG9sb2dpY2FsLCBwaGlsb3NvcGhpY2FsLCB0ZWNobmljYWwpXCIpXHJcbiAgICBkZXNjcmlwdGlvbjogT3B0aW9uYWxbc3RyXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiU3BlY2lmaWMgd2F5cyB0aGlzIGVudGl0eSB3YXMgaW5mbHVlbmNlZCwgaW5jbHVkaW5nIGNvbmNlcHRzLCB0ZWNobmlxdWVzLCBvciBhcHByb2FjaGVzIGFkb3B0ZWRcIilcclxuICAgIHN0cmVuZ3RoOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJEZWdyZWUgb2YgaW5mbHVlbmNlIGltcGFjdCAobWlub3IsIG1vZGVyYXRlLCBtYWpvciwgZm91bmRhdGlvbmFsLCB0cmFuc2Zvcm1hdGl2ZSlcIilcclxuXHJcbmNsYXNzIENvbGxhYm9yYXRlc1dpdGgoQmFzZU1vZGVsKTpcclxuICAgIFwiXCJcIlBlcnNvbi9Pcmdhbml6YXRpb24gYWN0aXZlbHkgY29sbGFib3JhdGVzIHdpdGggUGVyc29uL09yZ2FuaXphdGlvblwiXCJcIlxyXG4gICAgY29sbGFib3JhdGlvbl90eXBlOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJOYXR1cmUgb2YgdGhlIGNvbGxhYm9yYXRpdmUgcmVsYXRpb25zaGlwIChwcm9qZWN0X3BhcnRuZXIsIGNvX2F1dGhvciwgam9pbnRfdmVudHVyZSwgcmVzZWFyY2hfcGFydG5lciwgY3JlYXRpdmVfcGFydG5lcilcIilcclxuICAgIGNvbGxhYm9yYXRpb25fc3RhdHVzOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJDdXJyZW50IHN0YXRlIG9mIHRoZSBjb2xsYWJvcmF0aW9uIChhY3RpdmUsIGNvbXBsZXRlZCwgcGxhbm5lZCwgb25faG9sZCwgcmVjdXJyaW5nKVwiKVxyXG4gICAgc3RhcnRfZGF0ZTogT3B0aW9uYWxbZGF0ZXRpbWVdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJEYXRlIHdoZW4gdGhlIGNvbGxhYm9yYXRpb24gYmVnYW4gaW4gWVlZWS1NTS1ERCBmb3JtYXRcIilcclxuXHJcbmNsYXNzIE9yZ2FuaXplZEJ5KEJhc2VNb2RlbCk6XHJcbiAgICBcIlwiXCJFdmVudCBvcmdhbml6ZWQgYW5kIG1hbmFnZWQgYnkgUGVyc29uL09yZ2FuaXphdGlvblwiXCJcIlxyXG4gICAgb3JnYW5pemF0aW9uYWxfcm9sZTogT3B0aW9uYWxbc3RyXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiU3BlY2lmaWMgcm9sZSBpbiBvcmdhbml6aW5nIHRoZSBldmVudCAobGVhZF9vcmdhbml6ZXIsIGNvX29yZ2FuaXplciwgZXZlbnRfbWFuYWdlciwgbG9naXN0aWNzX2Nvb3JkaW5hdG9yLCBwcm9ncmFtX2RpcmVjdG9yKVwiKVxyXG4gICAgcmVzcG9uc2liaWxpdGllczogT3B0aW9uYWxbc3RyXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiU3BlY2lmaWMgZHV0aWVzIGFuZCBhcmVhcyBvZiByZXNwb25zaWJpbGl0eSBpbiBldmVudCBvcmdhbml6YXRpb24gKGxvZ2lzdGljcywgcHJvZ3JhbW1pbmcsIG1hcmtldGluZywgc3BvbnNvcnNoaXBzKVwiKVxyXG5cclxuY2xhc3MgQXR0ZW5kZWRCeShCYXNlTW9kZWwpOlxyXG4gICAgXCJcIlwiRXZlbnQgYXR0ZW5kZWQgb3IgcGFydGljaXBhdGVkIGluIGJ5IFBlcnNvblwiXCJcIlxyXG4gICAgYXR0ZW5kYW5jZV90eXBlOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJOYXR1cmUgb2YgYXR0ZW5kYW5jZSBvciBwYXJ0aWNpcGF0aW9uIChwcmVzZW50ZXIsIGF0dGVuZGVlLCBrZXlub3RlX3NwZWFrZXIsIHBhbmVsaXN0LCBzcG9uc29yLCB2b2x1bnRlZXIpXCIpXHJcbiAgICBwYXJ0aWNpcGF0aW9uX2xldmVsOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJEZWdyZWUgb2YgaW52b2x2ZW1lbnQgaW4gdGhlIGV2ZW50IChhY3RpdmVfcGFydGljaXBhbnQsIHBhc3NpdmVfYXR0ZW5kZWUsIGZlYXR1cmVkX3NwZWFrZXIsIG9yZ2FuaXplcilcIilcclxuXHJcbmNsYXNzIFBhcnRPZlNlcmllcyhCYXNlTW9kZWwpOlxyXG4gICAgXCJcIlwiRW50aXR5IHRoYXQgYmVsb25ncyB0byBvciBjb250aW51ZXMgYSBzZXJpZXMvc2VxdWVuY2VcIlwiXCJcclxuICAgIHNlcXVlbmNlX3Bvc2l0aW9uOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJQb3NpdGlvbiBvciBvcmRlciB3aXRoaW4gdGhlIHNlcmllcyAoZXBpc29kZV8xLCBwYXJ0XzIsIHZvbHVtZV8zLCBzZWFzb25fMV9lcGlzb2RlXzUpXCIpXHJcbiAgICBzZXJpZXNfcmVsYXRpb25zaGlwOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJUeXBlIG9mIHJlbGF0aW9uc2hpcCB0byB0aGUgc2VyaWVzIChzZXF1ZWwsIHByZXF1ZWwsIHNwaW5fb2ZmLCBjb250aW51YXRpb24sIHBhcnRfb2ZfY29sbGVjdGlvbilcIilcclxuXHJcbmNsYXNzIExlYWRCeShCYXNlTW9kZWwpOlxyXG4gICAgXCJcIlwiUHJvamVjdC9Pcmdhbml6YXRpb24vSW5pdGlhdGl2ZSBsZWQgb3IgZGlyZWN0ZWQgYnkgUGVyc29uXCJcIlwiXHJcbiAgICBsZWFkZXJzaGlwX3JvbGU6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIlNwZWNpZmljIGxlYWRlcnNoaXAgcG9zaXRpb24gYW5kIGF1dGhvcml0eSAoY2VvLCBwcm9qZWN0X21hbmFnZXIsIHRlYW1fbGVhZCwgY3JlYXRpdmVfZGlyZWN0b3IsIHByaW5jaXBhbF9pbnZlc3RpZ2F0b3IpXCIpXHJcbiAgICBsZWFkZXJzaGlwX3N0YXJ0X2RhdGU6IE9wdGlvbmFsW2RhdGV0aW1lXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiRGF0ZSB3aGVuIGxlYWRlcnNoaXAgcm9sZSBiZWdhbiBpbiBZWVlZLU1NLUREIGZvcm1hdFwiKVxyXG4gICAgbGVhZGVyc2hpcF9zY29wZTogT3B0aW9uYWxbc3RyXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiQXJlYXMgb2YgcmVzcG9uc2liaWxpdHkgYW5kIGRlY2lzaW9uLW1ha2luZyBhdXRob3JpdHkgKHN0cmF0ZWdpYywgb3BlcmF0aW9uYWwsIGNyZWF0aXZlLCB0ZWNobmljYWwsIGFkbWluaXN0cmF0aXZlKVwiKVxyXG5cclxuY2xhc3MgU3BvbnNvcmVkQnkoQmFzZU1vZGVsKTpcclxuICAgIFwiXCJcIkVudGl0eSBzcG9uc29yZWQsIGZ1bmRlZCwgb3Igc3VwcG9ydGVkIGJ5IE9yZ2FuaXphdGlvblwiXCJcIlxyXG4gICAgc3BvbnNvcnNoaXBfdHlwZTogT3B0aW9uYWxbc3RyXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiTmF0dXJlIG9mIHNwb25zb3JzaGlwIHJlbGF0aW9uc2hpcCAoZmluYW5jaWFsLCBpbl9raW5kLCBwcm9tb3Rpb25hbCwgc3RyYXRlZ2ljLCB0aXRsZV9zcG9uc29yLCBwcmVzZW50aW5nX3Nwb25zb3IpXCIpXHJcbiAgICBzcG9uc29yc2hpcF9sZXZlbDogT3B0aW9uYWxbc3RyXSA9IEZpZWxkKE5vbmUsIGRlc2NyaXB0aW9uPVwiRGVncmVlIG9yIHRpZXIgb2Ygc3BvbnNvcnNoaXAgc3VwcG9ydCAocGxhdGludW0sIGdvbGQsIHNpbHZlciwgYnJvbnplLCBtYWpvciwgbWlub3IpXCIpXHJcbiAgICBzdXBwb3J0X2RldGFpbHM6IE9wdGlvbmFsW3N0cl0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIlNwZWNpZmljIHdheXMgc3BvbnNvciBwcm92aWRlcyBzdXBwb3J0IChmdW5kaW5nLCByZXNvdXJjZXMsIGV4cGVydGlzZSwgbWFya2V0aW5nLCB2ZW51ZSlcIilcclxuXHJcbmNsYXNzIENvbXBldGVzV2l0aChCYXNlTW9kZWwpOlxyXG4gICAgXCJcIlwiT3JnYW5pemF0aW9uL1Byb2R1Y3QgaW4gY29tcGV0aXRpb24gb3Igcml2YWxyeSB3aXRoIE9yZ2FuaXphdGlvbi9Qcm9kdWN0XCJcIlwiXHJcbiAgICBjb21wZXRpdGlvbl90eXBlOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJOYXR1cmUgb2YgY29tcGV0aXRpdmUgcmVsYXRpb25zaGlwIChkaXJlY3RfY29tcGV0aXRvciwgbWFya2V0X3JpdmFsLCBhbHRlcm5hdGl2ZV9zb2x1dGlvbiwgaW5kdXN0cnlfcGVlcilcIilcclxuICAgIG1hcmtldF9jb250ZXh0OiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJNYXJrZXQgb3IgZG9tYWluIHdoZXJlIGNvbXBldGl0aW9uIG9jY3VycyAoc2FtZV9tYXJrZXQsIGFkamFjZW50X21hcmtldCwgc3Vic3RpdHV0ZV9wcm9kdWN0LCBmZWF0dXJlX2NvbXBldGl0aW9uKVwiKVxyXG4gICAgY29tcGV0aXRpdmVfYWR2YW50YWdlOiBPcHRpb25hbFtzdHJdID0gRmllbGQoTm9uZSwgZGVzY3JpcHRpb249XCJLZXkgZGlmZmVyZW50aWF0aW5nIGZhY3RvcnMgaW4gdGhlIGNvbXBldGl0aXZlIHJlbGF0aW9uc2hpcCAocHJpY2UsIGZlYXR1cmVzLCBtYXJrZXRfc2hhcmUsIGJyYW5kX3JlY29nbml0aW9uKVwiKVxyXG5cclxuYDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2VuZXJhdGVFZGdlVHlwZU1hcChzY2hlbWFzOiBUeXBlU2NoZW1hW10pOiBzdHJpbmcge1xyXG4gICAgLy8gR2V0IGRpc2NvdmVyZWQgZW50aXR5IHR5cGVzXHJcbiAgICBjb25zdCBlbnRpdHlUeXBlcyA9IHNjaGVtYXMubWFwKHMgPT4gcy50eXBlTmFtZS5yZXBsYWNlKC9cXHMrL2csICcnKS5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZywgJycpKTtcclxuXHJcbiAgICAvLyBHZW5lcmF0ZSBlZGdlIHR5cGUgbWFwIGJhc2VkIG9uIGRpc2NvdmVyZWQgZW50aXRpZXMgYW5kIGNvbW1vbiBwYXR0ZXJuc1xyXG4gICAgY29uc3QgZWRnZU1hcEVudHJpZXM6IHN0cmluZ1tdID0gW107XHJcblxyXG4gICAgLy8gQWRkIHJlbGF0aW9uc2hpcHMgZm9yIGVhY2ggZGlzY292ZXJlZCBlbnRpdHkgdHlwZVxyXG4gICAgZW50aXR5VHlwZXMuZm9yRWFjaChlbnRpdHlUeXBlID0+IHtcclxuICAgICAgLy8gUGVyc29uIHJlbGF0aW9uc2hpcHNcclxuICAgICAgaWYgKGVudGl0eVR5cGUgPT09ICdQZXJzb24nKSB7XHJcbiAgICAgICAgZWRnZU1hcEVudHJpZXMucHVzaCgnICAgIChcIlBlcnNvblwiLCBcIk9yZ2FuaXphdGlvblwiKTogW1wiV29ya3NGb3JcIiwgXCJNZW1iZXJPZlwiLCBcIlBhcnRuZXJzV2l0aFwiXSwnKTtcclxuICAgICAgICBlZGdlTWFwRW50cmllcy5wdXNoKCcgICAgKFwiUGVyc29uXCIsIFwiVGVjaG5vbG9neVwiKTogW1wiQ3JlYXRlc1wiLCBcIlVzZXNcIl0sJyk7XHJcbiAgICAgICAgZWRnZU1hcEVudHJpZXMucHVzaCgnICAgIChcIlBlcnNvblwiLCBcIlByb2R1Y3RcIik6IFtcIkNyZWF0ZXNcIiwgXCJVc2VzXCJdLCcpO1xyXG4gICAgICAgIGVkZ2VNYXBFbnRyaWVzLnB1c2goJyAgICAoXCJQZXJzb25cIiwgXCJQcm9qZWN0XCIpOiBbXCJDcmVhdGVzXCIsIFwiTWVtYmVyT2ZcIl0sJyk7XHJcbiAgICAgICAgZWRnZU1hcEVudHJpZXMucHVzaCgnICAgIChcIlBlcnNvblwiLCBcIlBlcnNvblwiKTogW1wiS25vd3NcIiwgXCJDb2xsYWJvcmF0ZXNXaXRoXCJdLCcpO1xyXG4gICAgICAgIGVkZ2VNYXBFbnRyaWVzLnB1c2goJyAgICAoXCJQZXJzb25cIiwgXCJNdXNpY1wiKTogW1wiUGVyZm9ybWVkQnlcIl0sJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIE11c2ljIHJlbGF0aW9uc2hpcHNcclxuICAgICAgaWYgKGVudGl0eVR5cGUgPT09ICdNdXNpYycpIHtcclxuICAgICAgICBlZGdlTWFwRW50cmllcy5wdXNoKCcgICAgKFwiTXVzaWNcIiwgXCJQZXJzb25cIik6IFtcIlBlcmZvcm1lZEJ5XCIsIFwiQ3JlYXRlZEJ5XCIsIFwiSW5mbHVlbmNlZEJ5XCJdLCcpO1xyXG4gICAgICAgIGVkZ2VNYXBFbnRyaWVzLnB1c2goJyAgICAoXCJNdXNpY1wiLCBcIk11c2ljXCIpOiBbXCJJbmZsdWVuY2VkQnlcIiwgXCJQYXJ0T2ZTZXJpZXNcIl0sJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEZpbG0gcmVsYXRpb25zaGlwc1xyXG4gICAgICBpZiAoZW50aXR5VHlwZSA9PT0gJ0ZpbG0nKSB7XHJcbiAgICAgICAgZWRnZU1hcEVudHJpZXMucHVzaCgnICAgIChcIkZpbG1cIiwgXCJQZXJzb25cIik6IFtcIkNyZWF0ZWRCeVwiLCBcIlBlcmZvcm1lZEJ5XCIsIFwiSW5mbHVlbmNlZEJ5XCJdLCcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBPcmdhbml6YXRpb24gcmVsYXRpb25zaGlwc1xyXG4gICAgICBpZiAoZW50aXR5VHlwZSA9PT0gJ09yZ2FuaXphdGlvbicpIHtcclxuICAgICAgICBlZGdlTWFwRW50cmllcy5wdXNoKCcgICAgKFwiT3JnYW5pemF0aW9uXCIsIFwiT3JnYW5pemF0aW9uXCIpOiBbXCJQYXJ0bmVyc1dpdGhcIiwgXCJNZW1iZXJPZlwiXSwnKTtcclxuICAgICAgICBlZGdlTWFwRW50cmllcy5wdXNoKCcgICAgKFwiT3JnYW5pemF0aW9uXCIsIFwiVGVjaG5vbG9neVwiKTogW1wiQ3JlYXRlc1wiLCBcIlVzZXNcIiwgXCJEZXBlbmRzT25cIl0sJyk7XHJcbiAgICAgICAgZWRnZU1hcEVudHJpZXMucHVzaCgnICAgIChcIk9yZ2FuaXphdGlvblwiLCBcIlByb2R1Y3RcIik6IFtcIkNyZWF0ZXNcIiwgXCJVc2VzXCIsIFwiRGVwZW5kc09uXCJdLCcpO1xyXG4gICAgICAgIGVkZ2VNYXBFbnRyaWVzLnB1c2goJyAgICAoXCJPcmdhbml6YXRpb25cIiwgXCJQcm9qZWN0XCIpOiBbXCJDcmVhdGVzXCIsIFwiUGFydG5lcnNXaXRoXCJdLCcpO1xyXG4gICAgICAgIGVkZ2VNYXBFbnRyaWVzLnB1c2goJyAgICAoXCJPcmdhbml6YXRpb25cIiwgXCJQZXJzb25cIik6IFtcIlBhcnRuZXJzV2l0aFwiXSwnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gVGVjaG5vbG9neSByZWxhdGlvbnNoaXBzXHJcbiAgICAgIGlmIChlbnRpdHlUeXBlID09PSAnVGVjaG5vbG9neScpIHtcclxuICAgICAgICBlZGdlTWFwRW50cmllcy5wdXNoKCcgICAgKFwiVGVjaG5vbG9neVwiLCBcIlRlY2hub2xvZ3lcIik6IFtcIkRlcGVuZHNPblwiLCBcIkludGVncmF0ZWRXaXRoXCJdLCcpO1xyXG4gICAgICAgIGVkZ2VNYXBFbnRyaWVzLnB1c2goJyAgICAoXCJUZWNobm9sb2d5XCIsIFwiUHJvZHVjdFwiKTogW1wiSW50ZWdyYXRlZFdpdGhcIl0sJyk7XHJcbiAgICAgICAgZWRnZU1hcEVudHJpZXMucHVzaCgnICAgIChcIlRlY2hub2xvZ3lcIiwgXCJQcm9qZWN0XCIpOiBbXCJJbnRlZ3JhdGVkV2l0aFwiXSwnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUHJvZHVjdCByZWxhdGlvbnNoaXBzXHJcbiAgICAgIGlmIChlbnRpdHlUeXBlID09PSAnUHJvZHVjdCcpIHtcclxuICAgICAgICBlZGdlTWFwRW50cmllcy5wdXNoKCcgICAgKFwiUHJvZHVjdFwiLCBcIlRlY2hub2xvZ3lcIik6IFtcIkludGVncmF0ZWRXaXRoXCIsIFwiVXNlc1wiLCBcIkRlcGVuZHNPblwiXSwnKTtcclxuICAgICAgICBlZGdlTWFwRW50cmllcy5wdXNoKCcgICAgKFwiUHJvZHVjdFwiLCBcIlByb2R1Y3RcIik6IFtcIkludGVncmF0ZWRXaXRoXCJdLCcpO1xyXG4gICAgICAgIGVkZ2VNYXBFbnRyaWVzLnB1c2goJyAgICAoXCJQcm9kdWN0XCIsIFwiT3JnYW5pemF0aW9uXCIpOiBbXCJNZW1iZXJPZlwiXSwnKTtcclxuICAgICAgICBlZGdlTWFwRW50cmllcy5wdXNoKCcgICAgKFwiUHJvZHVjdFwiLCBcIlByb2plY3RcIik6IFtcIkludGVncmF0ZWRXaXRoXCJdLCcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBQcm9qZWN0IHJlbGF0aW9uc2hpcHNcclxuICAgICAgaWYgKGVudGl0eVR5cGUgPT09ICdQcm9qZWN0Jykge1xyXG4gICAgICAgIGVkZ2VNYXBFbnRyaWVzLnB1c2goJyAgICAoXCJQcm9qZWN0XCIsIFwiVGVjaG5vbG9neVwiKTogW1wiVXNlc1wiLCBcIkNyZWF0ZXNcIiwgXCJEZXBlbmRzT25cIl0sJyk7XHJcbiAgICAgICAgZWRnZU1hcEVudHJpZXMucHVzaCgnICAgIChcIlByb2plY3RcIiwgXCJQcm9kdWN0XCIpOiBbXCJDcmVhdGVzXCIsIFwiVXNlc1wiXSwnKTtcclxuICAgICAgICBlZGdlTWFwRW50cmllcy5wdXNoKCcgICAgKFwiUHJvamVjdFwiLCBcIk9yZ2FuaXphdGlvblwiKTogW1wiUGFydG5lcnNXaXRoXCJdLCcpO1xyXG4gICAgICAgIGVkZ2VNYXBFbnRyaWVzLnB1c2goJyAgICAoXCJQcm9qZWN0XCIsIFwiUHJvamVjdFwiKTogW1wiUGFydG5lcnNXaXRoXCIsIFwiRGVwZW5kc09uXCJdLCcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDb250ZW50IHJlbGF0aW9uc2hpcHMgZm9yIGFueSBlbnRpdHlcclxuICAgICAgaWYgKFsnV2ViUGFnZScsICdOb3RlJywgJ0FydGljbGUnXS5pbmNsdWRlcyhlbnRpdHlUeXBlKSkge1xyXG4gICAgICAgIGVkZ2VNYXBFbnRyaWVzLnB1c2goYCAgICAoXCIke2VudGl0eVR5cGV9XCIsIFwiRW50aXR5XCIpOiBbXCJBYm91dFwiXSxgKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQWRkIHVuaXZlcnNhbCByZWxhdGlvbnNoaXBzXHJcbiAgICBlZGdlTWFwRW50cmllcy5wdXNoKCcgICAgKFwiRW50aXR5XCIsIFwiRW50aXR5XCIpOiBbXCJUYWdzXCIsIFwiS25vd3NcIl0sJyk7XHJcblxyXG4gICAgLy8gUmVtb3ZlIGR1cGxpY2F0ZXNcclxuICAgIGNvbnN0IHVuaXF1ZUVudHJpZXMgPSBBcnJheS5mcm9tKG5ldyBTZXQoZWRnZU1hcEVudHJpZXMpKTtcclxuXHJcbiAgICByZXR1cm4gYFxyXG4jIEVkZ2UgVHlwZSBNYXAgLSBEZWZpbmVzIGFsbG93ZWQgcmVsYXRpb25zaGlwcyBiZXR3ZWVuIGVudGl0eSB0eXBlc1xyXG5lZGdlX3R5cGVfbWFwID0ge1xyXG4ke3VuaXF1ZUVudHJpZXMuam9pbignXFxuJyl9XHJcbn1gO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRQeXRob25UeXBlKHByb3A6IFByb3BlcnR5U2NoZW1hKTogc3RyaW5nIHtcclxuICAgIHN3aXRjaCAocHJvcC5pbmZlcnJlZFR5cGUpIHtcclxuICAgICAgY2FzZSAnc3RyaW5nJzogcmV0dXJuICdzdHInO1xyXG4gICAgICBjYXNlICdudW1iZXInOiByZXR1cm4gJ2Zsb2F0JztcclxuICAgICAgY2FzZSAnYm9vbGVhbic6IHJldHVybiAnYm9vbCc7XHJcbiAgICAgIGNhc2UgJ2RhdGUnOiByZXR1cm4gJ2RhdGV0aW1lJztcclxuICAgICAgY2FzZSAnYXJyYXknOiByZXR1cm4gJ0xpc3Rbc3RyXSc7XHJcbiAgICAgIGNhc2UgJ29iamVjdCc6IHJldHVybiAnRGljdFtzdHIsIEFueV0nO1xyXG4gICAgICBkZWZhdWx0OiByZXR1cm4gJ3N0cic7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmF0ZSBhbmQgc2F2ZSBQeWRhbnRpYyBtb2RlbHMgdG8gdGhlIFB5dGhvbiBicmlkZ2UgZGlyZWN0b3J5XHJcbiAgICovXHJcbiAgYXN5bmMgZ2VuZXJhdGVBbmRTYXZlTW9kZWxzKHBsdWdpbkRpcjogc3RyaW5nKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1vZGVsUGF0aDogc3RyaW5nOyBtZXNzYWdlOiBzdHJpbmcgfT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gRGlzY292ZXIgc2NoZW1hcyBmcm9tIHZhdWx0XHJcbiAgICAgIGNvbnN0IHNjaGVtYXMgPSBhd2FpdCB0aGlzLmRpc2NvdmVyQWxsU2NoZW1hcygpO1xyXG5cclxuICAgICAgaWYgKHNjaGVtYXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgbW9kZWxQYXRoOiAnJyxcclxuICAgICAgICAgIG1lc3NhZ2U6ICdObyBzY2hlbWFzIGZvdW5kIGluIHZhdWx0LiBBZGQgZnJvbnRtYXR0ZXIgd2l0aCBcInR5cGVcIiBmaWVsZCB0byB5b3VyIG5vdGVzLidcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBHZW5lcmF0ZSBQeWRhbnRpYyBtb2RlbHNcclxuICAgICAgY29uc3QgcHlkYW50aWNDb2RlID0gYXdhaXQgdGhpcy5nZW5lcmF0ZVB5ZGFudGljTW9kZWxzKHNjaGVtYXMpO1xyXG5cclxuICAgICAgLy8gQ3JlYXRlIG1vZGVscyBkaXJlY3RvcnkgcGF0aFxyXG4gICAgICBjb25zdCBtb2RlbHNEaXIgPSBqb2luKHBsdWdpbkRpciwgJ2dyYXBoaXRpX2JyaWRnZScsICdtb2RlbHMnKTtcclxuICAgICAgY29uc3QgbW9kZWxQYXRoID0gam9pbihtb2RlbHNEaXIsICdncmFwaGl0aV9tb2RlbHMucHknKTtcclxuXHJcbiAgICAgIC8vIEVuc3VyZSBtb2RlbHMgZGlyZWN0b3J5IGV4aXN0c1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIubWtkaXIobW9kZWxzRGlyKTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAvLyBEaXJlY3RvcnkgbWlnaHQgYWxyZWFkeSBleGlzdCwgdGhhdCdzIG9rYXlcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gV3JpdGUgdGhlIG1vZGVscyBmaWxlXHJcbiAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGUobW9kZWxQYXRoLCBweWRhbnRpY0NvZGUpO1xyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIG1vZGVsUGF0aCxcclxuICAgICAgICBtZXNzYWdlOiBgR2VuZXJhdGVkICR7c2NoZW1hcy5sZW5ndGh9IGVudGl0eSBtb2RlbHMgYW5kIHNhdmVkIHRvICR7bW9kZWxQYXRofWBcclxuICAgICAgfTtcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIG1vZGVsUGF0aDogJycsXHJcbiAgICAgICAgbWVzc2FnZTogYEZhaWxlZCB0byBnZW5lcmF0ZSBtb2RlbHM6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWBcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUgcGF0aCB3aGVyZSBtb2RlbHMgYXJlIHNhdmVkIGZvciB0aGUgUHl0aG9uIGJyaWRnZVxyXG4gICAqL1xyXG4gIGdldE1vZGVsc1BhdGgocGx1Z2luRGlyOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGpvaW4ocGx1Z2luRGlyLCAnZ3JhcGhpdGlfYnJpZGdlJywgJ21vZGVscycsICdncmFwaGl0aV9tb2RlbHMucHknKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIG1vZGVscyBmaWxlIGV4aXN0cyBhbmQgaXMgdXAgdG8gZGF0ZVxyXG4gICAqL1xyXG4gIGFzeW5jIGNoZWNrTW9kZWxzU3RhdHVzKHBsdWdpbkRpcjogc3RyaW5nKTogUHJvbWlzZTx7IGV4aXN0czogYm9vbGVhbjsgbW9kZWxzQ291bnQ6IG51bWJlcjsgbGFzdE1vZGlmaWVkPzogbnVtYmVyIH0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IG1vZGVsUGF0aCA9IHRoaXMuZ2V0TW9kZWxzUGF0aChwbHVnaW5EaXIpO1xyXG4gICAgICBjb25zdCBzdGF0ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5zdGF0KG1vZGVsUGF0aCk7XHJcblxyXG4gICAgICBpZiAoc3RhdCkge1xyXG4gICAgICAgIC8vIFRyeSB0byBjb3VudCBlbnRpdHkgbW9kZWxzIGluIHRoZSBmaWxlXHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIucmVhZChtb2RlbFBhdGgpO1xyXG4gICAgICAgIGNvbnN0IG1vZGVsTWF0Y2hlcyA9IGNvbnRlbnQubWF0Y2goL2NsYXNzXFxzK1xcdytcXChCYXNlRW50aXR5XFwpOi9nKTtcclxuICAgICAgICBjb25zdCBtb2RlbHNDb3VudCA9IG1vZGVsTWF0Y2hlcyA/IG1vZGVsTWF0Y2hlcy5sZW5ndGggOiAwO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgZXhpc3RzOiB0cnVlLFxyXG4gICAgICAgICAgbW9kZWxzQ291bnQsXHJcbiAgICAgICAgICBsYXN0TW9kaWZpZWQ6IHN0YXQubXRpbWVcclxuICAgICAgICB9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB7IGV4aXN0czogZmFsc2UsIG1vZGVsc0NvdW50OiAwIH07XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGV4aXN0czogZmFsc2UsIG1vZGVsc0NvdW50OiAwIH07XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyA9PT0gVkVTU0VMIENMT1NFID09PSIsIi8vID09PSBWRVNTRUwgT1BFTiA9PT1cclxuLy8gUHVycG9zZTogTm90ZSBzZWxlY3Rpb24gYW5kIGZpbHRlcmluZyBzZXJ2aWNlIGZvciBHcmFwaGl0aSBzeW5jXHJcbi8vIEludGVncmF0aW9uOiBQcm92aWRlcyBub3RlIGZpbHRlcmluZyBjYXBhYmlsaXRpZXMgZm9yIHNlbGVjdGl2ZSBzeW5jIG9wZXJhdGlvbnNcclxuLy8gTW9kZTogQ29kZSAtIFNlcnZpY2UgZm9yIG1hbmFnaW5nIG5vdGUgc2VsZWN0aW9uIGNyaXRlcmlhIGFuZCBmaWx0ZXJzXHJcblxyXG5pbXBvcnQgeyBBcHAsIFRGaWxlLCBQbHVnaW4gfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB0eXBlIHsgQ2FjaGVkTWV0YWRhdGEgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB0eXBlIHsgR3JhcGhpdGlQbHVnaW5TZXR0aW5ncyB9IGZyb20gJy4uL3R5cGVzL1NldHRpbmdzJztcclxuaW1wb3J0IHR5cGUgeyBHcmFwaGl0aUxvZ2dlciB9IGZyb20gJy4uL3V0aWxzL0xvZ2dlcic7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE5vdGVGaWx0ZXJDcml0ZXJpYSB7XHJcbiAgICAvLyBUeXBlLWJhc2VkIGZpbHRlcmluZ1xyXG4gICAgaW5jbHVkZVR5cGVzPzogc3RyaW5nW107XHJcbiAgICBleGNsdWRlVHlwZXM/OiBzdHJpbmdbXTtcclxuXHJcbiAgICAvLyBUYWctYmFzZWQgZmlsdGVyaW5nXHJcbiAgICBpbmNsdWRlVGFncz86IHN0cmluZ1tdO1xyXG4gICAgZXhjbHVkZVRhZ3M/OiBzdHJpbmdbXTtcclxuXHJcbiAgICAvLyBEYXRlLWJhc2VkIGZpbHRlcmluZ1xyXG4gICAgY3JlYXRlZEFmdGVyPzogRGF0ZTtcclxuICAgIGNyZWF0ZWRCZWZvcmU/OiBEYXRlO1xyXG4gICAgbW9kaWZpZWRBZnRlcj86IERhdGU7XHJcbiAgICBtb2RpZmllZEJlZm9yZT86IERhdGU7XHJcblxyXG4gICAgLy8gUGF0aC1iYXNlZCBmaWx0ZXJpbmdcclxuICAgIGluY2x1ZGVQYXRocz86IHN0cmluZ1tdO1xyXG4gICAgZXhjbHVkZVBhdGhzPzogc3RyaW5nW107XHJcblxyXG4gICAgLy8gQ29udGVudC1iYXNlZCBmaWx0ZXJpbmdcclxuICAgIGhhc1R5cGU/OiBib29sZWFuOyAvLyBPbmx5IG5vdGVzIHdpdGggdHlwZSBmcm9udG1hdHRlclxyXG4gICAgaGFzRnJvbnRtYXR0ZXI/OiBib29sZWFuOyAvLyBPbmx5IG5vdGVzIHdpdGggYW55IGZyb250bWF0dGVyXHJcblxyXG4gICAgLy8gU2l6ZS1iYXNlZCBmaWx0ZXJpbmdcclxuICAgIG1pbkNvbnRlbnRMZW5ndGg/OiBudW1iZXI7XHJcbiAgICBtYXhDb250ZW50TGVuZ3RoPzogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE5vdGVTZWxlY3Rpb25SZXN1bHQge1xyXG4gICAgZmlsZTogVEZpbGU7XHJcbiAgICBwYXRoOiBzdHJpbmc7XHJcbiAgICB0eXBlPzogc3RyaW5nO1xyXG4gICAgdGFnczogc3RyaW5nW107XHJcbiAgICBmcm9udG1hdHRlcjogUmVjb3JkPHN0cmluZywgYW55PjtcclxuICAgIGNvbnRlbnRMZW5ndGg6IG51bWJlcjtcclxuICAgIGNyZWF0ZWQ6IERhdGU7XHJcbiAgICBtb2RpZmllZDogRGF0ZTtcclxuICAgIHNlbGVjdGVkOiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE5vdGVTZWxlY3Rpb25TdW1tYXJ5IHtcclxuICAgIHRvdGFsTm90ZXM6IG51bWJlcjtcclxuICAgIHNlbGVjdGVkTm90ZXM6IG51bWJlcjtcclxuICAgIG5vdGVzQnlUeXBlOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+O1xyXG4gICAgc2VsZWN0ZWRCeVR5cGU6IFJlY29yZDxzdHJpbmcsIG51bWJlcj47XHJcbiAgICBlc3RpbWF0ZWRTeW5jVGltZTogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTm90ZVNlbGVjdGlvblNlcnZpY2Uge1xyXG4gICAgcHJpdmF0ZSBhcHA6IEFwcDtcclxuICAgIHByaXZhdGUgcGx1Z2luPzogUGx1Z2luO1xyXG4gICAgcHJpdmF0ZSBsb2dnZXI/OiBHcmFwaGl0aUxvZ2dlcjtcclxuICAgIHByaXZhdGUgc2VsZWN0ZWROb3RlczogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbj86IFBsdWdpbiwgbG9nZ2VyPzogR3JhcGhpdGlMb2dnZXIpIHtcclxuICAgICAgICB0aGlzLmFwcCA9IGFwcDtcclxuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuICAgICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBjdXJyZW50IHBsdWdpbiBzZXR0aW5nc1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFNldHRpbmdzKCk6IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3MgfCBudWxsIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMucGx1Z2luIGFzIGFueSk/LnNldHRpbmdzIHx8IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBhIGZpbGUgcGF0aCBzaG91bGQgYmUgaW5jbHVkZWQgYmFzZWQgb24gcGx1Z2luIHNldHRpbmdzXHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIGEgZmlsZSBwYXRoIHNob3VsZCBiZSBpbmNsdWRlZCBiYXNlZCBvbiBwbHVnaW4gc2V0dGluZ3NcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNob3VsZEluY2x1ZGVGaWxlKGZpbGVQYXRoOiBzdHJpbmcsIGluY2x1ZGVkRm9sZGVyczogc3RyaW5nW10sIGV4Y2x1ZGVkRm9sZGVyczogc3RyaW5nW10pOiBib29sZWFuIHtcclxuICAgICAgICAvLyBDaGVjayBleGNsdWRlZCBmb2xkZXJzIGZpcnN0IC0gdGhlc2UgdGFrZSBwcmlvcml0eVxyXG4gICAgICAgIGlmIChleGNsdWRlZEZvbGRlcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGV4Y2x1ZGVkRm9sZGVyIG9mIGV4Y2x1ZGVkRm9sZGVycykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpbGVQYXRoLnN0YXJ0c1dpdGgoZXhjbHVkZWRGb2xkZXIgKyAnLycpIHx8IGZpbGVQYXRoID09PSBleGNsdWRlZEZvbGRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgaW5jbHVkZWQgZm9sZGVycyAtIGlmIHNwZWNpZmllZCwgb25seSBpbmNsdWRlIGZpbGVzIGluIHRoZXNlIGZvbGRlcnNcclxuICAgICAgICBpZiAoaW5jbHVkZWRGb2xkZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbGV0IGlzSW5jbHVkZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBpbmNsdWRlZEZvbGRlciBvZiBpbmNsdWRlZEZvbGRlcnMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChmaWxlUGF0aC5zdGFydHNXaXRoKGluY2x1ZGVkRm9sZGVyICsgJy8nKSB8fCBmaWxlUGF0aCA9PT0gaW5jbHVkZWRGb2xkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpc0luY2x1ZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gaXNJbmNsdWRlZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIG5vIGluY2x1ZGVkIGZvbGRlcnMgc3BlY2lmaWVkLCBpbmNsdWRlIGJ5IGRlZmF1bHQgKHVubGVzcyBleGNsdWRlZCBhYm92ZSlcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBhbGwgbm90ZXMgdGhhdCBjYW4gcG90ZW50aWFsbHkgYmUgc3luY2VkICh3aXRoIHR5cGUgZnJvbnRtYXR0ZXIpXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGdldEFsbFN5bmNhYmxlTm90ZXMoKTogUHJvbWlzZTxOb3RlU2VsZWN0aW9uUmVzdWx0W10+IHtcclxuICAgICAgICBjb25zdCBmaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcclxuICAgICAgICBjb25zdCByZXN1bHRzOiBOb3RlU2VsZWN0aW9uUmVzdWx0W10gPSBbXTtcclxuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IHRoaXMuZ2V0U2V0dGluZ3MoKTtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XHJcbiAgICAgICAgICAgIC8vIE9ubHkgaW5jbHVkZSBub3RlcyB3aXRoIHR5cGUgZnJvbnRtYXR0ZXIgZm9yIEdyYXBoaXRpIHN5bmNcclxuICAgICAgICAgICAgY29uc3QgbWV0YWRhdGEgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShmaWxlKTtcclxuICAgICAgICAgICAgY29uc3QgZnJvbnRtYXR0ZXIgPSBtZXRhZGF0YT8uZnJvbnRtYXR0ZXIgfHwge307XHJcbiAgICAgICAgICAgIGlmICghZnJvbnRtYXR0ZXIudHlwZSkgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICAvLyBBcHBseSBmb2xkZXIgZmlsdGVyaW5nIGJhc2VkIG9uIHBsdWdpbiBzZXR0aW5ncy4gVGhpcyBtZXRob2QgaXMgcHVibGljXHJcbiAgICAgICAgICAgIC8vIG5vdyBzbyBpdCBjYW4gYmUgY2FsbGVkIGZyb20gU3luY01vZGFsLnN2ZWx0ZSBwcm9wZXJseS5cclxuICAgICAgICAgICAgaWYgKCF0aGlzLnNob3VsZEluY2x1ZGVGaWxlKGZpbGUucGF0aCwgc2V0dGluZ3M/LmluY2x1ZGVkRm9sZGVycyB8fCBbXSwgc2V0dGluZ3M/LmV4Y2x1ZGVkRm9sZGVycyB8fCBbXSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCB0YWdzID0gdGhpcy5leHRyYWN0VGFncyhtZXRhZGF0YSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xyXG5cclxuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGZpbGUsXHJcbiAgICAgICAgICAgICAgICBwYXRoOiBmaWxlLnBhdGgsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBmcm9udG1hdHRlci50eXBlLFxyXG4gICAgICAgICAgICAgICAgdGFncyxcclxuICAgICAgICAgICAgICAgIGZyb250bWF0dGVyLFxyXG4gICAgICAgICAgICAgICAgY29udGVudExlbmd0aDogY29udGVudC5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBjcmVhdGVkOiBuZXcgRGF0ZShmaWxlLnN0YXQuY3RpbWUpLFxyXG4gICAgICAgICAgICAgICAgbW9kaWZpZWQ6IG5ldyBEYXRlKGZpbGUuc3RhdC5tdGltZSksXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZDogdGhpcy5zZWxlY3RlZE5vdGVzLmhhcyhmaWxlLnBhdGgpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdHMuc29ydCgoYSwgYikgPT4gYS5tb2RpZmllZC5nZXRUaW1lKCkgLSBiLm1vZGlmaWVkLmdldFRpbWUoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYWxsIHN5bmNhYmxlIG5vdGVzIHJlc3BlY3Rpbmcgc2V0dGluZ3MgZmlsdGVycyAoY29udmVuaWVuY2UgbWV0aG9kKVxyXG4gICAgICovXHJcbiAgICBhc3luYyBnZXRGaWx0ZXJlZFN5bmNhYmxlTm90ZXMoKTogUHJvbWlzZTxOb3RlU2VsZWN0aW9uUmVzdWx0W10+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRBbGxTeW5jYWJsZU5vdGVzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQHZlc3NlbC1wcm90b2NvbDpIZWltZGFsbCBnb3Zlcm5zOltzeW5jLWVuaGFuY2VtZW50fGZpeF0gY29udGV4dDpGaXhlZCBhdXRvLXN5bmMgZmlsdGVyaW5nIHRvIHByb3Blcmx5IGRpc3Rpbmd1aXNoIGJldHdlZW4gbmV3IGFuZCB1cGRhdGVkIG5vdGVzXHJcbiAgICAvLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbU2V0dGluZ3MudHMsIFN5bmNSZWdpc3RyeVNlcnZpY2UsIG1haW4udHNdXHJcbiAgICAvLyBAcHVycG9zZTogRmlsdGVyIG5vdGVzIGJhc2VkIG9uIHN5bmNPcHRpb25zIHNldHRpbmcgdG8gY29udHJvbCB3aGljaCBub3RlcyBhcmUgaW5jbHVkZWQgaW4gYXV0by1zeW5jXHJcbiAgICAvLyBAcmVzdWx0OiBVc2VycyBjYW4gbm93IHByb3Blcmx5IGNob29zZSBiZXR3ZWVuIHN5bmNpbmcgb25seSBuZXcgbm90ZXMgb3IgYm90aCBuZXcgYW5kIHVwZGF0ZWQgbm90ZXNcclxuICAgIC8vIEBzaWduZWQ6IEMuQmrDuHJuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBub3RlcyBmaWx0ZXJlZCBieSBzeW5jIG9wdGlvbnMgc2V0dGluZyB3aXRoIGVuaGFuY2VkIG5ldyB2cyB1cGRhdGVkIGxvZ2ljXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGdldE5vdGVzRm9yQXV0b1N5bmMoc3luY09wdGlvbnM/OiAnbmV3X29ubHknIHwgJ25ld19hbmRfdXBkYXRlZCcpOiBQcm9taXNlPE5vdGVTZWxlY3Rpb25SZXN1bHRbXT4ge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gdGhpcy5nZXRTZXR0aW5ncygpO1xyXG4gICAgICAgIGlmICghc2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QWxsU3luY2FibGVOb3RlcygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgYWxsTm90ZXMgPSBhd2FpdCB0aGlzLmdldEFsbFN5bmNhYmxlTm90ZXMoKTtcclxuICAgICAgICBjb25zdCBmaW5hbFN5bmNPcHRpb25zID0gc3luY09wdGlvbnMgfHwgc2V0dGluZ3Muc3luY09wdGlvbnMgfHwgJ25ld19hbmRfdXBkYXRlZCc7XHJcblxyXG4gICAgICAgIC8vIERlYnVnIGxvZ2dpbmcgZm9yIHN5bmMgZmlsdGVyaW5nXHJcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05vdGVTZWxlY3Rpb25dIEF1dG8tc3luYyBmaWx0ZXJpbmc6ICR7ZmluYWxTeW5jT3B0aW9uc30sIHRvdGFsIG5vdGVzOiAke2FsbE5vdGVzLmxlbmd0aH1gKTtcclxuXHJcbiAgICAgICAgLy8gSWYgc2V0IHRvIHN5bmMgbmV3IG9ubHksIGZpbHRlciBvdXQgbm90ZXMgdGhhdCBoYXZlIGJlZW4gc3luY2VkIGJlZm9yZVxyXG4gICAgICAgIGlmIChmaW5hbFN5bmNPcHRpb25zID09PSAnbmV3X29ubHknKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld05vdGVzID0gdGhpcy5maWx0ZXJOZXdOb3Rlc09ubHkoYWxsTm90ZXMpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTm90ZVNlbGVjdGlvbl0gTmV3LW9ubHkgZmlsdGVyaW5nOiAke25ld05vdGVzLmxlbmd0aH0gbmV3IG5vdGVzIGZvdW5kYCk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXdOb3RlcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIHNldCB0byBzeW5jIG5ldyBhbmQgdXBkYXRlZCwgY29tYmluZSBuZXcgbm90ZXMgYW5kIHVwZGF0ZWQgbm90ZXNcclxuICAgICAgICBpZiAoZmluYWxTeW5jT3B0aW9ucyA9PT0gJ25ld19hbmRfdXBkYXRlZCcpIHtcclxuICAgICAgICAgICAgY29uc3QgbmV3Tm90ZXMgPSB0aGlzLmZpbHRlck5ld05vdGVzT25seShhbGxOb3Rlcyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWROb3RlcyA9IGF3YWl0IHRoaXMuZ2V0VXBkYXRlZE5vdGVzKGFsbE5vdGVzKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENvbWJpbmUgYW5kIGRlZHVwbGljYXRlIG5vdGVzIHVzaW5nIFNldCBvbiBmaWxlIHBhdGhzXHJcbiAgICAgICAgICAgIGNvbnN0IGNvbWJpbmVkUGF0aHMgPSBuZXcgU2V0PHN0cmluZz4oKTtcclxuICAgICAgICAgICAgY29uc3QgY29tYmluZWROb3RlczogTm90ZVNlbGVjdGlvblJlc3VsdFtdID0gW107XHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgbmV3IG5vdGVzIGZpcnN0XHJcbiAgICAgICAgICAgIG5ld05vdGVzLmZvckVhY2gobm90ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb21iaW5lZFBhdGhzLmFkZChub3RlLnBhdGgpO1xyXG4gICAgICAgICAgICAgICAgY29tYmluZWROb3Rlcy5wdXNoKG5vdGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCB1cGRhdGVkIG5vdGVzLCBhdm9pZGluZyBkdXBsaWNhdGVzXHJcbiAgICAgICAgICAgIHVwZGF0ZWROb3Rlcy5mb3JFYWNoKG5vdGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFjb21iaW5lZFBhdGhzLmhhcyhub3RlLnBhdGgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tYmluZWRQYXRocy5hZGQobm90ZS5wYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb21iaW5lZE5vdGVzLnB1c2gobm90ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05vdGVTZWxlY3Rpb25dIE5ldytVcGRhdGVkIGZpbHRlcmluZzogJHtuZXdOb3Rlcy5sZW5ndGh9IG5ldywgJHt1cGRhdGVkTm90ZXMubGVuZ3RofSB1cGRhdGVkLCAke2NvbWJpbmVkTm90ZXMubGVuZ3RofSB0b3RhbCBhZnRlciBkZWR1cGApO1xyXG4gICAgICAgICAgICByZXR1cm4gY29tYmluZWROb3Rlcy5zb3J0KChhLCBiKSA9PiBhLm1vZGlmaWVkLmdldFRpbWUoKSAtIGIubW9kaWZpZWQuZ2V0VGltZSgpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBhbGxOb3RlcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEZpbHRlciBub3RlcyB0byBvbmx5IGluY2x1ZGUgdGhvc2UgdGhhdCBoYXZlbid0IGJlZW4gc3luY2VkIGJlZm9yZSBvciBoYXZlIGJlZW4gdXBkYXRlZCBzaW5jZSBsYXN0IHN5bmNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBmaWx0ZXJOZXdOb3Rlc09ubHkobm90ZXM6IE5vdGVTZWxlY3Rpb25SZXN1bHRbXSk6IE5vdGVTZWxlY3Rpb25SZXN1bHRbXSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSBhY2Nlc3MgdG8gc3luYyByZWdpc3RyeSB0aHJvdWdoIHBsdWdpblxyXG4gICAgICAgIGNvbnN0IHN5bmNSZWdpc3RyeSA9ICh0aGlzLnBsdWdpbiBhcyBhbnkpPy5zeW5jUmVnaXN0cnlTZXJ2aWNlO1xyXG4gICAgICAgIGlmICghc3luY1JlZ2lzdHJ5KSB7XHJcbiAgICAgICAgICAgIC8vIElmIG5vIHN5bmMgcmVnaXN0cnkgYXZhaWxhYmxlLCBjb25zaWRlciBhbGwgbm90ZXMgYXMgXCJuZXdcIlxyXG4gICAgICAgICAgICByZXR1cm4gbm90ZXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB2YXVsdElkID0gdGhpcy5hcHAudmF1bHQuZ2V0TmFtZSgpO1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnREYlR5cGUgPSB0aGlzLmdldEN1cnJlbnREYXRhYmFzZVR5cGUoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5vdGVzLmZpbHRlcihub3RlID0+IHtcclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgbm90ZSBoYXMgYmVlbiBzeW5jZWQgYmVmb3JlIGJ5IGxvb2tpbmcgYXQgc3luYyByZWdpc3RyeVxyXG4gICAgICAgICAgICBjb25zdCBzeW5jUmVjb3JkID0gc3luY1JlZ2lzdHJ5LmdldFN5bmNSZWNvcmQobm90ZS5wYXRoLCB2YXVsdElkKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghc3luY1JlY29yZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gTm90ZSBub3QgaW4gc3luYyByZWdpc3RyeSA9IG5ldyBub3RlXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUncyBhIHN5bmMgZW50cnkgZm9yIGN1cnJlbnQgZGF0YWJhc2VcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudERiU3luYyA9IHN5bmNSZWNvcmQuc3luY3MuZmluZCgoc3luYzogYW55KSA9PiBzeW5jLmRhdGFiYXNlX2lkID09PSBjdXJyZW50RGJUeXBlKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghY3VycmVudERiU3luYykge1xyXG4gICAgICAgICAgICAgICAgLy8gTm8gc3luYyBmb3IgY3VycmVudCBkYXRhYmFzZSA9IG5ldyBub3RlIGZvciB0aGlzIGRhdGFiYXNlXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gTm90ZSBoYXMgYmVlbiBzeW5jZWQgYmVmb3JlID0gbm90IG5ld1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgbm90ZXMgdGhhdCBoYXZlIGJlZW4gdXBkYXRlZCBzaW5jZSBsYXN0IHN5bmMgKGZvciBuZXdfYW5kX3VwZGF0ZWQgbW9kZSlcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2V0VXBkYXRlZE5vdGVzKG5vdGVzOiBOb3RlU2VsZWN0aW9uUmVzdWx0W10pOiBQcm9taXNlPE5vdGVTZWxlY3Rpb25SZXN1bHRbXT4ge1xyXG4gICAgICAgIGNvbnN0IHN5bmNSZWdpc3RyeSA9ICh0aGlzLnBsdWdpbiBhcyBhbnkpPy5zeW5jUmVnaXN0cnlTZXJ2aWNlO1xyXG4gICAgICAgIGlmICghc3luY1JlZ2lzdHJ5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHZhdWx0SWQgPSB0aGlzLmFwcC52YXVsdC5nZXROYW1lKCk7XHJcbiAgICAgICAgY29uc3QgY3VycmVudERiVHlwZSA9IHRoaXMuZ2V0Q3VycmVudERhdGFiYXNlVHlwZSgpO1xyXG5cclxuICAgICAgICByZXR1cm4gbm90ZXMuZmlsdGVyKG5vdGUgPT4ge1xyXG4gICAgICAgICAgICAvLyBHZXQgbW1fdWlkIGZyb20gZnJvbnRtYXR0ZXIgLSBjb25zaXN0ZW50IHdpdGggU3luY01vZGFsLnN2ZWx0ZSBhcHByb2FjaFxyXG4gICAgICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKG5vdGUuZmlsZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1tVWlkID0gbWV0YWRhdGE/LmZyb250bWF0dGVyPy5tbV91aWQ7XHJcblxyXG4gICAgICAgICAgICAvLyBJZiBubyBtbV91aWQsIG5vdGUgaGFzIG5ldmVyIGJlZW4gc3luY2VkIChuZXcgbm90ZSwgbm90IHVwZGF0ZWQpXHJcbiAgICAgICAgICAgIGlmICghbW1VaWQgfHwgdHlwZW9mIG1tVWlkICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBVc2UgbW1fdWlkLWJhc2VkIGxvb2t1cCBpbnN0ZWFkIG9mIHBhdGgtYmFzZWQgbG9va3VwXHJcbiAgICAgICAgICAgIGNvbnN0IHN5bmNSZWNvcmQgPSBzeW5jUmVnaXN0cnkuZ2V0U3luY1JlY29yZChtbVVpZCwgdmF1bHRJZCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXN5bmNSZWNvcmQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgY3VycmVudERiU3luYyA9IHN5bmNSZWNvcmQuc3luY3MuZmluZCgoc3luYzogYW55KSA9PiBzeW5jLmRhdGFiYXNlX2lkID09PSBjdXJyZW50RGJUeXBlKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghY3VycmVudERiU3luYykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBDb21wYXJlIGZpbGUgbW9kaWZpY2F0aW9uIHRpbWUgd2l0aCBsYXN0IHN5bmMgdGltZVxyXG4gICAgICAgICAgICAvLyBBZGQgNS1taW51dGUgYnVmZmVyIHRvIGFjY291bnQgZm9yIHN5bmMgcHJvY2VzcyB0b3VjaGluZyBmaWxlcyB3aGVuIHdyaXRpbmcgbW1fdWlkXHJcbiAgICAgICAgICAgIGNvbnN0IGxhc3RTeW5jVGltZSA9IG5ldyBEYXRlKGN1cnJlbnREYlN5bmMubGFzdF9zeW5jKTtcclxuICAgICAgICAgICAgY29uc3QgZmlsZU1vZFRpbWUgPSBub3RlLm1vZGlmaWVkO1xyXG4gICAgICAgICAgICBjb25zdCBTWU5DX1RPTEVSQU5DRV9NUyA9IDUgKiA2MCAqIDEwMDA7IC8vIDUgbWludXRlc1xyXG5cclxuICAgICAgICAgICAgY29uc3QgaXNVcGRhdGVkID0gZmlsZU1vZFRpbWUuZ2V0VGltZSgpID4gKGxhc3RTeW5jVGltZS5nZXRUaW1lKCkgKyBTWU5DX1RPTEVSQU5DRV9NUyk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gaXNVcGRhdGVkO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGN1cnJlbnQgZGF0YWJhc2UgdHlwZSBmcm9tIHNldHRpbmdzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0Q3VycmVudERhdGFiYXNlVHlwZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gdGhpcy5nZXRTZXR0aW5ncygpO1xyXG4gICAgICAgIHJldHVybiBzZXR0aW5ncz8uZGF0YWJhc2VUeXBlIHx8ICduZW80aic7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBhIG5vdGUgc2hvdWxkIGJlIGluY2x1ZGVkIGluIGF1dG8tc3luYyBiYXNlZCBvbiBzeW5jIG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgc2hvdWxkSW5jbHVkZUluQXV0b1N5bmMobm90ZVBhdGg6IHN0cmluZywgc3luY09wdGlvbnM6ICduZXdfb25seScgfCAnbmV3X2FuZF91cGRhdGVkJyA9ICduZXdfYW5kX3VwZGF0ZWQnKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKHN5bmNPcHRpb25zID09PSAnbmV3X2FuZF91cGRhdGVkJykge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gSW5jbHVkZSBhbGwgc3luY2FibGUgbm90ZXNcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzeW5jT3B0aW9ucyA9PT0gJ25ld19vbmx5Jykge1xyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBub3RlIGhhcyBiZWVuIHN5bmNlZCBiZWZvcmVcclxuICAgICAgICAgICAgY29uc3Qgc3luY1JlZ2lzdHJ5ID0gKHRoaXMucGx1Z2luIGFzIGFueSk/LnN5bmNSZWdpc3RyeVNlcnZpY2U7XHJcbiAgICAgICAgICAgIGlmICghc3luY1JlZ2lzdHJ5KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gSWYgbm8gcmVnaXN0cnksIGNvbnNpZGVyIGFzIG5ld1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCB2YXVsdElkID0gdGhpcy5hcHAudmF1bHQuZ2V0TmFtZSgpO1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RGJUeXBlID0gdGhpcy5nZXRDdXJyZW50RGF0YWJhc2VUeXBlKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHN5bmNSZWNvcmQgPSBzeW5jUmVnaXN0cnkuZ2V0U3luY1JlY29yZChub3RlUGF0aCwgdmF1bHRJZCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXN5bmNSZWNvcmQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBOZXcgbm90ZVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RGJTeW5jID0gc3luY1JlY29yZC5zeW5jcy5maW5kKChzeW5jOiBhbnkpID0+IHN5bmMuZGF0YWJhc2VfaWQgPT09IGN1cnJlbnREYlR5cGUpO1xyXG4gICAgICAgICAgICByZXR1cm4gIWN1cnJlbnREYlN5bmM7IC8vIEluY2x1ZGUgaWYgbm90IHN5bmNlZCB0byBjdXJyZW50IGRhdGFiYXNlXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8vIEB2ZXNzZWwtY2xvc2U6SGVpbWRhbGxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBhbGwgbm90ZXMgdGhhdCBhcmUgZXhjbHVkZWQgYnkgZm9sZGVyIHNldHRpbmdzIChyZWdhcmRsZXNzIG9mIHR5cGUgZnJvbnRtYXR0ZXIpLlxyXG4gICAgICogVGhpcyBpcyB1c2VmdWwgZm9yIGRpc3BsYXlpbmcgY291bnQgb2YgXCJwcml2YXRlIGZpbGVzXCIuXHJcbiAgICAgKi9cclxuICAgICBhc3luYyBnZXRQcml2YXRlTm90ZXNCeUZvbGRlcigpOiBQcm9taXNlPE5vdGVTZWxlY3Rpb25SZXN1bHRbXT4ge1xyXG4gICAgICAgIGNvbnN0IGZpbGVzID0gdGhpcy5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xyXG4gICAgICAgIGNvbnN0IHByaXZhdGVOb3RlczogTm90ZVNlbGVjdGlvblJlc3VsdFtdID0gW107XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSB0aGlzLmdldFNldHRpbmdzKCk7XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykge1xyXG4gICAgICAgICAgICAvLyBPbmx5IGNvbnNpZGVyIG1hcmtkb3duIGZpbGVzIChURmlsZSBlbnN1cmVzIHRoaXMpXHJcbiAgICAgICAgICAgIGlmICghKGZpbGUgaW5zdGFuY2VvZiBURmlsZSkpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGZpbGUgaXMgZXhwbGljaXRseSBleGNsdWRlZCBieSBmb2xkZXIgc2V0dGluZ3NcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnNob3VsZEluY2x1ZGVGaWxlKGZpbGUucGF0aCwgc2V0dGluZ3M/LmluY2x1ZGVkRm9sZGVycyB8fCBbXSwgc2V0dGluZ3M/LmV4Y2x1ZGVkRm9sZGVycyB8fCBbXSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmcm9udG1hdHRlciA9IG1ldGFkYXRhPy5mcm9udG1hdHRlciB8fCB7fTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRhZ3MgPSB0aGlzLmV4dHJhY3RUYWdzKG1ldGFkYXRhKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xyXG5cclxuICAgICAgICAgICAgICAgIHByaXZhdGVOb3Rlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBmaWxlLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGZpbGUucGF0aCxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBmcm9udG1hdHRlci50eXBlLCAvLyBNYXkgb3IgbWF5IG5vdCBoYXZlIGEgdHlwZVxyXG4gICAgICAgICAgICAgICAgICAgIHRhZ3MsXHJcbiAgICAgICAgICAgICAgICAgICAgZnJvbnRtYXR0ZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudExlbmd0aDogY29udGVudC5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlZDogbmV3IERhdGUoZmlsZS5zdGF0LmN0aW1lKSxcclxuICAgICAgICAgICAgICAgICAgICBtb2RpZmllZDogbmV3IERhdGUoZmlsZS5zdGF0Lm10aW1lKSxcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZDogZmFsc2UsIC8vIE5vdCBhcHBsaWNhYmxlIGZvciB0aGlzIHZpZXdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwcml2YXRlTm90ZXMuc29ydCgoYSwgYikgPT4gYS5wYXRoLmxvY2FsZUNvbXBhcmUoYi5wYXRoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYWxsIG5vdGVzIHRoYXQgYXJlIGV4Y2x1ZGVkIGJ5IGZvbGRlciBzZXR0aW5ncyAocmVnYXJkbGVzcyBvZiB0eXBlIGZyb250bWF0dGVyKS5cclxuICAgICAqIFRoaXMgaXMgdXNlZnVsIGZvciBkaXNwbGF5aW5nIGNvdW50IG9mIFwicHJpdmF0ZSBmaWxlc1wiLlxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgbm90ZSBmaWx0ZXIgY3JpdGVyaWEgZnJvbSBjdXJyZW50IHBsdWdpbiBzZXR0aW5nc1xyXG4gICAgICovXHJcbiAgICBjcmVhdGVTZXR0aW5nc0Jhc2VkQ3JpdGVyaWEoKTogTm90ZUZpbHRlckNyaXRlcmlhIHtcclxuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IHRoaXMuZ2V0U2V0dGluZ3MoKTtcclxuICAgICAgICBpZiAoIXNldHRpbmdzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7fTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGNyaXRlcmlhOiBOb3RlRmlsdGVyQ3JpdGVyaWEgPSB7fTtcclxuXHJcbiAgICAgICAgLy8gQWRkIGZvbGRlci1iYXNlZCBmaWx0ZXJpbmdcclxuICAgICAgICBpZiAoc2V0dGluZ3MuaW5jbHVkZWRGb2xkZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY3JpdGVyaWEuaW5jbHVkZVBhdGhzID0gc2V0dGluZ3MuaW5jbHVkZWRGb2xkZXJzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNldHRpbmdzLmV4Y2x1ZGVkRm9sZGVycy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNyaXRlcmlhLmV4Y2x1ZGVQYXRocyA9IHNldHRpbmdzLmV4Y2x1ZGVkRm9sZGVycztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBjcml0ZXJpYTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEZpbHRlciBub3RlcyBiYXNlZCBvbiBjcml0ZXJpYVxyXG4gICAgICovXHJcbiAgICBhc3luYyBmaWx0ZXJOb3Rlcyhjcml0ZXJpYTogTm90ZUZpbHRlckNyaXRlcmlhKTogUHJvbWlzZTxOb3RlU2VsZWN0aW9uUmVzdWx0W10+IHtcclxuICAgICAgICBjb25zdCBhbGxOb3RlcyA9IGF3YWl0IHRoaXMuZ2V0QWxsU3luY2FibGVOb3RlcygpO1xyXG5cclxuICAgICAgICByZXR1cm4gYWxsTm90ZXMuZmlsdGVyKG5vdGUgPT4ge1xyXG4gICAgICAgICAgICAvLyBUeXBlIGZpbHRlcmluZ1xyXG4gICAgICAgICAgICBpZiAoY3JpdGVyaWEuaW5jbHVkZVR5cGVzICYmIGNyaXRlcmlhLmluY2x1ZGVUeXBlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIW5vdGUudHlwZSB8fCAhY3JpdGVyaWEuaW5jbHVkZVR5cGVzLmluY2x1ZGVzKG5vdGUudHlwZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChjcml0ZXJpYS5leGNsdWRlVHlwZXMgJiYgY3JpdGVyaWEuZXhjbHVkZVR5cGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChub3RlLnR5cGUgJiYgY3JpdGVyaWEuZXhjbHVkZVR5cGVzLmluY2x1ZGVzKG5vdGUudHlwZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFRhZyBmaWx0ZXJpbmdcclxuICAgICAgICAgICAgaWYgKGNyaXRlcmlhLmluY2x1ZGVUYWdzICYmIGNyaXRlcmlhLmluY2x1ZGVUYWdzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhhc0luY2x1ZGVkVGFnID0gY3JpdGVyaWEuaW5jbHVkZVRhZ3Muc29tZSh0YWcgPT4gbm90ZS50YWdzLmluY2x1ZGVzKHRhZykpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFoYXNJbmNsdWRlZFRhZykgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoY3JpdGVyaWEuZXhjbHVkZVRhZ3MgJiYgY3JpdGVyaWEuZXhjbHVkZVRhZ3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzRXhjbHVkZWRUYWcgPSBjcml0ZXJpYS5leGNsdWRlVGFncy5zb21lKHRhZyA9PiBub3RlLnRhZ3MuaW5jbHVkZXModGFnKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaGFzRXhjbHVkZWRUYWcpIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gRGF0ZSBmaWx0ZXJpbmdcclxuICAgICAgICAgICAgaWYgKGNyaXRlcmlhLmNyZWF0ZWRBZnRlciAmJiBub3RlLmNyZWF0ZWQgPCBjcml0ZXJpYS5jcmVhdGVkQWZ0ZXIpIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKGNyaXRlcmlhLmNyZWF0ZWRCZWZvcmUgJiYgbm90ZS5jcmVhdGVkID4gY3JpdGVyaWEuY3JlYXRlZEJlZm9yZSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAoY3JpdGVyaWEubW9kaWZpZWRBZnRlciAmJiBub3RlLm1vZGlmaWVkIDwgY3JpdGVyaWEubW9kaWZpZWRBZnRlcikgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAoY3JpdGVyaWEubW9kaWZpZWRCZWZvcmUgJiYgbm90ZS5tb2RpZmllZCA+IGNyaXRlcmlhLm1vZGlmaWVkQmVmb3JlKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAvLyBQYXRoIGZpbHRlcmluZ1xyXG4gICAgICAgICAgICBpZiAoY3JpdGVyaWEuaW5jbHVkZVBhdGhzICYmIGNyaXRlcmlhLmluY2x1ZGVQYXRocy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGVzUGF0aCA9IGNyaXRlcmlhLmluY2x1ZGVQYXRocy5zb21lKHBhdGggPT5cclxuICAgICAgICAgICAgICAgICAgICBub3RlLnBhdGgudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhwYXRoLnRvTG93ZXJDYXNlKCkpXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFtYXRjaGVzUGF0aCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoY3JpdGVyaWEuZXhjbHVkZVBhdGhzICYmIGNyaXRlcmlhLmV4Y2x1ZGVQYXRocy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGVzRXhjbHVkZWRQYXRoID0gY3JpdGVyaWEuZXhjbHVkZVBhdGhzLnNvbWUocGF0aCA9PlxyXG4gICAgICAgICAgICAgICAgICAgIG5vdGUucGF0aC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHBhdGgudG9Mb3dlckNhc2UoKSlcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hlc0V4Y2x1ZGVkUGF0aCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBDb250ZW50IGZpbHRlcmluZ1xyXG4gICAgICAgICAgICBpZiAoY3JpdGVyaWEuaGFzVHlwZSAhPT0gdW5kZWZpbmVkICYmIGNyaXRlcmlhLmhhc1R5cGUgJiYgIW5vdGUudHlwZSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAoY3JpdGVyaWEuaGFzRnJvbnRtYXR0ZXIgIT09IHVuZGVmaW5lZCAmJiBjcml0ZXJpYS5oYXNGcm9udG1hdHRlciAmJiBPYmplY3Qua2V5cyhub3RlLmZyb250bWF0dGVyKS5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIC8vIFNpemUgZmlsdGVyaW5nXHJcbiAgICAgICAgICAgIGlmIChjcml0ZXJpYS5taW5Db250ZW50TGVuZ3RoICE9PSB1bmRlZmluZWQgJiYgbm90ZS5jb250ZW50TGVuZ3RoIDwgY3JpdGVyaWEubWluQ29udGVudExlbmd0aCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAoY3JpdGVyaWEubWF4Q29udGVudExlbmd0aCAhPT0gdW5kZWZpbmVkICYmIG5vdGUuY29udGVudExlbmd0aCA+IGNyaXRlcmlhLm1heENvbnRlbnRMZW5ndGgpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGF2YWlsYWJsZSB0eXBlcyBpbiB0aGUgdmF1bHRcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2V0QXZhaWxhYmxlVHlwZXMoKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xyXG4gICAgICAgIGNvbnN0IG5vdGVzID0gYXdhaXQgdGhpcy5nZXRBbGxTeW5jYWJsZU5vdGVzKCk7XHJcbiAgICAgICAgY29uc3QgdHlwZXMgPSBuZXcgU2V0PHN0cmluZz4oKTtcclxuXHJcbiAgICAgICAgbm90ZXMuZm9yRWFjaChub3RlID0+IHtcclxuICAgICAgICAgICAgaWYgKG5vdGUudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgdHlwZXMuYWRkKG5vdGUudHlwZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odHlwZXMpLnNvcnQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBhdmFpbGFibGUgdGFncyBpbiB0aGUgdmF1bHRcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2V0QXZhaWxhYmxlVGFncygpOiBQcm9taXNlPHN0cmluZ1tdPiB7XHJcbiAgICAgICAgY29uc3Qgbm90ZXMgPSBhd2FpdCB0aGlzLmdldEFsbFN5bmNhYmxlTm90ZXMoKTtcclxuICAgICAgICBjb25zdCB0YWdzID0gbmV3IFNldDxzdHJpbmc+KCk7XHJcblxyXG4gICAgICAgIG5vdGVzLmZvckVhY2gobm90ZSA9PiB7XHJcbiAgICAgICAgICAgIG5vdGUudGFncy5mb3JFYWNoKHRhZyA9PiB0YWdzLmFkZCh0YWcpKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGFncykuc29ydCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2VsZWN0IG5vdGVzIGZvciBzeW5jXHJcbiAgICAgKi9cclxuICAgIHNlbGVjdE5vdGVzKG5vdGVQYXRoczogc3RyaW5nW10pOiB2b2lkIHtcclxuICAgICAgICBub3RlUGF0aHMuZm9yRWFjaChwYXRoID0+IHRoaXMuc2VsZWN0ZWROb3Rlcy5hZGQocGF0aCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVzZWxlY3Qgbm90ZXMgZnJvbSBzeW5jXHJcbiAgICAgKi9cclxuICAgIGRlc2VsZWN0Tm90ZXMobm90ZVBhdGhzOiBzdHJpbmdbXSk6IHZvaWQge1xyXG4gICAgICAgIG5vdGVQYXRocy5mb3JFYWNoKHBhdGggPT4gdGhpcy5zZWxlY3RlZE5vdGVzLmRlbGV0ZShwYXRoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUb2dnbGUgbm90ZSBzZWxlY3Rpb25cclxuICAgICAqL1xyXG4gICAgdG9nZ2xlTm90ZVNlbGVjdGlvbihub3RlUGF0aDogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWROb3Rlcy5oYXMobm90ZVBhdGgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWROb3Rlcy5kZWxldGUobm90ZVBhdGgpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE5vdGVzLmFkZChub3RlUGF0aCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNlbGVjdCBhbGwgbm90ZXMgbWF0Y2hpbmcgY3JpdGVyaWFcclxuICAgICAqL1xyXG4gICAgYXN5bmMgc2VsZWN0QWxsTWF0Y2hpbmcoY3JpdGVyaWE6IE5vdGVGaWx0ZXJDcml0ZXJpYSk6IFByb21pc2U8bnVtYmVyPiB7XHJcbiAgICAgICAgY29uc3QgbWF0Y2hpbmdOb3RlcyA9IGF3YWl0IHRoaXMuZmlsdGVyTm90ZXMoY3JpdGVyaWEpO1xyXG4gICAgICAgIGNvbnN0IHBhdGhzID0gbWF0Y2hpbmdOb3Rlcy5tYXAobm90ZSA9PiBub3RlLnBhdGgpO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0Tm90ZXMocGF0aHMpO1xyXG5cclxuICAgICAgICByZXR1cm4gcGF0aHMubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2xlYXIgYWxsIHNlbGVjdGlvbnNcclxuICAgICAqL1xyXG4gICAgY2xlYXJTZWxlY3Rpb24oKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZE5vdGVzLmNsZWFyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgY3VycmVudGx5IHNlbGVjdGVkIG5vdGUgcGF0aHNcclxuICAgICAqL1xyXG4gICAgZ2V0U2VsZWN0ZWROb3RlUGF0aHMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuc2VsZWN0ZWROb3Rlcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgc2VsZWN0aW9uIHN1bW1hcnlcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2V0U2VsZWN0aW9uU3VtbWFyeSgpOiBQcm9taXNlPE5vdGVTZWxlY3Rpb25TdW1tYXJ5PiB7XHJcbiAgICAgICAgY29uc3QgYWxsTm90ZXMgPSBhd2FpdCB0aGlzLmdldEFsbFN5bmNhYmxlTm90ZXMoKTtcclxuICAgICAgICBjb25zdCBzZWxlY3RlZFBhdGhzID0gdGhpcy5nZXRTZWxlY3RlZE5vdGVQYXRocygpO1xyXG5cclxuICAgICAgICBjb25zdCBub3Rlc0J5VHlwZTogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkQnlUeXBlOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XHJcblxyXG4gICAgICAgIGFsbE5vdGVzLmZvckVhY2gobm90ZSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChub3RlLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIG5vdGVzQnlUeXBlW25vdGUudHlwZV0gPSAobm90ZXNCeVR5cGVbbm90ZS50eXBlXSB8fCAwKSArIDE7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkUGF0aHMuaW5jbHVkZXMobm90ZS5wYXRoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQnlUeXBlW25vdGUudHlwZV0gPSAoc2VsZWN0ZWRCeVR5cGVbbm90ZS50eXBlXSB8fCAwKSArIDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gRXN0aW1hdGUgc3luYyB0aW1lIChyb3VnaCBjYWxjdWxhdGlvbjogfjEtMiBzZWNvbmRzIHBlciBub3RlKVxyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkQ291bnQgPSBzZWxlY3RlZFBhdGhzLmxlbmd0aDtcclxuICAgICAgICBjb25zdCBlc3RpbWF0ZWRNaW51dGVzID0gTWF0aC5jZWlsKHNlbGVjdGVkQ291bnQgKiAxLjUgLyA2MCk7XHJcbiAgICAgICAgY29uc3QgZXN0aW1hdGVkU3luY1RpbWUgPSBzZWxlY3RlZENvdW50ID09PSAwID8gJzAgc2Vjb25kcycgOlxyXG4gICAgICAgICAgICBlc3RpbWF0ZWRNaW51dGVzIDwgMSA/IGAke3NlbGVjdGVkQ291bnQgKiAxLjV9IHNlY29uZHNgIDpcclxuICAgICAgICAgICAgZXN0aW1hdGVkTWludXRlcyA9PT0gMSA/ICcxIG1pbnV0ZScgOiBgJHtlc3RpbWF0ZWRNaW51dGVzfSBtaW51dGVzYDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdG90YWxOb3RlczogYWxsTm90ZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICBzZWxlY3RlZE5vdGVzOiBzZWxlY3RlZENvdW50LFxyXG4gICAgICAgICAgICBub3Rlc0J5VHlwZSxcclxuICAgICAgICAgICAgc2VsZWN0ZWRCeVR5cGUsXHJcbiAgICAgICAgICAgIGVzdGltYXRlZFN5bmNUaW1lXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBub3RlcyBieSB0eXBlIGZvciBxdWljayBmaWx0ZXJpbmdcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2V0Tm90ZXNCeVR5cGUoKTogUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCBOb3RlU2VsZWN0aW9uUmVzdWx0W10+PiB7XHJcbiAgICAgICAgY29uc3Qgbm90ZXMgPSBhd2FpdCB0aGlzLmdldEFsbFN5bmNhYmxlTm90ZXMoKTtcclxuICAgICAgICBjb25zdCBieVR5cGU6IFJlY29yZDxzdHJpbmcsIE5vdGVTZWxlY3Rpb25SZXN1bHRbXT4gPSB7fTtcclxuXHJcbiAgICAgICAgbm90ZXMuZm9yRWFjaChub3RlID0+IHtcclxuICAgICAgICAgICAgaWYgKG5vdGUudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFieVR5cGVbbm90ZS50eXBlXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ5VHlwZVtub3RlLnR5cGVdID0gW107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBieVR5cGVbbm90ZS50eXBlXS5wdXNoKG5vdGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBieVR5cGU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgcXVpY2sgc2VsZWN0aW9uIHByZXNldHNcclxuICAgICAqL1xyXG4gICAgYXN5bmMgY3JlYXRlU2VsZWN0aW9uUHJlc2V0cygpOiBQcm9taXNlPFJlY29yZDxzdHJpbmcsIE5vdGVGaWx0ZXJDcml0ZXJpYT4+IHtcclxuICAgICAgICBjb25zdCB0eXBlcyA9IGF3YWl0IHRoaXMuZ2V0QXZhaWxhYmxlVHlwZXMoKTtcclxuICAgICAgICBjb25zdCBwcmVzZXRzOiBSZWNvcmQ8c3RyaW5nLCBOb3RlRmlsdGVyQ3JpdGVyaWE+ID0ge1xyXG4gICAgICAgICAgICAnQWxsIE5vdGVzJzoge30sXHJcbiAgICAgICAgICAgICdSZWNlbnRseSBNb2RpZmllZCc6IHtcclxuICAgICAgICAgICAgICAgIG1vZGlmaWVkQWZ0ZXI6IG5ldyBEYXRlKERhdGUubm93KCkgLSA3ICogMjQgKiA2MCAqIDYwICogMTAwMCkgLy8gTGFzdCA3IGRheXNcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ1JlY2VudCBDb250ZW50Jzoge1xyXG4gICAgICAgICAgICAgICAgY3JlYXRlZEFmdGVyOiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKSAvLyBMYXN0IDMwIGRheXNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIEFkZCB0eXBlLXNwZWNpZmljIHByZXNldHNcclxuICAgICAgICB0eXBlcy5mb3JFYWNoKHR5cGUgPT4ge1xyXG4gICAgICAgICAgICBwcmVzZXRzW2Ake3R5cGV9IE9ubHlgXSA9IHtcclxuICAgICAgICAgICAgICAgIGluY2x1ZGVUeXBlczogW3R5cGVdXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBwcmVzZXRzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVmFsaWRhdGUgc2VsZWN0aW9uIGZvciBzeW5jXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHZhbGlkYXRlU2VsZWN0aW9uKCk6IFByb21pc2U8eyBpc1ZhbGlkOiBib29sZWFuOyB3YXJuaW5nczogc3RyaW5nW107IGVycm9yczogc3RyaW5nW10gfT4ge1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkUGF0aHMgPSB0aGlzLmdldFNlbGVjdGVkTm90ZVBhdGhzKCk7XHJcbiAgICAgICAgY29uc3Qgd2FybmluZ3M6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgY29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICAgICAgICBpZiAoc2VsZWN0ZWRQYXRocy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgZXJyb3JzLnB1c2goJ05vIG5vdGVzIHNlbGVjdGVkIGZvciBzeW5jJyk7XHJcbiAgICAgICAgICAgIHJldHVybiB7IGlzVmFsaWQ6IGZhbHNlLCB3YXJuaW5ncywgZXJyb3JzIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiBzZWxlY3RlZCBmaWxlcyBzdGlsbCBleGlzdFxyXG4gICAgICAgIGNvbnN0IG1pc3NpbmdGaWxlczogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICBmb3IgKGNvbnN0IHBhdGggb2Ygc2VsZWN0ZWRQYXRocykge1xyXG4gICAgICAgICAgICBjb25zdCBmaWxlID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHBhdGgpO1xyXG4gICAgICAgICAgICBpZiAoIWZpbGUgfHwgIShmaWxlIGluc3RhbmNlb2YgVEZpbGUpKSB7XHJcbiAgICAgICAgICAgICAgICBtaXNzaW5nRmlsZXMucHVzaChwYXRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG1pc3NpbmdGaWxlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKGBNaXNzaW5nIGZpbGVzOiAke21pc3NpbmdGaWxlcy5qb2luKCcsICcpfWApO1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgbWlzc2luZyBmaWxlcyBmcm9tIHNlbGVjdGlvblxyXG4gICAgICAgICAgICB0aGlzLmRlc2VsZWN0Tm90ZXMobWlzc2luZ0ZpbGVzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFBlcmZvcm1hbmNlIHdhcm5pbmdzXHJcbiAgICAgICAgaWYgKHNlbGVjdGVkUGF0aHMubGVuZ3RoID4gMTAwKSB7XHJcbiAgICAgICAgICAgIHdhcm5pbmdzLnB1c2goYExhcmdlIHNlbGVjdGlvbiAoJHtzZWxlY3RlZFBhdGhzLmxlbmd0aH0gbm90ZXMpIG1heSB0YWtlIHNpZ25pZmljYW50IHRpbWUgdG8gc3luY2ApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIHZlcnkgbGFyZ2UgZmlsZXNcclxuICAgICAgICBjb25zdCBsYXJnZUZpbGVzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgIGNvbnN0IG5vdGVzID0gYXdhaXQgdGhpcy5nZXRBbGxTeW5jYWJsZU5vdGVzKCk7XHJcbiAgICAgICAgbm90ZXMuZm9yRWFjaChub3RlID0+IHtcclxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkUGF0aHMuaW5jbHVkZXMobm90ZS5wYXRoKSAmJiBub3RlLmNvbnRlbnRMZW5ndGggPiA1MDAwMCkge1xyXG4gICAgICAgICAgICAgICAgbGFyZ2VGaWxlcy5wdXNoKGAke25vdGUucGF0aH0gKCR7TWF0aC5yb3VuZChub3RlLmNvbnRlbnRMZW5ndGggLyAxMDAwKX1LQilgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAobGFyZ2VGaWxlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHdhcm5pbmdzLnB1c2goYExhcmdlIGZpbGVzIGRldGVjdGVkOiAke2xhcmdlRmlsZXMuam9pbignLCAnKX1gKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGlzVmFsaWQ6IGVycm9ycy5sZW5ndGggPT09IDAsXHJcbiAgICAgICAgICAgIHdhcm5pbmdzLFxyXG4gICAgICAgICAgICBlcnJvcnNcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRXh0cmFjdCB0YWdzIGZyb20gbm90ZSBtZXRhZGF0YVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGV4dHJhY3RUYWdzKG1ldGFkYXRhOiBDYWNoZWRNZXRhZGF0YSB8IG51bGwpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgaWYgKCFtZXRhZGF0YSkgcmV0dXJuIFtdO1xyXG5cclxuICAgICAgICBjb25zdCB0YWdzOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICAgICAgICAvLyBGcm9tIGZyb250bWF0dGVyIHRhZ3NcclxuICAgICAgICBpZiAobWV0YWRhdGEuZnJvbnRtYXR0ZXI/LnRhZ3MpIHtcclxuICAgICAgICAgICAgY29uc3QgZnJvbnRtYXR0ZXJUYWdzID0gQXJyYXkuaXNBcnJheShtZXRhZGF0YS5mcm9udG1hdHRlci50YWdzKVxyXG4gICAgICAgICAgICAgICAgPyBtZXRhZGF0YS5mcm9udG1hdHRlci50YWdzXHJcbiAgICAgICAgICAgICAgICA6IFttZXRhZGF0YS5mcm9udG1hdHRlci50YWdzXTtcclxuICAgICAgICAgICAgdGFncy5wdXNoKC4uLmZyb250bWF0dGVyVGFncy5tYXAodGFnID0+IFN0cmluZyh0YWcpKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBGcm9tIGlubGluZSB0YWdzXHJcbiAgICAgICAgaWYgKG1ldGFkYXRhLnRhZ3MpIHtcclxuICAgICAgICAgICAgdGFncy5wdXNoKC4uLm1ldGFkYXRhLnRhZ3MubWFwKHRhZyA9PiB0YWcudGFnLnJlcGxhY2UoJyMnLCAnJykpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBbLi4ubmV3IFNldCh0YWdzKV0uZmlsdGVyKHRhZyA9PiB0YWcudHJpbSgpLmxlbmd0aCA+IDApO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyA9PT0gVkVTU0VMIENMT1NFID09PSIsIlxuLyohIGpzLXlhbWwgNC4xLjAgaHR0cHM6Ly9naXRodWIuY29tL25vZGVjYS9qcy15YW1sIEBsaWNlbnNlIE1JVCAqL1xuZnVuY3Rpb24gaXNOb3RoaW5nKHN1YmplY3QpIHtcbiAgcmV0dXJuICh0eXBlb2Ygc3ViamVjdCA9PT0gJ3VuZGVmaW5lZCcpIHx8IChzdWJqZWN0ID09PSBudWxsKTtcbn1cblxuXG5mdW5jdGlvbiBpc09iamVjdChzdWJqZWN0KSB7XG4gIHJldHVybiAodHlwZW9mIHN1YmplY3QgPT09ICdvYmplY3QnKSAmJiAoc3ViamVjdCAhPT0gbnVsbCk7XG59XG5cblxuZnVuY3Rpb24gdG9BcnJheShzZXF1ZW5jZSkge1xuICBpZiAoQXJyYXkuaXNBcnJheShzZXF1ZW5jZSkpIHJldHVybiBzZXF1ZW5jZTtcbiAgZWxzZSBpZiAoaXNOb3RoaW5nKHNlcXVlbmNlKSkgcmV0dXJuIFtdO1xuXG4gIHJldHVybiBbIHNlcXVlbmNlIF07XG59XG5cblxuZnVuY3Rpb24gZXh0ZW5kKHRhcmdldCwgc291cmNlKSB7XG4gIHZhciBpbmRleCwgbGVuZ3RoLCBrZXksIHNvdXJjZUtleXM7XG5cbiAgaWYgKHNvdXJjZSkge1xuICAgIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuXG4gICAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IHNvdXJjZUtleXMubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgICAga2V5ID0gc291cmNlS2V5c1tpbmRleF07XG4gICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cblxuZnVuY3Rpb24gcmVwZWF0KHN0cmluZywgY291bnQpIHtcbiAgdmFyIHJlc3VsdCA9ICcnLCBjeWNsZTtcblxuICBmb3IgKGN5Y2xlID0gMDsgY3ljbGUgPCBjb3VudDsgY3ljbGUgKz0gMSkge1xuICAgIHJlc3VsdCArPSBzdHJpbmc7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5cbmZ1bmN0aW9uIGlzTmVnYXRpdmVaZXJvKG51bWJlcikge1xuICByZXR1cm4gKG51bWJlciA9PT0gMCkgJiYgKE51bWJlci5ORUdBVElWRV9JTkZJTklUWSA9PT0gMSAvIG51bWJlcik7XG59XG5cblxudmFyIGlzTm90aGluZ18xICAgICAgPSBpc05vdGhpbmc7XG52YXIgaXNPYmplY3RfMSAgICAgICA9IGlzT2JqZWN0O1xudmFyIHRvQXJyYXlfMSAgICAgICAgPSB0b0FycmF5O1xudmFyIHJlcGVhdF8xICAgICAgICAgPSByZXBlYXQ7XG52YXIgaXNOZWdhdGl2ZVplcm9fMSA9IGlzTmVnYXRpdmVaZXJvO1xudmFyIGV4dGVuZF8xICAgICAgICAgPSBleHRlbmQ7XG5cbnZhciBjb21tb24gPSB7XG5cdGlzTm90aGluZzogaXNOb3RoaW5nXzEsXG5cdGlzT2JqZWN0OiBpc09iamVjdF8xLFxuXHR0b0FycmF5OiB0b0FycmF5XzEsXG5cdHJlcGVhdDogcmVwZWF0XzEsXG5cdGlzTmVnYXRpdmVaZXJvOiBpc05lZ2F0aXZlWmVyb18xLFxuXHRleHRlbmQ6IGV4dGVuZF8xXG59O1xuXG4vLyBZQU1MIGVycm9yIGNsYXNzLiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzg0NTg5ODRcblxuXG5mdW5jdGlvbiBmb3JtYXRFcnJvcihleGNlcHRpb24sIGNvbXBhY3QpIHtcbiAgdmFyIHdoZXJlID0gJycsIG1lc3NhZ2UgPSBleGNlcHRpb24ucmVhc29uIHx8ICcodW5rbm93biByZWFzb24pJztcblxuICBpZiAoIWV4Y2VwdGlvbi5tYXJrKSByZXR1cm4gbWVzc2FnZTtcblxuICBpZiAoZXhjZXB0aW9uLm1hcmsubmFtZSkge1xuICAgIHdoZXJlICs9ICdpbiBcIicgKyBleGNlcHRpb24ubWFyay5uYW1lICsgJ1wiICc7XG4gIH1cblxuICB3aGVyZSArPSAnKCcgKyAoZXhjZXB0aW9uLm1hcmsubGluZSArIDEpICsgJzonICsgKGV4Y2VwdGlvbi5tYXJrLmNvbHVtbiArIDEpICsgJyknO1xuXG4gIGlmICghY29tcGFjdCAmJiBleGNlcHRpb24ubWFyay5zbmlwcGV0KSB7XG4gICAgd2hlcmUgKz0gJ1xcblxcbicgKyBleGNlcHRpb24ubWFyay5zbmlwcGV0O1xuICB9XG5cbiAgcmV0dXJuIG1lc3NhZ2UgKyAnICcgKyB3aGVyZTtcbn1cblxuXG5mdW5jdGlvbiBZQU1MRXhjZXB0aW9uJDEocmVhc29uLCBtYXJrKSB7XG4gIC8vIFN1cGVyIGNvbnN0cnVjdG9yXG4gIEVycm9yLmNhbGwodGhpcyk7XG5cbiAgdGhpcy5uYW1lID0gJ1lBTUxFeGNlcHRpb24nO1xuICB0aGlzLnJlYXNvbiA9IHJlYXNvbjtcbiAgdGhpcy5tYXJrID0gbWFyaztcbiAgdGhpcy5tZXNzYWdlID0gZm9ybWF0RXJyb3IodGhpcywgZmFsc2UpO1xuXG4gIC8vIEluY2x1ZGUgc3RhY2sgdHJhY2UgaW4gZXJyb3Igb2JqZWN0XG4gIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgIC8vIENocm9tZSBhbmQgTm9kZUpTXG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gIH0gZWxzZSB7XG4gICAgLy8gRkYsIElFIDEwKyBhbmQgU2FmYXJpIDYrLiBGYWxsYmFjayBmb3Igb3RoZXJzXG4gICAgdGhpcy5zdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2sgfHwgJyc7XG4gIH1cbn1cblxuXG4vLyBJbmhlcml0IGZyb20gRXJyb3JcbllBTUxFeGNlcHRpb24kMS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG5ZQU1MRXhjZXB0aW9uJDEucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gWUFNTEV4Y2VwdGlvbiQxO1xuXG5cbllBTUxFeGNlcHRpb24kMS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyhjb21wYWN0KSB7XG4gIHJldHVybiB0aGlzLm5hbWUgKyAnOiAnICsgZm9ybWF0RXJyb3IodGhpcywgY29tcGFjdCk7XG59O1xuXG5cbnZhciBleGNlcHRpb24gPSBZQU1MRXhjZXB0aW9uJDE7XG5cbi8vIGdldCBzbmlwcGV0IGZvciBhIHNpbmdsZSBsaW5lLCByZXNwZWN0aW5nIG1heExlbmd0aFxuZnVuY3Rpb24gZ2V0TGluZShidWZmZXIsIGxpbmVTdGFydCwgbGluZUVuZCwgcG9zaXRpb24sIG1heExpbmVMZW5ndGgpIHtcbiAgdmFyIGhlYWQgPSAnJztcbiAgdmFyIHRhaWwgPSAnJztcbiAgdmFyIG1heEhhbGZMZW5ndGggPSBNYXRoLmZsb29yKG1heExpbmVMZW5ndGggLyAyKSAtIDE7XG5cbiAgaWYgKHBvc2l0aW9uIC0gbGluZVN0YXJ0ID4gbWF4SGFsZkxlbmd0aCkge1xuICAgIGhlYWQgPSAnIC4uLiAnO1xuICAgIGxpbmVTdGFydCA9IHBvc2l0aW9uIC0gbWF4SGFsZkxlbmd0aCArIGhlYWQubGVuZ3RoO1xuICB9XG5cbiAgaWYgKGxpbmVFbmQgLSBwb3NpdGlvbiA+IG1heEhhbGZMZW5ndGgpIHtcbiAgICB0YWlsID0gJyAuLi4nO1xuICAgIGxpbmVFbmQgPSBwb3NpdGlvbiArIG1heEhhbGZMZW5ndGggLSB0YWlsLmxlbmd0aDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc3RyOiBoZWFkICsgYnVmZmVyLnNsaWNlKGxpbmVTdGFydCwgbGluZUVuZCkucmVwbGFjZSgvXFx0L2csICfihpInKSArIHRhaWwsXG4gICAgcG9zOiBwb3NpdGlvbiAtIGxpbmVTdGFydCArIGhlYWQubGVuZ3RoIC8vIHJlbGF0aXZlIHBvc2l0aW9uXG4gIH07XG59XG5cblxuZnVuY3Rpb24gcGFkU3RhcnQoc3RyaW5nLCBtYXgpIHtcbiAgcmV0dXJuIGNvbW1vbi5yZXBlYXQoJyAnLCBtYXggLSBzdHJpbmcubGVuZ3RoKSArIHN0cmluZztcbn1cblxuXG5mdW5jdGlvbiBtYWtlU25pcHBldChtYXJrLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBPYmplY3QuY3JlYXRlKG9wdGlvbnMgfHwgbnVsbCk7XG5cbiAgaWYgKCFtYXJrLmJ1ZmZlcikgcmV0dXJuIG51bGw7XG5cbiAgaWYgKCFvcHRpb25zLm1heExlbmd0aCkgb3B0aW9ucy5tYXhMZW5ndGggPSA3OTtcbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluZGVudCAgICAgICE9PSAnbnVtYmVyJykgb3B0aW9ucy5pbmRlbnQgICAgICA9IDE7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5saW5lc0JlZm9yZSAhPT0gJ251bWJlcicpIG9wdGlvbnMubGluZXNCZWZvcmUgPSAzO1xuICBpZiAodHlwZW9mIG9wdGlvbnMubGluZXNBZnRlciAgIT09ICdudW1iZXInKSBvcHRpb25zLmxpbmVzQWZ0ZXIgID0gMjtcblxuICB2YXIgcmUgPSAvXFxyP1xcbnxcXHJ8XFwwL2c7XG4gIHZhciBsaW5lU3RhcnRzID0gWyAwIF07XG4gIHZhciBsaW5lRW5kcyA9IFtdO1xuICB2YXIgbWF0Y2g7XG4gIHZhciBmb3VuZExpbmVObyA9IC0xO1xuXG4gIHdoaWxlICgobWF0Y2ggPSByZS5leGVjKG1hcmsuYnVmZmVyKSkpIHtcbiAgICBsaW5lRW5kcy5wdXNoKG1hdGNoLmluZGV4KTtcbiAgICBsaW5lU3RhcnRzLnB1c2gobWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGgpO1xuXG4gICAgaWYgKG1hcmsucG9zaXRpb24gPD0gbWF0Y2guaW5kZXggJiYgZm91bmRMaW5lTm8gPCAwKSB7XG4gICAgICBmb3VuZExpbmVObyA9IGxpbmVTdGFydHMubGVuZ3RoIC0gMjtcbiAgICB9XG4gIH1cblxuICBpZiAoZm91bmRMaW5lTm8gPCAwKSBmb3VuZExpbmVObyA9IGxpbmVTdGFydHMubGVuZ3RoIC0gMTtcblxuICB2YXIgcmVzdWx0ID0gJycsIGksIGxpbmU7XG4gIHZhciBsaW5lTm9MZW5ndGggPSBNYXRoLm1pbihtYXJrLmxpbmUgKyBvcHRpb25zLmxpbmVzQWZ0ZXIsIGxpbmVFbmRzLmxlbmd0aCkudG9TdHJpbmcoKS5sZW5ndGg7XG4gIHZhciBtYXhMaW5lTGVuZ3RoID0gb3B0aW9ucy5tYXhMZW5ndGggLSAob3B0aW9ucy5pbmRlbnQgKyBsaW5lTm9MZW5ndGggKyAzKTtcblxuICBmb3IgKGkgPSAxOyBpIDw9IG9wdGlvbnMubGluZXNCZWZvcmU7IGkrKykge1xuICAgIGlmIChmb3VuZExpbmVObyAtIGkgPCAwKSBicmVhaztcbiAgICBsaW5lID0gZ2V0TGluZShcbiAgICAgIG1hcmsuYnVmZmVyLFxuICAgICAgbGluZVN0YXJ0c1tmb3VuZExpbmVObyAtIGldLFxuICAgICAgbGluZUVuZHNbZm91bmRMaW5lTm8gLSBpXSxcbiAgICAgIG1hcmsucG9zaXRpb24gLSAobGluZVN0YXJ0c1tmb3VuZExpbmVOb10gLSBsaW5lU3RhcnRzW2ZvdW5kTGluZU5vIC0gaV0pLFxuICAgICAgbWF4TGluZUxlbmd0aFxuICAgICk7XG4gICAgcmVzdWx0ID0gY29tbW9uLnJlcGVhdCgnICcsIG9wdGlvbnMuaW5kZW50KSArIHBhZFN0YXJ0KChtYXJrLmxpbmUgLSBpICsgMSkudG9TdHJpbmcoKSwgbGluZU5vTGVuZ3RoKSArXG4gICAgICAnIHwgJyArIGxpbmUuc3RyICsgJ1xcbicgKyByZXN1bHQ7XG4gIH1cblxuICBsaW5lID0gZ2V0TGluZShtYXJrLmJ1ZmZlciwgbGluZVN0YXJ0c1tmb3VuZExpbmVOb10sIGxpbmVFbmRzW2ZvdW5kTGluZU5vXSwgbWFyay5wb3NpdGlvbiwgbWF4TGluZUxlbmd0aCk7XG4gIHJlc3VsdCArPSBjb21tb24ucmVwZWF0KCcgJywgb3B0aW9ucy5pbmRlbnQpICsgcGFkU3RhcnQoKG1hcmsubGluZSArIDEpLnRvU3RyaW5nKCksIGxpbmVOb0xlbmd0aCkgK1xuICAgICcgfCAnICsgbGluZS5zdHIgKyAnXFxuJztcbiAgcmVzdWx0ICs9IGNvbW1vbi5yZXBlYXQoJy0nLCBvcHRpb25zLmluZGVudCArIGxpbmVOb0xlbmd0aCArIDMgKyBsaW5lLnBvcykgKyAnXicgKyAnXFxuJztcblxuICBmb3IgKGkgPSAxOyBpIDw9IG9wdGlvbnMubGluZXNBZnRlcjsgaSsrKSB7XG4gICAgaWYgKGZvdW5kTGluZU5vICsgaSA+PSBsaW5lRW5kcy5sZW5ndGgpIGJyZWFrO1xuICAgIGxpbmUgPSBnZXRMaW5lKFxuICAgICAgbWFyay5idWZmZXIsXG4gICAgICBsaW5lU3RhcnRzW2ZvdW5kTGluZU5vICsgaV0sXG4gICAgICBsaW5lRW5kc1tmb3VuZExpbmVObyArIGldLFxuICAgICAgbWFyay5wb3NpdGlvbiAtIChsaW5lU3RhcnRzW2ZvdW5kTGluZU5vXSAtIGxpbmVTdGFydHNbZm91bmRMaW5lTm8gKyBpXSksXG4gICAgICBtYXhMaW5lTGVuZ3RoXG4gICAgKTtcbiAgICByZXN1bHQgKz0gY29tbW9uLnJlcGVhdCgnICcsIG9wdGlvbnMuaW5kZW50KSArIHBhZFN0YXJ0KChtYXJrLmxpbmUgKyBpICsgMSkudG9TdHJpbmcoKSwgbGluZU5vTGVuZ3RoKSArXG4gICAgICAnIHwgJyArIGxpbmUuc3RyICsgJ1xcbic7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0LnJlcGxhY2UoL1xcbiQvLCAnJyk7XG59XG5cblxudmFyIHNuaXBwZXQgPSBtYWtlU25pcHBldDtcblxudmFyIFRZUEVfQ09OU1RSVUNUT1JfT1BUSU9OUyA9IFtcbiAgJ2tpbmQnLFxuICAnbXVsdGknLFxuICAncmVzb2x2ZScsXG4gICdjb25zdHJ1Y3QnLFxuICAnaW5zdGFuY2VPZicsXG4gICdwcmVkaWNhdGUnLFxuICAncmVwcmVzZW50JyxcbiAgJ3JlcHJlc2VudE5hbWUnLFxuICAnZGVmYXVsdFN0eWxlJyxcbiAgJ3N0eWxlQWxpYXNlcydcbl07XG5cbnZhciBZQU1MX05PREVfS0lORFMgPSBbXG4gICdzY2FsYXInLFxuICAnc2VxdWVuY2UnLFxuICAnbWFwcGluZydcbl07XG5cbmZ1bmN0aW9uIGNvbXBpbGVTdHlsZUFsaWFzZXMobWFwKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcblxuICBpZiAobWFwICE9PSBudWxsKSB7XG4gICAgT2JqZWN0LmtleXMobWFwKS5mb3JFYWNoKGZ1bmN0aW9uIChzdHlsZSkge1xuICAgICAgbWFwW3N0eWxlXS5mb3JFYWNoKGZ1bmN0aW9uIChhbGlhcykge1xuICAgICAgICByZXN1bHRbU3RyaW5nKGFsaWFzKV0gPSBzdHlsZTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gVHlwZSQxKHRhZywgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICBPYmplY3Qua2V5cyhvcHRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgaWYgKFRZUEVfQ09OU1RSVUNUT1JfT1BUSU9OUy5pbmRleE9mKG5hbWUpID09PSAtMSkge1xuICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbignVW5rbm93biBvcHRpb24gXCInICsgbmFtZSArICdcIiBpcyBtZXQgaW4gZGVmaW5pdGlvbiBvZiBcIicgKyB0YWcgKyAnXCIgWUFNTCB0eXBlLicpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gVE9ETzogQWRkIHRhZyBmb3JtYXQgY2hlY2suXG4gIHRoaXMub3B0aW9ucyAgICAgICA9IG9wdGlvbnM7IC8vIGtlZXAgb3JpZ2luYWwgb3B0aW9ucyBpbiBjYXNlIHVzZXIgd2FudHMgdG8gZXh0ZW5kIHRoaXMgdHlwZSBsYXRlclxuICB0aGlzLnRhZyAgICAgICAgICAgPSB0YWc7XG4gIHRoaXMua2luZCAgICAgICAgICA9IG9wdGlvbnNbJ2tpbmQnXSAgICAgICAgICB8fCBudWxsO1xuICB0aGlzLnJlc29sdmUgICAgICAgPSBvcHRpb25zWydyZXNvbHZlJ10gICAgICAgfHwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfTtcbiAgdGhpcy5jb25zdHJ1Y3QgICAgID0gb3B0aW9uc1snY29uc3RydWN0J10gICAgIHx8IGZ1bmN0aW9uIChkYXRhKSB7IHJldHVybiBkYXRhOyB9O1xuICB0aGlzLmluc3RhbmNlT2YgICAgPSBvcHRpb25zWydpbnN0YW5jZU9mJ10gICAgfHwgbnVsbDtcbiAgdGhpcy5wcmVkaWNhdGUgICAgID0gb3B0aW9uc1sncHJlZGljYXRlJ10gICAgIHx8IG51bGw7XG4gIHRoaXMucmVwcmVzZW50ICAgICA9IG9wdGlvbnNbJ3JlcHJlc2VudCddICAgICB8fCBudWxsO1xuICB0aGlzLnJlcHJlc2VudE5hbWUgPSBvcHRpb25zWydyZXByZXNlbnROYW1lJ10gfHwgbnVsbDtcbiAgdGhpcy5kZWZhdWx0U3R5bGUgID0gb3B0aW9uc1snZGVmYXVsdFN0eWxlJ10gIHx8IG51bGw7XG4gIHRoaXMubXVsdGkgICAgICAgICA9IG9wdGlvbnNbJ211bHRpJ10gICAgICAgICB8fCBmYWxzZTtcbiAgdGhpcy5zdHlsZUFsaWFzZXMgID0gY29tcGlsZVN0eWxlQWxpYXNlcyhvcHRpb25zWydzdHlsZUFsaWFzZXMnXSB8fCBudWxsKTtcblxuICBpZiAoWUFNTF9OT0RFX0tJTkRTLmluZGV4T2YodGhpcy5raW5kKSA9PT0gLTEpIHtcbiAgICB0aHJvdyBuZXcgZXhjZXB0aW9uKCdVbmtub3duIGtpbmQgXCInICsgdGhpcy5raW5kICsgJ1wiIGlzIHNwZWNpZmllZCBmb3IgXCInICsgdGFnICsgJ1wiIFlBTUwgdHlwZS4nKTtcbiAgfVxufVxuXG52YXIgdHlwZSA9IFR5cGUkMTtcblxuLyplc2xpbnQtZGlzYWJsZSBtYXgtbGVuKi9cblxuXG5cblxuXG5mdW5jdGlvbiBjb21waWxlTGlzdChzY2hlbWEsIG5hbWUpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gIHNjaGVtYVtuYW1lXS5mb3JFYWNoKGZ1bmN0aW9uIChjdXJyZW50VHlwZSkge1xuICAgIHZhciBuZXdJbmRleCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgICByZXN1bHQuZm9yRWFjaChmdW5jdGlvbiAocHJldmlvdXNUeXBlLCBwcmV2aW91c0luZGV4KSB7XG4gICAgICBpZiAocHJldmlvdXNUeXBlLnRhZyA9PT0gY3VycmVudFR5cGUudGFnICYmXG4gICAgICAgICAgcHJldmlvdXNUeXBlLmtpbmQgPT09IGN1cnJlbnRUeXBlLmtpbmQgJiZcbiAgICAgICAgICBwcmV2aW91c1R5cGUubXVsdGkgPT09IGN1cnJlbnRUeXBlLm11bHRpKSB7XG5cbiAgICAgICAgbmV3SW5kZXggPSBwcmV2aW91c0luZGV4O1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmVzdWx0W25ld0luZGV4XSA9IGN1cnJlbnRUeXBlO1xuICB9KTtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5cbmZ1bmN0aW9uIGNvbXBpbGVNYXAoLyogbGlzdHMuLi4gKi8pIHtcbiAgdmFyIHJlc3VsdCA9IHtcbiAgICAgICAgc2NhbGFyOiB7fSxcbiAgICAgICAgc2VxdWVuY2U6IHt9LFxuICAgICAgICBtYXBwaW5nOiB7fSxcbiAgICAgICAgZmFsbGJhY2s6IHt9LFxuICAgICAgICBtdWx0aToge1xuICAgICAgICAgIHNjYWxhcjogW10sXG4gICAgICAgICAgc2VxdWVuY2U6IFtdLFxuICAgICAgICAgIG1hcHBpbmc6IFtdLFxuICAgICAgICAgIGZhbGxiYWNrOiBbXVxuICAgICAgICB9XG4gICAgICB9LCBpbmRleCwgbGVuZ3RoO1xuXG4gIGZ1bmN0aW9uIGNvbGxlY3RUeXBlKHR5cGUpIHtcbiAgICBpZiAodHlwZS5tdWx0aSkge1xuICAgICAgcmVzdWx0Lm11bHRpW3R5cGUua2luZF0ucHVzaCh0eXBlKTtcbiAgICAgIHJlc3VsdC5tdWx0aVsnZmFsbGJhY2snXS5wdXNoKHR5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRbdHlwZS5raW5kXVt0eXBlLnRhZ10gPSByZXN1bHRbJ2ZhbGxiYWNrJ11bdHlwZS50YWddID0gdHlwZTtcbiAgICB9XG4gIH1cblxuICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICBhcmd1bWVudHNbaW5kZXhdLmZvckVhY2goY29sbGVjdFR5cGUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cblxuZnVuY3Rpb24gU2NoZW1hJDEoZGVmaW5pdGlvbikge1xuICByZXR1cm4gdGhpcy5leHRlbmQoZGVmaW5pdGlvbik7XG59XG5cblxuU2NoZW1hJDEucHJvdG90eXBlLmV4dGVuZCA9IGZ1bmN0aW9uIGV4dGVuZChkZWZpbml0aW9uKSB7XG4gIHZhciBpbXBsaWNpdCA9IFtdO1xuICB2YXIgZXhwbGljaXQgPSBbXTtcblxuICBpZiAoZGVmaW5pdGlvbiBpbnN0YW5jZW9mIHR5cGUpIHtcbiAgICAvLyBTY2hlbWEuZXh0ZW5kKHR5cGUpXG4gICAgZXhwbGljaXQucHVzaChkZWZpbml0aW9uKTtcblxuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZGVmaW5pdGlvbikpIHtcbiAgICAvLyBTY2hlbWEuZXh0ZW5kKFsgdHlwZTEsIHR5cGUyLCAuLi4gXSlcbiAgICBleHBsaWNpdCA9IGV4cGxpY2l0LmNvbmNhdChkZWZpbml0aW9uKTtcblxuICB9IGVsc2UgaWYgKGRlZmluaXRpb24gJiYgKEFycmF5LmlzQXJyYXkoZGVmaW5pdGlvbi5pbXBsaWNpdCkgfHwgQXJyYXkuaXNBcnJheShkZWZpbml0aW9uLmV4cGxpY2l0KSkpIHtcbiAgICAvLyBTY2hlbWEuZXh0ZW5kKHsgZXhwbGljaXQ6IFsgdHlwZTEsIHR5cGUyLCAuLi4gXSwgaW1wbGljaXQ6IFsgdHlwZTEsIHR5cGUyLCAuLi4gXSB9KVxuICAgIGlmIChkZWZpbml0aW9uLmltcGxpY2l0KSBpbXBsaWNpdCA9IGltcGxpY2l0LmNvbmNhdChkZWZpbml0aW9uLmltcGxpY2l0KTtcbiAgICBpZiAoZGVmaW5pdGlvbi5leHBsaWNpdCkgZXhwbGljaXQgPSBleHBsaWNpdC5jb25jYXQoZGVmaW5pdGlvbi5leHBsaWNpdCk7XG5cbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgZXhjZXB0aW9uKCdTY2hlbWEuZXh0ZW5kIGFyZ3VtZW50IHNob3VsZCBiZSBhIFR5cGUsIFsgVHlwZSBdLCAnICtcbiAgICAgICdvciBhIHNjaGVtYSBkZWZpbml0aW9uICh7IGltcGxpY2l0OiBbLi4uXSwgZXhwbGljaXQ6IFsuLi5dIH0pJyk7XG4gIH1cblxuICBpbXBsaWNpdC5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlJDEpIHtcbiAgICBpZiAoISh0eXBlJDEgaW5zdGFuY2VvZiB0eXBlKSkge1xuICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbignU3BlY2lmaWVkIGxpc3Qgb2YgWUFNTCB0eXBlcyAob3IgYSBzaW5nbGUgVHlwZSBvYmplY3QpIGNvbnRhaW5zIGEgbm9uLVR5cGUgb2JqZWN0LicpO1xuICAgIH1cblxuICAgIGlmICh0eXBlJDEubG9hZEtpbmQgJiYgdHlwZSQxLmxvYWRLaW5kICE9PSAnc2NhbGFyJykge1xuICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbignVGhlcmUgaXMgYSBub24tc2NhbGFyIHR5cGUgaW4gdGhlIGltcGxpY2l0IGxpc3Qgb2YgYSBzY2hlbWEuIEltcGxpY2l0IHJlc29sdmluZyBvZiBzdWNoIHR5cGVzIGlzIG5vdCBzdXBwb3J0ZWQuJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGUkMS5tdWx0aSkge1xuICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbignVGhlcmUgaXMgYSBtdWx0aSB0eXBlIGluIHRoZSBpbXBsaWNpdCBsaXN0IG9mIGEgc2NoZW1hLiBNdWx0aSB0YWdzIGNhbiBvbmx5IGJlIGxpc3RlZCBhcyBleHBsaWNpdC4nKTtcbiAgICB9XG4gIH0pO1xuXG4gIGV4cGxpY2l0LmZvckVhY2goZnVuY3Rpb24gKHR5cGUkMSkge1xuICAgIGlmICghKHR5cGUkMSBpbnN0YW5jZW9mIHR5cGUpKSB7XG4gICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uKCdTcGVjaWZpZWQgbGlzdCBvZiBZQU1MIHR5cGVzIChvciBhIHNpbmdsZSBUeXBlIG9iamVjdCkgY29udGFpbnMgYSBub24tVHlwZSBvYmplY3QuJyk7XG4gICAgfVxuICB9KTtcblxuICB2YXIgcmVzdWx0ID0gT2JqZWN0LmNyZWF0ZShTY2hlbWEkMS5wcm90b3R5cGUpO1xuXG4gIHJlc3VsdC5pbXBsaWNpdCA9ICh0aGlzLmltcGxpY2l0IHx8IFtdKS5jb25jYXQoaW1wbGljaXQpO1xuICByZXN1bHQuZXhwbGljaXQgPSAodGhpcy5leHBsaWNpdCB8fCBbXSkuY29uY2F0KGV4cGxpY2l0KTtcblxuICByZXN1bHQuY29tcGlsZWRJbXBsaWNpdCA9IGNvbXBpbGVMaXN0KHJlc3VsdCwgJ2ltcGxpY2l0Jyk7XG4gIHJlc3VsdC5jb21waWxlZEV4cGxpY2l0ID0gY29tcGlsZUxpc3QocmVzdWx0LCAnZXhwbGljaXQnKTtcbiAgcmVzdWx0LmNvbXBpbGVkVHlwZU1hcCAgPSBjb21waWxlTWFwKHJlc3VsdC5jb21waWxlZEltcGxpY2l0LCByZXN1bHQuY29tcGlsZWRFeHBsaWNpdCk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblxudmFyIHNjaGVtYSA9IFNjaGVtYSQxO1xuXG52YXIgc3RyID0gbmV3IHR5cGUoJ3RhZzp5YW1sLm9yZywyMDAyOnN0cicsIHtcbiAga2luZDogJ3NjYWxhcicsXG4gIGNvbnN0cnVjdDogZnVuY3Rpb24gKGRhdGEpIHsgcmV0dXJuIGRhdGEgIT09IG51bGwgPyBkYXRhIDogJyc7IH1cbn0pO1xuXG52YXIgc2VxID0gbmV3IHR5cGUoJ3RhZzp5YW1sLm9yZywyMDAyOnNlcScsIHtcbiAga2luZDogJ3NlcXVlbmNlJyxcbiAgY29uc3RydWN0OiBmdW5jdGlvbiAoZGF0YSkgeyByZXR1cm4gZGF0YSAhPT0gbnVsbCA/IGRhdGEgOiBbXTsgfVxufSk7XG5cbnZhciBtYXAgPSBuZXcgdHlwZSgndGFnOnlhbWwub3JnLDIwMDI6bWFwJywge1xuICBraW5kOiAnbWFwcGluZycsXG4gIGNvbnN0cnVjdDogZnVuY3Rpb24gKGRhdGEpIHsgcmV0dXJuIGRhdGEgIT09IG51bGwgPyBkYXRhIDoge307IH1cbn0pO1xuXG52YXIgZmFpbHNhZmUgPSBuZXcgc2NoZW1hKHtcbiAgZXhwbGljaXQ6IFtcbiAgICBzdHIsXG4gICAgc2VxLFxuICAgIG1hcFxuICBdXG59KTtcblxuZnVuY3Rpb24gcmVzb2x2ZVlhbWxOdWxsKGRhdGEpIHtcbiAgaWYgKGRhdGEgPT09IG51bGwpIHJldHVybiB0cnVlO1xuXG4gIHZhciBtYXggPSBkYXRhLmxlbmd0aDtcblxuICByZXR1cm4gKG1heCA9PT0gMSAmJiBkYXRhID09PSAnficpIHx8XG4gICAgICAgICAobWF4ID09PSA0ICYmIChkYXRhID09PSAnbnVsbCcgfHwgZGF0YSA9PT0gJ051bGwnIHx8IGRhdGEgPT09ICdOVUxMJykpO1xufVxuXG5mdW5jdGlvbiBjb25zdHJ1Y3RZYW1sTnVsbCgpIHtcbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzTnVsbChvYmplY3QpIHtcbiAgcmV0dXJuIG9iamVjdCA9PT0gbnVsbDtcbn1cblxudmFyIF9udWxsID0gbmV3IHR5cGUoJ3RhZzp5YW1sLm9yZywyMDAyOm51bGwnLCB7XG4gIGtpbmQ6ICdzY2FsYXInLFxuICByZXNvbHZlOiByZXNvbHZlWWFtbE51bGwsXG4gIGNvbnN0cnVjdDogY29uc3RydWN0WWFtbE51bGwsXG4gIHByZWRpY2F0ZTogaXNOdWxsLFxuICByZXByZXNlbnQ6IHtcbiAgICBjYW5vbmljYWw6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICd+JzsgICAgfSxcbiAgICBsb3dlcmNhc2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICdudWxsJzsgfSxcbiAgICB1cHBlcmNhc2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICdOVUxMJzsgfSxcbiAgICBjYW1lbGNhc2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICdOdWxsJzsgfSxcbiAgICBlbXB0eTogICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuICcnOyAgICAgfVxuICB9LFxuICBkZWZhdWx0U3R5bGU6ICdsb3dlcmNhc2UnXG59KTtcblxuZnVuY3Rpb24gcmVzb2x2ZVlhbWxCb29sZWFuKGRhdGEpIHtcbiAgaWYgKGRhdGEgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblxuICB2YXIgbWF4ID0gZGF0YS5sZW5ndGg7XG5cbiAgcmV0dXJuIChtYXggPT09IDQgJiYgKGRhdGEgPT09ICd0cnVlJyB8fCBkYXRhID09PSAnVHJ1ZScgfHwgZGF0YSA9PT0gJ1RSVUUnKSkgfHxcbiAgICAgICAgIChtYXggPT09IDUgJiYgKGRhdGEgPT09ICdmYWxzZScgfHwgZGF0YSA9PT0gJ0ZhbHNlJyB8fCBkYXRhID09PSAnRkFMU0UnKSk7XG59XG5cbmZ1bmN0aW9uIGNvbnN0cnVjdFlhbWxCb29sZWFuKGRhdGEpIHtcbiAgcmV0dXJuIGRhdGEgPT09ICd0cnVlJyB8fFxuICAgICAgICAgZGF0YSA9PT0gJ1RydWUnIHx8XG4gICAgICAgICBkYXRhID09PSAnVFJVRSc7XG59XG5cbmZ1bmN0aW9uIGlzQm9vbGVhbihvYmplY3QpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmplY3QpID09PSAnW29iamVjdCBCb29sZWFuXSc7XG59XG5cbnZhciBib29sID0gbmV3IHR5cGUoJ3RhZzp5YW1sLm9yZywyMDAyOmJvb2wnLCB7XG4gIGtpbmQ6ICdzY2FsYXInLFxuICByZXNvbHZlOiByZXNvbHZlWWFtbEJvb2xlYW4sXG4gIGNvbnN0cnVjdDogY29uc3RydWN0WWFtbEJvb2xlYW4sXG4gIHByZWRpY2F0ZTogaXNCb29sZWFuLFxuICByZXByZXNlbnQ6IHtcbiAgICBsb3dlcmNhc2U6IGZ1bmN0aW9uIChvYmplY3QpIHsgcmV0dXJuIG9iamVjdCA/ICd0cnVlJyA6ICdmYWxzZSc7IH0sXG4gICAgdXBwZXJjYXNlOiBmdW5jdGlvbiAob2JqZWN0KSB7IHJldHVybiBvYmplY3QgPyAnVFJVRScgOiAnRkFMU0UnOyB9LFxuICAgIGNhbWVsY2FzZTogZnVuY3Rpb24gKG9iamVjdCkgeyByZXR1cm4gb2JqZWN0ID8gJ1RydWUnIDogJ0ZhbHNlJzsgfVxuICB9LFxuICBkZWZhdWx0U3R5bGU6ICdsb3dlcmNhc2UnXG59KTtcblxuZnVuY3Rpb24gaXNIZXhDb2RlKGMpIHtcbiAgcmV0dXJuICgoMHgzMC8qIDAgKi8gPD0gYykgJiYgKGMgPD0gMHgzOS8qIDkgKi8pKSB8fFxuICAgICAgICAgKCgweDQxLyogQSAqLyA8PSBjKSAmJiAoYyA8PSAweDQ2LyogRiAqLykpIHx8XG4gICAgICAgICAoKDB4NjEvKiBhICovIDw9IGMpICYmIChjIDw9IDB4NjYvKiBmICovKSk7XG59XG5cbmZ1bmN0aW9uIGlzT2N0Q29kZShjKSB7XG4gIHJldHVybiAoKDB4MzAvKiAwICovIDw9IGMpICYmIChjIDw9IDB4MzcvKiA3ICovKSk7XG59XG5cbmZ1bmN0aW9uIGlzRGVjQ29kZShjKSB7XG4gIHJldHVybiAoKDB4MzAvKiAwICovIDw9IGMpICYmIChjIDw9IDB4MzkvKiA5ICovKSk7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVZYW1sSW50ZWdlcihkYXRhKSB7XG4gIGlmIChkYXRhID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIG1heCA9IGRhdGEubGVuZ3RoLFxuICAgICAgaW5kZXggPSAwLFxuICAgICAgaGFzRGlnaXRzID0gZmFsc2UsXG4gICAgICBjaDtcblxuICBpZiAoIW1heCkgcmV0dXJuIGZhbHNlO1xuXG4gIGNoID0gZGF0YVtpbmRleF07XG5cbiAgLy8gc2lnblxuICBpZiAoY2ggPT09ICctJyB8fCBjaCA9PT0gJysnKSB7XG4gICAgY2ggPSBkYXRhWysraW5kZXhdO1xuICB9XG5cbiAgaWYgKGNoID09PSAnMCcpIHtcbiAgICAvLyAwXG4gICAgaWYgKGluZGV4ICsgMSA9PT0gbWF4KSByZXR1cm4gdHJ1ZTtcbiAgICBjaCA9IGRhdGFbKytpbmRleF07XG5cbiAgICAvLyBiYXNlIDIsIGJhc2UgOCwgYmFzZSAxNlxuXG4gICAgaWYgKGNoID09PSAnYicpIHtcbiAgICAgIC8vIGJhc2UgMlxuICAgICAgaW5kZXgrKztcblxuICAgICAgZm9yICg7IGluZGV4IDwgbWF4OyBpbmRleCsrKSB7XG4gICAgICAgIGNoID0gZGF0YVtpbmRleF07XG4gICAgICAgIGlmIChjaCA9PT0gJ18nKSBjb250aW51ZTtcbiAgICAgICAgaWYgKGNoICE9PSAnMCcgJiYgY2ggIT09ICcxJykgcmV0dXJuIGZhbHNlO1xuICAgICAgICBoYXNEaWdpdHMgPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhhc0RpZ2l0cyAmJiBjaCAhPT0gJ18nO1xuICAgIH1cblxuXG4gICAgaWYgKGNoID09PSAneCcpIHtcbiAgICAgIC8vIGJhc2UgMTZcbiAgICAgIGluZGV4Kys7XG5cbiAgICAgIGZvciAoOyBpbmRleCA8IG1heDsgaW5kZXgrKykge1xuICAgICAgICBjaCA9IGRhdGFbaW5kZXhdO1xuICAgICAgICBpZiAoY2ggPT09ICdfJykgY29udGludWU7XG4gICAgICAgIGlmICghaXNIZXhDb2RlKGRhdGEuY2hhckNvZGVBdChpbmRleCkpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGhhc0RpZ2l0cyA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzRGlnaXRzICYmIGNoICE9PSAnXyc7XG4gICAgfVxuXG5cbiAgICBpZiAoY2ggPT09ICdvJykge1xuICAgICAgLy8gYmFzZSA4XG4gICAgICBpbmRleCsrO1xuXG4gICAgICBmb3IgKDsgaW5kZXggPCBtYXg7IGluZGV4KyspIHtcbiAgICAgICAgY2ggPSBkYXRhW2luZGV4XTtcbiAgICAgICAgaWYgKGNoID09PSAnXycpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIWlzT2N0Q29kZShkYXRhLmNoYXJDb2RlQXQoaW5kZXgpKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBoYXNEaWdpdHMgPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhhc0RpZ2l0cyAmJiBjaCAhPT0gJ18nO1xuICAgIH1cbiAgfVxuXG4gIC8vIGJhc2UgMTAgKGV4Y2VwdCAwKVxuXG4gIC8vIHZhbHVlIHNob3VsZCBub3Qgc3RhcnQgd2l0aCBgX2A7XG4gIGlmIChjaCA9PT0gJ18nKSByZXR1cm4gZmFsc2U7XG5cbiAgZm9yICg7IGluZGV4IDwgbWF4OyBpbmRleCsrKSB7XG4gICAgY2ggPSBkYXRhW2luZGV4XTtcbiAgICBpZiAoY2ggPT09ICdfJykgY29udGludWU7XG4gICAgaWYgKCFpc0RlY0NvZGUoZGF0YS5jaGFyQ29kZUF0KGluZGV4KSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaGFzRGlnaXRzID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIFNob3VsZCBoYXZlIGRpZ2l0cyBhbmQgc2hvdWxkIG5vdCBlbmQgd2l0aCBgX2BcbiAgaWYgKCFoYXNEaWdpdHMgfHwgY2ggPT09ICdfJykgcmV0dXJuIGZhbHNlO1xuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBjb25zdHJ1Y3RZYW1sSW50ZWdlcihkYXRhKSB7XG4gIHZhciB2YWx1ZSA9IGRhdGEsIHNpZ24gPSAxLCBjaDtcblxuICBpZiAodmFsdWUuaW5kZXhPZignXycpICE9PSAtMSkge1xuICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXy9nLCAnJyk7XG4gIH1cblxuICBjaCA9IHZhbHVlWzBdO1xuXG4gIGlmIChjaCA9PT0gJy0nIHx8IGNoID09PSAnKycpIHtcbiAgICBpZiAoY2ggPT09ICctJykgc2lnbiA9IC0xO1xuICAgIHZhbHVlID0gdmFsdWUuc2xpY2UoMSk7XG4gICAgY2ggPSB2YWx1ZVswXTtcbiAgfVxuXG4gIGlmICh2YWx1ZSA9PT0gJzAnKSByZXR1cm4gMDtcblxuICBpZiAoY2ggPT09ICcwJykge1xuICAgIGlmICh2YWx1ZVsxXSA9PT0gJ2InKSByZXR1cm4gc2lnbiAqIHBhcnNlSW50KHZhbHVlLnNsaWNlKDIpLCAyKTtcbiAgICBpZiAodmFsdWVbMV0gPT09ICd4JykgcmV0dXJuIHNpZ24gKiBwYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgMTYpO1xuICAgIGlmICh2YWx1ZVsxXSA9PT0gJ28nKSByZXR1cm4gc2lnbiAqIHBhcnNlSW50KHZhbHVlLnNsaWNlKDIpLCA4KTtcbiAgfVxuXG4gIHJldHVybiBzaWduICogcGFyc2VJbnQodmFsdWUsIDEwKTtcbn1cblxuZnVuY3Rpb24gaXNJbnRlZ2VyKG9iamVjdCkge1xuICByZXR1cm4gKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmplY3QpKSA9PT0gJ1tvYmplY3QgTnVtYmVyXScgJiZcbiAgICAgICAgIChvYmplY3QgJSAxID09PSAwICYmICFjb21tb24uaXNOZWdhdGl2ZVplcm8ob2JqZWN0KSk7XG59XG5cbnZhciBpbnQgPSBuZXcgdHlwZSgndGFnOnlhbWwub3JnLDIwMDI6aW50Jywge1xuICBraW5kOiAnc2NhbGFyJyxcbiAgcmVzb2x2ZTogcmVzb2x2ZVlhbWxJbnRlZ2VyLFxuICBjb25zdHJ1Y3Q6IGNvbnN0cnVjdFlhbWxJbnRlZ2VyLFxuICBwcmVkaWNhdGU6IGlzSW50ZWdlcixcbiAgcmVwcmVzZW50OiB7XG4gICAgYmluYXJ5OiAgICAgIGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiA+PSAwID8gJzBiJyArIG9iai50b1N0cmluZygyKSA6ICctMGInICsgb2JqLnRvU3RyaW5nKDIpLnNsaWNlKDEpOyB9LFxuICAgIG9jdGFsOiAgICAgICBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogPj0gMCA/ICcwbycgICsgb2JqLnRvU3RyaW5nKDgpIDogJy0wbycgICsgb2JqLnRvU3RyaW5nKDgpLnNsaWNlKDEpOyB9LFxuICAgIGRlY2ltYWw6ICAgICBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmoudG9TdHJpbmcoMTApOyB9LFxuICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICBoZXhhZGVjaW1hbDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqID49IDAgPyAnMHgnICsgb2JqLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpIDogICctMHgnICsgb2JqLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpLnNsaWNlKDEpOyB9XG4gIH0sXG4gIGRlZmF1bHRTdHlsZTogJ2RlY2ltYWwnLFxuICBzdHlsZUFsaWFzZXM6IHtcbiAgICBiaW5hcnk6ICAgICAgWyAyLCAgJ2JpbicgXSxcbiAgICBvY3RhbDogICAgICAgWyA4LCAgJ29jdCcgXSxcbiAgICBkZWNpbWFsOiAgICAgWyAxMCwgJ2RlYycgXSxcbiAgICBoZXhhZGVjaW1hbDogWyAxNiwgJ2hleCcgXVxuICB9XG59KTtcblxudmFyIFlBTUxfRkxPQVRfUEFUVEVSTiA9IG5ldyBSZWdFeHAoXG4gIC8vIDIuNWU0LCAyLjUgYW5kIGludGVnZXJzXG4gICdeKD86Wy0rXT8oPzpbMC05XVswLTlfXSopKD86XFxcXC5bMC05X10qKT8oPzpbZUVdWy0rXT9bMC05XSspPycgK1xuICAvLyAuMmU0LCAuMlxuICAvLyBzcGVjaWFsIGNhc2UsIHNlZW1zIG5vdCBmcm9tIHNwZWNcbiAgJ3xcXFxcLlswLTlfXSsoPzpbZUVdWy0rXT9bMC05XSspPycgK1xuICAvLyAuaW5mXG4gICd8Wy0rXT9cXFxcLig/OmluZnxJbmZ8SU5GKScgK1xuICAvLyAubmFuXG4gICd8XFxcXC4oPzpuYW58TmFOfE5BTikpJCcpO1xuXG5mdW5jdGlvbiByZXNvbHZlWWFtbEZsb2F0KGRhdGEpIHtcbiAgaWYgKGRhdGEgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblxuICBpZiAoIVlBTUxfRkxPQVRfUEFUVEVSTi50ZXN0KGRhdGEpIHx8XG4gICAgICAvLyBRdWljayBoYWNrIHRvIG5vdCBhbGxvdyBpbnRlZ2VycyBlbmQgd2l0aCBgX2BcbiAgICAgIC8vIFByb2JhYmx5IHNob3VsZCB1cGRhdGUgcmVnZXhwICYgY2hlY2sgc3BlZWRcbiAgICAgIGRhdGFbZGF0YS5sZW5ndGggLSAxXSA9PT0gJ18nKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGNvbnN0cnVjdFlhbWxGbG9hdChkYXRhKSB7XG4gIHZhciB2YWx1ZSwgc2lnbjtcblxuICB2YWx1ZSAgPSBkYXRhLnJlcGxhY2UoL18vZywgJycpLnRvTG93ZXJDYXNlKCk7XG4gIHNpZ24gICA9IHZhbHVlWzBdID09PSAnLScgPyAtMSA6IDE7XG5cbiAgaWYgKCcrLScuaW5kZXhPZih2YWx1ZVswXSkgPj0gMCkge1xuICAgIHZhbHVlID0gdmFsdWUuc2xpY2UoMSk7XG4gIH1cblxuICBpZiAodmFsdWUgPT09ICcuaW5mJykge1xuICAgIHJldHVybiAoc2lnbiA9PT0gMSkgPyBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkgOiBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7XG5cbiAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJy5uYW4nKSB7XG4gICAgcmV0dXJuIE5hTjtcbiAgfVxuICByZXR1cm4gc2lnbiAqIHBhcnNlRmxvYXQodmFsdWUsIDEwKTtcbn1cblxuXG52YXIgU0NJRU5USUZJQ19XSVRIT1VUX0RPVCA9IC9eWy0rXT9bMC05XStlLztcblxuZnVuY3Rpb24gcmVwcmVzZW50WWFtbEZsb2F0KG9iamVjdCwgc3R5bGUpIHtcbiAgdmFyIHJlcztcblxuICBpZiAoaXNOYU4ob2JqZWN0KSkge1xuICAgIHN3aXRjaCAoc3R5bGUpIHtcbiAgICAgIGNhc2UgJ2xvd2VyY2FzZSc6IHJldHVybiAnLm5hbic7XG4gICAgICBjYXNlICd1cHBlcmNhc2UnOiByZXR1cm4gJy5OQU4nO1xuICAgICAgY2FzZSAnY2FtZWxjYXNlJzogcmV0dXJuICcuTmFOJztcbiAgICB9XG4gIH0gZWxzZSBpZiAoTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZID09PSBvYmplY3QpIHtcbiAgICBzd2l0Y2ggKHN0eWxlKSB7XG4gICAgICBjYXNlICdsb3dlcmNhc2UnOiByZXR1cm4gJy5pbmYnO1xuICAgICAgY2FzZSAndXBwZXJjYXNlJzogcmV0dXJuICcuSU5GJztcbiAgICAgIGNhc2UgJ2NhbWVsY2FzZSc6IHJldHVybiAnLkluZic7XG4gICAgfVxuICB9IGVsc2UgaWYgKE51bWJlci5ORUdBVElWRV9JTkZJTklUWSA9PT0gb2JqZWN0KSB7XG4gICAgc3dpdGNoIChzdHlsZSkge1xuICAgICAgY2FzZSAnbG93ZXJjYXNlJzogcmV0dXJuICctLmluZic7XG4gICAgICBjYXNlICd1cHBlcmNhc2UnOiByZXR1cm4gJy0uSU5GJztcbiAgICAgIGNhc2UgJ2NhbWVsY2FzZSc6IHJldHVybiAnLS5JbmYnO1xuICAgIH1cbiAgfSBlbHNlIGlmIChjb21tb24uaXNOZWdhdGl2ZVplcm8ob2JqZWN0KSkge1xuICAgIHJldHVybiAnLTAuMCc7XG4gIH1cblxuICByZXMgPSBvYmplY3QudG9TdHJpbmcoMTApO1xuXG4gIC8vIEpTIHN0cmluZ2lmaWVyIGNhbiBidWlsZCBzY2llbnRpZmljIGZvcm1hdCB3aXRob3V0IGRvdHM6IDVlLTEwMCxcbiAgLy8gd2hpbGUgWUFNTCByZXF1cmVzIGRvdDogNS5lLTEwMC4gRml4IGl0IHdpdGggc2ltcGxlIGhhY2tcblxuICByZXR1cm4gU0NJRU5USUZJQ19XSVRIT1VUX0RPVC50ZXN0KHJlcykgPyByZXMucmVwbGFjZSgnZScsICcuZScpIDogcmVzO1xufVxuXG5mdW5jdGlvbiBpc0Zsb2F0KG9iamVjdCkge1xuICByZXR1cm4gKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmplY3QpID09PSAnW29iamVjdCBOdW1iZXJdJykgJiZcbiAgICAgICAgIChvYmplY3QgJSAxICE9PSAwIHx8IGNvbW1vbi5pc05lZ2F0aXZlWmVybyhvYmplY3QpKTtcbn1cblxudmFyIGZsb2F0ID0gbmV3IHR5cGUoJ3RhZzp5YW1sLm9yZywyMDAyOmZsb2F0Jywge1xuICBraW5kOiAnc2NhbGFyJyxcbiAgcmVzb2x2ZTogcmVzb2x2ZVlhbWxGbG9hdCxcbiAgY29uc3RydWN0OiBjb25zdHJ1Y3RZYW1sRmxvYXQsXG4gIHByZWRpY2F0ZTogaXNGbG9hdCxcbiAgcmVwcmVzZW50OiByZXByZXNlbnRZYW1sRmxvYXQsXG4gIGRlZmF1bHRTdHlsZTogJ2xvd2VyY2FzZSdcbn0pO1xuXG52YXIganNvbiA9IGZhaWxzYWZlLmV4dGVuZCh7XG4gIGltcGxpY2l0OiBbXG4gICAgX251bGwsXG4gICAgYm9vbCxcbiAgICBpbnQsXG4gICAgZmxvYXRcbiAgXVxufSk7XG5cbnZhciBjb3JlID0ganNvbjtcblxudmFyIFlBTUxfREFURV9SRUdFWFAgPSBuZXcgUmVnRXhwKFxuICAnXihbMC05XVswLTldWzAtOV1bMC05XSknICAgICAgICAgICsgLy8gWzFdIHllYXJcbiAgJy0oWzAtOV1bMC05XSknICAgICAgICAgICAgICAgICAgICArIC8vIFsyXSBtb250aFxuICAnLShbMC05XVswLTldKSQnKTsgICAgICAgICAgICAgICAgICAgLy8gWzNdIGRheVxuXG52YXIgWUFNTF9USU1FU1RBTVBfUkVHRVhQID0gbmV3IFJlZ0V4cChcbiAgJ14oWzAtOV1bMC05XVswLTldWzAtOV0pJyAgICAgICAgICArIC8vIFsxXSB5ZWFyXG4gICctKFswLTldWzAtOV0/KScgICAgICAgICAgICAgICAgICAgKyAvLyBbMl0gbW9udGhcbiAgJy0oWzAtOV1bMC05XT8pJyAgICAgICAgICAgICAgICAgICArIC8vIFszXSBkYXlcbiAgJyg/OltUdF18WyBcXFxcdF0rKScgICAgICAgICAgICAgICAgICsgLy8gLi4uXG4gICcoWzAtOV1bMC05XT8pJyAgICAgICAgICAgICAgICAgICAgKyAvLyBbNF0gaG91clxuICAnOihbMC05XVswLTldKScgICAgICAgICAgICAgICAgICAgICsgLy8gWzVdIG1pbnV0ZVxuICAnOihbMC05XVswLTldKScgICAgICAgICAgICAgICAgICAgICsgLy8gWzZdIHNlY29uZFxuICAnKD86XFxcXC4oWzAtOV0qKSk/JyAgICAgICAgICAgICAgICAgKyAvLyBbN10gZnJhY3Rpb25cbiAgJyg/OlsgXFxcXHRdKihafChbLStdKShbMC05XVswLTldPyknICsgLy8gWzhdIHR6IFs5XSB0el9zaWduIFsxMF0gdHpfaG91clxuICAnKD86OihbMC05XVswLTldKSk/KSk/JCcpOyAgICAgICAgICAgLy8gWzExXSB0el9taW51dGVcblxuZnVuY3Rpb24gcmVzb2x2ZVlhbWxUaW1lc3RhbXAoZGF0YSkge1xuICBpZiAoZGF0YSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICBpZiAoWUFNTF9EQVRFX1JFR0VYUC5leGVjKGRhdGEpICE9PSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKFlBTUxfVElNRVNUQU1QX1JFR0VYUC5leGVjKGRhdGEpICE9PSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBjb25zdHJ1Y3RZYW1sVGltZXN0YW1wKGRhdGEpIHtcbiAgdmFyIG1hdGNoLCB5ZWFyLCBtb250aCwgZGF5LCBob3VyLCBtaW51dGUsIHNlY29uZCwgZnJhY3Rpb24gPSAwLFxuICAgICAgZGVsdGEgPSBudWxsLCB0el9ob3VyLCB0el9taW51dGUsIGRhdGU7XG5cbiAgbWF0Y2ggPSBZQU1MX0RBVEVfUkVHRVhQLmV4ZWMoZGF0YSk7XG4gIGlmIChtYXRjaCA9PT0gbnVsbCkgbWF0Y2ggPSBZQU1MX1RJTUVTVEFNUF9SRUdFWFAuZXhlYyhkYXRhKTtcblxuICBpZiAobWF0Y2ggPT09IG51bGwpIHRocm93IG5ldyBFcnJvcignRGF0ZSByZXNvbHZlIGVycm9yJyk7XG5cbiAgLy8gbWF0Y2g6IFsxXSB5ZWFyIFsyXSBtb250aCBbM10gZGF5XG5cbiAgeWVhciA9ICsobWF0Y2hbMV0pO1xuICBtb250aCA9ICsobWF0Y2hbMl0pIC0gMTsgLy8gSlMgbW9udGggc3RhcnRzIHdpdGggMFxuICBkYXkgPSArKG1hdGNoWzNdKTtcblxuICBpZiAoIW1hdGNoWzRdKSB7IC8vIG5vIGhvdXJcbiAgICByZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoeWVhciwgbW9udGgsIGRheSkpO1xuICB9XG5cbiAgLy8gbWF0Y2g6IFs0XSBob3VyIFs1XSBtaW51dGUgWzZdIHNlY29uZCBbN10gZnJhY3Rpb25cblxuICBob3VyID0gKyhtYXRjaFs0XSk7XG4gIG1pbnV0ZSA9ICsobWF0Y2hbNV0pO1xuICBzZWNvbmQgPSArKG1hdGNoWzZdKTtcblxuICBpZiAobWF0Y2hbN10pIHtcbiAgICBmcmFjdGlvbiA9IG1hdGNoWzddLnNsaWNlKDAsIDMpO1xuICAgIHdoaWxlIChmcmFjdGlvbi5sZW5ndGggPCAzKSB7IC8vIG1pbGxpLXNlY29uZHNcbiAgICAgIGZyYWN0aW9uICs9ICcwJztcbiAgICB9XG4gICAgZnJhY3Rpb24gPSArZnJhY3Rpb247XG4gIH1cblxuICAvLyBtYXRjaDogWzhdIHR6IFs5XSB0el9zaWduIFsxMF0gdHpfaG91ciBbMTFdIHR6X21pbnV0ZVxuXG4gIGlmIChtYXRjaFs5XSkge1xuICAgIHR6X2hvdXIgPSArKG1hdGNoWzEwXSk7XG4gICAgdHpfbWludXRlID0gKyhtYXRjaFsxMV0gfHwgMCk7XG4gICAgZGVsdGEgPSAodHpfaG91ciAqIDYwICsgdHpfbWludXRlKSAqIDYwMDAwOyAvLyBkZWx0YSBpbiBtaWxpLXNlY29uZHNcbiAgICBpZiAobWF0Y2hbOV0gPT09ICctJykgZGVsdGEgPSAtZGVsdGE7XG4gIH1cblxuICBkYXRlID0gbmV3IERhdGUoRGF0ZS5VVEMoeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlLCBzZWNvbmQsIGZyYWN0aW9uKSk7XG5cbiAgaWYgKGRlbHRhKSBkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgLSBkZWx0YSk7XG5cbiAgcmV0dXJuIGRhdGU7XG59XG5cbmZ1bmN0aW9uIHJlcHJlc2VudFlhbWxUaW1lc3RhbXAob2JqZWN0IC8qLCBzdHlsZSovKSB7XG4gIHJldHVybiBvYmplY3QudG9JU09TdHJpbmcoKTtcbn1cblxudmFyIHRpbWVzdGFtcCA9IG5ldyB0eXBlKCd0YWc6eWFtbC5vcmcsMjAwMjp0aW1lc3RhbXAnLCB7XG4gIGtpbmQ6ICdzY2FsYXInLFxuICByZXNvbHZlOiByZXNvbHZlWWFtbFRpbWVzdGFtcCxcbiAgY29uc3RydWN0OiBjb25zdHJ1Y3RZYW1sVGltZXN0YW1wLFxuICBpbnN0YW5jZU9mOiBEYXRlLFxuICByZXByZXNlbnQ6IHJlcHJlc2VudFlhbWxUaW1lc3RhbXBcbn0pO1xuXG5mdW5jdGlvbiByZXNvbHZlWWFtbE1lcmdlKGRhdGEpIHtcbiAgcmV0dXJuIGRhdGEgPT09ICc8PCcgfHwgZGF0YSA9PT0gbnVsbDtcbn1cblxudmFyIG1lcmdlID0gbmV3IHR5cGUoJ3RhZzp5YW1sLm9yZywyMDAyOm1lcmdlJywge1xuICBraW5kOiAnc2NhbGFyJyxcbiAgcmVzb2x2ZTogcmVzb2x2ZVlhbWxNZXJnZVxufSk7XG5cbi8qZXNsaW50LWRpc2FibGUgbm8tYml0d2lzZSovXG5cblxuXG5cblxuLy8gWyA2NCwgNjUsIDY2IF0gLT4gWyBwYWRkaW5nLCBDUiwgTEYgXVxudmFyIEJBU0U2NF9NQVAgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cXG5cXHInO1xuXG5cbmZ1bmN0aW9uIHJlc29sdmVZYW1sQmluYXJ5KGRhdGEpIHtcbiAgaWYgKGRhdGEgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblxuICB2YXIgY29kZSwgaWR4LCBiaXRsZW4gPSAwLCBtYXggPSBkYXRhLmxlbmd0aCwgbWFwID0gQkFTRTY0X01BUDtcblxuICAvLyBDb252ZXJ0IG9uZSBieSBvbmUuXG4gIGZvciAoaWR4ID0gMDsgaWR4IDwgbWF4OyBpZHgrKykge1xuICAgIGNvZGUgPSBtYXAuaW5kZXhPZihkYXRhLmNoYXJBdChpZHgpKTtcblxuICAgIC8vIFNraXAgQ1IvTEZcbiAgICBpZiAoY29kZSA+IDY0KSBjb250aW51ZTtcblxuICAgIC8vIEZhaWwgb24gaWxsZWdhbCBjaGFyYWN0ZXJzXG4gICAgaWYgKGNvZGUgPCAwKSByZXR1cm4gZmFsc2U7XG5cbiAgICBiaXRsZW4gKz0gNjtcbiAgfVxuXG4gIC8vIElmIHRoZXJlIGFyZSBhbnkgYml0cyBsZWZ0LCBzb3VyY2Ugd2FzIGNvcnJ1cHRlZFxuICByZXR1cm4gKGJpdGxlbiAlIDgpID09PSAwO1xufVxuXG5mdW5jdGlvbiBjb25zdHJ1Y3RZYW1sQmluYXJ5KGRhdGEpIHtcbiAgdmFyIGlkeCwgdGFpbGJpdHMsXG4gICAgICBpbnB1dCA9IGRhdGEucmVwbGFjZSgvW1xcclxcbj1dL2csICcnKSwgLy8gcmVtb3ZlIENSL0xGICYgcGFkZGluZyB0byBzaW1wbGlmeSBzY2FuXG4gICAgICBtYXggPSBpbnB1dC5sZW5ndGgsXG4gICAgICBtYXAgPSBCQVNFNjRfTUFQLFxuICAgICAgYml0cyA9IDAsXG4gICAgICByZXN1bHQgPSBbXTtcblxuICAvLyBDb2xsZWN0IGJ5IDYqNCBiaXRzICgzIGJ5dGVzKVxuXG4gIGZvciAoaWR4ID0gMDsgaWR4IDwgbWF4OyBpZHgrKykge1xuICAgIGlmICgoaWR4ICUgNCA9PT0gMCkgJiYgaWR4KSB7XG4gICAgICByZXN1bHQucHVzaCgoYml0cyA+PiAxNikgJiAweEZGKTtcbiAgICAgIHJlc3VsdC5wdXNoKChiaXRzID4+IDgpICYgMHhGRik7XG4gICAgICByZXN1bHQucHVzaChiaXRzICYgMHhGRik7XG4gICAgfVxuXG4gICAgYml0cyA9IChiaXRzIDw8IDYpIHwgbWFwLmluZGV4T2YoaW5wdXQuY2hhckF0KGlkeCkpO1xuICB9XG5cbiAgLy8gRHVtcCB0YWlsXG5cbiAgdGFpbGJpdHMgPSAobWF4ICUgNCkgKiA2O1xuXG4gIGlmICh0YWlsYml0cyA9PT0gMCkge1xuICAgIHJlc3VsdC5wdXNoKChiaXRzID4+IDE2KSAmIDB4RkYpO1xuICAgIHJlc3VsdC5wdXNoKChiaXRzID4+IDgpICYgMHhGRik7XG4gICAgcmVzdWx0LnB1c2goYml0cyAmIDB4RkYpO1xuICB9IGVsc2UgaWYgKHRhaWxiaXRzID09PSAxOCkge1xuICAgIHJlc3VsdC5wdXNoKChiaXRzID4+IDEwKSAmIDB4RkYpO1xuICAgIHJlc3VsdC5wdXNoKChiaXRzID4+IDIpICYgMHhGRik7XG4gIH0gZWxzZSBpZiAodGFpbGJpdHMgPT09IDEyKSB7XG4gICAgcmVzdWx0LnB1c2goKGJpdHMgPj4gNCkgJiAweEZGKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgVWludDhBcnJheShyZXN1bHQpO1xufVxuXG5mdW5jdGlvbiByZXByZXNlbnRZYW1sQmluYXJ5KG9iamVjdCAvKiwgc3R5bGUqLykge1xuICB2YXIgcmVzdWx0ID0gJycsIGJpdHMgPSAwLCBpZHgsIHRhaWwsXG4gICAgICBtYXggPSBvYmplY3QubGVuZ3RoLFxuICAgICAgbWFwID0gQkFTRTY0X01BUDtcblxuICAvLyBDb252ZXJ0IGV2ZXJ5IHRocmVlIGJ5dGVzIHRvIDQgQVNDSUkgY2hhcmFjdGVycy5cblxuICBmb3IgKGlkeCA9IDA7IGlkeCA8IG1heDsgaWR4KyspIHtcbiAgICBpZiAoKGlkeCAlIDMgPT09IDApICYmIGlkeCkge1xuICAgICAgcmVzdWx0ICs9IG1hcFsoYml0cyA+PiAxOCkgJiAweDNGXTtcbiAgICAgIHJlc3VsdCArPSBtYXBbKGJpdHMgPj4gMTIpICYgMHgzRl07XG4gICAgICByZXN1bHQgKz0gbWFwWyhiaXRzID4+IDYpICYgMHgzRl07XG4gICAgICByZXN1bHQgKz0gbWFwW2JpdHMgJiAweDNGXTtcbiAgICB9XG5cbiAgICBiaXRzID0gKGJpdHMgPDwgOCkgKyBvYmplY3RbaWR4XTtcbiAgfVxuXG4gIC8vIER1bXAgdGFpbFxuXG4gIHRhaWwgPSBtYXggJSAzO1xuXG4gIGlmICh0YWlsID09PSAwKSB7XG4gICAgcmVzdWx0ICs9IG1hcFsoYml0cyA+PiAxOCkgJiAweDNGXTtcbiAgICByZXN1bHQgKz0gbWFwWyhiaXRzID4+IDEyKSAmIDB4M0ZdO1xuICAgIHJlc3VsdCArPSBtYXBbKGJpdHMgPj4gNikgJiAweDNGXTtcbiAgICByZXN1bHQgKz0gbWFwW2JpdHMgJiAweDNGXTtcbiAgfSBlbHNlIGlmICh0YWlsID09PSAyKSB7XG4gICAgcmVzdWx0ICs9IG1hcFsoYml0cyA+PiAxMCkgJiAweDNGXTtcbiAgICByZXN1bHQgKz0gbWFwWyhiaXRzID4+IDQpICYgMHgzRl07XG4gICAgcmVzdWx0ICs9IG1hcFsoYml0cyA8PCAyKSAmIDB4M0ZdO1xuICAgIHJlc3VsdCArPSBtYXBbNjRdO1xuICB9IGVsc2UgaWYgKHRhaWwgPT09IDEpIHtcbiAgICByZXN1bHQgKz0gbWFwWyhiaXRzID4+IDIpICYgMHgzRl07XG4gICAgcmVzdWx0ICs9IG1hcFsoYml0cyA8PCA0KSAmIDB4M0ZdO1xuICAgIHJlc3VsdCArPSBtYXBbNjRdO1xuICAgIHJlc3VsdCArPSBtYXBbNjRdO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gaXNCaW5hcnkob2JqKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gICdbb2JqZWN0IFVpbnQ4QXJyYXldJztcbn1cblxudmFyIGJpbmFyeSA9IG5ldyB0eXBlKCd0YWc6eWFtbC5vcmcsMjAwMjpiaW5hcnknLCB7XG4gIGtpbmQ6ICdzY2FsYXInLFxuICByZXNvbHZlOiByZXNvbHZlWWFtbEJpbmFyeSxcbiAgY29uc3RydWN0OiBjb25zdHJ1Y3RZYW1sQmluYXJ5LFxuICBwcmVkaWNhdGU6IGlzQmluYXJ5LFxuICByZXByZXNlbnQ6IHJlcHJlc2VudFlhbWxCaW5hcnlcbn0pO1xuXG52YXIgX2hhc093blByb3BlcnR5JDMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF90b1N0cmluZyQyICAgICAgID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuZnVuY3Rpb24gcmVzb2x2ZVlhbWxPbWFwKGRhdGEpIHtcbiAgaWYgKGRhdGEgPT09IG51bGwpIHJldHVybiB0cnVlO1xuXG4gIHZhciBvYmplY3RLZXlzID0gW10sIGluZGV4LCBsZW5ndGgsIHBhaXIsIHBhaXJLZXksIHBhaXJIYXNLZXksXG4gICAgICBvYmplY3QgPSBkYXRhO1xuXG4gIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBvYmplY3QubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgIHBhaXIgPSBvYmplY3RbaW5kZXhdO1xuICAgIHBhaXJIYXNLZXkgPSBmYWxzZTtcblxuICAgIGlmIChfdG9TdHJpbmckMi5jYWxsKHBhaXIpICE9PSAnW29iamVjdCBPYmplY3RdJykgcmV0dXJuIGZhbHNlO1xuXG4gICAgZm9yIChwYWlyS2V5IGluIHBhaXIpIHtcbiAgICAgIGlmIChfaGFzT3duUHJvcGVydHkkMy5jYWxsKHBhaXIsIHBhaXJLZXkpKSB7XG4gICAgICAgIGlmICghcGFpckhhc0tleSkgcGFpckhhc0tleSA9IHRydWU7XG4gICAgICAgIGVsc2UgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghcGFpckhhc0tleSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgaWYgKG9iamVjdEtleXMuaW5kZXhPZihwYWlyS2V5KSA9PT0gLTEpIG9iamVjdEtleXMucHVzaChwYWlyS2V5KTtcbiAgICBlbHNlIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBjb25zdHJ1Y3RZYW1sT21hcChkYXRhKSB7XG4gIHJldHVybiBkYXRhICE9PSBudWxsID8gZGF0YSA6IFtdO1xufVxuXG52YXIgb21hcCA9IG5ldyB0eXBlKCd0YWc6eWFtbC5vcmcsMjAwMjpvbWFwJywge1xuICBraW5kOiAnc2VxdWVuY2UnLFxuICByZXNvbHZlOiByZXNvbHZlWWFtbE9tYXAsXG4gIGNvbnN0cnVjdDogY29uc3RydWN0WWFtbE9tYXBcbn0pO1xuXG52YXIgX3RvU3RyaW5nJDEgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG5mdW5jdGlvbiByZXNvbHZlWWFtbFBhaXJzKGRhdGEpIHtcbiAgaWYgKGRhdGEgPT09IG51bGwpIHJldHVybiB0cnVlO1xuXG4gIHZhciBpbmRleCwgbGVuZ3RoLCBwYWlyLCBrZXlzLCByZXN1bHQsXG4gICAgICBvYmplY3QgPSBkYXRhO1xuXG4gIHJlc3VsdCA9IG5ldyBBcnJheShvYmplY3QubGVuZ3RoKTtcblxuICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gb2JqZWN0Lmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICBwYWlyID0gb2JqZWN0W2luZGV4XTtcblxuICAgIGlmIChfdG9TdHJpbmckMS5jYWxsKHBhaXIpICE9PSAnW29iamVjdCBPYmplY3RdJykgcmV0dXJuIGZhbHNlO1xuXG4gICAga2V5cyA9IE9iamVjdC5rZXlzKHBhaXIpO1xuXG4gICAgaWYgKGtleXMubGVuZ3RoICE9PSAxKSByZXR1cm4gZmFsc2U7XG5cbiAgICByZXN1bHRbaW5kZXhdID0gWyBrZXlzWzBdLCBwYWlyW2tleXNbMF1dIF07XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gY29uc3RydWN0WWFtbFBhaXJzKGRhdGEpIHtcbiAgaWYgKGRhdGEgPT09IG51bGwpIHJldHVybiBbXTtcblxuICB2YXIgaW5kZXgsIGxlbmd0aCwgcGFpciwga2V5cywgcmVzdWx0LFxuICAgICAgb2JqZWN0ID0gZGF0YTtcblxuICByZXN1bHQgPSBuZXcgQXJyYXkob2JqZWN0Lmxlbmd0aCk7XG5cbiAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IG9iamVjdC5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgcGFpciA9IG9iamVjdFtpbmRleF07XG5cbiAgICBrZXlzID0gT2JqZWN0LmtleXMocGFpcik7XG5cbiAgICByZXN1bHRbaW5kZXhdID0gWyBrZXlzWzBdLCBwYWlyW2tleXNbMF1dIF07XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG52YXIgcGFpcnMgPSBuZXcgdHlwZSgndGFnOnlhbWwub3JnLDIwMDI6cGFpcnMnLCB7XG4gIGtpbmQ6ICdzZXF1ZW5jZScsXG4gIHJlc29sdmU6IHJlc29sdmVZYW1sUGFpcnMsXG4gIGNvbnN0cnVjdDogY29uc3RydWN0WWFtbFBhaXJzXG59KTtcblxudmFyIF9oYXNPd25Qcm9wZXJ0eSQyID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuZnVuY3Rpb24gcmVzb2x2ZVlhbWxTZXQoZGF0YSkge1xuICBpZiAoZGF0YSA9PT0gbnVsbCkgcmV0dXJuIHRydWU7XG5cbiAgdmFyIGtleSwgb2JqZWN0ID0gZGF0YTtcblxuICBmb3IgKGtleSBpbiBvYmplY3QpIHtcbiAgICBpZiAoX2hhc093blByb3BlcnR5JDIuY2FsbChvYmplY3QsIGtleSkpIHtcbiAgICAgIGlmIChvYmplY3Rba2V5XSAhPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBjb25zdHJ1Y3RZYW1sU2V0KGRhdGEpIHtcbiAgcmV0dXJuIGRhdGEgIT09IG51bGwgPyBkYXRhIDoge307XG59XG5cbnZhciBzZXQgPSBuZXcgdHlwZSgndGFnOnlhbWwub3JnLDIwMDI6c2V0Jywge1xuICBraW5kOiAnbWFwcGluZycsXG4gIHJlc29sdmU6IHJlc29sdmVZYW1sU2V0LFxuICBjb25zdHJ1Y3Q6IGNvbnN0cnVjdFlhbWxTZXRcbn0pO1xuXG52YXIgX2RlZmF1bHQgPSBjb3JlLmV4dGVuZCh7XG4gIGltcGxpY2l0OiBbXG4gICAgdGltZXN0YW1wLFxuICAgIG1lcmdlXG4gIF0sXG4gIGV4cGxpY2l0OiBbXG4gICAgYmluYXJ5LFxuICAgIG9tYXAsXG4gICAgcGFpcnMsXG4gICAgc2V0XG4gIF1cbn0pO1xuXG4vKmVzbGludC1kaXNhYmxlIG1heC1sZW4sbm8tdXNlLWJlZm9yZS1kZWZpbmUqL1xuXG5cblxuXG5cblxuXG52YXIgX2hhc093blByb3BlcnR5JDEgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG5cbnZhciBDT05URVhUX0ZMT1dfSU4gICA9IDE7XG52YXIgQ09OVEVYVF9GTE9XX09VVCAgPSAyO1xudmFyIENPTlRFWFRfQkxPQ0tfSU4gID0gMztcbnZhciBDT05URVhUX0JMT0NLX09VVCA9IDQ7XG5cblxudmFyIENIT01QSU5HX0NMSVAgID0gMTtcbnZhciBDSE9NUElOR19TVFJJUCA9IDI7XG52YXIgQ0hPTVBJTkdfS0VFUCAgPSAzO1xuXG5cbnZhciBQQVRURVJOX05PTl9QUklOVEFCTEUgICAgICAgICA9IC9bXFx4MDAtXFx4MDhcXHgwQlxceDBDXFx4MEUtXFx4MUZcXHg3Ri1cXHg4NFxceDg2LVxceDlGXFx1RkZGRVxcdUZGRkZdfFtcXHVEODAwLVxcdURCRkZdKD8hW1xcdURDMDAtXFx1REZGRl0pfCg/OlteXFx1RDgwMC1cXHVEQkZGXXxeKVtcXHVEQzAwLVxcdURGRkZdLztcbnZhciBQQVRURVJOX05PTl9BU0NJSV9MSU5FX0JSRUFLUyA9IC9bXFx4ODVcXHUyMDI4XFx1MjAyOV0vO1xudmFyIFBBVFRFUk5fRkxPV19JTkRJQ0FUT1JTICAgICAgID0gL1ssXFxbXFxdXFx7XFx9XS87XG52YXIgUEFUVEVSTl9UQUdfSEFORExFICAgICAgICAgICAgPSAvXig/OiF8ISF8IVthLXpcXC1dKyEpJC9pO1xudmFyIFBBVFRFUk5fVEFHX1VSSSAgICAgICAgICAgICAgID0gL14oPzohfFteLFxcW1xcXVxce1xcfV0pKD86JVswLTlhLWZdezJ9fFswLTlhLXpcXC0jO1xcL1xcPzpAJj1cXCtcXCQsX1xcLiF+XFwqJ1xcKFxcKVxcW1xcXV0pKiQvaTtcblxuXG5mdW5jdGlvbiBfY2xhc3Mob2JqKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKTsgfVxuXG5mdW5jdGlvbiBpc19FT0woYykge1xuICByZXR1cm4gKGMgPT09IDB4MEEvKiBMRiAqLykgfHwgKGMgPT09IDB4MEQvKiBDUiAqLyk7XG59XG5cbmZ1bmN0aW9uIGlzX1dISVRFX1NQQUNFKGMpIHtcbiAgcmV0dXJuIChjID09PSAweDA5LyogVGFiICovKSB8fCAoYyA9PT0gMHgyMC8qIFNwYWNlICovKTtcbn1cblxuZnVuY3Rpb24gaXNfV1NfT1JfRU9MKGMpIHtcbiAgcmV0dXJuIChjID09PSAweDA5LyogVGFiICovKSB8fFxuICAgICAgICAgKGMgPT09IDB4MjAvKiBTcGFjZSAqLykgfHxcbiAgICAgICAgIChjID09PSAweDBBLyogTEYgKi8pIHx8XG4gICAgICAgICAoYyA9PT0gMHgwRC8qIENSICovKTtcbn1cblxuZnVuY3Rpb24gaXNfRkxPV19JTkRJQ0FUT1IoYykge1xuICByZXR1cm4gYyA9PT0gMHgyQy8qICwgKi8gfHxcbiAgICAgICAgIGMgPT09IDB4NUIvKiBbICovIHx8XG4gICAgICAgICBjID09PSAweDVELyogXSAqLyB8fFxuICAgICAgICAgYyA9PT0gMHg3Qi8qIHsgKi8gfHxcbiAgICAgICAgIGMgPT09IDB4N0QvKiB9ICovO1xufVxuXG5mdW5jdGlvbiBmcm9tSGV4Q29kZShjKSB7XG4gIHZhciBsYztcblxuICBpZiAoKDB4MzAvKiAwICovIDw9IGMpICYmIChjIDw9IDB4MzkvKiA5ICovKSkge1xuICAgIHJldHVybiBjIC0gMHgzMDtcbiAgfVxuXG4gIC8qZXNsaW50LWRpc2FibGUgbm8tYml0d2lzZSovXG4gIGxjID0gYyB8IDB4MjA7XG5cbiAgaWYgKCgweDYxLyogYSAqLyA8PSBsYykgJiYgKGxjIDw9IDB4NjYvKiBmICovKSkge1xuICAgIHJldHVybiBsYyAtIDB4NjEgKyAxMDtcbiAgfVxuXG4gIHJldHVybiAtMTtcbn1cblxuZnVuY3Rpb24gZXNjYXBlZEhleExlbihjKSB7XG4gIGlmIChjID09PSAweDc4LyogeCAqLykgeyByZXR1cm4gMjsgfVxuICBpZiAoYyA9PT0gMHg3NS8qIHUgKi8pIHsgcmV0dXJuIDQ7IH1cbiAgaWYgKGMgPT09IDB4NTUvKiBVICovKSB7IHJldHVybiA4OyB9XG4gIHJldHVybiAwO1xufVxuXG5mdW5jdGlvbiBmcm9tRGVjaW1hbENvZGUoYykge1xuICBpZiAoKDB4MzAvKiAwICovIDw9IGMpICYmIChjIDw9IDB4MzkvKiA5ICovKSkge1xuICAgIHJldHVybiBjIC0gMHgzMDtcbiAgfVxuXG4gIHJldHVybiAtMTtcbn1cblxuZnVuY3Rpb24gc2ltcGxlRXNjYXBlU2VxdWVuY2UoYykge1xuICAvKiBlc2xpbnQtZGlzYWJsZSBpbmRlbnQgKi9cbiAgcmV0dXJuIChjID09PSAweDMwLyogMCAqLykgPyAnXFx4MDAnIDpcbiAgICAgICAgKGMgPT09IDB4NjEvKiBhICovKSA/ICdcXHgwNycgOlxuICAgICAgICAoYyA9PT0gMHg2Mi8qIGIgKi8pID8gJ1xceDA4JyA6XG4gICAgICAgIChjID09PSAweDc0LyogdCAqLykgPyAnXFx4MDknIDpcbiAgICAgICAgKGMgPT09IDB4MDkvKiBUYWIgKi8pID8gJ1xceDA5JyA6XG4gICAgICAgIChjID09PSAweDZFLyogbiAqLykgPyAnXFx4MEEnIDpcbiAgICAgICAgKGMgPT09IDB4NzYvKiB2ICovKSA/ICdcXHgwQicgOlxuICAgICAgICAoYyA9PT0gMHg2Ni8qIGYgKi8pID8gJ1xceDBDJyA6XG4gICAgICAgIChjID09PSAweDcyLyogciAqLykgPyAnXFx4MEQnIDpcbiAgICAgICAgKGMgPT09IDB4NjUvKiBlICovKSA/ICdcXHgxQicgOlxuICAgICAgICAoYyA9PT0gMHgyMC8qIFNwYWNlICovKSA/ICcgJyA6XG4gICAgICAgIChjID09PSAweDIyLyogXCIgKi8pID8gJ1xceDIyJyA6XG4gICAgICAgIChjID09PSAweDJGLyogLyAqLykgPyAnLycgOlxuICAgICAgICAoYyA9PT0gMHg1Qy8qIFxcICovKSA/ICdcXHg1QycgOlxuICAgICAgICAoYyA9PT0gMHg0RS8qIE4gKi8pID8gJ1xceDg1JyA6XG4gICAgICAgIChjID09PSAweDVGLyogXyAqLykgPyAnXFx4QTAnIDpcbiAgICAgICAgKGMgPT09IDB4NEMvKiBMICovKSA/ICdcXHUyMDI4JyA6XG4gICAgICAgIChjID09PSAweDUwLyogUCAqLykgPyAnXFx1MjAyOScgOiAnJztcbn1cblxuZnVuY3Rpb24gY2hhckZyb21Db2RlcG9pbnQoYykge1xuICBpZiAoYyA8PSAweEZGRkYpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjKTtcbiAgfVxuICAvLyBFbmNvZGUgVVRGLTE2IHN1cnJvZ2F0ZSBwYWlyXG4gIC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1VURi0xNiNDb2RlX3BvaW50c19VLjJCMDEwMDAwX3RvX1UuMkIxMEZGRkZcbiAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoXG4gICAgKChjIC0gMHgwMTAwMDApID4+IDEwKSArIDB4RDgwMCxcbiAgICAoKGMgLSAweDAxMDAwMCkgJiAweDAzRkYpICsgMHhEQzAwXG4gICk7XG59XG5cbnZhciBzaW1wbGVFc2NhcGVDaGVjayA9IG5ldyBBcnJheSgyNTYpOyAvLyBpbnRlZ2VyLCBmb3IgZmFzdCBhY2Nlc3NcbnZhciBzaW1wbGVFc2NhcGVNYXAgPSBuZXcgQXJyYXkoMjU2KTtcbmZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyBpKyspIHtcbiAgc2ltcGxlRXNjYXBlQ2hlY2tbaV0gPSBzaW1wbGVFc2NhcGVTZXF1ZW5jZShpKSA/IDEgOiAwO1xuICBzaW1wbGVFc2NhcGVNYXBbaV0gPSBzaW1wbGVFc2NhcGVTZXF1ZW5jZShpKTtcbn1cblxuXG5mdW5jdGlvbiBTdGF0ZSQxKGlucHV0LCBvcHRpb25zKSB7XG4gIHRoaXMuaW5wdXQgPSBpbnB1dDtcblxuICB0aGlzLmZpbGVuYW1lICA9IG9wdGlvbnNbJ2ZpbGVuYW1lJ10gIHx8IG51bGw7XG4gIHRoaXMuc2NoZW1hICAgID0gb3B0aW9uc1snc2NoZW1hJ10gICAgfHwgX2RlZmF1bHQ7XG4gIHRoaXMub25XYXJuaW5nID0gb3B0aW9uc1snb25XYXJuaW5nJ10gfHwgbnVsbDtcbiAgLy8gKEhpZGRlbikgUmVtb3ZlPyBtYWtlcyB0aGUgbG9hZGVyIHRvIGV4cGVjdCBZQU1MIDEuMSBkb2N1bWVudHNcbiAgLy8gaWYgc3VjaCBkb2N1bWVudHMgaGF2ZSBubyBleHBsaWNpdCAlWUFNTCBkaXJlY3RpdmVcbiAgdGhpcy5sZWdhY3kgICAgPSBvcHRpb25zWydsZWdhY3knXSAgICB8fCBmYWxzZTtcblxuICB0aGlzLmpzb24gICAgICA9IG9wdGlvbnNbJ2pzb24nXSAgICAgIHx8IGZhbHNlO1xuICB0aGlzLmxpc3RlbmVyICA9IG9wdGlvbnNbJ2xpc3RlbmVyJ10gIHx8IG51bGw7XG5cbiAgdGhpcy5pbXBsaWNpdFR5cGVzID0gdGhpcy5zY2hlbWEuY29tcGlsZWRJbXBsaWNpdDtcbiAgdGhpcy50eXBlTWFwICAgICAgID0gdGhpcy5zY2hlbWEuY29tcGlsZWRUeXBlTWFwO1xuXG4gIHRoaXMubGVuZ3RoICAgICA9IGlucHV0Lmxlbmd0aDtcbiAgdGhpcy5wb3NpdGlvbiAgID0gMDtcbiAgdGhpcy5saW5lICAgICAgID0gMDtcbiAgdGhpcy5saW5lU3RhcnQgID0gMDtcbiAgdGhpcy5saW5lSW5kZW50ID0gMDtcblxuICAvLyBwb3NpdGlvbiBvZiBmaXJzdCBsZWFkaW5nIHRhYiBpbiB0aGUgY3VycmVudCBsaW5lLFxuICAvLyB1c2VkIHRvIG1ha2Ugc3VyZSB0aGVyZSBhcmUgbm8gdGFicyBpbiB0aGUgaW5kZW50YXRpb25cbiAgdGhpcy5maXJzdFRhYkluTGluZSA9IC0xO1xuXG4gIHRoaXMuZG9jdW1lbnRzID0gW107XG5cbiAgLypcbiAgdGhpcy52ZXJzaW9uO1xuICB0aGlzLmNoZWNrTGluZUJyZWFrcztcbiAgdGhpcy50YWdNYXA7XG4gIHRoaXMuYW5jaG9yTWFwO1xuICB0aGlzLnRhZztcbiAgdGhpcy5hbmNob3I7XG4gIHRoaXMua2luZDtcbiAgdGhpcy5yZXN1bHQ7Ki9cblxufVxuXG5cbmZ1bmN0aW9uIGdlbmVyYXRlRXJyb3Ioc3RhdGUsIG1lc3NhZ2UpIHtcbiAgdmFyIG1hcmsgPSB7XG4gICAgbmFtZTogICAgIHN0YXRlLmZpbGVuYW1lLFxuICAgIGJ1ZmZlcjogICBzdGF0ZS5pbnB1dC5zbGljZSgwLCAtMSksIC8vIG9taXQgdHJhaWxpbmcgXFwwXG4gICAgcG9zaXRpb246IHN0YXRlLnBvc2l0aW9uLFxuICAgIGxpbmU6ICAgICBzdGF0ZS5saW5lLFxuICAgIGNvbHVtbjogICBzdGF0ZS5wb3NpdGlvbiAtIHN0YXRlLmxpbmVTdGFydFxuICB9O1xuXG4gIG1hcmsuc25pcHBldCA9IHNuaXBwZXQobWFyayk7XG5cbiAgcmV0dXJuIG5ldyBleGNlcHRpb24obWVzc2FnZSwgbWFyayk7XG59XG5cbmZ1bmN0aW9uIHRocm93RXJyb3Ioc3RhdGUsIG1lc3NhZ2UpIHtcbiAgdGhyb3cgZ2VuZXJhdGVFcnJvcihzdGF0ZSwgbWVzc2FnZSk7XG59XG5cbmZ1bmN0aW9uIHRocm93V2FybmluZyhzdGF0ZSwgbWVzc2FnZSkge1xuICBpZiAoc3RhdGUub25XYXJuaW5nKSB7XG4gICAgc3RhdGUub25XYXJuaW5nLmNhbGwobnVsbCwgZ2VuZXJhdGVFcnJvcihzdGF0ZSwgbWVzc2FnZSkpO1xuICB9XG59XG5cblxudmFyIGRpcmVjdGl2ZUhhbmRsZXJzID0ge1xuXG4gIFlBTUw6IGZ1bmN0aW9uIGhhbmRsZVlhbWxEaXJlY3RpdmUoc3RhdGUsIG5hbWUsIGFyZ3MpIHtcblxuICAgIHZhciBtYXRjaCwgbWFqb3IsIG1pbm9yO1xuXG4gICAgaWYgKHN0YXRlLnZlcnNpb24gIT09IG51bGwpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICdkdXBsaWNhdGlvbiBvZiAlWUFNTCBkaXJlY3RpdmUnKTtcbiAgICB9XG5cbiAgICBpZiAoYXJncy5sZW5ndGggIT09IDEpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICdZQU1MIGRpcmVjdGl2ZSBhY2NlcHRzIGV4YWN0bHkgb25lIGFyZ3VtZW50Jyk7XG4gICAgfVxuXG4gICAgbWF0Y2ggPSAvXihbMC05XSspXFwuKFswLTldKykkLy5leGVjKGFyZ3NbMF0pO1xuXG4gICAgaWYgKG1hdGNoID09PSBudWxsKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnaWxsLWZvcm1lZCBhcmd1bWVudCBvZiB0aGUgWUFNTCBkaXJlY3RpdmUnKTtcbiAgICB9XG5cbiAgICBtYWpvciA9IHBhcnNlSW50KG1hdGNoWzFdLCAxMCk7XG4gICAgbWlub3IgPSBwYXJzZUludChtYXRjaFsyXSwgMTApO1xuXG4gICAgaWYgKG1ham9yICE9PSAxKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndW5hY2NlcHRhYmxlIFlBTUwgdmVyc2lvbiBvZiB0aGUgZG9jdW1lbnQnKTtcbiAgICB9XG5cbiAgICBzdGF0ZS52ZXJzaW9uID0gYXJnc1swXTtcbiAgICBzdGF0ZS5jaGVja0xpbmVCcmVha3MgPSAobWlub3IgPCAyKTtcblxuICAgIGlmIChtaW5vciAhPT0gMSAmJiBtaW5vciAhPT0gMikge1xuICAgICAgdGhyb3dXYXJuaW5nKHN0YXRlLCAndW5zdXBwb3J0ZWQgWUFNTCB2ZXJzaW9uIG9mIHRoZSBkb2N1bWVudCcpO1xuICAgIH1cbiAgfSxcblxuICBUQUc6IGZ1bmN0aW9uIGhhbmRsZVRhZ0RpcmVjdGl2ZShzdGF0ZSwgbmFtZSwgYXJncykge1xuXG4gICAgdmFyIGhhbmRsZSwgcHJlZml4O1xuXG4gICAgaWYgKGFyZ3MubGVuZ3RoICE9PSAyKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnVEFHIGRpcmVjdGl2ZSBhY2NlcHRzIGV4YWN0bHkgdHdvIGFyZ3VtZW50cycpO1xuICAgIH1cblxuICAgIGhhbmRsZSA9IGFyZ3NbMF07XG4gICAgcHJlZml4ID0gYXJnc1sxXTtcblxuICAgIGlmICghUEFUVEVSTl9UQUdfSEFORExFLnRlc3QoaGFuZGxlKSkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2lsbC1mb3JtZWQgdGFnIGhhbmRsZSAoZmlyc3QgYXJndW1lbnQpIG9mIHRoZSBUQUcgZGlyZWN0aXZlJyk7XG4gICAgfVxuXG4gICAgaWYgKF9oYXNPd25Qcm9wZXJ0eSQxLmNhbGwoc3RhdGUudGFnTWFwLCBoYW5kbGUpKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndGhlcmUgaXMgYSBwcmV2aW91c2x5IGRlY2xhcmVkIHN1ZmZpeCBmb3IgXCInICsgaGFuZGxlICsgJ1wiIHRhZyBoYW5kbGUnKTtcbiAgICB9XG5cbiAgICBpZiAoIVBBVFRFUk5fVEFHX1VSSS50ZXN0KHByZWZpeCkpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICdpbGwtZm9ybWVkIHRhZyBwcmVmaXggKHNlY29uZCBhcmd1bWVudCkgb2YgdGhlIFRBRyBkaXJlY3RpdmUnKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgcHJlZml4ID0gZGVjb2RlVVJJQ29tcG9uZW50KHByZWZpeCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndGFnIHByZWZpeCBpcyBtYWxmb3JtZWQ6ICcgKyBwcmVmaXgpO1xuICAgIH1cblxuICAgIHN0YXRlLnRhZ01hcFtoYW5kbGVdID0gcHJlZml4O1xuICB9XG59O1xuXG5cbmZ1bmN0aW9uIGNhcHR1cmVTZWdtZW50KHN0YXRlLCBzdGFydCwgZW5kLCBjaGVja0pzb24pIHtcbiAgdmFyIF9wb3NpdGlvbiwgX2xlbmd0aCwgX2NoYXJhY3RlciwgX3Jlc3VsdDtcblxuICBpZiAoc3RhcnQgPCBlbmQpIHtcbiAgICBfcmVzdWx0ID0gc3RhdGUuaW5wdXQuc2xpY2Uoc3RhcnQsIGVuZCk7XG5cbiAgICBpZiAoY2hlY2tKc29uKSB7XG4gICAgICBmb3IgKF9wb3NpdGlvbiA9IDAsIF9sZW5ndGggPSBfcmVzdWx0Lmxlbmd0aDsgX3Bvc2l0aW9uIDwgX2xlbmd0aDsgX3Bvc2l0aW9uICs9IDEpIHtcbiAgICAgICAgX2NoYXJhY3RlciA9IF9yZXN1bHQuY2hhckNvZGVBdChfcG9zaXRpb24pO1xuICAgICAgICBpZiAoIShfY2hhcmFjdGVyID09PSAweDA5IHx8XG4gICAgICAgICAgICAgICgweDIwIDw9IF9jaGFyYWN0ZXIgJiYgX2NoYXJhY3RlciA8PSAweDEwRkZGRikpKSB7XG4gICAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2V4cGVjdGVkIHZhbGlkIEpTT04gY2hhcmFjdGVyJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKFBBVFRFUk5fTk9OX1BSSU5UQUJMRS50ZXN0KF9yZXN1bHQpKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndGhlIHN0cmVhbSBjb250YWlucyBub24tcHJpbnRhYmxlIGNoYXJhY3RlcnMnKTtcbiAgICB9XG5cbiAgICBzdGF0ZS5yZXN1bHQgKz0gX3Jlc3VsdDtcbiAgfVxufVxuXG5mdW5jdGlvbiBtZXJnZU1hcHBpbmdzKHN0YXRlLCBkZXN0aW5hdGlvbiwgc291cmNlLCBvdmVycmlkYWJsZUtleXMpIHtcbiAgdmFyIHNvdXJjZUtleXMsIGtleSwgaW5kZXgsIHF1YW50aXR5O1xuXG4gIGlmICghY29tbW9uLmlzT2JqZWN0KHNvdXJjZSkpIHtcbiAgICB0aHJvd0Vycm9yKHN0YXRlLCAnY2Fubm90IG1lcmdlIG1hcHBpbmdzOyB0aGUgcHJvdmlkZWQgc291cmNlIG9iamVjdCBpcyB1bmFjY2VwdGFibGUnKTtcbiAgfVxuXG4gIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuXG4gIGZvciAoaW5kZXggPSAwLCBxdWFudGl0eSA9IHNvdXJjZUtleXMubGVuZ3RoOyBpbmRleCA8IHF1YW50aXR5OyBpbmRleCArPSAxKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpbmRleF07XG5cbiAgICBpZiAoIV9oYXNPd25Qcm9wZXJ0eSQxLmNhbGwoZGVzdGluYXRpb24sIGtleSkpIHtcbiAgICAgIGRlc3RpbmF0aW9uW2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgIG92ZXJyaWRhYmxlS2V5c1trZXldID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RvcmVNYXBwaW5nUGFpcihzdGF0ZSwgX3Jlc3VsdCwgb3ZlcnJpZGFibGVLZXlzLCBrZXlUYWcsIGtleU5vZGUsIHZhbHVlTm9kZSxcbiAgc3RhcnRMaW5lLCBzdGFydExpbmVTdGFydCwgc3RhcnRQb3MpIHtcblxuICB2YXIgaW5kZXgsIHF1YW50aXR5O1xuXG4gIC8vIFRoZSBvdXRwdXQgaXMgYSBwbGFpbiBvYmplY3QgaGVyZSwgc28ga2V5cyBjYW4gb25seSBiZSBzdHJpbmdzLlxuICAvLyBXZSBuZWVkIHRvIGNvbnZlcnQga2V5Tm9kZSB0byBhIHN0cmluZywgYnV0IGRvaW5nIHNvIGNhbiBoYW5nIHRoZSBwcm9jZXNzXG4gIC8vIChkZWVwbHkgbmVzdGVkIGFycmF5cyB0aGF0IGV4cGxvZGUgZXhwb25lbnRpYWxseSB1c2luZyBhbGlhc2VzKS5cbiAgaWYgKEFycmF5LmlzQXJyYXkoa2V5Tm9kZSkpIHtcbiAgICBrZXlOb2RlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoa2V5Tm9kZSk7XG5cbiAgICBmb3IgKGluZGV4ID0gMCwgcXVhbnRpdHkgPSBrZXlOb2RlLmxlbmd0aDsgaW5kZXggPCBxdWFudGl0eTsgaW5kZXggKz0gMSkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoa2V5Tm9kZVtpbmRleF0pKSB7XG4gICAgICAgIHRocm93RXJyb3Ioc3RhdGUsICduZXN0ZWQgYXJyYXlzIGFyZSBub3Qgc3VwcG9ydGVkIGluc2lkZSBrZXlzJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Yga2V5Tm9kZSA9PT0gJ29iamVjdCcgJiYgX2NsYXNzKGtleU5vZGVbaW5kZXhdKSA9PT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcbiAgICAgICAga2V5Tm9kZVtpbmRleF0gPSAnW29iamVjdCBPYmplY3RdJztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBBdm9pZCBjb2RlIGV4ZWN1dGlvbiBpbiBsb2FkKCkgdmlhIHRvU3RyaW5nIHByb3BlcnR5XG4gIC8vIChzdGlsbCB1c2UgaXRzIG93biB0b1N0cmluZyBmb3IgYXJyYXlzLCB0aW1lc3RhbXBzLFxuICAvLyBhbmQgd2hhdGV2ZXIgdXNlciBzY2hlbWEgZXh0ZW5zaW9ucyBoYXBwZW4gdG8gaGF2ZSBAQHRvU3RyaW5nVGFnKVxuICBpZiAodHlwZW9mIGtleU5vZGUgPT09ICdvYmplY3QnICYmIF9jbGFzcyhrZXlOb2RlKSA9PT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcbiAgICBrZXlOb2RlID0gJ1tvYmplY3QgT2JqZWN0XSc7XG4gIH1cblxuXG4gIGtleU5vZGUgPSBTdHJpbmcoa2V5Tm9kZSk7XG5cbiAgaWYgKF9yZXN1bHQgPT09IG51bGwpIHtcbiAgICBfcmVzdWx0ID0ge307XG4gIH1cblxuICBpZiAoa2V5VGFnID09PSAndGFnOnlhbWwub3JnLDIwMDI6bWVyZ2UnKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWVOb2RlKSkge1xuICAgICAgZm9yIChpbmRleCA9IDAsIHF1YW50aXR5ID0gdmFsdWVOb2RlLmxlbmd0aDsgaW5kZXggPCBxdWFudGl0eTsgaW5kZXggKz0gMSkge1xuICAgICAgICBtZXJnZU1hcHBpbmdzKHN0YXRlLCBfcmVzdWx0LCB2YWx1ZU5vZGVbaW5kZXhdLCBvdmVycmlkYWJsZUtleXMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBtZXJnZU1hcHBpbmdzKHN0YXRlLCBfcmVzdWx0LCB2YWx1ZU5vZGUsIG92ZXJyaWRhYmxlS2V5cyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICghc3RhdGUuanNvbiAmJlxuICAgICAgICAhX2hhc093blByb3BlcnR5JDEuY2FsbChvdmVycmlkYWJsZUtleXMsIGtleU5vZGUpICYmXG4gICAgICAgIF9oYXNPd25Qcm9wZXJ0eSQxLmNhbGwoX3Jlc3VsdCwga2V5Tm9kZSkpIHtcbiAgICAgIHN0YXRlLmxpbmUgPSBzdGFydExpbmUgfHwgc3RhdGUubGluZTtcbiAgICAgIHN0YXRlLmxpbmVTdGFydCA9IHN0YXJ0TGluZVN0YXJ0IHx8IHN0YXRlLmxpbmVTdGFydDtcbiAgICAgIHN0YXRlLnBvc2l0aW9uID0gc3RhcnRQb3MgfHwgc3RhdGUucG9zaXRpb247XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnZHVwbGljYXRlZCBtYXBwaW5nIGtleScpO1xuICAgIH1cblxuICAgIC8vIHVzZWQgZm9yIHRoaXMgc3BlY2lmaWMga2V5IG9ubHkgYmVjYXVzZSBPYmplY3QuZGVmaW5lUHJvcGVydHkgaXMgc2xvd1xuICAgIGlmIChrZXlOb2RlID09PSAnX19wcm90b19fJykge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9yZXN1bHQsIGtleU5vZGUsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZhbHVlTm9kZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9yZXN1bHRba2V5Tm9kZV0gPSB2YWx1ZU5vZGU7XG4gICAgfVxuICAgIGRlbGV0ZSBvdmVycmlkYWJsZUtleXNba2V5Tm9kZV07XG4gIH1cblxuICByZXR1cm4gX3Jlc3VsdDtcbn1cblxuZnVuY3Rpb24gcmVhZExpbmVCcmVhayhzdGF0ZSkge1xuICB2YXIgY2g7XG5cbiAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICBpZiAoY2ggPT09IDB4MEEvKiBMRiAqLykge1xuICAgIHN0YXRlLnBvc2l0aW9uKys7XG4gIH0gZWxzZSBpZiAoY2ggPT09IDB4MEQvKiBDUiAqLykge1xuICAgIHN0YXRlLnBvc2l0aW9uKys7XG4gICAgaWYgKHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pID09PSAweDBBLyogTEYgKi8pIHtcbiAgICAgIHN0YXRlLnBvc2l0aW9uKys7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRocm93RXJyb3Ioc3RhdGUsICdhIGxpbmUgYnJlYWsgaXMgZXhwZWN0ZWQnKTtcbiAgfVxuXG4gIHN0YXRlLmxpbmUgKz0gMTtcbiAgc3RhdGUubGluZVN0YXJ0ID0gc3RhdGUucG9zaXRpb247XG4gIHN0YXRlLmZpcnN0VGFiSW5MaW5lID0gLTE7XG59XG5cbmZ1bmN0aW9uIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIGFsbG93Q29tbWVudHMsIGNoZWNrSW5kZW50KSB7XG4gIHZhciBsaW5lQnJlYWtzID0gMCxcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgd2hpbGUgKGNoICE9PSAwKSB7XG4gICAgd2hpbGUgKGlzX1dISVRFX1NQQUNFKGNoKSkge1xuICAgICAgaWYgKGNoID09PSAweDA5LyogVGFiICovICYmIHN0YXRlLmZpcnN0VGFiSW5MaW5lID09PSAtMSkge1xuICAgICAgICBzdGF0ZS5maXJzdFRhYkluTGluZSA9IHN0YXRlLnBvc2l0aW9uO1xuICAgICAgfVxuICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuICAgIH1cblxuICAgIGlmIChhbGxvd0NvbW1lbnRzICYmIGNoID09PSAweDIzLyogIyAqLykge1xuICAgICAgZG8ge1xuICAgICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgICB9IHdoaWxlIChjaCAhPT0gMHgwQS8qIExGICovICYmIGNoICE9PSAweDBELyogQ1IgKi8gJiYgY2ggIT09IDApO1xuICAgIH1cblxuICAgIGlmIChpc19FT0woY2gpKSB7XG4gICAgICByZWFkTGluZUJyZWFrKHN0YXRlKTtcblxuICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcbiAgICAgIGxpbmVCcmVha3MrKztcbiAgICAgIHN0YXRlLmxpbmVJbmRlbnQgPSAwO1xuXG4gICAgICB3aGlsZSAoY2ggPT09IDB4MjAvKiBTcGFjZSAqLykge1xuICAgICAgICBzdGF0ZS5saW5lSW5kZW50Kys7XG4gICAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKGNoZWNrSW5kZW50ICE9PSAtMSAmJiBsaW5lQnJlYWtzICE9PSAwICYmIHN0YXRlLmxpbmVJbmRlbnQgPCBjaGVja0luZGVudCkge1xuICAgIHRocm93V2FybmluZyhzdGF0ZSwgJ2RlZmljaWVudCBpbmRlbnRhdGlvbicpO1xuICB9XG5cbiAgcmV0dXJuIGxpbmVCcmVha3M7XG59XG5cbmZ1bmN0aW9uIHRlc3REb2N1bWVudFNlcGFyYXRvcihzdGF0ZSkge1xuICB2YXIgX3Bvc2l0aW9uID0gc3RhdGUucG9zaXRpb24sXG4gICAgICBjaDtcblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoX3Bvc2l0aW9uKTtcblxuICAvLyBDb25kaXRpb24gc3RhdGUucG9zaXRpb24gPT09IHN0YXRlLmxpbmVTdGFydCBpcyB0ZXN0ZWRcbiAgLy8gaW4gcGFyZW50IG9uIGVhY2ggY2FsbCwgZm9yIGVmZmljaWVuY3kuIE5vIG5lZWRzIHRvIHRlc3QgaGVyZSBhZ2Fpbi5cbiAgaWYgKChjaCA9PT0gMHgyRC8qIC0gKi8gfHwgY2ggPT09IDB4MkUvKiAuICovKSAmJlxuICAgICAgY2ggPT09IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoX3Bvc2l0aW9uICsgMSkgJiZcbiAgICAgIGNoID09PSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KF9wb3NpdGlvbiArIDIpKSB7XG5cbiAgICBfcG9zaXRpb24gKz0gMztcblxuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChfcG9zaXRpb24pO1xuXG4gICAgaWYgKGNoID09PSAwIHx8IGlzX1dTX09SX0VPTChjaCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gd3JpdGVGb2xkZWRMaW5lcyhzdGF0ZSwgY291bnQpIHtcbiAgaWYgKGNvdW50ID09PSAxKSB7XG4gICAgc3RhdGUucmVzdWx0ICs9ICcgJztcbiAgfSBlbHNlIGlmIChjb3VudCA+IDEpIHtcbiAgICBzdGF0ZS5yZXN1bHQgKz0gY29tbW9uLnJlcGVhdCgnXFxuJywgY291bnQgLSAxKTtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHJlYWRQbGFpblNjYWxhcihzdGF0ZSwgbm9kZUluZGVudCwgd2l0aGluRmxvd0NvbGxlY3Rpb24pIHtcbiAgdmFyIHByZWNlZGluZyxcbiAgICAgIGZvbGxvd2luZyxcbiAgICAgIGNhcHR1cmVTdGFydCxcbiAgICAgIGNhcHR1cmVFbmQsXG4gICAgICBoYXNQZW5kaW5nQ29udGVudCxcbiAgICAgIF9saW5lLFxuICAgICAgX2xpbmVTdGFydCxcbiAgICAgIF9saW5lSW5kZW50LFxuICAgICAgX2tpbmQgPSBzdGF0ZS5raW5kLFxuICAgICAgX3Jlc3VsdCA9IHN0YXRlLnJlc3VsdCxcbiAgICAgIGNoO1xuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgaWYgKGlzX1dTX09SX0VPTChjaCkgICAgICB8fFxuICAgICAgaXNfRkxPV19JTkRJQ0FUT1IoY2gpIHx8XG4gICAgICBjaCA9PT0gMHgyMy8qICMgKi8gICAgfHxcbiAgICAgIGNoID09PSAweDI2LyogJiAqLyAgICB8fFxuICAgICAgY2ggPT09IDB4MkEvKiAqICovICAgIHx8XG4gICAgICBjaCA9PT0gMHgyMS8qICEgKi8gICAgfHxcbiAgICAgIGNoID09PSAweDdDLyogfCAqLyAgICB8fFxuICAgICAgY2ggPT09IDB4M0UvKiA+ICovICAgIHx8XG4gICAgICBjaCA9PT0gMHgyNy8qICcgKi8gICAgfHxcbiAgICAgIGNoID09PSAweDIyLyogXCIgKi8gICAgfHxcbiAgICAgIGNoID09PSAweDI1LyogJSAqLyAgICB8fFxuICAgICAgY2ggPT09IDB4NDAvKiBAICovICAgIHx8XG4gICAgICBjaCA9PT0gMHg2MC8qIGAgKi8pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoY2ggPT09IDB4M0YvKiA/ICovIHx8IGNoID09PSAweDJELyogLSAqLykge1xuICAgIGZvbGxvd2luZyA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24gKyAxKTtcblxuICAgIGlmIChpc19XU19PUl9FT0woZm9sbG93aW5nKSB8fFxuICAgICAgICB3aXRoaW5GbG93Q29sbGVjdGlvbiAmJiBpc19GTE9XX0lORElDQVRPUihmb2xsb3dpbmcpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc3RhdGUua2luZCA9ICdzY2FsYXInO1xuICBzdGF0ZS5yZXN1bHQgPSAnJztcbiAgY2FwdHVyZVN0YXJ0ID0gY2FwdHVyZUVuZCA9IHN0YXRlLnBvc2l0aW9uO1xuICBoYXNQZW5kaW5nQ29udGVudCA9IGZhbHNlO1xuXG4gIHdoaWxlIChjaCAhPT0gMCkge1xuICAgIGlmIChjaCA9PT0gMHgzQS8qIDogKi8pIHtcbiAgICAgIGZvbGxvd2luZyA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24gKyAxKTtcblxuICAgICAgaWYgKGlzX1dTX09SX0VPTChmb2xsb3dpbmcpIHx8XG4gICAgICAgICAgd2l0aGluRmxvd0NvbGxlY3Rpb24gJiYgaXNfRkxPV19JTkRJQ0FUT1IoZm9sbG93aW5nKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgIH0gZWxzZSBpZiAoY2ggPT09IDB4MjMvKiAjICovKSB7XG4gICAgICBwcmVjZWRpbmcgPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uIC0gMSk7XG5cbiAgICAgIGlmIChpc19XU19PUl9FT0wocHJlY2VkaW5nKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgIH0gZWxzZSBpZiAoKHN0YXRlLnBvc2l0aW9uID09PSBzdGF0ZS5saW5lU3RhcnQgJiYgdGVzdERvY3VtZW50U2VwYXJhdG9yKHN0YXRlKSkgfHxcbiAgICAgICAgICAgICAgIHdpdGhpbkZsb3dDb2xsZWN0aW9uICYmIGlzX0ZMT1dfSU5ESUNBVE9SKGNoKSkge1xuICAgICAgYnJlYWs7XG5cbiAgICB9IGVsc2UgaWYgKGlzX0VPTChjaCkpIHtcbiAgICAgIF9saW5lID0gc3RhdGUubGluZTtcbiAgICAgIF9saW5lU3RhcnQgPSBzdGF0ZS5saW5lU3RhcnQ7XG4gICAgICBfbGluZUluZGVudCA9IHN0YXRlLmxpbmVJbmRlbnQ7XG4gICAgICBza2lwU2VwYXJhdGlvblNwYWNlKHN0YXRlLCBmYWxzZSwgLTEpO1xuXG4gICAgICBpZiAoc3RhdGUubGluZUluZGVudCA+PSBub2RlSW5kZW50KSB7XG4gICAgICAgIGhhc1BlbmRpbmdDb250ZW50ID0gdHJ1ZTtcbiAgICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS5wb3NpdGlvbiA9IGNhcHR1cmVFbmQ7XG4gICAgICAgIHN0YXRlLmxpbmUgPSBfbGluZTtcbiAgICAgICAgc3RhdGUubGluZVN0YXJ0ID0gX2xpbmVTdGFydDtcbiAgICAgICAgc3RhdGUubGluZUluZGVudCA9IF9saW5lSW5kZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaGFzUGVuZGluZ0NvbnRlbnQpIHtcbiAgICAgIGNhcHR1cmVTZWdtZW50KHN0YXRlLCBjYXB0dXJlU3RhcnQsIGNhcHR1cmVFbmQsIGZhbHNlKTtcbiAgICAgIHdyaXRlRm9sZGVkTGluZXMoc3RhdGUsIHN0YXRlLmxpbmUgLSBfbGluZSk7XG4gICAgICBjYXB0dXJlU3RhcnQgPSBjYXB0dXJlRW5kID0gc3RhdGUucG9zaXRpb247XG4gICAgICBoYXNQZW5kaW5nQ29udGVudCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghaXNfV0hJVEVfU1BBQ0UoY2gpKSB7XG4gICAgICBjYXB0dXJlRW5kID0gc3RhdGUucG9zaXRpb24gKyAxO1xuICAgIH1cblxuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgfVxuXG4gIGNhcHR1cmVTZWdtZW50KHN0YXRlLCBjYXB0dXJlU3RhcnQsIGNhcHR1cmVFbmQsIGZhbHNlKTtcblxuICBpZiAoc3RhdGUucmVzdWx0KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzdGF0ZS5raW5kID0gX2tpbmQ7XG4gIHN0YXRlLnJlc3VsdCA9IF9yZXN1bHQ7XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gcmVhZFNpbmdsZVF1b3RlZFNjYWxhcihzdGF0ZSwgbm9kZUluZGVudCkge1xuICB2YXIgY2gsXG4gICAgICBjYXB0dXJlU3RhcnQsIGNhcHR1cmVFbmQ7XG5cbiAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICBpZiAoY2ggIT09IDB4MjcvKiAnICovKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3RhdGUua2luZCA9ICdzY2FsYXInO1xuICBzdGF0ZS5yZXN1bHQgPSAnJztcbiAgc3RhdGUucG9zaXRpb24rKztcbiAgY2FwdHVyZVN0YXJ0ID0gY2FwdHVyZUVuZCA9IHN0YXRlLnBvc2l0aW9uO1xuXG4gIHdoaWxlICgoY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKSkgIT09IDApIHtcbiAgICBpZiAoY2ggPT09IDB4MjcvKiAnICovKSB7XG4gICAgICBjYXB0dXJlU2VnbWVudChzdGF0ZSwgY2FwdHVyZVN0YXJ0LCBzdGF0ZS5wb3NpdGlvbiwgdHJ1ZSk7XG4gICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG5cbiAgICAgIGlmIChjaCA9PT0gMHgyNy8qICcgKi8pIHtcbiAgICAgICAgY2FwdHVyZVN0YXJ0ID0gc3RhdGUucG9zaXRpb247XG4gICAgICAgIHN0YXRlLnBvc2l0aW9uKys7XG4gICAgICAgIGNhcHR1cmVFbmQgPSBzdGF0ZS5wb3NpdGlvbjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIGlmIChpc19FT0woY2gpKSB7XG4gICAgICBjYXB0dXJlU2VnbWVudChzdGF0ZSwgY2FwdHVyZVN0YXJ0LCBjYXB0dXJlRW5kLCB0cnVlKTtcbiAgICAgIHdyaXRlRm9sZGVkTGluZXMoc3RhdGUsIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIGZhbHNlLCBub2RlSW5kZW50KSk7XG4gICAgICBjYXB0dXJlU3RhcnQgPSBjYXB0dXJlRW5kID0gc3RhdGUucG9zaXRpb247XG5cbiAgICB9IGVsc2UgaWYgKHN0YXRlLnBvc2l0aW9uID09PSBzdGF0ZS5saW5lU3RhcnQgJiYgdGVzdERvY3VtZW50U2VwYXJhdG9yKHN0YXRlKSkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3VuZXhwZWN0ZWQgZW5kIG9mIHRoZSBkb2N1bWVudCB3aXRoaW4gYSBzaW5nbGUgcXVvdGVkIHNjYWxhcicpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLnBvc2l0aW9uKys7XG4gICAgICBjYXB0dXJlRW5kID0gc3RhdGUucG9zaXRpb247XG4gICAgfVxuICB9XG5cbiAgdGhyb3dFcnJvcihzdGF0ZSwgJ3VuZXhwZWN0ZWQgZW5kIG9mIHRoZSBzdHJlYW0gd2l0aGluIGEgc2luZ2xlIHF1b3RlZCBzY2FsYXInKTtcbn1cblxuZnVuY3Rpb24gcmVhZERvdWJsZVF1b3RlZFNjYWxhcihzdGF0ZSwgbm9kZUluZGVudCkge1xuICB2YXIgY2FwdHVyZVN0YXJ0LFxuICAgICAgY2FwdHVyZUVuZCxcbiAgICAgIGhleExlbmd0aCxcbiAgICAgIGhleFJlc3VsdCxcbiAgICAgIHRtcCxcbiAgICAgIGNoO1xuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgaWYgKGNoICE9PSAweDIyLyogXCIgKi8pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdGF0ZS5raW5kID0gJ3NjYWxhcic7XG4gIHN0YXRlLnJlc3VsdCA9ICcnO1xuICBzdGF0ZS5wb3NpdGlvbisrO1xuICBjYXB0dXJlU3RhcnQgPSBjYXB0dXJlRW5kID0gc3RhdGUucG9zaXRpb247XG5cbiAgd2hpbGUgKChjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pKSAhPT0gMCkge1xuICAgIGlmIChjaCA9PT0gMHgyMi8qIFwiICovKSB7XG4gICAgICBjYXB0dXJlU2VnbWVudChzdGF0ZSwgY2FwdHVyZVN0YXJ0LCBzdGF0ZS5wb3NpdGlvbiwgdHJ1ZSk7XG4gICAgICBzdGF0ZS5wb3NpdGlvbisrO1xuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICB9IGVsc2UgaWYgKGNoID09PSAweDVDLyogXFwgKi8pIHtcbiAgICAgIGNhcHR1cmVTZWdtZW50KHN0YXRlLCBjYXB0dXJlU3RhcnQsIHN0YXRlLnBvc2l0aW9uLCB0cnVlKTtcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcblxuICAgICAgaWYgKGlzX0VPTChjaCkpIHtcbiAgICAgICAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgZmFsc2UsIG5vZGVJbmRlbnQpO1xuXG4gICAgICAgIC8vIFRPRE86IHJld29yayB0byBpbmxpbmUgZm4gd2l0aCBubyB0eXBlIGNhc3Q/XG4gICAgICB9IGVsc2UgaWYgKGNoIDwgMjU2ICYmIHNpbXBsZUVzY2FwZUNoZWNrW2NoXSkge1xuICAgICAgICBzdGF0ZS5yZXN1bHQgKz0gc2ltcGxlRXNjYXBlTWFwW2NoXTtcbiAgICAgICAgc3RhdGUucG9zaXRpb24rKztcblxuICAgICAgfSBlbHNlIGlmICgodG1wID0gZXNjYXBlZEhleExlbihjaCkpID4gMCkge1xuICAgICAgICBoZXhMZW5ndGggPSB0bXA7XG4gICAgICAgIGhleFJlc3VsdCA9IDA7XG5cbiAgICAgICAgZm9yICg7IGhleExlbmd0aCA+IDA7IGhleExlbmd0aC0tKSB7XG4gICAgICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuXG4gICAgICAgICAgaWYgKCh0bXAgPSBmcm9tSGV4Q29kZShjaCkpID49IDApIHtcbiAgICAgICAgICAgIGhleFJlc3VsdCA9IChoZXhSZXN1bHQgPDwgNCkgKyB0bXA7XG5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2V4cGVjdGVkIGhleGFkZWNpbWFsIGNoYXJhY3RlcicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlLnJlc3VsdCArPSBjaGFyRnJvbUNvZGVwb2ludChoZXhSZXN1bHQpO1xuXG4gICAgICAgIHN0YXRlLnBvc2l0aW9uKys7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93RXJyb3Ioc3RhdGUsICd1bmtub3duIGVzY2FwZSBzZXF1ZW5jZScpO1xuICAgICAgfVxuXG4gICAgICBjYXB0dXJlU3RhcnQgPSBjYXB0dXJlRW5kID0gc3RhdGUucG9zaXRpb247XG5cbiAgICB9IGVsc2UgaWYgKGlzX0VPTChjaCkpIHtcbiAgICAgIGNhcHR1cmVTZWdtZW50KHN0YXRlLCBjYXB0dXJlU3RhcnQsIGNhcHR1cmVFbmQsIHRydWUpO1xuICAgICAgd3JpdGVGb2xkZWRMaW5lcyhzdGF0ZSwgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgZmFsc2UsIG5vZGVJbmRlbnQpKTtcbiAgICAgIGNhcHR1cmVTdGFydCA9IGNhcHR1cmVFbmQgPSBzdGF0ZS5wb3NpdGlvbjtcblxuICAgIH0gZWxzZSBpZiAoc3RhdGUucG9zaXRpb24gPT09IHN0YXRlLmxpbmVTdGFydCAmJiB0ZXN0RG9jdW1lbnRTZXBhcmF0b3Ioc3RhdGUpKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndW5leHBlY3RlZCBlbmQgb2YgdGhlIGRvY3VtZW50IHdpdGhpbiBhIGRvdWJsZSBxdW90ZWQgc2NhbGFyJyk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUucG9zaXRpb24rKztcbiAgICAgIGNhcHR1cmVFbmQgPSBzdGF0ZS5wb3NpdGlvbjtcbiAgICB9XG4gIH1cblxuICB0aHJvd0Vycm9yKHN0YXRlLCAndW5leHBlY3RlZCBlbmQgb2YgdGhlIHN0cmVhbSB3aXRoaW4gYSBkb3VibGUgcXVvdGVkIHNjYWxhcicpO1xufVxuXG5mdW5jdGlvbiByZWFkRmxvd0NvbGxlY3Rpb24oc3RhdGUsIG5vZGVJbmRlbnQpIHtcbiAgdmFyIHJlYWROZXh0ID0gdHJ1ZSxcbiAgICAgIF9saW5lLFxuICAgICAgX2xpbmVTdGFydCxcbiAgICAgIF9wb3MsXG4gICAgICBfdGFnICAgICA9IHN0YXRlLnRhZyxcbiAgICAgIF9yZXN1bHQsXG4gICAgICBfYW5jaG9yICA9IHN0YXRlLmFuY2hvcixcbiAgICAgIGZvbGxvd2luZyxcbiAgICAgIHRlcm1pbmF0b3IsXG4gICAgICBpc1BhaXIsXG4gICAgICBpc0V4cGxpY2l0UGFpcixcbiAgICAgIGlzTWFwcGluZyxcbiAgICAgIG92ZXJyaWRhYmxlS2V5cyA9IE9iamVjdC5jcmVhdGUobnVsbCksXG4gICAgICBrZXlOb2RlLFxuICAgICAga2V5VGFnLFxuICAgICAgdmFsdWVOb2RlLFxuICAgICAgY2g7XG5cbiAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICBpZiAoY2ggPT09IDB4NUIvKiBbICovKSB7XG4gICAgdGVybWluYXRvciA9IDB4NUQ7LyogXSAqL1xuICAgIGlzTWFwcGluZyA9IGZhbHNlO1xuICAgIF9yZXN1bHQgPSBbXTtcbiAgfSBlbHNlIGlmIChjaCA9PT0gMHg3Qi8qIHsgKi8pIHtcbiAgICB0ZXJtaW5hdG9yID0gMHg3RDsvKiB9ICovXG4gICAgaXNNYXBwaW5nID0gdHJ1ZTtcbiAgICBfcmVzdWx0ID0ge307XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKHN0YXRlLmFuY2hvciAhPT0gbnVsbCkge1xuICAgIHN0YXRlLmFuY2hvck1hcFtzdGF0ZS5hbmNob3JdID0gX3Jlc3VsdDtcbiAgfVxuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcblxuICB3aGlsZSAoY2ggIT09IDApIHtcbiAgICBza2lwU2VwYXJhdGlvblNwYWNlKHN0YXRlLCB0cnVlLCBub2RlSW5kZW50KTtcblxuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgICBpZiAoY2ggPT09IHRlcm1pbmF0b3IpIHtcbiAgICAgIHN0YXRlLnBvc2l0aW9uKys7XG4gICAgICBzdGF0ZS50YWcgPSBfdGFnO1xuICAgICAgc3RhdGUuYW5jaG9yID0gX2FuY2hvcjtcbiAgICAgIHN0YXRlLmtpbmQgPSBpc01hcHBpbmcgPyAnbWFwcGluZycgOiAnc2VxdWVuY2UnO1xuICAgICAgc3RhdGUucmVzdWx0ID0gX3Jlc3VsdDtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoIXJlYWROZXh0KSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnbWlzc2VkIGNvbW1hIGJldHdlZW4gZmxvdyBjb2xsZWN0aW9uIGVudHJpZXMnKTtcbiAgICB9IGVsc2UgaWYgKGNoID09PSAweDJDLyogLCAqLykge1xuICAgICAgLy8gXCJmbG93IGNvbGxlY3Rpb24gZW50cmllcyBjYW4gbmV2ZXIgYmUgY29tcGxldGVseSBlbXB0eVwiLCBhcyBwZXIgWUFNTCAxLjIsIHNlY3Rpb24gNy40XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCBcImV4cGVjdGVkIHRoZSBub2RlIGNvbnRlbnQsIGJ1dCBmb3VuZCAnLCdcIik7XG4gICAgfVxuXG4gICAga2V5VGFnID0ga2V5Tm9kZSA9IHZhbHVlTm9kZSA9IG51bGw7XG4gICAgaXNQYWlyID0gaXNFeHBsaWNpdFBhaXIgPSBmYWxzZTtcblxuICAgIGlmIChjaCA9PT0gMHgzRi8qID8gKi8pIHtcbiAgICAgIGZvbGxvd2luZyA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24gKyAxKTtcblxuICAgICAgaWYgKGlzX1dTX09SX0VPTChmb2xsb3dpbmcpKSB7XG4gICAgICAgIGlzUGFpciA9IGlzRXhwbGljaXRQYWlyID0gdHJ1ZTtcbiAgICAgICAgc3RhdGUucG9zaXRpb24rKztcbiAgICAgICAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgbm9kZUluZGVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2xpbmUgPSBzdGF0ZS5saW5lOyAvLyBTYXZlIHRoZSBjdXJyZW50IGxpbmUuXG4gICAgX2xpbmVTdGFydCA9IHN0YXRlLmxpbmVTdGFydDtcbiAgICBfcG9zID0gc3RhdGUucG9zaXRpb247XG4gICAgY29tcG9zZU5vZGUoc3RhdGUsIG5vZGVJbmRlbnQsIENPTlRFWFRfRkxPV19JTiwgZmFsc2UsIHRydWUpO1xuICAgIGtleVRhZyA9IHN0YXRlLnRhZztcbiAgICBrZXlOb2RlID0gc3RhdGUucmVzdWx0O1xuICAgIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIG5vZGVJbmRlbnQpO1xuXG4gICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICAgIGlmICgoaXNFeHBsaWNpdFBhaXIgfHwgc3RhdGUubGluZSA9PT0gX2xpbmUpICYmIGNoID09PSAweDNBLyogOiAqLykge1xuICAgICAgaXNQYWlyID0gdHJ1ZTtcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICAgIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIG5vZGVJbmRlbnQpO1xuICAgICAgY29tcG9zZU5vZGUoc3RhdGUsIG5vZGVJbmRlbnQsIENPTlRFWFRfRkxPV19JTiwgZmFsc2UsIHRydWUpO1xuICAgICAgdmFsdWVOb2RlID0gc3RhdGUucmVzdWx0O1xuICAgIH1cblxuICAgIGlmIChpc01hcHBpbmcpIHtcbiAgICAgIHN0b3JlTWFwcGluZ1BhaXIoc3RhdGUsIF9yZXN1bHQsIG92ZXJyaWRhYmxlS2V5cywga2V5VGFnLCBrZXlOb2RlLCB2YWx1ZU5vZGUsIF9saW5lLCBfbGluZVN0YXJ0LCBfcG9zKTtcbiAgICB9IGVsc2UgaWYgKGlzUGFpcikge1xuICAgICAgX3Jlc3VsdC5wdXNoKHN0b3JlTWFwcGluZ1BhaXIoc3RhdGUsIG51bGwsIG92ZXJyaWRhYmxlS2V5cywga2V5VGFnLCBrZXlOb2RlLCB2YWx1ZU5vZGUsIF9saW5lLCBfbGluZVN0YXJ0LCBfcG9zKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9yZXN1bHQucHVzaChrZXlOb2RlKTtcbiAgICB9XG5cbiAgICBza2lwU2VwYXJhdGlvblNwYWNlKHN0YXRlLCB0cnVlLCBub2RlSW5kZW50KTtcblxuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgICBpZiAoY2ggPT09IDB4MkMvKiAsICovKSB7XG4gICAgICByZWFkTmV4dCA9IHRydWU7XG4gICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlYWROZXh0ID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgdGhyb3dFcnJvcihzdGF0ZSwgJ3VuZXhwZWN0ZWQgZW5kIG9mIHRoZSBzdHJlYW0gd2l0aGluIGEgZmxvdyBjb2xsZWN0aW9uJyk7XG59XG5cbmZ1bmN0aW9uIHJlYWRCbG9ja1NjYWxhcihzdGF0ZSwgbm9kZUluZGVudCkge1xuICB2YXIgY2FwdHVyZVN0YXJ0LFxuICAgICAgZm9sZGluZyxcbiAgICAgIGNob21waW5nICAgICAgID0gQ0hPTVBJTkdfQ0xJUCxcbiAgICAgIGRpZFJlYWRDb250ZW50ID0gZmFsc2UsXG4gICAgICBkZXRlY3RlZEluZGVudCA9IGZhbHNlLFxuICAgICAgdGV4dEluZGVudCAgICAgPSBub2RlSW5kZW50LFxuICAgICAgZW1wdHlMaW5lcyAgICAgPSAwLFxuICAgICAgYXRNb3JlSW5kZW50ZWQgPSBmYWxzZSxcbiAgICAgIHRtcCxcbiAgICAgIGNoO1xuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgaWYgKGNoID09PSAweDdDLyogfCAqLykge1xuICAgIGZvbGRpbmcgPSBmYWxzZTtcbiAgfSBlbHNlIGlmIChjaCA9PT0gMHgzRS8qID4gKi8pIHtcbiAgICBmb2xkaW5nID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdGF0ZS5raW5kID0gJ3NjYWxhcic7XG4gIHN0YXRlLnJlc3VsdCA9ICcnO1xuXG4gIHdoaWxlIChjaCAhPT0gMCkge1xuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcblxuICAgIGlmIChjaCA9PT0gMHgyQi8qICsgKi8gfHwgY2ggPT09IDB4MkQvKiAtICovKSB7XG4gICAgICBpZiAoQ0hPTVBJTkdfQ0xJUCA9PT0gY2hvbXBpbmcpIHtcbiAgICAgICAgY2hvbXBpbmcgPSAoY2ggPT09IDB4MkIvKiArICovKSA/IENIT01QSU5HX0tFRVAgOiBDSE9NUElOR19TVFJJUDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93RXJyb3Ioc3RhdGUsICdyZXBlYXQgb2YgYSBjaG9tcGluZyBtb2RlIGlkZW50aWZpZXInKTtcbiAgICAgIH1cblxuICAgIH0gZWxzZSBpZiAoKHRtcCA9IGZyb21EZWNpbWFsQ29kZShjaCkpID49IDApIHtcbiAgICAgIGlmICh0bXAgPT09IDApIHtcbiAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2JhZCBleHBsaWNpdCBpbmRlbnRhdGlvbiB3aWR0aCBvZiBhIGJsb2NrIHNjYWxhcjsgaXQgY2Fubm90IGJlIGxlc3MgdGhhbiBvbmUnKTtcbiAgICAgIH0gZWxzZSBpZiAoIWRldGVjdGVkSW5kZW50KSB7XG4gICAgICAgIHRleHRJbmRlbnQgPSBub2RlSW5kZW50ICsgdG1wIC0gMTtcbiAgICAgICAgZGV0ZWN0ZWRJbmRlbnQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3JlcGVhdCBvZiBhbiBpbmRlbnRhdGlvbiB3aWR0aCBpZGVudGlmaWVyJyk7XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKGlzX1dISVRFX1NQQUNFKGNoKSkge1xuICAgIGRvIHsgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pOyB9XG4gICAgd2hpbGUgKGlzX1dISVRFX1NQQUNFKGNoKSk7XG5cbiAgICBpZiAoY2ggPT09IDB4MjMvKiAjICovKSB7XG4gICAgICBkbyB7IGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTsgfVxuICAgICAgd2hpbGUgKCFpc19FT0woY2gpICYmIChjaCAhPT0gMCkpO1xuICAgIH1cbiAgfVxuXG4gIHdoaWxlIChjaCAhPT0gMCkge1xuICAgIHJlYWRMaW5lQnJlYWsoc3RhdGUpO1xuICAgIHN0YXRlLmxpbmVJbmRlbnQgPSAwO1xuXG4gICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICAgIHdoaWxlICgoIWRldGVjdGVkSW5kZW50IHx8IHN0YXRlLmxpbmVJbmRlbnQgPCB0ZXh0SW5kZW50KSAmJlxuICAgICAgICAgICAoY2ggPT09IDB4MjAvKiBTcGFjZSAqLykpIHtcbiAgICAgIHN0YXRlLmxpbmVJbmRlbnQrKztcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICBpZiAoIWRldGVjdGVkSW5kZW50ICYmIHN0YXRlLmxpbmVJbmRlbnQgPiB0ZXh0SW5kZW50KSB7XG4gICAgICB0ZXh0SW5kZW50ID0gc3RhdGUubGluZUluZGVudDtcbiAgICB9XG5cbiAgICBpZiAoaXNfRU9MKGNoKSkge1xuICAgICAgZW1wdHlMaW5lcysrO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gRW5kIG9mIHRoZSBzY2FsYXIuXG4gICAgaWYgKHN0YXRlLmxpbmVJbmRlbnQgPCB0ZXh0SW5kZW50KSB7XG5cbiAgICAgIC8vIFBlcmZvcm0gdGhlIGNob21waW5nLlxuICAgICAgaWYgKGNob21waW5nID09PSBDSE9NUElOR19LRUVQKSB7XG4gICAgICAgIHN0YXRlLnJlc3VsdCArPSBjb21tb24ucmVwZWF0KCdcXG4nLCBkaWRSZWFkQ29udGVudCA/IDEgKyBlbXB0eUxpbmVzIDogZW1wdHlMaW5lcyk7XG4gICAgICB9IGVsc2UgaWYgKGNob21waW5nID09PSBDSE9NUElOR19DTElQKSB7XG4gICAgICAgIGlmIChkaWRSZWFkQ29udGVudCkgeyAvLyBpLmUuIG9ubHkgaWYgdGhlIHNjYWxhciBpcyBub3QgZW1wdHkuXG4gICAgICAgICAgc3RhdGUucmVzdWx0ICs9ICdcXG4nO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEJyZWFrIHRoaXMgYHdoaWxlYCBjeWNsZSBhbmQgZ28gdG8gdGhlIGZ1bmNpdG9uJ3MgZXBpbG9ndWUuXG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICAvLyBGb2xkZWQgc3R5bGU6IHVzZSBmYW5jeSBydWxlcyB0byBoYW5kbGUgbGluZSBicmVha3MuXG4gICAgaWYgKGZvbGRpbmcpIHtcblxuICAgICAgLy8gTGluZXMgc3RhcnRpbmcgd2l0aCB3aGl0ZSBzcGFjZSBjaGFyYWN0ZXJzIChtb3JlLWluZGVudGVkIGxpbmVzKSBhcmUgbm90IGZvbGRlZC5cbiAgICAgIGlmIChpc19XSElURV9TUEFDRShjaCkpIHtcbiAgICAgICAgYXRNb3JlSW5kZW50ZWQgPSB0cnVlO1xuICAgICAgICAvLyBleGNlcHQgZm9yIHRoZSBmaXJzdCBjb250ZW50IGxpbmUgKGNmLiBFeGFtcGxlIDguMSlcbiAgICAgICAgc3RhdGUucmVzdWx0ICs9IGNvbW1vbi5yZXBlYXQoJ1xcbicsIGRpZFJlYWRDb250ZW50ID8gMSArIGVtcHR5TGluZXMgOiBlbXB0eUxpbmVzKTtcblxuICAgICAgLy8gRW5kIG9mIG1vcmUtaW5kZW50ZWQgYmxvY2suXG4gICAgICB9IGVsc2UgaWYgKGF0TW9yZUluZGVudGVkKSB7XG4gICAgICAgIGF0TW9yZUluZGVudGVkID0gZmFsc2U7XG4gICAgICAgIHN0YXRlLnJlc3VsdCArPSBjb21tb24ucmVwZWF0KCdcXG4nLCBlbXB0eUxpbmVzICsgMSk7XG5cbiAgICAgIC8vIEp1c3Qgb25lIGxpbmUgYnJlYWsgLSBwZXJjZWl2ZSBhcyB0aGUgc2FtZSBsaW5lLlxuICAgICAgfSBlbHNlIGlmIChlbXB0eUxpbmVzID09PSAwKSB7XG4gICAgICAgIGlmIChkaWRSZWFkQ29udGVudCkgeyAvLyBpLmUuIG9ubHkgaWYgd2UgaGF2ZSBhbHJlYWR5IHJlYWQgc29tZSBzY2FsYXIgY29udGVudC5cbiAgICAgICAgICBzdGF0ZS5yZXN1bHQgKz0gJyAnO1xuICAgICAgICB9XG5cbiAgICAgIC8vIFNldmVyYWwgbGluZSBicmVha3MgLSBwZXJjZWl2ZSBhcyBkaWZmZXJlbnQgbGluZXMuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS5yZXN1bHQgKz0gY29tbW9uLnJlcGVhdCgnXFxuJywgZW1wdHlMaW5lcyk7XG4gICAgICB9XG5cbiAgICAvLyBMaXRlcmFsIHN0eWxlOiBqdXN0IGFkZCBleGFjdCBudW1iZXIgb2YgbGluZSBicmVha3MgYmV0d2VlbiBjb250ZW50IGxpbmVzLlxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBLZWVwIGFsbCBsaW5lIGJyZWFrcyBleGNlcHQgdGhlIGhlYWRlciBsaW5lIGJyZWFrLlxuICAgICAgc3RhdGUucmVzdWx0ICs9IGNvbW1vbi5yZXBlYXQoJ1xcbicsIGRpZFJlYWRDb250ZW50ID8gMSArIGVtcHR5TGluZXMgOiBlbXB0eUxpbmVzKTtcbiAgICB9XG5cbiAgICBkaWRSZWFkQ29udGVudCA9IHRydWU7XG4gICAgZGV0ZWN0ZWRJbmRlbnQgPSB0cnVlO1xuICAgIGVtcHR5TGluZXMgPSAwO1xuICAgIGNhcHR1cmVTdGFydCA9IHN0YXRlLnBvc2l0aW9uO1xuXG4gICAgd2hpbGUgKCFpc19FT0woY2gpICYmIChjaCAhPT0gMCkpIHtcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICBjYXB0dXJlU2VnbWVudChzdGF0ZSwgY2FwdHVyZVN0YXJ0LCBzdGF0ZS5wb3NpdGlvbiwgZmFsc2UpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHJlYWRCbG9ja1NlcXVlbmNlKHN0YXRlLCBub2RlSW5kZW50KSB7XG4gIHZhciBfbGluZSxcbiAgICAgIF90YWcgICAgICA9IHN0YXRlLnRhZyxcbiAgICAgIF9hbmNob3IgICA9IHN0YXRlLmFuY2hvcixcbiAgICAgIF9yZXN1bHQgICA9IFtdLFxuICAgICAgZm9sbG93aW5nLFxuICAgICAgZGV0ZWN0ZWQgID0gZmFsc2UsXG4gICAgICBjaDtcblxuICAvLyB0aGVyZSBpcyBhIGxlYWRpbmcgdGFiIGJlZm9yZSB0aGlzIHRva2VuLCBzbyBpdCBjYW4ndCBiZSBhIGJsb2NrIHNlcXVlbmNlL21hcHBpbmc7XG4gIC8vIGl0IGNhbiBzdGlsbCBiZSBmbG93IHNlcXVlbmNlL21hcHBpbmcgb3IgYSBzY2FsYXJcbiAgaWYgKHN0YXRlLmZpcnN0VGFiSW5MaW5lICE9PSAtMSkgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChzdGF0ZS5hbmNob3IgIT09IG51bGwpIHtcbiAgICBzdGF0ZS5hbmNob3JNYXBbc3RhdGUuYW5jaG9yXSA9IF9yZXN1bHQ7XG4gIH1cblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pO1xuXG4gIHdoaWxlIChjaCAhPT0gMCkge1xuICAgIGlmIChzdGF0ZS5maXJzdFRhYkluTGluZSAhPT0gLTEpIHtcbiAgICAgIHN0YXRlLnBvc2l0aW9uID0gc3RhdGUuZmlyc3RUYWJJbkxpbmU7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndGFiIGNoYXJhY3RlcnMgbXVzdCBub3QgYmUgdXNlZCBpbiBpbmRlbnRhdGlvbicpO1xuICAgIH1cblxuICAgIGlmIChjaCAhPT0gMHgyRC8qIC0gKi8pIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGZvbGxvd2luZyA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24gKyAxKTtcblxuICAgIGlmICghaXNfV1NfT1JfRU9MKGZvbGxvd2luZykpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGRldGVjdGVkID0gdHJ1ZTtcbiAgICBzdGF0ZS5wb3NpdGlvbisrO1xuXG4gICAgaWYgKHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIC0xKSkge1xuICAgICAgaWYgKHN0YXRlLmxpbmVJbmRlbnQgPD0gbm9kZUluZGVudCkge1xuICAgICAgICBfcmVzdWx0LnB1c2gobnVsbCk7XG4gICAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9saW5lID0gc3RhdGUubGluZTtcbiAgICBjb21wb3NlTm9kZShzdGF0ZSwgbm9kZUluZGVudCwgQ09OVEVYVF9CTE9DS19JTiwgZmFsc2UsIHRydWUpO1xuICAgIF9yZXN1bHQucHVzaChzdGF0ZS5yZXN1bHQpO1xuICAgIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIC0xKTtcblxuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgICBpZiAoKHN0YXRlLmxpbmUgPT09IF9saW5lIHx8IHN0YXRlLmxpbmVJbmRlbnQgPiBub2RlSW5kZW50KSAmJiAoY2ggIT09IDApKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnYmFkIGluZGVudGF0aW9uIG9mIGEgc2VxdWVuY2UgZW50cnknKTtcbiAgICB9IGVsc2UgaWYgKHN0YXRlLmxpbmVJbmRlbnQgPCBub2RlSW5kZW50KSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoZGV0ZWN0ZWQpIHtcbiAgICBzdGF0ZS50YWcgPSBfdGFnO1xuICAgIHN0YXRlLmFuY2hvciA9IF9hbmNob3I7XG4gICAgc3RhdGUua2luZCA9ICdzZXF1ZW5jZSc7XG4gICAgc3RhdGUucmVzdWx0ID0gX3Jlc3VsdDtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHJlYWRCbG9ja01hcHBpbmcoc3RhdGUsIG5vZGVJbmRlbnQsIGZsb3dJbmRlbnQpIHtcbiAgdmFyIGZvbGxvd2luZyxcbiAgICAgIGFsbG93Q29tcGFjdCxcbiAgICAgIF9saW5lLFxuICAgICAgX2tleUxpbmUsXG4gICAgICBfa2V5TGluZVN0YXJ0LFxuICAgICAgX2tleVBvcyxcbiAgICAgIF90YWcgICAgICAgICAgPSBzdGF0ZS50YWcsXG4gICAgICBfYW5jaG9yICAgICAgID0gc3RhdGUuYW5jaG9yLFxuICAgICAgX3Jlc3VsdCAgICAgICA9IHt9LFxuICAgICAgb3ZlcnJpZGFibGVLZXlzID0gT2JqZWN0LmNyZWF0ZShudWxsKSxcbiAgICAgIGtleVRhZyAgICAgICAgPSBudWxsLFxuICAgICAga2V5Tm9kZSAgICAgICA9IG51bGwsXG4gICAgICB2YWx1ZU5vZGUgICAgID0gbnVsbCxcbiAgICAgIGF0RXhwbGljaXRLZXkgPSBmYWxzZSxcbiAgICAgIGRldGVjdGVkICAgICAgPSBmYWxzZSxcbiAgICAgIGNoO1xuXG4gIC8vIHRoZXJlIGlzIGEgbGVhZGluZyB0YWIgYmVmb3JlIHRoaXMgdG9rZW4sIHNvIGl0IGNhbid0IGJlIGEgYmxvY2sgc2VxdWVuY2UvbWFwcGluZztcbiAgLy8gaXQgY2FuIHN0aWxsIGJlIGZsb3cgc2VxdWVuY2UvbWFwcGluZyBvciBhIHNjYWxhclxuICBpZiAoc3RhdGUuZmlyc3RUYWJJbkxpbmUgIT09IC0xKSByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHN0YXRlLmFuY2hvciAhPT0gbnVsbCkge1xuICAgIHN0YXRlLmFuY2hvck1hcFtzdGF0ZS5hbmNob3JdID0gX3Jlc3VsdDtcbiAgfVxuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgd2hpbGUgKGNoICE9PSAwKSB7XG4gICAgaWYgKCFhdEV4cGxpY2l0S2V5ICYmIHN0YXRlLmZpcnN0VGFiSW5MaW5lICE9PSAtMSkge1xuICAgICAgc3RhdGUucG9zaXRpb24gPSBzdGF0ZS5maXJzdFRhYkluTGluZTtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICd0YWIgY2hhcmFjdGVycyBtdXN0IG5vdCBiZSB1c2VkIGluIGluZGVudGF0aW9uJyk7XG4gICAgfVxuXG4gICAgZm9sbG93aW5nID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbiArIDEpO1xuICAgIF9saW5lID0gc3RhdGUubGluZTsgLy8gU2F2ZSB0aGUgY3VycmVudCBsaW5lLlxuXG4gICAgLy9cbiAgICAvLyBFeHBsaWNpdCBub3RhdGlvbiBjYXNlLiBUaGVyZSBhcmUgdHdvIHNlcGFyYXRlIGJsb2NrczpcbiAgICAvLyBmaXJzdCBmb3IgdGhlIGtleSAoZGVub3RlZCBieSBcIj9cIikgYW5kIHNlY29uZCBmb3IgdGhlIHZhbHVlIChkZW5vdGVkIGJ5IFwiOlwiKVxuICAgIC8vXG4gICAgaWYgKChjaCA9PT0gMHgzRi8qID8gKi8gfHwgY2ggPT09IDB4M0EvKiA6ICovKSAmJiBpc19XU19PUl9FT0woZm9sbG93aW5nKSkge1xuXG4gICAgICBpZiAoY2ggPT09IDB4M0YvKiA/ICovKSB7XG4gICAgICAgIGlmIChhdEV4cGxpY2l0S2V5KSB7XG4gICAgICAgICAgc3RvcmVNYXBwaW5nUGFpcihzdGF0ZSwgX3Jlc3VsdCwgb3ZlcnJpZGFibGVLZXlzLCBrZXlUYWcsIGtleU5vZGUsIG51bGwsIF9rZXlMaW5lLCBfa2V5TGluZVN0YXJ0LCBfa2V5UG9zKTtcbiAgICAgICAgICBrZXlUYWcgPSBrZXlOb2RlID0gdmFsdWVOb2RlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGRldGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgYXRFeHBsaWNpdEtleSA9IHRydWU7XG4gICAgICAgIGFsbG93Q29tcGFjdCA9IHRydWU7XG5cbiAgICAgIH0gZWxzZSBpZiAoYXRFeHBsaWNpdEtleSkge1xuICAgICAgICAvLyBpLmUuIDB4M0EvKiA6ICovID09PSBjaGFyYWN0ZXIgYWZ0ZXIgdGhlIGV4cGxpY2l0IGtleS5cbiAgICAgICAgYXRFeHBsaWNpdEtleSA9IGZhbHNlO1xuICAgICAgICBhbGxvd0NvbXBhY3QgPSB0cnVlO1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnaW5jb21wbGV0ZSBleHBsaWNpdCBtYXBwaW5nIHBhaXI7IGEga2V5IG5vZGUgaXMgbWlzc2VkOyBvciBmb2xsb3dlZCBieSBhIG5vbi10YWJ1bGF0ZWQgZW1wdHkgbGluZScpO1xuICAgICAgfVxuXG4gICAgICBzdGF0ZS5wb3NpdGlvbiArPSAxO1xuICAgICAgY2ggPSBmb2xsb3dpbmc7XG5cbiAgICAvL1xuICAgIC8vIEltcGxpY2l0IG5vdGF0aW9uIGNhc2UuIEZsb3ctc3R5bGUgbm9kZSBhcyB0aGUga2V5IGZpcnN0LCB0aGVuIFwiOlwiLCBhbmQgdGhlIHZhbHVlLlxuICAgIC8vXG4gICAgfSBlbHNlIHtcbiAgICAgIF9rZXlMaW5lID0gc3RhdGUubGluZTtcbiAgICAgIF9rZXlMaW5lU3RhcnQgPSBzdGF0ZS5saW5lU3RhcnQ7XG4gICAgICBfa2V5UG9zID0gc3RhdGUucG9zaXRpb247XG5cbiAgICAgIGlmICghY29tcG9zZU5vZGUoc3RhdGUsIGZsb3dJbmRlbnQsIENPTlRFWFRfRkxPV19PVVQsIGZhbHNlLCB0cnVlKSkge1xuICAgICAgICAvLyBOZWl0aGVyIGltcGxpY2l0IG5vciBleHBsaWNpdCBub3RhdGlvbi5cbiAgICAgICAgLy8gUmVhZGluZyBpcyBkb25lLiBHbyB0byB0aGUgZXBpbG9ndWUuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUubGluZSA9PT0gX2xpbmUpIHtcbiAgICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICAgICAgICB3aGlsZSAoaXNfV0hJVEVfU1BBQ0UoY2gpKSB7XG4gICAgICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoID09PSAweDNBLyogOiAqLykge1xuICAgICAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcblxuICAgICAgICAgIGlmICghaXNfV1NfT1JfRU9MKGNoKSkge1xuICAgICAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2Egd2hpdGVzcGFjZSBjaGFyYWN0ZXIgaXMgZXhwZWN0ZWQgYWZ0ZXIgdGhlIGtleS12YWx1ZSBzZXBhcmF0b3Igd2l0aGluIGEgYmxvY2sgbWFwcGluZycpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChhdEV4cGxpY2l0S2V5KSB7XG4gICAgICAgICAgICBzdG9yZU1hcHBpbmdQYWlyKHN0YXRlLCBfcmVzdWx0LCBvdmVycmlkYWJsZUtleXMsIGtleVRhZywga2V5Tm9kZSwgbnVsbCwgX2tleUxpbmUsIF9rZXlMaW5lU3RhcnQsIF9rZXlQb3MpO1xuICAgICAgICAgICAga2V5VGFnID0ga2V5Tm9kZSA9IHZhbHVlTm9kZSA9IG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGV0ZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgIGF0RXhwbGljaXRLZXkgPSBmYWxzZTtcbiAgICAgICAgICBhbGxvd0NvbXBhY3QgPSBmYWxzZTtcbiAgICAgICAgICBrZXlUYWcgPSBzdGF0ZS50YWc7XG4gICAgICAgICAga2V5Tm9kZSA9IHN0YXRlLnJlc3VsdDtcblxuICAgICAgICB9IGVsc2UgaWYgKGRldGVjdGVkKSB7XG4gICAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2NhbiBub3QgcmVhZCBhbiBpbXBsaWNpdCBtYXBwaW5nIHBhaXI7IGEgY29sb24gaXMgbWlzc2VkJyk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdGF0ZS50YWcgPSBfdGFnO1xuICAgICAgICAgIHN0YXRlLmFuY2hvciA9IF9hbmNob3I7XG4gICAgICAgICAgcmV0dXJuIHRydWU7IC8vIEtlZXAgdGhlIHJlc3VsdCBvZiBgY29tcG9zZU5vZGVgLlxuICAgICAgICB9XG5cbiAgICAgIH0gZWxzZSBpZiAoZGV0ZWN0ZWQpIHtcbiAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2NhbiBub3QgcmVhZCBhIGJsb2NrIG1hcHBpbmcgZW50cnk7IGEgbXVsdGlsaW5lIGtleSBtYXkgbm90IGJlIGFuIGltcGxpY2l0IGtleScpO1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS50YWcgPSBfdGFnO1xuICAgICAgICBzdGF0ZS5hbmNob3IgPSBfYW5jaG9yO1xuICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gS2VlcCB0aGUgcmVzdWx0IG9mIGBjb21wb3NlTm9kZWAuXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBDb21tb24gcmVhZGluZyBjb2RlIGZvciBib3RoIGV4cGxpY2l0IGFuZCBpbXBsaWNpdCBub3RhdGlvbnMuXG4gICAgLy9cbiAgICBpZiAoc3RhdGUubGluZSA9PT0gX2xpbmUgfHwgc3RhdGUubGluZUluZGVudCA+IG5vZGVJbmRlbnQpIHtcbiAgICAgIGlmIChhdEV4cGxpY2l0S2V5KSB7XG4gICAgICAgIF9rZXlMaW5lID0gc3RhdGUubGluZTtcbiAgICAgICAgX2tleUxpbmVTdGFydCA9IHN0YXRlLmxpbmVTdGFydDtcbiAgICAgICAgX2tleVBvcyA9IHN0YXRlLnBvc2l0aW9uO1xuICAgICAgfVxuXG4gICAgICBpZiAoY29tcG9zZU5vZGUoc3RhdGUsIG5vZGVJbmRlbnQsIENPTlRFWFRfQkxPQ0tfT1VULCB0cnVlLCBhbGxvd0NvbXBhY3QpKSB7XG4gICAgICAgIGlmIChhdEV4cGxpY2l0S2V5KSB7XG4gICAgICAgICAga2V5Tm9kZSA9IHN0YXRlLnJlc3VsdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZU5vZGUgPSBzdGF0ZS5yZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFhdEV4cGxpY2l0S2V5KSB7XG4gICAgICAgIHN0b3JlTWFwcGluZ1BhaXIoc3RhdGUsIF9yZXN1bHQsIG92ZXJyaWRhYmxlS2V5cywga2V5VGFnLCBrZXlOb2RlLCB2YWx1ZU5vZGUsIF9rZXlMaW5lLCBfa2V5TGluZVN0YXJ0LCBfa2V5UG9zKTtcbiAgICAgICAga2V5VGFnID0ga2V5Tm9kZSA9IHZhbHVlTm9kZSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIC0xKTtcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG4gICAgfVxuXG4gICAgaWYgKChzdGF0ZS5saW5lID09PSBfbGluZSB8fCBzdGF0ZS5saW5lSW5kZW50ID4gbm9kZUluZGVudCkgJiYgKGNoICE9PSAwKSkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2JhZCBpbmRlbnRhdGlvbiBvZiBhIG1hcHBpbmcgZW50cnknKTtcbiAgICB9IGVsc2UgaWYgKHN0YXRlLmxpbmVJbmRlbnQgPCBub2RlSW5kZW50KSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICAvL1xuICAvLyBFcGlsb2d1ZS5cbiAgLy9cblxuICAvLyBTcGVjaWFsIGNhc2U6IGxhc3QgbWFwcGluZydzIG5vZGUgY29udGFpbnMgb25seSB0aGUga2V5IGluIGV4cGxpY2l0IG5vdGF0aW9uLlxuICBpZiAoYXRFeHBsaWNpdEtleSkge1xuICAgIHN0b3JlTWFwcGluZ1BhaXIoc3RhdGUsIF9yZXN1bHQsIG92ZXJyaWRhYmxlS2V5cywga2V5VGFnLCBrZXlOb2RlLCBudWxsLCBfa2V5TGluZSwgX2tleUxpbmVTdGFydCwgX2tleVBvcyk7XG4gIH1cblxuICAvLyBFeHBvc2UgdGhlIHJlc3VsdGluZyBtYXBwaW5nLlxuICBpZiAoZGV0ZWN0ZWQpIHtcbiAgICBzdGF0ZS50YWcgPSBfdGFnO1xuICAgIHN0YXRlLmFuY2hvciA9IF9hbmNob3I7XG4gICAgc3RhdGUua2luZCA9ICdtYXBwaW5nJztcbiAgICBzdGF0ZS5yZXN1bHQgPSBfcmVzdWx0O1xuICB9XG5cbiAgcmV0dXJuIGRldGVjdGVkO1xufVxuXG5mdW5jdGlvbiByZWFkVGFnUHJvcGVydHkoc3RhdGUpIHtcbiAgdmFyIF9wb3NpdGlvbixcbiAgICAgIGlzVmVyYmF0aW0gPSBmYWxzZSxcbiAgICAgIGlzTmFtZWQgICAgPSBmYWxzZSxcbiAgICAgIHRhZ0hhbmRsZSxcbiAgICAgIHRhZ05hbWUsXG4gICAgICBjaDtcblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pO1xuXG4gIGlmIChjaCAhPT0gMHgyMS8qICEgKi8pIHJldHVybiBmYWxzZTtcblxuICBpZiAoc3RhdGUudGFnICE9PSBudWxsKSB7XG4gICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2R1cGxpY2F0aW9uIG9mIGEgdGFnIHByb3BlcnR5Jyk7XG4gIH1cblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG5cbiAgaWYgKGNoID09PSAweDNDLyogPCAqLykge1xuICAgIGlzVmVyYmF0aW0gPSB0cnVlO1xuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcblxuICB9IGVsc2UgaWYgKGNoID09PSAweDIxLyogISAqLykge1xuICAgIGlzTmFtZWQgPSB0cnVlO1xuICAgIHRhZ0hhbmRsZSA9ICchISc7XG4gICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuXG4gIH0gZWxzZSB7XG4gICAgdGFnSGFuZGxlID0gJyEnO1xuICB9XG5cbiAgX3Bvc2l0aW9uID0gc3RhdGUucG9zaXRpb247XG5cbiAgaWYgKGlzVmVyYmF0aW0pIHtcbiAgICBkbyB7IGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTsgfVxuICAgIHdoaWxlIChjaCAhPT0gMCAmJiBjaCAhPT0gMHgzRS8qID4gKi8pO1xuXG4gICAgaWYgKHN0YXRlLnBvc2l0aW9uIDwgc3RhdGUubGVuZ3RoKSB7XG4gICAgICB0YWdOYW1lID0gc3RhdGUuaW5wdXQuc2xpY2UoX3Bvc2l0aW9uLCBzdGF0ZS5wb3NpdGlvbik7XG4gICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICd1bmV4cGVjdGVkIGVuZCBvZiB0aGUgc3RyZWFtIHdpdGhpbiBhIHZlcmJhdGltIHRhZycpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoY2ggIT09IDAgJiYgIWlzX1dTX09SX0VPTChjaCkpIHtcblxuICAgICAgaWYgKGNoID09PSAweDIxLyogISAqLykge1xuICAgICAgICBpZiAoIWlzTmFtZWQpIHtcbiAgICAgICAgICB0YWdIYW5kbGUgPSBzdGF0ZS5pbnB1dC5zbGljZShfcG9zaXRpb24gLSAxLCBzdGF0ZS5wb3NpdGlvbiArIDEpO1xuXG4gICAgICAgICAgaWYgKCFQQVRURVJOX1RBR19IQU5ETEUudGVzdCh0YWdIYW5kbGUpKSB7XG4gICAgICAgICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnbmFtZWQgdGFnIGhhbmRsZSBjYW5ub3QgY29udGFpbiBzdWNoIGNoYXJhY3RlcnMnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpc05hbWVkID0gdHJ1ZTtcbiAgICAgICAgICBfcG9zaXRpb24gPSBzdGF0ZS5wb3NpdGlvbiArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3RhZyBzdWZmaXggY2Fubm90IGNvbnRhaW4gZXhjbGFtYXRpb24gbWFya3MnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgfVxuXG4gICAgdGFnTmFtZSA9IHN0YXRlLmlucHV0LnNsaWNlKF9wb3NpdGlvbiwgc3RhdGUucG9zaXRpb24pO1xuXG4gICAgaWYgKFBBVFRFUk5fRkxPV19JTkRJQ0FUT1JTLnRlc3QodGFnTmFtZSkpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICd0YWcgc3VmZml4IGNhbm5vdCBjb250YWluIGZsb3cgaW5kaWNhdG9yIGNoYXJhY3RlcnMnKTtcbiAgICB9XG4gIH1cblxuICBpZiAodGFnTmFtZSAmJiAhUEFUVEVSTl9UQUdfVVJJLnRlc3QodGFnTmFtZSkpIHtcbiAgICB0aHJvd0Vycm9yKHN0YXRlLCAndGFnIG5hbWUgY2Fubm90IGNvbnRhaW4gc3VjaCBjaGFyYWN0ZXJzOiAnICsgdGFnTmFtZSk7XG4gIH1cblxuICB0cnkge1xuICAgIHRhZ05hbWUgPSBkZWNvZGVVUklDb21wb25lbnQodGFnTmFtZSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHRocm93RXJyb3Ioc3RhdGUsICd0YWcgbmFtZSBpcyBtYWxmb3JtZWQ6ICcgKyB0YWdOYW1lKTtcbiAgfVxuXG4gIGlmIChpc1ZlcmJhdGltKSB7XG4gICAgc3RhdGUudGFnID0gdGFnTmFtZTtcblxuICB9IGVsc2UgaWYgKF9oYXNPd25Qcm9wZXJ0eSQxLmNhbGwoc3RhdGUudGFnTWFwLCB0YWdIYW5kbGUpKSB7XG4gICAgc3RhdGUudGFnID0gc3RhdGUudGFnTWFwW3RhZ0hhbmRsZV0gKyB0YWdOYW1lO1xuXG4gIH0gZWxzZSBpZiAodGFnSGFuZGxlID09PSAnIScpIHtcbiAgICBzdGF0ZS50YWcgPSAnIScgKyB0YWdOYW1lO1xuXG4gIH0gZWxzZSBpZiAodGFnSGFuZGxlID09PSAnISEnKSB7XG4gICAgc3RhdGUudGFnID0gJ3RhZzp5YW1sLm9yZywyMDAyOicgKyB0YWdOYW1lO1xuXG4gIH0gZWxzZSB7XG4gICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3VuZGVjbGFyZWQgdGFnIGhhbmRsZSBcIicgKyB0YWdIYW5kbGUgKyAnXCInKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiByZWFkQW5jaG9yUHJvcGVydHkoc3RhdGUpIHtcbiAgdmFyIF9wb3NpdGlvbixcbiAgICAgIGNoO1xuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgaWYgKGNoICE9PSAweDI2LyogJiAqLykgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChzdGF0ZS5hbmNob3IgIT09IG51bGwpIHtcbiAgICB0aHJvd0Vycm9yKHN0YXRlLCAnZHVwbGljYXRpb24gb2YgYW4gYW5jaG9yIHByb3BlcnR5Jyk7XG4gIH1cblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gIF9wb3NpdGlvbiA9IHN0YXRlLnBvc2l0aW9uO1xuXG4gIHdoaWxlIChjaCAhPT0gMCAmJiAhaXNfV1NfT1JfRU9MKGNoKSAmJiAhaXNfRkxPV19JTkRJQ0FUT1IoY2gpKSB7XG4gICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuICB9XG5cbiAgaWYgKHN0YXRlLnBvc2l0aW9uID09PSBfcG9zaXRpb24pIHtcbiAgICB0aHJvd0Vycm9yKHN0YXRlLCAnbmFtZSBvZiBhbiBhbmNob3Igbm9kZSBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIGNoYXJhY3RlcicpO1xuICB9XG5cbiAgc3RhdGUuYW5jaG9yID0gc3RhdGUuaW5wdXQuc2xpY2UoX3Bvc2l0aW9uLCBzdGF0ZS5wb3NpdGlvbik7XG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiByZWFkQWxpYXMoc3RhdGUpIHtcbiAgdmFyIF9wb3NpdGlvbiwgYWxpYXMsXG4gICAgICBjaDtcblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pO1xuXG4gIGlmIChjaCAhPT0gMHgyQS8qICogKi8pIHJldHVybiBmYWxzZTtcblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gIF9wb3NpdGlvbiA9IHN0YXRlLnBvc2l0aW9uO1xuXG4gIHdoaWxlIChjaCAhPT0gMCAmJiAhaXNfV1NfT1JfRU9MKGNoKSAmJiAhaXNfRkxPV19JTkRJQ0FUT1IoY2gpKSB7XG4gICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuICB9XG5cbiAgaWYgKHN0YXRlLnBvc2l0aW9uID09PSBfcG9zaXRpb24pIHtcbiAgICB0aHJvd0Vycm9yKHN0YXRlLCAnbmFtZSBvZiBhbiBhbGlhcyBub2RlIG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgY2hhcmFjdGVyJyk7XG4gIH1cblxuICBhbGlhcyA9IHN0YXRlLmlucHV0LnNsaWNlKF9wb3NpdGlvbiwgc3RhdGUucG9zaXRpb24pO1xuXG4gIGlmICghX2hhc093blByb3BlcnR5JDEuY2FsbChzdGF0ZS5hbmNob3JNYXAsIGFsaWFzKSkge1xuICAgIHRocm93RXJyb3Ioc3RhdGUsICd1bmlkZW50aWZpZWQgYWxpYXMgXCInICsgYWxpYXMgKyAnXCInKTtcbiAgfVxuXG4gIHN0YXRlLnJlc3VsdCA9IHN0YXRlLmFuY2hvck1hcFthbGlhc107XG4gIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIC0xKTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGNvbXBvc2VOb2RlKHN0YXRlLCBwYXJlbnRJbmRlbnQsIG5vZGVDb250ZXh0LCBhbGxvd1RvU2VlaywgYWxsb3dDb21wYWN0KSB7XG4gIHZhciBhbGxvd0Jsb2NrU3R5bGVzLFxuICAgICAgYWxsb3dCbG9ja1NjYWxhcnMsXG4gICAgICBhbGxvd0Jsb2NrQ29sbGVjdGlvbnMsXG4gICAgICBpbmRlbnRTdGF0dXMgPSAxLCAvLyAxOiB0aGlzPnBhcmVudCwgMDogdGhpcz1wYXJlbnQsIC0xOiB0aGlzPHBhcmVudFxuICAgICAgYXROZXdMaW5lICA9IGZhbHNlLFxuICAgICAgaGFzQ29udGVudCA9IGZhbHNlLFxuICAgICAgdHlwZUluZGV4LFxuICAgICAgdHlwZVF1YW50aXR5LFxuICAgICAgdHlwZUxpc3QsXG4gICAgICB0eXBlLFxuICAgICAgZmxvd0luZGVudCxcbiAgICAgIGJsb2NrSW5kZW50O1xuXG4gIGlmIChzdGF0ZS5saXN0ZW5lciAhPT0gbnVsbCkge1xuICAgIHN0YXRlLmxpc3RlbmVyKCdvcGVuJywgc3RhdGUpO1xuICB9XG5cbiAgc3RhdGUudGFnICAgID0gbnVsbDtcbiAgc3RhdGUuYW5jaG9yID0gbnVsbDtcbiAgc3RhdGUua2luZCAgID0gbnVsbDtcbiAgc3RhdGUucmVzdWx0ID0gbnVsbDtcblxuICBhbGxvd0Jsb2NrU3R5bGVzID0gYWxsb3dCbG9ja1NjYWxhcnMgPSBhbGxvd0Jsb2NrQ29sbGVjdGlvbnMgPVxuICAgIENPTlRFWFRfQkxPQ0tfT1VUID09PSBub2RlQ29udGV4dCB8fFxuICAgIENPTlRFWFRfQkxPQ0tfSU4gID09PSBub2RlQ29udGV4dDtcblxuICBpZiAoYWxsb3dUb1NlZWspIHtcbiAgICBpZiAoc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgLTEpKSB7XG4gICAgICBhdE5ld0xpbmUgPSB0cnVlO1xuXG4gICAgICBpZiAoc3RhdGUubGluZUluZGVudCA+IHBhcmVudEluZGVudCkge1xuICAgICAgICBpbmRlbnRTdGF0dXMgPSAxO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZS5saW5lSW5kZW50ID09PSBwYXJlbnRJbmRlbnQpIHtcbiAgICAgICAgaW5kZW50U3RhdHVzID0gMDtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUubGluZUluZGVudCA8IHBhcmVudEluZGVudCkge1xuICAgICAgICBpbmRlbnRTdGF0dXMgPSAtMTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoaW5kZW50U3RhdHVzID09PSAxKSB7XG4gICAgd2hpbGUgKHJlYWRUYWdQcm9wZXJ0eShzdGF0ZSkgfHwgcmVhZEFuY2hvclByb3BlcnR5KHN0YXRlKSkge1xuICAgICAgaWYgKHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIC0xKSkge1xuICAgICAgICBhdE5ld0xpbmUgPSB0cnVlO1xuICAgICAgICBhbGxvd0Jsb2NrQ29sbGVjdGlvbnMgPSBhbGxvd0Jsb2NrU3R5bGVzO1xuXG4gICAgICAgIGlmIChzdGF0ZS5saW5lSW5kZW50ID4gcGFyZW50SW5kZW50KSB7XG4gICAgICAgICAgaW5kZW50U3RhdHVzID0gMTtcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZS5saW5lSW5kZW50ID09PSBwYXJlbnRJbmRlbnQpIHtcbiAgICAgICAgICBpbmRlbnRTdGF0dXMgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLmxpbmVJbmRlbnQgPCBwYXJlbnRJbmRlbnQpIHtcbiAgICAgICAgICBpbmRlbnRTdGF0dXMgPSAtMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWxsb3dCbG9ja0NvbGxlY3Rpb25zID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGFsbG93QmxvY2tDb2xsZWN0aW9ucykge1xuICAgIGFsbG93QmxvY2tDb2xsZWN0aW9ucyA9IGF0TmV3TGluZSB8fCBhbGxvd0NvbXBhY3Q7XG4gIH1cblxuICBpZiAoaW5kZW50U3RhdHVzID09PSAxIHx8IENPTlRFWFRfQkxPQ0tfT1VUID09PSBub2RlQ29udGV4dCkge1xuICAgIGlmIChDT05URVhUX0ZMT1dfSU4gPT09IG5vZGVDb250ZXh0IHx8IENPTlRFWFRfRkxPV19PVVQgPT09IG5vZGVDb250ZXh0KSB7XG4gICAgICBmbG93SW5kZW50ID0gcGFyZW50SW5kZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBmbG93SW5kZW50ID0gcGFyZW50SW5kZW50ICsgMTtcbiAgICB9XG5cbiAgICBibG9ja0luZGVudCA9IHN0YXRlLnBvc2l0aW9uIC0gc3RhdGUubGluZVN0YXJ0O1xuXG4gICAgaWYgKGluZGVudFN0YXR1cyA9PT0gMSkge1xuICAgICAgaWYgKGFsbG93QmxvY2tDb2xsZWN0aW9ucyAmJlxuICAgICAgICAgIChyZWFkQmxvY2tTZXF1ZW5jZShzdGF0ZSwgYmxvY2tJbmRlbnQpIHx8XG4gICAgICAgICAgIHJlYWRCbG9ja01hcHBpbmcoc3RhdGUsIGJsb2NrSW5kZW50LCBmbG93SW5kZW50KSkgfHxcbiAgICAgICAgICByZWFkRmxvd0NvbGxlY3Rpb24oc3RhdGUsIGZsb3dJbmRlbnQpKSB7XG4gICAgICAgIGhhc0NvbnRlbnQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKChhbGxvd0Jsb2NrU2NhbGFycyAmJiByZWFkQmxvY2tTY2FsYXIoc3RhdGUsIGZsb3dJbmRlbnQpKSB8fFxuICAgICAgICAgICAgcmVhZFNpbmdsZVF1b3RlZFNjYWxhcihzdGF0ZSwgZmxvd0luZGVudCkgfHxcbiAgICAgICAgICAgIHJlYWREb3VibGVRdW90ZWRTY2FsYXIoc3RhdGUsIGZsb3dJbmRlbnQpKSB7XG4gICAgICAgICAgaGFzQ29udGVudCA9IHRydWU7XG5cbiAgICAgICAgfSBlbHNlIGlmIChyZWFkQWxpYXMoc3RhdGUpKSB7XG4gICAgICAgICAgaGFzQ29udGVudCA9IHRydWU7XG5cbiAgICAgICAgICBpZiAoc3RhdGUudGFnICE9PSBudWxsIHx8IHN0YXRlLmFuY2hvciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2FsaWFzIG5vZGUgc2hvdWxkIG5vdCBoYXZlIGFueSBwcm9wZXJ0aWVzJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSBpZiAocmVhZFBsYWluU2NhbGFyKHN0YXRlLCBmbG93SW5kZW50LCBDT05URVhUX0ZMT1dfSU4gPT09IG5vZGVDb250ZXh0KSkge1xuICAgICAgICAgIGhhc0NvbnRlbnQgPSB0cnVlO1xuXG4gICAgICAgICAgaWYgKHN0YXRlLnRhZyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgc3RhdGUudGFnID0gJz8nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0ZS5hbmNob3IgIT09IG51bGwpIHtcbiAgICAgICAgICBzdGF0ZS5hbmNob3JNYXBbc3RhdGUuYW5jaG9yXSA9IHN0YXRlLnJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaW5kZW50U3RhdHVzID09PSAwKSB7XG4gICAgICAvLyBTcGVjaWFsIGNhc2U6IGJsb2NrIHNlcXVlbmNlcyBhcmUgYWxsb3dlZCB0byBoYXZlIHNhbWUgaW5kZW50YXRpb24gbGV2ZWwgYXMgdGhlIHBhcmVudC5cbiAgICAgIC8vIGh0dHA6Ly93d3cueWFtbC5vcmcvc3BlYy8xLjIvc3BlYy5odG1sI2lkMjc5OTc4NFxuICAgICAgaGFzQ29udGVudCA9IGFsbG93QmxvY2tDb2xsZWN0aW9ucyAmJiByZWFkQmxvY2tTZXF1ZW5jZShzdGF0ZSwgYmxvY2tJbmRlbnQpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChzdGF0ZS50YWcgPT09IG51bGwpIHtcbiAgICBpZiAoc3RhdGUuYW5jaG9yICE9PSBudWxsKSB7XG4gICAgICBzdGF0ZS5hbmNob3JNYXBbc3RhdGUuYW5jaG9yXSA9IHN0YXRlLnJlc3VsdDtcbiAgICB9XG5cbiAgfSBlbHNlIGlmIChzdGF0ZS50YWcgPT09ICc/Jykge1xuICAgIC8vIEltcGxpY2l0IHJlc29sdmluZyBpcyBub3QgYWxsb3dlZCBmb3Igbm9uLXNjYWxhciB0eXBlcywgYW5kICc/J1xuICAgIC8vIG5vbi1zcGVjaWZpYyB0YWcgaXMgb25seSBhdXRvbWF0aWNhbGx5IGFzc2lnbmVkIHRvIHBsYWluIHNjYWxhcnMuXG4gICAgLy9cbiAgICAvLyBXZSBvbmx5IG5lZWQgdG8gY2hlY2sga2luZCBjb25mb3JtaXR5IGluIGNhc2UgdXNlciBleHBsaWNpdGx5IGFzc2lnbnMgJz8nXG4gICAgLy8gdGFnLCBmb3IgZXhhbXBsZSBsaWtlIHRoaXM6IFwiITw/PiBbMF1cIlxuICAgIC8vXG4gICAgaWYgKHN0YXRlLnJlc3VsdCAhPT0gbnVsbCAmJiBzdGF0ZS5raW5kICE9PSAnc2NhbGFyJykge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3VuYWNjZXB0YWJsZSBub2RlIGtpbmQgZm9yICE8Pz4gdGFnOyBpdCBzaG91bGQgYmUgXCJzY2FsYXJcIiwgbm90IFwiJyArIHN0YXRlLmtpbmQgKyAnXCInKTtcbiAgICB9XG5cbiAgICBmb3IgKHR5cGVJbmRleCA9IDAsIHR5cGVRdWFudGl0eSA9IHN0YXRlLmltcGxpY2l0VHlwZXMubGVuZ3RoOyB0eXBlSW5kZXggPCB0eXBlUXVhbnRpdHk7IHR5cGVJbmRleCArPSAxKSB7XG4gICAgICB0eXBlID0gc3RhdGUuaW1wbGljaXRUeXBlc1t0eXBlSW5kZXhdO1xuXG4gICAgICBpZiAodHlwZS5yZXNvbHZlKHN0YXRlLnJlc3VsdCkpIHsgLy8gYHN0YXRlLnJlc3VsdGAgdXBkYXRlZCBpbiByZXNvbHZlciBpZiBtYXRjaGVkXG4gICAgICAgIHN0YXRlLnJlc3VsdCA9IHR5cGUuY29uc3RydWN0KHN0YXRlLnJlc3VsdCk7XG4gICAgICAgIHN0YXRlLnRhZyA9IHR5cGUudGFnO1xuICAgICAgICBpZiAoc3RhdGUuYW5jaG9yICE9PSBudWxsKSB7XG4gICAgICAgICAgc3RhdGUuYW5jaG9yTWFwW3N0YXRlLmFuY2hvcl0gPSBzdGF0ZS5yZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKHN0YXRlLnRhZyAhPT0gJyEnKSB7XG4gICAgaWYgKF9oYXNPd25Qcm9wZXJ0eSQxLmNhbGwoc3RhdGUudHlwZU1hcFtzdGF0ZS5raW5kIHx8ICdmYWxsYmFjayddLCBzdGF0ZS50YWcpKSB7XG4gICAgICB0eXBlID0gc3RhdGUudHlwZU1hcFtzdGF0ZS5raW5kIHx8ICdmYWxsYmFjayddW3N0YXRlLnRhZ107XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGxvb2tpbmcgZm9yIG11bHRpIHR5cGVcbiAgICAgIHR5cGUgPSBudWxsO1xuICAgICAgdHlwZUxpc3QgPSBzdGF0ZS50eXBlTWFwLm11bHRpW3N0YXRlLmtpbmQgfHwgJ2ZhbGxiYWNrJ107XG5cbiAgICAgIGZvciAodHlwZUluZGV4ID0gMCwgdHlwZVF1YW50aXR5ID0gdHlwZUxpc3QubGVuZ3RoOyB0eXBlSW5kZXggPCB0eXBlUXVhbnRpdHk7IHR5cGVJbmRleCArPSAxKSB7XG4gICAgICAgIGlmIChzdGF0ZS50YWcuc2xpY2UoMCwgdHlwZUxpc3RbdHlwZUluZGV4XS50YWcubGVuZ3RoKSA9PT0gdHlwZUxpc3RbdHlwZUluZGV4XS50YWcpIHtcbiAgICAgICAgICB0eXBlID0gdHlwZUxpc3RbdHlwZUluZGV4XTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghdHlwZSkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3Vua25vd24gdGFnICE8JyArIHN0YXRlLnRhZyArICc+Jyk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXRlLnJlc3VsdCAhPT0gbnVsbCAmJiB0eXBlLmtpbmQgIT09IHN0YXRlLmtpbmQpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICd1bmFjY2VwdGFibGUgbm9kZSBraW5kIGZvciAhPCcgKyBzdGF0ZS50YWcgKyAnPiB0YWc7IGl0IHNob3VsZCBiZSBcIicgKyB0eXBlLmtpbmQgKyAnXCIsIG5vdCBcIicgKyBzdGF0ZS5raW5kICsgJ1wiJyk7XG4gICAgfVxuXG4gICAgaWYgKCF0eXBlLnJlc29sdmUoc3RhdGUucmVzdWx0LCBzdGF0ZS50YWcpKSB7IC8vIGBzdGF0ZS5yZXN1bHRgIHVwZGF0ZWQgaW4gcmVzb2x2ZXIgaWYgbWF0Y2hlZFxuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2Nhbm5vdCByZXNvbHZlIGEgbm9kZSB3aXRoICE8JyArIHN0YXRlLnRhZyArICc+IGV4cGxpY2l0IHRhZycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5yZXN1bHQgPSB0eXBlLmNvbnN0cnVjdChzdGF0ZS5yZXN1bHQsIHN0YXRlLnRhZyk7XG4gICAgICBpZiAoc3RhdGUuYW5jaG9yICE9PSBudWxsKSB7XG4gICAgICAgIHN0YXRlLmFuY2hvck1hcFtzdGF0ZS5hbmNob3JdID0gc3RhdGUucmVzdWx0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChzdGF0ZS5saXN0ZW5lciAhPT0gbnVsbCkge1xuICAgIHN0YXRlLmxpc3RlbmVyKCdjbG9zZScsIHN0YXRlKTtcbiAgfVxuICByZXR1cm4gc3RhdGUudGFnICE9PSBudWxsIHx8ICBzdGF0ZS5hbmNob3IgIT09IG51bGwgfHwgaGFzQ29udGVudDtcbn1cblxuZnVuY3Rpb24gcmVhZERvY3VtZW50KHN0YXRlKSB7XG4gIHZhciBkb2N1bWVudFN0YXJ0ID0gc3RhdGUucG9zaXRpb24sXG4gICAgICBfcG9zaXRpb24sXG4gICAgICBkaXJlY3RpdmVOYW1lLFxuICAgICAgZGlyZWN0aXZlQXJncyxcbiAgICAgIGhhc0RpcmVjdGl2ZXMgPSBmYWxzZSxcbiAgICAgIGNoO1xuXG4gIHN0YXRlLnZlcnNpb24gPSBudWxsO1xuICBzdGF0ZS5jaGVja0xpbmVCcmVha3MgPSBzdGF0ZS5sZWdhY3k7XG4gIHN0YXRlLnRhZ01hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHN0YXRlLmFuY2hvck1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgd2hpbGUgKChjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pKSAhPT0gMCkge1xuICAgIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIC0xKTtcblxuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgICBpZiAoc3RhdGUubGluZUluZGVudCA+IDAgfHwgY2ggIT09IDB4MjUvKiAlICovKSB7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICBoYXNEaXJlY3RpdmVzID0gdHJ1ZTtcbiAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgX3Bvc2l0aW9uID0gc3RhdGUucG9zaXRpb247XG5cbiAgICB3aGlsZSAoY2ggIT09IDAgJiYgIWlzX1dTX09SX0VPTChjaCkpIHtcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICBkaXJlY3RpdmVOYW1lID0gc3RhdGUuaW5wdXQuc2xpY2UoX3Bvc2l0aW9uLCBzdGF0ZS5wb3NpdGlvbik7XG4gICAgZGlyZWN0aXZlQXJncyA9IFtdO1xuXG4gICAgaWYgKGRpcmVjdGl2ZU5hbWUubGVuZ3RoIDwgMSkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2RpcmVjdGl2ZSBuYW1lIG11c3Qgbm90IGJlIGxlc3MgdGhhbiBvbmUgY2hhcmFjdGVyIGluIGxlbmd0aCcpO1xuICAgIH1cblxuICAgIHdoaWxlIChjaCAhPT0gMCkge1xuICAgICAgd2hpbGUgKGlzX1dISVRFX1NQQUNFKGNoKSkge1xuICAgICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgICB9XG5cbiAgICAgIGlmIChjaCA9PT0gMHgyMy8qICMgKi8pIHtcbiAgICAgICAgZG8geyBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7IH1cbiAgICAgICAgd2hpbGUgKGNoICE9PSAwICYmICFpc19FT0woY2gpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc19FT0woY2gpKSBicmVhaztcblxuICAgICAgX3Bvc2l0aW9uID0gc3RhdGUucG9zaXRpb247XG5cbiAgICAgIHdoaWxlIChjaCAhPT0gMCAmJiAhaXNfV1NfT1JfRU9MKGNoKSkge1xuICAgICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgICB9XG5cbiAgICAgIGRpcmVjdGl2ZUFyZ3MucHVzaChzdGF0ZS5pbnB1dC5zbGljZShfcG9zaXRpb24sIHN0YXRlLnBvc2l0aW9uKSk7XG4gICAgfVxuXG4gICAgaWYgKGNoICE9PSAwKSByZWFkTGluZUJyZWFrKHN0YXRlKTtcblxuICAgIGlmIChfaGFzT3duUHJvcGVydHkkMS5jYWxsKGRpcmVjdGl2ZUhhbmRsZXJzLCBkaXJlY3RpdmVOYW1lKSkge1xuICAgICAgZGlyZWN0aXZlSGFuZGxlcnNbZGlyZWN0aXZlTmFtZV0oc3RhdGUsIGRpcmVjdGl2ZU5hbWUsIGRpcmVjdGl2ZUFyZ3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvd1dhcm5pbmcoc3RhdGUsICd1bmtub3duIGRvY3VtZW50IGRpcmVjdGl2ZSBcIicgKyBkaXJlY3RpdmVOYW1lICsgJ1wiJyk7XG4gICAgfVxuICB9XG5cbiAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgLTEpO1xuXG4gIGlmIChzdGF0ZS5saW5lSW5kZW50ID09PSAwICYmXG4gICAgICBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKSAgICAgPT09IDB4MkQvKiAtICovICYmXG4gICAgICBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uICsgMSkgPT09IDB4MkQvKiAtICovICYmXG4gICAgICBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uICsgMikgPT09IDB4MkQvKiAtICovKSB7XG4gICAgc3RhdGUucG9zaXRpb24gKz0gMztcbiAgICBza2lwU2VwYXJhdGlvblNwYWNlKHN0YXRlLCB0cnVlLCAtMSk7XG5cbiAgfSBlbHNlIGlmIChoYXNEaXJlY3RpdmVzKSB7XG4gICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2RpcmVjdGl2ZXMgZW5kIG1hcmsgaXMgZXhwZWN0ZWQnKTtcbiAgfVxuXG4gIGNvbXBvc2VOb2RlKHN0YXRlLCBzdGF0ZS5saW5lSW5kZW50IC0gMSwgQ09OVEVYVF9CTE9DS19PVVQsIGZhbHNlLCB0cnVlKTtcbiAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgLTEpO1xuXG4gIGlmIChzdGF0ZS5jaGVja0xpbmVCcmVha3MgJiZcbiAgICAgIFBBVFRFUk5fTk9OX0FTQ0lJX0xJTkVfQlJFQUtTLnRlc3Qoc3RhdGUuaW5wdXQuc2xpY2UoZG9jdW1lbnRTdGFydCwgc3RhdGUucG9zaXRpb24pKSkge1xuICAgIHRocm93V2FybmluZyhzdGF0ZSwgJ25vbi1BU0NJSSBsaW5lIGJyZWFrcyBhcmUgaW50ZXJwcmV0ZWQgYXMgY29udGVudCcpO1xuICB9XG5cbiAgc3RhdGUuZG9jdW1lbnRzLnB1c2goc3RhdGUucmVzdWx0KTtcblxuICBpZiAoc3RhdGUucG9zaXRpb24gPT09IHN0YXRlLmxpbmVTdGFydCAmJiB0ZXN0RG9jdW1lbnRTZXBhcmF0b3Ioc3RhdGUpKSB7XG5cbiAgICBpZiAoc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbikgPT09IDB4MkUvKiAuICovKSB7XG4gICAgICBzdGF0ZS5wb3NpdGlvbiArPSAzO1xuICAgICAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgLTEpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoc3RhdGUucG9zaXRpb24gPCAoc3RhdGUubGVuZ3RoIC0gMSkpIHtcbiAgICB0aHJvd0Vycm9yKHN0YXRlLCAnZW5kIG9mIHRoZSBzdHJlYW0gb3IgYSBkb2N1bWVudCBzZXBhcmF0b3IgaXMgZXhwZWN0ZWQnKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm47XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBsb2FkRG9jdW1lbnRzKGlucHV0LCBvcHRpb25zKSB7XG4gIGlucHV0ID0gU3RyaW5nKGlucHV0KTtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgaWYgKGlucHV0Lmxlbmd0aCAhPT0gMCkge1xuXG4gICAgLy8gQWRkIHRhaWxpbmcgYFxcbmAgaWYgbm90IGV4aXN0c1xuICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KGlucHV0Lmxlbmd0aCAtIDEpICE9PSAweDBBLyogTEYgKi8gJiZcbiAgICAgICAgaW5wdXQuY2hhckNvZGVBdChpbnB1dC5sZW5ndGggLSAxKSAhPT0gMHgwRC8qIENSICovKSB7XG4gICAgICBpbnB1dCArPSAnXFxuJztcbiAgICB9XG5cbiAgICAvLyBTdHJpcCBCT01cbiAgICBpZiAoaW5wdXQuY2hhckNvZGVBdCgwKSA9PT0gMHhGRUZGKSB7XG4gICAgICBpbnB1dCA9IGlucHV0LnNsaWNlKDEpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBzdGF0ZSA9IG5ldyBTdGF0ZSQxKGlucHV0LCBvcHRpb25zKTtcblxuICB2YXIgbnVsbHBvcyA9IGlucHV0LmluZGV4T2YoJ1xcMCcpO1xuXG4gIGlmIChudWxscG9zICE9PSAtMSkge1xuICAgIHN0YXRlLnBvc2l0aW9uID0gbnVsbHBvcztcbiAgICB0aHJvd0Vycm9yKHN0YXRlLCAnbnVsbCBieXRlIGlzIG5vdCBhbGxvd2VkIGluIGlucHV0Jyk7XG4gIH1cblxuICAvLyBVc2UgMCBhcyBzdHJpbmcgdGVybWluYXRvci4gVGhhdCBzaWduaWZpY2FudGx5IHNpbXBsaWZpZXMgYm91bmRzIGNoZWNrLlxuICBzdGF0ZS5pbnB1dCArPSAnXFwwJztcblxuICB3aGlsZSAoc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbikgPT09IDB4MjAvKiBTcGFjZSAqLykge1xuICAgIHN0YXRlLmxpbmVJbmRlbnQgKz0gMTtcbiAgICBzdGF0ZS5wb3NpdGlvbiArPSAxO1xuICB9XG5cbiAgd2hpbGUgKHN0YXRlLnBvc2l0aW9uIDwgKHN0YXRlLmxlbmd0aCAtIDEpKSB7XG4gICAgcmVhZERvY3VtZW50KHN0YXRlKTtcbiAgfVxuXG4gIHJldHVybiBzdGF0ZS5kb2N1bWVudHM7XG59XG5cblxuZnVuY3Rpb24gbG9hZEFsbCQxKGlucHV0LCBpdGVyYXRvciwgb3B0aW9ucykge1xuICBpZiAoaXRlcmF0b3IgIT09IG51bGwgJiYgdHlwZW9mIGl0ZXJhdG9yID09PSAnb2JqZWN0JyAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBvcHRpb25zID0gaXRlcmF0b3I7XG4gICAgaXRlcmF0b3IgPSBudWxsO1xuICB9XG5cbiAgdmFyIGRvY3VtZW50cyA9IGxvYWREb2N1bWVudHMoaW5wdXQsIG9wdGlvbnMpO1xuXG4gIGlmICh0eXBlb2YgaXRlcmF0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZG9jdW1lbnRzO1xuICB9XG5cbiAgZm9yICh2YXIgaW5kZXggPSAwLCBsZW5ndGggPSBkb2N1bWVudHMubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgIGl0ZXJhdG9yKGRvY3VtZW50c1tpbmRleF0pO1xuICB9XG59XG5cblxuZnVuY3Rpb24gbG9hZCQxKGlucHV0LCBvcHRpb25zKSB7XG4gIHZhciBkb2N1bWVudHMgPSBsb2FkRG9jdW1lbnRzKGlucHV0LCBvcHRpb25zKTtcblxuICBpZiAoZG9jdW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIC8qZXNsaW50LWRpc2FibGUgbm8tdW5kZWZpbmVkKi9cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9IGVsc2UgaWYgKGRvY3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gZG9jdW1lbnRzWzBdO1xuICB9XG4gIHRocm93IG5ldyBleGNlcHRpb24oJ2V4cGVjdGVkIGEgc2luZ2xlIGRvY3VtZW50IGluIHRoZSBzdHJlYW0sIGJ1dCBmb3VuZCBtb3JlJyk7XG59XG5cblxudmFyIGxvYWRBbGxfMSA9IGxvYWRBbGwkMTtcbnZhciBsb2FkXzEgICAgPSBsb2FkJDE7XG5cbnZhciBsb2FkZXIgPSB7XG5cdGxvYWRBbGw6IGxvYWRBbGxfMSxcblx0bG9hZDogbG9hZF8xXG59O1xuXG4vKmVzbGludC1kaXNhYmxlIG5vLXVzZS1iZWZvcmUtZGVmaW5lKi9cblxuXG5cblxuXG52YXIgX3RvU3RyaW5nICAgICAgID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbnZhciBfaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG52YXIgQ0hBUl9CT00gICAgICAgICAgICAgICAgICA9IDB4RkVGRjtcbnZhciBDSEFSX1RBQiAgICAgICAgICAgICAgICAgID0gMHgwOTsgLyogVGFiICovXG52YXIgQ0hBUl9MSU5FX0ZFRUQgICAgICAgICAgICA9IDB4MEE7IC8qIExGICovXG52YXIgQ0hBUl9DQVJSSUFHRV9SRVRVUk4gICAgICA9IDB4MEQ7IC8qIENSICovXG52YXIgQ0hBUl9TUEFDRSAgICAgICAgICAgICAgICA9IDB4MjA7IC8qIFNwYWNlICovXG52YXIgQ0hBUl9FWENMQU1BVElPTiAgICAgICAgICA9IDB4MjE7IC8qICEgKi9cbnZhciBDSEFSX0RPVUJMRV9RVU9URSAgICAgICAgID0gMHgyMjsgLyogXCIgKi9cbnZhciBDSEFSX1NIQVJQICAgICAgICAgICAgICAgID0gMHgyMzsgLyogIyAqL1xudmFyIENIQVJfUEVSQ0VOVCAgICAgICAgICAgICAgPSAweDI1OyAvKiAlICovXG52YXIgQ0hBUl9BTVBFUlNBTkQgICAgICAgICAgICA9IDB4MjY7IC8qICYgKi9cbnZhciBDSEFSX1NJTkdMRV9RVU9URSAgICAgICAgID0gMHgyNzsgLyogJyAqL1xudmFyIENIQVJfQVNURVJJU0sgICAgICAgICAgICAgPSAweDJBOyAvKiAqICovXG52YXIgQ0hBUl9DT01NQSAgICAgICAgICAgICAgICA9IDB4MkM7IC8qICwgKi9cbnZhciBDSEFSX01JTlVTICAgICAgICAgICAgICAgID0gMHgyRDsgLyogLSAqL1xudmFyIENIQVJfQ09MT04gICAgICAgICAgICAgICAgPSAweDNBOyAvKiA6ICovXG52YXIgQ0hBUl9FUVVBTFMgICAgICAgICAgICAgICA9IDB4M0Q7IC8qID0gKi9cbnZhciBDSEFSX0dSRUFURVJfVEhBTiAgICAgICAgID0gMHgzRTsgLyogPiAqL1xudmFyIENIQVJfUVVFU1RJT04gICAgICAgICAgICAgPSAweDNGOyAvKiA/ICovXG52YXIgQ0hBUl9DT01NRVJDSUFMX0FUICAgICAgICA9IDB4NDA7IC8qIEAgKi9cbnZhciBDSEFSX0xFRlRfU1FVQVJFX0JSQUNLRVQgID0gMHg1QjsgLyogWyAqL1xudmFyIENIQVJfUklHSFRfU1FVQVJFX0JSQUNLRVQgPSAweDVEOyAvKiBdICovXG52YXIgQ0hBUl9HUkFWRV9BQ0NFTlQgICAgICAgICA9IDB4NjA7IC8qIGAgKi9cbnZhciBDSEFSX0xFRlRfQ1VSTFlfQlJBQ0tFVCAgID0gMHg3QjsgLyogeyAqL1xudmFyIENIQVJfVkVSVElDQUxfTElORSAgICAgICAgPSAweDdDOyAvKiB8ICovXG52YXIgQ0hBUl9SSUdIVF9DVVJMWV9CUkFDS0VUICA9IDB4N0Q7IC8qIH0gKi9cblxudmFyIEVTQ0FQRV9TRVFVRU5DRVMgPSB7fTtcblxuRVNDQVBFX1NFUVVFTkNFU1sweDAwXSAgID0gJ1xcXFwwJztcbkVTQ0FQRV9TRVFVRU5DRVNbMHgwN10gICA9ICdcXFxcYSc7XG5FU0NBUEVfU0VRVUVOQ0VTWzB4MDhdICAgPSAnXFxcXGInO1xuRVNDQVBFX1NFUVVFTkNFU1sweDA5XSAgID0gJ1xcXFx0JztcbkVTQ0FQRV9TRVFVRU5DRVNbMHgwQV0gICA9ICdcXFxcbic7XG5FU0NBUEVfU0VRVUVOQ0VTWzB4MEJdICAgPSAnXFxcXHYnO1xuRVNDQVBFX1NFUVVFTkNFU1sweDBDXSAgID0gJ1xcXFxmJztcbkVTQ0FQRV9TRVFVRU5DRVNbMHgwRF0gICA9ICdcXFxccic7XG5FU0NBUEVfU0VRVUVOQ0VTWzB4MUJdICAgPSAnXFxcXGUnO1xuRVNDQVBFX1NFUVVFTkNFU1sweDIyXSAgID0gJ1xcXFxcIic7XG5FU0NBUEVfU0VRVUVOQ0VTWzB4NUNdICAgPSAnXFxcXFxcXFwnO1xuRVNDQVBFX1NFUVVFTkNFU1sweDg1XSAgID0gJ1xcXFxOJztcbkVTQ0FQRV9TRVFVRU5DRVNbMHhBMF0gICA9ICdcXFxcXyc7XG5FU0NBUEVfU0VRVUVOQ0VTWzB4MjAyOF0gPSAnXFxcXEwnO1xuRVNDQVBFX1NFUVVFTkNFU1sweDIwMjldID0gJ1xcXFxQJztcblxudmFyIERFUFJFQ0FURURfQk9PTEVBTlNfU1lOVEFYID0gW1xuICAneScsICdZJywgJ3llcycsICdZZXMnLCAnWUVTJywgJ29uJywgJ09uJywgJ09OJyxcbiAgJ24nLCAnTicsICdubycsICdObycsICdOTycsICdvZmYnLCAnT2ZmJywgJ09GRidcbl07XG5cbnZhciBERVBSRUNBVEVEX0JBU0U2MF9TWU5UQVggPSAvXlstK10/WzAtOV9dKyg/OjpbMC05X10rKSsoPzpcXC5bMC05X10qKT8kLztcblxuZnVuY3Rpb24gY29tcGlsZVN0eWxlTWFwKHNjaGVtYSwgbWFwKSB7XG4gIHZhciByZXN1bHQsIGtleXMsIGluZGV4LCBsZW5ndGgsIHRhZywgc3R5bGUsIHR5cGU7XG5cbiAgaWYgKG1hcCA9PT0gbnVsbCkgcmV0dXJuIHt9O1xuXG4gIHJlc3VsdCA9IHt9O1xuICBrZXlzID0gT2JqZWN0LmtleXMobWFwKTtcblxuICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgdGFnID0ga2V5c1tpbmRleF07XG4gICAgc3R5bGUgPSBTdHJpbmcobWFwW3RhZ10pO1xuXG4gICAgaWYgKHRhZy5zbGljZSgwLCAyKSA9PT0gJyEhJykge1xuICAgICAgdGFnID0gJ3RhZzp5YW1sLm9yZywyMDAyOicgKyB0YWcuc2xpY2UoMik7XG4gICAgfVxuICAgIHR5cGUgPSBzY2hlbWEuY29tcGlsZWRUeXBlTWFwWydmYWxsYmFjayddW3RhZ107XG5cbiAgICBpZiAodHlwZSAmJiBfaGFzT3duUHJvcGVydHkuY2FsbCh0eXBlLnN0eWxlQWxpYXNlcywgc3R5bGUpKSB7XG4gICAgICBzdHlsZSA9IHR5cGUuc3R5bGVBbGlhc2VzW3N0eWxlXTtcbiAgICB9XG5cbiAgICByZXN1bHRbdGFnXSA9IHN0eWxlO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gZW5jb2RlSGV4KGNoYXJhY3Rlcikge1xuICB2YXIgc3RyaW5nLCBoYW5kbGUsIGxlbmd0aDtcblxuICBzdHJpbmcgPSBjaGFyYWN0ZXIudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG5cbiAgaWYgKGNoYXJhY3RlciA8PSAweEZGKSB7XG4gICAgaGFuZGxlID0gJ3gnO1xuICAgIGxlbmd0aCA9IDI7XG4gIH0gZWxzZSBpZiAoY2hhcmFjdGVyIDw9IDB4RkZGRikge1xuICAgIGhhbmRsZSA9ICd1JztcbiAgICBsZW5ndGggPSA0O1xuICB9IGVsc2UgaWYgKGNoYXJhY3RlciA8PSAweEZGRkZGRkZGKSB7XG4gICAgaGFuZGxlID0gJ1UnO1xuICAgIGxlbmd0aCA9IDg7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IGV4Y2VwdGlvbignY29kZSBwb2ludCB3aXRoaW4gYSBzdHJpbmcgbWF5IG5vdCBiZSBncmVhdGVyIHRoYW4gMHhGRkZGRkZGRicpO1xuICB9XG5cbiAgcmV0dXJuICdcXFxcJyArIGhhbmRsZSArIGNvbW1vbi5yZXBlYXQoJzAnLCBsZW5ndGggLSBzdHJpbmcubGVuZ3RoKSArIHN0cmluZztcbn1cblxuXG52YXIgUVVPVElOR19UWVBFX1NJTkdMRSA9IDEsXG4gICAgUVVPVElOR19UWVBFX0RPVUJMRSA9IDI7XG5cbmZ1bmN0aW9uIFN0YXRlKG9wdGlvbnMpIHtcbiAgdGhpcy5zY2hlbWEgICAgICAgID0gb3B0aW9uc1snc2NoZW1hJ10gfHwgX2RlZmF1bHQ7XG4gIHRoaXMuaW5kZW50ICAgICAgICA9IE1hdGgubWF4KDEsIChvcHRpb25zWydpbmRlbnQnXSB8fCAyKSk7XG4gIHRoaXMubm9BcnJheUluZGVudCA9IG9wdGlvbnNbJ25vQXJyYXlJbmRlbnQnXSB8fCBmYWxzZTtcbiAgdGhpcy5za2lwSW52YWxpZCAgID0gb3B0aW9uc1snc2tpcEludmFsaWQnXSB8fCBmYWxzZTtcbiAgdGhpcy5mbG93TGV2ZWwgICAgID0gKGNvbW1vbi5pc05vdGhpbmcob3B0aW9uc1snZmxvd0xldmVsJ10pID8gLTEgOiBvcHRpb25zWydmbG93TGV2ZWwnXSk7XG4gIHRoaXMuc3R5bGVNYXAgICAgICA9IGNvbXBpbGVTdHlsZU1hcCh0aGlzLnNjaGVtYSwgb3B0aW9uc1snc3R5bGVzJ10gfHwgbnVsbCk7XG4gIHRoaXMuc29ydEtleXMgICAgICA9IG9wdGlvbnNbJ3NvcnRLZXlzJ10gfHwgZmFsc2U7XG4gIHRoaXMubGluZVdpZHRoICAgICA9IG9wdGlvbnNbJ2xpbmVXaWR0aCddIHx8IDgwO1xuICB0aGlzLm5vUmVmcyAgICAgICAgPSBvcHRpb25zWydub1JlZnMnXSB8fCBmYWxzZTtcbiAgdGhpcy5ub0NvbXBhdE1vZGUgID0gb3B0aW9uc1snbm9Db21wYXRNb2RlJ10gfHwgZmFsc2U7XG4gIHRoaXMuY29uZGVuc2VGbG93ICA9IG9wdGlvbnNbJ2NvbmRlbnNlRmxvdyddIHx8IGZhbHNlO1xuICB0aGlzLnF1b3RpbmdUeXBlICAgPSBvcHRpb25zWydxdW90aW5nVHlwZSddID09PSAnXCInID8gUVVPVElOR19UWVBFX0RPVUJMRSA6IFFVT1RJTkdfVFlQRV9TSU5HTEU7XG4gIHRoaXMuZm9yY2VRdW90ZXMgICA9IG9wdGlvbnNbJ2ZvcmNlUXVvdGVzJ10gfHwgZmFsc2U7XG4gIHRoaXMucmVwbGFjZXIgICAgICA9IHR5cGVvZiBvcHRpb25zWydyZXBsYWNlciddID09PSAnZnVuY3Rpb24nID8gb3B0aW9uc1sncmVwbGFjZXInXSA6IG51bGw7XG5cbiAgdGhpcy5pbXBsaWNpdFR5cGVzID0gdGhpcy5zY2hlbWEuY29tcGlsZWRJbXBsaWNpdDtcbiAgdGhpcy5leHBsaWNpdFR5cGVzID0gdGhpcy5zY2hlbWEuY29tcGlsZWRFeHBsaWNpdDtcblxuICB0aGlzLnRhZyA9IG51bGw7XG4gIHRoaXMucmVzdWx0ID0gJyc7XG5cbiAgdGhpcy5kdXBsaWNhdGVzID0gW107XG4gIHRoaXMudXNlZER1cGxpY2F0ZXMgPSBudWxsO1xufVxuXG4vLyBJbmRlbnRzIGV2ZXJ5IGxpbmUgaW4gYSBzdHJpbmcuIEVtcHR5IGxpbmVzIChcXG4gb25seSkgYXJlIG5vdCBpbmRlbnRlZC5cbmZ1bmN0aW9uIGluZGVudFN0cmluZyhzdHJpbmcsIHNwYWNlcykge1xuICB2YXIgaW5kID0gY29tbW9uLnJlcGVhdCgnICcsIHNwYWNlcyksXG4gICAgICBwb3NpdGlvbiA9IDAsXG4gICAgICBuZXh0ID0gLTEsXG4gICAgICByZXN1bHQgPSAnJyxcbiAgICAgIGxpbmUsXG4gICAgICBsZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuXG4gIHdoaWxlIChwb3NpdGlvbiA8IGxlbmd0aCkge1xuICAgIG5leHQgPSBzdHJpbmcuaW5kZXhPZignXFxuJywgcG9zaXRpb24pO1xuICAgIGlmIChuZXh0ID09PSAtMSkge1xuICAgICAgbGluZSA9IHN0cmluZy5zbGljZShwb3NpdGlvbik7XG4gICAgICBwb3NpdGlvbiA9IGxlbmd0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgbGluZSA9IHN0cmluZy5zbGljZShwb3NpdGlvbiwgbmV4dCArIDEpO1xuICAgICAgcG9zaXRpb24gPSBuZXh0ICsgMTtcbiAgICB9XG5cbiAgICBpZiAobGluZS5sZW5ndGggJiYgbGluZSAhPT0gJ1xcbicpIHJlc3VsdCArPSBpbmQ7XG5cbiAgICByZXN1bHQgKz0gbGluZTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlTmV4dExpbmUoc3RhdGUsIGxldmVsKSB7XG4gIHJldHVybiAnXFxuJyArIGNvbW1vbi5yZXBlYXQoJyAnLCBzdGF0ZS5pbmRlbnQgKiBsZXZlbCk7XG59XG5cbmZ1bmN0aW9uIHRlc3RJbXBsaWNpdFJlc29sdmluZyhzdGF0ZSwgc3RyKSB7XG4gIHZhciBpbmRleCwgbGVuZ3RoLCB0eXBlO1xuXG4gIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBzdGF0ZS5pbXBsaWNpdFR5cGVzLmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICB0eXBlID0gc3RhdGUuaW1wbGljaXRUeXBlc1tpbmRleF07XG5cbiAgICBpZiAodHlwZS5yZXNvbHZlKHN0cikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLy8gWzMzXSBzLXdoaXRlIDo6PSBzLXNwYWNlIHwgcy10YWJcbmZ1bmN0aW9uIGlzV2hpdGVzcGFjZShjKSB7XG4gIHJldHVybiBjID09PSBDSEFSX1NQQUNFIHx8IGMgPT09IENIQVJfVEFCO1xufVxuXG4vLyBSZXR1cm5zIHRydWUgaWYgdGhlIGNoYXJhY3RlciBjYW4gYmUgcHJpbnRlZCB3aXRob3V0IGVzY2FwaW5nLlxuLy8gRnJvbSBZQU1MIDEuMjogXCJhbnkgYWxsb3dlZCBjaGFyYWN0ZXJzIGtub3duIHRvIGJlIG5vbi1wcmludGFibGVcbi8vIHNob3VsZCBhbHNvIGJlIGVzY2FwZWQuIFtIb3dldmVyLF0gVGhpcyBpc27igJl0IG1hbmRhdG9yeVwiXG4vLyBEZXJpdmVkIGZyb20gbmItY2hhciAtIFxcdCAtICN4ODUgLSAjeEEwIC0gI3gyMDI4IC0gI3gyMDI5LlxuZnVuY3Rpb24gaXNQcmludGFibGUoYykge1xuICByZXR1cm4gICgweDAwMDIwIDw9IGMgJiYgYyA8PSAweDAwMDA3RSlcbiAgICAgIHx8ICgoMHgwMDBBMSA8PSBjICYmIGMgPD0gMHgwMEQ3RkYpICYmIGMgIT09IDB4MjAyOCAmJiBjICE9PSAweDIwMjkpXG4gICAgICB8fCAoKDB4MEUwMDAgPD0gYyAmJiBjIDw9IDB4MDBGRkZEKSAmJiBjICE9PSBDSEFSX0JPTSlcbiAgICAgIHx8ICAoMHgxMDAwMCA8PSBjICYmIGMgPD0gMHgxMEZGRkYpO1xufVxuXG4vLyBbMzRdIG5zLWNoYXIgOjo9IG5iLWNoYXIgLSBzLXdoaXRlXG4vLyBbMjddIG5iLWNoYXIgOjo9IGMtcHJpbnRhYmxlIC0gYi1jaGFyIC0gYy1ieXRlLW9yZGVyLW1hcmtcbi8vIFsyNl0gYi1jaGFyICA6Oj0gYi1saW5lLWZlZWQgfCBiLWNhcnJpYWdlLXJldHVyblxuLy8gSW5jbHVkaW5nIHMtd2hpdGUgKGZvciBzb21lIHJlYXNvbiwgZXhhbXBsZXMgZG9lc24ndCBtYXRjaCBzcGVjcyBpbiB0aGlzIGFzcGVjdClcbi8vIG5zLWNoYXIgOjo9IGMtcHJpbnRhYmxlIC0gYi1saW5lLWZlZWQgLSBiLWNhcnJpYWdlLXJldHVybiAtIGMtYnl0ZS1vcmRlci1tYXJrXG5mdW5jdGlvbiBpc05zQ2hhck9yV2hpdGVzcGFjZShjKSB7XG4gIHJldHVybiBpc1ByaW50YWJsZShjKVxuICAgICYmIGMgIT09IENIQVJfQk9NXG4gICAgLy8gLSBiLWNoYXJcbiAgICAmJiBjICE9PSBDSEFSX0NBUlJJQUdFX1JFVFVSTlxuICAgICYmIGMgIT09IENIQVJfTElORV9GRUVEO1xufVxuXG4vLyBbMTI3XSAgbnMtcGxhaW4tc2FmZShjKSA6Oj0gYyA9IGZsb3ctb3V0ICDih5IgbnMtcGxhaW4tc2FmZS1vdXRcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjID0gZmxvdy1pbiAgIOKHkiBucy1wbGFpbi1zYWZlLWluXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYyA9IGJsb2NrLWtleSDih5IgbnMtcGxhaW4tc2FmZS1vdXRcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjID0gZmxvdy1rZXkgIOKHkiBucy1wbGFpbi1zYWZlLWluXG4vLyBbMTI4XSBucy1wbGFpbi1zYWZlLW91dCA6Oj0gbnMtY2hhclxuLy8gWzEyOV0gIG5zLXBsYWluLXNhZmUtaW4gOjo9IG5zLWNoYXIgLSBjLWZsb3ctaW5kaWNhdG9yXG4vLyBbMTMwXSAgbnMtcGxhaW4tY2hhcihjKSA6Oj0gICggbnMtcGxhaW4tc2FmZShjKSAtIOKAnDrigJ0gLSDigJwj4oCdIClcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgKCAvKiBBbiBucy1jaGFyIHByZWNlZGluZyAqLyDigJwj4oCdIClcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgKCDigJw64oCdIC8qIEZvbGxvd2VkIGJ5IGFuIG5zLXBsYWluLXNhZmUoYykgKi8gKVxuZnVuY3Rpb24gaXNQbGFpblNhZmUoYywgcHJldiwgaW5ibG9jaykge1xuICB2YXIgY0lzTnNDaGFyT3JXaGl0ZXNwYWNlID0gaXNOc0NoYXJPcldoaXRlc3BhY2UoYyk7XG4gIHZhciBjSXNOc0NoYXIgPSBjSXNOc0NoYXJPcldoaXRlc3BhY2UgJiYgIWlzV2hpdGVzcGFjZShjKTtcbiAgcmV0dXJuIChcbiAgICAvLyBucy1wbGFpbi1zYWZlXG4gICAgaW5ibG9jayA/IC8vIGMgPSBmbG93LWluXG4gICAgICBjSXNOc0NoYXJPcldoaXRlc3BhY2VcbiAgICAgIDogY0lzTnNDaGFyT3JXaGl0ZXNwYWNlXG4gICAgICAgIC8vIC0gYy1mbG93LWluZGljYXRvclxuICAgICAgICAmJiBjICE9PSBDSEFSX0NPTU1BXG4gICAgICAgICYmIGMgIT09IENIQVJfTEVGVF9TUVVBUkVfQlJBQ0tFVFxuICAgICAgICAmJiBjICE9PSBDSEFSX1JJR0hUX1NRVUFSRV9CUkFDS0VUXG4gICAgICAgICYmIGMgIT09IENIQVJfTEVGVF9DVVJMWV9CUkFDS0VUXG4gICAgICAgICYmIGMgIT09IENIQVJfUklHSFRfQ1VSTFlfQlJBQ0tFVFxuICApXG4gICAgLy8gbnMtcGxhaW4tY2hhclxuICAgICYmIGMgIT09IENIQVJfU0hBUlAgLy8gZmFsc2Ugb24gJyMnXG4gICAgJiYgIShwcmV2ID09PSBDSEFSX0NPTE9OICYmICFjSXNOc0NoYXIpIC8vIGZhbHNlIG9uICc6ICdcbiAgICB8fCAoaXNOc0NoYXJPcldoaXRlc3BhY2UocHJldikgJiYgIWlzV2hpdGVzcGFjZShwcmV2KSAmJiBjID09PSBDSEFSX1NIQVJQKSAvLyBjaGFuZ2UgdG8gdHJ1ZSBvbiAnW14gXSMnXG4gICAgfHwgKHByZXYgPT09IENIQVJfQ09MT04gJiYgY0lzTnNDaGFyKTsgLy8gY2hhbmdlIHRvIHRydWUgb24gJzpbXiBdJ1xufVxuXG4vLyBTaW1wbGlmaWVkIHRlc3QgZm9yIHZhbHVlcyBhbGxvd2VkIGFzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgaW4gcGxhaW4gc3R5bGUuXG5mdW5jdGlvbiBpc1BsYWluU2FmZUZpcnN0KGMpIHtcbiAgLy8gVXNlcyBhIHN1YnNldCBvZiBucy1jaGFyIC0gYy1pbmRpY2F0b3JcbiAgLy8gd2hlcmUgbnMtY2hhciA9IG5iLWNoYXIgLSBzLXdoaXRlLlxuICAvLyBObyBzdXBwb3J0IG9mICggKCDigJw/4oCdIHwg4oCcOuKAnSB8IOKAnC3igJ0gKSAvKiBGb2xsb3dlZCBieSBhbiBucy1wbGFpbi1zYWZlKGMpKSAqLyApIHBhcnRcbiAgcmV0dXJuIGlzUHJpbnRhYmxlKGMpICYmIGMgIT09IENIQVJfQk9NXG4gICAgJiYgIWlzV2hpdGVzcGFjZShjKSAvLyAtIHMtd2hpdGVcbiAgICAvLyAtIChjLWluZGljYXRvciA6Oj1cbiAgICAvLyDigJwt4oCdIHwg4oCcP+KAnSB8IOKAnDrigJ0gfCDigJws4oCdIHwg4oCcW+KAnSB8IOKAnF3igJ0gfCDigJx74oCdIHwg4oCcfeKAnVxuICAgICYmIGMgIT09IENIQVJfTUlOVVNcbiAgICAmJiBjICE9PSBDSEFSX1FVRVNUSU9OXG4gICAgJiYgYyAhPT0gQ0hBUl9DT0xPTlxuICAgICYmIGMgIT09IENIQVJfQ09NTUFcbiAgICAmJiBjICE9PSBDSEFSX0xFRlRfU1FVQVJFX0JSQUNLRVRcbiAgICAmJiBjICE9PSBDSEFSX1JJR0hUX1NRVUFSRV9CUkFDS0VUXG4gICAgJiYgYyAhPT0gQ0hBUl9MRUZUX0NVUkxZX0JSQUNLRVRcbiAgICAmJiBjICE9PSBDSEFSX1JJR0hUX0NVUkxZX0JSQUNLRVRcbiAgICAvLyB8IOKAnCPigJ0gfCDigJwm4oCdIHwg4oCcKuKAnSB8IOKAnCHigJ0gfCDigJx84oCdIHwg4oCcPeKAnSB8IOKAnD7igJ0gfCDigJwn4oCdIHwg4oCcXCLigJ1cbiAgICAmJiBjICE9PSBDSEFSX1NIQVJQXG4gICAgJiYgYyAhPT0gQ0hBUl9BTVBFUlNBTkRcbiAgICAmJiBjICE9PSBDSEFSX0FTVEVSSVNLXG4gICAgJiYgYyAhPT0gQ0hBUl9FWENMQU1BVElPTlxuICAgICYmIGMgIT09IENIQVJfVkVSVElDQUxfTElORVxuICAgICYmIGMgIT09IENIQVJfRVFVQUxTXG4gICAgJiYgYyAhPT0gQ0hBUl9HUkVBVEVSX1RIQU5cbiAgICAmJiBjICE9PSBDSEFSX1NJTkdMRV9RVU9URVxuICAgICYmIGMgIT09IENIQVJfRE9VQkxFX1FVT1RFXG4gICAgLy8gfCDigJwl4oCdIHwg4oCcQOKAnSB8IOKAnGDigJ0pXG4gICAgJiYgYyAhPT0gQ0hBUl9QRVJDRU5UXG4gICAgJiYgYyAhPT0gQ0hBUl9DT01NRVJDSUFMX0FUXG4gICAgJiYgYyAhPT0gQ0hBUl9HUkFWRV9BQ0NFTlQ7XG59XG5cbi8vIFNpbXBsaWZpZWQgdGVzdCBmb3IgdmFsdWVzIGFsbG93ZWQgYXMgdGhlIGxhc3QgY2hhcmFjdGVyIGluIHBsYWluIHN0eWxlLlxuZnVuY3Rpb24gaXNQbGFpblNhZmVMYXN0KGMpIHtcbiAgLy8ganVzdCBub3Qgd2hpdGVzcGFjZSBvciBjb2xvbiwgaXQgd2lsbCBiZSBjaGVja2VkIHRvIGJlIHBsYWluIGNoYXJhY3RlciBsYXRlclxuICByZXR1cm4gIWlzV2hpdGVzcGFjZShjKSAmJiBjICE9PSBDSEFSX0NPTE9OO1xufVxuXG4vLyBTYW1lIGFzICdzdHJpbmcnLmNvZGVQb2ludEF0KHBvcyksIGJ1dCB3b3JrcyBpbiBvbGRlciBicm93c2Vycy5cbmZ1bmN0aW9uIGNvZGVQb2ludEF0KHN0cmluZywgcG9zKSB7XG4gIHZhciBmaXJzdCA9IHN0cmluZy5jaGFyQ29kZUF0KHBvcyksIHNlY29uZDtcbiAgaWYgKGZpcnN0ID49IDB4RDgwMCAmJiBmaXJzdCA8PSAweERCRkYgJiYgcG9zICsgMSA8IHN0cmluZy5sZW5ndGgpIHtcbiAgICBzZWNvbmQgPSBzdHJpbmcuY2hhckNvZGVBdChwb3MgKyAxKTtcbiAgICBpZiAoc2Vjb25kID49IDB4REMwMCAmJiBzZWNvbmQgPD0gMHhERkZGKSB7XG4gICAgICAvLyBodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZyNzdXJyb2dhdGUtZm9ybXVsYWVcbiAgICAgIHJldHVybiAoZmlyc3QgLSAweEQ4MDApICogMHg0MDAgKyBzZWNvbmQgLSAweERDMDAgKyAweDEwMDAwO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmlyc3Q7XG59XG5cbi8vIERldGVybWluZXMgd2hldGhlciBibG9jayBpbmRlbnRhdGlvbiBpbmRpY2F0b3IgaXMgcmVxdWlyZWQuXG5mdW5jdGlvbiBuZWVkSW5kZW50SW5kaWNhdG9yKHN0cmluZykge1xuICB2YXIgbGVhZGluZ1NwYWNlUmUgPSAvXlxcbiogLztcbiAgcmV0dXJuIGxlYWRpbmdTcGFjZVJlLnRlc3Qoc3RyaW5nKTtcbn1cblxudmFyIFNUWUxFX1BMQUlOICAgPSAxLFxuICAgIFNUWUxFX1NJTkdMRSAgPSAyLFxuICAgIFNUWUxFX0xJVEVSQUwgPSAzLFxuICAgIFNUWUxFX0ZPTERFRCAgPSA0LFxuICAgIFNUWUxFX0RPVUJMRSAgPSA1O1xuXG4vLyBEZXRlcm1pbmVzIHdoaWNoIHNjYWxhciBzdHlsZXMgYXJlIHBvc3NpYmxlIGFuZCByZXR1cm5zIHRoZSBwcmVmZXJyZWQgc3R5bGUuXG4vLyBsaW5lV2lkdGggPSAtMSA9PiBubyBsaW1pdC5cbi8vIFByZS1jb25kaXRpb25zOiBzdHIubGVuZ3RoID4gMC5cbi8vIFBvc3QtY29uZGl0aW9uczpcbi8vICAgIFNUWUxFX1BMQUlOIG9yIFNUWUxFX1NJTkdMRSA9PiBubyBcXG4gYXJlIGluIHRoZSBzdHJpbmcuXG4vLyAgICBTVFlMRV9MSVRFUkFMID0+IG5vIGxpbmVzIGFyZSBzdWl0YWJsZSBmb3IgZm9sZGluZyAob3IgbGluZVdpZHRoIGlzIC0xKS5cbi8vICAgIFNUWUxFX0ZPTERFRCA9PiBhIGxpbmUgPiBsaW5lV2lkdGggYW5kIGNhbiBiZSBmb2xkZWQgKGFuZCBsaW5lV2lkdGggIT0gLTEpLlxuZnVuY3Rpb24gY2hvb3NlU2NhbGFyU3R5bGUoc3RyaW5nLCBzaW5nbGVMaW5lT25seSwgaW5kZW50UGVyTGV2ZWwsIGxpbmVXaWR0aCxcbiAgdGVzdEFtYmlndW91c1R5cGUsIHF1b3RpbmdUeXBlLCBmb3JjZVF1b3RlcywgaW5ibG9jaykge1xuXG4gIHZhciBpO1xuICB2YXIgY2hhciA9IDA7XG4gIHZhciBwcmV2Q2hhciA9IG51bGw7XG4gIHZhciBoYXNMaW5lQnJlYWsgPSBmYWxzZTtcbiAgdmFyIGhhc0ZvbGRhYmxlTGluZSA9IGZhbHNlOyAvLyBvbmx5IGNoZWNrZWQgaWYgc2hvdWxkVHJhY2tXaWR0aFxuICB2YXIgc2hvdWxkVHJhY2tXaWR0aCA9IGxpbmVXaWR0aCAhPT0gLTE7XG4gIHZhciBwcmV2aW91c0xpbmVCcmVhayA9IC0xOyAvLyBjb3VudCB0aGUgZmlyc3QgbGluZSBjb3JyZWN0bHlcbiAgdmFyIHBsYWluID0gaXNQbGFpblNhZmVGaXJzdChjb2RlUG9pbnRBdChzdHJpbmcsIDApKVxuICAgICAgICAgICYmIGlzUGxhaW5TYWZlTGFzdChjb2RlUG9pbnRBdChzdHJpbmcsIHN0cmluZy5sZW5ndGggLSAxKSk7XG5cbiAgaWYgKHNpbmdsZUxpbmVPbmx5IHx8IGZvcmNlUXVvdGVzKSB7XG4gICAgLy8gQ2FzZTogbm8gYmxvY2sgc3R5bGVzLlxuICAgIC8vIENoZWNrIGZvciBkaXNhbGxvd2VkIGNoYXJhY3RlcnMgdG8gcnVsZSBvdXQgcGxhaW4gYW5kIHNpbmdsZS5cbiAgICBmb3IgKGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDsgY2hhciA+PSAweDEwMDAwID8gaSArPSAyIDogaSsrKSB7XG4gICAgICBjaGFyID0gY29kZVBvaW50QXQoc3RyaW5nLCBpKTtcbiAgICAgIGlmICghaXNQcmludGFibGUoY2hhcikpIHtcbiAgICAgICAgcmV0dXJuIFNUWUxFX0RPVUJMRTtcbiAgICAgIH1cbiAgICAgIHBsYWluID0gcGxhaW4gJiYgaXNQbGFpblNhZmUoY2hhciwgcHJldkNoYXIsIGluYmxvY2spO1xuICAgICAgcHJldkNoYXIgPSBjaGFyO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBDYXNlOiBibG9jayBzdHlsZXMgcGVybWl0dGVkLlxuICAgIGZvciAoaSA9IDA7IGkgPCBzdHJpbmcubGVuZ3RoOyBjaGFyID49IDB4MTAwMDAgPyBpICs9IDIgOiBpKyspIHtcbiAgICAgIGNoYXIgPSBjb2RlUG9pbnRBdChzdHJpbmcsIGkpO1xuICAgICAgaWYgKGNoYXIgPT09IENIQVJfTElORV9GRUVEKSB7XG4gICAgICAgIGhhc0xpbmVCcmVhayA9IHRydWU7XG4gICAgICAgIC8vIENoZWNrIGlmIGFueSBsaW5lIGNhbiBiZSBmb2xkZWQuXG4gICAgICAgIGlmIChzaG91bGRUcmFja1dpZHRoKSB7XG4gICAgICAgICAgaGFzRm9sZGFibGVMaW5lID0gaGFzRm9sZGFibGVMaW5lIHx8XG4gICAgICAgICAgICAvLyBGb2xkYWJsZSBsaW5lID0gdG9vIGxvbmcsIGFuZCBub3QgbW9yZS1pbmRlbnRlZC5cbiAgICAgICAgICAgIChpIC0gcHJldmlvdXNMaW5lQnJlYWsgLSAxID4gbGluZVdpZHRoICYmXG4gICAgICAgICAgICAgc3RyaW5nW3ByZXZpb3VzTGluZUJyZWFrICsgMV0gIT09ICcgJyk7XG4gICAgICAgICAgcHJldmlvdXNMaW5lQnJlYWsgPSBpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFpc1ByaW50YWJsZShjaGFyKSkge1xuICAgICAgICByZXR1cm4gU1RZTEVfRE9VQkxFO1xuICAgICAgfVxuICAgICAgcGxhaW4gPSBwbGFpbiAmJiBpc1BsYWluU2FmZShjaGFyLCBwcmV2Q2hhciwgaW5ibG9jayk7XG4gICAgICBwcmV2Q2hhciA9IGNoYXI7XG4gICAgfVxuICAgIC8vIGluIGNhc2UgdGhlIGVuZCBpcyBtaXNzaW5nIGEgXFxuXG4gICAgaGFzRm9sZGFibGVMaW5lID0gaGFzRm9sZGFibGVMaW5lIHx8IChzaG91bGRUcmFja1dpZHRoICYmXG4gICAgICAoaSAtIHByZXZpb3VzTGluZUJyZWFrIC0gMSA+IGxpbmVXaWR0aCAmJlxuICAgICAgIHN0cmluZ1twcmV2aW91c0xpbmVCcmVhayArIDFdICE9PSAnICcpKTtcbiAgfVxuICAvLyBBbHRob3VnaCBldmVyeSBzdHlsZSBjYW4gcmVwcmVzZW50IFxcbiB3aXRob3V0IGVzY2FwaW5nLCBwcmVmZXIgYmxvY2sgc3R5bGVzXG4gIC8vIGZvciBtdWx0aWxpbmUsIHNpbmNlIHRoZXkncmUgbW9yZSByZWFkYWJsZSBhbmQgdGhleSBkb24ndCBhZGQgZW1wdHkgbGluZXMuXG4gIC8vIEFsc28gcHJlZmVyIGZvbGRpbmcgYSBzdXBlci1sb25nIGxpbmUuXG4gIGlmICghaGFzTGluZUJyZWFrICYmICFoYXNGb2xkYWJsZUxpbmUpIHtcbiAgICAvLyBTdHJpbmdzIGludGVycHJldGFibGUgYXMgYW5vdGhlciB0eXBlIGhhdmUgdG8gYmUgcXVvdGVkO1xuICAgIC8vIGUuZy4gdGhlIHN0cmluZyAndHJ1ZScgdnMuIHRoZSBib29sZWFuIHRydWUuXG4gICAgaWYgKHBsYWluICYmICFmb3JjZVF1b3RlcyAmJiAhdGVzdEFtYmlndW91c1R5cGUoc3RyaW5nKSkge1xuICAgICAgcmV0dXJuIFNUWUxFX1BMQUlOO1xuICAgIH1cbiAgICByZXR1cm4gcXVvdGluZ1R5cGUgPT09IFFVT1RJTkdfVFlQRV9ET1VCTEUgPyBTVFlMRV9ET1VCTEUgOiBTVFlMRV9TSU5HTEU7XG4gIH1cbiAgLy8gRWRnZSBjYXNlOiBibG9jayBpbmRlbnRhdGlvbiBpbmRpY2F0b3IgY2FuIG9ubHkgaGF2ZSBvbmUgZGlnaXQuXG4gIGlmIChpbmRlbnRQZXJMZXZlbCA+IDkgJiYgbmVlZEluZGVudEluZGljYXRvcihzdHJpbmcpKSB7XG4gICAgcmV0dXJuIFNUWUxFX0RPVUJMRTtcbiAgfVxuICAvLyBBdCB0aGlzIHBvaW50IHdlIGtub3cgYmxvY2sgc3R5bGVzIGFyZSB2YWxpZC5cbiAgLy8gUHJlZmVyIGxpdGVyYWwgc3R5bGUgdW5sZXNzIHdlIHdhbnQgdG8gZm9sZC5cbiAgaWYgKCFmb3JjZVF1b3Rlcykge1xuICAgIHJldHVybiBoYXNGb2xkYWJsZUxpbmUgPyBTVFlMRV9GT0xERUQgOiBTVFlMRV9MSVRFUkFMO1xuICB9XG4gIHJldHVybiBxdW90aW5nVHlwZSA9PT0gUVVPVElOR19UWVBFX0RPVUJMRSA/IFNUWUxFX0RPVUJMRSA6IFNUWUxFX1NJTkdMRTtcbn1cblxuLy8gTm90ZTogbGluZSBicmVha2luZy9mb2xkaW5nIGlzIGltcGxlbWVudGVkIGZvciBvbmx5IHRoZSBmb2xkZWQgc3R5bGUuXG4vLyBOQi4gV2UgZHJvcCB0aGUgbGFzdCB0cmFpbGluZyBuZXdsaW5lIChpZiBhbnkpIG9mIGEgcmV0dXJuZWQgYmxvY2sgc2NhbGFyXG4vLyAgc2luY2UgdGhlIGR1bXBlciBhZGRzIGl0cyBvd24gbmV3bGluZS4gVGhpcyBhbHdheXMgd29ya3M6XG4vLyAgICDigKIgTm8gZW5kaW5nIG5ld2xpbmUgPT4gdW5hZmZlY3RlZDsgYWxyZWFkeSB1c2luZyBzdHJpcCBcIi1cIiBjaG9tcGluZy5cbi8vICAgIOKAoiBFbmRpbmcgbmV3bGluZSAgICA9PiByZW1vdmVkIHRoZW4gcmVzdG9yZWQuXG4vLyAgSW1wb3J0YW50bHksIHRoaXMga2VlcHMgdGhlIFwiK1wiIGNob21wIGluZGljYXRvciBmcm9tIGdhaW5pbmcgYW4gZXh0cmEgbGluZS5cbmZ1bmN0aW9uIHdyaXRlU2NhbGFyKHN0YXRlLCBzdHJpbmcsIGxldmVsLCBpc2tleSwgaW5ibG9jaykge1xuICBzdGF0ZS5kdW1wID0gKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoc3RyaW5nLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHN0YXRlLnF1b3RpbmdUeXBlID09PSBRVU9USU5HX1RZUEVfRE9VQkxFID8gJ1wiXCInIDogXCInJ1wiO1xuICAgIH1cbiAgICBpZiAoIXN0YXRlLm5vQ29tcGF0TW9kZSkge1xuICAgICAgaWYgKERFUFJFQ0FURURfQk9PTEVBTlNfU1lOVEFYLmluZGV4T2Yoc3RyaW5nKSAhPT0gLTEgfHwgREVQUkVDQVRFRF9CQVNFNjBfU1lOVEFYLnRlc3Qoc3RyaW5nKSkge1xuICAgICAgICByZXR1cm4gc3RhdGUucXVvdGluZ1R5cGUgPT09IFFVT1RJTkdfVFlQRV9ET1VCTEUgPyAoJ1wiJyArIHN0cmluZyArICdcIicpIDogKFwiJ1wiICsgc3RyaW5nICsgXCInXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBpbmRlbnQgPSBzdGF0ZS5pbmRlbnQgKiBNYXRoLm1heCgxLCBsZXZlbCk7IC8vIG5vIDAtaW5kZW50IHNjYWxhcnNcbiAgICAvLyBBcyBpbmRlbnRhdGlvbiBnZXRzIGRlZXBlciwgbGV0IHRoZSB3aWR0aCBkZWNyZWFzZSBtb25vdG9uaWNhbGx5XG4gICAgLy8gdG8gdGhlIGxvd2VyIGJvdW5kIG1pbihzdGF0ZS5saW5lV2lkdGgsIDQwKS5cbiAgICAvLyBOb3RlIHRoYXQgdGhpcyBpbXBsaWVzXG4gICAgLy8gIHN0YXRlLmxpbmVXaWR0aCDiiaQgNDAgKyBzdGF0ZS5pbmRlbnQ6IHdpZHRoIGlzIGZpeGVkIGF0IHRoZSBsb3dlciBib3VuZC5cbiAgICAvLyAgc3RhdGUubGluZVdpZHRoID4gNDAgKyBzdGF0ZS5pbmRlbnQ6IHdpZHRoIGRlY3JlYXNlcyB1bnRpbCB0aGUgbG93ZXIgYm91bmQuXG4gICAgLy8gVGhpcyBiZWhhdmVzIGJldHRlciB0aGFuIGEgY29uc3RhbnQgbWluaW11bSB3aWR0aCB3aGljaCBkaXNhbGxvd3MgbmFycm93ZXIgb3B0aW9ucyxcbiAgICAvLyBvciBhbiBpbmRlbnQgdGhyZXNob2xkIHdoaWNoIGNhdXNlcyB0aGUgd2lkdGggdG8gc3VkZGVubHkgaW5jcmVhc2UuXG4gICAgdmFyIGxpbmVXaWR0aCA9IHN0YXRlLmxpbmVXaWR0aCA9PT0gLTFcbiAgICAgID8gLTEgOiBNYXRoLm1heChNYXRoLm1pbihzdGF0ZS5saW5lV2lkdGgsIDQwKSwgc3RhdGUubGluZVdpZHRoIC0gaW5kZW50KTtcblxuICAgIC8vIFdpdGhvdXQga25vd2luZyBpZiBrZXlzIGFyZSBpbXBsaWNpdC9leHBsaWNpdCwgYXNzdW1lIGltcGxpY2l0IGZvciBzYWZldHkuXG4gICAgdmFyIHNpbmdsZUxpbmVPbmx5ID0gaXNrZXlcbiAgICAgIC8vIE5vIGJsb2NrIHN0eWxlcyBpbiBmbG93IG1vZGUuXG4gICAgICB8fCAoc3RhdGUuZmxvd0xldmVsID4gLTEgJiYgbGV2ZWwgPj0gc3RhdGUuZmxvd0xldmVsKTtcbiAgICBmdW5jdGlvbiB0ZXN0QW1iaWd1aXR5KHN0cmluZykge1xuICAgICAgcmV0dXJuIHRlc3RJbXBsaWNpdFJlc29sdmluZyhzdGF0ZSwgc3RyaW5nKTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGNob29zZVNjYWxhclN0eWxlKHN0cmluZywgc2luZ2xlTGluZU9ubHksIHN0YXRlLmluZGVudCwgbGluZVdpZHRoLFxuICAgICAgdGVzdEFtYmlndWl0eSwgc3RhdGUucXVvdGluZ1R5cGUsIHN0YXRlLmZvcmNlUXVvdGVzICYmICFpc2tleSwgaW5ibG9jaykpIHtcblxuICAgICAgY2FzZSBTVFlMRV9QTEFJTjpcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIGNhc2UgU1RZTEVfU0lOR0xFOlxuICAgICAgICByZXR1cm4gXCInXCIgKyBzdHJpbmcucmVwbGFjZSgvJy9nLCBcIicnXCIpICsgXCInXCI7XG4gICAgICBjYXNlIFNUWUxFX0xJVEVSQUw6XG4gICAgICAgIHJldHVybiAnfCcgKyBibG9ja0hlYWRlcihzdHJpbmcsIHN0YXRlLmluZGVudClcbiAgICAgICAgICArIGRyb3BFbmRpbmdOZXdsaW5lKGluZGVudFN0cmluZyhzdHJpbmcsIGluZGVudCkpO1xuICAgICAgY2FzZSBTVFlMRV9GT0xERUQ6XG4gICAgICAgIHJldHVybiAnPicgKyBibG9ja0hlYWRlcihzdHJpbmcsIHN0YXRlLmluZGVudClcbiAgICAgICAgICArIGRyb3BFbmRpbmdOZXdsaW5lKGluZGVudFN0cmluZyhmb2xkU3RyaW5nKHN0cmluZywgbGluZVdpZHRoKSwgaW5kZW50KSk7XG4gICAgICBjYXNlIFNUWUxFX0RPVUJMRTpcbiAgICAgICAgcmV0dXJuICdcIicgKyBlc2NhcGVTdHJpbmcoc3RyaW5nKSArICdcIic7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uKCdpbXBvc3NpYmxlIGVycm9yOiBpbnZhbGlkIHNjYWxhciBzdHlsZScpO1xuICAgIH1cbiAgfSgpKTtcbn1cblxuLy8gUHJlLWNvbmRpdGlvbnM6IHN0cmluZyBpcyB2YWxpZCBmb3IgYSBibG9jayBzY2FsYXIsIDEgPD0gaW5kZW50UGVyTGV2ZWwgPD0gOS5cbmZ1bmN0aW9uIGJsb2NrSGVhZGVyKHN0cmluZywgaW5kZW50UGVyTGV2ZWwpIHtcbiAgdmFyIGluZGVudEluZGljYXRvciA9IG5lZWRJbmRlbnRJbmRpY2F0b3Ioc3RyaW5nKSA/IFN0cmluZyhpbmRlbnRQZXJMZXZlbCkgOiAnJztcblxuICAvLyBub3RlIHRoZSBzcGVjaWFsIGNhc2U6IHRoZSBzdHJpbmcgJ1xcbicgY291bnRzIGFzIGEgXCJ0cmFpbGluZ1wiIGVtcHR5IGxpbmUuXG4gIHZhciBjbGlwID0gICAgICAgICAgc3RyaW5nW3N0cmluZy5sZW5ndGggLSAxXSA9PT0gJ1xcbic7XG4gIHZhciBrZWVwID0gY2xpcCAmJiAoc3RyaW5nW3N0cmluZy5sZW5ndGggLSAyXSA9PT0gJ1xcbicgfHwgc3RyaW5nID09PSAnXFxuJyk7XG4gIHZhciBjaG9tcCA9IGtlZXAgPyAnKycgOiAoY2xpcCA/ICcnIDogJy0nKTtcblxuICByZXR1cm4gaW5kZW50SW5kaWNhdG9yICsgY2hvbXAgKyAnXFxuJztcbn1cblxuLy8gKFNlZSB0aGUgbm90ZSBmb3Igd3JpdGVTY2FsYXIuKVxuZnVuY3Rpb24gZHJvcEVuZGluZ05ld2xpbmUoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmdbc3RyaW5nLmxlbmd0aCAtIDFdID09PSAnXFxuJyA/IHN0cmluZy5zbGljZSgwLCAtMSkgOiBzdHJpbmc7XG59XG5cbi8vIE5vdGU6IGEgbG9uZyBsaW5lIHdpdGhvdXQgYSBzdWl0YWJsZSBicmVhayBwb2ludCB3aWxsIGV4Y2VlZCB0aGUgd2lkdGggbGltaXQuXG4vLyBQcmUtY29uZGl0aW9uczogZXZlcnkgY2hhciBpbiBzdHIgaXNQcmludGFibGUsIHN0ci5sZW5ndGggPiAwLCB3aWR0aCA+IDAuXG5mdW5jdGlvbiBmb2xkU3RyaW5nKHN0cmluZywgd2lkdGgpIHtcbiAgLy8gSW4gZm9sZGVkIHN0eWxlLCAkayQgY29uc2VjdXRpdmUgbmV3bGluZXMgb3V0cHV0IGFzICRrKzEkIG5ld2xpbmVz4oCUXG4gIC8vIHVubGVzcyB0aGV5J3JlIGJlZm9yZSBvciBhZnRlciBhIG1vcmUtaW5kZW50ZWQgbGluZSwgb3IgYXQgdGhlIHZlcnlcbiAgLy8gYmVnaW5uaW5nIG9yIGVuZCwgaW4gd2hpY2ggY2FzZSAkayQgbWFwcyB0byAkayQuXG4gIC8vIFRoZXJlZm9yZSwgcGFyc2UgZWFjaCBjaHVuayBhcyBuZXdsaW5lKHMpIGZvbGxvd2VkIGJ5IGEgY29udGVudCBsaW5lLlxuICB2YXIgbGluZVJlID0gLyhcXG4rKShbXlxcbl0qKS9nO1xuXG4gIC8vIGZpcnN0IGxpbmUgKHBvc3NpYmx5IGFuIGVtcHR5IGxpbmUpXG4gIHZhciByZXN1bHQgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBuZXh0TEYgPSBzdHJpbmcuaW5kZXhPZignXFxuJyk7XG4gICAgbmV4dExGID0gbmV4dExGICE9PSAtMSA/IG5leHRMRiA6IHN0cmluZy5sZW5ndGg7XG4gICAgbGluZVJlLmxhc3RJbmRleCA9IG5leHRMRjtcbiAgICByZXR1cm4gZm9sZExpbmUoc3RyaW5nLnNsaWNlKDAsIG5leHRMRiksIHdpZHRoKTtcbiAgfSgpKTtcbiAgLy8gSWYgd2UgaGF2ZW4ndCByZWFjaGVkIHRoZSBmaXJzdCBjb250ZW50IGxpbmUgeWV0LCBkb24ndCBhZGQgYW4gZXh0cmEgXFxuLlxuICB2YXIgcHJldk1vcmVJbmRlbnRlZCA9IHN0cmluZ1swXSA9PT0gJ1xcbicgfHwgc3RyaW5nWzBdID09PSAnICc7XG4gIHZhciBtb3JlSW5kZW50ZWQ7XG5cbiAgLy8gcmVzdCBvZiB0aGUgbGluZXNcbiAgdmFyIG1hdGNoO1xuICB3aGlsZSAoKG1hdGNoID0gbGluZVJlLmV4ZWMoc3RyaW5nKSkpIHtcbiAgICB2YXIgcHJlZml4ID0gbWF0Y2hbMV0sIGxpbmUgPSBtYXRjaFsyXTtcbiAgICBtb3JlSW5kZW50ZWQgPSAobGluZVswXSA9PT0gJyAnKTtcbiAgICByZXN1bHQgKz0gcHJlZml4XG4gICAgICArICghcHJldk1vcmVJbmRlbnRlZCAmJiAhbW9yZUluZGVudGVkICYmIGxpbmUgIT09ICcnXG4gICAgICAgID8gJ1xcbicgOiAnJylcbiAgICAgICsgZm9sZExpbmUobGluZSwgd2lkdGgpO1xuICAgIHByZXZNb3JlSW5kZW50ZWQgPSBtb3JlSW5kZW50ZWQ7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vLyBHcmVlZHkgbGluZSBicmVha2luZy5cbi8vIFBpY2tzIHRoZSBsb25nZXN0IGxpbmUgdW5kZXIgdGhlIGxpbWl0IGVhY2ggdGltZSxcbi8vIG90aGVyd2lzZSBzZXR0bGVzIGZvciB0aGUgc2hvcnRlc3QgbGluZSBvdmVyIHRoZSBsaW1pdC5cbi8vIE5CLiBNb3JlLWluZGVudGVkIGxpbmVzICpjYW5ub3QqIGJlIGZvbGRlZCwgYXMgdGhhdCB3b3VsZCBhZGQgYW4gZXh0cmEgXFxuLlxuZnVuY3Rpb24gZm9sZExpbmUobGluZSwgd2lkdGgpIHtcbiAgaWYgKGxpbmUgPT09ICcnIHx8IGxpbmVbMF0gPT09ICcgJykgcmV0dXJuIGxpbmU7XG5cbiAgLy8gU2luY2UgYSBtb3JlLWluZGVudGVkIGxpbmUgYWRkcyBhIFxcbiwgYnJlYWtzIGNhbid0IGJlIGZvbGxvd2VkIGJ5IGEgc3BhY2UuXG4gIHZhciBicmVha1JlID0gLyBbXiBdL2c7IC8vIG5vdGU6IHRoZSBtYXRjaCBpbmRleCB3aWxsIGFsd2F5cyBiZSA8PSBsZW5ndGgtMi5cbiAgdmFyIG1hdGNoO1xuICAvLyBzdGFydCBpcyBhbiBpbmNsdXNpdmUgaW5kZXguIGVuZCwgY3VyciwgYW5kIG5leHQgYXJlIGV4Y2x1c2l2ZS5cbiAgdmFyIHN0YXJ0ID0gMCwgZW5kLCBjdXJyID0gMCwgbmV4dCA9IDA7XG4gIHZhciByZXN1bHQgPSAnJztcblxuICAvLyBJbnZhcmlhbnRzOiAwIDw9IHN0YXJ0IDw9IGxlbmd0aC0xLlxuICAvLyAgIDAgPD0gY3VyciA8PSBuZXh0IDw9IG1heCgwLCBsZW5ndGgtMikuIGN1cnIgLSBzdGFydCA8PSB3aWR0aC5cbiAgLy8gSW5zaWRlIHRoZSBsb29wOlxuICAvLyAgIEEgbWF0Y2ggaW1wbGllcyBsZW5ndGggPj0gMiwgc28gY3VyciBhbmQgbmV4dCBhcmUgPD0gbGVuZ3RoLTIuXG4gIHdoaWxlICgobWF0Y2ggPSBicmVha1JlLmV4ZWMobGluZSkpKSB7XG4gICAgbmV4dCA9IG1hdGNoLmluZGV4O1xuICAgIC8vIG1haW50YWluIGludmFyaWFudDogY3VyciAtIHN0YXJ0IDw9IHdpZHRoXG4gICAgaWYgKG5leHQgLSBzdGFydCA+IHdpZHRoKSB7XG4gICAgICBlbmQgPSAoY3VyciA+IHN0YXJ0KSA/IGN1cnIgOiBuZXh0OyAvLyBkZXJpdmUgZW5kIDw9IGxlbmd0aC0yXG4gICAgICByZXN1bHQgKz0gJ1xcbicgKyBsaW5lLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgICAgLy8gc2tpcCB0aGUgc3BhY2UgdGhhdCB3YXMgb3V0cHV0IGFzIFxcblxuICAgICAgc3RhcnQgPSBlbmQgKyAxOyAgICAgICAgICAgICAgICAgICAgLy8gZGVyaXZlIHN0YXJ0IDw9IGxlbmd0aC0xXG4gICAgfVxuICAgIGN1cnIgPSBuZXh0O1xuICB9XG5cbiAgLy8gQnkgdGhlIGludmFyaWFudHMsIHN0YXJ0IDw9IGxlbmd0aC0xLCBzbyB0aGVyZSBpcyBzb21ldGhpbmcgbGVmdCBvdmVyLlxuICAvLyBJdCBpcyBlaXRoZXIgdGhlIHdob2xlIHN0cmluZyBvciBhIHBhcnQgc3RhcnRpbmcgZnJvbSBub24td2hpdGVzcGFjZS5cbiAgcmVzdWx0ICs9ICdcXG4nO1xuICAvLyBJbnNlcnQgYSBicmVhayBpZiB0aGUgcmVtYWluZGVyIGlzIHRvbyBsb25nIGFuZCB0aGVyZSBpcyBhIGJyZWFrIGF2YWlsYWJsZS5cbiAgaWYgKGxpbmUubGVuZ3RoIC0gc3RhcnQgPiB3aWR0aCAmJiBjdXJyID4gc3RhcnQpIHtcbiAgICByZXN1bHQgKz0gbGluZS5zbGljZShzdGFydCwgY3VycikgKyAnXFxuJyArIGxpbmUuc2xpY2UoY3VyciArIDEpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCArPSBsaW5lLnNsaWNlKHN0YXJ0KTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQuc2xpY2UoMSk7IC8vIGRyb3AgZXh0cmEgXFxuIGpvaW5lclxufVxuXG4vLyBFc2NhcGVzIGEgZG91YmxlLXF1b3RlZCBzdHJpbmcuXG5mdW5jdGlvbiBlc2NhcGVTdHJpbmcoc3RyaW5nKSB7XG4gIHZhciByZXN1bHQgPSAnJztcbiAgdmFyIGNoYXIgPSAwO1xuICB2YXIgZXNjYXBlU2VxO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDsgY2hhciA+PSAweDEwMDAwID8gaSArPSAyIDogaSsrKSB7XG4gICAgY2hhciA9IGNvZGVQb2ludEF0KHN0cmluZywgaSk7XG4gICAgZXNjYXBlU2VxID0gRVNDQVBFX1NFUVVFTkNFU1tjaGFyXTtcblxuICAgIGlmICghZXNjYXBlU2VxICYmIGlzUHJpbnRhYmxlKGNoYXIpKSB7XG4gICAgICByZXN1bHQgKz0gc3RyaW5nW2ldO1xuICAgICAgaWYgKGNoYXIgPj0gMHgxMDAwMCkgcmVzdWx0ICs9IHN0cmluZ1tpICsgMV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCArPSBlc2NhcGVTZXEgfHwgZW5jb2RlSGV4KGNoYXIpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIHdyaXRlRmxvd1NlcXVlbmNlKHN0YXRlLCBsZXZlbCwgb2JqZWN0KSB7XG4gIHZhciBfcmVzdWx0ID0gJycsXG4gICAgICBfdGFnICAgID0gc3RhdGUudGFnLFxuICAgICAgaW5kZXgsXG4gICAgICBsZW5ndGgsXG4gICAgICB2YWx1ZTtcblxuICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gb2JqZWN0Lmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICB2YWx1ZSA9IG9iamVjdFtpbmRleF07XG5cbiAgICBpZiAoc3RhdGUucmVwbGFjZXIpIHtcbiAgICAgIHZhbHVlID0gc3RhdGUucmVwbGFjZXIuY2FsbChvYmplY3QsIFN0cmluZyhpbmRleCksIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBXcml0ZSBvbmx5IHZhbGlkIGVsZW1lbnRzLCBwdXQgbnVsbCBpbnN0ZWFkIG9mIGludmFsaWQgZWxlbWVudHMuXG4gICAgaWYgKHdyaXRlTm9kZShzdGF0ZSwgbGV2ZWwsIHZhbHVlLCBmYWxzZSwgZmFsc2UpIHx8XG4gICAgICAgICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICB3cml0ZU5vZGUoc3RhdGUsIGxldmVsLCBudWxsLCBmYWxzZSwgZmFsc2UpKSkge1xuXG4gICAgICBpZiAoX3Jlc3VsdCAhPT0gJycpIF9yZXN1bHQgKz0gJywnICsgKCFzdGF0ZS5jb25kZW5zZUZsb3cgPyAnICcgOiAnJyk7XG4gICAgICBfcmVzdWx0ICs9IHN0YXRlLmR1bXA7XG4gICAgfVxuICB9XG5cbiAgc3RhdGUudGFnID0gX3RhZztcbiAgc3RhdGUuZHVtcCA9ICdbJyArIF9yZXN1bHQgKyAnXSc7XG59XG5cbmZ1bmN0aW9uIHdyaXRlQmxvY2tTZXF1ZW5jZShzdGF0ZSwgbGV2ZWwsIG9iamVjdCwgY29tcGFjdCkge1xuICB2YXIgX3Jlc3VsdCA9ICcnLFxuICAgICAgX3RhZyAgICA9IHN0YXRlLnRhZyxcbiAgICAgIGluZGV4LFxuICAgICAgbGVuZ3RoLFxuICAgICAgdmFsdWU7XG5cbiAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IG9iamVjdC5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgdmFsdWUgPSBvYmplY3RbaW5kZXhdO1xuXG4gICAgaWYgKHN0YXRlLnJlcGxhY2VyKSB7XG4gICAgICB2YWx1ZSA9IHN0YXRlLnJlcGxhY2VyLmNhbGwob2JqZWN0LCBTdHJpbmcoaW5kZXgpLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLy8gV3JpdGUgb25seSB2YWxpZCBlbGVtZW50cywgcHV0IG51bGwgaW5zdGVhZCBvZiBpbnZhbGlkIGVsZW1lbnRzLlxuICAgIGlmICh3cml0ZU5vZGUoc3RhdGUsIGxldmVsICsgMSwgdmFsdWUsIHRydWUsIHRydWUsIGZhbHNlLCB0cnVlKSB8fFxuICAgICAgICAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgd3JpdGVOb2RlKHN0YXRlLCBsZXZlbCArIDEsIG51bGwsIHRydWUsIHRydWUsIGZhbHNlLCB0cnVlKSkpIHtcblxuICAgICAgaWYgKCFjb21wYWN0IHx8IF9yZXN1bHQgIT09ICcnKSB7XG4gICAgICAgIF9yZXN1bHQgKz0gZ2VuZXJhdGVOZXh0TGluZShzdGF0ZSwgbGV2ZWwpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUuZHVtcCAmJiBDSEFSX0xJTkVfRkVFRCA9PT0gc3RhdGUuZHVtcC5jaGFyQ29kZUF0KDApKSB7XG4gICAgICAgIF9yZXN1bHQgKz0gJy0nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3Jlc3VsdCArPSAnLSAnO1xuICAgICAgfVxuXG4gICAgICBfcmVzdWx0ICs9IHN0YXRlLmR1bXA7XG4gICAgfVxuICB9XG5cbiAgc3RhdGUudGFnID0gX3RhZztcbiAgc3RhdGUuZHVtcCA9IF9yZXN1bHQgfHwgJ1tdJzsgLy8gRW1wdHkgc2VxdWVuY2UgaWYgbm8gdmFsaWQgdmFsdWVzLlxufVxuXG5mdW5jdGlvbiB3cml0ZUZsb3dNYXBwaW5nKHN0YXRlLCBsZXZlbCwgb2JqZWN0KSB7XG4gIHZhciBfcmVzdWx0ICAgICAgID0gJycsXG4gICAgICBfdGFnICAgICAgICAgID0gc3RhdGUudGFnLFxuICAgICAgb2JqZWN0S2V5TGlzdCA9IE9iamVjdC5rZXlzKG9iamVjdCksXG4gICAgICBpbmRleCxcbiAgICAgIGxlbmd0aCxcbiAgICAgIG9iamVjdEtleSxcbiAgICAgIG9iamVjdFZhbHVlLFxuICAgICAgcGFpckJ1ZmZlcjtcblxuICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gb2JqZWN0S2V5TGlzdC5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG5cbiAgICBwYWlyQnVmZmVyID0gJyc7XG4gICAgaWYgKF9yZXN1bHQgIT09ICcnKSBwYWlyQnVmZmVyICs9ICcsICc7XG5cbiAgICBpZiAoc3RhdGUuY29uZGVuc2VGbG93KSBwYWlyQnVmZmVyICs9ICdcIic7XG5cbiAgICBvYmplY3RLZXkgPSBvYmplY3RLZXlMaXN0W2luZGV4XTtcbiAgICBvYmplY3RWYWx1ZSA9IG9iamVjdFtvYmplY3RLZXldO1xuXG4gICAgaWYgKHN0YXRlLnJlcGxhY2VyKSB7XG4gICAgICBvYmplY3RWYWx1ZSA9IHN0YXRlLnJlcGxhY2VyLmNhbGwob2JqZWN0LCBvYmplY3RLZXksIG9iamVjdFZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAoIXdyaXRlTm9kZShzdGF0ZSwgbGV2ZWwsIG9iamVjdEtleSwgZmFsc2UsIGZhbHNlKSkge1xuICAgICAgY29udGludWU7IC8vIFNraXAgdGhpcyBwYWlyIGJlY2F1c2Ugb2YgaW52YWxpZCBrZXk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXRlLmR1bXAubGVuZ3RoID4gMTAyNCkgcGFpckJ1ZmZlciArPSAnPyAnO1xuXG4gICAgcGFpckJ1ZmZlciArPSBzdGF0ZS5kdW1wICsgKHN0YXRlLmNvbmRlbnNlRmxvdyA/ICdcIicgOiAnJykgKyAnOicgKyAoc3RhdGUuY29uZGVuc2VGbG93ID8gJycgOiAnICcpO1xuXG4gICAgaWYgKCF3cml0ZU5vZGUoc3RhdGUsIGxldmVsLCBvYmplY3RWYWx1ZSwgZmFsc2UsIGZhbHNlKSkge1xuICAgICAgY29udGludWU7IC8vIFNraXAgdGhpcyBwYWlyIGJlY2F1c2Ugb2YgaW52YWxpZCB2YWx1ZS5cbiAgICB9XG5cbiAgICBwYWlyQnVmZmVyICs9IHN0YXRlLmR1bXA7XG5cbiAgICAvLyBCb3RoIGtleSBhbmQgdmFsdWUgYXJlIHZhbGlkLlxuICAgIF9yZXN1bHQgKz0gcGFpckJ1ZmZlcjtcbiAgfVxuXG4gIHN0YXRlLnRhZyA9IF90YWc7XG4gIHN0YXRlLmR1bXAgPSAneycgKyBfcmVzdWx0ICsgJ30nO1xufVxuXG5mdW5jdGlvbiB3cml0ZUJsb2NrTWFwcGluZyhzdGF0ZSwgbGV2ZWwsIG9iamVjdCwgY29tcGFjdCkge1xuICB2YXIgX3Jlc3VsdCAgICAgICA9ICcnLFxuICAgICAgX3RhZyAgICAgICAgICA9IHN0YXRlLnRhZyxcbiAgICAgIG9iamVjdEtleUxpc3QgPSBPYmplY3Qua2V5cyhvYmplY3QpLFxuICAgICAgaW5kZXgsXG4gICAgICBsZW5ndGgsXG4gICAgICBvYmplY3RLZXksXG4gICAgICBvYmplY3RWYWx1ZSxcbiAgICAgIGV4cGxpY2l0UGFpcixcbiAgICAgIHBhaXJCdWZmZXI7XG5cbiAgLy8gQWxsb3cgc29ydGluZyBrZXlzIHNvIHRoYXQgdGhlIG91dHB1dCBmaWxlIGlzIGRldGVybWluaXN0aWNcbiAgaWYgKHN0YXRlLnNvcnRLZXlzID09PSB0cnVlKSB7XG4gICAgLy8gRGVmYXVsdCBzb3J0aW5nXG4gICAgb2JqZWN0S2V5TGlzdC5zb3J0KCk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHN0YXRlLnNvcnRLZXlzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gQ3VzdG9tIHNvcnQgZnVuY3Rpb25cbiAgICBvYmplY3RLZXlMaXN0LnNvcnQoc3RhdGUuc29ydEtleXMpO1xuICB9IGVsc2UgaWYgKHN0YXRlLnNvcnRLZXlzKSB7XG4gICAgLy8gU29tZXRoaW5nIGlzIHdyb25nXG4gICAgdGhyb3cgbmV3IGV4Y2VwdGlvbignc29ydEtleXMgbXVzdCBiZSBhIGJvb2xlYW4gb3IgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IG9iamVjdEtleUxpc3QubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgIHBhaXJCdWZmZXIgPSAnJztcblxuICAgIGlmICghY29tcGFjdCB8fCBfcmVzdWx0ICE9PSAnJykge1xuICAgICAgcGFpckJ1ZmZlciArPSBnZW5lcmF0ZU5leHRMaW5lKHN0YXRlLCBsZXZlbCk7XG4gICAgfVxuXG4gICAgb2JqZWN0S2V5ID0gb2JqZWN0S2V5TGlzdFtpbmRleF07XG4gICAgb2JqZWN0VmFsdWUgPSBvYmplY3Rbb2JqZWN0S2V5XTtcblxuICAgIGlmIChzdGF0ZS5yZXBsYWNlcikge1xuICAgICAgb2JqZWN0VmFsdWUgPSBzdGF0ZS5yZXBsYWNlci5jYWxsKG9iamVjdCwgb2JqZWN0S2V5LCBvYmplY3RWYWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKCF3cml0ZU5vZGUoc3RhdGUsIGxldmVsICsgMSwgb2JqZWN0S2V5LCB0cnVlLCB0cnVlLCB0cnVlKSkge1xuICAgICAgY29udGludWU7IC8vIFNraXAgdGhpcyBwYWlyIGJlY2F1c2Ugb2YgaW52YWxpZCBrZXkuXG4gICAgfVxuXG4gICAgZXhwbGljaXRQYWlyID0gKHN0YXRlLnRhZyAhPT0gbnVsbCAmJiBzdGF0ZS50YWcgIT09ICc/JykgfHxcbiAgICAgICAgICAgICAgICAgICAoc3RhdGUuZHVtcCAmJiBzdGF0ZS5kdW1wLmxlbmd0aCA+IDEwMjQpO1xuXG4gICAgaWYgKGV4cGxpY2l0UGFpcikge1xuICAgICAgaWYgKHN0YXRlLmR1bXAgJiYgQ0hBUl9MSU5FX0ZFRUQgPT09IHN0YXRlLmR1bXAuY2hhckNvZGVBdCgwKSkge1xuICAgICAgICBwYWlyQnVmZmVyICs9ICc/JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhaXJCdWZmZXIgKz0gJz8gJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwYWlyQnVmZmVyICs9IHN0YXRlLmR1bXA7XG5cbiAgICBpZiAoZXhwbGljaXRQYWlyKSB7XG4gICAgICBwYWlyQnVmZmVyICs9IGdlbmVyYXRlTmV4dExpbmUoc3RhdGUsIGxldmVsKTtcbiAgICB9XG5cbiAgICBpZiAoIXdyaXRlTm9kZShzdGF0ZSwgbGV2ZWwgKyAxLCBvYmplY3RWYWx1ZSwgdHJ1ZSwgZXhwbGljaXRQYWlyKSkge1xuICAgICAgY29udGludWU7IC8vIFNraXAgdGhpcyBwYWlyIGJlY2F1c2Ugb2YgaW52YWxpZCB2YWx1ZS5cbiAgICB9XG5cbiAgICBpZiAoc3RhdGUuZHVtcCAmJiBDSEFSX0xJTkVfRkVFRCA9PT0gc3RhdGUuZHVtcC5jaGFyQ29kZUF0KDApKSB7XG4gICAgICBwYWlyQnVmZmVyICs9ICc6JztcbiAgICB9IGVsc2Uge1xuICAgICAgcGFpckJ1ZmZlciArPSAnOiAnO1xuICAgIH1cblxuICAgIHBhaXJCdWZmZXIgKz0gc3RhdGUuZHVtcDtcblxuICAgIC8vIEJvdGgga2V5IGFuZCB2YWx1ZSBhcmUgdmFsaWQuXG4gICAgX3Jlc3VsdCArPSBwYWlyQnVmZmVyO1xuICB9XG5cbiAgc3RhdGUudGFnID0gX3RhZztcbiAgc3RhdGUuZHVtcCA9IF9yZXN1bHQgfHwgJ3t9JzsgLy8gRW1wdHkgbWFwcGluZyBpZiBubyB2YWxpZCBwYWlycy5cbn1cblxuZnVuY3Rpb24gZGV0ZWN0VHlwZShzdGF0ZSwgb2JqZWN0LCBleHBsaWNpdCkge1xuICB2YXIgX3Jlc3VsdCwgdHlwZUxpc3QsIGluZGV4LCBsZW5ndGgsIHR5cGUsIHN0eWxlO1xuXG4gIHR5cGVMaXN0ID0gZXhwbGljaXQgPyBzdGF0ZS5leHBsaWNpdFR5cGVzIDogc3RhdGUuaW1wbGljaXRUeXBlcztcblxuICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gdHlwZUxpc3QubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgIHR5cGUgPSB0eXBlTGlzdFtpbmRleF07XG5cbiAgICBpZiAoKHR5cGUuaW5zdGFuY2VPZiAgfHwgdHlwZS5wcmVkaWNhdGUpICYmXG4gICAgICAgICghdHlwZS5pbnN0YW5jZU9mIHx8ICgodHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcpICYmIChvYmplY3QgaW5zdGFuY2VvZiB0eXBlLmluc3RhbmNlT2YpKSkgJiZcbiAgICAgICAgKCF0eXBlLnByZWRpY2F0ZSAgfHwgdHlwZS5wcmVkaWNhdGUob2JqZWN0KSkpIHtcblxuICAgICAgaWYgKGV4cGxpY2l0KSB7XG4gICAgICAgIGlmICh0eXBlLm11bHRpICYmIHR5cGUucmVwcmVzZW50TmFtZSkge1xuICAgICAgICAgIHN0YXRlLnRhZyA9IHR5cGUucmVwcmVzZW50TmFtZShvYmplY3QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0YXRlLnRhZyA9IHR5cGUudGFnO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS50YWcgPSAnPyc7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlLnJlcHJlc2VudCkge1xuICAgICAgICBzdHlsZSA9IHN0YXRlLnN0eWxlTWFwW3R5cGUudGFnXSB8fCB0eXBlLmRlZmF1bHRTdHlsZTtcblxuICAgICAgICBpZiAoX3RvU3RyaW5nLmNhbGwodHlwZS5yZXByZXNlbnQpID09PSAnW29iamVjdCBGdW5jdGlvbl0nKSB7XG4gICAgICAgICAgX3Jlc3VsdCA9IHR5cGUucmVwcmVzZW50KG9iamVjdCwgc3R5bGUpO1xuICAgICAgICB9IGVsc2UgaWYgKF9oYXNPd25Qcm9wZXJ0eS5jYWxsKHR5cGUucmVwcmVzZW50LCBzdHlsZSkpIHtcbiAgICAgICAgICBfcmVzdWx0ID0gdHlwZS5yZXByZXNlbnRbc3R5bGVdKG9iamVjdCwgc3R5bGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb24oJyE8JyArIHR5cGUudGFnICsgJz4gdGFnIHJlc29sdmVyIGFjY2VwdHMgbm90IFwiJyArIHN0eWxlICsgJ1wiIHN0eWxlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZS5kdW1wID0gX3Jlc3VsdDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBTZXJpYWxpemVzIGBvYmplY3RgIGFuZCB3cml0ZXMgaXQgdG8gZ2xvYmFsIGByZXN1bHRgLlxuLy8gUmV0dXJucyB0cnVlIG9uIHN1Y2Nlc3MsIG9yIGZhbHNlIG9uIGludmFsaWQgb2JqZWN0LlxuLy9cbmZ1bmN0aW9uIHdyaXRlTm9kZShzdGF0ZSwgbGV2ZWwsIG9iamVjdCwgYmxvY2ssIGNvbXBhY3QsIGlza2V5LCBpc2Jsb2Nrc2VxKSB7XG4gIHN0YXRlLnRhZyA9IG51bGw7XG4gIHN0YXRlLmR1bXAgPSBvYmplY3Q7XG5cbiAgaWYgKCFkZXRlY3RUeXBlKHN0YXRlLCBvYmplY3QsIGZhbHNlKSkge1xuICAgIGRldGVjdFR5cGUoc3RhdGUsIG9iamVjdCwgdHJ1ZSk7XG4gIH1cblxuICB2YXIgdHlwZSA9IF90b1N0cmluZy5jYWxsKHN0YXRlLmR1bXApO1xuICB2YXIgaW5ibG9jayA9IGJsb2NrO1xuICB2YXIgdGFnU3RyO1xuXG4gIGlmIChibG9jaykge1xuICAgIGJsb2NrID0gKHN0YXRlLmZsb3dMZXZlbCA8IDAgfHwgc3RhdGUuZmxvd0xldmVsID4gbGV2ZWwpO1xuICB9XG5cbiAgdmFyIG9iamVjdE9yQXJyYXkgPSB0eXBlID09PSAnW29iamVjdCBPYmplY3RdJyB8fCB0eXBlID09PSAnW29iamVjdCBBcnJheV0nLFxuICAgICAgZHVwbGljYXRlSW5kZXgsXG4gICAgICBkdXBsaWNhdGU7XG5cbiAgaWYgKG9iamVjdE9yQXJyYXkpIHtcbiAgICBkdXBsaWNhdGVJbmRleCA9IHN0YXRlLmR1cGxpY2F0ZXMuaW5kZXhPZihvYmplY3QpO1xuICAgIGR1cGxpY2F0ZSA9IGR1cGxpY2F0ZUluZGV4ICE9PSAtMTtcbiAgfVxuXG4gIGlmICgoc3RhdGUudGFnICE9PSBudWxsICYmIHN0YXRlLnRhZyAhPT0gJz8nKSB8fCBkdXBsaWNhdGUgfHwgKHN0YXRlLmluZGVudCAhPT0gMiAmJiBsZXZlbCA+IDApKSB7XG4gICAgY29tcGFjdCA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKGR1cGxpY2F0ZSAmJiBzdGF0ZS51c2VkRHVwbGljYXRlc1tkdXBsaWNhdGVJbmRleF0pIHtcbiAgICBzdGF0ZS5kdW1wID0gJypyZWZfJyArIGR1cGxpY2F0ZUluZGV4O1xuICB9IGVsc2Uge1xuICAgIGlmIChvYmplY3RPckFycmF5ICYmIGR1cGxpY2F0ZSAmJiAhc3RhdGUudXNlZER1cGxpY2F0ZXNbZHVwbGljYXRlSW5kZXhdKSB7XG4gICAgICBzdGF0ZS51c2VkRHVwbGljYXRlc1tkdXBsaWNhdGVJbmRleF0gPSB0cnVlO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcbiAgICAgIGlmIChibG9jayAmJiAoT2JqZWN0LmtleXMoc3RhdGUuZHVtcCkubGVuZ3RoICE9PSAwKSkge1xuICAgICAgICB3cml0ZUJsb2NrTWFwcGluZyhzdGF0ZSwgbGV2ZWwsIHN0YXRlLmR1bXAsIGNvbXBhY3QpO1xuICAgICAgICBpZiAoZHVwbGljYXRlKSB7XG4gICAgICAgICAgc3RhdGUuZHVtcCA9ICcmcmVmXycgKyBkdXBsaWNhdGVJbmRleCArIHN0YXRlLmR1bXA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdyaXRlRmxvd01hcHBpbmcoc3RhdGUsIGxldmVsLCBzdGF0ZS5kdW1wKTtcbiAgICAgICAgaWYgKGR1cGxpY2F0ZSkge1xuICAgICAgICAgIHN0YXRlLmR1bXAgPSAnJnJlZl8nICsgZHVwbGljYXRlSW5kZXggKyAnICcgKyBzdGF0ZS5kdW1wO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICBpZiAoYmxvY2sgJiYgKHN0YXRlLmR1bXAubGVuZ3RoICE9PSAwKSkge1xuICAgICAgICBpZiAoc3RhdGUubm9BcnJheUluZGVudCAmJiAhaXNibG9ja3NlcSAmJiBsZXZlbCA+IDApIHtcbiAgICAgICAgICB3cml0ZUJsb2NrU2VxdWVuY2Uoc3RhdGUsIGxldmVsIC0gMSwgc3RhdGUuZHVtcCwgY29tcGFjdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd3JpdGVCbG9ja1NlcXVlbmNlKHN0YXRlLCBsZXZlbCwgc3RhdGUuZHVtcCwgY29tcGFjdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGR1cGxpY2F0ZSkge1xuICAgICAgICAgIHN0YXRlLmR1bXAgPSAnJnJlZl8nICsgZHVwbGljYXRlSW5kZXggKyBzdGF0ZS5kdW1wO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3cml0ZUZsb3dTZXF1ZW5jZShzdGF0ZSwgbGV2ZWwsIHN0YXRlLmR1bXApO1xuICAgICAgICBpZiAoZHVwbGljYXRlKSB7XG4gICAgICAgICAgc3RhdGUuZHVtcCA9ICcmcmVmXycgKyBkdXBsaWNhdGVJbmRleCArICcgJyArIHN0YXRlLmR1bXA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdbb2JqZWN0IFN0cmluZ10nKSB7XG4gICAgICBpZiAoc3RhdGUudGFnICE9PSAnPycpIHtcbiAgICAgICAgd3JpdGVTY2FsYXIoc3RhdGUsIHN0YXRlLmR1bXAsIGxldmVsLCBpc2tleSwgaW5ibG9jayk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnW29iamVjdCBVbmRlZmluZWRdJykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoc3RhdGUuc2tpcEludmFsaWQpIHJldHVybiBmYWxzZTtcbiAgICAgIHRocm93IG5ldyBleGNlcHRpb24oJ3VuYWNjZXB0YWJsZSBraW5kIG9mIGFuIG9iamVjdCB0byBkdW1wICcgKyB0eXBlKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUudGFnICE9PSBudWxsICYmIHN0YXRlLnRhZyAhPT0gJz8nKSB7XG4gICAgICAvLyBOZWVkIHRvIGVuY29kZSBhbGwgY2hhcmFjdGVycyBleGNlcHQgdGhvc2UgYWxsb3dlZCBieSB0aGUgc3BlYzpcbiAgICAgIC8vXG4gICAgICAvLyBbMzVdIG5zLWRlYy1kaWdpdCAgICA6Oj0gIFsjeDMwLSN4MzldIC8qIDAtOSAqL1xuICAgICAgLy8gWzM2XSBucy1oZXgtZGlnaXQgICAgOjo9ICBucy1kZWMtZGlnaXRcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIHwgWyN4NDEtI3g0Nl0gLyogQS1GICovIHwgWyN4NjEtI3g2Nl0gLyogYS1mICovXG4gICAgICAvLyBbMzddIG5zLWFzY2lpLWxldHRlciA6Oj0gIFsjeDQxLSN4NUFdIC8qIEEtWiAqLyB8IFsjeDYxLSN4N0FdIC8qIGEteiAqL1xuICAgICAgLy8gWzM4XSBucy13b3JkLWNoYXIgICAgOjo9ICBucy1kZWMtZGlnaXQgfCBucy1hc2NpaS1sZXR0ZXIgfCDigJwt4oCdXG4gICAgICAvLyBbMzldIG5zLXVyaS1jaGFyICAgICA6Oj0gIOKAnCXigJ0gbnMtaGV4LWRpZ2l0IG5zLWhleC1kaWdpdCB8IG5zLXdvcmQtY2hhciB8IOKAnCPigJ1cbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIHwg4oCcO+KAnSB8IOKAnC/igJ0gfCDigJw/4oCdIHwg4oCcOuKAnSB8IOKAnEDigJ0gfCDigJwm4oCdIHwg4oCcPeKAnSB8IOKAnCvigJ0gfCDigJwk4oCdIHwg4oCcLOKAnVxuICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgfCDigJxf4oCdIHwg4oCcLuKAnSB8IOKAnCHigJ0gfCDigJx+4oCdIHwg4oCcKuKAnSB8IOKAnCfigJ0gfCDigJwo4oCdIHwg4oCcKeKAnSB8IOKAnFvigJ0gfCDigJxd4oCdXG4gICAgICAvL1xuICAgICAgLy8gQWxzbyBuZWVkIHRvIGVuY29kZSAnIScgYmVjYXVzZSBpdCBoYXMgc3BlY2lhbCBtZWFuaW5nIChlbmQgb2YgdGFnIHByZWZpeCkuXG4gICAgICAvL1xuICAgICAgdGFnU3RyID0gZW5jb2RlVVJJKFxuICAgICAgICBzdGF0ZS50YWdbMF0gPT09ICchJyA/IHN0YXRlLnRhZy5zbGljZSgxKSA6IHN0YXRlLnRhZ1xuICAgICAgKS5yZXBsYWNlKC8hL2csICclMjEnKTtcblxuICAgICAgaWYgKHN0YXRlLnRhZ1swXSA9PT0gJyEnKSB7XG4gICAgICAgIHRhZ1N0ciA9ICchJyArIHRhZ1N0cjtcbiAgICAgIH0gZWxzZSBpZiAodGFnU3RyLnNsaWNlKDAsIDE4KSA9PT0gJ3RhZzp5YW1sLm9yZywyMDAyOicpIHtcbiAgICAgICAgdGFnU3RyID0gJyEhJyArIHRhZ1N0ci5zbGljZSgxOCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YWdTdHIgPSAnITwnICsgdGFnU3RyICsgJz4nO1xuICAgICAgfVxuXG4gICAgICBzdGF0ZS5kdW1wID0gdGFnU3RyICsgJyAnICsgc3RhdGUuZHVtcDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gZ2V0RHVwbGljYXRlUmVmZXJlbmNlcyhvYmplY3QsIHN0YXRlKSB7XG4gIHZhciBvYmplY3RzID0gW10sXG4gICAgICBkdXBsaWNhdGVzSW5kZXhlcyA9IFtdLFxuICAgICAgaW5kZXgsXG4gICAgICBsZW5ndGg7XG5cbiAgaW5zcGVjdE5vZGUob2JqZWN0LCBvYmplY3RzLCBkdXBsaWNhdGVzSW5kZXhlcyk7XG5cbiAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IGR1cGxpY2F0ZXNJbmRleGVzLmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICBzdGF0ZS5kdXBsaWNhdGVzLnB1c2gob2JqZWN0c1tkdXBsaWNhdGVzSW5kZXhlc1tpbmRleF1dKTtcbiAgfVxuICBzdGF0ZS51c2VkRHVwbGljYXRlcyA9IG5ldyBBcnJheShsZW5ndGgpO1xufVxuXG5mdW5jdGlvbiBpbnNwZWN0Tm9kZShvYmplY3QsIG9iamVjdHMsIGR1cGxpY2F0ZXNJbmRleGVzKSB7XG4gIHZhciBvYmplY3RLZXlMaXN0LFxuICAgICAgaW5kZXgsXG4gICAgICBsZW5ndGg7XG5cbiAgaWYgKG9iamVjdCAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0Jykge1xuICAgIGluZGV4ID0gb2JqZWN0cy5pbmRleE9mKG9iamVjdCk7XG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgaWYgKGR1cGxpY2F0ZXNJbmRleGVzLmluZGV4T2YoaW5kZXgpID09PSAtMSkge1xuICAgICAgICBkdXBsaWNhdGVzSW5kZXhlcy5wdXNoKGluZGV4KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgb2JqZWN0cy5wdXNoKG9iamVjdCk7XG5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iamVjdCkpIHtcbiAgICAgICAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IG9iamVjdC5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgICAgICAgaW5zcGVjdE5vZGUob2JqZWN0W2luZGV4XSwgb2JqZWN0cywgZHVwbGljYXRlc0luZGV4ZXMpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvYmplY3RLZXlMaXN0ID0gT2JqZWN0LmtleXMob2JqZWN0KTtcblxuICAgICAgICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gb2JqZWN0S2V5TGlzdC5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgICAgICAgaW5zcGVjdE5vZGUob2JqZWN0W29iamVjdEtleUxpc3RbaW5kZXhdXSwgb2JqZWN0cywgZHVwbGljYXRlc0luZGV4ZXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGR1bXAkMShpbnB1dCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICB2YXIgc3RhdGUgPSBuZXcgU3RhdGUob3B0aW9ucyk7XG5cbiAgaWYgKCFzdGF0ZS5ub1JlZnMpIGdldER1cGxpY2F0ZVJlZmVyZW5jZXMoaW5wdXQsIHN0YXRlKTtcblxuICB2YXIgdmFsdWUgPSBpbnB1dDtcblxuICBpZiAoc3RhdGUucmVwbGFjZXIpIHtcbiAgICB2YWx1ZSA9IHN0YXRlLnJlcGxhY2VyLmNhbGwoeyAnJzogdmFsdWUgfSwgJycsIHZhbHVlKTtcbiAgfVxuXG4gIGlmICh3cml0ZU5vZGUoc3RhdGUsIDAsIHZhbHVlLCB0cnVlLCB0cnVlKSkgcmV0dXJuIHN0YXRlLmR1bXAgKyAnXFxuJztcblxuICByZXR1cm4gJyc7XG59XG5cbnZhciBkdW1wXzEgPSBkdW1wJDE7XG5cbnZhciBkdW1wZXIgPSB7XG5cdGR1bXA6IGR1bXBfMVxufTtcblxuZnVuY3Rpb24gcmVuYW1lZChmcm9tLCB0bykge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignRnVuY3Rpb24geWFtbC4nICsgZnJvbSArICcgaXMgcmVtb3ZlZCBpbiBqcy15YW1sIDQuICcgK1xuICAgICAgJ1VzZSB5YW1sLicgKyB0byArICcgaW5zdGVhZCwgd2hpY2ggaXMgbm93IHNhZmUgYnkgZGVmYXVsdC4nKTtcbiAgfTtcbn1cblxuXG52YXIgVHlwZSAgICAgICAgICAgICAgICA9IHR5cGU7XG52YXIgU2NoZW1hICAgICAgICAgICAgICA9IHNjaGVtYTtcbnZhciBGQUlMU0FGRV9TQ0hFTUEgICAgID0gZmFpbHNhZmU7XG52YXIgSlNPTl9TQ0hFTUEgICAgICAgICA9IGpzb247XG52YXIgQ09SRV9TQ0hFTUEgICAgICAgICA9IGNvcmU7XG52YXIgREVGQVVMVF9TQ0hFTUEgICAgICA9IF9kZWZhdWx0O1xudmFyIGxvYWQgICAgICAgICAgICAgICAgPSBsb2FkZXIubG9hZDtcbnZhciBsb2FkQWxsICAgICAgICAgICAgID0gbG9hZGVyLmxvYWRBbGw7XG52YXIgZHVtcCAgICAgICAgICAgICAgICA9IGR1bXBlci5kdW1wO1xudmFyIFlBTUxFeGNlcHRpb24gICAgICAgPSBleGNlcHRpb247XG5cbi8vIFJlLWV4cG9ydCBhbGwgdHlwZXMgaW4gY2FzZSB1c2VyIHdhbnRzIHRvIGNyZWF0ZSBjdXN0b20gc2NoZW1hXG52YXIgdHlwZXMgPSB7XG4gIGJpbmFyeTogICAgYmluYXJ5LFxuICBmbG9hdDogICAgIGZsb2F0LFxuICBtYXA6ICAgICAgIG1hcCxcbiAgbnVsbDogICAgICBfbnVsbCxcbiAgcGFpcnM6ICAgICBwYWlycyxcbiAgc2V0OiAgICAgICBzZXQsXG4gIHRpbWVzdGFtcDogdGltZXN0YW1wLFxuICBib29sOiAgICAgIGJvb2wsXG4gIGludDogICAgICAgaW50LFxuICBtZXJnZTogICAgIG1lcmdlLFxuICBvbWFwOiAgICAgIG9tYXAsXG4gIHNlcTogICAgICAgc2VxLFxuICBzdHI6ICAgICAgIHN0clxufTtcblxuLy8gUmVtb3ZlZCBmdW5jdGlvbnMgZnJvbSBKUy1ZQU1MIDMuMC54XG52YXIgc2FmZUxvYWQgICAgICAgICAgICA9IHJlbmFtZWQoJ3NhZmVMb2FkJywgJ2xvYWQnKTtcbnZhciBzYWZlTG9hZEFsbCAgICAgICAgID0gcmVuYW1lZCgnc2FmZUxvYWRBbGwnLCAnbG9hZEFsbCcpO1xudmFyIHNhZmVEdW1wICAgICAgICAgICAgPSByZW5hbWVkKCdzYWZlRHVtcCcsICdkdW1wJyk7XG5cbnZhciBqc1lhbWwgPSB7XG5cdFR5cGU6IFR5cGUsXG5cdFNjaGVtYTogU2NoZW1hLFxuXHRGQUlMU0FGRV9TQ0hFTUE6IEZBSUxTQUZFX1NDSEVNQSxcblx0SlNPTl9TQ0hFTUE6IEpTT05fU0NIRU1BLFxuXHRDT1JFX1NDSEVNQTogQ09SRV9TQ0hFTUEsXG5cdERFRkFVTFRfU0NIRU1BOiBERUZBVUxUX1NDSEVNQSxcblx0bG9hZDogbG9hZCxcblx0bG9hZEFsbDogbG9hZEFsbCxcblx0ZHVtcDogZHVtcCxcblx0WUFNTEV4Y2VwdGlvbjogWUFNTEV4Y2VwdGlvbixcblx0dHlwZXM6IHR5cGVzLFxuXHRzYWZlTG9hZDogc2FmZUxvYWQsXG5cdHNhZmVMb2FkQWxsOiBzYWZlTG9hZEFsbCxcblx0c2FmZUR1bXA6IHNhZmVEdW1wXG59O1xuXG5leHBvcnQgZGVmYXVsdCBqc1lhbWw7XG5leHBvcnQgeyBDT1JFX1NDSEVNQSwgREVGQVVMVF9TQ0hFTUEsIEZBSUxTQUZFX1NDSEVNQSwgSlNPTl9TQ0hFTUEsIFNjaGVtYSwgVHlwZSwgWUFNTEV4Y2VwdGlvbiwgZHVtcCwgbG9hZCwgbG9hZEFsbCwgc2FmZUR1bXAsIHNhZmVMb2FkLCBzYWZlTG9hZEFsbCwgdHlwZXMgfTtcbiIsIi8vIEB2ZXNzZWwtcHJvdG9jb2w6T2RpbiBnb3Zlcm5zOlttZW1vcnktc3luY3xpbnRlZ3JhdGlvbl0gY29udGV4dDpQcm92aWRlIHNhZmUgZnJvbnRtYXR0ZXIgbW1fdWlkIHJlYWQvd3JpdGUvcmVtb3ZlIHV0aWxpdGllc1xuLy8gQGludGVyLWRlcGVuZGVuY2llczogW3NyYy91dGlscy9Mb2dnZXIudHNdXG4vLyBAcHVycG9zZTogTWFuYWdlIG1tX3VpZCBpbiBub3RlIGZyb250bWF0dGVyIHRvIHN1cHBvcnQgbW1fdWlkLWJhc2VkIHN5bmMgaWRlbnRpZmljYXRpb25cbi8vIEByZXN1bHQ6IFJlYWQsIHdyaXRlIGFuZCByZW1vdmUgbW1fdWlkIGZyb20gbm90ZSBmcm9udG1hdHRlciB3aGlsZSBwcmVzZXJ2aW5nIGV4aXN0aW5nIGZyb250bWF0dGVyIGFuZCBmb3JtYXR0aW5nXG4vLyBAc2lnbmVkOiBDLkJqw7hyblxuXG5pbXBvcnQgeyBURmlsZSwgQXBwIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0ICogYXMgeWFtbCBmcm9tICdqcy15YW1sJztcbmltcG9ydCB7IHByb21pc2VzIGFzIGZzIH0gZnJvbSAnZnMnO1xuaW1wb3J0IHsgR3JhcGhpdGlMb2dnZXIgfSBmcm9tICcuL0xvZ2dlcic7XG5cbi8qKlxuICogRnJvbnRtYXR0ZXJVdGlscyAtIGhlbHBlcnMgZm9yIHJlYWRpbmcvd3JpdGluZy9yZW1vdmluZyBgbW1fdWlkYCBpbiBub3RlIGZyb250bWF0dGVyLlxuICpcbiAqIEltcGxlbWVudGF0aW9uIG5vdGVzOlxuICogLSBQcmVmZXIgbWV0YWRhdGFDYWNoZSBmb3IgcmVhZHMgd2hlbiBhdmFpbGFibGUgZm9yIHBlcmZvcm1hbmNlLlxuICogLSBGYWxsIGJhY2sgdG8gcmVhZGluZyB0aGUgZmlsZSBjb250ZW50cyBhbmQgcGFyc2luZyBZQU1MIGZyb250bWF0dGVyIGRpcmVjdGx5LlxuICogLSBVc2UganMteWFtbCBmb3Igc2FmZSBwYXJzZS9kdW1wLlxuICogLSBQcmVzZXJ2ZSBvdGhlciBmcm9udG1hdHRlciBrZXlzIGFuZCB0aGUgYm9keSBjb250ZW50LlxuICogLSBVc2UgR3JhcGhpdGlMb2dnZXIgd2hlbiBhdmFpbGFibGU7IGZhbGxiYWNrIHRvIGNvbnNvbGUgd2l0aCBBU0NJSS1vbmx5IG1lc3NhZ2VzLlxuICovXG5cbi8qKiBLZXkgdXNlZCBpbiBmcm9udG1hdHRlciBmb3IgdGhlIG1lbW9yeS1tYXAgdW5pcXVlIGlkICovXG5jb25zdCBNTV9VSURfS0VZID0gJ21tX3VpZCc7XG5cbi8qKiBMb2dnZXIgaW50ZXJmYWNlIGZvciBjb25zaXN0ZW50IGxvZ2dpbmcgKi9cbmludGVyZmFjZSBMb2dnZXJJbnRlcmZhY2Uge1xuICBlcnJvcjogKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkO1xuICB3YXJuOiAoLi4uYXJnczogYW55W10pID0+IHZvaWQ7XG4gIGluZm86ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZDtcbiAgZGVidWc6ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZDtcbn1cblxuLyoqIEZhbGxiYWNrIGNvbnNvbGUgbG9nZ2VyIHdpdGggQVNDSUktb25seSBvdXRwdXQgZm9yIFdpbmRvd3MgY29tcGF0aWJpbGl0eSAqL1xuY29uc3QgbG9nZ2VyOiBMb2dnZXJJbnRlcmZhY2UgPSB7XG4gIGVycm9yOiAoLi4uYXJnczogYW55W10pID0+IHsgY29uc29sZS5lcnJvcignW0VSUk9SXScsIC4uLmFyZ3MpOyB9LFxuICB3YXJuOiAoLi4uYXJnczogYW55W10pID0+IHsgY29uc29sZS53YXJuKCdbV0FSTl0nLCAuLi5hcmdzKTsgfSxcbiAgaW5mbzogKC4uLmFyZ3M6IGFueVtdKSA9PiB7IGNvbnNvbGUuaW5mbygnW0lORk9dJywgLi4uYXJncyk7IH0sXG4gIGRlYnVnOiAoLi4uYXJnczogYW55W10pID0+IHsgY29uc29sZS5kZWJ1ZygnW0RFQlVHXScsIC4uLmFyZ3MpOyB9LFxufTtcblxuLyoqXG4gKiBFeHRyYWN0IGZyb250bWF0dGVyIGJsb2NrIGFuZCBib2R5IGZyb20gcmF3IG1hcmtkb3duLlxuICogUmV0dXJucyB7ZnJvbnRtYXR0ZXI6IHN0cmluZyB8IG51bGwsIGJvZHk6IHN0cmluZ31cbiAqL1xuZnVuY3Rpb24gc3BsaXRGcm9udG1hdHRlcihyYXc6IHN0cmluZyk6IHsgZnJvbnRtYXR0ZXI6IHN0cmluZyB8IG51bGw7IGJvZHk6IHN0cmluZyB9IHtcbiAgaWYgKHJhdy5zdGFydHNXaXRoKCctLS0nKSkge1xuICAgIGNvbnN0IGVuZElkeCA9IHJhdy5pbmRleE9mKCdcXG4tLS0nLCAzKTtcbiAgICBpZiAoZW5kSWR4ICE9PSAtMSkge1xuICAgICAgY29uc3QgZm0gPSByYXcuc2xpY2UoMywgZW5kSWR4ICsgMSk7IC8vIGluY2x1ZGUgdHJhaWxpbmcgbmV3bGluZVxuICAgICAgY29uc3QgYm9keSA9IHJhdy5zbGljZShlbmRJZHggKyA0KTsgLy8gc2tpcCBcIlxcbi0tLVwiXG4gICAgICByZXR1cm4geyBmcm9udG1hdHRlcjogZm0sIGJvZHkgfTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHsgZnJvbnRtYXR0ZXI6IG51bGwsIGJvZHk6IHJhdyB9O1xufVxuXG4vKipcbiAqIFNhZmVseSBwYXJzZSBZQU1MIGZyb250bWF0dGVyIGludG8gYW4gb2JqZWN0LlxuICogUmV0dXJucyBudWxsIGlmIG5vIGZyb250bWF0dGVyIHByZXNlbnQuXG4gKi9cbmZ1bmN0aW9uIHBhcnNlRnJvbnRtYXR0ZXIoZnJvbnRNYXR0ZXJUZXh0OiBzdHJpbmcgfCBudWxsKTogYW55IHwgbnVsbCB7XG4gIGlmICghZnJvbnRNYXR0ZXJUZXh0KSByZXR1cm4gbnVsbDtcbiAgdHJ5IHtcbiAgICAvLyBqcy15YW1sIHNhZmVMb2FkIGVxdWl2YWxlbnQgaXMgbG9hZFxuICAgIGNvbnN0IHBhcnNlZCA9IHlhbWwubG9hZChmcm9udE1hdHRlclRleHQpO1xuICAgIGlmICh0eXBlb2YgcGFyc2VkID09PSAnb2JqZWN0JyAmJiBwYXJzZWQgIT09IG51bGwpIHJldHVybiBwYXJzZWQ7XG4gICAgcmV0dXJuIHt9O1xuICB9IGNhdGNoIChlKSB7XG4gICAgbG9nZ2VyLmVycm9yKCdbRnJvbnRtYXR0ZXJVdGlsc10gWUFNTCBwYXJzZSBmYWlsZWQ6JywgU3RyaW5nKGUpKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ01hbGZvcm1lZCBmcm9udG1hdHRlcjogJyArIFN0cmluZyhlKSk7XG4gIH1cbn1cblxuLyoqXG4gKiBTZXJpYWxpemUgZnJvbnRtYXR0ZXIgb2JqZWN0IGJhY2sgdG8gWUFNTCBzdHJpbmcgKHdpdGhvdXQgdGhlIHN1cnJvdW5kaW5nIC0tLSBtYXJrZXJzKS5cbiAqIEtlZXBzIHNpbXBsZSBmb3JtYXR0aW5nIGNob2ljZXMuXG4gKi9cbmZ1bmN0aW9uIGR1bXBGcm9udG1hdHRlcihvYmo6IGFueSk6IHN0cmluZyB7XG4gIC8vIFVzZSBzaW1wbGUgZHVtcCBvcHRpb25zIHRvIHByb2R1Y2UgcmVhZGFibGUgWUFNTFxuICByZXR1cm4geWFtbC5kdW1wKG9iaiwgeyBzY2hlbWE6IHlhbWwuREVGQVVMVF9TQ0hFTUEsIG5vUmVmczogdHJ1ZSwgc29ydEtleXM6IGZhbHNlIH0pO1xufVxuXG4vKipcbiAqIFJlYWQgbW1fdWlkIGZyb20gYSBURmlsZSdzIGZyb250bWF0dGVyLlxuICogVHJpZXMgbWV0YWRhdGFDYWNoZSBmaXJzdCwgdGhlbiBmYWxscyBiYWNrIHRvIHJlYWRpbmcgdGhlIGZpbGUgYW5kIHBhcnNpbmcgZnJvbnRtYXR0ZXIuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWFkTW1VaWQoYXBwOiBBcHAsIGZpbGU6IFRGaWxlKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgLy8gUHJlZmVyIG1ldGFkYXRhQ2FjaGUgd2hlbiBhdmFpbGFibGVcbiAgICB0cnkge1xuICAgICAgY29uc3QgY2FjaGUgPSBhcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoZmlsZSk7XG4gICAgICBpZiAoY2FjaGUgJiYgY2FjaGUuZnJvbnRtYXR0ZXIgJiYgdHlwZW9mIGNhY2hlLmZyb250bWF0dGVyID09PSAnb2JqZWN0Jykge1xuICAgICAgICBjb25zdCB2YWwgPSAoY2FjaGUuZnJvbnRtYXR0ZXIgYXMgYW55KVtNTV9VSURfS0VZXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSByZXR1cm4gdmFsO1xuICAgICAgICBpZiAodmFsICE9PSB1bmRlZmluZWQgJiYgdmFsICE9PSBudWxsKSByZXR1cm4gU3RyaW5nKHZhbCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gbWV0YWRhdGFDYWNoZSBtYXkgdGhyb3cgaW4gc29tZSB0ZXN0aW5nIGNvbnRleHRzOyBmYWxsIGJhY2tcbiAgICAgIGxvZ2dlci5kZWJ1ZygnW0Zyb250bWF0dGVyVXRpbHNdIG1ldGFkYXRhQ2FjaGUgcmVhZCBmYWlsZWQsIGZhbGxpbmcgYmFjayB0byBmaWxlIHJlYWQuJywgU3RyaW5nKGUpKTtcbiAgICB9XG5cbiAgICAvLyBSZWFkIGZpbGUgY29udGVudHNcbiAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgYXBwLnZhdWx0LnJlYWQoZmlsZSk7XG4gICAgY29uc3QgeyBmcm9udG1hdHRlciB9ID0gc3BsaXRGcm9udG1hdHRlcihjb250ZW50KTtcbiAgICBpZiAoIWZyb250bWF0dGVyKSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBwYXJzZWQgPSBwYXJzZUZyb250bWF0dGVyKGZyb250bWF0dGVyKTtcbiAgICBpZiAoIXBhcnNlZCkgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgbW0gPSBwYXJzZWRbTU1fVUlEX0tFWV07XG4gICAgaWYgKHR5cGVvZiBtbSA9PT0gJ3N0cmluZycpIHJldHVybiBtbTtcbiAgICBpZiAobW0gIT09IHVuZGVmaW5lZCAmJiBtbSAhPT0gbnVsbCkgcmV0dXJuIFN0cmluZyhtbSk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGxvZ2dlci5lcnJvcignW0Zyb250bWF0dGVyVXRpbHNdIEZhaWxlZCB0byByZWFkIG1tX3VpZCBmb3IgZmlsZTonLCBmaWxlLnBhdGgsIFN0cmluZyhlcnIpKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIFdyaXRlIG9yIHVwZGF0ZSBtbV91aWQgaW4gYSBmaWxlJ3MgZnJvbnRtYXR0ZXIuXG4gKiBQcmVzZXJ2ZXMgb3RoZXIgZnJvbnRtYXR0ZXIga2V5cyBhbmQgYm9keSBjb250ZW50LiBJZiBubyBmcm9udG1hdHRlciBleGlzdHMsIG9uZSB3aWxsIGJlIGNyZWF0ZWQuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB3cml0ZU1tVWlkKGFwcDogQXBwLCBmaWxlOiBURmlsZSwgbW1VaWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICB0cnkge1xuICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCBhcHAudmF1bHQucmVhZChmaWxlKTtcbiAgICBjb25zdCB7IGZyb250bWF0dGVyLCBib2R5IH0gPSBzcGxpdEZyb250bWF0dGVyKGNvbnRlbnQpO1xuXG4gICAgbGV0IGZtT2JqOiBhbnkgPSB7fTtcbiAgICBpZiAoZnJvbnRtYXR0ZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGZtT2JqID0gcGFyc2VGcm9udG1hdHRlcihmcm9udG1hdHRlcikgfHwge307XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIE1hbGZvcm1lZCBmcm9udG1hdHRlciAtIGxvZyBhbmQgcmV0aHJvdyBzbyBjYWxsZXIgY2FuIGRlY2lkZVxuICAgICAgICBsb2dnZXIuZXJyb3IoJ1tGcm9udG1hdHRlclV0aWxzXSBNYWxmb3JtZWQgZnJvbnRtYXR0ZXIgd2hlbiB3cml0aW5nIG1tX3VpZCBmb3InLCBmaWxlLnBhdGgsIFN0cmluZyhlKSk7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm1PYmpbTU1fVUlEX0tFWV0gPSBtbVVpZDtcblxuICAgIGNvbnN0IGZtVGV4dCA9IGR1bXBGcm9udG1hdHRlcihmbU9iaikudHJpbUVuZCgpO1xuICAgIGNvbnN0IG5ld0NvbnRlbnQgPSBgLS0tXFxuJHtmbVRleHR9XFxuLS0tXFxuJHtib2R5fWA7XG5cbiAgICAvLyBVc2UgT2JzaWRpYW4gQVBJIHRvIG1vZGlmeSB0aGUgZmlsZSB3aGVyZSBwb3NzaWJsZVxuICAgIGlmIChhcHAudmF1bHQgJiYgdHlwZW9mIGFwcC52YXVsdC5tb2RpZnkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGF3YWl0IGFwcC52YXVsdC5tb2RpZnkoZmlsZSwgbmV3Q29udGVudCk7XG4gICAgICBsb2dnZXIuaW5mbygnW0Zyb250bWF0dGVyVXRpbHNdIFdyb3RlIG1tX3VpZCB0bycsIGZpbGUucGF0aCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRmFsbGJhY2s6IHVzZSB2YXVsdCBhZGFwdGVyIGlmIGF2YWlsYWJsZVxuICAgIGlmIChhcHAudmF1bHQgJiYgKGFwcC52YXVsdCBhcyBhbnkpLmFkYXB0ZXIgJiYgdHlwZW9mIChhcHAudmF1bHQgYXMgYW55KS5hZGFwdGVyLndyaXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhd2FpdCAoYXBwLnZhdWx0IGFzIGFueSkuYWRhcHRlci53cml0ZShmaWxlLnBhdGgsIG5ld0NvbnRlbnQpO1xuICAgICAgbG9nZ2VyLmluZm8oJ1tGcm9udG1hdHRlclV0aWxzXSBXcm90ZSBtbV91aWQgdG8gKGFkYXB0ZXIpICcsIGZpbGUucGF0aCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gTGFzdCByZXNvcnQ6IHdyaXRlIHVzaW5nIG5vZGUgZnMgaWYgcGF0aCBhY2Nlc3NpYmxlICh0aGlzIGlzIHVubGlrZWx5IGluIE9ic2lkaWFuIHBsdWdpbiBydW50aW1lKVxuICAgIGF3YWl0IGZzLndyaXRlRmlsZShmaWxlLnBhdGgsIG5ld0NvbnRlbnQsIHsgZW5jb2Rpbmc6ICd1dGY4JyB9KTtcbiAgICBsb2dnZXIuaW5mbygnW0Zyb250bWF0dGVyVXRpbHNdIFdyb3RlIG1tX3VpZCB0byAoZnMpICcsIGZpbGUucGF0aCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGxvZ2dlci5lcnJvcignW0Zyb250bWF0dGVyVXRpbHNdIEZhaWxlZCB0byB3cml0ZSBtbV91aWQgZm9yIGZpbGU6JywgZmlsZS5wYXRoLCBTdHJpbmcoZXJyKSk7XG4gICAgdGhyb3cgZXJyO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlIG1tX3VpZCBmcm9tIGZyb250bWF0dGVyIGlmIHByZXNlbnQuXG4gKiBQcmVzZXJ2ZXMgb3RoZXIgZnJvbnRtYXR0ZXIgYW5kIGJvZHkgY29udGVudC4gSWYgZnJvbnRtYXR0ZXIgYmVjb21lcyBlbXB0eSwgaXQgcmVtb3ZlcyB0aGUgZnJvbnRtYXR0ZXIgYmxvY2suXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZW1vdmVNbVVpZChhcHA6IEFwcCwgZmlsZTogVEZpbGUpOiBQcm9taXNlPHZvaWQ+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgYXBwLnZhdWx0LnJlYWQoZmlsZSk7XG4gICAgY29uc3QgeyBmcm9udG1hdHRlciwgYm9keSB9ID0gc3BsaXRGcm9udG1hdHRlcihjb250ZW50KTtcblxuICAgIGlmICghZnJvbnRtYXR0ZXIpIHtcbiAgICAgIGxvZ2dlci5kZWJ1ZygnW0Zyb250bWF0dGVyVXRpbHNdIE5vIGZyb250bWF0dGVyIHByZXNlbnQgZm9yJywgZmlsZS5wYXRoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgZm1PYmo6IGFueTtcbiAgICB0cnkge1xuICAgICAgZm1PYmogPSBwYXJzZUZyb250bWF0dGVyKGZyb250bWF0dGVyKSB8fCB7fTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ1tGcm9udG1hdHRlclV0aWxzXSBNYWxmb3JtZWQgZnJvbnRtYXR0ZXIgd2hlbiByZW1vdmluZyBtbV91aWQgZm9yJywgZmlsZS5wYXRoLCBTdHJpbmcoZSkpO1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG5cbiAgICBpZiAoZm1PYmouaGFzT3duUHJvcGVydHkoTU1fVUlEX0tFWSkpIHtcbiAgICAgIGRlbGV0ZSBmbU9ialtNTV9VSURfS0VZXTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nZ2VyLmRlYnVnKCdbRnJvbnRtYXR0ZXJVdGlsc10gbW1fdWlkIG5vdCBwcmVzZW50IG9uJywgZmlsZS5wYXRoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgZnJvbnRtYXR0ZXIgb2JqZWN0IGlzIGVtcHR5IG5vdywgcmVtb3ZlIGZyb250bWF0dGVyIGJsb2NrXG4gICAgY29uc3QgaGFzS2V5cyA9IE9iamVjdC5rZXlzKGZtT2JqKS5sZW5ndGggPiAwO1xuICAgIGNvbnN0IG5ld0NvbnRlbnQgPSBoYXNLZXlzID8gYC0tLVxcbiR7ZHVtcEZyb250bWF0dGVyKGZtT2JqKS50cmltRW5kKCl9XFxuLS0tXFxuJHtib2R5fWAgOiBib2R5O1xuXG4gICAgaWYgKGFwcC52YXVsdCAmJiB0eXBlb2YgYXBwLnZhdWx0Lm1vZGlmeSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYXdhaXQgYXBwLnZhdWx0Lm1vZGlmeShmaWxlLCBuZXdDb250ZW50KTtcbiAgICAgIGxvZ2dlci5pbmZvKCdbRnJvbnRtYXR0ZXJVdGlsc10gUmVtb3ZlZCBtbV91aWQgZnJvbScsIGZpbGUucGF0aCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGFwcC52YXVsdCAmJiAoYXBwLnZhdWx0IGFzIGFueSkudmF1bHQgJiYgdHlwZW9mIChhcHAudmF1bHQgYXMgYW55KS5hZGFwdGVyLndyaXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhd2FpdCAoYXBwLnZhdWx0IGFzIGFueSkuYWRhcHRlci53cml0ZShmaWxlLnBhdGgsIG5ld0NvbnRlbnQpO1xuICAgICAgbG9nZ2VyLmluZm8oJ1tGcm9udG1hdHRlclV0aWxzXSBSZW1vdmVkIG1tX3VpZCBmcm9tIChhZGFwdGVyKSAnLCBmaWxlLnBhdGgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGF3YWl0IGZzLndyaXRlRmlsZShmaWxlLnBhdGgsIG5ld0NvbnRlbnQsIHsgZW5jb2Rpbmc6ICd1dGY4JyB9KTtcbiAgICBsb2dnZXIuaW5mbygnW0Zyb250bWF0dGVyVXRpbHNdIFJlbW92ZWQgbW1fdWlkIGZyb20gKGZzKSAnLCBmaWxlLnBhdGgpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBsb2dnZXIuZXJyb3IoJ1tGcm9udG1hdHRlclV0aWxzXSBGYWlsZWQgdG8gcmVtb3ZlIG1tX3VpZCBmb3IgZmlsZTonLCBmaWxlLnBhdGgsIFN0cmluZyhlcnIpKTtcbiAgICB0aHJvdyBlcnI7XG4gIH1cbn1cblxuLy8gQHZlc3NlbC1jbG9zZTpPZGluIiwiLyoqXHJcbiAqIFN5bmMgU3RhdHVzIFR5cGVzIGFuZCBJbnRlcmZhY2VzIGZvciBHcmFwaGl0aSBLbm93bGVkZ2UgR3JhcGggSW50ZWdyYXRpb25cclxuICpcclxuICogPT09IFZFU1NFTCBPUEVOID09PVxyXG4gKiBQdXJwb3NlOiBDb3JlIHN5bmMgc3RhdHVzIHN5c3RlbSBmb3IgcGVyLW5vdGUgc3luYyBzdGF0dXMgaWNvbnNcclxuICogSW50ZWdyYXRpb246IFdvcmtzIHdpdGggZXhpc3RpbmcgR3JhcGhpdGlTZXJ2aWNlIGFuZCBzZXR0aW5ncyBpbmZyYXN0cnVjdHVyZVxyXG4gKiBNb2RlOiBDb2RlIC0gQ29yZSB0eXBlIGRlZmluaXRpb25zIGZvciBzeW5jIHN0YXR1cyBmdW5jdGlvbmFsaXR5XHJcbiAqL1xyXG5cclxuaW1wb3J0IHR5cGUgeyBURmlsZSB9IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbi8qKlxyXG4gKiBTeW5jIHN0YXR1cyBzdGF0ZXMgZm9yIG5vdGUgaWNvbnNcclxuICovXHJcbmV4cG9ydCBlbnVtIFN5bmNTdGF0dXMge1xyXG4gICAgTk9UX1NZTkNFRCA9ICdub3Qtc3luY2VkJywgICAvLyBHcmF5IGljb24gLSBub3RlIGhhcyBub3QgYmVlbiBzeW5jZWRcclxuICAgIFNZTkNFRCA9ICdzeW5jZWQnLCAgICAgICAgICAgLy8gR3JlZW4gaWNvbiAtIG5vdGUgaXMgc3luY2VkIHdpdGggR3JhcGhpdGlcclxuICAgIFBSSVZBVEUgPSAncHJpdmF0ZScsICAgICAgICAgLy8gQmx1ZSBpY29uIC0gbm90ZSBpcyBtYXJrZWQgcHJpdmF0ZSAoZXhjbHVkZWQpXHJcbiAgICBTWU5DSU5HID0gJ3N5bmNpbmcnLCAgICAgICAgIC8vIFNwaW5uaW5nIGFuaW1hdGlvbiAtIHN5bmMgaW4gcHJvZ3Jlc3NcclxuICAgIEVSUk9SID0gJ2Vycm9yJyAgICAgICAgICAgICAgLy8gUmVkIGljb24gLSBsYXN0IHN5bmMgZmFpbGVkIHdpdGggZXJyb3JcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbmZpZ3VyYXRpb24gZm9yIGVhY2ggc3luYyBzdGF0dXMgaWNvbiBhcHBlYXJhbmNlXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFN5bmNTdGF0dXNDb25maWcge1xyXG4gICAgY29sb3I6IHN0cmluZztcclxuICAgIHBhdGg6IHN0cmluZztcclxuICAgIGFuaW1hdGlvbj86IHN0cmluZztcclxuICAgIHRvb2x0aXA6IHN0cmluZztcclxufVxyXG5cclxuLyoqXHJcbiAqIE9wdGlvbnMgZm9yIGNyZWF0aW5nIGEgc3luYyBzdGF0dXMgaWNvblxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBTeW5jSWNvbk9wdGlvbnMge1xyXG4gICAgZmlsZTogVEZpbGU7XHJcbiAgICBvbkNsaWNrPzogKGZpbGU6IFRGaWxlKSA9PiBQcm9taXNlPHZvaWQ+O1xyXG59XHJcblxyXG4vKipcclxuICogQ3VycmVudCBzdGF0ZSBvZiBhIHN5bmMgc3RhdHVzIGljb25cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSWNvblN0YXRlIHtcclxuICAgIHN0YXR1czogU3luY1N0YXR1cztcclxuICAgIGxhc3RTeW5jPzogc3RyaW5nO1xyXG4gICAgZXJyb3I/OiBzdHJpbmc7XHJcbiAgICBpc0FjdGl2ZTogYm9vbGVhbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFN5bmMgc3RhdHVzIGRldGVjdGlvbiByZXN1bHRcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3RhdHVzRGV0ZWN0aW9uUmVzdWx0IHtcclxuICAgIHN0YXR1czogU3luY1N0YXR1cztcclxuICAgIHJlYXNvbjogc3RyaW5nO1xyXG4gICAgbGFzdFN5bmNlZD86IHN0cmluZztcclxuICAgIGVwaXNvZGVJZD86IHN0cmluZztcclxuICAgIHN5bmNUeXBlPzogc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogQ29uZmlndXJhdGlvbiBmb3Igc3luYyBzdGF0dXMgaWNvbnMgYnkgc3RhdHVzIHR5cGVcclxuICovXHJcbmV4cG9ydCBjb25zdCBTWU5DX1NUQVRVU19DT05GSUdTOiBSZWNvcmQ8U3luY1N0YXR1cywgU3luY1N0YXR1c0NvbmZpZz4gPSB7XHJcbiAgICBbU3luY1N0YXR1cy5TWU5DRURdOiB7XHJcbiAgICAgICAgY29sb3I6ICcjMjJjNTVlJywgLy8gR3JlZW5cclxuICAgICAgICBwYXRoOiAnTTkgMTJsMiAyIDQtNG02IDJhOSA5IDAgMTEtMTggMCA5IDkgMCAwMTE4IDB6JywgLy8gQ2hlY2ttYXJrIGNpcmNsZVxyXG4gICAgICAgIHRvb2x0aXA6ICdOb3RlIGlzIHN5bmNlZCB3aXRoIEdyYXBoaXRpJ1xyXG4gICAgfSxcclxuICAgIFtTeW5jU3RhdHVzLlBSSVZBVEVdOiB7XHJcbiAgICAgICAgY29sb3I6ICcjM2I4MmY2JywgLy8gQmx1ZVxyXG4gICAgICAgIHBhdGg6ICdNMTIgMTV2Mm0tNiA0aDEyYTIgMiAwIDAwMi0ydi02YTIgMiAwIDAwLTItMkg2YTIgMiAwIDAwLTIgMnY2YTIgMiAwIDAwMiAyem0xMC0xMFY3YTQgNCAwIDAwLTggMHY0aDh6JywgLy8gTG9jayBpY29uXHJcbiAgICAgICAgdG9vbHRpcDogJ05vdGUgaXMgbWFya2VkIHByaXZhdGUgKGV4Y2x1ZGVkIGZyb20gc3luYyknXHJcbiAgICB9LFxyXG4gICAgW1N5bmNTdGF0dXMuTk9UX1NZTkNFRF06IHtcclxuICAgICAgICBjb2xvcjogJyM2YjcyODAnLCAvLyBHcmF5XHJcbiAgICAgICAgcGF0aDogJ000IDR2NWguNTgybTE1LjM1NiAyQTguMDAxIDguMDAxIDAgMDA0LjU4MiA5bTAgMEg5bTExIDExdi01aC0uNTgxbTAgMGE4LjAwMyA4LjAwMyAwIDAxLTE1LjM1Ny0ybTE1LjM1NyAySDE1JywgLy8gU3luYy9yZWZyZXNoIGljb25cclxuICAgICAgICB0b29sdGlwOiAnTm90ZSBpcyBub3Qgc3luY2VkIC0gY2xpY2sgdG8gc3luYydcclxuICAgIH0sXHJcbiAgICBbU3luY1N0YXR1cy5TWU5DSU5HXToge1xyXG4gICAgICAgIGNvbG9yOiAnI2Y1OWUwYicsIC8vIE9yYW5nZVxyXG4gICAgICAgIHBhdGg6ICdNNCA0djVoLjU4Mm0xNS4zNTYgMkE4LjAwMSA4LjAwMSAwIDAwNC41ODIgOW0wIDBIOW0xMSAxMXYtNWgtLjU4MW0wIDBhOC4wMDMgOC4wMDMgMCAwMS0xNS4zNTctMm0xNS4zNTcgMkgxNScsIC8vIFJlZnJlc2ggaWNvblxyXG4gICAgICAgIGFuaW1hdGlvbjogJ3NwaW4gMXMgbGluZWFyIGluZmluaXRlJyxcclxuICAgICAgICB0b29sdGlwOiAnU3luYyBpbiBwcm9ncmVzcy4uLidcclxuICAgIH0sXHJcbiAgICBbU3luY1N0YXR1cy5FUlJPUl06IHtcclxuICAgICAgICBjb2xvcjogJyNlZjQ0NDQnLCAvLyBSZWRcclxuICAgICAgICBwYXRoOiAnTTEwIDE0bDItMm0wIDBsMi0ybS0yIDJsLTItMm0yIDJsMiAybTctMmE5IDkgMCAxMS0xOCAwIDkgOSAwIDAxMTggMHonLCAvLyBYIGNpcmNsZVxyXG4gICAgICAgIHRvb2x0aXA6ICdTeW5jIGZhaWxlZCAtIGNsaWNrIHRvIHJldHJ5J1xyXG4gICAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIEV2ZW50cyB0aGF0IGNhbiBiZSBlbWl0dGVkIGJ5IHN5bmMgc3RhdHVzIHN5c3RlbVxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBTeW5jU3RhdHVzRXZlbnRzIHtcclxuICAgICdzdGF0dXMtY2hhbmdlZCc6IChmaWxlOiBURmlsZSwgbmV3U3RhdHVzOiBTeW5jU3RhdHVzKSA9PiB2b2lkO1xyXG4gICAgJ3N5bmMtc3RhcnRlZCc6IChmaWxlOiBURmlsZSkgPT4gdm9pZDtcclxuICAgICdzeW5jLWNvbXBsZXRlZCc6IChmaWxlOiBURmlsZSwgc3VjY2VzczogYm9vbGVhbikgPT4gdm9pZDtcclxuICAgICdzeW5jLWVycm9yJzogKGZpbGU6IFRGaWxlLCBlcnJvcjogc3RyaW5nKSA9PiB2b2lkO1xyXG59XHJcblxyXG4vKipcclxuICogSW50ZXJmYWNlIGZvciBzeW5jIHN0YXR1cyBtYW5hZ2VyXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIElTeW5jU3RhdHVzTWFuYWdlciB7XHJcbiAgICAvLyBTdGF0dXMgRGV0ZWN0aW9uXHJcbiAgICBnZXROb3RlU3luY1N0YXR1cyhmaWxlOiBURmlsZSk6IFByb21pc2U8U3RhdHVzRGV0ZWN0aW9uUmVzdWx0PjtcclxuICAgIGlzTm90ZVByaXZhdGUoZmlsZTogVEZpbGUpOiBib29sZWFuO1xyXG5cclxuICAgIC8vIFN5bmMgT3BlcmF0aW9uc1xyXG4gICAgc3luY05vdGUoZmlsZTogVEZpbGUpOiBQcm9taXNlPGFueT47XHJcbiAgICB1cGRhdGVOb3RlUHJvcGVydGllcyhmaWxlOiBURmlsZSwgcmVzdWx0OiBhbnkpOiBQcm9taXNlPHZvaWQ+O1xyXG5cclxuICAgIC8vIFN0YXRlIE1hbmFnZW1lbnRcclxuICAgIHVwZGF0ZUljb25TdGF0dXMoZmlsZTogVEZpbGUsIHN0YXR1czogU3luY1N0YXR1cyk6IHZvaWQ7XHJcbiAgICBnZXRBY3RpdmVTeW5jKGZpbGVQYXRoOiBzdHJpbmcpOiBib29sZWFuO1xyXG5cclxuICAgIC8vIEV2ZW50IEhhbmRsaW5nXHJcbiAgICBvbjxLIGV4dGVuZHMga2V5b2YgU3luY1N0YXR1c0V2ZW50cz4oZXZlbnQ6IEssIGNhbGxiYWNrOiBTeW5jU3RhdHVzRXZlbnRzW0tdKTogdm9pZDtcclxuICAgIG9mZjxLIGV4dGVuZHMga2V5b2YgU3luY1N0YXR1c0V2ZW50cz4oZXZlbnQ6IEssIGNhbGxiYWNrOiBTeW5jU3RhdHVzRXZlbnRzW0tdKTogdm9pZDtcclxuICAgIGVtaXQ8SyBleHRlbmRzIGtleW9mIFN5bmNTdGF0dXNFdmVudHM+KGV2ZW50OiBLLCAuLi5hcmdzOiBQYXJhbWV0ZXJzPFN5bmNTdGF0dXNFdmVudHNbS10+KTogdm9pZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEludGVyZmFjZSBmb3Igc3luYyBzdGF0dXMgaWNvbiBjb21wb25lbnRcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVN5bmNTdGF0dXNJY29uIHtcclxuICAgIC8vIENvcmUgUHJvcGVydGllc1xyXG4gICAgcmVhZG9ubHkgaWNvbkVsOiBIVE1MRWxlbWVudDtcclxuICAgIHJlYWRvbmx5IGZpbGU6IFRGaWxlO1xyXG4gICAgcmVhZG9ubHkgc3RhdHVzOiBTeW5jU3RhdHVzO1xyXG5cclxuICAgIC8vIFN0YXRlIE1hbmFnZW1lbnRcclxuICAgIHVwZGF0ZVN0YXR1cyhzdGF0dXM6IFN5bmNTdGF0dXMpOiB2b2lkO1xyXG4gICAgc2V0TG9hZGluZyhpc0xvYWRpbmc6IGJvb2xlYW4pOiB2b2lkO1xyXG4gICAgc2V0RXJyb3IoZXJyb3I6IHN0cmluZyB8IG51bGwpOiB2b2lkO1xyXG5cclxuICAgIC8vIExpZmVjeWNsZVxyXG4gICAgbW91bnQoKTogdm9pZDtcclxuICAgIHVubW91bnQoKTogdm9pZDtcclxuICAgIHJlZnJlc2goKTogUHJvbWlzZTx2b2lkPjtcclxuXHJcbiAgICAvLyBFdmVudHNcclxuICAgIG9uQ2xpY2soKTogUHJvbWlzZTx2b2lkPjtcclxuICAgIG9uU3RhdHVzQ2hhbmdlKHN0YXR1czogU3luY1N0YXR1cyk6IHZvaWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDU1MgY2xhc3MgbmFtZXMgZm9yIHN5bmMgc3RhdHVzIGljb25zXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgU1lOQ19TVEFUVVNfQ1NTX0NMQVNTRVMgPSB7XHJcbiAgICBjb250YWluZXI6ICdncmFwaGl0aS1zeW5jLXN0YXR1cy1pY29uJyxcclxuICAgIGljb246ICdncmFwaGl0aS1zeW5jLWljb24nLFxyXG4gICAgc3Bpbm5pbmc6ICdncmFwaGl0aS1zeW5jLXNwaW5uaW5nJyxcclxuICAgIGVycm9yOiAnZ3JhcGhpdGktc3luYy1lcnJvcicsXHJcbiAgICBzdWNjZXNzOiAnZ3JhcGhpdGktc3luYy1zdWNjZXNzJyxcclxuICAgIHByaXZhdGU6ICdncmFwaGl0aS1zeW5jLXByaXZhdGUnLFxyXG4gICAgbm90U3luY2VkOiAnZ3JhcGhpdGktc3luYy1ub3Qtc3luY2VkJ1xyXG59IGFzIGNvbnN0O1xyXG5cclxuLy8gPT09IFZFU1NFTCBDTE9TRSA9PT0iLCIvKipcbiAqIFN5bmMgU3RhdHVzIE1hbmFnZXIgU2VydmljZSBmb3IgR3JhcGhpdGkgS25vd2xlZGdlIEdyYXBoIEludGVncmF0aW9uXG4gKlxuICogPT09IFZFU1NFTCBPUEVOID09PVxuICogUHVycG9zZTogTWFuYWdlcyBzeW5jIHN0YXR1cyBkZXRlY3Rpb24sIG9wZXJhdGlvbnMsIGFuZCBzdGF0ZSBmb3IgaW5kaXZpZHVhbCBub3Rlc1xuICogSW50ZWdyYXRpb246IFVzZXMgZXhpc3RpbmcgR3JhcGhpdGlTZXJ2aWNlLCBzZXR0aW5ncywgYW5kIExvZ2dlciBpbmZyYXN0cnVjdHVyZVxuICogTW9kZTogQ29kZSAtIFNlcnZpY2UgaW1wbGVtZW50YXRpb24gZm9yIHN5bmMgc3RhdHVzIGZ1bmN0aW9uYWxpdHlcbiAqL1xuXG5pbXBvcnQgeyBURmlsZSwgQXBwLCBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gJ3BhdGgnOyAvLyBOZWVkZWQgZm9yIG5vcm1hbGl6ZU5vdGVQYXRoXG5pbXBvcnQgdHlwZSB7IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3MgfSBmcm9tICcuLi90eXBlcy9TZXR0aW5ncyc7XG5pbXBvcnQgdHlwZSB7IEdyYXBoaXRpU2VydmljZSwgU3luY1Jlc3VsdCB9IGZyb20gJy4vR3JhcGhpdGlTZXJ2aWNlJztcbmltcG9ydCB0eXBlIHsgR3JhcGhpdGlMb2dnZXIgfSBmcm9tICcuLi91dGlscy9Mb2dnZXInO1xuaW1wb3J0IHR5cGUgeyBTeW5jUmVnaXN0cnlTZXJ2aWNlIH0gZnJvbSAnLi9TeW5jUmVnaXN0cnlTZXJ2aWNlJztcbmltcG9ydCAqIGFzIEZyb250bWF0dGVyVXRpbHMgZnJvbSAnLi4vdXRpbHMvRnJvbnRtYXR0ZXJVdGlscyc7XG5pbXBvcnQge1xuICAgIFN5bmNTdGF0dXMsXG4gICAgdHlwZSBTdGF0dXNEZXRlY3Rpb25SZXN1bHRcbn0gZnJvbSAnLi4vdHlwZXMvU3luY1N0YXR1cyc7XG5cbmludGVyZmFjZSBRdWV1ZUl0ZW0ge1xuICAgIGZpbGU6IFRGaWxlO1xuICAgIHNvdXJjZV9kZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgIHJlc29sdmU6IChyZXN1bHQ6IFN5bmNSZXN1bHQpID0+IHZvaWQ7XG4gICAgcmVqZWN0OiAoZXJyb3I6IGFueSkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGNsYXNzIFN5bmNTdGF0dXNNYW5hZ2VyIHtcbiAgICBwcml2YXRlIGFwcDogQXBwO1xuICAgIHByaXZhdGUgc2V0dGluZ3M6IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3M7XG4gICAgcHJpdmF0ZSBncmFwaGl0aVNlcnZpY2U6IEdyYXBoaXRpU2VydmljZTtcbiAgICBwcml2YXRlIHN5bmNSZWdpc3RyeVNlcnZpY2U6IFN5bmNSZWdpc3RyeVNlcnZpY2U7XG4gICAgcHJpdmF0ZSBsb2dnZXI6IEdyYXBoaXRpTG9nZ2VyO1xuICAgIHByaXZhdGUgYWN0aXZlU3luY3M6IE1hcDxzdHJpbmcsIGJvb2xlYW4+ID0gbmV3IE1hcCgpO1xuICAgIHByaXZhdGUgc3luY1F1ZXVlOiBRdWV1ZUl0ZW1bXSA9IFtdO1xuICAgIHByaXZhdGUgaXNQcm9jZXNzaW5nUXVldWUgPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBhcHA6IEFwcCxcbiAgICAgICAgc2V0dGluZ3M6IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3MsXG4gICAgICAgIGdyYXBoaXRpU2VydmljZTogR3JhcGhpdGlTZXJ2aWNlLFxuICAgICAgICBzeW5jUmVnaXN0cnlTZXJ2aWNlOiBTeW5jUmVnaXN0cnlTZXJ2aWNlLFxuICAgICAgICBsb2dnZXI6IEdyYXBoaXRpTG9nZ2VyXG4gICAgKSB7XG4gICAgICAgIHRoaXMuYXBwID0gYXBwO1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgICAgIHRoaXMuZ3JhcGhpdGlTZXJ2aWNlID0gZ3JhcGhpdGlTZXJ2aWNlO1xuICAgICAgICB0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UgPSBzeW5jUmVnaXN0cnlTZXJ2aWNlO1xuICAgICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcblxuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdTeW5jU3RhdHVzTWFuYWdlciBpbml0aWFsaXplZCcpO1xuICAgIH1cblxuICAgIC8vIEBwdXJwb3NlOiBRdWV1ZSBtYW51YWwgc3luYyByZXF1ZXN0cyB0byBwcmV2ZW50IHJhY2UgY29uZGl0aW9ucyBAZGVwZW5kczogc3luY05vdGUgbWV0aG9kIEByZXN1bHRzOiBQcm9taXNlIHJlc29sdmluZyB3aXRoIHN5bmMgcmVzdWx0XG4gICAgYXN5bmMgZW5xdWV1ZShmaWxlOiBURmlsZSwgc291cmNlX2Rlc2NyaXB0aW9uOiBzdHJpbmcgPSAnb2JzaWRpYW5fbW1faW5kaXZpZHVhbCcpOiBQcm9taXNlPFN5bmNSZXN1bHQ+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXVlSXRlbTogUXVldWVJdGVtID0geyBmaWxlLCBzb3VyY2VfZGVzY3JpcHRpb24sIHJlc29sdmUsIHJlamVjdCB9O1xuICAgICAgICAgICAgdGhpcy5zeW5jUXVldWUucHVzaChxdWV1ZUl0ZW0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBBbHdheXMgbG9nIHF1ZXVlIHN0YXR1cyBmb3IgYmV0dGVyIHZpc2liaWxpdHlcbiAgICAgICAgICAgIGlmICh0aGlzLnN5bmNRdWV1ZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBTdGFydGluZyBzeW5jIGZvciAke2ZpbGUubmFtZX1gKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhgU3luYyBxdWV1ZWQgZm9yICR7ZmlsZS5uYW1lfSAocG9zaXRpb24gJHt0aGlzLnN5bmNRdWV1ZS5sZW5ndGh9IGluIHF1ZXVlKWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NRdWV1ZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHByb2Nlc3NRdWV1ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKHRoaXMuaXNQcm9jZXNzaW5nUXVldWUgfHwgdGhpcy5zeW5jUXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlzUHJvY2Vzc2luZ1F1ZXVlID0gdHJ1ZTtcblxuICAgICAgICB3aGlsZSAodGhpcy5zeW5jUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuc3luY1F1ZXVlLnNoaWZ0KCkhO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnN5bmNOb3RlKGl0ZW0uZmlsZSwgaXRlbS5zb3VyY2VfZGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgIGl0ZW0ucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpdGVtLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlzUHJvY2Vzc2luZ1F1ZXVlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHNldHRpbmdzIHdoZW4gcGx1Z2luIHNldHRpbmdzIGNoYW5nZVxuICAgICAqL1xuICAgIHVwZGF0ZVNldHRpbmdzKHNldHRpbmdzOiBHcmFwaGl0aVBsdWdpblNldHRpbmdzKTogdm9pZCB7XG4gICAgICAgIC8vIEB2ZXNzZWwtcHJvdG9jb2w6QmFsZHIgZ292ZXJuczpbZGVidWctZml4fHNldHRpbmdzXSBjb250ZXh0OlByb3BlciBkZWJ1ZyBzZXR0aW5ncyBwcm9wYWdhdGlvbiB0byBsb2dnZXJcbiAgICAgICAgLy8gQGludGVyLWRlcGVuZGVuY2llczogW0dyYXBoaXRpTG9nZ2VyLCBzZXR0aW5ncy1kZWJ1Zy1zdGF0ZV1cbiAgICAgICAgLy8gQHB1cnBvc2U6IEVuc3VyZSBTeW5jU3RhdHVzTWFuYWdlciBsb2dnZXIgcmVzcGVjdHMgZW5hYmxlRGVidWdMb2dnaW5nIHNldHRpbmcgY2hhbmdlc1xuICAgICAgICAvLyBAcmVzdWx0OiBDb25zb2xlIGRlYnVnIGxvZ2dpbmcgd29ya3Mgd2hlbiBlbmFibGVkIGluIHNldHRpbmdzXG4gICAgICAgIC8vIEBzaWduZWQ6IEMuQmrDuHJuXG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICAgICAgdGhpcy5sb2dnZXIuc2V0RGVidWcoc2V0dGluZ3MuZW5hYmxlRGVidWdMb2dnaW5nKTtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1N5bmNTdGF0dXNNYW5hZ2VyIHNldHRpbmdzIHVwZGF0ZWQnKTtcbiAgICB9XG5cbiAgICAvLyBAdmVzc2VsLXByb3RvY29sOk9kaW4gZ292ZXJuczpbbWVtb3J5LXN5bmN8cmVmYWN0b3JdIGNvbnRleHQ6TU1fVUlELWJhc2VkIHN5bmMgc3RhdHVzIGRldGVjdGlvbiByZXBsYWNpbmcgcGF0aC1iYXNlZCBsb29rdXBzXG4gICAgLy8gQGludGVyLWRlcGVuZGVuY2llczogW0Zyb250bWF0dGVyVXRpbHMsIFN5bmNSZWdpc3RyeVNlcnZpY2UsIG1tX3VpZCBzeXN0ZW1dXG4gICAgLy8gQHB1cnBvc2U6IEVuYWJsZSBhY2N1cmF0ZSBzeW5jIHN0YXR1cyBkZXRlY3Rpb24gdXNpbmcgbW1fdWlkIGFzIHByaW1hcnkgaWRlbnRpZmllclxuICAgIC8vIEByZXN1bHQ6IENvbnNpc3RlbnQgc3luYyBzdGF0dXMgZGV0ZWN0aW9uIGFsaWduZWQgd2l0aCBtbV91aWQgYXJjaGl0ZWN0dXJlXG4gICAgLy8gQHNpZ25lZDogQy5CasO4cm5cbiAgICBhc3luYyBnZXROb3RlU3luY1N0YXR1cyhmaWxlOiBURmlsZSk6IFByb21pc2U8U3RhdHVzRGV0ZWN0aW9uUmVzdWx0PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiBub3RlIGlzIGN1cnJlbnRseSBzeW5jaW5nXG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVTeW5jcy5oYXMoZmlsZS5wYXRoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogU3luY1N0YXR1cy5TWU5DSU5HLFxuICAgICAgICAgICAgICAgICAgICByZWFzb246ICdTeW5jIG9wZXJhdGlvbiBpbiBwcm9ncmVzcydcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBub3RlIGlzIHByaXZhdGUgKGV4Y2x1ZGVkIGZyb20gc3luYylcbiAgICAgICAgICAgIGlmICh0aGlzLmlzTm90ZVByaXZhdGUoZmlsZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFN5bmNTdGF0dXMuUFJJVkFURSxcbiAgICAgICAgICAgICAgICAgICAgcmVhc29uOiAnTm90ZSBpcyBtYXJrZWQgcHJpdmF0ZSBvciBpbiBleGNsdWRlZCBmb2xkZXInXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gR2V0IG1tX3VpZCBmcm9tIGZyb250bWF0dGVyIGZpcnN0XG4gICAgICAgICAgICBjb25zdCBtbVVpZCA9IGF3YWl0IEZyb250bWF0dGVyVXRpbHMucmVhZE1tVWlkKHRoaXMuYXBwLCBmaWxlKTtcblxuICAgICAgICAgICAgLy8gSWYgbm8gbW1fdWlkLCBub3RlIGhhcyBuZXZlciBiZWVuIHN5bmNlZFxuICAgICAgICAgICAgaWYgKCFtbVVpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogU3luY1N0YXR1cy5OT1RfU1lOQ0VELFxuICAgICAgICAgICAgICAgICAgICByZWFzb246ICdOb3RlIGhhcyBubyBtbV91aWQgLSBoYXMgbm90IGJlZW4gc3luY2VkIHRvIEdyYXBoaXRpJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEdldCBjdXJyZW50IHZhdWx0IGFuZCBkYXRhYmFzZSBpbmZvXG4gICAgICAgICAgICBjb25zdCB2YXVsdElkID0gdGhpcy5hcHAudmF1bHQuZ2V0TmFtZSgpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudERiVHlwZSA9IHRoaXMuZ2V0Q3VycmVudERhdGFiYXNlVHlwZSgpO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBzeW5jIHJlZ2lzdHJ5IHVzaW5nIG1tX3VpZFxuICAgICAgICAgICAgY29uc3Qgc3luY1JlY29yZCA9IHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZS5nZXRTeW5jUmVjb3JkKG1tVWlkLCB2YXVsdElkKTtcblxuICAgICAgICAgICAgaWYgKHN5bmNSZWNvcmQpIHtcbiAgICAgICAgICAgICAgICAvLyBGaW5kIHN5bmMgZW50cnkgZm9yIGN1cnJlbnQgZGF0YWJhc2VcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50RGJTeW5jID0gc3luY1JlY29yZC5zeW5jcy5maW5kKHN5bmMgPT4gc3luYy5kYXRhYmFzZV9pZCA9PT0gY3VycmVudERiVHlwZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudERiU3luYykge1xuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgZXJyb3Igc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnREYlN5bmMuZXJyb3JfbWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFN5bmNTdGF0dXMuRVJST1IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBgTGFzdCBzeW5jIGZhaWxlZDogJHtjdXJyZW50RGJTeW5jLmVycm9yX21lc3NhZ2V9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0U3luY2VkOiBjdXJyZW50RGJTeW5jLmxhc3Rfc3luYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcGlzb2RlSWQ6IGN1cnJlbnREYlN5bmMuZXBpc29kZV91dWlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bmNUeXBlOiBjdXJyZW50RGJTeW5jLnNvdXJjZV9kZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFN1Y2Nlc3NmdWxseSBzeW5jZWRcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3luY1R5cGVJbmZvID0gY3VycmVudERiU3luYy5zb3VyY2VfZGVzY3JpcHRpb24/LmluY2x1ZGVzKCdpbmRpdmlkdWFsJylcbiAgICAgICAgICAgICAgICAgICAgICAgID8gJ2luZGl2aWR1YWwgc3luYydcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJ3N5bmMnO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFN5bmNTdGF0dXMuU1lOQ0VELFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBgTm90ZSBoYXMgYmVlbiBzeW5jZWQgdG8gR3JhcGhpdGkgKCR7c3luY1R5cGVJbmZvfSlgLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFN5bmNlZDogY3VycmVudERiU3luYy5sYXN0X3N5bmMsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcGlzb2RlSWQ6IGN1cnJlbnREYlN5bmMuZXBpc29kZV91dWlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3luY1R5cGU6IGN1cnJlbnREYlN5bmMuc291cmNlX2Rlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTm90ZSBoYXMgc3luY3MgZm9yIG90aGVyIGRhdGFiYXNlcyBidXQgbm90IGN1cnJlbnQgb25lXG4gICAgICAgICAgICAgICAgY29uc3Qgb3RoZXJEYXRhYmFzZXMgPSBzeW5jUmVjb3JkLnN5bmNzLm1hcChzeW5jID0+IHN5bmMuZGF0YWJhc2VfaWQpLmpvaW4oJywgJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBTeW5jU3RhdHVzLk5PVF9TWU5DRUQsXG4gICAgICAgICAgICAgICAgICAgIHJlYXNvbjogYE5vdGUgd2FzIHN5bmNlZCB0byBvdGhlciBkYXRhYmFzZXMgKCR7b3RoZXJEYXRhYmFzZXN9KSBidXQgbm90IGN1cnJlbnQgZGF0YWJhc2UgKCR7Y3VycmVudERiVHlwZX0pYFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG1tX3VpZCBleGlzdHMgYnV0IG5vIHN5bmMgcmVjb3JkIGZvdW5kIC0gaW5jb25zaXN0ZW50IHN0YXRlXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXR1czogU3luY1N0YXR1cy5OT1RfU1lOQ0VELFxuICAgICAgICAgICAgICAgIHJlYXNvbjogYE5vdGUgaGFzIG1tX3VpZCAoJHttbVVpZH0pIGJ1dCBubyBzeW5jIHJlY29yZCBmb3VuZCAtIG1heSBuZWVkIHJlLXN5bmNgXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRXJyb3IgZGV0ZXJtaW5pbmcgc3luYyBzdGF0dXMnLCB7IGZpbGU6IGZpbGUucGF0aCwgZXJyb3IgfSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXR1czogU3luY1N0YXR1cy5FUlJPUixcbiAgICAgICAgICAgICAgICByZWFzb246IGBFcnJvciBkZXRlcm1pbmluZyBzdGF0dXM6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWBcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQHZlc3NlbC1jbG9zZTpPZGluXG5cbiAgICAvKipcbiAgICAgKiBHZXQgY3VycmVudCBzeW5jIHN0YXR1cyBmb3IgYSBmaWxlIChzeW5jaHJvbm91cyB2ZXJzaW9uIGZvciBVSSkgdXNpbmcgbW1fdWlkLWJhc2VkIHJlZ2lzdHJ5IGRhdGFcbiAgICAgKi9cbiAgICBnZXRTdGF0dXMoZmlsZTogVEZpbGUpOiBzdHJpbmcge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgbm90ZSBpcyBjdXJyZW50bHkgc3luY2luZ1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlU3luY3MuaGFzKGZpbGUucGF0aCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1NZTkNJTkcnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBub3RlIGlzIHByaXZhdGUgKGV4Y2x1ZGVkIGZyb20gc3luYylcbiAgICAgICAgICAgIGlmICh0aGlzLmlzTm90ZVByaXZhdGUoZmlsZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1BSSVZBVEUnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBHZXQgbW1fdWlkIGZyb20gZnJvbnRtYXR0ZXIgLSB1c2Ugc3luYyBtZXRob2QgZm9yIHBlcmZvcm1hbmNlXG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpO1xuICAgICAgICAgICAgY29uc3QgbW1VaWQgPSBjYWNoZT8uZnJvbnRtYXR0ZXI/Lm1tX3VpZDtcblxuICAgICAgICAgICAgLy8gSWYgbm8gbW1fdWlkLCBub3RlIGhhcyBuZXZlciBiZWVuIHN5bmNlZFxuICAgICAgICAgICAgaWYgKCFtbVVpZCB8fCB0eXBlb2YgbW1VaWQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdOT1RfU1lOQ0VEJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gR2V0IGN1cnJlbnQgdmF1bHQgYW5kIGRhdGFiYXNlIGluZm9cbiAgICAgICAgICAgIGNvbnN0IHZhdWx0SWQgPSB0aGlzLmFwcC52YXVsdC5nZXROYW1lKCk7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RGJUeXBlID0gdGhpcy5nZXRDdXJyZW50RGF0YWJhc2VUeXBlKCk7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIHN5bmMgcmVnaXN0cnkgdXNpbmcgbW1fdWlkXG4gICAgICAgICAgICBjb25zdCBzeW5jUmVjb3JkID0gdGhpcy5zeW5jUmVnaXN0cnlTZXJ2aWNlLmdldFN5bmNSZWNvcmQobW1VaWQsIHZhdWx0SWQpO1xuXG4gICAgICAgICAgICBpZiAoc3luY1JlY29yZCkge1xuICAgICAgICAgICAgICAgIC8vIEZpbmQgc3luYyBlbnRyeSBmb3IgY3VycmVudCBkYXRhYmFzZVxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREYlN5bmMgPSBzeW5jUmVjb3JkLnN5bmNzLmZpbmQoc3luYyA9PiBzeW5jLmRhdGFiYXNlX2lkID09PSBjdXJyZW50RGJUeXBlKTtcblxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50RGJTeW5jKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBlcnJvciBzdGF0ZVxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudERiU3luYy5lcnJvcl9tZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ0VSUk9SJztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnU1lOQ0VEJztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gJ05PVF9TWU5DRUQnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBtbV91aWQgZXhpc3RzIGJ1dCBubyBzeW5jIHJlY29yZCBmb3VuZFxuICAgICAgICAgICAgcmV0dXJuICdOT1RfU1lOQ0VEJztcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0Vycm9yIGdldHRpbmcgc3luYyBzdGF0dXMnLCB7IGZpbGU6IGZpbGUucGF0aCwgZXJyb3IgfSk7XG4gICAgICAgICAgICByZXR1cm4gJ0VSUk9SJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3QgbW1fdWlkIGZyb20gR3JhcGhpdGkgc3luYyByZXN1bHRcbiAgICAgKi9cbiAgICBleHRyYWN0TW1VaWRGcm9tU3luY1Jlc3VsdChzeW5jUmVzdWx0OiBhbnkpOiBzdHJpbmcgfCBudWxsIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENoZWNrIHRvcC1sZXZlbCBlcGlzb2RlX3V1aWQgZmlyc3QgKHRlc3RNYW51YWxTeW5jIHJldHVybnMgaXQgaGVyZSlcbiAgICAgICAgICAgIGlmIChzeW5jUmVzdWx0LmVwaXNvZGVfdXVpZCAmJiB0eXBlb2Ygc3luY1Jlc3VsdC5lcGlzb2RlX3V1aWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYEV4dHJhY3RlZCBtbV91aWQgZnJvbSB0b3AtbGV2ZWwgZXBpc29kZV91dWlkOiAke3N5bmNSZXN1bHQuZXBpc29kZV91dWlkfWApO1xuICAgICAgICAgICAgICAgIHJldHVybiBzeW5jUmVzdWx0LmVwaXNvZGVfdXVpZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2hlY2sgaW4gbm90ZXMgYXJyYXlcbiAgICAgICAgICAgIGlmIChzeW5jUmVzdWx0Lm5vdGVzICYmIEFycmF5LmlzQXJyYXkoc3luY1Jlc3VsdC5ub3RlcykpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5vdGUgb2Ygc3luY1Jlc3VsdC5ub3Rlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm90ZS5lcGlzb2RlX3V1aWQgJiYgdHlwZW9mIG5vdGUuZXBpc29kZV91dWlkID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0V4dHJhY3RlZCBtbV91aWQgZnJvbSBub3RlcyBhcnJheSBlcGlzb2RlX3V1aWQnLCB7IG1tVWlkOiBub3RlLmVwaXNvZGVfdXVpZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub3RlLmVwaXNvZGVfdXVpZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGluIGdyYXBoaXRpX3Jlc3BvbnNlLmVwaXNvZGUudXVpZFxuICAgICAgICAgICAgICAgICAgICBpZiAobm90ZS5ncmFwaGl0aV9yZXNwb25zZT8uZXBpc29kZT8udXVpZCAmJiB0eXBlb2Ygbm90ZS5ncmFwaGl0aV9yZXNwb25zZS5lcGlzb2RlLnV1aWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnRXh0cmFjdGVkIG1tX3VpZCBmcm9tIGdyYXBoaXRpX3Jlc3BvbnNlLmVwaXNvZGUudXVpZCcsIHsgbW1VaWQ6IG5vdGUuZ3JhcGhpdGlfcmVzcG9uc2UuZXBpc29kZS51dWlkIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vdGUuZ3JhcGhpdGlfcmVzcG9uc2UuZXBpc29kZS51dWlkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUcnkgdG8gZXh0cmFjdCBmcm9tIFB5dGhvbiBzdGRvdXQgaWYgYXZhaWxhYmxlIChmYWxsYmFjaylcbiAgICAgICAgICAgIGlmIChzeW5jUmVzdWx0LnB5dGhvblN0ZG91dCAmJiB0eXBlb2Ygc3luY1Jlc3VsdC5weXRob25TdGRvdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGluZXMgPSBzeW5jUmVzdWx0LnB5dGhvblN0ZG91dC5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaW5lLnRyaW0oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKGxpbmUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgdG9wLWxldmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZC5lcGlzb2RlX3V1aWQgJiYgdHlwZW9mIHBhcnNlZC5lcGlzb2RlX3V1aWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdFeHRyYWN0ZWQgbW1fdWlkIGZyb20gUHl0aG9uIHN0ZG91dCB0b3AtbGV2ZWwnLCB7IG1tVWlkOiBwYXJzZWQuZXBpc29kZV91dWlkIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VkLmVwaXNvZGVfdXVpZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpbiBub3RlcyBhcnJheVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWQubm90ZXMgJiYgQXJyYXkuaXNBcnJheShwYXJzZWQubm90ZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgbm90ZSBvZiBwYXJzZWQubm90ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RlLmVwaXNvZGVfdXVpZCAmJiB0eXBlb2Ygbm90ZS5lcGlzb2RlX3V1aWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYEV4dHJhY3RlZCBtbV91aWQgZnJvbSBQeXRob24gc3Rkb3V0IG5vdGVzIGFycmF5OiAke25vdGUuZXBpc29kZV91dWlkfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub3RlLmVwaXNvZGVfdXVpZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdGUuZ3JhcGhpdGlfcmVzcG9uc2U/LmVwaXNvZGU/LnV1aWQgJiYgdHlwZW9mIG5vdGUuZ3JhcGhpdGlfcmVzcG9uc2UuZXBpc29kZS51dWlkID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBFeHRyYWN0ZWQgbW1fdWlkIGZyb20gUHl0aG9uIHN0ZG91dCBncmFwaGl0aV9yZXNwb25zZTogJHtub3RlLmdyYXBoaXRpX3Jlc3BvbnNlLmVwaXNvZGUudXVpZH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm90ZS5ncmFwaGl0aV9yZXNwb25zZS5lcGlzb2RlLnV1aWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGluZSBpcyBub3QgSlNPTiwgc2tpcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdDb3VsZCBub3QgZXh0cmFjdCBtbV91aWQgZnJvbSBzeW5jIHJlc3VsdCcsIHsgcmVzdWx0OiBzeW5jUmVzdWx0IH0pO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRXJyb3IgZXh0cmFjdGluZyBtbV91aWQgZnJvbSBzeW5jIHJlc3VsdCcsIHsgZXJyb3IsIHJlc3VsdDogc3luY1Jlc3VsdCB9KTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBhIG5vdGUgaXMgcHJpdmF0ZSAoZXhjbHVkZWQgZnJvbSBzeW5jKVxuICAgICAqIENvbWJpbmVzIGV4Y2x1ZGVkIGZvbGRlcnMgY2hlY2sgKyBmcm9udG1hdHRlciBwcml2YXRlIHByb3BlcnR5XG4gICAgICovXG4gICAgaXNOb3RlUHJpdmF0ZShmaWxlOiBURmlsZSk6IGJvb2xlYW4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZmlsZSBwYXRoIGlzIGluIGV4Y2x1ZGVkIGZvbGRlcnNcbiAgICAgICAgICAgIGNvbnN0IGlzSW5FeGNsdWRlZEZvbGRlciA9IHRoaXMuc2V0dGluZ3MuZXhjbHVkZWRGb2xkZXJzLnNvbWUoZm9sZGVyID0+XG4gICAgICAgICAgICAgICAgZmlsZS5wYXRoLnN0YXJ0c1dpdGgoZm9sZGVyLmVuZHNXaXRoKCcvJykgPyBmb2xkZXIgOiBmb2xkZXIgKyAnLycpXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBpZiAoaXNJbkV4Y2x1ZGVkRm9sZGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ05vdGUgaXMgaW4gZXhjbHVkZWQgZm9sZGVyJywge1xuICAgICAgICAgICAgICAgICAgICBmaWxlOiBmaWxlLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIGV4Y2x1ZGVkRm9sZGVyczogdGhpcy5zZXR0aW5ncy5leGNsdWRlZEZvbGRlcnNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgaW5jbHVkZWQgZm9sZGVycyBhcmUgc3BlY2lmaWVkIGFuZCBmaWxlIGlzIG5vdCBpbiBhbnkgb2YgdGhlbVxuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaW5jbHVkZWRGb2xkZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpc0luSW5jbHVkZWRGb2xkZXIgPSB0aGlzLnNldHRpbmdzLmluY2x1ZGVkRm9sZGVycy5zb21lKGZvbGRlciA9PlxuICAgICAgICAgICAgICAgICAgICBmaWxlLnBhdGguc3RhcnRzV2l0aChmb2xkZXIuZW5kc1dpdGgoJy8nKSA/IGZvbGRlciA6IGZvbGRlciArICcvJylcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFpc0luSW5jbHVkZWRGb2xkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ05vdGUgaXMgbm90IGluIGluY2x1ZGVkIGZvbGRlcnMnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlOiBmaWxlLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlZEZvbGRlcnM6IHRoaXMuc2V0dGluZ3MuaW5jbHVkZWRGb2xkZXJzXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGZyb250bWF0dGVyIGZvciBwcml2YXRlOiB0cnVlXG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpO1xuICAgICAgICAgICAgaWYgKGNhY2hlPy5mcm9udG1hdHRlcj8ucHJpdmF0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdOb3RlIG1hcmtlZCBhcyBwcml2YXRlIGluIGZyb250bWF0dGVyJywgeyBmaWxlOiBmaWxlLnBhdGggfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIGlmIG5vdGUgaXMgcHJpdmF0ZScsIHsgZmlsZTogZmlsZS5wYXRoLCBlcnJvciB9KTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEB2ZXNzZWwtcHJvdG9jb2w6TWltaXIgZ292ZXJuczpbYXJjaGl0ZWN0dXJlLWNsZWFudXB8ZGVidWddIGNvbnRleHQ6UmVtb3ZlIG9ic29sZXRlIGZyb250bWF0dGVyIHN5bmMgZGV0ZWN0aW9uXG4gICAgLy8gQGludGVyLWRlcGVuZGVuY2llczogW1N5bmNSZWdpc3RyeVNlcnZpY2VdXG4gICAgLy8gQHB1cnBvc2U6IEVsaW1pbmF0ZSBhcmNoaXRlY3R1cmFsIGNvbnRyYWRpY3Rpb24gLSBzeW5jLmpzb24gaXMgdGhlIHNpbmdsZSBzb3VyY2Ugb2YgdHJ1dGhcbiAgICAvLyBAcmVzdWx0OiBDb25zaXN0ZW50IHN5bmMgc3RhdHVzIGRldGVjdGlvbiB1c2luZyBvbmx5IHRoZSBhdXRob3JpdGF0aXZlIHJlZ2lzdHJ5XG4gICAgLy8gQHNpZ25lZDogQy5CasO4cm5cblxuICAgIC8vIFJFTU9WRUQ6IGlzTm90ZVN5bmNlZCgpIG1ldGhvZCAtIGNvbnRyYWRpY3RlZCBcInN5bmMuanNvbiBhcyBzaW5nbGUgc291cmNlIG9mIHRydXRoXCIgYXJjaGl0ZWN0dXJlXG4gICAgLy8gQWxsIHN5bmMgc3RhdHVzIGRldGVjdGlvbiBub3cgdXNlcyBTeW5jUmVnaXN0cnlTZXJ2aWNlIHZpYSBnZXROb3RlU3luY1N0YXR1cygpIGFuZCBnZXRTdGF0dXMoKVxuXG4gICAgLyoqXG4gICAgICogR2V0IGN1cnJlbnQgZGF0YWJhc2UgdHlwZSBmcm9tIHNldHRpbmdzXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZXRDdXJyZW50RGF0YWJhc2VUeXBlKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLmRhdGFiYXNlVHlwZSB8fCAnbmVvNGonO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgc3luYyBmb3IgYSBzcGVjaWZpYyBub3RlIHVzaW5nIGV4aXN0aW5nIHRlc3RNYW51YWxTeW5jIG1ldGhvZFxuICAgICAqL1xuICAgIGFzeW5jIHN5bmNOb3RlKGZpbGU6IFRGaWxlLCBzb3VyY2VfZGVzY3JpcHRpb246IHN0cmluZyA9ICdvYnNpZGlhbl9tbV9pbmRpdmlkdWFsJyk6IFByb21pc2U8U3luY1Jlc3VsdD4ge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW1NZTkMtRElBR05PU0lTXSBTeW5jU3RhdHVzTWFuYWdlci5zeW5jTm90ZSgpIGNhbGxlZCAtIHRoaXMgcGF0aCBJTkNMVURFUyByZWdpc3RyeSByZWNvcmRpbmcnKTtcbiAgICAgICAgY29uc3QgZmlsZVBhdGggPSBmaWxlLnBhdGg7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGFscmVhZHkgc3luY2luZ1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlU3luY3MuaGFzKGZpbGVQYXRoKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm90ZSBpcyBhbHJlYWR5IGJlaW5nIHN5bmNlZCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBub3RlIGlzIHByaXZhdGVcbiAgICAgICAgICAgIGlmICh0aGlzLmlzTm90ZVByaXZhdGUoZmlsZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBzeW5jIHByaXZhdGUgbm90ZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBTdGFydGluZyBzeW5jIGZvciBmaWxlOiAke2ZpbGVQYXRofWApO1xuXG4gICAgICAgICAgICAvLyBNYXJrIGFzIHN5bmNpbmdcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlU3luY3Muc2V0KGZpbGVQYXRoLCB0cnVlKTtcblxuICAgICAgICAgICAgLy8gR2V0IGFic29sdXRlIGZpbGUgcGF0aCBmb3IgR3JhcGhpdGlTZXJ2aWNlXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIC0gYWNjZXNzaW5nIGludGVybmFsIEFQSVxuICAgICAgICAgICAgY29uc3QgYWRhcHRlciA9IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXI7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBjb25zdCB2YXVsdFBhdGggPSBhZGFwdGVyLmJhc2VQYXRoO1xuXG4gICAgICAgICAgICAvLyBFbnN1cmUgcHJvcGVyIHBhdGggam9pbmluZyB3aXRob3V0IGR1cGxpY2F0aW9uXG4gICAgICAgICAgICBjb25zdCBhYnNvbHV0ZUZpbGVQYXRoID0gdGhpcy5ub3JtYWxpemVOb3RlUGF0aChmaWxlUGF0aCwgdmF1bHRQYXRoKTtcblxuICAgICAgICAgICAgLy8gVXNlIGV4aXN0aW5nIHRlc3RNYW51YWxTeW5jIG1ldGhvZFxuICAgICAgICAgICAgLy8gQHZlc3NlbC1wcm90b2NvbDpCYWxkciBnb3Zlcm5zOltkZWJ1Z3xzeW5jLWRpYWdub3Npc10gY29udGV4dDpFbmhhbmNlZCBsb2dnaW5nIGZvciBpbmRpdmlkdWFsIG5vdGUgc3luY1xuICAgICAgICAgICAgLy8gQHB1cnBvc2U6IFByb3ZpZGUgY2xlYXIgZGVidWcgaW5mb3JtYXRpb24gYWJvdXQgaW5kaXZpZHVhbCBub3RlIHN5bmMgcHJvY2Vzc1xuICAgICAgICAgICAgLy8gQHJlc3VsdDogSW1wcm92ZWQgdHJhY2VhYmlsaXR5IG9mIHN5bmMgb3BlcmF0aW9uc1xuICAgICAgICAgICAgLy8gQHNpZ25lZDogQy5CasO4cm5cbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbU1lOQy1ESUFHTk9TSVNdIEluaXRpYXRpbmcgaW5kaXZpZHVhbCBub3RlIHN5bmMnLCB7XG4gICAgICAgICAgICAgICAgZmlsZTogYWJzb2x1dGVGaWxlUGF0aCxcbiAgICAgICAgICAgICAgICB2YXVsdFBhdGg6IHZhdWx0UGF0aFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmdyYXBoaXRpU2VydmljZS50ZXN0TWFudWFsU3luYyhhYnNvbHV0ZUZpbGVQYXRoLCBzb3VyY2VfZGVzY3JpcHRpb24pO1xuXG4gICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgICAgICAgLy8gRXh0cmFjdCBtbV91aWQgZnJvbSBzeW5jIHJlc3VsdFxuICAgICAgICAgICAgICAgIGNvbnN0IG1tVWlkID0gdGhpcy5leHRyYWN0TW1VaWRGcm9tU3luY1Jlc3VsdChyZXN1bHQpO1xuICAgICAgICAgICAgICAgIGlmICghbW1VaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignU3luYyBjb21wbGV0ZWQgYnV0IG5vIG1tX3VpZCBleHRyYWN0ZWQgZnJvbSByZXN1bHQnLCB7IGZpbGU6IGZpbGVQYXRoLCByZXN1bHQgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIG5vdGUgcHJvcGVydGllcyB3aXRoIHN5bmMgcmVzdWx0IChwYXNzIGV4dHJhY3RlZCBtbVVpZCB0byBhdm9pZCBkdXBsaWNhdGUgZXh0cmFjdGlvbilcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZU5vdGVQcm9wZXJ0aWVzKGZpbGUsIHJlc3VsdCwgc291cmNlX2Rlc2NyaXB0aW9uLCBtbVVpZCB8fCB1bmRlZmluZWQpO1xuXG4gICAgICAgICAgICAgICAgLy8gU2hvdyBzdWNjZXNzIG5vdGlmaWNhdGlvbiBpZiBlbmFibGVkXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3Muc2hvd05vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZShgW1NVQ0NFU1NdICR7ZmlsZS5uYW1lfSBzeW5jZWQgc3VjY2Vzc2Z1bGx5YCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFN5bmMgZmFpbGVkIC0gcmVjb3JkIGVycm9yIGluIHJlZ2lzdHJ5IHVzaW5nIG1tX3VpZCBpZiBhdmFpbGFibGVcbiAgICAgICAgICAgICAgICBjb25zdCBtbVVpZCA9IGF3YWl0IEZyb250bWF0dGVyVXRpbHMucmVhZE1tVWlkKHRoaXMuYXBwLCBmaWxlKTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YXVsdElkID0gdGhpcy5hcHAudmF1bHQuZ2V0TmFtZSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREYlR5cGUgPSB0aGlzLmdldEN1cnJlbnREYXRhYmFzZVR5cGUoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSByZXN1bHQubWVzc2FnZSB8fCAnU3luYyBmYWlsZWQnO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1tVWlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgZXhpc3RpbmcgbW1fdWlkIGZvciBlcnJvciByZWNvcmRcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZS5hZGRPclVwZGF0ZVN5bmNSZWNvcmQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1tVWlkOiBtbVVpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RlUGF0aDogZmlsZS5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhdWx0SWQ6IHZhdWx0SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3luY0VudHJ5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlX2lkOiBjdXJyZW50RGJUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cF9pZDogYXdhaXQgdGhpcy5zeW5jUmVnaXN0cnlTZXJ2aWNlLmdlbmVyYXRlR3JvdXBJZChmaWxlLnBhdGgsIHZhdWx0SWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcGlzb2RlX3V1aWQ6IG1tVWlkLCAvLyBLZWVwIGV4aXN0aW5nIG1tX3VpZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0X3N5bmM6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlX2Rlc2NyaXB0aW9uOiBzb3VyY2VfZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yX21lc3NhZ2U6IGVycm9yTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gcGF0aC1iYXNlZCBmb3Igbm90ZXMgd2l0aG91dCBtbV91aWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZS5hZGRPclVwZGF0ZVN5bmNSZWNvcmQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1tVWlkOiBgZXJyb3ItJHtEYXRlLm5vdygpfWAsIC8vIEdlbmVyYXRlIHRlbXBvcmFyeSBtbV91aWQgZm9yIGVycm9yIGNhc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RlUGF0aDogZmlsZS5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhdWx0SWQ6IHZhdWx0SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3luY0VudHJ5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlX2lkOiBjdXJyZW50RGJUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cF9pZDogYXdhaXQgdGhpcy5zeW5jUmVnaXN0cnlTZXJ2aWNlLmdlbmVyYXRlR3JvdXBJZChmaWxlLnBhdGgsIHZhdWx0SWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcGlzb2RlX3V1aWQ6IGBlcnJvci0ke0RhdGUubm93KCl9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdF9zeW5jOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZV9kZXNjcmlwdGlvbjogc291cmNlX2Rlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcl9tZXNzYWdlOiBlcnJvck1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKHJlZ2lzdHJ5RXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byByZWNvcmQgc3luYyBlcnJvciBpbiByZWdpc3RyeScsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiByZWdpc3RyeUVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZTogZmlsZVBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBtbVVpZDogbW1VaWQgfHwgJ25vbmUnXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnNob3dOb3RpZmljYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoYFtFUlJPUl0gRmFpbGVkIHRvIHN5bmMgJHtmaWxlLm5hbWV9OiAke2Vycm9yTWVzc2FnZX1gKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihgTm90ZSBzeW5jIGZhaWxlZCBmb3IgJHtmaWxlUGF0aH06ICR7cmVzdWx0Lm1lc3NhZ2UgfHwgJ1Vua25vd24gZXJyb3InfWAsIHtcbiAgICAgICAgICAgICAgICAgICAgbW1VaWQ6IG1tVWlkIHx8ICdub25lJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgc3luYyBlcnJvclxuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5zaG93Tm90aWZpY2F0aW9ucykge1xuICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoYFtFUlJPUl0gU3luYyBlcnJvciBmb3IgJHtmaWxlLm5hbWV9OiAke2Vycm9yTWVzc2FnZX1gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ05vdGUgc3luYyBlcnJvcicsIHsgZmlsZTogZmlsZVBhdGgsIGVycm9yIH0pO1xuXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgcmVzdWx0XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICBwcm9jZXNzZWQ6IDAsXG4gICAgICAgICAgICAgICAgc2tpcHBlZDogMCxcbiAgICAgICAgICAgICAgICB0b3RhbDogMSxcbiAgICAgICAgICAgICAgICBiYXRjaENvdW50OiAwLFxuICAgICAgICAgICAgICAgIG5vZGVUeXBlc0xvYWRlZDogMCxcbiAgICAgICAgICAgICAgICBlZGdlVHlwZXNMb2FkZWQ6IDAsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JNZXNzYWdlXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAvLyBAdmVzc2VsLXByb3RvY29sOkhlaW1kYWxsIGdvdmVybnM6W3JhY2UtY29uZGl0aW9uLWZpeHxkZWJ1Z10gY29udGV4dDpDb25kaXRpb25hbCBjbGVhbnVwIHRvIHByZXZlbnQgZG91YmxlLWRlbGV0aW9uXG4gICAgICAgICAgICAvLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbdXBkYXRlTm90ZVByb3BlcnRpZXMoKSBlYXJseSBjbGVhbnVwXVxuICAgICAgICAgICAgLy8gQHB1cnBvc2U6IE9ubHkgY2xlYW4gdXAgYWN0aXZlU3luY3MgaWYgbm90IGFscmVhZHkgY2xlYXJlZCBieSBzdWNjZXNzZnVsIGNvbXBsZXRpb24gcGF0aFxuICAgICAgICAgICAgLy8gQHJlc3VsdDogUHJvcGVyIGNsZWFudXAgZm9yIGVycm9yIGNhc2VzIHdoaWxlIHByZXZlbnRpbmcgZG91YmxlLWRlbGV0aW9uXG4gICAgICAgICAgICAvLyBAc2lnbmVkOiBDLkJqw7hyblxuXG4gICAgICAgICAgICAvLyBPbmx5IGNsZWFuIHVwIGlmIG5vdCBhbHJlYWR5IGNsZWFyZWQgYnkgc3VjY2Vzc2Z1bCBjb21wbGV0aW9uXG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVTeW5jcy5oYXMoZmlsZVBhdGgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVTeW5jcy5kZWxldGUoZmlsZVBhdGgpO1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbUkFDRS1GSVhdIENsZWFuZWQgdXAgYWN0aXZlU3luY3MgaW4gZmluYWxseSBibG9jayAoZXJyb3IgY2FzZSknLCB7IGZpbGU6IGZpbGVQYXRoIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQHZlc3NlbC1wcm90b2NvbDpGcmlnZyBnb3Zlcm5zOltzeW5jfHJlZmFjdG9yXSBjb250ZXh0OlNtYXJ0IG5vdGUgcHJvcGVydGllcyB1cGRhdGUgLSBwcmVzZXJ2ZSBleGlzdGluZyBtbV91aWQsIHByZXZlbnQgZHVwbGljYXRlIHJlY29yZHNcbiAgICAvLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbRnJvbnRtYXR0ZXJVdGlscywgU3luY1JlZ2lzdHJ5U2VydmljZV1cbiAgICAvLyBAcHVycG9zZTogRGlmZmVyZW50aWF0ZSBiZXR3ZWVuIGZpcnN0LXRpbWUgc3luYyBhbmQgcmUtc3luYyB0byBwcmV2ZW50IGZyb250bWF0dGVyIG92ZXJ3cml0ZSBhbmQgZHVwbGljYXRlIHJlY29yZHNcbiAgICAvLyBAcmVzdWx0OiBBbHJlYWR5LXN5bmNlZCBub3RlcyBrZWVwIHRoZWlyIG9yaWdpbmFsIG1tX3VpZCBhbmQgdXBkYXRlIGV4aXN0aW5nIHN5bmMgcmVjb3JkcyBpbnN0ZWFkIG9mIGNyZWF0aW5nIG5ldyBvbmVzXG4gICAgLy8gQHNpZ25lZDogQy5CasO4cm5cbiAgICBhc3luYyB1cGRhdGVOb3RlUHJvcGVydGllcyhmaWxlOiBURmlsZSwgcmVzdWx0OiBTeW5jUmVzdWx0LCBzb3VyY2VfZGVzY3JpcHRpb246IHN0cmluZyA9ICdvYnNpZGlhbl9tYW51YWwnLCBwcm92aWRlZE1tVWlkPzogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGZpbGVQYXRoID0gZmlsZS5wYXRoO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiBub3RlIGFscmVhZHkgaGFzIG1tX3VpZCBpbiBmcm9udG1hdHRlciAoaW5kaWNhdGVzIGV4aXN0aW5nIHN5bmMpXG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ01tVWlkID0gYXdhaXQgRnJvbnRtYXR0ZXJVdGlscy5yZWFkTW1VaWQodGhpcy5hcHAsIGZpbGUpO1xuXG4gICAgICAgICAgICAvLyBHZXQgdGhlIG5ldyBtbV91aWQgZnJvbSBzeW5jIHJlc3VsdFxuICAgICAgICAgICAgY29uc3QgbmV3TW1VaWQgPSBwcm92aWRlZE1tVWlkIHx8IHRoaXMuZXh0cmFjdE1tVWlkRnJvbVN5bmNSZXN1bHQocmVzdWx0KTtcbiAgICAgICAgICAgIGlmICghbmV3TW1VaWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdObyBtbV91aWQgZm91bmQgaW4gc3luYyByZXN1bHQgZm9yIG5vdGUgcHJvcGVydGllcyB1cGRhdGUnLCB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGU6IGZpbGUucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDUklUSUNBTCBGSVg6IENsZWFyIGFjdGl2ZVN5bmNzIEJFRk9SRSByZWdpc3RyeSBzYXZlIHRvIHByZXZlbnQgcmFjZSBjb25kaXRpb25cbiAgICAgICAgICAgIHRoaXMuYWN0aXZlU3luY3MuZGVsZXRlKGZpbGVQYXRoKTtcblxuICAgICAgICAgICAgY29uc3QgdmF1bHRJZCA9IHRoaXMuYXBwLnZhdWx0LmdldE5hbWUoKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREYlR5cGUgPSB0aGlzLmdldEN1cnJlbnREYXRhYmFzZVR5cGUoKTtcbiAgICAgICAgICAgIGNvbnN0IHN5bmNlZFRpbWUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cbiAgICAgICAgICAgIGlmIChleGlzdGluZ01tVWlkKSB7XG4gICAgICAgICAgICAgICAgLy8gUkUtU1lOQyBDQVNFOiBOb3RlIGFscmVhZHkgaGFzIG1tX3VpZCAtIGRvIE5PVCBvdmVyd3JpdGUgZnJvbnRtYXR0ZXJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgTm90ZSBhbHJlYWR5IGhhcyBtbV91aWQgaW4gZnJvbnRtYXR0ZXI6ICR7ZXhpc3RpbmdNbVVpZH0sIHByZXNlcnZpbmcgb3JpZ2luYWxgKTtcblxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyBzeW5jIHJlY29yZCB1c2luZyB0aGUgT1JJR0lOQUwgbW1fdWlkIChub3QgbmV3IG9uZSBmcm9tIEdyYXBoaXRpKVxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZS5hZGRPclVwZGF0ZVN5bmNSZWNvcmQoe1xuICAgICAgICAgICAgICAgICAgICBtbVVpZDogZXhpc3RpbmdNbVVpZCwgLy8gVXNlIGV4aXN0aW5nIG1tX3VpZCBhcyBwcmltYXJ5IGtleVxuICAgICAgICAgICAgICAgICAgICBub3RlUGF0aDogZmlsZS5wYXRoLFxuICAgICAgICAgICAgICAgICAgICB2YXVsdElkOiB2YXVsdElkLFxuICAgICAgICAgICAgICAgICAgICBzeW5jRW50cnk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlX2lkOiBjdXJyZW50RGJUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBfaWQ6IGF3YWl0IHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZS5nZW5lcmF0ZUdyb3VwSWQoZmlsZS5wYXRoLCB2YXVsdElkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVwaXNvZGVfdXVpZDogbmV3TW1VaWQsIC8vIFVwZGF0ZSB3aXRoIG5ldyBlcGlzb2RlIFVVSUQgZnJvbSBHcmFwaGl0aVxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdF9zeW5jOiBzeW5jZWRUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlX2Rlc2NyaXB0aW9uOiBzb3VyY2VfZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhgVXBkYXRlZCBleGlzdGluZyBzeW5jIHJlY29yZCBmb3IgJHtmaWxlLnBhdGh9IHdpdGggcHJlc2VydmVkIG1tX3VpZDogJHtleGlzdGluZ01tVWlkfWApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBGSVJTVC1USU1FIFNZTkMgQ0FTRTogTm90ZSBoYXMgbm8gbW1fdWlkIC0gd3JpdGUgbmV3IG9uZSBhbmQgY3JlYXRlIHJlY29yZFxuICAgICAgICAgICAgICAgIGF3YWl0IEZyb250bWF0dGVyVXRpbHMud3JpdGVNbVVpZCh0aGlzLmFwcCwgZmlsZSwgbmV3TW1VaWQpO1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBXcml0dGVuIG1tX3VpZCB0byBmcm9udG1hdHRlcjogJHtmaWxlLnBhdGh9IC0+ICR7bmV3TW1VaWR9YCk7XG5cbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UuYWRkT3JVcGRhdGVTeW5jUmVjb3JkKHtcbiAgICAgICAgICAgICAgICAgICAgbW1VaWQ6IG5ld01tVWlkLFxuICAgICAgICAgICAgICAgICAgICBub3RlUGF0aDogZmlsZS5wYXRoLFxuICAgICAgICAgICAgICAgICAgICB2YXVsdElkOiB2YXVsdElkLFxuICAgICAgICAgICAgICAgICAgICBzeW5jRW50cnk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlX2lkOiBjdXJyZW50RGJUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBfaWQ6IGF3YWl0IHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZS5nZW5lcmF0ZUdyb3VwSWQoZmlsZS5wYXRoLCB2YXVsdElkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVwaXNvZGVfdXVpZDogbmV3TW1VaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0X3N5bmM6IHN5bmNlZFRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VfZGVzY3JpcHRpb246IHNvdXJjZV9kZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBDcmVhdGVkIG5ldyBzeW5jIHJlY29yZCBhbmQgZnJvbnRtYXR0ZXIgZm9yICR7ZmlsZS5wYXRofSB3aXRoIG1tX3VpZDogJHtuZXdNbVVpZH1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGBGYWlsZWQgdG8gdXBkYXRlIG5vdGUgcHJvcGVydGllcyBmb3IgJHtmaWxlLnBhdGh9YCwge1xuICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgIG1tVWlkOiBwcm92aWRlZE1tVWlkIHx8IHRoaXMuZXh0cmFjdE1tVWlkRnJvbVN5bmNSZXN1bHQocmVzdWx0KSB8fCAnbm9uZSdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQHZlc3NlbC1jbG9zZTpGcmlnZ1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgZXBpc29kZSBJRCBmcm9tIHN5bmMgcmVzdWx0IG9yIGNyZWF0ZSBVVUlEXG4gICAgICovXG4gICAgcHVibGljIGdlbmVyYXRlRXBpc29kZUlkKHJlc3VsdDogU3luY1Jlc3VsdCk6IHN0cmluZyB7XG4gICAgICAgIC8vIEB2ZXNzZWwtcHJvdG9jb2w6TWltaXIgZ292ZXJuczpbZGVidWctZml4fGVwaXNvZGUtdXVpZF0gY29udGV4dDpDaGVjayB0b3AtbGV2ZWwgZXBpc29kZV91dWlkIGZpcnN0IGJlZm9yZSBub3RlcyBhcnJheVxuICAgICAgICAvLyBDUklUSUNBTCBGSVg6IENoZWNrIHRvcC1sZXZlbCBlcGlzb2RlX3V1aWQgZmlyc3QgKHRlc3RNYW51YWxTeW5jIHJldHVybnMgaXQgaGVyZSlcbiAgICAgICAgaWYgKChyZXN1bHQgYXMgYW55KS5lcGlzb2RlX3V1aWQpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdHZW5lcmF0ZWQgRXBpc29kZSBJRDogVG9wLWxldmVsIGVwaXNvZGVfdXVpZCBmb3VuZC4nLCB7IGVwaXNvZGVJZDogKHJlc3VsdCBhcyBhbnkpLmVwaXNvZGVfdXVpZCB9KTtcbiAgICAgICAgICAgIHJldHVybiAocmVzdWx0IGFzIGFueSkuZXBpc29kZV91dWlkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKChyZXN1bHQgYXMgYW55KS5ub3RlcyAmJiBBcnJheS5pc0FycmF5KChyZXN1bHQgYXMgYW55KS5ub3RlcykpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgbm90ZSBvZiAocmVzdWx0IGFzIGFueSkubm90ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAobm90ZS5lcGlzb2RlX3V1aWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0V4dHJhY3RlZCBlcGlzb2RlIFVVSUQgZnJvbSByZXN1bHQubm90ZXMnLCB7IGVwaXNvZGVJZDogbm90ZS5lcGlzb2RlX3V1aWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBub3RlLmVwaXNvZGVfdXVpZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaW4gZ3JhcGhpdGlfcmVzcG9uc2UuZXBpc29kZS51dWlkXG4gICAgICAgICAgICAgICAgaWYgKG5vdGUuZ3JhcGhpdGlfcmVzcG9uc2UgJiYgbm90ZS5ncmFwaGl0aV9yZXNwb25zZS5lcGlzb2RlICYmIG5vdGUuZ3JhcGhpdGlfcmVzcG9uc2UuZXBpc29kZS51dWlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdFeHRyYWN0ZWQgZXBpc29kZSBVVUlEIGZyb20gZ3JhcGhpdGlfcmVzcG9uc2UuZXBpc29kZS51dWlkJywgeyBlcGlzb2RlSWQ6IG5vdGUuZ3JhcGhpdGlfcmVzcG9uc2UuZXBpc29kZS51dWlkIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm90ZS5ncmFwaGl0aV9yZXNwb25zZS5lcGlzb2RlLnV1aWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVHJ5IHRvIGV4dHJhY3QgZXBpc29kZSBJRCBmcm9tIFB5dGhvbiBzdGRvdXQgaWYgYXZhaWxhYmxlIChmYWxsYmFjaylcbiAgICAgICAgaWYgKHJlc3VsdC5weXRob25TdGRvdXQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gUGFyc2UgdGhlIFB5dGhvbiBvdXRwdXQgdG8gZmluZCB0aGUgYWN0dWFsIGVwaXNvZGUgVVVJRFxuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gcmVzdWx0LnB5dGhvblN0ZG91dC5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaW5lLnRyaW0oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKGxpbmUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTG9vayBmb3IgZXBpc29kZSBVVUlEIGluIHRoZSBuZXN0ZWQgc3RydWN0dXJlOiBncmFwaGl0aV9yZXN1bHQuZXBpc29kZS51dWlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZC5ub3RlcyAmJiBBcnJheS5pc0FycmF5KHBhcnNlZC5ub3RlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBub3RlIG9mIHBhcnNlZC5ub3Rlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdGUuZXBpc29kZV91dWlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0dlbmVyYXRlZCBFcGlzb2RlIElEOiBFeHRyYWN0ZWQgZnJvbSBQeXRob24gc3Rkb3V0IG5vdGVzIGFycmF5LicsIHsgZXBpc29kZUlkOiBub3RlLmVwaXNvZGVfdXVpZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm90ZS5lcGlzb2RlX3V1aWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpbiBncmFwaGl0aV9yZXNwb25zZS5lcGlzb2RlLnV1aWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RlLmdyYXBoaXRpX3Jlc3BvbnNlICYmIG5vdGUuZ3JhcGhpdGlfcmVzcG9uc2UuZXBpc29kZSAmJiBub3RlLmdyYXBoaXRpX3Jlc3BvbnNlLmVwaXNvZGUudXVpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdHZW5lcmF0ZWQgRXBpc29kZSBJRDogRXh0cmFjdGVkIGZyb20gUHl0aG9uIHN0ZG91dCBncmFwaGl0aV9yZXNwb25zZS5lcGlzb2RlLnV1aWQgaW4gbm90ZXMgYXJyYXkuJywgeyBlcGlzb2RlSWQ6IG5vdGUuZ3JhcGhpdGlfcmVzcG9uc2UuZXBpc29kZS51dWlkIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub3RlLmdyYXBoaXRpX3Jlc3BvbnNlLmVwaXNvZGUudXVpZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIExlZ2FjeTogTG9vayBmb3IgZXBpc29kZSBVVUlEIGluIHZhcmlvdXMgb3RoZXIgbG9jYXRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZC5lcGlzb2RlX3V1aWQgfHwgcGFyc2VkLmVwaXNvZGVJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcGlzb2RlSWQgPSBwYXJzZWQuZXBpc29kZV91dWlkIHx8IHBhcnNlZC5lcGlzb2RlSWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdHZW5lcmF0ZWQgRXBpc29kZSBJRDogRXh0cmFjdGVkIGZyb20gUHl0aG9uIHN0ZG91dCB0b3AtbGV2ZWwuJywgeyBlcGlzb2RlSWQgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlcGlzb2RlSWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGluZSBpcyBub3QgSlNPTiwgc2tpcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdnZW5lcmF0ZUVwaXNvZGVJZDogQ291bGQgbm90IHBhcnNlIFB5dGhvbiBzdGRvdXQgbGluZSBhcyBKU09OIChza2lwcGluZyknLCB7IGxpbmUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdnZW5lcmF0ZUVwaXNvZGVJZDogQ291bGQgbm90IHBhcnNlIGVwaXNvZGUgVVVJRCBmcm9tIFB5dGhvbiBzdGRvdXQgKG92ZXJhbGwgZXJyb3IpLicsIHsgZXJyb3IgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGYWxsYmFjazogZ2VuZXJhdGUgYSB0aW1lc3RhbXAtYmFzZWQgVVVJRFxuICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgICAgICBjb25zdCByYW5kb20gPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgOCk7XG4gICAgICAgIGNvbnN0IGZhbGxiYWNrSWQgPSBgZXBpc29kZS0ke3RpbWVzdGFtcH0tJHtyYW5kb219YDtcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybignR2VuZXJhdGVkIEVwaXNvZGUgSUQ6IEZhbGxiYWNrIElEIGdlbmVyYXRlZCAoVVVJRCBub3QgZm91bmQgaW4gcmVzdWx0KS4nLCB7IGZhbGxiYWNrSWQsIG9yaWdpbmFsUmVzdWx0OiByZXN1bHQgfSk7XG4gICAgICAgIHJldHVybiBmYWxsYmFja0lkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBmcm9udG1hdHRlciBpbiBmaWxlIGNvbnRlbnRcbiAgICAgKi9cbiAgICBwcml2YXRlIHVwZGF0ZUZyb250bWF0dGVyKGNvbnRlbnQ6IHN0cmluZywgZnJvbnRtYXR0ZXI6IGFueSk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGxpbmVzID0gY29udGVudC5zcGxpdCgnXFxuJyk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgZmlsZSBhbHJlYWR5IGhhcyBmcm9udG1hdHRlclxuICAgICAgICBpZiAobGluZXNbMF0gPT09ICctLS0nKSB7XG4gICAgICAgICAgICAvLyBGaW5kIGVuZCBvZiBleGlzdGluZyBmcm9udG1hdHRlclxuICAgICAgICAgICAgbGV0IGVuZEluZGV4ID0gLTE7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxpbmVzW2ldID09PSAnLS0tJykge1xuICAgICAgICAgICAgICAgICAgICBlbmRJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGVuZEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIC8vIFJlcGxhY2UgZXhpc3RpbmcgZnJvbnRtYXR0ZXJcbiAgICAgICAgICAgICAgICBjb25zdCBib2R5Q29udGVudCA9IGxpbmVzLnNsaWNlKGVuZEluZGV4ICsgMSkuam9pbignXFxuJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3RnJvbnRtYXR0ZXIgPSB0aGlzLnNlcmlhbGl6ZUZyb250bWF0dGVyKGZyb250bWF0dGVyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYC0tLVxcbiR7bmV3RnJvbnRtYXR0ZXJ9LS0tXFxuJHtib2R5Q29udGVudH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIG5ldyBmcm9udG1hdHRlciB0byBiZWdpbm5pbmcgb2YgZmlsZVxuICAgICAgICBjb25zdCBuZXdGcm9udG1hdHRlciA9IHRoaXMuc2VyaWFsaXplRnJvbnRtYXR0ZXIoZnJvbnRtYXR0ZXIpO1xuICAgICAgICByZXR1cm4gYC0tLVxcbiR7bmV3RnJvbnRtYXR0ZXJ9LS0tXFxuJHtib2R5Q29udGVudH1gO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlcmlhbGl6ZSBmcm9udG1hdHRlciBvYmplY3QgdG8gWUFNTCBzdHJpbmdcbiAgICAgKi9cbiAgICBwcml2YXRlIHNlcmlhbGl6ZUZyb250bWF0dGVyKGZyb250bWF0dGVyOiBhbnkpOiBzdHJpbmcge1xuICAgICAgICBsZXQgeWFtbCA9ICcnO1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhmcm9udG1hdHRlcikpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgeWFtbCArPSBgJHtrZXl9OiBcIiR7dmFsdWV9XCJcXG5gO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB5YW1sICs9IGAke2tleX06ICR7dmFsdWV9XFxuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geWFtbDtcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgc3luYyBpcyBhY3RpdmUgZm9yIGEgZmlsZVxuICAgICAqL1xuICAgIGdldEFjdGl2ZVN5bmMoZmlsZVBhdGg6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmVTeW5jcy5oYXMoZmlsZVBhdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgYWN0aXZlIHN5bmNzXG4gICAgICovXG4gICAgZ2V0QWN0aXZlU3luY3MoKTogc3RyaW5nW10ge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmFjdGl2ZVN5bmNzLmtleXMoKSk7XG4gICAgfVxuXG5cblxuICAgIC8vIEB2ZXNzZWwtcHJvdG9jb2w6TG9raSBnb3Zlcm5zOltwYXRoLXRyYW5zZm9ybWF0aW9ufGZpeF0gY29udGV4dDpFbnN1cmUgY29uc2lzdGVudCBhbmQgbm9ybWFsaXplZCBub3RlIHBhdGhzIGZvciBHcmFwaGl0aSBvcGVyYXRpb25zXG4gICAgLy8gQGludGVyLWRlcGVuZGVuY2llczogW0dyYXBoaXRpU2VydmljZSwgT2JzaWRpYW4gQXBwLCBQYXRoIG1vZHVsZV1cbiAgICAvLyBAcHVycG9zZTogUHJvdmlkZSBhIHJlbGlhYmxlIG1ldGhvZCB0byBub3JtYWxpemUgbm90ZSBwYXRocyBhY3Jvc3MgZGlmZmVyZW50IE9ic2lkaWFuIGVudmlyb25tZW50cyAoV2luZG93cywgbWFjT1MsIExpbnV4KVxuICAgIC8vIEByZXN1bHQ6IFByZXZlbnQgc3luYyBlcnJvcnMgZHVlIHRvIHBhdGggZGlzY3JlcGFuY2llcyBhbmQgZW5zdXJlIGFjY3VyYXRlIHN5bmMgcmVjb3JkIG1hbmFnZW1lbnQuXG4gICAgLy8gQHNpZ25lZDogQy5CasO4cm5cbiAgICBwdWJsaWMgbm9ybWFsaXplTm90ZVBhdGgoaW5wdXRQYXRoOiBzdHJpbmcsIHZhdWx0UGF0aDogc3RyaW5nIHwgbnVsbCA9IG51bGwpOiBzdHJpbmcge1xuICAgICAgICBsZXQgbm9ybWFsaXplZFBhdGggPSBwYXRoLm5vcm1hbGl6ZShpbnB1dFBhdGgpO1xuXG4gICAgICAgIC8vIFJlbW92ZSBsZWFkaW5nIHNsYXNoIGlmIHByZXNlbnQgQU5EIGN1cnJlbnQgT1MgaXMgV2luZG93c1xuICAgICAgICAvLyBPbiBXaW5kb3dzLCBwYXRocyBsaWtlICcvZm9sZGVyL25vdGUubWQnIGFyZSBwcm9ibGVtYXRpYyBpZiBjb21iaW5lZCB3aXRoIGRyaXZlIGxldHRlcnNcbiAgICAgICAgaWYgKHByb2Nlc3MucGxhdGZvcm0gPT09ICd3aW4zMicgJiYgbm9ybWFsaXplZFBhdGguc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgICAgICAgICBub3JtYWxpemVkUGF0aCA9IG5vcm1hbGl6ZWRQYXRoLnN1YnN0cmluZygxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlcGxhY2UgV2luZG93cyBiYWNrc2xhc2hlcyB3aXRoIGZvcndhcmQgc2xhc2hlcyBmb3IgY29uc2lzdGVuY3lcbiAgICAgICAgbm9ybWFsaXplZFBhdGggPSBub3JtYWxpemVkUGF0aC5yZXBsYWNlKC9cXFxcL2csICcvJyk7XG5cbiAgICAgICAgLy8gUmVtb3ZlIHZhdWx0IG5hbWUgcHJlZml4IGlmIGl0J3MgZXhwbGljaXRseSBwYXJ0IG9mIHRoZSBwYXRoXG4gICAgICAgIGNvbnN0IHZhdWx0TmFtZSA9IHRoaXMuYXBwLnZhdWx0LmdldE5hbWUoKTtcbiAgICAgICAgaWYgKG5vcm1hbGl6ZWRQYXRoLnN0YXJ0c1dpdGgodmF1bHROYW1lICsgJy8nKSkge1xuICAgICAgICAgICAgbm9ybWFsaXplZFBhdGggPSBub3JtYWxpemVkUGF0aC5zdWJzdHJpbmcodmF1bHROYW1lLmxlbmd0aCArIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXBwbHkgdmF1bHQgcGF0aCBwcmVmaXggT05MWSBpZiB2YXVsdFBhdGggaXMgcHJvdmlkZWQgYW5kIHBhdGggaXMgcmVsYXRpdmVcbiAgICAgICAgaWYgKHZhdWx0UGF0aCkge1xuICAgICAgICAgICAgbGV0IGFic29sdXRlUGF0aCA9IHBhdGgucmVzb2x2ZSh2YXVsdFBhdGgsIG5vcm1hbGl6ZWRQYXRoKTtcbiAgICAgICAgICAgIC8vIEVuc3VyZSBmb3J3YXJkIHNsYXNoZXMgZm9yIHRoZSBhYnNvbHV0ZSBwYXRoIHRvb1xuICAgICAgICAgICAgYWJzb2x1dGVQYXRoID0gYWJzb2x1dGVQYXRoLnJlcGxhY2UoL1xcXFwvZywgJy8nKTtcblxuICAgICAgICAgICAgLy8gSGFuZGxlIHBvdGVudGlhbCBkdXBsaWNhdGlvbiBvZiB2YXVsdCBwYXRoIGlmIGl0J3MgYWxyZWFkeSBpbmNsdWRlZFxuICAgICAgICAgICAgY29uc3QgcGFydHMgPSBhYnNvbHV0ZVBhdGguc3BsaXQoJy8nKTtcbiAgICAgICAgICAgIGNvbnN0IHVuaXF1ZVBhcnRzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgICAgY29uc3Qgc2VlbiA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIHBhcnRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnQgPT09ICcnKSBjb250aW51ZTsgLy8gU2tpcCBlbXB0eSBwYXJ0cyBmcm9tIG11bHRpcGxlIHNsYXNoZXNcbiAgICAgICAgICAgICAgICBpZiAoIXNlZW4uaGFzKHBhcnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHVuaXF1ZVBhcnRzLnB1c2gocGFydCk7XG4gICAgICAgICAgICAgICAgICAgIHNlZW4uYWRkKHBhcnQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodW5pcXVlUGFydHNbdW5pcXVlUGFydHMubGVuZ3RoIC0gMV0gIT09IHBhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWxsb3cgcmVwZWF0ZWQgcGFydHMgaWYgbm90IGNvbnNlY3V0aXZlIChlLmcuLCAvYS9iL2EpXG4gICAgICAgICAgICAgICAgICAgIHVuaXF1ZVBhcnRzLnB1c2gocGFydCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWJzb2x1dGVQYXRoID0gdW5pcXVlUGFydHMuam9pbignLycpO1xuXG4gICAgICAgICAgICAvLyBBZGQgbGVhZGluZyBzbGFzaCBmb3IgYWJzb2x1dGUgcGF0aHMgaWYgbm90IGEgV2luZG93cyBkcml2ZSBsZXR0ZXIgcGF0aFxuICAgICAgICAgICAgaWYgKHByb2Nlc3MucGxhdGZvcm0gIT09ICd3aW4zMicgJiYgIWFic29sdXRlUGF0aC5zdGFydHNXaXRoKCcvJykpIHtcbiAgICAgICAgICAgICAgICBhYnNvbHV0ZVBhdGggPSBgLyR7YWJzb2x1dGVQYXRofWA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHByb2Nlc3MucGxhdGZvcm0gPT09ICd3aW4zMicgJiYgIS9eW2EtekEtWl06XFwvLy50ZXN0KGFic29sdXRlUGF0aCkpIHtcbiAgICAgICAgICAgICAgICAvLyBGb3IgV2luZG93cywgZW5zdXJlIGl0IHN0YXJ0cyB3aXRoIGRyaXZlIGxldHRlciBvciBsZWFkaW5nIHNsYXNoIGlmIGl0J3MgYSBuZXR3b3JrIHBhdGggb3Igc2ltaWxhci5cbiAgICAgICAgICAgICAgICAvLyBJZiBpdCdzIGEgcmVsYXRpdmUgcGF0aCBmcm9tIGN1cnJlbnQgZHJpdmUsIGtlZXAgaXQgYXMgaXMuXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBsb2dpYyBpcyB0cmlja3ksIHJlc29sdmUoKSB1c3VhbGx5IGhhbmRsZXMgaXQuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlLW5vcm1hbGl6ZSBvbmUgbGFzdCB0aW1lXG4gICAgICAgICAgICByZXR1cm4gcGF0aC5ub3JtYWxpemUoYWJzb2x1dGVQYXRoKS5yZXBsYWNlKC9cXFxcL2csICcvJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbm9ybWFsaXplZFBhdGg7XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqIENsZWFudXAgbWV0aG9kIGZvciB3aGVuIG1hbmFnZXIgaXMgZGVzdHJveWVkXG4gICAgICovXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5hY3RpdmVTeW5jcy5jbGVhcigpO1xuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdTeW5jU3RhdHVzTWFuYWdlciBkZXN0cm95ZWQnKTtcbiAgICB9XG59XG5cbi8vID09PSBWRVNTRUwgQ0xPU0UgPT09IiwiaW1wb3J0IHsgVEZpbGUsIEFwcCB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB0eXBlIHsgR3JhcGhpdGlQbHVnaW5TZXR0aW5ncyB9IGZyb20gJy4uL3R5cGVzL1NldHRpbmdzJztcbmltcG9ydCB7IEdyYXBoaXRpTG9nZ2VyIH0gZnJvbSAnLi4vdXRpbHMvTG9nZ2VyJztcblxuLyoqXG4gKiBSZXN1bHQgaW50ZXJmYWNlIGZvciBmb2xkZXIgcmVzb2x1dGlvbiBvcGVyYXRpb25zXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRm9sZGVyUmVzb2x1dGlvblJlc3VsdCB7XG5cdHN1Y2Nlc3M6IGJvb2xlYW47XG5cdGZvbGRlclBhdGg6IHN0cmluZztcblx0bWVzc2FnZT86IHN0cmluZztcblx0Y3JlYXRlZD86IGJvb2xlYW47XG59XG5cbi8qKlxuICogU2VydmljZSBmb3IgcmVzb2x2aW5nIE1DUCB0b29sIGZvbGRlciBwYXRocyBhbmQgZ2VuZXJhdGluZyBwZXJpb2RpYyBub3RlIHBhdGhzXG4gKiBIYW5kbGVzIGZvbGRlciB2YWxpZGF0aW9uIGFuZCBjcmVhdGlvbiBmb3IgTUNQIHRvb2wgaW50ZWdyYXRpb25zXG4gKi9cblxuLy8gQHZlc3NlbC1wcm90b2NvbDpVbGxyIGdvdmVybnM6cGF0aC1yZXNvbHV0aW9ufHNlcnZpY2UgY29udGV4dDpNQ1AgdG9vbCBmb2xkZXIgcGF0aCByZXNvbHV0aW9uIGFuZCB2YWxpZGF0aW9uXG4vLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbT2JzaWRpYW4gVEZpbGUgQVBJLCB2YXVsdCBmaWxlIHN5c3RlbV1cbi8vIEBwdXJwb3NlOiBQcm92aWRlIGZvbGRlciByZXNvbHV0aW9uIHNlcnZpY2VzIGZvciBNQ1AgdG9vbCBpbnRlZ3JhdGlvbnMgbGlrZSBUZW1wbGF0ZXIgYW5kIFBlcmlvZGljIE5vdGVzXG4vLyBAcmVzdWx0OiBNQ1AgdG9vbHMgY2FuIHJlc29sdmUgYW5kIHZhbGlkYXRlIGZvbGRlcnMgY29uc2lzdGVudGx5IGFjcm9zcyBkaWZmZXJlbnQgcGx1Z2luIHR5cGVzXG4vLyBAc2lnbmVkOiBDLkJqw7hyblxuZXhwb3J0IGNsYXNzIE1DUEZvbGRlclJlc29sdmVyIHtcblx0cHJpdmF0ZSBzZXR0aW5nczogR3JhcGhpdGlQbHVnaW5TZXR0aW5ncztcblx0cHJpdmF0ZSBhcHA6IEFwcDtcblx0cHJpdmF0ZSBsb2dnZXI6IEdyYXBoaXRpTG9nZ2VyO1xuXG5cdGNvbnN0cnVjdG9yKHNldHRpbmdzOiBHcmFwaGl0aVBsdWdpblNldHRpbmdzLCBhcHA6IEFwcCwgbG9nZ2VyOiBHcmFwaGl0aUxvZ2dlcikge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcblx0XHR0aGlzLmFwcCA9IGFwcDtcblx0XHR0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXNvbHZlIHRoZSBhcHByb3ByaWF0ZSBmb2xkZXIgZm9yIG5vdGUgY3JlYXRpb24gYmFzZWQgb24gbm90ZSB0eXBlIGFuZCBjb25maWd1cmF0aW9uXG5cdCAqIEBwYXJhbSBub3RlVHlwZSAtIFR5cGUgb2Ygbm90ZSB0byBjcmVhdGVcblx0ICogQHBhcmFtIHRlbXBsYXRlTmFtZSAtIE9wdGlvbmFsIHRlbXBsYXRlIG5hbWVcblx0ICogQHBhcmFtIHRhcmdldEZvbGRlciAtIE9wdGlvbmFsIHRhcmdldCBmb2xkZXIgb3ZlcnJpZGVcblx0ICogQHJldHVybnMgUHJvbWlzZTxGb2xkZXJSZXNvbHV0aW9uUmVzdWx0PiAtIEZvbGRlciByZXNvbHV0aW9uIHJlc3VsdFxuXHQgKi9cblx0YXN5bmMgcmVzb2x2ZUZvbGRlckZvck5vdGUoXG5cdFx0bm90ZVR5cGU6ICdkYWlseScgfCAnd2Vla2x5JyB8ICdtb250aGx5JyB8ICdxdWFydGVybHknIHwgJ3llYXJseScgfCAndGVtcGxhdGUnIHwgJ2dlbmVyaWMnLFxuXHRcdHRlbXBsYXRlTmFtZT86IHN0cmluZyxcblx0XHR0YXJnZXRGb2xkZXI/OiBzdHJpbmdcblx0KTogUHJvbWlzZTxGb2xkZXJSZXNvbHV0aW9uUmVzdWx0PiB7XG5cdFx0dHJ5IHtcblx0XHRcdC8vIFRPRE86IEltcGxlbWVudCBmb2xkZXIgcmVzb2x1dGlvbiBsb2dpYyBiYXNlZCBvbiBub3RlIHR5cGUgYW5kIGNvbmZpZ3VyYXRpb25cblx0XHRcdC8vIFRoaXMgc2hvdWxkIGhhbmRsZSBkaWZmZXJlbnQgZm9sZGVyIHJlc29sdXRpb24gc3RyYXRlZ2llczpcblx0XHRcdC8vIC0gVGVtcGxhdGUtYmFzZWQgZm9sZGVyIHJlc29sdXRpb25cblx0XHRcdC8vIC0gUGVyaW9kaWMgbm90ZSBmb2xkZXIgcGF0dGVybnNcblx0XHRcdC8vIC0gQ3VzdG9tIGZvbGRlciBtYXBwaW5nIHJ1bGVzXG5cblx0XHRcdC8vIElmIHRhcmdldCBmb2xkZXIgaXMgcHJvdmlkZWQsIHVzZSBpdFxuXHRcdFx0aWYgKHRhcmdldEZvbGRlcikge1xuXHRcdFx0XHRjb25zdCBpc1ZhbGlkID0gYXdhaXQgdGhpcy52YWxpZGF0ZUFuZENyZWF0ZUZvbGRlcih0YXJnZXRGb2xkZXIsIHRoaXMuYXBwLnZhdWx0KTtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRzdWNjZXNzOiBpc1ZhbGlkLFxuXHRcdFx0XHRcdGZvbGRlclBhdGg6IHRhcmdldEZvbGRlcixcblx0XHRcdFx0XHRtZXNzYWdlOiBpc1ZhbGlkID8gJ1RhcmdldCBmb2xkZXIgdmFsaWRhdGVkJyA6ICdGYWlsZWQgdG8gdmFsaWRhdGUgdGFyZ2V0IGZvbGRlcicsXG5cdFx0XHRcdFx0Y3JlYXRlZDogZmFsc2Vcblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVXNlIGRlZmF1bHQgTUNQIG5vdGVzIGZvbGRlciBmcm9tIHNldHRpbmdzXG5cdFx0XHRjb25zdCBkZWZhdWx0Rm9sZGVyID0gdGhpcy5zZXR0aW5ncy5tY3BUb29scy5kZWZhdWx0cy5pbmJveEZvbGRlciB8fCAnJztcblx0XHRcdGNvbnN0IGlzVmFsaWQgPSBhd2FpdCB0aGlzLnZhbGlkYXRlQW5kQ3JlYXRlRm9sZGVyKGRlZmF1bHRGb2xkZXIsIHRoaXMuYXBwLnZhdWx0KTtcblxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogaXNWYWxpZCxcblx0XHRcdFx0Zm9sZGVyUGF0aDogZGVmYXVsdEZvbGRlcixcblx0XHRcdFx0bWVzc2FnZTogaXNWYWxpZCA/ICdEZWZhdWx0IGZvbGRlciByZXNvbHZlZCcgOiAnRmFpbGVkIHRvIHJlc29sdmUgZGVmYXVsdCBmb2xkZXInLFxuXHRcdFx0XHRjcmVhdGVkOiBmYWxzZVxuXHRcdFx0fTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5sb2dnZXIuZXJyb3IoJ0Vycm9yIHJlc29sdmluZyBmb2xkZXIgZm9yIG5vdGUnLCBlcnJvcik7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0Zm9sZGVyUGF0aDogJycsXG5cdFx0XHRcdG1lc3NhZ2U6IGBFcnJvcjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YFxuXHRcdFx0fTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogVmFsaWRhdGUgdGhhdCBhIGZvbGRlciBleGlzdHMgYW5kIGNyZWF0ZSBpdCBpZiBuZWNlc3Nhcnlcblx0ICogQHBhcmFtIGZvbGRlclBhdGggLSBUaGUgZm9sZGVyIHBhdGggdG8gdmFsaWRhdGUvY3JlYXRlXG5cdCAqIEBwYXJhbSB2YXVsdCAtIE9ic2lkaWFuIHZhdWx0IGluc3RhbmNlIGZvciBmaWxlIG9wZXJhdGlvbnNcblx0ICogQHJldHVybnMgUHJvbWlzZTxib29sZWFuPiAtIFN1Y2Nlc3Mgc3RhdHVzXG5cdCAqL1xuXHRhc3luYyB2YWxpZGF0ZUFuZENyZWF0ZUZvbGRlcihmb2xkZXJQYXRoOiBzdHJpbmcsIHZhdWx0OiBhbnkpOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0XHQvLyBSb2J1c3QgZm9sZGVyIHZhbGlkYXRpb24gKyBjcmVhdGlvbiB1c2luZyBPYnNpZGlhbiB2YXVsdCBBUElzLlxuXHRcdC8vIFJldHVybnMgdHJ1ZSBpZiBmb2xkZXIgZXhpc3RzIG9yIHdhcyBjcmVhdGVkIHN1Y2Nlc3NmdWxseSwgZmFsc2Ugb3RoZXJ3aXNlLlxuXHRcdC8vIFNldHMgZGV0YWlsZWQgbG9ncyB2aWEgR3JhcGhpdGlMb2dnZXIgKGRvIE5PVCB1c2UgY29uc29sZS4qIHBlciBwcm9qZWN0IHJ1bGVzKS5cblx0XHR0cnkge1xuXHRcdFx0Ly8gRW1wdHkgb3Igcm9vdC1saWtlIHBhdGggbWVhbnMgcm9vdCDigJQgdHJlYXQgYXMgdmFsaWRcblx0XHRcdGlmICghZm9sZGVyUGF0aCB8fCBmb2xkZXJQYXRoLnRyaW0oKSA9PT0gJycpIHtcblx0XHRcdFx0dGhpcy5sb2dnZXIuZGVidWcoJ3ZhbGlkYXRlQW5kQ3JlYXRlRm9sZGVyOiBlbXB0eSBmb2xkZXJQYXRoLCB1c2luZyB2YXVsdCByb290Jyk7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBOb3JtYWxpemUgcGF0aCB0byB1c2UgZm9yd2FyZCBzbGFzaGVzICh2YXVsdCBwYXRocyBpbiBPYnNpZGlhbiB1c2UgJy8nKVxuXHRcdFx0Y29uc3Qgbm9ybWFsaXplZCA9IGZvbGRlclBhdGgucmVwbGFjZSgvXFxcXC9nLCAnLycpLnJlcGxhY2UoL15cXC8rfFxcLyskL2csICcnKTtcblxuXHRcdFx0Ly8gUHJlZmVyIHVzaW5nIGFkYXB0ZXIuZXhpc3RzIHdoZW4gYXZhaWxhYmxlLCBidXQgYWxzbyBoYW5kbGUgb2xkZXIgQVBJc1xuXHRcdFx0Y29uc3QgYWRhcHRlciA9IHZhdWx0Py5hZGFwdGVyO1xuXHRcdFx0bGV0IGZvbGRlckV4aXN0cyA9IGZhbHNlO1xuXHRcdFx0aWYgKGFkYXB0ZXIgJiYgdHlwZW9mIGFkYXB0ZXIuZXhpc3RzID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Zm9sZGVyRXhpc3RzID0gYXdhaXQgYWRhcHRlci5leGlzdHMobm9ybWFsaXplZCk7XG5cdFx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRcdHRoaXMubG9nZ2VyLndhcm4oJ3ZhbGlkYXRlQW5kQ3JlYXRlRm9sZGVyOiBhZGFwdGVyLmV4aXN0cyB0aHJldywgZmFsbGluZyBiYWNrIHRvIHZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aCcsIGVycik7XG5cdFx0XHRcdFx0Zm9sZGVyRXhpc3RzID0gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gRmFsbGJhY2s6IHVzZSB2YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGggdG8gY2hlY2sgZXhpc3RlbmNlXG5cdFx0XHRpZiAoIWZvbGRlckV4aXN0cykge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGNvbnN0IGZpbGUgPSB2YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgobm9ybWFsaXplZCk7XG5cdFx0XHRcdFx0Zm9sZGVyRXhpc3RzID0gISFmaWxlO1xuXHRcdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0XHRmb2xkZXJFeGlzdHMgPSBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZm9sZGVyRXhpc3RzKSB7XG5cdFx0XHRcdHRoaXMubG9nZ2VyLmRlYnVnKCd2YWxpZGF0ZUFuZENyZWF0ZUZvbGRlcjogZm9sZGVyIGV4aXN0cycsIHsgZm9sZGVyUGF0aDogbm9ybWFsaXplZCB9KTtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEF0dGVtcHQgdG8gY3JlYXRlIG5lc3RlZCBmb2xkZXJzIHNhZmVseVxuXHRcdFx0Y29uc3Qgc2VnbWVudHMgPSBub3JtYWxpemVkLnNwbGl0KCcvJykuZmlsdGVyKEJvb2xlYW4pO1xuXHRcdFx0bGV0IGN1cnJlbnRQYXRoID0gJyc7XG5cdFx0XHRsZXQgY3JlYXRlZEFueSA9IGZhbHNlO1xuXHRcdFx0Zm9yIChjb25zdCBzZWcgb2Ygc2VnbWVudHMpIHtcblx0XHRcdFx0Y3VycmVudFBhdGggPSBjdXJyZW50UGF0aCA/IGAke2N1cnJlbnRQYXRofS8ke3NlZ31gIDogc2VnO1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdC8vIElmIGFkYXB0ZXIgc3VwcG9ydHMgZXhpc3RzL2NyZWF0ZUZvbGRlciwgdXNlIGl0XG5cdFx0XHRcdFx0bGV0IGV4aXN0c05vdyA9IGZhbHNlO1xuXHRcdFx0XHRcdGlmIChhZGFwdGVyICYmIHR5cGVvZiBhZGFwdGVyLmV4aXN0cyA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0ZXhpc3RzTm93ID0gYXdhaXQgYWRhcHRlci5leGlzdHMoY3VycmVudFBhdGgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIWV4aXN0c05vdykge1xuXHRcdFx0XHRcdFx0Ly8gdmF1bHQuY3JlYXRlRm9sZGVyIHdpbGwgYWxzbyBjcmVhdGUgbmVzdGVkIHN0cnVjdHVyZSB3aGVuIHBvc3NpYmxlXG5cdFx0XHRcdFx0XHRpZiAodHlwZW9mIHZhdWx0LmNyZWF0ZUZvbGRlciA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0XHRhd2FpdCB2YXVsdC5jcmVhdGVGb2xkZXIoY3VycmVudFBhdGgpO1xuXHRcdFx0XHRcdFx0XHRjcmVhdGVkQW55ID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0dGhpcy5sb2dnZXIuaW5mbygndmFsaWRhdGVBbmRDcmVhdGVGb2xkZXI6IGNyZWF0ZWQgZm9sZGVyJywgeyBwYXRoOiBjdXJyZW50UGF0aCB9KTtcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoYWRhcHRlciAmJiB0eXBlb2YgYWRhcHRlci5ta2RpciA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0XHQvLyBzb21lIGFkYXB0ZXJzIGV4cG9zZSBta2RpclxuXHRcdFx0XHRcdFx0XHRhd2FpdCBhZGFwdGVyLm1rZGlyKGN1cnJlbnRQYXRoKTtcblx0XHRcdFx0XHRcdFx0Y3JlYXRlZEFueSA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdHRoaXMubG9nZ2VyLmluZm8oJ3ZhbGlkYXRlQW5kQ3JlYXRlRm9sZGVyOiBjcmVhdGVkIGZvbGRlciB2aWEgYWRhcHRlci5ta2RpcicsIHsgcGF0aDogY3VycmVudFBhdGggfSk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHR0aGlzLmxvZ2dlci53YXJuKCd2YWxpZGF0ZUFuZENyZWF0ZUZvbGRlcjogbm8gbWV0aG9kIHRvIGNyZWF0ZSBmb2xkZXIgZm91bmQnLCB7IHBhdGg6IGN1cnJlbnRQYXRoIH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdFx0dGhpcy5sb2dnZXIuZXJyb3IoJ3ZhbGlkYXRlQW5kQ3JlYXRlRm9sZGVyOiBmYWlsZWQgdG8gY3JlYXRlIGZvbGRlciBzZWdtZW50JywgeyBwYXRoOiBjdXJyZW50UGF0aCwgZXJyb3I6IGVyciB9KTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0dGhpcy5sb2dnZXIuZGVidWcoJ3ZhbGlkYXRlQW5kQ3JlYXRlRm9sZGVyOiB2YWxpZGF0aW9uIGNvbXBsZXRlJywgeyBmb2xkZXJQYXRoOiBub3JtYWxpemVkLCBjcmVhdGVkOiBjcmVhdGVkQW55IH0pO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdC8vIFVzZSBwcm9qZWN0IGxvZ2dlciBmb3IgZXJyb3JzIChubyBjb25zb2xlLiopXG5cdFx0XHR0aGlzLmxvZ2dlci5lcnJvcigndmFsaWRhdGVBbmRDcmVhdGVGb2xkZXI6IHVuZXhwZWN0ZWQgZXJyb3InLCBlcnJvcik7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEdlbmVyYXRlIHBlcmlvZGljIG5vdGUgcGF0aCBiYXNlZCBvbiBkYXRlIGFuZCBjb25maWd1cmF0aW9uXG5cdCAqIEBwYXJhbSBkYXRlIC0gRGF0ZSBmb3IgdGhlIHBlcmlvZGljIG5vdGVcblx0ICogQHBhcmFtIHBlcmlvZGljQ29uZmlnIC0gUGVyaW9kaWMgbm90ZXMgY29uZmlndXJhdGlvblxuXHQgKiBAcmV0dXJucyBzdHJpbmcgLSBHZW5lcmF0ZWQgcGF0aCBmb3IgdGhlIHBlcmlvZGljIG5vdGVcblx0ICovXG5cdGdlbmVyYXRlUGVyaW9kaWNOb3RlUGF0aChkYXRlOiBEYXRlLCBwZXJpb2RpY0NvbmZpZzogYW55KTogc3RyaW5nIHtcblx0XHQvLyBUT0RPOiBJbXBsZW1lbnQgcGVyaW9kaWMgbm90ZSBwYXRoIGdlbmVyYXRpb25cblx0XHQvLyBUaGlzIHNob3VsZCBoYW5kbGU6XG5cdFx0Ly8gLSBEYWlseSwgd2Vla2x5LCBtb250aGx5LCB5ZWFybHkgbm90ZSBwYXR0ZXJuc1xuXHRcdC8vIC0gQ3VzdG9tIGRhdGUgZm9ybWF0dGluZ1xuXHRcdC8vIC0gRm9sZGVyIHN0cnVjdHVyZSBjb25maWd1cmF0aW9uXG5cdFx0Ly8gLSBUZW1wbGF0ZS1iYXNlZCBwYXRoIGdlbmVyYXRpb25cblxuXHRcdC8vIFBsYWNlaG9sZGVyIGltcGxlbWVudGF0aW9uIC0gc2ltcGxlIGRhaWx5IG5vdGUgcGF0dGVyblxuXHRcdGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG5cdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKTtcblx0XHRjb25zdCBkYXkgPSBTdHJpbmcoZGF0ZS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7XG5cblx0XHQvLyBEZWZhdWx0IHBhdHRlcm46IFlZWVktTU0tREQgZm9ybWF0IGluIHJvb3Rcblx0XHRyZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9Lm1kYDtcblx0fVxufVxuLy8gQHZlc3NlbC1jbG9zZTpVbGxyIiwiLy8gQHZlc3NlbC1wcm90b2NvbDpIZWltZGFsbCBnb3Zlcm5zOmZlYXR1cmUgY29udGV4dDpQeXRob24gZW52aXJvbm1lbnQgZGV0ZWN0aW9uLCB2YWxpZGF0aW9uLCBhbmQgaW5zdGFsbGF0aW9uXG4vLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbR3JhcGhpdGlMb2dnZXIsIHNldHRpbmdzLCBtY3Atc2VydmVyL3JlcXVpcmVtZW50cy50eHRdXG4vLyBAcHVycG9zZTogQ2VudHJhbGl6ZSBQeXRob24gaW5zdGFsbGF0aW9uIG1hbmFnZW1lbnQgd2l0aCBzeXN0ZW0gYW5kIHV2IG1ldGhvZHNcbi8vIEByZXN1bHQ6IFJlbGlhYmxlIFB5dGhvbiBlbnZpcm9ubWVudCBzZXR1cCB3aXRoIHNlY3VyaXR5IHZhbGlkYXRpb24gYW5kIHBhcnRpYWwgZmFpbHVyZSByZWNvdmVyeVxuLy8gQHNpZ25lZDogQy5CasO4cm5cblxuaW1wb3J0IHsgc3Bhd24gfSBmcm9tICdjaGlsZF9wcm9jZXNzJztcbmltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgeyBwcm9taXNlcyBhcyBmc1Byb21pc2VzIH0gZnJvbSAnZnMnO1xuaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnO1xuaW1wb3J0ICogYXMgb3MgZnJvbSAnb3MnO1xuaW1wb3J0ICogYXMgY3J5cHRvIGZyb20gJ2NyeXB0byc7XG5pbXBvcnQgeyBQbHVnaW4gfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBHcmFwaGl0aUxvZ2dlciB9IGZyb20gJy4uL3V0aWxzL0xvZ2dlcic7XG5cbi8vIFVWIHZlcnNpb24gcGlubmVkIGZvciByZXByb2R1Y2libGUgYnVpbGRzIGFuZCBjaGVja3N1bSB2ZXJpZmljYXRpb25cbi8vIFRvIHVwZGF0ZTpcbi8vIDEuIENoYW5nZSB2ZXJzaW9uIG51bWJlciBpbiBVUkxzIGJlbG93XG4vLyAyLiBEb3dubG9hZCBlYWNoIHBsYXRmb3JtIGJpbmFyeSBmcm9tIEdpdEh1YiByZWxlYXNlc1xuLy8gMy4gQ29tcHV0ZSBTSEEyNTY6IGBjZXJ0dXRpbCAtaGFzaGZpbGUgZmlsZW5hbWUgU0hBMjU2YCAoV2luZG93cykgb3IgYHNoYXN1bSAtYSAyNTYgZmlsZW5hbWVgIChVbml4KVxuLy8gNC4gVXBkYXRlIFVWX0NIRUNLU1VNUyBiZWxvd1xuLy8gU291cmNlOiBodHRwczovL2dpdGh1Yi5jb20vYXN0cmFsLXNoL3V2L3JlbGVhc2VzXG5jb25zdCBVVl9WRVJTSU9OID0gJzAuOS41JzsgLy8gTGF0ZXN0IHN0YWJsZSBhcyBvZiAyMDI1LTEwXG5cbmNvbnN0IFVWX1VSTFMgPSB7XG5cdHdpbjMyOiB7XG5cdFx0eDY0OiBgaHR0cHM6Ly9naXRodWIuY29tL2FzdHJhbC1zaC91di9yZWxlYXNlcy9kb3dubG9hZC8ke1VWX1ZFUlNJT059L3V2LXg4Nl82NC1wYy13aW5kb3dzLW1zdmMuemlwYCxcblx0XHRhcm02NDogYGh0dHBzOi8vZ2l0aHViLmNvbS9hc3RyYWwtc2gvdXYvcmVsZWFzZXMvZG93bmxvYWQvJHtVVl9WRVJTSU9OfS91di1hYXJjaDY0LXBjLXdpbmRvd3MtbXN2Yy56aXBgLFxuXHR9LFxuXHRkYXJ3aW46IHtcblx0XHR4NjQ6IGBodHRwczovL2dpdGh1Yi5jb20vYXN0cmFsLXNoL3V2L3JlbGVhc2VzL2Rvd25sb2FkLyR7VVZfVkVSU0lPTn0vdXYteDg2XzY0LWFwcGxlLWRhcndpbi50YXIuZ3pgLFxuXHRcdGFybTY0OiBgaHR0cHM6Ly9naXRodWIuY29tL2FzdHJhbC1zaC91di9yZWxlYXNlcy9kb3dubG9hZC8ke1VWX1ZFUlNJT059L3V2LWFhcmNoNjQtYXBwbGUtZGFyd2luLnRhci5nemAsXG5cdH0sXG5cdGxpbnV4OiB7XG5cdFx0eDY0OiBgaHR0cHM6Ly9naXRodWIuY29tL2FzdHJhbC1zaC91di9yZWxlYXNlcy9kb3dubG9hZC8ke1VWX1ZFUlNJT059L3V2LXg4Nl82NC11bmtub3duLWxpbnV4LWdudS50YXIuZ3pgLFxuXHRcdGFybTY0OiBgaHR0cHM6Ly9naXRodWIuY29tL2FzdHJhbC1zaC91di9yZWxlYXNlcy9kb3dubG9hZC8ke1VWX1ZFUlNJT059L3V2LWFhcmNoNjQtdW5rbm93bi1saW51eC1nbnUudGFyLmd6YCxcblx0fSxcbn07XG5cbi8vIFNIQTI1NiBjaGVja3N1bXMgZm9yIFVWIGJpbmFyaWVzIC0gTVVTVCBiZSBwb3B1bGF0ZWQgZm9yIHNlY3VyaXR5XG4vLyBXQVJOSU5HOiBFbXB0eSBjaGVja3N1bXMgc2tpcCB2ZXJpZmljYXRpb24gLSBkb3dubG9hZCBjb3VsZCBiZSB0YW1wZXJlZFxuY29uc3QgVVZfQ0hFQ0tTVU1TID0ge1xuXHR3aW4zMjoge1xuXHRcdHg2NDogJycsIC8vIFRPRE86IEFkZCBjaGVja3N1bSBmb3IgdXYteDg2XzY0LXBjLXdpbmRvd3MtbXN2Yy56aXBcblx0XHRhcm02NDogJycsIC8vIFRPRE86IEFkZCBjaGVja3N1bSBmb3IgdXYtYWFyY2g2NC1wYy13aW5kb3dzLW1zdmMuemlwXG5cdH0sXG5cdGRhcndpbjoge1xuXHRcdHg2NDogJycsIC8vIFRPRE86IEFkZCBjaGVja3N1bSBmb3IgdXYteDg2XzY0LWFwcGxlLWRhcndpbi50YXIuZ3pcblx0XHRhcm02NDogJycsIC8vIFRPRE86IEFkZCBjaGVja3N1bSBmb3IgdXYtYWFyY2g2NC1hcHBsZS1kYXJ3aW4udGFyLmd6XG5cdH0sXG5cdGxpbnV4OiB7XG5cdFx0eDY0OiAnJywgLy8gVE9ETzogQWRkIGNoZWNrc3VtIGZvciB1di14ODZfNjQtdW5rbm93bi1saW51eC1nbnUudGFyLmd6XG5cdFx0YXJtNjQ6ICcnLCAvLyBUT0RPOiBBZGQgY2hlY2tzdW0gZm9yIHV2LWFhcmNoNjQtdW5rbm93bi1saW51eC1nbnUudGFyLmd6XG5cdH0sXG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIERlcGVuZGVuY3lTdGF0dXMge1xuXHRzeXN0ZW1QeXRob246IHsgcGF0aDogc3RyaW5nOyB2ZXJzaW9uOiBzdHJpbmcgfSB8IG51bGw7XG5cdHV2SW5zdGFsbGVkOiBib29sZWFuO1xuXHR1dlB5dGhvblBhdGg6IHN0cmluZyB8IG51bGw7XG5cdGRhdGFKc29uUHl0aG9uOiBzdHJpbmcgfCBudWxsO1xuXHRkYXRhSnNvbk1ldGhvZDogJ3N5c3RlbScgfCAndXYnIHwgbnVsbDtcblx0dmVudlBhdGg6IHN0cmluZztcblx0dmVudkV4aXN0czogYm9vbGVhbjtcblx0dmVudlB5dGhvblBhdGg6IHN0cmluZztcblx0dmVudlZhbGlkOiBib29sZWFuO1xuXHRncmFwaGl0aUluc3RhbGxlZDogYm9vbGVhbjtcblx0Z3JhcGhpdGlWZXJzaW9uOiBzdHJpbmcgfCBudWxsO1xuXHRtaXNtYXRjaDoge1xuXHRcdGRldGVjdGVkOiBib29sZWFuO1xuXHRcdGRlc2NyaXB0aW9uOiBzdHJpbmc7XG5cdH07XG59XG5cbmV4cG9ydCBjbGFzcyBQeXRob25JbnN0YWxsZXIge1xuXHRwcml2YXRlIGxvZ2dlcjogR3JhcGhpdGlMb2dnZXI7XG5cdHByaXZhdGUgaW5zdGFsbEluUHJvZ3Jlc3MgPSBmYWxzZTtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIHBsdWdpbjogUGx1Z2luLFxuXHRcdHByaXZhdGUgcGx1Z2luRGlyOiBzdHJpbmcsXG5cdFx0cHJpdmF0ZSBzZXR0aW5nczogeyBweXRob25QYXRoPzogc3RyaW5nIH1cblx0KSB7XG5cdFx0dGhpcy5sb2dnZXIgPSBuZXcgR3JhcGhpdGlMb2dnZXIocGx1Z2luLCBmYWxzZSk7XG5cdFx0dGhpcy5sb2dnZXIuaW5pdCgpOyAvLyBJbml0aWFsaXplIGxvZ2dlciB0byBlbmFibGUgZmlsZSBsb2dnaW5nXG5cdH1cblxuXHRhc3luYyBjaGVja0FsbERlcGVuZGVuY2llcygpOiBQcm9taXNlPERlcGVuZGVuY3lTdGF0dXM+IHtcblx0XHRjb25zdCBhcHBEYXRhID0gdGhpcy5nZXRBcHBEYXRhUGF0aCgpO1xuXHRcdGNvbnN0IHZlbnZQYXRoID0gcGF0aC5qb2luKGFwcERhdGEsICd2ZW52Jyk7XG5cdFx0Y29uc3QgdmVudlB5dGhvblBhdGggPSB0aGlzLmdldFZlbnZQeXRob24odmVudlBhdGgpO1xuXG5cdFx0Y29uc3Qgc3lzdGVtUHl0aG9uID0gYXdhaXQgdGhpcy5maW5kU3lzdGVtUHl0aG9uKCk7XG5cdFx0Y29uc3QgdXZJbnN0YWxsZWQgPSBhd2FpdCB0aGlzLmlzVXZJbnN0YWxsZWQoKTtcblx0XHRjb25zdCBkYXRhSnNvblB5dGhvbiA9IHRoaXMuc2V0dGluZ3MucHl0aG9uUGF0aCB8fCBudWxsO1xuXHRcdGNvbnN0IHZlbnZFeGlzdHMgPSBhd2FpdCB0aGlzLnBhdGhFeGlzdHModmVudlBhdGgpO1xuXHRcdGNvbnN0IHZlbnZWYWxpZCA9IHZlbnZFeGlzdHMgPyBhd2FpdCB0aGlzLnRlc3RWZW52KHZlbnZQeXRob25QYXRoKSA6IGZhbHNlO1xuXHRcdGNvbnN0IGdyYXBoaXRpSW5zdGFsbGVkID0gdmVudlZhbGlkO1xuXHRcdFxuXHRcdGxldCBncmFwaGl0aVZlcnNpb246IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXHRcdGlmICh2ZW52VmFsaWQpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGdyYXBoaXRpVmVyc2lvbiA9IGF3YWl0IHRoaXMuZXhlYyh2ZW52UHl0aG9uUGF0aCwgWyctYycsIFwiaW1wb3J0IGltcG9ydGxpYi5tZXRhZGF0YTsgcHJpbnQoaW1wb3J0bGliLm1ldGFkYXRhLnZlcnNpb24oJ2dyYXBoaXRpLWNvcmUnKSlcIl0pO1xuXHRcdFx0XHRncmFwaGl0aVZlcnNpb24gPSBncmFwaGl0aVZlcnNpb24udHJpbSgpO1xuXHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdGdyYXBoaXRpVmVyc2lvbiA9IG51bGw7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3QgbWlzbWF0Y2ggPSB0aGlzLmRldGVjdE1pc21hdGNoKHtcblx0XHRcdGRhdGFKc29uUHl0aG9uLFxuXHRcdFx0dmVudkV4aXN0cyxcblx0XHRcdHZlbnZWYWxpZCxcblx0XHRcdHZlbnZQYXRoOiB2ZW52UHl0aG9uUGF0aCxcblx0XHR9KTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzeXN0ZW1QeXRob24sXG5cdFx0XHR1dkluc3RhbGxlZCxcblx0XHRcdHV2UHl0aG9uUGF0aDogbnVsbCxcblx0XHRcdGRhdGFKc29uUHl0aG9uLFxuXHRcdFx0ZGF0YUpzb25NZXRob2Q6IG51bGwsXG5cdFx0XHR2ZW52UGF0aCxcblx0XHRcdHZlbnZFeGlzdHMsXG5cdFx0XHR2ZW52UHl0aG9uUGF0aCxcblx0XHRcdHZlbnZWYWxpZCxcblx0XHRcdGdyYXBoaXRpSW5zdGFsbGVkLFxuXHRcdFx0Z3JhcGhpdGlWZXJzaW9uLFxuXHRcdFx0bWlzbWF0Y2gsXG5cdFx0fTtcblx0fVxuXG5cdGFzeW5jIGluc3RhbGxEZXBlbmRlbmNpZXMoXG5cdFx0bWV0aG9kOiAnc3lzdGVtJyB8ICd1dicsXG5cdFx0b25Qcm9ncmVzcz86IChzdGF0dXM6IHN0cmluZywgcGVyY2VudDogbnVtYmVyKSA9PiB2b2lkXG5cdCk6IFByb21pc2U8c3RyaW5nPiB7XG5cdFx0aWYgKHRoaXMuaW5zdGFsbEluUHJvZ3Jlc3MpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignSW5zdGFsbGF0aW9uIGFscmVhZHkgaW4gcHJvZ3Jlc3MnKTtcblx0XHR9XG5cblx0XHR0aGlzLmluc3RhbGxJblByb2dyZXNzID0gdHJ1ZTtcblxuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBhcHBEYXRhID0gdGhpcy5nZXRBcHBEYXRhUGF0aCgpO1xuXHRcdFx0Y29uc3QgdmVudlBhdGggPSBwYXRoLmpvaW4oYXBwRGF0YSwgJ3ZlbnYnKTtcblxuXHRcdFx0dGhpcy5sb2dnZXIuaW5mbygnW0lORk9dIENoZWNraW5nIGRpc2sgc3BhY2UnLCB7IHBhdGg6IGFwcERhdGEsIHJlcXVpcmVkTUI6IDUwMCB9KTtcblx0XHRcdGNvbnN0IGhhc1NwYWNlID0gYXdhaXQgdGhpcy5jaGVja0Rpc2tTcGFjZShhcHBEYXRhLCA1MDApO1xuXHRcdFx0dGhpcy5sb2dnZXIuaW5mbygnW0lORk9dIERpc2sgc3BhY2UgY2hlY2sgcmVzdWx0JywgeyBoYXNTcGFjZSwgcGF0aDogYXBwRGF0YSB9KTtcblx0XHRcdGlmICghaGFzU3BhY2UpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdJbnN1ZmZpY2llbnQgZGlzayBzcGFjZSAoNTAwTUIgcmVxdWlyZWQpJyk7XG5cdFx0XHR9XG5cblx0XHRcdGF3YWl0IGZzUHJvbWlzZXMubWtkaXIoYXBwRGF0YSwgeyByZWN1cnNpdmU6IHRydWUgfSk7XG5cblx0XHRcdGlmIChtZXRob2QgPT09ICdzeXN0ZW0nKSB7XG5cdFx0XHRcdG9uUHJvZ3Jlc3M/LignRmluZGluZyBzeXN0ZW0gUHl0aG9uLi4uJywgMTApO1xuXHRcdFx0XHRjb25zdCBzeXN0ZW1QeXRob24gPSBhd2FpdCB0aGlzLmZpbmRTeXN0ZW1QeXRob24oKTtcblx0XHRcdFx0aWYgKCFzeXN0ZW1QeXRob24pIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ05vIFB5dGhvbiAzLjExKyBmb3VuZCBvbiBzeXN0ZW0nKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMubG9nZ2VyLmluZm8oJ1tJTkZPXSBVc2luZyBzeXN0ZW0gUHl0aG9uJywge1xuXHRcdFx0XHRcdHBhdGg6IHN5c3RlbVB5dGhvbi5wYXRoLFxuXHRcdFx0XHRcdHZlcnNpb246IHN5c3RlbVB5dGhvbi52ZXJzaW9uLFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRvblByb2dyZXNzPy4oJ0NyZWF0aW5nIHZpcnR1YWwgZW52aXJvbm1lbnQuLi4nLCAzMCk7XG5cdFx0XHRcdGF3YWl0IHRoaXMuY3JlYXRlVmVudihzeXN0ZW1QeXRob24ucGF0aCwgdmVudlBhdGgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b25Qcm9ncmVzcz8uKCdEb3dubG9hZGluZyB1diBwYWNrYWdlIG1hbmFnZXIuLi4nLCAxMCk7XG5cdFx0XHRcdGF3YWl0IHRoaXMuaW5zdGFsbFV2KGFwcERhdGEpO1xuXG5cdFx0XHRcdG9uUHJvZ3Jlc3M/LignSW5zdGFsbGluZyBQeXRob24gMy4xMSB2aWEgdXYuLi4nLCAzMCk7XG5cdFx0XHRcdGF3YWl0IHRoaXMucnVuVXYoYXBwRGF0YSwgWydweXRob24nLCAnaW5zdGFsbCcsICczLjExJ10pO1xuXG5cdFx0XHRcdG9uUHJvZ3Jlc3M/LignQ3JlYXRpbmcgdmlydHVhbCBlbnZpcm9ubWVudC4uLicsIDUwKTtcblx0XHRcdFx0YXdhaXQgdGhpcy5ydW5VdihhcHBEYXRhLCBbJ3ZlbnYnLCB2ZW52UGF0aCwgJy0tcHl0aG9uJywgJzMuMTEnLCAnLS1jbGVhciddKTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgcHl0aG9uUGF0aCA9IHRoaXMuZ2V0VmVudlB5dGhvbih2ZW52UGF0aCk7XG5cblx0XHRcdG9uUHJvZ3Jlc3M/LignSW5zdGFsbGluZyBkZXBlbmRlbmNpZXMuLi4nLCA3MCk7XG5cdFx0XHRhd2FpdCB0aGlzLmluc3RhbGxEZXBzKG1ldGhvZCwgYXBwRGF0YSwgcHl0aG9uUGF0aCk7XG5cblx0XHRcdG9uUHJvZ3Jlc3M/LignVmVyaWZ5aW5nIGluc3RhbGxhdGlvbi4uLicsIDkwKTtcblx0XHRcdGNvbnN0IHZhbGlkID0gYXdhaXQgdGhpcy50ZXN0VmVudihweXRob25QYXRoKTtcblx0XHRcdGlmICghdmFsaWQpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdJbnN0YWxsYXRpb24gdmFsaWRhdGlvbiBmYWlsZWQnKTtcblx0XHRcdH1cblxuXHRcdFx0b25Qcm9ncmVzcz8uKCdJbnN0YWxsYXRpb24gY29tcGxldGUhJywgMTAwKTtcblx0XHRcdHRoaXMubG9nZ2VyLmluZm8oJ1tTVUNDRVNTXSBQeXRob24gZW52aXJvbm1lbnQgaW5zdGFsbGVkJywgeyBwYXRoOiBweXRob25QYXRoIH0pO1xuXG5cdFx0XHRyZXR1cm4gcHl0aG9uUGF0aDtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Y29uc3QgdmVudlBhdGggPSBwYXRoLmpvaW4odGhpcy5nZXRBcHBEYXRhUGF0aCgpLCAndmVudicpO1xuXHRcdFx0aWYgKGF3YWl0IHRoaXMucGF0aEV4aXN0cyh2ZW52UGF0aCkpIHtcblx0XHRcdFx0YXdhaXQgZnNQcm9taXNlcy5ybSh2ZW52UGF0aCwgeyByZWN1cnNpdmU6IHRydWUsIGZvcmNlOiB0cnVlIH0pO1xuXHRcdFx0XHR0aGlzLmxvZ2dlci5pbmZvKCdbSU5GT10gQ2xlYW5lZCB1cCBwYXJ0aWFsIGluc3RhbGxhdGlvbicpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5sb2dnZXIuZXJyb3IoJ1tFUlJPUl0gSW5zdGFsbGF0aW9uIGZhaWxlZCcsIGVycm9yIGFzIEVycm9yKTtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH0gZmluYWxseSB7XG5cdFx0XHR0aGlzLmluc3RhbGxJblByb2dyZXNzID0gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBmaW5kU3lzdGVtUHl0aG9uKCk6IFByb21pc2U8eyBwYXRoOiBzdHJpbmc7IHZlcnNpb246IHN0cmluZyB9IHwgbnVsbD4ge1xuXHRcdGNvbnN0IGNhbmRpZGF0ZXMgPSB0aGlzLmdldFB5dGhvbkNhbmRpZGF0ZXMoKTtcblxuXHRcdGZvciAoY29uc3QgY2FuZGlkYXRlIG9mIGNhbmRpZGF0ZXMpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbnN0IHZlcnNpb25TdHIgPSBhd2FpdCB0aGlzLmV4ZWMoY2FuZGlkYXRlLCBbJy0tdmVyc2lvbiddKTtcblx0XHRcdFx0Y29uc3QgbWF0Y2ggPSB2ZXJzaW9uU3RyLm1hdGNoKC9QeXRob24gKFxcZCspXFwuKFxcZCspXFwuKFxcZCspLyk7XG5cblx0XHRcdFx0aWYgKG1hdGNoKSB7XG5cdFx0XHRcdFx0Y29uc3QgWywgbWFqb3IsIG1pbm9yXSA9IG1hdGNoLm1hcChOdW1iZXIpO1xuXHRcdFx0XHRcdGlmIChtYWpvciA9PT0gMyAmJiBtaW5vciA+PSAxMSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHsgcGF0aDogY2FuZGlkYXRlLCB2ZXJzaW9uOiB2ZXJzaW9uU3RyLnRyaW0oKSB9O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyB0ZXN0VmVudihweXRob25QYXRoOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3Qgb3V0cHV0ID0gYXdhaXQgdGhpcy5leGVjKHB5dGhvblBhdGgsIFtcblx0XHRcdFx0Jy1jJyxcblx0XHRcdFx0J2ltcG9ydCBncmFwaGl0aV9jb3JlOyBwcmludChcIk9LXCIpJyxcblx0XHRcdF0pO1xuXHRcdFx0cmV0dXJuIG91dHB1dC50cmltKCkgPT09ICdPSyc7XG5cdFx0fSBjYXRjaCB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBjcmVhdGVWZW52KGJhc2VQeXRob246IHN0cmluZywgdmVudlBhdGg6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGF3YWl0IHRoaXMuZXhlYyhiYXNlUHl0aG9uLCBbJy1tJywgJ3ZlbnYnLCB2ZW52UGF0aF0pO1xuXHR9XG5cblx0cHJpdmF0ZSBnZXRWZW52UHl0aG9uKHZlbnZQYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRcdGNvbnN0IHBsYXRmb3JtID0gcHJvY2Vzcy5wbGF0Zm9ybTtcblx0XHRpZiAocGxhdGZvcm0gPT09ICd3aW4zMicpIHtcblx0XHRcdHJldHVybiBwYXRoLmpvaW4odmVudlBhdGgsICdTY3JpcHRzJywgJ3B5dGhvbi5leGUnKTtcblx0XHR9XG5cdFx0cmV0dXJuIHBhdGguam9pbih2ZW52UGF0aCwgJ2JpbicsICdweXRob24nKTtcblx0fVxuXG5cdHByaXZhdGUgZ2V0QXBwRGF0YVBhdGgoKTogc3RyaW5nIHtcblx0XHRjb25zdCBob21lID0gb3MuaG9tZWRpcigpO1xuXHRcdGNvbnN0IHBsYXRmb3JtID0gcHJvY2Vzcy5wbGF0Zm9ybTtcblxuXHRcdGxldCBiYXNlOiBzdHJpbmc7XG5cdFx0aWYgKHBsYXRmb3JtID09PSAnd2luMzInKSB7XG5cdFx0XHRiYXNlID0gcHJvY2Vzcy5lbnYuTE9DQUxBUFBEQVRBIHx8IHBhdGguam9pbihob21lLCAnQXBwRGF0YScsICdMb2NhbCcpO1xuXHRcdH0gZWxzZSBpZiAocGxhdGZvcm0gPT09ICdkYXJ3aW4nKSB7XG5cdFx0XHRiYXNlID0gcGF0aC5qb2luKGhvbWUsICdMaWJyYXJ5JywgJ0FwcGxpY2F0aW9uIFN1cHBvcnQnKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YmFzZSA9IHBhdGguam9pbihob21lLCAnLmxvY2FsJywgJ3NoYXJlJyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHBhdGguam9pbihiYXNlLCAnTWVnYU1lbScsICdweXRob24nKTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgaXNVdkluc3RhbGxlZCgpOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0XHRjb25zdCBhcHBEYXRhID0gdGhpcy5nZXRBcHBEYXRhUGF0aCgpO1xuXHRcdGNvbnN0IHV2UGF0aCA9IHRoaXMuZ2V0VXZQYXRoKGFwcERhdGEpO1xuXHRcdHJldHVybiBhd2FpdCB0aGlzLnBhdGhFeGlzdHModXZQYXRoKTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgaW5zdGFsbFV2KGFwcERhdGE6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IGJpbkRpciA9IHBhdGguam9pbihhcHBEYXRhLCAnYmluJyk7XG5cdFx0YXdhaXQgZnNQcm9taXNlcy5ta2RpcihiaW5EaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuXG5cdFx0Y29uc3QgcGxhdGZvcm0gPSBwcm9jZXNzLnBsYXRmb3JtIGFzIGtleW9mIHR5cGVvZiBVVl9VUkxTO1xuXHRcdGNvbnN0IGFyY2ggPSBwcm9jZXNzLmFyY2ggPT09ICdhcm02NCcgPyAnYXJtNjQnIDogJ3g2NCc7XG5cdFx0Y29uc3QgdXJsID0gVVZfVVJMU1twbGF0Zm9ybV0/LlthcmNoXTtcblxuXHRcdGlmICghdXJsKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHBsYXRmb3JtOiAke3BsYXRmb3JtfSAke2FyY2h9YCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgaXNaaXAgPSB1cmwuZW5kc1dpdGgoJy56aXAnKTtcblx0XHRjb25zdCBkb3dubG9hZFBhdGggPSBwYXRoLmpvaW4oYXBwRGF0YSwgaXNaaXAgPyAndXYuemlwJyA6ICd1di50YXIuZ3onKTtcblxuXHRcdHRoaXMubG9nZ2VyLmluZm8oJ1tJTkZPXSBEb3dubG9hZGluZyB1dicsIHsgdXJsIH0pO1xuXHRcdGF3YWl0IHRoaXMuZG93bmxvYWRGaWxlKHVybCwgZG93bmxvYWRQYXRoKTtcblxuXHRcdGNvbnN0IGV4cGVjdGVkQ2hlY2tzdW0gPSBVVl9DSEVDS1NVTVNbcGxhdGZvcm1dPy5bYXJjaF07XG5cdFx0aWYgKGV4cGVjdGVkQ2hlY2tzdW0pIHtcblx0XHRcdGNvbnN0IHZhbGlkID0gYXdhaXQgdGhpcy52ZXJpZnlDaGVja3N1bShkb3dubG9hZFBhdGgsIGV4cGVjdGVkQ2hlY2tzdW0pO1xuXHRcdFx0aWYgKCF2YWxpZCkge1xuXHRcdFx0XHRhd2FpdCBmc1Byb21pc2VzLnVubGluayhkb3dubG9hZFBhdGgpO1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0NoZWNrc3VtIHZlcmlmaWNhdGlvbiBmYWlsZWQgZm9yIHV2IGRvd25sb2FkJyk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmxvZ2dlci5pbmZvKCdbU1VDQ0VTU10gVVYgY2hlY2tzdW0gdmVyaWZpZWQnKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5sb2dnZXIud2FybignW1dBUk5JTkddIFVWIGNoZWNrc3VtIG5vdCBjb25maWd1cmVkIC0gc2tpcHBpbmcgdmVyaWZpY2F0aW9uIChzZWN1cml0eSByaXNrKScpO1xuXHRcdH1cblxuXHRcdGlmIChpc1ppcCkge1xuXHRcdFx0YXdhaXQgdGhpcy5leHRyYWN0WmlwKGRvd25sb2FkUGF0aCwgYmluRGlyKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YXdhaXQgdGhpcy5leHRyYWN0VGFyKGRvd25sb2FkUGF0aCwgYmluRGlyKTtcblx0XHR9XG5cblx0XHRhd2FpdCBmc1Byb21pc2VzLnVubGluayhkb3dubG9hZFBhdGgpO1xuXG5cdFx0aWYgKHBsYXRmb3JtICE9PSAnd2luMzInKSB7XG5cdFx0XHRjb25zdCB1dlBhdGggPSB0aGlzLmdldFV2UGF0aChhcHBEYXRhKTtcblx0XHRcdGF3YWl0IGZzUHJvbWlzZXMuY2htb2QodXZQYXRoLCAwbzc1NSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5sb2dnZXIuaW5mbygnW1NVQ0NFU1NdIHV2IGluc3RhbGxlZCcpO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBydW5VdihhcHBEYXRhOiBzdHJpbmcsIGFyZ3M6IHN0cmluZ1tdKTogUHJvbWlzZTxzdHJpbmc+IHtcblx0XHRjb25zdCB1dlBhdGggPSB0aGlzLmdldFV2UGF0aChhcHBEYXRhKTtcblx0XHRyZXR1cm4gYXdhaXQgdGhpcy5leGVjKHV2UGF0aCwgYXJncyk7XG5cdH1cblxuXHRwcml2YXRlIGdldFV2UGF0aChhcHBEYXRhOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRcdGNvbnN0IHBsYXRmb3JtID0gcHJvY2Vzcy5wbGF0Zm9ybTtcblx0XHRjb25zdCBiaW5EaXIgPSBwYXRoLmpvaW4oYXBwRGF0YSwgJ2JpbicpO1xuXHRcdGlmIChwbGF0Zm9ybSA9PT0gJ3dpbjMyJykge1xuXHRcdFx0cmV0dXJuIHBhdGguam9pbihiaW5EaXIsICd1di5leGUnKTtcblx0XHR9XG5cdFx0cmV0dXJuIHBhdGguam9pbihiaW5EaXIsICd1dicpO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBleGVjKGNvbW1hbmQ6IHN0cmluZywgYXJnczogc3RyaW5nW10pOiBQcm9taXNlPHN0cmluZz4ge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRjb25zdCBjaGlsZCA9IHNwYXduKGNvbW1hbmQsIGFyZ3MsIHsgc3RkaW86IFsnaWdub3JlJywgJ3BpcGUnLCAncGlwZSddIH0pO1xuXG5cdFx0XHRsZXQgc3Rkb3V0ID0gJyc7XG5cdFx0XHRsZXQgc3RkZXJyID0gJyc7XG5cblx0XHRcdGNoaWxkLnN0ZG91dD8ub24oJ2RhdGEnLCAoZGF0YSkgPT4ge1xuXHRcdFx0XHRzdGRvdXQgKz0gZGF0YS50b1N0cmluZygpO1xuXHRcdFx0fSk7XG5cblx0XHRcdGNoaWxkLnN0ZGVycj8ub24oJ2RhdGEnLCAoZGF0YSkgPT4ge1xuXHRcdFx0XHRzdGRlcnIgKz0gZGF0YS50b1N0cmluZygpO1xuXHRcdFx0fSk7XG5cblx0XHRcdGNoaWxkLm9uKCdjbG9zZScsIChjb2RlKSA9PiB7XG5cdFx0XHRcdGlmIChjb2RlID09PSAwKSB7XG5cdFx0XHRcdFx0cmVzb2x2ZShzdGRvdXQpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJlamVjdChuZXcgRXJyb3IoYENvbW1hbmQgZmFpbGVkOiAke2NvbW1hbmR9ICR7YXJncy5qb2luKCcgJyl9XFxuJHtzdGRlcnJ9YCkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0Y2hpbGQub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7XG5cdFx0XHRcdHJlamVjdChlcnJvcik7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgcGF0aEV4aXN0cyhmaWxlUGF0aDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG5cdFx0dHJ5IHtcblx0XHRcdGF3YWl0IGZzUHJvbWlzZXMuYWNjZXNzKGZpbGVQYXRoKTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0gY2F0Y2gge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgZGV0ZWN0TWlzbWF0Y2goc3RhdHVzOiB7XG5cdFx0ZGF0YUpzb25QeXRob246IHN0cmluZyB8IG51bGw7XG5cdFx0dmVudkV4aXN0czogYm9vbGVhbjtcblx0XHR2ZW52VmFsaWQ6IGJvb2xlYW47XG5cdFx0dmVudlBhdGg6IHN0cmluZztcblx0fSk6IHsgZGV0ZWN0ZWQ6IGJvb2xlYW47IGRlc2NyaXB0aW9uOiBzdHJpbmcgfSB7XG5cdFx0aWYgKCFzdGF0dXMudmVudkV4aXN0cykge1xuXHRcdFx0cmV0dXJuIHsgZGV0ZWN0ZWQ6IGZhbHNlLCBkZXNjcmlwdGlvbjogJycgfTtcblx0XHR9XG5cblx0XHRpZiAoIXN0YXR1cy52ZW52VmFsaWQpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGRldGVjdGVkOiB0cnVlLFxuXHRcdFx0XHRkZXNjcmlwdGlvbjogJ1ZpcnR1YWwgZW52aXJvbm1lbnQgZXhpc3RzIGJ1dCBpcyBpbnZhbGlkJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKHN0YXR1cy5kYXRhSnNvblB5dGhvbiAmJiBzdGF0dXMuZGF0YUpzb25QeXRob24gIT09IHN0YXR1cy52ZW52UGF0aCkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZGV0ZWN0ZWQ6IHRydWUsXG5cdFx0XHRcdGRlc2NyaXB0aW9uOiAnQ29uZmlndXJlZCBQeXRob24gcGF0aCBkb2VzIG5vdCBtYXRjaCB2ZW52IHBhdGgnLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBkZXRlY3RlZDogZmFsc2UsIGRlc2NyaXB0aW9uOiAnJyB9O1xuXHR9XG5cblx0cHJpdmF0ZSBnZXRQeXRob25DYW5kaWRhdGVzKCk6IHN0cmluZ1tdIHtcblx0XHRjb25zdCBwbGF0Zm9ybSA9IHByb2Nlc3MucGxhdGZvcm07XG5cdFx0aWYgKHBsYXRmb3JtID09PSAnd2luMzInKSB7XG5cdFx0XHRyZXR1cm4gWydweScsICdweXRob24nLCAncHl0aG9uMyddO1xuXHRcdH1cblx0XHRyZXR1cm4gWydweXRob24zJywgJ3B5dGhvbiddO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBkb3dubG9hZEZpbGUodXJsOiBzdHJpbmcsIGRlc3RQYXRoOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCBodHRwcyA9IHJlcXVpcmUoJ2h0dHBzJyk7XG5cdFx0Y29uc3QgZmlsZVN5c3RlbSA9IHJlcXVpcmUoJ2ZzJyk7XG5cblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0aHR0cHNcblx0XHRcdFx0LmdldCh1cmwsIChyZXNwb25zZTogYW55KSA9PiB7XG5cdFx0XHRcdFx0aWYgKHJlc3BvbnNlLnN0YXR1c0NvZGUgPT09IDMwMSB8fCByZXNwb25zZS5zdGF0dXNDb2RlID09PSAzMDIpIHtcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzLmRvd25sb2FkRmlsZShyZXNwb25zZS5oZWFkZXJzLmxvY2F0aW9uLCBkZXN0UGF0aClcblx0XHRcdFx0XHRcdFx0LnRoZW4ocmVzb2x2ZSlcblx0XHRcdFx0XHRcdFx0LmNhdGNoKHJlamVjdCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29uc3QgZmlsZVN0cmVhbSA9IGZpbGVTeXN0ZW0uY3JlYXRlV3JpdGVTdHJlYW0oZGVzdFBhdGgpO1xuXHRcdFx0XHRcdHJlc3BvbnNlLnBpcGUoZmlsZVN0cmVhbSk7XG5cblx0XHRcdFx0XHRmaWxlU3RyZWFtLm9uKCdmaW5pc2gnLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRmaWxlU3RyZWFtLmNsb3NlKCk7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKCk7XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRmaWxlU3RyZWFtLm9uKCdlcnJvcicsIChlcnI6IEVycm9yKSA9PiB7XG5cdFx0XHRcdFx0XHRmaWxlU3lzdGVtLnVubGluayhkZXN0UGF0aCwgKCkgPT4ge30pO1xuXHRcdFx0XHRcdFx0cmVqZWN0KGVycik7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5vbignZXJyb3InLCByZWplY3QpO1xuXHRcdH0pO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBleHRyYWN0WmlwKHppcFBhdGg6IHN0cmluZywgZGVzdERpcjogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3QgeyBleGVjIH0gPSByZXF1aXJlKCdjaGlsZF9wcm9jZXNzJyk7XG5cdFx0Y29uc3QgeyBwcm9taXNpZnkgfSA9IHJlcXVpcmUoJ3V0aWwnKTtcblx0XHRjb25zdCBleGVjQXN5bmMgPSBwcm9taXNpZnkoZXhlYyk7XG5cdFx0XG5cdFx0Y29uc3QgcGxhdGZvcm0gPSBwcm9jZXNzLnBsYXRmb3JtO1xuXHRcdGlmIChwbGF0Zm9ybSA9PT0gJ3dpbjMyJykge1xuXHRcdFx0YXdhaXQgZXhlY0FzeW5jKGBwb3dlcnNoZWxsIC1jb21tYW5kIFwiRXhwYW5kLUFyY2hpdmUgLVBhdGggJyR7emlwUGF0aH0nIC1EZXN0aW5hdGlvblBhdGggJyR7ZGVzdERpcn0nIC1Gb3JjZVwiYCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGF3YWl0IGV4ZWNBc3luYyhgdW56aXAgLW8gXCIke3ppcFBhdGh9XCIgLWQgXCIke2Rlc3REaXJ9XCJgKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIGV4dHJhY3RUYXIodGFyUGF0aDogc3RyaW5nLCBkZXN0RGlyOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCB0YXIgPSByZXF1aXJlKCd0YXInKTtcblx0XHRhd2FpdCB0YXIueCh7XG5cdFx0XHRmaWxlOiB0YXJQYXRoLFxuXHRcdFx0Y3dkOiBkZXN0RGlyLFxuXHRcdH0pO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyB2ZXJpZnlDaGVja3N1bShmaWxlUGF0aDogc3RyaW5nLCBleHBlY3RlZFNoYTI1Njogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdGNvbnN0IGhhc2ggPSBjcnlwdG8uY3JlYXRlSGFzaCgnc2hhMjU2Jyk7XG5cdFx0XHRjb25zdCBmaWxlU3lzdGVtID0gcmVxdWlyZSgnZnMnKTtcblx0XHRcdGNvbnN0IHN0cmVhbSA9IGZpbGVTeXN0ZW0uY3JlYXRlUmVhZFN0cmVhbShmaWxlUGF0aCk7XG5cblx0XHRcdHN0cmVhbS5vbignZGF0YScsIChkYXRhOiBCdWZmZXIpID0+IGhhc2gudXBkYXRlKGRhdGEgYXMgYW55KSk7XG5cdFx0XHRzdHJlYW0ub24oJ2VuZCcsICgpID0+IHJlc29sdmUoaGFzaC5kaWdlc3QoJ2hleCcpID09PSBleHBlY3RlZFNoYTI1NikpO1xuXHRcdFx0c3RyZWFtLm9uKCdlcnJvcicsIHJlamVjdCk7XG5cdFx0fSk7XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIGNoZWNrRGlza1NwYWNlKHRhcmdldFBhdGg6IHN0cmluZywgcmVxdWlyZWRNQjogbnVtYmVyKTogUHJvbWlzZTxib29sZWFuPiB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHBsYXRmb3JtID0gcHJvY2Vzcy5wbGF0Zm9ybTtcblx0XHRcdGNvbnN0IGRpciA9IGF3YWl0IGZzUHJvbWlzZXMuc3RhdCh0YXJnZXRQYXRoKS5jYXRjaCgoKSA9PiBudWxsKTtcblx0XHRcdGNvbnN0IGNoZWNrUGF0aCA9IGRpciA/IHRhcmdldFBhdGggOiBwYXRoLmRpcm5hbWUodGFyZ2V0UGF0aCk7XG5cblx0XHRcdGlmIChwbGF0Zm9ybSA9PT0gJ3dpbjMyJykge1xuXHRcdFx0XHRjb25zdCBvdXRwdXQgPSBhd2FpdCB0aGlzLmV4ZWMoJ3dtaWMnLCBbXG5cdFx0XHRcdFx0J2xvZ2ljYWxkaXNrJyxcblx0XHRcdFx0XHQnZ2V0Jyxcblx0XHRcdFx0XHQnZnJlZXNwYWNlLGNhcHRpb24nLFxuXHRcdFx0XHRdKTtcblx0XHRcdFx0Y29uc3QgZHJpdmUgPSBjaGVja1BhdGguY2hhckF0KDApLnRvVXBwZXJDYXNlKCk7XG5cdFx0XHRcdHRoaXMubG9nZ2VyLmluZm8oJ1tJTkZPXSBDaGVja2luZyBkaXNrIHNwYWNlIG9uIFdpbmRvd3MnLCB7IGRyaXZlLCBjaGVja1BhdGggfSk7XG5cdFx0XHRcdGNvbnN0IGxpbmVzID0gb3V0cHV0LnNwbGl0KCdcXG4nKTtcblx0XHRcdFx0Zm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XG5cdFx0XHRcdFx0aWYgKGxpbmUuaW5jbHVkZXMoZHJpdmUgKyAnOicpKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBwYXJ0cyA9IGxpbmUudHJpbSgpLnNwbGl0KC9cXHMrLyk7XG5cdFx0XHRcdFx0XHR0aGlzLmxvZ2dlci5pbmZvKCdbSU5GT10gRm91bmQgZHJpdmUgbGluZScsIHsgbGluZSwgcGFydHMgfSk7XG5cdFx0XHRcdFx0XHQvLyB3bWljIG91dHB1dDogQ2FwdGlvbiAgRnJlZVNwYWNlXG5cdFx0XHRcdFx0XHQvLyBQYXJ0czogW0NhcHRpb24sIEZyZWVTcGFjZV0gb3IgW0ZyZWVTcGFjZSwgQ2FwdGlvbl0gZGVwZW5kaW5nIG9uIGNvbHVtbiBvcmRlclxuXHRcdFx0XHRcdFx0Y29uc3QgZnJlZVNwYWNlID0gcGFyc2VJbnQocGFydHNbcGFydHMubGVuZ3RoID09PSAyID8gMSA6IDBdKTtcblx0XHRcdFx0XHRcdGNvbnN0IGhhc0Vub3VnaFNwYWNlID0gZnJlZVNwYWNlID49IHJlcXVpcmVkTUIgKiAxMDI0ICogMTAyNDtcblx0XHRcdFx0XHRcdHRoaXMubG9nZ2VyLmluZm8oJ1tJTkZPXSBEaXNrIHNwYWNlIGNhbGN1bGF0aW9uJywge1xuXHRcdFx0XHRcdFx0XHRmcmVlU3BhY2UsXG5cdFx0XHRcdFx0XHRcdHJlcXVpcmVkQnl0ZXM6IHJlcXVpcmVkTUIgKiAxMDI0ICogMTAyNCxcblx0XHRcdFx0XHRcdFx0aGFzRW5vdWdoU3BhY2Vcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGhhc0Vub3VnaFNwYWNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc3Qgb3V0cHV0ID0gYXdhaXQgdGhpcy5leGVjKCdkZicsIFsnLWsnLCBjaGVja1BhdGhdKTtcblx0XHRcdFx0Y29uc3QgbGluZXMgPSBvdXRwdXQuc3BsaXQoJ1xcbicpO1xuXHRcdFx0XHRpZiAobGluZXMubGVuZ3RoID4gMSkge1xuXHRcdFx0XHRcdGNvbnN0IHBhcnRzID0gbGluZXNbMV0udHJpbSgpLnNwbGl0KC9cXHMrLyk7XG5cdFx0XHRcdFx0Y29uc3QgZnJlZUtCID0gcGFyc2VJbnQocGFydHNbM10pO1xuXHRcdFx0XHRcdHJldHVybiBmcmVlS0IgPj0gcmVxdWlyZWRNQiAqIDEwMjQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5sb2dnZXIud2FybignW1dBUk5JTkddIENvdWxkIG5vdCBjaGVjayBkaXNrIHNwYWNlJywgeyBlcnJvciB9KTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIGluc3RhbGxEZXBzKG1ldGhvZDogJ3N5c3RlbScgfCAndXYnLCBhcHBEYXRhOiBzdHJpbmcsIHB5dGhvblBhdGg6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IHJlcVBhdGggPSBwYXRoLnJlc29sdmUodGhpcy5wbHVnaW5EaXIsICdtY3Atc2VydmVyJywgJ3JlcXVpcmVtZW50cy50eHQnKTtcblx0XHR0aGlzLmxvZ2dlci5pbmZvKCdbSU5GT10gSW5zdGFsbGluZyBkZXBlbmRlbmNpZXMnLCB7IHJlcVBhdGgsIHB5dGhvblBhdGgsIG1ldGhvZCB9KTtcblx0XHRcblx0XHRpZiAobWV0aG9kID09PSAndXYnKSB7XG5cdFx0XHRhd2FpdCB0aGlzLnJ1blV2KGFwcERhdGEsIFsncGlwJywgJ2luc3RhbGwnLCAnLS1weXRob24nLCBweXRob25QYXRoLCAnLXInLCByZXFQYXRoXSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGF3YWl0IHRoaXMuZXhlYyhweXRob25QYXRoLCBbJy1tJywgJ3BpcCcsICdpbnN0YWxsJywgJy0tdXBncmFkZScsICdwaXAnXSk7XG5cdFx0XHRhd2FpdCB0aGlzLmV4ZWMocHl0aG9uUGF0aCwgWyctbScsICdwaXAnLCAnaW5zdGFsbCcsICctcicsIHJlcVBhdGhdKTtcblx0XHR9XG5cdFx0XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHZlcnNpb24gPSBhd2FpdCB0aGlzLmV4ZWMocHl0aG9uUGF0aCwgWyctYycsIFwiaW1wb3J0IGltcG9ydGxpYi5tZXRhZGF0YTsgcHJpbnQoaW1wb3J0bGliLm1ldGFkYXRhLnZlcnNpb24oJ2dyYXBoaXRpLWNvcmUnKSlcIl0pO1xuXHRcdFx0dGhpcy5sb2dnZXIuaW5mbygnW1NVQ0NFU1NdIGdyYXBoaXRpLWNvcmUgaW5zdGFsbGVkJywgeyB2ZXJzaW9uOiB2ZXJzaW9uLnRyaW0oKSB9KTtcblx0XHR9IGNhdGNoIHtcblx0XHRcdHRoaXMubG9nZ2VyLndhcm4oJ1tXQVJOSU5HXSBDb3VsZCBub3QgZGV0ZXJtaW5lIGdyYXBoaXRpLWNvcmUgdmVyc2lvbicpO1xuXHRcdH1cblx0fVxuXHRnZXRQeXRob25FbnYoKTogTm9kZUpTLlByb2Nlc3NFbnYge1xuXHRcdGNvbnN0IGFwcERhdGEgPSB0aGlzLmdldEFwcERhdGFQYXRoKCk7XG5cdFx0Y29uc3QgdmVudlBhdGggPSBwYXRoLmpvaW4oYXBwRGF0YSwgJ3ZlbnYnKTtcblx0XHRjb25zdCB2ZW52QmluRGlyID0gcHJvY2Vzcy5wbGF0Zm9ybSA9PT0gJ3dpbjMyJ1xuXHRcdFx0PyBwYXRoLmpvaW4odmVudlBhdGgsICdTY3JpcHRzJylcblx0XHRcdDogcGF0aC5qb2luKHZlbnZQYXRoLCAnYmluJyk7XG5cblx0XHRjb25zdCBweXRob25QYXRoID0gdGhpcy5wbHVnaW5EaXIgKyBwYXRoLmRlbGltaXRlciArIChwcm9jZXNzLmVudi5QWVRIT05QQVRIIHx8ICcnKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5wcm9jZXNzLmVudixcblx0XHRcdFBBVEg6IGAke3ZlbnZCaW5EaXJ9JHtwYXRoLmRlbGltaXRlcn0ke3Byb2Nlc3MuZW52LlBBVEh9YCxcblx0XHRcdFBZVEhPTlBBVEg6IHB5dGhvblBhdGgsXG5cdFx0XHRQWVRIT05fRVhFQ1VUQUJMRTogdGhpcy5nZXRWZW52UHl0aG9uKHZlbnZQYXRoKVxuXHRcdH07XG5cdH1cblxuXHRnZXRQeXRob25FeGVjdXRhYmxlKCk6IHN0cmluZyB7XG5cdFx0Y29uc3QgYXBwRGF0YSA9IHRoaXMuZ2V0QXBwRGF0YVBhdGgoKTtcblx0XHRjb25zdCB2ZW52UGF0aCA9IHBhdGguam9pbihhcHBEYXRhLCAndmVudicpO1xuXHRcdHJldHVybiB0aGlzLmdldFZlbnZQeXRob24odmVudlBhdGgpO1xuXHR9XG5cbn1cblxuLy8gQHZlc3NlbC1jbG9zZTpIZWltZGFsbCIsImltcG9ydCB7IHNwYXduLCBDaGlsZFByb2Nlc3MgfSBmcm9tICdjaGlsZF9wcm9jZXNzJztcclxuaW1wb3J0IHsgTm90aWNlLCBQbHVnaW4sIFRGaWxlLCBUQWJzdHJhY3RGaWxlIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gJ3BhdGgnOyAvLyBDUklUSUNBTCBGSVg6IGZvciBwYXRoIG5vcm1hbGl6YXRpb24gaW4gcHJldmlvdXNfZXBpc29kZV91dWlkcyByZXRyaWV2YWxcclxuaW1wb3J0IHR5cGUgeyBHcmFwaGl0aVBsdWdpblNldHRpbmdzIH0gZnJvbSAnLi4vdHlwZXMvU2V0dGluZ3MnO1xyXG5pbXBvcnQgeyBqb2luIH0gZnJvbSAncGF0aCc7XHJcbmltcG9ydCB7IFNjaGVtYURpc2NvdmVyeVNlcnZpY2UgfSBmcm9tICcuL1NjaGVtYURpc2NvdmVyeVNlcnZpY2UnO1xyXG5pbXBvcnQgeyBOb3RlU2VsZWN0aW9uU2VydmljZSwgdHlwZSBOb3RlRmlsdGVyQ3JpdGVyaWEgfSBmcm9tICcuL05vdGVTZWxlY3Rpb25TZXJ2aWNlJztcclxuaW1wb3J0IHsgR3JhcGhpdGlMb2dnZXIgfSBmcm9tICcuLi91dGlscy9Mb2dnZXInO1xyXG5pbXBvcnQgeyBTeW5jUmVnaXN0cnlTZXJ2aWNlIH0gZnJvbSAnLi9TeW5jUmVnaXN0cnlTZXJ2aWNlJztcclxuaW1wb3J0IHsgU3luY1N0YXR1c01hbmFnZXIgfSBmcm9tICcuL1N5bmNTdGF0dXNNYW5hZ2VyJzsgLy8gTmVlZGVkIHRvIHJldXNlIGdlbmVyYXRlRXBpc29kZUlkXHJcbmltcG9ydCB7IFZhdWx0UmVnaXN0cnlTZXJ2aWNlIH0gZnJvbSAnLi9WYXVsdFJlZ2lzdHJ5U2VydmljZSc7IC8vIEltcG9ydCBWYXVsdFJlZ2lzdHJ5U2VydmljZVxyXG5pbXBvcnQgdHlwZSB7IFZhdWx0UGF0aHMgfSBmcm9tICcuLi90eXBlcy9QYXRoJzsgLy8gSW1wb3J0IFZhdWx0UGF0aHMgaW50ZXJmYWNlXHJcbmltcG9ydCB7IHBlcmZvcm1hbmNlIH0gZnJvbSAncGVyZl9ob29rcyc7IC8vIEltcG9ydCBwZXJmb3JtYW5jZSBmb3IgdGltaW5nXHJcbmltcG9ydCAqIGFzIEZyb250bWF0dGVyVXRpbHMgZnJvbSAnLi4vdXRpbHMvRnJvbnRtYXR0ZXJVdGlscyc7IC8vIEltcG9ydCBmb3IgbW1fdWlkIG1hbmFnZW1lbnRcclxuaW1wb3J0IHsgTUNQRm9sZGVyUmVzb2x2ZXIsIHR5cGUgRm9sZGVyUmVzb2x1dGlvblJlc3VsdCB9IGZyb20gJy4vTUNQRm9sZGVyUmVzb2x2ZXInO1xyXG5pbXBvcnQgeyBQeXRob25JbnN0YWxsZXIgfSBmcm9tICcuL1B5dGhvbkluc3RhbGxlcic7XHJcblxyXG4vKipcclxuICogSW50ZXJmYWNlIGZvciBlbnRpdHkgZGVzY3JpcHRpb25zIGluIGRhdGEuanNvblxyXG4gKi9cclxuaW50ZXJmYWNlIEVudGl0eURlc2NyaXB0aW9uIHtcclxuICAgIGNsYXNzTmFtZTogc3RyaW5nO1xyXG4gICAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICAgIGlzVXNlckRlZmluZWQ6IGJvb2xlYW47XHJcbiAgICBzb3VyY2U6IFwidXNlclwiIHwgXCJsbG1cIiB8IFwiZGlzY292ZXJ5XCI7XHJcbiAgICBsYXN0TW9kaWZpZWQ6IHN0cmluZztcclxufVxyXG5cclxuLyoqXHJcbiAqIEludGVyZmFjZSBmb3IgcHJvcGVydHkgZGVzY3JpcHRpb25zIGluIGRhdGEuanNvblxyXG4gKi9cclxuaW50ZXJmYWNlIFByb3BlcnR5RGVzY3JpcHRpb24ge1xyXG4gICAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICAgIGZpZWxkVHlwZTogc3RyaW5nO1xyXG4gICAgaXNVc2VyRGVmaW5lZDogYm9vbGVhbjtcclxuICAgIHNvdXJjZTogXCJ1c2VyXCIgfCBcImxsbVwiIHwgXCJkaXNjb3ZlcnlcIjtcclxuICAgIGxhc3RNb2RpZmllZDogc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogSW50ZXJmYWNlIGZvciB0aGUgY29tcGxldGUgZGF0YS5qc29uIHN0cnVjdHVyZVxyXG4gKi9cclxuaW50ZXJmYWNlIFBsdWdpbkRhdGFTdHJ1Y3R1cmUge1xyXG4gICAgZW50aXR5RGVzY3JpcHRpb25zOiBSZWNvcmQ8c3RyaW5nLCBFbnRpdHlEZXNjcmlwdGlvbj47XHJcbiAgICBwcm9wZXJ0eURlc2NyaXB0aW9uczogUmVjb3JkPHN0cmluZywgUmVjb3JkPHN0cmluZywgUHJvcGVydHlEZXNjcmlwdGlvbj4+O1xyXG4gICAgW2tleTogc3RyaW5nXTogYW55OyAvLyBBbGxvdyBvdGhlciBwcm9wZXJ0aWVzXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb25maWd1cmF0aW9uIGZvciBHcmFwaGl0aVNlcnZpY2Ugc3luYyBvcGVyYXRpb25zXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFN5bmNDb25maWcge1xyXG4gICAgbm90ZXNQYXRoczogc3RyaW5nW107XHJcbiAgICBiYXRjaFNpemU6IG51bWJlcjtcclxuICAgIGRlYnVnOiBib29sZWFuO1xyXG4gICAgbW9kZWxzUGF0aD86IHN0cmluZztcclxuICAgIHNvdXJjZV9kZXNjcmlwdGlvbj86IHN0cmluZztcclxuICAgIHByZXZpb3VzX2VwaXNvZGVfdXVpZHM/OiBzdHJpbmdbXTtcclxuICAgIGNyb3NzRW5jb2RlckNsaWVudD86IHN0cmluZztcclxuICAgIGNyb3NzRW5jb2Rlck1vZGVsPzogc3RyaW5nO1xyXG4gICAgZm9sZGVyTmFtZXNwYWNlTWFwcGluZ3M/OiBhbnlbXTtcclxuICAgIHVzZV9jdXN0b21fb250b2xvZ3k/OiBib29sZWFuO1xyXG59XHJcblxyXG4vKipcclxuICogUHJvZ3Jlc3MgY2FsbGJhY2sgZm9yIHN5bmMgb3BlcmF0aW9uc1xyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBTeW5jUHJvZ3Jlc3Mge1xyXG4gICAgY3VycmVudDogbnVtYmVyO1xyXG4gICAgdG90YWw6IG51bWJlcjtcclxuICAgIG1lc3NhZ2U6IHN0cmluZztcclxuICAgIHBlcmNlbnRhZ2U6IG51bWJlcjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlc3VsdCBvZiBhIHN5bmMgb3BlcmF0aW9uXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFN5bmNSZXN1bHQge1xyXG4gICAgc3RhdHVzOiAnc3VjY2VzcycgfCAnZXJyb3InO1xyXG4gICAgcHJvY2Vzc2VkOiBudW1iZXI7XHJcbiAgICBza2lwcGVkOiBudW1iZXI7XHJcbiAgICB0b3RhbDogbnVtYmVyO1xyXG4gICAgYmF0Y2hDb3VudDogbnVtYmVyO1xyXG4gICAgbm9kZVR5cGVzTG9hZGVkOiBudW1iZXI7XHJcbiAgICBlZGdlVHlwZXNMb2FkZWQ6IG51bWJlcjtcclxuICAgIGVycm9ycz86IHN0cmluZ1tdO1xyXG4gICAgaGFzRXJyb3JzPzogYm9vbGVhbjtcclxuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XHJcbiAgICAvLyBOZXN0ZWQgc3VtbWFyeSBvYmplY3QgZm9yIFB5dGhvbiBzY3JpcHQgY29tcGF0aWJpbGl0eVxyXG4gICAgc3VtbWFyeT86IHtcclxuICAgICAgICBwcm9jZXNzZWQ6IG51bWJlcjtcclxuICAgICAgICBza2lwcGVkOiBudW1iZXI7XHJcbiAgICAgICAgdG90YWw6IG51bWJlcjtcclxuICAgIH07XHJcbiAgICAvLyBFbmhhbmNlZCBlcnJvciBkZXRhaWxzIGZvciBkZWJ1Z2dpbmdcclxuICAgIHB5dGhvblN0ZG91dD86IHN0cmluZztcclxuICAgIHB5dGhvblN0ZGVycj86IHN0cmluZztcclxuICAgIGV4aXRDb2RlPzogbnVtYmVyO1xyXG4gICAgZnVsbEVycm9yRGV0YWlscz86IGFueTtcclxuICAgbm90ZXM/OiBBcnJheTx7IG5vdGVfcGF0aDogc3RyaW5nOyBlcGlzb2RlX3V1aWQ6IHN0cmluZzsgfT47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXJ2aWNlIGZvciBtYW5hZ2luZyBjb21tdW5pY2F0aW9uIHdpdGggdGhlIEdyYXBoaXRpIFB5dGhvbiBicmlkZ2VcclxuICovXHJcbmV4cG9ydCBjbGFzcyBHcmFwaGl0aVNlcnZpY2Uge1xyXG4gICAgcHJpdmF0ZSBwbHVnaW46IFBsdWdpbjtcclxuICAgIHByaXZhdGUgc2V0dGluZ3M6IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3M7XHJcbiAgICBwcml2YXRlIHB5dGhvblByb2Nlc3M6IENoaWxkUHJvY2VzcyB8IG51bGwgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBtY3BTZXJ2ZXJQcm9jZXNzOiBDaGlsZFByb2Nlc3MgfCBudWxsID0gbnVsbDtcclxuICAgIHByaXZhdGUgYWN0aXZlUHJvY2Vzc2VzOiBTZXQ8Q2hpbGRQcm9jZXNzPiA9IG5ldyBTZXQoKTtcclxuICAgIHByaXZhdGUgaXNDYW5jZWxsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgc2NoZW1hU2VydmljZTogU2NoZW1hRGlzY292ZXJ5U2VydmljZTtcclxuICAgIHByaXZhdGUgbm90ZVNlbGVjdGlvblNlcnZpY2U6IE5vdGVTZWxlY3Rpb25TZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBsb2dnZXI6IEdyYXBoaXRpTG9nZ2VyO1xyXG4gICAgcHJpdmF0ZSBzeW5jUmVnaXN0cnlTZXJ2aWNlOiBTeW5jUmVnaXN0cnlTZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBzeW5jU3RhdHVzTWFuYWdlcjogU3luY1N0YXR1c01hbmFnZXI7IC8vIFRvIHJldXNlIGdlbmVyYXRlRXBpc29kZUlkXHJcbiAgICBwcml2YXRlIHZhdWx0UmVnaXN0cnlTZXJ2aWNlOiBWYXVsdFJlZ2lzdHJ5U2VydmljZTsgLy8gSW5qZWN0IFZhdWx0UmVnaXN0cnlTZXJ2aWNlXHJcbiAgICBwcml2YXRlIG1jcEZvbGRlclJlc29sdmVyPzogTUNQRm9sZGVyUmVzb2x2ZXI7IC8vIE1DUCBmb2xkZXIgcmVzb2x1dGlvbiBzZXJ2aWNlXHJcbiAgICBwcml2YXRlIHB5dGhvbkluc3RhbGxlcjogUHl0aG9uSW5zdGFsbGVyO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcHJvcGVydHkge01hcDxzdHJpbmcsIFZhdWx0UGF0aHM+fSBwYXRoQ2FjaGUgLSBDYWNoZSBmb3IgdmF1bHQtc3BlY2lmaWMgcmVzb2x2ZWQgcGF0aHMsIGtleWVkIGJ5IHZhdWx0IElELlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHBhdGhDYWNoZTogTWFwPHN0cmluZywgVmF1bHRQYXRocz4gPSBuZXcgTWFwKCk7XHJcbiAgICAvKipcclxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjYWNoZUhpdHMgLSBDb3VudGVyIGZvciBzdWNjZXNzZnVsIGxvb2t1cHMgaW4gdGhlIHBhdGggY2FjaGUuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgY2FjaGVIaXRzOiBudW1iZXIgPSAwO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gY2FjaGVNaXNzZXMgLSBDb3VudGVyIGZvciBmYWlsZWQgbG9va3VwcyAoY2FjaGUgbWlzc2VzKSBpbiB0aGUgcGF0aCBjYWNoZS5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjYWNoZU1pc3NlczogbnVtYmVyID0gMDtcclxuICAgIC8qKlxyXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGxhc3RDYWNoZUxvZ1RpbWUgLSBUaW1lc3RhbXAgdG8gdGhyb3R0bGUgY2FjaGUgaGVhbHRoIGxvZ2dpbmcuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgbGFzdENhY2hlTG9nVGltZTogbnVtYmVyID0gMDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEludmFsaWRhdGVzIHRoZSBwYXRoIGNhY2hlLlxyXG4gICAgICogSWYgYSBgdmF1bHRJZGAgaXMgcHJvdmlkZWQsIG9ubHkgdGhhdCB2YXVsdCdzIHBhdGhzIGFyZSByZW1vdmVkIGZyb20gdGhlIGNhY2hlLlxyXG4gICAgICogSWYgbm8gYHZhdWx0SWRgIGlzIHByb3ZpZGVkLCB0aGUgZW50aXJlIGNhY2hlIGlzIGNsZWFyZWQuXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBjcnVjaWFsIGZvciBtYWludGFpbmluZyBkYXRhIGZyZXNobmVzcyB3aGVuIHRoZSBhY3RpdmUgdmF1bHQgY2hhbmdlcyBvclxyXG4gICAgICogdGhlIHZhdWx0IHJlZ2lzdHJ5IGlzIHVwZGF0ZWQsIHByZXZlbnRpbmcgdGhlIHVzZSBvZiBzdGFsZSBwYXRoIGluZm9ybWF0aW9uLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt2YXVsdElkXSAtIFRoZSBJRCBvZiB0aGUgdmF1bHQgd2hvc2UgY2FjaGUgZW50cnkgc2hvdWxkIGJlIGludmFsaWRhdGVkLiBPcHRpb25hbC5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBpbnZhbGlkYXRlUGF0aENhY2hlKHZhdWx0SWQ/OiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBpZiAodmF1bHRJZCkge1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgc3BlY2lmaWMgdmF1bHQncyBjYWNoZSBlbnRyeVxyXG4gICAgICAgICAgICB0aGlzLnBhdGhDYWNoZS5kZWxldGUodmF1bHRJZCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBbUEFUSFNdIEludmFsaWRhdGVkIGNhY2hlIGZvciB2YXVsdDogJHt2YXVsdElkfWApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIENsZWFyIGVudGlyZSBwYXRoIGNhY2hlXHJcbiAgICAgICAgICAgIHRoaXMucGF0aENhY2hlLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbUEFUSFNdIENsZWFyZWQgZW50aXJlIHBhdGggY2FjaGUnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcGx1Z2luOiBQbHVnaW4sXHJcbiAgICAgICAgc2V0dGluZ3M6IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3MsXHJcbiAgICAgICAgc3luY1JlZ2lzdHJ5U2VydmljZTogU3luY1JlZ2lzdHJ5U2VydmljZSxcclxuICAgICAgICBzeW5jU3RhdHVzTWFuYWdlcjogU3luY1N0YXR1c01hbmFnZXIsXHJcbiAgICAgICAgdmF1bHRSZWdpc3RyeVNlcnZpY2U6IFZhdWx0UmVnaXN0cnlTZXJ2aWNlIC8vIEFkZCBWYXVsdFJlZ2lzdHJ5U2VydmljZSB0byBjb25zdHJ1Y3RvclxyXG4gICAgKSB7XHJcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xyXG4gICAgICAgIHRoaXMuc2NoZW1hU2VydmljZSA9IG5ldyBTY2hlbWFEaXNjb3ZlcnlTZXJ2aWNlKHBsdWdpbi5hcHApO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyID0gbmV3IEdyYXBoaXRpTG9nZ2VyKHBsdWdpbiwgc2V0dGluZ3MuZW5hYmxlRGVidWdMb2dnaW5nKTtcclxuICAgICAgICB0aGlzLm5vdGVTZWxlY3Rpb25TZXJ2aWNlID0gbmV3IE5vdGVTZWxlY3Rpb25TZXJ2aWNlKHBsdWdpbi5hcHAsIHBsdWdpbiwgdGhpcy5sb2dnZXIpO1xyXG4gICAgICAgIHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZSA9IHN5bmNSZWdpc3RyeVNlcnZpY2U7XHJcbiAgICAgICAgdGhpcy5zeW5jU3RhdHVzTWFuYWdlciA9IHN5bmNTdGF0dXNNYW5hZ2VyO1xyXG4gICAgICAgIHRoaXMudmF1bHRSZWdpc3RyeVNlcnZpY2UgPSB2YXVsdFJlZ2lzdHJ5U2VydmljZTsgLy8gQXNzaWduIFZhdWx0UmVnaXN0cnlTZXJ2aWNlXHJcbiAgICAgICAgdGhpcy5weXRob25JbnN0YWxsZXIgPSBuZXcgUHl0aG9uSW5zdGFsbGVyKFxyXG4gICAgICAgICAgICBwbHVnaW4sXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0UGx1Z2luRGlyZWN0b3J5KCksXHJcbiAgICAgICAgICAgIHsgcHl0aG9uUGF0aDogc2V0dGluZ3MucHl0aG9uUGF0aCB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gTG9nIGluaXRpYWxpemF0aW9uXHJcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnR3JhcGhpdGlTZXJ2aWNlIGluaXRpYWxpemVkJyk7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nU3lzdGVtSW5mbygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlIHNldHRpbmdzIGZvciB0aGUgc2VydmljZVxyXG4gICAgICovXHJcbiAgICB1cGRhdGVTZXR0aW5ncyhzZXR0aW5nczogR3JhcGhpdGlQbHVnaW5TZXR0aW5ncyk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcclxuICAgICAgICB0aGlzLmxvZ2dlci5zZXREZWJ1ZyhzZXR0aW5ncy5lbmFibGVEZWJ1Z0xvZ2dpbmcpO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdTZXR0aW5ncyB1cGRhdGVkIGluIEdyYXBoaXRpU2VydmljZScsIHsgZGVidWdNb2RlOiBzZXR0aW5ncy5lbmFibGVEZWJ1Z0xvZ2dpbmcgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgY3VycmVudCBlbWJlZGRpbmcgZGltZW5zaW9ucyBiYXNlZCBvbiBwcm92aWRlciB3aXRoIHByb3BlciBkZWZhdWx0c1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldEN1cnJlbnRFbWJlZGRpbmdEaW1lbnNpb25zKCk6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlciA9PT0gJ29sbGFtYScpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFN0cmluZyh0aGlzLnNldHRpbmdzLm9sbGFtYUVtYmVkZGluZ0RpbSB8fCA3NjgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIE5vbi1PbGxhbWEgcHJvdmlkZXJzIHR5cGljYWxseSB1c2UgMTUzNiBkaW1lbnNpb25zXHJcbiAgICAgICAgICAgIC8vIE9wZW5BSSB0ZXh0LWVtYmVkZGluZy0zLXNtYWxsOiAxNTM2LCBWb3lhZ2U6IDE1MzYsIEdvb2dsZTogdmFyaWVzIGJ1dCBjb21tb25seSA3NjgtMTUzNlxyXG4gICAgICAgICAgICByZXR1cm4gJzE1MzYnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlZ2lzdGVyIHZhdWx0IGNoYW5nZSBsaXN0ZW5lcnMgZm9yIGNhY2hlIGludmFsaWRhdGlvblxyXG4gICAgICovXHJcbiAgICBhc3luYyBpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIC8vIExpc3RlbiBmb3IgYWN0aXZlIHZhdWx0IGNoYW5nZXNcclxuICAgICAgICB0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlLm9uQWN0aXZlVmF1bHRDaGFuZ2UoKG5ld1ZhdWx0SWQpID0+IHtcclxuICAgICAgICAgICAgaWYgKG5ld1ZhdWx0SWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZVBhdGhDYWNoZShuZXdWYXVsdElkKTsgLy8gSW52YWxpZGF0ZSBvbmx5IHRoZSBzcGVjaWZpYyB2YXVsdCdzIGNhY2hlXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmludmFsaWRhdGVQYXRoQ2FjaGUoKTsgLy8gQ2xlYXIgYWxsIGlmIG5vIHNwZWNpZmljIHZhdWx0IGlzIGFjdGl2ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFByZS1jYWNoZSBwYXRocyBmb3IgdGhlIG5ldyBhY3RpdmUgdmF1bHRcclxuICAgICAgICAgICAgdGhpcy5nZXRWYXVsdEF3YXJlUGF0aHMobmV3VmF1bHRJZCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIExpc3RlbiBmb3IgZ2VuZXJhbCB2YXVsdCByZWdpc3RyeSB1cGRhdGVzIChlLmcuLCB2YXVsdCBhZGRlZC9yZW1vdmVkKVxyXG4gICAgICAgIHRoaXMudmF1bHRSZWdpc3RyeVNlcnZpY2Uub25SZWdpc3RyeVVwZGF0ZSgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZVBhdGhDYWNoZSgpOyAvLyBDbGVhciBhbGwgb24gYW55IHJlZ2lzdHJ5IGNoYW5nZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBQcmUtY2FjaGUgY3VycmVudCB2YXVsdCBwYXRocyBvbiBpbml0aWFsaXphdGlvblxyXG4gICAgICAgIGNvbnN0IGFjdGl2ZVZhdWx0SWQgPSB0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlLmdldEFjdGl2ZVZhdWx0SWQoKTtcclxuICAgICAgICBpZiAoYWN0aXZlVmF1bHRJZCkge1xyXG4gICAgICAgICAgICB0aGlzLmdldFZhdWx0QXdhcmVQYXRocyhhY3RpdmVWYXVsdElkKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmdldFZhdWx0QXdhcmVQYXRocyhudWxsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEluaXRpYWxpemUgTUNQIGZvbGRlciByZXNvbHZlclxyXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZU1DUFRvb2xzU2VydmljZXMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpemUgTUNQIHRvb2xzIHNlcnZpY2VzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgaW5pdGlhbGl6ZU1DUFRvb2xzU2VydmljZXMoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5tY3BGb2xkZXJSZXNvbHZlciA9IG5ldyBNQ1BGb2xkZXJSZXNvbHZlcihcclxuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncyxcclxuICAgICAgICAgICAgdGhpcy5wbHVnaW4uYXBwLFxyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlclxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ01DUCB0b29scyBzZXJ2aWNlcyBpbml0aWFsaXplZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0UHl0aG9uRXhlY3V0YWJsZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIC8vIFVzZSBjYWNoZWQvc3luY2hyb25vdXMgYXBwcm9hY2ggLSB3aWxsIGJlIHVwZGF0ZWQgZm9yIGFzeW5jIHBhdHRlcm4gbGF0ZXJcclxuICAgICAgICByZXR1cm4gdGhpcy5weXRob25JbnN0YWxsZXIuZ2V0UHl0aG9uRW52KCkuUFlUSE9OX0VYRUNVVEFCTEUgfHwgJ3B5dGhvbic7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRQeXRob25FbnYoKTogTm9kZUpTLlByb2Nlc3NFbnYge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnB5dGhvbkluc3RhbGxlci5nZXRQeXRob25FbnYoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ldGhvZCBmb3IgTUNQIHNlcnZlciB0byByZXF1ZXN0IGZvbGRlciByZXNvbHV0aW9uXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHJlc29sdmVNQ1BOb3RlRm9sZGVyKFxyXG4gICAgICAgIG5vdGVUeXBlOiAnZGFpbHknIHwgJ3dlZWtseScgfCAnbW9udGhseScgfCAncXVhcnRlcmx5JyB8ICd5ZWFybHknIHwgJ3RlbXBsYXRlJyB8ICdnZW5lcmljJyxcclxuICAgICAgICB0ZW1wbGF0ZU5hbWU/OiBzdHJpbmcsXHJcbiAgICAgICAgdGFyZ2V0Rm9sZGVyPzogc3RyaW5nXHJcbiAgICApOiBQcm9taXNlPEZvbGRlclJlc29sdXRpb25SZXN1bHQ+IHtcclxuICAgICAgICBpZiAoIXRoaXMubWNwRm9sZGVyUmVzb2x2ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplTUNQVG9vbHNTZXJ2aWNlcygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubWNwRm9sZGVyUmVzb2x2ZXIhLnJlc29sdmVGb2xkZXJGb3JOb3RlKFxyXG4gICAgICAgICAgICBub3RlVHlwZSxcclxuICAgICAgICAgICAgdGVtcGxhdGVOYW1lLFxyXG4gICAgICAgICAgICB0YXJnZXRGb2xkZXJcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIFN5bmMgbm90ZXMgcmVzcGVjdGluZyBhbGwgcGx1Z2luIHNldHRpbmdzIChwcmltYXJ5IHN5bmMgbWV0aG9kKVxyXG4gICAgICovXHJcbiAgICBhc3luYyBzeW5jTm90ZXNXaXRoU2V0dGluZ3MoXHJcbiAgICAgICAgbm90ZXNQYXRocz86IHN0cmluZ1tdLFxyXG4gICAgICAgIG9uUHJvZ3Jlc3M/OiAocHJvZ3Jlc3M6IFN5bmNQcm9ncmVzcykgPT4gdm9pZCxcclxuICAgICAgICBzb3VyY2VfZGVzY3JpcHRpb246IHN0cmluZyA9ICdvYnNpZGlhbl9tbV9pbmRpdmlkdWFsJ1xyXG4gICAgKTogUHJvbWlzZTxTeW5jUmVzdWx0PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gVXNlIHByb3ZpZGVkIG5vdGVzIG9yIGdldCBmaWx0ZXJlZCBub3RlcyBmcm9tIHNldHRpbmdzXHJcbiAgICAgICAgICAgIGxldCBub3Rlc1RvU3luYzogc3RyaW5nW107XHJcbiAgICAgICAgICAgIGlmIChub3Rlc1BhdGhzKSB7XHJcbiAgICAgICAgICAgICAgICBub3Rlc1RvU3luYyA9IG5vdGVzUGF0aHM7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBHZXQgbm90ZXMgYmFzZWQgb24gc3luYyBvcHRpb25zIHNldHRpbmdcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnN5bmNPcHRpb25zID09PSAnbmV3X29ubHknKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IG9ubHkgbmV3IG5vdGVzIGZvciBhdXRvLXN5bmNcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdOb3RlcyA9IGF3YWl0IHRoaXMubm90ZVNlbGVjdGlvblNlcnZpY2UuZ2V0Tm90ZXNGb3JBdXRvU3luYygpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vdGVzVG9TeW5jID0gbmV3Tm90ZXMubWFwKG5vdGUgPT4gbm90ZS5wYXRoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IGFsbCBub3RlcyB0aGF0IHNob3VsZCBiZSBzeW5jZWQgYmFzZWQgb24gc2V0dGluZ3MgKG5ldyBhbmQgdXBkYXRlZClcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJlZE5vdGVzID0gYXdhaXQgdGhpcy5ub3RlU2VsZWN0aW9uU2VydmljZS5nZXRGaWx0ZXJlZFN5bmNhYmxlTm90ZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBub3Rlc1RvU3luYyA9IGZpbHRlcmVkTm90ZXMubWFwKG5vdGUgPT4gbm90ZS5wYXRoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKG5vdGVzVG9TeW5jLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHNraXBwZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWw6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2hDb3VudDogMCxcclxuICAgICAgICAgICAgICAgICAgICBub2RlVHlwZXNMb2FkZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZWRnZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdObyBub3RlcyBhdmFpbGFibGUgZm9yIHN5bmMgYWZ0ZXIgYXBwbHlpbmcgc2V0dGluZ3MgZmlsdGVycydcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBzeW5jIGNvbmZpZyBiYXNlZCBvbiBzZXR0aW5nc1xyXG4gICAgICAgICAgICBjb25zdCBjb25maWc6IFN5bmNDb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICBub3Rlc1BhdGhzOiBub3Rlc1RvU3luYyxcclxuICAgICAgICAgICAgICAgIGJhdGNoU2l6ZTogdGhpcy5zZXR0aW5ncy5iYXRjaFNpemUgfHwgMTAsXHJcbiAgICAgICAgICAgICAgICBkZWJ1ZzogdGhpcy5zZXR0aW5ncy5lbmFibGVEZWJ1Z0xvZ2dpbmcsXHJcbiAgICAgICAgICAgICAgICBzb3VyY2VfZGVzY3JpcHRpb246IHNvdXJjZV9kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgIGNyb3NzRW5jb2RlckNsaWVudDogdGhpcy5zZXR0aW5ncy5jcm9zc0VuY29kZXJDbGllbnQsXHJcbiAgICAgICAgICAgICAgICBjcm9zc0VuY29kZXJNb2RlbDogdGhpcy5zZXR0aW5ncy5jcm9zc0VuY29kZXJNb2RlbCxcclxuICAgICAgICAgICAgICAgIHVzZV9jdXN0b21fb250b2xvZ3k6IHRoaXMuc2V0dGluZ3MudXNlQ3VzdG9tT250b2xvZ3lcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1N0YXJ0aW5nIHNldHRpbmdzLWJhc2VkIHN5bmMnLCB7XHJcbiAgICAgICAgICAgICAgICB0b3RhbE5vdGVzOiBub3Rlc1RvU3luYy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBiYXRjaFNpemU6IGNvbmZpZy5iYXRjaFNpemUsXHJcbiAgICAgICAgICAgICAgICBpbmNsdWRlZEZvbGRlcnM6IHRoaXMuc2V0dGluZ3MuaW5jbHVkZWRGb2xkZXJzLFxyXG4gICAgICAgICAgICAgICAgZXhjbHVkZWRGb2xkZXJzOiB0aGlzLnNldHRpbmdzLmV4Y2x1ZGVkRm9sZGVyc1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuc3luY05vdGVzKGNvbmZpZywgb25Qcm9ncmVzcywgc291cmNlX2Rlc2NyaXB0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFNZTkNfQ09NUExFVEU6IHN5bmNOb3Rlc1dpdGhTZXR0aW5ncygpIGZpbmlzaGVkIC0gc3RhdHVzOiAke3Jlc3VsdC5zdGF0dXN9LCBwcm9jZXNzZWQ6ICR7cmVzdWx0LnByb2Nlc3NlZH0sIHNraXBwZWQ6ICR7cmVzdWx0LnNraXBwZWR9LCB0b3RhbDogJHtyZXN1bHQudG90YWx9LCBiYXRjaGVzOiAke3Jlc3VsdC5iYXRjaENvdW50fWApO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignU2V0dGluZ3MtYmFzZWQgc3luYyBmYWlsZWQnLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicsXHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICBza2lwcGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgdG90YWw6IDAsXHJcbiAgICAgICAgICAgICAgICBiYXRjaENvdW50OiAwLFxyXG4gICAgICAgICAgICAgICAgbm9kZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgZWRnZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQXV0by1zeW5jIGJhc2VkIG9uIHBsdWdpbiBzZXR0aW5ncyAodXNlZCBieSBzYXZlIHRyaWdnZXJzIGFuZCBzY2hlZHVsaW5nKVxyXG4gICAgICovXHJcbiAgICBhc3luYyBhdXRvU3luYyh0cmlnZ2VyVHlwZTogJ3NhdmUnIHwgJ3NjaGVkdWxlZCcgfCAnbWFudWFsJyk6IFByb21pc2U8U3luY1Jlc3VsdD4ge1xyXG4gICAgICAgIC8vIENoZWNrIGlmIGF1dG8tc3luYyBpcyBlbmFibGVkXHJcbiAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLmF1dG9TeW5jICYmIHRyaWdnZXJUeXBlICE9PSAnbWFudWFsJykge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc2VkOiAwLFxyXG4gICAgICAgICAgICAgICAgc2tpcHBlZDogMCxcclxuICAgICAgICAgICAgICAgIHRvdGFsOiAwLFxyXG4gICAgICAgICAgICAgICAgYmF0Y2hDb3VudDogMCxcclxuICAgICAgICAgICAgICAgIG5vZGVUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgIGVkZ2VUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdBdXRvLXN5bmMgaXMgZGlzYWJsZWQgaW4gc2V0dGluZ3MnXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBEZXRlcm1pbmUgc291cmNlX2Rlc2NyaXB0aW9uIGJhc2VkIG9uIHRyaWdnZXIgdHlwZSBhbmQgc3luYyBvcHRpb25zXHJcbiAgICAgICAgbGV0IHNvdXJjZV9kZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gICAgICAgIGlmICh0cmlnZ2VyVHlwZSA9PT0gJ21hbnVhbCcpIHtcclxuICAgICAgICAgICAgc291cmNlX2Rlc2NyaXB0aW9uID0gJ29ic2lkaWFuX21tX2luZGl2aWR1YWwnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIEZvciAnc2F2ZScgYW5kICdzY2hlZHVsZWQnIHRyaWdnZXJzLCB1c2UgZW5oYW5jZWQgYXV0by1zeW5jIHNvdXJjZSBkZXNjcmlwdGlvbnNcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3Muc3luY09wdGlvbnMgPT09ICduZXdfb25seScpIHtcclxuICAgICAgICAgICAgICAgIHNvdXJjZV9kZXNjcmlwdGlvbiA9ICdvYnNpZGlhbl9hdXRvX25ldyc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzb3VyY2VfZGVzY3JpcHRpb24gPSAnb2JzaWRpYW5fYXV0b191cGRhdGVkJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0VuaGFuY2VkIGF1dG8tc3luYyB0cmlnZ2VyZWQnLCB7XHJcbiAgICAgICAgICAgIHRyaWdnZXJUeXBlLFxyXG4gICAgICAgICAgICBzb3VyY2VfZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgIGF1dG9TeW5jRW5hYmxlZDogdGhpcy5zZXR0aW5ncy5hdXRvU3luYyxcclxuICAgICAgICAgICAgc3luY09wdGlvbnM6IHRoaXMuc2V0dGluZ3Muc3luY09wdGlvbnMsXHJcbiAgICAgICAgICAgIHN5bmNJbnRlcnZhbDogdGhpcy5zZXR0aW5ncy5zeW5jSW50ZXJ2YWxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gVXNlIGVuaGFuY2VkIG5vdGUgc2VsZWN0aW9uIGJhc2VkIG9uIHN5bmMgb3B0aW9uc1xyXG4gICAgICAgIGNvbnN0IG5vdGVzRm9yU3luYyA9IGF3YWl0IHRoaXMubm90ZVNlbGVjdGlvblNlcnZpY2UuZ2V0Tm90ZXNGb3JBdXRvU3luYyh0aGlzLnNldHRpbmdzLnN5bmNPcHRpb25zKTtcclxuXHJcbiAgICAgICAgaWYgKG5vdGVzRm9yU3luYy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ05vIG5vdGVzIGZvdW5kIGZvciBhdXRvLXN5bmMgYmFzZWQgb24gY3VycmVudCBzeW5jIG9wdGlvbnMnLCB7XHJcbiAgICAgICAgICAgICAgICBzeW5jT3B0aW9uczogdGhpcy5zZXR0aW5ncy5zeW5jT3B0aW9ucyxcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJUeXBlLFxyXG4gICAgICAgICAgICAgICAgc291cmNlX2Rlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICBza2lwcGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgdG90YWw6IDAsXHJcbiAgICAgICAgICAgICAgICBiYXRjaENvdW50OiAwLFxyXG4gICAgICAgICAgICAgICAgbm9kZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgZWRnZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ05vIG5vdGVzIHRvIHN5bmMgYmFzZWQgb24gY3VycmVudCBzeW5jIG9wdGlvbnMnXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBNYXAgbm90ZXMgdG8gcGF0aHMgZm9yIHN5bmNcclxuICAgICAgICBjb25zdCBub3Rlc1BhdGhzID0gbm90ZXNGb3JTeW5jLm1hcChub3RlID0+IG5vdGUucGF0aCk7XHJcblxyXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdBdXRvLXN5bmMgcHJvY2Vzc2luZyBub3RlcycsIHtcclxuICAgICAgICAgICAgdHJpZ2dlclR5cGUsXHJcbiAgICAgICAgICAgIHNvdXJjZV9kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgdG90YWxOb3Rlczogbm90ZXNQYXRocy5sZW5ndGgsXHJcbiAgICAgICAgICAgIHN5bmNPcHRpb25zOiB0aGlzLnNldHRpbmdzLnN5bmNPcHRpb25zLFxyXG4gICAgICAgICAgICBub3Rlc1NhbXBsZTogbm90ZXNQYXRocy5zbGljZSgwLCAzKSAvLyBMb2cgZmlyc3QgMyBmb3IgZGVidWdnaW5nXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEVucXVldWUgbm90ZXMgYW5kIHVzZSB0aGUgc2VxdWVudGlhbCBzZWxlY3RlZC1ub3RlIHN5bmMgcGF0aCBzbyBlYWNoIG5vdGUgaXMgcHJvY2Vzc2VkXHJcbiAgICAgICAgLy8gb25lLWF0LWEtdGltZSAodGhpcyBtaXJyb3JzIFN5bmNNb2RhbC5zeW5jU2VsZWN0ZWROb3RlcyAtPiBzeW5jTm90ZXNTZXF1ZW50aWFsbHkgYmVoYXZpb3IpLlxyXG4gICAgICAgIC8vIFRoaXMgYXZvaWRzIHNlbmRpbmcgbXVsdGlwbGUgbm90ZXMgaW4gYSBzaW5nbGUgUHl0aG9uIHJ1biBhbmQgZW5zdXJlcyByZWdpc3RyeSB1cGRhdGVzXHJcbiAgICAgICAgLy8gb2NjdXIgYWZ0ZXIgZWFjaCBpbmRpdmlkdWFsIG5vdGUgaXMgcHJvY2Vzc2VkLlxyXG4gICAgICAgIGF3YWl0IHRoaXMubm90ZVNlbGVjdGlvblNlcnZpY2Uuc2VsZWN0Tm90ZXMobm90ZXNQYXRocyk7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0F1dG8tc3luYyBzZWxlY3RlZCBub3RlcyBpbnRvIHF1ZXVlIGZvciBzZXF1ZW50aWFsIHByb2Nlc3NpbmcnLCB7IHNlbGVjdGVkQ291bnQ6IG5vdGVzUGF0aHMubGVuZ3RoIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5zeW5jU2VsZWN0ZWROb3RlcygocHJvZ3Jlc3MpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0VuaGFuY2VkIGF1dG8tc3luYyBwcm9ncmVzcycsIHtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJUeXBlLFxyXG4gICAgICAgICAgICAgICAgc291cmNlX2Rlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgc3luY09wdGlvbnM6IHRoaXMuc2V0dGluZ3Muc3luY09wdGlvbnMsXHJcbiAgICAgICAgICAgICAgICBwcm9ncmVzc1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LCBzb3VyY2VfZGVzY3JpcHRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGVzdCBjb25uZWN0aW9uIHRvIHZlcmlmeSBQeXRob24gYnJpZGdlIGFuZCBHcmFwaGl0aSBpbnN0YWxsYXRpb25cclxuICAgICAqL1xyXG4gICAgYXN5bmMgdGVzdENvbm5lY3Rpb24oKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZyB9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gVGVzdCBQeXRob24gaW5zdGFsbGF0aW9uIGFuZCBncmFwaGl0aS1jb3JlIGF2YWlsYWJpbGl0eVxyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmV4ZWN1dGVQeXRob25Db21tYW5kKFtcclxuICAgICAgICAgICAgICAgICctYycsXHJcbiAgICAgICAgICAgICAgICAnaW1wb3J0IHN5czsgaW1wb3J0IGdyYXBoaXRpX2NvcmU7IHByaW50KGZcIlB5dGhvbiB7c3lzLnZlcnNpb25faW5mby5tYWpvcn0ue3N5cy52ZXJzaW9uX2luZm8ubWlub3J9LCBHcmFwaGl0aSBpbnN0YWxsZWRcIiknXHJcbiAgICAgICAgICAgIF0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzICYmIHJlc3VsdC5vdXRwdXQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBg4pyFIENvbm5lY3Rpb24gc3VjY2Vzc2Z1bDogJHtyZXN1bHQub3V0cHV0LnRyaW0oKX1gXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBg4p2MIENvbm5lY3Rpb24gZmFpbGVkOiAke3Jlc3VsdC5lcnJvciB8fCAnVW5rbm93biBlcnJvcid9YFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGDinYwgQ29ubmVjdGlvbiB0ZXN0IGZhaWxlZDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEluc3RhbGwgUHl0aG9uIGRlcGVuZGVuY2llc1xyXG4gICAgICovXHJcbiAgICBhc3luYyBpbnN0YWxsRGVwZW5kZW5jaWVzKG9uUHJvZ3Jlc3M/OiAobWVzc2FnZTogc3RyaW5nKSA9PiB2b2lkKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZyB9PiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdTdGFydGluZyBkZXBlbmRlbmN5IGluc3RhbGxhdGlvbiBwcm9jZXNzJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBwbHVnaW5EaXIsIGJyaWRnZURpcjogYnJpZGdlUGF0aCB9ID0gdGhpcy5nZXRWYXVsdEF3YXJlUGF0aHMoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGluc3RhbGxQYXRoID0gam9pbihicmlkZ2VQYXRoLCAnaW5zdGFsbC5weScpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdJbnN0YWxsYXRpb24gcGF0aHM6Jywge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbkRpcixcclxuICAgICAgICAgICAgICAgICAgICBicmlkZ2VQYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbGxQYXRoXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBmaWxlcyBleGlzdFxyXG4gICAgICAgICAgICAgICAgY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFmcy5leGlzdHNTeW5jKGluc3RhbGxQYXRoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gYEluc3RhbGwgc2NyaXB0IG5vdCBmb3VuZCBhdDogJHtpbnN0YWxsUGF0aH1gO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGDinYwgJHtlcnJvcn1gXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIG9uUHJvZ3Jlc3M/LignU3RhcnRpbmcgUHl0aG9uIGRlcGVuZGVuY3kgaW5zdGFsbGF0aW9uLi4uJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdFeGVjdXRpbmcgUHl0aG9uIGluc3RhbGwgc2NyaXB0Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTG9nIHRoZSBjb21tYW5kIHdlJ3JlIGFib3V0IHRvIHJ1blxyXG4gICAgICAgICAgICAgICAgY29uc3QgY29tbWFuZCA9ICdweXRob24nO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYXJncyA9IFtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YWxsUGF0aCxcclxuICAgICAgICAgICAgICAgICAgICAnLS1sbG0tcHJvdmlkZXInLCB0aGlzLnNldHRpbmdzLmxsbVByb3ZpZGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICctLWVtYmVkZGVyLXByb3ZpZGVyJywgdGhpcy5zZXR0aW5ncy5lbWJlZGRlclByb3ZpZGVyXHJcbiAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0NvbW1hbmQ6JywgeyBjb21tYW5kLCBhcmdzIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFVzZSBzcGF3biB0byBnZXQgcmVhbC10aW1lIG91dHB1dFxyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBzcGF3biB9ID0gcmVxdWlyZSgnY2hpbGRfcHJvY2VzcycpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHl0aG9uQ21kID0gdGhpcy5nZXRQeXRob25FeGVjdXRhYmxlKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBweXRob25FbnYgPSB0aGlzLmdldFB5dGhvbkVudigpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvY2VzcyA9IHNwYXduKHB5dGhvbkNtZCwgYXJncywge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0ZGlvOiBbJ3BpcGUnLCAncGlwZScsICdwaXBlJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgY3dkOiBicmlkZ2VQYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgIGVudjogcHl0aG9uRW52XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgb3V0cHV0QnVmZmVyID0gJyc7XHJcbiAgICAgICAgICAgICAgICBsZXQgZXJyb3JCdWZmZXIgPSAnJztcclxuICAgICAgICAgICAgICAgIGxldCBsYXN0UHJvZ3Jlc3NUaW1lID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgc3Rkb3V0IHdpdGggcmVhbC10aW1lIHByb2dyZXNzXHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzLnN0ZG91dD8ub24oJ2RhdGEnLCAoZGF0YTogQnVmZmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGRhdGEudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRCdWZmZXIgKz0gdGV4dDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTG9nIGFsbCBQeXRob24gb3V0cHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nUHl0aG9uT3V0cHV0KCdzdGRvdXQnLCB0ZXh0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUGFyc2UgbGluZXMgZm9yIHByb2dyZXNzIHVwZGF0ZXNcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5lcyA9IHRleHQuc3BsaXQoJ1xcbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluZS50cmltKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRocm90dGxlIHByb2dyZXNzIHVwZGF0ZXMgdG8gcHJldmVudCBVSSBmbG9vZGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3cgLSBsYXN0UHJvZ3Jlc3NUaW1lID4gMTAwKSB7IC8vIFVwZGF0ZSBhdCBtb3N0IGV2ZXJ5IDEwMG1zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHByb2dyZXNzIGJhc2VkIG9uIGluc3RhbGxhdGlvbiBvdXRwdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluZS5pbmNsdWRlcygnSW5zdGFsbGluZycpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUHJvZ3Jlc3M/LihgSW5zdGFsbGluZzogJHtsaW5lLnRyaW0oKX1gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxpbmUuaW5jbHVkZXMoJ0Rvd25sb2FkaW5nJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Qcm9ncmVzcz8uKGBEb3dubG9hZGluZzogJHtsaW5lLnRyaW0oKX1gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxpbmUuaW5jbHVkZXMoJ0NvbGxlY3RpbmcnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblByb2dyZXNzPy4oYENvbGxlY3Rpbmc6ICR7bGluZS50cmltKCl9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5lLmluY2x1ZGVzKCdCdWlsZGluZycpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUHJvZ3Jlc3M/LihgQnVpbGRpbmc6ICR7bGluZS50cmltKCl9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5lLmluY2x1ZGVzKCdTdWNjZXNzZnVsbHknKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblByb2dyZXNzPy4oYOKchSAke2xpbmUudHJpbSgpfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGluZS5pbmNsdWRlcygnUmVxdWlyZW1lbnQgYWxyZWFkeSBzYXRpc2ZpZWQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblByb2dyZXNzPy4oYOKckyAke2xpbmUudHJpbSgpfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGluZS50cmltKCkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblByb2dyZXNzPy4oYPCfk6YgJHtsaW5lLnRyaW0oKX1gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFByb2dyZXNzVGltZSA9IG5vdztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBzdGRlcnJcclxuICAgICAgICAgICAgICAgIHByb2Nlc3Muc3RkZXJyPy5vbignZGF0YScsIChkYXRhOiBCdWZmZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gZGF0YS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yQnVmZmVyICs9IHRleHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIExvZyBhbGwgUHl0aG9uIGVycm9yc1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZ1B5dGhvbk91dHB1dCgnc3RkZXJyJywgdGV4dCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNvbWUgcHJvZ3Jlc3MgaW5mbyBjb21lcyB0aHJvdWdoIHN0ZGVyclxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0LmluY2x1ZGVzKCclJykgfHwgdGV4dC5pbmNsdWRlcygnRG93bmxvYWRpbmcnKSB8fCB0ZXh0LmluY2x1ZGVzKCdJbnN0YWxsaW5nJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25Qcm9ncmVzcz8uKGDwn5OlICR7dGV4dC50cmltKCl9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0ZXh0LmluY2x1ZGVzKCdFUlJPUicpIHx8IHRleHQuaW5jbHVkZXMoJ2Vycm9yJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1B5dGhvbiBlcnJvciBvdXRwdXQ6JywgdGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uUHJvZ3Jlc3M/Lihg4p2MIEVycm9yOiAke3RleHQudHJpbSgpfWApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBwcm9jZXNzIGNvbXBsZXRpb25cclxuICAgICAgICAgICAgICAgIHByb2Nlc3Mub24oJ2Nsb3NlJywgKGNvZGU6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdQcm9jZXNzIGNsb3NlZCcsIHsgZXhpdENvZGU6IGNvZGUgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2RlID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uUHJvZ3Jlc3M/Lign4pyFIEluc3RhbGxhdGlvbiBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5IScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdJbnN0YWxsYXRpb24gY29tcGxldGVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn4pyFIERlcGVuZGVuY2llcyBpbnN0YWxsZWQgc3VjY2Vzc2Z1bGx5J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1zZyA9IGBJbnN0YWxsYXRpb24gZmFpbGVkIHdpdGggY29kZSAke2NvZGV9YDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoZXJyb3JNc2csIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXRDb2RlOiBjb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkZXJyOiBlcnJvckJ1ZmZlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZG91dDogb3V0cHV0QnVmZmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYOKdjCAke2Vycm9yTXNnfTogJHtlcnJvckJ1ZmZlciB8fCBvdXRwdXRCdWZmZXIgfHwgJ1Vua25vd24gZXJyb3InfWBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIHByb2Nlc3MgZXJyb3JzXHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzLm9uKCdlcnJvcicsIChlcnJvcjogRXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHN0YXJ0IFB5dGhvbiBwcm9jZXNzJywgZXJyb3IpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnRU5PRU5UJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gJ1B5dGhvbiBub3QgZm91bmQuIFBsZWFzZSBlbnN1cmUgUHl0aG9uIDMuMTArIGlzIGluc3RhbGxlZCBhbmQgaW4geW91ciBQQVRILic7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGDinYwgRmFpbGVkIHRvIHN0YXJ0IGluc3RhbGxhdGlvbjogJHtlcnJvck1lc3NhZ2V9YFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQWRkIGEgdGltZW91dCB0byBwcmV2ZW50IGhhbmdpbmcgaW5kZWZpbml0ZWx5XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXByb2Nlc3Mua2lsbGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdJbnN0YWxsYXRpb24gdGltZW91dCAtIGtpbGxpbmcgcHJvY2VzcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmtpbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfinYwgSW5zdGFsbGF0aW9uIHRpbWVkIG91dCBhZnRlciAxMCBtaW51dGVzJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCA2MDAwMDApOyAvLyAxMCBtaW51dGVzIHRpbWVvdXRcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDbGVhciB0aW1lb3V0IGlmIHByb2Nlc3MgZW5kcyBub3JtYWxseVxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5vbignZXhpdCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdJbnN0YWxsYXRpb24gZXhjZXB0aW9uJywgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYOKdjCBJbnN0YWxsYXRpb24gZXJyb3I6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWBcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTeW5jIG5vdGVzIHdpdGggR3JhcGhpdGkga25vd2xlZGdlIGdyYXBoXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHN5bmNOb3RlcyhcclxuICAgICAgICBjb25maWc6IFN5bmNDb25maWcsXHJcbiAgICAgICAgb25Qcm9ncmVzcz86IChwcm9ncmVzczogU3luY1Byb2dyZXNzKSA9PiB2b2lkLFxyXG4gICAgICAgIHNvdXJjZV9kZXNjcmlwdGlvbj86IHN0cmluZ1xyXG4gICAgKTogUHJvbWlzZTxTeW5jUmVzdWx0PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1NZTkNfU1RBUlQ6IHN5bmNOb3RlcygpIGNhbGxlZCcsIHtcclxuICAgICAgICAgICAgICAgIG5vdGVzQ291bnQ6IGNvbmZpZy5ub3Rlc1BhdGhzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIGJhdGNoU2l6ZTogY29uZmlnLmJhdGNoU2l6ZSxcclxuICAgICAgICAgICAgICAgIGRlYnVnTW9kZTogY29uZmlnLmRlYnVnLFxyXG4gICAgICAgICAgICAgICAgbm90ZXNTYW1wbGU6IGNvbmZpZy5ub3Rlc1BhdGhzLnNsaWNlKDAsIDMpLCAvLyBMb2cgZmlyc3QgMyBmb3IgZGVidWdnaW5nXHJcbiAgICAgICAgICAgICAgICBmdWxsTm90ZXNQYXRoc0NvdW50OiBjb25maWcubm90ZXNQYXRocy5sZW5ndGhcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBWYWxpZGF0ZSBlbWJlZGRpbmcgbW9kZWwgaGFzbid0IGNoYW5nZWQgc2luY2UgbGFzdCBzeW5jXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50RW1iZWRkaW5nTW9kZWwgPSB0aGlzLnNldHRpbmdzLmVtYmVkZGluZ01vZGVsO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudERpbWVuc2lvbnMgPSB0aGlzLmdldEN1cnJlbnRFbWJlZGRpbmdEaW1lbnNpb25zKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzQ2hhbmdlZCA9IGF3YWl0IHRoaXMudmF1bHRSZWdpc3RyeVNlcnZpY2UuaGFzRW1iZWRkaW5nTW9kZWxDaGFuZ2VkKFxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRFbWJlZGRpbmdNb2RlbCxcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50RGltZW5zaW9uc1xyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaGFzQ2hhbmdlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRldGFpbHMgPSBhd2FpdCB0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlLmdldEVtYmVkZGluZ01vZGVsTWlzbWF0Y2hEZXRhaWxzKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RW1iZWRkaW5nTW9kZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnREaW1lbnNpb25zXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignW1NZTkNdIEVtYmVkZGluZyBtb2RlbCBjaGFuZ2UgZGV0ZWN0ZWQgYmVmb3JlIHN5bmMnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRNb2RlbDogY3VycmVudEVtYmVkZGluZ01vZGVsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RGltZW5zaW9uczogY3VycmVudERpbWVuc2lvbnMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlZE1vZGVsOiBkZXRhaWxzPy5zdG9yZWRNb2RlbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVkRGltZW5zaW9uczogZGV0YWlscz8uc3RvcmVkRGltZW5zaW9uc1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBGb3Igbm93LCB3ZSdsbCB3YXJuIGJ1dCBjb250aW51ZS4gSW4gdGhlIGZ1dHVyZSwgdGhpcyBjb3VsZCBiZSBtYWRlIG1vcmUgc3RyaWN0LlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBVSSB3YXJuaW5nIHN5c3RlbSAoVGFzayAxMSkgYWxyZWFkeSBoYW5kbGVzIHVzZXIgbm90aWZpY2F0aW9ucy5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCAoZW1iZWRkaW5nVmFsaWRhdGlvbkVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW1NZTkNdIEVtYmVkZGluZyBtb2RlbCB2YWxpZGF0aW9uIGVycm9yIChjb250aW51aW5nKScsIGVtYmVkZGluZ1ZhbGlkYXRpb25FcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFZhbGlkYXRlIGNvbmZpZ3VyYXRpb25cclxuICAgICAgICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IHRoaXMudmFsaWRhdGVTeW5jQ29uZmlnKGNvbmZpZyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXZhbGlkYXRpb24uaXNWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb25maWd1cmF0aW9uIGVycm9yOiAke3ZhbGlkYXRpb24uZXJyb3JzLmpvaW4oJywgJyl9YCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFJldHJpZXZlIHZhdWx0IHBhdGhzIGZyb20gdGhlIG5ldyBgZ2V0VmF1bHRBd2FyZVBhdGhzYCBtZXRob2RcclxuICAgICAgICAgICAgY29uc3QgeyB2YXVsdFBhdGggfSA9IHRoaXMuZ2V0VmF1bHRBd2FyZVBhdGhzKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBORVcgRFlOQU1JQyBBUFBST0FDSDogTm8gc3RhdGljIG1vZGVsIGdlbmVyYXRpb24gbmVlZGVkXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnVzZUN1c3RvbU9udG9sb2d5KSB7XHJcbiAgICAgICAgICAgICAgICBvblByb2dyZXNzPy4oe1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQ6IDUsXHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWw6IDEwMCxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnUHJlcGFyaW5nIGR5bmFtaWMgY3VzdG9tIG9udG9sb2d5IHN5bmMuLi4nLFxyXG4gICAgICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2U6IDVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb25Qcm9ncmVzcz8uKHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50OiA1LFxyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsOiAxMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1VzaW5nIGdlbmVyaWMgZXBpc29kZSBzeW5jIChjdXN0b20gb250b2xvZ3kgZGlzYWJsZWQpLi4uJyxcclxuICAgICAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiA1XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gUHJlcGFyZSBzeW5jIGNvbmZpZ3VyYXRpb24gd2l0aCB2YXVsdCBwYXRoIGZvciBkeW5hbWljIGxvYWRpbmdcclxuICAgICAgICAgICAgY29uc3Qgc3luY0NvbmZpZyA9IGF3YWl0IHRoaXMucHJlcGFyZVN5bmNDb25maWcoY29uZmlnLCB2YXVsdFBhdGgsIHNvdXJjZV9kZXNjcmlwdGlvbik7XHJcblxyXG4gICAgICAgICAgICAvLyBFeGVjdXRlIHN5bmMgcHJvY2Vzc1xyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmV4ZWN1dGVQeXRob25TeW5jKHN5bmNDb25maWcsIG9uUHJvZ3Jlc3MpO1xyXG5cclxuICAgICAgICAgICAgLy8gVmF1bHQgcmVnaXN0cnkgdXBkYXRlcyBhcmUgaGFuZGxlZCBpbiBzZXR0aW5ncyBwYW5lbCBvbmx5LCBub3QgZHVyaW5nIHN5bmMgb3BlcmF0aW9uc1xyXG5cclxuICAgICAgICAgICAgLy8gU3luYyByZWdpc3RyeSByZWNvcmRpbmcgaXMgbm93IGhhbmRsZWQgYnkgaW5kaXZpZHVhbCBzeW5jIG9wZXJhdGlvbnMgdGhyb3VnaCB0aGUgU3luY1N0YXR1c01hbmFnZXJcclxuICAgICAgICAgICAgLy8gRWFjaCBub3RlJ3Mgc3luYyBzdGF0dXMgaXMgcmVjb3JkZWQgZHVyaW5nIHRoZSBzeW5jIHByb2Nlc3MsIGVuc3VyaW5nIGFjY3VyYXRlIHRyYWNraW5nXHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFNZTkNfQ09NUExFVEU6IHN5bmNOb3RlcygpIGZpbmlzaGVkIC0gc3RhdHVzOiAke3Jlc3VsdC5zdGF0dXN9LCBwcm9jZXNzZWQ6ICR7cmVzdWx0LnByb2Nlc3NlZH0sIHNraXBwZWQ6ICR7cmVzdWx0LnNraXBwZWR9LCB0b3RhbDogJHtyZXN1bHQudG90YWx9LCBiYXRjaGVzOiAke3Jlc3VsdC5iYXRjaENvdW50fWApO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc2VkOiAwLFxyXG4gICAgICAgICAgICAgICAgc2tpcHBlZDogMCxcclxuICAgICAgICAgICAgICAgIHRvdGFsOiBjb25maWcubm90ZXNQYXRocy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBiYXRjaENvdW50OiAwLFxyXG4gICAgICAgICAgICAgICAgbm9kZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgZWRnZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBub3RlIHNlbGVjdGlvbiBzZXJ2aWNlIGZvciBVSSBpbnRlZ3JhdGlvblxyXG4gICAgICovXHJcbiAgICBnZXROb3RlU2VsZWN0aW9uU2VydmljZSgpOiBOb3RlU2VsZWN0aW9uU2VydmljZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubm90ZVNlbGVjdGlvblNlcnZpY2U7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3luYyBub3RlcyBzZXF1ZW50aWFsbHkgdXNpbmcgZXBpc29kZSBVVUlEIGFwcHJvYWNoXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHN5bmNOb3Rlc1NlcXVlbnRpYWxseShvblByb2dyZXNzPzogKHByb2dyZXNzOiBTeW5jUHJvZ3Jlc3MpID0+IHZvaWQsIHNvdXJjZV9kZXNjcmlwdGlvbjogc3RyaW5nID0gJ29ic2lkaWFuX21tX2luZGl2aWR1YWwnKTogUHJvbWlzZTxTeW5jUmVzdWx0PiB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1N0YXJ0aW5nIHNlcXVlbnRpYWwgc3luYycpO1xyXG4gICAgICAgIHRoaXMuaXNDYW5jZWxsZWQgPSBmYWxzZTsgLy8gUmVzZXQgY2FuY2VsbGF0aW9uIGZsYWdcclxuXHJcbiAgICAgICAgLy8gUmV0cmlldmUgdGhlIGxpc3Qgb2Ygbm90ZXMgdG8gYmUgc3luY2VkIGZyb20gbm90ZSBzZWxlY3Rpb24gc2VydmljZVxyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkUGF0aHMgPSB0aGlzLm5vdGVTZWxlY3Rpb25TZXJ2aWNlLmdldFNlbGVjdGVkTm90ZVBhdGhzKCk7XHJcbiAgICAgICAgaWYgKCFzZWxlY3RlZFBhdGhzIHx8IHNlbGVjdGVkUGF0aHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ05vIG5vdGVzIGZvdW5kIGluIHNlbGVjdGlvbicpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc2VkOiAwLFxyXG4gICAgICAgICAgICAgICAgc2tpcHBlZDogMCxcclxuICAgICAgICAgICAgICAgIHRvdGFsOiAwLFxyXG4gICAgICAgICAgICAgICAgYmF0Y2hDb3VudDogMCxcclxuICAgICAgICAgICAgICAgIG5vZGVUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgIGVkZ2VUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdObyBub3RlcyBzZWxlY3RlZCBmb3Igc3luYydcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBQcm9jZXNzaW5nICR7c2VsZWN0ZWRQYXRocy5sZW5ndGh9IG5vdGVzIHNlcXVlbnRpYWxseWApO1xyXG5cclxuICAgICAgICBsZXQgcHJvY2Vzc2VkQ291bnQgPSAwO1xyXG4gICAgICAgIGxldCBza2lwcGVkQ291bnQgPSAwO1xyXG4gICAgICAgIGNvbnN0IG5vdGVSZXN1bHRzOiBhbnlbXSA9IFtdO1xyXG4gICAgICAgIGNvbnN0IGVycm9yczogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgICAgICAgLy8gR2V0IHZhdWx0IHBhdGggZm9yIHJlc29sdmluZyByZWxhdGl2ZSBwYXRocyB0byBhYnNvbHV0ZSBwYXRoc1xyXG4gICAgICAgIGNvbnN0IHsgdmF1bHRQYXRoIH0gPSB0aGlzLmdldFZhdWx0QXdhcmVQYXRocygpO1xyXG5cclxuICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggZWFjaCBub3RlIGluIHRoZSBxdWV1ZVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0ZWRQYXRocy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgY2FuY2VsbGF0aW9uIGJlZm9yZSBwcm9jZXNzaW5nIGVhY2ggbm90ZVxyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0NhbmNlbGxlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnW0NBTkNFTF0gU2VxdWVudGlhbCBzeW5jIGNhbmNlbGxlZCBieSB1c2VyJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQ6IHByb2Nlc3NlZENvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgIHNraXBwZWQ6IHNraXBwZWRDb3VudCArIChzZWxlY3RlZFBhdGhzLmxlbmd0aCAtIGkpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsOiBzZWxlY3RlZFBhdGhzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICBiYXRjaENvdW50OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGVUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgICAgICBlZGdlVHlwZXNMb2FkZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1N5bmMgY2FuY2VsbGVkIGJ5IHVzZXInXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCByZWxhdGl2ZVBhdGggPSBzZWxlY3RlZFBhdGhzW2ldO1xyXG5cclxuICAgICAgICAgICAgLy8gVXBkYXRlIHByb2dyZXNzIGJlZm9yZSBwcm9jZXNzaW5nIG5vdGVcclxuICAgICAgICAgICAgb25Qcm9ncmVzcz8uKHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnQ6IGksXHJcbiAgICAgICAgICAgICAgICB0b3RhbDogc2VsZWN0ZWRQYXRocy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgUHJvY2Vzc2luZyBub3RlICR7aSArIDF9LyR7c2VsZWN0ZWRQYXRocy5sZW5ndGh9OiAke3JlbGF0aXZlUGF0aH1gLFxyXG4gICAgICAgICAgICAgICAgcGVyY2VudGFnZTogKGkgLyBzZWxlY3RlZFBhdGhzLmxlbmd0aCkgKiAxMDBcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFByb2Nlc3Npbmcgbm90ZSAke2kgKyAxfS8ke3NlbGVjdGVkUGF0aHMubGVuZ3RofTogJHtyZWxhdGl2ZVBhdGh9YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gUmVzb2x2ZSByZWxhdGl2ZSBwYXRoIHRvIGFic29sdXRlIHBhdGggZm9yIHRlc3RNYW51YWxTeW5jXHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYWJzb2x1dGVQYXRoID0gcGF0aC5qb2luKHZhdWx0UGF0aCwgcmVsYXRpdmVQYXRoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBVc2UgU3luY1N0YXR1c01hbmFnZXIuc3luY05vdGUgd2hpY2ggaGFuZGxlcyBib3RoIHN5bmMgZXhlY3V0aW9uIGFuZCByZWdpc3RyeSByZWNvcmRpbmdcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5vdGVGaWxlID0gdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChyZWxhdGl2ZVBhdGgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFub3RlRmlsZSB8fCAhKG5vdGVGaWxlIGluc3RhbmNlb2YgVEZpbGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoYENvdWxkIG5vdCBmaW5kIFRGaWxlIGZvciBwYXRoOiAke3JlbGF0aXZlUGF0aH1gKTtcclxuICAgICAgICAgICAgICAgICAgICBza2lwcGVkQ291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnN5bmNTdGF0dXNNYW5hZ2VyLnN5bmNOb3RlKG5vdGVGaWxlLCBzb3VyY2VfZGVzY3JpcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgbm90ZVJlc3VsdHMucHVzaChyZXN1bHQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAnc3VjY2VzcycpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWRDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oYFN1Y2Nlc3NmdWxseSBzeW5jZWQgbm90ZTogJHtyZWxhdGl2ZVBhdGh9YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFZhdWx0IHJlZ2lzdHJ5IHVwZGF0ZXMgYXJlIGhhbmRsZWQgaW4gc2V0dGluZ3MgcGFuZWwgb25seSwgbm90IGR1cmluZyBzeW5jIG9wZXJhdGlvbnNcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHN1Y2Nlc3NmdWxseSBwcm9jZXNzZWQgbm90ZSBmcm9tIHF1ZXVlIGZvciBtb2R1bGFyIHF1ZXVlIG1hbmFnZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGVTZWxlY3Rpb25TZXJ2aWNlLmRlc2VsZWN0Tm90ZXMoW3JlbGF0aXZlUGF0aF0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBza2lwcGVkQ291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGBGYWlsZWQgdG8gc3luYyBub3RlOiAke3JlbGF0aXZlUGF0aH0uIFN0YXR1czogJHtyZXN1bHQuc3RhdHVzfSwgTWVzc2FnZTogJHtyZXN1bHQubWVzc2FnZX1gKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lm1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goYE5vdGUgJyR7cmVsYXRpdmVQYXRofSc6ICR7cmVzdWx0Lm1lc3NhZ2V9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEtlZXAgZmFpbGVkIG5vdGVzIGluIHF1ZXVlIGZvciBwb3RlbnRpYWwgcmV0cnlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHNraXBwZWRDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goYE5vdGUgJyR7cmVsYXRpdmVQYXRofSc6ICR7ZXJyb3JNZXNzYWdlfWApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoYEVycm9yIHN5bmNpbmcgbm90ZSAke3JlbGF0aXZlUGF0aH1gLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAvLyBDb250aW51ZSB3aXRoIG5leHQgbm90ZSBvbiBlcnJvclxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBVcGRhdGUgcHJvZ3Jlc3MgYWZ0ZXIgcHJvY2Vzc2luZyBub3RlXHJcbiAgICAgICAgICAgIG9uUHJvZ3Jlc3M/Lih7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50OiBpICsgMSxcclxuICAgICAgICAgICAgICAgIHRvdGFsOiBzZWxlY3RlZFBhdGhzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBDb21wbGV0ZWQgJHtyZWxhdGl2ZVBhdGh9YCxcclxuICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2U6ICgoaSArIDEpIC8gc2VsZWN0ZWRQYXRocy5sZW5ndGgpICogMTAwXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZmluYWxTdGF0dXMgPSBwcm9jZXNzZWRDb3VudCA+IDAgPyAnc3VjY2VzcycgOiAnZXJyb3InO1xyXG4gICAgICAgIGNvbnN0IGZpbmFsUmVzdWx0OiBTeW5jUmVzdWx0ID0ge1xyXG4gICAgICAgICAgICBzdGF0dXM6IGZpbmFsU3RhdHVzLFxyXG4gICAgICAgICAgICBwcm9jZXNzZWQ6IHByb2Nlc3NlZENvdW50LFxyXG4gICAgICAgICAgICBza2lwcGVkOiBza2lwcGVkQ291bnQsXHJcbiAgICAgICAgICAgIHRvdGFsOiBzZWxlY3RlZFBhdGhzLmxlbmd0aCxcclxuICAgICAgICAgICAgYmF0Y2hDb3VudDogc2VsZWN0ZWRQYXRocy5sZW5ndGgsXHJcbiAgICAgICAgICAgIG5vZGVUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgZWRnZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICBub3Rlczogbm90ZVJlc3VsdHMsXHJcbiAgICAgICAgICAgIGVycm9yczogZXJyb3JzLFxyXG4gICAgICAgICAgICBoYXNFcnJvcnM6IGVycm9ycy5sZW5ndGggPiAwLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiBgU2VxdWVudGlhbCBzeW5jIGNvbXBsZXRlZC4gUHJvY2Vzc2VkOiAke3Byb2Nlc3NlZENvdW50fSwgU2tpcHBlZDogJHtza2lwcGVkQ291bnR9LmBcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBDbGVhbiBsb2dnaW5nIHdpdGhvdXQgbWFzc2l2ZSBkYXRhIG9iamVjdHNcclxuICAgICAgICBjb25zdCBub3RlU3VtbWFyaWVzID0gbm90ZVJlc3VsdHMuc2xpY2UoMCwgNSkubWFwKChuOiBhbnkpID0+IHtcclxuICAgICAgICBcdGNvbnN0IHBhdGhWYWwgPSBuPy5ub3RlX3BhdGggPz8gbj8ucGF0aCA/PyAnJztcclxuICAgICAgICBcdGNvbnN0IHN0YXR1c1ZhbCA9IG4/LnN0YXR1cyA/PyAndW5rbm93bic7XHJcbiAgICAgICAgXHRjb25zdCBlcGlzb2RlVmFsID0gbj8uZXBpc29kZV91dWlkID8/IG4/LmVwaXNvZGVfaWQgPz8gJyc7XHJcbiAgICAgICAgXHRyZXR1cm4geyBub3RlOiBwYXRoVmFsLCBzdGF0dXM6IHN0YXR1c1ZhbCwgZXBpc29kZV91dWlkOiBlcGlzb2RlVmFsIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1NlcXVlbnRpYWwgYXV0by1zeW5jIGNvbXBsZXRlZCcsIHtcclxuICAgICAgICAgICAgZmluYWxTdGF0dXMsXHJcbiAgICAgICAgICAgIHByb2Nlc3NlZDogcHJvY2Vzc2VkQ291bnQsXHJcbiAgICAgICAgICAgIHNraXBwZWQ6IHNraXBwZWRDb3VudCxcclxuICAgICAgICAgICAgdG90YWw6IHNlbGVjdGVkUGF0aHMubGVuZ3RoLFxyXG4gICAgICAgICAgICBub3Rlc1NhbXBsZTogbm90ZVN1bW1hcmllc1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gZmluYWxSZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgc3luY1NlbGVjdGVkTm90ZXMob25Qcm9ncmVzcz86IChwcm9ncmVzczogU3luY1Byb2dyZXNzKSA9PiB2b2lkLCBzb3VyY2VfZGVzY3JpcHRpb246IHN0cmluZyA9ICdvYnNpZGlhbl9tbV9xdWlja3N5bmMnKTogUHJvbWlzZTxTeW5jUmVzdWx0PiB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1NZTkNfU1RBUlQ6IHN5bmNTZWxlY3RlZE5vdGVzKCkgY2FsbGVkJywge1xyXG4gICAgICAgICAgICBzZWxlY3RlZFBhdGhzOiB0aGlzLm5vdGVTZWxlY3Rpb25TZXJ2aWNlLmdldFNlbGVjdGVkTm90ZVBhdGhzKCksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRQYXRocyA9IHRoaXMubm90ZVNlbGVjdGlvblNlcnZpY2UuZ2V0U2VsZWN0ZWROb3RlUGF0aHMoKTtcclxuXHJcbiAgICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IGF3YWl0IHRoaXMubm90ZVNlbGVjdGlvblNlcnZpY2UudmFsaWRhdGVTZWxlY3Rpb24oKTtcclxuICAgICAgICBpZiAoIXZhbGlkYXRpb24uaXNWYWxpZCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc2VkOiAwLFxyXG4gICAgICAgICAgICAgICAgc2tpcHBlZDogc2VsZWN0ZWRQYXRocy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICB0b3RhbDogc2VsZWN0ZWRQYXRocy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBiYXRjaENvdW50OiAwLFxyXG4gICAgICAgICAgICAgICAgbm9kZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgZWRnZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogYFNlbGVjdGlvbiB2YWxpZGF0aW9uIGZhaWxlZDogJHt2YWxpZGF0aW9uLmVycm9ycy5qb2luKCcsICcpfWAsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDYWxsIHRoZSBuZXcgc2VxdWVudGlhbCBzeW5jIG1ldGhvZCB3aXRoIHByb2dyZXNzIGNhbGxiYWNrXHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zeW5jTm90ZXNTZXF1ZW50aWFsbHkob25Qcm9ncmVzcywgc291cmNlX2Rlc2NyaXB0aW9uKTtcclxuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgU1lOQ19DT01QTEVURTogc3luY1NlbGVjdGVkTm90ZXMoKSBmaW5pc2hlZCAtIHN0YXR1czogJHtyZXN1bHQuc3RhdHVzfSwgcHJvY2Vzc2VkOiAke3Jlc3VsdC5wcm9jZXNzZWR9LCBza2lwcGVkOiAke3Jlc3VsdC5za2lwcGVkfSwgdG90YWw6ICR7cmVzdWx0LnRvdGFsfWApO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBRdWljayBzeW5jIHdpdGggYXV0by1zZWxlY3Rpb24gdXNpbmcgZmlsdGVyIGNyaXRlcmlhXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHF1aWNrU3luYyhcclxuICAgICAgICBjcml0ZXJpYTogTm90ZUZpbHRlckNyaXRlcmlhLFxyXG4gICAgICAgIG9uUHJvZ3Jlc3M/OiAocHJvZ3Jlc3M6IFN5bmNQcm9ncmVzcykgPT4gdm9pZFxyXG4gICAgKTogUHJvbWlzZTxTeW5jUmVzdWx0PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gQXV0by1zZWxlY3Qgbm90ZXMgYmFzZWQgb24gY3JpdGVyaWFcclxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRDb3VudCA9IGF3YWl0IHRoaXMubm90ZVNlbGVjdGlvblNlcnZpY2Uuc2VsZWN0QWxsTWF0Y2hpbmcoY3JpdGVyaWEpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkQ291bnQgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZDogMCxcclxuICAgICAgICAgICAgICAgICAgICBza2lwcGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGJhdGNoQ291bnQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGVkZ2VUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTm8gbm90ZXMgbWF0Y2hlZCB0aGUgZmlsdGVyIGNyaXRlcmlhJ1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gU3luYyBzZWxlY3RlZCBub3Rlc1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zeW5jU2VsZWN0ZWROb3RlcyhvblByb2dyZXNzKTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NlZDogMCxcclxuICAgICAgICAgICAgICAgIHNraXBwZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICB0b3RhbDogMCxcclxuICAgICAgICAgICAgICAgIGJhdGNoQ291bnQ6IDAsXHJcbiAgICAgICAgICAgICAgICBub2RlVHlwZXNMb2FkZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICBlZGdlVHlwZXNMb2FkZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcilcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgc3luYyBzdGF0aXN0aWNzIGFuZCBlc3RpbWF0ZXNcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2V0U3luY1N0YXRpc3RpY3MoKTogUHJvbWlzZTx7XHJcbiAgICAgICAgc3VtbWFyeTogYW55O1xyXG4gICAgICAgIHZhbGlkYXRpb246IGFueTtcclxuICAgICAgICBhdmFpbGFibGVUeXBlczogc3RyaW5nW107XHJcbiAgICAgICAgYXZhaWxhYmxlVGFnczogc3RyaW5nW107XHJcbiAgICB9PiB7XHJcbiAgICAgICAgY29uc3QgW3N1bW1hcnksIHZhbGlkYXRpb24sIGF2YWlsYWJsZVR5cGVzLCBhdmFpbGFibGVUYWdzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcclxuICAgICAgICAgICAgdGhpcy5ub3RlU2VsZWN0aW9uU2VydmljZS5nZXRTZWxlY3Rpb25TdW1tYXJ5KCksXHJcbiAgICAgICAgICAgIHRoaXMubm90ZVNlbGVjdGlvblNlcnZpY2UudmFsaWRhdGVTZWxlY3Rpb24oKSxcclxuICAgICAgICAgICAgdGhpcy5ub3RlU2VsZWN0aW9uU2VydmljZS5nZXRBdmFpbGFibGVUeXBlcygpLFxyXG4gICAgICAgICAgICB0aGlzLm5vdGVTZWxlY3Rpb25TZXJ2aWNlLmdldEF2YWlsYWJsZVRhZ3MoKVxyXG4gICAgICAgIF0pO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzdW1tYXJ5LFxyXG4gICAgICAgICAgICB2YWxpZGF0aW9uLFxyXG4gICAgICAgICAgICBhdmFpbGFibGVUeXBlcyxcclxuICAgICAgICAgICAgYXZhaWxhYmxlVGFnc1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDYW5jZWwgb25nb2luZyBzeW5jIG9wZXJhdGlvblxyXG4gICAgICovXHJcbiAgICBjYW5jZWxTeW5jKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1tDQU5DRUxdIENhbmNlbGxpbmcgc3luYyBvcGVyYXRpb24gLSBraWxsaW5nIGFsbCBQeXRob24gcHJvY2Vzc2VzJyk7XHJcbiAgICAgICAgdGhpcy5pc0NhbmNlbGxlZCA9IHRydWU7XHJcblxyXG4gICAgICAgIC8vIEtpbGwgYWxsIHRyYWNrZWQgYWN0aXZlIHByb2Nlc3Nlc1xyXG4gICAgICAgIHRoaXMuYWN0aXZlUHJvY2Vzc2VzLmZvckVhY2gocHJvY2VzcyA9PiB7XHJcbiAgICAgICAgICAgIGlmICghcHJvY2Vzcy5raWxsZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbQ0FOQ0VMXSBLaWxsaW5nIHRyYWNrZWQgUHl0aG9uIHByb2Nlc3MnLCB7IHBpZDogcHJvY2Vzcy5waWQgfSk7XHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzLmtpbGwoJ1NJR1RFUk0nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYWN0aXZlUHJvY2Vzc2VzLmNsZWFyKCk7XHJcblxyXG4gICAgICAgIC8vIEFsc28ga2lsbCBtYWluIHB5dGhvbiBwcm9jZXNzIGlmIGl0IGV4aXN0c1xyXG4gICAgICAgIGlmICh0aGlzLnB5dGhvblByb2Nlc3MpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tDQU5DRUxdIEtpbGxpbmcgbWFpbiBQeXRob24gcHJvY2VzcycsIHsgcGlkOiB0aGlzLnB5dGhvblByb2Nlc3MucGlkIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnB5dGhvblByb2Nlc3Mua2lsbCgnU0lHVEVSTScpO1xyXG4gICAgICAgICAgICB0aGlzLnB5dGhvblByb2Nlc3MgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHJpZXZlcyB0aGUgYWJzb2x1dGUgcGF0aCB0byB0aGUgcGx1Z2luJ3Mgcm9vdCBkaXJlY3RvcnkuXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBub3cgc2VydmVzIGFzIGEgc2ltcGxlIGdldHRlciwgcmVseWluZyBvbiB0aGUgY2FjaGVkIG9yIHJlc29sdmVkIGBWYXVsdFBhdGhzYFxyXG4gICAgICogb2JqZWN0IHByb3ZpZGVkIGJ5IGBnZXRWYXVsdEF3YXJlUGF0aHNgIGZvciBjb25zb2xpZGF0ZWQgcGF0aCBtYW5hZ2VtZW50LlxyXG4gICAgICogQHJldHVybnMge3N0cmluZ30gVGhlIGFic29sdXRlIHBhdGggdG8gdGhlIHBsdWdpbidzIHJvb3QgZGlyZWN0b3J5LlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0UGx1Z2luRGlyZWN0b3J5KCk6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3QgdmF1bHRQYXRocyA9IHRoaXMuZ2V0VmF1bHRBd2FyZVBhdGhzKCk7XHJcbiAgICAgICAgcmV0dXJuIHZhdWx0UGF0aHMucGx1Z2luRGlyO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGVscGVyIG1ldGhvZCB0byBkZXRlY3QgYW5kIGZpeCBkdXBsaWNhdGVkIHBhdGggc2VnbWVudHNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBmaW5kRHVwbGljYXRlUGF0aFNlZ21lbnRzKHBhdGhTZWdtZW50czogc3RyaW5nW10pOiBudW1iZXIge1xyXG4gICAgICAgIC8vIExvb2sgZm9yIHBhdHRlcm5zIHdoZXJlIHRoZSBwYXRoIGlzIGR1cGxpY2F0ZWRcclxuICAgICAgICAvLyBFeGFtcGxlOiBbJ0U6JywgJ0dJVCcsICdMT0NBTCcsICdvYnNpZGlhbi1ncmFwaGl0aS1tY3AnLCAndGVzdC12YXVsdCcsICdFOicsICdHSVQnLCAnTE9DQUwnLCAnb2JzaWRpYW4tZ3JhcGhpdGktbWNwJywgJ3Rlc3QtdmF1bHQnXVxyXG5cclxuICAgICAgICBjb25zdCBoYWxmTGVuZ3RoID0gTWF0aC5mbG9vcihwYXRoU2VnbWVudHMubGVuZ3RoIC8gMik7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBmaXJzdCBoYWxmIG1hdGNoZXMgdGhlIHNlY29uZCBoYWxmIChleGFjdCBkdXBsaWNhdGlvbilcclxuICAgICAgICBpZiAoaGFsZkxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbGV0IGlzRHVwbGljYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaGFsZkxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGF0aFNlZ21lbnRzW2ldICE9PSBwYXRoU2VnbWVudHNbaSArIGhhbGZMZW5ndGhdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNEdXBsaWNhdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChpc0R1cGxpY2F0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBoYWxmTGVuZ3RoOyAvLyBSZXR1cm4gd2hlcmUgdGhlIGR1cGxpY2F0aW9uIHN0YXJ0c1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayBmb3IgcGFydGlhbCBkdXBsaWNhdGlvbnMgKGZpbmQgcmVwZWF0ZWQgc2VxdWVuY2VzKVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcGF0aFNlZ21lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IHBhdGhTZWdtZW50cy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSBhIHJlcGVhdGluZyBwYXR0ZXJuIHN0YXJ0aW5nIGF0IGlcclxuICAgICAgICAgICAgICAgIGlmIChwYXRoU2VnbWVudHNbaV0gPT09IHBhdGhTZWdtZW50c1tqXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGhvdyBsb25nIHRoZSBwYXR0ZXJuIGNvbnRpbnVlc1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXR0ZXJuTGVuZ3RoID0gMTtcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaSArIHBhdHRlcm5MZW5ndGggPCBqICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGogKyBwYXR0ZXJuTGVuZ3RoIDwgcGF0aFNlZ21lbnRzLmxlbmd0aCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoU2VnbWVudHNbaSArIHBhdHRlcm5MZW5ndGhdID09PSBwYXRoU2VnbWVudHNbaiArIHBhdHRlcm5MZW5ndGhdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm5MZW5ndGgrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGZvdW5kIGEgc2lnbmlmaWNhbnQgcGF0dGVybiAoYXQgbGVhc3QgMiBzZWdtZW50cyksIGNvbnNpZGVyIGl0IGEgZHVwbGljYXRpb25cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0dGVybkxlbmd0aCA+PSAyICYmIGogKyBwYXR0ZXJuTGVuZ3RoID49IHBhdGhTZWdtZW50cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGo7IC8vIFJldHVybiB3aGVyZSB0aGUgc2Vjb25kIG9jY3VycmVuY2Ugc3RhcnRzXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gLTE7IC8vIE5vIGR1cGxpY2F0aW9uIGZvdW5kXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGFic29sdXRlIHBhdGggdG8gdGhlIGN1cnJlbnRseSBhY3RpdmUgT2JzaWRpYW4gdmF1bHQuXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBhY3RzIGFzIGEgZGlyZWN0IGFjY2Vzc29yLCBvYnRhaW5pbmcgdGhlIHZhdWx0IHBhdGggZnJvbSB0aGVcclxuICAgICAqIGNlbnRyYWxpemVkIGBnZXRWYXVsdEF3YXJlUGF0aHNgIHN5c3RlbSwgd2hpY2ggZW5zdXJlcyB0aGF0IHRoZSBwYXRoXHJcbiAgICAgKiBpcyBhbHdheXMgdmF1bHQtYXdhcmUsIGNhY2hlZCwgYW5kIHVwLXRvLWRhdGUuXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgYWJzb2x1dGUgcGF0aCB0byB0aGUgY3VycmVudCBPYnNpZGlhbiB2YXVsdC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFZhdWx0UGF0aEZhbGxiYWNrKCk6IHN0cmluZyB7XHJcblxyXG4gICAgICAgIC8vIFVzZSB0aGUgbmV3IHZhdWx0LWF3YXJlIHBhdGhzIG1ldGhvZCB0byBnZXQgdmF1bHQgcGF0aFxyXG4gICAgICAgIGNvbnN0IHZhdWx0UGF0aHMgPSB0aGlzLmdldFZhdWx0QXdhcmVQYXRocyhudWxsKTtcclxuXHJcbiAgICAgICAgLy8gTG9nIHRoZSByZXNvbHZlZCB2YXVsdCBwYXRoIGZvciBkZWJ1Z2dpbmdcclxuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnVmF1bHQgUGF0aCBGYWxsYmFjayBSZXNvbHV0aW9uJywge1xyXG4gICAgICAgICAgICB2YXVsdFBhdGg6IHZhdWx0UGF0aHMudmF1bHRQYXRoLFxyXG4gICAgICAgICAgICBwbHVnaW5EaXI6IHZhdWx0UGF0aHMucGx1Z2luRGlyLFxyXG4gICAgICAgICAgICByZXNvbHZlZEF0OiB2YXVsdFBhdGhzLnJlc29sdmVkQXRcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gUmV0dXJuIHRoZSB2YXVsdCBwYXRoIGZyb20gdGhlIHJlc29sdmVkIHBhdGhzXHJcbiAgICAgICAgcmV0dXJuIHZhdWx0UGF0aHMudmF1bHRQYXRoO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0cmlldmVzIHZhdWx0LWF3YXJlIGZpbGUgcGF0aHMsIHV0aWxpemluZyBhIGNhY2hlIGZvciBwZXJmb3JtYW5jZS5cclxuICAgICAqIElmIHRoZSBwYXRocyBmb3IgdGhlIGN1cnJlbnQgdmF1bHQgYXJlIGFscmVhZHkgaW4gdGhlIGNhY2hlLCB0aGV5IGFyZSByZXR1cm5lZCBpbW1lZGlhdGVseSAoY2FjaGUgaGl0KS5cclxuICAgICAqIE90aGVyd2lzZSAoY2FjaGUgbWlzcyksIHRoZSBwYXRocyBhcmUgcmVzb2x2ZWQgdXNpbmcgYHJlc29sdmVQYXRoc0ZvclZhdWx0YCwgc3RvcmVkIGluIHRoZSBjYWNoZSwgYW5kIHRoZW4gcmV0dXJuZWQuXHJcbiAgICAgKiBDYWNoZSBtZXRyaWNzIChoaXRzIGFuZCBtaXNzZXMpIGFyZSB0cmFja2VkIGFuZCBsb2dnZWQgcGVyaW9kaWNhbGx5LlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCBudWxsfSBbdmF1bHRJZF0gLSBUaGUgSUQgb2YgdGhlIHZhdWx0IGZvciB3aGljaCB0byByZXNvbHZlIHBhdGhzLiBEZWZhdWx0cyB0byB0aGUgYWN0aXZlIHZhdWx0IElELlxyXG4gICAgICogQHJldHVybnMge1ZhdWx0UGF0aHN9IEFuIG9iamVjdCBjb250YWluaW5nIHRoZSByZXNvbHZlZCBwYXRocyBmb3IgdGhlIHNwZWNpZmllZCB2YXVsdC5cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0VmF1bHRBd2FyZVBhdGhzKHZhdWx0SWQ/OiBzdHJpbmcgfCBudWxsKTogVmF1bHRQYXRocyB7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7IC8vIFN0YXJ0IHRpbWluZ1xyXG5cclxuICAgICAgICAvLyBEZXRlcm1pbmUgY3VycmVudCB2YXVsdCBjb250ZXh0XHJcbiAgICAgICAgY29uc3QgY3VycmVudFZhdWx0SWQgPSB2YXVsdElkIHx8XHJcbiAgICAgICAgICAgIHRoaXMudmF1bHRSZWdpc3RyeVNlcnZpY2UuZ2V0QWN0aXZlVmF1bHRJZCgpIHx8XHJcbiAgICAgICAgICAgICdkZWZhdWx0JztcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgY2FjaGUgZmlyc3QgZm9yIGV4aXN0aW5nIHBhdGhzXHJcbiAgICAgICAgaWYgKHRoaXMucGF0aENhY2hlLmhhcyhjdXJyZW50VmF1bHRJZCkpIHtcclxuICAgICAgICAgICAgY29uc3QgY2FjaGVkID0gdGhpcy5wYXRoQ2FjaGUuZ2V0KGN1cnJlbnRWYXVsdElkKSE7XHJcbiAgICAgICAgICAgIHRoaXMuY2FjaGVIaXRzKys7XHJcbiAgICAgICAgICAgIGNvbnN0IGR1cmF0aW9uID0gKHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRUaW1lKS50b0ZpeGVkKDIpO1xyXG4gICAgICAgICAgICAvLyBDb25zaWRlciBhZGRpbmcgYSByYXJlIGluZm8gbG9nIGlmIGNhY2hlIGhpdCByYXRpbyBpcyBjb25zaXN0ZW50bHkgdmVyeSBsb3cgZm9yIGEgbG9uZyB0aW1lXHJcbiAgICAgICAgICAgIC8vIEZvciBub3csIHN1cHByZXNzIHZlcmJvc2UgaGl0IGxvZ3MuXHJcbiAgICAgICAgICAgIHRoaXMubG9nQ2FjaGVNZXRyaWNzKGN1cnJlbnRWYXVsdElkKTsgLy8gTG9nIG1ldHJpY3MgYWZ0ZXIgaGl0XHJcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZXNvbHZlIHBhdGhzIGZvciB0aGUgY3VycmVudCB2YXVsdFxyXG4gICAgICAgIHRoaXMuY2FjaGVNaXNzZXMrKztcclxuICAgICAgICBjb25zdCByZXNvbHZlZFBhdGhzID0gdGhpcy5yZXNvbHZlUGF0aHNGb3JWYXVsdChjdXJyZW50VmF1bHRJZCk7XHJcblxyXG4gICAgICAgIC8vIENhY2hlIHRoZSByZXNvbHZlZCBwYXRoc1xyXG4gICAgICAgIHRoaXMucGF0aENhY2hlLnNldChjdXJyZW50VmF1bHRJZCwgcmVzb2x2ZWRQYXRocyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gKHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRUaW1lKS50b0ZpeGVkKDIpO1xyXG4gICAgICAgIC8vIExvZyBjYWNoZSBtaXNzIGFzIGluZm8gdG8gaGlnaGxpZ2h0IHBlcmZvcm1hbmNlIGltcGxpY2F0aW9uLCBidXQgbm90IHRvbyBvZnRlbi5cclxuICAgICAgICAvLyBUaGUgYGxvZ0NhY2hlTWV0cmljc2AgZnVuY3Rpb24gd2lsbCBoYW5kbGUgcGVyaW9kaWMgY29uc29saWRhdGVkIGxvZ2dpbmcuXHJcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYFtDQUNIRV9NSVNTXSBWYXVsdDogJHtjdXJyZW50VmF1bHRJZH0sIFRpbWU6ICR7ZHVyYXRpb259bXMuIFBhdGhzIHJlc29sdmVkLmApO1xyXG4gICAgICAgIHRoaXMubG9nQ2FjaGVNZXRyaWNzKGN1cnJlbnRWYXVsdElkKTsgLy8gTG9nIG1ldHJpY3MgYWZ0ZXIgbWlzc1xyXG5cclxuICAgICAgICByZXR1cm4gcmVzb2x2ZWRQYXRocztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlc29sdmVzIGFuZCByZXR1cm5zIHRoZSBhYnNvbHV0ZSBmaWxlIHN5c3RlbSBwYXRocyBmb3IgYSBzcGVjaWZpYyB2YXVsdC5cclxuICAgICAqIFRoaXMgbWV0aG9kIHVzZXMgYSBtdWx0aS1zdHJhdGVneSBhcHByb2FjaCB0byBkZXRlcm1pbmUgY3JpdGljYWxcclxuICAgICAqIGRpcmVjdG9yaWVzIGxpa2UgdGhlIHBsdWdpbiBkaXJlY3RvcnksIHZhdWx0IGRpcmVjdG9yeSwgYW5kIGJyaWRnZSBkaXJlY3RvcnkuXHJcbiAgICAgKiBJdCBhbHNvIGluY29ycG9yYXRlcyBsb2dpYyB0byBoYW5kbGUgZHVwbGljYXRlIHBhdGggc2VnbWVudHMuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmF1bHRJZCAtIFRoZSBJRCBvZiB0aGUgdmF1bHQgZm9yIHdoaWNoIHRvIHJlc29sdmUgcGF0aHMuXHJcbiAgICAgKiBAcmV0dXJucyB7VmF1bHRQYXRoc30gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHJlc29sdmVkIHBhdGhzIGZvciB0aGUgc3BlY2lmaWVkIHZhdWx0LlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSByZXNvbHZlUGF0aHNGb3JWYXVsdCh2YXVsdElkOiBzdHJpbmcpOiBWYXVsdFBhdGhzIHtcclxuICAgICAgICBjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7IC8vIEFkZGVkIGZvciBsb2NhbCB1c2FnZVxyXG4gICAgICAgIGNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7IC8vIEFkZGVkIGZvciBwYXRoLm5vcm1hbGl6ZSwgcGF0aC5yZXNvbHZlLCBwYXRoLnNlcFxyXG5cclxuICAgICAgICAvLyBWYWxpZGF0ZSB2YXVsdCBJRFxyXG4gICAgICAgIGlmICghdmF1bHRJZCkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignW1BBVEhTXSBJbnZhbGlkIHZhdWx0IElEIHByb3ZpZGVkIGZvciBwYXRoIHJlc29sdXRpb24nKTtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcmVzb2x2ZSBwYXRoczogSW52YWxpZCB2YXVsdCBJRCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gR2V0IHZhdWx0IGRldGFpbHMgZnJvbSByZWdpc3RyeSBvciBmYWxsYmFjayB0byBpbnRlcm5hbCBBUElcclxuICAgICAgICBjb25zdCBhY3RpdmVWYXVsdCA9IHRoaXMudmF1bHRSZWdpc3RyeVNlcnZpY2UuZ2V0VmF1bHQodmF1bHRJZCk7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRWYXVsdFBhdGg6IHN0cmluZztcclxuICAgICAgICBpZiAoYWN0aXZlVmF1bHQ/LnBhdGgpIHtcclxuICAgICAgICAgICAgY3VycmVudFZhdWx0UGF0aCA9IGFjdGl2ZVZhdWx0LnBhdGg7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbUEFUSFNdIFZhdWx0IHBhdGggcmVzb2x2ZWQgZnJvbSByZWdpc3RyeS9mYWxsYmFjayBmb3IgdmF1bHQgSUQ6ICcgKyB2YXVsdElkICsgJy4nKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBGYWxsYmFjayB0byBpbnRlcm5hbCBBUEkgYmFzZSBwYXRoXHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgLSBhY2Nlc3NpbmcgaW50ZXJuYWwgQVBJXHJcbiAgICAgICAgICAgIGN1cnJlbnRWYXVsdFBhdGggPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuYWRhcHRlci5iYXNlUGF0aDtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignW1BBVEhTXSBVc2luZyBpbnRlcm5hbCBhZGFwdGVyLmJhc2VQYXRoIGFzIGZhbGxiYWNrIGZvciB2YXVsdCBwYXRoLiBWYXVsdCBub3QgZm91bmQgaW4gcmVnaXN0cnkuJywgeyB2YXVsdElkLCBwYXRoOiBjdXJyZW50VmF1bHRQYXRoIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ1JJVElDQUwgRklYOiBOb3JtYWxpemUgYW5kIGRlZHVwbGljYXRlIHZhdWx0IHBhdGhcclxuICAgICAgICBsZXQgbm9ybWFsaXplZFZhdWx0UGF0aCA9IHBhdGgubm9ybWFsaXplKGN1cnJlbnRWYXVsdFBhdGgpO1xyXG5cclxuICAgICAgICAvLyBDaGVjayBmb3IgcGF0aCBkdXBsaWNhdGlvbiBwYXR0ZXJucyBhbmQgZml4IHRoZW1cclxuICAgICAgICBjb25zdCBwYXRoU2VnbWVudHMgPSBub3JtYWxpemVkVmF1bHRQYXRoLnNwbGl0KHBhdGguc2VwKTtcclxuICAgICAgICBjb25zdCBkdXBsaWNhdGVJbmRleCA9IHRoaXMuZmluZER1cGxpY2F0ZVBhdGhTZWdtZW50cyhwYXRoU2VnbWVudHMpO1xyXG5cclxuICAgICAgICBpZiAoZHVwbGljYXRlSW5kZXggIT09IC0xKSB7XHJcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRWYXVsdFBhdGggPSBwYXRoU2VnbWVudHMuc2xpY2UoMCwgZHVwbGljYXRlSW5kZXgpLmpvaW4ocGF0aC5zZXApO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCfwn5SnIEZpeGVkIGR1cGxpY2F0ZWQgdmF1bHQgcGF0aCBkdXJpbmcgcmVzb2x1dGlvbicsIHtcclxuICAgICAgICAgICAgICAgIG9yaWdpbmFsOiBjdXJyZW50VmF1bHRQYXRoLFxyXG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZDogbm9ybWFsaXplZFZhdWx0UGF0aCxcclxuICAgICAgICAgICAgICAgIGZpeGVkOiBub3JtYWxpemVkVmF1bHRQYXRoLFxyXG4gICAgICAgICAgICAgICAgZHVwbGljYXRlU3RhcnRJbmRleDogZHVwbGljYXRlSW5kZXhcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcGx1Z2luRGlyOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcclxuICAgICAgICBsZXQgYnJpZGdlRGlyOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgICAgICAgLy8gU3RyYXRlZ3kgMTogU3RhbmRhcmQgcHJvZHVjdGlvbiBpbnN0YWxsYXRpb24gaW4gLm9ic2lkaWFuL3BsdWdpbnNcclxuICAgICAgICBjb25zdCBwbHVnaW5JZCA9IHRoaXMucGx1Z2luLm1hbmlmZXN0LmlkIHx8ICdtZWdhbWVtLW1jcCc7XHJcbiAgICAgICAgY29uc3Qgc3RhbmRhcmRQbHVnaW5QYXRoID0gam9pbihub3JtYWxpemVkVmF1bHRQYXRoLCAnLm9ic2lkaWFuJywgJ3BsdWdpbnMnLCBwbHVnaW5JZCk7XHJcbiAgICAgICAgY29uc3Qgc3RhbmRhcmRCcmlkZ2VQYXRoID0gam9pbihzdGFuZGFyZFBsdWdpblBhdGgsICdncmFwaGl0aV9icmlkZ2UnKTtcclxuXHJcbiAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmMoc3RhbmRhcmRCcmlkZ2VQYXRoKSkge1xyXG4gICAgICAgICAgICBwbHVnaW5EaXIgPSBzdGFuZGFyZFBsdWdpblBhdGg7XHJcbiAgICAgICAgICAgIGJyaWRnZURpciA9IHN0YW5kYXJkQnJpZGdlUGF0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFN0cmF0ZWd5IDI6IERldmVsb3BtZW50IG1vZGUgLSBjaGVjayBpZiB3ZSdyZSBpbiBhIHByb2plY3QgZGlyZWN0b3J5XHJcbiAgICAgICAgaWYgKCFwbHVnaW5EaXIpIHtcclxuICAgICAgICAgICAgY29uc3QgZGV2UHJvamVjdFBhdGggPSBwYXRoLnJlc29sdmUobm9ybWFsaXplZFZhdWx0UGF0aCwgJy4uJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRldkJyaWRnZVBhdGggPSBqb2luKGRldlByb2plY3RQYXRoLCAnZ3JhcGhpdGlfYnJpZGdlJyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyhkZXZCcmlkZ2VQYXRoKSkge1xyXG4gICAgICAgICAgICAgICAgcGx1Z2luRGlyID0gZGV2UHJvamVjdFBhdGg7XHJcbiAgICAgICAgICAgICAgICBicmlkZ2VEaXIgPSBkZXZCcmlkZ2VQYXRoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTdHJhdGVneSAzOiBDaGVjayBpZiB2YXVsdCBpdHNlbGYgY29udGFpbnMgZ3JhcGhpdGlfYnJpZGdlICh1bnVzdWFsIHNldHVwKVxyXG4gICAgICAgIGlmICghcGx1Z2luRGlyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhdWx0QnJpZGdlUGF0aCA9IGpvaW4obm9ybWFsaXplZFZhdWx0UGF0aCwgJ2dyYXBoaXRpX2JyaWRnZScpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmModmF1bHRCcmlkZ2VQYXRoKSkge1xyXG4gICAgICAgICAgICAgICAgcGx1Z2luRGlyID0gbm9ybWFsaXplZFZhdWx0UGF0aDtcclxuICAgICAgICAgICAgICAgIGJyaWRnZURpciA9IHZhdWx0QnJpZGdlUGF0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU3RyYXRlZ3kgNDogVXNlIG1hbmlmZXN0LmRpciBpZiBhdmFpbGFibGUgKGxlZ2FjeSBmYWxsYmFjaylcclxuICAgICAgICBpZiAoIXBsdWdpbkRpcikge1xyXG4gICAgICAgICAgICBjb25zdCBwbHVnaW5JbnN0YWxsRGlyID0gdGhpcy5wbHVnaW4ubWFuaWZlc3QuZGlyIHx8ICcnO1xyXG4gICAgICAgICAgICBpZiAocGx1Z2luSW5zdGFsbERpcikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWFuaWZlc3RQYXRoID0gcGx1Z2luSW5zdGFsbERpcjtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1hbmlmZXN0QnJpZGdlUGF0aCA9IGpvaW4obWFuaWZlc3RQYXRoLCAnZ3JhcGhpdGlfYnJpZGdlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmMobWFuaWZlc3RCcmlkZ2VQYXRoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbkRpciA9IG1hbmlmZXN0UGF0aDtcclxuICAgICAgICAgICAgICAgICAgICBicmlkZ2VEaXIgPSBtYW5pZmVzdEJyaWRnZVBhdGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENyaXRpY2FsIGNoZWNrOiBpZiBwbHVnaW5EaXIgb3IgYnJpZGdlRGlyIHN0aWxsIG5vdCBmb3VuZCwgdGhyb3cgYW4gZXJyb3JcclxuICAgICAgICBpZiAoIXBsdWdpbkRpciB8fCAhYnJpZGdlRGlyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTXNnID0gYOKdjCBDcml0aWNhbCBwYXRoIHJlc29sdXRpb24gZmFpbHVyZSBmb3IgdmF1bHQgSUQgXCIke3ZhdWx0SWR9XCIuIENvdWxkIG5vdCBsb2NhdGUgcmVxdWlyZWQgcGx1Z2luIG9yIGJyaWRnZSBkaXJlY3Rvcmllcy5gO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihlcnJvck1zZywge1xyXG4gICAgICAgICAgICAgICAgdmF1bHRQYXRoOiBub3JtYWxpemVkVmF1bHRQYXRoLFxyXG4gICAgICAgICAgICAgICAgcGx1Z2luTWFuaWZlc3REaXI6IHRoaXMucGx1Z2luLm1hbmlmZXN0LmRpcixcclxuICAgICAgICAgICAgICAgIHBsdWdpbklkLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlVmF1bHREZXRhaWxzOiBhY3RpdmVWYXVsdFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTXNnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFZhbGlkYXRlIHBhdGhzIChub3cgdXNpbmcgdGhlIHJlc29sdmVkIHBsdWdpbkRpciBhbmQgYnJpZGdlRGlyKVxyXG4gICAgICAgIGlmICghZnMuZXhpc3RzU3luYyhub3JtYWxpemVkVmF1bHRQYXRoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdbUEFUSFNdIFZhdWx0IHBhdGggZG9lcyBub3QgZXhpc3QgcmVzb2x2ZWQgZHVyaW5nIGZpbmFsIGNoZWNrJywgeyB2YXVsdFBhdGg6IG5vcm1hbGl6ZWRWYXVsdFBhdGggfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghZnMuZXhpc3RzU3luYyhwbHVnaW5EaXIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ1tQQVRIU10gUGx1Z2luIGRpcmVjdG9yeSBkb2VzIG5vdCBleGlzdCByZXNvbHZlZCBkdXJpbmcgZmluYWwgY2hlY2snLCB7IHBsdWdpbkRpciB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFmcy5leGlzdHNTeW5jKGJyaWRnZURpcikpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignW1BBVEhTXSBCcmlkZ2UgZGlyZWN0b3J5IGRvZXMgbm90IGV4aXN0IHJlc29sdmVkIGR1cmluZyBmaW5hbCBjaGVjaycsIHsgYnJpZGdlRGlyIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ29uc3RydWN0IFZhdWx0UGF0aHMgb2JqZWN0XHJcbiAgICAgICAgY29uc3QgdmF1bHRQYXRoczogVmF1bHRQYXRocyA9IHtcclxuICAgICAgICAgICAgcGx1Z2luRGlyLFxyXG4gICAgICAgICAgICB2YXVsdFBhdGg6IG5vcm1hbGl6ZWRWYXVsdFBhdGgsXHJcbiAgICAgICAgICAgIGJyaWRnZURpcixcclxuICAgICAgICAgICAgcmVzb2x2ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gU3VwcHJlc3MgdmVyYm9zZSBwYXRoIGxvZ2dpbmcuIE9ubHkgbG9nIGNyaXRpY2FsIHBhdGggcmVzb2x1dGlvbiBmYWlsdXJlcy5cclxuICAgICAgICAvLyBDYWNoZSBtZXRyaWNzIHdpbGwgcHJvdmlkZSBvdmVyYXJjaGluZyBpbnNpZ2h0cy5cclxuXHJcbiAgICAgICAgcmV0dXJuIHZhdWx0UGF0aHM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzYW5pdGl6ZUNvbmZpZ0ZvckxvZ2dpbmcoY2ZnOiBhbnkpOiBhbnkge1xyXG4gICAgICAgIGNvbnN0IHNhbml0aXplZDogYW55ID0geyAuLi5jZmcgfTtcclxuICAgICAgICBpZiAoc2FuaXRpemVkLmxsbV9hcGlfa2V5KSBzYW5pdGl6ZWQubGxtX2FwaV9rZXkgPSAnKioqJztcclxuICAgICAgICBpZiAoc2FuaXRpemVkLmVtYmVkZGVyX2FwaV9rZXkpIHNhbml0aXplZC5lbWJlZGRlcl9hcGlfa2V5ID0gJyoqKic7XHJcbiAgICAgICAgaWYgKHNhbml0aXplZC5hcGlfa2V5cykge1xyXG4gICAgICAgICAgICBzYW5pdGl6ZWQuYXBpX2tleXMgPSBPYmplY3Qua2V5cyhzYW5pdGl6ZWQuYXBpX2tleXMpLnJlZHVjZSgoYWNjOiBhbnksIGtleTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBhY2Nba2V5XSA9IHNhbml0aXplZC5hcGlfa2V5c1trZXldID8gJyoqKicgOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICAgICAgfSwge30pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2FuaXRpemVkLmRhdGFiYXNlX3Bhc3N3b3JkKSBzYW5pdGl6ZWQuZGF0YWJhc2VfcGFzc3dvcmQgPSAnKioqJztcclxuICAgICAgICByZXR1cm4gc2FuaXRpemVkO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IEFQSSBrZXkgZm9yIGEgc3BlY2lmaWMgcHJvdmlkZXJcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRBcGlLZXlGb3JQcm92aWRlcihwcm92aWRlcjogc3RyaW5nKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICBzd2l0Y2ggKHByb3ZpZGVyKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ29wZW5haSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5hcGlLZXlzLm9wZW5haTtcclxuICAgICAgICAgICAgY2FzZSAnYW50aHJvcGljJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLmFwaUtleXMuYW50aHJvcGljO1xyXG4gICAgICAgICAgICBjYXNlICdnb29nbGUnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MuYXBpS2V5cy5nb29nbGU7XHJcbiAgICAgICAgICAgIGNhc2UgJ2F6dXJlJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLmFwaUtleXMuYXp1cmU7XHJcbiAgICAgICAgICAgIGNhc2UgJ2dyb3EnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MuYXBpS2V5cy5ncm9xO1xyXG4gICAgICAgICAgICBjYXNlICd2b3lhZ2UnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MuYXBpS2V5cy52b3lhZ2U7XHJcbiAgICAgICAgICAgIGNhc2UgJ3ZlbmljZSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5hcGlLZXlzLnZlbmljZTtcclxuICAgICAgICAgICAgY2FzZSAnb3BlbnJvdXRlcic6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5hcGlLZXlzLm9wZW5yb3V0ZXI7XHJcbiAgICAgICAgICAgIGNhc2UgJ29sbGFtYSc6XHJcbiAgICAgICAgICAgICAgICAvLyBPbGxhbWEgZG9lc24ndCByZXF1aXJlIEFQSSBrZXlzIChsb2NhbClcclxuICAgICAgICAgICAgICAgIHJldHVybiAnbm90LXJlcXVpcmVkJztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBjdXJyZW50IGRhdGFiYXNlIGNvbmZpZ3VyYXRpb24gYmFzZWQgb24gZGF0YWJhc2UgdHlwZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldERhdGFiYXNlQ29uZmlnKCk6IGFueSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZGF0YWJhc2VUeXBlID09PSAnbmVvNGonKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLmRhdGFiYXNlQ29uZmlncy5uZW80ajtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2V0dGluZ3MuZGF0YWJhc2VUeXBlID09PSAnZmFsa29yZGInKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLmRhdGFiYXNlQ29uZmlncy5mYWxrb3JkYjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQcmVwYXJlIGRhdGFiYXNlIGNvbmZpZ3VyYXRpb24gZm9yIFB5dGhvbiBicmlkZ2UgYmFzZWQgb24gZGF0YWJhc2UgdHlwZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHByZXBhcmVEYXRhYmFzZUNvbmZpZygpOiBhbnkge1xyXG4gICAgICAgIGNvbnN0IGRiQ29uZmlnID0gdGhpcy5nZXREYXRhYmFzZUNvbmZpZygpO1xyXG4gICAgICAgIGlmICghZGJDb25maWcpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBkYXRhYmFzZSBjb25maWd1cmF0aW9uIGZvdW5kIGZvciB0eXBlOiAke3RoaXMuc2V0dGluZ3MuZGF0YWJhc2VUeXBlfWApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZGF0YWJhc2VUeXBlID09PSAnbmVvNGonKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBkYXRhYmFzZV91cmw6IGRiQ29uZmlnLnVyaSxcclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlX3VzZXJuYW1lOiBkYkNvbmZpZy51c2VybmFtZSxcclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlX3Bhc3N3b3JkOiBkYkNvbmZpZy5wYXNzd29yZCxcclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlX25hbWU6IGRiQ29uZmlnLmRhdGFiYXNlXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNldHRpbmdzLmRhdGFiYXNlVHlwZSA9PT0gJ2ZhbGtvcmRiJykge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgZGF0YWJhc2VfdXJsOiBgcmVkaXM6Ly8ke2RiQ29uZmlnLmhvc3R9OiR7ZGJDb25maWcucG9ydH1gLFxyXG4gICAgICAgICAgICAgICAgZGF0YWJhc2VfdXNlcm5hbWU6IGRiQ29uZmlnLnVzZXJuYW1lIHx8IG51bGwsICAvLyBGYWxrb3JEQjogdW5kZWZpbmVkIC0+IG51bGxcclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlX3Bhc3N3b3JkOiBkYkNvbmZpZy5wYXNzd29yZCB8fCBudWxsLCAgLy8gRmFsa29yREI6IHVuZGVmaW5lZCAtPiBudWxsXHJcbiAgICAgICAgICAgICAgICBkYXRhYmFzZV9uYW1lOiBkYkNvbmZpZy5kYXRhYmFzZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBkYXRhYmFzZSB0eXBlOiAke3RoaXMuc2V0dGluZ3MuZGF0YWJhc2VUeXBlfWApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVmFsaWRhdGUgc3luYyBjb25maWd1cmF0aW9uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgdmFsaWRhdGVTeW5jQ29uZmlnKGNvbmZpZzogU3luY0NvbmZpZyk6IHsgaXNWYWxpZDogYm9vbGVhbjsgZXJyb3JzOiBzdHJpbmdbXSB9IHtcclxuICAgICAgICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW107XHJcblxyXG4gICAgICAgIGlmICghY29uZmlnLm5vdGVzUGF0aHMgfHwgY29uZmlnLm5vdGVzUGF0aHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKCdObyBub3RlcyBzZWxlY3RlZCBmb3Igc3luYycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNvbmZpZy5iYXRjaFNpemUgPD0gMCkge1xyXG4gICAgICAgICAgICBlcnJvcnMucHVzaCgnQmF0Y2ggc2l6ZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBWYWxpZGF0ZSBzZXR0aW5nc1xyXG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5sbG1Qcm92aWRlcikge1xyXG4gICAgICAgICAgICBlcnJvcnMucHVzaCgnTExNIHByb3ZpZGVyIG5vdCBjb25maWd1cmVkJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBWYWxpZGF0ZSBMTE0gQVBJIGtleSBmb3IgdGhlIHNlbGVjdGVkIHByb3ZpZGVyXHJcbiAgICAgICAgY29uc3QgbGxtQXBpS2V5ID0gdGhpcy5nZXRBcGlLZXlGb3JQcm92aWRlcih0aGlzLnNldHRpbmdzLmxsbVByb3ZpZGVyKTtcclxuICAgICAgICBpZiAoIWxsbUFwaUtleSkge1xyXG4gICAgICAgICAgICBlcnJvcnMucHVzaChgQVBJIGtleSBub3QgY29uZmlndXJlZCBmb3IgTExNIHByb3ZpZGVyOiAke3RoaXMuc2V0dGluZ3MubGxtUHJvdmlkZXJ9YCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlcikge1xyXG4gICAgICAgICAgICBlcnJvcnMucHVzaCgnRW1iZWRkZXIgcHJvdmlkZXIgbm90IGNvbmZpZ3VyZWQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFZhbGlkYXRlIGRhdGFiYXNlIGNvbmZpZ3VyYXRpb24gYmFzZWQgb24gdHlwZVxyXG4gICAgICAgIGNvbnN0IGRiQ29uZmlnID0gdGhpcy5nZXREYXRhYmFzZUNvbmZpZygpO1xyXG4gICAgICAgIGlmICghZGJDb25maWcpIHtcclxuICAgICAgICAgICAgZXJyb3JzLnB1c2goYERhdGFiYXNlIGNvbmZpZ3VyYXRpb24gbm90IGZvdW5kIGZvciB0eXBlOiAke3RoaXMuc2V0dGluZ3MuZGF0YWJhc2VUeXBlfWApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFZhbGlkYXRlIE5lbzRqIGNvbmZpZ3VyYXRpb25cclxuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZGF0YWJhc2VUeXBlID09PSAnbmVvNGonKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWRiQ29uZmlnLnVyaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKCdOZW80aiBVUkkgbm90IGNvbmZpZ3VyZWQnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBWYWxpZGF0ZSBGYWxrb3JEQiBjb25maWd1cmF0aW9uXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuc2V0dGluZ3MuZGF0YWJhc2VUeXBlID09PSAnZmFsa29yZGInKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWRiQ29uZmlnLmhvc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaCgnRmFsa29yREIgaG9zdCBub3QgY29uZmlndXJlZCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFkYkNvbmZpZy5wb3J0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goJ0ZhbGtvckRCIHBvcnQgbm90IGNvbmZpZ3VyZWQnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaXNWYWxpZDogZXJyb3JzLmxlbmd0aCA9PT0gMCxcclxuICAgICAgICAgICAgZXJyb3JzXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFByZXBhcmUgY29uZmlndXJhdGlvbiBmb3IgUHl0aG9uIGJyaWRnZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGFzeW5jIHByZXBhcmVTeW5jQ29uZmlnKGNvbmZpZzogU3luY0NvbmZpZywgdmF1bHRQYXRoPzogc3RyaW5nLCBzb3VyY2VfZGVzY3JpcHRpb24/OiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIC8vIE5FVyBEWU5BTUlDIEFQUFJPQUNIOiBVc2UgdmF1bHRfcGF0aCBmb3IgZHluYW1pYyBtb2RlbCBsb2FkaW5nIGluc3RlYWQgb2YgbW9kZWxzX3BhdGhcclxuICAgICAgICBjb25zdCBmaW5hbFZhdWx0UGF0aCA9IHZhdWx0UGF0aCB8fCB0aGlzLmdldFZhdWx0UGF0aEZhbGxiYWNrKCk7XHJcblxyXG4gICAgICAgIC8vIEZJTkFMIEZJWDogUmVhZCB0aGUgTEFURVNUIHNldHRpbmdzIGRpcmVjdGx5IGZyb20gdGhlIHBsdWdpbiBpbnN0YW5jZVxyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRTZXR0aW5ncyA9ICh0aGlzLnBsdWdpbiBhcyBhbnkpLnNldHRpbmdzO1xyXG5cclxuXHJcbiAgICAgICAgLy8gUmV0cmlldmUgcHJldmlvdXMgZXBpc29kZSBVVUlEcyBmb3Igbm90ZXMgdGhhdCBoYXZlIGJlZW4gc3luY2VkIGJlZm9yZVxyXG4gICAgICAgIGNvbnN0IHByZXZpb3VzX2VwaXNvZGVfdXVpZHM6IHN0cmluZ1tdID0gW107XHJcblxyXG4gICAgICAgIGZvciAoY29uc3Qgbm90ZVBhdGggb2YgY29uZmlnLm5vdGVzUGF0aHMpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhdWx0SWQgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0TmFtZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENhbm9uaWNhbGl6ZSB0aGUgbm90ZSBwYXRoIGludG8gYSB2YXVsdC1yZWxhdGl2ZSBwYXRoIHVzaW5nIHRoZSBzYW1lIG5vcm1hbGl6ZXIgdGhlIFVJIHVzZXMuXHJcbiAgICAgICAgICAgICAgICBsZXQgdmF1bHRSZWxhdGl2ZVBhdGggPSB0aGlzLnN5bmNTdGF0dXNNYW5hZ2VyLm5vcm1hbGl6ZU5vdGVQYXRoKG5vdGVQYXRoLCBmaW5hbFZhdWx0UGF0aCk7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiBub3JtYWxpemUgcmV0dXJuZWQgYW4gYWJzb2x1dGUgcGF0aCwgY29udmVydCB0byB2YXVsdC1yZWxhdGl2ZSB3aGVuIHBvc3NpYmxlXHJcbiAgICAgICAgICAgICAgICBpZiAocGF0aC5pc0Fic29sdXRlKHZhdWx0UmVsYXRpdmVQYXRoKSAmJiBmaW5hbFZhdWx0UGF0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhdWx0UmVsYXRpdmVQYXRoID0gcGF0aC5yZWxhdGl2ZShmaW5hbFZhdWx0UGF0aCwgdmF1bHRSZWxhdGl2ZVBhdGgpLnJlcGxhY2UoL1xcXFwvZywgJy8nKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmF1bHRSZWxhdGl2ZVBhdGggPSB2YXVsdFJlbGF0aXZlUGF0aC5yZXBsYWNlKC9cXFxcL2csICcvJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ1JJVElDQUwgRklYOiBHZXQgVEZpbGUgZmlyc3QgdG8gcmVhZCBtbV91aWQgZnJvbSBmcm9udG1hdHRlclxyXG4gICAgICAgICAgICAgICAgY29uc3Qgbm90ZUZpbGUgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHZhdWx0UmVsYXRpdmVQYXRoKTtcclxuICAgICAgICAgICAgICAgIGlmIChub3RlRmlsZSAmJiBub3RlRmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVhZCBtbV91aWQgZGlyZWN0bHkgZnJvbSBmcm9udG1hdHRlclxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1tVWlkID0gYXdhaXQgRnJvbnRtYXR0ZXJVdGlscy5yZWFkTW1VaWQodGhpcy5wbHVnaW4uYXBwLCBub3RlRmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1tVWlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIGV4aXN0aW5nIG1tX3VpZCAtIGFkZCB0byBwcmV2aW91cyBlcGlzb2RlcyB0byBwcmV2ZW50IGR1cGxpY2F0ZSBjcmVhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c19lcGlzb2RlX3V1aWRzLnB1c2gobW1VaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnUmV0cmlldmVkIHByZXZpb3VzIGVwaXNvZGUgVVVJRCBmcm9tIGZyb250bWF0dGVyJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90ZVBhdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXVsdFJlbGF0aXZlUGF0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1tVWlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTm8gbW1fdWlkIGZvdW5kIGluIGZyb250bWF0dGVyIC0gdGhpcyBpcyBhIG5ldyBub3RlXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnTm8gcHJldmlvdXMgZXBpc29kZSBVVUlEIGZvdW5kIC0gbmV3IG5vdGUgd2lsbCBnZXQgZnJlc2ggZXBpc29kZScsIHtcclxuICAgICAgICAgICAgICAgICAgICBub3RlUGF0aCxcclxuICAgICAgICAgICAgICAgICAgICB2YXVsdFJlbGF0aXZlUGF0aFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0Vycm9yIHJldHJpZXZpbmcgZXBpc29kZSBVVUlEIGZvciBub3RlJywgeyBub3RlUGF0aCwgZXJyb3IgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQHZlc3NlbC1jbG9zZTpPZGluXHJcblxyXG4gICAgICAgIGNvbnN0IHN5bmNDb25maWcgPSB7XHJcbiAgICAgICAgICAgIC8vIExMTSBDb25maWd1cmF0aW9uXHJcbiAgICAgICAgICAgIGxsbV9wcm92aWRlcjogY3VycmVudFNldHRpbmdzLmxsbVByb3ZpZGVyLFxyXG4gICAgICAgICAgICBsbG1fYXBpX2tleTogdGhpcy5nZXRBcGlLZXlGb3JQcm92aWRlcihjdXJyZW50U2V0dGluZ3MubGxtUHJvdmlkZXIpLFxyXG4gICAgICAgICAgICBsbG1fbW9kZWw6IGN1cnJlbnRTZXR0aW5ncy5sbG1Nb2RlbCxcclxuICAgICAgICAgICAgbGxtX3NtYWxsX21vZGVsOiBjdXJyZW50U2V0dGluZ3MubGxtU21hbGxNb2RlbCxcclxuICAgICAgICAgICAgYXp1cmVfZW5kcG9pbnQ6IGN1cnJlbnRTZXR0aW5ncy5henVyZUVuZHBvaW50LFxyXG4gICAgICAgICAgICBhenVyZV9hcGlfdmVyc2lvbjogY3VycmVudFNldHRpbmdzLmF6dXJlQXBpVmVyc2lvbixcclxuICAgICAgICAgICAgb2xsYW1hX2Jhc2VfdXJsOiBjdXJyZW50U2V0dGluZ3Mub2xsYW1hQmFzZVVybCxcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIE9wZW5Sb3V0ZXIgQ29uZmlndXJhdGlvblxyXG4gICAgICAgICAgICBvcGVucm91dGVyX3ByZXNldF9zbHVnOiBjdXJyZW50U2V0dGluZ3Mub3BlbnJvdXRlclByZXNldFNsdWcsXHJcbiAgICAgICAgICAgIG9wZW5yb3V0ZXJfdXNlX3ByZXNldF93aXRoX2N1c3RvbV9tb2RlbDogY3VycmVudFNldHRpbmdzLm9wZW5yb3V0ZXJVc2VQcmVzZXRXaXRoQ3VzdG9tTW9kZWwsXHJcblxyXG4gICAgICAgICAgICAvLyBFbWJlZGRlciBDb25maWd1cmF0aW9uXHJcbiAgICAgICAgICAgIGVtYmVkZGVyX3Byb3ZpZGVyOiBjdXJyZW50U2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlcixcclxuICAgICAgICAgICAgZW1iZWRkZXJfYXBpX2tleTogdGhpcy5nZXRBcGlLZXlGb3JQcm92aWRlcihjdXJyZW50U2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlciksXHJcbiAgICAgICAgICAgIGVtYmVkZGluZ19tb2RlbDogY3VycmVudFNldHRpbmdzLmVtYmVkZGluZ01vZGVsLFxyXG5cclxuICAgICAgICAgICAgLy8gTkVXIEZPUk1BVDogQWRkIGFwaV9rZXlzIG9iamVjdCBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIHN5bmMucHkgZmFsbGJhY2sgbG9naWNcclxuICAgICAgICAgICAgYXBpX2tleXM6IGN1cnJlbnRTZXR0aW5ncy5hcGlLZXlzLFxyXG5cclxuICAgICAgICAgICAgLy8gRGF0YWJhc2UgQ29uZmlndXJhdGlvbiAtIEdldCBmcm9tIGFwcHJvcHJpYXRlIGNvbmZpZ1xyXG4gICAgICAgICAgICBkYXRhYmFzZV90eXBlOiBjdXJyZW50U2V0dGluZ3MuZGF0YWJhc2VUeXBlLFxyXG4gICAgICAgICAgICAuLi50aGlzLnByZXBhcmVEYXRhYmFzZUNvbmZpZygpLFxyXG5cclxuICAgICAgICAgICAgLy8gRXBpc29kZSBhbmQgT250b2xvZ3kgQ29uZmlndXJhdGlvblxyXG4gICAgICAgICAgICB1c2VfY3VzdG9tX29udG9sb2d5OiBjdXJyZW50U2V0dGluZ3MudXNlQ3VzdG9tT250b2xvZ3ksXHJcbiAgICAgICAgICAgIGRlZmF1bHRfbmFtZXNwYWNlOiBjdXJyZW50U2V0dGluZ3MuZGVmYXVsdE5hbWVzcGFjZSxcclxuICAgICAgICAgICAgZW5hYmxlX2ZvbGRlcl9uYW1lc3BhY2luZzogY3VycmVudFNldHRpbmdzLmVuYWJsZUZvbGRlck5hbWVzcGFjaW5nLFxyXG4gICAgICAgICAgICBlbmFibGVfcHJvcGVydHlfbmFtZXNwYWNpbmc6IGN1cnJlbnRTZXR0aW5ncy5lbmFibGVQcm9wZXJ0eU5hbWVzcGFjaW5nLFxyXG4gICAgICAgICAgICBuYW1lc3BhY2Vfc3RyYXRlZ3k6IGN1cnJlbnRTZXR0aW5ncy5uYW1lc3BhY2VTdHJhdGVneSxcclxuICAgICAgICAgICAgZm9sZGVyX25hbWVzcGFjZV9tYXBwaW5nczogY3VycmVudFNldHRpbmdzLmZvbGRlck5hbWVzcGFjZU1hcHBpbmdzLFxyXG5cclxuICAgICAgICAgICAgLy8gU3luYyBDb25maWd1cmF0aW9uXHJcbiAgICAgICAgICAgIG5vdGVzOiBjb25maWcubm90ZXNQYXRocyxcclxuICAgICAgICAgICAgYmF0Y2hfc2l6ZTogY29uZmlnLmJhdGNoU2l6ZSxcclxuICAgICAgICAgICAgZGVidWc6IGN1cnJlbnRTZXR0aW5ncy5lbmFibGVEZWJ1Z0xvZ2dpbmcsIC8vIFVzZSB0aGUgbGl2ZSBzZXR0aW5nXHJcbiAgICAgICAgICAgIHZhdWx0X3BhdGg6IGZpbmFsVmF1bHRQYXRoLCAgLy8gTkVXOiB2YXVsdF9wYXRoIGZvciBkeW5hbWljIG1vZGVsIGxvYWRpbmdcclxuICAgICAgICAgICAgc291cmNlX2Rlc2NyaXB0aW9uOiBzb3VyY2VfZGVzY3JpcHRpb24gfHwgY29uZmlnLnNvdXJjZV9kZXNjcmlwdGlvbiB8fCAnb2JzaWRpYW5fbW1faW5kaXZpZHVhbCcsXHJcblxyXG4gICAgICAgICAgICAvLyBDcm9zcy1lbmNvZGVyIENvbmZpZ3VyYXRpb24gLSBDUklUSUNBTCBGSVggZm9yIHN5bmMucHkgY29tcGF0aWJpbGl0eVxyXG4gICAgICAgICAgICBjcm9zc19lbmNvZGVyX2NsaWVudDogY29uZmlnLmNyb3NzRW5jb2RlckNsaWVudCB8fCBjdXJyZW50U2V0dGluZ3MuY3Jvc3NFbmNvZGVyQ2xpZW50IHx8ICdub25lJyxcclxuICAgICAgICAgICAgY3Jvc3NfZW5jb2Rlcl9tb2RlbDogKGN1cnJlbnRTZXR0aW5ncy5jcm9zc0VuY29kZXJDbGllbnQgPT09ICdiZ2UnIHx8IGN1cnJlbnRTZXR0aW5ncy5jcm9zc0VuY29kZXJDbGllbnQgPT09ICdub25lJylcclxuICAgICAgICAgICAgICAgID8gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICA6IChjb25maWcuY3Jvc3NFbmNvZGVyTW9kZWwgfHwgY3VycmVudFNldHRpbmdzLmNyb3NzRW5jb2Rlck1vZGVsKSxcclxuXHJcbiAgICAgICAgICAgIC8vIFByZXZpb3VzIGVwaXNvZGUgVVVJRHMgZm9yIHZlcnNpb24gdHJhY2tpbmdcclxuICAgICAgICAgICAgcHJldmlvdXNfZXBpc29kZV91dWlkczogcHJldmlvdXNfZXBpc29kZV91dWlkc1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oYFN5bmMgY29uZmlndXJhdGlvbiBwcmVwYXJlZDogVG90YWwgbm90ZXM6ICR7Y29uZmlnLm5vdGVzUGF0aHMubGVuZ3RofSwgUHJldmlvdXMgZXBpc29kZXM6ICR7cHJldmlvdXNfZXBpc29kZV91dWlkcy5sZW5ndGh9LCBGaXJzdCB0aW1lIHN5bmM6ICR7Y29uZmlnLm5vdGVzUGF0aHMubGVuZ3RoIC0gcHJldmlvdXNfZXBpc29kZV91dWlkcy5sZW5ndGh9YCk7XHJcblxyXG4gICAgICAgIHJldHVybiBzeW5jQ29uZmlnO1xyXG4gICAgfVxyXG4gICAgLy8gQHZlc3NlbC1jbG9zZTpGcmlnZ1xyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgZXhlY3V0ZVB5dGhvblN5bmMoXHJcbiAgICAgICAgY29uZmlnOiBhbnksXHJcbiAgICAgICAgb25Qcm9ncmVzcz86IChwcm9ncmVzczogU3luY1Byb2dyZXNzKSA9PiB2b2lkXHJcbiAgICApOiBQcm9taXNlPFN5bmNSZXN1bHQ+IHtcclxuICAgICAgICAvLyBAcHVycG9zZTogUm91dGUgdG8gZGFlbW9uIG9yIHRyYWRpdGlvbmFsIHN5bmMgYmFzZWQgb24gZXhwZXJpbWVudGFsRGFlbW9uTW9kZSBAZGVwZW5kczogUHl0aG9uRGFlbW9uQnJpZGdlIEByZXN1bHRzOiBQZXJmb3JtYW5jZSBvcHRpbWl6ZWQgc3luY1xyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmV4cGVyaW1lbnRhbERhZW1vbk1vZGUgJiYgKHRoaXMucGx1Z2luIGFzIGFueSkucHl0aG9uRGFlbW9uQnJpZGdlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1VzaW5nIGRhZW1vbiBtb2RlIGZvciBzeW5jJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmV4ZWN1dGVEYWVtb25TeW5jKGNvbmZpZywgb25Qcm9ncmVzcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBUcmFkaXRpb25hbCBzeW5jIHBhdGhcclxuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdVc2luZyB0cmFkaXRpb25hbCBzeW5jIG1vZGUnKTtcclxuICAgICAgICBjb25zdCB7IGJyaWRnZURpcjogYnJpZGdlUGF0aCB9ID0gdGhpcy5nZXRWYXVsdEF3YXJlUGF0aHMoKTtcclxuICAgICAgICBjb25zdCBzeW5jU2NyaXB0ID0gam9pbihicmlkZ2VQYXRoLCAnc3luYy5weScpO1xyXG5cclxuICAgICAgICAvLyBOb3JtYWxpemUgbm90ZXMgYXJyYXkgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBkaWZmZXJlbnQgY29uZmlnIHNoYXBlc1xyXG4gICAgICAgIGxldCBub3Rlczogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb25maWcubm90ZXMpICYmIGNvbmZpZy5ub3Rlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIG5vdGVzID0gY29uZmlnLm5vdGVzO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjb25maWcubm90ZXNQYXRocykgJiYgY29uZmlnLm5vdGVzUGF0aHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBub3RlcyA9IGNvbmZpZy5ub3Rlc1BhdGhzO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbmZpZy5ub3RlcyA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgbm90ZXMgPSBbY29uZmlnLm5vdGVzXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEhlbHBlciB0byBydW4gYSBzaW5nbGUtbm90ZSBweXRob24gc3luYyBhbmQgcmV0dXJuIGEgcGFyc2VkIHJlc3VsdCBvciBmYWlsdXJlIGRldGFpbHNcclxuICAgICAgICBjb25zdCBydW5TaW5nbGVTeW5jID0gKHNpbmdsZUNvbmZpZzogYW55KTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IHJlc3VsdD86IGFueTsgc3Rkb3V0Pzogc3RyaW5nOyBzdGRlcnI/OiBzdHJpbmc7IGV4aXRDb2RlPzogbnVtYmVyIH0+ID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCBwbHVnaW4gZGlyZWN0b3J5IHRvIHBhc3MgdG8gUHl0aG9uIGZvciBkYXRhLmpzb24gbG9jYXRpb25cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHBsdWdpbkRpciB9ID0gdGhpcy5nZXRWYXVsdEF3YXJlUGF0aHMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHl0aG9uQ21kID0gdGhpcy5nZXRQeXRob25FeGVjdXRhYmxlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHl0aG9uRW52ID0gdGhpcy5nZXRQeXRob25FbnYoKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBFeGVjdXRlIHN5bmMucHkgYXMgYSBQeXRob24gbW9kdWxlIHRvIHN1cHBvcnQgcmVsYXRpdmUgaW1wb3J0cyAocHJvZHVjdGlvbi1zYWZlKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHl0aG9uUHJvY2VzcyA9IHNwYXduKHB5dGhvbkNtZCwgW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnLW0nLCAnZ3JhcGhpdGlfYnJpZGdlLnN5bmMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnLS12YXVsdC1wYXRoJywgc2luZ2xlQ29uZmlnLnZhdWx0X3BhdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICctLXBsdWdpbi1kYXRhLXBhdGgnLCBwbHVnaW5EaXJcclxuICAgICAgICAgICAgICAgICAgICBdLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN3ZDogcGx1Z2luRGlyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGRpbzogWydwaXBlJywgJ3BpcGUnLCAncGlwZSddLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnY6IHB5dGhvbkVudlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBUcmFjayBwcm9jZXNzIGZvciBjYW5jZWxsYXRpb25cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZVByb2Nlc3Nlcy5hZGQodGhpcy5weXRob25Qcm9jZXNzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gV3JpdGUgaW5wdXQgYW5kIGNsb3NlIHN0ZGluXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5weXRob25Qcm9jZXNzLnN0ZGluPy53cml0ZShKU09OLnN0cmluZ2lmeShzaW5nbGVDb25maWcpKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnB5dGhvblByb2Nlc3Muc3RkaW4/LmVuZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgb3V0ID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVyciA9ICcnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnB5dGhvblByb2Nlc3Muc3Rkb3V0Py5vbignZGF0YScsIChkYXRhOiBCdWZmZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGRhdGEudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0ICs9IHRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgbG9nIHN0ZG91dCBpbiBkZWJ1ZyBtb2RlIHRvIGF2b2lkIEpTT04gc3BhbVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVEZWJ1Z0xvZ2dpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZ1B5dGhvbk91dHB1dCgnc3Rkb3V0JywgdGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5weXRob25Qcm9jZXNzLnN0ZGVycj8ub24oJ2RhdGEnLCAoZGF0YTogQnVmZmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBkYXRhLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVyciArPSB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBbHdheXMgbG9nIHN0ZGVyciAoY29udGFpbnMgZXJyb3JzL3dhcm5pbmdzL2RlYnVnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2dQeXRob25PdXRwdXQoJ3N0ZGVycicsIHRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnB5dGhvblByb2Nlc3Mub24oJ2Nsb3NlJywgKGNvZGU6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZnJvbSBhY3RpdmUgcHJvY2Vzc2VzIGFuZCBjbGVhciByZWZlcmVuY2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVQcm9jZXNzZXMuZGVsZXRlKHRoaXMucHl0aG9uUHJvY2VzcyEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnB5dGhvblByb2Nlc3MgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShvdXQudHJpbSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMb2cgUHl0aG9uIGRpYWdub3N0aWNzIGlmIHByZXNlbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VkLl9kaWFnbm9zdGljcyAmJiBBcnJheS5pc0FycmF5KHBhcnNlZC5fZGlhZ25vc3RpY3MpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZGlhZ25vc3RpYyBvZiBwYXJzZWQuX2RpYWdub3N0aWNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBbUFlUSE9OLURJQUdOT1NUSUNTXSAke2RpYWdub3N0aWN9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7IHN1Y2Nlc3M6IHRydWUsIHJlc3VsdDogcGFyc2VkLCBzdGRvdXQ6IG91dCwgc3RkZXJyOiBlcnIsIGV4aXRDb2RlOiBjb2RlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAocGFyc2VFcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsgc3VjY2VzczogZmFsc2UsIHN0ZG91dDogb3V0LCBzdGRlcnI6IGVyciB8fCBTdHJpbmcocGFyc2VFcnIpLCBleGl0Q29kZTogY29kZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoeyBzdWNjZXNzOiBmYWxzZSwgc3Rkb3V0OiBvdXQsIHN0ZGVycjogZXJyLCBleGl0Q29kZTogY29kZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnB5dGhvblByb2Nlc3Mub24oJ2Vycm9yJywgKGVycm9yOiBFcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5weXRob25Qcm9jZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZVByb2Nlc3Nlcy5kZWxldGUodGhpcy5weXRob25Qcm9jZXNzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnB5dGhvblByb2Nlc3MgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsgc3VjY2VzczogZmFsc2UsIHN0ZG91dDogdW5kZWZpbmVkLCBzdGRlcnI6IGVycm9yLm1lc3NhZ2UsIGV4aXRDb2RlOiAtMSB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5weXRob25Qcm9jZXNzID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsgc3VjY2VzczogZmFsc2UsIHN0ZG91dDogdW5kZWZpbmVkLCBzdGRlcnI6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSwgZXhpdENvZGU6IC0xIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBvbmUgb3IgemVybyBub3RlcywgcHJlc2VydmUgb3JpZ2luYWwgc2luZ2xlLWNhbGwgYmVoYXZpb3IgYW5kIHJldHVybiBQeXRob24ncyByZXN1bHQgZGlyZWN0bHlcclxuICAgICAgICBpZiAobm90ZXMubGVuZ3RoIDw9IDEpIHtcclxuICAgICAgICAgICAgY29uc3Qgbm90ZVBhdGhGb3JHcm91cCA9IG5vdGVzLmxlbmd0aCA9PT0gMVxyXG4gICAgICAgICAgICAgICAgPyBub3Rlc1swXVxyXG4gICAgICAgICAgICAgICAgOiAoQXJyYXkuaXNBcnJheShjb25maWcubm90ZXMpICYmIGNvbmZpZy5ub3Rlcy5sZW5ndGggPiAwID8gY29uZmlnLm5vdGVzWzBdIDogdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgbGV0IGdyb3VwSWRPdmVycmlkZTogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICBpZiAobm90ZVBhdGhGb3JHcm91cCkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBncm91cElkT3ZlcnJpZGUgPSBhd2FpdCB0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UuZ2VuZXJhdGVHcm91cElkKG5vdGVQYXRoRm9yR3JvdXAsIHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXROYW1lKCkpO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYmVzdC1lZmZvcnQ7IGZhbGwgYmFjayB0byBQeXRob24gcmVzb2x1dGlvbiBpZiBnZW5lcmF0aW9uIGZhaWxzXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgc2luZ2xlQ29uZmlnID0ge1xyXG4gICAgICAgICAgICAgICAgLi4uY29uZmlnLFxyXG4gICAgICAgICAgICAgICAgLi4uKGdyb3VwSWRPdmVycmlkZSA/IHsgZ3JvdXBfaWQ6IGdyb3VwSWRPdmVycmlkZSB9IDoge30pLFxyXG4gICAgICAgICAgICAgICAgbm90ZXM6IG5vdGVzLmxlbmd0aCA9PT0gMSA/IG5vdGVzIDogY29uZmlnLm5vdGVzXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNvbnN0IHIgPSBhd2FpdCBydW5TaW5nbGVTeW5jKHNpbmdsZUNvbmZpZyk7XHJcbiAgICAgICAgICAgIGlmIChyLnN1Y2Nlc3MgJiYgci5yZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSByYXRlIGxpbWl0aW5nIGluIHNpbmdsZS1ub3RlIHN5bmMgd2l0aCBlbmhhbmNlZCBmZWVkYmFja1xyXG4gICAgICAgICAgICAgICAgaWYgKHIucmVzdWx0LnN0YXR1cyA9PT0gJ3JhdGVfbGltaXRlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXRyeUFmdGVyID0gci5yZXN1bHQucmV0cnlfYWZ0ZXIgfHwgNjA7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzZXRUaW1lID0gci5yZXN1bHQucmVzZXRfdGltZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm92aWRlck1lc3NhZ2UgPSByLnJlc3VsdC5wcm92aWRlcl9tZXNzYWdlIHx8ICdBUEkgcmF0ZSBsaW1pdCBleGNlZWRlZCc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSB1c2VyLWZyaWVuZGx5IG1lc3NhZ2Ugd2l0aCB0aW1pbmdcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcGF1c2VNZXNzYWdlID0gYFJhdGUgbGltaXQgZXhjZWVkZWQgLSBzeW5jIHBhdXNlZGA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc2V0VGltZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNldERhdGUgPSBuZXcgRGF0ZShyZXNldFRpbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXVzZU1lc3NhZ2UgKz0gYCB1bnRpbCAke3Jlc2V0RGF0ZS50b0xvY2FsZVN0cmluZygpfWA7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF1c2VNZXNzYWdlICs9IGAgZm9yICR7TWF0aC5yb3VuZChyZXRyeUFmdGVyIC8gNjApfSBtaW51dGVzYDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ1JhdGUgbGltaXQgZGV0ZWN0ZWQgaW4gc2luZ2xlIHN5bmMgLSBwYXVzaW5nJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXRyeUFmdGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNldFRpbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyTWVzc2FnZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF1c2VNZXNzYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBza2lwcGVkOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmF0Y2hDb3VudDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGdlVHlwZXNMb2FkZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHBhdXNlTWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gdGhlIHJhdyBwYXJzZWQgUHl0aG9uIHJlc3VsdCAobWFpbnRhaW5zIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gci5yZXN1bHQgYXMgU3luY1Jlc3VsdDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgUHl0aG9uIHN5bmMgZmFpbGVkJHtyLmV4aXRDb2RlICE9PSB1bmRlZmluZWQgPyBgIHdpdGggZXhpdCBjb2RlICR7ci5leGl0Q29kZX1gIDogJyd9OiAke3Iuc3RkZXJyIHx8IHIuc3Rkb3V0IHx8ICdVbmtub3duIGVycm9yJ31gO1xyXG4gICAgICAgICAgICAgICAgLy8gVHJ1bmNhdGUgc3RkZXJyIHRvIGZpcnN0IGxpbmUgZm9yIGNsZWFuIGxvZ2dpbmdcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRydW5jYXRlZFN0ZGVyciA9IHIuc3RkZXJyID8gci5zdGRlcnIuc3BsaXQoJ1xcbicpWzBdIDogJ1Vua25vd24gZXJyb3InO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1B5dGhvbiBzeW5jIHByb2Nlc3MgZmFpbGVkJywge1xyXG4gICAgICAgICAgICAgICAgICAgIGV4aXRDb2RlOiByLmV4aXRDb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0ZGVycjogdHJ1bmNhdGVkU3RkZXJyLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0ZGVyckxlbmd0aDogci5zdGRlcnIgPyByLnN0ZGVyci5sZW5ndGggOiAwXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZDogMCxcclxuICAgICAgICAgICAgICAgICAgICBza2lwcGVkOiBub3Rlcy5sZW5ndGggfHwgMSxcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbDogbm90ZXMubGVuZ3RoIHx8IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2hDb3VudDogMCxcclxuICAgICAgICAgICAgICAgICAgICBub2RlVHlwZXNMb2FkZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZWRnZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE90aGVyd2lzZSwgcHJvY2VzcyBub3RlcyBzZXF1ZW50aWFsbHkgKG9uZSBQeXRob24gcHJvY2VzcyBwZXIgbm90ZSlcclxuICAgICAgICBsZXQgcHJvY2Vzc2VkID0gMDtcclxuICAgICAgICBsZXQgc2tpcHBlZCA9IDA7XHJcbiAgICAgICAgbGV0IG5vZGVUeXBlc0xvYWRlZCA9IDA7XHJcbiAgICAgICAgbGV0IGVkZ2VUeXBlc0xvYWRlZCA9IDA7XHJcbiAgICAgICAgY29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgIGNvbnN0IG5vdGVSZXN1bHRzOiBhbnlbXSA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vdGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIC8vIENoZWNrIGZvciBjYW5jZWxsYXRpb24gYmVmb3JlIHByb2Nlc3NpbmcgZWFjaCBub3RlXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQ2FuY2VsbGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdbQ0FOQ0VMXSBTZXF1ZW50aWFsIHN5bmMgY2FuY2VsbGVkIGJ5IHVzZXInKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZCxcclxuICAgICAgICAgICAgICAgICAgICBza2lwcGVkOiBza2lwcGVkICsgKG5vdGVzLmxlbmd0aCAtIGkpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsOiBub3Rlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2hDb3VudDogbm90ZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGVUeXBlc0xvYWRlZCxcclxuICAgICAgICAgICAgICAgICAgICBlZGdlVHlwZXNMb2FkZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzOiBbLi4uZXJyb3JzLCAnU3luYyBjYW5jZWxsZWQgYnkgdXNlciddLFxyXG4gICAgICAgICAgICAgICAgICAgIGhhc0Vycm9yczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBub3Rlczogbm90ZVJlc3VsdHNcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG5vdGUgPSBub3Rlc1tpXTtcclxuXHJcbiAgICAgICAgICAgIG9uUHJvZ3Jlc3M/Lih7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50OiBpLFxyXG4gICAgICAgICAgICAgICAgdG90YWw6IG5vdGVzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBQcm9jZXNzaW5nIG5vdGUgJHtpICsgMX0vJHtub3Rlcy5sZW5ndGh9OiAke25vdGV9YCxcclxuICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2U6IChpIC8gbm90ZXMubGVuZ3RoKSAqIDEwMFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIEJ1aWxkIGEgc2luZ2xlLW5vdGUgY29uZmlnIGZvciB0aGUgUHl0aG9uIGJyaWRnZSAoaW5jbHVkZSByZXNvbHZlZCBncm91cF9pZCBvdmVycmlkZSlcclxuICAgICAgICAgICAgbGV0IGdyb3VwSWRPdmVycmlkZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgZ3JvdXBJZE92ZXJyaWRlID0gYXdhaXQgdGhpcy5zeW5jUmVnaXN0cnlTZXJ2aWNlLmdlbmVyYXRlR3JvdXBJZChub3RlLCB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0TmFtZSgpKTtcclxuICAgICAgICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgICAgICAgICAvLyBiZXN0LWVmZm9ydDsgZmFsbCBiYWNrIHRvIFB5dGhvbiByZXNvbHV0aW9uIGlmIGdlbmVyYXRpb24gZmFpbHNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBzaW5nbGVDb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICAuLi5jb25maWcsXHJcbiAgICAgICAgICAgICAgICAuLi4oZ3JvdXBJZE92ZXJyaWRlID8geyBncm91cF9pZDogZ3JvdXBJZE92ZXJyaWRlIH0gOiB7fSksXHJcbiAgICAgICAgICAgICAgICBub3RlczogW25vdGVdLFxyXG4gICAgICAgICAgICAgICAgYmF0Y2hfc2l6ZTogMSxcclxuICAgICAgICAgICAgICAgIC8vIGtlZXAgYmFja3dhcmQtY29tcGF0aWJsZSBrZXkgbmFtZXMgdXNlZCBieSBQeXRob24gYnJpZGdlXHJcbiAgICAgICAgICAgICAgICBub3Rlc1BhdGhzOiBbbm90ZV1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdFdyYXBwZXIgPSBhd2FpdCBydW5TaW5nbGVTeW5jKHNpbmdsZUNvbmZpZyk7XHJcblxyXG4gICAgICAgICAgICBpZiAocmVzdWx0V3JhcHBlci5zdWNjZXNzICYmIHJlc3VsdFdyYXBwZXIucmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSByZXN1bHRXcmFwcGVyLnJlc3VsdDtcclxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSByYXRlIGxpbWl0aW5nIHdpdGggZW5oYW5jZWQgcGF1c2UgbG9naWNcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAncmF0ZV9saW1pdGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNraXBwZWQrKztcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXRyeUFmdGVyID0gcmVzdWx0LnJldHJ5X2FmdGVyIHx8IDYwO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc2V0VGltZSA9IHJlc3VsdC5yZXNldF90aW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyTWVzc2FnZSA9IHJlc3VsdC5wcm92aWRlcl9tZXNzYWdlIHx8ICdBUEkgcmF0ZSBsaW1pdCBleGNlZWRlZCc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSB1c2VyLWZyaWVuZGx5IG1lc3NhZ2Ugd2l0aCB0aW1pbmdcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcGF1c2VNZXNzYWdlID0gYFJhdGUgbGltaXQgZXhjZWVkZWQgLSBzeW5jIHBhdXNlZGA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc2V0VGltZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNldERhdGUgPSBuZXcgRGF0ZShyZXNldFRpbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXVzZU1lc3NhZ2UgKz0gYCB1bnRpbCAke3Jlc2V0RGF0ZS50b0xvY2FsZVN0cmluZygpfWA7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF1c2VNZXNzYWdlICs9IGAgZm9yICR7TWF0aC5yb3VuZChyZXRyeUFmdGVyIC8gNjApfSBtaW51dGVzYDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGBOb3RlICR7bm90ZX06ICR7cGF1c2VNZXNzYWdlfWApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBFbmhhbmNlZCBsb2dnaW5nIHdpdGggcmVzZXQgdGltZSBpbmZvcm1hdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ1JhdGUgbGltaXQgZGV0ZWN0ZWQgLSBzeW5jIHBhdXNpbmcnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHJ5QWZ0ZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0VGltZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJNZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXVzZU1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHByb2dyZXNzIHRvIHNob3cgcGF1c2Ugc3RhdHVzXHJcbiAgICAgICAgICAgICAgICAgICAgb25Qcm9ncmVzcz8uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudDogaSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWw6IG5vdGVzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcGF1c2VNZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiAoaSAvIG5vdGVzLmxlbmd0aCkgKiAxMDBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbm90ZVJlc3VsdHMucHVzaChyZXN1bHQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBJbnRlbGxpZ2VudCBkZWxheTogbG9uZ2VyIHBhdXNlIGZvciBhY3R1YWwgcmF0ZSBsaW1pdHMsIHNob3J0ZXIgZm9yIHRlc3RpbmdcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXhEZWxheSA9IHJldHJ5QWZ0ZXIgPiAzMDAgPyAzMDAwMCA6IE1hdGgubWluKHJldHJ5QWZ0ZXIgKiAxMDAwLCAxMDAwMCk7IC8vIE1heCAzMHMgZm9yIGxvbmcgbGltaXRzLCAxMHMgZm9yIHNob3J0XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1heERlbGF5KSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFmdGVyIGRlbGF5LCB1cGRhdGUgcHJvZ3Jlc3MgdG8gc2hvdyByZXN1bWluZ1xyXG4gICAgICAgICAgICAgICAgICAgIG9uUHJvZ3Jlc3M/Lih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQ6IGksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiBub3Rlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBSZXN1bWluZyBzeW5jIGFmdGVyIHJhdGUgbGltaXQgcGF1c2UuLi5gLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiAoaSAvIG5vdGVzLmxlbmd0aCkgKiAxMDBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIFJlc3BlY3QgUHl0aG9uJ3MgcmVzdWx0LnN0YXR1cyBpZiBwcmVzZW50XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXN1bHQuc3RhdHVzID09PSAnc3VjY2VzcycpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQrKztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2tpcHBlZCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGBOb3RlICR7bm90ZX06ICR7cmVzdWx0Lm1lc3NhZ2UgfHwgJ2ZhaWxlZCd9YCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlc3VsdC5ub2RlVHlwZXNMb2FkZWQgPT09ICdudW1iZXInKSBub2RlVHlwZXNMb2FkZWQgKz0gcmVzdWx0Lm5vZGVUeXBlc0xvYWRlZDtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVzdWx0LmVkZ2VUeXBlc0xvYWRlZCA9PT0gJ251bWJlcicpIGVkZ2VUeXBlc0xvYWRlZCArPSByZXN1bHQuZWRnZVR5cGVzTG9hZGVkO1xyXG4gICAgICAgICAgICAgICAgbm90ZVJlc3VsdHMucHVzaChyZXN1bHQpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2tpcHBlZCsrO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXJyTXNnID0gYFB5dGhvbiBzeW5jIGZhaWxlZCBmb3Igbm90ZSAke25vdGV9IChleGl0Q29kZT0ke3Jlc3VsdFdyYXBwZXIuZXhpdENvZGV9KTogJHtyZXN1bHRXcmFwcGVyLnN0ZGVyciB8fCByZXN1bHRXcmFwcGVyLnN0ZG91dCB8fCAnJ31gO1xyXG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goZXJyTXNnKTtcclxuICAgICAgICAgICAgICAgIC8vIFRydW5jYXRlIHN0ZGVyciB0byBmaXJzdCBsaW5lIGZvciBjbGVhbiBsb2dnaW5nXHJcbiAgICAgICAgICAgICAgICBjb25zdCB0cnVuY2F0ZWRTdGRlcnIgPSByZXN1bHRXcmFwcGVyLnN0ZGVyciA/IHJlc3VsdFdyYXBwZXIuc3RkZXJyLnNwbGl0KCdcXG4nKVswXSA6ICdVbmtub3duIGVycm9yJztcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdQeXRob24gc3luYyBmYWlsZWQgZm9yIG5vdGUnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbm90ZSxcclxuICAgICAgICAgICAgICAgICAgICBleGl0Q29kZTogcmVzdWx0V3JhcHBlci5leGl0Q29kZSxcclxuICAgICAgICAgICAgICAgICAgICBzdGRlcnI6IHRydW5jYXRlZFN0ZGVycixcclxuICAgICAgICAgICAgICAgICAgICBzdGRlcnJMZW5ndGg6IHJlc3VsdFdyYXBwZXIuc3RkZXJyID8gcmVzdWx0V3JhcHBlci5zdGRlcnIubGVuZ3RoIDogMFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG9uUHJvZ3Jlc3M/Lih7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50OiBpICsgMSxcclxuICAgICAgICAgICAgICAgIHRvdGFsOiBub3Rlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgQ29tcGxldGVkICR7bm90ZX1gLFxyXG4gICAgICAgICAgICAgICAgcGVyY2VudGFnZTogKChpICsgMSkgLyBub3Rlcy5sZW5ndGgpICogMTAwXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gU21hbGwgZGVsYXkgdG8gcmVkdWNlIHJpc2sgb2YgcmFjZSBjb25kaXRpb25zIC8gZHVwbGljYXRlIGVudGl0eSBjcmVhdGlvbiBpbiBHcmFwaGl0aVxyXG4gICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzKSA9PiBzZXRUaW1lb3V0KHJlcywgNTAwKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBzdGF0dXMgPSBwcm9jZXNzZWQgPiAwID8gJ3N1Y2Nlc3MnIDogJ2Vycm9yJztcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzdGF0dXMsXHJcbiAgICAgICAgICAgIHByb2Nlc3NlZCxcclxuICAgICAgICAgICAgc2tpcHBlZCxcclxuICAgICAgICAgICAgdG90YWw6IG5vdGVzLmxlbmd0aCxcclxuICAgICAgICAgICAgYmF0Y2hDb3VudDogbm90ZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICBub2RlVHlwZXNMb2FkZWQsXHJcbiAgICAgICAgICAgIGVkZ2VUeXBlc0xvYWRlZCxcclxuICAgICAgICAgICAgZXJyb3JzLFxyXG4gICAgICAgICAgICBoYXNFcnJvcnM6IGVycm9ycy5sZW5ndGggPiAwLFxyXG4gICAgICAgICAgICBub3Rlczogbm90ZVJlc3VsdHNcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRXhlY3V0ZSBzeW5jIHVzaW5nIHRoZSBkYWVtb24gYnJpZGdlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgYXN5bmMgZXhlY3V0ZURhZW1vblN5bmMoXHJcbiAgICAgICAgY29uZmlnOiBhbnksXHJcbiAgICAgICAgb25Qcm9ncmVzcz86IChwcm9ncmVzczogU3luY1Byb2dyZXNzKSA9PiB2b2lkXHJcbiAgICApOiBQcm9taXNlPFN5bmNSZXN1bHQ+IHtcclxuICAgICAgICBjb25zdCBkYWVtb25CcmlkZ2UgPSAodGhpcy5wbHVnaW4gYXMgYW55KS5weXRob25EYWVtb25CcmlkZ2U7XHJcbiAgICAgICAgaWYgKCFkYWVtb25CcmlkZ2UpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0RhZW1vbiBicmlkZ2Ugbm90IGF2YWlsYWJsZSwgZmFsbGluZyBiYWNrIHRvIHRyYWRpdGlvbmFsIHN5bmMnKTtcclxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZXhlY3V0ZVRyYWRpdGlvbmFsU3luYyhjb25maWcsIG9uUHJvZ3Jlc3MpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTm9ybWFsaXplIG5vdGVzIGFycmF5IGZvciBjb21wYXRpYmlsaXR5IHdpdGggZGlmZmVyZW50IGNvbmZpZyBzaGFwZXNcclxuICAgICAgICBsZXQgbm90ZXM6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29uZmlnLm5vdGVzKSAmJiBjb25maWcubm90ZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBub3RlcyA9IGNvbmZpZy5ub3RlcztcclxuICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY29uZmlnLm5vdGVzUGF0aHMpICYmIGNvbmZpZy5ub3Rlc1BhdGhzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbm90ZXMgPSBjb25maWcubm90ZXNQYXRocztcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb25maWcubm90ZXMgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIG5vdGVzID0gW2NvbmZpZy5ub3Rlc107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAobm90ZXMubGVuZ3RoIDw9IDEpIHtcclxuICAgICAgICAgICAgICAgIC8vIFNpbmdsZSBub3RlIHN5bmNcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRhZW1vbkJyaWRnZS5leGVjdXRlRGFlbW9uU3luYyhjb25maWcpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VEYWVtb25TeW5jUmVzdWx0KHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBNdWx0aXBsZSBub3RlcyAtIHByb2Nlc3Mgc2VxdWVudGlhbGx5XHJcbiAgICAgICAgICAgICAgICBsZXQgcHJvY2Vzc2VkID0gMDtcclxuICAgICAgICAgICAgICAgIGxldCBza2lwcGVkID0gMDtcclxuICAgICAgICAgICAgICAgIGxldCBub2RlVHlwZXNMb2FkZWQgPSAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IGVkZ2VUeXBlc0xvYWRlZCA9IDA7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgICAgICAgICBjb25zdCBub3RlUmVzdWx0czogYW55W10gPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vdGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNDYW5jZWxsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraXBwZWQ6IHNraXBwZWQgKyAobm90ZXMubGVuZ3RoIC0gaSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogbm90ZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmF0Y2hDb3VudDogbm90ZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVR5cGVzTG9hZGVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRnZVR5cGVzTG9hZGVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzOiBbLi4uZXJyb3JzLCAnU3luYyBjYW5jZWxsZWQgYnkgdXNlciddLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzRXJyb3JzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90ZXM6IG5vdGVSZXN1bHRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBub3RlID0gbm90ZXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgb25Qcm9ncmVzcz8uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudDogaSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWw6IG5vdGVzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYFByb2Nlc3Npbmcgbm90ZSAke2kgKyAxfS8ke25vdGVzLmxlbmd0aH06ICR7bm90ZX1gLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiAoaSAvIG5vdGVzLmxlbmd0aCkgKiAxMDBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2luZ2xlQ29uZmlnID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5jb25maWcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGVzOiBbbm90ZV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhdGNoX3NpemU6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGVzUGF0aHM6IFtub3RlXVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRhZW1vbkJyaWRnZS5leGVjdXRlRGFlbW9uU3luYyhzaW5nbGVDb25maWcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRSZXN1bHQgPSB0aGlzLnBhcnNlRGFlbW9uU3luY1Jlc3VsdChyZXN1bHQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZFJlc3VsdC5zdGF0dXMgPT09ICdzdWNjZXNzJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBza2lwcGVkKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChgTm90ZSAke25vdGV9OiAke3BhcnNlZFJlc3VsdC5tZXNzYWdlIHx8ICdmYWlsZWQnfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHBhcnNlZFJlc3VsdC5ub2RlVHlwZXNMb2FkZWQgPT09ICdudW1iZXInKSBub2RlVHlwZXNMb2FkZWQgKz0gcGFyc2VkUmVzdWx0Lm5vZGVUeXBlc0xvYWRlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJzZWRSZXN1bHQuZWRnZVR5cGVzTG9hZGVkID09PSAnbnVtYmVyJykgZWRnZVR5cGVzTG9hZGVkICs9IHBhcnNlZFJlc3VsdC5lZGdlVHlwZXNMb2FkZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGVSZXN1bHRzLnB1c2gocGFyc2VkUmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBza2lwcGVkKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVyck1zZyA9IGBEYWVtb24gc3luYyBmYWlsZWQgZm9yIG5vdGUgJHtub3RlfTogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goZXJyTXNnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0RhZW1vbiBzeW5jIGZhaWxlZCBmb3Igbm90ZScsIHsgbm90ZSwgZXJyb3IgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBvblByb2dyZXNzPy4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50OiBpICsgMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWw6IG5vdGVzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYENvbXBsZXRlZCAke25vdGV9YCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGVyY2VudGFnZTogKChpICsgMSkgLyBub3Rlcy5sZW5ndGgpICogMTAwXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNtYWxsIGRlbGF5IHRvIHJlZHVjZSByYWNlIGNvbmRpdGlvbnNcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzKSA9PiBzZXRUaW1lb3V0KHJlcywgNTAwKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gcHJvY2Vzc2VkID4gMCA/ICdzdWNjZXNzJyA6ICdlcnJvcic7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cyxcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgc2tpcHBlZCxcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbDogbm90ZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgIGJhdGNoQ291bnQ6IG5vdGVzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICBub2RlVHlwZXNMb2FkZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZWRnZVR5cGVzTG9hZGVkLFxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9ycyxcclxuICAgICAgICAgICAgICAgICAgICBoYXNFcnJvcnM6IGVycm9ycy5sZW5ndGggPiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG5vdGVzOiBub3RlUmVzdWx0c1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdEYWVtb24gc3luYyBmYWlsZWQsIGZhbGxpbmcgYmFjayB0byB0cmFkaXRpb25hbCBzeW5jJywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5leGVjdXRlVHJhZGl0aW9uYWxTeW5jKGNvbmZpZywgb25Qcm9ncmVzcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGFyc2UgZGFlbW9uIHN5bmMgcmVzdWx0IHRvIFN5bmNSZXN1bHQgZm9ybWF0XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcGFyc2VEYWVtb25TeW5jUmVzdWx0KHJlc3VsdDogYW55KTogU3luY1Jlc3VsdCB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBKU09OLnBhcnNlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2gge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHNraXBwZWQ6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWw6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2hDb3VudDogMCxcclxuICAgICAgICAgICAgICAgICAgICBub2RlVHlwZXNMb2FkZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZWRnZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gcGFyc2UgZGFlbW9uIHJlc3VsdCdcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHN0YXR1czogcmVzdWx0LnN0YXR1cyB8fCAnZXJyb3InLFxyXG4gICAgICAgICAgICBwcm9jZXNzZWQ6IHJlc3VsdC5zdGF0dXMgPT09ICdzdWNjZXNzJyA/IDEgOiAwLFxyXG4gICAgICAgICAgICBza2lwcGVkOiByZXN1bHQuc3RhdHVzID09PSAnc3VjY2VzcycgPyAwIDogMSxcclxuICAgICAgICAgICAgdG90YWw6IDEsXHJcbiAgICAgICAgICAgIGJhdGNoQ291bnQ6IDEsXHJcbiAgICAgICAgICAgIG5vZGVUeXBlc0xvYWRlZDogcmVzdWx0Lm5vZGVUeXBlc0xvYWRlZCB8fCAwLFxyXG4gICAgICAgICAgICBlZGdlVHlwZXNMb2FkZWQ6IHJlc3VsdC5lZGdlVHlwZXNMb2FkZWQgfHwgMCxcclxuICAgICAgICAgICAgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UsXHJcbiAgICAgICAgICAgIG5vdGVzOiBbcmVzdWx0XVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFeGVjdXRlIHRyYWRpdGlvbmFsIHN5bmMgKGV4dHJhY3RlZCBmcm9tIG9yaWdpbmFsIGV4ZWN1dGVQeXRob25TeW5jKVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGFzeW5jIGV4ZWN1dGVUcmFkaXRpb25hbFN5bmMoXHJcbiAgICAgICAgY29uZmlnOiBhbnksXHJcbiAgICAgICAgb25Qcm9ncmVzcz86IChwcm9ncmVzczogU3luY1Byb2dyZXNzKSA9PiB2b2lkXHJcbiAgICApOiBQcm9taXNlPFN5bmNSZXN1bHQ+IHtcclxuICAgICAgICBjb25zdCB7IGJyaWRnZURpcjogYnJpZGdlUGF0aCB9ID0gdGhpcy5nZXRWYXVsdEF3YXJlUGF0aHMoKTtcclxuICAgICAgICBjb25zdCBzeW5jU2NyaXB0ID0gam9pbihicmlkZ2VQYXRoLCAnc3luYy5weScpO1xyXG5cclxuICAgICAgICAvLyBOb3JtYWxpemUgbm90ZXMgYXJyYXkgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBkaWZmZXJlbnQgY29uZmlnIHNoYXBlc1xyXG4gICAgICAgIGxldCBub3Rlczogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb25maWcubm90ZXMpICYmIGNvbmZpZy5ub3Rlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIG5vdGVzID0gY29uZmlnLm5vdGVzO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjb25maWcubm90ZXNQYXRocykgJiYgY29uZmlnLm5vdGVzUGF0aHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBub3RlcyA9IGNvbmZpZy5ub3Rlc1BhdGhzO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbmZpZy5ub3RlcyA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgbm90ZXMgPSBbY29uZmlnLm5vdGVzXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEhlbHBlciB0byBydW4gYSBzaW5nbGUtbm90ZSBweXRob24gc3luYyBhbmQgcmV0dXJuIGEgcGFyc2VkIHJlc3VsdCBvciBmYWlsdXJlIGRldGFpbHNcclxuICAgICAgICBjb25zdCBydW5TaW5nbGVTeW5jID0gKHNpbmdsZUNvbmZpZzogYW55KTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IHJlc3VsdD86IGFueTsgc3Rkb3V0Pzogc3RyaW5nOyBzdGRlcnI/OiBzdHJpbmc7IGV4aXRDb2RlPzogbnVtYmVyIH0+ID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCBwbHVnaW4gZGlyZWN0b3J5IHRvIHBhc3MgdG8gUHl0aG9uIGZvciBkYXRhLmpzb24gbG9jYXRpb25cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHBsdWdpbkRpciB9ID0gdGhpcy5nZXRWYXVsdEF3YXJlUGF0aHMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHl0aG9uQ21kID0gdGhpcy5nZXRQeXRob25FeGVjdXRhYmxlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHl0aG9uRW52ID0gdGhpcy5nZXRQeXRob25FbnYoKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBFeGVjdXRlIHN5bmMucHkgYXMgYSBQeXRob24gbW9kdWxlIHRvIHN1cHBvcnQgcmVsYXRpdmUgaW1wb3J0cyAocHJvZHVjdGlvbi1zYWZlKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHl0aG9uUHJvY2VzcyA9IHNwYXduKHB5dGhvbkNtZCwgW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnLW0nLCAnZ3JhcGhpdGlfYnJpZGdlLnN5bmMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnLS12YXVsdC1wYXRoJywgc2luZ2xlQ29uZmlnLnZhdWx0X3BhdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICctLXBsdWdpbi1kYXRhLXBhdGgnLCBwbHVnaW5EaXJcclxuICAgICAgICAgICAgICAgICAgICBdLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN3ZDogcGx1Z2luRGlyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGRpbzogWydwaXBlJywgJ3BpcGUnLCAncGlwZSddLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnY6IHB5dGhvbkVudlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBUcmFjayBwcm9jZXNzIGZvciBjYW5jZWxsYXRpb25cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZVByb2Nlc3Nlcy5hZGQodGhpcy5weXRob25Qcm9jZXNzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gV3JpdGUgaW5wdXQgYW5kIGNsb3NlIHN0ZGluXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5weXRob25Qcm9jZXNzLnN0ZGluPy53cml0ZShKU09OLnN0cmluZ2lmeShzaW5nbGVDb25maWcpKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnB5dGhvblByb2Nlc3Muc3RkaW4/LmVuZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgb3V0ID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVyciA9ICcnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnB5dGhvblByb2Nlc3Muc3Rkb3V0Py5vbignZGF0YScsIChkYXRhOiBCdWZmZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGRhdGEudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0ICs9IHRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgbG9nIHN0ZG91dCBpbiBkZWJ1ZyBtb2RlIHRvIGF2b2lkIEpTT04gc3BhbVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVEZWJ1Z0xvZ2dpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZ1B5dGhvbk91dHB1dCgnc3Rkb3V0JywgdGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5weXRob25Qcm9jZXNzLnN0ZGVycj8ub24oJ2RhdGEnLCAoZGF0YTogQnVmZmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBkYXRhLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVyciArPSB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBbHdheXMgbG9nIHN0ZGVyciAoY29udGFpbnMgZXJyb3JzL3dhcm5pbmdzL2RlYnVnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2dQeXRob25PdXRwdXQoJ3N0ZGVycicsIHRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnB5dGhvblByb2Nlc3Mub24oJ2Nsb3NlJywgKGNvZGU6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZnJvbSBhY3RpdmUgcHJvY2Vzc2VzIGFuZCBjbGVhciByZWZlcmVuY2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVQcm9jZXNzZXMuZGVsZXRlKHRoaXMucHl0aG9uUHJvY2VzcyEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnB5dGhvblByb2Nlc3MgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShvdXQudHJpbSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMb2cgUHl0aG9uIGRpYWdub3N0aWNzIGlmIHByZXNlbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VkLl9kaWFnbm9zdGljcyAmJiBBcnJheS5pc0FycmF5KHBhcnNlZC5fZGlhZ25vc3RpY3MpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZGlhZ25vc3RpYyBvZiBwYXJzZWQuX2RpYWdub3N0aWNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBbUFlUSE9OLURJQUdOT1NUSUNTXSAke2RpYWdub3N0aWN9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7IHN1Y2Nlc3M6IHRydWUsIHJlc3VsdDogcGFyc2VkLCBzdGRvdXQ6IG91dCwgc3RkZXJyOiBlcnIsIGV4aXRDb2RlOiBjb2RlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAocGFyc2VFcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsgc3VjY2VzczogZmFsc2UsIHN0ZG91dDogb3V0LCBzdGRlcnI6IGVyciB8fCBTdHJpbmcocGFyc2VFcnIpLCBleGl0Q29kZTogY29kZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoeyBzdWNjZXNzOiBmYWxzZSwgc3Rkb3V0OiBvdXQsIHN0ZGVycjogZXJyLCBleGl0Q29kZTogY29kZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnB5dGhvblByb2Nlc3Mub24oJ2Vycm9yJywgKGVycm9yOiBFcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5weXRob25Qcm9jZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZVByb2Nlc3Nlcy5kZWxldGUodGhpcy5weXRob25Qcm9jZXNzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnB5dGhvblByb2Nlc3MgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsgc3VjY2VzczogZmFsc2UsIHN0ZG91dDogdW5kZWZpbmVkLCBzdGRlcnI6IGVycm9yLm1lc3NhZ2UsIGV4aXRDb2RlOiAtMSB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5weXRob25Qcm9jZXNzID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsgc3VjY2VzczogZmFsc2UsIHN0ZG91dDogdW5kZWZpbmVkLCBzdGRlcnI6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSwgZXhpdENvZGU6IC0xIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBvbmUgb3IgemVybyBub3RlcywgcHJlc2VydmUgb3JpZ2luYWwgc2luZ2xlLWNhbGwgYmVoYXZpb3IgYW5kIHJldHVybiBQeXRob24ncyByZXN1bHQgZGlyZWN0bHlcclxuICAgICAgICBpZiAobm90ZXMubGVuZ3RoIDw9IDEpIHtcclxuICAgICAgICAgICAgY29uc3Qgbm90ZVBhdGhGb3JHcm91cCA9IG5vdGVzLmxlbmd0aCA9PT0gMVxyXG4gICAgICAgICAgICAgICAgPyBub3Rlc1swXVxyXG4gICAgICAgICAgICAgICAgOiAoQXJyYXkuaXNBcnJheShjb25maWcubm90ZXMpICYmIGNvbmZpZy5ub3Rlcy5sZW5ndGggPiAwID8gY29uZmlnLm5vdGVzWzBdIDogdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgbGV0IGdyb3VwSWRPdmVycmlkZTogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICBpZiAobm90ZVBhdGhGb3JHcm91cCkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBncm91cElkT3ZlcnJpZGUgPSBhd2FpdCB0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UuZ2VuZXJhdGVHcm91cElkKG5vdGVQYXRoRm9yR3JvdXAsIHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXROYW1lKCkpO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYmVzdC1lZmZvcnQ7IGZhbGwgYmFjayB0byBQeXRob24gcmVzb2x1dGlvbiBpZiBnZW5lcmF0aW9uIGZhaWxzXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgc2luZ2xlQ29uZmlnID0ge1xyXG4gICAgICAgICAgICAgICAgLi4uY29uZmlnLFxyXG4gICAgICAgICAgICAgICAgLi4uKGdyb3VwSWRPdmVycmlkZSA/IHsgZ3JvdXBfaWQ6IGdyb3VwSWRPdmVycmlkZSB9IDoge30pLFxyXG4gICAgICAgICAgICAgICAgbm90ZXM6IG5vdGVzLmxlbmd0aCA9PT0gMSA/IG5vdGVzIDogY29uZmlnLm5vdGVzXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNvbnN0IHIgPSBhd2FpdCBydW5TaW5nbGVTeW5jKHNpbmdsZUNvbmZpZyk7XHJcbiAgICAgICAgICAgIGlmIChyLnN1Y2Nlc3MgJiYgci5yZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSByYXRlIGxpbWl0aW5nIGluIHNpbmdsZS1ub3RlIHN5bmMgd2l0aCBlbmhhbmNlZCBmZWVkYmFja1xyXG4gICAgICAgICAgICAgICAgaWYgKHIucmVzdWx0LnN0YXR1cyA9PT0gJ3JhdGVfbGltaXRlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXRyeUFmdGVyID0gci5yZXN1bHQucmV0cnlfYWZ0ZXIgfHwgNjA7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzZXRUaW1lID0gci5yZXN1bHQucmVzZXRfdGltZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm92aWRlck1lc3NhZ2UgPSByLnJlc3VsdC5wcm92aWRlcl9tZXNzYWdlIHx8ICdBUEkgcmF0ZSBsaW1pdCBleGNlZWRlZCc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSB1c2VyLWZyaWVuZGx5IG1lc3NhZ2Ugd2l0aCB0aW1pbmdcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcGF1c2VNZXNzYWdlID0gYFJhdGUgbGltaXQgZXhjZWVkZWQgLSBzeW5jIHBhdXNlZGA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc2V0VGltZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNldERhdGUgPSBuZXcgRGF0ZShyZXNldFRpbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXVzZU1lc3NhZ2UgKz0gYCB1bnRpbCAke3Jlc2V0RGF0ZS50b0xvY2FsZVN0cmluZygpfWA7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF1c2VNZXNzYWdlICs9IGAgZm9yICR7TWF0aC5yb3VuZChyZXRyeUFmdGVyIC8gNjApfSBtaW51dGVzYDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ1JhdGUgbGltaXQgZGV0ZWN0ZWQgaW4gc2luZ2xlIHN5bmMgLSBwYXVzaW5nJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXRyeUFmdGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNldFRpbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyTWVzc2FnZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF1c2VNZXNzYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBza2lwcGVkOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmF0Y2hDb3VudDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGdlVHlwZXNMb2FkZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHBhdXNlTWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gdGhlIHJhdyBwYXJzZWQgUHl0aG9uIHJlc3VsdCAobWFpbnRhaW5zIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gci5yZXN1bHQgYXMgU3luY1Jlc3VsdDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgUHl0aG9uIHN5bmMgZmFpbGVkJHtyLmV4aXRDb2RlICE9PSB1bmRlZmluZWQgPyBgIHdpdGggZXhpdCBjb2RlICR7ci5leGl0Q29kZX1gIDogJyd9OiAke3Iuc3RkZXJyIHx8IHIuc3Rkb3V0IHx8ICdVbmtub3duIGVycm9yJ31gO1xyXG4gICAgICAgICAgICAgICAgLy8gVHJ1bmNhdGUgc3RkZXJyIHRvIGZpcnN0IGxpbmUgZm9yIGNsZWFuIGxvZ2dpbmdcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRydW5jYXRlZFN0ZGVyciA9IHIuc3RkZXJyID8gci5zdGRlcnIuc3BsaXQoJ1xcbicpWzBdIDogJ1Vua25vd24gZXJyb3InO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1B5dGhvbiBzeW5jIHByb2Nlc3MgZmFpbGVkJywge1xyXG4gICAgICAgICAgICAgICAgICAgIGV4aXRDb2RlOiByLmV4aXRDb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0ZGVycjogdHJ1bmNhdGVkU3RkZXJyLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0ZGVyckxlbmd0aDogci5zdGRlcnIgPyByLnN0ZGVyci5sZW5ndGggOiAwXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZDogMCxcclxuICAgICAgICAgICAgICAgICAgICBza2lwcGVkOiBub3Rlcy5sZW5ndGggfHwgMSxcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbDogbm90ZXMubGVuZ3RoIHx8IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2hDb3VudDogMCxcclxuICAgICAgICAgICAgICAgICAgICBub2RlVHlwZXNMb2FkZWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZWRnZVR5cGVzTG9hZGVkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE90aGVyd2lzZSwgcHJvY2VzcyBub3RlcyBzZXF1ZW50aWFsbHkgKG9uZSBQeXRob24gcHJvY2VzcyBwZXIgbm90ZSlcclxuICAgICAgICBsZXQgcHJvY2Vzc2VkID0gMDtcclxuICAgICAgICBsZXQgc2tpcHBlZCA9IDA7XHJcbiAgICAgICAgbGV0IG5vZGVUeXBlc0xvYWRlZCA9IDA7XHJcbiAgICAgICAgbGV0IGVkZ2VUeXBlc0xvYWRlZCA9IDA7XHJcbiAgICAgICAgY29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgIGNvbnN0IG5vdGVSZXN1bHRzOiBhbnlbXSA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vdGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIC8vIENoZWNrIGZvciBjYW5jZWxsYXRpb24gYmVmb3JlIHByb2Nlc3NpbmcgZWFjaCBub3RlXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQ2FuY2VsbGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdbQ0FOQ0VMXSBTZXF1ZW50aWFsIHN5bmMgY2FuY2VsbGVkIGJ5IHVzZXInKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZCxcclxuICAgICAgICAgICAgICAgICAgICBza2lwcGVkOiBza2lwcGVkICsgKG5vdGVzLmxlbmd0aCAtIGkpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsOiBub3Rlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2hDb3VudDogbm90ZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGVUeXBlc0xvYWRlZCxcclxuICAgICAgICAgICAgICAgICAgICBlZGdlVHlwZXNMb2FkZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzOiBbLi4uZXJyb3JzLCAnU3luYyBjYW5jZWxsZWQgYnkgdXNlciddLFxyXG4gICAgICAgICAgICAgICAgICAgIGhhc0Vycm9yczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBub3Rlczogbm90ZVJlc3VsdHNcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG5vdGUgPSBub3Rlc1tpXTtcclxuXHJcbiAgICAgICAgICAgIG9uUHJvZ3Jlc3M/Lih7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50OiBpLFxyXG4gICAgICAgICAgICAgICAgdG90YWw6IG5vdGVzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBQcm9jZXNzaW5nIG5vdGUgJHtpICsgMX0vJHtub3Rlcy5sZW5ndGh9OiAke25vdGV9YCxcclxuICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2U6IChpIC8gbm90ZXMubGVuZ3RoKSAqIDEwMFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIEJ1aWxkIGEgc2luZ2xlLW5vdGUgY29uZmlnIGZvciB0aGUgUHl0aG9uIGJyaWRnZSAoaW5jbHVkZSByZXNvbHZlZCBncm91cF9pZCBvdmVycmlkZSlcclxuICAgICAgICAgICAgbGV0IGdyb3VwSWRPdmVycmlkZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgZ3JvdXBJZE92ZXJyaWRlID0gYXdhaXQgdGhpcy5zeW5jUmVnaXN0cnlTZXJ2aWNlLmdlbmVyYXRlR3JvdXBJZChub3RlLCB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0TmFtZSgpKTtcclxuICAgICAgICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgICAgICAgICAvLyBiZXN0LWVmZm9ydDsgZmFsbCBiYWNrIHRvIFB5dGhvbiByZXNvbHV0aW9uIGlmIGdlbmVyYXRpb24gZmFpbHNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBzaW5nbGVDb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICAuLi5jb25maWcsXHJcbiAgICAgICAgICAgICAgICAuLi4oZ3JvdXBJZE92ZXJyaWRlID8geyBncm91cF9pZDogZ3JvdXBJZE92ZXJyaWRlIH0gOiB7fSksXHJcbiAgICAgICAgICAgICAgICBub3RlczogW25vdGVdLFxyXG4gICAgICAgICAgICAgICAgYmF0Y2hfc2l6ZTogMSxcclxuICAgICAgICAgICAgICAgIC8vIGtlZXAgYmFja3dhcmQtY29tcGF0aWJsZSBrZXkgbmFtZXMgdXNlZCBieSBQeXRob24gYnJpZGdlXHJcbiAgICAgICAgICAgICAgICBub3Rlc1BhdGhzOiBbbm90ZV1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdFdyYXBwZXIgPSBhd2FpdCBydW5TaW5nbGVTeW5jKHNpbmdsZUNvbmZpZyk7XHJcblxyXG4gICAgICAgICAgICBpZiAocmVzdWx0V3JhcHBlci5zdWNjZXNzICYmIHJlc3VsdFdyYXBwZXIucmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSByZXN1bHRXcmFwcGVyLnJlc3VsdDtcclxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSByYXRlIGxpbWl0aW5nIHdpdGggZW5oYW5jZWQgcGF1c2UgbG9naWNcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAncmF0ZV9saW1pdGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNraXBwZWQrKztcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXRyeUFmdGVyID0gcmVzdWx0LnJldHJ5X2FmdGVyIHx8IDYwO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc2V0VGltZSA9IHJlc3VsdC5yZXNldF90aW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyTWVzc2FnZSA9IHJlc3VsdC5wcm92aWRlcl9tZXNzYWdlIHx8ICdBUEkgcmF0ZSBsaW1pdCBleGNlZWRlZCc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSB1c2VyLWZyaWVuZGx5IG1lc3NhZ2Ugd2l0aCB0aW1pbmdcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcGF1c2VNZXNzYWdlID0gYFJhdGUgbGltaXQgZXhjZWVkZWQgLSBzeW5jIHBhdXNlZGA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc2V0VGltZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNldERhdGUgPSBuZXcgRGF0ZShyZXNldFRpbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXVzZU1lc3NhZ2UgKz0gYCB1bnRpbCAke3Jlc2V0RGF0ZS50b0xvY2FsZVN0cmluZygpfWA7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF1c2VNZXNzYWdlICs9IGAgZm9yICR7TWF0aC5yb3VuZChyZXRyeUFmdGVyIC8gNjApfSBtaW51dGVzYDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGBOb3RlICR7bm90ZX06ICR7cGF1c2VNZXNzYWdlfWApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBFbmhhbmNlZCBsb2dnaW5nIHdpdGggcmVzZXQgdGltZSBpbmZvcm1hdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ1JhdGUgbGltaXQgZGV0ZWN0ZWQgLSBzeW5jIHBhdXNpbmcnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHJ5QWZ0ZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0VGltZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJNZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXVzZU1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHByb2dyZXNzIHRvIHNob3cgcGF1c2Ugc3RhdHVzXHJcbiAgICAgICAgICAgICAgICAgICAgb25Qcm9ncmVzcz8uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudDogaSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWw6IG5vdGVzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcGF1c2VNZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiAoaSAvIG5vdGVzLmxlbmd0aCkgKiAxMDBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbm90ZVJlc3VsdHMucHVzaChyZXN1bHQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBJbnRlbGxpZ2VudCBkZWxheTogbG9uZ2VyIHBhdXNlIGZvciBhY3R1YWwgcmF0ZSBsaW1pdHMsIHNob3J0ZXIgZm9yIHRlc3RpbmdcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXhEZWxheSA9IHJldHJ5QWZ0ZXIgPiAzMDAgPyAzMDAwMCA6IE1hdGgubWluKHJldHJ5QWZ0ZXIgKiAxMDAwLCAxMDAwMCk7IC8vIE1heCAzMHMgZm9yIGxvbmcgbGltaXRzLCAxMHMgZm9yIHNob3J0XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1heERlbGF5KSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFmdGVyIGRlbGF5LCB1cGRhdGUgcHJvZ3Jlc3MgdG8gc2hvdyByZXN1bWluZ1xyXG4gICAgICAgICAgICAgICAgICAgIG9uUHJvZ3Jlc3M/Lih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQ6IGksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiBub3Rlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBSZXN1bWluZyBzeW5jIGFmdGVyIHJhdGUgbGltaXQgcGF1c2UuLi5gLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiAoaSAvIG5vdGVzLmxlbmd0aCkgKiAxMDBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIFJlc3BlY3QgUHl0aG9uJ3MgcmVzdWx0LnN0YXR1cyBpZiBwcmVzZW50XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXN1bHQuc3RhdHVzID09PSAnc3VjY2VzcycpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQrKztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2tpcHBlZCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGBOb3RlICR7bm90ZX06ICR7cmVzdWx0Lm1lc3NhZ2UgfHwgJ2ZhaWxlZCd9YCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlc3VsdC5ub2RlVHlwZXNMb2FkZWQgPT09ICdudW1iZXInKSBub2RlVHlwZXNMb2FkZWQgKz0gcmVzdWx0Lm5vZGVUeXBlc0xvYWRlZDtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVzdWx0LmVkZ2VUeXBlc0xvYWRlZCA9PT0gJ251bWJlcicpIGVkZ2VUeXBlc0xvYWRlZCArPSByZXN1bHQuZWRnZVR5cGVzTG9hZGVkO1xyXG4gICAgICAgICAgICAgICAgbm90ZVJlc3VsdHMucHVzaChyZXN1bHQpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2tpcHBlZCsrO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXJyTXNnID0gYFB5dGhvbiBzeW5jIGZhaWxlZCBmb3Igbm90ZSAke25vdGV9IChleGl0Q29kZT0ke3Jlc3VsdFdyYXBwZXIuZXhpdENvZGV9KTogJHtyZXN1bHRXcmFwcGVyLnN0ZGVyciB8fCByZXN1bHRXcmFwcGVyLnN0ZG91dCB8fCAnJ31gO1xyXG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goZXJyTXNnKTtcclxuICAgICAgICAgICAgICAgIC8vIFRydW5jYXRlIHN0ZGVyciB0byBmaXJzdCBsaW5lIGZvciBjbGVhbiBsb2dnaW5nXHJcbiAgICAgICAgICAgICAgICBjb25zdCB0cnVuY2F0ZWRTdGRlcnIgPSByZXN1bHRXcmFwcGVyLnN0ZGVyciA/IHJlc3VsdFdyYXBwZXIuc3RkZXJyLnNwbGl0KCdcXG4nKVswXSA6ICdVbmtub3duIGVycm9yJztcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdQeXRob24gc3luYyBmYWlsZWQgZm9yIG5vdGUnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbm90ZSxcclxuICAgICAgICAgICAgICAgICAgICBleGl0Q29kZTogcmVzdWx0V3JhcHBlci5leGl0Q29kZSxcclxuICAgICAgICAgICAgICAgICAgICBzdGRlcnI6IHRydW5jYXRlZFN0ZGVycixcclxuICAgICAgICAgICAgICAgICAgICBzdGRlcnJMZW5ndGg6IHJlc3VsdFdyYXBwZXIuc3RkZXJyID8gcmVzdWx0V3JhcHBlci5zdGRlcnIubGVuZ3RoIDogMFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG9uUHJvZ3Jlc3M/Lih7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50OiBpICsgMSxcclxuICAgICAgICAgICAgICAgIHRvdGFsOiBub3Rlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgQ29tcGxldGVkICR7bm90ZX1gLFxyXG4gICAgICAgICAgICAgICAgcGVyY2VudGFnZTogKChpICsgMSkgLyBub3Rlcy5sZW5ndGgpICogMTAwXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gU21hbGwgZGVsYXkgdG8gcmVkdWNlIHJpc2sgb2YgcmFjZSBjb25kaXRpb25zIC8gZHVwbGljYXRlIGVudGl0eSBjcmVhdGlvbiBpbiBHcmFwaGl0aVxyXG4gICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzKSA9PiBzZXRUaW1lb3V0KHJlcywgNTAwKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBzdGF0dXMgPSBwcm9jZXNzZWQgPiAwID8gJ3N1Y2Nlc3MnIDogJ2Vycm9yJztcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzdGF0dXMsXHJcbiAgICAgICAgICAgIHByb2Nlc3NlZCxcclxuICAgICAgICAgICAgc2tpcHBlZCxcclxuICAgICAgICAgICAgdG90YWw6IG5vdGVzLmxlbmd0aCxcclxuICAgICAgICAgICAgYmF0Y2hDb3VudDogbm90ZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICBub2RlVHlwZXNMb2FkZWQsXHJcbiAgICAgICAgICAgIGVkZ2VUeXBlc0xvYWRlZCxcclxuICAgICAgICAgICAgZXJyb3JzLFxyXG4gICAgICAgICAgICBoYXNFcnJvcnM6IGVycm9ycy5sZW5ndGggPiAwLFxyXG4gICAgICAgICAgICBub3Rlczogbm90ZVJlc3VsdHNcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRXhlY3V0ZSBhIHNpbXBsZSBQeXRob24gY29tbWFuZFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGFzeW5jIGV4ZWN1dGVQeXRob25Db21tYW5kKGFyZ3M6IHN0cmluZ1tdKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG91dHB1dD86IHN0cmluZzsgZXJyb3I/OiBzdHJpbmcgfT4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBweXRob25DbWQgPSB0aGlzLmdldFB5dGhvbkV4ZWN1dGFibGUoKTtcclxuICAgICAgICAgICAgY29uc3QgcHl0aG9uRW52ID0gdGhpcy5nZXRQeXRob25FbnYoKTtcclxuICAgICAgICAgICAgY29uc3QgcHJvY2VzcyA9IHNwYXduKHB5dGhvbkNtZCwgYXJncywge1xyXG4gICAgICAgICAgICAgICAgc3RkaW86IFsncGlwZScsICdwaXBlJywgJ3BpcGUnXSxcclxuICAgICAgICAgICAgICAgIGVudjogcHl0aG9uRW52XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgbGV0IG91dHB1dCA9ICcnO1xyXG4gICAgICAgICAgICBsZXQgZXJyb3IgPSAnJztcclxuXHJcbiAgICAgICAgICAgIHByb2Nlc3Muc3Rkb3V0Py5vbignZGF0YScsIChkYXRhOiBCdWZmZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIG91dHB1dCArPSBkYXRhLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcHJvY2Vzcy5zdGRlcnI/Lm9uKCdkYXRhJywgKGRhdGE6IEJ1ZmZlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgZXJyb3IgKz0gZGF0YS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHByb2Nlc3Mub24oJ2Nsb3NlJywgKGNvZGU6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogY29kZSA9PT0gMCxcclxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6IG91dHB1dC50cmltKCksXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yLnRyaW0oKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcHJvY2Vzcy5vbignZXJyb3InLCAoZXJyOiBFcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVyci5tZXNzYWdlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFeGVjdXRlIFB5dGhvbiBjb25uZWN0aW9uIHRlc3RcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBhc3luYyBleGVjdXRlUHl0aG9uQ29ubmVjdGlvblRlc3QoXHJcbiAgICBcdHRlc3RUeXBlOiAnZGF0YWJhc2UnIHwgJ2xsbScgfCAnZW1iZWRkaW5nJyB8ICdjb21iaW5hdGlvbicgfCAnZW1iZWRkaW5nLXRlc3QnIHwgJ2VwaXNvZGUtdGVzdCcgfCAnY29tYmluYXRpb24tcGlwZWxpbmUnLFxyXG4gICAgXHRjb25maWc6IGFueVxyXG4gICAgKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZzsgbGF0ZW5jeT86IG51bWJlciB9PiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAvLyBHZXQgcGx1Z2luIGRpcmVjdG9yeSBmb3IgbW9kdWxlIGV4ZWN1dGlvblxyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBwbHVnaW5EaXIsIGJyaWRnZURpcjogYnJpZGdlUGF0aCB9ID0gdGhpcy5nZXRWYXVsdEF3YXJlUGF0aHMoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRlc3RTY3JpcHQgPSBqb2luKGJyaWRnZVBhdGgsICd0ZXN0X2Nvbm5lY3Rpb25zLnB5Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGVzdCBzY3JpcHQgZXhpc3RzXHJcbiAgICAgICAgICAgICAgICBjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWZzLmV4aXN0c1N5bmModGVzdFNjcmlwdCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBUZXN0IHNjcmlwdCBub3QgZm91bmQgYXQ6ICR7dGVzdFNjcmlwdH1gXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0V4ZWN1dGluZyBjb25uZWN0aW9uIHRlc3QnLCB7IHRlc3RUeXBlIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNwYXduIFB5dGhvbiBwcm9jZXNzIGZvciBjb25uZWN0aW9uIHRlc3QgLSBleGVjdXRlIGFzIG1vZHVsZSBmb3IgcmVsYXRpdmUgaW1wb3J0c1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHl0aG9uQ21kID0gdGhpcy5nZXRQeXRob25FeGVjdXRhYmxlKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBweXRob25FbnYgPSB0aGlzLmdldFB5dGhvbkVudigpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvY2VzcyA9IHNwYXduKHB5dGhvbkNtZCwgW1xyXG4gICAgICAgICAgICAgICAgICAgICctbScsICdncmFwaGl0aV9icmlkZ2UudGVzdF9jb25uZWN0aW9ucycsXHJcbiAgICAgICAgICAgICAgICAgICAgJy0tdGVzdC10eXBlJywgdGVzdFR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgJy0tY29uZmlnJywgSlNPTi5zdHJpbmdpZnkoY29uZmlnKVxyXG4gICAgICAgICAgICAgICAgXSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGN3ZDogcGx1Z2luRGlyLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0ZGlvOiBbJ3BpcGUnLCAncGlwZScsICdwaXBlJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgZW52OiBweXRob25FbnZcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBvdXRwdXRCdWZmZXIgPSAnJztcclxuICAgICAgICAgICAgICAgIGxldCBlcnJvckJ1ZmZlciA9ICcnO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBzdGRvdXRcclxuICAgICAgICAgICAgICAgIHByb2Nlc3Muc3Rkb3V0Py5vbignZGF0YScsIChkYXRhOiBCdWZmZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gZGF0YS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dEJ1ZmZlciArPSB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZ1B5dGhvbk91dHB1dCgnc3Rkb3V0JywgdGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgc3RkZXJyXHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzLnN0ZGVycj8ub24oJ2RhdGEnLCAoZGF0YTogQnVmZmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGRhdGEudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBlcnJvckJ1ZmZlciArPSB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZ1B5dGhvbk91dHB1dCgnc3RkZXJyJywgdGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgcHJvY2VzcyBjb21wbGV0aW9uXHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzLm9uKCdjbG9zZScsIChjb2RlOiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnQ29ubmVjdGlvbiB0ZXN0IHByb2Nlc3MgY29tcGxldGVkJywgeyBleGl0Q29kZTogY29kZSB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBhcnNlIEpTT04gcmVzcG9uc2UgZnJvbSBQeXRob24gc2NyaXB0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBKU09OLnBhcnNlKG91dHB1dEJ1ZmZlci50cmltKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2U6IGFueSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiByZXN1bHQuc3VjY2VzcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRlbmN5OiByZXN1bHQubGF0ZW5jeVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbmNsdWRlIHN0cnVjdHVyZWQgY3Jvc3NfZW5jb2RlciBpbmZvIGlmIGF2YWlsYWJsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jcm9zc19lbmNvZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuY3Jvc3NfZW5jb2RlciA9IHJlc3VsdC5jcm9zc19lbmNvZGVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHBhcnNlIGNvbm5lY3Rpb24gdGVzdCByZXN1bHQnLCBlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBGYWlsZWQgdG8gcGFyc2UgdGVzdCByZXN1bHQ6ICR7b3V0cHV0QnVmZmVyIHx8IGVycm9yQnVmZmVyfWBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0Nvbm5lY3Rpb24gdGVzdCBmYWlsZWQnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGl0Q29kZTogY29kZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZGVycjogZXJyb3JCdWZmZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGRvdXQ6IG91dHB1dEJ1ZmZlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBDb25uZWN0aW9uIHRlc3QgZmFpbGVkIChleGl0IGNvZGUgJHtjb2RlfSk6ICR7ZXJyb3JCdWZmZXIgfHwgb3V0cHV0QnVmZmVyIHx8ICdVbmtub3duIGVycm9yJ31gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBwcm9jZXNzIGVycm9yc1xyXG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5vbignZXJyb3InLCAoZXJyb3I6IEVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBzdGFydCBjb25uZWN0aW9uIHRlc3QgcHJvY2VzcycsIGVycm9yKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ0VOT0VOVCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9ICdQeXRob24gbm90IGZvdW5kLiBQbGVhc2UgZW5zdXJlIFB5dGhvbiAzLjEwKyBpcyBpbnN0YWxsZWQgYW5kIGluIHlvdXIgUEFUSC4nO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgRmFpbGVkIHRvIHN0YXJ0IGNvbm5lY3Rpb24gdGVzdDogJHtlcnJvck1lc3NhZ2V9YFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0Nvbm5lY3Rpb24gdGVzdCBleGNlcHRpb24nLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHtcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgQ29ubmVjdGlvbiB0ZXN0IGVycm9yOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGVzdCBkYXRhYmFzZSBjb25uZWN0aW9uXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHRlc3REYXRhYmFzZUNvbm5lY3Rpb24oKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZzsgbGF0ZW5jeT86IG51bWJlciB9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgY29uZmlnID0ge1xyXG4gICAgICAgICAgICAgICAgZGF0YWJhc2VfdHlwZTogdGhpcy5zZXR0aW5ncy5kYXRhYmFzZVR5cGUsXHJcbiAgICAgICAgICAgICAgICAuLi50aGlzLnByZXBhcmVEYXRhYmFzZUNvbmZpZygpXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBjb25zdCBkYkNvbmZpZyA9IHRoaXMuZ2V0RGF0YWJhc2VDb25maWcoKTtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1Rlc3RpbmcgZGF0YWJhc2UgY29ubmVjdGlvbicsIHtcclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlVHlwZTogdGhpcy5zZXR0aW5ncy5kYXRhYmFzZVR5cGUsXHJcbiAgICAgICAgICAgICAgICBkYXRhYmFzZUNvbmZpZzogZGJDb25maWcsXHJcbiAgICAgICAgICAgICAgICBoYXNQYXNzd29yZDogISEoZGJDb25maWc/LnBhc3N3b3JkKSxcclxuICAgICAgICAgICAgICAgIHBhc3N3b3JkTGVuZ3RoOiBkYkNvbmZpZz8ucGFzc3dvcmQ/Lmxlbmd0aCB8fCAwXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZXhlY3V0ZVB5dGhvbkNvbm5lY3Rpb25UZXN0KCdkYXRhYmFzZScsIGNvbmZpZyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0RhdGFiYXNlIGNvbm5lY3Rpb24gdGVzdCBlcnJvcicsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogYERhdGFiYXNlIHRlc3QgZXJyb3I6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWBcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUZXN0IExMTSBjb25uZWN0aW9uXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHRlc3RMTE1Db25uZWN0aW9uKCk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmc7IGxhdGVuY3k/OiBudW1iZXIgfT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgIC8vIExMTSBDb25maWd1cmF0aW9uXHJcbiAgICAgICAgICAgICAgICBsbG1fcHJvdmlkZXI6IHRoaXMuc2V0dGluZ3MubGxtUHJvdmlkZXIsXHJcbiAgICAgICAgICAgICAgICBhcGlfa2V5czogdGhpcy5zZXR0aW5ncy5hcGlLZXlzLCAgLy8gU2VuZCB0aGUgd2hvbGUgYXBpS2V5cyBvYmplY3RcclxuICAgICAgICAgICAgICAgIGxsbV9tb2RlbDogdGhpcy5zZXR0aW5ncy5sbG1Nb2RlbCxcclxuICAgICAgICAgICAgICAgIGF6dXJlX2VuZHBvaW50OiB0aGlzLnNldHRpbmdzLmF6dXJlRW5kcG9pbnQsXHJcbiAgICAgICAgICAgICAgICBhenVyZV9hcGlfdmVyc2lvbjogdGhpcy5zZXR0aW5ncy5henVyZUFwaVZlcnNpb24sXHJcbiAgICAgICAgICAgICAgICBvbGxhbWFfYmFzZV91cmw6IHRoaXMuc2V0dGluZ3Mub2xsYW1hQmFzZVVybCxcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBEYXRhYmFzZSBDb25maWd1cmF0aW9uIC0gUmVxdWlyZWQgZm9yIEdyYXBoaXRpIGluc3RhbmNlXHJcbiAgICAgICAgICAgICAgICBkYXRhYmFzZV90eXBlOiB0aGlzLnNldHRpbmdzLmRhdGFiYXNlVHlwZSxcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMucHJlcGFyZURhdGFiYXNlQ29uZmlnKClcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdUZXN0aW5nIExMTSBjb25uZWN0aW9uJywge1xyXG4gICAgICAgICAgICAgICAgbGxtUHJvdmlkZXI6IHRoaXMuc2V0dGluZ3MubGxtUHJvdmlkZXIsXHJcbiAgICAgICAgICAgICAgICBoYXNBcGlLZXlzOiBPYmplY3Qua2V5cyh0aGlzLnNldHRpbmdzLmFwaUtleXMpLmxlbmd0aCA+IDAsXHJcbiAgICAgICAgICAgICAgICBzYW5pdGl6ZWRDb25maWc6IHRoaXMuc2FuaXRpemVDb25maWdGb3JMb2dnaW5nKGNvbmZpZylcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmV4ZWN1dGVQeXRob25Db25uZWN0aW9uVGVzdCgnbGxtJywgY29uZmlnKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignTExNIGNvbm5lY3Rpb24gdGVzdCBlcnJvcicsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogYExMTSB0ZXN0IGVycm9yOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGVzdCBlbWJlZGRpbmcgY29ubmVjdGlvblxyXG4gICAgICovXHJcbiAgICBhc3luYyB0ZXN0RW1iZWRkaW5nQ29ubmVjdGlvbigpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nOyBsYXRlbmN5PzogbnVtYmVyIH0+IHtcclxuICAgIFx0dHJ5IHtcclxuICAgIFx0XHRjb25zdCBjb25maWcgPSB7XHJcbiAgICBcdFx0XHQvLyBFbWJlZGRlciBDb25maWd1cmF0aW9uXHJcbiAgICBcdFx0XHRlbWJlZGRlcl9wcm92aWRlcjogdGhpcy5zZXR0aW5ncy5lbWJlZGRlclByb3ZpZGVyLFxyXG4gICAgXHRcdFx0YXBpX2tleXM6IHRoaXMuc2V0dGluZ3MuYXBpS2V5cywgIC8vIFNlbmQgdGhlIHdob2xlIGFwaUtleXMgb2JqZWN0XHJcbiAgICBcdFx0XHRlbWJlZGRpbmdfbW9kZWw6IHRoaXMuc2V0dGluZ3MuZW1iZWRkaW5nTW9kZWwsXHJcblxyXG4gICAgXHRcdFx0Ly8gRGF0YWJhc2UgQ29uZmlndXJhdGlvbiAtIFJlcXVpcmVkIGZvciBHcmFwaGl0aSBpbnN0YW5jZVxyXG4gICAgXHRcdFx0ZGF0YWJhc2VfdHlwZTogdGhpcy5zZXR0aW5ncy5kYXRhYmFzZVR5cGUsXHJcbiAgICBcdFx0XHQuLi50aGlzLnByZXBhcmVEYXRhYmFzZUNvbmZpZygpXHJcbiAgICBcdFx0fTtcclxuXHJcbiAgICBcdFx0dGhpcy5sb2dnZXIuZGVidWcoJ1Rlc3RpbmcgZW1iZWRkaW5nIGNvbm5lY3Rpb24nLCB7XHJcbiAgICBcdFx0XHRlbWJlZGRlclByb3ZpZGVyOiB0aGlzLnNldHRpbmdzLmVtYmVkZGVyUHJvdmlkZXIsXHJcbiAgICBcdFx0XHRlbWJlZGRpbmdNb2RlbDogdGhpcy5zZXR0aW5ncy5lbWJlZGRpbmdNb2RlbCxcclxuICAgIFx0XHRcdGhhc0FwaUtleXM6IE9iamVjdC5rZXlzKHRoaXMuc2V0dGluZ3MuYXBpS2V5cykubGVuZ3RoID4gMCxcclxuICAgIFx0XHRcdHNhbml0aXplZENvbmZpZzogdGhpcy5zYW5pdGl6ZUNvbmZpZ0ZvckxvZ2dpbmcoY29uZmlnKVxyXG4gICAgXHRcdH0pO1xyXG4gICAgXHRcdHJldHVybiBhd2FpdCB0aGlzLmV4ZWN1dGVQeXRob25Db25uZWN0aW9uVGVzdCgnZW1iZWRkaW5nJywgY29uZmlnKTtcclxuICAgIFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIFx0XHR0aGlzLmxvZ2dlci5lcnJvcignRW1iZWRkaW5nIGNvbm5lY3Rpb24gdGVzdCBlcnJvcicsIGVycm9yKTtcclxuICAgIFx0XHRyZXR1cm4ge1xyXG4gICAgXHRcdFx0c3VjY2VzczogZmFsc2UsXHJcbiAgICBcdFx0XHRtZXNzYWdlOiBgRW1iZWRkaW5nIHRlc3QgZXJyb3I6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWBcclxuICAgIFx0XHR9O1xyXG4gICAgXHR9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUZXN0IGVtYmVkZGluZyBjb25uZWN0aW9uIHdpdGggYWN0dWFsIGVtYmVkZGluZyBkaW1lbnNpb25zXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHRlc3RFbWJlZGRpbmdXaXRoRGltZW5zaW9ucygpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nOyBsYXRlbmN5PzogbnVtYmVyIH0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBjb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICAvLyBFbWJlZGRlciBDb25maWd1cmF0aW9uXHJcbiAgICAgICAgICAgICAgICBlbWJlZGRlcl9wcm92aWRlcjogdGhpcy5zZXR0aW5ncy5lbWJlZGRlclByb3ZpZGVyLFxyXG4gICAgICAgICAgICAgICAgYXBpX2tleXM6IHRoaXMuc2V0dGluZ3MuYXBpS2V5cywgIC8vIFNlbmQgdGhlIHdob2xlIGFwaUtleXMgb2JqZWN0XHJcbiAgICAgICAgICAgICAgICBlbWJlZGRpbmdfbW9kZWw6IHRoaXMuc2V0dGluZ3MuZW1iZWRkaW5nTW9kZWwsXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRGF0YWJhc2UgQ29uZmlndXJhdGlvbiAtIFJlcXVpcmVkIGZvciBHcmFwaGl0aSBpbnN0YW5jZVxyXG4gICAgICAgICAgICAgICAgZGF0YWJhc2VfdHlwZTogdGhpcy5zZXR0aW5ncy5kYXRhYmFzZVR5cGUsXHJcbiAgICAgICAgICAgICAgICAuLi50aGlzLnByZXBhcmVEYXRhYmFzZUNvbmZpZygpXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnVGVzdGluZyBlbWJlZGRpbmcgY29ubmVjdGlvbiB3aXRoIGRpbWVuc2lvbnMnLCB7XHJcbiAgICAgICAgICAgICAgICBlbWJlZGRlclByb3ZpZGVyOiB0aGlzLnNldHRpbmdzLmVtYmVkZGVyUHJvdmlkZXIsXHJcbiAgICAgICAgICAgICAgICBlbWJlZGRpbmdNb2RlbDogdGhpcy5zZXR0aW5ncy5lbWJlZGRpbmdNb2RlbCxcclxuICAgICAgICAgICAgICAgIGhhc0FwaUtleXM6IE9iamVjdC5rZXlzKHRoaXMuc2V0dGluZ3MuYXBpS2V5cykubGVuZ3RoID4gMCxcclxuICAgICAgICAgICAgICAgIHNhbml0aXplZENvbmZpZzogdGhpcy5zYW5pdGl6ZUNvbmZpZ0ZvckxvZ2dpbmcoY29uZmlnKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZXhlY3V0ZVB5dGhvbkNvbm5lY3Rpb25UZXN0KCdlbWJlZGRpbmctdGVzdCcsIGNvbmZpZyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0VuaGFuY2VkIGVtYmVkZGluZyBjb25uZWN0aW9uIHRlc3QgZXJyb3InLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBFbmhhbmNlZCBlbWJlZGRpbmcgdGVzdCBlcnJvcjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRlc3QgcHJvdmlkZXIgY29tYmluYXRpb24gKExMTSArIEVtYmVkZGluZyB3b3JraW5nIHRvZ2V0aGVyKVxyXG4gICAgICovXHJcbiAgICBhc3luYyB0ZXN0UHJvdmlkZXJDb21iaW5hdGlvbigpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nOyBsYXRlbmN5PzogbnVtYmVyIH0+IHtcclxuICAgIFx0dHJ5IHtcclxuICAgIFx0XHRjb25zdCBjb25maWcgPSB7XHJcbiAgICBcdFx0XHQvLyBMTE0gQ29uZmlndXJhdGlvblxyXG4gICAgXHRcdFx0bGxtX3Byb3ZpZGVyOiB0aGlzLnNldHRpbmdzLmxsbVByb3ZpZGVyLFxyXG4gICAgXHRcdFx0bGxtX21vZGVsOiB0aGlzLnNldHRpbmdzLmxsbU1vZGVsLFxyXG4gICAgXHRcdFx0YXp1cmVfZW5kcG9pbnQ6IHRoaXMuc2V0dGluZ3MuYXp1cmVFbmRwb2ludCxcclxuICAgIFx0XHRcdGF6dXJlX2FwaV92ZXJzaW9uOiB0aGlzLnNldHRpbmdzLmF6dXJlQXBpVmVyc2lvbixcclxuICAgIFx0XHRcdG9sbGFtYV9iYXNlX3VybDogdGhpcy5zZXR0aW5ncy5vbGxhbWFCYXNlVXJsLFxyXG5cclxuICAgIFx0XHRcdC8vIEVtYmVkZGVyIENvbmZpZ3VyYXRpb25cclxuICAgIFx0XHRcdGVtYmVkZGVyX3Byb3ZpZGVyOiB0aGlzLnNldHRpbmdzLmVtYmVkZGVyUHJvdmlkZXIsXHJcbiAgICBcdFx0XHRlbWJlZGRpbmdfbW9kZWw6IHRoaXMuc2V0dGluZ3MuZW1iZWRkaW5nTW9kZWwsXHJcblxyXG4gICAgXHRcdFx0Ly8gQVBJIGtleXMgZm9yIGFsbCBwcm92aWRlcnNcclxuICAgIFx0XHRcdGFwaV9rZXlzOiB0aGlzLnNldHRpbmdzLmFwaUtleXMsXHJcblxyXG4gICAgXHRcdFx0Ly8gRGF0YWJhc2UgQ29uZmlndXJhdGlvbiAtIFJlcXVpcmVkIGZvciBHcmFwaGl0aSBpbnN0YW5jZVxyXG4gICAgXHRcdFx0ZGF0YWJhc2VfdHlwZTogdGhpcy5zZXR0aW5ncy5kYXRhYmFzZVR5cGUsXHJcbiAgICBcdFx0XHQuLi50aGlzLnByZXBhcmVEYXRhYmFzZUNvbmZpZygpXHJcbiAgICBcdFx0fTtcclxuXHJcbiAgICBcdFx0dGhpcy5sb2dnZXIuZGVidWcoJ1Rlc3RpbmcgcHJvdmlkZXIgY29tYmluYXRpb24nLCB7XHJcbiAgICBcdFx0XHRsbG1Qcm92aWRlcjogdGhpcy5zZXR0aW5ncy5sbG1Qcm92aWRlcixcclxuICAgIFx0XHRcdGVtYmVkZGVyUHJvdmlkZXI6IHRoaXMuc2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlcixcclxuICAgIFx0XHRcdGxsbU1vZGVsOiB0aGlzLnNldHRpbmdzLmxsbU1vZGVsLFxyXG4gICAgXHRcdFx0ZW1iZWRkaW5nTW9kZWw6IHRoaXMuc2V0dGluZ3MuZW1iZWRkaW5nTW9kZWwsXHJcbiAgICBcdFx0XHRoYXNBcGlLZXlzOiBPYmplY3Qua2V5cyh0aGlzLnNldHRpbmdzLmFwaUtleXMpLmxlbmd0aCA+IDAsXHJcbiAgICBcdFx0XHRzYW5pdGl6ZWRDb25maWc6IHRoaXMuc2FuaXRpemVDb25maWdGb3JMb2dnaW5nKGNvbmZpZylcclxuICAgIFx0XHR9KTtcclxuICAgIFx0XHRyZXR1cm4gYXdhaXQgdGhpcy5leGVjdXRlUHl0aG9uQ29ubmVjdGlvblRlc3QoJ2NvbWJpbmF0aW9uJywgY29uZmlnKTtcclxuICAgIFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIFx0XHR0aGlzLmxvZ2dlci5lcnJvcignUHJvdmlkZXIgY29tYmluYXRpb24gdGVzdCBlcnJvcicsIGVycm9yKTtcclxuICAgIFx0XHRyZXR1cm4ge1xyXG4gICAgXHRcdFx0c3VjY2VzczogZmFsc2UsXHJcbiAgICBcdFx0XHRtZXNzYWdlOiBgUHJvdmlkZXIgY29tYmluYXRpb24gdGVzdCBlcnJvcjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YFxyXG4gICAgXHRcdH07XHJcbiAgICBcdH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRlc3QgZnVsbCBMTE0gKyBlbWJlZGRpbmcgcGlwZWxpbmUgd2l0aCBhY3R1YWwgb3BlcmF0aW9ucyBhbmQgbW9kZWwgZGV0YWlsc1xyXG4gICAgICovXHJcbiAgICBhc3luYyB0ZXN0RnVsbFBpcGVsaW5lKCk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmc7IGxhdGVuY3k/OiBudW1iZXIgfT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgIC8vIExMTSBDb25maWd1cmF0aW9uXHJcbiAgICAgICAgICAgICAgICBsbG1fcHJvdmlkZXI6IHRoaXMuc2V0dGluZ3MubGxtUHJvdmlkZXIsXHJcbiAgICAgICAgICAgICAgICBhcGlfa2V5czogdGhpcy5zZXR0aW5ncy5hcGlLZXlzLCAgLy8gU2VuZCB0aGUgd2hvbGUgYXBpS2V5cyBvYmplY3RcclxuICAgICAgICAgICAgICAgIGxsbV9tb2RlbDogdGhpcy5zZXR0aW5ncy5sbG1Nb2RlbCxcclxuICAgICAgICAgICAgICAgIGF6dXJlX2VuZHBvaW50OiB0aGlzLnNldHRpbmdzLmF6dXJlRW5kcG9pbnQsXHJcbiAgICAgICAgICAgICAgICBhenVyZV9hcGlfdmVyc2lvbjogdGhpcy5zZXR0aW5ncy5henVyZUFwaVZlcnNpb24sXHJcbiAgICAgICAgICAgICAgICBvbGxhbWFfYmFzZV91cmw6IHRoaXMuc2V0dGluZ3Mub2xsYW1hQmFzZVVybCxcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBFbWJlZGRlciBDb25maWd1cmF0aW9uXHJcbiAgICAgICAgICAgICAgICBlbWJlZGRlcl9wcm92aWRlcjogdGhpcy5zZXR0aW5ncy5lbWJlZGRlclByb3ZpZGVyLFxyXG4gICAgICAgICAgICAgICAgZW1iZWRkaW5nX21vZGVsOiB0aGlzLnNldHRpbmdzLmVtYmVkZGluZ01vZGVsLFxyXG5cclxuICAgICAgICAgICAgICAgIC8vIENyb3NzLWVuY29kZXIgQ29uZmlndXJhdGlvblxyXG4gICAgICAgICAgICAgICAgY3Jvc3NfZW5jb2Rlcl9jbGllbnQ6IHRoaXMuc2V0dGluZ3MuY3Jvc3NFbmNvZGVyQ2xpZW50IHx8ICdub25lJyxcclxuICAgICAgICAgICAgICAgIGNyb3NzX2VuY29kZXJfbW9kZWw6ICh0aGlzLnNldHRpbmdzLmNyb3NzRW5jb2RlckNsaWVudCA9PT0gJ2JnZScgfHwgdGhpcy5zZXR0aW5ncy5jcm9zc0VuY29kZXJDbGllbnQgPT09ICdub25lJylcclxuICAgICAgICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5zZXR0aW5ncy5jcm9zc0VuY29kZXJNb2RlbCxcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBEYXRhYmFzZSBDb25maWd1cmF0aW9uIC0gUmVxdWlyZWQgZm9yIEdyYXBoaXRpIGluc3RhbmNlXHJcbiAgICAgICAgICAgICAgICBkYXRhYmFzZV90eXBlOiB0aGlzLnNldHRpbmdzLmRhdGFiYXNlVHlwZSxcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMucHJlcGFyZURhdGFiYXNlQ29uZmlnKClcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdUZXN0aW5nIGZ1bGwgTExNICsgZW1iZWRkaW5nIHBpcGVsaW5lJywge1xyXG4gICAgICAgICAgICAgICAgbGxtUHJvdmlkZXI6IHRoaXMuc2V0dGluZ3MubGxtUHJvdmlkZXIsXHJcbiAgICAgICAgICAgICAgICBlbWJlZGRlclByb3ZpZGVyOiB0aGlzLnNldHRpbmdzLmVtYmVkZGVyUHJvdmlkZXIsXHJcbiAgICAgICAgICAgICAgICBsbG1Nb2RlbDogdGhpcy5zZXR0aW5ncy5sbG1Nb2RlbCxcclxuICAgICAgICAgICAgICAgIGVtYmVkZGluZ01vZGVsOiB0aGlzLnNldHRpbmdzLmVtYmVkZGluZ01vZGVsLFxyXG4gICAgICAgICAgICAgICAgaGFzQXBpS2V5czogT2JqZWN0LmtleXModGhpcy5zZXR0aW5ncy5hcGlLZXlzKS5sZW5ndGggPiAwLFxyXG4gICAgICAgICAgICAgICAgc2FuaXRpemVkQ29uZmlnOiB0aGlzLnNhbml0aXplQ29uZmlnRm9yTG9nZ2luZyhjb25maWcpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyBVc2UgdGhlIGhlYXZpZXIgZW5kLXRvLWVuZCBwaXBlbGluZSB0ZXN0IHRoYXQgcGVyZm9ybXMgYW4gYWN0dWFsIExMTSBjb21wbGV0aW9uIGFuZCBlbWJlZGRpbmdcclxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZXhlY3V0ZVB5dGhvbkNvbm5lY3Rpb25UZXN0KCdjb21iaW5hdGlvbi1waXBlbGluZScsIGNvbmZpZyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0Z1bGwgcGlwZWxpbmUgdGVzdCBlcnJvcicsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogYFBpcGVsaW5lIHRlc3QgZXJyb3I6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWBcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBWYWxpZGF0ZSBBUEkga2V5cyB3aXRob3V0IHRlc3RpbmcgbW9kZWxzXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHZhbGlkYXRlQVBJS2V5cygpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nIH0+IHtcclxuICAgIFx0dHJ5IHtcclxuICAgIFx0XHQvLyBCdWlsZCB2YWxpZGF0aW9uIHJlc3VsdHNcclxuICAgIFx0XHRjb25zdCB2YWxpZGF0aW9uUmVzdWx0czogc3RyaW5nW10gPSBbXTtcclxuICAgIFx0XHRjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW107XHJcblxyXG4gICAgXHRcdC8vIENoZWNrIExMTSBwcm92aWRlciBBUEkga2V5XHJcbiAgICBcdFx0Y29uc3QgbGxtQXBpS2V5ID0gdGhpcy5nZXRBcGlLZXlGb3JQcm92aWRlcih0aGlzLnNldHRpbmdzLmxsbVByb3ZpZGVyKTtcclxuICAgIFx0XHRpZiAodGhpcy5zZXR0aW5ncy5sbG1Qcm92aWRlciA9PT0gJ29sbGFtYScpIHtcclxuICAgIFx0XHRcdHZhbGlkYXRpb25SZXN1bHRzLnB1c2goYCR7dGhpcy5zZXR0aW5ncy5sbG1Qcm92aWRlcn06IExvY2FsIHByb3ZpZGVyIChubyBBUEkga2V5IHJlcXVpcmVkKWApO1xyXG4gICAgXHRcdH0gZWxzZSBpZiAoIWxsbUFwaUtleSkge1xyXG4gICAgXHRcdFx0ZXJyb3JzLnB1c2goYE1pc3NpbmcgQVBJIGtleSBmb3IgTExNIHByb3ZpZGVyOiAke3RoaXMuc2V0dGluZ3MubGxtUHJvdmlkZXJ9YCk7XHJcbiAgICBcdFx0fSBlbHNlIGlmIChsbG1BcGlLZXkubGVuZ3RoIDwgMTApIHtcclxuICAgIFx0XHRcdGVycm9ycy5wdXNoKGBBUEkga2V5IGZvciAke3RoaXMuc2V0dGluZ3MubGxtUHJvdmlkZXJ9IGFwcGVhcnMgdG9vIHNob3J0ICgke2xsbUFwaUtleS5sZW5ndGh9IGNoYXJzKWApO1xyXG4gICAgXHRcdH0gZWxzZSB7XHJcbiAgICBcdFx0XHR2YWxpZGF0aW9uUmVzdWx0cy5wdXNoKGAke3RoaXMuc2V0dGluZ3MubGxtUHJvdmlkZXJ9OiBBUEkga2V5IHByZXNlbnQgKCR7bGxtQXBpS2V5Lmxlbmd0aH0gY2hhcnMpYCk7XHJcbiAgICBcdFx0fVxyXG5cclxuICAgIFx0XHQvLyBDaGVjayBlbWJlZGRlciBwcm92aWRlciBBUEkga2V5IChpZiBkaWZmZXJlbnQgZnJvbSBMTE0pXHJcbiAgICBcdFx0aWYgKHRoaXMuc2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlciAhPT0gdGhpcy5zZXR0aW5ncy5sbG1Qcm92aWRlcikge1xyXG4gICAgXHRcdFx0Y29uc3QgZW1iZWRkZXJBcGlLZXkgPSB0aGlzLmdldEFwaUtleUZvclByb3ZpZGVyKHRoaXMuc2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlcik7XHJcbiAgICBcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5lbWJlZGRlclByb3ZpZGVyID09PSAnb2xsYW1hJykge1xyXG4gICAgXHRcdFx0XHR2YWxpZGF0aW9uUmVzdWx0cy5wdXNoKGAke3RoaXMuc2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlcn06IExvY2FsIHByb3ZpZGVyIChubyBBUEkga2V5IHJlcXVpcmVkKWApO1xyXG4gICAgXHRcdFx0fSBlbHNlIGlmICghZW1iZWRkZXJBcGlLZXkpIHtcclxuICAgIFx0XHRcdFx0ZXJyb3JzLnB1c2goYE1pc3NpbmcgQVBJIGtleSBmb3IgZW1iZWRkZXIgcHJvdmlkZXI6ICR7dGhpcy5zZXR0aW5ncy5lbWJlZGRlclByb3ZpZGVyfWApO1xyXG4gICAgXHRcdFx0fSBlbHNlIGlmIChlbWJlZGRlckFwaUtleS5sZW5ndGggPCAxMCkge1xyXG4gICAgXHRcdFx0XHRlcnJvcnMucHVzaChgQVBJIGtleSBmb3IgJHt0aGlzLnNldHRpbmdzLmVtYmVkZGVyUHJvdmlkZXJ9IGFwcGVhcnMgdG9vIHNob3J0ICgke2VtYmVkZGVyQXBpS2V5Lmxlbmd0aH0gY2hhcnMpYCk7XHJcbiAgICBcdFx0XHR9IGVsc2Uge1xyXG4gICAgXHRcdFx0XHR2YWxpZGF0aW9uUmVzdWx0cy5wdXNoKGAke3RoaXMuc2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlcn06IEFQSSBrZXkgcHJlc2VudCAoJHtlbWJlZGRlckFwaUtleS5sZW5ndGh9IGNoYXJzKWApO1xyXG4gICAgXHRcdFx0fVxyXG4gICAgXHRcdH1cclxuXHJcbiAgICBcdFx0Ly8gQnVpbGQgZmluYWwgcmVzdWx0XHJcbiAgICBcdFx0aWYgKGVycm9ycy5sZW5ndGggPiAwKSB7XHJcbiAgICBcdFx0XHR0aGlzLmxvZ2dlci5lcnJvcignQVBJIGtleSB2YWxpZGF0aW9uIGZhaWxlZCcsIHsgZXJyb3JzLCB2YWxpZGF0aW9uUmVzdWx0cyB9KTtcclxuICAgIFx0XHRcdHJldHVybiB7XHJcbiAgICBcdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgXHRcdFx0XHRtZXNzYWdlOiBgVmFsaWRhdGlvbiBmYWlsZWQ6ICR7ZXJyb3JzLmpvaW4oJywgJyl9YFxyXG4gICAgXHRcdFx0fTtcclxuICAgIFx0XHR9IGVsc2Uge1xyXG4gICAgXHRcdFx0dGhpcy5sb2dnZXIuaW5mbygnQVBJIGtleSB2YWxpZGF0aW9uIHN1Y2Nlc3NmdWwnLCB7IHZhbGlkYXRpb25SZXN1bHRzIH0pO1xyXG4gICAgXHRcdFx0cmV0dXJuIHtcclxuICAgIFx0XHRcdFx0c3VjY2VzczogdHJ1ZSxcclxuICAgIFx0XHRcdFx0bWVzc2FnZTogYEFsbCBBUEkga2V5cyB2YWxpZDogJHt2YWxpZGF0aW9uUmVzdWx0cy5qb2luKCcsICcpfWBcclxuICAgIFx0XHRcdH07XHJcbiAgICBcdFx0fVxyXG4gICAgXHR9IGNhdGNoIChlcnJvcikge1xyXG4gICAgXHRcdHRoaXMubG9nZ2VyLmVycm9yKCdBUEkga2V5IHZhbGlkYXRpb24gZXJyb3InLCBlcnJvcik7XHJcbiAgICBcdFx0cmV0dXJuIHtcclxuICAgIFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgXHRcdFx0bWVzc2FnZTogYFZhbGlkYXRpb24gZXJyb3I6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWBcclxuICAgIFx0XHR9O1xyXG4gICAgXHR9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplIGRhdGFiYXNlIHNjaGVtYSBmb3IgR3JhcGhpdGlcclxuICAgICAqL1xyXG4gICAgYXN5bmMgaW5pdGlhbGl6ZURhdGFiYXNlU2NoZW1hKCk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmcgfT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgIC8vIERhdGFiYXNlIENvbmZpZ3VyYXRpb25cclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlX3R5cGU6IHRoaXMuc2V0dGluZ3MuZGF0YWJhc2VUeXBlLFxyXG4gICAgICAgICAgICAgICAgLi4udGhpcy5wcmVwYXJlRGF0YWJhc2VDb25maWcoKSxcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBMTE0gQ29uZmlndXJhdGlvbiAtIEFsc28gcmVxdWlyZWQgZm9yIEdyYXBoaXRpIGluc3RhbmNlXHJcbiAgICAgICAgICAgICAgICBsbG1fcHJvdmlkZXI6IHRoaXMuc2V0dGluZ3MubGxtUHJvdmlkZXIsXHJcbiAgICAgICAgICAgICAgICBhcGlfa2V5czogdGhpcy5zZXR0aW5ncy5hcGlLZXlzLFxyXG4gICAgICAgICAgICAgICAgbGxtX21vZGVsOiB0aGlzLnNldHRpbmdzLmxsbU1vZGVsLFxyXG4gICAgICAgICAgICAgICAgYXp1cmVfZW5kcG9pbnQ6IHRoaXMuc2V0dGluZ3MuYXp1cmVFbmRwb2ludCxcclxuICAgICAgICAgICAgICAgIGF6dXJlX2FwaV92ZXJzaW9uOiB0aGlzLnNldHRpbmdzLmF6dXJlQXBpVmVyc2lvbixcclxuICAgICAgICAgICAgICAgIG9sbGFtYV9iYXNlX3VybDogdGhpcy5zZXR0aW5ncy5vbGxhbWFCYXNlVXJsXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBjb25zdCBkYkNvbmZpZyA9IHRoaXMuZ2V0RGF0YWJhc2VDb25maWcoKTtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnSW5pdGlhbGl6aW5nIGRhdGFiYXNlIHNjaGVtYScsIHtcclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlVHlwZTogdGhpcy5zZXR0aW5ncy5kYXRhYmFzZVR5cGUsXHJcbiAgICAgICAgICAgICAgICBkYXRhYmFzZUNvbmZpZzogZGJDb25maWcsXHJcbiAgICAgICAgICAgICAgICBsbG1Qcm92aWRlcjogdGhpcy5zZXR0aW5ncy5sbG1Qcm92aWRlclxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmV4ZWN1dGVQeXRob25TY2hlbWFJbml0aWFsaXphdGlvbihjb25maWcpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdEYXRhYmFzZSBzY2hlbWEgaW5pdGlhbGl6YXRpb24gZXJyb3InLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBTY2hlbWEgaW5pdGlhbGl6YXRpb24gZXJyb3I6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWBcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFeGVjdXRlIFB5dGhvbiBzY2hlbWEgaW5pdGlhbGl6YXRpb25cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBhc3luYyBleGVjdXRlUHl0aG9uU2NoZW1hSW5pdGlhbGl6YXRpb24oXHJcbiAgICAgICAgY29uZmlnOiBhbnlcclxuICAgICk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmcgfT4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgLy8gR2V0IHRoZSBwbHVnaW4ncyBkaXJlY3RvcnkgcGF0aCBmb3IgbW9kdWxlIGV4ZWN1dGlvblxyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBwbHVnaW5EaXIsIGJyaWRnZURpcjogYnJpZGdlUGF0aCB9ID0gdGhpcy5nZXRWYXVsdEF3YXJlUGF0aHMoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRlc3RTY3JpcHQgPSBqb2luKGJyaWRnZVBhdGgsICd0ZXN0X2Nvbm5lY3Rpb25zLnB5Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGVzdCBzY3JpcHQgZXhpc3RzXHJcbiAgICAgICAgICAgICAgICBjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWZzLmV4aXN0c1N5bmModGVzdFNjcmlwdCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBUZXN0IHNjcmlwdCBub3QgZm91bmQgYXQ6ICR7dGVzdFNjcmlwdH1gXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0V4ZWN1dGluZyBzY2hlbWEgaW5pdGlhbGl6YXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTcGF3biBQeXRob24gcHJvY2VzcyBmb3Igc2NoZW1hIGluaXRpYWxpemF0aW9uIC0gZXhlY3V0ZSBhcyBtb2R1bGUgZm9yIHJlbGF0aXZlIGltcG9ydHNcclxuICAgICAgICAgICAgICAgIGNvbnN0IHB5dGhvbkNtZCA9IHRoaXMuZ2V0UHl0aG9uRXhlY3V0YWJsZSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHl0aG9uRW52ID0gdGhpcy5nZXRQeXRob25FbnYoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByb2Nlc3MgPSBzcGF3bihweXRob25DbWQsIFtcclxuICAgICAgICAgICAgICAgICAgICAnLW0nLCAnZ3JhcGhpdGlfYnJpZGdlLnRlc3RfY29ubmVjdGlvbnMnLFxyXG4gICAgICAgICAgICAgICAgICAgICctLXRlc3QtdHlwZScsICdzY2hlbWEtaW5pdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgJy0tY29uZmlnJywgSlNPTi5zdHJpbmdpZnkoY29uZmlnKVxyXG4gICAgICAgICAgICAgICAgXSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGN3ZDogcGx1Z2luRGlyLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0ZGlvOiBbJ3BpcGUnLCAncGlwZScsICdwaXBlJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgZW52OiBweXRob25FbnZcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBvdXRwdXRCdWZmZXIgPSAnJztcclxuICAgICAgICAgICAgICAgIGxldCBlcnJvckJ1ZmZlciA9ICcnO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBzdGRvdXRcclxuICAgICAgICAgICAgICAgIHByb2Nlc3Muc3Rkb3V0Py5vbignZGF0YScsIChkYXRhOiBCdWZmZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gZGF0YS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dEJ1ZmZlciArPSB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZ1B5dGhvbk91dHB1dCgnc3Rkb3V0JywgdGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgc3RkZXJyXHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzLnN0ZGVycj8ub24oJ2RhdGEnLCAoZGF0YTogQnVmZmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGRhdGEudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBlcnJvckJ1ZmZlciArPSB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZ1B5dGhvbk91dHB1dCgnc3RkZXJyJywgdGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgcHJvY2VzcyBjb21wbGV0aW9uXHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzLm9uKCdjbG9zZScsIChjb2RlOiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnU2NoZW1hIGluaXRpYWxpemF0aW9uIHByb2Nlc3MgY29tcGxldGVkJywgeyBleGl0Q29kZTogY29kZSB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBhcnNlIEpTT04gcmVzcG9uc2UgZnJvbSBQeXRob24gc2NyaXB0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBKU09OLnBhcnNlKG91dHB1dEJ1ZmZlci50cmltKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogcmVzdWx0LnN1Y2Nlc3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHBhcnNlIHNjaGVtYSBpbml0aWFsaXphdGlvbiByZXN1bHQnLCBlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBGYWlsZWQgdG8gcGFyc2UgaW5pdGlhbGl6YXRpb24gcmVzdWx0OiAke291dHB1dEJ1ZmZlciB8fCBlcnJvckJ1ZmZlcn1gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdTY2hlbWEgaW5pdGlhbGl6YXRpb24gZmFpbGVkJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpdENvZGU6IGNvZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGRlcnI6IGVycm9yQnVmZmVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Rkb3V0OiBvdXRwdXRCdWZmZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgU2NoZW1hIGluaXRpYWxpemF0aW9uIGZhaWxlZCAoZXhpdCBjb2RlICR7Y29kZX0pOiAke2Vycm9yQnVmZmVyIHx8IG91dHB1dEJ1ZmZlciB8fCAnVW5rbm93biBlcnJvcid9YFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgcHJvY2VzcyBlcnJvcnNcclxuICAgICAgICAgICAgICAgIHByb2Nlc3Mub24oJ2Vycm9yJywgKGVycm9yOiBFcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gc3RhcnQgc2NoZW1hIGluaXRpYWxpemF0aW9uIHByb2Nlc3MnLCBlcnJvcik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdFTk9FTlQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSAnUHl0aG9uIG5vdCBmb3VuZC4gUGxlYXNlIGVuc3VyZSBQeXRob24gMy4xMCsgaXMgaW5zdGFsbGVkIGFuZCBpbiB5b3VyIFBBVEguJztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYEZhaWxlZCB0byBzdGFydCBzY2hlbWEgaW5pdGlhbGl6YXRpb246ICR7ZXJyb3JNZXNzYWdlfWBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdTY2hlbWEgaW5pdGlhbGl6YXRpb24gZXhjZXB0aW9uJywgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYFNjaGVtYSBpbml0aWFsaXphdGlvbiBlcnJvcjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIHNpbXBsZSBtYW51YWwgc3luYyB0ZXN0IHdpdGggYSBzaW5nbGUgbm90ZVxyXG4gICAgICovXHJcbiAgICBhc3luYyB0ZXN0TWFudWFsU3luYyhub3RlRmlsZTogc3RyaW5nLCBzb3VyY2VfZGVzY3JpcHRpb246IHN0cmluZyA9ICdvYnNpZGlhbl9tbV9pbmRpdmlkdWFsJyk6IFByb21pc2U8U3luY1Jlc3VsdD4ge1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhgU3RhcnRpbmcgbWFudWFsIHN5bmMgdGVzdCBmb3IgZmlsZTogJHtub3RlRmlsZX0sIFNvdXJjZTogJHtzb3VyY2VfZGVzY3JpcHRpb259YCk7XHJcblxyXG4gICAgICAgICAgICAvLyBWYWxpZGF0ZSBlbWJlZGRpbmcgbW9kZWwgYmVmb3JlIHRlc3Qgc3luYyBvcGVyYXRpb25zXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50RW1iZWRkaW5nTW9kZWwgPSB0aGlzLnNldHRpbmdzLmVtYmVkZGluZ01vZGVsO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudERpbWVuc2lvbnMgPSB0aGlzLmdldEN1cnJlbnRFbWJlZGRpbmdEaW1lbnNpb25zKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzQ2hhbmdlZCA9IGF3YWl0IHRoaXMudmF1bHRSZWdpc3RyeVNlcnZpY2UuaGFzRW1iZWRkaW5nTW9kZWxDaGFuZ2VkKFxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRFbWJlZGRpbmdNb2RlbCxcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50RGltZW5zaW9uc1xyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaGFzQ2hhbmdlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pc21hdGNoRGV0YWlscyA9IGF3YWl0IHRoaXMudmF1bHRSZWdpc3RyeVNlcnZpY2UuZ2V0RW1iZWRkaW5nTW9kZWxNaXNtYXRjaERldGFpbHMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRFbWJlZGRpbmdNb2RlbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudERpbWVuc2lvbnNcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdbVEVTVF9TWU5DXSBFbWJlZGRpbmcgbW9kZWwgY2hhbmdlIGRldGVjdGVkIGJlZm9yZSB0ZXN0IHN5bmMnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0NoYW5nZWQ6IGhhc0NoYW5nZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlZE1vZGVsOiBtaXNtYXRjaERldGFpbHM/LnN0b3JlZE1vZGVsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9yZWREaW1lbnNpb25zOiBtaXNtYXRjaERldGFpbHM/LnN0b3JlZERpbWVuc2lvbnMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRNb2RlbDogY3VycmVudEVtYmVkZGluZ01vZGVsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RGltZW5zaW9uczogY3VycmVudERpbWVuc2lvbnMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGVGaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNob3cgd2FybmluZyBub3RpZmljYXRpb24gYnV0IGNvbnRpbnVlIHdpdGggdGVzdCBzeW5jXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgZGVzY3JpcHRpdmUgbWVzc2FnZSBmcm9tIHRoZSBtaXNtYXRjaCBkZXRhaWxzXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2FybmluZ01lc3NhZ2UgPSBgRW1iZWRkaW5nIG1vZGVsIGNoYW5nZWQgZnJvbSAke21pc21hdGNoRGV0YWlscz8uc3RvcmVkTW9kZWwgfHwgJ3Vua25vd24nfSB0byAke2N1cnJlbnRFbWJlZGRpbmdNb2RlbH0uIFRoaXMgbWF5IGFmZmVjdCB2ZWN0b3Igc2ltaWxhcml0eSBpbiB5b3VyIGtub3dsZWRnZSBncmFwaC5gO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBOb3RpY2Uod2FybmluZ01lc3NhZ2UsIDgwMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlbWJlZGRpbmdWYWxpZGF0aW9uRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbVEVTVF9TWU5DXSBGYWlsZWQgdG8gdmFsaWRhdGUgZW1iZWRkaW5nIG1vZGVsICh0ZXN0IHN5bmMgY29udGludWVzKScsIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZW1iZWRkaW5nVmFsaWRhdGlvbkVycm9yLFxyXG4gICAgICAgICAgICAgICAgICAgIG5vdGVGaWxlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gVmFsaWRhdGUgbm90ZSBmaWxlIGV4aXN0c1xyXG4gICAgICAgICAgICBjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XHJcbiAgICAgICAgICAgIGlmICghZnMuZXhpc3RzU3luYyhub3RlRmlsZSkpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm90ZSBmaWxlIG5vdCBmb3VuZDogJHtub3RlRmlsZX1gKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXRlIHN5bmMgY29uZmlnIGZvciBzaW5nbGUgbm90ZVxyXG4gICAgICAgICAgICBjb25zdCBjb25maWc6IFN5bmNDb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICBub3Rlc1BhdGhzOiBbbm90ZUZpbGVdLFxyXG4gICAgICAgICAgICAgICAgYmF0Y2hTaXplOiAxLFxyXG4gICAgICAgICAgICAgICAgZGVidWc6IHRoaXMuc2V0dGluZ3MuZW5hYmxlRGVidWdMb2dnaW5nLFxyXG4gICAgICAgICAgICAgICAgc291cmNlX2Rlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgY3Jvc3NFbmNvZGVyQ2xpZW50OiB0aGlzLnNldHRpbmdzLmNyb3NzRW5jb2RlckNsaWVudCxcclxuICAgICAgICAgICAgICAgIGNyb3NzRW5jb2Rlck1vZGVsOiB0aGlzLnNldHRpbmdzLmNyb3NzRW5jb2Rlck1vZGVsLFxyXG4gICAgICAgICAgICAgICAgdXNlX2N1c3RvbV9vbnRvbG9neTogdGhpcy5zZXR0aW5ncy51c2VDdXN0b21PbnRvbG9neVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gUnVuIHN5bmMgd2l0aCBwcm9ncmVzcyBjYWxsYmFja1xyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnN5bmNOb3Rlcyhjb25maWcsIChwcm9ncmVzcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ01hbnVhbCBzeW5jIHByb2dyZXNzJywgcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgbmV3IE5vdGljZShgTWFudWFsIHN5bmM6ICR7cHJvZ3Jlc3MubWVzc2FnZX0gKCR7cHJvZ3Jlc3MucGVyY2VudGFnZS50b0ZpeGVkKDEpfSUpYCk7XHJcbiAgICAgICAgICAgIH0sIHNvdXJjZV9kZXNjcmlwdGlvbik7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBwcm9jZXNzaW5nVGltZSA9XHJcbiAgICAgICAgICAgICAgICAocmVzdWx0IGFzIGFueSkucHJvY2Vzc2luZ19kdXJhdGlvbl9zZWNvbmRzID8/XHJcbiAgICAgICAgICAgICAgICAoKChyZXN1bHQgYXMgYW55KS5ub3RlcyAmJiBBcnJheS5pc0FycmF5KChyZXN1bHQgYXMgYW55KS5ub3RlcykgJiYgKHJlc3VsdCBhcyBhbnkpLm5vdGVzWzBdPy5wcm9jZXNzaW5nX2R1cmF0aW9uX3NlY29uZHMpIGFzIG51bWJlciB8IHVuZGVmaW5lZCkgPz9cclxuICAgICAgICAgICAgICAgIE1hdGgucm91bmQoKERhdGUubm93KCkgLSBzdGFydFRpbWUpIC8gMTAwMCk7XHJcblxyXG4gICAgICAgICAgICAvLyBSYXcgcmVzdWx0IGxvZ2dpbmcgcmVtb3ZlZCB0byBwcmV2ZW50IG1hc3NpdmUgbG9nIG91dHB1dFxyXG5cclxuICAgICAgICAgICAgLy8gSGFuZGxlIHNpbmdsZSBub3RlIHN5bmMgcmVzdWx0cyB3aGVyZSBzdW1tYXJ5IGRhdGEgbWlnaHQgYmUgbmVzdGVkIG9yIGFic2VudCBmcm9tIHRvcC1sZXZlbFxyXG4gICAgICAgICAgICBjb25zdCBwcm9jZXNzZWRDb3VudCA9IDE7IC8vIEZvciBzaW5nbGUgc3luYywgYWx3YXlzIDEgcHJvY2Vzc2VkIGlmIHN1Y2Nlc3NmdWxcclxuICAgICAgICAgICAgY29uc3Qgc2tpcHBlZENvdW50ID0gMDsgICAvLyBGb3Igc2luZ2xlIHN5bmMsIGFsd2F5cyAwIHNraXBwZWQgaWYgc3VjY2Vzc2Z1bFxyXG4gICAgICAgICAgICBjb25zdCB0b3RhbENvdW50ID0gMTsgICAgIC8vIEZvciBzaW5nbGUgc3luYywgYWx3YXlzIDEgdG90YWxcclxuICAgICAgICAgICAgY29uc3QgYmF0Y2hDb3VudCA9IDE7ICAgICAvLyBGb3Igc2luZ2xlIHN5bmMsIGFsd2F5cyAxIGJhdGNoXHJcbiAgICAgICAgICAgIC8vIEV4dHJhY3QgZGF0YSBmcm9tIGFjdHVhbCByZXNwb25zZSBzdHJ1Y3R1cmUgKGRhZW1vbiByZXR1cm5zIG5vdGUgcGF5bG9hZCB1bmRlciBub3Rlc1swXSlcclxuICAgICAgICAgICAgY29uc3QgZmlyc3ROb3RlID0gKHJlc3VsdCBhcyBhbnkpPy5ub3RlcyAmJiBBcnJheS5pc0FycmF5KChyZXN1bHQgYXMgYW55KS5ub3RlcykgPyAocmVzdWx0IGFzIGFueSkubm90ZXNbMF0gOiBudWxsO1xyXG4gICAgICAgICAgICBjb25zdCBlcGlzb2RlTmFtZSA9IChyZXN1bHQgYXMgYW55KS5ub3RlX25hbWUgfHwgZmlyc3ROb3RlPy5ub3RlX25hbWUgfHwgJ3Vua25vd24nO1xyXG4gICAgICAgICAgICAvLyBAcHVycG9zZTogVXNlIGVuaGFuY2VkIGZvbGRlciBuYW1lc3BhY2luZyB0byBnZW5lcmF0ZSBwcm9wZXIgZ3JvdXBfaWQgQGRlcGVuZHM6IFN5bmNSZWdpc3RyeVNlcnZpY2UuZ2VuZXJhdGVHcm91cElkIEByZXN1bHRzOiBDdXN0b20gZ3JvdXBfaWRzIGJhc2VkIG9uIGZvbGRlciBtYXBwaW5nc1xyXG4gICAgICAgICAgICBjb25zdCBncm91cElkID0gYXdhaXQgdGhpcy5zeW5jUmVnaXN0cnlTZXJ2aWNlLmdlbmVyYXRlR3JvdXBJZChub3RlRmlsZSwgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmdldE5hbWUoKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHV1aWQgPSAocmVzdWx0IGFzIGFueSkuZXBpc29kZV91dWlkIHx8IGZpcnN0Tm90ZT8uZXBpc29kZV91dWlkIHx8ICd1bmtub3duJztcclxuICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gKHJlc3VsdCBhcyBhbnkpLnN0YXR1cyB8fCBmaXJzdE5vdGU/LnN0YXR1cyB8fCAndW5rbm93bic7XHJcblxyXG4gICAgICAgICAgICAvLyBWYXVsdCByZWdpc3RyeSB1cGRhdGVzIGFyZSBoYW5kbGVkIGluIHNldHRpbmdzIHBhbmVsIG9ubHksIG5vdCBkdXJpbmcgc3luYyBvcGVyYXRpb25zXHJcblxyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBNYW51YWxTeW5jUmVzdWx0OiBub3RlX25hbWU6JHtlcGlzb2RlTmFtZX0sIHN0YXR1czogJHtzdGF0dXN9LCBwcm9jZXNzZWQ6ICR7cHJvY2Vzc2VkQ291bnR9LCBza2lwcGVkOiAke3NraXBwZWRDb3VudH0sIHRvdGFsOiAke3RvdGFsQ291bnR9LCBiYXRjaGVzOiAke2JhdGNoQ291bnR9LCBwcm9jZXNzZWRfaW46ICR7cHJvY2Vzc2luZ1RpbWV9cywgZ3JvdXBfaWQ6ICR7Z3JvdXBJZH0sIHV1aWQ6ICR7dXVpZH0sIHNvdXJjZV9kZXNjcmlwdGlvbjogJHtzb3VyY2VfZGVzY3JpcHRpb259YCk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdbRVJST1JdIE1hbnVhbCBzeW5jIHRlc3QgZmFpbGVkJywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc2VkOiAwLFxyXG4gICAgICAgICAgICAgICAgc2tpcHBlZDogMCxcclxuICAgICAgICAgICAgICAgIHRvdGFsOiAxLFxyXG4gICAgICAgICAgICAgICAgYmF0Y2hDb3VudDogMCxcclxuICAgICAgICAgICAgICAgIG5vZGVUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgIGVkZ2VUeXBlc0xvYWRlZDogMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqID09PSBEQVRBLkpTT04gTUFOQUdFTUVOVCBGVU5DVElPTlMgPT09XHJcbiAgICAgKiBQdXJwb3NlOiBHcmFudWxhciBjb250cm9sIG92ZXIgZGF0YS5qc29uIGZvciBlbnRpdHkgYW5kIHByb3BlcnR5IGRlc2NyaXB0aW9uc1xyXG4gICAgICogSW50ZWdyYXRpb246IFdvcmtzIHdpdGggZXhpc3RpbmcgcGx1Z2luLnNldHRpbmdzIHBhdHRlcm4gYW5kIFNjaGVtYURpc2NvdmVyeVNlcnZpY2VcclxuICAgICAqIE1vZGU6IENvZGUgLSBEYXRhIG1hbmFnZW1lbnQgZnVuY3Rpb25zIGZvciBVSSBcIkxvYWQgQWxsIERlZmF1bHRzXCIgYnV0dG9uc1xyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgcGx1Z2luIGluc3RhbmNlIHVzaW5nIHRoZSBzYW1lIHBhdHRlcm4gYXMgU2NoZW1hTWFuYWdlclxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFBsdWdpbigpOiBhbnkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgKHdpbmRvdyBhcyBhbnkpLmFwcCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuICh3aW5kb3cgYXMgYW55KS5hcHAucGx1Z2lucy5wbHVnaW5zWydtZWdhbWVtLW1jcCddO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZCBhIG5ldyBlbnRpdHkgZGVmaW5pdGlvbiB0byBkYXRhLmpzb25cclxuICAgICAqL1xyXG4gICAgYXN5bmMgYWRkRW50aXR5RGVmaW5pdGlvbihlbnRpdHlOYW1lOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBjb25zdCBwbHVnaW4gPSB0aGlzLmdldFBsdWdpbigpO1xyXG4gICAgICAgIGlmICghcGx1Z2luPy5zZXR0aW5ncykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsdWdpbiBzZXR0aW5ncyBub3QgYXZhaWxhYmxlJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJbml0aWFsaXplIGVudGl0eURlc2NyaXB0aW9ucyBpZiBub3QgZXhpc3RzXHJcbiAgICAgICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MuZW50aXR5RGVzY3JpcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5lbnRpdHlEZXNjcmlwdGlvbnMgPSB7fTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFkZCB0aGUgZW50aXR5IGRlc2NyaXB0aW9uXHJcbiAgICAgICAgcGx1Z2luLnNldHRpbmdzLmVudGl0eURlc2NyaXB0aW9uc1tlbnRpdHlOYW1lXSA9IHtcclxuICAgICAgICAgICAgY2xhc3NOYW1lOiBlbnRpdHlOYW1lLnJlcGxhY2UoL1xccysvZywgJycpLnJlcGxhY2UoL1teYS16QS1aMC05XS9nLCAnJyksXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgaXNVc2VyRGVmaW5lZDogdHJ1ZSxcclxuICAgICAgICAgICAgc291cmNlOiBcInVzZXJcIixcclxuICAgICAgICAgICAgbGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBTYXZlIHRvIGRhdGEuanNvblxyXG4gICAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdBZGRlZCBlbnRpdHkgZGVmaW5pdGlvbicsIHsgZW50aXR5TmFtZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSBhbiBlbnRpdHkgZGVmaW5pdGlvbiBmcm9tIGRhdGEuanNvblxyXG4gICAgICovXHJcbiAgICBhc3luYyByZW1vdmVFbnRpdHlEZWZpbml0aW9uKGVudGl0eU5hbWU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IHBsdWdpbiA9IHRoaXMuZ2V0UGx1Z2luKCk7XHJcbiAgICAgICAgaWYgKCFwbHVnaW4/LnNldHRpbmdzPy5lbnRpdHlEZXNjcmlwdGlvbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuOyAvLyBOb3RoaW5nIHRvIHJlbW92ZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZGVsZXRlIHBsdWdpbi5zZXR0aW5ncy5lbnRpdHlEZXNjcmlwdGlvbnNbZW50aXR5TmFtZV07XHJcbiAgICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1JlbW92ZWQgZW50aXR5IGRlZmluaXRpb24nLCB7IGVudGl0eU5hbWUgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUgYW4gZXhpc3RpbmcgZW50aXR5IGRlc2NyaXB0aW9uXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHVwZGF0ZUVudGl0eURlc2NyaXB0aW9uKGVudGl0eU5hbWU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IHBsdWdpbiA9IHRoaXMuZ2V0UGx1Z2luKCk7XHJcbiAgICAgICAgaWYgKCFwbHVnaW4/LnNldHRpbmdzPy5lbnRpdHlEZXNjcmlwdGlvbnM/LltlbnRpdHlOYW1lXSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVudGl0eSAke2VudGl0eU5hbWV9IG5vdCBmb3VuZGApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcGx1Z2luLnNldHRpbmdzLmVudGl0eURlc2NyaXB0aW9uc1tlbnRpdHlOYW1lXSA9IHtcclxuICAgICAgICAgICAgLi4ucGx1Z2luLnNldHRpbmdzLmVudGl0eURlc2NyaXB0aW9uc1tlbnRpdHlOYW1lXSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdVcGRhdGVkIGVudGl0eSBkZXNjcmlwdGlvbicsIHsgZW50aXR5TmFtZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZCBhIG5ldyBwcm9wZXJ0eSBkZWZpbml0aW9uIHRvIGRhdGEuanNvblxyXG4gICAgICovXHJcbiAgICBhc3luYyBhZGRQcm9wZXJ0eURlZmluaXRpb24oZW50aXR5TmFtZTogc3RyaW5nLCBwcm9wZXJ0eU5hbWU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IHBsdWdpbiA9IHRoaXMuZ2V0UGx1Z2luKCk7XHJcbiAgICAgICAgaWYgKCFwbHVnaW4/LnNldHRpbmdzKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUGx1Z2luIHNldHRpbmdzIG5vdCBhdmFpbGFibGUnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEluaXRpYWxpemUgcHJvcGVydHlEZXNjcmlwdGlvbnMgc3RydWN0dXJlIGlmIG5lZWRlZFxyXG4gICAgICAgIGlmICghcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9ucyA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9uc1tlbnRpdHlOYW1lXSkge1xyXG4gICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnNbZW50aXR5TmFtZV0gPSB7fTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFkZCB0aGUgcHJvcGVydHkgZGVzY3JpcHRpb25cclxuICAgICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnNbZW50aXR5TmFtZV1bcHJvcGVydHlOYW1lXSA9IHtcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICBmaWVsZFR5cGU6IFwic3RyXCIsIC8vIERlZmF1bHQgZmllbGQgdHlwZSwgY2FuIGJlIHVwZGF0ZWQgbGF0ZXJcclxuICAgICAgICAgICAgaXNVc2VyRGVmaW5lZDogdHJ1ZSxcclxuICAgICAgICAgICAgc291cmNlOiBcInVzZXJcIixcclxuICAgICAgICAgICAgbGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnQWRkZWQgcHJvcGVydHkgZGVmaW5pdGlvbicsIHsgZW50aXR5TmFtZSwgcHJvcGVydHlOYW1lIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIGEgcHJvcGVydHkgZGVmaW5pdGlvbiBmcm9tIGRhdGEuanNvblxyXG4gICAgICovXHJcbiAgICBhc3luYyByZW1vdmVQcm9wZXJ0eURlZmluaXRpb24oZW50aXR5TmFtZTogc3RyaW5nLCBwcm9wZXJ0eU5hbWU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IHBsdWdpbiA9IHRoaXMuZ2V0UGx1Z2luKCk7XHJcbiAgICAgICAgaWYgKCFwbHVnaW4/LnNldHRpbmdzPy5wcm9wZXJ0eURlc2NyaXB0aW9ucz8uW2VudGl0eU5hbWVdKSB7XHJcbiAgICAgICAgICAgIHJldHVybjsgLy8gTm90aGluZyB0byByZW1vdmVcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRlbGV0ZSBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnNbZW50aXR5TmFtZV1bcHJvcGVydHlOYW1lXTtcclxuXHJcbiAgICAgICAgLy8gQ2xlYW4gdXAgZW1wdHkgZW50aXR5IG9iamVjdCBpZiBubyBwcm9wZXJ0aWVzIHJlbWFpblxyXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnNbZW50aXR5TmFtZV0pLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICBkZWxldGUgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zW2VudGl0eU5hbWVdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1JlbW92ZWQgcHJvcGVydHkgZGVmaW5pdGlvbicsIHsgZW50aXR5TmFtZSwgcHJvcGVydHlOYW1lIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlIGFuIGV4aXN0aW5nIHByb3BlcnR5IGRlc2NyaXB0aW9uXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHVwZGF0ZVByb3BlcnR5RGVzY3JpcHRpb24oZW50aXR5TmFtZTogc3RyaW5nLCBwcm9wZXJ0eU5hbWU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IHBsdWdpbiA9IHRoaXMuZ2V0UGx1Z2luKCk7XHJcbiAgICAgICAgaWYgKCFwbHVnaW4/LnNldHRpbmdzPy5wcm9wZXJ0eURlc2NyaXB0aW9ucz8uW2VudGl0eU5hbWVdPy5bcHJvcGVydHlOYW1lXSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFByb3BlcnR5ICR7ZW50aXR5TmFtZX0uJHtwcm9wZXJ0eU5hbWV9IG5vdCBmb3VuZGApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zW2VudGl0eU5hbWVdW3Byb3BlcnR5TmFtZV0gPSB7XHJcbiAgICAgICAgICAgIC4uLnBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9uc1tlbnRpdHlOYW1lXVtwcm9wZXJ0eU5hbWVdLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgIGxhc3RNb2RpZmllZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1VwZGF0ZWQgcHJvcGVydHkgZGVzY3JpcHRpb24nLCB7IGVudGl0eU5hbWUsIHByb3BlcnR5TmFtZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIExvYWQgYWxsIGRlZmF1bHQgZW50aXR5IGRlc2NyaXB0aW9ucyBmcm9tIFNjaGVtYURpc2NvdmVyeVNlcnZpY2VcclxuICAgICAqL1xyXG4gICAgYXN5bmMgbG9hZEFsbERlZmF1bHRFbnRpdHlEZXNjcmlwdGlvbnMoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgY29uc3QgcGx1Z2luID0gdGhpcy5nZXRQbHVnaW4oKTtcclxuICAgICAgICBpZiAoIXBsdWdpbj8uc2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbHVnaW4gc2V0dGluZ3Mgbm90IGF2YWlsYWJsZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBlbnRpdHlEZXNjcmlwdGlvbnMgaWYgbm90IGV4aXN0c1xyXG4gICAgICAgIGlmICghcGx1Z2luLnNldHRpbmdzLmVudGl0eURlc2NyaXB0aW9ucykge1xyXG4gICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MuZW50aXR5RGVzY3JpcHRpb25zID0ge307XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBHZXQgYWxsIGF2YWlsYWJsZSBkZWZhdWx0IGVudGl0eSB0eXBlcyBmcm9tIHNjaGVtYSBzZXJ2aWNlXHJcbiAgICAgICAgY29uc3QgYXZhaWxhYmxlRW50aXR5VHlwZXMgPSB0aGlzLnNjaGVtYVNlcnZpY2UuZ2V0QXZhaWxhYmxlRGVmYXVsdEVudGl0eVR5cGVzKCk7XHJcbiAgICAgICAgbGV0IGFkZGVkQ291bnQgPSAwO1xyXG4gICAgICAgIGxldCB1cGRhdGVkQ291bnQgPSAwO1xyXG5cclxuICAgICAgICAvLyBBZGQvdXBkYXRlIGVhY2ggZGVmYXVsdCBlbnRpdHkgZGVzY3JpcHRpb25cclxuICAgICAgICBmb3IgKGNvbnN0IGVudGl0eU5hbWUgb2YgYXZhaWxhYmxlRW50aXR5VHlwZXMpIHtcclxuICAgICAgICAgICAgLy8gR2V0IHRoZSBkZXNjcmlwdGlvbiBmb3IgdGhpcyBzcGVjaWZpYyBlbnRpdHkgdHlwZVxyXG4gICAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IHRoaXMuc2NoZW1hU2VydmljZS5nZXREZWZhdWx0RW50aXR5RGVzY3JpcHRpb24oZW50aXR5TmFtZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWRlc2NyaXB0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gU2tpcCBpZiBubyBkZWZhdWx0IGRlc2NyaXB0aW9uIGF2YWlsYWJsZVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAocGx1Z2luLnNldHRpbmdzLmVudGl0eURlc2NyaXB0aW9uc1tlbnRpdHlOYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGV4aXN0aW5nIHdpdGggZGVmYXVsdCBkZXNjcmlwdGlvbiBidXQga2VlcCB1c2VyIHNvdXJjZSBpZiBpdCB3YXMgdXNlci1kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZyA9IHBsdWdpbi5zZXR0aW5ncy5lbnRpdHlEZXNjcmlwdGlvbnNbZW50aXR5TmFtZV07XHJcbiAgICAgICAgICAgICAgICBpZiAoZXhpc3Rpbmcuc291cmNlICE9PSAndXNlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MuZW50aXR5RGVzY3JpcHRpb25zW2VudGl0eU5hbWVdID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5leGlzdGluZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IFwiZGlzY292ZXJ5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RNb2RpZmllZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkQ291bnQrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIEFkZCBuZXcgZGVmYXVsdCBlbnRpdHkgZGVzY3JpcHRpb25cclxuICAgICAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5lbnRpdHlEZXNjcmlwdGlvbnNbZW50aXR5TmFtZV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBlbnRpdHlOYW1lLnJlcGxhY2UoL1xccysvZywgJycpLnJlcGxhY2UoL1teYS16QS1aMC05XS9nLCAnJyksXHJcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzVXNlckRlZmluZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZTogXCJkaXNjb3ZlcnlcIixcclxuICAgICAgICAgICAgICAgICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGFkZGVkQ291bnQrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0xvYWRlZCBhbGwgZGVmYXVsdCBlbnRpdHkgZGVzY3JpcHRpb25zJywgeyBhZGRlZENvdW50LCB1cGRhdGVkQ291bnQgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2FkIGFsbCBkZWZhdWx0IHByb3BlcnR5IGRlc2NyaXB0aW9ucyBmcm9tIFNjaGVtYURpc2NvdmVyeVNlcnZpY2VcclxuICAgICAqL1xyXG4gICAgYXN5bmMgbG9hZEFsbERlZmF1bHRQcm9wZXJ0eURlc2NyaXB0aW9ucygpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBjb25zdCBwbHVnaW4gPSB0aGlzLmdldFBsdWdpbigpO1xyXG4gICAgICAgIGlmICghcGx1Z2luPy5zZXR0aW5ncykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsdWdpbiBzZXR0aW5ncyBub3QgYXZhaWxhYmxlJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJbml0aWFsaXplIHByb3BlcnR5RGVzY3JpcHRpb25zIGlmIG5vdCBleGlzdHNcclxuICAgICAgICBpZiAoIXBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9ucykge1xyXG4gICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnMgPSB7fTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBhZGRlZENvdW50ID0gMDtcclxuICAgICAgICBsZXQgdXBkYXRlZENvdW50ID0gMDtcclxuXHJcbiAgICAgICAgLy8gR2V0IGRpc2NvdmVyZWQgZW50aXR5IHR5cGVzIHRvIGFwcGx5IHByb3BlcnR5IGRlc2NyaXB0aW9ucyB0b1xyXG4gICAgICAgIGNvbnN0IHNjaGVtYXMgPSBhd2FpdCB0aGlzLnNjaGVtYVNlcnZpY2UuZGlzY292ZXJBbGxTY2hlbWFzKCk7XHJcblxyXG4gICAgICAgIC8vIEZvciBlYWNoIGRpc2NvdmVyZWQgZW50aXR5IHR5cGVcclxuICAgICAgICBmb3IgKGNvbnN0IHNjaGVtYSBvZiBzY2hlbWFzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVudGl0eU5hbWUgPSBzY2hlbWEudHlwZU5hbWU7XHJcblxyXG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIGVudGl0eSBwcm9wZXJ0eSBkZXNjcmlwdGlvbnMgaWYgbm90IGV4aXN0c1xyXG4gICAgICAgICAgICBpZiAoIXBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9uc1tlbnRpdHlOYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zW2VudGl0eU5hbWVdID0ge307XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEZvciBlYWNoIHByb3BlcnR5IGluIHRoZSBzY2hlbWFcclxuICAgICAgICAgICAgZm9yIChjb25zdCBwcm9wZXJ0eSBvZiBzY2hlbWEucHJvcGVydGllcykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvcGVydHlOYW1lID0gcHJvcGVydHkubmFtZTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIGEgZGVmYXVsdCBkZXNjcmlwdGlvbiBmb3IgdGhpcyBwcm9wZXJ0eSB1c2luZyBleGlzdGluZyBtZXRob2RcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHREZXNjcmlwdGlvbiA9IHRoaXMuc2NoZW1hU2VydmljZS5nZXREZWZhdWx0UHJvcGVydHlEZXNjcmlwdGlvbihwcm9wZXJ0eU5hbWUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRlZmF1bHREZXNjcmlwdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnNbZW50aXR5TmFtZV1bcHJvcGVydHlOYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgZXhpc3RpbmcgcHJvcGVydHkgZGVzY3JpcHRpb24gaWYgaXQncyBub3QgdXNlci1kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zW2VudGl0eU5hbWVdW3Byb3BlcnR5TmFtZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleGlzdGluZy5zb3VyY2UgIT09ICd1c2VyJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zW2VudGl0eU5hbWVdW3Byb3BlcnR5TmFtZV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZXhpc3RpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlZmF1bHREZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IFwiZGlzY292ZXJ5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkQ291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCBuZXcgZGVmYXVsdCBwcm9wZXJ0eSBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnNbZW50aXR5TmFtZV1bcHJvcGVydHlOYW1lXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZWZhdWx0RGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFR5cGU6IHByb3BlcnR5LmluZmVycmVkVHlwZSA9PT0gJ3N0cmluZycgPyAnc3RyJyA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHkuaW5mZXJyZWRUeXBlID09PSAnbnVtYmVyJyA/ICdmbG9hdCcgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LmluZmVycmVkVHlwZSA9PT0gJ2Jvb2xlYW4nID8gJ2Jvb2wnIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eS5pbmZlcnJlZFR5cGUgPT09ICdkYXRlJyA/ICdkYXRldGltZScgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LmluZmVycmVkVHlwZSA9PT0gJ2FycmF5JyA/ICdMaXN0W3N0cl0nIDogJ3N0cicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1VzZXJEZWZpbmVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZTogXCJkaXNjb3ZlcnlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RNb2RpZmllZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZGVkQ291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdMb2FkZWQgYWxsIGRlZmF1bHQgcHJvcGVydHkgZGVzY3JpcHRpb25zJywgeyBhZGRlZENvdW50LCB1cGRhdGVkQ291bnQgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTYXZlIGN1cnJlbnQgZGF0YSBzdGF0ZSB0byBkYXRhLmpzb24gKGNvbnZlbmllbmNlIG1ldGhvZClcclxuICAgICAqL1xyXG4gICAgYXN5bmMgc2F2ZURhdGEoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgY29uc3QgcGx1Z2luID0gdGhpcy5nZXRQbHVnaW4oKTtcclxuICAgICAgICBpZiAoIXBsdWdpbj8uc2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbHVnaW4gc2V0dGluZ3Mgbm90IGF2YWlsYWJsZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1NhdmVkIGRhdGEgdG8gZGF0YS5qc29uJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2cgY2FjaGUgaGVhbHRoIG1ldHJpY3MgcGVyaW9kaWNhbGx5XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgbG9nQ2FjaGVNZXRyaWNzKGN1cnJlbnRWYXVsdElkOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTtcclxuICAgICAgICBjb25zdCB0aW1lU2luY2VMYXN0TG9nID0gbm93IC0gdGhpcy5sYXN0Q2FjaGVMb2dUaW1lO1xyXG4gICAgICAgIGNvbnN0IExPR19JTlRFUlZBTF9NUyA9IDUwMDA7IC8vIExvZyBldmVyeSA1IHNlY29uZHMgb3IgYWZ0ZXIgMTAgb3BlcmF0aW9uc1xyXG5cclxuICAgICAgICAvLyBMb2cgaWYgZW5vdWdoIHRpbWUgaGFzIHBhc3NlZCBPUiBpZiBhIHNpZ25pZmljYW50IG51bWJlciBvZiBvcGVyYXRpb25zIG9jY3VycmVkXHJcbiAgICAgICAgaWYgKHRpbWVTaW5jZUxhc3RMb2cgPiBMT0dfSU5URVJWQUxfTVMgfHwgKHRoaXMuY2FjaGVIaXRzICsgdGhpcy5jYWNoZU1pc3NlcykgJSAxMCA9PT0gMCkge1xyXG4gICAgICAgICAgICBjb25zdCB0b3RhbEFjY2Vzc2VzID0gdGhpcy5jYWNoZUhpdHMgKyB0aGlzLmNhY2hlTWlzc2VzO1xyXG4gICAgICAgICAgICBjb25zdCBoaXRSYXRpbyA9IHRvdGFsQWNjZXNzZXMgPiAwID8gKHRoaXMuY2FjaGVIaXRzIC8gdG90YWxBY2Nlc3NlcyAqIDEwMCkudG9GaXhlZCgyKSA6ICcwLjAwJztcclxuICAgICAgICAgICAgY29uc3QgY2FjaGVTaXplID0gdGhpcy5wYXRoQ2FjaGUuc2l6ZTtcclxuXHJcbiAgICAgICAgICAgIC8vIEVzdGltYXRlIG1lbW9yeSB1c2FnZSAocm91Z2ggZXN0aW1hdGUsIGFjdHVhbCBtZW1vcnkgdXNhZ2UgaXMgY29tcGxleClcclxuICAgICAgICAgICAgLy8gRWFjaCBlbnRyeSBpbiB0aGUgbWFwIHN0b3JlcyBhIHN0cmluZyBrZXkgYW5kIGEgVmF1bHRQYXRocyBvYmplY3QuXHJcbiAgICAgICAgICAgIC8vIFZhdWx0UGF0aHMgY29udGFpbnMgYSBmZXcgc3RyaW5ncy4gQSB2ZXJ5IHJvdWdoIGVzdGltYXRlOlxyXG4gICAgICAgICAgICBjb25zdCBlc3RpbWF0ZWRFbnRyeVNpemUgPSAyMDA7IC8vIGJ5dGVzIHBlciBlbnRyeSAoa2V5ICsgb2JqZWN0IHByb3BlcnRpZXMpXHJcbiAgICAgICAgICAgIGNvbnN0IGVzdGltYXRlZE1lbW9yeVVzYWdlS0IgPSAoY2FjaGVTaXplICogZXN0aW1hdGVkRW50cnlTaXplIC8gMTAyNCkudG9GaXhlZCgyKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBbQ0FDSEVfSEVBTFRIXSBWYXVsdDogJHtjdXJyZW50VmF1bHRJZH0sIEhpdHM6ICR7dGhpcy5jYWNoZUhpdHN9LCBNaXNzZXM6ICR7dGhpcy5jYWNoZU1pc3Nlc30sIEhpdCBSYXRpbzogJHtoaXRSYXRpb30lLCBDYWNoZSBTaXplOiAke2NhY2hlU2l6ZX0gZW50cmllcywgRXN0LiBNZW1vcnk6ICR7ZXN0aW1hdGVkTWVtb3J5VXNhZ2VLQn0gS0JgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFJlc2V0IGNvdW50ZXJzIGZvciB0aGUgbmV4dCBpbnRlcnZhbFxyXG4gICAgICAgICAgICB0aGlzLmNhY2hlSGl0cyA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuY2FjaGVNaXNzZXMgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RDYWNoZUxvZ1RpbWUgPSBub3c7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTUNQIHNlcnZlciBwcm9jZXNzIGxpZmVjeWNsZSBtYW5hZ2VtZW50XHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0YXJ0IHRoZSBNQ1Agc2VydmVyIHByb2Nlc3NcclxuICAgICAqL1xyXG4gICAgYXN5bmMgc3RhcnRNY3BTZXJ2ZXIoKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZzsgcGlkPzogbnVtYmVyIH0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBzZXJ2ZXIgaXMgYWxyZWFkeSBydW5uaW5nXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm1jcFNlcnZlclByb2Nlc3MgJiYgIXRoaXMubWNwU2VydmVyUHJvY2Vzcy5raWxsZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ01DUCBzZXJ2ZXIgaXMgYWxyZWFkeSBydW5uaW5nJyxcclxuICAgICAgICAgICAgICAgICAgICBwaWQ6IHRoaXMubWNwU2VydmVyUHJvY2Vzcy5waWRcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHsgcGx1Z2luRGlyIH0gPSB0aGlzLmdldFZhdWx0QXdhcmVQYXRocygpO1xyXG4gICAgICAgICAgICBjb25zdCBtY3BTZXJ2ZXJQYXRoID0gam9pbihwbHVnaW5EaXIsICdtY3Atc2VydmVyJywgJ21lZ2FtZW1fbWNwX3NlcnZlci5weScpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgTUNQIHNlcnZlciBmaWxlIGV4aXN0c1xyXG4gICAgICAgICAgICBjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XHJcbiAgICAgICAgICAgIGlmICghZnMuZXhpc3RzU3luYyhtY3BTZXJ2ZXJQYXRoKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgTUNQIHNlcnZlciBub3QgZm91bmQgYXQ6ICR7bWNwU2VydmVyUGF0aH1gXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdTdGFydGluZyBNQ1Agc2VydmVyIHByb2Nlc3MnLCB7IG1jcFNlcnZlclBhdGggfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBTcGF3biBNQ1Agc2VydmVyIHByb2Nlc3NcclxuICAgICAgICAgICAgY29uc3QgcHl0aG9uQ21kID0gdGhpcy5nZXRQeXRob25FeGVjdXRhYmxlKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHB5dGhvbkVudiA9IHRoaXMuZ2V0UHl0aG9uRW52KCk7XHJcbiAgICAgICAgICAgIHRoaXMubWNwU2VydmVyUHJvY2VzcyA9IHNwYXduKHB5dGhvbkNtZCwgW21jcFNlcnZlclBhdGhdLCB7XHJcbiAgICAgICAgICAgICAgICBzdGRpbzogWydwaXBlJywgJ3BpcGUnLCAncGlwZSddLFxyXG4gICAgICAgICAgICAgICAgY3dkOiBqb2luKHBsdWdpbkRpciwgJ21jcC1zZXJ2ZXInKSxcclxuICAgICAgICAgICAgICAgIGVudjogcHl0aG9uRW52XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gSGFuZGxlIHByb2Nlc3Mgc3RhcnR1cFxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tY3BTZXJ2ZXJQcm9jZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWNwU2VydmVyUHJvY2Vzcy5raWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWNwU2VydmVyUHJvY2VzcyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ01DUCBzZXJ2ZXIgc3RhcnR1cCB0aW1lb3V0J1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSwgMTAwMDApOyAvLyAxMCBzZWNvbmQgdGltZW91dFxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubWNwU2VydmVyUHJvY2VzcyEub24oJ3NwYXduJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdNQ1Agc2VydmVyIHN0YXJ0ZWQgc3VjY2Vzc2Z1bGx5Jywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwaWQ6IHRoaXMubWNwU2VydmVyUHJvY2VzcyEucGlkXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdNQ1Agc2VydmVyIHN0YXJ0ZWQgc3VjY2Vzc2Z1bGx5JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGlkOiB0aGlzLm1jcFNlcnZlclByb2Nlc3MhLnBpZFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5tY3BTZXJ2ZXJQcm9jZXNzIS5vbignZXJyb3InLCAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tY3BTZXJ2ZXJQcm9jZXNzID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHN0YXJ0IE1DUCBzZXJ2ZXInLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgRmFpbGVkIHRvIHN0YXJ0IE1DUCBzZXJ2ZXI6ICR7ZXJyb3IubWVzc2FnZX1gXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1jcFNlcnZlclByb2Nlc3MhLm9uKCdleGl0JywgKGNvZGUsIHNpZ25hbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWNwU2VydmVyUHJvY2VzcyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignTUNQIHNlcnZlciBwcm9jZXNzIGV4aXRlZCcsIHsgY29kZSwgc2lnbmFsIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTG9nIHNlcnZlciBvdXRwdXRcclxuICAgICAgICAgICAgICAgIHRoaXMubWNwU2VydmVyUHJvY2VzcyEuc3Rkb3V0Py5vbignZGF0YScsIChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ01DUCBzZXJ2ZXIgc3Rkb3V0JywgeyBvdXRwdXQ6IGRhdGEudG9TdHJpbmcoKS50cmltKCkgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1jcFNlcnZlclByb2Nlc3MhLnN0ZGVycj8ub24oJ2RhdGEnLCAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ01DUCBzZXJ2ZXIgc3RkZXJyJywgeyBvdXRwdXQ6IGRhdGEudG9TdHJpbmcoKS50cmltKCkgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdFcnJvciBzdGFydGluZyBNQ1Agc2VydmVyJywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgRXJyb3Igc3RhcnRpbmcgTUNQIHNlcnZlcjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0b3AgdGhlIE1DUCBzZXJ2ZXIgcHJvY2Vzc1xyXG4gICAgICovXHJcbiAgICBhc3luYyBzdG9wTWNwU2VydmVyKCk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmcgfT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5tY3BTZXJ2ZXJQcm9jZXNzIHx8IHRoaXMubWNwU2VydmVyUHJvY2Vzcy5raWxsZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTUNQIHNlcnZlciBpcyBub3QgcnVubmluZydcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHBpZCA9IHRoaXMubWNwU2VydmVyUHJvY2Vzcy5waWQ7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1N0b3BwaW5nIE1DUCBzZXJ2ZXIgcHJvY2VzcycsIHsgcGlkIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gR3JhY2VmdWwgc2h1dGRvd24gd2l0aCB0aW1lb3V0XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ3JhY2VmdWxUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yY2Uga2lsbCBpZiBncmFjZWZ1bCBzaHV0ZG93biBkaWRuJ3Qgd29ya1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1jcFNlcnZlclByb2Nlc3MgJiYgIXRoaXMubWNwU2VydmVyUHJvY2Vzcy5raWxsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignRm9yY2Uga2lsbGluZyBNQ1Agc2VydmVyIHByb2Nlc3MnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tY3BTZXJ2ZXJQcm9jZXNzLmtpbGwoJ1NJR0tJTEwnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCA1MDAwKTsgLy8gNSBzZWNvbmQgdGltZW91dCBmb3IgZ3JhY2VmdWwgc2h1dGRvd25cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1jcFNlcnZlclByb2Nlc3MhLm9uKCdleGl0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChncmFjZWZ1bFRpbWVvdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWNwU2VydmVyUHJvY2VzcyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnTUNQIHNlcnZlciBzdG9wcGVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTUNQIHNlcnZlciBzdG9wcGVkIHN1Y2Nlc3NmdWxseSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNlbmQgU0lHVEVSTSBmb3IgZ3JhY2VmdWwgc2h1dGRvd25cclxuICAgICAgICAgICAgICAgIHRoaXMubWNwU2VydmVyUHJvY2Vzcz8ua2lsbCgnU0lHVEVSTScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0Vycm9yIHN0b3BwaW5nIE1DUCBzZXJ2ZXInLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBFcnJvciBzdG9wcGluZyBNQ1Agc2VydmVyOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgTUNQIHNlcnZlciBpcyBydW5uaW5nXHJcbiAgICAgKi9cclxuICAgIGlzTWNwU2VydmVyUnVubmluZygpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tY3BTZXJ2ZXJQcm9jZXNzICE9PSBudWxsICYmICF0aGlzLm1jcFNlcnZlclByb2Nlc3Mua2lsbGVkO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IE1DUCBzZXJ2ZXIgc3RhdHVzXHJcbiAgICAgKi9cclxuICAgIGdldE1jcFNlcnZlclN0YXR1cygpOiB7XHJcbiAgICAgICAgcnVubmluZzogYm9vbGVhbjtcclxuICAgICAgICBwaWQ/OiBudW1iZXI7XHJcbiAgICAgICAgc3RhdHVzOiAncnVubmluZycgfCAnc3RvcHBlZCcgfCAnZXJyb3InO1xyXG4gICAgICAgIG1lc3NhZ2U6IHN0cmluZztcclxuICAgIH0ge1xyXG4gICAgICAgIGlmICghdGhpcy5tY3BTZXJ2ZXJQcm9jZXNzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBydW5uaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHN0YXR1czogJ3N0b3BwZWQnLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ01DUCBzZXJ2ZXIgaXMgbm90IHJ1bm5pbmcnXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5tY3BTZXJ2ZXJQcm9jZXNzLmtpbGxlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcnVubmluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICdzdG9wcGVkJyxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdNQ1Agc2VydmVyIHByb2Nlc3Mgd2FzIGtpbGxlZCdcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJ1bm5pbmc6IHRydWUsXHJcbiAgICAgICAgICAgIHBpZDogdGhpcy5tY3BTZXJ2ZXJQcm9jZXNzLnBpZCxcclxuICAgICAgICAgICAgc3RhdHVzOiAncnVubmluZycsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IGBNQ1Agc2VydmVyIGlzIHJ1bm5pbmcgKFBJRDogJHt0aGlzLm1jcFNlcnZlclByb2Nlc3MucGlkfSlgXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlIENsYXVkZSBEZXNrdG9wIGNvbmZpZ3VyYXRpb24gZm9yIE1DUCBzZXJ2ZXJcclxuICAgICAqL1xyXG4gICAgZ2VuZXJhdGVDbGF1ZGVEZXNrdG9wQ29uZmlnKCk6IHtcclxuICAgICAgICBzdWNjZXNzOiBib29sZWFuO1xyXG4gICAgICAgIGNvbmZpZz86IGFueTtcclxuICAgICAgICBtZXNzYWdlOiBzdHJpbmc7XHJcbiAgICAgICAgY29uZmlnUGF0aD86IHN0cmluZztcclxuICAgIH0ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgcGx1Z2luRGlyIH0gPSB0aGlzLmdldFZhdWx0QXdhcmVQYXRocygpO1xyXG4gICAgICAgICAgICBjb25zdCBtY3BTZXJ2ZXJQYXRoID0gam9pbihwbHVnaW5EaXIsICdtY3Atc2VydmVyJywgJ21lZ2FtZW1fbWNwX3NlcnZlci5weScpO1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhSnNvblBhdGggPSBqb2luKHBsdWdpbkRpciwgJ2RhdGEuanNvbicpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgTUNQIHNlcnZlciBleGlzdHNcclxuICAgICAgICAgICAgY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xyXG4gICAgICAgICAgICBpZiAoIWZzLmV4aXN0c1N5bmMobWNwU2VydmVyUGF0aCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYE1DUCBzZXJ2ZXIgbm90IGZvdW5kIGF0OiAke21jcFNlcnZlclBhdGh9YFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgdmVudlB5dGhvblBhdGggPSB0aGlzLnB5dGhvbkluc3RhbGxlci5nZXRQeXRob25FeGVjdXRhYmxlKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHB5dGhvbkNvbW1hbmQgPSB2ZW52UHl0aG9uUGF0aCAmJiBmcy5leGlzdHNTeW5jKHZlbnZQeXRob25QYXRoKVxyXG4gICAgICAgICAgICAgICAgPyB2ZW52UHl0aG9uUGF0aC5yZXBsYWNlKC9cXFxcL2csICcvJylcclxuICAgICAgICAgICAgICAgIDogJ3B5dGhvbic7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICBcIm1lZ2FtZW1cIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIFwiY29tbWFuZFwiOiBweXRob25Db21tYW5kLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiYXJnc1wiOiBbbWNwU2VydmVyUGF0aC5yZXBsYWNlKC9cXFxcL2csICcvJyldLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiZW52XCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJPQlNJRElBTl9DT05GSUdfUEFUSFwiOiBkYXRhSnNvblBhdGgucmVwbGFjZSgvXFxcXC9nLCAnLycpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gR2V0IENsYXVkZSBEZXNrdG9wIGNvbmZpZyBwYXRoXHJcbiAgICAgICAgICAgIGNvbnN0IG9zID0gcmVxdWlyZSgnb3MnKTtcclxuICAgICAgICAgICAgY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcclxuICAgICAgICAgICAgY29uc3QgY2xhdWRlQ29uZmlnRGlyID0gcGF0aC5qb2luKG9zLmhvbWVkaXIoKSwgJ0FwcERhdGEnLCAnUm9hbWluZycsICdDbGF1ZGUnKTtcclxuICAgICAgICAgICAgY29uc3QgY2xhdWRlQ29uZmlnUGF0aCA9IHBhdGguam9pbihjbGF1ZGVDb25maWdEaXIsICdjbGF1ZGVfZGVza3RvcF9jb25maWcuanNvbicpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWcsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnQ2xhdWRlIERlc2t0b3AgY29uZmlndXJhdGlvbiBnZW5lcmF0ZWQgc3VjY2Vzc2Z1bGx5JyxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ1BhdGg6IGNsYXVkZUNvbmZpZ1BhdGhcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0Vycm9yIGdlbmVyYXRpbmcgQ2xhdWRlIERlc2t0b3AgY29uZmlnJywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgRXJyb3IgZ2VuZXJhdGluZyBjb25maWc6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWBcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBzcGF3biwgQ2hpbGRQcm9jZXNzIH0gZnJvbSAnY2hpbGRfcHJvY2Vzcyc7XG5pbXBvcnQgeyBQbHVnaW4sIE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IGpvaW4gfSBmcm9tICdwYXRoJztcbmltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgdHlwZSB7IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3MgfSBmcm9tICcuLi90eXBlcy9TZXR0aW5ncyc7XG5pbXBvcnQgeyBHcmFwaGl0aUxvZ2dlciB9IGZyb20gJy4uL3V0aWxzL0xvZ2dlcic7XG5pbXBvcnQgeyBWYXVsdFJlZ2lzdHJ5U2VydmljZSB9IGZyb20gJy4vVmF1bHRSZWdpc3RyeVNlcnZpY2UnO1xuaW1wb3J0IHsgUHl0aG9uSW5zdGFsbGVyIH0gZnJvbSAnLi9QeXRob25JbnN0YWxsZXInO1xuXG5leHBvcnQgaW50ZXJmYWNlIERhZW1vbkNvbW1hbmQge1xuICAgIGNvbW1hbmQ6IHN0cmluZztcbiAgICBjb25maWc/OiBhbnk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGFlbW9uUmVzcG9uc2Uge1xuICAgIHN0YXR1czogJ3N1Y2Nlc3MnIHwgJ2Vycm9yJztcbiAgICBkYXRhPzogYW55O1xuICAgIGVycm9yPzogc3RyaW5nO1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gICAgcHJvY2Vzc2VkPzogbnVtYmVyO1xuICAgIHNraXBwZWQ/OiBudW1iZXI7XG4gICAgdG90YWw/OiBudW1iZXI7XG4gICAgYmF0Y2hDb3VudD86IG51bWJlcjtcbiAgICBub2RlVHlwZXNMb2FkZWQ/OiBudW1iZXI7XG4gICAgZWRnZVR5cGVzTG9hZGVkPzogbnVtYmVyO1xuICAgIGVycm9ycz86IHN0cmluZ1tdO1xuICAgIGhhc0Vycm9ycz86IGJvb2xlYW47XG4gICAgbm90ZXM/OiBhbnlbXTtcbn1cblxuaW50ZXJmYWNlIFF1ZXVlZENvbW1hbmQge1xuICAgIGNvbW1hbmQ6IERhZW1vbkNvbW1hbmQ7XG4gICAgcmVzb2x2ZTogKHZhbHVlOiBEYWVtb25SZXNwb25zZSkgPT4gdm9pZDtcbiAgICByZWplY3Q6IChyZWFzb24/OiBhbnkpID0+IHZvaWQ7XG4gICAgdGltZW91dDogTm9kZUpTLlRpbWVvdXQ7XG59XG5cbi8qKlxuICogUHl0aG9uIERhZW1vbiBCcmlkZ2UgLSBNYW5hZ2VzIHBlcnNpc3RlbnQgUHl0aG9uIHByb2Nlc3MgZm9yIEJHRSBtb2RlbCBvcHRpbWl6YXRpb25cbiAqIEBwdXJwb3NlOiBFbGltaW5hdGUgMTctMjVzIEJHRSBtb2RlbCBsb2FkaW5nIG92ZXJoZWFkIGJ5IGtlZXBpbmcgcGVyc2lzdGVudCBQeXRob24gcHJvY2VzcyBAZGVwZW5kczogc3luY19kYWVtb24ucHkgQHJlc3VsdHM6IDYwJSBmYXN0ZXIgc3luYyBvcGVyYXRpb25zXG4gKi9cbmV4cG9ydCBjbGFzcyBQeXRob25EYWVtb25CcmlkZ2Uge1xuICAgIHByaXZhdGUgcGx1Z2luOiBQbHVnaW47XG4gICAgcHJpdmF0ZSBzZXR0aW5nczogR3JhcGhpdGlQbHVnaW5TZXR0aW5ncztcbiAgICBwcml2YXRlIGxvZ2dlcjogR3JhcGhpdGlMb2dnZXI7XG4gICAgcHJpdmF0ZSB2YXVsdFJlZ2lzdHJ5OiBWYXVsdFJlZ2lzdHJ5U2VydmljZTtcbiAgICBwcml2YXRlIHB5dGhvbkluc3RhbGxlcjogUHl0aG9uSW5zdGFsbGVyO1xuICAgIHByaXZhdGUgZGFlbW9uUHJvY2VzczogQ2hpbGRQcm9jZXNzIHwgbnVsbCA9IG51bGw7XG4gICAgcHJpdmF0ZSBjb21tYW5kUXVldWU6IFF1ZXVlZENvbW1hbmRbXSA9IFtdO1xuICAgIHByaXZhdGUgaXNQcm9jZXNzaW5nID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBpc1NodXR0aW5nRG93biA9IGZhbHNlO1xuICAgIHByaXZhdGUgc3RhcnR1cFByb21pc2U6IFByb21pc2U8dm9pZD4gfCBudWxsID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKHBsdWdpbjogUGx1Z2luLCBzZXR0aW5nczogR3JhcGhpdGlQbHVnaW5TZXR0aW5ncywgbG9nZ2VyOiBHcmFwaGl0aUxvZ2dlciwgdmF1bHRSZWdpc3RyeTogVmF1bHRSZWdpc3RyeVNlcnZpY2UpIHtcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7XG4gICAgICAgIHRoaXMudmF1bHRSZWdpc3RyeSA9IHZhdWx0UmVnaXN0cnk7XG4gICAgICAgIHRoaXMucHl0aG9uSW5zdGFsbGVyID0gbmV3IFB5dGhvbkluc3RhbGxlcihcbiAgICAgICAgICAgIHBsdWdpbixcbiAgICAgICAgICAgIHRoaXMuZ2V0UGx1Z2luRGlyZWN0b3J5KCksXG4gICAgICAgICAgICB7IHB5dGhvblBhdGg6IHNldHRpbmdzLnB5dGhvblBhdGggfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByZWxvYWQgZGFlbW9uIGZvciBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gLSBwdWJsaWMgaW50ZXJmYWNlIGZvciBwbHVnaW4gbGF1bmNoXG4gICAgICogQHB1cnBvc2U6IFB1YmxpYyBtZXRob2QgdG8gc3RhcnQgZGFlbW9uIGR1cmluZyBwbHVnaW4gaW5pdGlhbGl6YXRpb24gQGRlcGVuZHM6IHNldHRpbmdzIGZsYWdzIEByZXN1bHRzOiBGYXN0ZXIgZmlyc3Qgc3luY1xuICAgICAqL1xuICAgIGFzeW5jIHByZWxvYWREYWVtb24oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXJ0RGFlbW9uKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RhcnQgdGhlIGRhZW1vbiBwcm9jZXNzXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBzdGFydERhZW1vbigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKHRoaXMuZGFlbW9uUHJvY2VzcyAmJiAhdGhpcy5kYWVtb25Qcm9jZXNzLmtpbGxlZCkge1xuICAgICAgICAgICAgcmV0dXJuOyAvLyBBbHJlYWR5IHJ1bm5pbmdcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnN0YXJ0dXBQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGFydHVwUHJvbWlzZTsgLy8gQWxyZWFkeSBzdGFydGluZ1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdGFydHVwUHJvbWlzZSA9IHRoaXMuX3N0YXJ0RGFlbW9uSW50ZXJuYWwoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnR1cFByb21pc2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfc3RhcnREYWVtb25JbnRlcm5hbCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGx1Z2luRGlyID0gdGhpcy5nZXRQbHVnaW5EaXJlY3RvcnkoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBicmlkZ2VQYXRoID0gdGhpcy5nZXRCcmlkZ2VQYXRoKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGFlbW9uU2NyaXB0ID0gam9pbihicmlkZ2VQYXRoLCAnc3luY19kYWVtb24ucHknKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tEQUVNT05dIFJlc29sdmVkIHBhdGhzJywgeyBwbHVnaW5EaXIsIGJyaWRnZVBhdGgsIGRhZW1vblNjcmlwdCwgZXhpc3RzOiBmcy5leGlzdHNTeW5jKGRhZW1vblNjcmlwdCkgfSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdbREFFTU9OXSBTdGFydGluZyBQeXRob24gZGFlbW9uIHByb2Nlc3MnKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHB5dGhvbkNtZCA9IHRoaXMuZ2V0UHl0aG9uRXhlY3V0YWJsZSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VFbnYgPSB0aGlzLmdldFB5dGhvbkVudigpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVudiA9IHsgLi4uYmFzZUVudiB9O1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmxvZ1BlcmZvcm1hbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGVudi5HUkFQSElUSV9MT0dfUEVSRk9STUFOQ0UgPSAndHJ1ZSc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gRXhlY3V0ZSBkYWVtb24gYXMgUHl0aG9uIG1vZHVsZSB0byBzdXBwb3J0IHJlbGF0aXZlIGltcG9ydHMgKHByb2R1Y3Rpb24tc2FmZSlcbiAgICAgICAgICAgICAgICB0aGlzLmRhZW1vblByb2Nlc3MgPSBzcGF3bihweXRob25DbWQsIFsnLW0nLCAnZ3JhcGhpdGlfYnJpZGdlLnN5bmNfZGFlbW9uJ10sIHtcbiAgICAgICAgICAgICAgICAgICAgc3RkaW86IFsncGlwZScsICdwaXBlJywgJ3BpcGUnXSxcbiAgICAgICAgICAgICAgICAgICAgY3dkOiBwbHVnaW5EaXIsXG4gICAgICAgICAgICAgICAgICAgIGVudjogZW52XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgZGFlbW9uIHN0YXJ0dXBcbiAgICAgICAgICAgICAgICBsZXQgc3RhcnR1cENvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgLy8gQ29sZCBzdGFydCB3aXRoIEJHRSB3YXJtLXVwIGNhbiBleGNlZWQgMzBzIG9uIGZpcnN0IHJ1bjsgYWxsb3cgdXAgdG8gMTIwc1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0dXBUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc3RhcnR1cENvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignW0RBRU1PTl0gU3RhcnR1cCB0aW1lb3V0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdEYWVtb24gc3RhcnR1cCB0aW1lb3V0JykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgMTIwMDAwKTsgLy8gMTIwIHNlY29uZCB0aW1lb3V0IGZvciBCR0UgbG9hZGluZyAoY29sZCBzdGFydClcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW0RBRU1PTl0gV2FpdGluZyB1cCB0byAxMjBzIGZvciBkYWVtb24gcmVhZGluZXNzJyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRhZW1vblByb2Nlc3Muc3Rkb3V0Py5vbignZGF0YScsIChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG91dHB1dCA9IGRhdGEudG9TdHJpbmcoKS50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJvdXRlIGRhZW1vbiBzdGRvdXQgdGhyb3VnaCBzdGFuZGFyZGl6ZWQgUHl0aG9uIG91dHB1dCBsb2dnZXJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nUHl0aG9uT3V0cHV0KCdzdGRvdXQnLCBvdXRwdXQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChvdXRwdXQuaW5jbHVkZXMoJ1wic3RhdHVzXCI6IFwicmVhZHlcIicpICYmICFzdGFydHVwQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0dXBDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoc3RhcnR1cFRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnW0RBRU1PTl0gUHJvY2VzcyByZWFkeSAtIEJHRSBtb2RlbCBsb2FkZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnR1cFByb21pc2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRhZW1vblByb2Nlc3Muc3RkZXJyPy5vbignZGF0YScsIChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gZGF0YS50b1N0cmluZygpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gUm91dGUgZGFlbW9uIHN0ZGVyciB0aHJvdWdoIHN0YW5kYXJkaXplZCBQeXRob24gb3V0cHV0IGxvZ2dlclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2dQeXRob25PdXRwdXQoJ3N0ZGVycicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZGFlbW9uUHJvY2Vzcy5vbignZXJyb3InLCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1tEQUVNT05dIFByb2Nlc3MgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0dXBQcm9taXNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzdGFydHVwQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChzdGFydHVwVGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRhZW1vblByb2Nlc3Mub24oJ2V4aXQnLCAoY29kZSwgc2lnbmFsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oYFtEQUVNT05dIFByb2Nlc3MgZXhpdGVkIHdpdGggY29kZSAke2NvZGV9LCBzaWduYWwgJHtzaWduYWx9YCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGFlbW9uUHJvY2VzcyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnR1cFByb21pc2UgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghc3RhcnR1cENvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoc3RhcnR1cFRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgRGFlbW9uIHByb2Nlc3MgZXhpdGVkIHdpdGggY29kZSAke2NvZGV9YCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1tEQUVNT05dIEZhaWxlZCB0byBzdGFydCBwcm9jZXNzOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0dXBQcm9taXNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlIHN5bmMgY29tbWFuZCB0aHJvdWdoIGRhZW1vblxuICAgICAqL1xuICAgIGFzeW5jIGV4ZWN1dGVEYWVtb25TeW5jKGNvbmZpZzogYW55KTogUHJvbWlzZTxEYWVtb25SZXNwb25zZT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5zdGFydERhZW1vbigpO1xuXG4gICAgICAgICAgICAvLyBAcHVycG9zZTogSW5jbHVkZSBsb2dQZXJmb3JtYW5jZSBzZXR0aW5nIGluIGRhZW1vbiBjb25maWcgQGRlcGVuZHM6IHRoaXMuc2V0dGluZ3MgQHJlc3VsdHM6IFBlcmZvcm1hbmNlIHRpbWluZyBjb250cm9sbGVkIGJ5IFVJIHRvZ2dsZVxuICAgICAgICAgICAgY29uc3QgZW5oYW5jZWRDb25maWcgPSB7XG4gICAgICAgICAgICAgICAgLi4uY29uZmlnLFxuICAgICAgICAgICAgICAgIGxvZ1BlcmZvcm1hbmNlOiB0aGlzLnNldHRpbmdzLmxvZ1BlcmZvcm1hbmNlXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBjb21tYW5kOiBEYWVtb25Db21tYW5kID0ge1xuICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICdzeW5jJyxcbiAgICAgICAgICAgICAgICBjb25maWc6IGVuaGFuY2VkQ29uZmlnXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5leGVjdXRlQ29tbWFuZChjb21tYW5kKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdbREFFTU9OXSBTeW5jIGV4ZWN1dGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlIGNvbW1hbmQgdGhyb3VnaCBkYWVtb24gd2l0aCBxdWV1ZSBtYW5hZ2VtZW50XG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBleGVjdXRlQ29tbWFuZChjb21tYW5kOiBEYWVtb25Db21tYW5kKTogUHJvbWlzZTxEYWVtb25SZXNwb25zZT4ge1xuICAgICAgICBpZiAodGhpcy5pc1NodXR0aW5nRG93bikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEYWVtb24gaXMgc2h1dHRpbmcgZG93bicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdDb21tYW5kIHRpbWVvdXQgLSBkYWVtb24gbWF5IGJlIHVucmVzcG9uc2l2ZScpKTtcbiAgICAgICAgICAgIH0sIDYwMDAwMCk7IC8vIDEwIG1pbnV0ZSB0aW1lb3V0IGZvciBwcm9kdWN0aW9uIGZpbGVzXG5cbiAgICAgICAgICAgIGNvbnN0IHF1ZXVlZENvbW1hbmQ6IFF1ZXVlZENvbW1hbmQgPSB7XG4gICAgICAgICAgICAgICAgY29tbWFuZCxcbiAgICAgICAgICAgICAgICByZXNvbHZlOiAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlamVjdDogKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRpbWVvdXRcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuY29tbWFuZFF1ZXVlLnB1c2gocXVldWVkQ29tbWFuZCk7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NRdWV1ZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIGNvbW1hbmQgcXVldWUgc2VxdWVudGlhbGx5XG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBwcm9jZXNzUXVldWUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICh0aGlzLmlzUHJvY2Vzc2luZyB8fCB0aGlzLmNvbW1hbmRRdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNQcm9jZXNzaW5nID0gdHJ1ZTtcblxuICAgICAgICB3aGlsZSAodGhpcy5jb21tYW5kUXVldWUubGVuZ3RoID4gMCAmJiAhdGhpcy5pc1NodXR0aW5nRG93bikge1xuICAgICAgICAgICAgY29uc3QgcXVldWVkQ29tbWFuZCA9IHRoaXMuY29tbWFuZFF1ZXVlLnNoaWZ0KCkhO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kQ29tbWFuZFRvRGFlbW9uKHF1ZXVlZENvbW1hbmQuY29tbWFuZCk7XG4gICAgICAgICAgICAgICAgcXVldWVkQ29tbWFuZC5yZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcXVldWVkQ29tbWFuZC5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pc1Byb2Nlc3NpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGNvbW1hbmQgdG8gZGFlbW9uIHByb2Nlc3MgYW5kIHdhaXQgZm9yIHJlc3BvbnNlXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBzZW5kQ29tbWFuZFRvRGFlbW9uKGNvbW1hbmQ6IERhZW1vbkNvbW1hbmQpOiBQcm9taXNlPERhZW1vblJlc3BvbnNlPiB7XG4gICAgICAgIC8vIENhcHR1cmUgYSBzdGFibGUgcmVmZXJlbmNlIHRvIHNhdGlzZnkgVFMgYW5kIGF2b2lkIG51bGxhYmlsaXR5IGluIGNsb3N1cmVzXG4gICAgICAgIGNvbnN0IHByb2MgPSB0aGlzLmRhZW1vblByb2Nlc3M7XG4gICAgICAgIGlmICghcHJvYyB8fCBwcm9jLmtpbGxlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEYWVtb24gcHJvY2VzcyBub3QgYXZhaWxhYmxlJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgbGV0IHJlc3BvbnNlQnVmZmVyID0gJyc7XG4gICAgICAgICAgICBsZXQgcmVzcG9uc2VSZWNlaXZlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBjb25zdCBvbkRhdGEgPSAoZGF0YTogQnVmZmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2VCdWZmZXIgKz0gZGF0YS50b1N0cmluZygpO1xuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGNvbXBsZXRlIEpTT04gcmVzcG9uc2UgKG5ld2xpbmUtZGVsaW1pdGVkKVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gcmVzcG9uc2VCdWZmZXIuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW5lLnRyaW0oKSAmJiAhcmVzcG9uc2VSZWNlaXZlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gSlNPTi5wYXJzZShsaW5lLnRyaW0oKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VSZWNlaXZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvYy5zdGRvdXQ/LnJlbW92ZUxpc3RlbmVyKCdkYXRhJywgb25EYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlIGFzIERhZW1vblJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29udGludWUgYnVmZmVyaW5nIHVudGlsIHZhbGlkIEpTT04gaXMgcmVjZWl2ZWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBwcm9jLnN0ZG91dD8ub24oJ2RhdGEnLCBvbkRhdGEpO1xuXG4gICAgICAgICAgICAvLyBTZW5kIGNvbW1hbmRcbiAgICAgICAgICAgIGNvbnN0IGNvbW1hbmRKc29uID0gSlNPTi5zdHJpbmdpZnkoY29tbWFuZCkgKyAnXFxuJztcbiAgICAgICAgICAgIHByb2Muc3RkaW4/LndyaXRlKGNvbW1hbmRKc29uKTtcblxuICAgICAgICAgICAgLy8gU2V0dXAgdGltZW91dCAtIGluY3JlYXNlZCBmb3IgcHJvZHVjdGlvbiBmaWxlIHByb2Nlc3NpbmdcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2VSZWNlaXZlZCkge1xuICAgICAgICAgICAgICAgICAgICBwcm9jLnN0ZG91dD8ucmVtb3ZlTGlzdGVuZXIoJ2RhdGEnLCBvbkRhdGEpO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdDb21tYW5kIHJlc3BvbnNlIHRpbWVvdXQnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgNjAwMDAwKTsgLy8gMTAgbWludXRlIHRpbWVvdXQgZm9yIHByb2R1Y3Rpb24gZmlsZXNcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2h1dGRvd24gZGFlbW9uIHByb2Nlc3NcbiAgICAgKi9cbiAgICBhc3luYyBzaHV0ZG93bigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKHRoaXMuaXNTaHV0dGluZ0Rvd24pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNTaHV0dGluZ0Rvd24gPSB0cnVlO1xuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdbREFFTU9OXSBTaHV0dGluZyBkb3duIGRhZW1vbiBwcm9jZXNzJyk7XG5cbiAgICAgICAgLy8gQ2xlYXIgY29tbWFuZCBxdWV1ZVxuICAgICAgICB0aGlzLmNvbW1hbmRRdWV1ZS5mb3JFYWNoKGNtZCA9PiB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoY21kLnRpbWVvdXQpO1xuICAgICAgICAgICAgY21kLnJlamVjdChuZXcgRXJyb3IoJ0RhZW1vbiBzaHV0dGluZyBkb3duJykpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jb21tYW5kUXVldWUgPSBbXTtcblxuICAgICAgICAvLyBLaWxsIGRhZW1vbiBwcm9jZXNzIHdpdGggcmFjZSBjb25kaXRpb24gcHJvdGVjdGlvblxuICAgICAgICBjb25zdCBwcm9jZXNzUmVmID0gdGhpcy5kYWVtb25Qcm9jZXNzO1xuICAgICAgICBpZiAocHJvY2Vzc1JlZiAmJiAhcHJvY2Vzc1JlZi5raWxsZWQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gVHJ5IGdyYWNlZnVsIHNodXRkb3duIGZpcnN0XG4gICAgICAgICAgICAgICAgY29uc3Qgc2h1dGRvd25Db21tYW5kOiBEYWVtb25Db21tYW5kID0geyBjb21tYW5kOiAnc2h1dGRvd24nIH07XG4gICAgICAgICAgICAgICAgcHJvY2Vzc1JlZi5zdGRpbj8ud3JpdGUoSlNPTi5zdHJpbmdpZnkoc2h1dGRvd25Db21tYW5kKSArICdcXG4nKTtcblxuICAgICAgICAgICAgICAgIC8vIFdhaXQgYnJpZWZseSBmb3IgZ3JhY2VmdWwgc2h1dGRvd25cbiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMjAwMCkpO1xuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgcHJvY2VzcyBzdGlsbCBleGlzdHMgYW5kIGlzbid0IGtpbGxlZFxuICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzUmVmICYmICFwcm9jZXNzUmVmLmtpbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzUmVmLmtpbGwoJ1NJR1RFUk0nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdbREFFTU9OXSBFcnJvciBkdXJpbmcgc2h1dGRvd246JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzUmVmICYmICFwcm9jZXNzUmVmLmtpbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzUmVmLmtpbGwoJ1NJR0tJTEwnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRhZW1vblByb2Nlc3MgPSBudWxsO1xuICAgICAgICB0aGlzLmlzU2h1dHRpbmdEb3duID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RhcnR1cFByb21pc2UgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBicmlkZ2UgcGF0aCBmb3IgZGFlbW9uIHNjcmlwdCBsb2NhdGlvbiB1c2luZyB2YXVsdC1hd2FyZSBwYXRoIHJlc29sdXRpb25cbiAgICAgKiBAcHVycG9zZTogQ2xlYW4gcGF0aCByZXNvbHV0aW9uIHVzaW5nIFZhdWx0UmVnaXN0cnlTZXJ2aWNlIEBkZXBlbmRzOiBWYXVsdFJlZ2lzdHJ5U2VydmljZSBAcmVzdWx0czogQ29ycmVjdCBicmlkZ2UgcGF0aCBmb3IgY3VycmVudCB2YXVsdFxuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0QnJpZGdlUGF0aCgpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG5cbiAgICAgICAgLy8gVHJ5IHZhdWx0LWF3YXJlIHBhdGggcmVzb2x1dGlvbiBmaXJzdFxuICAgICAgICBsZXQgYWN0aXZlVmF1bHQgPSB0aGlzLnZhdWx0UmVnaXN0cnkuZ2V0QWN0aXZlVmF1bHQoKTtcbiAgICAgICAgaWYgKCFhY3RpdmVWYXVsdCkge1xuICAgICAgICAgICAgLy8gRW5zdXJlIGFjdGl2ZSB2YXVsdCBpcyBzZXQgaWYgbm90IGFscmVhZHkgZG9uZVxuICAgICAgICAgICAgdGhpcy52YXVsdFJlZ2lzdHJ5LmVuc3VyZUFjdGl2ZVZhdWx0KCk7XG4gICAgICAgICAgICBhY3RpdmVWYXVsdCA9IHRoaXMudmF1bHRSZWdpc3RyeS5nZXRBY3RpdmVWYXVsdCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhY3RpdmVWYXVsdD8ucGF0aCkge1xuICAgICAgICAgICAgY29uc3QgdmF1bHRCcmlkZ2VQYXRoID0gam9pbihhY3RpdmVWYXVsdC5wYXRoLCAnLm9ic2lkaWFuJywgJ3BsdWdpbnMnLCAnbWVnYW1lbS1tY3AnLCAnZ3JhcGhpdGlfYnJpZGdlJyk7XG4gICAgICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyhqb2luKHZhdWx0QnJpZGdlUGF0aCwgJ3N5bmNfZGFlbW9uLnB5JykpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tEQUVNT05dIFVzaW5nIHZhdWx0LWF3YXJlIGJyaWRnZSBwYXRoJywgeyBwYXRoOiB2YXVsdEJyaWRnZVBhdGggfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhdWx0QnJpZGdlUGF0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZhbGxiYWNrIHRvIHBsdWdpbiBtYW5pZmVzdCBkaXJlY3Rvcnkgd2l0aCBhYnNvbHV0ZSBwYXRoXG4gICAgICAgIGNvbnN0IG1hbmlmZXN0RGlyID0gKHRoaXMucGx1Z2luIGFzIGFueSk/Lm1hbmlmZXN0Py5kaXIgfHwgJyc7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRWYXVsdFBhdGggPSAoKHRoaXMucGx1Z2luIGFzIGFueSkuYXBwPy52YXVsdD8uYWRhcHRlciBhcyBhbnkpPy5iYXNlUGF0aCB8fCAnJztcbiAgICAgICAgY29uc3QgZmFsbGJhY2tQYXRoID0gY3VycmVudFZhdWx0UGF0aCA/IGpvaW4oY3VycmVudFZhdWx0UGF0aCwgbWFuaWZlc3REaXIsICdncmFwaGl0aV9icmlkZ2UnKSA6IGpvaW4obWFuaWZlc3REaXIsICdncmFwaGl0aV9icmlkZ2UnKTtcblxuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW0RBRU1PTl0gVXNpbmcgZmFsbGJhY2sgYnJpZGdlIHBhdGgnLCB7XG4gICAgICAgICAgICBwYXRoOiBmYWxsYmFja1BhdGgsXG4gICAgICAgICAgICB2YXVsdFBhdGg6IGFjdGl2ZVZhdWx0Py5wYXRoIHx8ICdub25lJyxcbiAgICAgICAgICAgIG1hbmlmZXN0RGlyLFxuICAgICAgICAgICAgY3VycmVudFZhdWx0UGF0aFxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZmFsbGJhY2tQYXRoO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0UGx1Z2luRGlyZWN0b3J5KCk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTtcbiAgICAgICAgbGV0IGFjdGl2ZVZhdWx0ID0gdGhpcy52YXVsdFJlZ2lzdHJ5LmdldEFjdGl2ZVZhdWx0KCk7XG4gICAgICAgIGlmICghYWN0aXZlVmF1bHQpIHtcbiAgICAgICAgICAgIHRoaXMudmF1bHRSZWdpc3RyeS5lbnN1cmVBY3RpdmVWYXVsdCgpO1xuICAgICAgICAgICAgYWN0aXZlVmF1bHQgPSB0aGlzLnZhdWx0UmVnaXN0cnkuZ2V0QWN0aXZlVmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWN0aXZlVmF1bHQ/LnBhdGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhdWx0UGx1Z2luUGF0aCA9IGpvaW4oYWN0aXZlVmF1bHQucGF0aCwgJy5vYnNpZGlhbicsICdwbHVnaW5zJywgJ21lZ2FtZW0tbWNwJyk7XG4gICAgICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyh2YXVsdFBsdWdpblBhdGgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhdWx0UGx1Z2luUGF0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtYW5pZmVzdERpciA9ICh0aGlzLnBsdWdpbiBhcyBhbnkpPy5tYW5pZmVzdD8uZGlyIHx8ICcnO1xuICAgICAgICBjb25zdCBjdXJyZW50VmF1bHRQYXRoID0gKCh0aGlzLnBsdWdpbiBhcyBhbnkpLmFwcD8udmF1bHQ/LmFkYXB0ZXIgYXMgYW55KT8uYmFzZVBhdGggfHwgJyc7XG4gICAgICAgIHJldHVybiBjdXJyZW50VmF1bHRQYXRoID8gam9pbihjdXJyZW50VmF1bHRQYXRoLCBtYW5pZmVzdERpcikgOiBtYW5pZmVzdERpcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFB5dGhvbkV4ZWN1dGFibGUoKTogc3RyaW5nIHtcbiAgICAgICAgLy8gVXNlIHRoZSBleGlzdGluZyBnZXRQeXRob25FbnYgbWV0aG9kIHdoaWNoIGlzIHN5bmNocm9ub3VzXG4gICAgICAgIGNvbnN0IGVudiA9IHRoaXMucHl0aG9uSW5zdGFsbGVyLmdldFB5dGhvbkVudigpO1xuICAgICAgICBjb25zdCBweXRob25QYXRoID0gZW52LlBZVEhPTl9FWEVDVVRBQkxFO1xuICAgICAgICBpZiAoIXB5dGhvblBhdGgpIHtcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoJ1B5dGhvbiBlbnZpcm9ubWVudCBub3QgY29uZmlndXJlZC4gUGxlYXNlIHJ1biBQeXRob24gaW5zdGFsbGF0aW9uIGZyb20gc2V0dGluZ3MuJyk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1B5dGhvbiBlbnZpcm9ubWVudCBub3QgY29uZmlndXJlZCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBweXRob25QYXRoO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0UHl0aG9uRW52KCk6IE5vZGVKUy5Qcm9jZXNzRW52IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHl0aG9uSW5zdGFsbGVyLmdldFB5dGhvbkVudigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGRhZW1vbiBpcyBydW5uaW5nXG4gICAgICovXG4gICAgaXNSdW5uaW5nKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gISEodGhpcy5kYWVtb25Qcm9jZXNzICYmICF0aGlzLmRhZW1vblByb2Nlc3Mua2lsbGVkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgZGFlbW9uIHN0YXR1cyBmb3IgbW9uaXRvcmluZ1xuICAgICAqL1xuICAgIGdldFN0YXR1cygpOiB7IHJ1bm5pbmc6IGJvb2xlYW47IHF1ZXVlTGVuZ3RoOiBudW1iZXI7IHByb2Nlc3Npbmc6IGJvb2xlYW4gfSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBydW5uaW5nOiB0aGlzLmlzUnVubmluZygpLFxuICAgICAgICAgICAgcXVldWVMZW5ndGg6IHRoaXMuY29tbWFuZFF1ZXVlLmxlbmd0aCxcbiAgICAgICAgICAgIHByb2Nlc3Npbmc6IHRoaXMuaXNQcm9jZXNzaW5nXG4gICAgICAgIH07XG4gICAgfVxufSIsIi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBub29wKCkge31cblxuZXhwb3J0IGNvbnN0IGlkZW50aXR5ID0gKHgpID0+IHg7XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0ZW1wbGF0ZSBTXG4gKiBAcGFyYW0ge1R9IHRhclxuICogQHBhcmFtIHtTfSBzcmNcbiAqIEByZXR1cm5zIHtUICYgU31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbih0YXIsIHNyYykge1xuXHQvLyBAdHMtaWdub3JlXG5cdGZvciAoY29uc3QgayBpbiBzcmMpIHRhcltrXSA9IHNyY1trXTtcblx0cmV0dXJuIC8qKiBAdHlwZSB7VCAmIFN9ICovICh0YXIpO1xufVxuXG4vLyBBZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3RoZW4vaXMtcHJvbWlzZS9ibG9iL21hc3Rlci9pbmRleC5qc1xuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgTUlUIExpY2Vuc2UgaHR0cHM6Ly9naXRodWIuY29tL3RoZW4vaXMtcHJvbWlzZS9ibG9iL21hc3Rlci9MSUNFTlNFXG4vKipcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICogQHJldHVybnMge3ZhbHVlIGlzIFByb21pc2VMaWtlPGFueT59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19wcm9taXNlKHZhbHVlKSB7XG5cdHJldHVybiAoXG5cdFx0ISF2YWx1ZSAmJlxuXHRcdCh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykgJiZcblx0XHR0eXBlb2YgKC8qKiBAdHlwZSB7YW55fSAqLyAodmFsdWUpLnRoZW4pID09PSAnZnVuY3Rpb24nXG5cdCk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRfbG9jYXRpb24oZWxlbWVudCwgZmlsZSwgbGluZSwgY29sdW1uLCBjaGFyKSB7XG5cdGVsZW1lbnQuX19zdmVsdGVfbWV0YSA9IHtcblx0XHRsb2M6IHsgZmlsZSwgbGluZSwgY29sdW1uLCBjaGFyIH1cblx0fTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJ1bihmbikge1xuXHRyZXR1cm4gZm4oKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJsYW5rX29iamVjdCgpIHtcblx0cmV0dXJuIE9iamVjdC5jcmVhdGUobnVsbCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtGdW5jdGlvbltdfSBmbnNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcnVuX2FsbChmbnMpIHtcblx0Zm5zLmZvckVhY2gocnVuKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2FueX0gdGhpbmdcbiAqIEByZXR1cm5zIHt0aGluZyBpcyBGdW5jdGlvbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX2Z1bmN0aW9uKHRoaW5nKSB7XG5cdHJldHVybiB0eXBlb2YgdGhpbmcgPT09ICdmdW5jdGlvbic7XG59XG5cbi8qKiBAcmV0dXJucyB7Ym9vbGVhbn0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYWZlX25vdF9lcXVhbChhLCBiKSB7XG5cdHJldHVybiBhICE9IGEgPyBiID09IGIgOiBhICE9PSBiIHx8IChhICYmIHR5cGVvZiBhID09PSAnb2JqZWN0JykgfHwgdHlwZW9mIGEgPT09ICdmdW5jdGlvbic7XG59XG5cbmxldCBzcmNfdXJsX2VxdWFsX2FuY2hvcjtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudF9zcmNcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3JjX3VybF9lcXVhbChlbGVtZW50X3NyYywgdXJsKSB7XG5cdGlmIChlbGVtZW50X3NyYyA9PT0gdXJsKSByZXR1cm4gdHJ1ZTtcblx0aWYgKCFzcmNfdXJsX2VxdWFsX2FuY2hvcikge1xuXHRcdHNyY191cmxfZXF1YWxfYW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuXHR9XG5cdC8vIFRoaXMgaXMgYWN0dWFsbHkgZmFzdGVyIHRoYW4gZG9pbmcgVVJMKC4uKS5ocmVmXG5cdHNyY191cmxfZXF1YWxfYW5jaG9yLmhyZWYgPSB1cmw7XG5cdHJldHVybiBlbGVtZW50X3NyYyA9PT0gc3JjX3VybF9lcXVhbF9hbmNob3IuaHJlZjtcbn1cblxuLyoqIEBwYXJhbSB7c3RyaW5nfSBzcmNzZXQgKi9cbmZ1bmN0aW9uIHNwbGl0X3NyY3NldChzcmNzZXQpIHtcblx0cmV0dXJuIHNyY3NldC5zcGxpdCgnLCcpLm1hcCgoc3JjKSA9PiBzcmMudHJpbSgpLnNwbGl0KCcgJykuZmlsdGVyKEJvb2xlYW4pKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxTb3VyY2VFbGVtZW50IHwgSFRNTEltYWdlRWxlbWVudH0gZWxlbWVudF9zcmNzZXRcbiAqIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkIHwgbnVsbH0gc3Jjc2V0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNyY3NldF91cmxfZXF1YWwoZWxlbWVudF9zcmNzZXQsIHNyY3NldCkge1xuXHRjb25zdCBlbGVtZW50X3VybHMgPSBzcGxpdF9zcmNzZXQoZWxlbWVudF9zcmNzZXQuc3Jjc2V0KTtcblx0Y29uc3QgdXJscyA9IHNwbGl0X3NyY3NldChzcmNzZXQgfHwgJycpO1xuXG5cdHJldHVybiAoXG5cdFx0dXJscy5sZW5ndGggPT09IGVsZW1lbnRfdXJscy5sZW5ndGggJiZcblx0XHR1cmxzLmV2ZXJ5KFxuXHRcdFx0KFt1cmwsIHdpZHRoXSwgaSkgPT5cblx0XHRcdFx0d2lkdGggPT09IGVsZW1lbnRfdXJsc1tpXVsxXSAmJlxuXHRcdFx0XHQvLyBXZSBuZWVkIHRvIHRlc3QgYm90aCB3YXlzIGJlY2F1c2UgVml0ZSB3aWxsIGNyZWF0ZSBhbiBhIGZ1bGwgVVJMIHdpdGhcblx0XHRcdFx0Ly8gYG5ldyBVUkwoYXNzZXQsIGltcG9ydC5tZXRhLnVybCkuaHJlZmAgZm9yIHRoZSBjbGllbnQgd2hlbiBgYmFzZTogJy4vJ2AsIGFuZCB0aGVcblx0XHRcdFx0Ly8gcmVsYXRpdmUgVVJMcyBpbnNpZGUgc3Jjc2V0IGFyZSBub3QgYXV0b21hdGljYWxseSByZXNvbHZlZCB0byBhYnNvbHV0ZSBVUkxzIGJ5XG5cdFx0XHRcdC8vIGJyb3dzZXJzIChpbiBjb250cmFzdCB0byBpbWcuc3JjKS4gVGhpcyBtZWFucyBib3RoIFNTUiBhbmQgRE9NIGNvZGUgY291bGRcblx0XHRcdFx0Ly8gY29udGFpbiByZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkxzLlxuXHRcdFx0XHQoc3JjX3VybF9lcXVhbChlbGVtZW50X3VybHNbaV1bMF0sIHVybCkgfHwgc3JjX3VybF9lcXVhbCh1cmwsIGVsZW1lbnRfdXJsc1tpXVswXSkpXG5cdFx0KVxuXHQpO1xufVxuXG4vKiogQHJldHVybnMge2Jvb2xlYW59ICovXG5leHBvcnQgZnVuY3Rpb24gbm90X2VxdWFsKGEsIGIpIHtcblx0cmV0dXJuIGEgIT0gYSA/IGIgPT0gYiA6IGEgIT09IGI7XG59XG5cbi8qKiBAcmV0dXJucyB7Ym9vbGVhbn0gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19lbXB0eShvYmopIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSAwO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVfc3RvcmUoc3RvcmUsIG5hbWUpIHtcblx0aWYgKHN0b3JlICE9IG51bGwgJiYgdHlwZW9mIHN0b3JlLnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdHRocm93IG5ldyBFcnJvcihgJyR7bmFtZX0nIGlzIG5vdCBhIHN0b3JlIHdpdGggYSAnc3Vic2NyaWJlJyBtZXRob2RgKTtcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3Vic2NyaWJlKHN0b3JlLCAuLi5jYWxsYmFja3MpIHtcblx0aWYgKHN0b3JlID09IG51bGwpIHtcblx0XHRmb3IgKGNvbnN0IGNhbGxiYWNrIG9mIGNhbGxiYWNrcykge1xuXHRcdFx0Y2FsbGJhY2sodW5kZWZpbmVkKTtcblx0XHR9XG5cdFx0cmV0dXJuIG5vb3A7XG5cdH1cblx0Y29uc3QgdW5zdWIgPSBzdG9yZS5zdWJzY3JpYmUoLi4uY2FsbGJhY2tzKTtcblx0cmV0dXJuIHVuc3ViLnVuc3Vic2NyaWJlID8gKCkgPT4gdW5zdWIudW5zdWJzY3JpYmUoKSA6IHVuc3ViO1xufVxuXG4vKipcbiAqIEdldCB0aGUgY3VycmVudCB2YWx1ZSBmcm9tIGEgc3RvcmUgYnkgc3Vic2NyaWJpbmcgYW5kIGltbWVkaWF0ZWx5IHVuc3Vic2NyaWJpbmcuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLXN0b3JlI2dldFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9zdG9yZS9wdWJsaWMuanMnKS5SZWFkYWJsZTxUPn0gc3RvcmVcbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3N0b3JlX3ZhbHVlKHN0b3JlKSB7XG5cdGxldCB2YWx1ZTtcblx0c3Vic2NyaWJlKHN0b3JlLCAoXykgPT4gKHZhbHVlID0gXykpKCk7XG5cdHJldHVybiB2YWx1ZTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBvbmVudF9zdWJzY3JpYmUoY29tcG9uZW50LCBzdG9yZSwgY2FsbGJhY2spIHtcblx0Y29tcG9uZW50LiQkLm9uX2Rlc3Ryb3kucHVzaChzdWJzY3JpYmUoc3RvcmUsIGNhbGxiYWNrKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfc2xvdChkZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGZuKSB7XG5cdGlmIChkZWZpbml0aW9uKSB7XG5cdFx0Y29uc3Qgc2xvdF9jdHggPSBnZXRfc2xvdF9jb250ZXh0KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pO1xuXHRcdHJldHVybiBkZWZpbml0aW9uWzBdKHNsb3RfY3R4KTtcblx0fVxufVxuXG5mdW5jdGlvbiBnZXRfc2xvdF9jb250ZXh0KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pIHtcblx0cmV0dXJuIGRlZmluaXRpb25bMV0gJiYgZm4gPyBhc3NpZ24oJCRzY29wZS5jdHguc2xpY2UoKSwgZGVmaW5pdGlvblsxXShmbihjdHgpKSkgOiAkJHNjb3BlLmN0eDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldF9zbG90X2NoYW5nZXMoZGVmaW5pdGlvbiwgJCRzY29wZSwgZGlydHksIGZuKSB7XG5cdGlmIChkZWZpbml0aW9uWzJdICYmIGZuKSB7XG5cdFx0Y29uc3QgbGV0cyA9IGRlZmluaXRpb25bMl0oZm4oZGlydHkpKTtcblx0XHRpZiAoJCRzY29wZS5kaXJ0eSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gbGV0cztcblx0XHR9XG5cdFx0aWYgKHR5cGVvZiBsZXRzID09PSAnb2JqZWN0Jykge1xuXHRcdFx0Y29uc3QgbWVyZ2VkID0gW107XG5cdFx0XHRjb25zdCBsZW4gPSBNYXRoLm1heCgkJHNjb3BlLmRpcnR5Lmxlbmd0aCwgbGV0cy5sZW5ndGgpO1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gMSkge1xuXHRcdFx0XHRtZXJnZWRbaV0gPSAkJHNjb3BlLmRpcnR5W2ldIHwgbGV0c1tpXTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtZXJnZWQ7XG5cdFx0fVxuXHRcdHJldHVybiAkJHNjb3BlLmRpcnR5IHwgbGV0cztcblx0fVxuXHRyZXR1cm4gJCRzY29wZS5kaXJ0eTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZV9zbG90X2Jhc2UoXG5cdHNsb3QsXG5cdHNsb3RfZGVmaW5pdGlvbixcblx0Y3R4LFxuXHQkJHNjb3BlLFxuXHRzbG90X2NoYW5nZXMsXG5cdGdldF9zbG90X2NvbnRleHRfZm5cbikge1xuXHRpZiAoc2xvdF9jaGFuZ2VzKSB7XG5cdFx0Y29uc3Qgc2xvdF9jb250ZXh0ID0gZ2V0X3Nsb3RfY29udGV4dChzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZ2V0X3Nsb3RfY29udGV4dF9mbik7XG5cdFx0c2xvdC5wKHNsb3RfY29udGV4dCwgc2xvdF9jaGFuZ2VzKTtcblx0fVxufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlX3Nsb3QoXG5cdHNsb3QsXG5cdHNsb3RfZGVmaW5pdGlvbixcblx0Y3R4LFxuXHQkJHNjb3BlLFxuXHRkaXJ0eSxcblx0Z2V0X3Nsb3RfY2hhbmdlc19mbixcblx0Z2V0X3Nsb3RfY29udGV4dF9mblxuKSB7XG5cdGNvbnN0IHNsb3RfY2hhbmdlcyA9IGdldF9zbG90X2NoYW5nZXMoc2xvdF9kZWZpbml0aW9uLCAkJHNjb3BlLCBkaXJ0eSwgZ2V0X3Nsb3RfY2hhbmdlc19mbik7XG5cdHVwZGF0ZV9zbG90X2Jhc2Uoc2xvdCwgc2xvdF9kZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIHNsb3RfY2hhbmdlcywgZ2V0X3Nsb3RfY29udGV4dF9mbik7XG59XG5cbi8qKiBAcmV0dXJucyB7YW55W10gfCAtMX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfYWxsX2RpcnR5X2Zyb21fc2NvcGUoJCRzY29wZSkge1xuXHRpZiAoJCRzY29wZS5jdHgubGVuZ3RoID4gMzIpIHtcblx0XHRjb25zdCBkaXJ0eSA9IFtdO1xuXHRcdGNvbnN0IGxlbmd0aCA9ICQkc2NvcGUuY3R4Lmxlbmd0aCAvIDMyO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdGRpcnR5W2ldID0gLTE7XG5cdFx0fVxuXHRcdHJldHVybiBkaXJ0eTtcblx0fVxuXHRyZXR1cm4gLTE7XG59XG5cbi8qKiBAcmV0dXJucyB7e319ICovXG5leHBvcnQgZnVuY3Rpb24gZXhjbHVkZV9pbnRlcm5hbF9wcm9wcyhwcm9wcykge1xuXHRjb25zdCByZXN1bHQgPSB7fTtcblx0Zm9yIChjb25zdCBrIGluIHByb3BzKSBpZiAoa1swXSAhPT0gJyQnKSByZXN1bHRba10gPSBwcm9wc1trXTtcblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqIEByZXR1cm5zIHt7fX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlX3Jlc3RfcHJvcHMocHJvcHMsIGtleXMpIHtcblx0Y29uc3QgcmVzdCA9IHt9O1xuXHRrZXlzID0gbmV3IFNldChrZXlzKTtcblx0Zm9yIChjb25zdCBrIGluIHByb3BzKSBpZiAoIWtleXMuaGFzKGspICYmIGtbMF0gIT09ICckJykgcmVzdFtrXSA9IHByb3BzW2tdO1xuXHRyZXR1cm4gcmVzdDtcbn1cblxuLyoqIEByZXR1cm5zIHt7fX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlX3Nsb3RzKHNsb3RzKSB7XG5cdGNvbnN0IHJlc3VsdCA9IHt9O1xuXHRmb3IgKGNvbnN0IGtleSBpbiBzbG90cykge1xuXHRcdHJlc3VsdFtrZXldID0gdHJ1ZTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG4vKiogQHJldHVybnMgeyh0aGlzOiBhbnksIC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uY2UoZm4pIHtcblx0bGV0IHJhbiA9IGZhbHNlO1xuXHRyZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcblx0XHRpZiAocmFuKSByZXR1cm47XG5cdFx0cmFuID0gdHJ1ZTtcblx0XHRmbi5jYWxsKHRoaXMsIC4uLmFyZ3MpO1xuXHR9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbnVsbF90b19lbXB0eSh2YWx1ZSkge1xuXHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRfc3RvcmVfdmFsdWUoc3RvcmUsIHJldCwgdmFsdWUpIHtcblx0c3RvcmUuc2V0KHZhbHVlKTtcblx0cmV0dXJuIHJldDtcbn1cblxuZXhwb3J0IGNvbnN0IGhhc19wcm9wID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBhY3Rpb25fZGVzdHJveWVyKGFjdGlvbl9yZXN1bHQpIHtcblx0cmV0dXJuIGFjdGlvbl9yZXN1bHQgJiYgaXNfZnVuY3Rpb24oYWN0aW9uX3Jlc3VsdC5kZXN0cm95KSA/IGFjdGlvbl9yZXN1bHQuZGVzdHJveSA6IG5vb3A7XG59XG5cbi8qKiBAcGFyYW0ge251bWJlciB8IHN0cmluZ30gdmFsdWVcbiAqIEByZXR1cm5zIHtbbnVtYmVyLCBzdHJpbmddfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3BsaXRfY3NzX3VuaXQodmFsdWUpIHtcblx0Y29uc3Qgc3BsaXQgPSB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlLm1hdGNoKC9eXFxzKigtP1tcXGQuXSspKFteXFxzXSopXFxzKiQvKTtcblx0cmV0dXJuIHNwbGl0ID8gW3BhcnNlRmxvYXQoc3BsaXRbMV0pLCBzcGxpdFsyXSB8fCAncHgnXSA6IFsvKiogQHR5cGUge251bWJlcn0gKi8gKHZhbHVlKSwgJ3B4J107XG59XG5cbmV4cG9ydCBjb25zdCBjb250ZW50ZWRpdGFibGVfdHJ1dGh5X3ZhbHVlcyA9IFsnJywgdHJ1ZSwgMSwgJ3RydWUnLCAnY29udGVudGVkaXRhYmxlJ107XG4iLCJpbXBvcnQgeyBjb250ZW50ZWRpdGFibGVfdHJ1dGh5X3ZhbHVlcywgaGFzX3Byb3AgfSBmcm9tICcuL3V0aWxzLmpzJztcblxuaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24gfSBmcm9tICcuL1Jlc2l6ZU9ic2VydmVyU2luZ2xldG9uLmpzJztcblxuLy8gVHJhY2sgd2hpY2ggbm9kZXMgYXJlIGNsYWltZWQgZHVyaW5nIGh5ZHJhdGlvbi4gVW5jbGFpbWVkIG5vZGVzIGNhbiB0aGVuIGJlIHJlbW92ZWQgZnJvbSB0aGUgRE9NXG4vLyBhdCB0aGUgZW5kIG9mIGh5ZHJhdGlvbiB3aXRob3V0IHRvdWNoaW5nIHRoZSByZW1haW5pbmcgbm9kZXMuXG5sZXQgaXNfaHlkcmF0aW5nID0gZmFsc2U7XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFydF9oeWRyYXRpbmcoKSB7XG5cdGlzX2h5ZHJhdGluZyA9IHRydWU7XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmRfaHlkcmF0aW5nKCkge1xuXHRpc19oeWRyYXRpbmcgPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gbG93XG4gKiBAcGFyYW0ge251bWJlcn0gaGlnaFxuICogQHBhcmFtIHsoaW5kZXg6IG51bWJlcikgPT4gbnVtYmVyfSBrZXlcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gdXBwZXJfYm91bmQobG93LCBoaWdoLCBrZXksIHZhbHVlKSB7XG5cdC8vIFJldHVybiBmaXJzdCBpbmRleCBvZiB2YWx1ZSBsYXJnZXIgdGhhbiBpbnB1dCB2YWx1ZSBpbiB0aGUgcmFuZ2UgW2xvdywgaGlnaClcblx0d2hpbGUgKGxvdyA8IGhpZ2gpIHtcblx0XHRjb25zdCBtaWQgPSBsb3cgKyAoKGhpZ2ggLSBsb3cpID4+IDEpO1xuXHRcdGlmIChrZXkobWlkKSA8PSB2YWx1ZSkge1xuXHRcdFx0bG93ID0gbWlkICsgMTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aGlnaCA9IG1pZDtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGxvdztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGVFeH0gdGFyZ2V0XG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gaW5pdF9oeWRyYXRlKHRhcmdldCkge1xuXHRpZiAodGFyZ2V0Lmh5ZHJhdGVfaW5pdCkgcmV0dXJuO1xuXHR0YXJnZXQuaHlkcmF0ZV9pbml0ID0gdHJ1ZTtcblx0Ly8gV2Uga25vdyB0aGF0IGFsbCBjaGlsZHJlbiBoYXZlIGNsYWltX29yZGVyIHZhbHVlcyBzaW5jZSB0aGUgdW5jbGFpbWVkIGhhdmUgYmVlbiBkZXRhY2hlZCBpZiB0YXJnZXQgaXMgbm90IDxoZWFkPlxuXG5cdGxldCBjaGlsZHJlbiA9IC8qKiBAdHlwZSB7QXJyYXlMaWtlPE5vZGVFeDI+fSAqLyAodGFyZ2V0LmNoaWxkTm9kZXMpO1xuXHQvLyBJZiB0YXJnZXQgaXMgPGhlYWQ+LCB0aGVyZSBtYXkgYmUgY2hpbGRyZW4gd2l0aG91dCBjbGFpbV9vcmRlclxuXHRpZiAodGFyZ2V0Lm5vZGVOYW1lID09PSAnSEVBRCcpIHtcblx0XHRjb25zdCBteV9jaGlsZHJlbiA9IFtdO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IG5vZGUgPSBjaGlsZHJlbltpXTtcblx0XHRcdGlmIChub2RlLmNsYWltX29yZGVyICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bXlfY2hpbGRyZW4ucHVzaChub2RlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Y2hpbGRyZW4gPSBteV9jaGlsZHJlbjtcblx0fVxuXHQvKlxuXHQgKiBSZW9yZGVyIGNsYWltZWQgY2hpbGRyZW4gb3B0aW1hbGx5LlxuXHQgKiBXZSBjYW4gcmVvcmRlciBjbGFpbWVkIGNoaWxkcmVuIG9wdGltYWxseSBieSBmaW5kaW5nIHRoZSBsb25nZXN0IHN1YnNlcXVlbmNlIG9mXG5cdCAqIG5vZGVzIHRoYXQgYXJlIGFscmVhZHkgY2xhaW1lZCBpbiBvcmRlciBhbmQgb25seSBtb3ZpbmcgdGhlIHJlc3QuIFRoZSBsb25nZXN0XG5cdCAqIHN1YnNlcXVlbmNlIG9mIG5vZGVzIHRoYXQgYXJlIGNsYWltZWQgaW4gb3JkZXIgY2FuIGJlIGZvdW5kIGJ5XG5cdCAqIGNvbXB1dGluZyB0aGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIC5jbGFpbV9vcmRlciB2YWx1ZXMuXG5cdCAqXG5cdCAqIFRoaXMgYWxnb3JpdGhtIGlzIG9wdGltYWwgaW4gZ2VuZXJhdGluZyB0aGUgbGVhc3QgYW1vdW50IG9mIHJlb3JkZXIgb3BlcmF0aW9uc1xuXHQgKiBwb3NzaWJsZS5cblx0ICpcblx0ICogUHJvb2Y6XG5cdCAqIFdlIGtub3cgdGhhdCwgZ2l2ZW4gYSBzZXQgb2YgcmVvcmRlcmluZyBvcGVyYXRpb25zLCB0aGUgbm9kZXMgdGhhdCBkbyBub3QgbW92ZVxuXHQgKiBhbHdheXMgZm9ybSBhbiBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlLCBzaW5jZSB0aGV5IGRvIG5vdCBtb3ZlIGFtb25nIGVhY2ggb3RoZXJcblx0ICogbWVhbmluZyB0aGF0IHRoZXkgbXVzdCBiZSBhbHJlYWR5IG9yZGVyZWQgYW1vbmcgZWFjaCBvdGhlci4gVGh1cywgdGhlIG1heGltYWxcblx0ICogc2V0IG9mIG5vZGVzIHRoYXQgZG8gbm90IG1vdmUgZm9ybSBhIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZS5cblx0ICovXG5cdC8vIENvbXB1dGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlXG5cdC8vIG06IHN1YnNlcXVlbmNlIGxlbmd0aCBqID0+IGluZGV4IGsgb2Ygc21hbGxlc3QgdmFsdWUgdGhhdCBlbmRzIGFuIGluY3JlYXNpbmcgc3Vic2VxdWVuY2Ugb2YgbGVuZ3RoIGpcblx0Y29uc3QgbSA9IG5ldyBJbnQzMkFycmF5KGNoaWxkcmVuLmxlbmd0aCArIDEpO1xuXHQvLyBQcmVkZWNlc3NvciBpbmRpY2VzICsgMVxuXHRjb25zdCBwID0gbmV3IEludDMyQXJyYXkoY2hpbGRyZW4ubGVuZ3RoKTtcblx0bVswXSA9IC0xO1xuXHRsZXQgbG9uZ2VzdCA9IDA7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0XHRjb25zdCBjdXJyZW50ID0gY2hpbGRyZW5baV0uY2xhaW1fb3JkZXI7XG5cdFx0Ly8gRmluZCB0aGUgbGFyZ2VzdCBzdWJzZXF1ZW5jZSBsZW5ndGggc3VjaCB0aGF0IGl0IGVuZHMgaW4gYSB2YWx1ZSBsZXNzIHRoYW4gb3VyIGN1cnJlbnQgdmFsdWVcblx0XHQvLyB1cHBlcl9ib3VuZCByZXR1cm5zIGZpcnN0IGdyZWF0ZXIgdmFsdWUsIHNvIHdlIHN1YnRyYWN0IG9uZVxuXHRcdC8vIHdpdGggZmFzdCBwYXRoIGZvciB3aGVuIHdlIGFyZSBvbiB0aGUgY3VycmVudCBsb25nZXN0IHN1YnNlcXVlbmNlXG5cdFx0Y29uc3Qgc2VxX2xlbiA9XG5cdFx0XHQobG9uZ2VzdCA+IDAgJiYgY2hpbGRyZW5bbVtsb25nZXN0XV0uY2xhaW1fb3JkZXIgPD0gY3VycmVudFxuXHRcdFx0XHQ/IGxvbmdlc3QgKyAxXG5cdFx0XHRcdDogdXBwZXJfYm91bmQoMSwgbG9uZ2VzdCwgKGlkeCkgPT4gY2hpbGRyZW5bbVtpZHhdXS5jbGFpbV9vcmRlciwgY3VycmVudCkpIC0gMTtcblx0XHRwW2ldID0gbVtzZXFfbGVuXSArIDE7XG5cdFx0Y29uc3QgbmV3X2xlbiA9IHNlcV9sZW4gKyAxO1xuXHRcdC8vIFdlIGNhbiBndWFyYW50ZWUgdGhhdCBjdXJyZW50IGlzIHRoZSBzbWFsbGVzdCB2YWx1ZS4gT3RoZXJ3aXNlLCB3ZSB3b3VsZCBoYXZlIGdlbmVyYXRlZCBhIGxvbmdlciBzZXF1ZW5jZS5cblx0XHRtW25ld19sZW5dID0gaTtcblx0XHRsb25nZXN0ID0gTWF0aC5tYXgobmV3X2xlbiwgbG9uZ2VzdCk7XG5cdH1cblx0Ly8gVGhlIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSBvZiBub2RlcyAoaW5pdGlhbGx5IHJldmVyc2VkKVxuXG5cdC8qKlxuXHQgKiBAdHlwZSB7Tm9kZUV4MltdfVxuXHQgKi9cblx0Y29uc3QgbGlzID0gW107XG5cdC8vIFRoZSByZXN0IG9mIHRoZSBub2Rlcywgbm9kZXMgdGhhdCB3aWxsIGJlIG1vdmVkXG5cblx0LyoqXG5cdCAqIEB0eXBlIHtOb2RlRXgyW119XG5cdCAqL1xuXHRjb25zdCB0b19tb3ZlID0gW107XG5cdGxldCBsYXN0ID0gY2hpbGRyZW4ubGVuZ3RoIC0gMTtcblx0Zm9yIChsZXQgY3VyID0gbVtsb25nZXN0XSArIDE7IGN1ciAhPSAwOyBjdXIgPSBwW2N1ciAtIDFdKSB7XG5cdFx0bGlzLnB1c2goY2hpbGRyZW5bY3VyIC0gMV0pO1xuXHRcdGZvciAoOyBsYXN0ID49IGN1cjsgbGFzdC0tKSB7XG5cdFx0XHR0b19tb3ZlLnB1c2goY2hpbGRyZW5bbGFzdF0pO1xuXHRcdH1cblx0XHRsYXN0LS07XG5cdH1cblx0Zm9yICg7IGxhc3QgPj0gMDsgbGFzdC0tKSB7XG5cdFx0dG9fbW92ZS5wdXNoKGNoaWxkcmVuW2xhc3RdKTtcblx0fVxuXHRsaXMucmV2ZXJzZSgpO1xuXHQvLyBXZSBzb3J0IHRoZSBub2RlcyBiZWluZyBtb3ZlZCB0byBndWFyYW50ZWUgdGhhdCB0aGVpciBpbnNlcnRpb24gb3JkZXIgbWF0Y2hlcyB0aGUgY2xhaW0gb3JkZXJcblx0dG9fbW92ZS5zb3J0KChhLCBiKSA9PiBhLmNsYWltX29yZGVyIC0gYi5jbGFpbV9vcmRlcik7XG5cdC8vIEZpbmFsbHksIHdlIG1vdmUgdGhlIG5vZGVzXG5cdGZvciAobGV0IGkgPSAwLCBqID0gMDsgaSA8IHRvX21vdmUubGVuZ3RoOyBpKyspIHtcblx0XHR3aGlsZSAoaiA8IGxpcy5sZW5ndGggJiYgdG9fbW92ZVtpXS5jbGFpbV9vcmRlciA+PSBsaXNbal0uY2xhaW1fb3JkZXIpIHtcblx0XHRcdGorKztcblx0XHR9XG5cdFx0Y29uc3QgYW5jaG9yID0gaiA8IGxpcy5sZW5ndGggPyBsaXNbal0gOiBudWxsO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUodG9fbW92ZVtpXSwgYW5jaG9yKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gdGFyZ2V0XG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kKHRhcmdldCwgbm9kZSkge1xuXHR0YXJnZXQuYXBwZW5kQ2hpbGQobm9kZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSB0YXJnZXRcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHlsZV9zaGVldF9pZFxuICogQHBhcmFtIHtzdHJpbmd9IHN0eWxlc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRfc3R5bGVzKHRhcmdldCwgc3R5bGVfc2hlZXRfaWQsIHN0eWxlcykge1xuXHRjb25zdCBhcHBlbmRfc3R5bGVzX3RvID0gZ2V0X3Jvb3RfZm9yX3N0eWxlKHRhcmdldCk7XG5cdGlmICghYXBwZW5kX3N0eWxlc190by5nZXRFbGVtZW50QnlJZChzdHlsZV9zaGVldF9pZCkpIHtcblx0XHRjb25zdCBzdHlsZSA9IGVsZW1lbnQoJ3N0eWxlJyk7XG5cdFx0c3R5bGUuaWQgPSBzdHlsZV9zaGVldF9pZDtcblx0XHRzdHlsZS50ZXh0Q29udGVudCA9IHN0eWxlcztcblx0XHRhcHBlbmRfc3R5bGVzaGVldChhcHBlbmRfc3R5bGVzX3RvLCBzdHlsZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEByZXR1cm5zIHtTaGFkb3dSb290IHwgRG9jdW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfcm9vdF9mb3Jfc3R5bGUobm9kZSkge1xuXHRpZiAoIW5vZGUpIHJldHVybiBkb2N1bWVudDtcblx0Y29uc3Qgcm9vdCA9IG5vZGUuZ2V0Um9vdE5vZGUgPyBub2RlLmdldFJvb3ROb2RlKCkgOiBub2RlLm93bmVyRG9jdW1lbnQ7XG5cdGlmIChyb290ICYmIC8qKiBAdHlwZSB7U2hhZG93Um9vdH0gKi8gKHJvb3QpLmhvc3QpIHtcblx0XHRyZXR1cm4gLyoqIEB0eXBlIHtTaGFkb3dSb290fSAqLyAocm9vdCk7XG5cdH1cblx0cmV0dXJuIG5vZGUub3duZXJEb2N1bWVudDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEByZXR1cm5zIHtDU1NTdHlsZVNoZWV0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kX2VtcHR5X3N0eWxlc2hlZXQobm9kZSkge1xuXHRjb25zdCBzdHlsZV9lbGVtZW50ID0gZWxlbWVudCgnc3R5bGUnKTtcblx0Ly8gRm9yIHRyYW5zaXRpb25zIHRvIHdvcmsgd2l0aG91dCAnc3R5bGUtc3JjOiB1bnNhZmUtaW5saW5lJyBDb250ZW50IFNlY3VyaXR5IFBvbGljeSxcblx0Ly8gdGhlc2UgZW1wdHkgdGFncyBuZWVkIHRvIGJlIGFsbG93ZWQgd2l0aCBhIGhhc2ggYXMgYSB3b3JrYXJvdW5kIHVudGlsIHdlIG1vdmUgdG8gdGhlIFdlYiBBbmltYXRpb25zIEFQSS5cblx0Ly8gVXNpbmcgdGhlIGhhc2ggZm9yIHRoZSBlbXB0eSBzdHJpbmcgKGZvciBhbiBlbXB0eSB0YWcpIHdvcmtzIGluIGFsbCBicm93c2VycyBleGNlcHQgU2FmYXJpLlxuXHQvLyBTbyBhcyBhIHdvcmthcm91bmQgZm9yIHRoZSB3b3JrYXJvdW5kLCB3aGVuIHdlIGFwcGVuZCBlbXB0eSBzdHlsZSB0YWdzIHdlIHNldCB0aGVpciBjb250ZW50IHRvIC8qIGVtcHR5ICovLlxuXHQvLyBUaGUgaGFzaCAnc2hhMjU2LTlPbE5PMERORWVhVnpITDRSWndDTHNCSEE4V0JROHRvQnAvNEY1WFYybmM9JyB3aWxsIHRoZW4gd29yayBldmVuIGluIFNhZmFyaS5cblx0c3R5bGVfZWxlbWVudC50ZXh0Q29udGVudCA9ICcvKiBlbXB0eSAqLyc7XG5cdGFwcGVuZF9zdHlsZXNoZWV0KGdldF9yb290X2Zvcl9zdHlsZShub2RlKSwgc3R5bGVfZWxlbWVudCk7XG5cdHJldHVybiBzdHlsZV9lbGVtZW50LnNoZWV0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7U2hhZG93Um9vdCB8IERvY3VtZW50fSBub2RlXG4gKiBAcGFyYW0ge0hUTUxTdHlsZUVsZW1lbnR9IHN0eWxlXG4gKiBAcmV0dXJucyB7Q1NTU3R5bGVTaGVldH1cbiAqL1xuZnVuY3Rpb24gYXBwZW5kX3N0eWxlc2hlZXQobm9kZSwgc3R5bGUpIHtcblx0YXBwZW5kKC8qKiBAdHlwZSB7RG9jdW1lbnR9ICovIChub2RlKS5oZWFkIHx8IG5vZGUsIHN0eWxlKTtcblx0cmV0dXJuIHN0eWxlLnNoZWV0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZUV4fSB0YXJnZXRcbiAqIEBwYXJhbSB7Tm9kZUV4fSBub2RlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZF9oeWRyYXRpb24odGFyZ2V0LCBub2RlKSB7XG5cdGlmIChpc19oeWRyYXRpbmcpIHtcblx0XHRpbml0X2h5ZHJhdGUodGFyZ2V0KTtcblx0XHRpZiAoXG5cdFx0XHR0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCA9PT0gdW5kZWZpbmVkIHx8XG5cdFx0XHQodGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgIT09IG51bGwgJiYgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQucGFyZW50Tm9kZSAhPT0gdGFyZ2V0KVxuXHRcdCkge1xuXHRcdFx0dGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSB0YXJnZXQuZmlyc3RDaGlsZDtcblx0XHR9XG5cdFx0Ly8gU2tpcCBub2RlcyBvZiB1bmRlZmluZWQgb3JkZXJpbmdcblx0XHR3aGlsZSAodGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgIT09IG51bGwgJiYgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQuY2xhaW1fb3JkZXIgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSB0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZC5uZXh0U2libGluZztcblx0XHR9XG5cdFx0aWYgKG5vZGUgIT09IHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkKSB7XG5cdFx0XHQvLyBXZSBvbmx5IGluc2VydCBpZiB0aGUgb3JkZXJpbmcgb2YgdGhpcyBub2RlIHNob3VsZCBiZSBtb2RpZmllZCBvciB0aGUgcGFyZW50IG5vZGUgaXMgbm90IHRhcmdldFxuXHRcdFx0aWYgKG5vZGUuY2xhaW1fb3JkZXIgIT09IHVuZGVmaW5lZCB8fCBub2RlLnBhcmVudE5vZGUgIT09IHRhcmdldCkge1xuXHRcdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKG5vZGUsIHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSBub2RlLm5leHRTaWJsaW5nO1xuXHRcdH1cblx0fSBlbHNlIGlmIChub2RlLnBhcmVudE5vZGUgIT09IHRhcmdldCB8fCBub2RlLm5leHRTaWJsaW5nICE9PSBudWxsKSB7XG5cdFx0dGFyZ2V0LmFwcGVuZENoaWxkKG5vZGUpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSB0YXJnZXRcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICogQHBhcmFtIHtOb2RlfSBbYW5jaG9yXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnQodGFyZ2V0LCBub2RlLCBhbmNob3IpIHtcblx0dGFyZ2V0Lmluc2VydEJlZm9yZShub2RlLCBhbmNob3IgfHwgbnVsbCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlRXh9IHRhcmdldFxuICogQHBhcmFtIHtOb2RlRXh9IG5vZGVcbiAqIEBwYXJhbSB7Tm9kZUV4fSBbYW5jaG9yXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnRfaHlkcmF0aW9uKHRhcmdldCwgbm9kZSwgYW5jaG9yKSB7XG5cdGlmIChpc19oeWRyYXRpbmcgJiYgIWFuY2hvcikge1xuXHRcdGFwcGVuZF9oeWRyYXRpb24odGFyZ2V0LCBub2RlKTtcblx0fSBlbHNlIGlmIChub2RlLnBhcmVudE5vZGUgIT09IHRhcmdldCB8fCBub2RlLm5leHRTaWJsaW5nICE9IGFuY2hvcikge1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUobm9kZSwgYW5jaG9yIHx8IG51bGwpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSBub2RlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRldGFjaChub2RlKSB7XG5cdGlmIChub2RlLnBhcmVudE5vZGUpIHtcblx0XHRub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXN0cm95X2VhY2goaXRlcmF0aW9ucywgZGV0YWNoaW5nKSB7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgaXRlcmF0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGlmIChpdGVyYXRpb25zW2ldKSBpdGVyYXRpb25zW2ldLmQoZGV0YWNoaW5nKTtcblx0fVxufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7a2V5b2YgSFRNTEVsZW1lbnRUYWdOYW1lTWFwfSBLXG4gKiBAcGFyYW0ge0t9IG5hbWVcbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudFRhZ05hbWVNYXBbS119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbGVtZW50KG5hbWUpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtrZXlvZiBIVE1MRWxlbWVudFRhZ05hbWVNYXB9IEtcbiAqIEBwYXJhbSB7S30gbmFtZVxuICogQHBhcmFtIHtzdHJpbmd9IGlzXG4gKiBAcmV0dXJucyB7SFRNTEVsZW1lbnRUYWdOYW1lTWFwW0tdfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWxlbWVudF9pcyhuYW1lLCBpcykge1xuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lLCB7IGlzIH0pO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdGVtcGxhdGUge2tleW9mIFR9IEtcbiAqIEBwYXJhbSB7VH0gb2JqXG4gKiBAcGFyYW0ge0tbXX0gZXhjbHVkZVxuICogQHJldHVybnMge1BpY2s8VCwgRXhjbHVkZTxrZXlvZiBULCBLPj59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvYmplY3Rfd2l0aG91dF9wcm9wZXJ0aWVzKG9iaiwgZXhjbHVkZSkge1xuXHRjb25zdCB0YXJnZXQgPSAvKiogQHR5cGUge1BpY2s8VCwgRXhjbHVkZTxrZXlvZiBULCBLPj59ICovICh7fSk7XG5cdGZvciAoY29uc3QgayBpbiBvYmopIHtcblx0XHRpZiAoXG5cdFx0XHRoYXNfcHJvcChvYmosIGspICYmXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRleGNsdWRlLmluZGV4T2YoaykgPT09IC0xXG5cdFx0KSB7XG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHR0YXJnZXRba10gPSBvYmpba107XG5cdFx0fVxuXHR9XG5cdHJldHVybiB0YXJnZXQ7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtrZXlvZiBTVkdFbGVtZW50VGFnTmFtZU1hcH0gS1xuICogQHBhcmFtIHtLfSBuYW1lXG4gKiBAcmV0dXJucyB7U1ZHRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN2Z19lbGVtZW50KG5hbWUpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCBuYW1lKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZGF0YVxuICogQHJldHVybnMge1RleHR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZXh0KGRhdGEpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGRhdGEpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHtUZXh0fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNwYWNlKCkge1xuXHRyZXR1cm4gdGV4dCgnICcpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHtUZXh0fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVtcHR5KCkge1xuXHRyZXR1cm4gdGV4dCgnJyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnRcbiAqIEByZXR1cm5zIHtDb21tZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tbWVudChjb250ZW50KSB7XG5cdHJldHVybiBkb2N1bWVudC5jcmVhdGVDb21tZW50KGNvbnRlbnQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IG5vZGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFxuICogQHBhcmFtIHtFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0fSBoYW5kbGVyXG4gKiBAcGFyYW0ge2Jvb2xlYW4gfCBBZGRFdmVudExpc3RlbmVyT3B0aW9ucyB8IEV2ZW50TGlzdGVuZXJPcHRpb25zfSBbb3B0aW9uc11cbiAqIEByZXR1cm5zIHsoKSA9PiB2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGlzdGVuKG5vZGUsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XG5cdG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG5cdHJldHVybiAoKSA9PiBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHsoZXZlbnQ6IGFueSkgPT4gYW55fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXZlbnRfZGVmYXVsdChmbikge1xuXHRyZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0cmV0dXJuIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuXHR9O1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHsoZXZlbnQ6IGFueSkgPT4gYW55fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0b3BfcHJvcGFnYXRpb24oZm4pIHtcblx0cmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRyZXR1cm4gZm4uY2FsbCh0aGlzLCBldmVudCk7XG5cdH07XG59XG5cbi8qKlxuICogQHJldHVybnMgeyhldmVudDogYW55KSA9PiBhbnl9ICovXG5leHBvcnQgZnVuY3Rpb24gc3RvcF9pbW1lZGlhdGVfcHJvcGFnYXRpb24oZm4pIHtcblx0cmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRyZXR1cm4gZm4uY2FsbCh0aGlzLCBldmVudCk7XG5cdH07XG59XG5cbi8qKlxuICogQHJldHVybnMgeyhldmVudDogYW55KSA9PiB2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGYoZm4pIHtcblx0cmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRpZiAoZXZlbnQudGFyZ2V0ID09PSB0aGlzKSBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcblx0fTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7KGV2ZW50OiBhbnkpID0+IHZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdHJ1c3RlZChmbikge1xuXHRyZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGlmIChldmVudC5pc1RydXN0ZWQpIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IGF0dHJpYnV0ZVxuICogQHBhcmFtIHtzdHJpbmd9IFt2YWx1ZV1cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXR0cihub2RlLCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG5cdGlmICh2YWx1ZSA9PSBudWxsKSBub2RlLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuXHRlbHNlIGlmIChub2RlLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpICE9PSB2YWx1ZSkgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCB2YWx1ZSk7XG59XG4vKipcbiAqIExpc3Qgb2YgYXR0cmlidXRlcyB0aGF0IHNob3VsZCBhbHdheXMgYmUgc2V0IHRocm91Z2ggdGhlIGF0dHIgbWV0aG9kLFxuICogYmVjYXVzZSB1cGRhdGluZyB0aGVtIHRocm91Z2ggdGhlIHByb3BlcnR5IHNldHRlciBkb2Vzbid0IHdvcmsgcmVsaWFibHkuXG4gKiBJbiB0aGUgZXhhbXBsZSBvZiBgd2lkdGhgL2BoZWlnaHRgLCB0aGUgcHJvYmxlbSBpcyB0aGF0IHRoZSBzZXR0ZXIgb25seVxuICogYWNjZXB0cyBudW1lcmljIHZhbHVlcywgYnV0IHRoZSBhdHRyaWJ1dGUgY2FuIGFsc28gYmUgc2V0IHRvIGEgc3RyaW5nIGxpa2UgYDUwJWAuXG4gKiBJZiB0aGlzIGxpc3QgYmVjb21lcyB0b28gYmlnLCByZXRoaW5rIHRoaXMgYXBwcm9hY2guXG4gKi9cbmNvbnN0IGFsd2F5c19zZXRfdGhyb3VnaF9zZXRfYXR0cmlidXRlID0gWyd3aWR0aCcsICdoZWlnaHQnXTtcblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnQgJiBFbGVtZW50Q1NTSW5saW5lU3R5bGV9IG5vZGVcbiAqIEBwYXJhbSB7eyBbeDogc3RyaW5nXTogc3RyaW5nIH19IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2F0dHJpYnV0ZXMobm9kZSwgYXR0cmlidXRlcykge1xuXHQvLyBAdHMtaWdub3JlXG5cdGNvbnN0IGRlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobm9kZS5fX3Byb3RvX18pO1xuXHRmb3IgKGNvbnN0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG5cdFx0aWYgKGF0dHJpYnV0ZXNba2V5XSA9PSBudWxsKSB7XG5cdFx0XHRub2RlLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuXHRcdH0gZWxzZSBpZiAoa2V5ID09PSAnc3R5bGUnKSB7XG5cdFx0XHRub2RlLnN0eWxlLmNzc1RleHQgPSBhdHRyaWJ1dGVzW2tleV07XG5cdFx0fSBlbHNlIGlmIChrZXkgPT09ICdfX3ZhbHVlJykge1xuXHRcdFx0LyoqIEB0eXBlIHthbnl9ICovIChub2RlKS52YWx1ZSA9IG5vZGVba2V5XSA9IGF0dHJpYnV0ZXNba2V5XTtcblx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0ZGVzY3JpcHRvcnNba2V5XSAmJlxuXHRcdFx0ZGVzY3JpcHRvcnNba2V5XS5zZXQgJiZcblx0XHRcdGFsd2F5c19zZXRfdGhyb3VnaF9zZXRfYXR0cmlidXRlLmluZGV4T2Yoa2V5KSA9PT0gLTFcblx0XHQpIHtcblx0XHRcdG5vZGVba2V5XSA9IGF0dHJpYnV0ZXNba2V5XTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YXR0cihub2RlLCBrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBub2RlXG4gKiBAcGFyYW0ge3sgW3g6IHN0cmluZ106IHN0cmluZyB9fSBhdHRyaWJ1dGVzXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9zdmdfYXR0cmlidXRlcyhub2RlLCBhdHRyaWJ1dGVzKSB7XG5cdGZvciAoY29uc3Qga2V5IGluIGF0dHJpYnV0ZXMpIHtcblx0XHRhdHRyKG5vZGUsIGtleSwgYXR0cmlidXRlc1trZXldKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgdW5rbm93bj59IGRhdGFfbWFwXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9jdXN0b21fZWxlbWVudF9kYXRhX21hcChub2RlLCBkYXRhX21hcCkge1xuXHRPYmplY3Qua2V5cyhkYXRhX21hcCkuZm9yRWFjaCgoa2V5KSA9PiB7XG5cdFx0c2V0X2N1c3RvbV9lbGVtZW50X2RhdGEobm9kZSwga2V5LCBkYXRhX21hcFtrZXldKTtcblx0fSk7XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2N1c3RvbV9lbGVtZW50X2RhdGEobm9kZSwgcHJvcCwgdmFsdWUpIHtcblx0Y29uc3QgbG93ZXIgPSBwcm9wLnRvTG93ZXJDYXNlKCk7IC8vIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB3aXRoIGV4aXN0aW5nIGJlaGF2aW9yIHdlIGRvIGxvd2VyY2FzZSBmaXJzdFxuXHRpZiAobG93ZXIgaW4gbm9kZSkge1xuXHRcdG5vZGVbbG93ZXJdID0gdHlwZW9mIG5vZGVbbG93ZXJdID09PSAnYm9vbGVhbicgJiYgdmFsdWUgPT09ICcnID8gdHJ1ZSA6IHZhbHVlO1xuXHR9IGVsc2UgaWYgKHByb3AgaW4gbm9kZSkge1xuXHRcdG5vZGVbcHJvcF0gPSB0eXBlb2Ygbm9kZVtwcm9wXSA9PT0gJ2Jvb2xlYW4nICYmIHZhbHVlID09PSAnJyA/IHRydWUgOiB2YWx1ZTtcblx0fSBlbHNlIHtcblx0XHRhdHRyKG5vZGUsIHByb3AsIHZhbHVlKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB0YWdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9keW5hbWljX2VsZW1lbnRfZGF0YSh0YWcpIHtcblx0cmV0dXJuIC8tLy50ZXN0KHRhZykgPyBzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YV9tYXAgOiBzZXRfYXR0cmlidXRlcztcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHhsaW5rX2F0dHIobm9kZSwgYXR0cmlidXRlLCB2YWx1ZSkge1xuXHRub2RlLnNldEF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgYXR0cmlidXRlLCB2YWx1ZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9zdmVsdGVfZGF0YXNldChub2RlKSB7XG5cdHJldHVybiBub2RlLmRhdGFzZXQuc3ZlbHRlSDtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dW5rbm93bltdfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9iaW5kaW5nX2dyb3VwX3ZhbHVlKGdyb3VwLCBfX3ZhbHVlLCBjaGVja2VkKSB7XG5cdGNvbnN0IHZhbHVlID0gbmV3IFNldCgpO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IGdyb3VwLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0aWYgKGdyb3VwW2ldLmNoZWNrZWQpIHZhbHVlLmFkZChncm91cFtpXS5fX3ZhbHVlKTtcblx0fVxuXHRpZiAoIWNoZWNrZWQpIHtcblx0XHR2YWx1ZS5kZWxldGUoX192YWx1ZSk7XG5cdH1cblx0cmV0dXJuIEFycmF5LmZyb20odmFsdWUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTElucHV0RWxlbWVudFtdfSBncm91cFxuICogQHJldHVybnMge3sgcCguLi5pbnB1dHM6IEhUTUxJbnB1dEVsZW1lbnRbXSk6IHZvaWQ7IHIoKTogdm9pZDsgfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRfYmluZGluZ19ncm91cChncm91cCkge1xuXHQvKipcblx0ICogQHR5cGUge0hUTUxJbnB1dEVsZW1lbnRbXX0gKi9cblx0bGV0IF9pbnB1dHM7XG5cdHJldHVybiB7XG5cdFx0LyogcHVzaCAqLyBwKC4uLmlucHV0cykge1xuXHRcdFx0X2lucHV0cyA9IGlucHV0cztcblx0XHRcdF9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IGdyb3VwLnB1c2goaW5wdXQpKTtcblx0XHR9LFxuXHRcdC8qIHJlbW92ZSAqLyByKCkge1xuXHRcdFx0X2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4gZ3JvdXAuc3BsaWNlKGdyb3VwLmluZGV4T2YoaW5wdXQpLCAxKSk7XG5cdFx0fVxuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ZXNcbiAqIEByZXR1cm5zIHt7IHUobmV3X2luZGV4ZXM6IG51bWJlcltdKTogdm9pZDsgcCguLi5pbnB1dHM6IEhUTUxJbnB1dEVsZW1lbnRbXSk6IHZvaWQ7IHI6ICgpID0+IHZvaWQ7IH19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0X2JpbmRpbmdfZ3JvdXBfZHluYW1pYyhncm91cCwgaW5kZXhlcykge1xuXHQvKipcblx0ICogQHR5cGUge0hUTUxJbnB1dEVsZW1lbnRbXX0gKi9cblx0bGV0IF9ncm91cCA9IGdldF9iaW5kaW5nX2dyb3VwKGdyb3VwKTtcblxuXHQvKipcblx0ICogQHR5cGUge0hUTUxJbnB1dEVsZW1lbnRbXX0gKi9cblx0bGV0IF9pbnB1dHM7XG5cblx0ZnVuY3Rpb24gZ2V0X2JpbmRpbmdfZ3JvdXAoZ3JvdXApIHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGluZGV4ZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGdyb3VwID0gZ3JvdXBbaW5kZXhlc1tpXV0gPSBncm91cFtpbmRleGVzW2ldXSB8fCBbXTtcblx0XHR9XG5cdFx0cmV0dXJuIGdyb3VwO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiBwdXNoKCkge1xuXHRcdF9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IF9ncm91cC5wdXNoKGlucHV0KSk7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIHJlbW92ZSgpIHtcblx0XHRfaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiBfZ3JvdXAuc3BsaWNlKF9ncm91cC5pbmRleE9mKGlucHV0KSwgMSkpO1xuXHR9XG5cdHJldHVybiB7XG5cdFx0LyogdXBkYXRlICovIHUobmV3X2luZGV4ZXMpIHtcblx0XHRcdGluZGV4ZXMgPSBuZXdfaW5kZXhlcztcblx0XHRcdGNvbnN0IG5ld19ncm91cCA9IGdldF9iaW5kaW5nX2dyb3VwKGdyb3VwKTtcblx0XHRcdGlmIChuZXdfZ3JvdXAgIT09IF9ncm91cCkge1xuXHRcdFx0XHRyZW1vdmUoKTtcblx0XHRcdFx0X2dyb3VwID0gbmV3X2dyb3VwO1xuXHRcdFx0XHRwdXNoKCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQvKiBwdXNoICovIHAoLi4uaW5wdXRzKSB7XG5cdFx0XHRfaW5wdXRzID0gaW5wdXRzO1xuXHRcdFx0cHVzaCgpO1xuXHRcdH0sXG5cdFx0LyogcmVtb3ZlICovIHI6IHJlbW92ZVxuXHR9O1xufVxuXG4vKiogQHJldHVybnMge251bWJlcn0gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b19udW1iZXIodmFsdWUpIHtcblx0cmV0dXJuIHZhbHVlID09PSAnJyA/IG51bGwgOiArdmFsdWU7XG59XG5cbi8qKiBAcmV0dXJucyB7YW55W119ICovXG5leHBvcnQgZnVuY3Rpb24gdGltZV9yYW5nZXNfdG9fYXJyYXkocmFuZ2VzKSB7XG5cdGNvbnN0IGFycmF5ID0gW107XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0YXJyYXkucHVzaCh7IHN0YXJ0OiByYW5nZXMuc3RhcnQoaSksIGVuZDogcmFuZ2VzLmVuZChpKSB9KTtcblx0fVxuXHRyZXR1cm4gYXJyYXk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7Q2hpbGROb2RlW119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGlsZHJlbihlbGVtZW50KSB7XG5cdHJldHVybiBBcnJheS5mcm9tKGVsZW1lbnQuY2hpbGROb2Rlcyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiBpbml0X2NsYWltX2luZm8obm9kZXMpIHtcblx0aWYgKG5vZGVzLmNsYWltX2luZm8gPT09IHVuZGVmaW5lZCkge1xuXHRcdG5vZGVzLmNsYWltX2luZm8gPSB7IGxhc3RfaW5kZXg6IDAsIHRvdGFsX2NsYWltZWQ6IDAgfTtcblx0fVxufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7Q2hpbGROb2RlRXh9IFJcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcGFyYW0geyhub2RlOiBDaGlsZE5vZGVFeCkgPT4gbm9kZSBpcyBSfSBwcmVkaWNhdGVcbiAqIEBwYXJhbSB7KG5vZGU6IENoaWxkTm9kZUV4KSA9PiBDaGlsZE5vZGVFeCB8IHVuZGVmaW5lZH0gcHJvY2Vzc19ub2RlXG4gKiBAcGFyYW0geygpID0+IFJ9IGNyZWF0ZV9ub2RlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGRvbnRfdXBkYXRlX2xhc3RfaW5kZXhcbiAqIEByZXR1cm5zIHtSfVxuICovXG5mdW5jdGlvbiBjbGFpbV9ub2RlKG5vZGVzLCBwcmVkaWNhdGUsIHByb2Nlc3Nfbm9kZSwgY3JlYXRlX25vZGUsIGRvbnRfdXBkYXRlX2xhc3RfaW5kZXggPSBmYWxzZSkge1xuXHQvLyBUcnkgdG8gZmluZCBub2RlcyBpbiBhbiBvcmRlciBzdWNoIHRoYXQgd2UgbGVuZ3RoZW4gdGhlIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZVxuXHRpbml0X2NsYWltX2luZm8obm9kZXMpO1xuXHRjb25zdCByZXN1bHRfbm9kZSA9ICgoKSA9PiB7XG5cdFx0Ly8gV2UgZmlyc3QgdHJ5IHRvIGZpbmQgYW4gZWxlbWVudCBhZnRlciB0aGUgcHJldmlvdXMgb25lXG5cdFx0Zm9yIChsZXQgaSA9IG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBub2RlID0gbm9kZXNbaV07XG5cdFx0XHRpZiAocHJlZGljYXRlKG5vZGUpKSB7XG5cdFx0XHRcdGNvbnN0IHJlcGxhY2VtZW50ID0gcHJvY2Vzc19ub2RlKG5vZGUpO1xuXHRcdFx0XHRpZiAocmVwbGFjZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdG5vZGVzLnNwbGljZShpLCAxKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRub2Rlc1tpXSA9IHJlcGxhY2VtZW50O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICghZG9udF91cGRhdGVfbGFzdF9pbmRleCkge1xuXHRcdFx0XHRcdG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleCA9IGk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG5vZGU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdC8vIE90aGVyd2lzZSwgd2UgdHJ5IHRvIGZpbmQgb25lIGJlZm9yZVxuXHRcdC8vIFdlIGl0ZXJhdGUgaW4gcmV2ZXJzZSBzbyB0aGF0IHdlIGRvbid0IGdvIHRvbyBmYXIgYmFja1xuXHRcdGZvciAobGV0IGkgPSBub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0Y29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuXHRcdFx0aWYgKHByZWRpY2F0ZShub2RlKSkge1xuXHRcdFx0XHRjb25zdCByZXBsYWNlbWVudCA9IHByb2Nlc3Nfbm9kZShub2RlKTtcblx0XHRcdFx0aWYgKHJlcGxhY2VtZW50ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRub2Rlcy5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bm9kZXNbaV0gPSByZXBsYWNlbWVudDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIWRvbnRfdXBkYXRlX2xhc3RfaW5kZXgpIHtcblx0XHRcdFx0XHRub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXggPSBpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHJlcGxhY2VtZW50ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHQvLyBTaW5jZSB3ZSBzcGxpY2VkIGJlZm9yZSB0aGUgbGFzdF9pbmRleCwgd2UgZGVjcmVhc2UgaXRcblx0XHRcdFx0XHRub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXgtLTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbm9kZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Ly8gSWYgd2UgY2FuJ3QgZmluZCBhbnkgbWF0Y2hpbmcgbm9kZSwgd2UgY3JlYXRlIGEgbmV3IG9uZVxuXHRcdHJldHVybiBjcmVhdGVfbm9kZSgpO1xuXHR9KSgpO1xuXHRyZXN1bHRfbm9kZS5jbGFpbV9vcmRlciA9IG5vZGVzLmNsYWltX2luZm8udG90YWxfY2xhaW1lZDtcblx0bm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkICs9IDE7XG5cdHJldHVybiByZXN1bHRfbm9kZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7eyBba2V5OiBzdHJpbmddOiBib29sZWFuIH19IGF0dHJpYnV0ZXNcbiAqIEBwYXJhbSB7KG5hbWU6IHN0cmluZykgPT4gRWxlbWVudCB8IFNWR0VsZW1lbnR9IGNyZWF0ZV9lbGVtZW50XG4gKiBAcmV0dXJucyB7RWxlbWVudCB8IFNWR0VsZW1lbnR9XG4gKi9cbmZ1bmN0aW9uIGNsYWltX2VsZW1lbnRfYmFzZShub2RlcywgbmFtZSwgYXR0cmlidXRlcywgY3JlYXRlX2VsZW1lbnQpIHtcblx0cmV0dXJuIGNsYWltX25vZGUoXG5cdFx0bm9kZXMsXG5cdFx0LyoqIEByZXR1cm5zIHtub2RlIGlzIEVsZW1lbnQgfCBTVkdFbGVtZW50fSAqL1xuXHRcdChub2RlKSA9PiBub2RlLm5vZGVOYW1lID09PSBuYW1lLFxuXHRcdC8qKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGUgKi9cblx0XHQobm9kZSkgPT4ge1xuXHRcdFx0Y29uc3QgcmVtb3ZlID0gW107XG5cdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IG5vZGUuYXR0cmlidXRlcy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRjb25zdCBhdHRyaWJ1dGUgPSBub2RlLmF0dHJpYnV0ZXNbal07XG5cdFx0XHRcdGlmICghYXR0cmlidXRlc1thdHRyaWJ1dGUubmFtZV0pIHtcblx0XHRcdFx0XHRyZW1vdmUucHVzaChhdHRyaWJ1dGUubmFtZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJlbW92ZS5mb3JFYWNoKCh2KSA9PiBub2RlLnJlbW92ZUF0dHJpYnV0ZSh2KSk7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH0sXG5cdFx0KCkgPT4gY3JlYXRlX2VsZW1lbnQobmFtZSlcblx0KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7eyBba2V5OiBzdHJpbmddOiBib29sZWFuIH19IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm5zIHtFbGVtZW50IHwgU1ZHRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX2VsZW1lbnQobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMpIHtcblx0cmV0dXJuIGNsYWltX2VsZW1lbnRfYmFzZShub2RlcywgbmFtZSwgYXR0cmlidXRlcywgZWxlbWVudCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge3sgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9fSBhdHRyaWJ1dGVzXG4gKiBAcmV0dXJucyB7RWxlbWVudCB8IFNWR0VsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFpbV9zdmdfZWxlbWVudChub2RlcywgbmFtZSwgYXR0cmlidXRlcykge1xuXHRyZXR1cm4gY2xhaW1fZWxlbWVudF9iYXNlKG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzLCBzdmdfZWxlbWVudCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEByZXR1cm5zIHtUZXh0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhaW1fdGV4dChub2RlcywgZGF0YSkge1xuXHRyZXR1cm4gY2xhaW1fbm9kZShcblx0XHRub2Rlcyxcblx0XHQvKiogQHJldHVybnMge25vZGUgaXMgVGV4dH0gKi9cblx0XHQobm9kZSkgPT4gbm9kZS5ub2RlVHlwZSA9PT0gMyxcblx0XHQvKiogQHBhcmFtIHtUZXh0fSBub2RlICovXG5cdFx0KG5vZGUpID0+IHtcblx0XHRcdGNvbnN0IGRhdGFfc3RyID0gJycgKyBkYXRhO1xuXHRcdFx0aWYgKG5vZGUuZGF0YS5zdGFydHNXaXRoKGRhdGFfc3RyKSkge1xuXHRcdFx0XHRpZiAobm9kZS5kYXRhLmxlbmd0aCAhPT0gZGF0YV9zdHIubGVuZ3RoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG5vZGUuc3BsaXRUZXh0KGRhdGFfc3RyLmxlbmd0aCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG5vZGUuZGF0YSA9IGRhdGFfc3RyO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0KCkgPT4gdGV4dChkYXRhKSxcblx0XHR0cnVlIC8vIFRleHQgbm9kZXMgc2hvdWxkIG5vdCB1cGRhdGUgbGFzdCBpbmRleCBzaW5jZSBpdCBpcyBsaWtlbHkgbm90IHdvcnRoIGl0IHRvIGVsaW1pbmF0ZSBhbiBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIGFjdHVhbCBlbGVtZW50c1xuXHQpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHtUZXh0fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX3NwYWNlKG5vZGVzKSB7XG5cdHJldHVybiBjbGFpbV90ZXh0KG5vZGVzLCAnICcpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcmV0dXJucyB7Q29tbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX2NvbW1lbnQobm9kZXMsIGRhdGEpIHtcblx0cmV0dXJuIGNsYWltX25vZGUoXG5cdFx0bm9kZXMsXG5cdFx0LyoqIEByZXR1cm5zIHtub2RlIGlzIENvbW1lbnR9ICovXG5cdFx0KG5vZGUpID0+IG5vZGUubm9kZVR5cGUgPT09IDgsXG5cdFx0LyoqIEBwYXJhbSB7Q29tbWVudH0gbm9kZSAqL1xuXHRcdChub2RlKSA9PiB7XG5cdFx0XHRub2RlLmRhdGEgPSAnJyArIGRhdGE7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH0sXG5cdFx0KCkgPT4gY29tbWVudChkYXRhKSxcblx0XHR0cnVlXG5cdCk7XG59XG5cbmZ1bmN0aW9uIGdldF9jb21tZW50X2lkeChub2RlcywgdGV4dCwgc3RhcnQpIHtcblx0Zm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgbm9kZXMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRjb25zdCBub2RlID0gbm9kZXNbaV07XG5cdFx0aWYgKG5vZGUubm9kZVR5cGUgPT09IDggLyogY29tbWVudCBub2RlICovICYmIG5vZGUudGV4dENvbnRlbnQudHJpbSgpID09PSB0ZXh0KSB7XG5cdFx0XHRyZXR1cm4gaTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIC0xO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNfc3ZnXG4gKiBAcmV0dXJucyB7SHRtbFRhZ0h5ZHJhdGlvbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX2h0bWxfdGFnKG5vZGVzLCBpc19zdmcpIHtcblx0Ly8gZmluZCBodG1sIG9wZW5pbmcgdGFnXG5cdGNvbnN0IHN0YXJ0X2luZGV4ID0gZ2V0X2NvbW1lbnRfaWR4KG5vZGVzLCAnSFRNTF9UQUdfU1RBUlQnLCAwKTtcblx0Y29uc3QgZW5kX2luZGV4ID0gZ2V0X2NvbW1lbnRfaWR4KG5vZGVzLCAnSFRNTF9UQUdfRU5EJywgc3RhcnRfaW5kZXggKyAxKTtcblx0aWYgKHN0YXJ0X2luZGV4ID09PSAtMSB8fCBlbmRfaW5kZXggPT09IC0xKSB7XG5cdFx0cmV0dXJuIG5ldyBIdG1sVGFnSHlkcmF0aW9uKGlzX3N2Zyk7XG5cdH1cblxuXHRpbml0X2NsYWltX2luZm8obm9kZXMpO1xuXHRjb25zdCBodG1sX3RhZ19ub2RlcyA9IG5vZGVzLnNwbGljZShzdGFydF9pbmRleCwgZW5kX2luZGV4IC0gc3RhcnRfaW5kZXggKyAxKTtcblx0ZGV0YWNoKGh0bWxfdGFnX25vZGVzWzBdKTtcblx0ZGV0YWNoKGh0bWxfdGFnX25vZGVzW2h0bWxfdGFnX25vZGVzLmxlbmd0aCAtIDFdKTtcblx0Y29uc3QgY2xhaW1lZF9ub2RlcyA9IGh0bWxfdGFnX25vZGVzLnNsaWNlKDEsIGh0bWxfdGFnX25vZGVzLmxlbmd0aCAtIDEpO1xuXHRmb3IgKGNvbnN0IG4gb2YgY2xhaW1lZF9ub2Rlcykge1xuXHRcdG4uY2xhaW1fb3JkZXIgPSBub2Rlcy5jbGFpbV9pbmZvLnRvdGFsX2NsYWltZWQ7XG5cdFx0bm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkICs9IDE7XG5cdH1cblx0cmV0dXJuIG5ldyBIdG1sVGFnSHlkcmF0aW9uKGlzX3N2ZywgY2xhaW1lZF9ub2Rlcyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtUZXh0fSB0ZXh0XG4gKiBAcGFyYW0ge3Vua25vd259IGRhdGFcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2RhdGEodGV4dCwgZGF0YSkge1xuXHRkYXRhID0gJycgKyBkYXRhO1xuXHRpZiAodGV4dC5kYXRhID09PSBkYXRhKSByZXR1cm47XG5cdHRleHQuZGF0YSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoZGF0YSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtUZXh0fSB0ZXh0XG4gKiBAcGFyYW0ge3Vua25vd259IGRhdGFcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2RhdGFfY29udGVudGVkaXRhYmxlKHRleHQsIGRhdGEpIHtcblx0ZGF0YSA9ICcnICsgZGF0YTtcblx0aWYgKHRleHQud2hvbGVUZXh0ID09PSBkYXRhKSByZXR1cm47XG5cdHRleHQuZGF0YSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoZGF0YSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtUZXh0fSB0ZXh0XG4gKiBAcGFyYW0ge3Vua25vd259IGRhdGFcbiAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyX3ZhbHVlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9kYXRhX21heWJlX2NvbnRlbnRlZGl0YWJsZSh0ZXh0LCBkYXRhLCBhdHRyX3ZhbHVlKSB7XG5cdGlmICh+Y29udGVudGVkaXRhYmxlX3RydXRoeV92YWx1ZXMuaW5kZXhPZihhdHRyX3ZhbHVlKSkge1xuXHRcdHNldF9kYXRhX2NvbnRlbnRlZGl0YWJsZSh0ZXh0LCBkYXRhKTtcblx0fSBlbHNlIHtcblx0XHRzZXRfZGF0YSh0ZXh0LCBkYXRhKTtcblx0fVxufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9pbnB1dF92YWx1ZShpbnB1dCwgdmFsdWUpIHtcblx0aW5wdXQudmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfaW5wdXRfdHlwZShpbnB1dCwgdHlwZSkge1xuXHR0cnkge1xuXHRcdGlucHV0LnR5cGUgPSB0eXBlO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0Ly8gZG8gbm90aGluZ1xuXHR9XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X3N0eWxlKG5vZGUsIGtleSwgdmFsdWUsIGltcG9ydGFudCkge1xuXHRpZiAodmFsdWUgPT0gbnVsbCkge1xuXHRcdG5vZGUuc3R5bGUucmVtb3ZlUHJvcGVydHkoa2V5KTtcblx0fSBlbHNlIHtcblx0XHRub2RlLnN0eWxlLnNldFByb3BlcnR5KGtleSwgdmFsdWUsIGltcG9ydGFudCA/ICdpbXBvcnRhbnQnIDogJycpO1xuXHR9XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0X29wdGlvbihzZWxlY3QsIHZhbHVlLCBtb3VudGluZykge1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdC5vcHRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0Y29uc3Qgb3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbaV07XG5cdFx0aWYgKG9wdGlvbi5fX3ZhbHVlID09PSB2YWx1ZSkge1xuXHRcdFx0b3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdH1cblx0aWYgKCFtb3VudGluZyB8fCB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0c2VsZWN0LnNlbGVjdGVkSW5kZXggPSAtMTsgLy8gbm8gb3B0aW9uIHNob3VsZCBiZSBzZWxlY3RlZFxuXHR9XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0X29wdGlvbnMoc2VsZWN0LCB2YWx1ZSkge1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdC5vcHRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0Y29uc3Qgb3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbaV07XG5cdFx0b3B0aW9uLnNlbGVjdGVkID0gfnZhbHVlLmluZGV4T2Yob3B0aW9uLl9fdmFsdWUpO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RfdmFsdWUoc2VsZWN0KSB7XG5cdGNvbnN0IHNlbGVjdGVkX29wdGlvbiA9IHNlbGVjdC5xdWVyeVNlbGVjdG9yKCc6Y2hlY2tlZCcpO1xuXHRyZXR1cm4gc2VsZWN0ZWRfb3B0aW9uICYmIHNlbGVjdGVkX29wdGlvbi5fX3ZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0X211bHRpcGxlX3ZhbHVlKHNlbGVjdCkge1xuXHRyZXR1cm4gW10ubWFwLmNhbGwoc2VsZWN0LnF1ZXJ5U2VsZWN0b3JBbGwoJzpjaGVja2VkJyksIChvcHRpb24pID0+IG9wdGlvbi5fX3ZhbHVlKTtcbn1cbi8vIHVuZm9ydHVuYXRlbHkgdGhpcyBjYW4ndCBiZSBhIGNvbnN0YW50IGFzIHRoYXQgd291bGRuJ3QgYmUgdHJlZS1zaGFrZWFibGVcbi8vIHNvIHdlIGNhY2hlIHRoZSByZXN1bHQgaW5zdGVhZFxuXG4vKipcbiAqIEB0eXBlIHtib29sZWFufSAqL1xubGV0IGNyb3Nzb3JpZ2luO1xuXG4vKipcbiAqIEByZXR1cm5zIHtib29sZWFufSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX2Nyb3Nzb3JpZ2luKCkge1xuXHRpZiAoY3Jvc3NvcmlnaW4gPT09IHVuZGVmaW5lZCkge1xuXHRcdGNyb3Nzb3JpZ2luID0gZmFsc2U7XG5cdFx0dHJ5IHtcblx0XHRcdGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucGFyZW50KSB7XG5cdFx0XHRcdHZvaWQgd2luZG93LnBhcmVudC5kb2N1bWVudDtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Y3Jvc3NvcmlnaW4gPSB0cnVlO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gY3Jvc3NvcmlnaW47XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBmblxuICogQHJldHVybnMgeygpID0+IHZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRfaWZyYW1lX3Jlc2l6ZV9saXN0ZW5lcihub2RlLCBmbikge1xuXHRjb25zdCBjb21wdXRlZF9zdHlsZSA9IGdldENvbXB1dGVkU3R5bGUobm9kZSk7XG5cdGlmIChjb21wdXRlZF9zdHlsZS5wb3NpdGlvbiA9PT0gJ3N0YXRpYycpIHtcblx0XHRub2RlLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcblx0fVxuXHRjb25zdCBpZnJhbWUgPSBlbGVtZW50KCdpZnJhbWUnKTtcblx0aWZyYW1lLnNldEF0dHJpYnV0ZShcblx0XHQnc3R5bGUnLFxuXHRcdCdkaXNwbGF5OiBibG9jazsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7ICcgK1xuXHRcdFx0J292ZXJmbG93OiBoaWRkZW47IGJvcmRlcjogMDsgb3BhY2l0eTogMDsgcG9pbnRlci1ldmVudHM6IG5vbmU7IHotaW5kZXg6IC0xOydcblx0KTtcblx0aWZyYW1lLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuXHRpZnJhbWUudGFiSW5kZXggPSAtMTtcblx0Y29uc3QgY3Jvc3NvcmlnaW4gPSBpc19jcm9zc29yaWdpbigpO1xuXG5cdC8qKlxuXHQgKiBAdHlwZSB7KCkgPT4gdm9pZH1cblx0ICovXG5cdGxldCB1bnN1YnNjcmliZTtcblx0aWYgKGNyb3Nzb3JpZ2luKSB7XG5cdFx0aWZyYW1lLnNyYyA9IFwiZGF0YTp0ZXh0L2h0bWwsPHNjcmlwdD5vbnJlc2l6ZT1mdW5jdGlvbigpe3BhcmVudC5wb3N0TWVzc2FnZSgwLCcqJyl9PC9zY3JpcHQ+XCI7XG5cdFx0dW5zdWJzY3JpYmUgPSBsaXN0ZW4oXG5cdFx0XHR3aW5kb3csXG5cdFx0XHQnbWVzc2FnZScsXG5cdFx0XHQvKiogQHBhcmFtIHtNZXNzYWdlRXZlbnR9IGV2ZW50ICovIChldmVudCkgPT4ge1xuXHRcdFx0XHRpZiAoZXZlbnQuc291cmNlID09PSBpZnJhbWUuY29udGVudFdpbmRvdykgZm4oKTtcblx0XHRcdH1cblx0XHQpO1xuXHR9IGVsc2Uge1xuXHRcdGlmcmFtZS5zcmMgPSAnYWJvdXQ6YmxhbmsnO1xuXHRcdGlmcmFtZS5vbmxvYWQgPSAoKSA9PiB7XG5cdFx0XHR1bnN1YnNjcmliZSA9IGxpc3RlbihpZnJhbWUuY29udGVudFdpbmRvdywgJ3Jlc2l6ZScsIGZuKTtcblx0XHRcdC8vIG1ha2Ugc3VyZSBhbiBpbml0aWFsIHJlc2l6ZSBldmVudCBpcyBmaXJlZCBfYWZ0ZXJfIHRoZSBpZnJhbWUgaXMgbG9hZGVkICh3aGljaCBpcyBhc3luY2hyb25vdXMpXG5cdFx0XHQvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3N2ZWx0ZWpzL3N2ZWx0ZS9pc3N1ZXMvNDIzM1xuXHRcdFx0Zm4oKTtcblx0XHR9O1xuXHR9XG5cdGFwcGVuZChub2RlLCBpZnJhbWUpO1xuXHRyZXR1cm4gKCkgPT4ge1xuXHRcdGlmIChjcm9zc29yaWdpbikge1xuXHRcdFx0dW5zdWJzY3JpYmUoKTtcblx0XHR9IGVsc2UgaWYgKHVuc3Vic2NyaWJlICYmIGlmcmFtZS5jb250ZW50V2luZG93KSB7XG5cdFx0XHR1bnN1YnNjcmliZSgpO1xuXHRcdH1cblx0XHRkZXRhY2goaWZyYW1lKTtcblx0fTtcbn1cbmV4cG9ydCBjb25zdCByZXNpemVfb2JzZXJ2ZXJfY29udGVudF9ib3ggPSAvKiBAX19QVVJFX18gKi8gbmV3IFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uKHtcblx0Ym94OiAnY29udGVudC1ib3gnXG59KTtcbmV4cG9ydCBjb25zdCByZXNpemVfb2JzZXJ2ZXJfYm9yZGVyX2JveCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24oe1xuXHRib3g6ICdib3JkZXItYm94J1xufSk7XG5leHBvcnQgY29uc3QgcmVzaXplX29ic2VydmVyX2RldmljZV9waXhlbF9jb250ZW50X2JveCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24oXG5cdHsgYm94OiAnZGV2aWNlLXBpeGVsLWNvbnRlbnQtYm94JyB9XG4pO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24gfTtcblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGVfY2xhc3MoZWxlbWVudCwgbmFtZSwgdG9nZ2xlKSB7XG5cdC8vIFRoZSBgISFgIGlzIHJlcXVpcmVkIGJlY2F1c2UgYW4gYHVuZGVmaW5lZGAgZmxhZyBtZWFucyBmbGlwcGluZyB0aGUgY3VycmVudCBzdGF0ZS5cblx0ZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKG5hbWUsICEhdG9nZ2xlKTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7VH0gW2RldGFpbF1cbiAqIEBwYXJhbSB7eyBidWJibGVzPzogYm9vbGVhbiwgY2FuY2VsYWJsZT86IGJvb2xlYW4gfX0gW29wdGlvbnNdXG4gKiBAcmV0dXJucyB7Q3VzdG9tRXZlbnQ8VD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjdXN0b21fZXZlbnQodHlwZSwgZGV0YWlsLCB7IGJ1YmJsZXMgPSBmYWxzZSwgY2FuY2VsYWJsZSA9IGZhbHNlIH0gPSB7fSkge1xuXHRyZXR1cm4gbmV3IEN1c3RvbUV2ZW50KHR5cGUsIHsgZGV0YWlsLCBidWJibGVzLCBjYW5jZWxhYmxlIH0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFyZW50XG4gKiBAcmV0dXJucyB7Q2hpbGROb2RlQXJyYXl9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeV9zZWxlY3Rvcl9hbGwoc2VsZWN0b3IsIHBhcmVudCA9IGRvY3VtZW50LmJvZHkpIHtcblx0cmV0dXJuIEFycmF5LmZyb20ocGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbm9kZUlkXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBoZWFkXG4gKiBAcmV0dXJucyB7YW55W119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoZWFkX3NlbGVjdG9yKG5vZGVJZCwgaGVhZCkge1xuXHRjb25zdCByZXN1bHQgPSBbXTtcblx0bGV0IHN0YXJ0ZWQgPSAwO1xuXHRmb3IgKGNvbnN0IG5vZGUgb2YgaGVhZC5jaGlsZE5vZGVzKSB7XG5cdFx0aWYgKG5vZGUubm9kZVR5cGUgPT09IDggLyogY29tbWVudCBub2RlICovKSB7XG5cdFx0XHRjb25zdCBjb21tZW50ID0gbm9kZS50ZXh0Q29udGVudC50cmltKCk7XG5cdFx0XHRpZiAoY29tbWVudCA9PT0gYEhFQURfJHtub2RlSWR9X0VORGApIHtcblx0XHRcdFx0c3RhcnRlZCAtPSAxO1xuXHRcdFx0XHRyZXN1bHQucHVzaChub2RlKTtcblx0XHRcdH0gZWxzZSBpZiAoY29tbWVudCA9PT0gYEhFQURfJHtub2RlSWR9X1NUQVJUYCkge1xuXHRcdFx0XHRzdGFydGVkICs9IDE7XG5cdFx0XHRcdHJlc3VsdC5wdXNoKG5vZGUpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoc3RhcnRlZCA+IDApIHtcblx0XHRcdHJlc3VsdC5wdXNoKG5vZGUpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxuLyoqICovXG5leHBvcnQgY2xhc3MgSHRtbFRhZyB7XG5cdC8qKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAZGVmYXVsdCBmYWxzZVxuXHQgKi9cblx0aXNfc3ZnID0gZmFsc2U7XG5cdC8qKiBwYXJlbnQgZm9yIGNyZWF0aW5nIG5vZGUgKi9cblx0ZSA9IHVuZGVmaW5lZDtcblx0LyoqIGh0bWwgdGFnIG5vZGVzICovXG5cdG4gPSB1bmRlZmluZWQ7XG5cdC8qKiB0YXJnZXQgKi9cblx0dCA9IHVuZGVmaW5lZDtcblx0LyoqIGFuY2hvciAqL1xuXHRhID0gdW5kZWZpbmVkO1xuXHRjb25zdHJ1Y3Rvcihpc19zdmcgPSBmYWxzZSkge1xuXHRcdHRoaXMuaXNfc3ZnID0gaXNfc3ZnO1xuXHRcdHRoaXMuZSA9IHRoaXMubiA9IG51bGw7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRjKGh0bWwpIHtcblx0XHR0aGlzLmgoaHRtbCk7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxcblx0ICogQHBhcmFtIHtIVE1MRWxlbWVudCB8IFNWR0VsZW1lbnR9IHRhcmdldFxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50IHwgU1ZHRWxlbWVudH0gYW5jaG9yXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0bShodG1sLCB0YXJnZXQsIGFuY2hvciA9IG51bGwpIHtcblx0XHRpZiAoIXRoaXMuZSkge1xuXHRcdFx0aWYgKHRoaXMuaXNfc3ZnKVxuXHRcdFx0XHR0aGlzLmUgPSBzdmdfZWxlbWVudCgvKiogQHR5cGUge2tleW9mIFNWR0VsZW1lbnRUYWdOYW1lTWFwfSAqLyAodGFyZ2V0Lm5vZGVOYW1lKSk7XG5cdFx0XHQvKiogIzczNjQgIHRhcmdldCBmb3IgPHRlbXBsYXRlPiBtYXkgYmUgcHJvdmlkZWQgYXMgI2RvY3VtZW50LWZyYWdtZW50KDExKSAqLyBlbHNlXG5cdFx0XHRcdHRoaXMuZSA9IGVsZW1lbnQoXG5cdFx0XHRcdFx0LyoqIEB0eXBlIHtrZXlvZiBIVE1MRWxlbWVudFRhZ05hbWVNYXB9ICovIChcblx0XHRcdFx0XHRcdHRhcmdldC5ub2RlVHlwZSA9PT0gMTEgPyAnVEVNUExBVEUnIDogdGFyZ2V0Lm5vZGVOYW1lXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpO1xuXHRcdFx0dGhpcy50ID1cblx0XHRcdFx0dGFyZ2V0LnRhZ05hbWUgIT09ICdURU1QTEFURSdcblx0XHRcdFx0XHQ/IHRhcmdldFxuXHRcdFx0XHRcdDogLyoqIEB0eXBlIHtIVE1MVGVtcGxhdGVFbGVtZW50fSAqLyAodGFyZ2V0KS5jb250ZW50O1xuXHRcdFx0dGhpcy5jKGh0bWwpO1xuXHRcdH1cblx0XHR0aGlzLmkoYW5jaG9yKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbFxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGgoaHRtbCkge1xuXHRcdHRoaXMuZS5pbm5lckhUTUwgPSBodG1sO1xuXHRcdHRoaXMubiA9IEFycmF5LmZyb20oXG5cdFx0XHR0aGlzLmUubm9kZU5hbWUgPT09ICdURU1QTEFURScgPyB0aGlzLmUuY29udGVudC5jaGlsZE5vZGVzIDogdGhpcy5lLmNoaWxkTm9kZXNcblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRpKGFuY2hvcikge1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRpbnNlcnQodGhpcy50LCB0aGlzLm5baV0sIGFuY2hvcik7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0cChodG1sKSB7XG5cdFx0dGhpcy5kKCk7XG5cdFx0dGhpcy5oKGh0bWwpO1xuXHRcdHRoaXMuaSh0aGlzLmEpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRkKCkge1xuXHRcdHRoaXMubi5mb3JFYWNoKGRldGFjaCk7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIEh0bWxUYWdIeWRyYXRpb24gZXh0ZW5kcyBIdG1sVGFnIHtcblx0LyoqIEB0eXBlIHtFbGVtZW50W119IGh5ZHJhdGlvbiBjbGFpbWVkIG5vZGVzICovXG5cdGwgPSB1bmRlZmluZWQ7XG5cblx0Y29uc3RydWN0b3IoaXNfc3ZnID0gZmFsc2UsIGNsYWltZWRfbm9kZXMpIHtcblx0XHRzdXBlcihpc19zdmcpO1xuXHRcdHRoaXMuZSA9IHRoaXMubiA9IG51bGw7XG5cdFx0dGhpcy5sID0gY2xhaW1lZF9ub2Rlcztcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbFxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGMoaHRtbCkge1xuXHRcdGlmICh0aGlzLmwpIHtcblx0XHRcdHRoaXMubiA9IHRoaXMubDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3VwZXIuYyhodG1sKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGkoYW5jaG9yKSB7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm4ubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdGluc2VydF9oeWRyYXRpb24odGhpcy50LCB0aGlzLm5baV0sIGFuY2hvcik7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtOYW1lZE5vZGVNYXB9IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm5zIHt7fX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGF0dHJpYnV0ZV90b19vYmplY3QoYXR0cmlidXRlcykge1xuXHRjb25zdCByZXN1bHQgPSB7fTtcblx0Zm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgYXR0cmlidXRlcykge1xuXHRcdHJlc3VsdFthdHRyaWJ1dGUubmFtZV0gPSBhdHRyaWJ1dGUudmFsdWU7XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7e319XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfY3VzdG9tX2VsZW1lbnRzX3Nsb3RzKGVsZW1lbnQpIHtcblx0Y29uc3QgcmVzdWx0ID0ge307XG5cdGVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKFxuXHRcdC8qKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGUgKi8gKG5vZGUpID0+IHtcblx0XHRcdHJlc3VsdFtub2RlLnNsb3QgfHwgJ2RlZmF1bHQnXSA9IHRydWU7XG5cdFx0fVxuXHQpO1xuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29uc3RydWN0X3N2ZWx0ZV9jb21wb25lbnQoY29tcG9uZW50LCBwcm9wcykge1xuXHRyZXR1cm4gbmV3IGNvbXBvbmVudChwcm9wcyk7XG59XG5cbi8qKlxuICogQHR5cGVkZWYge05vZGUgJiB7XG4gKiBcdGNsYWltX29yZGVyPzogbnVtYmVyO1xuICogXHRoeWRyYXRlX2luaXQ/OiB0cnVlO1xuICogXHRhY3R1YWxfZW5kX2NoaWxkPzogTm9kZUV4O1xuICogXHRjaGlsZE5vZGVzOiBOb2RlTGlzdE9mPE5vZGVFeD47XG4gKiB9fSBOb2RlRXhcbiAqL1xuXG4vKiogQHR5cGVkZWYge0NoaWxkTm9kZSAmIE5vZGVFeH0gQ2hpbGROb2RlRXggKi9cblxuLyoqIEB0eXBlZGVmIHtOb2RlRXggJiB7IGNsYWltX29yZGVyOiBudW1iZXIgfX0gTm9kZUV4MiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtDaGlsZE5vZGVFeFtdICYge1xuICogXHRjbGFpbV9pbmZvPzoge1xuICogXHRcdGxhc3RfaW5kZXg6IG51bWJlcjtcbiAqIFx0XHR0b3RhbF9jbGFpbWVkOiBudW1iZXI7XG4gKiBcdH07XG4gKiB9fSBDaGlsZE5vZGVBcnJheVxuICovXG4iLCJpbXBvcnQgeyBjdXN0b21fZXZlbnQgfSBmcm9tICcuL2RvbS5qcyc7XG5cbmV4cG9ydCBsZXQgY3VycmVudF9jb21wb25lbnQ7XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KSB7XG5cdGN1cnJlbnRfY29tcG9uZW50ID0gY29tcG9uZW50O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkge1xuXHRpZiAoIWN1cnJlbnRfY29tcG9uZW50KSB0aHJvdyBuZXcgRXJyb3IoJ0Z1bmN0aW9uIGNhbGxlZCBvdXRzaWRlIGNvbXBvbmVudCBpbml0aWFsaXphdGlvbicpO1xuXHRyZXR1cm4gY3VycmVudF9jb21wb25lbnQ7XG59XG5cbi8qKlxuICogU2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIHVwZGF0ZWQgYWZ0ZXIgYW55IHN0YXRlIGNoYW5nZS5cbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgcnVucyB3aWxsIGJlIGJlZm9yZSB0aGUgaW5pdGlhbCBgb25Nb3VudGBcbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjYmVmb3JldXBkYXRlXG4gKiBAcGFyYW0geygpID0+IGFueX0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmVmb3JlVXBkYXRlKGZuKSB7XG5cdGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmJlZm9yZV91cGRhdGUucHVzaChmbik7XG59XG5cbi8qKlxuICogVGhlIGBvbk1vdW50YCBmdW5jdGlvbiBzY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gYXMgc29vbiBhcyB0aGUgY29tcG9uZW50IGhhcyBiZWVuIG1vdW50ZWQgdG8gdGhlIERPTS5cbiAqIEl0IG11c3QgYmUgY2FsbGVkIGR1cmluZyB0aGUgY29tcG9uZW50J3MgaW5pdGlhbGlzYXRpb24gKGJ1dCBkb2Vzbid0IG5lZWQgdG8gbGl2ZSAqaW5zaWRlKiB0aGUgY29tcG9uZW50O1xuICogaXQgY2FuIGJlIGNhbGxlZCBmcm9tIGFuIGV4dGVybmFsIG1vZHVsZSkuXG4gKlxuICogSWYgYSBmdW5jdGlvbiBpcyByZXR1cm5lZCBfc3luY2hyb25vdXNseV8gZnJvbSBgb25Nb3VudGAsIGl0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQuXG4gKlxuICogYG9uTW91bnRgIGRvZXMgbm90IHJ1biBpbnNpZGUgYSBbc2VydmVyLXNpZGUgY29tcG9uZW50XSgvZG9jcyNydW4tdGltZS1zZXJ2ZXItc2lkZS1jb21wb25lbnQtYXBpKS5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjb25tb3VudFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7KCkgPT4gaW1wb3J0KCcuL3ByaXZhdGUuanMnKS5Ob3RGdW5jdGlvbjxUPiB8IFByb21pc2U8aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5Ob3RGdW5jdGlvbjxUPj4gfCAoKCkgPT4gYW55KX0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gb25Nb3VudChmbikge1xuXHRnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5vbl9tb3VudC5wdXNoKGZuKTtcbn1cblxuLyoqXG4gKiBTY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGNvbXBvbmVudCBoYXMgYmVlbiB1cGRhdGVkLlxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBydW5zIHdpbGwgYmUgYWZ0ZXIgdGhlIGluaXRpYWwgYG9uTW91bnRgXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2FmdGVydXBkYXRlXG4gKiBAcGFyYW0geygpID0+IGFueX0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWZ0ZXJVcGRhdGUoZm4pIHtcblx0Z2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuYWZ0ZXJfdXBkYXRlLnB1c2goZm4pO1xufVxuXG4vKipcbiAqIFNjaGVkdWxlcyBhIGNhbGxiYWNrIHRvIHJ1biBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQuXG4gKlxuICogT3V0IG9mIGBvbk1vdW50YCwgYGJlZm9yZVVwZGF0ZWAsIGBhZnRlclVwZGF0ZWAgYW5kIGBvbkRlc3Ryb3lgLCB0aGlzIGlzIHRoZVxuICogb25seSBvbmUgdGhhdCBydW5zIGluc2lkZSBhIHNlcnZlci1zaWRlIGNvbXBvbmVudC5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjb25kZXN0cm95XG4gKiBAcGFyYW0geygpID0+IGFueX0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gb25EZXN0cm95KGZuKSB7XG5cdGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLm9uX2Rlc3Ryb3kucHVzaChmbik7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBldmVudCBkaXNwYXRjaGVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gZGlzcGF0Y2ggW2NvbXBvbmVudCBldmVudHNdKC9kb2NzI3RlbXBsYXRlLXN5bnRheC1jb21wb25lbnQtZGlyZWN0aXZlcy1vbi1ldmVudG5hbWUpLlxuICogRXZlbnQgZGlzcGF0Y2hlcnMgYXJlIGZ1bmN0aW9ucyB0aGF0IGNhbiB0YWtlIHR3byBhcmd1bWVudHM6IGBuYW1lYCBhbmQgYGRldGFpbGAuXG4gKlxuICogQ29tcG9uZW50IGV2ZW50cyBjcmVhdGVkIHdpdGggYGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcmAgY3JlYXRlIGFcbiAqIFtDdXN0b21FdmVudF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0N1c3RvbUV2ZW50KS5cbiAqIFRoZXNlIGV2ZW50cyBkbyBub3QgW2J1YmJsZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9MZWFybi9KYXZhU2NyaXB0L0J1aWxkaW5nX2Jsb2Nrcy9FdmVudHMjRXZlbnRfYnViYmxpbmdfYW5kX2NhcHR1cmUpLlxuICogVGhlIGBkZXRhaWxgIGFyZ3VtZW50IGNvcnJlc3BvbmRzIHRvIHRoZSBbQ3VzdG9tRXZlbnQuZGV0YWlsXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ3VzdG9tRXZlbnQvZGV0YWlsKVxuICogcHJvcGVydHkgYW5kIGNhbiBjb250YWluIGFueSB0eXBlIG9mIGRhdGEuXG4gKlxuICogVGhlIGV2ZW50IGRpc3BhdGNoZXIgY2FuIGJlIHR5cGVkIHRvIG5hcnJvdyB0aGUgYWxsb3dlZCBldmVudCBuYW1lcyBhbmQgdGhlIHR5cGUgb2YgdGhlIGBkZXRhaWxgIGFyZ3VtZW50OlxuICogYGBgdHNcbiAqIGNvbnN0IGRpc3BhdGNoID0gY3JlYXRlRXZlbnREaXNwYXRjaGVyPHtcbiAqICBsb2FkZWQ6IG5ldmVyOyAvLyBkb2VzIG5vdCB0YWtlIGEgZGV0YWlsIGFyZ3VtZW50XG4gKiAgY2hhbmdlOiBzdHJpbmc7IC8vIHRha2VzIGEgZGV0YWlsIGFyZ3VtZW50IG9mIHR5cGUgc3RyaW5nLCB3aGljaCBpcyByZXF1aXJlZFxuICogIG9wdGlvbmFsOiBudW1iZXIgfCBudWxsOyAvLyB0YWtlcyBhbiBvcHRpb25hbCBkZXRhaWwgYXJndW1lbnQgb2YgdHlwZSBudW1iZXJcbiAqIH0+KCk7XG4gKiBgYGBcbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjY3JlYXRlZXZlbnRkaXNwYXRjaGVyXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFtFdmVudE1hcD1hbnldXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLkV2ZW50RGlzcGF0Y2hlcjxFdmVudE1hcD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFdmVudERpc3BhdGNoZXIoKSB7XG5cdGNvbnN0IGNvbXBvbmVudCA9IGdldF9jdXJyZW50X2NvbXBvbmVudCgpO1xuXHRyZXR1cm4gKHR5cGUsIGRldGFpbCwgeyBjYW5jZWxhYmxlID0gZmFsc2UgfSA9IHt9KSA9PiB7XG5cdFx0Y29uc3QgY2FsbGJhY2tzID0gY29tcG9uZW50LiQkLmNhbGxiYWNrc1t0eXBlXTtcblx0XHRpZiAoY2FsbGJhY2tzKSB7XG5cdFx0XHQvLyBUT0RPIGFyZSB0aGVyZSBzaXR1YXRpb25zIHdoZXJlIGV2ZW50cyBjb3VsZCBiZSBkaXNwYXRjaGVkXG5cdFx0XHQvLyBpbiBhIHNlcnZlciAobm9uLURPTSkgZW52aXJvbm1lbnQ/XG5cdFx0XHRjb25zdCBldmVudCA9IGN1c3RvbV9ldmVudCgvKiogQHR5cGUge3N0cmluZ30gKi8gKHR5cGUpLCBkZXRhaWwsIHsgY2FuY2VsYWJsZSB9KTtcblx0XHRcdGNhbGxiYWNrcy5zbGljZSgpLmZvckVhY2goKGZuKSA9PiB7XG5cdFx0XHRcdGZuLmNhbGwoY29tcG9uZW50LCBldmVudCk7XG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiAhZXZlbnQuZGVmYXVsdFByZXZlbnRlZDtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH07XG59XG5cbi8qKlxuICogQXNzb2NpYXRlcyBhbiBhcmJpdHJhcnkgYGNvbnRleHRgIG9iamVjdCB3aXRoIHRoZSBjdXJyZW50IGNvbXBvbmVudCBhbmQgdGhlIHNwZWNpZmllZCBga2V5YFxuICogYW5kIHJldHVybnMgdGhhdCBvYmplY3QuIFRoZSBjb250ZXh0IGlzIHRoZW4gYXZhaWxhYmxlIHRvIGNoaWxkcmVuIG9mIHRoZSBjb21wb25lbnRcbiAqIChpbmNsdWRpbmcgc2xvdHRlZCBjb250ZW50KSB3aXRoIGBnZXRDb250ZXh0YC5cbiAqXG4gKiBMaWtlIGxpZmVjeWNsZSBmdW5jdGlvbnMsIHRoaXMgbXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjc2V0Y29udGV4dFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7YW55fSBrZXlcbiAqIEBwYXJhbSB7VH0gY29udGV4dFxuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRDb250ZXh0KGtleSwgY29udGV4dCkge1xuXHRnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0LnNldChrZXksIGNvbnRleHQpO1xuXHRyZXR1cm4gY29udGV4dDtcbn1cblxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIGNvbnRleHQgdGhhdCBiZWxvbmdzIHRvIHRoZSBjbG9zZXN0IHBhcmVudCBjb21wb25lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIGBrZXlgLlxuICogTXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjZ2V0Y29udGV4dFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7YW55fSBrZXlcbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udGV4dChrZXkpIHtcblx0cmV0dXJuIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQuZ2V0KGtleSk7XG59XG5cbi8qKlxuICogUmV0cmlldmVzIHRoZSB3aG9sZSBjb250ZXh0IG1hcCB0aGF0IGJlbG9uZ3MgdG8gdGhlIGNsb3Nlc3QgcGFyZW50IGNvbXBvbmVudC5cbiAqIE11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uIFVzZWZ1bCwgZm9yIGV4YW1wbGUsIGlmIHlvdVxuICogcHJvZ3JhbW1hdGljYWxseSBjcmVhdGUgYSBjb21wb25lbnQgYW5kIHdhbnQgdG8gcGFzcyB0aGUgZXhpc3RpbmcgY29udGV4dCB0byBpdC5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjZ2V0YWxsY29udGV4dHNcbiAqIEB0ZW1wbGF0ZSB7TWFwPGFueSwgYW55Pn0gW1Q9TWFwPGFueSwgYW55Pl1cbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWxsQ29udGV4dHMoKSB7XG5cdHJldHVybiBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0O1xufVxuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGEgZ2l2ZW4gYGtleWAgaGFzIGJlZW4gc2V0IGluIHRoZSBjb250ZXh0IG9mIGEgcGFyZW50IGNvbXBvbmVudC5cbiAqIE11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2hhc2NvbnRleHRcbiAqIEBwYXJhbSB7YW55fSBrZXlcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzQ29udGV4dChrZXkpIHtcblx0cmV0dXJuIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQuaGFzKGtleSk7XG59XG5cbi8vIFRPRE8gZmlndXJlIG91dCBpZiB3ZSBzdGlsbCB3YW50IHRvIHN1cHBvcnRcbi8vIHNob3J0aGFuZCBldmVudHMsIG9yIGlmIHdlIHdhbnQgdG8gaW1wbGVtZW50XG4vLyBhIHJlYWwgYnViYmxpbmcgbWVjaGFuaXNtXG4vKipcbiAqIEBwYXJhbSBjb21wb25lbnRcbiAqIEBwYXJhbSBldmVudFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWJibGUoY29tcG9uZW50LCBldmVudCkge1xuXHRjb25zdCBjYWxsYmFja3MgPSBjb21wb25lbnQuJCQuY2FsbGJhY2tzW2V2ZW50LnR5cGVdO1xuXHRpZiAoY2FsbGJhY2tzKSB7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGNhbGxiYWNrcy5zbGljZSgpLmZvckVhY2goKGZuKSA9PiBmbi5jYWxsKHRoaXMsIGV2ZW50KSk7XG5cdH1cbn1cbiIsImltcG9ydCB7IHJ1bl9hbGwgfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7IGN1cnJlbnRfY29tcG9uZW50LCBzZXRfY3VycmVudF9jb21wb25lbnQgfSBmcm9tICcuL2xpZmVjeWNsZS5qcyc7XG5cbmV4cG9ydCBjb25zdCBkaXJ0eV9jb21wb25lbnRzID0gW107XG5leHBvcnQgY29uc3QgaW50cm9zID0geyBlbmFibGVkOiBmYWxzZSB9O1xuZXhwb3J0IGNvbnN0IGJpbmRpbmdfY2FsbGJhY2tzID0gW107XG5cbmxldCByZW5kZXJfY2FsbGJhY2tzID0gW107XG5cbmNvbnN0IGZsdXNoX2NhbGxiYWNrcyA9IFtdO1xuXG5jb25zdCByZXNvbHZlZF9wcm9taXNlID0gLyogQF9fUFVSRV9fICovIFByb21pc2UucmVzb2x2ZSgpO1xuXG5sZXQgdXBkYXRlX3NjaGVkdWxlZCA9IGZhbHNlO1xuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVfdXBkYXRlKCkge1xuXHRpZiAoIXVwZGF0ZV9zY2hlZHVsZWQpIHtcblx0XHR1cGRhdGVfc2NoZWR1bGVkID0gdHJ1ZTtcblx0XHRyZXNvbHZlZF9wcm9taXNlLnRoZW4oZmx1c2gpO1xuXHR9XG59XG5cbi8qKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aWNrKCkge1xuXHRzY2hlZHVsZV91cGRhdGUoKTtcblx0cmV0dXJuIHJlc29sdmVkX3Byb21pc2U7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRfcmVuZGVyX2NhbGxiYWNrKGZuKSB7XG5cdHJlbmRlcl9jYWxsYmFja3MucHVzaChmbik7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRfZmx1c2hfY2FsbGJhY2soZm4pIHtcblx0Zmx1c2hfY2FsbGJhY2tzLnB1c2goZm4pO1xufVxuXG4vLyBmbHVzaCgpIGNhbGxzIGNhbGxiYWNrcyBpbiB0aGlzIG9yZGVyOlxuLy8gMS4gQWxsIGJlZm9yZVVwZGF0ZSBjYWxsYmFja3MsIGluIG9yZGVyOiBwYXJlbnRzIGJlZm9yZSBjaGlsZHJlblxuLy8gMi4gQWxsIGJpbmQ6dGhpcyBjYWxsYmFja3MsIGluIHJldmVyc2Ugb3JkZXI6IGNoaWxkcmVuIGJlZm9yZSBwYXJlbnRzLlxuLy8gMy4gQWxsIGFmdGVyVXBkYXRlIGNhbGxiYWNrcywgaW4gb3JkZXI6IHBhcmVudHMgYmVmb3JlIGNoaWxkcmVuLiBFWENFUFRcbi8vICAgIGZvciBhZnRlclVwZGF0ZXMgY2FsbGVkIGR1cmluZyB0aGUgaW5pdGlhbCBvbk1vdW50LCB3aGljaCBhcmUgY2FsbGVkIGluXG4vLyAgICByZXZlcnNlIG9yZGVyOiBjaGlsZHJlbiBiZWZvcmUgcGFyZW50cy5cbi8vIFNpbmNlIGNhbGxiYWNrcyBtaWdodCB1cGRhdGUgY29tcG9uZW50IHZhbHVlcywgd2hpY2ggY291bGQgdHJpZ2dlciBhbm90aGVyXG4vLyBjYWxsIHRvIGZsdXNoKCksIHRoZSBmb2xsb3dpbmcgc3RlcHMgZ3VhcmQgYWdhaW5zdCB0aGlzOlxuLy8gMS4gRHVyaW5nIGJlZm9yZVVwZGF0ZSwgYW55IHVwZGF0ZWQgY29tcG9uZW50cyB3aWxsIGJlIGFkZGVkIHRvIHRoZVxuLy8gICAgZGlydHlfY29tcG9uZW50cyBhcnJheSBhbmQgd2lsbCBjYXVzZSBhIHJlZW50cmFudCBjYWxsIHRvIGZsdXNoKCkuIEJlY2F1c2Vcbi8vICAgIHRoZSBmbHVzaCBpbmRleCBpcyBrZXB0IG91dHNpZGUgdGhlIGZ1bmN0aW9uLCB0aGUgcmVlbnRyYW50IGNhbGwgd2lsbCBwaWNrXG4vLyAgICB1cCB3aGVyZSB0aGUgZWFybGllciBjYWxsIGxlZnQgb2ZmIGFuZCBnbyB0aHJvdWdoIGFsbCBkaXJ0eSBjb21wb25lbnRzLiBUaGVcbi8vICAgIGN1cnJlbnRfY29tcG9uZW50IHZhbHVlIGlzIHNhdmVkIGFuZCByZXN0b3JlZCBzbyB0aGF0IHRoZSByZWVudHJhbnQgY2FsbCB3aWxsXG4vLyAgICBub3QgaW50ZXJmZXJlIHdpdGggdGhlIFwicGFyZW50XCIgZmx1c2goKSBjYWxsLlxuLy8gMi4gYmluZDp0aGlzIGNhbGxiYWNrcyBjYW5ub3QgdHJpZ2dlciBuZXcgZmx1c2goKSBjYWxscy5cbi8vIDMuIER1cmluZyBhZnRlclVwZGF0ZSwgYW55IHVwZGF0ZWQgY29tcG9uZW50cyB3aWxsIE5PVCBoYXZlIHRoZWlyIGFmdGVyVXBkYXRlXG4vLyAgICBjYWxsYmFjayBjYWxsZWQgYSBzZWNvbmQgdGltZTsgdGhlIHNlZW5fY2FsbGJhY2tzIHNldCwgb3V0c2lkZSB0aGUgZmx1c2goKVxuLy8gICAgZnVuY3Rpb24sIGd1YXJhbnRlZXMgdGhpcyBiZWhhdmlvci5cbmNvbnN0IHNlZW5fY2FsbGJhY2tzID0gbmV3IFNldCgpO1xuXG5sZXQgZmx1c2hpZHggPSAwOyAvLyBEbyAqbm90KiBtb3ZlIHRoaXMgaW5zaWRlIHRoZSBmbHVzaCgpIGZ1bmN0aW9uXG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbHVzaCgpIHtcblx0Ly8gRG8gbm90IHJlZW50ZXIgZmx1c2ggd2hpbGUgZGlydHkgY29tcG9uZW50cyBhcmUgdXBkYXRlZCwgYXMgdGhpcyBjYW5cblx0Ly8gcmVzdWx0IGluIGFuIGluZmluaXRlIGxvb3AuIEluc3RlYWQsIGxldCB0aGUgaW5uZXIgZmx1c2ggaGFuZGxlIGl0LlxuXHQvLyBSZWVudHJhbmN5IGlzIG9rIGFmdGVyd2FyZHMgZm9yIGJpbmRpbmdzIGV0Yy5cblx0aWYgKGZsdXNoaWR4ICE9PSAwKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cdGNvbnN0IHNhdmVkX2NvbXBvbmVudCA9IGN1cnJlbnRfY29tcG9uZW50O1xuXHRkbyB7XG5cdFx0Ly8gZmlyc3QsIGNhbGwgYmVmb3JlVXBkYXRlIGZ1bmN0aW9uc1xuXHRcdC8vIGFuZCB1cGRhdGUgY29tcG9uZW50c1xuXHRcdHRyeSB7XG5cdFx0XHR3aGlsZSAoZmx1c2hpZHggPCBkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCkge1xuXHRcdFx0XHRjb25zdCBjb21wb25lbnQgPSBkaXJ0eV9jb21wb25lbnRzW2ZsdXNoaWR4XTtcblx0XHRcdFx0Zmx1c2hpZHgrKztcblx0XHRcdFx0c2V0X2N1cnJlbnRfY29tcG9uZW50KGNvbXBvbmVudCk7XG5cdFx0XHRcdHVwZGF0ZShjb21wb25lbnQuJCQpO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdC8vIHJlc2V0IGRpcnR5IHN0YXRlIHRvIG5vdCBlbmQgdXAgaW4gYSBkZWFkbG9ja2VkIHN0YXRlIGFuZCB0aGVuIHJldGhyb3dcblx0XHRcdGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoID0gMDtcblx0XHRcdGZsdXNoaWR4ID0gMDtcblx0XHRcdHRocm93IGU7XG5cdFx0fVxuXHRcdHNldF9jdXJyZW50X2NvbXBvbmVudChudWxsKTtcblx0XHRkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCA9IDA7XG5cdFx0Zmx1c2hpZHggPSAwO1xuXHRcdHdoaWxlIChiaW5kaW5nX2NhbGxiYWNrcy5sZW5ndGgpIGJpbmRpbmdfY2FsbGJhY2tzLnBvcCgpKCk7XG5cdFx0Ly8gdGhlbiwgb25jZSBjb21wb25lbnRzIGFyZSB1cGRhdGVkLCBjYWxsXG5cdFx0Ly8gYWZ0ZXJVcGRhdGUgZnVuY3Rpb25zLiBUaGlzIG1heSBjYXVzZVxuXHRcdC8vIHN1YnNlcXVlbnQgdXBkYXRlcy4uLlxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcmVuZGVyX2NhbGxiYWNrcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0Y29uc3QgY2FsbGJhY2sgPSByZW5kZXJfY2FsbGJhY2tzW2ldO1xuXHRcdFx0aWYgKCFzZWVuX2NhbGxiYWNrcy5oYXMoY2FsbGJhY2spKSB7XG5cdFx0XHRcdC8vIC4uLnNvIGd1YXJkIGFnYWluc3QgaW5maW5pdGUgbG9vcHNcblx0XHRcdFx0c2Vlbl9jYWxsYmFja3MuYWRkKGNhbGxiYWNrKTtcblx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmVuZGVyX2NhbGxiYWNrcy5sZW5ndGggPSAwO1xuXHR9IHdoaWxlIChkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCk7XG5cdHdoaWxlIChmbHVzaF9jYWxsYmFja3MubGVuZ3RoKSB7XG5cdFx0Zmx1c2hfY2FsbGJhY2tzLnBvcCgpKCk7XG5cdH1cblx0dXBkYXRlX3NjaGVkdWxlZCA9IGZhbHNlO1xuXHRzZWVuX2NhbGxiYWNrcy5jbGVhcigpO1xuXHRzZXRfY3VycmVudF9jb21wb25lbnQoc2F2ZWRfY29tcG9uZW50KTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZnVuY3Rpb24gdXBkYXRlKCQkKSB7XG5cdGlmICgkJC5mcmFnbWVudCAhPT0gbnVsbCkge1xuXHRcdCQkLnVwZGF0ZSgpO1xuXHRcdHJ1bl9hbGwoJCQuYmVmb3JlX3VwZGF0ZSk7XG5cdFx0Y29uc3QgZGlydHkgPSAkJC5kaXJ0eTtcblx0XHQkJC5kaXJ0eSA9IFstMV07XG5cdFx0JCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQucCgkJC5jdHgsIGRpcnR5KTtcblx0XHQkJC5hZnRlcl91cGRhdGUuZm9yRWFjaChhZGRfcmVuZGVyX2NhbGxiYWNrKTtcblx0fVxufVxuXG4vKipcbiAqIFVzZWZ1bCBmb3IgZXhhbXBsZSB0byBleGVjdXRlIHJlbWFpbmluZyBgYWZ0ZXJVcGRhdGVgIGNhbGxiYWNrcyBiZWZvcmUgZXhlY3V0aW5nIGBkZXN0cm95YC5cbiAqIEBwYXJhbSB7RnVuY3Rpb25bXX0gZm5zXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsdXNoX3JlbmRlcl9jYWxsYmFja3MoZm5zKSB7XG5cdGNvbnN0IGZpbHRlcmVkID0gW107XG5cdGNvbnN0IHRhcmdldHMgPSBbXTtcblx0cmVuZGVyX2NhbGxiYWNrcy5mb3JFYWNoKChjKSA9PiAoZm5zLmluZGV4T2YoYykgPT09IC0xID8gZmlsdGVyZWQucHVzaChjKSA6IHRhcmdldHMucHVzaChjKSkpO1xuXHR0YXJnZXRzLmZvckVhY2goKGMpID0+IGMoKSk7XG5cdHJlbmRlcl9jYWxsYmFja3MgPSBmaWx0ZXJlZDtcbn1cbiIsImltcG9ydCB7IGlkZW50aXR5IGFzIGxpbmVhciwgaXNfZnVuY3Rpb24sIG5vb3AsIHJ1bl9hbGwgfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7IG5vdyB9IGZyb20gJy4vZW52aXJvbm1lbnQuanMnO1xuaW1wb3J0IHsgbG9vcCB9IGZyb20gJy4vbG9vcC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVfcnVsZSwgZGVsZXRlX3J1bGUgfSBmcm9tICcuL3N0eWxlX21hbmFnZXIuanMnO1xuaW1wb3J0IHsgY3VzdG9tX2V2ZW50IH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgYWRkX3JlbmRlcl9jYWxsYmFjayB9IGZyb20gJy4vc2NoZWR1bGVyLmpzJztcblxuLyoqXG4gKiBAdHlwZSB7UHJvbWlzZTx2b2lkPiB8IG51bGx9XG4gKi9cbmxldCBwcm9taXNlO1xuXG4vKipcbiAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICovXG5mdW5jdGlvbiB3YWl0KCkge1xuXHRpZiAoIXByb21pc2UpIHtcblx0XHRwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG5cdFx0cHJvbWlzZS50aGVuKCgpID0+IHtcblx0XHRcdHByb21pc2UgPSBudWxsO1xuXHRcdH0pO1xuXHR9XG5cdHJldHVybiBwcm9taXNlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtJTlRSTyB8IE9VVFJPIHwgYm9vbGVhbn0gZGlyZWN0aW9uXG4gKiBAcGFyYW0geydzdGFydCcgfCAnZW5kJ30ga2luZFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIGRpc3BhdGNoKG5vZGUsIGRpcmVjdGlvbiwga2luZCkge1xuXHRub2RlLmRpc3BhdGNoRXZlbnQoY3VzdG9tX2V2ZW50KGAke2RpcmVjdGlvbiA/ICdpbnRybycgOiAnb3V0cm8nfSR7a2luZH1gKSk7XG59XG5cbmNvbnN0IG91dHJvaW5nID0gbmV3IFNldCgpO1xuXG4vKipcbiAqIEB0eXBlIHtPdXRyb31cbiAqL1xubGV0IG91dHJvcztcblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBncm91cF9vdXRyb3MoKSB7XG5cdG91dHJvcyA9IHtcblx0XHRyOiAwLFxuXHRcdGM6IFtdLFxuXHRcdHA6IG91dHJvcyAvLyBwYXJlbnQgZ3JvdXBcblx0fTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGVja19vdXRyb3MoKSB7XG5cdGlmICghb3V0cm9zLnIpIHtcblx0XHRydW5fYWxsKG91dHJvcy5jKTtcblx0fVxuXHRvdXRyb3MgPSBvdXRyb3MucDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuRnJhZ21lbnR9IGJsb2NrXG4gKiBAcGFyYW0gezAgfCAxfSBbbG9jYWxdXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zaXRpb25faW4oYmxvY2ssIGxvY2FsKSB7XG5cdGlmIChibG9jayAmJiBibG9jay5pKSB7XG5cdFx0b3V0cm9pbmcuZGVsZXRlKGJsb2NrKTtcblx0XHRibG9jay5pKGxvY2FsKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5GcmFnbWVudH0gYmxvY2tcbiAqIEBwYXJhbSB7MCB8IDF9IGxvY2FsXG4gKiBAcGFyYW0gezAgfCAxfSBbZGV0YWNoXVxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBbY2FsbGJhY2tdXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zaXRpb25fb3V0KGJsb2NrLCBsb2NhbCwgZGV0YWNoLCBjYWxsYmFjaykge1xuXHRpZiAoYmxvY2sgJiYgYmxvY2subykge1xuXHRcdGlmIChvdXRyb2luZy5oYXMoYmxvY2spKSByZXR1cm47XG5cdFx0b3V0cm9pbmcuYWRkKGJsb2NrKTtcblx0XHRvdXRyb3MuYy5wdXNoKCgpID0+IHtcblx0XHRcdG91dHJvaW5nLmRlbGV0ZShibG9jayk7XG5cdFx0XHRpZiAoY2FsbGJhY2spIHtcblx0XHRcdFx0aWYgKGRldGFjaCkgYmxvY2suZCgxKTtcblx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRibG9jay5vKGxvY2FsKTtcblx0fSBlbHNlIGlmIChjYWxsYmFjaykge1xuXHRcdGNhbGxiYWNrKCk7XG5cdH1cbn1cblxuLyoqXG4gKiBAdHlwZSB7aW1wb3J0KCcuLi90cmFuc2l0aW9uL3B1YmxpYy5qcycpLlRyYW5zaXRpb25Db25maWd9XG4gKi9cbmNvbnN0IG51bGxfdHJhbnNpdGlvbiA9IHsgZHVyYXRpb246IDAgfTtcblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnQgJiBFbGVtZW50Q1NTSW5saW5lU3R5bGV9IG5vZGVcbiAqIEBwYXJhbSB7VHJhbnNpdGlvbkZufSBmblxuICogQHBhcmFtIHthbnl9IHBhcmFtc1xuICogQHJldHVybnMge3sgc3RhcnQoKTogdm9pZDsgaW52YWxpZGF0ZSgpOiB2b2lkOyBlbmQoKTogdm9pZDsgfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9pbl90cmFuc2l0aW9uKG5vZGUsIGZuLCBwYXJhbXMpIHtcblx0LyoqXG5cdCAqIEB0eXBlIHtUcmFuc2l0aW9uT3B0aW9uc30gKi9cblx0Y29uc3Qgb3B0aW9ucyA9IHsgZGlyZWN0aW9uOiAnaW4nIH07XG5cdGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMsIG9wdGlvbnMpO1xuXHRsZXQgcnVubmluZyA9IGZhbHNlO1xuXHRsZXQgYW5pbWF0aW9uX25hbWU7XG5cdGxldCB0YXNrO1xuXHRsZXQgdWlkID0gMDtcblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIGNsZWFudXAoKSB7XG5cdFx0aWYgKGFuaW1hdGlvbl9uYW1lKSBkZWxldGVfcnVsZShub2RlLCBhbmltYXRpb25fbmFtZSk7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIGdvKCkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRlbGF5ID0gMCxcblx0XHRcdGR1cmF0aW9uID0gMzAwLFxuXHRcdFx0ZWFzaW5nID0gbGluZWFyLFxuXHRcdFx0dGljayA9IG5vb3AsXG5cdFx0XHRjc3Ncblx0XHR9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcblx0XHRpZiAoY3NzKSBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIDAsIDEsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MsIHVpZCsrKTtcblx0XHR0aWNrKDAsIDEpO1xuXHRcdGNvbnN0IHN0YXJ0X3RpbWUgPSBub3coKSArIGRlbGF5O1xuXHRcdGNvbnN0IGVuZF90aW1lID0gc3RhcnRfdGltZSArIGR1cmF0aW9uO1xuXHRcdGlmICh0YXNrKSB0YXNrLmFib3J0KCk7XG5cdFx0cnVubmluZyA9IHRydWU7XG5cdFx0YWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCB0cnVlLCAnc3RhcnQnKSk7XG5cdFx0dGFzayA9IGxvb3AoKG5vdykgPT4ge1xuXHRcdFx0aWYgKHJ1bm5pbmcpIHtcblx0XHRcdFx0aWYgKG5vdyA+PSBlbmRfdGltZSkge1xuXHRcdFx0XHRcdHRpY2soMSwgMCk7XG5cdFx0XHRcdFx0ZGlzcGF0Y2gobm9kZSwgdHJ1ZSwgJ2VuZCcpO1xuXHRcdFx0XHRcdGNsZWFudXAoKTtcblx0XHRcdFx0XHRyZXR1cm4gKHJ1bm5pbmcgPSBmYWxzZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKG5vdyA+PSBzdGFydF90aW1lKSB7XG5cdFx0XHRcdFx0Y29uc3QgdCA9IGVhc2luZygobm93IC0gc3RhcnRfdGltZSkgLyBkdXJhdGlvbik7XG5cdFx0XHRcdFx0dGljayh0LCAxIC0gdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBydW5uaW5nO1xuXHRcdH0pO1xuXHR9XG5cdGxldCBzdGFydGVkID0gZmFsc2U7XG5cdHJldHVybiB7XG5cdFx0c3RhcnQoKSB7XG5cdFx0XHRpZiAoc3RhcnRlZCkgcmV0dXJuO1xuXHRcdFx0c3RhcnRlZCA9IHRydWU7XG5cdFx0XHRkZWxldGVfcnVsZShub2RlKTtcblx0XHRcdGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG5cdFx0XHRcdGNvbmZpZyA9IGNvbmZpZyhvcHRpb25zKTtcblx0XHRcdFx0d2FpdCgpLnRoZW4oZ28pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Z28oKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGludmFsaWRhdGUoKSB7XG5cdFx0XHRzdGFydGVkID0gZmFsc2U7XG5cdFx0fSxcblx0XHRlbmQoKSB7XG5cdFx0XHRpZiAocnVubmluZykge1xuXHRcdFx0XHRjbGVhbnVwKCk7XG5cdFx0XHRcdHJ1bm5pbmcgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBub2RlXG4gKiBAcGFyYW0ge1RyYW5zaXRpb25Gbn0gZm5cbiAqIEBwYXJhbSB7YW55fSBwYXJhbXNcbiAqIEByZXR1cm5zIHt7IGVuZChyZXNldDogYW55KTogdm9pZDsgfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9vdXRfdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zKSB7XG5cdC8qKiBAdHlwZSB7VHJhbnNpdGlvbk9wdGlvbnN9ICovXG5cdGNvbnN0IG9wdGlvbnMgPSB7IGRpcmVjdGlvbjogJ291dCcgfTtcblx0bGV0IGNvbmZpZyA9IGZuKG5vZGUsIHBhcmFtcywgb3B0aW9ucyk7XG5cdGxldCBydW5uaW5nID0gdHJ1ZTtcblx0bGV0IGFuaW1hdGlvbl9uYW1lO1xuXHRjb25zdCBncm91cCA9IG91dHJvcztcblx0Z3JvdXAuciArPSAxO1xuXHQvKiogQHR5cGUge2Jvb2xlYW59ICovXG5cdGxldCBvcmlnaW5hbF9pbmVydF92YWx1ZTtcblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIGdvKCkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRlbGF5ID0gMCxcblx0XHRcdGR1cmF0aW9uID0gMzAwLFxuXHRcdFx0ZWFzaW5nID0gbGluZWFyLFxuXHRcdFx0dGljayA9IG5vb3AsXG5cdFx0XHRjc3Ncblx0XHR9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcblxuXHRcdGlmIChjc3MpIGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgMSwgMCwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcyk7XG5cblx0XHRjb25zdCBzdGFydF90aW1lID0gbm93KCkgKyBkZWxheTtcblx0XHRjb25zdCBlbmRfdGltZSA9IHN0YXJ0X3RpbWUgKyBkdXJhdGlvbjtcblx0XHRhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IGRpc3BhdGNoKG5vZGUsIGZhbHNlLCAnc3RhcnQnKSk7XG5cblx0XHRpZiAoJ2luZXJ0JyBpbiBub2RlKSB7XG5cdFx0XHRvcmlnaW5hbF9pbmVydF92YWx1ZSA9IC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovIChub2RlKS5pbmVydDtcblx0XHRcdG5vZGUuaW5lcnQgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGxvb3AoKG5vdykgPT4ge1xuXHRcdFx0aWYgKHJ1bm5pbmcpIHtcblx0XHRcdFx0aWYgKG5vdyA+PSBlbmRfdGltZSkge1xuXHRcdFx0XHRcdHRpY2soMCwgMSk7XG5cdFx0XHRcdFx0ZGlzcGF0Y2gobm9kZSwgZmFsc2UsICdlbmQnKTtcblx0XHRcdFx0XHRpZiAoIS0tZ3JvdXAucikge1xuXHRcdFx0XHRcdFx0Ly8gdGhpcyB3aWxsIHJlc3VsdCBpbiBgZW5kKClgIGJlaW5nIGNhbGxlZCxcblx0XHRcdFx0XHRcdC8vIHNvIHdlIGRvbid0IG5lZWQgdG8gY2xlYW4gdXAgaGVyZVxuXHRcdFx0XHRcdFx0cnVuX2FsbChncm91cC5jKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChub3cgPj0gc3RhcnRfdGltZSkge1xuXHRcdFx0XHRcdGNvbnN0IHQgPSBlYXNpbmcoKG5vdyAtIHN0YXJ0X3RpbWUpIC8gZHVyYXRpb24pO1xuXHRcdFx0XHRcdHRpY2soMSAtIHQsIHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcnVubmluZztcblx0XHR9KTtcblx0fVxuXG5cdGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG5cdFx0d2FpdCgpLnRoZW4oKCkgPT4ge1xuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Y29uZmlnID0gY29uZmlnKG9wdGlvbnMpO1xuXHRcdFx0Z28oKTtcblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHRnbygpO1xuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRlbmQocmVzZXQpIHtcblx0XHRcdGlmIChyZXNldCAmJiAnaW5lcnQnIGluIG5vZGUpIHtcblx0XHRcdFx0bm9kZS5pbmVydCA9IG9yaWdpbmFsX2luZXJ0X3ZhbHVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHJlc2V0ICYmIGNvbmZpZy50aWNrKSB7XG5cdFx0XHRcdGNvbmZpZy50aWNrKDEsIDApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHJ1bm5pbmcpIHtcblx0XHRcdFx0aWYgKGFuaW1hdGlvbl9uYW1lKSBkZWxldGVfcnVsZShub2RlLCBhbmltYXRpb25fbmFtZSk7XG5cdFx0XHRcdHJ1bm5pbmcgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBub2RlXG4gKiBAcGFyYW0ge1RyYW5zaXRpb25Gbn0gZm5cbiAqIEBwYXJhbSB7YW55fSBwYXJhbXNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW50cm9cbiAqIEByZXR1cm5zIHt7IHJ1bihiOiAwIHwgMSk6IHZvaWQ7IGVuZCgpOiB2b2lkOyB9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2JpZGlyZWN0aW9uYWxfdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zLCBpbnRybykge1xuXHQvKipcblx0ICogQHR5cGUge1RyYW5zaXRpb25PcHRpb25zfSAqL1xuXHRjb25zdCBvcHRpb25zID0geyBkaXJlY3Rpb246ICdib3RoJyB9O1xuXHRsZXQgY29uZmlnID0gZm4obm9kZSwgcGFyYW1zLCBvcHRpb25zKTtcblx0bGV0IHQgPSBpbnRybyA/IDAgOiAxO1xuXG5cdC8qKlxuXHQgKiBAdHlwZSB7UHJvZ3JhbSB8IG51bGx9ICovXG5cdGxldCBydW5uaW5nX3Byb2dyYW0gPSBudWxsO1xuXG5cdC8qKlxuXHQgKiBAdHlwZSB7UGVuZGluZ1Byb2dyYW0gfCBudWxsfSAqL1xuXHRsZXQgcGVuZGluZ19wcm9ncmFtID0gbnVsbDtcblx0bGV0IGFuaW1hdGlvbl9uYW1lID0gbnVsbDtcblxuXHQvKiogQHR5cGUge2Jvb2xlYW59ICovXG5cdGxldCBvcmlnaW5hbF9pbmVydF92YWx1ZTtcblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIGNsZWFyX2FuaW1hdGlvbigpIHtcblx0XHRpZiAoYW5pbWF0aW9uX25hbWUpIGRlbGV0ZV9ydWxlKG5vZGUsIGFuaW1hdGlvbl9uYW1lKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge1BlbmRpbmdQcm9ncmFtfSBwcm9ncmFtXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvblxuXHQgKiBAcmV0dXJucyB7UHJvZ3JhbX1cblx0ICovXG5cdGZ1bmN0aW9uIGluaXQocHJvZ3JhbSwgZHVyYXRpb24pIHtcblx0XHRjb25zdCBkID0gLyoqIEB0eXBlIHtQcm9ncmFtWydkJ119ICovIChwcm9ncmFtLmIgLSB0KTtcblx0XHRkdXJhdGlvbiAqPSBNYXRoLmFicyhkKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0YTogdCxcblx0XHRcdGI6IHByb2dyYW0uYixcblx0XHRcdGQsXG5cdFx0XHRkdXJhdGlvbixcblx0XHRcdHN0YXJ0OiBwcm9ncmFtLnN0YXJ0LFxuXHRcdFx0ZW5kOiBwcm9ncmFtLnN0YXJ0ICsgZHVyYXRpb24sXG5cdFx0XHRncm91cDogcHJvZ3JhbS5ncm91cFxuXHRcdH07XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtJTlRSTyB8IE9VVFJPfSBiXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0ZnVuY3Rpb24gZ28oYikge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRlbGF5ID0gMCxcblx0XHRcdGR1cmF0aW9uID0gMzAwLFxuXHRcdFx0ZWFzaW5nID0gbGluZWFyLFxuXHRcdFx0dGljayA9IG5vb3AsXG5cdFx0XHRjc3Ncblx0XHR9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcblxuXHRcdC8qKlxuXHRcdCAqIEB0eXBlIHtQZW5kaW5nUHJvZ3JhbX0gKi9cblx0XHRjb25zdCBwcm9ncmFtID0ge1xuXHRcdFx0c3RhcnQ6IG5vdygpICsgZGVsYXksXG5cdFx0XHRiXG5cdFx0fTtcblxuXHRcdGlmICghYikge1xuXHRcdFx0Ly8gQHRzLWlnbm9yZSB0b2RvOiBpbXByb3ZlIHR5cGluZ3Ncblx0XHRcdHByb2dyYW0uZ3JvdXAgPSBvdXRyb3M7XG5cdFx0XHRvdXRyb3MuciArPSAxO1xuXHRcdH1cblxuXHRcdGlmICgnaW5lcnQnIGluIG5vZGUpIHtcblx0XHRcdGlmIChiKSB7XG5cdFx0XHRcdGlmIChvcmlnaW5hbF9pbmVydF92YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Ly8gYWJvcnRlZC9yZXZlcnNlZCBvdXRybyDigJQgcmVzdG9yZSBwcmV2aW91cyBpbmVydCB2YWx1ZVxuXHRcdFx0XHRcdG5vZGUuaW5lcnQgPSBvcmlnaW5hbF9pbmVydF92YWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b3JpZ2luYWxfaW5lcnRfdmFsdWUgPSAvKiogQHR5cGUge0hUTUxFbGVtZW50fSAqLyAobm9kZSkuaW5lcnQ7XG5cdFx0XHRcdG5vZGUuaW5lcnQgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChydW5uaW5nX3Byb2dyYW0gfHwgcGVuZGluZ19wcm9ncmFtKSB7XG5cdFx0XHRwZW5kaW5nX3Byb2dyYW0gPSBwcm9ncmFtO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBpZiB0aGlzIGlzIGFuIGludHJvLCBhbmQgdGhlcmUncyBhIGRlbGF5LCB3ZSBuZWVkIHRvIGRvXG5cdFx0XHQvLyBhbiBpbml0aWFsIHRpY2sgYW5kL29yIGFwcGx5IENTUyBhbmltYXRpb24gaW1tZWRpYXRlbHlcblx0XHRcdGlmIChjc3MpIHtcblx0XHRcdFx0Y2xlYXJfYW5pbWF0aW9uKCk7XG5cdFx0XHRcdGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgdCwgYiwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoYikgdGljaygwLCAxKTtcblx0XHRcdHJ1bm5pbmdfcHJvZ3JhbSA9IGluaXQocHJvZ3JhbSwgZHVyYXRpb24pO1xuXHRcdFx0YWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCBiLCAnc3RhcnQnKSk7XG5cdFx0XHRsb29wKChub3cpID0+IHtcblx0XHRcdFx0aWYgKHBlbmRpbmdfcHJvZ3JhbSAmJiBub3cgPiBwZW5kaW5nX3Byb2dyYW0uc3RhcnQpIHtcblx0XHRcdFx0XHRydW5uaW5nX3Byb2dyYW0gPSBpbml0KHBlbmRpbmdfcHJvZ3JhbSwgZHVyYXRpb24pO1xuXHRcdFx0XHRcdHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG5cdFx0XHRcdFx0ZGlzcGF0Y2gobm9kZSwgcnVubmluZ19wcm9ncmFtLmIsICdzdGFydCcpO1xuXHRcdFx0XHRcdGlmIChjc3MpIHtcblx0XHRcdFx0XHRcdGNsZWFyX2FuaW1hdGlvbigpO1xuXHRcdFx0XHRcdFx0YW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShcblx0XHRcdFx0XHRcdFx0bm9kZSxcblx0XHRcdFx0XHRcdFx0dCxcblx0XHRcdFx0XHRcdFx0cnVubmluZ19wcm9ncmFtLmIsXG5cdFx0XHRcdFx0XHRcdHJ1bm5pbmdfcHJvZ3JhbS5kdXJhdGlvbixcblx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0ZWFzaW5nLFxuXHRcdFx0XHRcdFx0XHRjb25maWcuY3NzXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAocnVubmluZ19wcm9ncmFtKSB7XG5cdFx0XHRcdFx0aWYgKG5vdyA+PSBydW5uaW5nX3Byb2dyYW0uZW5kKSB7XG5cdFx0XHRcdFx0XHR0aWNrKCh0ID0gcnVubmluZ19wcm9ncmFtLmIpLCAxIC0gdCk7XG5cdFx0XHRcdFx0XHRkaXNwYXRjaChub2RlLCBydW5uaW5nX3Byb2dyYW0uYiwgJ2VuZCcpO1xuXHRcdFx0XHRcdFx0aWYgKCFwZW5kaW5nX3Byb2dyYW0pIHtcblx0XHRcdFx0XHRcdFx0Ly8gd2UncmUgZG9uZVxuXHRcdFx0XHRcdFx0XHRpZiAocnVubmluZ19wcm9ncmFtLmIpIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBpbnRybyDigJQgd2UgY2FuIHRpZHkgdXAgaW1tZWRpYXRlbHlcblx0XHRcdFx0XHRcdFx0XHRjbGVhcl9hbmltYXRpb24oKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBvdXRybyDigJQgbmVlZHMgdG8gYmUgY29vcmRpbmF0ZWRcblx0XHRcdFx0XHRcdFx0XHRpZiAoIS0tcnVubmluZ19wcm9ncmFtLmdyb3VwLnIpIHJ1bl9hbGwocnVubmluZ19wcm9ncmFtLmdyb3VwLmMpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRydW5uaW5nX3Byb2dyYW0gPSBudWxsO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAobm93ID49IHJ1bm5pbmdfcHJvZ3JhbS5zdGFydCkge1xuXHRcdFx0XHRcdFx0Y29uc3QgcCA9IG5vdyAtIHJ1bm5pbmdfcHJvZ3JhbS5zdGFydDtcblx0XHRcdFx0XHRcdHQgPSBydW5uaW5nX3Byb2dyYW0uYSArIHJ1bm5pbmdfcHJvZ3JhbS5kICogZWFzaW5nKHAgLyBydW5uaW5nX3Byb2dyYW0uZHVyYXRpb24pO1xuXHRcdFx0XHRcdFx0dGljayh0LCAxIC0gdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiAhIShydW5uaW5nX3Byb2dyYW0gfHwgcGVuZGluZ19wcm9ncmFtKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4ge1xuXHRcdHJ1bihiKSB7XG5cdFx0XHRpZiAoaXNfZnVuY3Rpb24oY29uZmlnKSkge1xuXHRcdFx0XHR3YWl0KCkudGhlbigoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3Qgb3B0cyA9IHsgZGlyZWN0aW9uOiBiID8gJ2luJyA6ICdvdXQnIH07XG5cdFx0XHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0XHRcdGNvbmZpZyA9IGNvbmZpZyhvcHRzKTtcblx0XHRcdFx0XHRnbyhiKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRnbyhiKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGVuZCgpIHtcblx0XHRcdGNsZWFyX2FuaW1hdGlvbigpO1xuXHRcdFx0cnVubmluZ19wcm9ncmFtID0gcGVuZGluZ19wcm9ncmFtID0gbnVsbDtcblx0XHR9XG5cdH07XG59XG5cbi8qKiBAdHlwZWRlZiB7MX0gSU5UUk8gKi9cbi8qKiBAdHlwZWRlZiB7MH0gT1VUUk8gKi9cbi8qKiBAdHlwZWRlZiB7eyBkaXJlY3Rpb246ICdpbicgfCAnb3V0JyB8ICdib3RoJyB9fSBUcmFuc2l0aW9uT3B0aW9ucyAqL1xuLyoqIEB0eXBlZGVmIHsobm9kZTogRWxlbWVudCwgcGFyYW1zOiBhbnksIG9wdGlvbnM6IFRyYW5zaXRpb25PcHRpb25zKSA9PiBpbXBvcnQoJy4uL3RyYW5zaXRpb24vcHVibGljLmpzJykuVHJhbnNpdGlvbkNvbmZpZ30gVHJhbnNpdGlvbkZuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3V0cm9cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByXG4gKiBAcHJvcGVydHkge0Z1bmN0aW9uW119IGNcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBwXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBQZW5kaW5nUHJvZ3JhbVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHN0YXJ0XG4gKiBAcHJvcGVydHkge0lOVFJPfE9VVFJPfSBiXG4gKiBAcHJvcGVydHkge091dHJvfSBbZ3JvdXBdXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBQcm9ncmFtXG4gKiBAcHJvcGVydHkge251bWJlcn0gYVxuICogQHByb3BlcnR5IHtJTlRST3xPVVRST30gYlxuICogQHByb3BlcnR5IHsxfC0xfSBkXG4gKiBAcHJvcGVydHkge251bWJlcn0gZHVyYXRpb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzdGFydFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGVuZFxuICogQHByb3BlcnR5IHtPdXRyb30gW2dyb3VwXVxuICovXG4iLCJpbXBvcnQgeyB0cmFuc2l0aW9uX2luLCB0cmFuc2l0aW9uX291dCB9IGZyb20gJy4vdHJhbnNpdGlvbnMuanMnO1xuaW1wb3J0IHsgcnVuX2FsbCB9IGZyb20gJy4vdXRpbHMuanMnO1xuXG4vLyBnZW5lcmFsIGVhY2ggZnVuY3Rpb25zOlxuXG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlX2FycmF5X2xpa2UoYXJyYXlfbGlrZV9vcl9pdGVyYXRvcikge1xuXHRyZXR1cm4gYXJyYXlfbGlrZV9vcl9pdGVyYXRvcj8ubGVuZ3RoICE9PSB1bmRlZmluZWRcblx0XHQ/IGFycmF5X2xpa2Vfb3JfaXRlcmF0b3Jcblx0XHQ6IEFycmF5LmZyb20oYXJyYXlfbGlrZV9vcl9pdGVyYXRvcik7XG59XG5cbi8vIGtleWVkIGVhY2ggZnVuY3Rpb25zOlxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG5cdGJsb2NrLmQoMSk7XG5cdGxvb2t1cC5kZWxldGUoYmxvY2sua2V5KTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcblx0dHJhbnNpdGlvbl9vdXQoYmxvY2ssIDEsIDEsICgpID0+IHtcblx0XHRsb29rdXAuZGVsZXRlKGJsb2NrLmtleSk7XG5cdH0pO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZml4X2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcblx0YmxvY2suZigpO1xuXHRkZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZml4X2FuZF9vdXRyb19hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG5cdGJsb2NrLmYoKTtcblx0b3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCk7XG59XG5cbi8qKiBAcmV0dXJucyB7YW55W119ICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlX2tleWVkX2VhY2goXG5cdG9sZF9ibG9ja3MsXG5cdGRpcnR5LFxuXHRnZXRfa2V5LFxuXHRkeW5hbWljLFxuXHRjdHgsXG5cdGxpc3QsXG5cdGxvb2t1cCxcblx0bm9kZSxcblx0ZGVzdHJveSxcblx0Y3JlYXRlX2VhY2hfYmxvY2ssXG5cdG5leHQsXG5cdGdldF9jb250ZXh0XG4pIHtcblx0bGV0IG8gPSBvbGRfYmxvY2tzLmxlbmd0aDtcblx0bGV0IG4gPSBsaXN0Lmxlbmd0aDtcblx0bGV0IGkgPSBvO1xuXHRjb25zdCBvbGRfaW5kZXhlcyA9IHt9O1xuXHR3aGlsZSAoaS0tKSBvbGRfaW5kZXhlc1tvbGRfYmxvY2tzW2ldLmtleV0gPSBpO1xuXHRjb25zdCBuZXdfYmxvY2tzID0gW107XG5cdGNvbnN0IG5ld19sb29rdXAgPSBuZXcgTWFwKCk7XG5cdGNvbnN0IGRlbHRhcyA9IG5ldyBNYXAoKTtcblx0Y29uc3QgdXBkYXRlcyA9IFtdO1xuXHRpID0gbjtcblx0d2hpbGUgKGktLSkge1xuXHRcdGNvbnN0IGNoaWxkX2N0eCA9IGdldF9jb250ZXh0KGN0eCwgbGlzdCwgaSk7XG5cdFx0Y29uc3Qga2V5ID0gZ2V0X2tleShjaGlsZF9jdHgpO1xuXHRcdGxldCBibG9jayA9IGxvb2t1cC5nZXQoa2V5KTtcblx0XHRpZiAoIWJsb2NrKSB7XG5cdFx0XHRibG9jayA9IGNyZWF0ZV9lYWNoX2Jsb2NrKGtleSwgY2hpbGRfY3R4KTtcblx0XHRcdGJsb2NrLmMoKTtcblx0XHR9IGVsc2UgaWYgKGR5bmFtaWMpIHtcblx0XHRcdC8vIGRlZmVyIHVwZGF0ZXMgdW50aWwgYWxsIHRoZSBET00gc2h1ZmZsaW5nIGlzIGRvbmVcblx0XHRcdHVwZGF0ZXMucHVzaCgoKSA9PiBibG9jay5wKGNoaWxkX2N0eCwgZGlydHkpKTtcblx0XHR9XG5cdFx0bmV3X2xvb2t1cC5zZXQoa2V5LCAobmV3X2Jsb2Nrc1tpXSA9IGJsb2NrKSk7XG5cdFx0aWYgKGtleSBpbiBvbGRfaW5kZXhlcykgZGVsdGFzLnNldChrZXksIE1hdGguYWJzKGkgLSBvbGRfaW5kZXhlc1trZXldKSk7XG5cdH1cblx0Y29uc3Qgd2lsbF9tb3ZlID0gbmV3IFNldCgpO1xuXHRjb25zdCBkaWRfbW92ZSA9IG5ldyBTZXQoKTtcblx0LyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiBpbnNlcnQoYmxvY2spIHtcblx0XHR0cmFuc2l0aW9uX2luKGJsb2NrLCAxKTtcblx0XHRibG9jay5tKG5vZGUsIG5leHQpO1xuXHRcdGxvb2t1cC5zZXQoYmxvY2sua2V5LCBibG9jayk7XG5cdFx0bmV4dCA9IGJsb2NrLmZpcnN0O1xuXHRcdG4tLTtcblx0fVxuXHR3aGlsZSAobyAmJiBuKSB7XG5cdFx0Y29uc3QgbmV3X2Jsb2NrID0gbmV3X2Jsb2Nrc1tuIC0gMV07XG5cdFx0Y29uc3Qgb2xkX2Jsb2NrID0gb2xkX2Jsb2Nrc1tvIC0gMV07XG5cdFx0Y29uc3QgbmV3X2tleSA9IG5ld19ibG9jay5rZXk7XG5cdFx0Y29uc3Qgb2xkX2tleSA9IG9sZF9ibG9jay5rZXk7XG5cdFx0aWYgKG5ld19ibG9jayA9PT0gb2xkX2Jsb2NrKSB7XG5cdFx0XHQvLyBkbyBub3RoaW5nXG5cdFx0XHRuZXh0ID0gbmV3X2Jsb2NrLmZpcnN0O1xuXHRcdFx0by0tO1xuXHRcdFx0bi0tO1xuXHRcdH0gZWxzZSBpZiAoIW5ld19sb29rdXAuaGFzKG9sZF9rZXkpKSB7XG5cdFx0XHQvLyByZW1vdmUgb2xkIGJsb2NrXG5cdFx0XHRkZXN0cm95KG9sZF9ibG9jaywgbG9va3VwKTtcblx0XHRcdG8tLTtcblx0XHR9IGVsc2UgaWYgKCFsb29rdXAuaGFzKG5ld19rZXkpIHx8IHdpbGxfbW92ZS5oYXMobmV3X2tleSkpIHtcblx0XHRcdGluc2VydChuZXdfYmxvY2spO1xuXHRcdH0gZWxzZSBpZiAoZGlkX21vdmUuaGFzKG9sZF9rZXkpKSB7XG5cdFx0XHRvLS07XG5cdFx0fSBlbHNlIGlmIChkZWx0YXMuZ2V0KG5ld19rZXkpID4gZGVsdGFzLmdldChvbGRfa2V5KSkge1xuXHRcdFx0ZGlkX21vdmUuYWRkKG5ld19rZXkpO1xuXHRcdFx0aW5zZXJ0KG5ld19ibG9jayk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHdpbGxfbW92ZS5hZGQob2xkX2tleSk7XG5cdFx0XHRvLS07XG5cdFx0fVxuXHR9XG5cdHdoaWxlIChvLS0pIHtcblx0XHRjb25zdCBvbGRfYmxvY2sgPSBvbGRfYmxvY2tzW29dO1xuXHRcdGlmICghbmV3X2xvb2t1cC5oYXMob2xkX2Jsb2NrLmtleSkpIGRlc3Ryb3kob2xkX2Jsb2NrLCBsb29rdXApO1xuXHR9XG5cdHdoaWxlIChuKSBpbnNlcnQobmV3X2Jsb2Nrc1tuIC0gMV0pO1xuXHRydW5fYWxsKHVwZGF0ZXMpO1xuXHRyZXR1cm4gbmV3X2Jsb2Nrcztcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlX2VhY2hfa2V5cyhjdHgsIGxpc3QsIGdldF9jb250ZXh0LCBnZXRfa2V5KSB7XG5cdGNvbnN0IGtleXMgPSBuZXcgTWFwKCk7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdGNvbnN0IGtleSA9IGdldF9rZXkoZ2V0X2NvbnRleHQoY3R4LCBsaXN0LCBpKSk7XG5cdFx0aWYgKGtleXMuaGFzKGtleSkpIHtcblx0XHRcdGxldCB2YWx1ZSA9ICcnO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dmFsdWUgPSBgd2l0aCB2YWx1ZSAnJHtTdHJpbmcoa2V5KX0nIGA7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdC8vIGNhbid0IHN0cmluZ2lmeVxuXHRcdFx0fVxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRgQ2Fubm90IGhhdmUgZHVwbGljYXRlIGtleXMgaW4gYSBrZXllZCBlYWNoOiBLZXlzIGF0IGluZGV4ICR7a2V5cy5nZXQoXG5cdFx0XHRcdFx0a2V5XG5cdFx0XHRcdCl9IGFuZCAke2l9ICR7dmFsdWV9YXJlIGR1cGxpY2F0ZXNgXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRrZXlzLnNldChrZXksIGkpO1xuXHR9XG59XG4iLCJpbXBvcnQge1xuXHRhZGRfcmVuZGVyX2NhbGxiYWNrLFxuXHRmbHVzaCxcblx0Zmx1c2hfcmVuZGVyX2NhbGxiYWNrcyxcblx0c2NoZWR1bGVfdXBkYXRlLFxuXHRkaXJ0eV9jb21wb25lbnRzXG59IGZyb20gJy4vc2NoZWR1bGVyLmpzJztcbmltcG9ydCB7IGN1cnJlbnRfY29tcG9uZW50LCBzZXRfY3VycmVudF9jb21wb25lbnQgfSBmcm9tICcuL2xpZmVjeWNsZS5qcyc7XG5pbXBvcnQgeyBibGFua19vYmplY3QsIGlzX2VtcHR5LCBpc19mdW5jdGlvbiwgcnVuLCBydW5fYWxsLCBub29wIH0gZnJvbSAnLi91dGlscy5qcyc7XG5pbXBvcnQge1xuXHRjaGlsZHJlbixcblx0ZGV0YWNoLFxuXHRzdGFydF9oeWRyYXRpbmcsXG5cdGVuZF9oeWRyYXRpbmcsXG5cdGdldF9jdXN0b21fZWxlbWVudHNfc2xvdHMsXG5cdGluc2VydCxcblx0ZWxlbWVudCxcblx0YXR0clxufSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyB0cmFuc2l0aW9uX2luIH0gZnJvbSAnLi90cmFuc2l0aW9ucy5qcyc7XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBiaW5kKGNvbXBvbmVudCwgbmFtZSwgY2FsbGJhY2spIHtcblx0Y29uc3QgaW5kZXggPSBjb21wb25lbnQuJCQucHJvcHNbbmFtZV07XG5cdGlmIChpbmRleCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0Y29tcG9uZW50LiQkLmJvdW5kW2luZGV4XSA9IGNhbGxiYWNrO1xuXHRcdGNhbGxiYWNrKGNvbXBvbmVudC4kJC5jdHhbaW5kZXhdKTtcblx0fVxufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2NvbXBvbmVudChibG9jaykge1xuXHRibG9jayAmJiBibG9jay5jKCk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFpbV9jb21wb25lbnQoYmxvY2ssIHBhcmVudF9ub2Rlcykge1xuXHRibG9jayAmJiBibG9jay5sKHBhcmVudF9ub2Rlcyk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBtb3VudF9jb21wb25lbnQoY29tcG9uZW50LCB0YXJnZXQsIGFuY2hvcikge1xuXHRjb25zdCB7IGZyYWdtZW50LCBhZnRlcl91cGRhdGUgfSA9IGNvbXBvbmVudC4kJDtcblx0ZnJhZ21lbnQgJiYgZnJhZ21lbnQubSh0YXJnZXQsIGFuY2hvcik7XG5cdC8vIG9uTW91bnQgaGFwcGVucyBiZWZvcmUgdGhlIGluaXRpYWwgYWZ0ZXJVcGRhdGVcblx0YWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiB7XG5cdFx0Y29uc3QgbmV3X29uX2Rlc3Ryb3kgPSBjb21wb25lbnQuJCQub25fbW91bnQubWFwKHJ1bikuZmlsdGVyKGlzX2Z1bmN0aW9uKTtcblx0XHQvLyBpZiB0aGUgY29tcG9uZW50IHdhcyBkZXN0cm95ZWQgaW1tZWRpYXRlbHlcblx0XHQvLyBpdCB3aWxsIHVwZGF0ZSB0aGUgYCQkLm9uX2Rlc3Ryb3lgIHJlZmVyZW5jZSB0byBgbnVsbGAuXG5cdFx0Ly8gdGhlIGRlc3RydWN0dXJlZCBvbl9kZXN0cm95IG1heSBzdGlsbCByZWZlcmVuY2UgdG8gdGhlIG9sZCBhcnJheVxuXHRcdGlmIChjb21wb25lbnQuJCQub25fZGVzdHJveSkge1xuXHRcdFx0Y29tcG9uZW50LiQkLm9uX2Rlc3Ryb3kucHVzaCguLi5uZXdfb25fZGVzdHJveSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIEVkZ2UgY2FzZSAtIGNvbXBvbmVudCB3YXMgZGVzdHJveWVkIGltbWVkaWF0ZWx5LFxuXHRcdFx0Ly8gbW9zdCBsaWtlbHkgYXMgYSByZXN1bHQgb2YgYSBiaW5kaW5nIGluaXRpYWxpc2luZ1xuXHRcdFx0cnVuX2FsbChuZXdfb25fZGVzdHJveSk7XG5cdFx0fVxuXHRcdGNvbXBvbmVudC4kJC5vbl9tb3VudCA9IFtdO1xuXHR9KTtcblx0YWZ0ZXJfdXBkYXRlLmZvckVhY2goYWRkX3JlbmRlcl9jYWxsYmFjayk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXN0cm95X2NvbXBvbmVudChjb21wb25lbnQsIGRldGFjaGluZykge1xuXHRjb25zdCAkJCA9IGNvbXBvbmVudC4kJDtcblx0aWYgKCQkLmZyYWdtZW50ICE9PSBudWxsKSB7XG5cdFx0Zmx1c2hfcmVuZGVyX2NhbGxiYWNrcygkJC5hZnRlcl91cGRhdGUpO1xuXHRcdHJ1bl9hbGwoJCQub25fZGVzdHJveSk7XG5cdFx0JCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQuZChkZXRhY2hpbmcpO1xuXHRcdC8vIFRPRE8gbnVsbCBvdXQgb3RoZXIgcmVmcywgaW5jbHVkaW5nIGNvbXBvbmVudC4kJCAoYnV0IG5lZWQgdG9cblx0XHQvLyBwcmVzZXJ2ZSBmaW5hbCBzdGF0ZT8pXG5cdFx0JCQub25fZGVzdHJveSA9ICQkLmZyYWdtZW50ID0gbnVsbDtcblx0XHQkJC5jdHggPSBbXTtcblx0fVxufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5mdW5jdGlvbiBtYWtlX2RpcnR5KGNvbXBvbmVudCwgaSkge1xuXHRpZiAoY29tcG9uZW50LiQkLmRpcnR5WzBdID09PSAtMSkge1xuXHRcdGRpcnR5X2NvbXBvbmVudHMucHVzaChjb21wb25lbnQpO1xuXHRcdHNjaGVkdWxlX3VwZGF0ZSgpO1xuXHRcdGNvbXBvbmVudC4kJC5kaXJ0eS5maWxsKDApO1xuXHR9XG5cdGNvbXBvbmVudC4kJC5kaXJ0eVsoaSAvIDMxKSB8IDBdIHw9IDEgPDwgaSAlIDMxO1xufVxuXG4vLyBUT0RPOiBEb2N1bWVudCB0aGUgb3RoZXIgcGFyYW1zXG4vKipcbiAqIEBwYXJhbSB7U3ZlbHRlQ29tcG9uZW50fSBjb21wb25lbnRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLkNvbXBvbmVudENvbnN0cnVjdG9yT3B0aW9uc30gb3B0aW9uc1xuICpcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3V0aWxzLmpzJylbJ25vdF9lcXVhbCddfSBub3RfZXF1YWwgVXNlZCB0byBjb21wYXJlIHByb3BzIGFuZCBzdGF0ZSB2YWx1ZXMuXG4gKiBAcGFyYW0geyh0YXJnZXQ6IEVsZW1lbnQgfCBTaGFkb3dSb290KSA9PiB2b2lkfSBbYXBwZW5kX3N0eWxlc10gRnVuY3Rpb24gdGhhdCBhcHBlbmRzIHN0eWxlcyB0byB0aGUgRE9NIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBmaXJzdCBpbml0aWFsaXNlZC5cbiAqIFRoaXMgd2lsbCBiZSB0aGUgYGFkZF9jc3NgIGZ1bmN0aW9uIGZyb20gdGhlIGNvbXBpbGVkIGNvbXBvbmVudC5cbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXQoXG5cdGNvbXBvbmVudCxcblx0b3B0aW9ucyxcblx0aW5zdGFuY2UsXG5cdGNyZWF0ZV9mcmFnbWVudCxcblx0bm90X2VxdWFsLFxuXHRwcm9wcyxcblx0YXBwZW5kX3N0eWxlcyA9IG51bGwsXG5cdGRpcnR5ID0gWy0xXVxuKSB7XG5cdGNvbnN0IHBhcmVudF9jb21wb25lbnQgPSBjdXJyZW50X2NvbXBvbmVudDtcblx0c2V0X2N1cnJlbnRfY29tcG9uZW50KGNvbXBvbmVudCk7XG5cdC8qKiBAdHlwZSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5UJCR9ICovXG5cdGNvbnN0ICQkID0gKGNvbXBvbmVudC4kJCA9IHtcblx0XHRmcmFnbWVudDogbnVsbCxcblx0XHRjdHg6IFtdLFxuXHRcdC8vIHN0YXRlXG5cdFx0cHJvcHMsXG5cdFx0dXBkYXRlOiBub29wLFxuXHRcdG5vdF9lcXVhbCxcblx0XHRib3VuZDogYmxhbmtfb2JqZWN0KCksXG5cdFx0Ly8gbGlmZWN5Y2xlXG5cdFx0b25fbW91bnQ6IFtdLFxuXHRcdG9uX2Rlc3Ryb3k6IFtdLFxuXHRcdG9uX2Rpc2Nvbm5lY3Q6IFtdLFxuXHRcdGJlZm9yZV91cGRhdGU6IFtdLFxuXHRcdGFmdGVyX3VwZGF0ZTogW10sXG5cdFx0Y29udGV4dDogbmV3IE1hcChvcHRpb25zLmNvbnRleHQgfHwgKHBhcmVudF9jb21wb25lbnQgPyBwYXJlbnRfY29tcG9uZW50LiQkLmNvbnRleHQgOiBbXSkpLFxuXHRcdC8vIGV2ZXJ5dGhpbmcgZWxzZVxuXHRcdGNhbGxiYWNrczogYmxhbmtfb2JqZWN0KCksXG5cdFx0ZGlydHksXG5cdFx0c2tpcF9ib3VuZDogZmFsc2UsXG5cdFx0cm9vdDogb3B0aW9ucy50YXJnZXQgfHwgcGFyZW50X2NvbXBvbmVudC4kJC5yb290XG5cdH0pO1xuXHRhcHBlbmRfc3R5bGVzICYmIGFwcGVuZF9zdHlsZXMoJCQucm9vdCk7XG5cdGxldCByZWFkeSA9IGZhbHNlO1xuXHQkJC5jdHggPSBpbnN0YW5jZVxuXHRcdD8gaW5zdGFuY2UoY29tcG9uZW50LCBvcHRpb25zLnByb3BzIHx8IHt9LCAoaSwgcmV0LCAuLi5yZXN0KSA9PiB7XG5cdFx0XHRcdGNvbnN0IHZhbHVlID0gcmVzdC5sZW5ndGggPyByZXN0WzBdIDogcmV0O1xuXHRcdFx0XHRpZiAoJCQuY3R4ICYmIG5vdF9lcXVhbCgkJC5jdHhbaV0sICgkJC5jdHhbaV0gPSB2YWx1ZSkpKSB7XG5cdFx0XHRcdFx0aWYgKCEkJC5za2lwX2JvdW5kICYmICQkLmJvdW5kW2ldKSAkJC5ib3VuZFtpXSh2YWx1ZSk7XG5cdFx0XHRcdFx0aWYgKHJlYWR5KSBtYWtlX2RpcnR5KGNvbXBvbmVudCwgaSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHQgIH0pXG5cdFx0OiBbXTtcblx0JCQudXBkYXRlKCk7XG5cdHJlYWR5ID0gdHJ1ZTtcblx0cnVuX2FsbCgkJC5iZWZvcmVfdXBkYXRlKTtcblx0Ly8gYGZhbHNlYCBhcyBhIHNwZWNpYWwgY2FzZSBvZiBubyBET00gY29tcG9uZW50XG5cdCQkLmZyYWdtZW50ID0gY3JlYXRlX2ZyYWdtZW50ID8gY3JlYXRlX2ZyYWdtZW50KCQkLmN0eCkgOiBmYWxzZTtcblx0aWYgKG9wdGlvbnMudGFyZ2V0KSB7XG5cdFx0aWYgKG9wdGlvbnMuaHlkcmF0ZSkge1xuXHRcdFx0c3RhcnRfaHlkcmF0aW5nKCk7XG5cdFx0XHQvLyBUT0RPOiB3aGF0IGlzIHRoZSBjb3JyZWN0IHR5cGUgaGVyZT9cblx0XHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRcdGNvbnN0IG5vZGVzID0gY2hpbGRyZW4ob3B0aW9ucy50YXJnZXQpO1xuXHRcdFx0JCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQubChub2Rlcyk7XG5cdFx0XHRub2Rlcy5mb3JFYWNoKGRldGFjaCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG5cdFx0XHQkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5jKCk7XG5cdFx0fVxuXHRcdGlmIChvcHRpb25zLmludHJvKSB0cmFuc2l0aW9uX2luKGNvbXBvbmVudC4kJC5mcmFnbWVudCk7XG5cdFx0bW91bnRfY29tcG9uZW50KGNvbXBvbmVudCwgb3B0aW9ucy50YXJnZXQsIG9wdGlvbnMuYW5jaG9yKTtcblx0XHRlbmRfaHlkcmF0aW5nKCk7XG5cdFx0Zmx1c2goKTtcblx0fVxuXHRzZXRfY3VycmVudF9jb21wb25lbnQocGFyZW50X2NvbXBvbmVudCk7XG59XG5cbmV4cG9ydCBsZXQgU3ZlbHRlRWxlbWVudDtcblxuaWYgKHR5cGVvZiBIVE1MRWxlbWVudCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRTdmVsdGVFbGVtZW50ID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG5cdFx0LyoqIFRoZSBTdmVsdGUgY29tcG9uZW50IGNvbnN0cnVjdG9yICovXG5cdFx0JCRjdG9yO1xuXHRcdC8qKiBTbG90cyAqL1xuXHRcdCQkcztcblx0XHQvKiogVGhlIFN2ZWx0ZSBjb21wb25lbnQgaW5zdGFuY2UgKi9cblx0XHQkJGM7XG5cdFx0LyoqIFdoZXRoZXIgb3Igbm90IHRoZSBjdXN0b20gZWxlbWVudCBpcyBjb25uZWN0ZWQgKi9cblx0XHQkJGNuID0gZmFsc2U7XG5cdFx0LyoqIENvbXBvbmVudCBwcm9wcyBkYXRhICovXG5cdFx0JCRkID0ge307XG5cdFx0LyoqIGB0cnVlYCBpZiBjdXJyZW50bHkgaW4gdGhlIHByb2Nlc3Mgb2YgcmVmbGVjdGluZyBjb21wb25lbnQgcHJvcHMgYmFjayB0byBhdHRyaWJ1dGVzICovXG5cdFx0JCRyID0gZmFsc2U7XG5cdFx0LyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nLCBDdXN0b21FbGVtZW50UHJvcERlZmluaXRpb24+fSBQcm9wcyBkZWZpbml0aW9uIChuYW1lLCByZWZsZWN0ZWQsIHR5cGUgZXRjKSAqL1xuXHRcdCQkcF9kID0ge307XG5cdFx0LyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nLCBGdW5jdGlvbltdPn0gRXZlbnQgbGlzdGVuZXJzICovXG5cdFx0JCRsID0ge307XG5cdFx0LyoqIEB0eXBlIHtNYXA8RnVuY3Rpb24sIEZ1bmN0aW9uPn0gRXZlbnQgbGlzdGVuZXIgdW5zdWJzY3JpYmUgZnVuY3Rpb25zICovXG5cdFx0JCRsX3UgPSBuZXcgTWFwKCk7XG5cblx0XHRjb25zdHJ1Y3RvcigkJGNvbXBvbmVudEN0b3IsICQkc2xvdHMsIHVzZV9zaGFkb3dfZG9tKSB7XG5cdFx0XHRzdXBlcigpO1xuXHRcdFx0dGhpcy4kJGN0b3IgPSAkJGNvbXBvbmVudEN0b3I7XG5cdFx0XHR0aGlzLiQkcyA9ICQkc2xvdHM7XG5cdFx0XHRpZiAodXNlX3NoYWRvd19kb20pIHtcblx0XHRcdFx0dGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiAnb3BlbicgfSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0YWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuXHRcdFx0Ly8gV2UgY2FuJ3QgZGV0ZXJtaW5lIHVwZnJvbnQgaWYgdGhlIGV2ZW50IGlzIGEgY3VzdG9tIGV2ZW50IG9yIG5vdCwgc28gd2UgaGF2ZSB0b1xuXHRcdFx0Ly8gbGlzdGVuIHRvIGJvdGguIElmIHNvbWVvbmUgdXNlcyBhIGN1c3RvbSBldmVudCB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgYSByZWd1bGFyXG5cdFx0XHQvLyBicm93c2VyIGV2ZW50LCB0aGlzIGZpcmVzIHR3aWNlIC0gd2UgY2FuJ3QgYXZvaWQgdGhhdC5cblx0XHRcdHRoaXMuJCRsW3R5cGVdID0gdGhpcy4kJGxbdHlwZV0gfHwgW107XG5cdFx0XHR0aGlzLiQkbFt0eXBlXS5wdXNoKGxpc3RlbmVyKTtcblx0XHRcdGlmICh0aGlzLiQkYykge1xuXHRcdFx0XHRjb25zdCB1bnN1YiA9IHRoaXMuJCRjLiRvbih0eXBlLCBsaXN0ZW5lcik7XG5cdFx0XHRcdHRoaXMuJCRsX3Uuc2V0KGxpc3RlbmVyLCB1bnN1Yik7XG5cdFx0XHR9XG5cdFx0XHRzdXBlci5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTtcblx0XHR9XG5cblx0XHRyZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG5cdFx0XHRzdXBlci5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTtcblx0XHRcdGlmICh0aGlzLiQkYykge1xuXHRcdFx0XHRjb25zdCB1bnN1YiA9IHRoaXMuJCRsX3UuZ2V0KGxpc3RlbmVyKTtcblx0XHRcdFx0aWYgKHVuc3ViKSB7XG5cdFx0XHRcdFx0dW5zdWIoKTtcblx0XHRcdFx0XHR0aGlzLiQkbF91LmRlbGV0ZShsaXN0ZW5lcik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRhc3luYyBjb25uZWN0ZWRDYWxsYmFjaygpIHtcblx0XHRcdHRoaXMuJCRjbiA9IHRydWU7XG5cdFx0XHRpZiAoIXRoaXMuJCRjKSB7XG5cdFx0XHRcdC8vIFdlIHdhaXQgb25lIHRpY2sgdG8gbGV0IHBvc3NpYmxlIGNoaWxkIHNsb3QgZWxlbWVudHMgYmUgY3JlYXRlZC9tb3VudGVkXG5cdFx0XHRcdGF3YWl0IFByb21pc2UucmVzb2x2ZSgpO1xuXHRcdFx0XHRpZiAoIXRoaXMuJCRjbikge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHRmdW5jdGlvbiBjcmVhdGVfc2xvdChuYW1lKSB7XG5cdFx0XHRcdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdFx0XHRcdGxldCBub2RlO1xuXHRcdFx0XHRcdFx0Y29uc3Qgb2JqID0ge1xuXHRcdFx0XHRcdFx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRcdFx0XHRcdFx0bm9kZSA9IGVsZW1lbnQoJ3Nsb3QnKTtcblx0XHRcdFx0XHRcdFx0XHRpZiAobmFtZSAhPT0gJ2RlZmF1bHQnKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRhdHRyKG5vZGUsICduYW1lJywgbmFtZSk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHQvKipcblx0XHRcdFx0XHRcdFx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0XG5cdFx0XHRcdFx0XHRcdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IFthbmNob3JdXG5cdFx0XHRcdFx0XHRcdCAqL1xuXHRcdFx0XHRcdFx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0XHRcdFx0XHRcdGluc2VydCh0YXJnZXQsIG5vZGUsIGFuY2hvcik7XG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZGV0YWNoKG5vZGUpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdHJldHVybiBvYmo7XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjb25zdCAkJHNsb3RzID0ge307XG5cdFx0XHRcdGNvbnN0IGV4aXN0aW5nX3Nsb3RzID0gZ2V0X2N1c3RvbV9lbGVtZW50c19zbG90cyh0aGlzKTtcblx0XHRcdFx0Zm9yIChjb25zdCBuYW1lIG9mIHRoaXMuJCRzKSB7XG5cdFx0XHRcdFx0aWYgKG5hbWUgaW4gZXhpc3Rpbmdfc2xvdHMpIHtcblx0XHRcdFx0XHRcdCQkc2xvdHNbbmFtZV0gPSBbY3JlYXRlX3Nsb3QobmFtZSldO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiB0aGlzLmF0dHJpYnV0ZXMpIHtcblx0XHRcdFx0XHQvLyB0aGlzLiQkZGF0YSB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgdGhpcy5hdHRyaWJ1dGVzXG5cdFx0XHRcdFx0Y29uc3QgbmFtZSA9IHRoaXMuJCRnX3AoYXR0cmlidXRlLm5hbWUpO1xuXHRcdFx0XHRcdGlmICghKG5hbWUgaW4gdGhpcy4kJGQpKSB7XG5cdFx0XHRcdFx0XHR0aGlzLiQkZFtuYW1lXSA9IGdldF9jdXN0b21fZWxlbWVudF92YWx1ZShuYW1lLCBhdHRyaWJ1dGUudmFsdWUsIHRoaXMuJCRwX2QsICd0b1Byb3AnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy4kJGMgPSBuZXcgdGhpcy4kJGN0b3Ioe1xuXHRcdFx0XHRcdHRhcmdldDogdGhpcy5zaGFkb3dSb290IHx8IHRoaXMsXG5cdFx0XHRcdFx0cHJvcHM6IHtcblx0XHRcdFx0XHRcdC4uLnRoaXMuJCRkLFxuXHRcdFx0XHRcdFx0JCRzbG90cyxcblx0XHRcdFx0XHRcdCQkc2NvcGU6IHtcblx0XHRcdFx0XHRcdFx0Y3R4OiBbXVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Ly8gUmVmbGVjdCBjb21wb25lbnQgcHJvcHMgYXMgYXR0cmlidXRlc1xuXHRcdFx0XHRjb25zdCByZWZsZWN0X2F0dHJpYnV0ZXMgPSAoKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy4kJHIgPSB0cnVlO1xuXHRcdFx0XHRcdGZvciAoY29uc3Qga2V5IGluIHRoaXMuJCRwX2QpIHtcblx0XHRcdFx0XHRcdHRoaXMuJCRkW2tleV0gPSB0aGlzLiQkYy4kJC5jdHhbdGhpcy4kJGMuJCQucHJvcHNba2V5XV07XG5cdFx0XHRcdFx0XHRpZiAodGhpcy4kJHBfZFtrZXldLnJlZmxlY3QpIHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgYXR0cmlidXRlX3ZhbHVlID0gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKFxuXHRcdFx0XHRcdFx0XHRcdGtleSxcblx0XHRcdFx0XHRcdFx0XHR0aGlzLiQkZFtrZXldLFxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuJCRwX2QsXG5cdFx0XHRcdFx0XHRcdFx0J3RvQXR0cmlidXRlJ1xuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRpZiAoYXR0cmlidXRlX3ZhbHVlID09IG51bGwpIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnJlbW92ZUF0dHJpYnV0ZSh0aGlzLiQkcF9kW2tleV0uYXR0cmlidXRlIHx8IGtleSk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5zZXRBdHRyaWJ1dGUodGhpcy4kJHBfZFtrZXldLmF0dHJpYnV0ZSB8fCBrZXksIGF0dHJpYnV0ZV92YWx1ZSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dGhpcy4kJHIgPSBmYWxzZTtcblx0XHRcdFx0fTtcblx0XHRcdFx0dGhpcy4kJGMuJCQuYWZ0ZXJfdXBkYXRlLnB1c2gocmVmbGVjdF9hdHRyaWJ1dGVzKTtcblx0XHRcdFx0cmVmbGVjdF9hdHRyaWJ1dGVzKCk7IC8vIG9uY2UgaW5pdGlhbGx5IGJlY2F1c2UgYWZ0ZXJfdXBkYXRlIGlzIGFkZGVkIHRvbyBsYXRlIGZvciBmaXJzdCByZW5kZXJcblxuXHRcdFx0XHRmb3IgKGNvbnN0IHR5cGUgaW4gdGhpcy4kJGwpIHtcblx0XHRcdFx0XHRmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIHRoaXMuJCRsW3R5cGVdKSB7XG5cdFx0XHRcdFx0XHRjb25zdCB1bnN1YiA9IHRoaXMuJCRjLiRvbih0eXBlLCBsaXN0ZW5lcik7XG5cdFx0XHRcdFx0XHR0aGlzLiQkbF91LnNldChsaXN0ZW5lciwgdW5zdWIpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLiQkbCA9IHt9O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFdlIGRvbid0IG5lZWQgdGhpcyB3aGVuIHdvcmtpbmcgd2l0aGluIFN2ZWx0ZSBjb2RlLCBidXQgZm9yIGNvbXBhdGliaWxpdHkgb2YgcGVvcGxlIHVzaW5nIHRoaXMgb3V0c2lkZSBvZiBTdmVsdGVcblx0XHQvLyBhbmQgc2V0dGluZyBhdHRyaWJ1dGVzIHRocm91Z2ggc2V0QXR0cmlidXRlIGV0YywgdGhpcyBpcyBoZWxwZnVsXG5cdFx0YXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGF0dHIsIF9vbGRWYWx1ZSwgbmV3VmFsdWUpIHtcblx0XHRcdGlmICh0aGlzLiQkcikgcmV0dXJuO1xuXHRcdFx0YXR0ciA9IHRoaXMuJCRnX3AoYXR0cik7XG5cdFx0XHR0aGlzLiQkZFthdHRyXSA9IGdldF9jdXN0b21fZWxlbWVudF92YWx1ZShhdHRyLCBuZXdWYWx1ZSwgdGhpcy4kJHBfZCwgJ3RvUHJvcCcpO1xuXHRcdFx0dGhpcy4kJGM/LiRzZXQoeyBbYXR0cl06IHRoaXMuJCRkW2F0dHJdIH0pO1xuXHRcdH1cblxuXHRcdGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuXHRcdFx0dGhpcy4kJGNuID0gZmFsc2U7XG5cdFx0XHQvLyBJbiBhIG1pY3JvdGFzaywgYmVjYXVzZSB0aGlzIGNvdWxkIGJlIGEgbW92ZSB3aXRoaW4gdGhlIERPTVxuXHRcdFx0UHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG5cdFx0XHRcdGlmICghdGhpcy4kJGNuKSB7XG5cdFx0XHRcdFx0dGhpcy4kJGMuJGRlc3Ryb3koKTtcblx0XHRcdFx0XHR0aGlzLiQkYyA9IHVuZGVmaW5lZDtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0JCRnX3AoYXR0cmlidXRlX25hbWUpIHtcblx0XHRcdHJldHVybiAoXG5cdFx0XHRcdE9iamVjdC5rZXlzKHRoaXMuJCRwX2QpLmZpbmQoXG5cdFx0XHRcdFx0KGtleSkgPT5cblx0XHRcdFx0XHRcdHRoaXMuJCRwX2Rba2V5XS5hdHRyaWJ1dGUgPT09IGF0dHJpYnV0ZV9uYW1lIHx8XG5cdFx0XHRcdFx0XHQoIXRoaXMuJCRwX2Rba2V5XS5hdHRyaWJ1dGUgJiYga2V5LnRvTG93ZXJDYXNlKCkgPT09IGF0dHJpYnV0ZV9uYW1lKVxuXHRcdFx0XHQpIHx8IGF0dHJpYnV0ZV9uYW1lXG5cdFx0XHQpO1xuXHRcdH1cblx0fTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcFxuICogQHBhcmFtIHthbnl9IHZhbHVlXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIEN1c3RvbUVsZW1lbnRQcm9wRGVmaW5pdGlvbj59IHByb3BzX2RlZmluaXRpb25cbiAqIEBwYXJhbSB7J3RvQXR0cmlidXRlJyB8ICd0b1Byb3AnfSBbdHJhbnNmb3JtXVxuICovXG5mdW5jdGlvbiBnZXRfY3VzdG9tX2VsZW1lbnRfdmFsdWUocHJvcCwgdmFsdWUsIHByb3BzX2RlZmluaXRpb24sIHRyYW5zZm9ybSkge1xuXHRjb25zdCB0eXBlID0gcHJvcHNfZGVmaW5pdGlvbltwcm9wXT8udHlwZTtcblx0dmFsdWUgPSB0eXBlID09PSAnQm9vbGVhbicgJiYgdHlwZW9mIHZhbHVlICE9PSAnYm9vbGVhbicgPyB2YWx1ZSAhPSBudWxsIDogdmFsdWU7XG5cdGlmICghdHJhbnNmb3JtIHx8ICFwcm9wc19kZWZpbml0aW9uW3Byb3BdKSB7XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9IGVsc2UgaWYgKHRyYW5zZm9ybSA9PT0gJ3RvQXR0cmlidXRlJykge1xuXHRcdHN3aXRjaCAodHlwZSkge1xuXHRcdFx0Y2FzZSAnT2JqZWN0Jzpcblx0XHRcdGNhc2UgJ0FycmF5Jzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlID09IG51bGwgPyBudWxsIDogSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuXHRcdFx0Y2FzZSAnQm9vbGVhbic6XG5cdFx0XHRcdHJldHVybiB2YWx1ZSA/ICcnIDogbnVsbDtcblx0XHRcdGNhc2UgJ051bWJlcic6XG5cdFx0XHRcdHJldHVybiB2YWx1ZSA9PSBudWxsID8gbnVsbCA6IHZhbHVlO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRzd2l0Y2ggKHR5cGUpIHtcblx0XHRcdGNhc2UgJ09iamVjdCc6XG5cdFx0XHRjYXNlICdBcnJheSc6XG5cdFx0XHRcdHJldHVybiB2YWx1ZSAmJiBKU09OLnBhcnNlKHZhbHVlKTtcblx0XHRcdGNhc2UgJ0Jvb2xlYW4nOlxuXHRcdFx0XHRyZXR1cm4gdmFsdWU7IC8vIGNvbnZlcnNpb24gYWxyZWFkeSBoYW5kbGVkIGFib3ZlXG5cdFx0XHRjYXNlICdOdW1iZXInOlxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgIT0gbnVsbCA/ICt2YWx1ZSA6IHZhbHVlO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEBpbnRlcm5hbFxuICpcbiAqIFR1cm4gYSBTdmVsdGUgY29tcG9uZW50IGludG8gYSBjdXN0b20gZWxlbWVudC5cbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLkNvbXBvbmVudFR5cGV9IENvbXBvbmVudCAgQSBTdmVsdGUgY29tcG9uZW50IGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIEN1c3RvbUVsZW1lbnRQcm9wRGVmaW5pdGlvbj59IHByb3BzX2RlZmluaXRpb24gIFRoZSBwcm9wcyB0byBvYnNlcnZlXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBzbG90cyAgVGhlIHNsb3RzIHRvIGNyZWF0ZVxuICogQHBhcmFtIHtzdHJpbmdbXX0gYWNjZXNzb3JzICBPdGhlciBhY2Nlc3NvcnMgYmVzaWRlcyB0aGUgb25lcyBmb3IgcHJvcHMgdGhlIGNvbXBvbmVudCBoYXNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gdXNlX3NoYWRvd19kb20gIFdoZXRoZXIgdG8gdXNlIHNoYWRvdyBET01cbiAqIEBwYXJhbSB7KGNlOiBuZXcgKCkgPT4gSFRNTEVsZW1lbnQpID0+IG5ldyAoKSA9PiBIVE1MRWxlbWVudH0gW2V4dGVuZF1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9jdXN0b21fZWxlbWVudChcblx0Q29tcG9uZW50LFxuXHRwcm9wc19kZWZpbml0aW9uLFxuXHRzbG90cyxcblx0YWNjZXNzb3JzLFxuXHR1c2Vfc2hhZG93X2RvbSxcblx0ZXh0ZW5kXG4pIHtcblx0bGV0IENsYXNzID0gY2xhc3MgZXh0ZW5kcyBTdmVsdGVFbGVtZW50IHtcblx0XHRjb25zdHJ1Y3RvcigpIHtcblx0XHRcdHN1cGVyKENvbXBvbmVudCwgc2xvdHMsIHVzZV9zaGFkb3dfZG9tKTtcblx0XHRcdHRoaXMuJCRwX2QgPSBwcm9wc19kZWZpbml0aW9uO1xuXHRcdH1cblx0XHRzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHtcblx0XHRcdHJldHVybiBPYmplY3Qua2V5cyhwcm9wc19kZWZpbml0aW9uKS5tYXAoKGtleSkgPT5cblx0XHRcdFx0KHByb3BzX2RlZmluaXRpb25ba2V5XS5hdHRyaWJ1dGUgfHwga2V5KS50b0xvd2VyQ2FzZSgpXG5cdFx0XHQpO1xuXHRcdH1cblx0fTtcblx0T2JqZWN0LmtleXMocHJvcHNfZGVmaW5pdGlvbikuZm9yRWFjaCgocHJvcCkgPT4ge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDbGFzcy5wcm90b3R5cGUsIHByb3AsIHtcblx0XHRcdGdldCgpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuJCRjICYmIHByb3AgaW4gdGhpcy4kJGMgPyB0aGlzLiQkY1twcm9wXSA6IHRoaXMuJCRkW3Byb3BdO1xuXHRcdFx0fSxcblx0XHRcdHNldCh2YWx1ZSkge1xuXHRcdFx0XHR2YWx1ZSA9IGdldF9jdXN0b21fZWxlbWVudF92YWx1ZShwcm9wLCB2YWx1ZSwgcHJvcHNfZGVmaW5pdGlvbik7XG5cdFx0XHRcdHRoaXMuJCRkW3Byb3BdID0gdmFsdWU7XG5cdFx0XHRcdHRoaXMuJCRjPy4kc2V0KHsgW3Byb3BdOiB2YWx1ZSB9KTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSk7XG5cdGFjY2Vzc29ycy5mb3JFYWNoKChhY2Nlc3NvcikgPT4ge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDbGFzcy5wcm90b3R5cGUsIGFjY2Vzc29yLCB7XG5cdFx0XHRnZXQoKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLiQkYz8uW2FjY2Vzc29yXTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSk7XG5cdGlmIChleHRlbmQpIHtcblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yIC0gYXNzaWduaW5nIGhlcmUgaXMgZmluZVxuXHRcdENsYXNzID0gZXh0ZW5kKENsYXNzKTtcblx0fVxuXHRDb21wb25lbnQuZWxlbWVudCA9IC8qKiBAdHlwZSB7YW55fSAqLyAoQ2xhc3MpO1xuXHRyZXR1cm4gQ2xhc3M7XG59XG5cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgU3ZlbHRlIGNvbXBvbmVudHMuIFVzZWQgd2hlbiBkZXY9ZmFsc2UuXG4gKlxuICogQHRlbXBsYXRlIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBbUHJvcHM9YW55XVxuICogQHRlbXBsYXRlIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBbRXZlbnRzPWFueV1cbiAqL1xuZXhwb3J0IGNsYXNzIFN2ZWx0ZUNvbXBvbmVudCB7XG5cdC8qKlxuXHQgKiAjIyMgUFJJVkFURSBBUElcblx0ICpcblx0ICogRG8gbm90IHVzZSwgbWF5IGNoYW5nZSBhdCBhbnkgdGltZVxuXHQgKlxuXHQgKiBAdHlwZSB7YW55fVxuXHQgKi9cblx0JCQgPSB1bmRlZmluZWQ7XG5cdC8qKlxuXHQgKiAjIyMgUFJJVkFURSBBUElcblx0ICpcblx0ICogRG8gbm90IHVzZSwgbWF5IGNoYW5nZSBhdCBhbnkgdGltZVxuXHQgKlxuXHQgKiBAdHlwZSB7YW55fVxuXHQgKi9cblx0JCRzZXQgPSB1bmRlZmluZWQ7XG5cblx0LyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHQkZGVzdHJveSgpIHtcblx0XHRkZXN0cm95X2NvbXBvbmVudCh0aGlzLCAxKTtcblx0XHR0aGlzLiRkZXN0cm95ID0gbm9vcDtcblx0fVxuXG5cdC8qKlxuXHQgKiBAdGVtcGxhdGUge0V4dHJhY3Q8a2V5b2YgRXZlbnRzLCBzdHJpbmc+fSBLXG5cdCAqIEBwYXJhbSB7S30gdHlwZVxuXHQgKiBAcGFyYW0geygoZTogRXZlbnRzW0tdKSA9PiB2b2lkKSB8IG51bGwgfCB1bmRlZmluZWR9IGNhbGxiYWNrXG5cdCAqIEByZXR1cm5zIHsoKSA9PiB2b2lkfVxuXHQgKi9cblx0JG9uKHR5cGUsIGNhbGxiYWNrKSB7XG5cdFx0aWYgKCFpc19mdW5jdGlvbihjYWxsYmFjaykpIHtcblx0XHRcdHJldHVybiBub29wO1xuXHRcdH1cblx0XHRjb25zdCBjYWxsYmFja3MgPSB0aGlzLiQkLmNhbGxiYWNrc1t0eXBlXSB8fCAodGhpcy4kJC5jYWxsYmFja3NbdHlwZV0gPSBbXSk7XG5cdFx0Y2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuXHRcdHJldHVybiAoKSA9PiB7XG5cdFx0XHRjb25zdCBpbmRleCA9IGNhbGxiYWNrcy5pbmRleE9mKGNhbGxiYWNrKTtcblx0XHRcdGlmIChpbmRleCAhPT0gLTEpIGNhbGxiYWNrcy5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdH07XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtQYXJ0aWFsPFByb3BzPn0gcHJvcHNcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHQkc2V0KHByb3BzKSB7XG5cdFx0aWYgKHRoaXMuJCRzZXQgJiYgIWlzX2VtcHR5KHByb3BzKSkge1xuXHRcdFx0dGhpcy4kJC5za2lwX2JvdW5kID0gdHJ1ZTtcblx0XHRcdHRoaXMuJCRzZXQocHJvcHMpO1xuXHRcdFx0dGhpcy4kJC5za2lwX2JvdW5kID0gZmFsc2U7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gQ3VzdG9tRWxlbWVudFByb3BEZWZpbml0aW9uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2F0dHJpYnV0ZV1cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3JlZmxlY3RdXG4gKiBAcHJvcGVydHkgeydTdHJpbmcnfCdCb29sZWFuJ3wnTnVtYmVyJ3wnQXJyYXknfCdPYmplY3QnfSBbdHlwZV1cbiAqL1xuIiwiLy8gZ2VuZXJhdGVkIGR1cmluZyByZWxlYXNlLCBkbyBub3QgbW9kaWZ5XG5cbi8qKlxuICogVGhlIGN1cnJlbnQgdmVyc2lvbiwgYXMgc2V0IGluIHBhY2thZ2UuanNvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtY29tcGlsZXIjc3ZlbHRlLXZlcnNpb25cbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBWRVJTSU9OID0gJzQuMi4yJztcbmV4cG9ydCBjb25zdCBQVUJMSUNfVkVSU0lPTiA9ICc0JztcbiIsImltcG9ydCB7IFBVQkxJQ19WRVJTSU9OIH0gZnJvbSAnLi4vLi4vLi4vc2hhcmVkL3ZlcnNpb24uanMnO1xuXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpXG5cdC8vIEB0cy1pZ25vcmVcblx0KHdpbmRvdy5fX3N2ZWx0ZSB8fCAod2luZG93Ll9fc3ZlbHRlID0geyB2OiBuZXcgU2V0KCkgfSkpLnYuYWRkKFBVQkxJQ19WRVJTSU9OKTtcbiIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XG4gIGltcG9ydCB7IG9uTW91bnQsIG9uRGVzdHJveSB9IGZyb20gJ3N2ZWx0ZSc7XG4gIGltcG9ydCB7IHNldEljb24sIHR5cGUgSWNvbk5hbWUgfSBmcm9tICdvYnNpZGlhbic7XG4gIFxuICBleHBvcnQgbGV0IGljb246IEljb25OYW1lO1xuICBleHBvcnQgbGV0IHNpemU6ICdzbWFsbCcgfCAnbWVkaXVtJyB8ICdsYXJnZScgfCAnaW5oZXJpdCcgPSAnbWVkaXVtJztcbiAgZXhwb3J0IGxldCBleHRyYUNsYXNzZXM6IHN0cmluZyA9ICcnO1xuICBcbiAgbGV0IGljb25FbDogSFRNTEVsZW1lbnQ7XG4gIGxldCBvYnNlcnZlcjogTXV0YXRpb25PYnNlcnZlciB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0IHNpemVDbGFzc2VzID0ge1xuICAgIHNtYWxsOiAndy0zIGgtMycsXG4gICAgbWVkaXVtOiAndy00IGgtNCcsXG4gICAgbGFyZ2U6ICd3LTUgaC01JyxcbiAgICBpbmhlcml0OiAnJyAvLyBGb3IgJ2luaGVyaXQnLCBubyBmaXhlZCBzaXplIGlzIGFwcGxpZWQgaGVyZSwgcmVseWluZyBvbiBwYXJlbnQncyBmb250IHNpemUgb3IgY3VzdG9tIENTU1xuICB9O1xuXG4gIGZ1bmN0aW9uIHVwZGF0ZUljb24oKSB7XG4gICAgaWYgKGljb25FbCAmJiBpY29uKSB7XG4gICAgICBzZXRJY29uKGljb25FbCwgaWNvbik7XG4gICAgICBpZiAoc2l6ZSA9PT0gJ2luaGVyaXQnKSB7XG4gICAgICAgIGljb25FbC5zdHlsZS53aWR0aCA9ICcxZW0nO1xuICAgICAgICBpY29uRWwuc3R5bGUuaGVpZ2h0ID0gJzFlbSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpY29uRWwuc3R5bGUud2lkdGggPSAnJzsgLy8gQ2xlYXIgaW5saW5lIHN0eWxlIGlmIG5vdCAnaW5oZXJpdCdcbiAgICAgICAgaWNvbkVsLnN0eWxlLmhlaWdodCA9ICcnOyBcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgXG4gIG9uTW91bnQoKCkgPT4ge1xuICAgIHVwZGF0ZUljb24oKTtcblxuICAgIC8vIE9ic2VydmUgY2hhbmdlcyB0byB0aGUgaWNvbiBwcm9wZXJ0eSBvciBwYXJlbnQgZWxlbWVudCBmb3IgdGhlbWUgY2hhbmdlc1xuICAgIC8vIFRoaXMgaXMgdXNlZnVsIGlmIHRoZSBpY29uIG5lZWRzIHRvIHJlLXJlbmRlciBkdWUgdG8gZXh0ZXJuYWwgQ1NTIGNoYW5nZXMgb3IgcGFyZW50IHJlc2l6aW5nXG4gICAgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zKSA9PiB7XG4gICAgICBtdXRhdGlvbnMuZm9yRWFjaCgobXV0YXRpb24pID0+IHtcbiAgICAgICAgaWYgKG11dGF0aW9uLnR5cGUgPT09ICdhdHRyaWJ1dGVzJyAmJiAobXV0YXRpb24uYXR0cmlidXRlTmFtZSA9PT0gJ2NsYXNzJyB8fCBtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lID09PSAnc3R5bGUnKSkge1xuICAgICAgICAgIC8vIFJlLWFwcGx5IGljb24gdG8gZW5zdXJlIGl0IHBpY2tzIHVwIGFueSBuZXcgc3R5bGluZyBjb250ZXh0IGlmIG5lZWRlZFxuICAgICAgICAgIHVwZGF0ZUljb24oKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpZiAoaWNvbkVsKSB7XG4gICAgICAvLyBPYnNlcnZlIGF0dHJpYnV0ZXMgb24gdGhlIGVsZW1lbnQgaXRzZWxmIGZvciBzaXplL3N0eWxlIGNoYW5nZXNcbiAgICAgIG9ic2VydmVyLm9ic2VydmUoaWNvbkVsLCB7IGF0dHJpYnV0ZXM6IHRydWUgfSk7XG4gICAgICAvLyBPcHRpb25hbGx5IG9ic2VydmUgcGFyZW50IGZvciBpbmhlcml0ZWQgc3R5bGVzIHRoYXQgbWlnaHQgYWZmZWN0ICdpbmhlcml0JyBzaXplXG4gICAgICBpZiAoaWNvbkVsLnBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShpY29uRWwucGFyZW50RWxlbWVudCwgeyBhdHRyaWJ1dGVzOiB0cnVlIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgb25EZXN0cm95KCgpID0+IHtcbiAgICBvYnNlcnZlcj8uZGlzY29ubmVjdCgpO1xuICB9KTtcblxuICAvLyBSZWFjdGl2ZSBzdGF0ZW1lbnQgdG8gdXBkYXRlIGljb24gd2hlbiAnaWNvbicgb3IgJ3NpemUnIHByb3BlcnR5IGNoYW5nZXNcbiAgJDoge1xuICAgIHVwZGF0ZUljb24oKTtcbiAgfVxuPC9zY3JpcHQ+XG5cbjxzcGFuIFxuICBiaW5kOnRoaXM9e2ljb25FbH1cbiAgY2xhc3M9XCJvYnNpZGlhbi1pY29uIGlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB7c2l6ZUNsYXNzZXNbc2l6ZV19IHtleHRyYUNsYXNzZXN9XCJcbiAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbi8+IiwiPCEtLSA9PT0gVkVTU0VMIE9QRU4gPT09IC0tPlxyXG48IS0tIFB1cnBvc2U6IFNjaGVtYSBtYW5hZ2VtZW50IFVJIGZvciBkaXNjb3ZlcnktYmFzZWQgYXBwcm9hY2ggLS0+XHJcbjwhLS0gSW50ZWdyYXRpb246IFJlcGxhY2VzIEdyYXBoaXRpTWFuYWdlci5zdmVsdGUgd2l0aCBkaXNjb3ZlcnkgZnVuY3Rpb25hbGl0eSAtLT5cclxuPCEtLSBNb2RlOiBDb2RlIC0gU3ZlbHRlIGNvbXBvbmVudCBmb3Igc2NoZW1hIGRpc2NvdmVyeSBhbmQgUHlkYW50aWMgZ2VuZXJhdGlvbiAtLT5cclxuXHJcbjxzY3JpcHQgbGFuZz1cInRzXCI+XHJcbiAgaW1wb3J0IHsgb25Nb3VudCwgb25EZXN0cm95IH0gZnJvbSAnc3ZlbHRlJztcclxuICBpbXBvcnQgdHlwZSB7IFNjaGVtYURpc2NvdmVyeVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9TY2hlbWFEaXNjb3ZlcnlTZXJ2aWNlJztcclxuICBpbXBvcnQgeyBHcmFwaGl0aVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9HcmFwaGl0aVNlcnZpY2UnO1xyXG4gIGltcG9ydCB0eXBlIHsgVHlwZVNjaGVtYSwgUHJvcGVydHlTY2hlbWEgfSBmcm9tICcuLi90eXBlcy9TY2hlbWEnO1xyXG4gIGltcG9ydCBPYnNpZGlhbkljb24gZnJvbSAnLi9PYnNpZGlhbkljb24uc3ZlbHRlJztcclxuICBpbXBvcnQgdHlwZSB7XHJcbiAgICBFbnRpdHlEZXNjcmlwdGlvbixcclxuICAgIFByb3BlcnR5RGVzY3JpcHRpb24sXHJcbiAgICBFZGdlVHlwZSxcclxuICAgIEVkZ2VUeXBlTWFwcGluZyxcclxuICAgIEVkZ2VUeXBlUHJvcGVydHksXHJcbiAgICBMTE1TY2hlbWFTZXR0aW5nc1xyXG4gIH0gZnJvbSAnLi4vdHlwZXMvU2V0dGluZ3MnO1xyXG4gIFxyXG4gIGV4cG9ydCBsZXQgc2NoZW1hU2VydmljZTogU2NoZW1hRGlzY292ZXJ5U2VydmljZTtcclxuICBcclxuICAvLyBHZXQgcGx1Z2luIGluc3RhbmNlIGZvciBkYXRhIHBlcnNpc3RlbmNlXHJcbiAgbGV0IHBsdWdpbjogYW55O1xyXG4gIGxldCBwbHVnaW5TZXR0aW5nczogYW55ID0ge307XHJcbiAgbGV0IGdyYXBoaXRpU2VydmljZTogR3JhcGhpdGlTZXJ2aWNlO1xyXG4gIFxyXG4gICQ6IHtcclxuICAgIGlmICh0eXBlb2YgKHdpbmRvdyBhcyBhbnkpLmFwcCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgcGx1Z2luID0gKHdpbmRvdyBhcyBhbnkpLmFwcC5wbHVnaW5zLnBsdWdpbnNbJ21lZ2FtZW0tbWNwJ107XHJcbiAgICAgIHBsdWdpblNldHRpbmdzID0gcGx1Z2luPy5zZXR0aW5ncyB8fCB7fTtcclxuICAgICAgXHJcbiAgICAgIC8vIEluaXRpYWxpemUgR3JhcGhpdGlTZXJ2aWNlIHdoZW4gcGx1Z2luIGlzIGF2YWlsYWJsZVxyXG4gICAgICBpZiAocGx1Z2luICYmIHBsdWdpbi5zZXR0aW5ncyAmJiAhZ3JhcGhpdGlTZXJ2aWNlKSB7XHJcbiAgICAgICAgLy8gSW5qZWN0IHJlcXVpcmVkIHNlcnZpY2VzXHJcbiAgICAgICAgY29uc3Qgc3luY1JlZ2lzdHJ5U2VydmljZSA9IHBsdWdpbi5zeW5jUmVnaXN0cnlTZXJ2aWNlO1xyXG4gICAgICAgIGNvbnN0IHN5bmNTdGF0dXNNYW5hZ2VyID0gcGx1Z2luLnN5bmNTdGF0dXNNYW5hZ2VyO1xyXG4gICAgICAgIGNvbnN0IHZhdWx0UmVnaXN0cnlTZXJ2aWNlID0gcGx1Z2luLnZhdWx0UmVnaXN0cnlTZXJ2aWNlO1xyXG5cclxuICAgICAgICBncmFwaGl0aVNlcnZpY2UgPSBuZXcgR3JhcGhpdGlTZXJ2aWNlKFxyXG4gICAgICAgICAgcGx1Z2luLFxyXG4gICAgICAgICAgcGx1Z2luLnNldHRpbmdzLFxyXG4gICAgICAgICAgc3luY1JlZ2lzdHJ5U2VydmljZSxcclxuICAgICAgICAgIHN5bmNTdGF0dXNNYW5hZ2VyLFxyXG4gICAgICAgICAgdmF1bHRSZWdpc3RyeVNlcnZpY2VcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIGxldCBzY2hlbWFzOiBUeXBlU2NoZW1hW10gPSBbXTtcclxuICBsZXQgc2VsZWN0ZWRUeXBlOiBzdHJpbmcgPSAnJztcclxuICBsZXQgbG9hZGluZyA9IHRydWU7XHJcbiAgbGV0IGdlbmVyYXRlZE1vZGVscyA9ICcnO1xyXG4gIFxyXG4gIC8vIERlYnVnIGZ1bmN0aW9uIHRvIHRyYWNrIHRhYiBjaGFuZ2VzXHJcbiAgZnVuY3Rpb24gaGFuZGxlVGFiQ2hhbmdlKG5ld1RhYjogJ2VudGl0aWVzJyB8ICdwcm9wZXJ0aWVzJyB8ICdlZGdlcycgfCAnbWFwcGluZ3MnKSB7XHJcbiAgICBjb25zb2xlLmxvZyhgU3dpdGNoaW5nIHRvIHRhYjogJHtuZXdUYWJ9LCBzY2hlbWFzLmxlbmd0aDogJHtzY2hlbWFzLmxlbmd0aH0sIGVkZ2VUeXBlczogJHtPYmplY3Qua2V5cyhlZGdlVHlwZXMpLmxlbmd0aH1gKTtcclxuICAgIGFjdGl2ZVRhYiA9IG5ld1RhYjtcclxuICB9XHJcbiAgXHJcbiAgLy8gPT09IEVOSEFOQ0VEIFNDSEVNQSBNQU5BR0VNRU5UIFNUQVRFID09PVxyXG4gIC8vIFB1cnBvc2U6IFN0YXRlIG1hbmFnZW1lbnQgZm9yIHRhYmJlZCBvbnRvbG9neSBpbnRlcmZhY2VcclxuICAvLyBJbnRlZ3JhdGlvbjogTWFuYWdlcyBlbnRpdHkgZGVzY3JpcHRpb25zLCBlZGdlIHR5cGVzLCBhbmQgTExNIHN1Z2dlc3Rpb25zXHJcbiAgLy8gTW9kZTogQ29kZSAtIFVJIHN0YXRlIGZvciBlbmhhbmNlZCBzY2hlbWEgYXV0aG9yaW5nXHJcbiAgXHJcbiAgbGV0IGFjdGl2ZVRhYjogJ2VudGl0aWVzJyB8ICdwcm9wZXJ0aWVzJyB8ICdlZGdlcycgfCAnbWFwcGluZ3MnID0gJ2VudGl0aWVzJztcclxuICAvLyA9PT0gUkVBQ1RJVkUgUkVGRVJFTkNFUyBUTyBQTFVHSU4gU0VUVElOR1MgPT09XHJcbiAgLy8gUHVycG9zZTogU2luZ2xlIHNvdXJjZSBvZiB0cnV0aCAtIGFsbCBkYXRhIGNvbWVzIGRpcmVjdGx5IGZyb20gcGx1Z2luLnNldHRpbmdzXHJcbiAgLy8gSW50ZWdyYXRpb246IEVsaW1pbmF0ZXMgbG9jYWwgc3RhdGUgY29waWVzLCBlbmFibGVzIHJlYWwtdGltZSBzeW5jIHdpdGggZGF0YS5qc29uXHJcbiAgLy8gTW9kZTogQ29kZSAtIFJlYWN0aXZlIHJlZmVyZW5jZXMgZm9yIHNpbmdsZS1zb3VyY2Utb2YtdHJ1dGggYXJjaGl0ZWN0dXJlXHJcbiAgXHJcbiAgJDogZW50aXR5RGVzY3JpcHRpb25zID0gcGx1Z2luPy5zZXR0aW5ncz8uZW50aXR5RGVzY3JpcHRpb25zIHx8IHt9O1xyXG4gICQ6IHByb3BlcnR5RGVzY3JpcHRpb25zID0gcGx1Z2luPy5zZXR0aW5ncz8ucHJvcGVydHlEZXNjcmlwdGlvbnMgfHwge307XHJcbiAgJDogZWRnZVR5cGVzID0gcGx1Z2luPy5zZXR0aW5ncz8uZWRnZVR5cGVzIHx8IHt9O1xyXG4gICQ6IGVkZ2VUeXBlTWFwID0gcGx1Z2luPy5zZXR0aW5ncz8uZWRnZVR5cGVNYXAgfHwgW107XHJcbiAgJDogbGxtU2NoZW1hU2V0dGluZ3MgPSBwbHVnaW4/LnNldHRpbmdzPy5sbG1TY2hlbWFTZXR0aW5ncyB8fCB7XHJcbiAgICBhdXRvU3VnZ2VzdEVudGl0eURlc2NyaXB0aW9uczogZmFsc2UsXHJcbiAgICBhdXRvU3VnZ2VzdFByb3BlcnR5RGVzY3JpcHRpb25zOiBmYWxzZSxcclxuICAgIGF1dG9TdWdnZXN0RWRnZVR5cGVzOiBmYWxzZSxcclxuICAgIGF1dG9TdWdnZXN0RWRnZVR5cGVNYXBwaW5nczogZmFsc2UsXHJcbiAgICBlbmFibGVCdWxrR2VuZXJhdGlvbjogZmFsc2UsXHJcbiAgICBzdWdnZXN0aW9uQXBwcm92YWxSZXF1aXJlZDogdHJ1ZSxcclxuICB9O1xyXG4gIFxyXG4gIC8vIEFjY29yZGlvbiBzdGF0ZSBtYW5hZ2VtZW50XHJcbiAgbGV0IGV4cGFuZGVkQWNjb3JkaW9uczogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7XHJcbiAgXHJcbiAgLy8gRW50aXR5IGRlc2NyaXB0aW9uIGVkaXRpbmcgc3RhdGVcclxuICBsZXQgZWRpdGluZ0VudGl0eURlc2NyaXB0aW9uOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcclxuICBsZXQgdGVtcEVudGl0eURlc2NyaXB0aW9uczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xyXG5cclxuICAvLyBFZGdlIFR5cGVzIHN0YXRlIG1hbmFnZW1lbnRcclxuICBsZXQgc2hvd0FkZEVkZ2VGb3JtID0gZmFsc2U7XHJcbiAgbGV0IG5ld0VkZ2VUeXBlTmFtZSA9ICcnO1xyXG4gIGxldCBuZXdFZGdlVHlwZURlc2NyaXB0aW9uID0gJyc7XHJcbiAgbGV0IGVkaXRpbmdFZGdlVHlwZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XHJcbiAgbGV0IHRlbXBFZGdlVHlwZU5hbWUgPSAnJztcclxuICBsZXQgdGVtcEVkZ2VUeXBlRGVzY3JpcHRpb24gPSAnJztcclxuXHJcbiAgLy8gRWRnZSBQcm9wZXJ0eSBNYW5hZ2VtZW50XHJcbiAgbGV0IGFkZGluZ1Byb3BlcnR5VG9FZGdlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcclxuICBsZXQgbmV3UHJvcGVydHlOYW1lID0gJyc7XHJcbiAgbGV0IG5ld1Byb3BlcnR5VHlwZSA9ICdzdHInO1xyXG4gIGxldCBuZXdQcm9wZXJ0eURlc2NyaXB0aW9uID0gJyc7XHJcbiAgbGV0IG5ld1Byb3BlcnR5UmVxdWlyZWQgPSBmYWxzZTtcclxuXHJcbiAgLy8gRWRnZSBNYXBwaW5ncyBzdGF0ZSBtYW5hZ2VtZW50XHJcbiAgbGV0IHNob3dBZGRNYXBwaW5nRm9ybSA9IGZhbHNlO1xyXG4gIGxldCBuZXdNYXBwaW5nU291cmNlRW50aXR5ID0gJyc7XHJcbiAgbGV0IG5ld01hcHBpbmdUYXJnZXRFbnRpdHkgPSAnJztcclxuICBsZXQgbmV3TWFwcGluZ0FsbG93ZWRFZGdlczogc3RyaW5nW10gPSBbXTtcclxuICBsZXQgZWRpdGluZ01hcHBpbmdJbmRleDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XHJcbiAgbGV0IHRlbXBFZGl0TWFwcGluZ1NvdXJjZUVudGl0eSA9ICcnO1xyXG4gIGxldCB0ZW1wRWRpdE1hcHBpbmdUYXJnZXRFbnRpdHkgPSAnJztcclxuICBsZXQgdGVtcEVkaXRNYXBwaW5nQWxsb3dlZEVkZ2VzOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICAvLyBFZGdlIHR5cGVzIGRhdGEgcHJvY2Vzc2luZ1xyXG4gICQ6IGVkZ2VUeXBlc0RhdGEgPSBlZGdlVHlwZXMgfHwge307XHJcbiAgJDogZWRnZVR5cGVzTGlzdCA9IE9iamVjdC5rZXlzKGVkZ2VUeXBlc0RhdGEpO1xyXG4gIFxyXG4gIC8vIEVudGl0eSB0eXBlcyBmb3IgZWRnZSBtYXBwaW5nc1xyXG4gICQ6IGVudGl0eVR5cGVzTGlzdCA9IHNjaGVtYXMubWFwKHMgPT4gcy50eXBlTmFtZSk7XHJcbiAgJDogYWxsRW50aXR5VHlwZXMgPSBbLi4uZW50aXR5VHlwZXNMaXN0LCAnRW50aXR5J107IC8vIEluY2x1ZGUgZ2VuZXJpYyBFbnRpdHkgdHlwZVxyXG4gIFxyXG4gIC8vIFVudXNlZCBkZWZhdWx0cyBwcm9jZXNzaW5nXHJcbiAgJDogdW51c2VkRWRnZVR5cGVzID0gc2NoZW1hU2VydmljZS5nZXRVbnVzZWREZWZhdWx0RWRnZVR5cGVzKGVkZ2VUeXBlc0RhdGEpO1xyXG4gICQ6IHN1Z2dlc3RlZE1hcHBpbmdzID0gc2NoZW1hU2VydmljZS5nZXRTdWdnZXN0ZWREZWZhdWx0TWFwcGluZ3MoZW50aXR5VHlwZXNMaXN0LCBlZGdlVHlwZU1hcCk7XHJcbiAgXHJcbiAgLy8gU2FmZSBwcm9wZXJ0eSBpbmZvIGhlbHBlciB3aXRoIHJ1bnRpbWUgZ3VhcmRcclxuICBmdW5jdGlvbiBnZXRQcm9wZXJ0eUluZm8ocHJvcERlZjogdW5rbm93bikge1xyXG4gICAgLy8gTmFycm93IHVua25vd24gLT4gRWRnZVR5cGVQcm9wZXJ0eSBzYWZlbHlcclxuICAgIGNvbnN0IHByb3AgPSAocHJvcERlZiBhcyBQYXJ0aWFsPEVkZ2VUeXBlUHJvcGVydHk+IHwgdW5kZWZpbmVkKSA/PyB7fTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGZpZWxkVHlwZTogKHByb3AuZmllbGRUeXBlIGFzIHN0cmluZykgfHwgJ3Vua25vd24nLFxyXG4gICAgICByZXF1aXJlZDogISFwcm9wLnJlcXVpcmVkLFxyXG4gICAgICBkZXNjcmlwdGlvbjogKHByb3AuZGVzY3JpcHRpb24gYXMgc3RyaW5nKSB8fCAnJ1xyXG4gICAgfTtcclxuICB9XHJcbiAgXHJcbiAgZnVuY3Rpb24gdG9nZ2xlQWNjb3JkaW9uKGVudGl0eVR5cGU6IHN0cmluZykge1xyXG4gICAgaWYgKGV4cGFuZGVkQWNjb3JkaW9ucy5oYXMoZW50aXR5VHlwZSkpIHtcclxuICAgICAgZXhwYW5kZWRBY2NvcmRpb25zLmRlbGV0ZShlbnRpdHlUeXBlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGV4cGFuZGVkQWNjb3JkaW9ucy5hZGQoZW50aXR5VHlwZSk7XHJcbiAgICB9XHJcbiAgICBleHBhbmRlZEFjY29yZGlvbnMgPSBuZXcgU2V0KGV4cGFuZGVkQWNjb3JkaW9ucyk7IC8vIFRyaWdnZXIgcmVhY3Rpdml0eVxyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiBuYXZpZ2F0ZVRvRW50aXR5UHJvcGVydGllcyhlbnRpdHlUeXBlOiBzdHJpbmcpIHtcclxuICAgIGFjdGl2ZVRhYiA9ICdwcm9wZXJ0aWVzJztcclxuICAgIGV4cGFuZGVkQWNjb3JkaW9ucy5jbGVhcigpO1xyXG4gICAgZXhwYW5kZWRBY2NvcmRpb25zLmFkZChlbnRpdHlUeXBlKTtcclxuICAgIGV4cGFuZGVkQWNjb3JkaW9ucyA9IG5ldyBTZXQoZXhwYW5kZWRBY2NvcmRpb25zKTtcclxuICAgIFxyXG4gICAgLy8gU2Nyb2xsIHRvIHRoZSBlbnRpdHkgYWZ0ZXIgdGFiIGNoYW5nZVxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgYWNjb3JkaW9uLSR7ZW50aXR5VHlwZX1gKTtcclxuICAgICAgaWYgKGVsZW1lbnQpIHtcclxuICAgICAgICBlbGVtZW50LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnLCBibG9jazogJ3N0YXJ0JyB9KTtcclxuICAgICAgfVxyXG4gICAgfSwgMTAwKTtcclxuICB9XHJcbiAgXHJcbiAgZnVuY3Rpb24gc3RhcnRFZGl0aW5nRW50aXR5RGVzY3JpcHRpb24oZW50aXR5VHlwZTogc3RyaW5nKSB7XHJcbiAgICBlZGl0aW5nRW50aXR5RGVzY3JpcHRpb24gPSBlbnRpdHlUeXBlO1xyXG4gICAgLy8gSW5pdGlhbGl6ZSB3aXRoIGN1cnJlbnQgZGVzY3JpcHRpb24sIGRlZmF1bHQgZGVzY3JpcHRpb24sIG9yIGZhbGxiYWNrXHJcbiAgICBpZiAoZW50aXR5RGVzY3JpcHRpb25zW2VudGl0eVR5cGVdPy5kZXNjcmlwdGlvbikge1xyXG4gICAgICB0ZW1wRW50aXR5RGVzY3JpcHRpb25zW2VudGl0eVR5cGVdID0gZW50aXR5RGVzY3JpcHRpb25zW2VudGl0eVR5cGVdLmRlc2NyaXB0aW9uO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgZGVmYXVsdERlc2NyaXB0aW9uID0gc2NoZW1hU2VydmljZS5nZXREZWZhdWx0RW50aXR5RGVzY3JpcHRpb24oZW50aXR5VHlwZSk7XHJcbiAgICAgIHRlbXBFbnRpdHlEZXNjcmlwdGlvbnNbZW50aXR5VHlwZV0gPSBkZWZhdWx0RGVzY3JpcHRpb24gfHwgYEN1c3RvbSAke2VudGl0eVR5cGV9IGVudGl0eS5gO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICBhc3luYyBmdW5jdGlvbiBzYXZlRW50aXR5RGVzY3JpcHRpb24oZW50aXR5VHlwZTogc3RyaW5nKSB7XHJcbiAgICBpZiAodGVtcEVudGl0eURlc2NyaXB0aW9uc1tlbnRpdHlUeXBlXSAmJiBwbHVnaW4/LnNldHRpbmdzKSB7XHJcbiAgICAgIC8vIFNhdmUgZGlyZWN0bHkgdG8gcGx1Z2luIHNldHRpbmdzXHJcbiAgICAgIGlmICghcGx1Z2luLnNldHRpbmdzLmVudGl0eURlc2NyaXB0aW9ucykge1xyXG4gICAgICAgIHBsdWdpbi5zZXR0aW5ncy5lbnRpdHlEZXNjcmlwdGlvbnMgPSB7fTtcclxuICAgICAgfVxyXG4gICAgICBwbHVnaW4uc2V0dGluZ3MuZW50aXR5RGVzY3JpcHRpb25zW2VudGl0eVR5cGVdID0ge1xyXG4gICAgICAgIGNsYXNzTmFtZTogZW50aXR5VHlwZS5yZXBsYWNlKC9cXHMrL2csICcnKS5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZywgJycpLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiB0ZW1wRW50aXR5RGVzY3JpcHRpb25zW2VudGl0eVR5cGVdLFxyXG4gICAgICAgIGlzVXNlckRlZmluZWQ6IHRydWUsXHJcbiAgICAgICAgc291cmNlOiBcInVzZXJcIixcclxuICAgICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICB9O1xyXG4gICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICB9XHJcbiAgICBlZGl0aW5nRW50aXR5RGVzY3JpcHRpb24gPSBudWxsO1xyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiBjYW5jZWxFZGl0aW5nRW50aXR5RGVzY3JpcHRpb24oKSB7XHJcbiAgICBlZGl0aW5nRW50aXR5RGVzY3JpcHRpb24gPSBudWxsO1xyXG4gICAgdGVtcEVudGl0eURlc2NyaXB0aW9ucyA9IHt9O1xyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiBnZXRFbnRpdHlEZXNjcmlwdGlvbihlbnRpdHlUeXBlOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgLy8gRmlyc3QgY2hlY2sgaWYgd2UgaGF2ZSBhIHVzZXItZGVmaW5lZCBkZXNjcmlwdGlvblxyXG4gICAgaWYgKGVudGl0eURlc2NyaXB0aW9uc1tlbnRpdHlUeXBlXT8uZGVzY3JpcHRpb24pIHtcclxuICAgICAgcmV0dXJuIGVudGl0eURlc2NyaXB0aW9uc1tlbnRpdHlUeXBlXS5kZXNjcmlwdGlvbjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gVGhlbiBjaGVjayBpZiB3ZSBoYXZlIGEgZGVmYXVsdCBkZXNjcmlwdGlvblxyXG4gICAgY29uc3QgZGVmYXVsdERlc2NyaXB0aW9uID0gc2NoZW1hU2VydmljZS5nZXREZWZhdWx0RW50aXR5RGVzY3JpcHRpb24oZW50aXR5VHlwZSk7XHJcbiAgICBpZiAoZGVmYXVsdERlc2NyaXB0aW9uKSB7XHJcbiAgICAgIHJldHVybiBkZWZhdWx0RGVzY3JpcHRpb247XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIEZpbmFsbHkgZmFsbCBiYWNrIHRvIGN1c3RvbSBlbnRpdHkgdHlwZVxyXG4gICAgcmV0dXJuIGBDdXN0b20gJHtlbnRpdHlUeXBlfSBlbnRpdHkuYDtcclxuICB9XHJcblxyXG4gIC8vIERlZmF1bHQgZGVzY3JpcHRpb24gZnVuY3Rpb25zXHJcbiAgZnVuY3Rpb24gaGFzRGVmYXVsdEVudGl0eURlc2NyaXB0aW9uKGVudGl0eVR5cGU6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHNjaGVtYVNlcnZpY2UuaGFzRGVmYXVsdEVudGl0eURlc2NyaXB0aW9uKGVudGl0eVR5cGUpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gbG9hZERlZmF1bHRFbnRpdHlEZXNjcmlwdGlvbihlbnRpdHlUeXBlOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IGRlZmF1bHREZXNjcmlwdGlvbiA9IHNjaGVtYVNlcnZpY2UuZ2V0RGVmYXVsdEVudGl0eURlc2NyaXB0aW9uKGVudGl0eVR5cGUpO1xyXG4gICAgaWYgKGRlZmF1bHREZXNjcmlwdGlvbiAmJiBncmFwaGl0aVNlcnZpY2UpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICB0ZW1wRW50aXR5RGVzY3JpcHRpb25zW2VudGl0eVR5cGVdID0gZGVmYXVsdERlc2NyaXB0aW9uO1xyXG4gICAgICAgIC8vIEFsc28gdXBkYXRlIHRoZSBlbnRpdHkgZGVzY3JpcHRpb24gaW4gZGF0YS5qc29uIHVzaW5nIEdyYXBoaXRpU2VydmljZVxyXG4gICAgICAgIGF3YWl0IGdyYXBoaXRpU2VydmljZS51cGRhdGVFbnRpdHlEZXNjcmlwdGlvbihlbnRpdHlUeXBlLCBkZWZhdWx0RGVzY3JpcHRpb24pO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byB1cGRhdGUgZW50aXR5IGRlc2NyaXB0aW9uOicsIGVycm9yKTtcclxuICAgICAgICAvLyBTdGlsbCB1cGRhdGUgdGhlIFVJIGV2ZW4gaWYgc2F2ZSBmYWlsc1xyXG4gICAgICAgIHRlbXBFbnRpdHlEZXNjcmlwdGlvbnNbZW50aXR5VHlwZV0gPSBkZWZhdWx0RGVzY3JpcHRpb247XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGhhc0RlZmF1bHRQcm9wZXJ0eURlc2NyaXB0aW9uKHByb3BlcnR5TmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gc2NoZW1hU2VydmljZS5oYXNEZWZhdWx0UHJvcGVydHlEZXNjcmlwdGlvbihwcm9wZXJ0eU5hbWUpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gbG9hZERlZmF1bHRQcm9wZXJ0eURlc2NyaXB0aW9uKGVudGl0eVR5cGU6IHN0cmluZywgcHJvcGVydHlOYW1lOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IGRlZmF1bHREZXNjcmlwdGlvbiA9IHNjaGVtYVNlcnZpY2UuZ2V0RGVmYXVsdFByb3BlcnR5RGVzY3JpcHRpb24ocHJvcGVydHlOYW1lKTtcclxuICAgIGlmIChkZWZhdWx0RGVzY3JpcHRpb24gJiYgZ3JhcGhpdGlTZXJ2aWNlKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgLy8gRmluZCB0aGUgc2NoZW1hIGFuZCBwcm9wZXJ0eSB0byB1cGRhdGVcclxuICAgICAgICBjb25zdCBzY2hlbWEgPSBzY2hlbWFzLmZpbmQocyA9PiBzLnR5cGVOYW1lID09PSBlbnRpdHlUeXBlKTtcclxuICAgICAgICBpZiAoc2NoZW1hKSB7XHJcbiAgICAgICAgICBjb25zdCBwcm9wSW5kZXggPSBzY2hlbWEucHJvcGVydGllcy5maW5kSW5kZXgocCA9PiBwLm5hbWUgPT09IHByb3BlcnR5TmFtZSk7XHJcbiAgICAgICAgICBpZiAocHJvcEluZGV4ICE9PSAtMSkge1xyXG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIFVJIGltbWVkaWF0ZWx5XHJcbiAgICAgICAgICAgIHVwZGF0ZVByb3BlcnR5KHNjaGVtYXMuaW5kZXhPZihzY2hlbWEpLCBwcm9wSW5kZXgsICdkZXNjcmlwdGlvbicsIGRlZmF1bHREZXNjcmlwdGlvbik7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBTYXZlIHVzaW5nIEdyYXBoaXRpU2VydmljZVxyXG4gICAgICAgICAgICBhd2FpdCBncmFwaGl0aVNlcnZpY2UudXBkYXRlUHJvcGVydHlEZXNjcmlwdGlvbihlbnRpdHlUeXBlLCBwcm9wZXJ0eU5hbWUsIGRlZmF1bHREZXNjcmlwdGlvbik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byB1cGRhdGUgcHJvcGVydHkgZGVzY3JpcHRpb246JywgZXJyb3IpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBFZGdlIFR5cGVzIG1hbmFnZW1lbnQgZnVuY3Rpb25zXHJcbiAgYXN5bmMgZnVuY3Rpb24gc2F2ZU5ld0VkZ2VUeXBlKCkge1xyXG4gICAgaWYgKCFuZXdFZGdlVHlwZU5hbWUudHJpbSgpIHx8ICFwbHVnaW4/LnNldHRpbmdzKSByZXR1cm47XHJcbiAgICBcclxuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gbmV3RWRnZVR5cGVEZXNjcmlwdGlvbiB8fCBgJHtuZXdFZGdlVHlwZU5hbWV9IHJlbGF0aW9uc2hpcCB0eXBlYDtcclxuICAgIFxyXG4gICAgLy8gSW5pdGlhbGl6ZSBlZGdlVHlwZXMgaWYgbm90IGV4aXN0c1xyXG4gICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVzKSB7XHJcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZXMgPSB7fTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlc1tuZXdFZGdlVHlwZU5hbWVdID0ge1xyXG4gICAgICBjbGFzc05hbWU6IG5ld0VkZ2VUeXBlTmFtZSxcclxuICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxyXG4gICAgICBwcm9wZXJ0aWVzOiB7fSxcclxuICAgICAgaXNVc2VyRGVmaW5lZDogdHJ1ZSxcclxuICAgICAgc291cmNlOiBcInVzZXJcIixcclxuICAgICAgbGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vIFNhdmUgaW1tZWRpYXRlbHlcclxuICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgIFxyXG4gICAgLy8gUmVzZXQgZm9ybVxyXG4gICAgbmV3RWRnZVR5cGVOYW1lID0gJyc7XHJcbiAgICBuZXdFZGdlVHlwZURlc2NyaXB0aW9uID0gJyc7XHJcbiAgICBzaG93QWRkRWRnZUZvcm0gPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNhbmNlbEFkZEVkZ2VUeXBlKCkge1xyXG4gICAgbmV3RWRnZVR5cGVOYW1lID0gJyc7XHJcbiAgICBuZXdFZGdlVHlwZURlc2NyaXB0aW9uID0gJyc7XHJcbiAgICBzaG93QWRkRWRnZUZvcm0gPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHN0YXJ0RWRpdEVkZ2VUeXBlKGVkZ2VUeXBlTmFtZTogc3RyaW5nKSB7XHJcbiAgICBlZGl0aW5nRWRnZVR5cGUgPSBlZGdlVHlwZU5hbWU7XHJcbiAgICB0ZW1wRWRnZVR5cGVOYW1lID0gZWRnZVR5cGVOYW1lO1xyXG4gICAgdGVtcEVkZ2VUeXBlRGVzY3JpcHRpb24gPSBlZGdlVHlwZXNbZWRnZVR5cGVOYW1lXT8uZGVzY3JpcHRpb24gfHwgJyc7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBzYXZlRWRnZVR5cGVFZGl0KCkge1xyXG4gICAgaWYgKCF0ZW1wRWRnZVR5cGVOYW1lLnRyaW0oKSB8fCAhZWRpdGluZ0VkZ2VUeXBlIHx8ICFwbHVnaW4/LnNldHRpbmdzKSByZXR1cm47XHJcbiAgICBcclxuICAgIGNvbnN0IGVkZ2VUeXBlRGF0YSA9IHBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZXM/LltlZGl0aW5nRWRnZVR5cGVdO1xyXG4gICAgaWYgKGVkZ2VUeXBlRGF0YSkge1xyXG4gICAgICAvLyBJbml0aWFsaXplIGVkZ2VUeXBlcyBpZiBub3QgZXhpc3RzXHJcbiAgICAgIGlmICghcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlcykge1xyXG4gICAgICAgIHBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZXMgPSB7fTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gSWYgbmFtZSBjaGFuZ2VkLCBtb3ZlIHRvIG5ldyBrZXlcclxuICAgICAgaWYgKHRlbXBFZGdlVHlwZU5hbWUgIT09IGVkaXRpbmdFZGdlVHlwZSkge1xyXG4gICAgICAgIGRlbGV0ZSBwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVzW2VkaXRpbmdFZGdlVHlwZV07XHJcbiAgICAgICAgcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlc1t0ZW1wRWRnZVR5cGVOYW1lXSA9IHtcclxuICAgICAgICAgIC4uLmVkZ2VUeXBlRGF0YSxcclxuICAgICAgICAgIGNsYXNzTmFtZTogdGVtcEVkZ2VUeXBlTmFtZSxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiB0ZW1wRWRnZVR5cGVEZXNjcmlwdGlvbixcclxuICAgICAgICAgIGxhc3RNb2RpZmllZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgfTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBKdXN0IHVwZGF0ZSBkZXNjcmlwdGlvblxyXG4gICAgICAgIHBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZXNbZWRpdGluZ0VkZ2VUeXBlXSA9IHtcclxuICAgICAgICAgIC4uLmVkZ2VUeXBlRGF0YSxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiB0ZW1wRWRnZVR5cGVEZXNjcmlwdGlvbixcclxuICAgICAgICAgIGxhc3RNb2RpZmllZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBTYXZlIGltbWVkaWF0ZWx5XHJcbiAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICBjYW5jZWxFZGdlVHlwZUVkaXQoKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNhbmNlbEVkZ2VUeXBlRWRpdCgpIHtcclxuICAgIGVkaXRpbmdFZGdlVHlwZSA9IG51bGw7XHJcbiAgICB0ZW1wRWRnZVR5cGVOYW1lID0gJyc7XHJcbiAgICB0ZW1wRWRnZVR5cGVEZXNjcmlwdGlvbiA9ICcnO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gZGVsZXRlRWRnZVR5cGUoZWRnZVR5cGVOYW1lOiBzdHJpbmcpIHtcclxuICAgIGlmICghcGx1Z2luPy5zZXR0aW5ncz8uZWRnZVR5cGVzKSByZXR1cm47XHJcbiAgICBcclxuICAgIGRlbGV0ZSBwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVzW2VkZ2VUeXBlTmFtZV07XHJcbiAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnZXRFZGdlVHlwZURlc2NyaXB0aW9uKGVkZ2VUeXBlTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBlZGdlVHlwZXNbZWRnZVR5cGVOYW1lXT8uZGVzY3JpcHRpb24gfHwgJyc7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBxdWlja0FkZEVkZ2VUeXBlKGVkZ2VUeXBlTmFtZTogc3RyaW5nKSB7XHJcbiAgICBpZiAoIXBsdWdpbj8uc2V0dGluZ3MpIHJldHVybjtcclxuICAgIFxyXG4gICAgLy8gSW5pdGlhbGl6ZSBlZGdlVHlwZXMgaWYgbm90IGV4aXN0c1xyXG4gICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVzKSB7XHJcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZXMgPSB7fTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKHBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZXNbZWRnZVR5cGVOYW1lXSkgcmV0dXJuOyAvLyBBbHJlYWR5IGV4aXN0c1xyXG4gICAgXHJcbiAgICAvLyBHZXQgZGVmYXVsdCBkZXNjcmlwdGlvbiBhbmQgcHJvcGVydGllc1xyXG4gICAgY29uc3QgYXZhaWxhYmxlRGVmYXVsdHMgPSBzY2hlbWFTZXJ2aWNlLmdldEF2YWlsYWJsZURlZmF1bHRFZGdlVHlwZXMoKTtcclxuICAgIGNvbnN0IGRlZmF1bHRQcm9wZXJ0aWVzID0gc2NoZW1hU2VydmljZS5nZXREZWZhdWx0RWRnZVR5cGVQcm9wZXJ0aWVzKCk7XHJcbiAgICBcclxuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gYXZhaWxhYmxlRGVmYXVsdHNbZWRnZVR5cGVOYW1lXSB8fCBgJHtlZGdlVHlwZU5hbWV9IHJlbGF0aW9uc2hpcCB0eXBlYDtcclxuICAgIGNvbnN0IHByb3BlcnRpZXMgPSBkZWZhdWx0UHJvcGVydGllc1tlZGdlVHlwZU5hbWVdIHx8IHt9O1xyXG4gICAgXHJcbiAgICBwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVzW2VkZ2VUeXBlTmFtZV0gPSB7XHJcbiAgICAgIGNsYXNzTmFtZTogZWRnZVR5cGVOYW1lLFxyXG4gICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXHJcbiAgICAgIHByb3BlcnRpZXM6IHByb3BlcnRpZXMsXHJcbiAgICAgIGlzVXNlckRlZmluZWQ6IHRydWUsXHJcbiAgICAgIHNvdXJjZTogXCJ1c2VyXCIsXHJcbiAgICAgIGxhc3RNb2RpZmllZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgfVxyXG5cclxuICAvLyBFZGdlIFByb3BlcnR5IE1hbmFnZW1lbnQgRnVuY3Rpb25zXHJcbiAgYXN5bmMgZnVuY3Rpb24gYWRkUHJvcGVydHlUb0VkZ2VUeXBlKGVkZ2VUeXBlTmFtZTogc3RyaW5nKSB7XHJcbiAgICBpZiAoIW5ld1Byb3BlcnR5TmFtZS50cmltKCkgfHwgIXBsdWdpbj8uc2V0dGluZ3M/LmVkZ2VUeXBlcz8uW2VkZ2VUeXBlTmFtZV0pIHJldHVybjtcclxuICAgIFxyXG4gICAgcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlc1tlZGdlVHlwZU5hbWVdLnByb3BlcnRpZXNbbmV3UHJvcGVydHlOYW1lXSA9IHtcclxuICAgICAgZGVzY3JpcHRpb246IG5ld1Byb3BlcnR5RGVzY3JpcHRpb24gfHwgYCR7bmV3UHJvcGVydHlOYW1lfSBwcm9wZXJ0eWAsXHJcbiAgICAgIGZpZWxkVHlwZTogbmV3UHJvcGVydHlUeXBlLFxyXG4gICAgICByZXF1aXJlZDogbmV3UHJvcGVydHlSZXF1aXJlZFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gU2F2ZSBpbW1lZGlhdGVseVxyXG4gICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgXHJcbiAgICAvLyBSZXNldCBmb3JtXHJcbiAgICBuZXdQcm9wZXJ0eU5hbWUgPSAnJztcclxuICAgIG5ld1Byb3BlcnR5RGVzY3JpcHRpb24gPSAnJztcclxuICAgIG5ld1Byb3BlcnR5VHlwZSA9ICdzdHInO1xyXG4gICAgbmV3UHJvcGVydHlSZXF1aXJlZCA9IGZhbHNlO1xyXG4gICAgYWRkaW5nUHJvcGVydHlUb0VkZ2UgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlUHJvcGVydHlGcm9tRWRnZVR5cGUoZWRnZVR5cGVOYW1lOiBzdHJpbmcsIHByb3BlcnR5TmFtZTogc3RyaW5nKSB7XHJcbiAgICBpZiAocGx1Z2luPy5zZXR0aW5ncz8uZWRnZVR5cGVzPy5bZWRnZVR5cGVOYW1lXT8ucHJvcGVydGllcykge1xyXG4gICAgICBkZWxldGUgcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlc1tlZGdlVHlwZU5hbWVdLnByb3BlcnRpZXNbcHJvcGVydHlOYW1lXTtcclxuICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gdXBkYXRlUHJvcGVydHlEZXNjcmlwdGlvbihlZGdlVHlwZU5hbWU6IHN0cmluZywgcHJvcGVydHlOYW1lOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcpIHtcclxuICAgIGlmIChwbHVnaW4/LnNldHRpbmdzPy5lZGdlVHlwZXM/LltlZGdlVHlwZU5hbWVdPy5wcm9wZXJ0aWVzPy5bcHJvcGVydHlOYW1lXSkge1xyXG4gICAgICBwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVzW2VkZ2VUeXBlTmFtZV0ucHJvcGVydGllc1twcm9wZXJ0eU5hbWVdLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XHJcbiAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUVkZ2VQcm9wZXJ0eURlc2NyaXB0aW9uSW5wdXQoZWRnZVR5cGVOYW1lOiBzdHJpbmcsIHByb3BlcnR5TmFtZTogc3RyaW5nLCBldmVudDogRXZlbnQpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgYXdhaXQgdXBkYXRlUHJvcGVydHlEZXNjcmlwdGlvbihlZGdlVHlwZU5hbWUsIHByb3BlcnR5TmFtZSwgdGFyZ2V0LnZhbHVlKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUVkZ2VUeXBlRGVzY3JpcHRpb25JbnB1dChlZGdlVHlwZU5hbWU6IHN0cmluZywgZXZlbnQ6IEV2ZW50KSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgSFRNTFRleHRBcmVhRWxlbWVudDtcclxuICAgIGNvbnN0IG5ld0Rlc2NyaXB0aW9uID0gdGFyZ2V0LnZhbHVlO1xyXG4gICAgXHJcbiAgICBpZiAocGx1Z2luPy5zZXR0aW5ncz8uZWRnZVR5cGVzPy5bZWRnZVR5cGVOYW1lXSkge1xyXG4gICAgICBwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVzW2VkZ2VUeXBlTmFtZV0gPSB7XHJcbiAgICAgICAgLi4ucGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlc1tlZGdlVHlwZU5hbWVdLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBuZXdEZXNjcmlwdGlvbixcclxuICAgICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICB9O1xyXG4gICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBFZGdlIE1hcHBpbmdzIG1hbmFnZW1lbnQgZnVuY3Rpb25zXHJcbiAgYXN5bmMgZnVuY3Rpb24gc2F2ZU5ld01hcHBpbmcoKSB7XHJcbiAgICBpZiAoIW5ld01hcHBpbmdTb3VyY2VFbnRpdHkgfHwgIW5ld01hcHBpbmdUYXJnZXRFbnRpdHkgfHwgbmV3TWFwcGluZ0FsbG93ZWRFZGdlcy5sZW5ndGggPT09IDAgfHwgIXBsdWdpbj8uc2V0dGluZ3MpIHJldHVybjtcclxuICAgIFxyXG4gICAgY29uc3QgbmV3TWFwcGluZyA9IHtcclxuICAgICAgc291cmNlRW50aXR5OiBuZXdNYXBwaW5nU291cmNlRW50aXR5LFxyXG4gICAgICB0YXJnZXRFbnRpdHk6IG5ld01hcHBpbmdUYXJnZXRFbnRpdHksXHJcbiAgICAgIGFsbG93ZWRFZGdlczogWy4uLm5ld01hcHBpbmdBbGxvd2VkRWRnZXNdLFxyXG4gICAgICBpc1VzZXJEZWZpbmVkOiB0cnVlLFxyXG4gICAgICBzb3VyY2U6IFwidXNlclwiIGFzIGNvbnN0LFxyXG4gICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gSW5pdGlhbGl6ZSBlZGdlVHlwZU1hcCBpZiBub3QgZXhpc3RzXHJcbiAgICBpZiAoIXBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZU1hcCkge1xyXG4gICAgICBwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVNYXAgPSBbXTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlTWFwID0gWy4uLnBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZU1hcCwgbmV3TWFwcGluZ107XHJcbiAgICBcclxuICAgIC8vIFNhdmUgaW1tZWRpYXRlbHlcclxuICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgIFxyXG4gICAgLy8gUmVzZXQgZm9ybVxyXG4gICAgbmV3TWFwcGluZ1NvdXJjZUVudGl0eSA9ICcnO1xyXG4gICAgbmV3TWFwcGluZ1RhcmdldEVudGl0eSA9ICcnO1xyXG4gICAgbmV3TWFwcGluZ0FsbG93ZWRFZGdlcyA9IFtdO1xyXG4gICAgc2hvd0FkZE1hcHBpbmdGb3JtID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjYW5jZWxBZGRNYXBwaW5nKCkge1xyXG4gICAgbmV3TWFwcGluZ1NvdXJjZUVudGl0eSA9ICcnO1xyXG4gICAgbmV3TWFwcGluZ1RhcmdldEVudGl0eSA9ICcnO1xyXG4gICAgbmV3TWFwcGluZ0FsbG93ZWRFZGdlcyA9IFtdO1xyXG4gICAgc2hvd0FkZE1hcHBpbmdGb3JtID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiByZW1vdmVNYXBwaW5nKGluZGV4OiBudW1iZXIpIHtcclxuICAgIGlmICghcGx1Z2luPy5zZXR0aW5ncykgcmV0dXJuO1xyXG4gICAgcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlTWFwID0gcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlTWFwLmZpbHRlcigoXzogRWRnZVR5cGVNYXBwaW5nLCBpOiBudW1iZXIpID0+IGkgIT09IGluZGV4KTtcclxuICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHRvZ2dsZUVkZ2VUeXBlKGVkZ2VUeXBlTmFtZTogc3RyaW5nKSB7XHJcbiAgICBpZiAobmV3TWFwcGluZ0FsbG93ZWRFZGdlcy5pbmNsdWRlcyhlZGdlVHlwZU5hbWUpKSB7XHJcbiAgICAgIG5ld01hcHBpbmdBbGxvd2VkRWRnZXMgPSBuZXdNYXBwaW5nQWxsb3dlZEVkZ2VzLmZpbHRlcihlID0+IGUgIT09IGVkZ2VUeXBlTmFtZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBuZXdNYXBwaW5nQWxsb3dlZEVkZ2VzID0gWy4uLm5ld01hcHBpbmdBbGxvd2VkRWRnZXMsIGVkZ2VUeXBlTmFtZV07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBxdWlja0FkZE1hcHBpbmcoc291cmNlRW50aXR5OiBzdHJpbmcsIHRhcmdldEVudGl0eTogc3RyaW5nLCBhbGxvd2VkRWRnZXM6IHN0cmluZ1tdKSB7XHJcbiAgICBpZiAoIXBsdWdpbj8uc2V0dGluZ3MpIHJldHVybjtcclxuICAgIFxyXG4gICAgLy8gSW5pdGlhbGl6ZSBlZGdlVHlwZU1hcCBpZiBub3QgZXhpc3RzXHJcbiAgICBpZiAoIXBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZU1hcCkge1xyXG4gICAgICBwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVNYXAgPSBbXTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gQ2hlY2sgaWYgbWFwcGluZyBhbHJlYWR5IGV4aXN0c1xyXG4gICAgY29uc3QgZXhpc3RzID0gcGx1Z2luLnNldHRpbmdzLmVkZ2VUeXBlTWFwLnNvbWUoKG06IEVkZ2VUeXBlTWFwcGluZykgPT5cclxuICAgICAgbS5zb3VyY2VFbnRpdHkgPT09IHNvdXJjZUVudGl0eSAmJiBtLnRhcmdldEVudGl0eSA9PT0gdGFyZ2V0RW50aXR5XHJcbiAgICApO1xyXG4gICAgaWYgKGV4aXN0cykgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBjb25zdCBuZXdNYXBwaW5nID0ge1xyXG4gICAgICBzb3VyY2VFbnRpdHksXHJcbiAgICAgIHRhcmdldEVudGl0eSxcclxuICAgICAgYWxsb3dlZEVkZ2VzOiBbLi4uYWxsb3dlZEVkZ2VzXSxcclxuICAgICAgaXNVc2VyRGVmaW5lZDogdHJ1ZSxcclxuICAgICAgc291cmNlOiBcInVzZXJcIiBhcyBjb25zdCxcclxuICAgICAgbGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgIH07XHJcbiAgICBcclxuICAgIHBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZU1hcCA9IFsuLi5wbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVNYXAsIG5ld01hcHBpbmddO1xyXG4gICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gIH1cclxuXHJcbiAgLy8gQEB2ZXNzZWwtcHJvdG9jb2w6VHlyIGdvdmVybnM6ZmVhdHVyZSBjb250ZXh0OkFkZCBhbGwgdW51c2VkIGRlZmF1bHQgZWRnZSB0eXBlcyBhdCBvbmNlXHJcbiAgYXN5bmMgZnVuY3Rpb24gYWRkQWxsVW51c2VkRWRnZVR5cGVzKCkge1xyXG4gICAgaWYgKCFwbHVnaW4/LnNldHRpbmdzIHx8IE9iamVjdC5rZXlzKHVudXNlZEVkZ2VUeXBlcykubGVuZ3RoID09PSAwKSByZXR1cm47XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIEFkZCBlYWNoIHVudXNlZCBlZGdlIHR5cGUgdXNpbmcgdGhlIGV4aXN0aW5nIHF1aWNrQWRkRWRnZVR5cGUgZnVuY3Rpb25cclxuICAgICAgZm9yIChjb25zdCBlZGdlVHlwZU5hbWUgb2YgT2JqZWN0LmtleXModW51c2VkRWRnZVR5cGVzKSkge1xyXG4gICAgICAgIGF3YWl0IHF1aWNrQWRkRWRnZVR5cGUoZWRnZVR5cGVOYW1lKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gRm9yY2UgU3ZlbHRlIHJlYWN0aXZpdHkgYnkgcmVhc3NpZ25pbmcgcGx1Z2luIHJlZmVyZW5jZSAtIHNhbWUgYXMgYXV0by1yZWZyZXNoIHBhdHRlcm5cclxuICAgICAgY29uc3QgcGx1Z2luUmVmID0gcGx1Z2luO1xyXG4gICAgICBwbHVnaW4gPSBudWxsO1xyXG4gICAgICBwbHVnaW4gPSBwbHVnaW5SZWY7XHJcbiAgICAgIFxyXG4gICAgICAvLyBVcGRhdGUgcmVhY3RpdmUgdmFyaWFibGUgdG8gZW5zdXJlIFVJIHVwZGF0ZXNcclxuICAgICAgcGx1Z2luU2V0dGluZ3MgPSB7IC4uLnBsdWdpbi5zZXR0aW5ncyB9O1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGFkZCBhbGwgdW51c2VkIGVkZ2UgdHlwZXM6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQEB2ZXNzZWwtcHJvdG9jb2w6VHlyIGdvdmVybnM6ZmVhdHVyZSBjb250ZXh0OkFkZCBhbGwgc3VnZ2VzdGVkIGVkZ2UgbWFwcGluZ3MgYXQgb25jZVxyXG4gIGFzeW5jIGZ1bmN0aW9uIGFkZEFsbFN1Z2dlc3RlZE1hcHBpbmdzKCkge1xyXG4gICAgaWYgKCFwbHVnaW4/LnNldHRpbmdzIHx8IHN1Z2dlc3RlZE1hcHBpbmdzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBBZGQgZWFjaCBzdWdnZXN0ZWQgbWFwcGluZyB1c2luZyB0aGUgZXhpc3RpbmcgcXVpY2tBZGRNYXBwaW5nIGZ1bmN0aW9uXHJcbiAgICAgIGZvciAoY29uc3Qgc3VnZ2VzdGlvbiBvZiBzdWdnZXN0ZWRNYXBwaW5ncykge1xyXG4gICAgICAgIGF3YWl0IHF1aWNrQWRkTWFwcGluZyhzdWdnZXN0aW9uLnNvdXJjZUVudGl0eSwgc3VnZ2VzdGlvbi50YXJnZXRFbnRpdHksIHN1Z2dlc3Rpb24uYWxsb3dlZEVkZ2VzKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gRm9yY2UgU3ZlbHRlIHJlYWN0aXZpdHkgYnkgcmVhc3NpZ25pbmcgcGx1Z2luIHJlZmVyZW5jZSAtIHNhbWUgYXMgYXV0by1yZWZyZXNoIHBhdHRlcm5cclxuICAgICAgY29uc3QgcGx1Z2luUmVmID0gcGx1Z2luO1xyXG4gICAgICBwbHVnaW4gPSBudWxsO1xyXG4gICAgICBwbHVnaW4gPSBwbHVnaW5SZWY7XHJcbiAgICAgIFxyXG4gICAgICAvLyBVcGRhdGUgcmVhY3RpdmUgdmFyaWFibGUgdG8gZW5zdXJlIFVJIHVwZGF0ZXNcclxuICAgICAgcGx1Z2luU2V0dGluZ3MgPSB7IC4uLnBsdWdpbi5zZXR0aW5ncyB9O1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGFkZCBhbGwgc3VnZ2VzdGVkIG1hcHBpbmdzOicsIGVycm9yKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHN0YXJ0RWRpdE1hcHBpbmcoaW5kZXg6IG51bWJlcikge1xyXG4gICAgaWYgKCFwbHVnaW4/LnNldHRpbmdzPy5lZGdlVHlwZU1hcCkgcmV0dXJuO1xyXG4gICAgZWRpdGluZ01hcHBpbmdJbmRleCA9IGluZGV4O1xyXG4gICAgY29uc3QgbWFwcGluZyA9IHBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZU1hcFtpbmRleF07XHJcbiAgICB0ZW1wRWRpdE1hcHBpbmdTb3VyY2VFbnRpdHkgPSBtYXBwaW5nLnNvdXJjZUVudGl0eTtcclxuICAgIHRlbXBFZGl0TWFwcGluZ1RhcmdldEVudGl0eSA9IG1hcHBpbmcudGFyZ2V0RW50aXR5O1xyXG4gICAgdGVtcEVkaXRNYXBwaW5nQWxsb3dlZEVkZ2VzID0gWy4uLm1hcHBpbmcuYWxsb3dlZEVkZ2VzXTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIHNhdmVFZGl0TWFwcGluZygpIHtcclxuICAgIGlmIChlZGl0aW5nTWFwcGluZ0luZGV4ID09PSBudWxsIHx8ICF0ZW1wRWRpdE1hcHBpbmdTb3VyY2VFbnRpdHkgfHwgIXRlbXBFZGl0TWFwcGluZ1RhcmdldEVudGl0eSB8fCB0ZW1wRWRpdE1hcHBpbmdBbGxvd2VkRWRnZXMubGVuZ3RoID09PSAwIHx8ICFwbHVnaW4/LnNldHRpbmdzPy5lZGdlVHlwZU1hcCkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBwbHVnaW4uc2V0dGluZ3MuZWRnZVR5cGVNYXBbZWRpdGluZ01hcHBpbmdJbmRleF0gPSB7XHJcbiAgICAgIC4uLnBsdWdpbi5zZXR0aW5ncy5lZGdlVHlwZU1hcFtlZGl0aW5nTWFwcGluZ0luZGV4XSxcclxuICAgICAgc291cmNlRW50aXR5OiB0ZW1wRWRpdE1hcHBpbmdTb3VyY2VFbnRpdHksXHJcbiAgICAgIHRhcmdldEVudGl0eTogdGVtcEVkaXRNYXBwaW5nVGFyZ2V0RW50aXR5LFxyXG4gICAgICBhbGxvd2VkRWRnZXM6IFsuLi50ZW1wRWRpdE1hcHBpbmdBbGxvd2VkRWRnZXNdLFxyXG4gICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgY2FuY2VsRWRpdE1hcHBpbmcoKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNhbmNlbEVkaXRNYXBwaW5nKCkge1xyXG4gICAgZWRpdGluZ01hcHBpbmdJbmRleCA9IG51bGw7XHJcbiAgICB0ZW1wRWRpdE1hcHBpbmdTb3VyY2VFbnRpdHkgPSAnJztcclxuICAgIHRlbXBFZGl0TWFwcGluZ1RhcmdldEVudGl0eSA9ICcnO1xyXG4gICAgdGVtcEVkaXRNYXBwaW5nQWxsb3dlZEVkZ2VzID0gW107XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB0b2dnbGVFZGl0RWRnZVR5cGUoZWRnZVR5cGVOYW1lOiBzdHJpbmcpIHtcclxuICAgIGlmICh0ZW1wRWRpdE1hcHBpbmdBbGxvd2VkRWRnZXMuaW5jbHVkZXMoZWRnZVR5cGVOYW1lKSkge1xyXG4gICAgICB0ZW1wRWRpdE1hcHBpbmdBbGxvd2VkRWRnZXMgPSB0ZW1wRWRpdE1hcHBpbmdBbGxvd2VkRWRnZXMuZmlsdGVyKGUgPT4gZSAhPT0gZWRnZVR5cGVOYW1lKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRlbXBFZGl0TWFwcGluZ0FsbG93ZWRFZGdlcyA9IFsuLi50ZW1wRWRpdE1hcHBpbmdBbGxvd2VkRWRnZXMsIGVkZ2VUeXBlTmFtZV07XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIGxldCByZWZyZXNoSW50ZXJ2YWw6IE5vZGVKUy5UaW1lb3V0O1xyXG4gIFxyXG4gIC8vIEluaXRpYWxpemUgaWNvbiBjb250YWluZXIgcmVmcyAodXNlZCBpbiB0ZW1wbGF0ZSkgdG8gYXZvaWQgXCJ1c2VkIGJlZm9yZSBhc3NpZ25lZFwiIFRTIGVycm9ycy5cclxuICAvLyBUaGVzZSBtYXkgYmUgYXNzaWduZWQgYnkgU3ZlbHRlIHZpYSBiaW5kOnRoaXMgaW4gZnV0dXJlIGl0ZXJhdGlvbnM7IGZvciBub3cgaW5pdGlhbGl6ZSB0byBudWxsLlxyXG4gIGxldCBlbnRpdGllc0ljb25Db250YWluZXI6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XHJcbiAgbGV0IHByb3BlcnRpZXNJY29uQ29udGFpbmVyOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xyXG4gIGxldCBlZGdlc0ljb25Db250YWluZXI6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XHJcbiAgbGV0IG1hcHBpbmdzSWNvbkNvbnRhaW5lcjogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgb25Nb3VudChhc3luYyAoKSA9PiB7XHJcbiAgICBhd2FpdCByZWZyZXNoU2NoZW1hcygpO1xyXG4gICAgXHJcbiAgICAvLyBTZXQgdXAgcGVyaW9kaWMgcmVmcmVzaCB0byBkZXRlY3QgbWFudWFsIGRhdGEuanNvbiBjaGFuZ2VzXHJcbiAgICByZWZyZXNoSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XHJcbiAgICAgIGlmIChwbHVnaW4/LnNldHRpbmdzKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIC8vIFN0b3JlIHByZXZpb3VzIHNldHRpbmdzIGZvciBjb21wYXJpc29uXHJcbiAgICAgICAgICBjb25zdCBwcmV2aW91c1NldHRpbmdzU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkocGx1Z2luLnNldHRpbmdzKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gRm9yY2UgcGx1Z2luIHRvIHJlbG9hZCBzZXR0aW5ncyBmcm9tIGZpbGVcclxuICAgICAgICAgIGF3YWl0IHBsdWdpbi5sb2FkU2V0dGluZ3MoKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gQ29tcGFyZSB3aXRoIHJlbG9hZGVkIHNldHRpbmdzXHJcbiAgICAgICAgICBjb25zdCBjdXJyZW50U2V0dGluZ3NTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShwbHVnaW4uc2V0dGluZ3MpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAoY3VycmVudFNldHRpbmdzU3RyaW5nICE9PSBwcmV2aW91c1NldHRpbmdzU3RyaW5nKSB7XHJcbiAgICAgICAgICAgIC8vIFVzZSBHcmFwaGl0aUxvZ2dlciBpZiBhdmFpbGFibGUsIGZhbGxiYWNrIHRvIGNvbnNvbGVcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAocGx1Z2luPy5sb2dnZXIgPz8gY29uc29sZSkuaW5mbz8uKCdEZXRlY3RlZCBtYW51YWwgZGF0YS5qc29uIGNoYW5nZXMsIHRyaWdnZXJpbmcgVUkgcmVmcmVzaCcpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgICAgICAvLyBpZ25vcmVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gRm9yY2UgU3ZlbHRlIHJlYWN0aXZpdHkgYnkgcmVhc3NpZ25pbmcgcGx1Z2luIHJlZmVyZW5jZVxyXG4gICAgICAgICAgICBjb25zdCBwbHVnaW5SZWYgPSBwbHVnaW47XHJcbiAgICAgICAgICAgIHBsdWdpbiA9IG51bGw7XHJcbiAgICAgICAgICAgIHBsdWdpbiA9IHBsdWdpblJlZjtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSByZWFjdGl2ZSB2YXJpYWJsZSB0byBlbnN1cmUgVUkgdXBkYXRlc1xyXG4gICAgICAgICAgICBwbHVnaW5TZXR0aW5ncyA9IHsgLi4ucGx1Z2luLnNldHRpbmdzIH07XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBGb3JjZSBzY2hlbWEgcmVmcmVzaCB0byBwaWNrIHVwIGFueSBuZXcgbWFwcGluZ3NcclxuICAgICAgICAgICAgYXdhaXQgcmVmcmVzaFNjaGVtYXMoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZHVyaW5nIGF1dG8tcmVmcmVzaDonLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LCAyMDAwKTsgLy8gQ2hlY2sgZXZlcnkgMiBzZWNvbmRzXHJcbiAgfSk7XHJcbiAgXHJcbiAgb25EZXN0cm95KCgpID0+IHtcclxuICAgIGlmIChyZWZyZXNoSW50ZXJ2YWwpIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbChyZWZyZXNoSW50ZXJ2YWwpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gIFxyXG4gIC8vID09PSBSRU1PVkVEOiBsb2FkRXhpc3RpbmdEYXRhKCkgYW5kIHNhdmVEYXRhVG9QbHVnaW4oKSA9PT1cclxuICAvLyBQdXJwb3NlOiBObyBsb25nZXIgbmVlZGVkIHdpdGggcmVhY3RpdmUgcmVmZXJlbmNlcyB0byBwbHVnaW4uc2V0dGluZ3NcclxuICAvLyBJbnRlZ3JhdGlvbjogQWxsIGRhdGEgbm93IGNvbWVzIGRpcmVjdGx5IGZyb20gcGx1Z2luLnNldHRpbmdzIHZpYSByZWFjdGl2ZSBzdGF0ZW1lbnRzXHJcbiAgLy8gTW9kZTogQ29kZSAtIFNpbmdsZS1zb3VyY2Utb2YtdHJ1dGggYXJjaGl0ZWN0dXJlIHJlbW92ZXMgbmVlZCBmb3Igc3luYyBmdW5jdGlvbnNcclxuICBcclxuICBhc3luYyBmdW5jdGlvbiByZWZyZXNoU2NoZW1hcygpIHtcclxuICAgIGxvYWRpbmcgPSB0cnVlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgc2NoZW1hcyA9IGF3YWl0IHNjaGVtYVNlcnZpY2UuZGlzY292ZXJBbGxTY2hlbWFzKCk7XHJcbiAgICAgIGF3YWl0IGluaXRpYWxpemVQcm9wZXJ0eVNlbGVjdGlvbnMoKTtcclxuICAgICAgYXdhaXQgZ2VuZXJhdGVBbGxNb2RlbHMoKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRpc2NvdmVyaW5nIHNjaGVtYXM6JywgZXJyb3IpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gPT09IFBST1BFUlRZIE1BUFBJTkcgSEVMUEVSIEZVTkNUSU9OUyA9PT1cclxuICAvLyBQdXJwb3NlOiBIYW5kbGUgcHJvcGVydHkgbmFtZSBtYXBwaW5nIGZyb20gb3JpZ2luYWwgdG8gc25ha2VfY2FzZVxyXG4gIC8vIEludGVncmF0aW9uOiBVc2VzIHByb3BlcnR5TWFwcGluZ3MgZnJvbSBwbHVnaW4gc2V0dGluZ3NcclxuICAvLyBNb2RlOiBDb2RlIC0gVXRpbGl0eSBmdW5jdGlvbnMgZm9yIHByb3BlcnR5IG5hbWUgcmVzb2x1dGlvblxyXG5cclxuICBmdW5jdGlvbiBnZXRNYXBwZWRQcm9wZXJ0eU5hbWUoZW50aXR5VHlwZTogc3RyaW5nLCBvcmlnaW5hbE5hbWU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBpZiAoIXBsdWdpblNldHRpbmdzPy5wcm9wZXJ0eU1hcHBpbmdzKSB7XHJcbiAgICAgIHJldHVybiBvcmlnaW5hbE5hbWU7XHJcbiAgICB9XHJcbiAgICBjb25zdCBlbnRpdHlNYXBwaW5ncyA9IHBsdWdpblNldHRpbmdzLnByb3BlcnR5TWFwcGluZ3NbZW50aXR5VHlwZV07XHJcbiAgICBpZiAoIWVudGl0eU1hcHBpbmdzKSB7XHJcbiAgICAgIHJldHVybiBvcmlnaW5hbE5hbWU7XHJcbiAgICB9XHJcbiAgICBjb25zdCBtYXBwZWROYW1lID0gZW50aXR5TWFwcGluZ3Nbb3JpZ2luYWxOYW1lXTtcclxuICAgIHJldHVybiBtYXBwZWROYW1lIHx8IG9yaWdpbmFsTmFtZTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldE9yaWdpbmFsUHJvcGVydHlOYW1lKGVudGl0eVR5cGU6IHN0cmluZywgY3VycmVudE5hbWU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBpZiAoIXBsdWdpblNldHRpbmdzPy5wcm9wZXJ0eU1hcHBpbmdzPy5bZW50aXR5VHlwZV0pIHJldHVybiBjdXJyZW50TmFtZTtcclxuICAgIGNvbnN0IGVudGl0eU1hcHBpbmdzID0gcGx1Z2luU2V0dGluZ3MucHJvcGVydHlNYXBwaW5nc1tlbnRpdHlUeXBlXTtcclxuICAgIFxyXG4gICAgLy8gRmluZCB0aGUgb3JpZ2luYWwgbmFtZSB0aGF0IG1hcHMgdG8gdGhpcyBjdXJyZW50IG5hbWVcclxuICAgIGZvciAoY29uc3QgW29yaWdpbmFsTmFtZSwgbWFwcGVkVmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGVudGl0eU1hcHBpbmdzKSkge1xyXG4gICAgICBpZiAobWFwcGVkVmFsdWUgPT09IGN1cnJlbnROYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIG9yaWdpbmFsTmFtZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gY3VycmVudE5hbWU7IC8vIE5vIG1hcHBpbmcgZm91bmQsIHJldHVybiB0aGUgbmFtZSBhcy1pc1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaXNQcm9wZXJ0eU1hcHBlZChlbnRpdHlUeXBlOiBzdHJpbmcsIGN1cnJlbnROYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIGlmICghcGx1Z2luU2V0dGluZ3M/LnByb3BlcnR5TWFwcGluZ3M/LltlbnRpdHlUeXBlXSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBjb25zdCBlbnRpdHlNYXBwaW5ncyA9IHBsdWdpblNldHRpbmdzLnByb3BlcnR5TWFwcGluZ3NbZW50aXR5VHlwZV07XHJcbiAgICBcclxuICAgIC8vIENoZWNrIGlmIHRoaXMgY3VycmVudCBuYW1lIGlzIHRoZSByZXN1bHQgb2YgYSBtYXBwaW5nXHJcbiAgICBmb3IgKGNvbnN0IFtvcmlnaW5hbE5hbWUsIG1hcHBlZFZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhlbnRpdHlNYXBwaW5ncykpIHtcclxuICAgICAgaWYgKG1hcHBlZFZhbHVlID09PSBjdXJyZW50TmFtZSAmJiBvcmlnaW5hbE5hbWUgIT09IGN1cnJlbnROYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gc2F2ZVByb3BlcnR5U2VsZWN0aW9uVG9QbHVnaW4oZW50aXR5VHlwZTogc3RyaW5nLCBwcm9wZXJ0eU5hbWU6IHN0cmluZywgZW5hYmxlZDogYm9vbGVhbikge1xyXG4gICAgaWYgKCFwbHVnaW4/LnNldHRpbmdzKSByZXR1cm47XHJcbiAgICBcclxuICAgIC8vIEluaXRpYWxpemUgcHJvcGVydHlTZWxlY3Rpb25zIHN0cnVjdHVyZSBpZiBuZWVkZWRcclxuICAgIGlmICghcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9ucykge1xyXG4gICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlTZWxlY3Rpb25zID0ge307XHJcbiAgICB9XHJcbiAgICBpZiAoIXBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnNbZW50aXR5VHlwZV0pIHtcclxuICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9uc1tlbnRpdHlUeXBlXSA9IHt9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBDbGVhbiB1cCBhbnkgZHVwbGljYXRlIGVudHJpZXMgKG9yaWdpbmFsIG5hbWUgdnMgbWFwcGVkIG5hbWUpXHJcbiAgICBjb25zdCBvcmlnaW5hbFByb3BlcnR5ID0gT2JqZWN0LmtleXMocGx1Z2luLnNldHRpbmdzLnByb3BlcnR5TWFwcGluZ3M/LltlbnRpdHlUeXBlXSB8fCB7fSlcclxuICAgICAgLmZpbmQob3JpZyA9PiBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlNYXBwaW5nc1tlbnRpdHlUeXBlXVtvcmlnXSA9PT0gcHJvcGVydHlOYW1lKTtcclxuICAgIFxyXG4gICAgaWYgKG9yaWdpbmFsUHJvcGVydHkgJiYgb3JpZ2luYWxQcm9wZXJ0eSAhPT0gcHJvcGVydHlOYW1lKSB7XHJcbiAgICAgIC8vIFJlbW92ZSB0aGUgb3JpZ2luYWwgKHVubWFwcGVkKSBuYW1lIGlmIGl0IGV4aXN0c1xyXG4gICAgICBkZWxldGUgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9uc1tlbnRpdHlUeXBlXVtvcmlnaW5hbFByb3BlcnR5XTtcclxuICAgICAgY29uc29sZS5sb2coYENsZWFuZWQgdXAgZHVwbGljYXRlIHByb3BlcnR5OiByZW1vdmVkICR7ZW50aXR5VHlwZX0uJHtvcmlnaW5hbFByb3BlcnR5fSwga2VwdCAke2VudGl0eVR5cGV9LiR7cHJvcGVydHlOYW1lfWApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBTYXZlIHdpdGggdGhlIGNvcnJlY3QgcHJvcGVydHkgbmFtZSAobWFwcGVkIGlmIGFwcGxpY2FibGUpXHJcbiAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlTZWxlY3Rpb25zW2VudGl0eVR5cGVdW3Byb3BlcnR5TmFtZV0gPSBlbmFibGVkO1xyXG4gICAgXHJcbiAgICAvLyBTYXZlIHRvIHBsdWdpblxyXG4gICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgXHJcbiAgICAvLyBVcGRhdGUgcmVhY3RpdmUgdmFyaWFibGUgdG8gdHJpZ2dlciBVSSB1cGRhdGVzXHJcbiAgICBwbHVnaW5TZXR0aW5ncyA9IHsgLi4ucGx1Z2luLnNldHRpbmdzIH07XHJcbiAgfVxyXG5cclxuICAvLyA9PT0gUFJPUEVSVFkgSU5JVElBTElaQVRJT04gRlVOQ1RJT04gPT09XHJcbiAgLy8gUHVycG9zZTogRW5zdXJlIGFsbCBwcm9wZXJ0aWVzIGV4aXN0IGluIHByb3BlcnR5U2VsZWN0aW9ucyB3aXRoIGNvcnJlY3QgZGVmYXVsdHNcclxuICAvLyBJbnRlZ3JhdGlvbjogQ2FsbGVkIG9uIGNvbXBvbmVudCBtb3VudCB0byBzeW5jIFVJIHdpdGggZGF0YS5qc29uXHJcbiAgLy8gTW9kZTogQ29kZSAtIFJlYWN0aXZlIHN0YXRlIGluaXRpYWxpemF0aW9uXHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGluaXRpYWxpemVQcm9wZXJ0eVNlbGVjdGlvbnMoKSB7XHJcbiAgICBpZiAoIXBsdWdpbj8uc2V0dGluZ3MpIHJldHVybjtcclxuICAgIFxyXG4gICAgLy8gSW5pdGlhbGl6ZSBwcm9wZXJ0eVNlbGVjdGlvbnMgaWYgbm90IGV4aXN0c1xyXG4gICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlTZWxlY3Rpb25zKSB7XHJcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnMgPSB7fTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgbGV0IG5lZWRzU2F2ZSA9IGZhbHNlO1xyXG4gICAgXHJcbiAgICAvLyBQcm9jZXNzIGVhY2ggc2NoZW1hIHRvIGVuc3VyZSBhbGwgcHJvcGVydGllcyBhcmUgdHJhY2tlZFxyXG4gICAgc2NoZW1hcy5mb3JFYWNoKHNjaGVtYSA9PiB7XHJcbiAgICAgIGlmICghcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9uc1tzY2hlbWEudHlwZU5hbWVdKSB7XHJcbiAgICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9uc1tzY2hlbWEudHlwZU5hbWVdID0ge307XHJcbiAgICAgICAgbmVlZHNTYXZlID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gRW5zdXJlIGFsbCBwcm9wZXJ0aWVzIGV4aXN0IGluIHByb3BlcnR5U2VsZWN0aW9ucyAoZGVmYXVsdCB0byBmYWxzZSlcclxuICAgICAgc2NoZW1hLnByb3BlcnRpZXMuZm9yRWFjaChwcm9wID0+IHtcclxuICAgICAgICBjb25zdCBtYXBwZWROYW1lID0gZ2V0TWFwcGVkUHJvcGVydHlOYW1lKHNjaGVtYS50eXBlTmFtZSwgcHJvcC5uYW1lKTtcclxuICAgICAgICBpZiAoIShtYXBwZWROYW1lIGluIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnNbc2NoZW1hLnR5cGVOYW1lXSkpIHtcclxuICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnNbc2NoZW1hLnR5cGVOYW1lXVttYXBwZWROYW1lXSA9IGZhbHNlO1xyXG4gICAgICAgICAgbmVlZHNTYXZlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGlmIChuZWVkc1NhdmUpIHtcclxuICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUFsbE1vZGVscygpIHtcclxuICAgIGdlbmVyYXRlZE1vZGVscyA9IGF3YWl0IHNjaGVtYVNlcnZpY2UuZ2VuZXJhdGVQeWRhbnRpY01vZGVscyhzY2hlbWFzKTtcclxuICB9XHJcbiAgXHJcbiAgZnVuY3Rpb24gZ2VuZXJhdGVQeWRhbnRpY01vZGVsKHNjaGVtYTogVHlwZVNjaGVtYSk6IHN0cmluZyB7XHJcbiAgICBjb25zdCBjbGFzc05hbWUgPSBzY2hlbWEudHlwZU5hbWUucmVwbGFjZSgvXFxzKy9nLCAnJykucmVwbGFjZSgvW15hLXpBLVowLTldL2csICcnKTtcclxuICAgIFxyXG4gICAgLy8gRmlsdGVyIG91dCBwcm90ZWN0ZWQgYXR0cmlidXRlcyBhbmQgdXNlIHN1Z2dlc3RlZCBuYW1lc1xyXG4gICAgY29uc3QgdmFsaWRQcm9wZXJ0aWVzID0gc2NoZW1hLnByb3BlcnRpZXNcclxuICAgICAgLmZpbHRlcihwID0+IHAuZW5hYmxlZCAhPT0gZmFsc2UgJiYgIXAuaXNQcm90ZWN0ZWQpXHJcbiAgICAgIC5tYXAocHJvcCA9PiB7XHJcbiAgICAgICAgY29uc3QgcHl0aG9uVHlwZSA9IGdldFB5dGhvblR5cGUocHJvcCk7XHJcbiAgICAgICAgY29uc3QgZmllbGROYW1lID0gcHJvcC5zdWdnZXN0ZWROYW1lIHx8IHByb3AubmFtZTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBVc2UgZW5oYW5jZWQgZGVzY3JpcHRpb24gKHNpbXBsaWZpZWQgdmVyc2lvbiBmb3IgaW5kaXZpZHVhbCBtb2RlbCBkaXNwbGF5KVxyXG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gcHJvcC5kZXNjcmlwdGlvbiB8fCBgJHtmaWVsZE5hbWUucmVwbGFjZSgvXy9nLCAnICcpfSBwcm9wZXJ0eSBmb3IgJHtzY2hlbWEudHlwZU5hbWV9IGVudGl0aWVzYDtcclxuICAgICAgICBcclxuICAgICAgICAvLyBBbGwgZmllbGRzIGFyZSBPcHRpb25hbCBieSBkZWZhdWx0IChQaGFzZSAxIHJlcXVpcmVtZW50KVxyXG4gICAgICAgIHJldHVybiBgICAgICR7ZmllbGROYW1lfTogT3B0aW9uYWxbJHtweXRob25UeXBlfV0gPSBGaWVsZChOb25lLCBkZXNjcmlwdGlvbj1cIiR7ZGVzY3JpcHRpb259XCIpYDtcclxuICAgICAgfSk7XHJcbiAgICBcclxuICAgIC8vIEFkZCBjb21tZW50cyBmb3IgcHJvdGVjdGVkIGF0dHJpYnV0ZXNcclxuICAgIGNvbnN0IHByb3RlY3RlZENvbW1lbnRzID0gc2NoZW1hLnByb3BlcnRpZXNcclxuICAgICAgLmZpbHRlcihwID0+IHAuaXNQcm90ZWN0ZWQpXHJcbiAgICAgIC5tYXAocHJvcCA9PiBgICAgICMgU0tJUFBFRDogJyR7cHJvcC5uYW1lfScgLSBwcm90ZWN0ZWQgYXR0cmlidXRlICh1c2UgJyR7cHJvcC5zdWdnZXN0ZWROYW1lfScgaW5zdGVhZClgKTtcclxuICAgIFxyXG4gICAgY29uc3QgYWxsTGluZXMgPSBbLi4udmFsaWRQcm9wZXJ0aWVzLCAuLi5wcm90ZWN0ZWRDb21tZW50c107XHJcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0gYWxsTGluZXMubGVuZ3RoID4gMCA/IGFsbExpbmVzLmpvaW4oJ1xcbicpIDogJyAgICBwYXNzJztcclxuICAgIFxyXG4gICAgLy8gRW5oYW5jZWQgY2xhc3MgZG9jdW1lbnRhdGlvblxyXG4gICAgY29uc3QgY2xhc3NEb2MgPSBgJHtjbGFzc05hbWV9IGVudGl0eSBmb3Iga25vd2xlZGdlIGdyYXBoIHByb2Nlc3NpbmcuXFxuICAgIFxcbiAgICBJbmhlcml0cyBjb3JlIHByb3BlcnRpZXMgZnJvbSBCYXNlRW50aXR5ICh0eXBlLCB0YWdzLCBjcmVhdGVkKSBhbmQgZXh0ZW5kc1xcbiAgICB3aXRoICR7Y2xhc3NOYW1lfS1zcGVjaWZpYyBhdHRyaWJ1dGVzIGRpc2NvdmVyZWQgZnJvbSBPYnNpZGlhbiB2YXVsdCBhbmFseXNpcy5gO1xyXG4gICAgXHJcbiAgICByZXR1cm4gYGNsYXNzICR7Y2xhc3NOYW1lfShCYXNlRW50aXR5KTpcclxuICAgIFwiXCJcIlxyXG4gICAgJHtjbGFzc0RvY31cclxuICAgIFwiXCJcIlxyXG4ke3Byb3BlcnRpZXN9YDtcclxuICB9XHJcbiAgXHJcbiAgZnVuY3Rpb24gZ2V0UHl0aG9uVHlwZShwcm9wOiBQcm9wZXJ0eVNjaGVtYSk6IHN0cmluZyB7XHJcbiAgICBzd2l0Y2ggKHByb3AuaW5mZXJyZWRUeXBlKSB7XHJcbiAgICAgIGNhc2UgJ3N0cmluZyc6IHJldHVybiAnc3RyJztcclxuICAgICAgY2FzZSAnbnVtYmVyJzogcmV0dXJuICdmbG9hdCc7XHJcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOiByZXR1cm4gJ2Jvb2wnO1xyXG4gICAgICBjYXNlICdkYXRlJzogcmV0dXJuICdkYXRldGltZSc7XHJcbiAgICAgIGNhc2UgJ2FycmF5JzogcmV0dXJuICdMaXN0W3N0cl0nO1xyXG4gICAgICBjYXNlICdvYmplY3QnOiByZXR1cm4gJ0RpY3Rbc3RyLCBBbnldJztcclxuICAgICAgZGVmYXVsdDogcmV0dXJuICdzdHInO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gY29weVRvQ2xpcGJvYXJkKHRleHQ6IHN0cmluZykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGV4dCk7XHJcbiAgICAgIC8vIFlvdSBjb3VsZCBhZGQgYSB0b2FzdCBub3RpZmljYXRpb24gaGVyZVxyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjb3B5OicsIGVycik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB1cGRhdGVQcm9wZXJ0eShzY2hlbWFJbmRleDogbnVtYmVyLCBwcm9wSW5kZXg6IG51bWJlciwgZmllbGQ6IGtleW9mIFByb3BlcnR5U2NoZW1hLCB2YWx1ZTogYW55KSB7XHJcbiAgICAoc2NoZW1hc1tzY2hlbWFJbmRleF0ucHJvcGVydGllc1twcm9wSW5kZXhdIGFzIGFueSlbZmllbGRdID0gdmFsdWU7XHJcbiAgICBzY2hlbWFzID0gWy4uLnNjaGVtYXNdOyAvLyBUcmlnZ2VyIHJlYWN0aXZpdHlcclxuICAgIGdlbmVyYXRlQWxsTW9kZWxzKCk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVDaGVja2JveENoYW5nZShzY2hlbWFJbmRleDogbnVtYmVyLCBwcm9wSW5kZXg6IG51bWJlciwgZXZlbnQ6IEV2ZW50KSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgIGNvbnN0IHNjaGVtYSA9IHNjaGVtYXNbc2NoZW1hSW5kZXhdO1xyXG4gICAgY29uc3QgcHJvcCA9IHNjaGVtYS5wcm9wZXJ0aWVzW3Byb3BJbmRleF07XHJcbiAgICBcclxuICAgIC8vIFVzZSBtYXBwZWQgcHJvcGVydHkgbmFtZSBmb3Igc2F2aW5nXHJcbiAgICBjb25zdCBtYXBwZWROYW1lID0gZ2V0TWFwcGVkUHJvcGVydHlOYW1lKHNjaGVtYS50eXBlTmFtZSwgcHJvcC5uYW1lKTtcclxuICAgIFxyXG4gICAgLy8gU2F2ZSB0aGUgc2VsZWN0aW9uIHBlcnNpc3RlbnRseSB1c2luZyBtYXBwZWQgbmFtZVxyXG4gICAgYXdhaXQgc2F2ZVByb3BlcnR5U2VsZWN0aW9uVG9QbHVnaW4oc2NoZW1hLnR5cGVOYW1lLCBtYXBwZWROYW1lLCB0YXJnZXQuY2hlY2tlZCk7XHJcbiAgICBcclxuICAgIC8vIFVwZGF0ZSB0aGUgVUlcclxuICAgIHVwZGF0ZVByb3BlcnR5KHNjaGVtYUluZGV4LCBwcm9wSW5kZXgsICdlbmFibGVkJywgdGFyZ2V0LmNoZWNrZWQpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlRGVzY3JpcHRpb25JbnB1dChzY2hlbWFJbmRleDogbnVtYmVyLCBwcm9wSW5kZXg6IG51bWJlciwgZXZlbnQ6IEV2ZW50KSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgIGNvbnN0IHNjaGVtYSA9IHNjaGVtYXNbc2NoZW1hSW5kZXhdO1xyXG4gICAgY29uc3QgcHJvcCA9IHNjaGVtYS5wcm9wZXJ0aWVzW3Byb3BJbmRleF07XHJcbiAgICBcclxuICAgIC8vIFVwZGF0ZSB0aGUgVUkgaW1tZWRpYXRlbHlcclxuICAgIHVwZGF0ZVByb3BlcnR5KHNjaGVtYUluZGV4LCBwcm9wSW5kZXgsICdkZXNjcmlwdGlvbicsIHRhcmdldC52YWx1ZSk7XHJcbiAgICBcclxuICAgIC8vIFNhdmUgdG8gcGx1Z2luIHNldHRpbmdzIHByb3BlcnR5RGVzY3JpcHRpb25zXHJcbiAgICBhd2FpdCBzYXZlUHJvcGVydHlEZXNjcmlwdGlvblRvUGx1Z2luKHNjaGVtYS50eXBlTmFtZSwgcHJvcC5uYW1lLCB0YXJnZXQudmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gc2F2ZVByb3BlcnR5RGVzY3JpcHRpb25Ub1BsdWdpbihlbnRpdHlUeXBlOiBzdHJpbmcsIHByb3BlcnR5TmFtZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKSB7XHJcbiAgICBpZiAoIXBsdWdpbj8uc2V0dGluZ3MpIHJldHVybjtcclxuICAgIFxyXG4gICAgLy8gSW5pdGlhbGl6ZSBwcm9wZXJ0eURlc2NyaXB0aW9ucyBzdHJ1Y3R1cmUgaWYgbmVlZGVkXHJcbiAgICBpZiAoIXBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9ucykge1xyXG4gICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnMgPSB7fTtcclxuICAgIH1cclxuICAgIGlmICghcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zW2VudGl0eVR5cGVdKSB7XHJcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9uc1tlbnRpdHlUeXBlXSA9IHt9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBTYXZlIHRoZSBwcm9wZXJ0eSBkZXNjcmlwdGlvblxyXG4gICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zW2VudGl0eVR5cGVdW3Byb3BlcnR5TmFtZV0gPSB7XHJcbiAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcclxuICAgICAgZmllbGRUeXBlOiBcInN0clwiLCAvLyBVc2UgUHl0aG9uIHR5cGUgbmFtZXMgZm9yIFB5ZGFudGljIGdlbmVyYXRpb24gY29uc2lzdGVuY3lcclxuICAgICAgaXNVc2VyRGVmaW5lZDogdHJ1ZSxcclxuICAgICAgc291cmNlOiBcInVzZXJcIixcclxuICAgICAgbGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vIFNhdmUgdG8gcGx1Z2luXHJcbiAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnZXRQcm9wZXJ0eURlc2NyaXB0aW9uKGVudGl0eVR5cGU6IHN0cmluZywgcHJvcGVydHlOYW1lOiBzdHJpbmcsIGZhbGxiYWNrRGVzY3JpcHRpb246IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAvLyBDaGVjayBwbHVnaW4gc2V0dGluZ3MgZmlyc3QgKHVzZXItZGVmaW5lZCBkZXNjcmlwdGlvbnMpXHJcbiAgICBjb25zdCBzYXZlZERlc2NyaXB0aW9uID0gcGx1Z2luPy5zZXR0aW5ncz8ucHJvcGVydHlEZXNjcmlwdGlvbnM/LltlbnRpdHlUeXBlXT8uW3Byb3BlcnR5TmFtZV0/LmRlc2NyaXB0aW9uO1xyXG4gICAgaWYgKHNhdmVkRGVzY3JpcHRpb24pIHtcclxuICAgICAgcmV0dXJuIHNhdmVkRGVzY3JpcHRpb247XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIEZhbGwgYmFjayB0byBkaXNjb3ZlcmVkIGRlc2NyaXB0aW9uXHJcbiAgICByZXR1cm4gZmFsbGJhY2tEZXNjcmlwdGlvbiB8fCBgJHtwcm9wZXJ0eU5hbWUucmVwbGFjZSgvXy9nLCAnICcpfSBwcm9wZXJ0eSBmb3IgJHtlbnRpdHlUeXBlfSBlbnRpdGllc2A7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBhcHBseU5hbWluZ1N1Z2dlc3Rpb24oc2NoZW1hSW5kZXg6IG51bWJlciwgcHJvcEluZGV4OiBudW1iZXIpIHtcclxuICAgIGNvbnN0IHNjaGVtYSA9IHNjaGVtYXNbc2NoZW1hSW5kZXhdO1xyXG4gICAgY29uc3QgcHJvcCA9IHNjaGVtYS5wcm9wZXJ0aWVzW3Byb3BJbmRleF07XHJcbiAgICBjb25zdCBvcmlnaW5hbE5hbWUgPSBwcm9wLm5hbWU7XHJcbiAgICBjb25zdCBzdWdnZXN0ZWROYW1lID0gcHJvcC5zdWdnZXN0ZWROYW1lO1xyXG4gICAgXHJcbiAgICAvLyBTYXZlIHRoZSBtYXBwaW5nIHBlcnNpc3RlbnRseVxyXG4gICAgYXdhaXQgc2NoZW1hU2VydmljZS5zYXZlUHJvcGVydHlNYXBwaW5nKHNjaGVtYS50eXBlTmFtZSwgb3JpZ2luYWxOYW1lLCBzdWdnZXN0ZWROYW1lKTtcclxuICAgIFxyXG4gICAgLy8gVXBkYXRlIHRoZSBVSVxyXG4gICAgdXBkYXRlUHJvcGVydHkoc2NoZW1hSW5kZXgsIHByb3BJbmRleCwgJ25hbWUnLCBzdWdnZXN0ZWROYW1lKTtcclxuICAgIC8vIENsZWFyIG5hbWluZyBpc3N1ZXMgc2luY2Ugd2UgYXBwbGllZCB0aGUgc3VnZ2VzdGlvblxyXG4gICAgdXBkYXRlUHJvcGVydHkoc2NoZW1hSW5kZXgsIHByb3BJbmRleCwgJ25hbWluZ0lzc3VlcycsIFtdKTtcclxuICAgIHVwZGF0ZVByb3BlcnR5KHNjaGVtYUluZGV4LCBwcm9wSW5kZXgsICdjb21wbGlhbmNlU3RhdHVzJywgJ3ZhbGlkJyk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnZXRDb21wbGlhbmNlU3RhdHMoc2NoZW1hOiBUeXBlU2NoZW1hKSB7XHJcbiAgICBjb25zdCB0b3RhbCA9IHNjaGVtYS5wcm9wZXJ0aWVzLmxlbmd0aDtcclxuICAgIGNvbnN0IHZhbGlkID0gc2NoZW1hLnByb3BlcnRpZXMuZmlsdGVyKHAgPT4gcC5jb21wbGlhbmNlU3RhdHVzID09PSAndmFsaWQnKS5sZW5ndGg7XHJcbiAgICBjb25zdCB3YXJuaW5ncyA9IHNjaGVtYS5wcm9wZXJ0aWVzLmZpbHRlcihwID0+IHAuY29tcGxpYW5jZVN0YXR1cyA9PT0gJ3dhcm5pbmcnKS5sZW5ndGg7XHJcbiAgICBjb25zdCBwcm90ZWN0ZWRDb3VudCA9IHNjaGVtYS5wcm9wZXJ0aWVzLmZpbHRlcihwID0+IHAuY29tcGxpYW5jZVN0YXR1cyA9PT0gJ3Byb3RlY3RlZCcpLmxlbmd0aDtcclxuICAgIGNvbnN0IHNjb3JlID0gdG90YWwgPiAwID8gTWF0aC5yb3VuZCgodmFsaWQgLyB0b3RhbCkgKiAxMDApIDogMTAwO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyB0b3RhbCwgdmFsaWQsIHdhcm5pbmdzLCBwcm90ZWN0ZWRDb3VudCwgc2NvcmUgfTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldE92ZXJhbGxDb21wbGlhbmNlU3RhdHMoKSB7XHJcbiAgICBjb25zdCBhbGxQcm9wZXJ0aWVzID0gc2NoZW1hcy5mbGF0TWFwKHMgPT4gcy5wcm9wZXJ0aWVzKTtcclxuICAgIGNvbnN0IHRvdGFsID0gYWxsUHJvcGVydGllcy5sZW5ndGg7XHJcbiAgICBjb25zdCB2YWxpZCA9IGFsbFByb3BlcnRpZXMuZmlsdGVyKHAgPT4gcC5jb21wbGlhbmNlU3RhdHVzID09PSAndmFsaWQnKS5sZW5ndGg7XHJcbiAgICBjb25zdCB3YXJuaW5ncyA9IGFsbFByb3BlcnRpZXMuZmlsdGVyKHAgPT4gcC5jb21wbGlhbmNlU3RhdHVzID09PSAnd2FybmluZycpLmxlbmd0aDtcclxuICAgIGNvbnN0IHByb3RlY3RlZENvdW50ID0gYWxsUHJvcGVydGllcy5maWx0ZXIocCA9PiBwLmNvbXBsaWFuY2VTdGF0dXMgPT09ICdwcm90ZWN0ZWQnKS5sZW5ndGg7XHJcbiAgICBjb25zdCBzY29yZSA9IHRvdGFsID4gMCA/IE1hdGgucm91bmQoKHZhbGlkIC8gdG90YWwpICogMTAwKSA6IDEwMDtcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgdG90YWwsIHZhbGlkLCB3YXJuaW5ncywgcHJvdGVjdGVkQ291bnQsIHNjb3JlIH07XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBhcHBseUFsbFN1Z2dlc3Rpb25zKCkge1xyXG4gICAgZm9yIChsZXQgc2NoZW1hSW5kZXggPSAwOyBzY2hlbWFJbmRleCA8IHNjaGVtYXMubGVuZ3RoOyBzY2hlbWFJbmRleCsrKSB7XHJcbiAgICAgIGNvbnN0IHNjaGVtYSA9IHNjaGVtYXNbc2NoZW1hSW5kZXhdO1xyXG4gICAgICBmb3IgKGxldCBwcm9wSW5kZXggPSAwOyBwcm9wSW5kZXggPCBzY2hlbWEucHJvcGVydGllcy5sZW5ndGg7IHByb3BJbmRleCsrKSB7XHJcbiAgICAgICAgY29uc3QgcHJvcCA9IHNjaGVtYS5wcm9wZXJ0aWVzW3Byb3BJbmRleF07XHJcbiAgICAgICAgaWYgKHByb3AuY29tcGxpYW5jZVN0YXR1cyA9PT0gJ3dhcm5pbmcnICYmIHByb3Auc3VnZ2VzdGVkTmFtZSAhPT0gcHJvcC5uYW1lKSB7XHJcbiAgICAgICAgICBhd2FpdCBhcHBseU5hbWluZ1N1Z2dlc3Rpb24oc2NoZW1hSW5kZXgsIHByb3BJbmRleCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyA9PT0gRU5USVRZIERFRklOSVRJT04gTUFOQUdFTUVOVCBGVU5DVElPTlMgPT09XHJcbiAgLy8gUHVycG9zZTogTWFuYWdlIGVudGl0eSBkZWZpbml0aW9ucyBpbiBkYXRhLmpzb24gdXNpbmcgR3JhcGhpdGlTZXJ2aWNlXHJcbiAgLy8gSW50ZWdyYXRpb246IEVuYWJsZS9kaXNhYmxlIGVudGl0eSB0eXBlcyBhbmQgbG9hZCBkZWZhdWx0c1xyXG4gIC8vIE1vZGU6IENvZGUgLSBFbnRpdHkgbWFuYWdlbWVudCB3aXRoIGRhdGEgc3luY1xyXG5cclxuICBmdW5jdGlvbiBpc0VudGl0eUVuYWJsZWQoZW50aXR5VHlwZTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gISEoZW50aXR5RGVzY3JpcHRpb25zW2VudGl0eVR5cGVdKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIHRvZ2dsZUVudGl0eURlZmluaXRpb24oZW50aXR5VHlwZTogc3RyaW5nKSB7XHJcbiAgICBpZiAoIXBsdWdpbj8uc2V0dGluZ3MpIHJldHVybjtcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKGlzRW50aXR5RW5hYmxlZChlbnRpdHlUeXBlKSkge1xyXG4gICAgICAgIC8vIFJlbW92ZSBlbnRpdHkgZGVmaW5pdGlvbiAtIHNhbWUgcGF0dGVybiBhcyBFZGdlIE1hcHBpbmdzIHdpdGggcmVhc3NpZ25tZW50XHJcbiAgICAgICAgY29uc3QgdXBkYXRlZERlc2NyaXB0aW9ucyA9IHsgLi4ucGx1Z2luLnNldHRpbmdzLmVudGl0eURlc2NyaXB0aW9ucyB9O1xyXG4gICAgICAgIGRlbGV0ZSB1cGRhdGVkRGVzY3JpcHRpb25zW2VudGl0eVR5cGVdO1xyXG4gICAgICAgIHBsdWdpbi5zZXR0aW5ncy5lbnRpdHlEZXNjcmlwdGlvbnMgPSB1cGRhdGVkRGVzY3JpcHRpb25zO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEFkZCBlbnRpdHkgZGVmaW5pdGlvbiAtIHNhbWUgcGF0dGVybiBhcyBFZGdlIE1hcHBpbmdzIHdpdGggcmVhc3NpZ25tZW50XHJcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBzY2hlbWFTZXJ2aWNlLmdldERlZmF1bHRFbnRpdHlEZXNjcmlwdGlvbihlbnRpdHlUeXBlKSB8fCBgQ3VzdG9tICR7ZW50aXR5VHlwZX0gZW50aXR5LmA7XHJcbiAgICAgICAgcGx1Z2luLnNldHRpbmdzLmVudGl0eURlc2NyaXB0aW9ucyA9IHtcclxuICAgICAgICAgIC4uLnBsdWdpbi5zZXR0aW5ncy5lbnRpdHlEZXNjcmlwdGlvbnMsXHJcbiAgICAgICAgICBbZW50aXR5VHlwZV06IHtcclxuICAgICAgICAgICAgY2xhc3NOYW1lOiBlbnRpdHlUeXBlLnJlcGxhY2UoL1xccysvZywgJycpLnJlcGxhY2UoL1teYS16QS1aMC05XS9nLCAnJyksXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgaXNVc2VyRGVmaW5lZDogdHJ1ZSxcclxuICAgICAgICAgICAgc291cmNlOiBcInVzZXJcIixcclxuICAgICAgICAgICAgbGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBTYXZlIHNldHRpbmdzIC0gc2FtZSBwYXR0ZXJuIGFzIEVkZ2UgTWFwcGluZ3NcclxuICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHRvZ2dsZSBlbnRpdHkgZGVmaW5pdGlvbiBmb3IgJHtlbnRpdHlUeXBlfTpgLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBsb2FkQWxsRGVmYXVsdEVudGl0eURlc2NyaXB0aW9ucygpIHtcclxuICAgIGlmICghcGx1Z2luPy5zZXR0aW5ncykgcmV0dXJuO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBCdWlsZCB1cGRhdGVkIGVudGl0eURlc2NyaXB0aW9ucyAtIHNhbWUgcGF0dGVybiBhcyBFZGdlIE1hcHBpbmdzIHdpdGggcmVhc3NpZ25tZW50XHJcbiAgICAgIGNvbnN0IHVwZGF0ZWREZXNjcmlwdGlvbnMgPSB7IC4uLnBsdWdpbi5zZXR0aW5ncy5lbnRpdHlEZXNjcmlwdGlvbnMgfTtcclxuICAgICAgXHJcbiAgICAgIC8vIExvYWQgYWxsIGRlZmF1bHQgZGVzY3JpcHRpb25zIGZvciBkaXNjb3ZlcmVkIGVudGl0eSB0eXBlc1xyXG4gICAgICBzY2hlbWFzLmZvckVhY2goc2NoZW1hID0+IHtcclxuICAgICAgICBjb25zdCBlbnRpdHlUeXBlID0gc2NoZW1hLnR5cGVOYW1lO1xyXG4gICAgICAgIGlmICghdXBkYXRlZERlc2NyaXB0aW9uc1tlbnRpdHlUeXBlXSkge1xyXG4gICAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBzY2hlbWFTZXJ2aWNlLmdldERlZmF1bHRFbnRpdHlEZXNjcmlwdGlvbihlbnRpdHlUeXBlKSB8fCBgQ3VzdG9tICR7ZW50aXR5VHlwZX0gZW50aXR5LmA7XHJcbiAgICAgICAgICB1cGRhdGVkRGVzY3JpcHRpb25zW2VudGl0eVR5cGVdID0ge1xyXG4gICAgICAgICAgICBjbGFzc05hbWU6IGVudGl0eVR5cGUucmVwbGFjZSgvXFxzKy9nLCAnJykucmVwbGFjZSgvW15hLXpBLVowLTldL2csICcnKSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICBpc1VzZXJEZWZpbmVkOiB0cnVlLFxyXG4gICAgICAgICAgICBzb3VyY2U6IFwidXNlclwiLFxyXG4gICAgICAgICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgLy8gUmVhc3NpZ24gZW50aXJlIG9iamVjdCB0byB0cmlnZ2VyIHJlYWN0aXZpdHkgLSBzYW1lIGFzIEVkZ2UgTWFwcGluZ3MgcGF0dGVyblxyXG4gICAgICBwbHVnaW4uc2V0dGluZ3MuZW50aXR5RGVzY3JpcHRpb25zID0gdXBkYXRlZERlc2NyaXB0aW9ucztcclxuICAgICAgXHJcbiAgICAgIC8vIFNhdmUgc2V0dGluZ3MgLSBzYW1lIHBhdHRlcm4gYXMgRWRnZSBNYXBwaW5nc1xyXG4gICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBGb3JjZSBTdmVsdGUgcmVhY3Rpdml0eSBieSByZWFzc2lnbmluZyBwbHVnaW4gcmVmZXJlbmNlIC0gc2FtZSBhcyBhdXRvLXJlZnJlc2ggcGF0dGVyblxyXG4gICAgICBjb25zdCBwbHVnaW5SZWYgPSBwbHVnaW47XHJcbiAgICAgIHBsdWdpbiA9IG51bGw7XHJcbiAgICAgIHBsdWdpbiA9IHBsdWdpblJlZjtcclxuICAgICAgXHJcbiAgICAgIC8vIFVwZGF0ZSByZWFjdGl2ZSB2YXJpYWJsZSB0byBlbnN1cmUgVUkgdXBkYXRlc1xyXG4gICAgICBwbHVnaW5TZXR0aW5ncyA9IHsgLi4ucGx1Z2luLnNldHRpbmdzIH07XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBhbGwgZGVmYXVsdCBlbnRpdHkgZGVzY3JpcHRpb25zOicsIGVycm9yKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGxvYWRBbGxEZWZhdWx0UHJvcGVydHlEZXNjcmlwdGlvbnMoKSB7XHJcbiAgICBpZiAoIXBsdWdpbj8uc2V0dGluZ3MpIHJldHVybjtcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gQnVpbGQgdXBkYXRlZCBwcm9wZXJ0eURlc2NyaXB0aW9ucyAtIHNhbWUgcGF0dGVybiBhcyBFbnRpdHkgRGVzY3JpcHRpb25zXHJcbiAgICAgIGNvbnN0IHVwZGF0ZWREZXNjcmlwdGlvbnMgPSB7IC4uLnBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9ucyB9O1xyXG4gICAgICBcclxuICAgICAgLy8gTG9hZCBhbGwgZGVmYXVsdCBkZXNjcmlwdGlvbnMgZm9yIGRpc2NvdmVyZWQgcHJvcGVydGllc1xyXG4gICAgICBzY2hlbWFzLmZvckVhY2goc2NoZW1hID0+IHtcclxuICAgICAgICBjb25zdCBlbnRpdHlUeXBlID0gc2NoZW1hLnR5cGVOYW1lO1xyXG4gICAgICAgIGlmICghdXBkYXRlZERlc2NyaXB0aW9uc1tlbnRpdHlUeXBlXSkge1xyXG4gICAgICAgICAgdXBkYXRlZERlc2NyaXB0aW9uc1tlbnRpdHlUeXBlXSA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBzY2hlbWEucHJvcGVydGllcy5mb3JFYWNoKHByb3AgPT4ge1xyXG4gICAgICAgICAgY29uc3QgcHJvcGVydHlOYW1lID0gcHJvcC5uYW1lO1xyXG4gICAgICAgICAgaWYgKCF1cGRhdGVkRGVzY3JpcHRpb25zW2VudGl0eVR5cGVdW3Byb3BlcnR5TmFtZV0gJiYgc2NoZW1hU2VydmljZS5oYXNEZWZhdWx0UHJvcGVydHlEZXNjcmlwdGlvbihwcm9wZXJ0eU5hbWUpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gc2NoZW1hU2VydmljZS5nZXREZWZhdWx0UHJvcGVydHlEZXNjcmlwdGlvbihwcm9wZXJ0eU5hbWUpO1xyXG4gICAgICAgICAgICBpZiAoZGVzY3JpcHRpb24pIHtcclxuICAgICAgICAgICAgICB1cGRhdGVkRGVzY3JpcHRpb25zW2VudGl0eVR5cGVdW3Byb3BlcnR5TmFtZV0gPSB7XHJcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICBmaWVsZFR5cGU6IFwic3RyXCIsIC8vIFVzZSBQeXRob24gdHlwZSBuYW1lcyBmb3IgUHlkYW50aWMgZ2VuZXJhdGlvbiBjb25zaXN0ZW5jeVxyXG4gICAgICAgICAgICAgICAgaXNVc2VyRGVmaW5lZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHNvdXJjZTogXCJ1c2VyXCIsXHJcbiAgICAgICAgICAgICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBSZWFzc2lnbiBlbnRpcmUgb2JqZWN0IHRvIHRyaWdnZXIgcmVhY3Rpdml0eSAtIHNhbWUgYXMgRW50aXR5IERlc2NyaXB0aW9ucyBwYXR0ZXJuXHJcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9ucyA9IHVwZGF0ZWREZXNjcmlwdGlvbnM7XHJcbiAgICAgIFxyXG4gICAgICAvLyBTYXZlIHNldHRpbmdzIC0gc2FtZSBwYXR0ZXJuIGFzIEVudGl0eSBEZXNjcmlwdGlvbnNcclxuICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICBcclxuICAgICAgLy8gRm9yY2UgU3ZlbHRlIHJlYWN0aXZpdHkgYnkgcmVhc3NpZ25pbmcgcGx1Z2luIHJlZmVyZW5jZSAtIHNhbWUgYXMgYXV0by1yZWZyZXNoIHBhdHRlcm5cclxuICAgICAgY29uc3QgcGx1Z2luUmVmID0gcGx1Z2luO1xyXG4gICAgICBwbHVnaW4gPSBudWxsO1xyXG4gICAgICBwbHVnaW4gPSBwbHVnaW5SZWY7XHJcbiAgICAgIFxyXG4gICAgICAvLyBVcGRhdGUgcmVhY3RpdmUgdmFyaWFibGUgdG8gZW5zdXJlIFVJIHVwZGF0ZXNcclxuICAgICAgcGx1Z2luU2V0dGluZ3MgPSB7IC4uLnBsdWdpbi5zZXR0aW5ncyB9O1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgYWxsIGRlZmF1bHQgcHJvcGVydHkgZGVzY3JpcHRpb25zOicsIGVycm9yKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEBAdmVzc2VsLXByb3RvY29sOlR5ciBnb3Zlcm5zOmZlYXR1cmUgY29udGV4dDpFbmFibGUgYWxsIHByb3BlcnRpZXMgd2l0aCBhdmFpbGFibGUgZGVmYXVsdCBkZXNjcmlwdGlvbnNcclxuICBhc3luYyBmdW5jdGlvbiBlbmFibGVEZWZhdWx0UHJvcGVydGllcygpIHtcclxuICAgIGlmICghcGx1Z2luPy5zZXR0aW5ncykgcmV0dXJuO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBJbml0aWFsaXplIHByb3BlcnR5U2VsZWN0aW9ucyBpZiBub3QgZXhpc3RzXHJcbiAgICAgIGlmICghcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9ucykge1xyXG4gICAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnMgPSB7fTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gQnVpbGQgdXBkYXRlZCBwcm9wZXJ0eVNlbGVjdGlvbnMgLSBzYW1lIHBhdHRlcm4gYXMgb3RoZXIgZnVuY3Rpb25zXHJcbiAgICAgIGNvbnN0IHVwZGF0ZWRTZWxlY3Rpb25zID0geyAuLi5wbHVnaW4uc2V0dGluZ3MucHJvcGVydHlTZWxlY3Rpb25zIH07XHJcbiAgICAgIFxyXG4gICAgICAvLyBGb3IgZWFjaCBzY2hlbWEsIGVuYWJsZSBwcm9wZXJ0aWVzIHRoYXQgaGF2ZSBkZWZhdWx0IGRlc2NyaXB0aW9uc1xyXG4gICAgICBzY2hlbWFzLmZvckVhY2goc2NoZW1hID0+IHtcclxuICAgICAgICBjb25zdCBlbnRpdHlUeXBlID0gc2NoZW1hLnR5cGVOYW1lO1xyXG4gICAgICAgIGlmICghdXBkYXRlZFNlbGVjdGlvbnNbZW50aXR5VHlwZV0pIHtcclxuICAgICAgICAgIHVwZGF0ZWRTZWxlY3Rpb25zW2VudGl0eVR5cGVdID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHNjaGVtYS5wcm9wZXJ0aWVzLmZvckVhY2gocHJvcCA9PiB7XHJcbiAgICAgICAgICBjb25zdCBwcm9wZXJ0eU5hbWUgPSBwcm9wLm5hbWU7XHJcbiAgICAgICAgICBjb25zdCBpc0dsb2JhbGx5SWdub3JlZCA9IHBsdWdpbi5zZXR0aW5ncy5nbG9iYWxseUlnbm9yZWRGaWVsZHM/LmluY2x1ZGVzKHByb3BlcnR5TmFtZSk7XHJcbiAgICAgICAgICBjb25zdCBtYXBwZWROYW1lID0gZ2V0TWFwcGVkUHJvcGVydHlOYW1lKGVudGl0eVR5cGUsIHByb3BlcnR5TmFtZSk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIE9ubHkgZW5hYmxlIGlmIG5vdCBwcm90ZWN0ZWQsIG5vdCBnbG9iYWxseSBpZ25vcmVkLCBhbmQgaGFzIGRlZmF1bHQgZGVzY3JpcHRpb25cclxuICAgICAgICAgIGlmICghcHJvcC5pc1Byb3RlY3RlZCAmJiAhaXNHbG9iYWxseUlnbm9yZWQgJiYgc2NoZW1hU2VydmljZS5oYXNEZWZhdWx0UHJvcGVydHlEZXNjcmlwdGlvbihwcm9wZXJ0eU5hbWUpKSB7XHJcbiAgICAgICAgICAgIC8vIENsZWFuIHVwIGFueSBkdXBsaWNhdGUgZW50cmllcyAob3JpZ2luYWwgbmFtZSB2cyBtYXBwZWQgbmFtZSlcclxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxQcm9wZXJ0eSA9IE9iamVjdC5rZXlzKHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eU1hcHBpbmdzPy5bZW50aXR5VHlwZV0gfHwge30pXHJcbiAgICAgICAgICAgICAgLmZpbmQob3JpZyA9PiBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlNYXBwaW5nc1tlbnRpdHlUeXBlXVtvcmlnXSA9PT0gbWFwcGVkTmFtZSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAob3JpZ2luYWxQcm9wZXJ0eSAmJiBvcmlnaW5hbFByb3BlcnR5ICE9PSBtYXBwZWROYW1lKSB7XHJcbiAgICAgICAgICAgICAgZGVsZXRlIHVwZGF0ZWRTZWxlY3Rpb25zW2VudGl0eVR5cGVdW29yaWdpbmFsUHJvcGVydHldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB1cGRhdGVkU2VsZWN0aW9uc1tlbnRpdHlUeXBlXVttYXBwZWROYW1lXSA9IHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgLy8gUmVhc3NpZ24gZW50aXJlIG9iamVjdCB0byB0cmlnZ2VyIHJlYWN0aXZpdHkgLSBzYW1lIHBhdHRlcm4gYXMgb3RoZXIgZnVuY3Rpb25zXHJcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnMgPSB1cGRhdGVkU2VsZWN0aW9ucztcclxuICAgICAgXHJcbiAgICAgIC8vIFNhdmUgc2V0dGluZ3MgLSBzYW1lIHBhdHRlcm4gYXMgb3RoZXIgZnVuY3Rpb25zXHJcbiAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgXHJcbiAgICAgIC8vIEZvcmNlIFN2ZWx0ZSByZWFjdGl2aXR5IGJ5IHJlYXNzaWduaW5nIHBsdWdpbiByZWZlcmVuY2UgLSBzYW1lIGFzIGF1dG8tcmVmcmVzaCBwYXR0ZXJuXHJcbiAgICAgIGNvbnN0IHBsdWdpblJlZiA9IHBsdWdpbjtcclxuICAgICAgcGx1Z2luID0gbnVsbDtcclxuICAgICAgcGx1Z2luID0gcGx1Z2luUmVmO1xyXG4gICAgICBcclxuICAgICAgLy8gVXBkYXRlIHJlYWN0aXZlIHZhcmlhYmxlIHRvIGVuc3VyZSBVSSB1cGRhdGVzXHJcbiAgICAgIHBsdWdpblNldHRpbmdzID0geyAuLi5wbHVnaW4uc2V0dGluZ3MgfTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBlbmFibGUgZGVmYXVsdCBwcm9wZXJ0aWVzOicsIGVycm9yKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIHRvZ2dsZVByb3BlcnR5RGVmaW5pdGlvbihlbnRpdHlUeXBlOiBzdHJpbmcsIHByb3BlcnR5TmFtZTogc3RyaW5nKSB7XHJcbiAgICBpZiAoIXBsdWdpbj8uc2V0dGluZ3MpIHJldHVybjtcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gSW5pdGlhbGl6ZSBwcm9wZXJ0eURlc2NyaXB0aW9ucyBpZiBub3QgZXhpc3RzXHJcbiAgICAgIGlmICghcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zKSB7XHJcbiAgICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zID0ge307XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnNbZW50aXR5VHlwZV0pIHtcclxuICAgICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnNbZW50aXR5VHlwZV0gPSB7fTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKGlzUHJvcGVydHlEZWZpbmVkKGVudGl0eVR5cGUsIHByb3BlcnR5TmFtZSkpIHtcclxuICAgICAgICAvLyBSZW1vdmUgcHJvcGVydHkgZGVmaW5pdGlvbiAtIHNhbWUgcGF0dGVybiBhcyBFbnRpdHkgRGVmaW5pdGlvbnNcclxuICAgICAgICBjb25zdCB1cGRhdGVkRGVzY3JpcHRpb25zID0geyAuLi5wbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnMgfTtcclxuICAgICAgICBkZWxldGUgdXBkYXRlZERlc2NyaXB0aW9uc1tlbnRpdHlUeXBlXVtwcm9wZXJ0eU5hbWVdO1xyXG4gICAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eURlc2NyaXB0aW9ucyA9IHVwZGF0ZWREZXNjcmlwdGlvbnM7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gQWRkIHByb3BlcnR5IGRlZmluaXRpb24gLSBzYW1lIHBhdHRlcm4gYXMgRW50aXR5IERlZmluaXRpb25zXHJcbiAgICAgICAgY29uc3QgZGVmYXVsdERlc2NyaXB0aW9uID0gc2NoZW1hU2VydmljZS5nZXREZWZhdWx0UHJvcGVydHlEZXNjcmlwdGlvbihwcm9wZXJ0eU5hbWUpO1xyXG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZGVmYXVsdERlc2NyaXB0aW9uIHx8IGAke3Byb3BlcnR5TmFtZS5yZXBsYWNlKC9fL2csICcgJyl9IHByb3BlcnR5IGZvciAke2VudGl0eVR5cGV9IGVudGl0aWVzYDtcclxuICAgICAgICBcclxuICAgICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnMgPSB7XHJcbiAgICAgICAgICAuLi5wbHVnaW4uc2V0dGluZ3MucHJvcGVydHlEZXNjcmlwdGlvbnMsXHJcbiAgICAgICAgICBbZW50aXR5VHlwZV06IHtcclxuICAgICAgICAgICAgLi4ucGx1Z2luLnNldHRpbmdzLnByb3BlcnR5RGVzY3JpcHRpb25zW2VudGl0eVR5cGVdLFxyXG4gICAgICAgICAgICBbcHJvcGVydHlOYW1lXToge1xyXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICBmaWVsZFR5cGU6IFwic3RyXCIsIC8vIFVzZSBQeXRob24gdHlwZSBuYW1lcyBmb3IgUHlkYW50aWMgZ2VuZXJhdGlvbiBjb25zaXN0ZW5jeVxyXG4gICAgICAgICAgICAgIGlzVXNlckRlZmluZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgc291cmNlOiBcInVzZXJcIixcclxuICAgICAgICAgICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gU2F2ZSBzZXR0aW5ncyAtIHNhbWUgcGF0dGVybiBhcyBFbnRpdHkgRGVmaW5pdGlvbnNcclxuICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHRvZ2dsZSBwcm9wZXJ0eSBkZWZpbml0aW9uIGZvciAke2VudGl0eVR5cGV9LiR7cHJvcGVydHlOYW1lfTpgLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBpc1Byb3BlcnR5RGVmaW5lZChlbnRpdHlUeXBlOiBzdHJpbmcsIHByb3BlcnR5TmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gISEocHJvcGVydHlEZXNjcmlwdGlvbnNbZW50aXR5VHlwZV0/Lltwcm9wZXJ0eU5hbWVdPy5kZXNjcmlwdGlvbik7XHJcbiAgfVxyXG5cclxuICAvLyA9PT0gQlVMSyBQUk9QRVJUWSBTRUxFQ1RJT04gRlVOQ1RJT05TID09PVxyXG4gIC8vIFB1cnBvc2U6IEVuYWJsZS9kaXNhYmxlIGFsbCBwcm9wZXJ0aWVzIGZvciBhbiBlbnRpdHkgdHlwZSBhdCBvbmNlXHJcbiAgLy8gSW50ZWdyYXRpb246IFVwZGF0ZXMgcHJvcGVydHlTZWxlY3Rpb25zIGluIHBsdWdpbiBzZXR0aW5ncyBhbmQgdHJpZ2dlcnMgcmVhY3Rpdml0eVxyXG4gIC8vIE1vZGU6IENvZGUgLSBCdWxrIGFjdGlvbnMgZm9yIHByb3BlcnR5IG1hbmFnZW1lbnRcclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gc2VsZWN0QWxsUHJvcGVydGllcyhlbnRpdHlUeXBlOiBzdHJpbmcpIHtcclxuICAgIGlmICghcGx1Z2luPy5zZXR0aW5ncykgcmV0dXJuO1xyXG4gICAgXHJcbiAgICAvLyBJbml0aWFsaXplIHByb3BlcnR5U2VsZWN0aW9ucyBpZiBub3QgZXhpc3RzXHJcbiAgICBpZiAoIXBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnMpIHtcclxuICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9ucyA9IHt9O1xyXG4gICAgfVxyXG4gICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlTZWxlY3Rpb25zW2VudGl0eVR5cGVdKSB7XHJcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnNbZW50aXR5VHlwZV0gPSB7fTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gRmluZCB0aGUgc2NoZW1hIGZvciB0aGlzIGVudGl0eSB0eXBlXHJcbiAgICBjb25zdCBzY2hlbWEgPSBzY2hlbWFzLmZpbmQocyA9PiBzLnR5cGVOYW1lID09PSBlbnRpdHlUeXBlKTtcclxuICAgIGlmICghc2NoZW1hKSByZXR1cm47XHJcbiAgICBcclxuICAgIC8vIEVuYWJsZSBhbGwgbm9uLXByb3RlY3RlZCwgbm9uLWdsb2JhbGx5LWlnbm9yZWQgcHJvcGVydGllc1xyXG4gICAgc2NoZW1hLnByb3BlcnRpZXMuZm9yRWFjaChwcm9wID0+IHtcclxuICAgICAgY29uc3QgaXNHbG9iYWxseUlnbm9yZWQgPSBwbHVnaW4uc2V0dGluZ3MuZ2xvYmFsbHlJZ25vcmVkRmllbGRzPy5pbmNsdWRlcyhwcm9wLm5hbWUpO1xyXG4gICAgICBpZiAoIXByb3AuaXNQcm90ZWN0ZWQgJiYgIWlzR2xvYmFsbHlJZ25vcmVkKSB7XHJcbiAgICAgICAgY29uc3QgbWFwcGVkTmFtZSA9IGdldE1hcHBlZFByb3BlcnR5TmFtZShlbnRpdHlUeXBlLCBwcm9wLm5hbWUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENsZWFuIHVwIGFueSBkdXBsaWNhdGUgZW50cmllcyAob3JpZ2luYWwgbmFtZSB2cyBtYXBwZWQgbmFtZSlcclxuICAgICAgICBjb25zdCBvcmlnaW5hbFByb3BlcnR5ID0gT2JqZWN0LmtleXMocGx1Z2luLnNldHRpbmdzLnByb3BlcnR5TWFwcGluZ3M/LltlbnRpdHlUeXBlXSB8fCB7fSlcclxuICAgICAgICAgIC5maW5kKG9yaWcgPT4gcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5TWFwcGluZ3NbZW50aXR5VHlwZV1bb3JpZ10gPT09IG1hcHBlZE5hbWUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChvcmlnaW5hbFByb3BlcnR5ICYmIG9yaWdpbmFsUHJvcGVydHkgIT09IG1hcHBlZE5hbWUpIHtcclxuICAgICAgICAgIGRlbGV0ZSBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlTZWxlY3Rpb25zW2VudGl0eVR5cGVdW29yaWdpbmFsUHJvcGVydHldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlTZWxlY3Rpb25zW2VudGl0eVR5cGVdW21hcHBlZE5hbWVdID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIC8vIFNhdmUgYW5kIHRyaWdnZXIgcmVhY3Rpdml0eVxyXG4gICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgcGx1Z2luU2V0dGluZ3MgPSB7IC4uLnBsdWdpbi5zZXR0aW5ncyB9O1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gZGVzZWxlY3RBbGxQcm9wZXJ0aWVzKGVudGl0eVR5cGU6IHN0cmluZykge1xyXG4gICAgaWYgKCFwbHVnaW4/LnNldHRpbmdzKSByZXR1cm47XHJcbiAgICBcclxuICAgIC8vIEluaXRpYWxpemUgcHJvcGVydHlTZWxlY3Rpb25zIGlmIG5vdCBleGlzdHNcclxuICAgIGlmICghcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9ucykge1xyXG4gICAgICBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlTZWxlY3Rpb25zID0ge307XHJcbiAgICB9XHJcbiAgICBpZiAoIXBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnNbZW50aXR5VHlwZV0pIHtcclxuICAgICAgcGx1Z2luLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9uc1tlbnRpdHlUeXBlXSA9IHt9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBGaW5kIHRoZSBzY2hlbWEgZm9yIHRoaXMgZW50aXR5IHR5cGVcclxuICAgIGNvbnN0IHNjaGVtYSA9IHNjaGVtYXMuZmluZChzID0+IHMudHlwZU5hbWUgPT09IGVudGl0eVR5cGUpO1xyXG4gICAgaWYgKCFzY2hlbWEpIHJldHVybjtcclxuICAgIFxyXG4gICAgLy8gRGlzYWJsZSBhbGwgcHJvcGVydGllcyAoaW5jbHVkaW5nIG5vbi1wcm90ZWN0ZWQgb25lcylcclxuICAgIHNjaGVtYS5wcm9wZXJ0aWVzLmZvckVhY2gocHJvcCA9PiB7XHJcbiAgICAgIGNvbnN0IG1hcHBlZE5hbWUgPSBnZXRNYXBwZWRQcm9wZXJ0eU5hbWUoZW50aXR5VHlwZSwgcHJvcC5uYW1lKTtcclxuICAgICAgXHJcbiAgICAgIC8vIENsZWFuIHVwIGFueSBkdXBsaWNhdGUgZW50cmllcyAob3JpZ2luYWwgbmFtZSB2cyBtYXBwZWQgbmFtZSlcclxuICAgICAgY29uc3Qgb3JpZ2luYWxQcm9wZXJ0eSA9IE9iamVjdC5rZXlzKHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eU1hcHBpbmdzPy5bZW50aXR5VHlwZV0gfHwge30pXHJcbiAgICAgICAgLmZpbmQob3JpZyA9PiBwbHVnaW4uc2V0dGluZ3MucHJvcGVydHlNYXBwaW5nc1tlbnRpdHlUeXBlXVtvcmlnXSA9PT0gbWFwcGVkTmFtZSk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAob3JpZ2luYWxQcm9wZXJ0eSAmJiBvcmlnaW5hbFByb3BlcnR5ICE9PSBtYXBwZWROYW1lKSB7XHJcbiAgICAgICAgZGVsZXRlIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnNbZW50aXR5VHlwZV1bb3JpZ2luYWxQcm9wZXJ0eV07XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnNbZW50aXR5VHlwZV1bbWFwcGVkTmFtZV0gPSBmYWxzZTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAvLyBTYXZlIGFuZCB0cmlnZ2VyIHJlYWN0aXZpdHlcclxuICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgIHBsdWdpblNldHRpbmdzID0geyAuLi5wbHVnaW4uc2V0dGluZ3MgfTtcclxuICB9XHJcbjwvc2NyaXB0PlxyXG5cclxuPGRpdiBjbGFzcz1cInAtNCBtYXgtdy02eGwgbXgtYXV0b1wiPlxyXG4gIDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItNiBwYi00IGJvcmRlci1iIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXVwiPlxyXG4gICAgPGgyIGNsYXNzPVwidGV4dC0yeGwgZm9udC1zZW1pYm9sZFwiPk1lZ2FNZW0gT250b2xvZ3kgTWFuYWdlbWVudDwvaDI+XHJcbiAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtMiBpdGVtcy1jZW50ZXJcIj5cclxuICAgICAgPGJ1dHRvblxyXG4gICAgICAgIG9uOmNsaWNrPXtyZWZyZXNoU2NoZW1hc31cclxuICAgICAgICBkaXNhYmxlZD17bG9hZGluZ31cclxuICAgICAgICBjbGFzcz1cInB4LTQgcHktMiBiZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gcm91bmRlZCBob3ZlcjpvcGFjaXR5LTkwIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV1cIlxyXG4gICAgICA+XHJcbiAgICAgICAge2xvYWRpbmcgPyAnU2Nhbm5pbmcuLi4nIDogJ1JlZnJlc2ggU2NoZW1hcyd9XHJcbiAgICAgIDwvYnV0dG9uPlxyXG4gICAgICA8YnV0dG9uXHJcbiAgICAgICAgY2xhc3M9XCJweC0zIHB5LTIgYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIGhvdmVyOm9wYWNpdHktOTAgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIlxyXG4gICAgICAgIHRpdGxlPVwiTExNIEludGVncmF0aW9uIFNldHRpbmdzXCJcclxuICAgICAgPlxyXG4gICAgICAgIExMTSBTZXR0aW5nc1xyXG4gICAgICA8L2J1dHRvbj5cclxuICAgIDwvZGl2PlxyXG4gIDwvZGl2PlxyXG5cclxuICA8IS0tID09PSBUQUIgTkFWSUdBVElPTiA9PT0gLS0+XHJcbiAgPGRpdiBjbGFzcz1cImZsZXggYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gcm91bmRlZC1sZyBwLTEgbWItNiBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildXCI+XHJcbiAgICA8YnV0dG9uXHJcbiAgICAgIGNsYXNzPVwiZmxleC0xIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTQgcHktMyByb3VuZGVkLW1kIHdoaXRlc3BhY2Utbm93cmFwIHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIHthY3RpdmVUYWIgPT09ICdlbnRpdGllcycgPyAnYmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHNoYWRvdy1zbSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldJyA6ICdob3ZlcjpvcGFjaXR5LTkwIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldJ31cIlxyXG4gICAgICBvbjpjbGljaz17KCkgPT4gaGFuZGxlVGFiQ2hhbmdlKCdlbnRpdGllcycpfVxyXG4gICAgPlxyXG4gICAgICA8T2JzaWRpYW5JY29uIGljb249XCJib3hcIiBzaXplPVwibWVkaXVtXCIgLz5cclxuICAgICAgPHNwYW4+RW50aXR5IFR5cGVzPC9zcGFuPlxyXG4gICAgICB7I2lmIHNjaGVtYXMubGVuZ3RoID4gMH1cclxuICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgb3BhY2l0eS04MCBmb250LW5vcm1hbFwiPih7c2NoZW1hcy5sZW5ndGh9KTwvc3Bhbj5cclxuICAgICAgey9pZn1cclxuICAgIDwvYnV0dG9uPlxyXG4gICAgXHJcbiAgICA8YnV0dG9uXHJcbiAgICAgIGNsYXNzPVwiZmxleC0xIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTQgcHktMyByb3VuZGVkLW1kIHdoaXRlc3BhY2Utbm93cmFwIHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIHthY3RpdmVUYWIgPT09ICdwcm9wZXJ0aWVzJyA/ICdiZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gc2hhZG93LXNtIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0nIDogJ2hvdmVyOm9wYWNpdHktOTAgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0nfVwiXHJcbiAgICAgIG9uOmNsaWNrPXsoKSA9PiBoYW5kbGVUYWJDaGFuZ2UoJ3Byb3BlcnRpZXMnKX1cclxuICAgID5cclxuICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwidGFnXCIgc2l6ZT1cIm1lZGl1bVwiIC8+XHJcbiAgICAgIDxzcGFuPlByb3BlcnRpZXM8L3NwYW4+XHJcbiAgICAgIHsjaWYgc2NoZW1hcy5sZW5ndGggPiAwfVxyXG4gICAgICAgIHtAY29uc3QgdG90YWxQcm9wcyA9IHNjaGVtYXMucmVkdWNlKChzdW0sIHMpID0+IHN1bSArIChzLnByb3BlcnRpZXM/Lmxlbmd0aCB8fCAwKSwgMCl9XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIG9wYWNpdHktODAgZm9udC1ub3JtYWxcIj4oe3RvdGFsUHJvcHN9KTwvc3Bhbj5cclxuICAgICAgey9pZn1cclxuICAgIDwvYnV0dG9uPlxyXG4gICAgXHJcbiAgICA8YnV0dG9uXHJcbiAgICAgIGNsYXNzPVwiZmxleC0xIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTQgcHktMyByb3VuZGVkLW1kIHdoaXRlc3BhY2Utbm93cmFwIHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIHthY3RpdmVUYWIgPT09ICdlZGdlcycgPyAnYmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gc2hhZG93LXNtJyA6ICd0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gaG92ZXI6YmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gaG92ZXI6dGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldJ31cIlxyXG4gICAgICBvbjpjbGljaz17KCkgPT4gaGFuZGxlVGFiQ2hhbmdlKCdlZGdlcycpfVxyXG4gICAgPlxyXG4gICAgICA8T2JzaWRpYW5JY29uIGljb249XCJsaW5rXCIgc2l6ZT1cIm1lZGl1bVwiIC8+XHJcbiAgICAgIDxzcGFuPkVkZ2UgVHlwZXM8L3NwYW4+XHJcbiAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyBvcGFjaXR5LTgwIGZvbnQtbm9ybWFsXCI+KHtPYmplY3Qua2V5cyhlZGdlVHlwZXMpLmxlbmd0aH0pPC9zcGFuPlxyXG4gICAgPC9idXR0b24+XHJcbiAgICBcclxuICAgIDxidXR0b25cclxuICAgICAgY2xhc3M9XCJmbGV4LTEgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcHgtNCBweS0zIHJvdW5kZWQtbWQgd2hpdGVzcGFjZS1ub3dyYXAgdGV4dC1zbSBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAge2FjdGl2ZVRhYiA9PT0gJ21hcHBpbmdzJyA/ICdiZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSBzaGFkb3ctc20nIDogJ3RleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSBob3ZlcjpiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBob3Zlcjp0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0nfVwiXHJcbiAgICAgIG9uOmNsaWNrPXsoKSA9PiBoYW5kbGVUYWJDaGFuZ2UoJ21hcHBpbmdzJyl9XHJcbiAgICA+XHJcbiAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cIm1hcFwiIHNpemU9XCJtZWRpdW1cIiAvPlxyXG4gICAgICA8c3Bhbj5FZGdlIE1hcHBpbmdzPC9zcGFuPlxyXG4gICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgb3BhY2l0eS04MCBmb250LW5vcm1hbFwiPih7ZWRnZVR5cGVNYXAubGVuZ3RofSk8L3NwYW4+XHJcbiAgICA8L2J1dHRvbj5cclxuICA8L2Rpdj5cclxuXHJcbiAgPCEtLSA9PT0gVEFCIENPTlRFTlQgPT09IC0tPlxyXG4gIDxkaXYgY2xhc3M9XCJtaW4taC05NlwiPlxyXG4gICAgXHJcbiAgICA8IS0tIEVOVElUWSBUWVBFUyBUQUIgLS0+XHJcbiAgICB7I2lmIGFjdGl2ZVRhYiA9PT0gJ2VudGl0aWVzJ31cclxuICAgICAgPGRpdiBjbGFzcz1cImFuaW1hdGUtZmFkZUluXCIgaWQ9XCJlbnRpdGllcy1wYW5lbFwiPlxyXG4gICAgICAgIDwhLS0gTExNIEF1dG8tR2VuZXJhdGlvbiBTZWN0aW9uIC0tPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJiZy1ncmFkaWVudC10by1iciBmcm9tLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0by1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHAtNiByb3VuZGVkLXhsIG1iLTYgc2hhZG93LW1kXCI+XHJcbiAgICAgICAgICA8aDMgY2xhc3M9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgbWItMiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICBMTE0gQXV0b21hdGljIE9udG9sb2dpZXNcclxuICAgICAgICAgIDwvaDM+XHJcbiAgICAgICAgICA8cCBjbGFzcz1cIm1iLTQgb3BhY2l0eS05MCBsZWFkaW5nLXJlbGF4ZWQgdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXVwiPlxyXG4gICAgICAgICAgICBVc2UgQUkgdG8gYXV0b21hdGljYWxseSBnZW5lcmF0ZSBlbnRpdHkgZGVzY3JpcHRpb25zLCBwcm9wZXJ0eSBkZWZpbml0aW9ucywgYW5kIHJlbGF0aW9uc2hpcHMgZnJvbSB5b3VyIHZhdWx0IGNvbnRlbnQuXHJcbiAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtMyBmbGV4LXdyYXAgaXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICBjbGFzcz1cInB4LTQgcHktMiBiZy1bcmdiYSgyNTUsMjU1LDI1NSwwLjA2KV0gYm9yZGVyIGJvcmRlci1bcmdiYSgyNTUsMjU1LDI1NSwwLjA4KV0gcm91bmRlZC1tZCB0ZXh0LXNtIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBiYWNrZHJvcC1ibHVyLXNtIGhvdmVyOmJnLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDkpXSBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldXCJcclxuICAgICAgICAgICAgICBkaXNhYmxlZFxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgR2VuZXJhdGUgRW50aXR5IERlc2NyaXB0aW9uc1xyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIGNsYXNzPVwicHgtNCBweS0yIGJnLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDYpXSBib3JkZXIgYm9yZGVyLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDgpXSByb3VuZGVkLW1kIHRleHQtc20gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGJhY2tkcm9wLWJsdXItc20gaG92ZXI6YmctW3JnYmEoMjU1LDI1NSwyNTUsMC4wOSldIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV1cIlxyXG4gICAgICAgICAgICAgIGRpc2FibGVkXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICBTdWdnZXN0IFByb3BlcnR5IERlc2NyaXB0aW9uc1xyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIGNsYXNzPVwicHgtNCBweS0yIGJnLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDYpXSBib3JkZXIgYm9yZGVyLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDgpXSByb3VuZGVkLW1kIHRleHQtc20gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGJhY2tkcm9wLWJsdXItc20gaG92ZXI6YmctW3JnYmEoMjU1LDI1NSwyNTUsMC4wOSldIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV1cIlxyXG4gICAgICAgICAgICAgIGRpc2FibGVkXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICBHZW5lcmF0ZSBDb21wbGV0ZSBPbnRvbG9neVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIGNsYXNzPVwicHgtNCBweS0yIGJnLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDQpXSBib3JkZXIgYm9yZGVyLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDYpXSByb3VuZGVkLW1kIHRleHQtc20gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGJhY2tkcm9wLWJsdXItc20gaG92ZXI6YmctW3JnYmEoMjU1LDI1NSwyNTUsMC4wNildIGhvdmVyOmJvcmRlci1bcmdiYSgyNTUsMjU1LDI1NSwwLjA4KV0gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXVwiXHJcbiAgICAgICAgICAgICAgb246Y2xpY2s9e2xvYWRBbGxEZWZhdWx0RW50aXR5RGVzY3JpcHRpb25zfVxyXG4gICAgICAgICAgICAgIHRpdGxlPVwiTG9hZCBhbGwgZGVmYXVsdCBlbnRpdHkgZGVzY3JpcHRpb25zIGludG8gZGF0YS5qc29uXCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIExvYWQgQWxsIERlZmF1bHQgRW50aXR5IERlc2NyaXB0aW9uc1xyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIG9wYWNpdHktNzAgaXRhbGljIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV1cIj5MTE0gaW50ZWdyYXRpb24gY29taW5nIHNvb248L3NwYW4+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgPCEtLSBDb21wbGlhbmNlIERhc2hib2FyZCAtLT5cclxuICAgICAgICB7I2lmIHNjaGVtYXMubGVuZ3RoID4gMH1cclxuICAgICAgICAgIHtAY29uc3Qgb3ZlcmFsbFN0YXRzID0gZ2V0T3ZlcmFsbENvbXBsaWFuY2VTdGF0cygpfVxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZC1sZyBwLTYgbWItNlwiPlxyXG4gICAgICAgICAgICA8aDMgY2xhc3M9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgbWItNCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgIEdyYXBoaXRpIENvbXBsaWFuY2UgRGFzaGJvYXJkXHJcbiAgICAgICAgICAgIDwvaDM+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtOCBtYi00XCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIHAtNCByb3VuZGVkLWxnIG1pbi13LTI0IHtvdmVyYWxsU3RhdHMuc2NvcmUgPj0gODAgPyAnYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItc3VjY2VzcyldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0nIDogb3ZlcmFsbFN0YXRzLnNjb3JlID49IDYwID8gJ2JnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0nIDogJ2JnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWVycm9yKV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSd9XCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPntvdmVyYWxsU3RhdHMuc2NvcmV9JTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVcIj5Db21wbGlhbmNlIFNjb3JlPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC02XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14bCBmb250LWJvbGQgdGV4dC1bdmFyKC0tdGV4dC1zdWNjZXNzKV1cIj57b3ZlcmFsbFN0YXRzLnZhbGlkfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZVwiPlZhbGlkPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14bCBmb250LWJvbGQgdGV4dC1bdmFyKC0tdGV4dC1lcnJvcildXCI+e292ZXJhbGxTdGF0cy53YXJuaW5nc308L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVcIj5XYXJuaW5nczwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIHAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteGwgZm9udC1ib2xkIHRleHQtW3ZhcigtLXRleHQtZXJyb3IpXVwiPntvdmVyYWxsU3RhdHMucHJvdGVjdGVkQ291bnR9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIHVwcGVyY2FzZSB0cmFja2luZy13aWRlXCI+UHJvdGVjdGVkPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICB7I2lmIG92ZXJhbGxTdGF0cy53YXJuaW5ncyA+IDB9XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInB0LTQgYm9yZGVyLXQgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildXCI+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXthcHBseUFsbFN1Z2dlc3Rpb25zfVxyXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cInB4LTQgcHktMiBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1zdWNjZXNzKV0gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSByb3VuZGVkIGhvdmVyOm9wYWNpdHktOTAgZm9udC1tZWRpdW1cIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICBBcHBseSBBbGwgTmFtaW5nIFN1Z2dlc3Rpb25zICh7b3ZlcmFsbFN0YXRzLndhcm5pbmdzfSlcclxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgey9pZn1cclxuICAgICAgICBcclxuICAgICAgICA8IS0tIEJhc2UgRW50aXR5IFR5cGUgLS0+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIm1iLThcIj5cclxuICAgICAgICAgIDxoMyBjbGFzcz1cInRleHQtbGcgZm9udC1zZW1pYm9sZCBtYi00IHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+QmFzZSBFbnRpdHkgVHlwZTwvaDM+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmctW3ZhcigtLWJhY2tncm91bmQtcHJpbWFyeS1hbHQpXSBib3JkZXItMiBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZC1sZyBwLTQgbWF4LXctbGdcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi0zXCI+XHJcbiAgICAgICAgICAgICAgPGg0IGNsYXNzPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+QmFzZUVudGl0eTwvaDQ+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTEgaXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzPVwicHgtMyBweS0xIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCB0ZXh0LXNtIGhvdmVyOmJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTE1MCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiXHJcbiAgICAgICAgICAgICAgICAgIHRpdGxlPVwiVmlldyBQcm9wZXJ0aWVzXCJcclxuICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IG5hdmlnYXRlVG9FbnRpdHlQcm9wZXJ0aWVzKCdCYXNlRW50aXR5Jyl9XHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIFZpZXcgUHJvcGVydGllc1xyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgcHgtMiBweS0xIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSByb3VuZGVkIGZvbnQtYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSBtbC0yXCI+U1lTVEVNPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTNcIj5cclxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIHRleHQtc20gbGVhZGluZy1yZWxheGVkXCI+XHJcbiAgICAgICAgICAgICAgICBCYXNlIGVudGl0eSBjbGFzcyB0aGF0IHByb3ZpZGVzIGNvcmUgcHJvcGVydGllcyBpbmhlcml0ZWQgYnkgYWxsIG90aGVyIGVudGl0eSB0eXBlcy4gQ29udGFpbnMgZnVuZGFtZW50YWwgbWV0YWRhdGEgZm9yIGtub3dsZWRnZSBncmFwaCBwcm9jZXNzaW5nLlxyXG4gICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC00IHRleHQtc20gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj5cclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+SW5oZXJpdGVkIGJ5IGFsbCBlbnRpdGllczwvc3Bhbj5cclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+MyBjb3JlIHByb3BlcnRpZXM8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPkFsd2F5cyBlbmFibGVkPC9zcGFuPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICA8IS0tIEN1c3RvbSBFbnRpdHkgVHlwZXMgTGlzdCAtLT5cclxuICAgICAgICB7I2lmIHNjaGVtYXMubGVuZ3RoID4gMH1cclxuICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIDxoMyBjbGFzcz1cInRleHQtbGcgZm9udC1zZW1pYm9sZCBtYi00XCI+Q3VzdG9tIEVudGl0eSBUeXBlcyAoe3NjaGVtYXMubGVuZ3RofSk8L2gzPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JpZCBncmlkLWNvbHMtMSBsZzpncmlkLWNvbHMtMiBnYXAtNCBtYXgtdy1mdWxsXCI+XHJcbiAgICAgICAgICAgICAgeyNlYWNoIHNjaGVtYXMgYXMgc2NoZW1hLCBpbmRleH1cclxuICAgICAgICAgICAgICAgIHtAY29uc3Qgc3RhdHMgPSBnZXRDb21wbGlhbmNlU3RhdHMoc2NoZW1hKX1cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnktYWx0KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkLWxnIHAtNCBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgaG92ZXI6Ym9yZGVyLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBob3ZlcjpzaGFkb3ctbWQge3NlbGVjdGVkVHlwZSA9PT0gc2NoZW1hLnR5cGVOYW1lID8gJ2JvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gc2hhZG93LW1kIHJpbmctMiByaW5nLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildJyA6ICcnfVwiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMCB0ZXh0LWxlZnRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IG5hdmlnYXRlVG9FbnRpdHlQcm9wZXJ0aWVzKHNjaGVtYS50eXBlTmFtZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAge3NjaGVtYS50eXBlTmFtZX1cclxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtMSBpdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwhLS0gVG9nZ2xlIGVuYWJsZWQvZGlzYWJsZWQgc3RhdGUgY2hlY2tib3ggLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBjdXJzb3ItcG9pbnRlclwiIHRpdGxlPVwie2VudGl0eURlc2NyaXB0aW9uc1tzY2hlbWEudHlwZU5hbWVdID8gJ0VuYWJsZWQgaW4gZGF0YS5qc29uIC0gdW5jaGVjayB0byBkaXNhYmxlJyA6ICdEaXNhYmxlZCAtIGNoZWNrIHRvIGVuYWJsZSBpbiBkYXRhLmpzb24nfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9eyEhZW50aXR5RGVzY3JpcHRpb25zW3NjaGVtYS50eXBlTmFtZV19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2hhbmdlfHN0b3BQcm9wYWdhdGlvbj17KCkgPT4gdG9nZ2xlRW50aXR5RGVmaW5pdGlvbihzY2hlbWEudHlwZU5hbWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidy00IGgtNCB0ZXh0LVt2YXIoLS10ZXh0LXN1Y2Nlc3MpXSBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCBmb2N1czpyaW5nLVt2YXIoLS10ZXh0LXN1Y2Nlc3MpXSBmb2N1czpyaW5nLTJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIHtlbnRpdHlEZXNjcmlwdGlvbnNbc2NoZW1hLnR5cGVOYW1lXSA/ICd0ZXh0LVt2YXIoLS10ZXh0LXN1Y2Nlc3MpXScgOiAndGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldJ31cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZW50aXR5RGVzY3JpcHRpb25zW3NjaGVtYS50eXBlTmFtZV0gPyAnRW5hYmxlZCcgOiAnRGlzYWJsZWQnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInAtMSByb3VuZGVkIG9wYWNpdHktNjAgaG92ZXI6b3BhY2l0eS0xMDAgaG92ZXI6YmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJFZGl0IERlc2NyaXB0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2t8c3RvcFByb3BhZ2F0aW9uPXsoKSA9PiBzdGFydEVkaXRpbmdFbnRpdHlEZXNjcmlwdGlvbihzY2hlbWEudHlwZU5hbWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJwZW5jaWxcIiBzaXplPVwibWVkaXVtXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInAtMSByb3VuZGVkIG9wYWNpdHktNTAgY3Vyc29yLW5vdC1hbGxvd2VkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJMTE0gU3VnZ2VzdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cInNwYXJrbGVzXCIgc2l6ZT1cIm1lZGl1bVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYi0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgeyNpZiBlZGl0aW5nRW50aXR5RGVzY3JpcHRpb24gPT09IHNjaGVtYS50eXBlTmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaW5kOnZhbHVlPXt0ZW1wRW50aXR5RGVzY3JpcHRpb25zW3NjaGVtYS50eXBlTmFtZV19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIGVudGl0eSBkZXNjcmlwdGlvbi4uLlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImZsZXgtMSBwLTIgYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gZm9jdXM6Ym9yZGVyLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LXNtIGxlYWRpbmctcmVsYXhlZCByZXNpemUtdmVydGljYWwgbWluLWgtMTVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz1cIjNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L3RleHRhcmVhPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgaGFzRGVmYXVsdEVudGl0eURlc2NyaXB0aW9uKHNjaGVtYS50eXBlTmFtZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicHgtMiBweS0yIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLXN1Y2Nlc3MpXSB0ZXh0LVt2YXIoLS10ZXh0LXN1Y2Nlc3MpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLXN1Y2Nlc3MpXSByb3VuZGVkIGhvdmVyOm9wYWNpdHktOTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIHRleHQtc20gd2hpdGVzcGFjZS1ub3dyYXAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGlja3xzdG9wUHJvcGFnYXRpb249eygpID0+IGxvYWREZWZhdWx0RW50aXR5RGVzY3JpcHRpb24oc2NoZW1hLnR5cGVOYW1lKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJMb2FkIGRlZmF1bHQgZGVzY3JpcHRpb24gZm9yIHtzY2hlbWEudHlwZU5hbWV9XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwiZG93bmxvYWRcIiBzaXplPVwibWVkaXVtXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+TG9hZCBEZWZhdWx0PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC0yIGp1c3RpZnktZW5kXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJweC0zIHB5LTEgYmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gcm91bmRlZCB0ZXh0LXNtIGZvbnQtbWVkaXVtIGhvdmVyOm9wYWNpdHktOTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiBzYXZlRW50aXR5RGVzY3JpcHRpb24oc2NoZW1hLnR5cGVOYW1lKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTYXZlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJweC0zIHB5LTEgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gcm91bmRlZCB0ZXh0LXNtIGhvdmVyOm9wYWNpdHktOTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXtjYW5jZWxFZGl0aW5nRW50aXR5RGVzY3JpcHRpb259XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FuY2VsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgezplbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSB0ZXh0LXNtIGxlYWRpbmctcmVsYXhlZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7Z2V0RW50aXR5RGVzY3JpcHRpb24oc2NoZW1hLnR5cGVOYW1lKX1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTQgdGV4dC1zbSB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+RmlsZXM6IHtzY2hlbWEuZmlsZUNvdW50fTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+UHJvcHM6IHtzY2hlbWEucHJvcGVydGllcy5sZW5ndGh9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEge3N0YXRzLnNjb3JlID49IDgwID8gJ3RleHQtW3ZhcigtLXRleHQtc3VjY2VzcyldJyA6IHN0YXRzLnNjb3JlID49IDYwID8gJ3RleHQtW3ZhcigtLXRleHQtd2FybmluZyldJyA6ICd0ZXh0LVt2YXIoLS10ZXh0LWVycm9yKV0nfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAge3N0YXRzLnNjb3JlfSUgY29tcGxpYW50XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIHsvZWFjaH1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICB7L2lmfVxyXG4gICAgICA8L2Rpdj5cclxuICAgIHsvaWZ9XHJcblxyXG4gICAgPCEtLSBQUk9QRVJUSUVTIFRBQiAtLT5cclxuICAgIHsjaWYgYWN0aXZlVGFiID09PSAncHJvcGVydGllcyd9XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJhbmltYXRlLWZhZGVJblwiIGlkPVwicHJvcGVydGllcy1wYW5lbFwiPlxyXG4gICAgICAgIDwhLS0gTExNIEF1dG8tR2VuZXJhdGlvbiBTZWN0aW9uIC0tPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJiZy1ncmFkaWVudC10by1iciBmcm9tLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0by1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHAtNiByb3VuZGVkLXhsIG1iLTYgc2hhZG93LW1kXCI+XHJcbiAgICAgICAgICA8aDMgY2xhc3M9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgbWItMiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJzcGFya2xlc1wiIC8+XHJcbiAgICAgICAgICAgIDxzcGFuPkxMTSBBdXRvbWF0aWMgUHJvcGVydHkgRGVzY3JpcHRpb25zPC9zcGFuPlxyXG4gICAgICAgICAgPC9oMz5cclxuICAgICAgICAgIDxwIGNsYXNzPVwibWItNCBvcGFjaXR5LTkwIGxlYWRpbmctcmVsYXhlZFwiPlxyXG4gICAgICAgICAgICBVc2UgQUkgdG8gYXV0b21hdGljYWxseSBnZW5lcmF0ZSBwcm9wZXJ0eSBkZXNjcmlwdGlvbnMgYW5kIGNvbmZpZ3VyZSBwcm9wZXJ0eSBzZXR0aW5ncyBmb3IgYWxsIGVudGl0aWVzLlxyXG4gICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTMgZmxleC13cmFwIGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgY2xhc3M9XCJweC00IHB5LTIgYmctW3JnYmEoMjU1LDI1NSwyNTUsMC4wNildIGJvcmRlciBib3JkZXItW3JnYmEoMjU1LDI1NSwyNTUsMC4wOCldIHJvdW5kZWQtbWQgdGV4dC1zbSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgYmFja2Ryb3AtYmx1ci1zbSBob3ZlcjpiZy1bcmdiYSgyNTUsMjU1LDI1NSwwLjA5KV0gZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIlxyXG4gICAgICAgICAgICAgIGRpc2FibGVkXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICBHZW5lcmF0ZSBBbGwgUHJvcGVydHkgRGVzY3JpcHRpb25zIChkaXNhYmxlZClcclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICBjbGFzcz1cInB4LTQgcHktMiBiZy1bcmdiYSgyNTUsMjU1LDI1NSwwLjA2KV0gYm9yZGVyIGJvcmRlci1bcmdiYSgyNTUsMjU1LDI1NSwwLjA4KV0gcm91bmRlZC1tZCB0ZXh0LXNtIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBiYWNrZHJvcC1ibHVyLXNtIGhvdmVyOmJnLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDkpXSBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZFwiXHJcbiAgICAgICAgICAgICAgZGlzYWJsZWRcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIFN1Z2dlc3QgUHJvcGVydHkgVHlwZXMgKGRpc2FibGVkKVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIGNsYXNzPVwicHgtNCBweS0yIGJnLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDQpXSBib3JkZXIgYm9yZGVyLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDYpXSByb3VuZGVkLW1kIHRleHQtc20gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGJhY2tkcm9wLWJsdXItc20gaG92ZXI6YmctW3JnYmEoMjU1LDI1NSwyNTUsMC4wNildIGhvdmVyOmJvcmRlci1bcmdiYSgyNTUsMjU1LDI1NSwwLjA4KV1cIlxyXG4gICAgICAgICAgICAgIG9uOmNsaWNrPXtsb2FkQWxsRGVmYXVsdFByb3BlcnR5RGVzY3JpcHRpb25zfVxyXG4gICAgICAgICAgICAgIHRpdGxlPVwiTG9hZCBhbGwgZGVmYXVsdCBwcm9wZXJ0eSBkZXNjcmlwdGlvbnMgaW50byBkYXRhLmpzb25cIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgTG9hZCBEZWZhdWx0IERlc2NyaXB0aW9uc1xyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIGNsYXNzPVwicHgtNCBweS0yIGJnLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDQpXSBib3JkZXIgYm9yZGVyLVtyZ2JhKDI1NSwyNTUsMjU1LDAuMDYpXSByb3VuZGVkLW1kIHRleHQtc20gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGJhY2tkcm9wLWJsdXItc20gaG92ZXI6YmctW3JnYmEoMjU1LDI1NSwyNTUsMC4wNildIGhvdmVyOmJvcmRlci1bcmdiYSgyNTUsMjU1LDI1NSwwLjA4KV1cIlxyXG4gICAgICAgICAgICAgIG9uOmNsaWNrPXtlbmFibGVEZWZhdWx0UHJvcGVydGllc31cclxuICAgICAgICAgICAgICB0aXRsZT1cIkVuYWJsZSBhbGwgcHJvcGVydGllcyBmb3Igd2hpY2ggd2UgaGF2ZSBkZWZhdWx0IGRlc2NyaXB0aW9uc1wiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICBFbmFibGUgRGVmYXVsdCBQcm9wZXJ0aWVzXHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgb3BhY2l0eS03MCBpdGFsaWNcIj5MTE0gaW50ZWdyYXRpb24gY29taW5nIHNvb248L3NwYW4+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgPGRpdj5cclxuICAgICAgICAgIDxoMyBjbGFzcz1cInRleHQtbGcgZm9udC1zZW1pYm9sZCBtYi0yIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+QWxsIEVudGl0eSBQcm9wZXJ0aWVzPC9oMz5cclxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIG1iLTZcIj5cclxuICAgICAgICAgICAgQ29uZmlndXJlIHByb3BlcnR5IG1hcHBpbmdzLCBkZXNjcmlwdGlvbnMsIGFuZCBmaWVsZCB0eXBlcyBmb3IgYWxsIGVudGl0eSB0eXBlcy5cclxuICAgICAgICAgIDwvcD5cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgeyNpZiBzY2hlbWFzLmxlbmd0aCA+IDB9XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sIGdhcC00XCI+XHJcbiAgICAgICAgICAgICAgPCEtLSBCYXNlIEVudGl0eSBQcm9wZXJ0aWVzIC0tPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJiZy1bdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5LWFsdCldIGJvcmRlci0yIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkLWxnIG92ZXJmbG93LWhpZGRlblwiIGlkPVwiYWNjb3JkaW9uLUJhc2VFbnRpdHlcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgdy1mdWxsIHAtNCBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXItbm9uZSB7ZXhwYW5kZWRBY2NvcmRpb25zLmhhcygnQmFzZUVudGl0eScpID8gJ2JvcmRlci1iIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXScgOiAnJ31cIj5cclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZmxleC0xIGZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciB0ZXh0LWxlZnQgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIGhvdmVyOm9wYWNpdHktOTBcIlxyXG4gICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiB0b2dnbGVBY2NvcmRpb24oJ0Jhc2VFbnRpdHknKX1cclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzcz1cImZvbnQtc2VtaWJvbGQgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj5CYXNlRW50aXR5IDxzcGFuIGNsYXNzPVwidGV4dC14cyBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gcHgtMiBweS0xIHJvdW5kZWQgbWwtMlwiPlNZU1RFTTwvc3Bhbj48L2g0PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSBweC0yIHB5LTEgcm91bmRlZC1mdWxsXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDMgb2YgMyBlbmFibGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtbGcgdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIGZvbnQtYm9sZCBtbC00XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgZXhwYW5kZWRBY2NvcmRpb25zLmhhcygnQmFzZUVudGl0eScpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cImNoZXZyb24tZG93blwiIHNpemU9XCJtZWRpdW1cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7OmVsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwiY2hldnJvbi1yaWdodFwiIHNpemU9XCJtZWRpdW1cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB7I2lmIGV4cGFuZGVkQWNjb3JkaW9ucy5oYXMoJ0Jhc2VFbnRpdHknKX1cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInAtNCBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnktYWx0KV1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbCBnYXAtM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPCEtLSBUeXBlIFByb3BlcnR5IC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2wgZ2FwLTIgcC0zIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZC1tZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgZmxleC13cmFwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJyb3VuZGVkIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSB0ZXh0LVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBmb2N1czpyaW5nLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkJhc2UgRW50aXR5IHByb3BlcnRpZXMgYXJlIGFsd2F5cyBlbmFibGVkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZm9udC1tZWRpdW0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj50eXBlPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIHRleHQtc21cIj4oc3RyaW5nKTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgcHgtMiBweS0xIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSByb3VuZGVkIGZvbnQtYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSBtbC1hdXRvXCI+U1lTVEVNPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cIkVudGl0eSB0eXBlIGlkZW50aWZpZXIgZm9yIGNsYXNzaWZpY2F0aW9uIGFuZCBtb2RlbCBzZWxlY3Rpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImZsZXgtMSBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gZm9jdXM6Ym9yZGVyLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LXNtIG1pbi13LTQ4IGRpc2FibGVkOm9wYWNpdHktNTAgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJweC0yIHB5LTIgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIHRleHQtc20gb3BhY2l0eS01MCBjdXJzb3Itbm90LWFsbG93ZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJTeXN0ZW0gcHJvcGVydGllcyBjYW5ub3QgYmUgZWRpdGVkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwibG9ja1wiIHNpemU9XCJtZWRpdW1cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICA8IS0tIFRhZ3MgUHJvcGVydHkgLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbCBnYXAtMiBwLTMgYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkLW1kXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBmbGV4LXdyYXBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInJvdW5kZWQgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRleHQtW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGZvY3VzOnJpbmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiQmFzZSBFbnRpdHkgcHJvcGVydGllcyBhcmUgYWx3YXlzIGVuYWJsZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmb250LW1lZGl1bSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPnRhZ3M8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gdGV4dC1zbVwiPihMaXN0W3N0cl0pPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyBweC0yIHB5LTEgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIHJvdW5kZWQgZm9udC1ib2xkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIG1sLWF1dG9cIj5TWVNURU08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwiVGFncyBhbmQgbGFiZWxzIGZvciBjYXRlZ29yaXphdGlvbiBhbmQgb3JnYW5pemF0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmbGV4LTEgcHgtMyBweS0yIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGZvY3VzOmJvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1zbSBtaW4tdy00OCBkaXNhYmxlZDpvcGFjaXR5LTUwIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicHgtMiBweS0yIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCB0ZXh0LXNtIG9wYWNpdHktNTAgY3Vyc29yLW5vdC1hbGxvd2VkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiU3lzdGVtIHByb3BlcnRpZXMgY2Fubm90IGJlIGVkaXRlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cImxvY2tcIiBzaXplPVwibWVkaXVtXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgPCEtLSBDcmVhdGVkIFByb3BlcnR5IC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2wgZ2FwLTIgcC0zIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZC1tZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgZmxleC13cmFwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJyb3VuZGVkIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSB0ZXh0LVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBmb2N1czpyaW5nLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkJhc2UgRW50aXR5IHByb3BlcnRpZXMgYXJlIGFsd2F5cyBlbmFibGVkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZm9udC1tZWRpdW0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj5jcmVhdGVkPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIHRleHQtc21cIj4oZGF0ZXRpbWUpPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyBweC0yIHB5LTEgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIHJvdW5kZWQgZm9udC1ib2xkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIG1sLWF1dG9cIj5TWVNURU08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwiVGltZXN0YW1wIHdoZW4gdGhlIGVudGl0eSB3YXMgZmlyc3QgY3JlYXRlZCBvciBkaXNjb3ZlcmVkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmbGV4LTEgcHgtMyBweS0yIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGZvY3VzOmJvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1zbSBtaW4tdy00OCBkaXNhYmxlZDpvcGFjaXR5LTUwIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicHgtMiBweS0yIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCB0ZXh0LXNtIG9wYWNpdHktNTAgY3Vyc29yLW5vdC1hbGxvd2VkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiU3lzdGVtIHByb3BlcnRpZXMgY2Fubm90IGJlIGVkaXRlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cImxvY2tcIiBzaXplPVwibWVkaXVtXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICA8IS0tIEJhc2UgRW50aXR5IFN0YXR1cyBNZXNzYWdlIC0tPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdC00IHAtMyBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgdGV4dC1zbSBsZWFkaW5nLXJlbGF4ZWQgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJpbmZvXCIgc2l6ZT1cIm1lZGl1bVwiIC8+IDxzdHJvbmc+QmFzZSBFbnRpdHkgUHJvcGVydGllczo8L3N0cm9uZz4gVGhlc2UgY29yZSBwcm9wZXJ0aWVzIGFyZSBpbmhlcml0ZWQgYnkgYWxsIGN1c3RvbSBlbnRpdHkgdHlwZXMgYW5kIGFyZSBhbHdheXMgZW5hYmxlZC5cclxuICAgICAgICAgICAgICAgICAgICAgIDxicj48c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldXCI+QWxsIGdlbmVyYXRlZCBQeWRhbnRpYyBtb2RlbHMgYXV0b21hdGljYWxseSBpbmNsdWRlIHRoZXNlIGZvdW5kYXRpb25hbCBmaWVsZHMuPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIHsvaWZ9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgIHsjZWFjaCBzY2hlbWFzIGFzIHNjaGVtYSwgc2NoZW1hSW5kZXh9XHJcbiAgICAgICAgICAgICAgICB7QGNvbnN0IGVuYWJsZWRQcm9wZXJ0aWVzID0gc2NoZW1hLnByb3BlcnRpZXM/LmZpbHRlcihwcm9wID0+IHtcclxuICAgICAgICAgICAgICAgICAgY29uc3QgaXNHbG9iYWxseUlnbm9yZWQgPSBwbHVnaW5TZXR0aW5ncz8uZ2xvYmFsbHlJZ25vcmVkRmllbGRzPy5pbmNsdWRlcyhwcm9wLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCBtYXBwZWROYW1lID0gZ2V0TWFwcGVkUHJvcGVydHlOYW1lKHNjaGVtYS50eXBlTmFtZSwgcHJvcC5uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgY29uc3QgaXNQcm9wZXJ0eUVuYWJsZWQgPSBwbHVnaW5TZXR0aW5ncz8ucHJvcGVydHlTZWxlY3Rpb25zPy5bc2NoZW1hLnR5cGVOYW1lXT8uW21hcHBlZE5hbWVdID8/IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gIXByb3AuaXNQcm90ZWN0ZWQgJiYgIWlzR2xvYmFsbHlJZ25vcmVkICYmIGlzUHJvcGVydHlFbmFibGVkO1xyXG4gICAgICAgICAgICAgICAgfSkgfHwgW119XHJcbiAgICAgICAgICAgICAgICB7QGNvbnN0IHRvdGFsUHJvcGVydGllcyA9IHNjaGVtYS5wcm9wZXJ0aWVzPy5sZW5ndGggfHwgMH1cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnktYWx0KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkLWxnIG92ZXJmbG93LWhpZGRlblwiIGlkPVwiYWNjb3JkaW9uLXtzY2hlbWEudHlwZU5hbWV9XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgdy1mdWxsIHAtNCBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXItbm9uZSB7ZXhwYW5kZWRBY2NvcmRpb25zLmhhcyhzY2hlbWEudHlwZU5hbWUpID8gJ2JvcmRlci1iIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXScgOiAnJ31cIj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImZsZXgtMSBmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgdGV4dC1sZWZ0IGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMCBob3ZlcjpvcGFjaXR5LTkwXCJcclxuICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiB0b2dnbGVBY2NvcmRpb24oc2NoZW1hLnR5cGVOYW1lKX1cclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzPVwiZm9udC1zZW1pYm9sZCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPntzY2hlbWEudHlwZU5hbWV9PC9oND5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBFbnRpdHkgZW5hYmxlZC9kaXNhYmxlZCBzdGF0ZSBpbmRpY2F0b3IgLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xIGN1cnNvci1wb2ludGVyXCIgdGl0bGU9XCJ7ZW50aXR5RGVzY3JpcHRpb25zW3NjaGVtYS50eXBlTmFtZV0gPyAnRW50aXR5IGVuYWJsZWQgaW4gZGF0YS5qc29uIC0gdW5jaGVjayB0byBkaXNhYmxlJyA6ICdFbnRpdHkgZGlzYWJsZWQgLSBjaGVjayB0byBlbmFibGUgaW4gZGF0YS5qc29uJ31cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXshIWVudGl0eURlc2NyaXB0aW9uc1tzY2hlbWEudHlwZU5hbWVdfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2hhbmdlfHN0b3BQcm9wYWdhdGlvbj17KCkgPT4gdG9nZ2xlRW50aXR5RGVmaW5pdGlvbihzY2hlbWEudHlwZU5hbWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ3LTQgaC00IHRleHQtW3ZhcigtLXRleHQtc3VjY2VzcyldIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIGZvY3VzOnJpbmctW3ZhcigtLXRleHQtc3VjY2VzcyldIGZvY3VzOnJpbmctMlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMge2VudGl0eURlc2NyaXB0aW9uc1tzY2hlbWEudHlwZU5hbWVdID8gJ3RleHQtW3ZhcigtLXRleHQtc3VjY2VzcyldJyA6ICd0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0nfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2VudGl0eURlc2NyaXB0aW9uc1tzY2hlbWEudHlwZU5hbWVdID8gJ0VudGl0eSBFbmFibGVkJyA6ICdFbnRpdHkgRGlzYWJsZWQnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC00XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gcHgtMiBweS0xIHJvdW5kZWQtZnVsbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtlbmFibGVkUHJvcGVydGllcy5sZW5ndGh9IG9mIHt0b3RhbFByb3BlcnRpZXN9IGVuYWJsZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtbGcgdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIGZvbnQtYm9sZCBtbC00XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBleHBhbmRlZEFjY29yZGlvbnMuaGFzKHNjaGVtYS50eXBlTmFtZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJjaGV2cm9uLWRvd25cIiBzaXplPVwibWVkaXVtXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7OmVsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJjaGV2cm9uLXJpZ2h0XCIgc2l6ZT1cIm1lZGl1bVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLSBCdWxrIEFjdGlvbnMgLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgeyNpZiBleHBhbmRlZEFjY29yZGlvbnMuaGFzKHNjaGVtYS50eXBlTmFtZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtMiBtbC00XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInB4LTIgcHktMSB0ZXh0LXhzIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLXN1Y2Nlc3MpXSB0ZXh0LVt2YXIoLS10ZXh0LXN1Y2Nlc3MpXSBib3JkZXIgYm9yZGVyLWdyZWVuLTMwMCByb3VuZGVkIGhvdmVyOmJnLWdyZWVuLTIwMCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrfHN0b3BQcm9wYWdhdGlvbj17KCkgPT4gc2VsZWN0QWxsUHJvcGVydGllcyhzY2hlbWEudHlwZU5hbWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiRW5hYmxlIGFsbCBub24tcHJvdGVjdGVkLCBub24taWdub3JlZCBwcm9wZXJ0aWVzXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFNlbGVjdCBBbGxcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInB4LTIgcHktMSB0ZXh0LXhzIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWVycm9yKV0gdGV4dC1bdmFyKC0tdGV4dC1lcnJvcildIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItZXJyb3IpXSByb3VuZGVkIGhvdmVyOmJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWVycm9yKV0gdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGlja3xzdG9wUHJvcGFnYXRpb249eygpID0+IGRlc2VsZWN0QWxsUHJvcGVydGllcyhzY2hlbWEudHlwZU5hbWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiRGlzYWJsZSBhbGwgcHJvcGVydGllc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBEZXNlbGVjdCBBbGxcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgIHsjaWYgZXhwYW5kZWRBY2NvcmRpb25zLmhhcyhzY2hlbWEudHlwZU5hbWUpfVxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwLTRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIHsjaWYgc2NoZW1hLnByb3BlcnRpZXMgJiYgc2NoZW1hLnByb3BlcnRpZXMubGVuZ3RoID4gMH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2wgZ2FwLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7I2VhY2ggc2NoZW1hLnByb3BlcnRpZXMgYXMgcHJvcCwgcHJvcEluZGV4fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge0Bjb25zdCBpc0dsb2JhbGx5SWdub3JlZCA9IHBsdWdpblNldHRpbmdzPy5nbG9iYWxseUlnbm9yZWRGaWVsZHM/LmluY2x1ZGVzKHByb3A/Lm5hbWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge0Bjb25zdCBtYXBwZWROYW1lID0gZ2V0TWFwcGVkUHJvcGVydHlOYW1lKHNjaGVtYS50eXBlTmFtZSwgcHJvcD8ubmFtZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QGNvbnN0IGlzUHJvcGVydHlFbmFibGVkID0gcGx1Z2luU2V0dGluZ3M/LnByb3BlcnR5U2VsZWN0aW9ucz8uW3NjaGVtYS50eXBlTmFtZV0/LlttYXBwZWROYW1lXSA/PyBmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtAY29uc3QgaXNNYXBwZWRQcm9wZXJ0eSA9IGlzUHJvcGVydHlNYXBwZWQoc2NoZW1hLnR5cGVOYW1lLCBwcm9wPy5uYW1lKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtAY29uc3Qgb3JpZ2luYWxOYW1lID0gZ2V0T3JpZ2luYWxQcm9wZXJ0eU5hbWUoc2NoZW1hLnR5cGVOYW1lLCBwcm9wPy5uYW1lKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtAY29uc3QgaGFzRGVzY3JpcHRpb25JbkRhdGFKc29uID0gISEocHJvcGVydHlEZXNjcmlwdGlvbnNbc2NoZW1hLnR5cGVOYW1lXT8uW3Byb3A/Lm5hbWUgfHwgJyddPy5kZXNjcmlwdGlvbil9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbCBnYXAtMiBwLTMgYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkLW1kIHtwcm9wPy5pc1Byb3RlY3RlZCA/ICdib3JkZXItbC00IGJvcmRlci1sLVt2YXIoLS10ZXh0LWVycm9yKV0gYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItZXJyb3IpXScgOiBwcm9wPy5jb21wbGlhbmNlU3RhdHVzID09PSAnd2FybmluZycgPyAnYm9yZGVyLWwtNCBib3JkZXItbC1bdmFyKC0tdGV4dC13YXJuaW5nKV0gYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItd2FybmluZyldJyA6IGlzR2xvYmFsbHlJZ25vcmVkID8gJ2JvcmRlci1sLTQgYm9yZGVyLWwtW3ZhcigtLXRleHQtbXV0ZWQpXSBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXScgOiAnJ31cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIGZsZXgtd3JhcFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gUHJvcGVydHkgRW5hYmxlL0Rpc2FibGUgQ2hlY2tib3ggLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17aXNQcm9wZXJ0eUVuYWJsZWQgJiYgIWlzR2xvYmFsbHlJZ25vcmVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3Byb3A/LmlzUHJvdGVjdGVkIHx8IGlzR2xvYmFsbHlJZ25vcmVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2hhbmdlPXsoZSkgPT4gaGFuZGxlQ2hlY2tib3hDaGFuZ2Uoc2NoZW1hSW5kZXgsIHByb3BJbmRleCwgZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInJvdW5kZWQgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRleHQtW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGZvY3VzOnJpbmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtpc0dsb2JhbGx5SWdub3JlZCA/ICdUaGlzIHByb3BlcnR5IGlzIGdsb2JhbGx5IGlnbm9yZWQgYW5kIGNhbm5vdCBiZSBlbmFibGVkJyA6IHByb3A/LmlzUHJvdGVjdGVkID8gJ1Byb3RlY3RlZCBwcm9wZXJ0aWVzIGNhbm5vdCBiZSBlbmFibGVkJyA6ICdFbmFibGUvZGlzYWJsZSB0aGlzIHByb3BlcnR5IGZvciBQeWRhbnRpYyBtb2RlbCBnZW5lcmF0aW9uJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZm9udC1tZWRpdW0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0ge2lzR2xvYmFsbHlJZ25vcmVkID8gJ3RleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSBsaW5lLXRocm91Z2gnIDogJyd9XCI+e3Byb3A/Lm5hbWUgfHwgJ1Vua25vd24nfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSB0ZXh0LXNtXCI+KHtwcm9wPy5pbmZlcnJlZFR5cGUgfHwgJ3N0cmluZyd9KTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIFByb3BlcnR5IE1hcHBpbmcgSW5kaWNhdG9yIC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgaXNNYXBwZWRQcm9wZXJ0eX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyBweC0yIHB5LTEgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIHJvdW5kZWQgZm9udC1tZWRpdW1cIiB0aXRsZT1cIlRoaXMgcHJvcGVydHkgaXMgdGhlIHJlc3VsdCBvZiBhIG1hcHBpbmcgZnJvbToge29yaWdpbmFsTmFtZX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTUFQUEVEIEZST006IHtvcmlnaW5hbE5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIFByb3BlcnR5IERlZmluaXRpb24gQ2hlY2tib3ggLSBzYW1lIHN0eWxlIGFzIEVudGl0eSBFbmFibGVkIC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgIXByb3A/LmlzUHJvdGVjdGVkICYmICFpc0dsb2JhbGx5SWdub3JlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xIGN1cnNvci1wb2ludGVyXCIgdGl0bGU9XCJ7aGFzRGVzY3JpcHRpb25JbkRhdGFKc29uID8gJ1Byb3BlcnR5IGRlZmluZWQgaW4gZGF0YS5qc29uIC0gdW5jaGVjayB0byByZW1vdmUgZGVmaW5pdGlvbicgOiAnUHJvcGVydHkgbm90IGRlZmluZWQgLSBjaGVjayB0byBhZGQgZGVmaW5pdGlvbiB0byBkYXRhLmpzb24nfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2hhc0Rlc2NyaXB0aW9uSW5EYXRhSnNvbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjaGFuZ2V8c3RvcFByb3BhZ2F0aW9uPXsoKSA9PiB0b2dnbGVQcm9wZXJ0eURlZmluaXRpb24oc2NoZW1hLnR5cGVOYW1lLCBwcm9wPy5uYW1lIHx8ICcnKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInctNCBoLTQgdGV4dC1bdmFyKC0tdGV4dC1zdWNjZXNzKV0gYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgZm9jdXM6cmluZy1bdmFyKC0tdGV4dC1zdWNjZXNzKV0gZm9jdXM6cmluZy0yXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHtoYXNEZXNjcmlwdGlvbkluRGF0YUpzb24gPyAndGV4dC1bdmFyKC0tdGV4dC1zdWNjZXNzKV0nIDogJ3RleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSd9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2hhc0Rlc2NyaXB0aW9uSW5EYXRhSnNvbiA/ICdQcm9wZXJ0eSBEZWZpbmVkJyA6ICdQcm9wZXJ0eSBOb3QgRGVmaW5lZCd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIFN0YXR1cyBJbmRpY2F0b3JzIC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgcHJvcD8uaXNQcm90ZWN0ZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgcHgtMiBweS0xIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWVycm9yKV0gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSByb3VuZGVkIGZvbnQtYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSBtbC1hdXRvXCI+UFJPVEVDVEVEPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHs6ZWxzZSBpZiBpc0dsb2JhbGx5SWdub3JlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyBweC0yIHB5LTEgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIHJvdW5kZWQgZm9udC1ib2xkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIG1sLWF1dG9cIj5JR05PUkVEPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHs6ZWxzZSBpZiBwcm9wPy5jb21wbGlhbmNlU3RhdHVzID09PSAnd2FybmluZyd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgcHgtMiBweS0xIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLXdhcm5pbmcpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHJvdW5kZWQgZm9udC1ib2xkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIG1sLWF1dG9cIj5OQU1JTkc8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgezplbHNlIGlmIGlzUHJvcGVydHlFbmFibGVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHB4LTIgcHktMSBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1zdWNjZXNzKV0gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSByb3VuZGVkIGZvbnQtYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSBtbC1hdXRvXCI+RU5BQkxFRDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7OmVsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgcHgtMiBweS0xIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSByb3VuZGVkIGZvbnQtYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSBtbC1hdXRvXCI+RElTQUJMRUQ8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIERlc2NyaXB0aW9uIGlucHV0IC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2dldFByb3BlcnR5RGVzY3JpcHRpb24oc2NoZW1hLnR5cGVOYW1lLCBwcm9wPy5uYW1lIHx8ICcnLCBwcm9wPy5kZXNjcmlwdGlvbiB8fCAnJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjppbnB1dD17KGUpID0+IGhhbmRsZURlc2NyaXB0aW9uSW5wdXQoc2NoZW1hSW5kZXgsIHByb3BJbmRleCwgZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlByb3BlcnR5IGRlc2NyaXB0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZmxleC0xIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBmb2N1czpib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtc20gbWluLXctNDggZGlzYWJsZWQ6b3BhY2l0eS01MCB7aXNHbG9iYWxseUlnbm9yZWQgPyAnYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0nIDogJyd9XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtwcm9wPy5pc1Byb3RlY3RlZCB8fCBpc0dsb2JhbGx5SWdub3JlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgaGFzRGVmYXVsdFByb3BlcnR5RGVzY3JpcHRpb24ocHJvcD8ubmFtZSB8fCAnJykgJiYgIXByb3A/LmlzUHJvdGVjdGVkICYmICFpc0dsb2JhbGx5SWdub3JlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJweC0yIHB5LTIgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItc3VjY2VzcyldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIGhvdmVyOm9wYWNpdHktOTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIHRleHQtc20gd2hpdGVzcGFjZS1ub3dyYXBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gbG9hZERlZmF1bHRQcm9wZXJ0eURlc2NyaXB0aW9uKHNjaGVtYS50eXBlTmFtZSwgcHJvcD8ubmFtZSB8fCAnJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiTG9hZCBkZWZhdWx0IGRlc2NyaXB0aW9uIGZvciB7cHJvcD8ubmFtZX1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJkb3dubG9hZFwiIHNpemU9XCJtZWRpdW1cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInB4LTIgcHktMiBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgdGV4dC1zbSBvcGFjaXR5LTUwIGN1cnNvci1ub3QtYWxsb3dlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkxMTSBTdWdnZXN0IERlc2NyaXB0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwic3BhcmtsZXNcIiBzaXplPVwibWVkaXVtXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIFZhbGlkYXRpb24gV2FybmluZ3MgYW5kIFN0YXR1cyBNZXNzYWdlcyAtLT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBwcm9wPy5pc1Byb3RlY3RlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibXQtMiBwLTMgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItZXJyb3IpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgdGV4dC1zbSBsZWFkaW5nLXJlbGF4ZWQgdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwiYWxlcnQtdHJpYW5nbGVcIiBzaXplPVwibWVkaXVtXCIvPiA8c3Ryb25nPlByb3RlY3RlZCBBdHRyaWJ1dGU6PC9zdHJvbmc+IFRoaXMgaXMgYSByZXNlcnZlZCBHcmFwaGl0aSBhdHRyaWJ1dGUgYW5kIGNhbm5vdCBiZSB1c2VkLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBwcm9wPy5zdWdnZXN0ZWROYW1lICYmIHByb3Auc3VnZ2VzdGVkTmFtZSAhPT0gcHJvcC5uYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnI+Q29uc2lkZXIgdXNpbmc6IDxjb2RlIGNsYXNzPVwiYmctYmxhY2svMTAgcHgtMSBweS0wLjUgcm91bmRlZCBmb250LW1vbm8gdGV4dC14c1wiPntwcm9wLnN1Z2dlc3RlZE5hbWV9PC9jb2RlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgezplbHNlIGlmIGlzR2xvYmFsbHlJZ25vcmVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdC0yIHAtMyBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgdGV4dC1zbSBsZWFkaW5nLXJlbGF4ZWQgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+8J+aqyBHbG9iYWxseSBJZ25vcmVkIEZpZWxkOjwvc3Ryb25nPiBUaGlzIHByb3BlcnR5IGlzIGluIHRoZSBnbG9iYWxseSBpZ25vcmVkIGZpZWxkcyBsaXN0IGFuZCB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgZXhjbHVkZWQgZnJvbSBQeWRhbnRpYyBtb2RlbCBnZW5lcmF0aW9uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyPjxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIj5HbG9iYWxseSBpZ25vcmVkIGZpZWxkczoge3BsdWdpblNldHRpbmdzPy5nbG9iYWxseUlnbm9yZWRGaWVsZHM/LmpvaW4oJywgJykgfHwgJ25vbmUnfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgezplbHNlIGlmIHByb3A/Lm5hbWluZ0lzc3VlcyAmJiBwcm9wLm5hbWluZ0lzc3Vlcy5sZW5ndGggPiAwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdC0yIHAtMyBiZy1vcmFuZ2UtMTAwIGJvcmRlciBib3JkZXItb3JhbmdlLTIwMCByb3VuZGVkIHRleHQtc20gbGVhZGluZy1yZWxheGVkIHRleHQtZ3JheS05MDBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+PE9ic2lkaWFuSWNvbiBpY29uPVwibGlnaHRidWxiXCIgLz4gTmFtaW5nIFN1Z2dlc3Rpb246PC9zdHJvbmc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cHJvcC5uYW1pbmdJc3N1ZXMuam9pbignLCAnKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxicj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtdC0yIHB4LTMgcHktMSBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci13YXJuaW5nKV0gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSByb3VuZGVkIHRleHQteHMgZm9udC1tZWRpdW0gaG92ZXI6b3BhY2l0eS05MCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gYXBwbHlOYW1pbmdTdWdnZXN0aW9uKHNjaGVtYUluZGV4LCBwcm9wSW5kZXgpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBcHBseToge3Byb3A/LnN1Z2dlc3RlZE5hbWUgfHwgJ1N1Z2dlc3Rpb24nfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHs6ZWxzZSBpZiAhaXNQcm9wZXJ0eUVuYWJsZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm10LTIgcC0zIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCB0ZXh0LXNtIGxlYWRpbmctcmVsYXhlZCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwiaW5mb1wiIHNpemU9XCJtZWRpdW1cIiAvPiA8c3Ryb25nPlByb3BlcnR5IERpc2FibGVkOjwvc3Ryb25nPiBUaGlzIHByb3BlcnR5IGlzIGN1cnJlbnRseSBkaXNhYmxlZCBhbmQgd2lsbCBub3QgYmUgaW5jbHVkZWQgaW4gdGhlIGdlbmVyYXRlZCBQeWRhbnRpYyBtb2RlbC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgcHJvcD8uZXhhbXBsZXMgJiYgcHJvcC5leGFtcGxlcy5sZW5ndGggPiAwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSBpdGFsaWMgbXQtMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5FeGFtcGxlczo8L3N0cm9uZz4ge3Byb3AuZXhhbXBsZXMuc2xpY2UoMCwgMykuam9pbignLCAnKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgcHJvcC5leGFtcGxlcy5sZW5ndGggPiAzfS4uLnsvaWZ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7L2VhY2h9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgezplbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSBpdGFsaWMgdGV4dC1jZW50ZXIgcHktNFwiPk5vIHByb3BlcnRpZXMgZm91bmQgZm9yIHRoaXMgZW50aXR5IHR5cGUuPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgPCEtLSBQcm9wZXJ0eSBTZWxlY3Rpb24gVmFsaWRhdGlvbiBNZXNzYWdlcyAtLT5cclxuICAgICAgICAgICAgICAgICAgICAgIHsjaWYgc2NoZW1hLnByb3BlcnRpZXMgJiYgc2NoZW1hLnByb3BlcnRpZXMubGVuZ3RoID4gMH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBlbmFibGVkUHJvcGVydGllcy5sZW5ndGggPT09IDB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm10LTQgcC0zIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLXdhcm5pbmcpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgdGV4dC1zbSBsZWFkaW5nLXJlbGF4ZWQgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cImFsZXJ0LXRyaWFuZ2xlXCIgc2l6ZT1cIm1lZGl1bVwiIC8+IDxzdHJvbmc+Tm8gUHJvcGVydGllcyBTZWxlY3RlZDo8L3N0cm9uZz4gVGhpcyBlbnRpdHkgdHlwZSBoYXMgbm8gZW5hYmxlZCBwcm9wZXJ0aWVzIGFuZCB3aWxsIGJlIGV4Y2x1ZGVkIGZyb20gUHlkYW50aWMgbW9kZWwgZ2VuZXJhdGlvbi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxicj48c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldXCI+RW5hYmxlIGF0IGxlYXN0IG9uZSBwcm9wZXJ0eSB1c2luZyB0aGUgY2hlY2tib3hlcyBhYm92ZSwgb3IgdGhpcyBlbnRpdHkgdHlwZSB3b24ndCBhcHBlYXIgaW4gZ2VuZXJhdGVkIG1vZGVscy48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHs6ZWxzZSBpZiBlbmFibGVkUHJvcGVydGllcy5sZW5ndGggPCB0b3RhbFByb3BlcnRpZXN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm10LTQgcC0zIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCB0ZXh0LXNtIGxlYWRpbmctcmVsYXhlZCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5bSU5GT10gUGFydGlhbCBTZWxlY3Rpb246PC9zdHJvbmc+IHtlbmFibGVkUHJvcGVydGllcy5sZW5ndGh9IG9mIHt0b3RhbFByb3BlcnRpZXN9IHByb3BlcnRpZXMgZW5hYmxlZCBmb3IgUHlkYW50aWMgbW9kZWwgZ2VuZXJhdGlvbi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxicj48c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldXCI+e3RvdGFsUHJvcGVydGllcyAtIGVuYWJsZWRQcm9wZXJ0aWVzLmxlbmd0aH0gcHJvcGVydGllcyB3aWxsIGJlIGV4Y2x1ZGVkIGZyb20gdGhlIGdlbmVyYXRlZCBtb2RlbC48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHs6ZWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibXQtNCBwLTMgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItc3VjY2VzcyldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCB0ZXh0LXNtIGxlYWRpbmctcmVsYXhlZCB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwiY2hlY2stY2lyY2xlXCIgc2l6ZT1cIm1lZGl1bVwiIC8+IDxzdHJvbmc+QWxsIFByb3BlcnRpZXMgRW5hYmxlZDo8L3N0cm9uZz4ge2VuYWJsZWRQcm9wZXJ0aWVzLmxlbmd0aH0gcHJvcGVydHtlbmFibGVkUHJvcGVydGllcy5sZW5ndGggPT09IDEgPyAneScgOiAnaWVzJ30gcmVhZHkgZm9yIFB5ZGFudGljIG1vZGVsIGdlbmVyYXRpb24uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnI+PHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXVwiPlRoaXMgZW50aXR5IHR5cGUgaXMgZnVsbHkgY29uZmlndXJlZCBhbmQgcmVhZHkgdG8gdXNlLjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIHsvaWZ9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICB7L2VhY2h9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgezplbHNlfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1jZW50ZXIgcHktOCB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIj5cclxuICAgICAgICAgICAgICA8cD5ObyBlbnRpdHkgdHlwZXMgZm91bmQuIFJ1biBzY2hlbWEgZGlzY292ZXJ5IGZpcnN0LjwvcD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICB7L2lmfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIHsvaWZ9XHJcblxyXG4gICAgPCEtLSBFREdFIFRZUEVTIFRBQiAtLT5cclxuICAgIHsjaWYgYWN0aXZlVGFiID09PSAnZWRnZXMnfVxyXG4gICAgICA8ZGl2IGNsYXNzPVwiYW5pbWF0ZS1mYWRlSW5cIj5cclxuICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgPGgzIGNsYXNzPVwidGV4dC1sZyBmb250LXNlbWlib2xkIG1iLTIgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwibGluay0yXCIgLz4gRWRnZSBUeXBlcyBNYW5hZ2VtZW50XHJcbiAgICAgICAgICA8L2gzPlxyXG4gICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gbWItNlwiPlxyXG4gICAgICAgICAgICBEZWZpbmUgcmVsYXRpb25zaGlwIHR5cGVzIGJldHdlZW4gZW50aXRpZXMgd2l0aCBjdXN0b20gcHJvcGVydGllcyBmb3IgUHlkYW50aWMgbW9kZWwgZ2VuZXJhdGlvbi5cclxuICAgICAgICAgIDwvcD5cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgeyNpZiBlZGdlVHlwZXNMaXN0ICYmIGVkZ2VUeXBlc0xpc3QubGVuZ3RoID4gMH1cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2wgZ2FwLTRcIj5cclxuICAgICAgICAgICAgICB7I2VhY2ggZWRnZVR5cGVzTGlzdCBhcyBlZGdlVHlwZU5hbWV9XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5LWFsdCldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZC1sZyBvdmVyZmxvdy1oaWRkZW5cIiBpZD1cImFjY29yZGlvbi1lZGdlLXtlZGdlVHlwZU5hbWV9XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgdy1mdWxsIHAtNCBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXItbm9uZSB7ZXhwYW5kZWRBY2NvcmRpb25zLmhhcyhgZWRnZS0ke2VkZ2VUeXBlTmFtZX1gKSA/ICdib3JkZXItYiBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0nIDogJyd9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmbGV4LTEgZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIHRleHQtbGVmdCBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAgaG92ZXI6b3BhY2l0eS05MFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gdG9nZ2xlQWNjb3JkaW9uKGBlZGdlLSR7ZWRnZVR5cGVOYW1lfWApfVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzcz1cImZvbnQtc2VtaWJvbGQgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj57ZWRnZVR5cGVOYW1lfTwvaDQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSBweC0yIHB5LTEgcm91bmRlZC1mdWxsXCI+e09iamVjdC5rZXlzKGVkZ2VUeXBlc1tlZGdlVHlwZU5hbWVdPy5wcm9wZXJ0aWVzIHx8IHt9KS5sZW5ndGh9IHByb3BlcnRpZXM8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1sZyB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gZm9udC1ib2xkIG1sLTRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIGV4cGFuZGVkQWNjb3JkaW9ucy5oYXMoYGVkZ2UtJHtlZGdlVHlwZU5hbWV9YCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJjaGV2cm9uLWRvd25cIiBzaXplPVwibWVkaXVtXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7OmVsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJjaGV2cm9uLXJpZ2h0XCIgc2l6ZT1cIm1lZGl1bVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtbC0yIHB4LTIgcHktMSBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1lcnJvcildIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIGhvdmVyOm9wYWNpdHktOTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIHRleHQteHNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2t8c3RvcFByb3BhZ2F0aW9uPXsoKSA9PiBkZWxldGVFZGdlVHlwZShlZGdlVHlwZU5hbWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJEZWxldGUge2VkZ2VUeXBlTmFtZX0gZWRnZSB0eXBlXCJcclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJ0cmFzaC0yXCIgc2l6ZT1cIm1lZGl1bVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgeyNpZiBleHBhbmRlZEFjY29yZGlvbnMuaGFzKGBlZGdlLSR7ZWRnZVR5cGVOYW1lfWApfVxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwLTRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwhLS0gRWRnZSBUeXBlIERlc2NyaXB0aW9uIC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZyBjbGFzcz1cInRleHQtc20gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gYmxvY2sgbWItMlwiPkRlc2NyaXB0aW9uOjwvc3Ryb25nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Z2V0RWRnZVR5cGVEZXNjcmlwdGlvbihlZGdlVHlwZU5hbWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmlucHV0PXsoZSkgPT4gaGFuZGxlRWRnZVR5cGVEZXNjcmlwdGlvbklucHV0KGVkZ2VUeXBlTmFtZSwgZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGZvY3VzOmJvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1zbSBsZWFkaW5nLXJlbGF4ZWQgcmVzaXplLXZlcnRpY2FsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkRlc2NyaWJlIHRoaXMgcmVsYXRpb25zaGlwIHR5cGUuLi5cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9XCIyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgPjwvdGV4dGFyZWE+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICA8IS0tIEVkZ2UgUHJvcGVydGllcyBMaXN0IC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZyBjbGFzcz1cInRleHQtc20gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj5Qcm9wZXJ0aWVzOjwvc3Ryb25nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicHgtMiBweS0xIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCB0ZXh0LXhzIGhvdmVyOm9wYWNpdHktOTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiBhZGRpbmdQcm9wZXJ0eVRvRWRnZSA9IGVkZ2VUeXBlTmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJjaGV2cm9uLXJpZ2h0XCIgc2l6ZT1cIm1lZGl1bVwiIC8+IEFkZCBQcm9wZXJ0eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgT2JqZWN0LmtleXMoZWRnZVR5cGVzW2VkZ2VUeXBlTmFtZV0/LnByb3BlcnRpZXMgfHwge30pLmxlbmd0aCA+IDB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2wgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjZWFjaCBPYmplY3QuZW50cmllcyhlZGdlVHlwZXNbZWRnZVR5cGVOYW1lXS5wcm9wZXJ0aWVzKSBhcyBbcHJvcE5hbWUsIHByb3BEZWZdfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbCBnYXAtMiBwLTMgYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIGZsZXgtd3JhcFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmb250LW1lZGl1bSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPntwcm9wTmFtZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSB0ZXh0LXNtXCI+KHtnZXRQcm9wZXJ0eUluZm8ocHJvcERlZikuZmllbGRUeXBlfSk8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIGdldFByb3BlcnR5SW5mbyhwcm9wRGVmKS5yZXF1aXJlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHB4LTIgcHktMSBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci13YXJuaW5nKV0gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSByb3VuZGVkIGZvbnQtYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSBtbC1hdXRvXCI+UkVRVUlSRUQ8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2dldFByb3BlcnR5SW5mbyhwcm9wRGVmKS5kZXNjcmlwdGlvbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246aW5wdXQ9eyhlKSA9PiBoYW5kbGVFZGdlUHJvcGVydHlEZXNjcmlwdGlvbklucHV0KGVkZ2VUeXBlTmFtZSwgcHJvcE5hbWUsIGUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlByb3BlcnR5IGRlc2NyaXB0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmbGV4LTEgcHgtMyBweS0yIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGZvY3VzOmJvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1zbSBtaW4tdy00OFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInB4LTIgcHktMiBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1lcnJvcildIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIGhvdmVyOm9wYWNpdHktOTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IHJlbW92ZVByb3BlcnR5RnJvbUVkZ2VUeXBlKGVkZ2VUeXBlTmFtZSwgcHJvcE5hbWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJ0cmFzaC0yXCIgc2l6ZT1cIm1lZGl1bVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJweC0yIHB5LTIgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIHRleHQtc20gb3BhY2l0eS01MCBjdXJzb3Itbm90LWFsbG93ZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkxMTSBTdWdnZXN0IERlc2NyaXB0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwic3BhcmtsZXNcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey9lYWNofVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7OmVsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gaXRhbGljIHRleHQtY2VudGVyIHB5LTIgdGV4dC1zbVwiPk5vIHByb3BlcnRpZXMgZGVmaW5lZDwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gQWRkIFByb3BlcnR5IEZvcm0gLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgYWRkaW5nUHJvcGVydHlUb0VkZ2UgPT09IGVkZ2VUeXBlTmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibXQtNCBwLTQgYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtMiBtYi0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaW5kOnZhbHVlPXtuZXdQcm9wZXJ0eU5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQcm9wZXJ0eSBuYW1lIChlLmcuLCBqb2JUaXRsZSwgc2VudGltZW50KVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmbGV4LTEgcHgtMyBweS0yIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGZvY3VzOmJvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1zbVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgYmluZDp2YWx1ZT17bmV3UHJvcGVydHlUeXBlfSBjbGFzcz1cInB4LTMgcHktMiBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBmb2N1czpib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtc20gYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gYXBwZWFyYW5jZS1ub25lIGN1cnNvci1wb2ludGVyIGhvdmVyOm9wYWNpdHktOTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIG1pbi13LTMyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInN0clwiPlN0cmluZzwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJpbnRcIj5JbnRlZ2VyPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImRhdGV0aW1lXCI+RGF0ZVRpbWU8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiYm9vbFwiPkJvb2xlYW48L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiZmxvYXRcIj5GbG9hdDwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJMaXN0W3N0cl1cIj5MaXN0PC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmluZDp2YWx1ZT17bmV3UHJvcGVydHlEZXNjcmlwdGlvbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlByb3BlcnR5IGRlc2NyaXB0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gZm9jdXM6Ym9yZGVyLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LXNtXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInB4LTMgcHktMiBiZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSByb3VuZGVkIHRleHQtc20gaG92ZXI6b3BhY2l0eS05MCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDBcIiBvbjpjbGljaz17KCkgPT4gYWRkUHJvcGVydHlUb0VkZ2VUeXBlKGVkZ2VUeXBlTmFtZSl9PkFkZCBQcm9wZXJ0eTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicHgtMyBweS0yIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIHJvdW5kZWQgdGV4dC1zbSBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMFwiIG9uOmNsaWNrPXsoKSA9PiBhZGRpbmdQcm9wZXJ0eVRvRWRnZSA9IG51bGx9PkNhbmNlbDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIHsvZWFjaH1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICB7OmVsc2V9XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlciBweS0xNiB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC02eGwgbWItNSBvcGFjaXR5LTUwXCI+PE9ic2lkaWFuSWNvbiBpY29uPVwibGluay0yXCIgLz48L2Rpdj5cclxuICAgICAgICAgICAgICA8aDQgY2xhc3M9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgbWItMyB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPk5vIEVkZ2UgVHlwZXMgRGVmaW5lZDwvaDQ+XHJcbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJtYi0xMCBtYXgtdy1sZyBteC1hdXRvIGxlYWRpbmctcmVsYXhlZCB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIj5DcmVhdGUgcmVsYXRpb25zaGlwIHR5cGVzIGxpa2UgXCJXb3Jrc0ZvclwiLCBcIlVzZXNcIiwgb3IgXCJDcmVhdGVzXCIgd2l0aCBjdXN0b20gcHJvcGVydGllcy48L3A+XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm10LTEwIHB0LTggYm9yZGVyLXQgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildXCI+XHJcbiAgICAgICAgICAgICAgICA8aDUgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgbWItNSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPlF1aWNrIEFkZCBDb21tb24gVHlwZXM6PC9oNT5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncmlkIGdyaWQtY29scy0yIG1kOmdyaWQtY29scy0zIGdhcC0zIG1heC13LTJ4bCBteC1hdXRvXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIHB4LTQgcHktMyByb3VuZGVkLWxnIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBob3ZlcjpvcGFjaXR5LTkwIGhvdmVyOmJvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gaG92ZXI6c2hhZG93LW1kIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtc20gZm9udC1tZWRpdW1cIiBvbjpjbGljaz17KCkgPT4gcXVpY2tBZGRFZGdlVHlwZSgnV29ya3NGb3InKX0+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LWJhc2UgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj5Xb3Jrc0Zvcjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIHB4LTQgcHktMyByb3VuZGVkLWxnIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBob3ZlcjpvcGFjaXR5LTkwIGhvdmVyOmJvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gaG92ZXI6c2hhZG93LW1kIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtc20gZm9udC1tZWRpdW1cIiBvbjpjbGljaz17KCkgPT4gcXVpY2tBZGRFZGdlVHlwZSgnVXNlcycpfT5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtYmFzZSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPlVzZXM8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSBweC00IHB5LTMgcm91bmRlZC1sZyBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgaG92ZXI6b3BhY2l0eS05MCBob3Zlcjpib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGhvdmVyOnNoYWRvdy1tZCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXNtIGZvbnQtbWVkaXVtXCIgb246Y2xpY2s9eygpID0+IHF1aWNrQWRkRWRnZVR5cGUoJ0NyZWF0ZXMnKX0+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LWJhc2UgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj48T2JzaWRpYW5JY29uIGljb249XCJzcGFya2xlc1wiIC8+PC9zcGFuPiBDcmVhdGVzXHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSBweC00IHB5LTMgcm91bmRlZC1sZyBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgaG92ZXI6b3BhY2l0eS05MCBob3Zlcjpib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGhvdmVyOnNoYWRvdy1tZCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXNtIGZvbnQtbWVkaXVtXCIgb246Y2xpY2s9eygpID0+IHF1aWNrQWRkRWRnZVR5cGUoJ01lbWJlck9mJyl9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1iYXNlIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+PE9ic2lkaWFuSWNvbiBpY29uPVwidXNlcnNcIiAvPjwvc3Bhbj4gTWVtYmVyT2ZcclxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIHB4LTQgcHktMyByb3VuZGVkLWxnIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBob3ZlcjpvcGFjaXR5LTkwIGhvdmVyOmJvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gaG92ZXI6c2hhZG93LW1kIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtc20gZm9udC1tZWRpdW1cIiBvbjpjbGljaz17KCkgPT4gcXVpY2tBZGRFZGdlVHlwZSgnTWFuYWdlcycpfT5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtYmFzZSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPjxPYnNpZGlhbkljb24gaWNvbj1cImJhci1jaGFydC0yXCIgLz48L3NwYW4+IE1hbmFnZXNcclxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIHB4LTQgcHktMyByb3VuZGVkLWxnIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBob3ZlcjpvcGFjaXR5LTkwIGhvdmVyOmJvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gaG92ZXI6c2hhZG93LW1kIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtc20gZm9udC1tZWRpdW1cIiBvbjpjbGljaz17KCkgPT4gcXVpY2tBZGRFZGdlVHlwZSgnQ29udGFpbnMnKX0+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LWJhc2UgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj48T2JzaWRpYW5JY29uIGljb249XCJwYWNrYWdlXCIgLz48L3NwYW4+IENvbnRhaW5zXHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgey9pZn1cclxuXHJcbiAgICAgICAgICA8IS0tIFVudXNlZCBEZWZhdWx0IEVkZ2UgVHlwZXMgU2VjdGlvbiAtLT5cclxuICAgICAgICAgIHsjaWYgT2JqZWN0LmtleXModW51c2VkRWRnZVR5cGVzKS5sZW5ndGggPiAwfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibXQtOCBwdC04IGJvcmRlci10IGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXVwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItNFwiPlxyXG4gICAgICAgICAgICAgICAgPGg0IGNsYXNzPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cImNsaXBib2FyZC1saXN0XCIgLz4gQXZhaWxhYmxlIERlZmF1bHQgRWRnZSBUeXBlc1xyXG4gICAgICAgICAgICAgICAgPC9oND5cclxuICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgY2xhc3M9XCJweC0zIHB5LTIgYmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gcm91bmRlZCBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMCB0ZXh0LXNtIGZvbnQtbWVkaXVtXCJcclxuICAgICAgICAgICAgICAgICAgb246Y2xpY2s9e2FkZEFsbFVudXNlZEVkZ2VUeXBlc31cclxuICAgICAgICAgICAgICAgICAgdGl0bGU9XCJBZGQgYWxsIHVudXNlZCBkZWZhdWx0IGVkZ2UgdHlwZXMgYXQgb25jZVwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIEFkZCBBbGxcclxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIG1iLTRcIj5cclxuICAgICAgICAgICAgICAgIENvbW1vbiBlZGdlIHR5cGVzIHlvdSBjYW4gYWRkIHdpdGggb25lIGNsaWNrLiBUaGVzZSBpbmNsdWRlIHN0YW5kYXJkIHByb3BlcnRpZXMgYW5kIGRlc2NyaXB0aW9ucy5cclxuICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgZ2FwLTNcIj5cclxuICAgICAgICAgICAgICAgIHsjZWFjaCBPYmplY3QuZW50cmllcyh1bnVzZWRFZGdlVHlwZXMpIGFzIFtlZGdlVHlwZU5hbWUsIGRlc2NyaXB0aW9uXX1cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcC00IHJvdW5kZWQtbGdcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtc3RhcnQgbWItMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzPVwiZm9udC1zZW1pYm9sZCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPntlZGdlVHlwZU5hbWV9PC9oNT5cclxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJweC0yIHB5LTEgYmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gcm91bmRlZCB0ZXh0LXhzIGhvdmVyOm9wYWNpdHktOTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IHF1aWNrQWRkRWRnZVR5cGUoZWRnZVR5cGVOYW1lKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJBZGQge2VkZ2VUeXBlTmFtZX0gZWRnZSB0eXBlXCJcclxuICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwiY2hldnJvbi1yaWdodFwiIHNpemU9XCJtZWRpdW1cIiAvPiBBZGRcclxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIHRleHQtc20gbGVhZGluZy1yZWxheGVkXCI+e2Rlc2NyaXB0aW9ufTwvcD5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICB7L2VhY2h9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgey9pZn1cclxuXHJcbiAgICAgICAgICA8IS0tIEFkZCBOZXcgRWRnZSBUeXBlIEJ1dHRvbiAtLT5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdC02XCI+XHJcbiAgICAgICAgICAgIHsjaWYgc2hvd0FkZEVkZ2VGb3JtfVxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnktYWx0KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkLWxnIHAtNlwiPlxyXG4gICAgICAgICAgICAgICAgPGg0IGNsYXNzPVwidGV4dC1sZyBmb250LXNlbWlib2xkIG1iLTQgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj5BZGQgTmV3IEVkZ2UgVHlwZTwvaDQ+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItNFwiPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgYmluZDp2YWx1ZT17bmV3RWRnZVR5cGVOYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRWRnZSB0eXBlIG5hbWUgKGUuZy4sIFdvcmtzRm9yLCBVc2VzLCBDcmVhdGVzKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcm91bmRlZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGZvY3VzOmJvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1zbVwiXHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYi00XCI+XHJcbiAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYVxyXG4gICAgICAgICAgICAgICAgICAgIGJpbmQ6dmFsdWU9e25ld0VkZ2VUeXBlRGVzY3JpcHRpb259XHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJEZXNjcmlwdGlvbiBvZiB0aGlzIHJlbGF0aW9uc2hpcCB0eXBlXCJcclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gZm9jdXM6Ym9yZGVyLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LXNtIGxlYWRpbmctcmVsYXhlZCByZXNpemUtdmVydGljYWxcIlxyXG4gICAgICAgICAgICAgICAgICAgIHJvd3M9XCIyXCJcclxuICAgICAgICAgICAgICAgICAgPjwvdGV4dGFyZWE+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJweC00IHB5LTIgYmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gcm91bmRlZCBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMFwiIG9uOmNsaWNrPXtzYXZlTmV3RWRnZVR5cGV9PlNhdmUgRWRnZSBUeXBlPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJweC00IHB5LTIgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gcm91bmRlZCBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMFwiIG9uOmNsaWNrPXtjYW5jZWxBZGRFZGdlVHlwZX0+Q2FuY2VsPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgezplbHNlfVxyXG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJweC00IHB5LTIgYmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gcm91bmRlZCBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMFwiIG9uOmNsaWNrPXsoKSA9PiBzaG93QWRkRWRnZUZvcm0gPSB0cnVlfT5cclxuICAgICAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cImNoZXZyb24tcmlnaHRcIiBzaXplPVwibWVkaXVtXCIgLz4gQWRkIEVkZ2UgVHlwZVxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgey9pZn1cclxuXHJcbiAgICA8IS0tIEVER0UgTUFQUElOR1MgVEFCIC0tPlxyXG4gICAgeyNpZiBhY3RpdmVUYWIgPT09ICdtYXBwaW5ncyd9XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJhbmltYXRlLWZhZGVJblwiPlxyXG4gICAgICAgIDxkaXY+XHJcbiAgICAgICAgICA8aDMgY2xhc3M9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgbWItMiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJtYXBcIiAvPiBFZGdlIFR5cGUgTWFwcGluZ3NcclxuICAgICAgICAgIDwvaDM+XHJcbiAgICAgICAgICA8cCBjbGFzcz1cIm1iLTZcIj5cclxuICAgICAgICAgICAgRGVmaW5lIHdoaWNoIGVkZ2UgdHlwZXMgY2FuIGNvbm5lY3Qgd2hpY2ggZW50aXR5IHR5cGVzLiBDb250cm9scyByZWxhdGlvbnNoaXAgdmFsaWRhdGlvbiBpbiB5b3VyIGtub3dsZWRnZSBncmFwaC5cclxuICAgICAgICAgIDwvcD5cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgeyNpZiBlZGdlVHlwZU1hcCAmJiBlZGdlVHlwZU1hcC5sZW5ndGggPiAwfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbCBnYXAtNFwiPlxyXG4gICAgICAgICAgICAgIHsjZWFjaCBlZGdlVHlwZU1hcCBhcyBtYXBwaW5nLCBpbmRleH1cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnktYWx0KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkLWxnIG92ZXJmbG93LWhpZGRlblwiIGlkPVwibWFwcGluZy17aW5kZXh9XCI+XHJcbiAgICAgICAgICAgICAgICAgIHsjaWYgZWRpdGluZ01hcHBpbmdJbmRleCA9PT0gaW5kZXh9XHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLSBFZGl0IEZvcm0gLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInAtNCBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnktYWx0KV0gYm9yZGVyLW5vbmVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzcz1cInRleHQtbGcgZm9udC1zZW1pYm9sZCBtYi00IHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+RWRpdCBFZGdlIE1hcHBpbmc8L2g0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteS00IG1iLTRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiZWRpdC1zb3VyY2UtZW50aXR5XCIgY2xhc3M9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIG1iLTJcIj5Tb3VyY2UgRW50aXR5IFR5cGU8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9XCJlZGl0LXNvdXJjZS1lbnRpdHlcIiBiaW5kOnZhbHVlPXt0ZW1wRWRpdE1hcHBpbmdTb3VyY2VFbnRpdHl9IGNsYXNzPVwidy1mdWxsIHB4LTMgcHktMSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBmb2N1czpib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtc20gbGVhZGluZy1ub3JtYWwgYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gbWluLXctNDhcIj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPlNlbGVjdCBzb3VyY2UgZW50aXR5Li4uPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2VhY2ggYWxsRW50aXR5VHlwZXMgYXMgZW50aXR5VHlwZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT17ZW50aXR5VHlwZX0+e2VudGl0eVR5cGV9PC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2VhY2h9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiZWRpdC10YXJnZXQtZW50aXR5XCIgY2xhc3M9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIG1iLTJcIj5UYXJnZXQgRW50aXR5IFR5cGU8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9XCJlZGl0LXRhcmdldC1lbnRpdHlcIiBiaW5kOnZhbHVlPXt0ZW1wRWRpdE1hcHBpbmdUYXJnZXRFbnRpdHl9IGNsYXNzPVwidy1mdWxsIHB4LTMgcHktMSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBmb2N1czpib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtc20gbGVhZGluZy1ub3JtYWwgYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gbWluLXctNDhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5TZWxlY3QgdGFyZ2V0IGVudGl0eS4uLjwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNlYWNoIGFsbEVudGl0eVR5cGVzIGFzIGVudGl0eVR5cGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9e2VudGl0eVR5cGV9PntlbnRpdHlUeXBlfTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey9lYWNofVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gbWItMlwiPkFsbG93ZWQgRWRnZSBUeXBlczwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBlZGdlVHlwZXNMaXN0Lmxlbmd0aCA+IDB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyaWQgZ3JpZC1jb2xzLTIgbWQ6Z3JpZC1jb2xzLTMgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjZWFjaCBlZGdlVHlwZXNMaXN0IGFzIGVkZ2VUeXBlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBwLTIgYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIGhvdmVyOm9wYWNpdHktOTAgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17dGVtcEVkaXRNYXBwaW5nQWxsb3dlZEVkZ2VzLmluY2x1ZGVzKGVkZ2VUeXBlKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNoYW5nZT17KCkgPT4gdG9nZ2xlRWRpdEVkZ2VUeXBlKGVkZ2VUeXBlKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicm91bmRlZCBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gZm9jdXM6cmluZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXNtIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+e2VkZ2VUeXBlfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvZWFjaH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgezplbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gaXRhbGljXCI+Tm8gZWRnZSB0eXBlcyBkZWZpbmVkLiBDcmVhdGUgZWRnZSB0eXBlcyBmaXJzdC48L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicHgtNCBweS0yIGJnLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHJvdW5kZWQgaG92ZXI6b3BhY2l0eS05MCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXtzYXZlRWRpdE1hcHBpbmd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyF0ZW1wRWRpdE1hcHBpbmdTb3VyY2VFbnRpdHkgfHwgIXRlbXBFZGl0TWFwcGluZ1RhcmdldEVudGl0eSB8fCB0ZW1wRWRpdE1hcHBpbmdBbGxvd2VkRWRnZXMubGVuZ3RoID09PSAwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgU2F2ZSBDaGFuZ2VzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicHgtNCBweS0yIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIHJvdW5kZWQgaG92ZXI6b3BhY2l0eS05MCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDBcIiBvbjpjbGljaz17Y2FuY2VsRWRpdE1hcHBpbmd9PkNhbmNlbDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIHs6ZWxzZX1cclxuICAgICAgICAgICAgICAgICAgICA8IS0tIERpc3BsYXkgTW9kZSAtLT5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicC00IGJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeS1hbHQpXSBib3JkZXItbm9uZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZm9udC1zZW1pYm9sZCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPnttYXBwaW5nLnNvdXJjZUVudGl0eX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXVwiPuKGkjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZm9udC1zZW1pYm9sZCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPnttYXBwaW5nLnRhcmdldEVudGl0eX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTEgZmxleC13cmFwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2VhY2ggbWFwcGluZy5hbGxvd2VkRWRnZXMgYXMgZWRnZVR5cGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyBweC0yIHB5LTEgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIHJvdW5kZWQtZnVsbCBmb250LW1lZGl1bVwiPntlZGdlVHlwZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2VhY2h9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIGJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHB4LTIgcHktMSByb3VuZGVkLWZ1bGxcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttYXBwaW5nLmlzVXNlckRlZmluZWQgPyAnVXNlcicgOiAnQXV0byd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicC0xIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSBob3ZlcjpvcGFjaXR5LTkwIGhvdmVyOmJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiBzdGFydEVkaXRNYXBwaW5nKGluZGV4KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiRWRpdCBNYXBwaW5nXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJwZW5jaWxcIiBzaXplPVwibWVkaXVtXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInB4LTIgcHktMSBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1lcnJvcildIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIGhvdmVyOm9wYWNpdHktOTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIHRleHQteHNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IHJlbW92ZU1hcHBpbmcoaW5kZXgpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxPYnNpZGlhbkljb24gaWNvbj1cInRyYXNoLTJcIiBzaXplPVwibWVkaXVtXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgey9pZn1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIHsvZWFjaH1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICB7OmVsc2V9XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlciBweS0xNiB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC02eGwgbWItNSBvcGFjaXR5LTUwXCI+PE9ic2lkaWFuSWNvbiBpY29uPVwibWFwXCIgLz48L2Rpdj5cclxuICAgICAgICAgICAgICA8aDQgY2xhc3M9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgbWItMyB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPk5vIEVkZ2UgTWFwcGluZ3MgRGVmaW5lZDwvaDQ+XHJcbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJtYi0xMCBtYXgtdy1sZyBteC1hdXRvIGxlYWRpbmctcmVsYXhlZCB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIj5DcmVhdGUgbWFwcGluZ3MgdG8gZGVmaW5lIHdoaWNoIHJlbGF0aW9uc2hpcHMgY2FuIGV4aXN0IGJldHdlZW4gZW50aXR5IHR5cGVzLjwvcD5cclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibXQtMTAgcHQtOCBib3JkZXItdCBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV1cIj5cclxuICAgICAgICAgICAgICAgIDxoNSBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZCBtYi01IHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+UXVpY2sgQWRkIENvbW1vbiBNYXBwaW5nczo8L2g1PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgZ2FwLTMgbWF4LXctMnhsIG14LWF1dG9cIj5cclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gcC00IHJvdW5kZWQtbGcgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGhvdmVyOm9wYWNpdHktOTAgaG92ZXI6Ym9yZGVyLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBob3ZlcjpzaGFkb3ctbWQgdGV4dC1zbSBmb250LW1lZGl1bVwiXHJcbiAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IHF1aWNrQWRkTWFwcGluZygnUGVyc29uJywgJ1RlY2hub2xvZ3knLCBbJ1VzZXMnLCAnUmVsYXRlc1RvJ10pfT5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9udC1zZW1pYm9sZCBtYi0xIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+PE9ic2lkaWFuSWNvbiBpY29uPVwidXNlclwiIC8+IFBlcnNvbiDihpIgPE9ic2lkaWFuSWNvbiBpY29uPVwibW9uaXRvclwiIC8+IFRlY2hub2xvZ3k8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC14cyB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIj5Vc2VzLCBSZWxhdGVzVG88L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIHAtNCByb3VuZGVkLWxnIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBob3ZlcjpvcGFjaXR5LTkwIGhvdmVyOmJvcmRlci1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gaG92ZXI6c2hhZG93LW1kIHRleHQtc20gZm9udC1tZWRpdW1cIlxyXG4gICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiBxdWlja0FkZE1hcHBpbmcoJ1BlcnNvbicsICdQcm9qZWN0JywgWydXb3Jrc09uJywgJ01hbmFnZXMnLCAnUmVsYXRlc1RvJ10pfT5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9udC1zZW1pYm9sZCBtYi0xIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+PE9ic2lkaWFuSWNvbiBpY29uPVwidXNlclwiIC8+IFBlcnNvbiDihpIgPE9ic2lkaWFuSWNvbiBpY29uPVwiZm9sZGVyXCIgLz4gUHJvamVjdDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXVwiPldvcmtzT24sIE1hbmFnZXMsIFJlbGF0ZXNUbzwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSldIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gcC00IHJvdW5kZWQtbGcgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGhvdmVyOm9wYWNpdHktOTAgaG92ZXI6Ym9yZGVyLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBob3ZlcjpzaGFkb3ctbWQgdGV4dC1zbSBmb250LW1lZGl1bVwiXHJcbiAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IHF1aWNrQWRkTWFwcGluZygnRW50aXR5JywgJ0VudGl0eScsIFsnUmVsYXRlc1RvJ10pfT5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9udC1zZW1pYm9sZCBtYi0xIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+PE9ic2lkaWFuSWNvbiBpY29uPVwibGluay0yXCIgLz4gRW50aXR5IOKGkiBFbnRpdHk8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC14cyB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIj5SZWxhdGVzVG8gKEdlbmVyaWMpPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSBwLTQgcm91bmRlZC1sZyBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgaG92ZXI6b3BhY2l0eS05MCBob3Zlcjpib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIGhvdmVyOnNoYWRvdy1tZCB0ZXh0LXNtIGZvbnQtbWVkaXVtXCJcclxuICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gcXVpY2tBZGRNYXBwaW5nKCdQcm9qZWN0JywgJ1RlY2hub2xvZ3knLCBbJ1VzZXMnLCAnRGVwZW5kc09uJywgJ1JlbGF0ZXNUbyddKX0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvbnQtc2VtaWJvbGQgbWItMSB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPjxPYnNpZGlhbkljb24gaWNvbj1cImZvbGRlclwiIC8+IFByb2plY3Qg4oaSIDxPYnNpZGlhbkljb24gaWNvbj1cIm1vbml0b3JcIiAvPiBUZWNobm9sb2d5PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQteHMgdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldXCI+VXNlcywgRGVwZW5kc09uLCBSZWxhdGVzVG88L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICB7L2lmfVxyXG5cclxuICAgICAgICAgIDwhLS0gU3VnZ2VzdGVkIERlZmF1bHQgTWFwcGluZ3MgU2VjdGlvbiAtLT5cclxuICAgICAgICAgIHsjaWYgc3VnZ2VzdGVkTWFwcGluZ3MubGVuZ3RoID4gMH1cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm10LTggcHQtOCBib3JkZXItdCBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV1cIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTRcIj5cclxuICAgICAgICAgICAgICAgIDxoNCBjbGFzcz1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICA8T2JzaWRpYW5JY29uIGljb249XCJsaWdodGJ1bGJcIiAvPiBTdWdnZXN0ZWQgRWRnZSBNYXBwaW5nc1xyXG4gICAgICAgICAgICAgICAgPC9oND5cclxuICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgY2xhc3M9XCJweC0zIHB5LTIgYmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gcm91bmRlZCBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMCB0ZXh0LXNtIGZvbnQtbWVkaXVtXCJcclxuICAgICAgICAgICAgICAgICAgb246Y2xpY2s9e2FkZEFsbFN1Z2dlc3RlZE1hcHBpbmdzfVxyXG4gICAgICAgICAgICAgICAgICB0aXRsZT1cIkFkZCBhbGwgc3VnZ2VzdGVkIGVkZ2UgbWFwcGluZ3MgYXQgb25jZVwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIEFkZCBBbGxcclxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIG1iLTRcIj5cclxuICAgICAgICAgICAgICAgIFJlY29tbWVuZGVkIG1hcHBpbmdzIGJhc2VkIG9uIHlvdXIgZGlzY292ZXJlZCBlbnRpdHkgdHlwZXMuIEFkZCB0aGVzZSB0byBlbmFibGUgY29tbW9uIHJlbGF0aW9uc2hpcHMuXHJcbiAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncmlkIGdyaWQtY29scy0xIGdhcC0zXCI+XHJcbiAgICAgICAgICAgICAgICB7I2VhY2ggc3VnZ2VzdGVkTWFwcGluZ3MgYXMgc3VnZ2VzdGlvbn1cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeS1hbHQpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHAtNCByb3VuZGVkLWxnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLXN0YXJ0IG1iLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZvbnQtc2VtaWJvbGQgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj57c3VnZ2VzdGlvbi5zb3VyY2VFbnRpdHl9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXVwiPuKGkjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+e3N1Z2dlc3Rpb24udGFyZ2V0RW50aXR5fTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTEgbWwtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsjZWFjaCBzdWdnZXN0aW9uLmFsbG93ZWRFZGdlcyBhcyBlZGdlVHlwZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyBweC0yIHB5LTEgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItc3VjY2VzcyldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gcm91bmRlZC1mdWxsIGZvbnQtbWVkaXVtXCI+e2VkZ2VUeXBlfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7L2VhY2h9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicHgtMiBweS0xIGJnLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHJvdW5kZWQgdGV4dC14cyBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiBxdWlja0FkZE1hcHBpbmcoc3VnZ2VzdGlvbi5zb3VyY2VFbnRpdHksIHN1Z2dlc3Rpb24udGFyZ2V0RW50aXR5LCBzdWdnZXN0aW9uLmFsbG93ZWRFZGdlcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiQWRkIHRoaXMgbWFwcGluZ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFkZFxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gdGV4dC1zbSBsZWFkaW5nLXJlbGF4ZWRcIj57c3VnZ2VzdGlvbi5kZXNjcmlwdGlvbn08L3A+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgey9lYWNofVxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIHsvaWZ9XHJcblxyXG4gICAgICAgICAgPCEtLSBBZGQgTmV3IE1hcHBpbmcgQnV0dG9uIC0tPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm10LTZcIj5cclxuICAgICAgICAgICAgeyNpZiBzaG93QWRkTWFwcGluZ0Zvcm19XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJnLVt2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeS1hbHQpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQtbGcgcC02XCI+XHJcbiAgICAgICAgICAgICAgICA8aDQgY2xhc3M9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgbWItNCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPkFkZCBOZXcgRWRnZSBNYXBwaW5nPC9oND5cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNwYWNlLXktNCBtYi00XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cIm5ldy1zb3VyY2UtZW50aXR5XCIgY2xhc3M9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIG1iLTJcIj5Tb3VyY2UgRW50aXR5IFR5cGU8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9XCJuZXctc291cmNlLWVudGl0eVwiIGJpbmQ6dmFsdWU9e25ld01hcHBpbmdTb3VyY2VFbnRpdHl9IGNsYXNzPVwidy1mdWxsIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBmb2N1czpib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtc20gYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gbWluLXctNDhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5TZWxlY3Qgc291cmNlIGVudGl0eS4uLjwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgeyNlYWNoIGFsbEVudGl0eVR5cGVzIGFzIGVudGl0eVR5cGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9e2VudGl0eVR5cGV9PntlbnRpdHlUeXBlfTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgey9lYWNofVxyXG4gICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cIm5ldy10YXJnZXQtZW50aXR5XCIgY2xhc3M9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIG1iLTJcIj5UYXJnZXQgRW50aXR5IFR5cGU8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9XCJuZXctdGFyZ2V0LWVudGl0eVwiIGJpbmQ6dmFsdWU9e25ld01hcHBpbmdUYXJnZXRFbnRpdHl9IGNsYXNzPVwidy1mdWxsIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBmb2N1czpib3JkZXItW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtc20gYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gbWluLXctNDhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5TZWxlY3QgdGFyZ2V0IGVudGl0eS4uLjwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgeyNlYWNoIGFsbEVudGl0eVR5cGVzIGFzIGVudGl0eVR5cGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9e2VudGl0eVR5cGV9PntlbnRpdHlUeXBlfTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgey9lYWNofVxyXG4gICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItNFwiPlxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gbWItMlwiPkFsbG93ZWQgRWRnZSBUeXBlczwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgeyNpZiBlZGdlVHlwZXNMaXN0Lmxlbmd0aCA+IDB9XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyaWQgZ3JpZC1jb2xzLTIgbWQ6Z3JpZC1jb2xzLTMgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIHsjZWFjaCBlZGdlVHlwZXNMaXN0IGFzIGVkZ2VUeXBlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBwLTIgYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkIGhvdmVyOm9wYWNpdHktOTAgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17bmV3TWFwcGluZ0FsbG93ZWRFZGdlcy5pbmNsdWRlcyhlZGdlVHlwZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjaGFuZ2U9eygpID0+IHRvZ2dsZUVkZ2VUeXBlKGVkZ2VUeXBlKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicm91bmRlZCBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gZm9jdXM6cmluZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXNtIHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+e2VkZ2VUeXBlfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgIHsvZWFjaH1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgezplbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gaXRhbGljXCI+Tm8gZWRnZSB0eXBlcyBkZWZpbmVkLiBDcmVhdGUgZWRnZSB0eXBlcyBmaXJzdC48L3A+XHJcbiAgICAgICAgICAgICAgICAgIHsvaWZ9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicHgtNCBweS0yIGJnLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHJvdW5kZWQgaG92ZXI6b3BhY2l0eS05MCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDBcIlxyXG4gICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXtzYXZlTmV3TWFwcGluZ31cclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IW5ld01hcHBpbmdTb3VyY2VFbnRpdHkgfHwgIW5ld01hcHBpbmdUYXJnZXRFbnRpdHkgfHwgbmV3TWFwcGluZ0FsbG93ZWRFZGdlcy5sZW5ndGggPT09IDB9XHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICBTYXZlIE1hcHBpbmdcclxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJweC00IHB5LTIgYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gcm91bmRlZCBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMFwiIG9uOmNsaWNrPXtjYW5jZWxBZGRNYXBwaW5nfT5DYW5jZWw8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICB7OmVsc2V9XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInB4LTQgcHktMiBiZy1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSByb3VuZGVkIGhvdmVyOm9wYWNpdHktOTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwXCIgb246Y2xpY2s9eygpID0+IHNob3dBZGRNYXBwaW5nRm9ybSA9IHRydWV9PlxyXG4gICAgICAgICAgICAgICAgPE9ic2lkaWFuSWNvbiBpY29uPVwiY2hldnJvbi1yaWdodFwiIHNpemU9XCJtZWRpdW1cIiAvPiBBZGQgRWRnZSBNYXBwaW5nXHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIHsvaWZ9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICB7L2lmfVxyXG4gICAgXHJcbiAgPC9kaXY+XHJcbiAgXHJcbiAgPCEtLSA9PT0gR0xPQkFMIENPTlRFTlQgKG91dHNpZGUgdGFicykgPT09IC0tPlxyXG4gIHsjaWYgbG9hZGluZ31cclxuICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBqdXN0aWZ5LWNlbnRlciBweS04IHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXVwiPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwidy00IGgtNCBib3JkZXItMiBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gYm9yZGVyLXQtW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHJvdW5kZWQtZnVsbCBhbmltYXRlLXNwaW5cIj48L2Rpdj5cclxuICAgICAgRGlzY292ZXJpbmcgc2NoZW1hcyBmcm9tIHZhdWx0Li4uXHJcbiAgICA8L2Rpdj5cclxuICB7OmVsc2UgaWYgc2NoZW1hcy5sZW5ndGggPT09IDB9XHJcbiAgICA8ZGl2IGNsYXNzPVwidGV4dC1jZW50ZXIgcHktOCB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIj5cclxuICAgICAgPHAgY2xhc3M9XCJtYi0yXCI+Tm8gdHlwZWQgbm90ZXMgZm91bmQgaW4geW91ciB2YXVsdC48L3A+XHJcbiAgICAgIDxwPkFkZCBhIDxjb2RlIGNsYXNzPVwiYmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gcHgtMiBweS0xIHJvdW5kZWQgZm9udC1tb25vIHRleHQtc21cIj50eXBlPC9jb2RlPiBwcm9wZXJ0eSB0byB5b3VyIGZyb250bWF0dGVyIHRvIGdldCBzdGFydGVkLjwvcD5cclxuICAgIDwvZGl2PlxyXG4gIHs6ZWxzZX1cclxuICAgIDxkaXYgY2xhc3M9XCJiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHJvdW5kZWQtbGcgcC00IG1iLTRcIj5cclxuICAgICAgPHAgY2xhc3M9XCJ0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSB0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgIEZvdW5kIDxzdHJvbmcgY2xhc3M9XCJ0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPntzY2hlbWFzLmxlbmd0aH08L3N0cm9uZz4gdHlwZXMgYWNyb3NzIDxzdHJvbmcgY2xhc3M9XCJ0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPntzY2hlbWFzLnJlZHVjZSgoc3VtLCBzKSA9PiBzdW0gKyBzLmZpbGVDb3VudCwgMCl9PC9zdHJvbmc+IGZpbGVzXHJcbiAgICAgIDwvcD5cclxuICAgIDwvZGl2PlxyXG4gIHsvaWZ9XHJcbjwvZGl2PlxyXG5cclxuXHJcbjwhLS0gPT09IFZFU1NFTCBDTE9TRSA9PT0gLS0+XHJcbiIsIi8vID09PSBWRVNTRUwgT1BFTiA9PT1cclxuLy8gUHVycG9zZTogU2NoZW1hIE1hbmFnZXIgdmlldyBmb3IgZGlzY292ZXJ5LWJhc2VkIHNjaGVtYSBtYW5hZ2VtZW50XHJcbi8vIEludGVncmF0aW9uOiBSZXBsYWNlcyBHcmFwaGl0aVZpZXcgd2l0aCBuZXcgZGlzY292ZXJ5IGZ1bmN0aW9uYWxpdHlcclxuLy8gTW9kZTogQ29kZSAtIFZpZXcgY2xhc3MgZm9yIHNjaGVtYSBkaXNjb3ZlcnkgYW5kIFB5ZGFudGljIGdlbmVyYXRpb25cclxuXHJcbmltcG9ydCB7IEl0ZW1WaWV3LCBXb3Jrc3BhY2VMZWFmIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB0eXBlIHsgU2NoZW1hRGlzY292ZXJ5U2VydmljZSB9IGZyb20gXCIuLi9zZXJ2aWNlcy9TY2hlbWFEaXNjb3ZlcnlTZXJ2aWNlXCI7XHJcbmltcG9ydCBTY2hlbWFNYW5hZ2VyIGZyb20gXCIuLi9jb21wb25lbnRzL1NjaGVtYU1hbmFnZXIuc3ZlbHRlXCI7XHJcblxyXG5leHBvcnQgY29uc3QgU0NIRU1BX01BTkFHRVJfVklFV19UWVBFID0gXCJzY2hlbWEtbWFuYWdlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNjaGVtYU1hbmFnZXJWaWV3IGV4dGVuZHMgSXRlbVZpZXcge1xyXG4gIGNvbXBvbmVudD86IFNjaGVtYU1hbmFnZXI7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGxlYWY6IFdvcmtzcGFjZUxlYWYsIHByaXZhdGUgc2NoZW1hU2VydmljZTogU2NoZW1hRGlzY292ZXJ5U2VydmljZSkge1xyXG4gICAgc3VwZXIobGVhZik7XHJcbiAgfVxyXG5cclxuICBnZXRWaWV3VHlwZSgpIHtcclxuICAgIHJldHVybiBTQ0hFTUFfTUFOQUdFUl9WSUVXX1RZUEU7XHJcbiAgfVxyXG5cclxuICBnZXREaXNwbGF5VGV4dCgpIHtcclxuICAgIHJldHVybiBcIlNjaGVtYSBNYW5hZ2VyXCI7XHJcbiAgfVxyXG5cclxuICBhc3luYyBvbk9wZW4oKSB7XHJcbiAgICB0aGlzLmNvbXBvbmVudCA9IG5ldyBTY2hlbWFNYW5hZ2VyKHtcclxuICAgICAgdGFyZ2V0OiB0aGlzLmNvbnRlbnRFbCxcclxuICAgICAgcHJvcHM6IHtcclxuICAgICAgICBzY2hlbWFTZXJ2aWNlOiB0aGlzLnNjaGVtYVNlcnZpY2VcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBvbkNsb3NlKCkge1xyXG4gICAgaWYgKHRoaXMuY29tcG9uZW50KSB7XHJcbiAgICAgIHRoaXMuY29tcG9uZW50LiRkZXN0cm95KCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyA9PT0gVkVTU0VMIENMT1NFID09PSIsIjwhLS1cbj09PSBWRVNTRUwgT1BFTiA9PT1cblB1cnBvc2U6IEVuaGFuY2VkIHN5bmMgbW9kYWwgdXNpbmcgU3ZlbHRlIGZvciBiZXR0ZXIgbWFpbnRhaW5hYmlsaXR5IGFuZCB1c2VyIGV4cGVyaWVuY2VcbkludGVncmF0aW9uOiBVc2VzIGV4aXN0aW5nIEdyYXBoaXRpU2VydmljZSwgU3luY1JlZ2lzdHJ5U2VydmljZSwgU3luY1N0YXR1c01hbmFnZXIgZm9yIG9yY2hlc3RyYXRlZCBzeW5jIG9wZXJhdGlvbnNcbk1vZGU6IENvZGUgLSBDb21wbGV0ZSBzeW5jIGludGVyZmFjZSB3aXRoIHByb2dyZXNzIHRyYWNraW5nLCBidWxrIG9wdGlvbnMsIGFuZCB1c2VyIHNldHRpbmcgb3ZlcnJpZGVzXG4tLT5cblxuPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAgaW1wb3J0IHsgb25Nb3VudCB9IGZyb20gJ3N2ZWx0ZSc7XG4gIGltcG9ydCB7IE1vZGFsIH0gZnJvbSAnb2JzaWRpYW4nO1xuICBpbXBvcnQgdHlwZSB7IEdyYXBoaXRpU2VydmljZSwgU3luY1Byb2dyZXNzLCBTeW5jUmVzdWx0IH0gZnJvbSAnLi4vc2VydmljZXMvR3JhcGhpdGlTZXJ2aWNlJztcbiAgaW1wb3J0IHR5cGUgeyBOb3RlU2VsZWN0aW9uU2VydmljZSwgTm90ZUZpbHRlckNyaXRlcmlhLCBOb3RlU2VsZWN0aW9uUmVzdWx0IH0gZnJvbSAnLi4vc2VydmljZXMvTm90ZVNlbGVjdGlvblNlcnZpY2UnO1xuICBpbXBvcnQgdHlwZSB7IFN5bmNSZWdpc3RyeVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9TeW5jUmVnaXN0cnlTZXJ2aWNlJztcbiAgaW1wb3J0IHR5cGUgeyBTeW5jU3RhdHVzTWFuYWdlciB9IGZyb20gJy4uL3NlcnZpY2VzL1N5bmNTdGF0dXNNYW5hZ2VyJztcbiAgaW1wb3J0IHR5cGUgeyBHcmFwaGl0aVBsdWdpblNldHRpbmdzIH0gZnJvbSAnLi4vdHlwZXMvU2V0dGluZ3MnO1xuICBpbXBvcnQgdHlwZSB7IEdyYXBoaXRpTG9nZ2VyIH0gZnJvbSAnLi4vdXRpbHMvTG9nZ2VyJztcblxuLy8gQHZlc3NlbC1wcm90b2NvbDpIZWltZGFsbCBnb3Zlcm5zOmVycm9yLWhhbmRsaW5nIGNvbnRleHQ6Um9idXN0IGVycm9yIGNhcHR1cmUgZm9yIGluZGl2aWR1YWwgc3luYyBzdGF0dXMgY2hlY2tzIGluIFByb21pc2UuYWxsXG4vLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbaXNTeW5jZWQoKSwgY29tcHV0ZVF1aWNrU3luY1N0YXRzKCldXG4vLyBAcHVycG9zZTogRW5zdXJlIHRoYXQgaW5kaXZpZHVhbCBmYWlsdXJlcyBpbiBzeW5jIHN0YXR1cyBhc3Nlc3NtZW50cyBkbyBub3QgY2F1c2UgdGhlIGVudGlyZSBQcm9taXNlLmFsbCB0byBmYWlsLCBhbGxvd2luZyBwYXJ0aWFsIHN1Y2Nlc3MgcmVwb3J0aW5nIGFuZCBiZXR0ZXIgZGVidWdnaW5nLlxuLy8gQHJlc3VsdDogVGhlIHF1aWNrIHN5bmMgdGFibGUgd2lsbCBkaXNwbGF5IGFjY3VyYXRlIGNvdW50cyBldmVuIGlmIHNvbWUgbm90ZXMgZmFpbCBzeW5jIHN0YXR1cyBjaGVja3MsIGltcHJvdmluZyBVSSBzdGFiaWxpdHkgYW5kIGVycm9yIHZpc2liaWxpdHkuXG4vLyBAc2lnbmVkOiBDLkJqw7hyblxuICAvLyBMb2NhbCB0eXBlIGRlZmluaXRpb25zIHRvIGhhbmRsZSBleHBvcnQgaXNzdWVzXG5cbiAgdHlwZSBTeW5jU3RhdHVzQ2hlY2tSZXN1bHQgPSB7XG4gICAgbm90ZVBhdGg6IHN0cmluZztcbiAgICBpc1N5bmNlZDogYm9vbGVhbjtcbiAgICBlcnJvcjogYm9vbGVhbjtcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICB9O1xuXG4gIHR5cGUgU3luY1JlY29yZEVudHJ5ID0ge1xuICAgIGVwaXNvZGVfdXVpZDogc3RyaW5nO1xuICAgIGxhc3Rfc3luYzogc3RyaW5nO1xuICB9O1xuXG4gIHR5cGUgU3luY1JlY29yZCA9IHtcbiAgICBzeW5jczogU3luY1JlY29yZEVudHJ5W107XG4gIH07XG5cbiAgLy8gUHJvcHNcbiAgZXhwb3J0IGxldCBncmFwaGl0aVNlcnZpY2U6IEdyYXBoaXRpU2VydmljZTtcbiAgZXhwb3J0IGxldCBzeW5jUmVnaXN0cnlTZXJ2aWNlOiBTeW5jUmVnaXN0cnlTZXJ2aWNlO1xuICBsZXQgc2V0dGluZ3M6IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3M7XG4gIGV4cG9ydCBsZXQgbG9nZ2VyOiBHcmFwaGl0aUxvZ2dlcjsgLy8gQWRkZWQgbG9nZ2VyIHByb3BcbiAgZXhwb3J0IGxldCBvbkNsb3NlOiAoKSA9PiB2b2lkO1xuXG4gIC8vIFNlcnZpY2VzXG4gIGxldCBub3RlU2VsZWN0aW9uU2VydmljZTogTm90ZVNlbGVjdGlvblNlcnZpY2UgfCB1bmRlZmluZWQ7XG4gIGxldCBhcHA6IGFueTtcblxuICAvLyBVSSBTdGF0ZVxuICBsZXQgYWN0aXZlVGFiOiAncXVpY2snIHwgJ2FkdmFuY2VkJyA9ICdxdWljayc7XG4gIGxldCBsb2FkaW5nID0gZmFsc2U7XG4gIGxldCBzeW5jSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICBcbiAgLy8gUXVpY2sgU3luYyBTdGF0ZVxuICBsZXQgcXVpY2tTeW5jVGFibGVEYXRhOiBBcnJheTx7IHR5cGU6IHN0cmluZzsgdG90YWw6IG51bWJlcjsgc3luY2VkOiBudW1iZXI7IHByaXZhdGU6IG51bWJlcjsgcmVhZHk6IG51bWJlcjsgcmVhZHlQYXRoczogc3RyaW5nW107IHVwZGF0ZWQ6IG51bWJlcjsgdXBkYXRlZFBhdGhzOiBzdHJpbmdbXSB9PiA9IFtdO1xuICBsZXQgdGFibGVMb2FkaW5nOiBib29sZWFuID0gZmFsc2U7XG4gIFxuICAvLyBBZHZhbmNlZCBTZWxlY3Rpb24gU3RhdGVcbiAgbGV0IHNlbGVjdGVkTm90ZXNFbDogYW55O1xuICBsZXQgc3VtbWFyeUVsOiBhbnk7XG4gIGxldCBmaWx0ZXJDcml0ZXJpYTogTm90ZUZpbHRlckNyaXRlcmlhID0ge307XG4gIFxuXG4gIC8vIFByb2dyZXNzIFN0YXRlXG4gIGxldCBzeW5jUHJvZ3Jlc3M6IFN5bmNQcm9ncmVzcyB8IG51bGwgPSBudWxsO1xuICBsZXQgc3luY1Jlc3VsdDogU3luY1Jlc3VsdCB8IG51bGwgPSBudWxsO1xuICBsZXQgc3luY1BoYXNlOiAncHJlcGFyYXRpb24nIHwgJ2FuYWx5c2lzJyB8ICdzeW5jJyB8ICdjbGVhbnVwJyA9ICdwcmVwYXJhdGlvbic7XG4gIGxldCBuZXdOb3Rlc0NvdW50ID0gMDtcbiAgbGV0IGV4aXN0aW5nTm90ZXNDb3VudCA9IDA7XG4gIGxldCBza2lwcGVkTm90ZXNDb3VudCA9IDA7XG4gIGxldCBlcnJvckNvdW50ID0gMDtcbiAgbGV0IGVzdGltYXRlZFRpbWVSZW1haW5pbmcgPSAnJztcblxuICAvLyBTdGF0aXN0aWNzXG4gIGxldCB2YXVsdFN0YXRpc3RpY3M6IGFueSA9IG51bGw7XG5cbiAgJDoge1xuICAgIGlmICh0eXBlb2YgKHdpbmRvdyBhcyBhbnkpLmFwcCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGFwcCA9ICh3aW5kb3cgYXMgYW55KS5hcHA7XG4gICAgICBpZiAoZ3JhcGhpdGlTZXJ2aWNlKSB7XG4gICAgICAgIG5vdGVTZWxlY3Rpb25TZXJ2aWNlID0gZ3JhcGhpdGlTZXJ2aWNlLmdldE5vdGVTZWxlY3Rpb25TZXJ2aWNlKCk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmUgLSBBY2Nlc3NpbmcgcHJpdmF0ZSBtZW1iZXIgZm9yIG5vd1xuICAgICAgICBzZXR0aW5ncyA9IGdyYXBoaXRpU2VydmljZS5zZXR0aW5ncztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBvbk1vdW50KGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBpbml0aWFsaXplTW9kYWwoKTtcbiAgfSk7XG5cbiAgYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZU1vZGFsKCkge1xuICAgIC8vIEB2ZXNzZWwtcHJvdG9jb2w6QmFsZHIgZ292ZXJuczpbZGVidWddIGNvbnRleHQ6RGlhZ25vc2lzIG9mIGluaXRpYWxpemF0aW9uIGxvZ2dpbmdcbiAgICAvLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbY29tcHV0ZVF1aWNrU3luY1N0YXRzXVxuICAgIC8vIEBwdXJwb3NlOiBSZWR1Y2UgaW5pdGlhbGl6YXRpb24gbG9nIG5vaXNlXG4gICAgLy8gQHJlc3VsdDogQ2xlYW5lciBtb2RhbCBzdGFydHVwIGxvZ2dpbmdcbiAgICAvLyBAc2lnbmVkOiBDLkJqw7hyblxuICAgIGxvZ2dlci5kZWJ1ZygnW1NNLUlOSVRdIFN5bmNNb2RhbCBpbml0aWFsaXppbmcuLi4nKTtcbiAgICAgYXdhaXQgY29tcHV0ZVF1aWNrU3luY1N0YXRzKCk7XG4gICB9XG4gXG4gICBhc3luYyBmdW5jdGlvbiBjb21wdXRlUXVpY2tTeW5jU3RhdHMoKSB7XG4gICAgIHRyeSB7XG4gICAgICAgdGFibGVMb2FkaW5nID0gdHJ1ZTtcbiAgICAgICBcbiAgICAgICBpZiAoIW5vdGVTZWxlY3Rpb25TZXJ2aWNlKSB7XG4gICAgICAgICBsb2dnZXIud2FybignW1NNLVdBUk5dIE5vdGUgc2VsZWN0aW9uIHNlcnZpY2Ugbm90IGF2YWlsYWJsZScpO1xuICAgICAgICAgcmV0dXJuO1xuICAgICAgIH1cblxuICAgICAgLy8gQHZlc3NlbC1wcm90b2NvbDpCYWxkciBnb3Zlcm5zOltkZWJ1Z10gY29udGV4dDpEaWFnbm9zaXMgb2Ygc3luYyBzdGF0cyBleHBsb3Npb25cbiAgICAgIC8vIEBpbnRlci1kZXBlbmRlbmNpZXM6IFtpc1N5bmNlZCwgZ2V0U3luY1JlY29yZF1cbiAgICAgIC8vIEBwdXJwb3NlOiBUcmFjayBzeW5jIHN0YXR1cyBjaGVjayB2b2x1bWUgY2F1c2luZyBsb2cgZXhwbG9zaW9uXG4gICAgICAvLyBAcmVzdWx0OiBDbGVhciBldmlkZW5jZSBvZiBsb29wIHNpemUgY2F1c2luZyBleGNlc3NpdmUgbG9nZ2luZ1xuICAgICAgLy8gQHNpZ25lZDogQy5CasO4cm5cbiAgICAgIGNvbnN0IGFsbFN5bmNhYmxlTm90ZXNCeVR5cGUgPSBhd2FpdCBub3RlU2VsZWN0aW9uU2VydmljZS5nZXROb3Rlc0J5VHlwZSgpO1xuICAgICAgY29uc3QgYWxsUHJpdmF0ZU5vdGVzID0gYXdhaXQgbm90ZVNlbGVjdGlvblNlcnZpY2UuZ2V0UHJpdmF0ZU5vdGVzQnlGb2xkZXIoKTtcbiAgICAgIGNvbnN0IGF2YWlsYWJsZVR5cGVzID0gYXdhaXQgbm90ZVNlbGVjdGlvblNlcnZpY2UuZ2V0QXZhaWxhYmxlVHlwZXMoKTtcbiAgICAgIGNvbnN0IG5ld0RhdGEgPSBbXTtcblxuICAgICAgbGV0IHRvdGFsU3luY0NoZWNrcyA9IDA7XG5cbiAgICAgIGZvciAoY29uc3QgdHlwZSBvZiBhdmFpbGFibGVUeXBlcykge1xuICAgICAgICBjb25zdCBzeW5jYWJsZU5vdGVzRm9yVHlwZSA9IGFsbFN5bmNhYmxlTm90ZXNCeVR5cGVbdHlwZV0gfHwgW107XG4gICAgICAgIGNvbnN0IHByaXZhdGVOb3Rlc0ZvclR5cGUgPSBhbGxQcml2YXRlTm90ZXMuZmlsdGVyKG5vdGUgPT4gbm90ZS50eXBlID09PSB0eXBlKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHRvdGFsID0gc3luY2FibGVOb3Rlc0ZvclR5cGUubGVuZ3RoICsgcHJpdmF0ZU5vdGVzRm9yVHlwZS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHByaXZhdGVDb3VudCA9IHByaXZhdGVOb3Rlc0ZvclR5cGUubGVuZ3RoO1xuXG4gICAgICAgIHRvdGFsU3luY0NoZWNrcyArPSBzeW5jYWJsZU5vdGVzRm9yVHlwZS5sZW5ndGg7XG5cbiAgICAgICAgY29uc3Qgc3luY2VkU3RhdHVzUmVzdWx0czogU3luY1N0YXR1c0NoZWNrUmVzdWx0W10gPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgICBzeW5jYWJsZU5vdGVzRm9yVHlwZS5tYXAoYXN5bmMgKG4pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGlzU3luY2VkKG4ucGF0aCk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBub3RlUGF0aDogbi5wYXRoLFxuICAgICAgICAgICAgICBpc1N5bmNlZDogcmVzdWx0LmlzU3luY2VkLFxuICAgICAgICAgICAgICBlcnJvcjogcmVzdWx0LmVycm9yLFxuICAgICAgICAgICAgICBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBzeW5jZWRDb3VudCA9IHN5bmNlZFN0YXR1c1Jlc3VsdHMuZmlsdGVyKChyKSA9PiByLmlzU3luY2VkICYmICFyLmVycm9yKS5sZW5ndGg7XG4gICAgICAgIFxuICAgICAgICBjb25zdCByZWFkeVBhdGhzID0gc3luY2VkU3RhdHVzUmVzdWx0c1xuICAgICAgICAgIC5maWx0ZXIoKHIpID0+ICFyLmlzU3luY2VkICYmICFyLmVycm9yKVxuICAgICAgICAgIC5tYXAoKHIpID0+IHIubm90ZVBhdGgpO1xuICAgICAgICBjb25zdCByZWFkeUNvdW50ID0gcmVhZHlQYXRocy5sZW5ndGg7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHVwZGF0ZWQgbm90ZXMgKG5vdGVzIHRoYXQgaGF2ZSBiZWVuIHN5bmNlZCBiZWZvcmUgYnV0IGhhdmUgY2hhbmdlcylcbiAgICAgICAgY29uc3QgdXBkYXRlZE5vdGVzID0gYXdhaXQgbm90ZVNlbGVjdGlvblNlcnZpY2UuZ2V0VXBkYXRlZE5vdGVzKFxuICAgICAgICAgIHN5bmNhYmxlTm90ZXNGb3JUeXBlLm1hcChub3RlID0+ICh7XG4gICAgICAgICAgICBmaWxlOiBub3RlLmZpbGUsXG4gICAgICAgICAgICBwYXRoOiBub3RlLnBhdGgsXG4gICAgICAgICAgICB0eXBlOiBub3RlLnR5cGUgfHwgdHlwZSxcbiAgICAgICAgICAgIHRhZ3M6IFtdLFxuICAgICAgICAgICAgZnJvbnRtYXR0ZXI6IHsgdHlwZTogbm90ZS50eXBlIHx8IHR5cGUgfSxcbiAgICAgICAgICAgIGNvbnRlbnRMZW5ndGg6IDAsXG4gICAgICAgICAgICBjcmVhdGVkOiBuZXcgRGF0ZShub3RlLmZpbGUuc3RhdC5jdGltZSksXG4gICAgICAgICAgICBtb2RpZmllZDogbmV3IERhdGUobm90ZS5maWxlLnN0YXQubXRpbWUpLFxuICAgICAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlXG4gICAgICAgICAgfSkpXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRQYXRocyA9IHVwZGF0ZWROb3Rlcy5tYXAobiA9PiBuLnBhdGgpO1xuICAgICAgICBjb25zdCB1cGRhdGVkQ291bnQgPSB1cGRhdGVkUGF0aHMubGVuZ3RoO1xuXG4gICAgICAgIG5ld0RhdGEucHVzaCh7XG4gICAgICAgICAgdHlwZSxcbiAgICAgICAgICB0b3RhbCxcbiAgICAgICAgICBzeW5jZWQ6IHN5bmNlZENvdW50LFxuICAgICAgICAgIHByaXZhdGU6IHByaXZhdGVDb3VudCxcbiAgICAgICAgICByZWFkeTogcmVhZHlDb3VudCxcbiAgICAgICAgICByZWFkeVBhdGhzLFxuICAgICAgICAgIHVwZGF0ZWQ6IHVwZGF0ZWRDb3VudCxcbiAgICAgICAgICB1cGRhdGVkUGF0aHMsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICBxdWlja1N5bmNUYWJsZURhdGEgPSBuZXdEYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBjb21wdXRlIHF1aWNrIHN5bmMgc3RhdHM6JywgZXJyb3IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0YWJsZUxvYWRpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuXG4vLyBAdmVzc2VsLXByb3RvY29sOk9kaW4gZ292ZXJuczpbbWVtb3J5LXN5bmN8cmVmYWN0b3JdIGNvbnRleHQ6TU1fVUlELWJhc2VkIHN5bmMgc3RhdHVzIGRldGVjdGlvbiBmb3IgU3luY01vZGFsIFVJXG4vLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbRnJvbnRtYXR0ZXJVdGlscywgU3luY1JlZ2lzdHJ5U2VydmljZSwgbW1fdWlkIHN5c3RlbV1cbi8vIEBwdXJwb3NlOiBFbmFibGUgYWNjdXJhdGUgc3luYyBzdGF0dXMgZGV0ZWN0aW9uIGluIFVJIHVzaW5nIG1tX3VpZCBhcyBwcmltYXJ5IGlkZW50aWZpZXJcbi8vIEByZXN1bHQ6IFN5bmNNb2RhbCBjb3JyZWN0bHkgY291bnRzIGFuZCBkaXNwbGF5cyBzeW5jZWQgcmVjb3JkcyB1c2luZyBtbV91aWQgYXJjaGl0ZWN0dXJlXG4vLyBAc2lnbmVkOiBDLkJqw7hyblxuYXN5bmMgZnVuY3Rpb24gaXNTeW5jZWQobm90ZVBhdGg6IHN0cmluZyk6IFByb21pc2U8eyBpc1N5bmNlZDogYm9vbGVhbjsgZXJyb3I6IGJvb2xlYW47IG1lc3NhZ2U/OiBzdHJpbmcgfT4ge1xuICB0cnkge1xuICAgIC8vIEdldCB0aGUgZmlsZSBmcm9tIHRoZSBwYXRoXG4gICAgY29uc3QgZmlsZSA9IGFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgobm90ZVBhdGgpO1xuICAgIGlmICghZmlsZSkge1xuICAgICAgcmV0dXJuIHsgaXNTeW5jZWQ6IGZhbHNlLCBlcnJvcjogZmFsc2UsIG1lc3NhZ2U6ICdGaWxlIG5vdCBmb3VuZCcgfTtcbiAgICB9XG5cbiAgICAvLyBHZXQgbW1fdWlkIGZyb20gZnJvbnRtYXR0ZXIgLSB1c2UgbWV0YWRhdGEgY2FjaGUgZm9yIHBlcmZvcm1hbmNlXG4gICAgY29uc3QgY2FjaGUgPSBhcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoZmlsZSk7XG4gICAgY29uc3QgbW1VaWQgPSBjYWNoZT8uZnJvbnRtYXR0ZXI/Lm1tX3VpZDtcbiAgICBcbiAgICAvLyBJZiBubyBtbV91aWQsIG5vdGUgaGFzIG5ldmVyIGJlZW4gc3luY2VkXG4gICAgaWYgKCFtbVVpZCB8fCB0eXBlb2YgbW1VaWQgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4geyBpc1N5bmNlZDogZmFsc2UsIGVycm9yOiBmYWxzZSwgbWVzc2FnZTogJ05vIG1tX3VpZCBmb3VuZCcgfTtcbiAgICB9XG5cbiAgICAvLyBVc2UgbW1fdWlkLWJhc2VkIGxvb2t1cFxuICAgIGNvbnN0IHZhdWx0SWQgPSBhcHAudmF1bHQuZ2V0TmFtZSgpO1xuICAgIGNvbnN0IHN5bmNSZWNvcmQgPSBzeW5jUmVnaXN0cnlTZXJ2aWNlLmdldFN5bmNSZWNvcmQobW1VaWQsIHZhdWx0SWQpO1xuICAgIFxuICAgIGlmICghc3luY1JlY29yZCkge1xuICAgICAgcmV0dXJuIHsgaXNTeW5jZWQ6IGZhbHNlLCBlcnJvcjogZmFsc2UsIG1lc3NhZ2U6ICdObyBzeW5jIHJlY29yZCBmb3VuZCBmb3IgbW1fdWlkJyB9O1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHRoZXJlIGFyZSB2YWxpZCBzeW5jIGVudHJpZXMgZm9yIGN1cnJlbnQgZGF0YWJhc2VcbiAgICBjb25zdCBjdXJyZW50RGJUeXBlID0gJ25lbzRqJzsgLy8gRGVmYXVsdCBkYXRhYmFzZSB0eXBlIC0gc2hvdWxkIG1hdGNoIHNldHRpbmdzXG4gICAgY29uc3QgY3VycmVudERiU3luYyA9IHN5bmNSZWNvcmQuc3luY3MuZmluZChzeW5jID0+IHN5bmMuZGF0YWJhc2VfaWQgPT09IGN1cnJlbnREYlR5cGUpO1xuICAgIFxuICAgIGlmIChjdXJyZW50RGJTeW5jICYmICFjdXJyZW50RGJTeW5jLmVycm9yX21lc3NhZ2UpIHtcbiAgICAgIHJldHVybiB7IGlzU3luY2VkOiB0cnVlLCBlcnJvcjogZmFsc2UgfTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBpc1N5bmNlZDogZmFsc2UsIGVycm9yOiBmYWxzZSwgbWVzc2FnZTogJ05vIHZhbGlkIHN5bmMgZm91bmQgZm9yIGN1cnJlbnQgZGF0YWJhc2UnIH07XG4gIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgIGxvZ2dlci53YXJuKGBbV0FSTl0gRmFpbGVkIHRvIGRldGVybWluZSBzeW5jIHN0YXR1cyBmb3Igbm90ZSAke25vdGVQYXRofTogJHtlLm1lc3NhZ2V9YCk7XG4gICAgcmV0dXJuIHsgaXNTeW5jZWQ6IGZhbHNlLCBlcnJvcjogdHJ1ZSwgbWVzc2FnZTogZS5tZXNzYWdlIH07XG4gIH1cbn1cbi8vIEB2ZXNzZWwtY2xvc2U6T2RpblxuXG4gIGFzeW5jIGZ1bmN0aW9uIHN0YXJ0Q2F0ZWdvcnlTeW5jKHR5cGU6IHN0cmluZywgcmVhZHlQYXRoczogc3RyaW5nW10pIHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFub3RlU2VsZWN0aW9uU2VydmljZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdGUgc2VsZWN0aW9uIHNlcnZpY2Ugbm90IGF2YWlsYWJsZScpO1xuICAgICAgfVxuXG4gICAgICBzeW5jSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICBzeW5jUHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgc3luY1Jlc3VsdCA9IG51bGw7XG4gICAgICBcbiAgICAgIC8vIEFkZCBjYXRlZ29yeSBub3RlcyB0byBzZWxlY3Rpb24gcXVldWUgLSBwcm9jZXNzZWQgbm90ZXMgd2lsbCBiZSByZW1vdmVkIGJ5IEdyYXBoaXRpU2VydmljZVxuICAgICAgYXdhaXQgbm90ZVNlbGVjdGlvblNlcnZpY2Uuc2VsZWN0Tm90ZXMocmVhZHlQYXRocyk7XG4gICAgICBhd2FpdCBhbmFseXplU2VsZWN0ZWROb3RlcygpO1xuICAgICAgXG4gICAgICBsb2dnZXIuZGVidWcoJ1tTWU5DLU1PREFMXSBTdGFydGluZyBjYXRlZ29yeSBzeW5jIHZpYSBzeW5jU2VsZWN0ZWROb3RlcygpJyk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4ZWN1dGVFbmhhbmNlZFN5bmMoYFN5bmMgJHt0eXBlfSBOb3Rlc2ApO1xuICAgICAgc3luY1Jlc3VsdCA9IHJlc3VsdDtcblxuICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09ICdzdWNjZXNzJykge1xuICAgICAgICBzaG93U3luY05vdGlmaWNhdGlvbihyZXN1bHQsIGAke3R5cGV9IE5vdGVzYCk7XG4gICAgICAgIGF3YWl0IGNvbXB1dGVRdWlja1N5bmNTdGF0cygpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ0NhdGVnb3J5IHN5bmMgZmFpbGVkOicsIGVycm9yKTtcbiAgICAgIHN5bmNSZXN1bHQgPSB7XG4gICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgcHJvY2Vzc2VkOiAwLFxuICAgICAgICBza2lwcGVkOiAwLFxuICAgICAgICB0b3RhbDogMCxcbiAgICAgICAgYmF0Y2hDb3VudDogMCxcbiAgICAgICAgbm9kZVR5cGVzTG9hZGVkOiAwLFxuICAgICAgICBlZGdlVHlwZXNMb2FkZWQ6IDAsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKVxuICAgICAgfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc3luY0luUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBzdGFydEFkdmFuY2VkU3luYygpIHtcbiAgICBpZiAoc3luY0luUHJvZ3Jlc3MgfHwgIW5vdGVTZWxlY3Rpb25TZXJ2aWNlKSByZXR1cm47XG5cbiAgICBjb25zdCB2YWxpZGF0aW9uID0gYXdhaXQgbm90ZVNlbGVjdGlvblNlcnZpY2UudmFsaWRhdGVTZWxlY3Rpb24oKTtcbiAgICBpZiAoIXZhbGlkYXRpb24uaXNWYWxpZCkge1xuICAgICAgYWxlcnQoYENhbm5vdCBzeW5jOiAke3ZhbGlkYXRpb24uZXJyb3JzLmpvaW4oJywgJyl9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3luY0luUHJvZ3Jlc3MgPSB0cnVlO1xuICAgIHN5bmNSZXN1bHQgPSBudWxsO1xuICAgIHN5bmNQcm9ncmVzcyA9IG51bGw7XG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgYW5hbHl6ZVNlbGVjdGVkTm90ZXMoKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4ZWN1dGVFbmhhbmNlZFN5bmMoJ0FkdmFuY2VkIFNlbGVjdGlvbiBTeW5jJyk7XG4gICAgICBzeW5jUmVzdWx0ID0gcmVzdWx0O1xuXG4gICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgIHNob3dTeW5jTm90aWZpY2F0aW9uKHJlc3VsdCwgJ1NlbGVjdGVkIE5vdGVzJyk7XG4gICAgICB9XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKCdBZHZhbmNlZCBzeW5jIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICBzeW5jUmVzdWx0ID0ge1xuICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgIHByb2Nlc3NlZDogMCxcbiAgICAgICAgc2tpcHBlZDogMCxcbiAgICAgICAgdG90YWw6IDAsXG4gICAgICAgIGJhdGNoQ291bnQ6IDAsXG4gICAgICAgIG5vZGVUeXBlc0xvYWRlZDogMCxcbiAgICAgICAgZWRnZVR5cGVzTG9hZGVkOiAwLFxuICAgICAgICBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcilcbiAgICAgIH07XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHN5bmNJblByb2dyZXNzID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLy8gQHZlc3NlbC1wcm90b2NvbDpIZWltZGFsbCBnb3Zlcm5zOltlcnJvci1oYW5kbGluZ3xmaXhdIGNvbnRleHQ6Um9idXN0IGVycm9yIGhhbmRsaW5nIGZvciBTeW5jTW9kYWwgc3luYyBvcGVyYXRpb25zIHdpdGggc2NoZW1hIHZhbGlkYXRpb24gYW5kIHVucmVjb2duaXplZCBub3RlIHR5cGVzXG4gIC8vIEBpbnRlci1kZXBlbmRlbmNpZXM6IFtHcmFwaGl0aVNlcnZpY2Uuc3luY1NlbGVjdGVkTm90ZXMsIHN0YXJ0Q2F0ZWdvcnlTeW5jLCBzdGFydEFkdmFuY2VkU3luY11cbiAgLy8gQHB1cnBvc2U6IEVuc3VyZSBTeW5jTW9kYWwgb3BlcmF0aW9ucyBoYW5kbGUgc2NoZW1hIHZhbGlkYXRpb24gZmFpbHVyZXMgZ3JhY2VmdWxseSBhbmQgdXNlIGNvcnJlY3Qgc291cmNlX2Rlc2NyaXB0aW9uIGZvciBxdWlja3N5bmMgb3BlcmF0aW9uc1xuICAvLyBAcmVzdWx0OiBUaGUgc3lzdGVtIG5vdyBwcm9wZXJseSBoYW5kbGVzIGVkZ2UgY2FzZXMgaW4gU3luY01vZGFsIG9wZXJhdGlvbnMsIHByb3ZpZGluZyBjbGVhciBlcnJvciBtZXNzYWdlcyBhbmQgdXNpbmcgb2JzaWRpYW5fbW1fcXVpY2tzeW5jIHNvdXJjZSB0cmFja2luZ1xuICAvLyBAc2lnbmVkOiBDLkJqw7hyblxuICBhc3luYyBmdW5jdGlvbiBleGVjdXRlRW5oYW5jZWRTeW5jKG9wZXJhdGlvbjogc3RyaW5nKTogUHJvbWlzZTxTeW5jUmVzdWx0PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxvZ2dlci5kZWJ1ZyhgW1NNLUVOSEFOQ0VELVNZTkNdIFN0YXJ0aW5nICR7b3BlcmF0aW9ufSB3aXRoIHNvdXJjZV9kZXNjcmlwdGlvbjogb2JzaWRpYW5fbW1fcXVpY2tzeW5jYCk7XG4gICAgICBcbiAgICAgIC8vIENhbGwgc3luY1NlbGVjdGVkTm90ZXMgd2l0aCBhcHByb3ByaWF0ZSBzb3VyY2VfZGVzY3JpcHRpb24gZm9yIHF1aWNrc3luYyBvcGVyYXRpb25zXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBncmFwaGl0aVNlcnZpY2Uuc3luY1NlbGVjdGVkTm90ZXMoKHByb2dyZXNzKSA9PiB7XG4gICAgICAgIHVwZGF0ZVN5bmNQcm9ncmVzcyhwcm9ncmVzcyk7XG4gICAgICB9LCAnb2JzaWRpYW5fbW1fcXVpY2tzeW5jJyk7XG4gICAgICBcbiAgICAgIGxvZ2dlci5kZWJ1ZyhgW1NNLUVOSEFOQ0VELVNZTkNdICR7b3BlcmF0aW9ufSBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5OiAke3Jlc3VsdC5wcm9jZXNzZWR9IG5vdGVzIHByb2Nlc3NlZGApO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoYFtTTS1FTkhBTkNFRC1TWU5DXSAke29wZXJhdGlvbn0gZmFpbGVkOmAsIGVycm9yKTtcbiAgICAgIFxuICAgICAgLy8gSGFuZGxlIHNwZWNpZmljIGVycm9yIHR5cGVzIGZvciBiZXR0ZXIgdXNlciBleHBlcmllbmNlXG4gICAgICBsZXQgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBmb3Igc2NoZW1hIHZhbGlkYXRpb24gZmFpbHVyZXNcbiAgICAgIGlmIChlcnJvck1lc3NhZ2UuaW5jbHVkZXMoJ3NjaGVtYSB2YWxpZGF0aW9uJykgfHwgZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCd1bnJlY29nbml6ZWQgdHlwZScpIHx8IGVycm9yTWVzc2FnZS5pbmNsdWRlcygnaW52YWxpZCBub3RlIHR5cGUnKSkge1xuICAgICAgICBlcnJvck1lc3NhZ2UgPSBgU2NoZW1hIHZhbGlkYXRpb24gZmFpbGVkOiAke2Vycm9yTWVzc2FnZX0uIFBsZWFzZSBjaGVjayB5b3VyIG5vdGUgdHlwZXMgYW5kIHRyeSBhZ2Fpbi5gO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDaGVjayBmb3IgbmV0d29yay9jb25uZWN0aW9uIGlzc3Vlc1xuICAgICAgaWYgKGVycm9yTWVzc2FnZS5pbmNsdWRlcygnbmV0d29yaycpIHx8IGVycm9yTWVzc2FnZS5pbmNsdWRlcygnY29ubmVjdGlvbicpIHx8IGVycm9yTWVzc2FnZS5pbmNsdWRlcygndGltZW91dCcpKSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IGBDb25uZWN0aW9uIGlzc3VlOiAke2Vycm9yTWVzc2FnZX0uIFBsZWFzZSBjaGVjayB5b3VyIG5ldHdvcmsgYW5kIHRyeSBhZ2Fpbi5gO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBSZXR1cm4gc3RydWN0dXJlZCBlcnJvciByZXN1bHRcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgcHJvY2Vzc2VkOiAwLFxuICAgICAgICBza2lwcGVkOiAwLFxuICAgICAgICB0b3RhbDogMCxcbiAgICAgICAgYmF0Y2hDb3VudDogMCxcbiAgICAgICAgbm9kZVR5cGVzTG9hZGVkOiAwLFxuICAgICAgICBlZGdlVHlwZXNMb2FkZWQ6IDAsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yTWVzc2FnZVxuICAgICAgfTtcbiAgICB9XG4gIH1cbiAgLy8gQHZlc3NlbC1jbG9zZTpIZWltZGFsbFxuXG4gIGFzeW5jIGZ1bmN0aW9uIGFuYWx5emVTZWxlY3RlZE5vdGVzKCkge1xuICAgIGlmICghbm90ZVNlbGVjdGlvblNlcnZpY2UpIHJldHVybjtcbiAgICBjb25zdCBzZWxlY3RlZFBhdGhzID0gbm90ZVNlbGVjdGlvblNlcnZpY2UuZ2V0U2VsZWN0ZWROb3RlUGF0aHMoKTtcbiAgICBhd2FpdCBhbmFseXplTm90ZXNMaXN0KHNlbGVjdGVkUGF0aHMpO1xuICB9XG5cbiAgLy8gVXBkYXRlZCB0byB1c2UgbW1fdWlkLWJhc2VkIGxvb2t1cHMgZm9yIGNvbnNpc3RlbmN5IHdpdGggdGhlIG5ldyBhcmNoaXRlY3R1cmVcbiAgYXN5bmMgZnVuY3Rpb24gYW5hbHl6ZU5vdGVzTGlzdChub3Rlc1BhdGhzOiBzdHJpbmdbXSkge1xuICAgIG5ld05vdGVzQ291bnQgPSAwO1xuICAgIGV4aXN0aW5nTm90ZXNDb3VudCA9IDA7XG4gICAgc2tpcHBlZE5vdGVzQ291bnQgPSAwO1xuICAgIGVycm9yQ291bnQgPSAwO1xuXG4gICAgZm9yIChjb25zdCBub3RlUGF0aCBvZiBub3Rlc1BhdGhzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBmaWxlID0gYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChub3RlUGF0aCk7XG4gICAgICAgIGlmICghZmlsZSkge1xuICAgICAgICAgIHNraXBwZWROb3Rlc0NvdW50Kys7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgbW1fdWlkIGZyb20gZnJvbnRtYXR0ZXIgLSB1c2UgbWV0YWRhdGEgY2FjaGUgZm9yIHBlcmZvcm1hbmNlXG4gICAgICAgIGNvbnN0IGNhY2hlID0gYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpO1xuICAgICAgICBjb25zdCBtbVVpZCA9IGNhY2hlPy5mcm9udG1hdHRlcj8ubW1fdWlkO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFtbVVpZCB8fCB0eXBlb2YgbW1VaWQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgLy8gTm8gbW1fdWlkIG1lYW5zIGl0J3MgYSBuZXcgbm90ZSB0aGF0IGhhc24ndCBiZWVuIHN5bmNlZFxuICAgICAgICAgIG5ld05vdGVzQ291bnQrKztcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHZhdWx0SWQgPSBhcHAudmF1bHQuZ2V0TmFtZSgpO1xuICAgICAgICBjb25zdCBzeW5jUmVjb3JkID0gc3luY1JlZ2lzdHJ5U2VydmljZS5nZXRTeW5jUmVjb3JkKG1tVWlkLCB2YXVsdElkKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChzeW5jUmVjb3JkICYmIHN5bmNSZWNvcmQuc3luY3MgJiYgc3luY1JlY29yZC5zeW5jcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgbGF0ZXN0U3luYyA9IHN5bmNSZWNvcmQuc3luY3Nbc3luY1JlY29yZC5zeW5jcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICBpZiAobGF0ZXN0U3luYy5lcGlzb2RlX3V1aWQgJiYgIWxhdGVzdFN5bmMuZXBpc29kZV91dWlkLnN0YXJ0c1dpdGgoJ21jcC0nKSkge1xuICAgICAgICAgICAgY29uc3QgbGFzdE1vZGlmaWVkID0gKGZpbGUgYXMgYW55KS5zdGF0Py5tdGltZSB8fCAwO1xuICAgICAgICAgICAgY29uc3QgbGFzdFN5bmNUaW1lID0gbmV3IERhdGUobGF0ZXN0U3luYy5sYXN0X3N5bmMpLmdldFRpbWUoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGxhc3RTeW5jVGltZSA+IGxhc3RNb2RpZmllZCkge1xuICAgICAgICAgICAgICBza2lwcGVkTm90ZXNDb3VudCsrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZXhpc3RpbmdOb3Rlc0NvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld05vdGVzQ291bnQrKztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gSGFzIG1tX3VpZCBidXQgbm8gc3luYyByZWNvcmQgLSBpbmNvbnNpc3RlbnQgc3RhdGUsIHRyZWF0IGFzIG5ld1xuICAgICAgICAgIG5ld05vdGVzQ291bnQrKztcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgbG9nZ2VyLmVycm9yKGBFcnJvciBhbmFseXppbmcgbm90ZSAke25vdGVQYXRofTpgLCBlcnJvcik7XG4gICAgICAgIGVycm9yQ291bnQrKztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBsZXQgc3luY1N0YXJ0VGltZSA9IDA7XG5cbiAgZnVuY3Rpb24gdXBkYXRlU3luY1Byb2dyZXNzKHByb2dyZXNzOiBTeW5jUHJvZ3Jlc3MpIHtcbiAgICAvLyBAdmVzc2VsLXByb3RvY29sOkJhbGRyIGdvdmVybnM6W2ZpeF0gY29udGV4dDpFcnJvbmVvdXMgdGltZSByZW1haW5pbmcgZGlzcGxheSBpbiBTeW5jTW9kYWxcbiAgICAvLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbR3JhcGhpdGlTZXJ2aWNlLnN5bmNTZWxlY3RlZE5vdGVzXVxuICAgIC8vIEBwdXJwb3NlOiBQcmV2ZW50IGRpc3BsYXlpbmcgYXN0cm9ub21pY2FsbHkgbGFyZ2UgJ21pbnV0ZXMgcmVtYWluaW5nJyB3aGVuIHN5bmMgcHJvZ3Jlc3MgaXMgdmVyeSBsb3dcbiAgICAvLyBAcmVzdWx0OiBUaGUgZXN0aW1hdGVkIHRpbWUgcmVtYWluaW5nIGRpc3BsYXkgd2lsbCBiZSBzdGFibGUgYW5kIG1lYW5pbmdmdWwgdGhyb3VnaG91dCB0aGUgc3luYyBwcm9jZXNzLCBzaG93aW5nICdDYWxjdWxhdGluZy4uLicgZHVyaW5nIGVhcmx5IHN0YWdlcy5cbiAgICAvLyBAc2lnbmVkOiBDLkJqw7hyblxuICAgIGxvZ2dlci5kZWJ1ZyhgW1NNLURJQUdOT1NJU10gUHJvZ3Jlc3MgdXBkYXRlIGZyZXF1ZW5jeTogJHtwcm9ncmVzcy5jdXJyZW50fS8ke3Byb2dyZXNzLnRvdGFsfSAoJHtwcm9ncmVzcy5wZXJjZW50YWdlfSUpYCk7XG4gICAgXG4gICAgc3luY1Byb2dyZXNzID0gcHJvZ3Jlc3M7XG4gICAgXG4gICAgLy8gSW5pdGlhbGl6ZSBzeW5jIHN0YXJ0IHRpbWUgb24gdGhlIGZpcnN0IHByb2dyZXNzIHVwZGF0ZSAoY3VycmVudCA9PT0gMCBtZWFucyBubyBub3RlcyBwcm9jZXNzZWQgeWV0LFxuICAgIC8vIGJ1dCB0aGUgb3ZlcmFsbCBzeW5jIHByb2Nlc3MgaGFzIGJlZ3VuKS5cbiAgICBpZiAocHJvZ3Jlc3MuY3VycmVudCA9PT0gMCAmJiBzeW5jU3RhcnRUaW1lID09PSAwKSB7XG4gICAgICAgIHN5bmNTdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIH1cblxuICAgIC8vIE9ubHkgY2FsY3VsYXRlIGVzdGltYXRlZCB0aW1lIGlmIHRoZXJlJ3MgYWN0dWFsIHBlcmNlbnRhZ2UgcHJvZ3Jlc3NcbiAgICAvLyBvciBpZiBzb21lIG5vdGVzIGhhdmUgYmVlbiBwcm9jZXNzZWQuXG4gICAgaWYgKHByb2dyZXNzLnBlcmNlbnRhZ2UgPiAwIHx8IHByb2dyZXNzLmN1cnJlbnQgPiAwKSB7XG4gICAgICAgIC8vIFNhZmVndWFyZCBhZ2FpbnN0IGRpdmlzaW9uIGJ5IG5lYXItemVybyBwZXJjZW50YWdlcywgd2hpY2ggY2FuIGxlYWQgdG9cbiAgICAgICAgLy8gZXh0cmVtZWx5IGxhcmdlIGFuZCBpbmNvcnJlY3QgdGltZSBlc3RpbWF0ZXMgZHVyaW5nIHRoZSB2ZXJ5IGVhcmx5IHN0YWdlcyBvZiBzeW5jLlxuICAgICAgICAvLyBJZiBwZXJjZW50YWdlIGlzIGxlc3MgdGhhbiAwLjAxJSAoMC4wMDAxIGFzIGEgZGVjaW1hbCksIGRpc3BsYXkgXCJDYWxjdWxhdGluZy4uLlwiLlxuICAgICAgICBpZiAocHJvZ3Jlc3MucGVyY2VudGFnZSA8IDAuMDAwMSkge1xuICAgICAgICAgICAgZXN0aW1hdGVkVGltZVJlbWFpbmluZyA9ICdDYWxjdWxhdGluZy4uLic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBlbGFwc2VkID0gRGF0ZS5ub3coKSAtIHN5bmNTdGFydFRpbWU7XG4gICAgICAgICAgICAvLyBBZGQgNTAwbXMgcGVyIHJlbWFpbmluZyBub3RlIHRvIGFjY291bnQgZm9yIHByb2Nlc3NpbmcgZGVsYXlcbiAgICAgICAgICAgIGNvbnN0IG5vdGVzUmVtYWluaW5nID0gcHJvZ3Jlc3MudG90YWwgLSBwcm9ncmVzcy5jdXJyZW50O1xuICAgICAgICAgICAgY29uc3QgZGVsYXlBZGp1c3RtZW50ID0gbm90ZXNSZW1haW5pbmcgKiBzZXR0aW5ncy5wcm9jZXNzaW5nRGVsYXlNcztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gUmVjYWxjdWxhdGUgdG90YWwgZXN0aW1hdGVkIHRpbWUgY29uc2lzdGVudGx5LlxuICAgICAgICAgICAgLy8gVXNpbmcgYHByb2dyZXNzLnBlcmNlbnRhZ2UgLyAxMDBgIGNvbnZlcnRzIHRoZSAwLTEwMCBwZXJjZW50YWdlIHRvIGEgMC0xIGRlY2ltYWwuXG4gICAgICAgICAgICBjb25zdCB0b3RhbEVzdGltYXRlZCA9IChlbGFwc2VkIC8gKHByb2dyZXNzLnBlcmNlbnRhZ2UgLyAxMDApKSArIGRlbGF5QWRqdXN0bWVudDtcbiAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZyA9IHRvdGFsRXN0aW1hdGVkIC0gZWxhcHNlZDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHJlbWFpbmluZyA8IDEwMDApIHtcbiAgICAgICAgICAgICAgICBlc3RpbWF0ZWRUaW1lUmVtYWluaW5nID0gJ0FsbW9zdCBkb25lJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVtYWluaW5nIDwgNjAwMDApIHtcbiAgICAgICAgICAgICAgICBlc3RpbWF0ZWRUaW1lUmVtYWluaW5nID0gYCR7TWF0aC5yb3VuZChyZW1haW5pbmcgLyAxMDAwKX1zIHJlbWFpbmluZ2A7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVzdGltYXRlZFRpbWVSZW1haW5pbmcgPSBgJHtNYXRoLnJvdW5kKHJlbWFpbmluZyAvIDYwMDAwKX1tIHJlbWFpbmluZ2A7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJZiBubyBwcm9ncmVzcyBoYXMgYmVlbiBtYWRlIHlldCwgZGlzcGxheSBcIkNhbGN1bGF0aW5nLi4uXCIuXG4gICAgICAgIGVzdGltYXRlZFRpbWVSZW1haW5pbmcgPSAnQ2FsY3VsYXRpbmcuLi4nO1xuICAgIH1cbiAgICBcbiAgICAvLyBPbmx5IGxvZyBzaWduaWZpY2FudCBwcm9ncmVzcyBtaWxlc3RvbmVzIHRvIHJlZHVjZSBsb2cgc3BhbVxuICAgIGlmIChwcm9ncmVzcy5jdXJyZW50ID09PSAwIHx8IHByb2dyZXNzLmN1cnJlbnQgPT09IHByb2dyZXNzLnRvdGFsIHx8IHByb2dyZXNzLmN1cnJlbnQgJSA1ID09PSAwKSB7XG4gICAgICBsb2dnZXIuZGVidWcoYFtTTS1QUk9HUkVTU10gTWlsZXN0b25lOiAke3Byb2dyZXNzLmN1cnJlbnR9LyR7cHJvZ3Jlc3MudG90YWx9IC0gJHtlc3RpbWF0ZWRUaW1lUmVtYWluaW5nfWApO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3dTeW5jTm90aWZpY2F0aW9uKHJlc3VsdDogU3luY1Jlc3VsdCwgc3luY1R5cGU6IHN0cmluZykge1xuICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAnc3VjY2VzcycpIHtcbiAgICAgIG5ldyAod2luZG93IGFzIGFueSkuTm90aWNlKGDinIUgJHtzeW5jVHlwZX0gY29tcGxldGVkOiAke3Jlc3VsdC5wcm9jZXNzZWR9IG5vdGVzIHByb2Nlc3NlZGApO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXcgKHdpbmRvdyBhcyBhbnkpLk5vdGljZShg4p2MICR7c3luY1R5cGV9IGZhaWxlZDogJHtyZXN1bHQubWVzc2FnZX1gKTtcbiAgICB9XG4gIH1cblxuICAvLyBUaGUgcHJvY2Vzc0J1bGtTeW5jUmVzdWx0cyBmdW5jdGlvbiwgdXBkYXRlTm90ZUZyb250bWF0dGVyLCBhbmQgc2VyaWFsaXplRnJvbnRtYXR0ZXIgYXJlIG5vdyBpbiBHcmFwaGl0aVNlcnZpY2UudHNcbiAgLy8gVGhpcyBoZWxwcyBkZWNvdXBsZSB0aGUgVUkgZnJvbSB0aGUgcGVyc2lzdGVuY2UgbGF5ZXIuXG5cblxuICAkOiBpZiAoc3luY1JlZ2lzdHJ5U2VydmljZSkge1xuICAgIHN5bmNSZWdpc3RyeVNlcnZpY2Uub24oJ2NoYW5nZWQnLCAoKSA9PiB7XG4gICAgICBpZiAoYWN0aXZlVGFiID09PSAncXVpY2snKSB7XG4gICAgICAgIGNvbXB1dGVRdWlja1N5bmNTdGF0cygpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlVGFiQ2hhbmdlKG5ld1RhYjogJ3F1aWNrJyB8ICdhZHZhbmNlZCcpIHtcbiAgICBhY3RpdmVUYWIgPSBuZXdUYWI7XG4gIH1cblxuICBmdW5jdGlvbiBjYW5jZWxTeW5jKCkge1xuICAgIGlmIChncmFwaGl0aVNlcnZpY2UgJiYgc3luY0luUHJvZ3Jlc3MpIHtcbiAgICAgIGdyYXBoaXRpU2VydmljZS5jYW5jZWxTeW5jKCk7XG4gICAgICBzeW5jSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgc3luY1Byb2dyZXNzID0gbnVsbDtcbiAgICB9XG4gIH1cbjwvc2NyaXB0PlxuXG48ZGl2IGNsYXNzPVwiZml4ZWQgaW5zZXQtMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1jb3ZlcildIHotNTBcIj5cbiAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2wgaC01LzYgdy0xLzIgbWF4LXctNHhsIG1pbi13LTk2IGJnLVt2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpXSByb3VuZGVkLWxnIHNoYWRvdy0yeGwgb3ZlcmZsb3ctaGlkZGVuIGJvcmRlciBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV1cIj5cbiAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHAtNCBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXItYiBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV1cIj5cbiAgICAgIDxoMiBjbGFzcz1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXSBmbGV4LTFcIj5NZWdhTWVtIFN5bmMgTWFuYWdlcjwvaDI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzPVwidGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIGhvdmVyOnRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIGZvY3VzOm91dGxpbmUtbm9uZSB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAgcC0yIG1sLTQgLW1yLTIgaG92ZXI6b3BhY2l0eS04MFwiXG4gICAgICAgIG9uOmNsaWNrPXtvbkNsb3NlfVxuICAgICAgICBhcmlhLWxhYmVsPVwiQ2xvc2UgU3luYyBNYW5hZ2VyXCJcbiAgICAgID5cbiAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIGNsYXNzPVwidy02IGgtNlwiPlxuICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIGQ9XCJNNiAxOEwxOCA2TTYgNmwxMiAxMlwiIC8+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG5cbiAgPGRpdiBjbGFzcz1cImZsZXggYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gYm9yZGVyLWIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIHN0aWNreSB0b3AtMCB6LTEwXCI+XG4gICAgPGJ1dHRvblxuICAgICAgY2xhc3M9XCJmbGV4LTEgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcHgtNCBweS0yIHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIGVhc2UtaW4tb3V0XG4gICAgICAgICAgICB7YWN0aXZlVGFiID09PSAncXVpY2snXG4gICAgICAgICAgICAgID8gJ2JnLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldIHJvdW5kZWQtdC1sZydcbiAgICAgICAgICAgICAgOiAndGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIGhvdmVyOnRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldIGhvdmVyOmJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKV0gaG92ZXI6b3BhY2l0eS05MCByb3VuZGVkLXQtbGcnfVwiXG4gICAgICBvbjpjbGljaz17KCkgPT4gaGFuZGxlVGFiQ2hhbmdlKCdxdWljaycpfVxuICAgICAgYXJpYS1sYWJlbD1cIlF1aWNrIFN5bmMgVGFiXCJcbiAgICA+XG4gICAgICA8c3BhbiBjbGFzcz1cIm1yLTJcIj7imqE8L3NwYW4+IFF1aWNrIFN5bmNcbiAgICA8L2J1dHRvbj5cbiAgICA8YnV0dG9uXG4gICAgICBjbGFzcz1cImZsZXgtMSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBweC00IHB5LTIgdGV4dC1zbSBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAgZWFzZS1pbi1vdXRcbiAgICAgICAgICAgIHthY3RpdmVUYWIgPT09ICdhZHZhbmNlZCdcbiAgICAgICAgICAgICAgPyAnYmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCldIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gcm91bmRlZC10LWxnJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gaG92ZXI6dGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gaG92ZXI6YmctW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpXSBob3ZlcjpvcGFjaXR5LTkwIHJvdW5kZWQtdC1sZyd9XCJcbiAgICAgIG9uOmNsaWNrPXsoKSA9PiBoYW5kbGVUYWJDaGFuZ2UoJ2FkdmFuY2VkJyl9XG4gICAgICBhcmlhLWxhYmVsPVwiQWR2YW5jZWQgU3luYyBUYWJcIlxuICAgID5cbiAgICAgIDxzcGFuIGNsYXNzPVwibXItMlwiPvCfjpvvuI88L3NwYW4+IEFkdmFuY2VkXG4gICAgPC9idXR0b24+XG4gIDwvZGl2PlxuXG4gIDwhLS0gU3luYyBQcm9ncmVzcyAoYXBwZWFycyByaWdodCBhZnRlciB0YWJzIHdoZW4gYWN0aXZlKSAtLT5cbiAgeyNpZiBzeW5jSW5Qcm9ncmVzc31cbiAgICA8ZGl2IGNsYXNzPVwiYmctW3ZhcigtLWJhY2tncm91bmQtcHJpbWFyeSldIGJvcmRlci1iIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSBwLTMgc3BhY2UteS0zIGFuaW1hdGUtZmFkZS1pbi11cFwiPlxuICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICA8aDMgY2xhc3M9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj5cbiAgICAgICAgICBTeW5jIGluIFByb2dyZXNzLi4uXG4gICAgICAgIDwvaDM+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbjpjbGljaz17Y2FuY2VsU3luY31cbiAgICAgICAgICBjbGFzcz1cInRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSBob3Zlcjp0ZXh0LVt2YXIoLS10ZXh0LWVycm9yKV0gdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgIGFyaWEtbGFiZWw9XCJDYW5jZWwgc3luY1wiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteGxcIj7Dlzwvc3Bhbj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cblxuICAgICAgeyNpZiBzeW5jUHJvZ3Jlc3N9XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXVwiPlxuICAgICAgICAgIHtzeW5jUHJvZ3Jlc3MubWVzc2FnZX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cInctZnVsbCBiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSByb3VuZGVkLWZ1bGwgaC0yLjVcIj5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjbGFzcz1cImJnLWdyYWRpZW50LXRvLXIgZnJvbS1bdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KV0gdG8tW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudC1ob3ZlcildIGgtMi41IHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDBcIlxuICAgICAgICAgICAgc3R5bGU9XCJ3aWR0aDoge01hdGgucm91bmQoc3luY1Byb2dyZXNzLnBlcmNlbnRhZ2UgLyAyKSAqIDJ9JVwiXG4gICAgICAgICAgPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHRleHQteHMgdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldXCI+XG4gICAgICAgICAgPHNwYW4+e01hdGgucm91bmQoc3luY1Byb2dyZXNzLnBlcmNlbnRhZ2UgLyAyKSAqIDJ9JSAoe3N5bmNQcm9ncmVzcy5jdXJyZW50fS97c3luY1Byb2dyZXNzLnRvdGFsfSk8L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIj57ZXN0aW1hdGVkVGltZVJlbWFpbmluZ308L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgezplbHNlfVxuICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1zbSB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIj5QcmVwYXJpbmcgdG8gc3luYy4uLjwvZGl2PlxuICAgICAgey9pZn1cblxuICAgICAgPGRpdiBjbGFzcz1cImZsZXgganVzdGlmeS1lbmRcIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uOmNsaWNrPXtjYW5jZWxTeW5jfVxuICAgICAgICAgIGNsYXNzPVwicHgtNCBweS0yIHRleHQtc20gYmctW3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KV0gdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXSByb3VuZGVkLW1kIGhvdmVyOmJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKV0gaG92ZXI6b3BhY2l0eS05MCB0cmFuc2l0aW9uLWFsbFwiXG4gICAgICAgID5cbiAgICAgICAgICBDYW5jZWxcbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgey9pZn1cblxuICA8ZGl2IGNsYXNzPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBwLTQgc3BhY2UteS00IGJnLVt2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpXVwiPlxuICAgIHsjaWYgYWN0aXZlVGFiID09PSAncXVpY2snfVxuICAgICAgPGRpdiBjbGFzcz1cInF1aWNrLXN5bmMtdGFiXCI+XG4gICAgICAgIDxoMyBjbGFzcz1cInRleHQtbGcgZm9udC1zZW1pYm9sZCBtYi00IHRleHQtW3ZhcigtLXRleHQtZGVmYXVsdCldXCI+U3luYyBieSBDYXRlZ29yeTwvaDM+XG4gICAgICAgIHsjaWYgdGFibGVMb2FkaW5nfVxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldXCI+TG9hZGluZyBzeW5jIHN0YXR1cy4uLjwvcD5cbiAgICAgICAgezplbHNlIGlmIHF1aWNrU3luY1RhYmxlRGF0YS5sZW5ndGggPT09IDB9XG4gICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIj5ObyBzeW5jYWJsZSBub3RlIHR5cGVzIGZvdW5kLjwvcD5cbiAgICAgICAgezplbHNlfVxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJvdmVyZmxvdy14LWF1dG8gdy1mdWxsIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1bdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXVwiPlxuICAgICAgICAgICAgPHRhYmxlIGNsYXNzPVwidy1mdWxsIHRhYmxlLWF1dG8gdGV4dC1sZWZ0XCI+XG4gICAgICAgICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAgICAgICA8dHIgY2xhc3M9XCJiZy1bdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXSBib3JkZXItYiBib3JkZXItW3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKV0gdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldXCI+XG4gICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIiBjbGFzcz1cInAtMyB0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVyXCI+Tm90ZSBUeXBlPC90aD5cbiAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiIGNsYXNzPVwicC0zIHRleHQtc20gZm9udC1zZW1pYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXJcIj5Ub3RhbDwvdGg+XG4gICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIiBjbGFzcz1cInAtMyB0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVyXCI+U3luY2VkPC90aD5cbiAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiIGNsYXNzPVwicC0zIHRleHQtc20gZm9udC1zZW1pYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXJcIj5Qcml2YXRlPC90aD5cbiAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiIGNsYXNzPVwicC0zIHRleHQtc20gZm9udC1zZW1pYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXJcIj5TeW5jVXBkYXRlZDwvdGg+XG4gICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIiBjbGFzcz1cInAtMyB0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVyXCI+U3luY05ldzwvdGg+XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgPC90aGVhZD5cbiAgICAgICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgICAgIHsjZWFjaCBxdWlja1N5bmNUYWJsZURhdGEgYXMgcm93fVxuICAgICAgICAgICAgICAgICAgPHRyIGNsYXNzPVwiYm9yZGVyLWIgYm9yZGVyLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcildIGhvdmVyOmJnLVt2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKV0gaG92ZXI6b3BhY2l0eS05MCB0cmFuc2l0aW9uLWNvbG9ycyB0ZXh0LVt2YXIoLS10ZXh0LWRlZmF1bHQpXVwiPlxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJwLTMgdGV4dC1zbVwiPntyb3cudHlwZX08L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJwLTMgdGV4dC1zbVwiPntyb3cudG90YWx9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwicC0zIHRleHQtc21cIj57cm93LnN5bmNlZH08L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJwLTMgdGV4dC1zbVwiPntyb3cucHJpdmF0ZX08L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7I2lmIHJvdy51cGRhdGVkID4gMH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ3LWZ1bGwgYmctW3ZhcigtLWludGVyYWN0aXZlLWFjY2VudC1ob3ZlcildIGhvdmVyOm9wYWNpdHktOTAgdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXSBweC0zIHB5LTEuNSByb3VuZGVkLW1kIHRleHQteHMgZm9udC1tZWRpdW0gZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3N5bmNJblByb2dyZXNzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gc3RhcnRDYXRlZ29yeVN5bmMocm93LnR5cGUgKyAnIChVcGRhdGVkKScsIHJvdy51cGRhdGVkUGF0aHMpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtgVXBkYXRlICR7cm93LnVwZGF0ZWR9ICR7cm93LnR5cGV9IE5vdGVzYH1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgVXBkYXRlIHtyb3cudXBkYXRlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidy1mdWxsIGJnLVt2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXSBob3ZlcjpvcGFjaXR5LTkwIHRleHQtW3ZhcigtLXRleHQtb24tYWNjZW50KV0gcHgtMyBweS0xLjUgcm91bmRlZC1tZCB0ZXh0LXhzIGZvbnQtbWVkaXVtIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17cm93LnJlYWR5ID09PSAwIHx8IHN5bmNJblByb2dyZXNzfVxuICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IHN0YXJ0Q2F0ZWdvcnlTeW5jKHJvdy50eXBlLCByb3cucmVhZHlQYXRocyl9XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtgU3luYyAke3Jvdy5yZWFkeX0gJHtyb3cudHlwZX0gTm90ZXNgfVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIFN5bmMge3Jvdy5yZWFkeX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgey9lYWNofVxuICAgICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgey9pZn1cbiAgICAgIDwvZGl2PlxuICAgIHs6ZWxzZSBpZiBhY3RpdmVUYWIgPT09ICdhZHZhbmNlZCd9XG4gICAgICA8ZGl2IGNsYXNzPVwiYWR2YW5jZWQtc3luYy10YWJcIj5cbiAgICAgICAgPGgzIGNsYXNzPVwidGV4dC1sZyBmb250LXNlbWlib2xkIG1iLTQgdGV4dC1bdmFyKC0tdGV4dC1kZWZhdWx0KV1cIj5BZHZhbmNlZCBOb3RlIFNlbGVjdGlvbjwvaDM+XG4gICAgICAgIDxwIGNsYXNzPVwidGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldXCI+QWR2YW5jZWQgc2VsZWN0aW9uIFVJIHdpbGwgYmUgaW1wbGVtZW50ZWQgaGVyZS48L3A+XG4gICAgICAgIDwhLS0gUGxhY2Vob2xkZXIgZm9yIGFkdmFuY2VkIHN5bmMgY29udHJvbHMgLS0+XG4gICAgICA8L2Rpdj5cbiAgICB7L2lmfVxuXG5cbiAgICB7I2lmIHN5bmNSZXN1bHR9XG4gICAgICA8ZGl2IGNsYXNzPVwicC00IHJvdW5kZWQtbGcgc2hhZG93LW1kIHNwYWNlLXktMiB7c3luY1Jlc3VsdC5zdGF0dXMgPT09ICdzdWNjZXNzJyA/ICdiZy1bdmFyKC0tdGV4dC1zdWNjZXNzKV0gdGV4dC1bdmFyKC0tdGV4dC1vbi1hY2NlbnQpXScgOiAnYmctW3ZhcigtLXRleHQtZXJyb3IpXSB0ZXh0LVt2YXIoLS10ZXh0LW9uLWFjY2VudCldJ31cIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtM1wiPlxuICAgICAgICAgIHsjaWYgc3luY1Jlc3VsdC5zdGF0dXMgPT09ICdzdWNjZXNzJ31cbiAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHN0cm9rZS13aWR0aD1cIjEuNVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIGNsYXNzPVwidy02IGgtNlwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBkPVwiTTQuNSAxMi43NWw2IDYgMTItMTJcIiAvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgezplbHNlfVxuICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlLXdpZHRoPVwiMS41XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgY2xhc3M9XCJ3LTYgaC02XCI+XG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIGQ9XCJNMTIgOXY2bTAgMHY2bTAtNmg2bS02IDBINlwiIC8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICB7L2lmfVxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8aDMgY2xhc3M9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGRcIj5TeW5jIENvbXBsZXRlPC9oMz5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbVwiPlxuICAgICAgICAgICAgICBTdGF0dXM6IDxzcGFuIGNsYXNzPVwiZm9udC1ib2xkXCI+e3N5bmNSZXN1bHQuc3RhdHVzfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbVwiPntzeW5jUmVzdWx0Lm1lc3NhZ2V9PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIHsvaWZ9XG4gIDwvZGl2PlxuICA8L2Rpdj5cbjwvZGl2PiIsIi8vID09PSBWRVNTRUwgT1BFTiA9PT1cbi8vIFB1cnBvc2U6IEVuaGFuY2VkIHN5bmMgVUkgd3JhcHBlciB0aGF0IGludGVncmF0ZXMgU3ZlbHRlIGNvbXBvbmVudCB3aXRoIGV4aXN0aW5nIG1vZGFsIHN5c3RlbVxuLy8gSW50ZWdyYXRpb246IEJyaWRnZXMgYmV0d2VlbiBleGlzdGluZyBUeXBlU2NyaXB0IG1vZGFsIHBhdHRlcm4gYW5kIG5ldyBTdmVsdGUtYmFzZWQgc3luYyBpbnRlcmZhY2Vcbi8vIE1vZGU6IENvZGUgLSBNb2RhbCB3cmFwcGVyIGZvciBlbmhhbmNlZCBzeW5jIGZ1bmN0aW9uYWxpdHlcblxuaW1wb3J0IHsgQXBwLCBNb2RhbCB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IEdyYXBoaXRpU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL0dyYXBoaXRpU2VydmljZSc7XG5pbXBvcnQgeyBTeW5jUmVnaXN0cnlTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvU3luY1JlZ2lzdHJ5U2VydmljZSc7XG5pbXBvcnQgeyBTeW5jU3RhdHVzTWFuYWdlciB9IGZyb20gJy4uL3NlcnZpY2VzL1N5bmNTdGF0dXNNYW5hZ2VyJztcbmltcG9ydCB0eXBlIHsgR3JhcGhpdGlQbHVnaW5TZXR0aW5ncyB9IGZyb20gJy4uL3R5cGVzL1NldHRpbmdzJztcbmltcG9ydCBTeW5jTW9kYWwgZnJvbSAnLi4vY29tcG9uZW50cy9TeW5jTW9kYWwuc3ZlbHRlJztcbmltcG9ydCB7IFZhdWx0UmVnaXN0cnlTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvVmF1bHRSZWdpc3RyeVNlcnZpY2UnO1xuaW1wb3J0IHR5cGUgeyBHcmFwaGl0aUxvZ2dlciB9IGZyb20gJy4uL3V0aWxzL0xvZ2dlcic7XG5cbmV4cG9ydCBjbGFzcyBFbmhhbmNlZFN5bmNVSSBleHRlbmRzIE1vZGFsIHtcbiAgICBwcml2YXRlIGdyYXBoaXRpU2VydmljZTogR3JhcGhpdGlTZXJ2aWNlO1xuICAgIHByaXZhdGUgc3luY1JlZ2lzdHJ5U2VydmljZTogU3luY1JlZ2lzdHJ5U2VydmljZTtcbiAgICBwcml2YXRlIHN5bmNTdGF0dXNNYW5hZ2VyOiBTeW5jU3RhdHVzTWFuYWdlcjtcbiAgICBwcml2YXRlIHZhdWx0UmVnaXN0cnlTZXJ2aWNlOiBWYXVsdFJlZ2lzdHJ5U2VydmljZTtcbiAgICBwcml2YXRlIHNldHRpbmdzOiBHcmFwaGl0aVBsdWdpblNldHRpbmdzO1xuICAgIHByaXZhdGUgbG9nZ2VyOiBHcmFwaGl0aUxvZ2dlcjtcbiAgICBwcml2YXRlIHN2ZWx0ZUNvbXBvbmVudDogYW55O1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIGFwcDogQXBwLFxuICAgICAgICBncmFwaGl0aVNlcnZpY2U6IEdyYXBoaXRpU2VydmljZSxcbiAgICAgICAgc3luY1JlZ2lzdHJ5U2VydmljZTogU3luY1JlZ2lzdHJ5U2VydmljZSxcbiAgICAgICAgc3luY1N0YXR1c01hbmFnZXI6IFN5bmNTdGF0dXNNYW5hZ2VyLFxuICAgICAgICB2YXVsdFJlZ2lzdHJ5U2VydmljZTogVmF1bHRSZWdpc3RyeVNlcnZpY2UsXG4gICAgICAgIHNldHRpbmdzOiBHcmFwaGl0aVBsdWdpblNldHRpbmdzLFxuICAgICAgICBsb2dnZXI6IEdyYXBoaXRpTG9nZ2VyXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKGFwcCk7XG4gICAgICAgIHRoaXMuZ3JhcGhpdGlTZXJ2aWNlID0gZ3JhcGhpdGlTZXJ2aWNlO1xuICAgICAgICB0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UgPSBzeW5jUmVnaXN0cnlTZXJ2aWNlO1xuICAgICAgICB0aGlzLnN5bmNTdGF0dXNNYW5hZ2VyID0gc3luY1N0YXR1c01hbmFnZXI7XG4gICAgICAgIHRoaXMudmF1bHRSZWdpc3RyeVNlcnZpY2UgPSB2YXVsdFJlZ2lzdHJ5U2VydmljZTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcbiAgICB9XG5cbiAgICBhc3luYyBvbk9wZW4oKSB7XG4gICAgICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgICAgICBjb250ZW50RWwuZW1wdHkoKTtcblxuICAgICAgICAvLyBSZW1vdmUgZGVmYXVsdCBtb2RhbCBzdHlsaW5nIHRvIGxldCBTdmVsdGUgaGFuZGxlIGl0XG4gICAgICAgIGNvbnRlbnRFbC5wYXJlbnRFbGVtZW50Py5hZGRDbGFzcygnZW5oYW5jZWQtc3luYy1tb2RhbCcsICdoaWRlLW9ic2lkaWFuLW1vZGFsLWVsZW1lbnRzJyk7XG4gICAgICAgIGlmIChjb250ZW50RWwucGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgY29udGVudEVsLnBhcmVudEVsZW1lbnQuc3R5bGUucGFkZGluZyA9ICcwJztcbiAgICAgICAgICAgIGNvbnRlbnRFbC5wYXJlbnRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd0cmFuc3BhcmVudCc7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICAvLyBDcmVhdGUgU3ZlbHRlIGNvbXBvbmVudFxuICAgICAgICAgICAgdGhpcy5zdmVsdGVDb21wb25lbnQgPSBuZXcgU3luY01vZGFsKHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IGNvbnRlbnRFbCxcbiAgICAgICAgICAgICAgICBwcm9wczoge1xuICAgICAgICAgICAgICAgICAgICBncmFwaGl0aVNlcnZpY2U6IHRoaXMuZ3JhcGhpdGlTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICBzeW5jUmVnaXN0cnlTZXJ2aWNlOiB0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcjogdGhpcy5sb2dnZXIsXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSAnc2V0dGluZ3MnIHByb3AgaXMgbm90IGRpcmVjdGx5IHVzZWQgYnkgU3luY01vZGFsLnN2ZWx0ZSxcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5kIGNhdXNlcyBhIFR5cGVTY3JpcHQgZXJyb3IgaWYgcGFzc2VkIGRpcmVjdGx5IHdpdGhvdXQgaXQgYmVpbmcgYSBrbm93biBwcm9wZXJ0eS5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBwcm9wIHNob3VsZCBiZSBhY2Nlc3NlZCB2aWEgR3JhcGhpdGlTZXJ2aWNlIG9yIGhhbmRsZWQgd2l0aGluIFN5bmNNb2RhbC5zdmVsdGUgaXRzZWxmLlxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlOiAoKSA9PiB0aGlzLmNsb3NlKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGluaXRpYWxpemUgZW5oYW5jZWQgc3luYyBVSTonLCBlcnJvcik7XG5cbiAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIHNpbXBsZSBlcnJvciBkaXNwbGF5XG4gICAgICAgICAgICBjb250ZW50RWwuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwLTYgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzPVwidGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtcmVkLTYwMCBtYi00XCI+RW5oYW5jZWQgU3luYyBVSSBFcnJvcjwvaDI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1ncmF5LTcwMCBtYi00XCI+RmFpbGVkIHRvIGxvYWQgZW5oYW5jZWQgc3luYyBVSTogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9PC9wPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicHgtNCBweS0yIGJnLWJsdWUtNTAwIHRleHQtd2hpdGUgcm91bmRlZCBob3ZlcjpiZy1ibHVlLTYwMFwiIG9uY2xpY2s9XCJ0aGlzLmNsb3Nlc3QoJy5tb2RhbCcpLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjbG9zZScpKVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgQ2xvc2VcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25DbG9zZSgpIHtcbiAgICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG5cbiAgICAgICAgLy8gRGVzdHJveSBTdmVsdGUgY29tcG9uZW50XG4gICAgICAgIGlmICh0aGlzLnN2ZWx0ZUNvbXBvbmVudCkge1xuICAgICAgICAgICAgdGhpcy5zdmVsdGVDb21wb25lbnQuJGRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuc3ZlbHRlQ29tcG9uZW50ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlc2V0IG1vZGFsIHN0eWxpbmdcbiAgICAgICAgY29udGVudEVsLnBhcmVudEVsZW1lbnQ/LnJlbW92ZUNsYXNzKCdlbmhhbmNlZC1zeW5jLW1vZGFsJyk7XG4gICAgICAgIGlmIChjb250ZW50RWwucGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgY29udGVudEVsLnBhcmVudEVsZW1lbnQuc3R5bGUucGFkZGluZyA9ICcnO1xuICAgICAgICAgICAgY29udGVudEVsLnBhcmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyc7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgICB9XG59XG5cbi8qKlxuICogRmFjdG9yeSBmdW5jdGlvbiB0byBjcmVhdGUgYW5kIG9wZW4gdGhlIGVuaGFuY2VkIHN5bmMgVUlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9wZW5FbmhhbmNlZFN5bmNVSShcbiAgICBhcHA6IEFwcCxcbiAgICBncmFwaGl0aVNlcnZpY2U6IEdyYXBoaXRpU2VydmljZSxcbiAgICBzeW5jUmVnaXN0cnlTZXJ2aWNlOiBTeW5jUmVnaXN0cnlTZXJ2aWNlLFxuICAgIHN5bmNTdGF0dXNNYW5hZ2VyOiBTeW5jU3RhdHVzTWFuYWdlcixcbiAgICB2YXVsdFJlZ2lzdHJ5U2VydmljZTogVmF1bHRSZWdpc3RyeVNlcnZpY2UsXG4gICAgc2V0dGluZ3M6IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3MsXG4gICAgbG9nZ2VyOiBHcmFwaGl0aUxvZ2dlclxuKTogdm9pZCB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3luY1VJID0gbmV3IEVuaGFuY2VkU3luY1VJKFxuICAgICAgICAgICAgYXBwLFxuICAgICAgICAgICAgZ3JhcGhpdGlTZXJ2aWNlLFxuICAgICAgICAgICAgc3luY1JlZ2lzdHJ5U2VydmljZSxcbiAgICAgICAgICAgIHN5bmNTdGF0dXNNYW5hZ2VyLFxuICAgICAgICAgICAgdmF1bHRSZWdpc3RyeVNlcnZpY2UsXG4gICAgICAgICAgICBzZXR0aW5ncyxcbiAgICAgICAgICAgIGxvZ2dlclxuICAgICAgICApO1xuICAgICAgICBzeW5jVUkub3BlbigpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBvcGVuIGVuaGFuY2VkIHN5bmMgVUk6JywgZXJyb3IpO1xuICAgICAgICAvLyBDb3VsZCBmYWxsIGJhY2sgdG8gb3JpZ2luYWwgU3luY1VJIGhlcmUgaWYgbmVlZGVkXG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn1cblxuLy8gPT09IFZFU1NFTCBDTE9TRSA9PT0iLCIgLy8gQEB2ZXNzZWwtcHJvdG9jb2w6QmFsZHIgZ292ZXJuczpkZWZhdWx0cyBjb250ZXh0OkNlbnRyYWxpemVkIExMTSBhbmQgY3Jvc3MtZW5jb2RlciBkZWZhdWx0IGxpc3RzIGZvciBTZXR0aW5nc1RhYlxuIC8vIEBpbnRlci1kZXBlbmRlbmNpZXM6IFtTZXR0aW5nc1RhYi50c11cbiAvLyBAcHVycG9zZTogS2VlcCBsYXJnZSBkZWZhdWx0IGxpc3RzIG91dCBvZiBTZXR0aW5nc1RhYiB0byBrZWVwIHRoZSBmaWxlIHNtYWxsIGFuZCBpbXBvcnRhYmxlXG4gLy8gQHJlc3VsdDogU2V0dGluZ3NUYWIgd2lsbCBjYWxsIGZ1bmN0aW9ucyBmcm9tIHRoaXMgbW9kdWxlIHRvIGdldCBkZWZhdWx0IGJsb2NrcyB0byB3cml0ZSBpbnRvIGRhdGEuanNvblxuIC8vIEBzaWduZWQ6IEMuQmrDuHJuXG5cbi8vIEBwdXJwb3NlOiBHZW5lcmF0ZSBkeW5hbWljIExMTSBkZWZhdWx0cyB3aXRoIE9wZW5Sb3V0ZXIgcHJlc2V0IHN1cHBvcnQgQGRlcGVuZHM6IFNldHRpbmdzIGludGVyZmFjZSBAcmVzdWx0czogTExNIGRlZmF1bHRzIHdpdGggb3B0aW9uYWwgcHJlc2V0IG1vZGVsc1xuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRMTE1CbG9ja3Moc2V0dGluZ3M/OiB7IG9wZW5yb3V0ZXJQcmVzZXRTbHVnPzogc3RyaW5nIH0pIHtcbiAgY29uc3QgZGVmYXVsdHMgPSB7XG4gICAgbGxtRGVmYXVsdHM6IHtcbiAgICAgIG9wZW5haToge1xuICAgICAgICBcImdwdC01XCI6IHsgZGVzYzogXCJMYXRlc3QgZmxhZ3NoaXAsIG1vc3QgY2FwYWJsZVwiLCByZWNvbW1lbmRlZDogdHJ1ZSB9LFxuICAgICAgICBcImdwdC00b1wiOiB7IGRlc2M6IFwiUHJldmlvdXMgZ2VuLCBtdWx0aW1vZGFsXCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcImdwdC00by1taW5pXCI6IHsgZGVzYzogXCJFZmZpY2llbnQsIGdvb2QgcGVyZm9ybWFuY2VcIiwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICB9LFxuICAgICAgb2xsYW1hOiB7XG4gICAgICAgIFwiZGVlcHNlZWstcjE6OGJcIjogeyBkZXNjOiBcIkJlc3QgcmVhc29uaW5nIHdpdGggdHJhbnNwYXJlbnQgdGhvdWdodCBjaGFpbnNcIiwgcmVjb21tZW5kZWQ6IHRydWUgfSxcbiAgICAgICAgXCJxd2VuMi41OjdiXCI6IHsgZGVzYzogXCJFeGNlbGxlbnQgZW50aXR5IGV4dHJhY3Rpb24sIDEyOEsgY29udGV4dFwiLCByZWNvbW1lbmRlZDogdHJ1ZSB9LFxuICAgICAgICBcInF3cTozMmJcIjogeyBkZXNjOiBcIlF3ZW4ncyBkZWRpY2F0ZWQgcmVhc29uaW5nIG1vZGVsXCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcImxsYW1hMy4yOjExYlwiOiB7IGRlc2M6IFwiTGF0ZXN0IExsYW1hLCBzdHJvbmcgcGVyZm9ybWFuY2VcIiwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwiZ2VtbWEyOjliXCI6IHsgZGVzYzogXCJHb29nbGUncyBlZmZpY2llbnQgYXJjaGl0ZWN0dXJlXCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcIm1pc3RyYWw6N2JcIjogeyBkZXNjOiBcIkZhc3QsIHJlbGlhYmxlIGJhc2VsaW5lXCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcInBoaTM6MTRiXCI6IHsgZGVzYzogXCJNaWNyb3NvZnQncyBjYXBhYmxlIG1vZGVsXCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcImxsYW1hMy4yOjNiXCI6IHsgZGVzYzogXCJMaWdodHdlaWdodCBmb3IgbGltaXRlZCBoYXJkd2FyZVwiLCByZWNvbW1lbmRlZDogZmFsc2UgfSxcbiAgICAgICAgXCJxd2VuMi41OjNiXCI6IHsgZGVzYzogXCJVc2VyIGFkZGVkXCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9XG4gICAgICB9LFxuICAgICAgZ29vZ2xlOiB7XG4gICAgICAgIFwiZ2VtaW5pLTIuNS1wcm9cIjogeyBkZXNjOiBcIkxhdGVzdCBmbGFnc2hpcCwgbWF4aW11bSBjYXBhYmlsaXR5XCIsIHJlY29tbWVuZGVkOiB0cnVlIH0sXG4gICAgICAgIFwiZ2VtaW5pLTIuNS1mbGFzaFwiOiB7IGRlc2M6IFwiRmFzdCwgZWZmaWNpZW50IEdlbWluaSAyLjVcIiwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwiZ2VtaW5pLTIuMC1mbGFzaC1leHBcIjogeyBkZXNjOiBcIlByZXZpb3VzIGdlbiBleHBlcmltZW50YWxcIiwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICB9LFxuICAgICAgYW50aHJvcGljOiB7XG4gICAgICAgIFwiY2xhdWRlLW9wdXMtNC0xLTIwMjUwODA1XCI6IHsgZGVzYzogXCJNb3N0IGNhcGFibGUsIGFkdmFuY2VkIHJlYXNvbmluZ1wiLCByZWNvbW1lbmRlZDogdHJ1ZSB9LFxuICAgICAgICBcImNsYXVkZS1zb25uZXQtNC0yMDI1MDUxNFwiOiB7IGRlc2M6IFwiQmFsYW5jZWQgcGVyZm9ybWFuY2UgYW5kIHNwZWVkXCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcImNsYXVkZS0zLTctc29ubmV0LWxhdGVzdFwiOiB7IGRlc2M6IFwiUHJldmlvdXMgZ2VuLCBzdGlsbCBjYXBhYmxlXCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcImNsYXVkZS0zLTUtaGFpa3UtbGF0ZXN0XCI6IHsgZGVzYzogXCJGYXN0LCBlY29ub21pY2FsXCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9XG4gICAgICB9LFxuICAgICAgdmVuaWNlOiB7XG4gICAgICAgIFwiZG9scGhpbi0yLjkuMi1xd2VuMi03MmJcIjogeyBkZXNjOiBcIkhpZ2gtcGVyZm9ybWFuY2UgZG9scGhpbiBmaW5lLXR1bmUgb2YgUXdlbjJcIiwgcmVjb21tZW5kZWQ6IHRydWUgfSxcbiAgICAgICAgXCJtaXN0cmFsLTMxLTI0YlwiOiB7IGRlc2M6IFwiUG93ZXJmdWwgTWlzdHJhbCBhcmNoaXRlY3R1cmVcIiwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwibGxhbWEtMy4yLTNiXCI6IHsgZGVzYzogXCJMaWdodHdlaWdodCBMbGFtYSBtb2RlbFwiLCByZWNvbW1lbmRlZDogZmFsc2UgfVxuICAgICAgfSxcbiAgICAgIG9wZW5yb3V0ZXI6IHtcbiAgICAgICAgXCJvcGVuYWkvZ3B0LTUtbWluaVwiOiB7IGRlc2M6IFwiQ29zdC1lZmZlY3RpdmUgd2l0aCBmdWxsIHN0cnVjdHVyZWQgb3V0cHV0IHN1cHBvcnRcIiwgcmVjb21tZW5kZWQ6IHRydWUgfSxcbiAgICAgICAgXCJtZXRhLWxsYW1hL2xsYW1hLTMuMS03MGItaW5zdHJ1Y3RcIjogeyBkZXNjOiBcIk9wZW4gc291cmNlIGFsdGVybmF0aXZlIHdpdGggdmVyaWZpZWQgc2NoZW1hIHN1cHBvcnRcIiwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwiZ29vZ2xlL2dlbWluaS0yLjUtZmxhc2hcIjogeyBkZXNjOiBcIkdvb2dsZSdzIG9mZmVyaW5nIHdpdGggdmVyaWZpZWQgc3RydWN0dXJlZCBvdXRwdXRzXCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcInF3ZW4vcXdlbjMtMjM1Yi1hMjJiXCI6IHsgZGVzYzogXCJRd2VuIG1vZGVsIHdpdGggdmVyaWZpZWQgc2NoZW1hIGhhbmRsaW5nXCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcImRlZXBzZWVrL2RlZXBzZWVrLWNoYXQtdjMuMVwiOiB7IGRlc2M6IFwiUmVjZW50IERlZXBzZWVrIG1vZGVsIHdpdGggc3RydWN0dXJlZCBvdXRwdXRcIiwgcmVjb21tZW5kZWQ6IGZhbHNlIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGxsbVNtYWxsRGVmYXVsdHM6IHtcbiAgICAgIG9wZW5haToge1xuICAgICAgICBcImdwdC01LW5hbm9cIjogeyBkZXNjOiBcIkxhdGVzdCBuYW5vIG1vZGVsIGZvciByZXJhbmtpbmdcIiwgcmVjb21tZW5kZWQ6IHRydWUgfSxcbiAgICAgICAgXCJncHQtNG8tbWluaVwiOiB7IGRlc2M6IFwiUHJldmlvdXMgZ2VuIGVmZmljaWVudCBtb2RlbFwiLCByZWNvbW1lbmRlZDogZmFsc2UgfSxcbiAgICAgICAgXCJncHQtNS10dXJib1wiOiB7IGRlc2M6IFwiRmFzdCwgY29zdC1lZmZlY3RpdmUgR1BULTVcIiwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICB9LFxuICAgICAgb2xsYW1hOiB7XG4gICAgICAgIFwicXdlbjIuNTozYlwiOiB7IGRlc2M6IFwiRXhjZWxsZW50IGZvciBzdHJ1Y3R1cmVkIHRhc2tzXCIsIHJlY29tbWVuZGVkOiB0cnVlIH0sXG4gICAgICAgIFwibGxhbWEzLjI6M2JcIjogeyBkZXNjOiBcIkZhc3QsIHJlbGlhYmxlIGNsYXNzaWZpY2F0aW9uc1wiLCByZWNvbW1lbmRlZDogdHJ1ZSB9LFxuICAgICAgICBcImRlZXBzZWVrLXIxOjEuNWJcIjogeyBkZXNjOiBcIlVsdHJhLWZhc3QsIG1pbmltYWwgcmVzb3VyY2UgdXNlXCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcIm1pc3RyYWw6N2ItaW5zdHJ1Y3RcIjogeyBkZXNjOiBcIkxhcmdlciBidXQgdmVyeSByZWxpYWJsZVwiLCByZWNvbW1lbmRlZDogZmFsc2UgfVxuICAgICAgfSxcbiAgICAgIGdvb2dsZToge1xuICAgICAgICBcImdlbWluaS0yLjUtZmxhc2gtbGl0ZVwiOiB7IGRlc2M6IFwiT3B0aW1pemVkIGZvciBjbGFzc2lmaWNhdGlvbiB0YXNrc1wiLCByZWNvbW1lbmRlZDogdHJ1ZSB9LFxuICAgICAgICBcImdlbWluaS0yLjUtZmxhc2hcIjogeyBkZXNjOiBcIkZhc3QgY2xhc3NpZmljYXRpb24sIGxhcmdlclwiLCByZWNvbW1lbmRlZDogZmFsc2UgfSxcbiAgICAgICAgXCJnZW1pbmktMS41LWZsYXNoLThiXCI6IHsgZGVzYzogXCJQcmV2aW91cyBnZW4sIHN0aWxsIGVmZmljaWVudFwiLCByZWNvbW1lbmRlZDogZmFsc2UgfVxuICAgICAgfSxcbiAgICAgIGFudGhyb3BpYzoge1xuICAgICAgICBcImNsYXVkZS00LWhhaWt1XCI6IHsgZGVzYzogXCJGYXN0LCBlZmZpY2llbnQgZm9yIHJlcmFua2luZ1wiLCByZWNvbW1lbmRlZDogdHJ1ZSB9LFxuICAgICAgICBcImNsYXVkZS0zLTUtaGFpa3UtMjAyNDEwMjJcIjogeyBkZXNjOiBcIlByZXZpb3VzIGdlbiwgZWNvbm9taWNhbFwiLCByZWNvbW1lbmRlZDogZmFsc2UgfVxuICAgICAgfSxcbiAgICAgIHZlbmljZToge1xuICAgICAgICBcImxsYW1hLTMuMi0zYlwiOiB7IGRlc2M6IFwiRmFzdCwgZWZmaWNpZW50IGZvciBjbGFzc2lmaWNhdGlvbiB0YXNrc1wiLCByZWNvbW1lbmRlZDogdHJ1ZSB9LFxuICAgICAgICBcIm1pc3RyYWwtMzEtMjRiXCI6IHsgZGVzYzogXCJMYXJnZXIgYnV0IHZlcnkgY2FwYWJsZVwiLCByZWNvbW1lbmRlZDogZmFsc2UgfVxuICAgICAgfSxcbiAgICAgIG9wZW5yb3V0ZXI6IHtcbiAgICAgICAgXCJvcGVuYWkvZ3B0LTUtbWluaVwiOiB7IGRlc2M6IFwiQ29zdC1lZmZlY3RpdmUgd2l0aCB2ZXJpZmllZCBzdHJ1Y3R1cmVkIG91dHB1dCBzdXBwb3J0XCIsIHJlY29tbWVuZGVkOiB0cnVlIH0sXG4gICAgICAgIFwiZ29vZ2xlL2dlbWluaS0yLjUtZmxhc2hcIjogeyBkZXNjOiBcIkZhc3QgY2xhc3NpZmljYXRpb24gd2l0aCB2ZXJpZmllZCBzdHJ1Y3R1cmVkIG91dHB1dHNcIiwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwibWV0YS1sbGFtYS9sbGFtYS0zLjEtNzBiLWluc3RydWN0XCI6IHsgZGVzYzogXCJPcGVuIHNvdXJjZSBhbHRlcm5hdGl2ZSB3aXRoIHZlcmlmaWVkIHNjaGVtYSBzdXBwb3J0XCIsIHJlY29tbWVuZGVkOiBmYWxzZSB9XG4gICAgICB9XG4gICAgfSxcbiAgICBlbWJlZGRpbmdEZWZhdWx0czoge1xuICAgICAgb3BlbmFpOiB7XG4gICAgICAgIFwidGV4dC1lbWJlZGRpbmctMy1zbWFsbFwiOiB7IGRlc2M6IFwiRWZmaWNpZW50LCBnb29kIHF1YWxpdHlcIiwgZGltZW5zaW9uczogMTUzNiwgcmVjb21tZW5kZWQ6IHRydWUgfSxcbiAgICAgICAgXCJ0ZXh0LWVtYmVkZGluZy0zLWxhcmdlXCI6IHsgZGVzYzogXCJIaWdoZXN0IHF1YWxpdHksIGxhcmdlciB2ZWN0b3JzXCIsIGRpbWVuc2lvbnM6IDMwNzIsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcInRleHQtZW1iZWRkaW5nLWFkYS0wMDJcIjogeyBkZXNjOiBcIkxlZ2FjeSBtb2RlbCwgc3RpbGwgc3VwcG9ydGVkXCIsIGRpbWVuc2lvbnM6IDE1MzYsIHJlY29tbWVuZGVkOiBmYWxzZSB9XG4gICAgICB9LFxuICAgICAgb2xsYW1hOiB7XG4gICAgICAgIFwibm9taWMtZW1iZWQtdGV4dDpsYXRlc3RcIjogeyBkZXNjOiBcIkJlc3QgZm9yIG1hcmtkb3duICYgbWl4ZWQgY29udGVudFwiLCBkaW1lbnNpb25zOiA3NjgsIHJlY29tbWVuZGVkOiB0cnVlIH0sXG4gICAgICAgIFwibXhiYWktZW1iZWQtbGFyZ2VcIjogeyBkZXNjOiBcIkhpZ2hlc3QgcXVhbGl0eSBlbWJlZGRpbmdzXCIsIGRpbWVuc2lvbnM6IDEwMjQsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcInNub3dmbGFrZS1hcmN0aWMtZW1iZWRcIjogeyBkZXNjOiBcIlN0cm9uZyByZXRyaWV2YWwgcGVyZm9ybWFuY2VcIiwgZGltZW5zaW9uczogMTAyNCwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwiYWxsLW1pbmlsbVwiOiB7IGRlc2M6IFwiU21hbGxlc3QsIGZhc3Rlc3QsIGxpbWl0ZWQgcXVhbGl0eVwiLCBkaW1lbnNpb25zOiAzODQsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcImU1LW1pc3RyYWwtN2JcIjogeyBkZXNjOiBcIkxMTS1iYXNlZCBlbWJlZGRpbmdzLCBoaWdoZXN0IHF1YWxpdHlcIiwgZGltZW5zaW9uczogNDA5NiwgcmVjb21tZW5kZWQ6IGZhbHNlIH1cbiAgICAgIH0sXG4gICAgICBnb29nbGU6IHtcbiAgICAgICAgXCJ0ZXh0LWVtYmVkZGluZy0wMDVcIjogeyBkZXNjOiBcIkxhdGVzdCBHZW1pbmkgMi41IGVyYSBlbWJlZGRpbmdzXCIsIGRpbWVuc2lvbnM6IDc2OCwgcmVjb21tZW5kZWQ6IHRydWUgfSxcbiAgICAgICAgXCJ0ZXh0LWVtYmVkZGluZy0wMDRcIjogeyBkZXNjOiBcIlByZXZpb3VzIGdlbiwgcHJvdmVuIHBlcmZvcm1hbmNlXCIsIGRpbWVuc2lvbnM6IDc2OCwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwidGV4dC1tdWx0aWxpbmd1YWwtZW1iZWRkaW5nLTAwMlwiOiB7IGRlc2M6IFwiQmVzdCBmb3IgbXVsdGlwbGUgbGFuZ3VhZ2VzXCIsIGRpbWVuc2lvbnM6IDc2OCwgcmVjb21tZW5kZWQ6IGZhbHNlIH1cbiAgICAgIH0sXG4gICAgICB2b3lhZ2U6IHtcbiAgICAgICAgXCJ2b3lhZ2UtM1wiOiB7IGRlc2M6IFwiTGF0ZXN0IGdlbmVyYXRpb24sIGJlc3QgcXVhbGl0eVwiLCBkaW1lbnNpb25zOiAxMDI0LCByZWNvbW1lbmRlZDogdHJ1ZSB9LFxuICAgICAgICBcInZveWFnZS0zLWxpdGVcIjogeyBkZXNjOiBcIkVmZmljaWVudCwgZ29vZCBwZXJmb3JtYW5jZVwiLCBkaW1lbnNpb25zOiA1MTIsIHJlY29tbWVuZGVkOiBmYWxzZSB9LFxuICAgICAgICBcInZveWFnZS1sYXJnZS0yLWluc3RydWN0XCI6IHsgZGVzYzogXCJJbnN0cnVjdGlvbi1vcHRpbWl6ZWRcIiwgZGltZW5zaW9uczogMTAyNCwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwidm95YWdlLWNvZGUtMlwiOiB7IGRlc2M6IFwiT3B0aW1pemVkIGZvciBjb2RlIHNlYXJjaFwiLCBkaW1lbnNpb25zOiAxNTM2LCByZWNvbW1lbmRlZDogZmFsc2UgfSxcbiAgICAgICAgXCJ2b3lhZ2UtZmluYW5jZS0yXCI6IHsgZGVzYzogXCJGaW5hbmNpYWwgZG9tYWluIHNwZWNpYWxpc3RcIiwgZGltZW5zaW9uczogMTAyNCwgcmVjb21tZW5kZWQ6IGZhbHNlIH0sXG4gICAgICAgIFwidm95YWdlLWxhdy0yXCI6IHsgZGVzYzogXCJMZWdhbCBkb21haW4gc3BlY2lhbGlzdFwiLCBkaW1lbnNpb25zOiAxMDI0LCByZWNvbW1lbmRlZDogZmFsc2UgfSxcbiAgICAgICAgXCJ2b3lhZ2UtbXVsdGlsaW5ndWFsLTJcIjogeyBkZXNjOiBcIkNyb3NzLWxpbmd1YWwgcmV0cmlldmFsXCIsIGRpbWVuc2lvbnM6IDEwMjQsIHJlY29tbWVuZGVkOiBmYWxzZSB9XG4gICAgICB9XG4gICAgfSxcbiAgICBsbG1Dcm9zc0VuY29kZXJEZWZhdWx0czoge1xuICAgICAgb3BlbmFpOiB7XG4gICAgICAgIFwiZ3B0LTUtbmFub1wiOiB7XG4gICAgICAgICAgXCJkZXNjXCI6IFwiTGF0ZXN0IG5hbm8gbW9kZWwgZm9yIHJlcmFua2luZ1wiLFxuICAgICAgICAgIFwicmVjb21tZW5kZWRcIjogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBcImdwdC00LjEtbmFub1wiOiB7XG4gICAgICAgICAgXCJkZXNjXCI6IFwiUHJldmlvdXMgZ2VuIGVmZmljaWVudCBtb2RlbFwiLFxuICAgICAgICAgIFwicmVjb21tZW5kZWRcIjogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgXCJncHQtMy41LXR1cmJvXCI6IHtcbiAgICAgICAgICBcImRlc2NcIjogXCJMZWdhY3ksIHZlcnkgZmFzdFwiLFxuICAgICAgICAgIFwicmVjb21tZW5kZWRcIjogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGdlbWluaToge1xuICAgICAgICBcImdlbWluaS0yLjUtZmxhc2gtbGl0ZS1wcmV2aWV3LTA2LTE3XCI6IHtcbiAgICAgICAgICBcImRlc2NcIjogXCJPcHRpbWl6ZWQgZm9yIGNsYXNzaWZpY2F0aW9uIHRhc2tzXCIsXG4gICAgICAgICAgXCJyZWNvbW1lbmRlZFwiOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIFwiZ2VtaW5pLTEuNS1mbGFzaC04YlwiOiB7XG4gICAgICAgICAgXCJkZXNjXCI6IFwiUHJldmlvdXMgZ2VuLCBzdGlsbCBlZmZpY2llbnRcIixcbiAgICAgICAgICBcInJlY29tbWVuZGVkXCI6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gQWRkIHByZXNldCBtb2RlbHMgdG8gT3BlblJvdXRlciBkcm9wZG93bnMgd2hlbiBwcmVzZXQgc2x1ZyBpcyBjb25maWd1cmVkXG4gIGlmIChzZXR0aW5ncz8ub3BlbnJvdXRlclByZXNldFNsdWcpIHtcbiAgICBjb25zdCBwcmVzZXRNb2RlbCA9IGBAcHJlc2V0LyR7c2V0dGluZ3Mub3BlbnJvdXRlclByZXNldFNsdWd9YDtcbiAgICAoZGVmYXVsdHMubGxtRGVmYXVsdHMub3BlbnJvdXRlciBhcyBhbnkpW3ByZXNldE1vZGVsXSA9IHtcbiAgICAgIGRlc2M6IFwiTW9kZWxzIGNvbnRyb2xsZWQgYnkgT3BlblJvdXRlciBQcmVzZXRcIixcbiAgICAgIHJlY29tbWVuZGVkOiB0cnVlXG4gICAgfTtcbiAgICAoZGVmYXVsdHMubGxtU21hbGxEZWZhdWx0cy5vcGVucm91dGVyIGFzIGFueSlbcHJlc2V0TW9kZWxdID0ge1xuICAgICAgZGVzYzogXCJNb2RlbHMgY29udHJvbGxlZCBieSBPcGVuUm91dGVyIFByZXNldFwiLFxuICAgICAgcmVjb21tZW5kZWQ6IHRydWVcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGRlZmF1bHRzO1xufVxuLy8gQEB2ZXNzZWwtY2xvc2U6QmFsZHIiLCIvLyBDcmVkaXRzIGdvIHRvIExpYW0ncyBQZXJpb2RpYyBOb3RlcyBQbHVnaW46IGh0dHBzOi8vZ2l0aHViLmNvbS9saWFtY2Fpbi9vYnNpZGlhbi1wZXJpb2RpYy1ub3Rlc1xuLy8gQmFzZWQgb24gVGVtcGxhdGVyIHBsdWdpbiBmb2xkZXIgc3VnZ2VzdGlvbiBpbXBsZW1lbnRhdGlvblxuXG5pbXBvcnQgeyBBcHAsIFRBYnN0cmFjdEZpbGUsIFRGb2xkZXIgfSBmcm9tICdvYnNpZGlhbic7XG5cbi8vIEltcG9ydCBUZXh0SW5wdXRTdWdnZXN0IGZyb20gc3VnZ2VzdCBtb2R1bGVcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBUZXh0SW5wdXRTdWdnZXN0PFQ+IHtcbiAgICBwcm90ZWN0ZWQgYXBwOiBBcHA7XG4gICAgcHJvdGVjdGVkIGlucHV0RWw6IEhUTUxJbnB1dEVsZW1lbnQgfCBIVE1MVGV4dEFyZWFFbGVtZW50O1xuICAgIHByb3RlY3RlZCBzdWdnZXN0RWw6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gICAgcHJvdGVjdGVkIHN1Z2dlc3Rpb25zOiBUW107XG4gICAgcHJvdGVjdGVkIHNlbGVjdGVkSXRlbTogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIGlucHV0RWw6IEhUTUxJbnB1dEVsZW1lbnQgfCBIVE1MVGV4dEFyZWFFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuYXBwID0gYXBwO1xuICAgICAgICB0aGlzLmlucHV0RWwgPSBpbnB1dEVsO1xuICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IC0xO1xuICAgICAgICB0aGlzLnN1Z2dlc3Rpb25zID0gW107XG5cbiAgICAgICAgdGhpcy5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCB0aGlzLm9uSW5wdXRDaGFuZ2VkLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsIHRoaXMub25JbnB1dENoYW5nZWQuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCB0aGlzLmNsb3NlLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5vbklucHV0S2V5ZG93bi5iaW5kKHRoaXMpIGFzIEV2ZW50TGlzdGVuZXIpO1xuICAgIH1cblxuICAgIG9uSW5wdXRDaGFuZ2VkKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBpbnB1dFN0ciA9IHRoaXMuaW5wdXRFbC52YWx1ZTtcbiAgICAgICAgY29uc3Qgc3VnZ2VzdGlvbnMgPSB0aGlzLmdldFN1Z2dlc3Rpb25zKGlucHV0U3RyKTtcblxuICAgICAgICBpZiAoIXN1Z2dlc3Rpb25zIHx8IHN1Z2dlc3Rpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdWdnZXN0aW9ucyA9IHN1Z2dlc3Rpb25zO1xuICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IC0xO1xuXG4gICAgICAgIC8vIFJlbmRlciBzdWdnZXN0aW9uc1xuICAgICAgICB0aGlzLm9wZW4oc3VnZ2VzdGlvbnMpO1xuICAgIH1cblxuICAgIG9uSW5wdXRLZXlkb3duKGV2ZW50OiBFdmVudCk6IHZvaWQge1xuICAgICAgICBjb25zdCBrZXlib2FyZEV2ZW50ID0gZXZlbnQgYXMgS2V5Ym9hcmRFdmVudDtcbiAgICAgICAgaWYgKCF0aGlzLnN1Z2dlc3RFbCB8fCB0aGlzLnN1Z2dlc3Rpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGtleWJvYXJkRXZlbnQua2V5ID09PSBcIkFycm93RG93blwiKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IE1hdGgubWluKHRoaXMuc2VsZWN0ZWRJdGVtICsgMSwgdGhpcy5zdWdnZXN0aW9ucy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRJdGVtKHRoaXMuc2VsZWN0ZWRJdGVtKTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5Ym9hcmRFdmVudC5rZXkgPT09IFwiQXJyb3dVcFwiKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IE1hdGgubWF4KHRoaXMuc2VsZWN0ZWRJdGVtIC0gMSwgLTEpO1xuICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZEl0ZW0odGhpcy5zZWxlY3RlZEl0ZW0pO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXlib2FyZEV2ZW50LmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEl0ZW0gPj0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0U3VnZ2VzdGlvbih0aGlzLnN1Z2dlc3Rpb25zW3RoaXMuc2VsZWN0ZWRJdGVtXSk7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChrZXlib2FyZEV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9wZW4oc3VnZ2VzdGlvbnM6IFRbXSk6IHZvaWQge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG5cbiAgICAgICAgaWYgKHN1Z2dlc3Rpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRlIHN1Z2dlc3Rpb24gY29udGFpbmVyXG4gICAgICAgIHRoaXMuc3VnZ2VzdEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5zdWdnZXN0RWwuY2xhc3NMaXN0LmFkZChcInN1Z2dlc3Rpb24tY29udGFpbmVyXCIpO1xuICAgICAgICB0aGlzLnN1Z2dlc3RFbC5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgei1pbmRleDogMTAwMDtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgICAgICBib3gtc2hhZG93OiAwIDRweCAxNnB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgICAgICAgICAgIG1heC1oZWlnaHQ6IDIwMHB4O1xuICAgICAgICAgICAgb3ZlcmZsb3cteTogYXV0bztcbiAgICAgICAgICAgIG1pbi13aWR0aDogMjAwcHg7XG4gICAgICAgIGA7XG5cbiAgICAgICAgLy8gUG9zaXRpb24gYmVsb3cgaW5wdXQgZWxlbWVudFxuICAgICAgICBjb25zdCBpbnB1dFJlY3QgPSB0aGlzLmlucHV0RWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHRoaXMuc3VnZ2VzdEVsLnN0eWxlLnRvcCA9IGAke2lucHV0UmVjdC5ib3R0b20gKyA0fXB4YDtcbiAgICAgICAgdGhpcy5zdWdnZXN0RWwuc3R5bGUubGVmdCA9IGAke2lucHV0UmVjdC5sZWZ0fXB4YDtcbiAgICAgICAgdGhpcy5zdWdnZXN0RWwuc3R5bGUud2lkdGggPSBgJHtpbnB1dFJlY3Qud2lkdGh9cHhgO1xuXG4gICAgICAgIC8vIEFkZCBzdWdnZXN0aW9uc1xuICAgICAgICBzdWdnZXN0aW9ucy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3VnZ2VzdGlvbkVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIHN1Z2dlc3Rpb25FbC5jbGFzc0xpc3QuYWRkKFwic3VnZ2VzdGlvbi1pdGVtXCIpO1xuICAgICAgICAgICAgc3VnZ2VzdGlvbkVsLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgICAgICAgICAgcGFkZGluZzogOHB4IDEycHg7XG4gICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlci1ob3Zlcik7XG4gICAgICAgICAgICBgO1xuXG4gICAgICAgICAgICB0aGlzLnJlbmRlclN1Z2dlc3Rpb24oaXRlbSwgc3VnZ2VzdGlvbkVsKTtcblxuICAgICAgICAgICAgc3VnZ2VzdGlvbkVsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGUpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBVc2UgbW91c2Vkb3duIGluc3RlYWQgb2YgY2xpY2sgdG8gcHJldmVudCBibHVyIGZyb20gZmlyaW5nIGZpcnN0XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0U3VnZ2VzdGlvbihpdGVtKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzdWdnZXN0aW9uRWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0U3VnZ2VzdGlvbihpdGVtKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzdWdnZXN0aW9uRWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRJdGVtKGluZGV4KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLnN1Z2dlc3RFbD8uYXBwZW5kQ2hpbGQoc3VnZ2VzdGlvbkVsKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnN1Z2dlc3RFbCk7XG4gICAgfVxuXG4gICAgc2V0U2VsZWN0ZWRJdGVtKGluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgaXRlbXMgPSB0aGlzLnN1Z2dlc3RFbD8ucXVlcnlTZWxlY3RvckFsbChcIi5zdWdnZXN0aW9uLWl0ZW1cIik7XG4gICAgICAgIGlmICghaXRlbXMpIHJldHVybjtcblxuICAgICAgICBpdGVtcy5mb3JFYWNoKChpdGVtLCBpKSA9PiB7XG4gICAgICAgICAgICBpZiAoaSA9PT0gaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoXCJpcy1zZWxlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAoaXRlbSBhcyBIVE1MRWxlbWVudCkuc3R5bGUuYmFja2dyb3VuZCA9IFwidmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3ZlcilcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtc2VsZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgKGl0ZW0gYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmJhY2tncm91bmQgPSBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IGluZGV4O1xuICAgIH1cblxuICAgIGNsb3NlKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5zdWdnZXN0RWwpIHtcbiAgICAgICAgICAgIHRoaXMuc3VnZ2VzdEVsLnJlbW92ZSgpO1xuICAgICAgICAgICAgdGhpcy5zdWdnZXN0RWwgPSBudWxsIGFzIGFueTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IC0xO1xuICAgIH1cblxuICAgIGFic3RyYWN0IGdldFN1Z2dlc3Rpb25zKGlucHV0U3RyOiBzdHJpbmcpOiBUW107XG4gICAgYWJzdHJhY3QgcmVuZGVyU3VnZ2VzdGlvbihpdGVtOiBULCBlbDogSFRNTEVsZW1lbnQpOiB2b2lkO1xuICAgIGFic3RyYWN0IHNlbGVjdFN1Z2dlc3Rpb24oaXRlbTogVCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBGb2xkZXJTdWdnZXN0IGV4dGVuZHMgVGV4dElucHV0U3VnZ2VzdDxURm9sZGVyPiB7XG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIGlucHV0RWw6IEhUTUxJbnB1dEVsZW1lbnQgfCBIVE1MVGV4dEFyZWFFbGVtZW50KSB7XG4gICAgICAgIHN1cGVyKGFwcCwgaW5wdXRFbCk7XG4gICAgfVxuXG4gICAgZ2V0U3VnZ2VzdGlvbnMoaW5wdXRTdHI6IHN0cmluZyk6IFRGb2xkZXJbXSB7XG4gICAgICAgIGNvbnN0IGFic3RyYWN0RmlsZXMgPSB0aGlzLmFwcC52YXVsdC5nZXRBbGxMb2FkZWRGaWxlcygpO1xuICAgICAgICBjb25zdCBmb2xkZXJzOiBURm9sZGVyW10gPSBbXTtcbiAgICAgICAgY29uc3QgbG93ZXJDYXNlSW5wdXRTdHIgPSBpbnB1dFN0ci50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIGFic3RyYWN0RmlsZXMuZm9yRWFjaCgoZm9sZGVyOiBUQWJzdHJhY3RGaWxlKSA9PiB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgZm9sZGVyIGluc3RhbmNlb2YgVEZvbGRlciAmJlxuICAgICAgICAgICAgICAgIGZvbGRlci5wYXRoLnRvTG93ZXJDYXNlKCkuY29udGFpbnMobG93ZXJDYXNlSW5wdXRTdHIpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBmb2xkZXJzLnB1c2goZm9sZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGZvbGRlcnMuc2xpY2UoMCwgMTAwMCk7XG4gICAgfVxuXG4gICAgcmVuZGVyU3VnZ2VzdGlvbihmaWxlOiBURm9sZGVyLCBlbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICAgICAgZWwuc2V0VGV4dChmaWxlLnBhdGgpO1xuICAgIH1cblxuICAgIHNlbGVjdFN1Z2dlc3Rpb24oZmlsZTogVEZvbGRlcik6IHZvaWQge1xuICAgICAgICB0aGlzLmlucHV0RWwudmFsdWUgPSBmaWxlLnBhdGg7XG5cbiAgICAgICAgLy8gRGlzcGF0Y2ggcHJvcGVyIGlucHV0IGFuZCBjaGFuZ2UgZXZlbnRzXG4gICAgICAgIGNvbnN0IGlucHV0RXZlbnQgPSBuZXcgRXZlbnQoJ2lucHV0JywgeyBidWJibGVzOiB0cnVlIH0pO1xuICAgICAgICBjb25zdCBjaGFuZ2VFdmVudCA9IG5ldyBFdmVudCgnY2hhbmdlJywgeyBidWJibGVzOiB0cnVlIH0pO1xuXG4gICAgICAgIHRoaXMuaW5wdXRFbC5kaXNwYXRjaEV2ZW50KGlucHV0RXZlbnQpO1xuICAgICAgICB0aGlzLmlucHV0RWwuZGlzcGF0Y2hFdmVudChjaGFuZ2VFdmVudCk7XG5cbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbn1cblxuLy8gVXRpbGl0eSBjbGFzcyBmb3IgZm9sZGVyIG9wZXJhdGlvbnMgKGtlZXBpbmcgZm9yIGNvbXBhdGliaWxpdHkpXG5leHBvcnQgY2xhc3MgRm9sZGVyVXRpbHMge1xuICAgIHByaXZhdGUgYXBwOiBBcHA7XG5cbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xuICAgICAgICB0aGlzLmFwcCA9IGFwcDtcbiAgICB9XG5cbiAgICBnZXRBbGxGb2xkZXJzKCk6IFRGb2xkZXJbXSB7XG4gICAgICAgIGNvbnN0IGZvbGRlcnM6IFRGb2xkZXJbXSA9IFtdO1xuICAgICAgICBjb25zdCBhYnN0cmFjdEZpbGVzID0gdGhpcy5hcHAudmF1bHQuZ2V0QWxsTG9hZGVkRmlsZXMoKTtcblxuICAgICAgICBhYnN0cmFjdEZpbGVzLmZvckVhY2goKGZpbGU6IFRBYnN0cmFjdEZpbGUpID0+IHtcbiAgICAgICAgICAgIGlmIChmaWxlIGluc3RhbmNlb2YgVEZvbGRlcikge1xuICAgICAgICAgICAgICAgIGZvbGRlcnMucHVzaChmaWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGZvbGRlcnM7XG4gICAgfVxuXG4gICAgZ2V0Rm9sZGVyUGF0aHMoKTogc3RyaW5nW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRBbGxGb2xkZXJzKCkubWFwKGZvbGRlciA9PiBmb2xkZXIucGF0aCk7XG4gICAgfVxuXG4gICAgZm9sZGVyRXhpc3RzKHBhdGg6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBmb2xkZXIgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgocGF0aCk7XG4gICAgICAgIHJldHVybiBmb2xkZXIgaW5zdGFuY2VvZiBURm9sZGVyO1xuICAgIH1cbn0iLCIvLyBAdmVzc2VsLXByb3RvY29sOlVsbHIgZ292ZXJuczpkaXNjb3ZlcnkgY29udGV4dDpDcm9zcy1wbGF0Zm9ybSBNQ1Agc2VydmVyIHByb2Nlc3MgZGV0ZWN0aW9uIGFuZCBtb25pdG9yaW5nXG4vLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbTm9kZS5qcyBjaGlsZF9wcm9jZXNzLCBTZXR0aW5nc1RhYiBkaXNwbGF5XVxuLy8gQHB1cnBvc2U6IERldGVjdCBydW5uaW5nIG1lZ2FtZW1fbWNwX3NlcnZlci5weSBpbnN0YW5jZXMgd2l0aCBwYXJlbnQgcHJvY2VzcyBpbmZvcm1hdGlvblxuLy8gQHJlc3VsdDogUmVhbC10aW1lIG1vbml0b3Jpbmcgb2YgTUNQIHNlcnZlciBpbnN0YW5jZXMgaW4gcGx1Z2luIFVJXG4vLyBAc2lnbmVkOiBDLkJqw7hyblxuXG5pbXBvcnQgeyBleGVjIH0gZnJvbSAnY2hpbGRfcHJvY2Vzcyc7XG5pbXBvcnQgeyBwcm9taXNpZnkgfSBmcm9tICd1dGlsJztcblxuY29uc3QgZXhlY0FzeW5jID0gcHJvbWlzaWZ5KGV4ZWMpO1xuXG5leHBvcnQgaW50ZXJmYWNlIE1DUFNlcnZlclByb2Nlc3Mge1xuICAgIHBpZDogc3RyaW5nO1xuICAgIHBhcmVudE5hbWU6IHN0cmluZztcbiAgICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgICBjb21tYW5kTGluZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIFByb2Nlc3NEZXRlY3Rpb24ge1xuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBQcm9jZXNzRGV0ZWN0aW9uO1xuXG4gICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBQcm9jZXNzRGV0ZWN0aW9uIHtcbiAgICAgICAgaWYgKCFQcm9jZXNzRGV0ZWN0aW9uLmluc3RhbmNlKSB7XG4gICAgICAgICAgICBQcm9jZXNzRGV0ZWN0aW9uLmluc3RhbmNlID0gbmV3IFByb2Nlc3NEZXRlY3Rpb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvY2Vzc0RldGVjdGlvbi5pbnN0YW5jZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgZ2V0TUNQU2VydmVyUHJvY2Vzc2VzKCk6IFByb21pc2U8TUNQU2VydmVyUHJvY2Vzc1tdPiB7XG4gICAgICAgIGNvbnN0IHBsYXRmb3JtID0gcHJvY2Vzcy5wbGF0Zm9ybTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHBsYXRmb3JtID09PSAnd2luMzInKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0V2luZG93c1Byb2Nlc3NlcygpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwbGF0Zm9ybSA9PT0gJ2RhcndpbicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXRNYWNQcm9jZXNzZXMoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0TGludXhQcm9jZXNzZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tQUk9DRVNTLURFVEVDVElPTl0gRmFpbGVkIHRvIGdldCBNQ1Agc2VydmVyIHByb2Nlc3NlczonLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGdldFdpbmRvd3NQcm9jZXNzZXMoKTogUHJvbWlzZTxNQ1BTZXJ2ZXJQcm9jZXNzW10+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFVzZSBsaXN0IGZvcm1hdCBmb3IgbW9yZSByZWxpYWJsZSBwYXJzaW5nXG4gICAgICAgICAgICBjb25zdCBweXRob25DbWQgPSBgd21pYyBwcm9jZXNzIHdoZXJlIFwibmFtZT0ncHl0aG9uLmV4ZScgYW5kIGNvbW1hbmRsaW5lIGxpa2UgJyVtZWdhbWVtX21jcF9zZXJ2ZXIucHklJ1wiIGdldCBQcm9jZXNzSWQsUGFyZW50UHJvY2Vzc0lkLENyZWF0aW9uRGF0ZSxDb21tYW5kTGluZSAvZm9ybWF0Omxpc3RgO1xuXG4gICAgICAgICAgICBjb25zdCB7IHN0ZG91dDogcHl0aG9uT3V0cHV0IH0gPSBhd2FpdCBleGVjQXN5bmMocHl0aG9uQ21kLCB7XG4gICAgICAgICAgICAgICAgc2hlbGw6ICdjbWQuZXhlJyxcbiAgICAgICAgICAgICAgICB3aW5kb3dzSGlkZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlbmNvZGluZzogJ3V0ZjgnXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gUGFyc2UgbGlzdCBmb3JtYXQgKGtleT12YWx1ZSBwYWlycykgLSBoYW5kbGUgV2luZG93cyBXTUlDIGRvdWJsZS1DUiBsaW5lIGVuZGluZ3NcbiAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NlczogTUNQU2VydmVyUHJvY2Vzc1tdID0gW107XG4gICAgICAgICAgICBjb25zdCBibG9ja3MgPSBweXRob25PdXRwdXQuc3BsaXQoLyhcXHJcXHJcXG4pezIsfS8pLmZpbHRlcihibG9jayA9PiBibG9jay50cmltKCkgJiYgIWJsb2NrLm1hdGNoKC9eKFxcclxcclxcbikrJC8pKTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBibG9jayBvZiBibG9ja3MpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9wczogYW55ID0ge307XG4gICAgICAgICAgICAgICAgYmxvY2suc3BsaXQoL1xcclxcclxcbi8pLmZvckVhY2gobGluZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBsaW5lcyB3aXRoID0gcHJvcGVybHksIGVzcGVjaWFsbHkgQ29tbWFuZExpbmUgd2hpY2ggaGFzIG11bHRpcGxlID1cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3BsaXRJbmRleCA9IGxpbmUuaW5kZXhPZignPScpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3BsaXRJbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGxpbmUuc3Vic3RyaW5nKDAsIHNwbGl0SW5kZXgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gbGluZS5zdWJzdHJpbmcoc3BsaXRJbmRleCArIDEpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkgJiYgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChwcm9wcy5Qcm9jZXNzSWQgJiYgcHJvcHMuUGFyZW50UHJvY2Vzc0lkICYmIHByb3BzLkNvbW1hbmRMaW5lPy5pbmNsdWRlcygnbWVnYW1lbV9tY3Bfc2VydmVyLnB5JykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHBhcmVudCBwcm9jZXNzIG5hbWVcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50TmFtZSA9IGF3YWl0IHRoaXMuZ2V0V2luZG93c1BhcmVudFByb2Nlc3NOYW1lKHByb3BzLlBhcmVudFByb2Nlc3NJZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRm9ybWF0IGNyZWF0aW9uIGRhdGVcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9ybWF0dGVkRGF0ZSA9IHRoaXMuZm9ybWF0V2luZG93c0RhdGUocHJvcHMuQ3JlYXRpb25EYXRlKTtcblxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBwaWQ6IHByb3BzLlByb2Nlc3NJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IGZvcm1hdHRlZERhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kTGluZTogcHJvcHMuQ29tbWFuZExpbmVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcHJvY2Vzc2VzO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignW1BST0NFU1MtREVURUNUSU9OXSBXaW5kb3dzIHByb2Nlc3MgZGV0ZWN0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGdldFdpbmRvd3NQYXJlbnRQcm9jZXNzTmFtZShwYXJlbnRQaWQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRDbWQgPSBgd21pYyBwcm9jZXNzIHdoZXJlIFwiUHJvY2Vzc0lkPSR7cGFyZW50UGlkfVwiIGdldCBOYW1lIC92YWx1ZWA7XG4gICAgICAgICAgICBjb25zdCB7IHN0ZG91dCB9ID0gYXdhaXQgZXhlY0FzeW5jKHBhcmVudENtZCwge1xuICAgICAgICAgICAgICAgIHNoZWxsOiAnY21kLmV4ZScsXG4gICAgICAgICAgICAgICAgd2luZG93c0hpZGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZW5jb2Rpbmc6ICd1dGY4J1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFBhcnNlIHRoZSBOYW1lPXZhbHVlIGZvcm1hdCBwcm9wZXJseVxuICAgICAgICAgICAgY29uc3QgbGluZXMgPSBzdGRvdXQuc3BsaXQoL1xccj9cXG4vKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNwbGl0SW5kZXggPSBsaW5lLmluZGV4T2YoJz0nKTtcbiAgICAgICAgICAgICAgICBpZiAoc3BsaXRJbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gbGluZS5zdWJzdHJpbmcoMCwgc3BsaXRJbmRleCkudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGxpbmUuc3Vic3RyaW5nKHNwbGl0SW5kZXggKyAxKS50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT09ICdOYW1lJyAmJiB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoJy5leGUnLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gJ1Vua25vd24nO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuICdVbmtub3duJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZm9ybWF0V2luZG93c0RhdGUod21pY0RhdGU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGlmICghd21pY0RhdGUgfHwgd21pY0RhdGUubGVuZ3RoIDwgMTQpIHtcbiAgICAgICAgICAgIHJldHVybiAnVW5rbm93bic7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV01JQyBkYXRlIGZvcm1hdDogMjAyNTA5MDIxNDI3MzYuMTIzNDU2KzAwMFxuICAgICAgICAgICAgY29uc3QgeWVhciA9IHdtaWNEYXRlLnN1YnN0cmluZygwLCA0KTtcbiAgICAgICAgICAgIGNvbnN0IG1vbnRoID0gd21pY0RhdGUuc3Vic3RyaW5nKDQsIDYpO1xuICAgICAgICAgICAgY29uc3QgZGF5ID0gd21pY0RhdGUuc3Vic3RyaW5nKDYsIDgpO1xuICAgICAgICAgICAgY29uc3QgaG91ciA9IHdtaWNEYXRlLnN1YnN0cmluZyg4LCAxMCk7XG4gICAgICAgICAgICBjb25zdCBtaW51dGUgPSB3bWljRGF0ZS5zdWJzdHJpbmcoMTAsIDEyKTtcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZCA9IHdtaWNEYXRlLnN1YnN0cmluZygxMiwgMTQpO1xuXG4gICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoYCR7eWVhcn0tJHttb250aH0tJHtkYXl9VCR7aG91cn06JHttaW51dGV9OiR7c2Vjb25kfWApO1xuICAgICAgICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVTdHJpbmcoJ2VuLVVTJywge1xuICAgICAgICAgICAgICAgIG1vbnRoOiAnbnVtZXJpYycsXG4gICAgICAgICAgICAgICAgZGF5OiAnbnVtZXJpYycsXG4gICAgICAgICAgICAgICAgeWVhcjogJ251bWVyaWMnLFxuICAgICAgICAgICAgICAgIGhvdXI6ICdudW1lcmljJyxcbiAgICAgICAgICAgICAgICBtaW51dGU6ICcyLWRpZ2l0JyxcbiAgICAgICAgICAgICAgICBzZWNvbmQ6ICcyLWRpZ2l0JyxcbiAgICAgICAgICAgICAgICBob3VyMTI6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHdtaWNEYXRlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBnZXRNYWNQcm9jZXNzZXMoKTogUHJvbWlzZTxNQ1BTZXJ2ZXJQcm9jZXNzW10+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEdldCBQeXRob24gcHJvY2Vzc2VzIHdpdGggbWVnYW1lbV9tY3Bfc2VydmVyLnB5XG4gICAgICAgICAgICBjb25zdCBjbWQgPSBgcHMgYXV4IHwgZ3JlcCBtZWdhbWVtX21jcF9zZXJ2ZXIucHkgfCBncmVwIC12IGdyZXBgO1xuICAgICAgICAgICAgY29uc3QgeyBzdGRvdXQgfSA9IGF3YWl0IGV4ZWNBc3luYyhjbWQpO1xuXG4gICAgICAgICAgICBjb25zdCBsaW5lcyA9IHN0ZG91dC5zcGxpdCgnXFxuJykuZmlsdGVyKGxpbmUgPT4gbGluZS50cmltKCkpO1xuICAgICAgICAgICAgY29uc3QgcHJvY2Vzc2VzOiBNQ1BTZXJ2ZXJQcm9jZXNzW10gPSBbXTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFydHMgPSBsaW5lLnRyaW0oKS5zcGxpdCgvXFxzKy8pO1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPj0gMTEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGlkID0gcGFydHNbMV07XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHBhcmVudCBwcm9jZXNzIGluZm9cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50SW5mbyA9IGF3YWl0IHRoaXMuZ2V0TWFjUGFyZW50SW5mbyhwaWQpO1xuXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3Nlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudE5hbWU6IHBhcmVudEluZm8ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogcGFyZW50SW5mby5zdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kTGluZTogcGFydHMuc2xpY2UoMTApLmpvaW4oJyAnKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBwcm9jZXNzZXM7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbUFJPQ0VTUy1ERVRFQ1RJT05dIE1hYyBwcm9jZXNzIGRldGVjdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBnZXRNYWNQYXJlbnRJbmZvKHBpZDogc3RyaW5nKTogUHJvbWlzZTx7bmFtZTogc3RyaW5nLCBzdGFydFRpbWU6IHN0cmluZ30+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEdldCBwYXJlbnQgUElEIGFuZCBzdGFydCB0aW1lXG4gICAgICAgICAgICBjb25zdCB7IHN0ZG91dDogcGFyZW50T3V0cHV0IH0gPSBhd2FpdCBleGVjQXN5bmMoYHBzIC1wICR7cGlkfSAtbyBwcGlkPSxsc3RhcnQ9YCk7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRMaW5lID0gcGFyZW50T3V0cHV0LnRyaW0oKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gcGFyZW50TGluZS5zcGxpdCgvXFxzKy8pO1xuXG4gICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID49IDYpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRQaWQgPSBwYXJ0c1swXTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBwYXJ0cy5zbGljZSgxKS5qb2luKCcgJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBHZXQgcGFyZW50IHByb2Nlc3MgbmFtZVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgc3Rkb3V0OiBuYW1lT3V0cHV0IH0gPSBhd2FpdCBleGVjQXN5bmMoYHBzIC1wICR7cGFyZW50UGlkfSAtbyBjb21tPWApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudE5hbWUgPSBuYW1lT3V0cHV0LnRyaW0oKS5yZXBsYWNlKC9eLipcXC8vLCAnJyk7IC8vIFJlbW92ZSBwYXRoLCBrZWVwIGp1c3QgZXhlY3V0YWJsZSBuYW1lXG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBwYXJlbnROYW1lIHx8ICdVbmtub3duJyxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBuZXcgRGF0ZShzdGFydFRpbWUpLnRvTG9jYWxlU3RyaW5nKCdlbi1VUycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoOiAnbnVtZXJpYycsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXk6ICdudW1lcmljJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHllYXI6ICdudW1lcmljJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvdXI6ICdudW1lcmljJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbnV0ZTogJzItZGlnaXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kOiAnMi1kaWdpdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBob3VyMTI6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4geyBuYW1lOiAnVW5rbm93bicsIHN0YXJ0VGltZTogJ1Vua25vd24nIH07XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4geyBuYW1lOiAnVW5rbm93bicsIHN0YXJ0VGltZTogJ1Vua25vd24nIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGdldExpbnV4UHJvY2Vzc2VzKCk6IFByb21pc2U8TUNQU2VydmVyUHJvY2Vzc1tdPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBTaW1pbGFyIHRvIE1hYyBidXQgd2l0aCBkaWZmZXJlbnQgcHMgb3B0aW9uc1xuICAgICAgICAgICAgY29uc3QgY21kID0gYHBzIGF1eCB8IGdyZXAgbWVnYW1lbV9tY3Bfc2VydmVyLnB5IHwgZ3JlcCAtdiBncmVwYDtcbiAgICAgICAgICAgIGNvbnN0IHsgc3Rkb3V0IH0gPSBhd2FpdCBleGVjQXN5bmMoY21kKTtcblxuICAgICAgICAgICAgY29uc3QgbGluZXMgPSBzdGRvdXQuc3BsaXQoJ1xcbicpLmZpbHRlcihsaW5lID0+IGxpbmUudHJpbSgpKTtcbiAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NlczogTUNQU2VydmVyUHJvY2Vzc1tdID0gW107XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gbGluZS50cmltKCkuc3BsaXQoL1xccysvKTtcbiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID49IDExKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBpZCA9IHBhcnRzWzFdO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCBwYXJlbnQgcHJvY2VzcyBpbmZvXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudEluZm8gPSBhd2FpdCB0aGlzLmdldExpbnV4UGFyZW50SW5mbyhwaWQpO1xuXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3Nlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudE5hbWU6IHBhcmVudEluZm8ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogcGFyZW50SW5mby5zdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kTGluZTogcGFydHMuc2xpY2UoMTApLmpvaW4oJyAnKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBwcm9jZXNzZXM7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbUFJPQ0VTUy1ERVRFQ1RJT05dIExpbnV4IHByb2Nlc3MgZGV0ZWN0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGdldExpbnV4UGFyZW50SW5mbyhwaWQ6IHN0cmluZyk6IFByb21pc2U8e25hbWU6IHN0cmluZywgc3RhcnRUaW1lOiBzdHJpbmd9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBHZXQgcGFyZW50IFBJRCBhbmQgc3RhcnQgdGltZVxuICAgICAgICAgICAgY29uc3QgeyBzdGRvdXQ6IHBhcmVudE91dHB1dCB9ID0gYXdhaXQgZXhlY0FzeW5jKGBwcyAtcCAke3BpZH0gLW8gcHBpZD0sbHN0YXJ0PWApO1xuICAgICAgICAgICAgY29uc3QgcGFyZW50TGluZSA9IHBhcmVudE91dHB1dC50cmltKCk7XG4gICAgICAgICAgICBjb25zdCBwYXJ0cyA9IHBhcmVudExpbmUuc3BsaXQoL1xccysvKTtcblxuICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA+PSA2KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50UGlkID0gcGFydHNbMF07XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGFydHMuc2xpY2UoMSkuam9pbignICcpO1xuXG4gICAgICAgICAgICAgICAgLy8gR2V0IHBhcmVudCBwcm9jZXNzIG5hbWVcbiAgICAgICAgICAgICAgICBjb25zdCB7IHN0ZG91dDogbmFtZU91dHB1dCB9ID0gYXdhaXQgZXhlY0FzeW5jKGBwcyAtcCAke3BhcmVudFBpZH0gLW8gY29tbT1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnROYW1lID0gbmFtZU91dHB1dC50cmltKCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBwYXJlbnROYW1lIHx8ICdVbmtub3duJyxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBuZXcgRGF0ZShzdGFydFRpbWUpLnRvTG9jYWxlU3RyaW5nKCdlbi1VUycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoOiAnbnVtZXJpYycsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXk6ICdudW1lcmljJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHllYXI6ICdudW1lcmljJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvdXI6ICdudW1lcmljJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbnV0ZTogJzItZGlnaXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kOiAnMi1kaWdpdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBob3VyMTI6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4geyBuYW1lOiAnVW5rbm93bicsIHN0YXJ0VGltZTogJ1Vua25vd24nIH07XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4geyBuYW1lOiAnVW5rbm93bicsIHN0YXJ0VGltZTogJ1Vua25vd24nIH07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIEB2ZXNzZWwtY2xvc2U6VWxsciIsIi8vIEBAdmVzc2VsLXByb3RvY29sOlVsbHIgZ292ZXJuczppbnRlZ3JhdGlvbiBjb250ZXh0Ok9sbGFtYSBtb2RlbCBhdmFpbGFiaWxpdHkgYW5kIGRvd25sb2FkIG1hbmFnZW1lbnRcbmltcG9ydCB7IHJlcXVlc3RVcmwgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBHcmFwaGl0aUxvZ2dlciB9IGZyb20gJy4uL3V0aWxzL0xvZ2dlcic7XG5cbi8vIFBsYXRmb3JtIGRldGVjdGlvbiBmb3IgV2luZG93cy1zcGVjaWZpYyBzZXJ2aWNlIHJlY292ZXJ5XG5jb25zdCBpc1dpbmRvd3MgPSBwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInIHx8IG5hdmlnYXRvci51c2VyQWdlbnQuaW5jbHVkZXMoJ1dpbmRvd3MnKTtcblxuaW50ZXJmYWNlIE9sbGFtYU1vZGVsIHtcblx0bmFtZTogc3RyaW5nO1xuXHRhdmFpbGFibGU6IGJvb2xlYW47XG5cdHNpemU/OiBzdHJpbmc7XG5cdG1vZGlmaWVkX2F0Pzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgT2xsYW1hRG93bmxvYWRQcm9ncmVzcyB7XG5cdHN0YXR1czogc3RyaW5nO1xuXHRkaWdlc3Q/OiBzdHJpbmc7XG5cdHRvdGFsPzogbnVtYmVyO1xuXHRjb21wbGV0ZWQ/OiBudW1iZXI7XG5cdGVycm9yPzogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgT2xsYW1hU2VydmljZSB7XG5cdHByaXZhdGUgbG9nZ2VyOiBHcmFwaGl0aUxvZ2dlcjtcblx0cHJpdmF0ZSBiYXNlVXJsOiBzdHJpbmc7XG5cdHByaXZhdGUgZG93bmxvYWRDYWxsYmFja3M6IE1hcDxzdHJpbmcsIChwcm9ncmVzczogT2xsYW1hRG93bmxvYWRQcm9ncmVzcykgPT4gdm9pZD4gPSBuZXcgTWFwKCk7XG5cblx0Ly8gQEB2ZXNzZWwtcHJvdG9jb2w6RnJpZ2cgZ292ZXJuczpvcHRpbWl6YXRpb24gY29udGV4dDpDYWNoZSBmcmVxdWVudGx5LXJlcXVlc3RlZCBtb2RlbCBsaXN0cyB0byByZWR1Y2UgQVBJIGNhbGxzXG5cdHByaXZhdGUgbW9kZWxDYWNoZToge1xuXHRcdG1vZGVsczogc3RyaW5nW107XG5cdFx0dGltZXN0YW1wOiBudW1iZXI7XG5cdFx0dHRsOiBudW1iZXI7XG5cdH0gPSB7XG5cdFx0bW9kZWxzOiBbXSxcblx0XHR0aW1lc3RhbXA6IDAsXG5cdFx0dHRsOiAzMDAwMCAvLyAzMCBzZWNvbmRzIGNhY2hlIFRUTFxuXHR9O1xuXG5cdC8vIEBAdmVzc2VsLXByb3RvY29sOkZyaWdnIGdvdmVybnM6b3B0aW1pemF0aW9uIGNvbnRleHQ6UHJldmVudCByZWR1bmRhbnQgc2ltdWx0YW5lb3VzIEFQSSBjYWxsc1xuXHRwcml2YXRlIHBlbmRpbmdNb2RlbFJlcXVlc3Q6IFByb21pc2U8c3RyaW5nW10+IHwgbnVsbCA9IG51bGw7XG5cblx0Y29uc3RydWN0b3IoYmFzZVVybDogc3RyaW5nID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MTE0MzQnLCBsb2dnZXI6IEdyYXBoaXRpTG9nZ2VyKSB7XG5cdFx0dGhpcy5iYXNlVXJsID0gYmFzZVVybC5yZXBsYWNlKC9cXC8kLywgJycpOyAvLyBSZW1vdmUgdHJhaWxpbmcgc2xhc2hcblx0XHR0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGVjayBpZiBPbGxhbWEgc2VydmVyIGlzIHJ1bm5pbmdcblx0ICogQXR0ZW1wdHMgV2luZG93cyBzZXJ2aWNlIHJlY292ZXJ5IGlmIGRldGVjdGlvbiBmYWlsc1xuXHQgKi9cblx0YXN5bmMgaXNTZXJ2ZXJSdW5uaW5nKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3RVcmwoe1xuXHRcdFx0XHR1cmw6IGAke3RoaXMuYmFzZVVybH0vYXBpL3ZlcnNpb25gLFxuXHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxuXHRcdFx0XHRoZWFkZXJzOiB7XG5cdFx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiByZXNwb25zZS5zdGF0dXMgPT09IDIwMDtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5sb2dnZXIuZGVidWcoJ1tPTExBTUFdIFNlcnZlciBub3QgcnVubmluZywgYXR0ZW1wdGluZyByZWNvdmVyeScsIHsgZXJyb3IgfSk7XG5cblx0XHRcdC8vIEF0dGVtcHQgc2VydmljZSByZWNvdmVyeSBvbiBXaW5kb3dzXG5cdFx0XHRjb25zdCByZWNvdmVyeUF0dGVtcHRlZCA9IGF3YWl0IHRoaXMuYXR0ZW1wdFNlcnZpY2VSZWNvdmVyeSgpO1xuXHRcdFx0aWYgKHJlY292ZXJ5QXR0ZW1wdGVkKSB7XG5cdFx0XHRcdC8vIFdhaXQgYSBtb21lbnQgZm9yIHNlcnZpY2UgdG8gc3RhcnQsIHRoZW4gcmV0cnlcblx0XHRcdFx0YXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDIwMDApKTtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRjb25zdCByZXRyeVJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdFVybCh7XG5cdFx0XHRcdFx0XHR1cmw6IGAke3RoaXMuYmFzZVVybH0vYXBpL3ZlcnNpb25gLFxuXHRcdFx0XHRcdFx0bWV0aG9kOiAnR0VUJyxcblx0XHRcdFx0XHRcdGhlYWRlcnM6IHtcblx0XHRcdFx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdGlmIChyZXRyeVJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmxvZ2dlci5pbmZvKCdbT0xMQU1BXSBTZXJ2aWNlIHJlY292ZXJ5IHN1Y2Nlc3NmdWwnKTtcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBjYXRjaCAocmV0cnlFcnJvcikge1xuXHRcdFx0XHRcdHRoaXMubG9nZ2VyLmRlYnVnKCdbT0xMQU1BXSBSZXRyeSBhZnRlciBzZXJ2aWNlIHJlY292ZXJ5IGZhaWxlZCcsIHsgcmV0cnlFcnJvciB9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEdldCBsaXN0IG9mIGF2YWlsYWJsZSBtb2RlbHMgZnJvbSBPbGxhbWEgc2VydmVyIHdpdGggY2FjaGluZ1xuXHQgKiBOb3JtYWxpemVzIG1vZGVsIG5hbWVzIGJ5IHJlbW92aW5nIHZlcnNpb24gdGFncyAoZS5nLiwgXCI6bGF0ZXN0XCIpXG5cdCAqIEF0dGVtcHRzIFdpbmRvd3Mgc2VydmljZSByZWNvdmVyeSBpZiBpbml0aWFsIHJlcXVlc3QgZmFpbHNcblx0ICogQ2FjaGVzIHJlc3VsdHMgZm9yIDMwIHNlY29uZHMgdG8gcHJldmVudCBleGNlc3NpdmUgQVBJIGNhbGxzXG5cdCAqL1xuXHRhc3luYyBnZXRBdmFpbGFibGVNb2RlbHMoZm9yY2VSZWZyZXNoID0gZmFsc2UpOiBQcm9taXNlPHN0cmluZ1tdPiB7XG5cdFx0Ly8gQ2hlY2sgY2FjaGUgZmlyc3QgdW5sZXNzIGZvcmNlIHJlZnJlc2ggaXMgcmVxdWVzdGVkXG5cdFx0Y29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblx0XHRpZiAoIWZvcmNlUmVmcmVzaCAmJlxuXHRcdCAgICB0aGlzLm1vZGVsQ2FjaGUubW9kZWxzLmxlbmd0aCA+IDAgJiZcblx0XHQgICAgKG5vdyAtIHRoaXMubW9kZWxDYWNoZS50aW1lc3RhbXApIDwgdGhpcy5tb2RlbENhY2hlLnR0bCkge1xuXHRcdFx0cmV0dXJuIHRoaXMubW9kZWxDYWNoZS5tb2RlbHM7XG5cdFx0fVxuXG5cdFx0Ly8gSWYgdGhlcmUncyBhbHJlYWR5IGEgcGVuZGluZyByZXF1ZXN0LCByZXR1cm4gaXQgdG8gcHJldmVudCBkdXBsaWNhdGUgY2FsbHNcblx0XHRpZiAodGhpcy5wZW5kaW5nTW9kZWxSZXF1ZXN0ICYmICFmb3JjZVJlZnJlc2gpIHtcblx0XHRcdHJldHVybiB0aGlzLnBlbmRpbmdNb2RlbFJlcXVlc3Q7XG5cdFx0fVxuXG5cdFx0Ly8gQ3JlYXRlIGFuZCBzdG9yZSB0aGUgcGVuZGluZyByZXF1ZXN0IHByb21pc2Vcblx0XHR0aGlzLnBlbmRpbmdNb2RlbFJlcXVlc3QgPSB0aGlzLl9mZXRjaE1vZGVsc0Zyb21TZXJ2ZXIoKTtcblxuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBtb2RlbHMgPSBhd2FpdCB0aGlzLnBlbmRpbmdNb2RlbFJlcXVlc3Q7XG5cdFx0XHRyZXR1cm4gbW9kZWxzO1xuXHRcdH0gZmluYWxseSB7XG5cdFx0XHR0aGlzLnBlbmRpbmdNb2RlbFJlcXVlc3QgPSBudWxsO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHRcdCogSW50ZXJuYWwgbWV0aG9kIHRvIGZldGNoIG1vZGVscyBmcm9tIHNlcnZlclxuXHRcdCovXG5cdHByaXZhdGUgYXN5bmMgX2ZldGNoTW9kZWxzRnJvbVNlcnZlcigpOiBQcm9taXNlPHN0cmluZ1tdPiB7XG5cdFx0Y29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblxuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3RVcmwoe1xuXHRcdFx0XHR1cmw6IGAke3RoaXMuYmFzZVVybH0vYXBpL3RhZ3NgLFxuXHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxuXHRcdFx0XHRoZWFkZXJzOiB7XG5cdFx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0aWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIG1vZGVsczogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGRhdGEgPSByZXNwb25zZS5qc29uO1xuXHRcdFx0Y29uc3QgcmF3TW9kZWxzID0gZGF0YS5tb2RlbHMgfHwgW107XG5cdFx0XHRjb25zdCBmdWxsTW9kZWxOYW1lcyA9IHJhd01vZGVscy5tYXAoKG1vZGVsOiBhbnkpID0+IG1vZGVsLm5hbWUpO1xuXG5cdFx0XHQvLyBPbmx5IGxvZyB3aGVuIGFjdHVhbGx5IGZldGNoaW5nIGZyb20gc2VydmVyIChub3QgY2FjaGVkKSAtIHNpbmdsZSBsaW5lIG9ubHlcblx0XHRcdHRoaXMubG9nZ2VyLmRlYnVnKCdbT0xMQU1BXSBGZXRjaGVkIGZyZXNoIG1vZGVsIGxpc3QgZnJvbSBzZXJ2ZXInLCB7XG5cdFx0XHRcdHJhd0NvdW50OiBmdWxsTW9kZWxOYW1lcy5sZW5ndGgsXG5cdFx0XHRcdG5vcm1hbGl6ZWRDb3VudDogZnVsbE1vZGVsTmFtZXMubGVuZ3RoLFxuXHRcdFx0XHRzZXJ2ZXJVcmw6IHRoaXMuYmFzZVVybFxuXHRcdFx0fSk7XG5cblx0XHRcdC8vIFVwZGF0ZSBjYWNoZSB3aXRoIGZ1bGwgbW9kZWwgbmFtZXNcblx0XHRcdHRoaXMubW9kZWxDYWNoZSA9IHtcblx0XHRcdFx0bW9kZWxzOiBmdWxsTW9kZWxOYW1lcyxcblx0XHRcdFx0dGltZXN0YW1wOiBub3csXG5cdFx0XHRcdHR0bDogdGhpcy5tb2RlbENhY2hlLnR0bFxuXHRcdFx0fTtcblxuXHRcdFx0cmV0dXJuIGZ1bGxNb2RlbE5hbWVzO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHQvLyBBdHRlbXB0IHNlcnZpY2UgcmVjb3Zlcnkgb24gV2luZG93c1xuXHRcdFx0Y29uc3QgcmVjb3ZlcnlBdHRlbXB0ZWQgPSBhd2FpdCB0aGlzLmF0dGVtcHRTZXJ2aWNlUmVjb3ZlcnkoKTtcblx0XHRcdGlmIChyZWNvdmVyeUF0dGVtcHRlZCkge1xuXHRcdFx0XHQvLyBXYWl0IGEgbW9tZW50IGZvciBzZXJ2aWNlIHRvIHN0YXJ0LCB0aGVuIHJldHJ5XG5cdFx0XHRcdGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAyMDAwKSk7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Y29uc3QgcmV0cnlSZXNwb25zZSA9IGF3YWl0IHJlcXVlc3RVcmwoe1xuXHRcdFx0XHRcdFx0dXJsOiBgJHt0aGlzLmJhc2VVcmx9L2FwaS90YWdzYCxcblx0XHRcdFx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHRcdFx0XHRoZWFkZXJzOiB7XG5cdFx0XHRcdFx0XHRcdCdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdGlmIChyZXRyeVJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XG5cdFx0XHRcdFx0XHRjb25zdCByZXRyeURhdGEgPSByZXRyeVJlc3BvbnNlLmpzb247XG5cdFx0XHRcdFx0XHRjb25zdCByZXRyeVJhd01vZGVscyA9IHJldHJ5RGF0YS5tb2RlbHMgfHwgW107XG5cdFx0XHRcdFx0XHRjb25zdCByZXRyeUZ1bGxOYW1lcyA9IHJldHJ5UmF3TW9kZWxzLm1hcCgobW9kZWw6IGFueSkgPT4gbW9kZWwubmFtZSk7XG5cblx0XHRcdFx0XHRcdC8vIFVwZGF0ZSBjYWNoZSBhZnRlciBzdWNjZXNzZnVsIHJlY292ZXJ5XG5cdFx0XHRcdFx0XHR0aGlzLm1vZGVsQ2FjaGUgPSB7XG5cdFx0XHRcdFx0XHRcdG1vZGVsczogcmV0cnlGdWxsTmFtZXMsXG5cdFx0XHRcdFx0XHRcdHRpbWVzdGFtcDogbm93LFxuXHRcdFx0XHRcdFx0XHR0dGw6IHRoaXMubW9kZWxDYWNoZS50dGxcblx0XHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHRcdHJldHVybiByZXRyeUZ1bGxOYW1lcztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gY2F0Y2ggKHJldHJ5RXJyb3IpIHtcblx0XHRcdFx0XHQvLyBTaWxlbnQgcmV0cnkgZmFpbHVyZSAtIHJlY292ZXJ5IHdhcyBhdHRlbXB0ZWRcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gW107XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEdldCBlbmhhbmNlZCBtb2RlbCBsaXN0IHdpdGggYXZhaWxhYmlsaXR5IHN0YXR1cyBmb3IgZW1iZWRkaW5nIG1vZGVscy5cblx0ICogU291cmNlIG9mIHRydXRoIGZvciByZXF1ZXN0ZWQgbW9kZWwgbmFtZXMgc2hvdWxkIGNvbWUgZnJvbSBoeWRyYXRlZCBwbHVnaW4uc2V0dGluZ3MgKGRhdGEuanNvbikuXG5cdCAqIElmIG5vIG1vZGVsTmFtZXMgcHJvdmlkZWQsIGZhbGxzIGJhY2sgdG8gYWxsIGF2YWlsYWJsZSBtb2RlbHMgcmVwb3J0ZWQgYnkgT2xsYW1hLlxuXHQgKi9cblx0YXN5bmMgZ2V0RW1iZWRkaW5nTW9kZWxzV2l0aFN0YXR1cyhtb2RlbE5hbWVzPzogc3RyaW5nW10sIGZvcmNlUmVmcmVzaCA9IGZhbHNlKTogUHJvbWlzZTxPbGxhbWFNb2RlbFtdPiB7XG5cdFx0Ly8gR2V0IG1vZGVsIGxpc3QgLSBub3cgY29udGFpbnMgZnVsbCBtb2RlbCBuYW1lcyB3aXRoIHZlcnNpb24gdGFnc1xuXHRcdGNvbnN0IGF2YWlsYWJsZU1vZGVscyA9IGF3YWl0IHRoaXMuZ2V0QXZhaWxhYmxlTW9kZWxzKGZvcmNlUmVmcmVzaCk7XG5cblx0XHRjb25zdCByZXF1ZXN0ZWRNb2RlbHMgPSBBcnJheS5pc0FycmF5KG1vZGVsTmFtZXMpICYmIG1vZGVsTmFtZXMubGVuZ3RoID4gMFxuXHRcdFx0PyBtb2RlbE5hbWVzXG5cdFx0XHQ6IFsuLi5hdmFpbGFibGVNb2RlbHNdO1xuXG5cdFx0Ly8gU2ltcGxpZmllZCBsb2dnaW5nIC0gb25seSBsb2cgc3VtbWFyeSwgbm90IGRldGFpbGVkIG1vZGVsIGxpc3RzXG5cblx0XHRjb25zdCBtb2RlbHNXaXRoU3RhdHVzID0gcmVxdWVzdGVkTW9kZWxzLm1hcCgobW9kZWxOYW1lKSA9PiB7XG5cdFx0XHQvLyBFeGFjdCBtYXRjaCBvbmx5IC0gbm8gdmVyc2lvbiBjb21wYXRpYmlsaXR5XG5cdFx0XHRjb25zdCBhdmFpbGFibGUgPSBhdmFpbGFibGVNb2RlbHMuaW5jbHVkZXMobW9kZWxOYW1lKTtcblxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0bmFtZTogbW9kZWxOYW1lLFxuXHRcdFx0XHRhdmFpbGFibGU6IGF2YWlsYWJsZVxuXHRcdFx0fSBhcyBPbGxhbWFNb2RlbDtcblx0XHR9KTtcblxuXHRcdC8vIExvZyBzcGVjaWZpYyBzdGF0dXMgZm9yIG5vbWljLWVtYmVkLXRleHQgaWYgcmVxdWVzdGVkXG5cdFx0Y29uc3Qgbm9taWNNb2RlbCA9IG1vZGVsc1dpdGhTdGF0dXMuZmluZChtID0+XG5cdFx0XHRtLm5hbWUgPT09ICdub21pYy1lbWJlZC10ZXh0JyB8fCBtLm5hbWUuc3RhcnRzV2l0aCgnbm9taWMtZW1iZWQtdGV4dDonKVxuXHRcdCk7XG5cdFx0aWYgKG5vbWljTW9kZWwpIHtcblx0XHRcdHRoaXMubG9nZ2VyLmluZm8oYFtPTExBTUFdIG5vbWljLWVtYmVkLXRleHQgYXZhaWxhYmlsaXR5OiAke25vbWljTW9kZWwuYXZhaWxhYmxlfWApO1xuXHRcdH1cblxuXHRcdHJldHVybiBtb2RlbHNXaXRoU3RhdHVzO1xuXHR9XG5cblx0LyoqXG5cdCAqIERvd25sb2FkIGEgbW9kZWwgd2l0aCBwcm9ncmVzcyB0cmFja2luZ1xuXHQgKi9cblx0YXN5bmMgZG93bmxvYWRNb2RlbChcblx0XHRtb2RlbE5hbWU6IHN0cmluZyxcblx0XHRwcm9ncmVzc0NhbGxiYWNrPzogKHByb2dyZXNzOiBPbGxhbWFEb3dubG9hZFByb2dyZXNzKSA9PiB2b2lkXG5cdCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRcdHRyeSB7XG5cdFx0XHRpZiAocHJvZ3Jlc3NDYWxsYmFjaykge1xuXHRcdFx0XHR0aGlzLmRvd25sb2FkQ2FsbGJhY2tzLnNldChtb2RlbE5hbWUsIHByb2dyZXNzQ2FsbGJhY2spO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuYmFzZVVybH0vYXBpL3B1bGxgLCB7XG5cdFx0XHRcdG1ldGhvZDogJ1BPU1QnLFxuXHRcdFx0XHRoZWFkZXJzOiB7XG5cdFx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWU6IG1vZGVsTmFtZSB9KVxuXHRcdFx0fSk7XG5cblx0XHRcdGlmICghcmVzcG9uc2Uub2spIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBEb3dubG9hZCByZXF1ZXN0IGZhaWxlZDogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHJlYWRlciA9IHJlc3BvbnNlLmJvZHk/LmdldFJlYWRlcigpO1xuXHRcdFx0aWYgKCFyZWFkZXIpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdObyByZXNwb25zZSBib2R5IHJlYWRlciBhdmFpbGFibGUnKTtcblx0XHRcdH1cblxuXHRcdFx0bGV0IGRvd25sb2FkQ29tcGxldGUgPSBmYWxzZTtcblx0XHRcdGxldCBoYXNFcnJvciA9IGZhbHNlO1xuXG5cdFx0XHR3aGlsZSAoIWRvd25sb2FkQ29tcGxldGUpIHtcblx0XHRcdFx0Y29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcblxuXHRcdFx0XHRpZiAoZG9uZSkge1xuXHRcdFx0XHRcdGRvd25sb2FkQ29tcGxldGUgPSB0cnVlO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3QgY2h1bmsgPSBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUodmFsdWUpO1xuXHRcdFx0XHRjb25zdCBsaW5lcyA9IGNodW5rLnNwbGl0KCdcXG4nKS5maWx0ZXIobGluZSA9PiBsaW5lLnRyaW0oKSk7XG5cblx0XHRcdFx0Zm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdGNvbnN0IHByb2dyZXNzID0gSlNPTi5wYXJzZShsaW5lKSBhcyBPbGxhbWFEb3dubG9hZFByb2dyZXNzO1xuXG5cdFx0XHRcdFx0XHRpZiAocHJvZ3Jlc3NDYWxsYmFjaykge1xuXHRcdFx0XHRcdFx0XHRwcm9ncmVzc0NhbGxiYWNrKHByb2dyZXNzKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gQEB2ZXNzZWwtcHJvdG9jb2w6SGVpbWRhbGwgZ292ZXJuczp2YWxpZGF0aW9uIGNvbnRleHQ6UHJvcGVyIGVycm9yIGRldGVjdGlvbiBmb3IgT2xsYW1hIGRvd25sb2FkIHJlc3BvbnNlc1xuXHRcdFx0XHRcdFx0Ly8gQ2hlY2sgZm9yIGV4cGxpY2l0IGVycm9yIGluIHJlc3BvbnNlXG5cdFx0XHRcdFx0XHRpZiAocHJvZ3Jlc3MuZXJyb3IpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5sb2dnZXIuZXJyb3IoJ1tPTExBTUFdIERvd25sb2FkIGVycm9yIGRldGVjdGVkJywgeyBlcnJvcjogcHJvZ3Jlc3MuZXJyb3IsIG1vZGVsTmFtZSB9KTtcblx0XHRcdFx0XHRcdFx0aGFzRXJyb3IgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYERvd25sb2FkIGZhaWxlZDogJHtwcm9ncmVzcy5lcnJvcn1gKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gQ2hlY2sgaWYgZG93bmxvYWQgaXMgY29tcGxldGUgLSBvbmx5IGFjY2VwdCBleHBsaWNpdCBzdWNjZXNzIHN0YXR1c1xuXHRcdFx0XHRcdFx0aWYgKHByb2dyZXNzLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XG5cdFx0XHRcdFx0XHRcdGRvd25sb2FkQ29tcGxldGUgPSB0cnVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gY2F0Y2ggKHBhcnNlRXJyb3IpIHtcblx0XHRcdFx0XHRcdC8vIENoZWNrIGlmIHRoaXMgaXMgb3VyIGludGVudGlvbmFsIGVycm9yIHRocm93IG9yIGp1c3QgSlNPTiBwYXJzZSBlcnJvclxuXHRcdFx0XHRcdFx0aWYgKHBhcnNlRXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBwYXJzZUVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ0Rvd25sb2FkIGZhaWxlZDonKSkge1xuXHRcdFx0XHRcdFx0XHQvLyBUaGlzIGlzIG91ciBpbnRlbnRpb25hbCBlcnJvciwgcmUtdGhyb3cgdG8gZXhpdCBjb21wbGV0ZWx5XG5cdFx0XHRcdFx0XHRcdHRocm93IHBhcnNlRXJyb3I7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHQvLyBPdGhlcndpc2UgaWdub3JlIEpTT04gcGFyc2UgZXJyb3JzIGZvciBub24tSlNPTiBsaW5lc1xuXHRcdFx0XHRcdFx0dGhpcy5sb2dnZXIuZGVidWcoJ1tPTExBTUFdIE5vbi1KU09OIHByb2dyZXNzIGxpbmUnLCB7IGxpbmUgfSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIE9ubHkgbG9nIHN1Y2Nlc3MgaWYgdGhlcmUgd2FzIG5vIGVycm9yXG5cdFx0XHR0aGlzLmRvd25sb2FkQ2FsbGJhY2tzLmRlbGV0ZShtb2RlbE5hbWUpO1xuXHRcdFx0aWYgKCFoYXNFcnJvcikge1xuXHRcdFx0XHR0aGlzLmxvZ2dlci5pbmZvKGBbT0xMQU1BXSBNb2RlbCAke21vZGVsTmFtZX0gZG93bmxvYWRlZCBzdWNjZXNzZnVsbHlgKTtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLmxvZ2dlci5lcnJvcihgW09MTEFNQV0gTW9kZWwgJHttb2RlbE5hbWV9IGRvd25sb2FkIGZhaWxlZCBkdWUgdG8gZGV0ZWN0ZWQgZXJyb3JzYCk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLmxvZ2dlci5lcnJvcignW09MTEFNQV0gRmFpbGVkIHRvIGRvd25sb2FkIG1vZGVsJywgeyBtb2RlbE5hbWUsIGVycm9yIH0pO1xuXHRcdFx0dGhpcy5kb3dubG9hZENhbGxiYWNrcy5kZWxldGUobW9kZWxOYW1lKTtcblxuXHRcdFx0aWYgKHByb2dyZXNzQ2FsbGJhY2spIHtcblx0XHRcdFx0cHJvZ3Jlc3NDYWxsYmFjayh7XG5cdFx0XHRcdFx0c3RhdHVzOiBgZXJyb3I6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHRcdCogQ2xlYXIgdGhlIG1vZGVsIGNhY2hlIHRvIGZvcmNlIGZyZXNoIGRhdGEgb24gbmV4dCByZXF1ZXN0XG5cdFx0KiBVc2VmdWwgYWZ0ZXIgZG93bmxvYWRpbmcgbmV3IG1vZGVscyBvciB3aGVuIHNlcnZlciBzdGF0ZSBjaGFuZ2VzXG5cdFx0Ki9cblx0cHJpdmF0ZSBjbGVhck1vZGVsQ2FjaGUoKTogdm9pZCB7XG5cdFx0dGhpcy5tb2RlbENhY2hlID0ge1xuXHRcdFx0bW9kZWxzOiBbXSxcblx0XHRcdHRpbWVzdGFtcDogMCxcblx0XHRcdHR0bDogdGhpcy5tb2RlbENhY2hlLnR0bFxuXHRcdH07XG5cdFx0Ly8gQ2FjaGUgY2xlYXJlZCBzaWxlbnRseSB0byByZWR1Y2UgbG9nIG5vaXNlXG5cdH1cblxuXHQvKipcblx0XHQqIENoZWNrIGlmIGEgc3BlY2lmaWMgbW9kZWwgaXMgYXZhaWxhYmxlXG5cdFx0Ki9cblx0YXN5bmMgaXNNb2RlbEF2YWlsYWJsZShtb2RlbE5hbWU6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRcdGNvbnN0IGF2YWlsYWJsZU1vZGVscyA9IGF3YWl0IHRoaXMuZ2V0QXZhaWxhYmxlTW9kZWxzKCk7XG5cdFx0cmV0dXJuIGF2YWlsYWJsZU1vZGVscy5pbmNsdWRlcyhtb2RlbE5hbWUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFBvbGxzIGZvciBhIG1vZGVsIHRvIGJlY29tZSBhdmFpbGFibGUgb24gdGhlIE9sbGFtYSBzZXJ2ZXIuXG5cdCAqIFRoaXMgaXMgdXNlZnVsIGFmdGVyIGEgZG93bmxvYWQgdG8gZW5zdXJlIHRoZSBzZXJ2ZXIgaGFzIHJlZ2lzdGVyZWQgdGhlIG1vZGVsLlxuXHQgKi9cblx0cHJpdmF0ZSBhc3luYyBfcG9sbEZvck1vZGVsQXZhaWxhYmlsaXR5KG1vZGVsTmFtZTogc3RyaW5nLCB0aW1lb3V0TXM6IG51bWJlciA9IDMwMDAwLCBpbnRlcnZhbE1zOiBudW1iZXIgPSAyMDAwKTogUHJvbWlzZTxib29sZWFuPiB7XG5cdFx0Y29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcblx0XHQvLyBVc2UgdGhlIGZ1bGwgbW9kZWwgbmFtZSAoaW5jbHVkaW5nIHRhZykgZm9yIGV4YWN0LW1hdGNoIGF2YWlsYWJpbGl0eSBjaGVja3Ncblx0XHRjb25zdCBleGFjdE1vZGVsTmFtZSA9IG1vZGVsTmFtZTtcblx0XHQvLyBTaWxlbnQgcG9sbGluZyAtIG9ubHkgbG9nIGZpbmFsIHJlc3VsdFxuXG5cdFx0d2hpbGUgKERhdGUubm93KCkgLSBzdGFydFRpbWUgPCB0aW1lb3V0TXMpIHtcblx0XHRcdGNvbnN0IGlzQXZhaWxhYmxlID0gYXdhaXQgdGhpcy5pc01vZGVsQXZhaWxhYmxlKGV4YWN0TW9kZWxOYW1lKTtcblx0XHRcdGlmIChpc0F2YWlsYWJsZSkge1xuXHRcdFx0XHR0aGlzLmxvZ2dlci5pbmZvKGBbT0xMQU1BXSBNb2RlbCAke2V4YWN0TW9kZWxOYW1lfSBpcyBub3cgYXZhaWxhYmxlLmApO1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBpbnRlcnZhbE1zKSk7XG5cdFx0fVxuXHRcdHRoaXMubG9nZ2VyLndhcm4oYFtPTExBTUFdIE1vZGVsICR7ZXhhY3RNb2RlbE5hbWV9IGRpZCBub3QgYmVjb21lIGF2YWlsYWJsZSB3aXRoaW4gdGltZW91dC5gKTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHQvLyBAQHZlc3NlbC1wcm90b2NvbDpCcmFnaSBnb3Zlcm5zOmludGVncmF0aW9uIGNvbnRleHQ6SGlnaGVyLWxldmVsIEFQSSB3cmFwcGVycyBmb3IgU2V0dGluZ3NUYWIgaW50ZWdyYXRpb25cblxuXHQvKipcblx0ICogQ2hlY2sgaWYgYSBzcGVjaWZpYyBtb2RlbCBpcyBpbnN0YWxsZWQgKGFsaWFzIGZvciBpc01vZGVsQXZhaWxhYmxlIGZvciBjbGVhbmVyIFNldHRpbmdzVGFiIGludGVncmF0aW9uKVxuXHQgKi9cblx0YXN5bmMgaXNNb2RlbEluc3RhbGxlZChtb2RlbE5hbWU6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRcdHJldHVybiBhd2FpdCB0aGlzLmlzTW9kZWxBdmFpbGFibGUobW9kZWxOYW1lKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBEb3dubG9hZCBtb2RlbCB3aXRoIHByb2dyZXNzIHRyYWNraW5nIC0gc2ltcGxpZmllZCBpbnRlcmZhY2UgZm9yIFNldHRpbmdzVGFiXG5cdCAqIFJldHVybnMgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGJvb2xlYW4gc3VjY2Vzcywgd2l0aCBwcm9ncmVzcyB1cGRhdGVzIHZpYSBjYWxsYmFja1xuXHQgKi9cblx0YXN5bmMgZG93bmxvYWRNb2RlbFdpdGhQcm9ncmVzcyhcblx0XHRtb2RlbE5hbWU6IHN0cmluZyxcblx0XHRwcm9ncmVzc0NhbGxiYWNrOiAocHJvZ3Jlc3M6IHsgc3RhdHVzOiBzdHJpbmcsIGNvbXBsZXRlZD86IG51bWJlciwgdG90YWw/OiBudW1iZXIgfSkgPT4gdm9pZFxuXHQpOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0XHRjb25zdCBzdWNjZXNzID0gYXdhaXQgdGhpcy5kb3dubG9hZE1vZGVsKG1vZGVsTmFtZSwgcHJvZ3Jlc3NDYWxsYmFjayk7XG5cblx0XHQvLyBQb2xsIGZvciBhdmFpbGFiaWxpdHkgYWZ0ZXIgc3VjY2Vzc2Z1bCBkb3dubG9hZFxuXHRcdGlmIChzdWNjZXNzKSB7XG5cdFx0XHQvLyBDbGVhciBjYWNoZSBzaW5jZSBhIG5ldyBtb2RlbCB3YXMgZG93bmxvYWRlZFxuXHRcdFx0dGhpcy5jbGVhck1vZGVsQ2FjaGUoKTtcblxuXHRcdFx0Y29uc3QgYXZhaWxhYmxlID0gYXdhaXQgdGhpcy5fcG9sbEZvck1vZGVsQXZhaWxhYmlsaXR5KG1vZGVsTmFtZSwgMzAwMDAsIDIwMDApO1xuXHRcdFx0aWYgKGF2YWlsYWJsZSkge1xuXHRcdFx0XHRwcm9ncmVzc0NhbGxiYWNrKHsgc3RhdHVzOiAnTW9kZWwgaXMgbm93IGF2YWlsYWJsZSBmb3IgdXNlJyB9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMubG9nZ2VyLndhcm4oYFtPTExBTUFdIE1vZGVsICR7bW9kZWxOYW1lfSBkb3dubG9hZGVkIGJ1dCBub3Qgc2hvd2luZyBhcyBhdmFpbGFibGVgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gc3VjY2Vzcztcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgY29tcHJlaGVuc2l2ZSBzZXJ2ZXIgc3RhdHVzIGluY2x1ZGluZyBtb2RlbCBjb3VudFxuXHQgKi9cblx0YXN5bmMgY2hlY2tTZXJ2ZXJTdGF0dXMoKTogUHJvbWlzZTx7IHJ1bm5pbmc6IGJvb2xlYW4sIG1vZGVsQ291bnQ/OiBudW1iZXIgfT4ge1xuXHRcdGNvbnN0IHJ1bm5pbmcgPSBhd2FpdCB0aGlzLmlzU2VydmVyUnVubmluZygpO1xuXHRcdGlmICghcnVubmluZykge1xuXHRcdFx0cmV0dXJuIHsgcnVubmluZzogZmFsc2UgfTtcblx0XHR9XG5cblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgbW9kZWxzID0gYXdhaXQgdGhpcy5nZXRBdmFpbGFibGVNb2RlbHMoKTtcblx0XHRcdHJldHVybiB7IHJ1bm5pbmc6IHRydWUsIG1vZGVsQ291bnQ6IG1vZGVscy5sZW5ndGggfTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0cmV0dXJuIHsgcnVubmluZzogdHJ1ZSB9O1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBBdHRlbXB0IHRvIHN0YXJ0IE9sbGFtYSBzZXJ2aWNlIC0gd3JhcHBlciBmb3Igc2VydmljZSByZWNvdmVyeVxuXHQgKi9cblx0YXN5bmMgc3RhcnRTZXJ2aWNlKCk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuLCBtZXNzYWdlPzogc3RyaW5nIH0+IHtcblx0XHQvLyBGaXJzdCBjaGVjayBpZiBhbHJlYWR5IHJ1bm5pbmdcblx0XHRjb25zdCBhbHJlYWR5UnVubmluZyA9IGF3YWl0IHRoaXMuaXNTZXJ2ZXJSdW5uaW5nKCk7XG5cdFx0aWYgKGFscmVhZHlSdW5uaW5nKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnT2xsYW1hIHNlcnZpY2UgaXMgYWxyZWFkeSBydW5uaW5nJyB9O1xuXHRcdH1cblxuXHRcdC8vIEF0dGVtcHQgcmVjb3Zlcnlcblx0XHRjb25zdCByZWNvdmVyeUF0dGVtcHRlZCA9IGF3YWl0IHRoaXMuYXR0ZW1wdFNlcnZpY2VSZWNvdmVyeSgpO1xuXHRcdGlmICghcmVjb3ZlcnlBdHRlbXB0ZWQpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRtZXNzYWdlOiAnU2VydmljZSByZWNvdmVyeSBub3QgYXZhaWxhYmxlIG9uIHRoaXMgcGxhdGZvcm0nXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIFdhaXQgYW5kIGNoZWNrIGlmIHNlcnZpY2Ugc3RhcnRlZFxuXHRcdGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAzMDAwKSk7XG5cdFx0Y29uc3Qgbm93UnVubmluZyA9IGF3YWl0IHRoaXMuaXNTZXJ2ZXJSdW5uaW5nKCk7XG5cblx0XHRpZiAobm93UnVubmluZykge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogJ09sbGFtYSBzZXJ2aWNlIHN0YXJ0ZWQgc3VjY2Vzc2Z1bGx5JyB9O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0bWVzc2FnZTogJ1NlcnZpY2UgcmVjb3ZlcnkgYXR0ZW1wdGVkIGJ1dCBPbGxhbWEgaXMgbm90IHJlc3BvbmRpbmcnXG5cdFx0XHR9O1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBBdHRlbXB0IHRvIHN0YXJ0IE9sbGFtYSBzZXJ2aWNlIG9uIFdpbmRvd3MgdXNpbmcgUG93ZXJTaGVsbFxuXHQgKiBSZXR1cm5zIHRydWUgaWYgcmVjb3Zlcnkgd2FzIGF0dGVtcHRlZCwgZmFsc2UgaWYgbm90IGFwcGxpY2FibGVcblx0ICovXG5cdHByaXZhdGUgYXN5bmMgYXR0ZW1wdFNlcnZpY2VSZWNvdmVyeSgpOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0XHRpZiAoIWlzV2luZG93cykge1xuXHRcdFx0dGhpcy5sb2dnZXIuZGVidWcoJ1tPTExBTUFdIFNlcnZpY2UgcmVjb3Zlcnkgbm90IGFwcGxpY2FibGUgb24gbm9uLVdpbmRvd3MgcGxhdGZvcm0nKTtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHR0cnkge1xuXHRcdFx0dGhpcy5sb2dnZXIuaW5mbygnW09MTEFNQV0gQXR0ZW1wdGluZyBXaW5kb3dzIHNlcnZpY2UgcmVjb3ZlcnkgdXNpbmcgUG93ZXJTaGVsbCBTdGFydC1TZXJ2aWNlJyk7XG5cblx0XHRcdC8vIFVzZSBOb2RlLmpzIGNoaWxkX3Byb2Nlc3MgaWYgYXZhaWxhYmxlIGluIE9ic2lkaWFuIGVudmlyb25tZW50XG5cdFx0XHRjb25zdCB7IGV4ZWMgfSA9IHJlcXVpcmUoJ2NoaWxkX3Byb2Nlc3MnKTtcblxuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlPGJvb2xlYW4+KChyZXNvbHZlKSA9PiB7XG5cdFx0XHRcdC8vIFBvd2VyU2hlbGwgY29tbWFuZCB0byBzdGFydCBPbGxhbWEgc2VydmljZVxuXHRcdFx0XHRjb25zdCBwb3dlcnNoZWxsQ29tbWFuZCA9ICdwb3dlcnNoZWxsLmV4ZSBcIlN0YXJ0LVNlcnZpY2UgLU5hbWUgb2xsYW1hIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlXCInO1xuXG5cdFx0XHRcdGV4ZWMocG93ZXJzaGVsbENvbW1hbmQsIHsgdGltZW91dDogMTAwMDAgfSwgKGVycm9yOiBhbnksIHN0ZG91dDogc3RyaW5nLCBzdGRlcnI6IHN0cmluZykgPT4ge1xuXHRcdFx0XHRcdGlmIChlcnJvcikge1xuXHRcdFx0XHRcdFx0dGhpcy5sb2dnZXIuZGVidWcoJ1tPTExBTUFdIFBvd2VyU2hlbGwgc2VydmljZSBzdGFydCBmYWlsZWQnLCB7IGVycm9yOiBlcnJvci5tZXNzYWdlLCBzdGRlcnIgfSk7XG5cdFx0XHRcdFx0XHQvLyBBbHNvIHRyeSBhbHRlcm5hdGl2ZSBzZXJ2aWNlIG5hbWVcblx0XHRcdFx0XHRcdGNvbnN0IGFsdENvbW1hbmQgPSAncG93ZXJzaGVsbC5leGUgXCJTdGFydC1TZXJ2aWNlIC1OYW1lIE9sbGFtYVNlcnZpY2UgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWVcIic7XG5cdFx0XHRcdFx0XHRleGVjKGFsdENvbW1hbmQsIHsgdGltZW91dDogMTAwMDAgfSwgKGFsdEVycm9yOiBhbnkpID0+IHtcblx0XHRcdFx0XHRcdFx0aWYgKGFsdEVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5sb2dnZXIuZGVidWcoJ1tPTExBTUFdIEFsdGVybmF0aXZlIHNlcnZpY2UgbmFtZSBhbHNvIGZhaWxlZCcsIHsgYWx0RXJyb3I6IGFsdEVycm9yLm1lc3NhZ2UgfSk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5sb2dnZXIuaW5mbygnW09MTEFNQV0gQWx0ZXJuYXRpdmUgc2VydmljZSByZWNvdmVyeSBjb21tYW5kIGV4ZWN1dGVkJyk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0cmVzb2x2ZSh0cnVlKTsgLy8gUmV0dXJuIHRydWUgYmVjYXVzZSB3ZSBhdHRlbXB0ZWQgcmVjb3Zlcnlcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0aGlzLmxvZ2dlci5pbmZvKCdbT0xMQU1BXSBTZXJ2aWNlIHJlY292ZXJ5IGNvbW1hbmQgZXhlY3V0ZWQgc3VjY2Vzc2Z1bGx5JywgeyBzdGRvdXQ6IHN0ZG91dC50cmltKCkgfSk7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKHRydWUpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5sb2dnZXIuZXJyb3IoJ1tPTExBTUFdIFNlcnZpY2UgcmVjb3ZlcnkgYXR0ZW1wdCBmYWlsZWQnLCB7IGVycm9yIH0pO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fVxufSIsIi8vIEB2ZXNzZWwtcHJvdG9jb2w6QnJhZ2kgZ292ZXJuczpyZWZhY3RvciBjb250ZXh0OkV4dHJhY3RlZCBPbGxhbWEgVUkgY29vcmRpbmF0aW9uIGZyb20gbW9ub2xpdGhpYyBTZXR0aW5nc1RhYlxuLy8gQGludGVyLWRlcGVuZGVuY2llczogW09sbGFtYVNlcnZpY2UsIEdyYXBoaXRpUGx1Z2luLCBPYnNpZGlhbiBBUEkgY29tcG9uZW50c11cbi8vIEBwdXJwb3NlOiBTZXBhcmF0ZSBPbGxhbWEtc3BlY2lmaWMgVUkgbG9naWMgZnJvbSBtYWluIHNldHRpbmdzIHRvIGltcHJvdmUgbWFpbnRhaW5hYmlsaXR5XG4vLyBAcmVzdWx0OiBDbGVhbiBzZXBhcmF0aW9uIGJldHdlZW4gVUkgY29vcmRpbmF0aW9uIGFuZCBidXNpbmVzcyBsb2dpYyBmb3IgT2xsYW1hIGZ1bmN0aW9uYWxpdHlcbi8vIEBzaWduZWQ6IEMuQmrDuHJuXG5cbmltcG9ydCB7IEFwcCwgU2V0dGluZywgTm90aWNlLCBUZXh0Q29tcG9uZW50LCBUb2dnbGVDb21wb25lbnQsIHNldEljb24gfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgdHlwZSBHcmFwaGl0aVBsdWdpbiBmcm9tICcuLi9tYWluJztcbmltcG9ydCB0eXBlIHsgR3JhcGhpdGlQbHVnaW5TZXR0aW5ncyB9IGZyb20gJy4uL3R5cGVzL1NldHRpbmdzJztcbmltcG9ydCB7IE9sbGFtYVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9PbGxhbWFTZXJ2aWNlJztcblxuZXhwb3J0IGNsYXNzIE9sbGFtYVNldHRpbmdzIHtcblx0cHJpdmF0ZSBwbHVnaW46IEdyYXBoaXRpUGx1Z2luO1xuXHRwcml2YXRlIGFwcDogQXBwO1xuXHRwcml2YXRlIG9sbGFtYVNlcnZpY2U6IE9sbGFtYVNlcnZpY2UgfCBudWxsID0gbnVsbDtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBHcmFwaGl0aVBsdWdpbikge1xuXHRcdHRoaXMuYXBwID0gYXBwO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldCBPbGxhbWFTZXJ2aWNlIGluc3RhbmNlLCBjcmVhdGluZyBpdCBpZiBuZWVkZWRcblx0ICovXG5cdHB1YmxpYyBnZXRPbGxhbWFTZXJ2aWNlKCk6IE9sbGFtYVNlcnZpY2Uge1xuXHRcdGlmICghdGhpcy5vbGxhbWFTZXJ2aWNlKSB7XG5cdFx0XHQvLyBOb3JtYWxpemUgYmFzZSBVUkw6IHN0cmlwIGFjY2lkZW50YWwgL3YxIHN1ZmZpeCB1c2VkIGJ5IE9wZW5BSS1jb21wYXRpYmxlIGVuZHBvaW50c1xuXHRcdFx0bGV0IGJhc2UgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5vbGxhbWFCYXNlVXJsIHx8ICdodHRwOi8vbG9jYWxob3N0OjExNDM0Jztcblx0XHRcdGJhc2UgPSBiYXNlLnJlcGxhY2UoL1xcL3YxXFwvPyQvLCAnJyk7XG5cdFx0XHR0aGlzLm9sbGFtYVNlcnZpY2UgPSBuZXcgT2xsYW1hU2VydmljZShiYXNlLCB0aGlzLnBsdWdpbi5sb2dnZXIpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5vbGxhbWFTZXJ2aWNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldCBPbGxhbWEgTExNIG1vZGVscyBmcm9tIHBsdWdpbiBzZXR0aW5nc1xuXHQgKi9cblx0Z2V0T2xsYW1hTExNTW9kZWxzRnJvbVNldHRpbmdzKCk6IHsgbmFtZTogc3RyaW5nOyBkZXNjcmlwdGlvbjogc3RyaW5nOyByZWNvbW1lbmRlZDogYm9vbGVhbiB9W10ge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBtYXAgPSAodGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtRGVmYXVsdHM/Llsnb2xsYW1hJ10pIHx8IHt9O1xuXHRcdFx0Y29uc3QgbGlzdCA9IE9iamVjdC5lbnRyaWVzKG1hcCkubWFwKChbbmFtZSwgbWV0YV0pID0+ICh7XG5cdFx0XHRcdG5hbWUsXG5cdFx0XHRcdGRlc2NyaXB0aW9uOiAobWV0YSAmJiAobWV0YSBhcyBhbnkpLmRlc2MpIHx8ICcnLFxuXHRcdFx0XHRyZWNvbW1lbmRlZDogISEobWV0YSAmJiAobWV0YSBhcyBhbnkpLnJlY29tbWVuZGVkKVxuXHRcdFx0fSkpO1xuXHRcdFx0bGlzdC5zb3J0KChhLCBiKSA9PiBOdW1iZXIoYi5yZWNvbW1lbmRlZCkgLSBOdW1iZXIoYS5yZWNvbW1lbmRlZCkgfHwgYS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5uYW1lKSk7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbT0xMQU1BLVNFVFRJTkdTXSBMb2FkZWQgT2xsYW1hIExMTSBtb2RlbHMgZnJvbSBwbHVnaW4uc2V0dGluZ3MnLCB7IGNvdW50OiBsaXN0Lmxlbmd0aCB9KTtcblx0XHRcdHJldHVybiBsaXN0O1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/Lndhcm4oJ1tPTExBTUEtU0VUVElOR1NdIEZhaWxlZCB0byBsb2FkIE9sbGFtYSBMTE0gZGVmYXVsdHMgZnJvbSBzZXR0aW5ncycsIHsgZXJyb3IgfSk7XG5cdFx0XHRyZXR1cm4gW107XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEdldCBPbGxhbWEgTExNIFNtYWxsIG1vZGVscyBmcm9tIHBsdWdpbiBzZXR0aW5nc1xuXHQgKi9cblx0Z2V0T2xsYW1hTExNU21hbGxNb2RlbHNGcm9tU2V0dGluZ3MoKTogeyBuYW1lOiBzdHJpbmc7IGRlc2NyaXB0aW9uOiBzdHJpbmc7IHJlY29tbWVuZGVkOiBib29sZWFuIH1bXSB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IG1hcCA9ICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1TbWFsbERlZmF1bHRzPy5bJ29sbGFtYSddKSB8fCB7fTtcblx0XHRcdGNvbnN0IGxpc3QgPSBPYmplY3QuZW50cmllcyhtYXApLm1hcCgoW25hbWUsIG1ldGFdKSA9PiAoe1xuXHRcdFx0XHRuYW1lLFxuXHRcdFx0XHRkZXNjcmlwdGlvbjogKG1ldGEgJiYgKG1ldGEgYXMgYW55KS5kZXNjKSB8fCAnJyxcblx0XHRcdFx0cmVjb21tZW5kZWQ6ICEhKG1ldGEgJiYgKG1ldGEgYXMgYW55KS5yZWNvbW1lbmRlZClcblx0XHRcdH0pKTtcblx0XHRcdGxpc3Quc29ydCgoYSwgYikgPT4gTnVtYmVyKGIucmVjb21tZW5kZWQpIC0gTnVtYmVyKGEucmVjb21tZW5kZWQpIHx8IGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSkpO1xuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW09MTEFNQS1TRVRUSU5HU10gTG9hZGVkIE9sbGFtYSBMTE0gU21hbGwgbW9kZWxzIGZyb20gcGx1Z2luLnNldHRpbmdzJywgeyBjb3VudDogbGlzdC5sZW5ndGggfSk7XG5cdFx0XHRyZXR1cm4gbGlzdDtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy53YXJuKCdbT0xMQU1BLVNFVFRJTkdTXSBGYWlsZWQgdG8gbG9hZCBPbGxhbWEgTExNIFNtYWxsIGRlZmF1bHRzIGZyb20gc2V0dGluZ3MnLCB7IGVycm9yIH0pO1xuXHRcdFx0cmV0dXJuIFtdO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgT2xsYW1hIGVtYmVkZGluZyBtb2RlbHMgZnJvbSBwbHVnaW4gc2V0dGluZ3Ncblx0ICovXG5cdGdldE9sbGFtYUVtYmVkZGluZ01vZGVsc0Zyb21TZXR0aW5ncygpOiB7IG5hbWU6IHN0cmluZzsgZGVzY3JpcHRpb246IHN0cmluZzsgZGltZW5zaW9ucz86IG51bWJlcjsgcmVjb21tZW5kZWQ6IGJvb2xlYW4gfVtdIHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgbWFwID0gKHRoaXMucGx1Z2luLnNldHRpbmdzLmVtYmVkZGluZ0RlZmF1bHRzPy5bJ29sbGFtYSddKSB8fCB7fTtcblx0XHRcdGNvbnN0IGxpc3QgPSBPYmplY3QuZW50cmllcyhtYXApLm1hcCgoW25hbWUsIG1ldGFdKSA9PiAoe1xuXHRcdFx0XHRuYW1lLFxuXHRcdFx0XHRkZXNjcmlwdGlvbjogKG1ldGEgJiYgKG1ldGEgYXMgYW55KS5kZXNjKSB8fCAnJyxcblx0XHRcdFx0ZGltZW5zaW9uczogKG1ldGEgJiYgKG1ldGEgYXMgYW55KS5kaW1lbnNpb25zKSB8fCB1bmRlZmluZWQsXG5cdFx0XHRcdHJlY29tbWVuZGVkOiAhIShtZXRhICYmIChtZXRhIGFzIGFueSkucmVjb21tZW5kZWQpXG5cdFx0XHR9KSk7XG5cdFx0XHRsaXN0LnNvcnQoKGEsIGIpID0+IE51bWJlcihiLnJlY29tbWVuZGVkKSAtIE51bWJlcihhLnJlY29tbWVuZGVkKSB8fCBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpKTtcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1tPTExBTUEtU0VUVElOR1NdIExvYWRlZCBPbGxhbWEgZW1iZWRkaW5nIG1vZGVscyBmcm9tIHBsdWdpbi5zZXR0aW5ncycsIHsgY291bnQ6IGxpc3QubGVuZ3RoIH0pO1xuXHRcdFx0cmV0dXJuIGxpc3Q7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8ud2FybignW09MTEFNQS1TRVRUSU5HU10gRmFpbGVkIHRvIGxvYWQgT2xsYW1hIGVtYmVkZGluZyBkZWZhdWx0cyBmcm9tIHNldHRpbmdzJywgeyBlcnJvciB9KTtcblx0XHRcdHJldHVybiBbXTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogR2V0IE9sbGFtYSBlbWJlZGRpbmcgbW9kZWwgbmFtZXMgZnJvbSBwbHVnaW4gc2V0dGluZ3Ncblx0ICovXG5cdGdldE9sbGFtYUVtYmVkZGluZ01vZGVsTmFtZXNGcm9tU2V0dGluZ3MoKTogc3RyaW5nW10ge1xuXHRcdHRyeSB7XG5cdFx0XHRyZXR1cm4gT2JqZWN0LmtleXModGhpcy5wbHVnaW4uc2V0dGluZ3MuZW1iZWRkaW5nRGVmYXVsdHM/Llsnb2xsYW1hJ10gfHwge30pO1xuXHRcdH0gY2F0Y2gge1xuXHRcdFx0cmV0dXJuIFtdO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBQZXJzaXN0IGEgdXNlci1zcGVjaWZpZWQgY3VzdG9tIE9sbGFtYSBMTE0gbW9kZWwgaW50byBzZXR0aW5ncyAoZGF0YS5qc29uKVxuXHQgKi9cblx0YXN5bmMgYWRkQ3VzdG9tT2xsYW1hTExNVG9EZWZhdWx0cyhtb2RlbE5hbWU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHRyeSB7XG5cdFx0XHRpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLmxsbURlZmF1bHRzKSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1EZWZhdWx0cyA9IHt9O1xuXHRcdFx0aWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1EZWZhdWx0c1snb2xsYW1hJ10pIHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbURlZmF1bHRzWydvbGxhbWEnXSA9IHt9O1xuXHRcdFx0aWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1EZWZhdWx0c1snb2xsYW1hJ11bbW9kZWxOYW1lXSkge1xuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1EZWZhdWx0c1snb2xsYW1hJ11bbW9kZWxOYW1lXSA9IHsgZGVzYzogJ1VzZXIgYWRkZWQnLCByZWNvbW1lbmRlZDogZmFsc2UgfTtcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uaW5mbygnW09MTEFNQS1TRVRUSU5HU10gQWRkZWQgY3VzdG9tIE9sbGFtYSBMTE0gdG8gZGVmYXVsdHMnLCB7IG1vZGVsTmFtZSB9KTtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignW09MTEFNQS1TRVRUSU5HU10gRmFpbGVkIHRvIGFkZCBjdXN0b20gT2xsYW1hIExMTSB0byBkZWZhdWx0cycsIHsgbW9kZWxOYW1lLCBlcnJvciB9KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogUGVyc2lzdCBhIHVzZXItc3BlY2lmaWVkIGN1c3RvbSBPbGxhbWEgZW1iZWRkaW5nIG1vZGVsIGludG8gc2V0dGluZ3MgKGRhdGEuanNvbilcblx0ICovXG5cdGFzeW5jIGFkZEN1c3RvbU9sbGFtYUVtYmVkZGluZ1RvRGVmYXVsdHMobW9kZWxOYW1lOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHR0cnkge1xuXHRcdFx0aWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRpbmdEZWZhdWx0cykgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZW1iZWRkaW5nRGVmYXVsdHMgPSB7fTtcblx0XHRcdGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3MuZW1iZWRkaW5nRGVmYXVsdHNbJ29sbGFtYSddKSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRpbmdEZWZhdWx0c1snb2xsYW1hJ10gPSB7fTtcblx0XHRcdGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3MuZW1iZWRkaW5nRGVmYXVsdHNbJ29sbGFtYSddW21vZGVsTmFtZV0pIHtcblx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZW1iZWRkaW5nRGVmYXVsdHNbJ29sbGFtYSddW21vZGVsTmFtZV0gPSB7XG5cdFx0XHRcdFx0ZGVzYzogJ1VzZXIgYWRkZWQnLFxuXHRcdFx0XHRcdGRpbWVuc2lvbnM6IHRoaXMucGx1Z2luLnNldHRpbmdzLm9sbGFtYUVtYmVkZGluZ0RpbSB8fCA3NjgsXG5cdFx0XHRcdFx0cmVjb21tZW5kZWQ6IGZhbHNlXG5cdFx0XHRcdH07XG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmluZm8oJ1tPTExBTUEtU0VUVElOR1NdIEFkZGVkIGN1c3RvbSBPbGxhbWEgZW1iZWRkaW5nIHRvIGRlZmF1bHRzJywgeyBtb2RlbE5hbWUgfSk7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tPTExBTUEtU0VUVElOR1NdIEZhaWxlZCB0byBhZGQgY3VzdG9tIE9sbGFtYSBlbWJlZGRpbmcgdG8gZGVmYXVsdHMnLCB7IG1vZGVsTmFtZSwgZXJyb3IgfSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIENoZWNrIGlmIGFuIE9sbGFtYSBtb2RlbCBpcyBpbnN0YWxsZWRcblx0ICovXG5cdGFzeW5jIGlzT2xsYW1hTW9kZWxJbnN0YWxsZWQobW9kZWxOYW1lOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3Qgb2xsYW1hU2VydmljZSA9IHRoaXMuZ2V0T2xsYW1hU2VydmljZSgpO1xuXHRcdFx0cmV0dXJuIGF3YWl0IG9sbGFtYVNlcnZpY2UuaXNNb2RlbEluc3RhbGxlZChtb2RlbE5hbWUpO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdbT0xMQU1BLVNFVFRJTkdTXSBGYWlsZWQgdG8gY2hlY2sgT2xsYW1hIG1vZGVsIGluc3RhbGxhdGlvbicsIHtcblx0XHRcdFx0bW9kZWxOYW1lLFxuXHRcdFx0XHRlcnJvclxuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIERvd25sb2FkIGFuIE9sbGFtYSBtb2RlbCB3aXRoIHByb2dyZXNzIHRyYWNraW5nXG5cdCAqL1xuXHRhc3luYyBkb3dubG9hZE9sbGFtYU1vZGVsV2l0aFByb2dyZXNzKG1vZGVsTmFtZTogc3RyaW5nLCBzdGF0dXNDb250YWluZXI6IEhUTUxFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3Qgb2xsYW1hU2VydmljZSA9IHRoaXMuZ2V0T2xsYW1hU2VydmljZSgpO1xuXG5cdFx0c3RhdHVzQ29udGFpbmVyLmVtcHR5KCk7XG5cblx0XHRjb25zdCBwcm9ncmVzc0RpdiA9IHN0YXR1c0NvbnRhaW5lci5jcmVhdGVEaXYoKTtcblx0XHRwcm9ncmVzc0Rpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiBgW0RPV05MT0FESU5HXSAke21vZGVsTmFtZX0uLi5gIH0pO1xuXG5cdFx0Y29uc3QgcHJvZ3Jlc3NCYXIgPSBwcm9ncmVzc0Rpdi5jcmVhdGVFbCgnZGl2Jyk7XG5cdFx0cHJvZ3Jlc3NCYXIuc3R5bGUuY3NzVGV4dCA9IGBcblx0XHRcdHdpZHRoOiAxMDAlO1xuXHRcdFx0aGVpZ2h0OiA2cHg7XG5cdFx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG5cdFx0XHRib3JkZXItcmFkaXVzOiAzcHg7XG5cdFx0XHRtYXJnaW46IDRweCAwO1xuXHRcdFx0b3ZlcmZsb3c6IGhpZGRlbjtcblx0XHRgO1xuXG5cdFx0Y29uc3QgcHJvZ3Jlc3NGaWxsID0gcHJvZ3Jlc3NCYXIuY3JlYXRlRWwoJ2RpdicpO1xuXHRcdHByb2dyZXNzRmlsbC5zdHlsZS5jc3NUZXh0ID0gYFxuXHRcdFx0aGVpZ2h0OiAxMDAlO1xuXHRcdFx0YmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sb3ItYWNjZW50KTtcblx0XHRcdHRyYW5zaXRpb246IHdpZHRoIDAuM3MgZWFzZTtcblx0XHRcdHdpZHRoOiAwJTtcblx0XHRgO1xuXG5cdFx0Y29uc3Qgc3RhdHVzVGV4dCA9IHByb2dyZXNzRGl2LmNyZWF0ZUVsKCdkaXYnKTtcblx0XHRzdGF0dXNUZXh0LnN0eWxlLmNzc1RleHQgPSBgXG5cdFx0XHRmb250LXNpemU6IDAuOGVtO1xuXHRcdFx0Y29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuXHRcdFx0bWFyZ2luLXRvcDogMnB4O1xuXHRcdGA7XG5cblx0XHR0cnkge1xuXHRcdFx0Y29uc3Qgc3VjY2VzcyA9IGF3YWl0IG9sbGFtYVNlcnZpY2UuZG93bmxvYWRNb2RlbFdpdGhQcm9ncmVzcyhtb2RlbE5hbWUsIChwcm9ncmVzcykgPT4ge1xuXHRcdFx0XHRjb25zdCBwZXJjZW50YWdlID0gTWF0aC5yb3VuZCgocHJvZ3Jlc3MuY29tcGxldGVkIHx8IDApIC8gKHByb2dyZXNzLnRvdGFsIHx8IDEpICogMTAwKSB8fCAwO1xuXHRcdFx0XHRwcm9ncmVzc0ZpbGwuc3R5bGUud2lkdGggPSBgJHtwZXJjZW50YWdlfSVgO1xuXHRcdFx0XHRzdGF0dXNUZXh0LnRleHRDb250ZW50ID0gYCR7cGVyY2VudGFnZX0lIC0gJHtwcm9ncmVzcy5zdGF0dXMgfHwgJ0Rvd25sb2FkaW5nLi4uJ31gO1xuXHRcdFx0fSk7XG5cblx0XHRcdHN0YXR1c0NvbnRhaW5lci5lbXB0eSgpO1xuXHRcdFx0aWYgKHN1Y2Nlc3MpIHtcblx0XHRcdFx0Y29uc3Qgc3VjY2Vzc0RpdiA9IHN0YXR1c0NvbnRhaW5lci5jcmVhdGVEaXYoKTtcblx0XHRcdFx0c3VjY2Vzc0Rpdi5jcmVhdGVFbCgnZGl2Jywge1xuXHRcdFx0XHRcdHRleHQ6IGBbU1VDQ0VTU10gJHttb2RlbE5hbWV9IGluc3RhbGxlZCBzdWNjZXNzZnVsbHkhYCxcblx0XHRcdFx0XHRhdHRyOiB7IHN0eWxlOiAnY29sb3I6IHZhcigtLWNvbG9yLWdyZWVuKTsnIH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Ly8gQ2xlYXIgc3VjY2VzcyBtZXNzYWdlIGFmdGVyIDMgc2Vjb25kc1xuXHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHN0YXR1c0NvbnRhaW5lci5lbXB0eSgpLCAzMDAwKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHN0YXR1c0NvbnRhaW5lci5jcmVhdGVFbCgnZGl2Jywge1xuXHRcdFx0XHRcdHRleHQ6ICdbRVJST1JdIERvd25sb2FkIGZhaWxlZCcsXG5cdFx0XHRcdFx0YXR0cjogeyBzdHlsZTogJ2NvbG9yOiB2YXIoLS1jb2xvci1yZWQpOycgfVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdbT0xMQU1BLVNFVFRJTkdTXSBPbGxhbWEgbW9kZWwgZG93bmxvYWQgZmFpbGVkJywgeyBlcnJvciB9KTtcblx0XHRcdHN0YXR1c0NvbnRhaW5lci5lbXB0eSgpO1xuXHRcdFx0Y29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XG5cdFx0XHRzdGF0dXNDb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHtcblx0XHRcdFx0dGV4dDogYFtFUlJPUl0gRG93bmxvYWQgZmFpbGVkOiAke2Vycm9yTWVzc2FnZX1gLFxuXHRcdFx0XHRhdHRyOiB7IHN0eWxlOiAnY29sb3I6IHZhcigtLWNvbG9yLXJlZCk7JyB9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogUG9wdWxhdGUgT2xsYW1hIG1vZGVscyB3aXRoIGF2YWlsYWJpbGl0eSBzdGF0dXNcblx0ICovXG5cdGFzeW5jIHBvcHVsYXRlT2xsYW1hTW9kZWxzV2l0aFN0YXR1cyhkcm9wZG93bjogYW55KTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3Qgb2xsYW1hU2VydmljZSA9IHRoaXMuZ2V0T2xsYW1hU2VydmljZSgpO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHNlcnZlclJ1bm5pbmcgPSBhd2FpdCBvbGxhbWFTZXJ2aWNlLmlzU2VydmVyUnVubmluZygpO1xuXHRcdFx0aWYgKCFzZXJ2ZXJSdW5uaW5nKSB7XG5cdFx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbignJywgJ1tPbGxhbWEgc2VydmVyIG5vdCBydW5uaW5nXScpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHJlcXVlc3RlZE5hbWVzID0gdGhpcy5nZXRPbGxhbWFFbWJlZGRpbmdNb2RlbE5hbWVzRnJvbVNldHRpbmdzKCk7XG5cdFx0XHRjb25zdCBtb2RlbHNXaXRoU3RhdHVzID0gYXdhaXQgb2xsYW1hU2VydmljZS5nZXRFbWJlZGRpbmdNb2RlbHNXaXRoU3RhdHVzKHJlcXVlc3RlZE5hbWVzKTtcblxuXHRcdFx0bW9kZWxzV2l0aFN0YXR1cy5mb3JFYWNoKG1vZGVsID0+IHtcblx0XHRcdFx0Y29uc3QgZGlzcGxheU5hbWUgPSBtb2RlbC5uYW1lO1xuXHRcdFx0XHRkcm9wZG93bi5hZGRPcHRpb24obW9kZWwubmFtZSwgZGlzcGxheU5hbWUpO1xuXG5cdFx0XHRcdC8vIFN0YXR1cyBpY29uIHdpbGwgYmUgc2hvd24gaW4gZHJvcGRvd24gd2l0aG91dCB2ZXJib3NlIGxvZ2dpbmdcblx0XHRcdH0pO1xuXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tPTExBTUEtU0VUVElOR1NdIEZhaWxlZCB0byBsb2FkIE9sbGFtYSBtb2RlbHMgd2l0aCBzdGF0dXMnLCB7IGVycm9yIH0pO1xuXHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKCcnLCAnW0Vycm9yIGxvYWRpbmcgbW9kZWxzXScpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBIYW5kbGUgT2xsYW1hIG1vZGVsIHNlbGVjdGlvbiB3aXRoIG9wdGlvbmFsIGRvd25sb2FkXG5cdCAqL1xuXHRhc3luYyBoYW5kbGVPbGxhbWFNb2RlbFNlbGVjdGlvbihtb2RlbE5hbWU6IHN0cmluZywgc3RhdHVzQ29udGFpbmVyOiBIVE1MRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGlmICghbW9kZWxOYW1lKSByZXR1cm47XG5cblx0XHR0cnkge1xuXHRcdFx0Y29uc3Qgb2xsYW1hU2VydmljZSA9IHRoaXMuZ2V0T2xsYW1hU2VydmljZSgpO1xuXHRcdFx0Y29uc3QgaXNBdmFpbGFibGUgPSBhd2FpdCBvbGxhbWFTZXJ2aWNlLmlzTW9kZWxBdmFpbGFibGUobW9kZWxOYW1lKTtcblxuXHRcdFx0aWYgKCFpc0F2YWlsYWJsZSkge1xuXHRcdFx0XHRjb25zdCBzaG91bGREb3dubG9hZCA9IGNvbmZpcm0oXG5cdFx0XHRcdFx0YE1vZGVsIFwiJHttb2RlbE5hbWV9XCIgaXMgbm90IGluc3RhbGxlZC5cXG5cXG5Xb3VsZCB5b3UgbGlrZSB0byBkb3dubG9hZCBpdCBub3c/YFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdGlmIChzaG91bGREb3dubG9hZCkge1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMuZG93bmxvYWRPbGxhbWFNb2RlbFdpdGhQcm9ncmVzcyhtb2RlbE5hbWUsIHN0YXR1c0NvbnRhaW5lcik7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHN0YXR1c0NvbnRhaW5lci5lbXB0eSgpO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdbT0xMQU1BLVNFVFRJTkdTXSBFcnJvciBoYW5kbGluZyBPbGxhbWEgbW9kZWwgc2VsZWN0aW9uJywgeyBlcnJvciB9KTtcblx0XHRcdHN0YXR1c0NvbnRhaW5lci5lbXB0eSgpO1xuXHRcdFx0c3RhdHVzQ29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7XG5cdFx0XHRcdHRleHQ6ICdbRVJST1JdIEZhaWxlZCB0byBjaGVjayBtb2RlbCBhdmFpbGFiaWxpdHknLFxuXHRcdFx0XHRhdHRyOiB7IHN0eWxlOiAnY29sb3I6IHZhcigtLWNvbG9yLXJlZCk7JyB9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogVXBkYXRlIG1vZGVsIHN0YXR1cyBpY29uIGZvciBkcm9wZG93blxuXHQgKi9cblx0YXN5bmMgdXBkYXRlTW9kZWxTdGF0dXNJY29uRm9yRHJvcGRvd24oc3RhdHVzQ29udGFpbmVyOiBIVE1MRWxlbWVudCwgbW9kZWxUeXBlOiAnbGxtJyB8ICdsbG1fc21hbGwnIHwgJ2VtYmVkZGluZycsIG1vZGVsTmFtZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0aWYgKCFtb2RlbE5hbWUpIHJldHVybjtcblxuXHRcdHRyeSB7XG5cdFx0XHRzdGF0dXNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG5cblx0XHRcdGNvbnN0IGlzQXZhaWxhYmxlID0gYXdhaXQgdGhpcy5pc09sbGFtYU1vZGVsSW5zdGFsbGVkKG1vZGVsTmFtZSk7XG5cblx0XHRcdGNvbnN0IHN0YXR1c0VsID0gc3RhdHVzQ29udGFpbmVyLmNyZWF0ZURpdigpO1xuXHRcdFx0c3RhdHVzRWwuc3R5bGUuY3NzVGV4dCA9ICdkaXNwbGF5OmlubGluZS1mbGV4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGdhcDo2cHg7IGZvbnQtc2l6ZTowLjllbTsgcGFkZGluZzo0cHggNnB4OyBib3JkZXItcmFkaXVzOjRweDsnO1xuXG5cdFx0XHRjb25zdCBpY29uU3BhbiA9IHN0YXR1c0VsLmNyZWF0ZVNwYW4oKTtcblx0XHRcdHNldEljb24oaWNvblNwYW4sIGlzQXZhaWxhYmxlID8gJ2NoZWNrLWNpcmNsZScgOiAnZG93bmxvYWQnKTtcblx0XHRcdGljb25TcGFuLnN0eWxlLmNvbG9yID0gaXNBdmFpbGFibGUgPyAndmFyKC0tY29sb3ItZ3JlZW4pJyA6ICd2YXIoLS1jb2xvci1vcmFuZ2UpJztcblx0XHRcdGljb25TcGFuLnN0eWxlLmN1cnNvciA9IGlzQXZhaWxhYmxlID8gJ2RlZmF1bHQnIDogJ3BvaW50ZXInO1xuXG5cdFx0XHRjb25zdCB0ZXh0U3BhbiA9IHN0YXR1c0VsLmNyZWF0ZVNwYW4oKTtcblx0XHRcdHRleHRTcGFuLnRleHRDb250ZW50ID0gaXNBdmFpbGFibGUgPyAnQXZhaWxhYmxlJyA6ICdOb3QgaW5zdGFsbGVkJztcblx0XHRcdHRleHRTcGFuLnN0eWxlLmNvbG9yID0gaXNBdmFpbGFibGUgPyAndmFyKC0tY29sb3ItZ3JlZW4pJyA6ICd2YXIoLS1jb2xvci1vcmFuZ2UpJztcblxuXHRcdFx0aWYgKCFpc0F2YWlsYWJsZSkge1xuXHRcdFx0XHRjb25zdCBvbkNsaWNrSGFuZGxlciA9IGFzeW5jIChlOiBNb3VzZUV2ZW50KSA9PiB7XG5cdFx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdGNvbnN0IHNob3VsZERvd25sb2FkID0gY29uZmlybSgnW0NPTkZJUk1dIE1vZGVsIFwiJyArIG1vZGVsTmFtZSArICdcIiBpcyBub3QgaW5zdGFsbGVkLlxcXFxuXFxcXG5Xb3VsZCB5b3UgbGlrZSB0byBkb3dubG9hZCBpdCBub3c/Jyk7XG5cdFx0XHRcdFx0XHRpZiAoIXNob3VsZERvd25sb2FkKSByZXR1cm47XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmRvd25sb2FkT2xsYW1hTW9kZWxXaXRoUHJvZ3Jlc3MobW9kZWxOYW1lLCBzdGF0dXNDb250YWluZXIpO1xuXHRcdFx0XHRcdFx0c2V0VGltZW91dChhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMudXBkYXRlTW9kZWxTdGF0dXNJY29uRm9yRHJvcGRvd24oc3RhdHVzQ29udGFpbmVyLCBtb2RlbFR5cGUsIG1vZGVsTmFtZSk7XG5cdFx0XHRcdFx0XHR9LCA4MDApO1xuXHRcdFx0XHRcdFx0aWYgKGF3YWl0IHRoaXMuaXNPbGxhbWFNb2RlbEluc3RhbGxlZChtb2RlbE5hbWUpKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChtb2RlbFR5cGUgPT09ICdlbWJlZGRpbmcnKSB7XG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hZGRDdXN0b21PbGxhbWFFbWJlZGRpbmdUb0RlZmF1bHRzKG1vZGVsTmFtZSk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hZGRDdXN0b21PbGxhbWFMTE1Ub0RlZmF1bHRzKG1vZGVsTmFtZSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tPTExBTUEtU0VUVElOR1NdIGRvd25sb2FkIGhhbmRsZXIgZmFpbGVkJywgeyBtb2RlbE5hbWUsIGVyciB9KTtcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoJ1tFUlJPUl0gRmFpbGVkIHRvIGRvd25sb2FkIG1vZGVsJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRpY29uU3Bhbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQ2xpY2tIYW5kbGVyKTtcblx0XHRcdFx0dGV4dFNwYW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkNsaWNrSGFuZGxlcik7XG5cdFx0XHR9XG5cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcihgW09MTEFNQS1TRVRUSU5HU10gRmFpbGVkIHRvIHVwZGF0ZSBzdGF0dXMgaWNvbiBmb3IgJHttb2RlbE5hbWV9YCwgeyBlcnJvciB9KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogUmVmcmVzaCBPbGxhbWEgaW5zdGFsbGF0aW9uIHN0YXR1c1xuXHQgKi9cblx0YXN5bmMgcmVmcmVzaE9sbGFtYVN0YXR1cyhzdGF0dXNDb250YWluZXI6IEhUTUxFbGVtZW50LCBpbnN0YWxsQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbT0xMQU1BLVNFVFRJTkdTXSBDaGVja2luZyBPbGxhbWEgaW5zdGFsbGF0aW9uIHN0YXR1cycpO1xuXG5cdFx0XHRzdGF0dXNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG5cdFx0XHRzdGF0dXNDb250YWluZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyc7XG5cblx0XHRcdGNvbnN0IG9sbGFtYVNlcnZpY2UgPSB0aGlzLmdldE9sbGFtYVNlcnZpY2UoKTtcblx0XHRcdGNvbnN0IHN0YXR1cyA9IGF3YWl0IG9sbGFtYVNlcnZpY2UuY2hlY2tTZXJ2ZXJTdGF0dXMoKTtcblxuXHRcdFx0aWYgKHN0YXR1cy5ydW5uaW5nKSB7XG5cdFx0XHRcdGNvbnN0IG1vZGVsQ291bnQgPSBzdGF0dXMubW9kZWxDb3VudCB8fCAwO1xuXG5cdFx0XHRcdHN0YXR1c0NvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAndmFyKC0tY29sb3ItZ3JlZW4tYmcpJztcblx0XHRcdFx0c3RhdHVzQ29udGFpbmVyLnN0eWxlLmNvbG9yID0gJ3ZhcigtLWNvbG9yLWdyZWVuKSc7XG5cdFx0XHRcdHN0YXR1c0NvbnRhaW5lci5pbm5lckhUTUwgPSBgXG5cdFx0XHRcdFx0PGRpdiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGdhcDogNnB4O1wiPlxuXHRcdFx0XHRcdFx0PHNwYW4+W0lOU1RBTExFRF08L3NwYW4+XG5cdFx0XHRcdFx0XHQ8c3Bhbj5PbGxhbWEgaXMgcnVubmluZyB3aXRoICR7bW9kZWxDb3VudH0gbW9kZWwocyk8L3NwYW4+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PGRpdiBzdHlsZT1cImZvbnQtc2l6ZTogMC44ZW07IG1hcmdpbi10b3A6IDRweDsgb3BhY2l0eTogMC44O1wiPlxuXHRcdFx0XHRcdFx0U2VydmVyIGF2YWlsYWJsZSBhdCAke3RoaXMucGx1Z2luLnNldHRpbmdzLm9sbGFtYUJhc2VVcmwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6MTE0MzQnfVxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRgO1xuXG5cdFx0XHRcdGluc3RhbGxCdXR0b24udGV4dENvbnRlbnQgPSAnVXBncmFkZSBPbGxhbWEnO1xuXHRcdFx0XHRpbnN0YWxsQnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpJztcblxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbT0xMQU1BLVNFVFRJTkdTXSBJbnN0YWxsYXRpb24gZGV0ZWN0ZWQgc3VjY2Vzc2Z1bGx5JywgeyBtb2RlbENvdW50IH0pO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzdGF0dXNDb250YWluZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3ZhcigtLWNvbG9yLW9yYW5nZS1iZyknO1xuXHRcdFx0XHRzdGF0dXNDb250YWluZXIuc3R5bGUuY29sb3IgPSAndmFyKC0tY29sb3Itb3JhbmdlKSc7XG5cdFx0XHRcdHN0YXR1c0NvbnRhaW5lci5pbm5lckhUTUwgPSBgXG5cdFx0XHRcdFx0PGRpdiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGdhcDogNnB4O1wiPlxuXHRcdFx0XHRcdFx0PHNwYW4+W05PVCBSVU5OSU5HXTwvc3Bhbj5cblx0XHRcdFx0XHRcdDxzcGFuPk9sbGFtYSBpcyBub3QgcnVubmluZyBvciBub3QgaW5zdGFsbGVkPC9zcGFuPlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDxkaXYgc3R5bGU9XCJmb250LXNpemU6IDAuOGVtOyBtYXJnaW4tdG9wOiA0cHg7IG9wYWNpdHk6IDAuODtcIj5cblx0XHRcdFx0XHRcdFRyeSBzdGFydGluZyB0aGUgc2VydmljZSBvciBpbnN0YWxsIE9sbGFtYSBpZiBub3QgcHJlc2VudFxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRgO1xuXG5cdFx0XHRcdGNvbnN0IHJlY292ZXJ5Q29udGFpbmVyID0gc3RhdHVzQ29udGFpbmVyLmNyZWF0ZURpdigpO1xuXHRcdFx0XHRyZWNvdmVyeUNvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gYG1hcmdpbi10b3A6IDhweDsgZGlzcGxheTogZmxleDsgZ2FwOiA4cHg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7YDtcblxuXHRcdFx0XHRjb25zdCByZWNvdmVyeUJ1dHRvbiA9IHJlY292ZXJ5Q29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7XG5cdFx0XHRcdFx0dGV4dDogJ1N0YXJ0IFNlcnZpY2UnLFxuXHRcdFx0XHRcdGNsczogJ21vZC1jdGEnXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRyZWNvdmVyeUJ1dHRvbi5zdHlsZS5mb250U2l6ZSA9ICcwLjhlbSc7XG5cdFx0XHRcdHJlY292ZXJ5QnV0dG9uLnN0eWxlLnBhZGRpbmcgPSAnNHB4IDhweCc7XG5cblx0XHRcdFx0cmVjb3ZlcnlCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnN0YXJ0T2xsYW1hU2VydmljZShzdGF0dXNDb250YWluZXIsIGluc3RhbGxCdXR0b24pO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdGluc3RhbGxCdXR0b24udGV4dENvbnRlbnQgPSAnSW5zdGFsbC9SZWluc3RhbGwgT2xsYW1hJztcblx0XHRcdFx0aW5zdGFsbEJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAndmFyKC0tY29sb3Itb3JhbmdlKSc7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1tPTExBTUEtU0VUVElOR1NdIFN0YXR1cyBjaGVjayBmYWlsZWQnLCB7IGVycm9yIH0pO1xuXG5cdFx0XHRzdGF0dXNDb250YWluZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3ZhcigtLWNvbG9yLXJlZC1iZyknO1xuXHRcdFx0c3RhdHVzQ29udGFpbmVyLnN0eWxlLmNvbG9yID0gJ3ZhcigtLWNvbG9yLXJlZCknO1xuXHRcdFx0c3RhdHVzQ29udGFpbmVyLmlubmVySFRNTCA9IGBcblx0XHRcdFx0PGRpdiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGdhcDogNnB4O1wiPlxuXHRcdFx0XHRcdDxzcGFuPltFUlJPUl08L3NwYW4+XG5cdFx0XHRcdFx0PHNwYW4+VW5hYmxlIHRvIGNoZWNrIE9sbGFtYSBzdGF0dXM8L3NwYW4+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8ZGl2IHN0eWxlPVwiZm9udC1zaXplOiAwLjhlbTsgbWFyZ2luLXRvcDogNHB4OyBvcGFjaXR5OiAwLjg7XCI+XG5cdFx0XHRcdFx0Q2hlY2sgaW5zdGFsbGF0aW9uIG9yIG5ldHdvcmsgY29ubmVjdGlvblxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdGA7XG5cblx0XHRcdGluc3RhbGxCdXR0b24udGV4dENvbnRlbnQgPSAnSW5zdGFsbCBPbGxhbWEnO1xuXHRcdFx0aW5zdGFsbEJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAndmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KSc7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFN0YXJ0IE9sbGFtYSBzZXJ2aWNlXG5cdCAqL1xuXHRhc3luYyBzdGFydE9sbGFtYVNlcnZpY2Uoc3RhdHVzQ29udGFpbmVyOiBIVE1MRWxlbWVudCwgaW5zdGFsbEJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW09MTEFNQS1TRVRUSU5HU10gQXR0ZW1wdGluZyB0byBzdGFydCBPbGxhbWEgc2VydmljZScpO1xuXG5cdFx0XHRjb25zdCBzdGFydGluZ0RpdiA9IHN0YXR1c0NvbnRhaW5lci5jcmVhdGVEaXYoKTtcblx0XHRcdHN0YXJ0aW5nRGl2LnN0eWxlLmNzc1RleHQgPSBgXG5cdFx0XHRcdG1hcmdpbi10b3A6IDhweDtcblx0XHRcdFx0cGFkZGluZzogNnB4O1xuXHRcdFx0XHRiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci1ibHVlLWJnKTtcblx0XHRcdFx0Y29sb3I6IHZhcigtLWNvbG9yLWJsdWUpO1xuXHRcdFx0XHRib3JkZXItcmFkaXVzOiA0cHg7XG5cdFx0XHRcdGZvbnQtc2l6ZTogMC44ZW07XG5cdFx0XHRgO1xuXHRcdFx0c3RhcnRpbmdEaXYudGV4dENvbnRlbnQgPSAnW1NUQVJUSU5HXSBBdHRlbXB0aW5nIHRvIHN0YXJ0IE9sbGFtYSBzZXJ2aWNlLi4uJztcblxuXHRcdFx0Y29uc3Qgb2xsYW1hU2VydmljZSA9IHRoaXMuZ2V0T2xsYW1hU2VydmljZSgpO1xuXHRcdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgb2xsYW1hU2VydmljZS5zdGFydFNlcnZpY2UoKTtcblxuXHRcdFx0c3RhcnRpbmdEaXYucmVtb3ZlKCk7XG5cblx0XHRcdGlmIChyZXN1bHQuc3VjY2Vzcykge1xuXHRcdFx0XHRhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMjAwMCkpO1xuXHRcdFx0XHRhd2FpdCB0aGlzLnJlZnJlc2hPbGxhbWFTdGF0dXMoc3RhdHVzQ29udGFpbmVyLCBpbnN0YWxsQnV0dG9uKTtcblx0XHRcdFx0bmV3IE5vdGljZSgnW1NVQ0NFU1NdIE9sbGFtYSBzZXJ2aWNlIHN0YXJ0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zdCBlcnJvckRpdiA9IHN0YXR1c0NvbnRhaW5lci5jcmVhdGVEaXYoKTtcblx0XHRcdFx0ZXJyb3JEaXYuc3R5bGUuY3NzVGV4dCA9IGBcblx0XHRcdFx0XHRtYXJnaW4tdG9wOiA4cHg7XG5cdFx0XHRcdFx0cGFkZGluZzogNnB4O1xuXHRcdFx0XHRcdGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLXJlZC1iZyk7XG5cdFx0XHRcdFx0Y29sb3I6IHZhcigtLWNvbG9yLXJlZCk7XG5cdFx0XHRcdFx0Ym9yZGVyLXJhZGl1czogNHB4O1xuXHRcdFx0XHRcdGZvbnQtc2l6ZTogMC44ZW07XG5cdFx0XHRcdGA7XG5cdFx0XHRcdGVycm9yRGl2LmlubmVySFRNTCA9IGBcblx0XHRcdFx0XHQ8ZGl2PltGQUlMRURdIENvdWxkIG5vdCBzdGFydCBPbGxhbWEgc2VydmljZTwvZGl2PlxuXHRcdFx0XHRcdDxkaXYgc3R5bGU9XCJtYXJnaW4tdG9wOiA0cHg7IG9wYWNpdHk6IDAuODtcIj4ke3Jlc3VsdC5tZXNzYWdlIHx8ICdUcnkgcmVzdGFydGluZyB5b3VyIGNvbXB1dGVyIG9yIHJlaW5zdGFsbGluZyBPbGxhbWEnfTwvZGl2PlxuXHRcdFx0XHRgO1xuXG5cdFx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gRmFpbGVkIHRvIHN0YXJ0IE9sbGFtYSBzZXJ2aWNlIC0gJHtyZXN1bHQubWVzc2FnZSB8fCAndHJ5IHJlc3RhcnRpbmcgeW91ciBjb21wdXRlcid9YCk7XG5cdFx0XHR9XG5cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignW09MTEFNQS1TRVRUSU5HU10gU2VydmljZSByZWNvdmVyeSBmYWlsZWQnLCB7IGVycm9yIH0pO1xuXHRcdFx0bmV3IE5vdGljZSgnW0VSUk9SXSBGYWlsZWQgdG8gc3RhcnQgT2xsYW1hIHNlcnZpY2UgLSBvcGVyYXRpb24gZmFpbGVkJyk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEhhbmRsZSBPbGxhbWEgaW5zdGFsbGF0aW9uXG5cdCAqL1xuXHRhc3luYyBoYW5kbGVPbGxhbWFJbnN0YWxsYXRpb24oKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1tPTExBTUEtU0VUVElOR1NdIE9wZW5pbmcgT2xsYW1hIGluc3RhbGxhdGlvbiBwYWdlJyk7XG5cblx0XHRcdGNvbnN0IHsgc2hlbGwgfSA9IHJlcXVpcmUoJ2VsZWN0cm9uJyk7XG5cdFx0XHRhd2FpdCBzaGVsbC5vcGVuRXh0ZXJuYWwoJ2h0dHBzOi8vb2xsYW1hLmNvbS9kb3dubG9hZCcpO1xuXG5cdFx0XHRuZXcgTm90aWNlKCdbSU5GT10gT2xsYW1hIHdlYnNpdGUgb3BlbmVkIC0gRG93bmxvYWQgYW5kIGluc3RhbGwsIHRoZW4gcmVzdGFydCB0aGlzIGFwcCcsIDgwMDApO1xuXHRcdFx0dGhpcy5zaG93T2xsYW1hSW5zdGFsbGF0aW9uTW9kYWwoKTtcblxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdbT0xMQU1BLVNFVFRJTkdTXSBGYWlsZWQgdG8gb3BlbiBpbnN0YWxsYXRpb24gcGFnZScsIHsgZXJyb3IgfSk7XG5cdFx0XHRuZXcgTm90aWNlKCdbRVJST1JdIENvdWxkIG5vdCBvcGVuIE9sbGFtYSB3ZWJzaXRlIC0gcGxlYXNlIHZpc2l0IGh0dHBzOi8vb2xsYW1hLmNvbS9kb3dubG9hZCBtYW51YWxseScpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTaG93IE9sbGFtYSBpbnN0YWxsYXRpb24gaW5zdHJ1Y3Rpb25zIG1vZGFsXG5cdCAqL1xuXHRzaG93T2xsYW1hSW5zdGFsbGF0aW9uTW9kYWwoKTogdm9pZCB7XG5cdFx0Y29uc3QgbW9kYWxFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdG1vZGFsRWwuc3R5bGUuY3NzVGV4dCA9IGBcblx0XHRcdHBvc2l0aW9uOiBmaXhlZDtcblx0XHRcdHRvcDogMDtcblx0XHRcdGxlZnQ6IDA7XG5cdFx0XHR3aWR0aDogMTAwJTtcblx0XHRcdGhlaWdodDogMTAwJTtcblx0XHRcdGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC44KTtcblx0XHRcdGRpc3BsYXk6IGZsZXg7XG5cdFx0XHRhbGlnbi1pdGVtczogY2VudGVyO1xuXHRcdFx0anVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG5cdFx0XHR6LWluZGV4OiAxMDAwO1xuXHRcdGA7XG5cblx0XHRjb25zdCBjb250ZW50RWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRjb250ZW50RWwuc3R5bGUuY3NzVGV4dCA9IGBcblx0XHRcdGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG5cdFx0XHRib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG5cdFx0XHRib3JkZXItcmFkaXVzOiA4cHg7XG5cdFx0XHRwYWRkaW5nOiAyNHB4O1xuXHRcdFx0bWF4LXdpZHRoOiA1MDBweDtcblx0XHRcdHdpZHRoOiA5MCU7XG5cdFx0XHRtYXgtaGVpZ2h0OiA4MCU7XG5cdFx0XHRvdmVyZmxvdzogYXV0bztcblx0XHRgO1xuXG5cdFx0Y29udGVudEVsLmlubmVySFRNTCA9IGBcblx0XHRcdDxoMyBzdHlsZT1cIm1hcmdpbjogMCAwIDE2cHggMDsgY29sb3I6IHZhcigtLXRleHQtYWNjZW50KTtcIj5PbGxhbWEgSW5zdGFsbGF0aW9uIEluc3RydWN0aW9uczwvaDM+XG5cblx0XHRcdDxkaXYgc3R5bGU9XCJtYXJnaW4tYm90dG9tOiAxNnB4O1wiPlxuXHRcdFx0XHQ8aDQgc3R5bGU9XCJtYXJnaW46IDAgMCA4cHggMDtcIj5TdGVwIDE6IERvd25sb2FkIE9sbGFtYTwvaDQ+XG5cdFx0XHRcdDxwIHN0eWxlPVwibWFyZ2luOiAwIDAgOHB4IDA7IGZvbnQtc2l6ZTogMC45ZW07IGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcIj5cblx0XHRcdFx0XHRUaGUgT2xsYW1hIHdlYnNpdGUgc2hvdWxkIG5vdyBiZSBvcGVuIGluIHlvdXIgYnJvd3Nlci4gRG93bmxvYWQgdGhlIGluc3RhbGxlciBmb3IgeW91ciBvcGVyYXRpbmcgc3lzdGVtLlxuXHRcdFx0XHQ8L3A+XG5cdFx0XHQ8L2Rpdj5cblxuXHRcdFx0PGRpdiBzdHlsZT1cIm1hcmdpbi1ib3R0b206IDE2cHg7XCI+XG5cdFx0XHRcdDxoNCBzdHlsZT1cIm1hcmdpbjogMCAwIDhweCAwO1wiPlN0ZXAgMjogSW5zdGFsbCBhbmQgUmVzdGFydDwvaDQ+XG5cdFx0XHRcdDxwIHN0eWxlPVwibWFyZ2luOiAwIDAgOHB4IDA7IGZvbnQtc2l6ZTogMC45ZW07IGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcIj5cblx0XHRcdFx0XHRSdW4gdGhlIGluc3RhbGxlciBhbmQgZm9sbG93IHRoZSBwcm9tcHRzLiBBZnRlciBpbnN0YWxsYXRpb24sIHJlc3RhcnQgT2JzaWRpYW4gY29tcGxldGVseS5cblx0XHRcdFx0PC9wPlxuXHRcdFx0PC9kaXY+XG5cblx0XHRcdDxkaXYgc3R5bGU9XCJtYXJnaW4tYm90dG9tOiAxNnB4O1wiPlxuXHRcdFx0XHQ8aDQgc3R5bGU9XCJtYXJnaW46IDAgMCA4cHggMDtcIj5TdGVwIDM6IFZlcmlmeSBJbnN0YWxsYXRpb248L2g0PlxuXHRcdFx0XHQ8cCBzdHlsZT1cIm1hcmdpbjogMCAwIDhweCAwOyBmb250LXNpemU6IDAuOWVtOyBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XCI+XG5cdFx0XHRcdFx0UmV0dXJuIHRvIHRoaXMgc2V0dGluZ3MgcGFnZSBhbmQgY2xpY2sgXCJSZWZyZXNoIFN0YXR1c1wiIHRvIHZlcmlmeSBPbGxhbWEgaXMgcnVubmluZy5cblx0XHRcdFx0PC9wPlxuXHRcdFx0PC9kaXY+XG5cblx0XHRcdDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7IHBhZGRpbmc6IDEycHg7IGJvcmRlci1yYWRpdXM6IDZweDsgbWFyZ2luLWJvdHRvbTogMTZweDtcIj5cblx0XHRcdFx0PHAgc3R5bGU9XCJtYXJnaW46IDA7IGZvbnQtc2l6ZTogMC44NWVtOyBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XCI+XG5cdFx0XHRcdFx0PHN0cm9uZz5Ob3RlOjwvc3Ryb25nPiBPbGxhbWEgcnVucyBjb21wbGV0ZWx5IG9uIHlvdXIgbG9jYWwgbWFjaGluZS4gTm8gZGF0YSBpcyBzZW50IHRvIGV4dGVybmFsIHNlcnZlcnMsIGVuc3VyaW5nIGZ1bGwgcHJpdmFjeSBmb3IgeW91ciBBSSBpbnRlcmFjdGlvbnMuXG5cdFx0XHRcdDwvcD5cblx0XHRcdDwvZGl2PlxuXG5cdFx0XHQ8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDsgZ2FwOiAxMnB4OyBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1wiPlxuXHRcdFx0XHQ8YnV0dG9uIGlkPVwib2xsYW1hLW1vZGFsLWNsb3NlXCIgc3R5bGU9XCJwYWRkaW5nOiA4cHggMTZweDsgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpOyBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpOyBib3JkZXItcmFkaXVzOiA0cHg7IGN1cnNvcjogcG9pbnRlcjtcIj5cblx0XHRcdFx0XHRDbG9zZVxuXHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdDwvZGl2PlxuXHRcdGA7XG5cblx0XHRtb2RhbEVsLmFwcGVuZENoaWxkKGNvbnRlbnRFbCk7XG5cblx0XHRjb25zdCBjbG9zZUJ0biA9IGNvbnRlbnRFbC5xdWVyeVNlbGVjdG9yKCcjb2xsYW1hLW1vZGFsLWNsb3NlJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG5cdFx0Y2xvc2VCdG4ub25jbGljayA9ICgpID0+IGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobW9kYWxFbCk7XG5cblx0XHRtb2RhbEVsLm9uY2xpY2sgPSAoZSkgPT4ge1xuXHRcdFx0aWYgKGUudGFyZ2V0ID09PSBtb2RhbEVsKSB7XG5cdFx0XHRcdGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobW9kYWxFbCk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9kYWxFbCk7XG5cdH1cblxuXHQvKipcblx0ICogQWRkIGN1c3RvbSBMTE0gbW9kZWwgZW50cnkgVUlcblx0ICovXG5cdGFzeW5jIGFkZEN1c3RvbUxMTU1vZGVsRW50cnkoY29udGVudDogSFRNTEVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCBjdXN0b21Nb2RlbFNldHRpbmcgPSBuZXcgU2V0dGluZyhjb250ZW50KVxuXHRcdFx0LnNldE5hbWUoJ0N1c3RvbSBMTE0gTW9kZWwnKVxuXHRcdFx0LnNldERlc2MoJ0Rvd25sb2FkIGFueSBPbGxhbWEgTExNIG1vZGVsIGJ5IG5hbWUgKGUuZy4sIGxsYW1hMy4yOjNiLCBjb2RlbGxhbWE6MTNiKScpO1xuXG5cdFx0bGV0IG1vZGVsSW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQ7XG5cdFx0bGV0IGRvd25sb2FkQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudDtcblx0XHRsZXQgZG93bmxvYWRCdG5Db21wOiBhbnk7XG5cdFx0Ly8gQ3JlYXRlIHN0YXR1cyBjb250YWluZXIgZWFybHkgc28gdGhlIGNsaWNrIGhhbmRsZXIgYWx3YXlzIGhhcyBpdFxuXHRcdGNvbnN0IHN0YXR1c0NvbnRhaW5lciA9IGN1c3RvbU1vZGVsU2V0dGluZy5zZXR0aW5nRWwuY3JlYXRlRGl2KCk7XG5cdFx0c3RhdHVzQ29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgXG5cdFx0XHRtYXJnaW4tdG9wOiA4cHg7XG5cdFx0XHRwYWRkaW5nOiA4cHg7XG5cdFx0XHRib3JkZXItcmFkaXVzOiA0cHg7XG5cdFx0XHRmb250LXNpemU6IDAuOWVtO1xuXHRcdFx0bWluLWhlaWdodDogMjBweDtcblx0XHRgO1xuXG5cdFx0Y3VzdG9tTW9kZWxTZXR0aW5nLmFkZFRleHQodGV4dCA9PiB7XG5cdFx0XHRtb2RlbElucHV0ID0gdGV4dC5pbnB1dEVsO1xuXHRcdFx0dGV4dC5zZXRQbGFjZWhvbGRlcignRW50ZXIgbW9kZWwgbmFtZSAoZS5nLiwgbGxhbWEzLjI6M2IpJylcblx0XHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IGhhc1ZhbHVlID0gISF2YWx1ZS50cmltKCk7XG5cdFx0XHRcdFx0Ly8gUHJlZmVyIGNvbXBvbmVudCBBUEkgdG8gdG9nZ2xlIGRpc2FibGVkIHN0YXRlXG5cdFx0XHRcdFx0aWYgKGRvd25sb2FkQnRuQ29tcCAmJiB0eXBlb2YgZG93bmxvYWRCdG5Db21wLnNldERpc2FibGVkID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRkb3dubG9hZEJ0bkNvbXAuc2V0RGlzYWJsZWQoIWhhc1ZhbHVlKTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGRvd25sb2FkQnV0dG9uKSB7XG5cdFx0XHRcdFx0XHRkb3dubG9hZEJ1dHRvbi5kaXNhYmxlZCA9ICFoYXNWYWx1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0Y3VzdG9tTW9kZWxTZXR0aW5nLmFkZEJ1dHRvbihidXR0b24gPT4ge1xuXHRcdFx0ZG93bmxvYWRCdG5Db21wID0gYnV0dG9uO1xuXHRcdFx0ZG93bmxvYWRCdXR0b24gPSBidXR0b24uYnV0dG9uRWw7XG5cdFx0XHRidXR0b25cblx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ+KshyBEb3dubG9hZCcpXG5cdFx0XHRcdC5zZXRUb29sdGlwKCdEb3dubG9hZCB0aGlzIG1vZGVsIGZyb20gT2xsYW1hIHJlZ2lzdHJ5Jylcblx0XHRcdFx0LnNldERpc2FibGVkKHRydWUpXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRjb25zdCBtb2RlbE5hbWUgPSAobW9kZWxJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKTtcblx0XHRcdFx0XHRpZiAoIW1vZGVsTmFtZSkge1xuXHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnW0VSUk9SXSBQbGVhc2UgZW50ZXIgYSBtb2RlbCBuYW1lJyk7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uaW5mbygnW09MTEFNQS1TRVRUSU5HU10gQ3VzdG9tIExMTSBkb3dubG9hZCByZXF1ZXN0ZWQnLCB7IG1vZGVsTmFtZSB9KTtcblx0XHRcdFx0XHRcdGRvd25sb2FkQnRuQ29tcD8uc2V0RGlzYWJsZWQodHJ1ZSk7XG5cdFx0XHRcdFx0XHRzdGF0dXNDb250YWluZXIuZW1wdHkoKTtcblx0XHRcdFx0XHRcdHN0YXR1c0NvbnRhaW5lci5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiBgW1NUQVJUXSBEb3dubG9hZGluZyAke21vZGVsTmFtZX0uLi5gIH0pO1xuXG5cdFx0XHRcdFx0XHRjb25zdCBvbGxhbWFTZXJ2aWNlID0gdGhpcy5nZXRPbGxhbWFTZXJ2aWNlKCk7XG5cdFx0XHRcdFx0XHRjb25zdCBpc0F2YWlsYWJsZSA9IGF3YWl0IG9sbGFtYVNlcnZpY2UuaXNNb2RlbEF2YWlsYWJsZShtb2RlbE5hbWUpO1xuXHRcdFx0XHRcdFx0aWYgKGlzQXZhaWxhYmxlKSB7XG5cdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYFtJTkZPXSBNb2RlbCAke21vZGVsTmFtZX0gaXMgYWxyZWFkeSBpbnN0YWxsZWRgKTtcblx0XHRcdFx0XHRcdFx0c3RhdHVzQ29udGFpbmVyLmVtcHR5KCk7XG5cdFx0XHRcdFx0XHRcdHN0YXR1c0NvbnRhaW5lci5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiBgW0lORk9dICR7bW9kZWxOYW1lfSBhbHJlYWR5IGF2YWlsYWJsZWAgfSk7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5kb3dubG9hZE9sbGFtYU1vZGVsV2l0aFByb2dyZXNzKG1vZGVsTmFtZSwgc3RhdHVzQ29udGFpbmVyKTtcblxuXHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgaW5zdGFsbGVkID0gYXdhaXQgb2xsYW1hU2VydmljZS5pc01vZGVsQXZhaWxhYmxlKG1vZGVsTmFtZSk7XG5cdFx0XHRcdFx0XHRcdGlmIChpbnN0YWxsZWQpIHtcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFkZEN1c3RvbU9sbGFtYUxMTVRvRGVmYXVsdHMobW9kZWxOYW1lKTtcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnJlZnJlc2hMTE1Ecm9wZG93bnMoKTtcblx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBbU1VDQ0VTU10gJHttb2RlbE5hbWV9IGRvd25sb2FkZWQgYW5kIGFkZGVkIHRvIExMTSBtb2RlbHMuYCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gY2F0Y2ggKHBlcnNpc3RFcnIpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy53YXJuKCdbT0xMQU1BLVNFVFRJTkdTXSBQb3N0LWRvd25sb2FkIGF2YWlsYWJpbGl0eSBjaGVjayBmYWlsZWQnLCB7IGVycm9yOiBwZXJzaXN0RXJyLCBtb2RlbE5hbWUgfSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdG1vZGVsSW5wdXQudmFsdWUgPSAnJztcblx0XHRcdFx0XHRcdGRvd25sb2FkQnRuQ29tcD8uc2V0RGlzYWJsZWQodHJ1ZSk7XG5cblx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignW09MTEFNQS1TRVRUSU5HU10gRG93bmxvYWQgZmFpbGVkJywgeyBlcnJvciwgbW9kZWxOYW1lIH0pO1xuXHRcdFx0XHRcdFx0Y29uc3QgZXJyb3JNc2cgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gRmFpbGVkIHRvIGRvd25sb2FkICR7bW9kZWxOYW1lfTogJHtlcnJvck1zZ31gKTtcblx0XHRcdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHRcdFx0Ly8gUmVjb21wdXRlIGVuYWJsZWQgc3RhdGUgYmFzZWQgb24gY3VycmVudCBpbnB1dFxuXHRcdFx0XHRcdFx0Y29uc3QgaGFzVmFsdWUgPSAhIShtb2RlbElucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuXHRcdFx0XHRcdFx0ZG93bmxvYWRCdG5Db21wPy5zZXREaXNhYmxlZCghaGFzVmFsdWUpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogQWRkIGN1c3RvbSBlbWJlZGRpbmcgbW9kZWwgZW50cnkgVUlcblx0ICovXG5cdGFzeW5jIGFkZEN1c3RvbUVtYmVkZGluZ01vZGVsRW50cnkoY29udGVudDogSFRNTEVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCBjdXN0b21Nb2RlbFNldHRpbmcgPSBuZXcgU2V0dGluZyhjb250ZW50KVxuXHRcdFx0LnNldE5hbWUoJ0N1c3RvbSBFbWJlZGRpbmcgTW9kZWwnKVxuXHRcdFx0LnNldERlc2MoJ0Rvd25sb2FkIGFueSBPbGxhbWEgZW1iZWRkaW5nIG1vZGVsIGJ5IG5hbWUgKGUuZy4sIG5vbWljLWVtYmVkLXRleHQsIG14YmFpLWVtYmVkLWxhcmdlKScpO1xuXG5cdFx0bGV0IG1vZGVsSW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQ7XG5cdFx0bGV0IGRvd25sb2FkQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudDtcblx0XHRsZXQgZG93bmxvYWRCdG5Db21wOiBhbnk7XG5cdFx0Y29uc3Qgc3RhdHVzQ29udGFpbmVyID0gY3VzdG9tTW9kZWxTZXR0aW5nLnNldHRpbmdFbC5jcmVhdGVEaXYoKTtcblx0XHRzdGF0dXNDb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IGBcblx0XHRcdG1hcmdpbi10b3A6IDhweDtcblx0XHRcdHBhZGRpbmc6IDhweDtcblx0XHRcdGJvcmRlci1yYWRpdXM6IDRweDtcblx0XHRcdGZvbnQtc2l6ZTogMC45ZW07XG5cdFx0XHRtaW4taGVpZ2h0OiAyMHB4O1xuXHRcdGA7XG5cblx0XHRjdXN0b21Nb2RlbFNldHRpbmcuYWRkVGV4dCh0ZXh0ID0+IHtcblx0XHRcdG1vZGVsSW5wdXQgPSB0ZXh0LmlucHV0RWw7XG5cdFx0XHR0ZXh0LnNldFBsYWNlaG9sZGVyKCdFbnRlciBlbWJlZGRpbmcgbW9kZWwgbmFtZScpXG5cdFx0XHRcdC5vbkNoYW5nZSgodmFsdWUpID0+IHtcblx0XHRcdFx0XHRjb25zdCBoYXNWYWx1ZSA9ICEhdmFsdWUudHJpbSgpO1xuXHRcdFx0XHRcdGlmIChkb3dubG9hZEJ0bkNvbXAgJiYgdHlwZW9mIGRvd25sb2FkQnRuQ29tcC5zZXREaXNhYmxlZCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0ZG93bmxvYWRCdG5Db21wLnNldERpc2FibGVkKCFoYXNWYWx1ZSk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChkb3dubG9hZEJ1dHRvbikge1xuXHRcdFx0XHRcdFx0ZG93bmxvYWRCdXR0b24uZGlzYWJsZWQgPSAhaGFzVmFsdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdGN1c3RvbU1vZGVsU2V0dGluZy5hZGRCdXR0b24oYnV0dG9uID0+IHtcblx0XHRcdGRvd25sb2FkQnRuQ29tcCA9IGJ1dHRvbjtcblx0XHRcdGRvd25sb2FkQnV0dG9uID0gYnV0dG9uLmJ1dHRvbkVsO1xuXHRcdFx0YnV0dG9uXG5cdFx0XHRcdC5zZXRCdXR0b25UZXh0KCfirIcgRG93bmxvYWQnKVxuXHRcdFx0XHQuc2V0VG9vbHRpcCgnRG93bmxvYWQgdGhpcyBlbWJlZGRpbmcgbW9kZWwgZnJvbSBPbGxhbWEgcmVnaXN0cnknKVxuXHRcdFx0XHQuc2V0RGlzYWJsZWQodHJ1ZSlcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IG1vZGVsTmFtZSA9IChtb2RlbElucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuXHRcdFx0XHRcdGlmICghbW9kZWxOYW1lKSB7XG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdbRVJST1JdIFBsZWFzZSBlbnRlciBhIG1vZGVsIG5hbWUnKTtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5pbmZvKCdbT0xMQU1BLVNFVFRJTkdTXSBDdXN0b20gZW1iZWRkaW5nIGRvd25sb2FkIHJlcXVlc3RlZCcsIHsgbW9kZWxOYW1lIH0pO1xuXHRcdFx0XHRcdFx0ZG93bmxvYWRCdG5Db21wPy5zZXREaXNhYmxlZCh0cnVlKTtcblx0XHRcdFx0XHRcdHN0YXR1c0NvbnRhaW5lci5lbXB0eSgpO1xuXHRcdFx0XHRcdFx0c3RhdHVzQ29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IGBbU1RBUlRdIERvd25sb2FkaW5nICR7bW9kZWxOYW1lfS4uLmAgfSk7XG5cblx0XHRcdFx0XHRcdGNvbnN0IG9sbGFtYVNlcnZpY2UgPSB0aGlzLmdldE9sbGFtYVNlcnZpY2UoKTtcblx0XHRcdFx0XHRcdGNvbnN0IGlzQXZhaWxhYmxlID0gYXdhaXQgb2xsYW1hU2VydmljZS5pc01vZGVsQXZhaWxhYmxlKG1vZGVsTmFtZSk7XG5cdFx0XHRcdFx0XHRpZiAoaXNBdmFpbGFibGUpIHtcblx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgW0lORk9dIE1vZGVsICR7bW9kZWxOYW1lfSBpcyBhbHJlYWR5IGluc3RhbGxlZGApO1xuXHRcdFx0XHRcdFx0XHRzdGF0dXNDb250YWluZXIuZW1wdHkoKTtcblx0XHRcdFx0XHRcdFx0c3RhdHVzQ29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IGBbSU5GT10gJHttb2RlbE5hbWV9IGFscmVhZHkgYXZhaWxhYmxlYCB9KTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmRvd25sb2FkT2xsYW1hTW9kZWxXaXRoUHJvZ3Jlc3MobW9kZWxOYW1lLCBzdGF0dXNDb250YWluZXIpO1xuXG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBpbnN0YWxsZWQgPSBhd2FpdCBvbGxhbWFTZXJ2aWNlLmlzTW9kZWxBdmFpbGFibGUobW9kZWxOYW1lKTtcblx0XHRcdFx0XHRcdFx0aWYgKGluc3RhbGxlZCkge1xuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYWRkQ3VzdG9tT2xsYW1hRW1iZWRkaW5nVG9EZWZhdWx0cyhtb2RlbE5hbWUpO1xuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucmVmcmVzaEVtYmVkZGluZ0Ryb3Bkb3ducygpO1xuXHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYFtTVUNDRVNTXSAke21vZGVsTmFtZX0gZG93bmxvYWRlZCBhbmQgYWRkZWQgdG8gZW1iZWRkaW5nIG1vZGVscy5gKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBjYXRjaCAocGVyc2lzdEVycikge1xuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/Lndhcm4oJ1tPTExBTUEtU0VUVElOR1NdIFBvc3QtZG93bmxvYWQgYXZhaWxhYmlsaXR5IGNoZWNrIGZhaWxlZCcsIHsgZXJyb3I6IHBlcnNpc3RFcnIsIG1vZGVsTmFtZSB9KTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0bW9kZWxJbnB1dC52YWx1ZSA9ICcnO1xuXHRcdFx0XHRcdFx0ZG93bmxvYWRCdG5Db21wPy5zZXREaXNhYmxlZCh0cnVlKTtcblxuXHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdbT0xMQU1BLVNFVFRJTkdTXSBEb3dubG9hZCBmYWlsZWQnLCB7IGVycm9yLCBtb2RlbE5hbWUgfSk7XG5cdFx0XHRcdFx0XHRjb25zdCBlcnJvck1zZyA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xuXHRcdFx0XHRcdFx0bmV3IE5vdGljZShgW0VSUk9SXSBGYWlsZWQgdG8gZG93bmxvYWQgJHttb2RlbE5hbWV9OiAke2Vycm9yTXNnfWApO1xuXHRcdFx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdFx0XHRjb25zdCBoYXNWYWx1ZSA9ICEhKG1vZGVsSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG5cdFx0XHRcdFx0XHRkb3dubG9hZEJ0bkNvbXA/LnNldERpc2FibGVkKCFoYXNWYWx1ZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHRcdCogUmVmcmVzaCBlbWJlZGRpbmcgbW9kZWwgZHJvcGRvd25zIGFmdGVyIGFkZGluZyBuZXcgbW9kZWxzXG5cdFx0Ki9cblx0YXN5bmMgcmVmcmVzaEVtYmVkZGluZ0Ryb3Bkb3ducygpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHR0cnkge1xuXHRcdFx0Ly8gRm9yY2UgcmVmcmVzaCBvZiBhdmFpbGFibGUgbW9kZWxzIGNhY2hlXG5cdFx0XHRjb25zdCBvbGxhbWFTZXJ2aWNlID0gdGhpcy5nZXRPbGxhbWFTZXJ2aWNlKCk7XG5cdFx0XHRhd2FpdCBvbGxhbWFTZXJ2aWNlLmdldEF2YWlsYWJsZU1vZGVscyh0cnVlKTtcblxuXHRcdFx0Ly8gRmluZCBhbmQgcmVmcmVzaCBlbWJlZGRpbmcgbW9kZWwgZHJvcGRvd25zXG5cdFx0XHRjb25zdCBkcm9wZG93bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzZWxlY3QnKTtcblx0XHRcdGZvciAoY29uc3QgZHJvcGRvd24gb2YgZHJvcGRvd25zKSB7XG5cdFx0XHRcdGNvbnN0IHBhcmVudENvbnRhaW5lciA9IGRyb3Bkb3duLmNsb3Nlc3QoJy5zZXR0aW5nLWl0ZW0nKTtcblx0XHRcdFx0aWYgKHBhcmVudENvbnRhaW5lcikge1xuXHRcdFx0XHRcdGNvbnN0IGxhYmVsID0gcGFyZW50Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5zZXR0aW5nLWl0ZW0tbmFtZScpO1xuXHRcdFx0XHRcdGlmIChsYWJlbCAmJiBsYWJlbC50ZXh0Q29udGVudD8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZW1iZWRkaW5nJykpIHtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucG9wdWxhdGVPbGxhbWFNb2RlbHNXaXRoU3RhdHVzKGRyb3Bkb3duKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW09MTEFNQS1TRVRUSU5HU10gRXJyb3IgcmVmcmVzaGluZyBlbWJlZGRpbmcgZHJvcGRvd25zJywgeyBlcnJvciB9KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0XHQqIFJlZnJlc2ggTExNIG1vZGVsIGRyb3Bkb3ducyBhZnRlciBhZGRpbmcgbmV3IG1vZGVsc1xuXHRcdCovXG5cdGFzeW5jIHJlZnJlc2hMTE1Ecm9wZG93bnMoKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0dHJ5IHtcblx0XHRcdC8vIEZvcmNlIHJlZnJlc2ggb2YgYXZhaWxhYmxlIG1vZGVscyBjYWNoZVxuXHRcdFx0Y29uc3Qgb2xsYW1hU2VydmljZSA9IHRoaXMuZ2V0T2xsYW1hU2VydmljZSgpO1xuXHRcdFx0YXdhaXQgb2xsYW1hU2VydmljZS5nZXRBdmFpbGFibGVNb2RlbHModHJ1ZSk7XG5cblx0XHRcdC8vIEZpbmQgYW5kIHJlZnJlc2ggTExNIG1vZGVsIGRyb3Bkb3duc1xuXHRcdFx0Y29uc3QgZHJvcGRvd25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2VsZWN0Jyk7XG5cdFx0XHRmb3IgKGNvbnN0IGRyb3Bkb3duIG9mIGRyb3Bkb3ducykge1xuXHRcdFx0XHRjb25zdCBwYXJlbnRDb250YWluZXIgPSBkcm9wZG93bi5jbG9zZXN0KCcuc2V0dGluZy1pdGVtJyk7XG5cdFx0XHRcdGlmIChwYXJlbnRDb250YWluZXIpIHtcblx0XHRcdFx0XHRjb25zdCBsYWJlbCA9IHBhcmVudENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2V0dGluZy1pdGVtLW5hbWUnKTtcblx0XHRcdFx0XHRpZiAobGFiZWwgJiYgKGxhYmVsLnRleHRDb250ZW50Py50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdsbG0nKSB8fCBsYWJlbC50ZXh0Q29udGVudD8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnbW9kZWwnKSkpIHtcblx0XHRcdFx0XHRcdC8vIFNraXAgZW1iZWRkaW5nIGRyb3Bkb3duc1xuXHRcdFx0XHRcdFx0aWYgKCFsYWJlbC50ZXh0Q29udGVudD8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZW1iZWRkaW5nJykpIHtcblx0XHRcdFx0XHRcdFx0Y29uc3Qgb3B0aW9ucyA9IEFycmF5LmZyb20oZHJvcGRvd24ub3B0aW9ucyk7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGN1cnJlbnRWYWx1ZSA9IGRyb3Bkb3duLnZhbHVlO1xuXG5cdFx0XHRcdFx0XHRcdC8vIENsZWFyIGFuZCByZXBvcHVsYXRlIGRyb3Bkb3duXG5cdFx0XHRcdFx0XHRcdGRyb3Bkb3duLmlubmVySFRNTCA9ICcnO1xuXG5cdFx0XHRcdFx0XHRcdC8vIEFkZCBtb2RlbHMgZnJvbSBzZXR0aW5nc1xuXHRcdFx0XHRcdFx0XHRjb25zdCBsbG1Nb2RlbHMgPSB0aGlzLmdldE9sbGFtYUxMTU1vZGVsc0Zyb21TZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0XHRsbG1Nb2RlbHMuZm9yRWFjaChtb2RlbCA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG5cdFx0XHRcdFx0XHRcdFx0b3B0aW9uLnZhbHVlID0gbW9kZWwubmFtZTtcblx0XHRcdFx0XHRcdFx0XHRvcHRpb24udGV4dENvbnRlbnQgPSBtb2RlbC5uYW1lO1xuXHRcdFx0XHRcdFx0XHRcdGRyb3Bkb3duLmFwcGVuZENoaWxkKG9wdGlvbik7XG5cdFx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRcdC8vIFJlc3RvcmUgc2VsZWN0aW9uIGlmIGl0IHN0aWxsIGV4aXN0c1xuXHRcdFx0XHRcdFx0XHRpZiAoQXJyYXkuZnJvbShkcm9wZG93bi5vcHRpb25zKS5zb21lKG9wdCA9PiBvcHQudmFsdWUgPT09IGN1cnJlbnRWYWx1ZSkpIHtcblx0XHRcdFx0XHRcdFx0XHRkcm9wZG93bi52YWx1ZSA9IGN1cnJlbnRWYWx1ZTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbT0xMQU1BLVNFVFRJTkdTXSBFcnJvciByZWZyZXNoaW5nIExMTSBkcm9wZG93bnMnLCB7IGVycm9yIH0pO1xuXHRcdH1cblx0fVxufVxuXG4vLyBAdmVzc2VsLWNsb3NlOkJyYWdpIiwiLy8gQHZlc3NlbC1wcm90b2NvbDpCcmFnaSBnb3Zlcm5zOnJlZmFjdG9yIGNvbnRleHQ6RXh0cmFjdGVkIE1DUCBUb29scyBVSSBjb29yZGluYXRpb24gZnJvbSBtb25vbGl0aGljIFNldHRpbmdzVGFiXG4vLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbR3JhcGhpdGlQbHVnaW4sIE9ic2lkaWFuIEFQSSBjb21wb25lbnRzLCBGb2xkZXJTdWdnZXN0XVxuLy8gQHB1cnBvc2U6IFNlcGFyYXRlIE1DUCBUb29scyBVSSBsb2dpYyBmcm9tIG1haW4gc2V0dGluZ3MgdG8gaW1wcm92ZSBtYWludGFpbmFiaWxpdHlcbi8vIEByZXN1bHQ6IENsZWFuIHNlcGFyYXRpb24gYmV0d2VlbiBVSSBjb29yZGluYXRpb24gYW5kIGJ1c2luZXNzIGxvZ2ljIGZvciBNQ1AgVG9vbHMgZnVuY3Rpb25hbGl0eVxuLy8gQHNpZ25lZDogQy5CasO4cm5cblxuaW1wb3J0IHsgQXBwLCBTZXR0aW5nLCBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgdHlwZSBHcmFwaGl0aVBsdWdpbiBmcm9tICcuLi9tYWluJztcbmltcG9ydCB7IEZvbGRlclN1Z2dlc3QgfSBmcm9tICcuLi91dGlscy9Gb2xkZXJTdWdnZXN0JztcblxuZXhwb3J0IGNsYXNzIE1DUFRvb2xTZXR0aW5ncyB7XG5cdHByaXZhdGUgcGx1Z2luOiBHcmFwaGl0aVBsdWdpbjtcblx0cHJpdmF0ZSBhcHA6IEFwcDtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBHcmFwaGl0aVBsdWdpbikge1xuXHRcdHRoaXMuYXBwID0gYXBwO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cblxuXHQvKipcblx0ICogQWRkIG1haW4gTUNQIFRvb2xzIGFjY29yZGlvbiBzZWN0aW9uXG5cdCAqL1xuXHRhZGRNQ1BUb29sc0FjY29yZGlvbihjb250ZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xuXHRcdHRyeSB7XG5cdFx0XHQvLyBEZXNjcmlwdGlvblxuXHRcdFx0Y29udGVudC5jcmVhdGVFbCgncCcsIHtcblx0XHRcdFx0dGV4dDogJ0NvbmZpZ3VyZSBNQ1AgKE1vZGVsIENvbnRleHQgUHJvdG9jb2wpIHRvb2xzIGludGVncmF0aW9uLCBkZWZhdWx0IG5vdGUgZm9sZGVycywgYW5kIHRoaXJkLXBhcnR5IHBsdWdpbiBjb25uZWN0aW9ucy4nLFxuXHRcdFx0XHRjbHM6ICdzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24nXG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gRGVmYXVsdHMgU2VjdGlvbiAtIFNpbXBsZSBpbXBsZW1lbnRhdGlvbiBmaXJzdFxuXHRcdFx0dGhpcy5hZGRNQ1BEZWZhdWx0c1NlY3Rpb24oY29udGVudCk7XG5cblx0XHRcdC8vIDNyZCBQYXJ0eSBJbnRlZ3JhdGlvbnMgU2VjdGlvblxuXHRcdFx0dGhpcy5hZGRNQ1BJbnRlZ3JhdGlvbnNTZWN0aW9uKGNvbnRlbnQpO1xuXG5cdFx0XHQvLyBUb29sIERlZmluaXRpb25zIFNlY3Rpb25cblx0XHRcdHRoaXMuYWRkTUNQVG9vbERlZmluaXRpb25zU2VjdGlvbihjb250ZW50KTtcblxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdDcml0aWNhbCBlcnJvciBpbiBNQ1AgVG9vbHMgYWNjb3JkaW9uJywge1xuXHRcdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpLFxuXHRcdFx0XHRzdGFjazogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLnN0YWNrIDogdW5kZWZpbmVkXG5cdFx0XHR9KTtcblx0XHRcdGNvbnRlbnQuY3JlYXRlRWwoJ2RpdicsIHtcblx0XHRcdFx0dGV4dDogYE1DUCBUb29scyBzZWN0aW9uIGZhaWxlZCB0byBsb2FkOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWAsXG5cdFx0XHRcdGNsczogJ3NldHRpbmctaXRlbS1kZXNjcmlwdGlvbidcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBBZGQgTUNQIERlZmF1bHRzIHNlY3Rpb25cblx0ICovXG5cdHByaXZhdGUgYWRkTUNQRGVmYXVsdHNTZWN0aW9uKGNvbnRlbnQ6IEhUTUxFbGVtZW50KTogdm9pZCB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnRlbnQuY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnRGVmYXVsdHMnLCBjbHM6ICdzZXR0aW5nLWl0ZW0tbmFtZScgfSk7XG5cblx0XHRcdC8vIExpdmUgZm9sZGVyIHNlYXJjaCB3aXRoIHN1Z2dlc3Rpb25zXG5cdFx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxuXHRcdFx0XHQuc2V0TmFtZSgnRGVmYXVsdCBmb2xkZXIgZm9yIE1DUCBub3RlcycgKVxuXHRcdFx0XHQuc2V0RGVzYygnRGVmYXVsdCBmb2xkZXIgd2hlcmUgTUNQLWdlbmVyYXRlZCBub3RlcyB3aWxsIGJlIGNyZWF0ZWQuIFN0YXJ0IHR5cGluZyB0byBzZWUgZm9sZGVyIHN1Z2dlc3Rpb25zLicpXG5cdFx0XHRcdC5hZGRTZWFyY2goKGNiKSA9PiB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdC8vIEluaXRpYWxpemUgRm9sZGVyU3VnZ2VzdCBmb3IgbGl2ZSBzdWdnZXN0aW9uc1xuXHRcdFx0XHRcdFx0bmV3IEZvbGRlclN1Z2dlc3QodGhpcy5hcHAsIGNiLmlucHV0RWwpO1xuXG5cdFx0XHRcdFx0XHRjYi5zZXRQbGFjZWhvbGRlcignZS5nLiwgTUNQIE5vdGVzLCBLbm93bGVkZ2UvTUNQLCBvciBsZWF2ZSBlbXB0eSBmb3IgdmF1bHQgcm9vdCcpXG5cdFx0XHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5tY3BUb29scz8uZGVmYXVsdHM/LmluYm94Rm9sZGVyIHx8ICcnKVxuXHRcdFx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRcdC8vIEZvbGxvdyBleGlzdGluZyBzZXR0aW5ncyBwYXR0ZXJuIC0gZGlyZWN0IGFzc2lnbm1lbnQgdG8gcGx1Z2luLnNldHRpbmdzXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLm1jcFRvb2xzKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm1jcFRvb2xzID0ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlZmF1bHRzOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpbmJveEZvbGRlcjogJycsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRlbmFibGVTbWFydEZvbGRlclJlc29sdXRpb246IHRydWVcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGludGVncmF0aW9uczoge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGVtcGxhdGVyOiB7IGRldGVjdGVkOiBmYWxzZSwgZW5hYmxlZDogZmFsc2UsIHVzZVRlbXBsYXRlRm9sZGVyczogZmFsc2UgfSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHBlcmlvZGljTm90ZXM6IHsgZGV0ZWN0ZWQ6IGZhbHNlLCBlbmFibGVkOiBmYWxzZSwgdXNlUGVyaW9kaWNGb2xkZXJzOiBmYWxzZSB9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0b29sczogW11cblx0XHRcdFx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3MubWNwVG9vbHMuZGVmYXVsdHMpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubWNwVG9vbHMuZGVmYXVsdHMgPSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aW5ib3hGb2xkZXI6ICcnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVuYWJsZVNtYXJ0Rm9sZGVyUmVzb2x1dGlvbjogdHJ1ZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubWNwVG9vbHMuZGVmYXVsdHMuaW5ib3hGb2xkZXIgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXG5cdFx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoc2F2ZUVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdFcnJvciBzYXZpbmcgTUNQIGRlZmF1bHQgZm9sZGVyIHNldHRpbmcnLCB7IGVycm9yOiBzYXZlRXJyb3IgfSk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdH0gY2F0Y2ggKHNldHVwRXJyb3IpIHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ0Vycm9yIHNldHRpbmcgdXAgZm9sZGVyIHNlYXJjaCBpbnB1dCcsIHsgZXJyb3I6IHNldHVwRXJyb3IgfSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignRXJyb3IgaW4gRGVmYXVsdHMgc2VjdGlvbicsIHtcblx0XHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKVxuXHRcdFx0fSk7XG5cdFx0XHRjb250ZW50LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICdFcnJvciBsb2FkaW5nIERlZmF1bHRzIHNlY3Rpb24nLCBjbHM6ICdzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24nIH0pO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBBZGQgTUNQIEludGVncmF0aW9ucyBzZWN0aW9uXG5cdCAqL1xuXHRwcml2YXRlIGFkZE1DUEludGVncmF0aW9uc1NlY3Rpb24oY29udGVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcblx0XHR0cnkge1xuXHRcdFx0Y29udGVudC5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICczcmQgUGFydHkgSW50ZWdyYXRpb25zJywgY2xzOiAnc2V0dGluZy1pdGVtLW5hbWUnIH0pO1xuXG5cdFx0XHQvLyBUZW1wbGF0ZXIgSW50ZWdyYXRpb24gLSBzaW1wbGUgZGV0ZWN0aW9uIHVzaW5nIE9ic2lkaWFuIEFQSVxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29uc3QgdGVtcGxhdGVyRGV0ZWN0ZWQgPSAhISh0aGlzLmFwcCBhcyBhbnkpLnBsdWdpbnMucGx1Z2luc1tcInRlbXBsYXRlci1vYnNpZGlhblwiXTtcblx0XHRcdFx0Y29uc3QgdGVtcGxhdGVyRW5hYmxlZCA9IHRoaXMucGx1Z2luLnNldHRpbmdzLm1jcFRvb2xzPy5pbnRlZ3JhdGlvbnM/LnRlbXBsYXRlcj8uZW5hYmxlZCB8fCBmYWxzZTtcblxuXHRcdFx0XHRjb25zdCB0ZW1wbGF0ZXJTZXR0aW5nID0gbmV3IFNldHRpbmcoY29udGVudClcblx0XHRcdFx0XHQuc2V0TmFtZSgnVGVtcGxhdGVyIFBsdWdpbiBJbnRlZ3JhdGlvbicgKVxuXHRcdFx0XHRcdC5zZXREZXNjKCdJbnRlZ3JhdGUgd2l0aCBUZW1wbGF0ZXIgcGx1Z2luIGZvciBlbmhhbmNlZCBub3RlIGNyZWF0aW9uJyk7XG5cblx0XHRcdFx0Ly8gQWRkIHNpbXBsZSBncmVlbiBjaGVjayBvciByZWQgeCB0byB0aGUgbGVmdFxuXHRcdFx0XHRjb25zdCBzdGF0dXNJY29uID0gdGVtcGxhdGVyU2V0dGluZy5uYW1lRWwuY3JlYXRlU3Bhbih7XG5cdFx0XHRcdFx0Y2xzOiAnbWNwLXN0YXR1cy1pY29uJyxcblx0XHRcdFx0XHR0ZXh0OiB0ZW1wbGF0ZXJEZXRlY3RlZCA/ICcg4pyTJyA6ICcg4pyXJ1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0c3RhdHVzSWNvbi5zdHlsZS5jc3NUZXh0ID0gYFxuXHRcdFx0XHRcdGNvbG9yOiAke3RlbXBsYXRlckRldGVjdGVkID8gJ3ZhcigtLWNvbG9yLWdyZWVuKScgOiAndmFyKC0tY29sb3ItcmVkKSd9O1xuXHRcdFx0XHRcdGZvbnQtd2VpZ2h0OiBib2xkO1xuXHRcdFx0XHRcdG1hcmdpbi1yaWdodDogNHB4O1xuXHRcdFx0XHRgO1xuXG5cdFx0XHRcdHRlbXBsYXRlclNldHRpbmcuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB7XG5cdFx0XHRcdFx0dG9nZ2xlLnNldFZhbHVlKHRlbXBsYXRlckVuYWJsZWQpXG5cdFx0XHRcdFx0XHQuc2V0RGlzYWJsZWQoIXRlbXBsYXRlckRldGVjdGVkKVxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3MubWNwVG9vbHMpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm1jcFRvb2xzID0ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRkZWZhdWx0czogeyBpbmJveEZvbGRlcjogJycsIGVuYWJsZVNtYXJ0Rm9sZGVyUmVzb2x1dGlvbjogdHJ1ZSB9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpbnRlZ3JhdGlvbnM6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0ZW1wbGF0ZXI6IHsgZGV0ZWN0ZWQ6IGZhbHNlLCBlbmFibGVkOiBmYWxzZSwgdXNlVGVtcGxhdGVGb2xkZXJzOiBmYWxzZSB9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHBlcmlvZGljTm90ZXM6IHsgZGV0ZWN0ZWQ6IGZhbHNlLCBlbmFibGVkOiBmYWxzZSwgdXNlUGVyaW9kaWNGb2xkZXJzOiBmYWxzZSB9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRvb2xzOiBbXVxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubWNwVG9vbHMuaW50ZWdyYXRpb25zLnRlbXBsYXRlci5lbmFibGVkID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnVGVtcGxhdGVyIGludGVncmF0aW9uIHRvZ2dsZWQnLCB7IGVuYWJsZWQ6IHZhbHVlIH0pO1xuXHRcdFx0XHRcdFx0XHR9IGNhdGNoIChzYXZlRXJyb3IpIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdGYWlsZWQgdG8gc2F2ZSBUZW1wbGF0ZXIgc2V0dGluZycsIHsgZXJyb3I6IHNhdmVFcnJvciB9KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGlmICghdGVtcGxhdGVyRGV0ZWN0ZWQpIHtcblx0XHRcdFx0XHR0ZW1wbGF0ZXJTZXR0aW5nLmRlc2NFbC5hcHBlbmRUZXh0KCcgKFBsdWdpbiBub3QgZGV0ZWN0ZWQgLSBpbnN0YWxsIFRlbXBsYXRlciB0byBlbmFibGUgdGhpcyBpbnRlZ3JhdGlvbiknKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCAodGVtcGxhdGVyRXJyb3IpIHtcblx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignRXJyb3Igc2V0dGluZyB1cCBUZW1wbGF0ZXIgaW50ZWdyYXRpb24nLCB7IGVycm9yOiB0ZW1wbGF0ZXJFcnJvciB9KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUGVyaW9kaWMgTm90ZXMgSW50ZWdyYXRpb24gLSBzaW1wbGUgZGV0ZWN0aW9uIHVzaW5nIE9ic2lkaWFuIEFQSVxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29uc3QgcGVyaW9kaWNOb3Rlc0RldGVjdGVkID0gISEodGhpcy5hcHAgYXMgYW55KS5wbHVnaW5zLnBsdWdpbnNbXCJwZXJpb2RpYy1ub3Rlc1wiXTtcblx0XHRcdFx0Y29uc3QgcGVyaW9kaWNOb3Rlc0VuYWJsZWQgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5tY3BUb29scz8uaW50ZWdyYXRpb25zPy5wZXJpb2RpY05vdGVzPy5lbmFibGVkIHx8IGZhbHNlO1xuXG5cdFx0XHRcdGNvbnN0IHBlcmlvZGljTm90ZXNTZXR0aW5nID0gbmV3IFNldHRpbmcoY29udGVudClcblx0XHRcdFx0XHQuc2V0TmFtZSgnUGVyaW9kaWMgTm90ZXMgUGx1Z2luIEludGVncmF0aW9uJyApXG5cdFx0XHRcdFx0LnNldERlc2MoJ0ludGVncmF0ZSB3aXRoIFBlcmlvZGljIE5vdGVzIHBsdWdpbiBmb3IgdGltZS1iYXNlZCBub3RlIG9yZ2FuaXphdGlvbicpO1xuXG5cdFx0XHRcdC8vIEFkZCBzaW1wbGUgZ3JlZW4gY2hlY2sgb3IgcmVkIHggdG8gdGhlIGxlZnRcblx0XHRcdFx0Y29uc3Qgc3RhdHVzSWNvbiA9IHBlcmlvZGljTm90ZXNTZXR0aW5nLm5hbWVFbC5jcmVhdGVTcGFuKHtcblx0XHRcdFx0XHRjbHM6ICdtY3Atc3RhdHVzLWljb24nLFxuXHRcdFx0XHRcdHRleHQ6IHBlcmlvZGljTm90ZXNEZXRlY3RlZCA/ICcg4pyTJyA6ICcg4pyXJ1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0c3RhdHVzSWNvbi5zdHlsZS5jc3NUZXh0ID0gYFxuXHRcdFx0XHRcdGNvbG9yOiAke3BlcmlvZGljTm90ZXNEZXRlY3RlZCA/ICd2YXIoLS1jb2xvci1ncmVlbiknIDogJ3ZhcigtLWNvbG9yLXJlZCknfTtcblx0XHRcdFx0XHRmb250LXdlaWdodDogYm9sZDtcblx0XHRcdFx0XHRtYXJnaW4tcmlnaHQ6IDRweDtcblx0XHRcdFx0YDtcblxuXHRcdFx0XHRwZXJpb2RpY05vdGVzU2V0dGluZy5hZGRUb2dnbGUodG9nZ2xlID0+IHtcblx0XHRcdFx0XHR0b2dnbGUuc2V0VmFsdWUocGVyaW9kaWNOb3Rlc0VuYWJsZWQpXG5cdFx0XHRcdFx0XHQuc2V0RGlzYWJsZWQoIXBlcmlvZGljTm90ZXNEZXRlY3RlZClcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLm1jcFRvb2xzKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5tY3BUb29scyA9IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZGVmYXVsdHM6IHsgaW5ib3hGb2xkZXI6ICcnLCBlbmFibGVTbWFydEZvbGRlclJlc29sdXRpb246IHRydWUgfSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0aW50ZWdyYXRpb25zOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGVtcGxhdGVyOiB7IGRldGVjdGVkOiBmYWxzZSwgZW5hYmxlZDogZmFsc2UsIHVzZVRlbXBsYXRlRm9sZGVyczogZmFsc2UgfSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwZXJpb2RpY05vdGVzOiB7IGRldGVjdGVkOiBmYWxzZSwgZW5hYmxlZDogZmFsc2UsIHVzZVBlcmlvZGljRm9sZGVyczogZmFsc2UgfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0b29sczogW11cblx0XHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm1jcFRvb2xzLmludGVncmF0aW9ucy5wZXJpb2RpY05vdGVzLmVuYWJsZWQgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdQZXJpb2RpYyBOb3RlcyBpbnRlZ3JhdGlvbiB0b2dnbGVkJywgeyBlbmFibGVkOiB2YWx1ZSB9KTtcblx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoc2F2ZUVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignRmFpbGVkIHRvIHNhdmUgUGVyaW9kaWMgTm90ZXMgc2V0dGluZycsIHsgZXJyb3I6IHNhdmVFcnJvciB9KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGlmICghcGVyaW9kaWNOb3Rlc0RldGVjdGVkKSB7XG5cdFx0XHRcdFx0cGVyaW9kaWNOb3Rlc1NldHRpbmcuZGVzY0VsLmFwcGVuZFRleHQoJyAoUGx1Z2luIG5vdCBkZXRlY3RlZCAtIGluc3RhbGwgUGVyaW9kaWMgTm90ZXMgdG8gZW5hYmxlIHRoaXMgaW50ZWdyYXRpb24pJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKHBlcmlvZGljRXJyb3IpIHtcblx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignRXJyb3Igc2V0dGluZyB1cCBQZXJpb2RpYyBOb3RlcyBpbnRlZ3JhdGlvbicsIHsgZXJyb3I6IHBlcmlvZGljRXJyb3IgfSk7XG5cdFx0XHR9XG5cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignRXJyb3IgaW4gM3JkIFBhcnR5IEludGVncmF0aW9ucyBzZWN0aW9uJywge1xuXHRcdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpXG5cdFx0XHR9KTtcblx0XHRcdGNvbnRlbnQuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ0Vycm9yIGxvYWRpbmcgM3JkIFBhcnR5IEludGVncmF0aW9ucyBzZWN0aW9uJywgY2xzOiAnc2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uJyB9KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQWRkIE1DUCBUb29sIERlZmluaXRpb25zIHNlY3Rpb25cblx0ICovXG5cdHByaXZhdGUgYWRkTUNQVG9vbERlZmluaXRpb25zU2VjdGlvbihjb250ZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdBZGRpbmcgTUNQIFRvb2wgRGVmaW5pdGlvbnMgc2VjdGlvbicpO1xuXG5cdFx0XHRjb250ZW50LmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ1Rvb2wgRGVmaW5pdGlvbnMnLCBjbHM6ICdzZXR0aW5nLWl0ZW0tbmFtZScgfSk7XG5cblx0XHRcdC8vIEF2YWlsYWJsZSBNQ1AgVG9vbHMgdGl0bGVcblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXG5cdFx0XHRcdC5zZXROYW1lKCdBdmFpbGFibGUgTUNQIFRvb2xzJyApXG5cdFx0XHRcdC5zZXREZXNjKCdDdXJyZW50bHkgYXZhaWxhYmxlIE1DUCB0b29scyBmcm9tIG1lZ2FtZW1fbWNwX3NlcnZlci5weScpO1xuXG5cdFx0XHQvLyBDcmVhdGUgdG9vbHMgZGlzcGxheSBjb250YWluZXIgYmVsb3cgdGhlIHNldHRpbmdcblx0XHRcdGNvbnN0IHRvb2xzQ29udGFpbmVyID0gY29udGVudC5jcmVhdGVEaXYoJ21jcC10b29scy1kaXNwbGF5Jyk7XG5cdFx0XHR0b29sc0NvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gYFxuXHRcdFx0XHRtYXJnaW46IDE2cHggMDtcblx0XHRcdFx0Ym9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuXHRcdFx0XHRib3JkZXItcmFkaXVzOiA2cHg7XG5cdFx0XHRcdG1heC1oZWlnaHQ6IDQwMHB4O1xuXHRcdFx0XHRvdmVyZmxvdy15OiBhdXRvO1xuXHRcdFx0YDtcblxuXHRcdFx0Ly8gR3JhcGhpdGkgVG9vbHMgU2VjdGlvblxuXHRcdFx0Y29uc3QgZ3JhcGhpdGlIZWFkZXIgPSB0b29sc0NvbnRhaW5lci5jcmVhdGVEaXYoKTtcblx0XHRcdGdyYXBoaXRpSGVhZGVyLnN0eWxlLmNzc1RleHQgPSBgXG5cdFx0XHRcdGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpO1xuXHRcdFx0XHRwYWRkaW5nOiA4cHggMTJweDtcblx0XHRcdFx0Zm9udC13ZWlnaHQ6IDYwMDtcblx0XHRcdFx0Ym9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcblx0XHRcdGA7XG5cdFx0XHRncmFwaGl0aUhlYWRlci50ZXh0Q29udGVudCA9ICdHcmFwaGl0aSBNZW1vcnkgVG9vbHMgKDkgdG9vbHMpJztcblxuXHRcdFx0Y29uc3QgZ3JhcGhpdGlUb29scyA9IFtcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6ICdhZGRfbWVtb3J5Jyxcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogJ0FkZCBhIG1lbW9yeS9lcGlzb2RlIHRvIHRoZSBncmFwaCAoYWxpYXNlczogbW0sIG1lZ2FtZW0sIG1lbW9yeSknXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRuYW1lOiAnc2VhcmNoX21lbW9yeV9ub2RlcycsXG5cdFx0XHRcdFx0ZGVzY3JpcHRpb246ICdTZWFyY2ggZm9yIG5vZGVzIGluIHRoZSBtZW1vcnkgZ3JhcGggKGFsaWFzZXM6IG1tLCBtZWdhbWVtLCBtZW1vcnkpJ1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogJ3NlYXJjaF9tZW1vcnlfZmFjdHMnLFxuXHRcdFx0XHRcdGRlc2NyaXB0aW9uOiAnU2VhcmNoIGZvciBmYWN0cy9yZWxhdGlvbnNoaXBzIGluIHRoZSBtZW1vcnkgZ3JhcGggKGFsaWFzZXM6IG1tLCBtZWdhbWVtLCBtZW1vcnkpJ1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogJ2dldF9lcGlzb2RlcycsXG5cdFx0XHRcdFx0ZGVzY3JpcHRpb246ICdHZXQgZXBpc29kZXMgZnJvbSB0aGUgbWVtb3J5IGdyYXBoIChhbGlhc2VzOiBtbSwgbWVnYW1lbSwgbWVtb3J5KSdcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6ICdjbGVhcl9ncmFwaCcsXG5cdFx0XHRcdFx0ZGVzY3JpcHRpb246ICdDbGVhciB0aGUgZW50aXJlIG1lbW9yeSBncmFwaCAoYWxpYXNlczogbW0sIG1lZ2FtZW0sIG1lbW9yeSknXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRuYW1lOiAnZ2V0X2VudGl0eV9lZGdlJyxcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogJ0dldCBlbnRpdHkgZWRnZXMgZnJvbSB0aGUgZ3JhcGggKGFsaWFzZXM6IG1tLCBtZWdhbWVtLCBtZW1vcnkpJ1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogJ2RlbGV0ZV9lbnRpdHlfZWRnZScsXG5cdFx0XHRcdFx0ZGVzY3JpcHRpb246ICdEZWxldGUgZW50aXR5IGVkZ2VzIGZyb20gdGhlIGdyYXBoIChhbGlhc2VzOiBtbSwgbWVnYW1lbSwgbWVtb3J5KSdcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6ICdkZWxldGVfZXBpc29kZScsXG5cdFx0XHRcdFx0ZGVzY3JpcHRpb246ICdEZWxldGUgYW4gZXBpc29kZSBmcm9tIHRoZSBncmFwaCAoYWxpYXNlczogbW0sIG1lZ2FtZW0sIG1lbW9yeSknXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRuYW1lOiAnbGlzdF9ncm91cF9pZHMnLFxuXHRcdFx0XHRcdGRlc2NyaXB0aW9uOiAnTGlzdCBhbGwgYXZhaWxhYmxlIGdyb3VwIElEcyAobmFtZXNwYWNlcykgaW4gdGhlIHZhdWx0IChhbGlhc2VzOiBtbSwgbWVnYW1lbSwgbWVtb3J5KSdcblx0XHRcdFx0fVxuXHRcdFx0XTtcblxuXHRcdFx0Z3JhcGhpdGlUb29scy5mb3JFYWNoKHRvb2wgPT4ge1xuXHRcdFx0XHRjb25zdCB0b29sSXRlbSA9IHRvb2xzQ29udGFpbmVyLmNyZWF0ZURpdigpO1xuXHRcdFx0XHR0b29sSXRlbS5zdHlsZS5jc3NUZXh0ID0gYFxuXHRcdFx0XHRcdHBhZGRpbmc6IDhweCAxMnB4O1xuXHRcdFx0XHRcdGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlci1ob3Zlcik7XG5cdFx0XHRcdGA7XG5cblx0XHRcdFx0Y29uc3QgdG9vbE5hbWUgPSB0b29sSXRlbS5jcmVhdGVEaXYoKTtcblx0XHRcdFx0dG9vbE5hbWUuc3R5bGUuY3NzVGV4dCA9IGBcblx0XHRcdFx0XHRmb250LXdlaWdodDogNTAwO1xuXHRcdFx0XHRcdGNvbG9yOiB2YXIoLS10ZXh0LWFjY2VudCk7XG5cdFx0XHRcdFx0Zm9udC1mYW1pbHk6IHZhcigtLWZvbnQtbW9ub3NwYWNlKTtcblx0XHRcdFx0XHRmb250LXNpemU6IDEzcHg7XG5cdFx0XHRcdGA7XG5cdFx0XHRcdHRvb2xOYW1lLnRleHRDb250ZW50ID0gdG9vbC5uYW1lO1xuXG5cdFx0XHRcdGNvbnN0IHRvb2xEZXNjID0gdG9vbEl0ZW0uY3JlYXRlRGl2KCk7XG5cdFx0XHRcdHRvb2xEZXNjLnN0eWxlLmNzc1RleHQgPSBgXG5cdFx0XHRcdFx0Zm9udC1zaXplOiAxMnB4O1xuXHRcdFx0XHRcdGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcblx0XHRcdFx0XHRtYXJnaW4tdG9wOiAycHg7XG5cdFx0XHRcdGA7XG5cdFx0XHRcdHRvb2xEZXNjLnRleHRDb250ZW50ID0gdG9vbC5kZXNjcmlwdGlvbjtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBPYnNpZGlhbiBUb29scyBTZWN0aW9uXG5cdFx0XHRjb25zdCBvYnNpZGlhbkhlYWRlciA9IHRvb2xzQ29udGFpbmVyLmNyZWF0ZURpdigpO1xuXHRcdFx0b2JzaWRpYW5IZWFkZXIuc3R5bGUuY3NzVGV4dCA9IGBcblx0XHRcdFx0YmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG5cdFx0XHRcdHBhZGRpbmc6IDhweCAxMnB4O1xuXHRcdFx0XHRmb250LXdlaWdodDogNjAwO1xuXHRcdFx0XHRib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuXHRcdFx0XHRtYXJnaW4tdG9wOiA0cHg7XG5cdFx0XHRgO1xuXHRcdFx0b2JzaWRpYW5IZWFkZXIudGV4dENvbnRlbnQgPSAnT2JzaWRpYW4gVmF1bHQgVG9vbHMgKDcgdG9vbHMpJztcblxuXHRcdFx0Y29uc3Qgb2JzaWRpYW5Ub29scyA9IFtcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6ICdzZWFyY2hfb2JzaWRpYW5fbm90ZXMnLFxuXHRcdFx0XHRcdGRlc2NyaXB0aW9uOiAnU2VhcmNoIGZvciBub3RlcyBpbiBPYnNpZGlhbiB2YXVsdCBieSBmaWxlbmFtZSBhbmQvb3IgY29udGVudCAoYWxpYXNlczogbXYsIG15IHZhdWx0LCBvYnNpZGlhbiknXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRuYW1lOiAncmVhZF9vYnNpZGlhbl9ub3RlJyxcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogJ1JlYWQgYSBzcGVjaWZpYyBub3RlIGZyb20gT2JzaWRpYW4gKGFsaWFzZXM6IG12LCBteSB2YXVsdCwgb2JzaWRpYW4pJ1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogJ3VwZGF0ZV9vYnNpZGlhbl9ub3RlJyxcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogJ1VwZGF0ZSBjb250ZW50IG9mIGFuIGV4aXN0aW5nIG5vdGUgKGFsaWFzZXM6IG12LCBteSB2YXVsdCwgb2JzaWRpYW4pJ1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogJ2NyZWF0ZV9vYnNpZGlhbl9ub3RlJyxcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogJ0NyZWF0ZSBhIG5ldyBub3RlIGluIE9ic2lkaWFuIChhbGlhc2VzOiBtdiwgbXkgdmF1bHQsIG9ic2lkaWFuKSdcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6ICdsaXN0X29ic2lkaWFuX3ZhdWx0cycsXG5cdFx0XHRcdFx0ZGVzY3JpcHRpb246ICdMaXN0IGFsbCBhdmFpbGFibGUgT2JzaWRpYW4gdmF1bHRzIChhbGlhc2VzOiBtdiwgbXkgdmF1bHQsIG9ic2lkaWFuKSdcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6ICdleHBsb3JlX3ZhdWx0X2ZvbGRlcnMnLFxuXHRcdFx0XHRcdGRlc2NyaXB0aW9uOiAnRXhwbG9yZSBmb2xkZXIgc3RydWN0dXJlIGluIGFuIE9ic2lkaWFuIHZhdWx0IChxdWVyeSBieSBuYXR1cmFsIGxhbmd1YWdlIG9yIHBhdGgpJ1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogJ2NyZWF0ZV9ub3RlX3dpdGhfdGVtcGxhdGUnLFxuXHRcdFx0XHRcdGRlc2NyaXB0aW9uOiAnQ3JlYXRlIGEgbmV3IG5vdGUgdXNpbmcgYSB0ZW1wbGF0ZXIgdGVtcGxhdGUgKGZ1enp5LW1hdGNoKSBpbiB0aGUgdmF1bHQnXG5cdFx0XHRcdH1cblx0XHRcdF07XG5cblx0XHRcdG9ic2lkaWFuVG9vbHMuZm9yRWFjaCh0b29sID0+IHtcblx0XHRcdFx0Y29uc3QgdG9vbEl0ZW0gPSB0b29sc0NvbnRhaW5lci5jcmVhdGVEaXYoKTtcblx0XHRcdFx0dG9vbEl0ZW0uc3R5bGUuY3NzVGV4dCA9IGBcblx0XHRcdFx0XHRwYWRkaW5nOiA4cHggMTJweDtcblx0XHRcdFx0XHRib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXItaG92ZXIpO1xuXHRcdFx0XHRgO1xuXG5cdFx0XHRcdGNvbnN0IHRvb2xOYW1lID0gdG9vbEl0ZW0uY3JlYXRlRGl2KCk7XG5cdFx0XHRcdHRvb2xOYW1lLnN0eWxlLmNzc1RleHQgPSBgXG5cdFx0XHRcdFx0Zm9udC13ZWlnaHQ6IDUwMDtcblx0XHRcdFx0XHRjb2xvcjogdmFyKC0tdGV4dC1hY2NlbnQpO1xuXHRcdFx0XHRcdGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LW1vbm9zcGFjZSk7XG5cdFx0XHRcdFx0Zm9udC1zaXplOiAxM3B4O1xuXHRcdFx0XHRgO1xuXHRcdFx0XHR0b29sTmFtZS50ZXh0Q29udGVudCA9IHRvb2wubmFtZTtcblxuXHRcdFx0XHRjb25zdCB0b29sRGVzYyA9IHRvb2xJdGVtLmNyZWF0ZURpdigpO1xuXHRcdFx0XHR0b29sRGVzYy5zdHlsZS5jc3NUZXh0ID0gYFxuXHRcdFx0XHRcdGZvbnQtc2l6ZTogMTJweDtcblx0XHRcdFx0XHRjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG5cdFx0XHRcdFx0bWFyZ2luLXRvcDogMnB4O1xuXHRcdFx0XHRgO1xuXHRcdFx0XHR0b29sRGVzYy50ZXh0Q29udGVudCA9IHRvb2wuZGVzY3JpcHRpb247XG5cdFx0XHR9KTtcblxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdFcnJvciBpbiBUb29sIERlZmluaXRpb25zIHNlY3Rpb24nLCB7XG5cdFx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcilcblx0XHRcdH0pO1xuXHRcdFx0Y29udGVudC5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnRXJyb3IgbG9hZGluZyBUb29sIERlZmluaXRpb25zIHNlY3Rpb24nLCBjbHM6ICdzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24nIH0pO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBBdXRvLWRldGVjdCBwbHVnaW5zXG5cdCAqL1xuXHRhc3luYyBhdXRvRGV0ZWN0UGx1Z2lucygpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnUnVubmluZyBhdXRvLWRldGVjdGlvbiBmb3IgYWxsIHBsdWdpbnMnKTtcblxuXHRcdFx0Ly8gR2V0IHZhdWx0IGJhc2UgcGF0aCBmb3IgZGV0ZWN0aW9uXG5cdFx0XHQvLyBAdHMtaWdub3JlIHZhdWx0IGFkYXB0ZXJcblx0XHRcdGNvbnN0IGFkYXB0ZXIgPSAodGhpcy5hcHAudmF1bHQuYWRhcHRlciBhcyBhbnkpO1xuXHRcdFx0Y29uc3QgdmF1bHRQYXRoID0gYWRhcHRlcj8uYmFzZVBhdGg7XG5cblx0XHRcdC8vIERldGVjdCBwbHVnaW5zXG5cdFx0XHRjb25zdCB0ZW1wbGF0ZXJEZXRlY3RlZCA9ICEhKHRoaXMuYXBwIGFzIGFueSkucGx1Z2lucy5wbHVnaW5zW1widGVtcGxhdGVyLW9ic2lkaWFuXCJdO1xuXHRcdFx0Y29uc3QgcGVyaW9kaWNOb3Rlc0RldGVjdGVkID0gISEodGhpcy5hcHAgYXMgYW55KS5wbHVnaW5zLnBsdWdpbnNbXCJwZXJpb2RpYy1ub3Rlc1wiXTtcblxuXHRcdFx0Ly8gRW5zdXJlIE1DUCB0b29scyBzZXR0aW5ncyBzdHJ1Y3R1cmUgZXhpc3RzXG5cdFx0XHR0aGlzLmVuc3VyZU1DUFRvb2xzU2V0dGluZ3MoKTtcblxuXHRcdFx0Ly8gVXBkYXRlIGRldGVjdGlvbiBzdGF0dXMgaW4gc2V0dGluZ3Ncblx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm1jcFRvb2xzLmludGVncmF0aW9ucy50ZW1wbGF0ZXIuZGV0ZWN0ZWQgPSB0ZW1wbGF0ZXJEZXRlY3RlZDtcblx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm1jcFRvb2xzLmludGVncmF0aW9ucy5wZXJpb2RpY05vdGVzLmRldGVjdGVkID0gcGVyaW9kaWNOb3Rlc0RldGVjdGVkO1xuXG5cdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnQXV0by1kZXRlY3Rpb24gY29tcGxldGVkJywge1xuXHRcdFx0XHR0ZW1wbGF0ZXI6IHRlbXBsYXRlckRldGVjdGVkLFxuXHRcdFx0XHRwZXJpb2RpY05vdGVzOiBwZXJpb2RpY05vdGVzRGV0ZWN0ZWRcblx0XHRcdH0pO1xuXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ0F1dG8tZGV0ZWN0aW9uIGZhaWxlZCcsIHsgZXJyb3IgfSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIENoZWNrIGlmIHBsdWdpbiBpcyBkZXRlY3RlZFxuXHQgKi9cblx0aXNQbHVnaW5EZXRlY3RlZChwbHVnaW5OYW1lOiAndGVtcGxhdGVyJyB8ICdwZXJpb2RpY05vdGVzJyk6IGJvb2xlYW4ge1xuXHRcdHRyeSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5wbHVnaW4uc2V0dGluZ3MubWNwVG9vbHM/LmludGVncmF0aW9ucz8uW3BsdWdpbk5hbWVdPy5kZXRlY3RlZCB8fCBmYWxzZTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignRXJyb3IgY2hlY2tpbmcgcGx1Z2luIGRldGVjdGlvbiBzdGF0dXMnLCB7IHBsdWdpbk5hbWUsIGVycm9yIH0pO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBFbnN1cmUgTUNQIFRvb2xzIHNldHRpbmdzIHN0cnVjdHVyZSBleGlzdHNcblx0ICovXG5cdGVuc3VyZU1DUFRvb2xzU2V0dGluZ3MoKTogdm9pZCB7XG5cdFx0dHJ5IHtcblx0XHRcdGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3MubWNwVG9vbHMpIHtcblx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubWNwVG9vbHMgPSB7XG5cdFx0XHRcdFx0ZGVmYXVsdHM6IHtcblx0XHRcdFx0XHRcdGluYm94Rm9sZGVyOiAnJyxcblx0XHRcdFx0XHRcdGVuYWJsZVNtYXJ0Rm9sZGVyUmVzb2x1dGlvbjogdHJ1ZVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0aW50ZWdyYXRpb25zOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZXI6IHsgZGV0ZWN0ZWQ6IGZhbHNlLCBlbmFibGVkOiBmYWxzZSwgdXNlVGVtcGxhdGVGb2xkZXJzOiBmYWxzZSB9LFxuXHRcdFx0XHRcdFx0cGVyaW9kaWNOb3RlczogeyBkZXRlY3RlZDogZmFsc2UsIGVuYWJsZWQ6IGZhbHNlLCB1c2VQZXJpb2RpY0ZvbGRlcnM6IGZhbHNlIH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHRvb2xzOiBbXVxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBFbnN1cmUgc3ViLXNlY3Rpb25zIGV4aXN0XG5cdFx0XHRpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLm1jcFRvb2xzLmRlZmF1bHRzKSB7XG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm1jcFRvb2xzLmRlZmF1bHRzID0ge1xuXHRcdFx0XHRcdGluYm94Rm9sZGVyOiAnJyxcblx0XHRcdFx0XHRlbmFibGVTbWFydEZvbGRlclJlc29sdXRpb246IHRydWVcblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5tY3BUb29scy5pbnRlZ3JhdGlvbnMpIHtcblx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubWNwVG9vbHMuaW50ZWdyYXRpb25zID0ge1xuXHRcdFx0XHRcdHRlbXBsYXRlcjogeyBkZXRlY3RlZDogZmFsc2UsIGVuYWJsZWQ6IGZhbHNlLCB1c2VUZW1wbGF0ZUZvbGRlcnM6IGZhbHNlIH0sXG5cdFx0XHRcdFx0cGVyaW9kaWNOb3RlczogeyBkZXRlY3RlZDogZmFsc2UsIGVuYWJsZWQ6IGZhbHNlLCB1c2VQZXJpb2RpY0ZvbGRlcnM6IGZhbHNlIH1cblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5tY3BUb29scy50b29scykge1xuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5tY3BUb29scy50b29scyA9IFtdO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdNQ1AgdG9vbHMgc2V0dGluZ3Mgc3RydWN0dXJlIGVuc3VyZWQnKTtcblxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdFcnJvciBlbnN1cmluZyBNQ1AgdG9vbHMgc2V0dGluZ3MnLCB7IGVycm9yIH0pO1xuXHRcdH1cblx0fVxufVxuXG4vLyBAdmVzc2VsLWNsb3NlOkJyYWdpIiwiaW1wb3J0IHsgQXBwLCBNb2RhbCB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IFB5dGhvbkluc3RhbGxlciwgdHlwZSBEZXBlbmRlbmN5U3RhdHVzIH0gZnJvbSAnLi4vc2VydmljZXMvUHl0aG9uSW5zdGFsbGVyJztcbmltcG9ydCB7IEdyYXBoaXRpTG9nZ2VyIH0gZnJvbSAnLi4vdXRpbHMvTG9nZ2VyJztcblxuZXhwb3J0IGNsYXNzIERlcGVuZGVuY3lTdGF0dXNNb2RhbCBleHRlbmRzIE1vZGFsIHtcblx0cHJpdmF0ZSBpbnN0YWxsZXI6IFB5dGhvbkluc3RhbGxlcjtcblx0cHJpdmF0ZSBwbHVnaW46IGFueTtcblx0cHJpdmF0ZSBvbkNvbXBsZXRlPzogKCkgPT4gdm9pZDtcblx0cHJpdmF0ZSBsb2dnZXI6IEdyYXBoaXRpTG9nZ2VyO1xuXG5cdHByaXZhdGUgc3RhdHVzRWw/OiBIVE1MRWxlbWVudDtcblx0cHJpdmF0ZSBsb2dFbD86IEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG5cdHByaXZhdGUgaW5zdGFsbEJ1dHRvbj86IEhUTUxCdXR0b25FbGVtZW50O1xuXHRwcml2YXRlIGlzSW5zdGFsbGluZyA9IGZhbHNlO1xuXHRwcml2YXRlIHVzZVV2ID0gZmFsc2U7XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0YXBwOiBBcHAsXG5cdFx0cGx1Z2luOiBhbnksXG5cdFx0aW5zdGFsbGVyOiBQeXRob25JbnN0YWxsZXIsXG5cdFx0b25Db21wbGV0ZT86ICgpID0+IHZvaWRcblx0KSB7XG5cdFx0c3VwZXIoYXBwKTtcblx0XHR0aGlzLmluc3RhbGxlciA9IGluc3RhbGxlcjtcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcblx0XHR0aGlzLm9uQ29tcGxldGUgPSBvbkNvbXBsZXRlO1xuXHRcdHRoaXMubG9nZ2VyID0gbmV3IEdyYXBoaXRpTG9nZ2VyKHBsdWdpbiwgZmFsc2UpO1xuXHR9XG5cblx0YXN5bmMgb25PcGVuKCkge1xuXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuXHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xuXG5cdFx0Y29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ1B5dGhvbiBEZXBlbmRlbmNpZXMgU3RhdHVzJyB9KTtcblxuXHRcdHRoaXMuc3RhdHVzRWwgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnZGVwZW5kZW5jeS1zdGF0dXMtY29udGFpbmVyJyB9KTtcblxuXHRcdGNvbnN0IHN0YXR1cyA9IGF3YWl0IHRoaXMuaW5zdGFsbGVyLmNoZWNrQWxsRGVwZW5kZW5jaWVzKCk7XG5cdFx0dGhpcy5kaXNwbGF5U3RhdHVzKHN0YXR1cyk7XG5cblx0XHRjb25zdCBsb2dDb250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnZGVwZW5kZW5jeS1sb2ctY29udGFpbmVyJyB9KTtcblx0XHRsb2dDb250YWluZXIuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnSW5zdGFsbGF0aW9uIExvZycgfSk7XG5cdFx0dGhpcy5sb2dFbCA9IGxvZ0NvbnRhaW5lci5jcmVhdGVFbCgndGV4dGFyZWEnLCB7XG5cdFx0XHRjbHM6ICdkZXBlbmRlbmN5LWxvZy1jb250ZW50Jyxcblx0XHRcdGF0dHI6IHsgcmVhZG9ubHk6ICd0cnVlJywgcm93czogJzEwJyB9XG5cdFx0fSkgYXMgSFRNTFRleHRBcmVhRWxlbWVudDtcblxuXHRcdGNvbnN0IGluc3RhbGxPcHRpb25zQ29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZURpdih7IGNsczogJ2RlcGVuZGVuY3ktaW5zdGFsbC1vcHRpb25zJyB9KTtcblx0XHRpbnN0YWxsT3B0aW9uc0NvbnRhaW5lci5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdJbnN0YWxsYXRpb24gTWV0aG9kJyB9KTtcblxuXHRcdGNvbnN0IHN5c3RlbU9wdGlvbiA9IGluc3RhbGxPcHRpb25zQ29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2RlcGVuZGVuY3ktcmFkaW8tb3B0aW9uJyB9KTtcblx0XHRjb25zdCBzeXN0ZW1SYWRpbyA9IHN5c3RlbU9wdGlvbi5jcmVhdGVFbCgnaW5wdXQnLCB7XG5cdFx0XHR0eXBlOiAncmFkaW8nLFxuXHRcdFx0YXR0cjogeyBuYW1lOiAnaW5zdGFsbC1tZXRob2QnLCB2YWx1ZTogJ3N5c3RlbScsIGNoZWNrZWQ6ICdjaGVja2VkJyB9XG5cdFx0fSkgYXMgSFRNTElucHV0RWxlbWVudDtcblx0XHRzeXN0ZW1SYWRpby5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG5cdFx0XHR0aGlzLnVzZVV2ID0gZmFsc2U7XG5cdFx0fSk7XG5cdFx0c3lzdGVtT3B0aW9uLmNyZWF0ZUVsKCdsYWJlbCcsIHsgdGV4dDogJyBJbnN0YWxsIHdpdGggU3lzdGVtIFB5dGhvbiAoZGVmYXVsdCknIH0pO1xuXG5cdFx0Y29uc3QgdXZPcHRpb24gPSBpbnN0YWxsT3B0aW9uc0NvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdkZXBlbmRlbmN5LXJhZGlvLW9wdGlvbicgfSk7XG5cdFx0Y29uc3QgdXZSYWRpbyA9IHV2T3B0aW9uLmNyZWF0ZUVsKCdpbnB1dCcsIHtcblx0XHRcdHR5cGU6ICdyYWRpbycsXG5cdFx0XHRhdHRyOiB7IG5hbWU6ICdpbnN0YWxsLW1ldGhvZCcsIHZhbHVlOiAndXYnIH1cblx0XHR9KSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuXHRcdHV2UmFkaW8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuXHRcdFx0dGhpcy51c2VVdiA9IHRydWU7XG5cdFx0fSk7XG5cdFx0dXZPcHRpb24uY3JlYXRlRWwoJ2xhYmVsJywgeyB0ZXh0OiAnIEluc3RhbGwgd2l0aCBVViBQYWNrYWdlIE1hbmFnZXInIH0pO1xuXG5cdFx0Y29uc3QgdXZEZXNjcmlwdGlvbiA9IGluc3RhbGxPcHRpb25zQ29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2RlcGVuZGVuY3ktb3B0aW9uLWRlc2MnIH0pO1xuXHRcdHV2RGVzY3JpcHRpb24uc2V0VGV4dCgnVVYgaXMgZmFzdGVyIGJ1dCBleHBlcmltZW50YWwuIFN5c3RlbSBQeXRob24gaXMgcmVjb21tZW5kZWQgZm9yIG1vc3QgdXNlcnMuJyk7XG5cblx0XHRjb25zdCBidXR0b25Db250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnZGVwZW5kZW5jeS1idXR0b24tY29udGFpbmVyJyB9KTtcblxuXHRcdHRoaXMuaW5zdGFsbEJ1dHRvbiA9IGJ1dHRvbkNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywge1xuXHRcdFx0dGV4dDogJ0luc3RhbGwgRGVwZW5kZW5jaWVzJyxcblx0XHRcdGNsczogJ21vZC1jdGEnXG5cdFx0fSk7XG5cdFx0dGhpcy5pbnN0YWxsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5oYW5kbGVJbnN0YWxsKCkpO1xuXG5cdFx0Y29uc3QgY2xvc2VCdXR0b24gPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0Nsb3NlJyB9KTtcblx0XHRjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuY2xvc2UoKSk7XG5cblx0XHR0aGlzLmFkZEN1c3RvbVN0eWxlcygpO1xuXHR9XG5cblx0ZGlzcGxheVN0YXR1cyhzdGF0dXM6IERlcGVuZGVuY3lTdGF0dXMpIHtcblx0XHRpZiAoIXRoaXMuc3RhdHVzRWwpIHJldHVybjtcblxuXHRcdHRoaXMuc3RhdHVzRWwuZW1wdHkoKTtcblxuXHRcdGNvbnN0IGl0ZW1zID0gW1xuXHRcdFx0e1xuXHRcdFx0XHRsYWJlbDogJ1N5c3RlbSBQeXRob24nLFxuXHRcdFx0XHRzdGF0dXM6IHN0YXR1cy5zeXN0ZW1QeXRob24gPyAnW09LXScgOiAnW1hdJyxcblx0XHRcdFx0ZGV0YWlsOiBzdGF0dXMuc3lzdGVtUHl0aG9uID8gYCR7c3RhdHVzLnN5c3RlbVB5dGhvbi52ZXJzaW9ufSBhdCAke3N0YXR1cy5zeXN0ZW1QeXRob24ucGF0aH1gIDogJ05vdCBmb3VuZCcsXG5cdFx0XHRcdHN1Y2Nlc3M6ICEhc3RhdHVzLnN5c3RlbVB5dGhvblxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0bGFiZWw6ICdVViBQYWNrYWdlIE1hbmFnZXInLFxuXHRcdFx0XHRzdGF0dXM6IHN0YXR1cy51dkluc3RhbGxlZCA/ICdbT0tdJyA6ICdbWF0nLFxuXHRcdFx0XHRkZXRhaWw6IHN0YXR1cy51dkluc3RhbGxlZCA/ICdJbnN0YWxsZWQnIDogJ05vdCBpbnN0YWxsZWQnLFxuXHRcdFx0XHRzdWNjZXNzOiBzdGF0dXMudXZJbnN0YWxsZWRcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGxhYmVsOiAnVmlydHVhbCBFbnZpcm9ubWVudCcsXG5cdFx0XHRcdHN0YXR1czogc3RhdHVzLnZlbnZFeGlzdHMgPyAnW09LXScgOiAnW1hdJyxcblx0XHRcdFx0ZGV0YWlsOiBzdGF0dXMudmVudkV4aXN0cyA/IHN0YXR1cy52ZW52UGF0aCA6ICdOb3QgY3JlYXRlZCcsXG5cdFx0XHRcdHN1Y2Nlc3M6IHN0YXR1cy52ZW52RXhpc3RzXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRsYWJlbDogJ0dyYXBoaXRpIERlcGVuZGVuY2llcycsXG5cdFx0XHRcdHN0YXR1czogc3RhdHVzLmdyYXBoaXRpSW5zdGFsbGVkID8gJ1tPS10nIDogJ1tYXScsXG5cdFx0XHRcdGRldGFpbDogc3RhdHVzLmdyYXBoaXRpSW5zdGFsbGVkXG5cdFx0XHRcdFx0PyAoc3RhdHVzLmdyYXBoaXRpVmVyc2lvbiA/IGB2JHtzdGF0dXMuZ3JhcGhpdGlWZXJzaW9ufWAgOiAnSW5zdGFsbGVkJylcblx0XHRcdFx0XHQ6ICdOb3QgaW5zdGFsbGVkJyxcblx0XHRcdFx0c3VjY2Vzczogc3RhdHVzLmdyYXBoaXRpSW5zdGFsbGVkXG5cdFx0XHR9XG5cdFx0XTtcblxuXHRcdGl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG5cdFx0XHRjb25zdCBpdGVtRWwgPSB0aGlzLnN0YXR1c0VsIS5jcmVhdGVEaXYoeyBjbHM6ICdkZXBlbmRlbmN5LXN0YXR1cy1pdGVtJyB9KTtcblx0XHRcdGNvbnN0IHN0YXR1c1NwYW4gPSBpdGVtRWwuY3JlYXRlU3Bhbih7XG5cdFx0XHRcdHRleHQ6IGl0ZW0uc3RhdHVzLFxuXHRcdFx0XHRjbHM6IGl0ZW0uc3VjY2VzcyA/ICdzdGF0dXMtc3VjY2VzcycgOiAnc3RhdHVzLWVycm9yJ1xuXHRcdFx0fSk7XG5cdFx0XHRpdGVtRWwuY3JlYXRlU3Bhbih7IHRleHQ6IGAgJHtpdGVtLmxhYmVsfTogYCwgY2xzOiAnZGVwZW5kZW5jeS1sYWJlbCcgfSk7XG5cdFx0XHRpdGVtRWwuY3JlYXRlU3Bhbih7IHRleHQ6IGl0ZW0uZGV0YWlsLCBjbHM6ICdkZXBlbmRlbmN5LWRldGFpbCcgfSk7XG5cdFx0fSk7XG5cblx0XHRpZiAoc3RhdHVzLm1pc21hdGNoLmRldGVjdGVkKSB7XG5cdFx0XHRjb25zdCB3YXJuaW5nRWwgPSB0aGlzLnN0YXR1c0VsLmNyZWF0ZURpdih7IGNsczogJ2RlcGVuZGVuY3ktd2FybmluZycgfSk7XG5cdFx0XHR3YXJuaW5nRWwuY3JlYXRlU3Bhbih7IHRleHQ6ICdbV0FSTklOR10gJyB9KTtcblx0XHRcdHdhcm5pbmdFbC5jcmVhdGVTcGFuKHsgdGV4dDogc3RhdHVzLm1pc21hdGNoLmRlc2NyaXB0aW9uIH0pO1xuXHRcdH1cblx0fVxuXG5cdGFzeW5jIGhhbmRsZUluc3RhbGwoKSB7XG5cdFx0aWYgKHRoaXMuaXNJbnN0YWxsaW5nKSByZXR1cm47XG5cblx0XHR0aGlzLmlzSW5zdGFsbGluZyA9IHRydWU7XG5cdFx0aWYgKHRoaXMuaW5zdGFsbEJ1dHRvbikge1xuXHRcdFx0dGhpcy5pbnN0YWxsQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcblx0XHRcdHRoaXMuaW5zdGFsbEJ1dHRvbi5zZXRUZXh0KCdJbnN0YWxsaW5nLi4uJyk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgbWV0aG9kID0gdGhpcy51c2VVdiA/ICd1dicgOiAnc3lzdGVtJztcblx0XHR0aGlzLmFkZExvZyhgW0lORk9dIFN0YXJ0aW5nIGluc3RhbGxhdGlvbiB1c2luZyAke21ldGhvZH0uLi5gKTtcblxuXHRcdHRyeSB7XG5cdFx0XHRhd2FpdCB0aGlzLmluc3RhbGxlci5pbnN0YWxsRGVwZW5kZW5jaWVzKG1ldGhvZCwgKHN0YXR1c01zZzogc3RyaW5nLCBwZXJjZW50OiBudW1iZXIpID0+IHtcblx0XHRcdFx0dGhpcy5hZGRMb2coYFtJTkZPXSAke3N0YXR1c01zZ30gKCR7cGVyY2VudH0lKWApO1xuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMuYWRkTG9nKCdbU1VDQ0VTU10gSW5zdGFsbGF0aW9uIGNvbXBsZXRlIScpO1xuXG5cdFx0XHRjb25zdCB2ZW52UHl0aG9uUGF0aCA9IHRoaXMuaW5zdGFsbGVyLmdldFB5dGhvbkV4ZWN1dGFibGUoKTtcblx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnB5dGhvblBhdGggPSB2ZW52UHl0aG9uUGF0aDtcblx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0dGhpcy5sb2dnZXIuaW5mbygnW0lOU1RBTExdIFNhdmVkIFB5dGhvbiBwYXRoIHRvIHNldHRpbmdzJywgeyBweXRob25QYXRoOiB2ZW52UHl0aG9uUGF0aCB9KTtcblxuXHRcdFx0Y29uc3Qgc3RhdHVzID0gYXdhaXQgdGhpcy5pbnN0YWxsZXIuY2hlY2tBbGxEZXBlbmRlbmNpZXMoKTtcblx0XHRcdHRoaXMuZGlzcGxheVN0YXR1cyhzdGF0dXMpO1xuXHRcdFx0XG5cdFx0XHR0aGlzLmFkZExvZygnW0lORk9dIFNldHRpbmdzIHVwZGF0ZWQgLSBjbG9zZSBhbmQgcmVvcGVuIFNldHRpbmdzIHRhYiB0byBzZWUgY2hhbmdlcycpO1xuXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGNvbnN0IGVycm9yTXNnID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpO1xuXHRcdFx0dGhpcy5hZGRMb2coYFtFUlJPUl0gSW5zdGFsbGF0aW9uIGZhaWxlZDogJHtlcnJvck1zZ31gKTtcblx0XHRcdHRoaXMubG9nZ2VyLmVycm9yKCdJbnN0YWxsYXRpb24gZmFpbGVkJywgZXJyb3IgYXMgRXJyb3IpO1xuXHRcdH0gZmluYWxseSB7XG5cdFx0XHR0aGlzLmlzSW5zdGFsbGluZyA9IGZhbHNlO1xuXHRcdFx0aWYgKHRoaXMuaW5zdGFsbEJ1dHRvbikge1xuXHRcdFx0XHR0aGlzLmluc3RhbGxCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcblx0XHRcdFx0dGhpcy5pbnN0YWxsQnV0dG9uLnNldFRleHQoJ0luc3RhbGwgRGVwZW5kZW5jaWVzJyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBhZGRMb2cobWVzc2FnZTogc3RyaW5nKSB7XG5cdFx0aWYgKCF0aGlzLmxvZ0VsKSByZXR1cm47XG5cblx0XHRjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygpO1xuXHRcdGNvbnN0IGxvZ01lc3NhZ2UgPSBgWyR7dGltZXN0YW1wfV0gJHttZXNzYWdlfVxcbmA7XG5cdFx0dGhpcy5sb2dFbC52YWx1ZSArPSBsb2dNZXNzYWdlO1xuXHRcdHRoaXMubG9nRWwuc2Nyb2xsVG9wID0gdGhpcy5sb2dFbC5zY3JvbGxIZWlnaHQ7XG5cdH1cblxuXHRwcml2YXRlIGFkZEN1c3RvbVN0eWxlcygpIHtcblx0XHRjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG5cdFx0c3R5bGUudGV4dENvbnRlbnQgPSBgXG5cdFx0XHQuZGVwZW5kZW5jeS1zdGF0dXMtY29udGFpbmVyIHtcblx0XHRcdFx0bWFyZ2luOiAyMHB4IDA7XG5cdFx0XHRcdHBhZGRpbmc6IDE1cHg7XG5cdFx0XHRcdGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcblx0XHRcdFx0Ym9yZGVyLXJhZGl1czogNHB4O1xuXHRcdFx0fVxuXG5cdFx0XHQuZGVwZW5kZW5jeS1zdGF0dXMtaXRlbSB7XG5cdFx0XHRcdG1hcmdpbjogOHB4IDA7XG5cdFx0XHRcdGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LW1vbm9zcGFjZSk7XG5cdFx0XHRcdGZvbnQtc2l6ZTogMTNweDtcblx0XHRcdH1cblxuXHRcdFx0LnN0YXR1cy1zdWNjZXNzIHtcblx0XHRcdFx0Y29sb3I6IHZhcigtLXRleHQtc3VjY2Vzcyk7XG5cdFx0XHRcdGZvbnQtd2VpZ2h0OiA2MDA7XG5cdFx0XHR9XG5cblx0XHRcdC5zdGF0dXMtZXJyb3Ige1xuXHRcdFx0XHRjb2xvcjogdmFyKC0tdGV4dC1lcnJvcik7XG5cdFx0XHRcdGZvbnQtd2VpZ2h0OiA2MDA7XG5cdFx0XHR9XG5cblx0XHRcdC5kZXBlbmRlbmN5LWxhYmVsIHtcblx0XHRcdFx0Zm9udC13ZWlnaHQ6IDUwMDtcblx0XHRcdFx0Y29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcblx0XHRcdH1cblxuXHRcdFx0LmRlcGVuZGVuY3ktZGV0YWlsIHtcblx0XHRcdFx0Y29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuXHRcdFx0fVxuXG5cdFx0XHQuZGVwZW5kZW5jeS13YXJuaW5nIHtcblx0XHRcdFx0bWFyZ2luLXRvcDogMTVweDtcblx0XHRcdFx0cGFkZGluZzogMTBweDtcblx0XHRcdFx0YmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1lcnJvcik7XG5cdFx0XHRcdGJvcmRlci1yYWRpdXM6IDRweDtcblx0XHRcdFx0Y29sb3I6IHZhcigtLXRleHQtd2FybmluZyk7XG5cdFx0XHRcdGZvbnQtc2l6ZTogMTNweDtcblx0XHRcdH1cblxuXHRcdFx0LmRlcGVuZGVuY3ktaW5zdGFsbC1vcHRpb25zIHtcblx0XHRcdFx0bWFyZ2luOiAyMHB4IDA7XG5cdFx0XHRcdHBhZGRpbmc6IDE1cHg7XG5cdFx0XHRcdGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcblx0XHRcdFx0Ym9yZGVyLXJhZGl1czogNHB4O1xuXHRcdFx0fVxuXG5cdFx0XHQuZGVwZW5kZW5jeS1pbnN0YWxsLW9wdGlvbnMgaDMge1xuXHRcdFx0XHRtYXJnaW46IDAgMCAxMHB4IDA7XG5cdFx0XHRcdGZvbnQtc2l6ZTogMTRweDtcblx0XHRcdFx0Zm9udC13ZWlnaHQ6IDYwMDtcblx0XHRcdH1cblxuXHRcdFx0LmRlcGVuZGVuY3ktcmFkaW8tb3B0aW9uIHtcblx0XHRcdFx0bWFyZ2luOiA4cHggMDtcblx0XHRcdFx0ZGlzcGxheTogZmxleDtcblx0XHRcdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcblx0XHRcdFx0Zm9udC1zaXplOiAxM3B4O1xuXHRcdFx0fVxuXG5cdFx0XHQuZGVwZW5kZW5jeS1yYWRpby1vcHRpb24gaW5wdXRbdHlwZT1cInJhZGlvXCJdIHtcblx0XHRcdFx0bWFyZ2luLXJpZ2h0OiA4cHg7XG5cdFx0XHRcdGN1cnNvcjogcG9pbnRlcjtcblx0XHRcdH1cblxuXHRcdFx0LmRlcGVuZGVuY3ktcmFkaW8tb3B0aW9uIGxhYmVsIHtcblx0XHRcdFx0Y3Vyc29yOiBwb2ludGVyO1xuXHRcdFx0XHR1c2VyLXNlbGVjdDogbm9uZTtcblx0XHRcdH1cblxuXHRcdFx0LmRlcGVuZGVuY3ktb3B0aW9uLWRlc2Mge1xuXHRcdFx0XHRtYXJnaW4tdG9wOiAxMHB4O1xuXHRcdFx0XHRwYWRkaW5nOiA4cHg7XG5cdFx0XHRcdGZvbnQtc2l6ZTogMTJweDtcblx0XHRcdFx0Y29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuXHRcdFx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuXHRcdFx0XHRib3JkZXItcmFkaXVzOiA0cHg7XG5cdFx0XHR9XG5cblx0XHRcdC5kZXBlbmRlbmN5LWxvZy1jb250YWluZXIge1xuXHRcdFx0XHRtYXJnaW4tdG9wOiAyMHB4O1xuXHRcdFx0fVxuXG5cdFx0XHQuZGVwZW5kZW5jeS1sb2ctY29udGFpbmVyIGgzIHtcblx0XHRcdFx0bWFyZ2luOiAwIDAgMTBweCAwO1xuXHRcdFx0XHRmb250LXNpemU6IDE0cHg7XG5cdFx0XHR9XG5cblx0XHRcdC5kZXBlbmRlbmN5LWxvZy1jb250ZW50IHtcblx0XHRcdFx0d2lkdGg6IDEwMCU7XG5cdFx0XHRcdG1pbi1oZWlnaHQ6IDE1MHB4O1xuXHRcdFx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG5cdFx0XHRcdGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcblx0XHRcdFx0Ym9yZGVyLXJhZGl1czogNHB4O1xuXHRcdFx0XHRwYWRkaW5nOiAxMHB4O1xuXHRcdFx0XHRmb250LWZhbWlseTogdmFyKC0tZm9udC1tb25vc3BhY2UpO1xuXHRcdFx0XHRmb250LXNpemU6IDEycHg7XG5cdFx0XHRcdHJlc2l6ZTogdmVydGljYWw7XG5cdFx0XHRcdGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG5cdFx0XHR9XG5cblx0XHRcdC5kZXBlbmRlbmN5LWJ1dHRvbi1jb250YWluZXIge1xuXHRcdFx0XHRtYXJnaW4tdG9wOiAyMHB4O1xuXHRcdFx0XHRkaXNwbGF5OiBmbGV4O1xuXHRcdFx0XHRnYXA6IDEwcHg7XG5cdFx0XHRcdGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG5cdFx0XHR9XG5cblx0XHRcdC5kZXBlbmRlbmN5LWJ1dHRvbi1jb250YWluZXIgYnV0dG9uIHtcblx0XHRcdFx0cGFkZGluZzogOHB4IDE2cHg7XG5cdFx0XHRcdGJvcmRlci1yYWRpdXM6IDRweDtcblx0XHRcdFx0Zm9udC1zaXplOiAxNHB4O1xuXHRcdFx0fVxuXHRcdGA7XG5cdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH1cblxuXHRvbkNsb3NlKCkge1xuXHRcdGlmICh0aGlzLm9uQ29tcGxldGUpIHtcblx0XHRcdHRoaXMub25Db21wbGV0ZSgpO1xuXHRcdH1cblx0fVxufSIsImltcG9ydCB7IEFwcCwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZywgTm90aWNlLCBUZXh0Q29tcG9uZW50LCBUb2dnbGVDb21wb25lbnQsIHNldEljb24gfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCBHcmFwaGl0aVBsdWdpbiBmcm9tICcuLi9tYWluJztcclxuaW1wb3J0IHR5cGUgeyBHcmFwaGl0aVBsdWdpblNldHRpbmdzLCBDb25uZWN0aW9uVGVzdFJlc3VsdCB9IGZyb20gJy4uL3R5cGVzL1NldHRpbmdzJztcclxuaW1wb3J0IHsgZ2V0RGVmYXVsdExMTUJsb2NrcyB9IGZyb20gJy4vTExNRGVmYXVsdHMnO1xyXG5pbXBvcnQgeyBqb2luIH0gZnJvbSAncGF0aCc7XHJcbmltcG9ydCB7IGRlYm91bmNlIH0gZnJvbSAnLi4vdXRpbHMvZGVib3VuY2UnO1xyXG5pbXBvcnQgeyBGb2xkZXJTdWdnZXN0IH0gZnJvbSAnLi4vdXRpbHMvRm9sZGVyU3VnZ2VzdCc7XHJcbmltcG9ydCB7IFByb2Nlc3NEZXRlY3Rpb24gfSBmcm9tICcuLi91dGlscy9Qcm9jZXNzRGV0ZWN0aW9uJztcclxuaW1wb3J0IHR5cGUgeyBNQ1BTZXJ2ZXJQcm9jZXNzIH0gZnJvbSAnLi4vdXRpbHMvUHJvY2Vzc0RldGVjdGlvbic7XHJcbmltcG9ydCB7IE9sbGFtYVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9PbGxhbWFTZXJ2aWNlJztcclxuaW1wb3J0IHsgT2xsYW1hU2V0dGluZ3MgfSBmcm9tICcuL09sbGFtYVNldHRpbmdzJztcclxuaW1wb3J0IHsgTUNQVG9vbFNldHRpbmdzIH0gZnJvbSAnLi9NQ1BUb29sU2V0dGluZ3MnO1xyXG5pbXBvcnQgeyBQeXRob25JbnN0YWxsZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9QeXRob25JbnN0YWxsZXInO1xyXG5pbXBvcnQgeyBEZXBlbmRlbmN5U3RhdHVzTW9kYWwgfSBmcm9tICcuLi91aS9EZXBlbmRlbmN5U3RhdHVzTW9kYWwnO1xyXG5cclxuLy8gVGVtcG9yYXJ5IHR5cGUtZ3VhcmQgZXh0ZW5zaW9ucyBmb3Igc2V0dGluZ3Mgc2VjdGlvbnMgd2UgdXBkYXRlIGZyb20gVUkgc2NhbnMuXHJcbi8vIFRoZXNlIGtlZXAgVHlwZVNjcmlwdCBoYXBweSBmb3IgdGhlIGxpZ2h0d2VpZ2h0IGRldGVjdGlvbiB3aXJpbmcgaGVyZS5cclxudHlwZSBQYXJ0aWFsTUNQVG9vbHMgPSB7XHJcblx0bWNwVG9vbHM/OiB7XHJcblx0XHRkZWZhdWx0Rm9sZGVyPzogc3RyaW5nO1xyXG5cdFx0aW50ZWdyYXRpb25zPzogUmVjb3JkPHN0cmluZywgYW55PjtcclxuXHR9O1xyXG59O1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBHcmFwaGl0aVNldHRpbmdzVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XHJcblx0cGx1Z2luOiBHcmFwaGl0aVBsdWdpbjtcclxuXHQvLyBTdG9yZSByZWZlcmVuY2VzIHRvIFVJIGNvbXBvbmVudHMgdGhhdCBuZWVkIHRvIGJlIHVwZGF0ZWQgZHluYW1pY2FsbHlcclxuXHRwcml2YXRlIGNvbm5lY3Rpb25TdGF0dXNUZXh0OiBhbnk7XHJcblx0cHJpdmF0ZSBkZWZhdWx0TmFtZXNwYWNlSW5wdXQ6IFRleHRDb21wb25lbnQgfCBudWxsID0gbnVsbDtcclxuXHRwcml2YXRlIGZvbGRlclRvZ2dsZTogVG9nZ2xlQ29tcG9uZW50IHwgbnVsbCA9IG51bGw7XHJcblx0cHJpdmF0ZSBwcm9wZXJ0eVRvZ2dsZTogVG9nZ2xlQ29tcG9uZW50IHwgbnVsbCA9IG51bGw7XHJcblx0cHJpdmF0ZSBwcmV2aW91c0Nvbm5lY3Rpb25TdGF0dXM6IHN0cmluZyA9ICcnO1xyXG5cdHByaXZhdGUgb2xsYW1hU2V0dGluZ3M6IE9sbGFtYVNldHRpbmdzO1xyXG5cdHByaXZhdGUgbWNwVG9vbFNldHRpbmdzOiBNQ1BUb29sU2V0dGluZ3M7XHJcblxyXG5cdHByaXZhdGUgX3NoYXJlZFRleHREZWJvdW5jZT86ICh2OiBzdHJpbmcpID0+IHZvaWQ7XHJcblx0cHJpdmF0ZSBfc2V0dGluZ3NEZWJvdW5jZVRpbWVyOiBhbnk7IC8vIEZvciBnZW5lcmFsIHNldHRpbmdzIGNoYW5nZXMgKGUuZy4sIGF1dG9TeW5jIHRvZ2dsZSlcclxuXHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IEdyYXBoaXRpUGx1Z2luKSB7XHJcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHRcdHRoaXMub2xsYW1hU2V0dGluZ3MgPSBuZXcgT2xsYW1hU2V0dGluZ3MoYXBwLCBwbHVnaW4pO1xyXG5cdFx0dGhpcy5tY3BUb29sU2V0dGluZ3MgPSBuZXcgTUNQVG9vbFNldHRpbmdzKGFwcCwgcGx1Z2luKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgX2luaXRTaGFyZWRUZXh0RGVib3VuY2UoKTogdm9pZCB7XHJcblx0XHRpZiAodGhpcy5fc2hhcmVkVGV4dERlYm91bmNlKSByZXR1cm47IC8vIEFscmVhZHkgaW5pdGlhbGl6ZWRcclxuXHJcblx0XHRsZXQgdGltZXI6IGFueTtcclxuXHRcdHRoaXMuX3NoYXJlZFRleHREZWJvdW5jZSA9IChwYXlsb2FkOiBzdHJpbmcpID0+IHtcclxuXHRcdFx0aWYgKHRpbWVyKSBjbGVhclRpbWVvdXQodGltZXIpO1xyXG5cdFx0XHR0aW1lciA9IHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHBheWxvYWQpO1xyXG5cdFx0XHRcdFx0c3dpdGNoIChwYXJzZWQua2V5KSB7XHJcblx0XHRcdFx0XHRcdGNhc2UgJ2luY2x1ZGVkRm9sZGVycyc6XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5jbHVkZWRGb2xkZXJzID0gcGFyc2VkLnZhbHVlLnNwbGl0KCdcXG4nKS5tYXAoKHM6IHN0cmluZykgPT4gcy50cmltKCkpLmZpbHRlcigoczogc3RyaW5nKSA9PiBzLmxlbmd0aCA+IDApO1xyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHRjYXNlICdleGNsdWRlZEZvbGRlcnMnOlxyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmV4Y2x1ZGVkRm9sZGVycyA9IHBhcnNlZC52YWx1ZS5zcGxpdCgnXFxuJykubWFwKChzOiBzdHJpbmcpID0+IHMudHJpbSgpKS5maWx0ZXIoKHM6IHN0cmluZykgPT4gcy5sZW5ndGggPiAwKTtcclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0Y2FzZSAnZ2xvYmFsbHlJZ25vcmVkRmllbGRzJzpcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5nbG9iYWxseUlnbm9yZWRGaWVsZHMgPSBwYXJzZWQudmFsdWUuc3BsaXQoJ1xcbicpLm1hcCgoczogc3RyaW5nKSA9PiBzLnRyaW0oKSkuZmlsdGVyKChzOiBzdHJpbmcpID0+IHMubGVuZ3RoID4gMCk7XHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdGNhc2UgJ2RlZmF1bHROYW1lc3BhY2UnOlxyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHROYW1lc3BhY2UgPSBwYXJzZWQudmFsdWU7XHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdC8vIEFkZCBtb3JlIGNhc2VzIGZvciBvdGhlciBkZWJvdW5jZWQgdGV4dCBpbnB1dHMgYXMgbmVlZGVkXHJcblx0XHRcdFx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy53YXJuKCdbU0VUVElOR1NdIFVua25vd24ga2V5IHJlY2VpdmVkIGJ5IHNoYXJlZFRleHREZWJvdW5jZScsIHsga2V5OiBwYXJzZWQua2V5LCBwYXlsb2FkIH0pO1xyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbU0VUVElOR1NdIFNoYXJlZCBkZWJvdW5jZWQgc2F2ZSBleGVjdXRlZCcsIHsga2V5OiBwYXJzZWQua2V5IH0pO1xyXG5cdFx0XHRcdH0gY2F0Y2ggKGVycikge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignW1NFVFRJTkdTXSBTaGFyZWQgZGVib3VuY2VkIHNhdmUgZXJyb3InLCB7IGVycm9yOiBlcnIsIHBheWxvYWQgfSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LCAyMDAwKTsgLy8gMjAwMG1zIGRlYm91bmNlIGRlbGF5IGFzIGNvbmZpcm1lZFxyXG5cdFx0fTtcclxuXHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1tTRVRUSU5HU10gU2hhcmVkIHRleHQgZGVib3VuY2VyIGluaXRpYWxpemVkJyk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGVuc3VyZVNoYXJlZERlYm91bmNlSW5pdGlhbGl6ZWQoKTogdm9pZCB7XHJcblx0XHR0aGlzLl9pbml0U2hhcmVkVGV4dERlYm91bmNlKCk7XHJcblx0fVxyXG5cclxuXHRkaXNwbGF5KCk6IHZvaWQge1xyXG5cdFx0Y29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcclxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XHJcblxyXG5cdFx0Ly8gRW5zdXJlIHRoZSBzaGFyZWQgdGV4dCBkZWJvdW5jZXIgaXMgaW5pdGlhbGl6ZWQgd2hlbiB0aGUgc2V0dGluZ3MgdGFiIGlzIGRpc3BsYXllZFxyXG5cdFx0dGhpcy5lbnN1cmVTaGFyZWREZWJvdW5jZUluaXRpYWxpemVkKCk7XHJcblxyXG5cdFx0Ly8gSGVhZGVyXHJcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnaDEnLCB7IHRleHQ6ICdNZWdhTWVtIFBsdWdpbiBTZXR0aW5ncycgfSk7XHJcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgncCcsIHtcclxuXHRcdFx0dGV4dDogJ0NvbmZpZ3VyZSB5b3VyIGtub3dsZWRnZSBncmFwaCBzeW5jcm9uaXphdGlvbiBhbmQgbWNwIHNlcnZlci4nLFxyXG5cdFx0XHRjbHM6ICdzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24nXHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBBZGQgQ1NTIGZvciBhY2NvcmRpb24gc3R5bGluZ1xyXG5cdFx0dGhpcy5hZGRBY2NvcmRpb25TdHlsZXMoY29udGFpbmVyRWwpO1xyXG5cclxuXHRcdC8vIEFkZCBhY2NvcmRpb24tYmFzZWQgb3JnYW5pemF0aW9uIHdpdGggZXJyb3IgaGFuZGxpbmcgZm9yIGVhY2ggc2VjdGlvblxyXG5cdFx0dGhpcy5hZGRBY2NvcmRpb25TZWN0aW9uU2FmZWx5KGNvbnRhaW5lckVsLCAnQVBJIEtleXMnLCAoY29udGVudCkgPT4gdGhpcy5hZGRBUElLZXlzQWNjb3JkaW9uKGNvbnRlbnQpLCBmYWxzZSk7XHJcblx0XHR0aGlzLmFkZEFjY29yZGlvblNlY3Rpb25TYWZlbHkoY29udGFpbmVyRWwsICdMTE0gQ29uZmlndXJhdGlvbicsIChjb250ZW50KSA9PiB0aGlzLmFkZExMTUFjY29yZGlvbihjb250ZW50KSwgZmFsc2UpO1xyXG5cdFx0dGhpcy5hZGRBY2NvcmRpb25TZWN0aW9uU2FmZWx5KGNvbnRhaW5lckVsLCAnRGF0YWJhc2UgQ29uZmlndXJhdGlvbicsIChjb250ZW50KSA9PiB0aGlzLmFkZERhdGFiYXNlQWNjb3JkaW9uKGNvbnRlbnQpLCBmYWxzZSk7XHJcblx0XHR0aGlzLmFkZEFjY29yZGlvblNlY3Rpb25TYWZlbHkoY29udGFpbmVyRWwsICdQeXRob24gRW52aXJvbm1lbnQnLCAoY29udGVudCkgPT4gdGhpcy5hZGRQeXRob25BY2NvcmRpb24oY29udGVudCksIGZhbHNlKTtcclxuXHRcdHRoaXMuYWRkQWNjb3JkaW9uU2VjdGlvblNhZmVseShjb250YWluZXJFbCwgJ1N5bmMgQ29uZmlndXJhdGlvbicsIChjb250ZW50KSA9PiB0aGlzLmFkZFN5bmNBY2NvcmRpb24oY29udGVudCksIGZhbHNlKTtcclxuXHRcdHRoaXMuYWRkQWNjb3JkaW9uU2VjdGlvblNhZmVseShjb250YWluZXJFbCwgJ0tub3dsZWRnZSBOYW1lc3BhY2luZycsIChjb250ZW50KSA9PiB0aGlzLmFkZEtub3dsZWRnZU5hbWVzcGFjaW5nQWNjb3JkaW9uKGNvbnRlbnQpLCBmYWxzZSk7XHJcblx0XHR0aGlzLmFkZEFjY29yZGlvblNlY3Rpb25TYWZlbHkoY29udGFpbmVyRWwsICdTZXJ2ZXJzJywgKGNvbnRlbnQpID0+IHRoaXMuYWRkU2VydmVyc0FjY29yZGlvbihjb250ZW50KSwgZmFsc2UpO1xyXG5cdFx0dGhpcy5hZGRBY2NvcmRpb25TZWN0aW9uU2FmZWx5KGNvbnRhaW5lckVsLCAnTUNQIFRvb2xzJywgKGNvbnRlbnQpID0+IHRoaXMubWNwVG9vbFNldHRpbmdzLmFkZE1DUFRvb2xzQWNjb3JkaW9uKGNvbnRlbnQpLCBmYWxzZSk7XHJcblx0XHR0aGlzLmFkZEFjY29yZGlvblNlY3Rpb25TYWZlbHkoY29udGFpbmVyRWwsICdBZHZhbmNlZCBTZXR0aW5ncycsIChjb250ZW50KSA9PiB0aGlzLmFkZEFkdmFuY2VkQWNjb3JkaW9uKGNvbnRlbnQpLCBmYWxzZSk7XHJcblx0XHR0aGlzLmFkZEFjY29yZGlvblNlY3Rpb25TYWZlbHkoY29udGFpbmVyRWwsICdBY3Rpb25zJywgKGNvbnRlbnQpID0+IHRoaXMuYWRkQWN0aW9uc0FjY29yZGlvbihjb250ZW50KSwgZmFsc2UpO1xyXG5cdFx0dGhpcy5hZGRBY2NvcmRpb25TZWN0aW9uU2FmZWx5KGNvbnRhaW5lckVsLCAnRGV2ZWxvcG1lbnQgT3B0aW9ucycsIChjb250ZW50KSA9PiB0aGlzLmFkZERldmVsb3BtZW50QWNjb3JkaW9uKGNvbnRlbnQpLCBmYWxzZSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFkZEFjY29yZGlvblN0eWxlcyhjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuXHRcdGNvbnN0IHN0eWxlID0gY29udGFpbmVyRWwuY3JlYXRlRWwoJ3N0eWxlJyk7XHJcblx0XHRzdHlsZS50ZXh0Q29udGVudCA9IGBcclxuXHRcdFx0LmdyYXBoaXRpLWFjY29yZGlvbiB7XHJcblx0XHRcdFx0bWFyZ2luLWJvdHRvbTogMTBweDtcclxuXHRcdFx0XHRib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XHJcblx0XHRcdFx0Ym9yZGVyLXJhZGl1czogNnB4O1xyXG5cdFx0XHR9XHJcblx0XHRcdC5ncmFwaGl0aS1hY2NvcmRpb24taGVhZGVyIHtcclxuXHRcdFx0XHRwYWRkaW5nOiAxMnB4IDE2cHg7XHJcblx0XHRcdFx0YmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XHJcblx0XHRcdFx0Y3Vyc29yOiBwb2ludGVyO1xyXG5cdFx0XHRcdHVzZXItc2VsZWN0OiBub25lO1xyXG5cdFx0XHRcdGRpc3BsYXk6IGZsZXg7XHJcblx0XHRcdFx0anVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG5cdFx0XHRcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcblx0XHRcdFx0Zm9udC13ZWlnaHQ6IDUwMDtcclxuXHRcdFx0XHRib3JkZXItcmFkaXVzOiA2cHggNnB4IDAgMDtcclxuXHRcdFx0fVxyXG5cdFx0XHQuZ3JhcGhpdGktYWNjb3JkaW9uLWhlYWRlcjpob3ZlciB7XHJcblx0XHRcdFx0YmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xyXG5cdFx0XHR9XHJcblx0XHRcdC5ncmFwaGl0aS1hY2NvcmRpb24tY29udGVudCB7XHJcblx0XHRcdFx0cGFkZGluZzogMTZweCAxNnB4IDE2cHggMTZweDtcclxuXHRcdFx0XHRib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xyXG5cdFx0XHR9XHJcblx0XHRcdC5ncmFwaGl0aS1hY2NvcmRpb24tYXJyb3cge1xyXG5cdFx0XHRcdGZvbnQtc2l6ZTogMTJweDtcclxuXHRcdFx0XHR0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4ycyBlYXNlO1xyXG5cdFx0XHR9XHJcblx0XHRgO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhY2NvcmRpb25TdGF0ZXM6IE1hcDxzdHJpbmcsIGJvb2xlYW4+ID0gbmV3IE1hcCgpO1xyXG5cclxuXHRwcml2YXRlIGFkZEFjY29yZGlvblNlY3Rpb24oY29udGFpbmVyRWw6IEhUTUxFbGVtZW50LCB0aXRsZTogc3RyaW5nLCBjb250ZW50Q2FsbGJhY2s6IChjb250ZW50OiBIVE1MRWxlbWVudCkgPT4gdm9pZCwgZGVmYXVsdE9wZW4gPSBmYWxzZSk6IHZvaWQge1xyXG5cdFx0Y29uc3QgYWNjb3JkaW9uQ29udGFpbmVyID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KCdncmFwaGl0aS1hY2NvcmRpb24nKTtcclxuXHJcblx0XHQvLyBCdWlsZCBoZWFkZXIgd2l0aCBzZXBhcmF0ZSB0aXRsZSBhbmQgY29udHJvbHMgc28gb25seSB0aGUgYXJyb3cgdG9nZ2xlcyB0aGUgYWNjb3JkaW9uLlxyXG5cdFx0Y29uc3QgaGVhZGVyID0gYWNjb3JkaW9uQ29udGFpbmVyLmNyZWF0ZURpdignZ3JhcGhpdGktYWNjb3JkaW9uLWhlYWRlcicpO1xyXG5cdFx0Y29uc3QgdGl0bGVTcGFuID0gaGVhZGVyLmNyZWF0ZVNwYW4oJ2dyYXBoaXRpLWFjY29yZGlvbi10aXRsZScpO1xyXG5cdFx0dGl0bGVTcGFuLnRleHRDb250ZW50ID0gdGl0bGU7XHJcblxyXG5cdFx0Y29uc3QgY29udHJvbHNXcmFwID0gaGVhZGVyLmNyZWF0ZURpdignZ3JhcGhpdGktYWNjb3JkaW9uLWNvbnRyb2xzJyk7XHJcblx0XHRjb250cm9sc1dyYXAuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuXHRcdGNvbnRyb2xzV3JhcC5zdHlsZS5hbGlnbkl0ZW1zID0gJ2NlbnRlcic7XHJcblx0XHRjb250cm9sc1dyYXAuc3R5bGUuZ2FwID0gJzhweCc7XHJcblxyXG5cdFx0Y29uc3QgY29udGVudCA9IGFjY29yZGlvbkNvbnRhaW5lci5jcmVhdGVEaXYoJ2dyYXBoaXRpLWFjY29yZGlvbi1jb250ZW50Jyk7XHJcblxyXG5cdFx0Ly8gRGV0ZXJtaW5lIGluaXRpYWwgb3BlbiBzdGF0ZSB1c2luZyBwZXJzaXN0ZWQgc3RhdGUgbWFwLCBmYWxsaW5nIGJhY2sgdG8gZGVmYXVsdE9wZW5cclxuXHRcdGNvbnN0IHNhdmVkID0gdGhpcy5hY2NvcmRpb25TdGF0ZXMuZ2V0KHRpdGxlKTtcclxuXHRcdGNvbnN0IGlzT3BlbkluaXRpYWwgPSB0eXBlb2Ygc2F2ZWQgPT09ICdib29sZWFuJyA/IHNhdmVkIDogZGVmYXVsdE9wZW47XHJcblx0XHRjb250ZW50LnN0eWxlLmRpc3BsYXkgPSBpc09wZW5Jbml0aWFsID8gJ2Jsb2NrJyA6ICdub25lJztcclxuXHJcblx0XHQvLyBBcnJvdyBsaXZlcyBpbiBjb250cm9sc1dyYXAgYW5kIGlzIHRoZSBvbmx5IHRvZ2dsZSB0YXJnZXQuXHJcblx0XHRjb25zdCBhcnJvdyA9IGNvbnRyb2xzV3JhcC5jcmVhdGVTcGFuKCdncmFwaGl0aS1hY2NvcmRpb24tYXJyb3cnKTtcclxuXHRcdGFycm93LnRleHRDb250ZW50ID0gaXNPcGVuSW5pdGlhbCA/ICfilrwnIDogJ+KWtic7XHJcblx0XHRhcnJvdy5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XHJcblx0XHRhcnJvdy5zZXRBdHRyKCdyb2xlJywgJ2J1dHRvbicpO1xyXG5cclxuXHRcdC8vIFRvZ2dsZSBvbmx5IHdoZW4gdGhlIGFycm93IGlzIGNsaWNrZWQuIFBlcnNpc3Qgc3RhdGUgaW4gYWNjb3JkaW9uU3RhdGVzLlxyXG5cdFx0YXJyb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRcdGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdGNvbnN0IGlzT3BlbiA9IGNvbnRlbnQuc3R5bGUuZGlzcGxheSAhPT0gJ25vbmUnO1xyXG5cdFx0XHRjb25zdCBuZXdJc09wZW4gPSAhaXNPcGVuO1xyXG5cdFx0XHRjb250ZW50LnN0eWxlLmRpc3BsYXkgPSBuZXdJc09wZW4gPyAnYmxvY2snIDogJ25vbmUnO1xyXG5cdFx0XHRhcnJvdy50ZXh0Q29udGVudCA9IG5ld0lzT3BlbiA/ICfilrwnIDogJ+KWtic7XHJcblx0XHRcdHRoaXMuYWNjb3JkaW9uU3RhdGVzLnNldCh0aXRsZSwgbmV3SXNPcGVuKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIElNUE9SVEFOVDogRG8gTk9UIGFkZCBhbnkgb3RoZXIgaGVhZGVyIGNsaWNrIGhhbmRsZXJzIG9yIHN0b3BQcm9wYWdhdGlvbiBoYWNrcy5cclxuXHRcdC8vIEludGVyYWN0aXZlIGNvbnRyb2xzIGluc2lkZSB0aGUgY29udGVudCBzaG91bGQgbm90IHJlcXVpcmUgc3BlY2lhbCBwcm9wYWdhdGlvbiBndWFyZHMuXHJcblx0XHQvLyBLZWVwIHRoZSBjb250ZW50Q2FsbGJhY2sgZm9jdXNlZCBvbiBidWlsZGluZyBjb250cm9scyBmb3IgdGhlIHNlY3Rpb24uXHJcblx0XHRjb250ZW50Q2FsbGJhY2suY2FsbCh0aGlzLCBjb250ZW50KTtcclxuXHR9XHJcblxyXG5cdC8vIFNhZmUgd3JhcHBlciB0aGF0IGVuc3VyZXMgb25lIGJyb2tlbiBhY2NvcmRpb24gZG9lc24ndCBwcmV2ZW50IG90aGVycyBmcm9tIHJlbmRlcmluZ1xyXG5cdHByaXZhdGUgYWRkQWNjb3JkaW9uU2VjdGlvblNhZmVseShjb250YWluZXJFbDogSFRNTEVsZW1lbnQsIHRpdGxlOiBzdHJpbmcsIGNvbnRlbnRDYWxsYmFjazogKGNvbnRlbnQ6IEhUTUxFbGVtZW50KSA9PiB2b2lkLCBkZWZhdWx0T3BlbiA9IGZhbHNlKTogdm9pZCB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHR0aGlzLmFkZEFjY29yZGlvblNlY3Rpb24oY29udGFpbmVyRWwsIHRpdGxlLCBjb250ZW50Q2FsbGJhY2ssIGRlZmF1bHRPcGVuKTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoYFtTRVRUSU5HU10gRXJyb3IgcmVuZGVyaW5nICR7dGl0bGV9IGFjY29yZGlvbmAsIHsgZXJyb3IgfSk7XHJcblx0XHRcdC8vIENyZWF0ZSBhIG1pbmltYWwgZXJyb3IgYWNjb3JkaW9uXHJcblx0XHRcdGNvbnN0IGFjY29yZGlvbkNvbnRhaW5lciA9IGNvbnRhaW5lckVsLmNyZWF0ZURpdignZ3JhcGhpdGktYWNjb3JkaW9uJyk7XHJcblx0XHRcdGNvbnN0IGhlYWRlciA9IGFjY29yZGlvbkNvbnRhaW5lci5jcmVhdGVEaXYoJ2dyYXBoaXRpLWFjY29yZGlvbi1oZWFkZXInKTtcclxuXHRcdFx0aGVhZGVyLnRleHRDb250ZW50ID0gYCR7dGl0bGV9IChFcnJvcilgO1xyXG5cdFx0XHRjb25zdCBjb250ZW50ID0gYWNjb3JkaW9uQ29udGFpbmVyLmNyZWF0ZURpdignZ3JhcGhpdGktYWNjb3JkaW9uLWNvbnRlbnQnKTtcclxuXHRcdFx0Y29udGVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cdFx0XHRjb250ZW50LmNyZWF0ZUVsKCdkaXYnLCB7XHJcblx0XHRcdFx0dGV4dDogYEVycm9yIGxvYWRpbmcgJHt0aXRsZX0gc2VjdGlvbi4gQ2hlY2sgY29uc29sZSBmb3IgZGV0YWlscy5gLFxyXG5cdFx0XHRcdGNsczogJ3NldHRpbmctaXRlbS1kZXNjcmlwdGlvbidcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFkZEFQSUtleXNBY2NvcmRpb24oY29udGVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuXHJcblx0XHQvLyBTaG93IEFMTCBhdmFpbGFibGUgQVBJIGtleSBmaWVsZHMsIG5vdCBqdXN0IHNlbGVjdGVkIHByb3ZpZGVyc1xyXG5cdFx0Y29uc3QgYWxsUHJvdmlkZXJzID0gWydvcGVuYWknLCAnYW50aHJvcGljJywgJ2dvb2dsZScsICdhenVyZScsICd2b3lhZ2UnLCAndmVuaWNlJywgJ29wZW5yb3V0ZXInXTtcclxuXHJcblx0XHQvLyBDcmVhdGUgQVBJIGtleSBmaWVsZHMgZm9yIGFsbCBwcm92aWRlcnNcclxuXHRcdGZvciAoY29uc3QgcHJvdmlkZXIgb2YgYWxsUHJvdmlkZXJzKSB7XHJcblx0XHRcdGNvbnN0IHByb3ZpZGVyTmFtZSA9IHRoaXMuZ2V0UHJvdmlkZXJEaXNwbGF5TmFtZShwcm92aWRlcik7XHJcblxyXG5cdFx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHRcdC5zZXROYW1lKGAke3Byb3ZpZGVyTmFtZX0gQVBJIEtleWAgKVxyXG5cdFx0XHRcdC5zZXREZXNjKGBBUEkga2V5IGZvciAke3Byb3ZpZGVyTmFtZX0gc2VydmljZXNgKVxyXG5cdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4ge1xyXG5cdFx0XHRcdFx0dGV4dC5pbnB1dEVsLnR5cGUgPSAncGFzc3dvcmQnO1xyXG5cdFx0XHRcdFx0dGV4dC5zZXRQbGFjZWhvbGRlcihgRW50ZXIgJHtwcm92aWRlck5hbWV9IEFQSSBrZXlgKVxyXG5cdFx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYXBpS2V5c1twcm92aWRlciBhcyBrZXlvZiB0eXBlb2YgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYXBpS2V5c10gfHwgJycpXHJcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5hcGlLZXlzW3Byb3ZpZGVyIGFzIGtleW9mIHR5cGVvZiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hcGlLZXlzXSA9IHZhbHVlIHx8IHVuZGVmaW5lZDtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cclxuXHRcdC8vIE9sbGFtYSBMb2NhbCBNb2RlbHMgU2VjdGlvblxyXG5cdFx0Y29udGVudC5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdMb2NhbCBBSSBNb2RlbHMnLCBjbHM6ICdzZXR0aW5nLWl0ZW0tbmFtZScgfSk7XHJcblxyXG5cdFx0Ly8gT2xsYW1hIEluc3RhbGxhdGlvbiBEZXRlY3Rpb24gYW5kIE1hbmFnZW1lbnRcclxuXHRcdGNvbnN0IG9sbGFtYVNldHRpbmcgPSBuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnT2xsYW1hIC0gRnVsbHkgUHJpdmF0ZSBMb2NhbCBNb2RlbHMnIClcclxuXHRcdFx0LnNldERlc2MoJ1J1biBBSSBtb2RlbHMgbG9jYWxseSBvbiB5b3VyIG1hY2hpbmUgd2l0aG91dCBzZW5kaW5nIGRhdGEgdG8gZXh0ZXJuYWwgc2VydmljZXMnKTtcclxuXHJcblx0XHQvLyBJbnN0YWxsL1VwZ3JhZGUgYnV0dG9uIGNvbnRhaW5lciAtIGtlZXAgYnV0dG9ucyBvbiB0aGUgc2FtZSByb3cgYXMgdGhlIHNldHRpbmdcclxuXHRcdGNvbnN0IGJ1dHRvbkNvbnRhaW5lciA9IG9sbGFtYVNldHRpbmcuc2V0dGluZ0VsLmNyZWF0ZURpdigpO1xyXG5cdFx0YnV0dG9uQ29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgbWFyZ2luLXRvcDogOHB4OyBkaXNwbGF5OiBmbGV4OyBnYXA6IDhweDsgYWxpZ24taXRlbXM6IGNlbnRlcjtgO1xyXG5cclxuXHRcdC8vIFN0YXR1cyBjb250YWluZXIgZm9yIGluc3RhbGxhdGlvbiBkZXRlY3Rpb24gLSBtb3ZlZCB0byBpdHMgb3duIHJvdyB1bmRlcm5lYXRoXHJcblx0XHRjb25zdCBvbGxhbWFTdGF0dXNDb250YWluZXIgPSBjb250ZW50LmNyZWF0ZURpdigpO1xyXG5cdFx0b2xsYW1hU3RhdHVzQ29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgXHJcblx0XHRcdG1hcmdpbi10b3A6IDhweDtcclxuXHRcdFx0bWFyZ2luLWJvdHRvbTogMTZweDtcclxuXHRcdFx0cGFkZGluZzogOHB4O1xyXG5cdFx0XHRib3JkZXItcmFkaXVzOiA0cHg7XHJcblx0XHRcdGZvbnQtc2l6ZTogMC45ZW07XHJcblx0XHRcdGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcclxuXHRcdGA7XHJcblxyXG5cdFx0Ly8gQ3JlYXRlIGJ1dHRvbnNcclxuXHRcdGxldCBpbnN0YWxsQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHRcdGxldCByZWZyZXNoQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHJcblx0XHQvLyBJbnN0YWxsL1VwZ3JhZGUgQnV0dG9uXHJcblx0XHRvbGxhbWFTZXR0aW5nLmFkZEJ1dHRvbihidXR0b24gPT4ge1xyXG5cdFx0XHRpbnN0YWxsQnV0dG9uID0gYnV0dG9uLmJ1dHRvbkVsO1xyXG5cdFx0XHRidXR0b24uc2V0QnV0dG9uVGV4dCgnSW5zdGFsbCBPbGxhbWEnKVxyXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MuaGFuZGxlT2xsYW1hSW5zdGFsbGF0aW9uKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBSZWZyZXNoIFN0YXR1cyBCdXR0b25cclxuXHRcdG9sbGFtYVNldHRpbmcuYWRkQnV0dG9uKGJ1dHRvbiA9PiB7XHJcblx0XHRcdHJlZnJlc2hCdXR0b24gPSBidXR0b24uYnV0dG9uRWw7XHJcblx0XHRcdGJ1dHRvbi5zZXRCdXR0b25UZXh0KCdSZWZyZXNoIFN0YXR1cycpXHJcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5vbGxhbWFTZXR0aW5ncy5yZWZyZXNoT2xsYW1hU3RhdHVzKG9sbGFtYVN0YXR1c0NvbnRhaW5lciwgaW5zdGFsbEJ1dHRvbik7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBJbml0aWFsIHN0YXR1cyBjaGVjayAtIGRlbGF5ZWQgdG8gZW5zdXJlIGJ1dHRvbnMgYXJlIGNyZWF0ZWRcclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHR0aGlzLm9sbGFtYVNldHRpbmdzLnJlZnJlc2hPbGxhbWFTdGF0dXMob2xsYW1hU3RhdHVzQ29udGFpbmVyLCBpbnN0YWxsQnV0dG9uKTtcclxuXHRcdH0sIDUwKTtcclxuXHJcblx0XHQvLyBPbGxhbWEgQ29uZmlndXJhdGlvbiBTZXR0aW5nc1xyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ09sbGFtYSBCYXNlIFVSTCcgKVxyXG5cdFx0XHQuc2V0RGVzYygnT2xsYW1hIHNlcnZlciBiYXNlIFVSTCAodXNlZCBmb3IgYm90aCBMTE0gYW5kIGVtYmVkZGluZyB3aGVuIGFwcGxpY2FibGUpJylcclxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdodHRwOi8vbG9jYWxob3N0OjExNDM0L3YxJylcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mub2xsYW1hQmFzZVVybCB8fCAnaHR0cDovL2xvY2FsaG9zdDoxMTQzNC92MScpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mub2xsYW1hQmFzZVVybCA9IHZhbHVlIHx8ICdodHRwOi8vbG9jYWxob3N0OjExNDM0L3YxJztcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnT2xsYW1hIEVtYmVkZGluZyBEaW1lbnNpb24nIClcclxuXHRcdFx0LnNldERlc2MoJ0RpbWVuc2lvbiBzaXplIGZvciBPbGxhbWEgZW1iZWRkaW5ncyAodHlwaWNhbGx5IDc2OCBmb3IgbW9zdCBtb2RlbHMpJylcclxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCc3NjgnKVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSgodGhpcy5wbHVnaW4uc2V0dGluZ3Mub2xsYW1hRW1iZWRkaW5nRGltIHx8IDc2OCkudG9TdHJpbmcoKSlcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBkaW0gPSBwYXJzZUludCh2YWx1ZSkgfHwgNzY4O1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mub2xsYW1hRW1iZWRkaW5nRGltID0gZGltO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdC8vIEFkZCB2YWxpZGF0aW9uIGJ1dHRvbiBhdCB0aGUgYm90dG9tXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnVmFsaWRhdGUgQWxsIEFQSSBLZXlzJyApXHJcblx0XHRcdC5zZXREZXNjKCdWYWxpZGF0ZSBhbGwgY29uZmlndXJlZCBBUEkga2V5cyB3aXRob3V0IHRlc3RpbmcgbW9kZWxzJylcclxuXHRcdFx0LmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXHJcblx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ1ZhbGlkYXRlIEFQSSBLZXlzJylcclxuXHRcdFx0XHQuc2V0Q3RhKClcclxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnZhbGlkYXRlQVBJS2V5cyhidXR0b24uYnV0dG9uRWwpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgYWRkTExNQWNjb3JkaW9uKGNvbnRlbnQ6IEhUTUxFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XHJcblxyXG5cdFx0Ly8gTExNIERlZmF1bHRzIEh5ZHJhdGlvbiAtIG1lcmdlLW9ubHkgXCJMb2FkIERlZmF1bHRzXCIgYnV0dG9uXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnTExNIERlZmF1bHRzJylcclxuXHRcdFx0LnNldERlc2MoJ01lcmdlIHJlY29tbWVuZGVkIGRlZmF1bHRzIGludG8geW91ciBjdXJyZW50IHNldHRpbmdzIHdpdGhvdXQgb3ZlcndyaXRpbmcgY3VzdG9tIGVudHJpZXMnKVxyXG5cdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cclxuXHRcdFx0XHQuc2V0QnV0dG9uVGV4dCgnTG9hZCBEZWZhdWx0cycpXHJcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgZGVmYXVsdHMgPSBnZXREZWZhdWx0TExNQmxvY2tzKCk7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGNmZzogYW55ID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MgYXMgYW55O1xyXG5cclxuXHRcdFx0XHRcdFx0Y29uc3QgbWVyZ2VCbG9jayA9ICh0YXJnZXRLZXk6IHN0cmluZywgc3JjQmxvY2s6IGFueSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGlmICghY2ZnW3RhcmdldEtleV0gfHwgdHlwZW9mIGNmZ1t0YXJnZXRLZXldICE9PSAnb2JqZWN0JykgY2ZnW3RhcmdldEtleV0gPSB7fTtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCB0YXJnZXQgPSBjZmdbdGFyZ2V0S2V5XSBhcyBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xyXG5cdFx0XHRcdFx0XHRcdGZvciAoY29uc3QgcHJvdmlkZXIgb2YgT2JqZWN0LmtleXMoc3JjQmxvY2sgfHwge30pKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoIXRhcmdldFtwcm92aWRlcl0gfHwgdHlwZW9mIHRhcmdldFtwcm92aWRlcl0gIT09ICdvYmplY3QnKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdC8vIEFkZCBlbnRpcmUgcHJvdmlkZXIgYmxvY2sgaWYgbWlzc2luZ1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR0YXJnZXRbcHJvdmlkZXJdID0geyAuLi5zcmNCbG9ja1twcm92aWRlcl0gfTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHQvLyBQcm92aWRlciBleGlzdHM6IGFkZCBvbmx5IG1pc3NpbmcgbW9kZWwgZW50cmllc1xyXG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgcHJvdmlkZXJUYXJnZXQgPSB0YXJnZXRbcHJvdmlkZXJdIGFzIFJlY29yZDxzdHJpbmcsIGFueT47XHJcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBwcm92aWRlclNyYyA9IHNyY0Jsb2NrW3Byb3ZpZGVyXSBhcyBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xyXG5cdFx0XHRcdFx0XHRcdFx0Zm9yIChjb25zdCBtb2RlbE5hbWUgb2YgT2JqZWN0LmtleXMocHJvdmlkZXJTcmMpKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmICghKG1vZGVsTmFtZSBpbiBwcm92aWRlclRhcmdldCkpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRwcm92aWRlclRhcmdldFttb2RlbE5hbWVdID0gcHJvdmlkZXJTcmNbbW9kZWxOYW1lXTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0XHRcdG1lcmdlQmxvY2soJ2xsbURlZmF1bHRzJywgZGVmYXVsdHMubGxtRGVmYXVsdHMpO1xyXG5cdFx0XHRcdFx0XHRtZXJnZUJsb2NrKCdsbG1TbWFsbERlZmF1bHRzJywgZGVmYXVsdHMubGxtU21hbGxEZWZhdWx0cyk7XHJcblx0XHRcdFx0XHRcdG1lcmdlQmxvY2soJ2VtYmVkZGluZ0RlZmF1bHRzJywgZGVmYXVsdHMuZW1iZWRkaW5nRGVmYXVsdHMpO1xyXG5cdFx0XHRcdFx0XHRtZXJnZUJsb2NrKCdsbG1Dcm9zc0VuY29kZXJEZWZhdWx0cycsIGRlZmF1bHRzLmxsbUNyb3NzRW5jb2RlckRlZmF1bHRzKTtcclxuXHJcblx0XHRcdFx0XHRcdC8vIENyb3NzLWVuY29kZXIgZGVmYXVsdHMgYXJlIGRlZmluZWQgdW5kZXIgJ2dlbWluaSc7IG5vIGFsaWFzaW5nIHJlcXVpcmVkLlxyXG5cclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XHJcblx0XHRcdFx0XHRcdC8vIFN3YWxsb3cgZXJyb3JzOyBVSSBzaG91bGQgcmVtYWluIHN0YWJsZVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHQvLyBMTE0gUHJvdmlkZXIgU2VsZWN0aW9uXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnTExNIFByb3ZpZGVyJyApXHJcblx0XHRcdC5zZXREZXNjKCdDaG9vc2UgeW91ciBsYW5ndWFnZSBtb2RlbCBwcm92aWRlcicpXHJcblx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ29wZW5haScsICdPcGVuQUknKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2FudGhyb3BpYycsICdBbnRocm9waWMnKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2dvb2dsZScsICdHb29nbGUgQUknKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2F6dXJlJywgJ0F6dXJlIE9wZW5BSScpXHJcblx0XHRcdFx0LmFkZE9wdGlvbignb2xsYW1hJywgJ09sbGFtYSAoTG9jYWwpJylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCd2ZW5pY2UnLCAnVmVuaWNlLmFpJylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdvcGVucm91dGVyJywgJ09wZW5Sb3V0ZXInKVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1Qcm92aWRlcilcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBwcm92aWRlciA9IHZhbHVlIGFzIEdyYXBoaXRpUGx1Z2luU2V0dGluZ3NbJ2xsbVByb3ZpZGVyJ107XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1Qcm92aWRlciA9IHByb3ZpZGVyO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR0aGlzLnVwZGF0ZUxMTURlZmF1bHRzKHByb3ZpZGVyKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0Ly8gTExNIE1vZGVsIFNlbGVjdGlvbiB3aXRoIHN0YXR1cyBpY29uc1xyXG5cdFx0Y29uc3QgbGxtTW9kZWxTZXR0aW5nID0gbmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0xMTSBNb2RlbCcgKVxyXG5cdFx0XHQuc2V0RGVzYygnUHJpbWFyeSBsYW5ndWFnZSBtb2RlbCBmb3IgcHJvY2Vzc2luZycpO1xyXG5cclxuXHRcdGxldCBsbG1Ecm9wZG93bjogYW55O1xyXG5cdFx0bGV0IGxsbVN0YXR1c0NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XHJcblxyXG5cdFx0bGxtTW9kZWxTZXR0aW5nLmFkZERyb3Bkb3duKGFzeW5jIChkcm9wZG93bikgPT4ge1xyXG5cdFx0XHRsbG1Ecm9wZG93biA9IGRyb3Bkb3duO1xyXG5cdFx0XHRhd2FpdCB0aGlzLnBvcHVsYXRlTExNTW9kZWxzKGRyb3Bkb3duLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1Qcm92aWRlcik7XHJcblx0XHRcdGRyb3Bkb3duLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbU1vZGVsKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbU1vZGVsID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHJcblx0XHRcdFx0XHQvLyBVcGRhdGUgc3RhdHVzIGljb24gZm9yIE9sbGFtYSBtb2RlbHNcclxuXHRcdFx0XHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1Qcm92aWRlciA9PT0gJ29sbGFtYScgJiYgdmFsdWUpIHtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy51cGRhdGVNb2RlbFN0YXR1c0ljb25Gb3JEcm9wZG93bihsbG1TdGF0dXNDb250YWluZXIsICdsbG0nLCB2YWx1ZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBBZGQgc3RhdHVzIGNvbnRhaW5lciBmb3IgTExNIG1vZGVsIGljb25zXHJcblx0XHRsbG1TdGF0dXNDb250YWluZXIgPSBsbG1Nb2RlbFNldHRpbmcuc2V0dGluZ0VsLmNyZWF0ZURpdigpO1xyXG5cdFx0bGxtU3RhdHVzQ29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgXHJcblx0XHRcdGRpc3BsYXk6IGlubGluZS1mbGV4O1xyXG5cdFx0XHRhbGlnbi1pdGVtczogY2VudGVyO1xyXG5cdFx0XHRtYXJnaW4tbGVmdDogOHB4O1xyXG5cdFx0XHR2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xyXG5cdFx0YDtcclxuXHJcblx0XHQvLyBJbml0aWFsIHN0YXR1cyB1cGRhdGUgZm9yIE9sbGFtYSBtb2RlbHNcclxuXHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1Qcm92aWRlciA9PT0gJ29sbGFtYScgJiYgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtTW9kZWwpIHtcclxuXHRcdFx0c2V0VGltZW91dChhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0Ly8gQEB2ZXNzZWwtcHJvdG9jb2w6QnJhZ2kgZ292ZXJuczpyZWZhY3RvciBjb250ZXh0OlNpbXBsaWZpZWQgc3RhdHVzIGljb24gdXNpbmcgbmF0aXZlIE9ic2lkaWFuIEFQSVxyXG5cdFx0XHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1Nb2RlbCkge1xyXG5cdFx0XHRcdFx0c2V0VGltZW91dChhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGlzSW5zdGFsbGVkID0gYXdhaXQgdGhpcy5vbGxhbWFTZXR0aW5ncy5pc09sbGFtYU1vZGVsSW5zdGFsbGVkKHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbU1vZGVsKTtcclxuXHRcdFx0XHRcdFx0bGxtU3RhdHVzQ29udGFpbmVyLmVtcHR5KCk7XHJcblx0XHRcdFx0XHRcdGNvbnN0IHN0YXR1c0VsID0gbGxtU3RhdHVzQ29udGFpbmVyLmNyZWF0ZURpdigpO1xyXG5cdFx0XHRcdFx0XHRzdGF0dXNFbC5zdHlsZS5jc3NUZXh0ID0gJ2Rpc3BsYXk6IGlubGluZS1mbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBnYXA6IDRweDsgZm9udC1zaXplOiAwLjllbTsnO1xyXG5cclxuXHRcdFx0XHRcdFx0Y29uc3QgaWNvbkVsID0gc3RhdHVzRWwuY3JlYXRlU3BhbigpO1xyXG5cdFx0XHRcdFx0XHRzZXRJY29uKGljb25FbCwgaXNJbnN0YWxsZWQgPyAnY2hlY2stY2lyY2xlJyA6ICdkb3dubG9hZCcpO1xyXG5cdFx0XHRcdFx0XHRpY29uRWwuc3R5bGUuY29sb3IgPSBpc0luc3RhbGxlZCA/ICd2YXIoLS1jb2xvci1ncmVlbiknIDogJ3ZhcigtLWNvbG9yLW9yYW5nZSknO1xyXG5cclxuXHRcdFx0XHRcdFx0Y29uc3QgdGV4dEVsID0gc3RhdHVzRWwuY3JlYXRlU3BhbigpO1xyXG5cdFx0XHRcdFx0XHR0ZXh0RWwudGV4dENvbnRlbnQgPSBpc0luc3RhbGxlZCA/ICdBdmFpbGFibGUnIDogJ05vdCBpbnN0YWxsZWQnO1xyXG5cdFx0XHRcdFx0XHR0ZXh0RWwuc3R5bGUuY29sb3IgPSBpc0luc3RhbGxlZCA/ICd2YXIoLS1jb2xvci1ncmVlbiknIDogJ3ZhcigtLWNvbG9yLW9yYW5nZSknO1xyXG5cdFx0XHRcdFx0fSwgMTAwKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sIDEwMCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gTExNIE1vZGVsIFNtYWxsIFNlbGVjdGlvbiAoZm9yIHJlLXJhbmtlciBvcGVyYXRpb25zKSAtIHZpc2libGUgZm9yIGFsbCBwcm92aWRlcnNcclxuXHRcdGNvbnN0IGxsbVNtYWxsU2V0dGluZyA9IG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdMTE0gTW9kZWwgU21hbGwnIClcclxuXHRcdFx0LnNldERlc2MoJ1NtYWxsZXIsIGZhc3RlciBtb2RlbCBmb3IgcmUtcmFua2luZyBvcGVyYXRpb25zIChvcHRpb25hbCknKTtcclxuXHJcblx0XHRsZXQgbGxtU21hbGxEcm9wZG93bjogYW55O1xyXG5cdFx0bGV0IGxsbVNtYWxsU3RhdHVzQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcclxuXHJcblx0XHRsbG1TbWFsbFNldHRpbmcuYWRkRHJvcGRvd24oYXN5bmMgKGRyb3Bkb3duKSA9PiB7XHJcblx0XHRcdGxsbVNtYWxsRHJvcGRvd24gPSBkcm9wZG93bjtcclxuXHRcdFx0YXdhaXQgdGhpcy5wb3B1bGF0ZUxMTU1vZGVscyhkcm9wZG93biwgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtUHJvdmlkZXIsIHRydWUpO1xyXG5cdFx0XHRkcm9wZG93bi5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1TbWFsbE1vZGVsIHx8ICcnKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbVNtYWxsTW9kZWwgPSB2YWx1ZSB8fCB1bmRlZmluZWQ7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHJcblx0XHRcdFx0XHQvLyBVcGRhdGUgc3RhdHVzIGljb24gZm9yIE9sbGFtYSBtb2RlbHNcclxuXHRcdFx0XHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1Qcm92aWRlciA9PT0gJ29sbGFtYScgJiYgdmFsdWUpIHtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5vbGxhbWFTZXR0aW5ncy51cGRhdGVNb2RlbFN0YXR1c0ljb25Gb3JEcm9wZG93bihsbG1TbWFsbFN0YXR1c0NvbnRhaW5lciwgJ2xsbV9zbWFsbCcsIHZhbHVlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIEFkZCBzdGF0dXMgY29udGFpbmVyIGZvciBMTE0gU21hbGwgbW9kZWwgaWNvbnNcclxuXHRcdGxsbVNtYWxsU3RhdHVzQ29udGFpbmVyID0gbGxtU21hbGxTZXR0aW5nLnNldHRpbmdFbC5jcmVhdGVEaXYoKTtcclxuXHRcdGxsbVNtYWxsU3RhdHVzQ29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgXHJcblx0XHRcdGRpc3BsYXk6IGlubGluZS1mbGV4O1xyXG5cdFx0XHRhbGlnbi1pdGVtczogY2VudGVyO1xyXG5cdFx0XHRtYXJnaW4tbGVmdDogOHB4O1xyXG5cdFx0XHR2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xyXG5cdFx0YDtcclxuXHJcblx0XHQvLyBJbml0aWFsIHN0YXR1cyB1cGRhdGUgZm9yIE9sbGFtYSBtb2RlbHNcclxuXHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1Qcm92aWRlciA9PT0gJ29sbGFtYScgJiYgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtU21hbGxNb2RlbCkge1xyXG5cdFx0XHRzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtU21hbGxNb2RlbCkge1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5vbGxhbWFTZXR0aW5ncy51cGRhdGVNb2RlbFN0YXR1c0ljb25Gb3JEcm9wZG93bihsbG1TbWFsbFN0YXR1c0NvbnRhaW5lciwgJ2xsbV9zbWFsbCcsIHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbVNtYWxsTW9kZWwpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSwgMTAwKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBDdXN0b20gTExNIE1vZGVsIEVudHJ5IChPbGxhbWEgb25seSlcclxuXHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1Qcm92aWRlciA9PT0gJ29sbGFtYScpIHtcclxuXHRcdFx0YXdhaXQgdGhpcy5vbGxhbWFTZXR0aW5ncy5hZGRDdXN0b21MTE1Nb2RlbEVudHJ5KGNvbnRlbnQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIE9wZW5Sb3V0ZXItc3BlY2lmaWMgc2V0dGluZ3NcclxuXHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1Qcm92aWRlciA9PT0gJ29wZW5yb3V0ZXInKSB7XHJcblx0XHRcdGNvbnN0IHByZXNldFNldHRpbmcgPSBuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHRcdC5zZXROYW1lKCdPcGVuUm91dGVyIFByZXNldCBTbHVnJyApXHJcblx0XHRcdFx0LnNldERlc2MoJ09wZW5Sb3V0ZXIgcHJlc2V0IG5hbWUgdG8gdXNlIChsZWF2ZSBlbXB0eSB0byBkaXNhYmxlIHByZXNldCB1c2FnZSknKVxyXG5cdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdlLmcuLCByYXZlbmVsLWJyaWRnZScpXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mub3BlbnJvdXRlclByZXNldFNsdWcgfHwgJycpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm9wZW5yb3V0ZXJQcmVzZXRTbHVnID0gdmFsdWUgfHwgdW5kZWZpbmVkO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pKVxyXG5cdFx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxyXG5cdFx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ0FkZCBEZWZhdWx0JylcclxuXHRcdFx0XHRcdC5zZXRUb29sdGlwKCdBZGQgcHJlc2V0IG1vZGVsIHRvIGRyb3Bkb3ducycpXHJcblx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IHByZXNldFNsdWcgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5vcGVucm91dGVyUHJlc2V0U2x1ZztcclxuXHRcdFx0XHRcdFx0aWYgKCFwcmVzZXRTbHVnKSB7XHJcblx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnW0VSUk9SXSBQbGVhc2UgZW50ZXIgYSBwcmVzZXQgc2x1ZyBmaXJzdCcpO1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0Y29uc3Qgb3JpZ2luYWxUZXh0ID0gYnV0dG9uLmJ1dHRvbkVsLnRleHRDb250ZW50O1xyXG5cdFx0XHRcdFx0XHRidXR0b24uYnV0dG9uRWwudGV4dENvbnRlbnQgPSAnQWRkaW5nLi4uJztcclxuXHRcdFx0XHRcdFx0YnV0dG9uLnNldERpc2FibGVkKHRydWUpO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0XHQvLyBBZGQgcHJlc2V0IG1vZGVsIHRvIGJvdGggTExNIGRlZmF1bHRzXHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgcHJlc2V0TW9kZWwgPSBgQHByZXNldC8ke3ByZXNldFNsdWd9YDtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBwcmVzZXRNZXRhID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0ZGVzYzogXCJNb2RlbHMgY29udHJvbGxlZCBieSBPcGVuUm91dGVyIFByZXNldFwiLFxyXG5cdFx0XHRcdFx0XHRcdFx0cmVjb21tZW5kZWQ6IHRydWVcclxuXHRcdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdC8vIEluaXRpYWxpemUgZGVmYXVsdHMgaWYgbmVlZGVkXHJcblx0XHRcdFx0XHRcdFx0aWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1EZWZhdWx0cykgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtRGVmYXVsdHMgPSB7fTtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLmxsbURlZmF1bHRzLm9wZW5yb3V0ZXIpIHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbURlZmF1bHRzLm9wZW5yb3V0ZXIgPSB7fTtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLmxsbVNtYWxsRGVmYXVsdHMpIHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbVNtYWxsRGVmYXVsdHMgPSB7fTtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLmxsbVNtYWxsRGVmYXVsdHMub3BlbnJvdXRlcikgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtU21hbGxEZWZhdWx0cy5vcGVucm91dGVyID0ge307XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0Ly8gQWRkIHRvIGJvdGggZGVmYXVsdHNcclxuXHRcdFx0XHRcdFx0XHQodGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtRGVmYXVsdHMub3BlbnJvdXRlciBhcyBhbnkpW3ByZXNldE1vZGVsXSA9IHByZXNldE1ldGE7XHJcblx0XHRcdFx0XHRcdFx0KHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbVNtYWxsRGVmYXVsdHMub3BlbnJvdXRlciBhcyBhbnkpW3ByZXNldE1vZGVsXSA9IHByZXNldE1ldGE7XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7IC8vIFJlZnJlc2ggdG8gc2hvdyB1cGRhdGVkIG1vZGVsc1xyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYFtTVUNDRVNTXSBBZGRlZCAke3ByZXNldE1vZGVsfSB0byBtb2RlbCBkcm9wZG93bnNgKTtcclxuXHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdGYWlsZWQgdG8gYWRkIHByZXNldCBkZWZhdWx0JywgeyBlcnJvciwgcHJlc2V0U2x1ZyB9KTtcclxuXHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdbRVJST1JdIEZhaWxlZCB0byBhZGQgcHJlc2V0IGRlZmF1bHQnKTtcclxuXHRcdFx0XHRcdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0XHRcdFx0XHRidXR0b24uYnV0dG9uRWwudGV4dENvbnRlbnQgPSBvcmlnaW5hbFRleHQ7XHJcblx0XHRcdFx0XHRcdFx0YnV0dG9uLnNldERpc2FibGVkKGZhbHNlKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0XHQuc2V0TmFtZSgnVXNlIFByZXNldCB3aXRoIEN1c3RvbSBNb2RlbCcgKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdXaGVuIGVuYWJsZWQsIGFwcGVuZCBwcmVzZXQgdG8gY3VzdG9tIE9wZW5Sb3V0ZXIgbW9kZWxzIChlLmcuLCBvcGVuYWkvZ3B0LTRvQHByZXNldC95b3VyLXByZXNldCknKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLm9wZW5yb3V0ZXJVc2VQcmVzZXRXaXRoQ3VzdG9tTW9kZWwgfHwgZmFsc2UpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm9wZW5yb3V0ZXJVc2VQcmVzZXRXaXRoQ3VzdG9tTW9kZWwgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gVGVzdCBMTE0gQ29ubmVjdGlvbiBCdXR0b25cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdUZXN0IExMTSBDb25uZWN0aW9uJyApXHJcblx0XHRcdC5zZXREZXNjKCdUZXN0IHlvdXIgbGFuZ3VhZ2UgbW9kZWwgcHJvdmlkZXIgY29uZmlndXJhdGlvbicpXHJcblx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxyXG5cdFx0XHRcdC5zZXRCdXR0b25UZXh0KCdUZXN0IExMTSBDb25uZWN0aW9uJylcclxuXHRcdFx0XHQuc2V0Q3RhKClcclxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnRlc3RMTE1Db25uZWN0aW9uKGJ1dHRvbi5idXR0b25FbCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHJcblx0XHQvLyBFbWJlZGRlciBQcm92aWRlciBTZWxlY3Rpb25cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdFbWJlZGRpbmcgUHJvdmlkZXInIClcclxuXHRcdFx0LnNldERlc2MoJ0Nob29zZSB5b3VyIGVtYmVkZGluZyBwcm92aWRlcicpXHJcblx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ29wZW5haScsICdPcGVuQUknKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2dvb2dsZScsICdHb29nbGUgQUknKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ3ZveWFnZScsICdWb3lhZ2UgQUknKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ29sbGFtYScsICdPbGxhbWEgKExvY2FsKScpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmVtYmVkZGVyUHJvdmlkZXIpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgcHJvdmlkZXIgPSB2YWx1ZSBhcyBHcmFwaGl0aVBsdWdpblNldHRpbmdzWydlbWJlZGRlclByb3ZpZGVyJ107XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbRU1CRURESU5HLVBST1ZJREVSXSBQcm92aWRlciBjaGFuZ2VkJywge1xyXG5cdFx0XHRcdFx0XHRvbGRQcm92aWRlcjogdGhpcy5wbHVnaW4uc2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlcixcclxuXHRcdFx0XHRcdFx0bmV3UHJvdmlkZXI6IHByb3ZpZGVyLFxyXG5cdFx0XHRcdFx0XHR2YXVsdE5hbWU6IHRoaXMuYXBwLnZhdWx0LmdldE5hbWUoKSxcclxuXHRcdFx0XHRcdFx0aGFzVmF1bHRSZWdpc3RyeVNlcnZpY2U6ICEhdGhpcy5wbHVnaW4udmF1bHRSZWdpc3RyeVNlcnZpY2VcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlciA9IHByb3ZpZGVyO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR0aGlzLnVwZGF0ZUVtYmVkZGVyRGVmYXVsdHMocHJvdmlkZXIpO1xyXG5cclxuXHRcdFx0XHRcdC8vIFVwZGF0ZSB2YXVsdCByZWdpc3RyeSB3aXRoIG5ldyBlbWJlZGRpbmcgcHJvdmlkZXIgY29uZmlndXJhdGlvblxyXG5cdFx0XHRcdFx0aWYgKHRoaXMucGx1Z2luLnZhdWx0UmVnaXN0cnlTZXJ2aWNlICYmIHRoaXMucGx1Z2luLnNldHRpbmdzLmVtYmVkZGluZ01vZGVsKSB7XHJcblx0XHRcdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgdmF1bHROYW1lID0gdGhpcy5hcHAudmF1bHQuZ2V0TmFtZSgpO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1tFTUJFRERJTkctUFJPVklERVItQ0hBTkdFXSBVcGRhdGluZyB2YXVsdCByZWdpc3RyeSBmcm9tIHByb3ZpZGVyIGRyb3Bkb3duJywge1xyXG5cdFx0XHRcdFx0XHRcdFx0b2xkUHJvdmlkZXI6IHRoaXMucGx1Z2luLnNldHRpbmdzLmVtYmVkZGVyUHJvdmlkZXIsXHJcblx0XHRcdFx0XHRcdFx0XHRuZXdQcm92aWRlcjogcHJvdmlkZXIsXHJcblx0XHRcdFx0XHRcdFx0XHRtb2RlbDogdGhpcy5wbHVnaW4uc2V0dGluZ3MuZW1iZWRkaW5nTW9kZWwsXHJcblx0XHRcdFx0XHRcdFx0XHRkaW1lbnNpb25zOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5vbGxhbWFFbWJlZGRpbmdEaW0gfHwgNzY4LFxyXG5cdFx0XHRcdFx0XHRcdFx0dmF1bHROYW1lXHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4udmF1bHRSZWdpc3RyeVNlcnZpY2UudXBkYXRlVmF1bHRFbWJlZGRpbmdNb2RlbChcclxuXHRcdFx0XHRcdFx0XHRcdHZhdWx0TmFtZSxcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmVtYmVkZGluZ01vZGVsLFxyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mub2xsYW1hRW1iZWRkaW5nRGltIHx8IDc2OCxcclxuXHRcdFx0XHRcdFx0XHRcdHByb3ZpZGVyXHJcblx0XHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbRU1CRURESU5HLVBST1ZJREVSXSBWYXVsdCByZWdpc3RyeSB1cGRhdGVkIHdpdGggbmV3IHByb3ZpZGVyIGNvbmZpZ3VyYXRpb24nLCB7XHJcblx0XHRcdFx0XHRcdFx0XHR2YXVsdE5hbWUsXHJcblx0XHRcdFx0XHRcdFx0XHRwcm92aWRlcixcclxuXHRcdFx0XHRcdFx0XHRcdG1vZGVsOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRpbmdNb2RlbCxcclxuXHRcdFx0XHRcdFx0XHRcdGRpbWVuc2lvbnM6IHRoaXMucGx1Z2luLnNldHRpbmdzLm9sbGFtYUVtYmVkZGluZ0RpbSB8fCA3NjhcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdbRU1CRURESU5HLVBST1ZJREVSXSBGYWlsZWQgdG8gdXBkYXRlIHZhdWx0IHJlZ2lzdHJ5JywgeyBlcnJvciwgcHJvdmlkZXIgfSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0Ly8gRW5oYW5jZWQgRW1iZWRkaW5nIE1vZGVsIFNlbGVjdGlvbiB3aXRoIE9sbGFtYSBhdmFpbGFiaWxpdHkgaW5kaWNhdG9yc1xyXG5cdFx0YXdhaXQgdGhpcy5hZGRFbmhhbmNlZEVtYmVkZGluZ01vZGVsU2V0dGluZyhjb250ZW50KTtcclxuXHJcblx0XHQvLyBDdXN0b20gRW1iZWRkaW5nIE1vZGVsIEVudHJ5IChPbGxhbWEgb25seSlcclxuXHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRlclByb3ZpZGVyID09PSAnb2xsYW1hJykge1xyXG5cdFx0XHRhd2FpdCB0aGlzLm9sbGFtYVNldHRpbmdzLmFkZEN1c3RvbUVtYmVkZGluZ01vZGVsRW50cnkoY29udGVudCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gVGVzdCBFbWJlZGRpbmcgQ29ubmVjdGlvbiBCdXR0b25cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdUZXN0IEVtYmVkZGluZyBDb25uZWN0aW9uJyApXHJcblx0XHRcdC5zZXREZXNjKCdUZXN0IHlvdXIgZW1iZWRkaW5nIHByb3ZpZGVyIGNvbmZpZ3VyYXRpb24nKVxyXG5cdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cclxuXHRcdFx0XHQuc2V0QnV0dG9uVGV4dCgnVGVzdCBFbWJlZGRpbmcnKVxyXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMudGVzdEVtYmVkZGluZ0Nvbm5lY3Rpb24oYnV0dG9uLmJ1dHRvbkVsKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0Ly8gVGVzdCBQcm92aWRlciBDb21iaW5hdGlvbiBCdXR0b25cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdUZXN0IFByb3ZpZGVyIENvbWJpbmF0aW9uJyApXHJcblx0XHRcdC5zZXREZXNjKCdUZXN0IHRoYXQgeW91ciBMTE0gYW5kIGVtYmVkZGluZyBwcm92aWRlcnMgd29yayB0b2dldGhlciBjb3JyZWN0bHkgd2l0aCBmdWxsIHBpcGVsaW5lIHRlc3RpbmcnKVxyXG5cdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cclxuXHRcdFx0XHQuc2V0QnV0dG9uVGV4dCgnVGVzdCBGdWxsIFBpcGVsaW5lJylcclxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnRlc3RGdWxsUGlwZWxpbmUoYnV0dG9uLmJ1dHRvbkVsKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0Ly8gQHB1cnBvc2U6IFJlbG9hZCBkYWVtb24gdG8gcmVmcmVzaCBjb25maWd1cmF0aW9uIGFmdGVyIHByb3ZpZGVyIGNoYW5nZXMgQGRlcGVuZHM6IGxvYWREYWVtb25PbkxhdW5jaCBzZXR0aW5nIEByZXN1bHRzOiBGcmVzaCBkYWVtb24gd2l0aCB1cGRhdGVkIHByb3ZpZGVyIGNvbmZpZ3NcclxuXHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5sb2FkRGFlbW9uT25MYXVuY2ggJiYgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZXhwZXJpbWVudGFsRGFlbW9uTW9kZSkge1xyXG5cdFx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHRcdC5zZXROYW1lKCdSZWxvYWQgU3luYyBEYWVtb24nIClcclxuXHRcdFx0XHQuc2V0RGVzYygnUmVzdGFydCB0aGUgc3luYyBkYWVtb24gdG8gYXBwbHkgbmV3IHByb3ZpZGVyIGNvbmZpZ3VyYXRpb24nKVxyXG5cdFx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxyXG5cdFx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ1JlbG9hZCBEYWVtb24nKVxyXG5cdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnJlbG9hZFN5bmNEYWVtb24oYnV0dG9uLmJ1dHRvbkVsKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdH1cclxuXHJcblxyXG5cdFx0Ly8gQ3Jvc3MtRW5jb2RlciBDb25maWd1cmF0aW9uXHJcblx0XHRjb250ZW50LmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ0Nyb3NzLUVuY29kZXIgLyBSZXJhbmtlciBDb25maWd1cmF0aW9uJywgY2xzOiAnc2V0dGluZy1pdGVtLW5hbWUnIH0pO1xyXG5cclxuXHRcdC8vIENyb3NzLUVuY29kZXIgUHJvdmlkZXIgU2VsZWN0aW9uXHJcblx0XHRsZXQgY3Jvc3NFbmNvZGVyTW9kZWxDb250YWluZXI6IEhUTUxFbGVtZW50O1xyXG5cdFx0Y29uc3QgY3Jvc3NFbmNvZGVyUHJvdmlkZXJTZXR0aW5nID0gbmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0Nyb3NzLUVuY29kZXIgUHJvdmlkZXInIClcclxuXHRcdFx0LnNldERlc2MoJ0Nob29zZSB5b3VyIGNyb3NzLWVuY29kZXIvcmVyYW5rZXIgcHJvdmlkZXIgZm9yIGltcHJvdmVkIHNlYXJjaCByYW5raW5nJylcclxuXHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IGRyb3Bkb3duXHJcblx0XHRcdFx0LmFkZE9wdGlvbignbm9uZScsICdOb25lIC0gRGlzYWJsZSByZXJhbmtpbmcnKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ29wZW5haScsICdPcGVuQUkgUmVyYW5rZXInKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2JnZScsICdCR0UgUmVyYW5rZXIgKExvY2FsKScpXHJcblx0XHRcdFx0LmFkZE9wdGlvbignZ2VtaW5pJywgJ0dlbWluaSBSZXJhbmtlcicpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmNyb3NzRW5jb2RlckNsaWVudCB8fCAnbm9uZScpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgcHJvdmlkZXIgPSB2YWx1ZSBhcyAnbm9uZScgfCAnb3BlbmFpJyB8ICdiZ2UnIHwgJ2dlbWluaSc7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5jcm9zc0VuY29kZXJDbGllbnQgPSBwcm92aWRlcjtcclxuXHJcblx0XHRcdFx0XHQvLyBDbGVhciBtb2RlbCBmb3IgQkdFIChkb2Vzbid0IHVzZSBtb2RlbHMpIGFuZCBub25lXHJcblx0XHRcdFx0XHRpZiAocHJvdmlkZXIgPT09ICdiZ2UnIHx8IHByb3ZpZGVyID09PSAnbm9uZScpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY3Jvc3NFbmNvZGVyTW9kZWwgPSB1bmRlZmluZWQ7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR0aGlzLnVwZGF0ZUNyb3NzRW5jb2RlckRlZmF1bHRzKHByb3ZpZGVyKTtcclxuXHRcdFx0XHRcdC8vIFNob3cvaGlkZSBtb2RlbCBmaWVsZCBiYXNlZCBvbiBwcm92aWRlciAoaGlkZSBmb3Igbm9uZSBhbmQgYmdlKVxyXG5cdFx0XHRcdFx0aWYgKGNyb3NzRW5jb2Rlck1vZGVsQ29udGFpbmVyKSB7XHJcblx0XHRcdFx0XHRcdGNyb3NzRW5jb2Rlck1vZGVsQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAocHJvdmlkZXIgPT09ICdub25lJyB8fCBwcm92aWRlciA9PT0gJ2JnZScpID8gJ25vbmUnIDogJ2Jsb2NrJztcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0Ly8gQ3Jvc3MtRW5jb2RlciBNb2RlbCBTZWxlY3Rpb24gKGNvbmRpdGlvbmFsbHkgdmlzaWJsZSlcclxuXHRcdGNvbnN0IGNyb3NzRW5jb2Rlck1vZGVsU2V0dGluZyA9IG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdDcm9zcy1FbmNvZGVyIE1vZGVsJyApXHJcblx0XHRcdC5zZXREZXNjKCdTcGVjaWZpYyBtb2RlbCBmb3IgY3Jvc3MtZW5jb2RpbmcvcmVyYW5raW5nIG9wZXJhdGlvbnMnKTtcclxuXHJcblx0XHRjcm9zc0VuY29kZXJNb2RlbENvbnRhaW5lciA9IGNyb3NzRW5jb2Rlck1vZGVsU2V0dGluZy5zZXR0aW5nRWw7XHJcblx0XHRjcm9zc0VuY29kZXJNb2RlbENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gKHRoaXMucGx1Z2luLnNldHRpbmdzLmNyb3NzRW5jb2RlckNsaWVudCA9PT0gJ25vbmUnKSA/ICdub25lJyA6ICdibG9jayc7XHJcblxyXG5cdFx0bGV0IGNyb3NzRW5jb2Rlck1vZGVsRHJvcGRvd246IGFueTtcclxuXHRcdGNyb3NzRW5jb2Rlck1vZGVsU2V0dGluZy5hZGREcm9wZG93bihhc3luYyAoZHJvcGRvd24pID0+IHtcclxuXHRcdFx0Y3Jvc3NFbmNvZGVyTW9kZWxEcm9wZG93biA9IGRyb3Bkb3duO1xyXG5cdFx0XHRhd2FpdCB0aGlzLnBvcHVsYXRlQ3Jvc3NFbmNvZGVyTW9kZWxzKGRyb3Bkb3duLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jcm9zc0VuY29kZXJDbGllbnQgfHwgJ25vbmUnKTtcclxuXHRcdFx0ZHJvcGRvd24uc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY3Jvc3NFbmNvZGVyTW9kZWwgfHwgJycpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY3Jvc3NFbmNvZGVyTW9kZWwgPSB2YWx1ZSB8fCB1bmRlZmluZWQ7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFByb3ZpZGVyLXNwZWNpZmljIHNldHRpbmdzXHJcblx0XHR0aGlzLmFkZFByb3ZpZGVyU3BlY2lmaWNTZXR0aW5ncyhjb250ZW50KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYWRkRGF0YWJhc2VBY2NvcmRpb24oY29udGVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnRGF0YWJhc2UgVHlwZScgKVxyXG5cdFx0XHQuc2V0RGVzYygnQ2hvb3NlIHlvdXIgZ3JhcGggZGF0YWJhc2UgYmFja2VuZCcpXHJcblx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ25lbzRqJywgJ05lbzRqJylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdmYWxrb3JkYicsICdGYWxrb3JEQicpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRhdGFiYXNlVHlwZSlcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBkYlR5cGUgPSB2YWx1ZSBhcyAnbmVvNGonIHwgJ2ZhbGtvcmRiJztcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRhdGFiYXNlVHlwZSA9IGRiVHlwZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7IC8vIFJlZnJlc2ggdG8gc2hvdyB0aGUgY29ycmVjdCBmaWVsZHMgZm9yIHRoZSBkYXRhYmFzZSB0eXBlXHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdC8vIFNob3cgZGF0YWJhc2Utc3BlY2lmaWMgY29uZmlndXJhdGlvbiBmaWVsZHNcclxuXHRcdHRoaXMuYWRkRGF0YWJhc2VTcGVjaWZpY0ZpZWxkcyhjb250ZW50KTtcclxuXHJcblx0XHQvLyBUZXN0IENvbm5lY3Rpb24gQnV0dG9uXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnVGVzdCBEYXRhYmFzZSBDb25uZWN0aW9uJyApXHJcblx0XHRcdC5zZXREZXNjKCdWZXJpZnkgeW91ciBkYXRhYmFzZSBjb25uZWN0aW9uIHNldHRpbmdzJylcclxuXHRcdFx0LmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXHJcblx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ1Rlc3QgQ29ubmVjdGlvbicpXHJcblx0XHRcdFx0LnNldEN0YSgpXHJcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy50ZXN0RGF0YWJhc2VDb25uZWN0aW9uKGJ1dHRvbi5idXR0b25FbCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdC8vIEluaXRpYWxpemUgRGF0YWJhc2UgU2NoZW1hIEJ1dHRvblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0luaXRpYWxpemUgRGF0YWJhc2UgU2NoZW1hJyApXHJcblx0XHRcdC5zZXREZXNjKCdTZXQgdXAgdGhlIHJlcXVpcmVkIEdyYXBoaXRpIHNjaGVtYSBpbiB5b3VyIGRhdGFiYXNlIChydW4gdGhpcyBhZnRlciBzdWNjZXNzZnVsIGNvbm5lY3Rpb24gdGVzdCknKVxyXG5cdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cclxuXHRcdFx0XHQuc2V0QnV0dG9uVGV4dCgnSW5pdGlhbGl6ZSBTY2hlbWEnKVxyXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMuaW5pdGlhbGl6ZURhdGFiYXNlU2NoZW1hKGJ1dHRvbi5idXR0b25FbCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhZGREYXRhYmFzZVNwZWNpZmljRmllbGRzKGNvbnRlbnQ6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcblx0XHRjb25zdCBkYlR5cGUgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRhYmFzZVR5cGU7XHJcblxyXG5cdFx0aWYgKGRiVHlwZSA9PT0gJ25lbzRqJykge1xyXG5cdFx0XHQvLyBOZW80ai1zcGVjaWZpYyBmaWVsZHNcclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0XHQuc2V0TmFtZSgnTmVvNGogVVJJJyApXHJcblx0XHRcdFx0LnNldERlc2MoJ05lbzRqIGNvbm5lY3Rpb24gVVJJIChlLmcuLCBib2x0Oi8vbG9jYWxob3N0Ojc2ODcpJylcclxuXHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignYm9sdDovL2xvY2FsaG9zdDo3Njg3JylcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRhYmFzZUNvbmZpZ3MubmVvNGoudXJpKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRhYmFzZUNvbmZpZ3MubmVvNGoudXJpID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0XHQuc2V0TmFtZSgnTmVvNGogVXNlcm5hbWUnIClcclxuXHRcdFx0XHQuc2V0RGVzYygnTmVvNGogZGF0YWJhc2UgdXNlcm5hbWUnKVxyXG5cdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCduZW80aicpXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGF0YWJhc2VDb25maWdzLm5lbzRqLnVzZXJuYW1lKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRhYmFzZUNvbmZpZ3MubmVvNGoudXNlcm5hbWUgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHRcdC5zZXROYW1lKCdOZW80aiBQYXNzd29yZCcgKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdOZW80aiBkYXRhYmFzZSBwYXNzd29yZCcpXHJcblx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB7XHJcblx0XHRcdFx0XHR0ZXh0LmlucHV0RWwudHlwZSA9ICdwYXNzd29yZCc7XHJcblx0XHRcdFx0XHR0ZXh0LnNldFBsYWNlaG9sZGVyKCdFbnRlciBwYXNzd29yZCcpXHJcblx0XHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRhYmFzZUNvbmZpZ3MubmVvNGoucGFzc3dvcmQpXHJcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRhYmFzZUNvbmZpZ3MubmVvNGoucGFzc3dvcmQgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHRcdC5zZXROYW1lKCdOZW80aiBEYXRhYmFzZSBOYW1lJyApXHJcblx0XHRcdFx0LnNldERlc2MoJ05hbWUgb2YgdGhlIE5lbzRqIGRhdGFiYXNlIHRvIHVzZScpXHJcblx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ25lbzRqJylcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRhYmFzZUNvbmZpZ3MubmVvNGouZGF0YWJhc2UpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRhdGFiYXNlQ29uZmlncy5uZW80ai5kYXRhYmFzZSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHJcblx0XHR9IGVsc2UgaWYgKGRiVHlwZSA9PT0gJ2ZhbGtvcmRiJykge1xyXG5cdFx0XHQvLyBGYWxrb3JEQi1zcGVjaWZpYyBmaWVsZHNcclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0XHQuc2V0TmFtZSgnRmFsa29yREIgSG9zdCcgKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdGYWxrb3JEQiBob3N0IGFkZHJlc3MnKVxyXG5cdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdsb2NhbGhvc3QnKVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRhdGFiYXNlQ29uZmlncy5mYWxrb3JkYi5ob3N0KVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRhYmFzZUNvbmZpZ3MuZmFsa29yZGIuaG9zdCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHJcblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdFx0LnNldE5hbWUoJ0ZhbGtvckRCIFBvcnQnIClcclxuXHRcdFx0XHQuc2V0RGVzYygnRmFsa29yREIgcG9ydCBudW1iZXInKVxyXG5cdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCc2Mzc5JylcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRhYmFzZUNvbmZpZ3MuZmFsa29yZGIucG9ydC50b1N0cmluZygpKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBwb3J0ID0gcGFyc2VJbnQodmFsdWUpO1xyXG5cdFx0XHRcdFx0XHRpZiAoIWlzTmFOKHBvcnQpICYmIHBvcnQgPiAwICYmIHBvcnQgPCA2NTUzNikge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRhdGFiYXNlQ29uZmlncy5mYWxrb3JkYi5wb3J0ID0gcG9ydDtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0XHQuc2V0TmFtZSgnRmFsa29yREIgVXNlcm5hbWUgKE9wdGlvbmFsKScgKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdGYWxrb3JEQiB1c2VybmFtZSAobGVhdmUgZW1wdHkgaWYgbm90IHVzaW5nIGF1dGhlbnRpY2F0aW9uKScpXHJcblx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ09wdGlvbmFsJylcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRhYmFzZUNvbmZpZ3MuZmFsa29yZGIudXNlcm5hbWUgfHwgJycpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRhdGFiYXNlQ29uZmlncy5mYWxrb3JkYi51c2VybmFtZSA9IHZhbHVlIHx8IHVuZGVmaW5lZDtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHRcdC5zZXROYW1lKCdGYWxrb3JEQiBQYXNzd29yZCAoT3B0aW9uYWwpJyApXHJcblx0XHRcdFx0LnNldERlc2MoJ0ZhbGtvckRCIHBhc3N3b3JkIChsZWF2ZSBlbXB0eSBpZiBub3QgdXNpbmcgYXV0aGVudGljYXRpb24pJylcclxuXHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHtcclxuXHRcdFx0XHRcdHRleHQuaW5wdXRFbC50eXBlID0gJ3Bhc3N3b3JkJztcclxuXHRcdFx0XHRcdHRleHQuc2V0UGxhY2Vob2xkZXIoJ09wdGlvbmFsJylcclxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRhdGFiYXNlQ29uZmlncy5mYWxrb3JkYi5wYXNzd29yZCB8fCAnJylcclxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRhdGFiYXNlQ29uZmlncy5mYWxrb3JkYi5wYXNzd29yZCA9IHZhbHVlIHx8IHVuZGVmaW5lZDtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHRcdC5zZXROYW1lKCdGYWxrb3JEQiBEYXRhYmFzZSBOYW1lJyApXHJcblx0XHRcdFx0LnNldERlc2MoJ05hbWUgb2YgdGhlIEZhbGtvckRCIGRhdGFiYXNlIHRvIHVzZScpXHJcblx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ2RlZmF1bHRfZGInKVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRhdGFiYXNlQ29uZmlncy5mYWxrb3JkYi5kYXRhYmFzZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZGF0YWJhc2VDb25maWdzLmZhbGtvcmRiLmRhdGFiYXNlID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhZGRQeXRob25BY2NvcmRpb24oY29udGVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuXHRcdGNvbnRlbnQuY3JlYXRlRWwoJ3AnLCB7XHJcblx0XHRcdHRleHQ6ICdDb25maWd1cmUgUHl0aG9uIGluc3RhbGxhdGlvbiBhbmQgZGVwZW5kZW5jaWVzIGZvciBNZWdhTWVtJyxcclxuXHRcdFx0Y2xzOiAnc2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uJ1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0N1c3RvbSBQeXRob24gUGF0aCcpXHJcblx0XHRcdC5zZXREZXNjKCdMZWF2ZSBlbXB0eSB0byBhdXRvLWRldGVjdCBQeXRob24uIFNwZWNpZnkgZnVsbCBwYXRoIHRvIHB5dGhvbiBleGVjdXRhYmxlIGlmIG5lZWRlZC4nKVxyXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ0F1dG8tZGV0ZWN0JylcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucHl0aG9uUGF0aCB8fCAnJylcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5weXRob25QYXRoID0gdmFsdWUgfHwgdW5kZWZpbmVkO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdGNvbnN0IHN0YXR1c0NvbnRhaW5lciA9IGNvbnRlbnQuY3JlYXRlRGl2KCk7XHJcblx0XHRzdGF0dXNDb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IGBcclxuXHRcdFx0bWFyZ2luOiAxNnB4IDA7XHJcblx0XHRcdHBhZGRpbmc6IDEycHg7XHJcblx0XHRcdGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcclxuXHRcdFx0Ym9yZGVyLXJhZGl1czogNnB4O1xyXG5cdFx0XHRiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XHJcblx0XHRcdGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LW1vbm9zcGFjZSk7XHJcblx0XHRcdGZvbnQtc2l6ZTogMC45ZW07XHJcblx0XHRgO1xyXG5cclxuXHRcdGNvbnN0IHVwZGF0ZURlcGVuZGVuY3lTdGF0dXMgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdHN0YXR1c0NvbnRhaW5lci5lbXB0eSgpO1xyXG5cdFx0XHRzdGF0dXNDb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ0NoZWNraW5nIGRlcGVuZGVuY2llcy4uLicsIGF0dHI6IHsgc3R5bGU6ICdjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7JyB9IH0pO1xyXG5cclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHQvLyBHZXQgYWJzb2x1dGUgcGx1Z2luIHBhdGggdXNpbmcgdmF1bHQgYWRhcHRlclxyXG5cdFx0XHRcdGNvbnN0IGFkYXB0ZXIgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuYWRhcHRlcjtcclxuXHRcdFx0XHRjb25zdCB2YXVsdFBhdGggPSAoYWRhcHRlciBhcyBhbnkpLmJhc2VQYXRoO1xyXG5cdFx0XHRcdGNvbnN0IHBsdWdpbkRpciA9IGpvaW4odmF1bHRQYXRoLCAnLm9ic2lkaWFuJywgJ3BsdWdpbnMnLCAnbWVnYW1lbS1tY3AnKTtcclxuXHRcdFx0XHRjb25zdCBweXRob25JbnN0YWxsZXIgPSBuZXcgUHl0aG9uSW5zdGFsbGVyKHRoaXMucGx1Z2luLCBwbHVnaW5EaXIsIHRoaXMucGx1Z2luLnNldHRpbmdzKTtcclxuXHRcdFx0XHRjb25zdCBzdGF0dXMgPSBhd2FpdCBweXRob25JbnN0YWxsZXIuY2hlY2tBbGxEZXBlbmRlbmNpZXMoKTtcclxuXHJcblx0XHRcdFx0c3RhdHVzQ29udGFpbmVyLmVtcHR5KCk7XHJcblxyXG5cdFx0XHRcdGNvbnN0IHN5c3RlbVB5dGhvbkxpbmUgPSBzdGF0dXNDb250YWluZXIuY3JlYXRlRGl2KCk7XHJcblx0XHRcdFx0c3lzdGVtUHl0aG9uTGluZS50ZXh0Q29udGVudCA9IHN0YXR1cy5zeXN0ZW1QeXRob25cclxuXHRcdFx0XHRcdD8gYFtPS10gU3lzdGVtIFB5dGhvbjogJHtzdGF0dXMuc3lzdGVtUHl0aG9uLnZlcnNpb259IGF0ICR7c3RhdHVzLnN5c3RlbVB5dGhvbi5wYXRofWBcclxuXHRcdFx0XHRcdDogJ1tYXSBTeXN0ZW0gUHl0aG9uOiBOb3QgZm91bmQnO1xyXG5cdFx0XHRcdHN5c3RlbVB5dGhvbkxpbmUuc3R5bGUuY29sb3IgPSBzdGF0dXMuc3lzdGVtUHl0aG9uID8gJ3ZhcigtLWNvbG9yLWdyZWVuKScgOiAndmFyKC0tY29sb3ItcmVkKSc7XHJcblxyXG5cdFx0XHRcdGNvbnN0IHV2TGluZSA9IHN0YXR1c0NvbnRhaW5lci5jcmVhdGVEaXYoKTtcclxuXHRcdFx0XHR1dkxpbmUudGV4dENvbnRlbnQgPSBzdGF0dXMudXZJbnN0YWxsZWRcclxuXHRcdFx0XHRcdD8gYFtPS10gdXYgaW5zdGFsbGVkOiAke3N0YXR1cy51dlB5dGhvblBhdGggfHwgJ1llcyd9YFxyXG5cdFx0XHRcdFx0OiAnW1hdIHV2OiBOb3QgaW5zdGFsbGVkJztcclxuXHRcdFx0XHR1dkxpbmUuc3R5bGUuY29sb3IgPSBzdGF0dXMudXZJbnN0YWxsZWQgPyAndmFyKC0tY29sb3ItZ3JlZW4pJyA6ICd2YXIoLS1jb2xvci1vcmFuZ2UpJztcclxuXHJcblx0XHRcdFx0Y29uc3QgdmVudkxpbmUgPSBzdGF0dXNDb250YWluZXIuY3JlYXRlRGl2KCk7XHJcblx0XHRcdFx0dmVudkxpbmUudGV4dENvbnRlbnQgPSBzdGF0dXMudmVudkV4aXN0c1xyXG5cdFx0XHRcdFx0PyBgW09LXSBWaXJ0dWFsIGVudmlyb25tZW50OiAke3N0YXR1cy52ZW52UGF0aCB8fCAnRXhpc3RzJ31gXHJcblx0XHRcdFx0XHQ6ICdbWF0gVmlydHVhbCBlbnZpcm9ubWVudDogTm90IGZvdW5kJztcclxuXHRcdFx0XHR2ZW52TGluZS5zdHlsZS5jb2xvciA9IHN0YXR1cy52ZW52RXhpc3RzID8gJ3ZhcigtLWNvbG9yLWdyZWVuKScgOiAndmFyKC0tY29sb3Itb3JhbmdlKSc7XHJcblxyXG5cdFx0XHRcdGNvbnN0IGdyYXBoaXRpTGluZSA9IHN0YXR1c0NvbnRhaW5lci5jcmVhdGVEaXYoKTtcclxuXHRcdFx0XHRjb25zdCB2ZXJzaW9uVGV4dCA9IHN0YXR1cy5ncmFwaGl0aVZlcnNpb24gPyBgIHYke3N0YXR1cy5ncmFwaGl0aVZlcnNpb259YCA6ICcnO1xyXG5cdFx0XHRcdGdyYXBoaXRpTGluZS50ZXh0Q29udGVudCA9IHN0YXR1cy5ncmFwaGl0aUluc3RhbGxlZFxyXG5cdFx0XHRcdFx0PyBgW09LXSBHcmFwaGl0aTogSW5zdGFsbGVkJHt2ZXJzaW9uVGV4dH1gXHJcblx0XHRcdFx0XHQ6ICdbWF0gR3JhcGhpdGk6IE5vdCBpbnN0YWxsZWQnO1xyXG5cdFx0XHRcdGdyYXBoaXRpTGluZS5zdHlsZS5jb2xvciA9IHN0YXR1cy5ncmFwaGl0aUluc3RhbGxlZCA/ICd2YXIoLS1jb2xvci1ncmVlbiknIDogJ3ZhcigtLWNvbG9yLXJlZCknO1xyXG5cclxuXHRcdFx0XHRpZiAoc3RhdHVzLm1pc21hdGNoLmRldGVjdGVkKSB7XHJcblx0XHRcdFx0XHRjb25zdCBtaXNtYXRjaExpbmUgPSBzdGF0dXNDb250YWluZXIuY3JlYXRlRGl2KCk7XHJcblx0XHRcdFx0XHRtaXNtYXRjaExpbmUudGV4dENvbnRlbnQgPSBgW1dBUk5JTkddICR7c3RhdHVzLm1pc21hdGNoLmRlc2NyaXB0aW9ufWA7XHJcblx0XHRcdFx0XHRtaXNtYXRjaExpbmUuc3R5bGUuY29sb3IgPSAndmFyKC0tY29sb3Itb3JhbmdlKSc7XHJcblx0XHRcdFx0XHRtaXNtYXRjaExpbmUuc3R5bGUubWFyZ2luVG9wID0gJzhweCc7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRzdGF0dXNDb250YWluZXIuZW1wdHkoKTtcclxuXHRcdFx0XHRjb25zdCBlcnJvckxpbmUgPSBzdGF0dXNDb250YWluZXIuY3JlYXRlRGl2KCk7XHJcblx0XHRcdFx0ZXJyb3JMaW5lLnRleHRDb250ZW50ID0gJ1tFUlJPUl0gRmFpbGVkIHRvIGNoZWNrIGRlcGVuZGVuY2llcyc7XHJcblx0XHRcdFx0ZXJyb3JMaW5lLnN0eWxlLmNvbG9yID0gJ3ZhcigtLWNvbG9yLXJlZCknO1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tQWVRIT04tQUNDT1JESU9OXSBGYWlsZWQgdG8gY2hlY2sgZGVwZW5kZW5jaWVzJywgeyBlcnJvciB9KTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnTWFuYWdlIERlcGVuZGVuY2llcycpXHJcblx0XHRcdC5zZXREZXNjKCdDaGVjayBzdGF0dXMgYW5kIGluc3RhbGwgUHl0aG9uIGRlcGVuZGVuY2llcycpXHJcblx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxyXG5cdFx0XHRcdC5zZXRCdXR0b25UZXh0KCdNYW5hZ2UgRGVwZW5kZW5jaWVzJylcclxuXHRcdFx0XHQuc2V0Q3RhKClcclxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBhZGFwdGVyID0gdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmFkYXB0ZXI7XHJcblx0XHRcdFx0XHRjb25zdCB2YXVsdFBhdGggPSAoYWRhcHRlciBhcyBhbnkpLmJhc2VQYXRoO1xyXG5cdFx0XHRcdFx0Y29uc3QgcGx1Z2luRGlyID0gam9pbih2YXVsdFBhdGgsICcub2JzaWRpYW4nLCAncGx1Z2lucycsICdtZWdhbWVtLW1jcCcpO1xyXG5cdFx0XHRcdFx0Y29uc3QgcHl0aG9uSW5zdGFsbGVyID0gbmV3IFB5dGhvbkluc3RhbGxlcih0aGlzLnBsdWdpbiwgcGx1Z2luRGlyLCB0aGlzLnBsdWdpbi5zZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdGNvbnN0IG1vZGFsID0gbmV3IERlcGVuZGVuY3lTdGF0dXNNb2RhbChcclxuXHRcdFx0XHRcdFx0dGhpcy5hcHAsXHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLFxyXG5cdFx0XHRcdFx0XHRweXRob25JbnN0YWxsZXIsXHJcblx0XHRcdFx0XHRcdGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB1cGRhdGVEZXBlbmRlbmN5U3RhdHVzKCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRtb2RhbC5vcGVuKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdHNldFRpbWVvdXQoKCkgPT4gdXBkYXRlRGVwZW5kZW5jeVN0YXR1cygpLCAxMDApO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhZGRTeW5jQWNjb3JkaW9uKGNvbnRlbnQ6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcblxyXG5cdFx0bGV0IGF1dG9TeW5jVG9nZ2xlOiBUb2dnbGVDb21wb25lbnQgfCBudWxsID0gbnVsbDtcclxuXHRcdGxldCBzeW5jT3B0aW9uc0NvbnRhaW5lcjogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcclxuXHJcblx0XHRjb25zdCBhdXRvU3luY1NldHRpbmcgPSBuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHRcdFx0LnNldE5hbWUoJ0F1dG9tYXRpY2FsbHkgc3luYyBub3RlcyBhdCBzY2hlZHVsZWQgaW50ZXJ2YWxzJyApXHJcblx0XHRcdFx0XHQuc2V0RGVzYygnQXV0b21hdGljYWxseSBzeW5jIG5vdGVzIHdoZW4gdGhleSBhcmUgc2F2ZWQgb3IgYXQgcmVndWxhciBpbnRlcnZhbHMuIEJlIGNhcmVmdWwgd2l0aCB0aGlzLCBpdCBpcyBub3QgZnVsbHkgdGVzdGVkLicgKVxyXG5cdFx0XHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4ge1xyXG5cdFx0XHRcdFx0XHRhdXRvU3luY1RvZ2dsZSA9IHRvZ2dsZTtcclxuXHRcdFx0XHRcdFx0dG9nZ2xlXHJcblx0XHRcdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmF1dG9TeW5jKVxyXG5cdFx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdC8vIERlYm91bmNlIHJhcGlkIHNldHRpbmdzIGNoYW5nZXMgdG8gcmVkdWNlIGxvZyBzcGFtXHJcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBzZWxmOiBhbnkgPSB0aGlzO1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKHNlbGYuX3NldHRpbmdzRGVib3VuY2VUaW1lcikge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQoc2VsZi5fc2V0dGluZ3NEZWJvdW5jZVRpbWVyKTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdHNlbGYuX3NldHRpbmdzRGVib3VuY2VUaW1lciA9IHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRzZWxmLnBsdWdpbi5zZXR0aW5ncy5hdXRvU3luYyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRhd2FpdCBzZWxmLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gU2hvdy9oaWRlIHN5bmMgb3B0aW9ucyBiYXNlZCBvbiBhdXRvIHN5bmMgc2V0dGluZ1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoc3luY09wdGlvbnNDb250YWluZXIpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzeW5jT3B0aW9uc0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gdmFsdWUgPyAnYmxvY2snIDogJ25vbmUnO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9LCAxMDAwKTtcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdC8vIFN5bmMgT3B0aW9ucyBkcm9wZG93biAtIGNvbmRpdGlvbmFsbHkgdmlzaWJsZVxyXG5cdFx0c3luY09wdGlvbnNDb250YWluZXIgPSBjb250ZW50LmNyZWF0ZURpdigpO1xyXG5cdFx0c3luY09wdGlvbnNDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmF1dG9TeW5jID8gJ2Jsb2NrJyA6ICdub25lJztcclxuXHRcdHN5bmNPcHRpb25zQ29udGFpbmVyLnN0eWxlLm1hcmdpbkxlZnQgPSAnMjRweCc7IC8vIEluZGVudCB0byBzaG93IGl0J3MgYSBzdWItb3B0aW9uXHJcblx0XHRzeW5jT3B0aW9uc0NvbnRhaW5lci5zdHlsZS5tYXJnaW5Ub3AgPSAnOHB4JztcclxuXHJcblx0XHRuZXcgU2V0dGluZyhzeW5jT3B0aW9uc0NvbnRhaW5lcilcclxuXHRcdFx0LnNldE5hbWUoJ1N5bmMgT3B0aW9ucycgKVxyXG5cdFx0XHQuc2V0RGVzYygnQ2hvb3NlIHdoaWNoIG5vdGVzIHRvIGluY2x1ZGUgaW4gYXV0b21hdGljIHN5bmMgb3BlcmF0aW9ucycpXHJcblx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ25ld19vbmx5JywgJ05ldyBub3RlcyBvbmx5IC0gU3luYyBvbmx5IG5ld2x5IGNyZWF0ZWQgbm90ZXMnKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ25ld19hbmRfdXBkYXRlZCcsICdOZXcgYW5kIHVwZGF0ZWQgbm90ZXMgLSBTeW5jIGJvdGggbmV3IGFuZCBtb2RpZmllZCBub3RlcycpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnN5bmNPcHRpb25zKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnN5bmNPcHRpb25zID0gdmFsdWUgYXMgJ25ld19vbmx5JyB8ICduZXdfYW5kX3VwZGF0ZWQnO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdTeW5jIEludGVydmFsJyApXHJcblx0XHRcdC5zZXREZXNjKCdBdXRvbWF0aWMgc3luYyBpbnRlcnZhbCBpbiBtaW51dGVzICgwIHRvIGRpc2FibGUpJyApXHJcblx0XHRcdC5hZGRTbGlkZXIoc2xpZGVyID0+IHNsaWRlclxyXG5cdFx0XHRcdC5zZXRMaW1pdHMoMCwgNjAsIDEpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnN5bmNJbnRlcnZhbClcclxuXHRcdFx0XHQuc2V0RHluYW1pY1Rvb2x0aXAoKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnN5bmNJbnRlcnZhbCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdC8vIEJhdGNoIFNpemUgY29udHJvbCBwZXJtYW5lbnRseSBoaWRkZW4gZm9yIHNjaGVkdWxlci1vbmx5IEF1dG9TeW5jXHJcblx0XHQvLyBTZXF1ZW50aWFsIHBlci1ub3RlIHByb2Nlc3NpbmcgZWxpbWluYXRlcyBuZWVkIGZvciBiYXRjaCBjb25maWd1cmF0aW9uXHJcblxyXG5cclxuXHRcdC8vIEZvbGRlciBDb25maWd1cmF0aW9uIHN1YnNlY3Rpb25cclxuXHRcdGNvbnRlbnQuY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnRm9sZGVyIENvbmZpZ3VyYXRpb24nLCBjbHM6ICdzZXR0aW5nLWl0ZW0tbmFtZScgfSk7XHJcblxyXG5cdFx0Ly8gSW5jbHVkZWQgRm9sZGVycyAtIHNpbXBsZSBUZW1wbGF0ZXIgcGF0dGVyblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0luY2x1ZGVkIEZvbGRlcnMnIClcclxuXHRcdFx0LnNldERlc2MoJ0ZvbGRlcnMgdG8gaW5jbHVkZSBpbiBzeW5jLiBMZWF2ZSBlbXB0eSB0byBpbmNsdWRlIGFsbCBmb2xkZXJzLicpO1xyXG5cclxuXHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmluY2x1ZGVkRm9sZGVycy5mb3JFYWNoKChmb2xkZXIsIGluZGV4KSA9PiB7XHJcblx0XHRcdGNvbnN0IHMgPSBuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHRcdC5hZGRTZWFyY2goKGNiKSA9PiB7XHJcblx0XHRcdFx0XHRuZXcgRm9sZGVyU3VnZ2VzdCh0aGlzLmFwcCwgY2IuaW5wdXRFbCk7XHJcblx0XHRcdFx0XHQvLyBQcmV2ZW50IGNsaWNrcyBpbnNpZGUgdGhlIHNlYXJjaCBpbnB1dCBmcm9tIGNvbGxhcHNpbmcgdGhlIGFjY29yZGlvblxyXG5cdFx0XHRcdFx0Y2IuaW5wdXRFbC5vbm1vdXNlZG93biA9IChldnQ6IE1vdXNlRXZlbnQpID0+IGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRcdGNiLnNldFBsYWNlaG9sZGVyKFwiU2VsZWN0IGZvbGRlciBvciB0eXBlIHBhdGguLi5cIilcclxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKGZvbGRlcilcclxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jIChuZXdGb2xkZXIpID0+IHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbmNsdWRlZEZvbGRlcnNbaW5kZXhdID0gbmV3Rm9sZGVyO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdC5hZGRFeHRyYUJ1dHRvbigoY2IpID0+IHtcclxuXHRcdFx0XHRcdGNiLnNldEljb24oXCJjcm9zc1wiKVxyXG5cdFx0XHRcdFx0XHQuc2V0VG9vbHRpcChcIkRlbGV0ZVwiKVxyXG5cdFx0XHRcdFx0XHQub25DbGljayhhc3luYyAoZXZ0PzogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChldnQpIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbmNsdWRlZEZvbGRlcnMuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdC8vIEFsc28gcHJldmVudCBpbmZvIGFyZWEgY2xpY2tzIGZyb20gYnViYmxpbmdcclxuXHRcdFx0cy5pbmZvRWwucmVtb3ZlKCk7XHJcblx0XHRcdHMuY29udHJvbEVsLm9ubW91c2Vkb3duID0gKGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuYWRkQnV0dG9uKChjYikgPT4ge1xyXG5cdFx0XHRcdGNiLnNldEJ1dHRvblRleHQoXCJBZGQgRm9sZGVyXCIpXHJcblx0XHRcdFx0XHQuc2V0Q3RhKClcclxuXHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jIChldnQ/OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmIChldnQpIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5jbHVkZWRGb2xkZXJzLnB1c2goXCJcIik7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdC8vIFByZXZlbnQgdGhlIGludGVybmFsIGJ1dHRvbiBlbGVtZW50IGZyb20gYnViYmxpbmdcclxuXHRcdFx0XHRjYi5idXR0b25FbC5vbm1vdXNlZG93biA9IChlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHQvLyBFeGNsdWRlZCBGb2xkZXJzIC0gc2ltcGxlIFRlbXBsYXRlciBwYXR0ZXJuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnRXhjbHVkZWQgRm9sZGVycycgKVxyXG5cdFx0XHQuc2V0RGVzYygnRm9sZGVycyB0byBleGNsdWRlIGZyb20gc3luYyAoZS5nLiwgLm9ic2lkaWFuLCAudHJhc2gpLicpO1xyXG5cclxuXHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmV4Y2x1ZGVkRm9sZGVycy5mb3JFYWNoKChmb2xkZXIsIGluZGV4KSA9PiB7XHJcblx0XHRcdGNvbnN0IHMgPSBuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHRcdC5hZGRTZWFyY2goKGNiKSA9PiB7XHJcblx0XHRcdFx0XHRuZXcgRm9sZGVyU3VnZ2VzdCh0aGlzLmFwcCwgY2IuaW5wdXRFbCk7XHJcblx0XHRcdFx0XHQvLyBQcmV2ZW50IGNsaWNrcyBpbnNpZGUgdGhlIHNlYXJjaCBpbnB1dCBmcm9tIGNvbGxhcHNpbmcgdGhlIGFjY29yZGlvblxyXG5cdFx0XHRcdFx0Y2IuaW5wdXRFbC5vbm1vdXNlZG93biA9IChldnQ6IE1vdXNlRXZlbnQpID0+IGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRcdGNiLnNldFBsYWNlaG9sZGVyKFwiU2VsZWN0IGZvbGRlciBvciB0eXBlIHBhdGguLi5cIilcclxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKGZvbGRlcilcclxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jIChuZXdGb2xkZXIpID0+IHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5leGNsdWRlZEZvbGRlcnNbaW5kZXhdID0gbmV3Rm9sZGVyO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdC5hZGRFeHRyYUJ1dHRvbigoY2IpID0+IHtcclxuXHRcdFx0XHRcdGNiLnNldEljb24oXCJjcm9zc1wiKVxyXG5cdFx0XHRcdFx0XHQuc2V0VG9vbHRpcChcIkRlbGV0ZVwiKVxyXG5cdFx0XHRcdFx0XHQub25DbGljayhhc3luYyAoZXZ0PzogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChldnQpIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5leGNsdWRlZEZvbGRlcnMuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdHMuaW5mb0VsLnJlbW92ZSgpO1xyXG5cdFx0XHRzLmNvbnRyb2xFbC5vbm1vdXNlZG93biA9IChlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LmFkZEJ1dHRvbigoY2IpID0+IHtcclxuXHRcdFx0XHRjYi5zZXRCdXR0b25UZXh0KFwiQWRkIEZvbGRlclwiKVxyXG5cdFx0XHRcdFx0LnNldEN0YSgpXHJcblx0XHRcdFx0XHQub25DbGljayhhc3luYyAoZXZ0PzogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoZXZ0KSBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmV4Y2x1ZGVkRm9sZGVycy5wdXNoKFwiXCIpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRjYi5idXR0b25FbC5vbm1vdXNlZG93biA9IChlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHQvLyBHbG9iYWxseSBJZ25vcmVkIEZpZWxkcyAtIHNpbXBsZSBUZW1wbGF0ZXIgcGF0dGVyblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0dsb2JhbGx5IElnbm9yZWQgRmllbGRzJyApXHJcblx0XHRcdC5zZXREZXNjKCdZQU1MIGZyb250bWF0dGVyIGZpZWxkcyB0byBpZ25vcmUgZ2xvYmFsbHkgYWNyb3NzIGFsbCBub3Rlcy4nKTtcclxuXHJcblx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5nbG9iYWxseUlnbm9yZWRGaWVsZHMuZm9yRWFjaCgoZmllbGQsIGluZGV4KSA9PiB7XHJcblx0XHRcdGNvbnN0IHMgPSBuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHRcdC5hZGRUZXh0KChjYikgPT4ge1xyXG5cdFx0XHRcdFx0Ly8gUHJldmVudCBjbGlja3Mgd2l0aGluIHRoZSB0ZXh0IGlucHV0IGZyb20gY29sbGFwc2luZyB0aGUgYWNjb3JkaW9uXHJcblx0XHRcdFx0XHRjYi5pbnB1dEVsLm9ubW91c2Vkb3duID0gKGV2dDogTW91c2VFdmVudCkgPT4gZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdFx0Y2Iuc2V0UGxhY2Vob2xkZXIoXCJFbnRlciBmaWVsZCBuYW1lIChlLmcuLCBjc3NjbGFzcywgdGFncykuLi5cIilcclxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKGZpZWxkKVxyXG5cdFx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKG5ld0ZpZWxkKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2xvYmFsbHlJZ25vcmVkRmllbGRzW2luZGV4XSA9IG5ld0ZpZWxkO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdC5hZGRFeHRyYUJ1dHRvbigoY2IpID0+IHtcclxuXHRcdFx0XHRcdGNiLnNldEljb24oXCJjcm9zc1wiKVxyXG5cdFx0XHRcdFx0XHQuc2V0VG9vbHRpcChcIkRlbGV0ZVwiKVxyXG5cdFx0XHRcdFx0XHQub25DbGljayhhc3luYyAoZXZ0PzogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChldnQpIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5nbG9iYWxseUlnbm9yZWRGaWVsZHMuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdHMuaW5mb0VsLnJlbW92ZSgpO1xyXG5cdFx0XHRzLmNvbnRyb2xFbC5vbm1vdXNlZG93biA9IChlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LmFkZEJ1dHRvbigoY2IpID0+IHtcclxuXHRcdFx0XHRjYi5zZXRCdXR0b25UZXh0KFwiQWRkIEZpZWxkXCIpXHJcblx0XHRcdFx0XHQuc2V0Q3RhKClcclxuXHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jIChldnQ/OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmIChldnQpIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2xvYmFsbHlJZ25vcmVkRmllbGRzLnB1c2goXCJcIik7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGNiLmJ1dHRvbkVsLm9ubW91c2Vkb3duID0gKGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdH0pO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhZGRLbm93bGVkZ2VOYW1lc3BhY2luZ0FjY29yZGlvbihjb250ZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG5cclxuXHRcdC8vIERlc2NyaXB0aW9uXHJcblx0XHRjb250ZW50LmNyZWF0ZUVsKCdwJywge1xyXG5cdFx0XHR0ZXh0OiAnQ29uZmlndXJlIGhvdyBrbm93bGVkZ2UgaXMgb3JnYW5pemVkIGFuZCBuYW1lc3BhY2VkIGluIHlvdXIgZ3JhcGggZGF0YWJhc2UuJyxcclxuXHRcdFx0Y2xzOiAnc2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uJ1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gT250b2xvZ3kgQ29uZmlndXJhdGlvbiBzdWJzZWN0aW9uXHJcblx0XHRjb250ZW50LmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ09udG9sb2d5IENvbmZpZ3VyYXRpb24nLCBjbHM6ICdzZXR0aW5nLWl0ZW0tbmFtZScgfSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ1VzZSBDdXN0b20gT250b2xvZ3knIClcclxuXHRcdFx0LnNldERlc2MoJ0VuYWJsZSBjdXN0b20gZW50aXR5IHR5cGVzIHdpdGggcHJlLWV4aXN0aW5nIFB5ZGFudGljIG1vZGVscy4gV2hlbiBkaXNhYmxlZCwgdXNlcyBnZW5lcmljIHRleHQgZXBpc29kZXMuJylcclxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZUN1c3RvbU9udG9sb2d5KVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZUN1c3RvbU9udG9sb2d5ID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0Ly8gTmFtZXNwYWNpbmcgU3RyYXRlZ3kgc3Vic2VjdGlvblxyXG5cdFx0Y29udGVudC5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdOYW1lc3BhY2luZyBTdHJhdGVneScsIGNsczogJ3NldHRpbmctaXRlbS1uYW1lJyB9KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnTmFtZXNwYWNlIFN0cmF0ZWd5JyApXHJcblx0XHRcdC5zZXREZXNjKCdQcmltYXJ5IHN0cmF0ZWd5IGZvciBvcmdhbml6aW5nIGtub3dsZWRnZSBpbiB0aGUgZ3JhcGgnKVxyXG5cdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4gZHJvcGRvd25cclxuXHRcdFx0XHQuYWRkT3B0aW9uKCd2YXVsdCcsICdWYXVsdCBOYW1lIC0gVXNlIHZhdWx0IGFzIG5hbWVzcGFjZScpXHJcblx0XHRcdFx0LmFkZE9wdGlvbignZm9sZGVyJywgJ0ZvbGRlciBQYXRoIC0gVXNlIG5vdGUgZm9sZGVyIGFzIG5hbWVzcGFjZScpXHJcblx0XHRcdFx0LmFkZE9wdGlvbigncHJvcGVydHknLCAnUHJvcGVydHkgVmFsdWUgLSBVc2UgZ19ncm91cF9pZCBwcm9wZXJ0eScpXHJcblx0XHRcdFx0LmFkZE9wdGlvbignY3VzdG9tJywgJ0N1c3RvbSBWYWx1ZSAtIFVzZSBkZWZhdWx0IG5hbWVzcGFjZSBzZXR0aW5nJylcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubmFtZXNwYWNlU3RyYXRlZ3kpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdCAgICBjb25zdCBzdHJhdGVneSA9IHZhbHVlIGFzICd2YXVsdCcgfCAnZm9sZGVyJyB8ICdwcm9wZXJ0eScgfCAnY3VzdG9tJztcclxuXHRcdFx0XHQgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MubmFtZXNwYWNlU3RyYXRlZ3kgPSBzdHJhdGVneTtcclxuXHJcblx0XHRcdFx0ICAgIC8vIFVwZGF0ZSBvdGhlciBVSSBjb250cm9scyBiYXNlZCBvbiBzdHJhdGVneVxyXG5cdFx0XHRcdCAgICBpZiAoc3RyYXRlZ3kgPT09ICd2YXVsdCcpIHtcclxuXHRcdFx0XHQgICAgICAgIC8vIFNldCBkZWZhdWx0IG5hbWVzcGFjZSB0byB2YXVsdCBuYW1lXHJcblx0XHRcdFx0ICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWZhdWx0TmFtZXNwYWNlID0gdGhpcy5hcHAudmF1bHQuZ2V0TmFtZSgpO1xyXG5cdFx0XHRcdCAgICAgICAgaWYgKHRoaXMuZGVmYXVsdE5hbWVzcGFjZUlucHV0KSB7XHJcblx0XHRcdFx0ICAgICAgICAgICAgdGhpcy5kZWZhdWx0TmFtZXNwYWNlSW5wdXQuc2V0VmFsdWUodGhpcy5hcHAudmF1bHQuZ2V0TmFtZSgpKTtcclxuXHRcdFx0XHQgICAgICAgIH1cclxuXHRcdFx0XHQgICAgfSBlbHNlIGlmIChzdHJhdGVneSA9PT0gJ2ZvbGRlcicpIHtcclxuXHRcdFx0XHQgICAgICAgIC8vIEVuYWJsZSBmb2xkZXIgbmFtZXNwYWNpbmdcclxuXHRcdFx0XHQgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZUZvbGRlck5hbWVzcGFjaW5nID0gdHJ1ZTtcclxuXHRcdFx0XHQgICAgICAgIGlmICh0aGlzLmZvbGRlclRvZ2dsZSkge1xyXG5cdFx0XHRcdCAgICAgICAgICAgIHRoaXMuZm9sZGVyVG9nZ2xlLnNldFZhbHVlKHRydWUpO1xyXG5cdFx0XHRcdCAgICAgICAgfVxyXG5cdFx0XHRcdCAgICB9IGVsc2UgaWYgKHN0cmF0ZWd5ID09PSAncHJvcGVydHknKSB7XHJcblx0XHRcdFx0ICAgICAgICAvLyBFbmFibGUgcHJvcGVydHkgbmFtZXNwYWNpbmdcclxuXHRcdFx0XHQgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZVByb3BlcnR5TmFtZXNwYWNpbmcgPSB0cnVlO1xyXG5cdFx0XHRcdCAgICAgICAgaWYgKHRoaXMucHJvcGVydHlUb2dnbGUpIHtcclxuXHRcdFx0XHQgICAgICAgICAgICB0aGlzLnByb3BlcnR5VG9nZ2xlLnNldFZhbHVlKHRydWUpO1xyXG5cdFx0XHRcdCAgICAgICAgfVxyXG5cdFx0XHRcdCAgICB9XHJcblx0XHRcdFx0ICAgIC8vIEZvciAnY3VzdG9tJywgZG9uJ3QgY2hhbmdlIGFueSBvdGhlciBjb250cm9sc1xyXG5cclxuXHRcdFx0XHQgICAgLy8gQWZ0ZXIgdXBkYXRpbmcsIHNhdmUgdGhlIHNldHRpbmdzXHJcblx0XHRcdFx0ICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnRGVmYXVsdCBOYW1lc3BhY2UnIClcclxuXHRcdFx0LnNldERlc2MoJ0RlZmF1bHQgbmFtZXNwYWNlIHdoZW4gc3RyYXRlZ3kgaXMgXCJjdXN0b21cIiBvciB3aGVuIG90aGVyIHN0cmF0ZWdpZXMgZmFpbCcpXHJcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4ge1xyXG5cdFx0XHRcdHRoaXMuZGVmYXVsdE5hbWVzcGFjZUlucHV0ID0gdGV4dDtcclxuXHRcdFx0XHR0ZXh0LnNldFBsYWNlaG9sZGVyKCdteS12YXVsdCcpXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdE5hbWVzcGFjZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZSh2YWx1ZSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMuZW5zdXJlU2hhcmVkRGVib3VuY2VJbml0aWFsaXplZCgpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLl9zaGFyZWRUZXh0RGVib3VuY2U/LihKU09OLnN0cmluZ2lmeSh7IGtleTogJ2RlZmF1bHROYW1lc3BhY2UnLCB2YWx1ZSB9KSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0bGV0IGZvbGRlck1hcHBpbmdDb250YWluZXI6IEhUTUxFbGVtZW50O1xyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0VuYWJsZSBGb2xkZXIgTmFtZXNwYWNpbmcnIClcclxuXHRcdFx0LnNldERlc2MoJ1VzZSB0b3AtbGV2ZWwgZm9sZGVyIG5hbWVzIGFzIG5hbWVzcGFjZXMuIFN1YmZvbGRlcnMgYXJlIG5vdCBzdXBwb3J0ZWQuJylcclxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4ge1xyXG5cdFx0XHRcdHRoaXMuZm9sZGVyVG9nZ2xlID0gdG9nZ2xlO1xyXG5cdFx0XHRcdHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVGb2xkZXJOYW1lc3BhY2luZylcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlRm9sZGVyTmFtZXNwYWNpbmcgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdC8vIFNob3cvaGlkZSBmb2xkZXIgbWFwcGluZyBjb25maWd1cmF0aW9uIGJhc2VkIG9uIHRvZ2dsZVxyXG5cdFx0XHRcdFx0XHRpZiAoZm9sZGVyTWFwcGluZ0NvbnRhaW5lcikge1xyXG5cdFx0XHRcdFx0XHRcdGZvbGRlck1hcHBpbmdDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IHZhbHVlID8gJ2Jsb2NrJyA6ICdub25lJztcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdC8vIEBwdXJwb3NlOiBDdXN0b20gZm9sZGVyIG5hbWVzcGFjZSBtYXBwaW5nIGNvbmZpZ3VyYXRpb24gQGRlcGVuZHM6IGVuYWJsZUZvbGRlck5hbWVzcGFjaW5nIHRvZ2dsZSBAcmVzdWx0czogRHluYW1pYyBmb2xkZXIgbWFwcGluZyBVSVxyXG5cdFx0Zm9sZGVyTWFwcGluZ0NvbnRhaW5lciA9IGNvbnRlbnQuY3JlYXRlRGl2KCk7XHJcblx0XHRmb2xkZXJNYXBwaW5nQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVGb2xkZXJOYW1lc3BhY2luZyA/ICdibG9jaycgOiAnbm9uZSc7XHJcblx0XHRmb2xkZXJNYXBwaW5nQ29udGFpbmVyLnN0eWxlLm1hcmdpbkxlZnQgPSAnMjRweCc7IC8vIEluZGVudCB0byBzaG93IGl0J3MgYSBzdWItb3B0aW9uXHJcblx0XHRmb2xkZXJNYXBwaW5nQ29udGFpbmVyLnN0eWxlLm1hcmdpblRvcCA9ICc4cHgnO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGZvbGRlck1hcHBpbmdDb250YWluZXIpXHJcblx0XHRcdC5zZXROYW1lKCdDdXN0b20gRm9sZGVyIE1hcHBpbmdzJyApXHJcblx0XHRcdC5zZXREZXNjKCdNYXAgc3BlY2lmaWMgZm9sZGVycyB0byBjdXN0b20gZ3JvdXBfaWQgbmFtZXNwYWNlcy4gTGVhdmUgZW1wdHkgdG8gdXNlIGF1dG9tYXRpYyBmb2xkZXIgbmFtZXMuJyk7XHJcblxyXG5cdFx0Ly8gRGlzcGxheSBleGlzdGluZyBmb2xkZXIgbWFwcGluZ3MgdXNpbmcgdGhlIGV4YWN0IHBhdHRlcm4gZnJvbSBleGNsdWRlZEZvbGRlcnMgYXQgbGluZXMgOTI0LTk0OVxyXG5cdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9sZGVyTmFtZXNwYWNlTWFwcGluZ3MuZm9yRWFjaCgobWFwcGluZywgaW5kZXgpID0+IHtcclxuXHRcdFx0Y29uc3QgcyA9IG5ldyBTZXR0aW5nKGZvbGRlck1hcHBpbmdDb250YWluZXIpXHJcblx0XHRcdFx0LmFkZFNlYXJjaCgoY2IpID0+IHtcclxuXHRcdFx0XHRcdG5ldyBGb2xkZXJTdWdnZXN0KHRoaXMuYXBwLCBjYi5pbnB1dEVsKTtcclxuXHRcdFx0XHRcdGNiLmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2dDogTW91c2VFdmVudCkgPT4gZXZ0LnN0b3BQcm9wYWdhdGlvbigpKTtcclxuXHRcdFx0XHRcdGNiLnNldFBsYWNlaG9sZGVyKFwiU2VsZWN0IGZvbGRlciBvciB0eXBlIHBhdGguLi5cIilcclxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKG1hcHBpbmcuZm9sZGVyUGF0aClcclxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jIChuZXdGb2xkZXJQYXRoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9sZGVyTmFtZXNwYWNlTWFwcGluZ3NbaW5kZXhdLmZvbGRlclBhdGggPSBuZXdGb2xkZXJQYXRoO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHQvLyBBdXRvLXBvcHVsYXRlIGdyb3VwX2lkIG9ubHkgd2hlbiB1c2VyIGZpbmlzaGVzIHR5cGluZyAob24gYmx1cilcclxuXHRcdFx0XHRcdGNiLmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgY3VycmVudEZvbGRlclBhdGggPSBjYi5nZXRWYWx1ZSgpO1xyXG5cdFx0XHRcdFx0XHQvLyBPbmx5IGF1dG8tcG9wdWxhdGUgaWYgZ3JvdXBfaWQgaXMgZW1wdHkgYW5kIHdlIGhhdmUgYSBmb2xkZXIgcGF0aFxyXG5cdFx0XHRcdFx0XHRpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLmZvbGRlck5hbWVzcGFjZU1hcHBpbmdzW2luZGV4XS5ncm91cElkICYmIGN1cnJlbnRGb2xkZXJQYXRoLnRyaW0oKSkge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmZvbGRlck5hbWVzcGFjZU1hcHBpbmdzW2luZGV4XS5ncm91cElkID0gY3VycmVudEZvbGRlclBhdGgucmVwbGFjZSgvXFwvL2csICdfJyk7XHJcblx0XHRcdFx0XHRcdFx0Ly8gVXBkYXRlIHRoZSBncm91cF9pZCBmaWVsZCBkaXJlY3RseVxyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGdyb3VwSWRJbnB1dCA9IHMuY29udHJvbEVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3BsYWNlaG9sZGVyPVwiRW50ZXIgZ3JvdXBfaWQuLi5cIl0nKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG5cdFx0XHRcdFx0XHRcdGlmIChncm91cElkSW5wdXQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGdyb3VwSWRJbnB1dC52YWx1ZSA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmZvbGRlck5hbWVzcGFjZU1hcHBpbmdzW2luZGV4XS5ncm91cElkO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQuYWRkVGV4dCgoY2IpID0+IHtcclxuXHRcdFx0XHRcdGNiLmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2dDogTW91c2VFdmVudCkgPT4gZXZ0LnN0b3BQcm9wYWdhdGlvbigpKTtcclxuXHRcdFx0XHRcdGNiLmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZXZ0OiBFdmVudCkgPT4gZXZ0LnN0b3BQcm9wYWdhdGlvbigpKTtcclxuXHRcdFx0XHRcdGNiLmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldnQ6IEtleWJvYXJkRXZlbnQpID0+IGV2dC5zdG9wUHJvcGFnYXRpb24oKSk7XHJcblx0XHRcdFx0XHRjYi5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGV2dDogS2V5Ym9hcmRFdmVudCkgPT4gZXZ0LnN0b3BQcm9wYWdhdGlvbigpKTtcclxuXHRcdFx0XHRcdGNiLmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoZXZ0OiBGb2N1c0V2ZW50KSA9PiBldnQuc3RvcFByb3BhZ2F0aW9uKCkpO1xyXG5cdFx0XHRcdFx0Y2Iuc2V0UGxhY2Vob2xkZXIoXCJFbnRlciBncm91cF9pZC4uLlwiKVxyXG5cdFx0XHRcdFx0XHQuc2V0VmFsdWUobWFwcGluZy5ncm91cElkKVxyXG5cdFx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKG5ld0dyb3VwSWQpID0+IHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb2xkZXJOYW1lc3BhY2VNYXBwaW5nc1tpbmRleF0uZ3JvdXBJZCA9IG5ld0dyb3VwSWQ7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0LmFkZEV4dHJhQnV0dG9uKChjYikgPT4ge1xyXG5cdFx0XHRcdFx0Y2Iuc2V0SWNvbihcImNyb3NzXCIpXHJcblx0XHRcdFx0XHRcdC5zZXRUb29sdGlwKFwiRGVsZXRlXCIpXHJcblx0XHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jIChldnQ/OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGV2dCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0ZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmZvbGRlck5hbWVzcGFjZU1hcHBpbmdzLnNwbGljZShpbmRleCwgMSk7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0Y2IuZXh0cmFTZXR0aW5nc0VsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChldnQ6IE1vdXNlRXZlbnQpID0+IGV2dC5zdG9wUHJvcGFnYXRpb24oKSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdHMuaW5mb0VsLnJlbW92ZSgpO1xyXG5cdFx0XHRzLmNvbnRyb2xFbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhmb2xkZXJNYXBwaW5nQ29udGFpbmVyKVxyXG5cdFx0XHQuYWRkQnV0dG9uKChjYikgPT4ge1xyXG5cdFx0XHRcdGNiLnNldEJ1dHRvblRleHQoXCJBZGQgRm9sZGVyIE1hcHBpbmdcIilcclxuXHRcdFx0XHRcdC5zZXRDdGEoKVxyXG5cdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKGV2dD86IE1vdXNlRXZlbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKGV2dCkgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb2xkZXJOYW1lc3BhY2VNYXBwaW5ncy5wdXNoKHtcclxuXHRcdFx0XHRcdFx0XHRmb2xkZXJQYXRoOiBcIlwiLFxyXG5cdFx0XHRcdFx0XHRcdGdyb3VwSWQ6IFwiXCJcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGNiLmJ1dHRvbkVsLm9ubW91c2Vkb3duID0gKGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdFbmFibGUgUHJvcGVydHkgTmFtZXNwYWNpbmcnIClcclxuXHRcdFx0LnNldERlc2MoJ1VzZSBnX2dyb3VwX2lkIGZyb250bWF0dGVyIHByb3BlcnR5IGFzIG5hbWVzcGFjZSB3aGVuIGF2YWlsYWJsZScpXHJcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHtcclxuXHRcdFx0XHR0aGlzLnByb3BlcnR5VG9nZ2xlID0gdG9nZ2xlO1xyXG5cdFx0XHRcdHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVQcm9wZXJ0eU5hbWVzcGFjaW5nKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVQcm9wZXJ0eU5hbWVzcGFjaW5nID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdC8vIE1hbnVhbCBuYW1lc3BhY2UgZGlzY292ZXJ5IHNlY3Rpb25cclxuXHRcdGNvbnN0IGF2YWlsYWJsZU5hbWVzcGFjZXNTZXR0aW5nID0gbmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0Rpc2NvdmVyIE5hbWVzcGFjZXMnIClcclxuXHRcdFx0LnNldERlc2MoJ0NsaWNrIHRvIHNjYW4gdGhlIHZhdWx0IGFuZCBnZW5lcmF0ZSB0aGUgbGlzdCBvZiBhdmFpbGFibGUgbmFtZXNwYWNlcyBiYXNlZCBvbiB0aGUgc2V0dGluZ3MgYWJvdmUuJyk7XHJcblxyXG5cdFx0Ly8gQWRkIGN1cnJlbnQgbmFtZXNwYWNlcyBkaXNwbGF5XHJcblx0XHRjb25zdCBuYW1lc3BhY2VzRGlzcGxheSA9IGF2YWlsYWJsZU5hbWVzcGFjZXNTZXR0aW5nLmRlc2NFbC5jcmVhdGVEaXYoKTtcclxuXHRcdG5hbWVzcGFjZXNEaXNwbGF5LnN0eWxlLm1hcmdpblRvcCA9ICc4cHgnO1xyXG5cdFx0bmFtZXNwYWNlc0Rpc3BsYXkuc3R5bGUuZm9udFNpemUgPSAnMC45ZW0nO1xyXG5cdFx0bmFtZXNwYWNlc0Rpc3BsYXkuc3R5bGUuY29sb3IgPSAndmFyKC0tdGV4dC1tdXRlZCknO1xyXG5cclxuXHRcdGNvbnN0IHVwZGF0ZU5hbWVzcGFjZXNEaXNwbGF5ID0gKCkgPT4ge1xyXG5cdFx0XHRjb25zdCBuYW1lc3BhY2VzID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MuYXZhaWxhYmxlTmFtZXNwYWNlcyB8fCBbXTtcclxuXHRcdFx0aWYgKG5hbWVzcGFjZXMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdG5hbWVzcGFjZXNEaXNwbGF5LnRleHRDb250ZW50ID0gYEN1cnJlbnQgbmFtZXNwYWNlczogJHtuYW1lc3BhY2VzLmpvaW4oJywgJyl9YDtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRuYW1lc3BhY2VzRGlzcGxheS50ZXh0Q29udGVudCA9ICdObyBuYW1lc3BhY2VzIGRpc2NvdmVyZWQgeWV0LiBDbGljayBcIkdlbmVyYXRlXCIgdG8gc2NhbiB0aGUgdmF1bHQuJztcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQvLyBJbml0aWFsIGRpc3BsYXlcclxuXHRcdHVwZGF0ZU5hbWVzcGFjZXNEaXNwbGF5KCk7XHJcblxyXG5cdFx0Ly8gQWRkIEdlbmVyYXRlIGJ1dHRvblxyXG5cdFx0YXZhaWxhYmxlTmFtZXNwYWNlc1NldHRpbmcuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cclxuXHRcdFx0LnNldEJ1dHRvblRleHQoJ0dlbmVyYXRlJylcclxuXHRcdFx0LnNldEN0YSgpXHJcblx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRjb25zdCBvcmlnaW5hbFRleHQgPSBidXR0b24uYnV0dG9uRWwudGV4dENvbnRlbnQ7XHJcblx0XHRcdFx0YnV0dG9uLmJ1dHRvbkVsLnRleHRDb250ZW50ID0gJ0dlbmVyYXRpbmcuLi4nO1xyXG5cdFx0XHRcdGJ1dHRvbi5zZXREaXNhYmxlZCh0cnVlKTtcclxuXHJcblx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnVwZGF0ZUF2YWlsYWJsZU5hbWVzcGFjZXMoKTtcclxuXHRcdFx0XHRcdHVwZGF0ZU5hbWVzcGFjZXNEaXNwbGF5KCk7XHJcblx0XHRcdFx0XHRuZXcgTm90aWNlKCdbU1VDQ0VTU10gTmFtZXNwYWNlcyB1cGRhdGVkIHN1Y2Nlc3NmdWxseScpO1xyXG5cdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0XHRjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcclxuXHRcdFx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gRmFpbGVkIHRvIHVwZGF0ZSBuYW1lc3BhY2VzOiAke2Vycm9yTWVzc2FnZX1gKTtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ0ZhaWxlZCB0byB1cGRhdGUgbmFtZXNwYWNlcycsIHsgZXJyb3IgfSk7XHJcblx0XHRcdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0XHRcdGJ1dHRvbi5idXR0b25FbC50ZXh0Q29udGVudCA9IG9yaWdpbmFsVGV4dDtcclxuXHRcdFx0XHRcdGJ1dHRvbi5zZXREaXNhYmxlZChmYWxzZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KSk7XHJcblxyXG5cdFx0Ly8gTXVsdGktVmF1bHQgQ29uZmlndXJhdGlvbiBzdWJzZWN0aW9uXHJcblx0XHRjb250ZW50LmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ011bHRpLVZhdWx0IENvbmZpZ3VyYXRpb24nLCBjbHM6ICdzZXR0aW5nLWl0ZW0tbmFtZScgfSk7XHJcblx0XHRjb250ZW50LmNyZWF0ZUVsKCdwJywge1xyXG5cdFx0XHR0ZXh0OiAnQmUgY2FyZWZ1bCB3aXRoIHRoaXMsIGl0IGlzIG5vdCBmdWxseSB0ZXN0ZWQuJyxcclxuXHRcdFx0Y2xzOiAnc2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uJyxcclxuXHRcdFx0YXR0cjogeyBzdHlsZTogJ2NvbG9yOiB2YXIoLS10ZXh0LXdhcm5pbmcpOyBmb250LXdlaWdodDogNTAwOyBtYXJnaW4tYm90dG9tOiAxNnB4OycgfVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0VuYWJsZSBNdWx0aS1WYXVsdCBNb2RlJyApXHJcblx0XHRcdC5zZXREZXNjKCdFbmFibGUgYWR2YW5jZWQgZmVhdHVyZXMgZm9yIG1hbmFnaW5nIG11bHRpcGxlIE9ic2lkaWFuIHZhdWx0cycgKVxyXG5cdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlTXVsdGlWYXVsdE1vZGUpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlTXVsdGlWYXVsdE1vZGUgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnQ3VycmVudCBWYXVsdCBQcmlvcml0eScgKVxyXG5cdFx0XHQuc2V0RGVzYygnUHJpb3JpdHkgbGV2ZWwgZm9yIHRoaXMgdmF1bHQgaW4gbXVsdGktdmF1bHQgc2NlbmFyaW9zIChoaWdoZXIgbnVtYmVycyA9IGhpZ2hlciBwcmlvcml0eSknKVxyXG5cdFx0XHQuYWRkU2xpZGVyKHNsaWRlciA9PiBzbGlkZXJcclxuXHRcdFx0XHQuc2V0TGltaXRzKDEsIDEwLCAxKVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdXJyZW50VmF1bHRQcmlvcml0eSlcclxuXHRcdFx0XHQuc2V0RHluYW1pY1Rvb2x0aXAoKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmN1cnJlbnRWYXVsdFByaW9yaXR5ID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0Ly8gRGlzcGxheSBjdXJyZW50IHZhdWx0IGNvbmZpZ3VyYXRpb24gc3RhdHVzXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnVmF1bHQgQ29uZmlndXJhdGlvbnMnIClcclxuXHRcdFx0LnNldERlc2MoYEN1cnJlbnRseSB0cmFja2luZyAke3RoaXMucGx1Z2luLnNldHRpbmdzLnZhdWx0Q29uZmlndXJhdGlvbnMubGVuZ3RofSB2YXVsdChzKS4gQWR2YW5jZWQgdmF1bHQgbWFuYWdlbWVudCBmZWF0dXJlcyBjb21pbmcgc29vbi5gKVxyXG5cdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cclxuXHRcdFx0XHQuc2V0QnV0dG9uVGV4dCgnTWFuYWdlIFZhdWx0cycpXHJcblx0XHRcdFx0LnNldERpc2FibGVkKHRydWUpXHJcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0Ly8gUGxhY2Vob2xkZXIgZm9yIGZ1dHVyZSB2YXVsdCBtYW5hZ2VtZW50IFVJXHJcblx0XHRcdFx0XHRuZXcgTm90aWNlKCdNdWx0aS12YXVsdCBtYW5hZ2VtZW50IGZlYXR1cmVzIGFyZSBwbGFubmVkIGZvciBhIGZ1dHVyZSByZWxlYXNlJyk7XHJcblx0XHRcdFx0fSkpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhZGRTZXJ2ZXJzQWNjb3JkaW9uKGNvbnRlbnQ6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcblxyXG5cdFx0Ly8gVXBkYXRlZCBhcmNoaXRlY3R1cmUgZGVzY3JpcHRpb25cclxuXHRcdGNvbnRlbnQuY3JlYXRlRWwoJ3AnLCB7XHJcblx0XHRcdHRleHQ6ICdTZXJ2ZXIgYXJjaGl0ZWN0dXJlOiBUaGUgZmlyc3QgTUNQIHByb2Nlc3MgYXV0b21hdGljYWxseSBzdGFydHMgdGhlIHNoYXJlZCBXZWJTb2NrZXQgc2VydmVyLiBTdWJzZXF1ZW50IHByb2Nlc3NlcyBjb25uZWN0IGFzIGNsaWVudHMuIFNlcnZlciBvd25lcnNoaXAgdHJhbnNmZXJzIGF1dG9tYXRpY2FsbHkgd2hlbiB0aGUgaG9zdCBwcm9jZXNzIGV4aXRzLicsXHJcblx0XHRcdGNsczogJ3NldHRpbmctaXRlbS1kZXNjcmlwdGlvbidcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFdlYlNvY2tldCBTZXJ2ZXIgU2VjdGlvblxyXG5cdFx0Y29udGVudC5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdTaGFyZWQgV2ViU29ja2V0IFNlcnZlcicsIGNsczogJ3NldHRpbmctaXRlbS1uYW1lJyB9KTtcclxuXHJcblx0XHQvLyBTZXJ2ZXIgb3duZXJzaGlwIGV4cGxhbmF0aW9uXHJcblx0XHRjb250ZW50LmNyZWF0ZUVsKCdwJywge1xyXG5cdFx0XHR0ZXh0OiAnU2VydmVyIGxpZmVjeWNsZSBpcyBtYW5hZ2VkIGF1dG9tYXRpY2FsbHkgYnkgTUNQIHByb2Nlc3Nlcy4gTWFudWFsIGNvbnRyb2wgaXMgbm90IG5lZWRlZC4nLFxyXG5cdFx0XHRjbHM6ICdzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24nLFxyXG5cdFx0XHRhdHRyOiB7IHN0eWxlOiAnZm9udC1zaXplOiAwLjllbTsgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpOyBtYXJnaW4tYm90dG9tOiAxNnB4OycgfVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gV2ViU29ja2V0IFBvcnQgQ29uZmlndXJhdGlvbiAocmVhZC1vbmx5KVxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ1dlYlNvY2tldCBQb3J0JyApXHJcblx0XHRcdC5zZXREZXNjKCdQb3J0IG51bWJlciBmb3IgdGhlIHNoYXJlZCBXZWJTb2NrZXQgc2VydmVyIChjb25maWd1cmVkIHZpYSBNQ1ApJylcclxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCc4NzY1JylcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mud3NQb3J0LnRvU3RyaW5nKCkpXHJcblx0XHRcdFx0LnNldERpc2FibGVkKHRydWUpKTtcclxuXHJcblx0XHQvLyBEaXNwbGF5IFdlYlNvY2tldCBBdXRoIFRva2VuIChyZWFkLW9ubHkgd2l0aCBjb3B5KVxyXG5cdFx0Y29uc3QgYXV0aFRva2VuU2V0dGluZyA9IG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdBdXRoZW50aWNhdGlvbiBUb2tlbicgKVxyXG5cdFx0XHQuc2V0RGVzYygnQXV0aGVudGljYXRpb24gdG9rZW4gZm9yIHNlY3VyZSBXZWJTb2NrZXQgY29ubmVjdGlvbnMgKG1hbmFnZWQgYnkgTUNQKScpO1xyXG5cclxuXHRcdGxldCBhdXRoVG9rZW5UZXh0OiBhbnk7XHJcblx0XHRhdXRoVG9rZW5TZXR0aW5nLmFkZFRleHQodGV4dCA9PiB7XHJcblx0XHRcdGF1dGhUb2tlblRleHQgPSB0ZXh0O1xyXG5cdFx0XHR0ZXh0LnNldERpc2FibGVkKHRydWUpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLndzQXV0aFRva2VuKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIENvcHkgVG9rZW4gQnV0dG9uXHJcblx0XHRhdXRoVG9rZW5TZXR0aW5nLmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXHJcblx0XHRcdC5zZXRCdXR0b25UZXh0KCdDb3B5JylcclxuXHRcdFx0Lm9uQ2xpY2soYXN5bmMgKGV2ZW50KSA9PiB7XHJcblx0XHRcdFx0ZXZlbnQ/LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHRoaXMucGx1Z2luLnNldHRpbmdzLndzQXV0aFRva2VuKTtcclxuXHRcdFx0XHRuZXcgTm90aWNlKCdBdXRoIHRva2VuIGNvcGllZCB0byBjbGlwYm9hcmQnKTtcclxuXHRcdFx0fSkpO1xyXG5cclxuXHRcdC8vIEN1cnJlbnQgQ29ubmVjdGlvbnMgU3RhdHVzXHJcblx0XHRjb25zdCBjb25uZWN0aW9uc0NvbnRhaW5lciA9IGNvbnRlbnQuY3JlYXRlRGl2KCk7XHJcblx0XHRjb25uZWN0aW9uc0NvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gYFxyXG5cdFx0XHRtYXJnaW46IDE2cHggMDtcclxuXHRcdFx0cGFkZGluZzogMTJweDtcclxuXHRcdFx0Ym9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xyXG5cdFx0XHRib3JkZXItcmFkaXVzOiA2cHg7XHJcblx0XHRcdGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcclxuXHRcdGA7XHJcblxyXG5cdFx0Y29uc3QgY29ubmVjdGlvbnNUaXRsZSA9IGNvbm5lY3Rpb25zQ29udGFpbmVyLmNyZWF0ZUVsKCdoNScsIHtcclxuXHRcdFx0dGV4dDogJ0N1cnJlbnQgQ29ubmVjdGlvbnMnLFxyXG5cdFx0XHRhdHRyOiB7IHN0eWxlOiAnbWFyZ2luOiAwIDAgOHB4IDA7IGZvbnQtc2l6ZTogMC45ZW07IGZvbnQtd2VpZ2h0OiA2MDA7JyB9XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBDb25uZWN0aW9uIHN0YXR1cyBkaXNwbGF5ICh1cGRhdGVkIHBlcmlvZGljYWxseSlcclxuXHRcdGNvbnN0IGNvbm5lY3Rpb25zU3RhdHVzID0gY29ubmVjdGlvbnNDb250YWluZXIuY3JlYXRlRGl2KCk7XHJcblx0XHRjb25uZWN0aW9uc1N0YXR1cy5zdHlsZS5jc3NUZXh0ID0gYFxyXG5cdFx0XHRmb250LXNpemU6IDAuOGVtO1xyXG5cdFx0XHRjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XHJcblx0XHRcdGxpbmUtaGVpZ2h0OiAxLjQ7XHJcblx0XHRgO1xyXG5cclxuXHRcdGNvbnN0IHVwZGF0ZUNvbm5lY3Rpb25zRGlzcGxheSA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0Y29uc3QgcG9ydCA9IHRoaXMucGx1Z2luLnNldHRpbmdzLndzUG9ydCB8fCA4NzY1O1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdGNvbnN0IGhlYWx0aFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYGh0dHA6Ly8xMjcuMC4wLjE6JHtwb3J0fS9oZWFsdGhgLCB7XHJcblx0XHRcdFx0XHRoZWFkZXJzOiB7ICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3RoaXMucGx1Z2luLnNldHRpbmdzLndzQXV0aFRva2VuIHx8ICcnfWAgfVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGlmIChoZWFsdGhSZXNwb25zZS5vaykge1xyXG5cdFx0XHRcdFx0Y29ubmVjdGlvbnNTdGF0dXMudGV4dENvbnRlbnQgPSBgQ29ubmVjdGVkIHRvIHBvcnQgJHtwb3J0fWA7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGNvbm5lY3Rpb25zU3RhdHVzLnRleHRDb250ZW50ID0gYEZhaWxlZCB0byBjb25uZWN0IHRvIHBvcnQgJHtwb3J0fWA7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdGNvbm5lY3Rpb25zU3RhdHVzLnRleHRDb250ZW50ID0gYFRyeWluZyB0byBjb25uZWN0IHRvIHBvcnQgJHtwb3J0fWA7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0Ly8gSW5pdGlhbCB1cGRhdGVcclxuXHRcdHVwZGF0ZUNvbm5lY3Rpb25zRGlzcGxheSgpO1xyXG5cclxuXHRcdC8vIFVwZGF0ZSBldmVyeSA1IHNlY29uZHNcclxuXHRcdGNvbnN0IGNvbm5lY3Rpb25VcGRhdGVJbnRlcnZhbCA9IHNldEludGVydmFsKHVwZGF0ZUNvbm5lY3Rpb25zRGlzcGxheSwgNTAwMCk7XHJcblxyXG5cdFx0Ly8gU3RvcmUgaW50ZXJ2YWwgcmVmZXJlbmNlIGZvciBjbGVhbnVwXHJcblx0XHQodGhpcyBhcyBhbnkpLmNvbm5lY3Rpb25VcGRhdGVJbnRlcnZhbCA9IGNvbm5lY3Rpb25VcGRhdGVJbnRlcnZhbDtcclxuXHJcblx0XHQvLyBNQ1AgU2VydmVyIFNlY3Rpb25cclxuXHRcdGNvbnRlbnQuY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnTUNQIFNlcnZlcicsIGNsczogJ3NldHRpbmctaXRlbS1uYW1lJyB9KTtcclxuXHJcblx0XHQvLyBDdXJyZW50IEluc3RhbmNlcyBTdGF0dXNcclxuXHRcdGNvbnN0IGluc3RhbmNlc0NvbnRhaW5lciA9IGNvbnRlbnQuY3JlYXRlRGl2KCk7XHJcblx0XHRpbnN0YW5jZXNDb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IGBcclxuXHRcdFx0bWFyZ2luOiAxNnB4IDA7XHJcblx0XHRcdHBhZGRpbmc6IDEycHg7XHJcblx0XHRcdGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcclxuXHRcdFx0Ym9yZGVyLXJhZGl1czogNnB4O1xyXG5cdFx0XHRiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XHJcblx0XHRgO1xyXG5cclxuXHRcdGNvbnN0IGluc3RhbmNlc1RpdGxlID0gaW5zdGFuY2VzQ29udGFpbmVyLmNyZWF0ZUVsKCdoNScsIHtcclxuXHRcdFx0dGV4dDogJ0N1cnJlbnQgSW5zdGFuY2VzJyxcclxuXHRcdFx0YXR0cjogeyBzdHlsZTogJ21hcmdpbjogMCAwIDhweCAwOyBmb250LXNpemU6IDAuOWVtOyBmb250LXdlaWdodDogNjAwOycgfVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gSW5zdGFuY2Ugc3RhdHVzIGRpc3BsYXkgKHVwZGF0ZWQgcGVyaW9kaWNhbGx5KVxyXG5cdFx0Y29uc3QgaW5zdGFuY2VzU3RhdHVzID0gaW5zdGFuY2VzQ29udGFpbmVyLmNyZWF0ZURpdigpO1xyXG5cdFx0aW5zdGFuY2VzU3RhdHVzLnN0eWxlLmNzc1RleHQgPSBgXHJcblx0XHRcdGZvbnQtc2l6ZTogMC44ZW07XHJcblx0XHRcdGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcclxuXHRcdFx0bGluZS1oZWlnaHQ6IDEuNDtcclxuXHRcdGA7XHJcblxyXG5cdFx0Y29uc3QgdXBkYXRlSW5zdGFuY2VzRGlzcGxheSA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHQvLyBVc2UgUHJvY2Vzc0RldGVjdGlvbiB0byBnZXQgYWN0dWFsIHJ1bm5pbmcgTUNQIHByb2Nlc3Nlc1xyXG5cdFx0XHRcdGNvbnN0IHByb2Nlc3NEZXRlY3Rpb24gPSBQcm9jZXNzRGV0ZWN0aW9uLmdldEluc3RhbmNlKCk7XHJcblx0XHRcdFx0Y29uc3QgbWNwUHJvY2Vzc2VzID0gYXdhaXQgcHJvY2Vzc0RldGVjdGlvbi5nZXRNQ1BTZXJ2ZXJQcm9jZXNzZXMoKTtcclxuXHJcblx0XHRcdFx0aWYgKG1jcFByb2Nlc3Nlcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHRjb25zdCBwcm9jZXNzTGluZXMgPSBtY3BQcm9jZXNzZXMubWFwKHByb2MgPT5cclxuXHRcdFx0XHRcdFx0YFByb2Nlc3MgJHtwcm9jLnBpZH0gfCAke3Byb2MucGFyZW50TmFtZX0gfCAke3Byb2MuY3JlYXRlZEF0fWBcclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRpbnN0YW5jZXNTdGF0dXMuaW5uZXJIVE1MID0gcHJvY2Vzc0xpbmVzLmpvaW4oJzxicj4nKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0aW5zdGFuY2VzU3RhdHVzLnRleHRDb250ZW50ID0gYE5vIGFjdGl2ZSBpbnN0YW5jZXMgZGV0ZWN0ZWRgO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRpbnN0YW5jZXNTdGF0dXMudGV4dENvbnRlbnQgPSBgU3RhdHVzIGNoZWNrIGZhaWxlZGA7XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignRmFpbGVkIHRvIHVwZGF0ZSBpbnN0YW5jZXMgZGlzcGxheScsIHsgZXJyb3IgfSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0Ly8gSW5pdGlhbCB1cGRhdGVcclxuXHRcdHVwZGF0ZUluc3RhbmNlc0Rpc3BsYXkoKTtcclxuXHJcblx0XHQvLyBVcGRhdGUgZXZlcnkgNSBzZWNvbmRzXHJcblx0XHRjb25zdCBpbnN0YW5jZVVwZGF0ZUludGVydmFsID0gc2V0SW50ZXJ2YWwodXBkYXRlSW5zdGFuY2VzRGlzcGxheSwgNTAwMCk7XHJcblxyXG5cdFx0Ly8gU3RvcmUgaW50ZXJ2YWwgcmVmZXJlbmNlIGZvciBjbGVhbnVwXHJcblx0XHQodGhpcyBhcyBhbnkpLmluc3RhbmNlVXBkYXRlSW50ZXJ2YWwgPSBpbnN0YW5jZVVwZGF0ZUludGVydmFsO1xyXG5cclxuXHRcdC8vIEdlbmVyYXRlIE1DUCBDb25maWcgQnV0dG9uXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnR2VuZXJhdGUgTUNQIENvbmZpZycgKVxyXG5cdFx0XHQuc2V0RGVzYygnR2VuZXJhdGUgY29uZmlndXJhdGlvbiBmb3IgTUNQIGNsaWVudHMgdG8gY29ubmVjdCB0byB0aGUgTUNQIHNlcnZlcicpXHJcblx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxyXG5cdFx0XHRcdC5zZXRCdXR0b25UZXh0KCdHZW5lcmF0ZSBDb25maWcnKVxyXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMuZ2VuZXJhdGVNY3BDb25maWcoYnV0dG9uLmJ1dHRvbkVsKTtcclxuXHRcdFx0XHR9KSk7XHJcblx0fVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cdHByaXZhdGUgYWRkQWR2YW5jZWRBY2NvcmRpb24oY29udGVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuXHJcblx0XHQvLyBWaWV3IExvZ3MgQnV0dG9uXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnVmlldyBMb2dzJyApXHJcblx0XHRcdC5zZXREZXNjKCdPcGVuIHRoZSBwbHVnaW4gbG9ncyBkaXJlY3RvcnknKVxyXG5cdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cclxuXHRcdFx0XHQuc2V0QnV0dG9uVGV4dCgnVmlldyBMb2dzJylcclxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnZpZXdMb2dGaWxlKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdNYXggUmV0cnkgQXR0ZW1wdHMnIClcclxuXHRcdFx0LnNldERlc2MoJ01heGltdW0gbnVtYmVyIG9mIHJldHJ5IGF0dGVtcHRzIGZvciBmYWlsZWQgb3BlcmF0aW9ucycpXHJcblx0XHRcdC5hZGRTbGlkZXIoc2xpZGVyID0+IHNsaWRlclxyXG5cdFx0XHRcdC5zZXRMaW1pdHMoMSwgMTAsIDEpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLm1heFJldHJ5QXR0ZW1wdHMpXHJcblx0XHRcdFx0LnNldER5bmFtaWNUb29sdGlwKClcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5tYXhSZXRyeUF0dGVtcHRzID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0Nvbm5lY3Rpb24gVGltZW91dCcgKVxyXG5cdFx0XHQuc2V0RGVzYygnQ29ubmVjdGlvbiB0aW1lb3V0IGluIHNlY29uZHMnKVxyXG5cdFx0XHQuYWRkU2xpZGVyKHNsaWRlciA9PiBzbGlkZXJcclxuXHRcdFx0XHQuc2V0TGltaXRzKDUsIDEyMCwgNSlcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY29ubmVjdGlvblRpbWVvdXQpXHJcblx0XHRcdFx0LnNldER5bmFtaWNUb29sdGlwKClcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5jb25uZWN0aW9uVGltZW91dCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdC8vIFNjaGVtYSBEaXNjb3Zlcnkgc3Vic2VjdGlvblxyXG5cdFx0Y29udGVudC5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdTY2hlbWEgRGlzY292ZXJ5IE9wdGlvbnMnLCBjbHM6ICdzZXR0aW5nLWl0ZW0tbmFtZScgfSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0F1dG8tZGlzY292ZXIgU2NoZW1hcycgKVxyXG5cdFx0XHQuc2V0RGVzYygnQXV0b21hdGljYWxseSBzY2FuIHZhdWx0IGZvciBzY2hlbWEgcGF0dGVybnMnIClcclxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmF1dG9EaXNjb3ZlclNjaGVtYXMpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuYXV0b0Rpc2NvdmVyU2NoZW1hcyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdWYWxpZGF0ZSBOYW1pbmcgQ29udmVudGlvbnMnIClcclxuXHRcdFx0LnNldERlc2MoJ0NoZWNrIHByb3BlcnR5IG5hbWVzIGFnYWluc3QgR3JhcGhpdGkgYmVzdCBwcmFjdGljZXMnIClcclxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnZhbGlkYXRlTmFtaW5nQ29udmVudGlvbnMpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudmFsaWRhdGVOYW1pbmdDb252ZW50aW9ucyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdTdWdnZXN0IFByb3BlcnR5IERlc2NyaXB0aW9ucycgKVxyXG5cdFx0XHQuc2V0RGVzYygnQXV0by1nZW5lcmF0ZSBkZXNjcmlwdGlvbnMgZm9yIGNvbW1vbiBwcm9wZXJ0eSBuYW1lcycgKVxyXG5cdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc3VnZ2VzdFByb3BlcnR5RGVzY3JpcHRpb25zKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnN1Z2dlc3RQcm9wZXJ0eURlc2NyaXB0aW9ucyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdQcm90ZWN0ZWQgQXR0cmlidXRlIFdhcm5pbmdzJyApXHJcblx0XHRcdC5zZXREZXNjKCdTaG93IHdhcm5pbmdzIGZvciBHcmFwaGl0aSBwcm90ZWN0ZWQgYXR0cmlidXRlIG5hbWVzJyApXHJcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVQcm90ZWN0ZWRBdHRyaWJ1dGVXYXJuaW5ncylcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVQcm90ZWN0ZWRBdHRyaWJ1dGVXYXJuaW5ncyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdC8vIFVJIFByZWZlcmVuY2VzIHN1YnNlY3Rpb25cclxuXHRcdGNvbnRlbnQuY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnVUkgUHJlZmVyZW5jZXMnLCBjbHM6ICdzZXR0aW5nLWl0ZW0tbmFtZScgfSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ1Nob3cgU3luYyBTdGF0dXMnIClcclxuXHRcdFx0LnNldERlc2MoJ0Rpc3BsYXkgc3luYyBzdGF0dXMgaW4gdGhlIHN0YXR1cyBiYXInIClcclxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dTeW5jU3RhdHVzKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dTeW5jU3RhdHVzID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ1Nob3cgTm90aWZpY2F0aW9ucycgKVxyXG5cdFx0XHQuc2V0RGVzYygnRGlzcGxheSBub3RpZmljYXRpb25zIGZvciBzeW5jIG9wZXJhdGlvbnMnIClcclxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dOb3RpZmljYXRpb25zKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dOb3RpZmljYXRpb25zID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhZGRBY3Rpb25zQWNjb3JkaW9uKGNvbnRlbnQ6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0V4cG9ydCBTZXR0aW5ncycgKVxyXG5cdFx0XHQuc2V0RGVzYygnRXhwb3J0IHlvdXIgY3VycmVudCBzZXR0aW5ncyB0byBhIGZpbGUnKVxyXG5cdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cclxuXHRcdFx0XHQuc2V0QnV0dG9uVGV4dCgnRXhwb3J0IFNldHRpbmdzJylcclxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLmV4cG9ydFNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdJbXBvcnQgU2V0dGluZ3MnIClcclxuXHRcdFx0LnNldERlc2MoJ0ltcG9ydCBzZXR0aW5ncyBmcm9tIGEgZmlsZScgKVxyXG5cdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cclxuXHRcdFx0XHQuc2V0QnV0dG9uVGV4dCgnSW1wb3J0IFNldHRpbmdzJylcclxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLmltcG9ydFNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdSZXNldCB0byBEZWZhdWx0cycgKVxyXG5cdFx0XHQuc2V0RGVzYygnUmVzZXQgYWxsIHNldHRpbmdzIHRvIHRoZWlyIGRlZmF1bHQgdmFsdWVzJylcclxuXHRcdFx0LmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXHJcblx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ1Jlc2V0IHRvIERlZmF1bHRzJylcclxuXHRcdFx0XHQuc2V0V2FybmluZygpXHJcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5yZXNldFRvRGVmYXVsdHMoKTtcclxuXHRcdFx0XHR9KSk7XHJcblx0fVxyXG5cclxuXHQvLyBNZXRob2QgcmVtb3ZlZCAtIE1DUCBzZXJ2ZXIgY29udHJvbHMgbm93IGNvbnNvbGlkYXRlZCBpbiBhZGRTZXJ2ZXJzQWNjb3JkaW9uKClcclxuXHJcblx0cHJpdmF0ZSBhc3luYyBnZW5lcmF0ZU1jcENvbmZpZyhidXR0b25FbDogSFRNTEVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGNvbnN0IG9yaWdpbmFsVGV4dCA9IGJ1dHRvbkVsLnRleHRDb250ZW50O1xyXG5cdFx0YnV0dG9uRWwudGV4dENvbnRlbnQgPSAnR2VuZXJhdGluZy4uLic7XHJcblx0XHRidXR0b25FbC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ3RydWUnKTtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbTUNQLUNPTkZJR10gR2VuZXJhdGluZyBNQ1AgY29uZmlndXJhdGlvbicpO1xyXG5cclxuXHRcdFx0aWYgKHRoaXMucGx1Z2luLmdyYXBoaXRpU2VydmljZSkge1xyXG5cdFx0XHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucGx1Z2luLmdyYXBoaXRpU2VydmljZS5nZW5lcmF0ZUNsYXVkZURlc2t0b3BDb25maWcoKTtcclxuXHRcdFx0XHRjb25zdCBjb25maWdKc29uID0gSlNPTi5zdHJpbmdpZnkocmVzdWx0LmNvbmZpZywgbnVsbCwgMik7XHJcblxyXG5cdFx0XHRcdC8vIENyZWF0ZSBhIHNpbXBsZSBtb2RhbCB1c2luZyBPYnNpZGlhbidzIG5hdGl2ZSBtb2RhbCBhcHByb2FjaFxyXG5cdFx0XHRcdGNvbnN0IG1vZGFsRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdFx0XHRtb2RhbEVsLnN0eWxlLmNzc1RleHQgPSBgXHJcblx0XHRcdFx0XHRwb3NpdGlvbjogZml4ZWQ7XHJcblx0XHRcdFx0XHR0b3A6IDA7XHJcblx0XHRcdFx0XHRsZWZ0OiAwO1xyXG5cdFx0XHRcdFx0d2lkdGg6IDEwMCU7XHJcblx0XHRcdFx0XHRoZWlnaHQ6IDEwMCU7XHJcblx0XHRcdFx0XHRiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuOCk7XHJcblx0XHRcdFx0XHRkaXNwbGF5OiBmbGV4O1xyXG5cdFx0XHRcdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHRcdFx0XHRcdGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG5cdFx0XHRcdFx0ei1pbmRleDogMTAwMDtcclxuXHRcdFx0XHRgO1xyXG5cclxuXHRcdFx0XHRjb25zdCBjb250ZW50RWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdFx0XHRjb250ZW50RWwuc3R5bGUuY3NzVGV4dCA9IGBcclxuXHRcdFx0XHRcdGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XHJcblx0XHRcdFx0XHRib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XHJcblx0XHRcdFx0XHRib3JkZXItcmFkaXVzOiA4cHg7XHJcblx0XHRcdFx0XHRwYWRkaW5nOiAyMHB4O1xyXG5cdFx0XHRcdFx0bWF4LXdpZHRoOiA2MDBweDtcclxuXHRcdFx0XHRcdHdpZHRoOiA5MCU7XHJcblx0XHRcdFx0XHRtYXgtaGVpZ2h0OiA4MCU7XHJcblx0XHRcdFx0XHRvdmVyZmxvdzogYXV0bztcclxuXHRcdFx0XHRgO1xyXG5cclxuXHRcdFx0XHRjb25zdCBoZWFkZXJFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XHJcblx0XHRcdFx0aGVhZGVyRWwudGV4dENvbnRlbnQgPSAnTUNQIENvbmZpZ3VyYXRpb24nO1xyXG5cdFx0XHRcdGhlYWRlckVsLnN0eWxlLm1hcmdpbiA9ICcwIDAgMTVweCAwJztcclxuXHJcblx0XHRcdFx0Y29uc3QgZGVzY0VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xyXG5cdFx0XHRcdGRlc2NFbC50ZXh0Q29udGVudCA9ICdDb3B5IHRoaXMgY29uZmlndXJhdGlvbiBmb3IgeW91ciBNQ1AgY2xpZW50Oic7XHJcblx0XHRcdFx0ZGVzY0VsLnN0eWxlLm1hcmdpbiA9ICcwIDAgMTBweCAwJztcclxuXHJcblx0XHRcdFx0Y29uc3QgdGV4dEFyZWFFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XHJcblx0XHRcdFx0dGV4dEFyZWFFbC52YWx1ZSA9IGNvbmZpZ0pzb247XHJcblx0XHRcdFx0dGV4dEFyZWFFbC5yZWFkT25seSA9IHRydWU7XHJcblx0XHRcdFx0dGV4dEFyZWFFbC5zdHlsZS5jc3NUZXh0ID0gYFxyXG5cdFx0XHRcdFx0d2lkdGg6IDEwMCU7XHJcblx0XHRcdFx0XHRoZWlnaHQ6IDMwMHB4O1xyXG5cdFx0XHRcdFx0Zm9udC1mYW1pbHk6IHZhcigtLWZvbnQtbW9ub3NwYWNlKTtcclxuXHRcdFx0XHRcdGZvbnQtc2l6ZTogMTJweDtcclxuXHRcdFx0XHRcdGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcclxuXHRcdFx0XHRcdGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcclxuXHRcdFx0XHRcdGJvcmRlci1yYWRpdXM6IDRweDtcclxuXHRcdFx0XHRcdHBhZGRpbmc6IDhweDtcclxuXHRcdFx0XHRcdHJlc2l6ZTogdmVydGljYWw7XHJcblx0XHRcdFx0XHRib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG5cdFx0XHRcdGA7XHJcblxyXG5cdFx0XHRcdGNvbnN0IGJ1dHRvbkNvbnRhaW5lckVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRcdFx0YnV0dG9uQ29udGFpbmVyRWwuc3R5bGUuY3NzVGV4dCA9IGBcclxuXHRcdFx0XHRcdG1hcmdpbi10b3A6IDE1cHg7XHJcblx0XHRcdFx0XHRkaXNwbGF5OiBmbGV4O1xyXG5cdFx0XHRcdFx0Z2FwOiAxMHB4O1xyXG5cdFx0XHRcdFx0anVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuXHRcdFx0XHRgO1xyXG5cclxuXHRcdFx0XHRjb25zdCBjb3B5QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcblx0XHRcdFx0Y29weUJ0bi50ZXh0Q29udGVudCA9ICdDb3B5JztcclxuXHRcdFx0XHRjb3B5QnRuLmNsYXNzTmFtZSA9ICdtb2QtY3RhJztcclxuXHRcdFx0XHRjb3B5QnRuLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChjb25maWdKc29uKTtcclxuXHRcdFx0XHRcdFx0Y29uc3Qgb3JpZ2luYWxUZXh0ID0gY29weUJ0bi50ZXh0Q29udGVudDtcclxuXHRcdFx0XHRcdFx0Y29weUJ0bi50ZXh0Q29udGVudCA9ICdDb3BpZWQhJztcclxuXHRcdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiBjb3B5QnRuLnRleHRDb250ZW50ID0gb3JpZ2luYWxUZXh0LCAyMDAwKTtcclxuXHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnW1NVQ0NFU1NdIE1DUCBjb25maWd1cmF0aW9uIGNvcGllZCB0byBjbGlwYm9hcmQnKTtcclxuXHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0XHRcdHRleHRBcmVhRWwuc2VsZWN0KCk7XHJcblx0XHRcdFx0XHRcdGRvY3VtZW50LmV4ZWNDb21tYW5kKCdjb3B5Jyk7XHJcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoJ1tTVUNDRVNTXSBNQ1AgY29uZmlndXJhdGlvbiBjb3BpZWQgdG8gY2xpcGJvYXJkJyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0Y29uc3QgY2xvc2VCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuXHRcdFx0XHRjbG9zZUJ0bi50ZXh0Q29udGVudCA9ICdDbG9zZSc7XHJcblx0XHRcdFx0Y2xvc2VCdG4ub25jbGljayA9ICgpID0+IGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobW9kYWxFbCk7XHJcblxyXG5cdFx0XHRcdC8vIEFzc2VtYmxlIG1vZGFsXHJcblx0XHRcdFx0YnV0dG9uQ29udGFpbmVyRWwuYXBwZW5kKGNvcHlCdG4sIGNsb3NlQnRuKTtcclxuXHRcdFx0XHRjb250ZW50RWwuYXBwZW5kKGhlYWRlckVsLCBkZXNjRWwsIHRleHRBcmVhRWwsIGJ1dHRvbkNvbnRhaW5lckVsKTtcclxuXHRcdFx0XHRtb2RhbEVsLmFwcGVuZENoaWxkKGNvbnRlbnRFbCk7XHJcblxyXG5cdFx0XHRcdC8vIENsb3NlIG9uIGJhY2tncm91bmQgY2xpY2tcclxuXHRcdFx0XHRtb2RhbEVsLm9uY2xpY2sgPSAoZSkgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKGUudGFyZ2V0ID09PSBtb2RhbEVsKSB7XHJcblx0XHRcdFx0XHRcdGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobW9kYWxFbCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0Ly8gU2hvdyBtb2RhbFxyXG5cdFx0XHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9kYWxFbCk7XHJcblxyXG5cdFx0XHRcdC8vIEF1dG8tc2VsZWN0IHRleHRcclxuXHRcdFx0XHR0ZXh0QXJlYUVsLmZvY3VzKCk7XHJcblx0XHRcdFx0dGV4dEFyZWFFbC5zZWxlY3QoKTtcclxuXHJcblx0XHRcdFx0bmV3IE5vdGljZSgnW1NVQ0NFU1NdIE1DUCBjb25maWd1cmF0aW9uIGdlbmVyYXRlZCcpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoJ1tFUlJPUl0gR3JhcGhpdGlTZXJ2aWNlIG5vdCBhdmFpbGFibGUnKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignW01DUC1DT05GSUddIEZhaWxlZCB0byBnZW5lcmF0ZSBNQ1AgY29uZmlnJywgeyBlcnJvciB9KTtcclxuXHRcdFx0Y29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XHJcblx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gRmFpbGVkIHRvIGdlbmVyYXRlIGNvbmZpZzogJHtlcnJvck1lc3NhZ2V9YCk7XHJcblx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9IG9yaWdpbmFsVGV4dDtcclxuXHRcdFx0YnV0dG9uRWwucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhZGREZXZlbG9wbWVudEFjY29yZGlvbihjb250ZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdEZWJ1ZyBMb2dnaW5nJyApXHJcblx0XHRcdC5zZXREZXNjKCdFbmFibGUgZGV0YWlsZWQgbG9nZ2luZyBmb3IgdHJvdWJsZXNob290aW5nJylcclxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZURlYnVnTG9nZ2luZylcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVEZWJ1Z0xvZ2dpbmcgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdC8vIERpcmVjdGx5IHVwZGF0ZSB0aGUgbG9nZ2VyIHN0YXRlIHdoZW4gdGhlIHNldHRpbmcgY2hhbmdlc1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyLnNldERlYnVnKHZhbHVlKTtcclxuXHRcdFx0XHRcdC8vIEV4cGxpY2l0bHkgbG9nIHRoZSBkZWJ1ZyBtb2RlIGNoYW5nZSBmcm9tIHRoZSBzZXR0aW5ncyB0YWJcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlci5pbmZvKGBEZWJ1ZyBtb2RlICR7dmFsdWUgPyAnZW5hYmxlZCcgOiAnZGlzYWJsZWQnfSBmcm9tIHNldHRpbmdzYCk7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0V4cGVyaW1lbnRhbCBEYWVtb24gTW9kZScgKVxyXG5cdFx0XHQuc2V0RGVzYygnVXNlIHBlcnNpc3RlbnQgUHl0aG9uIGRhZW1vbiB0byBlbGltaW5hdGUgQkdFIG1vZGVsIGxvYWRpbmcgb3ZlcmhlYWQgKHJlZHVjZXMgc3luYyB0aW1lIGJ5IH42MCUpJylcclxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmV4cGVyaW1lbnRhbERhZW1vbk1vZGUpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZXhwZXJpbWVudGFsRGFlbW9uTW9kZSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdMb2FkIERhZW1vbiBvbiBMYXVuY2gnIClcclxuXHRcdFx0LnNldERlc2MoJ1N0YXJ0IFB5dGhvbiBkYWVtb24gd2hlbiBwbHVnaW4gbG9hZHMgdG8gZWxpbWluYXRlIGZpcnN0LXN5bmMgZGVsYXkgKHJlcXVpcmVzIEV4cGVyaW1lbnRhbCBEYWVtb24gTW9kZSknKVxyXG5cdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubG9hZERhZW1vbk9uTGF1bmNoKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmxvYWREYWVtb25PbkxhdW5jaCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdC5zZXROYW1lKCdMb2cgUGVyZm9ybWFuY2UnIClcclxuXHRcdFx0LnNldERlc2MoJ0VuYWJsZSBkZXRhaWxlZCB0aW1pbmcgYW5hbHlzaXMgZm9yIHN5bmMgcGVyZm9ybWFuY2UgZGVidWdnaW5nJylcclxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmxvZ1BlcmZvcm1hbmNlKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmxvZ1BlcmZvcm1hbmNlID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblx0fVxyXG5cclxuXHJcblx0cHJpdmF0ZSBnZXRQcm92aWRlckRpc3BsYXlOYW1lKHByb3ZpZGVyOiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdFx0Y29uc3QgZGlzcGxheU5hbWVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xyXG5cdFx0XHQnb3BlbmFpJzogJ09wZW5BSScsXHJcblx0XHRcdCdhbnRocm9waWMnOiAnQW50aHJvcGljJyxcclxuXHRcdFx0J2dvb2dsZSc6ICdHb29nbGUnLFxyXG5cdFx0XHQnYXp1cmUnOiAnQXp1cmUgT3BlbkFJJyxcclxuXHRcdFx0J3ZveWFnZSc6ICdWb3lhZ2UgQUknLFxyXG5cdFx0XHQndmVuaWNlJzogJ1ZlbmljZS5haSdcclxuXHRcdH07XHJcblx0XHRyZXR1cm4gZGlzcGxheU5hbWVzW3Byb3ZpZGVyXSB8fCBwcm92aWRlcjtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYWRkUHJvdmlkZXJTcGVjaWZpY1NldHRpbmdzKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG5cdFx0Y29uc3QgcHJvdmlkZXIgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1Qcm92aWRlcjtcclxuXHJcblx0XHQvLyBBenVyZS1zcGVjaWZpYyBzZXR0aW5nc1xyXG5cdFx0aWYgKHByb3ZpZGVyID09PSAnYXp1cmUnKSB7XHJcblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdC5zZXROYW1lKCdBenVyZSBFbmRwb2ludCcgKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdZb3VyIEF6dXJlIE9wZW5BSSBlbmRwb2ludCBVUkwnKVxyXG5cdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdodHRwczovL3lvdXItcmVzb3VyY2Uub3BlbmFpLmF6dXJlLmNvbS8nKVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmF6dXJlRW5kcG9pbnQgfHwgJycpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmF6dXJlRW5kcG9pbnQgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZSgnQXp1cmUgQVBJIFZlcnNpb24nIClcclxuXHRcdFx0XHQuc2V0RGVzYygnQXp1cmUgT3BlbkFJIEFQSSB2ZXJzaW9uJylcclxuXHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignMjAyNC0wMi0wMScpXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYXp1cmVBcGlWZXJzaW9uIHx8ICcnKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5henVyZUFwaVZlcnNpb24gPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gT2xsYW1hLXNwZWNpZmljIHNldHRpbmdzIG1vdmVkIHRvIEFQSSBLZXlzIHNlY3Rpb25cclxuXHRcdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBwb3B1bGF0ZUxMTU1vZGVscyhkcm9wZG93bjogYW55LCBwcm92aWRlcjogc3RyaW5nLCBpbmNsdWRlRW1wdHkgPSBmYWxzZSk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0ZHJvcGRvd24uc2VsZWN0RWwuZW1wdHkoKTtcclxuXHJcblx0XHRpZiAoaW5jbHVkZUVtcHR5KSB7XHJcblx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbignJywgJ05vbmUnKTtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgbW9kZWxPcHRpb25zOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuXHRcdC8vIFJlYWQgZnJvbSBwbHVnaW4uc2V0dGluZ3MgKGh5ZHJhdGVkIGZyb20gZGF0YS5qc29uKSBpbnN0ZWFkIG9mIGRpcmVjdCBmaWxlIGFjY2Vzc1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgY2ZnOiBhbnkgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncyBhcyBhbnk7XHJcblx0XHRcdGNvbnN0IHNvdXJjZUtleSA9IGluY2x1ZGVFbXB0eSA/ICdsbG1TbWFsbERlZmF1bHRzJyA6ICdsbG1EZWZhdWx0cyc7XHJcblx0XHRcdGNvbnN0IHNyYyA9IGNmZz8uW3NvdXJjZUtleV0/Lltwcm92aWRlcl07XHJcblx0XHRcdGlmIChzcmMgJiYgdHlwZW9mIHNyYyA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0XHRjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoc3JjIGFzIFJlY29yZDxzdHJpbmcsIGFueT4pO1xyXG5cdFx0XHRcdC8vIFJlY29tbWVuZGVkLWZpcnN0IG9yZGVyaW5nLCB0aGVuIGFscGhhYmV0aWNhbFxyXG5cdFx0XHRcdGVudHJpZXMuc29ydCgoYSwgYikgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgcmEgPSAoYVsxXSAmJiBhWzFdLnJlY29tbWVuZGVkKSA/IDEgOiAwO1xyXG5cdFx0XHRcdFx0Y29uc3QgcmIgPSAoYlsxXSAmJiBiWzFdLnJlY29tbWVuZGVkKSA/IDEgOiAwO1xyXG5cdFx0XHRcdFx0cmV0dXJuIHJiIC0gcmEgfHwgYVswXS5sb2NhbGVDb21wYXJlKGJbMF0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdG1vZGVsT3B0aW9ucyA9IGVudHJpZXMubWFwKChbbmFtZV0pID0+IG5hbWUpO1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoYFtTRVRUSU5HU10gVXNpbmcgJHtzb3VyY2VLZXl9IGZyb20gcGx1Z2luLnNldHRpbmdzIGZvciAke3Byb3ZpZGVyfWAsIHsgY291bnQ6IG1vZGVsT3B0aW9ucy5sZW5ndGggfSk7XHJcblx0XHRcdH0gZWxzZSBpZiAoaW5jbHVkZUVtcHR5ICYmIGNmZz8ubGxtRGVmYXVsdHM/Lltwcm92aWRlcl0pIHtcclxuXHRcdFx0XHRjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoY2ZnLmxsbURlZmF1bHRzW3Byb3ZpZGVyXSBhcyBSZWNvcmQ8c3RyaW5nLCBhbnk+KTtcclxuXHRcdFx0XHRlbnRyaWVzLnNvcnQoKGEsIGIpID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IHJhID0gKGFbMV0gJiYgYVsxXS5yZWNvbW1lbmRlZCkgPyAxIDogMDtcclxuXHRcdFx0XHRcdGNvbnN0IHJiID0gKGJbMV0gJiYgYlsxXS5yZWNvbW1lbmRlZCkgPyAxIDogMDtcclxuXHRcdFx0XHRcdHJldHVybiByYiAtIHJhIHx8IGFbMF0ubG9jYWxlQ29tcGFyZShiWzBdKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRtb2RlbE9wdGlvbnMgPSBlbnRyaWVzLm1hcCgoW25hbWVdKSA9PiBuYW1lKTtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKGBbU0VUVElOR1NdIEZhbGxiYWNrIHRvIGxsbURlZmF1bHRzIGZyb20gcGx1Z2luLnNldHRpbmdzIGZvciAke3Byb3ZpZGVyfWAsIHsgY291bnQ6IG1vZGVsT3B0aW9ucy5sZW5ndGggfSk7XHJcblx0XHRcdH1cclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8ud2FybignW1NFVFRJTkdTXSBGYWlsZWQgcmVhZGluZyBMTE0gZGVmYXVsdHMgZnJvbSBwbHVnaW4uc2V0dGluZ3MnLCB7IGVycm9yIH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIE5vIGhhcmRjb2RlZCBtb2RlbCBsaXN0cyBmb3Igbm9uLU9sbGFtYSBwcm92aWRlcnMuXHJcblx0XHQvLyBJZiBzZXR0aW5ncyBhcmUgbm90IHlldCBoeWRyYXRlZCwgbGVhdmUgdGhlIGRyb3Bkb3duIGVtcHR5IGFuZCByZWx5IG9uIGh5ZHJhdGlvbiArIGRlZmF1bHRzIHNlbGVjdGlvbi5cclxuXHRcdGlmIChtb2RlbE9wdGlvbnMubGVuZ3RoID09PSAwICYmIHByb3ZpZGVyICE9PSAnb2xsYW1hJykge1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKGBbU0VUVElOR1NdIE5vIExMTSBkZWZhdWx0cyBmb3VuZCBpbiBwbHVnaW4uc2V0dGluZ3MgZm9yICR7cHJvdmlkZXJ9OyBsZWF2aW5nIGRyb3Bkb3duIGVtcHR5YCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gRm9yIE9sbGFtYSBwcm92aWRlciwgdXNlIE9OTFkgc2V0dGluZ3MtZHJpdmVuIGxpc3RzIHBlciB0eXBlIChubyBzZXJ2ZXItYXBwZW5kKVxyXG5cdFx0aWYgKHByb3ZpZGVyID09PSAnb2xsYW1hJykge1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdC8vIENob29zZSBjb3JyZWN0IHNldHRpbmdzIHNvdXJjZTogbGxtRGVmYXVsdHMgZm9yIHByaW1hcnksIGxsbVNtYWxsRGVmYXVsdHMgZm9yIFNtYWxsXHJcblx0XHRcdFx0Y29uc3Qgc2V0dGluZ3NNb2RlbHMgPSBpbmNsdWRlRW1wdHlcclxuXHRcdFx0XHRcdD8gdGhpcy5vbGxhbWFTZXR0aW5ncy5nZXRPbGxhbWFMTE1TbWFsbE1vZGVsc0Zyb21TZXR0aW5ncygpXHJcblx0XHRcdFx0XHQ6IHRoaXMub2xsYW1hU2V0dGluZ3MuZ2V0T2xsYW1hTExNTW9kZWxzRnJvbVNldHRpbmdzKCk7XHJcblxyXG5cdFx0XHRcdGZvciAoY29uc3QgbW9kZWwgb2Ygc2V0dGluZ3NNb2RlbHMpIHtcclxuXHRcdFx0XHRcdGNvbnN0IGRlc2MgPSBtb2RlbC5kZXNjcmlwdGlvbiB8fCAnJztcclxuXHRcdFx0XHRcdGNvbnN0IHNob3J0RGVzYyA9IGRlc2MubGVuZ3RoID4gNTAgPyBkZXNjLnN1YnN0cmluZygwLCA1MCkgKyAnLi4uJyA6IGRlc2M7XHJcblx0XHRcdFx0XHRjb25zdCBkaXNwbGF5TmFtZSA9IHNob3J0RGVzYyA/IGAke21vZGVsLm5hbWV9IC0gJHtzaG9ydERlc2N9YCA6IG1vZGVsLm5hbWU7XHJcblx0XHRcdFx0XHRkcm9wZG93bi5hZGRPcHRpb24obW9kZWwubmFtZSwgZGlzcGxheU5hbWUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdbU0VUVElOR1NdIEZhaWxlZCB0byBsb2FkIE9sbGFtYSBMTE0gbW9kZWxzIGZyb20gc2V0dGluZ3MnLCB7IGVycm9yIH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyBGb3Igb3RoZXIgcHJvdmlkZXJzLCB1c2UgdGhlIG1vZGVscyBhcnJheSB3ZSBwcmVwYXJlZFxyXG5cdFx0XHRtb2RlbE9wdGlvbnMuZm9yRWFjaCgobW9kZWw6IHN0cmluZykgPT4gZHJvcGRvd24uYWRkT3B0aW9uKG1vZGVsLCBtb2RlbCkpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBwb3B1bGF0ZUVtYmVkZGluZ01vZGVscyhkcm9wZG93bjogYW55LCBwcm92aWRlcjogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRkcm9wZG93bi5zZWxlY3RFbC5lbXB0eSgpO1xyXG5cclxuXHRcdGxldCBtb2RlbE9wdGlvbnM6IHN0cmluZ1tdID0gW107XHJcblxyXG5cdFx0Ly8gUmVhZCBmcm9tIHBsdWdpbi5zZXR0aW5ncyAoaHlkcmF0ZWQgZnJvbSBkYXRhLmpzb24pIGluc3RlYWQgb2YgZGlyZWN0IGZpbGUgYWNjZXNzXHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCBjZmc6IGFueSA9IHRoaXMucGx1Z2luLnNldHRpbmdzIGFzIGFueTtcclxuXHRcdFx0Y29uc3QgZVNyYyA9IGNmZz8uZW1iZWRkaW5nRGVmYXVsdHM/Lltwcm92aWRlcl07XHJcblx0XHRcdGlmIChlU3JjICYmIHR5cGVvZiBlU3JjID09PSAnb2JqZWN0Jykge1xyXG5cdFx0XHRcdGNvbnN0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhlU3JjIGFzIFJlY29yZDxzdHJpbmcsIGFueT4pO1xyXG5cdFx0XHRcdC8vIFJlY29tbWVuZGVkLWZpcnN0IG9yZGVyaW5nLCB0aGVuIGFscGhhYmV0aWNhbFxyXG5cdFx0XHRcdGVudHJpZXMuc29ydCgoYSwgYikgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgcmEgPSAoYVsxXSAmJiBhWzFdLnJlY29tbWVuZGVkKSA/IDEgOiAwO1xyXG5cdFx0XHRcdFx0Y29uc3QgcmIgPSAoYlsxXSAmJiBiWzFdLnJlY29tbWVuZGVkKSA/IDEgOiAwO1xyXG5cdFx0XHRcdFx0cmV0dXJuIHJiIC0gcmEgfHwgYVswXS5sb2NhbGVDb21wYXJlKGJbMF0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdG1vZGVsT3B0aW9ucyA9IGVudHJpZXMubWFwKChbbmFtZV0pID0+IG5hbWUpO1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoYFtTRVRUSU5HU10gVXNpbmcgZW1iZWRkaW5nRGVmYXVsdHMgZnJvbSBwbHVnaW4uc2V0dGluZ3MgZm9yICR7cHJvdmlkZXJ9YCwgeyBjb3VudDogbW9kZWxPcHRpb25zLmxlbmd0aCB9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy53YXJuKCdbU0VUVElOR1NdIEZhaWxlZCByZWFkaW5nIGVtYmVkZGluZyBkZWZhdWx0cyBmcm9tIHBsdWdpbi5zZXR0aW5ncycsIHsgZXJyb3IgfSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gTm8gaGFyZGNvZGVkIG1vZGVsIGxpc3RzIGZvciBub24tT2xsYW1hIHByb3ZpZGVycy5cclxuXHRcdC8vIElmIHNldHRpbmdzIGFyZSBub3QgeWV0IGh5ZHJhdGVkLCBsZWF2ZSB0aGUgZHJvcGRvd24gZW1wdHkgYW5kIHJlbHkgb24gaHlkcmF0aW9uICsgZGVmYXVsdHMgc2VsZWN0aW9uLlxyXG5cdFx0aWYgKG1vZGVsT3B0aW9ucy5sZW5ndGggPT09IDAgJiYgcHJvdmlkZXIgIT09ICdvbGxhbWEnKSB7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoYFtTRVRUSU5HU10gTm8gZW1iZWRkaW5nIGRlZmF1bHRzIGZvdW5kIGluIHBsdWdpbi5zZXR0aW5ncyBmb3IgJHtwcm92aWRlcn07IGxlYXZpbmcgZHJvcGRvd24gZW1wdHlgKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBGb3IgT2xsYW1hIHByb3ZpZGVyLCBkZXJpdmUgbW9kZWwgbGlzdCBmcm9tIGh5ZHJhdGVkIHNldHRpbmdzIGFuZCBzaG93IGF2YWlsYWJpbGl0eS1hd2FyZSBsYWJlbHNcclxuXHRcdGlmIChwcm92aWRlciA9PT0gJ29sbGFtYScpIHtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHQvLyBOYW1lcyB0byBjaGVjayBhbmQgc2V0dGluZ3MgbWV0YWRhdGFcclxuXHRcdFx0XHRjb25zdCByZXF1ZXN0ZWROYW1lcyA9IHRoaXMub2xsYW1hU2V0dGluZ3MuZ2V0T2xsYW1hRW1iZWRkaW5nTW9kZWxOYW1lc0Zyb21TZXR0aW5ncygpO1xyXG5cdFx0XHRcdGNvbnN0IHNldHRpbmdzTW9kZWxzID0gdGhpcy5vbGxhbWFTZXR0aW5ncy5nZXRPbGxhbWFFbWJlZGRpbmdNb2RlbHNGcm9tU2V0dGluZ3MoKTtcclxuXHJcblx0XHRcdFx0Ly8gUXVlcnkgYXZhaWxhYmlsaXR5IGZvciByZXF1ZXN0ZWQgbW9kZWxzXHJcblx0XHRcdFx0Y29uc3Qgd2l0aFN0YXR1cyA9IGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MuZ2V0T2xsYW1hU2VydmljZSgpLmdldEVtYmVkZGluZ01vZGVsc1dpdGhTdGF0dXMocmVxdWVzdGVkTmFtZXMpIHx8IFtdO1xyXG5cdFx0XHRcdGNvbnN0IHN0YXR1c01hcCA9IG5ldyBNYXA8c3RyaW5nLCBib29sZWFuPigpO1xyXG5cdFx0XHRcdGZvciAoY29uc3QgcyBvZiB3aXRoU3RhdHVzKSBzdGF0dXNNYXAuc2V0KHMubmFtZSwgISFzLmF2YWlsYWJsZSk7XHJcblxyXG5cdFx0XHRcdC8vIEFkZCBzZXR0aW5ncyBtb2RlbHMgZmlyc3QgKHJlY29tbWVuZGVkLWZpcnN0IG9yZGVyaW5nIGhhbmRsZWQgYnkgZ2V0dGVyKVxyXG5cdFx0XHRcdGZvciAoY29uc3QgbW9kZWwgb2Ygc2V0dGluZ3NNb2RlbHMpIHtcclxuXHRcdFx0XHRcdGNvbnN0IGlzQXZhaWxhYmxlID0gc3RhdHVzTWFwLmdldChtb2RlbC5uYW1lKSB8fCBmYWxzZTtcclxuXHRcdFx0XHRcdGNvbnN0IGRpbXMgPSB0eXBlb2YgbW9kZWwuZGltZW5zaW9ucyA9PT0gJ251bWJlcicgPyBtb2RlbC5kaW1lbnNpb25zIDogKHRoaXMucGx1Z2luLnNldHRpbmdzLm9sbGFtYUVtYmVkZGluZ0RpbSB8fCA3NjgpO1xyXG5cdFx0XHRcdFx0Y29uc3QgZGVzYyA9IG1vZGVsLmRlc2NyaXB0aW9uIHx8ICcnO1xyXG5cdFx0XHRcdFx0Y29uc3Qgc2hvcnREZXNjID0gZGVzYy5sZW5ndGggPiAzNSA/IGRlc2Muc3Vic3RyaW5nKDAsIDM1KSArICcuLi4nIDogZGVzYztcclxuXHRcdFx0XHRcdGNvbnN0IGRpc3BsYXlOYW1lID0gYCR7bW9kZWwubmFtZX0gKCR7ZGltc31kKSAtICR7c2hvcnREZXNjfWA7XHJcblx0XHRcdFx0XHRkcm9wZG93bi5hZGRPcHRpb24obW9kZWwubmFtZSwgZGlzcGxheU5hbWUpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gT3B0aW9uYWxseSBhcHBlbmQgYW55IGV4dHJhIGRldGVjdGVkIGVtYmVkZGluZy1saWtlIG1vZGVscyBub3QgaW4gc2V0dGluZ3NcclxuXHRcdFx0XHQvLyBTa2lwcGVkIGhlcmUgdG8gYXZvaWQgbWlzY2xhc3NpZnlpbmcgbm9uLWVtYmVkZGluZyBtb2RlbHM7IGVuaGFuY2VkIFVJIGhhbmRsZXMgZGV0ZWN0aW9uICsgaWNvbnMuXHJcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignW1NFVFRJTkdTXSBGYWlsZWQgdG8gbG9hZCBPbGxhbWEgZW1iZWRkaW5nIG1vZGVscycsIHsgZXJyb3IgfSk7XHJcblx0XHRcdFx0Ly8gRmFsbGJhY2sgdG8gc2V0dGluZ3MgbW9kZWxzIG9ubHlcclxuXHRcdFx0XHRjb25zdCBzZXR0aW5nc01vZGVscyA9IHRoaXMub2xsYW1hU2V0dGluZ3MuZ2V0T2xsYW1hRW1iZWRkaW5nTW9kZWxzRnJvbVNldHRpbmdzKCk7XHJcblx0XHRcdFx0Zm9yIChjb25zdCBtb2RlbCBvZiBzZXR0aW5nc01vZGVscykge1xyXG5cdFx0XHRcdFx0Y29uc3QgZGltcyA9IHR5cGVvZiBtb2RlbC5kaW1lbnNpb25zID09PSAnbnVtYmVyJyA/IG1vZGVsLmRpbWVuc2lvbnMgOiAodGhpcy5wbHVnaW4uc2V0dGluZ3Mub2xsYW1hRW1iZWRkaW5nRGltIHx8IDc2OCk7XHJcblx0XHRcdFx0XHRjb25zdCBkZXNjID0gbW9kZWwuZGVzY3JpcHRpb24gfHwgJyc7XHJcblx0XHRcdFx0XHRjb25zdCBzaG9ydERlc2MgPSBkZXNjLmxlbmd0aCA+IDQwID8gZGVzYy5zdWJzdHJpbmcoMCwgNDApICsgJy4uLicgOiBkZXNjO1xyXG5cdFx0XHRcdFx0Y29uc3QgZGlzcGxheU5hbWUgPSBgJHttb2RlbC5uYW1lfSAoJHtkaW1zfWQpIC0gJHtzaG9ydERlc2N9YDtcclxuXHRcdFx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbihtb2RlbC5uYW1lLCBkaXNwbGF5TmFtZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyBGb3Igb3RoZXIgcHJvdmlkZXJzLCB1c2Ugc3RhbmRhcmQgbW9kZWwgbGlzdFxyXG5cdFx0XHRtb2RlbE9wdGlvbnMuZm9yRWFjaCgobW9kZWw6IHN0cmluZykgPT4gZHJvcGRvd24uYWRkT3B0aW9uKG1vZGVsLCBtb2RlbCkpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBhZGRFbmhhbmNlZEVtYmVkZGluZ01vZGVsU2V0dGluZyhjb250ZW50OiBIVE1MRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0Ly8gRm9yIE9sbGFtYSBwcm92aWRlciwgY3JlYXRlIGVuaGFuY2VkIGRyb3Bkb3duIHdpdGggY2xpY2thYmxlIGF2YWlsYWJpbGl0eSBpbmRpY2F0b3JzXHJcblx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuZW1iZWRkZXJQcm92aWRlciA9PT0gJ29sbGFtYScpIHtcclxuXHRcdFx0Y29uc3Qgc2V0dGluZyA9IG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcblx0XHRcdFx0LnNldE5hbWUoJ0VtYmVkZGluZyBNb2RlbCcgKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdNb2RlbCBmb3IgZ2VuZXJhdGluZyBlbWJlZGRpbmdzIHdpdGggYXZhaWxhYmlsaXR5IGNoZWNraW5nJyk7XHJcblxyXG5cdFx0XHRsZXQgZHJvcGRvd246IGFueTtcclxuXHRcdFx0bGV0IHN0YXR1c0NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XHJcblxyXG5cdFx0XHRzZXR0aW5nLmFkZERyb3Bkb3duKGFzeW5jIChkcm9wZG93bkNvbXBvbmVudCkgPT4ge1xyXG5cdFx0XHRcdGRyb3Bkb3duID0gZHJvcGRvd25Db21wb25lbnQ7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5vbGxhbWFTZXR0aW5ncy5wb3B1bGF0ZU9sbGFtYU1vZGVsc1dpdGhTdGF0dXMoZHJvcGRvd24pO1xyXG5cclxuXHRcdFx0XHRkcm9wZG93bi5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRpbmdNb2RlbClcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWU6IHN0cmluZykgPT4ge1xyXG5cdFx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRcdC8vIENoZWNrIGlmIHRoaXMgaXMgY2hhbmdpbmcgZnJvbSBhIHByZXZpb3VzbHkgc2V0IGVtYmVkZGluZyBtb2RlbFxyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGhhc0NoYW5nZWQgPSBhd2FpdCB0aGlzLnBsdWdpbi52YXVsdFJlZ2lzdHJ5U2VydmljZS5oYXNFbWJlZGRpbmdNb2RlbENoYW5nZWQoXHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZSxcclxuXHRcdFx0XHRcdFx0XHRcdFN0cmluZyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5vbGxhbWFFbWJlZGRpbmdEaW0gfHwgNzY4KVxyXG5cdFx0XHRcdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGlmIChoYXNDaGFuZ2VkKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKFwiWW91IGFyZSBjaGFuZ2luZyB0aGUgZW1iZWRkaW5nIG1vZGVsIGZvciB0aGlzIHZhdWx0LiBZb3UgbXVzdCBjbGVhciB0aGUgZGF0YWJhc2UgdG8gYXZvaWQgY29uZmxpY3RzLlwiKTtcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlci53YXJuKFwiW1NFVFRJTkdTXSBFbWJlZGRpbmcgbW9kZWwgY2hhbmdlIGRldGVjdGVkXCIsIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0bmV3TW9kZWw6IHZhbHVlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRuZXdEaW1lbnNpb25zOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5vbGxhbWFFbWJlZGRpbmdEaW0gfHwgNzY4XHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmVtYmVkZGluZ01vZGVsID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdC8vIFVwZGF0ZSB2YXVsdCByZWdpc3RyeSB3aXRoIG5ldyBlbWJlZGRpbmcgbW9kZWwgaW5jbHVkaW5nIHByb3ZpZGVyXHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW09MTEFNQS1FTUJFRERJTkctTU9ERUwtQ0hBTkdFXSBVcGRhdGluZyB2YXVsdCByZWdpc3RyeSBmcm9tIE9sbGFtYSBtb2RlbCBkcm9wZG93bicsIHtcclxuXHRcdFx0XHRcdFx0XHRcdG1vZGVsOiB2YWx1ZSxcclxuXHRcdFx0XHRcdFx0XHRcdGRpbWVuc2lvbnM6IHRoaXMucGx1Z2luLnNldHRpbmdzLm9sbGFtYUVtYmVkZGluZ0RpbSB8fCA3NjgsXHJcblx0XHRcdFx0XHRcdFx0XHRwcm92aWRlcjogJ29sbGFtYScsXHJcblx0XHRcdFx0XHRcdFx0XHR2YXVsdE5hbWU6IHRoaXMuYXBwLnZhdWx0LmdldE5hbWUoKVxyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnZhdWx0UmVnaXN0cnlTZXJ2aWNlLnVwZGF0ZVZhdWx0RW1iZWRkaW5nTW9kZWwoXHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmFwcC52YXVsdC5nZXROYW1lKCksXHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZSxcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm9sbGFtYUVtYmVkZGluZ0RpbSB8fCA3NjgsXHJcblx0XHRcdFx0XHRcdFx0XHQnb2xsYW1hJ1xyXG5cdFx0XHRcdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdC8vIFVwZGF0ZSBzdGF0dXMgaWNvbiBmb3IgdGhlIHNlbGVjdGVkIG1vZGVsIHdpdGhvdXQgdHJpZ2dlcmluZyBkb3dubG9hZHNcclxuXHRcdFx0XHRcdFx0XHRpZiAodmFsdWUpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MudXBkYXRlTW9kZWxTdGF0dXNJY29uRm9yRHJvcGRvd24oc3RhdHVzQ29udGFpbmVyLCAnZW1iZWRkaW5nJywgdmFsdWUpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXIuZXJyb3IoXCJbU0VUVElOR1NdIEVycm9yIGhhbmRsaW5nIE9sbGFtYSBlbWJlZGRpbmcgbW9kZWwgY2hhbmdlXCIsIHsgZXJyb3IgfSk7XHJcblx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShcIkVycm9yIGNoZWNraW5nIGVtYmVkZGluZyBtb2RlbCBjb25maWd1cmF0aW9uXCIpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBBZGQgc3RhdHVzIGNvbnRhaW5lciBmb3IgZG93bmxvYWQgcHJvZ3Jlc3MgYW5kIGNsaWNrYWJsZSBpY29uc1xyXG5cdFx0XHRzdGF0dXNDb250YWluZXIgPSBzZXR0aW5nLnNldHRpbmdFbC5jcmVhdGVEaXYoKTtcclxuXHRcdFx0c3RhdHVzQ29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgXHJcblx0XHRcdFx0bWFyZ2luLXRvcDogOHB4O1xyXG5cdFx0XHRcdHBhZGRpbmc6IDhweDtcclxuXHRcdFx0XHRib3JkZXItcmFkaXVzOiA0cHg7XHJcblx0XHRcdFx0Zm9udC1zaXplOiAwLjllbTtcclxuXHRcdFx0YDtcclxuXHJcblx0XHRcdC8vIEluaXRpYWwgc3RhdHVzIGljb24gdXBkYXRlXHJcblx0XHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRpbmdNb2RlbCkge1xyXG5cdFx0XHRcdHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5vbGxhbWFTZXR0aW5ncy51cGRhdGVNb2RlbFN0YXR1c0ljb25Gb3JEcm9wZG93bihzdGF0dXNDb250YWluZXIsICdlbWJlZGRpbmcnLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRpbmdNb2RlbCk7XHJcblx0XHRcdFx0fSwgMTAwKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gVXNlIHN0YW5kYXJkIGVtYmVkZGluZyBtb2RlbCBkcm9wZG93biBmb3Igbm9uLU9sbGFtYSBwcm92aWRlcnNcclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0XHQuc2V0TmFtZSgnRW1iZWRkaW5nIE1vZGVsJyApXHJcblx0XHRcdFx0LnNldERlc2MoJ01vZGVsIGZvciBnZW5lcmF0aW5nIGVtYmVkZGluZ3MnKVxyXG5cdFx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBvcHVsYXRlRW1iZWRkaW5nTW9kZWxzKGRyb3Bkb3duLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbWJlZGRlclByb3ZpZGVyKTtcclxuXHRcdFx0XHRcdGRyb3Bkb3duLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmVtYmVkZGluZ01vZGVsKVxyXG5cdFx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0Ly8gQ2hlY2sgZm9yIGVtYmVkZGluZyBtb2RlbCBjaGFuZ2VzIHVzaW5nIFZhdWx0UmVnaXN0cnlTZXJ2aWNlXHJcblx0XHRcdFx0XHRcdFx0aWYgKHRoaXMucGx1Z2luLnZhdWx0UmVnaXN0cnlTZXJ2aWNlKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBoYXNDaGFuZ2VkID0gYXdhaXQgdGhpcy5wbHVnaW4udmF1bHRSZWdpc3RyeVNlcnZpY2UuaGFzRW1iZWRkaW5nTW9kZWxDaGFuZ2VkKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFN0cmluZyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5vbGxhbWFFbWJlZGRpbmdEaW0gfHwgNzY4KVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoaGFzQ2hhbmdlZCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoJ1lvdSBhcmUgY2hhbmdpbmcgdGhlIGVtYmVkZGluZyBtb2RlbCBmb3IgdGhpcyB2YXVsdC4gWW91IG11c3QgY2xlYXIgdGhlIGRhdGFiYXNlIHRvIGF2b2lkIGNvbmZsaWN0cy4nKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/Lndhcm4oJ1tFTUJFRERJTkctV0FSTklOR10gRW1iZWRkaW5nIG1vZGVsIGNoYW5nZWQgZm9yIHZhdWx0Jywge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0b2xkTW9kZWw6IHRoaXMucGx1Z2luLnNldHRpbmdzLmVtYmVkZGluZ01vZGVsLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bmV3TW9kZWw6IHZhbHVlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmF1bHROYW1lOiB0aGlzLmFwcC52YXVsdC5nZXROYW1lKClcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignW0VNQkVERElORy1XQVJOSU5HXSBGYWlsZWQgdG8gY2hlY2sgZW1iZWRkaW5nIG1vZGVsIGNoYW5nZXMnLCB7IGVycm9yIH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZW1iZWRkaW5nTW9kZWwgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0Ly8gVXBkYXRlIHZhdWx0IHJlZ2lzdHJ5IHdpdGggbmV3IGVtYmVkZGluZyBtb2RlbCBmb3Igbm9uLU9sbGFtYSBwcm92aWRlcnNcclxuXHRcdFx0XHRcdFx0XHRpZiAodGhpcy5wbHVnaW4udmF1bHRSZWdpc3RyeVNlcnZpY2UpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IHZhdWx0TmFtZSA9IHRoaXMuYXBwLnZhdWx0LmdldE5hbWUoKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW05PTi1PTExBTUEtRU1CRURESU5HLU1PREVMLUNIQU5HRV0gVXBkYXRpbmcgdmF1bHQgcmVnaXN0cnkgZnJvbSBlbWJlZGRpbmcgbW9kZWwgZHJvcGRvd24nLCB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bW9kZWw6IHZhbHVlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRpbWVuc2lvbnM6IHRoaXMucGx1Z2luLnNldHRpbmdzLm9sbGFtYUVtYmVkZGluZ0RpbSB8fCA3NjgsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0cHJvdmlkZXI6IHRoaXMucGx1Z2luLnNldHRpbmdzLmVtYmVkZGVyUHJvdmlkZXIsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmF1bHROYW1lXHJcblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi52YXVsdFJlZ2lzdHJ5U2VydmljZS51cGRhdGVWYXVsdEVtYmVkZGluZ01vZGVsKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhdWx0TmFtZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5vbGxhbWFFbWJlZGRpbmdEaW0gfHwgNzY4LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmVtYmVkZGVyUHJvdmlkZXJcclxuXHRcdFx0XHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tOT04tT0xMQU1BLUVNQkVERElORy1NT0RFTF0gRmFpbGVkIHRvIHVwZGF0ZSB2YXVsdCByZWdpc3RyeScsIHsgZXJyb3IsIG1vZGVsOiB2YWx1ZSB9KTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBwb3B1bGF0ZU9sbGFtYU1vZGVsc1dpdGhTdGF0dXMoZHJvcGRvd246IGFueSk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0YXdhaXQgdGhpcy5vbGxhbWFTZXR0aW5ncy5wb3B1bGF0ZU9sbGFtYU1vZGVsc1dpdGhTdGF0dXMoZHJvcGRvd24pO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBoYW5kbGVPbGxhbWFNb2RlbFNlbGVjdGlvbihtb2RlbE5hbWU6IHN0cmluZywgc3RhdHVzQ29udGFpbmVyOiBIVE1MRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0YXdhaXQgdGhpcy5vbGxhbWFTZXR0aW5ncy5oYW5kbGVPbGxhbWFNb2RlbFNlbGVjdGlvbihtb2RlbE5hbWUsIHN0YXR1c0NvbnRhaW5lcik7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIGRvd25sb2FkT2xsYW1hTW9kZWxXaXRoUHJvZ3Jlc3MobW9kZWxOYW1lOiBzdHJpbmcsIHN0YXR1c0NvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MuZG93bmxvYWRPbGxhbWFNb2RlbFdpdGhQcm9ncmVzcyhtb2RlbE5hbWUsIHN0YXR1c0NvbnRhaW5lcik7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIGlzT2xsYW1hTW9kZWxJbnN0YWxsZWQobW9kZWxOYW1lOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuXHRcdHJldHVybiBhd2FpdCB0aGlzLm9sbGFtYVNldHRpbmdzLmlzT2xsYW1hTW9kZWxJbnN0YWxsZWQobW9kZWxOYW1lKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgdXBkYXRlTExNTW9kZWxTdGF0dXNJY29uKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCwgbW9kZWxOYW1lOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MudXBkYXRlTW9kZWxTdGF0dXNJY29uRm9yRHJvcGRvd24oY29udGFpbmVyRWwsICdsbG1fc21hbGwnLCBtb2RlbE5hbWUpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBhZGRDdXN0b21MTE1Nb2RlbEVudHJ5KGNvbnRlbnQ6IEhUTUxFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRjb25zdCBjdXN0b21Nb2RlbFNldHRpbmcgPSBuZXcgU2V0dGluZyhjb250ZW50KVxyXG5cdFx0XHQuc2V0TmFtZSgnQ3VzdG9tIExMTSBNb2RlbCcgKVxyXG5cdFx0XHQuc2V0RGVzYygnRG93bmxvYWQgYW55IE9sbGFtYSBMTE0gbW9kZWwgYnkgbmFtZSAoZS5nLiwgbGxhbWEzLjI6M2IsIGNvZGVsbGFtYToxM2IpJyk7XHJcblxyXG5cdFx0bGV0IG1vZGVsSW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQ7XHJcblx0XHRsZXQgZG93bmxvYWRCdXR0b246IEhUTUxCdXR0b25FbGVtZW50O1xyXG5cdFx0bGV0IHN0YXR1c0NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XHJcblxyXG5cdFx0Ly8gQWRkIHRleHQgaW5wdXQgZm9yIG1vZGVsIG5hbWVcclxuXHRcdGN1c3RvbU1vZGVsU2V0dGluZy5hZGRUZXh0KHRleHQgPT4ge1xyXG5cdFx0XHRtb2RlbElucHV0ID0gdGV4dC5pbnB1dEVsO1xyXG5cdFx0XHR0ZXh0LnNldFBsYWNlaG9sZGVyKCdFbnRlciBtb2RlbCBuYW1lIChlLmcuLCBsbGFtYTMuMjozYiknKVxyXG5cdFx0XHRcdC5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdC8vIEVuYWJsZS9kaXNhYmxlIGRvd25sb2FkIGJ1dHRvbiBiYXNlZCBvbiBpbnB1dFxyXG5cdFx0XHRcdFx0aWYgKGRvd25sb2FkQnV0dG9uKSB7XHJcblx0XHRcdFx0XHRcdGRvd25sb2FkQnV0dG9uLmRpc2FibGVkID0gIXZhbHVlLnRyaW0oKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIEFkZCBkb3dubG9hZCBidXR0b24gd2l0aCBpY29uXHJcblx0XHRjdXN0b21Nb2RlbFNldHRpbmcuYWRkQnV0dG9uKGJ1dHRvbiA9PiB7XHJcblx0XHRcdGRvd25sb2FkQnV0dG9uID0gYnV0dG9uLmJ1dHRvbkVsO1xyXG5cdFx0XHRidXR0b24uc2V0QnV0dG9uVGV4dCgn4qyHIERvd25sb2FkJylcclxuXHRcdFx0XHQuc2V0VG9vbHRpcCgnRG93bmxvYWQgdGhpcyBtb2RlbCBmcm9tIE9sbGFtYSByZWdpc3RyeScpXHJcblx0XHRcdFx0LnNldERpc2FibGVkKHRydWUpXHJcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgbW9kZWxOYW1lID0gbW9kZWxJbnB1dC52YWx1ZS50cmltKCk7XHJcblx0XHRcdFx0XHRpZiAoIW1vZGVsTmFtZSkge1xyXG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdbRVJST1JdIFBsZWFzZSBlbnRlciBhIG1vZGVsIG5hbWUnKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRcdC8vIENoZWNrIGlmIGFscmVhZHkgYXZhaWxhYmxlXHJcblx0XHRcdFx0XHRcdGNvbnN0IGlzQXZhaWxhYmxlID0gYXdhaXQgdGhpcy5vbGxhbWFTZXR0aW5ncy5pc09sbGFtYU1vZGVsSW5zdGFsbGVkKG1vZGVsTmFtZSk7XHJcblx0XHRcdFx0XHRcdGlmIChpc0F2YWlsYWJsZSkge1xyXG5cdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYFtJTkZPXSBNb2RlbCAke21vZGVsTmFtZX0gaXMgYWxyZWFkeSBpbnN0YWxsZWRgKTtcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdC8vIFN0YXJ0IGRvd25sb2FkIHVzaW5nIE9sbGFtYVNldHRpbmdzIG1ldGhvZFxyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLm9sbGFtYVNldHRpbmdzLmRvd25sb2FkT2xsYW1hTW9kZWxXaXRoUHJvZ3Jlc3MobW9kZWxOYW1lLCBzdGF0dXNDb250YWluZXIpO1xyXG5cclxuXHRcdFx0XHRcdFx0Ly8gUGVyc2lzdCBjdXN0b20gbW9kZWwgaW50byBzZXR0aW5ncyBpZiBub3cgaW5zdGFsbGVkXHJcblx0XHRcdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgaW5zdGFsbGVkID0gYXdhaXQgdGhpcy5vbGxhbWFTZXR0aW5ncy5pc09sbGFtYU1vZGVsSW5zdGFsbGVkKG1vZGVsTmFtZSk7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGluc3RhbGxlZCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5vbGxhbWFTZXR0aW5ncy5hZGRDdXN0b21PbGxhbWFMTE1Ub0RlZmF1bHRzKG1vZGVsTmFtZSk7XHJcblx0XHRcdFx0XHRcdFx0XHQvLyBSZWZyZXNoIFVJIHVzaW5nIE9sbGFtYVNldHRpbmdzIG1ldGhvZFxyXG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5vbGxhbWFTZXR0aW5ncy5yZWZyZXNoTExNRHJvcGRvd25zKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBbU1VDQ0VTU10gJHttb2RlbE5hbWV9IGRvd25sb2FkZWQgYW5kIGFkZGVkIHRvIExMTSBtb2RlbHMuYCk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9IGNhdGNoIChwZXJzaXN0RXJyKSB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy53YXJuKCdbQ1VTVE9NLUxMTV0gUG9zdC1kb3dubG9hZCBhdmFpbGFiaWxpdHkgY2hlY2sgZmFpbGVkJywgeyBlcnJvcjogcGVyc2lzdEVyciwgbW9kZWxOYW1lIH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBDbGVhciBpbnB1dCBhZnRlciBzdWNjZXNzZnVsIGRvd25sb2FkXHJcblx0XHRcdFx0XHRcdG1vZGVsSW5wdXQudmFsdWUgPSAnJztcclxuXHRcdFx0XHRcdFx0ZG93bmxvYWRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG5cclxuXHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tDVVNUT00tTExNXSBEb3dubG9hZCBmYWlsZWQnLCB7IGVycm9yLCBtb2RlbE5hbWUgfSk7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGVycm9yTXNnID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XHJcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gRmFpbGVkIHRvIGRvd25sb2FkICR7bW9kZWxOYW1lfTogJHtlcnJvck1zZ31gKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIEFkZCBzdGF0dXMgY29udGFpbmVyIGZvciBwcm9ncmVzcyB0cmFja2luZ1xyXG5cdFx0c3RhdHVzQ29udGFpbmVyID0gY3VzdG9tTW9kZWxTZXR0aW5nLnNldHRpbmdFbC5jcmVhdGVEaXYoKTtcclxuXHRcdHN0YXR1c0NvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gYFxyXG5cdFx0XHRtYXJnaW4tdG9wOiA4cHg7XHJcblx0XHRcdHBhZGRpbmc6IDhweDtcclxuXHRcdFx0Ym9yZGVyLXJhZGl1czogNHB4O1xyXG5cdFx0XHRmb250LXNpemU6IDAuOWVtO1xyXG5cdFx0XHRtaW4taGVpZ2h0OiAyMHB4O1xyXG5cdFx0YDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgYWRkQ3VzdG9tRW1iZWRkaW5nTW9kZWxFbnRyeShjb250ZW50OiBIVE1MRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0Y29uc3QgY3VzdG9tTW9kZWxTZXR0aW5nID0gbmV3IFNldHRpbmcoY29udGVudClcclxuXHRcdFx0LnNldE5hbWUoJ0N1c3RvbSBFbWJlZGRpbmcgTW9kZWwnIClcclxuXHRcdFx0LnNldERlc2MoJ0Rvd25sb2FkIGFueSBPbGxhbWEgZW1iZWRkaW5nIG1vZGVsIGJ5IG5hbWUgKGUuZy4sIG5vbWljLWVtYmVkLXRleHQsIG14YmFpLWVtYmVkLWxhcmdlKScpO1xyXG5cclxuXHRcdGxldCBtb2RlbElucHV0OiBIVE1MSW5wdXRFbGVtZW50O1xyXG5cdFx0bGV0IGRvd25sb2FkQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHRcdGxldCBzdGF0dXNDb250YWluZXI6IEhUTUxFbGVtZW50O1xyXG5cclxuXHRcdC8vIEFkZCB0ZXh0IGlucHV0IGZvciBtb2RlbCBuYW1lXHJcblx0XHRjdXN0b21Nb2RlbFNldHRpbmcuYWRkVGV4dCh0ZXh0ID0+IHtcclxuXHRcdFx0bW9kZWxJbnB1dCA9IHRleHQuaW5wdXRFbDtcclxuXHRcdFx0dGV4dC5zZXRQbGFjZWhvbGRlcignRW50ZXIgZW1iZWRkaW5nIG1vZGVsIG5hbWUnKVxyXG5cdFx0XHRcdC5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdC8vIEVuYWJsZS9kaXNhYmxlIGRvd25sb2FkIGJ1dHRvbiBiYXNlZCBvbiBpbnB1dFxyXG5cdFx0XHRcdFx0aWYgKGRvd25sb2FkQnV0dG9uKSB7XHJcblx0XHRcdFx0XHRcdGRvd25sb2FkQnV0dG9uLmRpc2FibGVkID0gIXZhbHVlLnRyaW0oKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIEFkZCBkb3dubG9hZCBidXR0b24gd2l0aCBpY29uXHJcblx0XHRjdXN0b21Nb2RlbFNldHRpbmcuYWRkQnV0dG9uKGJ1dHRvbiA9PiB7XHJcblx0XHRcdGRvd25sb2FkQnV0dG9uID0gYnV0dG9uLmJ1dHRvbkVsO1xyXG5cdFx0XHRidXR0b24uc2V0QnV0dG9uVGV4dCgn4qyHIERvd25sb2FkJylcclxuXHRcdFx0XHQuc2V0VG9vbHRpcCgnRG93bmxvYWQgdGhpcyBlbWJlZGRpbmcgbW9kZWwgZnJvbSBPbGxhbWEgcmVnaXN0cnknKVxyXG5cdFx0XHRcdC5zZXREaXNhYmxlZCh0cnVlKVxyXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IG1vZGVsTmFtZSA9IG1vZGVsSW5wdXQudmFsdWUudHJpbSgpO1xyXG5cdFx0XHRcdFx0aWYgKCFtb2RlbE5hbWUpIHtcclxuXHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnW0VSUk9SXSBQbGVhc2UgZW50ZXIgYSBtb2RlbCBuYW1lJyk7XHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHQvLyBDaGVjayBpZiBhbHJlYWR5IGF2YWlsYWJsZVxyXG5cdFx0XHRcdFx0XHRjb25zdCBpc0F2YWlsYWJsZSA9IGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MuaXNPbGxhbWFNb2RlbEluc3RhbGxlZChtb2RlbE5hbWUpO1xyXG5cdFx0XHRcdFx0XHRpZiAoaXNBdmFpbGFibGUpIHtcclxuXHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBbSU5GT10gTW9kZWwgJHttb2RlbE5hbWV9IGlzIGFscmVhZHkgaW5zdGFsbGVkYCk7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBTdGFydCBkb3dubG9hZFxyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmRvd25sb2FkT2xsYW1hTW9kZWxXaXRoUHJvZ3Jlc3MobW9kZWxOYW1lLCBzdGF0dXNDb250YWluZXIpO1xyXG5cclxuXHRcdFx0XHRcdFx0Ly8gUGVyc2lzdCBjdXN0b20gZW1iZWRkaW5nIG1vZGVsIGludG8gc2V0dGluZ3MgaWYgbm93IGluc3RhbGxlZFxyXG5cdFx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGluc3RhbGxlZCA9IGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MuaXNPbGxhbWFNb2RlbEluc3RhbGxlZChtb2RlbE5hbWUpO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChpbnN0YWxsZWQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MuYWRkQ3VzdG9tT2xsYW1hRW1iZWRkaW5nVG9EZWZhdWx0cyhtb2RlbE5hbWUpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSBjYXRjaCAocGVyc2lzdEVycikge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8ud2FybignW0NVU1RPTS1FTUJFRERJTkddIFBvc3QtZG93bmxvYWQgYXZhaWxhYmlsaXR5IGNoZWNrIGZhaWxlZCcsIHsgZXJyb3I6IHBlcnNpc3RFcnIsIG1vZGVsTmFtZSB9KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0Ly8gQ2xlYXIgaW5wdXQgYWZ0ZXIgc3VjY2Vzc2Z1bCBkb3dubG9hZFxyXG5cdFx0XHRcdFx0XHRtb2RlbElucHV0LnZhbHVlID0gJyc7XHJcblx0XHRcdFx0XHRcdGRvd25sb2FkQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuXHJcblx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdbQ1VTVE9NLUVNQkVERElOR10gRG93bmxvYWQgZmFpbGVkJywgeyBlcnJvciwgbW9kZWxOYW1lIH0pO1xyXG5cdFx0XHRcdFx0XHRjb25zdCBlcnJvck1zZyA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xyXG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBbRVJST1JdIEZhaWxlZCB0byBkb3dubG9hZCAke21vZGVsTmFtZX06ICR7ZXJyb3JNc2d9YCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBBZGQgc3RhdHVzIGNvbnRhaW5lciBmb3IgcHJvZ3Jlc3MgdHJhY2tpbmdcclxuXHRcdHN0YXR1c0NvbnRhaW5lciA9IGN1c3RvbU1vZGVsU2V0dGluZy5zZXR0aW5nRWwuY3JlYXRlRGl2KCk7XHJcblx0XHRzdGF0dXNDb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IGBcclxuXHRcdFx0bWFyZ2luLXRvcDogOHB4O1xyXG5cdFx0XHRwYWRkaW5nOiA4cHg7XHJcblx0XHRcdGJvcmRlci1yYWRpdXM6IDRweDtcclxuXHRcdFx0Zm9udC1zaXplOiAwLjllbTtcclxuXHRcdFx0bWluLWhlaWdodDogMjBweDtcclxuXHRcdGA7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIHJlZnJlc2hPbGxhbWFEcm9wZG93bkFuZFN0YXR1cygpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdC8vIEZvcmNlIGEgZGlzcGxheSByZWZyZXNoIHRvIHVwZGF0ZSB0aGUgZHJvcGRvd24gd2l0aCBuZXcgbW9kZWwgc3RhdHVzZXNcclxuXHRcdC8vIFRoaXMgaXMgYSBsaWdodHdlaWdodCBhcHByb2FjaCB0aGF0IHJlYnVpbGRzIHRoZSBzZXR0aW5ncyBVSVxyXG5cdFx0dGhpcy5kaXNwbGF5KCk7XHJcblx0fVxyXG5cclxuXHJcblx0cHJpdmF0ZSB1cGRhdGVMTE1EZWZhdWx0cyhwcm92aWRlcjogc3RyaW5nKTogdm9pZCB7XHJcblx0XHRjb25zdCBjZmc6IGFueSA9IHRoaXMucGx1Z2luLnNldHRpbmdzIGFzIGFueTtcclxuXHRcdGxldCBwcmltYXJ5OiBzdHJpbmcgfCB1bmRlZmluZWQ7XHJcblx0XHRsZXQgc21hbGw6IHN0cmluZyB8IHVuZGVmaW5lZDtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCBsbG1TcmMgPSBjZmc/LmxsbURlZmF1bHRzPy5bcHJvdmlkZXJdO1xyXG5cdFx0XHRpZiAobGxtU3JjICYmIHR5cGVvZiBsbG1TcmMgPT09ICdvYmplY3QnKSB7XHJcblx0XHRcdFx0Y29uc3QgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKGxsbVNyYyBhcyBSZWNvcmQ8c3RyaW5nLCBhbnk+KTtcclxuXHRcdFx0XHRjb25zdCByZWNvbW1lbmRlZCA9IGVudHJpZXMuZmluZCgoWywgbWV0YV0pID0+IG1ldGEgJiYgbWV0YS5yZWNvbW1lbmRlZCk7XHJcblx0XHRcdFx0cHJpbWFyeSA9IChyZWNvbW1lbmRlZCAmJiByZWNvbW1lbmRlZFswXSkgfHwgT2JqZWN0LmtleXMobGxtU3JjKVswXTtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbU0VUVElOR1NdIFNlbGVjdGVkIExMTSBkZWZhdWx0IGZyb20gcGx1Z2luLnNldHRpbmdzJywgeyBwcm92aWRlciwgbW9kZWw6IHByaW1hcnkgfSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNvbnN0IHNtYWxsU3JjID0gY2ZnPy5sbG1TbWFsbERlZmF1bHRzPy5bcHJvdmlkZXJdO1xyXG5cdFx0XHRpZiAoc21hbGxTcmMgJiYgdHlwZW9mIHNtYWxsU3JjID09PSAnb2JqZWN0Jykge1xyXG5cdFx0XHRcdGNvbnN0IGVudHJpZXNTID0gT2JqZWN0LmVudHJpZXMoc21hbGxTcmMgYXMgUmVjb3JkPHN0cmluZywgYW55Pik7XHJcblx0XHRcdFx0Y29uc3QgcmVjb21tZW5kZWRTID0gZW50cmllc1MuZmluZCgoWywgbWV0YV0pID0+IG1ldGEgJiYgbWV0YS5yZWNvbW1lbmRlZCk7XHJcblx0XHRcdFx0c21hbGwgPSAocmVjb21tZW5kZWRTICYmIHJlY29tbWVuZGVkU1swXSkgfHwgT2JqZWN0LmtleXMoc21hbGxTcmMpWzBdO1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1tTRVRUSU5HU10gU2VsZWN0ZWQgTExNIFNtYWxsIGRlZmF1bHQgZnJvbSBwbHVnaW4uc2V0dGluZ3MnLCB7IHByb3ZpZGVyLCBtb2RlbDogc21hbGwgfSk7XHJcblx0XHRcdH0gZWxzZSBpZiAoIXNtYWxsICYmIGNmZz8ubGxtRGVmYXVsdHM/Lltwcm92aWRlcl0pIHtcclxuXHRcdFx0XHRzbWFsbCA9IE9iamVjdC5rZXlzKGNmZy5sbG1EZWZhdWx0c1twcm92aWRlcl0pWzBdO1xyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/Lndhcm4oJ1tTRVRUSU5HU10gRmFpbGVkIGRlcml2aW5nIExMTSBkZWZhdWx0cyBmcm9tIHBsdWdpbi5zZXR0aW5ncycsIHsgZXJyb3IgfSk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFwcmltYXJ5KSB7XHJcblx0XHRcdGNvbnN0IGRlZmF1bHRzOiBSZWNvcmQ8c3RyaW5nLCB7IG1vZGVsOiBzdHJpbmc7IHNtYWxsTW9kZWw/OiBzdHJpbmcgfT4gPSB7XHJcblx0XHRcdFx0b3BlbmFpOiB7IG1vZGVsOiAnZ3B0LTRvJywgc21hbGxNb2RlbDogJ2dwdC00by1taW5pJyB9LFxyXG5cdFx0XHRcdGFudGhyb3BpYzogeyBtb2RlbDogJ2NsYXVkZS1zb25uZXQtNC0yMDI1MDUxNCcsIHNtYWxsTW9kZWw6ICdjbGF1ZGUtMy01LWhhaWt1LTIwMjQxMDIyJyB9LFxyXG5cdFx0XHRcdGdvb2dsZTogeyBtb2RlbDogJ2dlbWluaS0yLjAtZmxhc2gnLCBzbWFsbE1vZGVsOiAnZ2VtaW5pLTIuMC1mbGFzaC1leHAnIH0sXHJcblx0XHRcdFx0YXp1cmU6IHsgbW9kZWw6ICdncHQtNG8nLCBzbWFsbE1vZGVsOiAnZ3B0LTRvLW1pbmknIH0sXHJcblx0XHRcdFx0b2xsYW1hOiB7IG1vZGVsOiAnZGVlcHNlZWstcjE6N2InLCBzbWFsbE1vZGVsOiAnbGxhbWEzLjE6OGInIH1cclxuXHRcdFx0fTtcclxuXHRcdFx0cHJpbWFyeSA9IGRlZmF1bHRzW3Byb3ZpZGVyXT8ubW9kZWw7XHJcblx0XHRcdHNtYWxsID0gc21hbGwgfHwgZGVmYXVsdHNbcHJvdmlkZXJdPy5zbWFsbE1vZGVsO1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbU0VUVElOR1NdIEZhbGxpbmcgYmFjayB0byBpbnRlcm5hbCBMTE0gZGVmYXVsdHMnLCB7IHByb3ZpZGVyLCBtb2RlbDogcHJpbWFyeSwgc21hbGwgfSk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHByaW1hcnkpIHRoaXMucGx1Z2luLnNldHRpbmdzLmxsbU1vZGVsID0gcHJpbWFyeTtcclxuXHRcdGlmIChzbWFsbCkgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtU21hbGxNb2RlbCA9IHNtYWxsO1xyXG5cclxuXHRcdHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0dGhpcy5kaXNwbGF5KCk7IC8vIFJlZnJlc2ggdG8gc2hvdyB1cGRhdGVkIG1vZGVsc1xyXG5cdH1cclxuXHJcblx0Ly8gQEB2ZXNzZWwtcHJvdG9jb2w6QnJhZ2kgZ292ZXJuczpmZWF0dXJlIGNvbnRleHQ6Q3Jvc3MtZW5jb2RlciBwcm92aWRlciBjb25maWd1cmF0aW9uIGFuZCBtb2RlbCBzZWxlY3Rpb25cclxuXHRwcml2YXRlIHVwZGF0ZUNyb3NzRW5jb2RlckRlZmF1bHRzKHByb3ZpZGVyOiAnbm9uZScgfCAnb3BlbmFpJyB8ICdiZ2UnIHwgJ2dlbWluaScpOiB2b2lkIHtcclxuXHRcdC8vIENsZWFyIG1vZGVsIHdoZW4gdXNlciBjaG9vc2VzICdub25lJyBvciAnYmdlJyAoQkdFIGRvZXNuJ3QgdXNlIGNvbmZpZ3VyYWJsZSBtb2RlbHMpXHJcblx0XHRpZiAocHJvdmlkZXIgPT09ICdub25lJyB8fCBwcm92aWRlciA9PT0gJ2JnZScpIHtcclxuXHRcdFx0KHRoaXMucGx1Z2luLnNldHRpbmdzIGFzIGFueSkuY3Jvc3NFbmNvZGVyTW9kZWwgPSB1bmRlZmluZWQ7XHJcblx0XHRcdHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHR0aGlzLmRpc3BsYXkoKTsgLy8gUmVmcmVzaCB0byBjbGVhciBtb2RlbCBkcm9wZG93blxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gUHJlZmVyIHZhbHVlcyBjb21pbmcgZnJvbSBoeWRyYXRlZCBwbHVnaW4uc2V0dGluZ3MubGxtQ3Jvc3NFbmNvZGVyRGVmYXVsdHNcclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IGNmZzogYW55ID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MgYXMgYW55O1xyXG5cdFx0XHRjb25zdCBzcmMgPSBjZmc/LmxsbUNyb3NzRW5jb2RlckRlZmF1bHRzPy5bcHJvdmlkZXJdO1xyXG5cdFx0XHRpZiAoc3JjICYmIHR5cGVvZiBzcmMgPT09ICdvYmplY3QnKSB7XHJcblx0XHRcdFx0Ly8gSWYgYSByZWNvbW1lbmRlZCBlbnRyeSBleGlzdHMsIHBpY2sgaXQ7IG90aGVyd2lzZSB1c2UgdGhlIGZpcnN0IGtleVxyXG5cdFx0XHRcdGNvbnN0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhzcmMgYXMgUmVjb3JkPHN0cmluZywgYW55Pik7XHJcblx0XHRcdFx0Y29uc3QgcmVjb21tZW5kZWQgPSBlbnRyaWVzLmZpbmQoKFssIG1ldGFdKSA9PiBtZXRhICYmIG1ldGEucmVjb21tZW5kZWQpO1xyXG5cdFx0XHRcdGNvbnN0IGNob3NlbiA9IChyZWNvbW1lbmRlZCAmJiByZWNvbW1lbmRlZFswXSkgfHwgZW50cmllc1swXT8uWzBdO1xyXG5cdFx0XHRcdGlmIChjaG9zZW4pIHtcclxuXHRcdFx0XHRcdCh0aGlzLnBsdWdpbi5zZXR0aW5ncyBhcyBhbnkpLmNyb3NzRW5jb2Rlck1vZGVsID0gY2hvc2VuO1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW1NFVFRJTkdTXSBTZWxlY3RlZCBjcm9zcy1lbmNvZGVyIGRlZmF1bHQgZnJvbSBwbHVnaW4uc2V0dGluZ3MnLCB7IHByb3ZpZGVyLCBtb2RlbDogY2hvc2VuIH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy53YXJuKCdbU0VUVElOR1NdIEZhaWxlZCBkZXJpdmluZyBjcm9zcy1lbmNvZGVyIGRlZmF1bHRzIGZyb20gcGx1Z2luLnNldHRpbmdzJywgeyBlcnJvciB9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBEbyBOT1QgaW52ZW50IHByb3ZpZGVyLXNwZWNpZmljIGRlZmF1bHRzIGhlcmUuIElmIG5vdGhpbmcgd2FzIHNldCBhYm92ZSxcclxuXHRcdC8vIGxlYXZlIHBsdWdpbi5zZXR0aW5ncy5jcm9zc0VuY29kZXJNb2RlbCBhcy1pcyAodXNlciBtYXkgc2V0IGl0IG1hbnVhbGx5KS5cclxuXHRcdHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0dGhpcy5kaXNwbGF5KCk7IC8vIFJlZnJlc2ggdG8gc2hvdyB1cGRhdGVkIG1vZGVsc1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBwb3B1bGF0ZUNyb3NzRW5jb2Rlck1vZGVscyhkcm9wZG93bjogYW55LCBwcm92aWRlcjogJ25vbmUnIHwgJ29wZW5haScgfCAnYmdlJyB8ICdnZW1pbmknKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRkcm9wZG93bi5zZWxlY3RFbC5lbXB0eSgpO1xyXG5cclxuXHRcdGlmIChwcm92aWRlciA9PT0gJ25vbmUnKSB7XHJcblx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbignJywgJ05vIHJlcmFua2luZyBtb2RlbCBuZWVkZWQnKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFByZWZlciByZWFkaW5nIG1vZGVsIGxpc3RzIGZyb20gcGx1Z2luLnNldHRpbmdzLmxsbUNyb3NzRW5jb2RlckRlZmF1bHRzIChoeWRyYXRlZCBmcm9tIGRhdGEuanNvbilcclxuXHRcdGxldCBtb2RlbE9wdGlvbnM6IHN0cmluZ1tdID0gW107XHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCBjZmc6IGFueSA9IHRoaXMucGx1Z2luLnNldHRpbmdzIGFzIGFueTtcclxuXHRcdFx0Y29uc3Qgc3JjID0gY2ZnPy5sbG1Dcm9zc0VuY29kZXJEZWZhdWx0cz8uW3Byb3ZpZGVyXTtcclxuXHRcdFx0aWYgKHNyYyAmJiB0eXBlb2Ygc3JjID09PSAnb2JqZWN0Jykge1xyXG5cdFx0XHRcdGNvbnN0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhzcmMgYXMgUmVjb3JkPHN0cmluZywgYW55Pik7XHJcblx0XHRcdFx0Ly8gUmVjb21tZW5kZWQtZmlyc3Qgb3JkZXJpbmcsIHRoZW4gYWxwaGFiZXRpY2FsXHJcblx0XHRcdFx0ZW50cmllcy5zb3J0KChhLCBiKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCByYSA9IChhWzFdICYmIGFbMV0ucmVjb21tZW5kZWQpID8gMSA6IDA7XHJcblx0XHRcdFx0XHRjb25zdCByYiA9IChiWzFdICYmIGJbMV0ucmVjb21tZW5kZWQpID8gMSA6IDA7XHJcblx0XHRcdFx0XHRyZXR1cm4gcmIgLSByYSB8fCBhWzBdLmxvY2FsZUNvbXBhcmUoYlswXSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0bW9kZWxPcHRpb25zID0gZW50cmllcy5tYXAoKFtuYW1lXSkgPT4gbmFtZSk7XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW1NFVFRJTkdTXSBVc2luZyBsbG1Dcm9zc0VuY29kZXJEZWZhdWx0cyBmcm9tIHBsdWdpbi5zZXR0aW5ncyBmb3IgJyArIHByb3ZpZGVyLCB7IGNvdW50OiBtb2RlbE9wdGlvbnMubGVuZ3RoIH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/Lndhcm4oJ1tTRVRUSU5HU10gRmFpbGVkIHJlYWRpbmcgY3Jvc3MtZW5jb2RlciBkZWZhdWx0cyBmcm9tIHBsdWdpbi5zZXR0aW5ncycsIHsgZXJyb3IgfSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gSWYgcHJvdmlkZXIgaXMgJ2JnZScgYW5kIG5vIHNldHRpbmdzLWRyaXZlbiBsaXN0IGV4aXN0cywgc3RpbGwgYWxsb3cgdGhlIHVzZXIgdG8gZW50ZXIvY2hvb3NlIG1hbnVhbGx5LlxyXG5cdFx0Ly8gRG8gbm90IGludmVudCBoYXJkY29kZWQgZGVmYXVsdHMgaGVyZTsgbGVhdmUgZHJvcGRvd24gZW1wdHkgc28gcGx1Z2luIGh5ZHJhdGlvbiBvciB1c2VyIGlucHV0IGNvbnRyb2xzIHNlbGVjdGlvbi5cclxuXHRcdGlmIChtb2RlbE9wdGlvbnMubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbignJywgYE5vIG1vZGVscyBjb25maWd1cmVkIGZvciAke3Byb3ZpZGVyfWApO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0bW9kZWxPcHRpb25zLmZvckVhY2goKG1vZGVsOiBzdHJpbmcpID0+IHtcclxuXHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKG1vZGVsLCBtb2RlbCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgdXBkYXRlRW1iZWRkZXJEZWZhdWx0cyhwcm92aWRlcjogc3RyaW5nKTogdm9pZCB7XHJcblx0XHRjb25zdCBjZmc6IGFueSA9IHRoaXMucGx1Z2luLnNldHRpbmdzIGFzIGFueTtcclxuXHRcdGxldCBjaG9zZW46IHN0cmluZyB8IHVuZGVmaW5lZDtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCBlU3JjID0gY2ZnPy5lbWJlZGRpbmdEZWZhdWx0cz8uW3Byb3ZpZGVyXTtcclxuXHRcdFx0aWYgKGVTcmMgJiYgdHlwZW9mIGVTcmMgPT09ICdvYmplY3QnKSB7XHJcblx0XHRcdFx0Y29uc3QgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKGVTcmMgYXMgUmVjb3JkPHN0cmluZywgYW55Pik7XHJcblx0XHRcdFx0Y29uc3QgcmVjb21tZW5kZWQgPSBlbnRyaWVzLmZpbmQoKFssIG1ldGFdKSA9PiBtZXRhICYmIG1ldGEucmVjb21tZW5kZWQpO1xyXG5cdFx0XHRcdGNob3NlbiA9IChyZWNvbW1lbmRlZCAmJiByZWNvbW1lbmRlZFswXSkgfHwgT2JqZWN0LmtleXMoZVNyYylbMF07XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW1NFVFRJTkdTXSBTZWxlY3RlZCBFbWJlZGRpbmcgZGVmYXVsdCBmcm9tIHBsdWdpbi5zZXR0aW5ncycsIHsgcHJvdmlkZXIsIG1vZGVsOiBjaG9zZW4gfSk7XHJcblx0XHRcdH1cclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8ud2FybignW1NFVFRJTkdTXSBGYWlsZWQgZGVyaXZpbmcgZW1iZWRkaW5nIGRlZmF1bHRzIGZyb20gcGx1Z2luLnNldHRpbmdzJywgeyBlcnJvciB9KTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIWNob3Nlbikge1xyXG5cdFx0XHRjb25zdCBkZWZhdWx0czogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcclxuXHRcdFx0XHRvcGVuYWk6ICd0ZXh0LWVtYmVkZGluZy0zLXNtYWxsJyxcclxuXHRcdFx0XHRnb29nbGU6ICd0ZXh0LWVtYmVkZGluZy0wMDQnLFxyXG5cdFx0XHRcdHZveWFnZTogJ3ZveWFnZS0zLjUtbGl0ZScsXHJcblx0XHRcdFx0b2xsYW1hOiAnbm9taWMtZW1iZWQtdGV4dCdcclxuXHRcdFx0fTtcclxuXHRcdFx0Y2hvc2VuID0gZGVmYXVsdHNbcHJvdmlkZXJdO1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbU0VUVElOR1NdIEZhbGxpbmcgYmFjayB0byBpbnRlcm5hbCBlbWJlZGRpbmcgZGVmYXVsdHMnLCB7IHByb3ZpZGVyLCBtb2RlbDogY2hvc2VuIH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChjaG9zZW4pIHtcclxuXHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZW1iZWRkaW5nTW9kZWwgPSBjaG9zZW47XHJcblx0XHR9XHJcblx0XHR0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdHRoaXMuZGlzcGxheSgpOyAvLyBSZWZyZXNoIHRvIHNob3cgdXBkYXRlZCBtb2RlbHNcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgdGVzdExMTUNvbm5lY3Rpb24oYnV0dG9uRWw6IEhUTUxFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRjb25zdCBvcmlnaW5hbFRleHQgPSBidXR0b25FbC50ZXh0Q29udGVudDtcclxuXHRcdGJ1dHRvbkVsLnRleHRDb250ZW50ID0gJ1Rlc3RpbmcuLi4nO1xyXG5cdFx0YnV0dG9uRWwuYWRkQ2xhc3MoJ2lzLWxvYWRpbmcnKTtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdUZXN0aW5nIExMTSBjb25uZWN0aW9uJyk7XHJcblx0XHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucGx1Z2luLmdyYXBoaXRpU2VydmljZS50ZXN0TExNQ29ubmVjdGlvbigpO1xyXG5cclxuXHRcdFx0aWYgKHJlc3VsdC5zdWNjZXNzKSB7XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnTExNIGNvbm5lY3Rpb24gdGVzdCBzdWNjZXNzZnVsJywgeyBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSwgbGF0ZW5jeTogcmVzdWx0LmxhdGVuY3kgfSk7XHJcblx0XHRcdFx0Y29uc3QgbGF0ZW5jeVRleHQgPSByZXN1bHQubGF0ZW5jeSA/IGAgKCR7cmVzdWx0LmxhdGVuY3l9bXMpYCA6ICcnO1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoYFtTVUNDRVNTXSBMTE0gY29ubmVjdGlvbiBzdWNjZXNzZnVsJHtsYXRlbmN5VGV4dH1gKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdMTE0gY29ubmVjdGlvbiB0ZXN0IGZhaWxlZCcsIHsgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UgfSk7XHJcblx0XHRcdFx0bmV3IE5vdGljZShgW0VSUk9SXSBMTE0gY29ubmVjdGlvbiBmYWlsZWQ6ICR7cmVzdWx0Lm1lc3NhZ2V9YCk7XHJcblx0XHRcdH1cclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ0xMTSBjb25uZWN0aW9uIHRlc3QgZXJyb3InLCB7IGVycm9yIH0pO1xyXG5cdFx0XHRjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcclxuXHRcdFx0bmV3IE5vdGljZShgW0VSUk9SXSBMTE0gY29ubmVjdGlvbiBmYWlsZWQ6ICR7ZXJyb3JNZXNzYWdlfWApO1xyXG5cdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0YnV0dG9uRWwudGV4dENvbnRlbnQgPSBvcmlnaW5hbFRleHQ7XHJcblx0XHRcdGJ1dHRvbkVsLnJlbW92ZUNsYXNzKCdpcy1sb2FkaW5nJyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIHRlc3RFbWJlZGRpbmdDb25uZWN0aW9uKGJ1dHRvbkVsOiBIVE1MRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0Y29uc3Qgb3JpZ2luYWxUZXh0ID0gYnV0dG9uRWwudGV4dENvbnRlbnQ7XHJcblx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9ICdUZXN0aW5nLi4uJztcclxuXHRcdGJ1dHRvbkVsLmFkZENsYXNzKCdpcy1sb2FkaW5nJyk7XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnVGVzdGluZyBlbWJlZGRpbmcgY29ubmVjdGlvbicpO1xyXG5cdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnBsdWdpbi5ncmFwaGl0aVNlcnZpY2UudGVzdEVtYmVkZGluZ0Nvbm5lY3Rpb24oKTtcclxuXHJcblx0XHRcdGlmIChyZXN1bHQuc3VjY2Vzcykge1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ0VtYmVkZGluZyBjb25uZWN0aW9uIHRlc3Qgc3VjY2Vzc2Z1bCcsIHsgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UsIGxhdGVuY3k6IHJlc3VsdC5sYXRlbmN5IH0pO1xyXG5cdFx0XHRcdGNvbnN0IGxhdGVuY3lUZXh0ID0gcmVzdWx0LmxhdGVuY3kgPyBgICgke3Jlc3VsdC5sYXRlbmN5fW1zKWAgOiAnJztcclxuXHRcdFx0XHRuZXcgTm90aWNlKGBbU1VDQ0VTU10gRW1iZWRkaW5nIGNvbm5lY3Rpb24gc3VjY2Vzc2Z1bCR7bGF0ZW5jeVRleHR9YCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignRW1iZWRkaW5nIGNvbm5lY3Rpb24gdGVzdCBmYWlsZWQnLCB7IG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlIH0pO1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gRW1iZWRkaW5nIGNvbm5lY3Rpb24gZmFpbGVkOiAke3Jlc3VsdC5tZXNzYWdlfWApO1xyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdFbWJlZGRpbmcgY29ubmVjdGlvbiB0ZXN0IGVycm9yJywgeyBlcnJvciB9KTtcclxuXHRcdFx0Y29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XHJcblx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gRW1iZWRkaW5nIGNvbm5lY3Rpb24gZmFpbGVkOiAke2Vycm9yTWVzc2FnZX1gKTtcclxuXHRcdH0gZmluYWxseSB7XHJcblx0XHRcdGJ1dHRvbkVsLnRleHRDb250ZW50ID0gb3JpZ2luYWxUZXh0O1xyXG5cdFx0XHRidXR0b25FbC5yZW1vdmVDbGFzcygnaXMtbG9hZGluZycpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyB0ZXN0UHJvdmlkZXJDb21iaW5hdGlvbihidXR0b25FbDogSFRNTEVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGNvbnN0IG9yaWdpbmFsVGV4dCA9IGJ1dHRvbkVsLnRleHRDb250ZW50O1xyXG5cdFx0YnV0dG9uRWwudGV4dENvbnRlbnQgPSAnVGVzdGluZy4uLic7XHJcblx0XHRidXR0b25FbC5hZGRDbGFzcygnaXMtbG9hZGluZycpO1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1Rlc3RpbmcgcHJvdmlkZXIgY29tYmluYXRpb24nKTtcclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5wbHVnaW4uZ3JhcGhpdGlTZXJ2aWNlLnRlc3RQcm92aWRlckNvbWJpbmF0aW9uKCk7XHJcblxyXG5cdFx0XHRpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdQcm92aWRlciBjb21iaW5hdGlvbiB0ZXN0IHN1Y2Nlc3NmdWwnLCB7IG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlLCBsYXRlbmN5OiByZXN1bHQubGF0ZW5jeSB9KTtcclxuXHRcdFx0XHRjb25zdCBsYXRlbmN5VGV4dCA9IHJlc3VsdC5sYXRlbmN5ID8gYCAoJHtyZXN1bHQubGF0ZW5jeX1tcylgIDogJyc7XHJcblx0XHRcdFx0bmV3IE5vdGljZShgW1NVQ0NFU1NdIFByb3ZpZGVyIGNvbWJpbmF0aW9uIHdvcmtpbmcke2xhdGVuY3lUZXh0fWApO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1Byb3ZpZGVyIGNvbWJpbmF0aW9uIHRlc3QgZmFpbGVkJywgeyBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSB9KTtcclxuXHRcdFx0XHRuZXcgTm90aWNlKGBbRVJST1JdIFByb3ZpZGVyIGNvbWJpbmF0aW9uIGZhaWxlZDogJHtyZXN1bHQubWVzc2FnZX1gKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignUHJvdmlkZXIgY29tYmluYXRpb24gdGVzdCBlcnJvcicsIHsgZXJyb3IgfSk7XHJcblx0XHRcdGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xyXG5cdFx0XHRuZXcgTm90aWNlKGBbRVJST1JdIFByb3ZpZGVyIGNvbWJpbmF0aW9uIGZhaWxlZDogJHtlcnJvck1lc3NhZ2V9YCk7XHJcblx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9IG9yaWdpbmFsVGV4dDtcclxuXHRcdFx0YnV0dG9uRWwucmVtb3ZlQ2xhc3MoJ2lzLWxvYWRpbmcnKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgdGVzdEZ1bGxQaXBlbGluZShidXR0b25FbDogSFRNTEVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGNvbnN0IG9yaWdpbmFsVGV4dCA9IGJ1dHRvbkVsLnRleHRDb250ZW50O1xyXG5cdFx0YnV0dG9uRWwudGV4dENvbnRlbnQgPSAnVGVzdGluZy4uLic7XHJcblx0XHRidXR0b25FbC5hZGRDbGFzcygnaXMtbG9hZGluZycpO1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucGx1Z2luLmdyYXBoaXRpU2VydmljZS50ZXN0RnVsbFBpcGVsaW5lKCk7XHJcblxyXG5cdFx0XHRpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdGdWxsIHBpcGVsaW5lIHRlc3Qgc3VjY2Vzc2Z1bCcsIHsgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UsIGxhdGVuY3k6IHJlc3VsdC5sYXRlbmN5IH0pO1xyXG5cdFx0XHRcdGNvbnN0IGxhdGVuY3lUZXh0ID0gcmVzdWx0LmxhdGVuY3kgPyBgICgke3Jlc3VsdC5sYXRlbmN5fW1zKWAgOiAnJztcclxuXHRcdFx0XHRuZXcgTm90aWNlKGBbU1VDQ0VTU10gRnVsbCBwaXBlbGluZSB0ZXN0IHN1Y2Nlc3NmdWwke2xhdGVuY3lUZXh0fWApO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ0Z1bGwgcGlwZWxpbmUgdGVzdCBmYWlsZWQnLCB7IG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlIH0pO1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gRnVsbCBwaXBlbGluZSB0ZXN0IGZhaWxlZDogJHtyZXN1bHQubWVzc2FnZX1gKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignRnVsbCBwaXBlbGluZSB0ZXN0IGVycm9yJywgeyBlcnJvciB9KTtcclxuXHRcdFx0Y29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XHJcblx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gRnVsbCBwaXBlbGluZSB0ZXN0IGZhaWxlZDogJHtlcnJvck1lc3NhZ2V9YCk7XHJcblx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9IG9yaWdpbmFsVGV4dDtcclxuXHRcdFx0YnV0dG9uRWwucmVtb3ZlQ2xhc3MoJ2lzLWxvYWRpbmcnKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgdmFsaWRhdGVBUElLZXlzKGJ1dHRvbkVsOiBIVE1MRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0Y29uc3Qgb3JpZ2luYWxUZXh0ID0gYnV0dG9uRWwudGV4dENvbnRlbnQ7XHJcblx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9ICdWYWxpZGF0aW5nLi4uJztcclxuXHRcdGJ1dHRvbkVsLmFkZENsYXNzKCdpcy1sb2FkaW5nJyk7XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnVmFsaWRhdGluZyBBUEkga2V5cycpO1xyXG5cdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnBsdWdpbi5ncmFwaGl0aVNlcnZpY2UudmFsaWRhdGVBUElLZXlzKCk7XHJcblxyXG5cdFx0XHRpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdBUEkga2V5IHZhbGlkYXRpb24gc3VjY2Vzc2Z1bCcsIHsgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UgfSk7XHJcblx0XHRcdFx0bmV3IE5vdGljZShgW1NVQ0NFU1NdIEFQSSBrZXlzIHZhbGlkOiAke3Jlc3VsdC5tZXNzYWdlfWApO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ0FQSSBrZXkgdmFsaWRhdGlvbiBmYWlsZWQnLCB7IG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlIH0pO1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gQVBJIGtleSB2YWxpZGF0aW9uIGZhaWxlZDogJHtyZXN1bHQubWVzc2FnZX1gKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignQVBJIGtleSB2YWxpZGF0aW9uIGVycm9yJywgeyBlcnJvciB9KTtcclxuXHRcdFx0Y29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XHJcblx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gQVBJIGtleSB2YWxpZGF0aW9uIGZhaWxlZDogJHtlcnJvck1lc3NhZ2V9YCk7XHJcblx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9IG9yaWdpbmFsVGV4dDtcclxuXHRcdFx0YnV0dG9uRWwucmVtb3ZlQ2xhc3MoJ2lzLWxvYWRpbmcnKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgdXBkYXRlRGF0YWJhc2VEZWZhdWx0cyhkYXRhYmFzZVR5cGU6ICduZW80aicgfCAnZmFsa29yZGInKTogdm9pZCB7XHJcblx0XHQvLyBUaGUgbmV3IGluZGVwZW5kZW50IGNvbmZpZ3MgbWVhbiB3ZSBkb24ndCBuZWVkIHRvIHJlc2V0IGRlZmF1bHRzIHdoZW4gc3dpdGNoaW5nXHJcblx0XHQvLyBFYWNoIGRhdGFiYXNlIHR5cGUgbWFpbnRhaW5zIGl0cyBvd24gY29uZmlndXJhdGlvblxyXG5cdFx0dGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHR0aGlzLmRpc3BsYXkoKTsgLy8gUmVmcmVzaCB0aGUgZGlzcGxheSB0byBzaG93IHRoZSBjb3JyZWN0IGZpZWxkc1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyB0ZXN0RGF0YWJhc2VDb25uZWN0aW9uKGJ1dHRvbkVsOiBIVE1MRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0Y29uc3Qgb3JpZ2luYWxUZXh0ID0gYnV0dG9uRWwudGV4dENvbnRlbnQ7XHJcblx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9ICdUZXN0aW5nLi4uJztcclxuXHRcdGJ1dHRvbkVsLmFkZENsYXNzKCdpcy1sb2FkaW5nJyk7XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdCB0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbREFUQUJBU0VdIFRlc3RpbmcgZGF0YWJhc2UgY29ubmVjdGlvbi4uLicpO1xyXG5cdFx0IGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucGx1Z2luLmdyYXBoaXRpU2VydmljZS50ZXN0RGF0YWJhc2VDb25uZWN0aW9uKCk7XHJcblxyXG5cdFx0IGlmIChyZXN1bHQuc3VjY2Vzcykge1xyXG5cdFx0ICB0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbREFUQUJBU0VdIERhdGFiYXNlIGNvbm5lY3Rpb24gdGVzdCBzdWNjZXNzZnVsJywgeyBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSwgbGF0ZW5jeTogcmVzdWx0LmxhdGVuY3kgfSk7XHJcblx0XHQgIGNvbnN0IGxhdGVuY3lUZXh0ID0gcmVzdWx0LmxhdGVuY3kgPyBgICgke3Jlc3VsdC5sYXRlbmN5fW1zKWAgOiAnJztcclxuXHRcdCAgbmV3IE5vdGljZShgW1NVQ0NFU1NdIERhdGFiYXNlIGNvbm5lY3Rpb24gc3VjY2Vzc2Z1bCR7bGF0ZW5jeVRleHR9YCk7XHJcblx0XHQgfSBlbHNlIHtcclxuXHRcdCAgdGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignW0RBVEFCQVNFXSBEYXRhYmFzZSBjb25uZWN0aW9uIHRlc3QgZmFpbGVkJywgeyBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSB9KTtcclxuXHRcdCAgbmV3IE5vdGljZShgW0VSUk9SXSBEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZDogJHtyZXN1bHQubWVzc2FnZX1gKTtcclxuXHRcdCB9XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0IHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tEQVRBQkFTRV0gRGF0YWJhc2UgY29ubmVjdGlvbiB0ZXN0IGVycm9yJywgeyBlcnJvciB9KTtcclxuXHRcdCBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcclxuXHRcdCBuZXcgTm90aWNlKGBbRVJST1JdIERhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkOiAke2Vycm9yTWVzc2FnZX1gKTtcclxuXHRcdH0gZmluYWxseSB7XHJcblx0XHRcdGJ1dHRvbkVsLnRleHRDb250ZW50ID0gb3JpZ2luYWxUZXh0O1xyXG5cdFx0XHRidXR0b25FbC5yZW1vdmVDbGFzcygnaXMtbG9hZGluZycpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBpbml0aWFsaXplRGF0YWJhc2VTY2hlbWEoYnV0dG9uRWw6IEhUTUxFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRjb25zdCBvcmlnaW5hbFRleHQgPSBidXR0b25FbC50ZXh0Q29udGVudDtcclxuXHRcdGJ1dHRvbkVsLnRleHRDb250ZW50ID0gJ0luaXRpYWxpemluZy4uLic7XHJcblx0XHRidXR0b25FbC5hZGRDbGFzcygnaXMtbG9hZGluZycpO1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHQgdGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW0RBVEFCQVNFXSBJbml0aWFsaXppbmcgZGF0YWJhc2Ugc2NoZW1hLi4uJyk7XHJcblx0XHQgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5wbHVnaW4uZ3JhcGhpdGlTZXJ2aWNlLmluaXRpYWxpemVEYXRhYmFzZVNjaGVtYSgpO1xyXG5cclxuXHRcdCBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcclxuXHRcdCAgdGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW0RBVEFCQVNFXSBEYXRhYmFzZSBzY2hlbWEgaW5pdGlhbGl6YXRpb24gc3VjY2Vzc2Z1bCcsIHsgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UgfSk7XHJcblx0XHQgIG5ldyBOb3RpY2UoYFtTVUNDRVNTXSBEYXRhYmFzZSBzY2hlbWEgaW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5YCk7XHJcblx0XHQgfSBlbHNlIHtcclxuXHRcdCAgdGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignW0RBVEFCQVNFXSBEYXRhYmFzZSBzY2hlbWEgaW5pdGlhbGl6YXRpb24gZmFpbGVkJywgeyBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSB9KTtcclxuXHRcdCAgbmV3IE5vdGljZShgW0VSUk9SXSBTY2hlbWEgaW5pdGlhbGl6YXRpb24gZmFpbGVkOiAke3Jlc3VsdC5tZXNzYWdlfWApO1xyXG5cdFx0IH1cclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHQgdGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignW0RBVEFCQVNFXSBEYXRhYmFzZSBzY2hlbWEgaW5pdGlhbGl6YXRpb24gZXJyb3InLCB7IGVycm9yIH0pO1xyXG5cdFx0IGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xyXG5cdFx0IG5ldyBOb3RpY2UoYFtFUlJPUl0gU2NoZW1hIGluaXRpYWxpemF0aW9uIGZhaWxlZDogJHtlcnJvck1lc3NhZ2V9YCk7XHJcblx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9IG9yaWdpbmFsVGV4dDtcclxuXHRcdFx0YnV0dG9uRWwucmVtb3ZlQ2xhc3MoJ2lzLWxvYWRpbmcnKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgdGVzdE1DUENvbm5lY3Rpb24oYnV0dG9uRWw6IEhUTUxFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRjb25zdCBvcmlnaW5hbFRleHQgPSBidXR0b25FbC50ZXh0Q29udGVudDtcclxuXHRcdGJ1dHRvbkVsLnRleHRDb250ZW50ID0gJ1Rlc3RpbmcuLi4nO1xyXG5cdFx0YnV0dG9uRWwuYWRkQ2xhc3MoJ2lzLWxvYWRpbmcnKTtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0IHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1tNQ1BdIFRlc3RpbmcgTUNQIHNlcnZlciBjb25uZWN0aW9uLi4uJyk7XHJcblx0XHQgLy8gVE9ETzogSW1wbGVtZW50IGFjdHVhbCBNQ1Agc2VydmVyIGNvbm5lY3Rpb24gdGVzdFxyXG5cdFx0IGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDAwKSk7XHJcblxyXG5cdFx0IGNvbnN0IHJlc3VsdDogQ29ubmVjdGlvblRlc3RSZXN1bHQgPSB7XHJcblx0XHQgIHN1Y2Nlc3M6IHRydWUsXHJcblx0XHQgIG1lc3NhZ2U6ICdNQ1Agc2VydmVyIHJlc3BvbmRpbmcgW01PQ0tdJyxcclxuXHRcdCAgbGF0ZW5jeTogMjNcclxuXHRcdCB9O1xyXG5cclxuXHRcdCBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcclxuXHRcdCAgdGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnW01DUF0gTUNQIHNlcnZlciBjb25uZWN0aW9uIHRlc3Qgc3VjY2Vzc2Z1bCcsIHsgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UsIGxhdGVuY3k6IHJlc3VsdC5sYXRlbmN5IH0pO1xyXG5cdFx0ICBuZXcgTm90aWNlKGBbU1VDQ0VTU10gTUNQIHNlcnZlciBjb25uZWN0aW9uIHN1Y2Nlc3NmdWwgKCR7cmVzdWx0LmxhdGVuY3l9bXMpYCk7XHJcblx0XHQgfSBlbHNlIHtcclxuXHRcdCAgdGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignW01DUF0gTUNQIHNlcnZlciBjb25uZWN0aW9uIHRlc3QgZmFpbGVkJywgeyBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSB9KTtcclxuXHRcdCAgbmV3IE5vdGljZShgW0VSUk9SXSBNQ1Agc2VydmVyIGNvbm5lY3Rpb24gZmFpbGVkOiAke3Jlc3VsdC5tZXNzYWdlfWApO1xyXG5cdFx0IH1cclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHQgdGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignW01DUF0gTUNQIHNlcnZlciBjb25uZWN0aW9uIHRlc3QgZXJyb3InLCB7IGVycm9yIH0pO1xyXG5cdFx0IGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xyXG5cdFx0IG5ldyBOb3RpY2UoYFtFUlJPUl0gTUNQIHNlcnZlciBjb25uZWN0aW9uIGZhaWxlZDogJHtlcnJvck1lc3NhZ2V9YCk7XHJcblx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9IG9yaWdpbmFsVGV4dDtcclxuXHRcdFx0YnV0dG9uRWwucmVtb3ZlQ2xhc3MoJ2lzLWxvYWRpbmcnKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgZXhwb3J0U2V0dGluZ3MoKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCBzZXR0aW5nc0pzb24gPSBKU09OLnN0cmluZ2lmeSh0aGlzLnBsdWdpbi5zZXR0aW5ncywgbnVsbCwgMik7XHJcblx0XHRcdGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbc2V0dGluZ3NKc29uXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vanNvbicgfSk7XHJcblx0XHRcdGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcblxyXG5cdFx0XHRjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG5cdFx0XHRhLmhyZWYgPSB1cmw7XHJcblx0XHRcdGEuZG93bmxvYWQgPSAnZ3JhcGhpdGktcGx1Z2luLXNldHRpbmdzLmpzb24nO1xyXG5cdFx0XHRhLmNsaWNrKCk7XHJcblxyXG5cdFx0XHRVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XHJcblx0XHRcdG5ldyBOb3RpY2UoJ1tTVUNDRVNTXSBTZXR0aW5ncyBleHBvcnRlZCBzdWNjZXNzZnVsbHknKTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xyXG5cdFx0XHRuZXcgTm90aWNlKGBbRVJST1JdIEZhaWxlZCB0byBleHBvcnQgc2V0dGluZ3M6ICR7ZXJyb3JNZXNzYWdlfWApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBpbXBvcnRTZXR0aW5ncygpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuXHRcdFx0aW5wdXQudHlwZSA9ICdmaWxlJztcclxuXHRcdFx0aW5wdXQuYWNjZXB0ID0gJy5qc29uJztcclxuXHJcblx0XHRcdGlucHV0Lm9uY2hhbmdlID0gYXN5bmMgKGUpID0+IHtcclxuXHRcdFx0XHRjb25zdCBmaWxlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmZpbGVzPy5bMF07XHJcblx0XHRcdFx0aWYgKCFmaWxlKSByZXR1cm47XHJcblxyXG5cdFx0XHRcdGNvbnN0IHRleHQgPSBhd2FpdCBmaWxlLnRleHQoKTtcclxuXHRcdFx0XHRjb25zdCBpbXBvcnRlZFNldHRpbmdzID0gSlNPTi5wYXJzZSh0ZXh0KTtcclxuXHJcblx0XHRcdFx0Ly8gVmFsaWRhdGUgaW1wb3J0ZWQgc2V0dGluZ3Mgc3RydWN0dXJlXHJcblx0XHRcdFx0Ly8gVE9ETzogQWRkIHByb3BlciB2YWxpZGF0aW9uXHJcblxyXG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzID0geyAuLi50aGlzLnBsdWdpbi5zZXR0aW5ncywgLi4uaW1wb3J0ZWRTZXR0aW5ncyB9O1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdHRoaXMuZGlzcGxheSgpOyAvLyBSZWZyZXNoIHRoZSBkaXNwbGF5XHJcblxyXG5cdFx0XHRcdG5ldyBOb3RpY2UoJ1tTVUNDRVNTXSBTZXR0aW5ncyBpbXBvcnRlZCBzdWNjZXNzZnVsbHknKTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGlucHV0LmNsaWNrKCk7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcclxuXHRcdFx0bmV3IE5vdGljZShgW0VSUk9SXSBGYWlsZWQgdG8gaW1wb3J0IHNldHRpbmdzOiAke2Vycm9yTWVzc2FnZX1gKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgcmVzZXRUb0RlZmF1bHRzKCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0Y29uc3QgY29uZmlybWVkID0gYXdhaXQgdGhpcy5jb25maXJtUmVzZXQoKTtcclxuXHRcdGlmICghY29uZmlybWVkKSByZXR1cm47XHJcblxyXG5cdFx0YXdhaXQgdGhpcy5wbHVnaW4ubG9hZFNldHRpbmdzKCk7XHJcblx0XHR0aGlzLmRpc3BsYXkoKTsgLy8gUmVmcmVzaCB0aGUgZGlzcGxheVxyXG5cdFx0bmV3IE5vdGljZSgnW0lORk9dIFNldHRpbmdzIHJlc2V0IHRvIGRlZmF1bHRzJyk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIGNvbmZpcm1SZXNldCgpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG5cdFx0XHRjb25zdCBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0XHRtb2RhbC5jbGFzc05hbWUgPSAnbW9kYWwnO1xyXG5cdFx0XHRtb2RhbC5pbm5lckhUTUwgPSBgXHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRhaW5lclwiPlxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1vZGFsLWJnXCI+PC9kaXY+XHJcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibW9kYWwtY29udGVudFwiPlxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+XHJcblx0XHRcdFx0XHRcdFx0PGgzPlJlc2V0IFNldHRpbmdzPC9oMz5cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+XHJcblx0XHRcdFx0XHRcdFx0PHA+QXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlc2V0IGFsbCBzZXR0aW5ncyB0byB0aGVpciBkZWZhdWx0IHZhbHVlcz8gVGhpcyBhY3Rpb24gY2Fubm90IGJlIHVuZG9uZS48L3A+XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+XHJcblx0XHRcdFx0XHRcdFx0PGJ1dHRvbiBjbGFzcz1cIm1vZC1jdGFcIiBpZD1cImNvbmZpcm0tcmVzZXRcIj5SZXNldDwvYnV0dG9uPlxyXG5cdFx0XHRcdFx0XHRcdDxidXR0b24gaWQ9XCJjYW5jZWwtcmVzZXRcIj5DYW5jZWw8L2J1dHRvbj5cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0YDtcclxuXHJcblx0XHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9kYWwpO1xyXG5cclxuXHRcdFx0Y29uc3QgY29uZmlybUJ0biA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJyNjb25maXJtLXJlc2V0JykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblx0XHRcdGNvbnN0IGNhbmNlbEJ0biA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJyNjYW5jZWwtcmVzZXQnKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHJcblx0XHRcdGNvbmZpcm1CdG4ub25jbGljayA9ICgpID0+IHtcclxuXHRcdFx0XHRkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG1vZGFsKTtcclxuXHRcdFx0XHRyZXNvbHZlKHRydWUpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Y2FuY2VsQnRuLm9uY2xpY2sgPSAoKSA9PiB7XHJcblx0XHRcdFx0ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChtb2RhbCk7XHJcblx0XHRcdFx0cmVzb2x2ZShmYWxzZSk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRtb2RhbC5vbmNsaWNrID0gKGUpID0+IHtcclxuXHRcdFx0XHRpZiAoZS50YXJnZXQgPT09IG1vZGFsIHx8IGUudGFyZ2V0ID09PSBtb2RhbC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtYmcnKSkge1xyXG5cdFx0XHRcdFx0ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChtb2RhbCk7XHJcblx0XHRcdFx0XHRyZXNvbHZlKGZhbHNlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgY2hlY2tQeXRob25EZXBlbmRlbmNpZXMoYnV0dG9uRWw6IEhUTUxFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRjb25zdCBvcmlnaW5hbFRleHQgPSBidXR0b25FbC50ZXh0Q29udGVudDtcclxuXHRcdGJ1dHRvbkVsLnRleHRDb250ZW50ID0gJ0NoZWNraW5nLi4uJztcclxuXHRcdGJ1dHRvbkVsLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAndHJ1ZScpO1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ0NoZWNraW5nIFB5dGhvbiBkZXBlbmRlbmNpZXMnKTtcclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5wbHVnaW4uZ3JhcGhpdGlTZXJ2aWNlLnRlc3RDb25uZWN0aW9uKCk7XHJcblxyXG5cdFx0XHRpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdQeXRob24gZGVwZW5kZW5jaWVzIGNoZWNrIHN1Y2Nlc3NmdWwnLCB7IG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlIH0pO1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoJ1tTVUNDRVNTXSBQeXRob24gZGVwZW5kZW5jaWVzIGFyZSBpbnN0YWxsZWQgYW5kIHVwIHRvIGRhdGUnKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdQeXRob24gZGVwZW5kZW5jaWVzIGNoZWNrIGZhaWxlZCcsIHsgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UgfSk7XHJcblx0XHRcdFx0bmV3IE5vdGljZShgW0VSUk9SXSBEZXBlbmRlbmNpZXMgbWlzc2luZyBvciBvdXRkYXRlZDogJHtyZXN1bHQubWVzc2FnZX1gLCA1MDAwKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignRmFpbGVkIHRvIGNoZWNrIFB5dGhvbiBkZXBlbmRlbmNpZXMnLCB7IGVycm9yIH0pO1xyXG5cdFx0XHRjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcclxuXHRcdFx0bmV3IE5vdGljZShgW0VSUk9SXSBGYWlsZWQgdG8gY2hlY2sgZGVwZW5kZW5jaWVzOiAke2Vycm9yTWVzc2FnZX1gLCA1MDAwKTtcclxuXHRcdH0gZmluYWxseSB7XHJcblx0XHRcdGJ1dHRvbkVsLnRleHRDb250ZW50ID0gb3JpZ2luYWxUZXh0O1xyXG5cdFx0XHRidXR0b25FbC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIHZpZXdMb2dGaWxlKCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0dHJ5IHtcclxuXHRcdCAvLyBAdHMtaWdub3JlIC0gYWNjZXNzaW5nIGludGVybmFsIEFQSVxyXG5cdFx0IGNvbnN0IGFkYXB0ZXIgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuYWRhcHRlcjtcclxuXHRcdCAvLyBAdHMtaWdub3JlXHJcblx0XHQgY29uc3QgdmF1bHRQYXRoID0gYWRhcHRlci5iYXNlUGF0aDtcclxuXHRcdCBjb25zdCBwbHVnaW5QYXRoID0gam9pbih2YXVsdFBhdGgsICcub2JzaWRpYW4nLCAncGx1Z2lucycsICdtZWdhbWVtLW1jcCcpO1xyXG5cdFx0IGNvbnN0IGxvZ3NEaXIgPSBqb2luKHBsdWdpblBhdGgsICdsb2dzJyk7XHJcblxyXG5cdFx0IC8vIE9wZW4gdGhlIGxvZ3MgZGlyZWN0b3J5IGluIHRoZSBzeXN0ZW0gZmlsZSBleHBsb3JlclxyXG5cdFx0IGNvbnN0IHsgc2hlbGwgfSA9IHJlcXVpcmUoJ2VsZWN0cm9uJyk7XHJcblx0XHQgc2hlbGwub3BlblBhdGgobG9nc0Rpcik7XHJcblxyXG5cdFx0IG5ldyBOb3RpY2UoJ1tJTkZPXSBMb2cgZmlsZXMgZGlyZWN0b3J5IG9wZW5lZCBpbiBmaWxlIGV4cGxvcmVyJyk7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0IHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tMT0dTXSBGYWlsZWQgdG8gb3BlbiBsb2cgZGlyZWN0b3J5JywgeyBlcnJvciB9KTtcclxuXHRcdCBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcclxuXHRcdCBuZXcgTm90aWNlKGBbRVJST1JdIEZhaWxlZCB0byBvcGVuIGxvZyBkaXJlY3Rvcnk6ICR7ZXJyb3JNZXNzYWdlfWApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBpbnN0YWxsUHl0aG9uRGVwZW5kZW5jaWVzKGJ1dHRvbkVsOiBIVE1MRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0Y29uc3Qgb3JpZ2luYWxUZXh0ID0gYnV0dG9uRWwudGV4dENvbnRlbnQ7XHJcblx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9ICdJbnN0YWxsaW5nLi4uJztcclxuXHRcdGJ1dHRvbkVsLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAndHJ1ZScpO1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ0luc3RhbGxpbmcgUHl0aG9uIGRlcGVuZGVuY2llcycpO1xyXG5cclxuXHRcdFx0Ly8gQWRkIHByb2dyZXNzIGNhbGxiYWNrIHdpdGggcmVhbC10aW1lIFVJIHVwZGF0ZXNcclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5wbHVnaW4uZ3JhcGhpdGlTZXJ2aWNlLmluc3RhbGxEZXBlbmRlbmNpZXMoKG1lc3NhZ2U6IHN0cmluZykgPT4ge1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ0luc3RhbGxhdGlvbiBwcm9ncmVzcycsIHsgbWVzc2FnZSB9KTtcclxuXHJcblx0XHRcdFx0Ly8gVXBkYXRlIGJ1dHRvbiB0ZXh0IHdpdGggY3VycmVudCBwcm9ncmVzc1xyXG5cdFx0XHRcdGNvbnN0IGRpc3BsYXlNZXNzYWdlID0gbWVzc2FnZS5sZW5ndGggPiAzMCA/IG1lc3NhZ2Uuc3Vic3RyaW5nKDAsIDMwKSArICcuLi4nIDogbWVzc2FnZTtcclxuXHRcdFx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9IGRpc3BsYXlNZXNzYWdlO1xyXG5cclxuXHRcdFx0XHQvLyBTaG93IHByb2dyZXNzIG5vdGljZSAoQVNDSUktb25seSlcclxuXHRcdFx0XHRuZXcgTm90aWNlKGBbSU5GT10gJHttZXNzYWdlfWAsIDIwMDApO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGlmIChyZXN1bHQuc3VjY2Vzcykge1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ1B5dGhvbiBkZXBlbmRlbmNpZXMgaW5zdGFsbGF0aW9uIHN1Y2Nlc3NmdWwnLCB7IG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlIH0pO1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoJ1tTVUNDRVNTXSBQeXRob24gZGVwZW5kZW5jaWVzIGluc3RhbGxlZCBzdWNjZXNzZnVsbHknLCA1MDAwKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdQeXRob24gZGVwZW5kZW5jaWVzIGluc3RhbGxhdGlvbiBmYWlsZWQnLCB7IG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlIH0pO1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gSW5zdGFsbGF0aW9uIGZhaWxlZDogJHtyZXN1bHQubWVzc2FnZX1gLCA4MDAwKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignRmFpbGVkIHRvIGluc3RhbGwgUHl0aG9uIGRlcGVuZGVuY2llcycsIHsgZXJyb3IgfSk7XHJcblx0XHRcdGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xyXG5cdFx0XHRuZXcgTm90aWNlKGBbRVJST1JdIEluc3RhbGxhdGlvbiBmYWlsZWQ6ICR7ZXJyb3JNZXNzYWdlfWAsIDgwMDApO1xyXG5cdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0YnV0dG9uRWwudGV4dENvbnRlbnQgPSBvcmlnaW5hbFRleHQ7XHJcblx0XHRcdGJ1dHRvbkVsLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgcnVuTWFudWFsU3luY1Rlc3QoYnV0dG9uRWw6IEhUTUxFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRjb25zdCBvcmlnaW5hbFRleHQgPSBidXR0b25FbC50ZXh0Q29udGVudDtcclxuXHRcdGJ1dHRvbkVsLnRleHRDb250ZW50ID0gJ1NlbGVjdGluZyBOb3RlLi4uJztcclxuXHRcdGJ1dHRvbkVsLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAndHJ1ZScpO1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdC8vIEdldCBhbGwgbWFya2Rvd24gZmlsZXMgaW4gdGhlIHZhdWx0XHJcblx0XHRcdGNvbnN0IG1hcmtkb3duRmlsZXMgPSB0aGlzLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XHJcblxyXG5cdFx0XHRpZiAobWFya2Rvd25GaWxlcy5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0XHRuZXcgTm90aWNlKCdbSU5GT10gTm8gbWFya2Rvd24gZmlsZXMgZm91bmQgaW4gdmF1bHQnKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIENyZWF0ZSBhIHNpbXBsZSBmaWxlIHBpY2tlciBtb2RhbFxyXG5cdFx0XHRjb25zdCBub3RlRmlsZSA9IGF3YWl0IHRoaXMuc2VsZWN0Tm90ZUZvclN5bmMobWFya2Rvd25GaWxlcyk7XHJcblx0XHRcdGlmICghbm90ZUZpbGUpIHtcclxuXHRcdFx0XHRuZXcgTm90aWNlKCdbSU5GT10gTm8gbm90ZSBzZWxlY3RlZCBmb3Igc3luYyB0ZXN0Jyk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9ICdTeW5jaW5nLi4uJztcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5kZWJ1ZygnU3RhcnRpbmcgbWFudWFsIHN5bmMgdGVzdCBmb3Igbm90ZScsIHsgcGF0aDogbm90ZUZpbGUucGF0aCB9KTtcclxuXHJcblx0XHRcdC8vIEdldCB0aGUgZnVsbCBmaWxlIHBhdGhcclxuXHRcdFx0Y29uc3QgZnVsbFBhdGggPSAodGhpcy5hcHAudmF1bHQuYWRhcHRlciBhcyBhbnkpLnBhdGgucmVzb2x2ZShcclxuXHRcdFx0XHQodGhpcy5hcHAudmF1bHQuYWRhcHRlciBhcyBhbnkpLmJhc2VQYXRoLFxyXG5cdFx0XHRcdG5vdGVGaWxlLnBhdGhcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdC8vIFJ1biB0aGUgbWFudWFsIHN5bmMgdGVzdFxyXG5cdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnBsdWdpbi5ncmFwaGl0aVNlcnZpY2UudGVzdE1hbnVhbFN5bmMoZnVsbFBhdGgpO1xyXG5cclxuXHRcdFx0aWYgKHJlc3VsdC5zdGF0dXMgPT09ICdzdWNjZXNzJykge1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZGVidWcoJ01hbnVhbCBzeW5jIHRlc3Qgc3VjY2Vzc2Z1bCcsIHJlc3VsdCk7XHJcblx0XHRcdFx0bmV3IE5vdGljZShgW1NVQ0NFU1NdIE1hbnVhbCBzeW5jIHN1Y2Nlc3NmdWwhIFByb2Nlc3NlZCAke3Jlc3VsdC5wcm9jZXNzZWR9IG5vdGUocyksICR7cmVzdWx0Lm5vZGVUeXBlc0xvYWRlZH0gbm9kZSB0eXBlcywgJHtyZXN1bHQuZWRnZVR5cGVzTG9hZGVkfSBlZGdlIHR5cGVzYCwgODAwMCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5lcnJvcignTWFudWFsIHN5bmMgdGVzdCBmYWlsZWQnLCByZXN1bHQpO1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gTWFudWFsIHN5bmMgZmFpbGVkOiAke3Jlc3VsdC5tZXNzYWdlfWAsIDgwMDApO1xyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdNYW51YWwgc3luYyB0ZXN0IGVycm9yJywgeyBlcnJvciB9KTtcclxuXHRcdFx0Y29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XHJcblx0XHRcdG5ldyBOb3RpY2UoYFtFUlJPUl0gTWFudWFsIHN5bmMgdGVzdCBmYWlsZWQ6ICR7ZXJyb3JNZXNzYWdlfWAsIDgwMDApO1xyXG5cdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0YnV0dG9uRWwudGV4dENvbnRlbnQgPSBvcmlnaW5hbFRleHQ7XHJcblx0XHRcdGJ1dHRvbkVsLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgc2VsZWN0Tm90ZUZvclN5bmMobWFya2Rvd25GaWxlczogYW55W10pOiBQcm9taXNlPGFueT4ge1xyXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcblx0XHRcdC8vIENyZWF0ZSBhIHNpbXBsZSBtb2RhbCBmb3IgZmlsZSBzZWxlY3Rpb25cclxuXHRcdFx0Y29uc3QgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdFx0bW9kYWwuY2xhc3NOYW1lID0gJ21vZGFsJztcclxuXHRcdFx0bW9kYWwuaW5uZXJIVE1MID0gYFxyXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJtb2RhbC1jb250YWluZXJcIj5cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtb2RhbC1iZ1wiPjwvZGl2PlxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxyXG5cdFx0XHRcdFx0XHRcdDxoMz5TZWxlY3QgTm90ZSBmb3IgTWFudWFsIFN5bmMgVGVzdDwvaDM+XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPlxyXG5cdFx0XHRcdFx0XHRcdDxwPkNob29zZSBhIG5vdGUgdG8gdGVzdCB0aGUgbWFudWFsIHN5bmMgcHJvY2Vzczo8L3A+XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBzdHlsZT1cIm1heC1oZWlnaHQ6IDMwMHB4OyBvdmVyZmxvdy15OiBhdXRvO1wiPlxyXG5cdFx0XHRcdFx0XHRcdFx0JHttYXJrZG93bkZpbGVzLm1hcCgoZmlsZSwgaW5kZXgpID0+XHJcblx0XHRcdFx0XHRcdFx0XHRcdGA8ZGl2IHN0eWxlPVwicGFkZGluZzogOHB4OyBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7IG1hcmdpbjogNHB4IDA7IGN1cnNvcjogcG9pbnRlcjsgYm9yZGVyLXJhZGl1czogNHB4O1wiIGRhdGEtZmlsZS1pbmRleD1cIiR7aW5kZXh9XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PHN0cm9uZz4ke2ZpbGUuYmFzZW5hbWV9PC9zdHJvbmc+PGJyPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxzbWFsbCBzdHlsZT1cImNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcIj4ke2ZpbGUucGF0aH08L3NtYWxsPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5gXHJcblx0XHRcdFx0XHRcdFx0XHQpLmpvaW4oJycpfVxyXG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPlxyXG5cdFx0XHRcdFx0XHRcdDxidXR0b24gaWQ9XCJjYW5jZWwtc2VsZWN0XCI+Q2FuY2VsPC9idXR0b24+XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdGA7XHJcblxyXG5cdFx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1vZGFsKTtcclxuXHJcblx0XHRcdC8vIEFkZCBjbGljayBoYW5kbGVycyBmb3IgZmlsZSBzZWxlY3Rpb25cclxuXHRcdFx0Y29uc3QgZmlsZUVsZW1lbnRzID0gbW9kYWwucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZmlsZS1pbmRleF0nKTtcclxuXHRcdFx0ZmlsZUVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcclxuXHRcdFx0XHRlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgaW5kZXggPSBwYXJzZUludCgoZWxlbWVudCBhcyBIVE1MRWxlbWVudCkuZ2V0QXR0cmlidXRlKCdkYXRhLWZpbGUtaW5kZXgnKSB8fCAnMCcpO1xyXG5cdFx0XHRcdFx0Y29uc3Qgc2VsZWN0ZWRGaWxlID0gbWFya2Rvd25GaWxlc1tpbmRleF07XHJcblx0XHRcdFx0XHRkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG1vZGFsKTtcclxuXHRcdFx0XHRcdHJlc29sdmUoc2VsZWN0ZWRGaWxlKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRjb25zdCBjYW5jZWxCdG4gPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCcjY2FuY2VsLXNlbGVjdCcpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG5cdFx0XHRjYW5jZWxCdG4ub25jbGljayA9ICgpID0+IHtcclxuXHRcdFx0XHRkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG1vZGFsKTtcclxuXHRcdFx0XHRyZXNvbHZlKG51bGwpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0bW9kYWwub25jbGljayA9IChlKSA9PiB7XHJcblx0XHRcdFx0aWYgKGUudGFyZ2V0ID09PSBtb2RhbCB8fCBlLnRhcmdldCA9PT0gbW9kYWwucXVlcnlTZWxlY3RvcignLm1vZGFsLWJnJykpIHtcclxuXHRcdFx0XHRcdGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobW9kYWwpO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZShudWxsKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblx0XHR9KTtcclxuXHQvLyBNaW5pbWFsIE1DUCBUb29scyBVSSBzdHViIG1vdmVkOiBpbXBsZW1lbnQgYSBjbGVhbiwgc21hbGwgbWV0aG9kIGluLWNsYXNzLlxyXG5cdC8vIFdlJ2xsIGFkZCBhIGNvbXBhY3QsIHNhZmUgaW1wbGVtZW50YXRpb24gYmVsb3cgdGhlIGFkZFNlcnZlcnNBY2NvcmRpb24gbWV0aG9kLlxyXG5cdH1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cdHByaXZhdGUgYXN5bmMgdXBkYXRlTW9kZWxTdGF0dXNJY29uRm9yRHJvcGRvd24oc3RhdHVzQ29udGFpbmVyOiBIVE1MRWxlbWVudCwgbW9kZWxUeXBlOiAnbGxtJyB8ICdsbG1fc21hbGwnIHwgJ2VtYmVkZGluZycsIG1vZGVsTmFtZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRhd2FpdCB0aGlzLm9sbGFtYVNldHRpbmdzLnVwZGF0ZU1vZGVsU3RhdHVzSWNvbkZvckRyb3Bkb3duKHN0YXR1c0NvbnRhaW5lciwgbW9kZWxUeXBlLCBtb2RlbE5hbWUpO1xyXG5cdH1cclxuXHJcblx0Ly8gUmVtb3ZlZCBtZXRob2RzIHRoYXQgYXJlIG5vdyBkZWxlZ2F0ZWQgdG8gb2xsYW1hU2V0dGluZ3NcclxuXHRwcml2YXRlIGFzeW5jIHJlZnJlc2hPbGxhbWFTdGF0dXMoc3RhdHVzQ29udGFpbmVyOiBIVE1MRWxlbWVudCwgaW5zdGFsbEJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MucmVmcmVzaE9sbGFtYVN0YXR1cyhzdGF0dXNDb250YWluZXIsIGluc3RhbGxCdXR0b24pO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBzdGFydE9sbGFtYVNlcnZpY2Uoc3RhdHVzQ29udGFpbmVyOiBIVE1MRWxlbWVudCwgaW5zdGFsbEJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3Muc3RhcnRPbGxhbWFTZXJ2aWNlKHN0YXR1c0NvbnRhaW5lciwgaW5zdGFsbEJ1dHRvbik7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIGhhbmRsZU9sbGFtYUluc3RhbGxhdGlvbigpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGF3YWl0IHRoaXMub2xsYW1hU2V0dGluZ3MuaGFuZGxlT2xsYW1hSW5zdGFsbGF0aW9uKCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHNob3dPbGxhbWFJbnN0YWxsYXRpb25Nb2RhbCgpOiB2b2lkIHtcclxuXHRcdHRoaXMub2xsYW1hU2V0dGluZ3Muc2hvd09sbGFtYUluc3RhbGxhdGlvbk1vZGFsKCk7XHJcblx0fVxyXG5cclxuXHQvLyBAcHVycG9zZTogUmVsb2FkIGRhZW1vbiB0byBhcHBseSBuZXcgcHJvdmlkZXIgY29uZmlndXJhdGlvbiBAZGVwZW5kczogUHl0aG9uRGFlbW9uQnJpZGdlIEByZXN1bHRzOiBGcmVzaCBkYWVtb24gd2l0aCB1cGRhdGVkIHNldHRpbmdzXHJcblx0cHJpdmF0ZSBhc3luYyByZWxvYWRTeW5jRGFlbW9uKGJ1dHRvbkVsOiBIVE1MRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0Y29uc3Qgb3JpZ2luYWxUZXh0ID0gYnV0dG9uRWwudGV4dENvbnRlbnQ7XHJcblx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9ICdSZWxvYWRpbmcuLi4nO1xyXG5cdFx0YnV0dG9uRWwuYWRkQ2xhc3MoJ2lzLWxvYWRpbmcnKTtcclxuXHRcdGJ1dHRvbkVsLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAndHJ1ZScpO1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uaW5mbygnW0RBRU1PTi1SRUxPQURdIFN0YXJ0aW5nIGRhZW1vbiByZWxvYWQnKTtcclxuXHJcblx0XHRcdC8vIEVuaGFuY2VkIHZhbGlkYXRpb24gd2l0aCBkaWFnbm9zdGljIGxvZ2dpbmdcclxuXHRcdFx0aWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5sb2FkRGFlbW9uT25MYXVuY2ggfHwgIXRoaXMucGx1Z2luLnNldHRpbmdzLmV4cGVyaW1lbnRhbERhZW1vbk1vZGUpIHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmVycm9yKCdbREFFTU9OLVJFTE9BRF0gRGFlbW9uIHByZWxvYWRpbmcgbm90IGVuYWJsZWQnLCB7XHJcblx0XHRcdFx0XHRsb2FkRGFlbW9uT25MYXVuY2g6IHRoaXMucGx1Z2luLnNldHRpbmdzLmxvYWREYWVtb25PbkxhdW5jaCxcclxuXHRcdFx0XHRcdGV4cGVyaW1lbnRhbERhZW1vbk1vZGU6IHRoaXMucGx1Z2luLnNldHRpbmdzLmV4cGVyaW1lbnRhbERhZW1vbk1vZGVcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRuZXcgTm90aWNlKCdbRVJST1JdIERhZW1vbiBwcmVsb2FkaW5nIGlzIG5vdCBlbmFibGVkJyk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBBY2Nlc3MgZGFlbW9uIGJyaWRnZSBkaXJlY3RseSBmcm9tIHBsdWdpbiAtIGNvbmZpcm1lZCB0aGlzIGlzIHRoZSBjb3JyZWN0IHBhdHRlcm5cclxuXHRcdFx0Y29uc3QgZGFlbW9uQnJpZGdlID0gKHRoaXMucGx1Z2luIGFzIGFueSkucHl0aG9uRGFlbW9uQnJpZGdlO1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmRlYnVnKCdbREFFTU9OLVJFTE9BRF0gQnJpZGdlIGFjY2VzcyBjaGVjaycsIHtcclxuXHRcdFx0XHRicmlkZ2VFeGlzdHM6ICEhZGFlbW9uQnJpZGdlLFxyXG5cdFx0XHRcdGJyaWRnZVJ1bm5pbmc6IGRhZW1vbkJyaWRnZT8uaXNSdW5uaW5nKClcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRpZiAoIWRhZW1vbkJyaWRnZSkge1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tEQUVNT04tUkVMT0FEXSBEYWVtb24gYnJpZGdlIG5vdCBhdmFpbGFibGUnLCB7XHJcblx0XHRcdFx0XHRwbHVnaW5LZXlzOiBPYmplY3Qua2V5cyh0aGlzLnBsdWdpbiBhcyBhbnkpLmZpbHRlcihrID0+IGsuaW5jbHVkZXMoJ2RhZW1vbicpIHx8IGsuaW5jbHVkZXMoJ2JyaWRnZScpKVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoJ1tFUlJPUl0gRGFlbW9uIGJyaWRnZSBub3QgYXZhaWxhYmxlJyk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBDaGVjayBkYWVtb24gc3RhdHVzIGJlZm9yZSBwcm9jZWVkaW5nXHJcblx0XHRcdGNvbnN0IHN0YXR1cyA9IGRhZW1vbkJyaWRnZS5nZXRTdGF0dXMoKTtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5pbmZvKCdbREFFTU9OLVJFTE9BRF0gQ3VycmVudCBkYWVtb24gc3RhdHVzJywgc3RhdHVzKTtcclxuXHJcblx0XHRcdGJ1dHRvbkVsLnRleHRDb250ZW50ID0gJ1N0b3BwaW5nIGRhZW1vbi4uLic7XHJcblxyXG5cdFx0XHQvLyBTdG9wIGN1cnJlbnQgZGFlbW9uIHdpdGggZW5oYW5jZWQgbG9nZ2luZ1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmluZm8oJ1tEQUVNT04tUkVMT0FEXSBJbml0aWF0aW5nIGRhZW1vbiBzaHV0ZG93bicpO1xyXG5cdFx0XHRhd2FpdCBkYWVtb25CcmlkZ2Uuc2h1dGRvd24oKTtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5pbmZvKCdbREFFTU9OLVJFTE9BRF0gRGFlbW9uIHNodXRkb3duIGNvbXBsZXRlJyk7XHJcblxyXG5cdFx0XHRidXR0b25FbC50ZXh0Q29udGVudCA9ICdTdGFydGluZyBkYWVtb24uLi4nO1xyXG5cclxuXHRcdFx0Ly8gQnJpZWYgZGVsYXkgdG8gZW5zdXJlIGNsZWFuIHNodXRkb3duXHJcblx0XHRcdGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDAwKSk7XHJcblxyXG5cdFx0XHQvLyBSZXN0YXJ0IGRhZW1vbiB3aXRoIGZyZXNoIGNvbmZpZ3VyYXRpb25cclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5pbmZvKCdbREFFTU9OLVJFTE9BRF0gSW5pdGlhdGluZyBkYWVtb24gcHJlbG9hZCcpO1xyXG5cdFx0XHRhd2FpdCBkYWVtb25CcmlkZ2UucHJlbG9hZERhZW1vbigpO1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5sb2dnZXI/LmluZm8oJ1tEQUVNT04tUkVMT0FEXSBEYWVtb24gcHJlbG9hZCBjb21wbGV0ZScpO1xyXG5cclxuXHRcdFx0Ly8gVmVyaWZ5IGRhZW1vbiBpcyBydW5uaW5nXHJcblx0XHRcdGNvbnN0IG5ld1N0YXR1cyA9IGRhZW1vbkJyaWRnZS5nZXRTdGF0dXMoKTtcclxuXHRcdFx0dGhpcy5wbHVnaW4ubG9nZ2VyPy5pbmZvKCdbREFFTU9OLVJFTE9BRF0gTmV3IGRhZW1vbiBzdGF0dXMnLCBuZXdTdGF0dXMpO1xyXG5cclxuXHRcdFx0bmV3IE5vdGljZSgnW1NVQ0NFU1NdIFN5bmMgZGFlbW9uIHJlbG9hZGVkIHN1Y2Nlc3NmdWxseScpO1xyXG5cclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdHRoaXMucGx1Z2luLmxvZ2dlcj8uZXJyb3IoJ1tEQUVNT04tUkVMT0FEXSBGYWlsZWQgdG8gcmVsb2FkIGRhZW1vbicsIHsgZXJyb3IgfSk7XHJcblx0XHRcdGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xyXG5cdFx0XHRuZXcgTm90aWNlKGBbRVJST1JdIEZhaWxlZCB0byByZWxvYWQgZGFlbW9uOiAke2Vycm9yTWVzc2FnZX1gKTtcclxuXHRcdH0gZmluYWxseSB7XHJcblx0XHRcdGJ1dHRvbkVsLnRleHRDb250ZW50ID0gb3JpZ2luYWxUZXh0O1xyXG5cdFx0XHRidXR0b25FbC5yZW1vdmVDbGFzcygnaXMtbG9hZGluZycpO1xyXG5cdFx0XHRidXR0b25FbC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcblx0XHR9XHJcblx0fVxyXG59IiwiLy8gRGF0YWJhc2Utc3BlY2lmaWMgY29uZmlndXJhdGlvbiBpbnRlcmZhY2VzXHJcbmV4cG9ydCBpbnRlcmZhY2UgTmVvNGpDb25maWcge1xyXG5cdHVyaTogc3RyaW5nOyAgICAgICAgICAgLy8gTmVvNGogdXNlcyAndXJpJyAoZS5nLiwgYm9sdDovL2xvY2FsaG9zdDo3Njg3KVxyXG5cdHVzZXJuYW1lOiBzdHJpbmc7XHJcblx0cGFzc3dvcmQ6IHN0cmluZztcclxuXHRkYXRhYmFzZTogc3RyaW5nOyAgICAgIC8vIE5lbzRqIGRhdGFiYXNlIG5hbWUgKGRlZmF1bHQ6ICduZW80aicpXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRmFsa29yREJDb25maWcge1xyXG5cdGhvc3Q6IHN0cmluZzsgICAgICAgICAgLy8gRmFsa29yREIgdXNlcyAnaG9zdCcgKGUuZy4sIGxvY2FsaG9zdClcclxuXHRwb3J0OiBudW1iZXI7ICAgICAgICAgIC8vIEZhbGtvckRCIHVzZXMgc2VwYXJhdGUgJ3BvcnQnIChlLmcuLCA2Mzc5KVxyXG5cdHVzZXJuYW1lPzogc3RyaW5nOyAgICAgLy8gRmFsa29yREIgdXNlcm5hbWUgKG9wdGlvbmFsKVxyXG5cdHBhc3N3b3JkPzogc3RyaW5nOyAgICAgLy8gRmFsa29yREIgcGFzc3dvcmQgKG9wdGlvbmFsKVxyXG5cdGRhdGFiYXNlOiBzdHJpbmc7ICAgICAgLy8gRmFsa29yREIgZGF0YWJhc2UgbmFtZSAoZGVmYXVsdDogJ2RlZmF1bHRfZGInKVxyXG59XHJcblxyXG4vLyA9PT0gRk9MREVSIE5BTUVTUEFDSU5HIElOVEVSRkFDRSA9PT1cclxuLy8gQHB1cnBvc2U6IERlZmluZSBtYXBwaW5nIGJldHdlZW4gZm9sZGVyIHBhdGhzIGFuZCBjdXN0b20gZ3JvdXBfaWQgbmFtZXNwYWNlc1xyXG4vLyBAZGVwZW5kczogVXNlciBjb25maWd1cmF0aW9uIGluIHNldHRpbmdzIFVJXHJcbi8vIEByZXN1bHRzOiBDdXN0b20gbmFtZXNwYWNlIGFzc2lnbm1lbnRzIGZvciBzeW5jIG9wZXJhdGlvbnNcclxuZXhwb3J0IGludGVyZmFjZSBGb2xkZXJOYW1lc3BhY2VNYXBwaW5nIHtcclxuXHRmb2xkZXJQYXRoOiBzdHJpbmc7ICAgIC8vIEZ1bGwgZm9sZGVyIHBhdGggKHN1cHBvcnRzIGJvdGggdG9wLWxldmVsIGFuZCBzdWItZm9sZGVycylcclxuXHRncm91cElkOiBzdHJpbmc7ICAgICAgIC8vIEN1c3RvbSBuYW1lc3BhY2UgaWRlbnRpZmllciBmb3IgdGhpcyBmb2xkZXJcclxufVxyXG5cclxuLy8gPT09IEVOSEFOQ0VEIFNDSEVNQSBNQU5BR0VNRU5UIElOVEVSRkFDRVMgPT09XHJcbi8vIFB1cnBvc2U6IENvbXBsZXRlIGN1c3RvbSBvbnRvbG9neSBtYW5hZ2VtZW50IHdpdGggTExNIGludGVncmF0aW9uIGFyY2hpdGVjdHVyZVxyXG4vLyBJbnRlZ3JhdGlvbjogU3VwcG9ydHMgZW50aXR5IGRlc2NyaXB0aW9ucywgZWRnZSB0eXBlcywgYW5kIGVkZ2UgbWFwcGluZ3MgZm9yIFB5ZGFudGljIG1vZGVsIGdlbmVyYXRpb25cclxuLy8gTW9kZTogQ29kZSAtIENvcmUgZGF0YSBzdHJ1Y3R1cmVzIGZvciBjdXN0b20gb250b2xvZ3kgYXV0aG9yaW5nXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFByb3BlcnR5RGVzY3JpcHRpb24ge1xyXG5cdGRlc2NyaXB0aW9uOiBzdHJpbmc7ICAgICAgICAgLy8gRmllbGQgZGVzY3JpcHRpb24gZm9yIFB5ZGFudGljIEZpZWxkKClcclxuXHRmaWVsZFR5cGU6IHN0cmluZzsgICAgICAgICAgLy8gXCJzdHJcIiwgXCJkYXRldGltZVwiLCBcIkxpc3Rbc3RyXVwiLCBldGMuXHJcblx0cmVxdWlyZWQ6IGJvb2xlYW47ICAgICAgICAgIC8vIFdoZXRoZXIgZmllbGQgaXMgcmVxdWlyZWRcclxuXHRpc1VzZXJEZWZpbmVkOiBib29sZWFuOyAgICAgLy8gdnMgYXV0by1kaXNjb3ZlcmVkXHJcblx0c291cmNlOiBcInVzZXJcIiB8IFwibGxtXCIgfCBcImRpc2NvdmVyeVwiOyAvLyBTb3VyY2Ugb2YgdGhpcyBjb25maWd1cmF0aW9uXHJcblx0bGFzdE1vZGlmaWVkPzogc3RyaW5nOyAgICAgIC8vIElTTyB0aW1lc3RhbXBcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBFbnRpdHlEZXNjcmlwdGlvbiB7XHJcblx0Y2xhc3NOYW1lOiBzdHJpbmc7ICAgICAgICAgICAvLyBcIldlYlBhZ2VcIiwgXCJQZXJzb25cIiwgZXRjLlxyXG5cdGRlc2NyaXB0aW9uOiBzdHJpbmc7ICAgICAgICAgLy8gQ2xhc3MgZGVzY3JpcHRpb24gZm9yIGRvY3VtZW50YXRpb24gYW5kIG1vZGVsIGdlbmVyYXRpb25cclxuXHRpc1VzZXJEZWZpbmVkOiBib29sZWFuOyAgICAgLy8gdnMgYXV0by1kaXNjb3ZlcmVkXHJcblx0c291cmNlOiBcInVzZXJcIiB8IFwibGxtXCIgfCBcImRpc2NvdmVyeVwiOyAvLyBTb3VyY2Ugb2YgdGhpcyBjb25maWd1cmF0aW9uXHJcblx0bGFzdE1vZGlmaWVkPzogc3RyaW5nOyAgICAgIC8vIElTTyB0aW1lc3RhbXBcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBFZGdlVHlwZVByb3BlcnR5IHtcclxuXHRkZXNjcmlwdGlvbjogc3RyaW5nOyAgICAgICAgIC8vIFByb3BlcnR5IGRlc2NyaXB0aW9uXHJcblx0ZmllbGRUeXBlOiBzdHJpbmc7ICAgICAgICAgIC8vIFwic3RyXCIsIFwiZGF0ZXRpbWVcIiwgZXRjLlxyXG5cdHJlcXVpcmVkOiBib29sZWFuOyAgICAgICAgICAvLyBXaGV0aGVyIHByb3BlcnR5IGlzIHJlcXVpcmVkXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRWRnZVR5cGUge1xyXG5cdGNsYXNzTmFtZTogc3RyaW5nOyAgICAgICAgICAgLy8gXCJXb3Jrc0ZvclwiLCBcIlVzZXNcIiwgZXRjLlxyXG5cdGRlc2NyaXB0aW9uOiBzdHJpbmc7ICAgICAgICAgLy8gRWRnZSB0eXBlIGRlc2NyaXB0aW9uIGZvciBkb2N1bWVudGF0aW9uIGFuZCBtb2RlbCBnZW5lcmF0aW9uXHJcblx0cHJvcGVydGllczogUmVjb3JkPHN0cmluZywgRWRnZVR5cGVQcm9wZXJ0eT47IC8vIEVkZ2UgdHlwZSBwcm9wZXJ0aWVzXHJcblx0aXNVc2VyRGVmaW5lZDogYm9vbGVhbjsgICAgIC8vIHZzIGF1dG8tZGlzY292ZXJlZFxyXG5cdHNvdXJjZTogXCJ1c2VyXCIgfCBcImxsbVwiIHwgXCJkaXNjb3ZlcnlcIjsgLy8gU291cmNlIG9mIHRoaXMgY29uZmlndXJhdGlvblxyXG5cdGxhc3RNb2RpZmllZD86IHN0cmluZzsgICAgICAvLyBJU08gdGltZXN0YW1wXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRWRnZVR5cGVNYXBwaW5nIHtcclxuXHRzb3VyY2VFbnRpdHk6IHN0cmluZzsgICAgICAgIC8vIFwiUGVyc29uXCJcclxuXHR0YXJnZXRFbnRpdHk6IHN0cmluZzsgICAgICAgIC8vIFwiT3JnYW5pemF0aW9uXCJcclxuXHRhbGxvd2VkRWRnZXM6IHN0cmluZ1tdOyAgICAgIC8vIFtcIldvcmtzRm9yXCIsIFwiTWVtYmVyT2ZcIl1cclxuXHRpc1VzZXJEZWZpbmVkOiBib29sZWFuOyAgICAgLy8gdnMgYXV0by1kaXNjb3ZlcmVkXHJcblx0c291cmNlOiBcInVzZXJcIiB8IFwibGxtXCIgfCBcImRpc2NvdmVyeVwiOyAvLyBTb3VyY2Ugb2YgdGhpcyBjb25maWd1cmF0aW9uXHJcblx0bGFzdE1vZGlmaWVkPzogc3RyaW5nOyAgICAgIC8vIElTTyB0aW1lc3RhbXBcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBMTE1TY2hlbWFTZXR0aW5ncyB7XHJcblx0YXV0b1N1Z2dlc3RFbnRpdHlEZXNjcmlwdGlvbnM6IGJvb2xlYW47XHJcblx0YXV0b1N1Z2dlc3RQcm9wZXJ0eURlc2NyaXB0aW9uczogYm9vbGVhbjtcclxuXHRhdXRvU3VnZ2VzdEVkZ2VUeXBlczogYm9vbGVhbjtcclxuXHRhdXRvU3VnZ2VzdEVkZ2VUeXBlTWFwcGluZ3M6IGJvb2xlYW47XHJcblx0bGFzdExMTVN1Z2dlc3Rpb25EYXRlPzogc3RyaW5nOyAvLyBJU08gdGltZXN0YW1wXHJcblx0bGxtTW9kZWw/OiBzdHJpbmc7ICAgICAgICAgIC8vIFdoaWNoIG1vZGVsIHdhcyB1c2VkIGZvciBzdWdnZXN0aW9uc1xyXG5cdGVuYWJsZUJ1bGtHZW5lcmF0aW9uOiBib29sZWFuOyAvLyBBbGxvdyBidWxrIHNjaGVtYSBnZW5lcmF0aW9uXHJcblx0c3VnZ2VzdGlvbkFwcHJvdmFsUmVxdWlyZWQ6IGJvb2xlYW47IC8vIFJlcXVpcmUgdXNlciBhcHByb3ZhbCBmb3IgTExNIHN1Z2dlc3Rpb25zXHJcbn1cclxuXHJcblxyXG4vLyBNdWx0aS1WYXVsdCBDb25maWd1cmF0aW9uIGludGVyZmFjZVxyXG5leHBvcnQgaW50ZXJmYWNlIFZhdWx0Q29uZmlndXJhdGlvbiB7XHJcblx0dmF1bHROYW1lOiBzdHJpbmc7XHJcblx0bmFtZXNwYWNlOiBzdHJpbmc7XHJcblx0ZW5hYmxlZDogYm9vbGVhbjtcclxuXHRwcmlvcml0eTogbnVtYmVyOyAvLyBGb3IgZGV0ZXJtaW5pbmcgcHJlY2VkZW5jZSBpbiBtdWx0aS12YXVsdCBzY2VuYXJpb3NcclxuXHRjdXN0b21TZXR0aW5ncz86IHtcclxuXHRcdHN5bmNPblNhdmU/OiBib29sZWFuO1xyXG5cdFx0aW5jbHVkZWRGb2xkZXJzPzogc3RyaW5nW107XHJcblx0XHRleGNsdWRlZEZvbGRlcnM/OiBzdHJpbmdbXTtcclxuXHRcdGdsb2JhbGx5SWdub3JlZEZpZWxkcz86IHN0cmluZ1tdO1xyXG5cdFx0bmFtZXNwYWNlU3RyYXRlZ3k/OiAndmF1bHQnIHwgJ2ZvbGRlcicgfCAncHJvcGVydHknIHwgJ2N1c3RvbSc7XHJcblx0XHRkZWZhdWx0TmFtZXNwYWNlPzogc3RyaW5nO1xyXG5cdH07XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTUNQVG9vbERlZmluaXRpb24ge1xyXG5cdG5hbWU6IHN0cmluZztcclxuXHRkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRlbXBsYXRlckludGVncmF0aW9uQ29uZmlnIHtcclxuXHRkZXRlY3RlZDogYm9vbGVhbjtcclxuXHRlbmFibGVkOiBib29sZWFuO1xyXG5cdHVzZVRlbXBsYXRlRm9sZGVyczogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQZXJpb2RpY05vdGVzSW50ZWdyYXRpb25Db25maWcge1xyXG5cdGRldGVjdGVkOiBib29sZWFuO1xyXG5cdGVuYWJsZWQ6IGJvb2xlYW47XHJcblx0dXNlUGVyaW9kaWNGb2xkZXJzOiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE1DUFRvb2xzU2V0dGluZ3Mge1xyXG4gIGRlZmF1bHRzOiB7XHJcbiAgICBpbmJveEZvbGRlcjogc3RyaW5nO1xyXG4gICAgZW5hYmxlU21hcnRGb2xkZXJSZXNvbHV0aW9uOiBib29sZWFuO1xyXG4gIH07XHJcbiAgaW50ZWdyYXRpb25zOiB7XHJcbiAgICB0ZW1wbGF0ZXI6IFRlbXBsYXRlckludGVncmF0aW9uQ29uZmlnO1xyXG4gICAgcGVyaW9kaWNOb3RlczogUGVyaW9kaWNOb3Rlc0ludGVncmF0aW9uQ29uZmlnO1xyXG4gIH07XHJcbiAgdG9vbHM6IE1DUFRvb2xEZWZpbml0aW9uW107XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTExNTW9kZWxNZXRhIHtcclxuXHRkZXNjPzogc3RyaW5nO1xyXG5cdHJlY29tbWVuZGVkPzogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBFbWJlZGRpbmdNb2RlbE1ldGEge1xyXG5cdGRlc2M/OiBzdHJpbmc7XHJcblx0ZGltZW5zaW9ucz86IG51bWJlcjtcclxuXHRyZWNvbW1lbmRlZD86IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgR3JhcGhpdGlQbHVnaW5TZXR0aW5ncyB7XHJcblx0Ly8gRGF0YWJhc2UgQ29uZmlndXJhdGlvbiAtIEluZGVwZW5kZW50IGNvbmZpZ3MgZm9yIGVhY2ggZGF0YWJhc2UgdHlwZVxyXG5cdGRhdGFiYXNlVHlwZTogJ25lbzRqJyB8ICdmYWxrb3JkYic7XHJcblx0ZGF0YWJhc2VDb25maWdzOiB7XHJcblx0XHRuZW80ajogTmVvNGpDb25maWc7XHJcblx0XHRmYWxrb3JkYjogRmFsa29yREJDb25maWc7XHJcblx0fTtcclxuXHJcblx0Ly8gTExNIFByb3ZpZGVyIENvbmZpZ3VyYXRpb25cclxuXHRsbG1Qcm92aWRlcjogJ29wZW5haScgfCAnYW50aHJvcGljJyB8ICdnb29nbGUnIHwgJ2F6dXJlJyB8ICdncm9xJyB8ICdvbGxhbWEnIHwgJ3ZlbmljZScgfCAnb3BlbnJvdXRlcic7XHJcblx0bGxtTW9kZWw6IHN0cmluZztcclxuXHRsbG1TbWFsbE1vZGVsPzogc3RyaW5nOyAvLyBPcHRpb25hbCBzbWFsbGVyIG1vZGVsIGZvciBlZmZpY2llbmN5XHJcblxyXG5cdC8vIENyb3NzLUVuY29kZXIgQ29uZmlndXJhdGlvblxyXG5cdGNyb3NzRW5jb2RlckNsaWVudD86ICdub25lJyB8ICdvcGVuYWknIHwgJ2JnZScgfCAnZ2VtaW5pJzsgLy8gQ3Jvc3MtZW5jb2Rlci9yZXJhbmtlciBwcm92aWRlclxyXG5cdGNyb3NzRW5jb2Rlck1vZGVsPzogc3RyaW5nOyAvLyBDcm9zcy1lbmNvZGVyL3JlcmFua2VyIG1vZGVsXHJcblxyXG5cdC8vIFByb3ZpZGVyLXNwZWNpZmljIEFQSSBLZXlzXHJcblx0YXBpS2V5czoge1xyXG5cdFx0b3BlbmFpPzogc3RyaW5nO1xyXG5cdFx0YW50aHJvcGljPzogc3RyaW5nO1xyXG5cdFx0Z29vZ2xlPzogc3RyaW5nO1xyXG5cdFx0YXp1cmU/OiBzdHJpbmc7XHJcblx0XHRncm9xPzogc3RyaW5nO1xyXG5cdFx0dm95YWdlPzogc3RyaW5nO1xyXG5cdFx0dmVuaWNlPzogc3RyaW5nO1xyXG5cdFx0b3BlbnJvdXRlcj86IHN0cmluZztcclxuXHRcdC8vIE5vdGU6IG9sbGFtYSBkb2Vzbid0IHJlcXVpcmUgQVBJIGtleXMgKGxvY2FsKVxyXG5cdH07XHJcblxyXG5cdC8vIEVtYmVkZGVyIENvbmZpZ3VyYXRpb25cclxuXHRlbWJlZGRlclByb3ZpZGVyOiAnb3BlbmFpJyB8ICdnb29nbGUnIHwgJ3ZveWFnZScgfCAnb2xsYW1hJztcclxuXHRlbWJlZGRpbmdNb2RlbDogc3RyaW5nO1xyXG5cclxuXHQvLyBNb2RlbCBEZWZhdWx0cyBsb2FkZWQgZnJvbSBzZXR0aW5ncyAoaHlkcmF0ZWQgZnJvbSBkYXRhLmpzb24pXHJcblx0bGxtRGVmYXVsdHM/OiBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCBMTE1Nb2RlbE1ldGE+PjtcclxuXHRsbG1TbWFsbERlZmF1bHRzPzogUmVjb3JkPHN0cmluZywgUmVjb3JkPHN0cmluZywgTExNTW9kZWxNZXRhPj47XHJcblx0ZW1iZWRkaW5nRGVmYXVsdHM/OiBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCBFbWJlZGRpbmdNb2RlbE1ldGE+PjtcclxuXHJcblx0Ly8gUHJvdmlkZXItc3BlY2lmaWMgc2V0dGluZ3NcclxuXHRhenVyZUVuZHBvaW50Pzogc3RyaW5nOyAvLyBGb3IgQXp1cmUgT3BlbkFJXHJcblx0YXp1cmVBcGlWZXJzaW9uPzogc3RyaW5nO1xyXG5cdG9sbGFtYUJhc2VVcmw/OiBzdHJpbmc7IC8vIEZvciBsb2NhbCBPbGxhbWFcclxuXHRvbGxhbWFFbWJlZGRpbmdEaW0/OiBudW1iZXI7IC8vIEZvciBPbGxhbWEgZW1iZWRkaW5nIGRpbWVuc2lvbnNcclxuXHRvcGVucm91dGVyUHJlc2V0U2x1Zz86IHN0cmluZzsgLy8gRm9yIE9wZW5Sb3V0ZXIgcHJlc2V0IGNvbmZpZ3VyYXRpb25cclxuXHRvcGVucm91dGVyVXNlUHJlc2V0V2l0aEN1c3RvbU1vZGVsPzogYm9vbGVhbjsgLy8gRW5hYmxlIHByZXNldCBhcHBlbmRpbmcgdG8gY3VzdG9tIG1vZGVsc1xyXG5cclxuXHQvLyBQeXRob24gRW52aXJvbm1lbnRcclxuXHRweXRob25QYXRoPzogc3RyaW5nO1xyXG5cclxuXHQvLyBNQ1AgU2VydmVyIENvbmZpZ3VyYXRpb24gKExlZ2FjeSBjb21wYXRpYmlsaXR5KVxyXG5cdG1jcFNlcnZlclVybDogc3RyaW5nO1xyXG5cdG1jcFNlcnZlclBvcnQ6IG51bWJlcjtcclxuXHRtY3BTZXJ2ZXJFbmFibGVkOiBib29sZWFuO1xyXG5cdG1jcEF1dGhUb2tlbjogc3RyaW5nO1xyXG5cdG1jcFNlcnZlckFwaUtleTogc3RyaW5nOyAvLyBMZWdhY3kgY29tcGF0aWJpbGl0eVxyXG5cclxuXHQvLyBTeW5jIENvbmZpZ3VyYXRpb25cclxuXHRpbmNsdWRlZEZvbGRlcnM6IHN0cmluZ1tdO1xyXG5cdGV4Y2x1ZGVkRm9sZGVyczogc3RyaW5nW107XHJcblx0Z2xvYmFsbHlJZ25vcmVkRmllbGRzOiBzdHJpbmdbXTtcclxuXHRhdXRvU3luYzogYm9vbGVhbjsgLy8gUmVuYW1lZCBmcm9tIHN5bmNPblNhdmUgLSBlbmFibGVzIGF1dG9tYXRpYyBzeW5jIG9wZXJhdGlvbnNcclxuXHRzeW5jT3B0aW9uczogJ25ld19vbmx5JyB8ICduZXdfYW5kX3VwZGF0ZWQnOyAvLyBDb250cm9scyB3aGljaCBub3RlcyBhcmUgaW5jbHVkZWQgaW4gYXV0by1zeW5jXHJcblx0c3luY0ludGVydmFsOiBudW1iZXI7IC8vIG1pbnV0ZXNcclxuXHRiYXRjaFNpemU6IG51bWJlcjtcclxuXHRwcm9jZXNzaW5nRGVsYXlNczogbnVtYmVyO1xyXG5cclxuXHQvLyBBZHZhbmNlZCBPcHRpb25zXHJcblx0ZW5hYmxlRGVidWdMb2dnaW5nOiBib29sZWFuO1xyXG5cdGVuYWJsZVBlcmZvcm1hbmNlTWV0cmljczogYm9vbGVhbjtcclxuXHRtYXhSZXRyeUF0dGVtcHRzOiBudW1iZXI7XHJcblx0Y29ubmVjdGlvblRpbWVvdXQ6IG51bWJlcjsgLy8gc2Vjb25kc1xyXG5cclxuXHQvLyBQZXJmb3JtYW5jZSBPcHRpbWl6YXRpb25cclxuXHRleHBlcmltZW50YWxEYWVtb25Nb2RlOiBib29sZWFuOyAvLyBFbmFibGUgcGVyc2lzdGVudCBQeXRob24gZGFlbW9uIGZvciBCR0UgbW9kZWwgb3B0aW1pemF0aW9uXHJcblx0bG9hZERhZW1vbk9uTGF1bmNoOiBib29sZWFuOyAvLyBTdGFydCBkYWVtb24gd2hlbiBwbHVnaW4gbG9hZHMgdG8gZWxpbWluYXRlIGZpcnN0LXN5bmMgZGVsYXlcclxuXHRsb2dQZXJmb3JtYW5jZTogYm9vbGVhbjsgLy8gRW5hYmxlIGRldGFpbGVkIHRpbWluZyBhbmFseXNpcyBmb3Igc3luYyBwZXJmb3JtYW5jZSBkZWJ1Z2dpbmdcclxuXHJcblx0Ly8gVUkgUHJlZmVyZW5jZXNcclxuXHRzaG93U3luY1N0YXR1czogYm9vbGVhbjtcclxuXHRzaG93Tm90aWZpY2F0aW9uczogYm9vbGVhbjtcclxuXHRjb21wYWN0TW9kZTogYm9vbGVhbjtcclxuXHRzaG93U2NoZW1hVmFsaWRhdGlvbjogYm9vbGVhbjsgLy8gTGVnYWN5IGNvbXBhdGliaWxpdHlcclxuXHJcblx0Ly8gU2NoZW1hIERpc2NvdmVyeSBPcHRpb25zXHJcblx0YXV0b0Rpc2NvdmVyU2NoZW1hczogYm9vbGVhbjtcclxuXHR2YWxpZGF0ZU5hbWluZ0NvbnZlbnRpb25zOiBib29sZWFuO1xyXG5cdHN1Z2dlc3RQcm9wZXJ0eURlc2NyaXB0aW9uczogYm9vbGVhbjtcclxuXHRlbmFibGVQcm90ZWN0ZWRBdHRyaWJ1dGVXYXJuaW5nczogYm9vbGVhbjtcclxuXHJcblx0Ly8gRGV2ZWxvcG1lbnQgT3B0aW9ucyAocmVtb3ZlZCBzaG93RGV2ZWxvcG1lbnRJbmRpY2F0b3JzKVxyXG5cclxuXHQvLyA9PT0gVkVTU0VMIE9QRU4gPT09XHJcblx0Ly8gUHVycG9zZTogT250b2xvZ3kgYW5kIE5hbWVzcGFjaW5nIENvbmZpZ3VyYXRpb25cclxuXHQvLyBJbnRlZ3JhdGlvbjogRW5hYmxlcyBnZW5lcmljIHZzIGN1c3RvbSBlbnRpdHkgZXBpc29kZXMgYW5kIGtub3dsZWRnZSBzZWdtZW50YXRpb25cclxuXHQvLyBNb2RlOiBDb2RlIC0gQ3JpdGljYWwgYXJjaGl0ZWN0dXJhbCBzZXR0aW5nc1xyXG5cclxuXHQvLyBPbnRvbG9neSBDb25maWd1cmF0aW9uXHJcblx0dXNlQ3VzdG9tT250b2xvZ3k6IGJvb2xlYW47IC8vIFRvZ2dsZSBiZXR3ZWVuIGdlbmVyaWMgdnMgY3VzdG9tIGVudGl0eSBlcGlzb2Rlc1xyXG5cclxuXHQvLyBOYW1lc3BhY2luZyBDb25maWd1cmF0aW9uXHJcblx0ZGVmYXVsdE5hbWVzcGFjZTogc3RyaW5nOyAvLyBEZWZhdWx0IG5hbWVzcGFjZSAodmF1bHQgbmFtZSByZWNvbW1lbmRlZClcclxuXHRlbmFibGVGb2xkZXJOYW1lc3BhY2luZzogYm9vbGVhbjsgLy8gVXNlIGZvbGRlciBhcyBuYW1lc3BhY2VcclxuXHRlbmFibGVQcm9wZXJ0eU5hbWVzcGFjaW5nOiBib29sZWFuOyAvLyBVc2UgZ19ncm91cF9pZCBwcm9wZXJ0eSBhcyBuYW1lc3BhY2VcclxuXHRuYW1lc3BhY2VTdHJhdGVneTogJ3ZhdWx0JyB8ICdmb2xkZXInIHwgJ3Byb3BlcnR5JyB8ICdjdXN0b20nOyAvLyBQcmltYXJ5IG5hbWVzcGFjZSBzdHJhdGVneVxyXG5cdGZvbGRlck5hbWVzcGFjZU1hcHBpbmdzOiBGb2xkZXJOYW1lc3BhY2VNYXBwaW5nW107IC8vIEN1c3RvbSBmb2xkZXIgdG8gZ3JvdXBfaWQgbWFwcGluZ3NcclxuXHJcblx0Ly8gTXVsdGktVmF1bHQgQ29uZmlndXJhdGlvblxyXG5cdHZhdWx0Q29uZmlndXJhdGlvbnM6IFZhdWx0Q29uZmlndXJhdGlvbltdOyAvLyBDb25maWd1cmF0aW9uIGZvciBtdWx0aXBsZSB2YXVsdHNcclxuXHRlbmFibGVNdWx0aVZhdWx0TW9kZTogYm9vbGVhbjsgLy8gRW5hYmxlIG11bHRpLXZhdWx0IG1hbmFnZW1lbnQgZmVhdHVyZXNcclxuXHRjdXJyZW50VmF1bHRQcmlvcml0eTogbnVtYmVyOyAvLyBDdXJyZW50IHZhdWx0J3MgcHJpb3JpdHkgaW4gbXVsdGktdmF1bHQgc2V0dXBcclxuXHJcblx0Ly8gTkVXOiBBdmFpbGFibGUgbmFtZXNwYWNlcyBkaXNjb3ZlcmVkIGJ5IHRoZSBwbHVnaW5cclxuXHRhdmFpbGFibGVOYW1lc3BhY2VzOiBzdHJpbmdbXTsgLy8gTGlzdCBvZiBkaXNjb3ZlcmVkIHVuaXF1ZSBuYW1lc3BhY2VzXHJcblxyXG5cdC8vIE1DUCBUb29scyBDb25maWd1cmF0aW9uXHJcblx0bWNwVG9vbHM6IE1DUFRvb2xzU2V0dGluZ3M7XHJcblxyXG5cdC8vID09PSBWRVNTRUwgQ0xPU0UgPT09XHJcblxyXG5cdC8vIFdlYlNvY2tldCBDb25maWd1cmF0aW9uIGZvciBNQ1AgU2VydmVyIENvbW11bmljYXRpb25cclxuXHR3c0VuYWJsZWQ6IGJvb2xlYW47XHJcblx0d3NQb3J0OiBudW1iZXI7XHJcblx0d3NBdXRoVG9rZW46IHN0cmluZztcclxuXHJcblx0Ly8gUHJvcGVydHkgTWFuYWdlbWVudCAoTGVnYWN5IGNvbXBhdGliaWxpdHkpXHJcblx0cHJvcGVydHlNYXBwaW5nczogUmVjb3JkPHN0cmluZywgUmVjb3JkPHN0cmluZywgc3RyaW5nPj47IC8vIHsgXCJFbnRpdHlUeXBlXCI6IHsgXCJvcmlnaW5hbE5hbWVcIjogXCJtYXBwZWROYW1lXCIgfSB9XHJcblx0cHJvcGVydHlTZWxlY3Rpb25zOiBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPj47IC8vIHsgXCJFbnRpdHlUeXBlXCI6IHsgXCJwcm9wZXJ0eU5hbWVcIjogZW5hYmxlZCB9IH1cclxuXHJcblx0Ly8gPT09IEVOSEFOQ0VEIFNDSEVNQSBNQU5BR0VNRU5UIERBVEEgPT09XHJcblx0Ly8gUHVycG9zZTogQ29tcGxldGUgY3VzdG9tIG9udG9sb2d5IGRhdGEgZm9yIFB5ZGFudGljIG1vZGVsIGdlbmVyYXRpb25cclxuXHQvLyBJbnRlZ3JhdGlvbjogU3RvcmVzIGVudGl0eSBkZXNjcmlwdGlvbnMsIHByb3BlcnR5IGRlc2NyaXB0aW9ucywgZWRnZSB0eXBlcywgYW5kIG1hcHBpbmdzXHJcblx0Ly8gTW9kZTogQ29kZSAtIEVuaGFuY2VkIGRhdGEgc3RydWN0dXJlIGZvciBjdXN0b20gb250b2xvZ3kgYXV0aG9yaW5nXHJcblxyXG5cdC8vIEJhc2UgRW50aXR5IHByb3BlcnRpZXMgKHNoYXJlZCBieSBhbGwgZW50aXR5IHR5cGVzKVxyXG5cdGJhc2VFbnRpdHlQcm9wZXJ0aWVzOiBzdHJpbmdbXTtcclxuXHJcblx0Ly8gRW50aXR5IGNsYXNzIG1ldGFkYXRhXHJcblx0ZW50aXR5RGVzY3JpcHRpb25zOiBSZWNvcmQ8c3RyaW5nLCBFbnRpdHlEZXNjcmlwdGlvbj47XHJcblxyXG5cdC8vIFByb3BlcnR5IGRlc2NyaXB0aW9uc1xyXG5cdHByb3BlcnR5RGVzY3JpcHRpb25zOiBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCBQcm9wZXJ0eURlc2NyaXB0aW9uPj47XHJcblxyXG5cdC8vIEVkZ2UgdHlwZXNcclxuXHRlZGdlVHlwZXM6IFJlY29yZDxzdHJpbmcsIEVkZ2VUeXBlPjtcclxuXHJcblx0Ly8gRWRnZSB0eXBlIG1hcHBpbmdzXHJcblx0ZWRnZVR5cGVNYXA6IEVkZ2VUeXBlTWFwcGluZ1tdO1xyXG5cclxuXHQvLyBMTE0gaW50ZWdyYXRpb24gc2V0dGluZ3NcclxuXHRsbG1TY2hlbWFTZXR0aW5nczogTExNU2NoZW1hU2V0dGluZ3M7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBHcmFwaGl0aVBsdWdpblNldHRpbmdzID0ge1xyXG5cdC8vIERhdGFiYXNlIENvbmZpZ3VyYXRpb24gLSBJbmRlcGVuZGVudCBjb25maWdzIHByZXNlcnZlZCB3aGVuIHN3aXRjaGluZ1xyXG5cdGRhdGFiYXNlVHlwZTogJ25lbzRqJyxcclxuXHRkYXRhYmFzZUNvbmZpZ3M6IHtcclxuXHRcdG5lbzRqOiB7XHJcblx0XHRcdHVyaTogJ2JvbHQ6Ly9sb2NhbGhvc3Q6NzY4NycsXHJcblx0XHRcdHVzZXJuYW1lOiAnbmVvNGonLFxyXG5cdFx0XHRwYXNzd29yZDogJycsXHJcblx0XHRcdGRhdGFiYXNlOiAnbmVvNGonXHJcblx0XHR9LFxyXG5cdFx0ZmFsa29yZGI6IHtcclxuXHRcdFx0aG9zdDogJ2xvY2FsaG9zdCcsXHJcblx0XHRcdHBvcnQ6IDYzNzksXHJcblx0XHRcdHVzZXJuYW1lOiB1bmRlZmluZWQsICAvLyBPcHRpb25hbCBmb3IgRmFsa29yREJcclxuXHRcdFx0cGFzc3dvcmQ6IHVuZGVmaW5lZCwgIC8vIE9wdGlvbmFsIGZvciBGYWxrb3JEQlxyXG5cdFx0XHRkYXRhYmFzZTogJ2RlZmF1bHRfZGInICAvLyBPZmZpY2lhbCBGYWxrb3JEQiBkZWZhdWx0XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0Ly8gTExNIFByb3ZpZGVyIENvbmZpZ3VyYXRpb25cclxuXHRsbG1Qcm92aWRlcjogJ29wZW5haScsXHJcblx0bGxtTW9kZWw6ICdncHQtNG8nLFxyXG5cdGxsbVNtYWxsTW9kZWw6ICdncHQtNG8tbWluaScsXHJcblxyXG5cdC8vIENyb3NzLUVuY29kZXIgQ29uZmlndXJhdGlvblxyXG5cdGNyb3NzRW5jb2RlckNsaWVudDogJ29wZW5haScsIC8vIERlZmF1bHQgdG8gT3BlbkFJIFJlcmFua2VyIGFzIHBlciBwbGFuXHJcblx0Y3Jvc3NFbmNvZGVyTW9kZWw6ICdncHQtNG8tbWluaScsIC8vIERlZmF1bHQgT3BlbkFJIHJlcmFua2VyIG1vZGVsIChvbW5pLXJlcmFua2VyLXYxIGRvZXNuJ3QgZXhpc3QpXHJcblxyXG5cdC8vIFByb3ZpZGVyLXNwZWNpZmljIEFQSSBLZXlzXHJcblx0YXBpS2V5czoge1xyXG5cdFx0b3BlbmFpOiAnJyxcclxuXHRcdGFudGhyb3BpYzogJycsXHJcblx0XHRnb29nbGU6ICcnLFxyXG5cdFx0YXp1cmU6ICcnLFxyXG5cdFx0Z3JvcTogJycsXHJcblx0XHR2b3lhZ2U6ICcnLFxyXG5cdFx0dmVuaWNlOiAnJyxcclxuXHRcdG9wZW5yb3V0ZXI6ICcnLFxyXG5cdH0sXHJcblxyXG5cdC8vIEVtYmVkZGVyIENvbmZpZ3VyYXRpb25cclxuXHRlbWJlZGRlclByb3ZpZGVyOiAnb3BlbmFpJyxcclxuXHRlbWJlZGRpbmdNb2RlbDogJ3RleHQtZW1iZWRkaW5nLTMtc21hbGwnLFxyXG5cclxuXHQvLyBNb2RlbCBEZWZhdWx0cyBsb2FkZWQgZnJvbSBzZXR0aW5ncyAoaHlkcmF0ZWQgZnJvbSBkYXRhLmpzb24pXHJcblx0bGxtRGVmYXVsdHM6IHt9LFxyXG5cdGxsbVNtYWxsRGVmYXVsdHM6IHt9LFxyXG5cdGVtYmVkZGluZ0RlZmF1bHRzOiB7fSxcclxuXHJcblx0Ly8gUHJvdmlkZXItc3BlY2lmaWMgc2V0dGluZ3NcclxuXHRhenVyZUVuZHBvaW50OiAnJyxcclxuXHRhenVyZUFwaVZlcnNpb246ICcyMDI0LTAyLTAxJyxcclxuXHRvbGxhbWFCYXNlVXJsOiAnaHR0cDovL2xvY2FsaG9zdDoxMTQzNCcsXHJcblx0b2xsYW1hRW1iZWRkaW5nRGltOiA3NjgsXHJcblx0b3BlbnJvdXRlclByZXNldFNsdWc6ICcnLFxyXG5cdG9wZW5yb3V0ZXJVc2VQcmVzZXRXaXRoQ3VzdG9tTW9kZWw6IGZhbHNlLFxyXG5cclxuXHQvLyBQeXRob24gRW52aXJvbm1lbnRcclxuXHRweXRob25QYXRoOiAnJyxcclxuXHJcblx0Ly8gTUNQIFNlcnZlciBDb25maWd1cmF0aW9uIChMZWdhY3kgY29tcGF0aWJpbGl0eSlcclxuXHRtY3BTZXJ2ZXJVcmw6ICdodHRwOi8vbG9jYWxob3N0JyxcclxuXHRtY3BTZXJ2ZXJQb3J0OiA4MDAwLFxyXG5cdG1jcFNlcnZlckVuYWJsZWQ6IHRydWUsXHJcblx0bWNwQXV0aFRva2VuOiAnJyxcclxuXHRtY3BTZXJ2ZXJBcGlLZXk6ICcnLCAvLyBMZWdhY3kgY29tcGF0aWJpbGl0eVxyXG5cclxuXHQvLyBTeW5jIENvbmZpZ3VyYXRpb25cclxuXHRpbmNsdWRlZEZvbGRlcnM6IFtdLFxyXG5cdGV4Y2x1ZGVkRm9sZGVyczogWycub2JzaWRpYW4nLCAnLnRyYXNoJ10sXHJcblx0Z2xvYmFsbHlJZ25vcmVkRmllbGRzOiBbJ2Nzc2NsYXNzJywgJ3RhZ3MnLCAnYWxpYXNlcyddLFxyXG5cdGF1dG9TeW5jOiB0cnVlLCAvLyBSZW5hbWVkIGZyb20gc3luY09uU2F2ZSAtIGVuYWJsZWQgYnkgZGVmYXVsdFxyXG5cdHN5bmNPcHRpb25zOiAnbmV3X2FuZF91cGRhdGVkJywgLy8gRGVmYXVsdCB0byBtb3JlIGluY2x1c2l2ZSBzeW5jIG9wdGlvblxyXG5cdHN5bmNJbnRlcnZhbDogNSxcclxuXHRiYXRjaFNpemU6IDEwLFxyXG5cdHByb2Nlc3NpbmdEZWxheU1zOiA1MDAsIC8vIERlZmF1bHQgcHJvY2Vzc2luZyBkZWxheSBpbiBtaWxsaXNlY29uZHNcclxuXHJcblx0Ly8gQWR2YW5jZWQgT3B0aW9uc1xyXG5cdGVuYWJsZURlYnVnTG9nZ2luZzogZmFsc2UsXHJcblx0ZW5hYmxlUGVyZm9ybWFuY2VNZXRyaWNzOiBmYWxzZSxcclxuXHRtYXhSZXRyeUF0dGVtcHRzOiAzLFxyXG5cdGNvbm5lY3Rpb25UaW1lb3V0OiAzMCxcclxuXHJcblx0Ly8gUGVyZm9ybWFuY2UgT3B0aW1pemF0aW9uXHJcblx0ZXhwZXJpbWVudGFsRGFlbW9uTW9kZTogZmFsc2UsIC8vIERpc2FibGVkIGJ5IGRlZmF1bHQgZm9yIHNhZmUgcm9sbGJhY2tcclxuXHRsb2FkRGFlbW9uT25MYXVuY2g6IGZhbHNlLCAvLyBEaXNhYmxlZCBieSBkZWZhdWx0IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XHJcblx0bG9nUGVyZm9ybWFuY2U6IGZhbHNlLCAvLyBEaXNhYmxlZCBieSBkZWZhdWx0IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XHJcblxyXG5cdC8vIFVJIFByZWZlcmVuY2VzXHJcblx0c2hvd1N5bmNTdGF0dXM6IHRydWUsXHJcblx0c2hvd05vdGlmaWNhdGlvbnM6IHRydWUsXHJcblx0Y29tcGFjdE1vZGU6IGZhbHNlLFxyXG5cdHNob3dTY2hlbWFWYWxpZGF0aW9uOiB0cnVlLCAvLyBMZWdhY3kgY29tcGF0aWJpbGl0eVxyXG5cclxuXHQvLyBTY2hlbWEgRGlzY292ZXJ5IE9wdGlvbnNcclxuXHRhdXRvRGlzY292ZXJTY2hlbWFzOiB0cnVlLFxyXG5cdHZhbGlkYXRlTmFtaW5nQ29udmVudGlvbnM6IHRydWUsXHJcblx0c3VnZ2VzdFByb3BlcnR5RGVzY3JpcHRpb25zOiB0cnVlLFxyXG5cdGVuYWJsZVByb3RlY3RlZEF0dHJpYnV0ZVdhcm5pbmdzOiB0cnVlLFxyXG5cclxuXHQvLyBEZXZlbG9wbWVudCBPcHRpb25zIChyZW1vdmVkIHNob3dEZXZlbG9wbWVudEluZGljYXRvcnMpXHJcblxyXG5cdC8vID09PSBWRVNTRUwgT1BFTiA9PT1cclxuXHQvLyBQdXJwb3NlOiBEZWZhdWx0IHZhbHVlcyBmb3Igb250b2xvZ3kgYW5kIG5hbWVzcGFjaW5nIHNldHRpbmdzXHJcblx0Ly8gSW50ZWdyYXRpb246IFNhZmUgZGVmYXVsdHMgZm9yIG5ldyBhcmNoaXRlY3R1cmFsIGZlYXR1cmVzXHJcblx0Ly8gTW9kZTogQ29kZSAtIERlZmF1bHQgY29uZmlndXJhdGlvbiB2YWx1ZXNcclxuXHJcblx0Ly8gT250b2xvZ3kgQ29uZmlndXJhdGlvblxyXG5cdHVzZUN1c3RvbU9udG9sb2d5OiBmYWxzZSwgLy8gU3RhcnQgd2l0aCBnZW5lcmljIGVwaXNvZGVzIGZvciBzYWZldHlcclxuXHJcblx0Ly8gTmFtZXNwYWNpbmcgQ29uZmlndXJhdGlvblxyXG5cdGRlZmF1bHROYW1lc3BhY2U6ICdteS12YXVsdCcsIC8vIFdpbGwgYmUgdXBkYXRlZCB0byBhY3R1YWwgdmF1bHQgbmFtZSBvbiBmaXJzdCBydW5cclxuXHRlbmFibGVGb2xkZXJOYW1lc3BhY2luZzogZmFsc2UsIC8vIERpc2FibGVkIGJ5IGRlZmF1bHRcclxuXHRlbmFibGVQcm9wZXJ0eU5hbWVzcGFjaW5nOiBmYWxzZSwgLy8gRGlzYWJsZWQgYnkgZGVmYXVsdFxyXG5cdG5hbWVzcGFjZVN0cmF0ZWd5OiAndmF1bHQnLCAvLyBVc2UgdmF1bHQgYXMgZGVmYXVsdCBzdHJhdGVneVxyXG5cdGZvbGRlck5hbWVzcGFjZU1hcHBpbmdzOiBbXSwgLy8gRW1wdHkgYXJyYXkgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcclxuXHJcblx0Ly8gTXVsdGktVmF1bHQgQ29uZmlndXJhdGlvblxyXG5cdHZhdWx0Q29uZmlndXJhdGlvbnM6IFtdLCAvLyBFbXB0eSBhcnJheSBmb3IgbmV3IGluc3RhbGxhdGlvbnNcclxuXHRlbmFibGVNdWx0aVZhdWx0TW9kZTogZmFsc2UsIC8vIERpc2FibGVkIGJ5IGRlZmF1bHRcclxuXHRjdXJyZW50VmF1bHRQcmlvcml0eTogMSwgLy8gRGVmYXVsdCBwcmlvcml0eSBmb3IgY3VycmVudCB2YXVsdFxyXG5cclxuLy8gTkVXOiBEZWZhdWx0IGVtcHR5IGFycmF5IGZvciBhdmFpbGFibGUgbmFtZXNwYWNlc1xyXG5hdmFpbGFibGVOYW1lc3BhY2VzOiBbXSxcclxuLy8gTUNQIFRvb2xzIHNldHRpbmdzIChQaGFzZSAxKVxyXG5tY3BUb29sczoge1xyXG5cdGRlZmF1bHRzOiB7XHJcblx0XHRpbmJveEZvbGRlcjogJycsXHJcblx0XHRlbmFibGVTbWFydEZvbGRlclJlc29sdXRpb246IHRydWVcclxuXHR9LFxyXG5cdGludGVncmF0aW9uczoge1xyXG5cdFx0dGVtcGxhdGVyOiB7IGRldGVjdGVkOiBmYWxzZSwgZW5hYmxlZDogZmFsc2UsIHVzZVRlbXBsYXRlRm9sZGVyczogZmFsc2UgfSxcclxuXHRcdHBlcmlvZGljTm90ZXM6IHsgZGV0ZWN0ZWQ6IGZhbHNlLCBlbmFibGVkOiBmYWxzZSwgdXNlUGVyaW9kaWNGb2xkZXJzOiBmYWxzZSB9XHJcblx0fSxcclxuXHR0b29sczogW11cclxufSxcclxuXHJcblx0Ly8gPT09IFZFU1NFTCBDTE9TRSA9PT1cclxuXHJcblx0Ly8gV2ViU29ja2V0IENvbmZpZ3VyYXRpb24gZm9yIE1DUCBTZXJ2ZXIgQ29tbXVuaWNhdGlvblxyXG5cdHdzRW5hYmxlZDogZmFsc2UsXHJcblx0d3NQb3J0OiA0MTQ4NCxcclxuXHR3c0F1dGhUb2tlbjogJycsXHJcblxyXG5cdC8vIFByb3BlcnR5IE1hbmFnZW1lbnQgKExlZ2FjeSBjb21wYXRpYmlsaXR5KVxyXG5cdHByb3BlcnR5TWFwcGluZ3M6IHt9LFxyXG5cdHByb3BlcnR5U2VsZWN0aW9uczoge30sXHJcblxyXG5cdC8vID09PSBFTkhBTkNFRCBTQ0hFTUEgTUFOQUdFTUVOVCBERUZBVUxUUyA9PT1cclxuXHQvLyBQdXJwb3NlOiBEZWZhdWx0IHZhbHVlcyBmb3IgZW5oYW5jZWQgY3VzdG9tIG9udG9sb2d5IGRhdGFcclxuXHQvLyBJbnRlZ3JhdGlvbjogU2FmZSBkZWZhdWx0cyBmb3IgbmV3IHNjaGVtYSBtYW5hZ2VtZW50IGZlYXR1cmVzXHJcblx0Ly8gTW9kZTogQ29kZSAtIERlZmF1bHQgY29uZmlndXJhdGlvbiB2YWx1ZXNcclxuXHJcblx0Ly8gQmFzZSBFbnRpdHkgcHJvcGVydGllcyAoc2hhcmVkIGJ5IGFsbCBlbnRpdHkgdHlwZXMpXHJcblx0YmFzZUVudGl0eVByb3BlcnRpZXM6IFsndHlwZScsICd0YWdzJywgJ2NyZWF0ZWQnXSxcclxuXHJcblx0Ly8gRW50aXR5IGNsYXNzIG1ldGFkYXRhXHJcblx0ZW50aXR5RGVzY3JpcHRpb25zOiB7fSxcclxuXHJcblx0Ly8gUHJvcGVydHkgZGVzY3JpcHRpb25zXHJcblx0cHJvcGVydHlEZXNjcmlwdGlvbnM6IHt9LFxyXG5cclxuXHQvLyBFZGdlIHR5cGVzXHJcblx0ZWRnZVR5cGVzOiB7fSxcclxuXHJcblx0Ly8gRWRnZSB0eXBlIG1hcHBpbmdzXHJcblx0ZWRnZVR5cGVNYXA6IFtdLFxyXG5cclxuXHQvLyBMTE0gaW50ZWdyYXRpb24gc2V0dGluZ3NcclxubGxtU2NoZW1hU2V0dGluZ3M6IHtcclxuXHRhdXRvU3VnZ2VzdEVudGl0eURlc2NyaXB0aW9uczogZmFsc2UsXHJcblx0YXV0b1N1Z2dlc3RQcm9wZXJ0eURlc2NyaXB0aW9uczogZmFsc2UsXHJcblx0YXV0b1N1Z2dlc3RFZGdlVHlwZXM6IGZhbHNlLFxyXG5cdGF1dG9TdWdnZXN0RWRnZVR5cGVNYXBwaW5nczogZmFsc2UsXHJcblx0ZW5hYmxlQnVsa0dlbmVyYXRpb246IGZhbHNlLFxyXG5cdHN1Z2dlc3Rpb25BcHByb3ZhbFJlcXVpcmVkOiB0cnVlLFxyXG59LFxyXG59O1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb25uZWN0aW9uVGVzdFJlc3VsdCB7XHJcblx0c3VjY2VzczogYm9vbGVhbjtcclxuXHRtZXNzYWdlOiBzdHJpbmc7XHJcblx0ZGV0YWlscz86IHN0cmluZztcclxuXHRsYXRlbmN5PzogbnVtYmVyO1xyXG59IiwiaW1wb3J0IHsgUGx1Z2luLCBURmlsZSwgVEZvbGRlciwgTm90aWNlLCBNYXJrZG93blZpZXcsIHNldEljb24sIG5vcm1hbGl6ZVBhdGggfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBqb2luIH0gZnJvbSAncGF0aCc7XG5pbXBvcnQgeyBHcmFwaGl0aUxvZ2dlciB9IGZyb20gJy4vdXRpbHMvTG9nZ2VyJztcbmltcG9ydCB7IGRlYm91bmNlIH0gZnJvbSAnLi91dGlscy9kZWJvdW5jZSc7XG5pbXBvcnQgeyBXZWJTb2NrZXRTZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlcy9XZWJTb2NrZXRTZXJ2aWNlJztcbmltcG9ydCB7IFN5bmNSZWdpc3RyeVNlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL1N5bmNSZWdpc3RyeVNlcnZpY2UnO1xuaW1wb3J0IHsgVmF1bHRSZWdpc3RyeVNlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL1ZhdWx0UmVnaXN0cnlTZXJ2aWNlJztcbmltcG9ydCB7IEdyYXBoaXRpU2VydmljZSB9IGZyb20gJy4vc2VydmljZXMvR3JhcGhpdGlTZXJ2aWNlJztcbmltcG9ydCB7IFB5dGhvbkRhZW1vbkJyaWRnZSB9IGZyb20gJy4vc2VydmljZXMvUHl0aG9uRGFlbW9uQnJpZGdlJztcbmltcG9ydCB7IFB5dGhvbkluc3RhbGxlciB9IGZyb20gJy4vc2VydmljZXMvUHl0aG9uSW5zdGFsbGVyJztcbmltcG9ydCB7IFNjaGVtYURpc2NvdmVyeVNlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL1NjaGVtYURpc2NvdmVyeVNlcnZpY2UnO1xuaW1wb3J0IHsgU3luY1N0YXR1c01hbmFnZXIgfSBmcm9tICcuL3NlcnZpY2VzL1N5bmNTdGF0dXNNYW5hZ2VyJztcbmltcG9ydCB7IFNjaGVtYU1hbmFnZXJWaWV3LCBTQ0hFTUFfTUFOQUdFUl9WSUVXX1RZUEUgfSBmcm9tICcuL3ZpZXdzL1NjaGVtYU1hbmFnZXJWaWV3JztcbmltcG9ydCB7IG9wZW5FbmhhbmNlZFN5bmNVSSB9IGZyb20gJy4vdWkvRW5oYW5jZWRTeW5jVUknO1xuaW1wb3J0IHsgR3JhcGhpdGlTZXR0aW5nc1RhYiB9IGZyb20gJy4vc2V0dGluZ3MvU2V0dGluZ3NUYWInO1xuaW1wb3J0IHR5cGUgeyBHcmFwaGl0aVBsdWdpblNldHRpbmdzIH0gZnJvbSAnLi90eXBlcy9TZXR0aW5ncyc7XG5pbXBvcnQgeyBERUZBVUxUX1NFVFRJTkdTIH0gZnJvbSAnLi90eXBlcy9TZXR0aW5ncyc7XG5pbXBvcnQgXCJ2aXJ0dWFsOnVuby5jc3NcIjtcbmltcG9ydCBcIi4vc3R5bGVzL3N5bmMtc3RhdHVzLWljb25zLmNzc1wiO1xuXG4vKlxuIEB2ZXNzZWwtcHJvdG9jb2w6VWxsciBnb3Zlcm5zOmV4cGxvcmUtdmF1bHQgY29udGV4dDpWYXVsdCBmb2xkZXIgZXhwbG9yYXRpb24gaGVscGVycyBhbmQgTUNQIHRvb2wgaW50ZWdyYXRpb25cbiBAaW50ZXItZGVwZW5kZW5jaWVzOiBbT2JzaWRpYW4gYXBwLnZhdWx0IEFQSXMsIG5vcm1hbGl6ZVBhdGgsIFRGb2xkZXJdXG4gQHB1cnBvc2U6IFByb3ZpZGUgaGVscGVyIGZ1bmN0aW9ucyBmb3IgaW50ZWxsaWdlbnQgdmF1bHQgZm9sZGVyIGV4cGxvcmF0aW9uIHVzZWQgYnkgTUNQIHNlcnZlciB0b29sc1xuIEByZXN1bHQ6IEltcGxlbWVudCBleHBsb3JlX3ZhdWx0X2ZvbGRlcnMgYmVoYXZpb3IgaW5saW5lIGZvciBxdWljayBpbnRlZ3JhdGlvbiBhbmQgdGVzdGluZ1xuIEBzaWduZWQ6IEMuQmrDuHJuXG4qL1xudHlwZSBFeHBsb3JlRm9ybWF0ID0gJ3RyZWUnIHwgJ2ZsYXQnIHwgJ3BhdGhzJyB8ICdzbWFydCc7XG5cbmludGVyZmFjZSBFeHBsb3JlUmVzdWx0SXRlbSB7XG4gICAgcGF0aDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBwYXJlbnRQYXRoPzogc3RyaW5nO1xuICAgIGNoaWxkcmVuPzogRXhwbG9yZVJlc3VsdEl0ZW1bXTtcbiAgICBtYXRjaFJlYXNvbj86IHN0cmluZztcbiAgICBoaWdobGlnaHRNYXRjaD86IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIEV4cGxvcmVSZXNwb25zZSB7XG4gICAgcmVzdWx0czogRXhwbG9yZVJlc3VsdEl0ZW1bXTtcbiAgICB0b3RhbEZvbGRlcnM6IG51bWJlcjtcbiAgICBzZWFyY2hRdWVyeT86IHN0cmluZztcbiAgICBmb3JtYXQ6IHN0cmluZztcbn1cblxuZnVuY3Rpb24gc2FmZU5vcm1hbGl6ZShwPzogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAoIXApIHJldHVybiAnJztcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gbm9ybWFsaXplUGF0aChwKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIHAucmVwbGFjZSgvXFxcXFxcXFwvZywgJy8nKS5yZXBsYWNlKC9cXFxcL2csICcvJyk7XG4gICAgfVxufVxuXG4vKipcbiAqIENvbGxlY3QgYWxsIGZvbGRlcnMgdW5kZXIgYSByb290IFRGb2xkZXIgKGl0ZXJhdGl2ZSB0byBhdm9pZCByZWN1cnNpb24gbGltaXRzKVxuICovXG5mdW5jdGlvbiBjb2xsZWN0QWxsRm9sZGVycyhyb290OiBURm9sZGVyKTogVEZvbGRlcltdIHtcbiAgICBjb25zdCBvdXQ6IFRGb2xkZXJbXSA9IFtdO1xuICAgIGNvbnN0IHN0YWNrOiBURm9sZGVyW10gPSBbcm9vdF07XG4gICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgZiA9IHN0YWNrLnBvcCgpITtcbiAgICAgICAgb3V0LnB1c2goZik7XG4gICAgICAgIGZvciAoY29uc3QgYyBvZiBmLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAoYyBpbnN0YW5jZW9mIFRGb2xkZXIpIHtcbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQnVpbGQgYSBkZXB0aC1saW1pdGVkIHRyZWUgZnJvbSBhIGZvbGRlclxuICovXG5mdW5jdGlvbiBidWlsZEZvbGRlclRyZWUoZm9sZGVyOiBURm9sZGVyLCBkZXB0aDogbnVtYmVyKTogRXhwbG9yZVJlc3VsdEl0ZW0ge1xuICAgIGNvbnN0IG5vZGU6IEV4cGxvcmVSZXN1bHRJdGVtID0ge1xuICAgICAgICBwYXRoOiBmb2xkZXIucGF0aCxcbiAgICAgICAgbmFtZTogZm9sZGVyLm5hbWUsXG4gICAgICAgIHBhcmVudFBhdGg6IChmb2xkZXIucGFyZW50ICYmIChmb2xkZXIucGFyZW50IGFzIGFueSkucGF0aCkgfHwgJydcbiAgICB9O1xuXG4gICAgaWYgKGRlcHRoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cblxuICAgIGNvbnN0IGNoaWxkcmVuOiBFeHBsb3JlUmVzdWx0SXRlbVtdID0gW107XG4gICAgZm9sZGVyLmNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4ge1xuICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBURm9sZGVyKSB7XG4gICAgICAgICAgICBjaGlsZHJlbi5wdXNoKGJ1aWxkRm9sZGVyVHJlZShjaGlsZCwgZGVwdGggPiAwID8gZGVwdGggLSAxIDogZGVwdGgpKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDApIG5vZGUuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICByZXR1cm4gbm9kZTtcbn1cblxuLyoqXG4gKiBGbGF0dGVuIGFycmF5IG9mIFRGb2xkZXIgaW50byBFeHBsb3JlUmVzdWx0SXRlbVxuICovXG5mdW5jdGlvbiBmb2xkZXJUb0l0ZW0oZm9sZGVyOiBURm9sZGVyKTogRXhwbG9yZVJlc3VsdEl0ZW0ge1xuICAgIHJldHVybiB7XG4gICAgICAgIHBhdGg6IGZvbGRlci5wYXRoLFxuICAgICAgICBuYW1lOiBmb2xkZXIubmFtZSxcbiAgICAgICAgcGFyZW50UGF0aDogKGZvbGRlci5wYXJlbnQgJiYgKGZvbGRlci5wYXJlbnQgYXMgYW55KS5wYXRoKSB8fCAnJ1xuICAgIH07XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgZm9sZGVyIG1hdGNoZXMgcXVlcnkgKGNhc2UtaW5zZW5zaXRpdmUgcGFydGlhbCBvbiBuYW1lIG9yIHBhdGgpXG4gKi9cbmZ1bmN0aW9uIGZvbGRlck1hdGNoZXNRdWVyeShmb2xkZXI6IFRGb2xkZXIsIHF1ZXJ5OiBzdHJpbmcpOiB7IG1hdGNoZWQ6IGJvb2xlYW47IHJlYXNvbj86IHN0cmluZzsgaGlnaGxpZ2h0Pzogc3RyaW5nIH0ge1xuICAgIGNvbnN0IHEgPSBxdWVyeS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAoIXEpIHJldHVybiB7IG1hdGNoZWQ6IGZhbHNlIH07XG5cbiAgICBjb25zdCBuYW1lID0gZm9sZGVyLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBwYXRoID0gZm9sZGVyLnBhdGgudG9Mb3dlckNhc2UoKTtcblxuICAgIGlmIChuYW1lLmluY2x1ZGVzKHEpKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gZm9sZGVyLm5hbWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKHEpO1xuICAgICAgICBjb25zdCBoaWdobGlnaHQgPSBmb2xkZXIubmFtZS5zdWJzdHJpbmcoc3RhcnQsIHN0YXJ0ICsgcS5sZW5ndGgpO1xuICAgICAgICByZXR1cm4geyBtYXRjaGVkOiB0cnVlLCByZWFzb246ICduYW1lJywgaGlnaGxpZ2h0IH07XG4gICAgfVxuXG4gICAgaWYgKHBhdGguaW5jbHVkZXMocSkpIHtcbiAgICAgICAgY29uc3Qgc3RhcnRJZHggPSBmb2xkZXIucGF0aC50b0xvd2VyQ2FzZSgpLmluZGV4T2YocSk7XG4gICAgICAgIGNvbnN0IGhpZ2hsaWdodCA9IGZvbGRlci5wYXRoLnN1YnN0cmluZyhzdGFydElkeCwgc3RhcnRJZHggKyBxLmxlbmd0aCk7XG4gICAgICAgIHJldHVybiB7IG1hdGNoZWQ6IHRydWUsIHJlYXNvbjogJ3BhdGgnLCBoaWdobGlnaHQgfTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBtYXRjaGVkOiBmYWxzZSB9O1xufVxuXG4vKipcbiAqIERlY2lkZSBmb3JtYXQgd2hlbiAnc21hcnQnIGlzIHJlcXVlc3RlZFxuICovXG5mdW5jdGlvbiBzZWxlY3RTbWFydEZvcm1hdChxdWVyeT86IHN0cmluZywgcGF0aD86IHN0cmluZyk6IEV4cGxvcmVGb3JtYXQge1xuICAgIGlmICghcXVlcnkgJiYgcGF0aCkgcmV0dXJuICd0cmVlJztcbiAgICBpZiAoIXF1ZXJ5ICYmICFwYXRoKSByZXR1cm4gJ3RyZWUnO1xuICAgIC8vIElmIHF1ZXJ5IGxvb2tzIGxpa2UgYSBsb2NhdGlvbiByZXF1ZXN0IChjb250YWlucyBzbGFzaCBvciB3b3JkcyAnd2hlcmUnLydwYXRoJyksIHByZWZlciBwYXRoc1xuICAgIGNvbnN0IHFMb3dlciA9IChxdWVyeSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAocUxvd2VyLmluY2x1ZGVzKCcvJykgfHwgcUxvd2VyLmluY2x1ZGVzKCd3aGVyZScpIHx8IHFMb3dlci5pbmNsdWRlcygncGF0aCcpIHx8IHFMb3dlci5zdGFydHNXaXRoKCdmaW5kICcpKSB7XG4gICAgICAgIHJldHVybiAncGF0aHMnO1xuICAgIH1cbiAgICAvLyBvdGhlcndpc2UgcHJlZmVyIGZsYXQgc2VhcmNoIHJlc3VsdHMgZm9yIHF1ZXJpZXNcbiAgICByZXR1cm4gJ2ZsYXQnO1xufVxuLy8gQHZlc3NlbC1jbG9zZTpVbGxyXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyYXBoaXRpUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcbiAgICBzZXR0aW5ncyE6IEdyYXBoaXRpUGx1Z2luU2V0dGluZ3M7XG4gICAgbG9nZ2VyITogR3JhcGhpdGlMb2dnZXI7XG4gICAgd3NTZXJ2aWNlITogV2ViU29ja2V0U2VydmljZTtcbiAgICBzeW5jUmVnaXN0cnlTZXJ2aWNlITogU3luY1JlZ2lzdHJ5U2VydmljZTtcbiAgICB2YXVsdFJlZ2lzdHJ5U2VydmljZSE6IFZhdWx0UmVnaXN0cnlTZXJ2aWNlO1xuICAgIGdyYXBoaXRpU2VydmljZSE6IEdyYXBoaXRpU2VydmljZTtcbiAgICBweXRob25EYWVtb25CcmlkZ2UhOiBQeXRob25EYWVtb25CcmlkZ2U7XG4gICAgc2NoZW1hU2VydmljZSE6IFNjaGVtYURpc2NvdmVyeVNlcnZpY2U7XG4gICAgc3luY1N0YXR1c01hbmFnZXIhOiBTeW5jU3RhdHVzTWFuYWdlcjtcbiAgICBzZXJ2aWNlczogYW55W10gPSBbXTtcbiAgICAvLyBTeW5jIHNjaGVkdWxpbmcgKHNjaGVkdWxlci1vbmx5LCBubyBwZXItbm90ZSBkZWJvdW5jZSlcbiAgICBwcml2YXRlIHN5bmNJbnRlcnZhbElkOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgICBwcml2YXRlIHN5bmNKc29uV2F0Y2hlcjogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgZGVib3VuY2VkU3luY0N1cnJlbnROb3RlPzogKCkgPT4gdm9pZDtcbiAgICBwcml2YXRlIG5lZWRzRGVmYXVsdHNQZXJzaXN0OiBib29sZWFuID0gZmFsc2U7XG5cblxuICAgIC8vIEB2ZXNzZWwtcHJvdG9jb2w6TG9raSBnb3Zlcm5zOm1pZ3JhdGlvbiBjb250ZXh0OkxlZ2FjeSBzeW5jT25TYXZlIHRvIGF1dG9TeW5jIHNldHRpbmdzIHRyYW5zaXRpb25cbiAgICAvLyBAaW50ZXItZGVwZW5kZW5jaWVzOiBbU2V0dGluZ3MudHMsIFNldHRpbmdzVGFiLnRzXVxuICAgIC8vIEBwdXJwb3NlOiBTZWFtbGVzc2x5IG1pZ3JhdGUgdXNlcnMgZnJvbSBvbGQgc3luY09uU2F2ZSBwcm9wZXJ0eSB0byBuZXcgYXV0b1N5bmMgd2l0aCBlbmhhbmNlZCBmdW5jdGlvbmFsaXR5XG4gICAgLy8gQHJlc3VsdDogVXNlcnMgZXhwZXJpZW5jZSBubyBkaXNydXB0aW9uIHdoaWxlIGdhaW5pbmcgYWNjZXNzIHRvIG5ldyBzeW5jIGZpbHRlcmluZyBvcHRpb25zXG4gICAgLy8gQHNpZ25lZDogQy5CasO4cm5cbiAgICBhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG4gICAgICAgIGNvbnN0IHJhd1NldHRpbmdzID0gYXdhaXQgdGhpcy5sb2FkRGF0YSgpO1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgcmF3U2V0dGluZ3MpO1xuXG4gICAgICAgIC8vIEh5ZHJhdGUgTExNL0VtYmVkZGluZyBkZWZhdWx0cyBmcm9tIGRhdGEuanNvbiBpbnRvIHRvcC1sZXZlbCBzZXR0aW5ncyBmb3IgVUkgY29uc3VtcHRpb25cbiAgICAgICAgLy8gQWNjZXB0IGJvdGggdG9wLWxldmVsIGFuZCBuZXN0ZWQgKG1jcFNlcnZlcnMuKikgc291cmNlcyBhbmQgbm9ybWFsaXplIFwiZW1iZWRkZXJEZWZhdWx0c1wiIC0+IFwiZW1iZWRkaW5nRGVmYXVsdHNcIlxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcnM6IGFueSA9IHJhd1NldHRpbmdzIHx8IHt9O1xuICAgICAgICAgICAgY29uc3QgczogYW55ID0gdGhpcy5zZXR0aW5ncyBhcyBhbnk7XG4gICAgICAgICAgICBjb25zdCBpc0VtcHR5ID0gKG9iajogYW55KSA9PiAhb2JqIHx8ICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBPYmplY3Qua2V5cyhvYmopLmxlbmd0aCA9PT0gMCk7XG4gICAgICAgICAgICBsZXQgZGlkSHlkcmF0ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBsbG1EZWZhdWx0c1xuICAgICAgICAgICAgaWYgKGlzRW1wdHkocy5sbG1EZWZhdWx0cykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b3AgPSBycy5sbG1EZWZhdWx0cztcbiAgICAgICAgICAgICAgICBjb25zdCBuZXN0ZWQgPSBycy5tY3BTZXJ2ZXJzPy5sbG1EZWZhdWx0cztcbiAgICAgICAgICAgICAgICBpZiAoIWlzRW1wdHkodG9wKSkge1xuICAgICAgICAgICAgICAgICAgICBzLmxsbURlZmF1bHRzID0gdG9wO1xuICAgICAgICAgICAgICAgICAgICBkaWRIeWRyYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFpc0VtcHR5KG5lc3RlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcy5sbG1EZWZhdWx0cyA9IG5lc3RlZDtcbiAgICAgICAgICAgICAgICAgICAgZGlkSHlkcmF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBsbG1TbWFsbERlZmF1bHRzXG4gICAgICAgICAgICBpZiAoaXNFbXB0eShzLmxsbVNtYWxsRGVmYXVsdHMpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9wID0gcnMubGxtU21hbGxEZWZhdWx0cztcbiAgICAgICAgICAgICAgICBjb25zdCBuZXN0ZWQgPSBycy5tY3BTZXJ2ZXJzPy5sbG1TbWFsbERlZmF1bHRzO1xuICAgICAgICAgICAgICAgIGlmICghaXNFbXB0eSh0b3ApKSB7XG4gICAgICAgICAgICAgICAgICAgIHMubGxtU21hbGxEZWZhdWx0cyA9IHRvcDtcbiAgICAgICAgICAgICAgICAgICAgZGlkSHlkcmF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghaXNFbXB0eShuZXN0ZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHMubGxtU21hbGxEZWZhdWx0cyA9IG5lc3RlZDtcbiAgICAgICAgICAgICAgICAgICAgZGlkSHlkcmF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBlbWJlZGRpbmdEZWZhdWx0cyAobm9ybWFsaXplIGFsdGVybmF0ZSBrZXkgXCJlbWJlZGRlckRlZmF1bHRzXCIpXG4gICAgICAgICAgICBpZiAoaXNFbXB0eShzLmVtYmVkZGluZ0RlZmF1bHRzKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvcCA9IHJzLmVtYmVkZGluZ0RlZmF1bHRzO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5lc3RlZEEgPSBycy5tY3BTZXJ2ZXJzPy5lbWJlZGRpbmdEZWZhdWx0cztcbiAgICAgICAgICAgICAgICBjb25zdCBuZXN0ZWRCID0gcnMubWNwU2VydmVycz8uZW1iZWRkZXJEZWZhdWx0cztcbiAgICAgICAgICAgICAgICBpZiAoIWlzRW1wdHkodG9wKSkge1xuICAgICAgICAgICAgICAgICAgICBzLmVtYmVkZGluZ0RlZmF1bHRzID0gdG9wO1xuICAgICAgICAgICAgICAgICAgICBkaWRIeWRyYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFpc0VtcHR5KG5lc3RlZEEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHMuZW1iZWRkaW5nRGVmYXVsdHMgPSBuZXN0ZWRBO1xuICAgICAgICAgICAgICAgICAgICBkaWRIeWRyYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFpc0VtcHR5KG5lc3RlZEIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHMuZW1iZWRkaW5nRGVmYXVsdHMgPSBuZXN0ZWRCO1xuICAgICAgICAgICAgICAgICAgICBkaWRIeWRyYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFBlcnNpc3QgaW1tZWRpYXRlbHkgc28gU2V0dGluZ3NUYWIgc2VlcyBoeWRyYXRlZCBkZWZhdWx0cyBvbiBmaXJzdCByZW5kZXJcbiAgICAgICAgICAgIGlmIChkaWRIeWRyYXRlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZWVkc0RlZmF1bHRzUGVyc2lzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBwZXJzaXN0ZW5jZSBmYWlscyAoZS5nLiwgZHVyaW5nIHZlcnkgZWFybHkgbG9hZCksIG1hcmsgZm9yIGxhdGVyIHBlcnNpc3RlbmNlIGFmdGVyIGxvZ2dlciBpbml0XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmVlZHNEZWZhdWx0c1BlcnNpc3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAvLyBJbnRlbnRpb25hbGx5IHNpbGVudCAtIGh5ZHJhdGlvbiBpcyBiZXN0LWVmZm9ydCBhbmQgVUkgaGFzIGludGVybmFsIGZhbGxiYWNrc1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTWlncmF0aW9uIGxvZ2ljOiBIYW5kbGUgdHJhbnNpdGlvbiBmcm9tIHN5bmNPblNhdmUgdG8gYXV0b1N5bmNcbiAgICAgICAgaWYgKHJhd1NldHRpbmdzICYmICdzeW5jT25TYXZlJyBpbiByYXdTZXR0aW5ncyAmJiAhKCdhdXRvU3luYycgaW4gcmF3U2V0dGluZ3MpKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlcj8uZGVidWcoJ01pZ3JhdGluZyBzeW5jT25TYXZlIHNldHRpbmcgdG8gYXV0b1N5bmMnLCB7XG4gICAgICAgICAgICAgICAgb2xkVmFsdWU6IChyYXdTZXR0aW5ncyBhcyBhbnkpLnN5bmNPblNhdmVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBQcmVzZXJ2ZSB1c2VyJ3MgZXhpc3Rpbmcgc3luYyBiZWhhdmlvclxuICAgICAgICAgICAgKHRoaXMuc2V0dGluZ3MgYXMgYW55KS5hdXRvU3luYyA9IChyYXdTZXR0aW5ncyBhcyBhbnkpLnN5bmNPblNhdmU7XG5cbiAgICAgICAgICAgIC8vIFNldCBkZWZhdWx0IHN5bmMgb3B0aW9ucyBiYXNlZCBvbiBsZWdhY3kgYmVoYXZpb3JcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3Muc3luY09wdGlvbnMgPSAnbmV3X2FuZF91cGRhdGVkJzsgLy8gTGVnYWN5IGJlaGF2aW9yIHdhcyB0byBzeW5jIGFsbCBjaGFuZ2VzXG5cbiAgICAgICAgICAgIC8vIFNhdmUgbWlncmF0ZWQgc2V0dGluZ3MgYW5kIHJlbW92ZSBvbGQgcHJvcGVydHlcbiAgICAgICAgICAgIGRlbGV0ZSAocmF3U2V0dGluZ3MgYXMgYW55KS5zeW5jT25TYXZlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcblxuICAgICAgICAgICAgdGhpcy5sb2dnZXI/LmluZm8oJ1N1Y2Nlc3NmdWxseSBtaWdyYXRlZCBzeW5jIHNldHRpbmdzJywge1xuICAgICAgICAgICAgICAgIGF1dG9TeW5jOiB0aGlzLnNldHRpbmdzLmF1dG9TeW5jLFxuICAgICAgICAgICAgICAgIHN5bmNPcHRpb25zOiB0aGlzLnNldHRpbmdzLnN5bmNPcHRpb25zXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBAdmVzc2VsLWNsb3NlOkxva2lcblxuICAgIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblxuICAgICAgICAvLyBVcGRhdGUgbG9nZ2VyIGRlYnVnIHN0YXRlXG4gICAgICAgIGlmICh0aGlzLmxvZ2dlcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuc2V0RGVidWcodGhpcy5zZXR0aW5ncy5lbmFibGVEZWJ1Z0xvZ2dpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIHN5bmMgc2NoZWR1bGluZyB3aGVuIHNldHRpbmdzIGNoYW5nZVxuICAgICAgICBpZiAodGhpcy5ncmFwaGl0aVNlcnZpY2UpIHtcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpdGlTZXJ2aWNlLnVwZGF0ZVNldHRpbmdzKHRoaXMuc2V0dGluZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc3luY1N0YXR1c01hbmFnZXIpIHtcbiAgICAgICAgICAgIHRoaXMuc3luY1N0YXR1c01hbmFnZXIudXBkYXRlU2V0dGluZ3ModGhpcy5zZXR0aW5ncyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGUgc3luYyBzY2hlZHVsaW5nXG4gICAgICAgIHRoaXMudXBkYXRlU3luY1NjaGVkdWxpbmcoKTtcbiAgICB9XG5cbiAgICBhc3luYyBvbmxvYWQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXG4gICAgICAgICAgICAvLyBTZXQgdmF1bHQgbmFtZSBhcyBkZWZhdWx0IG5hbWVzcGFjZSBvbiBmaXJzdCBydW5cbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmRlZmF1bHROYW1lc3BhY2UgPT09ICdteS12YXVsdCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLmRlZmF1bHROYW1lc3BhY2UgPSB0aGlzLmFwcC52YXVsdC5nZXROYW1lKCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gR2VuZXJhdGUgYXV0aCB0b2tlbiBvbiBmaXJzdCBydW5cbiAgICAgICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy53c0F1dGhUb2tlbikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3Mud3NBdXRoVG9rZW4gPSBjcnlwdG8ucmFuZG9tVVVJRCgpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgYWxsIHNlcnZpY2VzIChXZWJTb2NrZXQgKyBvcmlnaW5hbCBzZXJ2aWNlcylcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyID0gbmV3IEdyYXBoaXRpTG9nZ2VyKHRoaXMsIHRoaXMuc2V0dGluZ3MuZW5hYmxlRGVidWdMb2dnaW5nKTtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluaXQoKTsgLy8gSW5pdGlhbGl6ZSBsb2dnZXIgYWZ0ZXIgcGx1Z2luIGlzIGxvYWRlZFxuXG4gICAgICAgICAgICAvLyBEaWFnbm9zdGljczogcmVwb3J0IGRpc2NvdmVyZWQgZGVmYXVsdHMgcHJvdmlkZXJzIHNvIFVJIGF2b2lkcyBmYWxsYmFja3NcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzOiBhbnkgPSB0aGlzLnNldHRpbmdzIGFzIGFueTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb3VudHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGxsbVByb3ZpZGVyczogcz8ubGxtRGVmYXVsdHMgPyBPYmplY3Qua2V5cyhzLmxsbURlZmF1bHRzKS5sZW5ndGggOiAwLFxuICAgICAgICAgICAgICAgICAgICBsbG1TbWFsbFByb3ZpZGVyczogcz8ubGxtU21hbGxEZWZhdWx0cyA/IE9iamVjdC5rZXlzKHMubGxtU21hbGxEZWZhdWx0cykubGVuZ3RoIDogMCxcbiAgICAgICAgICAgICAgICAgICAgZW1iZWRkaW5nUHJvdmlkZXJzOiBzPy5lbWJlZGRpbmdEZWZhdWx0cyA/IE9iamVjdC5rZXlzKHMuZW1iZWRkaW5nRGVmYXVsdHMpLmxlbmd0aCA6IDBcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbU0VUVElOR1NdIERlZmF1bHRzIHByb3ZpZGVycyBkaXNjb3ZlcmVkJywgY291bnRzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUGVyc2lzdCBtaWdyYXRlZCBkZWZhdWx0cyBpZiB3ZSBoeWRyYXRlZCB0aGVtIGZyb20gbGVnYWN5IGxvY2F0aW9uc1xuICAgICAgICAgICAgaWYgKHRoaXMubmVlZHNEZWZhdWx0c1BlcnNpc3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW1NFVFRJTkdTXSBQZXJzaXN0aW5nIG1pZ3JhdGVkIGRlZmF1bHRzIHRvIHRvcC1sZXZlbCcpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5uZWVkc0RlZmF1bHRzUGVyc2lzdCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UgPSBuZXcgU3luY1JlZ2lzdHJ5U2VydmljZSh0aGlzLmFwcCwgdGhpcywgdGhpcy5sb2dnZXIpO1xuICAgICAgICAgICAgdGhpcy52YXVsdFJlZ2lzdHJ5U2VydmljZSA9IG5ldyBWYXVsdFJlZ2lzdHJ5U2VydmljZSh0aGlzLmFwcCwgdGhpcywgdGhpcy5sb2dnZXIpO1xuICAgICAgICAgICAgdGhpcy5zY2hlbWFTZXJ2aWNlID0gbmV3IFNjaGVtYURpc2NvdmVyeVNlcnZpY2UodGhpcy5hcHAsIHRoaXMpO1xuXG4gICAgICAgICAgICAvLyBAcHVycG9zZTogSW5pdGlhbGl6ZSBQeXRob24gZGFlbW9uIGJyaWRnZSBmb3IgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uXG4gICAgICAgICAgICAvLyBAZGVwZW5kczogc2V0dGluZ3MuZXhwZXJpbWVudGFsRGFlbW9uTW9kZSwgbG9nZ2VyLCB2YXVsdFJlZ2lzdHJ5U2VydmljZVxuICAgICAgICAgICAgLy8gQHJlc3VsdHM6IFBlcnNpc3RlbnQgUHl0aG9uIHByb2Nlc3MgZm9yIEJHRSBtb2RlbCBsb2FkaW5nXG4gICAgICAgICAgICB0aGlzLnB5dGhvbkRhZW1vbkJyaWRnZSA9IG5ldyBQeXRob25EYWVtb25CcmlkZ2UodGhpcywgdGhpcy5zZXR0aW5ncywgdGhpcy5sb2dnZXIsIHRoaXMudmF1bHRSZWdpc3RyeVNlcnZpY2UpO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGUgR3JhcGhpdGlTZXJ2aWNlIGZpcnN0LCB0aGVuIFN5bmNTdGF0dXNNYW5hZ2VyXG4gICAgICAgICAgICB0aGlzLmdyYXBoaXRpU2VydmljZSA9IG5ldyBHcmFwaGl0aVNlcnZpY2UoXG4gICAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLFxuICAgICAgICAgICAgICAgIHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZSxcbiAgICAgICAgICAgICAgICBudWxsIGFzIGFueSwgLy8gVGVtcG9yYXJ5IG51bGwgZm9yIHN5bmNTdGF0dXNNYW5hZ2VyXG4gICAgICAgICAgICAgICAgdGhpcy52YXVsdFJlZ2lzdHJ5U2VydmljZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMuc3luY1N0YXR1c01hbmFnZXIgPSBuZXcgU3luY1N0YXR1c01hbmFnZXIoXG4gICAgICAgICAgICAgICAgdGhpcy5hcHAsXG4gICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncyxcbiAgICAgICAgICAgICAgICB0aGlzLmdyYXBoaXRpU2VydmljZSxcbiAgICAgICAgICAgICAgICB0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICAvLyBOb3cgdXBkYXRlIEdyYXBoaXRpU2VydmljZSB3aXRoIHRoZSBzeW5jU3RhdHVzTWFuYWdlciByZWZlcmVuY2VcbiAgICAgICAgICAgICh0aGlzLmdyYXBoaXRpU2VydmljZSBhcyBhbnkpLnN5bmNTdGF0dXNNYW5hZ2VyID0gdGhpcy5zeW5jU3RhdHVzTWFuYWdlcjtcbiAgICAgICAgICAgIHRoaXMuZGVib3VuY2VkU3luY0N1cnJlbnROb3RlID0gZGVib3VuY2UoKCkgPT4gdGhpcy5zeW5jQ3VycmVudE5vdGUoKSwgMTAwMCk7XG5cbiAgICAgICAgICAgIHRoaXMud3NTZXJ2aWNlID0gbmV3IFdlYlNvY2tldFNlcnZpY2UodGhpcywgdGhpcy5zZXR0aW5ncywgdGhpcy5zeW5jUmVnaXN0cnlTZXJ2aWNlLCB0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlKTtcblxuICAgICAgICAgICAgLy8gQWRkIHNlcnZpY2VzIHRvIHRoZSBzZXJ2aWNlcyBhcnJheSBmb3IgbGlmZWN5Y2xlIG1hbmFnZW1lbnRcbiAgICAgICAgICAgIHRoaXMuc2VydmljZXMgPSBbdGhpcy5zeW5jUmVnaXN0cnlTZXJ2aWNlLCB0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlLCB0aGlzLndzU2VydmljZSwgdGhpcy5weXRob25EYWVtb25CcmlkZ2VdO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UubG9hZCgpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy52YXVsdFJlZ2lzdHJ5U2VydmljZS5sb2FkKCk7XG5cbiAgICAgICAgICAgIC8vIE9ubHkgc3RhcnQgV2ViU29ja2V0IHNlcnZpY2UgaWYgZW5hYmxlZCBpbiBzZXR0aW5nc1xuICAgICAgICAgICAgLy8gVmF1bHQgYXV0by1yZWdpc3RyYXRpb24gd2lsbCBub3cgYmUgdHJpZ2dlcmVkIGJ5IHN1Y2Nlc3NmdWwgV2ViU29ja2V0IGNvbm5lY3Rpb25cbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLndzRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdbUExVR0lOXSBTdGFydGluZyBXZWJTb2NrZXQgc2VydmljZSAtIHZhdWx0IHJlZ2lzdHJhdGlvbiB3aWxsIG9jY3VyIG9uIGNvbm5lY3Rpb24nKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndzU2VydmljZS5zdGFydCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW1BMVUdJTl0gV2ViU29ja2V0IGRpc2FibGVkIGluIHNldHRpbmdzIC0gbm8gYXV0b21hdGljIHZhdWx0IHJlZ2lzdHJhdGlvbicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSZWdpc3RlciB0aGUgU2NoZW1hIE1hbmFnZXIgdmlld1xuICAgICAgICAgICAgdGhpcy5yZWdpc3RlclZpZXcoU0NIRU1BX01BTkFHRVJfVklFV19UWVBFLCAobGVhZikgPT4gbmV3IFNjaGVtYU1hbmFnZXJWaWV3KGxlYWYsIHRoaXMuc2NoZW1hU2VydmljZSkpO1xuXG4gICAgICAgICAgICAvLyBBZGQgc2V0dGluZ3MgdGFiXG4gICAgICAgICAgICB0aGlzLmFkZFNldHRpbmdUYWIobmV3IEdyYXBoaXRpU2V0dGluZ3NUYWIodGhpcy5hcHAsIHRoaXMpKTtcblxuICAgICAgICAgICAgLy8gQWRkIHJpYmJvbiBpY29uc1xuICAgICAgICAgICAgdGhpcy5hZGRSaWJib25JY29uKFwiZGF0YWJhc2VcIiwgXCJPcGVuIFNjaGVtYSBNYW5hZ2VyXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2YXRlVmlldygpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkUmliYm9uSWNvbihcInJlZnJlc2gtY3dcIiwgXCJPcGVuIEdyYXBoaXRpIFN5bmNcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub3BlblN5bmNVSSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIEFkZCBjb21tYW5kc1xuICAgICAgICAgICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgICAgICAgICAgICBpZDogJ29wZW4tc2NoZW1hLW1hbmFnZXInLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdPcGVuIFNjaGVtYSBNYW5hZ2VyJyxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGl2YXRlVmlldygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgICAgICAgICAgIGlkOiAnZGlzY292ZXItc2NoZW1hcycsXG4gICAgICAgICAgICAgICAgbmFtZTogJ0Rpc2NvdmVyIFNjaGVtYXMgZnJvbSBWYXVsdCcsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNjb3ZlclNjaGVtYXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgICAgICAgICAgICBpZDogJ3N5bmMtY3VycmVudC1ub3RlJyxcbiAgICAgICAgICAgICAgICBuYW1lOiAnU3luYyBDdXJyZW50IE5vdGUgdG8gS25vd2xlZGdlIEdyYXBoJyxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAodGhpcyBhcyBhbnkpLmRlYm91bmNlZFN5bmNDdXJyZW50Tm90ZT8uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICAgICAgICAgICAgaWQ6ICdvcGVuLXN5bmMtdWknLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdPcGVuIEdyYXBoaXRpIFN5bmMgSW50ZXJmYWNlJyxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW5TeW5jVUkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgICAgICAgICAgICBpZDogJ3RvZ2dsZS1kZWJ1Zy1tb2RlJyxcbiAgICAgICAgICAgICAgICBuYW1lOiAnVG9nZ2xlIERlYnVnIE1vZGUnLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlRGVidWdNb2RlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFBlci1ub3RlIGF1dG8tc3luYyBkaXNhYmxlZCAtIHVzaW5nIHNjaGVkdWxlci1vbmx5IGFwcHJvYWNoXG4gICAgICAgICAgICAvLyBBbGwgc3luYyBvcGVyYXRpb25zIG5vdyBvY2N1ciBhdCBzY2hlZHVsZWQgaW50ZXJ2YWxzIG9ubHlcblxuICAgICAgICAgICAgLy8gUmVnaXN0ZXIgc3luYyBzdGF0dXMgaWNvbnMgaWYgZW5hYmxlZFxuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3Muc2hvd1N5bmNTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyU3luY1N0YXR1c0ljb25zKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXR1cFN5bmNKc29uV2F0Y2hlcigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTZXQgdXAgc3luYyBzY2hlZHVsaW5nIGJhc2VkIG9uIHNldHRpbmdzXG4gICAgICAgICAgICB0aGlzLnNldHVwU3luY1NjaGVkdWxpbmcoKTtcblxuICAgICAgICAgICAgLy8gQHB1cnBvc2U6IFByZWxvYWQgUHl0aG9uIGRhZW1vbiBpZiBlbmFibGVkIHRvIGVsaW1pbmF0ZSBmaXJzdC1zeW5jIGRlbGF5IEBkZXBlbmRzOiBleHBlcmltZW50YWxEYWVtb25Nb2RlICsgbG9hZERhZW1vbk9uTGF1bmNoIEByZXN1bHRzOiA2MCUgZmFzdGVyIGZpcnN0IHN5bmNcbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmV4cGVyaW1lbnRhbERhZW1vbk1vZGUgJiYgdGhpcy5zZXR0aW5ncy5sb2FkRGFlbW9uT25MYXVuY2gpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdbREFFTU9OLVBSRUxPQURdIFN0YXJ0aW5nIGRhZW1vbiBwcmVsb2FkIGR1cmluZyBwbHVnaW4gaW5pdGlhbGl6YXRpb24nKTtcbiAgICAgICAgICAgICAgICAvLyBVc2Ugc2V0VGltZW91dCB0byBhdm9pZCBibG9ja2luZyBwbHVnaW4gc3RhcnR1cFxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5weXRob25EYWVtb25CcmlkZ2UucHJlbG9hZERhZW1vbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnW0RBRU1PTi1QUkVMT0FEXSBEYWVtb24gcHJlbG9hZGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1tEQUVNT04tUFJFTE9BRF0gRmFpbGVkIHRvIHByZWxvYWQgZGFlbW9uLCBzeW5jIHdpbGwgc3RhcnQgZGFlbW9uIG9uIGRlbWFuZCcsIHsgZXJyb3IgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnW0RBRU1PTi1QUkVMT0FEXSBEYWVtb24gcHJlbG9hZGluZyBkaXNhYmxlZCcsIHtcbiAgICAgICAgICAgICAgICAgICAgZXhwZXJpbWVudGFsRGFlbW9uTW9kZTogdGhpcy5zZXR0aW5ncy5leHBlcmltZW50YWxEYWVtb25Nb2RlLFxuICAgICAgICAgICAgICAgICAgICBsb2FkRGFlbW9uT25MYXVuY2g6IHRoaXMuc2V0dGluZ3MubG9hZERhZW1vbk9uTGF1bmNoXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGdyYXBoaXRpVmVyc2lvbiA9IGF3YWl0IChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRhcHRlciA9IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhdWx0UGF0aCA9IChhZGFwdGVyIGFzIGFueSkuYmFzZVBhdGg7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsdWdpbkRpciA9IGpvaW4odmF1bHRQYXRoLCAnLm9ic2lkaWFuJywgJ3BsdWdpbnMnLCAnbWVnYW1lbS1tY3AnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHl0aG9uSW5zdGFsbGVyID0gbmV3IFB5dGhvbkluc3RhbGxlcih0aGlzLCBwbHVnaW5EaXIsIHRoaXMuc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGF0dXMgPSBhd2FpdCBweXRob25JbnN0YWxsZXIuY2hlY2tBbGxEZXBlbmRlbmNpZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXR1cy5ncmFwaGl0aVZlcnNpb24gfHwgJ25vdCBpbnN0YWxsZWQnO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2NoZWNrIGZhaWxlZCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkoKTtcblxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1tQTFVHSU5dIE1lZ2FNZW0gbG9hZGVkJywge1xuICAgICAgICAgICAgICAgIHBsdWdpblZlcnNpb246IHRoaXMubWFuaWZlc3QudmVyc2lvbixcbiAgICAgICAgICAgICAgICBvYnNpZGlhblZlcnNpb246IHRoaXMubWFuaWZlc3QubWluQXBwVmVyc2lvbiB8fCAndW5rbm93bicsXG4gICAgICAgICAgICAgICAgbm9kZVZlcnNpb246IHByb2Nlc3MudmVyc2lvbixcbiAgICAgICAgICAgICAgICBwbGF0Zm9ybTogcHJvY2Vzcy5wbGF0Zm9ybSxcbiAgICAgICAgICAgICAgICBncmFwaGl0aVZlcnNpb25cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBTaG93IGRldiBtb2RlIG5vdGljZSBpZiBpbiBkZXZlbG9wbWVudFxuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZW5hYmxlRGVidWdMb2dnaW5nKSB7XG4gICAgICAgICAgICAgICAgbmV3IE5vdGljZSgnTWVnYU1lbSBwbHVnaW4gbG9hZGVkIGluIGRlYnVnIG1vZGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIFVzZSBsb2dnZXIgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgZmFsbGJhY2sgdG8gY29uc29sZSBidXQgYXZvaWQgdW5pY29kZVxuICAgICAgICAgICAgaWYgKHRoaXMubG9nZ2VyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIE1lZ2FNZW0gcGx1Z2luJywgeyBlcnJvciB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignW0VSUk9SXSBGYWlsZWQgdG8gbG9hZCBNZWdhTWVtIHBsdWdpbjonLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXcgTm90aWNlKCdbRVJST1JdIEZhaWxlZCB0byBsb2FkIE1lZ2FNZW0gcGx1Z2luLiBDaGVjayBkZXZlbG9wZXIgY29uc29sZSBmb3IgZGV0YWlscy4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9udW5sb2FkKCkge1xuICAgICAgICBpZiAodGhpcy53c1NlcnZpY2UpIHtcbiAgICAgICAgICAgIHRoaXMud3NTZXJ2aWNlLnN0b3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEBwdXJwb3NlOiBDbGVhbiB1cCBQeXRob24gZGFlbW9uIGJyaWRnZSB0byBwcmV2ZW50IG9ycGhhbmVkIHByb2Nlc3Nlc1xuICAgICAgICAvLyBAZGVwZW5kczogcHl0aG9uRGFlbW9uQnJpZGdlXG4gICAgICAgIC8vIEByZXN1bHRzOiBHcmFjZWZ1bCBkYWVtb24gc2h1dGRvd24gYW5kIHJlc291cmNlIGNsZWFudXBcbiAgICAgICAgaWYgKHRoaXMucHl0aG9uRGFlbW9uQnJpZGdlKSB7XG4gICAgICAgICAgICB0aGlzLnB5dGhvbkRhZW1vbkJyaWRnZS5zaHV0ZG93bigpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2xlYW4gdXAgc3luYyBzY2hlZHVsaW5nXG4gICAgICAgIHRoaXMuY2xlYW51cFN5bmNTY2hlZHVsaW5nKCk7XG5cbiAgICAgICAgaWYgKHRoaXMubG9nZ2VyKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdNZWdhTWVtIHBsdWdpbiB1bmxvYWRlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tJTkZPXSBNZWdhTWVtIEtub3dsZWRnZSBHcmFwaCBJbnRlZ3JhdGlvbiBwbHVnaW4gdW5sb2FkZWQnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB1cCBzeW5jIHNjaGVkdWxpbmcgYmFzZWQgb24gY3VycmVudCBzZXR0aW5nc1xuICAgICAqL1xuICAgIHByaXZhdGUgc2V0dXBTeW5jU2NoZWR1bGluZygpOiB2b2lkIHtcbiAgICAgICAgLy8gQ2xlYW4gdXAgYW55IGV4aXN0aW5nIHNjaGVkdWxpbmcgZmlyc3RcbiAgICAgICAgdGhpcy5jbGVhbnVwU3luY1NjaGVkdWxpbmcoKTtcblxuICAgICAgICAvLyBPbmx5IHNldCB1cCBzY2hlZHVsaW5nIGlmIGF1dG8tc3luYyBpcyBlbmFibGVkXG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5hdXRvU3luYykge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0F1dG8tc3luYyBkaXNhYmxlZCAtIG5vIHNjaGVkdWxpbmcgc2V0IHVwJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgdXAgaW50ZXJ2YWwtYmFzZWQgc3luYyBpZiBpbnRlcnZhbCBpcyBzcGVjaWZpZWQgYW5kID4gMFxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5zeW5jSW50ZXJ2YWwgJiYgdGhpcy5zZXR0aW5ncy5zeW5jSW50ZXJ2YWwgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBpbnRlcnZhbE1zID0gdGhpcy5zZXR0aW5ncy5zeW5jSW50ZXJ2YWwgKiA2MCAqIDEwMDA7IC8vIENvbnZlcnQgbWludXRlcyB0byBtaWxsaXNlY29uZHNcblxuICAgICAgICAgICAgdGhpcy5zeW5jSW50ZXJ2YWxJZCA9IHRoaXMucmVnaXN0ZXJJbnRlcnZhbChcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2V0SW50ZXJ2YWwoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1NjaGVkdWxlZCBzeW5jIHRyaWdnZXJlZCcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcnZhbE1pbnV0ZXM6IHRoaXMuc2V0dGluZ3Muc3luY0ludGVydmFsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5ncmFwaGl0aVNlcnZpY2UuYXV0b1N5bmMoJ3NjaGVkdWxlZCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnU2NoZWR1bGVkIHN5bmMgY29tcGxldGVkIHN1Y2Nlc3NmdWxseScsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkOiByZXN1bHQucHJvY2Vzc2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdTY2hlZHVsZWQgc3luYyBmYWlsZWQnLCB7IHJlc3VsdCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdTY2hlZHVsZWQgc3luYyBlcnJvcicsIHsgZXJyb3IgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBpbnRlcnZhbE1zKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1N5bmMgc2NoZWR1bGluZyBlbmFibGVkJywge1xuICAgICAgICAgICAgICAgIGludGVydmFsTWludXRlczogdGhpcy5zZXR0aW5ncy5zeW5jSW50ZXJ2YWwsXG4gICAgICAgICAgICAgICAgaW50ZXJ2YWxNc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cCBzeW5jIHNjaGVkdWxpbmdcbiAgICAgKi9cbiAgICBwcml2YXRlIGNsZWFudXBTeW5jU2NoZWR1bGluZygpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuc3luY0ludGVydmFsSWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuc3luY0ludGVydmFsSWQpO1xuICAgICAgICAgICAgdGhpcy5zeW5jSW50ZXJ2YWxJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgc3luYyBzY2hlZHVsaW5nIHdoZW4gc2V0dGluZ3MgY2hhbmdlXG4gICAgICovXG4gICAgYXN5bmMgdXBkYXRlU3luY1NjaGVkdWxpbmcoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1VwZGF0aW5nIHN5bmMgc2NoZWR1bGluZyBkdWUgdG8gc2V0dGluZ3MgY2hhbmdlJyk7XG4gICAgICAgIHRoaXMuc2V0dXBTeW5jU2NoZWR1bGluZygpO1xuICAgIH1cblxuICAgIGFzeW5jIGFjdGl2YXRlVmlldygpIHtcbiAgICAgICAgY29uc3QgeyB3b3Jrc3BhY2UgfSA9IHRoaXMuYXBwO1xuXG4gICAgICAgIGxldCBsZWFmID0gd29ya3NwYWNlLmdldExlYXZlc09mVHlwZShTQ0hFTUFfTUFOQUdFUl9WSUVXX1RZUEUpLmZpcnN0KCk7XG5cbiAgICAgICAgaWYgKCFsZWFmKSB7XG4gICAgICAgICAgICBsZWFmID0gd29ya3NwYWNlLmdldFJpZ2h0TGVhZihmYWxzZSk7XG4gICAgICAgICAgICBhd2FpdCBsZWFmLnNldFZpZXdTdGF0ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogU0NIRU1BX01BTkFHRVJfVklFV19UWVBFLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB3b3Jrc3BhY2UucmV2ZWFsTGVhZihsZWFmKTtcbiAgICB9XG5cbiAgICBhc3luYyBkaXNjb3ZlclNjaGVtYXMoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBuZXcgTm90aWNlKCdbSU5GT10gRGlzY292ZXJpbmcgc2NoZW1hcyBmcm9tIHZhdWx0Li4uJyk7XG4gICAgICAgICAgICBjb25zdCBzY2hlbWFzID0gYXdhaXQgdGhpcy5zY2hlbWFTZXJ2aWNlLmRpc2NvdmVyQWxsU2NoZW1hcygpO1xuICAgICAgICAgICAgbmV3IE5vdGljZShgW0lORk9dIEZvdW5kICR7c2NoZW1hcy5sZW5ndGh9IHNjaGVtYSB0eXBlcyBpbiB5b3VyIHZhdWx0YCk7XG4gICAgICAgICAgICBpZiAodGhpcy5sb2dnZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnRGlzY292ZXJlZCBzY2hlbWFzJywgeyBjb3VudDogc2NoZW1hcy5sZW5ndGggfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbREVCVUddIERpc2NvdmVyZWQgc2NoZW1hcyBjb3VudDonLCBzY2hlbWFzLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoYEVycm9yIGRpc2NvdmVyaW5nIHNjaGVtYXM6ICR7ZXJyb3JNZXNzYWdlfWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgc3luY0N1cnJlbnROb3RlKCkge1xuICAgICAgICBjb25zdCBhY3RpdmVGaWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcbiAgICAgICAgaWYgKCFhY3RpdmVGaWxlKSB7XG4gICAgICAgICAgICBuZXcgTm90aWNlKCdObyBhY3RpdmUgZmlsZSB0byBzeW5jJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnU3luYyBDdXJyZW50IE5vdGUgY29tbWFuZCB0cmlnZ2VyZWQnLCB7XG4gICAgICAgICAgICAgICAgYWN0aXZlRmlsZTogYWN0aXZlRmlsZS5wYXRoLFxuICAgICAgICAgICAgICAgIGZpbGVOYW1lOiBhY3RpdmVGaWxlLm5hbWVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBVc2UgU3luY1N0YXR1c01hbmFnZXIgcXVldWUgZm9yIGNvbnNpc3RlbnQgc3luYyBiZWhhdmlvciB3aXRoIG1hbnVhbCBzb3VyY2UgZGVzY3JpcHRpb25cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuc3luY1N0YXR1c01hbmFnZXIuZW5xdWV1ZShhY3RpdmVGaWxlLCAnb2JzaWRpYW5fbW1faW5kaXZpZHVhbCcpO1xuXG4gICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgICAgICAgLy8gVXNlIEFTQ0lJLW9ubHkgbm90aWNlcyBwZXIgV2luZG93cyBndWlkZWxpbmVzXG4gICAgICAgICAgICAgICAgbmV3IE5vdGljZShgW1NVQ0NFU1NdIFN1Y2Nlc3NmdWxseSBzeW5jZWQgJHthY3RpdmVGaWxlLm5hbWV9YCk7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnU3luYyBDdXJyZW50IE5vdGUgY29tcGxldGVkIHN1Y2Nlc3NmdWxseScsIHsgZmlsZTogYWN0aXZlRmlsZS5wYXRoIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXcgTm90aWNlKGBbRVJST1JdIEZhaWxlZCB0byBzeW5jICR7YWN0aXZlRmlsZS5uYW1lfTogJHtyZXN1bHQubWVzc2FnZX1gKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignU3luYyBDdXJyZW50IE5vdGUgZmFpbGVkJywgeyBmaWxlOiBhY3RpdmVGaWxlLnBhdGgsIHJlc3VsdCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xuICAgICAgICAgICAgbmV3IE5vdGljZShgW0VSUk9SXSBFcnJvciBzeW5jaW5nICR7YWN0aXZlRmlsZS5uYW1lfTogJHtlcnJvck1lc3NhZ2V9YCk7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignU3luYyBDdXJyZW50IE5vdGUgZXJyb3InLCB7IGZpbGU6IGFjdGl2ZUZpbGUucGF0aCwgZXJyb3IgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBQcm9wZXJ0eSBtYXBwaW5nIG1hbmFnZW1lbnQgbWV0aG9kc1xuICAgIGFzeW5jIHNhdmVQcm9wZXJ0eU1hcHBpbmcoZW50aXR5VHlwZTogc3RyaW5nLCBvcmlnaW5hbE5hbWU6IHN0cmluZywgbWFwcGVkTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5wcm9wZXJ0eU1hcHBpbmdzW2VudGl0eVR5cGVdKSB7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnByb3BlcnR5TWFwcGluZ3NbZW50aXR5VHlwZV0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldHRpbmdzLnByb3BlcnR5TWFwcGluZ3NbZW50aXR5VHlwZV1bb3JpZ2luYWxOYW1lXSA9IG1hcHBlZE5hbWU7XG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgcmVtb3ZlUHJvcGVydHlNYXBwaW5nKGVudGl0eVR5cGU6IHN0cmluZywgb3JpZ2luYWxOYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MucHJvcGVydHlNYXBwaW5nc1tlbnRpdHlUeXBlXSkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuc2V0dGluZ3MucHJvcGVydHlNYXBwaW5nc1tlbnRpdHlUeXBlXVtvcmlnaW5hbE5hbWVdO1xuICAgICAgICAgICAgLy8gQ2xlYW4gdXAgZW1wdHkgZW50aXR5IHR5cGUgbWFwcGluZ3NcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnNldHRpbmdzLnByb3BlcnR5TWFwcGluZ3NbZW50aXR5VHlwZV0pLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnNldHRpbmdzLnByb3BlcnR5TWFwcGluZ3NbZW50aXR5VHlwZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0UHJvcGVydHlNYXBwaW5nKGVudGl0eVR5cGU6IHN0cmluZywgb3JpZ2luYWxOYW1lOiBzdHJpbmcpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5wcm9wZXJ0eU1hcHBpbmdzW2VudGl0eVR5cGVdPy5bb3JpZ2luYWxOYW1lXTtcbiAgICB9XG5cbiAgICBnZXRBbGxQcm9wZXJ0eU1hcHBpbmdzKCk6IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIHN0cmluZz4+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MucHJvcGVydHlNYXBwaW5ncztcbiAgICB9XG5cbiAgICAvLyBQcm9wZXJ0eSBzZWxlY3Rpb24gbWFuYWdlbWVudCBtZXRob2RzXG4gICAgYXN5bmMgc2F2ZVByb3BlcnR5U2VsZWN0aW9uKGVudGl0eVR5cGU6IHN0cmluZywgcHJvcGVydHlOYW1lOiBzdHJpbmcsIGVuYWJsZWQ6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9uc1tlbnRpdHlUeXBlXSkge1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5wcm9wZXJ0eVNlbGVjdGlvbnNbZW50aXR5VHlwZV0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9uc1tlbnRpdHlUeXBlXVtwcm9wZXJ0eU5hbWVdID0gZW5hYmxlZDtcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICB9XG5cbiAgICBnZXRQcm9wZXJ0eVNlbGVjdGlvbihlbnRpdHlUeXBlOiBzdHJpbmcsIHByb3BlcnR5TmFtZTogc3RyaW5nKTogYm9vbGVhbiB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9uc1tlbnRpdHlUeXBlXT8uW3Byb3BlcnR5TmFtZV07XG4gICAgfVxuXG4gICAgZ2V0QWxsUHJvcGVydHlTZWxlY3Rpb25zKCk6IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLnByb3BlcnR5U2VsZWN0aW9ucztcbiAgICB9XG5cbiAgICBhc3luYyB1cGRhdGVBdmFpbGFibGVOYW1lc3BhY2VzKCkge1xuICAgICAgICBjb25zdCBuYW1lc3BhY2VzID0gbmV3IFNldDxzdHJpbmc+KCk7XG5cbiAgICAgICAgLy8gQWx3YXlzIGFkZCB0aGUgZGVmYXVsdCBuYW1lc3BhY2VcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZGVmYXVsdE5hbWVzcGFjZSkge1xuICAgICAgICAgICAgbmFtZXNwYWNlcy5hZGQodGhpcy5zZXR0aW5ncy5kZWZhdWx0TmFtZXNwYWNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNjYW4gZm9yIGZvbGRlciBuYW1lcyBpZiBlbmFibGVkICh0b3AtbGV2ZWwgZm9sZGVycyBvbmx5KVxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVGb2xkZXJOYW1lc3BhY2luZykge1xuICAgICAgICAgICAgdGhpcy5hcHAudmF1bHQuZ2V0Um9vdCgpLmNoaWxkcmVuLmZvckVhY2goZmlsZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGZpbGUgaW5zdGFuY2VvZiBURm9sZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZXMuYWRkKGZpbGUubmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTY2FuIGZvciBwcm9wZXJ0eSBuYW1lcyBpZiBlbmFibGVkXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmVuYWJsZVByb3BlcnR5TmFtZXNwYWNpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hcmtkb3duRmlsZXMgPSB0aGlzLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgbWFya2Rvd25GaWxlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoZmlsZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZ3JvdXBJZCA9IG1ldGFkYXRhPy5mcm9udG1hdHRlcj8uZ19ncm91cF9pZDtcbiAgICAgICAgICAgICAgICBpZiAoZ3JvdXBJZCAmJiB0eXBlb2YgZ3JvdXBJZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlcy5hZGQoZ3JvdXBJZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXR0aW5ncy5hdmFpbGFibGVOYW1lc3BhY2VzID0gQXJyYXkuZnJvbShuYW1lc3BhY2VzKS5zb3J0KCk7XG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdHcmFwaGl0aTogVXBkYXRlZCBhdmFpbGFibGUgbmFtZXNwYWNlczonLCB0aGlzLnNldHRpbmdzLmF2YWlsYWJsZU5hbWVzcGFjZXMpO1xuICAgIH1cblxuICAgIC8vIFBlci1ub3RlIGF1dG9zeW5jIHJlbW92ZWQgaW4gZmF2b3Igb2Ygc2NoZWR1bGVyLW9ubHkgYXBwcm9hY2hcbiAgICAvLyBBbGwgc3luYyBvcGVyYXRpb25zIG5vdyBvY2N1ciBhdCBzY2hlZHVsZWQgaW50ZXJ2YWxzIG9ubHlcblxuICAgIGFzeW5jIHRvZ2dsZURlYnVnTW9kZSgpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5lbmFibGVEZWJ1Z0xvZ2dpbmcgPSAhdGhpcy5zZXR0aW5ncy5lbmFibGVEZWJ1Z0xvZ2dpbmc7XG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7IC8vIFRoaXMgd2lsbCBub3cgY2FsbCBzZXREZWJ1ZyBvbiB0aGUgbG9nZ2VyXG5cbiAgICAgICAgY29uc3Qgc3RhdHVzID0gdGhpcy5zZXR0aW5ncy5lbmFibGVEZWJ1Z0xvZ2dpbmcgPyAnZW5hYmxlZCcgOiAnZGlzYWJsZWQnO1xuICAgICAgICBuZXcgTm90aWNlKGBEZWJ1ZyBtb2RlICR7c3RhdHVzfWApO1xuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBEZWJ1ZyBtb2RlIHRvZ2dsZWQgdmlhIGNvbW1hbmQ6ICR7c3RhdHVzfWApO1xuICAgIH1cblxuICAgIGFzeW5jIHJlc2V0U2V0dGluZ3MoKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTKTtcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICB9XG5cbiAgICAvLyBSZWdpc3RlciBzeW5jIHN0YXR1cyBpY29ucyBmb3IgYWxsIG1hcmtkb3duIHZpZXdzXG4gICAgcHJpdmF0ZSByZWdpc3RlclN5bmNTdGF0dXNJY29ucygpIHtcbiAgICAgICAgLy8gQWRkIGljb25zIHRvIGV4aXN0aW5nIHZpZXdzIG9uIHN0YXJ0dXBcbiAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLml0ZXJhdGVBbGxMZWF2ZXMoKGxlYWYpID0+IHtcbiAgICAgICAgICAgIGlmIChsZWFmLnZpZXcgaW5zdGFuY2VvZiBNYXJrZG93blZpZXcgJiYgbGVhZi52aWV3LmZpbGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFN5bmNTdGF0dXNJY29uKGxlYWYudmlldyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIExpc3RlbiBmb3IgZmlsZXMgYmVpbmcgb3BlbmVkIHRvIHVwZGF0ZSBpY29uc1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoXG4gICAgICAgICAgICB0aGlzLmFwcC53b3Jrc3BhY2Uub24oJ2ZpbGUtb3BlbicsIChmaWxlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGZpbGUgJiYgZmlsZS5leHRlbnNpb24gPT09ICdtZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGFsbCBtYXJrZG93biB2aWV3IGljb25zIHRvIHJlZmxlY3QgdGhlaXIgY3VycmVudCBmaWxlc1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5pdGVyYXRlQWxsTGVhdmVzKChsZWFmKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxlYWYudmlldyBpbnN0YW5jZW9mIE1hcmtkb3duVmlldykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2aWV3ID0gbGVhZi52aWV3O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpY29uRWwgPSAodmlldyBhcyBhbnkpLmFjdGlvbnNFbD8ucXVlcnlTZWxlY3RvcignLnN5bmMtc3RhdHVzLWljb24nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWNvbkVsICYmIHZpZXcuZmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gdGhpcy5zeW5jU3RhdHVzTWFuYWdlci5nZXRTdGF0dXModmlldy5maWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSWNvbkFwcGVhcmFuY2UoaWNvbkVsLCBzdGF0dXMsIHZpZXcuZmlsZS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghaWNvbkVsICYmIHZpZXcuZmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGljb24gaWYgaXQgZG9lc24ndCBleGlzdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRTeW5jU3RhdHVzSWNvbih2aWV3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LCAxMDApOyAvLyBTbWFsbCBkZWxheSB0byBlbnN1cmUgdmlldyBpcyByZWFkeVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gQWRkIHN5bmMgc3RhdHVzIGljb24gdG8gYSBzcGVjaWZpYyB2aWV3IChzaW1wbGlmaWVkKVxuICAgIHByaXZhdGUgYWRkU3luY1N0YXR1c0ljb24odmlldzogTWFya2Rvd25WaWV3KSB7XG4gICAgICAgIGlmICghdmlldy5maWxlKSByZXR1cm47XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyB2aWV3IGFscmVhZHkgaGFzIGFuIGljb24gdG8gcHJldmVudCBkdXBsaWNhdGVzXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nSWNvbiA9ICh2aWV3IGFzIGFueSkuYWN0aW9uc0VsPy5xdWVyeVNlbGVjdG9yKCcuc3luYy1zdGF0dXMtaWNvbicpO1xuICAgICAgICBpZiAoZXhpc3RpbmdJY29uKSB7XG4gICAgICAgICAgICAvLyBVcGRhdGUgZXhpc3RpbmcgaWNvbiBpbnN0ZWFkIG9mIHNraXBwaW5nXG4gICAgICAgICAgICBjb25zdCBzdGF0dXMgPSB0aGlzLnN5bmNTdGF0dXNNYW5hZ2VyLmdldFN0YXR1cyh2aWV3LmZpbGUpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVJY29uQXBwZWFyYW5jZShleGlzdGluZ0ljb24sIHN0YXR1cywgdmlldy5maWxlLm5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0IGluaXRpYWwgc3RhdHVzXG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IHRoaXMuc3luY1N0YXR1c01hbmFnZXIuZ2V0U3RhdHVzKHZpZXcuZmlsZSk7XG4gICAgICAgIC8vIEFkZGluZyBuZXcgc3luYyBzdGF0dXMgaWNvblxuXG4gICAgICAgIC8vIEFkZCBpY29uIHVzaW5nIE9ic2lkaWFuJ3MgbmF0aXZlIGFkZEFjdGlvbiBBUElcbiAgICAgICAgY29uc3QgYWN0aW9uRWwgPSB2aWV3LmFkZEFjdGlvbihcbiAgICAgICAgICAgIHRoaXMuZ2V0SWNvbkZvclN0YXR1cyhzdGF0dXMpLFxuICAgICAgICAgICAgdGhpcy5nZXRUb29sdGlwRm9yU3RhdHVzKHN0YXR1cywgdmlldy5maWxlLm5hbWUpLFxuICAgICAgICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRGaWxlID0gdmlldy5maWxlO1xuICAgICAgICAgICAgICAgIGlmICghY3VycmVudEZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZSgnTm8gZmlsZSB0byBzeW5jJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTeW5jIHRyaWdnZXJlZCB2aWEgaWNvbiBjbGlja1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFNob3cgc3Bpbm5lciBpbW1lZGlhdGVseVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUljb25BcHBlYXJhbmNlKGFjdGlvbkVsLCAnU1lOQ0lORycsIGN1cnJlbnRGaWxlLm5hbWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFBlcmZvcm0gc3luYyB3aXRoIG1hbnVhbCBzb3VyY2UgZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zeW5jU3RhdHVzTWFuYWdlci5lbnF1ZXVlKGN1cnJlbnRGaWxlLCAnb2JzaWRpYW5fbW1faW5kaXZpZHVhbCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEFmdGVyIHN5bmMgY29tcGxldGVzLCB1cGRhdGUgYmFzZWQgb24gbmV3IHN0YXR1c1xuICAgICAgICAgICAgICAgICAgICAvLyBHaXZlIHN5bmMuanNvbiB3YXRjaGVyIHRpbWUgdG8gdXBkYXRlXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3U3RhdHVzID0gdGhpcy5zeW5jU3RhdHVzTWFuYWdlci5nZXRTdGF0dXMoY3VycmVudEZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGljb24gYWZ0ZXIgc3luYyBjb21wbGV0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUljb25BcHBlYXJhbmNlKGFjdGlvbkVsLCBuZXdTdGF0dXMsIGN1cnJlbnRGaWxlLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9LCA1MDApO1xuXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1tTWU5DLUVSUk9SXSBTeW5jIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJldmVydCB0byBwcmV2aW91cyBzdGF0dXMgb24gZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3JTdGF0dXMgPSB0aGlzLnN5bmNTdGF0dXNNYW5hZ2VyLmdldFN0YXR1cyhjdXJyZW50RmlsZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSWNvbkFwcGVhcmFuY2UoYWN0aW9uRWwsIGVycm9yU3RhdHVzLCBjdXJyZW50RmlsZS5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGFjdGlvbkVsKSB7XG4gICAgICAgICAgICAvLyBUYWcgaXQgZm9yIGVhc3kgZmluZGluZyBsYXRlclxuICAgICAgICAgICAgYWN0aW9uRWwuYWRkQ2xhc3MoJ3N5bmMtc3RhdHVzLWljb24nKTtcbiAgICAgICAgICAgIGFjdGlvbkVsLnNldEF0dHJpYnV0ZSgnZGF0YS1maWxlLXBhdGgnLCB2aWV3LmZpbGUucGF0aCk7XG5cbiAgICAgICAgICAgIC8vIFNldCBpbml0aWFsIGFwcGVhcmFuY2VcbiAgICAgICAgICAgIHRoaXMudXBkYXRlSWNvbkFwcGVhcmFuY2UoYWN0aW9uRWwsIHN0YXR1cywgdmlldy5maWxlLm5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHRoZSBhcHBlYXJhbmNlIG9mIGEgc3luYyBzdGF0dXMgaWNvblxuICAgIHByaXZhdGUgdXBkYXRlSWNvbkFwcGVhcmFuY2UoaWNvbkVsOiBIVE1MRWxlbWVudCwgc3RhdHVzOiBzdHJpbmcsIGZpbGVOYW1lOiBzdHJpbmcpIHtcblxuICAgICAgICAvLyBDbGVhciBhbmQgc2V0IGljb25cbiAgICAgICAgaWNvbkVsLmVtcHR5KCk7XG4gICAgICAgIHNldEljb24oaWNvbkVsLCB0aGlzLmdldEljb25Gb3JTdGF0dXMoc3RhdHVzKSk7XG5cbiAgICAgICAgLy8gVXBkYXRlIGNsYXNzZXNcbiAgICAgICAgaWNvbkVsLmNsYXNzTmFtZSA9IGljb25FbC5jbGFzc05hbWUucmVwbGFjZSgvc3luYy1zdGF0dXMtXFx3Ky9nLCAnJyk7XG4gICAgICAgIGljb25FbC5hZGRDbGFzcygnc3luYy1zdGF0dXMtaWNvbicpO1xuICAgICAgICBpY29uRWwuYWRkQ2xhc3MoYHN5bmMtc3RhdHVzLSR7c3RhdHVzLnRvTG93ZXJDYXNlKCl9YCk7XG5cbiAgICAgICAgLy8gVXBkYXRlIHRvb2x0aXBcbiAgICAgICAgaWNvbkVsLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIHRoaXMuZ2V0VG9vbHRpcEZvclN0YXR1cyhzdGF0dXMsIGZpbGVOYW1lKSk7XG4gICAgfVxuXG4gICAgLy8gR2V0IE9ic2lkaWFuIGljb24gbmFtZSBmb3Igc3RhdHVzXG4gICAgcHJpdmF0ZSBnZXRJY29uRm9yU3RhdHVzKHN0YXR1czogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICAgICAgICAgIGNhc2UgJ1NZTkNFRCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdjaGVjay1jaXJjbGUnO1xuICAgICAgICAgICAgY2FzZSAnUFJJVkFURSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdsb2NrJztcbiAgICAgICAgICAgIGNhc2UgJ1NZTkNJTkcnOlxuICAgICAgICAgICAgICAgIHJldHVybiAnbG9hZGVyJztcbiAgICAgICAgICAgIGNhc2UgJ05PVF9TWU5DRUQnOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3JlZnJlc2gtY3cnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gR2V0IHRvb2x0aXAgZm9yIHN0YXR1c1xuICAgIHByaXZhdGUgZ2V0VG9vbHRpcEZvclN0YXR1cyhzdGF0dXM6IHN0cmluZywgZmlsZU5hbWU/OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBub3RlUHJlZml4ID0gZmlsZU5hbWUgPyBgJHtmaWxlTmFtZX06IGAgOiAnJztcbiAgICAgICAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICAgICAgICAgIGNhc2UgJ1NZTkNFRCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke25vdGVQcmVmaXh9c3luY2VkIHdpdGggR3JhcGhpdGlgO1xuICAgICAgICAgICAgY2FzZSAnUFJJVkFURSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke25vdGVQcmVmaXh9bWFya2VkIHByaXZhdGUgKGV4Y2x1ZGVkIGZyb20gc3luYylgO1xuICAgICAgICAgICAgY2FzZSAnU1lOQ0lORyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke25vdGVQcmVmaXh9c3luYyBpbiBwcm9ncmVzcy4uLmA7XG4gICAgICAgICAgICBjYXNlICdOT1RfU1lOQ0VEJzpcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke25vdGVQcmVmaXh9bm90IHN5bmNlZCAtIGNsaWNrIHRvIHN5bmNgO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2V0IHVwIHdhdGNoZXIgZm9yIHN5bmMuanNvbiBjaGFuZ2VzXG4gICAgcHJpdmF0ZSBzZXR1cFN5bmNKc29uV2F0Y2hlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuc3luY0pzb25XYXRjaGVyKSByZXR1cm47IC8vIEFscmVhZHkgc2V0IHVwXG5cbiAgICAgICAgY29uc3Qgc3luY0pzb25QYXRoID0gbm9ybWFsaXplUGF0aChcbiAgICAgICAgICAgIGpvaW4odGhpcy5tYW5pZmVzdC5kaXIgfHwgJy5vYnNpZGlhbi9wbHVnaW5zL21lZ2FtZW0tbWNwJywgJ3N5bmMuanNvbicpXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gU2V0dGluZyB1cCBzeW5jLmpzb24gZmlsZSB3YXRjaGVyXG5cbiAgICAgICAgLy8gV2F0Y2ggZm9yIGNoYW5nZXMgdG8gc3luYy5qc29uIHVzaW5nIE9ic2lkaWFuJ3MgdmF1bHQgZXZlbnRzXG4gICAgICAgIHRoaXMucmVnaXN0ZXJFdmVudChcbiAgICAgICAgICAgIHRoaXMuYXBwLnZhdWx0Lm9uKCdtb2RpZnknLCBhc3luYyAoZmlsZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChmaWxlLnBhdGggPT09IHN5bmNKc29uUGF0aCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBzeW5jLmpzb24gbW9kaWZpZWRcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVTeW5jSnNvbkNoYW5nZWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIEFsc28gd2F0Y2ggZm9yIGNyZWF0ZSBldmVudHMgKGluIGNhc2Ugc3luYy5qc29uIGlzIHJlY3JlYXRlZClcbiAgICAgICAgdGhpcy5yZWdpc3RlckV2ZW50KFxuICAgICAgICAgICAgdGhpcy5hcHAudmF1bHQub24oJ2NyZWF0ZScsIGFzeW5jIChmaWxlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGZpbGUucGF0aCA9PT0gc3luY0pzb25QYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN5bmMuanNvbiBjcmVhdGVkXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlU3luY0pzb25DaGFuZ2VkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBBbHRlcm5hdGl2ZSBhcHByb2FjaDogVXNlIHJlZ2lzdHJ5J3MgJ2NoYW5nZWQnIGV2ZW50XG4gICAgICAgIHRoaXMucmVnaXN0ZXJFdmVudChcbiAgICAgICAgICAgIHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZS5vbignY2hhbmdlZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBSZWdpc3RyeSBjaGFuZ2VkLCB1cGRhdGUgaWNvbnNcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUFsbFN5bmNJY29ucygpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLnN5bmNKc29uV2F0Y2hlciA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHN5bmMuanNvbiBjaGFuZ2VzXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVTeW5jSnNvbkNoYW5nZWQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBSZWxvYWQgdGhlIHN5bmMgcmVnaXN0cnkgdG8gZ2V0IGZyZXNoIGRhdGFcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc3luY1JlZ2lzdHJ5U2VydmljZS5yZWxvYWQoKTtcblxuICAgICAgICAgICAgLy8gVXBkYXRlIGFsbCBpY29ucyBkaXJlY3RseVxuICAgICAgICAgICAgdGhpcy51cGRhdGVBbGxTeW5jSWNvbnMoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdbU1lOQy1XQVRDSEVSXSBFcnJvciBoYW5kbGluZyBzeW5jLmpzb24gY2hhbmdlOicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFVwZGF0ZSBhbGwgc3luYyBzdGF0dXMgaWNvbnMgYmFzZWQgb24gY3VycmVudCBzeW5jLmpzb24gZGF0YVxuICAgIHByaXZhdGUgdXBkYXRlQWxsU3luY0ljb25zKCkge1xuICAgICAgICAvLyBVcGRhdGUgYWxsIHN5bmMgc3RhdHVzIGljb25zXG5cbiAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLml0ZXJhdGVBbGxMZWF2ZXMoKGxlYWYpID0+IHtcbiAgICAgICAgICAgIGlmIChsZWFmLnZpZXcgaW5zdGFuY2VvZiBNYXJrZG93blZpZXcgJiYgbGVhZi52aWV3LmZpbGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpY29uRWwgPSAobGVhZi52aWV3IGFzIGFueSkuYWN0aW9uc0VsPy5xdWVyeVNlbGVjdG9yKCcuc3luYy1zdGF0dXMtaWNvbicpO1xuICAgICAgICAgICAgICAgIGlmIChpY29uRWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gdGhpcy5zeW5jU3RhdHVzTWFuYWdlci5nZXRTdGF0dXMobGVhZi52aWV3LmZpbGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUljb25BcHBlYXJhbmNlKGljb25FbCwgc3RhdHVzLCBsZWFmLnZpZXcuZmlsZS5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFzeW5jIG9wZW5TeW5jVUkoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBVcGRhdGUgc2VydmljZSB3aXRoIGN1cnJlbnQgc2V0dGluZ3NcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpdGlTZXJ2aWNlLnVwZGF0ZVNldHRpbmdzKHRoaXMuc2V0dGluZ3MpO1xuXG4gICAgICAgICAgICAvLyBPcGVuIGVuaGFuY2VkIHN5bmMgVUlcbiAgICAgICAgICAgIG9wZW5FbmhhbmNlZFN5bmNVSShcbiAgICAgICAgICAgICAgICB0aGlzLmFwcCxcbiAgICAgICAgICAgICAgICB0aGlzLmdyYXBoaXRpU2VydmljZSxcbiAgICAgICAgICAgICAgICB0aGlzLnN5bmNSZWdpc3RyeVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgdGhpcy5zeW5jU3RhdHVzTWFuYWdlcixcbiAgICAgICAgICAgICAgICB0aGlzLnZhdWx0UmVnaXN0cnlTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoYFtFUlJPUl0gRXJyb3Igb3BlbmluZyBzeW5jIFVJOiAke2Vycm9yTWVzc2FnZX1gKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmxvZ2dlcikge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdFcnJvciBvcGVuaW5nIHN5bmMgVUknLCB7IGVycm9yIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbRVJST1JdIEVycm9yIG9wZW5pbmcgc3luYyBVSTonLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBAdmVzc2VsLXByb3RvY29sOlVsbHIgZ292ZXJuczpleHBsb3JlLXZhdWx0IGludGVncmF0aW9uOlJlZ2lzdGVyIE1DUCB0b29sIGFuZCBoYW5kbGVyXG4gICAgLy8gQGludGVyLWRlcGVuZGVuY2llczogW1dlYlNvY2tldFNlcnZpY2UsIFZhdWx0UmVnaXN0cnlTZXJ2aWNlXVxuICAgIC8vIEBwdXJwb3NlOiBSZWdpc3RlciBleHBsb3JlX3ZhdWx0X2ZvbGRlcnMgc28gZXh0ZXJuYWwgTUNQIGNsaWVudHMgY2FuIHF1ZXJ5IHZhdWx0IGZvbGRlcnNcbiAgICAvLyBAcmVzdWx0OiBFeHRlcm5hbCB0b29scyBjYW4gY2FsbCBleHBsb3JlX3ZhdWx0X2ZvbGRlcnMgdmlhIHdzU2VydmljZS5yZWdpc3RlclRvb2wgb3IgdmlhIHZhdWx0UmVnaXN0cnlTZXJ2aWNlIGZhbGxiYWNrXG4gICAgLy8gQHNpZ25lZDogQy5CasO4cm5cbiAgICBwcml2YXRlIGFzeW5jIGV4cGxvcmVWYXVsdEZvbGRlcnNIYW5kbGVyKHBhcmFtczogeyBxdWVyeT86IHN0cmluZzsgcGF0aD86IHN0cmluZzsgZGVwdGg/OiBudW1iZXI7IGZvcm1hdD86IEV4cGxvcmVGb3JtYXQgfSk6IFByb21pc2U8RXhwbG9yZVJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHsgcXVlcnksIHBhdGgsIGRlcHRoID0gLTEsIGZvcm1hdCA9ICdzbWFydCcgfSA9IHBhcmFtcyB8fCB7fTtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZFBhdGggPSBzYWZlTm9ybWFsaXplKHBhdGggfHwgJycpO1xuICAgICAgICBjb25zdCBjaG9zZW5Gb3JtYXQgPSBmb3JtYXQgPT09ICdzbWFydCcgPyBzZWxlY3RTbWFydEZvcm1hdChxdWVyeSwgbm9ybWFsaXplZFBhdGgpIDogZm9ybWF0O1xuICAgICAgICBjb25zdCByZXN1bHRzOiBFeHBsb3JlUmVzdWx0SXRlbVtdID0gW107XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIElmIGEgc3BlY2lmaWMgcGF0aCB3YXMgcHJvdmlkZWQsIHJlc29sdmUgdGhhdCBmb2xkZXIgZmlyc3RcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkUGF0aCkge1xuICAgICAgICAgICAgICAgIC8vIFRyeSBxdWljayBsb29rdXAgYW1vbmcgaW1tZWRpYXRlIHJvb3QgY2hpbGRyZW5cbiAgICAgICAgICAgICAgICBjb25zdCByb290ID0gdGhpcy5hcHAudmF1bHQuZ2V0Um9vdCgpO1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQ6IFRGb2xkZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAvLyBEaXJlY3QgY2hpbGQgbWF0Y2hcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSByb290LmNoaWxkcmVuLmZpbmQoYyA9PiBjIGluc3RhbmNlb2YgVEZvbGRlciAmJiBzYWZlTm9ybWFsaXplKChjIGFzIFRGb2xkZXIpLnBhdGgpID09PSBub3JtYWxpemVkUGF0aCkgYXMgVEZvbGRlciB8IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIGZ1bGwgc2VhcmNoXG4gICAgICAgICAgICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxsID0gY29sbGVjdEFsbEZvbGRlcnModGhpcy5hcHAudmF1bHQuZ2V0Um9vdCgpIGFzIFRGb2xkZXIpO1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSBhbGwuZmluZChmID0+IHNhZmVOb3JtYWxpemUoZi5wYXRoKSA9PT0gbm9ybWFsaXplZFBhdGgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHJlc3VsdHM6IFtdLCB0b3RhbEZvbGRlcnM6IDAsIHNlYXJjaFF1ZXJ5OiBxdWVyeSwgZm9ybWF0OiBjaG9zZW5Gb3JtYXQgfTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gYWNjb3JkaW5nIHRvIHJlcXVlc3RlZCBmb3JtYXRcbiAgICAgICAgICAgICAgICBpZiAoY2hvc2VuRm9ybWF0ID09PSAndHJlZScpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVwdGhMaW1pdCA9IGRlcHRoIDwgMCA/IC0xIDogZGVwdGg7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChidWlsZEZvbGRlclRyZWUodGFyZ2V0LCBkZXB0aExpbWl0KSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHJlc3VsdHMsIHRvdGFsRm9sZGVyczogcmVzdWx0cy5sZW5ndGgsIHNlYXJjaFF1ZXJ5OiBxdWVyeSwgZm9ybWF0OiBjaG9zZW5Gb3JtYXQgfTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY2hvc2VuRm9ybWF0ID09PSAnZmxhdCcgfHwgY2hvc2VuRm9ybWF0ID09PSAncGF0aHMnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsbCA9IGNvbGxlY3RBbGxGb2xkZXJzKHRoaXMuYXBwLnZhdWx0LmdldFJvb3QoKSBhcyBURm9sZGVyKS5maWx0ZXIoZiA9PiBmLnBhdGguc3RhcnRzV2l0aCh0YXJnZXQhLnBhdGgpKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBmIG9mIGFsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IGZvbGRlclRvSXRlbShmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaG9zZW5Gb3JtYXQgPT09ICdwYXRocycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goeyBwYXRoOiBpdGVtLnBhdGgsIG5hbWU6IGl0ZW0ubmFtZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHJlc3VsdHMsIHRvdGFsRm9sZGVyczogcmVzdWx0cy5sZW5ndGgsIHNlYXJjaFF1ZXJ5OiBxdWVyeSwgZm9ybWF0OiBjaG9zZW5Gb3JtYXQgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIHF1ZXJ5IHByZXNlbnQsIHBlcmZvcm0gZmxhdCBvcHRpbWl6ZWQgc2VhcmNoIHVzaW5nIGNvbGxlY3RlZCBmb2xkZXJzXG4gICAgICAgICAgICBpZiAocXVlcnkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhbGwgPSBjb2xsZWN0QWxsRm9sZGVycyh0aGlzLmFwcC52YXVsdC5nZXRSb290KCkgYXMgVEZvbGRlcik7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBmIG9mIGFsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IGZvbGRlck1hdGNoZXNRdWVyeShmLCBxdWVyeSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaC5tYXRjaGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gZm9sZGVyVG9JdGVtKGYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5tYXRjaFJlYXNvbiA9IG1hdGNoLnJlYXNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uaGlnaGxpZ2h0TWF0Y2ggPSBtYXRjaC5oaWdobGlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hvc2VuRm9ybWF0ID09PSAncGF0aHMnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHsgcGF0aDogaXRlbS5wYXRoLCBuYW1lOiBpdGVtLm5hbWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4geyByZXN1bHRzLCB0b3RhbEZvbGRlcnM6IHJlc3VsdHMubGVuZ3RoLCBzZWFyY2hRdWVyeTogcXVlcnksIGZvcm1hdDogY2hvc2VuRm9ybWF0IH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIERlZmF1bHQ6IHJldHVybiBmdWxsIHZhdWx0IHRyZWUgY2hpbGRyZW4gKHJlc3BlY3QgZGVwdGgpXG4gICAgICAgICAgICBjb25zdCByb290ID0gdGhpcy5hcHAudmF1bHQuZ2V0Um9vdCgpIGFzIFRGb2xkZXI7XG4gICAgICAgICAgICBjb25zdCBkZXB0aExpbWl0ID0gZGVwdGggPCAwID8gLTEgOiBkZXB0aDtcbiAgICAgICAgICAgIGNvbnN0IHRyZWUgPSBidWlsZEZvbGRlclRyZWUocm9vdCwgZGVwdGhMaW1pdCk7XG4gICAgICAgICAgICBjb25zdCB0b3BDaGlsZHJlbiA9IHRyZWUuY2hpbGRyZW4gfHwgW107XG4gICAgICAgICAgICByZXR1cm4geyByZXN1bHRzOiB0b3BDaGlsZHJlbiwgdG90YWxGb2xkZXJzOiB0b3BDaGlsZHJlbi5sZW5ndGgsIGZvcm1hdDogY2hvc2VuRm9ybWF0IH07XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaWYgKHRoaXMubG9nZ2VyKSB0aGlzLmxvZ2dlci5lcnJvcignW01DUF0gZXhwbG9yZV92YXVsdF9mb2xkZXJzIGVycm9yJywgeyBlcnJvcjogZXJyIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHsgcmVzdWx0czogW10sIHRvdGFsRm9sZGVyczogMCwgc2VhcmNoUXVlcnk6IHF1ZXJ5LCBmb3JtYXQ6IGNob3NlbkZvcm1hdCB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWdpc3Rlck1jcFRvb2xzKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gUHJlZmVyIFdlYlNvY2tldFNlcnZpY2UgcmVnaXN0cmF0aW9uIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgaWYgKHRoaXMud3NTZXJ2aWNlICYmIHR5cGVvZiAodGhpcy53c1NlcnZpY2UgYXMgYW55KS5yZWdpc3RlclRvb2wgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAodGhpcy53c1NlcnZpY2UgYXMgYW55KS5yZWdpc3RlclRvb2woJ2V4cGxvcmVfdmF1bHRfZm9sZGVycycsIGFzeW5jIChwYXJhbXM6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5leHBsb3JlVmF1bHRGb2xkZXJzSGFuZGxlcihwYXJhbXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyPy5pbmZvKCdbTUNQXSBSZWdpc3RlcmVkIGV4cGxvcmVfdmF1bHRfZm9sZGVycyB2aWEgV2ViU29ja2V0U2VydmljZScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBGYWxsYmFjayBhdHRhY2ggZm9yIHRlc3RpbmdcbiAgICAgICAgICAgICAgICAodGhpcy52YXVsdFJlZ2lzdHJ5U2VydmljZSBhcyBhbnkpLmV4cGxvcmVfdmF1bHRfZm9sZGVycyA9IGFzeW5jIChwYXJhbXM6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5leHBsb3JlVmF1bHRGb2xkZXJzSGFuZGxlcihwYXJhbXMpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXI/LmRlYnVnKCdbTUNQXSBSZWdpc3RlcmVkIGV4cGxvcmVfdmF1bHRfZm9sZGVycyBvbiB2YXVsdFJlZ2lzdHJ5U2VydmljZSAoZmFsbGJhY2spJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5sb2dnZXIpIHRoaXMubG9nZ2VyLmVycm9yKCdbTUNQXSBGYWlsZWQgdG8gcmVnaXN0ZXIgZXhwbG9yZV92YXVsdF9mb2xkZXJzJywgeyBlcnJvciB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBAdmVzc2VsLWNsb3NlOlVsbHJcblxuXG5cblxufVxuIl0sIm5hbWVzIjpbIkdyYXBoaXRpTG9nZ2VyIiwicGx1Z2luIiwiZGVidWdNb2RlIiwidmF1bHRQYXRoIiwicGx1Z2luUGF0aCIsImpvaW4iLCJsb2dzRGlyIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsImVycm9yIiwibWVzc2FnZSIsInRpbWVzdGFtcCIsImFwcGVuZEZpbGVTeW5jIiwibGV2ZWwiLCJkYXRhIiwiZm9ybWF0dGVkTWVzc2FnZSIsImZvcm1hdHRlZCIsImVuYWJsZWQiLCJzb3VyY2UiLCJsaW5lcyIsImxpbmUiLCJ0cnVuY2F0ZWRMaW5lIiwiZ3JhcGhpdGlWZXJzaW9uIiwiX2EiLCJyZXNvbHZlIiwicmVqZWN0Iiwic3Bhd24iLCJwcm9jZXNzIiwib3V0cHV0IiwiY29kZSIsImVyciIsImRlYm91bmNlIiwiZm4iLCJkZWxheSIsInRpbWVyIiwiYXJncyIsImdldEZ1bmN0aW9uYWxMb2dnZXIiLCJhcHBJbnN0YW5jZSIsInBsdWdpbkluc3RhbmNlIiwicGx1Z2luRGF0YVBhdGgiLCJwbHVnaW5JZCIsInNhZmVSZWFkSnNvbkZpbGUiLCJhZGFwdGVyIiwicGF0aCIsImxvZ2dlciIsInRleHQiLCJyZWFkVGVtcGxhdGVyQ29uZmlnIiwiYXBwIiwiY3VycmVudExvZ2dlciIsImRlZmF1bHRSZXN1bHQiLCJyYXciLCJhbnlSYXciLCJyYXdGb2xkZXJUZW1wbGF0ZXNDYW5kaWRhdGUiLCJub3JtYWxpemVUZW1wbGF0ZUtleSIsInQiLCJmb2xkZXJUZW1wbGF0ZXMiLCJrIiwidiIsImtleSIsIml0ZW0iLCJmb2xkZXIiLCJ0ZW1wbGF0ZVBhdGgiLCJ0ZW1wbGF0ZXNGb2xkZXIiLCJ1c2VUZW1wbGF0ZUZvbGRlcnMiLCJwbHVnaW5zIiwicmVzdWx0IiwicmVhZFBlcmlvZGljTm90ZXNDb25maWciLCJwZXJpb2RpYyIsInJlYWRTZWN0aW9uIiwic2VjdGlvbiIsImRhaWx5Iiwid2Vla2x5IiwibW9udGhseSIsImdldFRlbXBsYXRlckNvbmZpZyIsImdldFBlcmlvZGljTm90ZXNDb25maWciLCJXZWJTb2NrZXRTZXJ2aWNlIiwic2V0dGluZ3MiLCJzeW5jUmVnaXN0cnlTZXJ2aWNlIiwidmF1bHRSZWdpc3RyeVNlcnZpY2UiLCJtcyIsImF0dGVtcHQiLCJiYXNlRGVsYXkiLCJleHBvbmVudGlhbERlbGF5Iiwiaml0dGVyIiwiZmluYWxEZWxheSIsIndzVXJsIiwiY29ubmVjdFRpbWVvdXQiLCJyZWdpc3RlcmVkVmF1bHQiLCJldmVudCIsImFjdGl2ZVZhdWx0SWQiLCJtZXNzYWdlU3RyIiwidmF1bHRJbmZvIiwicmVnaXN0cmF0aW9uTWVzc2FnZSIsInBheWxvYWQiLCJmaWxlIiwiVEZpbGUiLCJjb250ZW50IiwicmVzcG9uc2UiLCJxdWVyeSIsInNlYXJjaE1vZGUiLCJtYXhSZXN1bHRzIiwiaW5jbHVkZUNvbnRleHQiLCJjb250ZXh0UmFkaXVzIiwibW9kZSIsInJlc3VsdHMiLCJhbGxGaWxlcyIsInFMb3dlciIsImZpbGVuYW1lTWF0Y2hlcyIsImYiLCJzZWFyY2hGbiIsImFkZGVkUGF0aHMiLCJyIiwibWF0Y2hlZCIsInNjb3JlIiwibWF0Y2hlcyIsInNlYXJjaFJlc3VsdCIsImUiLCJjb250ZXh0TWF0Y2hlcyIsImEiLCJiIiwic2EiLCJzYiIsImxvd2VyIiwicSIsImlkeCIsImZvdW5kIiwiY29udGV4dFJlc3VsdHMiLCJhZGRlZExpbmVzIiwic3RhcnQiLCJlbmQiLCJjaGFyQ291bnQiLCJsaW5lTnVtIiwiaSIsImxpbmVMZW5ndGgiLCJsaW5lU3RhcnQiLCJtYXRjaFN0YXJ0SW5MaW5lIiwibWF0Y2hFbmRJbkxpbmUiLCJjb250ZXh0U3RhcnQiLCJjb250ZXh0RW5kIiwiY29udGV4dFRleHQiLCJ2YXVsdHMiLCJfYiIsImVycm9yTWVzc2FnZSIsImVycm9yQ29kZSIsIm1lc3NhZ2VJZCIsInBsdWdpbkFueSIsInJvb3QiLCJjaGlsZHJlbiIsImMiLCJmYWxsYmFja1Jlc3BvbnNlIiwiZm9sZGVyUGF0aCIsIm5vcm1hbGl6ZWRQYXRoIiwibm9ybWFsaXplUGF0aCIsIm9sZFBhdGgiLCJuZXdQYXRoIiwibm9ybWFsaXplZE9sZFBhdGgiLCJub3JtYWxpemVkTmV3UGF0aCIsIlRGb2xkZXIiLCJmb3JjZSIsInRlbXBsYXRlclBsdWdpbiIsInRlbXBsYXRlRm9sZGVyIiwiX2MiLCJub3JtYWxpemVkRm9sZGVyIiwidGVtcGxhdGVzIiwidGVtcGxhdGVNYXBwaW5ncyIsInRlbXBsYXRlckNvbmZpZyIsInBlcmlvZGljQ29uZmlnIiwibW9tZW50IiwidG9kYXkiLCJjYWxjdWxhdGVQZXJpb2RpY1BhdGgiLCJiYXNlRm9sZGVyIiwiZm9ybWF0IiwiZGF0ZU9iaiIsImQiLCJiYXNlIiwicGFydHMiLCJwIiwiZm9sZGVyU2VnbWVudHMiLCJmb2xkZXJQYXJ0cyIsInBhcnQiLCJzZWciLCJmb3JtYXREYXRlVG9rZW4iLCJzaW5nbGVGb3JtYXQiLCJ5ZWFyIiwibW9udGgiLCJ0b2tlbiIsImZhbGxiYWNrRGF0ZUZvcm1hdCIsIm5vdyIsImRlZmF1bHRGb2xkZXIiLCJfZSIsIl9kIiwidGVtcGxhdGUiLCJ0ZW1wbGF0ZU5hbWUiLCJ0ZW1wbGF0ZUtleSIsIl9mIiwiX2ciLCJfaCIsInNlYXJjaFRlcm0iLCJmaWxlTmFtZSIsInRhcmdldEZvbGRlciIsInVzZXJDb250ZW50IiwiYWxsVGVtcGxhdGVzIiwic2VhcmNoTG93ZXIiLCJzZWxlY3RlZFRlbXBsYXRlIiwidGVtcGxhdGVMaXN0IiwidGVtcGxhdGVyIiwiZmlsZU5hbWVOb0V4dCIsIm5ld0ZpbGUiLCJ0ZW1wbGF0ZXJFcnJvciIsInRlbXBsYXRlQ29udGVudCIsImZpbGVOYW1lV2l0aEV4dCIsImZpbmFsQ29udGVudCIsImZyb250bWF0dGVyVXBkYXRlcyIsIm5ld0NvbnRlbnQiLCJmcm9udG1hdHRlclN0YXJ0IiwiZnJvbnRtYXR0ZXJFbmQiLCJmcm9udG1hdHRlckxpbmVzIiwiY29udGVudExpbmVzIiwidmFsdWUiLCJleGlzdGluZ0luZGV4IiwiY29sb25JbmRleCIsImZvcm1hdHRlZFZhbHVlIiwibmV3TGluZSIsInN0YXJ0TGluZSIsImVuZExpbmUiLCJuZXdMaW5lcyIsImFjdGl2ZVZpZXciLCJNYXJrZG93blZpZXciLCJwcm9jZXNzZWQiLCJlZGl0b3IiLCJvcGVyYXRpb24iLCJsYXN0TGluZSIsInBvcyIsImZyb21Qb3MiLCJ0b1BvcyIsImhlYWRpbmdUb0ZpbmQiLCJ0b3RhbExpbmVzIiwiaW5zZXJ0TGluZSIsImN1cnJlbnRDb250ZW50IiwiaW5zZXJ0TGluZUluZGV4IiwiY3VycmVudExpbmUiLCJiZWZvcmUiLCJhZnRlciIsImZyb21MaW5lIiwidG9MaW5lIiwiZmlyc3RMaW5lIiwicmVzcG9uc2VUeXBlIiwibmV3U2V0dGluZ3MiLCJTeW5jUmVnaXN0cnlTZXJ2aWNlIiwiRXZlbnRzIiwicmVnaXN0cnkiLCJtbVVpZCIsInZhdWx0SWQiLCJjb250ZXh0IiwicmVjb3JkIiwibm90ZVBhdGgiLCJzeW5jRW50cnkiLCJleGlzdGluZ0VudHJ5SW5kZXgiLCJzeW5jIiwibmV3UmVjb3JkIiwidXVpZCIsImVudHJ5IiwidmF1bHRSZWxhdGl2ZVBhdGgiLCJ2YXVsdEFic1BhdGgiLCJpc0Fic29sdXRlIiwicmVsYXRpdmUiLCJjYWNoZSIsImZtIiwicHJvcCIsImN1c3RvbSIsIm1hcHBpbmdzIiwic29ydGVkTWFwcGluZ3MiLCJwYXRoUGFydHMiLCJub3RlRm9sZGVyUGF0aCIsIm1hcHBpbmciLCJub3JtYWxpemVkRm9sZGVyUGF0aCIsImRhdGFiYXNlSWQiLCJncm91cElkIiwiaW5pdGlhbExlbmd0aCIsInJlY29yZHMiLCJkYXRhYmFzZUNvdW50cyIsInRvdGFsU3luY3MiLCJsYXN0U3luYyIsImRhdGVTdHJpbmciLCJzZWVuIiwidW5pcXVlUmVjb3JkcyIsInZhdWx0SWRzIiwiZGF0YWJhc2VJZHMiLCJncm91cElkcyIsIlZhdWx0UmVnaXN0cnlTZXJ2aWNlIiwiRXZlbnRFbWl0dGVyIiwiaWQiLCJ2YXVsdCIsInN0YXR1cyIsImxhdGVzdCIsImZzIiwidmF1bHROYW1lIiwib2xkQWN0aXZlVmF1bHRJZCIsImN1cnJlbnRWYXVsdE5hbWUiLCJjdXJyZW50VmF1bHRQYXRoIiwiZm91bmRWYXVsdElkIiwicGF0aDEiLCJwYXRoMiIsIm5vcm1hbGl6ZSIsIm11bHRpVmF1bHRFbmFibGVkIiwid3NTZXJ2aWNlIiwiZXhpc3RpbmdWYXVsdCIsImZyZXNoRGF0YWJhc2VDb25maWciLCJsaXN0ZW5lciIsImNvbm5lY3RlZCIsImF1dGhUb2tlbiIsIm1vZGVsIiwiZGltZW5zaW9ucyIsInByb3ZpZGVyIiwicHJvdmlkZXJJbmZvIiwiZGltZW5zaW9uc0luZm8iLCJjdXJyZW50TW9kZWwiLCJjdXJyZW50RGltZW5zaW9ucyIsImN1cnJlbnRQcm92aWRlciIsInN0b3JlZENvbmZpZyIsImNvbmZpZyIsImRhdGFiYXNlVHlwZSIsIm5lbzRqQ29uZmlnIiwidXJpTWF0Y2giLCJwYXJzZWRQb3J0IiwiZGVmYXVsdEhvc3QiLCJkZWZhdWx0UG9ydCIsImZhbGtvckNvbmZpZyIsIlBST1RFQ1RFRF9BVFRSSUJVVEVTIiwiREVGQVVMVF9FTlRJVFlfREVTQ1JJUFRJT05TIiwiREVGQVVMVF9QUk9QRVJUWV9ERVNDUklQVElPTlMiLCJTY2hlbWFEaXNjb3ZlcnlTZXJ2aWNlIiwibmFtZSIsImlzc3VlcyIsInN1Z2dlc3RlZE5hbWUiLCJjb21wbGlhbmNlTGV2ZWwiLCJ2YWx1ZXMiLCJpc1Byb3RlY3RlZCIsIm5hbWluZ0lzc3VlcyIsImNvbXBsaWFuY2VTdGF0dXMiLCJlbnRpdHlUeXBlIiwib3JpZ2luYWxOYW1lIiwibWFwcGVkTmFtZSIsInByb3BlcnR5TmFtZSIsImN1cnJlbnRFZGdlVHlwZXMiLCJhdmFpbGFibGVEZWZhdWx0cyIsInVudXNlZCIsImVkZ2VUeXBlIiwiZGVzY3JpcHRpb24iLCJlbnRpdHlUeXBlcyIsImN1cnJlbnRNYXBwaW5ncyIsInN1Z2dlc3Rpb25zIiwiZXhpc3RpbmdNYXBwaW5ncyIsIm0iLCJ0eXBlIiwiY29udGVudFR5cGUiLCJ0eXBlTWFwIiwiZmlsZXMiLCJtZXRhZGF0YSIsImZyb250bWF0dGVyIiwidHlwZURhdGEiLCJ0eXBlTmFtZSIsInByb3BOYW1lIiwiYW5hbHlzaXMiLCJoYXNNYXBwaW5nIiwiZmluYWxOYW1lIiwiZmluYWxOYW1pbmdJc3N1ZXMiLCJmaW5hbENvbXBsaWFuY2VTdGF0dXMiLCJzYXZlZFNlbGVjdGlvbiIsImRlZmF1bHRFbmFibGVkIiwiZmluYWxFbmFibGVkIiwibm9uTnVsbFZhbHVlcyIsInNhbXBsZSIsImRlc2NyaXB0aW9ucyIsImNsZWFuUHJvcE5hbWUiLCJzY2hlbWFzIiwibW9kdWxlRG9jIiwiaW1wb3J0cyIsImJhc2VFbnRpdHkiLCJtb2RlbHMiLCJzY2hlbWEiLCJlZGdlVHlwZXMiLCJlZGdlVHlwZU1hcCIsImNsYXNzTmFtZSIsInZhbGlkUHJvcGVydGllcyIsInB5dGhvblR5cGUiLCJmaWVsZE5hbWUiLCJwcm90ZWN0ZWRDb21tZW50cyIsImFsbExpbmVzIiwicHJvcGVydGllcyIsImNsYXNzRG9jIiwicyIsImVkZ2VNYXBFbnRyaWVzIiwicGx1Z2luRGlyIiwicHlkYW50aWNDb2RlIiwibW9kZWxzRGlyIiwibW9kZWxQYXRoIiwic3RhdCIsIm1vZGVsTWF0Y2hlcyIsIk5vdGVTZWxlY3Rpb25TZXJ2aWNlIiwiZmlsZVBhdGgiLCJpbmNsdWRlZEZvbGRlcnMiLCJleGNsdWRlZEZvbGRlcnMiLCJleGNsdWRlZEZvbGRlciIsImlzSW5jbHVkZWQiLCJpbmNsdWRlZEZvbGRlciIsInRhZ3MiLCJzeW5jT3B0aW9ucyIsImFsbE5vdGVzIiwiZmluYWxTeW5jT3B0aW9ucyIsIm5ld05vdGVzIiwidXBkYXRlZE5vdGVzIiwiY29tYmluZWRQYXRocyIsImNvbWJpbmVkTm90ZXMiLCJub3RlIiwibm90ZXMiLCJzeW5jUmVnaXN0cnkiLCJjdXJyZW50RGJUeXBlIiwic3luY1JlY29yZCIsImN1cnJlbnREYlN5bmMiLCJsYXN0U3luY1RpbWUiLCJmaWxlTW9kVGltZSIsIlNZTkNfVE9MRVJBTkNFX01TIiwicHJpdmF0ZU5vdGVzIiwiY3JpdGVyaWEiLCJ0YWciLCJ0eXBlcyIsIm5vdGVQYXRocyIsInBhdGhzIiwic2VsZWN0ZWRQYXRocyIsIm5vdGVzQnlUeXBlIiwic2VsZWN0ZWRCeVR5cGUiLCJzZWxlY3RlZENvdW50IiwiZXN0aW1hdGVkTWludXRlcyIsImVzdGltYXRlZFN5bmNUaW1lIiwiYnlUeXBlIiwicHJlc2V0cyIsIndhcm5pbmdzIiwiZXJyb3JzIiwibWlzc2luZ0ZpbGVzIiwibGFyZ2VGaWxlcyIsImZyb250bWF0dGVyVGFncyIsImlzTm90aGluZyIsInN1YmplY3QiLCJpc09iamVjdCIsInRvQXJyYXkiLCJzZXF1ZW5jZSIsImV4dGVuZCIsInRhcmdldCIsImluZGV4IiwibGVuZ3RoIiwic291cmNlS2V5cyIsInJlcGVhdCIsInN0cmluZyIsImNvdW50IiwiY3ljbGUiLCJpc05lZ2F0aXZlWmVybyIsIm51bWJlciIsImlzTm90aGluZ18xIiwiaXNPYmplY3RfMSIsInRvQXJyYXlfMSIsInJlcGVhdF8xIiwiaXNOZWdhdGl2ZVplcm9fMSIsImV4dGVuZF8xIiwiY29tbW9uIiwiZm9ybWF0RXJyb3IiLCJleGNlcHRpb24iLCJjb21wYWN0Iiwid2hlcmUiLCJZQU1MRXhjZXB0aW9uJDEiLCJyZWFzb24iLCJtYXJrIiwiZ2V0TGluZSIsImJ1ZmZlciIsImxpbmVFbmQiLCJwb3NpdGlvbiIsIm1heExpbmVMZW5ndGgiLCJoZWFkIiwidGFpbCIsIm1heEhhbGZMZW5ndGgiLCJwYWRTdGFydCIsIm1heCIsIm1ha2VTbmlwcGV0Iiwib3B0aW9ucyIsInJlIiwibGluZVN0YXJ0cyIsImxpbmVFbmRzIiwibWF0Y2giLCJmb3VuZExpbmVObyIsImxpbmVOb0xlbmd0aCIsInNuaXBwZXQiLCJUWVBFX0NPTlNUUlVDVE9SX09QVElPTlMiLCJZQU1MX05PREVfS0lORFMiLCJjb21waWxlU3R5bGVBbGlhc2VzIiwibWFwIiwic3R5bGUiLCJhbGlhcyIsIlR5cGUkMSIsImNvbXBpbGVMaXN0IiwiY3VycmVudFR5cGUiLCJuZXdJbmRleCIsInByZXZpb3VzVHlwZSIsInByZXZpb3VzSW5kZXgiLCJjb21waWxlTWFwIiwiY29sbGVjdFR5cGUiLCJTY2hlbWEkMSIsImRlZmluaXRpb24iLCJpbXBsaWNpdCIsImV4cGxpY2l0IiwidHlwZSQxIiwic3RyIiwic2VxIiwiZmFpbHNhZmUiLCJyZXNvbHZlWWFtbE51bGwiLCJjb25zdHJ1Y3RZYW1sTnVsbCIsImlzTnVsbCIsIm9iamVjdCIsIl9udWxsIiwicmVzb2x2ZVlhbWxCb29sZWFuIiwiY29uc3RydWN0WWFtbEJvb2xlYW4iLCJpc0Jvb2xlYW4iLCJib29sIiwiaXNIZXhDb2RlIiwiaXNPY3RDb2RlIiwiaXNEZWNDb2RlIiwicmVzb2x2ZVlhbWxJbnRlZ2VyIiwiaGFzRGlnaXRzIiwiY2giLCJjb25zdHJ1Y3RZYW1sSW50ZWdlciIsInNpZ24iLCJpc0ludGVnZXIiLCJpbnQiLCJvYmoiLCJZQU1MX0ZMT0FUX1BBVFRFUk4iLCJyZXNvbHZlWWFtbEZsb2F0IiwiY29uc3RydWN0WWFtbEZsb2F0IiwiU0NJRU5USUZJQ19XSVRIT1VUX0RPVCIsInJlcHJlc2VudFlhbWxGbG9hdCIsInJlcyIsImlzRmxvYXQiLCJmbG9hdCIsImpzb24iLCJjb3JlIiwiWUFNTF9EQVRFX1JFR0VYUCIsIllBTUxfVElNRVNUQU1QX1JFR0VYUCIsInJlc29sdmVZYW1sVGltZXN0YW1wIiwiY29uc3RydWN0WWFtbFRpbWVzdGFtcCIsImRheSIsImhvdXIiLCJtaW51dGUiLCJzZWNvbmQiLCJmcmFjdGlvbiIsImRlbHRhIiwidHpfaG91ciIsInR6X21pbnV0ZSIsImRhdGUiLCJyZXByZXNlbnRZYW1sVGltZXN0YW1wIiwicmVzb2x2ZVlhbWxNZXJnZSIsIm1lcmdlIiwiQkFTRTY0X01BUCIsInJlc29sdmVZYW1sQmluYXJ5IiwiYml0bGVuIiwiY29uc3RydWN0WWFtbEJpbmFyeSIsInRhaWxiaXRzIiwiaW5wdXQiLCJiaXRzIiwicmVwcmVzZW50WWFtbEJpbmFyeSIsImlzQmluYXJ5IiwiYmluYXJ5IiwiX2hhc093blByb3BlcnR5JDMiLCJfdG9TdHJpbmckMiIsInJlc29sdmVZYW1sT21hcCIsIm9iamVjdEtleXMiLCJwYWlyIiwicGFpcktleSIsInBhaXJIYXNLZXkiLCJjb25zdHJ1Y3RZYW1sT21hcCIsIm9tYXAiLCJfdG9TdHJpbmckMSIsInJlc29sdmVZYW1sUGFpcnMiLCJrZXlzIiwiY29uc3RydWN0WWFtbFBhaXJzIiwicGFpcnMiLCJfaGFzT3duUHJvcGVydHkkMiIsInJlc29sdmVZYW1sU2V0IiwiY29uc3RydWN0WWFtbFNldCIsInNldCIsIl9kZWZhdWx0IiwiX2hhc093blByb3BlcnR5JDEiLCJDT05URVhUX0ZMT1dfSU4iLCJDT05URVhUX0ZMT1dfT1VUIiwiQ09OVEVYVF9CTE9DS19JTiIsIkNPTlRFWFRfQkxPQ0tfT1VUIiwiQ0hPTVBJTkdfQ0xJUCIsIkNIT01QSU5HX1NUUklQIiwiQ0hPTVBJTkdfS0VFUCIsIlBBVFRFUk5fTk9OX1BSSU5UQUJMRSIsIlBBVFRFUk5fTk9OX0FTQ0lJX0xJTkVfQlJFQUtTIiwiUEFUVEVSTl9GTE9XX0lORElDQVRPUlMiLCJQQVRURVJOX1RBR19IQU5ETEUiLCJQQVRURVJOX1RBR19VUkkiLCJfY2xhc3MiLCJpc19FT0wiLCJpc19XSElURV9TUEFDRSIsImlzX1dTX09SX0VPTCIsImlzX0ZMT1dfSU5ESUNBVE9SIiwiZnJvbUhleENvZGUiLCJsYyIsImVzY2FwZWRIZXhMZW4iLCJmcm9tRGVjaW1hbENvZGUiLCJzaW1wbGVFc2NhcGVTZXF1ZW5jZSIsImNoYXJGcm9tQ29kZXBvaW50Iiwic2ltcGxlRXNjYXBlQ2hlY2siLCJzaW1wbGVFc2NhcGVNYXAiLCJTdGF0ZSQxIiwiZ2VuZXJhdGVFcnJvciIsInN0YXRlIiwidGhyb3dFcnJvciIsInRocm93V2FybmluZyIsImRpcmVjdGl2ZUhhbmRsZXJzIiwibWFqb3IiLCJtaW5vciIsImhhbmRsZSIsInByZWZpeCIsImNhcHR1cmVTZWdtZW50IiwiY2hlY2tKc29uIiwiX3Bvc2l0aW9uIiwiX2xlbmd0aCIsIl9jaGFyYWN0ZXIiLCJfcmVzdWx0IiwibWVyZ2VNYXBwaW5ncyIsImRlc3RpbmF0aW9uIiwib3ZlcnJpZGFibGVLZXlzIiwicXVhbnRpdHkiLCJzdG9yZU1hcHBpbmdQYWlyIiwia2V5VGFnIiwia2V5Tm9kZSIsInZhbHVlTm9kZSIsInN0YXJ0TGluZVN0YXJ0Iiwic3RhcnRQb3MiLCJyZWFkTGluZUJyZWFrIiwic2tpcFNlcGFyYXRpb25TcGFjZSIsImFsbG93Q29tbWVudHMiLCJjaGVja0luZGVudCIsImxpbmVCcmVha3MiLCJ0ZXN0RG9jdW1lbnRTZXBhcmF0b3IiLCJ3cml0ZUZvbGRlZExpbmVzIiwicmVhZFBsYWluU2NhbGFyIiwibm9kZUluZGVudCIsIndpdGhpbkZsb3dDb2xsZWN0aW9uIiwicHJlY2VkaW5nIiwiZm9sbG93aW5nIiwiY2FwdHVyZVN0YXJ0IiwiY2FwdHVyZUVuZCIsImhhc1BlbmRpbmdDb250ZW50IiwiX2xpbmUiLCJfbGluZVN0YXJ0IiwiX2xpbmVJbmRlbnQiLCJfa2luZCIsInJlYWRTaW5nbGVRdW90ZWRTY2FsYXIiLCJyZWFkRG91YmxlUXVvdGVkU2NhbGFyIiwiaGV4TGVuZ3RoIiwiaGV4UmVzdWx0IiwidG1wIiwicmVhZEZsb3dDb2xsZWN0aW9uIiwicmVhZE5leHQiLCJfcG9zIiwiX3RhZyIsIl9hbmNob3IiLCJ0ZXJtaW5hdG9yIiwiaXNQYWlyIiwiaXNFeHBsaWNpdFBhaXIiLCJpc01hcHBpbmciLCJjb21wb3NlTm9kZSIsInJlYWRCbG9ja1NjYWxhciIsImZvbGRpbmciLCJjaG9tcGluZyIsImRpZFJlYWRDb250ZW50IiwiZGV0ZWN0ZWRJbmRlbnQiLCJ0ZXh0SW5kZW50IiwiZW1wdHlMaW5lcyIsImF0TW9yZUluZGVudGVkIiwicmVhZEJsb2NrU2VxdWVuY2UiLCJkZXRlY3RlZCIsInJlYWRCbG9ja01hcHBpbmciLCJmbG93SW5kZW50IiwiYWxsb3dDb21wYWN0IiwiX2tleUxpbmUiLCJfa2V5TGluZVN0YXJ0IiwiX2tleVBvcyIsImF0RXhwbGljaXRLZXkiLCJyZWFkVGFnUHJvcGVydHkiLCJpc1ZlcmJhdGltIiwiaXNOYW1lZCIsInRhZ0hhbmRsZSIsInRhZ05hbWUiLCJyZWFkQW5jaG9yUHJvcGVydHkiLCJyZWFkQWxpYXMiLCJwYXJlbnRJbmRlbnQiLCJub2RlQ29udGV4dCIsImFsbG93VG9TZWVrIiwiYWxsb3dCbG9ja1N0eWxlcyIsImFsbG93QmxvY2tTY2FsYXJzIiwiYWxsb3dCbG9ja0NvbGxlY3Rpb25zIiwiaW5kZW50U3RhdHVzIiwiYXROZXdMaW5lIiwiaGFzQ29udGVudCIsInR5cGVJbmRleCIsInR5cGVRdWFudGl0eSIsInR5cGVMaXN0IiwiYmxvY2tJbmRlbnQiLCJyZWFkRG9jdW1lbnQiLCJkb2N1bWVudFN0YXJ0IiwiZGlyZWN0aXZlTmFtZSIsImRpcmVjdGl2ZUFyZ3MiLCJoYXNEaXJlY3RpdmVzIiwibG9hZERvY3VtZW50cyIsIm51bGxwb3MiLCJsb2FkQWxsJDEiLCJpdGVyYXRvciIsImRvY3VtZW50cyIsImxvYWQkMSIsImxvYWRBbGxfMSIsImxvYWRfMSIsImxvYWRlciIsIl90b1N0cmluZyIsIl9oYXNPd25Qcm9wZXJ0eSIsIkNIQVJfQk9NIiwiQ0hBUl9UQUIiLCJDSEFSX0xJTkVfRkVFRCIsIkNIQVJfQ0FSUklBR0VfUkVUVVJOIiwiQ0hBUl9TUEFDRSIsIkNIQVJfRVhDTEFNQVRJT04iLCJDSEFSX0RPVUJMRV9RVU9URSIsIkNIQVJfU0hBUlAiLCJDSEFSX1BFUkNFTlQiLCJDSEFSX0FNUEVSU0FORCIsIkNIQVJfU0lOR0xFX1FVT1RFIiwiQ0hBUl9BU1RFUklTSyIsIkNIQVJfQ09NTUEiLCJDSEFSX01JTlVTIiwiQ0hBUl9DT0xPTiIsIkNIQVJfRVFVQUxTIiwiQ0hBUl9HUkVBVEVSX1RIQU4iLCJDSEFSX1FVRVNUSU9OIiwiQ0hBUl9DT01NRVJDSUFMX0FUIiwiQ0hBUl9MRUZUX1NRVUFSRV9CUkFDS0VUIiwiQ0hBUl9SSUdIVF9TUVVBUkVfQlJBQ0tFVCIsIkNIQVJfR1JBVkVfQUNDRU5UIiwiQ0hBUl9MRUZUX0NVUkxZX0JSQUNLRVQiLCJDSEFSX1ZFUlRJQ0FMX0xJTkUiLCJDSEFSX1JJR0hUX0NVUkxZX0JSQUNLRVQiLCJFU0NBUEVfU0VRVUVOQ0VTIiwiREVQUkVDQVRFRF9CT09MRUFOU19TWU5UQVgiLCJERVBSRUNBVEVEX0JBU0U2MF9TWU5UQVgiLCJjb21waWxlU3R5bGVNYXAiLCJlbmNvZGVIZXgiLCJjaGFyYWN0ZXIiLCJRVU9USU5HX1RZUEVfU0lOR0xFIiwiUVVPVElOR19UWVBFX0RPVUJMRSIsIlN0YXRlIiwiaW5kZW50U3RyaW5nIiwic3BhY2VzIiwiaW5kIiwibmV4dCIsImdlbmVyYXRlTmV4dExpbmUiLCJ0ZXN0SW1wbGljaXRSZXNvbHZpbmciLCJpc1doaXRlc3BhY2UiLCJpc1ByaW50YWJsZSIsImlzTnNDaGFyT3JXaGl0ZXNwYWNlIiwiaXNQbGFpblNhZmUiLCJwcmV2IiwiaW5ibG9jayIsImNJc05zQ2hhck9yV2hpdGVzcGFjZSIsImNJc05zQ2hhciIsImlzUGxhaW5TYWZlRmlyc3QiLCJpc1BsYWluU2FmZUxhc3QiLCJjb2RlUG9pbnRBdCIsImZpcnN0IiwibmVlZEluZGVudEluZGljYXRvciIsImxlYWRpbmdTcGFjZVJlIiwiU1RZTEVfUExBSU4iLCJTVFlMRV9TSU5HTEUiLCJTVFlMRV9MSVRFUkFMIiwiU1RZTEVfRk9MREVEIiwiU1RZTEVfRE9VQkxFIiwiY2hvb3NlU2NhbGFyU3R5bGUiLCJzaW5nbGVMaW5lT25seSIsImluZGVudFBlckxldmVsIiwibGluZVdpZHRoIiwidGVzdEFtYmlndW91c1R5cGUiLCJxdW90aW5nVHlwZSIsImZvcmNlUXVvdGVzIiwiY2hhciIsInByZXZDaGFyIiwiaGFzTGluZUJyZWFrIiwiaGFzRm9sZGFibGVMaW5lIiwic2hvdWxkVHJhY2tXaWR0aCIsInByZXZpb3VzTGluZUJyZWFrIiwicGxhaW4iLCJ3cml0ZVNjYWxhciIsImlza2V5IiwiaW5kZW50IiwidGVzdEFtYmlndWl0eSIsImJsb2NrSGVhZGVyIiwiZHJvcEVuZGluZ05ld2xpbmUiLCJmb2xkU3RyaW5nIiwiZXNjYXBlU3RyaW5nIiwiaW5kZW50SW5kaWNhdG9yIiwiY2xpcCIsImtlZXAiLCJjaG9tcCIsIndpZHRoIiwibGluZVJlIiwibmV4dExGIiwiZm9sZExpbmUiLCJwcmV2TW9yZUluZGVudGVkIiwibW9yZUluZGVudGVkIiwiYnJlYWtSZSIsImN1cnIiLCJlc2NhcGVTZXEiLCJ3cml0ZUZsb3dTZXF1ZW5jZSIsIndyaXRlTm9kZSIsIndyaXRlQmxvY2tTZXF1ZW5jZSIsIndyaXRlRmxvd01hcHBpbmciLCJvYmplY3RLZXlMaXN0Iiwib2JqZWN0S2V5Iiwib2JqZWN0VmFsdWUiLCJwYWlyQnVmZmVyIiwid3JpdGVCbG9ja01hcHBpbmciLCJleHBsaWNpdFBhaXIiLCJkZXRlY3RUeXBlIiwiYmxvY2siLCJpc2Jsb2Nrc2VxIiwidGFnU3RyIiwib2JqZWN0T3JBcnJheSIsImR1cGxpY2F0ZUluZGV4IiwiZHVwbGljYXRlIiwiZ2V0RHVwbGljYXRlUmVmZXJlbmNlcyIsIm9iamVjdHMiLCJkdXBsaWNhdGVzSW5kZXhlcyIsImluc3BlY3ROb2RlIiwiZHVtcCQxIiwiZHVtcF8xIiwiZHVtcGVyIiwiREVGQVVMVF9TQ0hFTUEiLCJsb2FkIiwiZHVtcCIsIk1NX1VJRF9LRVkiLCJzcGxpdEZyb250bWF0dGVyIiwiZW5kSWR4IiwiYm9keSIsInBhcnNlRnJvbnRtYXR0ZXIiLCJmcm9udE1hdHRlclRleHQiLCJwYXJzZWQiLCJ5YW1sLmxvYWQiLCJkdW1wRnJvbnRtYXR0ZXIiLCJ5YW1sLmR1bXAiLCJ5YW1sLkRFRkFVTFRfU0NIRU1BIiwicmVhZE1tVWlkIiwidmFsIiwibW0iLCJ3cml0ZU1tVWlkIiwiZm1PYmoiLCJTeW5jU3RhdHVzIiwiU3luY1N0YXR1c01hbmFnZXIiLCJncmFwaGl0aVNlcnZpY2UiLCJzb3VyY2VfZGVzY3JpcHRpb24iLCJxdWV1ZUl0ZW0iLCJGcm9udG1hdHRlclV0aWxzLnJlYWRNbVVpZCIsInN5bmNUeXBlSW5mbyIsIm90aGVyRGF0YWJhc2VzIiwic3luY1Jlc3VsdCIsImFic29sdXRlRmlsZVBhdGgiLCJOb3RpY2UiLCJyZWdpc3RyeUVycm9yIiwicHJvdmlkZWRNbVVpZCIsImV4aXN0aW5nTW1VaWQiLCJuZXdNbVVpZCIsInN5bmNlZFRpbWUiLCJGcm9udG1hdHRlclV0aWxzLndyaXRlTW1VaWQiLCJlcGlzb2RlSWQiLCJyYW5kb20iLCJmYWxsYmFja0lkIiwiZW5kSW5kZXgiLCJib2R5Q29udGVudCIsInlhbWwiLCJpbnB1dFBhdGgiLCJhYnNvbHV0ZVBhdGgiLCJ1bmlxdWVQYXJ0cyIsIk1DUEZvbGRlclJlc29sdmVyIiwibm90ZVR5cGUiLCJpc1ZhbGlkIiwibm9ybWFsaXplZCIsImZvbGRlckV4aXN0cyIsInNlZ21lbnRzIiwiY3VycmVudFBhdGgiLCJjcmVhdGVkQW55IiwiZXhpc3RzTm93IiwiVVZfVkVSU0lPTiIsIlVWX1VSTFMiLCJVVl9DSEVDS1NVTVMiLCJQeXRob25JbnN0YWxsZXIiLCJhcHBEYXRhIiwidmVudlBhdGgiLCJ2ZW52UHl0aG9uUGF0aCIsInN5c3RlbVB5dGhvbiIsInV2SW5zdGFsbGVkIiwiZGF0YUpzb25QeXRob24iLCJ2ZW52RXhpc3RzIiwidmVudlZhbGlkIiwiZ3JhcGhpdGlJbnN0YWxsZWQiLCJtaXNtYXRjaCIsIm1ldGhvZCIsIm9uUHJvZ3Jlc3MiLCJoYXNTcGFjZSIsImZzUHJvbWlzZXMiLCJweXRob25QYXRoIiwiY2FuZGlkYXRlcyIsImNhbmRpZGF0ZSIsInZlcnNpb25TdHIiLCJiYXNlUHl0aG9uIiwiaG9tZSIsIm9zIiwicGxhdGZvcm0iLCJ1dlBhdGgiLCJiaW5EaXIiLCJhcmNoIiwidXJsIiwiaXNaaXAiLCJkb3dubG9hZFBhdGgiLCJleHBlY3RlZENoZWNrc3VtIiwiY29tbWFuZCIsImNoaWxkIiwic3Rkb3V0Iiwic3RkZXJyIiwiZGVzdFBhdGgiLCJodHRwcyIsImZpbGVTeXN0ZW0iLCJmaWxlU3RyZWFtIiwiemlwUGF0aCIsImRlc3REaXIiLCJleGVjIiwicHJvbWlzaWZ5IiwiZXhlY0FzeW5jIiwidGFyUGF0aCIsImV4cGVjdGVkU2hhMjU2IiwiaGFzaCIsImNyeXB0byIsInN0cmVhbSIsInRhcmdldFBhdGgiLCJyZXF1aXJlZE1CIiwiY2hlY2tQYXRoIiwiZHJpdmUiLCJmcmVlU3BhY2UiLCJoYXNFbm91Z2hTcGFjZSIsInJlcVBhdGgiLCJ2ZXJzaW9uIiwidmVudkJpbkRpciIsIkdyYXBoaXRpU2VydmljZSIsInN5bmNTdGF0dXNNYW5hZ2VyIiwibmV3VmF1bHRJZCIsIm5vdGVzUGF0aHMiLCJub3Rlc1RvU3luYyIsInRyaWdnZXJUeXBlIiwibm90ZXNGb3JTeW5jIiwicHJvZ3Jlc3MiLCJicmlkZ2VQYXRoIiwiaW5zdGFsbFBhdGgiLCJweXRob25DbWQiLCJweXRob25FbnYiLCJvdXRwdXRCdWZmZXIiLCJlcnJvckJ1ZmZlciIsImxhc3RQcm9ncmVzc1RpbWUiLCJlcnJvck1zZyIsInRpbWVvdXRJZCIsImN1cnJlbnRFbWJlZGRpbmdNb2RlbCIsImRldGFpbHMiLCJlbWJlZGRpbmdWYWxpZGF0aW9uRXJyb3IiLCJ2YWxpZGF0aW9uIiwic3luY0NvbmZpZyIsInByb2Nlc3NlZENvdW50Iiwic2tpcHBlZENvdW50Iiwibm90ZVJlc3VsdHMiLCJyZWxhdGl2ZVBhdGgiLCJub3RlRmlsZSIsImZpbmFsU3RhdHVzIiwiZmluYWxSZXN1bHQiLCJub3RlU3VtbWFyaWVzIiwibiIsInBhdGhWYWwiLCJzdGF0dXNWYWwiLCJlcGlzb2RlVmFsIiwic3VtbWFyeSIsImF2YWlsYWJsZVR5cGVzIiwiYXZhaWxhYmxlVGFncyIsInBhdGhTZWdtZW50cyIsImhhbGZMZW5ndGgiLCJpc0R1cGxpY2F0ZWQiLCJqIiwicGF0dGVybkxlbmd0aCIsInZhdWx0UGF0aHMiLCJzdGFydFRpbWUiLCJwZXJmb3JtYW5jZSIsImN1cnJlbnRWYXVsdElkIiwiY2FjaGVkIiwicmVzb2x2ZWRQYXRocyIsImR1cmF0aW9uIiwiYWN0aXZlVmF1bHQiLCJub3JtYWxpemVkVmF1bHRQYXRoIiwiYnJpZGdlRGlyIiwic3RhbmRhcmRQbHVnaW5QYXRoIiwic3RhbmRhcmRCcmlkZ2VQYXRoIiwiZGV2UHJvamVjdFBhdGgiLCJkZXZCcmlkZ2VQYXRoIiwidmF1bHRCcmlkZ2VQYXRoIiwicGx1Z2luSW5zdGFsbERpciIsIm1hbmlmZXN0UGF0aCIsIm1hbmlmZXN0QnJpZGdlUGF0aCIsImNmZyIsInNhbml0aXplZCIsImFjYyIsImRiQ29uZmlnIiwiZmluYWxWYXVsdFBhdGgiLCJjdXJyZW50U2V0dGluZ3MiLCJwcmV2aW91c19lcGlzb2RlX3V1aWRzIiwicnVuU2luZ2xlU3luYyIsInNpbmdsZUNvbmZpZyIsIm91dCIsImRpYWdub3N0aWMiLCJwYXJzZUVyciIsIm5vdGVQYXRoRm9yR3JvdXAiLCJncm91cElkT3ZlcnJpZGUiLCJyZXRyeUFmdGVyIiwicmVzZXRUaW1lIiwicHJvdmlkZXJNZXNzYWdlIiwicGF1c2VNZXNzYWdlIiwicmVzZXREYXRlIiwidHJ1bmNhdGVkU3RkZXJyIiwic2tpcHBlZCIsIm5vZGVUeXBlc0xvYWRlZCIsImVkZ2VUeXBlc0xvYWRlZCIsInJlc3VsdFdyYXBwZXIiLCJtYXhEZWxheSIsImVyck1zZyIsImRhZW1vbkJyaWRnZSIsInBhcnNlZFJlc3VsdCIsInRlc3RUeXBlIiwidGVzdFNjcmlwdCIsInZhbGlkYXRpb25SZXN1bHRzIiwibGxtQXBpS2V5IiwiZW1iZWRkZXJBcGlLZXkiLCJoYXNDaGFuZ2VkIiwibWlzbWF0Y2hEZXRhaWxzIiwid2FybmluZ01lc3NhZ2UiLCJwcm9jZXNzaW5nVGltZSIsInRvdGFsQ291bnQiLCJiYXRjaENvdW50IiwiZmlyc3ROb3RlIiwiZXBpc29kZU5hbWUiLCJlbnRpdHlOYW1lIiwiYXZhaWxhYmxlRW50aXR5VHlwZXMiLCJhZGRlZENvdW50IiwidXBkYXRlZENvdW50IiwiZXhpc3RpbmciLCJwcm9wZXJ0eSIsImRlZmF1bHREZXNjcmlwdGlvbiIsInRvdGFsQWNjZXNzZXMiLCJoaXRSYXRpbyIsImNhY2hlU2l6ZSIsImVzdGltYXRlZE1lbW9yeVVzYWdlS0IiLCJtY3BTZXJ2ZXJQYXRoIiwidGltZW91dCIsInNpZ25hbCIsInBpZCIsImdyYWNlZnVsVGltZW91dCIsImRhdGFKc29uUGF0aCIsImNsYXVkZUNvbmZpZ0RpciIsImNsYXVkZUNvbmZpZ1BhdGgiLCJQeXRob25EYWVtb25CcmlkZ2UiLCJ2YXVsdFJlZ2lzdHJ5IiwiZGFlbW9uU2NyaXB0IiwiZW52Iiwic3RhcnR1cENvbXBsZXRlIiwic3RhcnR1cFRpbWVvdXQiLCJxdWV1ZWRDb21tYW5kIiwicHJvYyIsInJlc3BvbnNlQnVmZmVyIiwicmVzcG9uc2VSZWNlaXZlZCIsIm9uRGF0YSIsImNvbW1hbmRKc29uIiwiY21kIiwicHJvY2Vzc1JlZiIsInNodXRkb3duQ29tbWFuZCIsIm1hbmlmZXN0RGlyIiwiZmFsbGJhY2tQYXRoIiwidmF1bHRQbHVnaW5QYXRoIiwibm9vcCIsInJ1biIsImJsYW5rX29iamVjdCIsInJ1bl9hbGwiLCJmbnMiLCJpc19mdW5jdGlvbiIsInRoaW5nIiwic2FmZV9ub3RfZXF1YWwiLCJpc19lbXB0eSIsImFwcGVuZCIsIm5vZGUiLCJpbnNlcnQiLCJhbmNob3IiLCJkZXRhY2giLCJkZXN0cm95X2VhY2giLCJpdGVyYXRpb25zIiwiZGV0YWNoaW5nIiwiZWxlbWVudCIsInN2Z19lbGVtZW50Iiwic3BhY2UiLCJlbXB0eSIsImxpc3RlbiIsImhhbmRsZXIiLCJzdG9wX3Byb3BhZ2F0aW9uIiwiYXR0ciIsImF0dHJpYnV0ZSIsInNldF9kYXRhIiwic2V0X2lucHV0X3ZhbHVlIiwic2V0X3N0eWxlIiwiaW1wb3J0YW50Iiwic2VsZWN0X29wdGlvbiIsInNlbGVjdCIsIm1vdW50aW5nIiwib3B0aW9uIiwic2VsZWN0X3ZhbHVlIiwic2VsZWN0ZWRfb3B0aW9uIiwiY3VycmVudF9jb21wb25lbnQiLCJzZXRfY3VycmVudF9jb21wb25lbnQiLCJjb21wb25lbnQiLCJnZXRfY3VycmVudF9jb21wb25lbnQiLCJvbk1vdW50Iiwib25EZXN0cm95IiwiZGlydHlfY29tcG9uZW50cyIsImJpbmRpbmdfY2FsbGJhY2tzIiwicmVuZGVyX2NhbGxiYWNrcyIsImZsdXNoX2NhbGxiYWNrcyIsInJlc29sdmVkX3Byb21pc2UiLCJ1cGRhdGVfc2NoZWR1bGVkIiwic2NoZWR1bGVfdXBkYXRlIiwiZmx1c2giLCJhZGRfcmVuZGVyX2NhbGxiYWNrIiwic2Vlbl9jYWxsYmFja3MiLCJmbHVzaGlkeCIsInNhdmVkX2NvbXBvbmVudCIsInVwZGF0ZSIsImNhbGxiYWNrIiwiJCQiLCJkaXJ0eSIsImZsdXNoX3JlbmRlcl9jYWxsYmFja3MiLCJmaWx0ZXJlZCIsInRhcmdldHMiLCJvdXRyb2luZyIsIm91dHJvcyIsImdyb3VwX291dHJvcyIsImNoZWNrX291dHJvcyIsInRyYW5zaXRpb25faW4iLCJsb2NhbCIsInRyYW5zaXRpb25fb3V0IiwiZW5zdXJlX2FycmF5X2xpa2UiLCJhcnJheV9saWtlX29yX2l0ZXJhdG9yIiwiY3JlYXRlX2NvbXBvbmVudCIsIm1vdW50X2NvbXBvbmVudCIsImZyYWdtZW50IiwiYWZ0ZXJfdXBkYXRlIiwibmV3X29uX2Rlc3Ryb3kiLCJkZXN0cm95X2NvbXBvbmVudCIsIm1ha2VfZGlydHkiLCJpbml0IiwiaW5zdGFuY2UiLCJjcmVhdGVfZnJhZ21lbnQiLCJub3RfZXF1YWwiLCJwcm9wcyIsImFwcGVuZF9zdHlsZXMiLCJwYXJlbnRfY29tcG9uZW50IiwicmVhZHkiLCJyZXQiLCJyZXN0Iiwibm9kZXMiLCJTdmVsdGVDb21wb25lbnQiLCJfX3B1YmxpY0ZpZWxkIiwiY2FsbGJhY2tzIiwiUFVCTElDX1ZFUlNJT04iLCJjdHgiLCJzcGFuIiwiaWNvbiIsIiQkcHJvcHMiLCJzaXplIiwiZXh0cmFDbGFzc2VzIiwiaWNvbkVsIiwib2JzZXJ2ZXIiLCJzaXplQ2xhc3NlcyIsInVwZGF0ZUljb24iLCJzZXRJY29uIiwiJCRpbnZhbGlkYXRlIiwibXV0YXRpb25zIiwibXV0YXRpb24iLCIkJHZhbHVlIiwiY2hpbGRfY3R4IiwiY29uc3RhbnRzXzEiLCJjb25zdGFudHNfMCIsImNvbnN0YW50c18zIiwiY29uc3RhbnRzXzQiLCJfaSIsIl9sIiwiX2siLCJfaiIsImdldENvbXBsaWFuY2VTdGF0cyIsInN1bSIsInQxX3ZhbHVlIiwidDEiLCJjcmVhdGVfaWZfYmxvY2tfNDciLCJnZXRfaWZfY3R4IiwiY3JlYXRlX2lmX2Jsb2NrXzQ0IiwiZGl2OCIsImRpdjEiLCJoMzAiLCJwMCIsImRpdjAiLCJidXR0b24wIiwiYnV0dG9uMSIsImJ1dHRvbjIiLCJidXR0b24zIiwic3BhbjAiLCJkaXY3IiwiaDMxIiwiZGl2NiIsImRpdjMiLCJoNCIsImRpdjIiLCJidXR0b240Iiwic3BhbjEiLCJkaXY0IiwiZGl2NSIsImNyZWF0ZV9pZl9ibG9ja180OCIsInNwYW4yIiwic3BhbjQiLCJzcGFuNiIsImgzIiwic3BhbjMiLCJzcGFuNSIsInNwYW43IiwiaWZfYmxvY2siLCJidXR0b24iLCJkaXYiLCJjdXJyZW50IiwiZWFjaF9ibG9ja3MiLCJ0X3ZhbHVlIiwidGV4dGFyZWEiLCJidXR0b25fdGl0bGVfdmFsdWUiLCJ0MF92YWx1ZSIsInQ5X3ZhbHVlIiwidDE0X3ZhbHVlIiwic2VsZWN0ZWRUeXBlIiwibGFiZWwiLCJ0MCIsInQzIiwidDNfdmFsdWUiLCJ0OSIsInQxMiIsInQxMl92YWx1ZSIsInQxNCIsInAxIiwiZGl2MTEiLCJkaXY5IiwiaW5wdXQxIiwiaW5wdXQzIiwiaW5wdXQ1IiwiZGl2MTAiLCJzdHJvbmciLCJiciIsInNwYW45IiwiY3JlYXRlX2lmX2Jsb2NrXzIxIiwiZWFjaF92YWx1ZV8xNCIsInQyX3ZhbHVlIiwidDIiLCJ0NiIsInQ2X3ZhbHVlIiwiY3JlYXRlX2lmX2Jsb2NrXzI4IiwiY3JlYXRlX2lmX2Jsb2NrXzI2IiwiY3JlYXRlX2lmX2Jsb2NrXzM4IiwiY3JlYXRlX2lmX2Jsb2NrXzM3IiwiY3JlYXRlX2lmX2Jsb2NrXzMzIiwiY3JlYXRlX2lmX2Jsb2NrXzM0IiwiY3JlYXRlX2lmX2Jsb2NrXzM1IiwiY3JlYXRlX2lmX2Jsb2NrXzM2IiwiY3JlYXRlX2lmX2Jsb2NrXzI1IiwiaW5wdXQwIiwiaW5wdXQwX2NoZWNrZWRfdmFsdWUiLCJpbnB1dDFfdmFsdWVfdmFsdWUiLCJkaXYyX2NsYXNzX3ZhbHVlIiwidDQiLCJ0NF92YWx1ZSIsIl9tIiwidDUiLCJ0NV92YWx1ZSIsInNob3dfaWZfMSIsInNob3dfaWYiLCJzaG93X2lmXzIiLCJkaXYzX2lkX3ZhbHVlIiwidDciLCJ0N192YWx1ZSIsImg1IiwiYnV0dG9uNSIsImlmX2Jsb2NrMSIsImNyZWF0ZV9pZl9ibG9ja18xNCIsInRleHRhcmVhX3ZhbHVlX3ZhbHVlIiwic3Ryb25nMCIsInN0cm9uZzEiLCJlYWNoX3ZhbHVlXzEyIiwiZ2V0UHJvcGVydHlJbmZvIiwiaW5wdXRfdmFsdWVfdmFsdWUiLCJvcHRpb24wIiwib3B0aW9uMSIsIm9wdGlvbjIiLCJvcHRpb24zIiwib3B0aW9uNCIsIm9wdGlvbjUiLCJjcmVhdGVfaWZfYmxvY2tfNSIsImVhY2hfdmFsdWVfOSIsImNyZWF0ZV9pZl9ibG9ja184Iiwic2VsZWN0MCIsInNlbGVjdDEiLCJidXR0b24wX2Rpc2FibGVkX3ZhbHVlIiwibGFiZWwwIiwibGFiZWwxIiwiZWFjaF92YWx1ZV80IiwiY3JlYXRlX2lmX2Jsb2NrXzQiLCJmdW5jXzIiLCJ0MThfdmFsdWUiLCJ0MjVfdmFsdWUiLCJjcmVhdGVfaWZfYmxvY2tfNTAiLCJjcmVhdGVfaWZfYmxvY2tfNDkiLCJnZXRfaWZfY3R4XzEiLCJpZl9ibG9jazIiLCJjcmVhdGVfaWZfYmxvY2tfNDMiLCJpZl9ibG9jazMiLCJjcmVhdGVfaWZfYmxvY2tfMTgiLCJpZl9ibG9jazQiLCJjcmVhdGVfaWZfYmxvY2tfOSIsImlmX2Jsb2NrNSIsImNyZWF0ZV9pZl9ibG9ja18yIiwiY3JlYXRlX2lmX2Jsb2NrIiwiY3JlYXRlX2lmX2Jsb2NrXzEiLCJidXR0b24yX2NsYXNzX3ZhbHVlIiwiYnV0dG9uM19jbGFzc192YWx1ZSIsImJ1dHRvbjRfY2xhc3NfdmFsdWUiLCJidXR0b241X2NsYXNzX3ZhbHVlIiwiaDIiLCJ0MTgiLCJ0MjUiLCJwcm9wRGVmIiwidG90YWwiLCJ2YWxpZCIsInByb3RlY3RlZENvdW50Iiwic2NoZW1hU2VydmljZSIsInBsdWdpblNldHRpbmdzIiwibG9hZGluZyIsImhhbmRsZVRhYkNoYW5nZSIsIm5ld1RhYiIsImFjdGl2ZVRhYiIsImV4cGFuZGVkQWNjb3JkaW9ucyIsImVkaXRpbmdFbnRpdHlEZXNjcmlwdGlvbiIsInRlbXBFbnRpdHlEZXNjcmlwdGlvbnMiLCJzaG93QWRkRWRnZUZvcm0iLCJuZXdFZGdlVHlwZU5hbWUiLCJuZXdFZGdlVHlwZURlc2NyaXB0aW9uIiwiYWRkaW5nUHJvcGVydHlUb0VkZ2UiLCJuZXdQcm9wZXJ0eU5hbWUiLCJuZXdQcm9wZXJ0eVR5cGUiLCJuZXdQcm9wZXJ0eURlc2NyaXB0aW9uIiwibmV3UHJvcGVydHlSZXF1aXJlZCIsInNob3dBZGRNYXBwaW5nRm9ybSIsIm5ld01hcHBpbmdTb3VyY2VFbnRpdHkiLCJuZXdNYXBwaW5nVGFyZ2V0RW50aXR5IiwibmV3TWFwcGluZ0FsbG93ZWRFZGdlcyIsImVkaXRpbmdNYXBwaW5nSW5kZXgiLCJ0ZW1wRWRpdE1hcHBpbmdTb3VyY2VFbnRpdHkiLCJ0ZW1wRWRpdE1hcHBpbmdUYXJnZXRFbnRpdHkiLCJ0ZW1wRWRpdE1hcHBpbmdBbGxvd2VkRWRnZXMiLCJ0b2dnbGVBY2NvcmRpb24iLCJuYXZpZ2F0ZVRvRW50aXR5UHJvcGVydGllcyIsInN0YXJ0RWRpdGluZ0VudGl0eURlc2NyaXB0aW9uIiwiZW50aXR5RGVzY3JpcHRpb25zIiwic2F2ZUVudGl0eURlc2NyaXB0aW9uIiwiY2FuY2VsRWRpdGluZ0VudGl0eURlc2NyaXB0aW9uIiwiZ2V0RW50aXR5RGVzY3JpcHRpb24iLCJoYXNEZWZhdWx0RW50aXR5RGVzY3JpcHRpb24iLCJsb2FkRGVmYXVsdEVudGl0eURlc2NyaXB0aW9uIiwiaGFzRGVmYXVsdFByb3BlcnR5RGVzY3JpcHRpb24iLCJsb2FkRGVmYXVsdFByb3BlcnR5RGVzY3JpcHRpb24iLCJwcm9wSW5kZXgiLCJ1cGRhdGVQcm9wZXJ0eSIsInNhdmVOZXdFZGdlVHlwZSIsImNhbmNlbEFkZEVkZ2VUeXBlIiwiZGVsZXRlRWRnZVR5cGUiLCJlZGdlVHlwZU5hbWUiLCJnZXRFZGdlVHlwZURlc2NyaXB0aW9uIiwicXVpY2tBZGRFZGdlVHlwZSIsImRlZmF1bHRQcm9wZXJ0aWVzIiwiYWRkUHJvcGVydHlUb0VkZ2VUeXBlIiwicmVtb3ZlUHJvcGVydHlGcm9tRWRnZVR5cGUiLCJ1cGRhdGVQcm9wZXJ0eURlc2NyaXB0aW9uIiwiaGFuZGxlRWRnZVByb3BlcnR5RGVzY3JpcHRpb25JbnB1dCIsImhhbmRsZUVkZ2VUeXBlRGVzY3JpcHRpb25JbnB1dCIsIm5ld0Rlc2NyaXB0aW9uIiwic2F2ZU5ld01hcHBpbmciLCJuZXdNYXBwaW5nIiwiY2FuY2VsQWRkTWFwcGluZyIsInJlbW92ZU1hcHBpbmciLCJfIiwidG9nZ2xlRWRnZVR5cGUiLCJxdWlja0FkZE1hcHBpbmciLCJzb3VyY2VFbnRpdHkiLCJ0YXJnZXRFbnRpdHkiLCJhbGxvd2VkRWRnZXMiLCJhZGRBbGxVbnVzZWRFZGdlVHlwZXMiLCJ1bnVzZWRFZGdlVHlwZXMiLCJwbHVnaW5SZWYiLCJhZGRBbGxTdWdnZXN0ZWRNYXBwaW5ncyIsInN1Z2dlc3RlZE1hcHBpbmdzIiwic3VnZ2VzdGlvbiIsInN0YXJ0RWRpdE1hcHBpbmciLCJzYXZlRWRpdE1hcHBpbmciLCJjYW5jZWxFZGl0TWFwcGluZyIsInRvZ2dsZUVkaXRFZGdlVHlwZSIsInJlZnJlc2hJbnRlcnZhbCIsInJlZnJlc2hTY2hlbWFzIiwicHJldmlvdXNTZXR0aW5nc1N0cmluZyIsImluaXRpYWxpemVQcm9wZXJ0eVNlbGVjdGlvbnMiLCJnZW5lcmF0ZUFsbE1vZGVscyIsImdldE1hcHBlZFByb3BlcnR5TmFtZSIsImVudGl0eU1hcHBpbmdzIiwiZ2V0T3JpZ2luYWxQcm9wZXJ0eU5hbWUiLCJjdXJyZW50TmFtZSIsIm1hcHBlZFZhbHVlIiwiaXNQcm9wZXJ0eU1hcHBlZCIsInNhdmVQcm9wZXJ0eVNlbGVjdGlvblRvUGx1Z2luIiwib3JpZ2luYWxQcm9wZXJ0eSIsIm9yaWciLCJuZWVkc1NhdmUiLCJzY2hlbWFJbmRleCIsImZpZWxkIiwiaGFuZGxlQ2hlY2tib3hDaGFuZ2UiLCJoYW5kbGVEZXNjcmlwdGlvbklucHV0Iiwic2F2ZVByb3BlcnR5RGVzY3JpcHRpb25Ub1BsdWdpbiIsImdldFByb3BlcnR5RGVzY3JpcHRpb24iLCJmYWxsYmFja0Rlc2NyaXB0aW9uIiwic2F2ZWREZXNjcmlwdGlvbiIsImFwcGx5TmFtaW5nU3VnZ2VzdGlvbiIsImdldE92ZXJhbGxDb21wbGlhbmNlU3RhdHMiLCJhbGxQcm9wZXJ0aWVzIiwiYXBwbHlBbGxTdWdnZXN0aW9ucyIsImlzRW50aXR5RW5hYmxlZCIsInRvZ2dsZUVudGl0eURlZmluaXRpb24iLCJ1cGRhdGVkRGVzY3JpcHRpb25zIiwibG9hZEFsbERlZmF1bHRFbnRpdHlEZXNjcmlwdGlvbnMiLCJsb2FkQWxsRGVmYXVsdFByb3BlcnR5RGVzY3JpcHRpb25zIiwiZW5hYmxlRGVmYXVsdFByb3BlcnRpZXMiLCJ1cGRhdGVkU2VsZWN0aW9ucyIsImlzR2xvYmFsbHlJZ25vcmVkIiwidG9nZ2xlUHJvcGVydHlEZWZpbml0aW9uIiwiaXNQcm9wZXJ0eURlZmluZWQiLCJwcm9wZXJ0eURlc2NyaXB0aW9ucyIsInNlbGVjdEFsbFByb3BlcnRpZXMiLCJkZXNlbGVjdEFsbFByb3BlcnRpZXMiLCJjbGlja19oYW5kbGVyIiwiY2xpY2tfaGFuZGxlcl8xIiwiY2xpY2tfaGFuZGxlcl8yIiwiY2xpY2tfaGFuZGxlcl8zIiwiY2xpY2tfaGFuZGxlcl80IiwiY2xpY2tfaGFuZGxlcl85IiwiY2hhbmdlX2hhbmRsZXJfMiIsImlucHV0X2hhbmRsZXIiLCJpc1Byb3BlcnR5RW5hYmxlZCIsImNsaWNrX2hhbmRsZXJfMTUiLCJjbGlja19oYW5kbGVyXzE2IiwiaW5wdXRfaGFuZGxlcl8xIiwiY2xpY2tfaGFuZGxlcl8xNyIsImlucHV0X2hhbmRsZXJfMiIsImNsaWNrX2hhbmRsZXJfMTkiLCJjbGlja19oYW5kbGVyXzIwIiwiY2xpY2tfaGFuZGxlcl8yMSIsImNsaWNrX2hhbmRsZXJfMjIiLCJjbGlja19oYW5kbGVyXzIzIiwiY2xpY2tfaGFuZGxlcl8yNCIsImNsaWNrX2hhbmRsZXJfMjUiLCJjbGlja19oYW5kbGVyXzI2IiwiY2xpY2tfaGFuZGxlcl8yNyIsImNsaWNrX2hhbmRsZXJfMjgiLCJjaGFuZ2VfaGFuZGxlcl80IiwiY2xpY2tfaGFuZGxlcl8yOSIsImNsaWNrX2hhbmRsZXJfMzAiLCJjbGlja19oYW5kbGVyXzMxIiwiY2xpY2tfaGFuZGxlcl8zMyIsImNoYW5nZV9oYW5kbGVyXzUiLCJjbGlja19oYW5kbGVyXzM2IiwiZWRnZVR5cGVzRGF0YSIsImVkZ2VUeXBlc0xpc3QiLCJlbnRpdHlUeXBlc0xpc3QiLCJhbGxFbnRpdHlUeXBlcyIsIlNDSEVNQV9NQU5BR0VSX1ZJRVdfVFlQRSIsIlNjaGVtYU1hbmFnZXJWaWV3IiwiSXRlbVZpZXciLCJsZWFmIiwiU2NoZW1hTWFuYWdlciIsImNyZWF0ZV9pZl9ibG9ja18zIiwidGFibGUiLCJ0aGVhZCIsInRib2R5IiwiYnV0dG9uX2FyaWFfbGFiZWxfdmFsdWUiLCJ0MTBfdmFsdWUiLCJidXR0b25fZGlzYWJsZWRfdmFsdWUiLCJ0ciIsInRkMCIsInRkMSIsInRkMiIsInRkMyIsInRkNCIsInRkNSIsInQxMCIsInN2ZyIsImNyZWF0ZV9pZl9ibG9ja183IiwiY3JlYXRlX2lmX2Jsb2NrXzYiLCJidXR0b24xX2NsYXNzX3ZhbHVlIiwic2hvd1N5bmNOb3RpZmljYXRpb24iLCJzeW5jVHlwZSIsIm9uQ2xvc2UiLCJub3RlU2VsZWN0aW9uU2VydmljZSIsInN5bmNJblByb2dyZXNzIiwicXVpY2tTeW5jVGFibGVEYXRhIiwidGFibGVMb2FkaW5nIiwic3luY1Byb2dyZXNzIiwibmV3Tm90ZXNDb3VudCIsImV4aXN0aW5nTm90ZXNDb3VudCIsInNraXBwZWROb3Rlc0NvdW50IiwiZXN0aW1hdGVkVGltZVJlbWFpbmluZyIsImluaXRpYWxpemVNb2RhbCIsImNvbXB1dGVRdWlja1N5bmNTdGF0cyIsImFsbFN5bmNhYmxlTm90ZXNCeVR5cGUiLCJhbGxQcml2YXRlTm90ZXMiLCJuZXdEYXRhIiwidG90YWxTeW5jQ2hlY2tzIiwic3luY2FibGVOb3Rlc0ZvclR5cGUiLCJwcml2YXRlTm90ZXNGb3JUeXBlIiwicHJpdmF0ZUNvdW50Iiwic3luY2VkU3RhdHVzUmVzdWx0cyIsImlzU3luY2VkIiwic3luY2VkQ291bnQiLCJyZWFkeVBhdGhzIiwicmVhZHlDb3VudCIsInVwZGF0ZWRQYXRocyIsInN0YXJ0Q2F0ZWdvcnlTeW5jIiwiYW5hbHl6ZVNlbGVjdGVkTm90ZXMiLCJleGVjdXRlRW5oYW5jZWRTeW5jIiwidXBkYXRlU3luY1Byb2dyZXNzIiwiYW5hbHl6ZU5vdGVzTGlzdCIsImxhdGVzdFN5bmMiLCJsYXN0TW9kaWZpZWQiLCJzeW5jU3RhcnRUaW1lIiwiZWxhcHNlZCIsImRlbGF5QWRqdXN0bWVudCIsInJlbWFpbmluZyIsImNhbmNlbFN5bmMiLCJyb3ciLCJFbmhhbmNlZFN5bmNVSSIsIk1vZGFsIiwiY29udGVudEVsIiwiU3luY01vZGFsIiwib3BlbkVuaGFuY2VkU3luY1VJIiwiZ2V0RGVmYXVsdExMTUJsb2NrcyIsImRlZmF1bHRzIiwicHJlc2V0TW9kZWwiLCJUZXh0SW5wdXRTdWdnZXN0IiwiaW5wdXRFbCIsImlucHV0U3RyIiwia2V5Ym9hcmRFdmVudCIsImlucHV0UmVjdCIsInN1Z2dlc3Rpb25FbCIsIml0ZW1zIiwiRm9sZGVyU3VnZ2VzdCIsImFic3RyYWN0RmlsZXMiLCJmb2xkZXJzIiwibG93ZXJDYXNlSW5wdXRTdHIiLCJlbCIsImlucHV0RXZlbnQiLCJjaGFuZ2VFdmVudCIsIlByb2Nlc3NEZXRlY3Rpb24iLCJweXRob25PdXRwdXQiLCJwcm9jZXNzZXMiLCJibG9ja3MiLCJzcGxpdEluZGV4IiwicGFyZW50TmFtZSIsImZvcm1hdHRlZERhdGUiLCJwYXJlbnRQaWQiLCJwYXJlbnRDbWQiLCJ3bWljRGF0ZSIsInBhcmVudEluZm8iLCJwYXJlbnRPdXRwdXQiLCJuYW1lT3V0cHV0IiwiaXNXaW5kb3dzIiwiT2xsYW1hU2VydmljZSIsImJhc2VVcmwiLCJyZXF1ZXN0VXJsIiwicmV0cnlFcnJvciIsImZvcmNlUmVmcmVzaCIsImZ1bGxNb2RlbE5hbWVzIiwicmV0cnlSZXNwb25zZSIsInJldHJ5RnVsbE5hbWVzIiwibW9kZWxOYW1lcyIsImF2YWlsYWJsZU1vZGVscyIsIm1vZGVsc1dpdGhTdGF0dXMiLCJtb2RlbE5hbWUiLCJhdmFpbGFibGUiLCJub21pY01vZGVsIiwicHJvZ3Jlc3NDYWxsYmFjayIsInJlYWRlciIsImRvd25sb2FkQ29tcGxldGUiLCJoYXNFcnJvciIsImRvbmUiLCJwYXJzZUVycm9yIiwidGltZW91dE1zIiwiaW50ZXJ2YWxNcyIsImV4YWN0TW9kZWxOYW1lIiwic3VjY2VzcyIsImFsdEVycm9yIiwiT2xsYW1hU2V0dGluZ3MiLCJsaXN0IiwibWV0YSIsInN0YXR1c0NvbnRhaW5lciIsIm9sbGFtYVNlcnZpY2UiLCJwcm9ncmVzc0RpdiIsInByb2dyZXNzQmFyIiwicHJvZ3Jlc3NGaWxsIiwic3RhdHVzVGV4dCIsInBlcmNlbnRhZ2UiLCJkcm9wZG93biIsInJlcXVlc3RlZE5hbWVzIiwiZGlzcGxheU5hbWUiLCJtb2RlbFR5cGUiLCJpc0F2YWlsYWJsZSIsInN0YXR1c0VsIiwiaWNvblNwYW4iLCJ0ZXh0U3BhbiIsIm9uQ2xpY2tIYW5kbGVyIiwiaW5zdGFsbEJ1dHRvbiIsIm1vZGVsQ291bnQiLCJyZWNvdmVyeUNvbnRhaW5lciIsInJlY292ZXJ5QnV0dG9uIiwic3RhcnRpbmdEaXYiLCJlcnJvckRpdiIsInNoZWxsIiwibW9kYWxFbCIsImNsb3NlQnRuIiwiY3VzdG9tTW9kZWxTZXR0aW5nIiwiU2V0dGluZyIsIm1vZGVsSW5wdXQiLCJkb3dubG9hZEJ1dHRvbiIsImRvd25sb2FkQnRuQ29tcCIsImhhc1ZhbHVlIiwicGVyc2lzdEVyciIsImRyb3Bkb3ducyIsInBhcmVudENvbnRhaW5lciIsImN1cnJlbnRWYWx1ZSIsIm9wdCIsIk1DUFRvb2xTZXR0aW5ncyIsImNiIiwic2F2ZUVycm9yIiwic2V0dXBFcnJvciIsInRlbXBsYXRlckRldGVjdGVkIiwidGVtcGxhdGVyRW5hYmxlZCIsInRlbXBsYXRlclNldHRpbmciLCJzdGF0dXNJY29uIiwidG9nZ2xlIiwicGVyaW9kaWNOb3Rlc0RldGVjdGVkIiwicGVyaW9kaWNOb3Rlc0VuYWJsZWQiLCJwZXJpb2RpY05vdGVzU2V0dGluZyIsInBlcmlvZGljRXJyb3IiLCJ0b29sc0NvbnRhaW5lciIsImdyYXBoaXRpSGVhZGVyIiwidG9vbCIsInRvb2xJdGVtIiwidG9vbE5hbWUiLCJ0b29sRGVzYyIsIm9ic2lkaWFuSGVhZGVyIiwicGx1Z2luTmFtZSIsIkRlcGVuZGVuY3lTdGF0dXNNb2RhbCIsImluc3RhbGxlciIsIm9uQ29tcGxldGUiLCJsb2dDb250YWluZXIiLCJpbnN0YWxsT3B0aW9uc0NvbnRhaW5lciIsInN5c3RlbU9wdGlvbiIsInV2T3B0aW9uIiwiYnV0dG9uQ29udGFpbmVyIiwiaXRlbUVsIiwid2FybmluZ0VsIiwic3RhdHVzTXNnIiwicGVyY2VudCIsImxvZ01lc3NhZ2UiLCJHcmFwaGl0aVNldHRpbmdzVGFiIiwiUGx1Z2luU2V0dGluZ1RhYiIsImNvbnRhaW5lckVsIiwidGl0bGUiLCJjb250ZW50Q2FsbGJhY2siLCJkZWZhdWx0T3BlbiIsImFjY29yZGlvbkNvbnRhaW5lciIsImhlYWRlciIsInRpdGxlU3BhbiIsImNvbnRyb2xzV3JhcCIsInNhdmVkIiwiaXNPcGVuSW5pdGlhbCIsImFycm93IiwiZXZ0IiwibmV3SXNPcGVuIiwiYWxsUHJvdmlkZXJzIiwicHJvdmlkZXJOYW1lIiwib2xsYW1hU2V0dGluZyIsIm9sbGFtYVN0YXR1c0NvbnRhaW5lciIsImRpbSIsIm1lcmdlQmxvY2siLCJ0YXJnZXRLZXkiLCJzcmNCbG9jayIsInByb3ZpZGVyVGFyZ2V0IiwicHJvdmlkZXJTcmMiLCJsbG1Nb2RlbFNldHRpbmciLCJsbG1TdGF0dXNDb250YWluZXIiLCJpc0luc3RhbGxlZCIsInRleHRFbCIsImxsbVNtYWxsU2V0dGluZyIsImxsbVNtYWxsU3RhdHVzQ29udGFpbmVyIiwicHJlc2V0U2x1ZyIsIm9yaWdpbmFsVGV4dCIsInByZXNldE1ldGEiLCJjcm9zc0VuY29kZXJNb2RlbENvbnRhaW5lciIsImNyb3NzRW5jb2Rlck1vZGVsU2V0dGluZyIsImRiVHlwZSIsInBvcnQiLCJ1cGRhdGVEZXBlbmRlbmN5U3RhdHVzIiwic3lzdGVtUHl0aG9uTGluZSIsInV2TGluZSIsInZlbnZMaW5lIiwiZ3JhcGhpdGlMaW5lIiwidmVyc2lvblRleHQiLCJtaXNtYXRjaExpbmUiLCJlcnJvckxpbmUiLCJweXRob25JbnN0YWxsZXIiLCJzeW5jT3B0aW9uc0NvbnRhaW5lciIsInNlbGYiLCJzbGlkZXIiLCJuZXdGb2xkZXIiLCJuZXdGaWVsZCIsInN0cmF0ZWd5IiwiZm9sZGVyTWFwcGluZ0NvbnRhaW5lciIsIm5ld0ZvbGRlclBhdGgiLCJjdXJyZW50Rm9sZGVyUGF0aCIsImdyb3VwSWRJbnB1dCIsIm5ld0dyb3VwSWQiLCJhdmFpbGFibGVOYW1lc3BhY2VzU2V0dGluZyIsIm5hbWVzcGFjZXNEaXNwbGF5IiwidXBkYXRlTmFtZXNwYWNlc0Rpc3BsYXkiLCJuYW1lc3BhY2VzIiwiYXV0aFRva2VuU2V0dGluZyIsImNvbm5lY3Rpb25zQ29udGFpbmVyIiwiY29ubmVjdGlvbnNTdGF0dXMiLCJ1cGRhdGVDb25uZWN0aW9uc0Rpc3BsYXkiLCJjb25uZWN0aW9uVXBkYXRlSW50ZXJ2YWwiLCJpbnN0YW5jZXNDb250YWluZXIiLCJpbnN0YW5jZXNTdGF0dXMiLCJ1cGRhdGVJbnN0YW5jZXNEaXNwbGF5IiwibWNwUHJvY2Vzc2VzIiwicHJvY2Vzc0xpbmVzIiwiaW5zdGFuY2VVcGRhdGVJbnRlcnZhbCIsImJ1dHRvbkVsIiwiY29uZmlnSnNvbiIsImhlYWRlckVsIiwiZGVzY0VsIiwidGV4dEFyZWFFbCIsImJ1dHRvbkNvbnRhaW5lckVsIiwiY29weUJ0biIsImluY2x1ZGVFbXB0eSIsIm1vZGVsT3B0aW9ucyIsInNvdXJjZUtleSIsInNyYyIsImVudHJpZXMiLCJyYSIsInNldHRpbmdzTW9kZWxzIiwiZGVzYyIsInNob3J0RGVzYyIsImVTcmMiLCJ3aXRoU3RhdHVzIiwic3RhdHVzTWFwIiwiZGltcyIsInNldHRpbmciLCJkcm9wZG93bkNvbXBvbmVudCIsInByaW1hcnkiLCJzbWFsbCIsImxsbVNyYyIsInJlY29tbWVuZGVkIiwic21hbGxTcmMiLCJyZWNvbW1lbmRlZFMiLCJjaG9zZW4iLCJsYXRlbmN5VGV4dCIsInNldHRpbmdzSnNvbiIsImJsb2IiLCJpbXBvcnRlZFNldHRpbmdzIiwibW9kYWwiLCJjb25maXJtQnRuIiwiY2FuY2VsQnRuIiwiZGlzcGxheU1lc3NhZ2UiLCJtYXJrZG93bkZpbGVzIiwiZnVsbFBhdGgiLCJzZWxlY3RlZEZpbGUiLCJuZXdTdGF0dXMiLCJERUZBVUxUX1NFVFRJTkdTIiwic2FmZU5vcm1hbGl6ZSIsImNvbGxlY3RBbGxGb2xkZXJzIiwic3RhY2siLCJidWlsZEZvbGRlclRyZWUiLCJkZXB0aCIsImZvbGRlclRvSXRlbSIsImZvbGRlck1hdGNoZXNRdWVyeSIsInN0YXJ0SWR4Iiwic2VsZWN0U21hcnRGb3JtYXQiLCJHcmFwaGl0aVBsdWdpbiIsIlBsdWdpbiIsInJhd1NldHRpbmdzIiwicnMiLCJpc0VtcHR5IiwiZGlkSHlkcmF0ZSIsInRvcCIsIm5lc3RlZCIsIm5lc3RlZEEiLCJuZXN0ZWRCIiwiY291bnRzIiwid29ya3NwYWNlIiwiYWN0aXZlRmlsZSIsInZpZXciLCJleGlzdGluZ0ljb24iLCJhY3Rpb25FbCIsImN1cnJlbnRGaWxlIiwiZXJyb3JTdGF0dXMiLCJub3RlUHJlZml4Iiwic3luY0pzb25QYXRoIiwicGFyYW1zIiwiY2hvc2VuRm9ybWF0IiwiZGVwdGhMaW1pdCIsImFsbCIsInRvcENoaWxkcmVuIl0sIm1hcHBpbmdzIjoiK3FCQU9PLE1BQU1BLEVBQWUsQ0FNeEIsWUFBWUMsRUFBZ0JDLEVBQXFCLEdBQU8sQ0FKeEQsS0FBUSxvQkFBOEIsR0FFdEMsS0FBUSxjQUFnQixXQUdwQixLQUFLLE9BQVNELEVBQ2QsS0FBSyxVQUFZQyxDQUdyQixDQUVPLE1BQWEsQ0FDaEIsS0FBSywwQkFBMEIsQ0FDbkMsQ0FFUSwyQkFBa0MsQ0FDbEMsR0FBQSxDQUVJLEdBQUEsQ0FBQyxLQUFLLE9BQU8sS0FBTyxDQUFDLEtBQUssT0FBTyxJQUFJLE1BQ3JDLGNBQVEsTUFBTSxHQUFHLEtBQUssYUFBYSwyRUFBMkUsRUFDeEcsSUFBSSxNQUFNLDZEQUE2RCxFQU1qRixNQUFNQyxFQUZVLEtBQUssT0FBTyxJQUFJLE1BQU0sUUFFWixTQUdwQkMsRUFBYUMsR0FBQUEs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
